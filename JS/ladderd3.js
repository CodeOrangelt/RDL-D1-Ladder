const a33_0x2d0470=a33_0x3c09;(function(_0x23705d,_0x4cf419){const _0x44ea8b=a33_0x3c09,_0x2cf3e3=_0x23705d();while(!![]){try{const _0x47c3a2=parseInt(_0x44ea8b(0x194))/0x1*(parseInt(_0x44ea8b(0x182))/0x2)+-parseInt(_0x44ea8b(0x1b1))/0x3*(parseInt(_0x44ea8b(0x183))/0x4)+parseInt(_0x44ea8b(0x1a7))/0x5*(parseInt(_0x44ea8b(0x1d7))/0x6)+parseInt(_0x44ea8b(0x16f))/0x7*(parseInt(_0x44ea8b(0x189))/0x8)+-parseInt(_0x44ea8b(0x17e))/0x9*(parseInt(_0x44ea8b(0x185))/0xa)+-parseInt(_0x44ea8b(0x1b3))/0xb*(parseInt(_0x44ea8b(0x1a2))/0xc)+parseInt(_0x44ea8b(0x1bc))/0xd*(parseInt(_0x44ea8b(0x1db))/0xe);if(_0x47c3a2===_0x4cf419)break;else _0x2cf3e3['push'](_0x2cf3e3['shift']());}catch(_0x3dd228){_0x2cf3e3['push'](_0x2cf3e3['shift']());}}}(a33_0x3a98,0x51acc));const a33_0x5cbc15=(function(){let _0x4f7555=!![];return function(_0x599070,_0x31b729){const _0x2553d3=_0x4f7555?function(){const _0x49fd38=a33_0x3c09;if(_0x31b729){const _0xffde31=_0x31b729[_0x49fd38(0x175)](_0x599070,arguments);return _0x31b729=null,_0xffde31;}}:function(){};return _0x4f7555=![],_0x2553d3;};}()),a33_0x12b074=a33_0x5cbc15(this,function(){const _0x2cd25b=a33_0x3c09;return a33_0x12b074['toString']()['search'](_0x2cd25b(0x1b0))['toString']()[_0x2cd25b(0x1a0)](a33_0x12b074)[_0x2cd25b(0x1c6)](_0x2cd25b(0x1b0));});a33_0x12b074();const a33_0x3a12a8=(function(){let _0x29f7c5=!![];return function(_0x2ec6ac,_0x1f91db){const _0x1338e8=_0x29f7c5?function(){const _0x589afb=a33_0x3c09;if(_0x1f91db){const _0x359046=_0x1f91db[_0x589afb(0x175)](_0x2ec6ac,arguments);return _0x1f91db=null,_0x359046;}}:function(){};return _0x29f7c5=![],_0x1338e8;};}()),a33_0x52b49c=a33_0x3a12a8(this,function(){const _0x319126=a33_0x3c09;let _0x3bddfd;try{const _0x2b07fe=Function(_0x319126(0x1af)+_0x319126(0x1aa)+');');_0x3bddfd=_0x2b07fe();}catch(_0x5a7474){_0x3bddfd=window;}const _0x48c353=_0x3bddfd[_0x319126(0x19c)]=_0x3bddfd[_0x319126(0x19c)]||{},_0x128d58=[_0x319126(0x18d),_0x319126(0x1da),'info',_0x319126(0x16c),_0x319126(0x1ac),_0x319126(0x1de),'trace'];for(let _0x1d0126=0x0;_0x1d0126<_0x128d58[_0x319126(0x1c0)];_0x1d0126++){const _0x43ae55=a33_0x3a12a8['constructor']['prototype'][_0x319126(0x169)](a33_0x3a12a8),_0x1ce193=_0x128d58[_0x1d0126],_0x15ee86=_0x48c353[_0x1ce193]||_0x43ae55;_0x43ae55[_0x319126(0x17d)]=a33_0x3a12a8[_0x319126(0x169)](a33_0x3a12a8),_0x43ae55[_0x319126(0x1d1)]=_0x15ee86['toString'][_0x319126(0x169)](_0x15ee86),_0x48c353[_0x1ce193]=_0x43ae55;}});a33_0x52b49c();import{collection,getDocs,deleteDoc,doc,getDoc,query,where,updateDoc,Timestamp,onSnapshot,orderBy,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db}from'./firebase-config.js';import{getRankStyle}from'./ranks.js';import a33_0x465643 from'./firebase-idle-wrapper.js';const styleEl=document['createElement'](a33_0x2d0470(0x1df));styleEl['textContent']='\x0a\x20\x20.streak-indicator\x20{\x0a\x20\x20\x20\x20font-size:\x200.9em;\x0a\x20\x20\x20\x20color:\x20#FF4500;\x0a\x20\x20\x20\x20margin-left:\x205px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20}\x0a',document['head'][a33_0x2d0470(0x1d8)](styleEl);const playerCacheD3={'data':null,'timestamp':0x0},CACHE_DURATION=0x7530;async function displayLadderD3(_0x48d926=![]){const _0x2c18eb=a33_0x2d0470,_0xaee9b2=document['querySelector'](_0x2c18eb(0x191));if(!_0xaee9b2){console['error'](_0x2c18eb(0x1dd));return;}_0xaee9b2[_0x2c18eb(0x195)]='<tr><td\x20colspan=\x228\x22\x20class=\x22loading-cell\x22>Loading\x20D3\x20ladder\x20data...</td></tr>';try{const _0x53ec55=Date[_0x2c18eb(0x1d3)]();if(!_0x48d926&&playerCacheD3['data']&&_0x53ec55-playerCacheD3['timestamp']<CACHE_DURATION){updateLadderDisplayD3(playerCacheD3[_0x2c18eb(0x1b7)]);return;}const _0x3c14f1=collection(db,'playersD3'),_0x796ebf=await getDocs(_0x3c14f1),_0x4027da=[];_0x796ebf[_0x2c18eb(0x18f)](_0x1c8dc5=>{const _0x43d111=_0x2c18eb,_0x2622ea=_0x1c8dc5[_0x43d111(0x1b7)]();_0x2622ea[_0x43d111(0x190)]&&_0x4027da[_0x43d111(0x1ba)]({..._0x2622ea,'id':_0x1c8dc5['id'],'elo':_0x2622ea[_0x43d111(0x18b)]||0x0,'position':_0x2622ea[_0x43d111(0x19f)]||Number[_0x43d111(0x165)]});});const _0x14af47=collection(db,_0x2c18eb(0x18a)),_0x4ce44d=await getDocs(_0x14af47),_0x471884=new Map();_0x4ce44d['forEach'](_0x2d8e11=>{const _0x39c7ec=_0x2c18eb,_0x5eaf94=_0x2d8e11[_0x39c7ec(0x1b7)]();_0x5eaf94[_0x39c7ec(0x190)]&&_0x471884[_0x39c7ec(0x1ce)](_0x5eaf94[_0x39c7ec(0x190)]['toLowerCase'](),_0x5eaf94);});for(const _0x3e3527 of _0x4027da){const _0x3e28f9=_0x3e3527['username'][_0x2c18eb(0x1ab)]();if(_0x471884['has'](_0x3e28f9)){const _0x2c0466=_0x471884[_0x2c18eb(0x199)](_0x3e28f9);_0x2c0466[_0x2c18eb(0x19d)]&&(_0x3e3527[_0x2c18eb(0x19d)]=_0x2c0466[_0x2c18eb(0x19d)][_0x2c18eb(0x1ab)]());}}const _0x4219ef=_0x4027da[_0x2c18eb(0x1e4)](_0x23f97a=>_0x23f97a[_0x2c18eb(0x190)]),_0x4158d9=await fetchBatchMatchStatsD3(_0x4219ef);_0x4027da[_0x2c18eb(0x1c2)]((_0x183fd7,_0x3a343d)=>{const _0x30ef89=_0x2c18eb,_0x707f07=_0x4158d9[_0x30ef89(0x199)](_0x183fd7[_0x30ef89(0x190)])?.[_0x30ef89(0x1c4)]||0x0,_0x19f6bc=_0x4158d9['get'](_0x3a343d[_0x30ef89(0x190)])?.[_0x30ef89(0x1c4)]||0x0;if(_0x707f07===0x0!==(_0x19f6bc===0x0))return _0x707f07===0x0?0x1:-0x1;return(_0x183fd7['position']||0x3e7)-(_0x3a343d[_0x30ef89(0x19f)]||0x3e7);}),_0x4027da['forEach']((_0x46b7b8,_0x340cd1)=>{const _0x1abfb1=_0x2c18eb;_0x46b7b8[_0x1abfb1(0x19f)]=_0x340cd1+0x1;}),playerCacheD3['data']=_0x4027da,playerCacheD3[_0x2c18eb(0x160)]=_0x53ec55,updateLadderDisplayD3(_0x4027da);}catch(_0x361e41){console[_0x2c18eb(0x16c)](_0x2c18eb(0x1b6),_0x361e41),_0xaee9b2['innerHTML']=_0x2c18eb(0x1c1)+_0x361e41[_0x2c18eb(0x1b8)]+_0x2c18eb(0x188);}}function calculateStreakDays(_0x426b5e){const _0x152aaa=a33_0x2d0470;if(!_0x426b5e)return 0x0;const _0x2c9d80=_0x426b5e[_0x152aaa(0x177)](),_0x3bea37=new Date(),_0x10045f=Math[_0x152aaa(0x17b)](_0x3bea37-_0x2c9d80);return Math[_0x152aaa(0x1e0)](_0x10045f/(0x3e8*0x3c*0x3c*0x18));}async function updatePlayerPositions(_0x785611,_0x58070d){const _0x5d2ec2=a33_0x2d0470;try{const _0x4cafd1=collection(db,_0x5d2ec2(0x171)),_0x5cc04a=await getDocs(_0x4cafd1),_0x168419=[];_0x5cc04a[_0x5d2ec2(0x18f)](_0x3c1bf3=>{const _0x28aae3=_0x5d2ec2;_0x168419[_0x28aae3(0x1ba)]({'id':_0x3c1bf3['id'],..._0x3c1bf3[_0x28aae3(0x1b7)]()});});const _0x105eb2=_0x168419['find'](_0x4677c1=>_0x4677c1[_0x5d2ec2(0x190)]===_0x785611),_0x585163=_0x168419['find'](_0x2f7486=>_0x2f7486[_0x5d2ec2(0x190)]===_0x58070d);if(!_0x105eb2||!_0x585163){console[_0x5d2ec2(0x16c)](_0x5d2ec2(0x1c7));return;}if(_0x105eb2['position']>_0x585163['position']){const _0x14a348=_0x585163[_0x5d2ec2(0x19f)];for(const _0x4628c1 of _0x168419){_0x4628c1[_0x5d2ec2(0x19f)]>=_0x585163[_0x5d2ec2(0x19f)]&&_0x4628c1[_0x5d2ec2(0x19f)]<_0x105eb2[_0x5d2ec2(0x19f)]&&_0x4628c1[_0x5d2ec2(0x190)]!==_0x785611&&await updateDoc(doc(db,_0x5d2ec2(0x171),_0x4628c1['id']),{'position':_0x4628c1[_0x5d2ec2(0x19f)]+0x1});}await updateDoc(doc(db,'playersD3',_0x105eb2['id']),{'position':_0x14a348});if(_0x14a348===0x1){const _0x237a0d=doc(db,_0x5d2ec2(0x171),_0x105eb2['id']),_0x253020=await getDoc(_0x237a0d);!_0x253020[_0x5d2ec2(0x1b7)]()[_0x5d2ec2(0x18e)]&&await updateDoc(_0x237a0d,{'firstPlaceDate':Timestamp[_0x5d2ec2(0x1d3)]()});}if(_0x585163[_0x5d2ec2(0x19f)]===0x1){const _0x17c386=doc(db,_0x5d2ec2(0x171),_0x585163['id']);await updateDoc(_0x17c386,{'firstPlaceDate':null});}}}catch(_0x37382c){console[_0x5d2ec2(0x16c)](_0x5d2ec2(0x1ad),_0x37382c);}}async function updateLadderDisplayD3(_0x59a5f8){const _0x36ab2f=a33_0x2d0470;_0x59a5f8['sort']((_0x4fea96,_0x1fcd21)=>_0x4fea96['position']-_0x1fcd21[_0x36ab2f(0x19f)]);const _0x39f2ef=document['querySelector'](_0x36ab2f(0x191));if(!_0x39f2ef)return;_0x39f2ef['innerHTML']='';const _0x5dbbbb=_0x59a5f8[_0x36ab2f(0x1e4)](_0x4c7ee7=>_0x4c7ee7['username']),_0x1a5330=await fetchBatchMatchStatsD3(_0x5dbbbb),_0x4da2a7=document[_0x36ab2f(0x1e5)](_0x36ab2f(0x1cb));_0x4da2a7[_0x36ab2f(0x195)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>Rank</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>Username</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>ELO</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>Matches</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>Wins</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>Losses</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>K/D</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>Win\x20Rate</th>\x0a\x20\x20\x20\x20';const _0x11f2f2=_0x59a5f8[_0x36ab2f(0x1e4)](_0x1dcd05=>{const _0x66689d=_0x1a5330['get'](_0x1dcd05['username'])||{'totalMatches':0x0,'wins':0x0,'losses':0x0,'kda':0x0,'winRate':0x0,'totalKills':0x0,'totalDeaths':0x0};return createPlayerRowD3(_0x1dcd05,_0x66689d);})[_0x36ab2f(0x164)]('');_0x39f2ef[_0x36ab2f(0x195)]=_0x11f2f2,getPlayersLastEloChangesD3(_0x5dbbbb)['then'](_0x473cd7=>{const _0x35a685=_0x36ab2f,_0x823597=new Map();_0x39f2ef[_0x35a685(0x1c8)]('tr')[_0x35a685(0x18f)]((_0x5a4405,_0x28bfc3)=>{_0x28bfc3<_0x5dbbbb['length']&&_0x823597['set'](_0x5dbbbb[_0x28bfc3],_0x5a4405);}),_0x473cd7['forEach']((_0x1fe5d4,_0x29bd30)=>{const _0x3befba=_0x35a685,_0x2faf81=_0x823597[_0x3befba(0x199)](_0x29bd30);if(_0x2faf81&&_0x1fe5d4!==0x0){const _0x282e2a=_0x2faf81['querySelector'](_0x3befba(0x196));if(_0x282e2a){const _0x16eb83=_0x1fe5d4>0x0?'+'+_0x1fe5d4:''+_0x1fe5d4,_0x4894ac=_0x282e2a['querySelector'](_0x3befba(0x1d0));_0x4894ac&&(_0x4894ac['textContent']=_0x16eb83,_0x4894ac[_0x3befba(0x1df)][_0x3befba(0x193)]=_0x1fe5d4>0x0?'#4CAF50':'#F44336',_0x4894ac['style'][_0x3befba(0x1b2)]=_0x3befba(0x17a),_0x4894ac[_0x3befba(0x1df)][_0x3befba(0x1e3)]=_0x3befba(0x15e),_0x4894ac[_0x3befba(0x1df)][_0x3befba(0x174)]=_0x3befba(0x16a),_0x4894ac[_0x3befba(0x1df)][_0x3befba(0x1cd)]='visible',_0x4894ac[_0x3befba(0x1df)][_0x3befba(0x1c9)]='1');}}});})[_0x36ab2f(0x1a8)](_0x1dee59=>console[_0x36ab2f(0x16c)]('Error\x20updating\x20D3\x20ELO\x20trend\x20indicators:',_0x1dee59));}function a33_0x3a98(){const _0x41b96a=['newElo','log','firstPlaceDate','forEach','username','#ladder-d3\x20tbody','\x20ELO\x20change:\x20','color','8zwLacs','innerHTML','td:nth-child(3)','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','loserScore','get','pilot','%</td>\x0a\x20\x20\x20\x20</tr>','console','country','D3:\x20eloHistoryD3\x20is\x20empty,\x20trying\x20fallback...','position','constructor','#FFD700','23028waoPfC',';\x20text-decoration:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','filter','\x20entries\x20in\x20eloHistoryD3','#50C878','455heUEXM','catch','winnerScore','{}.constructor(\x22return\x20this\x22)(\x20)','toLowerCase','exception','Error\x20updating\x20D3\x20player\x20positions:','D3:\x20Fallback\x20query\x20failed:','return\x20(function()\x20','(((.+)+)+)+$','3PfADdi','fontWeight','2365RepTDp','size','Error\x20fetching\x20batch\x20match\x20stats\x20for\x20D3:','Error\x20loading\x20D3\x20ladder:','data','message','desc','push','wins','13GpcVoT',';\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22elo-container\x22\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22elo-value\x22>','.png\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22','change','length','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x228\x22\x20style=\x22text-align:\x20center;\x20color:\x20red;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20D3\x20ladder\x20data:\x20','sort','totalDeaths','totalMatches','losses','search','Could\x20not\x20find\x20winner\x20or\x20loser\x20in\x20D3\x20players\x20list','querySelectorAll','opacity','empty','#ladder-d3\x20thead\x20tr','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22profile.html?username=','visibility','set','D3:\x20Found\x20entries\x20for\x20','.trend-indicator','toString','totalKills','now','kda','D3:\x20No\x20entries\x20found\x20in\x20eloHistoryD3,\x20trying\x20fallback...','<img\x20src=\x22../images/flags/','10032ghopVP','appendChild','&ladder=d3\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22color:\x20','warn','3612756CzMNBH','D3:\x20Error\x20fetching\x20ELO\x20history:','D3\x20Ladder\x20table\x20body\x20not\x20found','table','style','ceil','from','string','fontSize','map','querySelector','entries','D3:\x20Final\x20ELO\x20changes:','D3:\x20Player\x20ID\x20mappings:','player','0.85em','toFixed','timestamp','\x20fallback\x20ELO\x20change:\x20','\x20players','approvedMatchesD3','join','MAX_SAFE_INTEGER','playerId','loserUsername','D3:\x20','bind','inline','includes','error','has','D3:\x20Found\x20','3672431QOMsUO','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22trend-indicator\x22\x20style=\x22margin-left:\x205px;\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','playersD3','gray','D3:\x20Found\x20pilot\x20entry:','display','apply','D3:\x20Looking\x20for\x20ELO\x20changes\x20for\x20users:','toDate','seconds','winRate','bold','abs','elo','__proto__','2075211zPMZGd','gameMode','\x0a\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','playerUsername','43202zWJLMG','519772qgbrHe','\x20fallback\x20entries','10wKPzxy','previousElo','eloHistoryD3','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','8GzEjgn','userProfiles','eloRating'];a33_0x3a98=function(){return _0x41b96a;};return a33_0x3a98();}async function fetchBatchMatchStatsD3(_0x1aa0a3){const _0x3fa384=a33_0x2d0470,_0x4b435f=new Map();try{const _0x26d83e=collection(db,_0x3fa384(0x163)),_0x291434=await getDocs(_0x26d83e);_0x291434['forEach'](_0x5ab5bc=>{const _0x21bd40=_0x3fa384,_0x1f9d1f=_0x5ab5bc[_0x21bd40(0x1b7)]();if(_0x1aa0a3[_0x21bd40(0x16b)](_0x1f9d1f['winnerUsername'])){const _0x3439cb=_0x1f9d1f['winnerUsername'];!_0x4b435f[_0x21bd40(0x16d)](_0x3439cb)&&_0x4b435f[_0x21bd40(0x1ce)](_0x3439cb,{'totalMatches':0x0,'wins':0x0,'losses':0x0,'totalKills':0x0,'totalDeaths':0x0,'kda':0x0,'winRate':0x0});const _0x58c425=_0x4b435f[_0x21bd40(0x199)](_0x3439cb);_0x58c425[_0x21bd40(0x1bb)]++,_0x58c425[_0x21bd40(0x1c4)]++,_0x58c425['totalKills']+=parseInt(_0x1f9d1f[_0x21bd40(0x1a9)])||0x0,_0x58c425[_0x21bd40(0x1c3)]+=parseInt(_0x1f9d1f[_0x21bd40(0x198)])||0x0;}if(_0x1aa0a3[_0x21bd40(0x16b)](_0x1f9d1f[_0x21bd40(0x167)])){const _0x5b96b9=_0x1f9d1f['loserUsername'];!_0x4b435f[_0x21bd40(0x16d)](_0x5b96b9)&&_0x4b435f['set'](_0x5b96b9,{'totalMatches':0x0,'wins':0x0,'losses':0x0,'totalKills':0x0,'totalDeaths':0x0,'kda':0x0,'winRate':0x0});const _0x338ecf=_0x4b435f[_0x21bd40(0x199)](_0x5b96b9);_0x338ecf[_0x21bd40(0x1c5)]++,_0x338ecf[_0x21bd40(0x1c4)]++,_0x338ecf['totalKills']+=parseInt(_0x1f9d1f['loserScore'])||0x0,_0x338ecf['totalDeaths']+=parseInt(_0x1f9d1f[_0x21bd40(0x1a9)])||0x0;}}),_0x4b435f[_0x3fa384(0x18f)](_0x182eb0=>{const _0x30bc0d=_0x3fa384;_0x182eb0[_0x30bc0d(0x1d4)]=_0x182eb0['totalDeaths']>0x0?(_0x182eb0[_0x30bc0d(0x1d2)]/_0x182eb0[_0x30bc0d(0x1c3)])[_0x30bc0d(0x15f)](0x2):_0x182eb0[_0x30bc0d(0x1d2)],_0x182eb0[_0x30bc0d(0x179)]=_0x182eb0[_0x30bc0d(0x1c4)]>0x0?(_0x182eb0[_0x30bc0d(0x1bb)]/_0x182eb0[_0x30bc0d(0x1c4)]*0x64)['toFixed'](0x1):0x0;});}catch(_0x3fe892){console['error'](_0x3fa384(0x1b5),_0x3fe892);}return _0x4b435f;}function a33_0x3c09(_0xe16539,_0x25cba9){const _0x54289a=a33_0x3a98();return a33_0x3c09=function(_0x52b49c,_0x3a12a8){_0x52b49c=_0x52b49c-0x15b;let _0x524707=_0x54289a[_0x52b49c];return _0x524707;},a33_0x3c09(_0xe16539,_0x25cba9);}function createPlayerRowD3(_0x17bce1,_0x36cfb9){const _0x35fc47=a33_0x2d0470,_0x1d6e22=parseFloat(_0x17bce1[_0x35fc47(0x17c)])||0x0;let _0x4c13b2=_0x35fc47(0x172);if(_0x1d6e22>=0x7d0)_0x4c13b2=_0x35fc47(0x1a6);else{if(_0x1d6e22>=0x708)_0x4c13b2=_0x35fc47(0x1a1);else{if(_0x1d6e22>=0x640)_0x4c13b2='#C0C0C0';else _0x1d6e22>=0x578&&(_0x4c13b2='#CD7F32');}}let _0x5ccd8c='';return _0x17bce1[_0x35fc47(0x19d)]&&(_0x5ccd8c=_0x35fc47(0x1d6)+_0x17bce1[_0x35fc47(0x19d)][_0x35fc47(0x1ab)]()+_0x35fc47(0x1be)+_0x17bce1['country']+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22player-flag\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>'),_0x35fc47(0x180)+_0x17bce1[_0x35fc47(0x19f)]+_0x35fc47(0x1cc)+encodeURIComponent(_0x17bce1[_0x35fc47(0x190)])+_0x35fc47(0x1d9)+_0x4c13b2+_0x35fc47(0x1a3)+_0x17bce1['username']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5ccd8c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22color:\x20'+_0x4c13b2+_0x35fc47(0x1bd)+_0x1d6e22+_0x35fc47(0x170)+_0x36cfb9[_0x35fc47(0x1c4)]+_0x35fc47(0x197)+_0x36cfb9[_0x35fc47(0x1bb)]+_0x35fc47(0x197)+_0x36cfb9[_0x35fc47(0x1c5)]+_0x35fc47(0x197)+_0x36cfb9['kda']+_0x35fc47(0x197)+_0x36cfb9[_0x35fc47(0x179)]+_0x35fc47(0x19b);}async function getPlayersLastEloChangesD3(_0x3429d7){const _0x5c7bfa=a33_0x2d0470,_0x4c14dd=new Map();_0x3429d7['forEach'](_0x831120=>_0x4c14dd['set'](_0x831120,0x0));try{console[_0x5c7bfa(0x18d)](_0x5c7bfa(0x176),_0x3429d7);const _0x5abb93=new Map(),_0x56ef74=await getDocs(collection(db,_0x5c7bfa(0x171)));_0x56ef74[_0x5c7bfa(0x18f)](_0x5a2ea9=>{const _0x4dc87a=_0x5c7bfa,_0x23d003=_0x5a2ea9['data']();_0x23d003[_0x4dc87a(0x190)]&&_0x5abb93[_0x4dc87a(0x1ce)](_0x5a2ea9['id'],_0x23d003['username']);}),console[_0x5c7bfa(0x18d)](_0x5c7bfa(0x15c),Array[_0x5c7bfa(0x1e1)](_0x5abb93[_0x5c7bfa(0x1e6)]()));const _0x382d39=collection(db,_0x5c7bfa(0x187)),_0x27c632=query(_0x382d39,orderBy(_0x5c7bfa(0x160),_0x5c7bfa(0x1b9)),limit(0x64)),_0x3709c6=await getDocs(_0x27c632);_0x3709c6[_0x5c7bfa(0x1ca)]?console[_0x5c7bfa(0x18d)](_0x5c7bfa(0x19e)):console['log']('D3:\x20Found\x20'+_0x3709c6['size']+_0x5c7bfa(0x1a5));const _0x5b8901=new Map();_0x3709c6[_0x5c7bfa(0x18f)](_0xad735c=>{const _0xefe8b0=_0x5c7bfa,_0x4f34ab=_0xad735c[_0xefe8b0(0x1b7)]();let _0x3dff50=null;if(_0x4f34ab['username'])_0x3dff50=_0x4f34ab[_0xefe8b0(0x190)];else{if(_0x4f34ab[_0xefe8b0(0x181)])_0x3dff50=_0x4f34ab[_0xefe8b0(0x181)];else{if(_0x4f34ab[_0xefe8b0(0x15d)]&&typeof _0x4f34ab[_0xefe8b0(0x15d)]===_0xefe8b0(0x1e2))_0x3dff50=_0x4f34ab['player'];else{if(_0x4f34ab['player']&&_0x5abb93[_0xefe8b0(0x16d)](_0x4f34ab[_0xefe8b0(0x15d)]))_0x3dff50=_0x5abb93[_0xefe8b0(0x199)](_0x4f34ab['player']);else _0x4f34ab[_0xefe8b0(0x166)]&&_0x5abb93['has'](_0x4f34ab[_0xefe8b0(0x166)])&&(_0x3dff50=_0x5abb93[_0xefe8b0(0x199)](_0x4f34ab['playerId']));}}}(_0x4f34ab[_0xefe8b0(0x190)]===_0xefe8b0(0x19a)||_0x4f34ab[_0xefe8b0(0x181)]===_0xefe8b0(0x19a)||_0x4f34ab[_0xefe8b0(0x15d)]&&_0x5abb93['get'](_0x4f34ab[_0xefe8b0(0x15d)])===_0xefe8b0(0x19a))&&console[_0xefe8b0(0x18d)](_0xefe8b0(0x173),_0x4f34ab),_0x3dff50&&_0x3429d7[_0xefe8b0(0x16b)](_0x3dff50)&&(!_0x5b8901[_0xefe8b0(0x16d)](_0x3dff50)&&_0x5b8901[_0xefe8b0(0x1ce)](_0x3dff50,[]),_0x5b8901['get'](_0x3dff50)[_0xefe8b0(0x1ba)]({..._0x4f34ab,'timestamp':_0x4f34ab[_0xefe8b0(0x160)]?.[_0xefe8b0(0x178)]||0x0}));}),console[_0x5c7bfa(0x18d)](_0x5c7bfa(0x1cf)+_0x5b8901[_0x5c7bfa(0x1b4)]+_0x5c7bfa(0x162)),_0x5b8901[_0x5c7bfa(0x18f)]((_0x1e6985,_0x257f01)=>{const _0x2c805c=_0x5c7bfa;if(_0x1e6985[_0x2c805c(0x1c0)]>0x0){_0x1e6985[_0x2c805c(0x1c2)]((_0x224a5c,_0x1b5025)=>_0x1b5025[_0x2c805c(0x160)]-_0x224a5c[_0x2c805c(0x160)]);const _0x2e3529=_0x1e6985['find'](_0x2739eb=>_0x2739eb[_0x2c805c(0x1bf)]!==undefined||_0x2739eb['newElo']!==undefined&&_0x2739eb[_0x2c805c(0x186)]!==undefined);if(_0x2e3529){let _0x34c855;if(_0x2e3529[_0x2c805c(0x1bf)]!==undefined)_0x34c855=_0x2e3529[_0x2c805c(0x1bf)];else _0x2e3529[_0x2c805c(0x18c)]!==undefined&&_0x2e3529[_0x2c805c(0x186)]!==undefined&&(_0x34c855=_0x2e3529[_0x2c805c(0x18c)]-_0x2e3529[_0x2c805c(0x186)]);_0x34c855!==undefined&&(_0x4c14dd[_0x2c805c(0x1ce)](_0x257f01,_0x34c855),console[_0x2c805c(0x18d)](_0x2c805c(0x168)+_0x257f01+_0x2c805c(0x192)+_0x34c855));}}});if(_0x5b8901[_0x5c7bfa(0x1b4)]===0x0){console[_0x5c7bfa(0x18d)](_0x5c7bfa(0x1d5));const _0x590c83=collection(db,'eloHistory'),_0x18077b=query(_0x590c83,where(_0x5c7bfa(0x17f),'==','D3'),orderBy(_0x5c7bfa(0x160),'desc'),limit(0x32));try{const _0x2d976b=await getDocs(_0x18077b);console[_0x5c7bfa(0x18d)](_0x5c7bfa(0x16e)+_0x2d976b['size']+_0x5c7bfa(0x184)),_0x2d976b[_0x5c7bfa(0x18f)](_0x3f9cde=>{const _0x33c2fa=_0x5c7bfa,_0x187730=_0x3f9cde['data']();let _0x2ec7dc=_0x187730[_0x33c2fa(0x190)]||_0x187730[_0x33c2fa(0x181)];!_0x2ec7dc&&_0x187730[_0x33c2fa(0x15d)]&&_0x5abb93[_0x33c2fa(0x16d)](_0x187730['player'])&&(_0x2ec7dc=_0x5abb93['get'](_0x187730['player']));if(_0x2ec7dc&&_0x3429d7[_0x33c2fa(0x16b)](_0x2ec7dc)){const _0x470470=_0x187730[_0x33c2fa(0x1bf)]||(_0x187730[_0x33c2fa(0x18c)]!==undefined&&_0x187730[_0x33c2fa(0x186)]!==undefined?_0x187730[_0x33c2fa(0x18c)]-_0x187730[_0x33c2fa(0x186)]:0x0);_0x470470!==0x0&&(_0x4c14dd[_0x33c2fa(0x1ce)](_0x2ec7dc,_0x470470),console[_0x33c2fa(0x18d)]('D3:\x20'+_0x2ec7dc+_0x33c2fa(0x161)+_0x470470));}});}catch(_0x1dc368){console['log'](_0x5c7bfa(0x1ae),_0x1dc368);}}const _0xff78f9=Array[_0x5c7bfa(0x1e1)](_0x4c14dd[_0x5c7bfa(0x1e6)]())[_0x5c7bfa(0x1a4)](([_0x31bfc9,_0x57d563])=>_0x57d563!==0x0);console[_0x5c7bfa(0x18d)](_0x5c7bfa(0x15b),_0xff78f9);}catch(_0x4ec80b){console[_0x5c7bfa(0x16c)](_0x5c7bfa(0x1dc),_0x4ec80b);}return _0x4c14dd;}export{displayLadderD3,updatePlayerPositions};