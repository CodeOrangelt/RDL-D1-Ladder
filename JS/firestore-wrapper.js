const a18_0x1b33fd=(function(){let _0x556c26=!![];return function(_0x1daf2e,_0x4f315b){const _0x1f9b5d=_0x556c26?function(){if(_0x4f315b){const _0x3e0d10=_0x4f315b['apply'](_0x1daf2e,arguments);return _0x4f315b=null,_0x3e0d10;}}:function(){};return _0x556c26=![],_0x1f9b5d;};}()),a18_0x2c77f4=a18_0x1b33fd(this,function(){const _0x5d58a6=a18_0x41d4,_0x38af96=function(){const _0x53fc1f=a18_0x41d4;let _0x1b255f;try{_0x1b255f=Function(_0x53fc1f(0x185)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x3f2b13){_0x1b255f=window;}return _0x1b255f;},_0x2602b0=_0x38af96(),_0x324deb=_0x2602b0[_0x5d58a6(0x17a)]=_0x2602b0['console']||{},_0x4a71a2=[_0x5d58a6(0x180),'warn','info','error','exception','table','trace'];for(let _0x4e6a3f=0x0;_0x4e6a3f<_0x4a71a2['length'];_0x4e6a3f++){const _0x32aa4e=a18_0x1b33fd[_0x5d58a6(0x176)]['prototype'][_0x5d58a6(0x17b)](a18_0x1b33fd),_0x475527=_0x4a71a2[_0x4e6a3f],_0x1df77c=_0x324deb[_0x475527]||_0x32aa4e;_0x32aa4e['__proto__']=a18_0x1b33fd['bind'](a18_0x1b33fd),_0x32aa4e['toString']=_0x1df77c['toString'][_0x5d58a6(0x17b)](_0x1df77c),_0x324deb[_0x475527]=_0x32aa4e;}});a18_0x2c77f4();import{collection as a18_0x234bf6,doc as a18_0x21e9b3,getDoc as a18_0x289459,getDocs as a18_0xaa14de,query as a18_0x3056c2,where as a18_0x21b54a,orderBy as a18_0x10d7e5,limit as a18_0xccc857,startAfter as a18_0x2f0b7f,addDoc as a18_0x45b9b1,updateDoc as a18_0x76020,deleteDoc as a18_0x3f563f,writeBatch as a18_0x780d42,serverTimestamp as a18_0x33df91,Timestamp as a18_0x470e91,getCountFromServer as a18_0x4b55b9,setDoc as a18_0x500180,enableNetwork,disableNetwork}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db}from'./firebase-config.js';import{handleNetworkError}from'./idle-timeout.js';function checkSessionStatus(){const _0x2ae6b2=a18_0x41d4;if(window['RDL_SESSION_SUSPENDED']){console['warn']('Firestore\x20operation\x20blocked\x20-\x20session\x20suspended');const _0x9b04e5=new Error('Session\x20suspended\x20due\x20to\x20inactivity.\x20Please\x20resume\x20your\x20session.');_0x9b04e5['code']='session-suspended';throw _0x9b04e5;}if(window['RDL_NETWORK_ERROR']){console[_0x2ae6b2(0x178)](_0x2ae6b2(0x188));const _0x5b0bf7=new Error(_0x2ae6b2(0x183));_0x5b0bf7[_0x2ae6b2(0x182)]='network-error';throw _0x5b0bf7;}}function a18_0x41d4(_0x577f76,_0x456820){const _0x2c77f4=a18_0x12f9();return a18_0x41d4=function(_0x1b33fd,_0x5c3895){_0x1b33fd=_0x1b33fd-0x176;let _0x12f9e2=_0x2c77f4[_0x1b33fd];return _0x12f9e2;},a18_0x41d4(_0x577f76,_0x456820);}async function handleFirestoreError(_0x361462){const _0xa1119c=a18_0x41d4;console['error']('Firestore\x20operation\x20failed:',_0x361462);if(_0x361462&&(_0x361462[_0xa1119c(0x182)]==='unavailable'||_0x361462['code']==='resource-exhausted'||_0x361462['message']&&_0x361462['message']['includes']('network')||_0x361462['code']&&_0x361462[_0xa1119c(0x182)]['includes']('network')))return console['warn'](_0xa1119c(0x17d)),handleNetworkError(),!![];return![];}export const rdlFirestore={'collection':function(){if(arguments['length']===0x1){if(typeof arguments[0x0]==='string')return a18_0x234bf6(db,arguments[0x0]);return arguments[0x0];}else{if(arguments['length']===0x2&&arguments[0x0]===db&&typeof arguments[0x1]==='string')return a18_0x234bf6(db,arguments[0x1]);}return a18_0x234bf6['apply'](null,arguments);},'doc':function(){const _0x4fb0af=a18_0x41d4;if(arguments[_0x4fb0af(0x17c)]===0x2){if(typeof arguments[0x0]===_0x4fb0af(0x187)&&typeof arguments[0x1]==='string')return a18_0x21e9b3(db,arguments[0x0],arguments[0x1]);return a18_0x21e9b3[_0x4fb0af(0x181)](null,arguments);}else{if(arguments[_0x4fb0af(0x17c)]===0x3&&arguments[0x0]===db)return a18_0x21e9b3[_0x4fb0af(0x181)](null,arguments);}return a18_0x21e9b3['apply'](null,arguments);},'query':function(){return a18_0x3056c2['apply'](null,arguments);},'where':function(){return a18_0x21b54a['apply'](null,arguments);},'orderBy':function(){return a18_0x10d7e5['apply'](null,arguments);},'limit':function(_0x599ae0){return a18_0xccc857(_0x599ae0);},'startAfter':function(_0x2b4c76){return a18_0x2f0b7f(_0x2b4c76);},'getDoc':async function(_0x3d4058){const _0x43a2a3=a18_0x41d4;try{return checkSessionStatus(),await a18_0x289459(_0x3d4058);}catch(_0xfa7613){const _0x2892aa=await handleFirestoreError(_0xfa7613);_0x2892aa&&(_0xfa7613[_0x43a2a3(0x182)]=_0x43a2a3(0x184));throw _0xfa7613;}},'getDocs':async function(_0x12f488){try{return checkSessionStatus(),await a18_0xaa14de(_0x12f488);}catch(_0x275ce7){const _0x30a5ae=await handleFirestoreError(_0x275ce7);_0x30a5ae&&(_0x275ce7['code']='network-error');throw _0x275ce7;}},'getCountFromServer':async function(_0x2e901a){try{return checkSessionStatus(),await a18_0x4b55b9(_0x2e901a);}catch(_0x53a978){const _0x247e09=await handleFirestoreError(_0x53a978);_0x247e09&&(_0x53a978['code']='network-error');throw _0x53a978;}},'addDoc':async function(_0x4796da,_0x1914a7){try{return checkSessionStatus(),await a18_0x45b9b1(_0x4796da,_0x1914a7);}catch(_0x16346a){const _0x599ae3=await handleFirestoreError(_0x16346a);_0x599ae3&&(_0x16346a['code']='network-error');throw _0x16346a;}},'setDoc':async function(_0x343cca,_0x3d6834,_0x45b77d){const _0x3cee4b=a18_0x41d4;try{return checkSessionStatus(),await a18_0x500180(_0x343cca,_0x3d6834,_0x45b77d);}catch(_0x3790b7){const _0x136e1d=await handleFirestoreError(_0x3790b7);_0x136e1d&&(_0x3790b7[_0x3cee4b(0x182)]='network-error');throw _0x3790b7;}},'updateDoc':async function(_0x21079a,_0x363b7d){try{return checkSessionStatus(),await a18_0x76020(_0x21079a,_0x363b7d);}catch(_0x151a19){const _0x431562=await handleFirestoreError(_0x151a19);_0x431562&&(_0x151a19['code']='network-error');throw _0x151a19;}},'deleteDoc':async function(_0x150aa6){const _0x288500=a18_0x41d4;try{return checkSessionStatus(),await a18_0x3f563f(_0x150aa6);}catch(_0x5e9507){const _0x3591ce=await handleFirestoreError(_0x5e9507);_0x3591ce&&(_0x5e9507[_0x288500(0x182)]='network-error');throw _0x5e9507;}},'writeBatch':function(){const _0x313a53=a18_0x41d4;checkSessionStatus();const _0x89b7bd=a18_0x780d42(db),_0x20788f=_0x89b7bd[_0x313a53(0x179)][_0x313a53(0x17b)](_0x89b7bd);return _0x89b7bd['commit']=async function(){try{return checkSessionStatus(),await _0x20788f();}catch(_0x4ae451){const _0x49818d=await handleFirestoreError(_0x4ae451);_0x49818d&&(_0x4ae451['code']='network-error');throw _0x4ae451;}},_0x89b7bd;},'serverTimestamp':function(){return a18_0x33df91();},'Timestamp':{'now':function(){return a18_0x470e91['now']();},'fromDate':function(_0x3dba91){const _0x486a12=a18_0x41d4;return a18_0x470e91[_0x486a12(0x186)](_0x3dba91);}},'enableNetwork':async function(){try{return await enableNetwork(db);}catch(_0x1dd62b){console['error']('Failed\x20to\x20enable\x20network:',_0x1dd62b);throw _0x1dd62b;}},'disableNetwork':async function(){const _0x4b1d8e=a18_0x41d4;try{return await disableNetwork(db);}catch(_0x5ee676){console['error'](_0x4b1d8e(0x18b),_0x5ee676);throw _0x5ee676;}}};window['addEventListener']('error',function(_0x258e89){const _0xc07eb4=a18_0x41d4;if(_0x258e89['error']){if(_0x258e89['error'][_0xc07eb4(0x182)]===_0xc07eb4(0x189))_0x258e89[_0xc07eb4(0x18a)](),console['log']('Caught\x20session\x20suspended\x20error:',_0x258e89['error']['message']);else(_0x258e89[_0xc07eb4(0x177)]['code']===_0xc07eb4(0x17e)||_0x258e89['error']['code']===_0xc07eb4(0x18c)||_0x258e89['error']['message']&&_0x258e89['error'][_0xc07eb4(0x17f)]['includes']('network')||_0x258e89[_0xc07eb4(0x177)]['code']&&_0x258e89[_0xc07eb4(0x177)]['code']['includes']('network'))&&(_0x258e89[_0xc07eb4(0x18a)](),console['log']('Caught\x20network\x20error:',_0x258e89['error'][_0xc07eb4(0x17f)]),handleNetworkError());}}),window['rdlFirestore']=rdlFirestore,console['log']('Firestore\x20wrapper\x20initialized\x20with\x20session\x20checking\x20and\x20network\x20error\x20handling');function a18_0x12f9(){const _0x8deb05=['constructor','error','warn','commit','console','bind','length','Network-related\x20error\x20detected,\x20suspending\x20operations','unavailable','message','log','apply','code','Network\x20connection\x20error.\x20Please\x20check\x20your\x20internet\x20connection.','network-error','return\x20(function()\x20','fromDate','string','Firestore\x20operation\x20blocked\x20-\x20network\x20error','session-suspended','preventDefault','Failed\x20to\x20disable\x20network:','resource-exhausted'];a18_0x12f9=function(){return _0x8deb05;};return a18_0x12f9();}