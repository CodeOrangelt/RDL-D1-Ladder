const a19_0x6ce58=a19_0x153f,a19_0x9b8757=(function(){let _0x239610=!![];return function(_0x1ddf5f,_0x59a1e5){const _0x287b2f=_0x239610?function(){if(_0x59a1e5){const _0x1b6f96=_0x59a1e5['apply'](_0x1ddf5f,arguments);return _0x59a1e5=null,_0x1b6f96;}}:function(){};return _0x239610=![],_0x287b2f;};}()),a19_0x21a375=a19_0x9b8757(this,function(){const _0x5b5a60=a19_0x153f,_0x459605=function(){let _0x5d17bb;try{_0x5d17bb=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x3c48fe){_0x5d17bb=window;}return _0x5d17bb;},_0x111a05=_0x459605(),_0x2a15ec=_0x111a05['console']=_0x111a05['console']||{},_0x36b369=['log','warn','info','error',_0x5b5a60(0x1bf),_0x5b5a60(0x1a3),'trace'];for(let _0x1e5d21=0x0;_0x1e5d21<_0x36b369['length'];_0x1e5d21++){const _0x2ae48b=a19_0x9b8757[_0x5b5a60(0x1b4)]['prototype'][_0x5b5a60(0x19b)](a19_0x9b8757),_0x1c5719=_0x36b369[_0x1e5d21],_0x2e41f8=_0x2a15ec[_0x1c5719]||_0x2ae48b;_0x2ae48b[_0x5b5a60(0x1b0)]=a19_0x9b8757['bind'](a19_0x9b8757),_0x2ae48b['toString']=_0x2e41f8['toString']['bind'](_0x2e41f8),_0x2a15ec[_0x1c5719]=_0x2ae48b;}});a19_0x21a375();import{auth,db}from'./firebase-config.js';import{handleNetworkError}from'./idle-timeout.js';import{getDoc,getDocs,collection,doc,query,where,orderBy,limit,startAfter,addDoc,setDoc,updateDoc,deleteDoc,onSnapshot,getCountFromServer,writeBatch,serverTimestamp,Timestamp}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';class FirebaseIdleWrapper{constructor(){const _0x3061c2=a19_0x153f;this[_0x3061c2(0x193)]=new Map(),this[_0x3061c2(0x1bc)]=new Map(),this['pendingTimeout']=null,this[_0x3061c2(0x194)]=0x0,this['debug']=![];}['checkSessionActive'](){const _0x92b661=a19_0x153f;if(window['RDL_SESSION_SUSPENDED']===!![])return console['log'](_0x92b661(0x1a6)),this['blockedOperations']=(this[_0x92b661(0x194)]||0x0)+0x1,this['blockedOperations']%0xa===0x0&&console['warn']('[FirebaseIdle]\x20Blocked\x20'+this['blockedOperations']+'\x20operations\x20during\x20idle\x20state'),![];if(window['RDL_NETWORK_ERROR']===!![])return console[_0x92b661(0x198)]('[FirebaseIdle]\x20Operation\x20blocked\x20-\x20network\x20error'),![];return!![];}async['safeOperation'](_0x5c3f50,_0xd0f6db,..._0x15c3df){const _0x4dae45=a19_0x153f;if(!this['checkSessionActive']()){const _0x4483a3=_0xd0f6db+'-'+Date[_0x4dae45(0x1a5)]()+'-'+Math[_0x4dae45(0x1c0)]()['toString'](0x24)['substring'](0x2,0x9);return this['pendingOperations'][_0x4dae45(0x19d)](_0x4483a3,{'operation':_0x5c3f50,'operationType':_0xd0f6db,'args':_0x15c3df}),!this['pendingTimeout']&&(this['pendingTimeout']=setTimeout(()=>{const _0x3b439d=_0x4dae45;this[_0x3b439d(0x1bc)][_0x3b439d(0x19f)](),this['pendingTimeout']=null;},0x5*0x3c*0x3e8)),null;}try{return await _0x5c3f50(..._0x15c3df);}catch(_0xcedf31){if(_0xcedf31['code']==='unavailable'||_0xcedf31[_0x4dae45(0x1a8)]==='resource-exhausted'||_0xcedf31[_0x4dae45(0x1be)]&&_0xcedf31['message']['includes'](_0x4dae45(0x1b1)))return handleNetworkError(),null;throw _0xcedf31;}}async['getDocument'](_0xd0f4e3){return this['safeOperation'](getDoc,'get',_0xd0f4e3);}async['getDocuments'](_0x47a48a){return this['safeOperation'](getDocs,'query',_0x47a48a);}async['addDocument'](_0x25e6a9,_0x5921c9){const _0x18cb78=a19_0x153f;return this[_0x18cb78(0x191)](addDoc,'add',_0x25e6a9,_0x5921c9);}async['setDocument'](_0x2905c3,_0x24f401,_0x2706d2={}){return this['safeOperation'](setDoc,'set',_0x2905c3,_0x24f401,_0x2706d2);}async['updateDocument'](_0x110f6e,_0x379782){return this['safeOperation'](updateDoc,'update',_0x110f6e,_0x379782);}async['deleteDocument'](_0x57beb8){return this['safeOperation'](deleteDoc,'delete',_0x57beb8);}[a19_0x6ce58(0x1ad)](){const _0x1544b7=a19_0x6ce58;console[_0x1544b7(0x198)]('[FirebaseIdle]\x20Suspending\x20all\x20active\x20listeners:',this['activeListeners'][_0x1544b7(0x1af)]),this['_suspendedListeners']=new Map(this['activeListeners']),this[_0x1544b7(0x193)][_0x1544b7(0x1ab)]((_0x506e68,_0x565c07)=>{const _0x2c6eeb=_0x1544b7;console['log'](_0x2c6eeb(0x1b8),_0x565c07);if(typeof _0x506e68===_0x2c6eeb(0x19c))try{_0x506e68(),console['log']('[FirebaseIdle]\x20Successfully\x20suspended\x20listener:',_0x565c07);}catch(_0x24f2bb){console['error'](_0x2c6eeb(0x1a4),_0x565c07,_0x24f2bb);}}),this[_0x1544b7(0x193)]['clear']();if(this['debug']){const _0x134484=document['createElement']('div');_0x134484['id']=_0x1544b7(0x195),_0x134484['style'][_0x1544b7(0x192)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20right:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ff5555;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x205px\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x209999;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x134484['textContent']='Firebase:\x20Suspended',document[_0x1544b7(0x1b3)]['appendChild'](_0x134484);}console[_0x1544b7(0x198)]('[FirebaseIdle]\x20All\x20listeners\x20suspended');}['resumeAllListeners'](){const _0x4fefb9=a19_0x6ce58;if(!this['_suspendedListeners']||this['_suspendedListeners']['size']===0x0){console['log'](_0x4fefb9(0x196));return;}console[_0x4fefb9(0x198)]('[FirebaseIdle]\x20Resuming\x20listeners:',this['_suspendedListeners']['size']),this['_suspendedListeners']['forEach']((_0x551434,_0x15f551)=>{const _0x33c748=_0x4fefb9;console[_0x33c748(0x198)]('[FirebaseIdle]\x20Resuming\x20listener:',_0x15f551);try{if(typeof _0x551434===_0x33c748(0x19c)){console['warn']('[FirebaseIdle]\x20Cannot\x20resume\x20listener\x20directly:',_0x15f551);return;}const {query:_0x4d90b1,callback:_0x165075,options:_0x33e572}=_0x551434;if(_0x4d90b1&&_0x165075){const _0x3e5249=onSnapshot(_0x4d90b1,_0x165075,_0x33e572||{});this['activeListeners']['set'](_0x15f551,_0x3e5249),console['log']('[FirebaseIdle]\x20Successfully\x20resumed\x20listener:',_0x15f551);}}catch(_0x29de5c){console[_0x33c748(0x197)]('[FirebaseIdle]\x20Error\x20resuming\x20listener:',_0x15f551,_0x29de5c);}}),this['_suspendedListeners']['clear']();const _0x56c6a1=document['getElementById']('firebase-suspend-indicator');_0x56c6a1&&_0x56c6a1['remove'](),console['log']('[FirebaseIdle]\x20Listeners\x20resumed');}['createListener'](_0x34840a,_0x3b0397,_0x4334f1={},_0x8e7501=null){const _0x57d12f=a19_0x6ce58,_0x3e3146=_0x8e7501||_0x57d12f(0x1ae)+Date['now']()+'_'+Math['random']()['toString'](0x24)[_0x57d12f(0x1a7)](0x2,0x9);this['debug']&&console['log']('[FirebaseIdle]\x20Creating\x20listener:\x20'+_0x3e3146);if(!this[_0x57d12f(0x19e)]())return console['log']('[FirebaseIdle]\x20Session\x20suspended,\x20not\x20creating\x20listener:\x20'+_0x3e3146),()=>{};try{const _0x1c18d2=onSnapshot(_0x34840a,_0x3b0397,_0x4334f1);return this['activeListeners']['set'](_0x3e3146,{'unsubscribe':_0x1c18d2,'query':_0x34840a,'callback':_0x3b0397,'options':_0x4334f1}),this['debug']&&(console[_0x57d12f(0x198)](_0x57d12f(0x1aa)+_0x3e3146),console[_0x57d12f(0x198)](_0x57d12f(0x1a0)+this['activeListeners']['size'])),()=>{const _0x1a7eca=_0x57d12f;this[_0x1a7eca(0x19a)]&&console['log']('[FirebaseIdle]\x20Manually\x20unsubscribing\x20listener:\x20'+_0x3e3146);try{_0x1c18d2(),this[_0x1a7eca(0x193)]['delete'](_0x3e3146),this[_0x1a7eca(0x19a)]&&(console[_0x1a7eca(0x198)]('[FirebaseIdle]\x20Listener\x20removed:\x20'+_0x3e3146),console[_0x1a7eca(0x198)]('[FirebaseIdle]\x20Active\x20listeners:\x20'+this['activeListeners']['size']));}catch(_0x5c21c5){console['error']('[FirebaseIdle]\x20Error\x20unsubscribing\x20listener\x20'+_0x3e3146+':',_0x5c21c5);}};}catch(_0x1773b6){return console['error']('[FirebaseIdle]\x20Error\x20creating\x20listener\x20'+_0x3e3146+':',_0x1773b6),()=>{};}}['executePendingOperations'](_0x1966f1=a19_0x6ce58(0x1b6)){const _0x278007=a19_0x6ce58;console[_0x278007(0x198)](_0x278007(0x1b5)+_0x1966f1+'\x20operations:\x20'+this['pendingOperations']['size']+'\x20total\x20operations');const _0x263b89=new Map(this['pendingOperations']);this['pendingOperations']['clear'](),_0x263b89['forEach']((_0x4f6fa0,_0x92bc15)=>{const _0x22c2fb=_0x278007;_0x1966f1===_0x22c2fb(0x1b6)||_0x4f6fa0['operationType']===_0x1966f1?(console[_0x22c2fb(0x198)]('Executing\x20delayed\x20'+_0x4f6fa0[_0x22c2fb(0x1b7)]+'\x20operation'),this['safeOperation'](_0x4f6fa0['operation'],_0x4f6fa0[_0x22c2fb(0x1b7)],..._0x4f6fa0['args'])[_0x22c2fb(0x1bb)](_0x1e210f=>console[_0x22c2fb(0x197)]('Error\x20executing\x20pending\x20operation:',_0x1e210f))):this['pendingOperations']['set'](_0x92bc15,_0x4f6fa0);});}['enableDebug'](_0x20f08f=!![]){const _0x466d50=a19_0x6ce58;this['debug']=_0x20f08f,console['log'](_0x466d50(0x1ba)+(_0x20f08f?_0x466d50(0x1a1):'disabled'));if(_0x20f08f){const _0x21ebc1=window['RDL_SESSION_SUSPENDED'];window[_0x466d50(0x199)]=!![],console[_0x466d50(0x198)]('[FirebaseIdle]\x20Testing\x20suspension\x20-\x20attempting\x20read...'),this[_0x466d50(0x1b2)](doc(db,_0x466d50(0x1ac),'test'))[_0x466d50(0x1a2)](_0x4cb5a9=>{const _0xf06c03=_0x466d50;console['log'](_0xf06c03(0x1a9),_0x4cb5a9);})[_0x466d50(0x1bb)](_0x594d43=>{const _0x20096a=_0x466d50;console['log'](_0x20096a(0x1bd),_0x594d43);})['finally'](()=>{console['log']('[FirebaseIdle]\x20Suspension\x20test\x20complete'),window['RDL_SESSION_SUSPENDED']=_0x21ebc1;});}}}const firebaseIdle=new FirebaseIdleWrapper();function a19_0x153f(_0x8bf36a,_0x465b81){const _0x21a375=a19_0x453c();return a19_0x153f=function(_0x9b8757,_0x4a9f8f){_0x9b8757=_0x9b8757-0x191;let _0x453c96=_0x21a375[_0x9b8757];return _0x453c96;},a19_0x153f(_0x8bf36a,_0x465b81);}export function enhanceIdleTimeout(){const _0x5e87da=a19_0x6ce58,_0x40bf92=window[_0x5e87da(0x1b9)]||function(){},_0x386bf7=window['resumeSession']||function(){};window[_0x5e87da(0x1b9)]=function(){_0x40bf92(),firebaseIdle['suspendAllListeners']();},window['resumeSession']=function(){_0x386bf7(),firebaseIdle['resumeAllListeners']();};}export default firebaseIdle;function a19_0x453c(){const _0x114b9e=['safeOperation','cssText','activeListeners','blockedOperations','firebase-suspend-indicator','[FirebaseIdle]\x20No\x20listeners\x20to\x20resume','error','log','RDL_SESSION_SUSPENDED','debug','bind','function','set','checkSessionActive','clear','[FirebaseIdle]\x20Active\x20listeners:\x20','enabled','then','table','[FirebaseIdle]\x20Error\x20suspending\x20listener:','now','[FirebaseIdle]\x20Operation\x20blocked\x20-\x20session\x20idle','substr','code','[FirebaseIdle]\x20TEST\x20FAILED\x20-\x20read\x20succeeded\x20during\x20suspension','[FirebaseIdle]\x20Listener\x20created:\x20','forEach','system','suspendAllListeners','listener_','size','__proto__','network','getDocument','body','constructor','Executing\x20pending\x20','all','operationType','[FirebaseIdle]\x20Suspending\x20listener:','suspendSession','[FirebaseIdle]\x20Debug\x20mode\x20','catch','pendingOperations','[FirebaseIdle]\x20Error\x20during\x20test\x20(expected):','message','exception','random'];a19_0x453c=function(){return _0x114b9e;};return a19_0x453c();}