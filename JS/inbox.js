const a24_0x50a49e=a24_0x33c3,a24_0x4a7529=(function(){let _0x15f57d=!![];return function(_0x3e8e6e,_0x4065e4){const _0x4f1db5=_0x15f57d?function(){if(_0x4065e4){const _0x1b6210=_0x4065e4['apply'](_0x3e8e6e,arguments);return _0x4065e4=null,_0x1b6210;}}:function(){};return _0x15f57d=![],_0x4f1db5;};}()),a24_0xbb6603=a24_0x4a7529(this,function(){const _0x3e0240=a24_0x33c3;let _0x4d17e6;try{const _0x4acbdf=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x4d17e6=_0x4acbdf();}catch(_0x806b99){_0x4d17e6=window;}const _0x217d69=_0x4d17e6['console']=_0x4d17e6[_0x3e0240(0x1dd)]||{},_0x5cb6bf=['log','warn',_0x3e0240(0x1cf),_0x3e0240(0x1db),'exception','table',_0x3e0240(0x1b9)];for(let _0x10ee34=0x0;_0x10ee34<_0x5cb6bf['length'];_0x10ee34++){const _0x50243d=a24_0x4a7529[_0x3e0240(0x1de)][_0x3e0240(0x1c2)][_0x3e0240(0x1ca)](a24_0x4a7529),_0xe96e70=_0x5cb6bf[_0x10ee34],_0x1ad546=_0x217d69[_0xe96e70]||_0x50243d;_0x50243d['__proto__']=a24_0x4a7529['bind'](a24_0x4a7529),_0x50243d['toString']=_0x1ad546[_0x3e0240(0x1f2)][_0x3e0240(0x1ca)](_0x1ad546),_0x217d69[_0xe96e70]=_0x50243d;}});a24_0xbb6603();import{auth,db}from'./firebase-config.js';import{collection,query,where,orderBy,getDocs,doc,updateDoc,onSnapshot,limit,startAfter}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';class InboxManager{constructor(){const _0x599b19=a24_0x33c3;this[_0x599b19(0x1ec)]=_0x599b19(0x1fa),this['invitations']=[],this['sentInvitations']=[],this['unsubscribe']=null,this[_0x599b19(0x1e7)]=null,this['pageSize']=0x14,this[_0x599b19(0x1d7)]=null,this['hasMore']=!![],this[_0x599b19(0x1d8)]();}async['init'](){auth['onAuthStateChanged'](_0x4e2732=>{_0x4e2732?(this['loadInvitations'](_0x4e2732['uid']),this['setupEventListeners']()):window['location']['href']='./login.html';});}['setupEventListeners'](){document['querySelectorAll']('.filter-btn')['forEach'](_0x58fbba=>{_0x58fbba['addEventListener']('click',()=>{const _0x2cd132=a24_0x33c3;document[_0x2cd132(0x1df)]('.filter-btn')['forEach'](_0x388666=>_0x388666[_0x2cd132(0x1dc)]['remove']('active')),_0x58fbba['classList']['add']('active'),this['currentFilter']=_0x58fbba['dataset']['filter'],this['renderInvitations']();});});}['loadInvitations'](_0x44ff63){const _0xa829d9=a24_0x33c3,_0x389e17=collection(db,'gameInvitations');let _0x30e687=query(_0x389e17,where(_0xa829d9(0x1f8),'==',_0x44ff63),orderBy('createdAt',_0xa829d9(0x1ea)),limit(this[_0xa829d9(0x1d5)]));this['unsubscribe']=onSnapshot(_0x30e687,_0x4eae5d=>{this['invitations']=_0x4eae5d['docs']['map'](_0xfb794c=>({'id':_0xfb794c['id'],..._0xfb794c['data']()})),this['renderInvitations'](),this['updateNotificationCount']();});let _0x239000=query(_0x389e17,where(_0xa829d9(0x1e3),'==',_0x44ff63),orderBy('createdAt',_0xa829d9(0x1ea)),limit(this[_0xa829d9(0x1d5)]));this[_0xa829d9(0x1e7)]=onSnapshot(_0x239000,_0x1a9fcd=>{const _0x17fafe=_0xa829d9;this[_0x17fafe(0x1f5)]=_0x1a9fcd['docs']['map'](_0x8eba64=>({'id':_0x8eba64['id'],..._0x8eba64['data'](),'isSent':!![]})),this['renderInvitations']();});}[a24_0x50a49e(0x1b5)](){const _0x2cd9d3=a24_0x50a49e,_0x33e3af=document['getElementById']('inbox-content');if(!_0x33e3af)return;let _0x14f7a8=[];if(this['currentFilter']==='outbox')_0x14f7a8=this['sentInvitations'];else this[_0x2cd9d3(0x1ec)]===_0x2cd9d3(0x1f1)?_0x14f7a8=[...this['invitations'],...this['sentInvitations']]['sort']((_0xa1c236,_0x56f9fe)=>{const _0x2f6cc4=_0x2cd9d3,_0x4d5fb2=_0xa1c236['createdAt']?.[_0x2f6cc4(0x1ee)]?_0xa1c236['createdAt'][_0x2f6cc4(0x1ee)]():new Date(_0xa1c236['createdAt']),_0x2349cb=_0x56f9fe[_0x2f6cc4(0x1f6)]?.['toDate']?_0x56f9fe['createdAt'][_0x2f6cc4(0x1ee)]():new Date(_0x56f9fe['createdAt']);return _0x2349cb-_0x4d5fb2;}):_0x14f7a8=this[_0x2cd9d3(0x1c7)]['filter'](_0x21a68c=>_0x21a68c['status']===this[_0x2cd9d3(0x1ec)]);if(_0x14f7a8[_0x2cd9d3(0x1b7)]===0x0){const _0x565199=this['currentFilter']==='outbox'?'sent':this[_0x2cd9d3(0x1ec)]==='all'?'':this['currentFilter'];_0x33e3af[_0x2cd9d3(0x1b6)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22empty-inbox\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-inbox\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>No\x20'+_0x565199+_0x2cd9d3(0x1d0)+(this['currentFilter']===_0x2cd9d3(0x1eb)?'Invitations\x20you\x20send\x20to\x20other\x20players\x20will\x20appear\x20here.':'When\x20other\x20players\x20invite\x20you\x20to\x20games,\x20they\x27ll\x20appear\x20here.')+_0x2cd9d3(0x1bf);return;}_0x33e3af[_0x2cd9d3(0x1b6)]=_0x14f7a8['map'](_0x538ef0=>this['createInvitationCard'](_0x538ef0))['join'](''),this['setupActionListeners']();}[a24_0x50a49e(0x1e2)](_0x3c73a8){const _0x4cfe7e=a24_0x50a49e,_0x191b28=_0x3c73a8['createdAt']?.['toDate']?_0x3c73a8[_0x4cfe7e(0x1f6)][_0x4cfe7e(0x1ee)]():new Date(_0x3c73a8[_0x4cfe7e(0x1f6)]),_0xe6561a=this[_0x4cfe7e(0x1c9)](_0x191b28),_0x3b2f07=_0x3c73a8['isSent']||![];let _0x376e85='';return _0x3c73a8['type']==='team_invite'?_0x376e85='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+_0x3c73a8['message']+_0x4cfe7e(0x1e8)+_0x3c73a8['teamData']['teamColor']+_0x4cfe7e(0x1c3)+_0x3c73a8['teamData']['proposedTeamName']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22color:\x20#888;\x20font-size:\x200.9em;\x20margin:\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Duos\x20Ladder\x20Team\x20â€¢\x20Color:\x20'+_0x3c73a8['teamData']['teamColor']+_0x4cfe7e(0x1d4):_0x376e85='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+_0x3c73a8['message']+_0x4cfe7e(0x1bf),_0x4cfe7e(0x1d3)+_0x3c73a8['status']+'\x20'+(_0x3b2f07?'sent-invitation':'')+'\x22\x20data-invitation-id=\x22'+_0x3c73a8['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-from\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3b2f07?_0x4cfe7e(0x1be)+_0x3c73a8['toUsername']:_0x3c73a8[_0x4cfe7e(0x1c6)])+_0x4cfe7e(0x1cd)+(_0x3b2f07?'<span\x20class=\x22sent-indicator\x22><i\x20class=\x22fas\x20fa-paper-plane\x22></i>\x20Sent</span>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-time\x22>'+_0xe6561a+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22status-badge\x20status-'+_0x3c73a8['status']+'\x22>'+_0x3c73a8['status']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x376e85+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x3b2f07&&_0x3c73a8['status']==='pending'?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20accept-btn\x22\x20data-action=\x22accept\x22\x20data-invitation-id=\x22'+_0x3c73a8['id']+_0x4cfe7e(0x1da)+_0x3c73a8['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20Decline\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3c73a8['type']!=='team_invite'?_0x4cfe7e(0x1c1)+_0x3c73a8['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-reply\x22></i>\x20Send\x20Message\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3b2f07&&_0x3c73a8[_0x4cfe7e(0x1f9)]==='pending'?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20cancel-btn\x22\x20data-action=\x22cancel\x22\x20data-invitation-id=\x22'+_0x3c73a8['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20Cancel\x20Invitation\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}['setupActionListeners'](){document['querySelectorAll']('.action-btn')['forEach'](_0x22e8a6=>{const _0x59f0fd=a24_0x33c3;_0x22e8a6[_0x59f0fd(0x1e4)]('click',async _0x5a56b0=>{const _0x2de45d=_0x59f0fd,_0xa96b08=_0x22e8a6['dataset'][_0x2de45d(0x1b8)],_0x11c128=_0x22e8a6['dataset']['invitationId'];_0x22e8a6['disabled']=!![];const _0x330950=_0x22e8a6[_0x2de45d(0x1b6)];_0x22e8a6[_0x2de45d(0x1b6)]=_0x2de45d(0x1bc);try{switch(_0xa96b08){case'accept':await this[_0x2de45d(0x1e6)](_0x11c128,_0x2de45d(0x1ef));break;case'decline':await this['updateInvitationStatus'](_0x11c128,_0x2de45d(0x1e5));break;case'cancel':await this['updateInvitationStatus'](_0x11c128,'cancelled');break;case'respond':this['openResponseModal'](_0x11c128);break;}}catch(_0x80905a){console[_0x2de45d(0x1db)](_0x2de45d(0x1f7)+_0xa96b08+':',_0x80905a),alert('Failed\x20to\x20'+_0xa96b08+_0x2de45d(0x1c5));}finally{_0x22e8a6['disabled']=![],_0x22e8a6['innerHTML']=_0x330950;}});});}async['updateInvitationStatus'](_0x36a1c8,_0x5ad4f6){const _0x6dc73=a24_0x50a49e;try{const _0xf2789f=this['invitations']['find'](_0x113d11=>_0x113d11['id']===_0x36a1c8);_0xf2789f&&_0xf2789f['type']==='team_invite'&&_0x5ad4f6==='accepted'&&await this['createTeamFromInvitation'](_0xf2789f);const _0x5ae102=doc(db,_0x6dc73(0x1c4),_0x36a1c8);await updateDoc(_0x5ae102,{'status':_0x5ad4f6,'respondedAt':new Date()}),_0xf2789f&&(_0xf2789f['status']=_0x5ad4f6,_0xf2789f['respondedAt']=new Date(),this[_0x6dc73(0x1b5)]());}catch(_0x353d2e){console['error']('Error\x20updating\x20invitation\x20status:',_0x353d2e);throw _0x353d2e;}}['openResponseModal'](_0xeeb581){const _0x3b4bfc=a24_0x50a49e,_0x38e628=this['invitations']['find'](_0x2e3143=>_0x2e3143['id']===_0xeeb581);if(!_0x38e628)return;const _0x5f49af=document['createElement']('div');_0x5f49af[_0x3b4bfc(0x1cb)]='modal-overlay',_0x5f49af['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Send\x20Message\x20to\x20'+_0x38e628['fromUsername']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22modal-close\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-body\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Regarding\x20invitation\x20to:\x20<strong>'+_0x38e628[_0x3b4bfc(0x1cc)]+'</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22response-message\x22\x20placeholder=\x22Type\x20your\x20message\x20here...\x22\x20rows=\x224\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20respond-btn\x22\x20id=\x22send-response\x22>Send\x20Message</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x22\x20id=\x22cancel-response\x22>Cancel</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';if(!document['getElementById'](_0x3b4bfc(0x1c0))){const _0x15f492=document['createElement']('style');_0x15f492['id']=_0x3b4bfc(0x1c0),_0x15f492['textContent']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-overlay\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20right:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.8);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-content\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#2a2a2a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2090%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20500px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-height:\x2090vh;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20overflow-y:\x20auto;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-header\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20space-between;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-close\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x201.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-body\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-body\x20textarea\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#1a1a1a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resize:\x20vertical;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-footer\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-top:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x3b4bfc(0x1e0)][_0x3b4bfc(0x1fb)](_0x15f492);}document[_0x3b4bfc(0x1d1)]['appendChild'](_0x5f49af),_0x5f49af['querySelector']('.modal-close')['addEventListener']('click',()=>_0x5f49af['remove']()),_0x5f49af['querySelector'](_0x3b4bfc(0x1ce))['addEventListener']('click',()=>_0x5f49af['remove']()),_0x5f49af[_0x3b4bfc(0x1e4)]('click',_0x913d35=>{const _0x2c05b6=_0x3b4bfc;if(_0x913d35['target']===_0x5f49af)_0x5f49af[_0x2c05b6(0x1d6)]();}),_0x5f49af['querySelector'](_0x3b4bfc(0x1f4))[_0x3b4bfc(0x1e4)]('click',()=>{const _0x4ebe66=_0x3b4bfc,_0x550052=document['getElementById']('response-message')['value']['trim']();_0x550052&&(alert('Message\x20sent!\x20(Feature\x20will\x20be\x20fully\x20implemented\x20in\x20future\x20update)'),_0x5f49af[_0x4ebe66(0x1d6)]());});}async['createTeamFromInvitation'](_0x1acaef){const _0x33de20=a24_0x50a49e;try{const {createTeam:_0x4cc9d8}=await import('./ladderduos.js'),_0x1cfd8a=await _0x4cc9d8(_0x1acaef[_0x33de20(0x1c6)],_0x1acaef['toUsername'],_0x1acaef['teamData']['proposedTeamName'],_0x1acaef[_0x33de20(0x1c8)][_0x33de20(0x1e9)]);if(!_0x1cfd8a['success'])throw new Error(_0x1cfd8a[_0x33de20(0x1db)]);alert('Team\x20\x22'+_0x1acaef['teamData']['proposedTeamName']+'\x22\x20created\x20successfully!');}catch(_0x528748){console['error'](_0x33de20(0x1f3),_0x528748);throw new Error('Failed\x20to\x20create\x20team:\x20'+_0x528748['message']);}}[a24_0x50a49e(0x1d2)](){const _0x2199d9=a24_0x50a49e,_0x59290f=this['invitations'][_0x2199d9(0x1bd)](_0x2aa51a=>_0x2aa51a[_0x2199d9(0x1f9)]==='pending')[_0x2199d9(0x1b7)],_0xfa340e=document[_0x2199d9(0x1f0)]('inbox-notification');_0xfa340e&&(_0x59290f>0x0?(_0xfa340e['style']['display']='inline-block',_0xfa340e['textContent']=_0x59290f>0x9?'9+':_0x59290f):_0xfa340e['style']['display']='none');}[a24_0x50a49e(0x1c9)](_0x5cc04e){const _0x1c3c9c=a24_0x50a49e,_0x387d6e=new Date(),_0x4b6d99=_0x387d6e-_0x5cc04e,_0x1e52fe=Math[_0x1c3c9c(0x1ba)](_0x4b6d99/(0x3e8*0x3c)),_0x47619f=Math['floor'](_0x4b6d99/(0x3e8*0x3c*0x3c)),_0x4efe44=Math['floor'](_0x4b6d99/(0x3e8*0x3c*0x3c*0x18));if(_0x1e52fe<0x1)return'Just\x20now';if(_0x1e52fe<0x3c)return _0x1e52fe+_0x1c3c9c(0x1ed);if(_0x47619f<0x18)return _0x47619f+'h\x20ago';if(_0x4efe44<0x7)return _0x4efe44+'d\x20ago';return _0x5cc04e[_0x1c3c9c(0x1bb)]();}[a24_0x50a49e(0x1e1)](){const _0x594838=a24_0x50a49e;this['unsubscribe']&&this['unsubscribe'](),this['sentUnsubscribe']&&this[_0x594838(0x1e7)]();}}function a24_0x33c3(_0x586741,_0x172999){const _0xbb6603=a24_0x85c9();return a24_0x33c3=function(_0x4a7529,_0x25f870){_0x4a7529=_0x4a7529-0x1b5;let _0x85c962=_0xbb6603[_0x4a7529];return _0x85c962;},a24_0x33c3(_0x586741,_0x172999);}function a24_0x85c9(){const _0x4a0d16=['renderInvitations','innerHTML','length','action','trace','floor','toLocaleDateString','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','filter','To:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-styles','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20respond-btn\x22\x20data-action=\x22respond\x22\x20data-invitation-id=\x22','prototype',';\x20margin:\x200\x200\x200.5rem\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','gameInvitations','\x20invitation.\x20Please\x20try\x20again.','fromUsername','invitations','teamData','getTimeAgo','bind','className','value','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#cancel-response','info','\x20invitations</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','body','updateNotificationCount','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-card\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pageSize','remove','lastDoc','init','DOMContentLoaded','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20Accept\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20decline-btn\x22\x20data-action=\x22decline\x22\x20data-invitation-id=\x22','error','classList','console','constructor','querySelectorAll','head','destroy','createInvitationCard','fromUserId','addEventListener','declined','updateInvitationStatus','sentUnsubscribe','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22team-invite-preview\x22\x20style=\x22background:\x20#1a1a1a;\x20padding:\x201rem;\x20border-radius:\x204px;\x20margin:\x200.5rem\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20style=\x22color:\x20','teamColor','desc','outbox','currentFilter','m\x20ago','toDate','accepted','getElementById','all','toString','Error\x20creating\x20team:','#send-response','sentInvitations','createdAt','Error\x20performing\x20','toUserId','status','pending','appendChild'];a24_0x85c9=function(){return _0x4a0d16;};return a24_0x85c9();}document['addEventListener'](a24_0x50a49e(0x1d9),()=>{new InboxManager();});