function a20_0x12c0(_0x2683c4,_0x16b486){const _0x2fcca3=a20_0x4ff7();return a20_0x12c0=function(_0x1047c9,_0x1cf5b9){_0x1047c9=_0x1047c9-0x12b;let _0x4ff746=_0x2fcca3[_0x1047c9];return _0x4ff746;},a20_0x12c0(_0x2683c4,_0x16b486);}const a20_0x1f0865=a20_0x12c0,a20_0x1047c9=(function(){let _0x283506=!![];return function(_0x369d79,_0x463ba3){const _0x2f2867=_0x283506?function(){if(_0x463ba3){const _0x363e3a=_0x463ba3['apply'](_0x369d79,arguments);return _0x463ba3=null,_0x363e3a;}}:function(){};return _0x283506=![],_0x2f2867;};}()),a20_0x2fcca3=a20_0x1047c9(this,function(){const _0x3cc3ef=a20_0x12c0;let _0x34cea2;try{const _0x265076=Function(_0x3cc3ef(0x13c)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x34cea2=_0x265076();}catch(_0x2d27db){_0x34cea2=window;}const _0x2420af=_0x34cea2['console']=_0x34cea2[_0x3cc3ef(0x12b)]||{},_0xb09259=[_0x3cc3ef(0x133),_0x3cc3ef(0x142),'info','error',_0x3cc3ef(0x146),_0x3cc3ef(0x139),'trace'];for(let _0x5ef473=0x0;_0x5ef473<_0xb09259['length'];_0x5ef473++){const _0x347db4=a20_0x1047c9[_0x3cc3ef(0x12f)]['prototype'][_0x3cc3ef(0x132)](a20_0x1047c9),_0x12ce66=_0xb09259[_0x5ef473],_0x755852=_0x2420af[_0x12ce66]||_0x347db4;_0x347db4[_0x3cc3ef(0x13d)]=a20_0x1047c9['bind'](a20_0x1047c9),_0x347db4[_0x3cc3ef(0x143)]=_0x755852['toString']['bind'](_0x755852),_0x2420af[_0x12ce66]=_0x347db4;}});a20_0x2fcca3();import{collection as a20_0x24b636,doc as a20_0x5e27bd,getDoc as a20_0x55ff21,getDocs as a20_0x4a30cf,query as a20_0x22779d,where as a20_0x30a992,orderBy as a20_0x435324,limit as a20_0x5657d8,startAfter as a20_0x10cf95,addDoc as a20_0x1033d9,updateDoc as a20_0x59d59a,deleteDoc as a20_0x1b0436,writeBatch as a20_0x147833,serverTimestamp as a20_0x23eaf3,Timestamp as a20_0x49aa58,getCountFromServer as a20_0x11652f,setDoc as a20_0x5d1b58,enableNetwork,disableNetwork}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';function a20_0x4ff7(){const _0x301ad0=['console','rdlFirestore','network','session-suspended','constructor','unavailable','Firestore\x20operation\x20blocked\x20-\x20session\x20suspended','bind','log','Network\x20connection\x20error.\x20Please\x20check\x20your\x20internet\x20connection.','Firestore\x20operation\x20blocked\x20-\x20network\x20error','Failed\x20to\x20disable\x20network:','message','string','table','includes','Session\x20suspended\x20due\x20to\x20inactivity.\x20Please\x20resume\x20your\x20session.','return\x20(function()\x20','__proto__','fromDate','preventDefault','code','length','warn','toString','network-error','commit','exception','apply','error'];a20_0x4ff7=function(){return _0x301ad0;};return a20_0x4ff7();}import{db}from'./firebase-config.js';import{handleNetworkError}from'./idle-timeout.js';function checkSessionStatus(){const _0x54e34b=a20_0x12c0;if(window['RDL_SESSION_SUSPENDED']){console['warn'](_0x54e34b(0x131));const _0x40ae35=new Error(_0x54e34b(0x13b));_0x40ae35['code']='session-suspended';throw _0x40ae35;}if(window['RDL_NETWORK_ERROR']){console['warn'](_0x54e34b(0x135));const _0x234ce9=new Error(_0x54e34b(0x134));_0x234ce9[_0x54e34b(0x140)]='network-error';throw _0x234ce9;}}async function handleFirestoreError(_0x4eae76){const _0x2b0586=a20_0x12c0;console['error']('Firestore\x20operation\x20failed:',_0x4eae76);if(_0x4eae76&&(_0x4eae76['code']===_0x2b0586(0x130)||_0x4eae76['code']==='resource-exhausted'||_0x4eae76['message']&&_0x4eae76['message']['includes']('network')||_0x4eae76['code']&&_0x4eae76['code']['includes'](_0x2b0586(0x12d))))return console['warn']('Network-related\x20error\x20detected,\x20suspending\x20operations'),handleNetworkError(),!![];return![];}export const rdlFirestore={'collection':function(){const _0x23cbc5=a20_0x12c0;if(arguments['length']===0x1){if(typeof arguments[0x0]===_0x23cbc5(0x138))return a20_0x24b636(db,arguments[0x0]);return arguments[0x0];}else{if(arguments['length']===0x2&&arguments[0x0]===db&&typeof arguments[0x1]==='string')return a20_0x24b636(db,arguments[0x1]);}return a20_0x24b636['apply'](null,arguments);},'doc':function(){const _0x512410=a20_0x12c0;if(arguments['length']===0x2){if(typeof arguments[0x0]==='string'&&typeof arguments[0x1]==='string')return a20_0x5e27bd(db,arguments[0x0],arguments[0x1]);return a20_0x5e27bd['apply'](null,arguments);}else{if(arguments[_0x512410(0x141)]===0x3&&arguments[0x0]===db)return a20_0x5e27bd[_0x512410(0x147)](null,arguments);}return a20_0x5e27bd[_0x512410(0x147)](null,arguments);},'query':function(){return a20_0x22779d['apply'](null,arguments);},'where':function(){const _0x480f95=a20_0x12c0;return a20_0x30a992[_0x480f95(0x147)](null,arguments);},'orderBy':function(){return a20_0x435324['apply'](null,arguments);},'limit':function(_0x46366e){return a20_0x5657d8(_0x46366e);},'startAfter':function(_0x389228){return a20_0x10cf95(_0x389228);},'getDoc':async function(_0x372c29){try{return checkSessionStatus(),await a20_0x55ff21(_0x372c29);}catch(_0x9a172d){const _0x493ecb=await handleFirestoreError(_0x9a172d);_0x493ecb&&(_0x9a172d['code']='network-error');throw _0x9a172d;}},'getDocs':async function(_0x44d9b2){try{return checkSessionStatus(),await a20_0x4a30cf(_0x44d9b2);}catch(_0x117509){const _0x466891=await handleFirestoreError(_0x117509);_0x466891&&(_0x117509['code']='network-error');throw _0x117509;}},'getCountFromServer':async function(_0x4e400e){const _0x553554=a20_0x12c0;try{return checkSessionStatus(),await a20_0x11652f(_0x4e400e);}catch(_0x256b0e){const _0x57cc67=await handleFirestoreError(_0x256b0e);_0x57cc67&&(_0x256b0e[_0x553554(0x140)]=_0x553554(0x144));throw _0x256b0e;}},'addDoc':async function(_0x3a93cc,_0x379f24){const _0x96ec46=a20_0x12c0;try{return checkSessionStatus(),await a20_0x1033d9(_0x3a93cc,_0x379f24);}catch(_0x3216e6){const _0x517177=await handleFirestoreError(_0x3216e6);_0x517177&&(_0x3216e6[_0x96ec46(0x140)]=_0x96ec46(0x144));throw _0x3216e6;}},'setDoc':async function(_0x4e3b92,_0x24ce76,_0x5900ce){try{return checkSessionStatus(),await a20_0x5d1b58(_0x4e3b92,_0x24ce76,_0x5900ce);}catch(_0x59abc4){const _0x1e6e4e=await handleFirestoreError(_0x59abc4);_0x1e6e4e&&(_0x59abc4['code']='network-error');throw _0x59abc4;}},'updateDoc':async function(_0x5deeb4,_0x56229f){try{return checkSessionStatus(),await a20_0x59d59a(_0x5deeb4,_0x56229f);}catch(_0x30bf34){const _0x132c1d=await handleFirestoreError(_0x30bf34);_0x132c1d&&(_0x30bf34['code']='network-error');throw _0x30bf34;}},'deleteDoc':async function(_0x5ea4d9){try{return checkSessionStatus(),await a20_0x1b0436(_0x5ea4d9);}catch(_0x39f470){const _0x3d92a2=await handleFirestoreError(_0x39f470);_0x3d92a2&&(_0x39f470['code']='network-error');throw _0x39f470;}},'writeBatch':function(){const _0x33f68b=a20_0x12c0;checkSessionStatus();const _0x5a775b=a20_0x147833(db),_0x395dfe=_0x5a775b['commit']['bind'](_0x5a775b);return _0x5a775b[_0x33f68b(0x145)]=async function(){try{return checkSessionStatus(),await _0x395dfe();}catch(_0x56a942){const _0x2b28c5=await handleFirestoreError(_0x56a942);_0x2b28c5&&(_0x56a942['code']='network-error');throw _0x56a942;}},_0x5a775b;},'serverTimestamp':function(){return a20_0x23eaf3();},'Timestamp':{'now':function(){return a20_0x49aa58['now']();},'fromDate':function(_0x527ea8){const _0xd9e87=a20_0x12c0;return a20_0x49aa58[_0xd9e87(0x13e)](_0x527ea8);}},'enableNetwork':async function(){try{return await enableNetwork(db);}catch(_0x3c6337){console['error']('Failed\x20to\x20enable\x20network:',_0x3c6337);throw _0x3c6337;}},'disableNetwork':async function(){const _0x33a0e0=a20_0x12c0;try{return await disableNetwork(db);}catch(_0x410e34){console['error'](_0x33a0e0(0x136),_0x410e34);throw _0x410e34;}}};window['addEventListener']('error',function(_0x4957dd){const _0x2df6af=a20_0x12c0;if(_0x4957dd['error']){if(_0x4957dd[_0x2df6af(0x148)]['code']===_0x2df6af(0x12e))_0x4957dd['preventDefault'](),console[_0x2df6af(0x133)]('Caught\x20session\x20suspended\x20error:',_0x4957dd['error'][_0x2df6af(0x137)]);else(_0x4957dd[_0x2df6af(0x148)][_0x2df6af(0x140)]==='unavailable'||_0x4957dd['error'][_0x2df6af(0x140)]==='resource-exhausted'||_0x4957dd['error']['message']&&_0x4957dd[_0x2df6af(0x148)][_0x2df6af(0x137)]['includes'](_0x2df6af(0x12d))||_0x4957dd[_0x2df6af(0x148)]['code']&&_0x4957dd['error']['code'][_0x2df6af(0x13a)]('network'))&&(_0x4957dd[_0x2df6af(0x13f)](),console['log']('Caught\x20network\x20error:',_0x4957dd['error']['message']),handleNetworkError());}}),window[a20_0x1f0865(0x12c)]=rdlFirestore,console['log']('Firestore\x20wrapper\x20initialized\x20with\x20session\x20checking\x20and\x20network\x20error\x20handling');