const a52_0x425674=(function(){let _0x3c375f=!![];return function(_0x30f162,_0x1a041f){const _0x2cc402=_0x3c375f?function(){if(_0x1a041f){const _0x38ce44=_0x1a041f['apply'](_0x30f162,arguments);return _0x1a041f=null,_0x38ce44;}}:function(){};return _0x3c375f=![],_0x2cc402;};}()),a52_0xb3a604=a52_0x425674(this,function(){const _0x439105=a52_0x1c66;let _0x46cfcd;try{const _0x3442f1=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x46cfcd=_0x3442f1();}catch(_0x1b681c){_0x46cfcd=window;}const _0x3d31c1=_0x46cfcd[_0x439105(0x1ed)]=_0x46cfcd[_0x439105(0x1ed)]||{},_0x45c4d1=['log','warn','info',_0x439105(0x1f4),'exception','table',_0x439105(0x1ec)];for(let _0x1e5975=0x0;_0x1e5975<_0x45c4d1['length'];_0x1e5975++){const _0x56006=a52_0x425674['constructor'][_0x439105(0x1f3)]['bind'](a52_0x425674),_0x4163c6=_0x45c4d1[_0x1e5975],_0x567678=_0x3d31c1[_0x4163c6]||_0x56006;_0x56006['__proto__']=a52_0x425674['bind'](a52_0x425674),_0x56006[_0x439105(0x1ef)]=_0x567678['toString']['bind'](_0x567678),_0x3d31c1[_0x4163c6]=_0x56006;}});a52_0xb3a604();function a52_0x1c66(_0x2d5acf,_0xb2524b){const _0xb3a604=a52_0x137d();return a52_0x1c66=function(_0x425674,_0x252d52){_0x425674=_0x425674-0x1ec;let _0x137dce=_0xb3a604[_0x425674];return _0x137dce;},a52_0x1c66(_0x2d5acf,_0xb2524b);}import{db}from'./firebase-config.js';import{collection,getDocs,setDoc,doc,query,orderBy}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';function a52_0x137d(){const _0x20eb5b=['trace','console','username','toString','Successfully\x20archived\x20players\x20to\x20season0','season0records','wins','prototype','error','Error\x20archiving\x20records:','docs'];a52_0x137d=function(){return _0x20eb5b;};return a52_0x137d();}async function archiveSeason0(){const _0x22883d=a52_0x1c66;try{const _0xfb8069=await getDocs(collection(db,'players'));for(const _0x4ba508 of _0xfb8069[_0x22883d(0x1f6)]){const _0x568886=_0x4ba508['data']();await setDoc(doc(db,'season0',_0x4ba508['id']),{..._0x568886,'archivedAt':new Date(),'originalId':_0x4ba508['id']});}return console['log'](_0x22883d(0x1f0)),!![];}catch(_0x38a7de){console['error']('Error\x20archiving\x20season:',_0x38a7de);throw _0x38a7de;}}async function archiveRecords(){const _0x5c778e=a52_0x1c66;try{const _0x437c63=collection(db,'records'),_0x2e6fb6=query(_0x437c63,orderBy('wins','desc')),_0x4ff79d=await getDocs(_0x2e6fb6),_0x157630=[];return _0x4ff79d['forEach'](_0x418f5b=>{const _0x193f63=a52_0x1c66,_0x2a632b=_0x418f5b['data']();_0x157630['push']({'username':_0x2a632b[_0x193f63(0x1ee)],'wins':_0x2a632b[_0x193f63(0x1f2)]||0x0,'losses':_0x2a632b['losses']||0x0,'winRate':_0x2a632b['winRate']||0x0,'timestamp':new Date()});}),await setDoc(doc(db,_0x5c778e(0x1f1),'snapshot'),{'records':_0x157630,'archivedAt':new Date()}),console['log']('Successfully\x20archived\x20records'),!![];}catch(_0x86b02f){console['error'](_0x5c778e(0x1f5),_0x86b02f);throw _0x86b02f;}}export{archiveSeason0,archiveRecords};