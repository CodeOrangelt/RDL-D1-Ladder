const a20_0x453fd0=a20_0x3f5c,a20_0xd39ba7=(function(){let _0xf6237d=!![];return function(_0x4ee769,_0x33e5fb){const _0x43eefb=_0xf6237d?function(){if(_0x33e5fb){const _0x22ec95=_0x33e5fb['apply'](_0x4ee769,arguments);return _0x33e5fb=null,_0x22ec95;}}:function(){};return _0xf6237d=![],_0x43eefb;};}()),a20_0x29a980=a20_0xd39ba7(this,function(){const _0x1ed983=a20_0x3f5c,_0x1879e9=function(){let _0x3e0dc4;try{_0x3e0dc4=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x4afad0){_0x3e0dc4=window;}return _0x3e0dc4;},_0x4e8a78=_0x1879e9(),_0x220b2c=_0x4e8a78['console']=_0x4e8a78['console']||{},_0x54130b=['log',_0x1ed983(0x96),'info',_0x1ed983(0x8a),'exception','table','trace'];for(let _0x280fa2=0x0;_0x280fa2<_0x54130b['length'];_0x280fa2++){const _0x3e4210=a20_0xd39ba7['constructor'][_0x1ed983(0x8d)][_0x1ed983(0x93)](a20_0xd39ba7),_0x4060ed=_0x54130b[_0x280fa2],_0x2f72af=_0x220b2c[_0x4060ed]||_0x3e4210;_0x3e4210['__proto__']=a20_0xd39ba7['bind'](a20_0xd39ba7),_0x3e4210['toString']=_0x2f72af['toString']['bind'](_0x2f72af),_0x220b2c[_0x4060ed]=_0x3e4210;}});a20_0x29a980();import{collection as a20_0x49256a,doc as a20_0x4c0c5a,getDoc as a20_0x2cc76c,getDocs as a20_0x3a463f,query as a20_0x262f7b,where as a20_0x3f906a,orderBy as a20_0x15eef9,limit as a20_0x469320,startAfter as a20_0x4370e1,addDoc as a20_0x2dff49,updateDoc as a20_0x33255c,deleteDoc as a20_0x1822f6,writeBatch as a20_0x5512c6,serverTimestamp as a20_0x52fac2,Timestamp as a20_0x5df160,getCountFromServer as a20_0x391251,setDoc as a20_0x2d2c72,enableNetwork,disableNetwork}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db}from'./firebase-config.js';function a20_0x2daa(){const _0x2cd0ab=['code','RDL_NETWORK_ERROR','network','error','length','Caught\x20network\x20error:','prototype','addEventListener','string','network-error','now','apply','bind','message','includes','warn','Network\x20connection\x20error.\x20Please\x20check\x20your\x20internet\x20connection.','unavailable'];a20_0x2daa=function(){return _0x2cd0ab;};return a20_0x2daa();}import{handleNetworkError}from'./idle-timeout.js';function checkSessionStatus(){const _0x2aa05d=a20_0x3f5c;if(window['RDL_SESSION_SUSPENDED']){console['warn']('Firestore\x20operation\x20blocked\x20-\x20session\x20suspended');const _0xf05d7d=new Error('Session\x20suspended\x20due\x20to\x20inactivity.\x20Please\x20resume\x20your\x20session.');_0xf05d7d[_0x2aa05d(0x87)]='session-suspended';throw _0xf05d7d;}if(window[_0x2aa05d(0x88)]){console['warn']('Firestore\x20operation\x20blocked\x20-\x20network\x20error');const _0x591d11=new Error(_0x2aa05d(0x97));_0x591d11[_0x2aa05d(0x87)]='network-error';throw _0x591d11;}}async function handleFirestoreError(_0x310f62){const _0x2c4076=a20_0x3f5c;console[_0x2c4076(0x8a)]('Firestore\x20operation\x20failed:',_0x310f62);if(_0x310f62&&(_0x310f62[_0x2c4076(0x87)]===_0x2c4076(0x98)||_0x310f62[_0x2c4076(0x87)]==='resource-exhausted'||_0x310f62[_0x2c4076(0x94)]&&_0x310f62[_0x2c4076(0x94)]['includes'](_0x2c4076(0x89))||_0x310f62[_0x2c4076(0x87)]&&_0x310f62['code']['includes']('network')))return console['warn']('Network-related\x20error\x20detected,\x20suspending\x20operations'),handleNetworkError(),!![];return![];}function a20_0x3f5c(_0x133faa,_0x16f7db){const _0x29a980=a20_0x2daa();return a20_0x3f5c=function(_0xd39ba7,_0x5958af){_0xd39ba7=_0xd39ba7-0x87;let _0x2daae1=_0x29a980[_0xd39ba7];return _0x2daae1;},a20_0x3f5c(_0x133faa,_0x16f7db);}export const rdlFirestore={'collection':function(){const _0x5e214a=a20_0x3f5c;if(arguments['length']===0x1){if(typeof arguments[0x0]==='string')return a20_0x49256a(db,arguments[0x0]);return arguments[0x0];}else{if(arguments[_0x5e214a(0x8b)]===0x2&&arguments[0x0]===db&&typeof arguments[0x1]==='string')return a20_0x49256a(db,arguments[0x1]);}return a20_0x49256a['apply'](null,arguments);},'doc':function(){const _0x4ca2b3=a20_0x3f5c;if(arguments[_0x4ca2b3(0x8b)]===0x2){if(typeof arguments[0x0]==='string'&&typeof arguments[0x1]===_0x4ca2b3(0x8f))return a20_0x4c0c5a(db,arguments[0x0],arguments[0x1]);return a20_0x4c0c5a['apply'](null,arguments);}else{if(arguments['length']===0x3&&arguments[0x0]===db)return a20_0x4c0c5a[_0x4ca2b3(0x92)](null,arguments);}return a20_0x4c0c5a[_0x4ca2b3(0x92)](null,arguments);},'query':function(){return a20_0x262f7b['apply'](null,arguments);},'where':function(){return a20_0x3f906a['apply'](null,arguments);},'orderBy':function(){return a20_0x15eef9['apply'](null,arguments);},'limit':function(_0x34a6d0){return a20_0x469320(_0x34a6d0);},'startAfter':function(_0x372f24){return a20_0x4370e1(_0x372f24);},'getDoc':async function(_0x1aaa6a){const _0x40c5e2=a20_0x3f5c;try{return checkSessionStatus(),await a20_0x2cc76c(_0x1aaa6a);}catch(_0x597130){const _0x4c659a=await handleFirestoreError(_0x597130);_0x4c659a&&(_0x597130[_0x40c5e2(0x87)]='network-error');throw _0x597130;}},'getDocs':async function(_0x881c3f){try{return checkSessionStatus(),await a20_0x3a463f(_0x881c3f);}catch(_0x144edd){const _0xb1f9da=await handleFirestoreError(_0x144edd);_0xb1f9da&&(_0x144edd['code']='network-error');throw _0x144edd;}},'getCountFromServer':async function(_0x14b550){try{return checkSessionStatus(),await a20_0x391251(_0x14b550);}catch(_0x16be5a){const _0x508013=await handleFirestoreError(_0x16be5a);_0x508013&&(_0x16be5a['code']='network-error');throw _0x16be5a;}},'addDoc':async function(_0x37d806,_0x182d1c){const _0x5f2318=a20_0x3f5c;try{return checkSessionStatus(),await a20_0x2dff49(_0x37d806,_0x182d1c);}catch(_0x307f0e){const _0x4761eb=await handleFirestoreError(_0x307f0e);_0x4761eb&&(_0x307f0e[_0x5f2318(0x87)]=_0x5f2318(0x90));throw _0x307f0e;}},'setDoc':async function(_0x453d1f,_0x314a5e,_0x5305a1){const _0x176bde=a20_0x3f5c;try{return checkSessionStatus(),await a20_0x2d2c72(_0x453d1f,_0x314a5e,_0x5305a1);}catch(_0x458c52){const _0x4c368c=await handleFirestoreError(_0x458c52);_0x4c368c&&(_0x458c52[_0x176bde(0x87)]='network-error');throw _0x458c52;}},'updateDoc':async function(_0x273d68,_0x31bc86){const _0x56b991=a20_0x3f5c;try{return checkSessionStatus(),await a20_0x33255c(_0x273d68,_0x31bc86);}catch(_0x24a337){const _0x2d56a4=await handleFirestoreError(_0x24a337);_0x2d56a4&&(_0x24a337['code']=_0x56b991(0x90));throw _0x24a337;}},'deleteDoc':async function(_0x28933a){const _0x33dfac=a20_0x3f5c;try{return checkSessionStatus(),await a20_0x1822f6(_0x28933a);}catch(_0x5e1249){const _0x3d63f5=await handleFirestoreError(_0x5e1249);_0x3d63f5&&(_0x5e1249['code']=_0x33dfac(0x90));throw _0x5e1249;}},'writeBatch':function(){checkSessionStatus();const _0x1588bd=a20_0x5512c6(db),_0x4979b6=_0x1588bd['commit']['bind'](_0x1588bd);return _0x1588bd['commit']=async function(){const _0x291634=a20_0x3f5c;try{return checkSessionStatus(),await _0x4979b6();}catch(_0x2f3741){const _0x3a81d7=await handleFirestoreError(_0x2f3741);_0x3a81d7&&(_0x2f3741['code']=_0x291634(0x90));throw _0x2f3741;}},_0x1588bd;},'serverTimestamp':function(){return a20_0x52fac2();},'Timestamp':{'now':function(){const _0x28b577=a20_0x3f5c;return a20_0x5df160[_0x28b577(0x91)]();},'fromDate':function(_0x274a68){return a20_0x5df160['fromDate'](_0x274a68);}},'enableNetwork':async function(){const _0x76895b=a20_0x3f5c;try{return await enableNetwork(db);}catch(_0x174cf4){console[_0x76895b(0x8a)]('Failed\x20to\x20enable\x20network:',_0x174cf4);throw _0x174cf4;}},'disableNetwork':async function(){const _0x3af905=a20_0x3f5c;try{return await disableNetwork(db);}catch(_0x14a4a6){console[_0x3af905(0x8a)]('Failed\x20to\x20disable\x20network:',_0x14a4a6);throw _0x14a4a6;}}};window[a20_0x453fd0(0x8e)]('error',function(_0x4210af){const _0x33a7fe=a20_0x453fd0;if(_0x4210af[_0x33a7fe(0x8a)]){if(_0x4210af['error'][_0x33a7fe(0x87)]==='session-suspended')_0x4210af['preventDefault'](),console['log']('Caught\x20session\x20suspended\x20error:',_0x4210af['error']['message']);else(_0x4210af['error']['code']==='unavailable'||_0x4210af[_0x33a7fe(0x8a)][_0x33a7fe(0x87)]==='resource-exhausted'||_0x4210af['error']['message']&&_0x4210af['error']['message'][_0x33a7fe(0x95)]('network')||_0x4210af['error']['code']&&_0x4210af['error']['code']['includes'](_0x33a7fe(0x89)))&&(_0x4210af['preventDefault'](),console['log'](_0x33a7fe(0x8c),_0x4210af['error'][_0x33a7fe(0x94)]),handleNetworkError());}}),window['rdlFirestore']=rdlFirestore,console['log']('Firestore\x20wrapper\x20initialized\x20with\x20session\x20checking\x20and\x20network\x20error\x20handling');