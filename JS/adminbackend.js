const a4_0x3bee7f=a4_0xb179;(function(_0x1ffebf,_0x34d053){const _0x244099=a4_0xb179,_0x375d84=_0x1ffebf();while(!![]){try{const _0x2a1485=parseInt(_0x244099(0x38b))/0x1+parseInt(_0x244099(0x398))/0x2+parseInt(_0x244099(0x3d1))/0x3+-parseInt(_0x244099(0x2b4))/0x4+-parseInt(_0x244099(0x3c2))/0x5*(-parseInt(_0x244099(0x1c4))/0x6)+-parseInt(_0x244099(0x35c))/0x7+-parseInt(_0x244099(0x5b9))/0x8*(parseInt(_0x244099(0x317))/0x9);if(_0x2a1485===_0x34d053)break;else _0x375d84['push'](_0x375d84['shift']());}catch(_0x2bfb37){_0x375d84['push'](_0x375d84['shift']());}}}(a4_0x7457,0xb1853));const a4_0x33cb4f=(function(){let _0x3ab348=!![];return function(_0x164428,_0x4738e5){const _0x4a9e84=_0x3ab348?function(){if(_0x4738e5){const _0x259340=_0x4738e5['apply'](_0x164428,arguments);return _0x4738e5=null,_0x259340;}}:function(){};return _0x3ab348=![],_0x4a9e84;};}()),a4_0x23d85d=a4_0x33cb4f(this,function(){const _0x413490=a4_0xb179;return a4_0x23d85d[_0x413490(0x3de)]()[_0x413490(0x509)](_0x413490(0x587))[_0x413490(0x3de)]()['constructor'](a4_0x23d85d)['search'](_0x413490(0x587));});a4_0x23d85d();const a4_0x309227=(function(){let _0x929440=!![];return function(_0xe269cb,_0xb8f719){const _0x106a18=_0x929440?function(){const _0xe00fde=a4_0xb179;if(_0xb8f719){const _0x458368=_0xb8f719[_0xe00fde(0x425)](_0xe269cb,arguments);return _0xb8f719=null,_0x458368;}}:function(){};return _0x929440=![],_0x106a18;};}()),a4_0x52e58b=a4_0x309227(this,function(){const _0x3dabd8=a4_0xb179,_0x3bce22=function(){const _0x477160=a4_0xb179;let _0x12a424;try{_0x12a424=Function('return\x20(function()\x20'+_0x477160(0x1b3)+');')();}catch(_0x57f316){_0x12a424=window;}return _0x12a424;},_0xf4ef6b=_0x3bce22(),_0x35d257=_0xf4ef6b[_0x3dabd8(0x245)]=_0xf4ef6b['console']||{},_0x54e29d=[_0x3dabd8(0x560),_0x3dabd8(0x2ce),_0x3dabd8(0x1dc),'error',_0x3dabd8(0x2d0),_0x3dabd8(0x202),_0x3dabd8(0x528)];for(let _0x30ee3b=0x0;_0x30ee3b<_0x54e29d[_0x3dabd8(0x592)];_0x30ee3b++){const _0x8e44a5=a4_0x309227[_0x3dabd8(0x3cd)][_0x3dabd8(0x510)][_0x3dabd8(0x278)](a4_0x309227),_0xec42ff=_0x54e29d[_0x30ee3b],_0x1c3521=_0x35d257[_0xec42ff]||_0x8e44a5;_0x8e44a5[_0x3dabd8(0x364)]=a4_0x309227[_0x3dabd8(0x278)](a4_0x309227),_0x8e44a5['toString']=_0x1c3521[_0x3dabd8(0x3de)]['bind'](_0x1c3521),_0x35d257[_0xec42ff]=_0x8e44a5;}});a4_0x52e58b();import{collection,getDocs,query,orderBy,addDoc,deleteDoc,where,doc,getDoc,serverTimestamp,setDoc,updateDoc,writeBatch,limit,startAfter,endBefore,limitToLast,onSnapshot,deleteField,or,Timestamp}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{auth,db}from'./firebase-config.js';import{getRankStyle}from'./ranks.js';import{isAdmin}from'./admin-check.js';let matchesPagination={'d1':{'page':0x1,'lastVisible':null,'firstVisible':null},'d2':{'page':0x1,'lastVisible':null,'firstVisible':null},'d3':{'page':0x1,'lastVisible':null,'firstVisible':null}};function getContrastColor(_0x37ba0b){const _0x495102=a4_0xb179;if(!_0x37ba0b)return _0x495102(0x501);_0x37ba0b=_0x37ba0b['replace']('#','');_0x37ba0b[_0x495102(0x592)]===0x3&&(_0x37ba0b=_0x37ba0b[_0x495102(0x18b)]('')[_0x495102(0x258)](_0x3689ff=>_0x3689ff+_0x3689ff)[_0x495102(0x58c)](''));if(_0x37ba0b[_0x495102(0x592)]!==0x6)return _0x495102(0x501);const _0x2e6206=parseInt(_0x37ba0b[_0x495102(0x1ae)](0x0,0x2),0x10),_0x58b2d6=parseInt(_0x37ba0b[_0x495102(0x1ae)](0x2,0x4),0x10),_0x3fd746=parseInt(_0x37ba0b[_0x495102(0x1ae)](0x4,0x6),0x10),_0x4ad050=(_0x2e6206*0x12b+_0x58b2d6*0x24b+_0x3fd746*0x72)/0x3e8;return _0x4ad050>=0x80?_0x495102(0x586):_0x495102(0x501);}const DEFAULT_TROPHY_IMAGE=a4_0x3bee7f(0x3ed),charts={};let currentLadder='D1',eloHistoryPagination={'d1':{'page':0x1,'lastVisible':null,'firstVisible':null},'d2':{'page':0x1,'lastVisible':null,'firstVisible':null},'d3':{'page':0x1,'lastVisible':null,'firstVisible':null}};const PAGE_SIZE=0xf;document[a4_0x3bee7f(0x571)](a4_0x3bee7f(0x3c8),()=>{const _0x205c63=a4_0x3bee7f;auth[_0x205c63(0x18e)](async _0x120d8d=>{const _0x13231b=_0x205c63;if(!_0x120d8d){window[_0x13231b(0x490)][_0x13231b(0x595)]=_0x13231b(0x1a5);return;}try{await initializeAdminDashboard();}catch(_0x228a33){console[_0x13231b(0x279)]('Error\x20initializing\x20dashboard:',_0x228a33),showNotification('Error\x20setting\x20up\x20admin\x20dashboard','error');}});});async function getUserTabPermissions(_0x2cafd0){const _0x2beb46=a4_0x3bee7f;if(!_0x2cafd0)return[_0x2beb46(0x255)];console[_0x2beb46(0x560)](_0x2beb46(0x537)+_0x2cafd0+_0x2beb46(0x345));const _0x1b3af4=[{'name':_0x2beb46(0x301),'displayName':'User\x20Profiles'},{'name':_0x2beb46(0x55d),'displayName':_0x2beb46(0x3f0)},{'name':_0x2beb46(0x1ec),'displayName':'D2\x20Players'},{'name':'playersD3','displayName':_0x2beb46(0x1fb)},{'name':_0x2beb46(0x534),'displayName':'Non-Participants'}],_0x154adf=auth[_0x2beb46(0x4c8)];let _0x591e3d=null,_0xd5052=null;for(const _0x4a66d4 of _0x1b3af4){try{if(_0x154adf){const _0x1de026=doc(db,_0x4a66d4[_0x2beb46(0x38e)],_0x154adf[_0x2beb46(0x35a)]),_0x5f0787=await getDoc(_0x1de026);if(_0x5f0787[_0x2beb46(0x495)]()){const _0x28b0d0=_0x5f0787[_0x2beb46(0x392)]();console[_0x2beb46(0x560)](_0x2beb46(0x1c7)+_0x4a66d4['displayName']+_0x2beb46(0x1bb),_0x28b0d0);const _0x1b08b8=(_0x28b0d0['roleName']||_0x28b0d0[_0x2beb46(0x438)]||'')['toLowerCase']();if(_0x1b08b8&&_0x1b08b8!==_0x2beb46(0x52a)){_0x591e3d=_0x1b08b8,_0xd5052=_0x4a66d4[_0x2beb46(0x3ba)],console['log'](_0x2beb46(0x55e)+_0x591e3d+_0x2beb46(0x3ad)+_0xd5052);break;}}}if(!_0x591e3d){const _0x3e60af=collection(db,_0x4a66d4['name']),_0x32f8d7=query(_0x3e60af,where(_0x2beb46(0x1dd),'==',_0x2cafd0)),_0xcf427f=await getDocs(_0x32f8d7);if(!_0xcf427f['empty']){const _0x6dfd4f=_0xcf427f['docs'][0x0][_0x2beb46(0x392)]();console[_0x2beb46(0x560)](_0x2beb46(0x1c7)+_0x4a66d4[_0x2beb46(0x3ba)]+'\x20with\x20email\x20'+_0x2cafd0+':',_0x6dfd4f);const _0x397f72=(_0x6dfd4f[_0x2beb46(0x244)]||_0x6dfd4f['role']||'')[_0x2beb46(0x369)]();if(_0x397f72&&_0x397f72!=='none'){_0x591e3d=_0x397f72,_0xd5052=_0x4a66d4['displayName'],console[_0x2beb46(0x560)](_0x2beb46(0x55e)+_0x591e3d+'\x20in\x20'+_0xd5052);break;}}}}catch(_0x444144){console[_0x2beb46(0x279)]('Error\x20checking\x20'+_0x4a66d4[_0x2beb46(0x3ba)]+':',_0x444144);}}if(_0x591e3d){console[_0x2beb46(0x560)](_0x2beb46(0x476)+_0x591e3d+'\x20(from\x20'+_0xd5052+')');const _0x57b4c5={'admin':[_0x2beb46(0x255),'manage-players','manage-matches',_0x2beb46(0x2c7),_0x2beb46(0x4a4),_0x2beb46(0x385),'inactive-players',_0x2beb46(0x391),_0x2beb46(0x4a4),_0x2beb46(0x2f0),_0x2beb46(0x3d3),'user-roles-section',_0x2beb46(0x179),_0x2beb46(0x41c),_0x2beb46(0x51e),_0x2beb46(0x367)],'owner':['dashboard',_0x2beb46(0x1c0),_0x2beb46(0x179),_0x2beb46(0x2c7),'manage-trophies',_0x2beb46(0x385),_0x2beb46(0x522),_0x2beb46(0x391),_0x2beb46(0x4a4),_0x2beb46(0x2f0),_0x2beb46(0x3d3),_0x2beb46(0x272),_0x2beb46(0x179),_0x2beb46(0x41c),_0x2beb46(0x51e),_0x2beb46(0x367)],'council':[_0x2beb46(0x255),_0x2beb46(0x1c0),'manage-matches'],'creative\x20lead':[_0x2beb46(0x255),'manage-articles',_0x2beb46(0x4a4),_0x2beb46(0x2f0),_0x2beb46(0x3d3)]};if(_0x57b4c5[_0x591e3d])return console['log'](_0x2beb46(0x371)+_0x591e3d+'\x27\x20has\x20permissions:',_0x57b4c5[_0x591e3d]),_0x57b4c5[_0x591e3d];}return console[_0x2beb46(0x560)](_0x2beb46(0x283)+_0x2cafd0+_0x2beb46(0x3c5)),[_0x2beb46(0x255)];}function setupSidebarNavigation(_0x3ac507=[]){const _0x14569f=a4_0x3bee7f,_0x18dd5e=document[_0x14569f(0x234)](_0x14569f(0x48f)),_0x1cdad4=document[_0x14569f(0x234)](_0x14569f(0x2c0));(!_0x3ac507||_0x3ac507[_0x14569f(0x592)]===0x0)&&(_0x3ac507=[_0x14569f(0x255)]);_0x18dd5e[_0x14569f(0x17c)](_0x684b31=>{const _0x2aeed8=_0x14569f,_0x884963=_0x684b31[_0x2aeed8(0x1e7)]('data-section');_0x3ac507[_0x2aeed8(0x48e)](_0x884963)?_0x684b31[_0x2aeed8(0x581)][_0x2aeed8(0x423)]=_0x2aeed8(0x44c):_0x684b31[_0x2aeed8(0x581)][_0x2aeed8(0x423)]='none',_0x684b31[_0x2aeed8(0x571)](_0x2aeed8(0x376),()=>{const _0xf6358a=_0x2aeed8,_0x558bb6=_0x684b31['getAttribute'](_0xf6358a(0x387));if(!_0x3ac507[_0xf6358a(0x48e)](_0x558bb6)){showNotification(_0xf6358a(0x2c1),_0xf6358a(0x279));return;}_0x18dd5e[_0xf6358a(0x17c)](_0x3e8f0d=>_0x3e8f0d[_0xf6358a(0x18d)]['remove'](_0xf6358a(0x28f))),_0x684b31[_0xf6358a(0x18d)][_0xf6358a(0x29d)](_0xf6358a(0x28f)),_0x1cdad4[_0xf6358a(0x17c)](_0xd99b15=>{const _0x2cb9f8=_0xf6358a;_0xd99b15['style'][_0x2cb9f8(0x423)]='none';});const _0x3dc33f=document['getElementById'](_0x558bb6);_0x3dc33f&&(_0x3dc33f[_0xf6358a(0x581)][_0xf6358a(0x423)]=_0xf6358a(0x56f),console[_0xf6358a(0x560)](_0xf6358a(0x40e)+_0x558bb6+_0xf6358a(0x17e)));});});const _0x14298d=document[_0x14569f(0x39f)](_0x14569f(0x2a4)+_0x3ac507[0x0]+'\x22]');_0x14298d&&_0x14298d[_0x14569f(0x376)](),console['log'](_0x14569f(0x3e0));}function setupTabNavigation(){const _0x402914=a4_0x3bee7f,_0x5feadf=document['querySelectorAll'](_0x402914(0x524));let _0x388610=null,_0x93ecb4=new Set();_0x5feadf['forEach'](_0x9c52fb=>{const _0x2d663f=_0x402914;_0x9c52fb['addEventListener'](_0x2d663f(0x376),function(){const _0x25c41a=_0x2d663f,_0x279bf2=this[_0x25c41a(0x1e7)]('data-section');if(_0x279bf2===_0x388610)return;_0x388610&&(document[_0x25c41a(0x25c)](_0x388610)['style'][_0x25c41a(0x423)]=_0x25c41a(0x52a),_0x5feadf['forEach'](_0x4fa576=>_0x4fa576['classList']['remove']('active'))),document[_0x25c41a(0x25c)](_0x279bf2)[_0x25c41a(0x581)][_0x25c41a(0x423)]='block',this[_0x25c41a(0x18d)][_0x25c41a(0x29d)](_0x25c41a(0x28f)),_0x388610=_0x279bf2;});});}function loadSectionData(_0x2e14cb){return;}async function initializeAdminDashboard(){const _0x5e1073=a4_0x3bee7f;try{const _0x2beb04=auth['currentUser'],_0x3852c5=await getUserTabPermissions(_0x2beb04[_0x5e1073(0x1dd)]);console[_0x5e1073(0x560)]('User\x20'+_0x2beb04[_0x5e1073(0x1dd)]+_0x5e1073(0x434),_0x3852c5),window['userAllowedTabs']=_0x3852c5,setupSidebarNavigation(_0x3852c5),setupLadderSelector(),setupDashboardSection(),_0x3852c5[_0x5e1073(0x48e)](_0x5e1073(0x1c0))&&setupManagePlayersSection(),_0x3852c5[_0x5e1073(0x48e)](_0x5e1073(0x2f0))&&setupEloHistorySection(),_0x3852c5['includes'](_0x5e1073(0x385))&&setupRankControls(),_0x3852c5[_0x5e1073(0x48e)](_0x5e1073(0x2c7))&&setupManageArticlesSection(),_0x3852c5['includes'](_0x5e1073(0x272))&&setupUserRolesSection(),_0x3852c5[_0x5e1073(0x48e)](_0x5e1073(0x4a4))&&setupTrophyManagementSection(),_0x3852c5['includes']('manage-highlights')&&setupManageHighlightsSection(),_0x3852c5['includes'](_0x5e1073(0x522))&&setupInactivePlayersSection(),_0x3852c5[_0x5e1073(0x48e)]('manage-matches')&&setupManageMatchesSection(),_0x3852c5[_0x5e1073(0x48e)]('manage-points')&&setupManagePointsSection(),_0x3852c5[_0x5e1073(0x48e)](_0x5e1073(0x367))&&setupManageRibbonsSection(),setupDataLoadButtons(_0x3852c5);}catch(_0x38023c){console[_0x5e1073(0x279)]('Error\x20initializing\x20admin\x20dashboard:',_0x38023c);}}function setupDataLoadButtons(_0x15027c=[]){const _0x417a3b=a4_0x3bee7f;(!_0x15027c||_0x15027c['length']===0x0)&&(_0x15027c=[_0x417a3b(0x255)]);const _0x1f8250=document[_0x417a3b(0x25c)](_0x417a3b(0x249));_0x1f8250&&_0x1f8250[_0x417a3b(0x571)](_0x417a3b(0x376),function(){const _0x485abd=_0x417a3b;this[_0x485abd(0x18d)]['add'](_0x485abd(0x315)),this[_0x485abd(0x4b4)]=_0x485abd(0x3a5),loadDashboardOverview()[_0x485abd(0x27c)](()=>{const _0xf15482=_0x485abd;this[_0xf15482(0x18d)][_0xf15482(0x39e)](_0xf15482(0x315)),this['innerHTML']=_0xf15482(0x583);})[_0x485abd(0x30e)](_0x1ac325=>{const _0x3371d6=_0x485abd;console['error'](_0x3371d6(0x442),_0x1ac325),this['classList'][_0x3371d6(0x39e)](_0x3371d6(0x315)),this[_0x3371d6(0x4b4)]=_0x3371d6(0x19d),setTimeout(()=>{const _0xe5fd16=_0x3371d6;this[_0xe5fd16(0x4b4)]=_0xe5fd16(0x583);},0xbb8);});});if(_0x15027c[_0x417a3b(0x48e)](_0x417a3b(0x4a4))){const _0x10b257=document[_0x417a3b(0x25c)](_0x417a3b(0x45d));_0x10b257&&_0x10b257[_0x417a3b(0x571)](_0x417a3b(0x376),function(){const _0x29d3be=_0x417a3b;console[_0x29d3be(0x560)]('Load\x20trophies\x20data\x20clicked'),this[_0x29d3be(0x18d)][_0x29d3be(0x29d)]('loading'),this['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...',loadTrophyDefinitions()[_0x29d3be(0x27c)](()=>{const _0x208a7a=_0x29d3be;this['classList'][_0x208a7a(0x39e)]('loading'),this[_0x208a7a(0x4b4)]=_0x208a7a(0x48c);})[_0x29d3be(0x30e)](_0x4505e0=>{const _0x4eac59=_0x29d3be;console[_0x4eac59(0x279)](_0x4eac59(0x344),_0x4505e0),this['classList'][_0x4eac59(0x39e)]('loading'),this[_0x4eac59(0x4b4)]=_0x4eac59(0x19d),setTimeout(()=>{const _0x2e6a69=_0x4eac59;this[_0x2e6a69(0x4b4)]='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Trophies\x20Data';},0xbb8);});});}if(_0x15027c['includes']('manage-players')){const _0x22c256=document[_0x417a3b(0x25c)](_0x417a3b(0x368));_0x22c256&&_0x22c256['addEventListener'](_0x417a3b(0x376),function(){const _0x2a7993=_0x417a3b;console['log']('Load\x20players\x20data\x20clicked'),this[_0x2a7993(0x18d)][_0x2a7993(0x29d)](_0x2a7993(0x315)),this['innerHTML']=_0x2a7993(0x3a5),loadPlayersData()[_0x2a7993(0x27c)](()=>{const _0x4d846d=_0x2a7993;this['classList']['remove']('loading'),this[_0x4d846d(0x4b4)]=_0x4d846d(0x33d);})['catch'](_0x344e42=>{const _0x439a75=_0x2a7993;console[_0x439a75(0x279)](_0x439a75(0x4d4),_0x344e42),this[_0x439a75(0x18d)][_0x439a75(0x39e)](_0x439a75(0x315)),this[_0x439a75(0x4b4)]='<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error',setTimeout(()=>{const _0x2888fb=_0x439a75;this[_0x2888fb(0x4b4)]='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Players\x20Data';},0xbb8);});});}if(_0x15027c[_0x417a3b(0x48e)](_0x417a3b(0x2f0))){const _0xaef82f=document['getElementById'](_0x417a3b(0x2a6));_0xaef82f&&_0xaef82f[_0x417a3b(0x571)](_0x417a3b(0x376),function(){const _0x30f51b=_0x417a3b;console[_0x30f51b(0x560)](_0x30f51b(0x188)),this['classList'][_0x30f51b(0x29d)](_0x30f51b(0x315)),this[_0x30f51b(0x4b4)]=_0x30f51b(0x3a5),loadEloHistory(0x1)['then'](()=>{const _0x33085e=_0x30f51b;this[_0x33085e(0x18d)]['remove']('loading'),this[_0x33085e(0x4b4)]='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20History\x20Data';})['catch'](_0x1f63d0=>{const _0x2be81=_0x30f51b;console[_0x2be81(0x279)](_0x2be81(0x233),_0x1f63d0),this[_0x2be81(0x18d)]['remove']('loading'),this[_0x2be81(0x4b4)]=_0x2be81(0x19d),setTimeout(()=>{const _0x45aaa7=_0x2be81;this[_0x45aaa7(0x4b4)]=_0x45aaa7(0x3e3);},0xbb8);});});}if(_0x15027c[_0x417a3b(0x48e)]('manage-articles')){const _0x2b3419=document[_0x417a3b(0x25c)](_0x417a3b(0x516));_0x2b3419&&_0x2b3419['addEventListener']('click',function(){const _0xa32c36=_0x417a3b;console[_0xa32c36(0x560)]('Load\x20articles\x20data\x20clicked'),this[_0xa32c36(0x18d)]['add']('loading'),this[_0xa32c36(0x4b4)]=_0xa32c36(0x3a5),loadArticles()[_0xa32c36(0x27c)](()=>{const _0x282a74=_0xa32c36;this['classList'][_0x282a74(0x39e)](_0x282a74(0x315)),this[_0x282a74(0x4b4)]=_0x282a74(0x355);})[_0xa32c36(0x30e)](_0x787744=>{const _0x5ea5e0=_0xa32c36;console[_0x5ea5e0(0x279)](_0x5ea5e0(0x33b),_0x787744),this[_0x5ea5e0(0x18d)]['remove'](_0x5ea5e0(0x315)),this[_0x5ea5e0(0x4b4)]=_0x5ea5e0(0x19d),setTimeout(()=>{const _0x3239f8=_0x5ea5e0;this[_0x3239f8(0x4b4)]=_0x3239f8(0x355);},0xbb8);});});}if(_0x15027c[_0x417a3b(0x48e)](_0x417a3b(0x272))){const _0x5cb222=document[_0x417a3b(0x25c)](_0x417a3b(0x482));_0x5cb222&&_0x5cb222['addEventListener'](_0x417a3b(0x376),function(){const _0x243774=_0x417a3b;console['log'](_0x243774(0x461)),this[_0x243774(0x18d)][_0x243774(0x29d)]('loading'),this[_0x243774(0x4b4)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...',loadUsersWithRoles()[_0x243774(0x27c)](()=>{const _0x37aa4b=_0x243774;this[_0x37aa4b(0x18d)][_0x37aa4b(0x39e)](_0x37aa4b(0x315)),this[_0x37aa4b(0x4b4)]=_0x37aa4b(0x468);})[_0x243774(0x30e)](_0x30a5de=>{const _0x40b717=_0x243774;console[_0x40b717(0x279)](_0x40b717(0x50f),_0x30a5de),this['classList'][_0x40b717(0x39e)](_0x40b717(0x315)),this[_0x40b717(0x4b4)]=_0x40b717(0x19d),setTimeout(()=>{const _0x3e205b=_0x40b717;this[_0x3e205b(0x4b4)]=_0x3e205b(0x468);},0xbb8);});});}if(_0x15027c[_0x417a3b(0x48e)](_0x417a3b(0x522))){const _0x456d9f=document[_0x417a3b(0x25c)](_0x417a3b(0x421));_0x456d9f&&_0x456d9f[_0x417a3b(0x571)]('click',function(){const _0x8a383d=_0x417a3b;console['log'](_0x8a383d(0x2a5)),this[_0x8a383d(0x18d)][_0x8a383d(0x29d)](_0x8a383d(0x315)),this[_0x8a383d(0x4b4)]=_0x8a383d(0x3a5),loadInactivePlayersData()[_0x8a383d(0x27c)](()=>{const _0x440dc0=_0x8a383d;this[_0x440dc0(0x18d)][_0x440dc0(0x39e)](_0x440dc0(0x315)),this[_0x440dc0(0x4b4)]=_0x440dc0(0x268);})[_0x8a383d(0x30e)](_0xe6264e=>{const _0x825b21=_0x8a383d;console['error'](_0x825b21(0x5c4),_0xe6264e),this[_0x825b21(0x18d)][_0x825b21(0x39e)](_0x825b21(0x315)),this[_0x825b21(0x4b4)]=_0x825b21(0x19d),setTimeout(()=>{const _0x30b9c5=_0x825b21;this[_0x30b9c5(0x4b4)]=_0x30b9c5(0x268);},0xbb8);});});}if(_0x15027c[_0x417a3b(0x48e)]('manage-highlights')){const _0x2b10d7=document['getElementById'](_0x417a3b(0x585));_0x2b10d7&&_0x2b10d7['addEventListener'](_0x417a3b(0x376),function(){const _0x115fc6=_0x417a3b;console[_0x115fc6(0x560)](_0x115fc6(0x5a4)),this[_0x115fc6(0x18d)][_0x115fc6(0x29d)](_0x115fc6(0x315)),this[_0x115fc6(0x4b4)]=_0x115fc6(0x3a5),loadHighlightsAdmin()[_0x115fc6(0x27c)](()=>{const _0x4084bd=_0x115fc6;this[_0x4084bd(0x18d)][_0x4084bd(0x39e)]('loading'),this[_0x4084bd(0x4b4)]=_0x4084bd(0x469);})[_0x115fc6(0x30e)](_0x17c06f=>{const _0x550f82=_0x115fc6;console[_0x550f82(0x279)](_0x550f82(0x57c),_0x17c06f),this['classList']['remove'](_0x550f82(0x315)),this[_0x550f82(0x4b4)]='<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error',setTimeout(()=>{const _0x323926=_0x550f82;this[_0x323926(0x4b4)]='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Highlights';},0xbb8);});});}if(_0x15027c['includes'](_0x417a3b(0x179))){const _0xfbe0d9=document[_0x417a3b(0x25c)](_0x417a3b(0x5b8));_0xfbe0d9&&_0xfbe0d9[_0x417a3b(0x571)](_0x417a3b(0x376),function(){const _0x5d2402=_0x417a3b;console[_0x5d2402(0x560)](_0x5d2402(0x27f)),this[_0x5d2402(0x18d)][_0x5d2402(0x29d)]('loading'),this[_0x5d2402(0x4b4)]=_0x5d2402(0x3a5),loadMatchesData(0x1)[_0x5d2402(0x27c)](()=>{const _0x4c7a91=_0x5d2402;this[_0x4c7a91(0x18d)][_0x4c7a91(0x39e)](_0x4c7a91(0x315)),this[_0x4c7a91(0x4b4)]=_0x4c7a91(0x228);})[_0x5d2402(0x30e)](_0x46f4ae=>{const _0x2bf29a=_0x5d2402;console[_0x2bf29a(0x279)](_0x2bf29a(0x5c1),_0x46f4ae),this[_0x2bf29a(0x18d)][_0x2bf29a(0x39e)](_0x2bf29a(0x315)),this[_0x2bf29a(0x4b4)]=_0x2bf29a(0x19d),setTimeout(()=>{const _0x1dcb07=_0x2bf29a;this[_0x1dcb07(0x4b4)]='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Matches';},0xbb8);});}),setupCreateTestMatchButton(),setupCreateTestMatchModal();}if(_0x15027c[_0x417a3b(0x48e)](_0x417a3b(0x367))){const _0x12dd70=document['getElementById'](_0x417a3b(0x474));_0x12dd70&&_0x12dd70[_0x417a3b(0x571)]('click',function(){const _0x5e81b0=_0x417a3b;console[_0x5e81b0(0x560)](_0x5e81b0(0x341)),this[_0x5e81b0(0x18d)][_0x5e81b0(0x29d)](_0x5e81b0(0x315)),this[_0x5e81b0(0x4b4)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...',loadRibbonsData()['then'](()=>{const _0x39868d=_0x5e81b0;this[_0x39868d(0x18d)]['remove']('loading'),this[_0x39868d(0x4b4)]=_0x39868d(0x443);})[_0x5e81b0(0x30e)](_0xa8a56f=>{const _0x119fea=_0x5e81b0;console[_0x119fea(0x279)](_0x119fea(0x2c9),_0xa8a56f),this[_0x119fea(0x18d)]['remove'](_0x119fea(0x315)),this[_0x119fea(0x4b4)]=_0x119fea(0x19d),setTimeout(()=>{const _0x1e59a0=_0x119fea;this[_0x1e59a0(0x4b4)]=_0x1e59a0(0x443);},0xbb8);});});}console[_0x417a3b(0x560)]('Data\x20load\x20buttons\x20initialized\x20based\x20on\x20permissions');}function setupDashboardSection(){const _0x26e94a=a4_0x3bee7f;document[_0x26e94a(0x25c)](_0x26e94a(0x1d0))['textContent']='-',document[_0x26e94a(0x25c)]('match-count')['textContent']='-',document[_0x26e94a(0x25c)](_0x26e94a(0x493))[_0x26e94a(0x3b6)]='-',document[_0x26e94a(0x25c)](_0x26e94a(0x247))[_0x26e94a(0x3b6)]='-';}function setupLadderSelector(){const _0x495b0b=a4_0x3bee7f,_0x369a31=document[_0x495b0b(0x234)](_0x495b0b(0x55b));_0x369a31[_0x495b0b(0x17c)](_0x1f1a58=>{const _0x137c2d=_0x495b0b;_0x1f1a58[_0x137c2d(0x571)](_0x137c2d(0x544),()=>{const _0xac478=_0x137c2d;currentLadder=_0x1f1a58['value'],document[_0xac478(0x552)][_0xac478(0x2ac)](_0xac478(0x217),currentLadder);const _0x2bd9d5=document[_0xac478(0x25c)](_0xac478(0x3f7));_0x2bd9d5&&(_0x2bd9d5[_0xac478(0x3b6)]=currentLadder),document['getElementById'](_0xac478(0x1d0))[_0xac478(0x3b6)]='-',document[_0xac478(0x25c)](_0xac478(0x1cc))[_0xac478(0x3b6)]='-',document[_0xac478(0x25c)](_0xac478(0x493))[_0xac478(0x3b6)]='-',document['getElementById']('rejected-count')[_0xac478(0x3b6)]='-',charts[_0xac478(0x1cf)]&&(charts[_0xac478(0x1cf)][_0xac478(0x4d5)](),charts['rankDistribution']=null),charts[_0xac478(0x196)]&&(charts[_0xac478(0x196)][_0xac478(0x4d5)](),charts[_0xac478(0x196)]=null),showNotification('Switched\x20to\x20'+currentLadder+_0xac478(0x53a),_0xac478(0x1dc));});});const _0x159ed6=document[_0x495b0b(0x25c)](_0x495b0b(0x3f7));_0x159ed6&&(_0x159ed6[_0x495b0b(0x3b6)]=currentLadder);}async function loadDashboardOverview(){const _0x3f195c=a4_0x3bee7f;try{console['log']('Loading\x20dashboard\x20overview\x20data...'),document[_0x3f195c(0x25c)](_0x3f195c(0x1d0))[_0x3f195c(0x3b6)]='-',document['getElementById'](_0x3f195c(0x1cc))[_0x3f195c(0x3b6)]='-',document['getElementById'](_0x3f195c(0x493))[_0x3f195c(0x3b6)]='-',document[_0x3f195c(0x25c)]('rejected-count')[_0x3f195c(0x3b6)]='-';const _0x13e6fe=currentLadder==='D1'?_0x3f195c(0x55d):currentLadder==='D2'?_0x3f195c(0x1ec):_0x3f195c(0x3e5),_0x506c4=currentLadder==='D1'?_0x3f195c(0x1ee):currentLadder==='D2'?'approvedMatchesD2':'approvedMatchesD3',_0x6c3bc6=currentLadder==='D1'?_0x3f195c(0x3b0):currentLadder==='D2'?_0x3f195c(0x3ca):_0x3f195c(0x3f4),_0xec40db=currentLadder==='D1'?'RejectedD1':currentLadder==='D2'?'RejectedD2':'RejectedD3';console['log'](_0x3f195c(0x4b8)+currentLadder+':\x20'+_0x13e6fe+',\x20'+_0x506c4);const _0x3e98e4=await getDocs(collection(db,_0x13e6fe)),_0x52fd1f=_0x3e98e4['size'],_0xff69df=await getDocs(collection(db,_0x506c4)),_0x59d56a=_0xff69df[_0x3f195c(0x3fc)],_0x42ccdf=await getDocs(collection(db,_0x6c3bc6)),_0x4278bb=_0x42ccdf[_0x3f195c(0x3fc)],_0x202f8d=await getDocs(collection(db,_0xec40db)),_0x3d6521=_0x202f8d[_0x3f195c(0x3fc)];return document['getElementById'](_0x3f195c(0x1d0))[_0x3f195c(0x3b6)]=_0x52fd1f,document[_0x3f195c(0x25c)](_0x3f195c(0x1cc))[_0x3f195c(0x3b6)]=_0x59d56a,document['getElementById'](_0x3f195c(0x493))[_0x3f195c(0x3b6)]=_0x4278bb,document['getElementById'](_0x3f195c(0x247))[_0x3f195c(0x3b6)]=_0x3d6521,await createRankDistributionChart(),await createActivityChart(),console['log'](_0x3f195c(0x4d6)),!![];}catch(_0x4702b8){console['error'](_0x3f195c(0x4df),_0x4702b8);throw _0x4702b8;}}async function createRankDistributionChart(){const _0x418ed3=a4_0x3bee7f;try{const _0x18179b=collection(db,currentLadder==='D1'?_0x418ed3(0x55d):_0x418ed3(0x1ec)),_0x2cdb5c=await getDocs(_0x18179b),_0x5608bc={'Unranked':0x0,'Bronze':0x0,'Silver':0x0,'Gold':0x0,'Emerald':0x0};_0x2cdb5c[_0x418ed3(0x17c)](_0x567c00=>{const _0x1e6182=_0x418ed3,_0x2d36dd=_0x567c00['data'](),_0x5dbfdb=_0x2d36dd['eloRating']||0x4b0;if(_0x5dbfdb>=0x7d0)_0x5608bc['Emerald']++;else{if(_0x5dbfdb>=0x708)_0x5608bc['Gold']++;else{if(_0x5dbfdb>=0x640)_0x5608bc['Silver']++;else{if(_0x5dbfdb>=0x578)_0x5608bc[_0x1e6182(0x31c)]++;else _0x5608bc[_0x1e6182(0x1e2)]++;}}}});const _0x50fa24=document[_0x418ed3(0x25c)]('rank-distribution-chart');charts[_0x418ed3(0x1cf)]&&charts[_0x418ed3(0x1cf)]['destroy'](),charts[_0x418ed3(0x1cf)]=new Chart(_0x50fa24,{'type':_0x418ed3(0x2b9),'data':{'labels':Object[_0x418ed3(0x276)](_0x5608bc),'datasets':[{'data':Object[_0x418ed3(0x193)](_0x5608bc),'backgroundColor':[_0x418ed3(0x36f),_0x418ed3(0x221),_0x418ed3(0x277),'#FFD700',_0x418ed3(0x513)],'borderWidth':0x2}]},'options':{'responsive':!![],'maintainAspectRatio':![],'plugins':{'legend':{'position':_0x418ed3(0x470),'labels':{'color':_0x418ed3(0x16f)}},'title':{'display':!![],'text':currentLadder+_0x418ed3(0x238),'color':_0x418ed3(0x16f),'font':{'size':0x10}}}}});}catch(_0x1a08a8){console[_0x418ed3(0x279)](_0x418ed3(0x48a),_0x1a08a8),document[_0x418ed3(0x25c)](_0x418ed3(0x2d7))[_0x418ed3(0x4b4)]=_0x418ed3(0x41d);}}async function createActivityChart(){const _0x38cd8a=a4_0x3bee7f;try{const _0xe33cb1=currentLadder==='D1'?_0x38cd8a(0x1ee):_0x38cd8a(0x5be),_0x53c0b1=collection(db,_0xe33cb1),_0x157509=new Date();_0x157509['setDate'](_0x157509[_0x38cd8a(0x4dc)]()-0x7);const _0x117334=query(_0x53c0b1,where(_0x38cd8a(0x340),'>=',_0x157509),orderBy(_0x38cd8a(0x340),_0x38cd8a(0x1d6))),_0x1c10c5=await getDocs(_0x117334),_0x40fffd=['Sunday',_0x38cd8a(0x42a),_0x38cd8a(0x1b0),_0x38cd8a(0x46b),_0x38cd8a(0x321),_0x38cd8a(0x1d2),_0x38cd8a(0x22d)],_0x4e84e5=_0x40fffd[_0x38cd8a(0x1d4)]((_0x292e50,_0x49689a)=>({..._0x292e50,[_0x49689a]:0x0}),{});_0x1c10c5[_0x38cd8a(0x17c)](_0x328ff0=>{const _0x3fd6e3=_0x38cd8a,_0x40903c=_0x328ff0[_0x3fd6e3(0x392)]();if(_0x40903c[_0x3fd6e3(0x340)]){const _0xb8f87a=_0x40fffd[new Date(_0x40903c[_0x3fd6e3(0x340)][_0x3fd6e3(0x2ca)]*0x3e8)[_0x3fd6e3(0x4e5)]()];_0x4e84e5[_0xb8f87a]++;}});const _0x4d9be3=document[_0x38cd8a(0x25c)]('activity-chart');charts[_0x38cd8a(0x196)]&&charts[_0x38cd8a(0x196)][_0x38cd8a(0x4d5)](),charts[_0x38cd8a(0x196)]=new Chart(_0x4d9be3,{'type':'bar','data':{'labels':_0x40fffd,'datasets':[{'label':_0x38cd8a(0x300),'data':_0x40fffd['map'](_0xcce842=>_0x4e84e5[_0xcce842]),'backgroundColor':currentLadder==='D1'?_0x38cd8a(0x451):_0x38cd8a(0x2ab),'borderColor':currentLadder==='D1'?_0x38cd8a(0x52c):_0x38cd8a(0x3b7),'borderWidth':0x1}]},'options':{'responsive':!![],'maintainAspectRatio':![],'scales':{'y':{'beginAtZero':!![],'ticks':{'color':_0x38cd8a(0x16f)},'grid':{'color':_0x38cd8a(0x2d2)}},'x':{'ticks':{'color':'#e0e0e0'},'grid':{'color':_0x38cd8a(0x2d2)}}},'plugins':{'legend':{'labels':{'color':'#e0e0e0'}},'title':{'display':!![],'text':currentLadder+_0x38cd8a(0x21a),'color':'#e0e0e0','font':{'size':0x10}}}}});}catch(_0x2fba84){console[_0x38cd8a(0x279)](_0x38cd8a(0x2f6),_0x2fba84),document[_0x38cd8a(0x25c)](_0x38cd8a(0x411))['innerHTML']=_0x38cd8a(0x41d);}}async function loadPlayersData(){const _0x38298c=a4_0x3bee7f,_0x51c9e9=document[_0x38298c(0x25c)]('players-table-body');if(!_0x51c9e9)return;_0x51c9e9[_0x38298c(0x4b4)]='<tr><td\x20colspan=\x226\x22\x20class=\x22loading-cell\x22>Loading\x20players...</td></tr>';try{let _0x554431=_0x38298c(0x55d);if(currentLadder==='D2')_0x554431=_0x38298c(0x1ec);else currentLadder==='D3'&&(_0x554431=_0x38298c(0x3e5));console[_0x38298c(0x560)]('Loading\x20players\x20from\x20'+_0x554431+_0x38298c(0x32a));const _0x26dfee=collection(db,_0x554431),_0x6378d6=query(_0x26dfee,orderBy(_0x38298c(0x311),'desc')),_0x30c775=await getDocs(_0x6378d6);if(_0x30c775['empty']){_0x51c9e9['innerHTML']=_0x38298c(0x218);return;}_0x51c9e9[_0x38298c(0x4b4)]='';let _0x9ae6=0x1;_0x30c775[_0x38298c(0x17c)](_0x3b8a17=>{const _0x4a970d=_0x38298c,_0x571fa0=_0x3b8a17[_0x4a970d(0x392)](),_0x5e8fb1=getRankFromElo(_0x571fa0['eloRating']||0x4b0),_0x444ce8=getRankStyle(_0x571fa0['eloRating']||0x4b0),_0x2ecf9f=document[_0x4a970d(0x29b)]('tr');_0x2ecf9f[_0x4a970d(0x4b4)]=_0x4a970d(0x222)+_0x9ae6+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22username\x22\x20style=\x22color:\x20'+_0x444ce8['color']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x571fa0[_0x4a970d(0x2e1)]||_0x4a970d(0x541))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22elo\x22>'+(_0x571fa0[_0x4a970d(0x311)]||0x4b0)+_0x4a970d(0x2d6)+_0x444ce8[_0x4a970d(0x2d9)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5e8fb1+_0x4a970d(0x405)+(_0x571fa0['wins']||0x0)+'W\x20/\x20'+(_0x571fa0[_0x4a970d(0x333)]||0x0)+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-btn\x22\x20data-id=\x22'+_0x3b8a17['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-btn\x22\x20data-id=\x22'+_0x3b8a17['id']+_0x4a970d(0x2ec),_0x51c9e9[_0x4a970d(0x326)](_0x2ecf9f),_0x9ae6++;}),setupPlayerActionButtons();}catch(_0x2b442c){console['error'](_0x38298c(0x4d4),_0x2b442c),_0x51c9e9[_0x38298c(0x4b4)]=_0x38298c(0x45c)+_0x2b442c['message']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}function getRankFromElo(_0x2524ba){const _0x4903ff=a4_0x3bee7f;if(_0x2524ba>=0x7d0)return _0x4903ff(0x3dd);if(_0x2524ba>=0x708)return _0x4903ff(0x36c);if(_0x2524ba>=0x640)return _0x4903ff(0x379);if(_0x2524ba>=0x578)return _0x4903ff(0x31c);return'Unranked';}function setupPlayerActionButtons(){const _0x23e92b=a4_0x3bee7f;document['querySelectorAll'](_0x23e92b(0x230))[_0x23e92b(0x17c)](_0x246a27=>{const _0x3863d0=_0x23e92b;_0x246a27[_0x3863d0(0x571)](_0x3863d0(0x376),async _0x52893d=>{const _0x3b82b6=_0x3863d0,_0x4ff06c=_0x52893d['currentTarget'][_0x3b82b6(0x26b)]['id'];openEditPlayerModal(_0x4ff06c);});}),document[_0x23e92b(0x234)](_0x23e92b(0x3b8))['forEach'](_0x222cc6=>{const _0x51a932=_0x23e92b;_0x222cc6[_0x51a932(0x571)](_0x51a932(0x376),async _0x1d202d=>{const _0x2b6dbe=_0x51a932,_0x161c15=_0x1d202d[_0x2b6dbe(0x4ef)][_0x2b6dbe(0x26b)]['id'];confirmDeletePlayer(_0x161c15);});});}async function openEditPlayerModal(_0x3386ba){const _0x39fbdb=a4_0x3bee7f;try{const _0x30232e=currentLadder==='D1'?_0x39fbdb(0x55d):_0x39fbdb(0x1ec),_0xe10dec=doc(db,_0x30232e,_0x3386ba),_0xa53e83=await getDoc(_0xe10dec);if(!_0xa53e83[_0x39fbdb(0x495)]()){showNotification(_0x39fbdb(0x212),_0x39fbdb(0x279));return;}const _0x36762b=_0xa53e83[_0x39fbdb(0x392)](),_0x43ba80=document[_0x39fbdb(0x25c)](_0x39fbdb(0x51d)),_0x3f2ea2=document['getElementById'](_0x39fbdb(0x4f9)),_0x4c1f85=document[_0x39fbdb(0x25c)](_0x39fbdb(0x16b)),_0x1760b3=document[_0x39fbdb(0x25c)](_0x39fbdb(0x2d3)),_0x5eaf9e=document['getElementById'](_0x39fbdb(0x5b6));_0x3f2ea2['value']=_0x36762b['username']||'',_0x4c1f85[_0x39fbdb(0x496)]=_0x36762b[_0x39fbdb(0x311)]||0x4b0,_0x1760b3[_0x39fbdb(0x496)]=_0x36762b[_0x39fbdb(0x384)]||0x0,_0x5eaf9e[_0x39fbdb(0x496)]=_0x36762b[_0x39fbdb(0x333)]||0x0,_0x43ba80['dataset'][_0x39fbdb(0x23e)]=_0x3386ba,_0x43ba80['classList'][_0x39fbdb(0x29d)]('active');}catch(_0x6bd16a){console[_0x39fbdb(0x279)](_0x39fbdb(0x1e8),_0x6bd16a),showNotification(_0x39fbdb(0x527),'error');}}async function saveEditedPlayer(){const _0x420d3d=a4_0x3bee7f;try{const _0x7d24b1=document[_0x420d3d(0x25c)](_0x420d3d(0x51d)),_0x1b75ca=_0x7d24b1[_0x420d3d(0x26b)][_0x420d3d(0x23e)];if(!_0x1b75ca){showNotification(_0x420d3d(0x1eb),_0x420d3d(0x279));return;}const _0xeabdb7=document[_0x420d3d(0x25c)](_0x420d3d(0x4f9)),_0x51013d=document[_0x420d3d(0x25c)](_0x420d3d(0x16b)),_0x209924=document[_0x420d3d(0x25c)](_0x420d3d(0x2d3)),_0x2d1e8f=document[_0x420d3d(0x25c)](_0x420d3d(0x5b6)),_0x515565=_0xeabdb7['value'][_0x420d3d(0x2a9)](),_0x57c9c2=parseInt(_0x51013d[_0x420d3d(0x496)]),_0x5882b0=parseInt(_0x209924[_0x420d3d(0x496)]),_0x5d2d67=parseInt(_0x2d1e8f[_0x420d3d(0x496)]);if(!_0x515565||isNaN(_0x57c9c2)){showNotification(_0x420d3d(0x3ac),_0x420d3d(0x279));return;}const _0x505dcd=currentLadder==='D1'?_0x420d3d(0x55d):_0x420d3d(0x1ec),_0xd3704=doc(db,_0x505dcd,_0x1b75ca),_0xf87422=await getDoc(_0xd3704),_0x4455a2=_0xf87422[_0x420d3d(0x495)]()?_0xf87422[_0x420d3d(0x392)]():{},_0x54083d=_0x4455a2['eloRating']||0x4b0;await updateDoc(_0xd3704,{'username':_0x515565,'eloRating':_0x57c9c2,'wins':_0x5882b0||0x0,'losses':_0x5d2d67||0x0,'lastModifiedAt':serverTimestamp(),'lastModifiedBy':auth[_0x420d3d(0x4c8)][_0x420d3d(0x1dd)]});if(_0x57c9c2!==_0x54083d){const _0x18931d=currentLadder==='D1'?_0x420d3d(0x3ce):_0x420d3d(0x382);await addDoc(collection(db,_0x18931d),{'player':_0x515565,'previousElo':_0x54083d,'newElo':_0x57c9c2,'timestamp':serverTimestamp(),'type':_0x420d3d(0x21f),'modifiedBy':auth[_0x420d3d(0x4c8)][_0x420d3d(0x1dd)],'gameMode':currentLadder});}closeEditPlayerModal(),loadPlayersData(),showNotification(_0x420d3d(0x26a),_0x420d3d(0x4ba));}catch(_0xe66a6){console['error']('Error\x20updating\x20player:',_0xe66a6),showNotification(_0x420d3d(0x500)+_0xe66a6['message'],_0x420d3d(0x279));}}function closeEditPlayerModal(){const _0x3487f4=a4_0x3bee7f,_0x9bb2ff=document[_0x3487f4(0x25c)]('edit-player-modal');_0x9bb2ff[_0x3487f4(0x18d)][_0x3487f4(0x39e)](_0x3487f4(0x28f)),_0x9bb2ff['dataset'][_0x3487f4(0x23e)]='';}async function confirmDeletePlayer(_0xc80b7c){const _0x5d9fe5=a4_0x3bee7f;if(confirm(_0x5d9fe5(0x1c8)))try{const _0x39f6d5=currentLadder==='D1'?'players':_0x5d9fe5(0x1ec);await deleteDoc(doc(db,_0x39f6d5,_0xc80b7c)),loadPlayersData(),showNotification('Player\x20deleted\x20successfully',_0x5d9fe5(0x4ba));}catch(_0x4d6163){console['error'](_0x5d9fe5(0x305),_0x4d6163),showNotification(_0x5d9fe5(0x480)+_0x4d6163[_0x5d9fe5(0x3cc)],_0x5d9fe5(0x279));}}async function setupManagePlayersSection(){const _0xbcb307=a4_0x3bee7f,_0x418e55=document[_0xbcb307(0x25c)](_0xbcb307(0x160));_0x418e55&&_0x418e55[_0xbcb307(0x571)](_0xbcb307(0x2b7),async _0x1383d3=>{const _0x4b6067=_0xbcb307;_0x1383d3[_0x4b6067(0x4de)](),await addNewPlayer();});const _0x18ef6d=document[_0xbcb307(0x25c)](_0xbcb307(0x454));_0x18ef6d&&_0x18ef6d[_0xbcb307(0x571)]('input',debounce(filterPlayerTable,0x12c));const _0x4b957f=document[_0xbcb307(0x25c)]('save-player-btn');_0x4b957f&&_0x4b957f['addEventListener'](_0xbcb307(0x376),saveEditedPlayer);const _0x379de2=document[_0xbcb307(0x25c)]('cancel-edit-btn');_0x379de2&&_0x379de2[_0xbcb307(0x571)](_0xbcb307(0x376),closeEditPlayerModal);const _0x1079fb=document[_0xbcb307(0x25c)](_0xbcb307(0x51d));_0x1079fb&&_0x1079fb[_0xbcb307(0x571)](_0xbcb307(0x376),_0x3e1f86=>{const _0x3cd3df=_0xbcb307;_0x3e1f86[_0x3cd3df(0x3bf)]===_0x1079fb&&closeEditPlayerModal();});const _0x3d13fa=document[_0xbcb307(0x25c)](_0xbcb307(0x426));_0x3d13fa&&_0x3d13fa[_0xbcb307(0x571)](_0xbcb307(0x544),()=>{const _0x32d3af=_0xbcb307;currentLadder=_0x3d13fa[_0x32d3af(0x496)],loadPlayersData();});}async function addNewPlayer(){const _0x342d4d=a4_0x3bee7f;try{const _0x82547d=document[_0x342d4d(0x25c)]('new-player-username'),_0x5235f4=document['getElementById']('new-player-elo'),_0x4ff1a3=_0x82547d[_0x342d4d(0x496)]['trim'](),_0x1e51cc=parseInt(_0x5235f4[_0x342d4d(0x496)])||0x4b0;if(!_0x4ff1a3){alert(_0x342d4d(0x4ad));return;}console[_0x342d4d(0x560)]('Adding\x20player\x20'+_0x4ff1a3+'\x20with\x20ELO\x20'+_0x1e51cc+_0x342d4d(0x237)+currentLadder+'\x20ladder');let _0x208c8b=_0x342d4d(0x55d),_0x118bba=_0x342d4d(0x3ce);if(currentLadder==='D2')_0x208c8b=_0x342d4d(0x1ec),_0x118bba=_0x342d4d(0x382);else currentLadder==='D3'&&(_0x208c8b=_0x342d4d(0x3e5),_0x118bba=_0x342d4d(0x20c));const _0x18e03d=query(collection(db,_0x208c8b),where('username','==',_0x4ff1a3)),_0x1dbf42=await getDocs(_0x18e03d);if(!_0x1dbf42[_0x342d4d(0x2b5)]){alert(_0x342d4d(0x43a)+_0x4ff1a3+_0x342d4d(0x59c)+currentLadder+_0x342d4d(0x331));return;}const _0x3664cb=auth['currentUser'],_0x37296={'username':_0x4ff1a3,'eloRating':_0x1e51cc,'wins':0x0,'losses':0x0,'createdAt':serverTimestamp(),'createdBy':_0x3664cb?_0x3664cb[_0x342d4d(0x1dd)]:_0x342d4d(0x15f),'gameMode':currentLadder};await addDoc(collection(db,_0x208c8b),_0x37296),await addDoc(collection(db,_0x118bba),{'player':_0x4ff1a3,'previousElo':0x4b0,'newElo':_0x1e51cc,'timestamp':serverTimestamp(),'type':_0x342d4d(0x30b),'placedBy':_0x3664cb?_0x3664cb['email']:_0x342d4d(0x15f),'gameMode':currentLadder}),_0x82547d[_0x342d4d(0x496)]='',_0x5235f4[_0x342d4d(0x496)]=_0x342d4d(0x44d),alert('Player\x20'+_0x4ff1a3+'\x20added\x20successfully\x20to\x20'+currentLadder+_0x342d4d(0x52e)),loadPlayersData();}catch(_0x1160fd){console['error'](_0x342d4d(0x3c4),_0x1160fd),alert(_0x342d4d(0x45f)+_0x1160fd['message']);}}document[a4_0x3bee7f(0x571)]('DOMContentLoaded',()=>{const _0x1b10aa=a4_0x3bee7f,_0xfcb53a=document[_0x1b10aa(0x25c)]('add-player-form');_0xfcb53a&&_0xfcb53a['addEventListener'](_0x1b10aa(0x2b7),_0x34a655=>{const _0x114e3c=_0x1b10aa;_0x34a655[_0x114e3c(0x4de)](),addNewPlayer();});});function filterPlayerTable(){const _0x5aa52a=a4_0x3bee7f,_0x4ba3e3=document[_0x5aa52a(0x25c)](_0x5aa52a(0x454))[_0x5aa52a(0x496)][_0x5aa52a(0x369)](),_0x3f753e=document['querySelectorAll'](_0x5aa52a(0x225));let _0x13ef67=0x0;_0x3f753e['forEach'](_0x23d0bd=>{const _0x5ce80b=_0x5aa52a,_0x46b83e=_0x23d0bd[_0x5ce80b(0x39f)](_0x5ce80b(0x5bf))?.['textContent'][_0x5ce80b(0x369)]()||'';_0x46b83e[_0x5ce80b(0x48e)](_0x4ba3e3)?(_0x23d0bd[_0x5ce80b(0x581)][_0x5ce80b(0x423)]='',_0x13ef67++):_0x23d0bd['style']['display']=_0x5ce80b(0x52a);});const _0x293b64=document[_0x5aa52a(0x25c)](_0x5aa52a(0x4c5));_0x293b64&&(_0x13ef67===0x0&&_0x4ba3e3!==''?_0x293b64[_0x5aa52a(0x581)][_0x5aa52a(0x423)]=_0x5aa52a(0x56f):_0x293b64[_0x5aa52a(0x581)][_0x5aa52a(0x423)]=_0x5aa52a(0x52a));}function debounce(_0x233552,_0x268b1b){let _0xf640e1;return function(..._0x3126da){const _0x38161f=a4_0xb179;clearTimeout(_0xf640e1),_0xf640e1=setTimeout(()=>_0x233552[_0x38161f(0x425)](this,_0x3126da),_0x268b1b);};}async function loadEloHistory(_0x169f5c=0x1){const _0x37ac41=a4_0x3bee7f,_0x4bb888=document['getElementById'](_0x37ac41(0x3cf)),_0x407ee8=currentLadder[_0x37ac41(0x369)]();if(!_0x4bb888)return;_0x4bb888[_0x37ac41(0x4b4)]=_0x37ac41(0x54e);try{const _0xcdc4fb=currentLadder==='D1'?_0x37ac41(0x3ce):currentLadder==='D2'?_0x37ac41(0x382):_0x37ac41(0x20c),_0x296cce=collection(db,_0xcdc4fb);let _0x1c9d16;if(_0x169f5c>eloHistoryPagination[_0x407ee8][_0x37ac41(0x4cc)]&&eloHistoryPagination[_0x407ee8][_0x37ac41(0x453)])_0x1c9d16=query(_0x296cce,orderBy(_0x37ac41(0x472),_0x37ac41(0x1c3)),startAfter(eloHistoryPagination[_0x407ee8][_0x37ac41(0x453)]),limit(PAGE_SIZE));else _0x169f5c<eloHistoryPagination[_0x407ee8][_0x37ac41(0x4cc)]&&eloHistoryPagination[_0x407ee8]['firstVisible']?_0x1c9d16=query(_0x296cce,orderBy('timestamp',_0x37ac41(0x1c3)),endBefore(eloHistoryPagination[_0x407ee8][_0x37ac41(0x3e4)]),limitToLast(PAGE_SIZE)):_0x1c9d16=query(_0x296cce,orderBy('timestamp','desc'),limit(PAGE_SIZE));const _0x1cef2a=await getDocs(_0x1c9d16);if(_0x1cef2a[_0x37ac41(0x2b5)]){_0x4bb888['innerHTML']=_0x37ac41(0x5bd),document[_0x37ac41(0x25c)](_0x407ee8+_0x37ac41(0x2bf))[_0x37ac41(0x3b6)]=_0x37ac41(0x2fe);return;}eloHistoryPagination[_0x407ee8][_0x37ac41(0x4cc)]=_0x169f5c,eloHistoryPagination[_0x407ee8][_0x37ac41(0x3e4)]=_0x1cef2a[_0x37ac41(0x4da)][0x0],eloHistoryPagination[_0x407ee8][_0x37ac41(0x453)]=_0x1cef2a[_0x37ac41(0x4da)][_0x1cef2a[_0x37ac41(0x4da)]['length']-0x1];const _0x29244f=new Map();_0x4bb888['innerHTML']='';const _0x3a7dc2=async _0x565141=>{const _0x532772=_0x37ac41;if(typeof _0x565141!==_0x532772(0x51f)||_0x565141['length']<0x14||/[^a-zA-Z0-9-_]/[_0x532772(0x20f)](_0x565141))return _0x565141;if(_0x29244f['has'](_0x565141))return _0x29244f[_0x532772(0x2f4)](_0x565141);try{for(const _0x461588 of[_0x532772(0x55d),_0x532772(0x1ec),'playersD3',_0x532772(0x534)]){const _0x16d766=await getDoc(doc(db,_0x461588,_0x565141));if(_0x16d766[_0x532772(0x495)]()&&_0x16d766['data']()[_0x532772(0x2e1)]){const _0xd5c2b3=_0x16d766[_0x532772(0x392)]()[_0x532772(0x2e1)];return _0x29244f['set'](_0x565141,_0xd5c2b3),_0xd5c2b3;}}return _0x565141;}catch(_0xfb02d9){return console[_0x532772(0x2ce)](_0x532772(0x4f0)+_0x565141+':',_0xfb02d9),_0x565141;}};for(const _0x2ef638 of _0x1cef2a[_0x37ac41(0x4da)]){const _0x1d7510=_0x2ef638[_0x37ac41(0x392)](),_0x830ecd=document[_0x37ac41(0x29b)]('tr'),_0x13740b=_0x1d7510[_0x37ac41(0x472)]?new Date(_0x1d7510[_0x37ac41(0x472)][_0x37ac41(0x2ca)]*0x3e8)['toLocaleString']():_0x37ac41(0x2a8),_0x29610a=_0x1d7510['newElo']-_0x1d7510['previousElo'],_0x5e657b=_0x29610a>0x0?'positive-change':_0x29610a<0x0?_0x37ac41(0x3c9):'',_0x4427ad=_0x29610a>0x0?'+':'',_0x52360c=_0x1d7510[_0x37ac41(0x1c2)]||_0x1d7510[_0x37ac41(0x2e1)]||_0x1d7510[_0x37ac41(0x32f)]||_0x37ac41(0x2a8),_0x27e1ed=await _0x3a7dc2(_0x52360c);_0x830ecd['innerHTML']=_0x37ac41(0x55c)+_0x13740b+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22player\x22>'+_0x27e1ed+_0x37ac41(0x32d)+(_0x1d7510['previousElo']||_0x37ac41(0x2a8))+_0x37ac41(0x37d)+(_0x1d7510[_0x37ac41(0x4db)]||'N/A')+_0x37ac41(0x52b)+_0x5e657b+'\x22>'+_0x4427ad+_0x29610a+_0x37ac41(0x539)+formatHistoryType(_0x1d7510['type'])+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22admin-action\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1d7510['modifiedBy']||_0x1d7510[_0x37ac41(0x574)]||_0x1d7510[_0x37ac41(0x3ea)]||_0x37ac41(0x307))+_0x37ac41(0x402),_0x4bb888[_0x37ac41(0x326)](_0x830ecd);}document[_0x37ac41(0x25c)](_0x407ee8+'-page-indicator')['textContent']=_0x37ac41(0x54f)+_0x169f5c;const _0x7a54b1=document['getElementById'](_0x407ee8+'-prev-page'),_0x3de071=document[_0x37ac41(0x25c)](_0x407ee8+_0x37ac41(0x3d9));if(_0x7a54b1)_0x7a54b1['disabled']=_0x169f5c<=0x1;const _0x59b52a=query(_0x296cce,orderBy(_0x37ac41(0x472),_0x37ac41(0x1c3)),startAfter(eloHistoryPagination[_0x407ee8][_0x37ac41(0x453)]),limit(0x1)),_0x205c86=await getDocs(_0x59b52a);if(_0x3de071)_0x3de071[_0x37ac41(0x24d)]=_0x205c86['empty'];}catch(_0x38c000){console[_0x37ac41(0x279)](_0x37ac41(0x39b),_0x38c000),_0x4bb888['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x227\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20history:\x20'+_0x38c000[_0x37ac41(0x3cc)]+_0x37ac41(0x1a7);}}function formatHistoryType(_0x338fcf){const _0x38d5ef=a4_0x3bee7f;switch(_0x338fcf){case _0x38d5ef(0x5a7):return _0x38d5ef(0x4be);case _0x38d5ef(0x5ab):return _0x38d5ef(0x4cb);case _0x38d5ef(0x293):return'Demotion';case'admin_modification':return _0x38d5ef(0x357);case _0x38d5ef(0x30b):return'Initial\x20Placement';default:return _0x338fcf||'Unknown';}}function setupEloHistorySection(){const _0x1a35de=a4_0x3bee7f;document[_0x1a35de(0x25c)](_0x1a35de(0x1ff))[_0x1a35de(0x571)](_0x1a35de(0x376),()=>{loadEloHistory(eloHistoryPagination['d1']['page']-0x1);}),document[_0x1a35de(0x25c)](_0x1a35de(0x597))[_0x1a35de(0x571)](_0x1a35de(0x376),()=>{const _0x4afab7=_0x1a35de;loadEloHistory(eloHistoryPagination['d1'][_0x4afab7(0x4cc)]+0x1);}),document[_0x1a35de(0x25c)](_0x1a35de(0x37a))[_0x1a35de(0x571)](_0x1a35de(0x376),()=>{const _0x5786a2=_0x1a35de;loadEloHistory(eloHistoryPagination['d2'][_0x5786a2(0x4cc)]-0x1);}),document['getElementById'](_0x1a35de(0x42f))[_0x1a35de(0x571)](_0x1a35de(0x376),()=>{loadEloHistory(eloHistoryPagination['d2']['page']+0x1);});const _0x57ffb1=document[_0x1a35de(0x25c)](_0x1a35de(0x21b)),_0x21530a=document[_0x1a35de(0x25c)](_0x1a35de(0x396));_0x57ffb1&&_0x57ffb1['addEventListener']('click',()=>{loadEloHistory(eloHistoryPagination['d3']['page']-0x1);});_0x21530a&&_0x21530a[_0x1a35de(0x571)](_0x1a35de(0x376),()=>{const _0x93caa3=_0x1a35de;loadEloHistory(eloHistoryPagination['d3'][_0x93caa3(0x4cc)]+0x1);});const _0x45be4f=document['getElementById'](_0x1a35de(0x34f));_0x45be4f&&_0x45be4f[_0x1a35de(0x571)](_0x1a35de(0x518),debounce(filterEloHistoryTable,0x12c));const _0x14916b=document[_0x1a35de(0x25c)](_0x1a35de(0x1f0));_0x14916b&&_0x14916b['addEventListener'](_0x1a35de(0x544),applyEloHistoryFilters);const _0x53c92c=document[_0x1a35de(0x25c)]('reset-history-filters');_0x53c92c&&_0x53c92c['addEventListener'](_0x1a35de(0x376),resetEloHistoryFilters);}function filterEloHistoryTable(){const _0x3e3de2=a4_0x3bee7f,_0x5a2530=document[_0x3e3de2(0x25c)](_0x3e3de2(0x34f))['value']['toLowerCase'](),_0x8d4315=document['querySelectorAll'](_0x3e3de2(0x2a3));let _0x30588f=0x0;_0x8d4315[_0x3e3de2(0x17c)](_0x30161d=>{const _0x767919=_0x3e3de2;if(_0x30161d[_0x767919(0x18d)][_0x767919(0x394)](_0x767919(0x3c3))||_0x30161d[_0x767919(0x18d)][_0x767919(0x394)]('empty-state')||_0x30161d[_0x767919(0x18d)]['contains'](_0x767919(0x459)))return;const _0x1507f3=_0x30161d[_0x767919(0x39f)](_0x767919(0x24f))?.[_0x767919(0x3b6)][_0x767919(0x369)]()||'',_0x3d075f=_0x30161d[_0x767919(0x39f)](_0x767919(0x342))?.[_0x767919(0x3b6)][_0x767919(0x369)]()||'',_0x252232=_0x30161d[_0x767919(0x39f)](_0x767919(0x4fc))?.['textContent'][_0x767919(0x369)]()||'';_0x1507f3['includes'](_0x5a2530)||_0x3d075f[_0x767919(0x48e)](_0x5a2530)||_0x252232[_0x767919(0x48e)](_0x5a2530)?(_0x30161d[_0x767919(0x581)][_0x767919(0x423)]='',_0x30588f++):_0x30161d['style']['display']=_0x767919(0x52a);});}async function applyEloHistoryFilters(){const _0x1e99b7=a4_0x3bee7f,_0x2bdfd9=document[_0x1e99b7(0x25c)]('history-start-date')['value'],_0x4cea9a=document[_0x1e99b7(0x25c)](_0x1e99b7(0x4c1))[_0x1e99b7(0x496)],_0x1b37ab=document[_0x1e99b7(0x25c)](_0x1e99b7(0x1f0))[_0x1e99b7(0x496)],_0x45f5c1=currentLadder[_0x1e99b7(0x369)]();eloHistoryPagination[_0x45f5c1]={'page':0x1,'lastVisible':null,'firstVisible':null};const _0x5dff60=document['getElementById'](_0x1e99b7(0x3cf));_0x5dff60[_0x1e99b7(0x4b4)]=_0x1e99b7(0x294);try{const _0xfeac45=currentLadder==='D1'?_0x1e99b7(0x3ce):_0x1e99b7(0x382),_0x2be7d4=collection(db,_0xfeac45);let _0x1715f5=[orderBy('timestamp',_0x1e99b7(0x1c3))];if(_0x2bdfd9){const _0x2c97eb=new Date(_0x2bdfd9);_0x2c97eb[_0x1e99b7(0x2c4)](0x0,0x0,0x0,0x0),_0x1715f5[_0x1e99b7(0x1bd)](where(_0x1e99b7(0x472),'>=',_0x2c97eb));}if(_0x4cea9a){const _0x5c4426=new Date(_0x4cea9a);_0x5c4426[_0x1e99b7(0x2c4)](0x17,0x3b,0x3b,0x3e7),_0x1715f5['push'](where(_0x1e99b7(0x472),'<=',_0x5c4426));}_0x1b37ab&&_0x1b37ab!=='all'&&_0x1715f5[_0x1e99b7(0x1bd)](where(_0x1e99b7(0x216),'==',_0x1b37ab));_0x1715f5['push'](limit(PAGE_SIZE));const _0x4b4a6b=query(_0x2be7d4,..._0x1715f5),_0x4ca65e=await getDocs(_0x4b4a6b);!_0x4ca65e[_0x1e99b7(0x2b5)]&&(eloHistoryPagination[_0x45f5c1]['firstVisible']=_0x4ca65e[_0x1e99b7(0x4da)][0x0],eloHistoryPagination[_0x45f5c1][_0x1e99b7(0x453)]=_0x4ca65e[_0x1e99b7(0x4da)][_0x4ca65e[_0x1e99b7(0x4da)][_0x1e99b7(0x592)]-0x1]);_0x5dff60[_0x1e99b7(0x4b4)]='';if(_0x4ca65e['empty']){_0x5dff60[_0x1e99b7(0x4b4)]=_0x1e99b7(0x178);return;}_0x4ca65e[_0x1e99b7(0x17c)](_0x1d6d21=>{const _0x185ae0=_0x1e99b7,_0x29a1ac=_0x1d6d21[_0x185ae0(0x392)](),_0x88e234=document[_0x185ae0(0x29b)]('tr'),_0x1ea9e6=_0x29a1ac[_0x185ae0(0x472)]?new Date(_0x29a1ac['timestamp']['seconds']*0x3e8)[_0x185ae0(0x582)]():_0x185ae0(0x2a8),_0x438bc5=_0x29a1ac[_0x185ae0(0x4db)]-_0x29a1ac[_0x185ae0(0x489)],_0x2133d2=_0x438bc5>0x0?_0x185ae0(0x4ca):_0x438bc5<0x0?_0x185ae0(0x3c9):'',_0x3537c6=_0x438bc5>0x0?'+':'',_0x3c73c0=_0x29a1ac[_0x185ae0(0x1c2)]||_0x29a1ac[_0x185ae0(0x2e1)]||_0x29a1ac['userId']||_0x185ae0(0x2a8);_0x88e234[_0x185ae0(0x4b4)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22timestamp\x22>'+_0x1ea9e6+_0x185ae0(0x335)+_0x3c73c0+_0x185ae0(0x32d)+(_0x29a1ac[_0x185ae0(0x489)]||'N/A')+_0x185ae0(0x37d)+(_0x29a1ac[_0x185ae0(0x4db)]||_0x185ae0(0x2a8))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22elo-change\x20'+_0x2133d2+'\x22>'+_0x3537c6+_0x438bc5+_0x185ae0(0x539)+formatHistoryType(_0x29a1ac[_0x185ae0(0x216)])+_0x185ae0(0x1bc)+(_0x29a1ac[_0x185ae0(0x42b)]||_0x29a1ac['promotedBy']||_0x29a1ac[_0x185ae0(0x3ea)]||_0x185ae0(0x307))+_0x185ae0(0x402),_0x5dff60['appendChild'](_0x88e234);}),document[_0x1e99b7(0x25c)](_0x45f5c1+_0x1e99b7(0x2bf))[_0x1e99b7(0x3b6)]=_0x1e99b7(0x2fe);}catch(_0x2c1a5e){console[_0x1e99b7(0x279)]('Error\x20applying\x20filters:',_0x2c1a5e),_0x5dff60['innerHTML']=_0x1e99b7(0x57e)+_0x2c1a5e[_0x1e99b7(0x3cc)]+_0x1e99b7(0x1a7);}}function resetEloHistoryFilters(){const _0x161f65=a4_0x3bee7f;document[_0x161f65(0x25c)](_0x161f65(0x520))[_0x161f65(0x496)]='',document[_0x161f65(0x25c)](_0x161f65(0x4c1))[_0x161f65(0x496)]='',document['getElementById'](_0x161f65(0x1f0))[_0x161f65(0x496)]='all',document[_0x161f65(0x25c)](_0x161f65(0x34f))[_0x161f65(0x496)]='';const _0xd907bd=currentLadder['toLowerCase']();eloHistoryPagination[_0xd907bd]={'page':0x1,'lastVisible':null,'firstVisible':null},loadEloHistory(0x1);}function setupRankControls(){const _0x3e2648=a4_0x3bee7f,_0x468f1f=document[_0x3e2648(0x25c)](_0x3e2648(0x50e)),_0x3c5ffb=document['getElementById'](_0x3e2648(0x4f1)),_0xb1fb62=document['getElementById'](_0x3e2648(0x45a));_0x468f1f&&_0x3c5ffb&&_0xb1fb62&&(_0x468f1f[_0x3e2648(0x571)]('click',()=>{const _0x2ccea7=_0x3e2648;_0x3c5ffb[_0x2ccea7(0x18d)][_0x2ccea7(0x29d)]('active');}),_0x3c5ffb[_0x3e2648(0x571)](_0x3e2648(0x376),_0x5bab07=>{const _0x16ed4b=_0x3e2648;_0x5bab07['target']===_0x3c5ffb&&_0x3c5ffb[_0x16ed4b(0x18d)][_0x16ed4b(0x39e)]('active');}),_0xb1fb62[_0x3e2648(0x571)]('submit',async _0x37e0b1=>{const _0x5addfb=_0x3e2648;_0x37e0b1[_0x5addfb(0x4de)]();const _0x1151cb=document[_0x5addfb(0x25c)](_0x5addfb(0x50c)),_0x511db1=document[_0x5addfb(0x25c)](_0x5addfb(0x3d0)),_0x5aa315=_0x1151cb[_0x5addfb(0x496)][_0x5addfb(0x2a9)](),_0x27a22a=_0x511db1[_0x5addfb(0x496)];if(!_0x5aa315){showNotification(_0x5addfb(0x23a),_0x5addfb(0x279));return;}try{await promotePlayer(_0x5aa315,_0x27a22a),_0x3c5ffb['classList'][_0x5addfb(0x39e)]('active'),_0x1151cb[_0x5addfb(0x496)]='';}catch(_0x2c4944){showNotification(_0x2c4944[_0x5addfb(0x3cc)],_0x5addfb(0x279));}}),document[_0x3e2648(0x25c)](_0x3e2648(0x304))[_0x3e2648(0x571)](_0x3e2648(0x376),()=>{const _0x173292=_0x3e2648;_0x3c5ffb[_0x173292(0x18d)][_0x173292(0x39e)](_0x173292(0x28f));}));const _0x2f2544=document[_0x3e2648(0x25c)](_0x3e2648(0x35f)),_0x2c567d=document[_0x3e2648(0x25c)](_0x3e2648(0x1da)),_0x41419d=document[_0x3e2648(0x25c)]('demote-form');_0x2f2544&&_0x2c567d&&_0x41419d&&(_0x2f2544[_0x3e2648(0x571)]('click',()=>{const _0x42196e=_0x3e2648;_0x2c567d[_0x42196e(0x18d)][_0x42196e(0x29d)](_0x42196e(0x28f));}),_0x2c567d[_0x3e2648(0x571)](_0x3e2648(0x376),_0x50b9d6=>{const _0x22ecbe=_0x3e2648;_0x50b9d6[_0x22ecbe(0x3bf)]===_0x2c567d&&_0x2c567d['classList'][_0x22ecbe(0x39e)](_0x22ecbe(0x28f));}),_0x41419d[_0x3e2648(0x571)](_0x3e2648(0x2b7),async _0x9fe0ef=>{const _0x1a0ce0=_0x3e2648;_0x9fe0ef[_0x1a0ce0(0x4de)]();const _0x25ab93=document[_0x1a0ce0(0x25c)]('demote-username'),_0x13ced6=document[_0x1a0ce0(0x25c)](_0x1a0ce0(0x1fc)),_0x3ec88d=_0x25ab93[_0x1a0ce0(0x496)][_0x1a0ce0(0x2a9)](),_0xc37d25=_0x13ced6[_0x1a0ce0(0x496)];if(!_0x3ec88d){alert(_0x1a0ce0(0x23a));return;}try{await demotePlayer(_0x3ec88d,_0xc37d25),document[_0x1a0ce0(0x25c)]('demote-modal')['classList'][_0x1a0ce0(0x39e)](_0x1a0ce0(0x28f)),document[_0x1a0ce0(0x25c)]('demote-username')[_0x1a0ce0(0x496)]='';}catch(_0x555bbb){console[_0x1a0ce0(0x279)]('Error\x20in\x20demotion:',_0x555bbb);}}));const _0x4d79e8=document[_0x3e2648(0x25c)]('set-elo-btn'),_0x3a7c2d=document[_0x3e2648(0x25c)](_0x3e2648(0x257)),_0x455cc3=document[_0x3e2648(0x25c)](_0x3e2648(0x2da));_0x4d79e8&&_0x3a7c2d&&_0x455cc3&&(_0x4d79e8[_0x3e2648(0x571)](_0x3e2648(0x376),()=>{const _0xb07ba8=_0x3e2648;_0x3a7c2d['classList'][_0xb07ba8(0x29d)]('active');}),_0x3a7c2d[_0x3e2648(0x571)](_0x3e2648(0x376),_0x880cee=>{const _0x291897=_0x3e2648;_0x880cee['target']===_0x3a7c2d&&_0x3a7c2d['classList']['remove'](_0x291897(0x28f));}),_0x455cc3[_0x3e2648(0x571)]('submit',async _0xd164aa=>{const _0x467344=_0x3e2648;_0xd164aa['preventDefault']();const _0x22b350=document['getElementById']('set-elo-username'),_0x352fb4=document['getElementById'](_0x467344(0x25a));let _0x660dab;const _0x4a9c8e=document[_0x467344(0x25c)](_0x467344(0x46d)),_0x345d8c=document[_0x467344(0x39f)](_0x467344(0x189));if(_0x4a9c8e)_0x660dab=_0x4a9c8e[_0x467344(0x496)];else _0x345d8c?_0x660dab=_0x345d8c[_0x467344(0x496)]:_0x660dab='D1';if(!_0x22b350||!_0x352fb4){showNotification('Form\x20elements\x20are\x20missing',_0x467344(0x279));return;}const _0xb5daa8=_0x22b350['value']['trim'](),_0x4335e4=parseInt(_0x352fb4[_0x467344(0x496)]);if(!_0xb5daa8||isNaN(_0x4335e4)){showNotification(_0x467344(0x3ac),_0x467344(0x279));return;}try{await setCustomElo(_0xb5daa8,_0x4335e4,_0x660dab),_0x3a7c2d[_0x467344(0x18d)]['remove'](_0x467344(0x28f)),_0x22b350['value']='',_0x352fb4[_0x467344(0x496)]='';}catch(_0x556c4a){showNotification(_0x556c4a[_0x467344(0x3cc)],_0x467344(0x279));}}),document[_0x3e2648(0x25c)](_0x3e2648(0x447))['addEventListener'](_0x3e2648(0x376),()=>{const _0x5ecfe5=_0x3e2648;_0x3a7c2d[_0x5ecfe5(0x18d)][_0x5ecfe5(0x39e)](_0x5ecfe5(0x28f));}));const _0x307330=document[_0x3e2648(0x25c)](_0x3e2648(0x165)),_0x3486c3=document[_0x3e2648(0x25c)](_0x3e2648(0x256));if(_0x307330&&_0x3486c3){_0x307330['addEventListener'](_0x3e2648(0x376),_0x3f1e92=>{const _0x5273ce=_0x3e2648;_0x3f1e92[_0x5273ce(0x3bf)]===_0x307330&&closeModalHandler();}),_0x3486c3[_0x3e2648(0x571)](_0x3e2648(0x2b7),async _0x54705e=>{const _0x473835=_0x3e2648;_0x54705e[_0x473835(0x4de)]();const _0x1f9189=document[_0x473835(0x25c)]('role-username'),_0x1dcfd9=document[_0x473835(0x25c)](_0x473835(0x555)),_0x5cbc16=document['getElementById']('role-color'),_0x5c736f=_0x1f9189['value'][_0x473835(0x2a9)](),_0x9b796d=_0x1dcfd9[_0x473835(0x496)][_0x473835(0x2a9)](),_0x14b908=_0x5cbc16[_0x473835(0x496)];if(!_0x5c736f){showNotification(_0x473835(0x55f),_0x473835(0x279));return;}try{await setUserRole(_0x5c736f,_0x9b796d,_0x14b908),closeModalHandler(),loadUsersWithRoles();}catch(_0x24774d){}});const _0xef751f=document['getElementById'](_0x3e2648(0x5aa));_0xef751f&&(_0xef751f[_0x3e2648(0x3fd)]('click',closeModalHandler),_0xef751f[_0x3e2648(0x571)]('click',closeModalHandler));}}async function promotePlayer(_0x2a0c27,_0x47dbbe){const _0x53368d=a4_0x3bee7f;try{console[_0x53368d(0x560)](_0x53368d(0x5ae)+_0x2a0c27+'\x20in\x20'+_0x47dbbe+_0x53368d(0x331));const _0xcb038f=auth[_0x53368d(0x4c8)];if(!_0xcb038f)throw new Error(_0x53368d(0x1bf));const _0xa7f128=_0x47dbbe==='D2'?_0x53368d(0x1ec):_0x53368d(0x55d),_0x45fdf5=_0x47dbbe==='D2'?_0x53368d(0x382):_0x53368d(0x3ce);console[_0x53368d(0x560)](_0x53368d(0x48b)+_0xa7f128);const _0x2b7cbf=collection(db,_0xa7f128),_0x40fca0=query(_0x2b7cbf,where('username','==',_0x2a0c27)),_0x4aa9b7=await getDocs(_0x40fca0);if(_0x4aa9b7[_0x53368d(0x2b5)]){alert(_0x53368d(0x479)+_0x47dbbe+_0x53368d(0x331));throw new Error(_0x53368d(0x479)+_0x47dbbe+_0x53368d(0x331));}const _0x4d50c2=_0x4aa9b7[_0x53368d(0x4da)][0x0],_0x270958=_0x4d50c2['data'](),_0x4f660e=_0x270958[_0x53368d(0x311)]||0x4b0,_0x2a126c=_0x4d50c2['id'];console['log'](_0x53368d(0x31e)+_0x4f660e);const _0x39247c=[{'name':'Bronze','elo':0x578},{'name':_0x53368d(0x379),'elo':0x640},{'name':'Gold','elo':0x708},{'name':_0x53368d(0x3dd),'elo':0x7d0}];let _0x4b58f1=_0x39247c['find'](_0x28c0d2=>_0x28c0d2[_0x53368d(0x47c)]>_0x4f660e);if(!_0x4b58f1){alert(_0x53368d(0x16a)+_0x47dbbe+_0x53368d(0x331));throw new Error(_0x53368d(0x16a)+_0x47dbbe+'\x20ladder');}console[_0x53368d(0x560)]('Promoting\x20player\x20to\x20'+_0x4b58f1[_0x53368d(0x38e)]+'\x20('+_0x4b58f1[_0x53368d(0x47c)]+')'),await updateDoc(doc(db,_0xa7f128,_0x4d50c2['id']),{'eloRating':_0x4b58f1['elo'],'lastPromotedAt':serverTimestamp(),'promotedBy':_0xcb038f[_0x53368d(0x1dd)]||_0x53368d(0x15f)}),await addDoc(collection(db,_0x45fdf5),{'player':_0x2a0c27,'previousElo':_0x4f660e,'newElo':_0x4b58f1[_0x53368d(0x47c)],'timestamp':serverTimestamp(),'type':_0x53368d(0x5ab),'rankAchieved':_0x4b58f1[_0x53368d(0x38e)],'promotedBy':_0xcb038f[_0x53368d(0x1dd)]||'admin','gameMode':_0x47dbbe});try{const {promotionManager:_0x59917d}=await import('./promotions.js'),_0x51bbbf=_0x59917d[_0x53368d(0x204)](_0x4f660e),_0x4f7a66=_0x4b58f1[_0x53368d(0x38e)];await _0x59917d['sendPromotionNotification'](_0x2a126c,_0x2a0c27,_0x4f660e,_0x4b58f1[_0x53368d(0x47c)],_0x51bbbf,_0x4f7a66,_0x53368d(0x5ab),{'displayName':_0x2a0c27,'source':'admin','adminUser':_0xcb038f[_0x53368d(0x1dd)],'ladder':_0x47dbbe}),console[_0x53368d(0x560)](_0x53368d(0x41e));}catch(_0x27b08b){console['error'](_0x53368d(0x19e),_0x27b08b);}return alert('Successfully\x20promoted\x20'+_0x2a0c27+_0x53368d(0x237)+_0x4b58f1['name']+'\x20('+_0x4b58f1[_0x53368d(0x47c)]+')'),currentLadder===_0x47dbbe&&(loadPlayersData(),loadEloHistory(0x1)),!![];}catch(_0x9ae679){console[_0x53368d(0x279)](_0x53368d(0x319),_0x9ae679),alert('Error\x20promoting\x20player:\x20'+_0x9ae679['message']);throw _0x9ae679;}}document['addEventListener'](a4_0x3bee7f(0x3c8),()=>{const _0x247a28=a4_0x3bee7f,_0x470028=document[_0x247a28(0x25c)](_0x247a28(0x45a));_0x470028&&_0x470028[_0x247a28(0x571)]('submit',async _0xf09f51=>{const _0x106c11=_0x247a28;_0xf09f51['preventDefault']();const _0x7a14ba=document[_0x106c11(0x25c)](_0x106c11(0x50c))[_0x106c11(0x496)][_0x106c11(0x2a9)](),_0x4dbacc=document[_0x106c11(0x39f)]('input[name=\x22promote-ladder\x22]:checked')[_0x106c11(0x496)];if(!_0x7a14ba){alert(_0x106c11(0x23a));return;}try{await promotePlayer(_0x7a14ba,_0x4dbacc),document['getElementById']('promote-modal')[_0x106c11(0x18d)][_0x106c11(0x39e)](_0x106c11(0x28f)),document[_0x106c11(0x25c)](_0x106c11(0x50c))[_0x106c11(0x496)]='';}catch(_0x1600d5){console[_0x106c11(0x279)]('Error\x20in\x20promotion:',_0x1600d5);}});});async function demotePlayer(_0x4cca55,_0xc12896){const _0x304b65=a4_0x3bee7f;try{console[_0x304b65(0x560)]('Attempting\x20to\x20demote\x20'+_0x4cca55+_0x304b65(0x3ad)+_0xc12896+_0x304b65(0x331));const _0x4f5295=auth[_0x304b65(0x4c8)];if(!_0x4f5295)throw new Error(_0x304b65(0x1bf));const _0x2e8cd2=_0xc12896==='D2'?'playersD2':_0x304b65(0x55d),_0xced186=_0xc12896==='D2'?'eloHistoryD2':'eloHistory';console['log'](_0x304b65(0x48b)+_0x2e8cd2);const _0x4ed1e2=collection(db,_0x2e8cd2),_0x24d049=query(_0x4ed1e2,where('username','==',_0x4cca55)),_0x26641b=await getDocs(_0x24d049);if(_0x26641b['empty']){alert(_0x304b65(0x479)+_0xc12896+_0x304b65(0x331));throw new Error('Player\x20not\x20found\x20in\x20'+_0xc12896+_0x304b65(0x331));}const _0x4f1693=_0x26641b[_0x304b65(0x4da)][0x0],_0x334a2d=_0x4f1693[_0x304b65(0x392)](),_0x284f98=_0x334a2d[_0x304b65(0x311)]||0x4b0;console[_0x304b65(0x560)]('Found\x20player\x20with\x20current\x20ELO:\x20'+_0x284f98);const _0x5b1fd8=[{'name':_0x304b65(0x36c),'elo':0x708},{'name':_0x304b65(0x379),'elo':0x640},{'name':_0x304b65(0x31c),'elo':0x578},{'name':_0x304b65(0x1e2),'elo':0x4b0}];let _0x6ad83c=_0x5b1fd8['find'](_0x4962b8=>_0x4962b8[_0x304b65(0x47c)]<_0x284f98);if(!_0x6ad83c){alert(_0x304b65(0x3bd)+_0xc12896+_0x304b65(0x331));throw new Error('Player\x20is\x20already\x20at\x20minimum\x20rank\x20(Unranked)\x20in\x20'+_0xc12896+'\x20ladder');}console[_0x304b65(0x560)](_0x304b65(0x46c)+_0x6ad83c['name']+'\x20('+_0x6ad83c[_0x304b65(0x47c)]+')'),await updateDoc(doc(db,_0x2e8cd2,_0x4f1693['id']),{'eloRating':_0x6ad83c[_0x304b65(0x47c)],'lastDemotedAt':serverTimestamp(),'demotedBy':_0x4f5295[_0x304b65(0x1dd)]||_0x304b65(0x15f)}),await addDoc(collection(db,_0xced186),{'player':_0x4cca55,'previousElo':_0x284f98,'newElo':_0x6ad83c['elo'],'timestamp':serverTimestamp(),'type':_0x304b65(0x293),'rankAchieved':_0x6ad83c[_0x304b65(0x38e)],'demotedBy':_0x4f5295['email']||_0x304b65(0x15f),'gameMode':_0xc12896});try{const {promotionManager:_0x49ce15}=await import(_0x304b65(0x197)),_0x45e851=_0x49ce15[_0x304b65(0x204)](_0x284f98),_0x576e28=_0x6ad83c[_0x304b65(0x38e)];await _0x49ce15['sendPromotionNotification'](_0x4f1693['id'],_0x4cca55,_0x284f98,_0x6ad83c['elo'],_0x45e851,_0x576e28,'demotion',{'displayName':_0x4cca55,'source':_0x304b65(0x15f),'adminUser':_0x4f5295[_0x304b65(0x1dd)],'ladder':_0xc12896}),console[_0x304b65(0x560)](_0x304b65(0x3e8));}catch(_0x45bf81){console[_0x304b65(0x279)](_0x304b65(0x19e),_0x45bf81);}return alert(_0x304b65(0x404)+_0x4cca55+_0x304b65(0x237)+_0x6ad83c[_0x304b65(0x38e)]+'\x20('+_0x6ad83c[_0x304b65(0x47c)]+')'),currentLadder===_0xc12896&&(loadPlayersData(),loadEloHistory(0x1)),!![];}catch(_0x51d163){console[_0x304b65(0x279)](_0x304b65(0x5c5),_0x51d163),alert(_0x304b65(0x401)+_0x51d163[_0x304b65(0x3cc)]);throw _0x51d163;}}document['addEventListener'](a4_0x3bee7f(0x3c8),()=>{const _0x3a6040=a4_0x3bee7f,_0x3e20a5=document[_0x3a6040(0x25c)]('demote-form');_0x3e20a5&&_0x3e20a5[_0x3a6040(0x571)]('submit',async _0x28a065=>{const _0x17c97b=_0x3a6040;_0x28a065[_0x17c97b(0x4de)]();const _0x248fa0=document['getElementById']('demote-username')[_0x17c97b(0x496)][_0x17c97b(0x2a9)](),_0x4521c3=document[_0x17c97b(0x39f)]('input[name=\x22demote-ladder\x22]:checked')[_0x17c97b(0x496)];if(!_0x248fa0){alert(_0x17c97b(0x23a));return;}try{await demotePlayer(_0x248fa0,_0x4521c3),document['getElementById']('demote-modal')[_0x17c97b(0x18d)][_0x17c97b(0x39e)]('active'),document[_0x17c97b(0x25c)](_0x17c97b(0x285))[_0x17c97b(0x496)]='';}catch(_0x1e31a8){console['error'](_0x17c97b(0x5a0),_0x1e31a8);}});});async function setCustomElo(_0x2167a8,_0x3b23d8,_0x55c0ca){const _0x18daae=a4_0x3bee7f;try{const _0x3469cd=auth['currentUser'];if(!_0x3469cd||!isAdmin(_0x3469cd[_0x18daae(0x1dd)]))throw new Error(_0x18daae(0x24c));const _0x538ef1=_0x55c0ca==='D2'?_0x18daae(0x1ec):_0x18daae(0x55d),_0x772b0=_0x55c0ca==='D2'?_0x18daae(0x382):'eloHistory',_0x465a4f=collection(db,_0x538ef1),_0x1f08fc=query(_0x465a4f,where('username','==',_0x2167a8)),_0x144826=await getDocs(_0x1f08fc);if(_0x144826[_0x18daae(0x2b5)])throw new Error(_0x18daae(0x479)+_0x55c0ca+_0x18daae(0x331));const _0x253cbb=_0x144826[_0x18daae(0x4da)][0x0],_0xc860ef=_0x253cbb['data'](),_0x30b19d=_0xc860ef['eloRating']||0x4b0,_0x3a4a8c=writeBatch(db);_0x3a4a8c['update'](doc(db,_0x538ef1,_0x253cbb['id']),{'eloRating':_0x3b23d8,'lastModifiedAt':serverTimestamp(),'lastModifiedBy':_0x3469cd[_0x18daae(0x1dd)]});const _0x241106=doc(collection(db,_0x772b0));return _0x3a4a8c[_0x18daae(0x192)](_0x241106,{'player':_0x2167a8,'previousElo':_0x30b19d,'newElo':_0x3b23d8,'timestamp':serverTimestamp(),'type':'admin_modification','modifiedBy':_0x3469cd['email'],'gameMode':_0x55c0ca}),await _0x3a4a8c[_0x18daae(0x33e)](),showNotification(_0x18daae(0x2ef)+_0x2167a8+'\x20was\x20updated\x20from\x20'+_0x30b19d+_0x18daae(0x237)+_0x3b23d8,_0x18daae(0x4ba)),currentLadder===_0x55c0ca&&(loadDashboardOverview(),loadPlayersData(),loadEloHistory(0x1)),!![];}catch(_0xe1c3a4){console['error']('Error\x20setting\x20custom\x20ELO:',_0xe1c3a4);throw _0xe1c3a4;}}async function setUserRole(_0x2ad0a0,_0x53dfbf,_0x4dec72){const _0x23a425=a4_0x3bee7f;try{const _0x2c61ce=auth['currentUser'];if(!_0x2c61ce||!isAdmin(_0x2c61ce[_0x23a425(0x1dd)]))throw new Error(_0x23a425(0x24c));const _0x4f5d65=_0x53dfbf?_0x53dfbf[_0x23a425(0x2a9)]():null,_0x10563b=_0x4f5d65?_0x4dec72||_0x23a425(0x36f):null,[_0x505de1,_0x4734dc]=await Promise[_0x23a425(0x383)]([getDocs(query(collection(db,_0x23a425(0x55d)),where(_0x23a425(0x2e1),'==',_0x2ad0a0))),getDocs(query(collection(db,_0x23a425(0x1ec)),where(_0x23a425(0x2e1),'==',_0x2ad0a0)))]),_0x86ac19=[];if(!_0x505de1['empty'])_0x86ac19[_0x23a425(0x1bd)]({'ref':_0x505de1['docs'][0x0]['ref'],'source':'D1'});if(!_0x4734dc['empty'])_0x86ac19[_0x23a425(0x1bd)]({'ref':_0x4734dc['docs'][0x0][_0x23a425(0x1c9)],'source':'D2'});if(_0x86ac19['length']===0x0){const [_0x2ead94,_0x364c5c]=await Promise[_0x23a425(0x383)]([getDocs(query(collection(db,_0x23a425(0x534)),where(_0x23a425(0x2e1),'==',_0x2ad0a0))),getDocs(query(collection(db,'userProfiles'),where(_0x23a425(0x2e1),'==',_0x2ad0a0)))]);if(!_0x2ead94[_0x23a425(0x2b5)])_0x86ac19['push']({'ref':_0x2ead94['docs'][0x0][_0x23a425(0x1c9)],'source':_0x23a425(0x5a3)});if(!_0x364c5c[_0x23a425(0x2b5)])_0x86ac19[_0x23a425(0x1bd)]({'ref':_0x364c5c['docs'][0x0][_0x23a425(0x1c9)],'source':'UserProfile'});}if(_0x86ac19[_0x23a425(0x592)]===0x0)throw new Error(_0x23a425(0x206)+_0x2ad0a0+'\x22\x20not\x20found\x20in\x20any\x20collection');const _0x2d8d32=writeBatch(db);_0x86ac19[_0x23a425(0x17c)](_0x4f99ed=>{const _0x4bcf66=_0x23a425;console[_0x4bcf66(0x560)](_0x4bcf66(0x259)+_0x2ad0a0+_0x4bcf66(0x3ad)+_0x4f99ed[_0x4bcf66(0x3b5)]),!_0x4f5d65?_0x2d8d32[_0x4bcf66(0x207)](_0x4f99ed[_0x4bcf66(0x1c9)],{'roleName':deleteField(),'roleColor':deleteField(),'roleAssignedBy':deleteField(),'roleAssignedAt':deleteField()}):_0x2d8d32[_0x4bcf66(0x207)](_0x4f99ed[_0x4bcf66(0x1c9)],{'roleName':_0x4f5d65,'roleColor':_0x10563b,'roleAssignedBy':_0x2c61ce[_0x4bcf66(0x1dd)],'roleAssignedAt':serverTimestamp()});}),await _0x2d8d32[_0x23a425(0x33e)]();const _0x558a1e=_0x4f5d65?_0x23a425(0x46e)+_0x4f5d65+_0x23a425(0x354):'Role\x20removed';return showNotification(_0x558a1e+'\x20for\x20user\x20\x22'+_0x2ad0a0+'\x22',_0x23a425(0x4ba)),!![];}catch(_0x727305){console['error'](_0x23a425(0x599),_0x727305),showNotification(_0x23a425(0x328)+_0x727305[_0x23a425(0x3cc)],_0x23a425(0x279));throw _0x727305;}}function showNotification(_0x1f22dd,_0x482bf5=a4_0x3bee7f(0x1dc)){const _0x1b89c4=a4_0x3bee7f,_0x5290f3=document['createElement'](_0x1b89c4(0x190));_0x5290f3[_0x1b89c4(0x420)]=_0x1b89c4(0x1aa)+_0x482bf5,_0x5290f3[_0x1b89c4(0x4b4)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22notification-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+getNotificationIcon(_0x482bf5)+'\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x1f22dd+_0x1b89c4(0x54d),document[_0x1b89c4(0x552)]['appendChild'](_0x5290f3),setTimeout(()=>{const _0x3dda35=_0x1b89c4;_0x5290f3['classList']['add'](_0x3dda35(0x28f));},0xa);const _0x308d97=setTimeout(()=>{closeNotification(_0x5290f3);},0x1388);_0x5290f3[_0x1b89c4(0x39f)](_0x1b89c4(0x4e1))['addEventListener']('click',()=>{clearTimeout(_0x308d97),closeNotification(_0x5290f3);});}function getNotificationIcon(_0x4d50d3){const _0x1d78df=a4_0x3bee7f;switch(_0x4d50d3){case _0x1d78df(0x4ba):return _0x1d78df(0x37b);case'error':return _0x1d78df(0x1d5);case _0x1d78df(0x3dc):return _0x1d78df(0x171);case'info':default:return'fa-info-circle';}}function closeNotification(_0x124129){const _0x1e44fc=a4_0x3bee7f;_0x124129[_0x1e44fc(0x18d)][_0x1e44fc(0x39e)](_0x1e44fc(0x28f)),setTimeout(()=>{_0x124129['remove']();},0x12c);}function setupUserRolesSection(){const _0x32043a=a4_0x3bee7f,_0xe3a153=document[_0x32043a(0x25c)](_0x32043a(0x482));_0xe3a153&&_0xe3a153[_0x32043a(0x571)](_0x32043a(0x376),function(){const _0x4e2a7f=_0x32043a;this['classList'][_0x4e2a7f(0x29d)](_0x4e2a7f(0x315)),this[_0x4e2a7f(0x4b4)]=_0x4e2a7f(0x3a5),loadUsersWithRoles()[_0x4e2a7f(0x27c)](()=>{const _0x27e919=_0x4e2a7f;this[_0x27e919(0x18d)][_0x27e919(0x39e)](_0x27e919(0x315)),this[_0x27e919(0x4b4)]=_0x27e919(0x468);})[_0x4e2a7f(0x30e)](_0x551bcf=>{const _0x3d503b=_0x4e2a7f;console[_0x3d503b(0x279)](_0x3d503b(0x50f),_0x551bcf),this[_0x3d503b(0x18d)][_0x3d503b(0x39e)]('loading'),this['innerHTML']=_0x3d503b(0x19d),setTimeout(()=>{const _0x47a2ab=_0x3d503b;this[_0x47a2ab(0x4b4)]=_0x47a2ab(0x468);},0xbb8);});});const _0x2a98d2=document[_0x32043a(0x25c)](_0x32043a(0x2aa));_0x2a98d2&&_0x2a98d2['addEventListener'](_0x32043a(0x376),()=>{const _0x2ce061=_0x32043a,_0x3e3363=document['getElementById']('set-role-modal');_0x3e3363&&_0x3e3363['classList'][_0x2ce061(0x29d)]('active');});const _0x546a4f=document[_0x32043a(0x25c)](_0x32043a(0x4d7));_0x546a4f&&_0x546a4f[_0x32043a(0x571)]('input',debounce(filterUsersTable,0x12c));const _0x552ce2=document[_0x32043a(0x25c)](_0x32043a(0x266));_0x552ce2&&_0x552ce2[_0x32043a(0x571)](_0x32043a(0x544),filterUsersTable);}async function loadUsersWithRoles(){const _0x5b8edd=a4_0x3bee7f,_0x5b9136=document[_0x5b8edd(0x25c)](_0x5b8edd(0x2b6));if(!_0x5b9136)return;_0x5b9136[_0x5b8edd(0x4b4)]=_0x5b8edd(0x54a);try{const [_0x36ac58,_0x4de42f,_0xd4ae12,_0xfd3d95]=await Promise['all']([getDocs(collection(db,_0x5b8edd(0x55d))),getDocs(collection(db,_0x5b8edd(0x1ec))),getDocs(collection(db,_0x5b8edd(0x534))),getDocs(collection(db,_0x5b8edd(0x301)))]),_0x2cd0b1=new Map();function _0x614147(_0x541b73,_0x1cd983){const _0x31806d=_0x5b8edd;_0x541b73[_0x31806d(0x17c)](_0x2d588a=>{const _0x46195a=_0x31806d,_0x4c1807=_0x2d588a[_0x46195a(0x392)]();if(!_0x4c1807[_0x46195a(0x2e1)])return;if(!_0x2cd0b1[_0x46195a(0x292)](_0x4c1807[_0x46195a(0x2e1)]))_0x2cd0b1[_0x46195a(0x192)](_0x4c1807['username'],{'username':_0x4c1807[_0x46195a(0x2e1)],'roleName':_0x4c1807[_0x46195a(0x244)]||null,'roleColor':_0x4c1807[_0x46195a(0x4f3)]||null,'roleAssignedBy':_0x4c1807[_0x46195a(0x3fa)]||null,'roleAssignedAt':_0x4c1807[_0x46195a(0x419)]||null,'sources':[_0x1cd983]});else{const _0x6c2a2f=_0x2cd0b1[_0x46195a(0x2f4)](_0x4c1807[_0x46195a(0x2e1)]);_0x4c1807[_0x46195a(0x244)]&&(!_0x6c2a2f[_0x46195a(0x244)]||_0x1cd983==='D1'||_0x1cd983==='D2')&&(_0x6c2a2f[_0x46195a(0x244)]=_0x4c1807[_0x46195a(0x244)],_0x6c2a2f[_0x46195a(0x4f3)]=_0x4c1807[_0x46195a(0x4f3)],_0x6c2a2f[_0x46195a(0x3fa)]=_0x4c1807[_0x46195a(0x3fa)],_0x6c2a2f['roleAssignedAt']=_0x4c1807[_0x46195a(0x419)]),!_0x6c2a2f[_0x46195a(0x502)][_0x46195a(0x48e)](_0x1cd983)&&_0x6c2a2f[_0x46195a(0x502)][_0x46195a(0x1bd)](_0x1cd983);}});}_0x614147(_0x36ac58,'D1'),_0x614147(_0x4de42f,'D2'),_0x614147(_0xd4ae12,_0x5b8edd(0x350)),_0x614147(_0xfd3d95,_0x5b8edd(0x439));const _0x5c82c9=Array[_0x5b8edd(0x35d)](_0x2cd0b1[_0x5b8edd(0x193)]())[_0x5b8edd(0x475)]((_0x5eb5dc,_0x25c863)=>_0x5eb5dc[_0x5b8edd(0x2e1)]['localeCompare'](_0x25c863['username']));if(_0x5c82c9[_0x5b8edd(0x592)]===0x0){_0x5b9136[_0x5b8edd(0x4b4)]=_0x5b8edd(0x49f);return;}_0x5b9136[_0x5b8edd(0x4b4)]='',_0x5c82c9[_0x5b8edd(0x17c)](_0x7cf5f4=>{const _0x1a7f2f=_0x5b8edd,_0x1a7769=document[_0x1a7f2f(0x29b)]('tr');_0x1a7769['dataset'][_0x1a7f2f(0x2e1)]=_0x7cf5f4['username'],_0x1a7769[_0x1a7f2f(0x26b)][_0x1a7f2f(0x244)]=_0x7cf5f4['roleName']||'',_0x1a7769[_0x1a7f2f(0x26b)][_0x1a7f2f(0x4f3)]=_0x7cf5f4['roleColor']||_0x1a7f2f(0x36f);const _0x59bce1=_0x7cf5f4['roleAssignedAt']?new Date(_0x7cf5f4[_0x1a7f2f(0x419)]['seconds']*0x3e8)[_0x1a7f2f(0x34d)]():_0x1a7f2f(0x2a8),_0x227f65=_0x7cf5f4[_0x1a7f2f(0x244)]?'<span\x20class=\x22role-badge\x22\x20style=\x22background-color:\x20'+_0x7cf5f4['roleColor']+_0x1a7f2f(0x406)+getContrastColor(_0x7cf5f4['roleColor'])+_0x1a7f2f(0x2eb)+_0x7cf5f4[_0x1a7f2f(0x244)]+_0x1a7f2f(0x312):_0x1a7f2f(0x57d);_0x1a7769['innerHTML']=_0x1a7f2f(0x4ae)+_0x7cf5f4[_0x1a7f2f(0x2e1)]+_0x1a7f2f(0x499)+_0x7cf5f4[_0x1a7f2f(0x502)][_0x1a7f2f(0x58c)](',\x20')+_0x1a7f2f(0x353)+_0x227f65+_0x1a7f2f(0x19a)+(_0x7cf5f4['roleAssignedBy']||'N/A')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x59bce1+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-role-btn\x22\x20data-username=\x22'+_0x7cf5f4[_0x1a7f2f(0x2e1)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-edit\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x7cf5f4['roleName']?_0x1a7f2f(0x488)+_0x7cf5f4['username']+_0x1a7f2f(0x3ef):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x5b9136[_0x1a7f2f(0x326)](_0x1a7769);}),document[_0x5b8edd(0x234)]('.edit-role-btn')[_0x5b8edd(0x17c)](_0x334394=>{const _0x4ac9b4=_0x5b8edd;_0x334394[_0x4ac9b4(0x571)](_0x4ac9b4(0x376),()=>{const _0x198e70=_0x4ac9b4,_0xb458c0=_0x334394[_0x198e70(0x26b)][_0x198e70(0x2e1)];openRoleEditModal(_0xb458c0);});}),document[_0x5b8edd(0x234)](_0x5b8edd(0x57b))[_0x5b8edd(0x17c)](_0x49efcf=>{const _0x547e38=_0x5b8edd;_0x49efcf[_0x547e38(0x571)](_0x547e38(0x376),()=>{const _0x1bb39a=_0x547e38,_0x418a19=_0x49efcf['dataset'][_0x1bb39a(0x2e1)];confirm(_0x1bb39a(0x36b)+_0x418a19+'?')&&setUserRole(_0x418a19,null,null)['then'](()=>loadUsersWithRoles())['catch'](_0x136b03=>console[_0x1bb39a(0x279)](_0x1bb39a(0x32b),_0x136b03));});});}catch(_0x5091b7){console[_0x5b8edd(0x279)](_0x5b8edd(0x50f),_0x5091b7),_0x5b9136[_0x5b8edd(0x4b4)]=_0x5b8edd(0x538);}}function openRoleEditModal(_0x292047){const _0x21b68b=a4_0x3bee7f;console['log'](_0x21b68b(0x515),_0x292047);const _0x2dbda6=document[_0x21b68b(0x25c)]('set-role-modal'),_0x294b84=document['getElementById'](_0x21b68b(0x590)),_0x27406c=document[_0x21b68b(0x25c)]('user-role');if(!_0x2dbda6){console[_0x21b68b(0x279)](_0x21b68b(0x33f)),alert(_0x21b68b(0x3e7));return;}console[_0x21b68b(0x560)](_0x21b68b(0x3f3),_0x2dbda6);_0x294b84?(_0x294b84[_0x21b68b(0x496)]=_0x292047,console[_0x21b68b(0x560)](_0x21b68b(0x3b1)+_0x292047)):console[_0x21b68b(0x2ce)](_0x21b68b(0x1e1));const _0x1f6c96=document[_0x21b68b(0x39f)](_0x21b68b(0x4b2)+_0x292047+'\x22]');if(_0x1f6c96&&_0x27406c){const _0x5653a7=_0x1f6c96['dataset']['role'];_0x27406c[_0x21b68b(0x496)]=_0x5653a7==='none'?'':_0x5653a7,console[_0x21b68b(0x560)](_0x21b68b(0x298)+_0x27406c[_0x21b68b(0x496)]+_0x21b68b(0x16e)+_0x5653a7+')');}else{if(!_0x1f6c96)console[_0x21b68b(0x2ce)](_0x21b68b(0x291)+_0x292047+'\x20not\x20found.');if(!_0x27406c)console[_0x21b68b(0x2ce)](_0x21b68b(0x309));if(_0x27406c)_0x27406c['value']='';}console[_0x21b68b(0x560)](_0x21b68b(0x3ff)),_0x2dbda6[_0x21b68b(0x18d)][_0x21b68b(0x29d)]('active');const _0xdeb519=document[_0x21b68b(0x25c)](_0x21b68b(0x5aa));_0xdeb519?(console[_0x21b68b(0x560)](_0x21b68b(0x399)),_0xdeb519[_0x21b68b(0x3fd)](_0x21b68b(0x376),closeModalHandler),_0xdeb519['addEventListener'](_0x21b68b(0x376),closeModalHandler)):console[_0x21b68b(0x2ce)](_0x21b68b(0x226)),console[_0x21b68b(0x560)]('Attaching\x20background\x20click\x20listener.'),_0x2dbda6[_0x21b68b(0x3fd)](_0x21b68b(0x376),closeModalBackgroundHandler),_0x2dbda6[_0x21b68b(0x571)](_0x21b68b(0x376),closeModalBackgroundHandler);}function closeModalBackgroundHandler(_0x4e93ca){const _0x42675c=a4_0x3bee7f;_0x4e93ca[_0x42675c(0x3bf)]===this&&closeModalHandler();}function closeModalHandler(){const _0x305320=a4_0x3bee7f,_0x1bf5ea=document[_0x305320(0x25c)](_0x305320(0x165));_0x1bf5ea&&(_0x1bf5ea[_0x305320(0x18d)][_0x305320(0x39e)](_0x305320(0x28f)),_0x1bf5ea[_0x305320(0x3fd)](_0x305320(0x376),closeModalBackgroundHandler));}function filterUsersTable(){const _0x20b4a7=a4_0x3bee7f,_0x4c55fa=document[_0x20b4a7(0x25c)](_0x20b4a7(0x4d7))?.[_0x20b4a7(0x496)][_0x20b4a7(0x369)]()||'',_0x13bfbb=document['getElementById']('role-filter')?.['value']||_0x20b4a7(0x383),_0x53b86c=document[_0x20b4a7(0x234)](_0x20b4a7(0x267));let _0x292090=0x0;_0x53b86c['forEach'](_0x2052be=>{const _0x4a045b=_0x20b4a7;if(_0x2052be[_0x4a045b(0x39f)](_0x4a045b(0x2cb))||_0x2052be['querySelector']('.empty-state')||_0x2052be[_0x4a045b(0x39f)](_0x4a045b(0x2e8)))return;const _0x19349a=_0x2052be[_0x4a045b(0x26b)][_0x4a045b(0x2e1)]?.[_0x4a045b(0x369)]()||'',_0x3451a4=_0x2052be[_0x4a045b(0x26b)]['role']||'none',_0x120d4c=_0x19349a[_0x4a045b(0x48e)](_0x4c55fa),_0x481285=_0x13bfbb===_0x4a045b(0x383)||_0x3451a4===_0x13bfbb;_0x120d4c&&_0x481285?(_0x2052be['style'][_0x4a045b(0x423)]='',_0x292090++):_0x2052be['style'][_0x4a045b(0x423)]=_0x4a045b(0x52a);});if(_0x292090===0x0&&_0x53b86c[_0x20b4a7(0x592)]>0x0){const _0x5f2c7b=document['getElementById'](_0x20b4a7(0x2b6));if(_0x5f2c7b){if(!_0x5f2c7b[_0x20b4a7(0x39f)]('.no-results')){const _0x590e48=document[_0x20b4a7(0x29b)]('tr');_0x590e48[_0x20b4a7(0x18d)][_0x20b4a7(0x29d)](_0x20b4a7(0x5a2)),_0x590e48[_0x20b4a7(0x4b4)]='<td\x20colspan=\x225\x22\x20class=\x22empty-state\x22>No\x20users\x20match\x20your\x20filters</td>',_0x5f2c7b['appendChild'](_0x590e48);}}}else{const _0x30479c=document[_0x20b4a7(0x39f)](_0x20b4a7(0x553));_0x30479c&&_0x30479c[_0x20b4a7(0x39e)]();}}function setupManageArticlesSection(){const _0x321c5b=a4_0x3bee7f,_0x5f249b=document[_0x321c5b(0x25c)](_0x321c5b(0x516));_0x5f249b&&_0x5f249b['addEventListener'](_0x321c5b(0x376),function(){const _0x5a1f42=_0x321c5b;this[_0x5a1f42(0x18d)][_0x5a1f42(0x29d)](_0x5a1f42(0x315)),this[_0x5a1f42(0x4b4)]=_0x5a1f42(0x3a5),loadArticles()['then'](()=>{const _0x476b07=_0x5a1f42;this['classList'][_0x476b07(0x39e)](_0x476b07(0x315)),this['innerHTML']=_0x476b07(0x577);})[_0x5a1f42(0x30e)](_0x409ad1=>{const _0x5abf6a=_0x5a1f42;console['error']('Error\x20loading\x20articles:',_0x409ad1),this[_0x5abf6a(0x18d)][_0x5abf6a(0x39e)]('loading'),this['innerHTML']='<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error',setTimeout(()=>{const _0x57f40c=_0x5abf6a;this[_0x57f40c(0x4b4)]=_0x57f40c(0x577);},0xbb8);});});const _0x4cb764=document[_0x321c5b(0x25c)](_0x321c5b(0x53f));_0x4cb764?(console[_0x321c5b(0x560)](_0x321c5b(0x2e2)),_0x4cb764[_0x321c5b(0x581)]['display']='block',_0x4cb764[_0x321c5b(0x571)](_0x321c5b(0x376),()=>{openArticleModal();})):console[_0x321c5b(0x279)](_0x321c5b(0x374));const _0x387fa4=document[_0x321c5b(0x25c)](_0x321c5b(0x49d));_0x387fa4&&_0x387fa4['addEventListener']('submit',_0x13eb78=>{const _0xdc82b3=_0x321c5b;_0x13eb78[_0xdc82b3(0x4de)](),saveArticle();});const _0x1a6e30=document[_0x321c5b(0x25c)]('cancel-article-btn');_0x1a6e30&&_0x1a6e30[_0x321c5b(0x571)](_0x321c5b(0x376),()=>{closeArticleModal();});const _0x53e0ff=document[_0x321c5b(0x39f)]('#article-modal\x20.close-btn');_0x53e0ff&&_0x53e0ff['addEventListener'](_0x321c5b(0x376),()=>{closeArticleModal();});const _0x2a28d2=document[_0x321c5b(0x25c)]('article-modal');_0x2a28d2&&_0x2a28d2[_0x321c5b(0x571)](_0x321c5b(0x376),_0x55b354=>{const _0x1526ed=_0x321c5b;_0x55b354[_0x1526ed(0x3bf)]===_0x2a28d2&&closeArticleModal();});}async function loadArticles(){const _0x109808=a4_0x3bee7f,_0x587f16=document['getElementById'](_0x109808(0x3da));if(!_0x587f16)return;_0x587f16[_0x109808(0x4b4)]=_0x109808(0x250);try{const _0x1c5b09=collection(db,_0x109808(0x2c3)),_0x2922fc=query(_0x1c5b09,orderBy('createdAt',_0x109808(0x1c3))),_0x1cfbce=await getDocs(_0x2922fc);if(_0x1cfbce['empty']){_0x587f16['innerHTML']=_0x109808(0x580);return;}_0x587f16[_0x109808(0x4b4)]='',_0x1cfbce[_0x109808(0x17c)](_0x22502=>{const _0x4924c2=_0x109808,_0x3abc25=_0x22502[_0x4924c2(0x392)](),_0x2c9ab3=document[_0x4924c2(0x29b)]('tr'),_0x2273a3=_0x3abc25[_0x4924c2(0x22b)]?new Date(_0x3abc25[_0x4924c2(0x22b)][_0x4924c2(0x2ca)]*0x3e8)['toLocaleString']():_0x4924c2(0x2a8);_0x2c9ab3[_0x4924c2(0x4b4)]=_0x4924c2(0x4ae)+(_0x3abc25['title']||_0x4924c2(0x428))+_0x4924c2(0x19a)+(_0x3abc25[_0x4924c2(0x584)]||_0x4924c2(0x541))+_0x4924c2(0x19a)+_0x2273a3+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-article-btn\x22\x20data-id=\x22'+_0x22502['id']+_0x4924c2(0x446)+_0x22502['id']+_0x4924c2(0x2ec),_0x587f16[_0x4924c2(0x326)](_0x2c9ab3);}),setupArticleActionButtons();}catch(_0x255b12){console[_0x109808(0x279)](_0x109808(0x33b),_0x255b12),_0x587f16['innerHTML']=_0x109808(0x4fa)+_0x255b12[_0x109808(0x3cc)]+_0x109808(0x1a7);}}function setupArticleActionButtons(){const _0x5747bc=a4_0x3bee7f;document[_0x5747bc(0x234)]('.edit-article-btn')['forEach'](_0x31024f=>{const _0x57b2e5=_0x5747bc;_0x31024f['addEventListener'](_0x57b2e5(0x376),async _0x247ca0=>{const _0x3e8741=_0x57b2e5,_0x41d677=_0x247ca0[_0x3e8741(0x4ef)]['dataset']['id'];openArticleModal(_0x41d677);});}),document[_0x5747bc(0x234)](_0x5747bc(0x390))[_0x5747bc(0x17c)](_0xc6f78f=>{const _0x4bff2b=_0x5747bc;_0xc6f78f[_0x4bff2b(0x571)](_0x4bff2b(0x376),async _0x149ebe=>{const _0x288566=_0x149ebe['currentTarget']['dataset']['id'];confirmDeleteArticle(_0x288566);});});}function openArticleModal(_0x5edb77=null){const _0x8c94ca=a4_0x3bee7f,_0x3c73bc=document[_0x8c94ca(0x25c)](_0x8c94ca(0x2e5)),_0x2cee84=document[_0x8c94ca(0x25c)]('article-modal-title'),_0x42aab8=document['getElementById'](_0x8c94ca(0x49d)),_0x5abeb3=document[_0x8c94ca(0x25c)](_0x8c94ca(0x575));_0x42aab8[_0x8c94ca(0x302)](),_0x5abeb3['value']='';if(_0x5edb77)_0x2cee84[_0x8c94ca(0x3b6)]='Edit\x20Article',_0x5abeb3['value']=_0x5edb77,loadArticleData(_0x5edb77);else{_0x2cee84[_0x8c94ca(0x3b6)]='Create\x20Article';const _0x6ae262=auth[_0x8c94ca(0x4c8)];if(_0x6ae262){const _0x4b2b08=document[_0x8c94ca(0x25c)](_0x8c94ca(0x3bc));if(_0x4b2b08&&_0x6ae262['displayName'])_0x4b2b08['value']=_0x6ae262[_0x8c94ca(0x3ba)];else _0x4b2b08&&(_0x4b2b08[_0x8c94ca(0x496)]=_0x6ae262[_0x8c94ca(0x1dd)]);}}_0x3c73bc[_0x8c94ca(0x18d)][_0x8c94ca(0x29d)]('active');}async function loadArticleData(_0x2e0094){const _0x4b4b08=a4_0x3bee7f;try{const _0x53dfbb=doc(db,_0x4b4b08(0x2c3),_0x2e0094),_0x4b7aa8=await getDoc(_0x53dfbb);if(!_0x4b7aa8[_0x4b4b08(0x495)]()){showNotification(_0x4b4b08(0x1d1),_0x4b4b08(0x279));return;}const _0x222f06=_0x4b7aa8[_0x4b4b08(0x392)]();document[_0x4b4b08(0x25c)](_0x4b4b08(0x2d8))['value']=_0x222f06[_0x4b4b08(0x49e)]||'',document[_0x4b4b08(0x25c)](_0x4b4b08(0x3bc))[_0x4b4b08(0x496)]=_0x222f06[_0x4b4b08(0x584)]||'',document[_0x4b4b08(0x25c)](_0x4b4b08(0x20a))[_0x4b4b08(0x496)]=_0x222f06[_0x4b4b08(0x1d3)]||'',document[_0x4b4b08(0x25c)](_0x4b4b08(0x2fd))['value']=_0x222f06['content']||'';}catch(_0x53553a){console[_0x4b4b08(0x279)](_0x4b4b08(0x281),_0x53553a),showNotification('Failed\x20to\x20load\x20article\x20data',_0x4b4b08(0x279));}}async function saveArticle(){const _0x535d79=a4_0x3bee7f;try{const _0x4bafe9=document[_0x535d79(0x25c)](_0x535d79(0x575))[_0x535d79(0x496)],_0x1e7caf=document['getElementById']('article-title')[_0x535d79(0x496)][_0x535d79(0x2a9)](),_0x325382=document[_0x535d79(0x25c)](_0x535d79(0x3bc))[_0x535d79(0x496)][_0x535d79(0x2a9)](),_0x3ffe13=document['getElementById'](_0x535d79(0x20a))[_0x535d79(0x496)][_0x535d79(0x2a9)](),_0x103c81=document[_0x535d79(0x25c)]('article-content')[_0x535d79(0x496)][_0x535d79(0x2a9)]();if(!_0x1e7caf||!_0x103c81){showNotification(_0x535d79(0x30d),_0x535d79(0x279));return;}const _0x132a43=auth['currentUser'];if(!_0x132a43){showNotification(_0x535d79(0x395),_0x535d79(0x279));return;}const _0x5d5ea4={'title':_0x1e7caf,'author':_0x325382,'imageUrl':_0x3ffe13||null,'content':_0x103c81,'lastModifiedAt':serverTimestamp(),'lastModifiedBy':_0x132a43[_0x535d79(0x1dd)]};!_0x4bafe9?(_0x5d5ea4[_0x535d79(0x22b)]=serverTimestamp(),_0x5d5ea4[_0x535d79(0x3eb)]=_0x132a43[_0x535d79(0x1dd)],await addDoc(collection(db,_0x535d79(0x2c3)),_0x5d5ea4),showNotification(_0x535d79(0x22f),_0x535d79(0x4ba))):(await updateDoc(doc(db,_0x535d79(0x2c3),_0x4bafe9),_0x5d5ea4),showNotification(_0x535d79(0x2ba),'success')),closeArticleModal(),loadArticles();}catch(_0x3ac354){console[_0x535d79(0x279)](_0x535d79(0x273),_0x3ac354),showNotification(_0x535d79(0x4f6)+_0x3ac354['message'],_0x535d79(0x279));}}function closeArticleModal(){const _0x14f250=a4_0x3bee7f,_0x30a2d5=document[_0x14f250(0x25c)]('article-modal');_0x30a2d5&&_0x30a2d5[_0x14f250(0x18d)][_0x14f250(0x39e)](_0x14f250(0x28f));}async function confirmDeleteArticle(_0x40089f){const _0xae5d8d=a4_0x3bee7f;if(confirm(_0xae5d8d(0x497)))try{await deleteDoc(doc(db,_0xae5d8d(0x2c3),_0x40089f)),loadArticles(),showNotification('Article\x20deleted\x20successfully',_0xae5d8d(0x4ba));}catch(_0x2e7114){console[_0xae5d8d(0x279)]('Error\x20deleting\x20article:',_0x2e7114),showNotification(_0xae5d8d(0x40b)+_0x2e7114[_0xae5d8d(0x3cc)],_0xae5d8d(0x279));}}function setupTrophyManagementSection(){const _0x2fc07b=a4_0x3bee7f,_0x119ea6=document['getElementById'](_0x2fc07b(0x45d));_0x119ea6&&_0x119ea6[_0x2fc07b(0x571)]('click',function(){const _0x1f3035=_0x2fc07b;this[_0x1f3035(0x18d)][_0x1f3035(0x29d)](_0x1f3035(0x315)),this['innerHTML']=_0x1f3035(0x3a5);const _0x36791d=document['getElementById'](_0x1f3035(0x1ef));_0x36791d&&(_0x36791d['onerror']=function(){const _0x411be5=_0x1f3035;this[_0x411be5(0x1f8)]=DEFAULT_TROPHY_IMAGE;}),loadTrophyDefinitions()[_0x1f3035(0x27c)](()=>{const _0x258e9a=_0x1f3035;this['classList'][_0x258e9a(0x39e)](_0x258e9a(0x315)),this[_0x258e9a(0x4b4)]='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Trophies';})['catch'](_0x5aaf95=>{const _0x2fbc90=_0x1f3035;console[_0x2fbc90(0x279)](_0x2fbc90(0x344),_0x5aaf95),this[_0x2fbc90(0x18d)][_0x2fbc90(0x39e)](_0x2fbc90(0x315)),this[_0x2fbc90(0x4b4)]=_0x2fbc90(0x19d),setTimeout(()=>{const _0x44c190=_0x2fbc90;this[_0x44c190(0x4b4)]=_0x44c190(0x3b4);},0xbb8);});});const _0x4e7f98=document[_0x2fc07b(0x25c)]('create-new-trophy-btn');_0x4e7f98&&_0x4e7f98[_0x2fc07b(0x571)](_0x2fc07b(0x376),()=>{openTrophyModal();});const _0x48be0d=document['getElementById'](_0x2fc07b(0x2c8));_0x48be0d&&_0x48be0d[_0x2fc07b(0x571)](_0x2fc07b(0x2b7),_0x354a71=>{const _0x5eb124=_0x2fc07b;_0x354a71[_0x5eb124(0x4de)](),saveTrophyDefinition();});const _0x339234=document[_0x2fc07b(0x25c)](_0x2fc07b(0x186));_0x339234&&_0x339234[_0x2fc07b(0x571)](_0x2fc07b(0x376),()=>{closeTrophyModal();});document[_0x2fc07b(0x234)](_0x2fc07b(0x2ae))[_0x2fc07b(0x17c)](_0x2c89a0=>{const _0x2632b4=_0x2fc07b;_0x2c89a0[_0x2632b4(0x571)](_0x2632b4(0x376),()=>{closeTrophyModal(),closeAssignTrophyModal();});});const _0x2b5d7d=document[_0x2fc07b(0x25c)](_0x2fc07b(0x570));_0x2b5d7d&&_0x2b5d7d[_0x2fc07b(0x571)](_0x2fc07b(0x376),_0x1aeb7f=>{_0x1aeb7f['target']===_0x2b5d7d&&closeTrophyModal();});const _0x4462f5=document[_0x2fc07b(0x25c)]('assign-trophy-modal');_0x4462f5&&_0x4462f5['addEventListener'](_0x2fc07b(0x376),_0x5b5c84=>{const _0x1f0063=_0x2fc07b;_0x5b5c84[_0x1f0063(0x3bf)]===_0x4462f5&&closeAssignTrophyModal();});const _0x2f5730=document[_0x2fc07b(0x25c)]('assign-trophy-form');_0x2f5730&&_0x2f5730[_0x2fc07b(0x571)](_0x2fc07b(0x2b7),_0x16f6c0=>{const _0x1e08ed=_0x2fc07b;_0x16f6c0[_0x1e08ed(0x4de)](),assignTrophyToPlayer();});const _0x185f65=document[_0x2fc07b(0x25c)](_0x2fc07b(0x463));_0x185f65&&_0x185f65[_0x2fc07b(0x571)](_0x2fc07b(0x376),()=>{closeAssignTrophyModal();});const _0x1715d4=document[_0x2fc07b(0x25c)]('trophy-image-url');_0x1715d4&&(_0x1715d4[_0x2fc07b(0x571)]('input',updateTrophyImagePreview),_0x1715d4[_0x2fc07b(0x571)](_0x2fc07b(0x248),()=>{setTimeout(updateTrophyImagePreview,0xa);}));}function updateTrophyImagePreview(){const _0x259660=a4_0x3bee7f,_0x2a475e=document[_0x259660(0x25c)](_0x259660(0x181))[_0x259660(0x496)][_0x259660(0x2a9)](),_0x51cab6=document[_0x259660(0x25c)](_0x259660(0x3e1));if(!_0x51cab6){const _0x52b876=document['getElementById'](_0x259660(0x181))[_0x259660(0x5bc)](_0x259660(0x289)),_0x3622bd=document[_0x259660(0x29b)](_0x259660(0x190));_0x3622bd['id']=_0x259660(0x3e1),_0x3622bd['className']='trophy-preview-container',_0x52b876[_0x259660(0x326)](_0x3622bd);const _0x39d23a=document[_0x259660(0x29b)]('img');_0x39d23a['id']='trophy-preview-img',_0x39d23a[_0x259660(0x270)]=_0x259660(0x31b),_0x39d23a[_0x259660(0x2dd)]=function(){const _0xc85c97=_0x259660;this[_0xc85c97(0x1f8)]=DEFAULT_TROPHY_IMAGE,this[_0xc85c97(0x18d)][_0xc85c97(0x29d)](_0xc85c97(0x279));},_0x3622bd['appendChild'](_0x39d23a);}const _0x4cdc9c=document[_0x259660(0x25c)](_0x259660(0x26c));_0x2a475e?(_0x4cdc9c['src']=_0x2a475e,_0x4cdc9c['style']['display']='block',_0x4cdc9c[_0x259660(0x18d)]['remove'](_0x259660(0x279))):(_0x4cdc9c[_0x259660(0x1f8)]=DEFAULT_TROPHY_IMAGE,_0x4cdc9c[_0x259660(0x581)]['display']='block');}async function loadTrophyDefinitions(){const _0x57fd61=a4_0x3bee7f,_0x306228=document[_0x57fd61(0x25c)](_0x57fd61(0x2dc));if(!_0x306228)return;_0x306228[_0x57fd61(0x4b4)]=_0x57fd61(0x2b8);try{const _0x263b72=collection(db,'trophyDefinitions'),_0x51cf9c=query(_0x263b72,orderBy(_0x57fd61(0x22b),'desc')),_0x2a0915=await getDocs(_0x51cf9c);if(_0x2a0915[_0x57fd61(0x2b5)]){_0x306228['innerHTML']='<tr><td\x20colspan=\x225\x22\x20class=\x22empty-state\x22>No\x20trophy\x20definitions\x20found</td></tr>';return;}_0x306228[_0x57fd61(0x4b4)]='',_0x2a0915['forEach'](_0x271023=>{const _0x4d0759=_0x57fd61,_0x152b37=_0x271023[_0x4d0759(0x392)](),_0x475d08=document[_0x4d0759(0x29b)]('tr'),_0x2de4fe=_0x152b37[_0x4d0759(0x22b)]?new Date(_0x152b37[_0x4d0759(0x22b)]['seconds']*0x3e8)[_0x4d0759(0x582)]():_0x4d0759(0x2a8);_0x475d08['innerHTML']=_0x4d0759(0x348)+(_0x152b37['image']||DEFAULT_TROPHY_IMAGE)+_0x4d0759(0x422)+_0x152b37[_0x4d0759(0x38e)]+_0x4d0759(0x5b2)+DEFAULT_TROPHY_IMAGE+_0x4d0759(0x34c)+(_0x152b37['name']||_0x4d0759(0x3d7))+_0x4d0759(0x4bd)+(_0x152b37[_0x4d0759(0x4f5)]||'common')+'\x22>'+(_0x152b37[_0x4d0759(0x4f5)]||_0x4d0759(0x26e))+_0x4d0759(0x24a)+_0x2de4fe+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-trophy-btn\x22\x20data-id=\x22'+_0x271023['id']+_0x4d0759(0x38f)+_0x271023['id']+_0x4d0759(0x437)+_0x271023['id']+_0x4d0759(0x2ec),_0x306228[_0x4d0759(0x326)](_0x475d08);}),setupTrophyActionButtons();}catch(_0x50212d){console['error'](_0x57fd61(0x316),_0x50212d),_0x306228[_0x57fd61(0x4b4)]=_0x57fd61(0x2a1)+_0x50212d[_0x57fd61(0x3cc)]+_0x57fd61(0x1a7);}}function setupTrophyActionButtons(){const _0x925ab7=a4_0x3bee7f;document[_0x925ab7(0x234)](_0x925ab7(0x172))[_0x925ab7(0x17c)](_0x52409b=>{_0x52409b['addEventListener']('click',_0x23c845=>{const _0x48af5a=a4_0xb179,_0x1c3e15=_0x23c845[_0x48af5a(0x4ef)][_0x48af5a(0x26b)]['id'];openTrophyModal(_0x1c3e15);});}),document[_0x925ab7(0x234)](_0x925ab7(0x2f2))[_0x925ab7(0x17c)](_0x2feae2=>{const _0x53fa84=_0x925ab7;_0x2feae2[_0x53fa84(0x571)](_0x53fa84(0x376),_0xd9ac12=>{const _0x314b1e=_0x53fa84,_0x245619=_0xd9ac12['currentTarget'][_0x314b1e(0x26b)]['id'];openAssignTrophyModal(_0x245619);});}),document[_0x925ab7(0x234)]('.delete-trophy-btn')[_0x925ab7(0x17c)](_0x42151b=>{const _0x3e003c=_0x925ab7;_0x42151b[_0x3e003c(0x571)](_0x3e003c(0x376),_0x8b3c16=>{const _0x3a0e42=_0x3e003c,_0xfed819=_0x8b3c16[_0x3a0e42(0x4ef)][_0x3a0e42(0x26b)]['id'];confirmDeleteTrophy(_0xfed819);});});}function openTrophyModal(_0x30676d=null){const _0x579b71=a4_0x3bee7f,_0x2e8318=document[_0x579b71(0x25c)](_0x579b71(0x570)),_0x4b84a2=document[_0x579b71(0x25c)](_0x579b71(0x59a)),_0x10540e=document[_0x579b71(0x25c)](_0x579b71(0x2c8)),_0x46a347=document[_0x579b71(0x25c)](_0x579b71(0x24e));_0x10540e[_0x579b71(0x302)](),_0x46a347[_0x579b71(0x496)]='';const _0x36ed29=document[_0x579b71(0x25c)](_0x579b71(0x26c));_0x36ed29&&(_0x36ed29[_0x579b71(0x1f8)]=DEFAULT_TROPHY_IMAGE,_0x36ed29[_0x579b71(0x18d)][_0x579b71(0x39e)](_0x579b71(0x279))),_0x30676d?(_0x4b84a2[_0x579b71(0x3b6)]=_0x579b71(0x519),_0x46a347[_0x579b71(0x496)]=_0x30676d,loadTrophyData(_0x30676d)):_0x4b84a2[_0x579b71(0x3b6)]='Create\x20New\x20Trophy',_0x2e8318[_0x579b71(0x18d)]['add'](_0x579b71(0x28f));}async function loadTrophyData(_0x2a81f6){const _0x3fba74=a4_0x3bee7f;try{const _0x49d58d=doc(db,_0x3fba74(0x458),_0x2a81f6),_0x1c5e0c=await getDoc(_0x49d58d);if(!_0x1c5e0c['exists']()){showNotification(_0x3fba74(0x261),'error');return;}const _0x42c10e=_0x1c5e0c[_0x3fba74(0x392)]();document[_0x3fba74(0x25c)](_0x3fba74(0x2ff))[_0x3fba74(0x496)]=_0x42c10e[_0x3fba74(0x38e)]||'',document[_0x3fba74(0x25c)]('trophy-description')[_0x3fba74(0x496)]=_0x42c10e['description']||'',document['getElementById'](_0x3fba74(0x181))[_0x3fba74(0x496)]=_0x42c10e[_0x3fba74(0x325)]||'',document['getElementById']('trophy-rarity')[_0x3fba74(0x496)]=_0x42c10e[_0x3fba74(0x4f5)]||'common',updateTrophyImagePreview();}catch(_0x16e7fe){console[_0x3fba74(0x279)](_0x3fba74(0x4af),_0x16e7fe),showNotification(_0x3fba74(0x25e),_0x3fba74(0x279));}}async function saveTrophyDefinition(){const _0x33caf9=a4_0x3bee7f;try{const _0x38d8d1=document[_0x33caf9(0x25c)](_0x33caf9(0x24e))['value'],_0x51dba6=document[_0x33caf9(0x25c)](_0x33caf9(0x2ff))['value'][_0x33caf9(0x2a9)](),_0x4b1922=document[_0x33caf9(0x25c)](_0x33caf9(0x323))['value'][_0x33caf9(0x2a9)](),_0x1c8c12=document[_0x33caf9(0x25c)](_0x33caf9(0x181))[_0x33caf9(0x496)]['trim'](),_0x45ea53=document['getElementById'](_0x33caf9(0x46f))[_0x33caf9(0x496)];if(!_0x51dba6||!_0x4b1922||!_0x1c8c12){showNotification(_0x33caf9(0x593),_0x33caf9(0x279));return;}const _0x4dd07a=auth[_0x33caf9(0x4c8)];if(!_0x4dd07a){showNotification(_0x33caf9(0x2e6),_0x33caf9(0x279));return;}const _0xd5236d={'name':_0x51dba6,'description':_0x4b1922,'image':_0x1c8c12,'rarity':_0x45ea53,'lastModifiedAt':serverTimestamp(),'lastModifiedBy':_0x4dd07a[_0x33caf9(0x1dd)]};!_0x38d8d1?(_0xd5236d[_0x33caf9(0x22b)]=serverTimestamp(),_0xd5236d[_0x33caf9(0x3eb)]=_0x4dd07a[_0x33caf9(0x1dd)],await addDoc(collection(db,_0x33caf9(0x458)),_0xd5236d),showNotification(_0x33caf9(0x43d),_0x33caf9(0x4ba))):(await updateDoc(doc(db,_0x33caf9(0x458),_0x38d8d1),_0xd5236d),showNotification(_0x33caf9(0x4b5),_0x33caf9(0x4ba))),closeTrophyModal(),loadTrophyDefinitions();}catch(_0x5895eb){console[_0x33caf9(0x279)](_0x33caf9(0x4ce),_0x5895eb),showNotification('Failed\x20to\x20save\x20trophy:\x20'+_0x5895eb[_0x33caf9(0x3cc)],_0x33caf9(0x279));}}function closeTrophyModal(){const _0x127c0a=a4_0x3bee7f,_0x9ab8ef=document[_0x127c0a(0x25c)](_0x127c0a(0x570));_0x9ab8ef&&_0x9ab8ef[_0x127c0a(0x18d)][_0x127c0a(0x39e)](_0x127c0a(0x28f));}async function confirmDeleteTrophy(_0x5772fd){const _0x4f1035=a4_0x3bee7f;if(!_0x5772fd){console['error']('Delete\x20Trophy:\x20No\x20trophy\x20ID\x20provided.');return;}if(confirm('Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20trophy\x20definition?\x20This\x20action\x20cannot\x20be\x20undone\x20and\x20might\x20affect\x20players\x20who\x20have\x20been\x20awarded\x20this\x20trophy.'))try{const _0x304d6f=auth['currentUser'];if(!_0x304d6f){showNotification(_0x4f1035(0x57a),'error');return;}console[_0x4f1035(0x560)](_0x4f1035(0x2de)+_0x5772fd),await deleteDoc(doc(db,_0x4f1035(0x458),_0x5772fd)),showNotification(_0x4f1035(0x4a1),'success'),loadTrophyDefinitions();}catch(_0xd1b193){console['error'](_0x4f1035(0x5bb),_0xd1b193),showNotification('Failed\x20to\x20delete\x20trophy:\x20'+_0xd1b193[_0x4f1035(0x3cc)],'error');}}async function openAssignTrophyModal(_0x2b34be){const _0x28528a=a4_0x3bee7f;try{const _0xd5f457=doc(db,_0x28528a(0x458),_0x2b34be),_0x3a8006=await getDoc(_0xd5f457);if(!_0x3a8006[_0x28528a(0x495)]()){showNotification(_0x28528a(0x261),_0x28528a(0x279));return;}const _0x1cd19a=_0x3a8006[_0x28528a(0x392)]();document[_0x28528a(0x25c)]('assign-trophy-id')['value']=_0x2b34be,document[_0x28528a(0x25c)](_0x28528a(0x3f1))[_0x28528a(0x496)]=_0x1cd19a['name'],document[_0x28528a(0x25c)](_0x28528a(0x1ef))[_0x28528a(0x1f8)]=_0x1cd19a[_0x28528a(0x325)]||DEFAULT_TROPHY_IMAGE,document[_0x28528a(0x25c)]('assign-trophy-title')[_0x28528a(0x3b6)]=_0x1cd19a[_0x28528a(0x38e)]||'Unnamed\x20Trophy',document['getElementById'](_0x28528a(0x1ed))[_0x28528a(0x3b6)]=_0x1cd19a[_0x28528a(0x4a0)]||_0x28528a(0x485);const _0xc2698c=document[_0x28528a(0x25c)](_0x28528a(0x547));_0xc2698c[_0x28528a(0x3b6)]=_0x1cd19a[_0x28528a(0x4f5)]||'common',_0xc2698c['className']='trophy-rarity\x20'+(_0x1cd19a['rarity']||'common');const _0x275814=document['getElementById'](_0x28528a(0x44a));_0x275814[_0x28528a(0x18d)][_0x28528a(0x29d)](_0x28528a(0x28f));}catch(_0x54e99f){console[_0x28528a(0x279)]('Error\x20opening\x20assign\x20trophy\x20modal:',_0x54e99f),showNotification(_0x28528a(0x25e),'error');}}function closeAssignTrophyModal(){const _0x457910=a4_0x3bee7f,_0x5de166=document[_0x457910(0x25c)](_0x457910(0x44a));_0x5de166&&_0x5de166[_0x457910(0x18d)][_0x457910(0x39e)](_0x457910(0x28f));}async function assignTrophyToPlayer(){const _0x19709f=a4_0x3bee7f;try{const _0x5378af=document[_0x19709f(0x25c)]('assign-trophy-id')[_0x19709f(0x496)],_0x30d928=document[_0x19709f(0x25c)](_0x19709f(0x3f1))[_0x19709f(0x496)],_0x5f43e8=document[_0x19709f(0x25c)]('assign-player-username')[_0x19709f(0x496)]['trim'](),_0x4f6f70=document[_0x19709f(0x39f)](_0x19709f(0x1b5))['value'];if(!_0x5378af||!_0x5f43e8){showNotification('Trophy\x20ID\x20and\x20username\x20are\x20required','error');return;}const _0x19e86d=auth[_0x19709f(0x4c8)];if(!_0x19e86d){showNotification('You\x20must\x20be\x20logged\x20in\x20to\x20assign\x20trophies','error');return;}let _0x88234b=null,_0x242d7a=null,_0x53cefd=null;if(_0x4f6f70===_0x19709f(0x526)){const _0xaf0ef=collection(db,_0x19709f(0x534)),_0x435fc8=query(_0xaf0ef,where(_0x19709f(0x2e1),'==',_0x5f43e8)),_0x1bbaa2=await getDocs(_0x435fc8);!_0x1bbaa2['empty']&&(_0x88234b=_0x1bbaa2[_0x19709f(0x4da)][0x0],_0x242d7a=_0x88234b['id'],_0x53cefd=_0x88234b['data']());}else{const _0x3383f2=_0x4f6f70==='D1'?_0x19709f(0x55d):_0x4f6f70==='D2'?_0x19709f(0x1ec):'playersD3',_0x584621=collection(db,_0x3383f2),_0x571cc7=query(_0x584621,where(_0x19709f(0x2e1),'==',_0x5f43e8)),_0x83ee92=await getDocs(_0x571cc7);!_0x83ee92['empty']&&(_0x88234b=_0x83ee92[_0x19709f(0x4da)][0x0],_0x242d7a=_0x88234b['id'],_0x53cefd=_0x88234b['data']());}if(!_0x88234b){showNotification('Player\x20\x22'+_0x5f43e8+_0x19709f(0x5c0)+(_0x4f6f70===_0x19709f(0x526)?'non-participants':_0x4f6f70+_0x19709f(0x331)),'error');return;}const _0x588ba6=collection(db,'userTrophies'),_0x35cb75=query(_0x588ba6,where(_0x19709f(0x32f),'==',_0x242d7a),where('trophyId','==',_0x5378af)),_0x5664e4=await getDocs(_0x35cb75);if(!_0x5664e4[_0x19709f(0x2b5)]){showNotification(_0x19709f(0x4c6)+_0x5f43e8+_0x19709f(0x231),_0x19709f(0x3dc));return;}await addDoc(collection(db,_0x19709f(0x31f)),{'userId':_0x242d7a,'playerUsername':_0x5f43e8,'trophyId':_0x5378af,'awardedAt':serverTimestamp(),'awardedBy':_0x19e86d[_0x19709f(0x1dd)],'ladder':_0x4f6f70}),showNotification(_0x19709f(0x4b3)+_0x30d928+_0x19709f(0x2cf)+_0x5f43e8,_0x19709f(0x4ba)),closeAssignTrophyModal();}catch(_0x17fcb2){console['error'](_0x19709f(0x20d),_0x17fcb2),showNotification(_0x19709f(0x561)+_0x17fcb2[_0x19709f(0x3cc)],'error');}}function setupInactivePlayersSection(){const _0x5e9772=a4_0x3bee7f,_0x474127=document['getElementById'](_0x5e9772(0x352));_0x474127&&_0x474127['addEventListener'](_0x5e9772(0x544),function(){const _0x4f114e=_0x5e9772,_0x36ab65=document[_0x4f114e(0x25c)](_0x4f114e(0x421));if(_0x36ab65)_0x36ab65[_0x4f114e(0x376)]();});const _0x565be9=document[_0x5e9772(0x39f)]('.ladder-switch\x20input[value=\x22D1\x22]'),_0x274148=document[_0x5e9772(0x39f)](_0x5e9772(0x223));_0x565be9&&_0x274148&&(_0x565be9['addEventListener']('change',function(){const _0x56918e=_0x5e9772;if(this['checked']){currentLadder='D1';if(document[_0x56918e(0x25c)](_0x56918e(0x522))['style'][_0x56918e(0x423)]!==_0x56918e(0x52a)){const _0x388f86=document[_0x56918e(0x25c)](_0x56918e(0x421));if(_0x388f86)_0x388f86[_0x56918e(0x376)]();}}}),_0x274148[_0x5e9772(0x571)](_0x5e9772(0x544),function(){const _0x1690e8=_0x5e9772;if(this[_0x1690e8(0x435)]){currentLadder='D2';if(document[_0x1690e8(0x25c)]('inactive-players')[_0x1690e8(0x581)]['display']!==_0x1690e8(0x52a)){const _0x41898c=document[_0x1690e8(0x25c)](_0x1690e8(0x421));if(_0x41898c)_0x41898c[_0x1690e8(0x376)]();}}}));const _0x52ac69=document['getElementById']('inactive-players-search');_0x52ac69&&_0x52ac69[_0x5e9772(0x571)](_0x5e9772(0x518),debounce(function(){const _0x560e3a=_0x5e9772,_0x2842d4=_0x52ac69[_0x560e3a(0x496)]['toLowerCase'](),_0x34816b=document['querySelectorAll'](_0x560e3a(0x220));_0x34816b[_0x560e3a(0x17c)](_0x1f14a2=>{const _0x2872f3=_0x560e3a;if(_0x1f14a2['querySelector'](_0x2872f3(0x2cb))||_0x1f14a2[_0x2872f3(0x39f)](_0x2872f3(0x56d))||_0x1f14a2[_0x2872f3(0x39f)]('.error-state'))return;const _0x2a5021=_0x1f14a2[_0x2872f3(0x17b)][0x0]?.[_0x2872f3(0x3b6)][_0x2872f3(0x369)]()||'',_0x600f4c=_0x1f14a2['cells'][0x5]?.['textContent'][_0x2872f3(0x369)]()||'';_0x2a5021[_0x2872f3(0x48e)](_0x2842d4)||_0x600f4c[_0x2872f3(0x48e)](_0x2842d4)?_0x1f14a2[_0x2872f3(0x581)][_0x2872f3(0x423)]='':_0x1f14a2['style']['display']=_0x2872f3(0x52a);});},0x12c)),document[_0x5e9772(0x571)](_0x5e9772(0x376),function(_0x31d34d){const _0x446db0=_0x5e9772;if(_0x31d34d[_0x446db0(0x3bf)][_0x446db0(0x5bc)](_0x446db0(0x3a4))){const _0x26ccb3=_0x31d34d[_0x446db0(0x3bf)][_0x446db0(0x5bc)](_0x446db0(0x3a4)),_0x100c7b=_0x26ccb3['dataset'][_0x446db0(0x2e1)];_0x100c7b&&alert('View\x20player\x20details\x20for\x20'+_0x100c7b+_0x446db0(0x5b5));}}),console[_0x5e9772(0x560)](_0x5e9772(0x356));}async function loadInactivePlayersData(){const _0x2e6fb8=a4_0x3bee7f,_0x389aa0=document['getElementById'](_0x2e6fb8(0x163));if(!_0x389aa0)return;_0x389aa0[_0x2e6fb8(0x4b4)]=_0x2e6fb8(0x288);try{const _0x5c8533=document[_0x2e6fb8(0x25c)](_0x2e6fb8(0x352)),_0x1e9699=_0x5c8533?parseInt(_0x5c8533[_0x2e6fb8(0x496)])||0x0:0x0,_0x1689b8=collection(db,currentLadder==='D1'?_0x2e6fb8(0x55d):'playersD2'),_0x1482eb=await getDocs(_0x1689b8);if(_0x1482eb[_0x2e6fb8(0x2b5)]){_0x389aa0[_0x2e6fb8(0x4b4)]=_0x2e6fb8(0x235);return;}const _0x3ca9a4=[];_0x1482eb[_0x2e6fb8(0x17c)](_0x14c757=>{const _0x41c1e2=_0x2e6fb8,_0x444981=_0x14c757[_0x41c1e2(0x392)]();_0x3ca9a4[_0x41c1e2(0x1bd)]({..._0x444981,'id':_0x14c757['id'],'username':_0x444981[_0x41c1e2(0x2e1)]||_0x41c1e2(0x5a8)});}),console['log']('Found\x20'+_0x3ca9a4[_0x2e6fb8(0x592)]+_0x2e6fb8(0x227)+currentLadder+_0x2e6fb8(0x331));const _0x30e302=currentLadder==='D1'?_0x2e6fb8(0x1ee):'approvedMatchesD2',_0x57d120=_0x3ca9a4[_0x2e6fb8(0x258)](async _0x1dcccc=>{const _0x22a102=_0x2e6fb8;try{const _0x2a14ff=collection(db,_0x30e302),_0x48c2e3=query(_0x2a14ff,or(where(_0x22a102(0x4cd),'==',_0x1dcccc[_0x22a102(0x2e1)]),where(_0x22a102(0x3a0),'==',_0x1dcccc['username'])),orderBy(_0x22a102(0x340),'desc'),limit(0x1)),_0x2aaa6e=await getDocs(_0x48c2e3);if(!_0x2aaa6e[_0x22a102(0x2b5)]){const _0x265efb=_0x2aaa6e[_0x22a102(0x4da)][0x0][_0x22a102(0x392)](),_0x24e460=_0x265efb[_0x22a102(0x340)]?new Date(_0x265efb[_0x22a102(0x340)]['seconds']*0x3e8):null,_0x173f89=new Date(),_0x7cd0c3=_0x24e460?Math['floor']((_0x173f89-_0x24e460)/(0x3e8*0x3c*0x3c*0x18)):null,_0x46ab02=_0x265efb[_0x22a102(0x4cd)]===_0x1dcccc['username']?_0x265efb['loserUsername']:_0x265efb[_0x22a102(0x4cd)],_0x465717=_0x265efb[_0x22a102(0x4cd)]===_0x1dcccc['username']?_0x22a102(0x210):'Lost';return{..._0x1dcccc,'lastMatch':{'date':_0x24e460?_0x24e460['toLocaleDateString']():_0x22a102(0x2a8),'opponent':_0x46ab02||_0x22a102(0x541),'result':_0x465717,'timestamp':_0x24e460||new Date(0x0),'daysSinceMatch':_0x7cd0c3||Number[_0x22a102(0x370)]}};}else return{..._0x1dcccc,'lastMatch':{'date':_0x22a102(0x380),'opponent':_0x22a102(0x2a8),'result':_0x22a102(0x2a8),'timestamp':new Date(0x0),'daysSinceMatch':Number[_0x22a102(0x370)]}};}catch(_0x10f838){return console[_0x22a102(0x279)](_0x22a102(0x4c0)+_0x1dcccc[_0x22a102(0x2e1)]+':',_0x10f838),{..._0x1dcccc,'lastMatch':{'date':_0x22a102(0x372),'opponent':'Error','result':_0x22a102(0x372),'timestamp':new Date(0x0),'daysSinceMatch':0x0}};}});let _0x2535e0=await Promise['all'](_0x57d120);_0x2535e0[_0x2e6fb8(0x475)]((_0x3200a7,_0xe85c84)=>_0xe85c84[_0x2e6fb8(0x550)]['daysSinceMatch']-_0x3200a7[_0x2e6fb8(0x550)][_0x2e6fb8(0x481)]);_0x1e9699>0x0&&(_0x2535e0=_0x2535e0['filter'](_0x26c516=>_0x26c516[_0x2e6fb8(0x550)]['daysSinceMatch']>=_0x1e9699));_0x389aa0[_0x2e6fb8(0x4b4)]='';if(_0x2535e0[_0x2e6fb8(0x592)]===0x0){_0x389aa0[_0x2e6fb8(0x4b4)]=_0x2e6fb8(0x295);return;}_0x2535e0[_0x2e6fb8(0x17c)](_0x5c9bcc=>{const _0x396a66=_0x2e6fb8,_0x53a03a=document[_0x396a66(0x29b)]('tr'),_0x35eec2=_0x5c9bcc[_0x396a66(0x550)][_0x396a66(0x481)]>0x1e?_0x396a66(0x3b2):_0x5c9bcc[_0x396a66(0x550)][_0x396a66(0x481)]>0xe?_0x396a66(0x3fb):'';_0x53a03a[_0x396a66(0x420)]=_0x35eec2,_0x53a03a['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x5c9bcc[_0x396a66(0x2e1)]+_0x396a66(0x19a)+(_0x5c9bcc['eloRating']||0x4b0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x5c9bcc[_0x396a66(0x550)][_0x396a66(0x166)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x5c9bcc[_0x396a66(0x550)][_0x396a66(0x481)]===Number[_0x396a66(0x370)]?_0x396a66(0x2a8):_0x5c9bcc[_0x396a66(0x550)]['daysSinceMatch'])+_0x396a66(0x19a)+currentLadder+_0x396a66(0x19a)+(_0x5c9bcc['lastMatch'][_0x396a66(0x166)]==='Never\x20played'?_0x396a66(0x484):_0x5c9bcc[_0x396a66(0x550)][_0x396a66(0x187)]+'\x20vs\x20'+_0x5c9bcc[_0x396a66(0x550)]['opponent'])+_0x396a66(0x3e9)+_0x5c9bcc['username']+_0x396a66(0x530),_0x389aa0[_0x396a66(0x326)](_0x53a03a);}),console[_0x2e6fb8(0x560)](_0x2e6fb8(0x5ba)+_0x2535e0[_0x2e6fb8(0x592)]+_0x2e6fb8(0x215));}catch(_0x343af1){console['error'](_0x2e6fb8(0x5c4),_0x343af1),_0x389aa0[_0x2e6fb8(0x4b4)]=_0x2e6fb8(0x594)+_0x343af1[_0x2e6fb8(0x3cc)]+_0x2e6fb8(0x43f);}}function setupHighlightButtons(){const _0x37694f=a4_0x3bee7f;console[_0x37694f(0x560)](_0x37694f(0x3f5));const _0x1f754d=document[_0x37694f(0x25c)](_0x37694f(0x224));_0x1f754d&&_0x1f754d[_0x37694f(0x571)](_0x37694f(0x376),function(){const _0x28a619=_0x37694f;console[_0x28a619(0x560)]('Match\x20highlight\x20button\x20clicked'),openHighlightModal(_0x28a619(0x23b));});const _0x3a3e41=document[_0x37694f(0x25c)]('create-creator-highlight-btn');_0x3a3e41&&_0x3a3e41['addEventListener'](_0x37694f(0x376),function(){const _0x5e3297=_0x37694f;console['log']('Creator\x20highlight\x20button\x20clicked'),openHighlightModal(_0x5e3297(0x22e));});const _0x3f90eb=document[_0x37694f(0x25c)](_0x37694f(0x4bc));_0x3f90eb&&_0x3f90eb[_0x37694f(0x571)]('click',function(){const _0x511371=_0x37694f;console[_0x511371(0x560)](_0x511371(0x436)),openHighlightModal(_0x511371(0x4c7));});}function openHighlightModal(_0x5b664a=a4_0x3bee7f(0x23b)){const _0x1f0a47=a4_0x3bee7f;console[_0x1f0a47(0x560)](_0x1f0a47(0x508)+_0x5b664a);const _0x151898=document[_0x1f0a47(0x25c)](_0x1f0a47(0x264)),_0x2610ac=document[_0x1f0a47(0x25c)](_0x1f0a47(0x4e4)),_0x1ac2ff=document[_0x1f0a47(0x25c)]('highlight-modal-title'),_0x54bbc9=document[_0x1f0a47(0x25c)](_0x1f0a47(0x286));if(!_0x151898||!_0x2610ac||!_0x1ac2ff){console['error'](_0x1f0a47(0x2fc));return;}_0x2610ac[_0x1f0a47(0x302)](),_0x54bbc9[_0x1f0a47(0x496)]='';const _0x223153=[_0x1f0a47(0x23b),'creator',_0x1f0a47(0x4c7)],_0x41247d=!_0x223153[_0x1f0a47(0x48e)](_0x5b664a);if(_0x41247d){const _0x12572f=_0x5b664a;_0x54bbc9[_0x1f0a47(0x496)]=_0x12572f,_0x1ac2ff[_0x1f0a47(0x3b6)]=_0x1f0a47(0x164),loadHighlightDataAdmin(_0x12572f);}else{const _0x4de8dc=_0x5b664a;document[_0x1f0a47(0x25c)](_0x1f0a47(0x1ca))['value']=_0x4de8dc,_0x1ac2ff[_0x1f0a47(0x3b6)]=_0x1f0a47(0x338)+getHighlightTypeName(_0x4de8dc),toggleHighlightFields(_0x4de8dc);const _0x3513ba=auth[_0x1f0a47(0x4c8)];_0x3513ba&&document[_0x1f0a47(0x25c)](_0x1f0a47(0x558))&&(document['getElementById'](_0x1f0a47(0x558))[_0x1f0a47(0x496)]=_0x3513ba[_0x1f0a47(0x3ba)]||_0x3513ba[_0x1f0a47(0x1dd)]);}_0x151898['classList'][_0x1f0a47(0x29d)](_0x1f0a47(0x28f));}function toggleHighlightFields(_0x4725ff){const _0x212d8e=a4_0x3bee7f;console['log'](_0x212d8e(0x450)+_0x4725ff);const _0x20881f=document[_0x212d8e(0x25c)](_0x212d8e(0x4e4));if(!_0x20881f)return;const _0xab161e=_0x20881f[_0x212d8e(0x234)](_0x212d8e(0x351));_0xab161e[_0x212d8e(0x17c)](_0x5375ff=>_0x5375ff[_0x212d8e(0x581)][_0x212d8e(0x423)]='none');const _0x55cf85=document[_0x212d8e(0x25c)](_0x212d8e(0x418));if(_0x55cf85)_0x55cf85[_0x212d8e(0x581)][_0x212d8e(0x423)]=_0x212d8e(0x52a);const _0x44ef66=[_0x212d8e(0x308),_0x212d8e(0x1ac),_0x212d8e(0x168)];_0x44ef66[_0x212d8e(0x17c)](_0x574fe5=>{const _0x451916=_0x212d8e,_0x291c9f=document[_0x451916(0x25c)](_0x574fe5);if(_0x291c9f)_0x291c9f['style']['display']=_0x451916(0x56f);});if(_0x4725ff==='match'){const _0x9a5942=[_0x212d8e(0x1d8),_0x212d8e(0x3f8),_0x212d8e(0x329),_0x212d8e(0x4e9),'highlight-players-container',_0x212d8e(0x591)];_0x9a5942[_0x212d8e(0x17c)](_0x41e886=>{const _0x10ee91=_0x212d8e,_0x1bcdfb=document[_0x10ee91(0x25c)](_0x41e886);_0x1bcdfb&&(_0x41e886===_0x10ee91(0x4fb)?_0x1bcdfb[_0x10ee91(0x581)]['display']=_0x10ee91(0x44c):_0x1bcdfb['style']['display']=_0x10ee91(0x56f));});const _0x1a7c6c=document[_0x212d8e(0x25c)](_0x212d8e(0x473));if(_0x1a7c6c){_0x1a7c6c['required']=!![];const _0xd5ce56=_0x1a7c6c[_0x212d8e(0x521)];if(_0xd5ce56)_0xd5ce56[_0x212d8e(0x4b4)]=_0x212d8e(0x2f1);}if(_0x55cf85)_0x55cf85[_0x212d8e(0x581)][_0x212d8e(0x423)]=_0x212d8e(0x56f);updateHighlightVideoPreview();}else{if(_0x4725ff===_0x212d8e(0x22e)){const _0x39290d=[_0x212d8e(0x329),_0x212d8e(0x59f),_0x212d8e(0x175),_0x212d8e(0x42c),_0x212d8e(0x1d8)];_0x39290d[_0x212d8e(0x17c)](_0x541fa0=>{const _0x3b25cd=_0x212d8e,_0xc56bc3=document[_0x3b25cd(0x25c)](_0x541fa0);if(_0xc56bc3)_0xc56bc3[_0x3b25cd(0x581)][_0x3b25cd(0x423)]=_0x3b25cd(0x56f);});const _0x1af70c=document[_0x212d8e(0x25c)](_0x212d8e(0x473));if(_0x1af70c){_0x1af70c['required']=![];const _0x2ce17f=_0x1af70c[_0x212d8e(0x521)];if(_0x2ce17f)_0x2ce17f[_0x212d8e(0x4b4)]=_0x212d8e(0x1b1);}}else{if(_0x4725ff===_0x212d8e(0x4c7)){const _0x44f6c4=[_0x212d8e(0x4b7),'highlight-achievement-type-container',_0x212d8e(0x4f8),_0x212d8e(0x59b),_0x212d8e(0x388),_0x212d8e(0x1d8)];_0x44f6c4[_0x212d8e(0x17c)](_0x2b2028=>{const _0x3f0052=_0x212d8e,_0x8737f0=document[_0x3f0052(0x25c)](_0x2b2028);if(_0x8737f0)_0x8737f0[_0x3f0052(0x581)]['display']=_0x3f0052(0x56f);});const _0x29d822=document[_0x212d8e(0x25c)](_0x212d8e(0x473));if(_0x29d822){_0x29d822['required']=![];const _0x106ae3=_0x29d822['previousElementSibling'];if(_0x106ae3)_0x106ae3[_0x212d8e(0x4b4)]=_0x212d8e(0x1b1);}}}}}function a4_0xb179(_0x2fd244,_0x73fe65){const _0x2c860c=a4_0x7457();return a4_0xb179=function(_0x52e58b,_0x309227){_0x52e58b=_0x52e58b-0x15e;let _0x34b6b0=_0x2c860c[_0x52e58b];return _0x34b6b0;},a4_0xb179(_0x2fd244,_0x73fe65);}async function loadHighlightDataAdmin(_0x3d15ab){const _0x149e25=a4_0x3bee7f;try{const _0x2821c5=doc(db,_0x149e25(0x49b),_0x3d15ab),_0xb42c78=await getDoc(_0x2821c5);if(!_0xb42c78[_0x149e25(0x495)]()){showNotification(_0x149e25(0x579),'error');return;}const _0x1cb928=_0xb42c78[_0x149e25(0x392)](),_0x57b2a9=_0x1cb928['type']||_0x149e25(0x23b);document['getElementById'](_0x149e25(0x1c1))[_0x149e25(0x3b6)]=_0x149e25(0x2bd)+getHighlightTypeName(_0x57b2a9),document[_0x149e25(0x25c)](_0x149e25(0x1ca))['value']=_0x57b2a9,toggleHighlightFields(_0x57b2a9),document[_0x149e25(0x25c)](_0x149e25(0x545))[_0x149e25(0x496)]=_0x1cb928['title']||'',document[_0x149e25(0x25c)](_0x149e25(0x40d))[_0x149e25(0x496)]=_0x1cb928[_0x149e25(0x4a0)]||'',document[_0x149e25(0x25c)](_0x149e25(0x558))[_0x149e25(0x496)]=_0x1cb928[_0x149e25(0x246)]||'';_0x1cb928['videoId']&&(document[_0x149e25(0x25c)](_0x149e25(0x473))[_0x149e25(0x496)]=_0x1cb928[_0x149e25(0x40a)],updateHighlightVideoPreview());if(_0x57b2a9==='match'){document['getElementById'](_0x149e25(0x540))[_0x149e25(0x496)]=_0x1cb928[_0x149e25(0x52f)]||'',document[_0x149e25(0x25c)](_0x149e25(0x1b4))[_0x149e25(0x496)]=_0x1cb928[_0x149e25(0x258)]||'';if(_0x1cb928['matchDate']){const _0x1d5895=new Date(_0x1cb928[_0x149e25(0x1cb)][_0x149e25(0x2ca)]*0x3e8);document[_0x149e25(0x25c)](_0x149e25(0x548))[_0x149e25(0x496)]=_0x1d5895[_0x149e25(0x54c)]()[_0x149e25(0x18b)]('T')[0x0];}document[_0x149e25(0x25c)]('highlight-winner-name')[_0x149e25(0x496)]=_0x1cb928[_0x149e25(0x578)]||'',document[_0x149e25(0x25c)]('highlight-winner-score')[_0x149e25(0x496)]=_0x1cb928[_0x149e25(0x47d)]||'',document['getElementById']('highlight-loser-name')[_0x149e25(0x496)]=_0x1cb928[_0x149e25(0x5c3)]||'',document['getElementById'](_0x149e25(0x37e))['value']=_0x1cb928['loserScore']||'',document[_0x149e25(0x25c)](_0x149e25(0x432))['value']=_0x1cb928['matchLink']||'';}else{if(_0x57b2a9===_0x149e25(0x22e))document[_0x149e25(0x25c)](_0x149e25(0x1b4))[_0x149e25(0x496)]=_0x1cb928['map']||'',document['getElementById'](_0x149e25(0x2f3))[_0x149e25(0x496)]=_0x1cb928[_0x149e25(0x378)]||'',document[_0x149e25(0x25c)]('highlight-map-version')[_0x149e25(0x496)]=_0x1cb928[_0x149e25(0x4ec)]||'',document[_0x149e25(0x25c)](_0x149e25(0x3a2))[_0x149e25(0x496)]=_0x1cb928['creatorImageUrl']||'';else _0x57b2a9===_0x149e25(0x4c7)&&(document['getElementById']('highlight-achievement-player')[_0x149e25(0x496)]=_0x1cb928[_0x149e25(0x29e)]||'',document[_0x149e25(0x25c)]('highlight-achievement-type')[_0x149e25(0x496)]=_0x1cb928[_0x149e25(0x182)]||'',document[_0x149e25(0x25c)](_0x149e25(0x417))[_0x149e25(0x496)]=_0x1cb928[_0x149e25(0x50a)]||'',document[_0x149e25(0x25c)](_0x149e25(0x5b0))[_0x149e25(0x496)]=_0x1cb928[_0x149e25(0x3df)]||'',document[_0x149e25(0x25c)](_0x149e25(0x4fe))['value']=_0x1cb928[_0x149e25(0x4a7)]||'');}}catch(_0x565258){console[_0x149e25(0x279)](_0x149e25(0x274),_0x565258),showNotification(_0x149e25(0x2e4)+_0x565258[_0x149e25(0x3cc)],'error');}}async function saveHighlight(){const _0x907db9=a4_0x3bee7f;try{const _0x588833=document['getElementById'](_0x907db9(0x286))?.[_0x907db9(0x496)]||'',_0x5a7d92=document[_0x907db9(0x25c)](_0x907db9(0x1ca))?.[_0x907db9(0x496)]||'match',_0x1c4fbe={'title':document[_0x907db9(0x25c)](_0x907db9(0x545))?.[_0x907db9(0x496)]?.[_0x907db9(0x2a9)]()||'','description':document[_0x907db9(0x25c)](_0x907db9(0x40d))?.[_0x907db9(0x496)]?.[_0x907db9(0x2a9)]()||'','submittedBy':document[_0x907db9(0x25c)]('highlight-submitted-by')?.[_0x907db9(0x496)]?.[_0x907db9(0x2a9)]()||'','videoId':document[_0x907db9(0x25c)]('highlight-video-id')?.['value']?.[_0x907db9(0x2a9)]()||null,'type':_0x5a7d92};if(!_0x1c4fbe[_0x907db9(0x49e)]){showNotification(_0x907db9(0x3ee),_0x907db9(0x279));return;}if(_0x5a7d92===_0x907db9(0x23b)){_0x1c4fbe[_0x907db9(0x52f)]=document['getElementById'](_0x907db9(0x540))?.[_0x907db9(0x496)]?.['trim']()||'',_0x1c4fbe['map']=document[_0x907db9(0x25c)]('highlight-map')?.[_0x907db9(0x496)]?.[_0x907db9(0x2a9)]()||'';const _0x3f7190=document[_0x907db9(0x25c)](_0x907db9(0x548)),_0x55574e=_0x3f7190?.[_0x907db9(0x496)]||'';_0x1c4fbe[_0x907db9(0x1cb)]=_0x55574e?Timestamp['fromDate'](new Date(_0x55574e)):null,_0x1c4fbe[_0x907db9(0x578)]=document['getElementById']('highlight-winner-name')?.[_0x907db9(0x496)]?.[_0x907db9(0x2a9)]()||'',_0x1c4fbe[_0x907db9(0x47d)]=document['getElementById'](_0x907db9(0x381))?.['value']?.[_0x907db9(0x2a9)]()||'',_0x1c4fbe[_0x907db9(0x5c3)]=document[_0x907db9(0x25c)](_0x907db9(0x4e8))?.['value']?.['trim']()||'',_0x1c4fbe[_0x907db9(0x588)]=document[_0x907db9(0x25c)](_0x907db9(0x37e))?.[_0x907db9(0x496)]?.['trim']()||'',_0x1c4fbe[_0x907db9(0x262)]=document[_0x907db9(0x25c)]('highlight-match-link')?.[_0x907db9(0x496)]?.[_0x907db9(0x2a9)]()||'';if(!_0x1c4fbe['videoId']){showNotification('YouTube\x20Video\x20ID\x20is\x20required\x20for\x20match\x20highlights',_0x907db9(0x279));return;}}else{if(_0x5a7d92===_0x907db9(0x22e)){_0x1c4fbe[_0x907db9(0x258)]=document[_0x907db9(0x25c)](_0x907db9(0x1b4))?.['value']?.[_0x907db9(0x2a9)]()||'',_0x1c4fbe[_0x907db9(0x378)]=document[_0x907db9(0x25c)]('highlight-map-creator')?.[_0x907db9(0x496)]?.[_0x907db9(0x2a9)]()||'',_0x1c4fbe[_0x907db9(0x4ec)]=document[_0x907db9(0x25c)](_0x907db9(0x1cd))?.[_0x907db9(0x496)]?.['trim']()||'',_0x1c4fbe[_0x907db9(0x556)]=document['getElementById'](_0x907db9(0x3a2))?.[_0x907db9(0x496)]?.[_0x907db9(0x2a9)]()||'';if(!_0x1c4fbe['mapCreator']){showNotification(_0x907db9(0x27e),_0x907db9(0x279));return;}}else{if(_0x5a7d92==='achievement'){_0x1c4fbe[_0x907db9(0x29e)]=document[_0x907db9(0x25c)](_0x907db9(0x1c5))?.[_0x907db9(0x496)]?.[_0x907db9(0x2a9)]()||'',_0x1c4fbe[_0x907db9(0x182)]=document[_0x907db9(0x25c)](_0x907db9(0x33c))?.[_0x907db9(0x496)]?.[_0x907db9(0x2a9)]()||'',_0x1c4fbe[_0x907db9(0x50a)]=document[_0x907db9(0x25c)](_0x907db9(0x417))?.[_0x907db9(0x496)]?.['trim']()||'',_0x1c4fbe[_0x907db9(0x3df)]=document[_0x907db9(0x25c)](_0x907db9(0x5b0))?.[_0x907db9(0x496)]?.[_0x907db9(0x2a9)]()||'',_0x1c4fbe[_0x907db9(0x4a7)]=document[_0x907db9(0x25c)](_0x907db9(0x4fe))?.[_0x907db9(0x496)]?.[_0x907db9(0x2a9)]()||'';if(!_0x1c4fbe[_0x907db9(0x29e)]){showNotification(_0x907db9(0x491),'error');return;}}}}_0x588833?(_0x1c4fbe[_0x907db9(0x400)]=serverTimestamp(),await updateDoc(doc(db,_0x907db9(0x49b),_0x588833),_0x1c4fbe),showNotification('Highlight\x20updated\x20successfully!',_0x907db9(0x4ba))):(_0x1c4fbe[_0x907db9(0x22b)]=serverTimestamp(),await addDoc(collection(db,'highlights'),_0x1c4fbe),showNotification('Highlight\x20created\x20successfully!',_0x907db9(0x4ba))),closeHighlightModal(),loadHighlightsAdmin();}catch(_0x2ea670){console[_0x907db9(0x279)](_0x907db9(0x564),_0x2ea670),showNotification(_0x907db9(0x498)+_0x2ea670['message'],'error');}}function closeHighlightModal(){const _0x38b942=a4_0x3bee7f,_0x593d05=document[_0x38b942(0x25c)](_0x38b942(0x264));if(_0x593d05)_0x593d05[_0x38b942(0x18d)]['remove']('active');}function getHighlightTypeName(_0x56846a){const _0x4666e9=a4_0x3bee7f;switch(_0x56846a){case _0x4666e9(0x23b):return _0x4666e9(0x169);case _0x4666e9(0x22e):return _0x4666e9(0x3f9);case'achievement':return _0x4666e9(0x32c);default:return _0x4666e9(0x2af);}}function updateHighlightVideoPreview(){const _0x5b1e13=a4_0x3bee7f,_0x4e208d=document[_0x5b1e13(0x25c)]('highlight-video-id'),_0x3f606e=document[_0x5b1e13(0x25c)](_0x5b1e13(0x418)),_0x122450=document['getElementById']('highlight-video-preview');if(!_0x4e208d||!_0x122450||!_0x3f606e)return;const _0xb1dfc5=_0x4e208d[_0x5b1e13(0x496)][_0x5b1e13(0x2a9)]();_0xb1dfc5&&/^[a-zA-Z0-9_-]{11}$/[_0x5b1e13(0x20f)](_0xb1dfc5)?(_0x122450[_0x5b1e13(0x1f8)]=_0x5b1e13(0x310)+_0xb1dfc5,_0x3f606e[_0x5b1e13(0x581)][_0x5b1e13(0x423)]=_0x5b1e13(0x56f)):(_0x122450[_0x5b1e13(0x1f8)]='',_0x3f606e['style'][_0x5b1e13(0x423)]='none');}async function loadHighlightsAdmin(){const _0x513e30=a4_0x3bee7f,_0x246f07=document[_0x513e30(0x25c)]('highlights-table-body');if(!_0x246f07)return;_0x246f07['innerHTML']=_0x513e30(0x35b);try{const _0x194ba6=query(collection(db,_0x513e30(0x49b)),orderBy('createdAt','desc')),_0x3a7bb3=await getDocs(_0x194ba6);if(_0x3a7bb3[_0x513e30(0x2b5)]){_0x246f07[_0x513e30(0x4b4)]=_0x513e30(0x59d);return;}_0x246f07['innerHTML']='',_0x3a7bb3[_0x513e30(0x17c)](_0x3048e2=>{const _0x5c19c6=_0x513e30,_0x1cca54=_0x3048e2[_0x5c19c6(0x392)](),_0xf81f09=document['createElement']('tr'),_0x7da0c=_0x1cca54[_0x5c19c6(0x22b)]?new Date(_0x1cca54['createdAt'][_0x5c19c6(0x2ca)]*0x3e8)[_0x5c19c6(0x34d)]():_0x5c19c6(0x2a8);let _0x42830c='Unknown',_0x3ccbef='';switch(_0x1cca54[_0x5c19c6(0x216)]){case'match':_0x42830c=_0x5c19c6(0x39a),_0x3ccbef='match-type';break;case _0x5c19c6(0x22e):_0x42830c='Creator',_0x3ccbef=_0x5c19c6(0x44b);break;case'achievement':_0x42830c=_0x5c19c6(0x35e),_0x3ccbef='achievement-type';break;}_0xf81f09['innerHTML']=_0x5c19c6(0x4ae)+(_0x1cca54['title']||'Untitled')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><span\x20class=\x22highlight-type\x20'+_0x3ccbef+'\x22>'+_0x42830c+_0x5c19c6(0x2ed)+_0x7da0c+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x1cca54[_0x5c19c6(0x246)]||_0x5c19c6(0x541))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x1cca54['videoId']?_0x5c19c6(0x1e4):_0x5c19c6(0x349))+_0x5c19c6(0x173)+_0x3048e2['id']+_0x5c19c6(0x4bb)+_0x3048e2['id']+'\x22\x20title=\x22Delete\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x246f07[_0x5c19c6(0x326)](_0xf81f09);}),document[_0x513e30(0x234)]('.edit-highlight-btn')[_0x513e30(0x17c)](_0x5844f0=>{const _0xc14a07=_0x513e30;_0x5844f0[_0xc14a07(0x571)]('click',_0x3f9532=>{const _0x478426=_0xc14a07;openHighlightModal(_0x3f9532[_0x478426(0x4ef)][_0x478426(0x26b)]['id']);});}),document['querySelectorAll'](_0x513e30(0x57f))['forEach'](_0x948c10=>{const _0x53b9dd=_0x513e30;_0x948c10[_0x53b9dd(0x571)](_0x53b9dd(0x376),_0x2b7c31=>{const _0xffbe0e=_0x53b9dd;confirmDeleteHighlight(_0x2b7c31[_0xffbe0e(0x4ef)]['dataset']['id']);});});}catch(_0x54cd31){console['error'](_0x513e30(0x57c),_0x54cd31),_0x246f07[_0x513e30(0x4b4)]=_0x513e30(0x269)+_0x54cd31[_0x513e30(0x3cc)]+_0x513e30(0x1a7);}}async function confirmDeleteHighlight(_0x2f1c8f){const _0x4fce6c=a4_0x3bee7f;if(confirm(_0x4fce6c(0x58b)))try{await deleteDoc(doc(db,'highlights',_0x2f1c8f)),showNotification(_0x4fce6c(0x413),'success'),loadHighlightsAdmin();}catch(_0x28f7ee){console['error']('Error\x20deleting\x20highlight:',_0x28f7ee),showNotification(_0x4fce6c(0x1e9)+_0x28f7ee['message'],_0x4fce6c(0x279));}}function setupCreateTestMatchModal(){const _0xc5d682=a4_0x3bee7f;console[_0xc5d682(0x560)](_0xc5d682(0x20b));const _0x2c0d38=document[_0xc5d682(0x25c)](_0xc5d682(0x5b7)),_0x2bcf6b=document[_0xc5d682(0x25c)]('create-test-match-form');if(!_0x2c0d38){console[_0xc5d682(0x279)](_0xc5d682(0x397));return;}if(!_0x2bcf6b){console['error'](_0xc5d682(0x46a));return;}const _0x3e582a=_0x2c0d38[_0xc5d682(0x219)](!![]);_0x2c0d38['parentNode'][_0xc5d682(0x5a6)](_0x3e582a,_0x2c0d38);const _0x3bc0fe=_0x3e582a[_0xc5d682(0x39f)](_0xc5d682(0x263));_0x3e582a[_0xc5d682(0x571)](_0xc5d682(0x376),function(_0x5e705e){const _0x1ba8f5=_0xc5d682;_0x5e705e['target']===_0x3e582a&&(console[_0x1ba8f5(0x560)](_0x1ba8f5(0x478)),closeCreateTestMatchModal());});const _0xe59ffe=_0x3e582a[_0xc5d682(0x39f)](_0xc5d682(0x330));_0xe59ffe&&_0xe59ffe[_0xc5d682(0x571)](_0xc5d682(0x376),function(_0x547dc3){const _0x3de114=_0xc5d682;_0x547dc3[_0x3de114(0x4de)](),_0x547dc3[_0x3de114(0x517)](),console[_0x3de114(0x560)]('Modal\x20close\x20button\x20clicked'),closeCreateTestMatchModal();});const _0x4aee12=_0x3e582a[_0xc5d682(0x39f)](_0xc5d682(0x28b));_0x4aee12&&_0x4aee12[_0xc5d682(0x571)](_0xc5d682(0x376),function(_0x23091e){const _0x4365e5=_0xc5d682;_0x23091e[_0x4365e5(0x4de)](),_0x23091e[_0x4365e5(0x517)](),console['log'](_0x4365e5(0x3d4)),closeCreateTestMatchModal();});if(_0x3bc0fe){_0x3bc0fe['addEventListener'](_0xc5d682(0x2b7),function(_0x2434a0){const _0x3e5273=_0xc5d682;_0x2434a0[_0x3e5273(0x4de)](),_0x2434a0['stopPropagation'](),console[_0x3e5273(0x560)](_0x3e5273(0x573)),createTestMatch();});const _0x20eeaf=_0x3bc0fe['querySelector'](_0xc5d682(0x271));_0x20eeaf&&_0x20eeaf[_0xc5d682(0x571)](_0xc5d682(0x376),function(_0x39836c){const _0x1f9dd6=_0xc5d682;_0x39836c[_0x1f9dd6(0x4de)](),_0x39836c['stopPropagation'](),console[_0x1f9dd6(0x560)](_0x1f9dd6(0x448)),createTestMatch();});}console[_0xc5d682(0x560)](_0xc5d682(0x373));}function setupManageHighlightsSection(){const _0x23cc9e=a4_0x3bee7f;console['log'](_0x23cc9e(0x339)),setupHighlightButtons();const _0x46406e=document[_0x23cc9e(0x25c)](_0x23cc9e(0x4e4));_0x46406e&&_0x46406e[_0x23cc9e(0x571)](_0x23cc9e(0x2b7),_0x4337c9=>{const _0x3ddfe8=_0x23cc9e;_0x4337c9[_0x3ddfe8(0x4de)](),saveHighlight();});const _0x5a1d09=document[_0x23cc9e(0x25c)](_0x23cc9e(0x29a));_0x5a1d09&&_0x5a1d09[_0x23cc9e(0x571)](_0x23cc9e(0x376),closeHighlightModal);const _0x20830e=document[_0x23cc9e(0x39f)]('#highlight-modal\x20.close-btn');_0x20830e&&_0x20830e['addEventListener']('click',closeHighlightModal);const _0x493a23=document[_0x23cc9e(0x25c)](_0x23cc9e(0x264));_0x493a23&&_0x493a23[_0x23cc9e(0x571)]('click',_0x3871c2=>{const _0x575134=_0x23cc9e;_0x3871c2[_0x575134(0x3bf)]===_0x493a23&&closeHighlightModal();});const _0x5c5dfd=document['getElementById']('highlight-video-id');_0x5c5dfd&&_0x5c5dfd[_0x23cc9e(0x571)](_0x23cc9e(0x518),()=>{updateHighlightVideoPreview();}),console[_0x23cc9e(0x560)](_0x23cc9e(0x2cd));}function setupManageMatchesSection(){const _0x247cc9=a4_0x3bee7f;console[_0x247cc9(0x560)](_0x247cc9(0x1af));const _0x55c9e1=document['getElementById'](_0x247cc9(0x377)),_0xfaa687=document['getElementById']('matches-next-page');_0x55c9e1&&_0x55c9e1[_0x247cc9(0x571)](_0x247cc9(0x376),()=>{const _0x121158=_0x247cc9,_0xe8eb89=currentLadder[_0x121158(0x369)]();loadMatchesData(matchesPagination[_0xe8eb89][_0x121158(0x4cc)]-0x1);});_0xfaa687&&_0xfaa687[_0x247cc9(0x571)]('click',()=>{const _0x242afc=_0x247cc9,_0x4a97ff=currentLadder[_0x242afc(0x369)]();loadMatchesData(matchesPagination[_0x4a97ff][_0x242afc(0x4cc)]+0x1);});const _0xc58024=document[_0x247cc9(0x25c)](_0x247cc9(0x2c6)),_0x47aea4=document[_0x247cc9(0x25c)](_0x247cc9(0x512));_0xc58024&&_0xc58024[_0x247cc9(0x571)](_0x247cc9(0x376),applyMatchesFilters);_0x47aea4&&_0x47aea4[_0x247cc9(0x571)](_0x247cc9(0x376),resetMatchesFilters);const _0x52bb8f=document[_0x247cc9(0x25c)](_0x247cc9(0x26d));_0x52bb8f&&_0x52bb8f[_0x247cc9(0x571)]('input',debounce(filterMatchesTable,0x12c));const _0x15cecf=document[_0x247cc9(0x25c)]('resimulate-match-btn');_0x15cecf&&_0x15cecf[_0x247cc9(0x571)](_0x247cc9(0x376),openResimulateModal);const _0x420b07=document[_0x247cc9(0x25c)](_0x247cc9(0x535));if(_0x420b07){const _0x27ac1e=_0x420b07[_0x247cc9(0x39f)](_0x247cc9(0x1a1));_0x27ac1e&&_0x27ac1e['addEventListener'](_0x247cc9(0x376),closeResimulateModal),_0x420b07[_0x247cc9(0x571)](_0x247cc9(0x376),_0x776195=>{const _0x55e08f=_0x247cc9;_0x776195[_0x55e08f(0x3bf)]===_0x420b07&&closeResimulateModal();});}setupCreateTestMatchButton(),setupCreateTestMatchModal(),console[_0x247cc9(0x560)](_0x247cc9(0x19b));}function openCreateTestMatchModal(){const _0x321a17=a4_0x3bee7f;console['log'](_0x321a17(0x29c));const _0x1f33dc=document[_0x321a17(0x25c)](_0x321a17(0x5b7)),_0x2c6d89=document[_0x321a17(0x25c)]('create-test-match-form');if(!_0x1f33dc){console[_0x321a17(0x279)](_0x321a17(0x241)),showNotification(_0x321a17(0x241),'error');return;}if(!_0x2c6d89){console[_0x321a17(0x279)](_0x321a17(0x569)),showNotification(_0x321a17(0x569),'error');return;}_0x2c6d89[_0x321a17(0x302)]();const _0x1acbf0=document[_0x321a17(0x234)](_0x321a17(0x303));let _0x5ee308=![];_0x1acbf0['forEach'](_0x2bda73=>{const _0x383211=_0x321a17;console['log'](_0x383211(0x1ce),_0x2bda73['value']),_0x2bda73[_0x383211(0x496)]===currentLadder&&(_0x2bda73[_0x383211(0x435)]=!![],_0x5ee308=!![],console[_0x383211(0x560)]('Set\x20default\x20ladder\x20to:',currentLadder));});if(!_0x5ee308){console[_0x321a17(0x2ce)](_0x321a17(0x532),currentLadder);const _0x54db5f=document['querySelector'](_0x321a17(0x39d));_0x54db5f&&(_0x54db5f['checked']=!![],console[_0x321a17(0x560)](_0x321a17(0x27b)));}const _0x3f86b2=document[_0x321a17(0x25c)](_0x321a17(0x5af));if(_0x3f86b2){const _0x542f17=new Date()['toISOString']()[_0x321a17(0x18b)]('T')[0x0];_0x3f86b2[_0x321a17(0x496)]=_0x542f17;}_0x1f33dc[_0x321a17(0x581)][_0x321a17(0x423)]=_0x321a17(0x44c),_0x1f33dc[_0x321a17(0x581)][_0x321a17(0x3a7)]=_0x321a17(0x4aa),_0x1f33dc['style'][_0x321a17(0x22c)]='1',_0x1f33dc[_0x321a17(0x18d)][_0x321a17(0x29d)](_0x321a17(0x28f)),console[_0x321a17(0x560)](_0x321a17(0x203));const _0x5febb0=document[_0x321a17(0x25c)](_0x321a17(0x28e));_0x5febb0&&setTimeout(()=>{const _0x157d07=_0x321a17;_0x5febb0[_0x157d07(0x1f2)]();},0x64);}function a4_0x7457(){const _0x1dc67f=['size','removeEventListener','edit-match-modal','Adding\x20\x22active\x22\x20class\x20to\x20modal.','updatedAt','Error\x20demoting\x20player:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22quick-edit-btn\x22\x20data-user-id=\x22','Successfully\x20demoted\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22stats\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',';\x20color:\x20','Quick\x20edit\x20modal\x20not\x20found!\x20Make\x20sure\x20the\x20HTML\x20element\x20exists.','quick-edit-user-id','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22points-badge\x20','videoId','Failed\x20to\x20delete\x20article:\x20','Create\x20test\x20match\x20button\x20setup\x20complete','highlight-description','Switched\x20to\x20','\x20users\x20already\x20had\x20points.','key','activity-chart','Never','Highlight\x20deleted\x20successfully','#players.content-section.active','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-edit\x22></i>\x20Edit\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','highlight-achievement-details','highlight-video-preview-container','roleAssignedAt','\x20Level\x20','Simple\x20test\x20match\x20created\x20successfully','manage-points','<div\x20class=\x22chart-error\x22>Error\x20loading\x20chart\x20data</div>','Promotion\x20notification\x20sent\x20to\x20Discord\x20bot','modify-points-form','className','load-inactive-players-data','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22','display','playerRibbonsD2','apply','players-ladder-selector','Modal\x20closed','Untitled','Create\x20test\x20match\x20button\x20clicked','Monday','modifiedBy','highlight-creator-image-container','Points\x20updated\x20successfully\x20for\x20user:','matches-page-indicator','d2-next-page','Cancel\x20button\x20not\x20found','Unknown\x20Admin','highlight-match-link','\x20(winner)\x20vs\x20','\x20allowed\x20tabs:','checked','Achievement\x20highlight\x20button\x20clicked','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-plus\x22\x20title=\x22Assign\x20to\x20player\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-trophy-btn\x22\x20data-id=\x22','role','Profile','Username\x20','Firebase\x20connection\x20test\x20successful!','award-reason','Trophy\x20created\x20successfully','<tr><td\x20colspan=\x226\x22\x20class=\x22loading-cell\x22>Loading\x20history...</td></tr>','</td></tr>','Match\x20not\x20found\x20in\x20approved\x20matches','current-ribbon-user','Error\x20loading\x20dashboard:','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Ribbons\x20Data','ribbon-user-search','\x20vs\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-article-btn\x22\x20data-id=\x22','cancel-set-elo-btn','Submit\x20button\x20clicked\x20directly','edit-match-loser','assign-trophy-modal','creator-type','flex','1200','\x20before\x20match\x20-\x20using\x20starting\x20ELO\x201200','Added\x20','Toggling\x20fields\x20for\x20highlight\x20type:\x20','rgba(211,\x2047,\x2047,\x200.7)','Opening\x20quick\x20edit\x20modal\x20for\x20user\x20ID:','lastVisible','player-search','\x20(loser)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Score:</strong>\x20','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22user-email\x22>','ribbon-target-ladder','trophyDefinitions','error-state','promote-form','Error\x20searching\x20users:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x226\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20players:\x20','load-trophies-data','\x22\x20data-ladder=\x22','Error\x20adding\x20player:\x20','Points\x20field\x20initialized\x20for\x20','Load\x20users\x20data\x20clicked','Error\x20adding\x20ribbon','cancel-assign-btn','TestMap','Quick\x20edit\x20form\x20elements\x20missing\x20from\x20HTML','loserComment',',\x20Loser\x20','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Users\x20Data','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Highlights','Create\x20test\x20match\x20form\x20not\x20found\x20in\x20DOM','Wednesday','Demoting\x20player\x20to\x20','set-elo-ladder','Role\x20\x22','trophy-rarity','right','ribbon-item','timestamp','highlight-video-id','load-ribbons-data','sort','Setting\x20permissions\x20based\x20on\x20role:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22match-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4>Match\x20Details:</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Winner:</strong>\x20','Modal\x20background\x20clicked','Player\x20not\x20found\x20in\x20','loss','startDate','elo','winnerScore','No\x20users\x20needed\x20points\x20field\x20initialization','Starting\x20complete\x20match\x20resimulation...','Failed\x20to\x20delete\x20player:\x20','daysSinceMatch','load-users-data','points-user-search','No\x20matches\x20found','No\x20description','User\x20has\x20','Quick\x20edit\x20clicked\x20for\x20user:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22remove-role-btn\x22\x20data-username=\x22','previousElo','Error\x20creating\x20rank\x20distribution\x20chart:','Searching\x20for\x20player\x20in\x20','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Trophies\x20Data','20px','includes','.sidebar-nav\x20.nav-item','location','Player\x20Name\x20is\x20required','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','pending-count','reason','exists','value','Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20article?\x20This\x20action\x20cannot\x20be\x20undone.','Error\x20saving\x20highlight:\x20','\x20<span\x20class=\x22user-source\x22>(','searchTerm','highlights','You\x20must\x20be\x20logged\x20in\x20to\x20delete\x20matches','article-form','title','<tr><td\x20colspan=\x225\x22\x20class=\x22empty-state\x22>No\x20users\x20found</td></tr>','description','Trophy\x20definition\x20deleted\x20successfully','Quick\x20edit\x20modal\x20not\x20found\x20in\x20the\x20page','confirmResimulateMatch','manage-trophies','Error\x20searching\x20user:','\x20users\x20don\x27t\x20have\x20points\x20field\x20yet.\x20Use\x20the\x20migration\x20button\x20to\x20initialize.','achievementImageUrl','rgba(255,\x20193,\x207,\x200.1)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','visible','edit-match-loser-demo','Error\x20loading\x20ribbons\x20data','Please\x20enter\x20a\x20valid\x20username','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','Error\x20loading\x20trophy\x20data:','edit-match-winner','Setting\x20up\x20Manage\x20Ribbons\x20section','#users-table-body\x20tr[data-username=\x22','Trophy\x20\x22','innerHTML','Trophy\x20updated\x20successfully','migrate-points-btn','highlight-achievement-player-container','Using\x20collections\x20for\x20','Removed\x20','success','\x22\x20title=\x22Edit\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-edit\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-highlight-btn\x22\x20data-id=\x22','create-achievement-highlight-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22trophy-rarity-cell\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22trophy-rarity\x20','Match\x20Result','nonexistent','Error\x20fetching\x20matches\x20for\x20','history-end-date','user-ribbon-management','Creating\x20test\x20match\x20without\x20player\x20validation...','mapName','no-results-message','Player\x20\x22','achievement','currentUser','selected-user-points','positive-change','Promotion','page','winnerUsername','Error\x20saving\x20trophy:','migration-section','edit-highlight-id','\x22\x20title=\x22Edit\x20Match\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-match-btn\x20btn-small\x20btn-danger\x22\x20data-id=\x22','\x20view\x20history\x20buttons','This\x20will\x20add\x20a\x20points\x20field\x20(set\x20to\x200)\x20for\x20all\x20users\x20who\x20don\x27t\x20have\x20one\x20yet.\x20Continue?','Error\x20loading\x20players:','destroy','Dashboard\x20data\x20loaded\x20successfully','user-search','.edit-match-btn','Complete\x20resimulation\x20-\x20ELO\x20ratings\x20and\x20positions\x20recalculated','docs','newElo','getDate','<tr><td\x20colspan=\x226\x22\x20class=\x22error-state\x22>Error\x20loading\x20history:\x20','preventDefault','Error\x20loading\x20dashboard\x20data:','edit-match-loser-comment','.close-notification','Failed\x20to\x20update\x20points:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Current\x20Winner\x20ELO:</strong>\x20','highlight-form','getDay','Firebase\x20connection\x20test\x20failed:','level','highlight-loser-name','highlight-match-date-container','\x20not\x20found\x20in\x20any\x20ladder','input[name=\x22quick-action\x22]:checked','mapVersion','edit-highlight-matchLink-input','<td\x20colspan=\x227\x22>No\x20matches\x20found\x20matching\x20\x27','currentTarget','Error\x20resolving\x20username\x20for\x20','promote-modal','backgroundColor','roleColor','user-search-results','rarity','Failed\x20to\x20save\x20article:\x20','\x20points','highlight-achievement-details-container','edit-username','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x224\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20articles:\x20','highlight-players-container','.admin-action','points-overview-table-body','highlight-achievement-image','No\x20email','Failed\x20to\x20update\x20player:\x20','#ffffff','sources','\x20Exists','edit-highlight-videoId-input','marginBottom','selected-user-info','Edit\x20Match:\x20','Opening\x20highlight\x20modal\x20with\x20parameter:\x20','search','achievementDetails','Store\x20item\x20awarded\x20successfully','promote-username','Manage\x20Points\x20section\x20initialized','promote-player-btn','Error\x20loading\x20users:','prototype','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Loser\x20ELO\x20History:</strong>\x20','reset-matches-filters','#50C878','Failed\x20to\x20resimulate\x20match:\x20','Attempting\x20to\x20open\x20role\x20edit\x20modal\x20for:','load-articles-data','stopPropagation','input','Edit\x20Trophy','<p\x20class=\x22no-ribbons\x22>No\x20ribbons\x20found</p>','Updated\x20ELO\x20ratings:\x20Winner\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22user-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user\x20user-icon\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22user-name\x22>','edit-player-modal','manage-levels-ribbons','string','history-start-date','previousElementSibling','inactive-players','ladder','.nav-item','No\x20match\x20data\x20found\x20for\x20resimulation','non-participant','Failed\x20to\x20load\x20player\x20data','trace','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-coins\x22></i>\x20','none','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22elo-change\x20','#d32f2f','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Current\x20Loser\x20ELO:</strong>\x20','\x20ladder!','matchInfo','\x22\x20title=\x22View\x20Player\x20Details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Setting\x20up\x20matches\x20action\x20buttons...','No\x20radio\x20button\x20found\x20for\x20current\x20ladder:','delete-match-summary','nonParticipants','resimulate-modal','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><span\x20class=\x22ladder-badge\x20','Looking\x20for\x20user\x20role\x20information\x20for\x20','<tr><td\x20colspan=\x225\x22\x20class=\x22error-state\x22>Error\x20loading\x20users</td></tr>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22type\x22>','\x20ladder.\x20Click\x20\x22Load\x20Data\x22\x20to\x20refresh.','Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20match?\x20This\x20action\x20cannot\x20be\x20undone.','\x20users','Auth:','entries','create-new-article-btn','highlight-match-info','Unknown','resimulateMatch','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><em>This\x20will\x20create\x20accurate\x20ELO\x20history\x20entries\x20based\x20on\x20the\x20players\x27\x20ELO\x20ratings\x20at\x20the\x20time\x20this\x20match\x20was\x20played.</em></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','change','highlight-title','ribbon-level','assign-trophy-rarity','highlight-match-date','borderRadius','<tr><td\x20colspan=\x225\x22\x20class=\x22loading-cell\x22>Loading\x20users...</td></tr>','awardedAt','toISOString','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22close-notification\x22></button>\x0a\x20\x20\x20\x20','<tr><td\x20colspan=\x227\x22\x20class=\x22loading-cell\x22>Loading\x20history...</td></tr>','Page\x20','lastMatch','add-ribbon-form','body','.no-results','\x27</td>','role-name','creatorImageUrl','points-amount','highlight-submitted-by','edit-match-winner-demo','search-result-item','.ladder-switch\x20input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22timestamp\x22>','players','Found\x20specific\x20role:\x20','Username\x20is\x20missing','log','Failed\x20to\x20assign\x20trophy:\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22winner-cell\x22>','subtract','Error\x20saving\x20highlight:','afterend','./ladderalgorithm.js','edit-match-title','quick-edit-points-modal','Create\x20test\x20match\x20form\x20not\x20found','Error\x20resimulating\x20match:','<div\x20class=\x22no-results\x22>No\x20users\x20found</div>','Resimulated\x20entry\x20-\x20ELO\x20and\x20positions\x20calculated\x20from\x20actual\x20pre-match\x20data','.empty-state','<tr><td\x20colspan=\x225\x22\x20class=\x22loading-cell\x22>Loading\x20user\x20points...</td></tr>','block','trophy-modal','addEventListener','\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20Users\x20updated\x20with\x20points:\x20','Create\x20test\x20match\x20form\x20submitted','promotedBy','article-id','quick-points-amount','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Articles','winnerName','Highlight\x20not\x20found','You\x20must\x20be\x20logged\x20in\x20to\x20delete\x20trophies','.remove-role-btn','Error\x20loading\x20highlights:','<span\x20class=\x22no-role\x22>None</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x227\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20applying\x20filters:\x20','.delete-highlight-btn','<tr><td\x20colspan=\x224\x22\x20class=\x22empty-state\x22>No\x20articles\x20found</td></tr>','style','toLocaleString','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Dashboard\x20Data','author','load-highlights-data','#000000','(((.+)+)+)+$','loserScore','Delete\x20match\x20clicked:','Deleting\x20match...','Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20highlight?\x20This\x20cannot\x20be\x20undone.','join','points-history-table-body','Please\x20select\x20a\x20user\x20and\x20store\x20item','ribbons','role-username','highlight-match-link-container','length','All\x20fields\x20are\x20required','<tr><td\x20colspan=\x227\x22\x20class=\x22error-state\x22>Error\x20loading\x20inactive\x20players:\x20','href','\x20users\x20without\x20points\x20field\x20-\x20they\x20will\x20display\x20as\x200\x20points','d1-next-page','award-item-form','Error\x20setting\x20user\x20role:','trophy-modal-title','highlight-player-profile-container','\x20already\x20exists\x20in\x20','<tr><td\x20colspan=\x226\x22\x20class=\x22empty-state\x22>No\x20highlights\x20found</td></tr>','cancel-quick-edit','highlight-map-creator-container','Error\x20in\x20demotion:','insertAdjacentElement','no-results','NonParticipant','Load\x20highlights\x20data\x20clicked','Error\x20initializing\x20points:\x20','replaceChild','match_result','Unknown\x20Player','edit-highlight-playerProfileUrl-input','cancel-role-btn','promotion','Failed\x20to\x20modify\x20points:\x20','Error\x20loading\x20user\x20points\x20history:','Attempting\x20to\x20promote\x20','test-match-date','highlight-player-profile','\x20Missing','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.src=\x27','\x20for\x20points\x20initialization','adminEmail','\x20-\x20Feature\x20coming\x20soon','edit-losses','create-test-match-modal','load-matches-data','2404768VeGmLZ','Displaying\x20','Error\x20deleting\x20trophy\x20definition:','closest','<tr><td\x20colspan=\x227\x22\x20class=\x22empty-state\x22>No\x20ELO\x20history\x20found</td></tr>','approvedMatchesD2','.username','\x22\x20not\x20found\x20in\x20','Error\x20loading\x20matches:','edit-highlight-winnerScore-input','loserName','Error\x20loading\x20inactive\x20players:','Error\x20demoting\x20player:','closeResimulateModal','validation-results-container','admin','add-player-form','Manage\x20Ribbons\x20section\x20initialized','Create\x20test\x20match\x20button\x20not\x20found\x20in\x20DOM','inactive-players-table-body','Loading...','set-role-modal','date','pendingResimulateData','highlight-submitted-by-container','Match\x20Highlight','Player\x20is\x20already\x20at\x20maximum\x20rank\x20(Emerald)\x20in\x20','edit-elo','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>',').\x20','\x20(based\x20on\x20data-role:\x20','#e0e0e0','Failed\x20to\x20load\x20user\x20history','fa-exclamation-triangle','.edit-trophy-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-highlight-btn\x22\x20data-id=\x22','<div\x20class=\x22error\x22>Error\x20searching\x20users</div>','highlight-map-version-container','Failed\x20to\x20load\x20user\x20data:\x20','edit-highlight-achievementPlayer-input','<tr><td\x20colspan=\x227\x22\x20class=\x22empty-state\x22>No\x20matches\x20found\x20for\x20the\x20selected\x20filters</td></tr>','manage-matches','\x22\x20title=\x22Quick\x20Edit\x20Points\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-edit\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22view-history-btn\x22\x20data-user-id=\x22','cells','forEach','No\x20user\x20ID\x20found\x20on\x20button','\x20section','matchId','Match\x20updated\x20successfully','trophy-image-url','achievementType','User\x20data\x20loaded:','Positions\x20updated:\x20Winner\x20','winnerComment','cancel-trophy-btn','result','Load\x20history\x20data\x20clicked','input[name=\x22set-elo-ladder\x22]:checked','matches-table-body','split','keypress','classList','onAuthStateChanged','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4><i\x20class=\x22fas\x20fa-database\x22></i>\x20Database\x20Migration</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p>Initialize\x20the\x20points\x20field\x20for\x20all\x20users\x20who\x20don\x27t\x20have\x20it\x20yet.\x20This\x20is\x20safe\x20to\x20run\x20multiple\x20times.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22migrate-points-btn\x22\x20class=\x22btn\x20btn-warning\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20Initialize\x20Points\x20Field\x20for\x20All\x20Users\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','div','Setting\x20up\x20Manage\x20Points\x20section','set','values','Current\x20user:','edit-match-map','activity','./promotions.js','TestWinner','\x20(+','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','Manage\x20Matches\x20section\x20initialized\x20with\x20resimulate\x20functionality','TestLoser','<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error','Failed\x20to\x20send\x20Discord\x20notification:','Setting\x20up\x20points\x20action\x20buttons...','unknown','.close','Error\x20getting\x20ELO\x20at\x20time\x20for\x20player\x20','You\x20must\x20be\x20logged\x20in','playerRibbonsD3','login.html','View\x20history\x20clicked\x20for\x20user:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Match\x20Date:</strong>\x20','toDate','notification\x20','Quick\x20edit\x20form\x20is\x20incomplete.\x20Check\x20the\x20HTML\x20structure.','highlight-description-container','.delete-match-btn','substring','Setting\x20up\x20Manage\x20Matches\x20section','Tuesday','YouTube\x20Video\x20ID\x20(Optional)','Found\x20ELO\x20history\x20for\x20player\x20','{}.constructor(\x22return\x20this\x22)(\x20)','highlight-map','input[name=\x22assign-ladder\x22]:checked','Failed\x20to\x20save\x20match:\x20','Unknown\x20User','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-sm\x20edit-ribbons-btn\x22\x20data-username=\x22','edit-match-id','Error\x20loading\x20match\x20for\x20deletion:','\x20by\x20UID:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22admin-action\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','push','0.6','You\x20must\x20be\x20logged\x20in\x20to\x20perform\x20this\x20action','manage-players','highlight-modal-title','player','desc','4062jkxWwW','highlight-achievement-player','confirm-resimulate-btn','Found\x20user\x20in\x20','Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20player?\x20This\x20action\x20cannot\x20be\x20undone.','ref','highlight-type','matchDate','match-count','highlight-map-version','Found\x20radio\x20with\x20value:','rankDistribution','player-count','Article\x20not\x20found','Friday','imageUrl','reduce','fa-exclamation-circle','asc','Failed\x20to\x20create\x20simple\x20test\x20match:\x20','highlight-video-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Loser:</strong>\x20','demote-modal','</span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','info','email','Test\x20match','Error\x20finding\x20match:','edit-match-winner-score','Username\x20input\x20field\x20(#role-username)\x20not\x20found\x20in\x20modal.','Unranked','Modal\x20opened\x20successfully','<i\x20class=\x22fas\x20fa-video\x22></i>\x20Yes','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','edit-match-winner-suicides','getAttribute','Error\x20opening\x20edit\x20modal:','Error\x20deleting\x20highlight:\x20','Error\x20loading\x20points\x20data:','No\x20player\x20selected','playersD2','assign-trophy-description','approvedMatches','assign-trophy-image','history-type-filter','points-overview-search','focus','Match\x20ID\x20or\x20ladder\x20missing','edit-highlight-loserScore-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','hidden','Testing\x20Firebase\x20connection...','src','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Initializing...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Date:</strong>\x20','D3\x20Players','demote-ladder','Error\x20removing\x20ribbon:','Remove\x20','d1-prev-page','Quick\x20edit\x20modal\x20not\x20found\x20in\x20DOM!','Failed\x20to\x20load\x20points\x20data:\x20','table','Modal\x20should\x20now\x20be\x20visible','getRankName','winnerSuicides','User\x20\x22','update','padding','edit-highlight-mapVersion-input','article-image-url','Setting\x20up\x20create\x20test\x20match\x20modal\x20events','eloHistoryD3','Error\x20assigning\x20trophy:','edit-match-ladder','test','Won','.section-header','Player\x20not\x20found','parentNode','<i\x20class=\x22fas\x20fa-check\x22></i>\x20Completed','\x20inactive\x20players','type','data-ladder','<tr><td\x20colspan=\x226\x22\x20class=\x22empty-state\x22>No\x20players\x20found</td></tr>','cloneNode','\x20Weekly\x20Activity','d3-prev-page','\x20\x20','previousPoints','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong\x20style=\x22color:\x20#ff9800;\x22>\x20RESIMULATION\x20WILL:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>Recalculate\x20ELO\x20ratings\x20based\x20on\x20pre-match\x20values</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>Update\x20current\x20player\x20ELO\x20ratings</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>Recalculate\x20and\x20update\x20player\x20positions</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>Create\x20missing\x20ELO\x20history\x20entries</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>Handle\x20position\x20swaps\x20if\x20winner\x20was\x20lower\x20ranked</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','admin_modification','#inactive-players-table-body\x20tr','#CD7F32','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22position\x22>','.ladder-switch\x20input[value=\x22D2\x22]','create-match-highlight-btn','#players-table-body\x20tr','Cancel\x20button\x20(#cancel-role-btn)\x20not\x20found\x20in\x20modal.','\x20total\x20players\x20in\x20the\x20','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Matches','Could\x20not\x20find\x20player\x20documents','edit-highlight-winnerName-input','createdAt','opacity','Saturday','creator','Article\x20created\x20successfully','.edit-btn','\x22\x20already\x20has\x20this\x20trophy','Highlight\x20added\x20successfully!','Error\x20loading\x20history:','querySelectorAll','<tr><td\x20colspan=\x227\x22\x20class=\x22empty-state\x22>No\x20players\x20found\x20in\x20this\x20ladder</td></tr>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20to\x20','\x20Rank\x20Distribution','Match\x20deleted\x20successfully','Please\x20enter\x20a\x20username','match','\x20points\x20history\x20entries','Collection\x20reference\x20created:','playerId','name-desc','edit-highlight-matchInfo-input','Create\x20test\x20match\x20modal\x20not\x20found','data-match-id','Error\x20loading\x20match\x20data:','roleName','console','submittedBy','rejected-count','paste','load-dashboard-data','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','matches-end-date','Unauthorized:\x20Admin\x20access\x20required','disabled','trophy-id','.player','<tr><td\x20colspan=\x224\x22\x20class=\x22loading-cell\x22>Loading\x20articles...</td></tr>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22ladder-cell\x22>','#28a745','selected-user-id','create-test-match-btn','dashboard','set-role-form','set-elo-modal','map','Updating\x20role\x20for\x20','set-elo-value','\x20users.\x20','getElementById','Failed\x20to\x20award\x20item:\x20','Failed\x20to\x20load\x20trophy\x20data','<tr><td\x20colspan=\x226\x22\x20class=\x22empty-state\x22>No\x20history\x20found</td></tr>','Found\x20','Trophy\x20not\x20found','matchLink','#create-test-match-form','highlight-modal','\x22\x20title=\x22View\x20Points\x20History\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-history\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','role-filter','#users-table-body\x20tr','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Inactive\x20Players','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x226\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20highlights:\x20','Player\x20updated\x20successfully','dataset','trophy-preview-img','matches-search','common','Loaded\x20','alt','button[type=\x22submit\x22]','user-roles-section','Error\x20saving\x20article:','Error\x20loading\x20highlight:','Modal\x20computed\x20styles:','keys','#C0C0C0','bind','error','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Current\x20Loser\x20Position:</strong>\x20','Defaulted\x20to\x20D1\x20ladder','then','loserSuicides','Map\x20Creator\x20is\x20required','Load\x20matches\x20data\x20clicked','),\x20','Error\x20loading\x20article\x20data:','edit-match-loser-score','No\x20specific\x20permissions\x20for\x20user\x20','edit-highlight-achievementDetails-input','demote-username','highlight-id','No\x20position\x20changes\x20needed.','<tr><td\x20colspan=\x227\x22\x20class=\x22loading-cell\x22>Loading\x20inactive\x20players...</td></tr>','.form-group','pointsHistory','#cancel-create-test-match-btn','allUsersPoints','\x20matches\x20for\x20','test-match-winner-username','active','\x20users...','Table\x20row\x20for\x20user\x20','has','demotion','<tr><td\x20colspan=\x227\x22\x20class=\x22loading-cell\x22>Applying\x20filters...</td></tr>','<tr><td\x20colspan=\x227\x22\x20class=\x22empty-state\x22>No\x20inactive\x20players\x20match\x20your\x20criteria</td></tr>','.quick-edit-btn','Error\x20adding\x20ribbon:','Role\x20select\x20set\x20to:\x20','data-id','cancel-highlight-btn','createElement','Opening\x20create\x20test\x20match\x20modal','add','achievementPlayer','Batch\x20limit\x20reached\x20-\x20you\x20may\x20need\x20to\x20run\x20this\x20function\x20multiple\x20times\x20for\x20large\x20datasets','edit-highlight-achievementType-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x225\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20trophies:\x20','Points\x20modified\x20successfully','#elo-history-table-body\x20tr','.sidebar-nav\x20.nav-item[data-section=\x22','Load\x20inactive\x20players\x20data\x20clicked','load-elo-history-data','Please\x20fill\x20all\x20fields','N/A','trim','add-new-role-btn','rgba(25,\x20118,\x20210,\x200.7)','setAttribute','\x20ladder,\x20page\x20','#trophy-modal\x20.close-btn,\x20#assign-trophy-modal\x20.close-btn','Highlight','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Ladder:</strong>\x20','Closing\x20create\x20test\x20match\x20modal','Match\x20resimulated\x20successfully!\x20','current-ribbons-list','4725052gvRwrN','empty','users-table-body','submit','<tr><td\x20colspan=\x225\x22\x20class=\x22loading-cell\x22>Loading\x20trophies...</td></tr>','doughnut','Article\x20updated\x20successfully','localeCompare','Edit\x20match\x20clicked:','Edit\x20','low-points','-page-indicator','.admin-section','You\x20do\x20not\x20have\x20permission\x20to\x20access\x20this\x20section','points','articles','setHours','mapPlayed','apply-matches-filters','manage-articles','trophy-form','Error\x20loading\x20ribbons:','seconds','.loading-cell','quick-edit-email','Manage\x20Highlights\x20section\x20initialized','warn','\x22\x20awarded\x20to\x20','exception','Setting\x20up\x20create\x20test\x20match\x20button','rgba(255,\x20255,\x20255,\x200.1)','edit-wins','quick-edit-points-form','Match\x20found\x20-\x20please\x20review\x20details\x20and\x20confirm\x20resimulation','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22rank\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22rank-badge\x22\x20style=\x22background-color:\x20','rank-distribution-chart','article-title','color','set-elo-form','Winner\x20and\x20loser\x20usernames\x20are\x20required','trophies-table-body','onerror','Attempting\x20to\x20delete\x20trophy\x20definition\x20with\x20ID:\x20','Using\x20collection:\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22points-change\x20','username','Setting\x20up\x20Manage\x20Articles\x20section\x20-\x20Found\x20Create\x20Article\x20button.','Initializing\x20points\x20field\x20for\x20user\x20','Error\x20loading\x20highlight:\x20','article-modal','You\x20must\x20be\x20logged\x20in\x20to\x20save\x20trophies','.view-history-btn','.error-state','Migration\x20Summary:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20Total\x20users\x20checked:\x20','Deleting\x20match\x20',';\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','Set\x20to\x20','ELO\x20rating\x20for\x20','elo-history','YouTube\x20Video\x20ID*','.assign-trophy-btn','highlight-map-creator','get','\x22\x20title=\x22Delete\x20Match\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20creating\x20activity\x20chart:','Error\x20loading\x20points\x20history:','Loading\x20points\x20data...','amount','ribbon-target-user','Quick\x20edit\x20modal\x20found,\x20setting\x20up\x20events...','Essential\x20highlight\x20modal\x20elements\x20not\x20found!','article-content','Page\x201','trophy-name','Matches\x20Played','userProfiles','reset','input[name=\x22test-match-ladder\x22]','cancel-promote-btn','Error\x20deleting\x20player:','Matches\x20action\x20buttons\x20setup\x20complete','System','highlight-title-container','Role\x20select\x20field\x20(#user-role)\x20not\x20found\x20in\x20modal.','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Current\x20Winner\x20Position:</strong>\x20','initial_placement','Error\x20saving\x20match:','Title\x20and\x20content\x20are\x20required','catch','empty-state','https://www.youtube.com/embed/','eloRating','</span>','fromDate','Points\x20action\x20buttons\x20setup\x20complete','loading','Error\x20loading\x20trophy\x20definitions:','9BqENGQ','approvedMatchesD3','Error\x20promoting\x20player:','<tr><td\x20colspan=\x227\x22\x20class=\x22empty-state\x22>No\x20matches\x20found</td></tr>','Trophy\x20Preview','Bronze','edit-highlight-type-select','Found\x20player\x20with\x20current\x20ELO:\x20','userTrophies','edit-highlight-loserName-input','Thursday','Ribbons\x20data\x20loaded\x20successfully','trophy-description','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Map:</strong>\x20','image','appendChild','\x20users\x20to\x20check...','Error:\x20','highlight-map-container','\x20collection...','Error\x20removing\x20role:','Player\x20Achievement','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22previous-elo\x22>','ribbons-overview-table-body','userId','.close-btn','\x20ladder','Error\x20creating\x20simple\x20test\x20match:','losses','high-points','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22player\x22>','Loser\x20','testFirebaseConnection','Create\x20New\x20','Setting\x20up\x20Manage\x20Highlights\x20section','.edit-ribbons-btn','Error\x20loading\x20articles:','highlight-achievement-type','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Players\x20Data','commit','CRITICAL:\x20Role\x20modal\x20element\x20(#set-role-modal)\x20not\x20found\x20in\x20the\x20DOM!','approvedAt','Load\x20ribbons\x20data\x20clicked','.type','lastUpdated','Error\x20loading\x20trophies:','\x20in\x20all\x20collections...','ribbon-type-select','resimulate-match-id','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22trophy-image-cell\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22','<i\x20class=\x22fas\x20fa-times\x22></i>\x20No','lastPointsModified','Error\x20deleting\x20match:','\x27;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22trophy-name\x22>','toLocaleDateString','match-details-container','elo-history-search','Non-Participant','.form-group,\x20.form-row','inactive-days-filter',')</span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','\x22\x20set','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Articles\x20Data','Inactive\x20players\x20section\x20initialized','Admin\x20Adjustment','filter','edit-highlight-map-input','uid','<tr><td\x20colspan=\x226\x22\x20class=\x22loading-cell\x22>Loading\x20highlights...</td></tr>','4187057VEoHep','from','Achievement','demote-player-btn','</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-danger\x20btn-sm\x20remove-ribbon-btn\x22\x20data-ribbon=\x22','max','Error\x20removing\x20ribbon','win','__proto__','newPoints','15px','manage-ribbons','load-players-data','toLowerCase','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22map-cell\x22>','Are\x20you\x20sure\x20you\x20want\x20to\x20remove\x20the\x20role\x20from\x20','Gold','.remove-ribbon-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Score:</strong>\x20','#808080','MAX_SAFE_INTEGER','Role\x20\x27','Error','Create\x20test\x20match\x20modal\x20setup\x20complete','Setup\x20Manage\x20Articles:\x20Create\x20Article\x20button\x20not\x20found!','points-sort-order','click','matches-prev-page','mapCreator','Silver','d2-prev-page','fa-check-circle','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22user-points\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22new-elo\x22>','highlight-loser-score','Enter','Never\x20played','highlight-winner-score','eloHistoryD2','all','wins','manage-ranks','loserDemoLink','data-section','highlight-achievement-image-container','store-item-select','Created\x20','1026446RADgve','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Map:</strong>\x20','edit-highlight-description-input','name','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22assign-trophy-btn\x22\x20data-id=\x22','.delete-article-btn','settings','data','getComputedStyle','contains','You\x20must\x20be\x20logged\x20in\x20to\x20save\x20articles','d3-next-page','Create\x20test\x20match\x20modal\x20not\x20found\x20in\x20DOM','671198vHDYua','Attaching\x20cancel\x20button\x20listener.','Match','Error\x20loading\x20ELO\x20history:','Close\x20button\x20not\x20found\x20in\x20quick\x20edit\x20modal','input[name=\x22test-match-ladder\x22][value=\x22D1\x22]','remove','querySelector','loserUsername','Match\x20not\x20found','highlight-creator-image','search-ribbon-user-btn','.view-player-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...','edit-match-loser-suicides','visibility','endDate','User\x20not\x20found','Failed\x20to\x20delete\x20match:\x20','position','Please\x20enter\x20valid\x20username\x20and\x20ELO','\x20in\x20','edit-match-winner-comment','\x20Successfully\x20initialized\x20points\x20field\x20for\x20','pendingMatches','Username\x20input\x20set\x20to:\x20','highly-inactive','Failed\x20to\x20load\x20match\x20data','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Trophies','source','textContent','#1976d2','.delete-btn','playerRibbons','displayName','Error\x20updating\x20points:','article-author','Player\x20is\x20already\x20at\x20minimum\x20rank\x20(Unranked)\x20in\x20','\x20from\x20','target','Error\x20loading\x20points\x20overview:','edit-highlight-matchDate-input','165oLjPLs','loading-cell','Error\x20adding\x20player:',',\x20giving\x20default\x20access','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','quick-add','DOMContentLoaded','negative-change','pendingMatchesD2','1px\x20solid\x20rgba(255,\x20193,\x207,\x200.3)','message','constructor','eloHistory','elo-history-table-body','promote-ladder','4268241lqrytw','demoLink','manage-highlights','Modal\x20cancel\x20button\x20clicked','selected-user-name','openResimulateModal','Untitled\x20Trophy','matches-start-date','-next-page','articles-table-body','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Players:</strong>\x20','warning','Emerald','toString','playerProfileUrl','Sidebar\x20navigation\x20initialized\x20with\x20permissions','trophy-image-preview','Points\x20updated\x20successfully','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20History\x20Data','firstVisible','playersD3','Adding\x20simple\x20test\x20match...','Error:\x20Could\x20not\x20find\x20the\x20role\x20editing\x20dialog.','Demotion\x20notification\x20sent\x20to\x20Discord\x20bot','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22view-player-btn\x22\x20data-username=\x22','demotedBy','createdBy','edit-highlight-title-input','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAADHUlEQVR4nO2XS0hUURjHf3fGnPGB+cBkzEAFRSglH5mQEiitIFoYEW6iFrWJoE20SReCQUGbXrRqEVFB0SIKKnrhM3wUldmQjc5Yk46Njjpz7+06cO50vTP3jplJ0fnDYe75zpnz/e73+L5zFf4n+X1SUoAM624GUoA0IAjw+IS5BWwgCIwCbuAn0AcMWOsP4NHE+BlqEjmxDZQCq4H5QCoQsALMWJjLWgMTvN8FPALuWWs38MhnfCoQoBvIBY4Du4EVwCyPDj7L+ptA/S/WX4EW4ALQMM1g/k8FmA5UAPuBZYCK94wRyXmU6TlwDEFzwDHgltOHnQKcBWwFjgL5jglOTTeBI8BtuwdVmweLgCvAAsckpq8XwDagzQ7QboPZQC1Q7JjA7KgX2AJ02zkwmjINuAzUzHCyGnAFmDMZ4DqgERHNTEsBDmvT0eVSYNgx1PSl28pOldcGvw/WAOeB+Y6pzEwPEJV1zOvBPcAJx0RmLg3YGw0Yu80G4LRjErOjU0BxJGARcB1Y6JjE7GgQKAD6w4FmAM3AUscE4pMuozqigrMa52RUKiK+ipxKDRkVRAYSoiDwDLiLKKU9iqKMgiQRH2wElsdxwDPgLPAAOZ4Fo/YV5BNkAXXIvFgLXAS+2wDnAU2MZEmsJOIK8NqG/wEVwClEoREmLeKP50hn5FSvgT3AY5v+J5HmHVZ4iY+pNG0E1wEss+FbjXS2vjgeUJETzYLJE5+gz5aHXSzlQBnQFQ9gCPH5F4lL94B2G3yl0QE+jwdwBJgH9ESSMgrcteG7HNJihk1A3AMOAgeBT9E7NE0LAkEnEkYHqEa162QMn+02/LJsxpg0YLexURTl3cSgmqYFTNMccPJ1uIDPxuYScDyG31Ls1+EbK6muSIAul8tQ7Jrq5BoGWhVFCQJ7kQkjlnIQFR1TKowNGY6JomnMQkSoGviXvAWWKIoSjgVxPdLtvwKwQ1GUD7ECugBDURTPeHUBfIwVUNO0EWPyWT+mNGBQ13WXN6CqKoOGYYT8fj8+n2NCCYyLiooC8f75D86ukgTJZSGcAAAAAElFTkSuQmCC','Title\x20is\x20required','\x22\x20title=\x22Remove\x20Role\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20<!--\x20Changed\x20icon\x20-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','D1\x20Players','assign-trophy-name','medium-points','Modal\x20element\x20found:','pendingMatchesD3','Setting\x20up\x20highlight\x20buttons','Match\x20ID\x20is\x20required','current-ladder-display','highlight-match-info-container','Featured\x20Creator','roleAssignedBy','moderately-inactive'];a4_0x7457=function(){return _0x1dc67f;};return a4_0x7457();}function closeCreateTestMatchModal(){const _0x5931a1=a4_0x3bee7f;console['log'](_0x5931a1(0x2b1));const _0x528752=document['getElementById'](_0x5931a1(0x5b7));if(!_0x528752){console[_0x5931a1(0x279)]('Modal\x20not\x20found\x20when\x20trying\x20to\x20close');return;}_0x528752[_0x5931a1(0x18d)][_0x5931a1(0x39e)]('active'),_0x528752['style'][_0x5931a1(0x22c)]='0',_0x528752[_0x5931a1(0x581)][_0x5931a1(0x3a7)]=_0x5931a1(0x1f6),setTimeout(()=>{const _0x4fb229=_0x5931a1;!_0x528752['classList']['contains'](_0x4fb229(0x28f))&&(_0x528752[_0x4fb229(0x581)][_0x4fb229(0x423)]=_0x4fb229(0x52a));},0x12c),console[_0x5931a1(0x560)](_0x5931a1(0x427));}async function createTestMatch(){const _0x11dfb0=a4_0x3bee7f;console[_0x11dfb0(0x560)](_0x11dfb0(0x4c3));try{const _0x5efa4e=auth[_0x11dfb0(0x4c8)];if(!_0x5efa4e){showNotification(_0x11dfb0(0x1a3),_0x11dfb0(0x279));return;}const _0x477594='D1',_0x10d453='approvedMatches',_0x57e39b={'winnerUsername':_0x11dfb0(0x198),'winnerScore':0x14,'winnerSuicides':0x0,'winnerComment':_0x11dfb0(0x1de),'winnerDemoLink':null,'loserUsername':_0x11dfb0(0x19c),'loserScore':0xf,'loserSuicides':0x0,'loserComment':_0x11dfb0(0x1de),'loserDemoLink':null,'mapPlayed':_0x11dfb0(0x464),'approvedAt':Timestamp[_0x11dfb0(0x313)](new Date()),'approvedBy':_0x5efa4e['email'],'createdAt':serverTimestamp(),'createdBy':_0x5efa4e[_0x11dfb0(0x1dd)],'isTestMatch':!![],'ladder':_0x477594,'testMatchCreatedAt':serverTimestamp(),'testMatchNote':'Simple\x20test\x20match\x20created\x20by\x20admin\x20'+_0x5efa4e['email']};console[_0x11dfb0(0x560)](_0x11dfb0(0x3e6)),await addDoc(collection(db,_0x10d453),_0x57e39b),showNotification(_0x11dfb0(0x41b),_0x11dfb0(0x4ba)),closeCreateTestMatchModal();}catch(_0x347a27){console[_0x11dfb0(0x279)](_0x11dfb0(0x332),_0x347a27),showNotification(_0x11dfb0(0x1d7)+_0x347a27[_0x11dfb0(0x3cc)],_0x11dfb0(0x279));}}window[a4_0x3bee7f(0x337)]=async function(){const _0x1a30fb=a4_0x3bee7f;try{console[_0x1a30fb(0x560)](_0x1a30fb(0x1f7)),console['log'](_0x1a30fb(0x53d),auth),console['log']('DB:',db),console[_0x1a30fb(0x560)](_0x1a30fb(0x194),auth[_0x1a30fb(0x4c8)]);const _0x1ad87c=collection(db,_0x1a30fb(0x55d));console[_0x1a30fb(0x560)](_0x1a30fb(0x23d),_0x1ad87c);const _0x59876b=query(_0x1ad87c,where(_0x1a30fb(0x2e1),'==',_0x1a30fb(0x4bf)));console[_0x1a30fb(0x560)]('Query\x20created:',_0x59876b);const _0x2abd93=await getDocs(_0x59876b);console[_0x1a30fb(0x560)]('Query\x20executed.\x20Empty:',_0x2abd93[_0x1a30fb(0x2b5)]),console[_0x1a30fb(0x560)](_0x1a30fb(0x43b));}catch(_0x263d0b){console[_0x1a30fb(0x279)](_0x1a30fb(0x4e6),_0x263d0b);}};function setupCreateTestMatchButton(){const _0x4ccc90=a4_0x3bee7f,_0x22b4d5=document['getElementById'](_0x4ccc90(0x254));if(!_0x22b4d5){console[_0x4ccc90(0x279)](_0x4ccc90(0x162));return;}console[_0x4ccc90(0x560)](_0x4ccc90(0x2d1));const _0x1cb4a6=_0x22b4d5[_0x4ccc90(0x219)](!![]);_0x22b4d5[_0x4ccc90(0x213)]['replaceChild'](_0x1cb4a6,_0x22b4d5),_0x1cb4a6[_0x4ccc90(0x571)]('click',function(_0x3998ca){const _0x5ba3d8=_0x4ccc90;_0x3998ca[_0x5ba3d8(0x4de)](),_0x3998ca[_0x5ba3d8(0x517)](),console[_0x5ba3d8(0x560)](_0x5ba3d8(0x429)),openCreateTestMatchModal();}),console['log'](_0x4ccc90(0x40c));}async function loadMatchesData(_0x525ffa=0x1){const _0x4a127f=a4_0x3bee7f,_0x2f89c9=document['getElementById'](_0x4a127f(0x18a));if(!_0x2f89c9)return;_0x2f89c9['innerHTML']='<tr><td\x20colspan=\x227\x22\x20class=\x22loading-cell\x22>Loading\x20matches...</td></tr>';try{const _0x4db70e=currentLadder[_0x4a127f(0x369)](),_0x57eb79=matchesPagination[_0x4db70e],_0x2e32a2=currentLadder==='D1'?'approvedMatches':currentLadder==='D2'?'approvedMatchesD2':_0x4a127f(0x318),_0x31ad4c=collection(db,_0x2e32a2);_0x525ffa<=0x1?(_0x57eb79['page']=0x1,_0x57eb79[_0x4a127f(0x3e4)]=null,_0x57eb79['lastVisible']=null):_0x57eb79[_0x4a127f(0x4cc)]=_0x525ffa;const _0x4a0fae=getMatchesFilters();let _0x57b32f=_0x31ad4c;if(_0x4a0fae[_0x4a127f(0x47b)]||_0x4a0fae[_0x4a127f(0x3a8)]||_0x4a0fae[_0x4a127f(0x49a)]){let _0x50ffb9=[];_0x4a0fae[_0x4a127f(0x47b)]&&_0x4a0fae['endDate']?(_0x50ffb9[_0x4a127f(0x1bd)](where('approvedAt','>=',_0x4a0fae[_0x4a127f(0x47b)]),where(_0x4a127f(0x340),'<=',_0x4a0fae[_0x4a127f(0x3a8)])),_0x57b32f=query(_0x31ad4c,..._0x50ffb9)):_0x57b32f=query(_0x31ad4c,orderBy(_0x4a127f(0x340),_0x4a127f(0x1c3)));}else _0x57b32f=query(_0x31ad4c,orderBy(_0x4a127f(0x340),_0x4a127f(0x1c3)));_0x525ffa>0x1&&_0x57eb79[_0x4a127f(0x453)]?_0x57b32f=query(_0x57b32f,startAfter(_0x57eb79[_0x4a127f(0x453)]),limit(PAGE_SIZE)):_0x57b32f=query(_0x57b32f,limit(PAGE_SIZE));const _0x149e07=await getDocs(_0x57b32f);!_0x149e07['empty']&&(_0x57eb79[_0x4a127f(0x3e4)]=_0x149e07[_0x4a127f(0x4da)][0x0],_0x57eb79[_0x4a127f(0x453)]=_0x149e07[_0x4a127f(0x4da)][_0x149e07[_0x4a127f(0x4da)][_0x4a127f(0x592)]-0x1]);let _0x35198e=![];if(!_0x149e07[_0x4a127f(0x2b5)]){const _0x236dc4=query(_0x57b32f,startAfter(_0x57eb79['lastVisible']),limit(0x1)),_0x380a00=await getDocs(_0x236dc4);_0x35198e=!_0x380a00['empty'];}const _0x576084=document[_0x4a127f(0x25c)](_0x4a127f(0x377)),_0x311a50=document[_0x4a127f(0x25c)]('matches-next-page'),_0x2e317f=document[_0x4a127f(0x25c)](_0x4a127f(0x42e));if(_0x576084)_0x576084[_0x4a127f(0x24d)]=_0x57eb79[_0x4a127f(0x4cc)]<=0x1;if(_0x311a50)_0x311a50['disabled']=!_0x35198e;if(_0x2e317f)_0x2e317f['textContent']=_0x4a127f(0x54f)+_0x57eb79[_0x4a127f(0x4cc)];if(_0x149e07[_0x4a127f(0x2b5)]){_0x2f89c9[_0x4a127f(0x4b4)]=_0x4a127f(0x31a);return;}_0x2f89c9[_0x4a127f(0x4b4)]='',_0x149e07[_0x4a127f(0x17c)](_0xd88b6=>{const _0x41a3f4=_0x4a127f,_0x2e790a=_0xd88b6['data'](),_0x544176=document[_0x41a3f4(0x29b)]('tr'),_0x1e944b=_0x2e790a['approvedAt']?new Date(_0x2e790a[_0x41a3f4(0x340)][_0x41a3f4(0x2ca)]*0x3e8)[_0x41a3f4(0x34d)]():_0x41a3f4(0x2a8);_0x544176[_0x41a3f4(0x2ac)](_0x41a3f4(0x299),_0xd88b6['id']),_0x544176[_0x41a3f4(0x2ac)]('data-ladder',currentLadder),_0x544176[_0x41a3f4(0x18d)][_0x41a3f4(0x29d)]('match-row'),_0x544176[_0x41a3f4(0x4b4)]=_0x41a3f4(0x4ae)+_0x1e944b+_0x41a3f4(0x562)+(_0x2e790a[_0x41a3f4(0x4cd)]||_0x41a3f4(0x541))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22loser-cell\x22>'+(_0x2e790a[_0x41a3f4(0x3a0)]||'Unknown')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22score-cell\x22>'+(_0x2e790a[_0x41a3f4(0x47d)]||0x0)+'\x20-\x20'+(_0x2e790a[_0x41a3f4(0x588)]||0x0)+_0x41a3f4(0x36a)+(_0x2e790a['mapPlayed']||_0x41a3f4(0x2a8))+_0x41a3f4(0x251)+currentLadder+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-match-btn\x20btn-small\x22\x20data-id=\x22'+_0xd88b6['id']+_0x41a3f4(0x4d1)+_0xd88b6['id']+_0x41a3f4(0x2f5),_0x2f89c9[_0x41a3f4(0x326)](_0x544176);}),setupMatchesActionButtons(),_0x4a0fae['searchTerm']&&filterMatchesTable(),console[_0x4a127f(0x560)](_0x4a127f(0x26f)+_0x149e07['size']+_0x4a127f(0x28d)+currentLadder+_0x4a127f(0x2ad)+_0x57eb79[_0x4a127f(0x4cc)]);}catch(_0x33b1b5){console[_0x4a127f(0x279)](_0x4a127f(0x5c1),_0x33b1b5),_0x2f89c9[_0x4a127f(0x4b4)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x227\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20matches:\x20'+_0x33b1b5['message']+_0x4a127f(0x1a7);}}async function deleteMatch(_0x2ccead,_0x1e71ef){const _0x497208=a4_0x3bee7f;try{console[_0x497208(0x560)](_0x497208(0x2ea)+_0x2ccead+_0x497208(0x3be)+_0x1e71ef+_0x497208(0x331));const _0x41335d=auth[_0x497208(0x4c8)];if(!_0x41335d){showNotification(_0x497208(0x49c),_0x497208(0x279));return;}const _0x302f2a=_0x1e71ef==='D1'?_0x497208(0x1ee):_0x1e71ef==='D2'?_0x497208(0x5be):_0x497208(0x318);console['log'](_0x497208(0x2df)+_0x302f2a),showNotification(_0x497208(0x58a),_0x497208(0x1dc)),await deleteDoc(doc(db,_0x302f2a,_0x2ccead)),console['log'](_0x497208(0x239)),showNotification('Match\x20deleted\x20successfully',_0x497208(0x4ba));const _0x565114=_0x1e71ef[_0x497208(0x369)]();loadMatchesData(matchesPagination[_0x565114][_0x497208(0x4cc)]);}catch(_0x461b2b){console[_0x497208(0x279)](_0x497208(0x34b),_0x461b2b),showNotification(_0x497208(0x3aa)+_0x461b2b[_0x497208(0x3cc)],_0x497208(0x279));}}function setupMatchesActionButtons(){const _0x210913=a4_0x3bee7f;console[_0x210913(0x560)](_0x210913(0x531)),document[_0x210913(0x234)](_0x210913(0x4d8))[_0x210913(0x17c)](_0x4925c6=>{const _0x38ca6e=_0x210913;_0x4925c6[_0x38ca6e(0x571)](_0x38ca6e(0x376),_0x226e57=>{const _0x4e3abd=_0x38ca6e;_0x226e57['preventDefault'](),_0x226e57[_0x4e3abd(0x517)]();const _0xa15a4=_0x226e57['currentTarget']['dataset']['id'],_0x458a77=_0x226e57[_0x4e3abd(0x4ef)][_0x4e3abd(0x5bc)]('tr'),_0x565318=_0x458a77[_0x4e3abd(0x26b)][_0x4e3abd(0x523)];console['log'](_0x4e3abd(0x2bc),_0xa15a4,_0x565318),openEditMatchModal(_0xa15a4,_0x565318);});}),document['querySelectorAll'](_0x210913(0x1ad))[_0x210913(0x17c)](_0x25a89d=>{const _0x897cc4=_0x210913;_0x25a89d[_0x897cc4(0x571)](_0x897cc4(0x376),_0x3dc415=>{const _0x2a19b5=_0x897cc4;_0x3dc415[_0x2a19b5(0x4de)](),_0x3dc415[_0x2a19b5(0x517)]();const _0x2ccbda=_0x3dc415[_0x2a19b5(0x4ef)][_0x2a19b5(0x26b)]['id'],_0x39259f=_0x3dc415[_0x2a19b5(0x4ef)][_0x2a19b5(0x5bc)]('tr'),_0x4b140e=_0x39259f[_0x2a19b5(0x26b)][_0x2a19b5(0x523)]||currentLadder;console['log'](_0x2a19b5(0x589),_0x2ccbda,_0x4b140e),confirm(_0x2a19b5(0x53b))&&deleteMatch(_0x2ccbda,_0x4b140e);});}),console['log'](_0x210913(0x306));}function filterMatchesTable(){const _0x11fe9c=a4_0x3bee7f,_0x49b89a=document[_0x11fe9c(0x25c)](_0x11fe9c(0x26d))[_0x11fe9c(0x496)][_0x11fe9c(0x369)](),_0x552af8=document[_0x11fe9c(0x234)]('#matches-table-body\x20tr');let _0x3da9c7=0x0;_0x552af8[_0x11fe9c(0x17c)](_0x119c33=>{const _0x2b2462=_0x11fe9c;if(_0x119c33[_0x2b2462(0x18d)][_0x2b2462(0x394)](_0x2b2462(0x3c3))||_0x119c33[_0x2b2462(0x18d)][_0x2b2462(0x394)](_0x2b2462(0x30f))||_0x119c33['classList'][_0x2b2462(0x394)](_0x2b2462(0x459)))return;const _0x2b457a=_0x119c33[_0x2b2462(0x17b)][0x1][_0x2b2462(0x3b6)]['toLowerCase'](),_0x5664c7=_0x119c33[_0x2b2462(0x17b)][0x2][_0x2b2462(0x3b6)][_0x2b2462(0x369)](),_0x52903c=_0x119c33[_0x2b2462(0x17b)][0x4][_0x2b2462(0x3b6)][_0x2b2462(0x369)]();_0x2b457a['includes'](_0x49b89a)||_0x5664c7[_0x2b2462(0x48e)](_0x49b89a)||_0x52903c[_0x2b2462(0x48e)](_0x49b89a)?(_0x119c33[_0x2b2462(0x581)]['display']='',_0x3da9c7++):_0x119c33[_0x2b2462(0x581)][_0x2b2462(0x423)]=_0x2b2462(0x52a);});if(_0x3da9c7===0x0&&_0x552af8[_0x11fe9c(0x592)]>0x0){const _0x9fdd72=document[_0x11fe9c(0x25c)](_0x11fe9c(0x18a)),_0xe60fb4=_0x9fdd72[_0x11fe9c(0x39f)](_0x11fe9c(0x553));if(!_0xe60fb4){const _0x58967f=document[_0x11fe9c(0x29b)]('tr');_0x58967f[_0x11fe9c(0x420)]='no-results',_0x58967f[_0x11fe9c(0x4b4)]=_0x11fe9c(0x4ee)+_0x49b89a+_0x11fe9c(0x554),_0x9fdd72[_0x11fe9c(0x326)](_0x58967f);}}else{const _0x565cc2=document[_0x11fe9c(0x39f)]('.no-results');_0x565cc2&&_0x565cc2[_0x11fe9c(0x39e)]();}}function getMatchesFilters(){const _0x323df2=a4_0x3bee7f,_0x26e581=document[_0x323df2(0x25c)](_0x323df2(0x26d))[_0x323df2(0x496)]['toLowerCase'](),_0x5b2ec7=document[_0x323df2(0x25c)]('matches-start-date')[_0x323df2(0x496)],_0x4d35f5=document['getElementById'](_0x323df2(0x24b))[_0x323df2(0x496)];let _0x253b53=null,_0x6f32a2=null;return _0x5b2ec7&&(_0x253b53=new Date(_0x5b2ec7),_0x253b53[_0x323df2(0x2c4)](0x0,0x0,0x0,0x0),_0x253b53=Timestamp[_0x323df2(0x313)](_0x253b53)),_0x4d35f5&&(_0x6f32a2=new Date(_0x4d35f5),_0x6f32a2[_0x323df2(0x2c4)](0x17,0x3b,0x3b,0x3e7),_0x6f32a2=Timestamp[_0x323df2(0x313)](_0x6f32a2)),{'searchTerm':_0x26e581,'startDate':_0x253b53,'endDate':_0x6f32a2};}async function applyMatchesFilters(){const _0x59f1b=a4_0x3bee7f,_0xda1c41=currentLadder[_0x59f1b(0x369)]();matchesPagination[_0xda1c41]={'page':0x1,'lastVisible':null,'firstVisible':null},await loadMatchesData(0x1);}function resetMatchesFilters(){const _0x5e353b=a4_0x3bee7f;document[_0x5e353b(0x25c)](_0x5e353b(0x3d8))[_0x5e353b(0x496)]='',document[_0x5e353b(0x25c)](_0x5e353b(0x24b))[_0x5e353b(0x496)]='',document[_0x5e353b(0x25c)](_0x5e353b(0x26d))[_0x5e353b(0x496)]='';const _0x2862fe=currentLadder[_0x5e353b(0x369)]();matchesPagination[_0x2862fe]={'page':0x1,'lastVisible':null,'firstVisible':null},loadMatchesData(0x1);}async function openEditMatchModal(_0x4f4318,_0x156a1d){const _0x2e5d8e=a4_0x3bee7f,_0x371fd5=document[_0x2e5d8e(0x25c)](_0x2e5d8e(0x3fe));if(!_0x371fd5)return;try{const _0x12c0ea=_0x156a1d==='D1'?'approvedMatches':_0x156a1d==='D2'?'approvedMatchesD2':_0x2e5d8e(0x318),_0x1c636f=doc(db,_0x12c0ea,_0x4f4318),_0x5129cc=await getDoc(_0x1c636f);if(!_0x5129cc[_0x2e5d8e(0x495)]()){showNotification(_0x2e5d8e(0x3a1),_0x2e5d8e(0x279));return;}const _0x5eed07=_0x5129cc[_0x2e5d8e(0x392)]();document[_0x2e5d8e(0x25c)]('edit-match-id')['value']=_0x4f4318,document[_0x2e5d8e(0x25c)](_0x2e5d8e(0x20e))[_0x2e5d8e(0x496)]=_0x156a1d,document['getElementById'](_0x2e5d8e(0x4b0))['value']=_0x5eed07['winnerUsername']||'',document[_0x2e5d8e(0x25c)](_0x2e5d8e(0x1e0))['value']=_0x5eed07['winnerScore']||0x0,document[_0x2e5d8e(0x25c)]('edit-match-winner-suicides')['value']=_0x5eed07[_0x2e5d8e(0x205)]||0x0,document[_0x2e5d8e(0x25c)](_0x2e5d8e(0x3ae))['value']=_0x5eed07[_0x2e5d8e(0x185)]||'',document[_0x2e5d8e(0x25c)](_0x2e5d8e(0x449))['value']=_0x5eed07[_0x2e5d8e(0x3a0)]||'',document[_0x2e5d8e(0x25c)](_0x2e5d8e(0x282))[_0x2e5d8e(0x496)]=_0x5eed07[_0x2e5d8e(0x588)]||0x0,document[_0x2e5d8e(0x25c)](_0x2e5d8e(0x3a6))[_0x2e5d8e(0x496)]=_0x5eed07[_0x2e5d8e(0x27d)]||0x0,document['getElementById']('edit-match-loser-comment')[_0x2e5d8e(0x496)]=_0x5eed07[_0x2e5d8e(0x466)]||'',document[_0x2e5d8e(0x25c)](_0x2e5d8e(0x195))[_0x2e5d8e(0x496)]=_0x5eed07[_0x2e5d8e(0x2c5)]||'',document[_0x2e5d8e(0x25c)]('edit-match-winner-demo')['value']=_0x5eed07['winnerDemoLink']||'',document['getElementById'](_0x2e5d8e(0x4ab))[_0x2e5d8e(0x496)]=_0x5eed07[_0x2e5d8e(0x386)]||_0x5eed07[_0x2e5d8e(0x3d2)]||'',document[_0x2e5d8e(0x25c)](_0x2e5d8e(0x567))[_0x2e5d8e(0x3b6)]=_0x2e5d8e(0x507)+_0x5eed07[_0x2e5d8e(0x4cd)]+_0x2e5d8e(0x445)+_0x5eed07['loserUsername'],_0x371fd5[_0x2e5d8e(0x18d)]['add'](_0x2e5d8e(0x28f));}catch(_0x1cf7dc){console[_0x2e5d8e(0x279)](_0x2e5d8e(0x243),_0x1cf7dc),showNotification('Failed\x20to\x20load\x20match\x20data',_0x2e5d8e(0x279));}}function closeEditMatchModal(){const _0x2f6442=a4_0x3bee7f,_0x22a71b=document[_0x2f6442(0x25c)](_0x2f6442(0x3fe));_0x22a71b&&_0x22a71b['classList'][_0x2f6442(0x39e)](_0x2f6442(0x28f));}async function saveEditedMatch(){const _0x9055d8=a4_0x3bee7f;try{const _0x36e724=document[_0x9055d8(0x25c)](_0x9055d8(0x1b9))[_0x9055d8(0x496)],_0x452fdd=document['getElementById'](_0x9055d8(0x20e))['value'];if(!_0x36e724||!_0x452fdd){showNotification('Match\x20ID\x20or\x20ladder\x20missing','error');return;}const _0x235e37=_0x452fdd==='D1'?_0x9055d8(0x1ee):_0x452fdd==='D2'?_0x9055d8(0x5be):_0x9055d8(0x318),_0x93320e=document[_0x9055d8(0x25c)](_0x9055d8(0x4b0))[_0x9055d8(0x496)][_0x9055d8(0x2a9)](),_0x5af0a7=parseInt(document[_0x9055d8(0x25c)](_0x9055d8(0x1e0))['value']),_0x5059bd=parseInt(document[_0x9055d8(0x25c)](_0x9055d8(0x1e6))['value']),_0x3abae6=document['getElementById']('edit-match-winner-comment')[_0x9055d8(0x496)]['trim'](),_0xf9bb22=document[_0x9055d8(0x25c)](_0x9055d8(0x449))[_0x9055d8(0x496)][_0x9055d8(0x2a9)](),_0x2b566d=parseInt(document[_0x9055d8(0x25c)](_0x9055d8(0x282))['value']),_0x4294a4=parseInt(document[_0x9055d8(0x25c)](_0x9055d8(0x3a6))[_0x9055d8(0x496)]),_0xa4e5ee=document[_0x9055d8(0x25c)](_0x9055d8(0x4e0))[_0x9055d8(0x496)][_0x9055d8(0x2a9)](),_0x4df45c=document[_0x9055d8(0x25c)](_0x9055d8(0x195))[_0x9055d8(0x496)][_0x9055d8(0x2a9)](),_0x1ab501=document[_0x9055d8(0x25c)](_0x9055d8(0x559))[_0x9055d8(0x496)][_0x9055d8(0x2a9)](),_0x299dfa=document[_0x9055d8(0x25c)](_0x9055d8(0x4ab))[_0x9055d8(0x496)][_0x9055d8(0x2a9)]();if(!_0x93320e||!_0xf9bb22){showNotification(_0x9055d8(0x2db),_0x9055d8(0x279));return;}await updateDoc(doc(db,_0x235e37,_0x36e724),{'winnerUsername':_0x93320e,'winnerScore':_0x5af0a7,'winnerSuicides':_0x5059bd,'winnerComment':_0x3abae6,'loserUsername':_0xf9bb22,'loserScore':_0x2b566d,'loserSuicides':_0x4294a4,'loserComment':_0xa4e5ee,'mapPlayed':_0x4df45c,'winnerDemoLink':_0x1ab501||null,'loserDemoLink':_0x299dfa||null,'lastModifiedAt':serverTimestamp(),'lastModifiedBy':auth[_0x9055d8(0x4c8)][_0x9055d8(0x1dd)],'isEdited':!![]}),showNotification(_0x9055d8(0x180),_0x9055d8(0x4ba)),closeEditMatchModal(),loadMatchesData(matchesPagination[_0x452fdd['toLowerCase']()]['page']);}catch(_0x1c7167){console[_0x9055d8(0x279)](_0x9055d8(0x30c),_0x1c7167),showNotification(_0x9055d8(0x1b6)+_0x1c7167[_0x9055d8(0x3cc)],_0x9055d8(0x279));}}async function openDeleteMatchModal(_0x4937bd,_0x1e88f1){const _0x15d8c0=a4_0x3bee7f;try{const _0x15b308=_0x1e88f1==='D1'?_0x15d8c0(0x1ee):_0x1e88f1==='D2'?'approvedMatchesD2':_0x15d8c0(0x318),_0x6a0fd1=doc(db,_0x15b308,_0x4937bd),_0x46cc4f=await getDoc(_0x6a0fd1);if(!_0x46cc4f[_0x15d8c0(0x495)]()){showNotification('Match\x20not\x20found',_0x15d8c0(0x279));return;}const _0x23e0e8=_0x46cc4f[_0x15d8c0(0x392)](),_0xafec83=document[_0x15d8c0(0x25c)]('delete-match-confirm-modal');_0xafec83[_0x15d8c0(0x26b)][_0x15d8c0(0x17f)]=_0x4937bd,_0xafec83[_0x15d8c0(0x26b)][_0x15d8c0(0x523)]=_0x1e88f1;const _0x823368=_0x23e0e8[_0x15d8c0(0x340)]?new Date(_0x23e0e8[_0x15d8c0(0x340)]['seconds']*0x3e8)[_0x15d8c0(0x34d)]():_0x15d8c0(0x2a8),_0x21417c=document['getElementById'](_0x15d8c0(0x533));_0x21417c[_0x15d8c0(0x4b4)]=_0x15d8c0(0x1fa)+_0x823368+_0x15d8c0(0x3db)+_0x23e0e8['winnerUsername']+_0x15d8c0(0x433)+_0x23e0e8[_0x15d8c0(0x3a0)]+_0x15d8c0(0x455)+(_0x23e0e8[_0x15d8c0(0x47d)]||0x0)+'\x20-\x20'+(_0x23e0e8[_0x15d8c0(0x588)]||0x0)+_0x15d8c0(0x38c)+(_0x23e0e8[_0x15d8c0(0x2c5)]||_0x15d8c0(0x2a8))+_0x15d8c0(0x2b0)+_0x1e88f1+_0x15d8c0(0x1f5),_0xafec83[_0x15d8c0(0x18d)][_0x15d8c0(0x29d)]('active');}catch(_0x390aec){console[_0x15d8c0(0x279)](_0x15d8c0(0x1ba),_0x390aec),showNotification(_0x15d8c0(0x3b3),'error');}}function closeDeleteMatchModal(){const _0x572c7e=a4_0x3bee7f,_0xceb195=document[_0x572c7e(0x25c)]('delete-match-confirm-modal');_0xceb195&&(_0xceb195[_0x572c7e(0x18d)]['remove'](_0x572c7e(0x28f)),_0xceb195['removeAttribute'](_0x572c7e(0x242)),_0xceb195['removeAttribute'](_0x572c7e(0x217)));}async function confirmDeleteMatch(){const _0x130c1a=a4_0x3bee7f,_0x35a2d9=document['getElementById']('delete-match-confirm-modal'),_0x3c3507=_0x35a2d9[_0x130c1a(0x26b)]['matchId'],_0x120e27=_0x35a2d9[_0x130c1a(0x26b)]['ladder'];if(!_0x3c3507||!_0x120e27){showNotification(_0x130c1a(0x1f3),'error'),closeDeleteMatchModal();return;}try{const _0x17af2f=_0x120e27==='D1'?_0x130c1a(0x1ee):_0x120e27==='D2'?_0x130c1a(0x5be):'approvedMatchesD3';await deleteDoc(doc(db,_0x17af2f,_0x3c3507)),showNotification(_0x130c1a(0x239),_0x130c1a(0x4ba)),closeDeleteMatchModal(),loadMatchesData(matchesPagination[_0x120e27[_0x130c1a(0x369)]()][_0x130c1a(0x4cc)]);}catch(_0x3954b9){console[_0x130c1a(0x279)](_0x130c1a(0x34b),_0x3954b9),showNotification(_0x130c1a(0x3aa)+_0x3954b9[_0x130c1a(0x3cc)],_0x130c1a(0x279));}}async function saveHighlightChanges(){const _0x181d33=a4_0x3bee7f,_0x275f38=document[_0x181d33(0x25c)](_0x181d33(0x4d0))['value'],_0x4be088=document[_0x181d33(0x25c)](_0x181d33(0x31d))[_0x181d33(0x496)];let _0x16a78a={'title':document[_0x181d33(0x25c)](_0x181d33(0x3ec))[_0x181d33(0x496)]['trim'](),'type':_0x4be088,'description':document[_0x181d33(0x25c)](_0x181d33(0x38d))['value'][_0x181d33(0x2a9)](),'videoId':document['getElementById'](_0x181d33(0x504))[_0x181d33(0x496)][_0x181d33(0x2a9)](),'submittedBy':auth['currentUser'][_0x181d33(0x1dd)]};if(_0x4be088==='match'){_0x16a78a[_0x181d33(0x52f)]=document[_0x181d33(0x25c)](_0x181d33(0x240))[_0x181d33(0x496)][_0x181d33(0x2a9)](),_0x16a78a[_0x181d33(0x258)]=document[_0x181d33(0x25c)]('edit-highlight-map-input')[_0x181d33(0x496)]['trim']();const _0x2778f1=document[_0x181d33(0x25c)](_0x181d33(0x3c1))[_0x181d33(0x496)];_0x16a78a[_0x181d33(0x1cb)]=_0x2778f1?Timestamp[_0x181d33(0x313)](new Date(_0x2778f1)):null,_0x16a78a['winnerName']=document[_0x181d33(0x25c)](_0x181d33(0x22a))['value'][_0x181d33(0x2a9)](),_0x16a78a[_0x181d33(0x47d)]=document['getElementById'](_0x181d33(0x5c2))[_0x181d33(0x496)][_0x181d33(0x2a9)](),_0x16a78a[_0x181d33(0x5c3)]=document[_0x181d33(0x25c)](_0x181d33(0x320))['value'][_0x181d33(0x2a9)](),_0x16a78a['loserScore']=document[_0x181d33(0x25c)](_0x181d33(0x1f4))[_0x181d33(0x496)][_0x181d33(0x2a9)](),_0x16a78a[_0x181d33(0x262)]=document['getElementById'](_0x181d33(0x4ed))[_0x181d33(0x496)]['trim'](),_0x16a78a[_0x181d33(0x378)]=null,_0x16a78a[_0x181d33(0x4ec)]=null,_0x16a78a[_0x181d33(0x556)]=null,_0x16a78a['achievementPlayer']=null,_0x16a78a[_0x181d33(0x182)]=null,_0x16a78a['achievementDetails']=null,_0x16a78a[_0x181d33(0x3df)]=null;}else{if(_0x4be088===_0x181d33(0x22e))_0x16a78a['map']=document[_0x181d33(0x25c)](_0x181d33(0x359))[_0x181d33(0x496)][_0x181d33(0x2a9)](),_0x16a78a[_0x181d33(0x378)]=document['getElementById']('edit-highlight-mapCreator-input')['value'][_0x181d33(0x2a9)](),_0x16a78a['mapVersion']=document[_0x181d33(0x25c)](_0x181d33(0x209))['value'][_0x181d33(0x2a9)](),_0x16a78a[_0x181d33(0x556)]=document[_0x181d33(0x25c)]('edit-highlight-creatorImageUrl-input')['value']['trim'](),_0x16a78a[_0x181d33(0x52f)]=null,_0x16a78a[_0x181d33(0x1cb)]=null,_0x16a78a[_0x181d33(0x578)]=null,_0x16a78a[_0x181d33(0x47d)]=null,_0x16a78a[_0x181d33(0x5c3)]=null,_0x16a78a[_0x181d33(0x588)]=null,_0x16a78a[_0x181d33(0x262)]=null,_0x16a78a['achievementPlayer']=null,_0x16a78a[_0x181d33(0x182)]=null,_0x16a78a[_0x181d33(0x50a)]=null,_0x16a78a[_0x181d33(0x3df)]=null;else _0x4be088===_0x181d33(0x4c7)&&(_0x16a78a[_0x181d33(0x29e)]=document[_0x181d33(0x25c)](_0x181d33(0x177))[_0x181d33(0x496)][_0x181d33(0x2a9)](),_0x16a78a[_0x181d33(0x182)]=document[_0x181d33(0x25c)](_0x181d33(0x2a0))[_0x181d33(0x496)][_0x181d33(0x2a9)](),_0x16a78a[_0x181d33(0x50a)]=document[_0x181d33(0x25c)](_0x181d33(0x284))[_0x181d33(0x496)]['trim'](),_0x16a78a['playerProfileUrl']=document[_0x181d33(0x25c)](_0x181d33(0x5a9))[_0x181d33(0x496)][_0x181d33(0x2a9)](),_0x16a78a[_0x181d33(0x52f)]=null,_0x16a78a['map']=null,_0x16a78a[_0x181d33(0x1cb)]=null,_0x16a78a[_0x181d33(0x578)]=null,_0x16a78a[_0x181d33(0x47d)]=null,_0x16a78a[_0x181d33(0x5c3)]=null,_0x16a78a[_0x181d33(0x588)]=null,_0x16a78a[_0x181d33(0x262)]=null,_0x16a78a[_0x181d33(0x378)]=null,_0x16a78a[_0x181d33(0x4ec)]=null,_0x16a78a[_0x181d33(0x556)]=null);}try{if(_0x275f38){_0x16a78a[_0x181d33(0x400)]=serverTimestamp();const _0x5504aa=doc(db,_0x181d33(0x49b),_0x275f38);await updateDoc(_0x5504aa,_0x16a78a),showNotification('Highlight\x20updated\x20successfully!',_0x181d33(0x4ba));}else _0x16a78a[_0x181d33(0x22b)]=serverTimestamp(),await addDoc(collection(db,_0x181d33(0x49b)),_0x16a78a),showNotification(_0x181d33(0x232),_0x181d33(0x4ba));closeEditHighlightModal(),loadHighlightsAdmin();}catch(_0x273e35){console[_0x181d33(0x279)](_0x181d33(0x564),_0x273e35),showNotification(_0x181d33(0x498)+_0x273e35['message'],'error');}}async function resimulateMatch(){const _0x3f0c15=a4_0x3bee7f;try{const _0x28d2f2=document[_0x3f0c15(0x25c)](_0x3f0c15(0x347))['value'];if(!_0x28d2f2){showNotification(_0x3f0c15(0x3f6),_0x3f0c15(0x279));return;}const _0x25e673=auth[_0x3f0c15(0x4c8)];if(!_0x25e673){showNotification('You\x20must\x20be\x20logged\x20in\x20to\x20resimulate\x20matches','error');return;}const _0x268be3=currentLadder==='D1'?_0x3f0c15(0x1ee):currentLadder==='D2'?'approvedMatchesD2':_0x3f0c15(0x318),_0x428c50=doc(db,_0x268be3,_0x28d2f2),_0x359e2d=await getDoc(_0x428c50);if(!_0x359e2d['exists']()){showNotification(_0x3f0c15(0x440),_0x3f0c15(0x279));return;}const _0x1a2042=_0x359e2d[_0x3f0c15(0x392)](),_0xc88159=_0x1a2042[_0x3f0c15(0x340)]?_0x1a2042['approvedAt']['toDate']()['toLocaleString']():_0x1a2042[_0x3f0c15(0x1cb)]?_0x1a2042[_0x3f0c15(0x1cb)][_0x3f0c15(0x1a9)]?_0x1a2042[_0x3f0c15(0x1cb)]['toDate']()[_0x3f0c15(0x582)]():new Date(_0x1a2042[_0x3f0c15(0x1cb)])[_0x3f0c15(0x582)]():'Unknown',_0x44c9d6=_0x3f0c15(0x477)+_0x1a2042[_0x3f0c15(0x4cd)]+_0x3f0c15(0x1d9)+_0x1a2042['loserUsername']+_0x3f0c15(0x36e)+_0x1a2042['winnerScore']+'-'+_0x1a2042['loserScore']+_0x3f0c15(0x324)+(_0x1a2042[_0x3f0c15(0x2c5)]||_0x1a2042[_0x3f0c15(0x4c4)]||_0x3f0c15(0x541))+_0x3f0c15(0x1a8)+_0xc88159+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Match\x20ID:</strong>\x20'+_0x28d2f2+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Ladder:</strong>\x20'+currentLadder+_0x3f0c15(0x543);document[_0x3f0c15(0x25c)](_0x3f0c15(0x34e))[_0x3f0c15(0x4b4)]=_0x44c9d6,document[_0x3f0c15(0x25c)](_0x3f0c15(0x34e))[_0x3f0c15(0x581)][_0x3f0c15(0x423)]=_0x3f0c15(0x56f),document['getElementById'](_0x3f0c15(0x1c6))[_0x3f0c15(0x581)]['display']=_0x3f0c15(0x56f),window[_0x3f0c15(0x167)]={'matchId':_0x28d2f2,'matchData':_0x1a2042,'ladder':currentLadder},showNotification(_0x3f0c15(0x2d5),'info');}catch(_0x555627){console[_0x3f0c15(0x279)](_0x3f0c15(0x1df),_0x555627),showNotification('Failed\x20to\x20find\x20match:\x20'+_0x555627[_0x3f0c15(0x3cc)],_0x3f0c15(0x279));}}async function confirmResimulateMatch(){const _0x1da4d4=a4_0x3bee7f;try{const {matchId:_0x50f7bc,matchData:_0x1218d8,ladder:_0x18a723}=window['pendingResimulateData'];if(!_0x50f7bc||!_0x1218d8){showNotification(_0x1da4d4(0x525),_0x1da4d4(0x279));return;}const _0x299cc1=_0x18a723==='D1'?_0x1da4d4(0x55d):_0x18a723==='D2'?_0x1da4d4(0x1ec):_0x1da4d4(0x3e5),_0x412d8a=_0x18a723==='D1'?'eloHistory':_0x18a723==='D2'?'eloHistoryD2':_0x1da4d4(0x20c),[_0x1c2a94,_0x26d38c]=await Promise['all']([getDocs(query(collection(db,_0x299cc1),where('username','==',_0x1218d8[_0x1da4d4(0x4cd)]))),getDocs(query(collection(db,_0x299cc1),where('username','==',_0x1218d8[_0x1da4d4(0x3a0)])))]);if(_0x1c2a94['empty']||_0x26d38c[_0x1da4d4(0x2b5)]){showNotification(_0x1da4d4(0x229),'error');return;}const _0x36bf79=_0x1c2a94['docs'][0x0]['id'],_0x1a2a81=_0x26d38c[_0x1da4d4(0x4da)][0x0]['id'],_0x3430de=_0x1c2a94[_0x1da4d4(0x4da)][0x0][_0x1da4d4(0x392)](),_0x173efe=_0x26d38c[_0x1da4d4(0x4da)][0x0][_0x1da4d4(0x392)](),[_0x1c2262,_0x4f8e4b]=await Promise[_0x1da4d4(0x383)]([getDocs(query(collection(db,_0x412d8a),where(_0x1da4d4(0x23e),'==',_0x36bf79),where(_0x1da4d4(0x17f),'==',_0x50f7bc))),getDocs(query(collection(db,_0x412d8a),where(_0x1da4d4(0x23e),'==',_0x1a2a81),where(_0x1da4d4(0x17f),'==',_0x50f7bc)))]),_0x5a033f=!_0x1c2262[_0x1da4d4(0x2b5)],_0x545fcd=!_0x4f8e4b[_0x1da4d4(0x2b5)],_0x183583='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22validation-results\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4>Validation\x20Results:</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Winner\x20ELO\x20History:</strong>\x20'+(_0x5a033f?'\x20Exists':_0x1da4d4(0x5b1))+_0x1da4d4(0x511)+(_0x545fcd?_0x1da4d4(0x503):_0x1da4d4(0x5b1))+_0x1da4d4(0x4e3)+(_0x3430de[_0x1da4d4(0x311)]||_0x1da4d4(0x541))+_0x1da4d4(0x52d)+(_0x173efe[_0x1da4d4(0x311)]||_0x1da4d4(0x541))+_0x1da4d4(0x30a)+(_0x3430de[_0x1da4d4(0x3ab)]||'Unknown')+_0x1da4d4(0x27a)+(_0x173efe[_0x1da4d4(0x3ab)]||_0x1da4d4(0x541))+_0x1da4d4(0x21e);document[_0x1da4d4(0x25c)]('validation-results-container')[_0x1da4d4(0x4b4)]=_0x183583,document[_0x1da4d4(0x25c)](_0x1da4d4(0x15e))[_0x1da4d4(0x581)]['display']=_0x1da4d4(0x56f);if(_0x5a033f&&_0x545fcd){showNotification('Both\x20players\x20already\x20have\x20ELO\x20history\x20for\x20this\x20match.\x20No\x20resimulation\x20needed.',_0x1da4d4(0x3dc));return;}showNotification(_0x1da4d4(0x47f),'info');const _0x1d4808=_0x1218d8[_0x1da4d4(0x340)]||_0x1218d8[_0x1da4d4(0x1cb)]||serverTimestamp(),[_0x2e8825,_0x2afc9f]=await Promise[_0x1da4d4(0x383)]([getPlayerEloAtTime(_0x36bf79,_0x1d4808,_0x412d8a),getPlayerEloAtTime(_0x1a2a81,_0x1d4808,_0x412d8a)]),{calculateElo:_0x177639}=await import(_0x1da4d4(0x566)),{newWinnerRating:_0x48861d,newLoserRating:_0x2b1969}=_0x177639(_0x2e8825,_0x2afc9f),_0x4e40ea=_0x3430de['position']||Number[_0x1da4d4(0x370)],_0x3384b5=_0x173efe[_0x1da4d4(0x3ab)]||Number['MAX_SAFE_INTEGER'];let _0x3e4e66=_0x4e40ea,_0x2cb9da=_0x3384b5;_0x4e40ea>_0x3384b5&&(_0x3e4e66=_0x3384b5,_0x2cb9da=_0x3384b5+0x1);const _0x417cd4=writeBatch(db),_0x14f686=doc(db,_0x299cc1,_0x36bf79);_0x417cd4[_0x1da4d4(0x207)](_0x14f686,{'eloRating':_0x48861d,'position':_0x3e4e66,'lastUpdated':serverTimestamp(),'resimulated':!![],'resimulatedAt':serverTimestamp(),'resimulatedBy':auth['currentUser']['uid']});const _0x190ac3=doc(db,_0x299cc1,_0x1a2a81);_0x417cd4[_0x1da4d4(0x207)](_0x190ac3,{'eloRating':_0x2b1969,'position':_0x2cb9da,'lastUpdated':serverTimestamp(),'resimulated':!![],'resimulatedAt':serverTimestamp(),'resimulatedBy':auth[_0x1da4d4(0x4c8)][_0x1da4d4(0x35a)]});if(_0x4e40ea>_0x3384b5){const _0x23fdbd=await getDocs(query(collection(db,_0x299cc1),where('position','>',_0x3384b5),where(_0x1da4d4(0x3ab),'<',_0x4e40ea)));_0x23fdbd[_0x1da4d4(0x17c)](_0x4f9dcc=>{const _0xf80d53=_0x1da4d4,_0x181b7a=doc(db,_0x299cc1,_0x4f9dcc['id']),_0x5e2a16=_0x4f9dcc[_0xf80d53(0x392)]()[_0xf80d53(0x3ab)];_0x417cd4[_0xf80d53(0x207)](_0x181b7a,{'position':_0x5e2a16+0x1,'lastUpdated':serverTimestamp(),'positionAdjustedBy':'resimulation','positionAdjustedAt':serverTimestamp()});});}if(!_0x5a033f){const _0x131aaa=doc(collection(db,_0x412d8a));_0x417cd4[_0x1da4d4(0x192)](_0x131aaa,{'playerId':_0x36bf79,'player':_0x1218d8[_0x1da4d4(0x4cd)],'previousElo':_0x2e8825,'newElo':_0x48861d,'eloChange':_0x48861d-_0x2e8825,'opponentId':_0x1a2a81,'opponent':_0x1218d8[_0x1da4d4(0x3a0)],'matchResult':_0x1da4d4(0x363),'previousPosition':_0x4e40ea,'newPosition':_0x3e4e66,'positionChange':_0x3e4e66-_0x4e40ea,'matchId':_0x50f7bc,'timestamp':_0x1d4808,'resimulated':!![],'resimulatedAt':serverTimestamp(),'resimulatedBy':auth['currentUser'][_0x1da4d4(0x35a)],'gameMode':_0x18a723,'matchScore':_0x1218d8[_0x1da4d4(0x47d)]+'-'+_0x1218d8['loserScore'],'mapPlayed':_0x1218d8[_0x1da4d4(0x2c5)]||_0x1218d8[_0x1da4d4(0x4c4)]||_0x1da4d4(0x541),'note':_0x1da4d4(0x56c)});}if(!_0x545fcd){const _0x585f39=doc(collection(db,_0x412d8a));_0x417cd4[_0x1da4d4(0x192)](_0x585f39,{'playerId':_0x1a2a81,'player':_0x1218d8[_0x1da4d4(0x3a0)],'previousElo':_0x2afc9f,'newElo':_0x2b1969,'eloChange':_0x2b1969-_0x2afc9f,'opponentId':_0x36bf79,'opponent':_0x1218d8['winnerUsername'],'matchResult':_0x1da4d4(0x47a),'previousPosition':_0x3384b5,'newPosition':_0x2cb9da,'positionChange':_0x2cb9da-_0x3384b5,'matchId':_0x50f7bc,'timestamp':_0x1d4808,'resimulated':!![],'resimulatedAt':serverTimestamp(),'resimulatedBy':auth[_0x1da4d4(0x4c8)][_0x1da4d4(0x35a)],'gameMode':_0x18a723,'matchScore':_0x1218d8[_0x1da4d4(0x47d)]+'-'+_0x1218d8['loserScore'],'mapPlayed':_0x1218d8[_0x1da4d4(0x2c5)]||_0x1218d8[_0x1da4d4(0x4c4)]||_0x1da4d4(0x541),'note':'Resimulated\x20entry\x20-\x20ELO\x20and\x20positions\x20calculated\x20from\x20actual\x20pre-match\x20data'});}const _0xd59659=_0x18a723==='D1'?'approvedMatches':_0x18a723==='D2'?'approvedMatchesD2':_0x1da4d4(0x318),_0x2525a0=doc(db,_0xd59659,_0x50f7bc);_0x417cd4[_0x1da4d4(0x207)](_0x2525a0,{'resimulated':!![],'resimulatedAt':serverTimestamp(),'resimulatedBy':auth[_0x1da4d4(0x4c8)][_0x1da4d4(0x35a)],'resimulatedReason':_0x1da4d4(0x4d9),'originalWinnerElo':_0x3430de[_0x1da4d4(0x311)],'originalLoserElo':_0x173efe[_0x1da4d4(0x311)],'originalWinnerPosition':_0x4e40ea,'originalLoserPosition':_0x3384b5,'resimulatedWinnerElo':_0x48861d,'resimulatedLoserElo':_0x2b1969,'resimulatedWinnerPosition':_0x3e4e66,'resimulatedLoserPosition':_0x2cb9da}),await _0x417cd4['commit']();const _0x3e944f=(!_0x5a033f?0x1:0x0)+(!_0x545fcd?0x1:0x0),_0x480e4d=_0x4e40ea!==_0x3e4e66||_0x3384b5!==_0x2cb9da;showNotification(_0x1da4d4(0x2b2)+(_0x1da4d4(0x38a)+_0x3e944f+'\x20ELO\x20history\x20entries.\x20')+(_0x1da4d4(0x51b)+_0x2e8825+''+_0x48861d+_0x1da4d4(0x199)+(_0x48861d-_0x2e8825)+_0x1da4d4(0x280))+(_0x1da4d4(0x336)+_0x2afc9f+''+_0x2b1969+'\x20('+(_0x2b1969-_0x2afc9f)+_0x1da4d4(0x16d))+(''+(_0x480e4d?_0x1da4d4(0x184)+_0x4e40ea+''+_0x3e4e66+_0x1da4d4(0x467)+_0x3384b5+''+_0x2cb9da:_0x1da4d4(0x287))),_0x1da4d4(0x4ba)),closeResimulateModal(),document[_0x1da4d4(0x39f)](_0x1da4d4(0x414))&&loadPlayersData();}catch(_0x574030){console['error'](_0x1da4d4(0x56a),_0x574030),showNotification(_0x1da4d4(0x514)+_0x574030[_0x1da4d4(0x3cc)],_0x1da4d4(0x279));}}async function getPlayerEloAtTime(_0x4f91a9,_0x111c40,_0x55f0ca){const _0x3f53ef=a4_0x3bee7f;try{const _0x155279=_0x111c40[_0x3f53ef(0x1a9)]?_0x111c40['toDate']():new Date(_0x111c40),_0x4f5af7=query(collection(db,_0x55f0ca),where(_0x3f53ef(0x23e),'==',_0x4f91a9),where(_0x3f53ef(0x472),'<',_0x111c40),orderBy('timestamp','desc'),limit(0x1)),_0x3c53af=await getDocs(_0x4f5af7);if(!_0x3c53af[_0x3f53ef(0x2b5)]){const _0x16cc4b=_0x3c53af[_0x3f53ef(0x4da)][0x0]['data']();return console['log'](_0x3f53ef(0x1b2)+_0x4f91a9+'\x20before\x20match:\x20'+_0x16cc4b[_0x3f53ef(0x4db)]),_0x16cc4b[_0x3f53ef(0x4db)];}else return console[_0x3f53ef(0x560)]('No\x20ELO\x20history\x20found\x20for\x20player\x20'+_0x4f91a9+_0x3f53ef(0x44e)),0x4b0;}catch(_0x11dd8e){return console[_0x3f53ef(0x279)](_0x3f53ef(0x1a2)+_0x4f91a9+':',_0x11dd8e),0x4b0;}}function openResimulateModal(){const _0x19eab8=a4_0x3bee7f;console['log']('openResimulateModal\x20called!');const _0x356175=document[_0x19eab8(0x25c)]('resimulate-modal');console[_0x19eab8(0x560)](_0x19eab8(0x3f3),_0x356175);if(!_0x356175){console[_0x19eab8(0x279)]('Modal\x20element\x20not\x20found!');return;}_0x356175[_0x19eab8(0x581)][_0x19eab8(0x423)]='block',_0x356175[_0x19eab8(0x581)][_0x19eab8(0x3a7)]='visible',_0x356175[_0x19eab8(0x581)]['opacity']='1',_0x356175[_0x19eab8(0x18d)]['add'](_0x19eab8(0x28f)),console[_0x19eab8(0x560)]('Modal\x20should\x20now\x20be\x20visible'),console[_0x19eab8(0x560)](_0x19eab8(0x275),window[_0x19eab8(0x393)](_0x356175)[_0x19eab8(0x423)]);const _0x54d3c1=document['getElementById'](_0x19eab8(0x34e)),_0x5297d5=document['getElementById'](_0x19eab8(0x15e)),_0x1533bc=document[_0x19eab8(0x25c)](_0x19eab8(0x1c6)),_0x3b6183=document[_0x19eab8(0x25c)](_0x19eab8(0x347));if(_0x54d3c1)_0x54d3c1[_0x19eab8(0x4b4)]='';if(_0x5297d5)_0x5297d5[_0x19eab8(0x4b4)]='';if(_0x1533bc)_0x1533bc[_0x19eab8(0x581)][_0x19eab8(0x423)]=_0x19eab8(0x52a);if(_0x3b6183)_0x3b6183[_0x19eab8(0x496)]='';console[_0x19eab8(0x560)]('Modal\x20setup\x20complete');}function closeResimulateModal(){const _0x15a409=a4_0x3bee7f;document[_0x15a409(0x25c)]('resimulate-modal')[_0x15a409(0x581)][_0x15a409(0x423)]=_0x15a409(0x52a),window['pendingResimulateData']=null;}window[a4_0x3bee7f(0x542)]=resimulateMatch,window[a4_0x3bee7f(0x4a3)]=confirmResimulateMatch,window[a4_0x3bee7f(0x3d6)]=openResimulateModal,window[a4_0x3bee7f(0x5c6)]=closeResimulateModal;async function loadPointsData(){const _0x114f2c=a4_0x3bee7f;console[_0x114f2c(0x560)](_0x114f2c(0x2f8));try{await Promise[_0x114f2c(0x383)]([loadPointsOverview(),loadPointsHistory()]),showNotification('Points\x20data\x20loaded\x20successfully',_0x114f2c(0x4ba));}catch(_0xc40198){console[_0x114f2c(0x279)](_0x114f2c(0x1ea),_0xc40198),showNotification(_0x114f2c(0x201)+_0xc40198[_0x114f2c(0x3cc)],_0x114f2c(0x279));}}function renderPointsOverview(_0x449868){const _0x1f95ed=a4_0x3bee7f,_0x44da1b=document['getElementById'](_0x1f95ed(0x4fd));if(!_0x44da1b)return;if(_0x449868[_0x1f95ed(0x592)]===0x0){_0x44da1b[_0x1f95ed(0x4b4)]='<tr><td\x20colspan=\x225\x22\x20class=\x22empty-state\x22>No\x20users\x20found</td></tr>';return;}_0x44da1b[_0x1f95ed(0x4b4)]='',_0x449868['forEach'](_0x25da67=>{const _0x4cfcf0=_0x1f95ed,_0x17486b=document[_0x4cfcf0(0x29b)]('tr'),_0x5d6f88=_0x25da67[_0x4cfcf0(0x3ba)]||_0x25da67['username']||'Unknown\x20User',_0x4802d3=_0x25da67[_0x4cfcf0(0x1dd)]||_0x4cfcf0(0x4ff),_0x3b4e97=_0x25da67[_0x4cfcf0(0x2c2)]||0x0,_0x2e06ec=_0x25da67[_0x4cfcf0(0x34a)]?new Date(_0x25da67['lastPointsModified'][_0x4cfcf0(0x2ca)]*0x3e8)[_0x4cfcf0(0x34d)]():_0x4cfcf0(0x412);_0x17486b[_0x4cfcf0(0x4b4)]=_0x4cfcf0(0x51c)+_0x5d6f88+_0x4cfcf0(0x3c6)+_0x4802d3+_0x4cfcf0(0x409)+(_0x3b4e97>0x3e8?_0x4cfcf0(0x334):_0x3b4e97>0x1f4?_0x4cfcf0(0x3f2):_0x4cfcf0(0x2be))+_0x4cfcf0(0x529)+_0x3b4e97[_0x4cfcf0(0x582)]()+_0x4cfcf0(0x415)+_0x2e06ec+_0x4cfcf0(0x403)+_0x25da67['id']+_0x4cfcf0(0x17a)+_0x25da67['id']+_0x4cfcf0(0x265),_0x44da1b['appendChild'](_0x17486b);}),setupPointsActionButtons();}function setupPointsActionButtons(){const _0x567f8d=a4_0x3bee7f;console[_0x567f8d(0x560)](_0x567f8d(0x19f));const _0x3df77c=document['querySelectorAll'](_0x567f8d(0x296));console['log']('Found\x20'+_0x3df77c[_0x567f8d(0x592)]+'\x20quick\x20edit\x20buttons'),_0x3df77c[_0x567f8d(0x17c)](_0x18d45d=>{const _0x30d7ef=_0x567f8d,_0x51fe21=_0x18d45d[_0x30d7ef(0x219)](!![]);_0x18d45d['parentNode'][_0x30d7ef(0x5a6)](_0x51fe21,_0x18d45d);});const _0x134a54=document[_0x567f8d(0x234)](_0x567f8d(0x2e7));console['log'](_0x567f8d(0x260)+_0x134a54[_0x567f8d(0x592)]+_0x567f8d(0x4d2)),_0x134a54[_0x567f8d(0x17c)](_0x363f76=>{const _0x3e8461=_0x567f8d,_0x3553de=_0x363f76[_0x3e8461(0x219)](!![]);_0x363f76[_0x3e8461(0x213)][_0x3e8461(0x5a6)](_0x3553de,_0x363f76);}),document[_0x567f8d(0x234)](_0x567f8d(0x296))['forEach'](_0x25f65b=>{const _0x43895e=_0x567f8d;_0x25f65b[_0x43895e(0x571)](_0x43895e(0x376),function(_0x38ab59){const _0x249dcb=_0x43895e;_0x38ab59[_0x249dcb(0x4de)](),_0x38ab59['stopPropagation']();const _0xd3c81b=this[_0x249dcb(0x26b)][_0x249dcb(0x32f)];console['log'](_0x249dcb(0x487),_0xd3c81b);if(!_0xd3c81b){console['error'](_0x249dcb(0x17d));return;}this['style']['opacity']=_0x249dcb(0x1be),setTimeout(()=>{this['style']['opacity']='1';},0xc8),openQuickEditModal(_0xd3c81b);});}),document['querySelectorAll'](_0x567f8d(0x2e7))[_0x567f8d(0x17c)](_0x53117e=>{const _0x4f20c4=_0x567f8d;_0x53117e[_0x4f20c4(0x571)](_0x4f20c4(0x376),function(_0x42cd2a){const _0x4c217d=_0x4f20c4;_0x42cd2a[_0x4c217d(0x4de)](),_0x42cd2a[_0x4c217d(0x517)]();const _0x24c2b1=this['dataset'][_0x4c217d(0x32f)];console[_0x4c217d(0x560)](_0x4c217d(0x1a6),_0x24c2b1);if(!_0x24c2b1){console[_0x4c217d(0x279)](_0x4c217d(0x17d));return;}this[_0x4c217d(0x581)][_0x4c217d(0x22c)]=_0x4c217d(0x1be),setTimeout(()=>{const _0xcc9b41=_0x4c217d;this[_0xcc9b41(0x581)][_0xcc9b41(0x22c)]='1';},0xc8),loadUserPointsHistory(_0x24c2b1);});}),console[_0x567f8d(0x560)](_0x567f8d(0x314));}async function openQuickEditModal(_0x5b9394){const _0x2d1438=a4_0x3bee7f;console[_0x2d1438(0x560)](_0x2d1438(0x452),_0x5b9394);const _0x2231b7=document[_0x2d1438(0x25c)](_0x2d1438(0x568));if(!_0x2231b7){console[_0x2d1438(0x279)](_0x2d1438(0x407)),showNotification(_0x2d1438(0x4a2),'error');return;}try{showNotification('Loading\x20user\x20data...',_0x2d1438(0x1dc));const _0x3b5e3c=doc(db,'userProfiles',_0x5b9394),_0xbda628=await getDoc(_0x3b5e3c);if(!_0xbda628[_0x2d1438(0x495)]()){showNotification(_0x2d1438(0x3a9),_0x2d1438(0x279));return;}const _0x352108=_0xbda628[_0x2d1438(0x392)]();console[_0x2d1438(0x560)](_0x2d1438(0x183),_0x352108);const _0x2a3761=document[_0x2d1438(0x25c)](_0x2d1438(0x408)),_0x476a4a=document[_0x2d1438(0x25c)]('quick-edit-display-name'),_0x5f3968=document['getElementById'](_0x2d1438(0x2cc)),_0x3f61ca=document['getElementById']('quick-edit-current-points'),_0x1672cd=document[_0x2d1438(0x25c)](_0x2d1438(0x2d4));if(!_0x2a3761||!_0x476a4a||!_0x5f3968||!_0x3f61ca||!_0x1672cd){console[_0x2d1438(0x279)](_0x2d1438(0x465)),showNotification(_0x2d1438(0x1ab),_0x2d1438(0x279));return;}_0x2a3761[_0x2d1438(0x496)]=_0x5b9394,_0x476a4a['textContent']=_0x352108[_0x2d1438(0x3ba)]||_0x352108[_0x2d1438(0x2e1)]||_0x2d1438(0x1b7),_0x5f3968[_0x2d1438(0x3b6)]=_0x352108[_0x2d1438(0x1dd)]||_0x2d1438(0x4ff),_0x3f61ca[_0x2d1438(0x3b6)]=(_0x352108[_0x2d1438(0x2c2)]||0x0)['toLocaleString'](),_0x1672cd['reset']();const _0x63876=document[_0x2d1438(0x25c)](_0x2d1438(0x3c7));_0x63876&&(_0x63876[_0x2d1438(0x435)]=!![]);_0x2231b7['classList'][_0x2d1438(0x29d)]('active'),console[_0x2d1438(0x560)](_0x2d1438(0x1e3));const _0x24dfab=document[_0x2d1438(0x25c)](_0x2d1438(0x576));_0x24dfab&&setTimeout(()=>_0x24dfab[_0x2d1438(0x1f2)](),0x64);}catch(_0x7331fd){console[_0x2d1438(0x279)]('Error\x20opening\x20quick\x20edit\x20modal:',_0x7331fd),showNotification(_0x2d1438(0x176)+_0x7331fd[_0x2d1438(0x3cc)],'error');}}function closeQuickEditModal(){const _0x5d4bb0=a4_0x3bee7f,_0x2aee6a=document['getElementById'](_0x5d4bb0(0x568));_0x2aee6a&&_0x2aee6a['classList']['remove'](_0x5d4bb0(0x28f));}async function handleQuickEditPoints(_0x5063ad){const _0x2da82f=a4_0x3bee7f;_0x5063ad[_0x2da82f(0x4de)]();const _0x28be11=document['getElementById']('quick-edit-user-id')['value'],_0x347d8a=document[_0x2da82f(0x39f)](_0x2da82f(0x4eb))[_0x2da82f(0x496)],_0x8bc2a2=parseInt(document[_0x2da82f(0x25c)](_0x2da82f(0x576))[_0x2da82f(0x496)]),_0x15ff5b=document[_0x2da82f(0x25c)]('quick-points-reason')[_0x2da82f(0x496)]['trim']();console['log']('Processing\x20points\x20edit:',{'userId':_0x28be11,'action':_0x347d8a,'amount':_0x8bc2a2,'reason':_0x15ff5b});if(!_0x28be11||!_0x8bc2a2||_0x8bc2a2<0x0){showNotification('Please\x20enter\x20valid\x20data',_0x2da82f(0x279));return;}try{await modifyUserPoints(_0x28be11,_0x347d8a,_0x8bc2a2,_0x15ff5b),closeQuickEditModal(),loadPointsOverview(),showNotification(_0x2da82f(0x3e2),_0x2da82f(0x4ba)),console[_0x2da82f(0x560)](_0x2da82f(0x42d),_0x28be11);}catch(_0x1bb0ba){console['error'](_0x2da82f(0x3bb),_0x1bb0ba),showNotification(_0x2da82f(0x4e2)+_0x1bb0ba[_0x2da82f(0x3cc)],_0x2da82f(0x279));}}async function searchUsersForPoints(){const _0x413b9e=a4_0x3bee7f,_0x53d3ae=document['getElementById'](_0x413b9e(0x483))['value'][_0x413b9e(0x2a9)]()['toLowerCase'](),_0x1741a5=document[_0x413b9e(0x25c)](_0x413b9e(0x4f4));if(!_0x53d3ae||_0x53d3ae['length']<0x2){_0x1741a5[_0x413b9e(0x4b4)]='';return;}_0x1741a5[_0x413b9e(0x4b4)]='<div\x20class=\x22loading\x22>Searching...</div>';try{const _0x2418be=collection(db,_0x413b9e(0x301)),_0xea9d70=await getDocs(_0x2418be),_0x2b0dec=[];_0xea9d70['forEach'](_0x310db7=>{const _0x3c7e28=_0x413b9e,_0x415ee4=_0x310db7[_0x3c7e28(0x392)](),_0x25e2ab=(_0x415ee4[_0x3c7e28(0x3ba)]||_0x415ee4['username']||'')[_0x3c7e28(0x369)](),_0x80f154=(_0x415ee4[_0x3c7e28(0x1dd)]||'')[_0x3c7e28(0x369)]();(_0x25e2ab[_0x3c7e28(0x48e)](_0x53d3ae)||_0x80f154[_0x3c7e28(0x48e)](_0x53d3ae))&&_0x2b0dec[_0x3c7e28(0x1bd)]({'id':_0x310db7['id'],..._0x415ee4});});if(_0x2b0dec[_0x413b9e(0x592)]===0x0){_0x1741a5[_0x413b9e(0x4b4)]=_0x413b9e(0x56b);return;}_0x1741a5[_0x413b9e(0x4b4)]='',_0x2b0dec[_0x413b9e(0x17c)](_0x3eb06d=>{const _0x56cbbd=_0x413b9e,_0x55298c=document[_0x56cbbd(0x29b)](_0x56cbbd(0x190));_0x55298c[_0x56cbbd(0x420)]=_0x56cbbd(0x55a),_0x55298c['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22user-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>'+(_0x3eb06d[_0x56cbbd(0x3ba)]||_0x3eb06d[_0x56cbbd(0x2e1)]||_0x56cbbd(0x541))+_0x56cbbd(0x456)+(_0x3eb06d[_0x56cbbd(0x1dd)]||_0x56cbbd(0x4ff))+_0x56cbbd(0x37c)+(_0x3eb06d[_0x56cbbd(0x2c2)]||0x0)['toLocaleString']()+'\x20points</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x55298c[_0x56cbbd(0x571)](_0x56cbbd(0x376),()=>selectUserForPoints(_0x3eb06d)),_0x1741a5[_0x56cbbd(0x326)](_0x55298c);});}catch(_0x1fd118){console[_0x413b9e(0x279)](_0x413b9e(0x45b),_0x1fd118),_0x1741a5[_0x413b9e(0x4b4)]=_0x413b9e(0x174);}}function selectUserForPoints(_0xdd037c){const _0x11c4b6=a4_0x3bee7f;document[_0x11c4b6(0x25c)](_0x11c4b6(0x3d5))[_0x11c4b6(0x3b6)]=_0xdd037c[_0x11c4b6(0x3ba)]||_0xdd037c[_0x11c4b6(0x2e1)]||_0x11c4b6(0x1b7),document[_0x11c4b6(0x25c)](_0x11c4b6(0x4c9))[_0x11c4b6(0x3b6)]=(_0xdd037c[_0x11c4b6(0x2c2)]||0x0)[_0x11c4b6(0x582)](),document[_0x11c4b6(0x25c)](_0x11c4b6(0x253))[_0x11c4b6(0x496)]=_0xdd037c['id'],document[_0x11c4b6(0x25c)](_0x11c4b6(0x506))['style'][_0x11c4b6(0x423)]=_0x11c4b6(0x56f),document[_0x11c4b6(0x25c)]('points-management-forms')[_0x11c4b6(0x581)][_0x11c4b6(0x423)]=_0x11c4b6(0x56f),document[_0x11c4b6(0x25c)](_0x11c4b6(0x4f4))['innerHTML']='',document['getElementById'](_0x11c4b6(0x483))['value']='';}async function handleModifyPoints(_0x3bd614){const _0x56feea=a4_0x3bee7f;_0x3bd614[_0x56feea(0x4de)]();const _0x5f5ef2=document[_0x56feea(0x25c)](_0x56feea(0x253))[_0x56feea(0x496)],_0x40c61a=document[_0x56feea(0x25c)]('points-action')[_0x56feea(0x496)],_0x4835de=parseInt(document[_0x56feea(0x25c)](_0x56feea(0x557))[_0x56feea(0x496)]),_0x501ce3=document[_0x56feea(0x25c)]('points-reason')['value'][_0x56feea(0x2a9)]();if(!_0x5f5ef2||!_0x4835de||_0x4835de<0x0){showNotification('Please\x20select\x20a\x20user\x20and\x20enter\x20a\x20valid\x20amount',_0x56feea(0x279));return;}try{await modifyUserPoints(_0x5f5ef2,_0x40c61a,_0x4835de,_0x501ce3),document[_0x56feea(0x25c)]('modify-points-form')[_0x56feea(0x302)]();const _0x43288f=doc(db,_0x56feea(0x301),_0x5f5ef2),_0x23fda6=await getDoc(_0x43288f);if(_0x23fda6['exists']()){const _0x3147d4=_0x23fda6[_0x56feea(0x392)]();document[_0x56feea(0x25c)](_0x56feea(0x4c9))[_0x56feea(0x3b6)]=(_0x3147d4[_0x56feea(0x2c2)]||0x0)[_0x56feea(0x582)]();}showNotification(_0x56feea(0x2a2),_0x56feea(0x4ba)),loadPointsHistory();}catch(_0x2bc9da){console[_0x56feea(0x279)]('Error\x20modifying\x20points:',_0x2bc9da),showNotification(_0x56feea(0x5ac)+_0x2bc9da[_0x56feea(0x3cc)],'error');}}async function loadPointsHistory(){const _0xf21e59=a4_0x3bee7f,_0x1cdabe=document[_0xf21e59(0x25c)](_0xf21e59(0x58d));if(!_0x1cdabe)return;_0x1cdabe[_0xf21e59(0x4b4)]=_0xf21e59(0x43e);try{const _0x34ac3c=collection(db,_0xf21e59(0x28a)),_0x1e5bf6=query(_0x34ac3c,orderBy(_0xf21e59(0x472),_0xf21e59(0x1c3)),limit(0x32)),_0xafb2f=await getDocs(_0x1e5bf6);if(_0xafb2f[_0xf21e59(0x2b5)]){_0x1cdabe[_0xf21e59(0x4b4)]=_0xf21e59(0x25f);return;}_0x1cdabe[_0xf21e59(0x4b4)]='',_0xafb2f['forEach'](_0x41bfaa=>{const _0x1bd01a=_0xf21e59,_0x185244=_0x41bfaa[_0x1bd01a(0x392)](),_0x10b813=document['createElement']('tr'),_0x1438fc=_0x185244['timestamp']?new Date(_0x185244[_0x1bd01a(0x472)][_0x1bd01a(0x2ca)]*0x3e8)[_0x1bd01a(0x582)]():_0x1bd01a(0x541);let _0x4a856c='';switch(_0x185244['action']){case _0x1bd01a(0x29d):_0x4a856c=_0x1bd01a(0x44f)+_0x185244['amount']+'\x20points';break;case _0x1bd01a(0x563):_0x4a856c='Subtracted\x20'+_0x185244[_0x1bd01a(0x2f9)]+_0x1bd01a(0x4f7);break;case'set':_0x4a856c=_0x1bd01a(0x2ee)+_0x185244[_0x1bd01a(0x2f9)]+_0x1bd01a(0x4f7);break;default:_0x4a856c=_0x185244['action']+'\x20'+_0x185244[_0x1bd01a(0x2f9)]+'\x20points';}_0x10b813['innerHTML']=_0x1bd01a(0x4ae)+_0x1438fc+_0x1bd01a(0x19a)+(_0x185244[_0x1bd01a(0x3ba)]||_0x1bd01a(0x1b7))+_0x1bd01a(0x19a)+_0x4a856c+_0x1bd01a(0x2e0)+_0x185244['action']+_0x1bd01a(0x236)+(_0x185244[_0x1bd01a(0x21d)]||0x0)+_0x1bd01a(0x21c)+(_0x185244[_0x1bd01a(0x365)]||0x0)+_0x1bd01a(0x16c)+(_0x185244[_0x1bd01a(0x494)]||'No\x20reason\x20provided')+_0x1bd01a(0x19a)+(_0x185244[_0x1bd01a(0x5b4)]||_0x1bd01a(0x431))+_0x1bd01a(0x1e5),_0x1cdabe[_0x1bd01a(0x326)](_0x10b813);});}catch(_0x4ad7d3){console[_0xf21e59(0x279)](_0xf21e59(0x2f7),_0x4ad7d3),_0x1cdabe[_0xf21e59(0x4b4)]=_0xf21e59(0x4dd)+_0x4ad7d3[_0xf21e59(0x3cc)]+_0xf21e59(0x43f);}}function filterPointsOverview(){const _0x4751ed=a4_0x3bee7f,_0x119859=document['getElementById']('points-overview-search')[_0x4751ed(0x496)][_0x4751ed(0x369)]();if(!window['allUsersPoints'])return;const _0x2a6135=window[_0x4751ed(0x28c)][_0x4751ed(0x358)](_0x2483cd=>{const _0x4cbd13=_0x4751ed,_0x1a9188=(_0x2483cd[_0x4cbd13(0x3ba)]||_0x2483cd[_0x4cbd13(0x2e1)]||'')[_0x4cbd13(0x369)](),_0x3013ce=(_0x2483cd['email']||'')[_0x4cbd13(0x369)]();return _0x1a9188['includes'](_0x119859)||_0x3013ce[_0x4cbd13(0x48e)](_0x119859);});renderPointsOverview(_0x2a6135);}function sortPointsOverview(){const _0x3000fb=a4_0x3bee7f,_0x2137a9=document[_0x3000fb(0x25c)](_0x3000fb(0x375))[_0x3000fb(0x496)];if(!window[_0x3000fb(0x28c)])return;const _0x1597b2=[...window[_0x3000fb(0x28c)]];switch(_0x2137a9){case'points-desc':_0x1597b2[_0x3000fb(0x475)]((_0x108f65,_0x1e8b1e)=>(_0x1e8b1e[_0x3000fb(0x2c2)]||0x0)-(_0x108f65[_0x3000fb(0x2c2)]||0x0));break;case'points-asc':_0x1597b2[_0x3000fb(0x475)]((_0x33ba0d,_0x535efd)=>(_0x33ba0d['points']||0x0)-(_0x535efd[_0x3000fb(0x2c2)]||0x0));break;case'name-asc':_0x1597b2[_0x3000fb(0x475)]((_0x83e1ae,_0x283584)=>{const _0x195996=_0x3000fb,_0x2246e5=(_0x83e1ae[_0x195996(0x3ba)]||_0x83e1ae[_0x195996(0x2e1)]||'')[_0x195996(0x369)](),_0x38e00a=(_0x283584[_0x195996(0x3ba)]||_0x283584[_0x195996(0x2e1)]||'')['toLowerCase']();return _0x2246e5[_0x195996(0x2bb)](_0x38e00a);});break;case _0x3000fb(0x23f):_0x1597b2[_0x3000fb(0x475)]((_0x39e7c3,_0xf7a665)=>{const _0x498435=_0x3000fb,_0x385ae5=(_0x39e7c3[_0x498435(0x3ba)]||_0x39e7c3[_0x498435(0x2e1)]||'')[_0x498435(0x369)](),_0xab6ecc=(_0xf7a665[_0x498435(0x3ba)]||_0xf7a665['username']||'')[_0x498435(0x369)]();return _0xab6ecc[_0x498435(0x2bb)](_0x385ae5);});break;}renderPointsOverview(_0x1597b2);}async function handleAwardItem(_0x48fbb9){const _0x3c8c47=a4_0x3bee7f;_0x48fbb9[_0x3c8c47(0x4de)]();const _0xfe23ee=document[_0x3c8c47(0x25c)]('selected-user-id')[_0x3c8c47(0x496)],_0x23f6b3=document[_0x3c8c47(0x25c)](_0x3c8c47(0x389))[_0x3c8c47(0x496)],_0x550360=document[_0x3c8c47(0x25c)](_0x3c8c47(0x43c))[_0x3c8c47(0x496)][_0x3c8c47(0x2a9)]();if(!_0xfe23ee||!_0x23f6b3){showNotification(_0x3c8c47(0x58e),_0x3c8c47(0x279));return;}try{showNotification(_0x3c8c47(0x50b),_0x3c8c47(0x4ba)),document['getElementById'](_0x3c8c47(0x598))[_0x3c8c47(0x302)]();}catch(_0x19b750){console['error']('Error\x20awarding\x20item:',_0x19b750),showNotification(_0x3c8c47(0x25d)+_0x19b750[_0x3c8c47(0x3cc)],_0x3c8c47(0x279));}}async function loadUserPointsHistory(_0x16fd2c){const _0x389466=a4_0x3bee7f;try{const _0x320250=collection(db,_0x389466(0x28a)),_0x13df0d=query(_0x320250,where('userId','==',_0x16fd2c),orderBy(_0x389466(0x472),_0x389466(0x1c3))),_0x30bcf5=await getDocs(_0x13df0d);console[_0x389466(0x560)](_0x389466(0x260)+_0x30bcf5[_0x389466(0x3fc)]+'\x20history\x20entries\x20for\x20user\x20'+_0x16fd2c),showNotification(_0x389466(0x486)+_0x30bcf5['size']+_0x389466(0x23c),_0x389466(0x1dc));}catch(_0x1d2497){console[_0x389466(0x279)](_0x389466(0x5ad),_0x1d2497),showNotification(_0x389466(0x170),_0x389466(0x279));}}async function initializeUserPointsField(){const _0x2a6944=a4_0x3bee7f;try{console['log']('Starting\x20points\x20field\x20initialization\x20for\x20all\x20users...');const _0x14055f=collection(db,'userProfiles'),_0x8c87f=await getDocs(_0x14055f);if(_0x8c87f[_0x2a6944(0x2b5)]){console[_0x2a6944(0x560)]('No\x20users\x20found\x20in\x20userProfiles\x20collection');return;}let _0x1a55d9=0x0,_0x1d4a48=0x0;const _0x37ddf7=writeBatch(db);let _0x502d1a=0x0;return console['log'](_0x2a6944(0x260)+_0x8c87f[_0x2a6944(0x3fc)]+_0x2a6944(0x327)),_0x8c87f['forEach'](_0x195592=>{const _0xac3c77=_0x2a6944,_0xe41976=_0x195592[_0xac3c77(0x392)]();_0xe41976['points']===undefined||_0xe41976['points']===null?(_0x37ddf7[_0xac3c77(0x207)](_0x195592[_0xac3c77(0x1c9)],{'points':0x0,'pointsInitializedAt':serverTimestamp()}),_0x1a55d9++,_0x502d1a++,console[_0xac3c77(0x560)]('Queued\x20'+(_0xe41976[_0xac3c77(0x3ba)]||_0xe41976[_0xac3c77(0x2e1)]||_0xe41976[_0xac3c77(0x1dd)]||_0xac3c77(0x541))+_0xac3c77(0x5b3))):(_0x1d4a48++,console['log']((_0xe41976[_0xac3c77(0x3ba)]||_0xe41976[_0xac3c77(0x2e1)]||_0xe41976[_0xac3c77(0x1dd)]||'Unknown')+'\x20already\x20has\x20points:\x20'+_0xe41976['points'])),_0x502d1a>=0x1f4&&console['warn'](_0xac3c77(0x29f));}),_0x1a55d9>0x0?(console[_0x2a6944(0x560)]('Committing\x20batch\x20update\x20for\x20'+_0x1a55d9+_0x2a6944(0x290)),await _0x37ddf7[_0x2a6944(0x33e)](),console[_0x2a6944(0x560)](_0x2a6944(0x3af)+_0x1a55d9+_0x2a6944(0x53c))):console[_0x2a6944(0x560)](_0x2a6944(0x47e)),console[_0x2a6944(0x560)](_0x2a6944(0x2e9)+_0x8c87f[_0x2a6944(0x3fc)]+_0x2a6944(0x572)+_0x1a55d9+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20Users\x20who\x20already\x20had\x20points:\x20'+_0x1d4a48),showNotification(_0x2a6944(0x460)+_0x1a55d9+_0x2a6944(0x25b)+_0x1d4a48+_0x2a6944(0x40f),'success'),window[_0x2a6944(0x28c)]&&loadPointsOverview(),{'totalUsers':_0x8c87f['size'],'usersUpdated':_0x1a55d9,'usersAlreadyHadPoints':_0x1d4a48};}catch(_0x33084b){console[_0x2a6944(0x279)]('Error\x20initializing\x20points\x20field:',_0x33084b),showNotification(_0x2a6944(0x5a5)+_0x33084b[_0x2a6944(0x3cc)],_0x2a6944(0x279));throw _0x33084b;}}function addPointsMigrationButton(){const _0xcce7a0=a4_0x3bee7f,_0x3d5639=document[_0xcce7a0(0x25c)](_0xcce7a0(0x41c));if(!_0x3d5639)return;if(document[_0xcce7a0(0x25c)](_0xcce7a0(0x4b6)))return;const _0x345f59=document[_0xcce7a0(0x29b)](_0xcce7a0(0x190));_0x345f59[_0xcce7a0(0x420)]=_0xcce7a0(0x4cf),_0x345f59[_0xcce7a0(0x581)][_0xcce7a0(0x505)]=_0xcce7a0(0x48d),_0x345f59['style'][_0xcce7a0(0x208)]=_0xcce7a0(0x366),_0x345f59['style'][_0xcce7a0(0x4f2)]=_0xcce7a0(0x4a8),_0x345f59['style']['border']=_0xcce7a0(0x3cb),_0x345f59['style'][_0xcce7a0(0x549)]='5px',_0x345f59['innerHTML']=_0xcce7a0(0x18f);const _0x280bde=_0x3d5639[_0xcce7a0(0x39f)](_0xcce7a0(0x211));_0x280bde&&_0x280bde[_0xcce7a0(0x5a1)](_0xcce7a0(0x565),_0x345f59),document['getElementById'](_0xcce7a0(0x4b6))['addEventListener'](_0xcce7a0(0x376),async function(){const _0x3b633b=_0xcce7a0;if(confirm(_0x3b633b(0x4d3))){this[_0x3b633b(0x24d)]=!![],this[_0x3b633b(0x4b4)]=_0x3b633b(0x1f9);try{await initializeUserPointsField(),this['innerHTML']=_0x3b633b(0x214),this[_0x3b633b(0x581)][_0x3b633b(0x4f2)]=_0x3b633b(0x252),setTimeout(()=>{const _0x570c7a=_0x3b633b;_0x345f59[_0x570c7a(0x581)][_0x570c7a(0x423)]=_0x570c7a(0x52a);},0xbb8);}catch(_0x277bf0){this['innerHTML']='<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error\x20-\x20Try\x20Again',this[_0x3b633b(0x24d)]=![];}}});}function setupManagePointsSection(){const _0x55fa12=a4_0x3bee7f;console[_0x55fa12(0x560)](_0x55fa12(0x191)),addPointsMigrationButton();const _0x17da94=document[_0x55fa12(0x25c)](_0x55fa12(0x483));_0x17da94&&_0x17da94[_0x55fa12(0x571)](_0x55fa12(0x518),debounce(searchUsersForPoints,0x12c));const _0x5bb76e=document[_0x55fa12(0x25c)](_0x55fa12(0x41f));_0x5bb76e&&_0x5bb76e[_0x55fa12(0x571)](_0x55fa12(0x2b7),handleModifyPoints);const _0x942251=document[_0x55fa12(0x25c)](_0x55fa12(0x598));_0x942251&&_0x942251['addEventListener'](_0x55fa12(0x2b7),handleAwardItem);const _0x44dea4=document[_0x55fa12(0x25c)](_0x55fa12(0x1f1));_0x44dea4&&_0x44dea4[_0x55fa12(0x571)]('input',debounce(filterPointsOverview,0x12c));const _0xb35ec=document['getElementById'](_0x55fa12(0x375));_0xb35ec&&_0xb35ec[_0x55fa12(0x571)](_0x55fa12(0x544),sortPointsOverview);const _0x874120=document['getElementById']('refresh-points-overview');_0x874120&&_0x874120[_0x55fa12(0x571)](_0x55fa12(0x376),loadPointsOverview);const _0x28705c=document[_0x55fa12(0x25c)](_0x55fa12(0x568));if(_0x28705c){console[_0x55fa12(0x560)](_0x55fa12(0x2fb));const _0x38e1e0=_0x28705c['querySelector']('.close-btn');_0x38e1e0?_0x38e1e0['addEventListener'](_0x55fa12(0x376),function(){const _0x4b9b69=_0x55fa12;console[_0x4b9b69(0x560)]('Modal\x20close\x20button\x20clicked'),closeQuickEditModal();}):console['warn'](_0x55fa12(0x39c));const _0x3ce619=document['getElementById'](_0x55fa12(0x59e));_0x3ce619?_0x3ce619['addEventListener']('click',function(){const _0x5bfdd3=_0x55fa12;console[_0x5bfdd3(0x560)](_0x5bfdd3(0x3d4)),closeQuickEditModal();}):console[_0x55fa12(0x2ce)](_0x55fa12(0x430));const _0x4b8592=document[_0x55fa12(0x25c)](_0x55fa12(0x2d4));_0x4b8592?_0x4b8592[_0x55fa12(0x571)](_0x55fa12(0x2b7),function(_0x4c06d6){const _0x53b106=_0x55fa12;console[_0x53b106(0x560)]('Quick\x20edit\x20form\x20submitted'),handleQuickEditPoints(_0x4c06d6);}):console['error']('Quick\x20edit\x20form\x20not\x20found!'),_0x28705c[_0x55fa12(0x571)](_0x55fa12(0x376),function(_0x5cd282){const _0x271935=_0x55fa12;_0x5cd282[_0x271935(0x3bf)]===_0x28705c&&(console[_0x271935(0x560)](_0x271935(0x478)),closeQuickEditModal());});}else console['error'](_0x55fa12(0x200));console[_0x55fa12(0x560)](_0x55fa12(0x50d));}function setupManageRibbonsSection(){const _0x57bb39=a4_0x3bee7f;console[_0x57bb39(0x560)](_0x57bb39(0x4b1));const _0x511674=document[_0x57bb39(0x25c)]('ribbon-user-search');_0x511674&&_0x511674['addEventListener'](_0x57bb39(0x518),debounce(searchRibbonUser,0x12c));const _0x28ec2f=document['getElementById'](_0x57bb39(0x3a3));_0x28ec2f&&_0x28ec2f['addEventListener'](_0x57bb39(0x376),searchRibbonUser);const _0x399ea2=document[_0x57bb39(0x25c)](_0x57bb39(0x551));_0x399ea2&&_0x399ea2[_0x57bb39(0x571)](_0x57bb39(0x2b7),addRibbon),_0x511674&&_0x511674[_0x57bb39(0x571)](_0x57bb39(0x18c),function(_0x5cc1cf){const _0x4d2956=_0x57bb39;_0x5cc1cf[_0x4d2956(0x410)]===_0x4d2956(0x37f)&&(_0x5cc1cf[_0x4d2956(0x4de)](),searchRibbonUser());}),console[_0x57bb39(0x560)](_0x57bb39(0x161));}async function modifyUserPoints(_0x6f82b4,_0x459cfe,_0x74cd2f,_0xaf5f93=''){const _0x2802b9=a4_0x3bee7f,_0x270de0=doc(db,_0x2802b9(0x301),_0x6f82b4),_0x5f55a1=await getDoc(_0x270de0);if(!_0x5f55a1['exists']())throw new Error(_0x2802b9(0x3a9));const _0xa011cf=_0x5f55a1[_0x2802b9(0x392)](),_0x19f8fe=_0xa011cf[_0x2802b9(0x2c2)]!==undefined?_0xa011cf['points']:0x0;_0xa011cf[_0x2802b9(0x2c2)]===undefined&&(console['log'](_0x2802b9(0x2e3)+(_0xa011cf[_0x2802b9(0x3ba)]||_0xa011cf['email']||_0x2802b9(0x541))),await updateDoc(_0x270de0,{'points':0x0,'pointsInitializedAt':serverTimestamp()}));let _0x27847f=_0x19f8fe;switch(_0x459cfe){case'add':_0x27847f=_0x19f8fe+_0x74cd2f;break;case _0x2802b9(0x563):_0x27847f=Math[_0x2802b9(0x361)](0x0,_0x19f8fe-_0x74cd2f);break;case _0x2802b9(0x192):_0x27847f=_0x74cd2f;break;default:throw new Error('Invalid\x20action');}await updateDoc(_0x270de0,{'points':_0x27847f,'lastPointsModified':serverTimestamp()}),await addDoc(collection(db,'pointsHistory'),{'userId':_0x6f82b4,'userEmail':_0xa011cf[_0x2802b9(0x1dd)]||_0x2802b9(0x1a0),'displayName':_0xa011cf[_0x2802b9(0x3ba)]||_0xa011cf[_0x2802b9(0x2e1)]||_0x2802b9(0x1b7),'action':_0x459cfe,'amount':_0x74cd2f,'previousPoints':_0x19f8fe,'newPoints':_0x27847f,'reason':_0xaf5f93,'adminEmail':auth[_0x2802b9(0x4c8)][_0x2802b9(0x1dd)],'timestamp':serverTimestamp()});}async function loadPointsOverview(){const _0x2be471=a4_0x3bee7f,_0x367a4d=document[_0x2be471(0x25c)](_0x2be471(0x4fd));if(!_0x367a4d)return;_0x367a4d[_0x2be471(0x4b4)]=_0x2be471(0x56e);try{const _0x3e7773=collection(db,'userProfiles'),_0x27c699=await getDocs(_0x3e7773);if(_0x27c699[_0x2be471(0x2b5)]){_0x367a4d[_0x2be471(0x4b4)]=_0x2be471(0x49f);return;}const _0x11bd5b=[];let _0x54751d=0x0;_0x27c699[_0x2be471(0x17c)](_0x7e9350=>{const _0x156fb2=_0x2be471,_0x22008a=_0x7e9350[_0x156fb2(0x392)](),_0x5d52d8=_0x22008a[_0x156fb2(0x2c2)]!==undefined?_0x22008a['points']:0x0;_0x22008a[_0x156fb2(0x2c2)]===undefined&&_0x54751d++,_0x11bd5b[_0x156fb2(0x1bd)]({'id':_0x7e9350['id'],..._0x22008a,'points':_0x5d52d8});}),_0x54751d>0x0&&(console['log']('Found\x20'+_0x54751d+_0x2be471(0x596)),showNotification(_0x54751d+_0x2be471(0x4a6),_0x2be471(0x1dc))),_0x11bd5b['sort']((_0x1bee29,_0x64aa15)=>(_0x64aa15['points']||0x0)-(_0x1bee29[_0x2be471(0x2c2)]||0x0)),window[_0x2be471(0x28c)]=_0x11bd5b,renderPointsOverview(_0x11bd5b);}catch(_0x4f2c6b){console[_0x2be471(0x279)](_0x2be471(0x3c0),_0x4f2c6b),_0x367a4d[_0x2be471(0x4b4)]='<tr><td\x20colspan=\x225\x22\x20class=\x22error-state\x22>Error\x20loading\x20users:\x20'+_0x4f2c6b['message']+_0x2be471(0x43f);}}async function loadRibbonsData(){const _0x4d8e9c=a4_0x3bee7f,_0xe9665f=document[_0x4d8e9c(0x25c)](_0x4d8e9c(0x32e));if(!_0xe9665f)return;_0xe9665f[_0x4d8e9c(0x4b4)]='<tr><td\x20colspan=\x225\x22\x20class=\x22loading-cell\x22>Loading\x20ribbons\x20data...</td></tr>';try{const [_0x1d490f,_0x1cfa46,_0x18d786]=await Promise[_0x4d8e9c(0x383)]([getDocs(collection(db,_0x4d8e9c(0x3b9))),getDocs(collection(db,_0x4d8e9c(0x424))),getDocs(collection(db,_0x4d8e9c(0x1a4)))]);_0xe9665f[_0x4d8e9c(0x4b4)]='';const _0x485e91=(_0x145658,_0x5c6caa)=>{const _0xbfe23f=_0x4d8e9c;_0x145658[_0xbfe23f(0x17c)](_0x301c55=>{const _0x506f92=_0xbfe23f,_0x27129d=_0x301c55[_0x506f92(0x392)](),_0x8944d9=_0x27129d[_0x506f92(0x58f)]||{},_0x1515fa=Object[_0x506f92(0x276)](_0x8944d9)[_0x506f92(0x592)],_0x341bb4=document['createElement']('tr');_0x341bb4[_0x506f92(0x4b4)]=_0x506f92(0x4a9)+(_0x27129d[_0x506f92(0x2e1)]||_0x506f92(0x541))+_0x506f92(0x536)+_0x5c6caa['toLowerCase']()+'\x22>'+_0x5c6caa+_0x506f92(0x1db)+_0x1515fa+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x27129d[_0x506f92(0x343)]?new Date(_0x27129d[_0x506f92(0x343)][_0x506f92(0x2ca)]*0x3e8)[_0x506f92(0x34d)]():_0x506f92(0x541))+_0x506f92(0x1b8)+_0x27129d[_0x506f92(0x2e1)]+_0x506f92(0x45e)+_0x5c6caa+_0x506f92(0x416),_0xe9665f[_0x506f92(0x326)](_0x341bb4);});};_0x485e91(_0x1d490f,'D1'),_0x485e91(_0x1cfa46,'D2'),_0x485e91(_0x18d786,'D3'),document['querySelectorAll'](_0x4d8e9c(0x33a))[_0x4d8e9c(0x17c)](_0x50d5bf=>{const _0xbc3d93=_0x4d8e9c;_0x50d5bf[_0xbc3d93(0x571)](_0xbc3d93(0x376),function(){const _0x3eca2f=_0xbc3d93,_0xd4f83f=this['dataset'][_0x3eca2f(0x2e1)],_0x1117ab=this[_0x3eca2f(0x26b)]['ladder'];editUserRibbons(_0xd4f83f,_0x1117ab);});}),showNotification(_0x4d8e9c(0x322),_0x4d8e9c(0x4ba));}catch(_0x4c181a){console[_0x4d8e9c(0x279)]('Error\x20loading\x20ribbons:',_0x4c181a),_0xe9665f[_0x4d8e9c(0x4b4)]='<tr><td\x20colspan=\x225\x22\x20class=\x22error-state\x22>Error\x20loading\x20ribbons</td></tr>',showNotification(_0x4d8e9c(0x4ac),_0x4d8e9c(0x279));}}async function searchRibbonUser(){const _0x23e5e0=a4_0x3bee7f,_0x2100b9=document[_0x23e5e0(0x25c)](_0x23e5e0(0x444))[_0x23e5e0(0x496)][_0x23e5e0(0x2a9)]();if(!_0x2100b9){showNotification(_0x23e5e0(0x23a),'error');return;}try{const [_0x388e60,_0x52f92b,_0x1f7a5c]=await Promise[_0x23e5e0(0x383)]([getDoc(doc(db,_0x23e5e0(0x3b9),_0x2100b9)),getDoc(doc(db,'playerRibbonsD2',_0x2100b9)),getDoc(doc(db,'playerRibbonsD3',_0x2100b9))]);let _0x9696a8=null,_0xe68776=null;if(_0x388e60['exists']())_0x9696a8='D1',_0xe68776=_0x388e60[_0x23e5e0(0x392)]();else{if(_0x52f92b[_0x23e5e0(0x495)]())_0x9696a8='D2',_0xe68776=_0x52f92b[_0x23e5e0(0x392)]();else _0x1f7a5c[_0x23e5e0(0x495)]()&&(_0x9696a8='D3',_0xe68776=_0x1f7a5c[_0x23e5e0(0x392)]());}_0x9696a8?(document[_0x23e5e0(0x25c)](_0x23e5e0(0x441))[_0x23e5e0(0x3b6)]=_0x2100b9,document['getElementById'](_0x23e5e0(0x2fa))[_0x23e5e0(0x496)]=_0x2100b9,document['getElementById'](_0x23e5e0(0x457))[_0x23e5e0(0x496)]=_0x9696a8,document[_0x23e5e0(0x25c)](_0x23e5e0(0x4c2))[_0x23e5e0(0x581)][_0x23e5e0(0x423)]=_0x23e5e0(0x56f),displayCurrentRibbons(_0xe68776['ribbons']||{}),showNotification(_0x23e5e0(0x260)+_0x2100b9+_0x23e5e0(0x3ad)+_0x9696a8+_0x23e5e0(0x331),_0x23e5e0(0x4ba))):showNotification('User\x20'+_0x2100b9+_0x23e5e0(0x4ea),_0x23e5e0(0x279));}catch(_0x3a8620){console[_0x23e5e0(0x279)](_0x23e5e0(0x4a5),_0x3a8620),showNotification('Error\x20searching\x20for\x20user','error');}}function displayCurrentRibbons(_0x353f17){const _0xc0fce0=a4_0x3bee7f,_0x1aedff=document[_0xc0fce0(0x25c)](_0xc0fce0(0x2b3));if(!_0x1aedff)return;_0x1aedff[_0xc0fce0(0x4b4)]='';if(Object[_0xc0fce0(0x276)](_0x353f17)[_0xc0fce0(0x592)]===0x0){_0x1aedff['innerHTML']=_0xc0fce0(0x51a);return;}Object[_0xc0fce0(0x53e)](_0x353f17)['forEach'](([_0x448b42,_0x269698])=>{const _0x4fcf5e=_0xc0fce0,_0x3a47f3=document[_0x4fcf5e(0x29b)]('div');_0x3a47f3[_0x4fcf5e(0x420)]=_0x4fcf5e(0x471),_0x3a47f3[_0x4fcf5e(0x4b4)]=_0x4fcf5e(0x492)+_0x448b42+'</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>Level:\x20'+(_0x269698[_0x4fcf5e(0x4e7)]||0x1)+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small>Awarded:\x20'+(_0x269698['awardedAt']?new Date(_0x269698[_0x4fcf5e(0x54b)]['seconds']*0x3e8)[_0x4fcf5e(0x34d)]():_0x4fcf5e(0x541))+_0x4fcf5e(0x360)+_0x448b42+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash\x22></i>\x20Remove\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x1aedff['appendChild'](_0x3a47f3);}),document[_0xc0fce0(0x234)](_0xc0fce0(0x36d))['forEach'](_0x4a3ea4=>{const _0x377b61=_0xc0fce0;_0x4a3ea4[_0x377b61(0x571)](_0x377b61(0x376),function(){const _0x426d74=_0x377b61,_0x47d22e=this[_0x426d74(0x26b)]['ribbon'];removeRibbon(_0x47d22e);});});}async function addRibbon(_0x529614){const _0x44a101=a4_0x3bee7f;_0x529614[_0x44a101(0x4de)]();const _0x553a49=document[_0x44a101(0x25c)]('ribbon-target-user')['value'],_0x5a3c50=document[_0x44a101(0x25c)]('ribbon-target-ladder')[_0x44a101(0x496)],_0x1cd885=document[_0x44a101(0x25c)]('ribbon-type-select')[_0x44a101(0x496)],_0x18141d=parseInt(document[_0x44a101(0x25c)](_0x44a101(0x546))['value']);if(!_0x553a49||!_0x5a3c50||!_0x1cd885||!_0x18141d){showNotification(_0x44a101(0x2a7),_0x44a101(0x279));return;}try{const _0x1be799=_0x44a101(0x3b9)+(_0x5a3c50==='D1'?'':_0x5a3c50),_0x1e4614=doc(db,_0x1be799,_0x553a49),_0x245785=await getDoc(_0x1e4614),_0x125704=_0x245785[_0x44a101(0x495)]()?_0x245785[_0x44a101(0x392)]()[_0x44a101(0x58f)]||{}:{};_0x125704[_0x1cd885]={'level':_0x18141d,'awardedAt':serverTimestamp()},await setDoc(_0x1e4614,{'username':_0x553a49,'ladder':_0x5a3c50,'ribbons':_0x125704,'lastUpdated':serverTimestamp()},{'merge':!![]}),showNotification(_0x44a101(0x44f)+_0x1cd885+_0x44a101(0x41a)+_0x18141d+'\x20to\x20'+_0x553a49,_0x44a101(0x4ba)),displayCurrentRibbons(_0x125704),document[_0x44a101(0x25c)](_0x44a101(0x346))[_0x44a101(0x496)]='',document[_0x44a101(0x25c)](_0x44a101(0x546))['value']='1';}catch(_0x5e6757){console[_0x44a101(0x279)](_0x44a101(0x297),_0x5e6757),showNotification(_0x44a101(0x462),_0x44a101(0x279));}}async function removeRibbon(_0x2a4ca8){const _0x5966b4=a4_0x3bee7f,_0x3851e2=document[_0x5966b4(0x25c)](_0x5966b4(0x2fa))[_0x5966b4(0x496)],_0x4dde98=document[_0x5966b4(0x25c)](_0x5966b4(0x457))['value'];if(!confirm(_0x5966b4(0x1fe)+_0x2a4ca8+_0x5966b4(0x3be)+_0x3851e2+'?'))return;try{const _0x4ffb3a=_0x5966b4(0x3b9)+(_0x4dde98==='D1'?'':_0x4dde98),_0x131d08=doc(db,_0x4ffb3a,_0x3851e2),_0x2047b8=await getDoc(_0x131d08),_0x430243=_0x2047b8[_0x5966b4(0x495)]()?_0x2047b8[_0x5966b4(0x392)]()[_0x5966b4(0x58f)]||{}:{};delete _0x430243[_0x2a4ca8],await setDoc(_0x131d08,{'username':_0x3851e2,'ladder':_0x4dde98,'ribbons':_0x430243,'lastUpdated':serverTimestamp()},{'merge':!![]}),showNotification(_0x5966b4(0x4b9)+_0x2a4ca8+_0x5966b4(0x3be)+_0x3851e2,_0x5966b4(0x4ba)),displayCurrentRibbons(_0x430243);}catch(_0x30ff10){console[_0x5966b4(0x279)](_0x5966b4(0x1fd),_0x30ff10),showNotification(_0x5966b4(0x362),_0x5966b4(0x279));}}function editUserRibbons(_0x1faf42,_0x2dc226){const _0x3d6b49=a4_0x3bee7f;document[_0x3d6b49(0x25c)](_0x3d6b49(0x444))[_0x3d6b49(0x496)]=_0x1faf42,searchRibbonUser();}