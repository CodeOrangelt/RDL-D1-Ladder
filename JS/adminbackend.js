const a4Q=a4d;(function(a,b){const L=a4d,c=a();while(!![]){try{const d=parseInt(L(0x28d))/0x1*(parseInt(L(0x3e2))/0x2)+parseInt(L(0x1e4))/0x3+parseInt(L(0x36d))/0x4*(parseInt(L(0x150))/0x5)+parseInt(L(0x359))/0x6+-parseInt(L(0x3c5))/0x7*(parseInt(L(0x1e8))/0x8)+-parseInt(L(0x393))/0x9+parseInt(L(0x340))/0xa*(-parseInt(L(0x1e6))/0xb);if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a4c,0xed73f));const a4b=(function(){let a=!![];return function(b,c){const d=a?function(){const M=a4d;if(c){const e=c[M(0x256)](b,arguments);return c=null,e;}}:function(){};return a=![],d;};}()),a4a=a4b(this,function(){const O=a4d,a=function(){const N=a4d;let f;try{f=Function(N(0x2e3)+N(0x239)+');')();}catch(g){f=window;}return f;},b=a(),c=b['console']=b['console']||{},d=['log','warn','info','error',O(0x461),'table','trace'];for(let e=0x0;e<d['length'];e++){const f=a4b[O(0x345)][O(0x23e)]['bind'](a4b),g=d[e],h=c[g]||f;f[O(0x181)]=a4b['bind'](a4b),f['toString']=h[O(0x13c)]['bind'](h),c[g]=f;}});a4a();import{collection,getDocs,query,orderBy,addDoc,deleteDoc,where,doc,getDoc,serverTimestamp,setDoc,updateDoc,writeBatch,limit,startAfter,endBefore,limitToLast,onSnapshot,deleteField,or,Timestamp}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{auth,db}from'./firebase-config.js';import{getRankStyle}from'./ranks.js';import{isAdmin}from'./admin-check.js';let matchesPagination={'d1':{'page':0x1,'lastVisible':null,'firstVisible':null},'d2':{'page':0x1,'lastVisible':null,'firstVisible':null},'d3':{'page':0x1,'lastVisible':null,'firstVisible':null}};function getContrastColor(a){const P=a4d;if(!a)return'#ffffff';a=a['replace']('#','');a[P(0x2cc)]===0x3&&(a=a[P(0x3ba)]('')['map'](h=>h+h)['join'](''));if(a['length']!==0x6)return P(0x246);const c=parseInt(a['substring'](0x0,0x2),0x10),d=parseInt(a[P(0x3b7)](0x2,0x4),0x10),e=parseInt(a['substring'](0x4,0x6),0x10),f=(c*0x12b+d*0x24b+e*0x72)/0x3e8;return f>=0x80?P(0x401):'#ffffff';}const DEFAULT_TROPHY_IMAGE='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAADHUlEQVR4nO2XS0hUURjHf3fGnPGB+cBkzEAFRSglH5mQEiitIFoYEW6iFrWJoE20SReCQUGbXrRqEVFB0SIKKnrhM3wUldmQjc5Yk46Njjpz7+06cO50vTP3jplJ0fnDYe75zpnz/e73+L5zFf4n+X1SUoAM624GUoA0IAjw+IS5BWwgCIwCbuAn0AcMWOsP4NHE+BlqEjmxDZQCq4H5QCoQsALMWJjLWgMTvN8FPALuWWs38MhnfCoQoBvIBY4Du4EVwCyPDj7L+ptA/S/WX4EW4ALQMM1g/k8FmA5UAPuBZYCK94wRyXmU6TlwDEFzwDHgltOHnQKcBWwFjgL5jglOTTeBI8BtuwdVmweLgCvAAsckpq8XwDagzQ7QboPZQC1Q7JjA7KgX2AJ02zkwmjINuAzUzHCyGnAFmDMZ4DqgERHNTEsBDmvT0eVSYNgx1PSl28pOldcGvw/WAOeB+Y6pzEwPEJV1zOvBPcAJx0RmLg3YGw0Yu80G4LRjErOjU0BxJGARcB1Y6JjE7GgQKAD6w4FmAM3AUscE4pMuozqigrMa52RUKiK+ipxKDRkVRAYSoiDwDLiLKKU9iqKMgiQRH2wElsdxwDPgLPAAOZ4Fo/YV5BNkAXXIvFgLXAS+2wDnAU2MZEmsJOIK8NqG/wEVwClEoREmLeKP50hn5FSvgT3AY5v+J5HmHVZ4iY+pNG0E1wEss+FbjXS2vjgeUJETzYLJE5+gz5aHXSzlQBnQFQ9gCPH5F4lL94B2G3yl0QE+jwdwBJgH9ESSMgrcteG7HNJihk1A3AMOAgeBT9E7NE0LAkEnEkYHqEa162QMn+02/LJsxpg0YLexURTl3cSgmqYFTNMccPJ1uIDPxuYScDyG31Ls1+EbK6muSIAul8tQ7Jrq5BoGWhVFCQJ7kQkjlnIQFR1TKowNGY6JomnMQkSoGviXvAWWKIoSjgVxPdLtvwKwQ1GUD7ECugBDURTPeHUBfIwVUNO0EWPyWT+mNGBQ13WXN6CqKoOGYYT8fj8+n2NCCYyLiooC8f75D86ukgTJZSGcAAAAAElFTkSuQmCC',charts={};let currentLadder='D1',eloHistoryPagination={'d1':{'page':0x1,'lastVisible':null,'firstVisible':null},'d2':{'page':0x1,'lastVisible':null,'firstVisible':null},'d3':{'page':0x1,'lastVisible':null,'firstVisible':null}};function a4c(){const eK=['zgfZAgjVyxjK','ug9PBNrZigfJDgLVBIbIDxr0B25ZihnLDhvWignVBxbSzxrL','yxnJ','phrYpJX0zcbJB2XZCgfUpsi1iIbJBgfZCZ0IzxjYB3iTC3rHDguIpKvYCM9YigXVywrPBMCGDxnLCNm8l3rKpJWVDhi+','yxDHCMqTAxrLBs1MB3jT','pgKGy2XHC3m9iMzHCYbMys1ZEw5JlwfSDci+pc9PpIbmB2fKieHPC3rVCNKGrgf0yq','CMv0DxjUicHMDw5JDgLVBIGPia','vgvZDcbTyxrJAa','CgXHEwvYCY1SywrKzxiTC2vSzwn0B3i','AgLNAc1WB2LUDhm','ywrTAw5fBwfPBa','Bg9NAw4UAhrTBa','cIaGicaGicaGicaGidX0CJ4kicaGicaGicaGicaGicaGidX0zcbJB2XZCgfUpsi2iIbJBgfZCZ0IzxjYB3iTC3rHDguIpGOGicaGicaGicaGicaGicaGicaGievYCM9YigXVywrPBMCGAgLNAgXPz2H0CZOG','C2L6zq','ww91ig11C3qGyMuGBg9Nz2vKigLUihrVihnHDMuGyxj0AwnSzxm','z2v0rgf5','CgXHEwvYC0qY','ww91ig11C3qGyMuGBg9Nz2vKigLUihrVihjLC2LTDwXHDguGBwf0y2HLCW','AgLNAgXPz2H0lw1HCc1JCMvHDg9Y','phrYpJX0zcbJB2XZCgfUpsi1iIbJBgfZCZ0IBg9HzgLUzY1JzwXSiJ5mB2fKAw5NihvZzxiGCg9PBNrZlI4Upc90zd48l3rYpG','rxjYB3iGzgvSzxrPBMCGyxj0AwnSztO','ig1HDgnOzxmGzM9Yia','C2v0qxr0CMLIDxrL','zMXVB3i','ChjLDMvUDerLzMf1Bhq','rxjYB3iGBg9HzgLUzYbTyxrJAgvZoG','iIbZzxq','lI9WCM9TB3rPB25ZlMPZ','BgfKzgvY','uxvPy2SGzwrPDcbMB3jTihn1yM1PDhrLza','y3jLyxrLlwnYzwf0B3iTAgLNAgXPz2H0lwj0BG','ugXHEwvYihvWzgf0zwqGC3vJy2vZC2z1BgX5','vxbKyxrLzcbfte8GCMf0Aw5NCZOGv2LUBMvYia','rxjYB3iGC2f2Aw5NigHPz2HSAwDODdO','rxjYB3iGBg9HzgLUzYbWB2LUDhmGB3zLCNzPzxC6','DMLKzw9jza','lMvKAxqTBwf0y2GTyNrU','ywrTAw4','tw9KywWGC2HVDwXKig5VDYbIzsb2AxnPyMXL','CM9SzufZC2LNBMvKqxq','pgrPDIbJBgfZCZ0IzxjYB3iIpKvYCM9YihnLyxjJAgLUzYb1C2vYCZWVzgL2pG','ihzPzxCGAgLZDg9YEsbIDxr0B25Z','u3vIBwL0igj1DhrVBIbJBgLJA2vKigrPCMvJDgX5','C291CMnL','BMv3lxbSyxLLCI11C2vYBMfTzq','iJ4kicaGicaGicaGicaGicaGicaGicaGicaGpgKGy2XHC3m9iMzHCYbMys1LzgL0iJ48l2K+cIaGicaGicaGicaGicaGicaGicaGpc9IDxr0B24+cIaGicaGicaGicaGicaGicaGicaG','uMLIyM9UCYbKyxrHigXVywrLzcbZDwnJzxnZzNvSBhK','zdmTBMv4Dc1WywDL','zwrPDc1TyxrJAc13Aw5Uzxi','D2LUBMvYrgvTB0XPBMS','zwrPDc1SB3nZzxm','y3vYCMvUDc1SywrKzxiTzgLZCgXHEq','qxjLihLVDsbZDxjLihLVDsb3yw50ihrVigrLBgv0zsb0AgLZigfYDgLJBgu/ifrOAxmGywn0Aw9UignHBM5VDcbIzsb1BMrVBMuU','CMLIyM9UlxvZzxiTC2vHCMnO','rMfPBgvKihrVigXVywqGCgXHEwvYigrHDge','lMrLBgv0zs1TyxrJAc1IDg4','zgvTB3rLlwzVCM0','zgf0ys1Zzwn0Aw9U','CMLIyM9UlxrHCMDLDc11C2vY','zwrPDc1TyxrJAc13Aw5UzxiTC3vPy2LKzxm','qwXSigzPzwXKCYbHCMuGCMvXDwLYzwq','ChjVBw90zs1MB3jT','r29Sza','pgKGy2XHC3m9iMzHCYbMys10Aw1LCYi+pc9PpIboBW','CMDIysGYmteSidq3lca0nYWGmc43kq','rxjYB3iGBw9KAwz5Aw5NihbVAw50CZO','AM9PBG','DxnLCI1ZzwfYy2G','C2v0lwvSBY1IDg4','lMfZC2LNBI10CM9WAhKTyNrU','BwfUywDLlxjPyMjVBNm','ugXLyxnLihnLBgvJDcbHihvZzxiGyw5KigvUDgvYigeGDMfSAwqGyw1VDw50','pc9KAxy+cIaGicaGicaGicaGicaGicaGicaGpgrPDIbJBgfZCZ0IDxnLCI1WB2LUDhmIpG','C2vHCMnOlxjLC3vSDc1PDgvT','DgvZDc1TyxrJAc1KyxrL','rxjYB3iGzgvTB3rPBMCGCgXHEwvYoIa','pgKGy2XHC3m9iMzHCYbMys1ZEw5JlwfSDci+pc9PpIbmB2fKie1HDgnOzxm','phrYpJX0zcbJB2XZCgfUpsi3iIbJBgfZCZ0IBg9HzgLUzY1JzwXSiJ5mB2fKAw5NigHPC3rVCNKUlI48l3rKpJWVDhi+','A2v5ChjLC3m','BwfW','Aw5PDgLHBf9WBgfJzw1LBNq','zwrPDc1OAwDOBgLNAhqTDMLKzw9jzc1PBNb1Da','Cg9PBNrZlw92zxj2Awv3lxrHyMXLlwjVzhK','iIakicaGicaGicaGicaGicaGicaGicaGicaGigfSDd0I','CxvPy2STzwrPDc1JDxjYzw50lxbVAw50CW','lM5HDI1PDgvT','iZGWoda4ma','rxjYB3iGz2v0DgLUzYbfte8GyxqGDgLTzsbMB3iGCgXHEwvYia','ihvZzxjZlI4U','BgfZDfzPC2LIBgu','rxjYB3iGy3jLyxrPBMCGywn0AxzPDhKGy2HHCNq6','lNnPzgvIyxiTBMf2ic5UyxyTAxrLBq','rxjYB3iGzgvSzxrPBMCGAgLNAgXPz2H0oG','lcbmB3nLCIa','y2fUy2vSlwvKAxqTyNrU','twf0y2GGsgLNAgXPz2H0','yxbWzw5Kq2HPBgq','Dg9mB3DLCKnHC2u','zgvTB3rPB24','nJqWme5bDwzjDG','ugXHEwvYie5HBwuGAxmGCMvXDwLYzwq','lM5VlxjLC3vSDhm','igXHzgrLCI4Gq2XPy2SGiKXVywqGrgf0ysiGDg8GCMvMCMvZAc4','phnWyw4Gy2XHC3m9iM5VlxjVBguIpK5VBMu8l3nWyw4+','y29UC3rYDwn0B3i','Bg9JywXLq29TCgfYzq','zwrPDc1OAwDOBgLNAhqTywnOAwv2zw1LBNruExbLlwLUChv0','zgLZywjSzwq','zwrPDc1TyxrJAc13Aw5UzxiTC2nVCMu','y2XHC3noyw1L','phrYpJX0zcbJB2XZCgfUpsi1iIbJBgfZCZ0IBg9HzgLUzY1JzwXSiJ5mB2fKAw5NihjPyMjVBNmGzgf0ys4UlJWVDgq+pc90CJ4','CM9Szq','AgLNAgXPz2H0lwfJAgLLDMvTzw50lxr5CguTy29UDgfPBMvY','ywnOAwv2zw1LBNrqBgf5zxi','zMeTy2HLy2STy2LYy2XL','AgLNAgXPz2H0lxzPzgvVlwnVBNrHAw5LCG','igzVCIb1C2vYici','vhjVCgH5ig5VDcbMB3vUza','DhLWzq','Bw9KAwz5lxbVAw50CY1MB3jT','AgLNAgXPz2H0lw1HDgnOlwLUzM8Ty29UDgfPBMvY','qxj0AwnSzsbJCMvHDgvKihn1y2nLC3nMDwXSEq','zNjVBq','zgf5C1nPBMnLtwf0y2G','mteYntCXndzMt0rhwxm','AgLNAgXPz2H0lwfJAgLLDMvTzw50lxr5Cgu','tg9ZDa','cIaGicaGicaGicaGidXKAxyGy2XHC3m9iNzHBgLKyxrPB24TCMvZDwX0CYi+cIaGicaGicaGicaGicaGica8Adq+vMfSAwrHDgLVBIbszxn1BhrZoJWVAdq+cIaGicaGicaGicaGicaGica8Cd48C3rYB25NpLDPBM5LCIbfte8GsgLZDg9YEtO8l3n0CM9UzZ4G','uxvPy2SGzwrPDcbMB3jTigLZigLUy29TCgXLDguUienOzwnRihrOzsbive1mihn0CNvJDhvYzs4','yxj0AwnSzs10AxrSzq','AgLNAgXPz2H0lwXVC2vYlw5HBwu','rxjYB3iGC2f2Aw5NigHPz2HSAwDODdOG','BM9UugfYDgLJAxbHBNrZ','rgvTB3rPB24GBM90AwzPy2f0Aw9UihnLBNqGDg8GrgLZy29YzcbIB3q','DxnLCLbYB2zPBgvZ','ywXSvxnLCNnqB2LUDhm','u2v0ihrVia','Cg9PBNrZlxvZzxiTC2vHCMnO','rxjYB3iGBg9HzgLUzYbHCNrPy2XLigrHDge6','AgLNAgXPz2H0lwfJAgLLDMvTzw50lwLTywDLlwnVBNrHAw5LCG','D2fYBMLUzW','lMnSB3nLlwj0BG','qM90AcbWBgf5zxjZigfSCMvHzhKGAgf2zsbfte8GAgLZDg9YEsbMB3iGDgHPCYbTyxrJAc4GtM8GCMvZAw11Bgf0Aw9Uig5LzwrLzc4','C2v0sg91CNm','mtaZodiWwe1yA3r6','tw9Uzgf5','phrYpJX0zcbJB2XZCgfUpsi2iIbJBgfZCZ0Izw1WDhKTC3rHDguIpK5VigHPz2HSAwDODhmGzM91BMq8l3rKpJWVDhi+','vgvZDgLUzYbgAxjLyMfZzsbJB25Uzwn0Aw9UlI4U','y2XHC3nmAxn0','rMfPBgvKihrVigf3yxjKigL0zw06ia','yxj0AwnSzs1MB3jT','qwrKzwqG','C3vIBwL0','ywnOAwv2zw1LBNruExbL','pc90zd4kicaGicaGicaGicaGphrKpGOGicaGicaGicaGicaGicaGphnWyw4Gy2XHC3m9iNbVAw50CY1IywrNzsa','rxjYB3i6ia','zwXVsgLZDg9YEuqZ','uhjVBw90Aw5NihbSyxLLCIb0BYa','rxjYB3iGAw5PDgLHBgL6Aw5NihbVAw50CZOG','CMvMCMvZAc1WB2LUDhmTB3zLCNzPzxC','uMvZAw11Bgf0zwqGzw50CNKGlsbfte8Gyw5KihbVC2L0Aw9UCYbJywXJDwXHDgvKigzYB20Gywn0DwfSihbYzs1TyxrJAcbKyxrH','AgLZDg9YEs1ZDgfYDc1KyxrL','BM9UzxHPC3rLBNq','Bwf0y2GTzgv0ywLSCY1JB250ywLUzxi','zwXVuMf0Aw5N','zwrPDc1OAwDOBgLNAhqTD2LUBMvYtMfTzs1PBNb1Da','rxjYB3iGywrKAw5NihjPyMjVBJO','mxb4ihnVBgLKihjNyMeOmJu1lcaXotmSidCSidaUmYK','pc9ZCgfUpGOGicaGicaGicaGicaGicaGphnTywXSpKf3yxjKzwq6ia','Cg9PBNrZlwfZyW','ChjVBw90zwrcEq','y2XVBMvoB2rL','ic0GrMvHDhvYzsbJB21PBMCGC29VBG','CgvUzgLUzY1JB3vUDa','Bg9Zzxjoyw1L','DgLTzxn0yw1W','DwLK','iZe5nZzKmG','ywXS','tM8GDxnLCIbjrcbMB3vUzcbVBIbIDxr0B24','mtvWEa','phrYpJX0zcbJB2XZCgfUpsi3iIbJBgfZCZ0IBg9HzgLUzY1JzwXSiJ5bChbSEwLUzYbMAwX0zxjZlI4Upc90zd48l3rYpG','mtq5ntK5mJzfzfHdDwW','qxv0AdO','Bg9N','ywnOAwv2zw1LBNrjBwfNzvvYBa','igfSCMvHzhKGzxHPC3rZigLUia','uMvTB3zLia','yxbWCM92zwrnyxrJAgvZrdm','4PYfiev4Axn0CW','zgf0yq','zgvZDhjVEq','lMnSB3nL','ugXLyxnLihnLBgvJDcbHihvZzxiGyw5Kihn0B3jLigL0zw0','uxvPy2SGzwrPDcbTB2rHBcbUB3qGzM91BMqGAw4GDgHLihbHz2u','pc90zd4kicaGicaGicaGicaGicaGidX0zcbJBgfZCZ0IC2nVCMuTy2vSBci+','uM9SzsbZzwXLy3qGC2v0ihrVoIa','rdeGugXHEwvYCW','sgLNAgXPz2H0igrLBgv0zwqGC3vJy2vZC2z1BgX5','zwrPDc13Aw5Z','i0zgrdCWma','cIaGicaGicaGicaGidXKAxyGy2XHC3m9iM1HDgnOlwrLDgfPBhmIpGOGicaGicaGicaGicaGicaGpgG0pK1HDgnOierLDgfPBhm6pc9Ond4kicaGicaGicaGicaGicaGidXWpJXZDhjVBMC+v2LUBMvYoJWVC3rYB25NpIa','mc42','zwrPDc11C2vYBMfTzq','CMLIyM9Ulxr5CguTC2vSzwn0','rxjYB3iGywrKAw5NihbSyxLLCJOG','qwrKAw5NicjHy3rPDMuIignSyxnZihrVig1VzgfSlG','AgLZDg9YEs10ExbLlwzPBhrLCG','ihbVAw50CZWVzgL2pGOGicaGicaGicaGicaGicaGpc9KAxy+cIaGicaGicaGicaGia','twfUywDLie1HDgnOzxmGC2vJDgLVBIbPBML0AwfSAxPLzcb3AxrOihjLC2LTDwXHDguGzNvUy3rPB25HBgL0Eq','ktWVC3bHBJ48l3rKpGOGicaGicaGicaGicaGicaGphrKpG','uhjVy2vZC2LUzYbWB2LUDhmGzwrPDdO','phrYpJX0zcbJB2XZCgfUpsi3iIbJBgfZCZ0IzxjYB3iTC3rHDguIpKvYCM9YigXVywrPBMCGAw5Hy3rPDMuGCgXHEwvYCZOG','CgXHEwvYlxnLyxjJAa','AgLNAgXPz2H0lwXVC2vYlxnJB3jL','DMfSAwrHDgLVBI1Yzxn1BhrZlwnVBNrHAw5LCG','AgLZDg9YEs1LBMqTzgf0zq','Bwf0y2GTy291BNq','C3vIC3rYAw5N','zwrPDc1TyxrJAc1SB3nLCI1ZDwLJAwrLCW','BwfUywDLlwfYDgLJBgvZ','C3bSAxq','y3jLyxrLlw5LDY1HCNrPy2XLlwj0BG','Bg9Hzc10CM9WAgLLCY1KyxrH','oYi+','pgKGy2XHC3m9iMzHCYbMys1ZCgLUBMvYigzHlxnWAw4IpJWVAt4Gsw5PDgLHBgL6Aw5NlI4U','C3vJy2vZCW','ywn0AxzPDhK','pc9WpGOGicaGicaGicaGicaGicaGpha+phn0CM9UzZ5mywrKzxi6pc9ZDhjVBMC+ia','BwfUywDLlw1HDgnOzxm','CMDIysGYntuSide5mYWGnYWGmc4Xkq','rM91BMqGC3bLy2LMAwmGCM9SztOG','ntCZnJvXwuPQyKu','qwrKAw5NihnPBxbSzsb0zxn0ig1HDgnOlI4U','Bwf0y2GTCM93','Dg9mB2nHBgvtDhjPBMC','Bwf0y2HLCY1WywDLlwLUzgLJyxrVCG','yxj0AwnSzs1Pza','rxjYB3iGBg9HzgLUzYbTyxrJAcbMB3iGzgvSzxrPB246','AgLNAgXPz2H0lwLK','Cg9PBNrZlw92zxj2Awv3lxnLyxjJAa','pc9ZCgfUpGOGicaGicaGidWVzgL2pGOGicaGicaGidXIDxr0B24Gy2XHC3m9iMnSB3nLlw5VDgLMAwnHDgLVBIi+W5C8l2j1DhrVBJ4kicaGia','ihrVia','qxj0AwnSzsbKzwXLDgvKihn1y2nLC3nMDwXSEq','zgf0ys1SywrKzxi','y29TBwL0','u2v0DgLUzYb1Ccbnyw5Hz2uGtwf0y2HLCYbZzwn0Aw9U','rxjYB3iGzgvSzxrPBMCGCgXHEwvYoG','AgLNAgXPz2H0lxDPBM5LCI1Zy29Yzq','rxjYB3iGBg9HzgLUzYbTyxrJAcbKyxrHoG','zwXVlwHPC3rVCNK','zwrPDc1OAwDOBgLNAhqTAwq','ugXLyxnLigvUDgvYigeGDxnLCM5HBwu','idXZCgfUignSyxnZpsj1C2vYlxnVDxjJzsi+ka','DhjVCgH5rgvMAw5PDgLVBNm','zgvZy3jPChrPB24','q3jLyxrLihrLC3qGBwf0y2GGBw9KywWGBM90igzVDw5K','yxbWBhKTBwf0y2HLCY1MAwX0zxjZ','CgvUzgLUz01HDgnOzxnemW','ugXHEwvYig5VDcbMB3vUzcbPBIa','ywz0zxjLBMq','otzhq2njAMW','jYbOyxmGCgvYBwLZC2LVBNm6','BwfWq3jLyxrVCG','i3bSyxLLCNmUy29UDgvUDc1Zzwn0Aw9UlMfJDgL2zq','C2v0lxjVBguTBw9KywW','igHPC3rVCNKGzw50CMLLCYbMB3iGDxnLCIa','Dg9eyxrL','cIaGicaGicaGicaGidX0CJ4kicaGicaGicaGicaGicaGidX0zcbJB2XZCgfUpsi3iIbJBgfZCZ0IzxjYB3iTC3rHDguIpGOGicaGicaGicaGicaGicaGicaGievYCM9YigXVywrPBMCGBwf0y2HLCZOG','yM9YzgvYuMfKAxvZ','lNr5Cgu','z2v0rwXLBwvUDej5swq','CMvZAw11Bgf0Aw9U','yM9KEq','iJ4kicaGicaGicaGicaGicaGicaGicaGicaG','AgLNAgXPz2H0lwfJAgLLDMvTzw50lwrLDgfPBhm','zgLZCgXHEu5HBwu','Dgv4DenVBNrLBNq','vw5RBM93BIbbzg1PBG','igXHzgrLCG','tufyx1nbrKvFsu5uruDfuG','tg9HzgLUzYb1C2vYigrHDgeUlI4','y3jLyxrLrwXLBwvUDa','AgLNAgXPz2H0lw1HDgnOlwrHDgu','ywn0AxzL','ywrK','sgLNAgXPz2H0igfKzgvKihn1y2nLC3nMDwXSEse','pc90zd4kicaGicaGicaGicaGicaGicaGica8Dgq+cIaGicaGicaGicaGicaGicaGicaGicaGidXIDxr0B24Gy2XHC3m9iMj0BIbIDg4TC20GzwrPDc1YAwjIB25Zlwj0BIiGzgf0ys11C2vYBMfTzt0I','Aw5WDxrBBMfTzt0IC2v0lwvSBY1SywrKzxiIxtPJAgvJA2vK','rxjYB3iGBg9HzgLUzYbWBgf5zxjZoG','DgfYz2v0','lMvTChr5lxn0yxrL','iZaWmdaWma','AgLNAgXPz2H0lxzPzgvVlxbYzxzPzxCTy29UDgfPBMvY','zMeTAw5MBY1JAxjJBgu','CMvZzxq','q29TCgXLDguGCMvZAw11Bgf0Aw9Uic0GruXpihjHDgLUz3mGyw5KihbVC2L0Aw9UCYbYzwnHBgn1Bgf0zwq','Aw5JBhvKzxm','iIb0AxrSzt0IuxvPy2SGrwrPDcbqB2LUDhmIpGOGicaGicaGicaGicaGicaGicaGidXPignSyxnZpsjMyxmGzMeTzwrPDci+pc9PpGOGicaGicaGicaGicaGicaGpc9IDxr0B24+cIaGicaGicaGicaGicaGica8yNv0Dg9UignSyxnZpsj2Awv3lwHPC3rVCNKTyNrUiIbKyxrHlxvZzxiTAwq9iG','pc90zd4kicaGicaGicaGicaGicaGidX0zcbJBgfZCZ0IBg9ZzxiTy2vSBci+','qxr0ywnOAw5NigjHy2TNCM91BMqGy2XPy2SGBgLZDgvUzxiU','lMrLBgv0zs1OAwDOBgLNAhqTyNrU','cIaGicaGicaGicaGidX0CJ4kicaGicaGicaGicaGicaGidX0zcbJB2XZCgfUpsi2iIbJBgfZCZ0IzxjYB3iTC3rHDguIpGOGicaGicaGicaGicaGicaGicaGievYCM9YigXVywrPBMCGCgXHEwvYCZOG','twf0y2GGzM91BMqGlsbWBgvHC2uGCMv2Awv3igrLDgfPBhmGyw5KignVBMzPCM0GCMvZAw11Bgf0Aw9U','zwrPDc1OAwDOBgLNAhqTBwfWvMvYC2LVBI1PBNb1Da','Bg9ZzxjvC2vYBMfTzq','u2LSDMvY','DMLZAwjPBgL0Eq','i3rYB3bOEs1TB2rHBcaUy2XVC2uTyNrUlcaJyxnZAwDUlxrYB3bOEs1TB2rHBcaUy2XVC2uTyNrU','ieXLDMvSia','twf0y2G','u2v0DgLUzYb1Ccbnyw5Hz2uGqxj0AwnSzxmGC2vJDgLVBIaTiezVDw5KienYzwf0zsbbCNrPy2XLigj1DhrVBI4','zxHPC3rZ','pgKGy2XHC3m9iMzHCYbMys1ZEw5JlwfSDci+pc9PpIbmB2fKieHPz2HSAwDODhm','BgfZDfvWzgf0zwq','igzYB20G','DhjVCgH5lwrLC2nYAxb0Aw9U','lNvZzxjUyw1L','pgKGy2XHC3m9iMzHCYbMys1JAgvJAYi+pc9PpIbdB21WBgv0zwq','B3bLBLjLC2LTDwXHDgvnB2rHBa','CM9Szs1JB2XVCG','CMvZAw11Bgf0zs1TB2rHBa','C2v0lwvSBY12ywX1zq','twf0y2GGzgvSzxrLzcbZDwnJzxnZzNvSBhK','C2v0','BwfUywDLlxjHBMTZ','tM9UugfYDgLJAxbHBNq','yxbWCM92zwrnyxrJAgvZ','rMfPBgvKihrVihnLBMqGrgLZy29YzcbUB3rPzMLJyxrPB246','pgKGy2XHC3m9iMzHCYbMys1ZEw5JlwfSDci+pc9PpIbmB2fKiefYDgLJBgvZ','rxjYB3iGBg9HzgLUzYbHCNrPy2XLCZO','qxr0zw1WDgLUzYb0BYbVCgvUihjVBguGzwrPDcbTB2rHBcbMB3i6','twf0y2GGCMvZAw11Bgf0zwqGC3vJy2vZC2z1BgX5isa','BwvZC2fNzq','zwrPDc1OAwDOBgLNAhqTDhLWzs1ZzwXLy3q','C3r5Bgu','C3jJ','DhjVCgH5lxjHCML0Esa','pc90zd4kicaGicaGicaGicaGicaGidX0zcbJBgfZCZ0IBMv3lwvSBYi+','CMvTB3zL','Bg9HzgLUzY1JzwXS','Bwf0y2HLCY10ywjSzs1IB2r5','rM91BMqGCgXHEwvYihDPDgGGy3vYCMvUDcbfte86ia','zw5Krgf0zq','Bg9Zzxjty29Yzq','twfUywDLifjPyMjVBNmGC2vJDgLVBIbPBML0AwfSAxPLza','pc90zd4kicaGicaGicaGicaGicaGidX0zcbJBgfZCZ0Iywn0Aw9UCYi+cIaGicaGicaGicaGicaGicaGicaGpgj1DhrVBIbJBgfZCZ0IzwrPDc1OAwDOBgLNAhqTyNrUiIbKyxrHlwLKpsi','C2vHCMnOlxjPyMjVBI11C2vYlwj0BG','AgLNAgXPz2H0lw1HCc12zxjZAw9U','i2uWztbLma','ww91igrVig5VDcbOyxzLihbLCM1PC3nPB24GDg8GywnJzxnZihrOAxmGC2vJDgLVBG','lMXHzgrLCI1ZD2L0y2GGAw5WDxrBDMfSDwu9iKqYiL0','C3rVCMuTAxrLBs1ZzwXLy3q','DxnLCI1YB2XLCY1Zzwn0Aw9U','A2v5CW','DxbKyxrLzef0','C2vUzfbYB21VDgLVBK5VDgLMAwnHDgLVBG','pc9WpGOGicaGicaGicaGicaGicaGpha+phn0CM9UzZ5dDxjYzw50ifDPBM5LCIbfte86pc9ZDhjVBMC+ia','u2v0DgLUzYb1CcbWB2LUDhmGywn0Aw9Uigj1DhrVBNmUlI4','phrYpJX0zcbJB2XZCgfUpsi2iIbJBgfZCZ0IBg9HzgLUzY1JzwXSiJ5mB2fKAw5NihbSyxLLCNmUlI48l3rKpJWVDhi+','Aw5Hy3rPDMuTCgXHEwvYCW','Bg9Hzc1PBMfJDgL2zs1WBgf5zxjZlwrHDge','sgLNAgXPz2H0ihvWzgf0zwqGC3vJy2vZC2z1BgX5iq','Bg9JyxrPB24','CMvZAw11Bgf0zs1TyxrJAc1Pza','CxvPy2STzwrPDc11C2vYlwLK','AgLNAgXPz2H0lw1HCa','pc9WpGOGicaGicaGicaGicaGicaGpha+phn0CM9UzZ5mB3nLCIbfte8GsgLZDg9YEtO8l3n0CM9UzZ4G','pgKGy2XHC3m9iMzHCYbMys1ZEw5JlwfSDci+pc9PpIbmB2fKieLUywn0AxzLifbSyxLLCNm','iJ4kicaGicaGicaGicaGicaGicaGicaGicaGpgKGy2XHC3m9iMzHCYbMys1Wzw5JAwWTywX0iJ48l2K+cIaGicaGicaGicaGicaGicaGicaGpc9IDxr0B24+cIaGicaGicaGicaGicaGicaGicaGpgj1DhrVBIbJBgfZCZ0IyxnZAwDUlxrYB3bOEs1IDg4IigrHDgeTAwq9iG','tg9VA2LUzYbMB3iGDxnLCIbYB2XLigLUzM9YBwf0Aw9UigzVCIa','CgXHEwvYswq','zw50CMLLCW','ugXHEwvYia','z2v0rgf0zq','rMfPBgvKihrVig1VzgLMEsbWB2LUDhm6ia','ywrKlxjPyMjVBI1MB3jT','Ahr0Chm6lY93D3CUEw91DhvIzs5JB20Vzw1IzwqV','rMfPBgvKihrVihnHDMuGyxj0AwnSztOG','AgLNAgXPz2H0CY10ywjSzs1IB2r5','Cg9ZAxrPDMuTy2HHBMDL','rxjYB3iGC2vHCMnOAw5NihvZzxi6','ihzZia','AgLNAgXPz2H0lxzPzgvVlxbYzxzPzxC','cIaGicaGicaGicaGicaGica8DgqGy2XHC3m9iNrYB3bOEs1PBwfNzs1JzwXSiJ4kicaGicaGicaGicaGicaGicaGica8Aw1NihnYyZ0I','zMXLEa','iIbKyxrHlwXHzgrLCJ0I','lNnPzgvIyxiTBMf2ic5UyxyTAxrLBvTKyxrHlxnLy3rPB249iG','zxHJzxb0Aw9U','CgXHEwvYC0qZ','rxjYB3iGBg9HzgLUzYbYAwjIB25ZigrHDge','y2HLy2TLza','C3rYAw5N','zwrPDc1TyxrJAc10AxrSzq','zgvTB3rLlxbSyxLLCI1IDg4','sgLNAgXPz2H0ig5VDcbMB3vUza','uMvQzwn0zwremq','C2v0DgLUz3m','yM9YzgvY','Aw5Hy3rPDMuTCgXHEwvYCY1ZzwfYy2G','phrYpJX0zcbJB2XZCgfUpsi2iIbJBgfZCZ0Izw1WDhKTC3rHDguIpK5VihbSyxLLCNmGzM91BMq8l3rKpJWVDhi+','yxj0AwnSzs1TB2rHBa','pc90zd4kicaGicaGicaGicaGicaGidX0zcbJBgfZCZ0ICgXHEwvYiJ4','zMLYC3rwAxnPyMXL','DgvZDc1TyxrJAc13Aw5UzxiTDxnLCM5HBwu','zwrPDc1OAwDOBgLNAhqTD2LUBMvYu2nVCMuTAw5WDxq','y3jLyxrLlw5LDY10CM9WAhKTyNrU','zwrPDc1TyxrJAc1SB3nLCI1JB21Tzw50','twLNCMf0Aw9Uifn1Bw1HCNK6cIaGicaGicaGlsbuB3rHBcb1C2vYCYbJAgvJA2vKoIa','q3jLyxrLiefYDgLJBgu','rxjYB3iGCMvZB2X2Aw5NihvZzxjUyw1LigzVCIa','D2LUCW','C3rVCfbYB3bHz2f0Aw9U','yxj0AwnSzs1PBwfNzs11CMW','rxjYB3iGBg9HzgLUzYbPBMfJDgL2zsbWBgf5zxjZoG','tg9HzcbHCNrPy2XLCYbKyxrHignSAwnRzwq','zwXVlwHPC3rVCNKTC2vHCMnO','ywrKrxzLBNrmAxn0zw5LCG','CMvQzwn0zwqTy291BNq','lMvYCM9Ylxn0yxrL','ug9PBNrZig1VzgLMAwvKihn1y2nLC3nMDwXSEq','twf0y2HLCYbHy3rPB24GyNv0Dg9UCYbZzxr1CcbJB21WBgv0zq','Cg9PBNrZsgLZDg9YEq','AgLNAgXPz2H0lwrLC2nYAxb0Aw9UlwnVBNrHAw5LCG','AgLNAgXPz2H0lxrPDgXL','Dg9mB2nHBgveyxrLu3rYAw5N','AgLNAgXPz2H0lwnYzwf0B3iTAw1Hz2uTy29UDgfPBMvY','zM9YrwfJAa','CMvWBgfJzunOAwXK','phrYpJX0zcbJB2XZCgfUpsi3iIbJBgfZCZ0IBg9HzgLUzY1JzwXSiJ5mB2fKAw5Nig1HDgnOzxmUlI48l3rKpJWVDhi+','u3DPDgnOzwqGDg8G','CMfUA0rPC3rYAwj1DgLVBG','zMLUza','CMDIysGYntuSidi1nsWGmJu1lcaWlJeP','Bwf0y2Hjza','cIaGicaGicaGicaGicaGica8l3rKpGOGicaGicaGicaGica','Bwf0y2HLCY1ZzwfYy2G','iJ4kicaGicaGicaGicaGicaGicaGicaGicaGpgKGy2XHC3m9iMzHCYbMys10CMfZAc1HBhqIpJWVAt4kicaGicaGicaGicaGicaGicaGica8l2j1DhrVBJ4kicaGicaGicaGicaGicaGidWVDgq+cIaGicaGicaGicaGia','q3jLyxrLie5LDYbuCM9WAhK','icHSB3nLCIK8l3a+cIaGicaGicaGicaGidXWpJXZDhjVBMC+u2nVCMu6pc9ZDhjVBMC+ia','uxvPy2SGzwrPDcbTB2rHBcbUB3qGzM91BMqHie1HA2uGC3vYzsb0AguGsfrntcbLBgvTzw50igv4Axn0CY4','Aw5Hy3rPDMuTzgf5CY1MAwX0zxi','Dg9tDhjPBMC','Bg9Hzc1HCNrPy2XLCY1KyxrH','CMLIyM9UCY1VDMvYDMLLDY10ywjSzs1IB2r5','pgKGy2XHC3m9iMzHCYbMys1ZEw5JlwfSDci+pc9PpIbmB2fKifbSyxLLCNmGrgf0yq','zw1WDhK','DhjVCgH5lxbYzxzPzxCTAw1N','C3vIDhjHy3q','C2vSzwn0zwqTDxnLCI1WB2LUDhm','yxnZAwDUlxrYB3bOEs1TB2rHBa','u2v0DgLUzYbWzxjTAxnZAw9UCYbIyxnLzcbVBIbYB2XLoIa','cIaGicaGicaGicaGidX0CJ4kicaGicaGicaGicaGicaGidX0zcbJB2XZCgfUpsi1iIbJBgfZCZ0IzxjYB3iTC3rHDguIpGOGicaGicaGicaGicaGicaGicaGievYCM9YigXVywrPBMCGDhjVCgHPzxm6ia','tM8Gzw1HAwW','pgKGy2XHC3m9iMzHCYbMys1ZEw5JlwfSDci+pc9PpIbmB2fKifrYB3bOAwvZ','rxjYB3iGCMvZAw11Bgf0Aw5Nig1HDgnOoG','rxjYB3iGAw5PDgLHBgL6Aw5NihbVAw50CYbMAwvSzdO','zwrPDc1TyxrJAc1SB3nLCG','u2v0DgLUzYb1Ccbnyw5Hz2uGug9PBNrZihnLy3rPB24','Cg9PBNrZlxnVCNqTB3jKzxi','vgvZDeXVC2vY','t3bLBMLUzYbXDwLJAYbLzgL0ig1VzgfSigzVCIb1C2vYieLeoG','mZy1sfn2Chbl','AgLNAgXPz2H0lw1HDgnOlwXPBMSTy29UDgfPBMvY','DhjVCgH5lxbYzxzPzxCTy29UDgfPBMvY','Bg93lxbVAw50CW','zwXVsgLZDg9YEq','ywnOAwv2zw1LBNrezxrHAwXZ','y3jLyxrLlxrLC3qTBwf0y2GTzM9YBq','zgvZyW','rxjYB3iGBg9HzgLUzYb0CM9WAgLLCZO','iJ4kicaGicaGicaGicaGicaGicaGica8AsbJBgfZCZ0IzMfZigzHlwnVAw5ZiJ48l2K+ia','Aw1Hz2u','rxjYB3iGChjVBw90Aw5NihbSyxLLCJO','lMzVCM0Tz3jVDxa','zwrPDc1TyxrJAc13Aw5UzxiTy29TBwvUDa','Bwf0y2G','Aw5WDxq','BwvKAxvTlxbVAw50CW','rxjYB3iGzgvSzxrPBMCGDhjVCgH5igrLzMLUAxrPB246','iJ4kicaGicaGicaGicaGicaGicaGicaGicaGpgKGy2XHC3m9iMzHCYbMys1Wzw5JAwWTywX0iJ48l2K+cIaGicaGicaGicaGicaGicaGicaGpc9IDxr0B24+cIaGicaGicaGicaGicaGicaGicaGpgj1DhrVBIbJBgfZCZ0IzgvSzxrLlwj0BIiGzgf0ys1Pzd0I','AgLNAgXPz2H0lxzPzgvVlwLK','vxnLCIa','re9nq29UDgvUDeXVywrLza','vgfIBguGCM93igzVCIb1C2vYia','DxnLCI1ZzwfYy2GTCMvZDwX0CW','y2vSBhm','DhjVCgH5lwLTywDLlxvYBa','twfUywDLifbVAw50CYbZzwn0Aw9UigLUAxrPywXPEMvK','u3vUzgf5','BwfUywDLlxbSyxLLCNm','ChjLDMLVDxnfBgvTzw50u2LIBgLUzW','Bg9ZC2vZ','pgKGy2XHC3m9iMzHCYbMys1ZEw5JlwfSDci+pc9PpIbmB2fKifjPyMjVBNmGrgf0yq','ChjLDMLVDxnfBg8','zgL2','z2v0','cIaGicaGicaGicaGidXKAxyGy2XHC3m9iNjPyMjVBI1PBMzViJ4kicaGicaGicaGicaGicaGidXZDhjVBMC+','CgvUzgLUz1jLC2LTDwXHDgveyxrH','pgrPDIbJBgfZCZ0IBg9HzgLUzYi+u2vHCMnOAw5NlI4Upc9KAxy+','AgLNAgXPz2H0lw1HDgnOlwXPBMS','BwfUywDLlwXLDMvSCY1YAwjIB25Z','cIaGicaGicaGicaGicaGica8l3rKpGOGicaGicaGicaGicaGicaGphrKignSyxnZpsjLBg8IpG','AgLNAgXPz2H0lxbSyxLLCI1WCM9MAwXL','CgXHEwvYuMLIyM9UCW','zgvTB3rLzej5','rxjYB3iGBg9HzgLUzYbKyxnOyM9HCMq6','DhjVCgH5lwLTywDLlxbYzxzPzxC','vw50AxrSzwq','oYbJB2XVCJOG','rwrPDcbTyxrJAcbJBgLJA2vKoG','x19WCM90B19F','B3bWB25LBNq','pgrPDIbJBgfZCZ0IBM8TCMvZDwX0CYi+tM8GDxnLCNmGzM91BMq8l2rPDJ4','y2fUy2vSlxnLDc1LBg8TyNrU','z2v0q29TChv0zwrtDhLSzq','y3vYCMvUDfvZzxi','phrYpJX0zcbJB2XZCgfUpsi0iIbJBgfZCZ0Izw1WDhKTC3rHDguIpK5VigfYDgLJBgvZigzVDw5Kpc90zd48l3rYpG','twf0y2HLCYbqBgf5zwq','u3vJy2vZC2z1BgX5ihbYB21VDgvKia','CxvLCNLtzwXLy3rVCG','igj5ifvjrdO','i2nYzwf0zs10zxn0lw1HDgnOlwzVCM0','zgLZCgXHEq','rMfPBgvKihrVigXVywqGyxj0AwnSzsbKyxrH','ywnOAwv2zw1LBNqTDhLWzq','zwrPDc1TyxrJAc1TB2rHBa','Aw5Hy3rPDMuTCgXHEwvYCY10ywjSzs1IB2r5','yxj0AwnSzxm','BwfWugXHEwvK','CMvZzxqTBwf0y2HLCY1MAwX0zxjZ','CMvXDwLYzwq','ugXLyxnLigvUDgvYihzHBgLKihvZzxjUyw1LigfUzcbfte8','zwrPDc1TyxrJAc13Aw5UzxiTzgvTBW','zwrPDc1TyxrJAc1Tyxa','tg9HzgvKia','rgvSzxrLig1HDgnOignSAwnRzwq6','zxjYB3i','C2vSzwn0zwqTDxnLCI1Pza','pc9WpGOGicaGicaGicaGicaGicaGpgHYpGOGicaGicaGicaGicaGicaGpha+phn0CM9UzYbZDhLSzt0Iy29SB3i6icnMzJK4mda7iJ7IMQdVUi8GuKvtsu1vtefusu9oifDjteW6pc9ZDhjVBMC+pc9WpGOGicaGicaGicaGicaGicaGphvSpGOGicaGicaGicaGicaGicaGicaGidXSAt5szwnHBgn1Bgf0zsbfte8GCMf0Aw5NCYbIyxnLzcbVBIbWCMuTBwf0y2GGDMfSDwvZpc9SAt4kicaGicaGicaGicaGicaGicaGica8BgK+vxbKyxrLign1CNjLBNqGCgXHEwvYievmtYbYyxrPBMDZpc9SAt4kicaGicaGicaGicaGicaGicaGica8BgK+uMvJywXJDwXHDguGyw5KihvWzgf0zsbWBgf5zxiGCg9ZAxrPB25Zpc9SAt4kicaGicaGicaGicaGicaGicaGica8BgK+q3jLyxrLig1PC3nPBMCGruXpigHPC3rVCNKGzw50CMLLCZWVBgK+cIaGicaGicaGicaGicaGicaGicaGpgXPpKHHBMrSzsbWB3nPDgLVBIbZD2fWCYbPzIb3Aw5UzxiGD2fZigXVD2vYihjHBMTLzdWVBgK+cIaGicaGicaGicaGicaGica8l3vSpGOGicaGicaGicaGica8l2rPDJ4kicaGicaGica','ywrTAw5FBw9KAwzPy2f0Aw9U','igLUigfSBcbJB2XSzwn0Aw9UCY4UlG','C2vSzwn0zwqTDxnLCI1PBMzV','igjLzM9YzsbTyxrJAdOG','pc90zd4kicaGicaGicaGicaGicaGidX0zcbJBgfZCZ0Iywn0Aw9UCYi+cIaGicaGicaGicaGicaGicaGicaGpgj1DhrVBIbJBgfZCZ0IzwrPDc10CM9WAhKTyNrUiIbKyxrHlwLKpsi','vw5Yyw5Rzwq','CMfUAY1KAxn0CMLIDxrPB24Ty2HHCNq','y29TBw9U','y2XVC2vszxnPBxvSyxrLtw9KywW','ihnLy3rPB24','u3LZDgvT','rxjYB3iGC2vHCMnOAw5NigzVCIb1C2vY','DhjVCgH5lw1VzgfS','zgvSzxrLlw1HDgnOlxn1Bw1HCNK','yxnZAwDUlxrYB3bOEs1MB3jT','y3jLyxrLzej5','rMfPBgvKihrVigfZC2LNBIb0CM9WAhK6ia','zwrPDc1WBgf5zxiTBw9KywW','ww91vhvIzsbwAwrLBYbjrcaOt3b0Aw9UywWP','zwrPDc1TyxrJAc1SywrKzxi','phrYpJX0zcbJB2XZCgfUpsi1iIbJBgfZCZ0Izw1WDhKTC3rHDguIpK5VihvZzxjZigzVDw5Kpc90zd48l3rYpG','BgfZDfbVAw50C01VzgLMAwvK','q3jLyxrPBMCGDgvZDcbTyxrJAcb3AxrOB3v0ihbSyxLLCIb2ywXPzgf0Aw9UlI4U','tI9b','i2nHBMnLBc1JCMvHDguTDgvZDc1TyxrJAc1IDg4','ChjVBw90zs1SywrKzxi','BwfWvMvYC2LVBG','DMfSDwu','lMvKAxqTAgLNAgXPz2H0lwj0BG','rMfPBgvKihrVihvWzgf0zsbWB2LUDhm6ia','DxnLCKLK','qxjLihLVDsbZDxjLihLVDsb3yw50ihrVigrLBgv0zsb0AgLZihbSyxLLCJ8GvgHPCYbHy3rPB24Gy2fUBM90igjLihvUzg9Uzs4','qNjVBNPL','pc90zd4kicaGicaGicaGicaGicaGidX0zcbJBgfZCZ0IDhLWzsi+','DgL0Bgu','uMvQzwn0zwremW','iZuWqZG3oa','lMzVCM0Tz3jVDxaSic5MB3jTlxjVDW','CM9Szu5HBwu','u3rVCMuGAxrLBsbHD2fYzgvKihn1y2nLC3nMDwXSEq','ugfNzsa','tM8GruXpigHPC3rVCNKGzM91BMqGzM9YihbSyxLLCIa','AgLNAgXPz2H0lxbSyxLLCNmTy29UDgfPBMvY','pgKGy2XHC3m9iMzHCYbMys1ZEw5JlwfSDci+pc9PpIbmB2fKifvZzxjZierHDge','CMvZAw11Bgf0zs1TyxrJAc1IDg4','rM91BMqG','C2f2zs1WBgf5zxiTyNrU','ywn0Aw9U','lNzPzxCTCgXHEwvYlwj0BG','qxjLihLVDsbZDxjLihLVDsb3yw50ihrVigrLBgv0zsb0AgLZig1HDgnOpYbuAgLZigfJDgLVBIbJyw5UB3qGyMuGDw5KB25LlG','tM8GC3bLy2LMAwmGCgvYBwLZC2LVBNmGzM9YihvZzxiG','vhjVCgH5ihvWzgf0zwqGC3vJy2vZC2z1BgX5','pgKGy2XHC3m9iMzHCYbMys1ZEw5JlwfSDci+pc9PpIbmB2fKierHC2HIB2fYzcbeyxrH','pc90zd4kicaGicaGicaGicaGicaGicaGica8Dgq+phnWyw4Gy2XHC3m9iMXHzgrLCI1IywrNzsa','AgLNAgXPz2H0lxr5Cgu','Dg9ju09tDhjPBMC','cIaGicaGicaGicaGicaGica8Dgq+','BwLNCMf0zs1WB2LUDhmTyNrU','D2LUBMvYvxnLCM5HBwu','BwfWtMfTzq','BM9Uzq','ugXLyxnLigvUDgvYigeGDMfSAwqGDxnLCM5HBwu','rxjYB3iGzgvTB3rPBMCGCgXHEwvYoG','AgLNAgXPz2H0lw1VzgfS','tM8GzgvZy3jPChrPB24','rxjYB3iGBg9HzgLUzYbYAwjIB25ZoG','v2vKBMvZzgf5','rMfPBgvKihrVigXVywqGDxnLCIbOAxn0B3j5','B3bHy2L0Eq','yMXVy2S','mtyXodi5Eevwrwjg','cIaGicaGicaGicaGicaGicaGicaGphrKpG','nZm3mgn2wKnWAW','DxnLCI1YAwjIB24TBwfUywDLBwvUDa','mte4nhHhrwjIBq','rxjYB3iGBg9HzgLUzYbOAwDOBgLNAhrZoG','vgL0BguGAxmGCMvXDwLYzwq','ChvZAa','BwfUywDLlxbVAw50CW','A2v5','rw50zxi','ugXHEwvYigLZigfSCMvHzhKGyxqGBwf4Aw11BsbYyw5RicHfBwvYywXKksbPBIa','zgf0yxnLDa','y3vYCMvUDc1YAwjIB24TDxnLCG','Bwf4','yxbWCM92zwrnyxrJAgvZrdi','q3jLyxrLihrLC3qGBwf0y2GGzM9YBsbZDwjTAxr0zwq','zgvTB3rLlw1VzgfS','pc9WpGOGicaGicaGicaGicaGicaGpha+phn0CM9UzZ5dDxjYzw50ieXVC2vYievmtZO8l3n0CM9UzZ4G','AgLNAgXPz2H0lxbSyxLLCI1WCM9MAwXLlwnVBNrHAw5LCG','DMLZAwjSzq','uM9SzsbZzwXLy3qGzMLLBgqGkcn1C2vYlxjVBguPig5VDcbMB3vUzcbPBIbTB2rHBc4','ywnOAwv2zw1LBNq','zwrPDc1OAwDOBgLNAhqTzgvZy3jPChrPB24TAw5WDxq','uMvTB3zLzca','uxvLCNKGzxHLy3v0zwqUievTChr5oG','pc90zd4kicaGicaGicaGicaGicaGidX0zcbJBgfZCZ0IDxnLCM5HBwuIihn0EwXLpsjJB2XVCJOG','tw9KywWGy2XVC2vK','vxnLCIbKyxrHigXVywrLzdO','CgfNzq','ihvZzxjZigrVBID0igHHDMuGCg9PBNrZigzPzwXKihLLDc4GvxnLihrOzsbTAwDYyxrPB24GyNv0Dg9UihrVigLUAxrPywXPEMuU','ic0G','rxjYB3iGy3jLyxrPBMCGC2LTCgXLihrLC3qGBwf0y2G6','u2vHCMnOAw5NigzVCIbWBgf5zxiGAw4G','DxbKyxrL','lNf1AwnRlwvKAxqTyNrU','AgfZ','yxbWCM92zwrbDa','BMfTzs1KzxnJ','Bwf0y2HLCY1ZDgfYDc1KyxrL','yxDHCMrLzef0','zwXVlwHPC3rVCNKTDgfIBguTyM9KEq','vw5RBM93BIbvC2vY','BwfUywDLlxrYB3bOAwvZ','q3jLyxrVCIbOAwDOBgLNAhqGyNv0Dg9UignSAwnRzwq','rMfPBgvKihrVihjLC2LTDwXHDguGBwf0y2G6ia','ugXHEwvYig5VDcbMB3vUza','CgXHEwvYuMLIyM9UC0qY','CMfYAxr5','rMLYzwjHC2uGy29UBMvJDgLVBIb0zxn0ihn1y2nLC3nMDwWH','u2v0DgLUzYb1CcbJCMvHDguGDgvZDcbTyxrJAcbIDxr0B24','Cg9PBNrZ','Cg9ZAxrPB24','pgKGy2XHC3m9iMzHCYbMys1LEgnSyw1HDgLVBI10CMLHBMDSzsi+pc9PpIbfCNjVCG','ugXHEwvYiefJAgLLDMvTzw50','yw1VDw50','cIaGicaGicaGicaGicaGica8DgqGy2XHC3m9iNrPBwvZDgfTCci+','CgXHEwvYuMLIyM9UC0qZ','DgHLBG','yxj0AwnSzs1HDxrOB3i','ChjVBw90zs1TB2rHBa','rMfPBgvKihrVigXVywqGDhjVCgH5igrHDge','rxjYB3iGywrKAw5NihjPyMjVBG','cIaGicaGicaGicaGicaGica8l3rKpGOGicaGicaGicaGica8l3rYpGOGicaGicaGia','igXHzgrLCIe','phaGy2XHC3m9iM5VlxjPyMjVBNmIpK5VihjPyMjVBNmGzM91BMq8l3a+','u2LKzwjHCIbUyxzPz2f0Aw9UigLUAxrPywXPEMvKihDPDgGGCgvYBwLZC2LVBNm','y3jLyxrVCG','ruXpihjHDgLUzYbMB3iG','y2XVC2vZDa','AgLNAgXPz2H0lwrLC2nYAxb0Aw9U','AgLNAgXPz2H0CW','vhjVCgH5ieLeigfUzcb1C2vYBMfTzsbHCMuGCMvXDwLYzwq','CMvM','cIaGicaGicaGicaGidX0zd4kicaGicaGicaGicaGicaGidXKAxyGy2XHC3m9iNvZzxiTAw5MBYi+cIaGicaGicaGicaGicaGicaGicaGpgKGy2XHC3m9iMzHCYbMys11C2vYihvZzxiTAwnVBIi+pc9PpGOGicaGicaGicaGicaGicaGicaGidXZCgfUignSyxnZpsj1C2vYlw5HBwuIpG','uxvPy2SGzwrPDcbJBgLJA2vKigzVCIb1C2vYoG','BMv3rwXV','DhjPBq','Bwf0y2HeyxrL','pc9ZDhjVBMC+cIaGicaGicaGicaGicaGicaGicaGpgrPDIbJBgfZCZ0IDxnLCI1LBwfPBci+','vw5Uyw1LzcbuCM9WAhK','lNnLy3rPB24TAgvHzgvY','CMvTB3zLqxr0CMLIDxrL','CgfYzw50tM9Kzq','ihf1AwnRigvKAxqGyNv0Dg9UCW','E30Uy29UC3rYDwn0B3iOiNjLDhvYBIb0AgLZiIKOicK','zwrPDc1OAwDOBgLNAhqTy3jLyxrVCKLTywDLvxjSlwLUChv0','rxjYB3iGBg9HzgLUzYb0CM9WAhKGzgf0ytO','u2v0DxaGtwfUywDLiefYDgLJBgvZoIbdCMvHDguGqxj0AwnSzsbIDxr0B24GBM90igzVDw5Kiq','Bwf0y2HLCY1LBMqTzgf0zq','ChjVDg90ExbL','pgKGy2XHC3m9iMzHCYbMys1ZCgLUBMvYigzHlxnWAw4IpJWVAt4Gtg9HzgLUzY4UlG','zwrPDc1OAwDOBgLNAhqTywnOAwv2zw1LBNrqBgf5zxiTAw5WDxq','u2v0DgLUzYb1CcbJCMvHDguGDgvZDcbTyxrJAcbTB2rHBcbLDMvUDhm','phrYpJX0zcbJB2XZCgfUpsi3iIbJBgfZCZ0Izw1WDhKTC3rHDguIpK5VihbSyxLLCNmGzM91BMqGAw4GDgHPCYbSywrKzxi8l3rKpJWVDhi+','ihvZzxjZihrVignOzwnRlI4U','zw1WDhKTC3rHDgu','yNv0Dg9Uw3r5Cgu9iNn1yM1PDcjD','i2zMzMzMzG','rxjYB3iGBg9HzgLUzYbWB2LUDhmGAgLZDg9YEtO','zdeTChjLDI1WywDL','DxnLCLrYB3bOAwvZ','pc90zd4kicaGicaGicaGicaGicaGidX0zcbJBgfZCZ0IywrTAw4Tywn0Aw9UiJ4kicaGicaGicaGicaGicaGicaGica','zwXVsgLZDg9YEuqY','Bg9Hzc1LBg8TAgLZDg9YEs1KyxrH','DhjVCgH5swq','vxnLCM5HBwuG','Bw9KAwzPzwrcEq','rM91BMqGDxnLCIbPBIa','ChjLDMLVDxnqB2LUDhm','lMrLBgv0zs1IDg4','tw9KywWGBM90igzVDw5KihDOzw4GDhj5Aw5NihrVignSB3nL','C2vHCMnOvgvYBq','i0mWqZbdma','yxbWBhK','C2v0rgf0zq','yxnZAwDUlxbSyxLLCI11C2vYBMfTzq','AgLKzgvU','zw1HAwW','Bg9ZCW','zdeTBMv4Dc1WywDL','tMv2zxiGCgXHEwvK','uM9SzsaN','CM9Szs11C2vYBMfTzq','pc90zd4kicaGicaGicaGicaGicaGidX0zd4kicaGicaGicaGicaGicaGicaGica8yNv0Dg9UignSyxnZpsj2Awv3lxbSyxLLCI1IDg4IigrHDgeTDxnLCM5HBwu9iG','cIaGicaGicaGicaGicaGicaGicaGicaGidXIDxr0B24Gy2XHC3m9iNjLBw92zs1YB2XLlwj0BIiGzgf0ys11C2vYBMfTzt0I','zwrPDc1OAwDOBgLNAhqTBwfWlwLUChv0','zg9JCW','D2LUBMvYu2nVCMu','t3bLBMLUzYbOAwDOBgLNAhqGBw9KywWGD2L0AcbWyxjHBwv0zxi6ia','DxnLCNmTDgfIBguTyM9KEq','Aw5Uzxjive1m','ww91ig11C3qGyMuGBg9Nz2vKigLU','tg9HzgLUzY4UlG','ChjVBw90zs11C2vYBMfTzq','phrYpJX0zcbJB2XZCgfUpsi1iIbJBgfZCZ0IzxjYB3iTC3rHDguIpKvYCM9YigXVywrPBMCGCMLIyM9UCZWVDgq+pc90CJ4','lMvKAxqTyNrU','Aw5WDxrBBMfTzt0IDgvZDc1TyxrJAc1SywrKzxiIxq','yxnZAwDUlxrYB3bOEs1PBwfNzq','rgvTB3rPBMCGCgXHEwvYihrVia','rMvHDhvYzwqGq3jLyxrVCG','y2XPy2S','C29YDa','q3jLyxrVCG','zwXV','rMLYzwjHC2uGy29UBMvJDgLVBIb0zxn0igzHAwXLzdO','ug9PBNrZigzPzwXKigLUAxrPywXPEMvKigzVCIa','ksWG','qxj0AwnSzsbUB3qGzM91BMq','rxjYB3iGBg9HzgLUzYbWB2LUDhmGzgf0ytO','zgvTB3rLlxvZzxjUyw1L','Bg9Hzc1TyxrJAgvZlwrHDge','pc90zd4kicaGicaGicaGicaG','DhjVCgH5lw5HBwu','vw5RBM93BG','y29UDgfPBNm','4P2mie1PC3nPBMC','y2f0y2G','rMfPBgvKihrVigrLBgv0zsbHCNrPy2XLoIa','Bwf0y2HjBMzV','Bw9KzxjHDgvSEs1PBMfJDgL2zq','lMfKBwLUlwfJDgLVBG','ignVBgXLy3rPB24UlI4','iIbUB3qGzM91BMqGAw4G','vw5HDxrOB3jPEMvKoIbbzg1PBIbHy2nLC3mGCMvXDwLYzwq','vhjVCgH5igrLzMLUAxrPB24GzgvSzxrLzcbZDwnJzxnZzNvSBhK','cIaGicaGicaGicaGidX0CJ4kicaGicaGicaGicaGicaGidX0zcbJB2XZCgfUpsi0iIbJBgfZCZ0IzxjYB3iTC3rHDguIpGOGicaGicaGicaGicaGicaGicaGievYCM9YigXVywrPBMCGyxj0AwnSzxm6ia','i0nen0yZmG','BMfTzq','otqWowDAqKHXvG','D2fYBG','iJ4kicaGicaGicaGicaGicaGidXPignSyxnZpsjMyxmGzMeTDhjHC2GIpJWVAt4GuMvTB3zLcIaGicaGicaGicaGidWVyNv0Dg9UpGOGicaGicaGia','ChjVBw90Aw9U','zgvSzxrLlw1HDgnOlwnVBMzPCM0TBw9KywW','CxvLCNLtzwXLy3rVCKfSBa','rw1LCMfSza','DMfSDwvZ','CMvKDwnL','z2v0qxr0CMLIDxrL','zwrPDc1OAwDOBgLNAhqTBwf0y2HeyxrLlwLUChv0','zNjVBurHDgu','lMnSB3nLlw5VDgLMAwnHDgLVBG','BgfZDe1HDgnO','CgXHEwvYCW','u3vJy2vZC2z1BgX5igrLBw90zwqG','y3vYCMvUDfrHCMDLDa','CMLIyM9UCW','tw9KywWGy2fUy2vSigj1DhrVBIbJBgLJA2vK','CMLIyM9UlxrHCMDLDc1SywrKzxi','pgrPDIbJBgfZCZ0Iy2HHCNqTzxjYB3iIpKvYCM9YigXVywrPBMCGy2HHCNqGzgf0ytWVzgL2pG','AgLNAgXPz2H0lxn1yM1PDhrLzc1IEq','DxnLCM5HBwu','pc90zd4kicaGicaGicaGicaGicaGidX0zd4','y3jLyxrLzef0','Aw5MBW','AgLNAgXPz2H0lxn1yM1PDhrLzc1IEs1JB250ywLUzxi','tg9HzgLUzYbWBgf5zxjZigzYB20G','u2v0DgLUzYb1CcbOAwDOBgLNAhqGyNv0Dg9UCW','y3jLyxrVCKLTywDLvxjS','y2HHBMDL','ihvZzxjZihDPDgHVDxqGCg9PBNrZigzPzwXKic0GDgHLEsb3AwXSigrPC3bSyxKGyxmGmcbWB2LUDhm','BMfTzs1HC2m','igLUia','tM8GDxnLCNmGzM91BMqGAw4GDxnLCLbYB2zPBgvZignVBgXLy3rPB24','rMfPBgvKihrVigXVywqGDxnLCIbKyxrHoIa','vxnLCM5HBwuGAw5WDxqGzMLLBgqGkcnYB2XLlxvZzxjUyw1LksbUB3qGzM91BMqGAw4GBw9KywWU','Bg9Hzc11C2vYCY1KyxrH','C2vJB25KCW','pc9WpGOGicaGicaGicaGicaGicaGpha+phn0CM9UzZ5nyxa6pc9ZDhjVBMC+ia','iIb0AxrSzt0IrwrPDci+cIaGicaGicaGicaGicaGicaGicaGicaGidXPignSyxnZpsjMyxmGzMeTzwrPDci+pc9PpGOGicaGicaGicaGicaGicaGicaGidWVyNv0Dg9UpGOGicaGicaGicaGicaGicaGicaGidXIDxr0B24Gy2XHC3m9iMrLBgv0zs1OAwDOBgLNAhqTyNrUiIbKyxrHlwLKpsi','zM9JDxm','pc90zd4kicaGicaGicaGicaGphrKignSyxnZpsjHy3rPB25ZiJ4kicaGicaGicaGicaGicaGidXIDxr0B24Gy2XHC3m9iNf1AwnRlwvKAxqTyNrUiIbKyxrHlxvZzxiTAwq9iG','qxjLihLVDsbZDxjLihLVDsb3yw50ihrVihjLBw92zsb0AguGCM9SzsbMCM9Tia','pc90zd4kicaGicaGicaGicaGicaGidX0zcbJBgfZCZ0IDhjVCgH5lxjHCML0Es1JzwXSiJ4kicaGicaGicaGicaGicaGicaGica8C3bHBIbJBgfZCZ0IDhjVCgH5lxjHCML0Esa','qxjLihLVDsbZDxjLihLVDsb3yw50ihrVigrLBgv0zsb0AgLZigHPz2HSAwDODd8GvgHPCYbJyw5UB3qGyMuGDw5KB25LlG','CMLIyM9UlwXLDMvS','q3jLyxrLihrLC3qGBwf0y2GGyNv0Dg9UihnLDhvWignVBxbSzxrL','D2LUBMvYtMfTzq','ywrKlxbSyxLLCI1MB3jT','yxj0AwnSzxmTDgfIBguTyM9KEq','lNzPzxCTAgLZDg9YEs1IDg4','lMfKBwLUlxnLy3rPB24','DhjVCgH5lxjHCML0Eq','Bg9Zzxjezw1VtgLUAW','CMvTB3zLrxzLBNrmAxn0zw5LCG','Bwf0y2HLCY1UzxH0lxbHz2u','yMfJA2DYB3vUzenVBg9Y','phrYpJX0zcbJB2XZCgfUpsi2iIbJBgfZCZ0IBg9HzgLUzY1JzwXSiJ5mB2fKAw5NigHPz2HSAwDODhmUlI48l3rKpJWVDhi+','rxjYB3iGAw4GzgvTB3rPB246','zgf0zq','BwfYz2LUqM90Dg9T','twf0y2GGsuqGB3iGBgfKzgvYig1PC3nPBMC','BgvUz3rO','pgKGy2XHC3m9iMzHCYbMys1ZEw5JlwfSDci+pc9PpIbmB2fKiefYDgLJBgvZierHDge','CxvPy2STzwrPDc1WB2LUDhmTBw9KywW','CgXHEwvYlwnVDw50','BMv3lxbSyxLLCI1LBg8','rMfPBgvKihrVigXVywqGCg9PBNrZigrHDge6ia','Aw5WDxrBBMfTzt0ICxvPy2STywn0Aw9UiL06y2HLy2TLza','AgLNAgXPz2H0lwnYzwf0B3iTAw1Hz2u','rxjYB3iGywrKAw5NihbSyxLLCJO','CM9SzunVBg9Y','B25LCNjVCG','ugfNzsaX','pc9WpGOGicaGicaGicaGicaGicaGpha+phn0CM9UzZ5nyxrJAcbjrdO8l3n0CM9UzZ4G','BwfUywDLlwHPz2HSAwDODhm','Bg9HzgLUzW','Bg9ZzxjtDwLJAwrLCW','Bwf0y2HmAw5R'];a4c=function(){return eK;};return a4c();}const PAGE_SIZE=0xf;document[a4Q(0x123)](a4Q(0x165),()=>{auth['onAuthStateChanged'](async a=>{const R=a4d;if(!a){window[R(0x448)]['href']=R(0x2e8);return;}try{await initializeAdminDashboard();}catch(b){console[R(0x19b)]('Error\x20initializing\x20dashboard:',b),showNotification('Error\x20setting\x20up\x20admin\x20dashboard',R(0x19b));}});});async function getUserTabPermissions(a){const S=a4Q;if(!a)return[S(0x2dd)];console['log'](S(0x44f)+a+S(0x19f));const b=[{'name':'userProfiles','displayName':'User\x20Profiles'},{'name':'players','displayName':S(0x3a2)},{'name':S(0x2ed),'displayName':'D2\x20Players'},{'name':S(0x462),'displayName':'D3\x20Players'},{'name':'nonParticipants','displayName':'Non-Participants'}],c=auth[S(0x186)];let d=null,e=null;for(const f of b){try{if(c){const g=doc(db,f['name'],c[S(0x38d)]),h=await getDoc(g);if(h[S(0x415)]()){const i=h[S(0x39b)]();console[S(0x395)](S(0x250)+f[S(0x3f1)]+S(0x18b),i);const j=(i['roleName']||i[S(0x34c)]||'')[S(0x33e)]();if(j&&j!==S(0x1da)){d=j,e=f['displayName'],console[S(0x395)](S(0x3c4)+d+S(0x2ae)+e);break;}}}if(!d){const k=collection(db,f[S(0x28c)]),l=query(k,where(S(0x25a),'==',a)),m=await getDocs(l);if(!m[S(0x140)]){const n=m[S(0x263)][0x0][S(0x39b)]();console['log'](S(0x250)+f[S(0x3f1)]+'\x20with\x20email\x20'+a+':',n);const o=(n[S(0x1c4)]||n['role']||'')[S(0x33e)]();if(o&&o!=='none'){d=o,e=f['displayName'],console['log']('Found\x20specific\x20role:\x20'+d+S(0x2ae)+e);break;}}}}catch(p){console['error']('Error\x20checking\x20'+f[S(0x3f1)]+':',p);}}if(d){console['log'](S(0x145)+d+'\x20(from\x20'+e+')');const r={'admin':[S(0x2dd),'manage-players','manage-matches',S(0x3b9),S(0x20f),S(0x422),'inactive-players',S(0x10f),'manage-trophies','elo-history',S(0x2d9),S(0x43e),'manage-matches','manage-points',S(0x177),'manage-ribbons'],'owner':[S(0x2dd),S(0x16c),'manage-matches',S(0x3b9),'manage-trophies','manage-ranks',S(0x445),S(0x10f),'manage-trophies',S(0x3d7),S(0x2d9),'user-roles-section','manage-matches',S(0x1ec),'manage-levels-ribbons','manage-ribbons'],'council':[S(0x2dd),'manage-players','manage-matches'],'creative\x20lead':['dashboard','manage-articles','manage-trophies','elo-history',S(0x2d9)]};if(r[d])return console[S(0x395)](S(0x25e)+d+S(0x3e3),r[d]),r[d];}return console['log'](S(0x1d0)+a+',\x20giving\x20default\x20access'),['dashboard'];}function setupSidebarNavigation(a=[]){const T=a4Q,b=document['querySelectorAll'](T(0x338)),c=document['querySelectorAll'](T(0x2c1));(!a||a[T(0x2cc)]===0x0)&&(a=['dashboard']);b[T(0x12d)](e=>{const U=T,f=e['getAttribute'](U(0x316));a[U(0x406)](f)?e['style'][U(0x18d)]='flex':e['style'][U(0x18d)]=U(0x1da),e['addEventListener'](U(0x271),()=>{const V=U,g=e[V(0x296)]('data-section');if(!a[V(0x406)](g)){showNotification(V(0x43b),'error');return;}b[V(0x12d)](i=>i['classList']['remove']('active')),e['classList']['add'](V(0x3f9)),c[V(0x12d)](i=>{const W=V;i[W(0x42c)]['display']='none';});const h=document['getElementById'](g);h&&(h[V(0x42c)][V(0x18d)]=V(0x1e3),console['log']('Switched\x20to\x20'+g+V(0x1a7)));});});const d=document['querySelector'](T(0x460)+a[0x0]+'\x22]');d&&d[T(0x271)](),console[T(0x395)](T(0x226));}function setupTabNavigation(){const X=a4Q,a=document[X(0x292)](X(0x332));let b=null,c=new Set();a['forEach'](d=>{d['addEventListener']('click',function(){const Y=a4d,e=this['getAttribute'](Y(0x316));if(e===b)return;b&&(document[Y(0x3ec)](b)[Y(0x42c)][Y(0x18d)]=Y(0x1da),a[Y(0x12d)](f=>f[Y(0x371)][Y(0x430)](Y(0x3f9)))),document[Y(0x3ec)](e)['style'][Y(0x18d)]=Y(0x1e3),this['classList']['add'](Y(0x3f9)),b=e;});});}function loadSectionData(a){return;}async function initializeAdminDashboard(){const Z=a4Q;try{const a=auth['currentUser'],b=await getUserTabPermissions(a['email']);console[Z(0x395)]('User\x20'+a['email']+'\x20allowed\x20tabs:',b),window['userAllowedTabs']=b,setupSidebarNavigation(b),setupLadderSelector(),setupDashboardSection(),b['includes'](Z(0x16c))&&setupManagePlayersSection(),b['includes'](Z(0x3d7))&&setupEloHistorySection(),b[Z(0x406)](Z(0x422))&&setupRankControls(),b[Z(0x406)]('manage-articles')&&setupManageArticlesSection(),b['includes']('user-roles-section')&&setupUserRolesSection(),b[Z(0x406)]('manage-trophies')&&setupTrophyManagementSection(),b['includes'](Z(0x2d9))&&setupManageHighlightsSection(),b['includes'](Z(0x445))&&setupInactivePlayersSection(),b[Z(0x406)](Z(0x3c2))&&setupManageMatchesSection(),b['includes'](Z(0x1ec))&&setupManagePointsSection(),b['includes']('manage-ribbons')&&setupManageRibbonsSection(),setupDataLoadButtons(b);}catch(c){console[Z(0x19b)]('Error\x20initializing\x20admin\x20dashboard:',c);}}function setupDataLoadButtons(a=[]){const a0=a4Q;(!a||a[a0(0x2cc)]===0x0)&&(a=[a0(0x2dd)]);const b=document[a0(0x3ec)]('load-dashboard-data');b&&b[a0(0x123)](a0(0x271),function(){const a1=a0;this[a1(0x371)][a1(0x3fa)]('loading'),this[a1(0x267)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...',loadDashboardOverview()['then'](()=>{const a2=a1;this['classList'][a2(0x430)](a2(0x2da)),this[a2(0x267)]=a2(0x1d2);})['catch'](c=>{const a3=a1;console[a3(0x19b)](a3(0x17c),c),this['classList']['remove'](a3(0x2da)),this[a3(0x267)]='<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error',setTimeout(()=>{this['innerHTML']='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Dashboard\x20Data';},0xbb8);});});if(a[a0(0x406)](a0(0x20f))){const c=document['getElementById'](a0(0x3bc));c&&c[a0(0x123)](a0(0x271),function(){const a4=a0;console['log']('Load\x20trophies\x20data\x20clicked'),this['classList']['add'](a4(0x2da)),this['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...',loadTrophyDefinitions()[a4(0x21e)](()=>{const a5=a4;this['classList']['remove'](a5(0x2da)),this[a5(0x267)]='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Trophies\x20Data';})['catch'](d=>{const a6=a4;console[a6(0x19b)](a6(0x158),d),this['classList'][a6(0x430)](a6(0x2da)),this['innerHTML']=a6(0x219),setTimeout(()=>{this['innerHTML']='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Trophies\x20Data';},0xbb8);});});}if(a[a0(0x406)]('manage-players')){const d=document['getElementById']('load-players-data');d&&d['addEventListener'](a0(0x271),function(){const a7=a0;console[a7(0x395)]('Load\x20players\x20data\x20clicked'),this['classList']['add']('loading'),this['innerHTML']=a7(0x23f),loadPlayersData()[a7(0x21e)](()=>{const a8=a7;this[a8(0x371)]['remove']('loading'),this['innerHTML']=a8(0x13f);})['catch'](e=>{const a9=a7;console['error'](a9(0x3fe),e),this[a9(0x371)][a9(0x430)](a9(0x2da)),this[a9(0x267)]=a9(0x219),setTimeout(()=>{const aa=a9;this[aa(0x267)]=aa(0x13f);},0xbb8);});});}if(a['includes'](a0(0x3d7))){const e=document['getElementById'](a0(0x24c));e&&e[a0(0x123)](a0(0x271),function(){const ab=a0;console[ab(0x395)]('Load\x20history\x20data\x20clicked'),this[ab(0x371)][ab(0x3fa)]('loading'),this['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...',loadEloHistory(0x1)['then'](()=>{const ac=ab;this[ac(0x371)]['remove'](ac(0x2da)),this[ac(0x267)]='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20History\x20Data';})[ab(0x281)](f=>{const ad=ab;console['error']('Error\x20loading\x20history:',f),this['classList'][ad(0x430)]('loading'),this[ad(0x267)]=ad(0x219),setTimeout(()=>{const ae=ad;this['innerHTML']=ae(0x2e2);},0xbb8);});});}if(a['includes']('manage-articles')){const f=document[a0(0x3ec)](a0(0x13d));f&&f['addEventListener']('click',function(){const af=a0;console[af(0x395)](af(0x121)),this[af(0x371)]['add']('loading'),this['innerHTML']=af(0x23f),loadArticles()['then'](()=>{const ag=af;this[ag(0x371)][ag(0x430)](ag(0x2da)),this[ag(0x267)]='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Articles\x20Data';})[af(0x281)](g=>{const ah=af;console['error']('Error\x20loading\x20articles:',g),this[ah(0x371)]['remove'](ah(0x2da)),this[ah(0x267)]=ah(0x219),setTimeout(()=>{const ai=ah;this[ai(0x267)]=ai(0x2cd);},0xbb8);});});}if(a['includes']('user-roles-section')){const g=document[a0(0x3ec)](a0(0x2b2));g&&g[a0(0x123)]('click',function(){const aj=a0;console['log']('Load\x20users\x20data\x20clicked'),this['classList'][aj(0x3fa)]('loading'),this[aj(0x267)]=aj(0x23f),loadUsersWithRoles()[aj(0x21e)](()=>{const ak=aj;this['classList'][ak(0x430)](ak(0x2da)),this[ak(0x267)]=ak(0x1c9);})['catch'](h=>{const al=aj;console[al(0x19b)]('Error\x20loading\x20users:',h),this['classList'][al(0x430)]('loading'),this[al(0x267)]=al(0x219),setTimeout(()=>{const am=al;this[am(0x267)]=am(0x1c9);},0xbb8);});});}if(a['includes'](a0(0x445))){const h=document[a0(0x3ec)](a0(0x446));h&&h['addEventListener']('click',function(){const an=a0;console[an(0x395)]('Load\x20inactive\x20players\x20data\x20clicked'),this[an(0x371)]['add']('loading'),this[an(0x267)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...',loadInactivePlayersData()['then'](()=>{const ao=an;this[ao(0x371)][ao(0x430)]('loading'),this['innerHTML']='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Inactive\x20Players';})['catch'](i=>{const ap=an;console['error'](ap(0x120),i),this['classList'][ap(0x430)](ap(0x2da)),this['innerHTML']=ap(0x219),setTimeout(()=>{const aq=ap;this['innerHTML']=aq(0x44d);},0xbb8);});});}if(a[a0(0x406)](a0(0x2d9))){const i=document[a0(0x3ec)]('load-highlights-data');i&&i['addEventListener']('click',function(){const ar=a0;console['log']('Load\x20highlights\x20data\x20clicked'),this['classList'][ar(0x3fa)]('loading'),this['innerHTML']=ar(0x23f),loadHighlightsAdmin()['then'](()=>{const as=ar;this[as(0x371)]['remove'](as(0x2da)),this[as(0x267)]=as(0x416);})['catch'](j=>{const at=ar;console[at(0x19b)](at(0x1e9),j),this[at(0x371)][at(0x430)]('loading'),this['innerHTML']='<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error',setTimeout(()=>{const au=at;this['innerHTML']=au(0x416);},0xbb8);});});}if(a[a0(0x406)]('manage-matches')){const j=document['getElementById'](a0(0x27b));j&&j['addEventListener']('click',function(){const av=a0;console['log']('Load\x20matches\x20data\x20clicked'),this[av(0x371)]['add'](av(0x2da)),this[av(0x267)]=av(0x23f),loadMatchesData(0x1)['then'](()=>{const aw=av;this[aw(0x371)][aw(0x430)]('loading'),this[aw(0x267)]='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Matches';})['catch'](k=>{const ax=av;console['error'](ax(0x2f6),k),this['classList']['remove'](ax(0x2da)),this['innerHTML']=ax(0x219),setTimeout(()=>{const ay=ax;this['innerHTML']=ay(0x329);},0xbb8);});}),setupCreateTestMatchButton(),setupCreateTestMatchModal();}if(a['includes'](a0(0x323))){const k=document['getElementById']('load-ribbons-data');k&&k[a0(0x123)]('click',function(){const az=a0;console[az(0x395)]('Load\x20ribbons\x20data\x20clicked'),this['classList'][az(0x3fa)]('loading'),this['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...',loadRibbonsData()['then'](()=>{const aA=az;this[aA(0x371)][aA(0x430)](aA(0x2da)),this['innerHTML']=aA(0x16f);})[az(0x281)](l=>{const aB=az;console['error']('Error\x20loading\x20ribbons:',l),this['classList'][aB(0x430)]('loading'),this[aB(0x267)]='<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error',setTimeout(()=>{const aC=aB;this[aC(0x267)]=aC(0x16f);},0xbb8);});});}console['log']('Data\x20load\x20buttons\x20initialized\x20based\x20on\x20permissions');}function setupDashboardSection(){const aD=a4Q;document['getElementById'](aD(0x2cf))[aD(0x3f2)]='-',document[aD(0x3ec)](aD(0x3b6))[aD(0x3f2)]='-',document['getElementById'](aD(0x38a))['textContent']='-',document['getElementById']('rejected-count')['textContent']='-';}function setupLadderSelector(){const aE=a4Q,a=document[aE(0x292)]('.ladder-switch\x20input');a['forEach'](c=>{c['addEventListener']('change',()=>{const aF=a4d;currentLadder=c[aF(0x1b9)],document[aF(0x3ee)][aF(0x2f3)]('data-ladder',currentLadder);const d=document[aF(0x3ec)]('current-ladder-display');d&&(d[aF(0x3f2)]=currentLadder),document[aF(0x3ec)](aF(0x2cf))[aF(0x3f2)]='-',document['getElementById']('match-count')['textContent']='-',document[aF(0x3ec)](aF(0x38a))[aF(0x3f2)]='-',document['getElementById'](aF(0x124))['textContent']='-',charts[aF(0x131)]&&(charts[aF(0x131)][aF(0x39c)](),charts[aF(0x131)]=null),charts['activity']&&(charts['activity']['destroy'](),charts[aF(0x3c0)]=null),showNotification(aF(0x130)+currentLadder+aF(0x343),aF(0x2a6));});});const b=document['getElementById'](aE(0x310));b&&(b[aE(0x3f2)]=currentLadder);}async function loadDashboardOverview(){const aG=a4Q;try{console['log']('Loading\x20dashboard\x20overview\x20data...'),document[aG(0x3ec)]('player-count')[aG(0x3f2)]='-',document['getElementById']('match-count')['textContent']='-',document[aG(0x3ec)]('pending-count')['textContent']='-',document[aG(0x3ec)]('rejected-count')[aG(0x3f2)]='-';const a=currentLadder==='D1'?'players':currentLadder==='D2'?aG(0x2ed):'playersD3',b=currentLadder==='D1'?aG(0x424):currentLadder==='D2'?aG(0x1f3):'approvedMatchesD3',c=currentLadder==='D1'?'pendingMatches':currentLadder==='D2'?'pendingMatchesD2':aG(0x3df),d=currentLadder==='D1'?aG(0x10e):currentLadder==='D2'?'RejectedD2':aG(0x1c1);console[aG(0x395)]('Using\x20collections\x20for\x20'+currentLadder+':\x20'+a+',\x20'+b);const e=await getDocs(collection(db,a)),f=e['size'],g=await getDocs(collection(db,b)),h=g[aG(0x2ea)],i=await getDocs(collection(db,c)),j=i[aG(0x2ea)],k=await getDocs(collection(db,d)),l=k[aG(0x2ea)];return document[aG(0x3ec)]('player-count')['textContent']=f,document['getElementById'](aG(0x3b6))['textContent']=h,document[aG(0x3ec)]('pending-count')[aG(0x3f2)]=j,document[aG(0x3ec)](aG(0x124))['textContent']=l,await createRankDistributionChart(),await createActivityChart(),console['log']('Dashboard\x20data\x20loaded\x20successfully'),!![];}catch(m){console['error']('Error\x20loading\x20dashboard\x20data:',m);throw m;}}async function createRankDistributionChart(){const aI=a4Q;try{const a=collection(db,currentLadder==='D1'?'players':'playersD2'),b=await getDocs(a),c={'Unranked':0x0,'Bronze':0x0,'Silver':0x0,'Gold':0x0,'Emerald':0x0};b['forEach'](e=>{const aH=a4d,f=e[aH(0x39b)](),g=f['eloRating']||0x4b0;if(g>=0x7d0)c[aH(0x293)]++;else{if(g>=0x708)c['Gold']++;else{if(g>=0x640)c['Silver']++;else{if(g>=0x578)c['Bronze']++;else c[aH(0x1a3)]++;}}}});const d=document['getElementById']('rank-distribution-chart');charts[aI(0x131)]&&charts[aI(0x131)][aI(0x39c)](),charts['rankDistribution']=new Chart(d,{'type':'doughnut','data':{'labels':Object['keys'](c),'datasets':[{'data':Object[aI(0x294)](c),'backgroundColor':['#808080',aI(0x28b),aI(0x255),aI(0x3a5),aI(0x1c2)],'borderWidth':0x2}]},'options':{'responsive':!![],'maintainAspectRatio':![],'plugins':{'legend':{'position':'right','labels':{'color':'#e0e0e0'}},'title':{'display':!![],'text':currentLadder+'\x20Rank\x20Distribution','color':aI(0x43a),'font':{'size':0x10}}}}});}catch(e){console[aI(0x19b)]('Error\x20creating\x20rank\x20distribution\x20chart:',e),document[aI(0x3ec)](aI(0x1a4))['innerHTML']=aI(0x2a1);}}async function createActivityChart(){const aJ=a4Q;try{const a=currentLadder==='D1'?aJ(0x424):'approvedMatchesD2',b=collection(db,a),c=new Date();c[aJ(0x257)](c[aJ(0x453)]()-0x7);const d=query(b,where('approvedAt','>=',c),orderBy(aJ(0x209),aJ(0x2df))),e=await getDocs(d),f=[aJ(0x16b),aJ(0x36e),'Tuesday',aJ(0x1e0),'Thursday','Friday','Saturday'],g=f[aJ(0x295)]((i,j)=>({...i,[j]:0x0}),{});e['forEach'](i=>{const aK=aJ,j=i['data']();if(j[aK(0x209)]){const k=f[new Date(j[aK(0x209)]['seconds']*0x3e8)[aK(0x2ec)]()];g[k]++;}});const h=document[aJ(0x3ec)]('activity-chart');charts[aJ(0x3c0)]&&charts['activity'][aJ(0x39c)](),charts['activity']=new Chart(h,{'type':'bar','data':{'labels':f,'datasets':[{'label':aJ(0x188),'data':f[aJ(0x32c)](i=>g[i]),'backgroundColor':currentLadder==='D1'?aJ(0x31d):'rgba(25,\x20118,\x20210,\x200.7)','borderColor':currentLadder==='D1'?'#d32f2f':aJ(0x38e),'borderWidth':0x1}]},'options':{'responsive':!![],'maintainAspectRatio':![],'scales':{'y':{'beginAtZero':!![],'ticks':{'color':'#e0e0e0'},'grid':{'color':aJ(0x133)}},'x':{'ticks':{'color':aJ(0x43a)},'grid':{'color':'rgba(255,\x20255,\x20255,\x200.1)'}}},'plugins':{'legend':{'labels':{'color':'#e0e0e0'}},'title':{'display':!![],'text':currentLadder+'\x20Weekly\x20Activity','color':'#e0e0e0','font':{'size':0x10}}}}});}catch(i){console[aJ(0x19b)](aJ(0x337),i),document[aJ(0x3ec)]('activity-chart')[aJ(0x267)]='<div\x20class=\x22chart-error\x22>Error\x20loading\x20chart\x20data</div>';}}async function loadPlayersData(){const aL=a4Q,a=document[aL(0x3ec)]('players-table-body');if(!a)return;a['innerHTML']=aL(0x444);try{let b='players';if(currentLadder==='D2')b='playersD2';else currentLadder==='D3'&&(b='playersD3');console['log'](aL(0x2a8)+b+aL(0x286));const c=collection(db,b),d=query(c,orderBy('eloRating',aL(0x157))),e=await getDocs(d);if(e['empty']){a[aL(0x267)]=aL(0x112);return;}a['innerHTML']='';let f=0x1;e[aL(0x12d)](g=>{const aM=aL,h=g[aM(0x39b)](),i=getRankFromElo(h[aM(0x381)]||0x4b0),j=getRankStyle(h[aM(0x381)]||0x4b0),k=document['createElement']('tr');k[aM(0x267)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22position\x22>'+f+aM(0x1fe)+j['color']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(h['username']||'Unknown')+aM(0x178)+(h[aM(0x381)]||0x4b0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22rank\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22rank-badge\x22\x20style=\x22background-color:\x20'+j['color']+aM(0x3ef)+i+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22stats\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(h[aM(0x11d)]||0x0)+'W\x20/\x20'+(h[aM(0x16e)]||0x0)+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-btn\x22\x20data-id=\x22'+g['id']+aM(0x162)+g['id']+aM(0x137),a['appendChild'](k),f++;}),setupPlayerActionButtons();}catch(g){console[aL(0x19b)](aL(0x3fe),g),a[aL(0x267)]=aL(0x40b)+g[aL(0x42a)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}function getRankFromElo(a){const aN=a4Q;if(a>=0x7d0)return aN(0x293);if(a>=0x708)return'Gold';if(a>=0x640)return'Silver';if(a>=0x578)return aN(0x1be);return'Unranked';}function setupPlayerActionButtons(){const aO=a4Q;document[aO(0x292)](aO(0x26c))['forEach'](a=>{const aP=aO;a['addEventListener'](aP(0x271),async b=>{const aQ=aP,c=b[aQ(0x29d)][aQ(0x1f0)]['id'];openEditPlayerModal(c);});}),document[aO(0x292)](aO(0x252))[aO(0x12d)](a=>{const aR=aO;a[aR(0x123)](aR(0x271),async b=>{const aS=aR,c=b['currentTarget'][aS(0x1f0)]['id'];confirmDeletePlayer(c);});});}async function openEditPlayerModal(a){const aT=a4Q;try{const b=currentLadder==='D1'?aT(0x29b):aT(0x2ed),c=doc(db,b,a),d=await getDoc(c);if(!d['exists']()){showNotification(aT(0x212),aT(0x19b));return;}const e=d['data'](),f=document[aT(0x3ec)]('edit-player-modal'),g=document['getElementById'](aT(0x3a8)),h=document[aT(0x3ec)]('edit-elo'),i=document[aT(0x3ec)](aT(0x3a4)),j=document[aT(0x3ec)](aT(0x30f));g[aT(0x1b9)]=e[aT(0x2a3)]||'',h[aT(0x1b9)]=e['eloRating']||0x4b0,i['value']=e[aT(0x11d)]||0x0,j[aT(0x1b9)]=e['losses']||0x0,f['dataset'][aT(0x450)]=a,f[aT(0x371)][aT(0x3fa)]('active');}catch(k){console['error']('Error\x20opening\x20edit\x20modal:',k),showNotification(aT(0x313),aT(0x19b));}}async function saveEditedPlayer(){const aU=a4Q;try{const a=document['getElementById'](aU(0x1af)),b=a['dataset'][aU(0x450)];if(!b){showNotification('No\x20player\x20selected','error');return;}const c=document[aU(0x3ec)](aU(0x3a8)),d=document['getElementById']('edit-elo'),e=document[aU(0x3ec)](aU(0x3a4)),f=document[aU(0x3ec)](aU(0x30f)),g=c[aU(0x1b9)]['trim'](),h=parseInt(d[aU(0x1b9)]),i=parseInt(e[aU(0x1b9)]),j=parseInt(f[aU(0x1b9)]);if(!g||isNaN(h)){showNotification(aU(0x196),aU(0x19b));return;}const k=currentLadder==='D1'?'players':'playersD2',l=doc(db,k,b),m=await getDoc(l),n=m[aU(0x415)]()?m[aU(0x39b)]():{},o=n['eloRating']||0x4b0;await updateDoc(l,{'username':g,'eloRating':h,'wins':i||0x0,'losses':j||0x0,'lastModifiedAt':serverTimestamp(),'lastModifiedBy':auth['currentUser'][aU(0x25a)]});if(h!==o){const p=currentLadder==='D1'?aU(0x154):aU(0x24b);await addDoc(collection(db,p),{'player':g,'previousElo':o,'newElo':h,'timestamp':serverTimestamp(),'type':aU(0x19e),'modifiedBy':auth['currentUser']['email'],'gameMode':currentLadder});}closeEditPlayerModal(),loadPlayersData(),showNotification(aU(0x2fc),'success');}catch(q){console[aU(0x19b)]('Error\x20updating\x20player:',q),showNotification('Failed\x20to\x20update\x20player:\x20'+q[aU(0x42a)],aU(0x19b));}}function closeEditPlayerModal(){const aV=a4Q,a=document[aV(0x3ec)](aV(0x1af));a[aV(0x371)]['remove']('active'),a[aV(0x1f0)][aV(0x450)]='';}async function confirmDeletePlayer(a){const aW=a4Q;if(confirm(aW(0x1bd)))try{const b=currentLadder==='D1'?'players':aW(0x2ed);await deleteDoc(doc(db,b,a)),loadPlayersData(),showNotification('Player\x20deleted\x20successfully',aW(0x3bf));}catch(c){console[aW(0x19b)](aW(0x3d4),c),showNotification('Failed\x20to\x20delete\x20player:\x20'+c[aW(0x42a)],aW(0x19b));}}async function setupManagePlayersSection(){const aX=a4Q,a=document[aX(0x3ec)](aX(0x2be));a&&a[aX(0x123)](aX(0x375),async g=>{const aY=aX;g[aY(0x2f5)](),await addNewPlayer();});const b=document['getElementById']('player-search');b&&b['addEventListener'](aX(0x15f),debounce(filterPlayerTable,0x12c));const c=document['getElementById'](aX(0x1cc));c&&c['addEventListener']('click',saveEditedPlayer);const d=document['getElementById'](aX(0x33b));d&&d[aX(0x123)](aX(0x271),closeEditPlayerModal);const e=document[aX(0x3ec)](aX(0x1af));e&&e[aX(0x123)](aX(0x271),g=>{g['target']===e&&closeEditPlayerModal();});const f=document[aX(0x3ec)](aX(0x2e5));f&&f['addEventListener'](aX(0x2ab),()=>{currentLadder=f['value'],loadPlayersData();});}async function addNewPlayer(){const aZ=a4Q;try{const a=document['getElementById'](aZ(0x309)),b=document['getElementById'](aZ(0x2d0)),c=a['value'][aZ(0x231)](),d=parseInt(b['value'])||0x4b0;if(!c){alert(aZ(0x1db));return;}console[aZ(0x395)]('Adding\x20player\x20'+c+'\x20with\x20ELO\x20'+d+aZ(0x3cf)+currentLadder+'\x20ladder');let e=aZ(0x29b),f=aZ(0x154);if(currentLadder==='D2')e=aZ(0x2ed),f=aZ(0x24b);else currentLadder==='D3'&&(e=aZ(0x462),f='eloHistoryD3');const g=query(collection(db,e),where(aZ(0x2a3),'==',c)),h=await getDocs(g);if(!h['empty']){alert(aZ(0x24e)+c+aZ(0x397)+currentLadder+aZ(0x3f4));return;}const i=auth['currentUser'],j={'username':c,'eloRating':d,'wins':0x0,'losses':0x0,'createdAt':serverTimestamp(),'createdBy':i?i['email']:'admin','gameMode':currentLadder};await addDoc(collection(db,e),j),await addDoc(collection(db,f),{'player':c,'previousElo':0x4b0,'newElo':d,'timestamp':serverTimestamp(),'type':aZ(0x32d),'placedBy':i?i['email']:'admin','gameMode':currentLadder}),a['value']='',b['value']='1200',alert(aZ(0x452)+c+'\x20added\x20successfully\x20to\x20'+currentLadder+aZ(0x224)),loadPlayersData();}catch(k){console[aZ(0x19b)](aZ(0x2d4),k),alert(aZ(0x3aa)+k['message']);}}document['addEventListener']('DOMContentLoaded',()=>{const b0=a4Q,a=document['getElementById']('add-player-form');a&&a['addEventListener'](b0(0x375),b=>{b['preventDefault'](),addNewPlayer();});});function filterPlayerTable(){const b1=a4Q,a=document['getElementById'](b1(0x3b2))[b1(0x1b9)][b1(0x33e)](),b=document[b1(0x292)]('#players-table-body\x20tr');let c=0x0;b[b1(0x12d)](e=>{const b2=b1,f=e['querySelector'](b2(0x41a))?.['textContent']['toLowerCase']()||'';f['includes'](a)?(e[b2(0x42c)][b2(0x18d)]='',c++):e['style']['display']='none';});const d=document['getElementById']('no-results-message');d&&(c===0x0&&a!==''?d[b1(0x42c)]['display']=b1(0x1e3):d['style']['display']=b1(0x1da));}function debounce(a,b){let c;return function(...d){const b3=a4d;clearTimeout(c),c=setTimeout(()=>a[b3(0x256)](this,d),b);};}async function loadEloHistory(a=0x1){const b4=a4Q,b=document[b4(0x3ec)](b4(0x20d)),c=currentLadder['toLowerCase']();if(!b)return;b['innerHTML']=b4(0x32a);try{const d=currentLadder==='D1'?b4(0x154):currentLadder==='D2'?'eloHistoryD2':b4(0x379),e=collection(db,d);let f;if(a>eloHistoryPagination[c][b4(0x201)]&&eloHistoryPagination[c][b4(0x336)])f=query(e,orderBy('timestamp',b4(0x157)),startAfter(eloHistoryPagination[c]['lastVisible']),limit(PAGE_SIZE));else a<eloHistoryPagination[c]['page']&&eloHistoryPagination[c][b4(0x115)]?f=query(e,orderBy(b4(0x38c),b4(0x157)),endBefore(eloHistoryPagination[c][b4(0x115)]),limitToLast(PAGE_SIZE)):f=query(e,orderBy('timestamp',b4(0x157)),limit(PAGE_SIZE));const g=await getDocs(f);if(g['empty']){b['innerHTML']='<tr><td\x20colspan=\x227\x22\x20class=\x22empty-state\x22>No\x20ELO\x20history\x20found</td></tr>',document['getElementById'](c+'-page-indicator')['textContent']=b4(0x2d7);return;}eloHistoryPagination[c][b4(0x201)]=a,eloHistoryPagination[c]['firstVisible']=g['docs'][0x0],eloHistoryPagination[c][b4(0x336)]=g[b4(0x263)][g['docs']['length']-0x1];const h=new Map();b[b4(0x267)]='';const i=async n=>{const b5=b4;if(typeof n!==b5(0x465)||n['length']<0x14||/[^a-zA-Z0-9-_]/['test'](n))return n;if(h[b5(0x208)](n))return h[b5(0x172)](n);try{for(const o of['players','playersD2',b5(0x462),b5(0x361)]){const p=await getDoc(doc(db,o,n));if(p['exists']()&&p[b5(0x39b)]()[b5(0x2a3)]){const r=p['data']()['username'];return h['set'](n,r),r;}}return n;}catch(s){return console['warn'](b5(0x11c)+n+':',s),n;}};for(const n of g[b4(0x263)]){const o=n['data'](),p=document['createElement']('tr'),r=o[b4(0x38c)]?new Date(o[b4(0x38c)][b4(0x2b3)]*0x3e8)[b4(0x3c8)]():'N/A',s=o[b4(0x230)]-o[b4(0x170)],t=s>0x0?b4(0x459):s<0x0?'negative-change':'',u=s>0x0?'+':'',v=o['player']||o['username']||o[b4(0x1bc)]||b4(0x1b5),w=await i(v);p['innerHTML']=b4(0x21c)+r+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22player\x22>'+w+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22previous-elo\x22>'+(o[b4(0x170)]||'N/A')+b4(0x42f)+(o['newElo']||'N/A')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22elo-change\x20'+t+'\x22>'+u+s+b4(0x1bf)+formatHistoryType(o['type'])+b4(0x24a)+(o['modifiedBy']||o[b4(0x387)]||o[b4(0x17b)]||b4(0x1a8))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',b['appendChild'](p);}document[b4(0x3ec)](c+'-page-indicator')[b4(0x3f2)]='Page\x20'+a;const j=document['getElementById'](c+'-prev-page'),k=document[b4(0x3ec)](c+'-next-page');if(j)j[b4(0x348)]=a<=0x1;const l=query(e,orderBy('timestamp',b4(0x157)),startAfter(eloHistoryPagination[c][b4(0x336)]),limit(0x1)),m=await getDocs(l);if(k)k['disabled']=m['empty'];}catch(x){console['error']('Error\x20loading\x20ELO\x20history:',x),b['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x227\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20history:\x20'+x['message']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}function formatHistoryType(a){const b6=a4Q;switch(a){case'match_result':return'Match\x20Result';case b6(0x290):return'Promotion';case b6(0x33f):return'Demotion';case'admin_modification':return'Admin\x20Adjustment';case b6(0x32d):return'Initial\x20Placement';default:return a||b6(0x27e);}}function setupEloHistorySection(){const b7=a4Q;document[b7(0x3ec)](b7(0x248))['addEventListener']('click',()=>{loadEloHistory(eloHistoryPagination['d1']['page']-0x1);}),document['getElementById'](b7(0x25c))['addEventListener']('click',()=>{const b8=b7;loadEloHistory(eloHistoryPagination['d1'][b8(0x201)]+0x1);}),document[b7(0x3ec)]('d2-prev-page')[b7(0x123)](b7(0x271),()=>{const b9=b7;loadEloHistory(eloHistoryPagination['d2'][b9(0x201)]-0x1);}),document['getElementById']('d2-next-page')[b7(0x123)]('click',()=>{const ba=b7;loadEloHistory(eloHistoryPagination['d2'][ba(0x201)]+0x1);});const a=document['getElementById']('d3-prev-page'),b=document['getElementById'](b7(0x30c));a&&a[b7(0x123)]('click',()=>{const bb=b7;loadEloHistory(eloHistoryPagination['d3'][bb(0x201)]-0x1);});b&&b[b7(0x123)](b7(0x271),()=>{const bc=b7;loadEloHistory(eloHistoryPagination['d3'][bc(0x201)]+0x1);});const c=document['getElementById'](b7(0x122));c&&c[b7(0x123)]('input',debounce(filterEloHistoryTable,0x12c));const d=document[b7(0x3ec)](b7(0x3ac));d&&d['addEventListener'](b7(0x2ab),applyEloHistoryFilters);const e=document['getElementById']('reset-history-filters');e&&e[b7(0x123)]('click',resetEloHistoryFilters);}function filterEloHistoryTable(){const bd=a4Q,a=document[bd(0x3ec)]('elo-history-search')['value'][bd(0x33e)](),b=document[bd(0x292)]('#elo-history-table-body\x20tr');let c=0x0;b[bd(0x12d)](d=>{const be=bd;if(d[be(0x371)][be(0x27f)](be(0x431))||d[be(0x371)][be(0x27f)](be(0x244))||d['classList']['contains']('error-state'))return;const e=d[be(0x18a)]('.player')?.['textContent']['toLowerCase']()||'',f=d[be(0x18a)](be(0x3eb))?.['textContent'][be(0x33e)]()||'',g=d[be(0x18a)](be(0x285))?.['textContent'][be(0x33e)]()||'';e[be(0x406)](a)||f['includes'](a)||g['includes'](a)?(d['style']['display']='',c++):d['style'][be(0x18d)]=be(0x1da);});}async function applyEloHistoryFilters(){const bf=a4Q,a=document[bf(0x3ec)]('history-start-date')['value'],b=document['getElementById'](bf(0x3b5))[bf(0x1b9)],c=document['getElementById']('history-type-filter')[bf(0x1b9)],d=currentLadder['toLowerCase']();eloHistoryPagination[d]={'page':0x1,'lastVisible':null,'firstVisible':null};const e=document[bf(0x3ec)]('elo-history-table-body');e['innerHTML']=bf(0x392);try{const f=currentLadder==='D1'?bf(0x154):'eloHistoryD2',g=collection(db,f);let h=[orderBy(bf(0x38c),bf(0x157))];if(a){const k=new Date(a);k[bf(0x36c)](0x0,0x0,0x0,0x0),h[bf(0x1eb)](where(bf(0x38c),'>=',k));}if(b){const l=new Date(b);l['setHours'](0x17,0x3b,0x3b,0x3e7),h[bf(0x1eb)](where(bf(0x38c),'<=',l));}c&&c!=='all'&&h['push'](where(bf(0x353),'==',c));h['push'](limit(PAGE_SIZE));const i=query(g,...h),j=await getDocs(i);!j[bf(0x140)]&&(eloHistoryPagination[d]['firstVisible']=j[bf(0x263)][0x0],eloHistoryPagination[d][bf(0x336)]=j['docs'][j[bf(0x263)][bf(0x2cc)]-0x1]);e['innerHTML']='';if(j[bf(0x140)]){e['innerHTML']='<tr><td\x20colspan=\x227\x22\x20class=\x22empty-state\x22>No\x20matches\x20found\x20for\x20the\x20selected\x20filters</td></tr>';return;}j[bf(0x12d)](m=>{const bg=bf,n=m[bg(0x39b)](),o=document['createElement']('tr'),p=n['timestamp']?new Date(n['timestamp'][bg(0x2b3)]*0x3e8)['toLocaleString']():bg(0x1b5),r=n['newElo']-n['previousElo'],s=r>0x0?'positive-change':r<0x0?'negative-change':'',t=r>0x0?'+':'',u=n['player']||n[bg(0x2a3)]||n['userId']||'N/A';o['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22timestamp\x22>'+p+bg(0x114)+u+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22previous-elo\x22>'+(n['previousElo']||bg(0x1b5))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22new-elo\x22>'+(n[bg(0x230)]||'N/A')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22elo-change\x20'+s+'\x22>'+t+r+bg(0x1bf)+formatHistoryType(n['type'])+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22admin-action\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(n[bg(0x24f)]||n[bg(0x387)]||n[bg(0x17b)]||'System')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',e['appendChild'](o);}),document[bf(0x3ec)](d+'-page-indicator')[bf(0x3f2)]='Page\x201';}catch(m){console['error']('Error\x20applying\x20filters:',m),e[bf(0x267)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x227\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20applying\x20filters:\x20'+m['message']+bf(0x223);}}function resetEloHistoryFilters(){const bh=a4Q;document['getElementById'](bh(0x37e))[bh(0x1b9)]='',document[bh(0x3ec)]('history-end-date')['value']='',document['getElementById']('history-type-filter')['value']='all',document['getElementById'](bh(0x122))[bh(0x1b9)]='';const a=currentLadder['toLowerCase']();eloHistoryPagination[a]={'page':0x1,'lastVisible':null,'firstVisible':null},loadEloHistory(0x1);}function setupRankControls(){const bi=a4Q,a=document[bi(0x3ec)]('promote-player-btn'),b=document['getElementById'](bi(0x220)),c=document['getElementById'](bi(0x31a));a&&b&&c&&(a['addEventListener']('click',()=>{const bj=bi;b[bj(0x371)]['add']('active');}),b[bi(0x123)](bi(0x271),l=>{const bk=bi;l[bk(0x3ff)]===b&&b['classList'][bk(0x430)](bk(0x3f9));}),c['addEventListener'](bi(0x375),async l=>{const bl=bi;l[bl(0x2f5)]();const m=document['getElementById']('promote-username'),n=document[bl(0x3ec)](bl(0x1b7)),o=m['value'][bl(0x231)](),p=n[bl(0x1b9)];if(!o){showNotification('Please\x20enter\x20a\x20username','error');return;}try{await promotePlayer(o,p),b['classList']['remove'](bl(0x3f9)),m[bl(0x1b9)]='';}catch(q){showNotification(q['message'],bl(0x19b));}}),document[bi(0x3ec)]('cancel-promote-btn')[bi(0x123)]('click',()=>{const bm=bi;b['classList']['remove'](bm(0x3f9));}));const d=document[bi(0x3ec)](bi(0x467)),e=document[bi(0x3ec)](bi(0x1f5)),f=document[bi(0x3ec)]('demote-form');d&&e&&f&&(d['addEventListener'](bi(0x271),()=>{const bn=bi;e['classList'][bn(0x3fa)]('active');}),e[bi(0x123)]('click',l=>{const bo=bi;l['target']===e&&e[bo(0x371)]['remove'](bo(0x3f9));}),f['addEventListener'](bi(0x375),async l=>{const bp=bi;l['preventDefault']();const m=document[bp(0x3ec)](bp(0x27a)),n=document[bp(0x3ec)]('demote-ladder'),o=m[bp(0x1b9)][bp(0x231)](),p=n['value'];if(!o){alert(bp(0x3d9));return;}try{await demotePlayer(o,p),document['getElementById'](bp(0x1f5))['classList']['remove'](bp(0x3f9)),document[bp(0x3ec)](bp(0x27a))[bp(0x1b9)]='';}catch(q){console[bp(0x19b)](bp(0x2c8),q);}}));const g=document['getElementById'](bi(0x321)),h=document[bi(0x3ec)]('set-elo-modal'),i=document[bi(0x3ec)]('set-elo-form');g&&h&&i&&(g[bi(0x123)](bi(0x271),()=>{const bq=bi;h['classList']['add'](bq(0x3f9));}),h[bi(0x123)](bi(0x271),l=>{const br=bi;l['target']===h&&h[br(0x371)]['remove']('active');}),i[bi(0x123)]('submit',async l=>{const bs=bi;l[bs(0x2f5)]();const m=document['getElementById']('set-elo-username'),n=document['getElementById'](bs(0x41f));let o;const p=document[bs(0x3ec)]('set-elo-ladder'),q=document[bs(0x18a)](bs(0x3fd));if(p)o=p[bs(0x1b9)];else q?o=q[bs(0x1b9)]:o='D1';if(!m||!n){showNotification('Form\x20elements\x20are\x20missing','error');return;}const r=m['value'][bs(0x231)](),s=parseInt(n['value']);if(!r||isNaN(s)){showNotification(bs(0x196),bs(0x19b));return;}try{await setCustomElo(r,s,o),h[bs(0x371)][bs(0x430)]('active'),m['value']='',n['value']='';}catch(t){showNotification(t['message'],'error');}}),document[bi(0x3ec)](bi(0x184))['addEventListener'](bi(0x271),()=>{const bt=bi;h['classList'][bt(0x430)](bt(0x3f9));}));const j=document[bi(0x3ec)]('set-role-modal'),k=document['getElementById']('set-role-form');if(j&&k){j[bi(0x123)]('click',m=>{const bu=bi;m[bu(0x3ff)]===j&&closeModalHandler();}),k['addEventListener']('submit',async m=>{const bv=bi;m[bv(0x2f5)]();const n=document['getElementById'](bv(0x25f)),o=document[bv(0x3ec)]('role-name'),p=document['getElementById'](bv(0x41d)),q=n[bv(0x1b9)]['trim'](),r=o['value'][bv(0x231)](),s=p['value'];if(!q){showNotification('Username\x20is\x20missing','error');return;}try{await setUserRole(q,r,s),closeModalHandler(),loadUsersWithRoles();}catch(t){}});const l=document['getElementById']('cancel-role-btn');l&&(l[bi(0x2c4)]('click',closeModalHandler),l[bi(0x123)]('click',closeModalHandler));}}async function promotePlayer(a,b){const bw=a4Q;try{console[bw(0x395)]('Attempting\x20to\x20promote\x20'+a+'\x20in\x20'+b+'\x20ladder');const c=auth[bw(0x186)];if(!c)throw new Error('You\x20must\x20be\x20logged\x20in\x20to\x20perform\x20this\x20action');const d=b==='D2'?bw(0x2ed):'players',e=b==='D2'?'eloHistoryD2':bw(0x154);console[bw(0x395)](bw(0x205)+d);const f=collection(db,d),g=query(f,where('username','==',a)),h=await getDocs(g);if(h['empty']){alert('Player\x20not\x20found\x20in\x20'+b+bw(0x3f4));throw new Error(bw(0x3e0)+b+'\x20ladder');}const i=h[bw(0x263)][0x0],j=i['data'](),k=j[bw(0x381)]||0x4b0,l=i['id'];console['log'](bw(0x433)+k);const m=[{'name':bw(0x1be),'elo':0x578},{'name':bw(0x40f),'elo':0x640},{'name':bw(0x31b),'elo':0x708},{'name':'Emerald','elo':0x7d0}];let n=m[bw(0x132)](o=>o['elo']>k);if(!n){alert(bw(0x1ef)+b+'\x20ladder');throw new Error('Player\x20is\x20already\x20at\x20maximum\x20rank\x20(Emerald)\x20in\x20'+b+'\x20ladder');}console['log'](bw(0x37a)+n['name']+'\x20('+n['elo']+')'),await updateDoc(doc(db,d,i['id']),{'eloRating':n['elo'],'lastPromotedAt':serverTimestamp(),'promotedBy':c['email']||'admin'}),await addDoc(collection(db,e),{'player':a,'previousElo':k,'newElo':n[bw(0x274)],'timestamp':serverTimestamp(),'type':bw(0x290),'rankAchieved':n[bw(0x28c)],'promotedBy':c['email']||'admin','gameMode':b});try{const {promotionManager:o}=await import(bw(0x2f8)),p=o['getRankName'](k),r=n[bw(0x28c)];await o['sendPromotionNotification'](l,a,k,n[bw(0x274)],p,r,bw(0x290),{'displayName':a,'source':bw(0x302),'adminUser':c[bw(0x25a)],'ladder':b}),console[bw(0x395)]('Promotion\x20notification\x20sent\x20to\x20Discord\x20bot');}catch(s){console['error'](bw(0x425),s);}return alert(bw(0x189)+a+bw(0x3cf)+n[bw(0x28c)]+'\x20('+n[bw(0x274)]+')'),currentLadder===b&&(loadPlayersData(),loadEloHistory(0x1)),!![];}catch(t){console['error'](bw(0x15b),t),alert('Error\x20promoting\x20player:\x20'+t['message']);throw t;}}document[a4Q(0x123)](a4Q(0x165),()=>{const bx=a4Q,a=document['getElementById']('promote-form');a&&a[bx(0x123)]('submit',async b=>{const by=bx;b['preventDefault']();const c=document[by(0x3ec)]('promote-username')['value']['trim'](),d=document['querySelector']('input[name=\x22promote-ladder\x22]:checked')['value'];if(!c){alert(by(0x3d9));return;}try{await promotePlayer(c,d),document['getElementById']('promote-modal')[by(0x371)]['remove']('active'),document[by(0x3ec)](by(0x26a))['value']='';}catch(f){console['error']('Error\x20in\x20promotion:',f);}});});async function demotePlayer(a,b){const bz=a4Q;try{console[bz(0x395)]('Attempting\x20to\x20demote\x20'+a+bz(0x2ae)+b+bz(0x3f4));const c=auth['currentUser'];if(!c)throw new Error('You\x20must\x20be\x20logged\x20in\x20to\x20perform\x20this\x20action');const d=b==='D2'?bz(0x2ed):bz(0x29b),e=b==='D2'?'eloHistoryD2':'eloHistory';console[bz(0x395)](bz(0x205)+d);const f=collection(db,d),g=query(f,where('username','==',a)),h=await getDocs(g);if(h['empty']){alert('Player\x20not\x20found\x20in\x20'+b+'\x20ladder');throw new Error('Player\x20not\x20found\x20in\x20'+b+'\x20ladder');}const i=h[bz(0x263)][0x0],j=i['data'](),k=j[bz(0x381)]||0x4b0;console[bz(0x395)]('Found\x20player\x20with\x20current\x20ELO:\x20'+k);const l=[{'name':bz(0x31b),'elo':0x708},{'name':'Silver','elo':0x640},{'name':bz(0x1be),'elo':0x578},{'name':'Unranked','elo':0x4b0}];let m=l['find'](n=>n['elo']<k);if(!m){alert('Player\x20is\x20already\x20at\x20minimum\x20rank\x20(Unranked)\x20in\x20'+b+'\x20ladder');throw new Error('Player\x20is\x20already\x20at\x20minimum\x20rank\x20(Unranked)\x20in\x20'+b+'\x20ladder');}console['log'](bz(0x26f)+m['name']+'\x20('+m[bz(0x274)]+')'),await updateDoc(doc(db,d,i['id']),{'eloRating':m['elo'],'lastDemotedAt':serverTimestamp(),'demotedBy':c[bz(0x25a)]||bz(0x302)}),await addDoc(collection(db,e),{'player':a,'previousElo':k,'newElo':m['elo'],'timestamp':serverTimestamp(),'type':bz(0x33f),'rankAchieved':m[bz(0x28c)],'demotedBy':c['email']||bz(0x302),'gameMode':b});try{const {promotionManager:n}=await import(bz(0x2f8)),o=n['getRankName'](k),p=m['name'];await n[bz(0x441)](i['id'],a,k,m[bz(0x274)],o,p,'demotion',{'displayName':a,'source':'admin','adminUser':c[bz(0x25a)],'ladder':b}),console['log'](bz(0x362));}catch(r){console['error'](bz(0x425),r);}return alert(bz(0x29c)+a+'\x20to\x20'+m['name']+'\x20('+m[bz(0x274)]+')'),currentLadder===b&&(loadPlayersData(),loadEloHistory(0x1)),!![];}catch(s){console[bz(0x19b)](bz(0x1dc),s),alert(bz(0x328)+s['message']);throw s;}}document['addEventListener']('DOMContentLoaded',()=>{const bA=a4Q,a=document['getElementById'](bA(0x315));a&&a['addEventListener']('submit',async b=>{const bB=bA;b[bB(0x2f5)]();const c=document[bB(0x3ec)]('demote-username')['value']['trim'](),d=document[bB(0x18a)]('input[name=\x22demote-ladder\x22]:checked')[bB(0x1b9)];if(!c){alert('Please\x20enter\x20a\x20username');return;}try{await demotePlayer(c,d),document['getElementById'](bB(0x1f5))['classList'][bB(0x430)](bB(0x3f9)),document['getElementById']('demote-username')['value']='';}catch(f){console['error'](bB(0x2c8),f);}});});async function setCustomElo(a,b,c){const bC=a4Q;try{const d=auth['currentUser'];if(!d||!isAdmin(d['email']))throw new Error('Unauthorized:\x20Admin\x20access\x20required');const e=c==='D2'?bC(0x2ed):bC(0x29b),f=c==='D2'?'eloHistoryD2':'eloHistory',g=collection(db,e),h=query(g,where('username','==',a)),i=await getDocs(h);if(i[bC(0x140)])throw new Error('Player\x20not\x20found\x20in\x20'+c+'\x20ladder');const j=i['docs'][0x0],k=j[bC(0x39b)](),l=k['eloRating']||0x4b0,m=writeBatch(db);m['update'](doc(db,e,j['id']),{'eloRating':b,'lastModifiedAt':serverTimestamp(),'lastModifiedBy':d['email']});const n=doc(collection(db,f));return m[bC(0x421)](n,{'player':a,'previousElo':l,'newElo':b,'timestamp':serverTimestamp(),'type':bC(0x19e),'modifiedBy':d['email'],'gameMode':c}),await m[bC(0x3d2)](),showNotification(bC(0x228)+a+'\x20was\x20updated\x20from\x20'+l+'\x20to\x20'+b,'success'),currentLadder===c&&(loadDashboardOverview(),loadPlayersData(),loadEloHistory(0x1)),!![];}catch(o){console['error']('Error\x20setting\x20custom\x20ELO:',o);throw o;}}async function setUserRole(a,b,c){const bD=a4Q;try{const d=auth[bD(0x186)];if(!d||!isAdmin(d[bD(0x25a)]))throw new Error(bD(0x288));const e=b?b['trim']():null,f=e?c||bD(0x333):null,[g,h]=await Promise['all']([getDocs(query(collection(db,'players'),where('username','==',a))),getDocs(query(collection(db,bD(0x2ed)),where('username','==',a)))]),i=[];if(!g[bD(0x140)])i[bD(0x1eb)]({'ref':g[bD(0x263)][0x0]['ref'],'source':'D1'});if(!h['empty'])i[bD(0x1eb)]({'ref':h['docs'][0x0]['ref'],'source':'D2'});if(i[bD(0x2cc)]===0x0){const [l,m]=await Promise[bD(0x38f)]([getDocs(query(collection(db,'nonParticipants'),where(bD(0x2a3),'==',a))),getDocs(query(collection(db,bD(0x363)),where('username','==',a)))]);if(!l[bD(0x140)])i['push']({'ref':l[bD(0x263)][0x0]['ref'],'source':bD(0x423)});if(!m[bD(0x140)])i[bD(0x1eb)]({'ref':m[bD(0x263)][0x0][bD(0x22d)],'source':'UserProfile'});}if(i['length']===0x0)throw new Error('User\x20\x22'+a+'\x22\x20not\x20found\x20in\x20any\x20collection');const j=writeBatch(db);i[bD(0x12d)](n=>{const bE=bD;console['log']('Updating\x20role\x20for\x20'+a+bE(0x2ae)+n[bE(0x308)]),!e?j['update'](n['ref'],{'roleName':deleteField(),'roleColor':deleteField(),'roleAssignedBy':deleteField(),'roleAssignedAt':deleteField()}):j[bE(0x206)](n['ref'],{'roleName':e,'roleColor':f,'roleAssignedBy':d['email'],'roleAssignedAt':serverTimestamp()});}),await j[bD(0x3d2)]();const k=e?'Role\x20\x22'+e+bD(0x2f7):'Role\x20removed';return showNotification(k+bD(0x351)+a+'\x22',bD(0x3bf)),!![];}catch(n){console[bD(0x19b)]('Error\x20setting\x20user\x20role:',n),showNotification(bD(0x378)+n[bD(0x42a)],bD(0x19b));throw n;}}function showNotification(a,b=a4Q(0x2a6)){const bF=a4Q,c=document['createElement']('div');c['className']='notification\x20'+b,c['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22notification-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+getNotificationIcon(b)+'\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+a+bF(0x3ce),document['body'][bF(0x33d)](c),setTimeout(()=>{const bG=bF;c[bG(0x371)][bG(0x3fa)](bG(0x3f9));},0xa);const d=setTimeout(()=>{closeNotification(c);},0x1388);c[bF(0x18a)](bF(0x299))['addEventListener']('click',()=>{clearTimeout(d),closeNotification(c);});}function getNotificationIcon(a){const bH=a4Q;switch(a){case bH(0x3bf):return bH(0x34f);case bH(0x19b):return'fa-exclamation-circle';case'warning':return'fa-exclamation-triangle';case'info':default:return bH(0x403);}}function closeNotification(a){const bI=a4Q;a[bI(0x371)]['remove'](bI(0x3f9)),setTimeout(()=>{a['remove']();},0x12c);}function setupUserRolesSection(){const bJ=a4Q,a=document['getElementById'](bJ(0x2b2));a&&a['addEventListener']('click',function(){const bK=bJ;this['classList']['add'](bK(0x2da)),this['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...',loadUsersWithRoles()[bK(0x21e)](()=>{const bL=bK;this['classList']['remove']('loading'),this[bL(0x267)]='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Users\x20Data';})[bK(0x281)](e=>{console['error']('Error\x20loading\x20users:',e),this['classList']['remove']('loading'),this['innerHTML']='<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error',setTimeout(()=>{const bM=a4d;this['innerHTML']=bM(0x1c9);},0xbb8);});});const b=document['getElementById']('add-new-role-btn');b&&b['addEventListener']('click',()=>{const bN=bJ,e=document['getElementById']('set-role-modal');e&&e['classList']['add'](bN(0x3f9));});const c=document['getElementById']('user-search');c&&c['addEventListener']('input',debounce(filterUsersTable,0x12c));const d=document[bJ(0x3ec)]('role-filter');d&&d[bJ(0x123)]('change',filterUsersTable);}async function loadUsersWithRoles(){const bO=a4Q,a=document['getElementById'](bO(0x266));if(!a)return;a[bO(0x267)]='<tr><td\x20colspan=\x225\x22\x20class=\x22loading-cell\x22>Loading\x20users...</td></tr>';try{const [b,c,d,e]=await Promise['all']([getDocs(collection(db,bO(0x29b))),getDocs(collection(db,'playersD2')),getDocs(collection(db,'nonParticipants')),getDocs(collection(db,'userProfiles'))]),f=new Map();function g(i,j){i['forEach'](k=>{const bP=a4d,l=k[bP(0x39b)]();if(!l['username'])return;if(!f[bP(0x208)](l[bP(0x2a3)]))f['set'](l['username'],{'username':l['username'],'roleName':l['roleName']||null,'roleColor':l['roleColor']||null,'roleAssignedBy':l['roleAssignedBy']||null,'roleAssignedAt':l['roleAssignedAt']||null,'sources':[j]});else{const m=f['get'](l['username']);l['roleName']&&(!m[bP(0x1c4)]||j==='D1'||j==='D2')&&(m['roleName']=l['roleName'],m['roleColor']=l[bP(0x2d5)],m['roleAssignedBy']=l['roleAssignedBy'],m[bP(0x304)]=l['roleAssignedAt']),!m['sources']['includes'](j)&&m['sources']['push'](j);}});}g(b,'D1'),g(c,'D2'),g(d,'Non-Participant'),g(e,'Profile');const h=Array[bO(0x357)](f[bO(0x294)]())['sort']((i,j)=>i['username'][bO(0x346)](j['username']));if(h[bO(0x2cc)]===0x0){a['innerHTML']=bO(0x1b2);return;}a['innerHTML']='',h['forEach'](i=>{const bQ=bO,j=document['createElement']('tr');j['dataset']['username']=i[bQ(0x2a3)],j[bQ(0x1f0)]['roleName']=i['roleName']||'',j['dataset'][bQ(0x2d5)]=i['roleColor']||'#808080';const k=i[bQ(0x304)]?new Date(i[bQ(0x304)][bQ(0x2b3)]*0x3e8)[bQ(0x12b)]():bQ(0x1b5),l=i['roleName']?'<span\x20class=\x22role-badge\x22\x20style=\x22background-color:\x20'+i['roleColor']+bQ(0x17f)+getContrastColor(i['roleColor'])+bQ(0x3bd)+i['roleName']+'</span>':bQ(0x344);j['innerHTML']=bQ(0x1d6)+i[bQ(0x2a3)]+bQ(0x3da)+i['sources'][bQ(0x31f)](',\x20')+bQ(0x3af)+l+bQ(0x2a4)+(i['roleAssignedBy']||'N/A')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+k+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-role-btn\x22\x20data-username=\x22'+i['username']+bQ(0x30a)+(i[bQ(0x1c4)]?bQ(0x261)+i['username']+'\x22\x20title=\x22Remove\x20Role\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20<!--\x20Changed\x20icon\x20-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+bQ(0x135),a[bQ(0x33d)](j);}),document[bO(0x292)]('.edit-role-btn')[bO(0x12d)](i=>{const bR=bO;i[bR(0x123)](bR(0x271),()=>{const bS=bR,j=i['dataset'][bS(0x2a3)];openRoleEditModal(j);});}),document[bO(0x292)]('.remove-role-btn')['forEach'](i=>{i['addEventListener']('click',()=>{const bT=a4d,j=i['dataset']['username'];confirm(bT(0x2b8)+j+'?')&&setUserRole(j,null,null)[bT(0x21e)](()=>loadUsersWithRoles())[bT(0x281)](k=>console['error']('Error\x20removing\x20role:',k));});});}catch(i){console[bO(0x19b)]('Error\x20loading\x20users:',i),a['innerHTML']=bO(0x2e0);}}function openRoleEditModal(a){const bU=a4Q;console['log'](bU(0x428),a);const b=document['getElementById'](bU(0x3e6)),c=document['getElementById'](bU(0x25f)),d=document['getElementById']('user-role');if(!b){console[bU(0x19b)]('CRITICAL:\x20Role\x20modal\x20element\x20(#set-role-modal)\x20not\x20found\x20in\x20the\x20DOM!'),alert('Error:\x20Could\x20not\x20find\x20the\x20role\x20editing\x20dialog.');return;}console[bU(0x395)]('Modal\x20element\x20found:',b);c?(c[bU(0x1b9)]=a,console['log']('Username\x20input\x20set\x20to:\x20'+a)):console['warn'](bU(0x2b1));const e=document['querySelector']('#users-table-body\x20tr[data-username=\x22'+a+'\x22]');if(e&&d){const g=e['dataset']['role'];d['value']=g===bU(0x1da)?'':g,console[bU(0x395)](bU(0x3a1)+d['value']+'\x20(based\x20on\x20data-role:\x20'+g+')');}else{if(!e)console['warn'](bU(0x166)+a+'\x20not\x20found.');if(!d)console[bU(0x28e)](bU(0x1f9));if(d)d['value']='';}console['log'](bU(0x3ab)),b[bU(0x371)][bU(0x3fa)](bU(0x3f9));const f=document['getElementById']('cancel-role-btn');f?(console['log']('Attaching\x20cancel\x20button\x20listener.'),f[bU(0x2c4)]('click',closeModalHandler),f['addEventListener']('click',closeModalHandler)):console['warn']('Cancel\x20button\x20(#cancel-role-btn)\x20not\x20found\x20in\x20modal.'),console[bU(0x395)](bU(0x409)),b[bU(0x2c4)](bU(0x271),closeModalBackgroundHandler),b[bU(0x123)](bU(0x271),closeModalBackgroundHandler);}function closeModalBackgroundHandler(a){a['target']===this&&closeModalHandler();}function closeModalHandler(){const bV=a4Q,a=document[bV(0x3ec)](bV(0x3e6));a&&(a['classList'][bV(0x430)]('active'),a[bV(0x2c4)](bV(0x271),closeModalBackgroundHandler));}function filterUsersTable(){const bW=a4Q,a=document[bW(0x3ec)](bW(0x320))?.[bW(0x1b9)]['toLowerCase']()||'',b=document[bW(0x3ec)]('role-filter')?.[bW(0x1b9)]||bW(0x38f),c=document['querySelectorAll']('#users-table-body\x20tr');let d=0x0;c[bW(0x12d)](e=>{const bX=bW;if(e[bX(0x18a)]('.loading-cell')||e['querySelector']('.empty-state')||e['querySelector']('.error-state'))return;const f=e['dataset'][bX(0x2a3)]?.[bX(0x33e)]()||'',g=e['dataset'][bX(0x34c)]||'none',h=f[bX(0x406)](a),i=b==='all'||g===b;h&&i?(e['style'][bX(0x18d)]='',d++):e[bX(0x42c)]['display']=bX(0x1da);});if(d===0x0&&c[bW(0x2cc)]>0x0){const e=document['getElementById'](bW(0x266));if(e){if(!e[bW(0x18a)](bW(0x342))){const f=document[bW(0x3f7)]('tr');f['classList']['add']('no-results'),f[bW(0x267)]='<td\x20colspan=\x225\x22\x20class=\x22empty-state\x22>No\x20users\x20match\x20your\x20filters</td>',e['appendChild'](f);}}}else{const g=document['querySelector']('.no-results');g&&g['remove']();}}function a4d(a,b){const c=a4c();return a4d=function(d,e){d=d-0x10d;let f=c[d];if(a4d['JpeTcB']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a4d['QYhdlQ']=g,a=arguments,a4d['JpeTcB']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a4d['QYhdlQ'](f),a[i]=f):f=j,f;},a4d(a,b);}function setupManageArticlesSection(){const c2=a4Q,a=document['getElementById']('load-articles-data');a&&a['addEventListener']('click',function(){const bY=a4d;this['classList']['add'](bY(0x2da)),this['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...',loadArticles()['then'](()=>{const bZ=bY;this[bZ(0x371)][bZ(0x430)]('loading'),this['innerHTML']='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Articles';})['catch'](g=>{const c0=bY;console[c0(0x19b)]('Error\x20loading\x20articles:',g),this[c0(0x371)][c0(0x430)](c0(0x2da)),this[c0(0x267)]='<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error',setTimeout(()=>{const c1=c0;this[c1(0x267)]=c1(0x426);},0xbb8);});});const b=document[c2(0x3ec)](c2(0x3bb));b?(console['log'](c2(0x414)),b['style'][c2(0x18d)]=c2(0x1e3),b['addEventListener']('click',()=>{openArticleModal();})):console['error'](c2(0x23c));const c=document['getElementById'](c2(0x373));c&&c[c2(0x123)]('submit',g=>{const c3=c2;g[c3(0x2f5)](),saveArticle();});const d=document['getElementById']('cancel-article-btn');d&&d['addEventListener'](c2(0x271),()=>{closeArticleModal();});const e=document['querySelector']('#article-modal\x20.close-btn');e&&e[c2(0x123)]('click',()=>{closeArticleModal();});const f=document[c2(0x3ec)](c2(0x113));f&&f['addEventListener']('click',g=>{const c4=c2;g[c4(0x3ff)]===f&&closeArticleModal();});}async function loadArticles(){const c5=a4Q,a=document['getElementById'](c5(0x2bf));if(!a)return;a[c5(0x267)]='<tr><td\x20colspan=\x224\x22\x20class=\x22loading-cell\x22>Loading\x20articles...</td></tr>';try{const b=collection(db,'articles'),c=query(b,orderBy('createdAt','desc')),d=await getDocs(c);if(d[c5(0x140)]){a[c5(0x267)]=c5(0x187);return;}a['innerHTML']='',d['forEach'](e=>{const c6=c5,f=e['data'](),g=document[c6(0x3f7)]('tr'),h=f['createdAt']?new Date(f[c6(0x2a5)]['seconds']*0x3e8)[c6(0x3c8)]():'N/A';g['innerHTML']=c6(0x1d6)+(f['title']||c6(0x17e))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(f['author']||'Unknown')+c6(0x2a4)+h+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-article-btn\x22\x20data-id=\x22'+e['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-article-btn\x22\x20data-id=\x22'+e['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',a[c6(0x33d)](g);}),setupArticleActionButtons();}catch(e){console[c5(0x19b)](c5(0x427),e),a['innerHTML']=c5(0x28a)+e['message']+c5(0x223);}}function setupArticleActionButtons(){const c7=a4Q;document[c7(0x292)]('.edit-article-btn')[c7(0x12d)](a=>{const c8=c7;a[c8(0x123)](c8(0x271),async b=>{const c=b['currentTarget']['dataset']['id'];openArticleModal(c);});}),document[c7(0x292)]('.delete-article-btn')[c7(0x12d)](a=>{const c9=c7;a[c9(0x123)]('click',async b=>{const c=b['currentTarget']['dataset']['id'];confirmDeleteArticle(c);});});}function openArticleModal(a=null){const ca=a4Q,b=document['getElementById']('article-modal'),c=document[ca(0x3ec)]('article-modal-title'),d=document[ca(0x3ec)](ca(0x373)),e=document['getElementById'](ca(0x3ca));d['reset'](),e[ca(0x1b9)]='';if(a)c['textContent']='Edit\x20Article',e[ca(0x1b9)]=a,loadArticleData(a);else{c[ca(0x3f2)]=ca(0x11b);const f=auth['currentUser'];if(f){const g=document[ca(0x3ec)]('article-author');if(g&&f['displayName'])g['value']=f[ca(0x3f1)];else g&&(g['value']=f['email']);}}b[ca(0x371)]['add'](ca(0x3f9));}async function loadArticleData(a){const cb=a4Q;try{const b=doc(db,cb(0x192),a),c=await getDoc(b);if(!c[cb(0x415)]()){showNotification(cb(0x278),'error');return;}const d=c['data']();document['getElementById']('article-title')[cb(0x1b9)]=d['title']||'',document['getElementById'](cb(0x21f))['value']=d['author']||'',document[cb(0x3ec)](cb(0x11f))['value']=d['imageUrl']||'',document[cb(0x3ec)]('article-content')['value']=d['content']||'';}catch(e){console[cb(0x19b)](cb(0x367),e),showNotification(cb(0x18e),cb(0x19b));}}async function saveArticle(){const cc=a4Q;try{const a=document['getElementById']('article-id')['value'],b=document[cc(0x3ec)](cc(0x35e))[cc(0x1b9)][cc(0x231)](),c=document['getElementById']('article-author')[cc(0x1b9)]['trim'](),d=document[cc(0x3ec)](cc(0x11f))['value']['trim'](),e=document['getElementById']('article-content')['value']['trim']();if(!b||!e){showNotification('Title\x20and\x20content\x20are\x20required','error');return;}const f=auth['currentUser'];if(!f){showNotification(cc(0x2eb),cc(0x19b));return;}const g={'title':b,'author':c,'imageUrl':d||null,'content':e,'lastModifiedAt':serverTimestamp(),'lastModifiedBy':f[cc(0x25a)]};!a?(g['createdAt']=serverTimestamp(),g['createdBy']=f[cc(0x25a)],await addDoc(collection(db,cc(0x192)),g),showNotification(cc(0x356),cc(0x3bf))):(await updateDoc(doc(db,'articles',a),g),showNotification('Article\x20updated\x20successfully',cc(0x3bf))),closeArticleModal(),loadArticles();}catch(h){console['error']('Error\x20saving\x20article:',h),showNotification(cc(0x457)+h['message'],'error');}}function closeArticleModal(){const cd=a4Q,a=document['getElementById']('article-modal');a&&a[cd(0x371)][cd(0x430)]('active');}async function confirmDeleteArticle(a){const ce=a4Q;if(confirm(ce(0x311)))try{await deleteDoc(doc(db,'articles',a)),loadArticles(),showNotification(ce(0x3d0),'success');}catch(b){console['error'](ce(0x2f1),b),showNotification(ce(0x282)+b[ce(0x42a)],'error');}}function setupTrophyManagementSection(){const cf=a4Q,a=document['getElementById']('load-trophies-data');a&&a['addEventListener'](cf(0x271),function(){const cg=cf;this[cg(0x371)]['add'](cg(0x2da)),this['innerHTML']=cg(0x23f);const j=document[cg(0x3ec)](cg(0x26e));j&&(j[cg(0x2d6)]=function(){const ch=cg;this[ch(0x42d)]=DEFAULT_TROPHY_IMAGE;}),loadTrophyDefinitions()[cg(0x21e)](()=>{const ci=cg;this[ci(0x371)]['remove']('loading'),this[ci(0x267)]='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Trophies';})['catch'](k=>{const cj=cg;console['error'](cj(0x158),k),this[cj(0x371)]['remove']('loading'),this['innerHTML']='<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error',setTimeout(()=>{const ck=cj;this[ck(0x267)]=ck(0x148);},0xbb8);});});const b=document['getElementById'](cf(0x118));b&&b['addEventListener']('click',()=>{openTrophyModal();});const c=document[cf(0x3ec)]('trophy-form');c&&c[cf(0x123)](cf(0x375),j=>{const cl=cf;j[cl(0x2f5)](),saveTrophyDefinition();});const d=document[cf(0x3ec)]('cancel-trophy-btn');d&&d[cf(0x123)](cf(0x271),()=>{closeTrophyModal();});document[cf(0x292)](cf(0x411))['forEach'](j=>{const cm=cf;j[cm(0x123)](cm(0x271),()=>{closeTrophyModal(),closeAssignTrophyModal();});});const e=document[cf(0x3ec)]('trophy-modal');e&&e[cf(0x123)]('click',j=>{const cn=cf;j[cn(0x3ff)]===e&&closeTrophyModal();});const f=document['getElementById'](cf(0x144));f&&f[cf(0x123)]('click',j=>{const co=cf;j[co(0x3ff)]===f&&closeAssignTrophyModal();});const g=document[cf(0x3ec)](cf(0x1ac));g&&g[cf(0x123)](cf(0x375),j=>{const cp=cf;j[cp(0x2f5)](),assignTrophyToPlayer();});const h=document[cf(0x3ec)]('cancel-assign-btn');h&&h[cf(0x123)](cf(0x271),()=>{closeAssignTrophyModal();});const i=document[cf(0x3ec)](cf(0x169));i&&(i['addEventListener'](cf(0x15f),updateTrophyImagePreview),i[cf(0x123)]('paste',()=>{setTimeout(updateTrophyImagePreview,0xa);}));}function updateTrophyImagePreview(){const cq=a4Q,a=document[cq(0x3ec)]('trophy-image-url')['value'][cq(0x231)](),b=document['getElementById'](cq(0x17d));if(!b){const d=document[cq(0x3ec)]('trophy-image-url')[cq(0x229)](cq(0x15c)),e=document[cq(0x3f7)]('div');e['id']='trophy-image-preview',e[cq(0x34a)]=cq(0x152),d['appendChild'](e);const f=document['createElement']('img');f['id']='trophy-preview-img',f['alt']='Trophy\x20Preview',f['onerror']=function(){const cr=cq;this[cr(0x42d)]=DEFAULT_TROPHY_IMAGE,this[cr(0x371)]['add'](cr(0x19b));},e[cq(0x33d)](f);}const c=document['getElementById'](cq(0x141));a?(c[cq(0x42d)]=a,c[cq(0x42c)][cq(0x18d)]='block',c[cq(0x371)]['remove']('error')):(c['src']=DEFAULT_TROPHY_IMAGE,c['style'][cq(0x18d)]='block');}async function loadTrophyDefinitions(){const cs=a4Q,a=document['getElementById']('trophies-table-body');if(!a)return;a['innerHTML']='<tr><td\x20colspan=\x225\x22\x20class=\x22loading-cell\x22>Loading\x20trophies...</td></tr>';try{const b=collection(db,'trophyDefinitions'),c=query(b,orderBy('createdAt','desc')),d=await getDocs(c);if(d[cs(0x140)]){a[cs(0x267)]='<tr><td\x20colspan=\x225\x22\x20class=\x22empty-state\x22>No\x20trophy\x20definitions\x20found</td></tr>';return;}a['innerHTML']='',d['forEach'](e=>{const ct=cs,f=e['data'](),g=document['createElement']('tr'),h=f[ct(0x2a5)]?new Date(f['createdAt']['seconds']*0x3e8)[ct(0x3c8)]():'N/A';g['innerHTML']=ct(0x45d)+(f[ct(0x15a)]||DEFAULT_TROPHY_IMAGE)+ct(0x330)+f['name']+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.src=\x27'+DEFAULT_TROPHY_IMAGE+'\x27;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22trophy-name\x22>'+(f[ct(0x28c)]||'Untitled\x20Trophy')+ct(0x2b9)+(f['rarity']||ct(0x1a5))+'\x22>'+(f['rarity']||'common')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+h+ct(0x1a2)+e['id']+ct(0x44e)+e['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-plus\x22\x20title=\x22Assign\x20to\x20player\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-trophy-btn\x22\x20data-id=\x22'+e['id']+ct(0x137),a['appendChild'](g);}),setupTrophyActionButtons();}catch(e){console['error']('Error\x20loading\x20trophy\x20definitions:',e),a['innerHTML']=cs(0x146)+e[cs(0x42a)]+cs(0x223);}}function setupTrophyActionButtons(){const cw=a4Q;document['querySelectorAll']('.edit-trophy-btn')['forEach'](a=>{const cu=a4d;a[cu(0x123)]('click',b=>{const cv=cu,c=b[cv(0x29d)]['dataset']['id'];openTrophyModal(c);});}),document['querySelectorAll'](cw(0x322))[cw(0x12d)](a=>{const cx=cw;a[cx(0x123)](cx(0x271),b=>{const c=b['currentTarget']['dataset']['id'];openAssignTrophyModal(c);});}),document['querySelectorAll']('.delete-trophy-btn')['forEach'](a=>{const cy=cw;a['addEventListener'](cy(0x271),b=>{const c=b['currentTarget']['dataset']['id'];confirmDeleteTrophy(c);});});}function openTrophyModal(a=null){const cz=a4Q,b=document['getElementById'](cz(0x1aa)),c=document['getElementById']('trophy-modal-title'),d=document['getElementById']('trophy-form'),e=document['getElementById']('trophy-id');d['reset'](),e['value']='';const f=document['getElementById']('trophy-preview-img');f&&(f[cz(0x42d)]=DEFAULT_TROPHY_IMAGE,f[cz(0x371)][cz(0x430)](cz(0x19b))),a?(c['textContent']='Edit\x20Trophy',e['value']=a,loadTrophyData(a)):c[cz(0x3f2)]=cz(0x138),b[cz(0x371)]['add']('active');}async function loadTrophyData(a){const cA=a4Q;try{const b=doc(db,'trophyDefinitions',a),c=await getDoc(b);if(!c[cA(0x415)]()){showNotification('Trophy\x20not\x20found',cA(0x19b));return;}const d=c[cA(0x39b)]();document['getElementById'](cA(0x27d))[cA(0x1b9)]=d[cA(0x28c)]||'',document['getElementById']('trophy-description')['value']=d[cA(0x3dc)]||'',document[cA(0x3ec)](cA(0x169))[cA(0x1b9)]=d[cA(0x15a)]||'',document[cA(0x3ec)]('trophy-rarity')['value']=d['rarity']||cA(0x1a5),updateTrophyImagePreview();}catch(e){console['error'](cA(0x23b),e),showNotification(cA(0x221),cA(0x19b));}}async function saveTrophyDefinition(){const cB=a4Q;try{const a=document[cB(0x3ec)]('trophy-id')[cB(0x1b9)],b=document[cB(0x3ec)]('trophy-name')['value'][cB(0x231)](),c=document['getElementById'](cB(0x419))['value']['trim'](),d=document['getElementById'](cB(0x169))['value']['trim'](),e=document[cB(0x3ec)](cB(0x2c2))[cB(0x1b9)];if(!b||!c||!d){showNotification(cB(0x319),'error');return;}const f=auth[cB(0x186)];if(!f){showNotification('You\x20must\x20be\x20logged\x20in\x20to\x20save\x20trophies','error');return;}const g={'name':b,'description':c,'image':d,'rarity':e,'lastModifiedAt':serverTimestamp(),'lastModifiedBy':f['email']};!a?(g['createdAt']=serverTimestamp(),g[cB(0x1ad)]=f['email'],await addDoc(collection(db,'trophyDefinitions'),g),showNotification('Trophy\x20created\x20successfully',cB(0x3bf))):(await updateDoc(doc(db,cB(0x3db),a),g),showNotification(cB(0x1d1),cB(0x3bf))),closeTrophyModal(),loadTrophyDefinitions();}catch(h){console[cB(0x19b)]('Error\x20saving\x20trophy:',h),showNotification('Failed\x20to\x20save\x20trophy:\x20'+h[cB(0x42a)],cB(0x19b));}}function closeTrophyModal(){const cC=a4Q,a=document['getElementById']('trophy-modal');a&&a['classList']['remove'](cC(0x3f9));}async function confirmDeleteTrophy(a){const cD=a4Q;if(!a){console['error']('Delete\x20Trophy:\x20No\x20trophy\x20ID\x20provided.');return;}if(confirm('Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20trophy\x20definition?\x20This\x20action\x20cannot\x20be\x20undone\x20and\x20might\x20affect\x20players\x20who\x20have\x20been\x20awarded\x20this\x20trophy.'))try{const b=auth[cD(0x186)];if(!b){showNotification('You\x20must\x20be\x20logged\x20in\x20to\x20delete\x20trophies',cD(0x19b));return;}console['log']('Attempting\x20to\x20delete\x20trophy\x20definition\x20with\x20ID:\x20'+a),await deleteDoc(doc(db,'trophyDefinitions',a)),showNotification(cD(0x289),cD(0x3bf)),loadTrophyDefinitions();}catch(c){console['error'](cD(0x161),c),showNotification('Failed\x20to\x20delete\x20trophy:\x20'+c['message'],'error');}}async function openAssignTrophyModal(a){const cE=a4Q;try{const b=doc(db,cE(0x3db),a),c=await getDoc(b);if(!c[cE(0x415)]()){showNotification(cE(0x352),'error');return;}const d=c[cE(0x39b)]();document['getElementById']('assign-trophy-id')[cE(0x1b9)]=a,document['getElementById']('assign-trophy-name')['value']=d['name'],document[cE(0x3ec)](cE(0x26e))[cE(0x42d)]=d[cE(0x15a)]||DEFAULT_TROPHY_IMAGE,document[cE(0x3ec)]('assign-trophy-title')[cE(0x3f2)]=d['name']||cE(0x234),document[cE(0x3ec)]('assign-trophy-description')['textContent']=d[cE(0x3dc)]||cE(0x1de);const e=document['getElementById']('assign-trophy-rarity');e[cE(0x3f2)]=d[cE(0x214)]||'common',e[cE(0x34a)]=cE(0x42e)+(d['rarity']||'common');const f=document['getElementById'](cE(0x144));f[cE(0x371)]['add']('active');}catch(g){console[cE(0x19b)]('Error\x20opening\x20assign\x20trophy\x20modal:',g),showNotification(cE(0x221),'error');}}function closeAssignTrophyModal(){const cF=a4Q,a=document[cF(0x3ec)]('assign-trophy-modal');a&&a['classList'][cF(0x430)](cF(0x3f9));}async function assignTrophyToPlayer(){const cG=a4Q;try{const a=document[cG(0x3ec)]('assign-trophy-id')['value'],b=document['getElementById']('assign-trophy-name')['value'],c=document['getElementById'](cG(0x258))[cG(0x1b9)][cG(0x231)](),d=document[cG(0x18a)]('input[name=\x22assign-ladder\x22]:checked')['value'];if(!a||!c){showNotification(cG(0x22c),cG(0x19b));return;}const e=auth['currentUser'];if(!e){showNotification('You\x20must\x20be\x20logged\x20in\x20to\x20assign\x20trophies','error');return;}let f=null,g=null,h=null;if(d==='non-participant'){const l=collection(db,'nonParticipants'),m=query(l,where('username','==',c)),n=await getDocs(m);!n['empty']&&(f=n['docs'][0x0],g=f['id'],h=f['data']());}else{const o=d==='D1'?'players':d==='D2'?cG(0x2ed):'playersD3',p=collection(db,o),r=query(p,where('username','==',c)),s=await getDocs(r);!s[cG(0x140)]&&(f=s[cG(0x263)][0x0],g=f['id'],h=f[cG(0x39b)]());}if(!f){showNotification('Player\x20\x22'+c+cG(0x287)+(d==='non-participant'?'non-participants':d+cG(0x3f4)),'error');return;}const i=collection(db,'userTrophies'),j=query(i,where(cG(0x1bc),'==',g),where(cG(0x24d),'==',a)),k=await getDocs(j);if(!k[cG(0x140)]){showNotification('Player\x20\x22'+c+'\x22\x20already\x20has\x20this\x20trophy',cG(0x369));return;}await addDoc(collection(db,cG(0x249)),{'userId':g,'playerUsername':c,'trophyId':a,'awardedAt':serverTimestamp(),'awardedBy':e['email'],'ladder':d}),showNotification('Trophy\x20\x22'+b+'\x22\x20awarded\x20to\x20'+c,cG(0x3bf)),closeAssignTrophyModal();}catch(t){console['error']('Error\x20assigning\x20trophy:',t),showNotification(cG(0x1ae)+t['message'],'error');}}function setupInactivePlayersSection(){const cH=a4Q,a=document[cH(0x3ec)]('inactive-days-filter');a&&a['addEventListener']('change',function(){const cI=cH,e=document[cI(0x3ec)](cI(0x446));if(e)e['click']();});const b=document[cH(0x18a)]('.ladder-switch\x20input[value=\x22D1\x22]'),c=document[cH(0x18a)](cH(0x43c));b&&c&&(b['addEventListener']('change',function(){const cJ=cH;if(this['checked']){currentLadder='D1';if(document[cJ(0x3ec)](cJ(0x445))['style']['display']!==cJ(0x1da)){const e=document['getElementById']('load-inactive-players-data');if(e)e[cJ(0x271)]();}}}),c[cH(0x123)]('change',function(){const cK=cH;if(this['checked']){currentLadder='D2';if(document[cK(0x3ec)](cK(0x445))['style'][cK(0x18d)]!=='none'){const e=document[cK(0x3ec)](cK(0x446));if(e)e[cK(0x271)]();}}}));const d=document['getElementById'](cH(0x111));d&&d['addEventListener'](cH(0x15f),debounce(function(){const cL=cH,e=d[cL(0x1b9)]['toLowerCase'](),f=document['querySelectorAll']('#inactive-players-table-body\x20tr');f['forEach'](g=>{const cM=cL;if(g['querySelector']('.loading-cell')||g['querySelector'](cM(0x400))||g[cM(0x18a)](cM(0x125)))return;const h=g[cM(0x168)][0x0]?.[cM(0x3f2)][cM(0x33e)]()||'',i=g[cM(0x168)][0x5]?.[cM(0x3f2)][cM(0x33e)]()||'';h[cM(0x406)](e)||i['includes'](e)?g['style'][cM(0x18d)]='':g[cM(0x42c)]['display']='none';});},0x12c)),document['addEventListener']('click',function(f){const cN=cH;if(f['target'][cN(0x229)](cN(0x1ce))){const g=f['target'][cN(0x229)]('.view-player-btn'),h=g[cN(0x1f0)][cN(0x2a3)];h&&alert('View\x20player\x20details\x20for\x20'+h+cN(0x389));}}),console[cH(0x395)]('Inactive\x20players\x20section\x20initialized');}async function loadInactivePlayersData(){const cO=a4Q,a=document['getElementById'](cO(0x191));if(!a)return;a[cO(0x267)]='<tr><td\x20colspan=\x227\x22\x20class=\x22loading-cell\x22>Loading\x20inactive\x20players...</td></tr>';try{const b=document['getElementById'](cO(0x13b)),c=b?parseInt(b['value'])||0x0:0x0,d=collection(db,currentLadder==='D1'?'players':cO(0x2ed)),e=await getDocs(d);if(e['empty']){a[cO(0x267)]=cO(0x242);return;}const f=[];e['forEach'](j=>{const cP=cO,k=j['data']();f[cP(0x1eb)]({...k,'id':j['id'],'username':k['username']||'Unknown\x20Player'});}),console[cO(0x395)]('Found\x20'+f[cO(0x2cc)]+'\x20total\x20players\x20in\x20the\x20'+currentLadder+'\x20ladder');const g=currentLadder==='D1'?cO(0x424):'approvedMatchesD2',h=f['map'](async j=>{const cQ=cO;try{const k=collection(db,g),l=query(k,or(where(cQ(0x1d8),'==',j[cQ(0x2a3)]),where('loserUsername','==',j['username'])),orderBy(cQ(0x209),'desc'),limit(0x1)),m=await getDocs(l);if(!m['empty']){const n=m[cQ(0x263)][0x0]['data'](),o=n[cQ(0x209)]?new Date(n[cQ(0x209)]['seconds']*0x3e8):null,p=new Date(),r=o?Math[cQ(0x2f4)]((p-o)/(0x3e8*0x3c*0x3c*0x18)):null,s=n['winnerUsername']===j[cQ(0x2a3)]?n['loserUsername']:n[cQ(0x1d8)],t=n[cQ(0x1d8)]===j['username']?'Won':cQ(0x35b);return{...j,'lastMatch':{'date':o?o[cQ(0x12b)]():cQ(0x1b5),'opponent':s||'Unknown','result':t,'timestamp':o||new Date(0x0),'daysSinceMatch':r||Number[cQ(0x3f5)]}};}else return{...j,'lastMatch':{'date':cQ(0x25d),'opponent':'N/A','result':'N/A','timestamp':new Date(0x0),'daysSinceMatch':Number[cQ(0x3f5)]}};}catch(u){return console[cQ(0x19b)]('Error\x20fetching\x20matches\x20for\x20'+j['username']+':',u),{...j,'lastMatch':{'date':'Error','opponent':'Error','result':'Error','timestamp':new Date(0x0),'daysSinceMatch':0x0}};}});let i=await Promise['all'](h);i[cO(0x272)]((j,k)=>k['lastMatch']['daysSinceMatch']-j['lastMatch'][cO(0x358)]);c>0x0&&(i=i['filter'](j=>j['lastMatch'][cO(0x358)]>=c));a[cO(0x267)]='';if(i['length']===0x0){a['innerHTML']='<tr><td\x20colspan=\x227\x22\x20class=\x22empty-state\x22>No\x20inactive\x20players\x20match\x20your\x20criteria</td></tr>';return;}i['forEach'](j=>{const cR=cO,k=document[cR(0x3f7)]('tr'),l=j[cR(0x29a)][cR(0x358)]>0x1e?'highly-inactive':j['lastMatch'][cR(0x358)]>0xe?cR(0x284):'';k['className']=l,k[cR(0x267)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+j['username']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(j['eloRating']||0x4b0)+cR(0x2a4)+j[cR(0x29a)][cR(0x2c9)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(j['lastMatch']['daysSinceMatch']===Number['MAX_SAFE_INTEGER']?'N/A':j[cR(0x29a)]['daysSinceMatch'])+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+currentLadder+cR(0x2a4)+(j[cR(0x29a)]['date']===cR(0x25d)?'No\x20matches\x20found':j[cR(0x29a)]['result']+'\x20vs\x20'+j[cR(0x29a)][cR(0x182)])+cR(0x260)+j['username']+'\x22\x20title=\x22View\x20Player\x20Details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',a['appendChild'](k);}),console[cO(0x395)]('Displaying\x20'+i['length']+'\x20inactive\x20players');}catch(j){console[cO(0x19b)](cO(0x120),j),a['innerHTML']=cO(0x3b1)+j[cO(0x42a)]+'</td></tr>';}}function setupHighlightButtons(){const cS=a4Q;console[cS(0x395)](cS(0x2a9));const a=document[cS(0x3ec)]('create-match-highlight-btn');a&&a['addEventListener'](cS(0x271),function(){const cT=cS;console['log']('Match\x20highlight\x20button\x20clicked'),openHighlightModal(cT(0x15e));});const b=document['getElementById'](cS(0x2fb));b&&b['addEventListener'](cS(0x271),function(){const cU=cS;console[cU(0x395)](cU(0x210)),openHighlightModal('creator');});const c=document[cS(0x3ec)]('create-achievement-highlight-btn');c&&c['addEventListener']('click',function(){const cV=cS;console[cV(0x395)]('Achievement\x20highlight\x20button\x20clicked'),openHighlightModal(cV(0x1fa));});}function openHighlightModal(a=a4Q(0x15e)){const cW=a4Q;console[cW(0x395)](cW(0x265)+a);const b=document[cW(0x3ec)](cW(0x1dd)),c=document[cW(0x3ec)]('highlight-form'),d=document[cW(0x3ec)]('highlight-modal-title'),e=document['getElementById']('highlight-id');if(!b||!c||!d){console[cW(0x19b)]('Essential\x20highlight\x20modal\x20elements\x20not\x20found!');return;}c[cW(0x404)](),e[cW(0x1b9)]='';const f=['match',cW(0x227),cW(0x1fa)],g=!f['includes'](a);if(g){const h=a;e[cW(0x1b9)]=h,d[cW(0x3f2)]=cW(0x269),loadHighlightDataAdmin(h);}else{const i=a;document['getElementById']('highlight-type')[cW(0x1b9)]=i,d['textContent']='Create\x20New\x20'+getHighlightTypeName(i),toggleHighlightFields(i);const j=auth['currentUser'];j&&document['getElementById'](cW(0x2a2))&&(document[cW(0x3ec)](cW(0x2a2))['value']=j[cW(0x3f1)]||j[cW(0x25a)]);}b['classList']['add'](cW(0x3f9));}function toggleHighlightFields(a){const cX=a4Q;console[cX(0x395)]('Toggling\x20fields\x20for\x20highlight\x20type:\x20'+a);const b=document['getElementById']('highlight-form');if(!b)return;const c=b[cX(0x292)](cX(0x1c3));c['forEach'](f=>f['style']['display']='none');const d=document[cX(0x3ec)]('highlight-video-preview-container');if(d)d[cX(0x42c)][cX(0x18d)]=cX(0x1da);const e=['highlight-title-container',cX(0x129),cX(0x2a7)];e[cX(0x12d)](f=>{const cY=cX,g=document['getElementById'](f);if(g)g['style'][cY(0x18d)]='block';});if(a===cX(0x15e)){const f=['highlight-video-container',cX(0x355),'highlight-map-container','highlight-match-date-container',cX(0x1c8),cX(0x151)];f['forEach'](h=>{const cZ=cX,i=document[cZ(0x3ec)](h);i&&(h===cZ(0x1c8)?i[cZ(0x42c)][cZ(0x18d)]=cZ(0x45e):i['style'][cZ(0x18d)]=cZ(0x1e3));});const g=document['getElementById']('highlight-video-id');if(g){g['required']=!![];const h=g['previousElementSibling'];if(h)h['innerHTML']='YouTube\x20Video\x20ID*';}if(d)d[cX(0x42c)][cX(0x18d)]=cX(0x1e3);updateHighlightVideoPreview();}else{if(a===cX(0x227)){const i=['highlight-map-container','highlight-map-creator-container','highlight-map-version-container',cX(0x12c),cX(0x350)];i[cX(0x12d)](k=>{const d0=cX,l=document[d0(0x3ec)](k);if(l)l[d0(0x42c)][d0(0x18d)]=d0(0x1e3);});const j=document['getElementById'](cX(0x163));if(j){j[cX(0x195)]=![];const k=j[cX(0x16d)];if(k)k[cX(0x267)]=cX(0x1b0);}}else{if(a==='achievement'){const l=['highlight-achievement-player-container',cX(0x34d),'highlight-achievement-details-container',cX(0x1f7),cX(0x368),'highlight-video-container'];l[cX(0x12d)](n=>{const d1=cX,o=document[d1(0x3ec)](n);if(o)o[d1(0x42c)]['display']='block';});const m=document[cX(0x3ec)](cX(0x163));if(m){m[cX(0x195)]=![];const n=m['previousElementSibling'];if(n)n['innerHTML']='YouTube\x20Video\x20ID\x20(Optional)';}}}}}async function loadHighlightDataAdmin(a){const d2=a4Q;try{const b=doc(db,d2(0x22b),a),c=await getDoc(b);if(!c['exists']()){showNotification(d2(0x10d),d2(0x19b));return;}const d=c[d2(0x39b)](),e=d['type']||'match';document['getElementById']('highlight-modal-title')['textContent']='Edit\x20'+getHighlightTypeName(e),document['getElementById'](d2(0x1d4))[d2(0x1b9)]=e,toggleHighlightFields(e),document['getElementById'](d2(0x12a))['value']=d['title']||'',document[d2(0x3ec)]('highlight-description')[d2(0x1b9)]=d[d2(0x3dc)]||'',document['getElementById'](d2(0x2a2))['value']=d['submittedBy']||'';d['videoId']&&(document['getElementById']('highlight-video-id')[d2(0x1b9)]=d['videoId'],updateHighlightVideoPreview());if(e===d2(0x15e)){document[d2(0x3ec)]('highlight-match-info')['value']=d[d2(0x283)]||'',document[d2(0x3ec)](d2(0x44b))['value']=d['map']||'';if(d[d2(0x232)]){const f=new Date(d['matchDate'][d2(0x2b3)]*0x3e8);document['getElementById'](d2(0x3f8))[d2(0x1b9)]=f[d2(0x1d5)]()[d2(0x3ba)]('T')[0x0];}document[d2(0x3ec)]('highlight-winner-name')['value']=d[d2(0x2bd)]||'',document[d2(0x3ec)](d2(0x3d5))[d2(0x1b9)]=d[d2(0x264)]||'',document[d2(0x3ec)]('highlight-loser-name')[d2(0x1b9)]=d[d2(0x38b)]||'',document[d2(0x3ec)]('highlight-loser-score')['value']=d[d2(0x435)]||'',document['getElementById'](d2(0x176))['value']=d[d2(0x2dc)]||'';}else{if(e==='creator')document[d2(0x3ec)]('highlight-map')['value']=d['map']||'',document[d2(0x3ec)](d2(0x2ef))['value']=d[d2(0x3e4)]||'',document[d2(0x3ec)]('highlight-map-version')['value']=d[d2(0x1b8)]||'',document['getElementById'](d2(0x2d3))[d2(0x1b9)]=d[d2(0x2aa)]||'';else e===d2(0x1fa)&&(document[d2(0x3ec)]('highlight-achievement-player')['value']=d['achievementPlayer']||'',document[d2(0x3ec)](d2(0x35a))['value']=d[d2(0x376)]||'',document[d2(0x3ec)](d2(0x3f0))['value']=d['achievementDetails']||'',document['getElementById']('highlight-player-profile')['value']=d['playerProfileUrl']||'',document['getElementById']('highlight-achievement-image')[d2(0x1b9)]=d['achievementImageUrl']||'');}}catch(g){console[d2(0x19b)]('Error\x20loading\x20highlight:',g),showNotification('Error\x20loading\x20highlight:\x20'+g[d2(0x42a)],d2(0x19b));}}async function saveHighlight(){const d3=a4Q;try{const a=document[d3(0x3ec)](d3(0x3cc))?.[d3(0x1b9)]||'',b=document['getElementById']('highlight-type')?.[d3(0x1b9)]||'match',c={'title':document[d3(0x3ec)](d3(0x12a))?.[d3(0x1b9)]?.[d3(0x231)]()||'','description':document['getElementById'](d3(0x22a))?.['value']?.['trim']()||'','submittedBy':document[d3(0x3ec)](d3(0x2a2))?.[d3(0x1b9)]?.[d3(0x231)]()||'','videoId':document[d3(0x3ec)]('highlight-video-id')?.['value']?.[d3(0x231)]()||null,'type':b};if(!c['title']){showNotification(d3(0x1ea),d3(0x19b));return;}if(b===d3(0x15e)){c['matchInfo']=document['getElementById']('highlight-match-info')?.['value']?.['trim']()||'',c[d3(0x32c)]=document['getElementById'](d3(0x44b))?.['value']?.['trim']()||'';const d=document[d3(0x3ec)](d3(0x3f8)),e=d?.['value']||'';c[d3(0x232)]=e?Timestamp['fromDate'](new Date(e)):null,c[d3(0x2bd)]=document['getElementById']('highlight-winner-name')?.['value']?.[d3(0x231)]()||'',c[d3(0x264)]=document['getElementById']('highlight-winner-score')?.[d3(0x1b9)]?.['trim']()||'',c[d3(0x38b)]=document['getElementById'](d3(0x35f))?.[d3(0x1b9)]?.[d3(0x231)]()||'',c[d3(0x435)]=document['getElementById'](d3(0x3b3))?.[d3(0x1b9)]?.[d3(0x231)]()||'',c['matchLink']=document['getElementById'](d3(0x176))?.[d3(0x1b9)]?.[d3(0x231)]()||'';if(!c[d3(0x300)]){showNotification('YouTube\x20Video\x20ID\x20is\x20required\x20for\x20match\x20highlights','error');return;}}else{if(b==='creator'){c[d3(0x32c)]=document[d3(0x3ec)](d3(0x44b))?.['value']?.['trim']()||'',c[d3(0x3e4)]=document['getElementById']('highlight-map-creator')?.['value']?.[d3(0x231)]()||'',c[d3(0x1b8)]=document[d3(0x3ec)](d3(0x439))?.[d3(0x1b9)]?.['trim']()||'',c[d3(0x2aa)]=document[d3(0x3ec)](d3(0x2d3))?.[d3(0x1b9)]?.[d3(0x231)]()||'';if(!c[d3(0x3e4)]){showNotification('Map\x20Creator\x20is\x20required','error');return;}}else{if(b==='achievement'){c[d3(0x34e)]=document['getElementById']('highlight-achievement-player')?.[d3(0x1b9)]?.[d3(0x231)]()||'',c[d3(0x376)]=document[d3(0x3ec)]('highlight-achievement-type')?.[d3(0x1b9)]?.[d3(0x231)]()||'',c['achievementDetails']=document[d3(0x3ec)]('highlight-achievement-details')?.[d3(0x1b9)]?.[d3(0x231)]()||'',c['playerProfileUrl']=document[d3(0x3ec)](d3(0x179))?.[d3(0x1b9)]?.['trim']()||'',c[d3(0x396)]=document[d3(0x3ec)]('highlight-achievement-image')?.[d3(0x1b9)]?.['trim']()||'';if(!c[d3(0x34e)]){showNotification(d3(0x341),'error');return;}}}}a?(c['updatedAt']=serverTimestamp(),await updateDoc(doc(db,'highlights',a),c),showNotification(d3(0x447),'success')):(c[d3(0x2a5)]=serverTimestamp(),await addDoc(collection(db,'highlights'),c),showNotification('Highlight\x20created\x20successfully!','success')),closeHighlightModal(),loadHighlightsAdmin();}catch(f){console['error'](d3(0x2fe),f),showNotification(d3(0x360)+f['message'],'error');}}function closeHighlightModal(){const d4=a4Q,a=document[d4(0x3ec)](d4(0x1dd));if(a)a[d4(0x371)][d4(0x430)](d4(0x3f9));}function getHighlightTypeName(a){const d5=a4Q;switch(a){case'match':return d5(0x33c);case d5(0x227):return d5(0x270);case'achievement':return d5(0x21a);default:return'Highlight';}}function updateHighlightVideoPreview(){const d6=a4Q,a=document[d6(0x3ec)]('highlight-video-id'),b=document[d6(0x3ec)](d6(0x402)),c=document['getElementById'](d6(0x45c));if(!a||!c||!b)return;const d=a[d6(0x1b9)][d6(0x231)]();d&&/^[a-zA-Z0-9_-]{11}$/['test'](d)?(c[d6(0x42d)]=d6(0x456)+d,b['style']['display']=d6(0x1e3)):(c[d6(0x42d)]='',b['style']['display']=d6(0x1da));}async function loadHighlightsAdmin(){const d7=a4Q,a=document['getElementById'](d7(0x458));if(!a)return;a[d7(0x267)]=d7(0x2c7);try{const b=query(collection(db,'highlights'),orderBy(d7(0x2a5),'desc')),c=await getDocs(b);if(c[d7(0x140)]){a[d7(0x267)]=d7(0x36f);return;}a[d7(0x267)]='',c[d7(0x12d)](d=>{const d8=d7,e=d['data'](),f=document[d8(0x3f7)]('tr'),g=e[d8(0x2a5)]?new Date(e['createdAt']['seconds']*0x3e8)[d8(0x12b)]():d8(0x1b5);let h='Unknown',i='';switch(e['type']){case'match':h=d8(0x413),i='match-type';break;case'creator':h=d8(0x273),i='creator-type';break;case d8(0x1fa):h='Achievement',i=d8(0x18f);break;}f['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(e[d8(0x1c0)]||d8(0x17e))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><span\x20class=\x22highlight-type\x20'+i+'\x22>'+h+'</span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+g+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(e['submittedBy']||'Unknown')+d8(0x2a4)+(e['videoId']?'<i\x20class=\x22fas\x20fa-video\x22></i>\x20Yes':d8(0x31c))+d8(0x437)+d['id']+d8(0x2b5)+d['id']+'\x22\x20title=\x22Delete\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',a[d8(0x33d)](f);}),document[d7(0x292)](d7(0x1ba))[d7(0x12d)](d=>{const d9=d7;d[d9(0x123)]('click',f=>{const da=d9;openHighlightModal(f[da(0x29d)]['dataset']['id']);});}),document[d7(0x292)](d7(0x40a))['forEach'](d=>{const dc=d7;d[dc(0x123)]('click',f=>{const dd=dc;confirmDeleteHighlight(f['currentTarget'][dd(0x1f0)]['id']);});});}catch(d){console['error'](d7(0x1e9),d),a[d7(0x267)]=d7(0x2e9)+d[d7(0x42a)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}async function confirmDeleteHighlight(a){const de=a4Q;if(confirm(de(0x2ba)))try{await deleteDoc(doc(db,de(0x22b),a)),showNotification(de(0x3a3),'success'),loadHighlightsAdmin();}catch(b){console[de(0x19b)](de(0x339),b),showNotification('Error\x20deleting\x20highlight:\x20'+b['message'],'error');}}function setupCreateTestMatchModal(){const df=a4Q;console[df(0x395)](df(0x241));const a=document['getElementById']('create-test-match-modal'),b=document[df(0x3ec)](df(0x156));if(!a){console[df(0x19b)]('Create\x20test\x20match\x20modal\x20not\x20found\x20in\x20DOM');return;}if(!b){console['error']('Create\x20test\x20match\x20form\x20not\x20found\x20in\x20DOM');return;}const c=a[df(0x388)](!![]);a['parentNode'][df(0x12e)](c,a);const d=c['querySelector'](df(0x18c));c[df(0x123)](df(0x271),function(g){const dg=df;g[dg(0x3ff)]===c&&(console['log']('Modal\x20background\x20clicked'),closeCreateTestMatchModal());});const e=c['querySelector'](df(0x36a));e&&e['addEventListener'](df(0x271),function(g){g['preventDefault'](),g['stopPropagation'](),console['log']('Modal\x20close\x20button\x20clicked'),closeCreateTestMatchModal();});const f=c['querySelector'](df(0x1b6));f&&f[df(0x123)]('click',function(g){const dh=df;g['preventDefault'](),g[dh(0x11e)](),console['log'](dh(0x29f)),closeCreateTestMatchModal();});if(d){d[df(0x123)](df(0x375),function(h){const di=df;h[di(0x2f5)](),h['stopPropagation'](),console[di(0x395)](di(0x1f4)),createTestMatch();});const g=d['querySelector'](df(0x245));g&&g['addEventListener'](df(0x271),function(h){const dj=df;h['preventDefault'](),h['stopPropagation'](),console[dj(0x395)](dj(0x307)),createTestMatch();});}console[df(0x395)]('Create\x20test\x20match\x20modal\x20setup\x20complete');}function setupManageHighlightsSection(){const dk=a4Q;console['log']('Setting\x20up\x20Manage\x20Highlights\x20section'),setupHighlightButtons();const a=document['getElementById']('highlight-form');a&&a[dk(0x123)]('submit',f=>{f['preventDefault'](),saveHighlight();});const b=document[dk(0x3ec)]('cancel-highlight-btn');b&&b[dk(0x123)](dk(0x271),closeHighlightModal);const c=document[dk(0x18a)]('#highlight-modal\x20.close-btn');c&&c['addEventListener']('click',closeHighlightModal);const d=document['getElementById']('highlight-modal');d&&d['addEventListener']('click',f=>{f['target']===d&&closeHighlightModal();});const e=document['getElementById'](dk(0x163));e&&e[dk(0x123)](dk(0x15f),()=>{updateHighlightVideoPreview();}),console[dk(0x395)]('Manage\x20Highlights\x20section\x20initialized');}function setupManageMatchesSection(){const dl=a4Q;console[dl(0x395)](dl(0x3d3));const a=document['getElementById']('matches-prev-page'),b=document['getElementById']('matches-next-page');a&&a[dl(0x123)]('click',()=>{const h=currentLadder['toLowerCase']();loadMatchesData(matchesPagination[h]['page']-0x1);});b&&b['addEventListener'](dl(0x271),()=>{const dm=dl,h=currentLadder[dm(0x33e)]();loadMatchesData(matchesPagination[h]['page']+0x1);});const c=document[dl(0x3ec)](dl(0x3de)),d=document['getElementById'](dl(0x194));c&&c[dl(0x123)]('click',applyMatchesFilters);d&&d[dl(0x123)](dl(0x271),resetMatchesFilters);const e=document['getElementById'](dl(0x136));e&&e[dl(0x123)](dl(0x15f),debounce(filterMatchesTable,0x12c));const f=document['getElementById'](dl(0x1ca));f&&f[dl(0x123)](dl(0x271),openResimulateModal);const g=document['getElementById'](dl(0x41e));if(g){const h=g['querySelector'](dl(0x39d));h&&h[dl(0x123)]('click',closeResimulateModal),g['addEventListener']('click',i=>{i['target']===g&&closeResimulateModal();});}setupCreateTestMatchButton(),setupCreateTestMatchModal(),console['log'](dl(0x3ae));}function openCreateTestMatchModal(){const dn=a4Q;console[dn(0x395)]('Opening\x20create\x20test\x20match\x20modal');const a=document['getElementById']('create-test-match-modal'),b=document[dn(0x3ec)]('create-test-match-form');if(!a){console[dn(0x19b)](dn(0x3dd)),showNotification(dn(0x3dd),'error');return;}if(!b){console['error']('Create\x20test\x20match\x20form\x20not\x20found'),showNotification('Create\x20test\x20match\x20form\x20not\x20found',dn(0x19b));return;}b['reset']();const c=document[dn(0x292)](dn(0x26d));let d=![];c['forEach'](g=>{const dp=dn;console[dp(0x395)]('Found\x20radio\x20with\x20value:',g[dp(0x1b9)]),g[dp(0x1b9)]===currentLadder&&(g[dp(0x464)]=!![],d=!![],console[dp(0x395)]('Set\x20default\x20ladder\x20to:',currentLadder));});if(!d){console['warn']('No\x20radio\x20button\x20found\x20for\x20current\x20ladder:',currentLadder);const g=document['querySelector']('input[name=\x22test-match-ladder\x22][value=\x22D1\x22]');g&&(g['checked']=!![],console[dn(0x395)]('Defaulted\x20to\x20D1\x20ladder'));}const e=document[dn(0x3ec)](dn(0x327));if(e){const h=new Date()['toISOString']()[dn(0x3ba)]('T')[0x0];e[dn(0x1b9)]=h;}a['style'][dn(0x18d)]='flex',a['style'][dn(0x410)]=dn(0x1f8),a[dn(0x42c)][dn(0x1e2)]='1',a[dn(0x371)]['add'](dn(0x3f9)),console['log']('Modal\x20should\x20now\x20be\x20visible');const f=document[dn(0x3ec)](dn(0x116));f&&setTimeout(()=>{const dq=dn;f[dq(0x2b6)]();},0x64);}function closeCreateTestMatchModal(){const dr=a4Q;console[dr(0x395)]('Closing\x20create\x20test\x20match\x20modal');const a=document['getElementById']('create-test-match-modal');if(!a){console['error'](dr(0x253));return;}a['classList'][dr(0x430)](dr(0x3f9)),a[dr(0x42c)]['opacity']='0',a[dr(0x42c)][dr(0x410)]=dr(0x259),setTimeout(()=>{const ds=dr;!a['classList'][ds(0x27f)]('active')&&(a[ds(0x42c)][ds(0x18d)]=ds(0x1da));},0x12c),console[dr(0x395)](dr(0x1ff));}async function createTestMatch(){const dt=a4Q;console[dt(0x395)](dt(0x1b4));try{const a=auth[dt(0x186)];if(!a){showNotification(dt(0x268),dt(0x19b));return;}const b='D1',c='approvedMatches',d={'winnerUsername':'TestWinner','winnerScore':0x14,'winnerSuicides':0x0,'winnerComment':dt(0x2e4),'winnerDemoLink':null,'loserUsername':dt(0x14e),'loserScore':0xf,'loserSuicides':0x0,'loserComment':'Test\x20match','loserDemoLink':null,'mapPlayed':'TestMap','approvedAt':Timestamp['fromDate'](new Date()),'approvedBy':a[dt(0x25a)],'createdAt':serverTimestamp(),'createdBy':a[dt(0x25a)],'isTestMatch':!![],'ladder':b,'testMatchCreatedAt':serverTimestamp(),'testMatchNote':'Simple\x20test\x20match\x20created\x20by\x20admin\x20'+a['email']};console[dt(0x395)](dt(0x3c6)),await addDoc(collection(db,c),d),showNotification('Simple\x20test\x20match\x20created\x20successfully','success'),closeCreateTestMatchModal();}catch(e){console['error'](dt(0x204),e),showNotification('Failed\x20to\x20create\x20simple\x20test\x20match:\x20'+e['message'],dt(0x19b));}}window['testFirebaseConnection']=async function(){const du=a4Q;try{console['log'](du(0x370)),console['log'](du(0x394),auth),console['log']('DB:',db),console['log']('Current\x20user:',auth[du(0x186)]);const a=collection(db,du(0x29b));console[du(0x395)]('Collection\x20reference\x20created:',a);const b=query(a,where('username','==',du(0x37f)));console['log']('Query\x20created:',b);const c=await getDocs(b);console[du(0x395)](du(0x1fd),c['empty']),console[du(0x395)](du(0x215));}catch(d){console['error'](du(0x275),d);}};function setupCreateTestMatchButton(){const dv=a4Q,a=document['getElementById']('create-test-match-btn');if(!a){console[dv(0x19b)]('Create\x20test\x20match\x20button\x20not\x20found\x20in\x20DOM');return;}console['log'](dv(0x216));const b=a['cloneNode'](!![]);a[dv(0x237)]['replaceChild'](b,a),b['addEventListener']('click',function(c){const dw=dv;c['preventDefault'](),c[dw(0x11e)](),console[dw(0x395)]('Create\x20test\x20match\x20button\x20clicked'),openCreateTestMatchModal();}),console['log'](dv(0x2bc));}async function loadMatchesData(a=0x1){const dx=a4Q,b=document['getElementById'](dx(0x432));if(!b)return;b['innerHTML']=dx(0x12f);try{const c=currentLadder[dx(0x33e)](),d=matchesPagination[c],e=currentLadder==='D1'?'approvedMatches':currentLadder==='D2'?'approvedMatchesD2':dx(0x399),f=collection(db,e);a<=0x1?(d['page']=0x1,d[dx(0x115)]=null,d[dx(0x336)]=null):d[dx(0x201)]=a;const g=getMatchesFilters();let h=f;if(g['startDate']||g[dx(0x434)]||g['searchTerm']){let n=[];g['startDate']&&g[dx(0x434)]?(n[dx(0x1eb)](where(dx(0x209),'>=',g['startDate']),where(dx(0x209),'<=',g['endDate'])),h=query(f,...n)):h=query(f,orderBy(dx(0x209),'desc'));}else h=query(f,orderBy('approvedAt','desc'));a>0x1&&d[dx(0x336)]?h=query(h,startAfter(d['lastVisible']),limit(PAGE_SIZE)):h=query(h,limit(PAGE_SIZE));const i=await getDocs(h);!i['empty']&&(d[dx(0x115)]=i['docs'][0x0],d['lastVisible']=i['docs'][i['docs'][dx(0x2cc)]-0x1]);let j=![];if(!i['empty']){const o=query(h,startAfter(d[dx(0x336)]),limit(0x1)),p=await getDocs(o);j=!p[dx(0x140)];}const k=document['getElementById']('matches-prev-page'),l=document['getElementById'](dx(0x2c5)),m=document[dx(0x3ec)](dx(0x3c9));if(k)k[dx(0x348)]=d[dx(0x201)]<=0x1;if(l)l['disabled']=!j;if(m)m['textContent']=dx(0x1c6)+d[dx(0x201)];if(i['empty']){b['innerHTML']='<tr><td\x20colspan=\x227\x22\x20class=\x22empty-state\x22>No\x20matches\x20found</td></tr>';return;}b[dx(0x267)]='',i[dx(0x12d)](r=>{const dy=dx,s=r['data'](),t=document[dy(0x3f7)]('tr'),u=s['approvedAt']?new Date(s['approvedAt']['seconds']*0x3e8)[dy(0x12b)]():dy(0x1b5);t['setAttribute']('data-id',r['id']),t[dy(0x2f3)](dy(0x3d1),currentLadder),t['classList']['add'](dy(0x3c7)),t['innerHTML']=dy(0x1d6)+u+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22winner-cell\x22>'+(s[dy(0x1d8)]||'Unknown')+dy(0x408)+(s[dy(0x40e)]||dy(0x27e))+dy(0x3a0)+(s['winnerScore']||0x0)+dy(0x203)+(s[dy(0x435)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22map-cell\x22>'+(s[dy(0x193)]||dy(0x1b5))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22ladder-cell\x22>'+currentLadder+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-match-btn\x20btn-small\x22\x20data-id=\x22'+r['id']+'\x22\x20title=\x22Edit\x20Match\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-match-btn\x20btn-small\x20btn-danger\x22\x20data-id=\x22'+r['id']+'\x22\x20title=\x22Delete\x20Match\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',b[dy(0x33d)](t);}),setupMatchesActionButtons(),g[dx(0x254)]&&filterMatchesTable(),console['log'](dx(0x199)+i[dx(0x2ea)]+dx(0x2f2)+currentLadder+'\x20ladder,\x20page\x20'+d[dx(0x201)]);}catch(r){console[dx(0x19b)](dx(0x2f6),r),b['innerHTML']=dx(0x3e9)+r['message']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}async function deleteMatch(a,b){const dz=a4Q;try{console['log']('Deleting\x20match\x20'+a+dz(0x418)+b+'\x20ladder');const c=auth['currentUser'];if(!c){showNotification('You\x20must\x20be\x20logged\x20in\x20to\x20delete\x20matches',dz(0x19b));return;}const d=b==='D1'?'approvedMatches':b==='D2'?'approvedMatchesD2':dz(0x399);console['log']('Using\x20collection:\x20'+d),showNotification('Deleting\x20match...','info'),await deleteDoc(doc(db,d,a)),console['log'](dz(0x420)),showNotification('Match\x20deleted\x20successfully',dz(0x3bf));const e=b['toLowerCase']();loadMatchesData(matchesPagination[e][dz(0x201)]);}catch(f){console[dz(0x19b)]('Error\x20deleting\x20match:',f),showNotification('Failed\x20to\x20delete\x20match:\x20'+f['message'],'error');}}function setupMatchesActionButtons(){const dA=a4Q;console['log']('Setting\x20up\x20matches\x20action\x20buttons...'),document['querySelectorAll'](dA(0x301))['forEach'](a=>{const dB=dA;a[dB(0x123)](dB(0x271),b=>{const dC=dB;b['preventDefault'](),b[dC(0x11e)]();const c=b['currentTarget']['dataset']['id'],d=b[dC(0x29d)][dC(0x229)]('tr'),f=d['dataset']['ladder'];console['log'](dC(0x180),c,f),openEditMatchModal(c,f);});}),document[dA(0x292)](dA(0x314))[dA(0x12d)](a=>{const dD=dA;a['addEventListener'](dD(0x271),b=>{const dE=dD;b[dE(0x2f5)](),b[dE(0x11e)]();const c=b[dE(0x29d)]['dataset']['id'],d=b[dE(0x29d)]['closest']('tr'),f=d[dE(0x1f0)][dE(0x2f9)]||currentLadder;console[dE(0x395)](dE(0x19a),c,f),confirm(dE(0x1cf))&&deleteMatch(c,f);});}),console[dA(0x395)](dA(0x127));}function filterMatchesTable(){const dF=a4Q,a=document['getElementById'](dF(0x136))[dF(0x1b9)]['toLowerCase'](),b=document[dF(0x292)]('#matches-table-body\x20tr');let c=0x0;b['forEach'](d=>{const dG=dF;if(d['classList']['contains']('loading-cell')||d[dG(0x371)][dG(0x27f)]('empty-state')||d['classList']['contains']('error-state'))return;const e=d['cells'][0x1][dG(0x3f2)][dG(0x33e)](),f=d[dG(0x168)][0x2][dG(0x3f2)][dG(0x33e)](),g=d['cells'][0x4][dG(0x3f2)]['toLowerCase']();e['includes'](a)||f[dG(0x406)](a)||g[dG(0x406)](a)?(d[dG(0x42c)][dG(0x18d)]='',c++):d['style'][dG(0x18d)]=dG(0x1da);});if(c===0x0&&b[dF(0x2cc)]>0x0){const d=document[dF(0x3ec)]('matches-table-body'),e=d['querySelector']('.no-results');if(!e){const f=document['createElement']('tr');f['className']='no-results',f[dF(0x267)]='<td\x20colspan=\x227\x22>No\x20matches\x20found\x20matching\x20\x27'+a+'\x27</td>',d['appendChild'](f);}}else{const g=document[dF(0x18a)]('.no-results');g&&g[dF(0x430)]();}}function getMatchesFilters(){const dH=a4Q,a=document['getElementById'](dH(0x136))['value']['toLowerCase'](),b=document[dH(0x3ec)]('matches-start-date')['value'],c=document['getElementById']('matches-end-date')['value'];let d=null,e=null;return b&&(d=new Date(b),d[dH(0x36c)](0x0,0x0,0x0,0x0),d=Timestamp['fromDate'](d)),c&&(e=new Date(c),e['setHours'](0x17,0x3b,0x3b,0x3e7),e=Timestamp[dH(0x298)](e)),{'searchTerm':a,'startDate':d,'endDate':e};}async function applyMatchesFilters(){const dI=a4Q,a=currentLadder[dI(0x33e)]();matchesPagination[a]={'page':0x1,'lastVisible':null,'firstVisible':null},await loadMatchesData(0x1);}function resetMatchesFilters(){const dJ=a4Q;document[dJ(0x3ec)](dJ(0x20b))['value']='',document['getElementById'](dJ(0x23d))[dJ(0x1b9)]='',document['getElementById'](dJ(0x136))[dJ(0x1b9)]='';const a=currentLadder['toLowerCase']();matchesPagination[a]={'page':0x1,'lastVisible':null,'firstVisible':null},loadMatchesData(0x1);}async function openEditMatchModal(a,b){const dK=a4Q,c=document['getElementById'](dK(0x190));if(!c)return;try{const d=b==='D1'?'approvedMatches':b==='D2'?dK(0x1f3):'approvedMatchesD3',e=doc(db,d,a),f=await getDoc(e);if(!f['exists']()){showNotification('Match\x20not\x20found',dK(0x19b));return;}const g=f['data']();document['getElementById']('edit-match-id')['value']=a,document['getElementById']('edit-match-ladder')[dK(0x1b9)]=b,document['getElementById'](dK(0x30d))[dK(0x1b9)]=g['winnerUsername']||'',document[dK(0x3ec)]('edit-match-winner-score')['value']=g[dK(0x264)]||0x0,document['getElementById']('edit-match-winner-suicides')[dK(0x1b9)]=g['winnerSuicides']||0x0,document[dK(0x3ec)](dK(0x15d))[dK(0x1b9)]=g['winnerComment']||'',document[dK(0x3ec)](dK(0x14b))['value']=g[dK(0x40e)]||'',document[dK(0x3ec)]('edit-match-loser-score')['value']=g[dK(0x435)]||0x0,document[dK(0x3ec)](dK(0x3b8))['value']=g[dK(0x2db)]||0x0,document[dK(0x3ec)](dK(0x119))['value']=g['loserComment']||'',document[dK(0x3ec)](dK(0x198))['value']=g['mapPlayed']||'',document[dK(0x3ec)]('edit-match-winner-demo')[dK(0x1b9)]=g[dK(0x30e)]||'',document['getElementById']('edit-match-loser-demo')['value']=g[dK(0x2c3)]||g['demoLink']||'',document[dK(0x3ec)](dK(0x466))[dK(0x3f2)]='Edit\x20Match:\x20'+g[dK(0x1d8)]+dK(0x45b)+g[dK(0x40e)],c[dK(0x371)]['add']('active');}catch(h){console[dK(0x19b)](dK(0x3d6),h),showNotification('Failed\x20to\x20load\x20match\x20data','error');}}function closeEditMatchModal(){const dL=a4Q,a=document['getElementById']('edit-match-modal');a&&a[dL(0x371)]['remove']('active');}async function saveEditedMatch(){const dM=a4Q;try{const a=document[dM(0x3ec)]('edit-match-id')['value'],b=document['getElementById'](dM(0x1b1))['value'];if(!a||!b){showNotification(dM(0x2cb),'error');return;}const c=b==='D1'?dM(0x424):b==='D2'?dM(0x1f3):dM(0x399),d=document['getElementById'](dM(0x30d))[dM(0x1b9)][dM(0x231)](),e=parseInt(document['getElementById'](dM(0x349))[dM(0x1b9)]),f=parseInt(document[dM(0x3ec)](dM(0x318))['value']),g=document[dM(0x3ec)](dM(0x15d))['value']['trim'](),h=document[dM(0x3ec)](dM(0x14b))['value']['trim'](),i=parseInt(document['getElementById']('edit-match-loser-score')[dM(0x1b9)]),j=parseInt(document['getElementById'](dM(0x3b8))[dM(0x1b9)]),k=document['getElementById']('edit-match-loser-comment')['value']['trim'](),l=document[dM(0x3ec)]('edit-match-map')['value']['trim'](),m=document[dM(0x3ec)](dM(0x197))[dM(0x1b9)]['trim'](),n=document[dM(0x3ec)]('edit-match-loser-demo')[dM(0x1b9)]['trim']();if(!d||!h){showNotification('Winner\x20and\x20loser\x20usernames\x20are\x20required','error');return;}await updateDoc(doc(db,c,a),{'winnerUsername':d,'winnerScore':e,'winnerSuicides':f,'winnerComment':g,'loserUsername':h,'loserScore':i,'loserSuicides':j,'loserComment':k,'mapPlayed':l,'winnerDemoLink':m||null,'loserDemoLink':n||null,'lastModifiedAt':serverTimestamp(),'lastModifiedBy':auth['currentUser'][dM(0x25a)],'isEdited':!![]}),showNotification('Match\x20updated\x20successfully','success'),closeEditMatchModal(),loadMatchesData(matchesPagination[b['toLowerCase']()]['page']);}catch(o){console['error']('Error\x20saving\x20match:',o),showNotification('Failed\x20to\x20save\x20match:\x20'+o['message'],dM(0x19b));}}async function openDeleteMatchModal(a,b){const dN=a4Q;try{const c=b==='D1'?dN(0x424):b==='D2'?'approvedMatchesD2':dN(0x399),d=doc(db,c,a),e=await getDoc(d);if(!e[dN(0x415)]()){showNotification('Match\x20not\x20found','error');return;}const f=e[dN(0x39b)](),g=document[dN(0x3ec)](dN(0x291));g['dataset'][dN(0x134)]=a,g['dataset'][dN(0x2f9)]=b;const h=f['approvedAt']?new Date(f[dN(0x209)]['seconds']*0x3e8)['toLocaleDateString']():dN(0x1b5),i=document['getElementById'](dN(0x1ab));i[dN(0x267)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Date:</strong>\x20'+h+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Players:</strong>\x20'+f['winnerUsername']+'\x20(winner)\x20vs\x20'+f[dN(0x40e)]+dN(0x139)+(f['winnerScore']||0x0)+'\x20-\x20'+(f['loserScore']||0x0)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Map:</strong>\x20'+(f[dN(0x193)]||'N/A')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Ladder:</strong>\x20'+b+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',g['classList']['add'](dN(0x3f9));}catch(j){console['error'](dN(0x3cb),j),showNotification('Failed\x20to\x20load\x20match\x20data','error');}}function closeDeleteMatchModal(){const dO=a4Q,a=document['getElementById']('delete-match-confirm-modal');a&&(a[dO(0x371)]['remove']('active'),a[dO(0x236)]('data-match-id'),a['removeAttribute']('data-ladder'));}async function confirmDeleteMatch(){const dP=a4Q,a=document['getElementById'](dP(0x291)),b=a['dataset']['matchId'],c=a['dataset'][dP(0x2f9)];if(!b||!c){showNotification('Match\x20ID\x20or\x20ladder\x20missing',dP(0x19b)),closeDeleteMatchModal();return;}try{const d=c==='D1'?'approvedMatches':c==='D2'?'approvedMatchesD2':'approvedMatchesD3';await deleteDoc(doc(db,d,b)),showNotification('Match\x20deleted\x20successfully','success'),closeDeleteMatchModal(),loadMatchesData(matchesPagination[c['toLowerCase']()][dP(0x201)]);}catch(e){console['error']('Error\x20deleting\x20match:',e),showNotification('Failed\x20to\x20delete\x20match:\x20'+e['message'],dP(0x19b));}}async function saveHighlightChanges(){const dQ=a4Q,a=document['getElementById'](dQ(0x3d8))[dQ(0x1b9)],b=document['getElementById'](dQ(0x42b))[dQ(0x1b9)];let c={'title':document[dQ(0x3ec)]('edit-highlight-title-input')[dQ(0x1b9)][dQ(0x231)](),'type':b,'description':document[dQ(0x3ec)](dQ(0x1fb))[dQ(0x1b9)]['trim'](),'videoId':document['getElementById'](dQ(0x32e))['value']['trim'](),'submittedBy':auth['currentUser'][dQ(0x25a)]};if(b==='match'){c[dQ(0x283)]=document[dQ(0x3ec)]('edit-highlight-matchInfo-input')[dQ(0x1b9)][dQ(0x231)](),c[dQ(0x32c)]=document['getElementById'](dQ(0x262))[dQ(0x1b9)][dQ(0x231)]();const d=document[dQ(0x3ec)](dQ(0x297))[dQ(0x1b9)];c['matchDate']=d?Timestamp[dQ(0x298)](new Date(d)):null,c['winnerName']=document['getElementById'](dQ(0x382))[dQ(0x1b9)]['trim'](),c['winnerScore']=document[dQ(0x3ec)](dQ(0x117))['value']['trim'](),c['loserName']=document['getElementById']('edit-highlight-loserName-input')[dQ(0x1b9)][dQ(0x231)](),c[dQ(0x435)]=document[dQ(0x3ec)]('edit-highlight-loserScore-input')[dQ(0x1b9)][dQ(0x231)](),c[dQ(0x2dc)]=document['getElementById']('edit-highlight-matchLink-input')[dQ(0x1b9)]['trim'](),c['mapCreator']=null,c['mapVersion']=null,c['creatorImageUrl']=null,c['achievementPlayer']=null,c[dQ(0x376)]=null,c['achievementDetails']=null,c['playerProfileUrl']=null;}else{if(b===dQ(0x227))c['map']=document['getElementById'](dQ(0x262))['value']['trim'](),c[dQ(0x3e4)]=document['getElementById']('edit-highlight-mapCreator-input')['value']['trim'](),c[dQ(0x1b8)]=document[dQ(0x3ec)](dQ(0x40d))[dQ(0x1b9)][dQ(0x231)](),c[dQ(0x2aa)]=document[dQ(0x3ec)](dQ(0x23a))['value'][dQ(0x231)](),c[dQ(0x283)]=null,c[dQ(0x232)]=null,c['winnerName']=null,c[dQ(0x264)]=null,c['loserName']=null,c[dQ(0x435)]=null,c['matchLink']=null,c['achievementPlayer']=null,c['achievementType']=null,c[dQ(0x155)]=null,c['playerProfileUrl']=null;else b===dQ(0x1fa)&&(c['achievementPlayer']=document[dQ(0x3ec)](dQ(0x240))[dQ(0x1b9)][dQ(0x231)](),c['achievementType']=document[dQ(0x3ec)](dQ(0x347))[dQ(0x1b9)][dQ(0x231)](),c['achievementDetails']=document[dQ(0x3ec)]('edit-highlight-achievementDetails-input')['value'][dQ(0x231)](),c['playerProfileUrl']=document['getElementById']('edit-highlight-playerProfileUrl-input')[dQ(0x1b9)]['trim'](),c[dQ(0x283)]=null,c[dQ(0x32c)]=null,c[dQ(0x232)]=null,c[dQ(0x2bd)]=null,c['winnerScore']=null,c[dQ(0x38b)]=null,c[dQ(0x435)]=null,c['matchLink']=null,c[dQ(0x3e4)]=null,c[dQ(0x1b8)]=null,c[dQ(0x2aa)]=null);}try{if(a){c[dQ(0x440)]=serverTimestamp();const e=doc(db,'highlights',a);await updateDoc(e,c),showNotification('Highlight\x20updated\x20successfully!',dQ(0x3bf));}else c[dQ(0x2a5)]=serverTimestamp(),await addDoc(collection(db,dQ(0x22b)),c),showNotification(dQ(0x3fb),dQ(0x3bf));closeEditHighlightModal(),loadHighlightsAdmin();}catch(f){console['error']('Error\x20saving\x20highlight:',f),showNotification(dQ(0x360)+f[dQ(0x42a)],dQ(0x19b));}}async function resimulateMatch(){const dR=a4Q;try{const a=document[dR(0x3ec)]('resimulate-match-id')['value'];if(!a){showNotification('Match\x20ID\x20is\x20required','error');return;}const b=auth[dR(0x186)];if(!b){showNotification(dR(0x2ee),'error');return;}const c=currentLadder==='D1'?'approvedMatches':currentLadder==='D2'?'approvedMatchesD2':'approvedMatchesD3',d=doc(db,c,a),e=await getDoc(d);if(!e[dR(0x415)]()){showNotification('Match\x20not\x20found\x20in\x20approved\x20matches',dR(0x19b));return;}const f=e['data'](),g=f['approvedAt']?f[dR(0x209)][dR(0x3e8)]()[dR(0x3c8)]():f[dR(0x232)]?f[dR(0x232)]['toDate']?f[dR(0x232)]['toDate']()['toLocaleString']():new Date(f[dR(0x232)])[dR(0x3c8)]():dR(0x27e),h=dR(0x3a6)+f['winnerUsername']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Loser:</strong>\x20'+f['loserUsername']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Score:</strong>\x20'+f['winnerScore']+'-'+f['loserScore']+dR(0x2b4)+(f['mapPlayed']||f['mapName']||dR(0x27e))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Match\x20Date:</strong>\x20'+g+dR(0x2d8)+a+dR(0x3c1)+currentLadder+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><em>This\x20will\x20create\x20accurate\x20ELO\x20history\x20entries\x20based\x20on\x20the\x20players\x27\x20ELO\x20ratings\x20at\x20the\x20time\x20this\x20match\x20was\x20played.</em></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';document['getElementById'](dR(0x380))[dR(0x267)]=h,document[dR(0x3ec)](dR(0x380))[dR(0x42c)][dR(0x18d)]='block',document[dR(0x3ec)]('confirm-resimulate-btn')['style'][dR(0x18d)]='block',window['pendingResimulateData']={'matchId':a,'matchData':f,'ladder':currentLadder},showNotification(dR(0x40c),'info');}catch(i){console['error']('Error\x20finding\x20match:',i),showNotification('Failed\x20to\x20find\x20match:\x20'+i['message'],'error');}}async function confirmResimulateMatch(){const dS=a4Q;try{const {matchId:a,matchData:b,ladder:c}=window['pendingResimulateData'];if(!a||!b){showNotification('No\x20match\x20data\x20found\x20for\x20resimulation','error');return;}const d=c==='D1'?dS(0x29b):c==='D2'?'playersD2':'playersD3',e=c==='D1'?'eloHistory':c==='D2'?'eloHistoryD2':dS(0x379),[f,g]=await Promise[dS(0x38f)]([getDocs(query(collection(db,d),where(dS(0x2a3),'==',b[dS(0x1d8)]))),getDocs(query(collection(db,d),where('username','==',b['loserUsername'])))]);if(f[dS(0x140)]||g[dS(0x140)]){showNotification('Could\x20not\x20find\x20player\x20documents','error');return;}const h=f[dS(0x263)][0x0]['id'],i=g[dS(0x263)][0x0]['id'],j=f['docs'][0x0][dS(0x39b)](),k=g[dS(0x263)][0x0]['data'](),[l,m]=await Promise[dS(0x38f)]([getDocs(query(collection(db,e),where('playerId','==',h),where('matchId','==',a))),getDocs(query(collection(db,e),where(dS(0x450),'==',i),where(dS(0x134),'==',a)))]),n=!l[dS(0x140)],o=!m['empty'],p=dS(0x35c)+(n?'✅\x20Exists':dS(0x280))+dS(0x44c)+(o?dS(0x39a):dS(0x280))+dS(0x442)+(j[dS(0x381)]||dS(0x27e))+dS(0x1f6)+(k[dS(0x381)]||dS(0x27e))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Current\x20Winner\x20Position:</strong>\x20'+(j[dS(0x218)]||dS(0x27e))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Current\x20Loser\x20Position:</strong>\x20'+(k['position']||dS(0x27e))+dS(0x19d);document['getElementById']('validation-results-container')[dS(0x267)]=p,document[dS(0x3ec)]('validation-results-container')['style'][dS(0x18d)]=dS(0x1e3);if(n&&o){showNotification(dS(0x36b),dS(0x369));return;}showNotification('Starting\x20complete\x20match\x20resimulation...',dS(0x2a6));const q=b[dS(0x209)]||b[dS(0x232)]||serverTimestamp(),[r,s]=await Promise['all']([getPlayerEloAtTime(h,q,e),getPlayerEloAtTime(i,q,e)]),{calculateElo:t}=await import('./ladderalgorithm.js'),{newWinnerRating:u,newLoserRating:v}=t(r,s),w=j['position']||Number[dS(0x3f5)],x=k[dS(0x218)]||Number['MAX_SAFE_INTEGER'];let y=w,z=x;w>x&&(y=x,z=x+0x1);const A=writeBatch(db),B=doc(db,d,h);A[dS(0x206)](B,{'eloRating':u,'position':y,'lastUpdated':serverTimestamp(),'resimulated':!![],'resimulatedAt':serverTimestamp(),'resimulatedBy':auth[dS(0x186)]['uid']});const C=doc(db,d,i);A['update'](C,{'eloRating':v,'position':z,'lastUpdated':serverTimestamp(),'resimulated':!![],'resimulatedAt':serverTimestamp(),'resimulatedBy':auth[dS(0x186)]['uid']});if(w>x){const H=await getDocs(query(collection(db,d),where('position','>',x),where(dS(0x218),'<',w)));H[dS(0x12d)](I=>{const dT=dS,J=doc(db,d,I['id']),K=I[dT(0x39b)]()['position'];A['update'](J,{'position':K+0x1,'lastUpdated':serverTimestamp(),'positionAdjustedBy':dT(0x3ed),'positionAdjustedAt':serverTimestamp()});});}if(!n){const I=doc(collection(db,e));A[dS(0x421)](I,{'playerId':h,'player':b['winnerUsername'],'previousElo':r,'newElo':u,'eloChange':u-r,'opponentId':i,'opponent':b[dS(0x40e)],'matchResult':'win','previousPosition':w,'newPosition':y,'positionChange':y-w,'matchId':a,'timestamp':q,'resimulated':!![],'resimulatedAt':serverTimestamp(),'resimulatedBy':auth['currentUser'][dS(0x38d)],'gameMode':c,'matchScore':b['winnerScore']+'-'+b[dS(0x435)],'mapPlayed':b[dS(0x193)]||b['mapName']||'Unknown','note':dS(0x37d)});}if(!o){const J=doc(collection(db,e));A['set'](J,{'playerId':i,'player':b['loserUsername'],'previousElo':s,'newElo':v,'eloChange':v-s,'opponentId':h,'opponent':b[dS(0x1d8)],'matchResult':dS(0x25b),'previousPosition':x,'newPosition':z,'positionChange':z-x,'matchId':a,'timestamp':q,'resimulated':!![],'resimulatedAt':serverTimestamp(),'resimulatedBy':auth['currentUser']['uid'],'gameMode':c,'matchScore':b[dS(0x264)]+'-'+b['loserScore'],'mapPlayed':b['mapPlayed']||b[dS(0x1d9)]||dS(0x27e),'note':dS(0x37d)});}const D=c==='D1'?dS(0x424):c==='D2'?'approvedMatchesD2':'approvedMatchesD3',E=doc(db,D,a);A[dS(0x206)](E,{'resimulated':!![],'resimulatedAt':serverTimestamp(),'resimulatedBy':auth[dS(0x186)][dS(0x38d)],'resimulatedReason':dS(0x405),'originalWinnerElo':j[dS(0x381)],'originalLoserElo':k[dS(0x381)],'originalWinnerPosition':w,'originalLoserPosition':x,'resimulatedWinnerElo':u,'resimulatedLoserElo':v,'resimulatedWinnerPosition':y,'resimulatedLoserPosition':z}),await A['commit']();const F=(!n?0x1:0x0)+(!o?0x1:0x0),G=w!==y||x!==z;showNotification(dS(0x429)+('Created\x20'+F+'\x20ELO\x20history\x20entries.\x20')+(dS(0x2fd)+r+'→'+u+'\x20(+'+(u-r)+dS(0x277))+('Loser\x20'+s+'→'+v+'\x20('+(v-s)+').\x20')+(''+(G?'Positions\x20updated:\x20Winner\x20'+w+'→'+y+dS(0x33a)+x+'→'+z:'No\x20position\x20changes\x20needed.')),dS(0x3bf)),closeResimulateModal(),document['querySelector'](dS(0x3e5))&&loadPlayersData();}catch(K){console[dS(0x19b)](dS(0x149),K),showNotification(dS(0x211)+K[dS(0x42a)],dS(0x19b));}}async function getPlayerEloAtTime(a,b,c){const dU=a4Q;try{const d=b['toDate']?b[dU(0x3e8)]():new Date(b),e=query(collection(db,c),where('playerId','==',a),where(dU(0x38c),'<',b),orderBy('timestamp','desc'),limit(0x1)),f=await getDocs(e);if(!f['empty']){const g=f['docs'][0x0][dU(0x39b)]();return console[dU(0x395)]('Found\x20ELO\x20history\x20for\x20player\x20'+a+dU(0x1a1)+g['newElo']),g[dU(0x230)];}else return console['log'](dU(0x1c7)+a+'\x20before\x20match\x20-\x20using\x20starting\x20ELO\x201200'),0x4b0;}catch(h){return console[dU(0x19b)](dU(0x334)+a+':',h),0x4b0;}}function openResimulateModal(){const dV=a4Q;console['log']('openResimulateModal\x20called!');const a=document['getElementById'](dV(0x41e));console[dV(0x395)]('Modal\x20element\x20found:',a);if(!a){console[dV(0x19b)]('Modal\x20element\x20not\x20found!');return;}a['style']['display']=dV(0x1e3),a[dV(0x42c)][dV(0x410)]=dV(0x1f8),a[dV(0x42c)][dV(0x1e2)]='1',a['classList']['add']('active'),console[dV(0x395)](dV(0x303)),console['log']('Modal\x20computed\x20styles:',window[dV(0x185)](a)['display']);const b=document['getElementById']('match-details-container'),c=document['getElementById'](dV(0x3b4)),d=document[dV(0x3ec)]('confirm-resimulate-btn'),e=document[dV(0x3ec)](dV(0x449));if(b)b[dV(0x267)]='';if(c)c['innerHTML']='';if(d)d['style']['display']=dV(0x1da);if(e)e[dV(0x1b9)]='';console['log']('Modal\x20setup\x20complete');}function closeResimulateModal(){const dW=a4Q;document['getElementById'](dW(0x41e))['style']['display']='none',window[dW(0x174)]=null;}window['resimulateMatch']=resimulateMatch,window['confirmResimulateMatch']=confirmResimulateMatch,window[a4Q(0x41c)]=openResimulateModal,window[a4Q(0x1a6)]=closeResimulateModal;async function loadPointsData(){const dX=a4Q;console['log']('Loading\x20points\x20data...');try{await Promise[dX(0x38f)]([loadPointsOverview(),loadPointsHistory()]),showNotification('Points\x20data\x20loaded\x20successfully','success');}catch(a){console[dX(0x19b)](dX(0x279),a),showNotification(dX(0x2d1)+a['message'],dX(0x19b));}}function renderPointsOverview(a){const dY=a4Q,b=document[dY(0x3ec)](dY(0x32f));if(!b)return;if(a[dY(0x2cc)]===0x0){b[dY(0x267)]='<tr><td\x20colspan=\x225\x22\x20class=\x22empty-state\x22>No\x20users\x20found</td></tr>';return;}b[dY(0x267)]='',a['forEach'](c=>{const dZ=dY,d=document[dZ(0x3f7)]('tr'),e=c['displayName']||c['username']||'Unknown\x20User',f=c[dZ(0x25a)]||'No\x20email',g=c['points']||0x0,h=c[dZ(0x1b3)]?new Date(c[dZ(0x1b3)]['seconds']*0x3e8)[dZ(0x12b)]():'Never';d['innerHTML']=dZ(0x22e)+e+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+f+dZ(0x377)+(g>0x3e8?dZ(0x2e6):g>0x1f4?dZ(0x160):dZ(0x153))+dZ(0x159)+g['toLocaleString']()+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+h+dZ(0x2b7)+c['id']+dZ(0x407)+c['id']+'\x22\x20title=\x22View\x20Points\x20History\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-history\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',b['appendChild'](d);}),setupPointsActionButtons();}function setupPointsActionButtons(){const e0=a4Q;console[e0(0x395)](e0(0x443));const a=document[e0(0x292)]('.quick-edit-btn');console['log'](e0(0x1cb)+a['length']+e0(0x238)),a['forEach'](c=>{const e1=e0,d=c[e1(0x388)](!![]);c[e1(0x237)][e1(0x12e)](d,c);});const b=document['querySelectorAll']('.view-history-btn');console[e0(0x395)](e0(0x1cb)+b[e0(0x2cc)]+e0(0x306)),b['forEach'](c=>{const e2=e0,d=c['cloneNode'](!![]);c['parentNode'][e2(0x12e)](d,c);}),document[e0(0x292)](e0(0x207))['forEach'](c=>{c['addEventListener']('click',function(d){const e3=a4d;d[e3(0x2f5)](),d[e3(0x11e)]();const f=this['dataset']['userId'];console['log'](e3(0x22f),f);if(!f){console[e3(0x19b)](e3(0x390));return;}this['style'][e3(0x1e2)]=e3(0x3a7),setTimeout(()=>{const e4=e3;this['style'][e4(0x1e2)]='1';},0xc8),openQuickEditModal(f);});}),document['querySelectorAll'](e0(0x2c0))['forEach'](c=>{const e5=e0;c[e5(0x123)](e5(0x271),function(d){const e6=e5;d[e6(0x2f5)](),d[e6(0x11e)]();const f=this['dataset']['userId'];console['log']('View\x20history\x20clicked\x20for\x20user:',f);if(!f){console[e6(0x19b)]('No\x20user\x20ID\x20found\x20on\x20button');return;}this[e6(0x42c)]['opacity']='0.6',setTimeout(()=>{const e7=e6;this['style'][e7(0x1e2)]='1';},0xc8),loadUserPointsHistory(f);});}),console[e0(0x395)](e0(0x2de));}async function openQuickEditModal(a){const e8=a4Q;console[e8(0x395)](e8(0x14f),a);const b=document[e8(0x3ec)]('quick-edit-points-modal');if(!b){console['error'](e8(0x13a)),showNotification(e8(0x39f),e8(0x19b));return;}try{showNotification(e8(0x3f6),'info');const c=doc(db,e8(0x363),a),d=await getDoc(c);if(!d[e8(0x415)]()){showNotification('User\x20not\x20found',e8(0x19b));return;}const e=d[e8(0x39b)]();console['log'](e8(0x200),e);const f=document['getElementById']('quick-edit-user-id'),g=document['getElementById']('quick-edit-display-name'),h=document[e8(0x3ec)]('quick-edit-email'),i=document['getElementById'](e8(0x331)),j=document[e8(0x3ec)]('quick-edit-points-form');if(!f||!g||!h||!i||!j){console[e8(0x19b)]('Quick\x20edit\x20form\x20elements\x20missing\x20from\x20HTML'),showNotification(e8(0x35d),e8(0x19b));return;}f[e8(0x1b9)]=a,g['textContent']=e[e8(0x3f1)]||e[e8(0x2a3)]||'Unknown\x20User',h[e8(0x3f2)]=e[e8(0x25a)]||'No\x20email',i['textContent']=(e['points']||0x0)['toLocaleString'](),j['reset']();const k=document['getElementById']('quick-add');k&&(k[e8(0x464)]=!![]);b[e8(0x371)][e8(0x3fa)](e8(0x3f9)),console[e8(0x395)]('Modal\x20opened\x20successfully');const l=document['getElementById']('quick-points-amount');l&&setTimeout(()=>l['focus'](),0x64);}catch(m){console['error']('Error\x20opening\x20quick\x20edit\x20modal:',m),showNotification(e8(0x2b0)+m['message'],'error');}}function closeQuickEditModal(){const e9=a4Q,a=document['getElementById'](e9(0x2ce));a&&a['classList'][e9(0x430)]('active');}async function handleQuickEditPoints(a){const ea=a4Q;a[ea(0x2f5)]();const b=document['getElementById'](ea(0x44a))['value'],c=document['querySelector'](ea(0x2d2))['value'],d=parseInt(document[ea(0x3ec)]('quick-points-amount')['value']),f=document['getElementById']('quick-points-reason')['value'][ea(0x231)]();console[ea(0x395)](ea(0x3b0),{'userId':b,'action':c,'amount':d,'reason':f});if(!b||!d||d<0x0){showNotification('Please\x20enter\x20valid\x20data',ea(0x19b));return;}try{await modifyUserPoints(b,c,d,f),closeQuickEditModal(),loadPointsOverview(),showNotification('Points\x20updated\x20successfully',ea(0x3bf)),console[ea(0x395)]('Points\x20updated\x20successfully\x20for\x20user:',b);}catch(g){console['error']('Error\x20updating\x20points:',g),showNotification(ea(0x1bb)+g['message'],'error');}}async function searchUsersForPoints(){const eb=a4Q,a=document['getElementById']('points-user-search')['value']['trim']()[eb(0x33e)](),b=document[eb(0x3ec)]('user-search-results');if(!a||a[eb(0x2cc)]<0x2){b[eb(0x267)]='';return;}b[eb(0x267)]=eb(0x175);try{const c=collection(db,'userProfiles'),d=await getDocs(c),e=[];d['forEach'](f=>{const ec=eb,g=f['data'](),h=(g['displayName']||g[ec(0x2a3)]||'')[ec(0x33e)](),i=(g['email']||'')['toLowerCase']();(h[ec(0x406)](a)||i[ec(0x406)](a))&&e['push']({'id':f['id'],...g});});if(e[eb(0x2cc)]===0x0){b[eb(0x267)]=eb(0x183);return;}b['innerHTML']='',e[eb(0x12d)](f=>{const ed=eb,g=document[ed(0x3f7)](ed(0x171));g['className']=ed(0x326),g[ed(0x267)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22user-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>'+(f[ed(0x3f1)]||f[ed(0x2a3)]||ed(0x27e))+ed(0x233)+(f[ed(0x25a)]||ed(0x147))+ed(0x325)+(f[ed(0x217)]||0x0)[ed(0x3c8)]()+ed(0x3ad),g[ed(0x123)]('click',()=>selectUserForPoints(f)),b['appendChild'](g);});}catch(f){console[eb(0x19b)]('Error\x20searching\x20users:',f),b[eb(0x267)]=eb(0x305);}}function selectUserForPoints(a){const ee=a4Q;document[ee(0x3ec)]('selected-user-name')['textContent']=a[ee(0x3f1)]||a[ee(0x2a3)]||'Unknown\x20User',document['getElementById']('selected-user-points')['textContent']=(a['points']||0x0)['toLocaleString'](),document[ee(0x3ec)]('selected-user-id')[ee(0x1b9)]=a['id'],document['getElementById'](ee(0x1a0))['style']['display']='block',document[ee(0x3ec)]('points-management-forms')[ee(0x42c)]['display']='block',document['getElementById'](ee(0x167))[ee(0x267)]='',document[ee(0x3ec)](ee(0x366))['value']='';}async function handleModifyPoints(a){const ef=a4Q;a[ef(0x2f5)]();const b=document['getElementById'](ef(0x19c))['value'],c=document['getElementById']('points-action')[ef(0x1b9)],d=parseInt(document['getElementById']('points-amount')['value']),f=document[ef(0x3ec)]('points-reason')[ef(0x1b9)][ef(0x231)]();if(!b||!d||d<0x0){showNotification(ef(0x324),ef(0x19b));return;}try{await modifyUserPoints(b,c,d,f),document[ef(0x3ec)]('modify-points-form')[ef(0x404)]();const g=doc(db,ef(0x363),b),h=await getDoc(g);if(h[ef(0x415)]()){const i=h[ef(0x39b)]();document[ef(0x3ec)](ef(0x143))[ef(0x3f2)]=(i[ef(0x217)]||0x0)[ef(0x3c8)]();}showNotification(ef(0x126),ef(0x3bf)),loadPointsHistory();}catch(j){console[ef(0x19b)](ef(0x31e),j),showNotification(ef(0x454)+j[ef(0x42a)],ef(0x19b));}}async function loadPointsHistory(){const eg=a4Q,a=document['getElementById']('points-history-table-body');if(!a)return;a['innerHTML']='<tr><td\x20colspan=\x226\x22\x20class=\x22loading-cell\x22>Loading\x20history...</td></tr>';try{const b=collection(db,eg(0x128)),c=query(b,orderBy(eg(0x38c),eg(0x157)),limit(0x32)),d=await getDocs(c);if(d[eg(0x140)]){a['innerHTML']='<tr><td\x20colspan=\x226\x22\x20class=\x22empty-state\x22>No\x20history\x20found</td></tr>';return;}a[eg(0x267)]='',d[eg(0x12d)](e=>{const eh=eg,f=e[eh(0x39b)](),g=document[eh(0x3f7)]('tr'),h=f[eh(0x38c)]?new Date(f[eh(0x38c)]['seconds']*0x3e8)[eh(0x3c8)]():eh(0x27e);let i='';switch(f[eh(0x1cd)]){case eh(0x3fa):i='Added\x20'+f[eh(0x21b)]+'\x20points';break;case eh(0x142):i='Subtracted\x20'+f['amount']+'\x20points';break;case'set':i=eh(0x365)+f[eh(0x21b)]+'\x20points';break;default:i=f['action']+'\x20'+f['amount']+'\x20points';}g[eh(0x267)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+h+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(f['displayName']||'Unknown\x20User')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+i+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22points-change\x20'+f[eh(0x1cd)]+eh(0x3ef)+(f[eh(0x251)]||0x0)+'\x20→\x20'+(f['newPoints']||0x0)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(f['reason']||'No\x20reason\x20provided')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(f[eh(0x2e7)]||eh(0x3f3))+eh(0x27c),a[eh(0x33d)](g);});}catch(e){console['error'](eg(0x247),e),a[eg(0x267)]='<tr><td\x20colspan=\x226\x22\x20class=\x22error-state\x22>Error\x20loading\x20history:\x20'+e[eg(0x42a)]+'</td></tr>';}}function filterPointsOverview(){const ei=a4Q,a=document['getElementById'](ei(0x3cd))['value']['toLowerCase']();if(!window[ei(0x364)])return;const b=window['allUsersPoints']['filter'](c=>{const ej=ei,d=(c[ej(0x3f1)]||c['username']||'')['toLowerCase'](),e=(c['email']||'')['toLowerCase']();return d[ej(0x406)](a)||e['includes'](a);});renderPointsOverview(b);}function sortPointsOverview(){const ek=a4Q,a=document[ek(0x3ec)](ek(0x14d))['value'];if(!window[ek(0x364)])return;const b=[...window[ek(0x364)]];switch(a){case'points-desc':b['sort']((c,d)=>(d[ek(0x217)]||0x0)-(c['points']||0x0));break;case ek(0x386):b['sort']((c,d)=>(c[ek(0x217)]||0x0)-(d[ek(0x217)]||0x0));break;case ek(0x2ad):b['sort']((c,d)=>{const el=ek,e=(c[el(0x3f1)]||c['username']||'')['toLowerCase'](),f=(d[el(0x3f1)]||d[el(0x2a3)]||'')['toLowerCase']();return e['localeCompare'](f);});break;case ek(0x20a):b[ek(0x272)]((c,d)=>{const em=ek,e=(c[em(0x3f1)]||c[em(0x2a3)]||'')[em(0x33e)](),f=(d[em(0x3f1)]||d['username']||'')[em(0x33e)]();return f[em(0x346)](e);});break;}renderPointsOverview(b);}async function handleAwardItem(a){const en=a4Q;a[en(0x2f5)]();const b=document['getElementById'](en(0x19c))[en(0x1b9)],c=document[en(0x3ec)](en(0x43d))[en(0x1b9)],d=document['getElementById']('award-reason')[en(0x1b9)]['trim']();if(!b||!c){showNotification(en(0x39e),'error');return;}try{showNotification(en(0x1c5),en(0x3bf)),document[en(0x3ec)]('award-item-form')[en(0x404)]();}catch(f){console['error']('Error\x20awarding\x20item:',f),showNotification(en(0x372)+f[en(0x42a)],'error');}}async function loadUserPointsHistory(a){const eo=a4Q;try{const b=collection(db,eo(0x128)),c=query(b,where('userId','==',a),orderBy('timestamp',eo(0x157))),d=await getDocs(c);console[eo(0x395)]('Found\x20'+d['size']+eo(0x3e7)+a),showNotification('User\x20has\x20'+d['size']+'\x20points\x20history\x20entries','info');}catch(e){console[eo(0x19b)]('Error\x20loading\x20user\x20points\x20history:',e),showNotification(eo(0x1e1),'error');}}async function initializeUserPointsField(){const ep=a4Q;try{console['log']('Starting\x20points\x20field\x20initialization\x20for\x20all\x20users...');const a=collection(db,ep(0x363)),b=await getDocs(a);if(b['empty']){console['log'](ep(0x2af));return;}let c=0x0,d=0x0;const e=writeBatch(db);let f=0x0;return console['log']('Found\x20'+b['size']+ep(0x243)),b['forEach'](g=>{const eq=ep,h=g[eq(0x39b)]();h[eq(0x217)]===undefined||h['points']===null?(e['update'](g[eq(0x22d)],{'points':0x0,'pointsInitializedAt':serverTimestamp()}),c++,f++,console['log']('Queued\x20'+(h['displayName']||h[eq(0x2a3)]||h[eq(0x25a)]||eq(0x27e))+'\x20for\x20points\x20initialization')):(d++,console[eq(0x395)]((h['displayName']||h[eq(0x2a3)]||h['email']||'Unknown')+'\x20already\x20has\x20points:\x20'+h['points'])),f>=0x1f4&&console['warn']('Batch\x20limit\x20reached\x20-\x20you\x20may\x20need\x20to\x20run\x20this\x20function\x20multiple\x20times\x20for\x20large\x20datasets');}),c>0x0?(console['log']('Committing\x20batch\x20update\x20for\x20'+c+ep(0x335)),await e['commit'](),console['log']('✅\x20Successfully\x20initialized\x20points\x20field\x20for\x20'+c+'\x20users')):console['log']('No\x20users\x20needed\x20points\x20field\x20initialization'),console[ep(0x395)](ep(0x11a)+b[ep(0x2ea)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20Users\x20updated\x20with\x20points:\x20'+c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20Users\x20who\x20already\x20had\x20points:\x20'+d),showNotification(ep(0x276)+c+'\x20users.\x20'+d+'\x20users\x20already\x20had\x20points.','success'),window[ep(0x364)]&&loadPointsOverview(),{'totalUsers':b['size'],'usersUpdated':c,'usersAlreadyHadPoints':d};}catch(g){console[ep(0x19b)](ep(0x14a),g),showNotification(ep(0x37b)+g[ep(0x42a)],'error');throw g;}}function addPointsMigrationButton(){const er=a4Q,a=document['getElementById']('manage-points');if(!a)return;if(document['getElementById'](er(0x1d7)))return;const b=document['createElement'](er(0x171));b['className']='migration-section',b[er(0x42c)][er(0x2ca)]='20px',b['style']['padding']=er(0x391),b['style']['backgroundColor']=er(0x3c3),b['style'][er(0x110)]=er(0x384),b['style'][er(0x3ea)]='5px',b['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4><i\x20class=\x22fas\x20fa-database\x22></i>\x20Database\x20Migration</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p>Initialize\x20the\x20points\x20field\x20for\x20all\x20users\x20who\x20don\x27t\x20have\x20it\x20yet.\x20This\x20is\x20safe\x20to\x20run\x20multiple\x20times.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22migrate-points-btn\x22\x20class=\x22btn\x20btn-warning\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20Initialize\x20Points\x20Field\x20for\x20All\x20Users\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20';const c=a['querySelector'](er(0x235));c&&c['insertAdjacentElement'](er(0x3e1),b),document[er(0x3ec)](er(0x1d7))['addEventListener']('click',async function(){const es=er;if(confirm('This\x20will\x20add\x20a\x20points\x20field\x20(set\x20to\x200)\x20for\x20all\x20users\x20who\x20don\x27t\x20have\x20one\x20yet.\x20Continue?')){this[es(0x348)]=!![],this['innerHTML']=es(0x3be);try{await initializeUserPointsField(),this['innerHTML']=es(0x41b),this[es(0x42c)][es(0x2c6)]='#28a745',setTimeout(()=>{b['style']['display']='none';},0xbb8);}catch(d){this[es(0x267)]='<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error\x20-\x20Try\x20Again',this[es(0x348)]=![];}}});}function setupManagePointsSection(){const et=a4Q;console['log'](et(0x14c)),addPointsMigrationButton();const a=document[et(0x3ec)]('points-user-search');a&&a[et(0x123)]('input',debounce(searchUsersForPoints,0x12c));const b=document[et(0x3ec)](et(0x354));b&&b['addEventListener']('submit',handleModifyPoints);const c=document[et(0x3ec)](et(0x2e1));c&&c[et(0x123)]('submit',handleAwardItem);const d=document[et(0x3ec)](et(0x3cd));d&&d['addEventListener']('input',debounce(filterPointsOverview,0x12c));const e=document[et(0x3ec)]('points-sort-order');e&&e['addEventListener']('change',sortPointsOverview);const f=document[et(0x3ec)](et(0x37c));f&&f[et(0x123)]('click',loadPointsOverview);const g=document[et(0x3ec)]('quick-edit-points-modal');if(g){console['log']('Quick\x20edit\x20modal\x20found,\x20setting\x20up\x20events...');const h=g['querySelector']('.close-btn');h?h['addEventListener'](et(0x271),function(){console['log']('Modal\x20close\x20button\x20clicked'),closeQuickEditModal();}):console[et(0x28e)]('Close\x20button\x20not\x20found\x20in\x20quick\x20edit\x20modal');const i=document['getElementById']('cancel-quick-edit');i?i['addEventListener']('click',function(){console['log']('Modal\x20cancel\x20button\x20clicked'),closeQuickEditModal();}):console[et(0x28e)]('Cancel\x20button\x20not\x20found');const j=document[et(0x3ec)]('quick-edit-points-form');j?j[et(0x123)](et(0x375),function(k){const eu=et;console['log'](eu(0x2fa)),handleQuickEditPoints(k);}):console[et(0x19b)]('Quick\x20edit\x20form\x20not\x20found!'),g['addEventListener']('click',function(k){k['target']===g&&(console['log']('Modal\x20background\x20clicked'),closeQuickEditModal());});}else console['error']('Quick\x20edit\x20modal\x20not\x20found\x20in\x20DOM!');console[et(0x395)](et(0x16a));}function setupManageRibbonsSection(){const ev=a4Q;console[ev(0x395)]('Setting\x20up\x20Manage\x20Ribbons\x20section');const a=document['getElementById']('ribbon-user-search');a&&a['addEventListener']('input',debounce(searchRibbonUser,0x12c));const b=document[ev(0x3ec)](ev(0x438));b&&b[ev(0x123)]('click',searchRibbonUser);const c=document['getElementById'](ev(0x455));c&&c[ev(0x123)]('submit',addRibbon),a&&a['addEventListener'](ev(0x32b),function(d){const ew=ev;d[ew(0x1ed)]===ew(0x1ee)&&(d['preventDefault'](),searchRibbonUser());}),console[ev(0x395)](ev(0x436));}async function modifyUserPoints(a,b,c,d=''){const ex=a4Q,e=doc(db,'userProfiles',a),f=await getDoc(e);if(!f[ex(0x415)]())throw new Error('User\x20not\x20found');const g=f[ex(0x39b)](),h=g['points']!==undefined?g['points']:0x0;g[ex(0x217)]===undefined&&(console[ex(0x395)]('Initializing\x20points\x20field\x20for\x20user\x20'+(g[ex(0x3f1)]||g['email']||'Unknown')),await updateDoc(e,{'points':0x0,'pointsInitializedAt':serverTimestamp()}));let i=h;switch(b){case'add':i=h+c;break;case'subtract':i=Math[ex(0x1f2)](0x0,h-c);break;case'set':i=c;break;default:throw new Error('Invalid\x20action');}await updateDoc(e,{'points':i,'lastPointsModified':serverTimestamp()}),await addDoc(collection(db,'pointsHistory'),{'userId':a,'userEmail':g['email']||'unknown','displayName':g[ex(0x3f1)]||g[ex(0x2a3)]||ex(0x20e),'action':b,'amount':c,'previousPoints':h,'newPoints':i,'reason':d,'adminEmail':auth['currentUser'][ex(0x25a)],'timestamp':serverTimestamp()});}async function loadPointsOverview(){const ey=a4Q,a=document[ey(0x3ec)]('points-overview-table-body');if(!a)return;a[ey(0x267)]=ey(0x2f0);try{const b=collection(db,ey(0x363)),c=await getDocs(b);if(c['empty']){a[ey(0x267)]='<tr><td\x20colspan=\x225\x22\x20class=\x22empty-state\x22>No\x20users\x20found</td></tr>';return;}const d=[];let e=0x0;c[ey(0x12d)](f=>{const ez=ey,g=f[ez(0x39b)](),h=g[ez(0x217)]!==undefined?g['points']:0x0;g[ez(0x217)]===undefined&&e++,d['push']({'id':f['id'],...g,'points':h});}),e>0x0&&(console['log']('Found\x20'+e+ey(0x2ac)),showNotification(e+ey(0x202),'info')),d[ey(0x272)]((f,g)=>(g['points']||0x0)-(f['points']||0x0)),window[ey(0x364)]=d,renderPointsOverview(d);}catch(f){console[ey(0x19b)](ey(0x2ff),f),a[ey(0x267)]='<tr><td\x20colspan=\x225\x22\x20class=\x22error-state\x22>Error\x20loading\x20users:\x20'+f[ey(0x42a)]+'</td></tr>';}}async function loadRibbonsData(){const eA=a4Q,a=document['getElementById'](eA(0x13e));if(!a)return;a[eA(0x267)]=eA(0x34b);try{const [b,c,d]=await Promise[eA(0x38f)]([getDocs(collection(db,eA(0x17a))),getDocs(collection(db,eA(0x213))),getDocs(collection(db,eA(0x21d)))]);a[eA(0x267)]='';const e=(f,g)=>{f['forEach'](h=>{const eB=a4d,i=h[eB(0x39b)](),j=i['ribbons']||{},k=Object['keys'](j)['length'],l=document['createElement']('tr');l[eB(0x267)]=eB(0x1e5)+(i[eB(0x2a3)]||eB(0x27e))+eB(0x1d3)+g[eB(0x33e)]()+'\x22>'+g+'</span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+k+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(i[eB(0x417)]?new Date(i[eB(0x417)][eB(0x2b3)]*0x3e8)[eB(0x12b)]():'Unknown')+eB(0x3fc)+i[eB(0x2a3)]+eB(0x45f)+g+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-edit\x22></i>\x20Edit\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',a[eB(0x33d)](l);});};e(b,'D1'),e(c,'D2'),e(d,'D3'),document['querySelectorAll']('.edit-ribbons-btn')[eA(0x12d)](f=>{const eC=eA;f['addEventListener'](eC(0x271),function(){const eD=eC,g=this[eD(0x1f0)][eD(0x2a3)],h=this['dataset']['ladder'];editUserRibbons(g,h);});}),showNotification(eA(0x30b),eA(0x3bf));}catch(f){console['error'](eA(0x1df),f),a[eA(0x267)]=eA(0x26b),showNotification(eA(0x463),eA(0x19b));}}async function searchRibbonUser(){const eE=a4Q,a=document[eE(0x3ec)](eE(0x312))[eE(0x1b9)]['trim']();if(!a){showNotification(eE(0x3d9),'error');return;}try{const [b,c,d]=await Promise[eE(0x38f)]([getDoc(doc(db,eE(0x17a),a)),getDoc(doc(db,'playerRibbonsD2',a)),getDoc(doc(db,'playerRibbonsD3',a))]);let e=null,f=null;if(b['exists']())e='D1',f=b['data']();else{if(c[eE(0x415)]())e='D2',f=c[eE(0x39b)]();else d[eE(0x415)]()&&(e='D3',f=d[eE(0x39b)]());}e?(document[eE(0x3ec)](eE(0x1f1))[eE(0x3f2)]=a,document[eE(0x3ec)](eE(0x317))['value']=a,document[eE(0x3ec)](eE(0x2a0))[eE(0x1b9)]=e,document[eE(0x3ec)](eE(0x1e7))['style'][eE(0x18d)]='block',displayCurrentRibbons(f[eE(0x29e)]||{}),showNotification(eE(0x1cb)+a+'\x20in\x20'+e+eE(0x3f4),'success')):showNotification(eE(0x164)+a+'\x20not\x20found\x20in\x20any\x20ladder',eE(0x19b));}catch(g){console['error'](eE(0x45a),g),showNotification(eE(0x1a9),'error');}}function displayCurrentRibbons(a){const eF=a4Q,b=document['getElementById']('current-ribbons-list');if(!b)return;b['innerHTML']='';if(Object[eF(0x43f)](a)[eF(0x2cc)]===0x0){b['innerHTML']=eF(0x225);return;}Object[eF(0x451)](a)['forEach'](([c,d])=>{const eG=eF,e=document[eG(0x3f7)]('div');e['className']='ribbon-item',e['innerHTML']=eG(0x173)+c+'</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>Level:\x20'+(d['level']||0x1)+eG(0x385)+(d['awardedAt']?new Date(d[eG(0x20c)][eG(0x2b3)]*0x3e8)['toLocaleDateString']():eG(0x27e))+'</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-danger\x20btn-sm\x20remove-ribbon-btn\x22\x20data-ribbon=\x22'+c+eG(0x28f),b[eG(0x33d)](e);}),document['querySelectorAll']('.remove-ribbon-btn')['forEach'](c=>{c['addEventListener']('click',function(){const d=this['dataset']['ribbon'];removeRibbon(d);});});}async function addRibbon(a){const eH=a4Q;a['preventDefault']();const b=document['getElementById'](eH(0x317))[eH(0x1b9)],c=document[eH(0x3ec)](eH(0x2a0))[eH(0x1b9)],d=document[eH(0x3ec)](eH(0x3a9))[eH(0x1b9)],e=parseInt(document['getElementById']('ribbon-level')['value']);if(!b||!c||!d||!e){showNotification('Please\x20fill\x20all\x20fields','error');return;}try{const f=eH(0x17a)+(c==='D1'?'':c),g=doc(db,f,b),h=await getDoc(g),i=h['exists']()?h[eH(0x39b)]()[eH(0x29e)]||{}:{};i[d]={'level':e,'awardedAt':serverTimestamp()},await setDoc(g,{'username':b,'ladder':c,'ribbons':i,'lastUpdated':serverTimestamp()},{'merge':!![]}),showNotification(eH(0x374)+d+eH(0x412)+e+'\x20to\x20'+b,'success'),displayCurrentRibbons(i),document[eH(0x3ec)](eH(0x3a9))['value']='',document[eH(0x3ec)](eH(0x2bb))['value']='1';}catch(j){console['error'](eH(0x383),j),showNotification(eH(0x222),eH(0x19b));}}async function removeRibbon(a){const eI=a4Q,b=document['getElementById']('ribbon-target-user')[eI(0x1b9)],c=document[eI(0x3ec)](eI(0x2a0))['value'];if(!confirm(eI(0x398)+a+eI(0x418)+b+'?'))return;try{const d='playerRibbons'+(c==='D1'?'':c),e=doc(db,d,b),f=await getDoc(e),g=f[eI(0x415)]()?f[eI(0x39b)]()['ribbons']||{}:{};delete g[a],await setDoc(e,{'username':b,'ladder':c,'ribbons':g,'lastUpdated':serverTimestamp()},{'merge':!![]}),showNotification(eI(0x1fc)+a+'\x20from\x20'+b,eI(0x3bf)),displayCurrentRibbons(g);}catch(h){console['error']('Error\x20removing\x20ribbon:',h),showNotification('Error\x20removing\x20ribbon',eI(0x19b));}}function editUserRibbons(a,b){const eJ=a4Q;document[eJ(0x3ec)]('ribbon-user-search')[eJ(0x1b9)]=a,searchRibbonUser();}