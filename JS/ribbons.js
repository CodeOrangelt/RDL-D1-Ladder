const a48_0x352395=a48_0x1e0a,a48_0x1f7784=(function(){let _0x5318ed=!![];return function(_0x3fdeb0,_0x15601c){const _0x48da5a=_0x5318ed?function(){if(_0x15601c){const _0x39b3c1=_0x15601c['apply'](_0x3fdeb0,arguments);return _0x15601c=null,_0x39b3c1;}}:function(){};return _0x5318ed=![],_0x48da5a;};}()),a48_0x4fd059=a48_0x1f7784(this,function(){const _0x1c74ce=a48_0x1e0a;let _0x49717a;try{const _0x1f7abc=Function(_0x1c74ce(0xd8)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x49717a=_0x1f7abc();}catch(_0x3cd782){_0x49717a=window;}const _0x4a6be6=_0x49717a['console']=_0x49717a[_0x1c74ce(0x10b)]||{},_0x79d396=['log','warn',_0x1c74ce(0x117),_0x1c74ce(0xb3),'exception','table','trace'];for(let _0x52423b=0x0;_0x52423b<_0x79d396['length'];_0x52423b++){const _0x520e2b=a48_0x1f7784[_0x1c74ce(0xe5)][_0x1c74ce(0x102)][_0x1c74ce(0xbd)](a48_0x1f7784),_0x30e729=_0x79d396[_0x52423b],_0x3807d3=_0x4a6be6[_0x30e729]||_0x520e2b;_0x520e2b['__proto__']=a48_0x1f7784['bind'](a48_0x1f7784),_0x520e2b['toString']=_0x3807d3['toString'][_0x1c74ce(0xbd)](_0x3807d3),_0x4a6be6[_0x30e729]=_0x520e2b;}});function a48_0x1e0a(_0x5aa7e7,_0x34ae36){const _0x4fd059=a48_0x2471();return a48_0x1e0a=function(_0x1f7784,_0x2c744c){_0x1f7784=_0x1f7784-0xaa;let _0x247106=_0x4fd059[_0x1f7784];return _0x247106;},a48_0x1e0a(_0x5aa7e7,_0x34ae36);}a48_0x4fd059();import{auth,db}from'./firebase-config.js';import{doc,getDoc,setDoc,collection,query,where,getDocs,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const RIBBON_DEFINITIONS={'Rematch\x20Ribbon':{'description':'Beat\x20a\x20pilot\x20with\x20the\x20\x22Rematch\x22\x20subgame\x20selected','image':a48_0x352395(0xab),'color':'#FF6B6B'},'Overachiever\x20Ribbon':{'description':'Played\x20over\x20100\x20matches','image':'../images/ribbons/Overachiever.png','color':'#96CEB4','levels':[0x64,0xc8,0x12c,0x190,0x1f4,0x258,0x2bc,0x320,0x384,0x3e8]},'Brick\x20Wall':{'description':'Amass\x20at\x20least\x2080%\x20overall\x20win\x20rate\x20percentage\x20(minimum\x2050\x20matches)','image':'../images/ribbons/BrickWall.png','color':'#F0932B','levels':[0x50,0x55,0x5a,0x5f,0x64]},'Collector\x20Ribbon':{'description':'Hold\x20more\x20than\x205\x20ribbons\x20at\x20a\x20time','image':'../images/ribbons/Collector.png','color':a48_0x352395(0xf6),'levels':[0x5,0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32]},'Sub-Gamer\x20Ribbon':{'description':'Play\x20over\x2050\x20subgame\x20matches','image':'../images/ribbons/Subgamer.png','color':a48_0x352395(0xd6),'levels':[0x32,0x64,0x96,0xc8,0xfa,0x12c,0x15e,0x190,0x1c2,0x1f4]},'Explorer\x20Ribbon':{'description':'Played\x20at\x20least\x2020\x20unique\x20maps','image':'../images/ribbons/Explorer.png','color':'#55A3FF','levels':[0x14,0x28,0x3c,0x50,0x64,0x78,0x8c,0xa0,0xb4,0xc8]},'Socialite\x20Ribbon':{'description':a48_0x352395(0xe9),'image':'../images/ribbons/Socialite.png','color':'#FF7675','levels':[0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32,0x37]},'Underdog\x20Ribbon':{'description':'Beat\x20a\x20pilot\x20ranked\x20higher\x20than\x20you','image':'../images/ribbons/Underdog.png','color':'#FF9500','levels':[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0x9,0xa]},'Domination\x20Ribbon':{'description':a48_0x352395(0xc5),'image':'../images/ribbons/Domination.png','color':'#8E44AD','levels':[0x1,0x2,0x3,0x4,0x5]},'Top\x20Bronze\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Bronze\x20rank','image':a48_0x352395(0xe4),'color':'#CD7F32'},'Top\x20Silver\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Silver\x20rank','image':a48_0x352395(0xe4),'color':'#C0C0C0'},'Top\x20Gold\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Gold\x20rank','image':'../images/ribbons/toprank.png','color':'#FFD700'},'Top\x20Emerald\x20Pilot':{'description':a48_0x352395(0xad),'image':'../images/ribbons/toprank.png','color':a48_0x352395(0x114)}};export const RIBBON_CSS='\x0a/*\x20Stats\x20integration\x20styles\x20*/\x0a.ribbon-section\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-top:\x201rem;\x0a}\x0a\x0a.ribbon-stat-item.full-width\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-bottom:\x200;\x0a}\x0a\x0a/*\x20Military\x20Ribbon\x20Rack\x20Styling\x20-\x20NO\x20OUTER\x20CONTAINER\x20*/\x0a.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20padding:\x200;\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20box-shadow:\x20none;\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20align-items:\x20flex-start;\x0a}\x0a\x0a.ribbon-rack-empty-inline\x20{\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20padding:\x2060px\x2040px;\x0a\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20border-radius:\x2012px;\x0a\x20\x20\x20\x20border:\x202px\x20solid\x20rgba(255,\x20255,\x20255,\x200.1);\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a}\x0a\x0a.empty-rack-text\x20{\x0a\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20font-style:\x20italic;\x0a\x20\x20\x20\x20font-size:\x201.2rem;\x0a}\x0a\x0a/*\x20Ribbon\x20Rows\x20*/\x0a.ribbon-row\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x206px;\x0a\x20\x20\x20\x20margin-bottom:\x206px;\x0a\x20\x20\x20\x20justify-content:\x20flex-start;\x0a}\x0a\x0a.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20margin-left:\x2060px;\x0a}\x0a\x0a/*\x20Individual\x20Military\x20Ribbon\x20Styling\x20-\x20FIXED\x20OVERFLOW\x20FOR\x20LEVEL\x20INDICATOR\x20*/\x0a.military-ribbon\x20{\x0a\x20\x20\x20\x20position:\x20relative;\x0a\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20transition:\x20transform\x200.3s\x20ease;\x0a\x20\x20\x20\x20flex-shrink:\x200;\x0a\x20\x20\x20\x20width:\x20190px;\x0a\x20\x20\x20\x20height:\x2060px;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#333;\x0a\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20overflow:\x20visible;\x20/*\x20Changed\x20from\x20hidden\x20to\x20visible\x20*/\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20margin:\x2012px\x2012px\x2012px\x200;\x20/*\x20Added\x20margin\x20to\x20prevent\x20clipping\x20*/\x0a}\x0a\x0a.military-ribbon:hover\x20{\x0a\x20\x20\x20\x20transform:\x20translateY(-4px);\x0a\x20\x20\x20\x20z-index:\x2010;\x0a}\x0a\x0a/*\x20Ribbon\x20image\x20container\x20to\x20handle\x20the\x20actual\x20overflow\x20*/\x0a.ribbon-image-container\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20border-radius:\x201px;\x0a}\x0a\x0a.ribbon-image\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20object-fit:\x20cover;\x0a\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20image-rendering:\x20crisp-edges;\x0a}\x0a\x0a.ribbon-fallback\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20text-shadow:\x200\x202px\x204px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a}\x0a\x0a.ribbon-name\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.9);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201.2;\x0a\x20\x20\x20\x20margin-top:\x206px;\x0a\x20\x20\x20\x20max-width:\x20120px;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20text-overflow:\x20ellipsis;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20-24px;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20font-weight:\x20500;\x0a}\x0a\x0a.military-ribbon:hover\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20display:\x20block;\x0a}\x0a\x0a.ribbon-devices\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x2050%;\x0a\x20\x20\x20\x20right:\x206px;\x0a\x20\x20\x20\x20transform:\x20translateY(-50%);\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x203px;\x0a\x20\x20\x20\x20z-index:\x205;\x0a}\x0a\x0a.ribbon-device\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20text-shadow:\x200\x200\x204px\x20rgba(0,0,0,0.9);\x0a\x20\x20\x20\x20filter:\x20drop-shadow(0\x202px\x204px\x20rgba(0,0,0,0.8));\x0a}\x0a\x0a.bronze-star\x20{\x0a\x20\x20\x20\x20color:\x20#CD7F32;\x0a}\x0a\x0a.silver-star\x20{\x0a\x20\x20\x20\x20color:\x20#C0C0C0;\x0a}\x0a\x0a.gold-star\x20{\x0a\x20\x20\x20\x20color:\x20#FFD700;\x0a}\x0a\x0a/*\x20Level\x20indicator\x20-\x20NOW\x20FULLY\x20VISIBLE\x20*/\x0a.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x20-8px;\x0a\x20\x20\x20\x20right:\x20-8px;\x0a\x20\x20\x20\x20background:\x20#FFD700;\x0a\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20width:\x2024px;\x0a\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#FFF;\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x208px\x20rgba(0,0,0,0.7);\x0a\x20\x20\x20\x20z-index:\x206;\x0a}\x0a\x0a/*\x20Custom\x20tooltip\x20-\x20only\x20this\x20one\x20will\x20show\x20*/\x0a.military-ribbon::before\x20{\x0a\x20\x20\x20\x20content:\x20attr(data-tooltip);\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20100%;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20background:\x20rgba(0,0,0,0.95);\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20padding:\x208px\x2012px;\x0a\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20pointer-events:\x20none;\x0a\x20\x20\x20\x20transition:\x20opacity\x200.3s;\x0a\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20margin-bottom:\x208px;\x0a\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(255,\x20255,\x20255,\x200.2);\x0a}\x0a\x0a.military-ribbon:hover::before\x20{\x0a\x20\x20\x20\x20opacity:\x201;\x0a}\x0a\x0a/*\x20Responsive\x20adjustments\x20*/\x0a@media\x20(max-width:\x201024px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2034px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x208px\x208px\x208px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-6px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-6px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2052px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-20px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20768px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2028px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x206px\x206px\x206px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x209px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-5px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-5px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2042px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2011px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-18px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x205px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20480px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2070px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x205px\x205px\x205px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2036px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x204px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-4px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-4px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a.stats-grid\x20.ribbon-section\x20{\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20padding:\x200;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20{\x0a\x20\x20\x20\x20background-color:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20padding:\x2025px;\x0a\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20.stat-label\x20{\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20text-transform:\x20uppercase;\x0a\x20\x20\x20\x20opacity:\x200.9;\x0a\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.95);\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a}\x0a\x0a.ribbon-level-indicator.level-1\x20{\x20background:\x20#808080;\x20}\x0a.ribbon-level-indicator.level-2\x20{\x20background:\x20#CD7F32;\x20}\x0a.ribbon-level-indicator.level-3\x20{\x20background:\x20#b9f1fc;\x20}\x0a.ribbon-level-indicator.level-4\x20{\x20background:\x20#FFD700;\x20}\x0a.ribbon-level-indicator.level-5-plus\x20{\x20background:\x20#50C878;\x20}\x0a';class RibbonCacheManager{constructor(){const _0x15ad5c=a48_0x352395;this[_0x15ad5c(0xd0)]=new Map(),this[_0x15ad5c(0x107)]=0x3c*0x3c*0x3e8,this['CACHE_KEY_PREFIX']='ribbon_cache_',this[_0x15ad5c(0xb2)]=Date['now'](),this['CLEANUP_INTERVAL']=0x1e*0x3c*0x3e8;}[a48_0x352395(0xde)](_0x143c1a,_0x203e3d){return''+this['CACHE_KEY_PREFIX']+_0x143c1a+'_'+_0x203e3d;}['getCachedData'](_0x10c963,_0x31703c){const _0x40e598=a48_0x352395;this['autoCleanup']();const _0x2058e2=this[_0x40e598(0xde)](_0x10c963,_0x31703c);if(this[_0x40e598(0xd0)][_0x40e598(0xfd)](_0x2058e2)){const _0x384964=this[_0x40e598(0xd0)]['get'](_0x2058e2);if(Date['now']()-_0x384964['timestamp']<this['CACHE_DURATION'])return console['log']('üöÄ\x20Cache\x20hit\x20(memory)\x20for\x20'+_0x10c963),_0x384964['data'];this['memoryCache']['delete'](_0x2058e2);}const _0x1e96db=localStorage['getItem'](_0x2058e2);if(_0x1e96db)try{const _0x49c0bb=JSON['parse'](_0x1e96db);if(Date[_0x40e598(0xf9)]()-_0x49c0bb['timestamp']<this['CACHE_DURATION'])return this[_0x40e598(0xd0)]['set'](_0x2058e2,{'data':_0x49c0bb[_0x40e598(0x100)],'timestamp':_0x49c0bb[_0x40e598(0xf7)],'matchCount':_0x49c0bb['matchCount']}),console[_0x40e598(0x104)]('üíæ\x20Cache\x20hit\x20(localStorage)\x20for\x20'+_0x10c963),_0x49c0bb[_0x40e598(0x100)];localStorage[_0x40e598(0xc6)](_0x2058e2);}catch(_0x197ab3){localStorage['removeItem'](_0x2058e2);}return null;}[a48_0x352395(0xb0)](_0x4e8495,_0x169a40,_0x2d0ca8,_0x943be8){const _0x167639=a48_0x352395,_0x6e93e7=this['getCacheKey'](_0x4e8495,_0x169a40),_0x5e3f23=Date['now']();this[_0x167639(0xd0)]['set'](_0x6e93e7,{'data':_0x2d0ca8,'timestamp':_0x5e3f23,'matchCount':_0x943be8});try{const _0xbe1018={'ribbons':_0x2d0ca8,'matchCount':_0x943be8,'timestamp':_0x5e3f23,'version':0x3};localStorage['setItem'](_0x6e93e7,JSON['stringify'](_0xbe1018));}catch(_0x28ed32){this['clearOldCache']();try{localStorage['setItem'](_0x6e93e7,JSON['stringify'](data));}catch(_0x58cc86){}}}[a48_0x352395(0xcd)](_0x4f4dbe,_0x3766f1,_0x4df803){const _0x2ded03=a48_0x352395,_0x4baa46=this['getCacheKey'](_0x4f4dbe,_0x3766f1);if(this[_0x2ded03(0xd0)]['has'](_0x4baa46)){const _0x56fe44=this['memoryCache']['get'](_0x4baa46);return _0x56fe44[_0x2ded03(0xca)]!==_0x4df803;}const _0x22e8e6=localStorage['getItem'](_0x4baa46);if(_0x22e8e6)try{const _0xc71c23=JSON['parse'](_0x22e8e6);return _0xc71c23['matchCount']!==_0x4df803;}catch(_0x5ee2ea){return!![];}return!![];}['invalidatePlayerCache'](_0x47b5dc,_0x3086ff){const _0x37efde=a48_0x352395,_0x1baecb=this[_0x37efde(0xde)](_0x47b5dc,_0x3086ff);this[_0x37efde(0xd0)][_0x37efde(0xef)](_0x1baecb),localStorage[_0x37efde(0xc6)](_0x1baecb),console['log']('üóëÔ∏è\x20Invalidated\x20cache\x20for\x20'+_0x47b5dc+'\x20('+_0x3086ff+_0x37efde(0x103));}['autoCleanup'](){const _0x342f3e=a48_0x352395,_0x1c5297=Date['now']();_0x1c5297-this['lastCleanup']>this['CLEANUP_INTERVAL']&&(this[_0x342f3e(0x109)](),this['lastCleanup']=_0x1c5297);}[a48_0x352395(0x109)](){const _0x2a9c09=a48_0x352395,_0x4c045f=Date['now']();let _0x3ccd9d=0x0,_0x130604=0x0;for(const [_0x3b40fc,_0x423ab8]of this['memoryCache'][_0x2a9c09(0xe0)]()){_0x4c045f-_0x423ab8[_0x2a9c09(0xf7)]>this[_0x2a9c09(0x107)]&&(this['memoryCache'][_0x2a9c09(0xef)](_0x3b40fc),_0x3ccd9d++);}for(let _0x553ea2=localStorage['length']-0x1;_0x553ea2>=0x0;_0x553ea2--){const _0x49dbdd=localStorage[_0x2a9c09(0xb8)](_0x553ea2);if(_0x49dbdd&&_0x49dbdd['startsWith'](this['CACHE_KEY_PREFIX']))try{const _0x5dbb72=JSON['parse'](localStorage['getItem'](_0x49dbdd));_0x4c045f-_0x5dbb72[_0x2a9c09(0xf7)]>this[_0x2a9c09(0x107)]&&(localStorage['removeItem'](_0x49dbdd),_0x130604++);}catch(_0x14abf9){localStorage[_0x2a9c09(0xc6)](_0x49dbdd),_0x130604++;}}}['clearOldCache'](){const _0x5df937=a48_0x352395,_0x37a28d=[];for(let _0x3057ab=0x0;_0x3057ab<localStorage['length'];_0x3057ab++){const _0x2aaaf4=localStorage[_0x5df937(0xb8)](_0x3057ab);if(_0x2aaaf4&&_0x2aaaf4[_0x5df937(0xd1)](this['CACHE_KEY_PREFIX']))try{const _0x464ac9=JSON['parse'](localStorage['getItem'](_0x2aaaf4));_0x37a28d['push']({'key':_0x2aaaf4,'timestamp':_0x464ac9['timestamp']});}catch(_0x1572b1){localStorage[_0x5df937(0xc6)](_0x2aaaf4);}}_0x37a28d[_0x5df937(0xf8)]((_0x2860fc,_0x10968a)=>_0x2860fc[_0x5df937(0xf7)]-_0x10968a['timestamp']);const _0x360073=Math['floor'](_0x37a28d['length']/0x2);for(let _0x1bad6f=0x0;_0x1bad6f<_0x360073;_0x1bad6f++){localStorage['removeItem'](_0x37a28d[_0x1bad6f][_0x5df937(0xb8)]);}}['getCacheStats'](){return{'memoryEntries':this['memoryCache']['size'],'lastCleanup':new Date(this['lastCleanup'])['toLocaleTimeString']()};}}class MatchCacheManager{constructor(){const _0x381bec=a48_0x352395;this['matchCache']=new Map(),this['CACHE_DURATION']=0xf*0x3c*0x3e8,this['lastCleanup']=Date[_0x381bec(0xf9)]();}['getCachedMatches'](_0x112b49,_0x4a733e){const _0x3c04b9=a48_0x352395;this['autoCleanup']();const _0x170d4c=_0x112b49+'_'+_0x4a733e,_0x3cfb64=this['matchCache'][_0x3c04b9(0x119)](_0x170d4c);if(_0x3cfb64&&Date['now']()-_0x3cfb64[_0x3c04b9(0xf7)]<this['CACHE_DURATION'])return console[_0x3c04b9(0x104)]('üéØ\x20Cache\x20hit\x20(matches)\x20for\x20'+_0x112b49),_0x3cfb64['matches'];return _0x3cfb64&&this['matchCache'][_0x3c04b9(0xef)](_0x170d4c),null;}[a48_0x352395(0x10d)](_0x17121f,_0x23e19c,_0x81aa22){const _0x366f71=a48_0x352395,_0x499e0f=_0x17121f+'_'+_0x23e19c;this[_0x366f71(0x108)][_0x366f71(0xe1)](_0x499e0f,{'matches':_0x81aa22,'timestamp':Date[_0x366f71(0xf9)]()});}['autoCleanup'](){const _0x2056aa=a48_0x352395,_0x27aeb9=Date['now']();if(_0x27aeb9-this['lastCleanup']>0x5*0x3c*0x3e8){let _0x335170=0x0;for(const [_0x12a538,_0x3cd357]of this[_0x2056aa(0x108)]['entries']()){_0x27aeb9-_0x3cd357[_0x2056aa(0xf7)]>this['CACHE_DURATION']&&(this['matchCache'][_0x2056aa(0xef)](_0x12a538),_0x335170++);}this['lastCleanup']=_0x27aeb9;}}['getCacheStats'](){return{'entries':this['matchCache']['size'],'lastCleanup':new Date(this['lastCleanup'])['toLocaleTimeString']()};}}class RibbonSystem{constructor(){const _0x475a4c=a48_0x352395;this[_0x475a4c(0xea)]=new Map(),this['batchTimer']=null,this[_0x475a4c(0x112)]=0x32,this[_0x475a4c(0x11b)]=new Map();}async[a48_0x352395(0xba)](_0x216889,_0x36c5e6){const _0x117396=a48_0x352395,_0x41cf8b=_0x36c5e6==='D1'?_0x117396(0xbc):_0x36c5e6==='D2'?'playersD2':_0x117396(0xc0),_0x907a5=collection(db,_0x41cf8b),_0x123552=await getDocs(_0x907a5),_0x2ca227=new Map();return _0x123552[_0x117396(0xe2)](_0xdde95a=>{const _0x1961f6=_0x117396,_0x265485=_0xdde95a[_0x1961f6(0x10f)]();_0x265485[_0x1961f6(0xcb)]&&(_0x265485['eloRating']!==undefined&&(_0x265485['rating']=_0x265485['eloRating']),_0x2ca227[_0x1961f6(0xe1)](_0x265485['username'],_0x265485));}),console[_0x117396(0x104)]('üìä\x20Bulk\x20loaded\x20'+_0x2ca227[_0x117396(0x106)]+'\x20players\x20from\x20'+_0x41cf8b),_0x2ca227;}async['evaluateAllRibbonsFromData'](_0x205cce,_0x13f7cf,_0x154326,_0x34e469){const _0x4bcd77=a48_0x352395,_0x1cb35e={},_0x3c7673=_0x13f7cf[_0x4bcd77(0xcb)],_0x5ad626={'totalMatches':_0x205cce[_0x4bcd77(0xf1)],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0,'dominatedRanks':new Set()},_0x32fc00=new Set();_0x205cce[_0x4bcd77(0xe2)](_0x280e4d=>{const _0x33e65b=_0x280e4d['winnerUsername']===_0x3c7673,_0x43c647=_0x33e65b?_0x280e4d['loserUsername']:_0x280e4d['winnerUsername'];if(_0x43c647)_0x32fc00['add'](_0x43c647);}),console['log']('üöÄ\x20Bulk\x20loading\x20'+_0x32fc00[_0x4bcd77(0x106)]+'\x20player\x20records\x20for\x20underdog\x20calculations...');const _0x9091a9=await this[_0x4bcd77(0xba)]([..._0x32fc00,_0x3c7673],_0x34e469),_0x2496d1=_0x9091a9['get'](_0x3c7673);!_0x2496d1&&console['log'](_0x4bcd77(0x111)+_0x3c7673);const _0x1a65bd={0x0:new Set(),0x1:new Set(),0x2:new Set(),0x3:new Set(),0x4:new Set()};_0x205cce['forEach'](_0x59ba27=>{const _0x3185b2=_0x4bcd77,_0x18d3c9=_0x59ba27[_0x3185b2(0x115)]===_0x3c7673,_0x127156=_0x18d3c9?_0x59ba27['loserUsername']:_0x59ba27['winnerUsername'];if(_0x18d3c9){_0x5ad626['wins']++;_0x59ba27['subgameType']===_0x3185b2(0xd3)&&_0x5ad626['rematchWins']++;this['isUnderdogVictoryFast'](_0x59ba27,_0x3c7673,_0x2496d1,_0x9091a9)&&_0x5ad626[_0x3185b2(0xc1)]++;const _0x51f55a=_0x9091a9['get'](_0x127156);if(_0x51f55a){const _0x449bbc=_0x51f55a['eloRating']||0x0,_0x317467=getPlayerRankTier(_0x449bbc);_0x1a65bd[_0x317467]['add'](_0x127156);}}_0x59ba27['subgameType']&&_0x59ba27['subgameType']!=='Standard'&&_0x5ad626['subgameMatches']++,_0x59ba27['mapPlayed']&&_0x5ad626['uniqueMaps']['add'](_0x59ba27['mapPlayed']),_0x127156&&_0x5ad626[_0x3185b2(0xe6)][_0x3185b2(0xb1)](_0x127156);}),Object['keys'](_0x1a65bd)[_0x4bcd77(0xe2)](_0x12fb41=>{const _0x428362=_0x4bcd77;_0x1a65bd[_0x12fb41][_0x428362(0x106)]>=0x5&&_0x5ad626[_0x428362(0xdc)][_0x428362(0xb1)](parseInt(_0x12fb41));}),console['log']('üéØ\x20Found\x20'+_0x5ad626[_0x4bcd77(0xc1)]+'\x20underdog\x20victories\x20for\x20'+_0x3c7673),console[_0x4bcd77(0x104)](_0x4bcd77(0xc4)+_0x5ad626[_0x4bcd77(0xdc)]['size']+'\x20ranks:\x20['+Array['from'](_0x5ad626['dominatedRanks'])[_0x4bcd77(0x10e)](_0x30bca0=>getRankTierName(_0x30bca0))[_0x4bcd77(0xf3)](',\x20')+']');const _0x2e24a5=_0x5ad626[_0x4bcd77(0x11c)]>0x0?_0x5ad626['wins']/_0x5ad626['totalMatches']*0x64:0x0,_0x1f3b69=[['Overachiever\x20Ribbon',this['evaluateOverachieverRibbonFromCount'](_0x5ad626['totalMatches'],_0x154326)],['Rematch\x20Ribbon',this['evaluateRematchRibbonFromCount'](_0x5ad626['rematchWins'],_0x154326)],['Sub-Gamer\x20Ribbon',this['evaluateSubGamerRibbonFromCount'](_0x5ad626[_0x4bcd77(0xdb)],_0x154326)],[_0x4bcd77(0xb5),this['evaluateExplorerRibbonFromCount'](_0x5ad626['uniqueMaps']['size'],_0x154326)],[_0x4bcd77(0xcf),this['evaluateSocialiteRibbonFromCount'](_0x5ad626['uniqueOpponents'][_0x4bcd77(0x106)],_0x154326)],['Brick\x20Wall',this[_0x4bcd77(0xae)](_0x2e24a5,_0x154326,_0x5ad626['totalMatches'])],[_0x4bcd77(0xf2),this['evaluateUnderdogRibbonFromCount'](_0x5ad626['underdogWins'],_0x154326)],['Domination\x20Ribbon',this['evaluateDominationRibbonFromRanks'](_0x5ad626['dominatedRanks']['size'],_0x154326)]];_0x1f3b69[_0x4bcd77(0xe2)](([_0x2b0bf9,_0x10d8b8])=>{_0x10d8b8&&(_0x1cb35e[_0x2b0bf9]=_0x10d8b8);});const _0xa01b2b=Object[_0x4bcd77(0xb9)](_0x154326)['length']+Object['keys'](_0x1cb35e)['length'],_0x2ff2e3=this[_0x4bcd77(0xd4)](_0xa01b2b,_0x154326);return _0x2ff2e3&&(_0x1cb35e['Collector\x20Ribbon']=_0x2ff2e3),_0x1cb35e;}['evaluateDominationRibbonFromRanks'](_0xb0c553,_0x48981e){const _0x1681c0=a48_0x352395;if(_0xb0c553===0x0)return null;const _0x46c602=_0x48981e[_0x1681c0(0xb4)]||{'level':0x0};if(_0xb0c553>_0x46c602['level']){const _0x458d4e=[];for(let _0x1029b8=0x0;_0x1029b8<_0xb0c553;_0x1029b8++){_0x458d4e['push'](getRankTierName(_0x1029b8));}return console['log'](_0x1681c0(0xbf)+_0x46c602['level']+_0x1681c0(0xc3)+_0xb0c553+'\x20(Dominated:\x20'+_0x458d4e[_0x1681c0(0xf3)](',\x20')+')'),{'level':_0xb0c553,'awardedAt':new Date(),'dominatedRanks':_0x458d4e};}return null;}async['checkTopRankStatus'](_0x1bed2b,_0x4c0395){const _0x3136d3=a48_0x352395;try{const _0x499797=_0x4c0395==='D1'?'players':_0x4c0395==='D2'?'playersD2':'playersD3',_0x5317f4=await this[_0x3136d3(0x10a)](_0x1bed2b,_0x4c0395);if(!_0x5317f4||_0x5317f4['eloRating']===undefined)return console[_0x3136d3(0x104)]('‚ùå\x20No\x20ELO\x20rating\x20data\x20for\x20'+_0x1bed2b),null;const _0x102afa=_0x5317f4['eloRating'],_0x41ed18=getPlayerRankTier(_0x102afa),_0x4e5994=getRankTierName(_0x41ed18);if(_0x4e5994==='Unranked')return console[_0x3136d3(0x104)]('‚ùå\x20'+_0x1bed2b+'\x20is\x20Unranked\x20('+_0x102afa+_0x3136d3(0x110)),null;console[_0x3136d3(0x104)]('üîç\x20Checking\x20Top\x20'+_0x4e5994+'\x20status\x20for\x20'+_0x1bed2b+'\x20('+_0x102afa+_0x3136d3(0x110));const _0x5dcd5f=collection(db,_0x499797),_0x2682b8=await getDocs(_0x5dcd5f);let _0x5edf6a=null,_0x53ec52=-0x1,_0x38592a=0x0;_0x2682b8['forEach'](_0x2e0762=>{const _0x1baecf=_0x3136d3,_0x520c00=_0x2e0762[_0x1baecf(0x10f)](),_0xb58bb2=_0x520c00['eloRating']||0x0,_0x50fc9f=getPlayerRankTier(_0xb58bb2);_0x50fc9f===_0x41ed18&&(_0x38592a++,_0xb58bb2>_0x53ec52&&(_0x53ec52=_0xb58bb2,_0x5edf6a=_0x520c00[_0x1baecf(0xcb)]));});const _0x51f0db=_0x5edf6a===_0x1bed2b;return console['log']('üìä\x20'+_0x4e5994+'\x20Tier:\x20'+_0x38592a+'\x20players,\x20Top:\x20'+_0x5edf6a+'\x20('+_0x53ec52+'\x20ELO),\x20'+_0x1bed2b+'\x20is\x20#1:\x20'+_0x51f0db),_0x51f0db?_0x4e5994:null;}catch(_0x3ed991){return console['error'](_0x3136d3(0xda),_0x3ed991),null;}}async['evaluateTopRankRibbon'](_0x4785b6,_0x5ca599,_0x50b365){const _0x4a26ce=a48_0x352395,_0x460989=await this['checkTopRankStatus'](_0x4785b6,_0x5ca599),_0x6aabc={};if(_0x460989){const _0x5c3ead=_0x4a26ce(0xf4)+_0x460989+'\x20Pilot';if(RIBBON_DEFINITIONS[_0x5c3ead]){const _0x53e957=_0x50b365[_0x5c3ead];!_0x53e957?(console['log']('üëë\x20NEW\x20Top\x20Rank\x20Achievement:\x20'+_0x4785b6+_0x4a26ce(0xd2)+_0x5c3ead+'!'),_0x6aabc[_0x5c3ead]={'level':0x1,'awardedAt':new Date(),'rank':_0x460989,'achievedAt':new Date()}):console[_0x4a26ce(0x104)]('‚úÖ\x20'+_0x4785b6+'\x20already\x20has\x20'+_0x5c3ead+'\x20-\x20No\x20changes\x20needed');}}return Object['keys'](_0x50b365)['forEach'](_0x16021e=>{const _0x18e658=_0x4a26ce;_0x16021e['startsWith'](_0x18e658(0xf4))&&_0x16021e[_0x18e658(0xb7)]('\x20Pilot')&&(!_0x6aabc[_0x16021e]&&console['log']('‚úÖ\x20Preserving\x20existing\x20'+_0x16021e));}),_0x6aabc;}async[a48_0x352395(0x11a)](_0x3dc547,_0x441866='D1'){const _0x4ce5d6=a48_0x352395;try{const _0x460962=ribbonCache[_0x4ce5d6(0x10c)](_0x3dc547,_0x441866);if(_0x460962){const _0x2aa340=await this['evaluateTopRankRibbon'](_0x3dc547,_0x441866,_0x460962);if(Object[_0x4ce5d6(0xb9)](_0x2aa340)[_0x4ce5d6(0xf1)]>0x0){console['log']('üÜï\x20New\x20top\x20rank\x20achievements\x20found\x20for\x20cached\x20player\x20'+_0x3dc547),await this['savePlayerRibbonsOptimized'](_0x3dc547,_0x2aa340,_0x441866);const _0xe76d16={..._0x460962,..._0x2aa340};return ribbonCache['setCachedData'](_0x3dc547,_0x441866,_0xe76d16,0x0),_0xe76d16;}return _0x460962;}const [_0x3c8acf,_0x428864]=await Promise[_0x4ce5d6(0xaf)]([this[_0x4ce5d6(0x10a)](_0x3dc547,_0x441866),this['getPlayerRibbonsCached'](_0x3dc547,_0x441866)]);if(!_0x3c8acf)return{};const _0x3f1bbc=_0x3c8acf['matchesPlayed']||0x0,_0x14860a=await this[_0x4ce5d6(0xc8)](_0x3dc547,_0x441866,_0x428864);if(!ribbonCache['shouldRefreshCache'](_0x3dc547,_0x441866,_0x3f1bbc)){if(Object['keys'](_0x14860a)['length']>0x0){await this['savePlayerRibbonsOptimized'](_0x3dc547,_0x14860a,_0x441866);const _0x499e4f={..._0x428864,..._0x14860a};return ribbonCache['setCachedData'](_0x3dc547,_0x441866,_0x499e4f,_0x3f1bbc),_0x499e4f;}return ribbonCache['setCachedData'](_0x3dc547,_0x441866,_0x428864,_0x3f1bbc),_0x428864;}const _0x7df497=await this[_0x4ce5d6(0xe7)](_0x3dc547,_0x441866),_0xa0c89d=await this['evaluateAllRibbonsFromData'](_0x7df497,_0x3c8acf,_0x428864,_0x441866);Object['assign'](_0xa0c89d,_0x14860a);Object[_0x4ce5d6(0xb9)](_0xa0c89d)[_0x4ce5d6(0xf1)]>0x0&&(console['log']('üíæ\x20Saving\x20'+Object[_0x4ce5d6(0xb9)](_0xa0c89d)[_0x4ce5d6(0xf1)]+'\x20new/updated\x20ribbons\x20for\x20'+_0x3dc547),await this['savePlayerRibbonsOptimized'](_0x3dc547,_0xa0c89d,_0x441866));const _0x28991e={..._0x428864,..._0xa0c89d};return ribbonCache['setCachedData'](_0x3dc547,_0x441866,_0x28991e,_0x7df497[_0x4ce5d6(0xf1)]),_0x28991e;}catch(_0x50cebc){return console[_0x4ce5d6(0xb3)]('‚ùå\x20Error\x20in\x20ribbon\x20evaluation:',_0x50cebc),{};}}async[a48_0x352395(0xaa)](_0x57d43f,_0x12d3a9,_0x3322c7){const _0xf2e1e9=a48_0x352395,_0x339320=_0x57d43f['winnerUsername']===_0x12d3a9;if(!_0x339320)return![];const _0x194f9c=_0x57d43f['loserUsername'],[_0x47e0b5,_0x217819]=await Promise['all']([this['getPlayerDataCached'](_0x12d3a9,_0x3322c7),this[_0xf2e1e9(0x10a)](_0x194f9c,_0x3322c7)]);if(!_0x47e0b5||!_0x217819)return console['log']('‚ö†Ô∏è\x20Missing\x20player\x20data\x20for\x20'+_0x12d3a9+'\x20or\x20'+_0x194f9c),![];const _0x29ab43=_0x47e0b5['eloRating']||0x0,_0x59ca1a=_0x217819[_0xf2e1e9(0xbe)]||0x0,_0x5dc0fd=getPlayerRankTier(_0x29ab43),_0x191aa1=getPlayerRankTier(_0x59ca1a);console[_0xf2e1e9(0x104)]('üîç\x20Checking\x20underdog:\x20Winner('+_0x12d3a9+'):\x20'+_0x29ab43+'\x20ELO\x20('+getRankTierName(_0x5dc0fd)+')\x20vs\x20Loser('+_0x194f9c+'):\x20'+_0x59ca1a+'\x20ELO\x20('+getRankTierName(_0x191aa1)+')');if(_0x191aa1>_0x5dc0fd)return console[_0xf2e1e9(0x104)]('üéØ\x20UNDERDOG\x20VICTORY:\x20'+getRankTierName(_0x5dc0fd)+'\x20beat\x20'+getRankTierName(_0x191aa1)+'!'),!![];return console[_0xf2e1e9(0x104)]('‚ùå\x20Not\x20underdog:\x20'+getRankTierName(_0x5dc0fd)+'\x20vs\x20'+getRankTierName(_0x191aa1)),![];}['isUnderdogVictoryFast'](_0x3b1de1,_0x133ef5,_0x11ca6f,_0x5820e4){const _0x14debd=a48_0x352395,_0x2089cc=_0x3b1de1['winnerUsername']===_0x133ef5;if(!_0x2089cc)return![];const _0x34e420=_0x3b1de1['loserUsername'],_0x5d5238=_0x5820e4['get'](_0x34e420);if(!_0x11ca6f||!_0x5d5238)return![];const _0x32f252=_0x11ca6f['eloRating']||0x0,_0x4f4301=_0x5d5238['eloRating']||0x0,_0x5b0151=getPlayerRankTier(_0x32f252),_0x30ec7c=getPlayerRankTier(_0x4f4301);if(_0x30ec7c>_0x5b0151)return console[_0x14debd(0x104)](_0x14debd(0xff)+getRankTierName(_0x5b0151)+'('+_0x32f252+')\x20beat\x20'+getRankTierName(_0x30ec7c)+'('+_0x4f4301+')'),!![];return![];}async['evaluateAllRibbonsFromData'](_0x579486,_0x2ad8aa,_0x27930b,_0x4e5a45){const _0x20322d=a48_0x352395,_0x4fa403={},_0x25b489=_0x2ad8aa[_0x20322d(0xcb)],_0x328705={'totalMatches':_0x579486['length'],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0},_0x3a6b72=new Set();_0x579486['forEach'](_0x26143a=>{const _0x26a7bb=_0x20322d,_0x16b39e=_0x26143a['winnerUsername']===_0x25b489,_0x316300=_0x16b39e?_0x26143a['loserUsername']:_0x26143a[_0x26a7bb(0x115)];if(_0x316300)_0x3a6b72[_0x26a7bb(0xb1)](_0x316300);}),console['log'](_0x20322d(0x113)+_0x3a6b72['size']+'\x20player\x20records\x20for\x20underdog\x20calculations...');const _0x4651dd=await this[_0x20322d(0xba)]([..._0x3a6b72,_0x25b489],_0x4e5a45),_0x3b4151=_0x4651dd['get'](_0x25b489);!_0x3b4151&&console[_0x20322d(0x104)]('‚ö†Ô∏è\x20No\x20current\x20player\x20data\x20found\x20for\x20'+_0x25b489);_0x579486['forEach'](_0x5076f7=>{const _0x3fa4cb=_0x20322d,_0x2893c1=_0x5076f7['winnerUsername']===_0x25b489,_0x5f97c3=_0x2893c1?_0x5076f7['loserUsername']:_0x5076f7['winnerUsername'];_0x2893c1&&(_0x328705['wins']++,_0x5076f7['subgameType']==='Rematch'&&_0x328705['rematchWins']++,this['isUnderdogVictoryFast'](_0x5076f7,_0x25b489,_0x3b4151,_0x4651dd)&&_0x328705['underdogWins']++),_0x5076f7[_0x3fa4cb(0xee)]&&_0x5076f7[_0x3fa4cb(0xee)]!=='Standard'&&_0x328705['subgameMatches']++,_0x5076f7['mapPlayed']&&_0x328705['uniqueMaps']['add'](_0x5076f7['mapPlayed']),_0x5f97c3&&_0x328705[_0x3fa4cb(0xe6)]['add'](_0x5f97c3);}),console['log']('üéØ\x20Found\x20'+_0x328705[_0x20322d(0xc1)]+'\x20underdog\x20victories\x20for\x20'+_0x25b489);const _0x2f359c=_0x328705[_0x20322d(0x11c)]>0x0?_0x328705['wins']/_0x328705['totalMatches']*0x64:0x0,_0x37f4ee=[['Overachiever\x20Ribbon',this['evaluateOverachieverRibbonFromCount'](_0x328705['totalMatches'],_0x27930b)],['Rematch\x20Ribbon',this[_0x20322d(0xc9)](_0x328705[_0x20322d(0xe3)],_0x27930b)],[_0x20322d(0xc7),this['evaluateSubGamerRibbonFromCount'](_0x328705[_0x20322d(0xdb)],_0x27930b)],['Explorer\x20Ribbon',this['evaluateExplorerRibbonFromCount'](_0x328705[_0x20322d(0xb6)]['size'],_0x27930b)],['Socialite\x20Ribbon',this['evaluateSocialiteRibbonFromCount'](_0x328705[_0x20322d(0xe6)]['size'],_0x27930b)],['Brick\x20Wall',this['evaluateBrickWallRibbonFromWinRate'](_0x2f359c,_0x27930b,_0x328705['totalMatches'])],['Underdog\x20Ribbon',this['evaluateUnderdogRibbonFromCount'](_0x328705['underdogWins'],_0x27930b)]];_0x37f4ee['forEach'](([_0x48f595,_0x4367bc])=>{_0x4367bc&&(_0x4fa403[_0x48f595]=_0x4367bc);});const _0x3f6543=Object['keys'](_0x27930b)['length']+Object[_0x20322d(0xb9)](_0x4fa403)['length'],_0x5620f6=this['evaluateCollectorRibbonFromCount'](_0x3f6543,_0x27930b);return _0x5620f6&&(_0x4fa403['Collector\x20Ribbon']=_0x5620f6),_0x4fa403;}async[a48_0x352395(0xe7)](_0x47a27e,_0x46852e){const _0x5c9b63=a48_0x352395,_0xf3c41b=matchCache['getCachedMatches'](_0x47a27e,_0x46852e);if(_0xf3c41b)return _0xf3c41b;try{const _0x2687ae=_0x46852e==='D1'?_0x5c9b63(0x105):_0x46852e==='D2'?'approvedMatchesD2':'approvedMatchesD3',_0x3f1cbd=collection(db,_0x2687ae),[_0xdb9722,_0x547b1f]=await Promise[_0x5c9b63(0xaf)]([getDocs(query(_0x3f1cbd,where(_0x5c9b63(0x115),'==',_0x47a27e))),getDocs(query(_0x3f1cbd,where('loserUsername','==',_0x47a27e)))]),_0x76a023=new Set(),_0x18ead6=[];return _0xdb9722['forEach'](_0x53842b=>{const _0xf28a1b=_0x5c9b63;if(!_0x76a023['has'](_0x53842b['id'])){_0x76a023['add'](_0x53842b['id']);const _0x931af4={'id':_0x53842b['id'],..._0x53842b[_0xf28a1b(0x10f)]()};if(!_0x931af4['winnerRating'])_0x931af4[_0xf28a1b(0xd9)]=0x0;if(!_0x931af4[_0xf28a1b(0xac)])_0x931af4[_0xf28a1b(0xac)]=0x0;_0x18ead6['push'](_0x931af4);}}),_0x547b1f['forEach'](_0x4d6d98=>{const _0x2a782c=_0x5c9b63;if(!_0x76a023['has'](_0x4d6d98['id'])){_0x76a023['add'](_0x4d6d98['id']);const _0x3de583={'id':_0x4d6d98['id'],..._0x4d6d98['data']()};if(!_0x3de583['winnerRating'])_0x3de583[_0x2a782c(0xd9)]=0x0;if(!_0x3de583[_0x2a782c(0xac)])_0x3de583['loserRating']=0x0;_0x18ead6['push'](_0x3de583);}}),matchCache[_0x5c9b63(0x10d)](_0x47a27e,_0x46852e,_0x18ead6),_0x18ead6;}catch(_0x4862e4){return console['error']('‚ùå\x20Error\x20fetching\x20matches:',_0x4862e4),[];}}async['getPlayerDataCached'](_0x181104,_0x2dfcf5){const _0x2bfc38=a48_0x352395;try{const _0x125854=_0x2dfcf5==='D1'?'players':_0x2dfcf5==='D2'?_0x2bfc38(0xd5):'playersD3',_0x519f68=collection(db,_0x125854),_0x38df96=query(_0x519f68,where('username','==',_0x181104),limit(0x1)),_0x27da40=await getDocs(_0x38df96);if(_0x27da40['empty'])return console['log']('‚ùå\x20No\x20player\x20data\x20found\x20for\x20'+_0x181104+'\x20in\x20'+_0x125854),null;const _0x2f733f=_0x27da40['docs'][0x0]['data']();return _0x2f733f[_0x2bfc38(0xbe)]!==undefined&&(_0x2f733f['rating']=_0x2f733f['eloRating']),console['log'](_0x2bfc38(0xf5)+_0x181104+':\x20ELO\x20'+_0x2f733f['eloRating']+',\x20Position\x20'+_0x2f733f['position']),_0x2f733f;}catch(_0x158a36){return console['error'](_0x2bfc38(0xbb)+_0x181104+':',_0x158a36),null;}}async[a48_0x352395(0x118)](_0x4d22ca,_0x2161b9){const _0x5ee322=a48_0x352395;try{const _0x390972=_0x5ee322(0xfe)+(_0x2161b9==='D1'?'':_0x2161b9),_0x448a94=doc(db,_0x390972,_0x4d22ca),_0x3fab91=await getDoc(_0x448a94);return _0x3fab91['exists']()?_0x3fab91['data']()['ribbons']||{}:{};}catch(_0x41ea0b){return console['error'](_0x5ee322(0xfc),_0x41ea0b),{};}}async[a48_0x352395(0xfb)](_0x2fbd42,_0x53de70,_0x1924ee){const _0x3138c2=a48_0x352395;try{const _0x349b8e='playerRibbons'+(_0x1924ee==='D1'?'':_0x1924ee),_0xee2bd4=doc(db,_0x349b8e,_0x2fbd42),_0x55aeb2=await this['getPlayerRibbonsCached'](_0x2fbd42,_0x1924ee),_0xeac02={..._0x55aeb2,..._0x53de70};await setDoc(_0xee2bd4,{'username':_0x2fbd42,'ladder':_0x1924ee,'ribbons':_0xeac02,'lastUpdated':new Date()},{'merge':!![]});}catch(_0x551d25){console[_0x3138c2(0xb3)]('Error\x20saving\x20ribbons:',_0x551d25);}}['evaluateOverachieverRibbonFromCount'](_0xef4c9f,_0x4b5a6d){const _0x4fbf68=a48_0x352395,_0x498610=_0x4b5a6d['Overachiever\x20Ribbon']||{'level':0x0},_0x294385=RIBBON_DEFINITIONS['Overachiever\x20Ribbon']['levels'],_0x22079d=_0x294385[_0x4fbf68(0x101)](_0x367d6a=>_0xef4c9f<_0x367d6a),_0x2820ae=_0x22079d===-0x1?_0x294385[_0x4fbf68(0xf1)]:_0x22079d;if(_0x2820ae>_0x498610[_0x4fbf68(0xdf)])return{'level':_0x2820ae,'awardedAt':new Date()};return null;}['evaluateRematchRibbonFromCount'](_0x4e8254,_0x2f55af){if(_0x4e8254===0x0)return null;const _0x4a556c=_0x2f55af['Rematch\x20Ribbon']||{'level':0x0};if(_0x4e8254>_0x4a556c['level'])return{'level':_0x4e8254,'awardedAt':new Date()};return null;}['evaluateSubGamerRibbonFromCount'](_0x284644,_0x5a1cc8){const _0x1aec1b=a48_0x352395,_0xcee3fd=_0x5a1cc8['Sub-Gamer\x20Ribbon']||{'level':0x0},_0x317eac=RIBBON_DEFINITIONS['Sub-Gamer\x20Ribbon']['levels'],_0x19f9bf=_0x317eac['findIndex'](_0x51e663=>_0x284644<_0x51e663),_0x3049c6=_0x19f9bf===-0x1?_0x317eac[_0x1aec1b(0xf1)]:_0x19f9bf;if(_0x3049c6>_0xcee3fd[_0x1aec1b(0xdf)])return{'level':_0x3049c6,'awardedAt':new Date()};return null;}['evaluateExplorerRibbonFromCount'](_0x5e04e6,_0x13b5a5){const _0x18420e=a48_0x352395,_0x14fbcf=_0x13b5a5[_0x18420e(0xb5)]||{'level':0x0},_0x262d12=RIBBON_DEFINITIONS['Explorer\x20Ribbon'][_0x18420e(0xfa)],_0xcba4c0=_0x262d12['findIndex'](_0x2c65ef=>_0x5e04e6<_0x2c65ef),_0x43dbab=_0xcba4c0===-0x1?_0x262d12['length']:_0xcba4c0;if(_0x43dbab>_0x14fbcf['level'])return{'level':_0x43dbab,'awardedAt':new Date()};return null;}['evaluateSocialiteRibbonFromCount'](_0x225fd7,_0x36157d){const _0x849457=a48_0x352395,_0x19da1e=_0x36157d['Socialite\x20Ribbon']||{'level':0x0},_0x2cb154=RIBBON_DEFINITIONS['Socialite\x20Ribbon']['levels'],_0x119f7d=_0x2cb154[_0x849457(0x101)](_0x3efa8c=>_0x225fd7<_0x3efa8c),_0x164541=_0x119f7d===-0x1?_0x2cb154['length']:_0x119f7d;if(_0x164541>_0x19da1e[_0x849457(0xdf)])return{'level':_0x164541,'awardedAt':new Date()};return null;}['evaluateBrickWallRibbonFromWinRate'](_0x329960,_0x28cdd5,_0x403c10){const _0x2189fe=a48_0x352395;if(_0x403c10<0x32)return console['log'](_0x2189fe(0xeb)+_0x403c10+')'),null;const _0x591548=_0x28cdd5['Brick\x20Wall']||{'level':0x0},_0x2952c7=RIBBON_DEFINITIONS['Brick\x20Wall'][_0x2189fe(0xfa)],_0xe55292=_0x2952c7['findIndex'](_0x45f1ee=>_0x329960<_0x45f1ee),_0x4f91e4=_0xe55292===-0x1?_0x2952c7['length']:_0xe55292;if(_0x4f91e4>_0x591548['level'])return console['log'](_0x2189fe(0xf0)+_0x329960['toFixed'](0x1)+_0x2189fe(0xdd)+_0x403c10+_0x2189fe(0xc2)),{'level':_0x4f91e4,'awardedAt':new Date(),'winRate':_0x329960,'matchesPlayed':_0x403c10};return null;}['evaluateCollectorRibbonFromCount'](_0x2e016b,_0x1f48b8){const _0x252850=_0x1f48b8['Collector\x20Ribbon']||{'level':0x0},_0x1b1252=RIBBON_DEFINITIONS['Collector\x20Ribbon']['levels'],_0x347486=_0x1b1252['findIndex'](_0x46cfb9=>_0x2e016b<_0x46cfb9),_0x51dac4=_0x347486===-0x1?_0x1b1252['length']:_0x347486;if(_0x51dac4>_0x252850['level'])return{'level':_0x51dac4,'awardedAt':new Date()};return null;}['evaluateUnderdogRibbonFromCount'](_0x1d49fc,_0x30776b){const _0x1d0cc8=a48_0x352395;if(_0x1d49fc===0x0)return null;const _0x737979=_0x30776b[_0x1d0cc8(0xf2)]||{'level':0x0},_0x5708ba=RIBBON_DEFINITIONS['Underdog\x20Ribbon'][_0x1d0cc8(0xfa)];let _0xa61084=0x0;for(let _0x4adb2e=0x0;_0x4adb2e<_0x5708ba['length'];_0x4adb2e++){if(_0x1d49fc>=_0x5708ba[_0x4adb2e])_0xa61084=_0x4adb2e+0x1;else break;}if(_0xa61084>_0x737979['level'])return console['log']('üèÜ\x20Underdog\x20Ribbon\x20upgrade:\x20Level\x20'+_0x737979['level']+'\x20‚Üí\x20'+_0xa61084+'\x20('+_0x1d49fc+'\x20underdog\x20wins)'),{'level':_0xa61084,'awardedAt':new Date()};return null;}}function getPlayerRankTier(_0x2a8515){if(_0x2a8515===undefined||_0x2a8515===null)return 0x0;const _0x511fb7=Number(_0x2a8515);if(isNaN(_0x511fb7))return 0x0;if(_0x511fb7>=0x7d0)return 0x4;if(_0x511fb7>=0x708)return 0x3;if(_0x511fb7>=0x640)return 0x2;if(_0x511fb7>=0x578)return 0x1;return 0x0;}function getRankTierName(_0x5891d4){const _0x21ff99=a48_0x352395,_0x58a5ef=['Unranked',_0x21ff99(0xec),'Silver','Gold','Emerald'];return _0x58a5ef[_0x5891d4]||'Unranked';}const ribbonSystem=new RibbonSystem(),ribbonCache=new RibbonCacheManager(),matchCache=new MatchCacheManager();function a48_0x2471(){const _0x1adf3f=['isUnderdogVictory','../images/ribbons/Rematch.png','loserRating','Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Emerald\x20rank','evaluateBrickWallRibbonFromWinRate','all','setCachedData','add','lastCleanup','error','Domination\x20Ribbon','Explorer\x20Ribbon','uniqueMaps','endsWith','key','keys','bulkLoadPlayerData','Error\x20getting\x20player\x20data\x20for\x20','players','bind','eloRating','üëë\x20Domination\x20Ribbon\x20awarded:\x20Level\x20','playersD3','underdogWins','\x20matches','\x20‚Üí\x20','üëë\x20Dominated\x20','Beat\x205\x20unique\x20pilots\x20in\x20a\x20rank\x20(including\x20your\x20own)','removeItem','Sub-Gamer\x20Ribbon','evaluateTopRankRibbon','evaluateRematchRibbonFromCount','matchCount','username','\x20Badge','shouldRefreshCache','min','Socialite\x20Ribbon','memoryCache','startsWith','\x20earned\x20','Rematch','evaluateCollectorRibbonFromCount','playersD2','#A29BFE','level-1','return\x20(function()\x20','winnerRating','Error\x20checking\x20top\x20rank\x20status:','subgameMatches','dominatedRanks','%\x20win\x20rate\x20over\x20','getCacheKey','level','entries','set','forEach','rematchWins','../images/ribbons/toprank.png','constructor','uniqueOpponents','getPlayerMatchesOptimized','level-3','Played\x20at\x20least\x2010\x20unique\x20pilots','pendingEvaluations','‚ö†Ô∏è\x20Brick\x20Wall\x20ribbon\x20requires\x2050+\x20matches\x20(player\x20has\x20','Bronze','replace','subgameType','delete','üèÜ\x20Brick\x20Wall\x20ribbon\x20awarded:\x20','length','Underdog\x20Ribbon','join','Top\x20','‚úÖ\x20Found\x20player\x20data\x20for\x20','#6C5CE7','timestamp','sort','now','levels','savePlayerRibbonsOptimized','Error\x20getting\x20player\x20ribbons:','has','playerRibbons','üéØ\x20UNDERDOG:\x20','ribbons','findIndex','prototype',')\x20-\x20new\x20match\x20detected','log','approvedMatches','size','CACHE_DURATION','matchCache','cleanup','getPlayerDataCached','console','getCachedData','setCachedMatches','map','data','\x20ELO)','‚ö†Ô∏è\x20No\x20current\x20player\x20data\x20found\x20for\x20','BATCH_DELAY','üöÄ\x20Bulk\x20loading\x20','#50C878','winnerUsername','<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>','info','getPlayerRibbonsCached','get','evaluateAllRibbonsForPlayerOptimized','playerDataCache','totalMatches'];a48_0x2471=function(){return _0x1adf3f;};return a48_0x2471();}typeof window!=='undefined'&&(window['getRibbonCacheStats']=()=>{return{'ribbon':ribbonCache['getCacheStats'](),'match':matchCache['getCacheStats']()};});export async function evaluatePlayerRibbons(_0x500cbd,_0x42bfb='D1'){return await ribbonSystem['evaluateAllRibbonsForPlayerOptimized'](_0x500cbd,_0x42bfb);}export function getRibbonHTML(_0x5d345f,_0x42b8e1){const _0x2a34be=a48_0x352395,_0x49bc47=RIBBON_DEFINITIONS[_0x5d345f];if(!_0x49bc47)return'';const _0x168edb=_0x42b8e1['level']||0x1,_0x4da80f=_0x5d345f[_0x2a34be(0xed)]('\x20Ribbon','')['replace'](_0x2a34be(0xcc),''),_0x239cc5=_0x214083=>{const _0x5102c0=_0x2a34be;if(_0x214083<=0x1)return _0x5102c0(0xd7);if(_0x214083<=0x2)return'level-2';if(_0x214083<=0x3)return _0x5102c0(0xe8);if(_0x214083<=0x4)return'level-4';return'level-5-plus';},_0x3d30ec=_0x5f105f=>{const _0x2b0934=_0x2a34be;if(_0x5f105f<=0x1)return'';const _0x4dcb99=[];if(_0x5f105f>=0x2&&_0x5f105f<=0x4){const _0x292ed8=Math['min'](_0x5f105f-0x1,0x3);for(let _0x1c087f=0x0;_0x1c087f<_0x292ed8;_0x1c087f++){_0x4dcb99['push'](_0x2b0934(0x116));}}if(_0x5f105f>=0x5&&_0x5f105f<=0x7){_0x4dcb99['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20silver-star\x22></i>');const _0x4e1a73=Math[_0x2b0934(0xce)](_0x5f105f-0x5,0x2);for(let _0x33c71c=0x0;_0x33c71c<_0x4e1a73;_0x33c71c++){_0x4dcb99['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>');}}return _0x5f105f>=0x8&&_0x4dcb99['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20gold-star\x22></i>'),_0x4dcb99['length']>0x0?'<div\x20class=\x22ribbon-devices\x22>'+_0x4dcb99['join']('')+'</div>':'';},_0x1626db=_0x49bc47['description']+'\x20-\x20Level\x20'+_0x168edb;return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22military-ribbon\x22\x20data-tooltip=\x22'+_0x1626db+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-image-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22'+_0x49bc47['image']+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22'+_0x5d345f+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22ribbon-image\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27;\x20this.nextElementSibling.style.display=\x27block\x27;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-fallback\x22\x20style=\x22display:\x20none;\x20background:\x20'+_0x49bc47['color']+';\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4da80f['substring'](0x0,0x6)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3d30ec(_0x168edb)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-name\x22>'+_0x4da80f+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x168edb>0x1?'<div\x20class=\x22ribbon-level-indicator\x20'+_0x239cc5(_0x168edb)+'\x22>'+_0x168edb+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}