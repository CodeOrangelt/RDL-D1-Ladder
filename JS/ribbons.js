const a51_0x5903bc=a51_0x4501,a51_0x50cd78=(function(){let _0x30e6e4=!![];return function(_0x165864,_0x991009){const _0x4a7f2b=_0x30e6e4?function(){const _0x1d5f7d=a51_0x4501;if(_0x991009){const _0x2d0502=_0x991009[_0x1d5f7d(0x18b)](_0x165864,arguments);return _0x991009=null,_0x2d0502;}}:function(){};return _0x30e6e4=![],_0x4a7f2b;};}()),a51_0x460cb6=a51_0x50cd78(this,function(){const _0x42b486=a51_0x4501;let _0x3c377d;try{const _0xcc05a7=Function(_0x42b486(0x1b6)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x3c377d=_0xcc05a7();}catch(_0x373b70){_0x3c377d=window;}const _0x23ffcd=_0x3c377d['console']=_0x3c377d['console']||{},_0x56015d=[_0x42b486(0x15a),'warn','info',_0x42b486(0x1bd),'exception','table','trace'];for(let _0x9ec3fa=0x0;_0x9ec3fa<_0x56015d[_0x42b486(0x16a)];_0x9ec3fa++){const _0x480195=a51_0x50cd78['constructor']['prototype']['bind'](a51_0x50cd78),_0x2c7d13=_0x56015d[_0x9ec3fa],_0x3155fb=_0x23ffcd[_0x2c7d13]||_0x480195;_0x480195[_0x42b486(0x170)]=a51_0x50cd78[_0x42b486(0x177)](a51_0x50cd78),_0x480195[_0x42b486(0x1ad)]=_0x3155fb['toString'][_0x42b486(0x177)](_0x3155fb),_0x23ffcd[_0x2c7d13]=_0x480195;}});a51_0x460cb6();import{auth,db}from'./firebase-config.js';function a51_0x5ae6(){const _0xac384c=['rating','🚀\x20Bulk\x20loading\x20','evaluateUnderdogRibbonFromCount','\x20ELO),\x20','empty','getCacheKey','add','loserRating','Overachiever\x20Ribbon','setCachedData','subgameType','get','#FF7675','Brick\x20Wall','evaluateTopRankRibbon','#FF6B6B','evaluateSocialiteRibbonFromCount','CACHE_DURATION','ribbons','matchCount','\x20underdog\x20wins)','log','uniqueOpponents','\x20(Dominated:\x20','Top\x20','exists','Gold','players','Played\x20over\x20100\x20matches','matchesPlayed','findIndex','toLocaleTimeString','approvedMatches','winnerRating','evaluateSubGamerRibbonFromCount','💾\x20Cache\x20hit\x20(localStorage)\x20for\x20','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22ribbon-image\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27;\x20this.nextElementSibling.style.display=\x27block\x27;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-fallback\x22\x20style=\x22display:\x20none;\x20background:\x20','length','autoCleanup','undefined','<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>','dominatedRanks','\x0a/*\x20Stats\x20integration\x20styles\x20*/\x0a.ribbon-section\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-top:\x201rem;\x0a}\x0a\x0a.ribbon-stat-item.full-width\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-bottom:\x200;\x0a}\x0a\x0a/*\x20Military\x20Ribbon\x20Rack\x20Styling\x20-\x20NO\x20OUTER\x20CONTAINER\x20*/\x0a.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20padding:\x200;\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20box-shadow:\x20none;\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20align-items:\x20flex-start;\x0a}\x0a\x0a.ribbon-rack-empty-inline\x20{\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20padding:\x2060px\x2040px;\x0a\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20border-radius:\x2012px;\x0a\x20\x20\x20\x20border:\x202px\x20solid\x20rgba(255,\x20255,\x20255,\x200.1);\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a}\x0a\x0a.empty-rack-text\x20{\x0a\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20font-style:\x20italic;\x0a\x20\x20\x20\x20font-size:\x201.2rem;\x0a}\x0a\x0a/*\x20Ribbon\x20Rows\x20*/\x0a.ribbon-row\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x206px;\x0a\x20\x20\x20\x20margin-bottom:\x206px;\x0a\x20\x20\x20\x20justify-content:\x20flex-start;\x0a}\x0a\x0a.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20margin-left:\x2060px;\x0a}\x0a\x0a/*\x20Individual\x20Military\x20Ribbon\x20Styling\x20-\x20FIXED\x20OVERFLOW\x20FOR\x20LEVEL\x20INDICATOR\x20*/\x0a.military-ribbon\x20{\x0a\x20\x20\x20\x20position:\x20relative;\x0a\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20transition:\x20transform\x200.3s\x20ease;\x0a\x20\x20\x20\x20flex-shrink:\x200;\x0a\x20\x20\x20\x20width:\x20190px;\x0a\x20\x20\x20\x20height:\x2060px;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#333;\x0a\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20overflow:\x20visible;\x20/*\x20Changed\x20from\x20hidden\x20to\x20visible\x20*/\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20margin:\x2012px\x2012px\x2012px\x200;\x20/*\x20Added\x20margin\x20to\x20prevent\x20clipping\x20*/\x0a}\x0a\x0a.military-ribbon:hover\x20{\x0a\x20\x20\x20\x20transform:\x20translateY(-4px);\x0a\x20\x20\x20\x20z-index:\x2010;\x0a}\x0a\x0a/*\x20Ribbon\x20image\x20container\x20to\x20handle\x20the\x20actual\x20overflow\x20*/\x0a.ribbon-image-container\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20border-radius:\x201px;\x0a}\x0a\x0a.ribbon-image\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20object-fit:\x20cover;\x0a\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20image-rendering:\x20crisp-edges;\x0a}\x0a\x0a.ribbon-fallback\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20text-shadow:\x200\x202px\x204px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a}\x0a\x0a.ribbon-name\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.9);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201.2;\x0a\x20\x20\x20\x20margin-top:\x206px;\x0a\x20\x20\x20\x20max-width:\x20120px;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20text-overflow:\x20ellipsis;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20-24px;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20font-weight:\x20500;\x0a}\x0a\x0a.military-ribbon:hover\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20display:\x20block;\x0a}\x0a\x0a.ribbon-devices\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x2050%;\x0a\x20\x20\x20\x20right:\x206px;\x0a\x20\x20\x20\x20transform:\x20translateY(-50%);\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x203px;\x0a\x20\x20\x20\x20z-index:\x205;\x0a}\x0a\x0a.ribbon-device\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20text-shadow:\x200\x200\x204px\x20rgba(0,0,0,0.9);\x0a\x20\x20\x20\x20filter:\x20drop-shadow(0\x202px\x204px\x20rgba(0,0,0,0.8));\x0a}\x0a\x0a.bronze-star\x20{\x0a\x20\x20\x20\x20color:\x20#CD7F32;\x0a}\x0a\x0a.silver-star\x20{\x0a\x20\x20\x20\x20color:\x20#C0C0C0;\x0a}\x0a\x0a.gold-star\x20{\x0a\x20\x20\x20\x20color:\x20#FFD700;\x0a}\x0a\x0a/*\x20Level\x20indicator\x20-\x20NOW\x20FULLY\x20VISIBLE\x20*/\x0a.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x20-8px;\x0a\x20\x20\x20\x20right:\x20-8px;\x0a\x20\x20\x20\x20background:\x20#FFD700;\x0a\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20width:\x2024px;\x0a\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#FFF;\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x208px\x20rgba(0,0,0,0.7);\x0a\x20\x20\x20\x20z-index:\x206;\x0a}\x0a\x0a/*\x20Custom\x20tooltip\x20-\x20only\x20this\x20one\x20will\x20show\x20*/\x0a.military-ribbon::before\x20{\x0a\x20\x20\x20\x20content:\x20attr(data-tooltip);\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20100%;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20background:\x20rgba(0,0,0,0.95);\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20padding:\x208px\x2012px;\x0a\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20pointer-events:\x20none;\x0a\x20\x20\x20\x20transition:\x20opacity\x200.3s;\x0a\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20margin-bottom:\x208px;\x0a\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(255,\x20255,\x20255,\x200.2);\x0a}\x0a\x0a.military-ribbon:hover::before\x20{\x0a\x20\x20\x20\x20opacity:\x201;\x0a}\x0a\x0a/*\x20Responsive\x20adjustments\x20*/\x0a@media\x20(max-width:\x201024px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2034px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x208px\x208px\x208px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-6px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-6px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2052px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-20px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20768px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2028px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x206px\x206px\x206px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x209px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-5px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-5px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2042px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2011px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-18px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x205px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20480px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2070px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x205px\x205px\x205px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2036px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x204px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-4px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-4px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a.stats-grid\x20.ribbon-section\x20{\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20padding:\x200;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20{\x0a\x20\x20\x20\x20background-color:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20padding:\x2025px;\x0a\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20.stat-label\x20{\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20text-transform:\x20uppercase;\x0a\x20\x20\x20\x20opacity:\x200.9;\x0a\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.95);\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a}\x0a\x0a.ribbon-level-indicator.level-1\x20{\x20background:\x20#808080;\x20}\x0a.ribbon-level-indicator.level-2\x20{\x20background:\x20#CD7F32;\x20}\x0a.ribbon-level-indicator.level-3\x20{\x20background:\x20#b9f1fc;\x20}\x0a.ribbon-level-indicator.level-4\x20{\x20background:\x20#FFD700;\x20}\x0a.ribbon-level-indicator.level-5-plus\x20{\x20background:\x20#50C878;\x20}\x0a','__proto__','level-1','username','clearOldCache','#FFD700','set','Rematch\x20Ribbon','bind','\x20is\x20#1:\x20','evaluateRematchRibbonFromCount','bulkLoadPlayerData','Error\x20getting\x20player\x20ribbons:','underdogWins','evaluateAllRibbonsForPlayerOptimized','winnerUsername','eloRating','<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20silver-star\x22></i>','now','loserUsername','savePlayerRibbonsOptimized','matchCache','entries','totalMatches','data','\x20already\x20has\x20','key','Underdog\x20Ribbon','apply','size',';\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Unranked','Sub-Gamer\x20Ribbon','Play\x20over\x2050\x20subgame\x20matches','keys','startsWith','timestamp','uniqueMaps','push','level','isUnderdogVictoryFast','memoryCache','getCacheStats','%\x20win\x20rate\x20over\x20','\x20underdog\x20victories\x20for\x20','../images/ribbons/Collector.png','playersD2','evaluateExplorerRibbonFromCount','Played\x20at\x20least\x2020\x20unique\x20maps','playerRibbons','BATCH_DELAY','\x20→\x20','Explorer\x20Ribbon','batchTimer','getPlayerDataCached','⚠️\x20No\x20current\x20player\x20data\x20found\x20for\x20','wins','\x20players\x20from\x20','Bronze','forEach','Socialite\x20Ribbon','../images/ribbons/toprank.png','toString','</div>','lastCleanup','🎯\x20Found\x20','shouldRefreshCache','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ELO\x20(','from','mapPlayed','return\x20(function()\x20','levels','getPlayerRibbonsCached','../images/ribbons/BrickWall.png','Collector\x20Ribbon','❌\x20Not\x20underdog:\x20','evaluateBrickWallRibbonFromWinRate','error','parse','stringify','evaluateCollectorRibbonFromCount','💾\x20Saving\x20','has','join'];a51_0x5ae6=function(){return _0xac384c;};return a51_0x5ae6();}import{doc,getDoc,setDoc,collection,query,where,getDocs,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const RIBBON_DEFINITIONS={'Rematch\x20Ribbon':{'description':'Beat\x20a\x20pilot\x20with\x20the\x20\x22Rematch\x22\x20subgame\x20selected','image':'../images/ribbons/Rematch.png','color':a51_0x5903bc(0x154)},'Overachiever\x20Ribbon':{'description':a51_0x5903bc(0x161),'image':'../images/ribbons/Overachiever.png','color':'#96CEB4','levels':[0x64,0xc8,0x12c,0x190,0x1f4,0x258,0x2bc,0x320,0x384,0x3e8]},'Brick\x20Wall':{'description':'Amass\x20at\x20least\x2080%\x20overall\x20win\x20rate\x20percentage\x20(minimum\x2050\x20matches)','image':a51_0x5903bc(0x1b9),'color':'#F0932B','levels':[0x50,0x55,0x5a,0x5f,0x64]},'Collector\x20Ribbon':{'description':'Hold\x20more\x20than\x205\x20ribbons\x20at\x20a\x20time','image':a51_0x5903bc(0x19c),'color':'#6C5CE7','levels':[0x5,0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32]},'Sub-Gamer\x20Ribbon':{'description':a51_0x5903bc(0x190),'image':'../images/ribbons/Subgamer.png','color':'#A29BFE','levels':[0x32,0x64,0x96,0xc8,0xfa,0x12c,0x15e,0x190,0x1c2,0x1f4]},'Explorer\x20Ribbon':{'description':a51_0x5903bc(0x19f),'image':'../images/ribbons/Explorer.png','color':'#55A3FF','levels':[0x14,0x28,0x3c,0x50,0x64,0x78,0x8c,0xa0,0xb4,0xc8]},'Socialite\x20Ribbon':{'description':'Played\x20at\x20least\x2010\x20unique\x20pilots','image':'../images/ribbons/Socialite.png','color':a51_0x5903bc(0x151),'levels':[0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32,0x37]},'Underdog\x20Ribbon':{'description':'Beat\x20a\x20pilot\x20ranked\x20higher\x20than\x20you','image':'../images/ribbons/Underdog.png','color':'#FF9500','levels':[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0x9,0xa]},'Domination\x20Ribbon':{'description':'Beat\x205\x20unique\x20pilots\x20in\x20a\x20rank\x20(including\x20your\x20own)','image':'../images/ribbons/Domination.png','color':'#8E44AD','levels':[0x1,0x2,0x3,0x4,0x5]},'Top\x20Bronze\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Bronze\x20rank','image':'../images/ribbons/toprank.png','color':'#CD7F32'},'Top\x20Silver\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Silver\x20rank','image':a51_0x5903bc(0x1ac),'color':'#C0C0C0'},'Top\x20Gold\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Gold\x20rank','image':a51_0x5903bc(0x1ac),'color':a51_0x5903bc(0x174)},'Top\x20Emerald\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Emerald\x20rank','image':a51_0x5903bc(0x1ac),'color':'#50C878'}};export const RIBBON_CSS=a51_0x5903bc(0x16f);class RibbonCacheManager{constructor(){const _0x2b7d57=a51_0x5903bc;this[_0x2b7d57(0x198)]=new Map(),this[_0x2b7d57(0x156)]=0x3c*0x3c*0x3e8,this['CACHE_KEY_PREFIX']='ribbon_cache_',this[_0x2b7d57(0x1af)]=Date[_0x2b7d57(0x181)](),this['CLEANUP_INTERVAL']=0x1e*0x3c*0x3e8;}[a51_0x5903bc(0x14a)](_0x450e4c,_0x54a416){return''+this['CACHE_KEY_PREFIX']+_0x450e4c+'_'+_0x54a416;}['getCachedData'](_0x4ac55e,_0xce9b69){const _0x4f6b28=a51_0x5903bc;this['autoCleanup']();const _0x4b867d=this[_0x4f6b28(0x14a)](_0x4ac55e,_0xce9b69);if(this['memoryCache']['has'](_0x4b867d)){const _0x56496d=this['memoryCache'][_0x4f6b28(0x150)](_0x4b867d);if(Date[_0x4f6b28(0x181)]()-_0x56496d[_0x4f6b28(0x193)]<this['CACHE_DURATION'])return console['log']('🚀\x20Cache\x20hit\x20(memory)\x20for\x20'+_0x4ac55e),_0x56496d[_0x4f6b28(0x187)];this['memoryCache']['delete'](_0x4b867d);}const _0x378934=localStorage['getItem'](_0x4b867d);if(_0x378934)try{const _0x47d811=JSON['parse'](_0x378934);if(Date[_0x4f6b28(0x181)]()-_0x47d811[_0x4f6b28(0x193)]<this[_0x4f6b28(0x156)])return this['memoryCache'][_0x4f6b28(0x175)](_0x4b867d,{'data':_0x47d811[_0x4f6b28(0x157)],'timestamp':_0x47d811['timestamp'],'matchCount':_0x47d811['matchCount']}),console['log'](_0x4f6b28(0x168)+_0x4ac55e),_0x47d811[_0x4f6b28(0x157)];localStorage['removeItem'](_0x4b867d);}catch(_0x24c389){localStorage['removeItem'](_0x4b867d);}return null;}[a51_0x5903bc(0x14e)](_0x211895,_0xd32873,_0xf25ef3,_0x28b820){const _0x17940d=a51_0x5903bc,_0x2eaa01=this['getCacheKey'](_0x211895,_0xd32873),_0x36a872=Date['now']();this[_0x17940d(0x198)]['set'](_0x2eaa01,{'data':_0xf25ef3,'timestamp':_0x36a872,'matchCount':_0x28b820});try{const _0x5ee7f4={'ribbons':_0xf25ef3,'matchCount':_0x28b820,'timestamp':_0x36a872,'version':0x3};localStorage['setItem'](_0x2eaa01,JSON['stringify'](_0x5ee7f4));}catch(_0x159a8d){this['clearOldCache']();try{localStorage['setItem'](_0x2eaa01,JSON[_0x17940d(0x1bf)](data));}catch(_0x30e207){}}}[a51_0x5903bc(0x1b1)](_0x9d0111,_0x472648,_0x59dd16){const _0x2b7298=a51_0x5903bc,_0x4a3f7f=this['getCacheKey'](_0x9d0111,_0x472648);if(this['memoryCache']['has'](_0x4a3f7f)){const _0x4333ae=this[_0x2b7298(0x198)]['get'](_0x4a3f7f);return _0x4333ae[_0x2b7298(0x158)]!==_0x59dd16;}const _0x5791c8=localStorage['getItem'](_0x4a3f7f);if(_0x5791c8)try{const _0x4d6530=JSON[_0x2b7298(0x1be)](_0x5791c8);return _0x4d6530[_0x2b7298(0x158)]!==_0x59dd16;}catch(_0x277f9d){return!![];}return!![];}['invalidatePlayerCache'](_0x39902a,_0x44bc84){const _0x5e1042=a51_0x5903bc,_0x155d15=this[_0x5e1042(0x14a)](_0x39902a,_0x44bc84);this['memoryCache']['delete'](_0x155d15),localStorage['removeItem'](_0x155d15),console[_0x5e1042(0x15a)]('🗑️\x20Invalidated\x20cache\x20for\x20'+_0x39902a+'\x20('+_0x44bc84+')\x20-\x20new\x20match\x20detected');}['autoCleanup'](){const _0x55d858=a51_0x5903bc,_0x1a1c4f=Date['now']();_0x1a1c4f-this[_0x55d858(0x1af)]>this['CLEANUP_INTERVAL']&&(this['cleanup'](),this['lastCleanup']=_0x1a1c4f);}['cleanup'](){const _0x3e0849=a51_0x5903bc,_0x5a9e6d=Date[_0x3e0849(0x181)]();let _0x199e30=0x0,_0x1aa3cc=0x0;for(const [_0x554e4f,_0x194291]of this['memoryCache']['entries']()){_0x5a9e6d-_0x194291[_0x3e0849(0x193)]>this['CACHE_DURATION']&&(this['memoryCache']['delete'](_0x554e4f),_0x199e30++);}for(let _0x5670fe=localStorage['length']-0x1;_0x5670fe>=0x0;_0x5670fe--){const _0x40bf8a=localStorage[_0x3e0849(0x189)](_0x5670fe);if(_0x40bf8a&&_0x40bf8a['startsWith'](this['CACHE_KEY_PREFIX']))try{const _0x56bbe4=JSON['parse'](localStorage['getItem'](_0x40bf8a));_0x5a9e6d-_0x56bbe4['timestamp']>this[_0x3e0849(0x156)]&&(localStorage['removeItem'](_0x40bf8a),_0x1aa3cc++);}catch(_0x185aff){localStorage['removeItem'](_0x40bf8a),_0x1aa3cc++;}}}[a51_0x5903bc(0x173)](){const _0x253871=a51_0x5903bc,_0x3c90ea=[];for(let _0x968a62=0x0;_0x968a62<localStorage['length'];_0x968a62++){const _0x2d7725=localStorage['key'](_0x968a62);if(_0x2d7725&&_0x2d7725['startsWith'](this['CACHE_KEY_PREFIX']))try{const _0x5d937e=JSON[_0x253871(0x1be)](localStorage['getItem'](_0x2d7725));_0x3c90ea['push']({'key':_0x2d7725,'timestamp':_0x5d937e['timestamp']});}catch(_0xaa19ef){localStorage['removeItem'](_0x2d7725);}}_0x3c90ea['sort']((_0x322011,_0x15a1a3)=>_0x322011['timestamp']-_0x15a1a3['timestamp']);const _0x213aff=Math['floor'](_0x3c90ea['length']/0x2);for(let _0x5dfd9d=0x0;_0x5dfd9d<_0x213aff;_0x5dfd9d++){localStorage['removeItem'](_0x3c90ea[_0x5dfd9d][_0x253871(0x189)]);}}['getCacheStats'](){const _0x238288=a51_0x5903bc;return{'memoryEntries':this['memoryCache'][_0x238288(0x18c)],'lastCleanup':new Date(this['lastCleanup'])['toLocaleTimeString']()};}}class MatchCacheManager{constructor(){const _0x39efec=a51_0x5903bc;this['matchCache']=new Map(),this['CACHE_DURATION']=0xf*0x3c*0x3e8,this['lastCleanup']=Date[_0x39efec(0x181)]();}['getCachedMatches'](_0x57a8a4,_0x284f9f){const _0x19c03e=a51_0x5903bc;this[_0x19c03e(0x16b)]();const _0x25a571=_0x57a8a4+'_'+_0x284f9f,_0x5a69c8=this['matchCache']['get'](_0x25a571);if(_0x5a69c8&&Date[_0x19c03e(0x181)]()-_0x5a69c8['timestamp']<this['CACHE_DURATION'])return console['log']('🎯\x20Cache\x20hit\x20(matches)\x20for\x20'+_0x57a8a4),_0x5a69c8['matches'];return _0x5a69c8&&this['matchCache']['delete'](_0x25a571),null;}['setCachedMatches'](_0x173838,_0x2d86c3,_0x30982d){const _0x5d915=_0x173838+'_'+_0x2d86c3;this['matchCache']['set'](_0x5d915,{'matches':_0x30982d,'timestamp':Date['now']()});}[a51_0x5903bc(0x16b)](){const _0x1792cf=a51_0x5903bc,_0x1e93bf=Date[_0x1792cf(0x181)]();if(_0x1e93bf-this['lastCleanup']>0x5*0x3c*0x3e8){let _0x47fb4e=0x0;for(const [_0x32a6e1,_0x5f2f60]of this['matchCache'][_0x1792cf(0x185)]()){_0x1e93bf-_0x5f2f60['timestamp']>this['CACHE_DURATION']&&(this[_0x1792cf(0x184)]['delete'](_0x32a6e1),_0x47fb4e++);}this['lastCleanup']=_0x1e93bf;}}[a51_0x5903bc(0x199)](){const _0x18b375=a51_0x5903bc;return{'entries':this['matchCache']['size'],'lastCleanup':new Date(this[_0x18b375(0x1af)])[_0x18b375(0x164)]()};}}class RibbonSystem{constructor(){const _0xeb8dee=a51_0x5903bc;this['pendingEvaluations']=new Map(),this[_0xeb8dee(0x1a4)]=null,this[_0xeb8dee(0x1a1)]=0x32,this['playerDataCache']=new Map();}async['bulkLoadPlayerData'](_0x4d093f,_0xf699fa){const _0x2ba8cc=a51_0x5903bc,_0x36c4f5=_0xf699fa==='D1'?_0x2ba8cc(0x160):_0xf699fa==='D2'?_0x2ba8cc(0x19d):'playersD3',_0x35cb92=collection(db,_0x36c4f5),_0x4ca216=await getDocs(_0x35cb92),_0x242bad=new Map();return _0x4ca216['forEach'](_0x5da03f=>{const _0x55a0d1=_0x2ba8cc,_0xcc30f2=_0x5da03f[_0x55a0d1(0x187)]();_0xcc30f2['username']&&(_0xcc30f2['eloRating']!==undefined&&(_0xcc30f2['rating']=_0xcc30f2['eloRating']),_0x242bad[_0x55a0d1(0x175)](_0xcc30f2['username'],_0xcc30f2));}),console['log']('📊\x20Bulk\x20loaded\x20'+_0x242bad['size']+_0x2ba8cc(0x1a8)+_0x36c4f5),_0x242bad;}async['evaluateAllRibbonsFromData'](_0x5b2689,_0x4c0ad0,_0x44ef0b,_0x10d408){const _0x59b0e6=a51_0x5903bc,_0x30467f={},_0x41bd8=_0x4c0ad0[_0x59b0e6(0x172)],_0x34e0c1={'totalMatches':_0x5b2689[_0x59b0e6(0x16a)],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0,'dominatedRanks':new Set()},_0x3b27be=new Set();_0x5b2689['forEach'](_0x4c81f7=>{const _0x2aa8b1=_0x59b0e6,_0x1ca06=_0x4c81f7['winnerUsername']===_0x41bd8,_0x58a189=_0x1ca06?_0x4c81f7['loserUsername']:_0x4c81f7[_0x2aa8b1(0x17e)];if(_0x58a189)_0x3b27be['add'](_0x58a189);}),console['log']('🚀\x20Bulk\x20loading\x20'+_0x3b27be['size']+'\x20player\x20records\x20for\x20underdog\x20calculations...');const _0x219d81=await this['bulkLoadPlayerData']([..._0x3b27be,_0x41bd8],_0x10d408),_0x2b65f7=_0x219d81['get'](_0x41bd8);!_0x2b65f7&&console['log'](_0x59b0e6(0x1a6)+_0x41bd8);const _0x2e5a4b={0x0:new Set(),0x1:new Set(),0x2:new Set(),0x3:new Set(),0x4:new Set()};_0x5b2689['forEach'](_0x228597=>{const _0x5c1a1f=_0x59b0e6,_0x259e33=_0x228597[_0x5c1a1f(0x17e)]===_0x41bd8,_0x13a9a5=_0x259e33?_0x228597['loserUsername']:_0x228597['winnerUsername'];if(_0x259e33){_0x34e0c1[_0x5c1a1f(0x1a7)]++;_0x228597['subgameType']==='Rematch'&&_0x34e0c1['rematchWins']++;this['isUnderdogVictoryFast'](_0x228597,_0x41bd8,_0x2b65f7,_0x219d81)&&_0x34e0c1['underdogWins']++;const _0x3c869f=_0x219d81['get'](_0x13a9a5);if(_0x3c869f){const _0x4d9b43=_0x3c869f[_0x5c1a1f(0x17f)]||0x0,_0x2f6ad8=getPlayerRankTier(_0x4d9b43);_0x2e5a4b[_0x2f6ad8][_0x5c1a1f(0x14b)](_0x13a9a5);}}_0x228597['subgameType']&&_0x228597['subgameType']!=='Standard'&&_0x34e0c1['subgameMatches']++,_0x228597[_0x5c1a1f(0x1b5)]&&_0x34e0c1['uniqueMaps']['add'](_0x228597['mapPlayed']),_0x13a9a5&&_0x34e0c1['uniqueOpponents']['add'](_0x13a9a5);}),Object['keys'](_0x2e5a4b)[_0x59b0e6(0x1aa)](_0xa2f1de=>{const _0x477c6e=_0x59b0e6;_0x2e5a4b[_0xa2f1de][_0x477c6e(0x18c)]>=0x5&&_0x34e0c1[_0x477c6e(0x16e)]['add'](parseInt(_0xa2f1de));}),console['log'](_0x59b0e6(0x1b0)+_0x34e0c1[_0x59b0e6(0x17c)]+_0x59b0e6(0x19b)+_0x41bd8),console['log']('👑\x20Dominated\x20'+_0x34e0c1['dominatedRanks']['size']+'\x20ranks:\x20['+Array[_0x59b0e6(0x1b4)](_0x34e0c1['dominatedRanks'])['map'](_0x5c3bd0=>getRankTierName(_0x5c3bd0))[_0x59b0e6(0x1c3)](',\x20')+']');const _0x2556e8=_0x34e0c1['totalMatches']>0x0?_0x34e0c1[_0x59b0e6(0x1a7)]/_0x34e0c1['totalMatches']*0x64:0x0,_0x1cba1e=[['Overachiever\x20Ribbon',this['evaluateOverachieverRibbonFromCount'](_0x34e0c1['totalMatches'],_0x44ef0b)],['Rematch\x20Ribbon',this['evaluateRematchRibbonFromCount'](_0x34e0c1['rematchWins'],_0x44ef0b)],['Sub-Gamer\x20Ribbon',this[_0x59b0e6(0x167)](_0x34e0c1['subgameMatches'],_0x44ef0b)],[_0x59b0e6(0x1a3),this['evaluateExplorerRibbonFromCount'](_0x34e0c1['uniqueMaps']['size'],_0x44ef0b)],['Socialite\x20Ribbon',this['evaluateSocialiteRibbonFromCount'](_0x34e0c1[_0x59b0e6(0x15b)]['size'],_0x44ef0b)],[_0x59b0e6(0x152),this[_0x59b0e6(0x1bc)](_0x2556e8,_0x44ef0b,_0x34e0c1['totalMatches'])],[_0x59b0e6(0x18a),this[_0x59b0e6(0x147)](_0x34e0c1['underdogWins'],_0x44ef0b)],['Domination\x20Ribbon',this['evaluateDominationRibbonFromRanks'](_0x34e0c1['dominatedRanks'][_0x59b0e6(0x18c)],_0x44ef0b)]];_0x1cba1e['forEach'](([_0x3a6d00,_0x28e335])=>{_0x28e335&&(_0x30467f[_0x3a6d00]=_0x28e335);});const _0x532c4b=Object[_0x59b0e6(0x191)](_0x44ef0b)['length']+Object['keys'](_0x30467f)[_0x59b0e6(0x16a)],_0x4d2c48=this[_0x59b0e6(0x1c0)](_0x532c4b,_0x44ef0b);return _0x4d2c48&&(_0x30467f['Collector\x20Ribbon']=_0x4d2c48),_0x30467f;}['evaluateDominationRibbonFromRanks'](_0x2def21,_0x4bdb44){const _0x278468=a51_0x5903bc;if(_0x2def21===0x0)return null;const _0x1fe19d=_0x4bdb44['Domination\x20Ribbon']||{'level':0x0};if(_0x2def21>_0x1fe19d['level']){const _0x3c0a87=[];for(let _0x7a4a74=0x0;_0x7a4a74<_0x2def21;_0x7a4a74++){_0x3c0a87['push'](getRankTierName(_0x7a4a74));}return console['log']('👑\x20Domination\x20Ribbon\x20awarded:\x20Level\x20'+_0x1fe19d[_0x278468(0x196)]+_0x278468(0x1a2)+_0x2def21+_0x278468(0x15c)+_0x3c0a87['join'](',\x20')+')'),{'level':_0x2def21,'awardedAt':new Date(),'dominatedRanks':_0x3c0a87};}return null;}async['checkTopRankStatus'](_0x47e742,_0xdd6bb2){const _0x11c4d8=a51_0x5903bc;try{const _0x1377e0=_0xdd6bb2==='D1'?'players':_0xdd6bb2==='D2'?'playersD2':'playersD3',_0x3a9146=await this['getPlayerDataCached'](_0x47e742,_0xdd6bb2);if(!_0x3a9146||_0x3a9146[_0x11c4d8(0x17f)]===undefined)return console['log']('❌\x20No\x20ELO\x20rating\x20data\x20for\x20'+_0x47e742),null;const _0x413a43=_0x3a9146[_0x11c4d8(0x17f)],_0x53724b=getPlayerRankTier(_0x413a43),_0xe8f69e=getRankTierName(_0x53724b);if(_0xe8f69e==='Unranked')return console['log']('❌\x20'+_0x47e742+'\x20is\x20Unranked\x20('+_0x413a43+'\x20ELO)'),null;console['log']('🔍\x20Checking\x20Top\x20'+_0xe8f69e+'\x20status\x20for\x20'+_0x47e742+'\x20('+_0x413a43+'\x20ELO)');const _0x4e6ff9=collection(db,_0x1377e0),_0x496573=await getDocs(_0x4e6ff9);let _0x3e72ca=null,_0x24e67e=-0x1,_0x3d4c55=0x0;_0x496573['forEach'](_0xf34ad3=>{const _0x3803b5=_0xf34ad3['data'](),_0x323022=_0x3803b5['eloRating']||0x0,_0x20b3b8=getPlayerRankTier(_0x323022);_0x20b3b8===_0x53724b&&(_0x3d4c55++,_0x323022>_0x24e67e&&(_0x24e67e=_0x323022,_0x3e72ca=_0x3803b5['username']));});const _0x2bc2e3=_0x3e72ca===_0x47e742;return console['log']('📊\x20'+_0xe8f69e+'\x20Tier:\x20'+_0x3d4c55+'\x20players,\x20Top:\x20'+_0x3e72ca+'\x20('+_0x24e67e+_0x11c4d8(0x148)+_0x47e742+_0x11c4d8(0x178)+_0x2bc2e3),_0x2bc2e3?_0xe8f69e:null;}catch(_0x36cda0){return console[_0x11c4d8(0x1bd)]('Error\x20checking\x20top\x20rank\x20status:',_0x36cda0),null;}}async['evaluateTopRankRibbon'](_0x2b5438,_0x371585,_0x276df1){const _0x45c88a=a51_0x5903bc,_0x299e47=await this['checkTopRankStatus'](_0x2b5438,_0x371585),_0x3d15fe={};if(_0x299e47){const _0x4891c8=_0x45c88a(0x15d)+_0x299e47+'\x20Pilot';if(RIBBON_DEFINITIONS[_0x4891c8]){const _0x367af1=_0x276df1[_0x4891c8];!_0x367af1?(console['log']('👑\x20NEW\x20Top\x20Rank\x20Achievement:\x20'+_0x2b5438+'\x20earned\x20'+_0x4891c8+'!'),_0x3d15fe[_0x4891c8]={'level':0x1,'awardedAt':new Date(),'rank':_0x299e47,'achievedAt':new Date()}):console['log']('✅\x20'+_0x2b5438+_0x45c88a(0x188)+_0x4891c8+'\x20-\x20No\x20changes\x20needed');}}return Object[_0x45c88a(0x191)](_0x276df1)['forEach'](_0x279857=>{const _0xed1545=_0x45c88a;_0x279857[_0xed1545(0x192)]('Top\x20')&&_0x279857['endsWith']('\x20Pilot')&&(!_0x3d15fe[_0x279857]&&console['log']('✅\x20Preserving\x20existing\x20'+_0x279857));}),_0x3d15fe;}async[a51_0x5903bc(0x17d)](_0x1a5197,_0x4a50b5='D1'){const _0xdb7205=a51_0x5903bc;try{const _0x5e91e5=ribbonCache['getCachedData'](_0x1a5197,_0x4a50b5);if(_0x5e91e5){const _0x15c196=await this['evaluateTopRankRibbon'](_0x1a5197,_0x4a50b5,_0x5e91e5);if(Object['keys'](_0x15c196)[_0xdb7205(0x16a)]>0x0){console['log']('🆕\x20New\x20top\x20rank\x20achievements\x20found\x20for\x20cached\x20player\x20'+_0x1a5197),await this[_0xdb7205(0x183)](_0x1a5197,_0x15c196,_0x4a50b5);const _0x4d2dd4={..._0x5e91e5,..._0x15c196};return ribbonCache['setCachedData'](_0x1a5197,_0x4a50b5,_0x4d2dd4,0x0),_0x4d2dd4;}return _0x5e91e5;}const [_0x55dde1,_0x1b1891]=await Promise['all']([this[_0xdb7205(0x1a5)](_0x1a5197,_0x4a50b5),this[_0xdb7205(0x1b8)](_0x1a5197,_0x4a50b5)]);if(!_0x55dde1)return{};const _0x1003a6=_0x55dde1[_0xdb7205(0x162)]||0x0,_0x437a38=await this[_0xdb7205(0x153)](_0x1a5197,_0x4a50b5,_0x1b1891);if(!ribbonCache['shouldRefreshCache'](_0x1a5197,_0x4a50b5,_0x1003a6)){if(Object['keys'](_0x437a38)['length']>0x0){await this[_0xdb7205(0x183)](_0x1a5197,_0x437a38,_0x4a50b5);const _0x46ecac={..._0x1b1891,..._0x437a38};return ribbonCache['setCachedData'](_0x1a5197,_0x4a50b5,_0x46ecac,_0x1003a6),_0x46ecac;}return ribbonCache['setCachedData'](_0x1a5197,_0x4a50b5,_0x1b1891,_0x1003a6),_0x1b1891;}const _0x2716d3=await this['getPlayerMatchesOptimized'](_0x1a5197,_0x4a50b5),_0x199e6d=await this['evaluateAllRibbonsFromData'](_0x2716d3,_0x55dde1,_0x1b1891,_0x4a50b5);Object['assign'](_0x199e6d,_0x437a38);Object['keys'](_0x199e6d)[_0xdb7205(0x16a)]>0x0&&(console['log'](_0xdb7205(0x1c1)+Object['keys'](_0x199e6d)[_0xdb7205(0x16a)]+'\x20new/updated\x20ribbons\x20for\x20'+_0x1a5197),await this['savePlayerRibbonsOptimized'](_0x1a5197,_0x199e6d,_0x4a50b5));const _0x187490={..._0x1b1891,..._0x199e6d};return ribbonCache[_0xdb7205(0x14e)](_0x1a5197,_0x4a50b5,_0x187490,_0x2716d3['length']),_0x187490;}catch(_0x4d8c21){return console['error']('❌\x20Error\x20in\x20ribbon\x20evaluation:',_0x4d8c21),{};}}async['isUnderdogVictory'](_0x5cfee4,_0x293a87,_0x480ea5){const _0x47fa6a=a51_0x5903bc,_0x298130=_0x5cfee4['winnerUsername']===_0x293a87;if(!_0x298130)return![];const _0x57a375=_0x5cfee4['loserUsername'],[_0x2c9a18,_0x1a314d]=await Promise['all']([this['getPlayerDataCached'](_0x293a87,_0x480ea5),this['getPlayerDataCached'](_0x57a375,_0x480ea5)]);if(!_0x2c9a18||!_0x1a314d)return console[_0x47fa6a(0x15a)]('⚠️\x20Missing\x20player\x20data\x20for\x20'+_0x293a87+'\x20or\x20'+_0x57a375),![];const _0x5e0303=_0x2c9a18['eloRating']||0x0,_0x43be0c=_0x1a314d['eloRating']||0x0,_0x54cc7b=getPlayerRankTier(_0x5e0303),_0x1f77d1=getPlayerRankTier(_0x43be0c);console['log']('🔍\x20Checking\x20underdog:\x20Winner('+_0x293a87+'):\x20'+_0x5e0303+_0x47fa6a(0x1b3)+getRankTierName(_0x54cc7b)+')\x20vs\x20Loser('+_0x57a375+'):\x20'+_0x43be0c+_0x47fa6a(0x1b3)+getRankTierName(_0x1f77d1)+')');if(_0x1f77d1>_0x54cc7b)return console['log']('🎯\x20UNDERDOG\x20VICTORY:\x20'+getRankTierName(_0x54cc7b)+'\x20beat\x20'+getRankTierName(_0x1f77d1)+'!'),!![];return console['log'](_0x47fa6a(0x1bb)+getRankTierName(_0x54cc7b)+'\x20vs\x20'+getRankTierName(_0x1f77d1)),![];}['isUnderdogVictoryFast'](_0x5dc167,_0x1fcf4d,_0x494ed7,_0x27a439){const _0x4aa439=a51_0x5903bc,_0x520f2c=_0x5dc167[_0x4aa439(0x17e)]===_0x1fcf4d;if(!_0x520f2c)return![];const _0x2f9dfc=_0x5dc167['loserUsername'],_0x29b05d=_0x27a439['get'](_0x2f9dfc);if(!_0x494ed7||!_0x29b05d)return![];const _0xeb612b=_0x494ed7[_0x4aa439(0x17f)]||0x0,_0x1f5166=_0x29b05d['eloRating']||0x0,_0x414576=getPlayerRankTier(_0xeb612b),_0x512616=getPlayerRankTier(_0x1f5166);if(_0x512616>_0x414576)return console['log']('🎯\x20UNDERDOG:\x20'+getRankTierName(_0x414576)+'('+_0xeb612b+')\x20beat\x20'+getRankTierName(_0x512616)+'('+_0x1f5166+')'),!![];return![];}async['evaluateAllRibbonsFromData'](_0x5df8a5,_0x56016c,_0x596521,_0x4cc422){const _0x191c92=a51_0x5903bc,_0x1e2dae={},_0x1e20f0=_0x56016c['username'],_0x4b8ff4={'totalMatches':_0x5df8a5[_0x191c92(0x16a)],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0},_0x5bbf78=new Set();_0x5df8a5['forEach'](_0x1baa53=>{const _0x1c86d6=_0x191c92,_0x352425=_0x1baa53[_0x1c86d6(0x17e)]===_0x1e20f0,_0x2e6dbd=_0x352425?_0x1baa53[_0x1c86d6(0x182)]:_0x1baa53['winnerUsername'];if(_0x2e6dbd)_0x5bbf78['add'](_0x2e6dbd);}),console['log'](_0x191c92(0x146)+_0x5bbf78['size']+'\x20player\x20records\x20for\x20underdog\x20calculations...');const _0x3e67ea=await this[_0x191c92(0x17a)]([..._0x5bbf78,_0x1e20f0],_0x4cc422),_0x5d77e5=_0x3e67ea['get'](_0x1e20f0);!_0x5d77e5&&console['log']('⚠️\x20No\x20current\x20player\x20data\x20found\x20for\x20'+_0x1e20f0);_0x5df8a5['forEach'](_0x20afae=>{const _0x4edc0c=_0x191c92,_0x423ff0=_0x20afae['winnerUsername']===_0x1e20f0,_0x3dfd3e=_0x423ff0?_0x20afae['loserUsername']:_0x20afae[_0x4edc0c(0x17e)];_0x423ff0&&(_0x4b8ff4['wins']++,_0x20afae[_0x4edc0c(0x14f)]==='Rematch'&&_0x4b8ff4['rematchWins']++,this[_0x4edc0c(0x197)](_0x20afae,_0x1e20f0,_0x5d77e5,_0x3e67ea)&&_0x4b8ff4[_0x4edc0c(0x17c)]++),_0x20afae['subgameType']&&_0x20afae['subgameType']!=='Standard'&&_0x4b8ff4['subgameMatches']++,_0x20afae['mapPlayed']&&_0x4b8ff4[_0x4edc0c(0x194)]['add'](_0x20afae['mapPlayed']),_0x3dfd3e&&_0x4b8ff4['uniqueOpponents']['add'](_0x3dfd3e);}),console['log']('🎯\x20Found\x20'+_0x4b8ff4['underdogWins']+'\x20underdog\x20victories\x20for\x20'+_0x1e20f0);const _0x1e5832=_0x4b8ff4[_0x191c92(0x186)]>0x0?_0x4b8ff4[_0x191c92(0x1a7)]/_0x4b8ff4[_0x191c92(0x186)]*0x64:0x0,_0x4abf7b=[['Overachiever\x20Ribbon',this['evaluateOverachieverRibbonFromCount'](_0x4b8ff4['totalMatches'],_0x596521)],['Rematch\x20Ribbon',this['evaluateRematchRibbonFromCount'](_0x4b8ff4['rematchWins'],_0x596521)],[_0x191c92(0x18f),this['evaluateSubGamerRibbonFromCount'](_0x4b8ff4['subgameMatches'],_0x596521)],[_0x191c92(0x1a3),this['evaluateExplorerRibbonFromCount'](_0x4b8ff4['uniqueMaps']['size'],_0x596521)],['Socialite\x20Ribbon',this[_0x191c92(0x155)](_0x4b8ff4['uniqueOpponents'][_0x191c92(0x18c)],_0x596521)],[_0x191c92(0x152),this['evaluateBrickWallRibbonFromWinRate'](_0x1e5832,_0x596521,_0x4b8ff4[_0x191c92(0x186)])],['Underdog\x20Ribbon',this['evaluateUnderdogRibbonFromCount'](_0x4b8ff4['underdogWins'],_0x596521)]];_0x4abf7b['forEach'](([_0x117d91,_0x48b12d])=>{_0x48b12d&&(_0x1e2dae[_0x117d91]=_0x48b12d);});const _0x202dea=Object[_0x191c92(0x191)](_0x596521)['length']+Object['keys'](_0x1e2dae)[_0x191c92(0x16a)],_0xe92d40=this[_0x191c92(0x1c0)](_0x202dea,_0x596521);return _0xe92d40&&(_0x1e2dae['Collector\x20Ribbon']=_0xe92d40),_0x1e2dae;}async['getPlayerMatchesOptimized'](_0x797aba,_0x5906c0){const _0x36db94=a51_0x5903bc,_0x12741a=matchCache['getCachedMatches'](_0x797aba,_0x5906c0);if(_0x12741a)return _0x12741a;try{const _0x1efb17=_0x5906c0==='D1'?_0x36db94(0x165):_0x5906c0==='D2'?'approvedMatchesD2':'approvedMatchesD3',_0x54b4bb=collection(db,_0x1efb17),[_0x11f499,_0x10cd57]=await Promise['all']([getDocs(query(_0x54b4bb,where('winnerUsername','==',_0x797aba))),getDocs(query(_0x54b4bb,where('loserUsername','==',_0x797aba)))]),_0x6115ff=new Set(),_0x52d399=[];return _0x11f499['forEach'](_0x5ea7ea=>{const _0x3d2692=_0x36db94;if(!_0x6115ff[_0x3d2692(0x1c2)](_0x5ea7ea['id'])){_0x6115ff[_0x3d2692(0x14b)](_0x5ea7ea['id']);const _0x372b6e={'id':_0x5ea7ea['id'],..._0x5ea7ea['data']()};if(!_0x372b6e['winnerRating'])_0x372b6e['winnerRating']=0x0;if(!_0x372b6e[_0x3d2692(0x14c)])_0x372b6e[_0x3d2692(0x14c)]=0x0;_0x52d399['push'](_0x372b6e);}}),_0x10cd57[_0x36db94(0x1aa)](_0x52cf19=>{const _0xfc5dae=_0x36db94;if(!_0x6115ff[_0xfc5dae(0x1c2)](_0x52cf19['id'])){_0x6115ff['add'](_0x52cf19['id']);const _0x19e2d6={'id':_0x52cf19['id'],..._0x52cf19[_0xfc5dae(0x187)]()};if(!_0x19e2d6['winnerRating'])_0x19e2d6[_0xfc5dae(0x166)]=0x0;if(!_0x19e2d6['loserRating'])_0x19e2d6['loserRating']=0x0;_0x52d399[_0xfc5dae(0x195)](_0x19e2d6);}}),matchCache['setCachedMatches'](_0x797aba,_0x5906c0,_0x52d399),_0x52d399;}catch(_0x3364a4){return console['error']('❌\x20Error\x20fetching\x20matches:',_0x3364a4),[];}}async[a51_0x5903bc(0x1a5)](_0x36a5ee,_0x5607fc){const _0x4579b5=a51_0x5903bc;try{const _0x555860=_0x5607fc==='D1'?_0x4579b5(0x160):_0x5607fc==='D2'?_0x4579b5(0x19d):'playersD3',_0x1de311=collection(db,_0x555860),_0xb4ec67=query(_0x1de311,where('username','==',_0x36a5ee),limit(0x1)),_0x24f2c5=await getDocs(_0xb4ec67);if(_0x24f2c5[_0x4579b5(0x149)])return console[_0x4579b5(0x15a)]('❌\x20No\x20player\x20data\x20found\x20for\x20'+_0x36a5ee+'\x20in\x20'+_0x555860),null;const _0x5d7235=_0x24f2c5['docs'][0x0]['data']();return _0x5d7235[_0x4579b5(0x17f)]!==undefined&&(_0x5d7235[_0x4579b5(0x145)]=_0x5d7235['eloRating']),console['log']('✅\x20Found\x20player\x20data\x20for\x20'+_0x36a5ee+':\x20ELO\x20'+_0x5d7235['eloRating']+',\x20Position\x20'+_0x5d7235['position']),_0x5d7235;}catch(_0x5eaa6a){return console['error']('Error\x20getting\x20player\x20data\x20for\x20'+_0x36a5ee+':',_0x5eaa6a),null;}}async['getPlayerRibbonsCached'](_0x1c1502,_0x1645b0){const _0x26fcb3=a51_0x5903bc;try{const _0xf862b9='playerRibbons'+(_0x1645b0==='D1'?'':_0x1645b0),_0x4eb1ae=doc(db,_0xf862b9,_0x1c1502),_0x3ed681=await getDoc(_0x4eb1ae);return _0x3ed681[_0x26fcb3(0x15e)]()?_0x3ed681[_0x26fcb3(0x187)]()['ribbons']||{}:{};}catch(_0x5c2d07){return console['error'](_0x26fcb3(0x17b),_0x5c2d07),{};}}async['savePlayerRibbonsOptimized'](_0x256031,_0x4739b8,_0x4d3464){const _0x8c53f5=a51_0x5903bc;try{const _0x1bac2d=_0x8c53f5(0x1a0)+(_0x4d3464==='D1'?'':_0x4d3464),_0x492a6f=doc(db,_0x1bac2d,_0x256031),_0x553729=await this['getPlayerRibbonsCached'](_0x256031,_0x4d3464),_0xa2ec35={..._0x553729,..._0x4739b8};await setDoc(_0x492a6f,{'username':_0x256031,'ladder':_0x4d3464,'ribbons':_0xa2ec35,'lastUpdated':new Date()},{'merge':!![]});}catch(_0x37a47e){console['error']('Error\x20saving\x20ribbons:',_0x37a47e);}}['evaluateOverachieverRibbonFromCount'](_0x116c3d,_0x46bafa){const _0x190289=a51_0x5903bc,_0x18752a=_0x46bafa['Overachiever\x20Ribbon']||{'level':0x0},_0x110568=RIBBON_DEFINITIONS[_0x190289(0x14d)]['levels'],_0x1ae660=_0x110568['findIndex'](_0x4c07aa=>_0x116c3d<_0x4c07aa),_0x3c4630=_0x1ae660===-0x1?_0x110568[_0x190289(0x16a)]:_0x1ae660;if(_0x3c4630>_0x18752a['level'])return{'level':_0x3c4630,'awardedAt':new Date()};return null;}[a51_0x5903bc(0x179)](_0x9ced4c,_0x36e88a){const _0x473b9f=a51_0x5903bc;if(_0x9ced4c===0x0)return null;const _0x5766ed=_0x36e88a[_0x473b9f(0x176)]||{'level':0x0};if(_0x9ced4c>_0x5766ed[_0x473b9f(0x196)])return{'level':_0x9ced4c,'awardedAt':new Date()};return null;}['evaluateSubGamerRibbonFromCount'](_0x303149,_0xda5c43){const _0x2f1f7f=a51_0x5903bc,_0xf03e76=_0xda5c43[_0x2f1f7f(0x18f)]||{'level':0x0},_0x7c5815=RIBBON_DEFINITIONS['Sub-Gamer\x20Ribbon']['levels'],_0x30151f=_0x7c5815['findIndex'](_0x262785=>_0x303149<_0x262785),_0x597878=_0x30151f===-0x1?_0x7c5815['length']:_0x30151f;if(_0x597878>_0xf03e76['level'])return{'level':_0x597878,'awardedAt':new Date()};return null;}[a51_0x5903bc(0x19e)](_0x1cfbd4,_0x5ec9ee){const _0x8165f7=a51_0x5903bc,_0x1f8bf9=_0x5ec9ee['Explorer\x20Ribbon']||{'level':0x0},_0x333e65=RIBBON_DEFINITIONS['Explorer\x20Ribbon'][_0x8165f7(0x1b7)],_0x3975df=_0x333e65['findIndex'](_0x6d6e2a=>_0x1cfbd4<_0x6d6e2a),_0x149560=_0x3975df===-0x1?_0x333e65['length']:_0x3975df;if(_0x149560>_0x1f8bf9['level'])return{'level':_0x149560,'awardedAt':new Date()};return null;}['evaluateSocialiteRibbonFromCount'](_0x4f134d,_0x9e6dea){const _0x1fe142=a51_0x5903bc,_0x33a13a=_0x9e6dea['Socialite\x20Ribbon']||{'level':0x0},_0x80cf57=RIBBON_DEFINITIONS[_0x1fe142(0x1ab)]['levels'],_0x5f28a1=_0x80cf57[_0x1fe142(0x163)](_0x706271=>_0x4f134d<_0x706271),_0x22560f=_0x5f28a1===-0x1?_0x80cf57['length']:_0x5f28a1;if(_0x22560f>_0x33a13a['level'])return{'level':_0x22560f,'awardedAt':new Date()};return null;}['evaluateBrickWallRibbonFromWinRate'](_0x2b6a33,_0x200425,_0x187482){const _0x4dbc42=a51_0x5903bc;if(_0x187482<0x32)return console[_0x4dbc42(0x15a)]('⚠️\x20Brick\x20Wall\x20ribbon\x20requires\x2050+\x20matches\x20(player\x20has\x20'+_0x187482+')'),null;const _0x4ea36b=_0x200425['Brick\x20Wall']||{'level':0x0},_0x592651=RIBBON_DEFINITIONS['Brick\x20Wall'][_0x4dbc42(0x1b7)],_0x13d1a7=_0x592651['findIndex'](_0x1e7e32=>_0x2b6a33<_0x1e7e32),_0x2bdb95=_0x13d1a7===-0x1?_0x592651['length']:_0x13d1a7;if(_0x2bdb95>_0x4ea36b['level'])return console['log']('🏆\x20Brick\x20Wall\x20ribbon\x20awarded:\x20'+_0x2b6a33['toFixed'](0x1)+_0x4dbc42(0x19a)+_0x187482+'\x20matches'),{'level':_0x2bdb95,'awardedAt':new Date(),'winRate':_0x2b6a33,'matchesPlayed':_0x187482};return null;}['evaluateCollectorRibbonFromCount'](_0x40eaa3,_0x35d931){const _0x4bf530=a51_0x5903bc,_0x1ed141=_0x35d931[_0x4bf530(0x1ba)]||{'level':0x0},_0x35ec4e=RIBBON_DEFINITIONS['Collector\x20Ribbon'][_0x4bf530(0x1b7)],_0x3efd4b=_0x35ec4e[_0x4bf530(0x163)](_0x4204ea=>_0x40eaa3<_0x4204ea),_0x1c87b9=_0x3efd4b===-0x1?_0x35ec4e['length']:_0x3efd4b;if(_0x1c87b9>_0x1ed141['level'])return{'level':_0x1c87b9,'awardedAt':new Date()};return null;}['evaluateUnderdogRibbonFromCount'](_0x3301e6,_0x3c1b99){const _0x49c44a=a51_0x5903bc;if(_0x3301e6===0x0)return null;const _0x5e11c0=_0x3c1b99[_0x49c44a(0x18a)]||{'level':0x0},_0x56d25f=RIBBON_DEFINITIONS['Underdog\x20Ribbon'][_0x49c44a(0x1b7)];let _0x57bcdd=0x0;for(let _0x443151=0x0;_0x443151<_0x56d25f[_0x49c44a(0x16a)];_0x443151++){if(_0x3301e6>=_0x56d25f[_0x443151])_0x57bcdd=_0x443151+0x1;else break;}if(_0x57bcdd>_0x5e11c0[_0x49c44a(0x196)])return console['log']('🏆\x20Underdog\x20Ribbon\x20upgrade:\x20Level\x20'+_0x5e11c0['level']+'\x20→\x20'+_0x57bcdd+'\x20('+_0x3301e6+_0x49c44a(0x159)),{'level':_0x57bcdd,'awardedAt':new Date()};return null;}}function getPlayerRankTier(_0x35dae5){if(_0x35dae5===undefined||_0x35dae5===null)return 0x0;const _0x4268b4=Number(_0x35dae5);if(isNaN(_0x4268b4))return 0x0;if(_0x4268b4>=0x7d0)return 0x4;if(_0x4268b4>=0x708)return 0x3;if(_0x4268b4>=0x640)return 0x2;if(_0x4268b4>=0x578)return 0x1;return 0x0;}function getRankTierName(_0x33db8a){const _0x4625b9=a51_0x5903bc,_0x34f73d=[_0x4625b9(0x18e),_0x4625b9(0x1a9),'Silver',_0x4625b9(0x15f),'Emerald'];return _0x34f73d[_0x33db8a]||_0x4625b9(0x18e);}const ribbonSystem=new RibbonSystem(),ribbonCache=new RibbonCacheManager(),matchCache=new MatchCacheManager();typeof window!==a51_0x5903bc(0x16c)&&(window['getRibbonCacheStats']=()=>{return{'ribbon':ribbonCache['getCacheStats'](),'match':matchCache['getCacheStats']()};});export async function evaluatePlayerRibbons(_0x412912,_0x33a8e2='D1'){const _0x5cd2cb=a51_0x5903bc;return await ribbonSystem[_0x5cd2cb(0x17d)](_0x412912,_0x33a8e2);}function a51_0x4501(_0x35a3be,_0x2e5835){const _0x460cb6=a51_0x5ae6();return a51_0x4501=function(_0x50cd78,_0x164b29){_0x50cd78=_0x50cd78-0x145;let _0x5ae67f=_0x460cb6[_0x50cd78];return _0x5ae67f;},a51_0x4501(_0x35a3be,_0x2e5835);}export function getRibbonHTML(_0x386f0d,_0x2288e4){const _0x121a23=a51_0x5903bc,_0x1e9e11=RIBBON_DEFINITIONS[_0x386f0d];if(!_0x1e9e11)return'';const _0x1234db=_0x2288e4['level']||0x1,_0x6d5140=_0x386f0d['replace']('\x20Ribbon','')['replace']('\x20Badge',''),_0x50a7ea=_0x2e9e47=>{const _0x3b500f=a51_0x4501;if(_0x2e9e47<=0x1)return _0x3b500f(0x171);if(_0x2e9e47<=0x2)return'level-2';if(_0x2e9e47<=0x3)return'level-3';if(_0x2e9e47<=0x4)return'level-4';return'level-5-plus';},_0x38d6d6=_0x162c6f=>{const _0x3fe57d=a51_0x4501;if(_0x162c6f<=0x1)return'';const _0x15a104=[];if(_0x162c6f>=0x2&&_0x162c6f<=0x4){const _0x1513ad=Math['min'](_0x162c6f-0x1,0x3);for(let _0x12ccc4=0x0;_0x12ccc4<_0x1513ad;_0x12ccc4++){_0x15a104['push'](_0x3fe57d(0x16d));}}if(_0x162c6f>=0x5&&_0x162c6f<=0x7){_0x15a104['push'](_0x3fe57d(0x180));const _0x4bbae5=Math['min'](_0x162c6f-0x5,0x2);for(let _0x2dc332=0x0;_0x2dc332<_0x4bbae5;_0x2dc332++){_0x15a104['push'](_0x3fe57d(0x16d));}}return _0x162c6f>=0x8&&_0x15a104['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20gold-star\x22></i>'),_0x15a104['length']>0x0?'<div\x20class=\x22ribbon-devices\x22>'+_0x15a104['join']('')+_0x3fe57d(0x1ae):'';},_0x56fc87=_0x1e9e11['description']+'\x20-\x20Level\x20'+_0x1234db;return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22military-ribbon\x22\x20data-tooltip=\x22'+_0x56fc87+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-image-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22'+_0x1e9e11['image']+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22'+_0x386f0d+_0x121a23(0x169)+_0x1e9e11['color']+_0x121a23(0x18d)+_0x6d5140['substring'](0x0,0x6)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x38d6d6(_0x1234db)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-name\x22>'+_0x6d5140+_0x121a23(0x1b2)+(_0x1234db>0x1?'<div\x20class=\x22ribbon-level-indicator\x20'+_0x50a7ea(_0x1234db)+'\x22>'+_0x1234db+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}