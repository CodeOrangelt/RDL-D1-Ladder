const a0_0x3c8c70=a0_0x203b;(function(_0x4cdcf4,_0xe6d17e){const _0xea1c07=a0_0x203b,_0x303849=_0x4cdcf4();while(!![]){try{const _0x748640=-parseInt(_0xea1c07(0xb5))/0x1+parseInt(_0xea1c07(0xc0))/0x2*(-parseInt(_0xea1c07(0xc1))/0x3)+-parseInt(_0xea1c07(0xbd))/0x4+parseInt(_0xea1c07(0xc7))/0x5+parseInt(_0xea1c07(0xb3))/0x6*(parseInt(_0xea1c07(0xbe))/0x7)+-parseInt(_0xea1c07(0xcc))/0x8*(parseInt(_0xea1c07(0xc6))/0x9)+parseInt(_0xea1c07(0xb0))/0xa*(parseInt(_0xea1c07(0xb6))/0xb);if(_0x748640===_0xe6d17e)break;else _0x303849['push'](_0x303849['shift']());}catch(_0x7862de){_0x303849['push'](_0x303849['shift']());}}}(a0_0x15ed,0x8b56d));function a0_0x203b(_0x2796ac,_0x5d101c){const _0x36b047=a0_0x15ed();return a0_0x203b=function(_0x4f7fbc,_0x70d71f){_0x4f7fbc=_0x4f7fbc-0xac;let _0x2d0581=_0x36b047[_0x4f7fbc];return _0x2d0581;},a0_0x203b(_0x2796ac,_0x5d101c);}const a0_0x70d71f=(function(){let _0x58628e=!![];return function(_0xd981c5,_0x1ba00b){const _0x10d34c=_0x58628e?function(){const _0x2379d1=a0_0x203b;if(_0x1ba00b){const _0x98b99e=_0x1ba00b[_0x2379d1(0xac)](_0xd981c5,arguments);return _0x1ba00b=null,_0x98b99e;}}:function(){};return _0x58628e=![],_0x10d34c;};}()),a0_0x4f7fbc=a0_0x70d71f(this,function(){const _0x1d3181=a0_0x203b;let _0x36e20e;try{const _0x1f9f30=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x36e20e=_0x1f9f30();}catch(_0x258487){_0x36e20e=window;}const _0xa3bb78=_0x36e20e['console']=_0x36e20e['console']||{},_0x376115=['log',_0x1d3181(0xb4),'info','error',_0x1d3181(0xc9),'table',_0x1d3181(0xb1)];for(let _0x19b762=0x0;_0x19b762<_0x376115['length'];_0x19b762++){const _0x472354=a0_0x70d71f['constructor'][_0x1d3181(0xb2)]['bind'](a0_0x70d71f),_0x1554f6=_0x376115[_0x19b762],_0x280060=_0xa3bb78[_0x1554f6]||_0x472354;_0x472354['__proto__']=a0_0x70d71f[_0x1d3181(0xbc)](a0_0x70d71f),_0x472354['toString']=_0x280060['toString'][_0x1d3181(0xbc)](_0x280060),_0xa3bb78[_0x1554f6]=_0x472354;}});a0_0x4f7fbc();import{db}from'./firebase-config.js';import{collection,query,where,onSnapshot,updateDoc,doc}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const readyPlayersRef=collection(db,'readyPlayers'),activePlayersQuery=query(readyPlayersRef,where('isReady','==',!![]));function a0_0x15ed(){const _0x195da1=['exception','m\x20in\x20queue','display','2624PAlBSi','apply','push','queue-container','Error\x20in\x20queue\x20listener:','11540ZanLrK','trace','prototype','567012kIOPLD','warn','995955lkcEGy','25828izvxgp','readyPlayers','toDate','block','lastUpdated','addEventListener','bind','4484272uPqrIv','77PEIiRP','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-card\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-name\x22>','94yPLdnQ','65541UlvfIf','forEach','error','data','unload','21735eRfWwv','3787855qlaIzs','none'];a0_0x15ed=function(){return _0x195da1;};return a0_0x15ed();}function updateQueueDisplay(_0x5d195d){const _0x2b307f=a0_0x203b,_0x25ec48=document['getElementById'](_0x2b307f(0xae));if(!_0x25ec48)return;if(_0x5d195d['length']===0x0){_0x25ec48['style'][_0x2b307f(0xcb)]=_0x2b307f(0xc8);return;}_0x25ec48['style']['display']=_0x2b307f(0xb9);let _0x141dbc='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22queue-box\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>Waiting\x20for\x20a\x20game</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22queue-list\x22>\x0a\x20\x20\x20\x20';_0x5d195d[_0x2b307f(0xc2)](_0x401815=>{const _0x3f7d54=_0x2b307f;_0x141dbc+=_0x3f7d54(0xbf)+(_0x401815['username']||'Unknown\x20Player')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22queue-time\x22>'+formatQueueTime(_0x401815[_0x3f7d54(0xba)])+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x141dbc+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x25ec48['innerHTML']=_0x141dbc;}function formatQueueTime(_0x1cf473){const _0x415853=a0_0x203b;if(!_0x1cf473)return'Just\x20now';const _0x16ac26=_0x1cf473[_0x415853(0xb8)]?_0x1cf473['toDate']():new Date(_0x1cf473),_0x300aac=new Date(),_0x3e6260=Math['floor']((_0x300aac-_0x16ac26)/0xea60);if(_0x3e6260<0x1)return'Just\x20now';return _0x3e6260+_0x415853(0xca);}async function checkQueueTimeout(_0x5c8e54){const _0x2d3cf6=a0_0x203b;if(!_0x5c8e54['lastUpdated'])return;const _0x301546=_0x5c8e54['lastUpdated']['toDate']?_0x5c8e54['lastUpdated'][_0x2d3cf6(0xb8)]():new Date(_0x5c8e54['lastUpdated']),_0x11d934=new Date(),_0x223b82=Math['floor']((_0x11d934-_0x301546)/0xea60);if(_0x223b82>=0x1e)try{const _0x330fa4=doc(db,_0x2d3cf6(0xb7),_0x5c8e54['id']);await updateDoc(_0x330fa4,{'isReady':![]});}catch(_0x6e2496){console['error']('Error\x20removing\x20player\x20from\x20queue:',_0x6e2496);}}const unsubscribe=onSnapshot(readyPlayersRef,_0x526b7b=>{const _0x179bde=[];_0x526b7b['forEach'](_0x512e33=>{const _0x2559a0=a0_0x203b,_0x3b091f=_0x512e33[_0x2559a0(0xc4)]();if(_0x3b091f['isReady']===!![]){const _0x56bdf8={'id':_0x512e33['id'],'username':_0x3b091f['username'],'lastUpdated':_0x3b091f['lastUpdated']||new Date()};_0x179bde[_0x2559a0(0xad)](_0x56bdf8),checkQueueTimeout(_0x56bdf8);}}),updateQueueDisplay(_0x179bde);},_0x1086b8=>{const _0x5b7578=a0_0x203b;console[_0x5b7578(0xc3)](_0x5b7578(0xaf),_0x1086b8);});window[a0_0x3c8c70(0xbb)](a0_0x3c8c70(0xc5),()=>{unsubscribe();});