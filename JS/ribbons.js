const a50_0x2856cd=a50_0x4005,a50_0x5c1a3c=(function(){let _0x19b964=!![];return function(_0xdcf6c5,_0x333d3a){const _0x1b858d=_0x19b964?function(){if(_0x333d3a){const _0x295810=_0x333d3a['apply'](_0xdcf6c5,arguments);return _0x333d3a=null,_0x295810;}}:function(){};return _0x19b964=![],_0x1b858d;};}()),a50_0x797bde=a50_0x5c1a3c(this,function(){const _0x197801=a50_0x4005,_0x8f62c8=function(){let _0x225196;try{_0x225196=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x730036){_0x225196=window;}return _0x225196;},_0x15f94d=_0x8f62c8(),_0xb21d06=_0x15f94d['console']=_0x15f94d['console']||{},_0x2f11ed=['log','warn','info','error','exception','table','trace'];for(let _0x2a81ff=0x0;_0x2a81ff<_0x2f11ed['length'];_0x2a81ff++){const _0x45bd00=a50_0x5c1a3c['constructor']['prototype']['bind'](a50_0x5c1a3c),_0x570c7a=_0x2f11ed[_0x2a81ff],_0x11547c=_0xb21d06[_0x570c7a]||_0x45bd00;_0x45bd00[_0x197801(0xc7)]=a50_0x5c1a3c['bind'](a50_0x5c1a3c),_0x45bd00[_0x197801(0x102)]=_0x11547c[_0x197801(0x102)][_0x197801(0xd9)](_0x11547c),_0xb21d06[_0x570c7a]=_0x45bd00;}});function a50_0x6126(){const _0x42dc61=['../images/ribbons/toprank.png','‚úÖ\x20Found\x20player\x20data\x20for\x20','get','\x20beat\x20','forEach','has','Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Bronze\x20rank','level','\x20earned\x20','stringify','<div\x20class=\x22ribbon-level-indicator\x20','<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>','evaluateRematchRibbonFromCount','description','Hold\x20more\x20than\x205\x20ribbons\x20at\x20a\x20time','Played\x20at\x20least\x2020\x20unique\x20maps',')\x20vs\x20Loser(','%\x20win\x20rate\x20over\x20','../images/ribbons/Subgamer.png','wins','winnerRating','getPlayerDataCached','‚úÖ\x20Preserving\x20existing\x20','size','<div\x20class=\x22ribbon-devices\x22>','\x20is\x20Unranked\x20(','matchCache','Silver','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Beat\x20a\x20pilot\x20ranked\x20higher\x20than\x20you','position','loserRating','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','üéØ\x20Found\x20','set','Rematch\x20Ribbon','push','__proto__','evaluateAllRibbonsForPlayerOptimized','Top\x20','Socialite\x20Ribbon','üéØ\x20UNDERDOG:\x20','evaluateDominationRibbonFromRanks','shouldRefreshCache','loserUsername','matchesPlayed','autoCleanup','uniqueOpponents','entries','Error\x20saving\x20ribbons:','keys','Overachiever\x20Ribbon','../images/ribbons/Domination.png','winnerUsername','<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20gold-star\x22></i>','bind','levels','length','ribbons','add','lastCleanup','players','findIndex','startsWith','toLocaleTimeString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','now','getRibbonCacheStats','playersD2','Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Emerald\x20rank','approvedMatchesD2','\x20ELO),\x20','BATCH_DELAY','rematchWins','endsWith','Explorer\x20Ribbon','Gold','Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Gold\x20rank','getCachedData','replace','log','evaluateTopRankRibbon','totalMatches','Brick\x20Wall','CACHE_DURATION','\x20matches','savePlayerRibbonsOptimized','eloRating','getCacheKey','level-1','üèÜ\x20Brick\x20Wall\x20ribbon\x20awarded:\x20','min','üéØ\x20UNDERDOG\x20VICTORY:\x20','Error\x20getting\x20player\x20data\x20for\x20','\x20new/updated\x20ribbons\x20for\x20','delete','toString','Underdog\x20Ribbon','\x20-\x20Level\x20','\x20ELO\x20(','isUnderdogVictoryFast','playersD3','üÜï\x20New\x20top\x20rank\x20achievements\x20found\x20for\x20cached\x20player\x20','data','key','memoryCache','dominatedRanks','setCachedData','#8E44AD','image','evaluateUnderdogRibbonFromCount','getCachedMatches','toFixed','clearOldCache','\x20Ribbon','username','uniqueMaps','level-5-plus','underdogWins','Sub-Gamer\x20Ribbon','Collector\x20Ribbon','</div>','subgameMatches','evaluateCollectorRibbonFromCount','error','cleanup'];a50_0x6126=function(){return _0x42dc61;};return a50_0x6126();}a50_0x797bde();function a50_0x4005(_0x3945b2,_0xd28ed5){const _0x797bde=a50_0x6126();return a50_0x4005=function(_0x5c1a3c,_0x549b45){_0x5c1a3c=_0x5c1a3c-0xa2;let _0x612603=_0x797bde[_0x5c1a3c];return _0x612603;},a50_0x4005(_0x3945b2,_0xd28ed5);}import{auth,db}from'./firebase-config.js';import{doc,getDoc,setDoc,collection,query,where,getDocs,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const RIBBON_DEFINITIONS={'Rematch\x20Ribbon':{'description':'Beat\x20a\x20pilot\x20with\x20the\x20\x22Rematch\x22\x20subgame\x20selected','image':'../images/ribbons/Rematch.png','color':'#FF6B6B'},'Overachiever\x20Ribbon':{'description':'Played\x20over\x20100\x20matches','image':'../images/ribbons/Overachiever.png','color':'#96CEB4','levels':[0x64,0xc8,0x12c,0x190,0x1f4,0x258,0x2bc,0x320,0x384,0x3e8]},'Brick\x20Wall':{'description':'Amass\x20at\x20least\x2080%\x20overall\x20win\x20rate\x20percentage\x20(minimum\x2050\x20matches)','image':'../images/ribbons/BrickWall.png','color':'#F0932B','levels':[0x50,0x55,0x5a,0x5f,0x64]},'Collector\x20Ribbon':{'description':a50_0x2856cd(0xb0),'image':'../images/ribbons/Collector.png','color':'#6C5CE7','levels':[0x5,0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32]},'Sub-Gamer\x20Ribbon':{'description':'Play\x20over\x2050\x20subgame\x20matches','image':a50_0x2856cd(0xb4),'color':'#A29BFE','levels':[0x32,0x64,0x96,0xc8,0xfa,0x12c,0x15e,0x190,0x1c2,0x1f4]},'Explorer\x20Ribbon':{'description':a50_0x2856cd(0xb1),'image':'../images/ribbons/Explorer.png','color':'#55A3FF','levels':[0x14,0x28,0x3c,0x50,0x64,0x78,0x8c,0xa0,0xb4,0xc8]},'Socialite\x20Ribbon':{'description':'Played\x20at\x20least\x2010\x20unique\x20pilots','image':'../images/ribbons/Socialite.png','color':'#FF7675','levels':[0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32,0x37]},'Underdog\x20Ribbon':{'description':a50_0x2856cd(0xbf),'image':'../images/ribbons/Underdog.png','color':'#FF9500','levels':[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0x9,0xa]},'Domination\x20Ribbon':{'description':'Beat\x205\x20unique\x20pilots\x20in\x20a\x20rank\x20(including\x20your\x20own)','image':a50_0x2856cd(0xd6),'color':a50_0x2856cd(0x10e),'levels':[0x1,0x2,0x3,0x4,0x5]},'Top\x20Bronze\x20Pilot':{'description':a50_0x2856cd(0xa8),'image':'../images/ribbons/toprank.png','color':'#CD7F32'},'Top\x20Silver\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Silver\x20rank','image':'../images/ribbons/toprank.png','color':'#C0C0C0'},'Top\x20Gold\x20Pilot':{'description':a50_0x2856cd(0xef),'image':'../images/ribbons/toprank.png','color':'#FFD700'},'Top\x20Emerald\x20Pilot':{'description':a50_0x2856cd(0xe7),'image':a50_0x2856cd(0xa2),'color':'#50C878'}};export const RIBBON_CSS='\x0a/*\x20Stats\x20integration\x20styles\x20*/\x0a.ribbon-section\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-top:\x201rem;\x0a}\x0a\x0a.ribbon-stat-item.full-width\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-bottom:\x200;\x0a}\x0a\x0a/*\x20Military\x20Ribbon\x20Rack\x20Styling\x20-\x20NO\x20OUTER\x20CONTAINER\x20*/\x0a.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20padding:\x200;\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20box-shadow:\x20none;\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20align-items:\x20flex-start;\x0a}\x0a\x0a.ribbon-rack-empty-inline\x20{\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20padding:\x2060px\x2040px;\x0a\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20border-radius:\x2012px;\x0a\x20\x20\x20\x20border:\x202px\x20solid\x20rgba(255,\x20255,\x20255,\x200.1);\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a}\x0a\x0a.empty-rack-text\x20{\x0a\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20font-style:\x20italic;\x0a\x20\x20\x20\x20font-size:\x201.2rem;\x0a}\x0a\x0a/*\x20Ribbon\x20Rows\x20*/\x0a.ribbon-row\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x206px;\x0a\x20\x20\x20\x20margin-bottom:\x206px;\x0a\x20\x20\x20\x20justify-content:\x20flex-start;\x0a}\x0a\x0a.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20margin-left:\x2060px;\x0a}\x0a\x0a/*\x20Individual\x20Military\x20Ribbon\x20Styling\x20-\x20FIXED\x20OVERFLOW\x20FOR\x20LEVEL\x20INDICATOR\x20*/\x0a.military-ribbon\x20{\x0a\x20\x20\x20\x20position:\x20relative;\x0a\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20transition:\x20transform\x200.3s\x20ease;\x0a\x20\x20\x20\x20flex-shrink:\x200;\x0a\x20\x20\x20\x20width:\x20190px;\x0a\x20\x20\x20\x20height:\x2060px;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#333;\x0a\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20overflow:\x20visible;\x20/*\x20Changed\x20from\x20hidden\x20to\x20visible\x20*/\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20margin:\x2012px\x2012px\x2012px\x200;\x20/*\x20Added\x20margin\x20to\x20prevent\x20clipping\x20*/\x0a}\x0a\x0a.military-ribbon:hover\x20{\x0a\x20\x20\x20\x20transform:\x20translateY(-4px);\x0a\x20\x20\x20\x20z-index:\x2010;\x0a}\x0a\x0a/*\x20Ribbon\x20image\x20container\x20to\x20handle\x20the\x20actual\x20overflow\x20*/\x0a.ribbon-image-container\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20border-radius:\x201px;\x0a}\x0a\x0a.ribbon-image\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20object-fit:\x20cover;\x0a\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20image-rendering:\x20crisp-edges;\x0a}\x0a\x0a.ribbon-fallback\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20text-shadow:\x200\x202px\x204px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a}\x0a\x0a.ribbon-name\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.9);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201.2;\x0a\x20\x20\x20\x20margin-top:\x206px;\x0a\x20\x20\x20\x20max-width:\x20120px;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20text-overflow:\x20ellipsis;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20-24px;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20font-weight:\x20500;\x0a}\x0a\x0a.military-ribbon:hover\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20display:\x20block;\x0a}\x0a\x0a.ribbon-devices\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x2050%;\x0a\x20\x20\x20\x20right:\x206px;\x0a\x20\x20\x20\x20transform:\x20translateY(-50%);\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x203px;\x0a\x20\x20\x20\x20z-index:\x205;\x0a}\x0a\x0a.ribbon-device\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20text-shadow:\x200\x200\x204px\x20rgba(0,0,0,0.9);\x0a\x20\x20\x20\x20filter:\x20drop-shadow(0\x202px\x204px\x20rgba(0,0,0,0.8));\x0a}\x0a\x0a.bronze-star\x20{\x0a\x20\x20\x20\x20color:\x20#CD7F32;\x0a}\x0a\x0a.silver-star\x20{\x0a\x20\x20\x20\x20color:\x20#C0C0C0;\x0a}\x0a\x0a.gold-star\x20{\x0a\x20\x20\x20\x20color:\x20#FFD700;\x0a}\x0a\x0a/*\x20Level\x20indicator\x20-\x20NOW\x20FULLY\x20VISIBLE\x20*/\x0a.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x20-8px;\x0a\x20\x20\x20\x20right:\x20-8px;\x0a\x20\x20\x20\x20background:\x20#FFD700;\x0a\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20width:\x2024px;\x0a\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#FFF;\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x208px\x20rgba(0,0,0,0.7);\x0a\x20\x20\x20\x20z-index:\x206;\x0a}\x0a\x0a/*\x20Custom\x20tooltip\x20-\x20only\x20this\x20one\x20will\x20show\x20*/\x0a.military-ribbon::before\x20{\x0a\x20\x20\x20\x20content:\x20attr(data-tooltip);\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20100%;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20background:\x20rgba(0,0,0,0.95);\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20padding:\x208px\x2012px;\x0a\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20pointer-events:\x20none;\x0a\x20\x20\x20\x20transition:\x20opacity\x200.3s;\x0a\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20margin-bottom:\x208px;\x0a\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(255,\x20255,\x20255,\x200.2);\x0a}\x0a\x0a.military-ribbon:hover::before\x20{\x0a\x20\x20\x20\x20opacity:\x201;\x0a}\x0a\x0a/*\x20Responsive\x20adjustments\x20*/\x0a@media\x20(max-width:\x201024px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2034px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x208px\x208px\x208px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-6px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-6px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2052px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-20px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20768px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2028px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x206px\x206px\x206px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x209px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-5px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-5px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2042px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2011px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-18px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x205px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20480px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2070px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x205px\x205px\x205px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2036px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x204px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-4px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-4px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a.stats-grid\x20.ribbon-section\x20{\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20padding:\x200;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20{\x0a\x20\x20\x20\x20background-color:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20padding:\x2025px;\x0a\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20.stat-label\x20{\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20text-transform:\x20uppercase;\x0a\x20\x20\x20\x20opacity:\x200.9;\x0a\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.95);\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a}\x0a\x0a.ribbon-level-indicator.level-1\x20{\x20background:\x20#808080;\x20}\x0a.ribbon-level-indicator.level-2\x20{\x20background:\x20#CD7F32;\x20}\x0a.ribbon-level-indicator.level-3\x20{\x20background:\x20#b9f1fc;\x20}\x0a.ribbon-level-indicator.level-4\x20{\x20background:\x20#FFD700;\x20}\x0a.ribbon-level-indicator.level-5-plus\x20{\x20background:\x20#50C878;\x20}\x0a';class RibbonCacheManager{constructor(){const _0x528940=a50_0x2856cd;this['memoryCache']=new Map(),this[_0x528940(0xf6)]=0x3c*0x3c*0x3e8,this['CACHE_KEY_PREFIX']='ribbon_cache_',this['lastCleanup']=Date['now'](),this['CLEANUP_INTERVAL']=0x1e*0x3c*0x3e8;}[a50_0x2856cd(0xfa)](_0x1d9a2c,_0x1c4e97){return''+this['CACHE_KEY_PREFIX']+_0x1d9a2c+'_'+_0x1c4e97;}[a50_0x2856cd(0xf0)](_0x53b49a,_0x53ad24){const _0x2ce23c=a50_0x2856cd;this['autoCleanup']();const _0x1321de=this['getCacheKey'](_0x53b49a,_0x53ad24);if(this['memoryCache']['has'](_0x1321de)){const _0xd8d534=this[_0x2ce23c(0x10b)]['get'](_0x1321de);if(Date['now']()-_0xd8d534['timestamp']<this['CACHE_DURATION'])return console['log']('üöÄ\x20Cache\x20hit\x20(memory)\x20for\x20'+_0x53b49a),_0xd8d534['data'];this['memoryCache'][_0x2ce23c(0x101)](_0x1321de);}const _0x342608=localStorage['getItem'](_0x1321de);if(_0x342608)try{const _0x2543a8=JSON['parse'](_0x342608);if(Date['now']()-_0x2543a8['timestamp']<this['CACHE_DURATION'])return this['memoryCache'][_0x2ce23c(0xc4)](_0x1321de,{'data':_0x2543a8['ribbons'],'timestamp':_0x2543a8['timestamp'],'matchCount':_0x2543a8['matchCount']}),console[_0x2ce23c(0xf2)]('üíæ\x20Cache\x20hit\x20(localStorage)\x20for\x20'+_0x53b49a),_0x2543a8['ribbons'];localStorage['removeItem'](_0x1321de);}catch(_0x5127b3){localStorage['removeItem'](_0x1321de);}return null;}[a50_0x2856cd(0x10d)](_0xba30c9,_0x396965,_0x2708aa,_0x27bdcf){const _0x37ae62=a50_0x2856cd,_0x2382db=this['getCacheKey'](_0xba30c9,_0x396965),_0x49a157=Date['now']();this['memoryCache']['set'](_0x2382db,{'data':_0x2708aa,'timestamp':_0x49a157,'matchCount':_0x27bdcf});try{const _0x55397c={'ribbons':_0x2708aa,'matchCount':_0x27bdcf,'timestamp':_0x49a157,'version':0x3};localStorage['setItem'](_0x2382db,JSON['stringify'](_0x55397c));}catch(_0x500695){this[_0x37ae62(0x113)]();try{localStorage['setItem'](_0x2382db,JSON[_0x37ae62(0xab)](data));}catch(_0x2c7155){}}}[a50_0x2856cd(0xcd)](_0x5b40bc,_0x1ebbd7,_0x250ae9){const _0x1be949=a50_0x2856cd,_0x4521b4=this[_0x1be949(0xfa)](_0x5b40bc,_0x1ebbd7);if(this['memoryCache']['has'](_0x4521b4)){const _0x1f9471=this['memoryCache']['get'](_0x4521b4);return _0x1f9471['matchCount']!==_0x250ae9;}const _0x23b215=localStorage['getItem'](_0x4521b4);if(_0x23b215)try{const _0x528541=JSON['parse'](_0x23b215);return _0x528541['matchCount']!==_0x250ae9;}catch(_0x56d72d){return!![];}return!![];}['invalidatePlayerCache'](_0x30039b,_0xcd68b1){const _0x50d7b4=a50_0x2856cd,_0x1f88ae=this['getCacheKey'](_0x30039b,_0xcd68b1);this[_0x50d7b4(0x10b)]['delete'](_0x1f88ae),localStorage['removeItem'](_0x1f88ae),console['log']('üóëÔ∏è\x20Invalidated\x20cache\x20for\x20'+_0x30039b+'\x20('+_0xcd68b1+')\x20-\x20new\x20match\x20detected');}['autoCleanup'](){const _0x24c5e0=Date['now']();_0x24c5e0-this['lastCleanup']>this['CLEANUP_INTERVAL']&&(this['cleanup'](),this['lastCleanup']=_0x24c5e0);}[a50_0x2856cd(0x11f)](){const _0x4efdd9=a50_0x2856cd,_0x661a1f=Date['now']();let _0x4252b2=0x0,_0x3d020d=0x0;for(const [_0x2acd17,_0x1623b5]of this['memoryCache']['entries']()){_0x661a1f-_0x1623b5['timestamp']>this['CACHE_DURATION']&&(this['memoryCache']['delete'](_0x2acd17),_0x4252b2++);}for(let _0x3e03ce=localStorage['length']-0x1;_0x3e03ce>=0x0;_0x3e03ce--){const _0x5f398d=localStorage['key'](_0x3e03ce);if(_0x5f398d&&_0x5f398d['startsWith'](this['CACHE_KEY_PREFIX']))try{const _0x5dd59c=JSON['parse'](localStorage['getItem'](_0x5f398d));_0x661a1f-_0x5dd59c['timestamp']>this[_0x4efdd9(0xf6)]&&(localStorage['removeItem'](_0x5f398d),_0x3d020d++);}catch(_0x2933af){localStorage['removeItem'](_0x5f398d),_0x3d020d++;}}}['clearOldCache'](){const _0x1f5337=a50_0x2856cd,_0x3c987d=[];for(let _0x1b2851=0x0;_0x1b2851<localStorage['length'];_0x1b2851++){const _0x476dd4=localStorage['key'](_0x1b2851);if(_0x476dd4&&_0x476dd4[_0x1f5337(0xe1)](this['CACHE_KEY_PREFIX']))try{const _0x1c7004=JSON['parse'](localStorage['getItem'](_0x476dd4));_0x3c987d['push']({'key':_0x476dd4,'timestamp':_0x1c7004['timestamp']});}catch(_0x43fce2){localStorage['removeItem'](_0x476dd4);}}_0x3c987d['sort']((_0x66744f,_0x45a9b4)=>_0x66744f['timestamp']-_0x45a9b4['timestamp']);const _0x356ebd=Math['floor'](_0x3c987d[_0x1f5337(0xdb)]/0x2);for(let _0x35c2f4=0x0;_0x35c2f4<_0x356ebd;_0x35c2f4++){localStorage['removeItem'](_0x3c987d[_0x35c2f4][_0x1f5337(0x10a)]);}}['getCacheStats'](){const _0xe01fa3=a50_0x2856cd;return{'memoryEntries':this[_0xe01fa3(0x10b)]['size'],'lastCleanup':new Date(this['lastCleanup'])['toLocaleTimeString']()};}}class MatchCacheManager{constructor(){const _0x59fc06=a50_0x2856cd;this[_0x59fc06(0xbc)]=new Map(),this['CACHE_DURATION']=0xf*0x3c*0x3e8,this[_0x59fc06(0xde)]=Date['now']();}['getCachedMatches'](_0x26484d,_0x31d5b2){const _0x2074fd=a50_0x2856cd;this[_0x2074fd(0xd0)]();const _0x347858=_0x26484d+'_'+_0x31d5b2,_0x179ae7=this['matchCache']['get'](_0x347858);if(_0x179ae7&&Date['now']()-_0x179ae7['timestamp']<this['CACHE_DURATION'])return console['log']('üéØ\x20Cache\x20hit\x20(matches)\x20for\x20'+_0x26484d),_0x179ae7['matches'];return _0x179ae7&&this['matchCache']['delete'](_0x347858),null;}['setCachedMatches'](_0xed548a,_0x4e9415,_0x3c9335){const _0x32e768=a50_0x2856cd,_0x4545b4=_0xed548a+'_'+_0x4e9415;this['matchCache']['set'](_0x4545b4,{'matches':_0x3c9335,'timestamp':Date[_0x32e768(0xe4)]()});}['autoCleanup'](){const _0x3e529b=a50_0x2856cd,_0x51280e=Date['now']();if(_0x51280e-this['lastCleanup']>0x5*0x3c*0x3e8){let _0x2a8464=0x0;for(const [_0x2e1d38,_0x5120b3]of this['matchCache'][_0x3e529b(0xd2)]()){_0x51280e-_0x5120b3['timestamp']>this['CACHE_DURATION']&&(this['matchCache']['delete'](_0x2e1d38),_0x2a8464++);}this[_0x3e529b(0xde)]=_0x51280e;}}['getCacheStats'](){const _0x4a1e9c=a50_0x2856cd;return{'entries':this['matchCache'][_0x4a1e9c(0xb9)],'lastCleanup':new Date(this['lastCleanup'])[_0x4a1e9c(0xe2)]()};}}class RibbonSystem{constructor(){const _0x49bcc9=a50_0x2856cd;this['pendingEvaluations']=new Map(),this['batchTimer']=null,this[_0x49bcc9(0xea)]=0x32,this['playerDataCache']=new Map();}async['bulkLoadPlayerData'](_0x8e2bf,_0xb0630f){const _0x297aea=a50_0x2856cd,_0x22cec1=_0xb0630f==='D1'?'players':_0xb0630f==='D2'?'playersD2':_0x297aea(0x107),_0x166cf3=collection(db,_0x22cec1),_0x379e64=await getDocs(_0x166cf3),_0x264ed0=new Map();return _0x379e64['forEach'](_0x1b6361=>{const _0x145e0e=_0x297aea,_0x56ccca=_0x1b6361['data']();_0x56ccca['username']&&(_0x56ccca['eloRating']!==undefined&&(_0x56ccca['rating']=_0x56ccca[_0x145e0e(0xf9)]),_0x264ed0['set'](_0x56ccca['username'],_0x56ccca));}),console['log']('üìä\x20Bulk\x20loaded\x20'+_0x264ed0['size']+'\x20players\x20from\x20'+_0x22cec1),_0x264ed0;}async['evaluateAllRibbonsFromData'](_0x16e0e5,_0x5ca57b,_0x3eb540,_0x56f27b){const _0x12e9ac=a50_0x2856cd,_0x2a4294={},_0x2dc1a6=_0x5ca57b['username'],_0x4fb0d7={'totalMatches':_0x16e0e5['length'],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0,'dominatedRanks':new Set()},_0xd2337e=new Set();_0x16e0e5[_0x12e9ac(0xa6)](_0xfd0939=>{const _0x4e569f=_0x12e9ac,_0x2d03ed=_0xfd0939[_0x4e569f(0xd7)]===_0x2dc1a6,_0x3e28ed=_0x2d03ed?_0xfd0939['loserUsername']:_0xfd0939['winnerUsername'];if(_0x3e28ed)_0xd2337e['add'](_0x3e28ed);}),console['log']('üöÄ\x20Bulk\x20loading\x20'+_0xd2337e['size']+'\x20player\x20records\x20for\x20underdog\x20calculations...');const _0x3febda=await this['bulkLoadPlayerData']([..._0xd2337e,_0x2dc1a6],_0x56f27b),_0xc4b958=_0x3febda[_0x12e9ac(0xa4)](_0x2dc1a6);!_0xc4b958&&console['log']('‚ö†Ô∏è\x20No\x20current\x20player\x20data\x20found\x20for\x20'+_0x2dc1a6);const _0x503a9b={0x0:new Set(),0x1:new Set(),0x2:new Set(),0x3:new Set(),0x4:new Set()};_0x16e0e5['forEach'](_0x274d9f=>{const _0x117f74=_0x12e9ac,_0x2710de=_0x274d9f['winnerUsername']===_0x2dc1a6,_0x382545=_0x2710de?_0x274d9f['loserUsername']:_0x274d9f['winnerUsername'];if(_0x2710de){_0x4fb0d7['wins']++;_0x274d9f['subgameType']==='Rematch'&&_0x4fb0d7['rematchWins']++;this[_0x117f74(0x106)](_0x274d9f,_0x2dc1a6,_0xc4b958,_0x3febda)&&_0x4fb0d7['underdogWins']++;const _0x1b866a=_0x3febda['get'](_0x382545);if(_0x1b866a){const _0x3c1705=_0x1b866a['eloRating']||0x0,_0x5d908c=getPlayerRankTier(_0x3c1705);_0x503a9b[_0x5d908c]['add'](_0x382545);}}_0x274d9f['subgameType']&&_0x274d9f['subgameType']!=='Standard'&&_0x4fb0d7[_0x117f74(0x11c)]++,_0x274d9f['mapPlayed']&&_0x4fb0d7[_0x117f74(0x116)]['add'](_0x274d9f['mapPlayed']),_0x382545&&_0x4fb0d7['uniqueOpponents']['add'](_0x382545);}),Object['keys'](_0x503a9b)['forEach'](_0x5d2a5a=>{_0x503a9b[_0x5d2a5a]['size']>=0x5&&_0x4fb0d7['dominatedRanks']['add'](parseInt(_0x5d2a5a));}),console['log']('üéØ\x20Found\x20'+_0x4fb0d7['underdogWins']+'\x20underdog\x20victories\x20for\x20'+_0x2dc1a6),console['log']('üëë\x20Dominated\x20'+_0x4fb0d7['dominatedRanks']['size']+'\x20ranks:\x20['+Array['from'](_0x4fb0d7[_0x12e9ac(0x10c)])['map'](_0x18d4ec=>getRankTierName(_0x18d4ec))['join'](',\x20')+']');const _0x48f634=_0x4fb0d7[_0x12e9ac(0xf4)]>0x0?_0x4fb0d7['wins']/_0x4fb0d7['totalMatches']*0x64:0x0,_0x595926=[['Overachiever\x20Ribbon',this['evaluateOverachieverRibbonFromCount'](_0x4fb0d7['totalMatches'],_0x3eb540)],['Rematch\x20Ribbon',this[_0x12e9ac(0xae)](_0x4fb0d7['rematchWins'],_0x3eb540)],['Sub-Gamer\x20Ribbon',this['evaluateSubGamerRibbonFromCount'](_0x4fb0d7[_0x12e9ac(0x11c)],_0x3eb540)],[_0x12e9ac(0xed),this['evaluateExplorerRibbonFromCount'](_0x4fb0d7['uniqueMaps']['size'],_0x3eb540)],[_0x12e9ac(0xca),this['evaluateSocialiteRibbonFromCount'](_0x4fb0d7[_0x12e9ac(0xd1)]['size'],_0x3eb540)],[_0x12e9ac(0xf5),this['evaluateBrickWallRibbonFromWinRate'](_0x48f634,_0x3eb540,_0x4fb0d7[_0x12e9ac(0xf4)])],['Underdog\x20Ribbon',this[_0x12e9ac(0x110)](_0x4fb0d7[_0x12e9ac(0x118)],_0x3eb540)],['Domination\x20Ribbon',this['evaluateDominationRibbonFromRanks'](_0x4fb0d7[_0x12e9ac(0x10c)]['size'],_0x3eb540)]];_0x595926[_0x12e9ac(0xa6)](([_0x196bec,_0x3f4cba])=>{_0x3f4cba&&(_0x2a4294[_0x196bec]=_0x3f4cba);});const _0x1b5f8c=Object['keys'](_0x3eb540)['length']+Object[_0x12e9ac(0xd4)](_0x2a4294)['length'],_0x70c05e=this[_0x12e9ac(0x11d)](_0x1b5f8c,_0x3eb540);return _0x70c05e&&(_0x2a4294['Collector\x20Ribbon']=_0x70c05e),_0x2a4294;}[a50_0x2856cd(0xcc)](_0x366180,_0x50f3e1){const _0x12a307=a50_0x2856cd;if(_0x366180===0x0)return null;const _0x1bcab2=_0x50f3e1['Domination\x20Ribbon']||{'level':0x0};if(_0x366180>_0x1bcab2['level']){const _0x2b4817=[];for(let _0x55f935=0x0;_0x55f935<_0x366180;_0x55f935++){_0x2b4817[_0x12a307(0xc6)](getRankTierName(_0x55f935));}return console['log']('üëë\x20Domination\x20Ribbon\x20awarded:\x20Level\x20'+_0x1bcab2[_0x12a307(0xa9)]+'\x20‚Üí\x20'+_0x366180+'\x20(Dominated:\x20'+_0x2b4817['join'](',\x20')+')'),{'level':_0x366180,'awardedAt':new Date(),'dominatedRanks':_0x2b4817};}return null;}async['checkTopRankStatus'](_0x15cdeb,_0x59c2de){const _0x3f5619=a50_0x2856cd;try{const _0x1c0421=_0x59c2de==='D1'?'players':_0x59c2de==='D2'?'playersD2':_0x3f5619(0x107),_0x216e84=await this['getPlayerDataCached'](_0x15cdeb,_0x59c2de);if(!_0x216e84||_0x216e84['eloRating']===undefined)return console['log']('‚ùå\x20No\x20ELO\x20rating\x20data\x20for\x20'+_0x15cdeb),null;const _0x5a4220=_0x216e84['eloRating'],_0x3cc673=getPlayerRankTier(_0x5a4220),_0x1c4381=getRankTierName(_0x3cc673);if(_0x1c4381==='Unranked')return console['log']('‚ùå\x20'+_0x15cdeb+_0x3f5619(0xbb)+_0x5a4220+'\x20ELO)'),null;console['log']('üîç\x20Checking\x20Top\x20'+_0x1c4381+'\x20status\x20for\x20'+_0x15cdeb+'\x20('+_0x5a4220+'\x20ELO)');const _0x59225b=collection(db,_0x1c0421),_0x4ca698=await getDocs(_0x59225b);let _0x4f891b=null,_0x2ab2b5=-0x1,_0x14a597=0x0;_0x4ca698['forEach'](_0x247cfa=>{const _0x456629=_0x3f5619,_0x39ac10=_0x247cfa['data'](),_0x42800b=_0x39ac10[_0x456629(0xf9)]||0x0,_0x2c01a8=getPlayerRankTier(_0x42800b);_0x2c01a8===_0x3cc673&&(_0x14a597++,_0x42800b>_0x2ab2b5&&(_0x2ab2b5=_0x42800b,_0x4f891b=_0x39ac10['username']));});const _0x3ce392=_0x4f891b===_0x15cdeb;return console['log']('üìä\x20'+_0x1c4381+'\x20Tier:\x20'+_0x14a597+'\x20players,\x20Top:\x20'+_0x4f891b+'\x20('+_0x2ab2b5+_0x3f5619(0xe9)+_0x15cdeb+'\x20is\x20#1:\x20'+_0x3ce392),_0x3ce392?_0x1c4381:null;}catch(_0x457e4c){return console['error']('Error\x20checking\x20top\x20rank\x20status:',_0x457e4c),null;}}async[a50_0x2856cd(0xf3)](_0x3796f5,_0x2ad0a4,_0x231a42){const _0x4dd014=a50_0x2856cd,_0x41d356=await this['checkTopRankStatus'](_0x3796f5,_0x2ad0a4),_0xe64b42={};if(_0x41d356){const _0x3d7c50=_0x4dd014(0xc9)+_0x41d356+'\x20Pilot';if(RIBBON_DEFINITIONS[_0x3d7c50]){const _0x56e593=_0x231a42[_0x3d7c50];!_0x56e593?(console['log']('üëë\x20NEW\x20Top\x20Rank\x20Achievement:\x20'+_0x3796f5+_0x4dd014(0xaa)+_0x3d7c50+'!'),_0xe64b42[_0x3d7c50]={'level':0x1,'awardedAt':new Date(),'rank':_0x41d356,'achievedAt':new Date()}):console['log']('‚úÖ\x20'+_0x3796f5+'\x20already\x20has\x20'+_0x3d7c50+'\x20-\x20No\x20changes\x20needed');}}return Object[_0x4dd014(0xd4)](_0x231a42)['forEach'](_0xf2cb35=>{const _0x4538c5=_0x4dd014;_0xf2cb35['startsWith']('Top\x20')&&_0xf2cb35[_0x4538c5(0xec)]('\x20Pilot')&&(!_0xe64b42[_0xf2cb35]&&console['log'](_0x4538c5(0xb8)+_0xf2cb35));}),_0xe64b42;}async[a50_0x2856cd(0xc8)](_0x2e0a89,_0x28058b='D1'){const _0x5a5691=a50_0x2856cd;try{const _0x392d38=ribbonCache[_0x5a5691(0xf0)](_0x2e0a89,_0x28058b);if(_0x392d38){const _0x1c14b8=await this[_0x5a5691(0xf3)](_0x2e0a89,_0x28058b,_0x392d38);if(Object[_0x5a5691(0xd4)](_0x1c14b8)['length']>0x0){console[_0x5a5691(0xf2)](_0x5a5691(0x108)+_0x2e0a89),await this['savePlayerRibbonsOptimized'](_0x2e0a89,_0x1c14b8,_0x28058b);const _0x4a44a3={..._0x392d38,..._0x1c14b8};return ribbonCache[_0x5a5691(0x10d)](_0x2e0a89,_0x28058b,_0x4a44a3,0x0),_0x4a44a3;}return _0x392d38;}const [_0x5c9c15,_0x4e9bba]=await Promise['all']([this[_0x5a5691(0xb7)](_0x2e0a89,_0x28058b),this['getPlayerRibbonsCached'](_0x2e0a89,_0x28058b)]);if(!_0x5c9c15)return{};const _0x97ddc3=_0x5c9c15[_0x5a5691(0xcf)]||0x0,_0xf6b9bf=await this['evaluateTopRankRibbon'](_0x2e0a89,_0x28058b,_0x4e9bba);if(!ribbonCache['shouldRefreshCache'](_0x2e0a89,_0x28058b,_0x97ddc3)){if(Object['keys'](_0xf6b9bf)[_0x5a5691(0xdb)]>0x0){await this['savePlayerRibbonsOptimized'](_0x2e0a89,_0xf6b9bf,_0x28058b);const _0x273a07={..._0x4e9bba,..._0xf6b9bf};return ribbonCache['setCachedData'](_0x2e0a89,_0x28058b,_0x273a07,_0x97ddc3),_0x273a07;}return ribbonCache['setCachedData'](_0x2e0a89,_0x28058b,_0x4e9bba,_0x97ddc3),_0x4e9bba;}const _0x33c5a5=await this['getPlayerMatchesOptimized'](_0x2e0a89,_0x28058b),_0x396674=await this['evaluateAllRibbonsFromData'](_0x33c5a5,_0x5c9c15,_0x4e9bba,_0x28058b);Object['assign'](_0x396674,_0xf6b9bf);Object['keys'](_0x396674)['length']>0x0&&(console['log']('üíæ\x20Saving\x20'+Object[_0x5a5691(0xd4)](_0x396674)['length']+_0x5a5691(0x100)+_0x2e0a89),await this[_0x5a5691(0xf8)](_0x2e0a89,_0x396674,_0x28058b));const _0x3204cd={..._0x4e9bba,..._0x396674};return ribbonCache['setCachedData'](_0x2e0a89,_0x28058b,_0x3204cd,_0x33c5a5['length']),_0x3204cd;}catch(_0x58cb28){return console[_0x5a5691(0x11e)]('‚ùå\x20Error\x20in\x20ribbon\x20evaluation:',_0x58cb28),{};}}async['isUnderdogVictory'](_0x471102,_0x13043a,_0x29dc1c){const _0x519184=a50_0x2856cd,_0x9b71b6=_0x471102[_0x519184(0xd7)]===_0x13043a;if(!_0x9b71b6)return![];const _0x4b778d=_0x471102['loserUsername'],[_0x2d0e90,_0x4b5ffe]=await Promise['all']([this['getPlayerDataCached'](_0x13043a,_0x29dc1c),this[_0x519184(0xb7)](_0x4b778d,_0x29dc1c)]);if(!_0x2d0e90||!_0x4b5ffe)return console[_0x519184(0xf2)]('‚ö†Ô∏è\x20Missing\x20player\x20data\x20for\x20'+_0x13043a+'\x20or\x20'+_0x4b778d),![];const _0xff5f21=_0x2d0e90['eloRating']||0x0,_0x15e76f=_0x4b5ffe['eloRating']||0x0,_0x3b94ce=getPlayerRankTier(_0xff5f21),_0x5c587b=getPlayerRankTier(_0x15e76f);console[_0x519184(0xf2)]('üîç\x20Checking\x20underdog:\x20Winner('+_0x13043a+'):\x20'+_0xff5f21+_0x519184(0x105)+getRankTierName(_0x3b94ce)+_0x519184(0xb2)+_0x4b778d+'):\x20'+_0x15e76f+_0x519184(0x105)+getRankTierName(_0x5c587b)+')');if(_0x5c587b>_0x3b94ce)return console['log'](_0x519184(0xfe)+getRankTierName(_0x3b94ce)+_0x519184(0xa5)+getRankTierName(_0x5c587b)+'!'),!![];return console[_0x519184(0xf2)]('‚ùå\x20Not\x20underdog:\x20'+getRankTierName(_0x3b94ce)+'\x20vs\x20'+getRankTierName(_0x5c587b)),![];}[a50_0x2856cd(0x106)](_0x337549,_0x50be5c,_0x6e159c,_0x582b52){const _0x595753=a50_0x2856cd,_0x170517=_0x337549['winnerUsername']===_0x50be5c;if(!_0x170517)return![];const _0x496785=_0x337549['loserUsername'],_0x1888a6=_0x582b52['get'](_0x496785);if(!_0x6e159c||!_0x1888a6)return![];const _0x1b2b10=_0x6e159c['eloRating']||0x0,_0x4cf2ca=_0x1888a6['eloRating']||0x0,_0x34425e=getPlayerRankTier(_0x1b2b10),_0xdc336c=getPlayerRankTier(_0x4cf2ca);if(_0xdc336c>_0x34425e)return console['log'](_0x595753(0xcb)+getRankTierName(_0x34425e)+'('+_0x1b2b10+')\x20beat\x20'+getRankTierName(_0xdc336c)+'('+_0x4cf2ca+')'),!![];return![];}async['evaluateAllRibbonsFromData'](_0xa435ba,_0x19194b,_0x223bec,_0x390676){const _0x5c38d0=a50_0x2856cd,_0x148ab1={},_0x56be44=_0x19194b['username'],_0x445fca={'totalMatches':_0xa435ba['length'],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0},_0x303efb=new Set();_0xa435ba['forEach'](_0x79359e=>{const _0x27c0c2=a50_0x4005,_0x3485e4=_0x79359e[_0x27c0c2(0xd7)]===_0x56be44,_0x157623=_0x3485e4?_0x79359e[_0x27c0c2(0xce)]:_0x79359e['winnerUsername'];if(_0x157623)_0x303efb['add'](_0x157623);}),console[_0x5c38d0(0xf2)]('üöÄ\x20Bulk\x20loading\x20'+_0x303efb['size']+'\x20player\x20records\x20for\x20underdog\x20calculations...');const _0x37670c=await this['bulkLoadPlayerData']([..._0x303efb,_0x56be44],_0x390676),_0x612a72=_0x37670c[_0x5c38d0(0xa4)](_0x56be44);!_0x612a72&&console['log']('‚ö†Ô∏è\x20No\x20current\x20player\x20data\x20found\x20for\x20'+_0x56be44);_0xa435ba['forEach'](_0x129c3f=>{const _0x2ea55b=_0x5c38d0,_0x3f9333=_0x129c3f['winnerUsername']===_0x56be44,_0x18ffd5=_0x3f9333?_0x129c3f[_0x2ea55b(0xce)]:_0x129c3f['winnerUsername'];_0x3f9333&&(_0x445fca['wins']++,_0x129c3f['subgameType']==='Rematch'&&_0x445fca[_0x2ea55b(0xeb)]++,this['isUnderdogVictoryFast'](_0x129c3f,_0x56be44,_0x612a72,_0x37670c)&&_0x445fca[_0x2ea55b(0x118)]++),_0x129c3f['subgameType']&&_0x129c3f['subgameType']!=='Standard'&&_0x445fca['subgameMatches']++,_0x129c3f['mapPlayed']&&_0x445fca['uniqueMaps']['add'](_0x129c3f['mapPlayed']),_0x18ffd5&&_0x445fca['uniqueOpponents'][_0x2ea55b(0xdd)](_0x18ffd5);}),console['log'](_0x5c38d0(0xc3)+_0x445fca['underdogWins']+'\x20underdog\x20victories\x20for\x20'+_0x56be44);const _0x23a223=_0x445fca['totalMatches']>0x0?_0x445fca[_0x5c38d0(0xb5)]/_0x445fca['totalMatches']*0x64:0x0,_0x1ac3a0=[[_0x5c38d0(0xd5),this['evaluateOverachieverRibbonFromCount'](_0x445fca['totalMatches'],_0x223bec)],[_0x5c38d0(0xc5),this[_0x5c38d0(0xae)](_0x445fca['rematchWins'],_0x223bec)],[_0x5c38d0(0x119),this['evaluateSubGamerRibbonFromCount'](_0x445fca['subgameMatches'],_0x223bec)],[_0x5c38d0(0xed),this['evaluateExplorerRibbonFromCount'](_0x445fca[_0x5c38d0(0x116)]['size'],_0x223bec)],['Socialite\x20Ribbon',this['evaluateSocialiteRibbonFromCount'](_0x445fca['uniqueOpponents']['size'],_0x223bec)],['Brick\x20Wall',this['evaluateBrickWallRibbonFromWinRate'](_0x23a223,_0x223bec,_0x445fca['totalMatches'])],['Underdog\x20Ribbon',this['evaluateUnderdogRibbonFromCount'](_0x445fca['underdogWins'],_0x223bec)]];_0x1ac3a0[_0x5c38d0(0xa6)](([_0x3f8298,_0x358a26])=>{_0x358a26&&(_0x148ab1[_0x3f8298]=_0x358a26);});const _0x1cc116=Object['keys'](_0x223bec)['length']+Object['keys'](_0x148ab1)['length'],_0x2c41c9=this['evaluateCollectorRibbonFromCount'](_0x1cc116,_0x223bec);return _0x2c41c9&&(_0x148ab1['Collector\x20Ribbon']=_0x2c41c9),_0x148ab1;}async['getPlayerMatchesOptimized'](_0x35af56,_0x5af2d4){const _0x1919ba=a50_0x2856cd,_0x3c545a=matchCache[_0x1919ba(0x111)](_0x35af56,_0x5af2d4);if(_0x3c545a)return _0x3c545a;try{const _0x4e8308=_0x5af2d4==='D1'?'approvedMatches':_0x5af2d4==='D2'?_0x1919ba(0xe8):'approvedMatchesD3',_0x14f02e=collection(db,_0x4e8308),[_0xc7a06d,_0x3fd01a]=await Promise['all']([getDocs(query(_0x14f02e,where(_0x1919ba(0xd7),'==',_0x35af56))),getDocs(query(_0x14f02e,where('loserUsername','==',_0x35af56)))]),_0x40ae24=new Set(),_0x289444=[];return _0xc7a06d['forEach'](_0x1db062=>{const _0x273aac=_0x1919ba;if(!_0x40ae24[_0x273aac(0xa7)](_0x1db062['id'])){_0x40ae24['add'](_0x1db062['id']);const _0x239e14={'id':_0x1db062['id'],..._0x1db062[_0x273aac(0x109)]()};if(!_0x239e14['winnerRating'])_0x239e14[_0x273aac(0xb6)]=0x0;if(!_0x239e14[_0x273aac(0xc1)])_0x239e14['loserRating']=0x0;_0x289444[_0x273aac(0xc6)](_0x239e14);}}),_0x3fd01a['forEach'](_0x38b6af=>{const _0x12ad3b=_0x1919ba;if(!_0x40ae24['has'](_0x38b6af['id'])){_0x40ae24['add'](_0x38b6af['id']);const _0x3caf6a={'id':_0x38b6af['id'],..._0x38b6af['data']()};if(!_0x3caf6a[_0x12ad3b(0xb6)])_0x3caf6a['winnerRating']=0x0;if(!_0x3caf6a['loserRating'])_0x3caf6a['loserRating']=0x0;_0x289444[_0x12ad3b(0xc6)](_0x3caf6a);}}),matchCache['setCachedMatches'](_0x35af56,_0x5af2d4,_0x289444),_0x289444;}catch(_0x22db10){return console['error']('‚ùå\x20Error\x20fetching\x20matches:',_0x22db10),[];}}async[a50_0x2856cd(0xb7)](_0x56d56f,_0x274194){const _0x4bf9f4=a50_0x2856cd;try{const _0x55de0a=_0x274194==='D1'?_0x4bf9f4(0xdf):_0x274194==='D2'?_0x4bf9f4(0xe6):'playersD3',_0x31e408=collection(db,_0x55de0a),_0x595512=query(_0x31e408,where(_0x4bf9f4(0x115),'==',_0x56d56f),limit(0x1)),_0x5f3b83=await getDocs(_0x595512);if(_0x5f3b83['empty'])return console['log']('‚ùå\x20No\x20player\x20data\x20found\x20for\x20'+_0x56d56f+'\x20in\x20'+_0x55de0a),null;const _0xa7a86d=_0x5f3b83['docs'][0x0]['data']();return _0xa7a86d['eloRating']!==undefined&&(_0xa7a86d['rating']=_0xa7a86d['eloRating']),console['log'](_0x4bf9f4(0xa3)+_0x56d56f+':\x20ELO\x20'+_0xa7a86d['eloRating']+',\x20Position\x20'+_0xa7a86d[_0x4bf9f4(0xc0)]),_0xa7a86d;}catch(_0x4e5319){return console['error'](_0x4bf9f4(0xff)+_0x56d56f+':',_0x4e5319),null;}}async['getPlayerRibbonsCached'](_0x1b7bd5,_0x48b210){const _0x4adf49=a50_0x2856cd;try{const _0x35e6ca='playerRibbons'+(_0x48b210==='D1'?'':_0x48b210),_0x24039f=doc(db,_0x35e6ca,_0x1b7bd5),_0x15f47f=await getDoc(_0x24039f);return _0x15f47f['exists']()?_0x15f47f[_0x4adf49(0x109)]()[_0x4adf49(0xdc)]||{}:{};}catch(_0x2e8743){return console['error']('Error\x20getting\x20player\x20ribbons:',_0x2e8743),{};}}async['savePlayerRibbonsOptimized'](_0x4cc84f,_0x45548f,_0x101bf5){const _0x5e2a79=a50_0x2856cd;try{const _0x669bef='playerRibbons'+(_0x101bf5==='D1'?'':_0x101bf5),_0x3509a6=doc(db,_0x669bef,_0x4cc84f),_0x3aabc9=await this['getPlayerRibbonsCached'](_0x4cc84f,_0x101bf5),_0x4ea011={..._0x3aabc9,..._0x45548f};await setDoc(_0x3509a6,{'username':_0x4cc84f,'ladder':_0x101bf5,'ribbons':_0x4ea011,'lastUpdated':new Date()},{'merge':!![]});}catch(_0x3f705a){console['error'](_0x5e2a79(0xd3),_0x3f705a);}}['evaluateOverachieverRibbonFromCount'](_0x4fe99f,_0x5a5b9f){const _0x41f4b5=a50_0x2856cd,_0x35ee24=_0x5a5b9f[_0x41f4b5(0xd5)]||{'level':0x0},_0x6e9b8e=RIBBON_DEFINITIONS[_0x41f4b5(0xd5)]['levels'],_0x506439=_0x6e9b8e[_0x41f4b5(0xe0)](_0x1ed2a6=>_0x4fe99f<_0x1ed2a6),_0x3feec3=_0x506439===-0x1?_0x6e9b8e['length']:_0x506439;if(_0x3feec3>_0x35ee24['level'])return{'level':_0x3feec3,'awardedAt':new Date()};return null;}[a50_0x2856cd(0xae)](_0x59c647,_0x424284){if(_0x59c647===0x0)return null;const _0x5e7c9d=_0x424284['Rematch\x20Ribbon']||{'level':0x0};if(_0x59c647>_0x5e7c9d['level'])return{'level':_0x59c647,'awardedAt':new Date()};return null;}['evaluateSubGamerRibbonFromCount'](_0x3d1397,_0x2717d2){const _0x574706=a50_0x2856cd,_0x2088f4=_0x2717d2[_0x574706(0x119)]||{'level':0x0},_0x210812=RIBBON_DEFINITIONS['Sub-Gamer\x20Ribbon'][_0x574706(0xda)],_0x171193=_0x210812['findIndex'](_0x24c133=>_0x3d1397<_0x24c133),_0x5f4d9f=_0x171193===-0x1?_0x210812['length']:_0x171193;if(_0x5f4d9f>_0x2088f4[_0x574706(0xa9)])return{'level':_0x5f4d9f,'awardedAt':new Date()};return null;}['evaluateExplorerRibbonFromCount'](_0x1ccd21,_0x179f90){const _0x5922eb=_0x179f90['Explorer\x20Ribbon']||{'level':0x0},_0x4771b8=RIBBON_DEFINITIONS['Explorer\x20Ribbon']['levels'],_0x241e3f=_0x4771b8['findIndex'](_0xa84bac=>_0x1ccd21<_0xa84bac),_0x848831=_0x241e3f===-0x1?_0x4771b8['length']:_0x241e3f;if(_0x848831>_0x5922eb['level'])return{'level':_0x848831,'awardedAt':new Date()};return null;}['evaluateSocialiteRibbonFromCount'](_0x3352c8,_0x3524e5){const _0x133606=a50_0x2856cd,_0x58c280=_0x3524e5['Socialite\x20Ribbon']||{'level':0x0},_0x46e029=RIBBON_DEFINITIONS[_0x133606(0xca)]['levels'],_0x24c928=_0x46e029['findIndex'](_0x55ba2c=>_0x3352c8<_0x55ba2c),_0x1c9638=_0x24c928===-0x1?_0x46e029['length']:_0x24c928;if(_0x1c9638>_0x58c280['level'])return{'level':_0x1c9638,'awardedAt':new Date()};return null;}['evaluateBrickWallRibbonFromWinRate'](_0x1c5889,_0x214b60,_0x15ab68){const _0x133661=a50_0x2856cd;if(_0x15ab68<0x32)return console['log']('‚ö†Ô∏è\x20Brick\x20Wall\x20ribbon\x20requires\x2050+\x20matches\x20(player\x20has\x20'+_0x15ab68+')'),null;const _0x5bf517=_0x214b60[_0x133661(0xf5)]||{'level':0x0},_0x29b37f=RIBBON_DEFINITIONS[_0x133661(0xf5)]['levels'],_0xebca44=_0x29b37f['findIndex'](_0x3f1aed=>_0x1c5889<_0x3f1aed),_0x15c215=_0xebca44===-0x1?_0x29b37f['length']:_0xebca44;if(_0x15c215>_0x5bf517[_0x133661(0xa9)])return console[_0x133661(0xf2)](_0x133661(0xfc)+_0x1c5889[_0x133661(0x112)](0x1)+_0x133661(0xb3)+_0x15ab68+_0x133661(0xf7)),{'level':_0x15c215,'awardedAt':new Date(),'winRate':_0x1c5889,'matchesPlayed':_0x15ab68};return null;}[a50_0x2856cd(0x11d)](_0x396133,_0xf36137){const _0x39d0e6=a50_0x2856cd,_0x4054e7=_0xf36137[_0x39d0e6(0x11a)]||{'level':0x0},_0xc9dbdc=RIBBON_DEFINITIONS['Collector\x20Ribbon']['levels'],_0x21cc73=_0xc9dbdc['findIndex'](_0x4699b7=>_0x396133<_0x4699b7),_0x4992b5=_0x21cc73===-0x1?_0xc9dbdc['length']:_0x21cc73;if(_0x4992b5>_0x4054e7['level'])return{'level':_0x4992b5,'awardedAt':new Date()};return null;}['evaluateUnderdogRibbonFromCount'](_0xfb8a00,_0x130950){const _0x4aff1c=a50_0x2856cd;if(_0xfb8a00===0x0)return null;const _0x3177b6=_0x130950[_0x4aff1c(0x103)]||{'level':0x0},_0x213eb8=RIBBON_DEFINITIONS['Underdog\x20Ribbon'][_0x4aff1c(0xda)];let _0x418c17=0x0;for(let _0x5dcb05=0x0;_0x5dcb05<_0x213eb8['length'];_0x5dcb05++){if(_0xfb8a00>=_0x213eb8[_0x5dcb05])_0x418c17=_0x5dcb05+0x1;else break;}if(_0x418c17>_0x3177b6[_0x4aff1c(0xa9)])return console['log']('üèÜ\x20Underdog\x20Ribbon\x20upgrade:\x20Level\x20'+_0x3177b6['level']+'\x20‚Üí\x20'+_0x418c17+'\x20('+_0xfb8a00+'\x20underdog\x20wins)'),{'level':_0x418c17,'awardedAt':new Date()};return null;}}function getPlayerRankTier(_0x5ae636){if(_0x5ae636===undefined||_0x5ae636===null)return 0x0;const _0x5e1a1d=Number(_0x5ae636);if(isNaN(_0x5e1a1d))return 0x0;if(_0x5e1a1d>=0x7d0)return 0x4;if(_0x5e1a1d>=0x708)return 0x3;if(_0x5e1a1d>=0x640)return 0x2;if(_0x5e1a1d>=0x578)return 0x1;return 0x0;}function getRankTierName(_0x266e48){const _0x162928=a50_0x2856cd,_0x3aa3ef=['Unranked','Bronze',_0x162928(0xbd),_0x162928(0xee),'Emerald'];return _0x3aa3ef[_0x266e48]||'Unranked';}const ribbonSystem=new RibbonSystem(),ribbonCache=new RibbonCacheManager(),matchCache=new MatchCacheManager();typeof window!=='undefined'&&(window[a50_0x2856cd(0xe5)]=()=>{return{'ribbon':ribbonCache['getCacheStats'](),'match':matchCache['getCacheStats']()};});export async function evaluatePlayerRibbons(_0x56a42a,_0x25e070='D1'){return await ribbonSystem['evaluateAllRibbonsForPlayerOptimized'](_0x56a42a,_0x25e070);}export function getRibbonHTML(_0xce9839,_0x2275be){const _0x276d75=a50_0x2856cd,_0x5dbb7b=RIBBON_DEFINITIONS[_0xce9839];if(!_0x5dbb7b)return'';const _0x27211a=_0x2275be['level']||0x1,_0xd4d8f4=_0xce9839['replace'](_0x276d75(0x114),'')[_0x276d75(0xf1)]('\x20Badge',''),_0x22c4e7=_0x29729d=>{const _0x104c53=_0x276d75;if(_0x29729d<=0x1)return _0x104c53(0xfb);if(_0x29729d<=0x2)return'level-2';if(_0x29729d<=0x3)return'level-3';if(_0x29729d<=0x4)return'level-4';return _0x104c53(0x117);},_0x594996=_0x19da48=>{const _0x1d4875=_0x276d75;if(_0x19da48<=0x1)return'';const _0xd2ae1f=[];if(_0x19da48>=0x2&&_0x19da48<=0x4){const _0x561d70=Math['min'](_0x19da48-0x1,0x3);for(let _0x2a5af6=0x0;_0x2a5af6<_0x561d70;_0x2a5af6++){_0xd2ae1f['push'](_0x1d4875(0xad));}}if(_0x19da48>=0x5&&_0x19da48<=0x7){_0xd2ae1f['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20silver-star\x22></i>');const _0x2dbd6b=Math[_0x1d4875(0xfd)](_0x19da48-0x5,0x2);for(let _0x3380ad=0x0;_0x3380ad<_0x2dbd6b;_0x3380ad++){_0xd2ae1f['push'](_0x1d4875(0xad));}}return _0x19da48>=0x8&&_0xd2ae1f['push'](_0x1d4875(0xd8)),_0xd2ae1f['length']>0x0?_0x1d4875(0xba)+_0xd2ae1f['join']('')+'</div>':'';},_0x56f1b2=_0x5dbb7b[_0x276d75(0xaf)]+_0x276d75(0x104)+_0x27211a;return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22military-ribbon\x22\x20data-tooltip=\x22'+_0x56f1b2+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-image-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22'+_0x5dbb7b[_0x276d75(0x10f)]+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22'+_0xce9839+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22ribbon-image\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27;\x20this.nextElementSibling.style.display=\x27block\x27;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-fallback\x22\x20style=\x22display:\x20none;\x20background:\x20'+_0x5dbb7b['color']+';\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xd4d8f4['substring'](0x0,0x6)+_0x276d75(0xc2)+_0x594996(_0x27211a)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-name\x22>'+_0xd4d8f4+_0x276d75(0xbe)+(_0x27211a>0x1?_0x276d75(0xac)+_0x22c4e7(_0x27211a)+'\x22>'+_0x27211a+_0x276d75(0x11b):'')+_0x276d75(0xe3);}