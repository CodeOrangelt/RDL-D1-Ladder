function a53_0x29f9(_0x350ac,_0x56e3aa){const _0x30cf8f=a53_0x3235();return a53_0x29f9=function(_0x59d1f9,_0x376ac2){_0x59d1f9=_0x59d1f9-0x8a;let _0x323579=_0x30cf8f[_0x59d1f9];return _0x323579;},a53_0x29f9(_0x350ac,_0x56e3aa);}const a53_0x337c30=a53_0x29f9,a53_0x59d1f9=(function(){let _0x541b96=!![];return function(_0x179632,_0x58ebbb){const _0x542f1c=_0x541b96?function(){if(_0x58ebbb){const _0x3c1375=_0x58ebbb['apply'](_0x179632,arguments);return _0x58ebbb=null,_0x3c1375;}}:function(){};return _0x541b96=![],_0x542f1c;};}()),a53_0x30cf8f=a53_0x59d1f9(this,function(){const _0x44c3ae=a53_0x29f9,_0x502d61=function(){let _0xa26a60;try{_0xa26a60=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x552f71){_0xa26a60=window;}return _0xa26a60;},_0x56837b=_0x502d61(),_0x5c1c9b=_0x56837b['console']=_0x56837b['console']||{},_0x3836aa=['log','warn',_0x44c3ae(0xab),'error','exception','table','trace'];for(let _0x31d1f3=0x0;_0x31d1f3<_0x3836aa['length'];_0x31d1f3++){const _0x5ba6f0=a53_0x59d1f9['constructor']['prototype']['bind'](a53_0x59d1f9),_0x4c20f1=_0x3836aa[_0x31d1f3],_0x139c65=_0x5c1c9b[_0x4c20f1]||_0x5ba6f0;_0x5ba6f0['__proto__']=a53_0x59d1f9[_0x44c3ae(0xa5)](a53_0x59d1f9),_0x5ba6f0['toString']=_0x139c65['toString'][_0x44c3ae(0xa5)](_0x139c65),_0x5c1c9b[_0x4c20f1]=_0x5ba6f0;}});a53_0x30cf8f();import{auth,db}from'./firebase-config.js';import{doc,getDoc,setDoc,collection,query,where,getDocs,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const RIBBON_DEFINITIONS={'Rematch\x20Ribbon':{'description':'Beat\x20a\x20pilot\x20with\x20the\x20\x22Rematch\x22\x20subgame\x20selected','image':'../images/ribbons/Rematch.png','color':'#FF6B6B'},'Overachiever\x20Ribbon':{'description':'Played\x20over\x20100\x20matches','image':a53_0x337c30(0xbd),'color':a53_0x337c30(0xe1),'levels':[0x64,0xc8,0x12c,0x190,0x1f4,0x258,0x2bc,0x320,0x384,0x3e8]},'Brick\x20Wall':{'description':'Amass\x20at\x20least\x2080%\x20overall\x20win\x20rate\x20percentage\x20(minimum\x2050\x20matches)','image':a53_0x337c30(0xe7),'color':a53_0x337c30(0xec),'levels':[0x50,0x55,0x5a,0x5f,0x64]},'Collector\x20Ribbon':{'description':'Hold\x20more\x20than\x205\x20ribbons\x20at\x20a\x20time','image':'../images/ribbons/Collector.png','color':a53_0x337c30(0xd7),'levels':[0x5,0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32]},'Sub-Gamer\x20Ribbon':{'description':'Play\x20over\x2050\x20subgame\x20matches','image':a53_0x337c30(0x103),'color':'#A29BFE','levels':[0x32,0x64,0x96,0xc8,0xfa,0x12c,0x15e,0x190,0x1c2,0x1f4]},'Explorer\x20Ribbon':{'description':a53_0x337c30(0xf7),'image':'../images/ribbons/Explorer.png','color':'#55A3FF','levels':[0x14,0x28,0x3c,0x50,0x64,0x78,0x8c,0xa0,0xb4,0xc8]},'Socialite\x20Ribbon':{'description':'Played\x20at\x20least\x2010\x20unique\x20pilots','image':'../images/ribbons/Socialite.png','color':'#FF7675','levels':[0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32,0x37]},'Underdog\x20Ribbon':{'description':'Beat\x20a\x20pilot\x20ranked\x20higher\x20than\x20you','image':'../images/ribbons/Underdog.png','color':'#FF9500','levels':[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0x9,0xa]},'Domination\x20Ribbon':{'description':a53_0x337c30(0x8e),'image':'../images/ribbons/Domination.png','color':a53_0x337c30(0xaf),'levels':[0x1,0x2,0x3,0x4,0x5]},'Top\x20Bronze\x20Pilot':{'description':a53_0x337c30(0xf0),'image':'../images/ribbons/toprank.png','color':a53_0x337c30(0xf3)},'Top\x20Silver\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Silver\x20rank','image':'../images/ribbons/toprank.png','color':'#C0C0C0'},'Top\x20Gold\x20Pilot':{'description':a53_0x337c30(0xf2),'image':'../images/ribbons/toprank.png','color':a53_0x337c30(0xbe)},'Top\x20Emerald\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Emerald\x20rank','image':a53_0x337c30(0x8a),'color':'#50C878'}};export const RIBBON_CSS='\x0a/*\x20Stats\x20integration\x20styles\x20*/\x0a.ribbon-section\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-top:\x201rem;\x0a}\x0a\x0a.ribbon-stat-item.full-width\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-bottom:\x200;\x0a}\x0a\x0a/*\x20Military\x20Ribbon\x20Rack\x20Styling\x20-\x20NO\x20OUTER\x20CONTAINER\x20*/\x0a.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20padding:\x200;\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20box-shadow:\x20none;\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20align-items:\x20flex-start;\x0a}\x0a\x0a.ribbon-rack-empty-inline\x20{\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20padding:\x2060px\x2040px;\x0a\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20border-radius:\x2012px;\x0a\x20\x20\x20\x20border:\x202px\x20solid\x20rgba(255,\x20255,\x20255,\x200.1);\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a}\x0a\x0a.empty-rack-text\x20{\x0a\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20font-style:\x20italic;\x0a\x20\x20\x20\x20font-size:\x201.2rem;\x0a}\x0a\x0a/*\x20Ribbon\x20Rows\x20*/\x0a.ribbon-row\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x206px;\x0a\x20\x20\x20\x20margin-bottom:\x206px;\x0a\x20\x20\x20\x20justify-content:\x20flex-start;\x0a}\x0a\x0a.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20margin-left:\x2060px;\x0a}\x0a\x0a/*\x20Individual\x20Military\x20Ribbon\x20Styling\x20-\x20FIXED\x20OVERFLOW\x20FOR\x20LEVEL\x20INDICATOR\x20*/\x0a.military-ribbon\x20{\x0a\x20\x20\x20\x20position:\x20relative;\x0a\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20transition:\x20transform\x200.3s\x20ease;\x0a\x20\x20\x20\x20flex-shrink:\x200;\x0a\x20\x20\x20\x20width:\x20190px;\x0a\x20\x20\x20\x20height:\x2060px;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#333;\x0a\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20overflow:\x20visible;\x20/*\x20Changed\x20from\x20hidden\x20to\x20visible\x20*/\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20margin:\x2012px\x2012px\x2012px\x200;\x20/*\x20Added\x20margin\x20to\x20prevent\x20clipping\x20*/\x0a}\x0a\x0a.military-ribbon:hover\x20{\x0a\x20\x20\x20\x20transform:\x20translateY(-4px);\x0a\x20\x20\x20\x20z-index:\x2010;\x0a}\x0a\x0a/*\x20Ribbon\x20image\x20container\x20to\x20handle\x20the\x20actual\x20overflow\x20*/\x0a.ribbon-image-container\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20border-radius:\x201px;\x0a}\x0a\x0a.ribbon-image\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20object-fit:\x20cover;\x0a\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20image-rendering:\x20crisp-edges;\x0a}\x0a\x0a.ribbon-fallback\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20text-shadow:\x200\x202px\x204px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a}\x0a\x0a.ribbon-name\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.9);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201.2;\x0a\x20\x20\x20\x20margin-top:\x206px;\x0a\x20\x20\x20\x20max-width:\x20120px;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20text-overflow:\x20ellipsis;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20-24px;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20font-weight:\x20500;\x0a}\x0a\x0a.military-ribbon:hover\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20display:\x20block;\x0a}\x0a\x0a.ribbon-devices\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x2050%;\x0a\x20\x20\x20\x20right:\x206px;\x0a\x20\x20\x20\x20transform:\x20translateY(-50%);\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x203px;\x0a\x20\x20\x20\x20z-index:\x205;\x0a}\x0a\x0a.ribbon-device\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20text-shadow:\x200\x200\x204px\x20rgba(0,0,0,0.9);\x0a\x20\x20\x20\x20filter:\x20drop-shadow(0\x202px\x204px\x20rgba(0,0,0,0.8));\x0a}\x0a\x0a.bronze-star\x20{\x0a\x20\x20\x20\x20color:\x20#CD7F32;\x0a}\x0a\x0a.silver-star\x20{\x0a\x20\x20\x20\x20color:\x20#C0C0C0;\x0a}\x0a\x0a.gold-star\x20{\x0a\x20\x20\x20\x20color:\x20#FFD700;\x0a}\x0a\x0a/*\x20Level\x20indicator\x20-\x20NOW\x20FULLY\x20VISIBLE\x20*/\x0a.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x20-8px;\x0a\x20\x20\x20\x20right:\x20-8px;\x0a\x20\x20\x20\x20background:\x20#FFD700;\x0a\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20width:\x2024px;\x0a\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#FFF;\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x208px\x20rgba(0,0,0,0.7);\x0a\x20\x20\x20\x20z-index:\x206;\x0a}\x0a\x0a/*\x20Custom\x20tooltip\x20-\x20only\x20this\x20one\x20will\x20show\x20*/\x0a.military-ribbon::before\x20{\x0a\x20\x20\x20\x20content:\x20attr(data-tooltip);\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20100%;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20background:\x20rgba(0,0,0,0.95);\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20padding:\x208px\x2012px;\x0a\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20pointer-events:\x20none;\x0a\x20\x20\x20\x20transition:\x20opacity\x200.3s;\x0a\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20margin-bottom:\x208px;\x0a\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(255,\x20255,\x20255,\x200.2);\x0a}\x0a\x0a.military-ribbon:hover::before\x20{\x0a\x20\x20\x20\x20opacity:\x201;\x0a}\x0a\x0a/*\x20Responsive\x20adjustments\x20*/\x0a@media\x20(max-width:\x201024px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2034px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x208px\x208px\x208px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-6px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-6px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2052px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-20px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20768px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2028px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x206px\x206px\x206px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x209px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-5px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-5px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2042px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2011px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-18px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x205px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20480px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2070px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x205px\x205px\x205px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2036px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x204px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-4px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-4px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a.stats-grid\x20.ribbon-section\x20{\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20padding:\x200;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20{\x0a\x20\x20\x20\x20background-color:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20padding:\x2025px;\x0a\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20.stat-label\x20{\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20text-transform:\x20uppercase;\x0a\x20\x20\x20\x20opacity:\x200.9;\x0a\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.95);\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a}\x0a\x0a.ribbon-level-indicator.level-1\x20{\x20background:\x20#808080;\x20}\x0a.ribbon-level-indicator.level-2\x20{\x20background:\x20#CD7F32;\x20}\x0a.ribbon-level-indicator.level-3\x20{\x20background:\x20#b9f1fc;\x20}\x0a.ribbon-level-indicator.level-4\x20{\x20background:\x20#FFD700;\x20}\x0a.ribbon-level-indicator.level-5-plus\x20{\x20background:\x20#50C878;\x20}\x0a';class RibbonCacheManager{constructor(){const _0x1dec8c=a53_0x337c30;this[_0x1dec8c(0x8d)]=new Map(),this['CACHE_DURATION']=0x3c*0x3c*0x3e8,this['CACHE_KEY_PREFIX']='ribbon_cache_',this['lastCleanup']=Date['now'](),this['CLEANUP_INTERVAL']=0x1e*0x3c*0x3e8;}['getCacheKey'](_0x3708c2,_0x45f454){return''+this['CACHE_KEY_PREFIX']+_0x3708c2+'_'+_0x45f454;}['getCachedData'](_0x46f489,_0x3cbb5e){const _0x35af89=a53_0x337c30;this['autoCleanup']();const _0x47a948=this['getCacheKey'](_0x46f489,_0x3cbb5e);if(this['memoryCache']['has'](_0x47a948)){const _0x10ba07=this['memoryCache']['get'](_0x47a948);if(Date[_0x35af89(0xfe)]()-_0x10ba07['timestamp']<this['CACHE_DURATION'])return console['log']('ðŸš€\x20Cache\x20hit\x20(memory)\x20for\x20'+_0x46f489),_0x10ba07[_0x35af89(0xc5)];this['memoryCache'][_0x35af89(0x98)](_0x47a948);}const _0x2d212c=localStorage[_0x35af89(0xc9)](_0x47a948);if(_0x2d212c)try{const _0x24ec56=JSON['parse'](_0x2d212c);if(Date['now']()-_0x24ec56['timestamp']<this['CACHE_DURATION'])return this[_0x35af89(0x8d)][_0x35af89(0xf4)](_0x47a948,{'data':_0x24ec56['ribbons'],'timestamp':_0x24ec56['timestamp'],'matchCount':_0x24ec56['matchCount']}),console[_0x35af89(0x9c)]('ðŸ’¾\x20Cache\x20hit\x20(localStorage)\x20for\x20'+_0x46f489),_0x24ec56['ribbons'];localStorage['removeItem'](_0x47a948);}catch(_0x2e4be7){localStorage[_0x35af89(0x102)](_0x47a948);}return null;}[a53_0x337c30(0xfb)](_0x5c50f5,_0x398668,_0x1c734b,_0x4ed3a3){const _0x541768=a53_0x337c30,_0x1de5f4=this['getCacheKey'](_0x5c50f5,_0x398668),_0x19ed8e=Date['now']();this[_0x541768(0x8d)]['set'](_0x1de5f4,{'data':_0x1c734b,'timestamp':_0x19ed8e,'matchCount':_0x4ed3a3});try{const _0x4404e6={'ribbons':_0x1c734b,'matchCount':_0x4ed3a3,'timestamp':_0x19ed8e,'version':0x3};localStorage[_0x541768(0xc6)](_0x1de5f4,JSON['stringify'](_0x4404e6));}catch(_0x4f4fc2){this[_0x541768(0xee)]();try{localStorage['setItem'](_0x1de5f4,JSON['stringify'](data));}catch(_0x2d0cdf){}}}['shouldRefreshCache'](_0x556c0a,_0x28b887,_0x5626f7){const _0x29bf32=a53_0x337c30,_0x36c45e=this['getCacheKey'](_0x556c0a,_0x28b887);if(this[_0x29bf32(0x8d)][_0x29bf32(0xc7)](_0x36c45e)){const _0x467ca5=this[_0x29bf32(0x8d)]['get'](_0x36c45e);return _0x467ca5[_0x29bf32(0xb9)]!==_0x5626f7;}const _0x447704=localStorage['getItem'](_0x36c45e);if(_0x447704)try{const _0x282065=JSON['parse'](_0x447704);return _0x282065[_0x29bf32(0xb9)]!==_0x5626f7;}catch(_0x34faf4){return!![];}return!![];}['invalidatePlayerCache'](_0x2ea0ce,_0x2056d3){const _0x38ff93=a53_0x337c30,_0x5c1404=this['getCacheKey'](_0x2ea0ce,_0x2056d3);this['memoryCache']['delete'](_0x5c1404),localStorage[_0x38ff93(0x102)](_0x5c1404),console['log']('ðŸ—‘ï¸\x20Invalidated\x20cache\x20for\x20'+_0x2ea0ce+'\x20('+_0x2056d3+')\x20-\x20new\x20match\x20detected');}['autoCleanup'](){const _0x1059e0=a53_0x337c30,_0x68624d=Date['now']();_0x68624d-this[_0x1059e0(0xb1)]>this['CLEANUP_INTERVAL']&&(this['cleanup'](),this['lastCleanup']=_0x68624d);}[a53_0x337c30(0xf6)](){const _0x466e62=a53_0x337c30,_0x5aa231=Date[_0x466e62(0xfe)]();let _0x326485=0x0,_0x4ae431=0x0;for(const [_0x37fad2,_0x322769]of this['memoryCache']['entries']()){_0x5aa231-_0x322769['timestamp']>this[_0x466e62(0xc0)]&&(this['memoryCache']['delete'](_0x37fad2),_0x326485++);}for(let _0x331b9a=localStorage[_0x466e62(0xdb)]-0x1;_0x331b9a>=0x0;_0x331b9a--){const _0x3a27af=localStorage['key'](_0x331b9a);if(_0x3a27af&&_0x3a27af['startsWith'](this['CACHE_KEY_PREFIX']))try{const _0x5ccd54=JSON[_0x466e62(0x8b)](localStorage['getItem'](_0x3a27af));_0x5aa231-_0x5ccd54['timestamp']>this[_0x466e62(0xc0)]&&(localStorage['removeItem'](_0x3a27af),_0x4ae431++);}catch(_0x3225c1){localStorage['removeItem'](_0x3a27af),_0x4ae431++;}}}['clearOldCache'](){const _0x52af1f=a53_0x337c30,_0xa308c6=[];for(let _0x59e7d2=0x0;_0x59e7d2<localStorage['length'];_0x59e7d2++){const _0x3273bf=localStorage['key'](_0x59e7d2);if(_0x3273bf&&_0x3273bf['startsWith'](this['CACHE_KEY_PREFIX']))try{const _0x5fad62=JSON[_0x52af1f(0x8b)](localStorage[_0x52af1f(0xc9)](_0x3273bf));_0xa308c6[_0x52af1f(0xb3)]({'key':_0x3273bf,'timestamp':_0x5fad62['timestamp']});}catch(_0x499a7c){localStorage[_0x52af1f(0x102)](_0x3273bf);}}_0xa308c6[_0x52af1f(0xc3)]((_0x523d5b,_0x5adac3)=>_0x523d5b[_0x52af1f(0xfd)]-_0x5adac3['timestamp']);const _0x9a1b58=Math[_0x52af1f(0x106)](_0xa308c6['length']/0x2);for(let _0x2f0978=0x0;_0x2f0978<_0x9a1b58;_0x2f0978++){localStorage['removeItem'](_0xa308c6[_0x2f0978]['key']);}}['getCacheStats'](){const _0x436732=a53_0x337c30;return{'memoryEntries':this[_0x436732(0x8d)][_0x436732(0xb8)],'lastCleanup':new Date(this[_0x436732(0xb1)])['toLocaleTimeString']()};}}function a53_0x3235(){const _0x2e22ca=['../images/ribbons/toprank.png','parse','forEach','memoryCache','Beat\x205\x20unique\x20pilots\x20in\x20a\x20rank\x20(including\x20your\x20own)','ðŸ‘‘\x20NEW\x20Top\x20Rank\x20Achievement:\x20','findIndex','\x20earned\x20','evaluateRematchRibbonFromCount','playersD2','Bronze',':\x20ELO\x20','winnerUsername','âŒ\x20No\x20ELO\x20rating\x20data\x20for\x20','delete','keys','Standard','Brick\x20Wall','log','getPlayerRibbonsCached','level-2','isUnderdogVictoryFast','exists','\x20is\x20#1:\x20','âš ï¸\x20No\x20current\x20player\x20data\x20found\x20for\x20','\x20new/updated\x20ribbons\x20for\x20','savePlayerRibbonsOptimized','bind','add','rating','getCachedMatches','players','uniqueMaps','info','evaluateSocialiteRibbonFromCount','Gold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#8E44AD','getCacheStats','lastCleanup','evaluateSubGamerRibbonFromCount','push','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','subgameMatches','Unranked','substring','size','matchCount','getPlayerDataCached','dominatedRanks','min','../images/ribbons/Overachiever.png','#FFD700','batchTimer','CACHE_DURATION','assign','loserUsername','sort','%\x20win\x20rate\x20over\x20','data','setItem','has','\x20player\x20records\x20for\x20underdog\x20calculations...','getItem','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22ribbon-image\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27;\x20this.nextElementSibling.style.display=\x27block\x27;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-fallback\x22\x20style=\x22display:\x20none;\x20background:\x20','Sub-Gamer\x20Ribbon',')\x20beat\x20','playersD3','image',')\x20vs\x20Loser(','\x20ELO)','Collector\x20Ribbon','wins','level','winnerRating','ðŸ“Š\x20','empty','#6C5CE7','Rematch\x20Ribbon','error','ðŸŽ¯\x20Found\x20','length','matchCache','ðŸš€\x20Bulk\x20loading\x20','evaluateUnderdogRibbonFromCount','Rematch','âŒ\x20Error\x20in\x20ribbon\x20evaluation:','#96CEB4','eloRating','\x20or\x20','evaluateOverachieverRibbonFromCount','loserRating','totalMatches','../images/ribbons/BrickWall.png','underdogWins','ðŸ“Š\x20Bulk\x20loaded\x20','uniqueOpponents','Explorer\x20Ribbon','#F0932B','rematchWins','clearOldCache','âŒ\x20No\x20player\x20data\x20found\x20for\x20','Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Bronze\x20rank','\x20Ribbon','Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Gold\x20rank','#CD7F32','set','all','cleanup','Played\x20at\x20least\x2020\x20unique\x20maps','playerRibbons','âŒ\x20Not\x20underdog:\x20','evaluateBrickWallRibbonFromWinRate','setCachedData','):\x20','timestamp','now','Error\x20getting\x20player\x20data\x20for\x20','subgameType','setCachedMatches','removeItem','../images/ribbons/Subgamer.png','evaluateCollectorRibbonFromCount','username','floor','docs','\x20â†’\x20','evaluateAllRibbonsFromData'];a53_0x3235=function(){return _0x2e22ca;};return a53_0x3235();}class MatchCacheManager{constructor(){const _0x36294f=a53_0x337c30;this['matchCache']=new Map(),this['CACHE_DURATION']=0xf*0x3c*0x3e8,this['lastCleanup']=Date[_0x36294f(0xfe)]();}[a53_0x337c30(0xa8)](_0x185e5e,_0x328550){const _0x5e7cdf=a53_0x337c30;this['autoCleanup']();const _0x340ad2=_0x185e5e+'_'+_0x328550,_0x49763f=this[_0x5e7cdf(0xdc)]['get'](_0x340ad2);if(_0x49763f&&Date['now']()-_0x49763f[_0x5e7cdf(0xfd)]<this[_0x5e7cdf(0xc0)])return console[_0x5e7cdf(0x9c)]('ðŸŽ¯\x20Cache\x20hit\x20(matches)\x20for\x20'+_0x185e5e),_0x49763f['matches'];return _0x49763f&&this['matchCache'][_0x5e7cdf(0x98)](_0x340ad2),null;}['setCachedMatches'](_0x558354,_0x3efb4b,_0x4ff168){const _0x11f53b=a53_0x337c30,_0x2c46b7=_0x558354+'_'+_0x3efb4b;this['matchCache'][_0x11f53b(0xf4)](_0x2c46b7,{'matches':_0x4ff168,'timestamp':Date['now']()});}['autoCleanup'](){const _0x53006e=a53_0x337c30,_0x3c3fc3=Date['now']();if(_0x3c3fc3-this[_0x53006e(0xb1)]>0x5*0x3c*0x3e8){let _0x1c275d=0x0;for(const [_0x16b3bf,_0x1d699f]of this[_0x53006e(0xdc)]['entries']()){_0x3c3fc3-_0x1d699f[_0x53006e(0xfd)]>this['CACHE_DURATION']&&(this[_0x53006e(0xdc)]['delete'](_0x16b3bf),_0x1c275d++);}this['lastCleanup']=_0x3c3fc3;}}['getCacheStats'](){return{'entries':this['matchCache']['size'],'lastCleanup':new Date(this['lastCleanup'])['toLocaleTimeString']()};}}class RibbonSystem{constructor(){const _0x521a80=a53_0x337c30;this['pendingEvaluations']=new Map(),this[_0x521a80(0xbf)]=null,this['BATCH_DELAY']=0x32,this['playerDataCache']=new Map();}async['bulkLoadPlayerData'](_0x4df8a5,_0x502790){const _0x489f1f=a53_0x337c30,_0x13999e=_0x502790==='D1'?_0x489f1f(0xa9):_0x502790==='D2'?_0x489f1f(0x93):'playersD3',_0x3d3d2b=collection(db,_0x13999e),_0x35aa51=await getDocs(_0x3d3d2b),_0x462fe0=new Map();return _0x35aa51['forEach'](_0x3ffca3=>{const _0x42d10e=_0x489f1f,_0x72faf3=_0x3ffca3['data']();_0x72faf3['username']&&(_0x72faf3[_0x42d10e(0xe2)]!==undefined&&(_0x72faf3[_0x42d10e(0xa7)]=_0x72faf3['eloRating']),_0x462fe0['set'](_0x72faf3['username'],_0x72faf3));}),console['log'](_0x489f1f(0xe9)+_0x462fe0['size']+'\x20players\x20from\x20'+_0x13999e),_0x462fe0;}async['evaluateAllRibbonsFromData'](_0x2e6644,_0x45c339,_0x12443e,_0x41adc2){const _0x227ac6=a53_0x337c30,_0x17c8ab={},_0x386ff1=_0x45c339[_0x227ac6(0x105)],_0x2535c9={'totalMatches':_0x2e6644['length'],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0,'dominatedRanks':new Set()},_0x3e47d2=new Set();_0x2e6644['forEach'](_0x7e7c6d=>{const _0xf609f3=_0x227ac6,_0x174a95=_0x7e7c6d['winnerUsername']===_0x386ff1,_0x563652=_0x174a95?_0x7e7c6d[_0xf609f3(0xc2)]:_0x7e7c6d['winnerUsername'];if(_0x563652)_0x3e47d2['add'](_0x563652);}),console[_0x227ac6(0x9c)](_0x227ac6(0xdd)+_0x3e47d2[_0x227ac6(0xb8)]+'\x20player\x20records\x20for\x20underdog\x20calculations...');const _0x38128f=await this['bulkLoadPlayerData']([..._0x3e47d2,_0x386ff1],_0x41adc2),_0x39c274=_0x38128f['get'](_0x386ff1);!_0x39c274&&console[_0x227ac6(0x9c)](_0x227ac6(0xa2)+_0x386ff1);const _0xccfa1c={0x0:new Set(),0x1:new Set(),0x2:new Set(),0x3:new Set(),0x4:new Set()};_0x2e6644['forEach'](_0x432666=>{const _0x6966b3=_0x227ac6,_0x4ce30e=_0x432666['winnerUsername']===_0x386ff1,_0x45e140=_0x4ce30e?_0x432666['loserUsername']:_0x432666['winnerUsername'];if(_0x4ce30e){_0x2535c9[_0x6966b3(0xd2)]++;_0x432666['subgameType']==='Rematch'&&_0x2535c9[_0x6966b3(0xed)]++;this[_0x6966b3(0x9f)](_0x432666,_0x386ff1,_0x39c274,_0x38128f)&&_0x2535c9['underdogWins']++;const _0xc3189d=_0x38128f['get'](_0x45e140);if(_0xc3189d){const _0x55e691=_0xc3189d['eloRating']||0x0,_0x2619aa=getPlayerRankTier(_0x55e691);_0xccfa1c[_0x2619aa]['add'](_0x45e140);}}_0x432666['subgameType']&&_0x432666[_0x6966b3(0x100)]!==_0x6966b3(0x9a)&&_0x2535c9['subgameMatches']++,_0x432666['mapPlayed']&&_0x2535c9[_0x6966b3(0xaa)]['add'](_0x432666['mapPlayed']),_0x45e140&&_0x2535c9[_0x6966b3(0xea)]['add'](_0x45e140);}),Object['keys'](_0xccfa1c)['forEach'](_0x38c798=>{_0xccfa1c[_0x38c798]['size']>=0x5&&_0x2535c9['dominatedRanks']['add'](parseInt(_0x38c798));}),console['log'](_0x227ac6(0xda)+_0x2535c9['underdogWins']+'\x20underdog\x20victories\x20for\x20'+_0x386ff1),console['log']('ðŸ‘‘\x20Dominated\x20'+_0x2535c9[_0x227ac6(0xbb)]['size']+'\x20ranks:\x20['+Array['from'](_0x2535c9['dominatedRanks'])['map'](_0x5e8013=>getRankTierName(_0x5e8013))['join'](',\x20')+']');const _0x4b7879=_0x2535c9['totalMatches']>0x0?_0x2535c9['wins']/_0x2535c9[_0x227ac6(0xe6)]*0x64:0x0,_0x196e77=[['Overachiever\x20Ribbon',this['evaluateOverachieverRibbonFromCount'](_0x2535c9[_0x227ac6(0xe6)],_0x12443e)],[_0x227ac6(0xd8),this['evaluateRematchRibbonFromCount'](_0x2535c9['rematchWins'],_0x12443e)],['Sub-Gamer\x20Ribbon',this[_0x227ac6(0xb2)](_0x2535c9['subgameMatches'],_0x12443e)],['Explorer\x20Ribbon',this['evaluateExplorerRibbonFromCount'](_0x2535c9['uniqueMaps']['size'],_0x12443e)],['Socialite\x20Ribbon',this[_0x227ac6(0xac)](_0x2535c9[_0x227ac6(0xea)][_0x227ac6(0xb8)],_0x12443e)],['Brick\x20Wall',this['evaluateBrickWallRibbonFromWinRate'](_0x4b7879,_0x12443e,_0x2535c9['totalMatches'])],['Underdog\x20Ribbon',this['evaluateUnderdogRibbonFromCount'](_0x2535c9['underdogWins'],_0x12443e)],['Domination\x20Ribbon',this['evaluateDominationRibbonFromRanks'](_0x2535c9['dominatedRanks']['size'],_0x12443e)]];_0x196e77['forEach'](([_0x27f97a,_0x5113d5])=>{_0x5113d5&&(_0x17c8ab[_0x27f97a]=_0x5113d5);});const _0x3cf19f=Object['keys'](_0x12443e)['length']+Object['keys'](_0x17c8ab)['length'],_0x4f0215=this['evaluateCollectorRibbonFromCount'](_0x3cf19f,_0x12443e);return _0x4f0215&&(_0x17c8ab[_0x227ac6(0xd1)]=_0x4f0215),_0x17c8ab;}['evaluateDominationRibbonFromRanks'](_0x197b67,_0x2fa13c){const _0xdef48a=a53_0x337c30;if(_0x197b67===0x0)return null;const _0x19e9cd=_0x2fa13c['Domination\x20Ribbon']||{'level':0x0};if(_0x197b67>_0x19e9cd['level']){const _0x45b90e=[];for(let _0x2a1683=0x0;_0x2a1683<_0x197b67;_0x2a1683++){_0x45b90e['push'](getRankTierName(_0x2a1683));}return console['log']('ðŸ‘‘\x20Domination\x20Ribbon\x20awarded:\x20Level\x20'+_0x19e9cd[_0xdef48a(0xd3)]+'\x20â†’\x20'+_0x197b67+'\x20(Dominated:\x20'+_0x45b90e['join'](',\x20')+')'),{'level':_0x197b67,'awardedAt':new Date(),'dominatedRanks':_0x45b90e};}return null;}async['checkTopRankStatus'](_0x5e22e6,_0x57fde2){const _0x292412=a53_0x337c30;try{const _0x871c4f=_0x57fde2==='D1'?'players':_0x57fde2==='D2'?'playersD2':_0x292412(0xcd),_0x1656fa=await this['getPlayerDataCached'](_0x5e22e6,_0x57fde2);if(!_0x1656fa||_0x1656fa['eloRating']===undefined)return console['log'](_0x292412(0x97)+_0x5e22e6),null;const _0x108082=_0x1656fa[_0x292412(0xe2)],_0x46db04=getPlayerRankTier(_0x108082),_0x4e4206=getRankTierName(_0x46db04);if(_0x4e4206==='Unranked')return console[_0x292412(0x9c)]('âŒ\x20'+_0x5e22e6+'\x20is\x20Unranked\x20('+_0x108082+_0x292412(0xd0)),null;console['log']('ðŸ”\x20Checking\x20Top\x20'+_0x4e4206+'\x20status\x20for\x20'+_0x5e22e6+'\x20('+_0x108082+'\x20ELO)');const _0x462a38=collection(db,_0x871c4f),_0x30ca46=await getDocs(_0x462a38);let _0x5920f9=null,_0x1137e8=-0x1,_0xc9818b=0x0;_0x30ca46['forEach'](_0xd352f9=>{const _0x1ee6f4=_0x292412,_0x2f7df7=_0xd352f9[_0x1ee6f4(0xc5)](),_0xe8017c=_0x2f7df7['eloRating']||0x0,_0x5ae224=getPlayerRankTier(_0xe8017c);_0x5ae224===_0x46db04&&(_0xc9818b++,_0xe8017c>_0x1137e8&&(_0x1137e8=_0xe8017c,_0x5920f9=_0x2f7df7['username']));});const _0x2d6ad9=_0x5920f9===_0x5e22e6;return console['log'](_0x292412(0xd5)+_0x4e4206+'\x20Tier:\x20'+_0xc9818b+'\x20players,\x20Top:\x20'+_0x5920f9+'\x20('+_0x1137e8+'\x20ELO),\x20'+_0x5e22e6+_0x292412(0xa1)+_0x2d6ad9),_0x2d6ad9?_0x4e4206:null;}catch(_0x232d33){return console[_0x292412(0xd9)]('Error\x20checking\x20top\x20rank\x20status:',_0x232d33),null;}}async['evaluateTopRankRibbon'](_0x2941aa,_0x148734,_0x8b2c0f){const _0x3dd91b=a53_0x337c30,_0x1a6cde=await this['checkTopRankStatus'](_0x2941aa,_0x148734),_0x4ac6c4={};if(_0x1a6cde){const _0x34d1bf='Top\x20'+_0x1a6cde+'\x20Pilot';if(RIBBON_DEFINITIONS[_0x34d1bf]){const _0x2a2d4b=_0x8b2c0f[_0x34d1bf];!_0x2a2d4b?(console[_0x3dd91b(0x9c)](_0x3dd91b(0x8f)+_0x2941aa+_0x3dd91b(0x91)+_0x34d1bf+'!'),_0x4ac6c4[_0x34d1bf]={'level':0x1,'awardedAt':new Date(),'rank':_0x1a6cde,'achievedAt':new Date()}):console[_0x3dd91b(0x9c)]('âœ…\x20'+_0x2941aa+'\x20already\x20has\x20'+_0x34d1bf+'\x20-\x20No\x20changes\x20needed');}}return Object[_0x3dd91b(0x99)](_0x8b2c0f)['forEach'](_0x31c2b9=>{_0x31c2b9['startsWith']('Top\x20')&&_0x31c2b9['endsWith']('\x20Pilot')&&(!_0x4ac6c4[_0x31c2b9]&&console['log']('âœ…\x20Preserving\x20existing\x20'+_0x31c2b9));}),_0x4ac6c4;}async['evaluateAllRibbonsForPlayerOptimized'](_0x46aada,_0x5223af='D1'){const _0x483997=a53_0x337c30;try{const _0x47afd0=ribbonCache['getCachedData'](_0x46aada,_0x5223af);if(_0x47afd0){const _0x5a3c61=await this['evaluateTopRankRibbon'](_0x46aada,_0x5223af,_0x47afd0);if(Object['keys'](_0x5a3c61)['length']>0x0){console[_0x483997(0x9c)]('ðŸ†•\x20New\x20top\x20rank\x20achievements\x20found\x20for\x20cached\x20player\x20'+_0x46aada),await this['savePlayerRibbonsOptimized'](_0x46aada,_0x5a3c61,_0x5223af);const _0xa17484={..._0x47afd0,..._0x5a3c61};return ribbonCache[_0x483997(0xfb)](_0x46aada,_0x5223af,_0xa17484,0x0),_0xa17484;}return _0x47afd0;}const [_0x20d279,_0x404c18]=await Promise['all']([this['getPlayerDataCached'](_0x46aada,_0x5223af),this['getPlayerRibbonsCached'](_0x46aada,_0x5223af)]);if(!_0x20d279)return{};const _0x50b7de=_0x20d279['matchesPlayed']||0x0,_0xea0a57=await this['evaluateTopRankRibbon'](_0x46aada,_0x5223af,_0x404c18);if(!ribbonCache['shouldRefreshCache'](_0x46aada,_0x5223af,_0x50b7de)){if(Object['keys'](_0xea0a57)['length']>0x0){await this[_0x483997(0xa4)](_0x46aada,_0xea0a57,_0x5223af);const _0x226e5e={..._0x404c18,..._0xea0a57};return ribbonCache['setCachedData'](_0x46aada,_0x5223af,_0x226e5e,_0x50b7de),_0x226e5e;}return ribbonCache['setCachedData'](_0x46aada,_0x5223af,_0x404c18,_0x50b7de),_0x404c18;}const _0x4f6e11=await this['getPlayerMatchesOptimized'](_0x46aada,_0x5223af),_0x38b5f9=await this['evaluateAllRibbonsFromData'](_0x4f6e11,_0x20d279,_0x404c18,_0x5223af);Object[_0x483997(0xc1)](_0x38b5f9,_0xea0a57);Object['keys'](_0x38b5f9)['length']>0x0&&(console['log']('ðŸ’¾\x20Saving\x20'+Object['keys'](_0x38b5f9)['length']+_0x483997(0xa3)+_0x46aada),await this[_0x483997(0xa4)](_0x46aada,_0x38b5f9,_0x5223af));const _0x1c927d={..._0x404c18,..._0x38b5f9};return ribbonCache['setCachedData'](_0x46aada,_0x5223af,_0x1c927d,_0x4f6e11[_0x483997(0xdb)]),_0x1c927d;}catch(_0x5dd935){return console['error'](_0x483997(0xe0),_0x5dd935),{};}}async['isUnderdogVictory'](_0x58dc1c,_0x160097,_0x47fcb7){const _0x2ce88a=a53_0x337c30,_0x93ab09=_0x58dc1c['winnerUsername']===_0x160097;if(!_0x93ab09)return![];const _0x280c6e=_0x58dc1c['loserUsername'],[_0x321db3,_0x333eb1]=await Promise['all']([this[_0x2ce88a(0xba)](_0x160097,_0x47fcb7),this['getPlayerDataCached'](_0x280c6e,_0x47fcb7)]);if(!_0x321db3||!_0x333eb1)return console[_0x2ce88a(0x9c)]('âš ï¸\x20Missing\x20player\x20data\x20for\x20'+_0x160097+_0x2ce88a(0xe3)+_0x280c6e),![];const _0x5bab9b=_0x321db3['eloRating']||0x0,_0x281615=_0x333eb1['eloRating']||0x0,_0x48bbb7=getPlayerRankTier(_0x5bab9b),_0xb23077=getPlayerRankTier(_0x281615);console[_0x2ce88a(0x9c)]('ðŸ”\x20Checking\x20underdog:\x20Winner('+_0x160097+_0x2ce88a(0xfc)+_0x5bab9b+'\x20ELO\x20('+getRankTierName(_0x48bbb7)+_0x2ce88a(0xcf)+_0x280c6e+_0x2ce88a(0xfc)+_0x281615+'\x20ELO\x20('+getRankTierName(_0xb23077)+')');if(_0xb23077>_0x48bbb7)return console[_0x2ce88a(0x9c)]('ðŸŽ¯\x20UNDERDOG\x20VICTORY:\x20'+getRankTierName(_0x48bbb7)+'\x20beat\x20'+getRankTierName(_0xb23077)+'!'),!![];return console['log'](_0x2ce88a(0xf9)+getRankTierName(_0x48bbb7)+'\x20vs\x20'+getRankTierName(_0xb23077)),![];}['isUnderdogVictoryFast'](_0x36b365,_0x2bbc74,_0x21ef5f,_0x3f4311){const _0x61a910=a53_0x337c30,_0x1ac7dd=_0x36b365['winnerUsername']===_0x2bbc74;if(!_0x1ac7dd)return![];const _0x402705=_0x36b365[_0x61a910(0xc2)],_0x2e1abb=_0x3f4311['get'](_0x402705);if(!_0x21ef5f||!_0x2e1abb)return![];const _0x4b9f26=_0x21ef5f['eloRating']||0x0,_0x3646ac=_0x2e1abb[_0x61a910(0xe2)]||0x0,_0x549b24=getPlayerRankTier(_0x4b9f26),_0x225e15=getPlayerRankTier(_0x3646ac);if(_0x225e15>_0x549b24)return console['log']('ðŸŽ¯\x20UNDERDOG:\x20'+getRankTierName(_0x549b24)+'('+_0x4b9f26+_0x61a910(0xcc)+getRankTierName(_0x225e15)+'('+_0x3646ac+')'),!![];return![];}async[a53_0x337c30(0x109)](_0x1c72b8,_0x36af50,_0x4cd9dd,_0x494f93){const _0x503d55=a53_0x337c30,_0x3bada6={},_0x3a3a42=_0x36af50[_0x503d55(0x105)],_0x38d952={'totalMatches':_0x1c72b8['length'],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0},_0x10499f=new Set();_0x1c72b8[_0x503d55(0x8c)](_0x76633c=>{const _0x39e126=_0x503d55,_0x9a990f=_0x76633c[_0x39e126(0x96)]===_0x3a3a42,_0x9faa40=_0x9a990f?_0x76633c['loserUsername']:_0x76633c['winnerUsername'];if(_0x9faa40)_0x10499f['add'](_0x9faa40);}),console['log'](_0x503d55(0xdd)+_0x10499f['size']+_0x503d55(0xc8));const _0x40d744=await this['bulkLoadPlayerData']([..._0x10499f,_0x3a3a42],_0x494f93),_0x2975b2=_0x40d744['get'](_0x3a3a42);!_0x2975b2&&console[_0x503d55(0x9c)]('âš ï¸\x20No\x20current\x20player\x20data\x20found\x20for\x20'+_0x3a3a42);_0x1c72b8[_0x503d55(0x8c)](_0x24ddad=>{const _0x22570b=_0x503d55,_0x566468=_0x24ddad[_0x22570b(0x96)]===_0x3a3a42,_0x15bbd0=_0x566468?_0x24ddad['loserUsername']:_0x24ddad['winnerUsername'];_0x566468&&(_0x38d952['wins']++,_0x24ddad['subgameType']===_0x22570b(0xdf)&&_0x38d952['rematchWins']++,this['isUnderdogVictoryFast'](_0x24ddad,_0x3a3a42,_0x2975b2,_0x40d744)&&_0x38d952['underdogWins']++),_0x24ddad['subgameType']&&_0x24ddad['subgameType']!=='Standard'&&_0x38d952['subgameMatches']++,_0x24ddad['mapPlayed']&&_0x38d952['uniqueMaps']['add'](_0x24ddad['mapPlayed']),_0x15bbd0&&_0x38d952['uniqueOpponents']['add'](_0x15bbd0);}),console['log']('ðŸŽ¯\x20Found\x20'+_0x38d952[_0x503d55(0xe8)]+'\x20underdog\x20victories\x20for\x20'+_0x3a3a42);const _0x102f4a=_0x38d952['totalMatches']>0x0?_0x38d952[_0x503d55(0xd2)]/_0x38d952['totalMatches']*0x64:0x0,_0x57e4c3=[['Overachiever\x20Ribbon',this['evaluateOverachieverRibbonFromCount'](_0x38d952['totalMatches'],_0x4cd9dd)],[_0x503d55(0xd8),this[_0x503d55(0x92)](_0x38d952['rematchWins'],_0x4cd9dd)],[_0x503d55(0xcb),this['evaluateSubGamerRibbonFromCount'](_0x38d952[_0x503d55(0xb5)],_0x4cd9dd)],[_0x503d55(0xeb),this['evaluateExplorerRibbonFromCount'](_0x38d952['uniqueMaps']['size'],_0x4cd9dd)],['Socialite\x20Ribbon',this['evaluateSocialiteRibbonFromCount'](_0x38d952[_0x503d55(0xea)]['size'],_0x4cd9dd)],['Brick\x20Wall',this['evaluateBrickWallRibbonFromWinRate'](_0x102f4a,_0x4cd9dd,_0x38d952['totalMatches'])],['Underdog\x20Ribbon',this['evaluateUnderdogRibbonFromCount'](_0x38d952[_0x503d55(0xe8)],_0x4cd9dd)]];_0x57e4c3['forEach'](([_0x287452,_0x4aa928])=>{_0x4aa928&&(_0x3bada6[_0x287452]=_0x4aa928);});const _0x139a7c=Object['keys'](_0x4cd9dd)['length']+Object['keys'](_0x3bada6)['length'],_0x38ff8c=this[_0x503d55(0x104)](_0x139a7c,_0x4cd9dd);return _0x38ff8c&&(_0x3bada6['Collector\x20Ribbon']=_0x38ff8c),_0x3bada6;}async['getPlayerMatchesOptimized'](_0x2611d4,_0x268973){const _0x91e6=a53_0x337c30,_0x1bb7f6=matchCache[_0x91e6(0xa8)](_0x2611d4,_0x268973);if(_0x1bb7f6)return _0x1bb7f6;try{const _0x4d8564=_0x268973==='D1'?'approvedMatches':_0x268973==='D2'?'approvedMatchesD2':'approvedMatchesD3',_0x5bbc4f=collection(db,_0x4d8564),[_0xe220e,_0x21d260]=await Promise[_0x91e6(0xf5)]([getDocs(query(_0x5bbc4f,where('winnerUsername','==',_0x2611d4))),getDocs(query(_0x5bbc4f,where(_0x91e6(0xc2),'==',_0x2611d4)))]),_0x1f7297=new Set(),_0x4b3a78=[];return _0xe220e['forEach'](_0x316265=>{const _0x46acd2=_0x91e6;if(!_0x1f7297[_0x46acd2(0xc7)](_0x316265['id'])){_0x1f7297[_0x46acd2(0xa6)](_0x316265['id']);const _0x2bf593={'id':_0x316265['id'],..._0x316265['data']()};if(!_0x2bf593['winnerRating'])_0x2bf593[_0x46acd2(0xd4)]=0x0;if(!_0x2bf593[_0x46acd2(0xe5)])_0x2bf593[_0x46acd2(0xe5)]=0x0;_0x4b3a78['push'](_0x2bf593);}}),_0x21d260['forEach'](_0x26a3fc=>{const _0xbdb3fa=_0x91e6;if(!_0x1f7297['has'](_0x26a3fc['id'])){_0x1f7297['add'](_0x26a3fc['id']);const _0x2da29a={'id':_0x26a3fc['id'],..._0x26a3fc['data']()};if(!_0x2da29a['winnerRating'])_0x2da29a['winnerRating']=0x0;if(!_0x2da29a[_0xbdb3fa(0xe5)])_0x2da29a[_0xbdb3fa(0xe5)]=0x0;_0x4b3a78['push'](_0x2da29a);}}),matchCache[_0x91e6(0x101)](_0x2611d4,_0x268973,_0x4b3a78),_0x4b3a78;}catch(_0x347433){return console['error']('âŒ\x20Error\x20fetching\x20matches:',_0x347433),[];}}async['getPlayerDataCached'](_0xfcdc0,_0x4f4b8e){const _0x5c18db=a53_0x337c30;try{const _0x20cc17=_0x4f4b8e==='D1'?'players':_0x4f4b8e==='D2'?_0x5c18db(0x93):'playersD3',_0x15fb51=collection(db,_0x20cc17),_0x45c116=query(_0x15fb51,where('username','==',_0xfcdc0),limit(0x1)),_0x1256fc=await getDocs(_0x45c116);if(_0x1256fc[_0x5c18db(0xd6)])return console['log'](_0x5c18db(0xef)+_0xfcdc0+'\x20in\x20'+_0x20cc17),null;const _0x4f3bf1=_0x1256fc[_0x5c18db(0x107)][0x0][_0x5c18db(0xc5)]();return _0x4f3bf1['eloRating']!==undefined&&(_0x4f3bf1['rating']=_0x4f3bf1['eloRating']),console['log']('âœ…\x20Found\x20player\x20data\x20for\x20'+_0xfcdc0+_0x5c18db(0x95)+_0x4f3bf1[_0x5c18db(0xe2)]+',\x20Position\x20'+_0x4f3bf1['position']),_0x4f3bf1;}catch(_0x311c7e){return console['error'](_0x5c18db(0xff)+_0xfcdc0+':',_0x311c7e),null;}}async[a53_0x337c30(0x9d)](_0x4d2d8f,_0x489ebd){const _0x192b94=a53_0x337c30;try{const _0x391409='playerRibbons'+(_0x489ebd==='D1'?'':_0x489ebd),_0x20e57c=doc(db,_0x391409,_0x4d2d8f),_0x3063c8=await getDoc(_0x20e57c);return _0x3063c8[_0x192b94(0xa0)]()?_0x3063c8['data']()['ribbons']||{}:{};}catch(_0x42370e){return console['error']('Error\x20getting\x20player\x20ribbons:',_0x42370e),{};}}async['savePlayerRibbonsOptimized'](_0x1220f0,_0x2d32de,_0x56edb6){const _0x380441=a53_0x337c30;try{const _0xb889b4=_0x380441(0xf8)+(_0x56edb6==='D1'?'':_0x56edb6),_0x473cbd=doc(db,_0xb889b4,_0x1220f0),_0x479b6e=await this['getPlayerRibbonsCached'](_0x1220f0,_0x56edb6),_0x3c1d91={..._0x479b6e,..._0x2d32de};await setDoc(_0x473cbd,{'username':_0x1220f0,'ladder':_0x56edb6,'ribbons':_0x3c1d91,'lastUpdated':new Date()},{'merge':!![]});}catch(_0xee1fd7){console['error']('Error\x20saving\x20ribbons:',_0xee1fd7);}}[a53_0x337c30(0xe4)](_0x1e0781,_0x2d1e15){const _0x4cd9d2=_0x2d1e15['Overachiever\x20Ribbon']||{'level':0x0},_0x4ab4eb=RIBBON_DEFINITIONS['Overachiever\x20Ribbon']['levels'],_0x18472d=_0x4ab4eb['findIndex'](_0xb80520=>_0x1e0781<_0xb80520),_0x1d3606=_0x18472d===-0x1?_0x4ab4eb['length']:_0x18472d;if(_0x1d3606>_0x4cd9d2['level'])return{'level':_0x1d3606,'awardedAt':new Date()};return null;}[a53_0x337c30(0x92)](_0x154cb3,_0x5340b1){const _0x1a028a=a53_0x337c30;if(_0x154cb3===0x0)return null;const _0x18b736=_0x5340b1['Rematch\x20Ribbon']||{'level':0x0};if(_0x154cb3>_0x18b736[_0x1a028a(0xd3)])return{'level':_0x154cb3,'awardedAt':new Date()};return null;}['evaluateSubGamerRibbonFromCount'](_0x26cb8d,_0xff0096){const _0x5c1ede=a53_0x337c30,_0x27da2d=_0xff0096['Sub-Gamer\x20Ribbon']||{'level':0x0},_0x133c1a=RIBBON_DEFINITIONS['Sub-Gamer\x20Ribbon']['levels'],_0x1a052e=_0x133c1a[_0x5c1ede(0x90)](_0x5004df=>_0x26cb8d<_0x5004df),_0x2cd2a9=_0x1a052e===-0x1?_0x133c1a['length']:_0x1a052e;if(_0x2cd2a9>_0x27da2d['level'])return{'level':_0x2cd2a9,'awardedAt':new Date()};return null;}['evaluateExplorerRibbonFromCount'](_0x272c1f,_0x3a0fc5){const _0x6a71e6=a53_0x337c30,_0x36f82a=_0x3a0fc5[_0x6a71e6(0xeb)]||{'level':0x0},_0x291bab=RIBBON_DEFINITIONS[_0x6a71e6(0xeb)]['levels'],_0x119205=_0x291bab['findIndex'](_0x1cb980=>_0x272c1f<_0x1cb980),_0x24005f=_0x119205===-0x1?_0x291bab['length']:_0x119205;if(_0x24005f>_0x36f82a['level'])return{'level':_0x24005f,'awardedAt':new Date()};return null;}['evaluateSocialiteRibbonFromCount'](_0x5bab6b,_0x3ffcea){const _0x298896=a53_0x337c30,_0x73f8d6=_0x3ffcea['Socialite\x20Ribbon']||{'level':0x0},_0x385ed5=RIBBON_DEFINITIONS['Socialite\x20Ribbon']['levels'],_0x5b8eac=_0x385ed5['findIndex'](_0x1e5552=>_0x5bab6b<_0x1e5552),_0x169143=_0x5b8eac===-0x1?_0x385ed5['length']:_0x5b8eac;if(_0x169143>_0x73f8d6[_0x298896(0xd3)])return{'level':_0x169143,'awardedAt':new Date()};return null;}[a53_0x337c30(0xfa)](_0xbd1dfa,_0xd812dd,_0x4d1138){const _0x3f903d=a53_0x337c30;if(_0x4d1138<0x32)return console[_0x3f903d(0x9c)]('âš ï¸\x20Brick\x20Wall\x20ribbon\x20requires\x2050+\x20matches\x20(player\x20has\x20'+_0x4d1138+')'),null;const _0x42e643=_0xd812dd['Brick\x20Wall']||{'level':0x0},_0x1ae70f=RIBBON_DEFINITIONS[_0x3f903d(0x9b)]['levels'],_0x42244d=_0x1ae70f['findIndex'](_0x419aa1=>_0xbd1dfa<_0x419aa1),_0x45b67a=_0x42244d===-0x1?_0x1ae70f['length']:_0x42244d;if(_0x45b67a>_0x42e643['level'])return console[_0x3f903d(0x9c)]('ðŸ†\x20Brick\x20Wall\x20ribbon\x20awarded:\x20'+_0xbd1dfa['toFixed'](0x1)+_0x3f903d(0xc4)+_0x4d1138+'\x20matches'),{'level':_0x45b67a,'awardedAt':new Date(),'winRate':_0xbd1dfa,'matchesPlayed':_0x4d1138};return null;}['evaluateCollectorRibbonFromCount'](_0x456992,_0x41f3a5){const _0x3e28f6=a53_0x337c30,_0x57bc74=_0x41f3a5['Collector\x20Ribbon']||{'level':0x0},_0x4b7a41=RIBBON_DEFINITIONS['Collector\x20Ribbon']['levels'],_0x24aa46=_0x4b7a41[_0x3e28f6(0x90)](_0x39d2da=>_0x456992<_0x39d2da),_0x350a14=_0x24aa46===-0x1?_0x4b7a41['length']:_0x24aa46;if(_0x350a14>_0x57bc74['level'])return{'level':_0x350a14,'awardedAt':new Date()};return null;}[a53_0x337c30(0xde)](_0x4f6386,_0x999f87){const _0x339d2c=a53_0x337c30;if(_0x4f6386===0x0)return null;const _0x16d8dd=_0x999f87['Underdog\x20Ribbon']||{'level':0x0},_0x442a1a=RIBBON_DEFINITIONS['Underdog\x20Ribbon']['levels'];let _0xdc9c15=0x0;for(let _0x1a0ceb=0x0;_0x1a0ceb<_0x442a1a['length'];_0x1a0ceb++){if(_0x4f6386>=_0x442a1a[_0x1a0ceb])_0xdc9c15=_0x1a0ceb+0x1;else break;}if(_0xdc9c15>_0x16d8dd['level'])return console[_0x339d2c(0x9c)]('ðŸ†\x20Underdog\x20Ribbon\x20upgrade:\x20Level\x20'+_0x16d8dd['level']+_0x339d2c(0x108)+_0xdc9c15+'\x20('+_0x4f6386+'\x20underdog\x20wins)'),{'level':_0xdc9c15,'awardedAt':new Date()};return null;}}function getPlayerRankTier(_0x16be30){if(_0x16be30===undefined||_0x16be30===null)return 0x0;const _0x21cae2=Number(_0x16be30);if(isNaN(_0x21cae2))return 0x0;if(_0x21cae2>=0x7d0)return 0x4;if(_0x21cae2>=0x708)return 0x3;if(_0x21cae2>=0x640)return 0x2;if(_0x21cae2>=0x578)return 0x1;return 0x0;}function getRankTierName(_0x5c4acd){const _0x276f73=a53_0x337c30,_0x4e5ca1=['Unranked',_0x276f73(0x94),'Silver',_0x276f73(0xad),'Emerald'];return _0x4e5ca1[_0x5c4acd]||_0x276f73(0xb6);}const ribbonSystem=new RibbonSystem(),ribbonCache=new RibbonCacheManager(),matchCache=new MatchCacheManager();typeof window!=='undefined'&&(window['getRibbonCacheStats']=()=>{const _0x282e56=a53_0x337c30;return{'ribbon':ribbonCache[_0x282e56(0xb0)](),'match':matchCache['getCacheStats']()};});export async function evaluatePlayerRibbons(_0x4b7b0b,_0x3c12f7='D1'){return await ribbonSystem['evaluateAllRibbonsForPlayerOptimized'](_0x4b7b0b,_0x3c12f7);}export function getRibbonHTML(_0x48ef60,_0x2bdcf5){const _0xb650f6=a53_0x337c30,_0x5381c9=RIBBON_DEFINITIONS[_0x48ef60];if(!_0x5381c9)return'';const _0x46fc9e=_0x2bdcf5['level']||0x1,_0x126cf2=_0x48ef60['replace'](_0xb650f6(0xf1),'')['replace']('\x20Badge',''),_0x1c23da=_0xea8e38=>{const _0x54038f=_0xb650f6;if(_0xea8e38<=0x1)return'level-1';if(_0xea8e38<=0x2)return _0x54038f(0x9e);if(_0xea8e38<=0x3)return'level-3';if(_0xea8e38<=0x4)return'level-4';return'level-5-plus';},_0x56327f=_0x5e3031=>{const _0x22a5c7=_0xb650f6;if(_0x5e3031<=0x1)return'';const _0x317e98=[];if(_0x5e3031>=0x2&&_0x5e3031<=0x4){const _0x3096e5=Math['min'](_0x5e3031-0x1,0x3);for(let _0x12bb74=0x0;_0x12bb74<_0x3096e5;_0x12bb74++){_0x317e98['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>');}}if(_0x5e3031>=0x5&&_0x5e3031<=0x7){_0x317e98[_0x22a5c7(0xb3)]('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20silver-star\x22></i>');const _0x401bdf=Math[_0x22a5c7(0xbc)](_0x5e3031-0x5,0x2);for(let _0x1a65e4=0x0;_0x1a65e4<_0x401bdf;_0x1a65e4++){_0x317e98['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>');}}return _0x5e3031>=0x8&&_0x317e98['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20gold-star\x22></i>'),_0x317e98['length']>0x0?'<div\x20class=\x22ribbon-devices\x22>'+_0x317e98['join']('')+'</div>':'';},_0xd8861e=_0x5381c9['description']+'\x20-\x20Level\x20'+_0x46fc9e;return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22military-ribbon\x22\x20data-tooltip=\x22'+_0xd8861e+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-image-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22'+_0x5381c9[_0xb650f6(0xce)]+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22'+_0x48ef60+_0xb650f6(0xca)+_0x5381c9['color']+';\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x126cf2[_0xb650f6(0xb7)](0x0,0x6)+_0xb650f6(0xae)+_0x56327f(_0x46fc9e)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-name\x22>'+_0x126cf2+_0xb650f6(0xb4)+(_0x46fc9e>0x1?'<div\x20class=\x22ribbon-level-indicator\x20'+_0x1c23da(_0x46fc9e)+'\x22>'+_0x46fc9e+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}