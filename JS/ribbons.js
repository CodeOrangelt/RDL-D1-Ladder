const a53_0x2aa963=a53_0x10d8,a53_0x15c02a=(function(){let _0x1238f0=!![];return function(_0x4088b6,_0x424238){const _0x5cf1db=_0x1238f0?function(){if(_0x424238){const _0x471fd1=_0x424238['apply'](_0x4088b6,arguments);return _0x424238=null,_0x471fd1;}}:function(){};return _0x1238f0=![],_0x5cf1db;};}()),a53_0x4c195b=a53_0x15c02a(this,function(){const _0x240219=a53_0x10d8,_0x4ea6f8=function(){const _0x333cb2=a53_0x10d8;let _0x5bf7e5;try{_0x5bf7e5=Function('return\x20(function()\x20'+_0x333cb2(0x1e9)+');')();}catch(_0x26d3d9){_0x5bf7e5=window;}return _0x5bf7e5;},_0xb4571b=_0x4ea6f8(),_0x23c06c=_0xb4571b['console']=_0xb4571b[_0x240219(0x1dd)]||{},_0x46e125=['log','warn','info','error','exception',_0x240219(0x20c),'trace'];for(let _0x25ed66=0x0;_0x25ed66<_0x46e125[_0x240219(0x232)];_0x25ed66++){const _0x44a840=a53_0x15c02a['constructor'][_0x240219(0x1ea)]['bind'](a53_0x15c02a),_0x177e71=_0x46e125[_0x25ed66],_0x5d452b=_0x23c06c[_0x177e71]||_0x44a840;_0x44a840['__proto__']=a53_0x15c02a['bind'](a53_0x15c02a),_0x44a840['toString']=_0x5d452b['toString']['bind'](_0x5d452b),_0x23c06c[_0x177e71]=_0x44a840;}});a53_0x4c195b();import{auth,db}from'./firebase-config.js';import{doc,getDoc,setDoc,collection,query,where,getDocs,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const RIBBON_DEFINITIONS={'Rematch\x20Ribbon':{'description':a53_0x2aa963(0x205),'image':'../images/ribbons/Rematch.png','color':a53_0x2aa963(0x1de)},'Overachiever\x20Ribbon':{'description':a53_0x2aa963(0x230),'image':'../images/ribbons/Overachiever.png','color':a53_0x2aa963(0x210),'levels':[0x64,0xc8,0x12c,0x190,0x1f4,0x258,0x2bc,0x320,0x384,0x3e8]},'Brick\x20Wall':{'description':'Amass\x20at\x20least\x2080%\x20overall\x20win\x20rate\x20percentage\x20(minimum\x2050\x20matches)','image':'../images/ribbons/BrickWall.png','color':a53_0x2aa963(0x1c0),'levels':[0x50,0x55,0x5a,0x5f,0x64]},'Collector\x20Ribbon':{'description':'Hold\x20more\x20than\x205\x20ribbons\x20at\x20a\x20time','image':a53_0x2aa963(0x203),'color':a53_0x2aa963(0x1bb),'levels':[0x5,0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32]},'Sub-Gamer\x20Ribbon':{'description':'Play\x20over\x2050\x20subgame\x20matches','image':a53_0x2aa963(0x1b2),'color':'#A29BFE','levels':[0x32,0x64,0x96,0xc8,0xfa,0x12c,0x15e,0x190,0x1c2,0x1f4]},'Explorer\x20Ribbon':{'description':'Played\x20at\x20least\x2020\x20unique\x20maps','image':'../images/ribbons/Explorer.png','color':'#55A3FF','levels':[0x14,0x28,0x3c,0x50,0x64,0x78,0x8c,0xa0,0xb4,0xc8]},'Socialite\x20Ribbon':{'description':a53_0x2aa963(0x1be),'image':a53_0x2aa963(0x222),'color':a53_0x2aa963(0x229),'levels':[0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32,0x37]},'Underdog\x20Ribbon':{'description':'Beat\x20a\x20pilot\x20ranked\x20higher\x20than\x20you','image':'../images/ribbons/Underdog.png','color':a53_0x2aa963(0x219),'levels':[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0x9,0xa]},'Domination\x20Ribbon':{'description':'Beat\x205\x20unique\x20pilots\x20in\x20a\x20rank\x20(including\x20your\x20own)','image':'../images/ribbons/Domination.png','color':'#8E44AD','levels':[0x1,0x2,0x3,0x4,0x5]},'Top\x20Bronze\x20Pilot':{'description':a53_0x2aa963(0x226),'image':a53_0x2aa963(0x1d7),'color':a53_0x2aa963(0x1b9)},'Top\x20Silver\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Silver\x20rank','image':'../images/ribbons/toprank.png','color':'#C0C0C0'},'Top\x20Gold\x20Pilot':{'description':a53_0x2aa963(0x1d5),'image':'../images/ribbons/toprank.png','color':'#FFD700'},'Top\x20Emerald\x20Pilot':{'description':a53_0x2aa963(0x1d9),'image':'../images/ribbons/toprank.png','color':a53_0x2aa963(0x225)}};function a53_0x10d8(_0xd0371b,_0x14a0f4){const _0x4c195b=a53_0x127f();return a53_0x10d8=function(_0x15c02a,_0x59bf55){_0x15c02a=_0x15c02a-0x1b1;let _0x127f14=_0x4c195b[_0x15c02a];return _0x127f14;},a53_0x10d8(_0xd0371b,_0x14a0f4);}export const RIBBON_CSS='\x0a/*\x20Stats\x20integration\x20styles\x20*/\x0a.ribbon-section\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-top:\x201rem;\x0a}\x0a\x0a.ribbon-stat-item.full-width\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-bottom:\x200;\x0a}\x0a\x0a/*\x20Military\x20Ribbon\x20Rack\x20Styling\x20-\x20NO\x20OUTER\x20CONTAINER\x20*/\x0a.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20padding:\x200;\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20box-shadow:\x20none;\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20align-items:\x20flex-start;\x0a}\x0a\x0a.ribbon-rack-empty-inline\x20{\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20padding:\x2060px\x2040px;\x0a\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20border-radius:\x2012px;\x0a\x20\x20\x20\x20border:\x202px\x20solid\x20rgba(255,\x20255,\x20255,\x200.1);\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a}\x0a\x0a.empty-rack-text\x20{\x0a\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20font-style:\x20italic;\x0a\x20\x20\x20\x20font-size:\x201.2rem;\x0a}\x0a\x0a/*\x20Ribbon\x20Rows\x20*/\x0a.ribbon-row\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x206px;\x0a\x20\x20\x20\x20margin-bottom:\x206px;\x0a\x20\x20\x20\x20justify-content:\x20flex-start;\x0a}\x0a\x0a.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20margin-left:\x2060px;\x0a}\x0a\x0a/*\x20Individual\x20Military\x20Ribbon\x20Styling\x20-\x20FIXED\x20OVERFLOW\x20FOR\x20LEVEL\x20INDICATOR\x20*/\x0a.military-ribbon\x20{\x0a\x20\x20\x20\x20position:\x20relative;\x0a\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20transition:\x20transform\x200.3s\x20ease;\x0a\x20\x20\x20\x20flex-shrink:\x200;\x0a\x20\x20\x20\x20width:\x20190px;\x0a\x20\x20\x20\x20height:\x2060px;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#333;\x0a\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20overflow:\x20visible;\x20/*\x20Changed\x20from\x20hidden\x20to\x20visible\x20*/\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20margin:\x2012px\x2012px\x2012px\x200;\x20/*\x20Added\x20margin\x20to\x20prevent\x20clipping\x20*/\x0a}\x0a\x0a.military-ribbon:hover\x20{\x0a\x20\x20\x20\x20transform:\x20translateY(-4px);\x0a\x20\x20\x20\x20z-index:\x2010;\x0a}\x0a\x0a/*\x20Ribbon\x20image\x20container\x20to\x20handle\x20the\x20actual\x20overflow\x20*/\x0a.ribbon-image-container\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20border-radius:\x201px;\x0a}\x0a\x0a.ribbon-image\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20object-fit:\x20cover;\x0a\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20image-rendering:\x20crisp-edges;\x0a}\x0a\x0a.ribbon-fallback\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20text-shadow:\x200\x202px\x204px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a}\x0a\x0a.ribbon-name\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.9);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201.2;\x0a\x20\x20\x20\x20margin-top:\x206px;\x0a\x20\x20\x20\x20max-width:\x20120px;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20text-overflow:\x20ellipsis;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20-24px;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20font-weight:\x20500;\x0a}\x0a\x0a.military-ribbon:hover\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20display:\x20block;\x0a}\x0a\x0a.ribbon-devices\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x2050%;\x0a\x20\x20\x20\x20right:\x206px;\x0a\x20\x20\x20\x20transform:\x20translateY(-50%);\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x203px;\x0a\x20\x20\x20\x20z-index:\x205;\x0a}\x0a\x0a.ribbon-device\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20text-shadow:\x200\x200\x204px\x20rgba(0,0,0,0.9);\x0a\x20\x20\x20\x20filter:\x20drop-shadow(0\x202px\x204px\x20rgba(0,0,0,0.8));\x0a}\x0a\x0a.bronze-star\x20{\x0a\x20\x20\x20\x20color:\x20#CD7F32;\x0a}\x0a\x0a.silver-star\x20{\x0a\x20\x20\x20\x20color:\x20#C0C0C0;\x0a}\x0a\x0a.gold-star\x20{\x0a\x20\x20\x20\x20color:\x20#FFD700;\x0a}\x0a\x0a/*\x20Level\x20indicator\x20-\x20NOW\x20FULLY\x20VISIBLE\x20*/\x0a.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x20-8px;\x0a\x20\x20\x20\x20right:\x20-8px;\x0a\x20\x20\x20\x20background:\x20#FFD700;\x0a\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20width:\x2024px;\x0a\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#FFF;\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x208px\x20rgba(0,0,0,0.7);\x0a\x20\x20\x20\x20z-index:\x206;\x0a}\x0a\x0a/*\x20Custom\x20tooltip\x20-\x20only\x20this\x20one\x20will\x20show\x20*/\x0a.military-ribbon::before\x20{\x0a\x20\x20\x20\x20content:\x20attr(data-tooltip);\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20100%;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20background:\x20rgba(0,0,0,0.95);\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20padding:\x208px\x2012px;\x0a\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20pointer-events:\x20none;\x0a\x20\x20\x20\x20transition:\x20opacity\x200.3s;\x0a\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20margin-bottom:\x208px;\x0a\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(255,\x20255,\x20255,\x200.2);\x0a}\x0a\x0a.military-ribbon:hover::before\x20{\x0a\x20\x20\x20\x20opacity:\x201;\x0a}\x0a\x0a/*\x20Responsive\x20adjustments\x20*/\x0a@media\x20(max-width:\x201024px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2034px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x208px\x208px\x208px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-6px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-6px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2052px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-20px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20768px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2028px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x206px\x206px\x206px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x209px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-5px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-5px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2042px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2011px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-18px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x205px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20480px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2070px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x205px\x205px\x205px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2036px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x204px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-4px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-4px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a.stats-grid\x20.ribbon-section\x20{\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20padding:\x200;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20{\x0a\x20\x20\x20\x20background-color:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20padding:\x2025px;\x0a\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20.stat-label\x20{\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20text-transform:\x20uppercase;\x0a\x20\x20\x20\x20opacity:\x200.9;\x0a\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.95);\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a}\x0a\x0a.ribbon-level-indicator.level-1\x20{\x20background:\x20#808080;\x20}\x0a.ribbon-level-indicator.level-2\x20{\x20background:\x20#CD7F32;\x20}\x0a.ribbon-level-indicator.level-3\x20{\x20background:\x20#b9f1fc;\x20}\x0a.ribbon-level-indicator.level-4\x20{\x20background:\x20#FFD700;\x20}\x0a.ribbon-level-indicator.level-5-plus\x20{\x20background:\x20#50C878;\x20}\x0a';class RibbonCacheManager{constructor(){const _0x234112=a53_0x2aa963;this['memoryCache']=new Map(),this[_0x234112(0x221)]=0x3c*0x3c*0x3e8,this[_0x234112(0x22b)]='ribbon_cache_',this[_0x234112(0x1b5)]=Date[_0x234112(0x234)](),this['CLEANUP_INTERVAL']=0x1e*0x3c*0x3e8;}['getCacheKey'](_0x241b63,_0x28c638){return''+this['CACHE_KEY_PREFIX']+_0x241b63+'_'+_0x28c638;}['getCachedData'](_0x4b7f4c,_0x376a16){const _0x526904=a53_0x2aa963;this['autoCleanup']();const _0x179c38=this['getCacheKey'](_0x4b7f4c,_0x376a16);if(this['memoryCache'][_0x526904(0x21a)](_0x179c38)){const _0x58b880=this['memoryCache']['get'](_0x179c38);if(Date['now']()-_0x58b880['timestamp']<this['CACHE_DURATION'])return console['log']('üöÄ\x20Cache\x20hit\x20(memory)\x20for\x20'+_0x4b7f4c),_0x58b880[_0x526904(0x209)];this['memoryCache']['delete'](_0x179c38);}const _0x1a1b01=localStorage[_0x526904(0x1d0)](_0x179c38);if(_0x1a1b01)try{const _0x1f48cb=JSON['parse'](_0x1a1b01);if(Date['now']()-_0x1f48cb['timestamp']<this['CACHE_DURATION'])return this['memoryCache']['set'](_0x179c38,{'data':_0x1f48cb[_0x526904(0x1e6)],'timestamp':_0x1f48cb['timestamp'],'matchCount':_0x1f48cb['matchCount']}),console[_0x526904(0x200)]('üíæ\x20Cache\x20hit\x20(localStorage)\x20for\x20'+_0x4b7f4c),_0x1f48cb['ribbons'];localStorage[_0x526904(0x22d)](_0x179c38);}catch(_0x22b216){localStorage['removeItem'](_0x179c38);}return null;}[a53_0x2aa963(0x1ff)](_0x28f491,_0x149678,_0x10dad6,_0x2389e7){const _0x1816c6=a53_0x2aa963,_0xc51f3a=this[_0x1816c6(0x1d6)](_0x28f491,_0x149678),_0x58f5f8=Date['now']();this['memoryCache']['set'](_0xc51f3a,{'data':_0x10dad6,'timestamp':_0x58f5f8,'matchCount':_0x2389e7});try{const _0x4e1b6d={'ribbons':_0x10dad6,'matchCount':_0x2389e7,'timestamp':_0x58f5f8,'version':0x3};localStorage[_0x1816c6(0x208)](_0xc51f3a,JSON['stringify'](_0x4e1b6d));}catch(_0x4da08d){this['clearOldCache']();try{localStorage['setItem'](_0xc51f3a,JSON[_0x1816c6(0x1f3)](data));}catch(_0x4796d2){}}}[a53_0x2aa963(0x207)](_0x3a1d71,_0x58d2db,_0x527175){const _0x10ba63=a53_0x2aa963,_0x4fff9d=this['getCacheKey'](_0x3a1d71,_0x58d2db);if(this['memoryCache']['has'](_0x4fff9d)){const _0xb17216=this[_0x10ba63(0x1cc)]['get'](_0x4fff9d);return _0xb17216['matchCount']!==_0x527175;}const _0xb6604f=localStorage['getItem'](_0x4fff9d);if(_0xb6604f)try{const _0x1cec9a=JSON['parse'](_0xb6604f);return _0x1cec9a['matchCount']!==_0x527175;}catch(_0x4d5768){return!![];}return!![];}['invalidatePlayerCache'](_0x512b41,_0x21f1e2){const _0x3ca4bf=a53_0x2aa963,_0x110512=this['getCacheKey'](_0x512b41,_0x21f1e2);this['memoryCache'][_0x3ca4bf(0x1bf)](_0x110512),localStorage['removeItem'](_0x110512),console[_0x3ca4bf(0x200)](_0x3ca4bf(0x1ce)+_0x512b41+'\x20('+_0x21f1e2+')\x20-\x20new\x20match\x20detected');}[a53_0x2aa963(0x1c9)](){const _0x59682f=a53_0x2aa963,_0x5aef87=Date['now']();_0x5aef87-this[_0x59682f(0x1b5)]>this[_0x59682f(0x1d1)]&&(this[_0x59682f(0x22a)](),this['lastCleanup']=_0x5aef87);}[a53_0x2aa963(0x22a)](){const _0x410435=a53_0x2aa963,_0x340bc7=Date[_0x410435(0x234)]();let _0x2b439f=0x0,_0x9f62e1=0x0;for(const [_0xe2be5b,_0x5d9a06]of this['memoryCache']['entries']()){_0x340bc7-_0x5d9a06['timestamp']>this['CACHE_DURATION']&&(this['memoryCache']['delete'](_0xe2be5b),_0x2b439f++);}for(let _0x94ffbd=localStorage['length']-0x1;_0x94ffbd>=0x0;_0x94ffbd--){const _0x3044a6=localStorage[_0x410435(0x1dc)](_0x94ffbd);if(_0x3044a6&&_0x3044a6['startsWith'](this['CACHE_KEY_PREFIX']))try{const _0x42693f=JSON['parse'](localStorage[_0x410435(0x1d0)](_0x3044a6));_0x340bc7-_0x42693f['timestamp']>this[_0x410435(0x221)]&&(localStorage['removeItem'](_0x3044a6),_0x9f62e1++);}catch(_0x113d82){localStorage['removeItem'](_0x3044a6),_0x9f62e1++;}}}['clearOldCache'](){const _0xc303ef=a53_0x2aa963,_0x25d08d=[];for(let _0x2f2943=0x0;_0x2f2943<localStorage[_0xc303ef(0x232)];_0x2f2943++){const _0x7999f0=localStorage['key'](_0x2f2943);if(_0x7999f0&&_0x7999f0[_0xc303ef(0x231)](this['CACHE_KEY_PREFIX']))try{const _0x407ea2=JSON['parse'](localStorage['getItem'](_0x7999f0));_0x25d08d['push']({'key':_0x7999f0,'timestamp':_0x407ea2['timestamp']});}catch(_0x543150){localStorage['removeItem'](_0x7999f0);}}_0x25d08d[_0xc303ef(0x1bc)]((_0x335d0f,_0x5e05b6)=>_0x335d0f['timestamp']-_0x5e05b6['timestamp']);const _0x1c3a68=Math['floor'](_0x25d08d[_0xc303ef(0x232)]/0x2);for(let _0x368a41=0x0;_0x368a41<_0x1c3a68;_0x368a41++){localStorage['removeItem'](_0x25d08d[_0x368a41]['key']);}}['getCacheStats'](){const _0x399057=a53_0x2aa963;return{'memoryEntries':this['memoryCache'][_0x399057(0x1b7)],'lastCleanup':new Date(this['lastCleanup'])[_0x399057(0x1f0)]()};}}class MatchCacheManager{constructor(){this['matchCache']=new Map(),this['CACHE_DURATION']=0xf*0x3c*0x3e8,this['lastCleanup']=Date['now']();}['getCachedMatches'](_0x3da932,_0x2cd6a1){const _0x1399c8=a53_0x2aa963;this[_0x1399c8(0x1c9)]();const _0x4acfab=_0x3da932+'_'+_0x2cd6a1,_0x23b960=this['matchCache']['get'](_0x4acfab);if(_0x23b960&&Date['now']()-_0x23b960['timestamp']<this['CACHE_DURATION'])return console['log']('üéØ\x20Cache\x20hit\x20(matches)\x20for\x20'+_0x3da932),_0x23b960[_0x1399c8(0x1f4)];return _0x23b960&&this[_0x1399c8(0x1ef)]['delete'](_0x4acfab),null;}['setCachedMatches'](_0x49b403,_0x270d93,_0x303647){const _0x220ba8=a53_0x2aa963,_0xe26e3c=_0x49b403+'_'+_0x270d93;this[_0x220ba8(0x1ef)][_0x220ba8(0x20e)](_0xe26e3c,{'matches':_0x303647,'timestamp':Date['now']()});}[a53_0x2aa963(0x1c9)](){const _0x20db51=a53_0x2aa963,_0x5f3a9f=Date['now']();if(_0x5f3a9f-this[_0x20db51(0x1b5)]>0x5*0x3c*0x3e8){let _0xf07564=0x0;for(const [_0x3bf3ff,_0x1237e6]of this['matchCache'][_0x20db51(0x218)]()){_0x5f3a9f-_0x1237e6['timestamp']>this[_0x20db51(0x221)]&&(this['matchCache'][_0x20db51(0x1bf)](_0x3bf3ff),_0xf07564++);}this['lastCleanup']=_0x5f3a9f;}}[a53_0x2aa963(0x227)](){const _0x18e17c=a53_0x2aa963;return{'entries':this[_0x18e17c(0x1ef)]['size'],'lastCleanup':new Date(this['lastCleanup'])[_0x18e17c(0x1f0)]()};}}class RibbonSystem{constructor(){const _0x40d3bb=a53_0x2aa963;this[_0x40d3bb(0x1fe)]=new Map(),this[_0x40d3bb(0x23d)]=null,this[_0x40d3bb(0x202)]=0x32,this['playerDataCache']=new Map();}async['bulkLoadPlayerData'](_0x116d4f,_0x2b934){const _0x178b32=a53_0x2aa963,_0x5e6b8a=_0x2b934==='D1'?_0x178b32(0x237):_0x2b934==='D2'?'playersD2':'playersD3',_0xe62278=collection(db,_0x5e6b8a),_0x1c5403=await getDocs(_0xe62278),_0xa1b7b2=new Map();return _0x1c5403[_0x178b32(0x1f1)](_0x4af47f=>{const _0x29d2e8=_0x178b32,_0x115424=_0x4af47f['data']();_0x115424[_0x29d2e8(0x1c5)]&&(_0x115424['eloRating']!==undefined&&(_0x115424[_0x29d2e8(0x201)]=_0x115424['eloRating']),_0xa1b7b2['set'](_0x115424['username'],_0x115424));}),console['log'](_0x178b32(0x1ed)+_0xa1b7b2['size']+_0x178b32(0x1b3)+_0x5e6b8a),_0xa1b7b2;}async[a53_0x2aa963(0x1f8)](_0x5eac5c,_0x588bf0,_0x22fc42,_0x19bb8c){const _0x2a71c7=a53_0x2aa963,_0x2d104f={},_0x19abca=_0x588bf0['username'],_0x5eb4e0={'totalMatches':_0x5eac5c[_0x2a71c7(0x232)],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0,'dominatedRanks':new Set()},_0x21098f=new Set();_0x5eac5c[_0x2a71c7(0x1f1)](_0x3f3555=>{const _0x37ff7b=_0x2a71c7,_0x87582b=_0x3f3555['winnerUsername']===_0x19abca,_0x32615b=_0x87582b?_0x3f3555[_0x37ff7b(0x1e4)]:_0x3f3555['winnerUsername'];if(_0x32615b)_0x21098f['add'](_0x32615b);}),console[_0x2a71c7(0x200)]('üöÄ\x20Bulk\x20loading\x20'+_0x21098f[_0x2a71c7(0x1b7)]+'\x20player\x20records\x20for\x20underdog\x20calculations...');const _0x3c10e7=await this[_0x2a71c7(0x211)]([..._0x21098f,_0x19abca],_0x19bb8c),_0x1b209a=_0x3c10e7['get'](_0x19abca);!_0x1b209a&&console['log']('‚ö†Ô∏è\x20No\x20current\x20player\x20data\x20found\x20for\x20'+_0x19abca);const _0x1edc9b={0x0:new Set(),0x1:new Set(),0x2:new Set(),0x3:new Set(),0x4:new Set()};_0x5eac5c['forEach'](_0x4c353e=>{const _0x587d8a=_0x2a71c7,_0x3c9f92=_0x4c353e['winnerUsername']===_0x19abca,_0x27b8a2=_0x3c9f92?_0x4c353e['loserUsername']:_0x4c353e['winnerUsername'];if(_0x3c9f92){_0x5eb4e0['wins']++;_0x4c353e['subgameType']==='Rematch'&&_0x5eb4e0[_0x587d8a(0x1db)]++;this[_0x587d8a(0x235)](_0x4c353e,_0x19abca,_0x1b209a,_0x3c10e7)&&_0x5eb4e0[_0x587d8a(0x1d8)]++;const _0x597101=_0x3c10e7[_0x587d8a(0x217)](_0x27b8a2);if(_0x597101){const _0x20cd7a=_0x597101['eloRating']||0x0,_0x51b98a=getPlayerRankTier(_0x20cd7a);_0x1edc9b[_0x51b98a]['add'](_0x27b8a2);}}_0x4c353e['subgameType']&&_0x4c353e['subgameType']!=='Standard'&&_0x5eb4e0['subgameMatches']++,_0x4c353e[_0x587d8a(0x1d4)]&&_0x5eb4e0[_0x587d8a(0x1c2)]['add'](_0x4c353e['mapPlayed']),_0x27b8a2&&_0x5eb4e0['uniqueOpponents'][_0x587d8a(0x1b8)](_0x27b8a2);}),Object['keys'](_0x1edc9b)['forEach'](_0xc5c1a7=>{_0x1edc9b[_0xc5c1a7]['size']>=0x5&&_0x5eb4e0['dominatedRanks']['add'](parseInt(_0xc5c1a7));}),console['log']('üéØ\x20Found\x20'+_0x5eb4e0['underdogWins']+_0x2a71c7(0x1eb)+_0x19abca),console['log']('üëë\x20Dominated\x20'+_0x5eb4e0[_0x2a71c7(0x214)]['size']+_0x2a71c7(0x1fb)+Array['from'](_0x5eb4e0['dominatedRanks'])['map'](_0x581d37=>getRankTierName(_0x581d37))['join'](',\x20')+']');const _0x3c21cc=_0x5eb4e0['totalMatches']>0x0?_0x5eb4e0['wins']/_0x5eb4e0[_0x2a71c7(0x1f5)]*0x64:0x0,_0x578027=[[_0x2a71c7(0x1e3),this['evaluateOverachieverRibbonFromCount'](_0x5eb4e0['totalMatches'],_0x22fc42)],['Rematch\x20Ribbon',this['evaluateRematchRibbonFromCount'](_0x5eb4e0[_0x2a71c7(0x1db)],_0x22fc42)],[_0x2a71c7(0x22f),this[_0x2a71c7(0x1da)](_0x5eb4e0[_0x2a71c7(0x20d)],_0x22fc42)],['Explorer\x20Ribbon',this['evaluateExplorerRibbonFromCount'](_0x5eb4e0[_0x2a71c7(0x1c2)][_0x2a71c7(0x1b7)],_0x22fc42)],['Socialite\x20Ribbon',this['evaluateSocialiteRibbonFromCount'](_0x5eb4e0['uniqueOpponents']['size'],_0x22fc42)],['Brick\x20Wall',this['evaluateBrickWallRibbonFromWinRate'](_0x3c21cc,_0x22fc42,_0x5eb4e0['totalMatches'])],[_0x2a71c7(0x1c6),this['evaluateUnderdogRibbonFromCount'](_0x5eb4e0['underdogWins'],_0x22fc42)],[_0x2a71c7(0x223),this[_0x2a71c7(0x238)](_0x5eb4e0['dominatedRanks']['size'],_0x22fc42)]];_0x578027[_0x2a71c7(0x1f1)](([_0x35cf68,_0x57d623])=>{_0x57d623&&(_0x2d104f[_0x35cf68]=_0x57d623);});const _0x59f7cf=Object[_0x2a71c7(0x21d)](_0x22fc42)['length']+Object[_0x2a71c7(0x21d)](_0x2d104f)['length'],_0x45cb23=this['evaluateCollectorRibbonFromCount'](_0x59f7cf,_0x22fc42);return _0x45cb23&&(_0x2d104f['Collector\x20Ribbon']=_0x45cb23),_0x2d104f;}['evaluateDominationRibbonFromRanks'](_0x31ab25,_0x55cd69){const _0x418d0f=a53_0x2aa963;if(_0x31ab25===0x0)return null;const _0x5b2e50=_0x55cd69['Domination\x20Ribbon']||{'level':0x0};if(_0x31ab25>_0x5b2e50['level']){const _0x10def6=[];for(let _0x2598a3=0x0;_0x2598a3<_0x31ab25;_0x2598a3++){_0x10def6['push'](getRankTierName(_0x2598a3));}return console[_0x418d0f(0x200)](_0x418d0f(0x1c4)+_0x5b2e50[_0x418d0f(0x215)]+'\x20‚Üí\x20'+_0x31ab25+_0x418d0f(0x1d2)+_0x10def6[_0x418d0f(0x1c7)](',\x20')+')'),{'level':_0x31ab25,'awardedAt':new Date(),'dominatedRanks':_0x10def6};}return null;}async[a53_0x2aa963(0x1bd)](_0x1ef96e,_0x557f3d){const _0x3c156f=a53_0x2aa963;try{const _0x21bbe2=_0x557f3d==='D1'?'players':_0x557f3d==='D2'?'playersD2':_0x3c156f(0x239),_0x51c7be=await this[_0x3c156f(0x23a)](_0x1ef96e,_0x557f3d);if(!_0x51c7be||_0x51c7be['eloRating']===undefined)return console['log']('‚ùå\x20No\x20ELO\x20rating\x20data\x20for\x20'+_0x1ef96e),null;const _0x19ea38=_0x51c7be[_0x3c156f(0x1ee)],_0x1b54f2=getPlayerRankTier(_0x19ea38),_0xad550e=getRankTierName(_0x1b54f2);if(_0xad550e===_0x3c156f(0x1f9))return console[_0x3c156f(0x200)]('‚ùå\x20'+_0x1ef96e+_0x3c156f(0x1fc)+_0x19ea38+'\x20ELO)'),null;console[_0x3c156f(0x200)]('üîç\x20Checking\x20Top\x20'+_0xad550e+'\x20status\x20for\x20'+_0x1ef96e+'\x20('+_0x19ea38+_0x3c156f(0x233));const _0x2809db=collection(db,_0x21bbe2),_0x2535ed=await getDocs(_0x2809db);let _0x55e390=null,_0x120441=-0x1,_0x2ce325=0x0;_0x2535ed['forEach'](_0x1441ac=>{const _0xa5aeca=_0x1441ac['data'](),_0x57df29=_0xa5aeca['eloRating']||0x0,_0x27829a=getPlayerRankTier(_0x57df29);_0x27829a===_0x1b54f2&&(_0x2ce325++,_0x57df29>_0x120441&&(_0x120441=_0x57df29,_0x55e390=_0xa5aeca['username']));});const _0x1fff85=_0x55e390===_0x1ef96e;return console['log']('üìä\x20'+_0xad550e+'\x20Tier:\x20'+_0x2ce325+'\x20players,\x20Top:\x20'+_0x55e390+'\x20('+_0x120441+_0x3c156f(0x1f7)+_0x1ef96e+'\x20is\x20#1:\x20'+_0x1fff85),_0x1fff85?_0xad550e:null;}catch(_0x32b5e1){return console[_0x3c156f(0x20b)]('Error\x20checking\x20top\x20rank\x20status:',_0x32b5e1),null;}}async['evaluateTopRankRibbon'](_0x4a465b,_0x3c3a35,_0xe670c){const _0x306e7a=a53_0x2aa963,_0x3136e5=await this['checkTopRankStatus'](_0x4a465b,_0x3c3a35),_0x30b005={};if(_0x3136e5){const _0x2c2cc6='Top\x20'+_0x3136e5+'\x20Pilot';if(RIBBON_DEFINITIONS[_0x2c2cc6]){const _0x3faa98=_0xe670c[_0x2c2cc6];!_0x3faa98?(console[_0x306e7a(0x200)]('üëë\x20NEW\x20Top\x20Rank\x20Achievement:\x20'+_0x4a465b+'\x20earned\x20'+_0x2c2cc6+'!'),_0x30b005[_0x2c2cc6]={'level':0x1,'awardedAt':new Date(),'rank':_0x3136e5,'achievedAt':new Date()}):console[_0x306e7a(0x200)]('‚úÖ\x20'+_0x4a465b+'\x20already\x20has\x20'+_0x2c2cc6+_0x306e7a(0x1d3));}}return Object['keys'](_0xe670c)['forEach'](_0x138902=>{const _0x3a2b26=_0x306e7a;_0x138902['startsWith']('Top\x20')&&_0x138902['endsWith'](_0x3a2b26(0x20a))&&(!_0x30b005[_0x138902]&&console['log'](_0x3a2b26(0x21c)+_0x138902));}),_0x30b005;}async['evaluateAllRibbonsForPlayerOptimized'](_0x485d9b,_0x5ba851='D1'){const _0x5d6b6e=a53_0x2aa963;try{const _0x227886=ribbonCache['getCachedData'](_0x485d9b,_0x5ba851);if(_0x227886){const _0xf0867f=await this['evaluateTopRankRibbon'](_0x485d9b,_0x5ba851,_0x227886);if(Object[_0x5d6b6e(0x21d)](_0xf0867f)['length']>0x0){console[_0x5d6b6e(0x200)](_0x5d6b6e(0x1fa)+_0x485d9b),await this[_0x5d6b6e(0x1cf)](_0x485d9b,_0xf0867f,_0x5ba851);const _0x559c4e={..._0x227886,..._0xf0867f};return ribbonCache['setCachedData'](_0x485d9b,_0x5ba851,_0x559c4e,0x0),_0x559c4e;}return _0x227886;}const [_0x144876,_0x151d99]=await Promise[_0x5d6b6e(0x1c8)]([this['getPlayerDataCached'](_0x485d9b,_0x5ba851),this[_0x5d6b6e(0x212)](_0x485d9b,_0x5ba851)]);if(!_0x144876)return{};const _0x28a1fc=_0x144876['matchesPlayed']||0x0,_0xcad115=await this['evaluateTopRankRibbon'](_0x485d9b,_0x5ba851,_0x151d99);if(!ribbonCache['shouldRefreshCache'](_0x485d9b,_0x5ba851,_0x28a1fc)){if(Object[_0x5d6b6e(0x21d)](_0xcad115)['length']>0x0){await this['savePlayerRibbonsOptimized'](_0x485d9b,_0xcad115,_0x5ba851);const _0x209f38={..._0x151d99,..._0xcad115};return ribbonCache[_0x5d6b6e(0x1ff)](_0x485d9b,_0x5ba851,_0x209f38,_0x28a1fc),_0x209f38;}return ribbonCache[_0x5d6b6e(0x1ff)](_0x485d9b,_0x5ba851,_0x151d99,_0x28a1fc),_0x151d99;}const _0x2dbd33=await this['getPlayerMatchesOptimized'](_0x485d9b,_0x5ba851),_0x3fc3ec=await this['evaluateAllRibbonsFromData'](_0x2dbd33,_0x144876,_0x151d99,_0x5ba851);Object['assign'](_0x3fc3ec,_0xcad115);Object[_0x5d6b6e(0x21d)](_0x3fc3ec)['length']>0x0&&(console[_0x5d6b6e(0x200)]('üíæ\x20Saving\x20'+Object['keys'](_0x3fc3ec)['length']+'\x20new/updated\x20ribbons\x20for\x20'+_0x485d9b),await this[_0x5d6b6e(0x1cf)](_0x485d9b,_0x3fc3ec,_0x5ba851));const _0x585bab={..._0x151d99,..._0x3fc3ec};return ribbonCache['setCachedData'](_0x485d9b,_0x5ba851,_0x585bab,_0x2dbd33['length']),_0x585bab;}catch(_0x36aa90){return console['error']('‚ùå\x20Error\x20in\x20ribbon\x20evaluation:',_0x36aa90),{};}}async[a53_0x2aa963(0x1cd)](_0xd41995,_0x394319,_0x1fa8c8){const _0x2c01d7=a53_0x2aa963,_0x4f7e96=_0xd41995['winnerUsername']===_0x394319;if(!_0x4f7e96)return![];const _0x1d7dff=_0xd41995['loserUsername'],[_0x3932d5,_0x2b62d7]=await Promise['all']([this[_0x2c01d7(0x23a)](_0x394319,_0x1fa8c8),this['getPlayerDataCached'](_0x1d7dff,_0x1fa8c8)]);if(!_0x3932d5||!_0x2b62d7)return console['log']('‚ö†Ô∏è\x20Missing\x20player\x20data\x20for\x20'+_0x394319+'\x20or\x20'+_0x1d7dff),![];const _0x1fb211=_0x3932d5['eloRating']||0x0,_0x535b1c=_0x2b62d7['eloRating']||0x0,_0x2d4edd=getPlayerRankTier(_0x1fb211),_0x3e16a7=getPlayerRankTier(_0x535b1c);console['log']('üîç\x20Checking\x20underdog:\x20Winner('+_0x394319+'):\x20'+_0x1fb211+_0x2c01d7(0x224)+getRankTierName(_0x2d4edd)+')\x20vs\x20Loser('+_0x1d7dff+'):\x20'+_0x535b1c+'\x20ELO\x20('+getRankTierName(_0x3e16a7)+')');if(_0x3e16a7>_0x2d4edd)return console['log']('üéØ\x20UNDERDOG\x20VICTORY:\x20'+getRankTierName(_0x2d4edd)+'\x20beat\x20'+getRankTierName(_0x3e16a7)+'!'),!![];return console['log']('‚ùå\x20Not\x20underdog:\x20'+getRankTierName(_0x2d4edd)+'\x20vs\x20'+getRankTierName(_0x3e16a7)),![];}[a53_0x2aa963(0x235)](_0xeb9c17,_0xafc23e,_0x49540d,_0x5f56a3){const _0x9c8168=_0xeb9c17['winnerUsername']===_0xafc23e;if(!_0x9c8168)return![];const _0x4f10b2=_0xeb9c17['loserUsername'],_0x203934=_0x5f56a3['get'](_0x4f10b2);if(!_0x49540d||!_0x203934)return![];const _0xb4d991=_0x49540d['eloRating']||0x0,_0x41ad82=_0x203934['eloRating']||0x0,_0x2a1443=getPlayerRankTier(_0xb4d991),_0x597778=getPlayerRankTier(_0x41ad82);if(_0x597778>_0x2a1443)return console['log']('üéØ\x20UNDERDOG:\x20'+getRankTierName(_0x2a1443)+'('+_0xb4d991+')\x20beat\x20'+getRankTierName(_0x597778)+'('+_0x41ad82+')'),!![];return![];}async[a53_0x2aa963(0x1f8)](_0x133cb1,_0x3c6402,_0x44f771,_0x2fd75e){const _0x29f405=a53_0x2aa963,_0x24706b={},_0x37e8b0=_0x3c6402[_0x29f405(0x1c5)],_0x52713={'totalMatches':_0x133cb1['length'],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0},_0x338ff1=new Set();_0x133cb1['forEach'](_0x13b0bc=>{const _0x2d5374=_0x29f405,_0x5c5832=_0x13b0bc['winnerUsername']===_0x37e8b0,_0x391aba=_0x5c5832?_0x13b0bc[_0x2d5374(0x1e4)]:_0x13b0bc['winnerUsername'];if(_0x391aba)_0x338ff1['add'](_0x391aba);}),console['log']('üöÄ\x20Bulk\x20loading\x20'+_0x338ff1['size']+'\x20player\x20records\x20for\x20underdog\x20calculations...');const _0x3b2666=await this['bulkLoadPlayerData']([..._0x338ff1,_0x37e8b0],_0x2fd75e),_0x492348=_0x3b2666[_0x29f405(0x217)](_0x37e8b0);!_0x492348&&console['log']('‚ö†Ô∏è\x20No\x20current\x20player\x20data\x20found\x20for\x20'+_0x37e8b0);_0x133cb1[_0x29f405(0x1f1)](_0x310ba4=>{const _0x4b9266=_0x29f405,_0x2629c6=_0x310ba4[_0x4b9266(0x1ec)]===_0x37e8b0,_0x14cafa=_0x2629c6?_0x310ba4['loserUsername']:_0x310ba4['winnerUsername'];_0x2629c6&&(_0x52713[_0x4b9266(0x1b6)]++,_0x310ba4['subgameType']==='Rematch'&&_0x52713['rematchWins']++,this['isUnderdogVictoryFast'](_0x310ba4,_0x37e8b0,_0x492348,_0x3b2666)&&_0x52713[_0x4b9266(0x1d8)]++),_0x310ba4['subgameType']&&_0x310ba4[_0x4b9266(0x236)]!=='Standard'&&_0x52713['subgameMatches']++,_0x310ba4['mapPlayed']&&_0x52713['uniqueMaps']['add'](_0x310ba4['mapPlayed']),_0x14cafa&&_0x52713[_0x4b9266(0x21f)][_0x4b9266(0x1b8)](_0x14cafa);}),console[_0x29f405(0x200)](_0x29f405(0x1e5)+_0x52713[_0x29f405(0x1d8)]+_0x29f405(0x1eb)+_0x37e8b0);const _0x545f9c=_0x52713[_0x29f405(0x1f5)]>0x0?_0x52713['wins']/_0x52713[_0x29f405(0x1f5)]*0x64:0x0,_0x28214a=[[_0x29f405(0x1e3),this['evaluateOverachieverRibbonFromCount'](_0x52713[_0x29f405(0x1f5)],_0x44f771)],['Rematch\x20Ribbon',this['evaluateRematchRibbonFromCount'](_0x52713['rematchWins'],_0x44f771)],[_0x29f405(0x22f),this[_0x29f405(0x1da)](_0x52713['subgameMatches'],_0x44f771)],['Explorer\x20Ribbon',this[_0x29f405(0x228)](_0x52713['uniqueMaps']['size'],_0x44f771)],['Socialite\x20Ribbon',this['evaluateSocialiteRibbonFromCount'](_0x52713['uniqueOpponents']['size'],_0x44f771)],[_0x29f405(0x1e0),this['evaluateBrickWallRibbonFromWinRate'](_0x545f9c,_0x44f771,_0x52713['totalMatches'])],[_0x29f405(0x1c6),this['evaluateUnderdogRibbonFromCount'](_0x52713['underdogWins'],_0x44f771)]];_0x28214a['forEach'](([_0x3d8bcf,_0x423684])=>{_0x423684&&(_0x24706b[_0x3d8bcf]=_0x423684);});const _0x273eaf=Object['keys'](_0x44f771)['length']+Object['keys'](_0x24706b)['length'],_0x2946b6=this['evaluateCollectorRibbonFromCount'](_0x273eaf,_0x44f771);return _0x2946b6&&(_0x24706b['Collector\x20Ribbon']=_0x2946b6),_0x24706b;}async['getPlayerMatchesOptimized'](_0x56c003,_0x100349){const _0x1a8a5a=a53_0x2aa963,_0x432699=matchCache[_0x1a8a5a(0x20f)](_0x56c003,_0x100349);if(_0x432699)return _0x432699;try{const _0x223c74=_0x100349==='D1'?_0x1a8a5a(0x1ca):_0x100349==='D2'?'approvedMatchesD2':'approvedMatchesD3',_0x1f51cf=collection(db,_0x223c74),[_0x27f614,_0x473394]=await Promise[_0x1a8a5a(0x1c8)]([getDocs(query(_0x1f51cf,where('winnerUsername','==',_0x56c003))),getDocs(query(_0x1f51cf,where('loserUsername','==',_0x56c003)))]),_0x5ec708=new Set(),_0x30d081=[];return _0x27f614['forEach'](_0x52cb67=>{const _0x6b6e11=_0x1a8a5a;if(!_0x5ec708['has'](_0x52cb67['id'])){_0x5ec708['add'](_0x52cb67['id']);const _0x5a2475={'id':_0x52cb67['id'],..._0x52cb67['data']()};if(!_0x5a2475[_0x6b6e11(0x1e8)])_0x5a2475['winnerRating']=0x0;if(!_0x5a2475[_0x6b6e11(0x1e1)])_0x5a2475[_0x6b6e11(0x1e1)]=0x0;_0x30d081['push'](_0x5a2475);}}),_0x473394[_0x1a8a5a(0x1f1)](_0x22946c=>{const _0x18efa4=_0x1a8a5a;if(!_0x5ec708[_0x18efa4(0x21a)](_0x22946c['id'])){_0x5ec708['add'](_0x22946c['id']);const _0x386b08={'id':_0x22946c['id'],..._0x22946c['data']()};if(!_0x386b08['winnerRating'])_0x386b08['winnerRating']=0x0;if(!_0x386b08[_0x18efa4(0x1e1)])_0x386b08[_0x18efa4(0x1e1)]=0x0;_0x30d081['push'](_0x386b08);}}),matchCache['setCachedMatches'](_0x56c003,_0x100349,_0x30d081),_0x30d081;}catch(_0xd37d8d){return console['error'](_0x1a8a5a(0x216),_0xd37d8d),[];}}async['getPlayerDataCached'](_0x174d67,_0x3cb59d){const _0x5bffac=a53_0x2aa963;try{const _0x454942=_0x3cb59d==='D1'?_0x5bffac(0x237):_0x3cb59d==='D2'?'playersD2':'playersD3',_0x45c779=collection(db,_0x454942),_0xfd9fb0=query(_0x45c779,where(_0x5bffac(0x1c5),'==',_0x174d67),limit(0x1)),_0x2d597d=await getDocs(_0xfd9fb0);if(_0x2d597d[_0x5bffac(0x213)])return console['log']('‚ùå\x20No\x20player\x20data\x20found\x20for\x20'+_0x174d67+'\x20in\x20'+_0x454942),null;const _0x3b1ac5=_0x2d597d['docs'][0x0]['data']();return _0x3b1ac5['eloRating']!==undefined&&(_0x3b1ac5['rating']=_0x3b1ac5[_0x5bffac(0x1ee)]),console['log'](_0x5bffac(0x22e)+_0x174d67+':\x20ELO\x20'+_0x3b1ac5['eloRating']+_0x5bffac(0x1f2)+_0x3b1ac5['position']),_0x3b1ac5;}catch(_0x206056){return console['error']('Error\x20getting\x20player\x20data\x20for\x20'+_0x174d67+':',_0x206056),null;}}async['getPlayerRibbonsCached'](_0x3f2e56,_0x43be6e){const _0x2d0197=a53_0x2aa963;try{const _0x34a73e='playerRibbons'+(_0x43be6e==='D1'?'':_0x43be6e),_0x145dd3=doc(db,_0x34a73e,_0x3f2e56),_0x327c95=await getDoc(_0x145dd3);return _0x327c95['exists']()?_0x327c95[_0x2d0197(0x209)]()['ribbons']||{}:{};}catch(_0x3e35ff){return console['error'](_0x2d0197(0x1cb),_0x3e35ff),{};}}async['savePlayerRibbonsOptimized'](_0xf1a90f,_0x20285c,_0x739584){const _0x53a3b4=a53_0x2aa963;try{const _0x52c817='playerRibbons'+(_0x739584==='D1'?'':_0x739584),_0x4384cd=doc(db,_0x52c817,_0xf1a90f),_0x4ff6ec=await this['getPlayerRibbonsCached'](_0xf1a90f,_0x739584),_0x4ed1eb={..._0x4ff6ec,..._0x20285c};await setDoc(_0x4384cd,{'username':_0xf1a90f,'ladder':_0x739584,'ribbons':_0x4ed1eb,'lastUpdated':new Date()},{'merge':!![]});}catch(_0x41376b){console['error'](_0x53a3b4(0x22c),_0x41376b);}}['evaluateOverachieverRibbonFromCount'](_0x549eaf,_0x26c1de){const _0x26a5ec=a53_0x2aa963,_0x3d0545=_0x26c1de['Overachiever\x20Ribbon']||{'level':0x0},_0xa66a49=RIBBON_DEFINITIONS['Overachiever\x20Ribbon'][_0x26a5ec(0x1df)],_0x4c0136=_0xa66a49['findIndex'](_0x3399da=>_0x549eaf<_0x3399da),_0x5bb627=_0x4c0136===-0x1?_0xa66a49['length']:_0x4c0136;if(_0x5bb627>_0x3d0545[_0x26a5ec(0x215)])return{'level':_0x5bb627,'awardedAt':new Date()};return null;}['evaluateRematchRibbonFromCount'](_0x17981e,_0x21747b){if(_0x17981e===0x0)return null;const _0x284140=_0x21747b['Rematch\x20Ribbon']||{'level':0x0};if(_0x17981e>_0x284140['level'])return{'level':_0x17981e,'awardedAt':new Date()};return null;}['evaluateSubGamerRibbonFromCount'](_0x31c34d,_0x27f641){const _0x4ef7c5=a53_0x2aa963,_0x8fdd7e=_0x27f641['Sub-Gamer\x20Ribbon']||{'level':0x0},_0x320b2d=RIBBON_DEFINITIONS['Sub-Gamer\x20Ribbon'][_0x4ef7c5(0x1df)],_0x7775c=_0x320b2d['findIndex'](_0x5a8f26=>_0x31c34d<_0x5a8f26),_0x5cf8bb=_0x7775c===-0x1?_0x320b2d['length']:_0x7775c;if(_0x5cf8bb>_0x8fdd7e['level'])return{'level':_0x5cf8bb,'awardedAt':new Date()};return null;}['evaluateExplorerRibbonFromCount'](_0x383486,_0x66de26){const _0x3ba3e1=a53_0x2aa963,_0x47b4de=_0x66de26['Explorer\x20Ribbon']||{'level':0x0},_0x486149=RIBBON_DEFINITIONS[_0x3ba3e1(0x206)]['levels'],_0x594013=_0x486149['findIndex'](_0x16d089=>_0x383486<_0x16d089),_0x1e51c2=_0x594013===-0x1?_0x486149[_0x3ba3e1(0x232)]:_0x594013;if(_0x1e51c2>_0x47b4de['level'])return{'level':_0x1e51c2,'awardedAt':new Date()};return null;}[a53_0x2aa963(0x1e7)](_0x31d81a,_0x3121d8){const _0x46d07f=a53_0x2aa963,_0x2bdaa1=_0x3121d8['Socialite\x20Ribbon']||{'level':0x0},_0x49465b=RIBBON_DEFINITIONS[_0x46d07f(0x1c3)]['levels'],_0x109d48=_0x49465b['findIndex'](_0x1eae7a=>_0x31d81a<_0x1eae7a),_0x43ccbe=_0x109d48===-0x1?_0x49465b['length']:_0x109d48;if(_0x43ccbe>_0x2bdaa1[_0x46d07f(0x215)])return{'level':_0x43ccbe,'awardedAt':new Date()};return null;}['evaluateBrickWallRibbonFromWinRate'](_0x11f24e,_0x17512c,_0x464c5a){const _0x498c9a=a53_0x2aa963;if(_0x464c5a<0x32)return console['log']('‚ö†Ô∏è\x20Brick\x20Wall\x20ribbon\x20requires\x2050+\x20matches\x20(player\x20has\x20'+_0x464c5a+')'),null;const _0xc1a41d=_0x17512c['Brick\x20Wall']||{'level':0x0},_0x4087fc=RIBBON_DEFINITIONS['Brick\x20Wall']['levels'],_0x531832=_0x4087fc['findIndex'](_0x46300c=>_0x11f24e<_0x46300c),_0x378b01=_0x531832===-0x1?_0x4087fc[_0x498c9a(0x232)]:_0x531832;if(_0x378b01>_0xc1a41d[_0x498c9a(0x215)])return console['log']('üèÜ\x20Brick\x20Wall\x20ribbon\x20awarded:\x20'+_0x11f24e['toFixed'](0x1)+_0x498c9a(0x1b4)+_0x464c5a+'\x20matches'),{'level':_0x378b01,'awardedAt':new Date(),'winRate':_0x11f24e,'matchesPlayed':_0x464c5a};return null;}['evaluateCollectorRibbonFromCount'](_0x1c9653,_0x31f345){const _0x577a83=a53_0x2aa963,_0x2b6d02=_0x31f345['Collector\x20Ribbon']||{'level':0x0},_0x53d2cb=RIBBON_DEFINITIONS['Collector\x20Ribbon'][_0x577a83(0x1df)],_0x24a004=_0x53d2cb['findIndex'](_0x20b2c9=>_0x1c9653<_0x20b2c9),_0x1b8381=_0x24a004===-0x1?_0x53d2cb[_0x577a83(0x232)]:_0x24a004;if(_0x1b8381>_0x2b6d02[_0x577a83(0x215)])return{'level':_0x1b8381,'awardedAt':new Date()};return null;}['evaluateUnderdogRibbonFromCount'](_0x27e2bb,_0x248fa6){const _0x331d07=a53_0x2aa963;if(_0x27e2bb===0x0)return null;const _0x34bd9f=_0x248fa6['Underdog\x20Ribbon']||{'level':0x0},_0x4a5799=RIBBON_DEFINITIONS[_0x331d07(0x1c6)][_0x331d07(0x1df)];let _0x214a29=0x0;for(let _0x4a441e=0x0;_0x4a441e<_0x4a5799[_0x331d07(0x232)];_0x4a441e++){if(_0x27e2bb>=_0x4a5799[_0x4a441e])_0x214a29=_0x4a441e+0x1;else break;}if(_0x214a29>_0x34bd9f['level'])return console[_0x331d07(0x200)]('üèÜ\x20Underdog\x20Ribbon\x20upgrade:\x20Level\x20'+_0x34bd9f['level']+_0x331d07(0x21e)+_0x214a29+'\x20('+_0x27e2bb+_0x331d07(0x204)),{'level':_0x214a29,'awardedAt':new Date()};return null;}}function getPlayerRankTier(_0x3595ca){if(_0x3595ca===undefined||_0x3595ca===null)return 0x0;const _0x428b3e=Number(_0x3595ca);if(isNaN(_0x428b3e))return 0x0;if(_0x428b3e>=0x7d0)return 0x4;if(_0x428b3e>=0x708)return 0x3;if(_0x428b3e>=0x640)return 0x2;if(_0x428b3e>=0x578)return 0x1;return 0x0;}function getRankTierName(_0x5bf3aa){const _0x369943=a53_0x2aa963,_0x41ef9c=[_0x369943(0x1f9),'Bronze',_0x369943(0x220),'Gold','Emerald'];return _0x41ef9c[_0x5bf3aa]||'Unranked';}function a53_0x127f(){const _0x293d09=['description','../images/ribbons/Subgamer.png','\x20players\x20from\x20','%\x20win\x20rate\x20over\x20','lastCleanup','wins','size','add','#CD7F32','</div>','#6C5CE7','sort','checkTopRankStatus','Played\x20at\x20least\x2010\x20unique\x20pilots','delete','#F0932B','image','uniqueMaps','Socialite\x20Ribbon','üëë\x20Domination\x20Ribbon\x20awarded:\x20Level\x20','username','Underdog\x20Ribbon','join','all','autoCleanup','approvedMatches','Error\x20getting\x20player\x20ribbons:','memoryCache','isUnderdogVictory','üóëÔ∏è\x20Invalidated\x20cache\x20for\x20','savePlayerRibbonsOptimized','getItem','CLEANUP_INTERVAL','\x20(Dominated:\x20','\x20-\x20No\x20changes\x20needed','mapPlayed','Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Gold\x20rank','getCacheKey','../images/ribbons/toprank.png','underdogWins','Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Emerald\x20rank','evaluateSubGamerRibbonFromCount','rematchWins','key','console','#FF6B6B','levels','Brick\x20Wall','loserRating',';\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Overachiever\x20Ribbon','loserUsername','üéØ\x20Found\x20','ribbons','evaluateSocialiteRibbonFromCount','winnerRating','{}.constructor(\x22return\x20this\x22)(\x20)','prototype','\x20underdog\x20victories\x20for\x20','winnerUsername','üìä\x20Bulk\x20loaded\x20','eloRating','matchCache','toLocaleTimeString','forEach',',\x20Position\x20','stringify','matches','totalMatches','push','\x20ELO),\x20','evaluateAllRibbonsFromData','Unranked','üÜï\x20New\x20top\x20rank\x20achievements\x20found\x20for\x20cached\x20player\x20','\x20ranks:\x20[','\x20is\x20Unranked\x20(','\x20-\x20Level\x20','pendingEvaluations','setCachedData','log','rating','BATCH_DELAY','../images/ribbons/Collector.png','\x20underdog\x20wins)','Beat\x20a\x20pilot\x20with\x20the\x20\x22Rematch\x22\x20subgame\x20selected','Explorer\x20Ribbon','shouldRefreshCache','setItem','data','\x20Pilot','error','table','subgameMatches','set','getCachedMatches','#96CEB4','bulkLoadPlayerData','getPlayerRibbonsCached','empty','dominatedRanks','level','‚ùå\x20Error\x20fetching\x20matches:','get','entries','#FF9500','has','min','‚úÖ\x20Preserving\x20existing\x20','keys','\x20‚Üí\x20','uniqueOpponents','Silver','CACHE_DURATION','../images/ribbons/Socialite.png','Domination\x20Ribbon','\x20ELO\x20(','#50C878','Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Bronze\x20rank','getCacheStats','evaluateExplorerRibbonFromCount','#FF7675','cleanup','CACHE_KEY_PREFIX','Error\x20saving\x20ribbons:','removeItem','‚úÖ\x20Found\x20player\x20data\x20for\x20','Sub-Gamer\x20Ribbon','Played\x20over\x20100\x20matches','startsWith','length','\x20ELO)','now','isUnderdogVictoryFast','subgameType','players','evaluateDominationRibbonFromRanks','playersD3','getPlayerDataCached','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22ribbon-image\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27;\x20this.nextElementSibling.style.display=\x27block\x27;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-fallback\x22\x20style=\x22display:\x20none;\x20background:\x20','batchTimer'];a53_0x127f=function(){return _0x293d09;};return a53_0x127f();}const ribbonSystem=new RibbonSystem(),ribbonCache=new RibbonCacheManager(),matchCache=new MatchCacheManager();typeof window!=='undefined'&&(window['getRibbonCacheStats']=()=>{const _0x3302e5=a53_0x2aa963;return{'ribbon':ribbonCache[_0x3302e5(0x227)](),'match':matchCache[_0x3302e5(0x227)]()};});export async function evaluatePlayerRibbons(_0x577bc5,_0x36a165='D1'){return await ribbonSystem['evaluateAllRibbonsForPlayerOptimized'](_0x577bc5,_0x36a165);}export function getRibbonHTML(_0x1fa4ac,_0x5a2170){const _0x4ff515=a53_0x2aa963,_0x36e025=RIBBON_DEFINITIONS[_0x1fa4ac];if(!_0x36e025)return'';const _0x51d5b7=_0x5a2170['level']||0x1,_0x291b17=_0x1fa4ac['replace']('\x20Ribbon','')['replace']('\x20Badge',''),_0x342ab2=_0x132ef4=>{if(_0x132ef4<=0x1)return'level-1';if(_0x132ef4<=0x2)return'level-2';if(_0x132ef4<=0x3)return'level-3';if(_0x132ef4<=0x4)return'level-4';return'level-5-plus';},_0x3513f3=_0x41f597=>{const _0x10e12b=a53_0x10d8;if(_0x41f597<=0x1)return'';const _0x5d074c=[];if(_0x41f597>=0x2&&_0x41f597<=0x4){const _0x359b07=Math['min'](_0x41f597-0x1,0x3);for(let _0x54e237=0x0;_0x54e237<_0x359b07;_0x54e237++){_0x5d074c['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>');}}if(_0x41f597>=0x5&&_0x41f597<=0x7){_0x5d074c[_0x10e12b(0x1f6)]('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20silver-star\x22></i>');const _0x3f2586=Math[_0x10e12b(0x21b)](_0x41f597-0x5,0x2);for(let _0x5ad517=0x0;_0x5ad517<_0x3f2586;_0x5ad517++){_0x5d074c['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>');}}return _0x41f597>=0x8&&_0x5d074c[_0x10e12b(0x1f6)]('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20gold-star\x22></i>'),_0x5d074c[_0x10e12b(0x232)]>0x0?'<div\x20class=\x22ribbon-devices\x22>'+_0x5d074c['join']('')+'</div>':'';},_0x332098=_0x36e025[_0x4ff515(0x1b1)]+_0x4ff515(0x1fd)+_0x51d5b7;return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22military-ribbon\x22\x20data-tooltip=\x22'+_0x332098+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-image-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22'+_0x36e025[_0x4ff515(0x1c1)]+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22'+_0x1fa4ac+_0x4ff515(0x23c)+_0x36e025['color']+_0x4ff515(0x1e2)+_0x291b17['substring'](0x0,0x6)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3513f3(_0x51d5b7)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-name\x22>'+_0x291b17+_0x4ff515(0x23b)+(_0x51d5b7>0x1?'<div\x20class=\x22ribbon-level-indicator\x20'+_0x342ab2(_0x51d5b7)+'\x22>'+_0x51d5b7+_0x4ff515(0x1ba):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}