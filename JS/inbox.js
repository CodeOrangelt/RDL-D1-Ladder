const a24_0x4145c8=a24_0x21fe,a24_0x131254=(function(){let _0x2c7807=!![];return function(_0x3403f7,_0x261aa6){const _0x157eec=_0x2c7807?function(){if(_0x261aa6){const _0x56af11=_0x261aa6['apply'](_0x3403f7,arguments);return _0x261aa6=null,_0x56af11;}}:function(){};return _0x2c7807=![],_0x157eec;};}()),a24_0x13934d=a24_0x131254(this,function(){const _0x30c709=a24_0x21fe,_0x49c5c8=function(){const _0x542471=a24_0x21fe;let _0x50d19a;try{_0x50d19a=Function('return\x20(function()\x20'+_0x542471(0x177)+');')();}catch(_0x1dcb88){_0x50d19a=window;}return _0x50d19a;},_0x187ed1=_0x49c5c8(),_0x3ed58b=_0x187ed1['console']=_0x187ed1[_0x30c709(0x190)]||{},_0x1c9c16=['log','warn','info','error','exception','table','trace'];for(let _0x23b983=0x0;_0x23b983<_0x1c9c16['length'];_0x23b983++){const _0x34e72d=a24_0x131254['constructor']['prototype']['bind'](a24_0x131254),_0x5b2eaa=_0x1c9c16[_0x23b983],_0x5a8c40=_0x3ed58b[_0x5b2eaa]||_0x34e72d;_0x34e72d['__proto__']=a24_0x131254['bind'](a24_0x131254),_0x34e72d['toString']=_0x5a8c40['toString']['bind'](_0x5a8c40),_0x3ed58b[_0x5b2eaa]=_0x34e72d;}});function a24_0x21fe(_0x5cb3c9,_0x2dcb29){const _0x13934d=a24_0x1038();return a24_0x21fe=function(_0x131254,_0x323ca8){_0x131254=_0x131254-0x15b;let _0x10381d=_0x13934d[_0x131254];return _0x10381d;},a24_0x21fe(_0x5cb3c9,_0x2dcb29);}a24_0x13934d();import{auth,db}from'./firebase-config.js';import{collection,query,where,orderBy,getDocs,doc,updateDoc,onSnapshot,limit,startAfter}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';function a24_0x1038(){const _0xa5098a=['updateNotificationCount','#cancel-response','href','click','#send-response','status','accepted','docs','toDate','createdAt','data','type','display','all','Team\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','inline-block','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-card\x20','style','remove','.modal-close','setupActionListeners','setupEventListeners','active','d\x20ago','addEventListener','target','outbox','{}.constructor(\x22return\x20this\x22)(\x20)','map','find','pending','modal-overlay','unsubscribe','.filter-btn','\x20invitation.\x20Please\x20try\x20again.','m\x20ago','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','error','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','textContent','lastDoc','renderInvitations','classList','invitations','init','currentFilter','sentInvitations','team_invite','message','fromUsername','dataset','inbox-content','console','teamData','success','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','response-message','toLocaleDateString','sentUnsubscribe','none','./ladderduos.js','filter'];a24_0x1038=function(){return _0xa5098a;};return a24_0x1038();}class InboxManager{constructor(){const _0x40d47d=a24_0x21fe;this[_0x40d47d(0x189)]=_0x40d47d(0x17a),this['invitations']=[],this[_0x40d47d(0x18a)]=[],this['unsubscribe']=null,this[_0x40d47d(0x196)]=null,this['pageSize']=0x14,this[_0x40d47d(0x184)]=null,this['hasMore']=!![],this['init']();}async[a24_0x4145c8(0x188)](){auth['onAuthStateChanged'](_0x2717c1=>{const _0x334b5e=a24_0x21fe;_0x2717c1?(this['loadInvitations'](_0x2717c1['uid']),this['setupEventListeners']()):window['location'][_0x334b5e(0x15d)]='./login.html';});}[a24_0x4145c8(0x171)](){document['querySelectorAll']('.filter-btn')['forEach'](_0x567e73=>{_0x567e73['addEventListener']('click',()=>{const _0x39c639=a24_0x21fe;document['querySelectorAll'](_0x39c639(0x17d))['forEach'](_0x342652=>_0x342652['classList']['remove'](_0x39c639(0x172))),_0x567e73[_0x39c639(0x186)]['add']('active'),this[_0x39c639(0x189)]=_0x567e73['dataset']['filter'],this[_0x39c639(0x185)]();});});}['loadInvitations'](_0x1d1dc2){const _0x3074b4=a24_0x4145c8,_0x258ba5=collection(db,'gameInvitations');let _0x10415f=query(_0x258ba5,where('toUserId','==',_0x1d1dc2),orderBy(_0x3074b4(0x164),'desc'),limit(this['pageSize']));this[_0x3074b4(0x17c)]=onSnapshot(_0x10415f,_0x42342d=>{const _0x5b4c7c=_0x3074b4;this['invitations']=_0x42342d[_0x5b4c7c(0x162)][_0x5b4c7c(0x178)](_0x20c04d=>({'id':_0x20c04d['id'],..._0x20c04d[_0x5b4c7c(0x165)]()})),this['renderInvitations'](),this['updateNotificationCount']();});let _0x385886=query(_0x258ba5,where('fromUserId','==',_0x1d1dc2),orderBy('createdAt','desc'),limit(this['pageSize']));this[_0x3074b4(0x196)]=onSnapshot(_0x385886,_0x11ff5d=>{const _0x482958=_0x3074b4;this[_0x482958(0x18a)]=_0x11ff5d[_0x482958(0x162)]['map'](_0x25899d=>({'id':_0x25899d['id'],..._0x25899d['data'](),'isSent':!![]})),this['renderInvitations']();});}['renderInvitations'](){const _0x550c81=a24_0x4145c8,_0x63e4e3=document['getElementById'](_0x550c81(0x18f));if(!_0x63e4e3)return;let _0x318eb1=[];if(this['currentFilter']==='outbox')_0x318eb1=this['sentInvitations'];else this['currentFilter']===_0x550c81(0x168)?_0x318eb1=[...this['invitations'],...this['sentInvitations']]['sort']((_0x45dcd1,_0x8f4df4)=>{const _0x9abf11=_0x550c81,_0x467648=_0x45dcd1['createdAt']?.[_0x9abf11(0x163)]?_0x45dcd1[_0x9abf11(0x164)]['toDate']():new Date(_0x45dcd1['createdAt']),_0x1ebab0=_0x8f4df4['createdAt']?.['toDate']?_0x8f4df4['createdAt']['toDate']():new Date(_0x8f4df4[_0x9abf11(0x164)]);return _0x1ebab0-_0x467648;}):_0x318eb1=this['invitations'][_0x550c81(0x199)](_0x44296d=>_0x44296d['status']===this['currentFilter']);if(_0x318eb1['length']===0x0){const _0x28264e=this['currentFilter']===_0x550c81(0x176)?'sent':this['currentFilter']==='all'?'':this[_0x550c81(0x189)];_0x63e4e3['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22empty-inbox\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-inbox\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>No\x20'+_0x28264e+'\x20invitations</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(this['currentFilter']==='outbox'?'Invitations\x20you\x20send\x20to\x20other\x20players\x20will\x20appear\x20here.':'When\x20other\x20players\x20invite\x20you\x20to\x20games,\x20they\x27ll\x20appear\x20here.')+_0x550c81(0x180);return;}_0x63e4e3['innerHTML']=_0x318eb1['map'](_0x393d09=>this['createInvitationCard'](_0x393d09))['join'](''),this[_0x550c81(0x170)]();}['createInvitationCard'](_0x1b8458){const _0x465313=a24_0x4145c8,_0x1908ca=_0x1b8458[_0x465313(0x164)]?.[_0x465313(0x163)]?_0x1b8458['createdAt'][_0x465313(0x163)]():new Date(_0x1b8458['createdAt']),_0x4f2866=this['getTimeAgo'](_0x1908ca),_0x535545=_0x1b8458['isSent']||![];let _0x1f7e3f='';return _0x1b8458[_0x465313(0x166)]==='team_invite'?_0x1f7e3f=_0x465313(0x182)+_0x1b8458['message']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22team-invite-preview\x22\x20style=\x22background:\x20#1a1a1a;\x20padding:\x201rem;\x20border-radius:\x204px;\x20margin:\x200.5rem\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20style=\x22color:\x20'+_0x1b8458['teamData']['teamColor']+';\x20margin:\x200\x200\x200.5rem\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1b8458['teamData']['proposedTeamName']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22color:\x20#888;\x20font-size:\x200.9em;\x20margin:\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Duos\x20Ladder\x20Team\x20â€¢\x20Color:\x20'+_0x1b8458['teamData']['teamColor']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x1f7e3f=_0x465313(0x182)+_0x1b8458[_0x465313(0x18c)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x465313(0x16c)+_0x1b8458[_0x465313(0x160)]+'\x20'+(_0x535545?'sent-invitation':'')+'\x22\x20data-invitation-id=\x22'+_0x1b8458['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-from\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x535545?'To:\x20'+_0x1b8458['toUsername']:_0x1b8458[_0x465313(0x18d)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x535545?'<span\x20class=\x22sent-indicator\x22><i\x20class=\x22fas\x20fa-paper-plane\x22></i>\x20Sent</span>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-time\x22>'+_0x4f2866+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22status-badge\x20status-'+_0x1b8458['status']+'\x22>'+_0x1b8458[_0x465313(0x160)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1f7e3f+_0x465313(0x16a)+(!_0x535545&&_0x1b8458['status']==='pending'?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20accept-btn\x22\x20data-action=\x22accept\x22\x20data-invitation-id=\x22'+_0x1b8458['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20Accept\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20decline-btn\x22\x20data-action=\x22decline\x22\x20data-invitation-id=\x22'+_0x1b8458['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20Decline\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1b8458['type']!==_0x465313(0x18b)?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20respond-btn\x22\x20data-action=\x22respond\x22\x20data-invitation-id=\x22'+_0x1b8458['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-reply\x22></i>\x20Send\x20Message\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+_0x465313(0x193):'')+_0x465313(0x16a)+(_0x535545&&_0x1b8458['status']==='pending'?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20cancel-btn\x22\x20data-action=\x22cancel\x22\x20data-invitation-id=\x22'+_0x1b8458['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20Cancel\x20Invitation\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}['setupActionListeners'](){document['querySelectorAll']('.action-btn')['forEach'](_0x2fd6a9=>{_0x2fd6a9['addEventListener']('click',async _0x1952bd=>{const _0x51a56a=a24_0x21fe,_0x56a6e2=_0x2fd6a9['dataset']['action'],_0x36c6a7=_0x2fd6a9[_0x51a56a(0x18e)]['invitationId'];_0x2fd6a9['disabled']=!![];const _0x2018b9=_0x2fd6a9['innerHTML'];_0x2fd6a9['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>';try{switch(_0x56a6e2){case'accept':await this['updateInvitationStatus'](_0x36c6a7,'accepted');break;case'decline':await this['updateInvitationStatus'](_0x36c6a7,'declined');break;case'cancel':await this['updateInvitationStatus'](_0x36c6a7,'cancelled');break;case'respond':this['openResponseModal'](_0x36c6a7);break;}}catch(_0x154b8a){console['error']('Error\x20performing\x20'+_0x56a6e2+':',_0x154b8a),alert('Failed\x20to\x20'+_0x56a6e2+_0x51a56a(0x17e));}finally{_0x2fd6a9['disabled']=![],_0x2fd6a9['innerHTML']=_0x2018b9;}});});}async['updateInvitationStatus'](_0x4a79df,_0x57efcb){const _0x2498f9=a24_0x4145c8;try{const _0x3ffc73=this['invitations'][_0x2498f9(0x179)](_0x68dbde=>_0x68dbde['id']===_0x4a79df);_0x3ffc73&&_0x3ffc73['type']===_0x2498f9(0x18b)&&_0x57efcb===_0x2498f9(0x161)&&await this['createTeamFromInvitation'](_0x3ffc73);const _0x24c8a7=doc(db,'gameInvitations',_0x4a79df);await updateDoc(_0x24c8a7,{'status':_0x57efcb,'respondedAt':new Date()}),_0x3ffc73&&(_0x3ffc73['status']=_0x57efcb,_0x3ffc73['respondedAt']=new Date(),this['renderInvitations']());}catch(_0x2616ec){console[_0x2498f9(0x181)]('Error\x20updating\x20invitation\x20status:',_0x2616ec);throw _0x2616ec;}}['openResponseModal'](_0xe306d8){const _0x4f8c62=a24_0x4145c8,_0x159a9e=this['invitations']['find'](_0x275fe4=>_0x275fe4['id']===_0xe306d8);if(!_0x159a9e)return;const _0x27c16a=document['createElement']('div');_0x27c16a['className']=_0x4f8c62(0x17b),_0x27c16a['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Send\x20Message\x20to\x20'+_0x159a9e['fromUsername']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22modal-close\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-body\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Regarding\x20invitation\x20to:\x20<strong>'+_0x159a9e['value']+'</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22response-message\x22\x20placeholder=\x22Type\x20your\x20message\x20here...\x22\x20rows=\x224\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20respond-btn\x22\x20id=\x22send-response\x22>Send\x20Message</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x22\x20id=\x22cancel-response\x22>Cancel</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';if(!document['getElementById']('modal-styles')){const _0x2ab6d2=document['createElement'](_0x4f8c62(0x16d));_0x2ab6d2['id']='modal-styles',_0x2ab6d2['textContent']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-overlay\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20right:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.8);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-content\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#2a2a2a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2090%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20500px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-height:\x2090vh;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20overflow-y:\x20auto;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-header\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20space-between;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-close\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x201.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-body\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-body\x20textarea\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#1a1a1a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resize:\x20vertical;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-footer\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-top:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document['head']['appendChild'](_0x2ab6d2);}document['body']['appendChild'](_0x27c16a),_0x27c16a['querySelector'](_0x4f8c62(0x16f))['addEventListener']('click',()=>_0x27c16a['remove']()),_0x27c16a['querySelector'](_0x4f8c62(0x15c))[_0x4f8c62(0x174)](_0x4f8c62(0x15e),()=>_0x27c16a[_0x4f8c62(0x16e)]()),_0x27c16a['addEventListener']('click',_0x2444ad=>{const _0x9dd71e=_0x4f8c62;if(_0x2444ad[_0x9dd71e(0x175)]===_0x27c16a)_0x27c16a['remove']();}),_0x27c16a['querySelector'](_0x4f8c62(0x15f))['addEventListener']('click',()=>{const _0x4ace34=_0x4f8c62,_0x40889b=document['getElementById'](_0x4ace34(0x194))['value']['trim']();_0x40889b&&(alert('Message\x20sent!\x20(Feature\x20will\x20be\x20fully\x20implemented\x20in\x20future\x20update)'),_0x27c16a['remove']());});}async['createTeamFromInvitation'](_0x2a957e){const _0x1ab6ac=a24_0x4145c8;try{const {createTeam:_0x355e0e}=await import(_0x1ab6ac(0x198)),_0x2b31a3=await _0x355e0e(_0x2a957e['fromUsername'],_0x2a957e['toUsername'],_0x2a957e['teamData']['proposedTeamName'],_0x2a957e[_0x1ab6ac(0x191)]['teamColor']);if(!_0x2b31a3[_0x1ab6ac(0x192)])throw new Error(_0x2b31a3['error']);alert(_0x1ab6ac(0x169)+_0x2a957e['teamData']['proposedTeamName']+'\x22\x20created\x20successfully!');}catch(_0xc80e12){console[_0x1ab6ac(0x181)]('Error\x20creating\x20team:',_0xc80e12);throw new Error('Failed\x20to\x20create\x20team:\x20'+_0xc80e12['message']);}}[a24_0x4145c8(0x15b)](){const _0x2cfb81=a24_0x4145c8,_0x53f750=this[_0x2cfb81(0x187)]['filter'](_0x214514=>_0x214514['status']==='pending')['length'],_0x483298=document['getElementById']('inbox-notification');_0x483298&&(_0x53f750>0x0?(_0x483298[_0x2cfb81(0x16d)]['display']=_0x2cfb81(0x16b),_0x483298[_0x2cfb81(0x183)]=_0x53f750>0x9?'9+':_0x53f750):_0x483298['style'][_0x2cfb81(0x167)]=_0x2cfb81(0x197));}['getTimeAgo'](_0x4335a1){const _0x1d3a3=a24_0x4145c8,_0x3bed1e=new Date(),_0x551b4d=_0x3bed1e-_0x4335a1,_0x432e70=Math['floor'](_0x551b4d/(0x3e8*0x3c)),_0x55dc59=Math['floor'](_0x551b4d/(0x3e8*0x3c*0x3c)),_0x1126f0=Math['floor'](_0x551b4d/(0x3e8*0x3c*0x3c*0x18));if(_0x432e70<0x1)return'Just\x20now';if(_0x432e70<0x3c)return _0x432e70+_0x1d3a3(0x17f);if(_0x55dc59<0x18)return _0x55dc59+'h\x20ago';if(_0x1126f0<0x7)return _0x1126f0+_0x1d3a3(0x173);return _0x4335a1[_0x1d3a3(0x195)]();}['destroy'](){this['unsubscribe']&&this['unsubscribe'](),this['sentUnsubscribe']&&this['sentUnsubscribe']();}}document['addEventListener']('DOMContentLoaded',()=>{new InboxManager();});