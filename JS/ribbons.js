const a53_0x466709=a53_0x28ab,a53_0x2d8be0=(function(){let _0x2a3d76=!![];return function(_0x5387f2,_0xc33f58){const _0x30cc87=_0x2a3d76?function(){if(_0xc33f58){const _0xdcd1cc=_0xc33f58['apply'](_0x5387f2,arguments);return _0xc33f58=null,_0xdcd1cc;}}:function(){};return _0x2a3d76=![],_0x30cc87;};}()),a53_0x52d1ac=a53_0x2d8be0(this,function(){const _0x349a02=a53_0x28ab,_0x49fe4f=function(){const _0x529333=a53_0x28ab;let _0x5331ea;try{_0x5331ea=Function(_0x529333(0x213)+_0x529333(0x1f8)+');')();}catch(_0x47ac5b){_0x5331ea=window;}return _0x5331ea;},_0x670012=_0x49fe4f(),_0x2e20b9=_0x670012['console']=_0x670012['console']||{},_0x2b9e15=[_0x349a02(0x1f1),'warn','info','error',_0x349a02(0x1c9),_0x349a02(0x216),_0x349a02(0x210)];for(let _0x514fb3=0x0;_0x514fb3<_0x2b9e15['length'];_0x514fb3++){const _0x450056=a53_0x2d8be0['constructor']['prototype'][_0x349a02(0x200)](a53_0x2d8be0),_0x174387=_0x2b9e15[_0x514fb3],_0x120e25=_0x2e20b9[_0x174387]||_0x450056;_0x450056['__proto__']=a53_0x2d8be0['bind'](a53_0x2d8be0),_0x450056['toString']=_0x120e25['toString']['bind'](_0x120e25),_0x2e20b9[_0x174387]=_0x450056;}});a53_0x52d1ac();import{auth,db}from'./firebase-config.js';import{doc,getDoc,setDoc,collection,query,where,getDocs,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const RIBBON_DEFINITIONS={'Rematch\x20Ribbon':{'description':'Beat\x20a\x20pilot\x20with\x20the\x20\x22Rematch\x22\x20subgame\x20selected','image':'../images/ribbons/Rematch.png','color':'#FF6B6B'},'Overachiever\x20Ribbon':{'description':'Played\x20over\x20100\x20matches','image':'../images/ribbons/Overachiever.png','color':'#96CEB4','levels':[0x64,0xc8,0x12c,0x190,0x1f4,0x258,0x2bc,0x320,0x384,0x3e8]},'Brick\x20Wall':{'description':a53_0x466709(0x19e),'image':a53_0x466709(0x1c0),'color':'#F0932B','levels':[0x50,0x55,0x5a,0x5f,0x64]},'Collector\x20Ribbon':{'description':'Hold\x20more\x20than\x205\x20ribbons\x20at\x20a\x20time','image':a53_0x466709(0x1df),'color':'#6C5CE7','levels':[0x5,0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32]},'Sub-Gamer\x20Ribbon':{'description':'Play\x20over\x2050\x20subgame\x20matches','image':'../images/ribbons/Subgamer.png','color':'#A29BFE','levels':[0x32,0x64,0x96,0xc8,0xfa,0x12c,0x15e,0x190,0x1c2,0x1f4]},'Explorer\x20Ribbon':{'description':'Played\x20at\x20least\x2020\x20unique\x20maps','image':a53_0x466709(0x20b),'color':'#55A3FF','levels':[0x14,0x28,0x3c,0x50,0x64,0x78,0x8c,0xa0,0xb4,0xc8]},'Socialite\x20Ribbon':{'description':'Played\x20at\x20least\x2010\x20unique\x20pilots','image':'../images/ribbons/Socialite.png','color':'#FF7675','levels':[0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32,0x37]},'Underdog\x20Ribbon':{'description':a53_0x466709(0x1c2),'image':'../images/ribbons/Underdog.png','color':'#FF9500','levels':[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0x9,0xa]},'Domination\x20Ribbon':{'description':a53_0x466709(0x1fe),'image':'../images/ribbons/Domination.png','color':'#8E44AD','levels':[0x1,0x2,0x3,0x4,0x5]},'Top\x20Bronze\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Bronze\x20rank','image':a53_0x466709(0x1a4),'color':a53_0x466709(0x1ab)},'Top\x20Silver\x20Pilot':{'description':a53_0x466709(0x220),'image':'../images/ribbons/toprank.png','color':'#C0C0C0'},'Top\x20Gold\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Gold\x20rank','image':'../images/ribbons/toprank.png','color':'#FFD700'},'Top\x20Emerald\x20Pilot':{'description':a53_0x466709(0x204),'image':a53_0x466709(0x1a4),'color':'#50C878'}};export const RIBBON_CSS='\x0a/*\x20Stats\x20integration\x20styles\x20*/\x0a.ribbon-section\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-top:\x201rem;\x0a}\x0a\x0a.ribbon-stat-item.full-width\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-bottom:\x200;\x0a}\x0a\x0a/*\x20Military\x20Ribbon\x20Rack\x20Styling\x20-\x20NO\x20OUTER\x20CONTAINER\x20*/\x0a.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20padding:\x200;\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20box-shadow:\x20none;\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20align-items:\x20flex-start;\x0a}\x0a\x0a.ribbon-rack-empty-inline\x20{\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20padding:\x2060px\x2040px;\x0a\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20border-radius:\x2012px;\x0a\x20\x20\x20\x20border:\x202px\x20solid\x20rgba(255,\x20255,\x20255,\x200.1);\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a}\x0a\x0a.empty-rack-text\x20{\x0a\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20font-style:\x20italic;\x0a\x20\x20\x20\x20font-size:\x201.2rem;\x0a}\x0a\x0a/*\x20Ribbon\x20Rows\x20*/\x0a.ribbon-row\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x206px;\x0a\x20\x20\x20\x20margin-bottom:\x206px;\x0a\x20\x20\x20\x20justify-content:\x20flex-start;\x0a}\x0a\x0a.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20margin-left:\x2060px;\x0a}\x0a\x0a/*\x20Individual\x20Military\x20Ribbon\x20Styling\x20-\x20FIXED\x20OVERFLOW\x20FOR\x20LEVEL\x20INDICATOR\x20*/\x0a.military-ribbon\x20{\x0a\x20\x20\x20\x20position:\x20relative;\x0a\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20transition:\x20transform\x200.3s\x20ease;\x0a\x20\x20\x20\x20flex-shrink:\x200;\x0a\x20\x20\x20\x20width:\x20190px;\x0a\x20\x20\x20\x20height:\x2060px;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#333;\x0a\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20overflow:\x20visible;\x20/*\x20Changed\x20from\x20hidden\x20to\x20visible\x20*/\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20margin:\x2012px\x2012px\x2012px\x200;\x20/*\x20Added\x20margin\x20to\x20prevent\x20clipping\x20*/\x0a}\x0a\x0a.military-ribbon:hover\x20{\x0a\x20\x20\x20\x20transform:\x20translateY(-4px);\x0a\x20\x20\x20\x20z-index:\x2010;\x0a}\x0a\x0a/*\x20Ribbon\x20image\x20container\x20to\x20handle\x20the\x20actual\x20overflow\x20*/\x0a.ribbon-image-container\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20border-radius:\x201px;\x0a}\x0a\x0a.ribbon-image\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20object-fit:\x20cover;\x0a\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20image-rendering:\x20crisp-edges;\x0a}\x0a\x0a.ribbon-fallback\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20text-shadow:\x200\x202px\x204px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a}\x0a\x0a.ribbon-name\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.9);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201.2;\x0a\x20\x20\x20\x20margin-top:\x206px;\x0a\x20\x20\x20\x20max-width:\x20120px;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20text-overflow:\x20ellipsis;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20-24px;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20font-weight:\x20500;\x0a}\x0a\x0a.military-ribbon:hover\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20display:\x20block;\x0a}\x0a\x0a.ribbon-devices\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x2050%;\x0a\x20\x20\x20\x20right:\x206px;\x0a\x20\x20\x20\x20transform:\x20translateY(-50%);\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x203px;\x0a\x20\x20\x20\x20z-index:\x205;\x0a}\x0a\x0a.ribbon-device\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20text-shadow:\x200\x200\x204px\x20rgba(0,0,0,0.9);\x0a\x20\x20\x20\x20filter:\x20drop-shadow(0\x202px\x204px\x20rgba(0,0,0,0.8));\x0a}\x0a\x0a.bronze-star\x20{\x0a\x20\x20\x20\x20color:\x20#CD7F32;\x0a}\x0a\x0a.silver-star\x20{\x0a\x20\x20\x20\x20color:\x20#C0C0C0;\x0a}\x0a\x0a.gold-star\x20{\x0a\x20\x20\x20\x20color:\x20#FFD700;\x0a}\x0a\x0a/*\x20Level\x20indicator\x20-\x20NOW\x20FULLY\x20VISIBLE\x20*/\x0a.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x20-8px;\x0a\x20\x20\x20\x20right:\x20-8px;\x0a\x20\x20\x20\x20background:\x20#FFD700;\x0a\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20width:\x2024px;\x0a\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#FFF;\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x208px\x20rgba(0,0,0,0.7);\x0a\x20\x20\x20\x20z-index:\x206;\x0a}\x0a\x0a/*\x20Custom\x20tooltip\x20-\x20only\x20this\x20one\x20will\x20show\x20*/\x0a.military-ribbon::before\x20{\x0a\x20\x20\x20\x20content:\x20attr(data-tooltip);\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20100%;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20background:\x20rgba(0,0,0,0.95);\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20padding:\x208px\x2012px;\x0a\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20pointer-events:\x20none;\x0a\x20\x20\x20\x20transition:\x20opacity\x200.3s;\x0a\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20margin-bottom:\x208px;\x0a\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(255,\x20255,\x20255,\x200.2);\x0a}\x0a\x0a.military-ribbon:hover::before\x20{\x0a\x20\x20\x20\x20opacity:\x201;\x0a}\x0a\x0a/*\x20Responsive\x20adjustments\x20*/\x0a@media\x20(max-width:\x201024px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2034px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x208px\x208px\x208px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-6px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-6px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2052px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-20px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20768px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2028px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x206px\x206px\x206px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x209px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-5px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-5px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2042px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2011px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-18px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x205px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20480px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2070px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x205px\x205px\x205px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2036px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x204px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-4px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-4px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a.stats-grid\x20.ribbon-section\x20{\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20padding:\x200;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20{\x0a\x20\x20\x20\x20background-color:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20padding:\x2025px;\x0a\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20.stat-label\x20{\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20text-transform:\x20uppercase;\x0a\x20\x20\x20\x20opacity:\x200.9;\x0a\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.95);\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a}\x0a\x0a.ribbon-level-indicator.level-1\x20{\x20background:\x20#808080;\x20}\x0a.ribbon-level-indicator.level-2\x20{\x20background:\x20#CD7F32;\x20}\x0a.ribbon-level-indicator.level-3\x20{\x20background:\x20#b9f1fc;\x20}\x0a.ribbon-level-indicator.level-4\x20{\x20background:\x20#FFD700;\x20}\x0a.ribbon-level-indicator.level-5-plus\x20{\x20background:\x20#50C878;\x20}\x0a';class RibbonCacheManager{constructor(){const _0x564ac6=a53_0x466709;this[_0x564ac6(0x1c8)]=new Map(),this['CACHE_DURATION']=0x3c*0x3c*0x3e8,this['CACHE_KEY_PREFIX']='ribbon_cache_',this['lastCleanup']=Date[_0x564ac6(0x211)](),this['CLEANUP_INTERVAL']=0x1e*0x3c*0x3e8;}[a53_0x466709(0x1bc)](_0x3e7b16,_0x47f1cc){return''+this['CACHE_KEY_PREFIX']+_0x3e7b16+'_'+_0x47f1cc;}[a53_0x466709(0x1c7)](_0x1dc379,_0x2f056a){const _0x1020bc=a53_0x466709;this['autoCleanup']();const _0xfeb47a=this[_0x1020bc(0x1bc)](_0x1dc379,_0x2f056a);if(this[_0x1020bc(0x1c8)]['has'](_0xfeb47a)){const _0x51b672=this[_0x1020bc(0x1c8)]['get'](_0xfeb47a);if(Date['now']()-_0x51b672[_0x1020bc(0x1d6)]<this['CACHE_DURATION'])return console['log']('🚀\x20Cache\x20hit\x20(memory)\x20for\x20'+_0x1dc379),_0x51b672['data'];this['memoryCache']['delete'](_0xfeb47a);}const _0x559b29=localStorage['getItem'](_0xfeb47a);if(_0x559b29)try{const _0x508ae6=JSON['parse'](_0x559b29);if(Date[_0x1020bc(0x211)]()-_0x508ae6['timestamp']<this['CACHE_DURATION'])return this['memoryCache']['set'](_0xfeb47a,{'data':_0x508ae6['ribbons'],'timestamp':_0x508ae6['timestamp'],'matchCount':_0x508ae6['matchCount']}),console['log']('💾\x20Cache\x20hit\x20(localStorage)\x20for\x20'+_0x1dc379),_0x508ae6['ribbons'];localStorage['removeItem'](_0xfeb47a);}catch(_0x1fb09e){localStorage['removeItem'](_0xfeb47a);}return null;}['setCachedData'](_0x33587c,_0x1c98a9,_0x511838,_0x37b593){const _0x37a62d=a53_0x466709,_0x226876=this[_0x37a62d(0x1bc)](_0x33587c,_0x1c98a9),_0x38801e=Date[_0x37a62d(0x211)]();this['memoryCache']['set'](_0x226876,{'data':_0x511838,'timestamp':_0x38801e,'matchCount':_0x37b593});try{const _0x5d9a9a={'ribbons':_0x511838,'matchCount':_0x37b593,'timestamp':_0x38801e,'version':0x3};localStorage['setItem'](_0x226876,JSON['stringify'](_0x5d9a9a));}catch(_0x52c731){this[_0x37a62d(0x1fb)]();try{localStorage['setItem'](_0x226876,JSON['stringify'](data));}catch(_0x421801){}}}['shouldRefreshCache'](_0x61fde0,_0x541cbb,_0x377dde){const _0x2a76a2=a53_0x466709,_0x516303=this['getCacheKey'](_0x61fde0,_0x541cbb);if(this['memoryCache']['has'](_0x516303)){const _0x1770e8=this[_0x2a76a2(0x1c8)]['get'](_0x516303);return _0x1770e8['matchCount']!==_0x377dde;}const _0x4e62e0=localStorage['getItem'](_0x516303);if(_0x4e62e0)try{const _0x13abe3=JSON['parse'](_0x4e62e0);return _0x13abe3['matchCount']!==_0x377dde;}catch(_0x418de5){return!![];}return!![];}[a53_0x466709(0x1b6)](_0x2e42a6,_0x2a4dc3){const _0x1d70bb=a53_0x466709,_0xd549cf=this[_0x1d70bb(0x1bc)](_0x2e42a6,_0x2a4dc3);this['memoryCache']['delete'](_0xd549cf),localStorage['removeItem'](_0xd549cf),console['log']('🗑️\x20Invalidated\x20cache\x20for\x20'+_0x2e42a6+'\x20('+_0x2a4dc3+_0x1d70bb(0x1dd));}['autoCleanup'](){const _0x2777e8=a53_0x466709,_0x1fdce9=Date['now']();_0x1fdce9-this['lastCleanup']>this['CLEANUP_INTERVAL']&&(this[_0x2777e8(0x1c4)](),this['lastCleanup']=_0x1fdce9);}[a53_0x466709(0x1c4)](){const _0x205d9d=a53_0x466709,_0x552aca=Date['now']();let _0x5cd557=0x0,_0x2ba2fe=0x0;for(const [_0x4fc3d2,_0x179b21]of this[_0x205d9d(0x1c8)][_0x205d9d(0x208)]()){_0x552aca-_0x179b21['timestamp']>this['CACHE_DURATION']&&(this['memoryCache']['delete'](_0x4fc3d2),_0x5cd557++);}for(let _0x444dc9=localStorage['length']-0x1;_0x444dc9>=0x0;_0x444dc9--){const _0x16bf1d=localStorage['key'](_0x444dc9);if(_0x16bf1d&&_0x16bf1d[_0x205d9d(0x19d)](this['CACHE_KEY_PREFIX']))try{const _0x37c7fb=JSON['parse'](localStorage['getItem'](_0x16bf1d));_0x552aca-_0x37c7fb['timestamp']>this[_0x205d9d(0x1b9)]&&(localStorage[_0x205d9d(0x1d8)](_0x16bf1d),_0x2ba2fe++);}catch(_0x5712c3){localStorage['removeItem'](_0x16bf1d),_0x2ba2fe++;}}}['clearOldCache'](){const _0x554820=a53_0x466709,_0x177933=[];for(let _0x4232d1=0x0;_0x4232d1<localStorage[_0x554820(0x20a)];_0x4232d1++){const _0x2405a5=localStorage['key'](_0x4232d1);if(_0x2405a5&&_0x2405a5['startsWith'](this['CACHE_KEY_PREFIX']))try{const _0x477b3d=JSON[_0x554820(0x19a)](localStorage['getItem'](_0x2405a5));_0x177933[_0x554820(0x1af)]({'key':_0x2405a5,'timestamp':_0x477b3d['timestamp']});}catch(_0xb78526){localStorage['removeItem'](_0x2405a5);}}_0x177933[_0x554820(0x1bd)]((_0x35d6c2,_0x24b50f)=>_0x35d6c2[_0x554820(0x1d6)]-_0x24b50f['timestamp']);const _0x202392=Math[_0x554820(0x209)](_0x177933['length']/0x2);for(let _0x24b0a5=0x0;_0x24b0a5<_0x202392;_0x24b0a5++){localStorage['removeItem'](_0x177933[_0x24b0a5]['key']);}}['getCacheStats'](){return{'memoryEntries':this['memoryCache']['size'],'lastCleanup':new Date(this['lastCleanup'])['toLocaleTimeString']()};}}class MatchCacheManager{constructor(){const _0x2dbb87=a53_0x466709;this['matchCache']=new Map(),this[_0x2dbb87(0x1b9)]=0xf*0x3c*0x3e8,this[_0x2dbb87(0x1aa)]=Date['now']();}['getCachedMatches'](_0x1679fa,_0xbfe595){const _0x5ea21e=a53_0x466709;this[_0x5ea21e(0x21a)]();const _0x2ea906=_0x1679fa+'_'+_0xbfe595,_0x13f96a=this[_0x5ea21e(0x1ec)]['get'](_0x2ea906);if(_0x13f96a&&Date['now']()-_0x13f96a['timestamp']<this['CACHE_DURATION'])return console['log'](_0x5ea21e(0x1e4)+_0x1679fa),_0x13f96a['matches'];return _0x13f96a&&this['matchCache']['delete'](_0x2ea906),null;}['setCachedMatches'](_0x313a9d,_0x5e409d,_0x2ea45b){const _0x540c50=_0x313a9d+'_'+_0x5e409d;this['matchCache']['set'](_0x540c50,{'matches':_0x2ea45b,'timestamp':Date['now']()});}['autoCleanup'](){const _0x5d1fac=a53_0x466709,_0x112b94=Date['now']();if(_0x112b94-this['lastCleanup']>0x5*0x3c*0x3e8){let _0xabf956=0x0;for(const [_0x21e2d8,_0x70e0bd]of this['matchCache']['entries']()){_0x112b94-_0x70e0bd[_0x5d1fac(0x1d6)]>this['CACHE_DURATION']&&(this['matchCache'][_0x5d1fac(0x1a7)](_0x21e2d8),_0xabf956++);}this['lastCleanup']=_0x112b94;}}['getCacheStats'](){const _0xcb114=a53_0x466709;return{'entries':this[_0xcb114(0x1ec)]['size'],'lastCleanup':new Date(this['lastCleanup'])[_0xcb114(0x1fa)]()};}}class RibbonSystem{constructor(){const _0x544c2f=a53_0x466709;this['pendingEvaluations']=new Map(),this[_0x544c2f(0x1fd)]=null,this['BATCH_DELAY']=0x32,this['playerDataCache']=new Map();}async['bulkLoadPlayerData'](_0x1fb245,_0x47b267){const _0x240819=a53_0x466709,_0x30a77d=_0x47b267==='D1'?'players':_0x47b267==='D2'?'playersD2':_0x240819(0x1e5),_0x13310e=collection(db,_0x30a77d),_0x38d135=await getDocs(_0x13310e),_0x2cd4b0=new Map();return _0x38d135[_0x240819(0x1ae)](_0x2c2459=>{const _0x41700c=_0x240819,_0x2c311d=_0x2c2459[_0x41700c(0x1e7)]();_0x2c311d['username']&&(_0x2c311d['eloRating']!==undefined&&(_0x2c311d[_0x41700c(0x1a1)]=_0x2c311d['eloRating']),_0x2cd4b0[_0x41700c(0x214)](_0x2c311d['username'],_0x2c311d));}),console['log'](_0x240819(0x1d0)+_0x2cd4b0['size']+_0x240819(0x20e)+_0x30a77d),_0x2cd4b0;}async['evaluateAllRibbonsFromData'](_0x34301d,_0x103c9b,_0xdf1e0f,_0x1547c4){const _0x4db716=a53_0x466709,_0x473526={},_0x1e0874=_0x103c9b['username'],_0x470d8e={'totalMatches':_0x34301d[_0x4db716(0x20a)],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0,'dominatedRanks':new Set()},_0x25f475=new Set();_0x34301d['forEach'](_0x2d87ad=>{const _0x54ec31=_0x4db716,_0x1f4bfc=_0x2d87ad[_0x54ec31(0x1f2)]===_0x1e0874,_0x5796f3=_0x1f4bfc?_0x2d87ad['loserUsername']:_0x2d87ad['winnerUsername'];if(_0x5796f3)_0x25f475['add'](_0x5796f3);}),console[_0x4db716(0x1f1)]('🚀\x20Bulk\x20loading\x20'+_0x25f475['size']+'\x20player\x20records\x20for\x20underdog\x20calculations...');const _0x5a2c62=await this['bulkLoadPlayerData']([..._0x25f475,_0x1e0874],_0x1547c4),_0x2c9838=_0x5a2c62[_0x4db716(0x1e0)](_0x1e0874);!_0x2c9838&&console['log']('⚠️\x20No\x20current\x20player\x20data\x20found\x20for\x20'+_0x1e0874);const _0x55d464={0x0:new Set(),0x1:new Set(),0x2:new Set(),0x3:new Set(),0x4:new Set()};_0x34301d[_0x4db716(0x1ae)](_0xc0e588=>{const _0x4c877e=_0x4db716,_0x1d9edb=_0xc0e588[_0x4c877e(0x1f2)]===_0x1e0874,_0x16ee56=_0x1d9edb?_0xc0e588['loserUsername']:_0xc0e588['winnerUsername'];if(_0x1d9edb){_0x470d8e['wins']++;_0xc0e588['subgameType']==='Rematch'&&_0x470d8e[_0x4c877e(0x1ac)]++;this[_0x4c877e(0x1e1)](_0xc0e588,_0x1e0874,_0x2c9838,_0x5a2c62)&&_0x470d8e['underdogWins']++;const _0x4572fb=_0x5a2c62['get'](_0x16ee56);if(_0x4572fb){const _0x2becae=_0x4572fb['eloRating']||0x0,_0x52f79d=getPlayerRankTier(_0x2becae);_0x55d464[_0x52f79d]['add'](_0x16ee56);}}_0xc0e588['subgameType']&&_0xc0e588[_0x4c877e(0x207)]!==_0x4c877e(0x1a5)&&_0x470d8e['subgameMatches']++,_0xc0e588[_0x4c877e(0x1da)]&&_0x470d8e['uniqueMaps']['add'](_0xc0e588['mapPlayed']),_0x16ee56&&_0x470d8e['uniqueOpponents']['add'](_0x16ee56);}),Object['keys'](_0x55d464)[_0x4db716(0x1ae)](_0x168bb7=>{const _0x1e96f0=_0x4db716;_0x55d464[_0x168bb7]['size']>=0x5&&_0x470d8e[_0x1e96f0(0x1ff)]['add'](parseInt(_0x168bb7));}),console[_0x4db716(0x1f1)]('🎯\x20Found\x20'+_0x470d8e['underdogWins']+'\x20underdog\x20victories\x20for\x20'+_0x1e0874),console['log'](_0x4db716(0x1b2)+_0x470d8e['dominatedRanks']['size']+'\x20ranks:\x20['+Array['from'](_0x470d8e['dominatedRanks'])[_0x4db716(0x1c5)](_0x301f60=>getRankTierName(_0x301f60))[_0x4db716(0x1d5)](',\x20')+']');const _0x342d77=_0x470d8e['totalMatches']>0x0?_0x470d8e['wins']/_0x470d8e['totalMatches']*0x64:0x0,_0x37be09=[['Overachiever\x20Ribbon',this['evaluateOverachieverRibbonFromCount'](_0x470d8e['totalMatches'],_0xdf1e0f)],['Rematch\x20Ribbon',this['evaluateRematchRibbonFromCount'](_0x470d8e['rematchWins'],_0xdf1e0f)],['Sub-Gamer\x20Ribbon',this['evaluateSubGamerRibbonFromCount'](_0x470d8e[_0x4db716(0x206)],_0xdf1e0f)],['Explorer\x20Ribbon',this['evaluateExplorerRibbonFromCount'](_0x470d8e['uniqueMaps']['size'],_0xdf1e0f)],[_0x4db716(0x1f9),this[_0x4db716(0x1bf)](_0x470d8e['uniqueOpponents'][_0x4db716(0x1b5)],_0xdf1e0f)],[_0x4db716(0x1d4),this[_0x4db716(0x21d)](_0x342d77,_0xdf1e0f,_0x470d8e['totalMatches'])],[_0x4db716(0x1b4),this[_0x4db716(0x1be)](_0x470d8e[_0x4db716(0x1d3)],_0xdf1e0f)],[_0x4db716(0x1d1),this[_0x4db716(0x1e3)](_0x470d8e[_0x4db716(0x1ff)]['size'],_0xdf1e0f)]];_0x37be09['forEach'](([_0x11dfd3,_0x5c2905])=>{_0x5c2905&&(_0x473526[_0x11dfd3]=_0x5c2905);});const _0x11dbe7=Object['keys'](_0xdf1e0f)['length']+Object[_0x4db716(0x217)](_0x473526)['length'],_0x1abf42=this['evaluateCollectorRibbonFromCount'](_0x11dbe7,_0xdf1e0f);return _0x1abf42&&(_0x473526['Collector\x20Ribbon']=_0x1abf42),_0x473526;}[a53_0x466709(0x1e3)](_0x1c30ce,_0x23fea1){const _0x124f21=a53_0x466709;if(_0x1c30ce===0x0)return null;const _0x11ef62=_0x23fea1[_0x124f21(0x1d1)]||{'level':0x0};if(_0x1c30ce>_0x11ef62['level']){const _0x70d776=[];for(let _0x28d5da=0x0;_0x28d5da<_0x1c30ce;_0x28d5da++){_0x70d776['push'](getRankTierName(_0x28d5da));}return console['log'](_0x124f21(0x1a9)+_0x11ef62['level']+'\x20→\x20'+_0x1c30ce+'\x20(Dominated:\x20'+_0x70d776['join'](',\x20')+')'),{'level':_0x1c30ce,'awardedAt':new Date(),'dominatedRanks':_0x70d776};}return null;}async['checkTopRankStatus'](_0x3ebdf4,_0x1d6eb9){const _0x149a1d=a53_0x466709;try{const _0x44f501=_0x1d6eb9==='D1'?_0x149a1d(0x1b8):_0x1d6eb9==='D2'?'playersD2':'playersD3',_0x2e4c3a=await this['getPlayerDataCached'](_0x3ebdf4,_0x1d6eb9);if(!_0x2e4c3a||_0x2e4c3a['eloRating']===undefined)return console['log']('❌\x20No\x20ELO\x20rating\x20data\x20for\x20'+_0x3ebdf4),null;const _0x4eb4f5=_0x2e4c3a['eloRating'],_0x315a52=getPlayerRankTier(_0x4eb4f5),_0x5a48c7=getRankTierName(_0x315a52);if(_0x5a48c7==='Unranked')return console['log']('❌\x20'+_0x3ebdf4+_0x149a1d(0x1c3)+_0x4eb4f5+'\x20ELO)'),null;console['log']('🔍\x20Checking\x20Top\x20'+_0x5a48c7+_0x149a1d(0x203)+_0x3ebdf4+'\x20('+_0x4eb4f5+_0x149a1d(0x1f7));const _0x341854=collection(db,_0x44f501),_0x46407a=await getDocs(_0x341854);let _0x53a9b1=null,_0x226078=-0x1,_0x5d57ee=0x0;_0x46407a[_0x149a1d(0x1ae)](_0x228ce9=>{const _0x56a3d5=_0x228ce9['data'](),_0x2c52cc=_0x56a3d5['eloRating']||0x0,_0x405fee=getPlayerRankTier(_0x2c52cc);_0x405fee===_0x315a52&&(_0x5d57ee++,_0x2c52cc>_0x226078&&(_0x226078=_0x2c52cc,_0x53a9b1=_0x56a3d5['username']));});const _0x5883e7=_0x53a9b1===_0x3ebdf4;return console['log']('📊\x20'+_0x5a48c7+_0x149a1d(0x1cb)+_0x5d57ee+'\x20players,\x20Top:\x20'+_0x53a9b1+'\x20('+_0x226078+'\x20ELO),\x20'+_0x3ebdf4+'\x20is\x20#1:\x20'+_0x5883e7),_0x5883e7?_0x5a48c7:null;}catch(_0x44b229){return console[_0x149a1d(0x1cd)](_0x149a1d(0x1f0),_0x44b229),null;}}async['evaluateTopRankRibbon'](_0x55427e,_0xc5fb81,_0x2bad28){const _0x3e6470=a53_0x466709,_0x83cf76=await this['checkTopRankStatus'](_0x55427e,_0xc5fb81),_0x50881b={};if(_0x83cf76){const _0x4600dc=_0x3e6470(0x1ba)+_0x83cf76+'\x20Pilot';if(RIBBON_DEFINITIONS[_0x4600dc]){const _0x174c52=_0x2bad28[_0x4600dc];!_0x174c52?(console[_0x3e6470(0x1f1)]('👑\x20NEW\x20Top\x20Rank\x20Achievement:\x20'+_0x55427e+'\x20earned\x20'+_0x4600dc+'!'),_0x50881b[_0x4600dc]={'level':0x1,'awardedAt':new Date(),'rank':_0x83cf76,'achievedAt':new Date()}):console['log']('✅\x20'+_0x55427e+'\x20already\x20has\x20'+_0x4600dc+_0x3e6470(0x1c1));}}return Object[_0x3e6470(0x217)](_0x2bad28)['forEach'](_0x78a6b=>{_0x78a6b['startsWith']('Top\x20')&&_0x78a6b['endsWith']('\x20Pilot')&&(!_0x50881b[_0x78a6b]&&console['log']('✅\x20Preserving\x20existing\x20'+_0x78a6b));}),_0x50881b;}async['evaluateAllRibbonsForPlayerOptimized'](_0x54e8ed,_0x511571='D1'){const _0x17e954=a53_0x466709;try{const _0x274ab4=ribbonCache['getCachedData'](_0x54e8ed,_0x511571);if(_0x274ab4){const _0xeb0ffd=await this[_0x17e954(0x201)](_0x54e8ed,_0x511571,_0x274ab4);if(Object['keys'](_0xeb0ffd)['length']>0x0){console['log']('🆕\x20New\x20top\x20rank\x20achievements\x20found\x20for\x20cached\x20player\x20'+_0x54e8ed),await this['savePlayerRibbonsOptimized'](_0x54e8ed,_0xeb0ffd,_0x511571);const _0x5ece4e={..._0x274ab4,..._0xeb0ffd};return ribbonCache['setCachedData'](_0x54e8ed,_0x511571,_0x5ece4e,0x0),_0x5ece4e;}return _0x274ab4;}const [_0x2d258e,_0x40d22c]=await Promise['all']([this['getPlayerDataCached'](_0x54e8ed,_0x511571),this['getPlayerRibbonsCached'](_0x54e8ed,_0x511571)]);if(!_0x2d258e)return{};const _0x3ecdc1=_0x2d258e[_0x17e954(0x1f6)]||0x0,_0x421c10=await this[_0x17e954(0x201)](_0x54e8ed,_0x511571,_0x40d22c);if(!ribbonCache['shouldRefreshCache'](_0x54e8ed,_0x511571,_0x3ecdc1)){if(Object[_0x17e954(0x217)](_0x421c10)['length']>0x0){await this[_0x17e954(0x1d9)](_0x54e8ed,_0x421c10,_0x511571);const _0x2ad0a7={..._0x40d22c,..._0x421c10};return ribbonCache['setCachedData'](_0x54e8ed,_0x511571,_0x2ad0a7,_0x3ecdc1),_0x2ad0a7;}return ribbonCache['setCachedData'](_0x54e8ed,_0x511571,_0x40d22c,_0x3ecdc1),_0x40d22c;}const _0x1e6117=await this['getPlayerMatchesOptimized'](_0x54e8ed,_0x511571),_0x598cee=await this[_0x17e954(0x1eb)](_0x1e6117,_0x2d258e,_0x40d22c,_0x511571);Object[_0x17e954(0x1a3)](_0x598cee,_0x421c10);Object['keys'](_0x598cee)['length']>0x0&&(console['log'](_0x17e954(0x1dc)+Object[_0x17e954(0x217)](_0x598cee)['length']+'\x20new/updated\x20ribbons\x20for\x20'+_0x54e8ed),await this[_0x17e954(0x1d9)](_0x54e8ed,_0x598cee,_0x511571));const _0x748e81={..._0x40d22c,..._0x598cee};return ribbonCache[_0x17e954(0x215)](_0x54e8ed,_0x511571,_0x748e81,_0x1e6117['length']),_0x748e81;}catch(_0x492529){return console[_0x17e954(0x1cd)]('❌\x20Error\x20in\x20ribbon\x20evaluation:',_0x492529),{};}}async['isUnderdogVictory'](_0x53ca48,_0x4ffdfd,_0x2ca25f){const _0x1b23c4=a53_0x466709,_0x250c7f=_0x53ca48['winnerUsername']===_0x4ffdfd;if(!_0x250c7f)return![];const _0x892071=_0x53ca48[_0x1b23c4(0x21f)],[_0x566a95,_0x1e59c2]=await Promise[_0x1b23c4(0x19b)]([this[_0x1b23c4(0x1a2)](_0x4ffdfd,_0x2ca25f),this['getPlayerDataCached'](_0x892071,_0x2ca25f)]);if(!_0x566a95||!_0x1e59c2)return console['log']('⚠️\x20Missing\x20player\x20data\x20for\x20'+_0x4ffdfd+'\x20or\x20'+_0x892071),![];const _0x4e2442=_0x566a95['eloRating']||0x0,_0x598fb5=_0x1e59c2['eloRating']||0x0,_0x7327c=getPlayerRankTier(_0x4e2442),_0x2157b9=getPlayerRankTier(_0x598fb5);console['log']('🔍\x20Checking\x20underdog:\x20Winner('+_0x4ffdfd+_0x1b23c4(0x1e2)+_0x4e2442+_0x1b23c4(0x1a8)+getRankTierName(_0x7327c)+')\x20vs\x20Loser('+_0x892071+'):\x20'+_0x598fb5+'\x20ELO\x20('+getRankTierName(_0x2157b9)+')');if(_0x2157b9>_0x7327c)return console['log']('🎯\x20UNDERDOG\x20VICTORY:\x20'+getRankTierName(_0x7327c)+'\x20beat\x20'+getRankTierName(_0x2157b9)+'!'),!![];return console['log']('❌\x20Not\x20underdog:\x20'+getRankTierName(_0x7327c)+_0x1b23c4(0x1ed)+getRankTierName(_0x2157b9)),![];}['isUnderdogVictoryFast'](_0x177692,_0x73d419,_0x24d822,_0x3bef87){const _0x57d0d0=a53_0x466709,_0x4aa558=_0x177692['winnerUsername']===_0x73d419;if(!_0x4aa558)return![];const _0x45198a=_0x177692[_0x57d0d0(0x21f)],_0x36f309=_0x3bef87['get'](_0x45198a);if(!_0x24d822||!_0x36f309)return![];const _0x18dcbc=_0x24d822['eloRating']||0x0,_0xb74a59=_0x36f309[_0x57d0d0(0x20f)]||0x0,_0x5a8a8c=getPlayerRankTier(_0x18dcbc),_0x4ee6a3=getPlayerRankTier(_0xb74a59);if(_0x4ee6a3>_0x5a8a8c)return console['log']('🎯\x20UNDERDOG:\x20'+getRankTierName(_0x5a8a8c)+'('+_0x18dcbc+')\x20beat\x20'+getRankTierName(_0x4ee6a3)+'('+_0xb74a59+')'),!![];return![];}async[a53_0x466709(0x1eb)](_0x22dc0d,_0x342008,_0x423cc7,_0x34acc7){const _0x2db107=a53_0x466709,_0x99c73b={},_0x1f81c2=_0x342008['username'],_0x484e52={'totalMatches':_0x22dc0d['length'],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0},_0x684d9a=new Set();_0x22dc0d[_0x2db107(0x1ae)](_0x1817f7=>{const _0x1d5d3b=_0x1817f7['winnerUsername']===_0x1f81c2,_0x492864=_0x1d5d3b?_0x1817f7['loserUsername']:_0x1817f7['winnerUsername'];if(_0x492864)_0x684d9a['add'](_0x492864);}),console['log']('🚀\x20Bulk\x20loading\x20'+_0x684d9a['size']+'\x20player\x20records\x20for\x20underdog\x20calculations...');const _0x2dd23e=await this[_0x2db107(0x1a6)]([..._0x684d9a,_0x1f81c2],_0x34acc7),_0x38c321=_0x2dd23e['get'](_0x1f81c2);!_0x38c321&&console[_0x2db107(0x1f1)](_0x2db107(0x1ef)+_0x1f81c2);_0x22dc0d['forEach'](_0x44dd80=>{const _0x2e03a6=_0x2db107,_0x39073b=_0x44dd80['winnerUsername']===_0x1f81c2,_0x2f09cb=_0x39073b?_0x44dd80[_0x2e03a6(0x21f)]:_0x44dd80[_0x2e03a6(0x1f2)];_0x39073b&&(_0x484e52[_0x2e03a6(0x1cc)]++,_0x44dd80['subgameType']==='Rematch'&&_0x484e52['rematchWins']++,this['isUnderdogVictoryFast'](_0x44dd80,_0x1f81c2,_0x38c321,_0x2dd23e)&&_0x484e52['underdogWins']++),_0x44dd80['subgameType']&&_0x44dd80['subgameType']!==_0x2e03a6(0x1a5)&&_0x484e52[_0x2e03a6(0x206)]++,_0x44dd80['mapPlayed']&&_0x484e52[_0x2e03a6(0x1f4)]['add'](_0x44dd80[_0x2e03a6(0x1da)]),_0x2f09cb&&_0x484e52[_0x2e03a6(0x19c)]['add'](_0x2f09cb);}),console['log']('🎯\x20Found\x20'+_0x484e52[_0x2db107(0x1d3)]+'\x20underdog\x20victories\x20for\x20'+_0x1f81c2);const _0x5476da=_0x484e52['totalMatches']>0x0?_0x484e52['wins']/_0x484e52['totalMatches']*0x64:0x0,_0x265064=[['Overachiever\x20Ribbon',this['evaluateOverachieverRibbonFromCount'](_0x484e52['totalMatches'],_0x423cc7)],['Rematch\x20Ribbon',this['evaluateRematchRibbonFromCount'](_0x484e52['rematchWins'],_0x423cc7)],['Sub-Gamer\x20Ribbon',this['evaluateSubGamerRibbonFromCount'](_0x484e52[_0x2db107(0x206)],_0x423cc7)],[_0x2db107(0x1b0),this[_0x2db107(0x1fc)](_0x484e52[_0x2db107(0x1f4)]['size'],_0x423cc7)],['Socialite\x20Ribbon',this['evaluateSocialiteRibbonFromCount'](_0x484e52['uniqueOpponents']['size'],_0x423cc7)],['Brick\x20Wall',this['evaluateBrickWallRibbonFromWinRate'](_0x5476da,_0x423cc7,_0x484e52['totalMatches'])],[_0x2db107(0x1b4),this['evaluateUnderdogRibbonFromCount'](_0x484e52['underdogWins'],_0x423cc7)]];_0x265064[_0x2db107(0x1ae)](([_0x30d2df,_0xa5446d])=>{_0xa5446d&&(_0x99c73b[_0x30d2df]=_0xa5446d);});const _0xd38e18=Object[_0x2db107(0x217)](_0x423cc7)['length']+Object[_0x2db107(0x217)](_0x99c73b)[_0x2db107(0x20a)],_0x1b8421=this['evaluateCollectorRibbonFromCount'](_0xd38e18,_0x423cc7);return _0x1b8421&&(_0x99c73b['Collector\x20Ribbon']=_0x1b8421),_0x99c73b;}async['getPlayerMatchesOptimized'](_0x218ec7,_0x134c49){const _0x2ff00f=a53_0x466709,_0x14965e=matchCache[_0x2ff00f(0x20c)](_0x218ec7,_0x134c49);if(_0x14965e)return _0x14965e;try{const _0x1cfbea=_0x134c49==='D1'?'approvedMatches':_0x134c49==='D2'?'approvedMatchesD2':'approvedMatchesD3',_0x7d9a09=collection(db,_0x1cfbea),[_0x1207d0,_0x294560]=await Promise['all']([getDocs(query(_0x7d9a09,where(_0x2ff00f(0x1f2),'==',_0x218ec7))),getDocs(query(_0x7d9a09,where('loserUsername','==',_0x218ec7)))]),_0x3f7b93=new Set(),_0x24b31d=[];return _0x1207d0['forEach'](_0x23a4db=>{const _0x14ed92=_0x2ff00f;if(!_0x3f7b93['has'](_0x23a4db['id'])){_0x3f7b93['add'](_0x23a4db['id']);const _0x1cb329={'id':_0x23a4db['id'],..._0x23a4db[_0x14ed92(0x1e7)]()};if(!_0x1cb329['winnerRating'])_0x1cb329['winnerRating']=0x0;if(!_0x1cb329[_0x14ed92(0x21e)])_0x1cb329['loserRating']=0x0;_0x24b31d['push'](_0x1cb329);}}),_0x294560[_0x2ff00f(0x1ae)](_0x44c020=>{if(!_0x3f7b93['has'](_0x44c020['id'])){_0x3f7b93['add'](_0x44c020['id']);const _0x34c5e6={'id':_0x44c020['id'],..._0x44c020['data']()};if(!_0x34c5e6['winnerRating'])_0x34c5e6['winnerRating']=0x0;if(!_0x34c5e6['loserRating'])_0x34c5e6['loserRating']=0x0;_0x24b31d['push'](_0x34c5e6);}}),matchCache['setCachedMatches'](_0x218ec7,_0x134c49,_0x24b31d),_0x24b31d;}catch(_0x4ab9f5){return console[_0x2ff00f(0x1cd)](_0x2ff00f(0x1ee),_0x4ab9f5),[];}}async[a53_0x466709(0x1a2)](_0x248285,_0x580f9c){const _0x2f720a=a53_0x466709;try{const _0x55dc54=_0x580f9c==='D1'?'players':_0x580f9c==='D2'?'playersD2':_0x2f720a(0x1e5),_0x321a0d=collection(db,_0x55dc54),_0x5f511d=query(_0x321a0d,where('username','==',_0x248285),limit(0x1)),_0x2a1ea7=await getDocs(_0x5f511d);if(_0x2a1ea7['empty'])return console['log']('❌\x20No\x20player\x20data\x20found\x20for\x20'+_0x248285+_0x2f720a(0x1d2)+_0x55dc54),null;const _0x6a48c6=_0x2a1ea7[_0x2f720a(0x1cf)][0x0]['data']();return _0x6a48c6['eloRating']!==undefined&&(_0x6a48c6['rating']=_0x6a48c6['eloRating']),console['log']('✅\x20Found\x20player\x20data\x20for\x20'+_0x248285+_0x2f720a(0x205)+_0x6a48c6['eloRating']+',\x20Position\x20'+_0x6a48c6[_0x2f720a(0x219)]),_0x6a48c6;}catch(_0x40c035){return console['error']('Error\x20getting\x20player\x20data\x20for\x20'+_0x248285+':',_0x40c035),null;}}async['getPlayerRibbonsCached'](_0x222315,_0x557589){const _0x41cf76=a53_0x466709;try{const _0x17af15=_0x41cf76(0x19f)+(_0x557589==='D1'?'':_0x557589),_0x39ca3a=doc(db,_0x17af15,_0x222315),_0x5a11d9=await getDoc(_0x39ca3a);return _0x5a11d9[_0x41cf76(0x1f3)]()?_0x5a11d9[_0x41cf76(0x1e7)]()[_0x41cf76(0x199)]||{}:{};}catch(_0x446a4c){return console['error'](_0x41cf76(0x1f5),_0x446a4c),{};}}async['savePlayerRibbonsOptimized'](_0x41f063,_0x3dd784,_0x4345bd){const _0x48c59b=a53_0x466709;try{const _0x290b1f='playerRibbons'+(_0x4345bd==='D1'?'':_0x4345bd),_0x19cd0a=doc(db,_0x290b1f,_0x41f063),_0x5a0196=await this[_0x48c59b(0x1b7)](_0x41f063,_0x4345bd),_0x1f3047={..._0x5a0196,..._0x3dd784};await setDoc(_0x19cd0a,{'username':_0x41f063,'ladder':_0x4345bd,'ribbons':_0x1f3047,'lastUpdated':new Date()},{'merge':!![]});}catch(_0x50ae70){console['error']('Error\x20saving\x20ribbons:',_0x50ae70);}}[a53_0x466709(0x1e6)](_0x461b4,_0x456dda){const _0x3462da=a53_0x466709,_0x365800=_0x456dda['Overachiever\x20Ribbon']||{'level':0x0},_0x4daefc=RIBBON_DEFINITIONS['Overachiever\x20Ribbon']['levels'],_0x2f5217=_0x4daefc['findIndex'](_0x4adeb4=>_0x461b4<_0x4adeb4),_0xaaef96=_0x2f5217===-0x1?_0x4daefc['length']:_0x2f5217;if(_0xaaef96>_0x365800[_0x3462da(0x1ad)])return{'level':_0xaaef96,'awardedAt':new Date()};return null;}['evaluateRematchRibbonFromCount'](_0x154ea0,_0x56e631){if(_0x154ea0===0x0)return null;const _0x4924e8=_0x56e631['Rematch\x20Ribbon']||{'level':0x0};if(_0x154ea0>_0x4924e8['level'])return{'level':_0x154ea0,'awardedAt':new Date()};return null;}['evaluateSubGamerRibbonFromCount'](_0x57ac22,_0x413708){const _0x2c628a=a53_0x466709,_0x2b57e3=_0x413708['Sub-Gamer\x20Ribbon']||{'level':0x0},_0x3af563=RIBBON_DEFINITIONS[_0x2c628a(0x1ce)]['levels'],_0x48872e=_0x3af563['findIndex'](_0x2d398e=>_0x57ac22<_0x2d398e),_0xf0eac0=_0x48872e===-0x1?_0x3af563['length']:_0x48872e;if(_0xf0eac0>_0x2b57e3[_0x2c628a(0x1ad)])return{'level':_0xf0eac0,'awardedAt':new Date()};return null;}['evaluateExplorerRibbonFromCount'](_0x320a2a,_0x2e300d){const _0x34f8c1=a53_0x466709,_0x5aa0dd=_0x2e300d['Explorer\x20Ribbon']||{'level':0x0},_0x3aa059=RIBBON_DEFINITIONS['Explorer\x20Ribbon']['levels'],_0x54ae81=_0x3aa059[_0x34f8c1(0x218)](_0x27e466=>_0x320a2a<_0x27e466),_0x2bedb3=_0x54ae81===-0x1?_0x3aa059['length']:_0x54ae81;if(_0x2bedb3>_0x5aa0dd[_0x34f8c1(0x1ad)])return{'level':_0x2bedb3,'awardedAt':new Date()};return null;}[a53_0x466709(0x1bf)](_0x4bcbfa,_0x31236f){const _0x9e32af=_0x31236f['Socialite\x20Ribbon']||{'level':0x0},_0x3548f3=RIBBON_DEFINITIONS['Socialite\x20Ribbon']['levels'],_0x22c7c1=_0x3548f3['findIndex'](_0x5dc5e2=>_0x4bcbfa<_0x5dc5e2),_0x123ea0=_0x22c7c1===-0x1?_0x3548f3['length']:_0x22c7c1;if(_0x123ea0>_0x9e32af['level'])return{'level':_0x123ea0,'awardedAt':new Date()};return null;}['evaluateBrickWallRibbonFromWinRate'](_0x892562,_0x575b45,_0x4e1e51){const _0x28b54c=a53_0x466709;if(_0x4e1e51<0x32)return console['log'](_0x28b54c(0x1b3)+_0x4e1e51+')'),null;const _0x25882d=_0x575b45['Brick\x20Wall']||{'level':0x0},_0x31f75c=RIBBON_DEFINITIONS['Brick\x20Wall'][_0x28b54c(0x20d)],_0x115f59=_0x31f75c['findIndex'](_0x57e440=>_0x892562<_0x57e440),_0xd39609=_0x115f59===-0x1?_0x31f75c[_0x28b54c(0x20a)]:_0x115f59;if(_0xd39609>_0x25882d['level'])return console['log']('🏆\x20Brick\x20Wall\x20ribbon\x20awarded:\x20'+_0x892562['toFixed'](0x1)+'%\x20win\x20rate\x20over\x20'+_0x4e1e51+'\x20matches'),{'level':_0xd39609,'awardedAt':new Date(),'winRate':_0x892562,'matchesPlayed':_0x4e1e51};return null;}['evaluateCollectorRibbonFromCount'](_0x47cacd,_0x574a14){const _0xd1ff6=a53_0x466709,_0x30e9af=_0x574a14[_0xd1ff6(0x1ca)]||{'level':0x0},_0x3c1cf=RIBBON_DEFINITIONS['Collector\x20Ribbon']['levels'],_0x2ebda8=_0x3c1cf['findIndex'](_0x398185=>_0x47cacd<_0x398185),_0x1f9533=_0x2ebda8===-0x1?_0x3c1cf['length']:_0x2ebda8;if(_0x1f9533>_0x30e9af['level'])return{'level':_0x1f9533,'awardedAt':new Date()};return null;}[a53_0x466709(0x1be)](_0x583268,_0x22c700){const _0x2613c8=a53_0x466709;if(_0x583268===0x0)return null;const _0x133aff=_0x22c700['Underdog\x20Ribbon']||{'level':0x0},_0x27f864=RIBBON_DEFINITIONS['Underdog\x20Ribbon']['levels'];let _0x3a03bb=0x0;for(let _0x5dc795=0x0;_0x5dc795<_0x27f864['length'];_0x5dc795++){if(_0x583268>=_0x27f864[_0x5dc795])_0x3a03bb=_0x5dc795+0x1;else break;}if(_0x3a03bb>_0x133aff[_0x2613c8(0x1ad)])return console['log']('🏆\x20Underdog\x20Ribbon\x20upgrade:\x20Level\x20'+_0x133aff[_0x2613c8(0x1ad)]+_0x2613c8(0x1b1)+_0x3a03bb+'\x20('+_0x583268+'\x20underdog\x20wins)'),{'level':_0x3a03bb,'awardedAt':new Date()};return null;}}function getPlayerRankTier(_0x26977b){if(_0x26977b===undefined||_0x26977b===null)return 0x0;const _0x3b76cc=Number(_0x26977b);if(isNaN(_0x3b76cc))return 0x0;if(_0x3b76cc>=0x7d0)return 0x4;if(_0x3b76cc>=0x708)return 0x3;if(_0x3b76cc>=0x640)return 0x2;if(_0x3b76cc>=0x578)return 0x1;return 0x0;}function getRankTierName(_0x14e89f){const _0x580ecd=a53_0x466709,_0x2c07fc=['Unranked','Bronze','Silver','Gold','Emerald'];return _0x2c07fc[_0x14e89f]||_0x580ecd(0x202);}const ribbonSystem=new RibbonSystem(),ribbonCache=new RibbonCacheManager(),matchCache=new MatchCacheManager();typeof window!=='undefined'&&(window['getRibbonCacheStats']=()=>{const _0x2ea64c=a53_0x466709;return{'ribbon':ribbonCache[_0x2ea64c(0x1de)](),'match':matchCache['getCacheStats']()};});function a53_0x28ab(_0x3a6d85,_0x1e9ea8){const _0x52d1ac=a53_0x4b24();return a53_0x28ab=function(_0x2d8be0,_0x3b4b79){_0x2d8be0=_0x2d8be0-0x199;let _0x4b2440=_0x52d1ac[_0x2d8be0];return _0x4b2440;},a53_0x28ab(_0x3a6d85,_0x1e9ea8);}export async function evaluatePlayerRibbons(_0x246b16,_0x1df96a='D1'){return await ribbonSystem['evaluateAllRibbonsForPlayerOptimized'](_0x246b16,_0x1df96a);}function a53_0x4b24(){const _0x1e215c=['ribbons','parse','all','uniqueOpponents','startsWith','Amass\x20at\x20least\x2080%\x20overall\x20win\x20rate\x20percentage\x20(minimum\x2050\x20matches)','playerRibbons','level-3','rating','getPlayerDataCached','assign','../images/ribbons/toprank.png','Standard','bulkLoadPlayerData','delete','\x20ELO\x20(','👑\x20Domination\x20Ribbon\x20awarded:\x20Level\x20','lastCleanup','#CD7F32','rematchWins','level','forEach','push','Explorer\x20Ribbon','\x20→\x20','👑\x20Dominated\x20','⚠️\x20Brick\x20Wall\x20ribbon\x20requires\x2050+\x20matches\x20(player\x20has\x20','Underdog\x20Ribbon','size','invalidatePlayerCache','getPlayerRibbonsCached','players','CACHE_DURATION','Top\x20','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22ribbon-image\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27;\x20this.nextElementSibling.style.display=\x27block\x27;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-fallback\x22\x20style=\x22display:\x20none;\x20background:\x20','getCacheKey','sort','evaluateUnderdogRibbonFromCount','evaluateSocialiteRibbonFromCount','../images/ribbons/BrickWall.png','\x20-\x20No\x20changes\x20needed','Beat\x20a\x20pilot\x20ranked\x20higher\x20than\x20you','\x20is\x20Unranked\x20(','cleanup','map','<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>','getCachedData','memoryCache','exception','Collector\x20Ribbon','\x20Tier:\x20','wins','error','Sub-Gamer\x20Ribbon','docs','📊\x20Bulk\x20loaded\x20','Domination\x20Ribbon','\x20in\x20','underdogWins','Brick\x20Wall','join','timestamp','<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20silver-star\x22></i>','removeItem','savePlayerRibbonsOptimized','mapPlayed','substring','💾\x20Saving\x20',')\x20-\x20new\x20match\x20detected','getCacheStats','../images/ribbons/Collector.png','get','isUnderdogVictoryFast','):\x20','evaluateDominationRibbonFromRanks','🎯\x20Cache\x20hit\x20(matches)\x20for\x20','playersD3','evaluateOverachieverRibbonFromCount','data','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22military-ribbon\x22\x20data-tooltip=\x22','\x20Ribbon','<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20gold-star\x22></i>','evaluateAllRibbonsFromData','matchCache','\x20vs\x20','❌\x20Error\x20fetching\x20matches:','⚠️\x20No\x20current\x20player\x20data\x20found\x20for\x20','Error\x20checking\x20top\x20rank\x20status:','log','winnerUsername','exists','uniqueMaps','Error\x20getting\x20player\x20ribbons:','matchesPlayed','\x20ELO)','{}.constructor(\x22return\x20this\x22)(\x20)','Socialite\x20Ribbon','toLocaleTimeString','clearOldCache','evaluateExplorerRibbonFromCount','batchTimer','Beat\x205\x20unique\x20pilots\x20in\x20a\x20rank\x20(including\x20your\x20own)','dominatedRanks','bind','evaluateTopRankRibbon','Unranked','\x20status\x20for\x20','Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Emerald\x20rank',':\x20ELO\x20','subgameMatches','subgameType','entries','floor','length','../images/ribbons/Explorer.png','getCachedMatches','levels','\x20players\x20from\x20','eloRating','trace','now','<div\x20class=\x22ribbon-devices\x22>','return\x20(function()\x20','set','setCachedData','table','keys','findIndex','position','autoCleanup','color','\x20-\x20Level\x20','evaluateBrickWallRibbonFromWinRate','loserRating','loserUsername','Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Silver\x20rank'];a53_0x4b24=function(){return _0x1e215c;};return a53_0x4b24();}export function getRibbonHTML(_0x26e29c,_0x36cda6){const _0x2ac4fd=a53_0x466709,_0x1c3fa5=RIBBON_DEFINITIONS[_0x26e29c];if(!_0x1c3fa5)return'';const _0x2c8888=_0x36cda6['level']||0x1,_0x51de90=_0x26e29c['replace'](_0x2ac4fd(0x1e9),'')['replace']('\x20Badge',''),_0x5c7e1e=_0x871572=>{const _0x393417=_0x2ac4fd;if(_0x871572<=0x1)return'level-1';if(_0x871572<=0x2)return'level-2';if(_0x871572<=0x3)return _0x393417(0x1a0);if(_0x871572<=0x4)return'level-4';return'level-5-plus';},_0x36860c=_0x196555=>{const _0x4d047e=_0x2ac4fd;if(_0x196555<=0x1)return'';const _0x42fa8e=[];if(_0x196555>=0x2&&_0x196555<=0x4){const _0xb4adb3=Math['min'](_0x196555-0x1,0x3);for(let _0x39fe3d=0x0;_0x39fe3d<_0xb4adb3;_0x39fe3d++){_0x42fa8e['push'](_0x4d047e(0x1c6));}}if(_0x196555>=0x5&&_0x196555<=0x7){_0x42fa8e['push'](_0x4d047e(0x1d7));const _0xe847ce=Math['min'](_0x196555-0x5,0x2);for(let _0x169710=0x0;_0x169710<_0xe847ce;_0x169710++){_0x42fa8e[_0x4d047e(0x1af)]('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>');}}return _0x196555>=0x8&&_0x42fa8e['push'](_0x4d047e(0x1ea)),_0x42fa8e['length']>0x0?_0x4d047e(0x212)+_0x42fa8e['join']('')+'</div>':'';},_0xb570d3=_0x1c3fa5['description']+_0x2ac4fd(0x21c)+_0x2c8888;return _0x2ac4fd(0x1e8)+_0xb570d3+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-image-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22'+_0x1c3fa5['image']+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22'+_0x26e29c+_0x2ac4fd(0x1bb)+_0x1c3fa5[_0x2ac4fd(0x21b)]+';\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x51de90[_0x2ac4fd(0x1db)](0x0,0x6)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x36860c(_0x2c8888)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-name\x22>'+_0x51de90+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2c8888>0x1?'<div\x20class=\x22ribbon-level-indicator\x20'+_0x5c7e1e(_0x2c8888)+'\x22>'+_0x2c8888+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}