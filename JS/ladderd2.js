const a32_0x4d65d7=(function(){let _0x55be73=!![];return function(_0x1cf089,_0x2e2105){const _0x45c8fa=_0x55be73?function(){if(_0x2e2105){const _0x2983d4=_0x2e2105['apply'](_0x1cf089,arguments);return _0x2e2105=null,_0x2983d4;}}:function(){};return _0x55be73=![],_0x45c8fa;};}()),a32_0x384bf3=a32_0x4d65d7(this,function(){const _0x381032=a32_0x56e7;let _0x492f25;try{const _0x2f629e=Function('return\x20(function()\x20'+_0x381032(0x14e)+');');_0x492f25=_0x2f629e();}catch(_0x34debc){_0x492f25=window;}const _0x17bb2b=_0x492f25[_0x381032(0x158)]=_0x492f25['console']||{},_0x40ade6=['log','warn','info',_0x381032(0x14f),'exception','table',_0x381032(0x15b)];for(let _0x184232=0x0;_0x184232<_0x40ade6['length'];_0x184232++){const _0x28b856=a32_0x4d65d7['constructor'][_0x381032(0x13f)]['bind'](a32_0x4d65d7),_0x4e0261=_0x40ade6[_0x184232],_0x152558=_0x17bb2b[_0x4e0261]||_0x28b856;_0x28b856['__proto__']=a32_0x4d65d7['bind'](a32_0x4d65d7),_0x28b856['toString']=_0x152558[_0x381032(0x14b)]['bind'](_0x152558),_0x17bb2b[_0x4e0261]=_0x28b856;}});a32_0x384bf3();import{collection,getDocs,deleteDoc,doc,getDoc,query,where,updateDoc,Timestamp,onSnapshot,orderBy,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db}from'./firebase-config.js';function a32_0x15a1(){const _0x505f8e=['loserScore','totalKills','MAX_SAFE_INTEGER','includes','toLowerCase','wins',';\x20text-decoration:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','prototype','newElo','timestamp','length','map',';\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22elo-container\x22\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22elo-value\x22>','elo','&ladder=d2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22color:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x228\x22\x20style=\x22text-align:\x20center;\x20color:\x20red;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20D2\x20ladder\x20data:\x20','toFixed','Error\x20loading\x20D2\x20ladder:','sort','toString','visibility','Unranked','{}.constructor(\x22return\x20this\x22)(\x20)','error','%</td>\x0a\x20\x20\x20\x20</tr>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22trend-indicator\x22\x20style=\x22margin-left:\x205px;\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','visible','querySelector','has','#CD7F32','Emerald','username','console','D2\x20Ladder\x20table\x20body\x20not\x20found','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Rank</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Username</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>ELO</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Matches</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Wins</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Losses</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>K/D</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Win\x20Rate</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','trace','forEach','td:nth-child(3)','country','find','totalMatches','style','data','position','Error\x20updating\x20D2\x20ELO\x20trend\x20indicators:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','kda','player','get','playerUsername','set'];a32_0x15a1=function(){return _0x505f8e;};return a32_0x15a1();}import{getRankStyle}from'./ranks.js';import a32_0x46fc87 from'./firebase-idle-wrapper.js';const playerCacheD2={'data':null,'timestamp':0x0},CACHE_DURATION=0x7530;async function displayLadderD2(_0x22a2c6=![]){const _0x42f661=a32_0x56e7,_0x36a5de=document[_0x42f661(0x153)]('#ladder-d2\x20tbody');if(!_0x36a5de){console['error'](_0x42f661(0x159));return;}_0x36a5de['innerHTML']='<tr><td\x20colspan=\x228\x22\x20class=\x22loading-cell\x22>Loading\x20D2\x20ladder\x20data...</td></tr>';try{const _0x1021b3=Date['now']();if(!_0x22a2c6&&playerCacheD2['data']&&_0x1021b3-playerCacheD2['timestamp']<CACHE_DURATION){updateLadderDisplayD2(playerCacheD2[_0x42f661(0x162)]);return;}const _0x5ecf4f=collection(db,'playersD2'),_0x17135b=query(_0x5ecf4f,orderBy('position','asc')),_0x1313c3=await a32_0x46fc87['getDocuments'](_0x5ecf4f),_0x550e67=[];_0x1313c3['forEach'](_0x1a9421=>{const _0x2fdd47=_0x42f661,_0x18409e=_0x1a9421['data']();_0x18409e['username']&&_0x550e67['push']({..._0x18409e,'id':_0x1a9421['id'],'elo':_0x18409e['eloRating']||0x0,'position':_0x18409e['position']||Number[_0x2fdd47(0x13a)]});});const _0x4cee4c=collection(db,'userProfiles'),_0x576586=await getDocs(_0x4cee4c),_0x4ffdcf=new Map();_0x576586[_0x42f661(0x15c)](_0x228b3c=>{const _0x3f36e7=_0x42f661,_0x14be80=_0x228b3c['data']();_0x14be80['username']&&_0x4ffdcf['set'](_0x14be80['username'][_0x3f36e7(0x13c)](),_0x14be80);});for(const _0x290886 of _0x550e67){const _0x184f75=_0x290886['username'][_0x42f661(0x13c)]();if(_0x4ffdcf[_0x42f661(0x154)](_0x184f75)){const _0x45ce64=_0x4ffdcf['get'](_0x184f75);_0x45ce64['country']&&(_0x290886[_0x42f661(0x15e)]=_0x45ce64[_0x42f661(0x15e)]['toLowerCase']());}}const _0x50caea=_0x550e67[_0x42f661(0x143)](_0x417be0=>_0x417be0['username']),_0x33e00c=await fetchBatchMatchStatsD2(_0x50caea);_0x550e67['sort']((_0xf80d3e,_0x34370a)=>{const _0x23aefe=_0x42f661,_0x48f091=_0x33e00c['get'](_0xf80d3e[_0x23aefe(0x157)])?.['totalMatches']||0x0,_0x3ae357=_0x33e00c[_0x23aefe(0x168)](_0x34370a[_0x23aefe(0x157)])?.[_0x23aefe(0x160)]||0x0;if(_0x48f091===0x0!==(_0x3ae357===0x0))return _0x48f091===0x0?0x1:-0x1;return(_0xf80d3e['position']||0x3e7)-(_0x34370a['position']||0x3e7);}),_0x550e67[_0x42f661(0x15c)]((_0x47b2cb,_0x1647f3)=>{const _0x3230c2=_0x42f661;_0x47b2cb[_0x3230c2(0x163)]=_0x1647f3+0x1;}),playerCacheD2['data']=_0x550e67,playerCacheD2['timestamp']=_0x1021b3,updateLadderDisplayD2(_0x550e67);}catch(_0x52b138){console['error'](_0x42f661(0x149),_0x52b138),_0x36a5de['innerHTML']=_0x42f661(0x147)+_0x52b138['message']+_0x42f661(0x165);}}function getNextAvailablePositionD2(_0x2aa752){if(_0x2aa752['length']===0x0)return 0x1;let _0x36e16d=0x0;return _0x2aa752['forEach'](_0x2fbd52=>{const _0x528f73=a32_0x56e7;_0x2fbd52['position']&&typeof _0x2fbd52['position']==='number'&&_0x2fbd52[_0x528f73(0x163)]>_0x36e16d&&(_0x36e16d=_0x2fbd52['position']);}),_0x36e16d+0x1;}async function updatePlayerPositions(_0x51e205,_0xa0335e){const _0x55a490=a32_0x56e7;try{const _0xc6a6d0=collection(db,'playersD2'),_0x1e0d78=await getDocs(_0xc6a6d0),_0x540e0e=[];_0x1e0d78['forEach'](_0x1709bc=>{_0x540e0e['push']({'id':_0x1709bc['id'],..._0x1709bc['data']()});});const _0x10488e=_0x540e0e['find'](_0x13f8b7=>_0x13f8b7['username']===_0x51e205),_0x5b2056=_0x540e0e['find'](_0x229b36=>_0x229b36[_0x55a490(0x157)]===_0xa0335e);if(!_0x10488e||!_0x5b2056){console['error']('Could\x20not\x20find\x20winner\x20or\x20loser\x20in\x20D2\x20players\x20list');return;}if(_0x10488e['position']>_0x5b2056['position']){const _0x193087=_0x5b2056['position'];for(const _0x1846fc of _0x540e0e){_0x1846fc['position']>=_0x5b2056[_0x55a490(0x163)]&&_0x1846fc['position']<_0x10488e['position']&&_0x1846fc['username']!==_0x51e205&&await updateDoc(doc(db,'playersD2',_0x1846fc['id']),{'position':_0x1846fc['position']+0x1});}await updateDoc(doc(db,'playersD2',_0x10488e['id']),{'position':_0x193087});if(_0x193087===0x1){const _0x261476=doc(db,'playersD2',_0x10488e['id']),_0x55e049=await getDoc(_0x261476);!_0x55e049['data']()['firstPlaceDate']&&await updateDoc(_0x261476,{'firstPlaceDate':Timestamp['now']()});}if(_0x5b2056[_0x55a490(0x163)]===0x1){const _0x4931b6=doc(db,'playersD2',_0x5b2056['id']);await updateDoc(_0x4931b6,{'firstPlaceDate':null});}playerCacheD2['timestamp']=0x0;}}catch(_0x4e32f3){console[_0x55a490(0x14f)]('Error\x20updating\x20D2\x20player\x20positions:',_0x4e32f3);}}function calculateStreakDays(_0x45bd52){if(!_0x45bd52)return 0x0;const _0x203773=_0x45bd52['toDate'](),_0x4d69f2=new Date(),_0x292839=Math['abs'](_0x4d69f2-_0x203773);return Math['ceil'](_0x292839/(0x3e8*0x3c*0x3c*0x18));}function a32_0x56e7(_0x129fa9,_0x73e2ba){const _0x384bf3=a32_0x15a1();return a32_0x56e7=function(_0x4d65d7,_0x254a5f){_0x4d65d7=_0x4d65d7-0x138;let _0x15a17f=_0x384bf3[_0x4d65d7];return _0x15a17f;},a32_0x56e7(_0x129fa9,_0x73e2ba);}function getPlayerRankNameD2(_0x538d24){const _0x414469=a32_0x56e7;if(_0x538d24>=0x834)return _0x414469(0x156);if(_0x538d24>=0x708)return'Gold';if(_0x538d24>=0x640)return'Silver';if(_0x538d24>=0x578)return'Bronze';return _0x414469(0x14d);}async function updateLadderDisplayD2(_0x9a3142){const _0xe46626=a32_0x56e7;_0x9a3142[_0xe46626(0x14a)]((_0x3d5be3,_0x55a3b7)=>_0x3d5be3[_0xe46626(0x163)]-_0x55a3b7['position']);const _0x8a1848=document[_0xe46626(0x153)]('#ladder-d2\x20tbody');if(!_0x8a1848)return;_0x8a1848['innerHTML']='';const _0x580aca=_0x9a3142['map'](_0x1a9ce0=>_0x1a9ce0['username']),_0x564b6e=await fetchBatchMatchStatsD2(_0x580aca),_0x2193ad=document[_0xe46626(0x153)]('#ladder-d2\x20thead\x20tr');_0x2193ad&&(_0x2193ad['innerHTML']=_0xe46626(0x15a));const _0x1a9029=_0x9a3142['map'](_0x216b50=>{const _0x15b0af=_0xe46626,_0x6e0b07=_0x564b6e['get'](_0x216b50[_0x15b0af(0x157)])||{'totalMatches':0x0,'wins':0x0,'losses':0x0,'kda':0x0,'winRate':0x0,'totalKills':0x0,'totalDeaths':0x0};return createPlayerRowD2(_0x216b50,_0x6e0b07);})['join']('');_0x8a1848['innerHTML']=_0x1a9029,getPlayersLastEloChangesD2(_0x580aca)['then'](_0x7f9917=>{const _0x1fa2d7=_0xe46626,_0x59e787=new Map();_0x8a1848['querySelectorAll']('tr')[_0x1fa2d7(0x15c)]((_0xb3d553,_0x36356f)=>{const _0x18cc68=_0x1fa2d7;_0x36356f<_0x580aca['length']&&_0x59e787[_0x18cc68(0x16a)](_0x580aca[_0x36356f],_0xb3d553);}),_0x7f9917['forEach']((_0x1588d7,_0x1f5e96)=>{const _0xa192cf=_0x1fa2d7,_0x501744=_0x59e787['get'](_0x1f5e96);if(_0x501744&&_0x1588d7!==0x0){const _0x560315=_0x501744['querySelector'](_0xa192cf(0x15d));if(_0x560315){const _0xf53a56=_0x1588d7>0x0?'+'+_0x1588d7:''+_0x1588d7,_0x25df05=_0x560315['querySelector']('.trend-indicator');_0x25df05&&(_0x25df05['textContent']=_0xf53a56,_0x25df05[_0xa192cf(0x161)]['color']=_0x1588d7>0x0?'#4CAF50':'#F44336',_0x25df05[_0xa192cf(0x161)]['fontWeight']='bold',_0x25df05[_0xa192cf(0x161)]['fontSize']='0.85em',_0x25df05[_0xa192cf(0x161)]['display']='inline',_0x25df05['style'][_0xa192cf(0x14c)]=_0xa192cf(0x152),_0x25df05['style']['opacity']='1');}}});})['catch'](_0x569368=>console[_0xe46626(0x14f)](_0xe46626(0x164),_0x569368));}function createPlayerRowD2(_0x55a85a,_0x5fc5){const _0x41744c=a32_0x56e7,_0x3f44ac=parseFloat(_0x55a85a[_0x41744c(0x145)])||0x0;let _0x2ce463='gray';if(_0x3f44ac>=0x7d0)_0x2ce463='#50C878';else{if(_0x3f44ac>=0x708)_0x2ce463='#FFD700';else{if(_0x3f44ac>=0x640)_0x2ce463='#C0C0C0';else _0x3f44ac>=0x578&&(_0x2ce463=_0x41744c(0x155));}}let _0x199f45='';return _0x55a85a[_0x41744c(0x15e)]&&(_0x199f45='<img\x20src=\x22../images/flags/'+_0x55a85a['country']['toLowerCase']()+'.png\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22'+_0x55a85a['country']+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22player-flag\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22margin-left:\x205px;\x20vertical-align:\x20middle;\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>'),'\x0a\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x55a85a['position']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22profile.html?username='+encodeURIComponent(_0x55a85a['username'])+_0x41744c(0x146)+_0x2ce463+_0x41744c(0x13e)+_0x55a85a[_0x41744c(0x157)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x199f45+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22color:\x20'+_0x2ce463+_0x41744c(0x144)+_0x3f44ac+_0x41744c(0x151)+_0x5fc5['totalMatches']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x5fc5['wins']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x5fc5['losses']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x5fc5[_0x41744c(0x166)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x5fc5['winRate']+_0x41744c(0x150);}async function getPlayersLastEloChangesD2(_0x55b786){const _0x45ec99=new Map();_0x55b786['forEach'](_0x258aa4=>_0x45ec99['set'](_0x258aa4,0x0));try{const _0x197194=collection(db,'eloHistoryD2'),_0x31c47a=query(_0x197194,orderBy('timestamp','desc'),limit(0x64)),_0x28d927=await getDocs(_0x31c47a),_0x12deae=new Map(),_0x4fcf82=await getDocs(collection(db,'playersD2'));_0x4fcf82['forEach'](_0x3d8e3d=>{const _0x3884e2=a32_0x56e7,_0x382f25=_0x3d8e3d[_0x3884e2(0x162)]();_0x382f25[_0x3884e2(0x157)]&&_0x12deae['set'](_0x3d8e3d['id'],_0x382f25[_0x3884e2(0x157)]);});const _0x37515a=new Map();_0x28d927['forEach'](_0x52ce6b=>{const _0x5d075c=a32_0x56e7,_0x1e137f=_0x52ce6b['data']();let _0x1c6066=_0x1e137f['username']||_0x1e137f[_0x5d075c(0x169)];!_0x1c6066&&_0x1e137f[_0x5d075c(0x167)]&&_0x12deae['has'](_0x1e137f['player'])&&(_0x1c6066=_0x12deae['get'](_0x1e137f[_0x5d075c(0x167)]));if(!_0x1c6066&&_0x1e137f['matchId']){}_0x1c6066&&_0x55b786['includes'](_0x1c6066)&&(!_0x37515a['has'](_0x1c6066)&&_0x37515a['set'](_0x1c6066,[]),_0x37515a[_0x5d075c(0x168)](_0x1c6066)['push']({..._0x1e137f,'timestamp':_0x1e137f['timestamp']?.['seconds']||0x0,'username':_0x1c6066}));}),_0x37515a['forEach']((_0x415aeb,_0x529245)=>{const _0x39b3fa=a32_0x56e7;if(_0x415aeb[_0x39b3fa(0x142)]>0x0){_0x415aeb[_0x39b3fa(0x14a)]((_0x39e2b6,_0x58a51c)=>_0x58a51c[_0x39b3fa(0x141)]-_0x39e2b6['timestamp']);const _0x5bdd67=_0x415aeb[_0x39b3fa(0x15f)](_0x351688=>_0x351688['change']!==undefined||_0x351688['newElo']!==undefined&&_0x351688['previousElo']!==undefined);if(_0x5bdd67){let _0x450e04;if(_0x5bdd67['change']!==undefined)_0x450e04=_0x5bdd67['change'];else _0x5bdd67[_0x39b3fa(0x140)]!==undefined&&_0x5bdd67['previousElo']!==undefined&&(_0x450e04=_0x5bdd67['newElo']-_0x5bdd67['previousElo']);_0x450e04!==undefined&&_0x45ec99[_0x39b3fa(0x16a)](_0x529245,_0x450e04);}}});if(_0x37515a['size']===0x0){const _0x4d45c7=collection(db,'eloHistory'),_0x4775fd=query(_0x4d45c7,where('gameMode','==','D2'),orderBy('timestamp','desc'),limit(0x32));try{const _0x2100bc=await getDocs(_0x4775fd);console['log']('D2:\x20Found',_0x2100bc['size'],'fallback\x20entries'),_0x2100bc['forEach'](_0x31ae01=>{const _0x3def8c=a32_0x56e7,_0x1a5520=_0x31ae01[_0x3def8c(0x162)](),_0x381b6b=_0x1a5520[_0x3def8c(0x157)]||_0x1a5520[_0x3def8c(0x169)];if(_0x381b6b&&_0x55b786['includes'](_0x381b6b)){const _0x17db7b=_0x1a5520['change']||(_0x1a5520[_0x3def8c(0x140)]!==undefined&&_0x1a5520['previousElo']!==undefined?_0x1a5520[_0x3def8c(0x140)]-_0x1a5520['previousElo']:0x0);_0x17db7b!==0x0&&(_0x45ec99['set'](_0x381b6b,_0x17db7b),console['log']('D2:\x20'+_0x381b6b+'\x20fallback\x20ELO\x20change:\x20'+_0x17db7b));}});}catch(_0x45aed4){}}}catch(_0x4b42ec){console['error']('D2:\x20Error\x20fetching\x20ELO\x20history:',_0x4b42ec);}return _0x45ec99;}async function fetchBatchMatchStatsD2(_0x216b2d){const _0x32da2e=a32_0x56e7,_0x974ee1=new Map();try{_0x216b2d['forEach'](_0x537271=>{const _0x55ea5d=a32_0x56e7;_0x974ee1[_0x55ea5d(0x16a)](_0x537271,{'totalMatches':0x0,'wins':0x0,'losses':0x0,'totalKills':0x0,'totalDeaths':0x0,'kda':0x0,'winRate':0x0});});const _0x46276f=collection(db,'approvedMatchesD2'),_0x1fdfd0=await getDocs(_0x46276f);_0x1fdfd0[_0x32da2e(0x15c)](_0x4e56ba=>{const _0x381202=_0x32da2e,_0xf247aa=_0x4e56ba['data'](),_0x209604=_0xf247aa['winnerUsername'],_0x2e7020=_0xf247aa['loserUsername'];if(_0x216b2d[_0x381202(0x13b)](_0x209604)){const _0x5d6aa8=_0x974ee1['get'](_0x209604);_0x5d6aa8[_0x381202(0x13d)]++,_0x5d6aa8['totalMatches']++,_0x5d6aa8['totalKills']+=parseInt(_0xf247aa['winnerScore'])||0x0,_0x5d6aa8['totalDeaths']+=parseInt(_0xf247aa['loserScore'])||0x0;}if(_0x216b2d['includes'](_0x2e7020)){const _0x2e549e=_0x974ee1['get'](_0x2e7020);_0x2e549e['losses']++,_0x2e549e['totalMatches']++,_0x2e549e['totalKills']+=parseInt(_0xf247aa[_0x381202(0x138)])||0x0,_0x2e549e['totalDeaths']+=parseInt(_0xf247aa['winnerScore'])||0x0;}}),_0x216b2d['forEach'](_0x15c3e2=>{const _0x350069=_0x32da2e,_0x6ce4a2=_0x974ee1[_0x350069(0x168)](_0x15c3e2);_0x6ce4a2['kda']=_0x6ce4a2['totalDeaths']>0x0?(_0x6ce4a2['totalKills']/_0x6ce4a2['totalDeaths'])['toFixed'](0x2):_0x6ce4a2[_0x350069(0x139)]['toFixed'](0x2),_0x6ce4a2['winRate']=_0x6ce4a2['totalMatches']>0x0?(_0x6ce4a2[_0x350069(0x13d)]/_0x6ce4a2[_0x350069(0x160)]*0x64)[_0x350069(0x148)](0x1):0x0;});}catch(_0x5b04b5){console['error']('Error\x20fetching\x20batch\x20D2\x20match\x20stats:',_0x5b04b5);}return _0x974ee1;}export{displayLadderD2,updatePlayerPositions};