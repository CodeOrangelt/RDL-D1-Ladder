const a27_0x4f04eb=a27_0x2c11;(function(_0x38d5ea,_0xbca0cc){const _0x10078b=a27_0x2c11,_0xe38e5a=_0x38d5ea();while(!![]){try{const _0x1651ce=-parseInt(_0x10078b(0x16c))/0x1*(-parseInt(_0x10078b(0x13d))/0x2)+-parseInt(_0x10078b(0x110))/0x3+parseInt(_0x10078b(0x173))/0x4+-parseInt(_0x10078b(0x182))/0x5*(-parseInt(_0x10078b(0x1ce))/0x6)+parseInt(_0x10078b(0x1b9))/0x7+-parseInt(_0x10078b(0x11b))/0x8*(-parseInt(_0x10078b(0x1d1))/0x9)+parseInt(_0x10078b(0x1b5))/0xa*(-parseInt(_0x10078b(0x1ac))/0xb);if(_0x1651ce===_0xbca0cc)break;else _0xe38e5a['push'](_0xe38e5a['shift']());}catch(_0x12f0f9){_0xe38e5a['push'](_0xe38e5a['shift']());}}}(a27_0x5b3b,0xc3ff0));const a27_0x22f86e=(function(){let _0x2e8e04=!![];return function(_0x22023d,_0x2c053d){const _0x4f2ca6=_0x2e8e04?function(){if(_0x2c053d){const _0x1abcdb=_0x2c053d['apply'](_0x22023d,arguments);return _0x2c053d=null,_0x1abcdb;}}:function(){};return _0x2e8e04=![],_0x4f2ca6;};}()),a27_0x3a2971=a27_0x22f86e(this,function(){const _0x35954d=a27_0x2c11;return a27_0x3a2971[_0x35954d(0x196)]()[_0x35954d(0x12e)](_0x35954d(0x148))[_0x35954d(0x196)]()['constructor'](a27_0x3a2971)[_0x35954d(0x12e)](_0x35954d(0x148));});a27_0x3a2971();const a27_0x7e622f=(function(){let _0x5aaee0=!![];return function(_0x33891a,_0x244264){const _0x2d61c8=_0x5aaee0?function(){const _0x38988e=a27_0x2c11;if(_0x244264){const _0x46c552=_0x244264[_0x38988e(0x167)](_0x33891a,arguments);return _0x244264=null,_0x46c552;}}:function(){};return _0x5aaee0=![],_0x2d61c8;};}()),a27_0x574963=a27_0x7e622f(this,function(){const _0x16e21f=a27_0x2c11;let _0x18cca6;try{const _0x86ba81=Function(_0x16e21f(0x178)+_0x16e21f(0x14b)+');');_0x18cca6=_0x86ba81();}catch(_0x554f8d){_0x18cca6=window;}const _0x5849a5=_0x18cca6[_0x16e21f(0x10a)]=_0x18cca6[_0x16e21f(0x10a)]||{},_0x5b367e=[_0x16e21f(0x11d),_0x16e21f(0x136),'info',_0x16e21f(0x12c),'exception','table',_0x16e21f(0x184)];for(let _0x389eca=0x0;_0x389eca<_0x5b367e[_0x16e21f(0x1ae)];_0x389eca++){const _0x1a2fbe=a27_0x7e622f[_0x16e21f(0x10f)]['prototype'][_0x16e21f(0x175)](a27_0x7e622f),_0x306ca0=_0x5b367e[_0x389eca],_0x541220=_0x5849a5[_0x306ca0]||_0x1a2fbe;_0x1a2fbe[_0x16e21f(0x190)]=a27_0x7e622f[_0x16e21f(0x175)](a27_0x7e622f),_0x1a2fbe[_0x16e21f(0x196)]=_0x541220[_0x16e21f(0x196)][_0x16e21f(0x175)](_0x541220),_0x5849a5[_0x306ca0]=_0x1a2fbe;}});a27_0x574963();import{db}from'./firebase-config.js';function a27_0x5b3b(){const _0x4f8b93=['approvedMatches','forEach','newEloRating','winRate','977260PfsGuC','Looking\x20for\x20a\x20teammate?\x20Consider\x20<span\x20class=\x22recommendation-highlight\x22\x20style=\x22color:\x20','bind','Ladder\x20table\x20body\x20not\x20found','playerUsername','return\x20(function()\x20','hasTeam','duos-switch','docs','&ladder=d1\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22color:\x20','D2\x20toggle\x20clicked','elo-recommendation-text-d3','0.85em','Error\x20loading\x20ladder\x20data:','toLowerCase','2010dFruSW','.png\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22','trace','userProfiles','has','Silver','catch','onAuthStateChanged','position','country','#FFD700','teammate','disabled','Recommendation\x20element\x20for\x20','__proto__','toFixed','toISOString','elo-recommendation-text-duos','date','</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-name\x22>','toString','kda','newElo','toUpperCase','role','not-allowed','email','ladder-player','#b9f1fc','Complete\x20your\x20profile\x20to\x20see\x20recommended\x20opponents','remove','\x20not\x20found','includes','ELO\x20history\x20collection\x20is\x20empty','previousElo','desc','player','\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translate(-50%,\x20-50%);\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#2a2a2a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x202px\x20solid\x20#ff6b6b;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ff6b6b;\x0a\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.5);\x0a\x20\x20\x20\x20','),\x20you\x20should\x20be\x20playing\x20<span\x20class=\x22recommendation-highlight\x22\x20style=\x22color:\x20','slice','error-message','Error\x20fetching\x20ELO\x20history:','11zVZyWl','eloHistory','length','currentUser','sort','visibility','div','players','Error\x20fetching\x20batch\x20match\x20stats:','15021780jIGgcu','#50C878','#CD7F32','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22color:\x20','1471316OQrqJZ','matchesD','none',';\x20text-decoration:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','join','<tr><td\x20colspan=\x228\x22\x20class=\x22loading-cell\x22>Loading\x20ladder\x20data...</td></tr>','inline','display','preventDefault','losses','querySelector','innerHTML','classList','addEventListener','empty','block','playersD3','totalKills','Duos\x20ladder\x20is\x20currently\x20admin-only','.trend-indicator','d2-ladder-container','20376sLvpEg','cursor','No\x20available\x20teammates\x20found.\x20More\x20players\x20needed\x20on\x20DUOS\x20ladder!','855IuHquF','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x228\x22\x20style=\x22text-align:\x20center;\x20color:\x20red;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20ladder\x20data:\x20','matches','exists','abs','visible','winnerUsername','council','d3-ladder-container','Error\x20loading\x20ladder:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','textContent','elo','playersD','MAX_SAFE_INTEGER','seconds','console','duos','creative\x20lead','playersD2','oldEloRating','constructor','3064803nVQwSg','wins','eloRating','#ladder\x20thead\x20tr','totalMatches','elo-recommendation-text-d1','rank','roleName','innerText','td:nth-child(3)','\x0a\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','54224HhFwsk','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','log','admin','uid','0.5','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22trend-indicator\x22\x20style=\x22margin-left:\x205px;\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','You\x27re\x20not\x20registered\x20on\x20the\x20','gray','admin-only-message','duos-ladder-container','DOMContentLoaded',';\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22elo-container\x22\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22elo-value\x22>','<img\x20src=\x22../images/flags/','active','Error\x20checking\x20','loading-indicator','error','</span>\x20(ELO:\x20','search','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#4CAF50','brian2af@outlook.com','map','Bronze','totalDeaths','elo-recommendation-text-d2','warn','max','data','#ladder\x20tbody','title','pow','appendChild','14THFBtQ','</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-activity\x20','round','querySelectorAll','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','No\x20ideal\x20opponent\x20found\x20for\x20your\x20current\x20ELO\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Rank</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Username</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>ELO</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Matches</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Wins</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Losses</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>K/D</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Win\x20Rate</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ladder-container','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22profile.html?username=','getElementById','add','(((.+)+)+)+$','d2-switch','getDate','{}.constructor(\x22return\x20this\x22)(\x20)','admin@ladder.com','d1-switch','style','find','Inactive','You\x27re\x20teamed\x20with\x20<span\x20class=\x22recommendation-highlight\x22>','winnerScore','Gold','get','playersDuos','D3\x20toggle\x20clicked','Error\x20finding\x20recommended\x20opponent','set','change','Emerald','loserScore','target','d1-ladder-container',';\x22>','recentActivity','setDate','then','\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','fontWeight','username','opacity','click','apply','timestamp','color','%</td>\x0a\x20\x20\x20\x20</tr>','bold','123282NpdYQy','push','Error\x20updating\x20ELO\x20trend\x20indicators:'];a27_0x5b3b=function(){return _0x4f8b93;};return a27_0x5b3b();}import{collection,getDocs,deleteDoc,doc,getDoc,query,where,updateDoc,Timestamp,onSnapshot,orderBy,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{getRankStyle}from'./ranks.js';import{displayLadderD2}from'./ladderd2.js';import{displayLadderD3}from'./ladderd3.js';import{getAuth}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';import{getLadderData,getEloHistoryBatch,setupEfficientListener}from'./services/firebaseService.js';import{displayLadderDuos}from'./ladderduos.js';const auth=getAuth();let activeListeners=[];export async function loadLadderData(_0x467697=0x1){const _0xb0639a=a27_0x2c11;try{document['getElementById'](_0xb0639a(0x12b))[_0xb0639a(0x14e)]['display']=_0xb0639a(0x1c8);const _0x1e089e=await getLadderData(_0x467697);_0x1e089e[_0xb0639a(0x1b0)]((_0x54ad64,_0x27db25)=>_0x27db25['elo']-_0x54ad64[_0xb0639a(0x1dd)]);const _0x18a042=_0x1e089e['map'](_0xbaa584=>_0xbaa584['id']),_0x44aceb=await getEloHistoryBatch(_0x18a042,_0x467697),_0x588352=_0x1e089e[_0xb0639a(0x132)]((_0x3eaee1,_0x5d8e43)=>{const _0x283b14=_0xb0639a,_0x3aef03=_0x44aceb[_0x3eaee1['id']]||[],_0xa51a6a=_0x3aef03[_0x283b14(0x1b0)]((_0x356076,_0x50936d)=>new Date(_0x50936d[_0x283b14(0x194)])-new Date(_0x356076['date']))[_0x283b14(0x1a9)](0x0,0x5);return{..._0x3eaee1,'rank':_0x5d8e43+0x1,'lastMatches':_0xa51a6a,'recentActivity':_0xa51a6a[_0x283b14(0x1ae)]>0x0};});renderLadder(_0x588352),setupRealTimeUpdates(_0x467697);}catch(_0x4ac755){console[_0xb0639a(0x12c)](_0xb0639a(0x180),_0x4ac755),document['getElementById'](_0xb0639a(0x1aa))[_0xb0639a(0x118)]='Failed\x20to\x20load\x20ladder\x20data.\x20Please\x20try\x20again.';}finally{document[_0xb0639a(0x146)](_0xb0639a(0x12b))[_0xb0639a(0x14e)][_0xb0639a(0x1c0)]=_0xb0639a(0x1bb);}}function setupRealTimeUpdates(_0x21317b=0x1){const _0x384880=a27_0x2c11;activeListeners[_0x384880(0x170)](_0x94169c=>_0x94169c()),activeListeners=[];const _0x30437b=_0x21317b===0x1?'players':_0x384880(0x107)+_0x21317b,_0x5ea978=_0x21317b===0x1?_0x384880(0x1d3):_0x384880(0x1ba)+_0x21317b,_0x234e2e=new Date();_0x234e2e[_0x384880(0x160)](_0x234e2e[_0x384880(0x14a)]()-0x1);const _0x392a67=setupEfficientListener(_0x5ea978,[where('date','>=',_0x234e2e[_0x384880(0x192)]()),limit(0xa),orderBy(_0x384880(0x194),_0x384880(0x1a5))],async _0x4d4544=>{const _0x4bd761=_0x384880;_0x4d4544[_0x4bd761(0x1ae)]>0x0&&await loadLadderData(_0x21317b);});activeListeners[_0x384880(0x16d)](_0x392a67);}export function cleanupListeners(){const _0x42c2b1=a27_0x2c11;activeListeners[_0x42c2b1(0x170)](_0x4717ff=>_0x4717ff()),activeListeners=[];}function renderLadder(_0x5300bb){const _0x3be43a=a27_0x2c11,_0x5a9fc8=document['getElementById'](_0x3be43a(0x144));_0x5a9fc8['innerHTML']='',_0x5300bb['forEach'](_0x277045=>{const _0x34b826=_0x3be43a,_0x189a73=document['createElement'](_0x34b826(0x1b2));_0x189a73['className']=_0x34b826(0x19d),_0x189a73[_0x34b826(0x1c4)]='\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22rank\x22>#'+_0x277045[_0x34b826(0x116)]+_0x34b826(0x195)+(_0x277045[_0x34b826(0x164)]||_0x277045['id'])+'</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-elo\x22>'+_0x277045[_0x34b826(0x1dd)]+_0x34b826(0x13e)+(_0x277045[_0x34b826(0x15f)]?_0x34b826(0x129):'inactive')+_0x34b826(0x11c)+(_0x277045[_0x34b826(0x15f)]?'Active':_0x34b826(0x150))+_0x34b826(0x162),_0x5a9fc8[_0x34b826(0x13c)](_0x189a73);});}const playerCache={'data':null,'timestamp':0x0},CACHE_DURATION=0x7530;async function displayLadder(_0x2ff8b8=![]){const _0x5e091a=a27_0x2c11,_0x4667e0=document[_0x5e091a(0x1c3)](_0x5e091a(0x139));if(!_0x4667e0){console[_0x5e091a(0x12c)](_0x5e091a(0x176));return;}_0x4667e0[_0x5e091a(0x1c4)]=_0x5e091a(0x1be);try{const _0x4579d3=Date['now']();if(!_0x2ff8b8&&playerCache['data']&&_0x4579d3-playerCache[_0x5e091a(0x168)]<CACHE_DURATION){console[_0x5e091a(0x11d)]('Using\x20cached\x20D1\x20ladder\x20data'),updateLadderDisplay(playerCache[_0x5e091a(0x138)]);return;}const _0x12f871=collection(db,'players'),_0x594599=await getDocs(_0x12f871),_0x4affdb=[];_0x594599['forEach'](_0x41f611=>{const _0x35392e=_0x5e091a,_0x44019d=_0x41f611[_0x35392e(0x138)]();_0x4affdb[_0x35392e(0x16d)]({..._0x44019d,'id':_0x41f611['id'],'elo':_0x44019d['eloRating']||0x0,'position':_0x44019d['position']||Number[_0x35392e(0x108)]});});const _0x2e9d92=collection(db,_0x5e091a(0x185)),_0x37939c=await getDocs(_0x2e9d92),_0x27be3f=new Map();_0x37939c[_0x5e091a(0x170)](_0x9f2303=>{const _0x1dc782=_0x5e091a,_0x586949=_0x9f2303[_0x1dc782(0x138)]();_0x586949[_0x1dc782(0x164)]&&_0x27be3f[_0x1dc782(0x158)](_0x586949['username']['toLowerCase'](),_0x586949);}),_0x4affdb[_0x5e091a(0x170)](_0x25976d=>{const _0x24af37=_0x5e091a,_0x3f871d=_0x25976d['username']?.[_0x24af37(0x181)]();if(_0x3f871d&&_0x27be3f[_0x24af37(0x186)](_0x3f871d)){const _0x57e244=_0x27be3f[_0x24af37(0x154)](_0x3f871d);_0x57e244[_0x24af37(0x18b)]&&(_0x25976d[_0x24af37(0x18b)]=_0x57e244[_0x24af37(0x18b)][_0x24af37(0x181)]());}});const _0x36df06=_0x4affdb[_0x5e091a(0x132)](_0x4f3cd4=>_0x4f3cd4[_0x5e091a(0x164)]),_0x319b90=await fetchBatchMatchStats(_0x36df06);_0x4affdb[_0x5e091a(0x1b0)]((_0x56d1f7,_0x4b4a1b)=>{const _0x4819e6=_0x5e091a,_0x2fcd8a=_0x319b90[_0x4819e6(0x154)](_0x56d1f7[_0x4819e6(0x164)])?.['totalMatches']||0x0,_0x1fd226=_0x319b90[_0x4819e6(0x154)](_0x4b4a1b[_0x4819e6(0x164)])?.['totalMatches']||0x0;if(_0x2fcd8a===0x0!==(_0x1fd226===0x0))return _0x2fcd8a===0x0?0x1:-0x1;return(_0x56d1f7[_0x4819e6(0x18a)]||0x3e7)-(_0x4b4a1b[_0x4819e6(0x18a)]||0x3e7);}),_0x4affdb[_0x5e091a(0x170)]((_0x2101b4,_0x386b0b)=>{_0x2101b4['position']=_0x386b0b+0x1;}),playerCache[_0x5e091a(0x138)]=_0x4affdb,playerCache[_0x5e091a(0x168)]=_0x4579d3,updateLadderDisplay(_0x4affdb,_0x319b90);}catch(_0x31c166){console[_0x5e091a(0x12c)](_0x5e091a(0x1da),_0x31c166),_0x4667e0[_0x5e091a(0x1c4)]=_0x5e091a(0x1d2)+_0x31c166['message']+_0x5e091a(0x141);}}async function fetchBatchMatchStats(_0x197722){const _0x198ad0=a27_0x2c11,_0x2a1fae=new Map();try{_0x197722['forEach'](_0x5d78d4=>{const _0x382035=a27_0x2c11;_0x2a1fae[_0x382035(0x158)](_0x5d78d4,{'totalMatches':0x0,'wins':0x0,'losses':0x0,'totalKills':0x0,'totalDeaths':0x0,'kda':0x0,'winRate':0x0});});const _0x20178a=collection(db,_0x198ad0(0x16f)),_0x2c3f37=await getDocs(_0x20178a);_0x2c3f37[_0x198ad0(0x170)](_0x1e8645=>{const _0x4e7c4a=_0x198ad0,_0x564e8a=_0x1e8645[_0x4e7c4a(0x138)](),_0x519742=_0x564e8a[_0x4e7c4a(0x1d7)],_0x549cae=_0x564e8a['loserUsername'];if(_0x197722[_0x4e7c4a(0x1a2)](_0x519742)){const _0x2ca4d1=_0x2a1fae['get'](_0x519742);_0x2ca4d1[_0x4e7c4a(0x111)]++,_0x2ca4d1['totalMatches']++,_0x2ca4d1[_0x4e7c4a(0x1ca)]+=parseInt(_0x564e8a[_0x4e7c4a(0x152)])||0x0,_0x2ca4d1[_0x4e7c4a(0x134)]+=parseInt(_0x564e8a[_0x4e7c4a(0x15b)])||0x0;}if(_0x197722[_0x4e7c4a(0x1a2)](_0x549cae)){const _0x464ae9=_0x2a1fae[_0x4e7c4a(0x154)](_0x549cae);_0x464ae9[_0x4e7c4a(0x1c2)]++,_0x464ae9[_0x4e7c4a(0x114)]++,_0x464ae9[_0x4e7c4a(0x1ca)]+=parseInt(_0x564e8a[_0x4e7c4a(0x15b)])||0x0,_0x464ae9[_0x4e7c4a(0x134)]+=parseInt(_0x564e8a[_0x4e7c4a(0x152)])||0x0;}}),_0x197722['forEach'](_0x1fc037=>{const _0xbb53c2=_0x198ad0,_0x575107=_0x2a1fae[_0xbb53c2(0x154)](_0x1fc037);_0x575107['kda']=_0x575107[_0xbb53c2(0x134)]>0x0?(_0x575107[_0xbb53c2(0x1ca)]/_0x575107[_0xbb53c2(0x134)])['toFixed'](0x2):_0x575107[_0xbb53c2(0x1ca)][_0xbb53c2(0x191)](0x2),_0x575107[_0xbb53c2(0x172)]=_0x575107[_0xbb53c2(0x114)]>0x0?(_0x575107[_0xbb53c2(0x111)]/_0x575107[_0xbb53c2(0x114)]*0x64)[_0xbb53c2(0x191)](0x1):0x0;});}catch(_0x9b1502){console[_0x198ad0(0x12c)](_0x198ad0(0x1b4),_0x9b1502);}return _0x2a1fae;}function createPlayerRow(_0x5ec326,_0x27844a){const _0x359a33=a27_0x2c11,_0x56586e=parseFloat(_0x5ec326[_0x359a33(0x1dd)])||0x0;let _0x594c19=_0x359a33(0x123);if(_0x56586e>=0x7d0)_0x594c19=_0x359a33(0x1b6);else{if(_0x56586e>=0x708)_0x594c19=_0x359a33(0x18c);else{if(_0x56586e>=0x640)_0x594c19=_0x359a33(0x19e);else _0x56586e>=0x578&&(_0x594c19=_0x359a33(0x1b7));}}let _0x40b91d='';return _0x5ec326[_0x359a33(0x18b)]&&(_0x40b91d=_0x359a33(0x128)+_0x5ec326[_0x359a33(0x18b)][_0x359a33(0x181)]()+_0x359a33(0x183)+_0x5ec326[_0x359a33(0x18b)]+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22player-flag\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22margin-left:\x205px;\x20vertical-align:\x20middle;\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>'),_0x359a33(0x11a)+_0x5ec326[_0x359a33(0x18a)]+_0x359a33(0x145)+encodeURIComponent(_0x5ec326[_0x359a33(0x164)])+_0x359a33(0x17c)+_0x594c19+_0x359a33(0x1bc)+_0x5ec326[_0x359a33(0x164)]+_0x359a33(0x12f)+_0x40b91d+_0x359a33(0x1b8)+_0x594c19+_0x359a33(0x127)+_0x56586e+_0x359a33(0x121)+_0x27844a[_0x359a33(0x114)]+_0x359a33(0x1db)+_0x27844a['wins']+_0x359a33(0x1db)+_0x27844a[_0x359a33(0x1c2)]+_0x359a33(0x1db)+_0x27844a[_0x359a33(0x197)]+_0x359a33(0x1db)+_0x27844a[_0x359a33(0x172)]+_0x359a33(0x16a);}function getPlayerRankName(_0x3892e2){const _0x145c54=a27_0x2c11;if(_0x3892e2>=0x7d0)return _0x145c54(0x15a);if(_0x3892e2>=0x708)return _0x145c54(0x153);if(_0x3892e2>=0x640)return _0x145c54(0x187);if(_0x3892e2>=0x578)return _0x145c54(0x133);return'Unranked';}async function getPlayersLastEloChanges(_0x4b8ccb){const _0x29a902=a27_0x2c11,_0x442609=new Map();_0x4b8ccb[_0x29a902(0x170)](_0x25601d=>{const _0x19d4cd=_0x29a902;_0x442609[_0x19d4cd(0x158)](_0x25601d,0x0);});try{const _0x2174e4=collection(db,_0x29a902(0x1b3)),_0x167388=await getDocs(_0x2174e4),_0x8d5bfe=new Map(),_0x18b9d4=new Map();_0x167388[_0x29a902(0x170)](_0x139620=>{const _0x52727f=_0x29a902,_0x4dfd97=_0x139620[_0x52727f(0x138)]();_0x4dfd97['username']&&(_0x8d5bfe[_0x52727f(0x158)](_0x139620['id'],_0x4dfd97['username']),_0x18b9d4['set'](_0x4dfd97[_0x52727f(0x164)][_0x52727f(0x181)](),_0x139620['id']));});const _0x4dc84e=collection(db,_0x29a902(0x1ad)),_0x3758c2=query(_0x4dc84e,orderBy(_0x29a902(0x168),'desc'),limit(0x12c)),_0xb5ee53=await getDocs(_0x3758c2);if(_0xb5ee53['empty'])return console[_0x29a902(0x11d)](_0x29a902(0x1a3)),_0x442609;if(_0xb5ee53['docs'][_0x29a902(0x1ae)]>0x0){const _0x58df8b=_0xb5ee53[_0x29a902(0x17b)][0x0][_0x29a902(0x138)]();if(_0x58df8b[_0x29a902(0x1a6)]&&_0x8d5bfe[_0x29a902(0x186)](_0x58df8b[_0x29a902(0x1a6)])){}}const _0x134ebf=new Map();let _0xaec450=0x0;_0xb5ee53['forEach'](_0x748cf6=>{const _0xf2e39a=_0x29a902,_0x45ccb0=_0x748cf6['data']();let _0x53233b=null;if(_0x45ccb0['player']&&_0x8d5bfe[_0xf2e39a(0x186)](_0x45ccb0[_0xf2e39a(0x1a6)]))_0x53233b=_0x8d5bfe[_0xf2e39a(0x154)](_0x45ccb0[_0xf2e39a(0x1a6)]);else{if(_0x45ccb0[_0xf2e39a(0x164)]&&_0x18b9d4[_0xf2e39a(0x186)](_0x45ccb0['username']['toLowerCase']()))_0x53233b=_0x45ccb0[_0xf2e39a(0x164)];else _0x45ccb0[_0xf2e39a(0x177)]&&_0x18b9d4[_0xf2e39a(0x186)](_0x45ccb0[_0xf2e39a(0x177)][_0xf2e39a(0x181)]())&&(_0x53233b=_0x45ccb0[_0xf2e39a(0x177)]);}_0x53233b&&_0x4b8ccb[_0xf2e39a(0x1a2)](_0x53233b)&&(_0xaec450++,!_0x134ebf[_0xf2e39a(0x186)](_0x53233b)&&_0x134ebf[_0xf2e39a(0x158)](_0x53233b,[]),_0x134ebf[_0xf2e39a(0x154)](_0x53233b)[_0xf2e39a(0x16d)]({..._0x45ccb0,'timestamp':_0x45ccb0['timestamp']?.[_0xf2e39a(0x109)]||0x0}));}),_0x134ebf[_0x29a902(0x170)]((_0x4b2114,_0x19de7f)=>{const _0x55c260=_0x29a902;if(_0x4b2114['length']>0x0){_0x4b2114['sort']((_0x4902a7,_0x20462a)=>_0x20462a['timestamp']-_0x4902a7[_0x55c260(0x168)]);const _0x1572eb=_0x4b2114[_0x55c260(0x14f)](_0x513195=>_0x513195['change']!==undefined||_0x513195[_0x55c260(0x198)]!==undefined&&_0x513195[_0x55c260(0x1a4)]!==undefined||_0x513195[_0x55c260(0x171)]!==undefined&&_0x513195[_0x55c260(0x10e)]!==undefined);if(_0x1572eb){let _0x1bb98f;if(_0x1572eb['change']!==undefined)_0x1bb98f=parseInt(_0x1572eb[_0x55c260(0x159)]);else{if(_0x1572eb['newElo']!==undefined&&entry[_0x55c260(0x1a4)]!==undefined)_0x1bb98f=parseInt(_0x1572eb['newElo'])-parseInt(_0x1572eb[_0x55c260(0x1a4)]);else _0x1572eb[_0x55c260(0x171)]!==undefined&&entry[_0x55c260(0x10e)]!==undefined&&(_0x1bb98f=parseInt(_0x1572eb['newEloRating'])-parseInt(_0x1572eb['oldEloRating']));}!isNaN(_0x1bb98f)&&_0x1bb98f!==0x0&&_0x442609['set'](_0x19de7f,_0x1bb98f);}}});}catch(_0x1f049b){console[_0x29a902(0x12c)](_0x29a902(0x1ab),_0x1f049b);}return _0x442609;}async function updateLadderDisplay(_0x22d941,_0x212602=null){const _0x5190de=a27_0x2c11,_0x557035=document['querySelector'](_0x5190de(0x139));if(!_0x557035){console[_0x5190de(0x12c)](_0x5190de(0x176));return;}const _0x2e6431=document[_0x5190de(0x1c3)](_0x5190de(0x113));_0x2e6431&&(_0x2e6431[_0x5190de(0x1c4)]=_0x5190de(0x143));const _0x129232=_0x22d941[_0x5190de(0x132)](_0x36a666=>_0x36a666[_0x5190de(0x164)]);!_0x212602&&(_0x212602=await fetchBatchMatchStats(_0x129232));const _0x43cde8=_0x22d941[_0x5190de(0x132)](_0x1d0ec4=>{const _0x3eef94=_0x5190de,_0x191414=_0x212602[_0x3eef94(0x154)](_0x1d0ec4[_0x3eef94(0x164)])||{'totalMatches':0x0,'wins':0x0,'losses':0x0,'kda':0x0,'winRate':0x0,'totalKills':0x0,'totalDeaths':0x0};return createPlayerRow(_0x1d0ec4,_0x191414);})[_0x5190de(0x1bd)]('');_0x557035[_0x5190de(0x1c4)]=_0x43cde8,getPlayersLastEloChanges(_0x129232)[_0x5190de(0x161)](_0x4a5850=>{const _0x4ae78a=_0x5190de,_0x295d84=new Map();_0x557035[_0x4ae78a(0x140)]('tr')[_0x4ae78a(0x170)]((_0x270fbe,_0x5e79ce)=>{_0x5e79ce<_0x129232['length']&&_0x295d84['set'](_0x129232[_0x5e79ce],_0x270fbe);}),_0x4a5850[_0x4ae78a(0x170)]((_0x3833fe,_0x1ec9b9)=>{const _0x2959b5=_0x4ae78a,_0x20ee52=_0x295d84[_0x2959b5(0x154)](_0x1ec9b9);if(_0x20ee52&&_0x3833fe!==0x0){const _0x397696=_0x20ee52[_0x2959b5(0x1c3)](_0x2959b5(0x119));if(_0x397696){const _0xf5aa19=_0x3833fe>0x0?'+'+_0x3833fe:''+_0x3833fe,_0x6282f1=_0x397696[_0x2959b5(0x1c3)](_0x2959b5(0x1cc));if(_0x6282f1)_0x6282f1[_0x2959b5(0x1dc)]=_0xf5aa19,_0x6282f1[_0x2959b5(0x14e)][_0x2959b5(0x169)]=_0x3833fe>0x0?_0x2959b5(0x130):'#F44336',_0x6282f1[_0x2959b5(0x14e)][_0x2959b5(0x163)]=_0x2959b5(0x16b),_0x6282f1[_0x2959b5(0x14e)]['fontSize']=_0x2959b5(0x17f),_0x6282f1[_0x2959b5(0x14e)]['display']=_0x2959b5(0x1bf),_0x6282f1['style'][_0x2959b5(0x1b1)]=_0x2959b5(0x1d6),_0x6282f1[_0x2959b5(0x14e)]['opacity']='1';else{}}}});})[_0x5190de(0x188)](_0x263320=>console[_0x5190de(0x12c)](_0x5190de(0x16e),_0x263320));}function initLadderToggles(){const _0x11dea4=a27_0x2c11,_0x8c5512=document['getElementById'](_0x11dea4(0x14d)),_0x5df0b7=document[_0x11dea4(0x146)](_0x11dea4(0x149)),_0x4faeb1=document['getElementById']('d3-switch'),_0x164915=document['getElementById'](_0x11dea4(0x17a)),_0x5d7679=document['getElementById'](_0x11dea4(0x15d)),_0x1ce858=document[_0x11dea4(0x146)](_0x11dea4(0x1cd)),_0x3ca0f5=document[_0x11dea4(0x146)](_0x11dea4(0x1d9)),_0x12102e=document[_0x11dea4(0x146)](_0x11dea4(0x125));function _0xbb658(){const _0x19e230=_0x11dea4;if(_0x5d7679)_0x5d7679[_0x19e230(0x1c5)][_0x19e230(0x1a0)](_0x19e230(0x129));if(_0x1ce858)_0x1ce858['classList'][_0x19e230(0x1a0)](_0x19e230(0x129));if(_0x3ca0f5)_0x3ca0f5[_0x19e230(0x1c5)][_0x19e230(0x1a0)](_0x19e230(0x129));if(_0x12102e)_0x12102e[_0x19e230(0x14e)]['display']=_0x19e230(0x1bb);if(_0x5d7679)_0x5d7679['style'][_0x19e230(0x1c0)]='none';if(_0x1ce858)_0x1ce858[_0x19e230(0x14e)][_0x19e230(0x1c0)]=_0x19e230(0x1bb);if(_0x3ca0f5)_0x3ca0f5[_0x19e230(0x14e)][_0x19e230(0x1c0)]=_0x19e230(0x1bb);}_0x8c5512&&_0x8c5512[_0x11dea4(0x1c6)](_0x11dea4(0x166),()=>{const _0x20f86b=_0x11dea4;console['log']('D1\x20toggle\x20clicked'),_0xbb658();_0x5d7679&&(_0x5d7679[_0x20f86b(0x1c5)]['add']('active'),_0x5d7679[_0x20f86b(0x14e)]['display']=_0x20f86b(0x1c8));document['getElementById'](_0x20f86b(0x115))[_0x20f86b(0x14e)][_0x20f86b(0x1c0)]=_0x20f86b(0x1c8),document[_0x20f86b(0x146)]('elo-recommendation-text-d2')['style'][_0x20f86b(0x1c0)]='none',document[_0x20f86b(0x146)](_0x20f86b(0x17e))['style'][_0x20f86b(0x1c0)]=_0x20f86b(0x1bb);if(_0x8c5512)_0x8c5512[_0x20f86b(0x1c5)][_0x20f86b(0x147)](_0x20f86b(0x129));if(_0x5df0b7)_0x5df0b7['classList'][_0x20f86b(0x1a0)](_0x20f86b(0x129));if(_0x4faeb1)_0x4faeb1[_0x20f86b(0x1c5)]['remove']('active');displayLadder(),findBestOpponent('d1');}),_0x5df0b7&&_0x5df0b7[_0x11dea4(0x1c6)]('click',()=>{const _0x20031b=_0x11dea4;console[_0x20031b(0x11d)](_0x20031b(0x17d)),_0xbb658();_0x1ce858&&(_0x1ce858['classList'][_0x20031b(0x147)](_0x20031b(0x129)),_0x1ce858[_0x20031b(0x14e)][_0x20031b(0x1c0)]='block');document[_0x20031b(0x146)](_0x20031b(0x115))[_0x20031b(0x14e)][_0x20031b(0x1c0)]=_0x20031b(0x1bb),document['getElementById']('elo-recommendation-text-d2')['style'][_0x20031b(0x1c0)]=_0x20031b(0x1c8),document['getElementById']('elo-recommendation-text-d3')[_0x20031b(0x14e)][_0x20031b(0x1c0)]=_0x20031b(0x1bb);if(_0x5df0b7)_0x5df0b7['classList']['add'](_0x20031b(0x129));if(_0x8c5512)_0x8c5512[_0x20031b(0x1c5)][_0x20031b(0x1a0)](_0x20031b(0x129));if(_0x4faeb1)_0x4faeb1[_0x20031b(0x1c5)]['remove']('active');displayLadderD2(),findBestOpponent('d2');}),_0x4faeb1&&_0x4faeb1[_0x11dea4(0x1c6)](_0x11dea4(0x166),()=>{const _0xd1edbd=_0x11dea4;console[_0xd1edbd(0x11d)](_0xd1edbd(0x156)),_0xbb658();_0x3ca0f5&&(_0x3ca0f5['classList']['add'](_0xd1edbd(0x129)),_0x3ca0f5[_0xd1edbd(0x14e)][_0xd1edbd(0x1c0)]=_0xd1edbd(0x1c8));document['getElementById'](_0xd1edbd(0x115))[_0xd1edbd(0x14e)]['display']=_0xd1edbd(0x1bb),document[_0xd1edbd(0x146)](_0xd1edbd(0x135))[_0xd1edbd(0x14e)][_0xd1edbd(0x1c0)]=_0xd1edbd(0x1bb),document[_0xd1edbd(0x146)](_0xd1edbd(0x17e))[_0xd1edbd(0x14e)][_0xd1edbd(0x1c0)]='block';if(_0x4faeb1)_0x4faeb1[_0xd1edbd(0x1c5)][_0xd1edbd(0x147)](_0xd1edbd(0x129));if(_0x8c5512)_0x8c5512[_0xd1edbd(0x1c5)]['remove']('active');if(_0x5df0b7)_0x5df0b7[_0xd1edbd(0x1c5)][_0xd1edbd(0x1a0)](_0xd1edbd(0x129));displayLadderD3(),findBestOpponent('d3');}),_0x164915&&_0x164915[_0x11dea4(0x1c6)](_0x11dea4(0x166),()=>{const _0x220e7e=_0x11dea4;_0xbb658();if(_0x12102e)_0x12102e[_0x220e7e(0x14e)]['display']='block';displayLadderDuos(),findBestOpponent(_0x220e7e(0x10b)),document[_0x220e7e(0x146)](_0x220e7e(0x193))&&(document[_0x220e7e(0x146)](_0x220e7e(0x193))[_0x220e7e(0x14e)][_0x220e7e(0x1c0)]=_0x220e7e(0x1c8)),document['getElementById'](_0x220e7e(0x115))['style'][_0x220e7e(0x1c0)]=_0x220e7e(0x1bb),document['getElementById']('elo-recommendation-text-d2')[_0x220e7e(0x14e)][_0x220e7e(0x1c0)]=_0x220e7e(0x1bb),document[_0x220e7e(0x146)](_0x220e7e(0x17e))[_0x220e7e(0x14e)][_0x220e7e(0x1c0)]=_0x220e7e(0x1bb);});}document[a27_0x4f04eb(0x1c6)](a27_0x4f04eb(0x126),()=>{const _0x4b5107=a27_0x4f04eb;initLadderToggles(),displayLadder(),findBestOpponent('d1'),document[_0x4b5107(0x146)]('elo-recommendation-text-d1')[_0x4b5107(0x14e)]['display']='block';});export{displayLadder};async function findBestOpponent(_0x192d35='d1'){const _0x47354b=a27_0x4f04eb,_0x33d64d='elo-recommendation-text-'+_0x192d35,_0x4759c6=document[_0x47354b(0x146)](_0x33d64d);if(!_0x4759c6){console[_0x47354b(0x12c)](_0x47354b(0x18f)+_0x192d35+_0x47354b(0x1a1));return;}const _0x3661ec=auth[_0x47354b(0x1af)];if(!_0x3661ec){_0x4759c6[_0x47354b(0x1dc)]='';return;}try{const _0x9d51ee=doc(db,_0x47354b(0x185),_0x3661ec[_0x47354b(0x11f)]),_0x27f799=await getDoc(_0x9d51ee);if(!_0x27f799[_0x47354b(0x1d4)]()){console[_0x47354b(0x11d)]('No\x20user\x20profile\x20found'),_0x4759c6[_0x47354b(0x1dc)]=_0x47354b(0x19f);return;}const _0x1fe4f2=_0x27f799['data'](),_0x4cc876=_0x1fe4f2[_0x47354b(0x164)];if(!_0x4cc876){_0x4759c6[_0x47354b(0x1dc)]='Set\x20your\x20username\x20to\x20see\x20recommended\x20opponents';return;}let _0x3076c8;switch(_0x192d35){case'd1':_0x3076c8=_0x47354b(0x1b3);break;case'd2':_0x3076c8=_0x47354b(0x10d);break;case'd3':_0x3076c8=_0x47354b(0x1c9);break;case'duos':_0x3076c8=_0x47354b(0x155);break;default:_0x3076c8=_0x47354b(0x1b3);}if(_0x192d35===_0x47354b(0x10b)){const _0x384e60=collection(db,_0x3076c8),_0x1dc32a=query(_0x384e60,where(_0x47354b(0x164),'==',_0x4cc876)),_0x2010f6=await getDocs(_0x1dc32a);if(_0x2010f6[_0x47354b(0x1c7)]){_0x4759c6[_0x47354b(0x1dc)]='You\x27re\x20not\x20registered\x20on\x20the\x20DUOS\x20ladder';return;}const _0x3f409a=_0x2010f6['docs'][0x0][_0x47354b(0x138)](),_0x41e309=parseInt(_0x3f409a[_0x47354b(0x112)])||0x4b0;if(_0x3f409a[_0x47354b(0x179)]&&_0x3f409a[_0x47354b(0x18d)]){_0x4759c6[_0x47354b(0x1c4)]=_0x47354b(0x151)+_0x3f409a[_0x47354b(0x18d)]+'</span>.\x20Challenge\x20other\x20teams!';return;}const _0x74f0ab=await getDocs(_0x384e60);let _0x440cc0=null,_0x18b954=-0x1;_0x74f0ab['forEach'](_0x3119d0=>{const _0x2acbf8=_0x47354b,_0x391e6a=_0x3119d0[_0x2acbf8(0x138)]();if(_0x391e6a[_0x2acbf8(0x164)]===_0x4cc876)return;if(_0x391e6a['hasTeam'])return;const _0x2b0e30=parseInt(_0x391e6a[_0x2acbf8(0x112)])||0x4b0,_0x5d2cc4=Math['abs'](_0x2b0e30-_0x41e309),_0x571314=Math[_0x2acbf8(0x137)](0x0,0xc8-_0x5d2cc4);_0x571314>_0x18b954&&(_0x440cc0=_0x391e6a,_0x18b954=_0x571314);});if(_0x440cc0){const _0x2c3eee=parseInt(_0x440cc0[_0x47354b(0x112)])||0x4b0;let _0x53dc09=_0x47354b(0x123);if(_0x2c3eee>=0x7d0)_0x53dc09='#50C878';else{if(_0x2c3eee>=0x708)_0x53dc09=_0x47354b(0x18c);else{if(_0x2c3eee>=0x640)_0x53dc09='#C0C0C0';else _0x2c3eee>=0x578&&(_0x53dc09='#CD7F32');}}_0x4759c6[_0x47354b(0x1c4)]=_0x47354b(0x174)+_0x53dc09+';\x22>'+_0x440cc0[_0x47354b(0x164)]+_0x47354b(0x12d)+_0x2c3eee+')';}else _0x4759c6[_0x47354b(0x1dc)]=_0x47354b(0x1d0);return;}const _0x2d3400=collection(db,_0x3076c8),_0x27b5bb=query(_0x2d3400,where(_0x47354b(0x164),'==',_0x4cc876)),_0x4ff550=await getDocs(_0x27b5bb);if(_0x4ff550['empty']){_0x4759c6['textContent']=_0x47354b(0x122)+_0x192d35[_0x47354b(0x199)]()+'\x20ladder';return;}const _0x1061cc=_0x4ff550[_0x47354b(0x17b)][0x0][_0x47354b(0x138)](),_0x4368c3=parseInt(_0x1061cc[_0x47354b(0x112)])||0x5dc,_0x3bb667=await getDocs(_0x2d3400);let _0x3cf318=null,_0x586104=-0x1;const _0x4ec897=getPlayerRankName(_0x4368c3);_0x3bb667[_0x47354b(0x170)](_0x59d99d=>{const _0x1ea69d=_0x47354b,_0x2c187f=_0x59d99d[_0x1ea69d(0x138)]();if(_0x2c187f[_0x1ea69d(0x164)]===_0x4cc876)return;const _0x1eeebd=parseInt(_0x2c187f[_0x1ea69d(0x112)])||0x5dc,_0x3f161d=getPlayerRankName(_0x1eeebd),_0x3bd6fd=Math[_0x1ea69d(0x1d5)](_0x1eeebd-_0x4368c3),_0x775d0f=0x20,_0x550b7f=0x1/(0x1+Math[_0x1ea69d(0x13b)](0xa,(_0x1eeebd-_0x4368c3)/0x190)),_0x2c89bf=Math[_0x1ea69d(0x13f)](_0x775d0f*(0x1-_0x550b7f));if(_0x2c89bf<=0x0)return;let _0x151376=0x0;const _0x4b4f34=Math[_0x1ea69d(0x137)](0x0,0x64-_0x3bd6fd*0.5),_0x3419ef=_0x2c89bf>=0x3&&_0x2c89bf<=0x8?0x32:_0x2c89bf>0x0&&_0x2c89bf<0xf?0x1e:0xa,_0x646aee=_0x4ec897===_0x3f161d?0x28:0x0;_0x151376=_0x4b4f34+_0x3419ef+_0x646aee,_0x151376>_0x586104&&(_0x3cf318=_0x2c187f,_0x586104=_0x151376);});if(_0x3cf318){const _0x1e09be=parseInt(_0x3cf318['eloRating'])||0x5dc;let _0x2b0d36='gray';if(_0x1e09be>=0x7d0)_0x2b0d36='#50C878';else{if(_0x1e09be>=0x708)_0x2b0d36=_0x47354b(0x18c);else{if(_0x1e09be>=0x640)_0x2b0d36=_0x47354b(0x19e);else _0x1e09be>=0x578&&(_0x2b0d36=_0x47354b(0x1b7));}}_0x4759c6['innerHTML']='Based\x20on\x20your\x20ELO\x20('+_0x4368c3+_0x47354b(0x1a8)+_0x2b0d36+_0x47354b(0x15e)+_0x3cf318[_0x47354b(0x164)]+'</span>';}else _0x4759c6[_0x47354b(0x1c4)]=_0x47354b(0x142)+_0x4368c3+')';}catch(_0x1eb8d8){console[_0x47354b(0x12c)]('Error\x20finding\x20best\x20opponent:',_0x1eb8d8),_0x4759c6[_0x47354b(0x1dc)]=_0x47354b(0x157);}}auth['onAuthStateChanged'](_0x2c2c6f=>{const _0x11410b=a27_0x4f04eb,_0x2aa99d=document[_0x11410b(0x146)](_0x11410b(0x15d))&&document[_0x11410b(0x146)](_0x11410b(0x15d))[_0x11410b(0x14e)][_0x11410b(0x1c0)]!==_0x11410b(0x1bb),_0x1417e9=document[_0x11410b(0x146)](_0x11410b(0x1cd))&&document[_0x11410b(0x146)](_0x11410b(0x1cd))[_0x11410b(0x14e)]['display']!==_0x11410b(0x1bb),_0x56aa60=document[_0x11410b(0x146)](_0x11410b(0x1d9))&&document['getElementById'](_0x11410b(0x1d9))[_0x11410b(0x14e)]['display']!==_0x11410b(0x1bb),_0xe989f9=document['getElementById'](_0x11410b(0x125))&&document[_0x11410b(0x146)](_0x11410b(0x125))['style'][_0x11410b(0x1c0)]!=='none',_0x491d98=_0x2aa99d?'d1':_0x1417e9?'d2':_0x56aa60?'d3':_0xe989f9?_0x11410b(0x10b):'d1';findBestOpponent(_0x491d98);}),document[a27_0x4f04eb(0x1c6)](a27_0x4f04eb(0x126),()=>{const _0x47aee8=a27_0x4f04eb,_0x5d6b25=document[_0x47aee8(0x146)](_0x47aee8(0x17a)),_0x193f3f=document[_0x47aee8(0x1c3)]('label[for=\x22duos-switch\x22]');_0x5d6b25&&_0x193f3f&&(_0x5d6b25[_0x47aee8(0x1c6)](_0x47aee8(0x159),async _0x5cfdb8=>{const _0x590b62=_0x47aee8;if(_0x5cfdb8[_0x590b62(0x15c)]['checked']){const _0xe4a635=auth?.[_0x590b62(0x1af)],_0x5b99de=await checkIfUserIsAdmin(_0xe4a635);if(!_0x5b99de){_0x5cfdb8[_0x590b62(0x1c1)]();const _0x34df73=document['getElementById'](_0x590b62(0x14d));return _0x34df73&&(_0x34df73['checked']=!![],_0x34df73['dispatchEvent'](new Event(_0x590b62(0x159)))),showAdminOnlyMessage(),![];}}}),auth[_0x47aee8(0x189)](async _0x5f44e=>{const _0x4cf106=_0x47aee8,_0x3a288a=await checkIfUserIsAdmin(_0x5f44e);!_0x3a288a?(_0x5d6b25[_0x4cf106(0x18e)]=!![],_0x193f3f[_0x4cf106(0x14e)][_0x4cf106(0x165)]=_0x4cf106(0x120),_0x193f3f['style'][_0x4cf106(0x1cf)]=_0x4cf106(0x19b),_0x193f3f['title']=_0x4cf106(0x1cb)):(_0x5d6b25[_0x4cf106(0x18e)]=![],_0x193f3f[_0x4cf106(0x14e)][_0x4cf106(0x165)]='1',_0x193f3f[_0x4cf106(0x14e)][_0x4cf106(0x1cf)]='pointer',_0x193f3f[_0x4cf106(0x13a)]='');}));});function a27_0x2c11(_0x85479e,_0xaa1e6d){const _0x34cb56=a27_0x5b3b();return a27_0x2c11=function(_0x574963,_0x7e622f){_0x574963=_0x574963-0x107;let _0x217f1b=_0x34cb56[_0x574963];return _0x217f1b;},a27_0x2c11(_0x85479e,_0xaa1e6d);}async function checkIfUserIsAdmin(_0x4fff12){const _0x2dc410=a27_0x4f04eb;if(!_0x4fff12)return![];try{const _0x3bdc98=[_0x2dc410(0x14c),_0x2dc410(0x131)];if(_0x4fff12[_0x2dc410(0x19c)]&&_0x3bdc98['includes'](_0x4fff12[_0x2dc410(0x19c)][_0x2dc410(0x181)]()))return!![];const _0xd70437=[_0x2dc410(0x185),_0x2dc410(0x1b3),_0x2dc410(0x10d),_0x2dc410(0x1c9)],_0x5e4b1d=[_0x2dc410(0x11e),'owner',_0x2dc410(0x1d8),_0x2dc410(0x10c)];for(const _0x25f89f of _0xd70437){try{const _0x477cf3=doc(db,_0x25f89f,_0x4fff12['uid']),_0x166122=await getDoc(_0x477cf3);if(_0x166122[_0x2dc410(0x1d4)]()){const _0x18c8b6=_0x166122[_0x2dc410(0x138)](),_0x79fe4c=(_0x18c8b6[_0x2dc410(0x117)]||_0x18c8b6[_0x2dc410(0x19a)]||'')['toLowerCase']();if(_0x79fe4c&&_0x5e4b1d[_0x2dc410(0x1a2)](_0x79fe4c))return!![];}}catch(_0xeb9b84){console[_0x2dc410(0x136)](_0x2dc410(0x12a)+_0x25f89f+':',_0xeb9b84);}}return![];}catch(_0x49b7fd){return console[_0x2dc410(0x12c)]('Error\x20checking\x20admin\x20status:',_0x49b7fd),![];}}function showAdminOnlyMessage(){const _0x270f6c=a27_0x4f04eb,_0x312022=document[_0x270f6c(0x146)]('admin-only-message');_0x312022&&_0x312022['remove']();const _0x38d634=document['createElement'](_0x270f6c(0x1b2));_0x38d634['id']=_0x270f6c(0x124),_0x38d634[_0x270f6c(0x14e)]['cssText']=_0x270f6c(0x1a7),_0x38d634[_0x270f6c(0x1c4)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<strong>🔒\x20Duos\x20Ladder\x20-\x20Admin\x20Only</strong><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20style=\x22color:\x20#ccc;\x22>Currently\x20in\x20testing\x20phase</span>\x0a\x20\x20\x20\x20',document['body']['appendChild'](_0x38d634),setTimeout(()=>{const _0x3d4c17=_0x270f6c;_0x38d634['parentNode']&&_0x38d634[_0x3d4c17(0x1a0)]();},0xbb8);}