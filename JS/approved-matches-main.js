const a6a0=a6d;(function(a,b){const X=a6d,c=a();while(!![]){try{const d=parseInt(X(0xf8))/0x1*(parseInt(X(0x182))/0x2)+parseInt(X(0x181))/0x3*(parseInt(X(0x180))/0x4)+parseInt(X(0xe8))/0x5*(-parseInt(X(0x173))/0x6)+-parseInt(X(0xde))/0x7*(-parseInt(X(0x178))/0x8)+-parseInt(X(0xcd))/0x9*(parseInt(X(0x1c9))/0xa)+-parseInt(X(0x16f))/0xb*(-parseInt(X(0x130))/0xc)+-parseInt(X(0x15b))/0xd;if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a6c,0x9ec28));const a6b=(function(){let a=!![];return function(b,c){const d=a?function(){const Y=a6d;if(c){const e=c[Y(0x14b)](b,arguments);return c=null,e;}}:function(){};return a=![],d;};}()),a6a=a6b(this,function(){const Z=a6d;let a;try{const d=Function(Z(0x15c)+Z(0xc0)+');');a=d();}catch(f){a=window;}const b=a['console']=a['console']||{},c=['log',Z(0xe3),Z(0x1a5),Z(0x128),'exception',Z(0x166),'trace'];for(let g=0x0;g<c['length'];g++){const h=a6b['constructor'][Z(0x112)][Z(0x17a)](a6b),i=c[g],j=b[i]||h;h[Z(0x193)]=a6b[Z(0x17a)](a6b),h[Z(0x123)]=j[Z(0x123)][Z(0x17a)](j),b[i]=h;}});a6a();import{collection,getDocs,addDoc,query,orderBy,limit,startAfter,Timestamp,serverTimestamp,getDoc,doc,where,deleteDoc}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const mutedUsers=[{'username':a6a0(0x156),'muteFromDate':new Date(a6a0(0x108))['getTime']()}];function isUsernameMuted(a,b){const a1=a6a0;if(!a)return![];const c=mutedUsers[a1(0x150)](e=>e['username']===a);if(!c)return![];if(!b)return!![];const d=b instanceof Date?b[a1(0xcc)]():b['seconds']?b[a1(0x171)]*0x3e8:Date['now']();return d>=c['muteFromDate'];}function filterComment(a,b,c){if(!a)return'-';if(isUsernameMuted(b,c))return'Muted.';return a;}const previewState={'currentMode':'D1','currentPage':0x1,'matchesPerPage':0x5,'lastVisible':null,'firstVisible':null,'isLoading':![],'filterUsername':'','enhancedFilters':{'pilots':'','levels':'','subgames':[]},'totalPages':0x1,'hasReachedEnd':![]};function getCacheKey(a,b,c){const d='u:'+(c['filterUsername']||'');return'previewCache_'+a+'_p'+b+'_'+d;}function getCachedPage(a){const a2=a6a0,b=sessionStorage['getItem'](a);if(b)try{return JSON['parse'](b);}catch(c){return console['error'](a2(0x129),c),sessionStorage[a2(0x124)](a),null;}return null;}function cachePage(a,b){const a3=a6a0;try{sessionStorage[a3(0x13e)](a,JSON[a3(0xe7)](b));}catch(c){console['error'](a3(0xed),c);}}function getEloColor(a){const a4=a6a0,b=Number(a);if(b>=0x7d0)return'#50C878';else{if(b>=0x708)return'#FFD700';else{if(b>=0x640)return a4(0xec);else{if(b>=0x578)return a4(0x18f);else return'#808080';}}}}function formatDate(a,b=![]){const a5=a6a0;if(!a||!a['seconds'])return'N/A';const c=new Date(a[a5(0x171)]*0x3e8);return b?c['toLocaleString']():c[a5(0x1b1)]();}function truncateComment(a,b=0x1e){const a6=a6a0;if(!a)return'-';if(a['length']<=b)return a;return a[a6(0x177)](0x0,b)+a6(0x121);}function formatCommentDate(a){const a7=a6a0;if(!a||!a['seconds'])return'';const b=new Date(a['seconds']*0x3e8),c=new Date(),d=Math[a7(0x152)](c-b),e=Math['floor'](d/(0x3e8*0x3c*0x3c*0x18));if(e===0x0)return'Today';else{if(e===0x1)return'Yesterday';else return e<0x7?e+a7(0x1ae):b['toLocaleDateString']();}}function setLoadingIndicator(a){const a8=a6a0,b=document[a8(0x195)]('loading-indicator');if(b)b[a8(0x179)][a8(0x138)]=a?a8(0x1a2):'none';}export function updatePreviewLadderModeUI(){const a9=a6a0,a=document['getElementById'](a9(0x127)),b=document[a9(0x195)]('preview-d1-button'),c=document[a9(0x195)](a9(0x1b5)),d=document['getElementById'](a9(0x16d));if(a)a[a9(0x15e)]=previewState['currentMode'];if(b)b[a9(0x107)]['toggle'](a9(0xf6),previewState[a9(0xd0)]==='D1');if(c)c[a9(0x107)]['toggle']('active',previewState['currentMode']==='D2');if(d)d['classList'][a9(0x111)]('active',previewState['currentMode']==='D3');}function updatePreviewPaginationControls(a){const aa=a6a0,b=document[aa(0x195)](aa(0x19d)),c=document[aa(0x195)](aa(0x153)),d=document['getElementById'](aa(0x1ad));if(!b||!c||!d)return;d['textContent']=aa(0x1cd)+previewState[aa(0xc4)],b['disabled']=previewState[aa(0xc4)]<=0x1,c[aa(0x131)]=!a;}function setPreviewLoadingState(a){const ab=a6a0;previewState['isLoading']=a,setLoadingIndicator(a);const b=document[ab(0x195)](ab(0xb4)),c=b?b[ab(0x1c8)](ab(0xe5)):null,d=document[ab(0x195)](ab(0x19d)),e=document['getElementById']('previewNextPage'),f=document['getElementById'](ab(0xc1)),g=document['getElementById']('preview-d2-button'),h=document[ab(0x195)](ab(0x12e)),i=document['getElementById'](ab(0xcb));if(c&&!a)c['style']['display']=ab(0x11e);else c&&a&&(c['style']['display']='block');!a&&b&&!b['querySelector'](ab(0x1a7))&&!b[ab(0x1c8)]('.matches-loading[style*=\x22color:\x20red\x22]')&&(b[ab(0xf0)]=ab(0x1ba)+(previewState['filterUsername']?ab(0x1bd):'')+ab(0x16c));if(d)d['disabled']=a||previewState[ab(0xc4)]<=0x1;if(e)e['disabled']=a;if(f)f[ab(0x131)]=a;if(g)g['disabled']=a;if(h)h['disabled']=a;if(i)i[ab(0x131)]=a;}function applyClientFilters(a){const ac=a6a0;if(!previewState[ac(0x1cc)])return a;const b=previewState['filterUsername'][ac(0xf5)]();return a[ac(0xca)](c=>{const ad=ac,d=(c['winnerUsername']||'')['toLowerCase'](),e=(c[ad(0xee)]||'')['toLowerCase']();return d['includes'](b)||e['includes'](b);});}function a6d(a,b){const c=a6c();return a6d=function(d,e){d=d-0xb4;let f=c[d];if(a6d['liHJLX']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a6d['iuqbty']=g,a=arguments,a6d['liHJLX']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a6d['iuqbty'](f),a[i]=f):f=j,f;},a6d(a,b);}function applyEnhancedClientFilters(a){const ae=a6a0;if(!hasEnhancedFilters())return a;return a[ae(0xca)](b=>{const af=ae;if(previewState['enhancedFilters'][af(0x16b)]){const c=previewState['enhancedFilters'][af(0x16b)][af(0xf5)](),d=(b['winnerUsername']||'')[af(0xf5)](),e=(b['loserUsername']||'')[af(0xf5)]();if(!d[af(0x14a)](c)&&!e[af(0x14a)](c))return![];}if(previewState['enhancedFilters']['levels']){const f=previewState[af(0x136)][af(0xeb)][af(0xf5)](),g=(b['mapPlayed']||'')['toLowerCase']();if(!g[af(0x14a)](f))return![];}if(previewState[af(0x136)]['subgames']['length']>0x0){const h=b['subgameType']||'Standard\x20Match';if(!previewState['enhancedFilters']['subgames']['includes'](h))return![];}return!![];});}function hasEnhancedFilters(){const ag=a6a0;return previewState['enhancedFilters'][ag(0x16b)]||previewState['enhancedFilters']['levels']||previewState[ag(0x136)][ag(0x158)][ag(0x15f)]>0x0;}function clearEnhancedFilters(){const ah=a6a0;previewState[ah(0x136)]={'pilots':'','levels':'','subgames':[]},document[ah(0x195)]('filter-pilots')[ah(0x1ca)]='',document[ah(0x195)](ah(0x16a))[ah(0x1ca)]='';const a=document['getElementById']('filter-subgames');for(let b of a['options']){b[ah(0x146)]=![];}}function jumpToPage(a){const ai=a6a0,b=document[ai(0x195)](ai(0x1ac)),c=previewState[ai(0xc4)];let d=c;switch(a){case'start':d=0x1;break;case ai(0x109):d=Math['max'](c+0xa,previewState['totalPages']||c+0xa);break;case'+1':d=c+0x1;break;case'+5':d=c+0x5;break;case ai(0x187):d=c+0xa;break;case'-1':d=Math[ai(0x139)](0x1,c-0x1);break;case'-5':d=Math[ai(0x139)](0x1,c-0x5);break;case ai(0x186):d=Math[ai(0x139)](0x1,c-0xa);break;case ai(0x1a8):const e=parseInt(b['value']);e&&e>0x0&&(d=e,b[ai(0x1ca)]='');break;}d!==c&&d>0x0&&(previewState[ai(0xc4)]=d,loadRecentMatchesPreview('jump'));}export async function loadRecentMatchesPreview(a=a6a0(0xd8)){const aj=a6a0,b=document[aj(0x195)](aj(0xb4)),c=document['getElementById'](aj(0x13a));if(previewState[aj(0x18a)]||!b||!c)return;a==='current'&&(console['log']('Clearing\x20cache\x20for\x20refresh/reset'),Object[aj(0x120)](sessionStorage)['forEach'](k=>{const ak=aj;k[ak(0x14a)]('previewCache_'+previewState[ak(0xd0)])&&sessionStorage[ak(0x124)](k);}));let d=previewState[aj(0xc4)];if(a===aj(0x1b6))d++;else{if(a==='prev')d--;else a==='current'&&(d=0x1,previewState['firstVisible']=null,previewState[aj(0xf2)]=null);}if(d<0x1)d=0x1;const e=previewState[aj(0xc4)];previewState[aj(0xc4)]=d,updatePreviewPaginationControls(!![]);const f={'filterUsername':previewState['filterUsername']},g=getCacheKey(previewState[aj(0xd0)],d,f),h=a!==aj(0xd8)?getCachedPage(g):null;if(h){console[aj(0xb9)](aj(0xe9)+d+'\x20from\x20cache'),setPreviewLoadingState(!![]),renderMatchCards(h[aj(0xdd)]),updatePreviewPaginationControls(h['hasNextPage']),setPreviewLoadingState(![]);return;}console['log']('Cache\x20miss\x20for\x20page\x20'+d+aj(0xd1)),setPreviewLoadingState(!![]),b[aj(0xf0)]=aj(0x18c);const i=previewState[aj(0xd0)]==='D1'?'approvedMatches':previewState[aj(0xd0)]==='D2'?'approvedMatchesD2':aj(0xce),j=previewState['currentMode']==='D1'?'createdAt':'approvedAt';try{const k=collection(window['db'],i);let l=[orderBy(j,'desc')];if(d===0x1)console[aj(0xb9)](aj(0x126)),l['push'](limit(previewState[aj(0x135)]));else{if(a==='next'&&previewState[aj(0xf2)])console[aj(0xb9)]('Loading\x20next\x20page\x20using\x20cursor'),l[aj(0x119)](startAfter(previewState[aj(0xf2)])),l[aj(0x119)](limit(previewState['matchesPerPage']));else{console['log'](aj(0xea));const v=d*previewState[aj(0x135)];l[aj(0x119)](limit(v));}}const m=query(k,...l),n=await getDocs(m);let o=n[aj(0x134)];if(d>0x1&&a!==aj(0x1b6)){const w=(d-0x1)*previewState[aj(0x135)];o=o[aj(0x10c)](w,w+previewState[aj(0x135)]);}if(o['length']===0x0){console[aj(0xb9)](aj(0x14f));a===aj(0x1b6)&&(previewState[aj(0xc4)]=e,updatePreviewPaginationControls(![]));b['innerHTML']=aj(0x101)+(previewState[aj(0x1cc)]?'\x20matching\x20filters':'')+'.</div>',setPreviewLoadingState(![]);return;}previewState[aj(0x18e)]=o[0x0],previewState[aj(0xf2)]=o[o['length']-0x1];const r=o[aj(0x190)](x=>({'id':x['id'],...x[aj(0xda)]()}));let s=![];if(o[aj(0x15f)]===previewState[aj(0x135)]){const x=query(k,orderBy(j,'desc'),startAfter(previewState['lastVisible']),limit(0x1)),y=await getDocs(x);s=!y[aj(0xbe)];}const t=applyClientFilters(r),u={'docsData':r,'hasNextPage':s};cachePage(getCacheKey(previewState[aj(0xd0)],previewState['currentPage'],f),u);if(d>0x1&&a!==aj(0x1b6))for(let z=0x1;z<d;z++){const A=(z-0x1)*previewState[aj(0x135)],B=A+previewState[aj(0x135)],C=n['docs'][aj(0x10c)](A,B);if(C[aj(0x15f)]>0x0){const D=C[aj(0x190)](F=>({'id':F['id'],...F['data']()})),E=!![];cachePage(getCacheKey(previewState[aj(0xd0)],z,f),{'docsData':D,'hasNextPage':E}),console['log'](aj(0x1c5)+z);}}t[aj(0x15f)]===0x0&&previewState['filterUsername']?b['innerHTML']='<div\x20class=\x22matches-loading\x22>No\x20matches\x20found\x20matching\x20filter:\x20\x22'+previewState['filterUsername']+aj(0x1b3):renderMatchCards(t),updatePreviewPaginationControls(s);}catch(F){console[aj(0x128)](aj(0x133)+previewState[aj(0xd0)]+aj(0xb5),F),b[aj(0xf0)]='<div\x20class=\x22matches-loading\x22\x20style=\x22color:\x20red;\x22>Error\x20loading\x20matches:\x20'+F[aj(0xbf)]+'</div>',updatePreviewPaginationControls(![]),previewState[aj(0xc4)]=e;}finally{setPreviewLoadingState(![]);}}async function renderMatchCards(a){const al=a6a0,b=document['getElementById'](al(0xb4)),c=document[al(0x195)]('match-card-template');if(!b||!c)return;!b['querySelector']('.matches-loading[style*=\x22color:\x20red\x22]')&&(b[al(0xf0)]='');if(!a||a['length']===0x0){if(!b['querySelector']('.matches-loading[style*=\x22color:\x20red\x22]')){const h=hasEnhancedFilters()?'\x20matching\x20filters':previewState[al(0x1cc)]?al(0x1bd):'';b['innerHTML']=al(0x1ba)+h+'.</div>';}return;}const d=applyEnhancedClientFilters(a);if(d['length']===0x0){b[al(0xf0)]='<div\x20class=\x22matches-loading\x22>No\x20matches\x20found\x20matching\x20current\x20filters.</div>';return;}const e=d[al(0x190)](i=>getAllCommentsForMatch(i['id']));let f=[];try{f=await Promise[al(0x10f)](e);}catch(i){console[al(0x128)](al(0x16e),i),f=d['map'](()=>[]);}const g={};f['forEach']((j,k)=>{g[d[k]['id']]=j||[];}),d['forEach'](j=>{const am=al,k=c['content'][am(0xe4)](!![]),l=k['querySelector']('.match-display-wrapper'),m=k[am(0x1c8)]('.match-card'),n=getEloRankClass(j['winnerOldElo']);m['classList']['add'](am(0xfe)+n),m[am(0x1c8)]('.match-map')[am(0x15e)]=j[am(0x188)]||'Unknown\x20Map',m[am(0x1c8)](am(0x155))[am(0x15e)]=formatDate(j[am(0x11d)]||j[am(0x10d)]);const o=m['querySelector'](am(0xf3));o[am(0x15e)]=j[am(0x1b7)]||am(0x1c7),o[am(0x179)]['color']=getEloColor(j[am(0x1b8)]),m['querySelector'](am(0x151))['textContent']=j[am(0x11a)]??0x0;const p=m[am(0x1c8)]('.player.winner\x20.player-suicides'),q=j['winnerSuicides']||0x0;p['textContent']='S:\x20'+q;const r=m['querySelector']('.player.loser\x20.player-name');r[am(0x15e)]=j['loserUsername']||'Unknown',r['style']['color']=getEloColor(j[am(0x12c)]),m[am(0x1c8)](am(0x197))['textContent']=j[am(0x10b)]??0x0;const s=m[am(0x1c8)]('.player.loser\x20.player-suicides'),t=j[am(0x154)]||0x0;s['textContent']='S:\x20'+t;const u=m['querySelector'](am(0x159));if(u){if(j[am(0x17d)]&&j['subgameType']['trim']()!==''){u[am(0x15e)]=j[am(0x17d)],u['style']['display']='block';const E=getSubgameClass(j[am(0x17d)]);E&&u[am(0x107)][am(0x17e)](E);}else u[am(0x15e)]=am(0xfc),u[am(0x179)]['display']=am(0x1a2),u['style'][am(0x1be)]=am(0x11c);}const v=m[am(0x1c8)](am(0x19f)),w=m['querySelector'](am(0x12a)),x=j[am(0xc6)]||'',y=j[am(0x143)]||'',z=j['approvedAt']||j['createdAt'],A=filterComment(x,j['winnerUsername'],z),B=filterComment(y,j['loserUsername'],z);v['textContent']='\x22'+truncateComment(x)+'\x22',w['textContent']='\x22'+truncateComment(y)+'\x22';x&&!isUsernameMuted(j[am(0x1b7)],z)?v[am(0xd6)]=()=>showPreviewCommentPopup(A,j[am(0x1b7)]||'Winner',getEloColor(j['winnerOldElo'])):(v[am(0x15e)]=A==='Muted.'?am(0x118):'-',v['style'][am(0x1a9)]=am(0x174),v[am(0xd6)]=null);y&&!isUsernameMuted(j[am(0xee)])?w[am(0xd6)]=()=>showPreviewCommentPopup(B,j[am(0xee)]||am(0x106),getEloColor(j['loserOldElo'])):(w[am(0x15e)]=B==='Muted.'?am(0x118):'-',w['style']['cursor']='default',w['onclick']=null);const C=l?.['querySelector']('.community-comments-section');if(!C)console['warn'](am(0x115));else{const F=C['querySelector'](am(0x168)),G=F?.[am(0x1c8)](am(0x100)),H=C[am(0x1c8)](am(0x1a1));if(F){while(F['firstChild']&&F['firstChild']!==G){F[am(0x1a4)](F['firstChild']);}H&&H['addEventListener'](am(0x176),()=>{showAddCommentPopup(j['id']);});const I=g[j['id']]||[];if(I['length']>0x0){if(G)G[am(0x179)]['display']='none';const J=(K,L)=>{const an=am,M=K['split']('\x20');if(M['length']<=L)return K;return M['slice'](0x0,L)[an(0xd9)]('\x20')+'...';};I[am(0xb7)](K=>{const ao=am,L=document['createElement']('div');if(K[ao(0x1b9)]==='demo'){L[ao(0x12d)]=ao(0x140),L[ao(0xf0)]=ao(0xfd)+K['demoLink']+ao(0x192)+K[ao(0xc2)]+ao(0x104)+(K['description']||'No\x20description\x20provided')+ao(0xef);const M=window[ao(0x1bb)][ao(0x164)],N=M&&K['userId']===M['uid'];if(N){const O=document['createElement']('button');O[ao(0x12d)]='delete-comment-btn',O['innerHTML']='×',O[ao(0xc7)]('aria-label',ao(0x103)),O['addEventListener']('click',P=>{P['preventDefault'](),P['stopPropagation'](),deleteComment(K['id'],L);}),L[ao(0x13d)](O);}}else{L[ao(0x12d)]=ao(0xbc);const P=isUsernameMuted(K['username'],K[ao(0x183)]),Q=P?'Muted.':J(K[ao(0xff)]||'',0xf),R=K[ao(0xc2)]||'Anonymous',S=window['auth'][ao(0x164)],T=S&&K[ao(0x157)]===S['uid'];let U='';T&&(U=ao(0x125));L['innerHTML']=U+ao(0x14e)+R+':</strong>\x20\x22'+Q+'\x22';if(T){const V=L[ao(0x1c8)]('.delete-comment-btn');V&&V['addEventListener']('click',W=>{W['stopPropagation'](),deleteComment(K['id'],L);});}!P?L['addEventListener']('click',()=>{showFullCommentLightbox(K);}):L['style']['cursor']='default';}F['insertBefore'](L,F[ao(0x11b)]);});}else{if(G)G[am(0x179)]['display']=am(0x1a2);}}}const D=m['querySelector'](am(0x105));if(D){const K=m[am(0x1c8)]('.winner-demo-link'),L=m[am(0x1c8)](am(0x122)),M=j[am(0xdb)]||null,N=j[am(0x13b)]||j['demoLink']||null;console[am(0xb9)](am(0x15d)+j['id']+'\x20demo\x20links:',{'winner':M,'loser':N}),K&&(M?(K['href']=M,K[am(0x179)]['display']=am(0x17f),K[am(0xf1)]=j['winnerUsername']+am(0x13f)):K['style']['display']='none'),L&&(N?(L[am(0x137)]=N,L[am(0x179)]['display']=am(0x17f),L['title']=j['loserUsername']+am(0x13f)):L['style']['display']=am(0x11e)),M&&K||N&&L?D[am(0x179)]['display']='flex':D[am(0x179)][am(0x138)]='none';}b['appendChild'](k);});}function getSubgameClass(a){const ap=a6a0,b={'Fusion\x20Match':'fusion-match','≥6\x20Missiles':'missiles-6plus','≥6\x20missiles':ap(0x14d),'Weapon\x20Imbalance':ap(0xbd),'Blind\x20Match':'blind-match','Rematch':'rematch','Disorientation':ap(0x145),'Ratting':ap(0x1bc),'Altered\x20Powerups':ap(0x191),'Mega\x20Match':ap(0x13c),'Dogfight':'dogfight','Gauss\x20and\x20Mercs':'gauss-and-mercs'};return b[a]||'';}async function deleteComment(a,b){const aq=a6a0,c=window[aq(0x1bb)]['currentUser'];if(!c){alert('You\x20need\x20to\x20be\x20signed\x20in\x20to\x20delete\x20comments');return;}if(!confirm(aq(0x1aa)))return;try{const d=doc(window['db'],aq(0x1c6),a),e=await getDoc(d);if(!e[aq(0x1b0)]()){alert(aq(0xe6));return;}const f=e[aq(0xda)]();if(f[aq(0x157)]!==c['uid']){alert('You\x20can\x20only\x20delete\x20your\x20own\x20comments');return;}await deleteDoc(d);if(b&&b['parentNode']){b['parentNode'][aq(0x1a4)](b);const g=b['closest']('.comments-container');if(g&&!g[aq(0x1c8)](aq(0x199))){const h=g[aq(0x1c8)]('.no-comments-message');if(h)h['style'][aq(0x138)]='block';}}console['log']('Comment\x20deleted\x20successfully');}catch(i){console['error'](aq(0x148),i),alert('Failed\x20to\x20delete\x20comment:\x20'+i[aq(0xbf)]);}}async function getAllCommentsForMatch(a){const ar=a6a0;if(!a)return[];try{const b=collection(window['db'],ar(0x1c6)),c=query(b,where(ar(0x194),'==',a),orderBy('timestamp',ar(0x141))),d=await getDocs(c);if(d['empty'])return[];return d['docs'][ar(0x190)](e=>({'id':e['id'],...e['data']()}));}catch(e){return console[ar(0x128)]('Error\x20fetching\x20comments:',e),[];}}async function submitComment(a){const as=a6a0;a[as(0x10e)]();if(!window[as(0x1bb)]||!window['db']){console[as(0x128)]('Firebase\x20not\x20initialized'),alert('Unable\x20to\x20submit\x20comment\x20-\x20system\x20not\x20ready');return;}const b=window[as(0x1bb)][as(0x164)];if(!b){alert('You\x20must\x20be\x20signed\x20in\x20to\x20leave\x20a\x20comment');return;}const c=document['getElementById'](as(0x10a))?.['value'],d=document[as(0x195)]('commentText')?.['value']?.[as(0x114)]();if(!c||!d){alert('Please\x20enter\x20a\x20comment\x20before\x20submitting');return;}const e=d['split'](/\s+/)[as(0xca)](g=>g[as(0x15f)]>0x0)[as(0x15f)];if(e>0xf){alert('Comments\x20are\x20limited\x20to\x2015\x20words\x20maximum.\x20Please\x20shorten\x20your\x20comment.');return;}const f=document['querySelector'](as(0xe0));f&&(f[as(0x131)]=!![],f['textContent']=as(0x19c));try{let g='Anonymous';try{const j=doc(window['db'],as(0x116),b[as(0x1bf)]),k=await getDoc(j);if(k[as(0x1b0)]()){const l=k['data']();l['username']&&(g=l[as(0xc2)]);}g===as(0x189)&&b[as(0x18d)]&&(g=b['displayName']);}catch(m){console[as(0xe3)]('Failed\x20to\x20fetch\x20user\x20profile:',m),b[as(0x18d)]&&(g=b[as(0x18d)]);}const h={'matchId':c,'userId':b[as(0x1bf)],'username':g,'text':d,'timestamp':serverTimestamp()};console[as(0xb9)](as(0xdc),g);const i=collection(window['db'],as(0x1c6));await addDoc(i,h),console[as(0xb9)]('Comment\x20added\x20successfully'),closeAddCommentPopup(),loadRecentMatchesPreview('current');}catch(n){console[as(0x128)](as(0x19e),n),alert(as(0xf7)+n[as(0xbf)]),f&&(f[as(0x131)]=![],f['textContent']='Submit');}}function closeAddCommentPopup(){const at=a6a0,a=document['getElementById'](at(0x185)),b=document[at(0x195)](at(0x1a0));if(a)a['style']['display']='none';if(b)b[at(0x179)]['display']='none';}function showAddCommentPopup(a){const au=a6a0,b=window[au(0x1bb)][au(0x164)];if(!b){alert('You\x20need\x20to\x20be\x20signed\x20in\x20to\x20leave\x20a\x20comment\x20or\x20add\x20a\x20demo');return;}let c=document['getElementById'](au(0x185)),d=document['getElementById'](au(0x1a0));!c&&(c=document[au(0x110)](au(0x1c4)),c['id']=au(0x185),c[au(0x12d)]='comment-popup',document[au(0xbb)][au(0x13d)](c));!d&&(d=document[au(0x110)]('div'),d['id']=au(0x1a0),d['className']='comment-overlay',document['body'][au(0x13d)](d));c[au(0xf0)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22popup-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Add\x20Comment\x20or\x20Demo</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22closeAddCommentPopup\x22\x20class=\x22close-btn\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22addCommentForm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22commentMatchId\x22\x20name=\x22commentMatchId\x22\x20value=\x22'+a+au(0xd7),c['style'][au(0x138)]='block',d[au(0x179)][au(0x138)]='block',document['getElementById'](au(0xc3))[au(0x167)](au(0x176),closeAddCommentPopup),d['addEventListener']('click',closeAddCommentPopup);const e=c[au(0x142)](au(0x117));e['forEach'](f=>{f['addEventListener']('click',function(){const av=a6d;e['forEach'](h=>h[av(0x107)]['remove'](av(0xf6))),document[av(0x142)](av(0xb8))['forEach'](h=>h['style'][av(0x138)]=av(0x11e)),this[av(0x107)]['add'](av(0xf6));const g=this[av(0xfa)][av(0x172)];document['getElementById'](g+'Option')['style']['display']=av(0x1a2),g==='demo'?(document['getElementById'](av(0x165))[av(0xc7)](av(0xfb),''),document['getElementById']('commentText')['removeAttribute']('required')):(document['getElementById']('demoLink')['removeAttribute'](av(0xfb)),document['getElementById']('commentText')[av(0xc7)]('required',''));});}),document[au(0x195)](au(0x132))[au(0xc7)](au(0xfb),''),document[au(0x195)](au(0x165))[au(0x19a)]('required'),setupWordCounter('commentText','wordCount',0xf),setupWordCounter(au(0xb6),'demoWordCount',0x14),document[au(0x195)](au(0x1b4))['addEventListener']('submit',submitCommentOrDemo);}function setupWordCounter(a,b,c){const aw=a6a0,d=document[aw(0x195)](a),e=document[aw(0x195)](b);if(!d||!e)return;f(),d['addEventListener']('input',f);function f(){const ax=aw,g=d[ax(0x1ca)][ax(0x114)](),h=g?g['split'](/\s+/)['filter'](i=>i['length']>0x0)[ax(0x15f)]:0x0;e[ax(0x15e)]=h,h>c?e['style']['color']=ax(0x196):e['style'][ax(0xe2)]='#aaa';}}async function submitCommentOrDemo(a){const ay=a6a0;a['preventDefault']();if(!window['auth']||!window['db']){console[ay(0x128)]('Firebase\x20not\x20initialized'),alert('Unable\x20to\x20submit\x20-\x20system\x20not\x20ready');return;}const b=window['auth'][ay(0x164)];if(!b){alert(ay(0xd4));return;}const c=document[ay(0x195)]('commentMatchId')[ay(0x1ca)],d=document['querySelector']('.option-tab.active')[ay(0xfa)]['option'];let f='Anonymous';try{const h=doc(window['db'],ay(0x116),b[ay(0x1bf)]),i=await getDoc(h);if(i[ay(0x1b0)]()){const j=i[ay(0xda)]();j['username']&&(f=j[ay(0xc2)]);}f==='Anonymous'&&b[ay(0x18d)]&&(f=b[ay(0x18d)]);}catch(k){console[ay(0xe3)](ay(0x18b),k),b['displayName']&&(f=b['displayName']);}const g=document['querySelector']('.submit-comment-btn');g&&(g['disabled']=!![],g['textContent']=ay(0x19c));try{if(d==='comment'){const l=document['getElementById']('commentText')[ay(0x1ca)][ay(0x114)]();if(!l){alert('Please\x20enter\x20a\x20comment\x20before\x20submitting'),g[ay(0x131)]=![],g[ay(0x15e)]=ay(0xcf);return;}const m=l[ay(0x184)](/\s+/)['filter'](p=>p['length']>0x0)[ay(0x15f)];if(m>0xf){alert(ay(0x1c0)),g['disabled']=![],g['textContent']='Submit';return;}const n={'matchId':c,'userId':b[ay(0x1bf)],'username':f,'text':l,'type':'comment','timestamp':serverTimestamp()},o=collection(window['db'],'matchComments');await addDoc(o,n);}else{const p=document['getElementById'](ay(0x165))['value'][ay(0x114)](),q=document[ay(0x195)]('demoDescription')['value']['trim']()||ay(0x1c3);if(!p){alert('Please\x20enter\x20a\x20demo\x20link'),g['disabled']=![],g[ay(0x15e)]=ay(0xcf);return;}try{new URL(p);}catch(u){alert(ay(0x11f)),g[ay(0x131)]=![],g['textContent']='Submit';return;}const r=q['split'](/\s+/)['filter'](v=>v[ay(0x15f)]>0x0)[ay(0x15f)];if(r>0x14){alert(ay(0x163)),g[ay(0x131)]=![],g[ay(0x15e)]='Submit';return;}const s={'matchId':c,'userId':b['uid'],'username':f,'demoLink':p,'description':q,'type':'demo','text':ay(0x12b)+q,'timestamp':serverTimestamp()},t=collection(window['db'],ay(0x1c6));await addDoc(t,s);}closeAddCommentPopup(),loadRecentMatchesPreview('current');}catch(v){console[ay(0x128)](ay(0xe1),v),alert('Failed\x20to\x20submit:\x20'+v[ay(0xbf)]),g&&(g[ay(0x131)]=![],g[ay(0x15e)]=ay(0xcf));}}function getEloRankClass(a){const az=a6a0,b=Number(a);if(b>=0x7d0)return'emerald';else{if(b>=0x708)return az(0xf9);else{if(b>=0x640)return az(0x175);else{if(b>=0x578)return az(0x102);else return'unranked';}}}}function a6c(){const aO=['ChjVDg90ExbL','zMLSDgvYlxn1yMDHBwvZ','DhjPBq','q29TBwvUDhmGC2vJDgLVBIbUB3qGzM91BMqGAw4GDgvTCgXHDgu','DxnLCLbYB2zPBgvZ','lM9WDgLVBI10ywi','txv0zwqU','ChvZAa','D2LUBMvYu2nVCMu','zMLYC3rdAgLSza','mc42','yxbWCM92zwrbDa','BM9Uzq','ugXLyxnLigvUDgvYigeGDMfSAwqGvvjmigzVCIb0AguGzgvTBYbSAw5R','A2v5CW','lI4U','lMXVC2vYlwrLBw8TBgLUAW','Dg9tDhjPBMC','CMvTB3zLsxrLBq','pgj1DhrVBIbJBgfZCZ0IzgvSzxrLlwnVBw1LBNqTyNrUiIbHCMLHlwXHyMvSpsjezwXLDguGy29TBwvUDci+W5C8l2j1DhrVBJ4','tg9HzgLUzYbMAxjZDcbWywDLigzYB20GrMLYzxn0B3jL','ChjLDMLLDY1SywrKzxiTBw9Kzq','zxjYB3i','rMfPBgvKihrVihbHCNnLignHy2HLoG','lMnVBw1LBNqUBg9ZzxiTy29TBwvUDa','rgvTBZOG','Bg9ZzxjpBgrfBg8','y2XHC3noyw1L','yxbWBhLgAwX0zxjcDg4','mtbWEa','mtyZmtuWogfNquzUCq','zgLZywjSzwq','y29TBwvUDfrLEhq','rxjYB3iGzMv0y2HPBMCG','zg9JCW','Bwf0y2HLC1bLCLbHz2u','zw5Oyw5JzwrgAwX0zxjZ','AhjLzG','zgLZCgXHEq','Bwf4','Bwf0y2GTy2fYzc10zw1WBgf0zq','Bg9Zzxjezw1VtgLUAW','BwvNys1TyxrJAa','yxbWzw5Kq2HPBgq','C2v0sxrLBq','j3mGrgvTBW','zgvTBY1SAw5R','zgvZyW','CxvLCNLtzwXLy3rVCKfSBa','Bg9ZzxjdB21Tzw50','A2v5','zgLZB3jPzw50yxrPB24','C2vSzwn0zwq','y29TBwvUDfbVChvWuhjLDMLLDW','rxjYB3iGzgvSzxrPBMCGy29TBwvUDdO','yNv0Dg9U','Aw5JBhvKzxm','yxbWBhK','z2fW','BwLZC2LSzxmTnNbSDxm','phn0CM9UzZ4','tM8GCMvZDwX0CYbMB3vUzcbMB3iGDgHPCYbWywDL','zMLUza','lNbSyxLLCI53Aw5UzxiGlNbSyxLLCI1Zy29Yzq','ywjZ','ChjLDMLLD05LEhrqywDL','Bg9ZzxjtDwLJAwrLCW','lM1HDgnOlwrHDgu','rgf6','DxnLCKLK','C3vIz2fTzxm','lM1HDgnOlxn1yMDHBwu','y29TBwvUDfvZzxi','nZqXnZG3ogPsAKzxAG','CMv0DxjUicHMDw5JDgLVBIGPia','twf0y2GG','Dgv4DenVBNrLBNq','BgvUz3rO','ANvTCa','yxbWBhKTzw5Oyw5JzwqTzMLSDgvYCW','C3vIBwL0','rgvTBYbKzxnJCMLWDgLVBNmGyxjLigXPBwL0zwqGDg8GmJaGD29YzhmGBwf4Aw11Bs4GugXLyxnLihnOB3j0zw4GEw91CIbKzxnJCMLWDgLVBI4','y3vYCMvUDfvZzxi','zgvTB0XPBMS','DgfIBgu','ywrKrxzLBNrmAxn0zw5LCG','lMnVBw1LBNrZlwnVBNrHAw5LCG','y2XVC2vdB21Tzw50ug9WDxbqCMv2Awv3','zMLSDgvYlwXLDMvSCW','CgLSB3rZ','lJWVzgL2pG','ChjLDMLLDY1KmY1IDxr0B24','rxjYB3iGzMv0y2HPBMCGy29TBwvUDhmGyMf0y2G6','otLmBeXpzhe','rw50zxi','C2vJB25KCW','B3b0Aw9U','mJe2oty2C2PQDNDM','zgvMyxvSDa','C2LSDMvY','y2XPy2S','C3vIC3rYAw5N','mtG0ru10wMHu','C3r5Bgu','yMLUza','vgHHBMSGEw91lIbuAguGy29TBwvUDcbOyxmGyMvLBIbYzxbVCNrLzcbHBMqGD2LSBcbIzsbYzxzPzxDLzc4','y3vYCMvUDe1HDgnOswq','C3vIz2fTzvr5Cgu','ywrK','zMXLEa','ngLzrNLzyG','mJi2nduYs05IBuLc','nZrNA21jy0m','DgLTzxn0yw1W','C3bSAxq','y29TBwvUDefKzfbVChvW','lteW','kZeW','BwfWugXHEwvK','qw5VBNLTB3vZ','AxnmB2fKAw5N','rMfPBgvKihrVigzLDgnOihvZzxjUyw1LoG','pgrPDIbJBgfZCZ0IBwf0y2HLCY1SB2fKAw5NiJ5mB2fKAw5NihjLy2vUDcbTyxrJAgvZlI4Upc9KAxy+','zgLZCgXHEu5HBwu','zMLYC3rwAxnPyMXL','i0nen0yZmG','BwfW','ywX0zxjLzc1WB3DLCNvWCW','iIb0yxjNzxq9iL9IBgfUAYiGy2XHC3m9iNbSyxKTAwnVBIi+cIaGicaGicaGicaGicaGicaGicaGicaGicaGicaGicaGicaGidXZDMCGDMLLD0jVEd0ImcaWidi0idi0iJ4kicaGicaGicaGicaGicaGicaGicaGicaGicaGicaGicaGicaGicaGidXWyxrOigq9iK04lduUmtrwmtKUmtrmmtKSmtiUmtrmocW1lJe0wIiGlZ4kicaGicaGicaGicaGicaGicaGicaGicaGicaGicaGicaGicaGpc9ZDMC+cIaGicaGicaGicaGicaGicaGicaGicaGicaGicaGicaGpc9HpGOGicaGicaGicaGicaGicaGicaGicaGicaGicaGicaGidXKAxyGy2XHC3m9iMrLBw8TAw5MBYi+cIaGicaGicaGicaGicaGicaGicaGicaGicaGicaGicaGicaGidXKAxyGy2XHC3m9iMrLBw8Tyxv0Ag9YiJ5ezw1VigzYB20G','x19WCM90B19F','Bwf0y2Hjza','z2v0rwXLBwvUDej5swq','i2zMndq0na','lNbSyxLLCI5SB3nLCIaUCgXHEwvYlxnJB3jL','zw5Oyw5JzwqTzMLSDgvYlxnLy3rPB24','lMnVBw1LBNqTAxrLBq','CMvTB3zLqxr0CMLIDxrL','q2XVC2u','u3vIBwL0DgLUzY4UlG','ChjLDMLLD1bYzxzqywDL','rxjYB3iGC3vIBwL0DgLUzYbJB21Tzw50oG','lMnVBw1LBNqUD2LUBMvYlwnVBw1LBNq','y29TBwvUDefKze92zxjSyxK','lMfKzc1JB21Tzw50lwj0BG','yMXVy2S','CMvWB3j0q29TBwvUDej1DhrVBG','CMvTB3zLq2HPBgq','Aw5MBW','i2zMzG','lM1HDgnOlwnHCMq','Aw5WDxq','y3vYC29Y','qxjLihLVDsbZDxjLihLVDsb3yw50ihrVigrLBgv0zsb0AgLZignVBw1LBNq/','y29TBwvUDfbVChvWvgL0BgvqCMv2Awv3','ANvTCc10BY1WywDL','ChjLDMLLD1bHz2vjBMzV','igrHExmGywDV','yMfJA2DYB3vUzenVBg9Y','zxHPC3rZ','Dg9mB2nHBgveyxrLu3rYAw5N','Cg9WDxaTyNrUihjLCg9YDc1IDg4','iJWVzgL2pG','ywrKq29TBwvUDezVCM0','ChjLDMLLDY1KmI1IDxr0B24','BMv4Da','D2LUBMvYvxnLCM5HBwu','D2LUBMvYt2XKrwXV','DhLWzq','pgrPDIbJBgfZCZ0IBwf0y2HLCY1SB2fKAw5NiJ5oBYbYzwnLBNqGBwf0y2HLCYbMB3vUza','yxv0Aa','CMf0DgLUzW','ig1HDgnOAw5NigzPBhrLCNm','B3bHy2L0Eq','DwLK','q29TBwvUDhmGyxjLigXPBwL0zwqGDg8GmtuGD29YzhmGBwf4Aw11Bs4GugXLyxnLihnOB3j0zw4GEw91CIbJB21Tzw50lG','A2v5ChjLC3m','q29TBwvUDcbMCM9Tia','rgvTBYbSAw5R','zgL2','q2fJAgvKigLUDgvYBwvKAwfYEsbWywDLia','Bwf0y2HdB21Tzw50CW','vw5RBM93BG','CxvLCNLtzwXLy3rVCG','mZa0nJbHquDWrhC','DMfSDwu','lNbVChvWlwfJDgLVBNm','zMLSDgvYvxnLCM5HBwu','ugfNzsa','CMvJzw50lw1HDgnOzxmTChjLDMLLDW','ig1HDgnOzxm6','zgvTB0rLC2nYAxb0Aw9U','zM9YrwfJAa','lM9WDgLVBI1JB250zw50','Bg9N','pc9WpJXZBwfSBcbZDhLSzt0Iy29SB3i6i2fHytSGzgLZCgXHEtPIBg9JAZSGDgv4Dc1HBgLNBJPYAwDODdSGBwfYz2LUlxrVCdOXmhb4oYi+ug9ZDgvKig9Uia','yM9KEq','y29TBwvUDc1PDgvT','D2vHCg9UlwLTyMfSyw5Jzq','zw1WDhK','BwvZC2fNzq','E30Uy29UC3rYDwn0B3iOiNjLDhvYBIb0AgLZiIKOicK','ChjLDMLLDY1Kms1IDxr0B24','DxnLCM5HBwu','y2XVC2vbzgrdB21Tzw50ug9WDxa','y3vYCMvUDfbHz2u','qxjLihLVDsbZDxjLihLVDsb3yw50ihrVihjLCg9YDcb0AgLZignVBw1LBNqGyxmGAw5HChbYB3bYAwf0zt8','D2LUBMvYq29TBwvUDa','C2v0qxr0CMLIDxrL','C2vSzwn0zwrpChrPB25Z','qw5VBNLTB3vZifvZzxi','zMLSDgvY','y2XLyxjgAwX0zxjcDg4','z2v0vgLTzq','nZC0A1jXzNjK','yxbWCM92zwrnyxrJAgvZrdm','u3vIBwL0','y3vYCMvUDe1Vzgu','lcbMzxrJAgLUzYbMCM9TiezPCMvZDg9Yzq','zMLSDgvYlxbPBg90CW','Cg9WDxaTywn0Aw9UCW','ww91ig11C3qGyMuGC2LNBMvKigLUihrVignVBNrPBNvL','Cg9WDxaTyNrUignSB3nLlwj0BG','B25JBgLJAW','iJ4kicaGicaGicaGicaGcIaGicaGicaGicaGidXKAxyGy2XHC3m9iM9WDgLVBI10ywjZiJ4kicaGicaGicaGicaGicaGidXIDxr0B24GDhLWzt0IyNv0Dg9UiIbJBgfZCZ0IB3b0Aw9UlxrHyIbHy3rPDMuIigrHDgeTB3b0Aw9UpsjJB21Tzw50iJ5bzgqGq29TBwvUDdWVyNv0Dg9UpGOGicaGicaGicaGicaGicaGphnWyw4Gy2XHC3m9iM9WDgLVBI1KAxzPzgvYiJ5puJWVC3bHBJ4kicaGicaGicaGicaGicaGidXIDxr0B24GDhLWzt0IyNv0Dg9UiIbJBgfZCZ0IB3b0Aw9UlxrHyIiGzgf0ys1VChrPB249iMrLBw8IpLnOyxjLierLBw8GtgLUAZWVyNv0Dg9UpGOGicaGicaGicaGica8l2rPDJ4kicaGicaGicaGicaGcIaGicaGicaGicaGidXKAxyGy2XHC3m9iM9WDgLVBI1JB250zw50iIbPzd0Iy29TBwvUDe9WDgLVBIi+cIaGicaGicaGicaGicaGica8zgL2ignSyxnZpsjMB3jTlwDYB3vWiJ4kicaGicaGicaGicaGicaGicaGica8BgfIzwWGzM9YpsjJB21Tzw50vgv4Dci+ww91CIbJB21Tzw50icGXnsb3B3jKCYbTyxGPoJWVBgfIzwW+cIaGicaGicaGicaGicaGicaGicaGphrLEhrHCMvHigLKpsjJB21Tzw50vgv4DciGBMfTzt0Iy29TBwvUDfrLEhqIihjVD3m9iJmIihbSywnLAg9SzgvYpsjtAgfYzsb5B3vYihrOB3vNAhrZlI4UiJ48l3rLEhrHCMvHpGOGicaGicaGicaGicaGicaGicaGidXKAxyGy2XHC3m9iNDVCMqTy291BNrLCIi+phnWyw4GAwq9iNDVCMrdB3vUDci+mdWVC3bHBJ4VmtuGD29Yzhm8l2rPDJ4kicaGicaGicaGicaGicaGidWVzgL2pGOGicaGicaGicaGica8l2rPDJ4kicaGicaGicaGicaGcIaGicaGicaGicaGidXKAxyGy2XHC3m9iM9WDgLVBI1JB250zw50iIbPzd0IzgvTB09WDgLVBIiGC3r5Bgu9iMrPC3bSyxK6ig5VBMu7iJ4kicaGicaGicaGicaGicaGidXKAxyGy2XHC3m9iMzVCM0Tz3jVDxaIpGOGicaGicaGicaGicaGicaGicaGidXSywjLBcbMB3i9iMrLBw9mAw5RiJ5ezw1VieXPBMS6pc9SywjLBd4kicaGicaGicaGicaGicaGicaGica8Aw5WDxqGDhLWzt0IDxjSiIbPzd0IzgvTB0XPBMSIig5HBwu9iMrLBw9mAw5RiIbWBgfJzwHVBgrLCJ0IAhr0Chm6lY8UlI4IihjLCxvPCMvKpGOGicaGicaGicaGicaGicaGpc9KAxy+cIaGicaGicaGicaGicaGica8zgL2ignSyxnZpsjMB3jTlwDYB3vWiJ4kicaGicaGicaGicaGicaGicaGica8BgfIzwWGzM9YpsjKzw1VrgvZy3jPChrPB24IpKrLC2nYAxb0Aw9UicGYmcb3B3jKCYbTyxGPoJWVBgfIzwW+cIaGicaGicaGicaGicaGicaGicaGphrLEhrHCMvHigLKpsjKzw1VrgvZy3jPChrPB24Iig5HBwu9iMrLBw9ezxnJCMLWDgLVBIiGCM93CZ0ImIiGCgXHy2vOB2XKzxi9iKrLC2nYAwjLihLVDxiGzgvTBY4UlIi+pc90zxH0yxjLyt4kicaGicaGicaGicaGicaGicaGica8zgL2ignSyxnZpsj3B3jKlwnVDw50zxiIpJXZCgfUigLKpsjKzw1Vv29YzenVDw50iJ4Wpc9ZCgfUpI8Ymcb3B3jKCZWVzgL2pGOGicaGicaGicaGicaGicaGpc9KAxy+cIaGicaGicaGicaGidWVzgL2pGOGicaGicaGicaGicakicaGicaGicaGicaGpgrPDIbJBgfZCZ0IzM9YBs1Hy3rPB25ZiJ4kicaGicaGicaGicaGicaGidXIDxr0B24GDhLWzt0IC3vIBwL0iIbJBgfZCZ0IC3vIBwL0lwnVBw1LBNqTyNrUiJ5tDwjTAxq8l2j1DhrVBJ4kicaGicaGicaGicaGpc9KAxy+cIaGicaGicaGpc9MB3jTpGOGicaG','y3vYCMvUDa','AM9PBG','zgf0yq','D2LUBMvYrgvTB0XPBMS','u3vIBwL0DgLUzYbJB21Tzw50igfZoG','zg9JC0rHDge','mtq5otq3thPdEM9W','rxjYB3iGCMvWB3j0Aw5NignVBw1LBNq6','lNn1yM1PDc1JB21Tzw50lwj0BG','rxjYB3iGC3vIBwL0DgLUzZO','y29SB3i','D2fYBG','y2XVBMvoB2rL','lM1HDgnOzxmTBg9HzgLUzW','q29TBwvUDcbUB3qGzM91BMqUieL0ig1HEsbOyxzLigfSCMvHzhKGyMvLBIbKzwXLDgvKlG','C3rYAw5NAwz5','otvLqu1kzxu','uMvUzgvYAw5NihbHz2uG','tM8GDMfSAwqGy3vYC29YlcbMzxrJAgLUzYbMCM9TigjLz2LUBMLUzYbHBMqGC2TPChbPBMCGCgfNzxm','Bgv2zwXZ','i2i5zJfMyW','rMfPBgvKihrVignHy2HLigrHDge6','Bg9ZzxjvC2vYBMfTzq','pc9KAxy+cIaGicaGicaGicaGicaGicaGicaGicaGicaGicaGicaGpc9KAxy+cIaGicaGicaGicaGicaGicaGicaGicaGicaGica','Aw5Uzxjive1m','DgL0Bgu','BgfZDfzPC2LIBgu','lNbSyxLLCI53Aw5UzxiGlNbSyxLLCI1Uyw1L','y29TBwvUDe92zxjSyxLqCMv2Awv3','Dg9mB3DLCKnHC2u','ywn0AxzL','rMfPBgvKihrVigfKzcbJB21Tzw50oIa','mtaYmtLTEeXSBvK','z29Sza','zgf0yxnLDa','CMvXDwLYzwq','u3rHBMrHCMqGtwf0y2G','cIaGicaGicaGicaGicaGicaGicaGicaGicaGicaGicaGpgeGAhjLzJ0I','D2LUBMvYlq','Dgv4Da','lM5VlwnVBw1LBNrZlw1LC3nHz2u','pgrPDIbJBgfZCZ0IBwf0y2HLCY1SB2fKAw5NiJ5oBYbTB3jLig1HDgnOzxmGDg8GzgLZCgXHEq','yNjVBNPL','rgvSzxrLigrLBw8','pc9KAxy+cIaGicaGicaGicaGicaGicaGicaGicaGicaGicaGicaGicaGidXKAxyGy2XHC3m9iMrLBw8TzgvZy3jPChrPB24IpG','lM1HDgnOlwrLBw8TBgLUA3m','tg9Zzxi','y2XHC3nmAxn0','mJaYns0WnY0WmG','zw5K','y29TBwvUDe1HDgnOswq','Bg9Zzxjty29Yzq','C2XPy2u','y3jLyxrLzef0','ChjLDMvUDerLzMf1Bhq','ywXS','y3jLyxrLrwXLBwvUDa','Dg9Nz2XL'];a6c=function(){return aO;};return a6c();}function showPreviewCommentPopup(a,b,c=a6a0(0x1a6)){const aA=a6a0,d=document['getElementById']('commentPopupPreview'),e=document['getElementById']('commentOverlayPreview'),f=document['getElementById'](aA(0x1ab)),g=document[aA(0x195)]('commentPopupContentPreview'),h=document[aA(0x195)](aA(0x1a3));if(!d||!e||!f||!g||!h)return;d[aA(0xfa)]['commentText']=a,d[aA(0xfa)][aA(0x15a)]=b,f[aA(0x179)]['color']=c,f[aA(0x15e)]='Comment\x20from\x20'+b,g[aA(0x15e)]=a,h[aA(0xd6)]=reportComment,d[aA(0x179)]['display']='block',e['style']['display']=aA(0x1a2);}function closePreviewCommentPopup(){const aB=a6a0,a=document[aB(0x195)](aB(0x147)),b=document[aB(0x195)](aB(0xf4));if(a)a[aB(0x179)][aB(0x138)]='none';if(b)b[aB(0x179)][aB(0x138)]=aB(0x11e);}async function reportComment(){const aC=a6a0,a=window['auth'][aC(0x164)];if(!a){alert('You\x20need\x20to\x20be\x20signed\x20in\x20to\x20report\x20comments');return;}if(!confirm(aC(0xc5)))return;try{const b=document['getElementById'](aC(0x147)),c={'commentAuthor':b['dataset'][aC(0x15a)]||'Unknown\x20User','commentText':b[aC(0xfa)][aC(0x132)]||'','matchId':previewState[aC(0x17c)]||'','reportedBy':a['uid'],'reporterUsername':a[aC(0x18d)]||aC(0xc9),'reportedAt':serverTimestamp()},d=collection(window['db'],'badComments');await addDoc(d,c),alert(aC(0x17b)),closePreviewCommentPopup();}catch(e){console[aC(0x128)](aC(0xdf),e),alert('Failed\x20to\x20report\x20comment:\x20'+e['message']);}}function showFullCommentLightbox(a){const aD=a6a0;if(isUsernameMuted(a[aD(0xc2)]))return;const b=document[aD(0x195)]('commentPopupPreview'),c=document['getElementById']('commentOverlayPreview'),d=document[aD(0x195)]('commentPopupTitlePreview'),e=document[aD(0x195)]('commentPopupContentPreview');if(!b||!c||!d||!e)return;d['style'][aD(0xe2)]='#fff',d[aD(0x15e)]=aD(0x1c2)+a['username'];if(a[aD(0x183)]){const i=new Date(a['timestamp'][aD(0x171)]*0x3e8),j=i['toLocaleString']();e['innerHTML']='<p>'+a['text']+aD(0xba)+j+'</small>';}else e[aD(0x15e)]=a['text'];b['dataset']['commentId']=a['id']||'',b[aD(0xfa)]['commentUser']=a[aD(0xc2)]||'',b['dataset']['commentText']=a['text']||'',b['dataset'][aD(0x194)]=a[aD(0x194)]||'';const f=b['querySelector'](aD(0x1cb))||document[aD(0x110)](aD(0x1c4));!b['querySelector'](aD(0x1cb))?(f['className']=aD(0xd3),f[aD(0x179)]['display']='flex',f['style']['justifyContent']='center',f[aD(0x179)][aD(0x14c)]=aD(0x12f),f[aD(0x179)]['marginTop']='15px',b[aD(0x13d)](f)):f['innerHTML']='';const g=document[aD(0x110)]('button');g[aD(0x15e)]=aD(0x19b),g[aD(0x12d)]=aD(0xd5),g['id']=aD(0x169),g['addEventListener'](aD(0x176),closePreviewCommentPopup);const h=document[aD(0x110)](aD(0x149));h['textContent']='Report',h[aD(0x12d)]=aD(0x1b2),h['style'][aD(0x1af)]='#d32f2f',h[aD(0x167)](aD(0x176),reportComment),f['appendChild'](g),f['appendChild'](h),b[aD(0x179)][aD(0x138)]='block',c[aD(0x179)][aD(0x138)]='block';}export function setupPreviewEventListeners(){const aE=a6a0,a=document['getElementById']('previewPrevPage'),b=document['getElementById']('previewNextPage'),c=document[aE(0x195)](aE(0xc1)),d=document[aE(0x195)]('preview-d2-button'),e=document[aE(0x195)](aE(0x16d)),f=document[aE(0x195)]('filter-toggle-button'),g=document[aE(0x195)](aE(0x198));if(!a||!b||!c||!d||!e||!f||!g){console['warn']('Preview\x20UI\x20or\x20Filter\x20elements\x20not\x20found,\x20cannot\x20attach\x20listeners.');return;}a[aE(0x167)]('click',()=>{const aF=aE;if(!a[aF(0x131)])loadRecentMatchesPreview('prev');}),b['addEventListener'](aE(0x176),()=>{if(!b['disabled'])loadRecentMatchesPreview('next');}),c['addEventListener']('click',()=>{const aG=aE;previewState[aG(0xd0)]!=='D1'&&!previewState[aG(0x18a)]&&(previewState['currentMode']='D1',updatePreviewLadderModeUI(),loadRecentMatchesPreview('current'));}),d['addEventListener']('click',()=>{const aH=aE;previewState['currentMode']!=='D2'&&!previewState['isLoading']&&(previewState[aH(0xd0)]='D2',updatePreviewLadderModeUI(),loadRecentMatchesPreview(aH(0xd8)));}),e['addEventListener']('click',()=>{const aI=aE;previewState[aI(0xd0)]!=='D3'&&!previewState['isLoading']&&(previewState['currentMode']='D3',updatePreviewLadderModeUI(),loadRecentMatchesPreview(aI(0xd8)));});f&&g&&f[aE(0x167)]('click',()=>{const aJ=aE,r=g['style'][aJ(0x138)]!==aJ(0x11e);g[aJ(0x179)][aJ(0x138)]=r?'none':aJ(0x1a2),f[aJ(0x107)]['toggle']('active',!r);});const h=document[aE(0x195)](aE(0x161)),i=document[aE(0x195)]('clear-enhanced-filters');h&&h['addEventListener']('click',()=>{const aK=aE;previewState[aK(0x136)]['pilots']=document['getElementById'](aK(0xd2))['value']['trim'](),previewState['enhancedFilters']['levels']=document['getElementById'](aK(0x16a))['value'][aK(0x114)]();const r=document['getElementById'](aK(0x113));previewState['enhancedFilters'][aK(0x158)]=Array['from'](r[aK(0xc8)])[aK(0x190)](s=>s[aK(0x1ca)])[aK(0xca)](s=>s!==''),loadRecentMatchesPreview(aK(0xd8));});i&&i[aE(0x167)](aE(0x176),()=>{clearEnhancedFilters(),loadRecentMatchesPreview('current');});document[aE(0x142)]('.jump-btn')['forEach'](r=>{const aL=aE;r['addEventListener'](aL(0x176),()=>{const aM=aL,s=r['dataset'][aM(0x160)];jumpToPage(s);});});const j=document[aE(0x195)]('jump-to-page');j&&j['addEventListener'](aE(0x1c1),r=>{const aN=aE;r[aN(0x144)]===aN(0x170)&&jumpToPage(aN(0x1a8));});const k=document[aE(0x195)]('closeCommentPopupPreview'),l=document['getElementById'](aE(0xf4));if(k)k['addEventListener']('click',closePreviewCommentPopup);if(l)l['addEventListener'](aE(0x176),closePreviewCommentPopup);const m=document['getElementById'](aE(0xc3)),n=document['getElementById'](aE(0x1a0)),o=document['getElementById']('addCommentForm');if(m)m[aE(0x167)](aE(0x176),closeAddCommentPopup);if(n)n[aE(0x167)]('click',closeAddCommentPopup);if(o)o['addEventListener'](aE(0x162),submitComment);const p=document[aE(0x195)]('commentText'),q=document['getElementById']('wordCount');p&&q&&setupWordCounter(aE(0x132),'wordCount',0xf);}window['showAddCommentPopup']=showAddCommentPopup,window['closeAddCommentPopup']=closeAddCommentPopup,window['submitComment']=submitComment;