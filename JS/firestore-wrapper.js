const a18_0x323075=a18_0x597a,a18_0x37677d=(function(){let _0x169dfc=!![];return function(_0x57b1eb,_0x580987){const _0x4dad23=_0x169dfc?function(){if(_0x580987){const _0x339f7a=_0x580987['apply'](_0x57b1eb,arguments);return _0x580987=null,_0x339f7a;}}:function(){};return _0x169dfc=![],_0x4dad23;};}()),a18_0x3ae1ed=a18_0x37677d(this,function(){const _0x9215b3=a18_0x597a;let _0x573f21;try{const _0x24a70b=Function('return\x20(function()\x20'+_0x9215b3(0x18e)+');');_0x573f21=_0x24a70b();}catch(_0x439e0a){_0x573f21=window;}const _0x1f9033=_0x573f21[_0x9215b3(0x18c)]=_0x573f21[_0x9215b3(0x18c)]||{},_0x259505=[_0x9215b3(0x1a0),'warn','info','error','exception','table','trace'];for(let _0x3eedfd=0x0;_0x3eedfd<_0x259505['length'];_0x3eedfd++){const _0x627c61=a18_0x37677d['constructor']['prototype']['bind'](a18_0x37677d),_0x1829a6=_0x259505[_0x3eedfd],_0x1333d7=_0x1f9033[_0x1829a6]||_0x627c61;_0x627c61['__proto__']=a18_0x37677d['bind'](a18_0x37677d),_0x627c61[_0x9215b3(0x19e)]=_0x1333d7['toString'][_0x9215b3(0x19f)](_0x1333d7),_0x1f9033[_0x1829a6]=_0x627c61;}});a18_0x3ae1ed();import{collection as a18_0x3ff2e4,doc as a18_0x383315,getDoc as a18_0x4b2b92,getDocs as a18_0xb1ab4b,query as a18_0x5a12b9,where as a18_0x5ae03f,orderBy as a18_0xb5fafd,limit as a18_0x523c13,startAfter as a18_0x2d0fe4,addDoc as a18_0x2a1986,updateDoc as a18_0x309ccd,deleteDoc as a18_0x1b6a4c,writeBatch as a18_0x50fbcb,serverTimestamp as a18_0x4802df,Timestamp as a18_0x5920c3,getCountFromServer as a18_0x43ef19,setDoc as a18_0x1e5962,enableNetwork,disableNetwork}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db}from'./firebase-config.js';import{handleNetworkError}from'./idle-timeout.js';function checkSessionStatus(){const _0xed8d42=a18_0x597a;if(window[_0xed8d42(0x18d)]){console['warn']('Firestore\x20operation\x20blocked\x20-\x20session\x20suspended');const _0x2a0378=new Error(_0xed8d42(0x193));_0x2a0378['code']=_0xed8d42(0x197);throw _0x2a0378;}if(window['RDL_NETWORK_ERROR']){console['warn']('Firestore\x20operation\x20blocked\x20-\x20network\x20error');const _0x5a4946=new Error(_0xed8d42(0x192));_0x5a4946['code']='network-error';throw _0x5a4946;}}async function handleFirestoreError(_0x37fa72){const _0x624c10=a18_0x597a;console['error'](_0x624c10(0x194),_0x37fa72);if(_0x37fa72&&(_0x37fa72['code']===_0x624c10(0x19a)||_0x37fa72['code']==='resource-exhausted'||_0x37fa72['message']&&_0x37fa72[_0x624c10(0x18b)]['includes']('network')||_0x37fa72['code']&&_0x37fa72['code'][_0x624c10(0x19b)](_0x624c10(0x189))))return console['warn']('Network-related\x20error\x20detected,\x20suspending\x20operations'),handleNetworkError(),!![];return![];}function a18_0x597a(_0xcb5ff2,_0x42b29b){const _0x3ae1ed=a18_0x345f();return a18_0x597a=function(_0x37677d,_0x93c092){_0x37677d=_0x37677d-0x189;let _0x345f7f=_0x3ae1ed[_0x37677d];return _0x345f7f;},a18_0x597a(_0xcb5ff2,_0x42b29b);}function a18_0x345f(){const _0x49460c=['network','length','message','console','RDL_SESSION_SUSPENDED','{}.constructor(\x22return\x20this\x22)(\x20)','apply','Caught\x20session\x20suspended\x20error:','addEventListener','Network\x20connection\x20error.\x20Please\x20check\x20your\x20internet\x20connection.','Session\x20suspended\x20due\x20to\x20inactivity.\x20Please\x20resume\x20your\x20session.','Firestore\x20operation\x20failed:','commit','string','session-suspended','network-error','resource-exhausted','unavailable','includes','error','code','toString','bind','log'];a18_0x345f=function(){return _0x49460c;};return a18_0x345f();}export const rdlFirestore={'collection':function(){const _0x57fc19=a18_0x597a;if(arguments['length']===0x1){if(typeof arguments[0x0]==='string')return a18_0x3ff2e4(db,arguments[0x0]);return arguments[0x0];}else{if(arguments[_0x57fc19(0x18a)]===0x2&&arguments[0x0]===db&&typeof arguments[0x1]===_0x57fc19(0x196))return a18_0x3ff2e4(db,arguments[0x1]);}return a18_0x3ff2e4[_0x57fc19(0x18f)](null,arguments);},'doc':function(){const _0x241d1e=a18_0x597a;if(arguments['length']===0x2){if(typeof arguments[0x0]==='string'&&typeof arguments[0x1]==='string')return a18_0x383315(db,arguments[0x0],arguments[0x1]);return a18_0x383315['apply'](null,arguments);}else{if(arguments[_0x241d1e(0x18a)]===0x3&&arguments[0x0]===db)return a18_0x383315[_0x241d1e(0x18f)](null,arguments);}return a18_0x383315['apply'](null,arguments);},'query':function(){const _0x3e5fc4=a18_0x597a;return a18_0x5a12b9[_0x3e5fc4(0x18f)](null,arguments);},'where':function(){const _0x38d305=a18_0x597a;return a18_0x5ae03f[_0x38d305(0x18f)](null,arguments);},'orderBy':function(){return a18_0xb5fafd['apply'](null,arguments);},'limit':function(_0x4aef73){return a18_0x523c13(_0x4aef73);},'startAfter':function(_0x1bc9b5){return a18_0x2d0fe4(_0x1bc9b5);},'getDoc':async function(_0x3dd787){try{return checkSessionStatus(),await a18_0x4b2b92(_0x3dd787);}catch(_0x4ac384){const _0x3f1e88=await handleFirestoreError(_0x4ac384);_0x3f1e88&&(_0x4ac384['code']='network-error');throw _0x4ac384;}},'getDocs':async function(_0x390745){try{return checkSessionStatus(),await a18_0xb1ab4b(_0x390745);}catch(_0x1b3be6){const _0x3d7174=await handleFirestoreError(_0x1b3be6);_0x3d7174&&(_0x1b3be6['code']='network-error');throw _0x1b3be6;}},'getCountFromServer':async function(_0x1ac34a){const _0x4b43f0=a18_0x597a;try{return checkSessionStatus(),await a18_0x43ef19(_0x1ac34a);}catch(_0x269da0){const _0x2c9be3=await handleFirestoreError(_0x269da0);_0x2c9be3&&(_0x269da0[_0x4b43f0(0x19d)]=_0x4b43f0(0x198));throw _0x269da0;}},'addDoc':async function(_0x394742,_0x431c20){const _0x50dd37=a18_0x597a;try{return checkSessionStatus(),await a18_0x2a1986(_0x394742,_0x431c20);}catch(_0x27b2cf){const _0x534cac=await handleFirestoreError(_0x27b2cf);_0x534cac&&(_0x27b2cf[_0x50dd37(0x19d)]=_0x50dd37(0x198));throw _0x27b2cf;}},'setDoc':async function(_0x3ba2de,_0x361323,_0x9dd522){const _0x1afe37=a18_0x597a;try{return checkSessionStatus(),await a18_0x1e5962(_0x3ba2de,_0x361323,_0x9dd522);}catch(_0x4bd8fe){const _0x5521a0=await handleFirestoreError(_0x4bd8fe);_0x5521a0&&(_0x4bd8fe['code']=_0x1afe37(0x198));throw _0x4bd8fe;}},'updateDoc':async function(_0x1dd71d,_0x4d224d){try{return checkSessionStatus(),await a18_0x309ccd(_0x1dd71d,_0x4d224d);}catch(_0x5d8416){const _0x131e99=await handleFirestoreError(_0x5d8416);_0x131e99&&(_0x5d8416['code']='network-error');throw _0x5d8416;}},'deleteDoc':async function(_0x259e18){const _0xf0e205=a18_0x597a;try{return checkSessionStatus(),await a18_0x1b6a4c(_0x259e18);}catch(_0x3e0e3f){const _0x4091ba=await handleFirestoreError(_0x3e0e3f);_0x4091ba&&(_0x3e0e3f[_0xf0e205(0x19d)]='network-error');throw _0x3e0e3f;}},'writeBatch':function(){const _0x15f88d=a18_0x597a;checkSessionStatus();const _0x2f27fb=a18_0x50fbcb(db),_0x54ef91=_0x2f27fb['commit']['bind'](_0x2f27fb);return _0x2f27fb[_0x15f88d(0x195)]=async function(){const _0x41c2c7=_0x15f88d;try{return checkSessionStatus(),await _0x54ef91();}catch(_0x15bcdb){const _0x5c08c7=await handleFirestoreError(_0x15bcdb);_0x5c08c7&&(_0x15bcdb[_0x41c2c7(0x19d)]='network-error');throw _0x15bcdb;}},_0x2f27fb;},'serverTimestamp':function(){return a18_0x4802df();},'Timestamp':{'now':function(){return a18_0x5920c3['now']();},'fromDate':function(_0x24eaf7){return a18_0x5920c3['fromDate'](_0x24eaf7);}},'enableNetwork':async function(){try{return await enableNetwork(db);}catch(_0x560dd5){console['error']('Failed\x20to\x20enable\x20network:',_0x560dd5);throw _0x560dd5;}},'disableNetwork':async function(){const _0x28d871=a18_0x597a;try{return await disableNetwork(db);}catch(_0x3891df){console[_0x28d871(0x19c)]('Failed\x20to\x20disable\x20network:',_0x3891df);throw _0x3891df;}}};window[a18_0x323075(0x191)]('error',function(_0x14477f){const _0x136449=a18_0x323075;if(_0x14477f['error']){if(_0x14477f['error'][_0x136449(0x19d)]==='session-suspended')_0x14477f['preventDefault'](),console[_0x136449(0x1a0)](_0x136449(0x190),_0x14477f['error']['message']);else(_0x14477f['error'][_0x136449(0x19d)]==='unavailable'||_0x14477f[_0x136449(0x19c)][_0x136449(0x19d)]===_0x136449(0x199)||_0x14477f['error']['message']&&_0x14477f[_0x136449(0x19c)]['message'][_0x136449(0x19b)](_0x136449(0x189))||_0x14477f['error'][_0x136449(0x19d)]&&_0x14477f[_0x136449(0x19c)][_0x136449(0x19d)]['includes']('network'))&&(_0x14477f['preventDefault'](),console['log']('Caught\x20network\x20error:',_0x14477f['error'][_0x136449(0x18b)]),handleNetworkError());}}),window['rdlFirestore']=rdlFirestore,console['log']('Firestore\x20wrapper\x20initialized\x20with\x20session\x20checking\x20and\x20network\x20error\x20handling');