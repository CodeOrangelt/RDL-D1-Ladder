const a22_0x3ea2e6=a22_0xbf5f,a22_0x3ae761=(function(){let _0x8d80f0=!![];return function(_0x393600,_0x19aac7){const _0x21b8ac=_0x8d80f0?function(){if(_0x19aac7){const _0x3731cd=_0x19aac7['apply'](_0x393600,arguments);return _0x19aac7=null,_0x3731cd;}}:function(){};return _0x8d80f0=![],_0x21b8ac;};}()),a22_0x1e06c5=a22_0x3ae761(this,function(){const _0xcc6c48=a22_0xbf5f;let _0x5d55ee;try{const _0x106d78=Function(_0xcc6c48(0x9e)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x5d55ee=_0x106d78();}catch(_0x401df9){_0x5d55ee=window;}const _0x331820=_0x5d55ee[_0xcc6c48(0xd4)]=_0x5d55ee['console']||{},_0x2d1e1e=['log','warn',_0xcc6c48(0xa2),'error',_0xcc6c48(0xbc),'table','trace'];for(let _0x55b69b=0x0;_0x55b69b<_0x2d1e1e[_0xcc6c48(0xb6)];_0x55b69b++){const _0x526acc=a22_0x3ae761['constructor'][_0xcc6c48(0xd6)]['bind'](a22_0x3ae761),_0x38528c=_0x2d1e1e[_0x55b69b],_0x99691e=_0x331820[_0x38528c]||_0x526acc;_0x526acc['__proto__']=a22_0x3ae761['bind'](a22_0x3ae761),_0x526acc['toString']=_0x99691e[_0xcc6c48(0xc7)]['bind'](_0x99691e),_0x331820[_0x38528c]=_0x526acc;}});a22_0x1e06c5();import{auth,db}from'./firebase-config.js';function a22_0xbf5f(_0x36672b,_0x26c233){const _0x1e06c5=a22_0x469d();return a22_0xbf5f=function(_0x3ae761,_0xc8a1b3){_0x3ae761=_0x3ae761-0x98;let _0x469db5=_0x1e06c5[_0x3ae761];return _0x469db5;},a22_0xbf5f(_0x36672b,_0x26c233);}import{collection,query,where,orderBy,getDocs,doc,updateDoc,onSnapshot,limit,startAfter}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';class InboxManager{constructor(){const _0x4e9795=a22_0xbf5f;this['currentFilter']='pending',this['invitations']=[],this['sentInvitations']=[],this[_0x4e9795(0xc2)]=null,this[_0x4e9795(0xd8)]=null,this[_0x4e9795(0xdb)]=0x14,this['lastDoc']=null,this['hasMore']=!![],this['init']();}async['init'](){auth['onAuthStateChanged'](_0x29c7eb=>{const _0x56bc31=a22_0xbf5f;_0x29c7eb?(this['loadInvitations'](_0x29c7eb[_0x56bc31(0xa0)]),this[_0x56bc31(0xc4)]()):window['location']['href']=_0x56bc31(0xb8);});}['setupEventListeners'](){const _0x4954bb=a22_0xbf5f;document['querySelectorAll'](_0x4954bb(0xc3))['forEach'](_0x37fd17=>{const _0xf1c209=_0x4954bb;_0x37fd17[_0xf1c209(0xd7)](_0xf1c209(0xbf),()=>{const _0x33e072=_0xf1c209;document['querySelectorAll']('.filter-btn')['forEach'](_0x36600d=>_0x36600d['classList']['remove']('active')),_0x37fd17['classList']['add'](_0x33e072(0xa3)),this['currentFilter']=_0x37fd17[_0x33e072(0xb0)]['filter'],this['renderInvitations']();});});}['loadInvitations'](_0x3a0c49){const _0x59be8f=a22_0xbf5f,_0x3ce7dc=collection(db,'gameInvitations');let _0x5922b5=query(_0x3ce7dc,where('toUserId','==',_0x3a0c49),orderBy('createdAt','desc'),limit(this[_0x59be8f(0xdb)]));this['unsubscribe']=onSnapshot(_0x5922b5,_0x469f6f=>{this['invitations']=_0x469f6f['docs']['map'](_0x5c9c1e=>({'id':_0x5c9c1e['id'],..._0x5c9c1e['data']()})),this['renderInvitations'](),this['updateNotificationCount']();});let _0x4a3e68=query(_0x3ce7dc,where('fromUserId','==',_0x3a0c49),orderBy('createdAt',_0x59be8f(0xc6)),limit(this['pageSize']));this['sentUnsubscribe']=onSnapshot(_0x4a3e68,_0x1b2477=>{const _0x48b2b6=_0x59be8f;this[_0x48b2b6(0xa1)]=_0x1b2477['docs'][_0x48b2b6(0xbb)](_0x5e31d2=>({'id':_0x5e31d2['id'],..._0x5e31d2[_0x48b2b6(0xa9)](),'isSent':!![]})),this['renderInvitations']();});}[a22_0x3ea2e6(0x9c)](){const _0x48e5ff=a22_0x3ea2e6,_0x441930=document['getElementById'](_0x48e5ff(0xd0));if(!_0x441930)return;let _0x168b7f=[];if(this[_0x48e5ff(0xcc)]==='outbox')_0x168b7f=this['sentInvitations'];else this['currentFilter']===_0x48e5ff(0x9a)?_0x168b7f=[...this[_0x48e5ff(0xc9)],...this[_0x48e5ff(0xa1)]]['sort']((_0x1cc946,_0x5d48e0)=>{const _0x4b5109=_0x48e5ff,_0x3fcd32=_0x1cc946[_0x4b5109(0xb3)]?.['toDate']?_0x1cc946['createdAt'][_0x4b5109(0xa7)]():new Date(_0x1cc946['createdAt']),_0x2b732a=_0x5d48e0['createdAt']?.[_0x4b5109(0xa7)]?_0x5d48e0['createdAt']['toDate']():new Date(_0x5d48e0[_0x4b5109(0xb3)]);return _0x2b732a-_0x3fcd32;}):_0x168b7f=this['invitations']['filter'](_0x5649de=>_0x5649de['status']===this['currentFilter']);if(_0x168b7f['length']===0x0){const _0x351db4=this[_0x48e5ff(0xcc)]==='outbox'?'sent':this['currentFilter']===_0x48e5ff(0x9a)?'':this[_0x48e5ff(0xcc)];_0x441930['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22empty-inbox\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-inbox\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>No\x20'+_0x351db4+'\x20invitations</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(this[_0x48e5ff(0xcc)]===_0x48e5ff(0xbd)?'Invitations\x20you\x20send\x20to\x20other\x20players\x20will\x20appear\x20here.':_0x48e5ff(0xcf))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';return;}_0x441930['innerHTML']=_0x168b7f['map'](_0x538c0d=>this['createInvitationCard'](_0x538c0d))[_0x48e5ff(0x9f)](''),this['setupActionListeners']();}[a22_0x3ea2e6(0xdc)](_0x3f1eb0){const _0xbfdc1c=a22_0x3ea2e6,_0x4adaf8=_0x3f1eb0[_0xbfdc1c(0xb3)]?.['toDate']?_0x3f1eb0['createdAt'][_0xbfdc1c(0xa7)]():new Date(_0x3f1eb0['createdAt']),_0x37690f=this['getTimeAgo'](_0x4adaf8),_0x478023=_0x3f1eb0['isSent']||![];let _0x185737='';return _0x3f1eb0['type']==='team_invite'?_0x185737='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+_0x3f1eb0[_0xbfdc1c(0xab)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22team-invite-preview\x22\x20style=\x22background:\x20#1a1a1a;\x20padding:\x201rem;\x20border-radius:\x204px;\x20margin:\x200.5rem\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20style=\x22color:\x20'+_0x3f1eb0[_0xbfdc1c(0xc0)]['teamColor']+';\x20margin:\x200\x200\x200.5rem\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3f1eb0['teamData'][_0xbfdc1c(0xd3)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22color:\x20#888;\x20font-size:\x200.9em;\x20margin:\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Duos\x20Ladder\x20Team\x20â€¢\x20Color:\x20'+_0x3f1eb0['teamData']['teamColor']+_0xbfdc1c(0xcb):_0x185737='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+_0x3f1eb0[_0xbfdc1c(0xab)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0xbfdc1c(0xa5)+_0x3f1eb0['status']+'\x20'+(_0x478023?'sent-invitation':'')+'\x22\x20data-invitation-id=\x22'+_0x3f1eb0['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-from\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x478023?'To:\x20'+_0x3f1eb0[_0xbfdc1c(0xc1)]:_0x3f1eb0['fromUsername'])+_0xbfdc1c(0xae)+(_0x478023?'<span\x20class=\x22sent-indicator\x22><i\x20class=\x22fas\x20fa-paper-plane\x22></i>\x20Sent</span>':'')+_0xbfdc1c(0xb7)+_0x37690f+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22status-badge\x20status-'+_0x3f1eb0['status']+'\x22>'+_0x3f1eb0['status']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x185737+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x478023&&_0x3f1eb0['status']===_0xbfdc1c(0xe0)?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20accept-btn\x22\x20data-action=\x22accept\x22\x20data-invitation-id=\x22'+_0x3f1eb0['id']+_0xbfdc1c(0xb4)+_0x3f1eb0['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20Decline\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3f1eb0['type']!=='team_invite'?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20respond-btn\x22\x20data-action=\x22respond\x22\x20data-invitation-id=\x22'+_0x3f1eb0['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-reply\x22></i>\x20Send\x20Message\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x478023&&_0x3f1eb0['status']==='pending'?_0xbfdc1c(0x99)+_0x3f1eb0['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20Cancel\x20Invitation\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}['setupActionListeners'](){const _0x941de6=a22_0x3ea2e6;document[_0x941de6(0xce)]('.action-btn')['forEach'](_0x5a5dd2=>{_0x5a5dd2['addEventListener']('click',async _0x4b70e6=>{const _0x4633d9=a22_0xbf5f,_0x167164=_0x5a5dd2['dataset'][_0x4633d9(0xb9)],_0x69ede=_0x5a5dd2[_0x4633d9(0xb0)]['invitationId'];_0x5a5dd2['disabled']=!![];const _0x14276b=_0x5a5dd2[_0x4633d9(0x9d)];_0x5a5dd2[_0x4633d9(0x9d)]=_0x4633d9(0xa8);try{switch(_0x167164){case'accept':await this['updateInvitationStatus'](_0x69ede,_0x4633d9(0x9b));break;case _0x4633d9(0xde):await this[_0x4633d9(0xd5)](_0x69ede,'declined');break;case _0x4633d9(0xb1):await this['updateInvitationStatus'](_0x69ede,'cancelled');break;case'respond':this['openResponseModal'](_0x69ede);break;}}catch(_0x20f03f){console['error']('Error\x20performing\x20'+_0x167164+':',_0x20f03f),alert('Failed\x20to\x20'+_0x167164+'\x20invitation.\x20Please\x20try\x20again.');}finally{_0x5a5dd2['disabled']=![],_0x5a5dd2[_0x4633d9(0x9d)]=_0x14276b;}});});}async['updateInvitationStatus'](_0x3a6309,_0x1e295e){const _0x245b1a=a22_0x3ea2e6;try{const _0x515e2f=this[_0x245b1a(0xc9)]['find'](_0x5a6f16=>_0x5a6f16['id']===_0x3a6309);_0x515e2f&&_0x515e2f['type']===_0x245b1a(0xca)&&_0x1e295e==='accepted'&&await this['createTeamFromInvitation'](_0x515e2f);const _0x39ea18=doc(db,_0x245b1a(0xda),_0x3a6309);await updateDoc(_0x39ea18,{'status':_0x1e295e,'respondedAt':new Date()}),_0x515e2f&&(_0x515e2f['status']=_0x1e295e,_0x515e2f[_0x245b1a(0xa4)]=new Date(),this[_0x245b1a(0x9c)]());}catch(_0x56a7a2){console['error']('Error\x20updating\x20invitation\x20status:',_0x56a7a2);throw _0x56a7a2;}}['openResponseModal'](_0x11bb39){const _0x1c87b0=a22_0x3ea2e6,_0x463d71=this[_0x1c87b0(0xc9)][_0x1c87b0(0xaf)](_0x2bb24a=>_0x2bb24a['id']===_0x11bb39);if(!_0x463d71)return;const _0x309251=document['createElement']('div');_0x309251['className']='modal-overlay',_0x309251['innerHTML']=_0x1c87b0(0xac)+_0x463d71['fromUsername']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22modal-close\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-body\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Regarding\x20invitation\x20to:\x20<strong>'+_0x463d71['value']+'</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22response-message\x22\x20placeholder=\x22Type\x20your\x20message\x20here...\x22\x20rows=\x224\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20respond-btn\x22\x20id=\x22send-response\x22>Send\x20Message</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x22\x20id=\x22cancel-response\x22>Cancel</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';if(!document['getElementById']('modal-styles')){const _0x194786=document['createElement'](_0x1c87b0(0xd2));_0x194786['id']='modal-styles',_0x194786[_0x1c87b0(0xb5)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-overlay\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20right:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.8);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-content\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#2a2a2a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2090%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20500px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-height:\x2090vh;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20overflow-y:\x20auto;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-header\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20space-between;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-close\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x201.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-body\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-body\x20textarea\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#1a1a1a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resize:\x20vertical;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-footer\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-top:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x1c87b0(0xd1)][_0x1c87b0(0xb2)](_0x194786);}document['body'][_0x1c87b0(0xb2)](_0x309251),_0x309251['querySelector'](_0x1c87b0(0xa6))[_0x1c87b0(0xd7)]('click',()=>_0x309251['remove']()),_0x309251[_0x1c87b0(0xba)]('#cancel-response')['addEventListener']('click',()=>_0x309251['remove']()),_0x309251[_0x1c87b0(0xd7)]('click',_0x34c3ea=>{if(_0x34c3ea['target']===_0x309251)_0x309251['remove']();}),_0x309251['querySelector']('#send-response')['addEventListener']('click',()=>{const _0x4c8e81=_0x1c87b0,_0x4f20a7=document[_0x4c8e81(0xc5)](_0x4c8e81(0xdf))['value']['trim']();_0x4f20a7&&(alert(_0x4c8e81(0xcd)),_0x309251['remove']());});}async['createTeamFromInvitation'](_0x3f8ec6){const _0x353a63=a22_0x3ea2e6;try{const {createTeam:_0x315295}=await import(_0x353a63(0x98)),_0x9a1c6b=await _0x315295(_0x3f8ec6['fromUsername'],_0x3f8ec6[_0x353a63(0xc1)],_0x3f8ec6['teamData'][_0x353a63(0xd3)],_0x3f8ec6['teamData']['teamColor']);if(!_0x9a1c6b[_0x353a63(0xaa)])throw new Error(_0x9a1c6b['error']);alert('Team\x20\x22'+_0x3f8ec6['teamData'][_0x353a63(0xd3)]+'\x22\x20created\x20successfully!');}catch(_0x4c5cb3){console['error']('Error\x20creating\x20team:',_0x4c5cb3);throw new Error(_0x353a63(0xbe)+_0x4c5cb3[_0x353a63(0xab)]);}}['updateNotificationCount'](){const _0x510ad8=a22_0x3ea2e6,_0x4458d5=this['invitations']['filter'](_0x2a7204=>_0x2a7204['status']===_0x510ad8(0xe0))['length'],_0xbaa9a2=document[_0x510ad8(0xc5)]('inbox-notification');_0xbaa9a2&&(_0x4458d5>0x0?(_0xbaa9a2['style']['display']='inline-block',_0xbaa9a2['textContent']=_0x4458d5>0x9?'9+':_0x4458d5):_0xbaa9a2['style']['display']=_0x510ad8(0xdd));}['getTimeAgo'](_0x52d2b4){const _0x34dcb4=a22_0x3ea2e6,_0x19548e=new Date(),_0x43666f=_0x19548e-_0x52d2b4,_0x14d6d0=Math['floor'](_0x43666f/(0x3e8*0x3c)),_0x378989=Math['floor'](_0x43666f/(0x3e8*0x3c*0x3c)),_0x334d75=Math['floor'](_0x43666f/(0x3e8*0x3c*0x3c*0x18));if(_0x14d6d0<0x1)return _0x34dcb4(0xd9);if(_0x14d6d0<0x3c)return _0x14d6d0+'m\x20ago';if(_0x378989<0x18)return _0x378989+'h\x20ago';if(_0x334d75<0x7)return _0x334d75+'d\x20ago';return _0x52d2b4['toLocaleDateString']();}[a22_0x3ea2e6(0xc8)](){this['unsubscribe']&&this['unsubscribe'](),this['sentUnsubscribe']&&this['sentUnsubscribe']();}}function a22_0x469d(){const _0x21222e=['./ladderduos.js','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20cancel-btn\x22\x20data-action=\x22cancel\x22\x20data-invitation-id=\x22','all','accepted','renderInvitations','innerHTML','return\x20(function()\x20','join','uid','sentInvitations','info','active','respondedAt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-card\x20','.modal-close','toDate','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','data','success','message','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Send\x20Message\x20to\x20','DOMContentLoaded','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','find','dataset','cancel','appendChild','createdAt','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20Accept\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20decline-btn\x22\x20data-action=\x22decline\x22\x20data-invitation-id=\x22','textContent','length','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-time\x22>','./login.html','action','querySelector','map','exception','outbox','Failed\x20to\x20create\x20team:\x20','click','teamData','toUsername','unsubscribe','.filter-btn','setupEventListeners','getElementById','desc','toString','destroy','invitations','team_invite','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','currentFilter','Message\x20sent!\x20(Feature\x20will\x20be\x20fully\x20implemented\x20in\x20future\x20update)','querySelectorAll','When\x20other\x20players\x20invite\x20you\x20to\x20games,\x20they\x27ll\x20appear\x20here.','inbox-content','head','style','proposedTeamName','console','updateInvitationStatus','prototype','addEventListener','sentUnsubscribe','Just\x20now','gameInvitations','pageSize','createInvitationCard','none','decline','response-message','pending'];a22_0x469d=function(){return _0x21222e;};return a22_0x469d();}document['addEventListener'](a22_0x3ea2e6(0xad),()=>{new InboxManager();});