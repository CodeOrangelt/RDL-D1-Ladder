function a20_0x332a(){const _0x145645=['style','__proto__','Forcing\x20idle\x20timeout...','toString','color:\x20#fff;\x20margin-bottom:\x2030px;','createElement','code','RDL_NETWORK_ERROR','pendingOperations','resumeAllListeners','log','unavailable','cssText','Session\x20resumed','info','apply','DOMContentLoaded','textContent','console','message','Connection\x20test\x20failed:','scroll','#3da05f','keypress','length','bind','now','getElementById','forEach','onmouseout','collection','not-allowed','RDL_LAST_ACTIVITY','exception','checkFirebaseIdleStatus','addEventListener','backgroundColor','idle-overlay','display','click','Failed\x20to\x20test\x20connection:','RDL_SESSION_SUSPENDED','Retry\x20Connection','includes','Idle\x20timeout\x20initialized:','Session\x20suspended\x20due\x20to\x20inactivity','appendChild','error'];a20_0x332a=function(){return _0x145645;};return a20_0x332a();}const a20_0x41671c=a20_0x1d6e;import a20_0x17ff34,{enhanceIdleTimeout}from'./firebase-idle-wrapper.js';const IDLE_TIMEOUT=0xea60;function a20_0x1d6e(_0x4b5894,_0x4cb256){const _0x186e57=a20_0x332a();return a20_0x1d6e=function(_0x4416e8,_0x14f2dc){_0x4416e8=_0x4416e8-0x70;let _0x332a9e=_0x186e57[_0x4416e8];return _0x332a9e;},a20_0x1d6e(_0x4b5894,_0x4cb256);}let idleTimer=null,isSessionSuspended=![],networkErrorRetryCount=0x0;const MAX_NETWORK_RETRIES=0x3;function createIdleOverlay(){const _0x1e672d=a20_0x1d6e;if(document['getElementById']('idle-overlay'))return;const _0x5cf929=document['createElement']('div');_0x5cf929['id']=_0x1e672d(0x95),_0x5cf929['style']['cssText']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20rgba(0,\x200,\x200,\x200.85);\x0a\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x209999;\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20backdrop-filter:\x20blur(5px);\x0a\x20\x20\x20\x20';const _0x47b8fa=document['createElement']('div');_0x47b8fa['style']['cssText']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#202020;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2030px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20500px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x200\x2020px\x20rgba(0,\x200,\x200,\x200.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20';const _0x5c6193=document['createElement']('h2');_0x5c6193['textContent']='Session\x20Suspended\x20Due\x20to\x20Inactivity',_0x5c6193['style']['cssText']='color:\x20#50C878;\x20margin-bottom:\x2020px;\x20font-size:\x2024px;';const _0x13527e=document['createElement']('p');_0x13527e['textContent']='Your\x20session\x20has\x20been\x20suspended\x20after\x201\x20minutes\x20of\x20inactivity\x20for\x20security\x20reasons.',_0x13527e['style']['cssText']='color:\x20#fff;\x20margin-bottom:\x2030px;';const _0x35cd6c=document['createElement']('button');_0x35cd6c['id']='resume-session-btn',_0x35cd6c['textContent']='Return\x20to\x20Website',_0x35cd6c['style'][_0x1e672d(0x7c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#50C878;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s;\x0a\x20\x20\x20\x20',_0x35cd6c['onmouseover']=function(){const _0x4d7f5a=_0x1e672d;this['style']['backgroundColor']=_0x4d7f5a(0x86);},_0x35cd6c[_0x1e672d(0x8d)]=function(){const _0x50aba6=_0x1e672d;this[_0x50aba6(0x70)][_0x50aba6(0x94)]='#50C878';},_0x47b8fa['appendChild'](_0x5c6193),_0x47b8fa['appendChild'](_0x13527e),_0x47b8fa['appendChild'](_0x35cd6c),_0x5cf929[_0x1e672d(0x9e)](_0x47b8fa),document['body']['appendChild'](_0x5cf929),_0x35cd6c[_0x1e672d(0x93)]('click',resumeSession),createNetworkErrorOverlay();}function createNetworkErrorOverlay(){const _0x1f2215=a20_0x1d6e;if(document[_0x1f2215(0x8b)]('network-error-overlay'))return;const _0x989064=document[_0x1f2215(0x75)]('div');_0x989064['id']='network-error-overlay',_0x989064['style'][_0x1f2215(0x7c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20rgba(0,\x200,\x200,\x200.85);\x0a\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x209999;\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20backdrop-filter:\x20blur(5px);\x0a\x20\x20\x20\x20';const _0x175d82=document['createElement']('div');_0x175d82['style']['cssText']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#202020;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2030px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20500px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x200\x2020px\x20rgba(0,\x200,\x200,\x200.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20';const _0x290034=document[_0x1f2215(0x75)]('h2');_0x290034['textContent']='Connection\x20Error',_0x290034['style'][_0x1f2215(0x7c)]='color:\x20#ff5555;\x20margin-bottom:\x2020px;\x20font-size:\x2024px;';const _0x526df4=document['createElement']('p');_0x526df4[_0x1f2215(0x81)]='We\x27re\x20having\x20trouble\x20connecting\x20to\x20the\x20server.\x20This\x20may\x20be\x20due\x20to\x20network\x20issues\x20or\x20server\x20maintenance.',_0x526df4[_0x1f2215(0x70)]['cssText']=_0x1f2215(0x74);const _0x4529db=document['createElement']('button');_0x4529db['id']='retry-connection-btn',_0x4529db['textContent']=_0x1f2215(0x9a),_0x4529db[_0x1f2215(0x70)][_0x1f2215(0x7c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#ff5555;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-right:\x2010px;\x0a\x20\x20\x20\x20';const _0x3cf612=document['createElement']('button');_0x3cf612['id']='reload-page-btn',_0x3cf612['textContent']='Reload\x20Page',_0x3cf612[_0x1f2215(0x70)][_0x1f2215(0x7c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#5555ff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#fff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s;\x0a\x20\x20\x20\x20';const _0xe06ec9=document['createElement']('div');_0xe06ec9[_0x1f2215(0x70)][_0x1f2215(0x7c)]='display:\x20flex;\x20justify-content:\x20center;\x20gap:\x2010px;',_0xe06ec9['appendChild'](_0x4529db),_0xe06ec9['appendChild'](_0x3cf612),_0x175d82['appendChild'](_0x290034),_0x175d82['appendChild'](_0x526df4),_0x175d82['appendChild'](_0xe06ec9),_0x989064[_0x1f2215(0x9e)](_0x175d82),document['body'][_0x1f2215(0x9e)](_0x989064),_0x4529db['addEventListener']('click',retryConnection),_0x3cf612[_0x1f2215(0x93)](_0x1f2215(0x97),()=>window['location']['reload']());}function resetIdleTimer(){if(isSessionSuspended)return;clearTimeout(idleTimer),idleTimer=setTimeout(suspendSession,IDLE_TIMEOUT);}function handleNetworkError(){clearTimeout(idleTimer);const _0x42a066=document['getElementById']('network-error-overlay');_0x42a066&&(_0x42a066['style']['display']='flex'),window['RDL_NETWORK_ERROR']=!![],console['log']('Network\x20error\x20detected,\x20showing\x20error\x20overlay'),a20_0x17ff34['suspendAllListeners']();}function retryConnection(){const _0x3ab022=a20_0x1d6e;networkErrorRetryCount++;if(networkErrorRetryCount>MAX_NETWORK_RETRIES){const _0x2fb376=document['querySelector']('#network-error-overlay\x20p');_0x2fb376&&(_0x2fb376['textContent']='Multiple\x20connection\x20attempts\x20failed.\x20Please\x20reload\x20the\x20page\x20or\x20try\x20again\x20later.');const _0x2a6f44=document[_0x3ab022(0x8b)]('retry-connection-btn');_0x2a6f44&&(_0x2a6f44['disabled']=!![],_0x2a6f44['style']['opacity']='0.5',_0x2a6f44['style']['cursor']=_0x3ab022(0x8f));return;}const _0x5e49d8=document[_0x3ab022(0x8b)]('network-error-overlay');_0x5e49d8&&(_0x5e49d8['style']['display']='none');window['RDL_NETWORK_ERROR']=![],resetIdleTimer(),console['log']('Retrying\x20connection...');try{const {rdlFirestore:_0x3c0d6f}=window;if(_0x3c0d6f){const _0x3279c4=_0x3c0d6f[_0x3ab022(0x8e)]('system');_0x3c0d6f['getDocs'](_0x3279c4)['catch'](_0x5a1e67=>{const _0x4ba4eb=_0x3ab022;console['error'](_0x4ba4eb(0x84),_0x5a1e67),handleNetworkError();});}}catch(_0x77ebbb){console['error'](_0x3ab022(0x98),_0x77ebbb),handleNetworkError();}a20_0x17ff34['resumeAllListeners']();}function suspendSession(){const _0x189e26=a20_0x1d6e;isSessionSuspended=!![];const _0x42fa74=document['getElementById']('idle-overlay');_0x42fa74&&(_0x42fa74['style'][_0x189e26(0x96)]='flex'),console['log'](_0x189e26(0x9d)),window['RDL_SESSION_SUSPENDED']=!![],a20_0x17ff34['suspendAllListeners']();}function resumeSession(){const _0x1776e1=a20_0x1d6e;isSessionSuspended=![],window[_0x1776e1(0x99)]=![];const _0x4351df=document['getElementById']('idle-overlay');_0x4351df&&(_0x4351df['style']['display']='none'),console['log'](_0x1776e1(0x7d)),resetIdleTimer(),a20_0x17ff34[_0x1776e1(0x79)](),idleTimer&&Date[_0x1776e1(0x8a)]()-(window[_0x1776e1(0x90)]||0x0)>IDLE_TIMEOUT*0x2&&(console[_0x1776e1(0x7a)]('Session\x20was\x20idle\x20for\x20too\x20long,\x20reloading\x20page'),window['location']['reload']());}function initIdleTimeout(){const _0x205ac2=a20_0x1d6e,_0x2e5546=(function(){let _0x46e49c=!![];return function(_0x2a9db4,_0x2676dd){const _0x380444=_0x46e49c?function(){const _0x1ff45c=a20_0x1d6e;if(_0x2676dd){const _0x25fbc7=_0x2676dd[_0x1ff45c(0x7f)](_0x2a9db4,arguments);return _0x2676dd=null,_0x25fbc7;}}:function(){};return _0x46e49c=![],_0x380444;};}()),_0x5d7733=_0x2e5546(this,function(){const _0x175505=a20_0x1d6e;let _0x567d50;try{const _0x43916b=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x567d50=_0x43916b();}catch(_0x488277){_0x567d50=window;}const _0x2a1c1d=_0x567d50['console']=_0x567d50[_0x175505(0x82)]||{},_0x5ff339=['log','warn',_0x175505(0x7e),'error',_0x175505(0x91),'table','trace'];for(let _0x325fa0=0x0;_0x325fa0<_0x5ff339[_0x175505(0x88)];_0x325fa0++){const _0x398dce=_0x2e5546['constructor']['prototype']['bind'](_0x2e5546),_0x11c01f=_0x5ff339[_0x325fa0],_0x4e26eb=_0x2a1c1d[_0x11c01f]||_0x398dce;_0x398dce[_0x175505(0x71)]=_0x2e5546[_0x175505(0x89)](_0x2e5546),_0x398dce['toString']=_0x4e26eb[_0x175505(0x73)][_0x175505(0x89)](_0x4e26eb),_0x2a1c1d[_0x11c01f]=_0x398dce;}});_0x5d7733(),createIdleOverlay();const _0x4bc890=['mousedown','mousemove',_0x205ac2(0x87),_0x205ac2(0x85),'touchstart',_0x205ac2(0x97)];_0x4bc890[_0x205ac2(0x8c)](_0x205622=>{document['addEventListener'](_0x205622,()=>{window['RDL_LAST_ACTIVITY']=Date['now'](),resetIdleTimer();},!![]);}),window[_0x205ac2(0x93)](_0x205ac2(0x9f),function(_0x3ff254){const _0x2419be=_0x205ac2;_0x3ff254[_0x2419be(0x9f)]&&(_0x3ff254['error']['message']&&_0x3ff254['error'][_0x2419be(0x83)][_0x2419be(0x9b)]('network')||_0x3ff254['error']['code']&&(_0x3ff254['error']['code']===_0x2419be(0x7b)||_0x3ff254['error'][_0x2419be(0x76)]==='resource-exhausted'||_0x3ff254['error'][_0x2419be(0x76)]['includes']('network')))&&(handleNetworkError(),_0x3ff254['preventDefault']());}),resetIdleTimer(),console['log'](_0x205ac2(0x9c),IDLE_TIMEOUT,'ms'),window['suspendSession']=suspendSession,window['resumeSession']=resumeSession,enhanceIdleTimeout(),window[_0x205ac2(0x92)]=function(){const _0x112a71=_0x205ac2;return console['log']('Session\x20suspended:',window[_0x112a71(0x99)]),console['log']('Network\x20error:',window[_0x112a71(0x77)]),console[_0x112a71(0x7a)]('Active\x20listeners:',a20_0x17ff34['activeListeners']['size']),console['log']('Pending\x20operations:',a20_0x17ff34['pendingOperations']['size']),console['log']('Blocked\x20operations:',a20_0x17ff34['blockedOperations']||0x0),{'suspended':window['RDL_SESSION_SUSPENDED'],'networkError':window[_0x112a71(0x77)],'activeListeners':Array['from'](a20_0x17ff34['activeListeners']['keys']()),'pendingOperations':Array['from'](a20_0x17ff34[_0x112a71(0x78)]['keys']()),'blockedCount':a20_0x17ff34['blockedOperations']||0x0};},window['forceIdleTimeout']=function(){const _0x24c7e5=_0x205ac2;console['log'](_0x24c7e5(0x72)),suspendSession();};}export{initIdleTimeout,isSessionSuspended,handleNetworkError};document['readyState']==='loading'?document['addEventListener'](a20_0x41671c(0x80),initIdleTimeout):initIdleTimeout();