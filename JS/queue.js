const a44_0x46a033=a44_0x3faf;(function(_0x3011a5,_0x7d60d0){const _0x18e76e=a44_0x3faf,_0x46a9f4=_0x3011a5();while(!![]){try{const _0x54f446=parseInt(_0x18e76e(0x179))/0x1+parseInt(_0x18e76e(0x16c))/0x2*(-parseInt(_0x18e76e(0x17d))/0x3)+parseInt(_0x18e76e(0x176))/0x4+parseInt(_0x18e76e(0x16d))/0x5*(-parseInt(_0x18e76e(0x17b))/0x6)+parseInt(_0x18e76e(0x16b))/0x7+parseInt(_0x18e76e(0x181))/0x8*(-parseInt(_0x18e76e(0x178))/0x9)+parseInt(_0x18e76e(0x173))/0xa;if(_0x54f446===_0x7d60d0)break;else _0x46a9f4['push'](_0x46a9f4['shift']());}catch(_0x27e5ed){_0x46a9f4['push'](_0x46a9f4['shift']());}}}(a44_0x2421,0xd245e));const a44_0x21b4a4=(function(){let _0x962357=!![];return function(_0x3b1866,_0x25ef21){const _0x44f1a7=_0x962357?function(){const _0xa7ac14=a44_0x3faf;if(_0x25ef21){const _0x29666e=_0x25ef21[_0xa7ac14(0x161)](_0x3b1866,arguments);return _0x25ef21=null,_0x29666e;}}:function(){};return _0x962357=![],_0x44f1a7;};}()),a44_0x20abd5=a44_0x21b4a4(this,function(){const _0x37daf4=a44_0x3faf;return a44_0x20abd5['toString']()['search'](_0x37daf4(0x164))[_0x37daf4(0x18a)]()['constructor'](a44_0x20abd5)['search'](_0x37daf4(0x164));});a44_0x20abd5();const a44_0xaede67=(function(){let _0x4ffa07=!![];return function(_0x5c75f9,_0x2e1072){const _0x546a86=_0x4ffa07?function(){const _0x804430=a44_0x3faf;if(_0x2e1072){const _0x87e0fb=_0x2e1072[_0x804430(0x161)](_0x5c75f9,arguments);return _0x2e1072=null,_0x87e0fb;}}:function(){};return _0x4ffa07=![],_0x546a86;};}()),a44_0x517e85=a44_0xaede67(this,function(){const _0xc34fc1=a44_0x3faf,_0x206eff=function(){const _0xf123fa=a44_0x3faf;let _0x2c02e0;try{_0x2c02e0=Function(_0xf123fa(0x175)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x2a60cf){_0x2c02e0=window;}return _0x2c02e0;},_0x56461b=_0x206eff(),_0xef24b6=_0x56461b[_0xc34fc1(0x171)]=_0x56461b[_0xc34fc1(0x171)]||{},_0x39a15f=[_0xc34fc1(0x15c),_0xc34fc1(0x165),'info',_0xc34fc1(0x177),_0xc34fc1(0x16e),_0xc34fc1(0x186),_0xc34fc1(0x17a)];for(let _0x48804a=0x0;_0x48804a<_0x39a15f[_0xc34fc1(0x172)];_0x48804a++){const _0xb9ce13=a44_0xaede67[_0xc34fc1(0x15b)][_0xc34fc1(0x183)][_0xc34fc1(0x185)](a44_0xaede67),_0x2c3749=_0x39a15f[_0x48804a],_0x609bc=_0xef24b6[_0x2c3749]||_0xb9ce13;_0xb9ce13[_0xc34fc1(0x168)]=a44_0xaede67[_0xc34fc1(0x185)](a44_0xaede67),_0xb9ce13[_0xc34fc1(0x18a)]=_0x609bc[_0xc34fc1(0x18a)]['bind'](_0x609bc),_0xef24b6[_0x2c3749]=_0xb9ce13;}});a44_0x517e85();import{db}from'./firebase-config.js';import{collection,query,where,onSnapshot,updateDoc,doc}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';function a44_0x2421(){const _0x12d5d4=['console','length','3774780XDIudC','Error\x20removing\x20player\x20from\x20queue:','return\x20(function()\x20','2348244uveEmD','error','2826UoKZRH','1644782CVQBVu','trace','1108362GUtnHP','floor','60bQltic','m\x20in\x20queue','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22queue-box\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>Waiting\x20for\x20a\x20game</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22queue-list\x22>\x0a\x20\x20\x20\x20','addEventListener','24912pjHioi','style','prototype','Error\x20in\x20queue\x20listener:','bind','table','forEach','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22queue-time\x22>','data','toString','none','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','constructor','log','queue-container','push','Just\x20now','readyPlayers','apply','lastUpdated','Unknown\x20Player','(((.+)+)+)+$','warn','toDate','display','__proto__','username','isReady','10991225dOccNb','123206qIytpp','30WffpRg','exception','innerHTML','block'];a44_0x2421=function(){return _0x12d5d4;};return a44_0x2421();}const readyPlayersRef=collection(db,'readyPlayers'),activePlayersQuery=query(readyPlayersRef,where('isReady','==',!![]));function updateQueueDisplay(_0x5615e4){const _0x144c4c=a44_0x3faf,_0x482abf=document['getElementById'](_0x144c4c(0x15d));if(!_0x482abf)return;if(_0x5615e4[_0x144c4c(0x172)]===0x0){_0x482abf['style'][_0x144c4c(0x167)]=_0x144c4c(0x159);return;}_0x482abf[_0x144c4c(0x182)][_0x144c4c(0x167)]=_0x144c4c(0x170);let _0x3393a0=_0x144c4c(0x17f);_0x5615e4[_0x144c4c(0x187)](_0x3ea543=>{const _0x24136c=_0x144c4c;_0x3393a0+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-card\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-name\x22>'+(_0x3ea543['username']||_0x24136c(0x163))+_0x24136c(0x188)+formatQueueTime(_0x3ea543[_0x24136c(0x162)])+_0x24136c(0x15a);}),_0x3393a0+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x482abf[_0x144c4c(0x16f)]=_0x3393a0;}function formatQueueTime(_0x439f06){const _0x1d71d5=a44_0x3faf;if(!_0x439f06)return _0x1d71d5(0x15f);const _0xc0b98a=_0x439f06['toDate']?_0x439f06[_0x1d71d5(0x166)]():new Date(_0x439f06),_0x1c00fe=new Date(),_0x266e8d=Math[_0x1d71d5(0x17c)]((_0x1c00fe-_0xc0b98a)/0xea60);if(_0x266e8d<0x1)return _0x1d71d5(0x15f);return _0x266e8d+_0x1d71d5(0x17e);}function a44_0x3faf(_0x208a7a,_0x5a0b77){const _0x3fa2e6=a44_0x2421();return a44_0x3faf=function(_0x517e85,_0xaede67){_0x517e85=_0x517e85-0x159;let _0x4464f0=_0x3fa2e6[_0x517e85];return _0x4464f0;},a44_0x3faf(_0x208a7a,_0x5a0b77);}async function checkQueueTimeout(_0xb40768){const _0x65d0b6=a44_0x3faf;if(!_0xb40768[_0x65d0b6(0x162)])return;const _0xde243c=_0xb40768[_0x65d0b6(0x162)]['toDate']?_0xb40768['lastUpdated']['toDate']():new Date(_0xb40768[_0x65d0b6(0x162)]),_0x505b99=new Date(),_0xce153f=Math[_0x65d0b6(0x17c)]((_0x505b99-_0xde243c)/0xea60);if(_0xce153f>=0x1e)try{const _0x5d769d=doc(db,_0x65d0b6(0x160),_0xb40768['id']);await updateDoc(_0x5d769d,{'isReady':![]});}catch(_0x2a6ddc){console['error'](_0x65d0b6(0x174),_0x2a6ddc);}}const unsubscribe=onSnapshot(readyPlayersRef,_0x80855=>{const _0x4c1a81=[];_0x80855['forEach'](_0x5cc5dc=>{const _0x21afeb=a44_0x3faf,_0x58dc38=_0x5cc5dc[_0x21afeb(0x189)]();if(_0x58dc38[_0x21afeb(0x16a)]===!![]){const _0x2bc694={'id':_0x5cc5dc['id'],'username':_0x58dc38[_0x21afeb(0x169)],'lastUpdated':_0x58dc38[_0x21afeb(0x162)]||new Date()};_0x4c1a81[_0x21afeb(0x15e)](_0x2bc694),checkQueueTimeout(_0x2bc694);}}),updateQueueDisplay(_0x4c1a81);},_0x361e77=>{const _0x319970=a44_0x3faf;console[_0x319970(0x177)](_0x319970(0x184),_0x361e77);});window[a44_0x46a033(0x180)]('unload',()=>{unsubscribe();});