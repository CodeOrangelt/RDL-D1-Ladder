const a50_0x24cba0=(function(){let _0x3a7fba=!![];return function(_0x4c7e38,_0x457fca){const _0x14439a=_0x3a7fba?function(){if(_0x457fca){const _0x3f23de=_0x457fca['apply'](_0x4c7e38,arguments);return _0x457fca=null,_0x3f23de;}}:function(){};return _0x3a7fba=![],_0x14439a;};}()),a50_0x36593a=a50_0x24cba0(this,function(){const _0x51139c=a50_0x56f5;let _0x2419e8;try{const _0x1946fb=Function(_0x51139c(0x159)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x2419e8=_0x1946fb();}catch(_0x21e591){_0x2419e8=window;}const _0x1f5e9c=_0x2419e8[_0x51139c(0x15d)]=_0x2419e8['console']||{},_0x24e850=['log',_0x51139c(0x157),_0x51139c(0x15c),'error','exception','table','trace'];for(let _0x3bf140=0x0;_0x3bf140<_0x24e850['length'];_0x3bf140++){const _0x13df46=a50_0x24cba0[_0x51139c(0x15e)]['prototype']['bind'](a50_0x24cba0),_0x21e140=_0x24e850[_0x3bf140],_0x345da5=_0x1f5e9c[_0x21e140]||_0x13df46;_0x13df46['__proto__']=a50_0x24cba0['bind'](a50_0x24cba0),_0x13df46[_0x51139c(0x15a)]=_0x345da5['toString']['bind'](_0x345da5),_0x1f5e9c[_0x21e140]=_0x13df46;}});function a50_0x56f5(_0x337921,_0x2907c5){const _0x36593a=a50_0x5775();return a50_0x56f5=function(_0x24cba0,_0xd21925){_0x24cba0=_0x24cba0-0x154;let _0x57755e=_0x36593a[_0x24cba0];return _0x57755e;},a50_0x56f5(_0x337921,_0x2907c5);}a50_0x36593a();function a50_0x5775(){const _0x58c5b7=['data','players','username','warn','log','return\x20(function()\x20','toString','Error\x20archiving\x20season:','info','console','constructor','winRate','forEach'];a50_0x5775=function(){return _0x58c5b7;};return a50_0x5775();}import{db}from'./firebase-config.js';import{collection,getDocs,setDoc,doc,query,orderBy}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';async function archiveSeason0(){const _0x3e2ced=a50_0x56f5;try{const _0x132e24=await getDocs(collection(db,_0x3e2ced(0x155)));for(const _0x5330e6 of _0x132e24['docs']){const _0x40befe=_0x5330e6[_0x3e2ced(0x154)]();await setDoc(doc(db,'season0',_0x5330e6['id']),{..._0x40befe,'archivedAt':new Date(),'originalId':_0x5330e6['id']});}return console['log']('Successfully\x20archived\x20players\x20to\x20season0'),!![];}catch(_0x28e7ee){console['error'](_0x3e2ced(0x15b),_0x28e7ee);throw _0x28e7ee;}}async function archiveRecords(){const _0x25218e=a50_0x56f5;try{const _0x46046b=collection(db,'records'),_0x23e66e=query(_0x46046b,orderBy('wins','desc')),_0x1de36e=await getDocs(_0x23e66e),_0x5914a9=[];return _0x1de36e[_0x25218e(0x160)](_0x4e9c18=>{const _0x18a676=_0x25218e,_0x1cd994=_0x4e9c18['data']();_0x5914a9['push']({'username':_0x1cd994[_0x18a676(0x156)],'wins':_0x1cd994['wins']||0x0,'losses':_0x1cd994['losses']||0x0,'winRate':_0x1cd994[_0x18a676(0x15f)]||0x0,'timestamp':new Date()});}),await setDoc(doc(db,'season0records','snapshot'),{'records':_0x5914a9,'archivedAt':new Date()}),console[_0x25218e(0x158)]('Successfully\x20archived\x20records'),!![];}catch(_0xc95594){console['error']('Error\x20archiving\x20records:',_0xc95594);throw _0xc95594;}}export{archiveSeason0,archiveRecords};