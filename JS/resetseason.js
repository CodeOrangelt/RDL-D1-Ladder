const a49_0x3ae901=(function(){let _0x1b3013=!![];return function(_0x26dfc4,_0x267c43){const _0x3e62bd=_0x1b3013?function(){const _0xc095e9=a49_0x3bf0;if(_0x267c43){const _0x3550e0=_0x267c43[_0xc095e9(0x179)](_0x26dfc4,arguments);return _0x267c43=null,_0x3550e0;}}:function(){};return _0x1b3013=![],_0x3e62bd;};}()),a49_0x1948bb=a49_0x3ae901(this,function(){const _0x43c9b6=a49_0x3bf0;let _0x549728;try{const _0xf69fe=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x549728=_0xf69fe();}catch(_0x509d6e){_0x549728=window;}const _0x28fbff=_0x549728['console']=_0x549728['console']||{},_0x37498a=['log','warn','info','error',_0x43c9b6(0x17a),'table','trace'];for(let _0x32235d=0x0;_0x32235d<_0x37498a['length'];_0x32235d++){const _0x47f2e8=a49_0x3ae901[_0x43c9b6(0x170)][_0x43c9b6(0x17b)][_0x43c9b6(0x172)](a49_0x3ae901),_0x2d2ac4=_0x37498a[_0x32235d],_0x24d4d3=_0x28fbff[_0x2d2ac4]||_0x47f2e8;_0x47f2e8['__proto__']=a49_0x3ae901['bind'](a49_0x3ae901),_0x47f2e8[_0x43c9b6(0x178)]=_0x24d4d3['toString'][_0x43c9b6(0x172)](_0x24d4d3),_0x28fbff[_0x2d2ac4]=_0x47f2e8;}});a49_0x1948bb();import{db}from'./firebase-config.js';import{collection,getDocs,setDoc,doc,query,orderBy}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';function a49_0x2d73(){const _0x31fcb0=['desc','season0','constructor','Successfully\x20archived\x20records','bind','losses','data','error','records','docs','toString','apply','exception','prototype'];a49_0x2d73=function(){return _0x31fcb0;};return a49_0x2d73();}async function archiveSeason0(){const _0x116649=a49_0x3bf0;try{const _0x76c867=await getDocs(collection(db,'players'));for(const _0x5364c0 of _0x76c867[_0x116649(0x177)]){const _0x3ad6a2=_0x5364c0[_0x116649(0x174)]();await setDoc(doc(db,_0x116649(0x16f),_0x5364c0['id']),{..._0x3ad6a2,'archivedAt':new Date(),'originalId':_0x5364c0['id']});}return console['log']('Successfully\x20archived\x20players\x20to\x20season0'),!![];}catch(_0x552f80){console[_0x116649(0x175)]('Error\x20archiving\x20season:',_0x552f80);throw _0x552f80;}}function a49_0x3bf0(_0x5ace4e,_0x4f6ff4){const _0x1948bb=a49_0x2d73();return a49_0x3bf0=function(_0x3ae901,_0x25d668){_0x3ae901=_0x3ae901-0x16e;let _0x2d73a5=_0x1948bb[_0x3ae901];return _0x2d73a5;},a49_0x3bf0(_0x5ace4e,_0x4f6ff4);}async function archiveRecords(){const _0x87011f=a49_0x3bf0;try{const _0x475a05=collection(db,_0x87011f(0x176)),_0x64d504=query(_0x475a05,orderBy('wins',_0x87011f(0x16e))),_0x26a140=await getDocs(_0x64d504),_0x1b7674=[];return _0x26a140['forEach'](_0x1e4592=>{const _0x11257b=_0x87011f,_0xb8f257=_0x1e4592[_0x11257b(0x174)]();_0x1b7674['push']({'username':_0xb8f257['username'],'wins':_0xb8f257['wins']||0x0,'losses':_0xb8f257[_0x11257b(0x173)]||0x0,'winRate':_0xb8f257['winRate']||0x0,'timestamp':new Date()});}),await setDoc(doc(db,'season0records','snapshot'),{'records':_0x1b7674,'archivedAt':new Date()}),console['log'](_0x87011f(0x171)),!![];}catch(_0x29596a){console[_0x87011f(0x175)]('Error\x20archiving\x20records:',_0x29596a);throw _0x29596a;}}export{archiveSeason0,archiveRecords};