function a50_0x304b(_0x4856fb,_0x570a63){const _0x657f64=a50_0x4235();return a50_0x304b=function(_0x501e32,_0x292e9b){_0x501e32=_0x501e32-0x1b1;let _0x4235fd=_0x657f64[_0x501e32];return _0x4235fd;},a50_0x304b(_0x4856fb,_0x570a63);}const a50_0x501e32=(function(){let _0x4d8b4=!![];return function(_0xe7e4ac,_0xf25026){const _0x2cf66d=_0x4d8b4?function(){if(_0xf25026){const _0x479ae1=_0xf25026['apply'](_0xe7e4ac,arguments);return _0xf25026=null,_0x479ae1;}}:function(){};return _0x4d8b4=![],_0x2cf66d;};}()),a50_0x657f64=a50_0x501e32(this,function(){const _0x1b5a05=a50_0x304b;let _0x109383;try{const _0x5b164b=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x109383=_0x5b164b();}catch(_0x180e4d){_0x109383=window;}const _0x2beea3=_0x109383['console']=_0x109383['console']||{},_0xa3092e=[_0x1b5a05(0x1b9),'warn',_0x1b5a05(0x1b1),'error',_0x1b5a05(0x1b6),'table','trace'];for(let _0x89e97b=0x0;_0x89e97b<_0xa3092e['length'];_0x89e97b++){const _0x45345a=a50_0x501e32['constructor']['prototype']['bind'](a50_0x501e32),_0x4e7ed8=_0xa3092e[_0x89e97b],_0x42db90=_0x2beea3[_0x4e7ed8]||_0x45345a;_0x45345a['__proto__']=a50_0x501e32['bind'](a50_0x501e32),_0x45345a[_0x1b5a05(0x1b2)]=_0x42db90['toString'][_0x1b5a05(0x1b7)](_0x42db90),_0x2beea3[_0x4e7ed8]=_0x45345a;}});a50_0x657f64();function a50_0x4235(){const _0x2bd9bb=['info','toString','error','docs','forEach','exception','bind','records','log','season0records'];a50_0x4235=function(){return _0x2bd9bb;};return a50_0x4235();}import{db}from'./firebase-config.js';import{collection,getDocs,setDoc,doc,query,orderBy}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';async function archiveSeason0(){const _0x5429c4=a50_0x304b;try{const _0x4cf695=await getDocs(collection(db,'players'));for(const _0x22f792 of _0x4cf695[_0x5429c4(0x1b4)]){const _0xf13a22=_0x22f792['data']();await setDoc(doc(db,'season0',_0x22f792['id']),{..._0xf13a22,'archivedAt':new Date(),'originalId':_0x22f792['id']});}return console[_0x5429c4(0x1b9)]('Successfully\x20archived\x20players\x20to\x20season0'),!![];}catch(_0x53d3e8){console[_0x5429c4(0x1b3)]('Error\x20archiving\x20season:',_0x53d3e8);throw _0x53d3e8;}}async function archiveRecords(){const _0x1887ba=a50_0x304b;try{const _0x24bd3f=collection(db,_0x1887ba(0x1b8)),_0x414d52=query(_0x24bd3f,orderBy('wins','desc')),_0x37285c=await getDocs(_0x414d52),_0x230b94=[];return _0x37285c[_0x1887ba(0x1b5)](_0x1cdb9d=>{const _0x5c81c9=_0x1cdb9d['data']();_0x230b94['push']({'username':_0x5c81c9['username'],'wins':_0x5c81c9['wins']||0x0,'losses':_0x5c81c9['losses']||0x0,'winRate':_0x5c81c9['winRate']||0x0,'timestamp':new Date()});}),await setDoc(doc(db,_0x1887ba(0x1ba),'snapshot'),{'records':_0x230b94,'archivedAt':new Date()}),console['log']('Successfully\x20archived\x20records'),!![];}catch(_0x26389c){console['error']('Error\x20archiving\x20records:',_0x26389c);throw _0x26389c;}}export{archiveSeason0,archiveRecords};