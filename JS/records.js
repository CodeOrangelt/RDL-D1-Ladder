const a46A=a46b;function a46b(a,b){const c=a46a();return a46b=function(d,e){d=d-0x106;let f=c[d];if(a46b['NqXjFo']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a46b['eTXsPq']=g,a=arguments,a46b['NqXjFo']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a46b['eTXsPq'](f),a[i]=f):f=j,f;},a46b(a,b);}(function(a,b){const z=a46b,c=a();while(!![]){try{const d=-parseInt(z(0x106))/0x1*(-parseInt(z(0x131))/0x2)+-parseInt(z(0x121))/0x3*(-parseInt(z(0x18c))/0x4)+parseInt(z(0x191))/0x5+parseInt(z(0x16e))/0x6+-parseInt(z(0x136))/0x7*(parseInt(z(0x10b))/0x8)+parseInt(z(0x175))/0x9+-parseInt(z(0x157))/0xa;if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a46a,0x91c1d));import{collection,getDocs,query,orderBy,limit,where,startAfter}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db}from'./firebase-config.js';function a46a(){const aa=['CgXHEwvY','yxbWzw5Kq2HPBgq','pc9ZCgfUpGOGicaGicaGicaGicaGicaGicaGicaGica8C3bHBIbJBgfZCZ0ICgXHEwvYlwvSBYi+','8j+uHcbmB2fKAw5Nig1HCcbZDgf0CYbMB3iG','Bg9Zzxjty29Yzq','lNrPzxiTCgXHEwvYCW','BwLU','ig1HDgnOzxm','4P2mievYCM9YigXVywrPBMCG','ihbSyxLLCNmSia','zgvMyxvSDa','BM9Uzq','C2v0','cIaGicaGicaGicaGicaGica8zgL2ignSyxnZpsjTyxaTC3rHDc1PDgvTiIb0AxrSzt0I','ywXS','y2XPy2S','pc9ZCgfUpGOGicaGicaGicaGicaGicaGicaGicaGica8C3bHBIbJBgfZCZ0ICgXHEwvYlwjHzgDLiJ5czxn0ia','yMvZDc13Aw5YyxrL','zwXV','CgXHEwvYCW','ndGZm1rqBgLTzq','ihvUAxf1zsbTyxbZpc9WpGOGicaGicaGicaGica8l2rPDJ4kicaGicaGicaGicaGpgrPDIbJBgfZCZ0IBwfWlxn0yxrZlwXPC3qIpGOGicaGicaGia','BMf2lxbSywnLAg9SzgvY','DhjPBq','zgf0yq','mJC2ohvUAwTmCG','C2L6zq','Cg9ZAxrPB24','yNv0Dg9U','z2v0','8j+tIIbgB3vUzca','8j+tIIbdB21WBgv0zsbKyxrHC2v0oIa','CMvQzwn0','ChvZAa','y2XVBMvoB2rL','DMfSDwu','ihjLy29YzhmGzgf0yq','D2LUCW','jtWVzgL2pGOGicaGicaGicaGica8zgL2ignSyxnZpsjYzwnVCMqTzgv0ywLSiJ4','zw1LCMfSza','8j+AGcbvBhrYys1VChrPBwL6zwqGCMvJB3jKCY5QCYbSB2fKzwqH','BwvZC2fNzq','CgXHEwvYu25HChnOB3qGBM90ihbYB3zPzgvKihrVihvWzgf0zvrVCfbSyxLLCNncEvrPzxi','ihjLy29YzhmUlI4','rwXLBwvUDcb3AxrOieLeici','DgHLBG','pgrPDIbJBgfZCZ0IBg9HzgLUzY1TC2CIpKXVywrPBMCGCgXHEwvYCY4UlJWVzgL2pG','ntCZoxnLDMT0sW','ywrKrxzLBNrmAxn0zw5LCG','ig1HDgnOzxmGD2L0AcbTyxaGzgf0ysbVDxqGB2yG','CgXHEwvYC0qY','lNrVz2DSzs1IDg4','cIaGicaGicaGicaGidXKAxyGy2XHC3m9iNbSyxLLCI1Uyw1LiJ4','ihn1AwnPzgvZigLUia','CMvWBgfJzunOAwXK','Bgv2zwW','D2fYBG','ywn0AxzL','CMvKDwnL','Dg9WugXHEwvY','Bg9N','Dg90ywWTBwf0y2HLCW','z2v0rwXLBwvUDej5swq','mZiYufj0q2jU','AxnmB2fKAw5Ntw9Yzq','C2nVCMveAwzMzxjLBNrPywW','CMvJB3jKCY1ZDgf0CW','BM93','mtyZntjWC0zQrfm','Dg9vChbLCKnHC2u','zw50CMLLCW','jsi+pc9KAxy+cIaGicaGicaGicaGicaGicaGicaGicaGidXZCgfUignSyxnZpsjTyxaTCgvYy2vUDgfNzsi+','zNjVBq','Dgv4Da','zgL2','ig1HDgnOzxm8l3a+cIaGicaGicaGicaGicaGicaGicaGicaGidXWignSyxnZpsjLCNjVCI1TzxnZywDLiJ5dAgvJAYbJB25ZB2XLigzVCIbTyxrJAcbZDhj1y3r1CMuGzgvIDwCGAw5MBZWVCd4kicaGicaGicaGicaGicaGicaGica8l2rPDJ4kicaGicaGicaGicaGicaGia','DgLTzxn0yw1W','yxbWCM92zwrnyxrJAgvZrdi','BwfWu3rHDhndAgfYDa','D2LUuMf0zq','pc9WpGOGicaGicaGicaGicaGicaGpc9KAxy+cIaGicaGicaGicaGia','cIaGicaGicaGicaGicaGicaGicaGpgrPDIbJBgfZCZ0IBwfWlxn0yxrZlwHLywrLCIi+cIaGicaGicaGicaGicaGicaGicaGicaGidXOmZ5nB3n0ifbSyxLLzcbnyxbZic0G','y2XHC3noyw1L','zM9YrwfJAa','Bg9ZzxjvC2vYBMfTzq','tMf2igzLDgnOigzHAwXLza','Dg90ywXnyxrJAgvZ','Bg9ZC2vZ','C3r5Bgu','y3vYCMvUDeDHBwvnB2rL','pc9ZCgfUpGOGicaGicaGicaGicaGicaGicaGicaGica8C3bHBIbJBgfZCZ0IBwfWlwnVDw50iJ4','rxjYB3iGBg9HzgLUzYbJB21WBgv0zsbKyxrHic0Gq2XPy2SGDg8GCMv0CNK','zgf0ys1Nyw1L','C2XPy2u','D2LUBMvYvxnLCM5HBwu','CgXHEwvYu3rHDhm','Dgv4DenVBNrLBNq','zwXVuMf0Aw5N','CgfYzw50rwXLBwvUDa','zMLYC3rdAgLSza','lI4Vsfrntc9MB290zxiUAhrTBa','mJi0mZaXmJbizeTttvu','CMvTB3zL','4PYfifjLy29YzhmGBg9HzgvKihn1y2nLC3nMDwXSEse','Aw5Uzxjive1m','Dg9ju09tDhjPBMC','zgLZCgXHEq','pc9KAxy+cIaGicaGicaGicaGidXKAxyGy2XHC3m9iNjLy29Yzc1ZDgf0iJ4','Bwf0y2HtBMfWC2HVDa','C29YDa','y2HHCKf0','pc9ZCgfUpGOGicaGicaGicaGica8C3bHBIbJBgfZCZ0ICMvJB3jKlxn0yxqIpIG','ig1HDgnOzxmGD2L0AcbTyxaGzgf0ysdIGkiG','8j+tIIbqCM9JzxnZAw5Nig1HCcbZDgf0CYbMCM9Tia','zgLZywjSzwq','ig1HDgnOzxm8l2rPDJ4kicaGicaGica','lI4U','8j+tIIbuAgLZihbHz2uGBM93ihvZzxmGFJuWihjLywrZigLUC3rLywqGB2yGmtaWmcSH','C3vPy2LKzvjHDgu','pgrPDIbJBgfZCZ0IBg9HzgLUzY1TC2CIpK5VihbSyxLLCNmGAw4GDgHPCYb0AwvYpc9KAxy+','Bg9ZzxjtDwLJAwrLCW','rMLYC3qGBwf0y2GGzgf0ytO','rxjYB3i','ywrK','mJK0nJKXmLnhCKzQzW','cIaGicaUBg9Hzc1TB3jLlwj0BIb7cIaGicaGicaGyMfJA2DYB3vUzdOGBgLUzwfYlwDYywrPzw50kdeZnwrLzYWGiZy3m2fInYWGiZLJmJDImcK7cIaGicaGicaGy29SB3i6ihDOAxrLoWOGicaGicaGigjVCMrLCJOGBM9UztSkicaGicaGicbWywrKAw5NoIaXnxb4idi1ChG7cIaGicaGicaGyM9YzgvYlxjHzgL1CZOGohb4oWOGicaGicaGign1CNnVCJOGCg9PBNrLCJSkicaGicaGicbTyxjNAw46idiWChGGyxv0BZSkicaGicaGicbKAxnWBgf5oIbIBg9JAZSkicaGicaGicbMB250lxnPEMu6ide2ChG7cIaGicaGicaGzM9UDc13zwLNAhq6idyWmdSkicaGicaGicb0CMfUC2L0Aw9UoIbHBgWGmc4ZCYbLyxnLoWOGicaGicaGigjVEc1ZAgfKB3C6idaGnhb4ideYChGGCMDIysGXmdmSidu4lcaXodmSidaUmYK7cIaGicb9cIaGicakicaGic5SB2fKlw1VCMuTyNrUoMHVDMvYoM5VDcG6zgLZywjSzwqPihSkicaGicaGicb0CMfUC2zVCM06ihrYyw5ZBgf0zvKOltjWEcK7cIaGicaGicaGyM94lxnOywrVDZOGmca2ChGGmtzWEcbYz2jHkdeWmYWGntGSide4mYWGmc40ktSkicaGih0kicaGiaOGicaGlMXVywqTBw9Yzs1IDg46zgLZywjSzwqGEWOGicaGicaGig9WywnPDhK6idaUnZSkicaGicaGicbJDxjZB3i6ig5VDc1HBgXVD2vKoWOGicaGFqOGicaGcIaGicaUBg9Hzc1TB3jLlwj0BIbZBwfSBcb7cIaGicaGicaGzgLZCgXHEtOGyMXVy2S7cIaGicaGicaGzM9UDc1ZAxPLoIaXmNb4oWOGicaGicaGig1HCMDPBI10B3a6idvWEdSkicaGicaGicbVCgfJAxr5oIaWlJK7cIaGicb9cIaGicakicaGic5Wyxj0AwfSlwrHDgeTAw5KAwnHDg9YihSkicaGicaGicbIywnRz3jVDw5KoIbYz2jHkdi1nsWGmtKZlca3lcaWlJePoWOGicaGicaGigjVCMrLCJOGmxb4ihnVBgLKihjNyMeOmJu1lcaXotmSidCSidaUmYK7cIaGicaGicaGy29SB3i6icnMzMmXmdC7cIaGicaGicaGCgfKzgLUzZOGmtbWEcaXnxb4oWOGicaGicaGigjVCMrLCI1YywrPDxm6idzWEdSkicaGicaGicbTyxjNAw4TyM90Dg9ToIaYmhb4oWOGicaGicaGigzVBNqTC2L6ztOGmtrWEdSkicaGicaGicbKAxnWBgf5oIbMBgv4oWOGicaGicaGigfSAwDUlwL0zw1ZoIbJzw50zxi7cIaGicaGicaGz2fWoIa4ChG7cIaGicb9cIaGicakicaGic5Wyxj0AwfSlwrHDgeTAw5KAwnHDg9YigKGEWOGicaGicaGignVBg9YoIaJzMzJmta3oWOGicaGFqOGicaGcIaGicaVkIbfBMHHBMnLzcbnyxaGu3rHDhmGu3r5BgLUzYaQlWOGicaGlM1HCc1ZDgf0CY1OzwfKzxiGEWOGicaGicaGig1HCMDPBI1IB3r0B206idiWChG7cIaGicaGicaGDgv4Dc1HBgLNBJOGy2vUDgvYoWOGicaGFqOGicaGcIaGicaUBwfWlxn0yxrZlwHLywrLCIbOmYb7cIaGicaGicaGy29SB3i6icmZmZm7cIaGicaGicaGBwfYz2LUlwjVDhrVBtOGohb4oWOGicaGicaGigzVBNqTC2L6ztOGms40zw07cIaGicb9cIaGicakicaGic5TyxaTC3rHDhmTAgvHzgvYic50B3rHBc1TyxrJAgvZihSkicaGicaGicbJB2XVCJOGiZy2nJSkicaGicaGicbMB250lxnPEMu6idaUowvToWOGicaGicaGig1HCMDPBJOGmdSkicaGih0kicaGiaOGicaGlM1HCc1ZDgf0CY1SAxn0ihSkicaGicaGicbKAxnWBgf5oIbMBgv4oWOGicaGicaGigzSzxGTzgLYzwn0Aw9UoIbJB2X1Bw47cIaGicaGicaGz2fWoIaXmNb4oWOGicaGFqOGicaGcIaGicaUBwfWlxn0yxqTAxrLBsb7cIaGicaGicaGyMfJA2DYB3vUzdOGCMDIysGYntuSidi1nsWGmJu1lcaWlJGPoWOGicaGicaGigjVCMrLCJOGmxb4ihnVBgLKihjNyMeOmcWGmcWGmcWGmc4XktSkicaGicaGicbIB3jKzxiTCMfKAxvZoIa4ChG7cIaGicaGicaGCgfKzgLUzZOGmtjWEdSkicaGicaGicb0CMfUC2L0Aw9UoIbHBgWGmc4YCYbLyxnLoWOGicaGicaGign1CNnVCJOGCg9PBNrLCJSkicaGih0kicaGiaOGicaGlM1HCc1ZDgf0lwL0zw06Ag92zxiGEWOGicaGicaGigjHy2TNCM91BMq6ihjNyMeOmJu1lcaYntuSidi1nsWGmc45nsK7cIaGicaGicaGDhjHBNnMB3jToIb0CMfUC2XHDgvzkc0XChGPoWOGicaGicaGigjVEc1ZAgfKB3C6idaGnhb4ideYChGGCMDIysGWlcaWlcaWlcaWlJePoWOGicaGFqOGicaGcIaGicaUBwfWlwLUzM8GEWOGicaGicaGigrPC3bSyxK6igzSzxG7cIaGicaGicaGANvZDgLMEs1JB250zw50oIbZCgfJzs1Izxr3zwvUoWOGicaGicaGigfSAwDUlwL0zw1ZoIbJzw50zxi7cIaGicaGicaGBwfYz2LUlwjVDhrVBtOGohb4oWOGicaGFqOGicaGcIaGicaUBwfWlxjHBMSGEWOGicaGicaGigzVBNqTD2vPz2H0oIbIB2XKoWOGicaGicaGignVBg9YoIaJnJCZywi3oWOGicaGicaGig1PBI13Awr0AdOGmZbWEdSkicaGih0kicaGiaOGicaGlM1HCc1Uyw1LihSkicaGicaGicbMB250lxDLAwDODdOGnJaWoWOGicaGicaGignVBg9YoIaJmZmZoWOGicaGicaGigzSzxG6ide7cIaGicaGicaGBwfYz2LUlwXLzNq6ideYChG7cIaGicb9cIaGicakicaGic5TyxaTy291BNqGEWOGicaGicaGignVBg9YoIaJnJy2oWOGicaGicaGigzVBNqTC2L6ztOGmc45zw07cIaGicb9cIaGicakicaGic5TyxaTyMfYlwnVBNrHAw5LCIb7cIaGicaGicaGzgLZCgXHEtOGzMXLEdSkicaGicaGicbHBgLNBI1PDgvTCZOGy2vUDgvYoWOGicaGicaGigDHCdOGmtbWEdSkicaGih0kicaGiaOGicaGlM1HCc1IyxiGEWOGicaGicaGigzSzxG6ide7cIaGicaGicaGAgvPz2H0oIa2ChG7cIaGicaGicaGyMfJA2DYB3vUzdOGBgLUzwfYlwDYywrPzw50kdKWzgvNlcaJnJCZywi3lcaJowmYn2iWktSkicaGicaGicbIB3jKzxiTCMfKAxvZoIaZChG7cIaGicaGicaGDhjHBNnPDgLVBJOGD2LKDgGGmc4ZCYbLyxnLoWOGicaGFqOGicaGcIaGicaUBwfWlxbLCMnLBNrHz2uGEWOGicaGicaGigzVBNqTC2L6ztOGmc44zw07cIaGicaGicaGy29SB3i6icm2nJy7cIaGicaGicaGBwLUlxDPzhrOoIaZnxb4oWOGicaGicaGihrLEhqTywXPz246ihjPz2H0oWOGicaGFqOGicaGcIaGicaUBwfWlxn0yxrZlwzVB3rLCIb7cIaGicaGicaGBwfYz2LUlxrVCdOGmtvWEdSkicaGicaGicb0zxH0lwfSAwDUoIbJzw50zxi7cIaGicaGicaGCgfKzgLUzY10B3a6ide1ChG7cIaGicaGicaGyM9YzgvYlxrVCdOGmxb4ihnVBgLKihjNyMeOmcWGmcWGmcWGmc4XktSkicaGih0kicaGiaOGicaGlNjLBwfPBMLUzY1TyxbZihSkicaGicaGicbJB2XVCJOGiZy2nJSkicaGicaGicbMB250lxnPEMu6idaUowvToWOGicaGicaGig1HCMDPBJOGmdSkicaGicaGicbMB250lxn0EwXLoIbPDgfSAwm7cIaGicb9cIaGicakicaGic5LCNjVCI1TzxnZywDLihSkicaGicaGicbJB2XVCJOGi2rJmZu0ntSkicaGicaGicbMB250lxn0EwXLoIbPDgfSAwm7cIaGicaGicaGDgv4Dc1HBgLNBJOGy2vUDgvYoWOGicaGicaGihbHzgrPBMC6idiWChG7cIaGicb9cG','zxjYB3i','8j+uHcbgzxrJAgLUzYbTyxrJAgvZigzVCIbTyxaGC3rHDhmGkhnLCgfYyxrLihf1zxj5ks4UlG','cIaGicaGicaGicaGidXPignSyxnZpsjMyxmGzMeTAw5MBY1JAxjJBguIpJWVAt4kicaGicaGicaGicaGu2HVD2LUzYbYzxn1BhrZigzYB20GDg9Wia','yNjVBNPL','ihbSyxLLCNmGzNjVBsbVChrPBwL6zwqGzgf0yxnLDa','mta3mJyWndDcwwDUC3G','A2rsyxrPBW','BgvUz3rO','pc9KAxy+','lM1HCc1ZDgf0CY1JB250ywLUzxi','DxnLCM5HBwu','D2LUBMvYu3vPy2LKzxm','C2LSDMvY','BwfWugXHEwvK','lxbSyxLLCNm','BwfW','DMfSDwvZ','lNjLy29Yzc12ywX1zq','rxjYB3iGBg9HzgLUzYbUyxyGB3iGzM9VDgvYoG','lMnOyxj0lwnVBNrHAw5LCG','ig1HDgnOzxm8l3nWyw4+cIaGicaGicaGicaGicaGicaGicaGpc9KAxy+cIaGicaGicaGicaGicaGicaGicaGpgrPDIbJBgfZCZ0IBwfWlwjHCI1JB250ywLUzxiIpGOGicaGicaGicaGicaGicaGicaGicaGica8zgL2ignSyxnZpsjTyxaTyMfYiIbZDhLSzt0ID2LKDgG6ia','4PYfienVBxbSzxrLigrHDgfZzxqGBg9HzgvKihn1y2nLC3nMDwXSEse','tM8Gzgf0ysbHDMfPBgfIBgu','CxvLCNLtzwXLy3rVCKfSBa','CxvLCNLtzwXLy3rVCG','igfUzca','Dg90ywXlAwXSCW','CM91BMq','nZCYy0TvCxzm','Dg9gAxHLza','lNjLy29Yzhm','Bw9ZDc1SB3nZzxm','Bw9ZDc1TyxrJAgvZ','nda5mde2meXjyuD4vG','jtWVC3bHBJ4kicaGicaGicaGicaGicaGicaGica8l2rPDJ4kicaGicaGicaGicaGicaGidWVzgL2pGOGicaGicaGicaGica','Dg90ywXtDwLJAwrLCW','y3jLyxrLrwXLBwvUDa','ihbSyxLLCNmGyw5KihjLy2vUDca','A2v5CW','y2XHC3nmAxn0','ihrVDgfSig1HDgnOzxmkicaGicaGicaGicaGicaGicaGica8l3a+cIaGicaGicaGicaGicaGica8l2rPDJ4kicaGicaGicaGicaG','CgXHEwvYu25HChnOB3q','Bg9Hzc1TB3jLlwj0BG','tI9b','Bw9ZDc1RAwXSCW','pgKGy2XHC3m9iMzHCYbMys1ZCgLUBMvYigzHlxnWAw4IpJWVAt4Gtg9HzgLUzYbJB21WBgv0zsbKyxrHC2v0lI4U','lNjLy29YzhmTz3jPza','AgfZ','4PYfifvZAw5NignHy2HLzca','BgfZDc11CgrHDgvK','y2fJAgu','zg9JCW','re9nq29UDgvUDeXVywrLza','D2LUBMvYu2nVCMu','4PYfifvZAw5NignHy2HLzcbTyxrJAcbKyxrHigzVCIbTyxaGC3rHDhmGkgzYB20GBg9HzfjLy29YzhmP','igLUia','ig1HDgnOzxmGka','ktWVC3bHBJ4','BgvHC3qTC3vPy2LKzxm','zMLSDgvY'];a46a=function(){return aa;};return a46a();}const MIN_MATCHES_REQUIREMENT=0xa,CACHE_DURATION_MS=0x1e*0x3c*0x3e8,MAX_PLAYERS_PER_BATCH=0x32,MAX_MATCHES_PER_BATCH=0x64,state={'currentGameMode':'D1','cache':{'D1':{'playerStats':null,'playerSnapshot':null,'matchSnapshot':null,'timestamp':0x0,'fullDataLoaded':![]},'D2':{'playerStats':null,'playerSnapshot':null,'matchSnapshot':null,'timestamp':0x0,'fullDataLoaded':![]}},'isLoadingMore':![]};let mapChart=null;console['log'](a46A(0x11a)),console['log'](a46A(0x167));function getPlayerTier(a){const B=a46A;if(a===undefined||a===null)return B(0x1b6);const b=Number(a);if(isNaN(b))return B(0x1b6);if(b>=0x7d0)return B(0x119);if(b>=0x708)return'gold';if(b>=0x640)return B(0x17c);if(b>=0x578)return B(0x173);return B(0x1b6);}function updateRecordCard(a,b,c='',d=![]){const C=a46A,e=document['getElementById'](a);if(!e){console[C(0x12a)](C(0x11e)+a+'\x22\x20not\x20found.');return;}const f=getPlayerTier(b['elo']);let g=b[C(0x115)];d&&b['value']>0x0&&(g='+'+b[C(0x115)]),e[C(0x15a)]='<span\x20class=\x22player-name\x20'+f+'-rank\x22>'+b[C(0x17a)]+'</span>\x20<span\x20class=\x22record-stat\x22>('+g+c+C(0x1a9);}async function loadRecords(){const D=a46A;try{console['log']('üîÑ\x20Loading\x20'+state['currentGameMode']+D(0x11d)),document[D(0x187)]('.record-value')[D(0x145)](k=>k[D(0x152)]='Loading...'),document['querySelectorAll'](D(0x1b1))[D(0x145)](k=>k[D(0x15a)]=D(0x120));const a=state[D(0x14b)],b=a==='D1'?'players':D(0x124),c=a==='D1'?'approvedMatches':'approvedMatchesD2',d=Date['now'](),e=state[D(0x1a2)][a];if(e[D(0x151)]&&e['playerSnapshot']&&d-e['timestamp']<CACHE_DURATION_MS){console['log'](D(0x1a0)+a+D(0x116)),updateRecordDisplay(e[D(0x151)]),await updateTopPlayersByTier(e['playerSnapshot']),updateSummaryStats(e[D(0x199)]);return;}console[D(0x12e)]('üì•\x20Fetching\x20ALL\x20data\x20from\x20'+b+D(0x189)+c+D(0x166));const f=collection(db,b),g=collection(db,c),[h,i]=await Promise['all']([getDocs(f),getDocs(g)]);console[D(0x12e)]('üìä\x20Loaded:\x20'+h['size']+D(0x1b5)+i['size']+'\x20matches');const j=await calculateOptimizedStats(h,i,a);console['log']('üìä\x20Calculated\x20stats\x20for\x20'+j[D(0x10c)]+'\x20players'),state['cache'][a]={'playerStats':j,'playerSnapshot':h,'matchSnapshot':i,'timestamp':d,'fullDataLoaded':!![]},updateRecordDisplay(j),await updateTopPlayersByTier(h),updateSummaryStats(h),console['log'](D(0x159));}catch(k){console[D(0x170)]('‚ùå\x20Error\x20loading\x20'+state[D(0x14b)]+'\x20records:',k),document['querySelectorAll'](D(0x181))[D(0x145)](l=>l['textContent']=D(0x16c)),document[D(0x187)]('.tier-players')[D(0x145)](l=>{l['innerHTML']='<div\x20class=\x22loading-msg\x22>Error\x20loading\x20data</div>';});}}async function calculateOptimizedStats(a,b,c){const F=a46A,d=new Map(),e=new Map();return b['forEach'](f=>{const E=a46b,g=f['data']();if(!g['winnerUsername']||!g[E(0x146)])return;!e[E(0x19f)](g[E(0x150)])&&e[E(0x1b8)](g['winnerUsername'],{'wins':[],'losses':[]}),!e['has'](g['loserUsername'])&&e['set'](g[E(0x146)],{'wins':[],'losses':[]}),e['get'](g[E(0x150)])['wins'][E(0x113)](g),e['get'](g[E(0x146)])['losses'][E(0x113)](g);}),a[F(0x145)](f=>{const G=F,g=f['data'](),h=g['username'];if(!h)return;const i=e[G(0x10f)](h)||{'wins':[],'losses':[]},j=i['wins'][G(0x177)],k=i['losses'][G(0x177)],l=j+k;let m=0x0,n=0x0,o=0x0,p=0x0;i[G(0x117)]['forEach'](s=>{const H=G,t=parseInt(s[H(0x1a5)])||0x0,u=parseInt(s['loserScore'])||0x0;m+=t,n+=u,o+=parseInt(s['winnerSuicides'])||0x0,p+=t-u;}),i['losses']['forEach'](s=>{const I=G,t=parseInt(s['winnerScore'])||0x0,u=parseInt(s[I(0x1b0)])||0x0;m+=u,n+=t,o+=parseInt(s[I(0x16a)])||0x0,p-=t-u;});const q=n>0x0?parseFloat((m/n)[G(0x18d)](0x2)):m,r=l>0x0?parseFloat((j/l*0x64)[G(0x18d)](0x1)):0x0;d[G(0x1b8)](h,{'wins':j,'losses':k,'totalMatches':l,'kdRatio':q,'winRate':r,'totalKills':m,'totalDeaths':n,'totalSuicides':o,'scoreDifferential':p,'eloRating':g[G(0x153)]||0x4b0,'position':g['position'],'isPartialData':!![]});}),console['log']('üìä\x20Calculated\x20stats\x20for\x20'+d[F(0x10c)]+F(0x174)),d;}function addLoadMoreOption(a){const J=a46A,b=state[J(0x1a2)][a];if(b['fullDataLoaded'])return;const c=document['querySelector']('.records-grid')||document[J(0x188)]('.records');if(c&&!document[J(0x130)]('load-more-btn')){const d=document[J(0x194)](J(0x10e));d['id']='load-more-btn',d['className']=J(0x19a),d['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Load\x20Complete\x20Dataset\x20(All\x20Players\x20&\x20Matches)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small>May\x20take\x20longer\x20but\x20shows\x20complete\x20statistics</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',d[J(0x122)]('click',()=>loadCompleteDataset(a)),c[J(0x1ad)](d);}}async function loadCompleteDataset(a){const K=a46A;if(state['isLoadingMore'])return;state['isLoadingMore']=!![];const b=document['getElementById'](K(0x19a));b&&(b['innerHTML']=K(0x19d),b[K(0x164)]=!![]);try{console['log']('üîÑ\x20Loading\x20COMPLETE\x20dataset\x20(this\x20will\x20use\x20more\x20reads)...');const c=a==='D1'?'players':K(0x124),d=a==='D1'?'approvedMatches':'approvedMatchesD2',e=collection(db,c),f=collection(db,d),[g,h]=await Promise[K(0x1ba)]([getDocs(e),getDocs(f)]);console['log'](K(0x111)+g[K(0x10c)]+'\x20players,\x20'+h[K(0x10c)]+K(0x1b3));const i=await calculateCompleteStats(g,h);state['cache'][a]={'playerStats':i,'playerSnapshot':g,'matchSnapshot':h,'timestamp':Date['now'](),'fullDataLoaded':!![]},updateRecordDisplay(i),await updateTopPlayersByTier(g),updateSummaryStats(g),b&&b[K(0x158)](),console['log'](K(0x185));}catch(j){console['error']('Error\x20loading\x20complete\x20dataset:',j),b&&(b[K(0x15a)]=K(0x14d),b['disabled']=![]);}finally{state[K(0x132)]=![];}}async function calculateCompleteStats(a,b){const L=a46A,c=new Map(),d=new Map();return b[L(0x145)](e=>{const M=L,f=e['data']();if(!f['winnerUsername']||!f[M(0x146)])return;!d['has'](f[M(0x150)])&&d['set'](f[M(0x150)],{'wins':[],'losses':[]}),!d[M(0x19f)](f['loserUsername'])&&d[M(0x1b8)](f[M(0x146)],{'wins':[],'losses':[]}),d[M(0x10f)](f[M(0x150)])['wins']['push'](f),d['get'](f[M(0x146)])[M(0x149)][M(0x113)](f);}),a['forEach'](e=>{const N=L,f=e['data'](),g=f[N(0x17a)];if(!g)return;const h=d['get'](g)||{'wins':[],'losses':[]},i=h['wins'][N(0x177)],j=h[N(0x149)]['length'],k=i+j;let l=0x0,m=0x0,n=0x0,o=0x0;h['wins'][N(0x145)](r=>{const O=N,s=parseInt(r['winnerScore'])||0x0,t=parseInt(r[O(0x1b0)])||0x0;l+=s,m+=t,n+=parseInt(r[O(0x17b)])||0x0,o+=s-t;}),h[N(0x149)]['forEach'](r=>{const P=N,s=parseInt(r['winnerScore'])||0x0,t=parseInt(r['loserScore'])||0x0;l+=t,m+=s,n+=parseInt(r[P(0x16a)])||0x0,o-=s-t;});const p=m>0x0?parseFloat((l/m)['toFixed'](0x2)):l,q=k>0x0?parseFloat((i/k*0x64)['toFixed'](0x1)):0x0;c['set'](g,{'wins':i,'losses':j,'totalMatches':k,'kdRatio':p,'winRate':q,'totalKills':l,'totalDeaths':m,'totalSuicides':n,'scoreDifferential':o,'eloRating':f['eloRating']||0x4b0,'position':f['position'],'isPartialData':![]});}),c;}function updateRecordDisplay(a){const Q=a46A;if(!a||a['size']===0x0){console['warn']('No\x20player\x20stats\x20available\x20to\x20display\x20records.'),document[Q(0x187)](Q(0x181))['forEach'](n=>n['textContent']=Q(0x19b));return;}let b={'username':'N/A','value':0x0,'elo':0x0},c={'username':Q(0x19b),'value':0x0,'elo':0x0},d={'username':'N/A','value':0x0,'elo':0x0},e={'username':'N/A','value':0x0,'elo':0x0},f={'username':Q(0x19b),'value':-Infinity,'elo':0x0},g={'username':Q(0x19b),'value':0x0,'elo':0x0},h=null,i=Infinity,j={'username':Q(0x19b),'value':0x0,'elo':0x0},k={'username':Q(0x19b),'value':0x0,'elo':0x0};for(const [n,o]of a){const p=o[Q(0x153)]||0x0;if(o['wins']>b[Q(0x115)])b={'username':n,'value':o[Q(0x117)],'elo':p};if(o[Q(0x148)]>=MIN_MATCHES_REQUIREMENT&&o['winRate']>c['value'])c={'username':n,'value':o['winRate'],'elo':p};if(o[Q(0x148)]>=MIN_MATCHES_REQUIREMENT&&o[Q(0x176)]>d[Q(0x115)])d={'username':n,'value':o[Q(0x176)],'elo':p};if(o[Q(0x148)]>e['value'])e={'username':n,'value':o[Q(0x148)],'elo':p};if(o['totalMatches']>=MIN_MATCHES_REQUIREMENT&&o['scoreDifferential']>f[Q(0x115)])f={'username':n,'value':o[Q(0x133)],'elo':p};if(o['losses']>g['value'])g={'username':n,'value':o['losses'],'elo':p};if(o['totalMatches']>=MIN_MATCHES_REQUIREMENT&&o['totalSuicides']>=0x0){const q=o['totalSuicides']/o[Q(0x148)]*0x64;q<i&&(i=q,h={'username':n,'suicideRate':q,'totalSuicides':o[Q(0x193)],'totalMatches':o[Q(0x148)],'elo':p});}if(o[Q(0x18a)]>j[Q(0x115)])j={'username':n,'value':o['totalKills'],'elo':p};if(o[Q(0x153)]>k[Q(0x115)])k={'username':n,'value':Math[Q(0x18b)](o['eloRating']),'elo':p};}updateRecordCard('most-wins',b),updateRecordCard(Q(0x1bd),c,'%'),updateRecordCard('best-kd',d),updateRecordCard(Q(0x190),e),updateRecordCard('best-differential',f,'',!![]),updateRecordCard(Q(0x18f),g);const l=document['getElementById'](Q(0x1aa));if(h&&l){const r=getPlayerTier(h['elo']);l['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-name\x20'+r+'-rank\x22>'+h['username']+Q(0x161)+h[Q(0x168)][Q(0x18d)](0x2)+'%)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22record-detail\x22>'+h[Q(0x193)]+Q(0x127)+h[Q(0x148)]+Q(0x165);}else l&&(l['textContent']='No\x20data\x20available');updateRecordCard(Q(0x19c),j),updateRecordCard('best-elo',k);const m=Array[Q(0x13a)](a['values']())['some'](s=>s['isPartialData']);m&&addPartialDataIndicator(),updateHiddenStatsDiv(a);}function addPartialDataIndicator(){const R=a46A,a=document['querySelector'](R(0x19e))||document['querySelector'](R(0x18e));if(a&&!document[R(0x188)]('.partial-data-indicator')){const b=document[R(0x194)](R(0x13c));b[R(0x144)]='partial-data-indicator',b['innerHTML']=R(0x172)+MAX_PLAYERS_PER_BATCH+R(0x195)+MAX_MATCHES_PER_BATCH+'\x20matches\x0a\x20\x20\x20\x20\x20\x20\x20\x20',a['insertBefore'](b,a[R(0x155)]);}}async function loadMapStats(){const S=a46A;try{console['log'](S(0x1af)+state['currentGameMode']+S(0x166));const a=state['currentGameMode'],b=state['cache'][a];let c;if(b[S(0x15e)]&&Date[S(0x135)]()-b[S(0x13e)]<CACHE_DURATION_MS)console[S(0x12e)](S(0x1a6)),c=b[S(0x15e)];else{console['log'](S(0x171));const l=a==='D1'?'approvedMatches':S(0x13f),m=collection(db,l);console['log']('üì•\x20Using\x20simple\x20getDocs\x20(no\x20orderBy\x20to\x20avoid\x20index\x20issues)...'),c=await getDocs(m),console['log']('‚úÖ\x20Simple\x20map\x20query\x20successful:\x20'+c[S(0x10c)]+S(0x1b3));}console['log'](S(0x163)+c['size']+'\x20matches...');const d=new Map(),e=new Map();let f=0x0;c[S(0x145)](n=>{const T=S,o=n['data'](),p=o[T(0x17d)]||o['map']||o['mapName']||o[T(0x129)];if(p&&typeof p==='string'&&p[T(0x109)]()['length']>0x0){const q=p['toLowerCase']()['trim']();d['set'](q,(d['get'](q)||0x0)+0x1),!e[T(0x19f)](q)&&e['set'](q,{}),e[T(0x10f)](q)[p]=(e['get'](q)[p]||0x0)+0x1,f++;}}),console[S(0x12e)]('üìä\x20Processed\x20'+f+S(0x123)+c['size']+'\x20total'),console[S(0x12e)](S(0x110)+d[S(0x10c)]+'\x20unique\x20maps');if(d['size']===0x0){console[S(0x12a)]('‚ö†Ô∏è\x20No\x20maps\x20found\x20in\x20match\x20data');c[S(0x10c)]>0x0&&(console[S(0x12e)]('üîç\x20Sample\x20match\x20structure\x20for\x20debugging:'),c[S(0x145)]((o,p)=>{const U=S;if(p===0x0){const q=o['data']();console['log'](U(0x16b),q),console['log']('Available\x20fields:',Object[U(0x196)](q));}}));const n=document[S(0x130)](S(0x140))?.['parentElement']||document['querySelector'](S(0x183))||document['querySelector'](S(0x179));n&&(n['innerHTML']=S(0x143)+state['currentGameMode']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22error-message\x22>No\x20map\x20data\x20found\x20in\x20'+c[S(0x10c)]+S(0x13d));return;}const g=Array['from'](d[S(0x138)]())['sort']((o,p)=>p[0x1]-o[0x1])['slice'](0x0,0xf),h=g[S(0x177)]>0x0?g[0x0][0x1]:0x1,i=c['size'],j=document[S(0x130)]('mapStatsChart')?.['parentElement']||document[S(0x188)](S(0x183))||document[S(0x188)]('.map-stats-container');if(!j){console['warn']('Map\x20stats\x20container\x20not\x20found.\x20Looking\x20for\x20containers...'),console[S(0x12e)]('Available\x20containers:',{'mapStatsChart':!!document['getElementById'](S(0x140)),'chartContainer':!!document['querySelector']('.chart-container'),'mapStatsContainer':!!document[S(0x188)](S(0x179))});return;}let k='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-stats-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>üó∫Ô∏è\x20Most\x20Played\x20Maps\x20-\x20'+state['currentGameMode']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22total-matches\x22>Based\x20on\x20'+f+S(0x162)+d['size']+S(0x107);g['forEach'](([o,p],q)=>{const V=S,r=e[V(0x10f)](o);let s=o,t=0x0;for(const [x,y]of Object[V(0x138)](r)){y>t&&(t=y,s=x);}const u=Math[V(0x18b)](p/h*0x64),v=Math[V(0x18b)](p/f*0x64),w=q+0x1;k+=V(0x1b9)+s+':\x20'+p+V(0x1a8)+v+'%)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22map-rank\x22>#'+w+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22map-name\x22>'+s+V(0x14c)+p+V(0x184)+u+V(0x139)+v+V(0x192);}),k+=S(0x178);if(d[S(0x10c)]>0xf){const o=d[S(0x10c)]-0xf,p=Array[S(0x13a)](d['values']())['slice'](0xf)[S(0x12c)]((q,r)=>q+r,0x0);k+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-stats-footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22remaining-maps\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20+\x20'+o+'\x20more\x20maps\x20with\x20'+p+S(0x198);}j[S(0x15a)]=k,console['log']('‚úÖ\x20Map\x20stats\x20displayed:\x20'+g[S(0x177)]+'\x20maps\x20shown');}catch(q){console['error'](S(0x1b4)+state['currentGameMode']+'\x20map\x20statistics:',q);const r=document[S(0x130)](S(0x140))?.[S(0x154)]||document[S(0x188)](S(0x183));r&&(r[S(0x15a)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-stats-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Most\x20Played\x20Maps\x20-\x20'+state[S(0x14b)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22error-message\x22>Error\x20loading\x20map\x20statistics:\x20'+q[S(0x11b)]+S(0x142));}}async function updateTopPlayersByTier(a){const W=a46A;if(!a){console['error'](W(0x11c));try{const b=state[W(0x14b)]==='D1'?'players':W(0x124);a=await getDocs(collection(db,b));}catch(c){console['error']('Error\x20fetching\x20players\x20for\x20tiers:\x20'+c),document['querySelectorAll']('.tier-players')[W(0x145)](d=>d['innerHTML']='<div\x20class=\x22loading-msg\x22>Error\x20loading\x20players</div>');return;}}try{document['querySelectorAll']('.tier-players')[W(0x145)](e=>e[W(0x15a)]='<div\x20class=\x22loading-msg\x22>Processing...</div>');const d={'emerald':{'min':0x7d0,'players':[]},'gold':{'min':0x708,'players':[]},'silver':{'min':0x640,'players':[]},'bronze':{'min':0x578,'players':[]}};a[W(0x145)](e=>{const X=W,f=e['data']();if(!f[X(0x17a)])return;const g=f[X(0x153)]||0x4b0,h={'username':f[X(0x17a)],'elo':g,'position':f['position']||0x3e7};if(g>=d[X(0x119)][X(0x1b2)])d['emerald'][X(0x1bf)][X(0x113)](h);else{if(g>=d['gold']['min'])d['gold'][X(0x1bf)][X(0x113)](h);else{if(g>=d['silver'][X(0x1b2)])d[X(0x17c)][X(0x1bf)]['push'](h);else{if(g>=d['bronze']['min'])d['bronze']['players']['push'](h);}}}});for(const e in d){const f=d[e];f[W(0x1bf)]['length']>0x0?(f['players'][W(0x15f)]((h,i)=>{const Y=W,j=h['position']===0x3e7?Infinity:h[Y(0x10d)],k=i['position']===0x3e7?Infinity:i[Y(0x10d)];if(j!==k)return j-k;return i['elo']-h['elo'];}),f['topPlayer']=f['players'][0x0]):f['topPlayer']=null;const g=document['getElementById'](e+W(0x17e));if(!g)continue;if(!f[W(0x12d)])g['innerHTML']=W(0x169);else{const h=f[W(0x12d)],i=h[W(0x10d)]&&h['position']<0x3e7?h[W(0x10d)]:0x1;g['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tier-player\x20top-player\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-rank\x22>#'+i+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-name\x22>'+h[W(0x17a)]+W(0x1ae)+Math['round'](h[W(0x1be)])+W(0x1bc)+(e[W(0x160)](0x0)[W(0x137)]()+e['slice'](0x1))+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tier-count\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+f[W(0x1bf)]['length']+'\x20player'+(f['players'][W(0x177)]!==0x1?'s':'')+W(0x1a7)+state['currentGameMode']+'\x20'+e+'\x20tier\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';}}}catch(j){console[W(0x170)]('Error\x20updating\x20top\x20players\x20by\x20tier:\x20'+j),document['querySelectorAll']('.tier-players')['forEach'](k=>k['innerHTML']='<div\x20class=\x22loading-msg\x22>Error\x20loading\x20players</div>');}}function updateSummaryStats(a){const Z=a46A;if(!a)return;const b=a['size'],c=a[Z(0x1a3)][Z(0x1ab)](h=>h[Z(0x10a)]()['active']!==![])['length'],d=document['getElementById'](Z(0x12f)),e=document[Z(0x130)]('total-players'),f=document[Z(0x130)](Z(0x1a1)),g=state[Z(0x1a2)][state['currentGameMode']]?.['playerStats'];if(g){const h=Array['from'](g[Z(0x180)]())['reduce']((i,j)=>i+j[Z(0x148)],0x0)/0x2;if(d)d[Z(0x152)]=Math[Z(0x18b)](h);}else{if(d)d['textContent']='N/A';}if(e)e['textContent']=c;if(f)f[Z(0x152)]=new Date()['toLocaleDateString']();}function updateHiddenStatsDiv(a){const a0=a46A;let b=document['getElementById']('records-stats');!b&&(b=document['createElement']('div'),b['id']=a0(0x134),b[a0(0x14a)][a0(0x15c)]=a0(0x1b7),document['body']['appendChild'](b));const c=(e,f=()=>!![],g,h=e)=>Array['from'](a[a0(0x138)]())['filter'](f)['sort'](g)[a0(0x14f)](0x0,0x3)[a0(0x17f)](([i,j])=>({'name':i,[h]:j[h]})),d={'mode':state[a0(0x14b)],'timestamp':new Date()[a0(0x15b)](),'records':{'mostWins':c(a0(0x117),()=>!![],(e,f)=>f[0x1][a0(0x117)]-e[0x1][a0(0x117)]),'bestWinRate':c('winRate',([e,f])=>f[a0(0x148)]>=MIN_MATCHES_REQUIREMENT,(e,f)=>f[0x1]['winRate']-e[0x1][a0(0x141)]),'bestKD':c(a0(0x176),([e,f])=>f[a0(0x148)]>=MIN_MATCHES_REQUIREMENT,(e,f)=>f[0x1][a0(0x176)]-e[0x1][a0(0x176)]),'mostMatches':c(a0(0x148),()=>!![],(e,f)=>f[0x1]['totalMatches']-e[0x1][a0(0x148)])}};b['textContent']=JSON['stringify'](d,null,0x2);}function setupGameModeToggle(){const a1=a46A,a=document[a1(0x187)](a1(0x125));a['forEach'](b=>{const a2=a1,c=b[a2(0x114)](!![]);b['parentNode'][a2(0x128)](c,b),c['addEventListener'](a2(0x1bb),function(){const a3=a2;if(this[a3(0x197)]['contains'](a3(0x12b)))return;const d=this['getAttribute'](a3(0x14e))[a3(0x137)]();console[a3(0x12e)]('Switching\x20to\x20'+d+'\x20mode...'),document['querySelectorAll'](a3(0x125))[a3(0x145)](f=>f[a3(0x197)]['remove']('active')),this['classList'][a3(0x16d)](a3(0x12b)),state['currentGameMode']=d;const e=document['getElementById'](a3(0x19a));if(e)e[a3(0x158)]();loadRecords(),loadMapStats();});});}const style=document['createElement']('style');style[a46A(0x152)]=a46A(0x16f),document['head'][a46A(0x1ad)](style),document['addEventListener'](a46A(0x1a4),()=>{const a4=a46A;Promise['all']([fetch('../HTML/nav.html')['then'](a=>a['ok']?a[a4(0x13b)]():Promise['reject'](a4(0x147))),fetch(a4(0x156))[a4(0x11f)](a=>a['ok']?a['text']():Promise[a4(0x112)]('Footer\x20fetch\x20failed'))])['then'](([a,b])=>{const a5=a4,c=document['getElementById'](a5(0x108)),d=document[a5(0x130)]('footer-placeholder');if(c)c[a5(0x15a)]=a;if(d)d['innerHTML']=b;})['catch'](a=>{const a6=a4;console['error'](a6(0x182),a);}),loadRecords(),loadMapStats(),setupGameModeToggle();});function calculatePlayerRecords(a,b){const a7=a46A;let c=null,d=Infinity;b[a7(0x145)](f=>{const a8=a7,g=a['filter'](j=>j[a8(0x150)]===f['username']||j['loserUsername']===f[a8(0x17a)]);if(g[a8(0x177)]<0x5)return;const h=g['reduce']((j,k)=>{const a9=a8;return k[a9(0x150)]===f[a9(0x17a)]?j+(k[a9(0x17b)]||0x0):j+(k[a9(0x16a)]||0x0);},0x0),i=h/g['length']*0x64;i<d&&(d=i,c={'player':f['username'],'suicideRate':i,'totalSuicides':h,'totalMatches':g[a8(0x177)]});});const e=document['getElementById']('least-suicides');c?e['innerHTML']=a7(0x126)+c[a7(0x1ac)]+a7(0x15d)+c[a7(0x168)]['toFixed'](0x2)+a7(0x118)+c[a7(0x193)]+'\x20suicides\x20in\x20'+c[a7(0x148)]+'\x20matches</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20':e[a7(0x152)]=a7(0x186);}