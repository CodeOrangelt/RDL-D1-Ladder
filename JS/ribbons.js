const a48_0x311fa2=a48_0x26fe,a48_0x504f99=(function(){let _0x23fcc1=!![];return function(_0x2c1a9a,_0x128f57){const _0x118ae=_0x23fcc1?function(){const _0x462228=a48_0x26fe;if(_0x128f57){const _0x599fd7=_0x128f57[_0x462228(0x163)](_0x2c1a9a,arguments);return _0x128f57=null,_0x599fd7;}}:function(){};return _0x23fcc1=![],_0x118ae;};}()),a48_0x388ebc=a48_0x504f99(this,function(){const _0x5ed0f0=a48_0x26fe,_0x2439fa=function(){let _0x10c039;try{_0x10c039=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x4092e1){_0x10c039=window;}return _0x10c039;},_0x3f459f=_0x2439fa(),_0x7f64ba=_0x3f459f['console']=_0x3f459f[_0x5ed0f0(0x136)]||{},_0x42374b=[_0x5ed0f0(0x15d),'warn',_0x5ed0f0(0x19f),_0x5ed0f0(0x15a),'exception','table','trace'];for(let _0x61d477=0x0;_0x61d477<_0x42374b['length'];_0x61d477++){const _0x4fcc66=a48_0x504f99['constructor']['prototype']['bind'](a48_0x504f99),_0x3b844e=_0x42374b[_0x61d477],_0x362ffa=_0x7f64ba[_0x3b844e]||_0x4fcc66;_0x4fcc66[_0x5ed0f0(0x134)]=a48_0x504f99['bind'](a48_0x504f99),_0x4fcc66[_0x5ed0f0(0x12d)]=_0x362ffa['toString'][_0x5ed0f0(0x16d)](_0x362ffa),_0x7f64ba[_0x3b844e]=_0x4fcc66;}});function a48_0x26fe(_0x30c7a4,_0x1fde39){const _0x388ebc=a48_0x174d();return a48_0x26fe=function(_0x504f99,_0x42e728){_0x504f99=_0x504f99-0x11d;let _0x174d1e=_0x388ebc[_0x504f99];return _0x174d1e;},a48_0x26fe(_0x30c7a4,_0x1fde39);}a48_0x388ebc();import{auth,db}from'./firebase-config.js';import{doc,getDoc,setDoc,collection,query,where,getDocs,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const RIBBON_DEFINITIONS={'Rematch\x20Ribbon':{'description':'Beat\x20a\x20pilot\x20with\x20the\x20\x22Rematch\x22\x20subgame\x20selected','image':a48_0x311fa2(0x11f),'color':'#FF6B6B'},'Overachiever\x20Ribbon':{'description':'Played\x20over\x20100\x20matches','image':a48_0x311fa2(0x126),'color':'#96CEB4','levels':[0x64,0xc8,0x12c,0x190,0x1f4,0x258,0x2bc,0x320,0x384,0x3e8]},'Brick\x20Wall':{'description':'Amass\x20at\x20least\x2080%\x20overall\x20win\x20rate\x20percentage\x20(minimum\x2050\x20matches)','image':'../images/ribbons/BrickWall.png','color':'#F0932B','levels':[0x50,0x55,0x5a,0x5f,0x64]},'Collector\x20Ribbon':{'description':'Hold\x20more\x20than\x205\x20ribbons\x20at\x20a\x20time','image':'../images/ribbons/Collector.png','color':'#6C5CE7','levels':[0x5,0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32]},'Sub-Gamer\x20Ribbon':{'description':a48_0x311fa2(0x1a0),'image':a48_0x311fa2(0x171),'color':a48_0x311fa2(0x127),'levels':[0x32,0x64,0x96,0xc8,0xfa,0x12c,0x15e,0x190,0x1c2,0x1f4]},'Explorer\x20Ribbon':{'description':'Played\x20at\x20least\x2020\x20unique\x20maps','image':'../images/ribbons/Explorer.png','color':'#55A3FF','levels':[0x14,0x28,0x3c,0x50,0x64,0x78,0x8c,0xa0,0xb4,0xc8]},'Socialite\x20Ribbon':{'description':'Played\x20at\x20least\x2010\x20unique\x20pilots','image':'../images/ribbons/Socialite.png','color':'#FF7675','levels':[0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32,0x37]},'Underdog\x20Ribbon':{'description':a48_0x311fa2(0x129),'image':a48_0x311fa2(0x1a1),'color':'#FF9500','levels':[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0x9,0xa]},'Domination\x20Ribbon':{'description':'Beat\x205\x20unique\x20pilots\x20in\x20a\x20rank\x20(including\x20your\x20own)','image':'../images/ribbons/Domination.png','color':'#8E44AD','levels':[0x1,0x2,0x3,0x4,0x5]},'Top\x20Bronze\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Bronze\x20rank','image':a48_0x311fa2(0x19e),'color':'#CD7F32'},'Top\x20Silver\x20Pilot':{'description':a48_0x311fa2(0x188),'image':a48_0x311fa2(0x19e),'color':'#C0C0C0'},'Top\x20Gold\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Gold\x20rank','image':'../images/ribbons/toprank.png','color':a48_0x311fa2(0x17e)},'Top\x20Emerald\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Emerald\x20rank','image':'../images/ribbons/toprank.png','color':'#50C878'}};function a48_0x174d(){const _0x2c7eaf=['Domination\x20Ribbon','‚úÖ\x20Preserving\x20existing\x20','../images/ribbons/Rematch.png','Unranked','‚ùå\x20Error\x20fetching\x20matches:','üîç\x20Checking\x20Top\x20','key','level-3','‚ùå\x20No\x20player\x20data\x20found\x20for\x20','../images/ribbons/Overachiever.png','#A29BFE','entries','Beat\x20a\x20pilot\x20ranked\x20higher\x20than\x20you','evaluateDominationRibbonFromRanks','findIndex','Bronze','toString','Overachiever\x20Ribbon','isUnderdogVictory','removeItem',')\x20vs\x20Loser(','getCacheKey','evaluateExplorerRibbonFromCount','__proto__','getPlayerDataCached','console','Gold','stringify','\x20underdog\x20victories\x20for\x20','‚ùå\x20Error\x20in\x20ribbon\x20evaluation:','mapPlayed','level','<div\x20class=\x22ribbon-devices\x22>','\x20vs\x20','\x20players\x20from\x20','get','rating','evaluateOverachieverRibbonFromCount','forEach','playerRibbons','%\x20win\x20rate\x20over\x20','push','‚úÖ\x20Found\x20player\x20data\x20for\x20','totalMatches','evaluateCollectorRibbonFromCount','Brick\x20Wall','getPlayerRibbonsCached','üìä\x20',')\x20-\x20new\x20match\x20detected','evaluateUnderdogRibbonFromCount','docs','evaluateSubGamerRibbonFromCount','eloRating','savePlayerRibbonsOptimized','\x20ELO\x20(','levels','uniqueOpponents','Socialite\x20Ribbon','autoCleanup','batchTimer','memoryCache','error','underdogWins','\x20in\x20','log','CACHE_DURATION','undefined','parse','CACHE_KEY_PREFIX','username','apply','matchesPlayed','Rematch\x20Ribbon','getItem','\x20Pilot','Sub-Gamer\x20Ribbon','getPlayerMatchesOptimized','timestamp','length','size','bind','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22','approvedMatches','dominatedRanks','../images/ribbons/Subgamer.png','üéØ\x20UNDERDOG:\x20','üéØ\x20Cache\x20hit\x20(matches)\x20for\x20','color','\x20beat\x20','getCachedData','ribbons','):\x20','Underdog\x20Ribbon','empty','getCacheStats','subgameType','replace','#FFD700','data','image','set','pendingEvaluations','has','setCachedData','playersD3','all','floor','Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Silver\x20rank','winnerUsername','üöÄ\x20Bulk\x20loading\x20','rematchWins','keys','‚ö†Ô∏è\x20Brick\x20Wall\x20ribbon\x20requires\x2050+\x20matches\x20(player\x20has\x20','evaluateTopRankRibbon','matchCache','delete','Collector\x20Ribbon','CLEANUP_INTERVAL','\x20ELO)','now','Error\x20getting\x20player\x20data\x20for\x20','Top\x20','bulkLoadPlayerData','subgameMatches','BATCH_DELAY','evaluateRematchRibbonFromCount','lastCleanup','<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20silver-star\x22></i>','loserUsername','../images/ribbons/toprank.png','info','Play\x20over\x2050\x20subgame\x20matches','../images/ribbons/Underdog.png','add','evaluateAllRibbonsFromData','evaluateBrickWallRibbonFromWinRate','loserRating','\x20Badge','üîç\x20Checking\x20underdog:\x20Winner(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22military-ribbon\x22\x20data-tooltip=\x22'];a48_0x174d=function(){return _0x2c7eaf;};return a48_0x174d();}export const RIBBON_CSS='\x0a/*\x20Stats\x20integration\x20styles\x20*/\x0a.ribbon-section\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-top:\x201rem;\x0a}\x0a\x0a.ribbon-stat-item.full-width\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-bottom:\x200;\x0a}\x0a\x0a/*\x20Military\x20Ribbon\x20Rack\x20Styling\x20-\x20NO\x20OUTER\x20CONTAINER\x20*/\x0a.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20padding:\x200;\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20box-shadow:\x20none;\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20align-items:\x20flex-start;\x0a}\x0a\x0a.ribbon-rack-empty-inline\x20{\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20padding:\x2060px\x2040px;\x0a\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20border-radius:\x2012px;\x0a\x20\x20\x20\x20border:\x202px\x20solid\x20rgba(255,\x20255,\x20255,\x200.1);\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a}\x0a\x0a.empty-rack-text\x20{\x0a\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20font-style:\x20italic;\x0a\x20\x20\x20\x20font-size:\x201.2rem;\x0a}\x0a\x0a/*\x20Ribbon\x20Rows\x20*/\x0a.ribbon-row\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x206px;\x0a\x20\x20\x20\x20margin-bottom:\x206px;\x0a\x20\x20\x20\x20justify-content:\x20flex-start;\x0a}\x0a\x0a.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20margin-left:\x2060px;\x0a}\x0a\x0a/*\x20Individual\x20Military\x20Ribbon\x20Styling\x20-\x20FIXED\x20OVERFLOW\x20FOR\x20LEVEL\x20INDICATOR\x20*/\x0a.military-ribbon\x20{\x0a\x20\x20\x20\x20position:\x20relative;\x0a\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20transition:\x20transform\x200.3s\x20ease;\x0a\x20\x20\x20\x20flex-shrink:\x200;\x0a\x20\x20\x20\x20width:\x20190px;\x0a\x20\x20\x20\x20height:\x2060px;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#333;\x0a\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20overflow:\x20visible;\x20/*\x20Changed\x20from\x20hidden\x20to\x20visible\x20*/\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20margin:\x2012px\x2012px\x2012px\x200;\x20/*\x20Added\x20margin\x20to\x20prevent\x20clipping\x20*/\x0a}\x0a\x0a.military-ribbon:hover\x20{\x0a\x20\x20\x20\x20transform:\x20translateY(-4px);\x0a\x20\x20\x20\x20z-index:\x2010;\x0a}\x0a\x0a/*\x20Ribbon\x20image\x20container\x20to\x20handle\x20the\x20actual\x20overflow\x20*/\x0a.ribbon-image-container\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20border-radius:\x201px;\x0a}\x0a\x0a.ribbon-image\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20object-fit:\x20cover;\x0a\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20image-rendering:\x20crisp-edges;\x0a}\x0a\x0a.ribbon-fallback\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20text-shadow:\x200\x202px\x204px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a}\x0a\x0a.ribbon-name\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.9);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201.2;\x0a\x20\x20\x20\x20margin-top:\x206px;\x0a\x20\x20\x20\x20max-width:\x20120px;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20text-overflow:\x20ellipsis;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20-24px;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20font-weight:\x20500;\x0a}\x0a\x0a.military-ribbon:hover\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20display:\x20block;\x0a}\x0a\x0a.ribbon-devices\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x2050%;\x0a\x20\x20\x20\x20right:\x206px;\x0a\x20\x20\x20\x20transform:\x20translateY(-50%);\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x203px;\x0a\x20\x20\x20\x20z-index:\x205;\x0a}\x0a\x0a.ribbon-device\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20text-shadow:\x200\x200\x204px\x20rgba(0,0,0,0.9);\x0a\x20\x20\x20\x20filter:\x20drop-shadow(0\x202px\x204px\x20rgba(0,0,0,0.8));\x0a}\x0a\x0a.bronze-star\x20{\x0a\x20\x20\x20\x20color:\x20#CD7F32;\x0a}\x0a\x0a.silver-star\x20{\x0a\x20\x20\x20\x20color:\x20#C0C0C0;\x0a}\x0a\x0a.gold-star\x20{\x0a\x20\x20\x20\x20color:\x20#FFD700;\x0a}\x0a\x0a/*\x20Level\x20indicator\x20-\x20NOW\x20FULLY\x20VISIBLE\x20*/\x0a.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x20-8px;\x0a\x20\x20\x20\x20right:\x20-8px;\x0a\x20\x20\x20\x20background:\x20#FFD700;\x0a\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20width:\x2024px;\x0a\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#FFF;\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x208px\x20rgba(0,0,0,0.7);\x0a\x20\x20\x20\x20z-index:\x206;\x0a}\x0a\x0a/*\x20Custom\x20tooltip\x20-\x20only\x20this\x20one\x20will\x20show\x20*/\x0a.military-ribbon::before\x20{\x0a\x20\x20\x20\x20content:\x20attr(data-tooltip);\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20100%;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20background:\x20rgba(0,0,0,0.95);\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20padding:\x208px\x2012px;\x0a\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20pointer-events:\x20none;\x0a\x20\x20\x20\x20transition:\x20opacity\x200.3s;\x0a\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20margin-bottom:\x208px;\x0a\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(255,\x20255,\x20255,\x200.2);\x0a}\x0a\x0a.military-ribbon:hover::before\x20{\x0a\x20\x20\x20\x20opacity:\x201;\x0a}\x0a\x0a/*\x20Responsive\x20adjustments\x20*/\x0a@media\x20(max-width:\x201024px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2034px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x208px\x208px\x208px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-6px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-6px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2052px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-20px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20768px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2028px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x206px\x206px\x206px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x209px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-5px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-5px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2042px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2011px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-18px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x205px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20480px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2070px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x205px\x205px\x205px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2036px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x204px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-4px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-4px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a.stats-grid\x20.ribbon-section\x20{\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20padding:\x200;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20{\x0a\x20\x20\x20\x20background-color:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20padding:\x2025px;\x0a\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20.stat-label\x20{\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20text-transform:\x20uppercase;\x0a\x20\x20\x20\x20opacity:\x200.9;\x0a\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.95);\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a}\x0a\x0a.ribbon-level-indicator.level-1\x20{\x20background:\x20#808080;\x20}\x0a.ribbon-level-indicator.level-2\x20{\x20background:\x20#CD7F32;\x20}\x0a.ribbon-level-indicator.level-3\x20{\x20background:\x20#b9f1fc;\x20}\x0a.ribbon-level-indicator.level-4\x20{\x20background:\x20#FFD700;\x20}\x0a.ribbon-level-indicator.level-5-plus\x20{\x20background:\x20#50C878;\x20}\x0a';class RibbonCacheManager{constructor(){const _0x277b81=a48_0x311fa2;this['memoryCache']=new Map(),this['CACHE_DURATION']=0x3c*0x3c*0x3e8,this[_0x277b81(0x161)]='ribbon_cache_',this['lastCleanup']=Date[_0x277b81(0x194)](),this[_0x277b81(0x192)]=0x1e*0x3c*0x3e8;}[a48_0x311fa2(0x132)](_0x455c24,_0x32f00c){return''+this['CACHE_KEY_PREFIX']+_0x455c24+'_'+_0x32f00c;}['getCachedData'](_0x35ffc9,_0x556f8d){const _0x11ab7e=a48_0x311fa2;this['autoCleanup']();const _0x3569c3=this[_0x11ab7e(0x132)](_0x35ffc9,_0x556f8d);if(this['memoryCache'][_0x11ab7e(0x183)](_0x3569c3)){const _0x14b2b7=this['memoryCache']['get'](_0x3569c3);if(Date['now']()-_0x14b2b7['timestamp']<this['CACHE_DURATION'])return console[_0x11ab7e(0x15d)]('üöÄ\x20Cache\x20hit\x20(memory)\x20for\x20'+_0x35ffc9),_0x14b2b7['data'];this['memoryCache']['delete'](_0x3569c3);}const _0x1b8e99=localStorage['getItem'](_0x3569c3);if(_0x1b8e99)try{const _0x21fe32=JSON['parse'](_0x1b8e99);if(Date['now']()-_0x21fe32['timestamp']<this['CACHE_DURATION'])return this['memoryCache']['set'](_0x3569c3,{'data':_0x21fe32[_0x11ab7e(0x177)],'timestamp':_0x21fe32['timestamp'],'matchCount':_0x21fe32['matchCount']}),console['log']('üíæ\x20Cache\x20hit\x20(localStorage)\x20for\x20'+_0x35ffc9),_0x21fe32[_0x11ab7e(0x177)];localStorage['removeItem'](_0x3569c3);}catch(_0x3faef0){localStorage['removeItem'](_0x3569c3);}return null;}[a48_0x311fa2(0x184)](_0x3f5228,_0x450663,_0x3379dd,_0x38145d){const _0x31e95d=a48_0x311fa2,_0xb4bccb=this['getCacheKey'](_0x3f5228,_0x450663),_0x13ed17=Date['now']();this['memoryCache'][_0x31e95d(0x181)](_0xb4bccb,{'data':_0x3379dd,'timestamp':_0x13ed17,'matchCount':_0x38145d});try{const _0x5dae6e={'ribbons':_0x3379dd,'matchCount':_0x38145d,'timestamp':_0x13ed17,'version':0x3};localStorage['setItem'](_0xb4bccb,JSON[_0x31e95d(0x138)](_0x5dae6e));}catch(_0x5bdcd3){this['clearOldCache']();try{localStorage['setItem'](_0xb4bccb,JSON['stringify'](data));}catch(_0x4f9b4b){}}}['shouldRefreshCache'](_0x58475a,_0x1d938e,_0x2fb175){const _0x1f659e=a48_0x311fa2,_0x2d33d2=this['getCacheKey'](_0x58475a,_0x1d938e);if(this['memoryCache']['has'](_0x2d33d2)){const _0x2b0849=this['memoryCache']['get'](_0x2d33d2);return _0x2b0849['matchCount']!==_0x2fb175;}const _0x2e8abb=localStorage[_0x1f659e(0x166)](_0x2d33d2);if(_0x2e8abb)try{const _0xad2422=JSON[_0x1f659e(0x160)](_0x2e8abb);return _0xad2422['matchCount']!==_0x2fb175;}catch(_0x26b896){return!![];}return!![];}['invalidatePlayerCache'](_0x22b52a,_0x49dfad){const _0x401ed3=a48_0x311fa2,_0x5ad62a=this['getCacheKey'](_0x22b52a,_0x49dfad);this[_0x401ed3(0x159)]['delete'](_0x5ad62a),localStorage[_0x401ed3(0x130)](_0x5ad62a),console[_0x401ed3(0x15d)]('üóëÔ∏è\x20Invalidated\x20cache\x20for\x20'+_0x22b52a+'\x20('+_0x49dfad+_0x401ed3(0x14d));}['autoCleanup'](){const _0x1b31b7=a48_0x311fa2,_0x25a4a3=Date['now']();_0x25a4a3-this['lastCleanup']>this['CLEANUP_INTERVAL']&&(this['cleanup'](),this[_0x1b31b7(0x19b)]=_0x25a4a3);}['cleanup'](){const _0x26513e=a48_0x311fa2,_0x5b2ea6=Date[_0x26513e(0x194)]();let _0x26d8d8=0x0,_0x36772f=0x0;for(const [_0x19d103,_0x146ef3]of this['memoryCache'][_0x26513e(0x128)]()){_0x5b2ea6-_0x146ef3[_0x26513e(0x16a)]>this[_0x26513e(0x15e)]&&(this['memoryCache']['delete'](_0x19d103),_0x26d8d8++);}for(let _0x30e958=localStorage['length']-0x1;_0x30e958>=0x0;_0x30e958--){const _0x279cad=localStorage['key'](_0x30e958);if(_0x279cad&&_0x279cad['startsWith'](this['CACHE_KEY_PREFIX']))try{const _0x9dc2aa=JSON[_0x26513e(0x160)](localStorage[_0x26513e(0x166)](_0x279cad));_0x5b2ea6-_0x9dc2aa[_0x26513e(0x16a)]>this['CACHE_DURATION']&&(localStorage[_0x26513e(0x130)](_0x279cad),_0x36772f++);}catch(_0x28d3d5){localStorage[_0x26513e(0x130)](_0x279cad),_0x36772f++;}}}['clearOldCache'](){const _0x3c8cb0=a48_0x311fa2,_0x4020ea=[];for(let _0x296aa3=0x0;_0x296aa3<localStorage['length'];_0x296aa3++){const _0x552a00=localStorage[_0x3c8cb0(0x123)](_0x296aa3);if(_0x552a00&&_0x552a00['startsWith'](this[_0x3c8cb0(0x161)]))try{const _0x6907b3=JSON[_0x3c8cb0(0x160)](localStorage['getItem'](_0x552a00));_0x4020ea['push']({'key':_0x552a00,'timestamp':_0x6907b3['timestamp']});}catch(_0x3a9962){localStorage['removeItem'](_0x552a00);}}_0x4020ea['sort']((_0x252f65,_0x3a5d64)=>_0x252f65['timestamp']-_0x3a5d64['timestamp']);const _0x309e41=Math[_0x3c8cb0(0x187)](_0x4020ea[_0x3c8cb0(0x16b)]/0x2);for(let _0x4808ca=0x0;_0x4808ca<_0x309e41;_0x4808ca++){localStorage['removeItem'](_0x4020ea[_0x4808ca]['key']);}}['getCacheStats'](){const _0x46db3d=a48_0x311fa2;return{'memoryEntries':this['memoryCache'][_0x46db3d(0x16c)],'lastCleanup':new Date(this[_0x46db3d(0x19b)])['toLocaleTimeString']()};}}class MatchCacheManager{constructor(){const _0x306854=a48_0x311fa2;this['matchCache']=new Map(),this['CACHE_DURATION']=0xf*0x3c*0x3e8,this['lastCleanup']=Date[_0x306854(0x194)]();}['getCachedMatches'](_0x55e405,_0x4bca07){const _0x55e974=a48_0x311fa2;this['autoCleanup']();const _0x3f98ec=_0x55e405+'_'+_0x4bca07,_0x32c6dd=this['matchCache']['get'](_0x3f98ec);if(_0x32c6dd&&Date['now']()-_0x32c6dd['timestamp']<this['CACHE_DURATION'])return console[_0x55e974(0x15d)](_0x55e974(0x173)+_0x55e405),_0x32c6dd['matches'];return _0x32c6dd&&this['matchCache']['delete'](_0x3f98ec),null;}['setCachedMatches'](_0x8a0e89,_0x19a64e,_0x387bcf){const _0x19b64f=_0x8a0e89+'_'+_0x19a64e;this['matchCache']['set'](_0x19b64f,{'matches':_0x387bcf,'timestamp':Date['now']()});}[a48_0x311fa2(0x157)](){const _0x96192b=a48_0x311fa2,_0xc6ccd4=Date[_0x96192b(0x194)]();if(_0xc6ccd4-this['lastCleanup']>0x5*0x3c*0x3e8){let _0x217827=0x0;for(const [_0x37da65,_0x39a552]of this['matchCache']['entries']()){_0xc6ccd4-_0x39a552['timestamp']>this[_0x96192b(0x15e)]&&(this[_0x96192b(0x18f)][_0x96192b(0x190)](_0x37da65),_0x217827++);}this[_0x96192b(0x19b)]=_0xc6ccd4;}}['getCacheStats'](){const _0x123298=a48_0x311fa2;return{'entries':this[_0x123298(0x18f)]['size'],'lastCleanup':new Date(this['lastCleanup'])['toLocaleTimeString']()};}}class RibbonSystem{constructor(){const _0xf91522=a48_0x311fa2;this[_0xf91522(0x182)]=new Map(),this[_0xf91522(0x158)]=null,this[_0xf91522(0x199)]=0x32,this['playerDataCache']=new Map();}async[a48_0x311fa2(0x197)](_0x5beb22,_0x4de617){const _0x31f279=a48_0x311fa2,_0x5a1a58=_0x4de617==='D1'?'players':_0x4de617==='D2'?'playersD2':_0x31f279(0x185),_0x5cde73=collection(db,_0x5a1a58),_0x52e77d=await getDocs(_0x5cde73),_0x5b5ec1=new Map();return _0x52e77d[_0x31f279(0x143)](_0x4714fd=>{const _0x2a89f9=_0x31f279,_0x4590a9=_0x4714fd['data']();_0x4590a9['username']&&(_0x4590a9['eloRating']!==undefined&&(_0x4590a9['rating']=_0x4590a9[_0x2a89f9(0x151)]),_0x5b5ec1['set'](_0x4590a9['username'],_0x4590a9));}),console[_0x31f279(0x15d)]('üìä\x20Bulk\x20loaded\x20'+_0x5b5ec1['size']+_0x31f279(0x13f)+_0x5a1a58),_0x5b5ec1;}async[a48_0x311fa2(0x1a3)](_0x407823,_0xc65195,_0xd07d12,_0x3f1a55){const _0x54ed72=a48_0x311fa2,_0x6ee7c8={},_0x2db714=_0xc65195['username'],_0x1b9299={'totalMatches':_0x407823['length'],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0,'dominatedRanks':new Set()},_0x488e8c=new Set();_0x407823[_0x54ed72(0x143)](_0x9b35c=>{const _0x508373=_0x54ed72,_0x3c6254=_0x9b35c[_0x508373(0x189)]===_0x2db714,_0x2e8e76=_0x3c6254?_0x9b35c['loserUsername']:_0x9b35c['winnerUsername'];if(_0x2e8e76)_0x488e8c[_0x508373(0x1a2)](_0x2e8e76);}),console['log']('üöÄ\x20Bulk\x20loading\x20'+_0x488e8c['size']+'\x20player\x20records\x20for\x20underdog\x20calculations...');const _0x4101a6=await this['bulkLoadPlayerData']([..._0x488e8c,_0x2db714],_0x3f1a55),_0x5bac27=_0x4101a6[_0x54ed72(0x140)](_0x2db714);!_0x5bac27&&console[_0x54ed72(0x15d)]('‚ö†Ô∏è\x20No\x20current\x20player\x20data\x20found\x20for\x20'+_0x2db714);const _0x45f12d={0x0:new Set(),0x1:new Set(),0x2:new Set(),0x3:new Set(),0x4:new Set()};_0x407823[_0x54ed72(0x143)](_0x31a150=>{const _0x48b5df=_0x54ed72,_0x5a44a8=_0x31a150['winnerUsername']===_0x2db714,_0x1d334b=_0x5a44a8?_0x31a150['loserUsername']:_0x31a150[_0x48b5df(0x189)];if(_0x5a44a8){_0x1b9299['wins']++;_0x31a150[_0x48b5df(0x17c)]==='Rematch'&&_0x1b9299[_0x48b5df(0x18b)]++;this['isUnderdogVictoryFast'](_0x31a150,_0x2db714,_0x5bac27,_0x4101a6)&&_0x1b9299['underdogWins']++;const _0x46c3b6=_0x4101a6['get'](_0x1d334b);if(_0x46c3b6){const _0xf6f8ad=_0x46c3b6['eloRating']||0x0,_0x4f7bd4=getPlayerRankTier(_0xf6f8ad);_0x45f12d[_0x4f7bd4]['add'](_0x1d334b);}}_0x31a150['subgameType']&&_0x31a150['subgameType']!=='Standard'&&_0x1b9299['subgameMatches']++,_0x31a150[_0x48b5df(0x13b)]&&_0x1b9299['uniqueMaps']['add'](_0x31a150['mapPlayed']),_0x1d334b&&_0x1b9299['uniqueOpponents']['add'](_0x1d334b);}),Object[_0x54ed72(0x18c)](_0x45f12d)[_0x54ed72(0x143)](_0x1d6d13=>{const _0x23c2c3=_0x54ed72;_0x45f12d[_0x1d6d13]['size']>=0x5&&_0x1b9299['dominatedRanks'][_0x23c2c3(0x1a2)](parseInt(_0x1d6d13));}),console['log']('üéØ\x20Found\x20'+_0x1b9299[_0x54ed72(0x15b)]+_0x54ed72(0x139)+_0x2db714),console[_0x54ed72(0x15d)]('üëë\x20Dominated\x20'+_0x1b9299['dominatedRanks'][_0x54ed72(0x16c)]+'\x20ranks:\x20['+Array['from'](_0x1b9299[_0x54ed72(0x170)])['map'](_0x2cda58=>getRankTierName(_0x2cda58))['join'](',\x20')+']');const _0x4e8d86=_0x1b9299[_0x54ed72(0x148)]>0x0?_0x1b9299['wins']/_0x1b9299['totalMatches']*0x64:0x0,_0x16f95c=[['Overachiever\x20Ribbon',this['evaluateOverachieverRibbonFromCount'](_0x1b9299[_0x54ed72(0x148)],_0xd07d12)],[_0x54ed72(0x165),this['evaluateRematchRibbonFromCount'](_0x1b9299['rematchWins'],_0xd07d12)],[_0x54ed72(0x168),this[_0x54ed72(0x150)](_0x1b9299['subgameMatches'],_0xd07d12)],['Explorer\x20Ribbon',this[_0x54ed72(0x133)](_0x1b9299['uniqueMaps']['size'],_0xd07d12)],['Socialite\x20Ribbon',this['evaluateSocialiteRibbonFromCount'](_0x1b9299['uniqueOpponents']['size'],_0xd07d12)],['Brick\x20Wall',this[_0x54ed72(0x1a4)](_0x4e8d86,_0xd07d12,_0x1b9299['totalMatches'])],[_0x54ed72(0x179),this['evaluateUnderdogRibbonFromCount'](_0x1b9299['underdogWins'],_0xd07d12)],[_0x54ed72(0x11d),this['evaluateDominationRibbonFromRanks'](_0x1b9299[_0x54ed72(0x170)]['size'],_0xd07d12)]];_0x16f95c['forEach'](([_0x1a44d2,_0x26fda4])=>{_0x26fda4&&(_0x6ee7c8[_0x1a44d2]=_0x26fda4);});const _0x3d7980=Object['keys'](_0xd07d12)['length']+Object[_0x54ed72(0x18c)](_0x6ee7c8)['length'],_0x4f46e2=this[_0x54ed72(0x149)](_0x3d7980,_0xd07d12);return _0x4f46e2&&(_0x6ee7c8['Collector\x20Ribbon']=_0x4f46e2),_0x6ee7c8;}[a48_0x311fa2(0x12a)](_0x1cdc7d,_0x26fb33){const _0x3e49db=a48_0x311fa2;if(_0x1cdc7d===0x0)return null;const _0xf9a932=_0x26fb33['Domination\x20Ribbon']||{'level':0x0};if(_0x1cdc7d>_0xf9a932[_0x3e49db(0x13c)]){const _0x57beab=[];for(let _0x29c3e7=0x0;_0x29c3e7<_0x1cdc7d;_0x29c3e7++){_0x57beab['push'](getRankTierName(_0x29c3e7));}return console['log']('üëë\x20Domination\x20Ribbon\x20awarded:\x20Level\x20'+_0xf9a932[_0x3e49db(0x13c)]+'\x20‚Üí\x20'+_0x1cdc7d+'\x20(Dominated:\x20'+_0x57beab['join'](',\x20')+')'),{'level':_0x1cdc7d,'awardedAt':new Date(),'dominatedRanks':_0x57beab};}return null;}async['checkTopRankStatus'](_0xe65237,_0x587b25){const _0x17b89e=a48_0x311fa2;try{const _0x407201=_0x587b25==='D1'?'players':_0x587b25==='D2'?'playersD2':'playersD3',_0x2dd344=await this['getPlayerDataCached'](_0xe65237,_0x587b25);if(!_0x2dd344||_0x2dd344[_0x17b89e(0x151)]===undefined)return console[_0x17b89e(0x15d)]('‚ùå\x20No\x20ELO\x20rating\x20data\x20for\x20'+_0xe65237),null;const _0x505422=_0x2dd344[_0x17b89e(0x151)],_0x518d35=getPlayerRankTier(_0x505422),_0x4e3332=getRankTierName(_0x518d35);if(_0x4e3332==='Unranked')return console['log']('‚ùå\x20'+_0xe65237+'\x20is\x20Unranked\x20('+_0x505422+'\x20ELO)'),null;console['log'](_0x17b89e(0x122)+_0x4e3332+'\x20status\x20for\x20'+_0xe65237+'\x20('+_0x505422+_0x17b89e(0x193));const _0x1a2b69=collection(db,_0x407201),_0x46a889=await getDocs(_0x1a2b69);let _0x2121f0=null,_0x33667c=-0x1,_0x19f82f=0x0;_0x46a889['forEach'](_0x4788f9=>{const _0xf6a58d=_0x17b89e,_0x1035a1=_0x4788f9[_0xf6a58d(0x17f)](),_0x13b2bb=_0x1035a1[_0xf6a58d(0x151)]||0x0,_0x127669=getPlayerRankTier(_0x13b2bb);_0x127669===_0x518d35&&(_0x19f82f++,_0x13b2bb>_0x33667c&&(_0x33667c=_0x13b2bb,_0x2121f0=_0x1035a1['username']));});const _0x41d0ed=_0x2121f0===_0xe65237;return console['log'](_0x17b89e(0x14c)+_0x4e3332+'\x20Tier:\x20'+_0x19f82f+'\x20players,\x20Top:\x20'+_0x2121f0+'\x20('+_0x33667c+'\x20ELO),\x20'+_0xe65237+'\x20is\x20#1:\x20'+_0x41d0ed),_0x41d0ed?_0x4e3332:null;}catch(_0x57ddd3){return console['error']('Error\x20checking\x20top\x20rank\x20status:',_0x57ddd3),null;}}async[a48_0x311fa2(0x18e)](_0x1a84ef,_0x16c1d7,_0x124834){const _0x51c685=a48_0x311fa2,_0x5952f6=await this['checkTopRankStatus'](_0x1a84ef,_0x16c1d7),_0x343e58={};if(_0x5952f6){const _0x37ed9d=_0x51c685(0x196)+_0x5952f6+_0x51c685(0x167);if(RIBBON_DEFINITIONS[_0x37ed9d]){const _0x403feb=_0x124834[_0x37ed9d];!_0x403feb?(console['log']('üëë\x20NEW\x20Top\x20Rank\x20Achievement:\x20'+_0x1a84ef+'\x20earned\x20'+_0x37ed9d+'!'),_0x343e58[_0x37ed9d]={'level':0x1,'awardedAt':new Date(),'rank':_0x5952f6,'achievedAt':new Date()}):console['log']('‚úÖ\x20'+_0x1a84ef+'\x20already\x20has\x20'+_0x37ed9d+'\x20-\x20No\x20changes\x20needed');}}return Object['keys'](_0x124834)[_0x51c685(0x143)](_0x135f09=>{const _0x330f85=_0x51c685;_0x135f09['startsWith']('Top\x20')&&_0x135f09['endsWith']('\x20Pilot')&&(!_0x343e58[_0x135f09]&&console['log'](_0x330f85(0x11e)+_0x135f09));}),_0x343e58;}async['evaluateAllRibbonsForPlayerOptimized'](_0x3e922d,_0x31b79a='D1'){const _0x32b195=a48_0x311fa2;try{const _0x4eb36e=ribbonCache[_0x32b195(0x176)](_0x3e922d,_0x31b79a);if(_0x4eb36e){const _0x540904=await this[_0x32b195(0x18e)](_0x3e922d,_0x31b79a,_0x4eb36e);if(Object['keys'](_0x540904)['length']>0x0){console['log']('üÜï\x20New\x20top\x20rank\x20achievements\x20found\x20for\x20cached\x20player\x20'+_0x3e922d),await this['savePlayerRibbonsOptimized'](_0x3e922d,_0x540904,_0x31b79a);const _0x2fdcac={..._0x4eb36e,..._0x540904};return ribbonCache['setCachedData'](_0x3e922d,_0x31b79a,_0x2fdcac,0x0),_0x2fdcac;}return _0x4eb36e;}const [_0x5600db,_0x27eef5]=await Promise['all']([this['getPlayerDataCached'](_0x3e922d,_0x31b79a),this[_0x32b195(0x14b)](_0x3e922d,_0x31b79a)]);if(!_0x5600db)return{};const _0x468700=_0x5600db[_0x32b195(0x164)]||0x0,_0x3a2011=await this['evaluateTopRankRibbon'](_0x3e922d,_0x31b79a,_0x27eef5);if(!ribbonCache['shouldRefreshCache'](_0x3e922d,_0x31b79a,_0x468700)){if(Object['keys'](_0x3a2011)['length']>0x0){await this['savePlayerRibbonsOptimized'](_0x3e922d,_0x3a2011,_0x31b79a);const _0x3173b8={..._0x27eef5,..._0x3a2011};return ribbonCache['setCachedData'](_0x3e922d,_0x31b79a,_0x3173b8,_0x468700),_0x3173b8;}return ribbonCache['setCachedData'](_0x3e922d,_0x31b79a,_0x27eef5,_0x468700),_0x27eef5;}const _0xbbcb7b=await this[_0x32b195(0x169)](_0x3e922d,_0x31b79a),_0xc70c7e=await this['evaluateAllRibbonsFromData'](_0xbbcb7b,_0x5600db,_0x27eef5,_0x31b79a);Object['assign'](_0xc70c7e,_0x3a2011);Object['keys'](_0xc70c7e)['length']>0x0&&(console['log']('üíæ\x20Saving\x20'+Object['keys'](_0xc70c7e)['length']+'\x20new/updated\x20ribbons\x20for\x20'+_0x3e922d),await this[_0x32b195(0x152)](_0x3e922d,_0xc70c7e,_0x31b79a));const _0x17a5d1={..._0x27eef5,..._0xc70c7e};return ribbonCache['setCachedData'](_0x3e922d,_0x31b79a,_0x17a5d1,_0xbbcb7b['length']),_0x17a5d1;}catch(_0x17b281){return console['error'](_0x32b195(0x13a),_0x17b281),{};}}async[a48_0x311fa2(0x12f)](_0xa2f451,_0x57edc6,_0x56521e){const _0x4a1d6f=a48_0x311fa2,_0x56d351=_0xa2f451['winnerUsername']===_0x57edc6;if(!_0x56d351)return![];const _0x3801f1=_0xa2f451[_0x4a1d6f(0x19d)],[_0x30070b,_0x36de7a]=await Promise[_0x4a1d6f(0x186)]([this['getPlayerDataCached'](_0x57edc6,_0x56521e),this[_0x4a1d6f(0x135)](_0x3801f1,_0x56521e)]);if(!_0x30070b||!_0x36de7a)return console['log']('‚ö†Ô∏è\x20Missing\x20player\x20data\x20for\x20'+_0x57edc6+'\x20or\x20'+_0x3801f1),![];const _0x3a9053=_0x30070b[_0x4a1d6f(0x151)]||0x0,_0xa40565=_0x36de7a['eloRating']||0x0,_0x54a104=getPlayerRankTier(_0x3a9053),_0x4b6771=getPlayerRankTier(_0xa40565);console[_0x4a1d6f(0x15d)](_0x4a1d6f(0x1a7)+_0x57edc6+'):\x20'+_0x3a9053+'\x20ELO\x20('+getRankTierName(_0x54a104)+_0x4a1d6f(0x131)+_0x3801f1+_0x4a1d6f(0x178)+_0xa40565+_0x4a1d6f(0x153)+getRankTierName(_0x4b6771)+')');if(_0x4b6771>_0x54a104)return console['log']('üéØ\x20UNDERDOG\x20VICTORY:\x20'+getRankTierName(_0x54a104)+_0x4a1d6f(0x175)+getRankTierName(_0x4b6771)+'!'),!![];return console['log']('‚ùå\x20Not\x20underdog:\x20'+getRankTierName(_0x54a104)+_0x4a1d6f(0x13e)+getRankTierName(_0x4b6771)),![];}['isUnderdogVictoryFast'](_0x491c43,_0x8b1cb3,_0x44eff3,_0x2278a4){const _0x475ae6=a48_0x311fa2,_0x148f8b=_0x491c43[_0x475ae6(0x189)]===_0x8b1cb3;if(!_0x148f8b)return![];const _0x18d9f3=_0x491c43['loserUsername'],_0x44826f=_0x2278a4['get'](_0x18d9f3);if(!_0x44eff3||!_0x44826f)return![];const _0x194599=_0x44eff3['eloRating']||0x0,_0x158399=_0x44826f['eloRating']||0x0,_0x36f8c0=getPlayerRankTier(_0x194599),_0x1a6ef4=getPlayerRankTier(_0x158399);if(_0x1a6ef4>_0x36f8c0)return console['log'](_0x475ae6(0x172)+getRankTierName(_0x36f8c0)+'('+_0x194599+')\x20beat\x20'+getRankTierName(_0x1a6ef4)+'('+_0x158399+')'),!![];return![];}async[a48_0x311fa2(0x1a3)](_0x48d98f,_0xde4750,_0x34eb85,_0x175964){const _0x29feb1=a48_0x311fa2,_0x5edf4f={},_0x3481da=_0xde4750['username'],_0x1a601a={'totalMatches':_0x48d98f['length'],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0},_0x5295e6=new Set();_0x48d98f[_0x29feb1(0x143)](_0x2990ce=>{const _0x110c9c=_0x29feb1,_0x42974e=_0x2990ce['winnerUsername']===_0x3481da,_0x57daa1=_0x42974e?_0x2990ce[_0x110c9c(0x19d)]:_0x2990ce['winnerUsername'];if(_0x57daa1)_0x5295e6['add'](_0x57daa1);}),console[_0x29feb1(0x15d)](_0x29feb1(0x18a)+_0x5295e6['size']+'\x20player\x20records\x20for\x20underdog\x20calculations...');const _0x548368=await this[_0x29feb1(0x197)]([..._0x5295e6,_0x3481da],_0x175964),_0x21c6fe=_0x548368['get'](_0x3481da);!_0x21c6fe&&console[_0x29feb1(0x15d)]('‚ö†Ô∏è\x20No\x20current\x20player\x20data\x20found\x20for\x20'+_0x3481da);_0x48d98f[_0x29feb1(0x143)](_0x1324d6=>{const _0x13d609=_0x29feb1,_0x5e00f2=_0x1324d6[_0x13d609(0x189)]===_0x3481da,_0x5123e9=_0x5e00f2?_0x1324d6['loserUsername']:_0x1324d6['winnerUsername'];_0x5e00f2&&(_0x1a601a['wins']++,_0x1324d6['subgameType']==='Rematch'&&_0x1a601a['rematchWins']++,this['isUnderdogVictoryFast'](_0x1324d6,_0x3481da,_0x21c6fe,_0x548368)&&_0x1a601a[_0x13d609(0x15b)]++),_0x1324d6['subgameType']&&_0x1324d6['subgameType']!=='Standard'&&_0x1a601a[_0x13d609(0x198)]++,_0x1324d6['mapPlayed']&&_0x1a601a['uniqueMaps']['add'](_0x1324d6['mapPlayed']),_0x5123e9&&_0x1a601a[_0x13d609(0x155)]['add'](_0x5123e9);}),console[_0x29feb1(0x15d)]('üéØ\x20Found\x20'+_0x1a601a['underdogWins']+'\x20underdog\x20victories\x20for\x20'+_0x3481da);const _0x464f91=_0x1a601a['totalMatches']>0x0?_0x1a601a['wins']/_0x1a601a['totalMatches']*0x64:0x0,_0x4cba2b=[[_0x29feb1(0x12e),this['evaluateOverachieverRibbonFromCount'](_0x1a601a[_0x29feb1(0x148)],_0x34eb85)],[_0x29feb1(0x165),this['evaluateRematchRibbonFromCount'](_0x1a601a['rematchWins'],_0x34eb85)],[_0x29feb1(0x168),this['evaluateSubGamerRibbonFromCount'](_0x1a601a[_0x29feb1(0x198)],_0x34eb85)],['Explorer\x20Ribbon',this['evaluateExplorerRibbonFromCount'](_0x1a601a['uniqueMaps']['size'],_0x34eb85)],['Socialite\x20Ribbon',this['evaluateSocialiteRibbonFromCount'](_0x1a601a[_0x29feb1(0x155)]['size'],_0x34eb85)],[_0x29feb1(0x14a),this[_0x29feb1(0x1a4)](_0x464f91,_0x34eb85,_0x1a601a['totalMatches'])],['Underdog\x20Ribbon',this[_0x29feb1(0x14e)](_0x1a601a[_0x29feb1(0x15b)],_0x34eb85)]];_0x4cba2b['forEach'](([_0x579111,_0x32f185])=>{_0x32f185&&(_0x5edf4f[_0x579111]=_0x32f185);});const _0x193c55=Object[_0x29feb1(0x18c)](_0x34eb85)['length']+Object['keys'](_0x5edf4f)['length'],_0x820128=this['evaluateCollectorRibbonFromCount'](_0x193c55,_0x34eb85);return _0x820128&&(_0x5edf4f['Collector\x20Ribbon']=_0x820128),_0x5edf4f;}async['getPlayerMatchesOptimized'](_0x2cd0a8,_0xaf1273){const _0x50b054=a48_0x311fa2,_0x8d36c7=matchCache['getCachedMatches'](_0x2cd0a8,_0xaf1273);if(_0x8d36c7)return _0x8d36c7;try{const _0x527711=_0xaf1273==='D1'?_0x50b054(0x16f):_0xaf1273==='D2'?'approvedMatchesD2':'approvedMatchesD3',_0x4978b8=collection(db,_0x527711),[_0x36410e,_0x3349aa]=await Promise[_0x50b054(0x186)]([getDocs(query(_0x4978b8,where('winnerUsername','==',_0x2cd0a8))),getDocs(query(_0x4978b8,where(_0x50b054(0x19d),'==',_0x2cd0a8)))]),_0x11667a=new Set(),_0x11ed44=[];return _0x36410e['forEach'](_0x453b49=>{const _0x178818=_0x50b054;if(!_0x11667a['has'](_0x453b49['id'])){_0x11667a['add'](_0x453b49['id']);const _0x8f82b9={'id':_0x453b49['id'],..._0x453b49[_0x178818(0x17f)]()};if(!_0x8f82b9['winnerRating'])_0x8f82b9['winnerRating']=0x0;if(!_0x8f82b9['loserRating'])_0x8f82b9['loserRating']=0x0;_0x11ed44[_0x178818(0x146)](_0x8f82b9);}}),_0x3349aa['forEach'](_0x4b378b=>{const _0x50da75=_0x50b054;if(!_0x11667a['has'](_0x4b378b['id'])){_0x11667a[_0x50da75(0x1a2)](_0x4b378b['id']);const _0x2dd677={'id':_0x4b378b['id'],..._0x4b378b['data']()};if(!_0x2dd677['winnerRating'])_0x2dd677['winnerRating']=0x0;if(!_0x2dd677[_0x50da75(0x1a5)])_0x2dd677['loserRating']=0x0;_0x11ed44[_0x50da75(0x146)](_0x2dd677);}}),matchCache['setCachedMatches'](_0x2cd0a8,_0xaf1273,_0x11ed44),_0x11ed44;}catch(_0x126361){return console['error'](_0x50b054(0x121),_0x126361),[];}}async['getPlayerDataCached'](_0x72e182,_0x3b0248){const _0x2e710b=a48_0x311fa2;try{const _0x3c9529=_0x3b0248==='D1'?'players':_0x3b0248==='D2'?'playersD2':_0x2e710b(0x185),_0x96b5c2=collection(db,_0x3c9529),_0x27827=query(_0x96b5c2,where(_0x2e710b(0x162),'==',_0x72e182),limit(0x1)),_0x33ad3f=await getDocs(_0x27827);if(_0x33ad3f[_0x2e710b(0x17a)])return console[_0x2e710b(0x15d)](_0x2e710b(0x125)+_0x72e182+_0x2e710b(0x15c)+_0x3c9529),null;const _0x4ffa33=_0x33ad3f[_0x2e710b(0x14f)][0x0]['data']();return _0x4ffa33['eloRating']!==undefined&&(_0x4ffa33[_0x2e710b(0x141)]=_0x4ffa33['eloRating']),console['log'](_0x2e710b(0x147)+_0x72e182+':\x20ELO\x20'+_0x4ffa33[_0x2e710b(0x151)]+',\x20Position\x20'+_0x4ffa33['position']),_0x4ffa33;}catch(_0x58cc6e){return console[_0x2e710b(0x15a)](_0x2e710b(0x195)+_0x72e182+':',_0x58cc6e),null;}}async[a48_0x311fa2(0x14b)](_0x2c18ae,_0x164938){const _0x3fa56b=a48_0x311fa2;try{const _0x551ae5=_0x3fa56b(0x144)+(_0x164938==='D1'?'':_0x164938),_0x34b65c=doc(db,_0x551ae5,_0x2c18ae),_0x610b9=await getDoc(_0x34b65c);return _0x610b9['exists']()?_0x610b9['data']()['ribbons']||{}:{};}catch(_0x31e11e){return console['error']('Error\x20getting\x20player\x20ribbons:',_0x31e11e),{};}}async['savePlayerRibbonsOptimized'](_0x1e9ec4,_0xd5cdbd,_0x1e40da){try{const _0xa97855='playerRibbons'+(_0x1e40da==='D1'?'':_0x1e40da),_0x4f0d61=doc(db,_0xa97855,_0x1e9ec4),_0x1d47ff=await this['getPlayerRibbonsCached'](_0x1e9ec4,_0x1e40da),_0x369b29={..._0x1d47ff,..._0xd5cdbd};await setDoc(_0x4f0d61,{'username':_0x1e9ec4,'ladder':_0x1e40da,'ribbons':_0x369b29,'lastUpdated':new Date()},{'merge':!![]});}catch(_0x23e339){console['error']('Error\x20saving\x20ribbons:',_0x23e339);}}[a48_0x311fa2(0x142)](_0x39d9f5,_0x59d065){const _0x231799=a48_0x311fa2,_0x5ceb70=_0x59d065['Overachiever\x20Ribbon']||{'level':0x0},_0x354724=RIBBON_DEFINITIONS['Overachiever\x20Ribbon'][_0x231799(0x154)],_0x2c0c0c=_0x354724['findIndex'](_0x2f0be4=>_0x39d9f5<_0x2f0be4),_0x5f4427=_0x2c0c0c===-0x1?_0x354724['length']:_0x2c0c0c;if(_0x5f4427>_0x5ceb70['level'])return{'level':_0x5f4427,'awardedAt':new Date()};return null;}[a48_0x311fa2(0x19a)](_0x334810,_0x52c93b){const _0xc8ab71=a48_0x311fa2;if(_0x334810===0x0)return null;const _0x161528=_0x52c93b[_0xc8ab71(0x165)]||{'level':0x0};if(_0x334810>_0x161528['level'])return{'level':_0x334810,'awardedAt':new Date()};return null;}['evaluateSubGamerRibbonFromCount'](_0x2a4caa,_0xd9223c){const _0xba5bd1=a48_0x311fa2,_0x3c96a8=_0xd9223c['Sub-Gamer\x20Ribbon']||{'level':0x0},_0x42d2ce=RIBBON_DEFINITIONS['Sub-Gamer\x20Ribbon']['levels'],_0x101a37=_0x42d2ce[_0xba5bd1(0x12b)](_0xe11858=>_0x2a4caa<_0xe11858),_0x3e994e=_0x101a37===-0x1?_0x42d2ce['length']:_0x101a37;if(_0x3e994e>_0x3c96a8['level'])return{'level':_0x3e994e,'awardedAt':new Date()};return null;}[a48_0x311fa2(0x133)](_0x2cdb05,_0x389665){const _0x3b827f=a48_0x311fa2,_0x15ad83=_0x389665['Explorer\x20Ribbon']||{'level':0x0},_0x3046ed=RIBBON_DEFINITIONS['Explorer\x20Ribbon'][_0x3b827f(0x154)],_0xa68fe5=_0x3046ed[_0x3b827f(0x12b)](_0x42d46e=>_0x2cdb05<_0x42d46e),_0x237fa5=_0xa68fe5===-0x1?_0x3046ed['length']:_0xa68fe5;if(_0x237fa5>_0x15ad83['level'])return{'level':_0x237fa5,'awardedAt':new Date()};return null;}['evaluateSocialiteRibbonFromCount'](_0xebdb8e,_0x3b6011){const _0x4e470c=a48_0x311fa2,_0x55b243=_0x3b6011['Socialite\x20Ribbon']||{'level':0x0},_0x42da39=RIBBON_DEFINITIONS[_0x4e470c(0x156)]['levels'],_0x2ac45a=_0x42da39['findIndex'](_0xc64b=>_0xebdb8e<_0xc64b),_0x308e89=_0x2ac45a===-0x1?_0x42da39[_0x4e470c(0x16b)]:_0x2ac45a;if(_0x308e89>_0x55b243['level'])return{'level':_0x308e89,'awardedAt':new Date()};return null;}['evaluateBrickWallRibbonFromWinRate'](_0x309804,_0x3a3442,_0x31b7a1){const _0x4e43f8=a48_0x311fa2;if(_0x31b7a1<0x32)return console['log'](_0x4e43f8(0x18d)+_0x31b7a1+')'),null;const _0x261366=_0x3a3442['Brick\x20Wall']||{'level':0x0},_0xc76ae2=RIBBON_DEFINITIONS['Brick\x20Wall']['levels'],_0x1ef48e=_0xc76ae2['findIndex'](_0x145767=>_0x309804<_0x145767),_0x4326b8=_0x1ef48e===-0x1?_0xc76ae2['length']:_0x1ef48e;if(_0x4326b8>_0x261366['level'])return console[_0x4e43f8(0x15d)]('üèÜ\x20Brick\x20Wall\x20ribbon\x20awarded:\x20'+_0x309804['toFixed'](0x1)+_0x4e43f8(0x145)+_0x31b7a1+'\x20matches'),{'level':_0x4326b8,'awardedAt':new Date(),'winRate':_0x309804,'matchesPlayed':_0x31b7a1};return null;}[a48_0x311fa2(0x149)](_0x39e6cc,_0x111abc){const _0x2bfcab=a48_0x311fa2,_0xe318e0=_0x111abc[_0x2bfcab(0x191)]||{'level':0x0},_0x470a31=RIBBON_DEFINITIONS['Collector\x20Ribbon']['levels'],_0x281780=_0x470a31[_0x2bfcab(0x12b)](_0x1db45d=>_0x39e6cc<_0x1db45d),_0x192e99=_0x281780===-0x1?_0x470a31[_0x2bfcab(0x16b)]:_0x281780;if(_0x192e99>_0xe318e0[_0x2bfcab(0x13c)])return{'level':_0x192e99,'awardedAt':new Date()};return null;}['evaluateUnderdogRibbonFromCount'](_0xc2348c,_0x48037e){const _0x21f999=a48_0x311fa2;if(_0xc2348c===0x0)return null;const _0x1c6867=_0x48037e['Underdog\x20Ribbon']||{'level':0x0},_0x3f315c=RIBBON_DEFINITIONS['Underdog\x20Ribbon'][_0x21f999(0x154)];let _0x109315=0x0;for(let _0x672ff6=0x0;_0x672ff6<_0x3f315c[_0x21f999(0x16b)];_0x672ff6++){if(_0xc2348c>=_0x3f315c[_0x672ff6])_0x109315=_0x672ff6+0x1;else break;}if(_0x109315>_0x1c6867[_0x21f999(0x13c)])return console['log']('üèÜ\x20Underdog\x20Ribbon\x20upgrade:\x20Level\x20'+_0x1c6867[_0x21f999(0x13c)]+'\x20‚Üí\x20'+_0x109315+'\x20('+_0xc2348c+'\x20underdog\x20wins)'),{'level':_0x109315,'awardedAt':new Date()};return null;}}function getPlayerRankTier(_0xac0ff0){if(_0xac0ff0===undefined||_0xac0ff0===null)return 0x0;const _0xe2d95a=Number(_0xac0ff0);if(isNaN(_0xe2d95a))return 0x0;if(_0xe2d95a>=0x7d0)return 0x4;if(_0xe2d95a>=0x708)return 0x3;if(_0xe2d95a>=0x640)return 0x2;if(_0xe2d95a>=0x578)return 0x1;return 0x0;}function getRankTierName(_0x33c472){const _0x71d51a=a48_0x311fa2,_0x3e53ba=[_0x71d51a(0x120),_0x71d51a(0x12c),'Silver',_0x71d51a(0x137),'Emerald'];return _0x3e53ba[_0x33c472]||'Unranked';}const ribbonSystem=new RibbonSystem(),ribbonCache=new RibbonCacheManager(),matchCache=new MatchCacheManager();typeof window!==a48_0x311fa2(0x15f)&&(window['getRibbonCacheStats']=()=>{const _0x4c2283=a48_0x311fa2;return{'ribbon':ribbonCache['getCacheStats'](),'match':matchCache[_0x4c2283(0x17b)]()};});export async function evaluatePlayerRibbons(_0xd24674,_0x50c46b='D1'){return await ribbonSystem['evaluateAllRibbonsForPlayerOptimized'](_0xd24674,_0x50c46b);}export function getRibbonHTML(_0x1cc188,_0x336a7e){const _0x279e5c=a48_0x311fa2,_0x23bf3c=RIBBON_DEFINITIONS[_0x1cc188];if(!_0x23bf3c)return'';const _0x506186=_0x336a7e['level']||0x1,_0x16e6bf=_0x1cc188['replace']('\x20Ribbon','')[_0x279e5c(0x17d)](_0x279e5c(0x1a6),''),_0x3a5e1f=_0x1fb506=>{const _0x44c497=_0x279e5c;if(_0x1fb506<=0x1)return'level-1';if(_0x1fb506<=0x2)return'level-2';if(_0x1fb506<=0x3)return _0x44c497(0x124);if(_0x1fb506<=0x4)return'level-4';return'level-5-plus';},_0x580677=_0x864027=>{const _0x52140c=_0x279e5c;if(_0x864027<=0x1)return'';const _0x55cd4a=[];if(_0x864027>=0x2&&_0x864027<=0x4){const _0x87d919=Math['min'](_0x864027-0x1,0x3);for(let _0x29f28f=0x0;_0x29f28f<_0x87d919;_0x29f28f++){_0x55cd4a[_0x52140c(0x146)]('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>');}}if(_0x864027>=0x5&&_0x864027<=0x7){_0x55cd4a['push'](_0x52140c(0x19c));const _0x14f7d8=Math['min'](_0x864027-0x5,0x2);for(let _0x560da7=0x0;_0x560da7<_0x14f7d8;_0x560da7++){_0x55cd4a[_0x52140c(0x146)]('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>');}}return _0x864027>=0x8&&_0x55cd4a['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20gold-star\x22></i>'),_0x55cd4a['length']>0x0?_0x52140c(0x13d)+_0x55cd4a['join']('')+'</div>':'';},_0x5ed05c=_0x23bf3c['description']+'\x20-\x20Level\x20'+_0x506186;return _0x279e5c(0x1a8)+_0x5ed05c+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-image-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22'+_0x23bf3c[_0x279e5c(0x180)]+_0x279e5c(0x16e)+_0x1cc188+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22ribbon-image\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27;\x20this.nextElementSibling.style.display=\x27block\x27;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-fallback\x22\x20style=\x22display:\x20none;\x20background:\x20'+_0x23bf3c[_0x279e5c(0x174)]+';\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x16e6bf['substring'](0x0,0x6)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x580677(_0x506186)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-name\x22>'+_0x16e6bf+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x506186>0x1?'<div\x20class=\x22ribbon-level-indicator\x20'+_0x3a5e1f(_0x506186)+'\x22>'+_0x506186+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}