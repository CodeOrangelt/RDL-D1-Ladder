const a32_0x357ead=(function(){let _0x39c962=!![];return function(_0x5496fb,_0x5eadcc){const _0x4fac11=_0x39c962?function(){if(_0x5eadcc){const _0x5d96a5=_0x5eadcc['apply'](_0x5496fb,arguments);return _0x5eadcc=null,_0x5d96a5;}}:function(){};return _0x39c962=![],_0x4fac11;};}()),a32_0x2ae687=a32_0x357ead(this,function(){const _0x2e7e99=a32_0x2629,_0x456777=function(){let _0x59c7f3;try{_0x59c7f3=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x40fa06){_0x59c7f3=window;}return _0x59c7f3;},_0x3a7080=_0x456777(),_0x312feb=_0x3a7080[_0x2e7e99(0x9c)]=_0x3a7080['console']||{},_0x1b6294=['log','warn','info',_0x2e7e99(0xb1),'exception','table','trace'];for(let _0x4cd3d1=0x0;_0x4cd3d1<_0x1b6294['length'];_0x4cd3d1++){const _0x429be0=a32_0x357ead[_0x2e7e99(0xae)]['prototype']['bind'](a32_0x357ead),_0x5a994d=_0x1b6294[_0x4cd3d1],_0x555ec9=_0x312feb[_0x5a994d]||_0x429be0;_0x429be0['__proto__']=a32_0x357ead[_0x2e7e99(0xc7)](a32_0x357ead),_0x429be0['toString']=_0x555ec9['toString']['bind'](_0x555ec9),_0x312feb[_0x5a994d]=_0x429be0;}});a32_0x2ae687();import{collection,getDocs,deleteDoc,doc,getDoc,query,where,updateDoc,Timestamp,onSnapshot,orderBy,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db}from'./firebase-config.js';import{getRankStyle}from'./ranks.js';import a32_0x21d847 from'./firebase-idle-wrapper.js';const playerCacheD2={'data':null,'timestamp':0x0},CACHE_DURATION=0x7530;async function displayLadderD2(_0x4e7c37=![]){const _0xe913f6=a32_0x2629,_0x6b560a=document['querySelector']('#ladder-d2\x20tbody');if(!_0x6b560a){console['error']('D2\x20Ladder\x20table\x20body\x20not\x20found');return;}_0x6b560a['innerHTML']=_0xe913f6(0xb7);try{const _0x5390d1=Date[_0xe913f6(0xa4)]();if(!_0x4e7c37&&playerCacheD2['data']&&_0x5390d1-playerCacheD2['timestamp']<CACHE_DURATION){updateLadderDisplayD2(playerCacheD2['data']);return;}const _0x473ac7=collection(db,'playersD2'),_0x9f2213=query(_0x473ac7,orderBy(_0xe913f6(0xa2),'asc')),_0x552cc0=await a32_0x21d847[_0xe913f6(0xb4)](_0x473ac7),_0xc2f43a=[];_0x552cc0['forEach'](_0x773412=>{const _0x581482=_0xe913f6,_0x33f1a7=_0x773412[_0x581482(0xb8)]();_0x33f1a7['username']&&_0xc2f43a['push']({..._0x33f1a7,'id':_0x773412['id'],'elo':_0x33f1a7['eloRating']||0x0,'position':_0x33f1a7[_0x581482(0xa2)]||Number['MAX_SAFE_INTEGER']});});const _0x4fa21d=collection(db,'userProfiles'),_0xa0d109=await getDocs(_0x4fa21d),_0x30f012=new Map();_0xa0d109['forEach'](_0x3b00e8=>{const _0x69f901=_0xe913f6,_0x593370=_0x3b00e8[_0x69f901(0xb8)]();_0x593370['username']&&_0x30f012['set'](_0x593370['username']['toLowerCase'](),_0x593370);});for(const _0x211500 of _0xc2f43a){const _0x275e5a=_0x211500['username'][_0xe913f6(0xb0)]();if(_0x30f012['has'](_0x275e5a)){const _0x5e3fdc=_0x30f012['get'](_0x275e5a);_0x5e3fdc['country']&&(_0x211500['country']=_0x5e3fdc['country']['toLowerCase']());}}const _0x16a32f=_0xc2f43a['map'](_0x5f19cf=>_0x5f19cf['username']),_0x4f7354=await fetchBatchMatchStatsD2(_0x16a32f);_0xc2f43a['sort']((_0x84151,_0x5750f7)=>{const _0x2772ff=_0xe913f6,_0x132447=_0x4f7354['get'](_0x84151[_0x2772ff(0xc6)])?.['totalMatches']||0x0,_0x2a163f=_0x4f7354[_0x2772ff(0xaa)](_0x5750f7[_0x2772ff(0xc6)])?.['totalMatches']||0x0;if(_0x132447===0x0!==(_0x2a163f===0x0))return _0x132447===0x0?0x1:-0x1;return(_0x84151['position']||0x3e7)-(_0x5750f7['position']||0x3e7);}),_0xc2f43a[_0xe913f6(0xa7)]((_0x3fc78c,_0x1c7396)=>{_0x3fc78c['position']=_0x1c7396+0x1;}),playerCacheD2['data']=_0xc2f43a,playerCacheD2[_0xe913f6(0xc2)]=_0x5390d1,updateLadderDisplayD2(_0xc2f43a);}catch(_0x26beb7){console['error']('Error\x20loading\x20D2\x20ladder:',_0x26beb7),_0x6b560a[_0xe913f6(0xb2)]=_0xe913f6(0xbb)+_0x26beb7['message']+_0xe913f6(0xbe);}}function getNextAvailablePositionD2(_0x59971e){if(_0x59971e['length']===0x0)return 0x1;let _0xb7cb99=0x0;return _0x59971e['forEach'](_0x2c6abd=>{const _0x4d4502=a32_0x2629;_0x2c6abd[_0x4d4502(0xa2)]&&typeof _0x2c6abd['position']===_0x4d4502(0xa0)&&_0x2c6abd[_0x4d4502(0xa2)]>_0xb7cb99&&(_0xb7cb99=_0x2c6abd[_0x4d4502(0xa2)]);}),_0xb7cb99+0x1;}async function updatePlayerPositions(_0x4729aa,_0x149fb3){const _0x2f5d75=a32_0x2629;try{const _0x1a2226=collection(db,_0x2f5d75(0xa3)),_0xcbaa4f=await getDocs(_0x1a2226),_0x11f032=[];_0xcbaa4f[_0x2f5d75(0xa7)](_0x1271ac=>{_0x11f032['push']({'id':_0x1271ac['id'],..._0x1271ac['data']()});});const _0x4ae953=_0x11f032['find'](_0x13fe62=>_0x13fe62[_0x2f5d75(0xc6)]===_0x4729aa),_0x20d358=_0x11f032['find'](_0x111abe=>_0x111abe['username']===_0x149fb3);if(!_0x4ae953||!_0x20d358){console['error']('Could\x20not\x20find\x20winner\x20or\x20loser\x20in\x20D2\x20players\x20list');return;}if(_0x4ae953[_0x2f5d75(0xa2)]>_0x20d358[_0x2f5d75(0xa2)]){const _0x38f58d=_0x20d358['position'];for(const _0xc60d99 of _0x11f032){_0xc60d99['position']>=_0x20d358[_0x2f5d75(0xa2)]&&_0xc60d99['position']<_0x4ae953['position']&&_0xc60d99[_0x2f5d75(0xc6)]!==_0x4729aa&&await updateDoc(doc(db,'playersD2',_0xc60d99['id']),{'position':_0xc60d99['position']+0x1});}await updateDoc(doc(db,'playersD2',_0x4ae953['id']),{'position':_0x38f58d});if(_0x38f58d===0x1){const _0x36889=doc(db,'playersD2',_0x4ae953['id']),_0x3d1060=await getDoc(_0x36889);!_0x3d1060['data']()['firstPlaceDate']&&await updateDoc(_0x36889,{'firstPlaceDate':Timestamp['now']()});}if(_0x20d358[_0x2f5d75(0xa2)]===0x1){const _0xf04f7c=doc(db,'playersD2',_0x20d358['id']);await updateDoc(_0xf04f7c,{'firstPlaceDate':null});}playerCacheD2['timestamp']=0x0;}}catch(_0x4f9def){console['error'](_0x2f5d75(0xa8),_0x4f9def);}}function a32_0x2629(_0x3df8c8,_0x412d5e){const _0x2ae687=a32_0x1494();return a32_0x2629=function(_0x357ead,_0x4116ff){_0x357ead=_0x357ead-0x95;let _0x1494d2=_0x2ae687[_0x357ead];return _0x1494d2;},a32_0x2629(_0x3df8c8,_0x412d5e);}function a32_0x1494(){const _0x326a8c=['\x0a\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','totalMatches','includes','Emerald','#FFD700','find','country','console','change','0.85em','newElo','number','.png\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22','position','playersD2','now','elo','log','forEach','Error\x20updating\x20D2\x20player\x20positions:','losses','get','Error\x20fetching\x20batch\x20D2\x20match\x20stats:','Bronze','\x20fallback\x20ELO\x20change:\x20','constructor','Error\x20updating\x20D2\x20ELO\x20trend\x20indicators:','toLowerCase','error','innerHTML','totalKills','getDocuments','Gold','set','<tr><td\x20colspan=\x228\x22\x20class=\x22loading-cell\x22>Loading\x20D2\x20ladder\x20data...</td></tr>','data','querySelector','eloHistoryD2','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x228\x22\x20style=\x22text-align:\x20center;\x20color:\x20red;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20D2\x20ladder\x20data:\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22trend-indicator\x22\x20style=\x22margin-left:\x205px;\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','approvedMatchesD2','size','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timestamp','fontWeight','winRate','style','username','bind','push','player'];a32_0x1494=function(){return _0x326a8c;};return a32_0x1494();}function calculateStreakDays(_0x360c39){if(!_0x360c39)return 0x0;const _0x303f4d=_0x360c39['toDate'](),_0x1c423b=new Date(),_0x492daf=Math['abs'](_0x1c423b-_0x303f4d);return Math['ceil'](_0x492daf/(0x3e8*0x3c*0x3c*0x18));}function getPlayerRankNameD2(_0x31b84e){const _0x591c7c=a32_0x2629;if(_0x31b84e>=0x834)return _0x591c7c(0x98);if(_0x31b84e>=0x708)return _0x591c7c(0xb5);if(_0x31b84e>=0x640)return'Silver';if(_0x31b84e>=0x578)return _0x591c7c(0xac);return'Unranked';}async function updateLadderDisplayD2(_0x280e27){const _0xac2412=a32_0x2629;_0x280e27['sort']((_0x2555d8,_0xb92ad)=>_0x2555d8['position']-_0xb92ad['position']);const _0x3b34e6=document[_0xac2412(0xb9)]('#ladder-d2\x20tbody');if(!_0x3b34e6)return;_0x3b34e6['innerHTML']='';const _0x569e96=_0x280e27['map'](_0x19d7f9=>_0x19d7f9['username']),_0xfefb3e=await fetchBatchMatchStatsD2(_0x569e96),_0x4a37ac=document[_0xac2412(0xb9)]('#ladder-d2\x20thead\x20tr');_0x4a37ac&&(_0x4a37ac['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Rank</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Username</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>ELO</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Matches</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Wins</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Losses</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>K/D</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Win\x20Rate</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');const _0x5b74c4=_0x280e27['map'](_0x288a73=>{const _0x413d9d=_0xfefb3e['get'](_0x288a73['username'])||{'totalMatches':0x0,'wins':0x0,'losses':0x0,'kda':0x0,'winRate':0x0,'totalKills':0x0,'totalDeaths':0x0};return createPlayerRowD2(_0x288a73,_0x413d9d);})['join']('');_0x3b34e6['innerHTML']=_0x5b74c4,getPlayersLastEloChangesD2(_0x569e96)['then'](_0x1e1060=>{const _0x2eeb06=_0xac2412,_0x332723=new Map();_0x3b34e6['querySelectorAll']('tr')['forEach']((_0x25f435,_0x59ac92)=>{_0x59ac92<_0x569e96['length']&&_0x332723['set'](_0x569e96[_0x59ac92],_0x25f435);}),_0x1e1060[_0x2eeb06(0xa7)]((_0x184ff0,_0x29355c)=>{const _0x54cc67=_0x2eeb06,_0x4fa1b2=_0x332723['get'](_0x29355c);if(_0x4fa1b2&&_0x184ff0!==0x0){const _0x308c42=_0x4fa1b2['querySelector']('td:nth-child(3)');if(_0x308c42){const _0x2df17c=_0x184ff0>0x0?'+'+_0x184ff0:''+_0x184ff0,_0x308087=_0x308c42['querySelector']('.trend-indicator');_0x308087&&(_0x308087['textContent']=_0x2df17c,_0x308087['style']['color']=_0x184ff0>0x0?'#4CAF50':'#F44336',_0x308087[_0x54cc67(0xc5)][_0x54cc67(0xc3)]='bold',_0x308087[_0x54cc67(0xc5)]['fontSize']=_0x54cc67(0x9e),_0x308087[_0x54cc67(0xc5)]['display']='inline',_0x308087[_0x54cc67(0xc5)]['visibility']='visible',_0x308087['style']['opacity']='1');}}});})['catch'](_0x70c4a8=>console[_0xac2412(0xb1)](_0xac2412(0xaf),_0x70c4a8));}function createPlayerRowD2(_0x41a26f,_0x38e2ee){const _0x51e3fe=a32_0x2629,_0x268d73=parseFloat(_0x41a26f[_0x51e3fe(0xa5)])||0x0;let _0x266264='gray';if(_0x268d73>=0x7d0)_0x266264='#50C878';else{if(_0x268d73>=0x708)_0x266264=_0x51e3fe(0x99);else{if(_0x268d73>=0x640)_0x266264='#C0C0C0';else _0x268d73>=0x578&&(_0x266264='#CD7F32');}}let _0x18422e='';return _0x41a26f['country']&&(_0x18422e='<img\x20src=\x22../images/flags/'+_0x41a26f['country']['toLowerCase']()+_0x51e3fe(0xa1)+_0x41a26f[_0x51e3fe(0x9b)]+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22player-flag\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22margin-left:\x205px;\x20vertical-align:\x20middle;\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>'),_0x51e3fe(0x95)+_0x41a26f[_0x51e3fe(0xa2)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22profile.html?username='+encodeURIComponent(_0x41a26f['username'])+'&ladder=d2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22color:\x20'+_0x266264+';\x20text-decoration:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x41a26f['username']+_0x51e3fe(0xc1)+_0x18422e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22color:\x20'+_0x266264+';\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22elo-container\x22\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22elo-value\x22>'+_0x268d73+_0x51e3fe(0xbc)+_0x38e2ee['totalMatches']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x38e2ee['wins']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x38e2ee[_0x51e3fe(0xa9)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x38e2ee['kda']+_0x51e3fe(0xbd)+_0x38e2ee[_0x51e3fe(0xc4)]+'%</td>\x0a\x20\x20\x20\x20</tr>';}async function getPlayersLastEloChangesD2(_0x57cab6){const _0x495797=a32_0x2629,_0xaa3e25=new Map();_0x57cab6['forEach'](_0x3871f6=>_0xaa3e25['set'](_0x3871f6,0x0));try{const _0x16acc3=collection(db,_0x495797(0xba)),_0x5c58c7=query(_0x16acc3,orderBy('timestamp','desc'),limit(0x64)),_0x3720a3=await getDocs(_0x5c58c7),_0x16cd40=new Map(),_0x58ccd2=await getDocs(collection(db,'playersD2'));_0x58ccd2['forEach'](_0xfea6=>{const _0x5bd10b=_0x495797,_0x26847e=_0xfea6['data']();_0x26847e['username']&&_0x16cd40[_0x5bd10b(0xb6)](_0xfea6['id'],_0x26847e['username']);});const _0x297630=new Map();_0x3720a3[_0x495797(0xa7)](_0xc992ba=>{const _0x52e6c7=_0x495797,_0x405284=_0xc992ba['data']();let _0x24122f=_0x405284[_0x52e6c7(0xc6)]||_0x405284['playerUsername'];!_0x24122f&&_0x405284['player']&&_0x16cd40['has'](_0x405284[_0x52e6c7(0xc9)])&&(_0x24122f=_0x16cd40[_0x52e6c7(0xaa)](_0x405284['player']));if(!_0x24122f&&_0x405284['matchId']){}_0x24122f&&_0x57cab6[_0x52e6c7(0x97)](_0x24122f)&&(!_0x297630['has'](_0x24122f)&&_0x297630['set'](_0x24122f,[]),_0x297630['get'](_0x24122f)[_0x52e6c7(0xc8)]({..._0x405284,'timestamp':_0x405284[_0x52e6c7(0xc2)]?.['seconds']||0x0,'username':_0x24122f}));}),_0x297630[_0x495797(0xa7)]((_0x5581f8,_0x273b65)=>{const _0xda2b15=_0x495797;if(_0x5581f8['length']>0x0){_0x5581f8['sort']((_0x4ce0e4,_0x16025a)=>_0x16025a['timestamp']-_0x4ce0e4['timestamp']);const _0x219b31=_0x5581f8[_0xda2b15(0x9a)](_0x1a77cb=>_0x1a77cb[_0xda2b15(0x9d)]!==undefined||_0x1a77cb[_0xda2b15(0x9f)]!==undefined&&_0x1a77cb['previousElo']!==undefined);if(_0x219b31){let _0xcff00c;if(_0x219b31[_0xda2b15(0x9d)]!==undefined)_0xcff00c=_0x219b31['change'];else _0x219b31['newElo']!==undefined&&_0x219b31['previousElo']!==undefined&&(_0xcff00c=_0x219b31[_0xda2b15(0x9f)]-_0x219b31['previousElo']);_0xcff00c!==undefined&&_0xaa3e25['set'](_0x273b65,_0xcff00c);}}});if(_0x297630[_0x495797(0xc0)]===0x0){const _0x2fbbe2=collection(db,'eloHistory'),_0x2e9388=query(_0x2fbbe2,where('gameMode','==','D2'),orderBy('timestamp','desc'),limit(0x32));try{const _0xab9f47=await getDocs(_0x2e9388);console[_0x495797(0xa6)]('D2:\x20Found',_0xab9f47[_0x495797(0xc0)],'fallback\x20entries'),_0xab9f47['forEach'](_0x462bca=>{const _0x225ab7=_0x495797,_0x3a27b8=_0x462bca[_0x225ab7(0xb8)](),_0x25b9a0=_0x3a27b8[_0x225ab7(0xc6)]||_0x3a27b8['playerUsername'];if(_0x25b9a0&&_0x57cab6[_0x225ab7(0x97)](_0x25b9a0)){const _0x8b01c9=_0x3a27b8['change']||(_0x3a27b8[_0x225ab7(0x9f)]!==undefined&&_0x3a27b8['previousElo']!==undefined?_0x3a27b8[_0x225ab7(0x9f)]-_0x3a27b8['previousElo']:0x0);_0x8b01c9!==0x0&&(_0xaa3e25['set'](_0x25b9a0,_0x8b01c9),console[_0x225ab7(0xa6)]('D2:\x20'+_0x25b9a0+_0x225ab7(0xad)+_0x8b01c9));}});}catch(_0x52f2ca){}}}catch(_0x2e8368){console['error']('D2:\x20Error\x20fetching\x20ELO\x20history:',_0x2e8368);}return _0xaa3e25;}async function fetchBatchMatchStatsD2(_0x8578e0){const _0x5a903c=a32_0x2629,_0x2559a0=new Map();try{_0x8578e0['forEach'](_0x560ca0=>{_0x2559a0['set'](_0x560ca0,{'totalMatches':0x0,'wins':0x0,'losses':0x0,'totalKills':0x0,'totalDeaths':0x0,'kda':0x0,'winRate':0x0});});const _0x5e5ec6=collection(db,_0x5a903c(0xbf)),_0x17e28e=await getDocs(_0x5e5ec6);_0x17e28e['forEach'](_0x1880b9=>{const _0x256cb1=_0x5a903c,_0x583fae=_0x1880b9['data'](),_0x3a6cc0=_0x583fae['winnerUsername'],_0x563b60=_0x583fae['loserUsername'];if(_0x8578e0['includes'](_0x3a6cc0)){const _0x88f1a0=_0x2559a0[_0x256cb1(0xaa)](_0x3a6cc0);_0x88f1a0['wins']++,_0x88f1a0[_0x256cb1(0x96)]++,_0x88f1a0[_0x256cb1(0xb3)]+=parseInt(_0x583fae['winnerScore'])||0x0,_0x88f1a0['totalDeaths']+=parseInt(_0x583fae['loserScore'])||0x0;}if(_0x8578e0[_0x256cb1(0x97)](_0x563b60)){const _0x1257d0=_0x2559a0['get'](_0x563b60);_0x1257d0['losses']++,_0x1257d0['totalMatches']++,_0x1257d0['totalKills']+=parseInt(_0x583fae['loserScore'])||0x0,_0x1257d0['totalDeaths']+=parseInt(_0x583fae['winnerScore'])||0x0;}}),_0x8578e0['forEach'](_0x288dc7=>{const _0x19c987=_0x5a903c,_0x5452c0=_0x2559a0['get'](_0x288dc7);_0x5452c0['kda']=_0x5452c0['totalDeaths']>0x0?(_0x5452c0['totalKills']/_0x5452c0['totalDeaths'])['toFixed'](0x2):_0x5452c0['totalKills']['toFixed'](0x2),_0x5452c0['winRate']=_0x5452c0['totalMatches']>0x0?(_0x5452c0['wins']/_0x5452c0[_0x19c987(0x96)]*0x64)['toFixed'](0x1):0x0;});}catch(_0x2e6c24){console['error'](_0x5a903c(0xab),_0x2e6c24);}return _0x2559a0;}export{displayLadderD2,updatePlayerPositions};