const a22_0x58feb0=a22_0x19d2,a22_0x4706cd=(function(){let _0x7337cb=!![];return function(_0x23c4c6,_0x2c74ec){const _0x43ac7c=_0x7337cb?function(){if(_0x2c74ec){const _0x3022f5=_0x2c74ec['apply'](_0x23c4c6,arguments);return _0x2c74ec=null,_0x3022f5;}}:function(){};return _0x7337cb=![],_0x43ac7c;};}()),a22_0x435d9c=a22_0x4706cd(this,function(){const _0x264c02=a22_0x19d2;let _0x537e5c;try{const _0x2440e2=Function('return\x20(function()\x20'+_0x264c02(0x1cd)+');');_0x537e5c=_0x2440e2();}catch(_0x10e8dd){_0x537e5c=window;}const _0x2e385a=_0x537e5c['console']=_0x537e5c['console']||{},_0x4622cb=[_0x264c02(0x1b3),'warn','info','error',_0x264c02(0x1dd),'table',_0x264c02(0x1c7)];for(let _0x4b32ba=0x0;_0x4b32ba<_0x4622cb['length'];_0x4b32ba++){const _0x422859=a22_0x4706cd['constructor']['prototype'][_0x264c02(0x1c3)](a22_0x4706cd),_0x644f74=_0x4622cb[_0x4b32ba],_0x25c13a=_0x2e385a[_0x644f74]||_0x422859;_0x422859['__proto__']=a22_0x4706cd[_0x264c02(0x1c3)](a22_0x4706cd),_0x422859[_0x264c02(0x1ad)]=_0x25c13a[_0x264c02(0x1ad)]['bind'](_0x25c13a),_0x2e385a[_0x644f74]=_0x422859;}});a22_0x435d9c();function a22_0x3150(){const _0x5dca95=['style','#send-response','docs','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20Accept\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20decline-btn\x22\x20data-action=\x22decline\x22\x20data-invitation-id=\x22','toString','all','invitations','toDate','dataset','querySelectorAll','log','modal-styles','toUserId','setupEventListeners','unsubscribe','message','none','openResponseModal','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createdAt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20respond-btn\x22\x20data-action=\x22respond\x22\x20data-invitation-id=\x22','Failed\x20to\x20','.filter-btn','To:\x20','Error\x20updating\x20invitation\x20status:','className','bind','querySelector','inline-block','Message\x20sent!\x20(Feature\x20will\x20be\x20fully\x20implemented\x20in\x20future\x20update)','trace','getTimeAgo','cancelled','h\x20ago','accepted','Invitations\x20you\x20send\x20to\x20other\x20players\x20will\x20appear\x20here.','{}.constructor(\x22return\x20this\x22)(\x20)','modal-overlay','textContent','target','disabled','declined','currentFilter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20Decline\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','status','join','getElementById','lastDoc','inbox-content','Just\x20now','desc','exception','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22status-badge\x20status-','pending','renderInvitations','updateInvitationStatus','<span\x20class=\x22sent-indicator\x22><i\x20class=\x22fas\x20fa-paper-plane\x22></i>\x20Sent</span>','remove','innerHTML','floor','data','error','sentUnsubscribe','destroy','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','createTeamFromInvitation'];a22_0x3150=function(){return _0x5dca95;};return a22_0x3150();}import{auth,db}from'./firebase-config.js';import{collection,query,where,orderBy,getDocs,doc,updateDoc,onSnapshot,limit,startAfter}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';function a22_0x19d2(_0x3803f5,_0x1a1463){const _0x435d9c=a22_0x3150();return a22_0x19d2=function(_0x4706cd,_0x176a55){_0x4706cd=_0x4706cd-0x1a9;let _0x315014=_0x435d9c[_0x4706cd];return _0x315014;},a22_0x19d2(_0x3803f5,_0x1a1463);}class InboxManager{constructor(){const _0x1452eb=a22_0x19d2;this['currentFilter']=_0x1452eb(0x1df),this[_0x1452eb(0x1af)]=[],this['sentInvitations']=[],this[_0x1452eb(0x1b7)]=null,this[_0x1452eb(0x1e8)]=null,this['pageSize']=0x14,this[_0x1452eb(0x1d9)]=null,this['hasMore']=!![],this['init']();}async['init'](){auth['onAuthStateChanged'](_0x51dbc7=>{const _0x343f08=a22_0x19d2;_0x51dbc7?(this['loadInvitations'](_0x51dbc7['uid']),this[_0x343f08(0x1b6)]()):window['location']['href']='./login.html';});}[a22_0x58feb0(0x1b6)](){document['querySelectorAll']('.filter-btn')['forEach'](_0x2fce8a=>{_0x2fce8a['addEventListener']('click',()=>{const _0x13d1a7=a22_0x19d2;document[_0x13d1a7(0x1b2)](_0x13d1a7(0x1bf))['forEach'](_0x47f320=>_0x47f320['classList'][_0x13d1a7(0x1e3)]('active')),_0x2fce8a['classList']['add']('active'),this['currentFilter']=_0x2fce8a['dataset']['filter'],this['renderInvitations']();});});}['loadInvitations'](_0x490f90){const _0x9ccfa8=a22_0x58feb0,_0x7ff604=collection(db,'gameInvitations');let _0x5514be=query(_0x7ff604,where(_0x9ccfa8(0x1b5),'==',_0x490f90),orderBy('createdAt','desc'),limit(this['pageSize']));this['unsubscribe']=onSnapshot(_0x5514be,_0x1a67ad=>{const _0x2593d3=_0x9ccfa8;this['invitations']=_0x1a67ad[_0x2593d3(0x1ab)]['map'](_0x4f5de5=>({'id':_0x4f5de5['id'],..._0x4f5de5[_0x2593d3(0x1e6)]()})),this['renderInvitations'](),this['updateNotificationCount']();});let _0x470383=query(_0x7ff604,where('fromUserId','==',_0x490f90),orderBy(_0x9ccfa8(0x1bc),_0x9ccfa8(0x1dc)),limit(this['pageSize']));this['sentUnsubscribe']=onSnapshot(_0x470383,_0x5d6914=>{this['sentInvitations']=_0x5d6914['docs']['map'](_0x32824a=>({'id':_0x32824a['id'],..._0x32824a['data'](),'isSent':!![]})),this['renderInvitations']();});}['renderInvitations'](){const _0x5aafa6=a22_0x58feb0,_0x12a5e0=document['getElementById'](_0x5aafa6(0x1da));if(!_0x12a5e0)return;let _0x2e3871=[];if(this['currentFilter']==='outbox')_0x2e3871=this['sentInvitations'];else this['currentFilter']===_0x5aafa6(0x1ae)?_0x2e3871=[...this['invitations'],...this['sentInvitations']]['sort']((_0x3cf7cd,_0x24a27d)=>{const _0x148f50=_0x5aafa6,_0x537857=_0x3cf7cd[_0x148f50(0x1bc)]?.['toDate']?_0x3cf7cd['createdAt']['toDate']():new Date(_0x3cf7cd['createdAt']),_0x582cca=_0x24a27d['createdAt']?.['toDate']?_0x24a27d[_0x148f50(0x1bc)]['toDate']():new Date(_0x24a27d['createdAt']);return _0x582cca-_0x537857;}):_0x2e3871=this['invitations']['filter'](_0x34e307=>_0x34e307['status']===this['currentFilter']);if(_0x2e3871['length']===0x0){const _0x3ff0d9=this['currentFilter']==='outbox'?'sent':this['currentFilter']==='all'?'':this['currentFilter'];_0x12a5e0[_0x5aafa6(0x1e4)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22empty-inbox\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-inbox\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>No\x20'+_0x3ff0d9+'\x20invitations</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(this[_0x5aafa6(0x1d3)]==='outbox'?_0x5aafa6(0x1cc):'When\x20other\x20players\x20invite\x20you\x20to\x20games,\x20they\x27ll\x20appear\x20here.')+_0x5aafa6(0x1bb);return;}_0x12a5e0[_0x5aafa6(0x1e4)]=_0x2e3871['map'](_0x5b277c=>this['createInvitationCard'](_0x5b277c))[_0x5aafa6(0x1d7)](''),this['setupActionListeners']();}['createInvitationCard'](_0x43235a){const _0x55bce1=a22_0x58feb0,_0x5c3fc1=_0x43235a['createdAt']?.[_0x55bce1(0x1b0)]?_0x43235a['createdAt'][_0x55bce1(0x1b0)]():new Date(_0x43235a[_0x55bce1(0x1bc)]),_0x27f371=this[_0x55bce1(0x1c8)](_0x5c3fc1),_0x231786=_0x43235a['isSent']||![];let _0x148bf5='';return _0x43235a['type']==='team_invite'?_0x148bf5=_0x55bce1(0x1ea)+_0x43235a[_0x55bce1(0x1b8)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22team-invite-preview\x22\x20style=\x22background:\x20#1a1a1a;\x20padding:\x201rem;\x20border-radius:\x204px;\x20margin:\x200.5rem\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20style=\x22color:\x20'+_0x43235a['teamData']['teamColor']+';\x20margin:\x200\x200\x200.5rem\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x43235a['teamData']['proposedTeamName']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22color:\x20#888;\x20font-size:\x200.9em;\x20margin:\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Duos\x20Ladder\x20Team\x20â€¢\x20Color:\x20'+_0x43235a['teamData']['teamColor']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x148bf5=_0x55bce1(0x1ea)+_0x43235a[_0x55bce1(0x1b8)]+_0x55bce1(0x1bb),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-card\x20'+_0x43235a['status']+'\x20'+(_0x231786?'sent-invitation':'')+'\x22\x20data-invitation-id=\x22'+_0x43235a['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-from\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x231786?_0x55bce1(0x1c0)+_0x43235a['toUsername']:_0x43235a['fromUsername'])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x231786?_0x55bce1(0x1e2):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-time\x22>'+_0x27f371+_0x55bce1(0x1de)+_0x43235a['status']+'\x22>'+_0x43235a[_0x55bce1(0x1d6)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x148bf5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x231786&&_0x43235a['status']==='pending'?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20accept-btn\x22\x20data-action=\x22accept\x22\x20data-invitation-id=\x22'+_0x43235a['id']+_0x55bce1(0x1ac)+_0x43235a['id']+_0x55bce1(0x1d5)+(_0x43235a['type']!=='team_invite'?_0x55bce1(0x1bd)+_0x43235a['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-reply\x22></i>\x20Send\x20Message\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+_0x55bce1(0x1d4):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x231786&&_0x43235a['status']==='pending'?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20cancel-btn\x22\x20data-action=\x22cancel\x22\x20data-invitation-id=\x22'+_0x43235a['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20Cancel\x20Invitation\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}['setupActionListeners'](){document['querySelectorAll']('.action-btn')['forEach'](_0x594fce=>{_0x594fce['addEventListener']('click',async _0x3858c3=>{const _0x5c5234=a22_0x19d2,_0x4b64de=_0x594fce['dataset']['action'],_0x44fa7f=_0x594fce[_0x5c5234(0x1b1)]['invitationId'];_0x594fce[_0x5c5234(0x1d1)]=!![];const _0x159e69=_0x594fce['innerHTML'];_0x594fce['innerHTML']=_0x5c5234(0x1eb);try{switch(_0x4b64de){case'accept':await this[_0x5c5234(0x1e1)](_0x44fa7f,_0x5c5234(0x1cb));break;case'decline':await this[_0x5c5234(0x1e1)](_0x44fa7f,_0x5c5234(0x1d2));break;case'cancel':await this['updateInvitationStatus'](_0x44fa7f,_0x5c5234(0x1c9));break;case'respond':this[_0x5c5234(0x1ba)](_0x44fa7f);break;}}catch(_0x51acc9){console['error']('Error\x20performing\x20'+_0x4b64de+':',_0x51acc9),alert(_0x5c5234(0x1be)+_0x4b64de+'\x20invitation.\x20Please\x20try\x20again.');}finally{_0x594fce['disabled']=![],_0x594fce[_0x5c5234(0x1e4)]=_0x159e69;}});});}async['updateInvitationStatus'](_0x34feda,_0x14c869){const _0x13c0e9=a22_0x58feb0;try{const _0x22240d=this['invitations']['find'](_0x5282b8=>_0x5282b8['id']===_0x34feda);_0x22240d&&_0x22240d['type']==='team_invite'&&_0x14c869==='accepted'&&await this['createTeamFromInvitation'](_0x22240d);const _0x113ad8=doc(db,'gameInvitations',_0x34feda);await updateDoc(_0x113ad8,{'status':_0x14c869,'respondedAt':new Date()}),_0x22240d&&(_0x22240d[_0x13c0e9(0x1d6)]=_0x14c869,_0x22240d['respondedAt']=new Date(),this[_0x13c0e9(0x1e0)]());}catch(_0x2c8806){console[_0x13c0e9(0x1e7)](_0x13c0e9(0x1c1),_0x2c8806);throw _0x2c8806;}}['openResponseModal'](_0x39a87a){const _0x54f85e=a22_0x58feb0,_0x425414=this['invitations']['find'](_0x5ce4a4=>_0x5ce4a4['id']===_0x39a87a);if(!_0x425414)return;const _0x513593=document['createElement']('div');_0x513593[_0x54f85e(0x1c2)]=_0x54f85e(0x1ce),_0x513593[_0x54f85e(0x1e4)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Send\x20Message\x20to\x20'+_0x425414['fromUsername']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22modal-close\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-body\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Regarding\x20invitation\x20to:\x20<strong>'+_0x425414['value']+'</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22response-message\x22\x20placeholder=\x22Type\x20your\x20message\x20here...\x22\x20rows=\x224\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20respond-btn\x22\x20id=\x22send-response\x22>Send\x20Message</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x22\x20id=\x22cancel-response\x22>Cancel</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';if(!document['getElementById'](_0x54f85e(0x1b4))){const _0x2d076c=document['createElement'](_0x54f85e(0x1a9));_0x2d076c['id']='modal-styles',_0x2d076c[_0x54f85e(0x1cf)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-overlay\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20right:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.8);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-content\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#2a2a2a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2090%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20500px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-height:\x2090vh;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20overflow-y:\x20auto;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-header\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20space-between;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-close\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x201.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-body\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-body\x20textarea\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#1a1a1a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resize:\x20vertical;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-footer\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-top:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document['head']['appendChild'](_0x2d076c);}document['body']['appendChild'](_0x513593),_0x513593[_0x54f85e(0x1c4)]('.modal-close')['addEventListener']('click',()=>_0x513593['remove']()),_0x513593['querySelector']('#cancel-response')['addEventListener']('click',()=>_0x513593['remove']()),_0x513593['addEventListener']('click',_0x34b3ff=>{const _0x1dd74a=_0x54f85e;if(_0x34b3ff[_0x1dd74a(0x1d0)]===_0x513593)_0x513593['remove']();}),_0x513593[_0x54f85e(0x1c4)](_0x54f85e(0x1aa))['addEventListener']('click',()=>{const _0xb01a5=_0x54f85e,_0x282502=document[_0xb01a5(0x1d8)]('response-message')['value']['trim']();_0x282502&&(alert(_0xb01a5(0x1c6)),_0x513593['remove']());});}async[a22_0x58feb0(0x1ec)](_0x3bfff8){try{const {createTeam:_0x199093}=await import('./ladderduos.js'),_0x4b0e00=await _0x199093(_0x3bfff8['fromUsername'],_0x3bfff8['toUsername'],_0x3bfff8['teamData']['proposedTeamName'],_0x3bfff8['teamData']['teamColor']);if(!_0x4b0e00['success'])throw new Error(_0x4b0e00['error']);alert('Team\x20\x22'+_0x3bfff8['teamData']['proposedTeamName']+'\x22\x20created\x20successfully!');}catch(_0x1ac0df){console['error']('Error\x20creating\x20team:',_0x1ac0df);throw new Error('Failed\x20to\x20create\x20team:\x20'+_0x1ac0df['message']);}}['updateNotificationCount'](){const _0x5ccae2=a22_0x58feb0,_0x1e06a1=this['invitations']['filter'](_0xc90136=>_0xc90136['status']==='pending')['length'],_0x34a204=document['getElementById']('inbox-notification');_0x34a204&&(_0x1e06a1>0x0?(_0x34a204['style']['display']=_0x5ccae2(0x1c5),_0x34a204['textContent']=_0x1e06a1>0x9?'9+':_0x1e06a1):_0x34a204['style']['display']=_0x5ccae2(0x1b9));}['getTimeAgo'](_0xcce026){const _0x120d2b=a22_0x58feb0,_0x10b1bc=new Date(),_0x138c2b=_0x10b1bc-_0xcce026,_0x5be5a3=Math[_0x120d2b(0x1e5)](_0x138c2b/(0x3e8*0x3c)),_0xee82e4=Math['floor'](_0x138c2b/(0x3e8*0x3c*0x3c)),_0x490496=Math['floor'](_0x138c2b/(0x3e8*0x3c*0x3c*0x18));if(_0x5be5a3<0x1)return _0x120d2b(0x1db);if(_0x5be5a3<0x3c)return _0x5be5a3+'m\x20ago';if(_0xee82e4<0x18)return _0xee82e4+_0x120d2b(0x1ca);if(_0x490496<0x7)return _0x490496+'d\x20ago';return _0xcce026['toLocaleDateString']();}[a22_0x58feb0(0x1e9)](){this['unsubscribe']&&this['unsubscribe'](),this['sentUnsubscribe']&&this['sentUnsubscribe']();}}document['addEventListener']('DOMContentLoaded',()=>{new InboxManager();});