const a19k=a19b;(function(a,b){const i=a19b,c=a();while(!![]){try{const d=-parseInt(i(0x19f))/0x1+parseInt(i(0x1a6))/0x2*(parseInt(i(0x19c))/0x3)+parseInt(i(0x17e))/0x4+parseInt(i(0x18e))/0x5+-parseInt(i(0x167))/0x6*(-parseInt(i(0x1a1))/0x7)+-parseInt(i(0x1b0))/0x8+-parseInt(i(0x179))/0x9*(parseInt(i(0x1ad))/0xa);if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a19a,0x6d868));import{auth,db}from'./firebase-config.js';import{handleNetworkError}from'./idle-timeout.js';function a19b(a,b){const c=a19a();return a19b=function(d,e){d=d-0x164;let f=c[d];if(a19b['qvhNEA']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a19b['Tfowoa']=g,a=arguments,a19b['qvhNEA']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a19b['Tfowoa'](f),a[i]=f):f=j,f;},a19b(a,b);}import{getDoc,getDocs,collection,doc,query,where,orderBy,limit,startAfter,addDoc,setDoc,updateDoc,deleteDoc,onSnapshot,getCountFromServer,writeBatch,serverTimestamp,Timestamp}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';class FirebaseIdleWrapper{constructor(){const j=a19b;this[j(0x17b)]=new Map(),this[j(0x1aa)]=new Map(),this['pendingTimeout']=null,this[j(0x16f)]=0x0,this['debug']=![];}[a19k(0x172)](){const l=a19k;if(window[l(0x190)]===!![])return console['log'](l(0x177)),this[l(0x16f)]=(this['blockedOperations']||0x0)+0x1,this[l(0x16f)]%0xa===0x0&&console[l(0x17f)]('[FirebaseIdle]\x20Blocked\x20'+this['blockedOperations']+'\x20operations\x20during\x20idle\x20state'),![];if(window['RDL_NETWORK_ERROR']===!![])return console['log'](l(0x191)),![];return!![];}async['safeOperation'](a,b,...c){const m=a19k;if(!this[m(0x172)]()){const d=b+'-'+Date['now']()+'-'+Math['random']()[m(0x1a8)](0x24)['substring'](0x2,0x9);return this[m(0x1aa)]['set'](d,{'operation':a,'operationType':b,'args':c}),!this['pendingTimeout']&&(this[m(0x16a)]=setTimeout(()=>{const n=m;this[n(0x1aa)]['clear'](),this[n(0x16a)]=null;},0x5*0x3c*0x3e8)),null;}try{return await a(...c);}catch(e){if(e[m(0x18d)]===m(0x181)||e['code']==='resource-exhausted'||e['message']&&e['message'][m(0x184)](m(0x185)))return handleNetworkError(),null;throw e;}}async['getDocument'](a){const o=a19k;return this['safeOperation'](getDoc,o(0x1a4),a);}async[a19k(0x19b)](a){const p=a19k;return this[p(0x178)](getDocs,'query',a);}async[a19k(0x165)](a,b){const q=a19k;return this[q(0x178)](addDoc,'add',a,b);}async['setDocument'](a,b,c={}){const r=a19k;return this[r(0x178)](setDoc,'set',a,b,c);}async['updateDocument'](a,b){const s=a19k;return this['safeOperation'](updateDoc,s(0x17a),a,b);}async['deleteDocument'](a){const t=a19k;return this['safeOperation'](deleteDoc,t(0x199),a);}['suspendAllListeners'](){const u=a19k;console[u(0x19d)]('[FirebaseIdle]\x20Suspending\x20all\x20active\x20listeners:',this['activeListeners'][u(0x1a0)]),this['_suspendedListeners']=new Map(this['activeListeners']),this[u(0x17b)]['forEach']((a,b)=>{const v=u;console['log'](v(0x189),b);if(typeof a==='function')try{a(),console[v(0x19d)](v(0x16e),b);}catch(c){console['error']('[FirebaseIdle]\x20Error\x20suspending\x20listener:',b,c);}}),this['activeListeners']['clear']();if(this[u(0x18c)]){const a=document['createElement'](u(0x18b));a['id']=u(0x192),a[u(0x187)]['cssText']=u(0x19a),a[u(0x175)]=u(0x16b),document[u(0x193)]['appendChild'](a);}console[u(0x19d)](u(0x1a2));}[a19k(0x1a7)](){const w=a19k;if(!this[w(0x194)]||this['_suspendedListeners'][w(0x1a0)]===0x0){console[w(0x19d)](w(0x18a));return;}console['log'](w(0x1ac),this[w(0x194)][w(0x1a0)]),this[w(0x194)]['forEach']((b,c)=>{const x=w;console['log'](x(0x171),c);try{if(typeof b===x(0x18f)){console[x(0x17f)]('[FirebaseIdle]\x20Cannot\x20resume\x20listener\x20directly:',c);return;}const {query:d,callback:e,options:f}=b;if(d&&e){const g=onSnapshot(d,e,f||{});this[x(0x17b)][x(0x19e)](c,g),console[x(0x19d)]('[FirebaseIdle]\x20Successfully\x20resumed\x20listener:',c);}}catch(h){console[x(0x166)](x(0x170),c,h);}}),this['_suspendedListeners']['clear']();const a=document[w(0x174)]('firebase-suspend-indicator');a&&a['remove'](),console[w(0x19d)](w(0x164));}[a19k(0x1a5)](a,b,c={},d=null){const y=a19k,e=d||'listener_'+Date['now']()+'_'+Math['random']()[y(0x1a8)](0x24)[y(0x169)](0x2,0x9);this[y(0x18c)]&&console['log'](y(0x197)+e);if(!this[y(0x172)]())return console['log']('[FirebaseIdle]\x20Session\x20suspended,\x20not\x20creating\x20listener:\x20'+e),()=>{};try{const f=onSnapshot(a,b,c);return this[y(0x17b)][y(0x19e)](e,{'unsubscribe':f,'query':a,'callback':b,'options':c}),this['debug']&&(console[y(0x19d)](y(0x17c)+e),console[y(0x19d)](y(0x17d)+this[y(0x17b)]['size'])),()=>{const z=y;this[z(0x18c)]&&console[z(0x19d)](z(0x1a9)+e);try{f(),this['activeListeners'][z(0x199)](e),this[z(0x18c)]&&(console['log'](z(0x1a3)+e),console[z(0x19d)]('[FirebaseIdle]\x20Active\x20listeners:\x20'+this[z(0x17b)]['size']));}catch(g){console['error']('[FirebaseIdle]\x20Error\x20unsubscribing\x20listener\x20'+e+':',g);}};}catch(g){return console['error']('[FirebaseIdle]\x20Error\x20creating\x20listener\x20'+e+':',g),()=>{};}}[a19k(0x186)](a='all'){const A=a19k;console['log'](A(0x180)+a+A(0x1ab)+this['pendingOperations'][A(0x1a0)]+A(0x1af));const b=new Map(this['pendingOperations']);this['pendingOperations']['clear'](),b[A(0x195)]((c,d)=>{const B=A;a===B(0x182)||c['operationType']===a?(console['log']('Executing\x20delayed\x20'+c['operationType']+B(0x1ae)),this['safeOperation'](c[B(0x16d)],c['operationType'],...c['args'])['catch'](e=>console['error']('Error\x20executing\x20pending\x20operation:',e))):this[B(0x1aa)]['set'](d,c);});}[a19k(0x196)](a=!![]){const C=a19k;this[C(0x18c)]=a,console[C(0x19d)](C(0x188)+(a?'enabled':C(0x198)));if(a){const b=window[C(0x190)];window['RDL_SESSION_SUSPENDED']=!![],console[C(0x19d)]('[FirebaseIdle]\x20Testing\x20suspension\x20-\x20attempting\x20read...'),this['getDocument'](doc(db,'system',C(0x176)))['then'](c=>{console['log']('[FirebaseIdle]\x20TEST\x20FAILED\x20-\x20read\x20succeeded\x20during\x20suspension',c);})[C(0x16c)](c=>{const D=C;console[D(0x19d)](D(0x173),c);})['finally'](()=>{const E=C;console[E(0x19d)]('[FirebaseIdle]\x20Suspension\x20test\x20complete'),window[E(0x190)]=b;});}}}const firebaseIdle=new FirebaseIdleWrapper();function a19a(){const H=['w0zPCMvIyxnLswrSzv0GtwfUDwfSBhKGDw5ZDwjZy3jPyMLUzYbSAxn0zw5LCJOG','CgvUzgLUz09WzxjHDgLVBNm','ig9WzxjHDgLVBNm6ia','w0zPCMvIyxnLswrSzv0GuMvZDw1PBMCGBgLZDgvUzxjZoG','mtC2mtiWAxb2EfDN','ig9WzxjHDgLVBG','ihrVDgfSig9WzxjHDgLVBNm','mJyYmZy0mhfTug9Yuq','w0zPCMvIyxnLswrSzv0GtgLZDgvUzxjZihjLC3vTzwq','ywrKrg9JDw1LBNq','zxjYB3i','mtqZnJu5ohjAt0vnzq','C3vZCgvUzfnLC3nPB24','C3vIC3rY','CgvUzgLUz1rPBwvVDxq','rMLYzwjHC2u6ifn1C3bLBMrLza','y2f0y2G','B3bLCMf0Aw9U','w0zPCMvIyxnLswrSzv0Gu3vJy2vZC2z1BgX5ihn1C3bLBMrLzcbSAxn0zw5LCJO','yMXVy2TLze9WzxjHDgLVBNm','w0zPCMvIyxnLswrSzv0GrxjYB3iGCMvZDw1PBMCGBgLZDgvUzxi6','w0zPCMvIyxnLswrSzv0GuMvZDw1PBMCGBgLZDgvUzxi6','y2HLy2TtzxnZAw9Uqwn0AxzL','w0zPCMvIyxnLswrSzv0GrxjYB3iGzhvYAw5NihrLC3qGkgv4CgvJDgvKktO','z2v0rwXLBwvUDej5swq','Dgv4DenVBNrLBNq','DgvZDa','w0zPCMvIyxnLswrSzv0Gt3bLCMf0Aw9UigjSB2nRzwqGlsbZzxnZAw9UigLKBgu','C2fMzu9WzxjHDgLVBG','mti2EufTAw1y','DxbKyxrL','ywn0AxzLtgLZDgvUzxjZ','w0zPCMvIyxnLswrSzv0GtgLZDgvUzxiGy3jLyxrLzdOG','w0zPCMvIyxnLswrSzv0Gqwn0AxzLigXPC3rLBMvYCZOG','nti0nda0qu52DLLw','D2fYBG','rxHLy3v0Aw5NihbLBMrPBMCG','Dw5HDMfPBgfIBgu','ywXS','CMvZDw1Lu2vZC2LVBG','Aw5JBhvKzxm','BMv0D29YAW','zxHLy3v0zvbLBMrPBMDpCgvYyxrPB25Z','C3r5Bgu','w0zPCMvIyxnLswrSzv0GrgvIDwCGBw9Kzsa','w0zPCMvIyxnLswrSzv0Gu3vZCgvUzgLUzYbSAxn0zw5LCJO','w0zPCMvIyxnLswrSzv0GtM8GBgLZDgvUzxjZihrVihjLC3vTzq','zgL2','zgvIDwC','y29Kzq','mtuXotCWmfnOr1Dsva','zNvUy3rPB24','uKrmx1nfu1njt05Fu1vtuevoreve','w0zPCMvIyxnLswrSzv0Gt3bLCMf0Aw9UigjSB2nRzwqGlsbUzxr3B3jRigvYCM9Y','zMLYzwjHC2uTC3vZCgvUzc1PBMrPy2f0B3i','yM9KEq','x3n1C3bLBMrLzeXPC3rLBMvYCW','zM9YrwfJAa','zw5HyMXLrgvIDwC','w0zPCMvIyxnLswrSzv0Gq3jLyxrPBMCGBgLZDgvUzxi6ia','zgLZywjSzwq','zgvSzxrL','cIaGicaGicaGicaGicaGicbWB3nPDgLVBJOGzML4zwq7cIaGicaGicaGicaGicaGicbIB3r0B206ideWChG7cIaGicaGicaGicaGicaGicbYAwDODdOGmtbWEdSkicaGicaGicaGicaGicaGigjHy2TNCM91BMqTy29SB3i6icmZmZm7cIaGicaGicaGicaGicaGicbJB2XVCJOGi2zMntu1ntSkicaGicaGicaGicaGicaGihbHzgrPBMC6idvWEcaXmhb4oWOGicaGicaGicaGicaGicaGyM9YzgvYlxjHzgL1CZOGnhb4oWOGicaGicaGicaGicaGicaGzM9UDc1ZAxPLoIaXmNb4oWOGicaGicaGicaGicaGicaGEI1PBMrLEdOGotK5otSkicaGicaGicaGicaG','z2v0rg9JDw1LBNrZ','nJbnv3rgueq','Bg9N','C2v0','mZm3mtvACLfhz3K','C2L6zq','n0fnAhHvwa','w0zPCMvIyxnLswrSzv0GqwXSigXPC3rLBMvYCYbZDxnWzw5Kzwq','w0zPCMvIyxnLswrSzv0GtgLZDgvUzxiGCMvTB3zLzdOG','z2v0','y3jLyxrLtgLZDgvUzxi','mZGYmZHtEM9vvwm','CMvZDw1LqwXStgLZDgvUzxjZ','Dg9tDhjPBMC'];a19a=function(){return H;};return a19a();}export function enhanceIdleTimeout(){const F=a19k,a=window[F(0x168)]||function(){},b=window['resumeSession']||function(){};window['suspendSession']=function(){a(),firebaseIdle['suspendAllListeners']();},window[F(0x183)]=function(){const G=F;b(),firebaseIdle[G(0x1a7)]();};}export default firebaseIdle;