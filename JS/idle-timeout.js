function a20_0x4ffa(){const _0x2fec16=['console','Failed\x20to\x20test\x20connection:','Network\x20error\x20detected,\x20showing\x20error\x20overlay','system','color:\x20#ff5555;\x20margin-bottom:\x2020px;\x20font-size:\x2024px;','idle-overlay','error','network-error-overlay','getDocs','Connection\x20Error','blockedOperations','code','div','Session\x20resumed','style','includes','not-allowed','Your\x20session\x20has\x20been\x20suspended\x20after\x201\x20minutes\x20of\x20inactivity\x20for\x20security\x20reasons.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#202020;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2030px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20500px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x200\x2020px\x20rgba(0,\x200,\x200,\x200.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20','trace','RDL_SESSION_SUSPENDED','resource-exhausted','flex','suspendAllListeners','button','createElement','RDL_NETWORK_ERROR','unavailable','pendingOperations','cssText','RDL_LAST_ACTIVITY','click','textContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#50C878;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s;\x0a\x20\x20\x20\x20','checkFirebaseIdleStatus','backgroundColor','size','Connection\x20test\x20failed:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20rgba(0,\x200,\x200,\x200.85);\x0a\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x209999;\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20backdrop-filter:\x20blur(5px);\x0a\x20\x20\x20\x20','bind','info','display','Retry\x20Connection','Pending\x20operations:','log','appendChild','none','addEventListener'];a20_0x4ffa=function(){return _0x2fec16;};return a20_0x4ffa();}const a20_0x2fb349=a20_0x84e8;import a20_0x4de76b,{enhanceIdleTimeout}from'./firebase-idle-wrapper.js';const IDLE_TIMEOUT=0xea60;let idleTimer=null,isSessionSuspended=![],networkErrorRetryCount=0x0;const MAX_NETWORK_RETRIES=0x3;function createIdleOverlay(){const _0x338a97=a20_0x84e8;if(document['getElementById']('idle-overlay'))return;const _0x342450=document['createElement'](_0x338a97(0x18a));_0x342450['id']='idle-overlay',_0x342450['style'][_0x338a97(0x19b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20rgba(0,\x200,\x200,\x200.85);\x0a\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x209999;\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20backdrop-filter:\x20blur(5px);\x0a\x20\x20\x20\x20';const _0x20e8b4=document[_0x338a97(0x197)](_0x338a97(0x18a));_0x20e8b4[_0x338a97(0x18c)][_0x338a97(0x19b)]=_0x338a97(0x190);const _0x56c67d=document['createElement']('h2');_0x56c67d['textContent']='Session\x20Suspended\x20Due\x20to\x20Inactivity',_0x56c67d[_0x338a97(0x18c)]['cssText']='color:\x20#50C878;\x20margin-bottom:\x2020px;\x20font-size:\x2024px;';const _0x1a4890=document[_0x338a97(0x197)]('p');_0x1a4890['textContent']=_0x338a97(0x18f),_0x1a4890['style']['cssText']='color:\x20#fff;\x20margin-bottom:\x2030px;';const _0x2b639d=document['createElement']('button');_0x2b639d['id']='resume-session-btn',_0x2b639d['textContent']='Return\x20to\x20Website',_0x2b639d['style'][_0x338a97(0x19b)]=_0x338a97(0x19f),_0x2b639d['onmouseover']=function(){this['style']['backgroundColor']='#3da05f';},_0x2b639d['onmouseout']=function(){const _0x269804=_0x338a97;this['style'][_0x269804(0x1a1)]='#50C878';},_0x20e8b4['appendChild'](_0x56c67d),_0x20e8b4['appendChild'](_0x1a4890),_0x20e8b4['appendChild'](_0x2b639d),_0x342450['appendChild'](_0x20e8b4),document['body']['appendChild'](_0x342450),_0x2b639d['addEventListener']('click',resumeSession),createNetworkErrorOverlay();}function createNetworkErrorOverlay(){const _0x19a478=a20_0x84e8;if(document['getElementById']('network-error-overlay'))return;const _0x1cc466=document['createElement']('div');_0x1cc466['id']='network-error-overlay',_0x1cc466['style'][_0x19a478(0x19b)]=_0x19a478(0x1a4);const _0x5aa095=document[_0x19a478(0x197)](_0x19a478(0x18a));_0x5aa095['style']['cssText']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#202020;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2030px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20500px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x200\x2020px\x20rgba(0,\x200,\x200,\x200.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20';const _0x432c86=document['createElement']('h2');_0x432c86['textContent']=_0x19a478(0x187),_0x432c86['style']['cssText']=_0x19a478(0x182);const _0x56294f=document[_0x19a478(0x197)]('p');_0x56294f[_0x19a478(0x19e)]='We\x27re\x20having\x20trouble\x20connecting\x20to\x20the\x20server.\x20This\x20may\x20be\x20due\x20to\x20network\x20issues\x20or\x20server\x20maintenance.',_0x56294f['style'][_0x19a478(0x19b)]='color:\x20#fff;\x20margin-bottom:\x2030px;';const _0x468b43=document['createElement']('button');_0x468b43['id']='retry-connection-btn',_0x468b43[_0x19a478(0x19e)]=_0x19a478(0x1a8),_0x468b43[_0x19a478(0x18c)][_0x19a478(0x19b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#ff5555;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-right:\x2010px;\x0a\x20\x20\x20\x20';const _0x341fee=document['createElement'](_0x19a478(0x196));_0x341fee['id']='reload-page-btn',_0x341fee['textContent']='Reload\x20Page',_0x341fee['style']['cssText']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#5555ff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#fff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s;\x0a\x20\x20\x20\x20';const _0x109539=document['createElement'](_0x19a478(0x18a));_0x109539['style'][_0x19a478(0x19b)]='display:\x20flex;\x20justify-content:\x20center;\x20gap:\x2010px;',_0x109539[_0x19a478(0x1ab)](_0x468b43),_0x109539[_0x19a478(0x1ab)](_0x341fee),_0x5aa095['appendChild'](_0x432c86),_0x5aa095[_0x19a478(0x1ab)](_0x56294f),_0x5aa095['appendChild'](_0x109539),_0x1cc466['appendChild'](_0x5aa095),document['body'][_0x19a478(0x1ab)](_0x1cc466),_0x468b43[_0x19a478(0x1ad)]('click',retryConnection),_0x341fee[_0x19a478(0x1ad)](_0x19a478(0x19d),()=>window['location']['reload']());}function resetIdleTimer(){if(isSessionSuspended)return;clearTimeout(idleTimer),idleTimer=setTimeout(suspendSession,IDLE_TIMEOUT);}function a20_0x84e8(_0x27ee4f,_0xba84b){const _0x30d5d6=a20_0x4ffa();return a20_0x84e8=function(_0x4b7ffc,_0x17e043){_0x4b7ffc=_0x4b7ffc-0x17e;let _0x4ffaf0=_0x30d5d6[_0x4b7ffc];return _0x4ffaf0;},a20_0x84e8(_0x27ee4f,_0xba84b);}function handleNetworkError(){const _0x27616f=a20_0x84e8;clearTimeout(idleTimer);const _0x19ac23=document['getElementById']('network-error-overlay');_0x19ac23&&(_0x19ac23['style']['display']='flex'),window[_0x27616f(0x198)]=!![],console['log'](_0x27616f(0x180)),a20_0x4de76b[_0x27616f(0x195)]();}function retryConnection(){const _0xa606b0=a20_0x84e8;networkErrorRetryCount++;if(networkErrorRetryCount>MAX_NETWORK_RETRIES){const _0x5bab04=document['querySelector']('#network-error-overlay\x20p');_0x5bab04&&(_0x5bab04[_0xa606b0(0x19e)]='Multiple\x20connection\x20attempts\x20failed.\x20Please\x20reload\x20the\x20page\x20or\x20try\x20again\x20later.');const _0x1f4854=document['getElementById']('retry-connection-btn');_0x1f4854&&(_0x1f4854['disabled']=!![],_0x1f4854['style']['opacity']='0.5',_0x1f4854[_0xa606b0(0x18c)]['cursor']=_0xa606b0(0x18e));return;}const _0x4202e6=document['getElementById'](_0xa606b0(0x185));_0x4202e6&&(_0x4202e6['style']['display']=_0xa606b0(0x1ac));window['RDL_NETWORK_ERROR']=![],resetIdleTimer(),console[_0xa606b0(0x1aa)]('Retrying\x20connection...');try{const {rdlFirestore:_0x521c33}=window;if(_0x521c33){const _0x4f145b=_0x521c33['collection'](_0xa606b0(0x181));_0x521c33[_0xa606b0(0x186)](_0x4f145b)['catch'](_0x5de8de=>{const _0x114f9c=_0xa606b0;console[_0x114f9c(0x184)](_0x114f9c(0x1a3),_0x5de8de),handleNetworkError();});}}catch(_0x42989a){console['error'](_0xa606b0(0x17f),_0x42989a),handleNetworkError();}a20_0x4de76b['resumeAllListeners']();}function suspendSession(){const _0x2c910a=a20_0x84e8;isSessionSuspended=!![];const _0x2abfcb=document['getElementById'](_0x2c910a(0x183));_0x2abfcb&&(_0x2abfcb[_0x2c910a(0x18c)][_0x2c910a(0x1a7)]=_0x2c910a(0x194)),console['log']('Session\x20suspended\x20due\x20to\x20inactivity'),window['RDL_SESSION_SUSPENDED']=!![],a20_0x4de76b['suspendAllListeners']();}function resumeSession(){const _0x37f7f8=a20_0x84e8;isSessionSuspended=![],window['RDL_SESSION_SUSPENDED']=![];const _0x2cad19=document['getElementById']('idle-overlay');_0x2cad19&&(_0x2cad19['style']['display']=_0x37f7f8(0x1ac)),console['log'](_0x37f7f8(0x18b)),resetIdleTimer(),a20_0x4de76b['resumeAllListeners'](),idleTimer&&Date['now']()-(window['RDL_LAST_ACTIVITY']||0x0)>IDLE_TIMEOUT*0x2&&(console['log']('Session\x20was\x20idle\x20for\x20too\x20long,\x20reloading\x20page'),window['location']['reload']());}function initIdleTimeout(){const _0x24e9ce=a20_0x84e8,_0x1c6e4f=(function(){let _0x53ce38=!![];return function(_0x44569f,_0x1ce32f){const _0x5ee864=_0x53ce38?function(){if(_0x1ce32f){const _0x16e6a8=_0x1ce32f['apply'](_0x44569f,arguments);return _0x1ce32f=null,_0x16e6a8;}}:function(){};return _0x53ce38=![],_0x5ee864;};}()),_0x2efe4b=_0x1c6e4f(this,function(){const _0x41430e=a20_0x84e8;let _0x228dfd;try{const _0x2dc6f2=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x228dfd=_0x2dc6f2();}catch(_0x5b27f8){_0x228dfd=window;}const _0x300a58=_0x228dfd['console']=_0x228dfd[_0x41430e(0x17e)]||{},_0x2aa837=['log','warn',_0x41430e(0x1a6),'error','exception','table',_0x41430e(0x191)];for(let _0x596b10=0x0;_0x596b10<_0x2aa837['length'];_0x596b10++){const _0x1f73eb=_0x1c6e4f['constructor']['prototype'][_0x41430e(0x1a5)](_0x1c6e4f),_0x56b50f=_0x2aa837[_0x596b10],_0x3cdd06=_0x300a58[_0x56b50f]||_0x1f73eb;_0x1f73eb['__proto__']=_0x1c6e4f['bind'](_0x1c6e4f),_0x1f73eb['toString']=_0x3cdd06['toString']['bind'](_0x3cdd06),_0x300a58[_0x56b50f]=_0x1f73eb;}});_0x2efe4b(),createIdleOverlay();const _0xc1dfd5=['mousedown','mousemove','keypress','scroll','touchstart','click'];_0xc1dfd5['forEach'](_0x1a284a=>{const _0x263ed7=a20_0x84e8;document[_0x263ed7(0x1ad)](_0x1a284a,()=>{const _0x421d6c=_0x263ed7;window[_0x421d6c(0x19c)]=Date['now'](),resetIdleTimer();},!![]);}),window[_0x24e9ce(0x1ad)]('error',function(_0x161dde){const _0x334935=_0x24e9ce;_0x161dde[_0x334935(0x184)]&&(_0x161dde[_0x334935(0x184)]['message']&&_0x161dde['error']['message']['includes']('network')||_0x161dde['error']['code']&&(_0x161dde[_0x334935(0x184)]['code']===_0x334935(0x199)||_0x161dde['error'][_0x334935(0x189)]===_0x334935(0x193)||_0x161dde['error']['code'][_0x334935(0x18d)]('network')))&&(handleNetworkError(),_0x161dde['preventDefault']());}),resetIdleTimer(),console[_0x24e9ce(0x1aa)]('Idle\x20timeout\x20initialized:',IDLE_TIMEOUT,'ms'),window['suspendSession']=suspendSession,window['resumeSession']=resumeSession,enhanceIdleTimeout(),window[_0x24e9ce(0x1a0)]=function(){const _0x3f3948=_0x24e9ce;return console['log']('Session\x20suspended:',window['RDL_SESSION_SUSPENDED']),console[_0x3f3948(0x1aa)]('Network\x20error:',window['RDL_NETWORK_ERROR']),console['log']('Active\x20listeners:',a20_0x4de76b['activeListeners'][_0x3f3948(0x1a2)]),console[_0x3f3948(0x1aa)](_0x3f3948(0x1a9),a20_0x4de76b[_0x3f3948(0x19a)][_0x3f3948(0x1a2)]),console['log']('Blocked\x20operations:',a20_0x4de76b['blockedOperations']||0x0),{'suspended':window[_0x3f3948(0x192)],'networkError':window[_0x3f3948(0x198)],'activeListeners':Array['from'](a20_0x4de76b['activeListeners']['keys']()),'pendingOperations':Array['from'](a20_0x4de76b['pendingOperations']['keys']()),'blockedCount':a20_0x4de76b[_0x3f3948(0x188)]||0x0};},window['forceIdleTimeout']=function(){const _0x4551f7=_0x24e9ce;console[_0x4551f7(0x1aa)]('Forcing\x20idle\x20timeout...'),suspendSession();};}export{initIdleTimeout,isSessionSuspended,handleNetworkError};document['readyState']==='loading'?document[a20_0x2fb349(0x1ad)]('DOMContentLoaded',initIdleTimeout):initIdleTimeout();