const a27_0x3057b6=a27_0x22ae;(function(_0x4c595e,_0x59a628){const _0x176ea7=a27_0x22ae,_0x137e6e=_0x4c595e();while(!![]){try{const _0x12ee3e=parseInt(_0x176ea7(0x157))/0x1*(parseInt(_0x176ea7(0x15a))/0x2)+-parseInt(_0x176ea7(0x90))/0x3+parseInt(_0x176ea7(0x151))/0x4*(parseInt(_0x176ea7(0x98))/0x5)+-parseInt(_0x176ea7(0xf5))/0x6+-parseInt(_0x176ea7(0xc9))/0x7*(parseInt(_0x176ea7(0xd6))/0x8)+parseInt(_0x176ea7(0x143))/0x9*(-parseInt(_0x176ea7(0x8c))/0xa)+parseInt(_0x176ea7(0x12d))/0xb;if(_0x12ee3e===_0x59a628)break;else _0x137e6e['push'](_0x137e6e['shift']());}catch(_0xaafb67){_0x137e6e['push'](_0x137e6e['shift']());}}}(a27_0x1a48,0xba31e));const a27_0x3ea130=(function(){let _0x121f0d=!![];return function(_0x47bfb7,_0x1c40b7){const _0x4fa9ba=_0x121f0d?function(){if(_0x1c40b7){const _0x4aae3d=_0x1c40b7['apply'](_0x47bfb7,arguments);return _0x1c40b7=null,_0x4aae3d;}}:function(){};return _0x121f0d=![],_0x4fa9ba;};}()),a27_0xcc43a0=a27_0x3ea130(this,function(){const _0xf57b3d=a27_0x22ae;return a27_0xcc43a0['toString']()[_0xf57b3d(0xbd)]('(((.+)+)+)+$')[_0xf57b3d(0x141)]()['constructor'](a27_0xcc43a0)[_0xf57b3d(0xbd)](_0xf57b3d(0x120));});a27_0xcc43a0();const a27_0x51da01=(function(){let _0x2af33e=!![];return function(_0x1ee1f6,_0x45a422){const _0x3602e4=_0x2af33e?function(){const _0x2d8779=a27_0x22ae;if(_0x45a422){const _0x5b3b5c=_0x45a422[_0x2d8779(0x139)](_0x1ee1f6,arguments);return _0x45a422=null,_0x5b3b5c;}}:function(){};return _0x2af33e=![],_0x3602e4;};}()),a27_0x198448=a27_0x51da01(this,function(){const _0x3cc009=a27_0x22ae,_0x3c97ed=function(){const _0x30df54=a27_0x22ae;let _0x4d64e1;try{_0x4d64e1=Function(_0x30df54(0x109)+_0x30df54(0x112)+');')();}catch(_0x184588){_0x4d64e1=window;}return _0x4d64e1;},_0x35aaf9=_0x3c97ed(),_0x55939c=_0x35aaf9[_0x3cc009(0x128)]=_0x35aaf9[_0x3cc009(0x128)]||{},_0x2eaf7d=[_0x3cc009(0x163),_0x3cc009(0x111),_0x3cc009(0xcb),'error',_0x3cc009(0x150),_0x3cc009(0x118),_0x3cc009(0x94)];for(let _0x262326=0x0;_0x262326<_0x2eaf7d['length'];_0x262326++){const _0xbe5860=a27_0x51da01[_0x3cc009(0x105)][_0x3cc009(0x9e)][_0x3cc009(0x130)](a27_0x51da01),_0x114f8f=_0x2eaf7d[_0x262326],_0x1e0be4=_0x55939c[_0x114f8f]||_0xbe5860;_0xbe5860[_0x3cc009(0xb0)]=a27_0x51da01['bind'](a27_0x51da01),_0xbe5860[_0x3cc009(0x141)]=_0x1e0be4['toString'][_0x3cc009(0x130)](_0x1e0be4),_0x55939c[_0x114f8f]=_0xbe5860;}});a27_0x198448();import{db}from'./firebase-config.js';import{collection,getDocs,deleteDoc,doc,getDoc,query,where,updateDoc,Timestamp,onSnapshot,orderBy,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{getRankStyle}from'./ranks.js';function a27_0x22ae(_0x264c53,_0x29a8c1){const _0x2398e1=a27_0x1a48();return a27_0x22ae=function(_0x198448,_0x51da01){_0x198448=_0x198448-0x88;let _0x323818=_0x2398e1[_0x198448];return _0x323818;},a27_0x22ae(_0x264c53,_0x29a8c1);}import{displayLadderD2}from'./ladderd2.js';import{displayLadderD3}from'./ladderd3.js';import{getAuth}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';import{getLadderData,getEloHistoryBatch,setupEfficientListener}from'./services/firebaseService.js';import{displayLadderDuos}from'./ladderduos.js';const auth=getAuth();let activeListeners=[];export async function loadLadderData(_0x18c3ac=0x1){const _0x3246dc=a27_0x22ae;try{document[_0x3246dc(0xf8)]('loading-indicator')[_0x3246dc(0xa0)][_0x3246dc(0x154)]=_0x3246dc(0xc5);const _0x37251b=await getLadderData(_0x18c3ac);_0x37251b['sort']((_0x1b9c7d,_0x51e3a4)=>_0x51e3a4[_0x3246dc(0x134)]-_0x1b9c7d[_0x3246dc(0x134)]);const _0x34f688=_0x37251b['map'](_0x1175a8=>_0x1175a8['id']),_0x11ce5f=await getEloHistoryBatch(_0x34f688,_0x18c3ac),_0x4fbc12=_0x37251b[_0x3246dc(0x14b)]((_0x3b00b1,_0x47df30)=>{const _0x58813d=_0x3246dc,_0x2c22c9=_0x11ce5f[_0x3b00b1['id']]||[],_0x1a24a1=_0x2c22c9[_0x58813d(0x153)]((_0x4d9b7f,_0x5d3146)=>new Date(_0x5d3146[_0x58813d(0x138)])-new Date(_0x4d9b7f[_0x58813d(0x138)]))[_0x58813d(0x13c)](0x0,0x5);return{..._0x3b00b1,'rank':_0x47df30+0x1,'lastMatches':_0x1a24a1,'recentActivity':_0x1a24a1[_0x58813d(0xd5)]>0x0};});renderLadder(_0x4fbc12),setupRealTimeUpdates(_0x18c3ac);}catch(_0x3250fe){console[_0x3246dc(0xf7)]('Error\x20loading\x20ladder\x20data:',_0x3250fe),document[_0x3246dc(0xf8)](_0x3246dc(0xeb))[_0x3246dc(0xaf)]=_0x3246dc(0xed);}finally{document[_0x3246dc(0xf8)](_0x3246dc(0x14e))[_0x3246dc(0xa0)][_0x3246dc(0x154)]=_0x3246dc(0xad);}}function setupRealTimeUpdates(_0x4d28ca=0x1){const _0x2d46fe=a27_0x22ae;activeListeners[_0x2d46fe(0x117)](_0x3f8015=>_0x3f8015()),activeListeners=[];const _0x304764=_0x4d28ca===0x1?_0x2d46fe(0x13d):'playersD'+_0x4d28ca,_0x3e7b69=_0x4d28ca===0x1?'matches':'matchesD'+_0x4d28ca,_0x3544f7=new Date();_0x3544f7['setDate'](_0x3544f7[_0x2d46fe(0x102)]()-0x1);const _0x1c4bd7=setupEfficientListener(_0x3e7b69,[where(_0x2d46fe(0x138),'>=',_0x3544f7[_0x2d46fe(0x129)]()),limit(0xa),orderBy('date',_0x2d46fe(0x15d))],async _0x17be85=>{const _0x3e619c=_0x2d46fe;_0x17be85[_0x3e619c(0xd5)]>0x0&&await loadLadderData(_0x4d28ca);});activeListeners[_0x2d46fe(0x103)](_0x1c4bd7);}export function cleanupListeners(){const _0x248167=a27_0x22ae;activeListeners[_0x248167(0x117)](_0x3eb9b6=>_0x3eb9b6()),activeListeners=[];}function a27_0x1a48(){const _0x54a5cc=['8195778OuYEaZ','No\x20ideal\x20opponent\x20found\x20for\x20your\x20current\x20ELO\x20(','error','getElementById','playersD2','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Rank</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Username</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>ELO</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Matches</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Wins</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Losses</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>K/D</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Win\x20Rate</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','duos-ladder-container','active','click','#b9f1fc','color','Error\x20updating\x20ELO\x20trend\x20indicators:','playersD3','getDate','push','playersDuos','constructor','position','d1-ladder-container','then','return\x20(function()\x20','duos','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','cursor','#50C878','elo-recommendation-text-d1','onAuthStateChanged','d1-switch','warn','{}.constructor(\x22return\x20this\x22)(\x20)','ladder-container','DOMContentLoaded','inline','has','forEach','table','Ladder\x20table\x20body\x20not\x20found','Error\x20loading\x20ladder:','fontSize','d3-ladder-container','wins','0.85em','title','(((.+)+)+)+$','pow','</span>\x20(ELO:\x20','remove','<img\x20src=\x22../images/flags/','Using\x20cached\x20D1\x20ladder\x20data','admin@ladder.com','#FFD700','console','toISOString','</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-activity\x20','role','checked','13427634KzvrFK','newEloRating','D2\x20toggle\x20clicked','bind','newElo','Inactive','D1\x20toggle\x20clicked','elo','#F44336','td:nth-child(3)','includes','date','apply','div','querySelectorAll','slice','players','0.5','teammate','Error\x20finding\x20recommended\x20opponent','toString','elo-recommendation-text-d3','828tcpVNf','duos-switch','classList','elo-recommendation-text-d2','Error\x20checking\x20','owner','data','max','map','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22color:\x20','userProfiles','loading-indicator','\x20ladder','exception','1958732DwevJj','totalDeaths','sort','display',';\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22elo-container\x22\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22elo-value\x22>','\x0a\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','1TgIwQm','email','Error\x20fetching\x20batch\x20match\x20stats:','939986pGBUKW','Active','d2-switch','desc','preventDefault','recentActivity','<tr><td\x20colspan=\x228\x22\x20class=\x22loading-cell\x22>Loading\x20ladder\x20data...</td></tr>','#ladder\x20thead\x20tr','parentNode','log','Error\x20checking\x20admin\x20status:','.png\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22','You\x27re\x20not\x20registered\x20on\x20the\x20DUOS\x20ladder','.trend-indicator','admin-only-message','Recommendation\x20element\x20for\x20','23880GcQECb','winnerScore','gray','D3\x20toggle\x20clicked','123141HlPjUM','inactive','textContent','&ladder=d1\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22color:\x20','trace','toFixed','brian2af@outlook.com','empty','10kWdwzQ','innerHTML','querySelector','totalMatches','round','ladder-player','prototype','Unranked','style','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22profile.html?username=',';\x20text-decoration:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','country','username','pointer','loserUsername','docs','opacity','visible','appendChild','Looking\x20for\x20a\x20teammate?\x20Consider\x20<span\x20class=\x22recommendation-highlight\x22\x20style=\x22color:\x20','timestamp','none','\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','innerText','__proto__','</span>.\x20Challenge\x20other\x20teams!','eloHistory','d2-ladder-container','currentUser','playerUsername','#CD7F32','kda','toUpperCase','MAX_SAFE_INTEGER','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','not-allowed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','search','now','You\x27re\x20not\x20registered\x20on\x20the\x20','rank','No\x20user\x20profile\x20found','disabled','uid','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x228\x22\x20style=\x22text-align:\x20center;\x20color:\x20red;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20ladder\x20data:\x20','block','change','Based\x20on\x20your\x20ELO\x20(','previousElo','49QoKukM','\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translate(-50%,\x20-50%);\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#2a2a2a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x202px\x20solid\x20#ff6b6b;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ff6b6b;\x0a\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.5);\x0a\x20\x20\x20\x20','info','target','losses','bold','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22trend-indicator\x22\x20style=\x22margin-left:\x205px;\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','#C0C0C0','Emerald','Set\x20your\x20username\x20to\x20see\x20recommended\x20opponents','abs','%</td>\x0a\x20\x20\x20\x20</tr>','length','320792wrMzDf','add','Silver','eloRating','toLowerCase','addEventListener','creative\x20lead','totalKills','label[for=\x22duos-switch\x22]','Duos\x20ladder\x20is\x20currently\x20admin-only','#ladder\x20tbody','</span>',';\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','className','player','ELO\x20history\x20collection\x20is\x20empty','hasTeam','),\x20you\x20should\x20be\x20playing\x20<span\x20class=\x22recommendation-highlight\x22\x20style=\x22color:\x20','get','set','error-message','catch','Failed\x20to\x20load\x20ladder\x20data.\x20Please\x20try\x20again.','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22rank\x22>#','elo-recommendation-text-duos','visibility','winRate','winnerUsername','oldEloRating','cssText'];a27_0x1a48=function(){return _0x54a5cc;};return a27_0x1a48();}function renderLadder(_0x43a338){const _0x36788d=a27_0x22ae,_0x4801e6=document[_0x36788d(0xf8)](_0x36788d(0x113));_0x4801e6[_0x36788d(0x99)]='',_0x43a338['forEach'](_0x5e58e7=>{const _0x5c9ee9=_0x36788d,_0x3a844c=document['createElement'](_0x5c9ee9(0x13a));_0x3a844c[_0x5c9ee9(0xe4)]=_0x5c9ee9(0x9d),_0x3a844c[_0x5c9ee9(0x99)]=_0x5c9ee9(0xee)+_0x5e58e7[_0x5c9ee9(0xc0)]+'</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-name\x22>'+(_0x5e58e7[_0x5c9ee9(0xa4)]||_0x5e58e7['id'])+'</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-elo\x22>'+_0x5e58e7['elo']+_0x5c9ee9(0x12a)+(_0x5e58e7['recentActivity']?_0x5c9ee9(0xfc):_0x5c9ee9(0x91))+_0x5c9ee9(0xba)+(_0x5e58e7[_0x5c9ee9(0x15f)]?_0x5c9ee9(0x15b):_0x5c9ee9(0x132))+_0x5c9ee9(0xae),_0x4801e6['appendChild'](_0x3a844c);});}const playerCache={'data':null,'timestamp':0x0},CACHE_DURATION=0x7530;async function displayLadder(_0x5e46c7=![]){const _0x5cb2bf=a27_0x22ae,_0x237950=document['querySelector'](_0x5cb2bf(0xe0));if(!_0x237950){console[_0x5cb2bf(0xf7)](_0x5cb2bf(0x119));return;}_0x237950[_0x5cb2bf(0x99)]=_0x5cb2bf(0x160);try{const _0xe3e2cf=Date[_0x5cb2bf(0xbe)]();if(!_0x5e46c7&&playerCache['data']&&_0xe3e2cf-playerCache['timestamp']<CACHE_DURATION){console[_0x5cb2bf(0x163)](_0x5cb2bf(0x125)),updateLadderDisplay(playerCache[_0x5cb2bf(0x149)]);return;}const _0x566bb7=collection(db,_0x5cb2bf(0x13d)),_0x35bab4=await getDocs(_0x566bb7),_0x4ca5d3=[];_0x35bab4[_0x5cb2bf(0x117)](_0x5dabda=>{const _0x47be9a=_0x5cb2bf,_0x529b7c=_0x5dabda['data']();_0x4ca5d3[_0x47be9a(0x103)]({..._0x529b7c,'id':_0x5dabda['id'],'elo':_0x529b7c[_0x47be9a(0xd9)]||0x0,'position':_0x529b7c[_0x47be9a(0x106)]||Number[_0x47be9a(0xb9)]});});const _0x466dd8=collection(db,_0x5cb2bf(0x14d)),_0x23197c=await getDocs(_0x466dd8),_0x215b45=new Map();_0x23197c[_0x5cb2bf(0x117)](_0x4f474a=>{const _0xc146f4=_0x5cb2bf,_0x4ab094=_0x4f474a[_0xc146f4(0x149)]();_0x4ab094[_0xc146f4(0xa4)]&&_0x215b45[_0xc146f4(0xea)](_0x4ab094[_0xc146f4(0xa4)]['toLowerCase'](),_0x4ab094);}),_0x4ca5d3[_0x5cb2bf(0x117)](_0x30a6a8=>{const _0x591ed7=_0x5cb2bf,_0x51b1ba=_0x30a6a8[_0x591ed7(0xa4)]?.[_0x591ed7(0xda)]();if(_0x51b1ba&&_0x215b45[_0x591ed7(0x116)](_0x51b1ba)){const _0x388300=_0x215b45['get'](_0x51b1ba);_0x388300[_0x591ed7(0xa3)]&&(_0x30a6a8[_0x591ed7(0xa3)]=_0x388300[_0x591ed7(0xa3)][_0x591ed7(0xda)]());}});const _0x554b14=_0x4ca5d3[_0x5cb2bf(0x14b)](_0x44cea4=>_0x44cea4[_0x5cb2bf(0xa4)]),_0x547a4a=await fetchBatchMatchStats(_0x554b14);_0x4ca5d3['sort']((_0x239a33,_0x5684b6)=>{const _0x4617db=_0x5cb2bf,_0x31e88a=_0x547a4a['get'](_0x239a33[_0x4617db(0xa4)])?.[_0x4617db(0x9b)]||0x0,_0x15bf4b=_0x547a4a[_0x4617db(0xe9)](_0x5684b6[_0x4617db(0xa4)])?.[_0x4617db(0x9b)]||0x0;if(_0x31e88a===0x0!==(_0x15bf4b===0x0))return _0x31e88a===0x0?0x1:-0x1;return(_0x239a33[_0x4617db(0x106)]||0x3e7)-(_0x5684b6[_0x4617db(0x106)]||0x3e7);}),_0x4ca5d3[_0x5cb2bf(0x117)]((_0x41360b,_0x443533)=>{_0x41360b['position']=_0x443533+0x1;}),playerCache['data']=_0x4ca5d3,playerCache[_0x5cb2bf(0xac)]=_0xe3e2cf,updateLadderDisplay(_0x4ca5d3,_0x547a4a);}catch(_0x818e7){console[_0x5cb2bf(0xf7)](_0x5cb2bf(0x11a),_0x818e7),_0x237950['innerHTML']=_0x5cb2bf(0xc4)+_0x818e7['message']+_0x5cb2bf(0x10b);}}async function fetchBatchMatchStats(_0xb19f5a){const _0x4f1624=a27_0x22ae,_0x49ec94=new Map();try{_0xb19f5a['forEach'](_0x33b791=>{const _0x3edb74=a27_0x22ae;_0x49ec94[_0x3edb74(0xea)](_0x33b791,{'totalMatches':0x0,'wins':0x0,'losses':0x0,'totalKills':0x0,'totalDeaths':0x0,'kda':0x0,'winRate':0x0});});const _0xee14ee=collection(db,'approvedMatches'),_0x6242be=await getDocs(_0xee14ee);_0x6242be[_0x4f1624(0x117)](_0x198c02=>{const _0x3fba60=_0x4f1624,_0x1d1666=_0x198c02[_0x3fba60(0x149)](),_0xacefd1=_0x1d1666[_0x3fba60(0xf2)],_0x5b348a=_0x1d1666[_0x3fba60(0xa6)];if(_0xb19f5a['includes'](_0xacefd1)){const _0x170341=_0x49ec94[_0x3fba60(0xe9)](_0xacefd1);_0x170341['wins']++,_0x170341[_0x3fba60(0x9b)]++,_0x170341[_0x3fba60(0xdd)]+=parseInt(_0x1d1666['winnerScore'])||0x0,_0x170341[_0x3fba60(0x152)]+=parseInt(_0x1d1666['loserScore'])||0x0;}if(_0xb19f5a['includes'](_0x5b348a)){const _0x2db555=_0x49ec94['get'](_0x5b348a);_0x2db555[_0x3fba60(0xcd)]++,_0x2db555['totalMatches']++,_0x2db555[_0x3fba60(0xdd)]+=parseInt(_0x1d1666['loserScore'])||0x0,_0x2db555[_0x3fba60(0x152)]+=parseInt(_0x1d1666[_0x3fba60(0x8d)])||0x0;}}),_0xb19f5a[_0x4f1624(0x117)](_0x2bdc52=>{const _0x3d1241=_0x4f1624,_0x109e87=_0x49ec94['get'](_0x2bdc52);_0x109e87[_0x3d1241(0xb7)]=_0x109e87['totalDeaths']>0x0?(_0x109e87[_0x3d1241(0xdd)]/_0x109e87[_0x3d1241(0x152)])[_0x3d1241(0x95)](0x2):_0x109e87[_0x3d1241(0xdd)][_0x3d1241(0x95)](0x2),_0x109e87[_0x3d1241(0xf1)]=_0x109e87[_0x3d1241(0x9b)]>0x0?(_0x109e87[_0x3d1241(0x11d)]/_0x109e87[_0x3d1241(0x9b)]*0x64)[_0x3d1241(0x95)](0x1):0x0;});}catch(_0x34c9bf){console[_0x4f1624(0xf7)](_0x4f1624(0x159),_0x34c9bf);}return _0x49ec94;}function createPlayerRow(_0x339923,_0x479e38){const _0x25528b=a27_0x22ae,_0xb7626c=parseFloat(_0x339923[_0x25528b(0x134)])||0x0;let _0x26fc95=_0x25528b(0x8e);if(_0xb7626c>=0x7d0)_0x26fc95='#50C878';else{if(_0xb7626c>=0x708)_0x26fc95=_0x25528b(0x127);else{if(_0xb7626c>=0x640)_0x26fc95='#b9f1fc';else _0xb7626c>=0x578&&(_0x26fc95='#CD7F32');}}let _0x51f570='';return _0x339923[_0x25528b(0xa3)]&&(_0x51f570=_0x25528b(0x124)+_0x339923[_0x25528b(0xa3)]['toLowerCase']()+_0x25528b(0x165)+_0x339923[_0x25528b(0xa3)]+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22player-flag\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22margin-left:\x205px;\x20vertical-align:\x20middle;\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>'),_0x25528b(0x156)+_0x339923[_0x25528b(0x106)]+_0x25528b(0xa1)+encodeURIComponent(_0x339923[_0x25528b(0xa4)])+_0x25528b(0x93)+_0x26fc95+_0x25528b(0xa2)+_0x339923[_0x25528b(0xa4)]+_0x25528b(0xbc)+_0x51f570+_0x25528b(0x14c)+_0x26fc95+_0x25528b(0x155)+_0xb7626c+_0x25528b(0xcf)+_0x479e38['totalMatches']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x479e38[_0x25528b(0x11d)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x479e38[_0x25528b(0xcd)]+_0x25528b(0xe3)+_0x479e38[_0x25528b(0xb7)]+_0x25528b(0xe3)+_0x479e38['winRate']+_0x25528b(0xd4);}function getPlayerRankName(_0x14095b){const _0x1b2927=a27_0x22ae;if(_0x14095b>=0x7d0)return _0x1b2927(0xd1);if(_0x14095b>=0x708)return'Gold';if(_0x14095b>=0x640)return _0x1b2927(0xd8);if(_0x14095b>=0x578)return'Bronze';return _0x1b2927(0x9f);}async function getPlayersLastEloChanges(_0x5cddea){const _0x207fad=a27_0x22ae,_0x2aea80=new Map();_0x5cddea[_0x207fad(0x117)](_0x264a57=>{const _0x2c4f2d=_0x207fad;_0x2aea80[_0x2c4f2d(0xea)](_0x264a57,0x0);});try{const _0x20b18d=collection(db,_0x207fad(0x13d)),_0x3499ec=await getDocs(_0x20b18d),_0x4f8193=new Map(),_0x3cf337=new Map();_0x3499ec[_0x207fad(0x117)](_0x3911c5=>{const _0x2778ee=_0x207fad,_0xfcb63=_0x3911c5[_0x2778ee(0x149)]();_0xfcb63['username']&&(_0x4f8193[_0x2778ee(0xea)](_0x3911c5['id'],_0xfcb63[_0x2778ee(0xa4)]),_0x3cf337['set'](_0xfcb63[_0x2778ee(0xa4)][_0x2778ee(0xda)](),_0x3911c5['id']));});const _0x42889f=collection(db,_0x207fad(0xb2)),_0xa13237=query(_0x42889f,orderBy('timestamp',_0x207fad(0x15d)),limit(0x12c)),_0x53e7ac=await getDocs(_0xa13237);if(_0x53e7ac[_0x207fad(0x97)])return console[_0x207fad(0x163)](_0x207fad(0xe6)),_0x2aea80;if(_0x53e7ac[_0x207fad(0xa7)][_0x207fad(0xd5)]>0x0){const _0x2bc691=_0x53e7ac[_0x207fad(0xa7)][0x0]['data']();if(_0x2bc691[_0x207fad(0xe5)]&&_0x4f8193['has'](_0x2bc691['player'])){}}const _0x4a1389=new Map();let _0x47c4d1=0x0;_0x53e7ac['forEach'](_0x1b9763=>{const _0x241561=_0x207fad,_0x16c87f=_0x1b9763[_0x241561(0x149)]();let _0x16680e=null;if(_0x16c87f[_0x241561(0xe5)]&&_0x4f8193['has'](_0x16c87f[_0x241561(0xe5)]))_0x16680e=_0x4f8193[_0x241561(0xe9)](_0x16c87f[_0x241561(0xe5)]);else{if(_0x16c87f[_0x241561(0xa4)]&&_0x3cf337['has'](_0x16c87f[_0x241561(0xa4)][_0x241561(0xda)]()))_0x16680e=_0x16c87f[_0x241561(0xa4)];else _0x16c87f['playerUsername']&&_0x3cf337[_0x241561(0x116)](_0x16c87f['playerUsername'][_0x241561(0xda)]())&&(_0x16680e=_0x16c87f[_0x241561(0xb5)]);}_0x16680e&&_0x5cddea[_0x241561(0x137)](_0x16680e)&&(_0x47c4d1++,!_0x4a1389['has'](_0x16680e)&&_0x4a1389['set'](_0x16680e,[]),_0x4a1389[_0x241561(0xe9)](_0x16680e)[_0x241561(0x103)]({..._0x16c87f,'timestamp':_0x16c87f['timestamp']?.['seconds']||0x0}));}),_0x4a1389[_0x207fad(0x117)]((_0xad9045,_0x46c5fe)=>{const _0x2c48c5=_0x207fad;if(_0xad9045['length']>0x0){_0xad9045[_0x2c48c5(0x153)]((_0x4223cf,_0x1eaab2)=>_0x1eaab2[_0x2c48c5(0xac)]-_0x4223cf[_0x2c48c5(0xac)]);const _0x2c48d2=_0xad9045['find'](_0x542674=>_0x542674[_0x2c48c5(0xc6)]!==undefined||_0x542674[_0x2c48c5(0x131)]!==undefined&&_0x542674[_0x2c48c5(0xc8)]!==undefined||_0x542674[_0x2c48c5(0x12e)]!==undefined&&_0x542674[_0x2c48c5(0xf3)]!==undefined);if(_0x2c48d2){let _0x5b19c1;if(_0x2c48d2[_0x2c48c5(0xc6)]!==undefined)_0x5b19c1=parseInt(_0x2c48d2[_0x2c48c5(0xc6)]);else{if(_0x2c48d2[_0x2c48c5(0x131)]!==undefined&&entry[_0x2c48c5(0xc8)]!==undefined)_0x5b19c1=parseInt(_0x2c48d2[_0x2c48c5(0x131)])-parseInt(_0x2c48d2['previousElo']);else _0x2c48d2[_0x2c48c5(0x12e)]!==undefined&&entry[_0x2c48c5(0xf3)]!==undefined&&(_0x5b19c1=parseInt(_0x2c48d2['newEloRating'])-parseInt(_0x2c48d2[_0x2c48c5(0xf3)]));}!isNaN(_0x5b19c1)&&_0x5b19c1!==0x0&&_0x2aea80[_0x2c48c5(0xea)](_0x46c5fe,_0x5b19c1);}}});}catch(_0x456bff){console[_0x207fad(0xf7)]('Error\x20fetching\x20ELO\x20history:',_0x456bff);}return _0x2aea80;}async function updateLadderDisplay(_0x3def7b,_0x57563d=null){const _0x663803=a27_0x22ae,_0x585698=document[_0x663803(0x9a)](_0x663803(0xe0));if(!_0x585698){console[_0x663803(0xf7)]('Ladder\x20table\x20body\x20not\x20found');return;}const _0x49ed02=document[_0x663803(0x9a)](_0x663803(0x161));_0x49ed02&&(_0x49ed02['innerHTML']=_0x663803(0xfa));const _0x3d7fad=_0x3def7b[_0x663803(0x14b)](_0x22749b=>_0x22749b[_0x663803(0xa4)]);!_0x57563d&&(_0x57563d=await fetchBatchMatchStats(_0x3d7fad));const _0x370189=_0x3def7b[_0x663803(0x14b)](_0x4821ec=>{const _0x5f0790=_0x663803,_0x1638ff=_0x57563d[_0x5f0790(0xe9)](_0x4821ec['username'])||{'totalMatches':0x0,'wins':0x0,'losses':0x0,'kda':0x0,'winRate':0x0,'totalKills':0x0,'totalDeaths':0x0};return createPlayerRow(_0x4821ec,_0x1638ff);})['join']('');_0x585698[_0x663803(0x99)]=_0x370189,getPlayersLastEloChanges(_0x3d7fad)[_0x663803(0x108)](_0x5b3249=>{const _0x4e06ca=_0x663803,_0x3a0c47=new Map();_0x585698[_0x4e06ca(0x13b)]('tr')['forEach']((_0x29f249,_0x1675c2)=>{const _0xec485f=_0x4e06ca;_0x1675c2<_0x3d7fad[_0xec485f(0xd5)]&&_0x3a0c47['set'](_0x3d7fad[_0x1675c2],_0x29f249);}),_0x5b3249[_0x4e06ca(0x117)]((_0x46f024,_0x4a335e)=>{const _0x3983dc=_0x4e06ca,_0x1319e6=_0x3a0c47[_0x3983dc(0xe9)](_0x4a335e);if(_0x1319e6&&_0x46f024!==0x0){const _0xf5c60=_0x1319e6[_0x3983dc(0x9a)](_0x3983dc(0x136));if(_0xf5c60){const _0x41cb33=_0x46f024>0x0?'+'+_0x46f024:''+_0x46f024,_0x2118ec=_0xf5c60[_0x3983dc(0x9a)](_0x3983dc(0x89));if(_0x2118ec)_0x2118ec[_0x3983dc(0x92)]=_0x41cb33,_0x2118ec[_0x3983dc(0xa0)][_0x3983dc(0xff)]=_0x46f024>0x0?'#4CAF50':_0x3983dc(0x135),_0x2118ec[_0x3983dc(0xa0)]['fontWeight']=_0x3983dc(0xce),_0x2118ec[_0x3983dc(0xa0)][_0x3983dc(0x11b)]=_0x3983dc(0x11e),_0x2118ec[_0x3983dc(0xa0)][_0x3983dc(0x154)]=_0x3983dc(0x115),_0x2118ec[_0x3983dc(0xa0)][_0x3983dc(0xf0)]=_0x3983dc(0xa9),_0x2118ec['style'][_0x3983dc(0xa8)]='1';else{}}}});})[_0x663803(0xec)](_0x2b9687=>console[_0x663803(0xf7)](_0x663803(0x100),_0x2b9687));}function initLadderToggles(){const _0x31f940=a27_0x22ae,_0x2672ac=document['getElementById'](_0x31f940(0x110)),_0x57a4cf=document[_0x31f940(0xf8)](_0x31f940(0x15c)),_0x28b760=document[_0x31f940(0xf8)]('d3-switch'),_0x461035=document['getElementById'](_0x31f940(0x144)),_0x44e4c6=document[_0x31f940(0xf8)](_0x31f940(0x107)),_0x32cb88=document[_0x31f940(0xf8)](_0x31f940(0xb3)),_0x2a5a20=document[_0x31f940(0xf8)](_0x31f940(0x11c)),_0x3077c7=document[_0x31f940(0xf8)](_0x31f940(0xfb));function _0x325310(){const _0x1671e2=_0x31f940;if(_0x44e4c6)_0x44e4c6[_0x1671e2(0x145)][_0x1671e2(0x123)](_0x1671e2(0xfc));if(_0x32cb88)_0x32cb88[_0x1671e2(0x145)][_0x1671e2(0x123)]('active');if(_0x2a5a20)_0x2a5a20['classList'][_0x1671e2(0x123)](_0x1671e2(0xfc));if(_0x3077c7)_0x3077c7['style'][_0x1671e2(0x154)]=_0x1671e2(0xad);if(_0x44e4c6)_0x44e4c6[_0x1671e2(0xa0)][_0x1671e2(0x154)]=_0x1671e2(0xad);if(_0x32cb88)_0x32cb88[_0x1671e2(0xa0)][_0x1671e2(0x154)]=_0x1671e2(0xad);if(_0x2a5a20)_0x2a5a20[_0x1671e2(0xa0)]['display']='none';}_0x2672ac&&_0x2672ac[_0x31f940(0xdb)](_0x31f940(0xfd),()=>{const _0x1c85ee=_0x31f940;console['log'](_0x1c85ee(0x133)),_0x325310();_0x44e4c6&&(_0x44e4c6[_0x1c85ee(0x145)][_0x1c85ee(0xd7)](_0x1c85ee(0xfc)),_0x44e4c6[_0x1c85ee(0xa0)][_0x1c85ee(0x154)]=_0x1c85ee(0xc5));document[_0x1c85ee(0xf8)](_0x1c85ee(0x10e))['style'][_0x1c85ee(0x154)]='block',document[_0x1c85ee(0xf8)](_0x1c85ee(0x146))[_0x1c85ee(0xa0)][_0x1c85ee(0x154)]=_0x1c85ee(0xad),document[_0x1c85ee(0xf8)]('elo-recommendation-text-d3')[_0x1c85ee(0xa0)]['display']=_0x1c85ee(0xad);if(_0x2672ac)_0x2672ac[_0x1c85ee(0x145)][_0x1c85ee(0xd7)](_0x1c85ee(0xfc));if(_0x57a4cf)_0x57a4cf[_0x1c85ee(0x145)][_0x1c85ee(0x123)](_0x1c85ee(0xfc));if(_0x28b760)_0x28b760[_0x1c85ee(0x145)][_0x1c85ee(0x123)](_0x1c85ee(0xfc));displayLadder(),findBestOpponent('d1');}),_0x57a4cf&&_0x57a4cf[_0x31f940(0xdb)](_0x31f940(0xfd),()=>{const _0x19fc8e=_0x31f940;console[_0x19fc8e(0x163)](_0x19fc8e(0x12f)),_0x325310();_0x32cb88&&(_0x32cb88[_0x19fc8e(0x145)][_0x19fc8e(0xd7)](_0x19fc8e(0xfc)),_0x32cb88['style'][_0x19fc8e(0x154)]='block');document[_0x19fc8e(0xf8)](_0x19fc8e(0x10e))[_0x19fc8e(0xa0)]['display']=_0x19fc8e(0xad),document[_0x19fc8e(0xf8)](_0x19fc8e(0x146))['style'][_0x19fc8e(0x154)]=_0x19fc8e(0xc5),document[_0x19fc8e(0xf8)]('elo-recommendation-text-d3')[_0x19fc8e(0xa0)][_0x19fc8e(0x154)]='none';if(_0x57a4cf)_0x57a4cf[_0x19fc8e(0x145)][_0x19fc8e(0xd7)](_0x19fc8e(0xfc));if(_0x2672ac)_0x2672ac[_0x19fc8e(0x145)][_0x19fc8e(0x123)]('active');if(_0x28b760)_0x28b760[_0x19fc8e(0x145)]['remove'](_0x19fc8e(0xfc));displayLadderD2(),findBestOpponent('d2');}),_0x28b760&&_0x28b760[_0x31f940(0xdb)]('click',()=>{const _0x211f50=_0x31f940;console[_0x211f50(0x163)](_0x211f50(0x8f)),_0x325310();_0x2a5a20&&(_0x2a5a20[_0x211f50(0x145)]['add']('active'),_0x2a5a20['style'][_0x211f50(0x154)]=_0x211f50(0xc5));document[_0x211f50(0xf8)](_0x211f50(0x10e))[_0x211f50(0xa0)][_0x211f50(0x154)]=_0x211f50(0xad),document[_0x211f50(0xf8)](_0x211f50(0x146))[_0x211f50(0xa0)][_0x211f50(0x154)]=_0x211f50(0xad),document[_0x211f50(0xf8)](_0x211f50(0x142))['style'][_0x211f50(0x154)]='block';if(_0x28b760)_0x28b760[_0x211f50(0x145)][_0x211f50(0xd7)](_0x211f50(0xfc));if(_0x2672ac)_0x2672ac[_0x211f50(0x145)][_0x211f50(0x123)](_0x211f50(0xfc));if(_0x57a4cf)_0x57a4cf[_0x211f50(0x145)][_0x211f50(0x123)](_0x211f50(0xfc));displayLadderD3(),findBestOpponent('d3');}),_0x461035&&_0x461035[_0x31f940(0xdb)](_0x31f940(0xfd),()=>{const _0xc6f1c1=_0x31f940;_0x325310();if(_0x3077c7)_0x3077c7[_0xc6f1c1(0xa0)][_0xc6f1c1(0x154)]='block';displayLadderDuos(),findBestOpponent(_0xc6f1c1(0x10a)),document[_0xc6f1c1(0xf8)](_0xc6f1c1(0xef))&&(document[_0xc6f1c1(0xf8)](_0xc6f1c1(0xef))[_0xc6f1c1(0xa0)][_0xc6f1c1(0x154)]=_0xc6f1c1(0xc5)),document['getElementById'](_0xc6f1c1(0x10e))[_0xc6f1c1(0xa0)]['display']=_0xc6f1c1(0xad),document['getElementById'](_0xc6f1c1(0x146))[_0xc6f1c1(0xa0)][_0xc6f1c1(0x154)]=_0xc6f1c1(0xad),document[_0xc6f1c1(0xf8)](_0xc6f1c1(0x142))[_0xc6f1c1(0xa0)]['display']=_0xc6f1c1(0xad);});}document['addEventListener'](a27_0x3057b6(0x114),()=>{const _0x36aedb=a27_0x3057b6;initLadderToggles(),displayLadder(),findBestOpponent('d1'),document[_0x36aedb(0xf8)](_0x36aedb(0x10e))[_0x36aedb(0xa0)][_0x36aedb(0x154)]=_0x36aedb(0xc5);});export{displayLadder};async function findBestOpponent(_0x493f40='d1'){const _0x5462cf=a27_0x3057b6,_0x2d0943='elo-recommendation-text-'+_0x493f40,_0x49712e=document[_0x5462cf(0xf8)](_0x2d0943);if(!_0x49712e){console['error'](_0x5462cf(0x8b)+_0x493f40+'\x20not\x20found');return;}const _0x2cca56=auth[_0x5462cf(0xb4)];if(!_0x2cca56){_0x49712e[_0x5462cf(0x92)]='';return;}try{const _0x39d9d7=doc(db,'userProfiles',_0x2cca56[_0x5462cf(0xc3)]),_0x3658da=await getDoc(_0x39d9d7);if(!_0x3658da['exists']()){console[_0x5462cf(0x163)](_0x5462cf(0xc1)),_0x49712e[_0x5462cf(0x92)]='Complete\x20your\x20profile\x20to\x20see\x20recommended\x20opponents';return;}const _0x46dd1e=_0x3658da[_0x5462cf(0x149)](),_0x466151=_0x46dd1e[_0x5462cf(0xa4)];if(!_0x466151){_0x49712e[_0x5462cf(0x92)]=_0x5462cf(0xd2);return;}let _0x23b467;switch(_0x493f40){case'd1':_0x23b467=_0x5462cf(0x13d);break;case'd2':_0x23b467=_0x5462cf(0xf9);break;case'd3':_0x23b467=_0x5462cf(0x101);break;case _0x5462cf(0x10a):_0x23b467=_0x5462cf(0x104);break;default:_0x23b467=_0x5462cf(0x13d);}if(_0x493f40===_0x5462cf(0x10a)){const _0xa0d03b=collection(db,_0x23b467),_0x5f80d0=query(_0xa0d03b,where(_0x5462cf(0xa4),'==',_0x466151)),_0x4838db=await getDocs(_0x5f80d0);if(_0x4838db[_0x5462cf(0x97)]){_0x49712e[_0x5462cf(0x92)]=_0x5462cf(0x88);return;}const _0x9e7a00=_0x4838db[_0x5462cf(0xa7)][0x0][_0x5462cf(0x149)](),_0x229174=parseInt(_0x9e7a00[_0x5462cf(0xd9)])||0x4b0;if(_0x9e7a00[_0x5462cf(0xe7)]&&_0x9e7a00[_0x5462cf(0x13f)]){_0x49712e[_0x5462cf(0x99)]='You\x27re\x20teamed\x20with\x20<span\x20class=\x22recommendation-highlight\x22>'+_0x9e7a00[_0x5462cf(0x13f)]+_0x5462cf(0xb1);return;}const _0x279847=await getDocs(_0xa0d03b);let _0x58bb4c=null,_0x2f2ee5=-0x1;_0x279847[_0x5462cf(0x117)](_0x5af57e=>{const _0x318cca=_0x5462cf,_0x146ebc=_0x5af57e[_0x318cca(0x149)]();if(_0x146ebc[_0x318cca(0xa4)]===_0x466151)return;if(_0x146ebc[_0x318cca(0xe7)])return;const _0x4a6f68=parseInt(_0x146ebc['eloRating'])||0x4b0,_0x1420b8=Math[_0x318cca(0xd3)](_0x4a6f68-_0x229174),_0x353eea=Math['max'](0x0,0xc8-_0x1420b8);_0x353eea>_0x2f2ee5&&(_0x58bb4c=_0x146ebc,_0x2f2ee5=_0x353eea);});if(_0x58bb4c){const _0x4f233b=parseInt(_0x58bb4c[_0x5462cf(0xd9)])||0x4b0;let _0x332be1='gray';if(_0x4f233b>=0x7d0)_0x332be1='#50C878';else{if(_0x4f233b>=0x708)_0x332be1='#FFD700';else{if(_0x4f233b>=0x640)_0x332be1=_0x5462cf(0xd0);else _0x4f233b>=0x578&&(_0x332be1=_0x5462cf(0xb6));}}_0x49712e[_0x5462cf(0x99)]=_0x5462cf(0xab)+_0x332be1+';\x22>'+_0x58bb4c[_0x5462cf(0xa4)]+_0x5462cf(0x122)+_0x4f233b+')';}else _0x49712e[_0x5462cf(0x92)]='No\x20available\x20teammates\x20found.\x20More\x20players\x20needed\x20on\x20DUOS\x20ladder!';return;}const _0x366357=collection(db,_0x23b467),_0x55349f=query(_0x366357,where(_0x5462cf(0xa4),'==',_0x466151)),_0x2a598b=await getDocs(_0x55349f);if(_0x2a598b['empty']){_0x49712e['textContent']=_0x5462cf(0xbf)+_0x493f40[_0x5462cf(0xb8)]()+_0x5462cf(0x14f);return;}const _0x336902=_0x2a598b[_0x5462cf(0xa7)][0x0]['data'](),_0x208d29=parseInt(_0x336902[_0x5462cf(0xd9)])||0x5dc,_0x57981e=await getDocs(_0x366357);let _0x4e8db5=null,_0x2a5ef9=-0x1;const _0xd29662=getPlayerRankName(_0x208d29);_0x57981e[_0x5462cf(0x117)](_0x31070d=>{const _0x5222f4=_0x5462cf,_0x52042f=_0x31070d[_0x5222f4(0x149)]();if(_0x52042f[_0x5222f4(0xa4)]===_0x466151)return;const _0x5b33ed=parseInt(_0x52042f[_0x5222f4(0xd9)])||0x5dc,_0x532d0a=getPlayerRankName(_0x5b33ed),_0x1c305e=Math[_0x5222f4(0xd3)](_0x5b33ed-_0x208d29),_0x24b2e1=0x20,_0x5f5539=0x1/(0x1+Math[_0x5222f4(0x121)](0xa,(_0x5b33ed-_0x208d29)/0x190)),_0x425d7a=Math[_0x5222f4(0x9c)](_0x24b2e1*(0x1-_0x5f5539));if(_0x425d7a<=0x0)return;let _0x4386e7=0x0;const _0x576360=Math[_0x5222f4(0x14a)](0x0,0x64-_0x1c305e*0.5),_0xbbc2e5=_0x425d7a>=0x3&&_0x425d7a<=0x8?0x32:_0x425d7a>0x0&&_0x425d7a<0xf?0x1e:0xa,_0xfc2744=_0xd29662===_0x532d0a?0x28:0x0;_0x4386e7=_0x576360+_0xbbc2e5+_0xfc2744,_0x4386e7>_0x2a5ef9&&(_0x4e8db5=_0x52042f,_0x2a5ef9=_0x4386e7);});if(_0x4e8db5){const _0x257c83=parseInt(_0x4e8db5[_0x5462cf(0xd9)])||0x5dc;let _0x1a9ef3=_0x5462cf(0x8e);if(_0x257c83>=0x7d0)_0x1a9ef3=_0x5462cf(0x10d);else{if(_0x257c83>=0x708)_0x1a9ef3=_0x5462cf(0x127);else{if(_0x257c83>=0x640)_0x1a9ef3=_0x5462cf(0xfe);else _0x257c83>=0x578&&(_0x1a9ef3=_0x5462cf(0xb6));}}_0x49712e[_0x5462cf(0x99)]=_0x5462cf(0xc7)+_0x208d29+_0x5462cf(0xe8)+_0x1a9ef3+_0x5462cf(0xe2)+_0x4e8db5[_0x5462cf(0xa4)]+_0x5462cf(0xe1);}else _0x49712e[_0x5462cf(0x99)]=_0x5462cf(0xf6)+_0x208d29+')';}catch(_0x144b62){console[_0x5462cf(0xf7)]('Error\x20finding\x20best\x20opponent:',_0x144b62),_0x49712e[_0x5462cf(0x92)]=_0x5462cf(0x140);}}auth['onAuthStateChanged'](_0x3ff7d5=>{const _0x282917=a27_0x3057b6,_0x6b9c83=document['getElementById'](_0x282917(0x107))&&document[_0x282917(0xf8)]('d1-ladder-container')[_0x282917(0xa0)][_0x282917(0x154)]!=='none',_0x18906c=document['getElementById'](_0x282917(0xb3))&&document[_0x282917(0xf8)]('d2-ladder-container')[_0x282917(0xa0)][_0x282917(0x154)]!==_0x282917(0xad),_0x36e8ef=document[_0x282917(0xf8)](_0x282917(0x11c))&&document[_0x282917(0xf8)](_0x282917(0x11c))[_0x282917(0xa0)][_0x282917(0x154)]!==_0x282917(0xad),_0x2d7051=document[_0x282917(0xf8)]('duos-ladder-container')&&document[_0x282917(0xf8)](_0x282917(0xfb))['style'][_0x282917(0x154)]!==_0x282917(0xad),_0x15fa41=_0x6b9c83?'d1':_0x18906c?'d2':_0x36e8ef?'d3':_0x2d7051?'duos':'d1';findBestOpponent(_0x15fa41);}),document['addEventListener'](a27_0x3057b6(0x114),()=>{const _0x578c37=a27_0x3057b6,_0x2402ca=document[_0x578c37(0xf8)](_0x578c37(0x144)),_0x46fd6d=document['querySelector'](_0x578c37(0xde));_0x2402ca&&_0x46fd6d&&(_0x2402ca[_0x578c37(0xdb)]('change',async _0x4a5b15=>{const _0x57341f=_0x578c37;if(_0x4a5b15[_0x57341f(0xcc)][_0x57341f(0x12c)]){const _0x57b211=auth?.['currentUser'],_0x2bf582=await checkIfUserIsAdmin(_0x57b211);if(!_0x2bf582){_0x4a5b15[_0x57341f(0x15e)]();const _0x569359=document[_0x57341f(0xf8)](_0x57341f(0x110));return _0x569359&&(_0x569359[_0x57341f(0x12c)]=!![],_0x569359['dispatchEvent'](new Event(_0x57341f(0xc6)))),showAdminOnlyMessage(),![];}}}),auth[_0x578c37(0x10f)](async _0x74583b=>{const _0x1abf26=_0x578c37,_0x32fc98=await checkIfUserIsAdmin(_0x74583b);!_0x32fc98?(_0x2402ca[_0x1abf26(0xc2)]=!![],_0x46fd6d['style']['opacity']=_0x1abf26(0x13e),_0x46fd6d[_0x1abf26(0xa0)]['cursor']=_0x1abf26(0xbb),_0x46fd6d[_0x1abf26(0x11f)]=_0x1abf26(0xdf)):(_0x2402ca['disabled']=![],_0x46fd6d['style']['opacity']='1',_0x46fd6d[_0x1abf26(0xa0)][_0x1abf26(0x10c)]=_0x1abf26(0xa5),_0x46fd6d['title']='');}));});async function checkIfUserIsAdmin(_0x3a0bf8){const _0x414c51=a27_0x3057b6;if(!_0x3a0bf8)return![];try{const _0x3fce8a=[_0x414c51(0x126),_0x414c51(0x96)];if(_0x3a0bf8[_0x414c51(0x158)]&&_0x3fce8a['includes'](_0x3a0bf8[_0x414c51(0x158)][_0x414c51(0xda)]()))return!![];const _0x483bf6=[_0x414c51(0x14d),_0x414c51(0x13d),_0x414c51(0xf9),'playersD3'],_0x362921=['admin',_0x414c51(0x148),'council',_0x414c51(0xdc)];for(const _0x2eb64d of _0x483bf6){try{const _0x2354fb=doc(db,_0x2eb64d,_0x3a0bf8[_0x414c51(0xc3)]),_0x516bea=await getDoc(_0x2354fb);if(_0x516bea['exists']()){const _0x395ca7=_0x516bea[_0x414c51(0x149)](),_0x31e60f=(_0x395ca7['roleName']||_0x395ca7[_0x414c51(0x12b)]||'')['toLowerCase']();if(_0x31e60f&&_0x362921[_0x414c51(0x137)](_0x31e60f))return!![];}}catch(_0x5ae624){console[_0x414c51(0x111)](_0x414c51(0x147)+_0x2eb64d+':',_0x5ae624);}}return![];}catch(_0x482c7a){return console[_0x414c51(0xf7)](_0x414c51(0x164),_0x482c7a),![];}}function showAdminOnlyMessage(){const _0x46f585=a27_0x3057b6,_0x4236af=document[_0x46f585(0xf8)](_0x46f585(0x8a));_0x4236af&&_0x4236af[_0x46f585(0x123)]();const _0x1a8882=document['createElement']('div');_0x1a8882['id']=_0x46f585(0x8a),_0x1a8882[_0x46f585(0xa0)][_0x46f585(0xf4)]=_0x46f585(0xca),_0x1a8882[_0x46f585(0x99)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<strong>🔒\x20Duos\x20Ladder\x20-\x20Admin\x20Only</strong><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20style=\x22color:\x20#ccc;\x22>Currently\x20in\x20testing\x20phase</span>\x0a\x20\x20\x20\x20',document['body'][_0x46f585(0xaa)](_0x1a8882),setTimeout(()=>{const _0x1fd622=_0x46f585;_0x1a8882[_0x1fd622(0x162)]&&_0x1a8882['remove']();},0xbb8);}