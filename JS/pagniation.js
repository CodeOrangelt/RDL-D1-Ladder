const a38_0x41bb5f=a38_0x2129,a38_0x10f505=(function(){let _0xae432d=!![];return function(_0x3bd47d,_0x38139e){const _0x223eac=_0xae432d?function(){const _0x1b88d4=a38_0x2129;if(_0x38139e){const _0x1e4ff5=_0x38139e[_0x1b88d4(0x12e)](_0x3bd47d,arguments);return _0x38139e=null,_0x1e4ff5;}}:function(){};return _0xae432d=![],_0x223eac;};}()),a38_0x2284f3=a38_0x10f505(this,function(){const _0x5d865c=a38_0x2129,_0x2e67c8=function(){const _0x8ac89d=a38_0x2129;let _0x3f480e;try{_0x3f480e=Function('return\x20(function()\x20'+_0x8ac89d(0x12f)+');')();}catch(_0x1c75c5){_0x3f480e=window;}return _0x3f480e;},_0x313c8b=_0x2e67c8(),_0x5b443f=_0x313c8b['console']=_0x313c8b['console']||{},_0x2edd94=['log','warn','info','error','exception','table','trace'];for(let _0xbf9e55=0x0;_0xbf9e55<_0x2edd94['length'];_0xbf9e55++){const _0x4141fd=a38_0x10f505['constructor'][_0x5d865c(0x131)]['bind'](a38_0x10f505),_0x2af078=_0x2edd94[_0xbf9e55],_0x2143a1=_0x5b443f[_0x2af078]||_0x4141fd;_0x4141fd['__proto__']=a38_0x10f505['bind'](a38_0x10f505),_0x4141fd[_0x5d865c(0x130)]=_0x2143a1['toString']['bind'](_0x2143a1),_0x5b443f[_0x2af078]=_0x4141fd;}});a38_0x2284f3();import{getEloHistory,resetPagination}from'./elo-history.js';let currentPage=0x1,allMatches=[];function a38_0x359a(){const _0x494c3a=['>Previous</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-navigation\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>Page\x20','apply','{}.constructor(\x22return\x20this\x22)(\x20)','toString','prototype','player','keypress','>Next</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','join','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','N/A','previousElo','<tr><td\x20colspan=\x226\x22>Error\x20loading\x20ELO\x20history</td></tr>','nextPage','matchResult','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','innerHTML','addEventListener','click','#elo-history\x20tbody','getElementById','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goToPage\x22>Go</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22nextPage\x22\x20','\x22\x20value=\x22','disabled','DOMContentLoaded','length'];a38_0x359a=function(){return _0x494c3a;};return a38_0x359a();}const matchesPerPage=0xa;async function displayEloHistory(){const _0x57e2e9=a38_0x2129,_0x58e902=document['querySelector']('#elo-history\x20tbody'),_0x10519c=document['getElementById']('pagination');try{const {entries:_0x2a0faa,hasMore:_0x58bd45}=await getEloHistory();if(_0x2a0faa['length']===0x0){_0x58e902['innerHTML']='<tr><td\x20colspan=\x226\x22>No\x20ELO\x20history\x20available</td></tr>';return;}allMatches=_0x2a0faa,_0x58e902['innerHTML']=_0x2a0faa['map'](_0x488039=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x488039['timestamp']?new Date(_0x488039['timestamp']['toDate']())['toLocaleString']():_0x57e2e9(0x137))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x488039[_0x57e2e9(0x132)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x488039[_0x57e2e9(0x138)]+_0x57e2e9(0x13c)+_0x488039['newElo']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x488039['change']>0x0?'+'+_0x488039['change']:_0x488039['change'])+_0x57e2e9(0x13c)+_0x488039['opponent']+_0x57e2e9(0x13c)+_0x488039[_0x57e2e9(0x13b)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x57e2e9(0x135)](''),createPaginationControls();}catch(_0x1b7f73){console['error']('Error\x20displaying\x20ELO\x20history:',_0x1b7f73),_0x58e902[_0x57e2e9(0x13d)]=_0x57e2e9(0x139);}}function createPaginationControls(){const _0x1f0b7c=a38_0x2129,_0x1adbee=Math['ceil'](allMatches[_0x1f0b7c(0x146)]/matchesPerPage),_0x41ad61=document['createElement']('div');_0x41ad61['className']='pagination-wrapper',_0x41ad61['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pagination-controls\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22prevPage\x22\x20'+(currentPage===0x1?_0x1f0b7c(0x144):'')+_0x1f0b7c(0x12d)+currentPage+'\x20of\x20'+_0x1adbee+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-search\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22pageInput\x22\x20min=\x221\x22\x20max=\x22'+_0x1adbee+_0x1f0b7c(0x143)+currentPage+_0x1f0b7c(0x142)+(currentPage===_0x1adbee?'disabled':'')+_0x1f0b7c(0x134);const _0x28a7a5=document['querySelector']('#elo-history');_0x28a7a5['parentNode']['insertBefore'](_0x41ad61,_0x28a7a5['nextSibling']),document['getElementById']('prevPage')['addEventListener']('click',()=>{if(currentPage>0x1)displayMatchesPage(currentPage-0x1);}),document['getElementById'](_0x1f0b7c(0x13a))['addEventListener'](_0x1f0b7c(0x13f),()=>{if(currentPage<_0x1adbee)displayMatchesPage(currentPage+0x1);}),document['getElementById']('goToPage')['addEventListener']('click',()=>{const _0x54ffbf=document['getElementById']('pageInput'),_0xbd1f8=parseInt(_0x54ffbf['value']);_0xbd1f8>=0x1&&_0xbd1f8<=_0x1adbee&&displayMatchesPage(_0xbd1f8);}),document[_0x1f0b7c(0x141)]('pageInput')[_0x1f0b7c(0x13e)](_0x1f0b7c(0x133),_0x3762a4=>{if(_0x3762a4['key']==='Enter'){const _0x5c5cf4=parseInt(_0x3762a4['target']['value']);_0x5c5cf4>=0x1&&_0x5c5cf4<=_0x1adbee&&displayMatchesPage(_0x5c5cf4);}});}async function displayMatchesPage(_0x3e6a2a){const _0x4a7fa5=a38_0x2129;currentPage=_0x3e6a2a;const _0x37e67f=(currentPage-0x1)*matchesPerPage,_0x28b8f0=_0x37e67f+matchesPerPage,_0x169c95=allMatches['slice'](_0x37e67f,_0x28b8f0),_0x16a06b=document['querySelector'](_0x4a7fa5(0x140));_0x16a06b['innerHTML']=_0x169c95['map'](_0x5daae7=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x5daae7['timestamp']?new Date(_0x5daae7['timestamp']['toDate']())['toLocaleString']():_0x4a7fa5(0x137))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x5daae7['player']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x5daae7[_0x4a7fa5(0x138)]+_0x4a7fa5(0x136)+_0x5daae7['newElo']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x5daae7['change']>0x0?'+'+_0x5daae7['change']:_0x5daae7['change'])+_0x4a7fa5(0x136)+_0x5daae7['opponent']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x5daae7['matchResult']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20')['join'](''),createPaginationControls();}function a38_0x2129(_0x1c4660,_0x90f9eb){const _0x2284f3=a38_0x359a();return a38_0x2129=function(_0x10f505,_0x4012a6){_0x10f505=_0x10f505-0x12d;let _0x359a4c=_0x2284f3[_0x10f505];return _0x359a4c;},a38_0x2129(_0x1c4660,_0x90f9eb);}document['addEventListener'](a38_0x41bb5f(0x145),displayEloHistory);