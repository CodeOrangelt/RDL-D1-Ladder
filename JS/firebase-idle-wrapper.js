const a19_0x539a88=a19_0x1efe,a19_0x1d3534=(function(){let _0x390136=!![];return function(_0x3e5014,_0x276750){const _0x3abfef=_0x390136?function(){if(_0x276750){const _0x7ea6e4=_0x276750['apply'](_0x3e5014,arguments);return _0x276750=null,_0x7ea6e4;}}:function(){};return _0x390136=![],_0x3abfef;};}()),a19_0x59dafd=a19_0x1d3534(this,function(){const _0x2f629d=a19_0x1efe,_0x5a7786=function(){const _0x1387eb=a19_0x1efe;let _0x2eedfa;try{_0x2eedfa=Function('return\x20(function()\x20'+_0x1387eb(0x1d4)+');')();}catch(_0x3324a8){_0x2eedfa=window;}return _0x2eedfa;},_0x25d44f=_0x5a7786(),_0x537b66=_0x25d44f[_0x2f629d(0x1b5)]=_0x25d44f['console']||{},_0x5577b5=['log','warn','info','error','exception',_0x2f629d(0x1cf),_0x2f629d(0x1bf)];for(let _0x4bbd76=0x0;_0x4bbd76<_0x5577b5[_0x2f629d(0x1cc)];_0x4bbd76++){const _0x3bf96f=a19_0x1d3534['constructor']['prototype'][_0x2f629d(0x1a4)](a19_0x1d3534),_0x19480e=_0x5577b5[_0x4bbd76],_0x1521d6=_0x537b66[_0x19480e]||_0x3bf96f;_0x3bf96f['__proto__']=a19_0x1d3534['bind'](a19_0x1d3534),_0x3bf96f[_0x2f629d(0x1a5)]=_0x1521d6['toString']['bind'](_0x1521d6),_0x537b66[_0x19480e]=_0x3bf96f;}});a19_0x59dafd();import{auth,db}from'./firebase-config.js';function a19_0x1efe(_0x282b07,_0x533829){const _0x59dafd=a19_0x2d76();return a19_0x1efe=function(_0x1d3534,_0x5dc93d){_0x1d3534=_0x1d3534-0x1a4;let _0x2d76c1=_0x59dafd[_0x1d3534];return _0x2d76c1;},a19_0x1efe(_0x282b07,_0x533829);}import{handleNetworkError}from'./idle-timeout.js';import{getDoc,getDocs,collection,doc,query,where,orderBy,limit,startAfter,addDoc,setDoc,updateDoc,deleteDoc,onSnapshot,getCountFromServer,writeBatch,serverTimestamp,Timestamp}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';class FirebaseIdleWrapper{constructor(){const _0x33a302=a19_0x1efe;this[_0x33a302(0x1e1)]=new Map(),this['pendingOperations']=new Map(),this['pendingTimeout']=null,this[_0x33a302(0x1ca)]=0x0,this['debug']=![];}['checkSessionActive'](){const _0x5f25d6=a19_0x1efe;if(window[_0x5f25d6(0x1ce)]===!![])return console['log']('[FirebaseIdle]\x20Operation\x20blocked\x20-\x20session\x20idle'),this['blockedOperations']=(this[_0x5f25d6(0x1ca)]||0x0)+0x1,this['blockedOperations']%0xa===0x0&&console['warn'](_0x5f25d6(0x1c3)+this[_0x5f25d6(0x1ca)]+_0x5f25d6(0x1c6)),![];if(window['RDL_NETWORK_ERROR']===!![])return console['log']('[FirebaseIdle]\x20Operation\x20blocked\x20-\x20network\x20error'),![];return!![];}async['safeOperation'](_0x15bb21,_0x1b1778,..._0x379790){const _0x4ad764=a19_0x1efe;if(!this['checkSessionActive']()){const _0x3eb95b=_0x1b1778+'-'+Date['now']()+'-'+Math[_0x4ad764(0x1df)]()['toString'](0x24)['substring'](0x2,0x9);return this['pendingOperations']['set'](_0x3eb95b,{'operation':_0x15bb21,'operationType':_0x1b1778,'args':_0x379790}),!this['pendingTimeout']&&(this['pendingTimeout']=setTimeout(()=>{const _0xb35280=_0x4ad764;this[_0xb35280(0x1a8)][_0xb35280(0x1c0)](),this['pendingTimeout']=null;},0x5*0x3c*0x3e8)),null;}try{return await _0x15bb21(..._0x379790);}catch(_0x20fc9e){if(_0x20fc9e['code']==='unavailable'||_0x20fc9e[_0x4ad764(0x1db)]==='resource-exhausted'||_0x20fc9e['message']&&_0x20fc9e['message']['includes']('network'))return handleNetworkError(),null;throw _0x20fc9e;}}async['getDocument'](_0x3c86e1){const _0x525bb3=a19_0x1efe;return this[_0x525bb3(0x1b6)](getDoc,_0x525bb3(0x1b0),_0x3c86e1);}async[a19_0x539a88(0x1b7)](_0x337959){const _0x345f4c=a19_0x539a88;return this[_0x345f4c(0x1b6)](getDocs,_0x345f4c(0x1ba),_0x337959);}async['addDocument'](_0x2e1512,_0xf25e87){return this['safeOperation'](addDoc,'add',_0x2e1512,_0xf25e87);}async['setDocument'](_0x455e7c,_0x4acba2,_0x104008={}){return this['safeOperation'](setDoc,'set',_0x455e7c,_0x4acba2,_0x104008);}async[a19_0x539a88(0x1d9)](_0x28433e,_0x4d04df){return this['safeOperation'](updateDoc,'update',_0x28433e,_0x4d04df);}async['deleteDocument'](_0x13157f){const _0x165d37=a19_0x539a88;return this[_0x165d37(0x1b6)](deleteDoc,'delete',_0x13157f);}['suspendAllListeners'](){const _0x339135=a19_0x539a88;console[_0x339135(0x1d5)](_0x339135(0x1d2),this['activeListeners'][_0x339135(0x1b9)]),this['_suspendedListeners']=new Map(this['activeListeners']),this[_0x339135(0x1e1)][_0x339135(0x1c4)]((_0x2e9a34,_0x416265)=>{const _0x4e168e=_0x339135;console['log']('[FirebaseIdle]\x20Suspending\x20listener:',_0x416265);if(typeof _0x2e9a34==='function')try{_0x2e9a34(),console[_0x4e168e(0x1d5)](_0x4e168e(0x1a7),_0x416265);}catch(_0x2ffbd5){console[_0x4e168e(0x1c5)](_0x4e168e(0x1c9),_0x416265,_0x2ffbd5);}}),this['activeListeners']['clear']();if(this['debug']){const _0x83509a=document[_0x339135(0x1b1)]('div');_0x83509a['id']=_0x339135(0x1d3),_0x83509a['style'][_0x339135(0x1ae)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20right:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ff5555;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x205px\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x209999;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x83509a['textContent']=_0x339135(0x1e2),document[_0x339135(0x1ac)]['appendChild'](_0x83509a);}console['log']('[FirebaseIdle]\x20All\x20listeners\x20suspended');}['resumeAllListeners'](){const _0x8d9756=a19_0x539a88;if(!this[_0x8d9756(0x1ad)]||this['_suspendedListeners']['size']===0x0){console[_0x8d9756(0x1d5)]('[FirebaseIdle]\x20No\x20listeners\x20to\x20resume');return;}console['log']('[FirebaseIdle]\x20Resuming\x20listeners:',this[_0x8d9756(0x1ad)]['size']),this['_suspendedListeners']['forEach']((_0x72670d,_0x8f5aaf)=>{const _0x890c57=_0x8d9756;console['log'](_0x890c57(0x1c7),_0x8f5aaf);try{if(typeof _0x72670d==='function'){console['warn']('[FirebaseIdle]\x20Cannot\x20resume\x20listener\x20directly:',_0x8f5aaf);return;}const {query:_0x4bac07,callback:_0x1914fa,options:_0x364575}=_0x72670d;if(_0x4bac07&&_0x1914fa){const _0x7d1381=onSnapshot(_0x4bac07,_0x1914fa,_0x364575||{});this['activeListeners'][_0x890c57(0x1c2)](_0x8f5aaf,_0x7d1381),console[_0x890c57(0x1d5)](_0x890c57(0x1dc),_0x8f5aaf);}}catch(_0x449627){console[_0x890c57(0x1c5)]('[FirebaseIdle]\x20Error\x20resuming\x20listener:',_0x8f5aaf,_0x449627);}}),this['_suspendedListeners']['clear']();const _0x574eee=document['getElementById']('firebase-suspend-indicator');_0x574eee&&_0x574eee[_0x8d9756(0x1aa)](),console[_0x8d9756(0x1d5)]('[FirebaseIdle]\x20Listeners\x20resumed');}['createListener'](_0x32a31a,_0x5f379e,_0x1e630e={},_0x554aeb=null){const _0x20b457=a19_0x539a88,_0x408601=_0x554aeb||'listener_'+Date[_0x20b457(0x1af)]()+'_'+Math['random']()['toString'](0x24)[_0x20b457(0x1be)](0x2,0x9);this[_0x20b457(0x1e3)]&&console[_0x20b457(0x1d5)]('[FirebaseIdle]\x20Creating\x20listener:\x20'+_0x408601);if(!this['checkSessionActive']())return console['log'](_0x20b457(0x1d8)+_0x408601),()=>{};try{const _0x32e0af=onSnapshot(_0x32a31a,_0x5f379e,_0x1e630e);return this[_0x20b457(0x1e1)][_0x20b457(0x1c2)](_0x408601,{'unsubscribe':_0x32e0af,'query':_0x32a31a,'callback':_0x5f379e,'options':_0x1e630e}),this[_0x20b457(0x1e3)]&&(console['log']('[FirebaseIdle]\x20Listener\x20created:\x20'+_0x408601),console[_0x20b457(0x1d5)]('[FirebaseIdle]\x20Active\x20listeners:\x20'+this['activeListeners']['size'])),()=>{const _0x239f22=_0x20b457;this['debug']&&console[_0x239f22(0x1d5)](_0x239f22(0x1b4)+_0x408601);try{_0x32e0af(),this['activeListeners'][_0x239f22(0x1d7)](_0x408601),this['debug']&&(console[_0x239f22(0x1d5)](_0x239f22(0x1c8)+_0x408601),console[_0x239f22(0x1d5)](_0x239f22(0x1e0)+this['activeListeners'][_0x239f22(0x1b9)]));}catch(_0x528fbf){console['error']('[FirebaseIdle]\x20Error\x20unsubscribing\x20listener\x20'+_0x408601+':',_0x528fbf);}};}catch(_0x3e8931){return console[_0x20b457(0x1c5)](_0x20b457(0x1cb)+_0x408601+':',_0x3e8931),()=>{};}}['executePendingOperations'](_0x3f7c5c='all'){const _0x4d2cad=a19_0x539a88;console[_0x4d2cad(0x1d5)]('Executing\x20pending\x20'+_0x3f7c5c+'\x20operations:\x20'+this[_0x4d2cad(0x1a8)][_0x4d2cad(0x1b9)]+'\x20total\x20operations');const _0x788118=new Map(this['pendingOperations']);this['pendingOperations']['clear'](),_0x788118['forEach']((_0x164a4d,_0x3e80ab)=>{const _0x1f4df0=_0x4d2cad;_0x3f7c5c==='all'||_0x164a4d['operationType']===_0x3f7c5c?(console['log'](_0x1f4df0(0x1a9)+_0x164a4d[_0x1f4df0(0x1b8)]+_0x1f4df0(0x1bc)),this['safeOperation'](_0x164a4d['operation'],_0x164a4d[_0x1f4df0(0x1b8)],..._0x164a4d['args'])['catch'](_0x531de0=>console['error'](_0x1f4df0(0x1d6),_0x531de0))):this['pendingOperations']['set'](_0x3e80ab,_0x164a4d);});}[a19_0x539a88(0x1bd)](_0x5e4be5=!![]){const _0x5f1716=a19_0x539a88;this['debug']=_0x5e4be5,console[_0x5f1716(0x1d5)](_0x5f1716(0x1de)+(_0x5e4be5?_0x5f1716(0x1b2):'disabled'));if(_0x5e4be5){const _0x11eff5=window['RDL_SESSION_SUSPENDED'];window['RDL_SESSION_SUSPENDED']=!![],console[_0x5f1716(0x1d5)]('[FirebaseIdle]\x20Testing\x20suspension\x20-\x20attempting\x20read...'),this[_0x5f1716(0x1b3)](doc(db,_0x5f1716(0x1d0),_0x5f1716(0x1bb)))[_0x5f1716(0x1d1)](_0x4656b2=>{const _0x47ceeb=_0x5f1716;console['log'](_0x47ceeb(0x1cd),_0x4656b2);})[_0x5f1716(0x1ab)](_0x516fbb=>{console['log']('[FirebaseIdle]\x20Error\x20during\x20test\x20(expected):',_0x516fbb);})['finally'](()=>{const _0x50b51d=_0x5f1716;console[_0x50b51d(0x1d5)]('[FirebaseIdle]\x20Suspension\x20test\x20complete'),window['RDL_SESSION_SUSPENDED']=_0x11eff5;});}}}function a19_0x2d76(){const _0x23f0c1=['bind','toString','resumeSession','[FirebaseIdle]\x20Successfully\x20suspended\x20listener:','pendingOperations','Executing\x20delayed\x20','remove','catch','body','_suspendedListeners','cssText','now','get','createElement','enabled','getDocument','[FirebaseIdle]\x20Manually\x20unsubscribing\x20listener:\x20','console','safeOperation','getDocuments','operationType','size','query','test','\x20operation','enableDebug','substr','trace','clear','resumeAllListeners','set','[FirebaseIdle]\x20Blocked\x20','forEach','error','\x20operations\x20during\x20idle\x20state','[FirebaseIdle]\x20Resuming\x20listener:','[FirebaseIdle]\x20Listener\x20removed:\x20','[FirebaseIdle]\x20Error\x20suspending\x20listener:','blockedOperations','[FirebaseIdle]\x20Error\x20creating\x20listener\x20','length','[FirebaseIdle]\x20TEST\x20FAILED\x20-\x20read\x20succeeded\x20during\x20suspension','RDL_SESSION_SUSPENDED','table','system','then','[FirebaseIdle]\x20Suspending\x20all\x20active\x20listeners:','firebase-suspend-indicator','{}.constructor(\x22return\x20this\x22)(\x20)','log','Error\x20executing\x20pending\x20operation:','delete','[FirebaseIdle]\x20Session\x20suspended,\x20not\x20creating\x20listener:\x20','updateDocument','suspendSession','code','[FirebaseIdle]\x20Successfully\x20resumed\x20listener:','suspendAllListeners','[FirebaseIdle]\x20Debug\x20mode\x20','random','[FirebaseIdle]\x20Active\x20listeners:\x20','activeListeners','Firebase:\x20Suspended','debug'];a19_0x2d76=function(){return _0x23f0c1;};return a19_0x2d76();}const firebaseIdle=new FirebaseIdleWrapper();export function enhanceIdleTimeout(){const _0x35fc56=a19_0x539a88,_0x2d700a=window[_0x35fc56(0x1da)]||function(){},_0xdae943=window['resumeSession']||function(){};window[_0x35fc56(0x1da)]=function(){const _0x53bd02=_0x35fc56;_0x2d700a(),firebaseIdle[_0x53bd02(0x1dd)]();},window[_0x35fc56(0x1a6)]=function(){const _0xfa807c=_0x35fc56;_0xdae943(),firebaseIdle[_0xfa807c(0x1c1)]();};}export default firebaseIdle;