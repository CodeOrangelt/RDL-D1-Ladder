const a27aq=a27b;(function(a,b){const P=a27b,c=a();while(!![]){try{const d=-parseInt(P(0x120))/0x1+parseInt(P(0x108))/0x2*(parseInt(P(0xff))/0x3)+-parseInt(P(0xf3))/0x4+parseInt(P(0x158))/0x5*(parseInt(P(0xf4))/0x6)+-parseInt(P(0xf1))/0x7+parseInt(P(0xf6))/0x8*(-parseInt(P(0xf5))/0x9)+parseInt(P(0x13c))/0xa;if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a27a,0x26f46));import{db}from'./firebase-config.js';import{collection,getDocs,deleteDoc,doc,getDoc,query,where,updateDoc,Timestamp,onSnapshot,orderBy,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{getRankStyle}from'./ranks.js';import{displayLadderD2}from'./ladderd2.js';import{displayLadderD3}from'./ladderd3.js';import{getAuth}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';import{getLadderData,getEloHistoryBatch,setupEfficientListener}from'./services/firebaseService.js';import{displayLadderDuos}from'./ladderduos.js';const auth=getAuth();let activeListeners=[];export async function loadLadderData(a=0x1){const Q=a27b;try{document['getElementById']('loading-indicator')['style'][Q(0xe8)]=Q(0x125);const b=await getLadderData(a);b[Q(0x176)]((f,g)=>g['elo']-f['elo']);const c=b['map'](f=>f['id']),d=await getEloHistoryBatch(c,a),e=b[Q(0x145)]((f,g)=>{const R=Q,h=d[f['id']]||[],i=h[R(0x176)]((j,k)=>new Date(k[R(0xe6)])-new Date(j[R(0xe6)]))[R(0x121)](0x0,0x5);return{...f,'rank':g+0x1,'lastMatches':i,'recentActivity':i[R(0x129)]>0x0};});renderLadder(e),setupRealTimeUpdates(a);}catch(f){console['error'](Q(0xf8),f),document[Q(0x165)](Q(0x166))['innerText']='Failed\x20to\x20load\x20ladder\x20data.\x20Please\x20try\x20again.';}finally{document[Q(0x165)]('loading-indicator')['style']['display']='none';}}function setupRealTimeUpdates(a=0x1){const S=a27b;activeListeners['forEach'](f=>f()),activeListeners=[];const b=a===0x1?S(0x15e):S(0xfd)+a,c=a===0x1?'matches':'matchesD'+a,d=new Date();d['setDate'](d['getDate']()-0x1);const e=setupEfficientListener(c,[where(S(0xe6),'>=',d[S(0x110)]()),limit(0xa),orderBy('date','desc')],async f=>{f['length']>0x0&&await loadLadderData(a);});activeListeners['push'](e);}export function cleanupListeners(){activeListeners['forEach'](a=>a()),activeListeners=[];}function renderLadder(a){const T=a27b,b=document[T(0x165)](T(0x142));b['innerHTML']='',a['forEach'](c=>{const U=T,d=document[U(0x147)]('div');d['className']=U(0x101),d['innerHTML']=U(0x163)+c[U(0x116)]+U(0x100)+(c['username']||c['id'])+'</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-elo\x22>'+c['elo']+'</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-activity\x20'+(c['recentActivity']?'active':U(0xf7))+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+(c['recentActivity']?U(0x123):'Inactive')+'\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',b['appendChild'](d);});}const playerCache={'data':null,'timestamp':0x0},CACHE_DURATION=0x7530;async function displayLadder(a=![]){const V=a27b,b=document['querySelector'](V(0x16a));if(!b){console[V(0x150)](V(0x12f));return;}b[V(0x128)]='<tr><td\x20colspan=\x228\x22\x20class=\x22loading-cell\x22>Loading\x20ladder\x20data...</td></tr>';try{const c=Date['now']();if(!a&&playerCache['data']&&c-playerCache[V(0x16f)]<CACHE_DURATION){console['log'](V(0x144)),updateLadderDisplay(playerCache[V(0x124)]);return;}const d=collection(db,V(0x15e)),e=await getDocs(d),f=[];e['forEach'](l=>{const W=V,m=l['data']();f['push']({...m,'id':l['id'],'elo':m[W(0x14f)]||0x0,'position':m[W(0x169)]||Number[W(0x103)]});});const g=collection(db,'userProfiles'),h=await getDocs(g),i=new Map();h['forEach'](l=>{const X=V,m=l[X(0x124)]();m[X(0x178)]&&i[X(0x13d)](m['username'][X(0x12b)](),m);}),f[V(0x106)](l=>{const Y=V,m=l[Y(0x178)]?.[Y(0x12b)]();if(m&&i[Y(0x14c)](m)){const n=i[Y(0x131)](m);n[Y(0x10b)]&&(l['country']=n['country'][Y(0x12b)]());}});const j=f['map'](l=>l[V(0x178)]),k=await fetchBatchMatchStats(j);f[V(0x176)]((l,m)=>{const Z=V,n=k[Z(0x131)](l['username'])?.[Z(0x16e)]||0x0,o=k[Z(0x131)](m[Z(0x178)])?.[Z(0x16e)]||0x0;if(n===0x0!==(o===0x0))return n===0x0?0x1:-0x1;return(l[Z(0x169)]||0x3e7)-(m[Z(0x169)]||0x3e7);}),f['forEach']((l,m)=>{l['position']=m+0x1;}),playerCache[V(0x124)]=f,playerCache[V(0x16f)]=c,updateLadderDisplay(f,k);}catch(l){console['error'](V(0x15f),l),b['innerHTML']=V(0xef)+l['message']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}async function fetchBatchMatchStats(a){const a0=a27b,b=new Map();try{a[a0(0x106)](e=>{const a1=a0;b[a1(0x13d)](e,{'totalMatches':0x0,'wins':0x0,'losses':0x0,'totalKills':0x0,'totalDeaths':0x0,'kda':0x0,'winRate':0x0});});const c=collection(db,'approvedMatches'),d=await getDocs(c);d[a0(0x106)](e=>{const a2=a0,f=e[a2(0x124)](),g=f['winnerUsername'],h=f['loserUsername'];if(a[a2(0xf2)](g)){const i=b['get'](g);i['wins']++,i['totalMatches']++,i['totalKills']+=parseInt(f['winnerScore'])||0x0,i[a2(0x15d)]+=parseInt(f['loserScore'])||0x0;}if(a[a2(0xf2)](h)){const j=b[a2(0x131)](h);j['losses']++,j[a2(0x16e)]++,j[a2(0xea)]+=parseInt(f['loserScore'])||0x0,j['totalDeaths']+=parseInt(f[a2(0x146)])||0x0;}}),a[a0(0x106)](e=>{const a3=a0,f=b['get'](e);f['kda']=f[a3(0x15d)]>0x0?(f[a3(0xea)]/f[a3(0x15d)])[a3(0x122)](0x2):f['totalKills']['toFixed'](0x2),f['winRate']=f['totalMatches']>0x0?(f[a3(0x175)]/f[a3(0x16e)]*0x64)[a3(0x122)](0x1):0x0;});}catch(e){console['error'](a0(0x148),e);}return b;}function createPlayerRow(a,b){const a4=a27b,c=parseFloat(a['elo'])||0x0;let d=a4(0x107);if(c>=0x7d0)d=a4(0x111);else{if(c>=0x708)d='#FFD700';else{if(c>=0x640)d='#b9f1fc';else c>=0x578&&(d='#CD7F32');}}let e='';return a['country']&&(e='<img\x20src=\x22../images/flags/'+a['country']['toLowerCase']()+'.png\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22'+a[a4(0x10b)]+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22player-flag\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22margin-left:\x205px;\x20vertical-align:\x20middle;\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>'),a4(0x134)+a['position']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22profile.html?username='+encodeURIComponent(a[a4(0x178)])+'&ladder=d1\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22color:\x20'+d+';\x20text-decoration:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+a[a4(0x178)]+a4(0x126)+e+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22color:\x20'+d+';\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22elo-container\x22\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22elo-value\x22>'+c+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22trend-indicator\x22\x20style=\x22margin-left:\x205px;\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+b['totalMatches']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+b['wins']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+b['losses']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+b['kda']+a4(0x14a)+b[a4(0x136)]+'%</td>\x0a\x20\x20\x20\x20</tr>';}function getPlayerRankName(a){const a5=a27b;if(a>=0x7d0)return a5(0x10a);if(a>=0x708)return a5(0x12e);if(a>=0x640)return a5(0x119);if(a>=0x578)return a5(0x115);return a5(0x11d);}async function getPlayersLastEloChanges(a){const a6=a27b,b=new Map();a[a6(0x106)](c=>{b['set'](c,0x0);});try{const c=collection(db,a6(0x15e)),d=await getDocs(c),e=new Map(),f=new Map();d['forEach'](l=>{const a7=a6,m=l['data']();m['username']&&(e['set'](l['id'],m[a7(0x178)]),f[a7(0x13d)](m[a7(0x178)]['toLowerCase'](),l['id']));});const g=collection(db,'eloHistory'),h=query(g,orderBy('timestamp','desc'),limit(0x12c)),i=await getDocs(h);if(i[a6(0xe3)])return console['log']('ELO\x20history\x20collection\x20is\x20empty'),b;if(i[a6(0x10d)][a6(0x129)]>0x0){const l=i[a6(0x10d)][0x0]['data']();if(l['player']&&e['has'](l[a6(0x12a)])){}}const j=new Map();let k=0x0;i['forEach'](m=>{const a8=a6,n=m[a8(0x124)]();let o=null;if(n[a8(0x12a)]&&e['has'](n['player']))o=e[a8(0x131)](n[a8(0x12a)]);else{if(n['username']&&f['has'](n['username'][a8(0x12b)]()))o=n['username'];else n[a8(0x15c)]&&f[a8(0x14c)](n[a8(0x15c)][a8(0x12b)]())&&(o=n[a8(0x15c)]);}o&&a['includes'](o)&&(k++,!j['has'](o)&&j[a8(0x13d)](o,[]),j['get'](o)[a8(0x14e)]({...n,'timestamp':n[a8(0x16f)]?.[a8(0x13b)]||0x0}));}),j['forEach']((m,n)=>{const a9=a6;if(m['length']>0x0){m[a9(0x176)]((p,q)=>q[a9(0x16f)]-p['timestamp']);const o=m['find'](p=>p['change']!==undefined||p['newElo']!==undefined&&p[a9(0x118)]!==undefined||p['newEloRating']!==undefined&&p[a9(0x156)]!==undefined);if(o){let p;if(o[a9(0xee)]!==undefined)p=parseInt(o['change']);else{if(o[a9(0x14b)]!==undefined&&entry[a9(0x118)]!==undefined)p=parseInt(o[a9(0x14b)])-parseInt(o[a9(0x118)]);else o[a9(0x10f)]!==undefined&&entry['oldEloRating']!==undefined&&(p=parseInt(o['newEloRating'])-parseInt(o['oldEloRating']));}!isNaN(p)&&p!==0x0&&b['set'](n,p);}}});}catch(m){console[a6(0x150)]('Error\x20fetching\x20ELO\x20history:',m);}return b;}async function updateLadderDisplay(a,b=null){const aa=a27b,c=document['querySelector']('#ladder\x20tbody');if(!c){console[aa(0x150)]('Ladder\x20table\x20body\x20not\x20found');return;}const d=document[aa(0xeb)]('#ladder\x20thead\x20tr');d&&(d[aa(0x128)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Rank</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Username</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>ELO</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Matches</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Wins</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Losses</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>K/D</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Win\x20Rate</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');const e=a[aa(0x145)](g=>g[aa(0x178)]);!b&&(b=await fetchBatchMatchStats(e));const f=a['map'](g=>{const ab=aa,h=b[ab(0x131)](g['username'])||{'totalMatches':0x0,'wins':0x0,'losses':0x0,'kda':0x0,'winRate':0x0,'totalKills':0x0,'totalDeaths':0x0};return createPlayerRow(g,h);})['join']('');c[aa(0x128)]=f,getPlayersLastEloChanges(e)[aa(0x137)](g=>{const ac=aa,h=new Map();c['querySelectorAll']('tr')[ac(0x106)]((i,j)=>{const ad=ac;j<e['length']&&h[ad(0x13d)](e[j],i);}),g[ac(0x106)]((i,j)=>{const ae=ac,k=h[ae(0x131)](j);if(k&&i!==0x0){const l=k[ae(0xeb)](ae(0x151));if(l){const m=i>0x0?'+'+i:''+i,n=l['querySelector'](ae(0x168));if(n)n[ae(0x11e)]=m,n['style']['color']=i>0x0?ae(0x10e):ae(0x105),n['style'][ae(0x16b)]=ae(0xf0),n[ae(0x153)][ae(0x109)]=ae(0x11b),n[ae(0x153)][ae(0xe8)]=ae(0x138),n[ae(0x153)]['visibility']='visible',n['style']['opacity']='1';else{}}}});})['catch'](g=>console[aa(0x150)](aa(0x159),g));}function initLadderToggles(){const af=a27b,a=document[af(0x165)]('d1-switch'),b=document['getElementById']('d2-switch'),c=document['getElementById']('d3-switch'),d=document['getElementById']('duos-switch'),e=document['getElementById']('d1-ladder-container'),f=document[af(0x165)]('d2-ladder-container'),g=document['getElementById'](af(0xec)),h=document[af(0x165)]('duos-ladder-container');function i(){const ag=af;if(e)e[ag(0x170)][ag(0x132)]('active');if(f)f[ag(0x170)][ag(0x132)]('active');if(g)g[ag(0x170)][ag(0x132)]('active');if(h)h['style']['display']='none';if(e)e[ag(0x153)]['display']='none';if(f)f[ag(0x153)][ag(0xe8)]=ag(0x117);if(g)g['style']['display']=ag(0x117);}a&&a['addEventListener'](af(0x160),()=>{const ah=af;console['log'](ah(0x16d)),i();e&&(e['classList'][ah(0xfb)]('active'),e['style']['display']='block');document[ah(0x165)]('elo-recommendation-text-d1')['style'][ah(0xe8)]='block',document[ah(0x165)](ah(0x13a))[ah(0x153)][ah(0xe8)]=ah(0x117),document['getElementById'](ah(0x157))[ah(0x153)][ah(0xe8)]='none';if(a)a[ah(0x170)]['add']('active');if(b)b['classList']['remove']('active');if(c)c[ah(0x170)]['remove']('active');displayLadder(),findBestOpponent('d1');}),b&&b[af(0x127)]('click',()=>{const ai=af;console[ai(0x162)]('D2\x20toggle\x20clicked'),i();f&&(f[ai(0x170)][ai(0xfb)](ai(0x15a)),f['style']['display']=ai(0x125));document[ai(0x165)]('elo-recommendation-text-d1')[ai(0x153)][ai(0xe8)]='none',document['getElementById']('elo-recommendation-text-d2')[ai(0x153)]['display']='block',document[ai(0x165)]('elo-recommendation-text-d3')[ai(0x153)][ai(0xe8)]=ai(0x117);if(b)b[ai(0x170)][ai(0xfb)]('active');if(a)a['classList']['remove'](ai(0x15a));if(c)c['classList'][ai(0x132)](ai(0x15a));displayLadderD2(),findBestOpponent('d2');}),c&&c['addEventListener'](af(0x160),()=>{const aj=af;console[aj(0x162)]('D3\x20toggle\x20clicked'),i();g&&(g['classList']['add']('active'),g[aj(0x153)][aj(0xe8)]=aj(0x125));document[aj(0x165)]('elo-recommendation-text-d1')['style']['display']=aj(0x117),document[aj(0x165)](aj(0x13a))['style']['display']='none',document['getElementById']('elo-recommendation-text-d3')[aj(0x153)][aj(0xe8)]=aj(0x125);if(c)c[aj(0x170)][aj(0xfb)]('active');if(a)a['classList']['remove']('active');if(b)b['classList'][aj(0x132)]('active');displayLadderD3(),findBestOpponent('d3');}),d&&d[af(0x127)](af(0x160),()=>{const ak=af;i();if(h)h[ak(0x153)]['display']=ak(0x125);displayLadderDuos(),findBestOpponent('duos'),document['getElementById'](ak(0x135))&&(document['getElementById']('elo-recommendation-text-duos')['style'][ak(0xe8)]='block'),document['getElementById']('elo-recommendation-text-d1')['style'][ak(0xe8)]=ak(0x117),document['getElementById'](ak(0x13a))['style']['display']='none',document['getElementById'](ak(0x157))['style'][ak(0xe8)]='none';});}document['addEventListener']('DOMContentLoaded',()=>{const al=a27b;initLadderToggles(),displayLadder(),findBestOpponent('d1'),document['getElementById']('elo-recommendation-text-d1')[al(0x153)]['display']=al(0x125);});export{displayLadder};async function findBestOpponent(a='d1'){const am=a27b,b='elo-recommendation-text-'+a,c=document[am(0x165)](b);if(!c){console[am(0x150)]('Recommendation\x20element\x20for\x20'+a+'\x20not\x20found');return;}const d=auth[am(0xfc)];if(!d){c['textContent']='';return;}try{const e=doc(db,am(0x12c),d['uid']),f=await getDoc(e);if(!f['exists']()){console['log']('No\x20user\x20profile\x20found'),c['textContent']='Complete\x20your\x20profile\x20to\x20see\x20recommended\x20opponents';return;}const g=f[am(0x124)](),h=g['username'];if(!h){c[am(0x11e)]='Set\x20your\x20username\x20to\x20see\x20recommended\x20opponents';return;}let i;switch(a){case'd1':i='players';break;case'd2':i='playersD2';break;case'd3':i=am(0x172);break;case'duos':i='playersDuos';break;default:i='players';}if(a==='duos'){const s=collection(db,i),t=query(s,where('username','==',h)),u=await getDocs(t);if(u[am(0xe3)]){c['textContent']=am(0x11f);return;}const v=u['docs'][0x0][am(0x124)](),w=parseInt(v[am(0x14f)])||0x4b0;if(v[am(0x102)]&&v[am(0x11c)]){c[am(0x128)]=am(0x174)+v[am(0x11c)]+'</span>.\x20Challenge\x20other\x20teams!';return;}const x=await getDocs(s);let y=null,z=-0x1;x['forEach'](A=>{const an=am,B=A[an(0x124)]();if(B['username']===h)return;if(B['hasTeam'])return;const C=parseInt(B['eloRating'])||0x4b0,D=Math[an(0x154)](C-w),E=Math['max'](0x0,0xc8-D);E>z&&(y=B,z=E);});if(y){const A=parseInt(y[am(0x14f)])||0x4b0;let B=am(0x107);if(A>=0x7d0)B=am(0x111);else{if(A>=0x708)B=am(0x141);else{if(A>=0x640)B=am(0xed);else A>=0x578&&(B=am(0xe7));}}c[am(0x128)]='Looking\x20for\x20a\x20teammate?\x20Consider\x20<span\x20class=\x22recommendation-highlight\x22\x20style=\x22color:\x20'+B+am(0x173)+y[am(0x178)]+'</span>\x20(ELO:\x20'+A+')';}else c[am(0x11e)]=am(0xe5);return;}const j=collection(db,i),k=query(j,where(am(0x178),'==',h)),l=await getDocs(k);if(l[am(0xe3)]){c[am(0x11e)]='You\x27re\x20not\x20registered\x20on\x20the\x20'+a[am(0x143)]()+'\x20ladder';return;}const m=l[am(0x10d)][0x0]['data'](),n=parseInt(m['eloRating'])||0x5dc,o=await getDocs(j);let p=null,q=-0x1;const r=getPlayerRankName(n);o[am(0x106)](C=>{const ao=am,D=C[ao(0x124)]();if(D[ao(0x178)]===h)return;const E=parseInt(D['eloRating'])||0x5dc,F=getPlayerRankName(E),G=Math['abs'](E-n),H=0x20,I=0x1/(0x1+Math['pow'](0xa,(E-n)/0x190)),J=Math['round'](H*(0x1-I));if(J<=0x0)return;let L=0x0;const M=Math['max'](0x0,0x64-G*0.5),N=J>=0x3&&J<=0x8?0x32:J>0x0&&J<0xf?0x1e:0xa,O=r===F?0x28:0x0;L=M+N+O,L>q&&(p=D,q=L);});if(p){const C=parseInt(p['eloRating'])||0x5dc;let D=am(0x107);if(C>=0x7d0)D='#50C878';else{if(C>=0x708)D='#FFD700';else{if(C>=0x640)D='#b9f1fc';else C>=0x578&&(D=am(0xe7));}}c[am(0x128)]=am(0x177)+n+am(0x152)+D+';\x22>'+p['username']+am(0x140);}else c[am(0x128)]='No\x20ideal\x20opponent\x20found\x20for\x20your\x20current\x20ELO\x20('+n+')';}catch(E){console[am(0x150)](am(0xe4),E),c['textContent']='Error\x20finding\x20recommended\x20opponent';}}auth['onAuthStateChanged'](a=>{const ap=a27b,b=document[ap(0x165)]('d1-ladder-container')&&document['getElementById']('d1-ladder-container')[ap(0x153)][ap(0xe8)]!=='none',c=document['getElementById']('d2-ladder-container')&&document[ap(0x165)](ap(0x167))['style']['display']!=='none',d=document['getElementById']('d3-ladder-container')&&document['getElementById']('d3-ladder-container')['style'][ap(0xe8)]!==ap(0x117),e=document['getElementById']('duos-ladder-container')&&document['getElementById']('duos-ladder-container')['style']['display']!=='none',f=b?'d1':c?'d2':d?'d3':e?ap(0x114):'d1';findBestOpponent(f);}),document['addEventListener'](a27aq(0x15b),()=>{const ar=a27aq,a=document[ar(0x165)](ar(0xf9)),b=document[ar(0xeb)](ar(0x155));a&&b&&(a[ar(0x127)](ar(0xee),async c=>{const as=ar;if(c['target']['checked']){const d=auth?.['currentUser'],f=await checkIfUserIsAdmin(d);if(!f){c[as(0x10c)]();const g=document['getElementById'](as(0x112));return g&&(g['checked']=!![],g[as(0x149)](new Event(as(0xee)))),showAdminOnlyMessage(),![];}}}),auth[ar(0x161)](async c=>{const at=ar,d=await checkIfUserIsAdmin(c);!d?(a[at(0x104)]=!![],b[at(0x153)][at(0x14d)]='0.5',b['style']['cursor']=at(0xfa),b['title']=at(0x16c)):(a['disabled']=![],b[at(0x153)]['opacity']='1',b['style']['cursor']='pointer',b['title']='');}));});function a27b(a,b){const c=a27a();return a27b=function(d,e){d=d-0xe3;let f=c[d];if(a27b['nXxuvR']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a27b['VKHcRN']=g,a=arguments,a27b['nXxuvR']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a27b['VKHcRN'](f),a[i]=f):f=j,f;},a27b(a,b);}async function checkIfUserIsAdmin(a){const au=a27aq;if(!a)return![];try{const b=[au(0x13e),au(0x11a)];if(a[au(0x130)]&&b['includes'](a['email']['toLowerCase']()))return!![];const c=['userProfiles','players',au(0x113),au(0x172)],d=['admin','owner',au(0x171),au(0xfe)];for(const e of c){try{const f=doc(db,e,a[au(0xe9)]),g=await getDoc(f);if(g['exists']()){const h=g['data'](),i=(h[au(0x12d)]||h['role']||'')['toLowerCase']();if(i&&d['includes'](i))return!![];}}catch(j){console[au(0x139)]('Error\x20checking\x20'+e+':',j);}}return![];}catch(k){return console[au(0x150)]('Error\x20checking\x20admin\x20status:',k),![];}}function a27a(){const aw=['C29YDa','qMfZzwqGB24GEw91CIbfte8Gka','DxnLCM5HBwu','zw1WDhK','rxjYB3iGzMLUzgLUzYbIzxn0ig9WCg9Uzw50oG','tM8GyxzHAwXHyMXLihrLyw1TyxrLCYbMB3vUzc4Gtw9YzsbWBgf5zxjZig5LzwrLzcbVBIbevu9tigXHzgrLCIe','zgf0zq','i0nen0yZmG','zgLZCgXHEq','DwLK','Dg90ywXlAwXSCW','CxvLCNLtzwXLy3rVCG','zdmTBgfKzgvYlwnVBNrHAw5LCG','i0mWqZbdma','y2HHBMDL','cIaGicaGicaGicaGidX0CJ4kicaGicaGicaGicaGicaGidX0zcbJB2XZCgfUpsi4iIbZDhLSzt0IDgv4Dc1HBgLNBJOGy2vUDgvYoYbJB2XVCJOGCMvKoYi+cIaGicaGicaGicaGicaGicaGicaGrxjYB3iGBg9HzgLUzYbSywrKzxiGzgf0ytOG','yM9Sza','mtyYndyYm09IyvPlsW','Aw5JBhvKzxm','nJu4ndG0BhjbtMTV','mZyZmdzJD0fnD2W','ovb3wunUzq','mZaWmJq4ywLJv3Pd','Aw5Hy3rPDMu','rxjYB3iGBg9HzgLUzYbSywrKzxiGzgf0ytO','zhvVCY1ZD2L0y2G','BM90lwfSBg93zwq','ywrK','y3vYCMvUDfvZzxi','CgXHEwvYC0q','y3jLyxrPDMuGBgvHza','mtm3mxDtyuXlra','pc9KAxy+cIaGicaGidXKAxyGy2XHC3m9iNbSyxLLCI1Uyw1LiJ4','BgfKzgvYlxbSyxLLCG','AgfZvgvHBq','tufyx1nbrKvFsu5uruDfuG','zgLZywjSzwq','i0y0ndmZnG','zM9YrwfJAa','z3jHEq','nJKWuLrdEefd','zM9UDfnPEMu','rw1LCMfSza','y291BNrYEq','ChjLDMvUDerLzMf1Bhq','zg9JCW','iZrdquy1ma','BMv3rwXVuMf0Aw5N','Dg9ju09tDhjPBMC','iZuWqZG3oa','zdeTC3DPDgnO','CgXHEwvYC0qY','zhvVCW','qNjVBNPL','CMfUAW','BM9Uzq','ChjLDMLVDxnfBg8','u2LSDMvY','yNjPyw4YywzaB3v0Bg9VAY5JB20','mc44nwvT','DgvHBw1HDgu','vw5Yyw5Rzwq','Dgv4DenVBNrLBNq','ww91j3jLig5VDcbYzwDPC3rLCMvKig9UihrOzsbevu9tigXHzgrLCG','mtm1odC0BhblBLj2','C2XPy2u','Dg9gAxHLza','qwn0AxzL','zgf0yq','yMXVy2S','cIaGicaGicaGicaGicaGica8l2e+cIaGicaGicaGicaGicaGica','ywrKrxzLBNrmAxn0zw5LCG','Aw5Uzxjive1m','BgvUz3rO','CgXHEwvY','Dg9mB3DLCKnHC2u','DxnLCLbYB2zPBgvZ','CM9Szu5HBwu','r29Sza','tgfKzgvYihrHyMXLigjVzhKGBM90igzVDw5K','zw1HAwW','z2v0','CMvTB3zL','y3nZvgv4Da','cIaGica8Dhi+cIaGicaGicaGphrKpG','zwXVlxjLy29TBwvUzgf0Aw9UlxrLEhqTzhvVCW','D2LUuMf0zq','DgHLBG','Aw5SAw5L','D2fYBG','zwXVlxjLy29TBwvUzgf0Aw9UlxrLEhqTzdi','C2vJB25KCW','ntm1nZaYmgLnsxHnza','C2v0','ywrTAw5aBgfKzgvYlMnVBq','cIaGicaGicaGphn0CM9UzZ7WN5ssier1B3mGtgfKzgvYic0GqwrTAw4Gt25SEtWVC3rYB25NpJXICJ4kicaGicaGica8C3bHBIbZDhLSzt0Iy29SB3i6icnJy2m7iJ5dDxjYzw50BhKGAw4GDgvZDgLUzYbWAgfZztWVC3bHBJ4kicaGia','pc9ZCgfUpG','i0zgrdCWma','BgfKzgvYlwnVBNrHAw5LCG','Dg9vChbLCKnHC2u','vxnPBMCGy2fJAgvKieqXigXHzgrLCIbKyxrH','BwfW','D2LUBMvYu2nVCMu','y3jLyxrLrwXLBwvUDa','rxjYB3iGzMv0y2HPBMCGyMf0y2GGBwf0y2GGC3rHDhm6','zgLZCgf0y2HfDMvUDa','pc90zd4kicaGicaGica8Dgq+','BMv3rwXV','AgfZ','B3bHy2L0Eq','ChvZAa','zwXVuMf0Aw5N','zxjYB3i','Dgq6BNrOlwnOAwXKkdmP','ksWGEw91ihnOB3vSzcbIzsbWBgf5Aw5NidXZCgfUignSyxnZpsjYzwnVBw1LBMrHDgLVBI1OAwDOBgLNAhqIihn0EwXLpsjJB2XVCJOG','C3r5Bgu','ywjZ','BgfIzwXBzM9YpsjKDw9Zlxn3AxrJAcjD','B2XKrwXVuMf0Aw5N','zwXVlxjLy29TBwvUzgf0Aw9UlxrLEhqTzdm','mZbqqxvwwK4','rxjYB3iGDxbKyxrPBMCGruXpihrYzw5KigLUzgLJyxrVCNm6','ywn0AxzL','re9nq29UDgvUDeXVywrLza','CgXHEwvYvxnLCM5HBwu','Dg90ywXezwf0Ahm','CgXHEwvYCW','rxjYB3iGBg9HzgLUzYbSywrKzxi6','y2XPy2S','B25bDxrOu3rHDgvdAgfUz2vK','Bg9N','cIaGicaGidXKAxyGy2XHC3m9iNjHBMSIpIm','yM9KEq','z2v0rwXLBwvUDej5swq','zxjYB3iTBwvZC2fNzq','zdiTBgfKzgvYlwnVBNrHAw5LCG','lNrYzw5KlwLUzgLJyxrVCG','Cg9ZAxrPB24','i2XHzgrLCIb0yM9KEq','zM9UDfDLAwDODa','rhvVCYbSywrKzxiGAxmGy3vYCMvUDgX5igfKBwLUlw9UBhK','rdeGDg9Nz2XLignSAwnRzwq','Dg90ywXnyxrJAgvZ','DgLTzxn0yw1W','y2XHC3nmAxn0','y291BMnPBa','CgXHEwvYC0qZ','oYi+','ww91j3jLihrLyw1Lzcb3AxrOidXZCgfUignSyxnZpsjYzwnVBw1LBMrHDgLVBI1OAwDOBgLNAhqIpG','D2LUCW'];a27a=function(){return aw;};return a27a();}function showAdminOnlyMessage(){const av=a27aq,a=document['getElementById']('admin-only-message');a&&a['remove']();const b=document['createElement']('div');b['id']='admin-only-message',b[av(0x153)][av(0x133)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translate(-50%,\x20-50%);\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#2a2a2a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x202px\x20solid\x20#ff6b6b;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ff6b6b;\x0a\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.5);\x0a\x20\x20\x20\x20',b[av(0x128)]=av(0x13f),document[av(0x164)]['appendChild'](b),setTimeout(()=>{b['parentNode']&&b['remove']();},0xbb8);}