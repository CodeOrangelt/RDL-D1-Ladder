const a6_0x3fe2ca=a6_0x2341,a6_0x2ee34d=(function(){let _0x56d0f3=!![];return function(_0x4f7813,_0xcb0420){const _0x2e0202=_0x56d0f3?function(){const _0x4ade4c=a6_0x2341;if(_0xcb0420){const _0x7ca2c6=_0xcb0420[_0x4ade4c(0x162)](_0x4f7813,arguments);return _0xcb0420=null,_0x7ca2c6;}}:function(){};return _0x56d0f3=![],_0x2e0202;};}()),a6_0x628e20=a6_0x2ee34d(this,function(){const _0x241b00=a6_0x2341,_0x83e468=function(){const _0x1c8c42=a6_0x2341;let _0x249bc4;try{_0x249bc4=Function('return\x20(function()\x20'+_0x1c8c42(0x197)+');')();}catch(_0x47cd9d){_0x249bc4=window;}return _0x249bc4;},_0x3c2bd8=_0x83e468(),_0x294659=_0x3c2bd8[_0x241b00(0x190)]=_0x3c2bd8['console']||{},_0x4b06b0=[_0x241b00(0x1d3),'warn','info','error','exception','table','trace'];for(let _0x468d65=0x0;_0x468d65<_0x4b06b0['length'];_0x468d65++){const _0x443413=a6_0x2ee34d['constructor'][_0x241b00(0x181)]['bind'](a6_0x2ee34d),_0x14acc5=_0x4b06b0[_0x468d65],_0x5c7a24=_0x294659[_0x14acc5]||_0x443413;_0x443413['__proto__']=a6_0x2ee34d['bind'](a6_0x2ee34d),_0x443413[_0x241b00(0x19b)]=_0x5c7a24[_0x241b00(0x19b)]['bind'](_0x5c7a24),_0x294659[_0x14acc5]=_0x443413;}});a6_0x628e20();import{collection,getDocs,addDoc,query,orderBy,limit,startAfter,Timestamp,serverTimestamp,getDoc,doc,where,deleteDoc}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const mutedUsers=[{'username':'Daz','muteFromDate':new Date(a6_0x3fe2ca(0x1a4))['getTime']()}];function isUsernameMuted(_0x5195fd,_0x34f0c8){const _0x4f06cb=a6_0x3fe2ca;if(!_0x5195fd)return![];const _0x4dcb51=mutedUsers['find'](_0x3c6422=>_0x3c6422['username']===_0x5195fd);if(!_0x4dcb51)return![];if(!_0x34f0c8)return!![];const _0x51b9c7=_0x34f0c8 instanceof Date?_0x34f0c8['getTime']():_0x34f0c8[_0x4f06cb(0x184)]?_0x34f0c8[_0x4f06cb(0x184)]*0x3e8:Date['now']();return _0x51b9c7>=_0x4dcb51[_0x4f06cb(0x1d0)];}function a6_0x2341(_0xab272d,_0x27dd83){const _0x628e20=a6_0x4a3d();return a6_0x2341=function(_0x2ee34d,_0x3ab7c6){_0x2ee34d=_0x2ee34d-0x14c;let _0x4a3d9a=_0x628e20[_0x2ee34d];return _0x4a3d9a;},a6_0x2341(_0xab272d,_0x27dd83);}function filterComment(_0x52d08c,_0x27b613,_0x2eee3c){if(!_0x52d08c)return'-';if(isUsernameMuted(_0x27b613,_0x2eee3c))return'Muted.';return _0x52d08c;}const previewState={'currentMode':'D1','currentPage':0x1,'matchesPerPage':0x5,'lastVisible':null,'firstVisible':null,'isLoading':![],'filterUsername':'','enhancedFilters':{'pilots':'','levels':'','subgames':[]},'totalPages':0x1,'hasReachedEnd':![]};function getCacheKey(_0x215d1e,_0x2b25f2,_0x13bae6){const _0x3011ec=a6_0x3fe2ca,_0x39bf50='u:'+(_0x13bae6[_0x3011ec(0x1b8)]||'');return'previewCache_'+_0x215d1e+'_p'+_0x2b25f2+'_'+_0x39bf50;}function getCachedPage(_0x1a37bf){const _0x40f1ef=a6_0x3fe2ca,_0xd26c1f=sessionStorage['getItem'](_0x1a37bf);if(_0xd26c1f)try{return JSON[_0x40f1ef(0x19d)](_0xd26c1f);}catch(_0x44da70){return console[_0x40f1ef(0x1b9)]('Failed\x20to\x20parse\x20cache:',_0x44da70),sessionStorage['removeItem'](_0x1a37bf),null;}return null;}function cachePage(_0x275b68,_0x15a2c5){const _0x293232=a6_0x3fe2ca;try{sessionStorage[_0x293232(0x157)](_0x275b68,JSON['stringify'](_0x15a2c5));}catch(_0x41dc4e){console['error']('Failed\x20to\x20cache\x20data:',_0x41dc4e);}}function getEloColor(_0x12f17f){const _0x15b7b7=Number(_0x12f17f);if(_0x15b7b7>=0x7d0)return'#50C878';else{if(_0x15b7b7>=0x708)return'#FFD700';else{if(_0x15b7b7>=0x640)return'#b9f1fc';else{if(_0x15b7b7>=0x578)return'#CD7F32';else return'#808080';}}}}function formatDate(_0x250979,_0x497f7f=![]){const _0x3aff00=a6_0x3fe2ca;if(!_0x250979||!_0x250979['seconds'])return _0x3aff00(0x1aa);const _0x1c37c5=new Date(_0x250979['seconds']*0x3e8);return _0x497f7f?_0x1c37c5['toLocaleString']():_0x1c37c5['toLocaleDateString']();}function truncateComment(_0x417c80,_0x2d7ea3=0x1e){const _0x5950c7=a6_0x3fe2ca;if(!_0x417c80)return'-';if(_0x417c80[_0x5950c7(0x1d8)]<=_0x2d7ea3)return _0x417c80;return _0x417c80['substring'](0x0,_0x2d7ea3)+_0x5950c7(0x192);}function formatCommentDate(_0x4b06b4){const _0x2d0b6d=a6_0x3fe2ca;if(!_0x4b06b4||!_0x4b06b4['seconds'])return'';const _0x5f2cb2=new Date(_0x4b06b4[_0x2d0b6d(0x184)]*0x3e8),_0x30418c=new Date(),_0x404ce=Math['abs'](_0x30418c-_0x5f2cb2),_0x6f4290=Math['floor'](_0x404ce/(0x3e8*0x3c*0x3c*0x18));if(_0x6f4290===0x0)return _0x2d0b6d(0x16f);else{if(_0x6f4290===0x1)return'Yesterday';else return _0x6f4290<0x7?_0x6f4290+_0x2d0b6d(0x152):_0x5f2cb2['toLocaleDateString']();}}function setLoadingIndicator(_0x4f3f92){const _0x2dabd9=a6_0x3fe2ca,_0x352551=document['getElementById']('loading-indicator');if(_0x352551)_0x352551[_0x2dabd9(0x19f)]['display']=_0x4f3f92?_0x2dabd9(0x1c9):'none';}export function updatePreviewLadderModeUI(){const _0xf2af9a=a6_0x3fe2ca,_0x74b880=document['getElementById'](_0xf2af9a(0x14d)),_0x1faac4=document['getElementById'](_0xf2af9a(0x164)),_0x503ee7=document['getElementById']('preview-d2-button'),_0x2fe5ec=document[_0xf2af9a(0x159)](_0xf2af9a(0x195));if(_0x74b880)_0x74b880['textContent']=previewState['currentMode'];if(_0x1faac4)_0x1faac4[_0xf2af9a(0x198)]['toggle']('active',previewState['currentMode']==='D1');if(_0x503ee7)_0x503ee7['classList'][_0xf2af9a(0x1c1)]('active',previewState['currentMode']==='D2');if(_0x2fe5ec)_0x2fe5ec['classList']['toggle']('active',previewState[_0xf2af9a(0x1fd)]==='D3');}function updatePreviewPaginationControls(_0x47bc4b){const _0x56e457=a6_0x3fe2ca,_0x2b90da=document[_0x56e457(0x159)]('previewPrevPage'),_0x9e96c7=document['getElementById']('previewNextPage'),_0x158661=document[_0x56e457(0x159)]('previewPageInfo');if(!_0x2b90da||!_0x9e96c7||!_0x158661)return;_0x158661['textContent']=_0x56e457(0x1ca)+previewState['currentPage'],_0x2b90da['disabled']=previewState['currentPage']<=0x1,_0x9e96c7['disabled']=!_0x47bc4b;}function setPreviewLoadingState(_0x56a0d2){const _0x3feeb1=a6_0x3fe2ca;previewState['isLoading']=_0x56a0d2,setLoadingIndicator(_0x56a0d2);const _0x75c322=document[_0x3feeb1(0x159)]('recent-matches-preview'),_0x33a39f=_0x75c322?_0x75c322[_0x3feeb1(0x1e8)]('.matches-loading'):null,_0x567a02=document[_0x3feeb1(0x159)]('previewPrevPage'),_0x45d2d4=document[_0x3feeb1(0x159)](_0x3feeb1(0x183)),_0x573eba=document[_0x3feeb1(0x159)]('preview-d1-button'),_0x2f7596=document['getElementById'](_0x3feeb1(0x1b1)),_0x4922ed=document['getElementById'](_0x3feeb1(0x1f7)),_0x1befd4=document[_0x3feeb1(0x159)]('clearFilterBtn');if(_0x33a39f&&!_0x56a0d2)_0x33a39f['style']['display']=_0x3feeb1(0x188);else _0x33a39f&&_0x56a0d2&&(_0x33a39f['style']['display']='block');!_0x56a0d2&&_0x75c322&&!_0x75c322[_0x3feeb1(0x1e8)](_0x3feeb1(0x1d5))&&!_0x75c322['querySelector'](_0x3feeb1(0x17e))&&(_0x75c322['innerHTML']='<div\x20class=\x22matches-loading\x22>No\x20recent\x20matches\x20found'+(previewState['filterUsername']?'\x20matching\x20filters':'')+'.</div>');if(_0x567a02)_0x567a02['disabled']=_0x56a0d2||previewState['currentPage']<=0x1;if(_0x45d2d4)_0x45d2d4[_0x3feeb1(0x15b)]=_0x56a0d2;if(_0x573eba)_0x573eba['disabled']=_0x56a0d2;if(_0x2f7596)_0x2f7596[_0x3feeb1(0x15b)]=_0x56a0d2;if(_0x4922ed)_0x4922ed[_0x3feeb1(0x15b)]=_0x56a0d2;if(_0x1befd4)_0x1befd4[_0x3feeb1(0x15b)]=_0x56a0d2;}function applyClientFilters(_0x58280b){const _0xb69738=a6_0x3fe2ca;if(!previewState['filterUsername'])return _0x58280b;const _0x213bdf=previewState[_0xb69738(0x1b8)]['toLowerCase']();return _0x58280b['filter'](_0x206364=>{const _0x221e63=_0xb69738,_0x5a2a5f=(_0x206364[_0x221e63(0x1b6)]||'')[_0x221e63(0x1ed)](),_0x64f7bd=(_0x206364['loserUsername']||'')['toLowerCase']();return _0x5a2a5f['includes'](_0x213bdf)||_0x64f7bd[_0x221e63(0x1da)](_0x213bdf);});}function applyEnhancedClientFilters(_0x1767f6){const _0x314c3d=a6_0x3fe2ca;if(!hasEnhancedFilters())return _0x1767f6;return _0x1767f6[_0x314c3d(0x175)](_0x59dea6=>{const _0x5cf8bd=_0x314c3d;if(previewState['enhancedFilters'][_0x5cf8bd(0x1e6)]){const _0x1752ab=previewState['enhancedFilters']['pilots']['toLowerCase'](),_0x9039b8=(_0x59dea6['winnerUsername']||'')[_0x5cf8bd(0x1ed)](),_0x1301a9=(_0x59dea6[_0x5cf8bd(0x1f0)]||'')[_0x5cf8bd(0x1ed)]();if(!_0x9039b8['includes'](_0x1752ab)&&!_0x1301a9[_0x5cf8bd(0x1da)](_0x1752ab))return![];}if(previewState['enhancedFilters']['levels']){const _0x188a7e=previewState['enhancedFilters'][_0x5cf8bd(0x1b7)]['toLowerCase'](),_0x3a1263=(_0x59dea6['mapPlayed']||'')['toLowerCase']();if(!_0x3a1263['includes'](_0x188a7e))return![];}if(previewState['enhancedFilters']['subgames']['length']>0x0){const _0x5212f4=_0x59dea6['subgameType']||'Standard\x20Match';if(!previewState[_0x5cf8bd(0x1ea)]['subgames']['includes'](_0x5212f4))return![];}return!![];});}function hasEnhancedFilters(){const _0x440390=a6_0x3fe2ca;return previewState['enhancedFilters']['pilots']||previewState[_0x440390(0x1ea)]['levels']||previewState['enhancedFilters']['subgames']['length']>0x0;}function clearEnhancedFilters(){const _0xe41ee6=a6_0x3fe2ca;previewState[_0xe41ee6(0x1ea)]={'pilots':'','levels':'','subgames':[]},document[_0xe41ee6(0x159)](_0xe41ee6(0x1b4))['value']='',document['getElementById']('filter-levels')['value']='';const _0x4ba4f8=document['getElementById']('filter-subgames');for(let _0x46d685 of _0x4ba4f8['options']){_0x46d685['selected']=![];}}function jumpToPage(_0x5bb0f3){const _0x268180=a6_0x3fe2ca,_0x203251=document['getElementById']('jump-to-page'),_0x4704ba=previewState['currentPage'];let _0x2b7341=_0x4704ba;switch(_0x5bb0f3){case'start':_0x2b7341=0x1;break;case'end':_0x2b7341=Math[_0x268180(0x19c)](_0x4704ba+0xa,previewState['totalPages']||_0x4704ba+0xa);break;case'+1':_0x2b7341=_0x4704ba+0x1;break;case'+5':_0x2b7341=_0x4704ba+0x5;break;case'+10':_0x2b7341=_0x4704ba+0xa;break;case'-1':_0x2b7341=Math[_0x268180(0x19c)](0x1,_0x4704ba-0x1);break;case'-5':_0x2b7341=Math['max'](0x1,_0x4704ba-0x5);break;case'-10':_0x2b7341=Math['max'](0x1,_0x4704ba-0xa);break;case'input':const _0x38b021=parseInt(_0x203251['value']);_0x38b021&&_0x38b021>0x0&&(_0x2b7341=_0x38b021,_0x203251['value']='');break;}_0x2b7341!==_0x4704ba&&_0x2b7341>0x0&&(previewState[_0x268180(0x17c)]=_0x2b7341,loadRecentMatchesPreview(_0x268180(0x1f5)));}function a6_0x4a3d(){const _0x542ee9=['all','preview-ladder-mode','commentText','currentUser','</small>','<div\x20class=\x22matches-loading\x22\x20style=\x22color:\x20red;\x22>Error\x20loading\x20matches:\x20','\x20days\x20ago','textContent','demoDescription','<div\x20class=\x22matches-loading\x22>No\x20matches\x20found\x20matching\x20filter:\x20\x22','data','setItem','.match-subgame','getElementById','commentAddOverlay','disabled','Comments\x20are\x20limited\x20to\x2015\x20words\x20maximum.\x20Please\x20shorten\x20your\x20comment.','querySelectorAll','dataset','addCommentForm','Please\x20enter\x20a\x20valid\x20URL\x20for\x20the\x20demo\x20link','badComments','apply','next','preview-d1-button','Submitting\x20comment\x20as:','split','isLoading','demoLink','addEventListener','gold','You\x20need\x20to\x20be\x20signed\x20in\x20to\x20leave\x20a\x20comment\x20or\x20add\x20a\x20demo','#aaa','firstChild','Comment\x20not\x20found.\x20It\x20may\x20have\x20already\x20been\x20deleted.','Today','preventDefault','.comments-container','subgameType','prev','forEach','filter','<div\x20class=\x22matches-loading\x22>Loading\x20recent\x20matches...</div>','popup-btn\x20close-btn','delete-comment-btn','</p><small\x20style=\x22color:#aaa;\x20display:block;\x20text-align:right;\x20margin-top:10px;\x22>Posted\x20on\x20','.match-map','demo','currentPage','enhanced-filter-section','.matches-loading[style*=\x22color:\x20red\x22]','Anonymous','.community-comments-section','prototype','className','previewNextPage','seconds','winner-','div','demoWordCount','none','flex','current','Unknown','closeAddCommentPopup','wordCount','Cached\x20intermediary\x20page\x20','.player.loser\x20.player-score','console','previewPrevPage','...','Failed\x20to\x20delete\x20comment:\x20','commentUser','preview-d3-button','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-tabs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22option-tab\x20active\x22\x20data-option=\x22comment\x22>Add\x20Comment</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22option-divider\x22>OR</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22option-tab\x22\x20data-option=\x22demo\x22>Share\x20Demo\x20Link</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-content\x22\x20id=\x22commentOption\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22commentText\x22>Your\x20comment\x20(15\x20words\x20max):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22commentText\x22\x20name=\x22commentText\x22\x20rows=\x223\x22\x20placeholder=\x22Share\x20your\x20thoughts...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22word-counter\x22><span\x20id=\x22wordCount\x22>0</span>/15\x20words</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-content\x22\x20id=\x22demoOption\x22\x20style=\x22display:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22demoLink\x22>Demo\x20Link:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22url\x22\x20id=\x22demoLink\x22\x20name=\x22demoLink\x22\x20placeholder=\x22https://...\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22demoDescription\x22>Description\x20(20\x20words\x20max):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22demoDescription\x22\x20name=\x22demoDescription\x22\x20rows=\x222\x22\x20placeholder=\x22Describe\x20your\x20demo...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22word-counter\x22><span\x20id=\x22demoWordCount\x22>0</span>/20\x20words</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22submit\x22\x20class=\x22submit-comment-btn\x22>Submit</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</form>\x0a\x20\x20\x20\x20','{}.constructor(\x22return\x20this\x22)(\x20)','classList','.add-comment-btn','lastVisible','toString','max','parse','match-card-template','style','loserDemoLink','href','Firebase\x20not\x20initialized','Preview\x20UI\x20or\x20Filter\x20elements\x20not\x20found,\x20cannot\x20attach\x20listeners.','2025-07-02','timestamp','removeChild','0.6','trim','.player.winner\x20.player-score','N/A','Please\x20enter\x20a\x20demo\x20link','appendChild','desc','Comment\x20from\x20','\x20matching\x20filters','.option-tab','preview-d2-button','commentOverlayPreview','auth','filter-pilots','filter-subgames','winnerUsername','levels','filterUsername','error','No\x20valid\x20cursor,\x20fetching\x20from\x20beginning\x20and\x20skipping\x20pages','.delete-comment-btn','\x20matches:','uid','value','createElement','click','toggle','unranked','Submitting...','matchesPerPage','No\x20results\x20found\x20for\x20this\x20page','loserOldElo','Muted.','message','block','Page\x20','displayName','cursor','reportCommentButton','removeItem','innerHTML','muteFromDate','opacity','.player.winner\x20.player-suicides','log','.option-tab.active','.match-card','firstVisible','matchComments','length','S:\x20','includes','Delete\x20demo','setAttribute','missiles-6plus','.player.loser\x20.player-name','Close','display','marginTop','commentAddPopup','rematch','default','username','pilots','submit','querySelector','title','enhancedFilters','commentPopupPreview','winnerOldElo','toLowerCase','map','approvedMatches','loserUsername','body','.no-comments-message','.comment-item','Please\x20enter\x20a\x20comment\x20before\x20submitting','jump','onclick','applyFilterBtn','removeAttribute','createdAt','.popup-actions','dogfight',',\x20fetching\x20from\x20Firestore','currentMode','key'];a6_0x4a3d=function(){return _0x542ee9;};return a6_0x4a3d();}export async function loadRecentMatchesPreview(_0x258972='current'){const _0x31e19b=a6_0x3fe2ca,_0x59b41a=document['getElementById']('recent-matches-preview'),_0x21c9c5=document['getElementById'](_0x31e19b(0x19e));if(previewState['isLoading']||!_0x59b41a||!_0x21c9c5)return;_0x258972==='current'&&(console['log']('Clearing\x20cache\x20for\x20refresh/reset'),Object['keys'](sessionStorage)['forEach'](_0x48c0ff=>{const _0x26d1ee=_0x31e19b;_0x48c0ff['includes']('previewCache_'+previewState['currentMode'])&&sessionStorage[_0x26d1ee(0x1ce)](_0x48c0ff);}));let _0x2f2915=previewState['currentPage'];if(_0x258972===_0x31e19b(0x163))_0x2f2915++;else{if(_0x258972==='prev')_0x2f2915--;else _0x258972===_0x31e19b(0x18a)&&(_0x2f2915=0x1,previewState[_0x31e19b(0x1d6)]=null,previewState['lastVisible']=null);}if(_0x2f2915<0x1)_0x2f2915=0x1;const _0x8e54e7=previewState[_0x31e19b(0x17c)];previewState['currentPage']=_0x2f2915,updatePreviewPaginationControls(!![]);const _0x6eead7={'filterUsername':previewState['filterUsername']},_0x4661bf=getCacheKey(previewState['currentMode'],_0x2f2915,_0x6eead7),_0x2bef59=_0x258972!=='current'?getCachedPage(_0x4661bf):null;if(_0x2bef59){console[_0x31e19b(0x1d3)]('Rendering\x20page\x20'+_0x2f2915+'\x20from\x20cache'),setPreviewLoadingState(!![]),renderMatchCards(_0x2bef59['docsData']),updatePreviewPaginationControls(_0x2bef59['hasNextPage']),setPreviewLoadingState(![]);return;}console['log']('Cache\x20miss\x20for\x20page\x20'+_0x2f2915+_0x31e19b(0x1fc)),setPreviewLoadingState(!![]),_0x59b41a['innerHTML']=_0x31e19b(0x176);const _0x27a25b=previewState['currentMode']==='D1'?_0x31e19b(0x1ef):previewState[_0x31e19b(0x1fd)]==='D2'?'approvedMatchesD2':'approvedMatchesD3',_0x167980=previewState[_0x31e19b(0x1fd)]==='D1'?_0x31e19b(0x1f9):'approvedAt';try{const _0x2f2704=collection(window['db'],_0x27a25b);let _0x44c2c1=[orderBy(_0x167980,'desc')];if(_0x2f2915===0x1)console['log']('Loading\x20first\x20page\x20from\x20Firestore'),_0x44c2c1['push'](limit(previewState['matchesPerPage']));else{if(_0x258972===_0x31e19b(0x163)&&previewState['lastVisible'])console['log']('Loading\x20next\x20page\x20using\x20cursor'),_0x44c2c1['push'](startAfter(previewState['lastVisible'])),_0x44c2c1['push'](limit(previewState[_0x31e19b(0x1c4)]));else{console['log'](_0x31e19b(0x1ba));const _0x27e52c=_0x2f2915*previewState['matchesPerPage'];_0x44c2c1['push'](limit(_0x27e52c));}}const _0x50c33a=query(_0x2f2704,..._0x44c2c1),_0x5eea51=await getDocs(_0x50c33a);let _0x19e479=_0x5eea51['docs'];if(_0x2f2915>0x1&&_0x258972!==_0x31e19b(0x163)){const _0x1cdb67=(_0x2f2915-0x1)*previewState['matchesPerPage'];_0x19e479=_0x19e479['slice'](_0x1cdb67,_0x1cdb67+previewState['matchesPerPage']);}if(_0x19e479[_0x31e19b(0x1d8)]===0x0){console['log'](_0x31e19b(0x1c5));_0x258972==='next'&&(previewState[_0x31e19b(0x17c)]=_0x8e54e7,updatePreviewPaginationControls(![]));_0x59b41a['innerHTML']='<div\x20class=\x22matches-loading\x22>No\x20more\x20matches\x20to\x20display'+(previewState[_0x31e19b(0x1b8)]?_0x31e19b(0x1af):'')+'.</div>',setPreviewLoadingState(![]);return;}previewState['firstVisible']=_0x19e479[0x0],previewState[_0x31e19b(0x19a)]=_0x19e479[_0x19e479[_0x31e19b(0x1d8)]-0x1];const _0x363aee=_0x19e479['map'](_0x4063c4=>({'id':_0x4063c4['id'],..._0x4063c4['data']()}));let _0x36860a=![];if(_0x19e479['length']===previewState['matchesPerPage']){const _0x41471a=query(_0x2f2704,orderBy(_0x167980,_0x31e19b(0x1ad)),startAfter(previewState['lastVisible']),limit(0x1)),_0x55b173=await getDocs(_0x41471a);_0x36860a=!_0x55b173['empty'];}const _0x50fa1f=applyClientFilters(_0x363aee),_0x4cffcc={'docsData':_0x363aee,'hasNextPage':_0x36860a};cachePage(getCacheKey(previewState['currentMode'],previewState['currentPage'],_0x6eead7),_0x4cffcc);if(_0x2f2915>0x1&&_0x258972!=='next')for(let _0x48398e=0x1;_0x48398e<_0x2f2915;_0x48398e++){const _0xcef433=(_0x48398e-0x1)*previewState['matchesPerPage'],_0x5d68ec=_0xcef433+previewState[_0x31e19b(0x1c4)],_0x42cf2f=_0x5eea51['docs']['slice'](_0xcef433,_0x5d68ec);if(_0x42cf2f['length']>0x0){const _0xe3ff4=_0x42cf2f[_0x31e19b(0x1ee)](_0x51037d=>({'id':_0x51037d['id'],..._0x51037d['data']()})),_0x116afe=!![];cachePage(getCacheKey(previewState['currentMode'],_0x48398e,_0x6eead7),{'docsData':_0xe3ff4,'hasNextPage':_0x116afe}),console['log'](_0x31e19b(0x18e)+_0x48398e);}}_0x50fa1f['length']===0x0&&previewState['filterUsername']?_0x59b41a['innerHTML']=_0x31e19b(0x155)+previewState['filterUsername']+'\x22</div>':renderMatchCards(_0x50fa1f),updatePreviewPaginationControls(_0x36860a);}catch(_0xeba0bb){console['error']('Error\x20fetching\x20'+previewState[_0x31e19b(0x1fd)]+_0x31e19b(0x1bc),_0xeba0bb),_0x59b41a['innerHTML']=_0x31e19b(0x151)+_0xeba0bb['message']+'</div>',updatePreviewPaginationControls(![]),previewState['currentPage']=_0x8e54e7;}finally{setPreviewLoadingState(![]);}}async function renderMatchCards(_0x32752a){const _0x154331=a6_0x3fe2ca,_0x28c129=document['getElementById']('recent-matches-preview'),_0x2127d7=document[_0x154331(0x159)]('match-card-template');if(!_0x28c129||!_0x2127d7)return;!_0x28c129['querySelector']('.matches-loading[style*=\x22color:\x20red\x22]')&&(_0x28c129['innerHTML']='');if(!_0x32752a||_0x32752a['length']===0x0){if(!_0x28c129['querySelector']('.matches-loading[style*=\x22color:\x20red\x22]')){const _0x5b5ef6=hasEnhancedFilters()?'\x20matching\x20filters':previewState['filterUsername']?'\x20matching\x20filters':'';_0x28c129['innerHTML']='<div\x20class=\x22matches-loading\x22>No\x20recent\x20matches\x20found'+_0x5b5ef6+'.</div>';}return;}const _0x264c48=applyEnhancedClientFilters(_0x32752a);if(_0x264c48[_0x154331(0x1d8)]===0x0){_0x28c129[_0x154331(0x1cf)]='<div\x20class=\x22matches-loading\x22>No\x20matches\x20found\x20matching\x20current\x20filters.</div>';return;}const _0x137854=_0x264c48[_0x154331(0x1ee)](_0x68778c=>getAllCommentsForMatch(_0x68778c['id']));let _0x329a9f=[];try{_0x329a9f=await Promise[_0x154331(0x14c)](_0x137854);}catch(_0x1cabe8){console[_0x154331(0x1b9)]('Error\x20fetching\x20comments\x20batch:',_0x1cabe8),_0x329a9f=_0x264c48['map'](()=>[]);}const _0x3d7b84={};_0x329a9f['forEach']((_0x2df770,_0x25b2fe)=>{_0x3d7b84[_0x264c48[_0x25b2fe]['id']]=_0x2df770||[];}),_0x264c48['forEach'](_0x13a2ca=>{const _0x42d830=_0x154331,_0x4dd808=_0x2127d7['content']['cloneNode'](!![]),_0x5a270b=_0x4dd808['querySelector']('.match-display-wrapper'),_0x1cddda=_0x4dd808[_0x42d830(0x1e8)]('.match-card'),_0x568c5f=getEloRankClass(_0x13a2ca['winnerOldElo']);_0x1cddda['classList']['add'](_0x42d830(0x185)+_0x568c5f),_0x1cddda['querySelector'](_0x42d830(0x17a))[_0x42d830(0x153)]=_0x13a2ca['mapPlayed']||'Unknown\x20Map',_0x1cddda['querySelector']('.match-date')['textContent']=formatDate(_0x13a2ca['approvedAt']||_0x13a2ca[_0x42d830(0x1f9)]);const _0x2d115c=_0x1cddda['querySelector']('.player.winner\x20.player-name');_0x2d115c[_0x42d830(0x153)]=_0x13a2ca['winnerUsername']||_0x42d830(0x18b),_0x2d115c['style']['color']=getEloColor(_0x13a2ca['winnerOldElo']),_0x1cddda['querySelector'](_0x42d830(0x1a9))['textContent']=_0x13a2ca['winnerScore']??0x0;const _0x479871=_0x1cddda['querySelector'](_0x42d830(0x1d2)),_0x57b419=_0x13a2ca['winnerSuicides']||0x0;_0x479871['textContent']=_0x42d830(0x1d9)+_0x57b419;const _0x28d63a=_0x1cddda['querySelector'](_0x42d830(0x1de));_0x28d63a[_0x42d830(0x153)]=_0x13a2ca['loserUsername']||'Unknown',_0x28d63a['style']['color']=getEloColor(_0x13a2ca['loserOldElo']),_0x1cddda[_0x42d830(0x1e8)](_0x42d830(0x18f))[_0x42d830(0x153)]=_0x13a2ca['loserScore']??0x0;const _0x169483=_0x1cddda['querySelector']('.player.loser\x20.player-suicides'),_0x458e51=_0x13a2ca['loserSuicides']||0x0;_0x169483['textContent']=_0x42d830(0x1d9)+_0x458e51;const _0xd80ee4=_0x1cddda['querySelector'](_0x42d830(0x158));if(_0xd80ee4){if(_0x13a2ca['subgameType']&&_0x13a2ca['subgameType']['trim']()!==''){_0xd80ee4['textContent']=_0x13a2ca[_0x42d830(0x172)],_0xd80ee4['style']['display']='block';const _0x962509=getSubgameClass(_0x13a2ca['subgameType']);_0x962509&&_0xd80ee4[_0x42d830(0x198)]['add'](_0x962509);}else _0xd80ee4['textContent']='Standard\x20Match',_0xd80ee4['style']['display']=_0x42d830(0x1c9),_0xd80ee4['style'][_0x42d830(0x1d1)]=_0x42d830(0x1a7);}const _0x57eb2d=_0x1cddda[_0x42d830(0x1e8)]('.comment.winner-comment'),_0x4e6760=_0x1cddda['querySelector']('.comment.loser-comment'),_0x5eb5ee=_0x13a2ca['winnerComment']||'',_0x289625=_0x13a2ca['loserComment']||'',_0x134635=_0x13a2ca['approvedAt']||_0x13a2ca['createdAt'],_0xc324b5=filterComment(_0x5eb5ee,_0x13a2ca['winnerUsername'],_0x134635),_0x34a861=filterComment(_0x289625,_0x13a2ca['loserUsername'],_0x134635);_0x57eb2d['textContent']='\x22'+truncateComment(_0x5eb5ee)+'\x22',_0x4e6760[_0x42d830(0x153)]='\x22'+truncateComment(_0x289625)+'\x22';_0x5eb5ee&&!isUsernameMuted(_0x13a2ca['winnerUsername'],_0x134635)?_0x57eb2d['onclick']=()=>showPreviewCommentPopup(_0xc324b5,_0x13a2ca['winnerUsername']||'Winner',getEloColor(_0x13a2ca[_0x42d830(0x1ec)])):(_0x57eb2d['textContent']=_0xc324b5===_0x42d830(0x1c7)?_0x42d830(0x1c7):'-',_0x57eb2d[_0x42d830(0x19f)][_0x42d830(0x1cc)]=_0x42d830(0x1e4),_0x57eb2d[_0x42d830(0x1f6)]=null);_0x289625&&!isUsernameMuted(_0x13a2ca['loserUsername'])?_0x4e6760[_0x42d830(0x1f6)]=()=>showPreviewCommentPopup(_0x34a861,_0x13a2ca['loserUsername']||'Loser',getEloColor(_0x13a2ca[_0x42d830(0x1c6)])):(_0x4e6760[_0x42d830(0x153)]=_0x34a861==='Muted.'?_0x42d830(0x1c7):'-',_0x4e6760['style']['cursor']='default',_0x4e6760['onclick']=null);const _0x2d5b05=_0x5a270b?.[_0x42d830(0x1e8)](_0x42d830(0x180));if(!_0x2d5b05)console['warn']('Comments\x20section\x20not\x20found\x20in\x20template');else{const _0x1fb06f=_0x2d5b05['querySelector']('.comments-container'),_0x24c918=_0x1fb06f?.[_0x42d830(0x1e8)](_0x42d830(0x1f2)),_0x2c727e=_0x2d5b05['querySelector'](_0x42d830(0x199));if(_0x1fb06f){while(_0x1fb06f['firstChild']&&_0x1fb06f['firstChild']!==_0x24c918){_0x1fb06f['removeChild'](_0x1fb06f['firstChild']);}_0x2c727e&&_0x2c727e['addEventListener']('click',()=>{showAddCommentPopup(_0x13a2ca['id']);});const _0x334691=_0x3d7b84[_0x13a2ca['id']]||[];if(_0x334691['length']>0x0){if(_0x24c918)_0x24c918[_0x42d830(0x19f)]['display']='none';const _0x4ab757=(_0x40505f,_0x21429a)=>{const _0x1da1fb=_0x42d830,_0x169bd5=_0x40505f[_0x1da1fb(0x166)]('\x20');if(_0x169bd5['length']<=_0x21429a)return _0x40505f;return _0x169bd5['slice'](0x0,_0x21429a)['join']('\x20')+'...';};_0x334691[_0x42d830(0x174)](_0x53c3eb=>{const _0x427528=_0x42d830,_0x5b5c7c=document[_0x427528(0x1bf)](_0x427528(0x186));if(_0x53c3eb['type']==='demo'){_0x5b5c7c['className']='demo-link',_0x5b5c7c[_0x427528(0x1cf)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22'+_0x53c3eb[_0x427528(0x168)]+'\x22\x20target=\x22_blank\x22\x20class=\x22play-icon\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<svg\x20viewBox=\x220\x200\x2024\x2024\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<path\x20d=\x22M8,5.14V19.14L19,12.14L8,5.14Z\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</svg>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22demo-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22demo-author\x22>Demo\x20from\x20'+_0x53c3eb['username']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22demo-description\x22>'+(_0x53c3eb['description']||'No\x20description\x20provided')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x13839d=window[_0x427528(0x1b3)][_0x427528(0x14f)],_0x5bc7c8=_0x13839d&&_0x53c3eb['userId']===_0x13839d[_0x427528(0x1bd)];if(_0x5bc7c8){const _0x5e0a3f=document['createElement']('button');_0x5e0a3f['className']=_0x427528(0x178),_0x5e0a3f['innerHTML']='×',_0x5e0a3f[_0x427528(0x1dc)]('aria-label',_0x427528(0x1db)),_0x5e0a3f[_0x427528(0x169)](_0x427528(0x1c0),_0x4bfe58=>{const _0x4fbf58=_0x427528;_0x4bfe58[_0x4fbf58(0x170)](),_0x4bfe58['stopPropagation'](),deleteComment(_0x53c3eb['id'],_0x5b5c7c);}),_0x5b5c7c[_0x427528(0x1ac)](_0x5e0a3f);}}else{_0x5b5c7c[_0x427528(0x182)]='comment-item';const _0x5bbe78=isUsernameMuted(_0x53c3eb['username'],_0x53c3eb['timestamp']),_0x1c699f=_0x5bbe78?'Muted.':_0x4ab757(_0x53c3eb['text']||'',0xf),_0xe74973=_0x53c3eb['username']||_0x427528(0x17f),_0x479611=window[_0x427528(0x1b3)]['currentUser'],_0x481441=_0x479611&&_0x53c3eb['userId']===_0x479611[_0x427528(0x1bd)];let _0x193a8e='';_0x481441&&(_0x193a8e='<button\x20class=\x22delete-comment-btn\x22\x20aria-label=\x22Delete\x20comment\x22>×</button>');_0x5b5c7c['innerHTML']=_0x193a8e+'<strong>'+_0xe74973+':</strong>\x20\x22'+_0x1c699f+'\x22';if(_0x481441){const _0x5c78e8=_0x5b5c7c['querySelector'](_0x427528(0x1bb));_0x5c78e8&&_0x5c78e8['addEventListener']('click',_0x4243ac=>{_0x4243ac['stopPropagation'](),deleteComment(_0x53c3eb['id'],_0x5b5c7c);});}!_0x5bbe78?_0x5b5c7c['addEventListener']('click',()=>{showFullCommentLightbox(_0x53c3eb);}):_0x5b5c7c['style'][_0x427528(0x1cc)]='default';}_0x1fb06f['insertBefore'](_0x5b5c7c,_0x1fb06f[_0x427528(0x16d)]);});}else{if(_0x24c918)_0x24c918['style'][_0x42d830(0x1e0)]=_0x42d830(0x1c9);}}}const _0x2a3159=_0x1cddda['querySelector']('.match-demo-links');if(_0x2a3159){const _0x3788da=_0x1cddda['querySelector']('.winner-demo-link'),_0x336bb2=_0x1cddda[_0x42d830(0x1e8)]('.loser-demo-link'),_0x1b22d2=_0x13a2ca['winnerDemoLink']||null,_0x1341a7=_0x13a2ca[_0x42d830(0x1a0)]||_0x13a2ca[_0x42d830(0x168)]||null;console['log']('Match\x20'+_0x13a2ca['id']+'\x20demo\x20links:',{'winner':_0x1b22d2,'loser':_0x1341a7}),_0x3788da&&(_0x1b22d2?(_0x3788da['href']=_0x1b22d2,_0x3788da[_0x42d830(0x19f)][_0x42d830(0x1e0)]=_0x42d830(0x189),_0x3788da[_0x42d830(0x1e9)]=_0x13a2ca['winnerUsername']+'\x27s\x20Demo'):_0x3788da[_0x42d830(0x19f)][_0x42d830(0x1e0)]=_0x42d830(0x188)),_0x336bb2&&(_0x1341a7?(_0x336bb2[_0x42d830(0x1a1)]=_0x1341a7,_0x336bb2['style'][_0x42d830(0x1e0)]='flex',_0x336bb2['title']=_0x13a2ca[_0x42d830(0x1f0)]+'\x27s\x20Demo'):_0x336bb2['style']['display']='none'),_0x1b22d2&&_0x3788da||_0x1341a7&&_0x336bb2?_0x2a3159['style']['display']='flex':_0x2a3159[_0x42d830(0x19f)]['display']=_0x42d830(0x188);}_0x28c129[_0x42d830(0x1ac)](_0x4dd808);});}function getSubgameClass(_0x1f051e){const _0x568af7=a6_0x3fe2ca,_0x200daf={'Fusion\x20Match':'fusion-match','≥6\x20Missiles':'missiles-6plus','≥6\x20missiles':_0x568af7(0x1dd),'Weapon\x20Imbalance':'weapon-imbalance','Blind\x20Match':'blind-match','Rematch':_0x568af7(0x1e3),'Disorientation':'disorientation','Ratting':'ratting','Altered\x20Powerups':'altered-powerups','Mega\x20Match':'mega-match','Dogfight':_0x568af7(0x1fb),'Gauss\x20and\x20Mercs':'gauss-and-mercs'};return _0x200daf[_0x1f051e]||'';}async function deleteComment(_0x5320ff,_0x555d9e){const _0x4f84a5=a6_0x3fe2ca,_0xe210ce=window['auth']['currentUser'];if(!_0xe210ce){alert('You\x20need\x20to\x20be\x20signed\x20in\x20to\x20delete\x20comments');return;}if(!confirm('Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20comment?'))return;try{const _0x506134=doc(window['db'],'matchComments',_0x5320ff),_0x33d6cb=await getDoc(_0x506134);if(!_0x33d6cb['exists']()){alert(_0x4f84a5(0x16e));return;}const _0x931326=_0x33d6cb['data']();if(_0x931326['userId']!==_0xe210ce[_0x4f84a5(0x1bd)]){alert('You\x20can\x20only\x20delete\x20your\x20own\x20comments');return;}await deleteDoc(_0x506134);if(_0x555d9e&&_0x555d9e['parentNode']){_0x555d9e['parentNode'][_0x4f84a5(0x1a6)](_0x555d9e);const _0x5eb59b=_0x555d9e['closest'](_0x4f84a5(0x171));if(_0x5eb59b&&!_0x5eb59b[_0x4f84a5(0x1e8)](_0x4f84a5(0x1f3))){const _0x4798c4=_0x5eb59b[_0x4f84a5(0x1e8)]('.no-comments-message');if(_0x4798c4)_0x4798c4[_0x4f84a5(0x19f)]['display']='block';}}console['log']('Comment\x20deleted\x20successfully');}catch(_0x4b22a7){console[_0x4f84a5(0x1b9)]('Error\x20deleting\x20comment:',_0x4b22a7),alert(_0x4f84a5(0x193)+_0x4b22a7['message']);}}async function getAllCommentsForMatch(_0x3709c7){const _0x2f70ea=a6_0x3fe2ca;if(!_0x3709c7)return[];try{const _0x1e4ede=collection(window['db'],_0x2f70ea(0x1d7)),_0x9810d1=query(_0x1e4ede,where('matchId','==',_0x3709c7),orderBy('timestamp','desc')),_0x18730e=await getDocs(_0x9810d1);if(_0x18730e['empty'])return[];return _0x18730e['docs']['map'](_0x1b5c3b=>({'id':_0x1b5c3b['id'],..._0x1b5c3b['data']()}));}catch(_0x2af263){return console['error']('Error\x20fetching\x20comments:',_0x2af263),[];}}async function submitComment(_0x562e4b){const _0x51a498=a6_0x3fe2ca;_0x562e4b['preventDefault']();if(!window[_0x51a498(0x1b3)]||!window['db']){console[_0x51a498(0x1b9)](_0x51a498(0x1a2)),alert('Unable\x20to\x20submit\x20comment\x20-\x20system\x20not\x20ready');return;}const _0x3cfd41=window[_0x51a498(0x1b3)]['currentUser'];if(!_0x3cfd41){alert('You\x20must\x20be\x20signed\x20in\x20to\x20leave\x20a\x20comment');return;}const _0x1ed323=document['getElementById']('commentMatchId')?.[_0x51a498(0x1be)],_0x1edf8c=document['getElementById']('commentText')?.['value']?.['trim']();if(!_0x1ed323||!_0x1edf8c){alert('Please\x20enter\x20a\x20comment\x20before\x20submitting');return;}const _0x4243f3=_0x1edf8c['split'](/\s+/)['filter'](_0xdc9da8=>_0xdc9da8['length']>0x0)['length'];if(_0x4243f3>0xf){alert(_0x51a498(0x15c));return;}const _0x5ea4d4=document['querySelector']('.submit-comment-btn');_0x5ea4d4&&(_0x5ea4d4['disabled']=!![],_0x5ea4d4['textContent']=_0x51a498(0x1c3));try{let _0x316e8d='Anonymous';try{const _0x25c6af=doc(window['db'],'userProfiles',_0x3cfd41['uid']),_0x593e5a=await getDoc(_0x25c6af);if(_0x593e5a['exists']()){const _0x6a758b=_0x593e5a[_0x51a498(0x156)]();_0x6a758b['username']&&(_0x316e8d=_0x6a758b['username']);}_0x316e8d==='Anonymous'&&_0x3cfd41['displayName']&&(_0x316e8d=_0x3cfd41['displayName']);}catch(_0x151a11){console['warn']('Failed\x20to\x20fetch\x20user\x20profile:',_0x151a11),_0x3cfd41[_0x51a498(0x1cb)]&&(_0x316e8d=_0x3cfd41['displayName']);}const _0x4df5b2={'matchId':_0x1ed323,'userId':_0x3cfd41[_0x51a498(0x1bd)],'username':_0x316e8d,'text':_0x1edf8c,'timestamp':serverTimestamp()};console[_0x51a498(0x1d3)](_0x51a498(0x165),_0x316e8d);const _0x582b77=collection(window['db'],'matchComments');await addDoc(_0x582b77,_0x4df5b2),console['log']('Comment\x20added\x20successfully'),closeAddCommentPopup(),loadRecentMatchesPreview(_0x51a498(0x18a));}catch(_0x58955e){console[_0x51a498(0x1b9)]('Error\x20submitting\x20comment:',_0x58955e),alert('Failed\x20to\x20add\x20comment:\x20'+_0x58955e[_0x51a498(0x1c8)]),_0x5ea4d4&&(_0x5ea4d4['disabled']=![],_0x5ea4d4['textContent']='Submit');}}function closeAddCommentPopup(){const _0x124591=a6_0x3fe2ca,_0x15da9d=document['getElementById'](_0x124591(0x1e2)),_0x52bb39=document['getElementById']('commentAddOverlay');if(_0x15da9d)_0x15da9d['style'][_0x124591(0x1e0)]=_0x124591(0x188);if(_0x52bb39)_0x52bb39['style']['display']='none';}function showAddCommentPopup(_0x161d3d){const _0x374bfa=a6_0x3fe2ca,_0x5cc16d=window['auth']['currentUser'];if(!_0x5cc16d){alert(_0x374bfa(0x16b));return;}let _0x472984=document[_0x374bfa(0x159)](_0x374bfa(0x1e2)),_0x5a800e=document[_0x374bfa(0x159)]('commentAddOverlay');!_0x472984&&(_0x472984=document['createElement']('div'),_0x472984['id']='commentAddPopup',_0x472984['className']='comment-popup',document['body']['appendChild'](_0x472984));!_0x5a800e&&(_0x5a800e=document['createElement']('div'),_0x5a800e['id']='commentAddOverlay',_0x5a800e['className']='comment-overlay',document[_0x374bfa(0x1f1)]['appendChild'](_0x5a800e));_0x472984['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22popup-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Add\x20Comment\x20or\x20Demo</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22closeAddCommentPopup\x22\x20class=\x22close-btn\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22addCommentForm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22commentMatchId\x22\x20name=\x22commentMatchId\x22\x20value=\x22'+_0x161d3d+_0x374bfa(0x196),_0x472984['style']['display']=_0x374bfa(0x1c9),_0x5a800e['style'][_0x374bfa(0x1e0)]='block',document['getElementById'](_0x374bfa(0x18c))['addEventListener'](_0x374bfa(0x1c0),closeAddCommentPopup),_0x5a800e['addEventListener'](_0x374bfa(0x1c0),closeAddCommentPopup);const _0x197600=_0x472984[_0x374bfa(0x15d)](_0x374bfa(0x1b0));_0x197600['forEach'](_0x548de5=>{const _0x4b35c7=_0x374bfa;_0x548de5[_0x4b35c7(0x169)](_0x4b35c7(0x1c0),function(){const _0x4c2c4b=_0x4b35c7;_0x197600['forEach'](_0x1bdb73=>_0x1bdb73['classList']['remove']('active')),document['querySelectorAll']('.option-content')['forEach'](_0xcfbfe6=>_0xcfbfe6['style'][_0x4c2c4b(0x1e0)]='none'),this['classList']['add']('active');const _0x4d98ee=this[_0x4c2c4b(0x15e)]['option'];document['getElementById'](_0x4d98ee+'Option')['style']['display']='block',_0x4d98ee===_0x4c2c4b(0x17b)?(document['getElementById'](_0x4c2c4b(0x168))['setAttribute']('required',''),document['getElementById']('commentText')['removeAttribute']('required')):(document['getElementById']('demoLink')['removeAttribute']('required'),document['getElementById']('commentText')[_0x4c2c4b(0x1dc)]('required',''));});}),document['getElementById']('commentText')['setAttribute']('required',''),document[_0x374bfa(0x159)]('demoLink')[_0x374bfa(0x1f8)]('required'),setupWordCounter('commentText','wordCount',0xf),setupWordCounter(_0x374bfa(0x154),_0x374bfa(0x187),0x14),document['getElementById'](_0x374bfa(0x15f))[_0x374bfa(0x169)](_0x374bfa(0x1e7),submitCommentOrDemo);}function setupWordCounter(_0x24c9aa,_0x2d39bd,_0x25f119){const _0x6ea840=a6_0x3fe2ca,_0x8fbfe6=document['getElementById'](_0x24c9aa),_0x52bb85=document[_0x6ea840(0x159)](_0x2d39bd);if(!_0x8fbfe6||!_0x52bb85)return;_0x3073a8(),_0x8fbfe6['addEventListener']('input',_0x3073a8);function _0x3073a8(){const _0x5386cb=_0x6ea840,_0x3dcb56=_0x8fbfe6[_0x5386cb(0x1be)]['trim'](),_0x3ca8a3=_0x3dcb56?_0x3dcb56[_0x5386cb(0x166)](/\s+/)['filter'](_0x57c487=>_0x57c487['length']>0x0)[_0x5386cb(0x1d8)]:0x0;_0x52bb85[_0x5386cb(0x153)]=_0x3ca8a3,_0x3ca8a3>_0x25f119?_0x52bb85['style']['color']='#ff4444':_0x52bb85['style']['color']=_0x5386cb(0x16c);}}async function submitCommentOrDemo(_0xec3cac){const _0x53532f=a6_0x3fe2ca;_0xec3cac['preventDefault']();if(!window[_0x53532f(0x1b3)]||!window['db']){console['error']('Firebase\x20not\x20initialized'),alert('Unable\x20to\x20submit\x20-\x20system\x20not\x20ready');return;}const _0x38976f=window[_0x53532f(0x1b3)]['currentUser'];if(!_0x38976f){alert('You\x20must\x20be\x20signed\x20in\x20to\x20continue');return;}const _0x906820=document[_0x53532f(0x159)]('commentMatchId')['value'],_0x492ebb=document['querySelector'](_0x53532f(0x1d4))[_0x53532f(0x15e)]['option'];let _0x4cc79c=_0x53532f(0x17f);try{const _0x21a258=doc(window['db'],'userProfiles',_0x38976f['uid']),_0x882014=await getDoc(_0x21a258);if(_0x882014['exists']()){const _0x5605ad=_0x882014['data']();_0x5605ad['username']&&(_0x4cc79c=_0x5605ad['username']);}_0x4cc79c==='Anonymous'&&_0x38976f['displayName']&&(_0x4cc79c=_0x38976f['displayName']);}catch(_0x2407f8){console['warn']('Failed\x20to\x20fetch\x20username:',_0x2407f8),_0x38976f[_0x53532f(0x1cb)]&&(_0x4cc79c=_0x38976f[_0x53532f(0x1cb)]);}const _0x4f5e31=document['querySelector']('.submit-comment-btn');_0x4f5e31&&(_0x4f5e31['disabled']=!![],_0x4f5e31[_0x53532f(0x153)]='Submitting...');try{if(_0x492ebb==='comment'){const _0x151e07=document[_0x53532f(0x159)]('commentText')[_0x53532f(0x1be)]['trim']();if(!_0x151e07){alert(_0x53532f(0x1f4)),_0x4f5e31['disabled']=![],_0x4f5e31[_0x53532f(0x153)]='Submit';return;}const _0x46c458=_0x151e07[_0x53532f(0x166)](/\s+/)[_0x53532f(0x175)](_0x4f7063=>_0x4f7063[_0x53532f(0x1d8)]>0x0)['length'];if(_0x46c458>0xf){alert(_0x53532f(0x15c)),_0x4f5e31[_0x53532f(0x15b)]=![],_0x4f5e31[_0x53532f(0x153)]='Submit';return;}const _0x217af2={'matchId':_0x906820,'userId':_0x38976f['uid'],'username':_0x4cc79c,'text':_0x151e07,'type':'comment','timestamp':serverTimestamp()},_0x750d6f=collection(window['db'],_0x53532f(0x1d7));await addDoc(_0x750d6f,_0x217af2);}else{const _0x24ca17=document['getElementById']('demoLink')['value']['trim'](),_0xd64071=document['getElementById']('demoDescription')[_0x53532f(0x1be)]['trim']()||'Demo\x20link';if(!_0x24ca17){alert(_0x53532f(0x1ab)),_0x4f5e31[_0x53532f(0x15b)]=![],_0x4f5e31[_0x53532f(0x153)]='Submit';return;}try{new URL(_0x24ca17);}catch(_0x457e8b){alert(_0x53532f(0x160)),_0x4f5e31['disabled']=![],_0x4f5e31[_0x53532f(0x153)]='Submit';return;}const _0x5ff7a9=_0xd64071[_0x53532f(0x166)](/\s+/)['filter'](_0x1dd932=>_0x1dd932[_0x53532f(0x1d8)]>0x0)['length'];if(_0x5ff7a9>0x14){alert('Demo\x20descriptions\x20are\x20limited\x20to\x2020\x20words\x20maximum.\x20Please\x20shorten\x20your\x20description.'),_0x4f5e31[_0x53532f(0x15b)]=![],_0x4f5e31['textContent']='Submit';return;}const _0x5c465f={'matchId':_0x906820,'userId':_0x38976f['uid'],'username':_0x4cc79c,'demoLink':_0x24ca17,'description':_0xd64071,'type':'demo','text':'Demo:\x20'+_0xd64071,'timestamp':serverTimestamp()},_0x2c1383=collection(window['db'],'matchComments');await addDoc(_0x2c1383,_0x5c465f);}closeAddCommentPopup(),loadRecentMatchesPreview('current');}catch(_0x2d56d0){console['error']('Error\x20submitting:',_0x2d56d0),alert('Failed\x20to\x20submit:\x20'+_0x2d56d0['message']),_0x4f5e31&&(_0x4f5e31['disabled']=![],_0x4f5e31['textContent']='Submit');}}function getEloRankClass(_0x1713eb){const _0x43e8eb=a6_0x3fe2ca,_0x121c46=Number(_0x1713eb);if(_0x121c46>=0x7d0)return'emerald';else{if(_0x121c46>=0x708)return _0x43e8eb(0x16a);else{if(_0x121c46>=0x640)return'silver';else{if(_0x121c46>=0x578)return'bronze';else return _0x43e8eb(0x1c2);}}}}function showPreviewCommentPopup(_0x4aeff9,_0x1b3f96,_0xa9f09d='#fff'){const _0x36f7fc=a6_0x3fe2ca,_0x4561c1=document[_0x36f7fc(0x159)]('commentPopupPreview'),_0x4ca371=document['getElementById'](_0x36f7fc(0x1b2)),_0x20e3f9=document['getElementById']('commentPopupTitlePreview'),_0x37271e=document['getElementById']('commentPopupContentPreview'),_0x4d7f7d=document['getElementById'](_0x36f7fc(0x1cd));if(!_0x4561c1||!_0x4ca371||!_0x20e3f9||!_0x37271e||!_0x4d7f7d)return;_0x4561c1[_0x36f7fc(0x15e)]['commentText']=_0x4aeff9,_0x4561c1[_0x36f7fc(0x15e)][_0x36f7fc(0x194)]=_0x1b3f96,_0x20e3f9[_0x36f7fc(0x19f)]['color']=_0xa9f09d,_0x20e3f9['textContent']='Comment\x20from\x20'+_0x1b3f96,_0x37271e['textContent']=_0x4aeff9,_0x4d7f7d[_0x36f7fc(0x1f6)]=reportComment,_0x4561c1[_0x36f7fc(0x19f)]['display']='block',_0x4ca371['style']['display']='block';}function closePreviewCommentPopup(){const _0x38af20=a6_0x3fe2ca,_0x1bb1d5=document['getElementById']('commentPopupPreview'),_0x3718b2=document['getElementById'](_0x38af20(0x1b2));if(_0x1bb1d5)_0x1bb1d5[_0x38af20(0x19f)]['display']='none';if(_0x3718b2)_0x3718b2['style']['display']='none';}async function reportComment(){const _0x9fcd19=a6_0x3fe2ca,_0x22a37c=window[_0x9fcd19(0x1b3)]['currentUser'];if(!_0x22a37c){alert('You\x20need\x20to\x20be\x20signed\x20in\x20to\x20report\x20comments');return;}if(!confirm('Are\x20you\x20sure\x20you\x20want\x20to\x20report\x20this\x20comment\x20as\x20inappropriate?'))return;try{const _0x48a93a=document['getElementById']('commentPopupPreview'),_0x41e3fd={'commentAuthor':_0x48a93a['dataset']['commentUser']||'Unknown\x20User','commentText':_0x48a93a[_0x9fcd19(0x15e)]['commentText']||'','matchId':previewState['currentMatchId']||'','reportedBy':_0x22a37c['uid'],'reporterUsername':_0x22a37c['displayName']||'Anonymous\x20User','reportedAt':serverTimestamp()},_0x59be99=collection(window['db'],_0x9fcd19(0x161));await addDoc(_0x59be99,_0x41e3fd),alert('Thank\x20you.\x20The\x20comment\x20has\x20been\x20reported\x20and\x20will\x20be\x20reviewed.'),closePreviewCommentPopup();}catch(_0x2bd8fe){console['error']('Error\x20reporting\x20comment:',_0x2bd8fe),alert('Failed\x20to\x20report\x20comment:\x20'+_0x2bd8fe[_0x9fcd19(0x1c8)]);}}function showFullCommentLightbox(_0x37219f){const _0x17a16a=a6_0x3fe2ca;if(isUsernameMuted(_0x37219f['username']))return;const _0x32fa07=document[_0x17a16a(0x159)](_0x17a16a(0x1eb)),_0x4046f9=document['getElementById'](_0x17a16a(0x1b2)),_0x435d96=document[_0x17a16a(0x159)]('commentPopupTitlePreview'),_0x4899b9=document['getElementById']('commentPopupContentPreview');if(!_0x32fa07||!_0x4046f9||!_0x435d96||!_0x4899b9)return;_0x435d96['style']['color']='#fff',_0x435d96['textContent']=_0x17a16a(0x1ae)+_0x37219f[_0x17a16a(0x1e5)];if(_0x37219f['timestamp']){const _0x59a21e=new Date(_0x37219f[_0x17a16a(0x1a5)]['seconds']*0x3e8),_0x2ad109=_0x59a21e['toLocaleString']();_0x4899b9['innerHTML']='<p>'+_0x37219f['text']+_0x17a16a(0x179)+_0x2ad109+_0x17a16a(0x150);}else _0x4899b9[_0x17a16a(0x153)]=_0x37219f['text'];_0x32fa07['dataset']['commentId']=_0x37219f['id']||'',_0x32fa07['dataset']['commentUser']=_0x37219f['username']||'',_0x32fa07['dataset']['commentText']=_0x37219f['text']||'',_0x32fa07['dataset']['matchId']=_0x37219f['matchId']||'';const _0x5cb82a=_0x32fa07['querySelector'](_0x17a16a(0x1fa))||document['createElement']('div');!_0x32fa07['querySelector']('.popup-actions')?(_0x5cb82a['className']='popup-actions',_0x5cb82a['style']['display']=_0x17a16a(0x189),_0x5cb82a['style']['justifyContent']='center',_0x5cb82a[_0x17a16a(0x19f)]['gap']='10px',_0x5cb82a['style'][_0x17a16a(0x1e1)]='15px',_0x32fa07[_0x17a16a(0x1ac)](_0x5cb82a)):_0x5cb82a['innerHTML']='';const _0x10146c=document['createElement']('button');_0x10146c['textContent']=_0x17a16a(0x1df),_0x10146c['className']=_0x17a16a(0x177),_0x10146c['id']='closeCommentPopupPreview',_0x10146c[_0x17a16a(0x169)]('click',closePreviewCommentPopup);const _0x2094a1=document['createElement']('button');_0x2094a1['textContent']='Report',_0x2094a1['className']='popup-btn\x20report-btn',_0x2094a1[_0x17a16a(0x19f)]['backgroundColor']='#d32f2f',_0x2094a1[_0x17a16a(0x169)]('click',reportComment),_0x5cb82a[_0x17a16a(0x1ac)](_0x10146c),_0x5cb82a[_0x17a16a(0x1ac)](_0x2094a1),_0x32fa07['style']['display']='block',_0x4046f9[_0x17a16a(0x19f)][_0x17a16a(0x1e0)]='block';}export function setupPreviewEventListeners(){const _0x4818cc=a6_0x3fe2ca,_0x4429db=document['getElementById'](_0x4818cc(0x191)),_0x37bd36=document[_0x4818cc(0x159)]('previewNextPage'),_0x3d49af=document[_0x4818cc(0x159)]('preview-d1-button'),_0x440050=document['getElementById']('preview-d2-button'),_0x25e12a=document[_0x4818cc(0x159)]('preview-d3-button'),_0x42a6b5=document['getElementById']('filter-toggle-button'),_0x351042=document['getElementById'](_0x4818cc(0x17d));if(!_0x4429db||!_0x37bd36||!_0x3d49af||!_0x440050||!_0x25e12a||!_0x42a6b5||!_0x351042){console['warn'](_0x4818cc(0x1a3));return;}_0x4429db[_0x4818cc(0x169)](_0x4818cc(0x1c0),()=>{const _0x1cdcc7=_0x4818cc;if(!_0x4429db['disabled'])loadRecentMatchesPreview(_0x1cdcc7(0x173));}),_0x37bd36[_0x4818cc(0x169)]('click',()=>{if(!_0x37bd36['disabled'])loadRecentMatchesPreview('next');}),_0x3d49af['addEventListener']('click',()=>{previewState['currentMode']!=='D1'&&!previewState['isLoading']&&(previewState['currentMode']='D1',updatePreviewLadderModeUI(),loadRecentMatchesPreview('current'));}),_0x440050['addEventListener']('click',()=>{const _0x143c12=_0x4818cc;previewState['currentMode']!=='D2'&&!previewState[_0x143c12(0x167)]&&(previewState['currentMode']='D2',updatePreviewLadderModeUI(),loadRecentMatchesPreview('current'));}),_0x25e12a['addEventListener'](_0x4818cc(0x1c0),()=>{const _0xfd128a=_0x4818cc;previewState[_0xfd128a(0x1fd)]!=='D3'&&!previewState['isLoading']&&(previewState[_0xfd128a(0x1fd)]='D3',updatePreviewLadderModeUI(),loadRecentMatchesPreview('current'));});_0x42a6b5&&_0x351042&&_0x42a6b5['addEventListener'](_0x4818cc(0x1c0),()=>{const _0x111a01=_0x4818cc,_0x4b81c9=_0x351042['style']['display']!=='none';_0x351042['style']['display']=_0x4b81c9?'none':_0x111a01(0x1c9),_0x42a6b5['classList']['toggle']('active',!_0x4b81c9);});const _0x240ffa=document['getElementById']('apply-enhanced-filters'),_0x1c6d56=document[_0x4818cc(0x159)]('clear-enhanced-filters');_0x240ffa&&_0x240ffa['addEventListener'](_0x4818cc(0x1c0),()=>{const _0x1af5af=_0x4818cc;previewState['enhancedFilters']['pilots']=document['getElementById']('filter-pilots')['value'][_0x1af5af(0x1a8)](),previewState['enhancedFilters']['levels']=document[_0x1af5af(0x159)]('filter-levels')['value']['trim']();const _0x3b8d68=document[_0x1af5af(0x159)](_0x1af5af(0x1b5));previewState[_0x1af5af(0x1ea)]['subgames']=Array['from'](_0x3b8d68['selectedOptions'])['map'](_0x3bd42b=>_0x3bd42b[_0x1af5af(0x1be)])['filter'](_0x16b544=>_0x16b544!==''),loadRecentMatchesPreview('current');});_0x1c6d56&&_0x1c6d56['addEventListener']('click',()=>{clearEnhancedFilters(),loadRecentMatchesPreview('current');});document[_0x4818cc(0x15d)]('.jump-btn')['forEach'](_0x58dec2=>{const _0x51b572=_0x4818cc;_0x58dec2[_0x51b572(0x169)](_0x51b572(0x1c0),()=>{const _0x18f76a=_0x51b572,_0x444d35=_0x58dec2['dataset'][_0x18f76a(0x1f5)];jumpToPage(_0x444d35);});});const _0x20daaa=document['getElementById']('jump-to-page');_0x20daaa&&_0x20daaa[_0x4818cc(0x169)]('keypress',_0x53a0f1=>{const _0x25f728=_0x4818cc;_0x53a0f1[_0x25f728(0x1fe)]==='Enter'&&jumpToPage('input');});const _0x580b33=document['getElementById']('closeCommentPopupPreview'),_0x531852=document['getElementById'](_0x4818cc(0x1b2));if(_0x580b33)_0x580b33[_0x4818cc(0x169)]('click',closePreviewCommentPopup);if(_0x531852)_0x531852[_0x4818cc(0x169)]('click',closePreviewCommentPopup);const _0x40da70=document['getElementById']('closeAddCommentPopup'),_0x418020=document['getElementById'](_0x4818cc(0x15a)),_0x56dc8f=document[_0x4818cc(0x159)]('addCommentForm');if(_0x40da70)_0x40da70['addEventListener']('click',closeAddCommentPopup);if(_0x418020)_0x418020['addEventListener'](_0x4818cc(0x1c0),closeAddCommentPopup);if(_0x56dc8f)_0x56dc8f[_0x4818cc(0x169)]('submit',submitComment);const _0x231fe1=document['getElementById'](_0x4818cc(0x14e)),_0x11aad0=document[_0x4818cc(0x159)](_0x4818cc(0x18d));_0x231fe1&&_0x11aad0&&setupWordCounter('commentText',_0x4818cc(0x18d),0xf);}window['showAddCommentPopup']=showAddCommentPopup,window['closeAddCommentPopup']=closeAddCommentPopup,window['submitComment']=submitComment;