const a31_0x1dc715=a31_0x55fd,a31_0x39a882=(function(){let _0x389f5f=!![];return function(_0x554d99,_0x6a21fd){const _0x4b1d11=_0x389f5f?function(){const _0x92e410=a31_0x55fd;if(_0x6a21fd){const _0x2fc16d=_0x6a21fd[_0x92e410(0x149)](_0x554d99,arguments);return _0x6a21fd=null,_0x2fc16d;}}:function(){};return _0x389f5f=![],_0x4b1d11;};}()),a31_0x3f47e3=a31_0x39a882(this,function(){const _0x2a06b6=a31_0x55fd,_0x3973d1=function(){const _0x5a07fb=a31_0x55fd;let _0x4e884f;try{_0x4e884f=Function(_0x5a07fb(0x128)+_0x5a07fb(0x139)+');')();}catch(_0x17983d){_0x4e884f=window;}return _0x4e884f;},_0x1d31ad=_0x3973d1(),_0x5a7afb=_0x1d31ad[_0x2a06b6(0x14f)]=_0x1d31ad[_0x2a06b6(0x14f)]||{},_0x18e750=[_0x2a06b6(0x10f),_0x2a06b6(0x116),_0x2a06b6(0x140),_0x2a06b6(0xf3),_0x2a06b6(0xcf),_0x2a06b6(0x10c),_0x2a06b6(0x126)];for(let _0x2f29ea=0x0;_0x2f29ea<_0x18e750[_0x2a06b6(0xfb)];_0x2f29ea++){const _0x52e922=a31_0x39a882[_0x2a06b6(0x12e)][_0x2a06b6(0x127)][_0x2a06b6(0x146)](a31_0x39a882),_0xf9c03d=_0x18e750[_0x2f29ea],_0x5ee3cb=_0x5a7afb[_0xf9c03d]||_0x52e922;_0x52e922[_0x2a06b6(0xe2)]=a31_0x39a882[_0x2a06b6(0x146)](a31_0x39a882),_0x52e922[_0x2a06b6(0x13f)]=_0x5ee3cb[_0x2a06b6(0x13f)][_0x2a06b6(0x146)](_0x5ee3cb),_0x5a7afb[_0xf9c03d]=_0x52e922;}});a31_0x3f47e3();function a31_0x2ab7(){const _0x59bf16=['winnerScore','totalMatches','losses','approvedMatchesD3','exception','.token-placeholder','desc','#C0C0C0',';\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22elo-container\x22\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22elo-value\x22>','change','elo','indexOf','MAX_SAFE_INTEGER','fontSize','string','winRate','size','userProfiles','.flag-placeholder','bold','wins','#4CAF50','set','__proto__','appendChild','points','eloRating','catch','totalKills','<img\x20src=\x22../images/flags/','inline','fontWeight','D3:\x20Fallback\x20query\x20failed:','abs','eloHistoryD3','gameMode','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','textContent','eloHistory','tokenImage','error','includes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Rank</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Username</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>ELO</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Matches</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Wins</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Losses</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>K/D</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Win\x20Rate</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22player-token\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20title=\x22','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22width:\x2035px;\x20height:\x2035px;\x20margin-left:\x205px;\x20vertical-align:\x20middle;\x20object-fit:\x20contain;\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>','all','sort','Error\x20loading\x20D3\x20tokens:','length','display','get','toFixed','push','Error\x20updating\x20D3\x20ELO\x20changes:','querySelector','#F44336',';\x20text-decoration:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#ladder-d3\x20tbody','loserScore','.png\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22','initialized','Could\x20not\x20find\x20winner\x20or\x20loser\x20in\x20D3\x20players\x20list','.trend-indicator','innerHTML','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22','table','equipped','username','log','dataset','#DC143C','<tr><td\x20colspan=\x229\x22\x20class=\x22loading-cell\x22>Loading\x20D3\x20ladder\x20data...</td></tr>','tokenName','displayLadderD3\x20function\x20not\x20available','td:nth-child(3)','warn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22profile.html?username=','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22flag-placeholder\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22token-placeholder\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22color:\x20','<img\x20src=\x22','country','#ladder-d3\x20thead\x20tr','map','querySelectorAll','true','head','has','totalDeaths','createElement','seconds','Error\x20updating\x20D3\x20player\x20positions:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22trend-indicator\x22\x20style=\x22margin-left:\x205px;\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','trace','prototype','return\x20(function()\x20','0.85em','</td>\x0a\x20\x20\x20\x20</tr>','Error\x20loading\x20D3\x20ladder:','player','#FFD700','constructor','playerId','forEach','\x0a\x20\x20.streak-indicator\x20{\x0a\x20\x20\x20\x20font-size:\x200.9em;\x0a\x20\x20\x20\x20color:\x20#FF4500;\x0a\x20\x20\x20\x20margin-left:\x205px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20}\x0a','loserUsername','data','D3\x20Ladder\x20table\x20body\x20not\x20found','playerUsername','ceil','color','find','{}.constructor(\x22return\x20this\x22)(\x20)','position','winnerUsername','firstPlaceDate','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x229\x22\x20style=\x22text-align:\x20center;\x20color:\x20red;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20D3\x20ladder\x20data:\x20','%</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22color:\x20gray;\x22>','toString','info','then','(Equipped)','message','kda','previousElo','bind','newElo','Error\x20fetching\x20batch\x20match\x20stats\x20for\x20D3:','apply','#50C878','\x0a\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','\x22\x20class=\x22player-flag\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22margin-left:\x205px;\x20vertical-align:\x20middle;\x20width:\x2020px;\x20height:\x20auto;\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>','style','refreshLadderDisplayD3','console','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','createDocumentFragment','toLowerCase','D3:\x20Error\x20fetching\x20ELO\x20history:','toDate','now','Using\x20cached\x20D3\x20ladder\x20data','playersD3','&ladder=d3\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22color:\x20','function','#CD7F32','timestamp'];a31_0x2ab7=function(){return _0x59bf16;};return a31_0x2ab7();}import{collection,getDocs,doc,getDoc,query,where,updateDoc,Timestamp,orderBy,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db}from'./firebase-config.js';import a31_0x3f19d5 from'./firebase-idle-wrapper.js';import{getTokensByUsernames,getPrimaryDisplayToken,clearTokenCache}from'./tokens.js';const styleEl=document[a31_0x1dc715(0x122)](a31_0x1dc715(0x14d));styleEl[a31_0x1dc715(0xf0)]=a31_0x1dc715(0x131),document[a31_0x1dc715(0x11f)][a31_0x1dc715(0xe3)](styleEl);const playerCacheD3={'data':null,'timestamp':0x0},profileCacheD3={'data':null,'timestamp':0x0},matchStatsCacheD3={'data':null,'timestamp':0x0},eloHistoryCacheD3={'data':null,'timestamp':0x0},CACHE_DURATION=0x5*0x3c*0x3e8,PROFILE_CACHE_DURATION=0xa*0x3c*0x3e8,MATCH_STATS_CACHE_DURATION=0x3*0x3c*0x3e8,ELO_HISTORY_CACHE_DURATION=0x2*0x3c*0x3e8;async function loadLadderDataOptimizedD3(_0x59755e=![]){const _0x4761c8=a31_0x1dc715,_0x23efc5=Date[_0x4761c8(0x155)]();if(!_0x59755e&&playerCacheD3[_0x4761c8(0x133)]&&_0x23efc5-playerCacheD3[_0x4761c8(0x15b)]<CACHE_DURATION){console[_0x4761c8(0x10f)](_0x4761c8(0x156));const _0x31858b=playerCacheD3[_0x4761c8(0x133)][_0x4761c8(0x11c)](_0x381052=>_0x381052[_0x4761c8(0x10e)]),_0x4759cc=await fetchBatchMatchStatsD3(_0x31858b);return{'players':playerCacheD3[_0x4761c8(0x133)],'matchStatsBatch':_0x4759cc};}const [_0x514c56,_0x2e714e]=await Promise[_0x4761c8(0xf8)]([getDocs(collection(db,_0x4761c8(0x157))),getDocs(collection(db,_0x4761c8(0xdc)))]),_0x502f7d=[];_0x514c56[_0x4761c8(0x130)](_0x4db7e3=>{const _0x183c93=_0x4761c8,_0x414c85=_0x4db7e3[_0x183c93(0x133)]();_0x414c85[_0x183c93(0x10e)]&&_0x502f7d[_0x183c93(0xff)]({..._0x414c85,'id':_0x4db7e3['id'],'elo':_0x414c85[_0x183c93(0xe5)]||0x0,'position':_0x414c85[_0x183c93(0x13a)]||Number[_0x183c93(0xd7)]});});const _0x1b542d=new Map();_0x2e714e[_0x4761c8(0x130)](_0x570ee1=>{const _0x2a7416=_0x4761c8,_0x145692=_0x570ee1[_0x2a7416(0x133)]();_0x145692[_0x2a7416(0x10e)]&&_0x1b542d[_0x2a7416(0xe1)](_0x145692[_0x2a7416(0x10e)][_0x2a7416(0x152)](),_0x145692);});for(const _0x4b3a73 of _0x502f7d){const _0x2473b1=_0x4b3a73[_0x4761c8(0x10e)][_0x4761c8(0x152)]();if(_0x1b542d[_0x4761c8(0x120)](_0x2473b1)){const _0x467e82=_0x1b542d[_0x4761c8(0xfd)](_0x2473b1);_0x467e82[_0x4761c8(0x11a)]&&(_0x4b3a73[_0x4761c8(0x11a)]=_0x467e82[_0x4761c8(0x11a)][_0x4761c8(0x152)]()),_0x4b3a73[_0x4761c8(0xe4)]=_0x467e82[_0x4761c8(0xe4)]||0x0;}else _0x4b3a73[_0x4761c8(0xe4)]=0x0;}const _0x544c28=_0x502f7d[_0x4761c8(0x11c)](_0x459c70=>_0x459c70[_0x4761c8(0x10e)]),_0xe12eff=await fetchBatchMatchStatsD3(_0x544c28);return _0x502f7d[_0x4761c8(0xf9)]((_0x2862d0,_0x14ebc6)=>{const _0x3e3ae9=_0x4761c8,_0x546a65=_0xe12eff[_0x3e3ae9(0xfd)](_0x2862d0[_0x3e3ae9(0x10e)])?.[_0x3e3ae9(0xcc)]||0x0,_0x26652b=_0xe12eff[_0x3e3ae9(0xfd)](_0x14ebc6[_0x3e3ae9(0x10e)])?.[_0x3e3ae9(0xcc)]||0x0;if(_0x546a65===0x0!==(_0x26652b===0x0))return _0x546a65===0x0?0x1:-0x1;return(_0x2862d0[_0x3e3ae9(0x13a)]||0x3e7)-(_0x14ebc6[_0x3e3ae9(0x13a)]||0x3e7);}),_0x502f7d[_0x4761c8(0x130)]((_0x463718,_0x74ebb2)=>{const _0xe6cb8c=_0x4761c8;_0x463718[_0xe6cb8c(0x13a)]=_0x74ebb2+0x1;}),playerCacheD3[_0x4761c8(0x133)]=_0x502f7d,playerCacheD3[_0x4761c8(0x15b)]=_0x23efc5,{'players':_0x502f7d,'matchStatsBatch':_0xe12eff};}async function displayLadderD3(_0x1ccfc2=![]){const _0x48a692=a31_0x1dc715,_0x1b7e03=document[_0x48a692(0x101)](_0x48a692(0x104));if(!_0x1b7e03){console[_0x48a692(0xf3)](_0x48a692(0x134));return;}_0x1b7e03[_0x48a692(0x10a)]=_0x48a692(0x112);try{const {players:_0x479db8,matchStatsBatch:_0x3741be}=await loadLadderDataOptimizedD3(_0x1ccfc2);await updateLadderDisplayD3(_0x479db8,_0x3741be);}catch(_0x1e91a5){console[_0x48a692(0xf3)](_0x48a692(0x12b),_0x1e91a5),_0x1b7e03[_0x48a692(0x10a)]=_0x48a692(0x13d)+_0x1e91a5[_0x48a692(0x143)]+_0x48a692(0x150);}}function calculateStreakDays(_0x42d084){const _0x2525a2=a31_0x1dc715;if(!_0x42d084)return 0x0;const _0xb91128=_0x42d084[_0x2525a2(0x154)](),_0x5768a4=new Date(),_0x14401a=Math[_0x2525a2(0xec)](_0x5768a4-_0xb91128);return Math[_0x2525a2(0x136)](_0x14401a/(0x3e8*0x3c*0x3c*0x18));}async function updatePlayerPositions(_0xe018df,_0x44d8d7){const _0x467a06=a31_0x1dc715;try{const _0x245ad4=collection(db,_0x467a06(0x157)),_0x5adfe7=await getDocs(_0x245ad4),_0x14fa82=[];_0x5adfe7[_0x467a06(0x130)](_0x5587ce=>{const _0x190bdc=_0x467a06;_0x14fa82[_0x190bdc(0xff)]({'id':_0x5587ce['id'],..._0x5587ce[_0x190bdc(0x133)]()});});const _0x20cb8e=_0x14fa82[_0x467a06(0x138)](_0x539264=>_0x539264[_0x467a06(0x10e)]===_0xe018df),_0x543754=_0x14fa82[_0x467a06(0x138)](_0x7aa318=>_0x7aa318[_0x467a06(0x10e)]===_0x44d8d7);if(!_0x20cb8e||!_0x543754){console[_0x467a06(0xf3)](_0x467a06(0x108));return;}if(_0x20cb8e[_0x467a06(0x13a)]>_0x543754[_0x467a06(0x13a)]){const _0x394f90=_0x543754[_0x467a06(0x13a)];for(const _0x35c81f of _0x14fa82){_0x35c81f[_0x467a06(0x13a)]>=_0x543754[_0x467a06(0x13a)]&&_0x35c81f[_0x467a06(0x13a)]<_0x20cb8e[_0x467a06(0x13a)]&&_0x35c81f[_0x467a06(0x10e)]!==_0xe018df&&await updateDoc(doc(db,_0x467a06(0x157),_0x35c81f['id']),{'position':_0x35c81f[_0x467a06(0x13a)]+0x1});}await updateDoc(doc(db,_0x467a06(0x157),_0x20cb8e['id']),{'position':_0x394f90});if(_0x394f90===0x1){const _0x2f3bd9=doc(db,_0x467a06(0x157),_0x20cb8e['id']),_0x52d806=await getDoc(_0x2f3bd9);!_0x52d806[_0x467a06(0x133)]()[_0x467a06(0x13c)]&&await updateDoc(_0x2f3bd9,{'firstPlaceDate':Timestamp[_0x467a06(0x155)]()});}if(_0x543754[_0x467a06(0x13a)]===0x1){const _0x49047f=doc(db,_0x467a06(0x157),_0x543754['id']);await updateDoc(_0x49047f,{'firstPlaceDate':null});}playerCacheD3[_0x467a06(0x15b)]=0x0;}}catch(_0x397ea0){console[_0x467a06(0xf3)](_0x467a06(0x124),_0x397ea0);}}async function updateLadderDisplayD3(_0x52b409,_0x156f59=null){const _0x111f44=a31_0x1dc715,_0x335274=document[_0x111f44(0x101)](_0x111f44(0x104));if(!_0x335274){console[_0x111f44(0xf3)](_0x111f44(0x134));return;}const _0x13c521=document[_0x111f44(0x101)](_0x111f44(0x11b));_0x13c521&&!_0x13c521[_0x111f44(0x110)][_0x111f44(0x107)]&&(_0x13c521[_0x111f44(0x10a)]=_0x111f44(0xf5),_0x13c521[_0x111f44(0x110)][_0x111f44(0x107)]=_0x111f44(0x11e));_0x52b409[_0x111f44(0xf9)]((_0xddab6c,_0x374c00)=>_0xddab6c[_0x111f44(0x13a)]-_0x374c00[_0x111f44(0x13a)]);if(!_0x156f59){const _0xce8da3=_0x52b409[_0x111f44(0x11c)](_0x3c7355=>_0x3c7355[_0x111f44(0x10e)]);_0x156f59=await fetchBatchMatchStatsD3(_0xce8da3);}const _0x1236b1=document[_0x111f44(0x151)]();_0x52b409[_0x111f44(0x130)](_0x199288=>{const _0x2b06c8=_0x111f44,_0x31cb80=_0x156f59[_0x2b06c8(0xfd)](_0x199288[_0x2b06c8(0x10e)])||{'totalMatches':0x0,'wins':0x0,'losses':0x0,'totalKills':0x0,'totalDeaths':0x0,'kda':0x0,'winRate':0x0,'points':0x0},_0x5e9248=document[_0x2b06c8(0x122)]('tr');_0x5e9248[_0x2b06c8(0x10a)]=createPlayerRowD3(_0x199288,_0x31cb80,null),_0x1236b1[_0x2b06c8(0xe3)](_0x5e9248);}),_0x335274[_0x111f44(0x10a)]='',_0x335274[_0x111f44(0xe3)](_0x1236b1);const _0x3afd6b=_0x52b409[_0x111f44(0x11c)](_0x181ca1=>_0x181ca1[_0x111f44(0x10e)]);loadTokensAsyncD3(_0x335274,_0x52b409,_0x156f59,_0x3afd6b),loadEloChangesAsyncD3(_0x335274,_0x3afd6b);}async function loadTokensAsyncD3(_0x5d28c7,_0xde6472,_0x11807d,_0x540ee1){const _0x2564ec=a31_0x1dc715;try{const _0xcb8cbe=await getTokensByUsernames(_0x540ee1);enhanceLadderWithTokensD3(_0x5d28c7,_0xde6472,_0x11807d,_0xcb8cbe);}catch(_0x407515){return console[_0x2564ec(0xf3)](_0x2564ec(0xfa),_0x407515),new Map();}}function enhanceLadderWithTokensD3(_0x1cba08,_0xb7202c,_0xb4b905,_0x4b03cc){const _0x182972=a31_0x1dc715,_0x3e8649=_0x1cba08[_0x182972(0x11d)]('tr');_0xb7202c[_0x182972(0x130)]((_0x596a62,_0x27c51b)=>{const _0x446b12=_0x182972;if(_0x27c51b>=_0x3e8649[_0x446b12(0xfb)])return;const _0x5b49bd=_0x3e8649[_0x27c51b],_0x131b7b=_0x5b49bd[_0x446b12(0x101)](_0x446b12(0xdd)),_0x3e02af=_0x5b49bd[_0x446b12(0x101)](_0x446b12(0xd0));_0x596a62[_0x446b12(0x11a)]&&_0x131b7b&&(_0x131b7b[_0x446b12(0x10a)]=_0x446b12(0xe8)+_0x596a62[_0x446b12(0x11a)][_0x446b12(0x152)]()+_0x446b12(0x106)+_0x596a62[_0x446b12(0x11a)]+_0x446b12(0x14c));const _0x8b5ffb=_0x4b03cc[_0x446b12(0xfd)](_0x596a62[_0x446b12(0x10e)])||[],_0x514049=getPrimaryDisplayToken(_0x8b5ffb);_0x514049&&_0x3e02af&&(_0x3e02af[_0x446b12(0x10a)]=_0x446b12(0x119)+_0x514049[_0x446b12(0xf2)]+_0x446b12(0x10b)+_0x514049[_0x446b12(0x113)]+_0x446b12(0xf6)+_0x514049[_0x446b12(0x113)]+'\x20'+(_0x514049[_0x446b12(0x10d)]?_0x446b12(0x142):'')+_0x446b12(0xf7));});}function loadEloChangesAsyncD3(_0x357595,_0xd6e55f){const _0x2609bc=a31_0x1dc715;getPlayersLastEloChangesD3(_0xd6e55f)[_0x2609bc(0x141)](_0x2d6658=>{const _0xfc708e=_0x2609bc,_0x1e8256=_0x357595[_0xfc708e(0x11d)]('tr');_0x2d6658[_0xfc708e(0x130)]((_0x31bc15,_0x59cd37)=>{const _0x5ad06b=_0xfc708e,_0xeb5bd2=_0xd6e55f[_0x5ad06b(0xd6)](_0x59cd37);if(_0xeb5bd2!==-0x1&&_0xeb5bd2<_0x1e8256[_0x5ad06b(0xfb)]&&_0x31bc15!==0x0){const _0x3dc3b2=_0x1e8256[_0xeb5bd2],_0x182920=_0x3dc3b2[_0x5ad06b(0x101)](_0x5ad06b(0x115));if(_0x182920){const _0x58c7dd=_0x182920[_0x5ad06b(0x101)](_0x5ad06b(0x109));if(_0x58c7dd){const _0x273e50=_0x31bc15>0x0?'+'+_0x31bc15:''+_0x31bc15;_0x58c7dd[_0x5ad06b(0xf0)]=_0x273e50,_0x58c7dd[_0x5ad06b(0x14d)][_0x5ad06b(0x137)]=_0x31bc15>0x0?_0x5ad06b(0xe0):_0x5ad06b(0x102),_0x58c7dd[_0x5ad06b(0x14d)][_0x5ad06b(0xea)]=_0x5ad06b(0xde),_0x58c7dd[_0x5ad06b(0x14d)][_0x5ad06b(0xd8)]=_0x5ad06b(0x129),_0x58c7dd[_0x5ad06b(0x14d)][_0x5ad06b(0xfc)]=_0x5ad06b(0xe9);}}}});})[_0x2609bc(0xe6)](_0x524ae8=>console[_0x2609bc(0xf3)](_0x2609bc(0x100),_0x524ae8));}async function fetchBatchMatchStatsD3(_0x23e061){const _0x2d4f67=a31_0x1dc715,_0xea51ab=Date[_0x2d4f67(0x155)]();if(matchStatsCacheD3[_0x2d4f67(0x133)]&&_0xea51ab-matchStatsCacheD3[_0x2d4f67(0x15b)]<MATCH_STATS_CACHE_DURATION){const _0x330983=new Map();return _0x23e061[_0x2d4f67(0x130)](_0x3fa3f4=>{const _0x5b7abb=_0x2d4f67;matchStatsCacheD3[_0x5b7abb(0x133)][_0x5b7abb(0x120)](_0x3fa3f4)?_0x330983[_0x5b7abb(0xe1)](_0x3fa3f4,matchStatsCacheD3[_0x5b7abb(0x133)][_0x5b7abb(0xfd)](_0x3fa3f4)):_0x330983[_0x5b7abb(0xe1)](_0x3fa3f4,{'totalMatches':0x0,'wins':0x0,'losses':0x0,'totalKills':0x0,'totalDeaths':0x0,'kda':0x0,'winRate':0x0,'points':0x0});}),_0x330983;}const _0x57ef6d=new Map();try{_0x23e061[_0x2d4f67(0x130)](_0x3f8265=>{const _0x8eff42=_0x2d4f67;_0x57ef6d[_0x8eff42(0xe1)](_0x3f8265,{'totalMatches':0x0,'wins':0x0,'losses':0x0,'totalKills':0x0,'totalDeaths':0x0,'kda':0x0,'winRate':0x0});});const _0x4b7cec=collection(db,_0x2d4f67(0xce)),_0x3c59ae=await getDocs(_0x4b7cec);_0x3c59ae[_0x2d4f67(0x130)](_0x5d26ab=>{const _0x284e07=_0x2d4f67,_0x22a734=_0x5d26ab[_0x284e07(0x133)](),_0x38e35a=_0x22a734[_0x284e07(0x13b)],_0x4a7f2d=_0x22a734[_0x284e07(0x132)];if(_0x23e061[_0x284e07(0xf4)](_0x38e35a)){const _0x5845fe=_0x57ef6d[_0x284e07(0xfd)](_0x38e35a);_0x5845fe[_0x284e07(0xdf)]++,_0x5845fe[_0x284e07(0xcc)]++,_0x5845fe[_0x284e07(0xe7)]+=parseInt(_0x22a734[_0x284e07(0xcb)])||0x0,_0x5845fe[_0x284e07(0x121)]+=parseInt(_0x22a734[_0x284e07(0x105)])||0x0;}if(_0x23e061[_0x284e07(0xf4)](_0x4a7f2d)){const _0xea32a0=_0x57ef6d[_0x284e07(0xfd)](_0x4a7f2d);_0xea32a0[_0x284e07(0xcd)]++,_0xea32a0[_0x284e07(0xcc)]++,_0xea32a0[_0x284e07(0xe7)]+=parseInt(_0x22a734[_0x284e07(0x105)])||0x0,_0xea32a0[_0x284e07(0x121)]+=parseInt(_0x22a734[_0x284e07(0xcb)])||0x0;}}),_0x23e061[_0x2d4f67(0x130)](_0x3d72b6=>{const _0x13695f=_0x2d4f67,_0x48d4ee=_0x57ef6d[_0x13695f(0xfd)](_0x3d72b6);_0x48d4ee[_0x13695f(0x144)]=_0x48d4ee[_0x13695f(0x121)]>0x0?(_0x48d4ee[_0x13695f(0xe7)]/_0x48d4ee[_0x13695f(0x121)])[_0x13695f(0xfe)](0x2):_0x48d4ee[_0x13695f(0xe7)],_0x48d4ee[_0x13695f(0xda)]=_0x48d4ee[_0x13695f(0xcc)]>0x0?(_0x48d4ee[_0x13695f(0xdf)]/_0x48d4ee[_0x13695f(0xcc)]*0x64)[_0x13695f(0xfe)](0x1):0x0;}),matchStatsCacheD3[_0x2d4f67(0x133)]=_0x57ef6d,matchStatsCacheD3[_0x2d4f67(0x15b)]=_0xea51ab;}catch(_0x4edd96){console[_0x2d4f67(0xf3)](_0x2d4f67(0x148),_0x4edd96);}return _0x57ef6d;}function createPlayerRowD3(_0x53cdbd,_0x98f920,_0x1d0fc5){const _0x49ea0b=a31_0x1dc715,_0x75ea42=parseFloat(_0x53cdbd[_0x49ea0b(0xd5)])||0x0;let _0x1ee952=_0x49ea0b(0x111);if(_0x98f920[_0x49ea0b(0xcc)]===0x0)_0x1ee952=_0x49ea0b(0x111);else{if(_0x75ea42>=0x3e8&&_0x98f920[_0x49ea0b(0xda)]>=0x50&&_0x98f920[_0x49ea0b(0xcc)]>=0x14)_0x1ee952=_0x49ea0b(0x14a);else{if(_0x75ea42>=0x2bc)_0x1ee952=_0x49ea0b(0x12d);else{if(_0x75ea42>=0x1f4)_0x1ee952=_0x49ea0b(0xd2);else _0x75ea42>=0xc8&&(_0x1ee952=_0x49ea0b(0x15a));}}}return _0x49ea0b(0x14b)+_0x53cdbd[_0x49ea0b(0x13a)]+_0x49ea0b(0x117)+encodeURIComponent(_0x53cdbd[_0x49ea0b(0x10e)])+_0x49ea0b(0x158)+_0x1ee952+_0x49ea0b(0x103)+_0x53cdbd[_0x49ea0b(0x10e)]+_0x49ea0b(0x118)+_0x1ee952+_0x49ea0b(0xd3)+_0x75ea42+_0x49ea0b(0x125)+_0x98f920[_0x49ea0b(0xcc)]+_0x49ea0b(0xef)+_0x98f920[_0x49ea0b(0xdf)]+_0x49ea0b(0xef)+_0x98f920[_0x49ea0b(0xcd)]+_0x49ea0b(0xef)+_0x98f920[_0x49ea0b(0x144)]+_0x49ea0b(0xef)+_0x98f920[_0x49ea0b(0xda)]+_0x49ea0b(0x13e)+(_0x53cdbd[_0x49ea0b(0xe4)]||0x0)+_0x49ea0b(0x12a);}function a31_0x55fd(_0x10eb8a,_0x2811b0){const _0x3f47e3=a31_0x2ab7();return a31_0x55fd=function(_0x39a882,_0x3ae276){_0x39a882=_0x39a882-0xcb;let _0x2ab70a=_0x3f47e3[_0x39a882];return _0x2ab70a;},a31_0x55fd(_0x10eb8a,_0x2811b0);}async function getPlayersLastEloChangesD3(_0x5d6a5d){const _0x1bc7fd=a31_0x1dc715,_0x3c444e=new Map();_0x5d6a5d[_0x1bc7fd(0x130)](_0x31ad13=>_0x3c444e[_0x1bc7fd(0xe1)](_0x31ad13,0x0));try{const _0x359f4d=new Map(),_0x5bea93=await getDocs(collection(db,_0x1bc7fd(0x157)));_0x5bea93[_0x1bc7fd(0x130)](_0x1bf293=>{const _0x52de4c=_0x1bc7fd,_0x2c16d2=_0x1bf293[_0x52de4c(0x133)]();_0x2c16d2[_0x52de4c(0x10e)]&&_0x359f4d[_0x52de4c(0xe1)](_0x1bf293['id'],_0x2c16d2[_0x52de4c(0x10e)]);});const _0x31e395=collection(db,_0x1bc7fd(0xed)),_0x536275=query(_0x31e395,orderBy(_0x1bc7fd(0x15b),_0x1bc7fd(0xd1)),limit(0x64)),_0x77f448=await getDocs(_0x536275),_0x53fc1a=new Map();_0x77f448[_0x1bc7fd(0x130)](_0x29fccc=>{const _0x47d22d=_0x1bc7fd,_0x3e5b28=_0x29fccc[_0x47d22d(0x133)]();let _0x384131=null;if(_0x3e5b28[_0x47d22d(0x10e)])_0x384131=_0x3e5b28[_0x47d22d(0x10e)];else{if(_0x3e5b28[_0x47d22d(0x135)])_0x384131=_0x3e5b28[_0x47d22d(0x135)];else{if(_0x3e5b28[_0x47d22d(0x12c)]&&typeof _0x3e5b28[_0x47d22d(0x12c)]===_0x47d22d(0xd9))_0x384131=_0x3e5b28[_0x47d22d(0x12c)];else{if(_0x3e5b28[_0x47d22d(0x12c)]&&_0x359f4d[_0x47d22d(0x120)](_0x3e5b28[_0x47d22d(0x12c)]))_0x384131=_0x359f4d[_0x47d22d(0xfd)](_0x3e5b28[_0x47d22d(0x12c)]);else _0x3e5b28[_0x47d22d(0x12f)]&&_0x359f4d[_0x47d22d(0x120)](_0x3e5b28[_0x47d22d(0x12f)])&&(_0x384131=_0x359f4d[_0x47d22d(0xfd)](_0x3e5b28[_0x47d22d(0x12f)]));}}}_0x384131&&_0x5d6a5d[_0x47d22d(0xf4)](_0x384131)&&(!_0x53fc1a[_0x47d22d(0x120)](_0x384131)&&_0x53fc1a[_0x47d22d(0xe1)](_0x384131,[]),_0x53fc1a[_0x47d22d(0xfd)](_0x384131)[_0x47d22d(0xff)]({..._0x3e5b28,'timestamp':_0x3e5b28[_0x47d22d(0x15b)]?.[_0x47d22d(0x123)]||0x0}));}),_0x53fc1a[_0x1bc7fd(0x130)]((_0x444be7,_0x517539)=>{const _0x57e39a=_0x1bc7fd;if(_0x444be7[_0x57e39a(0xfb)]>0x0){_0x444be7[_0x57e39a(0xf9)]((_0x35aa2d,_0xe345b1)=>_0xe345b1[_0x57e39a(0x15b)]-_0x35aa2d[_0x57e39a(0x15b)]);const _0x1396c3=_0x444be7[_0x57e39a(0x138)](_0x286724=>_0x286724[_0x57e39a(0xd4)]!==undefined||_0x286724[_0x57e39a(0x147)]!==undefined&&_0x286724[_0x57e39a(0x145)]!==undefined);if(_0x1396c3){let _0x345574;if(_0x1396c3[_0x57e39a(0xd4)]!==undefined)_0x345574=_0x1396c3[_0x57e39a(0xd4)];else _0x1396c3[_0x57e39a(0x147)]!==undefined&&_0x1396c3[_0x57e39a(0x145)]!==undefined&&(_0x345574=_0x1396c3[_0x57e39a(0x147)]-_0x1396c3[_0x57e39a(0x145)]);_0x345574!==undefined&&_0x3c444e[_0x57e39a(0xe1)](_0x517539,_0x345574);}}});if(_0x53fc1a[_0x1bc7fd(0xdb)]===0x0){const _0x123701=collection(db,_0x1bc7fd(0xf1)),_0x50b006=query(_0x123701,where(_0x1bc7fd(0xee),'==','D3'),orderBy(_0x1bc7fd(0x15b),_0x1bc7fd(0xd1)),limit(0x32));try{const _0x13af6a=await getDocs(_0x50b006);_0x13af6a[_0x1bc7fd(0x130)](_0x4465a3=>{const _0x2f3aec=_0x1bc7fd,_0x2f07a2=_0x4465a3[_0x2f3aec(0x133)]();let _0x34b912=_0x2f07a2[_0x2f3aec(0x10e)]||_0x2f07a2[_0x2f3aec(0x135)];!_0x34b912&&_0x2f07a2[_0x2f3aec(0x12c)]&&_0x359f4d[_0x2f3aec(0x120)](_0x2f07a2[_0x2f3aec(0x12c)])&&(_0x34b912=_0x359f4d[_0x2f3aec(0xfd)](_0x2f07a2[_0x2f3aec(0x12c)]));if(_0x34b912&&_0x5d6a5d[_0x2f3aec(0xf4)](_0x34b912)){const _0x552035=_0x2f07a2[_0x2f3aec(0xd4)]||(_0x2f07a2[_0x2f3aec(0x147)]!==undefined&&_0x2f07a2[_0x2f3aec(0x145)]!==undefined?_0x2f07a2[_0x2f3aec(0x147)]-_0x2f07a2[_0x2f3aec(0x145)]:0x0);_0x552035!==0x0&&_0x3c444e[_0x2f3aec(0xe1)](_0x34b912,_0x552035);}});}catch(_0x2a0210){console[_0x1bc7fd(0xf3)](_0x1bc7fd(0xeb),_0x2a0210);}}}catch(_0x1a528f){console[_0x1bc7fd(0xf3)](_0x1bc7fd(0x153),_0x1a528f);}return _0x3c444e;}window[a31_0x1dc715(0x14e)]=function(_0x314c00=!![]){const _0x2d9085=a31_0x1dc715;typeof displayLadderD3===_0x2d9085(0x159)?displayLadderD3(_0x314c00):console[_0x2d9085(0x116)](_0x2d9085(0x114));};export{displayLadderD3,updatePlayerPositions};