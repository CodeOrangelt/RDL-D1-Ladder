const a44_0x3371f5=a44_0x4925;(function(_0x1875ce,_0x2e1cbe){const _0x1efcc2=a44_0x4925,_0x17668b=_0x1875ce();while(!![]){try{const _0x488eaf=-parseInt(_0x1efcc2(0x166))/0x1+parseInt(_0x1efcc2(0x15b))/0x2*(-parseInt(_0x1efcc2(0x160))/0x3)+parseInt(_0x1efcc2(0x148))/0x4*(parseInt(_0x1efcc2(0x16e))/0x5)+-parseInt(_0x1efcc2(0x14e))/0x6+parseInt(_0x1efcc2(0x16d))/0x7*(-parseInt(_0x1efcc2(0x163))/0x8)+-parseInt(_0x1efcc2(0x143))/0x9+parseInt(_0x1efcc2(0x15c))/0xa*(parseInt(_0x1efcc2(0x153))/0xb);if(_0x488eaf===_0x2e1cbe)break;else _0x17668b['push'](_0x17668b['shift']());}catch(_0xb14b85){_0x17668b['push'](_0x17668b['shift']());}}}(a44_0x1876,0x65bf2));const a44_0x1bab54=(function(){let _0x42e6fb=!![];return function(_0x5bba98,_0x5f39c1){const _0x5868bd=_0x42e6fb?function(){const _0x2e060a=a44_0x4925;if(_0x5f39c1){const _0x20269e=_0x5f39c1[_0x2e060a(0x14c)](_0x5bba98,arguments);return _0x5f39c1=null,_0x20269e;}}:function(){};return _0x42e6fb=![],_0x5868bd;};}()),a44_0x3d2c0e=a44_0x1bab54(this,function(){const _0x10d451=a44_0x4925;return a44_0x3d2c0e[_0x10d451(0x16c)]()[_0x10d451(0x158)](_0x10d451(0x142))[_0x10d451(0x16c)]()['constructor'](a44_0x3d2c0e)[_0x10d451(0x158)](_0x10d451(0x142));});a44_0x3d2c0e();const a44_0x3313ce=(function(){let _0x258eda=!![];return function(_0x11c3c4,_0x30e4de){const _0x83437e=_0x258eda?function(){const _0x5bfc78=a44_0x4925;if(_0x30e4de){const _0x471be0=_0x30e4de[_0x5bfc78(0x14c)](_0x11c3c4,arguments);return _0x30e4de=null,_0x471be0;}}:function(){};return _0x258eda=![],_0x83437e;};}()),a44_0x28dcfa=a44_0x3313ce(this,function(){const _0x3c0f33=a44_0x4925,_0x106fb2=function(){const _0xe077f4=a44_0x4925;let _0x3ce7e9;try{_0x3ce7e9=Function(_0xe077f4(0x165)+_0xe077f4(0x157)+');')();}catch(_0x400945){_0x3ce7e9=window;}return _0x3ce7e9;},_0x32e9f0=_0x106fb2(),_0x3bfc41=_0x32e9f0[_0x3c0f33(0x141)]=_0x32e9f0[_0x3c0f33(0x141)]||{},_0x2d08e0=['log','warn','info',_0x3c0f33(0x15a),_0x3c0f33(0x159),_0x3c0f33(0x152),_0x3c0f33(0x149)];for(let _0x182fe3=0x0;_0x182fe3<_0x2d08e0[_0x3c0f33(0x155)];_0x182fe3++){const _0x5d32c4=a44_0x3313ce['constructor']['prototype'][_0x3c0f33(0x16a)](a44_0x3313ce),_0x424b08=_0x2d08e0[_0x182fe3],_0x32d947=_0x3bfc41[_0x424b08]||_0x5d32c4;_0x5d32c4[_0x3c0f33(0x14a)]=a44_0x3313ce['bind'](a44_0x3313ce),_0x5d32c4[_0x3c0f33(0x16c)]=_0x32d947[_0x3c0f33(0x16c)][_0x3c0f33(0x16a)](_0x32d947),_0x3bfc41[_0x424b08]=_0x5d32c4;}});a44_0x28dcfa();import{db}from'./firebase-config.js';import{collection,query,where,onSnapshot,updateDoc,doc}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const readyPlayersRef=collection(db,a44_0x3371f5(0x145)),activePlayersQuery=query(readyPlayersRef,where('isReady','==',!![]));function updateQueueDisplay(_0xa5c09d){const _0x557da2=a44_0x3371f5,_0x21178f=document[_0x557da2(0x16b)](_0x557da2(0x146));if(!_0x21178f)return;if(_0xa5c09d[_0x557da2(0x155)]===0x0){_0x21178f[_0x557da2(0x14d)][_0x557da2(0x147)]='none';return;}_0x21178f[_0x557da2(0x14d)][_0x557da2(0x147)]=_0x557da2(0x162);let _0x53c261=_0x557da2(0x168);_0xa5c09d[_0x557da2(0x144)](_0x3cd0f3=>{const _0x4ace47=_0x557da2;_0x53c261+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-card\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-name\x22>'+(_0x3cd0f3['username']||'Unknown\x20Player')+_0x4ace47(0x161)+formatQueueTime(_0x3cd0f3['lastUpdated'])+_0x4ace47(0x15e);}),_0x53c261+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x21178f['innerHTML']=_0x53c261;}function formatQueueTime(_0x44f60b){const _0x4aa764=a44_0x3371f5;if(!_0x44f60b)return _0x4aa764(0x164);const _0x3f9295=_0x44f60b[_0x4aa764(0x15f)]?_0x44f60b[_0x4aa764(0x15f)]():new Date(_0x44f60b),_0xabf21=new Date(),_0xacd970=Math[_0x4aa764(0x151)]((_0xabf21-_0x3f9295)/0xea60);if(_0xacd970<0x1)return'Just\x20now';return _0xacd970+_0x4aa764(0x150);}async function checkQueueTimeout(_0x4e8dcd){const _0x2384a6=a44_0x3371f5;if(!_0x4e8dcd[_0x2384a6(0x169)])return;const _0x145e6f=_0x4e8dcd[_0x2384a6(0x169)][_0x2384a6(0x15f)]?_0x4e8dcd[_0x2384a6(0x169)]['toDate']():new Date(_0x4e8dcd['lastUpdated']),_0x1e14ee=new Date(),_0x5b98ae=Math[_0x2384a6(0x151)]((_0x1e14ee-_0x145e6f)/0xea60);if(_0x5b98ae>=0x1e)try{const _0x326190=doc(db,_0x2384a6(0x145),_0x4e8dcd['id']);await updateDoc(_0x326190,{'isReady':![]});}catch(_0x424770){console[_0x2384a6(0x15a)](_0x2384a6(0x14f),_0x424770);}}function a44_0x4925(_0x43620c,_0x5b4a17){const _0xaf5b20=a44_0x1876();return a44_0x4925=function(_0x28dcfa,_0x3313ce){_0x28dcfa=_0x28dcfa-0x141;let _0x423a66=_0xaf5b20[_0x28dcfa];return _0x423a66;},a44_0x4925(_0x43620c,_0x5b4a17);}const unsubscribe=onSnapshot(readyPlayersRef,_0x4da1eb=>{const _0x21438a=a44_0x3371f5,_0x1ea3d7=[];_0x4da1eb[_0x21438a(0x144)](_0xa005fd=>{const _0x23944a=_0x21438a,_0x34ec5e=_0xa005fd[_0x23944a(0x15d)]();if(_0x34ec5e['isReady']===!![]){const _0x1ed990={'id':_0xa005fd['id'],'username':_0x34ec5e['username'],'lastUpdated':_0x34ec5e['lastUpdated']||new Date()};_0x1ea3d7[_0x23944a(0x167)](_0x1ed990),checkQueueTimeout(_0x1ed990);}}),updateQueueDisplay(_0x1ea3d7);},_0x2a0ccd=>{const _0x162f10=a44_0x3371f5;console['error'](_0x162f10(0x154),_0x2a0ccd);});window[a44_0x3371f5(0x156)](a44_0x3371f5(0x14b),()=>{unsubscribe();});function a44_0x1876(){const _0x2c32f0=['getElementById','toString','2852752keQQLW','12595cqsbhV','console','(((.+)+)+)+$','3718566YTbcFV','forEach','readyPlayers','queue-container','display','976vixCQb','trace','__proto__','unload','apply','style','2736558hRQWKP','Error\x20removing\x20player\x20from\x20queue:','m\x20in\x20queue','floor','table','127523aGenGs','Error\x20in\x20queue\x20listener:','length','addEventListener','{}.constructor(\x22return\x20this\x22)(\x20)','search','exception','error','499518OXXnrp','1990NZyAcH','data','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','toDate','3AeaCGf','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22queue-time\x22>','block','16ejRQzC','Just\x20now','return\x20(function()\x20','570791tPCeVy','push','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22queue-box\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>Waiting\x20for\x20a\x20game</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22queue-list\x22>\x0a\x20\x20\x20\x20','lastUpdated','bind'];a44_0x1876=function(){return _0x2c32f0;};return a44_0x1876();}