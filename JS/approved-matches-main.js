const a6Y=a6b;(function(a,b){const X=a6b,c=a();while(!![]){try{const d=parseInt(X(0x1ef))/0x1*(-parseInt(X(0x1b7))/0x2)+-parseInt(X(0x26c))/0x3+-parseInt(X(0x1dc))/0x4+-parseInt(X(0x24d))/0x5+parseInt(X(0x1b4))/0x6+-parseInt(X(0x1af))/0x7+parseInt(X(0x1ee))/0x8;if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a6a,0xb7fed));import{collection,getDocs,addDoc,query,orderBy,limit,startAfter,Timestamp,serverTimestamp,getDoc,doc,where,deleteDoc}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const mutedUsers=[{'username':a6Y(0x1d7),'muteFromDate':new Date('2025-07-02')[a6Y(0x20a)]()}];function isUsernameMuted(a,b){const Z=a6Y;if(!a)return![];const c=mutedUsers[Z(0x214)](e=>e['username']===a);if(!c)return![];if(!b)return!![];const d=b instanceof Date?b[Z(0x20a)]():b[Z(0x205)]?b['seconds']*0x3e8:Date['now']();return d>=c[Z(0x1fc)];}function filterComment(a,b,c){const a0=a6Y;if(!a)return'-';if(isUsernameMuted(b,c))return a0(0x220);return a;}const previewState={'currentMode':'D1','currentPage':0x1,'matchesPerPage':0x5,'lastVisible':null,'firstVisible':null,'isLoading':![],'filterUsername':'','enhancedFilters':{'pilots':'','levels':'','subgames':[]},'totalPages':0x1,'hasReachedEnd':![]};function getCacheKey(a,b,c){const a1=a6Y,d='u:'+(c[a1(0x1c3)]||'');return'previewCache_'+a+'_p'+b+'_'+d;}function getCachedPage(a){const a2=a6Y,b=sessionStorage[a2(0x24b)](a);if(b)try{return JSON[a2(0x1d2)](b);}catch(c){return console[a2(0x262)](a2(0x280),c),sessionStorage['removeItem'](a),null;}return null;}function cachePage(a,b){const a3=a6Y;try{sessionStorage['setItem'](a,JSON[a3(0x23f)](b));}catch(c){console['error']('Failed\x20to\x20cache\x20data:',c);}}function getEloColor(a){const a4=a6Y,b=Number(a);if(b>=0x7d0)return'#50C878';else{if(b>=0x708)return a4(0x219);else{if(b>=0x640)return'#b9f1fc';else{if(b>=0x578)return a4(0x1e4);else return'#808080';}}}}function formatDate(a,b=![]){const a5=a6Y;if(!a||!a['seconds'])return'N/A';const c=new Date(a[a5(0x205)]*0x3e8);return b?c[a5(0x1fb)]():c[a5(0x1f3)]();}function truncateComment(a,b=0x1e){const a6=a6Y;if(!a)return'-';if(a[a6(0x21b)]<=b)return a;return a['substring'](0x0,b)+a6(0x28a);}function formatCommentDate(a){const a7=a6Y;if(!a||!a['seconds'])return'';const b=new Date(a['seconds']*0x3e8),c=new Date(),d=Math[a7(0x1c4)](c-b),e=Math['floor'](d/(0x3e8*0x3c*0x3c*0x18));if(e===0x0)return a7(0x1ff);else{if(e===0x1)return a7(0x231);else return e<0x7?e+a7(0x275):b['toLocaleDateString']();}}function setLoadingIndicator(a){const a8=a6Y,b=document[a8(0x269)]('loading-indicator');if(b)b['style']['display']=a?a8(0x223):a8(0x26f);}export function updatePreviewLadderModeUI(){const a9=a6Y,a=document['getElementById']('preview-ladder-mode'),b=document[a9(0x269)]('preview-d1-button'),c=document['getElementById']('preview-d2-button'),d=document[a9(0x269)]('preview-d3-button');if(a)a['textContent']=previewState['currentMode'];if(b)b[a9(0x1be)]['toggle']('active',previewState[a9(0x230)]==='D1');if(c)c[a9(0x1be)][a9(0x1e3)]('active',previewState[a9(0x230)]==='D2');if(d)d[a9(0x1be)]['toggle'](a9(0x289),previewState['currentMode']==='D3');}function updatePreviewPaginationControls(a){const aa=a6Y,b=document['getElementById'](aa(0x258)),c=document[aa(0x269)](aa(0x246)),d=document['getElementById'](aa(0x216));if(!b||!c||!d)return;d['textContent']=aa(0x298)+previewState['currentPage'],b[aa(0x1f8)]=previewState[aa(0x22a)]<=0x1,c[aa(0x1f8)]=!a;}function setPreviewLoadingState(a){const ab=a6Y;previewState['isLoading']=a,setLoadingIndicator(a);const b=document[ab(0x269)](ab(0x200)),c=b?b[ab(0x1ed)](ab(0x1f9)):null,d=document[ab(0x269)](ab(0x258)),e=document[ab(0x269)](ab(0x246)),f=document['getElementById']('preview-d1-button'),g=document[ab(0x269)]('preview-d2-button'),h=document[ab(0x269)]('applyFilterBtn'),i=document['getElementById']('clearFilterBtn');if(c&&!a)c[ab(0x25b)][ab(0x209)]=ab(0x26f);else c&&a&&(c[ab(0x25b)][ab(0x209)]='block');!a&&b&&!b['querySelector']('.match-card')&&!b['querySelector'](ab(0x210))&&(b['innerHTML']=ab(0x1cd)+(previewState['filterUsername']?'\x20matching\x20filters':'')+'.</div>');if(d)d[ab(0x1f8)]=a||previewState['currentPage']<=0x1;if(e)e[ab(0x1f8)]=a;if(f)f[ab(0x1f8)]=a;if(g)g[ab(0x1f8)]=a;if(h)h['disabled']=a;if(i)i['disabled']=a;}function applyClientFilters(a){const ac=a6Y;if(!previewState[ac(0x1c3)])return a;const b=previewState['filterUsername']['toLowerCase']();return a[ac(0x290)](c=>{const ad=ac,d=(c['winnerUsername']||'')['toLowerCase'](),e=(c['loserUsername']||'')['toLowerCase']();return d[ad(0x227)](b)||e['includes'](b);});}function applyEnhancedClientFilters(a){const ae=a6Y;if(!hasEnhancedFilters())return a;return a[ae(0x290)](b=>{const af=ae;if(previewState[af(0x23c)]['pilots']){const c=previewState[af(0x23c)]['pilots']['toLowerCase'](),d=(b['winnerUsername']||'')[af(0x25a)](),e=(b[af(0x21a)]||'')[af(0x25a)]();if(!d[af(0x227)](c)&&!e[af(0x227)](c))return![];}if(previewState['enhancedFilters'][af(0x206)]){const f=previewState['enhancedFilters'][af(0x206)]['toLowerCase'](),g=(b[af(0x25d)]||'')['toLowerCase']();if(!g['includes'](f))return![];}if(previewState[af(0x23c)]['subgames']['length']>0x0){const h=b['subgameType']||'Standard\x20Match';if(!previewState['enhancedFilters']['subgames']['includes'](h))return![];}return!![];});}function hasEnhancedFilters(){const ag=a6Y;return previewState[ag(0x23c)]['pilots']||previewState[ag(0x23c)][ag(0x206)]||previewState['enhancedFilters']['subgames'][ag(0x21b)]>0x0;}function a6b(a,b){const c=a6a();return a6b=function(d,e){d=d-0x1a8;let f=c[d];if(a6b['pDPHTS']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a6b['AMxfXn']=g,a=arguments,a6b['pDPHTS']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a6b['AMxfXn'](f),a[i]=f):f=j,f;},a6b(a,b);}function clearEnhancedFilters(){const ah=a6Y;previewState[ah(0x23c)]={'pilots':'','levels':'','subgames':[]},document['getElementById'](ah(0x1d6))['value']='',document[ah(0x269)]('filter-levels')['value']='';const a=document['getElementById'](ah(0x27c));for(let b of a[ah(0x1ca)]){b[ah(0x202)]=![];}}function jumpToPage(a){const ai=a6Y,b=document[ai(0x269)]('jump-to-page'),c=previewState[ai(0x22a)];let d=c;switch(a){case'start':d=0x1;break;case'end':d=Math[ai(0x261)](c+0xa,previewState[ai(0x25e)]||c+0xa);break;case'+1':d=c+0x1;break;case'+5':d=c+0x5;break;case ai(0x1c9):d=c+0xa;break;case'-1':d=Math['max'](0x1,c-0x1);break;case'-5':d=Math['max'](0x1,c-0x5);break;case ai(0x240):d=Math['max'](0x1,c-0xa);break;case ai(0x1e7):const e=parseInt(b['value']);e&&e>0x0&&(d=e,b[ai(0x245)]='');break;}d!==c&&d>0x0&&(previewState['currentPage']=d,loadRecentMatchesPreview('jump'));}export async function loadRecentMatchesPreview(a='current'){const aj=a6Y,b=document[aj(0x269)]('recent-matches-preview'),c=document['getElementById'](aj(0x274));if(previewState['isLoading']||!b||!c)return;a===aj(0x1f4)&&(console['log']('Clearing\x20cache\x20for\x20refresh/reset'),Object[aj(0x226)](sessionStorage)[aj(0x1fd)](k=>{const ak=aj;k[ak(0x227)]('previewCache_'+previewState['currentMode'])&&sessionStorage['removeItem'](k);}));let d=previewState[aj(0x22a)];if(a==='next')d++;else{if(a===aj(0x1c6))d--;else a===aj(0x1f4)&&(d=0x1,previewState['firstVisible']=null,previewState['lastVisible']=null);}if(d<0x1)d=0x1;const e=previewState['currentPage'];previewState['currentPage']=d,updatePreviewPaginationControls(!![]);const f={'filterUsername':previewState[aj(0x1c3)]},g=getCacheKey(previewState['currentMode'],d,f),h=a!==aj(0x1f4)?getCachedPage(g):null;if(h){console['log'](aj(0x253)+d+'\x20from\x20cache'),setPreviewLoadingState(!![]),renderMatchCards(h['docsData']),updatePreviewPaginationControls(h['hasNextPage']),setPreviewLoadingState(![]);return;}console['log'](aj(0x1f5)+d+',\x20fetching\x20from\x20Firestore'),setPreviewLoadingState(!![]),b[aj(0x23e)]='<div\x20class=\x22matches-loading\x22>Loading\x20recent\x20matches...</div>';const i=previewState[aj(0x230)]==='D1'?aj(0x251):previewState['currentMode']==='D2'?aj(0x1b9):aj(0x242),j=previewState[aj(0x230)]==='D1'?aj(0x296):aj(0x1b5);try{const k=collection(window['db'],i);let l=[orderBy(j,'desc')];if(d===0x1)console[aj(0x28f)]('Loading\x20first\x20page\x20from\x20Firestore'),l['push'](limit(previewState[aj(0x211)]));else{if(a===aj(0x285)&&previewState['lastVisible'])console['log']('Loading\x20next\x20page\x20using\x20cursor'),l[aj(0x20b)](startAfter(previewState['lastVisible'])),l[aj(0x20b)](limit(previewState['matchesPerPage']));else{console['log']('No\x20valid\x20cursor,\x20fetching\x20from\x20beginning\x20and\x20skipping\x20pages');const v=d*previewState['matchesPerPage'];l['push'](limit(v));}}const m=query(k,...l),n=await getDocs(m);let o=n[aj(0x26e)];if(d>0x1&&a!=='next'){const w=(d-0x1)*previewState[aj(0x211)];o=o['slice'](w,w+previewState[aj(0x211)]);}if(o['length']===0x0){console[aj(0x28f)]('No\x20results\x20found\x20for\x20this\x20page');a==='next'&&(previewState[aj(0x22a)]=e,updatePreviewPaginationControls(![]));b[aj(0x23e)]='<div\x20class=\x22matches-loading\x22>No\x20more\x20matches\x20to\x20display'+(previewState[aj(0x1c3)]?'\x20matching\x20filters':'')+aj(0x1e8),setPreviewLoadingState(![]);return;}previewState['firstVisible']=o[0x0],previewState['lastVisible']=o[o[aj(0x21b)]-0x1];const r=o['map'](x=>({'id':x['id'],...x[aj(0x22f)]()}));let s=![];if(o['length']===previewState[aj(0x211)]){const x=query(k,orderBy(j,'desc'),startAfter(previewState['lastVisible']),limit(0x1)),y=await getDocs(x);s=!y[aj(0x1f6)];}const t=applyClientFilters(r),u={'docsData':r,'hasNextPage':s};cachePage(getCacheKey(previewState['currentMode'],previewState[aj(0x22a)],f),u);if(d>0x1&&a!==aj(0x285))for(let z=0x1;z<d;z++){const A=(z-0x1)*previewState[aj(0x211)],B=A+previewState[aj(0x211)],C=n['docs']['slice'](A,B);if(C[aj(0x21b)]>0x0){const D=C['map'](F=>({'id':F['id'],...F['data']()})),E=!![];cachePage(getCacheKey(previewState['currentMode'],z,f),{'docsData':D,'hasNextPage':E}),console[aj(0x28f)]('Cached\x20intermediary\x20page\x20'+z);}}t['length']===0x0&&previewState[aj(0x1c3)]?b[aj(0x23e)]='<div\x20class=\x22matches-loading\x22>No\x20matches\x20found\x20matching\x20filter:\x20\x22'+previewState['filterUsername']+aj(0x1b6):renderMatchCards(t),updatePreviewPaginationControls(s);}catch(F){console[aj(0x262)](aj(0x239)+previewState[aj(0x230)]+'\x20matches:',F),b[aj(0x23e)]=aj(0x1d8)+F['message']+'</div>',updatePreviewPaginationControls(![]),previewState[aj(0x22a)]=e;}finally{setPreviewLoadingState(![]);}}async function renderMatchCards(a){const al=a6Y,b=document['getElementById'](al(0x200)),c=document['getElementById']('match-card-template');if(!b||!c)return;!b[al(0x1ed)](al(0x210))&&(b[al(0x23e)]='');if(!a||a[al(0x21b)]===0x0){if(!b['querySelector'](al(0x210))){const h=hasEnhancedFilters()?'\x20matching\x20filters':previewState[al(0x1c3)]?'\x20matching\x20filters':'';b[al(0x23e)]=al(0x1cd)+h+'.</div>';}return;}const d=applyEnhancedClientFilters(a);if(d['length']===0x0){b['innerHTML']=al(0x1b1);return;}const e=d['map'](i=>getAllCommentsForMatch(i['id']));let f=[];try{f=await Promise['all'](e);}catch(i){console[al(0x262)]('Error\x20fetching\x20comments\x20batch:',i),f=d['map'](()=>[]);}const g={};f[al(0x1fd)]((j,k)=>{g[d[k]['id']]=j||[];}),d[al(0x1fd)](j=>{const am=al,k=c[am(0x218)][am(0x1fa)](!![]),l=k[am(0x1ed)](am(0x278)),m=k[am(0x1ed)](am(0x1f0)),n=getEloRankClass(j[am(0x1dd)]);m[am(0x1be)]['add'](am(0x271)+n),m[am(0x1ed)](am(0x1c8))[am(0x207)]=j[am(0x25d)]||am(0x21c),m['querySelector'](am(0x21e))['textContent']=formatDate(j['approvedAt']||j['createdAt']);const o=m['querySelector'](am(0x25c));o[am(0x207)]=j[am(0x1c0)]||am(0x284),o['style'][am(0x1f2)]=getEloColor(j[am(0x1dd)]),m['querySelector'](am(0x1d3))['textContent']=j[am(0x24a)]??0x0;const p=m['querySelector']('.player.winner\x20.player-suicides'),q=j[am(0x25f)]||0x0;p['textContent']=am(0x228)+q;const r=m['querySelector'](am(0x28d));r[am(0x207)]=j['loserUsername']||am(0x284),r[am(0x25b)]['color']=getEloColor(j[am(0x1f1)]),m['querySelector']('.player.loser\x20.player-score')['textContent']=j['loserScore']??0x0;const s=m['querySelector']('.player.loser\x20.player-suicides'),t=j[am(0x1cb)]||0x0;s[am(0x207)]='S:\x20'+t;const u=m['querySelector']('.match-subgame');if(u){if(j['subgameType']&&j['subgameType']['trim']()!==''){u['textContent']=j[am(0x241)],u['style'][am(0x209)]='block';const E=getSubgameClass(j[am(0x241)]);E&&u['classList'][am(0x24c)](E);}else u['textContent']='Standard\x20Match',u['style']['display']='block',u['style'][am(0x260)]='0.6';}const v=m[am(0x1ed)]('.comment.winner-comment'),w=m['querySelector']('.comment.loser-comment'),x=j[am(0x1ac)]||'',y=j['loserComment']||'',z=j[am(0x1b5)]||j['createdAt'],A=filterComment(x,j[am(0x1c0)],z),B=filterComment(y,j['loserUsername'],z);v[am(0x207)]='\x22'+truncateComment(x)+'\x22',w[am(0x207)]='\x22'+truncateComment(y)+'\x22';x&&!isUsernameMuted(j['winnerUsername'],z)?v['onclick']=()=>showPreviewCommentPopup(A,j[am(0x1c0)]||'Winner',getEloColor(j['winnerOldElo'])):(v[am(0x207)]=A===am(0x220)?'Muted.':'-',v[am(0x25b)]['cursor']='default',v['onclick']=null);y&&!isUsernameMuted(j['loserUsername'])?w['onclick']=()=>showPreviewCommentPopup(B,j[am(0x21a)]||'Loser',getEloColor(j['loserOldElo'])):(w['textContent']=B==='Muted.'?'Muted.':'-',w['style']['cursor']='default',w[am(0x1ba)]=null);const C=l?.[am(0x1ed)](am(0x1e5));if(!C)console['warn']('Comments\x20section\x20not\x20found\x20in\x20template');else{const F=C[am(0x1ed)]('.comments-container'),G=F?.['querySelector'](am(0x23b)),H=C[am(0x1ed)]('.add-comment-btn');if(F){while(F[am(0x1c7)]&&F['firstChild']!==G){F[am(0x28e)](F['firstChild']);}H&&H['addEventListener']('click',()=>{showAddCommentPopup(j['id']);});const I=g[j['id']]||[];if(I['length']>0x0){if(G)G[am(0x25b)][am(0x209)]=am(0x26f);const J=(K,L)=>{const an=am,M=K['split']('\x20');if(M[an(0x21b)]<=L)return K;return M['slice'](0x0,L)['join']('\x20')+'...';};I[am(0x1fd)](K=>{const ao=am,L=document[ao(0x221)]('div');if(K[ao(0x236)]===ao(0x1b2)){L[ao(0x204)]='demo-link',L[ao(0x23e)]=ao(0x1d4)+K[ao(0x287)]+'\x22\x20target=\x22_blank\x22\x20class=\x22play-icon\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<svg\x20viewBox=\x220\x200\x2024\x2024\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<path\x20d=\x22M8,5.14V19.14L19,12.14L8,5.14Z\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</svg>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22demo-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22demo-author\x22>Demo\x20from\x20'+K[ao(0x237)]+ao(0x293)+(K['description']||'No\x20description\x20provided')+ao(0x1d0);const M=window['auth']['currentUser'],N=M&&K['userId']===M[ao(0x1d5)];if(N){const O=document[ao(0x221)]('button');O['className']='delete-comment-btn',O[ao(0x23e)]='×',O['setAttribute']('aria-label','Delete\x20demo'),O['addEventListener'](ao(0x215),P=>{P['preventDefault'](),P['stopPropagation'](),deleteComment(K['id'],L);}),L['appendChild'](O);}}else{L[ao(0x204)]=ao(0x270);const P=isUsernameMuted(K[ao(0x237)],K[ao(0x1a8)]),Q=P?ao(0x220):J(K[ao(0x288)]||'',0xf),R=K[ao(0x237)]||'Anonymous',S=window[ao(0x1b0)]['currentUser'],T=S&&K[ao(0x249)]===S['uid'];let U='';T&&(U=ao(0x243));L['innerHTML']=U+ao(0x1eb)+R+':</strong>\x20\x22'+Q+'\x22';if(T){const V=L[ao(0x1ed)](ao(0x264));V&&V['addEventListener']('click',W=>{const ap=ao;W[ap(0x1de)](),deleteComment(K['id'],L);});}!P?L['addEventListener']('click',()=>{showFullCommentLightbox(K);}):L[ao(0x25b)][ao(0x26b)]=ao(0x292);}F['insertBefore'](L,F[ao(0x1c7)]);});}else{if(G)G[am(0x25b)]['display']=am(0x223);}}}const D=m['querySelector']('.match-demo-links');if(D){const K=m['querySelector']('.winner-demo-link'),L=m[am(0x1ed)](am(0x27f)),M=j[am(0x1ce)]||null,N=j['loserDemoLink']||j[am(0x287)]||null;console[am(0x28f)](am(0x224)+j['id']+'\x20demo\x20links:',{'winner':M,'loser':N}),K&&(M?(K[am(0x297)]=M,K['style']['display']=am(0x1c1),K['title']=j['winnerUsername']+am(0x1e2)):K['style'][am(0x209)]=am(0x26f)),L&&(N?(L['href']=N,L['style']['display']=am(0x1c1),L[am(0x1b8)]=j[am(0x21a)]+am(0x1e2)):L['style'][am(0x209)]=am(0x26f)),M&&K||N&&L?D['style']['display']='flex':D[am(0x25b)]['display']=am(0x26f);}b[am(0x1e0)](k);});}function getSubgameClass(a){const aq=a6Y,b={'Fusion\x20Match':aq(0x247),'≥6\x20Missiles':'missiles-6plus','≥6\x20missiles':aq(0x22b),'Weapon\x20Imbalance':aq(0x265),'Blind\x20Match':'blind-match','Rematch':aq(0x1db),'Disorientation':'disorientation','Ratting':'ratting','Altered\x20Powerups':'altered-powerups','Mega\x20Match':aq(0x1fe),'Dogfight':'dogfight','Gauss\x20and\x20Mercs':'gauss-and-mercs'};return b[a]||'';}async function deleteComment(a,b){const ar=a6Y,c=window['auth'][ar(0x233)];if(!c){alert(ar(0x225));return;}if(!confirm(ar(0x281)))return;try{const d=doc(window['db'],ar(0x1ad),a),e=await getDoc(d);if(!e['exists']()){alert('Comment\x20not\x20found.\x20It\x20may\x20have\x20already\x20been\x20deleted.');return;}const f=e[ar(0x22f)]();if(f[ar(0x249)]!==c[ar(0x1d5)]){alert(ar(0x255));return;}await deleteDoc(d);if(b&&b['parentNode']){b['parentNode'][ar(0x28e)](b);const g=b[ar(0x1c5)](ar(0x1a9));if(g&&!g['querySelector']('.comment-item')){const h=g[ar(0x1ed)](ar(0x23b));if(h)h['style'][ar(0x209)]='block';}}console['log']('Comment\x20deleted\x20successfully');}catch(i){console['error']('Error\x20deleting\x20comment:',i),alert('Failed\x20to\x20delete\x20comment:\x20'+i['message']);}}async function getAllCommentsForMatch(a){const as=a6Y;if(!a)return[];try{const b=collection(window['db'],as(0x1ad)),c=query(b,where('matchId','==',a),orderBy('timestamp',as(0x277))),d=await getDocs(c);if(d[as(0x1f6)])return[];return d['docs']['map'](e=>({'id':e['id'],...e[as(0x22f)]()}));}catch(e){return console['error']('Error\x20fetching\x20comments:',e),[];}}async function submitComment(a){const at=a6Y;a[at(0x24f)]();if(!window[at(0x1b0)]||!window['db']){console[at(0x262)]('Firebase\x20not\x20initialized'),alert('Unable\x20to\x20submit\x20comment\x20-\x20system\x20not\x20ready');return;}const b=window['auth']['currentUser'];if(!b){alert(at(0x1e1));return;}const c=document['getElementById'](at(0x1ea))?.[at(0x245)],d=document[at(0x269)]('commentText')?.['value']?.[at(0x1bf)]();if(!c||!d){alert('Please\x20enter\x20a\x20comment\x20before\x20submitting');return;}const e=d['split'](/\s+/)['filter'](g=>g['length']>0x0)['length'];if(e>0xf){alert('Comments\x20are\x20limited\x20to\x2015\x20words\x20maximum.\x20Please\x20shorten\x20your\x20comment.');return;}const f=document['querySelector']('.submit-comment-btn');f&&(f['disabled']=!![],f[at(0x207)]=at(0x212));try{let g='Anonymous';try{const j=doc(window['db'],'userProfiles',b['uid']),k=await getDoc(j);if(k['exists']()){const l=k[at(0x22f)]();l[at(0x237)]&&(g=l[at(0x237)]);}g===at(0x259)&&b[at(0x1ab)]&&(g=b[at(0x1ab)]);}catch(m){console[at(0x268)](at(0x282),m),b['displayName']&&(g=b['displayName']);}const h={'matchId':c,'userId':b['uid'],'username':g,'text':d,'timestamp':serverTimestamp()};console['log'](at(0x238),g);const i=collection(window['db'],'matchComments');await addDoc(i,h),console['log']('Comment\x20added\x20successfully'),closeAddCommentPopup(),loadRecentMatchesPreview('current');}catch(n){console[at(0x262)]('Error\x20submitting\x20comment:',n),alert('Failed\x20to\x20add\x20comment:\x20'+n[at(0x20d)]),f&&(f[at(0x1f8)]=![],f['textContent']='Submit');}}function closeAddCommentPopup(){const au=a6Y,a=document[au(0x269)]('commentAddPopup'),b=document['getElementById']('commentAddOverlay');if(a)a['style']['display']='none';if(b)b['style'][au(0x209)]=au(0x26f);}function showAddCommentPopup(a){const av=a6Y,b=window[av(0x1b0)]['currentUser'];if(!b){alert(av(0x1cf));return;}let c=document['getElementById'](av(0x1bd)),d=document[av(0x269)](av(0x1aa));!c&&(c=document['createElement'](av(0x250)),c['id']='commentAddPopup',c[av(0x204)]='comment-popup',document['body']['appendChild'](c));!d&&(d=document['createElement'](av(0x250)),d['id']=av(0x1aa),d['className']=av(0x20f),document['body']['appendChild'](d));c[av(0x23e)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22popup-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Add\x20Comment\x20or\x20Demo</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22closeAddCommentPopup\x22\x20class=\x22close-btn\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22addCommentForm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22commentMatchId\x22\x20name=\x22commentMatchId\x22\x20value=\x22'+a+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-tabs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22option-tab\x20active\x22\x20data-option=\x22comment\x22>Add\x20Comment</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22option-divider\x22>OR</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22option-tab\x22\x20data-option=\x22demo\x22>Share\x20Demo\x20Link</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-content\x22\x20id=\x22commentOption\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22commentText\x22>Your\x20comment\x20(15\x20words\x20max):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22commentText\x22\x20name=\x22commentText\x22\x20rows=\x223\x22\x20placeholder=\x22Share\x20your\x20thoughts...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22word-counter\x22><span\x20id=\x22wordCount\x22>0</span>/15\x20words</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-content\x22\x20id=\x22demoOption\x22\x20style=\x22display:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22demoLink\x22>Demo\x20Link:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22url\x22\x20id=\x22demoLink\x22\x20name=\x22demoLink\x22\x20placeholder=\x22https://...\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22demoDescription\x22>Description\x20(20\x20words\x20max):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22demoDescription\x22\x20name=\x22demoDescription\x22\x20rows=\x222\x22\x20placeholder=\x22Describe\x20your\x20demo...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22word-counter\x22><span\x20id=\x22demoWordCount\x22>0</span>/20\x20words</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22submit\x22\x20class=\x22submit-comment-btn\x22>Submit</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</form>\x0a\x20\x20\x20\x20',c['style']['display']='block',d[av(0x25b)]['display']='block',document[av(0x269)](av(0x286))[av(0x22d)](av(0x215),closeAddCommentPopup),d[av(0x22d)]('click',closeAddCommentPopup);const e=c[av(0x22e)]('.option-tab');e[av(0x1fd)](f=>{f['addEventListener']('click',function(){const aw=a6b;e['forEach'](h=>h['classList']['remove'](aw(0x289))),document['querySelectorAll']('.option-content')[aw(0x1fd)](h=>h['style']['display']='none'),this['classList'][aw(0x24c)](aw(0x289));const g=this['dataset']['option'];document['getElementById'](g+'Option')[aw(0x25b)]['display']='block',g===aw(0x1b2)?(document[aw(0x269)]('demoLink')['setAttribute'](aw(0x295),''),document['getElementById']('commentText')['removeAttribute']('required')):(document['getElementById']('demoLink')[aw(0x26a)](aw(0x295)),document[aw(0x269)]('commentText')[aw(0x1ec)]('required',''));});}),document[av(0x269)]('commentText')['setAttribute'](av(0x295),''),document[av(0x269)]('demoLink')[av(0x26a)]('required'),setupWordCounter('commentText','wordCount',0xf),setupWordCounter(av(0x203),'demoWordCount',0x14),document['getElementById']('addCommentForm')[av(0x22d)]('submit',submitCommentOrDemo);}function setupWordCounter(a,b,c){const ax=a6Y,d=document[ax(0x269)](a),e=document[ax(0x269)](b);if(!d||!e)return;f(),d['addEventListener']('input',f);function f(){const ay=ax,g=d[ay(0x245)][ay(0x1bf)](),h=g?g[ay(0x244)](/\s+/)[ay(0x290)](i=>i[ay(0x21b)]>0x0)['length']:0x0;e['textContent']=h,h>c?e[ay(0x25b)]['color']=ay(0x235):e[ay(0x25b)][ay(0x1f2)]='#aaa';}}async function submitCommentOrDemo(a){const az=a6Y;a[az(0x24f)]();if(!window[az(0x1b0)]||!window['db']){console['error'](az(0x21d)),alert('Unable\x20to\x20submit\x20-\x20system\x20not\x20ready');return;}const b=window['auth'][az(0x233)];if(!b){alert('You\x20must\x20be\x20signed\x20in\x20to\x20continue');return;}const c=document['getElementById']('commentMatchId')['value'],d=document['querySelector'](az(0x24e))['dataset']['option'];let f='Anonymous';try{const h=doc(window['db'],'userProfiles',b[az(0x1d5)]),i=await getDoc(h);if(i['exists']()){const j=i[az(0x22f)]();j['username']&&(f=j[az(0x237)]);}f==='Anonymous'&&b[az(0x1ab)]&&(f=b[az(0x1ab)]);}catch(k){console['warn'](az(0x27b),k),b['displayName']&&(f=b['displayName']);}const g=document[az(0x1ed)](az(0x22c));g&&(g['disabled']=!![],g['textContent']=az(0x212));try{if(d==='comment'){const l=document['getElementById'](az(0x1b3))[az(0x245)]['trim']();if(!l){alert('Please\x20enter\x20a\x20comment\x20before\x20submitting'),g[az(0x1f8)]=![],g['textContent']='Submit';return;}const m=l['split'](/\s+/)[az(0x290)](p=>p['length']>0x0)[az(0x21b)];if(m>0xf){alert(az(0x1df)),g['disabled']=![],g['textContent']=az(0x276);return;}const n={'matchId':c,'userId':b['uid'],'username':f,'text':l,'type':az(0x20e),'timestamp':serverTimestamp()},o=collection(window['db'],az(0x1ad));await addDoc(o,n);}else{const p=document[az(0x269)]('demoLink')['value'][az(0x1bf)](),q=document[az(0x269)]('demoDescription')['value'][az(0x1bf)]()||'Demo\x20link';if(!p){alert(az(0x222)),g[az(0x1f8)]=![],g[az(0x207)]=az(0x276);return;}try{new URL(p);}catch(u){alert('Please\x20enter\x20a\x20valid\x20URL\x20for\x20the\x20demo\x20link'),g['disabled']=![],g['textContent']='Submit';return;}const r=q['split'](/\s+/)[az(0x290)](v=>v['length']>0x0)['length'];if(r>0x14){alert('Demo\x20descriptions\x20are\x20limited\x20to\x2020\x20words\x20maximum.\x20Please\x20shorten\x20your\x20description.'),g[az(0x1f8)]=![],g['textContent']='Submit';return;}const s={'matchId':c,'userId':b[az(0x1d5)],'username':f,'demoLink':p,'description':q,'type':'demo','text':'Demo:\x20'+q,'timestamp':serverTimestamp()},t=collection(window['db'],'matchComments');await addDoc(t,s);}closeAddCommentPopup(),loadRecentMatchesPreview('current');}catch(v){console['error'](az(0x263),v),alert(az(0x1e6)+v[az(0x20d)]),g&&(g['disabled']=![],g['textContent']=az(0x276));}}function getEloRankClass(a){const aA=a6Y,b=Number(a);if(b>=0x7d0)return aA(0x213);else{if(b>=0x708)return'gold';else{if(b>=0x640)return'silver';else{if(b>=0x578)return'bronze';else return aA(0x27d);}}}}function showPreviewCommentPopup(a,b,c=a6Y(0x252)){const aB=a6Y,d=document[aB(0x269)](aB(0x234)),e=document['getElementById'](aB(0x28c)),f=document[aB(0x269)](aB(0x273)),g=document['getElementById']('commentPopupContentPreview'),h=document[aB(0x269)]('reportCommentButton');if(!d||!e||!f||!g||!h)return;d[aB(0x1e9)]['commentText']=a,d[aB(0x1e9)]['commentUser']=b,f[aB(0x25b)]['color']=c,f[aB(0x207)]='Comment\x20from\x20'+b,g['textContent']=a,h[aB(0x1ba)]=reportComment,d[aB(0x25b)][aB(0x209)]='block',e['style'][aB(0x209)]='block';}function closePreviewCommentPopup(){const aC=a6Y,a=document['getElementById']('commentPopupPreview'),b=document['getElementById']('commentOverlayPreview');if(a)a[aC(0x25b)][aC(0x209)]=aC(0x26f);if(b)b[aC(0x25b)]['display']='none';}async function reportComment(){const aD=a6Y,a=window['auth'][aD(0x233)];if(!a){alert(aD(0x1d9));return;}if(!confirm(aD(0x1bb)))return;try{const b=document[aD(0x269)]('commentPopupPreview'),c={'commentAuthor':b['dataset']['commentUser']||'Unknown\x20User','commentText':b['dataset'][aD(0x1b3)]||'','matchId':previewState['currentMatchId']||'','reportedBy':a['uid'],'reporterUsername':a[aD(0x1ab)]||'Anonymous\x20User','reportedAt':serverTimestamp()},d=collection(window['db'],aD(0x291));await addDoc(d,c),alert(aD(0x26d)),closePreviewCommentPopup();}catch(e){console['error']('Error\x20reporting\x20comment:',e),alert(aD(0x1d1)+e[aD(0x20d)]);}}function a6a(){const aR=['y29TBwvUDa','y29TBwvUDc1VDMvYBgf5','lM1HDgnOzxmTBg9HzgLUz1TZDhLSzsO9iMnVBg9YoIbYzwqIxq','Bwf0y2HLC1bLCLbHz2u','u3vIBwL0DgLUzY4UlG','zw1LCMfSza','zMLUza','y2XPy2S','ChjLDMLLD1bHz2vjBMzV','z2fW','y29UDgvUDa','i0zgrdCWma','Bg9ZzxjvC2vYBMfTzq','BgvUz3rO','vw5RBM93BIbnyxa','rMLYzwjHC2uGBM90igLUAxrPywXPEMvK','lM1HDgnOlwrHDgu','q29TBwvUDcbMCM9Tia','txv0zwqU','y3jLyxrLrwXLBwvUDa','ugXLyxnLigvUDgvYigeGzgvTBYbSAw5R','yMXVy2S','twf0y2GG','ww91ig5LzwqGDg8GyMuGC2LNBMvKigLUihrVigrLBgv0zsbJB21Tzw50CW','A2v5CW','Aw5JBhvKzxm','uZOG','uMvWB3j0','y3vYCMvUDfbHz2u','BwLZC2LSzxmTnNbSDxm','lNn1yM1PDc1JB21Tzw50lwj0BG','ywrKrxzLBNrmAxn0zw5LCG','CxvLCNLtzwXLy3rVCKfSBa','zgf0yq','y3vYCMvUDe1Vzgu','wwvZDgvYzgf5','mtvWEa','y3vYCMvUDfvZzxi','y29TBwvUDfbVChvWuhjLDMLLDW','i2zMndq0na','DhLWzq','DxnLCM5HBwu','u3vIBwL0DgLUzYbJB21Tzw50igfZoG','rxjYB3iGzMv0y2HPBMCG','zw5Oyw5JzwqTzMLSDgvYlxnLy3rPB24','lM5VlwnVBw1LBNrZlw1LC3nHz2u','zw5Oyw5JzwrgAwX0zxjZ','pc9ZBwfSBd4','Aw5Uzxjive1m','C3rYAw5NAwz5','lteW','C3vIz2fTzvr5Cgu','yxbWCM92zwrnyxrJAgvZrdm','pgj1DhrVBIbJBgfZCZ0IzgvSzxrLlwnVBw1LBNqTyNrUiIbHCMLHlwXHyMvSpsjezwXLDguGy29TBwvUDci+W5C8l2j1DhrVBJ4','C3bSAxq','DMfSDwu','ChjLDMLLD05LEhrqywDL','zNvZAw9Ulw1HDgnO','CgLSB3rZ','DxnLCKLK','D2LUBMvYu2nVCMu','z2v0sxrLBq','ywrK','nJe2mZu4mhjUqxfKBW','lM9WDgLVBI10ywiUywn0AxzL','ChjLDMvUDerLzMf1Bhq','zgL2','yxbWCM92zwrnyxrJAgvZ','i2zMzG','uMvUzgvYAw5NihbHz2uG','lNbVChvWlwfJDgLVBNm','ww91ignHBIbVBMX5igrLBgv0zsb5B3vYig93BIbJB21Tzw50CW','ywrKq29TBwvUDezVCM0','uhjLDMLLDYbvssbVCIbgAwX0zxiGzwXLBwvUDhmGBM90igzVDw5KlcbJyw5UB3qGyxr0ywnOigXPC3rLBMvYCY4','ChjLDMLLD1bYzxzqywDL','qw5VBNLTB3vZ','Dg9mB3DLCKnHC2u','C3r5Bgu','lNbSyxLLCI53Aw5UzxiGlNbSyxLLCI1Uyw1L','BwfWugXHEwvK','Dg90ywXqywDLCW','D2LUBMvYu3vPy2LKzxm','B3bHy2L0Eq','Bwf4','zxjYB3i','rxjYB3iGC3vIBwL0DgLUzZO','lMrLBgv0zs1JB21Tzw50lwj0BG','D2vHCg9UlwLTyMfSyw5Jzq','rw50zxi','C2HVD0fKzenVBw1LBNrqB3b1Ca','D2fYBG','z2v0rwXLBwvUDej5swq','CMvTB3zLqxr0CMLIDxrL','y3vYC29Y','mtu4mJKYowzMqMj1vW','vgHHBMSGEw91lIbuAguGy29TBwvUDcbOyxmGyMvLBIbYzxbVCNrLzcbHBMqGD2LSBcbIzsbYzxzPzxDLzc4','zg9JCW','BM9Uzq','y29TBwvUDc1PDgvT','D2LUBMvYlq','pc9WpJXZBwfSBcbZDhLSzt0Iy29SB3i6i2fHytSGzgLZCgXHEtPIBg9JAZSGDgv4Dc1HBgLNBJPYAwDODdSGBwfYz2LUlxrVCdOXmhb4oYi+ug9ZDgvKig9Uia','y29TBwvUDfbVChvWvgL0BgvqCMv2Awv3','Bwf0y2GTy2fYzc10zw1WBgf0zq','igrHExmGywDV','u3vIBwL0','zgvZyW','lM1HDgnOlwrPC3bSyxKTD3jHChbLCG','Bwf0y2Hjza','BwfYz2LUvg9W','rMfPBgvKihrVigzLDgnOihvZzxjUyw1LoG','zMLSDgvYlxn1yMDHBwvZ','Dw5Yyw5Rzwq','ChjLDMLLDY1KmI1IDxr0B24','lMXVC2vYlwrLBw8TBgLUAW','rMfPBgvKihrVihbHCNnLignHy2HLoG','qxjLihLVDsbZDxjLihLVDsb3yw50ihrVigrLBgv0zsb0AgLZignVBw1LBNq/','rMfPBgvKihrVigzLDgnOihvZzxiGChjVzMLSztO','BwfW','vw5RBM93BG','BMv4Da','y2XVC2vbzgrdB21Tzw50ug9WDxa','zgvTB0XPBMS','Dgv4Da','ywn0AxzL','lI4U','C3vIBwL0q29TBwvUDa','y29TBwvUDe92zxjSyxLqCMv2Awv3','lNbSyxLLCI5SB3nLCIaUCgXHEwvYlw5HBwu','CMvTB3zLq2HPBgq','Bg9N','zMLSDgvY','yMfKq29TBwvUDhm','zgvMyxvSDa','pc9KAxy+cIaGicaGicaGicaGicaGicaGicaGicaGicaGicaGicaGicaGidXKAxyGy2XHC3m9iMrLBw8TzgvZy3jPChrPB24IpG','D29YzenVDw50','CMvXDwLYzwq','y3jLyxrLzef0','AhjLzG','ugfNzsa','y29TBwvUDeLK','DgLTzxn0yw1W','lMnVBw1LBNrZlwnVBNrHAw5LCG','y29TBwvUDefKze92zxjSyxK','zgLZCgXHEu5HBwu','D2LUBMvYq29TBwvUDa','Bwf0y2HdB21Tzw50CW','mtbWEa','odiWotqYnxjzEKzUra','yxv0Aa','pgrPDIbJBgfZCZ0IBwf0y2HLCY1SB2fKAw5NiJ5oBYbTyxrJAgvZigzVDw5Kig1HDgnOAw5Nign1CNjLBNqGzMLSDgvYCY48l2rPDJ4','zgvTBW','y29TBwvUDfrLEhq','mZy3ntK0mKHeBxbZqW','yxbWCM92zwrbDa','iJWVzgL2pG','mti0CgrvCfPj','DgL0Bgu','yxbWCM92zwrnyxrJAgvZrdi','B25JBgLJAW','qxjLihLVDsbZDxjLihLVDsb3yw50ihrVihjLCg9YDcb0AgLZignVBw1LBNqGyxmGAw5HChbYB3bYAwf0zt8','y29TBwvUDfvZzxi','y29TBwvUDefKzfbVChvW','y2XHC3nmAxn0','DhjPBq','D2LUBMvYvxnLCM5HBwu','zMXLEa','y2XVC2vdB21Tzw50ug9WDxbqCMv2Awv3','zMLSDgvYvxnLCM5HBwu','ywjZ','y2XVC2vZDa','ChjLDG','zMLYC3rdAgLSza','lM1HDgnOlw1HCa','kZeW','B3b0Aw9UCW','Bg9ZzxjtDwLJAwrLCW','Cg9WDxaTywn0Aw9UCW','pgrPDIbJBgfZCZ0IBwf0y2HLCY1SB2fKAw5NiJ5oBYbYzwnLBNqGBwf0y2HLCYbMB3vUza','D2LUBMvYrgvTB0XPBMS','ww91ig5LzwqGDg8GyMuGC2LNBMvKigLUihrVigXLyxzLigeGy29TBwvUDcbVCIbHzgqGysbKzw1V','pc9KAxy+cIaGicaGicaGicaGicaGicaGicaGicaGicaGicaGicaGpc9KAxy+cIaGicaGicaGicaGicaGicaGicaGicaGicaGica','rMfPBgvKihrVihjLCg9YDcbJB21Tzw50oIa','CgfYC2u','lNbSyxLLCI53Aw5UzxiGlNbSyxLLCI1Zy29Yzq','cIaGicaGicaGicaGicaGicaGicaGicaGicaGicaGicaGpgeGAhjLzJ0I','DwLK','zMLSDgvYlxbPBg90CW','rgf6','pgrPDIbJBgfZCZ0IBwf0y2HLCY1SB2fKAw5NiIbZDhLSzt0Iy29SB3i6ihjLzdSIpKvYCM9YigXVywrPBMCGBwf0y2HLCZOG','ww91ig5LzwqGDg8GyMuGC2LNBMvKigLUihrVihjLCg9YDcbJB21Tzw50CW','y29TBwvUDfbVChvWq29UDgvUDfbYzxzPzxC','CMvTyxrJAa','odq0mdqWChzdyuXA','D2LUBMvYt2XKrwXV','C3rVCfbYB3bHz2f0Aw9U','q29TBwvUDhmGyxjLigXPBwL0zwqGDg8GmtuGD29YzhmGBwf4Aw11Bs4GugXLyxnLihnOB3j0zw4GEw91CIbJB21Tzw50lG','yxbWzw5Kq2HPBgq','ww91ig11C3qGyMuGC2LNBMvKigLUihrVigXLyxzLigeGy29TBwvUDa','j3mGrgvTBW','Dg9Nz2XL','i0nen0yZmG','lMnVBw11BML0Es1JB21Tzw50CY1Zzwn0Aw9U','rMfPBgvKihrVihn1yM1PDdOG','Aw5WDxq','lJWVzgL2pG','zgf0yxnLDa','y29TBwvUDe1HDgnOswq','phn0CM9UzZ4','C2v0qxr0CMLIDxrL','CxvLCNLtzwXLy3rVCG','mZq4mdq4mtzwuKXZy3O','mtCXodvYA1bzEuS','lM1HDgnOlwnHCMq','Bg9ZzxjpBgrfBg8','y29SB3i','Dg9mB2nHBgveyxrLu3rYAw5N','y3vYCMvUDa','q2fJAguGBwLZCYbMB3iGCgfNzsa','zw1WDhK','yNv0Dg9U','zgLZywjSzwq','lM1HDgnOzxmTBg9HzgLUzW','y2XVBMvoB2rL','Dg9mB2nHBgvtDhjPBMC','Bxv0zuzYB21eyxrL','zM9YrwfJAa','BwvNys1TyxrJAa','vg9KyxK','CMvJzw50lw1HDgnOzxmTChjLDMLLDW','Cg9WDxaTyNrUignSB3nLlwj0BG','C2vSzwn0zwq','zgvTB0rLC2nYAxb0Aw9U','y2XHC3noyw1L','C2vJB25KCW','Bgv2zwXZ','Dgv4DenVBNrLBNq','y2vUDgvY','zgLZCgXHEq','z2v0vgLTzq','ChvZAa','lMP1BxaTyNrU','BwvZC2fNzq'];a6a=function(){return aR;};return a6a();}function showFullCommentLightbox(a){const aE=a6Y;if(isUsernameMuted(a['username']))return;const b=document['getElementById'](aE(0x234)),c=document[aE(0x269)](aE(0x28c)),d=document[aE(0x269)](aE(0x273)),e=document['getElementById'](aE(0x1da));if(!b||!c||!d||!e)return;d['style']['color']='#fff',d[aE(0x207)]=aE(0x21f)+a[aE(0x237)];if(a[aE(0x1a8)]){const i=new Date(a['timestamp'][aE(0x205)]*0x3e8),j=i['toLocaleString']();e['innerHTML']='<p>'+a[aE(0x288)]+aE(0x272)+j+aE(0x23d);}else e['textContent']=a['text'];b[aE(0x1e9)][aE(0x299)]=a['id']||'',b[aE(0x1e9)][aE(0x1bc)]=a[aE(0x237)]||'',b[aE(0x1e9)]['commentText']=a[aE(0x288)]||'',b['dataset'][aE(0x279)]=a['matchId']||'';const f=b['querySelector'](aE(0x254))||document[aE(0x221)](aE(0x250));!b['querySelector']('.popup-actions')?(f['className']=aE(0x1cc),f[aE(0x25b)]['display']='flex',f['style']['justifyContent']=aE(0x208),f['style'][aE(0x217)]=aE(0x1ae),f[aE(0x25b)][aE(0x27a)]=aE(0x232),b[aE(0x1e0)](f)):f[aE(0x23e)]='';const g=document['createElement']('button');g['textContent']='Close',g['className']=aE(0x201),g['id']=aE(0x1c2),g['addEventListener']('click',closePreviewCommentPopup);const h=document[aE(0x221)](aE(0x1f7));h['textContent']=aE(0x229),h[aE(0x204)]='popup-btn\x20report-btn',h['style']['backgroundColor']='#d32f2f',h[aE(0x22d)](aE(0x215),reportComment),f['appendChild'](g),f[aE(0x1e0)](h),b[aE(0x25b)][aE(0x209)]=aE(0x223),c['style']['display']='block';}export function setupPreviewEventListeners(){const aF=a6Y,a=document['getElementById'](aF(0x258)),b=document[aF(0x269)]('previewNextPage'),c=document['getElementById']('preview-d1-button'),d=document[aF(0x269)](aF(0x27e)),e=document['getElementById']('preview-d3-button'),f=document['getElementById']('filter-toggle-button'),g=document[aF(0x269)](aF(0x23a));if(!a||!b||!c||!d||!e||!f||!g){console[aF(0x268)](aF(0x257));return;}a['addEventListener'](aF(0x215),()=>{const aG=aF;if(!a[aG(0x1f8)])loadRecentMatchesPreview(aG(0x1c6));}),b[aF(0x22d)]('click',()=>{const aH=aF;if(!b[aH(0x1f8)])loadRecentMatchesPreview(aH(0x285));}),c['addEventListener'](aF(0x215),()=>{const aI=aF;previewState['currentMode']!=='D1'&&!previewState['isLoading']&&(previewState[aI(0x230)]='D1',updatePreviewLadderModeUI(),loadRecentMatchesPreview('current'));}),d[aF(0x22d)]('click',()=>{const aJ=aF;previewState[aJ(0x230)]!=='D2'&&!previewState['isLoading']&&(previewState['currentMode']='D2',updatePreviewLadderModeUI(),loadRecentMatchesPreview(aJ(0x1f4)));}),e['addEventListener']('click',()=>{const aK=aF;previewState[aK(0x230)]!=='D3'&&!previewState['isLoading']&&(previewState['currentMode']='D3',updatePreviewLadderModeUI(),loadRecentMatchesPreview('current'));});f&&g&&f[aF(0x22d)]('click',()=>{const aL=aF,r=g['style'][aL(0x209)]!==aL(0x26f);g[aL(0x25b)]['display']=r?'none':'block',f['classList'][aL(0x1e3)]('active',!r);});const h=document[aF(0x269)]('apply-enhanced-filters'),i=document[aF(0x269)]('clear-enhanced-filters');h&&h['addEventListener'](aF(0x215),()=>{const aM=aF;previewState[aM(0x23c)][aM(0x248)]=document['getElementById']('filter-pilots')['value'][aM(0x1bf)](),previewState[aM(0x23c)][aM(0x206)]=document[aM(0x269)]('filter-levels')['value'][aM(0x1bf)]();const r=document[aM(0x269)]('filter-subgames');previewState['enhancedFilters']['subgames']=Array['from'](r['selectedOptions'])[aM(0x283)](s=>s['value'])[aM(0x290)](s=>s!==''),loadRecentMatchesPreview('current');});i&&i[aF(0x22d)](aF(0x215),()=>{const aN=aF;clearEnhancedFilters(),loadRecentMatchesPreview(aN(0x1f4));});document['querySelectorAll'](aF(0x20c))[aF(0x1fd)](r=>{const aO=aF;r[aO(0x22d)](aO(0x215),()=>{const aP=aO,s=r[aP(0x1e9)]['jump'];jumpToPage(s);});});const j=document[aF(0x269)]('jump-to-page');j&&j[aF(0x22d)]('keypress',r=>{const aQ=aF;r['key']===aQ(0x266)&&jumpToPage('input');});const k=document[aF(0x269)](aF(0x1c2)),l=document['getElementById']('commentOverlayPreview');if(k)k['addEventListener'](aF(0x215),closePreviewCommentPopup);if(l)l['addEventListener'](aF(0x215),closePreviewCommentPopup);const m=document[aF(0x269)]('closeAddCommentPopup'),n=document['getElementById'](aF(0x1aa)),o=document['getElementById'](aF(0x256));if(m)m[aF(0x22d)]('click',closeAddCommentPopup);if(n)n[aF(0x22d)](aF(0x215),closeAddCommentPopup);if(o)o[aF(0x22d)]('submit',submitComment);const p=document[aF(0x269)](aF(0x1b3)),q=document[aF(0x269)]('wordCount');p&&q&&setupWordCounter(aF(0x1b3),aF(0x294),0xf);}window[a6Y(0x267)]=showAddCommentPopup,window[a6Y(0x286)]=closeAddCommentPopup,window[a6Y(0x28b)]=submitComment;