const a20_0x482429=a20_0x4406,a20_0x3e6a5e=(function(){let _0x4f8f22=!![];return function(_0x4a87c7,_0x1f2c27){const _0x224a85=_0x4f8f22?function(){if(_0x1f2c27){const _0xa8db3b=_0x1f2c27['apply'](_0x4a87c7,arguments);return _0x1f2c27=null,_0xa8db3b;}}:function(){};return _0x4f8f22=![],_0x224a85;};}()),a20_0x5181d2=a20_0x3e6a5e(this,function(){const _0x1836d1=a20_0x4406;let _0x48fb82;try{const _0xa4b880=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x48fb82=_0xa4b880();}catch(_0x317d13){_0x48fb82=window;}const _0x35de7c=_0x48fb82[_0x1836d1(0xdf)]=_0x48fb82['console']||{},_0x53ac4c=['log','warn','info','error',_0x1836d1(0xeb),_0x1836d1(0xde),_0x1836d1(0xea)];for(let _0x586d6d=0x0;_0x586d6d<_0x53ac4c['length'];_0x586d6d++){const _0x2e9549=a20_0x3e6a5e['constructor']['prototype']['bind'](a20_0x3e6a5e),_0x4f85c9=_0x53ac4c[_0x586d6d],_0x439c45=_0x35de7c[_0x4f85c9]||_0x2e9549;_0x2e9549['__proto__']=a20_0x3e6a5e['bind'](a20_0x3e6a5e),_0x2e9549[_0x1836d1(0xe5)]=_0x439c45['toString'][_0x1836d1(0xe4)](_0x439c45),_0x35de7c[_0x4f85c9]=_0x2e9549;}});a20_0x5181d2();function a20_0x36b2(){const _0x44c2c1=['warn','Firestore\x20operation\x20blocked\x20-\x20network\x20error','log','unavailable','session-suspended','network-error','table','console','includes','message','string','network','bind','toString','addEventListener','error','apply','code','trace','exception'];a20_0x36b2=function(){return _0x44c2c1;};return a20_0x36b2();}import{collection as a20_0x5116b5,doc as a20_0x5d9094,getDoc as a20_0x3c1bd0,getDocs as a20_0x444188,query as a20_0x3b04d9,where as a20_0x23d62b,orderBy as a20_0x581f55,limit as a20_0x7b5989,startAfter as a20_0x202935,addDoc as a20_0x421957,updateDoc as a20_0x1a61fc,deleteDoc as a20_0x31b156,writeBatch as a20_0x2c7a82,serverTimestamp as a20_0x441761,Timestamp as a20_0x5b120d,getCountFromServer as a20_0x211b3c,setDoc as a20_0x2a8bc2,enableNetwork,disableNetwork}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db}from'./firebase-config.js';function a20_0x4406(_0x3ff96d,_0x221bfa){const _0x5181d2=a20_0x36b2();return a20_0x4406=function(_0x3e6a5e,_0x1a7e92){_0x3e6a5e=_0x3e6a5e-0xd8;let _0x36b234=_0x5181d2[_0x3e6a5e];return _0x36b234;},a20_0x4406(_0x3ff96d,_0x221bfa);}import{handleNetworkError}from'./idle-timeout.js';function checkSessionStatus(){const _0x36778d=a20_0x4406;if(window['RDL_SESSION_SUSPENDED']){console['warn']('Firestore\x20operation\x20blocked\x20-\x20session\x20suspended');const _0x15323b=new Error('Session\x20suspended\x20due\x20to\x20inactivity.\x20Please\x20resume\x20your\x20session.');_0x15323b[_0x36778d(0xe9)]='session-suspended';throw _0x15323b;}if(window['RDL_NETWORK_ERROR']){console[_0x36778d(0xd8)](_0x36778d(0xd9));const _0x18ed5f=new Error('Network\x20connection\x20error.\x20Please\x20check\x20your\x20internet\x20connection.');_0x18ed5f['code']='network-error';throw _0x18ed5f;}}async function handleFirestoreError(_0x57e92b){const _0x21d7e3=a20_0x4406;console['error']('Firestore\x20operation\x20failed:',_0x57e92b);if(_0x57e92b&&(_0x57e92b['code']===_0x21d7e3(0xdb)||_0x57e92b[_0x21d7e3(0xe9)]==='resource-exhausted'||_0x57e92b['message']&&_0x57e92b['message']['includes'](_0x21d7e3(0xe3))||_0x57e92b['code']&&_0x57e92b['code'][_0x21d7e3(0xe0)](_0x21d7e3(0xe3))))return console['warn']('Network-related\x20error\x20detected,\x20suspending\x20operations'),handleNetworkError(),!![];return![];}export const rdlFirestore={'collection':function(){const _0x5a50b9=a20_0x4406;if(arguments['length']===0x1){if(typeof arguments[0x0]==='string')return a20_0x5116b5(db,arguments[0x0]);return arguments[0x0];}else{if(arguments['length']===0x2&&arguments[0x0]===db&&typeof arguments[0x1]===_0x5a50b9(0xe2))return a20_0x5116b5(db,arguments[0x1]);}return a20_0x5116b5['apply'](null,arguments);},'doc':function(){const _0x5653dc=a20_0x4406;if(arguments['length']===0x2){if(typeof arguments[0x0]==='string'&&typeof arguments[0x1]===_0x5653dc(0xe2))return a20_0x5d9094(db,arguments[0x0],arguments[0x1]);return a20_0x5d9094['apply'](null,arguments);}else{if(arguments['length']===0x3&&arguments[0x0]===db)return a20_0x5d9094['apply'](null,arguments);}return a20_0x5d9094['apply'](null,arguments);},'query':function(){const _0x13b7b2=a20_0x4406;return a20_0x3b04d9[_0x13b7b2(0xe8)](null,arguments);},'where':function(){const _0x543546=a20_0x4406;return a20_0x23d62b[_0x543546(0xe8)](null,arguments);},'orderBy':function(){const _0x220352=a20_0x4406;return a20_0x581f55[_0x220352(0xe8)](null,arguments);},'limit':function(_0x3eb8fa){return a20_0x7b5989(_0x3eb8fa);},'startAfter':function(_0x459fba){return a20_0x202935(_0x459fba);},'getDoc':async function(_0x248d2c){const _0x2d9348=a20_0x4406;try{return checkSessionStatus(),await a20_0x3c1bd0(_0x248d2c);}catch(_0x5d68ae){const _0x4632a6=await handleFirestoreError(_0x5d68ae);_0x4632a6&&(_0x5d68ae[_0x2d9348(0xe9)]='network-error');throw _0x5d68ae;}},'getDocs':async function(_0x46e6d4){try{return checkSessionStatus(),await a20_0x444188(_0x46e6d4);}catch(_0x3cc2f6){const _0x259241=await handleFirestoreError(_0x3cc2f6);_0x259241&&(_0x3cc2f6['code']='network-error');throw _0x3cc2f6;}},'getCountFromServer':async function(_0x32c5e5){const _0xe1b4a1=a20_0x4406;try{return checkSessionStatus(),await a20_0x211b3c(_0x32c5e5);}catch(_0x54f074){const _0x2276e0=await handleFirestoreError(_0x54f074);_0x2276e0&&(_0x54f074[_0xe1b4a1(0xe9)]='network-error');throw _0x54f074;}},'addDoc':async function(_0x14d2d2,_0x58e1c6){try{return checkSessionStatus(),await a20_0x421957(_0x14d2d2,_0x58e1c6);}catch(_0x286bee){const _0x49d472=await handleFirestoreError(_0x286bee);_0x49d472&&(_0x286bee['code']='network-error');throw _0x286bee;}},'setDoc':async function(_0x12990b,_0x3709e1,_0x1ab7b1){const _0x2a19f0=a20_0x4406;try{return checkSessionStatus(),await a20_0x2a8bc2(_0x12990b,_0x3709e1,_0x1ab7b1);}catch(_0x64454c){const _0x4689f4=await handleFirestoreError(_0x64454c);_0x4689f4&&(_0x64454c['code']=_0x2a19f0(0xdd));throw _0x64454c;}},'updateDoc':async function(_0xa22318,_0xd65ccf){try{return checkSessionStatus(),await a20_0x1a61fc(_0xa22318,_0xd65ccf);}catch(_0x39b2d3){const _0x4be3fc=await handleFirestoreError(_0x39b2d3);_0x4be3fc&&(_0x39b2d3['code']='network-error');throw _0x39b2d3;}},'deleteDoc':async function(_0x31e866){try{return checkSessionStatus(),await a20_0x31b156(_0x31e866);}catch(_0x1a1d6f){const _0x402d14=await handleFirestoreError(_0x1a1d6f);_0x402d14&&(_0x1a1d6f['code']='network-error');throw _0x1a1d6f;}},'writeBatch':function(){checkSessionStatus();const _0x489762=a20_0x2c7a82(db),_0x425b1e=_0x489762['commit']['bind'](_0x489762);return _0x489762['commit']=async function(){const _0x20bcaf=a20_0x4406;try{return checkSessionStatus(),await _0x425b1e();}catch(_0x19a29a){const _0x37438c=await handleFirestoreError(_0x19a29a);_0x37438c&&(_0x19a29a['code']=_0x20bcaf(0xdd));throw _0x19a29a;}},_0x489762;},'serverTimestamp':function(){return a20_0x441761();},'Timestamp':{'now':function(){return a20_0x5b120d['now']();},'fromDate':function(_0xa273d4){return a20_0x5b120d['fromDate'](_0xa273d4);}},'enableNetwork':async function(){try{return await enableNetwork(db);}catch(_0x17d327){console['error']('Failed\x20to\x20enable\x20network:',_0x17d327);throw _0x17d327;}},'disableNetwork':async function(){const _0x6866d9=a20_0x4406;try{return await disableNetwork(db);}catch(_0x27b8f9){console[_0x6866d9(0xe7)]('Failed\x20to\x20disable\x20network:',_0x27b8f9);throw _0x27b8f9;}}};window[a20_0x482429(0xe6)]('error',function(_0x4dc776){const _0x41251c=a20_0x482429;if(_0x4dc776['error']){if(_0x4dc776[_0x41251c(0xe7)]['code']===_0x41251c(0xdc))_0x4dc776['preventDefault'](),console['log']('Caught\x20session\x20suspended\x20error:',_0x4dc776[_0x41251c(0xe7)]['message']);else(_0x4dc776[_0x41251c(0xe7)]['code']===_0x41251c(0xdb)||_0x4dc776['error']['code']==='resource-exhausted'||_0x4dc776['error']['message']&&_0x4dc776['error']['message'][_0x41251c(0xe0)]('network')||_0x4dc776['error']['code']&&_0x4dc776[_0x41251c(0xe7)][_0x41251c(0xe9)]['includes'](_0x41251c(0xe3)))&&(_0x4dc776['preventDefault'](),console[_0x41251c(0xda)]('Caught\x20network\x20error:',_0x4dc776['error'][_0x41251c(0xe1)]),handleNetworkError());}}),window['rdlFirestore']=rdlFirestore,console['log']('Firestore\x20wrapper\x20initialized\x20with\x20session\x20checking\x20and\x20network\x20error\x20handling');