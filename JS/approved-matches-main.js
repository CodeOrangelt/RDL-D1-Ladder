const a6_0x233318=a6_0x2e36,a6_0x165227=(function(){let _0xf1641c=!![];return function(_0x15e43f,_0x3f8621){const _0x1290ff=_0xf1641c?function(){if(_0x3f8621){const _0x45e0f3=_0x3f8621['apply'](_0x15e43f,arguments);return _0x3f8621=null,_0x45e0f3;}}:function(){};return _0xf1641c=![],_0x1290ff;};}()),a6_0x2bacec=a6_0x165227(this,function(){const _0x41d41c=a6_0x2e36,_0x4791d8=function(){let _0x35776a;try{_0x35776a=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x359f84){_0x35776a=window;}return _0x35776a;},_0x5130f1=_0x4791d8(),_0x3179ae=_0x5130f1['console']=_0x5130f1[_0x41d41c(0x185)]||{},_0x3031ea=['log',_0x41d41c(0x168),_0x41d41c(0x201),_0x41d41c(0x19f),'exception','table','trace'];for(let _0xcf0503=0x0;_0xcf0503<_0x3031ea[_0x41d41c(0x1e7)];_0xcf0503++){const _0x51d702=a6_0x165227[_0x41d41c(0x1d3)]['prototype']['bind'](a6_0x165227),_0x42ebbb=_0x3031ea[_0xcf0503],_0xbe2624=_0x3179ae[_0x42ebbb]||_0x51d702;_0x51d702['__proto__']=a6_0x165227['bind'](a6_0x165227),_0x51d702['toString']=_0xbe2624[_0x41d41c(0x1c9)]['bind'](_0xbe2624),_0x3179ae[_0x42ebbb]=_0x51d702;}});a6_0x2bacec();import{collection,getDocs,addDoc,query,orderBy,limit,startAfter,Timestamp,serverTimestamp,getDoc,doc,where,deleteDoc}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const mutedUsers=[{'username':'Daz','muteFromDate':new Date(a6_0x233318(0x1fe))['getTime']()}];function isUsernameMuted(_0x1a06a5,_0x393c85){const _0x50d83b=a6_0x233318;if(!_0x1a06a5)return![];const _0x591b51=mutedUsers[_0x50d83b(0x164)](_0x43734e=>_0x43734e['username']===_0x1a06a5);if(!_0x591b51)return![];if(!_0x393c85)return!![];const _0x980fa=_0x393c85 instanceof Date?_0x393c85['getTime']():_0x393c85[_0x50d83b(0x1b3)]?_0x393c85['seconds']*0x3e8:Date['now']();return _0x980fa>=_0x591b51['muteFromDate'];}function filterComment(_0x2a846d,_0x1704fb,_0x3bb755){if(!_0x2a846d)return'-';if(isUsernameMuted(_0x1704fb,_0x3bb755))return'Muted.';return _0x2a846d;}const previewState={'currentMode':'D1','currentPage':0x1,'matchesPerPage':0x5,'lastVisible':null,'firstVisible':null,'isLoading':![],'filterUsername':'','enhancedFilters':{'pilots':'','levels':'','subgames':[]},'totalPages':0x1,'hasReachedEnd':![]};function getCacheKey(_0x1178a3,_0x278858,_0xeeab6f){const _0xf1cf5c='u:'+(_0xeeab6f['filterUsername']||'');return'previewCache_'+_0x1178a3+'_p'+_0x278858+'_'+_0xf1cf5c;}function getCachedPage(_0x319bda){const _0x46a35c=a6_0x233318,_0x59d67b=sessionStorage[_0x46a35c(0x18b)](_0x319bda);if(_0x59d67b)try{return JSON['parse'](_0x59d67b);}catch(_0x5276fe){return console['error']('Failed\x20to\x20parse\x20cache:',_0x5276fe),sessionStorage['removeItem'](_0x319bda),null;}return null;}function cachePage(_0x318d1a,_0x1d2aa4){const _0x430803=a6_0x233318;try{sessionStorage[_0x430803(0x159)](_0x318d1a,JSON['stringify'](_0x1d2aa4));}catch(_0x16873f){console[_0x430803(0x19f)](_0x430803(0x1e1),_0x16873f);}}function getEloColor(_0x5600d1){const _0x5d0139=a6_0x233318,_0xf9e4de=Number(_0x5600d1);if(_0xf9e4de>=0x7d0)return'#50C878';else{if(_0xf9e4de>=0x708)return'#FFD700';else{if(_0xf9e4de>=0x640)return'#b9f1fc';else{if(_0xf9e4de>=0x578)return'#CD7F32';else return _0x5d0139(0x1d6);}}}}function formatDate(_0x47e8f9,_0x215a0a=![]){const _0x2190ec=a6_0x233318;if(!_0x47e8f9||!_0x47e8f9[_0x2190ec(0x1b3)])return'N/A';const _0x248009=new Date(_0x47e8f9['seconds']*0x3e8);return _0x215a0a?_0x248009['toLocaleString']():_0x248009['toLocaleDateString']();}function truncateComment(_0x566f9d,_0x26041d=0x1e){if(!_0x566f9d)return'-';if(_0x566f9d['length']<=_0x26041d)return _0x566f9d;return _0x566f9d['substring'](0x0,_0x26041d)+'...';}function formatCommentDate(_0x361906){const _0x1bc2b8=a6_0x233318;if(!_0x361906||!_0x361906[_0x1bc2b8(0x1b3)])return'';const _0x4ee1a6=new Date(_0x361906[_0x1bc2b8(0x1b3)]*0x3e8),_0x424703=new Date(),_0xd2ce8c=Math[_0x1bc2b8(0x15e)](_0x424703-_0x4ee1a6),_0x719140=Math['floor'](_0xd2ce8c/(0x3e8*0x3c*0x3c*0x18));if(_0x719140===0x0)return'Today';else{if(_0x719140===0x1)return'Yesterday';else return _0x719140<0x7?_0x719140+'\x20days\x20ago':_0x4ee1a6['toLocaleDateString']();}}function setLoadingIndicator(_0x5fdaaf){const _0x373f69=a6_0x233318,_0x2390bc=document[_0x373f69(0x1be)]('loading-indicator');if(_0x2390bc)_0x2390bc[_0x373f69(0x1f3)][_0x373f69(0x175)]=_0x5fdaaf?_0x373f69(0x1e9):'none';}export function updatePreviewLadderModeUI(){const _0x38b6f4=a6_0x233318,_0x243c64=document[_0x38b6f4(0x1be)]('preview-ladder-mode'),_0x4d50fb=document['getElementById']('preview-d1-button'),_0x11dcf1=document['getElementById']('preview-d2-button'),_0x57d90f=document['getElementById']('preview-d3-button');if(_0x243c64)_0x243c64['textContent']=previewState['currentMode'];if(_0x4d50fb)_0x4d50fb['classList'][_0x38b6f4(0x16d)]('active',previewState[_0x38b6f4(0x1af)]==='D1');if(_0x11dcf1)_0x11dcf1['classList'][_0x38b6f4(0x16d)]('active',previewState[_0x38b6f4(0x1af)]==='D2');if(_0x57d90f)_0x57d90f[_0x38b6f4(0x1ad)][_0x38b6f4(0x16d)]('active',previewState[_0x38b6f4(0x1af)]==='D3');}function a6_0x4396(){const _0x578655=['.add-comment-btn','.player.loser\x20.player-name','comment','setAttribute','click','href','removeAttribute','commentOverlayPreview','Firebase\x20not\x20initialized','blind-match','trim','setItem','subgameType','No\x20valid\x20cursor,\x20fetching\x20from\x20beginning\x20and\x20skipping\x20pages','currentPage','filter-levels','abs','parentNode','Muted.','lastVisible','prev','applyFilterBtn','find','You\x20need\x20to\x20be\x20signed\x20in\x20to\x20report\x20comments','Error\x20fetching\x20comments:','log','warn','.match-demo-links','addEventListener','commentPopupTitlePreview','Unable\x20to\x20submit\x20comment\x20-\x20system\x20not\x20ready','toggle','key','dogfight','You\x20can\x20only\x20delete\x20your\x20own\x20comments','Failed\x20to\x20report\x20comment:\x20','approvedAt','loserUsername','active','display','\x22\x20target=\x22_blank\x22\x20class=\x22play-icon\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<svg\x20viewBox=\x220\x200\x2024\x2024\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<path\x20d=\x22M8,5.14V19.14L19,12.14L8,5.14Z\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</svg>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22demo-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22demo-author\x22>Demo\x20from\x20','max','.loser-demo-link','map','value','firstChild','.submit-comment-btn','message','jump','unranked','loserSuicides','Unable\x20to\x20submit\x20-\x20system\x20not\x20ready',',\x20fetching\x20from\x20Firestore','closest','commentUser','console','appendChild','justifyContent','\x27s\x20Demo','toLowerCase','delete-comment-btn','getItem','clear-enhanced-filters','preventDefault','#d32f2f','Failed\x20to\x20delete\x20comment:\x20','closeCommentPopupPreview','<div\x20class=\x22matches-loading\x22>No\x20matches\x20found\x20matching\x20current\x20filters.</div>','You\x20need\x20to\x20be\x20signed\x20in\x20to\x20delete\x20comments','body','popup-btn\x20report-btn','split','.popup-actions','pilots','includes','demoLink','enhancedFilters','querySelector','displayName','matchId','bronze','error','matchComments','onclick','apply-enhanced-filters','commentMatchId','\x20matching\x20filters','div','type','isLoading','timestamp','mapPlayed','<p>','default','\x22</div>','classList','rematch','currentMode','You\x20need\x20to\x20be\x20signed\x20in\x20to\x20leave\x20a\x20comment\x20or\x20add\x20a\x20demo','push','demo','seconds','add','commentAddPopup','data','Comment\x20added\x20successfully','submit','levels','stopPropagation','mega-match','Error\x20submitting:','Unknown\x20User','getElementById','userProfiles','cursor','text','exists','filter-pilots',':</strong>\x20\x22','forEach','S:\x20','Submitting...','Demo:\x20','toString','createElement','Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20comment?','commentText','start','filter','dataset','slice','comment-overlay','required','constructor','</small>','docs','#808080','removeItem','keys','previewNextPage','selectedOptions','uid','next','desc','none','username','Comments\x20section\x20not\x20found\x20in\x20template','Failed\x20to\x20cache\x20data:','preview-d3-button','popup-actions','-10','current','wordCount','length','commentPopupPreview','block','Anonymous','Failed\x20to\x20add\x20comment:\x20','color','innerHTML','button','subgames','winnerScore','Preview\x20UI\x20or\x20Filter\x20elements\x20not\x20found,\x20cannot\x20attach\x20listeners.','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22demo-description\x22>','style','missiles-6plus','auth','fusion-match','flex','currentUser','showAddCommentPopup','Report','filterUsername','0.6','disabled','2025-07-02','textContent','matchesPerPage','info'];a6_0x4396=function(){return _0x578655;};return a6_0x4396();}function updatePreviewPaginationControls(_0x3f4fa9){const _0x305eb5=a6_0x233318,_0x2855f0=document['getElementById']('previewPrevPage'),_0x22c56b=document[_0x305eb5(0x1be)](_0x305eb5(0x1d9)),_0x5207e8=document['getElementById']('previewPageInfo');if(!_0x2855f0||!_0x22c56b||!_0x5207e8)return;_0x5207e8['textContent']='Page\x20'+previewState['currentPage'],_0x2855f0['disabled']=previewState[_0x305eb5(0x15c)]<=0x1,_0x22c56b['disabled']=!_0x3f4fa9;}function setPreviewLoadingState(_0x283457){const _0x201e8c=a6_0x233318;previewState['isLoading']=_0x283457,setLoadingIndicator(_0x283457);const _0x110078=document['getElementById']('recent-matches-preview'),_0x391501=_0x110078?_0x110078[_0x201e8c(0x19b)]('.matches-loading'):null,_0x1fc41b=document['getElementById']('previewPrevPage'),_0x4c5d07=document[_0x201e8c(0x1be)]('previewNextPage'),_0x25afef=document[_0x201e8c(0x1be)]('preview-d1-button'),_0x46a5dd=document['getElementById']('preview-d2-button'),_0x5ce4fd=document['getElementById'](_0x201e8c(0x163)),_0x5d26cf=document['getElementById']('clearFilterBtn');if(_0x391501&&!_0x283457)_0x391501['style']['display']=_0x201e8c(0x1de);else _0x391501&&_0x283457&&(_0x391501['style']['display']='block');!_0x283457&&_0x110078&&!_0x110078['querySelector']('.match-card')&&!_0x110078[_0x201e8c(0x19b)]('.matches-loading[style*=\x22color:\x20red\x22]')&&(_0x110078[_0x201e8c(0x1ed)]='<div\x20class=\x22matches-loading\x22>No\x20recent\x20matches\x20found'+(previewState[_0x201e8c(0x1fb)]?'\x20matching\x20filters':'')+'.</div>');if(_0x1fc41b)_0x1fc41b['disabled']=_0x283457||previewState[_0x201e8c(0x15c)]<=0x1;if(_0x4c5d07)_0x4c5d07[_0x201e8c(0x1fd)]=_0x283457;if(_0x25afef)_0x25afef[_0x201e8c(0x1fd)]=_0x283457;if(_0x46a5dd)_0x46a5dd['disabled']=_0x283457;if(_0x5ce4fd)_0x5ce4fd[_0x201e8c(0x1fd)]=_0x283457;if(_0x5d26cf)_0x5d26cf[_0x201e8c(0x1fd)]=_0x283457;}function applyClientFilters(_0x2df2b5){const _0x50ad69=a6_0x233318;if(!previewState[_0x50ad69(0x1fb)])return _0x2df2b5;const _0x443a8b=previewState['filterUsername']['toLowerCase']();return _0x2df2b5[_0x50ad69(0x1ce)](_0x39998d=>{const _0xe69feb=_0x50ad69,_0x308522=(_0x39998d['winnerUsername']||'')['toLowerCase'](),_0x3fc23d=(_0x39998d['loserUsername']||'')[_0xe69feb(0x189)]();return _0x308522[_0xe69feb(0x198)](_0x443a8b)||_0x3fc23d['includes'](_0x443a8b);});}function applyEnhancedClientFilters(_0x1dc4c3){if(!hasEnhancedFilters())return _0x1dc4c3;return _0x1dc4c3['filter'](_0x1f1fcc=>{const _0x285f9f=a6_0x2e36;if(previewState[_0x285f9f(0x19a)]['pilots']){const _0x357295=previewState[_0x285f9f(0x19a)]['pilots']['toLowerCase'](),_0x5cc428=(_0x1f1fcc['winnerUsername']||'')['toLowerCase'](),_0x530b87=(_0x1f1fcc['loserUsername']||'')[_0x285f9f(0x189)]();if(!_0x5cc428['includes'](_0x357295)&&!_0x530b87['includes'](_0x357295))return![];}if(previewState['enhancedFilters']['levels']){const _0x531495=previewState['enhancedFilters']['levels'][_0x285f9f(0x189)](),_0x532a0d=(_0x1f1fcc[_0x285f9f(0x1a9)]||'')['toLowerCase']();if(!_0x532a0d[_0x285f9f(0x198)](_0x531495))return![];}if(previewState[_0x285f9f(0x19a)]['subgames']['length']>0x0){const _0x1b6a56=_0x1f1fcc[_0x285f9f(0x15a)]||'Standard\x20Match';if(!previewState[_0x285f9f(0x19a)]['subgames']['includes'](_0x1b6a56))return![];}return!![];});}function a6_0x2e36(_0x5979d0,_0x1a88e8){const _0x2bacec=a6_0x4396();return a6_0x2e36=function(_0x165227,_0x3fe250){_0x165227=_0x165227-0x14e;let _0x4396dd=_0x2bacec[_0x165227];return _0x4396dd;},a6_0x2e36(_0x5979d0,_0x1a88e8);}function hasEnhancedFilters(){const _0xdff5c0=a6_0x233318;return previewState['enhancedFilters'][_0xdff5c0(0x197)]||previewState['enhancedFilters']['levels']||previewState[_0xdff5c0(0x19a)][_0xdff5c0(0x1ef)][_0xdff5c0(0x1e7)]>0x0;}function clearEnhancedFilters(){const _0x512292=a6_0x233318;previewState['enhancedFilters']={'pilots':'','levels':'','subgames':[]},document['getElementById'](_0x512292(0x1c3))[_0x512292(0x17a)]='',document['getElementById'](_0x512292(0x15d))['value']='';const _0x5471ab=document[_0x512292(0x1be)]('filter-subgames');for(let _0x4ca1bb of _0x5471ab['options']){_0x4ca1bb['selected']=![];}}function jumpToPage(_0x43fb73){const _0x5a2265=a6_0x233318,_0x2fdf19=document[_0x5a2265(0x1be)]('jump-to-page'),_0x4e03cf=previewState[_0x5a2265(0x15c)];let _0x1b4147=_0x4e03cf;switch(_0x43fb73){case _0x5a2265(0x1cd):_0x1b4147=0x1;break;case'end':_0x1b4147=Math['max'](_0x4e03cf+0xa,previewState['totalPages']||_0x4e03cf+0xa);break;case'+1':_0x1b4147=_0x4e03cf+0x1;break;case'+5':_0x1b4147=_0x4e03cf+0x5;break;case'+10':_0x1b4147=_0x4e03cf+0xa;break;case'-1':_0x1b4147=Math[_0x5a2265(0x177)](0x1,_0x4e03cf-0x1);break;case'-5':_0x1b4147=Math['max'](0x1,_0x4e03cf-0x5);break;case _0x5a2265(0x1e4):_0x1b4147=Math['max'](0x1,_0x4e03cf-0xa);break;case'input':const _0x897542=parseInt(_0x2fdf19['value']);_0x897542&&_0x897542>0x0&&(_0x1b4147=_0x897542,_0x2fdf19['value']='');break;}_0x1b4147!==_0x4e03cf&&_0x1b4147>0x0&&(previewState['currentPage']=_0x1b4147,loadRecentMatchesPreview(_0x5a2265(0x17e)));}export async function loadRecentMatchesPreview(_0x12a548=a6_0x233318(0x1e5)){const _0x20a0f1=a6_0x233318,_0x53fce=document['getElementById']('recent-matches-preview'),_0x4cc0aa=document['getElementById']('match-card-template');if(previewState['isLoading']||!_0x53fce||!_0x4cc0aa)return;_0x12a548===_0x20a0f1(0x1e5)&&(console['log']('Clearing\x20cache\x20for\x20refresh/reset'),Object[_0x20a0f1(0x1d8)](sessionStorage)['forEach'](_0x4660fa=>{const _0x4393c3=_0x20a0f1;_0x4660fa['includes']('previewCache_'+previewState['currentMode'])&&sessionStorage[_0x4393c3(0x1d7)](_0x4660fa);}));let _0x3d28fe=previewState['currentPage'];if(_0x12a548==='next')_0x3d28fe++;else{if(_0x12a548==='prev')_0x3d28fe--;else _0x12a548==='current'&&(_0x3d28fe=0x1,previewState['firstVisible']=null,previewState['lastVisible']=null);}if(_0x3d28fe<0x1)_0x3d28fe=0x1;const _0xe5ab9e=previewState[_0x20a0f1(0x15c)];previewState['currentPage']=_0x3d28fe,updatePreviewPaginationControls(!![]);const _0x2559a2={'filterUsername':previewState['filterUsername']},_0x23fac3=getCacheKey(previewState['currentMode'],_0x3d28fe,_0x2559a2),_0x16a415=_0x12a548!==_0x20a0f1(0x1e5)?getCachedPage(_0x23fac3):null;if(_0x16a415){console['log']('Rendering\x20page\x20'+_0x3d28fe+'\x20from\x20cache'),setPreviewLoadingState(!![]),renderMatchCards(_0x16a415['docsData']),updatePreviewPaginationControls(_0x16a415['hasNextPage']),setPreviewLoadingState(![]);return;}console['log']('Cache\x20miss\x20for\x20page\x20'+_0x3d28fe+_0x20a0f1(0x182)),setPreviewLoadingState(!![]),_0x53fce['innerHTML']='<div\x20class=\x22matches-loading\x22>Loading\x20recent\x20matches...</div>';const _0x2d5f2a=previewState[_0x20a0f1(0x1af)]==='D1'?'approvedMatches':previewState[_0x20a0f1(0x1af)]==='D2'?'approvedMatchesD2':'approvedMatchesD3',_0x2adc82=previewState[_0x20a0f1(0x1af)]==='D1'?'createdAt':'approvedAt';try{const _0x3c251d=collection(window['db'],_0x2d5f2a);let _0x51d0af=[orderBy(_0x2adc82,'desc')];if(_0x3d28fe===0x1)console['log']('Loading\x20first\x20page\x20from\x20Firestore'),_0x51d0af[_0x20a0f1(0x1b1)](limit(previewState['matchesPerPage']));else{if(_0x12a548==='next'&&previewState[_0x20a0f1(0x161)])console[_0x20a0f1(0x167)]('Loading\x20next\x20page\x20using\x20cursor'),_0x51d0af['push'](startAfter(previewState['lastVisible'])),_0x51d0af['push'](limit(previewState['matchesPerPage']));else{console['log'](_0x20a0f1(0x15b));const _0x1f99c6=_0x3d28fe*previewState['matchesPerPage'];_0x51d0af[_0x20a0f1(0x1b1)](limit(_0x1f99c6));}}const _0x55b853=query(_0x3c251d,..._0x51d0af),_0x5c8731=await getDocs(_0x55b853);let _0x4bd70e=_0x5c8731['docs'];if(_0x3d28fe>0x1&&_0x12a548!==_0x20a0f1(0x1dc)){const _0x1bfe96=(_0x3d28fe-0x1)*previewState['matchesPerPage'];_0x4bd70e=_0x4bd70e[_0x20a0f1(0x1d0)](_0x1bfe96,_0x1bfe96+previewState['matchesPerPage']);}if(_0x4bd70e['length']===0x0){console[_0x20a0f1(0x167)]('No\x20results\x20found\x20for\x20this\x20page');_0x12a548==='next'&&(previewState['currentPage']=_0xe5ab9e,updatePreviewPaginationControls(![]));_0x53fce['innerHTML']='<div\x20class=\x22matches-loading\x22>No\x20more\x20matches\x20to\x20display'+(previewState[_0x20a0f1(0x1fb)]?_0x20a0f1(0x1a4):'')+'.</div>',setPreviewLoadingState(![]);return;}previewState['firstVisible']=_0x4bd70e[0x0],previewState['lastVisible']=_0x4bd70e[_0x4bd70e[_0x20a0f1(0x1e7)]-0x1];const _0x5746a2=_0x4bd70e['map'](_0x1e32b2=>({'id':_0x1e32b2['id'],..._0x1e32b2['data']()}));let _0x4b94b5=![];if(_0x4bd70e['length']===previewState['matchesPerPage']){const _0x328927=query(_0x3c251d,orderBy(_0x2adc82,_0x20a0f1(0x1dd)),startAfter(previewState['lastVisible']),limit(0x1)),_0x5bd991=await getDocs(_0x328927);_0x4b94b5=!_0x5bd991['empty'];}const _0x5e1b9b=applyClientFilters(_0x5746a2),_0x2d6d8b={'docsData':_0x5746a2,'hasNextPage':_0x4b94b5};cachePage(getCacheKey(previewState[_0x20a0f1(0x1af)],previewState['currentPage'],_0x2559a2),_0x2d6d8b);if(_0x3d28fe>0x1&&_0x12a548!=='next')for(let _0x7fb914=0x1;_0x7fb914<_0x3d28fe;_0x7fb914++){const _0x546c4e=(_0x7fb914-0x1)*previewState['matchesPerPage'],_0x6d8d58=_0x546c4e+previewState[_0x20a0f1(0x200)],_0x9d3cd6=_0x5c8731[_0x20a0f1(0x1d5)]['slice'](_0x546c4e,_0x6d8d58);if(_0x9d3cd6[_0x20a0f1(0x1e7)]>0x0){const _0x4bf87f=_0x9d3cd6['map'](_0x544b86=>({'id':_0x544b86['id'],..._0x544b86['data']()})),_0x4c7530=!![];cachePage(getCacheKey(previewState['currentMode'],_0x7fb914,_0x2559a2),{'docsData':_0x4bf87f,'hasNextPage':_0x4c7530}),console['log']('Cached\x20intermediary\x20page\x20'+_0x7fb914);}}_0x5e1b9b[_0x20a0f1(0x1e7)]===0x0&&previewState[_0x20a0f1(0x1fb)]?_0x53fce[_0x20a0f1(0x1ed)]='<div\x20class=\x22matches-loading\x22>No\x20matches\x20found\x20matching\x20filter:\x20\x22'+previewState['filterUsername']+_0x20a0f1(0x1ac):renderMatchCards(_0x5e1b9b),updatePreviewPaginationControls(_0x4b94b5);}catch(_0x1e8e36){console['error']('Error\x20fetching\x20'+previewState['currentMode']+'\x20matches:',_0x1e8e36),_0x53fce[_0x20a0f1(0x1ed)]='<div\x20class=\x22matches-loading\x22\x20style=\x22color:\x20red;\x22>Error\x20loading\x20matches:\x20'+_0x1e8e36[_0x20a0f1(0x17d)]+'</div>',updatePreviewPaginationControls(![]),previewState['currentPage']=_0xe5ab9e;}finally{setPreviewLoadingState(![]);}}async function renderMatchCards(_0xd054cc){const _0x589127=a6_0x233318,_0x15732f=document[_0x589127(0x1be)]('recent-matches-preview'),_0x106a93=document['getElementById']('match-card-template');if(!_0x15732f||!_0x106a93)return;!_0x15732f[_0x589127(0x19b)]('.matches-loading[style*=\x22color:\x20red\x22]')&&(_0x15732f['innerHTML']='');if(!_0xd054cc||_0xd054cc['length']===0x0){if(!_0x15732f['querySelector']('.matches-loading[style*=\x22color:\x20red\x22]')){const _0x31f54c=hasEnhancedFilters()?'\x20matching\x20filters':previewState['filterUsername']?'\x20matching\x20filters':'';_0x15732f['innerHTML']='<div\x20class=\x22matches-loading\x22>No\x20recent\x20matches\x20found'+_0x31f54c+'.</div>';}return;}const _0x56f88e=applyEnhancedClientFilters(_0xd054cc);if(_0x56f88e[_0x589127(0x1e7)]===0x0){_0x15732f['innerHTML']=_0x589127(0x191);return;}const _0x46f6af=_0x56f88e['map'](_0x202453=>getAllCommentsForMatch(_0x202453['id']));let _0x31f07a=[];try{_0x31f07a=await Promise['all'](_0x46f6af);}catch(_0x294166){console[_0x589127(0x19f)]('Error\x20fetching\x20comments\x20batch:',_0x294166),_0x31f07a=_0x56f88e['map'](()=>[]);}const _0x248c49={};_0x31f07a[_0x589127(0x1c5)]((_0x1b878b,_0xc84df3)=>{_0x248c49[_0x56f88e[_0xc84df3]['id']]=_0x1b878b||[];}),_0x56f88e[_0x589127(0x1c5)](_0x497e3a=>{const _0x2d88ba=_0x589127,_0x557c48=_0x106a93['content']['cloneNode'](!![]),_0x53d8c8=_0x557c48['querySelector']('.match-display-wrapper'),_0x55ff43=_0x557c48[_0x2d88ba(0x19b)]('.match-card'),_0x450061=getEloRankClass(_0x497e3a['winnerOldElo']);_0x55ff43['classList']['add']('winner-'+_0x450061),_0x55ff43['querySelector']('.match-map')[_0x2d88ba(0x1ff)]=_0x497e3a['mapPlayed']||'Unknown\x20Map',_0x55ff43['querySelector']('.match-date')['textContent']=formatDate(_0x497e3a['approvedAt']||_0x497e3a['createdAt']);const _0x197884=_0x55ff43[_0x2d88ba(0x19b)]('.player.winner\x20.player-name');_0x197884['textContent']=_0x497e3a['winnerUsername']||'Unknown',_0x197884['style']['color']=getEloColor(_0x497e3a['winnerOldElo']),_0x55ff43[_0x2d88ba(0x19b)]('.player.winner\x20.player-score')['textContent']=_0x497e3a[_0x2d88ba(0x1f0)]??0x0;const _0x2b815d=_0x55ff43['querySelector']('.player.winner\x20.player-suicides'),_0x42f7f6=_0x497e3a['winnerSuicides']||0x0;_0x2b815d['textContent']=_0x2d88ba(0x1c6)+_0x42f7f6;const _0x1b74d7=_0x55ff43[_0x2d88ba(0x19b)](_0x2d88ba(0x14f));_0x1b74d7[_0x2d88ba(0x1ff)]=_0x497e3a[_0x2d88ba(0x173)]||'Unknown',_0x1b74d7['style']['color']=getEloColor(_0x497e3a['loserOldElo']),_0x55ff43[_0x2d88ba(0x19b)]('.player.loser\x20.player-score')['textContent']=_0x497e3a['loserScore']??0x0;const _0x10a252=_0x55ff43['querySelector']('.player.loser\x20.player-suicides'),_0x26c18d=_0x497e3a[_0x2d88ba(0x180)]||0x0;_0x10a252['textContent']=_0x2d88ba(0x1c6)+_0x26c18d;const _0x3dad82=_0x55ff43[_0x2d88ba(0x19b)]('.match-subgame');if(_0x3dad82){if(_0x497e3a['subgameType']&&_0x497e3a['subgameType'][_0x2d88ba(0x158)]()!==''){_0x3dad82[_0x2d88ba(0x1ff)]=_0x497e3a['subgameType'],_0x3dad82[_0x2d88ba(0x1f3)]['display']='block';const _0x5bc43f=getSubgameClass(_0x497e3a['subgameType']);_0x5bc43f&&_0x3dad82['classList'][_0x2d88ba(0x1b4)](_0x5bc43f);}else _0x3dad82[_0x2d88ba(0x1ff)]='Standard\x20Match',_0x3dad82['style']['display']=_0x2d88ba(0x1e9),_0x3dad82[_0x2d88ba(0x1f3)]['opacity']=_0x2d88ba(0x1fc);}const _0x26d9d4=_0x55ff43['querySelector']('.comment.winner-comment'),_0x39c3cb=_0x55ff43[_0x2d88ba(0x19b)]('.comment.loser-comment'),_0x238726=_0x497e3a['winnerComment']||'',_0xfa5e94=_0x497e3a['loserComment']||'',_0x5811fc=_0x497e3a[_0x2d88ba(0x172)]||_0x497e3a['createdAt'],_0x2d4365=filterComment(_0x238726,_0x497e3a['winnerUsername'],_0x5811fc),_0x34b479=filterComment(_0xfa5e94,_0x497e3a['loserUsername'],_0x5811fc);_0x26d9d4[_0x2d88ba(0x1ff)]='\x22'+truncateComment(_0x238726)+'\x22',_0x39c3cb['textContent']='\x22'+truncateComment(_0xfa5e94)+'\x22';_0x238726&&!isUsernameMuted(_0x497e3a['winnerUsername'],_0x5811fc)?_0x26d9d4[_0x2d88ba(0x1a1)]=()=>showPreviewCommentPopup(_0x2d4365,_0x497e3a['winnerUsername']||'Winner',getEloColor(_0x497e3a['winnerOldElo'])):(_0x26d9d4['textContent']=_0x2d4365==='Muted.'?_0x2d88ba(0x160):'-',_0x26d9d4[_0x2d88ba(0x1f3)][_0x2d88ba(0x1c0)]='default',_0x26d9d4['onclick']=null);_0xfa5e94&&!isUsernameMuted(_0x497e3a[_0x2d88ba(0x173)])?_0x39c3cb['onclick']=()=>showPreviewCommentPopup(_0x34b479,_0x497e3a[_0x2d88ba(0x173)]||'Loser',getEloColor(_0x497e3a['loserOldElo'])):(_0x39c3cb['textContent']=_0x34b479==='Muted.'?'Muted.':'-',_0x39c3cb['style'][_0x2d88ba(0x1c0)]='default',_0x39c3cb[_0x2d88ba(0x1a1)]=null);const _0x3ca96c=_0x53d8c8?.['querySelector']('.community-comments-section');if(!_0x3ca96c)console[_0x2d88ba(0x168)](_0x2d88ba(0x1e0));else{const _0x4ff03f=_0x3ca96c['querySelector']('.comments-container'),_0x377fa2=_0x4ff03f?.['querySelector']('.no-comments-message'),_0x5c52b4=_0x3ca96c[_0x2d88ba(0x19b)](_0x2d88ba(0x14e));if(_0x4ff03f){while(_0x4ff03f['firstChild']&&_0x4ff03f['firstChild']!==_0x377fa2){_0x4ff03f['removeChild'](_0x4ff03f[_0x2d88ba(0x17b)]);}_0x5c52b4&&_0x5c52b4[_0x2d88ba(0x16a)]('click',()=>{showAddCommentPopup(_0x497e3a['id']);});const _0x54e697=_0x248c49[_0x497e3a['id']]||[];if(_0x54e697['length']>0x0){if(_0x377fa2)_0x377fa2['style']['display']='none';const _0x68cd44=(_0x3c62f5,_0x3743ad)=>{const _0x53574f=_0x2d88ba,_0x3fb82b=_0x3c62f5[_0x53574f(0x195)]('\x20');if(_0x3fb82b['length']<=_0x3743ad)return _0x3c62f5;return _0x3fb82b[_0x53574f(0x1d0)](0x0,_0x3743ad)['join']('\x20')+'...';};_0x54e697[_0x2d88ba(0x1c5)](_0x1923a6=>{const _0x1abf8c=_0x2d88ba,_0x535859=document[_0x1abf8c(0x1ca)](_0x1abf8c(0x1a5));if(_0x1923a6[_0x1abf8c(0x1a6)]===_0x1abf8c(0x1b2)){_0x535859['className']='demo-link',_0x535859['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22'+_0x1923a6['demoLink']+_0x1abf8c(0x176)+_0x1923a6['username']+_0x1abf8c(0x1f2)+(_0x1923a6['description']||'No\x20description\x20provided')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x3b06c6=window['auth'][_0x1abf8c(0x1f8)],_0x153119=_0x3b06c6&&_0x1923a6['userId']===_0x3b06c6['uid'];if(_0x153119){const _0x305ed8=document[_0x1abf8c(0x1ca)]('button');_0x305ed8['className']=_0x1abf8c(0x18a),_0x305ed8[_0x1abf8c(0x1ed)]='×',_0x305ed8[_0x1abf8c(0x151)]('aria-label','Delete\x20demo'),_0x305ed8[_0x1abf8c(0x16a)]('click',_0x52e343=>{const _0x37d1ca=_0x1abf8c;_0x52e343['preventDefault'](),_0x52e343[_0x37d1ca(0x1ba)](),deleteComment(_0x1923a6['id'],_0x535859);}),_0x535859[_0x1abf8c(0x186)](_0x305ed8);}}else{_0x535859['className']='comment-item';const _0x4a3a7a=isUsernameMuted(_0x1923a6['username'],_0x1923a6['timestamp']),_0x57b48f=_0x4a3a7a?_0x1abf8c(0x160):_0x68cd44(_0x1923a6['text']||'',0xf),_0xf0ce11=_0x1923a6['username']||_0x1abf8c(0x1ea),_0x197f07=window['auth']['currentUser'],_0x5d9b91=_0x197f07&&_0x1923a6['userId']===_0x197f07['uid'];let _0x1e0431='';_0x5d9b91&&(_0x1e0431='<button\x20class=\x22delete-comment-btn\x22\x20aria-label=\x22Delete\x20comment\x22>×</button>');_0x535859['innerHTML']=_0x1e0431+'<strong>'+_0xf0ce11+_0x1abf8c(0x1c4)+_0x57b48f+'\x22';if(_0x5d9b91){const _0x2df882=_0x535859['querySelector']('.delete-comment-btn');_0x2df882&&_0x2df882['addEventListener']('click',_0x4473a6=>{_0x4473a6['stopPropagation'](),deleteComment(_0x1923a6['id'],_0x535859);});}!_0x4a3a7a?_0x535859['addEventListener']('click',()=>{showFullCommentLightbox(_0x1923a6);}):_0x535859[_0x1abf8c(0x1f3)]['cursor']=_0x1abf8c(0x1ab);}_0x4ff03f['insertBefore'](_0x535859,_0x4ff03f[_0x1abf8c(0x17b)]);});}else{if(_0x377fa2)_0x377fa2['style'][_0x2d88ba(0x175)]='block';}}}const _0x4b76e9=_0x55ff43['querySelector'](_0x2d88ba(0x169));if(_0x4b76e9){const _0x1f470c=_0x55ff43['querySelector']('.winner-demo-link'),_0xe03795=_0x55ff43['querySelector'](_0x2d88ba(0x178)),_0x3e9cc0=_0x497e3a['winnerDemoLink']||null,_0x54119b=_0x497e3a['loserDemoLink']||_0x497e3a['demoLink']||null;console['log']('Match\x20'+_0x497e3a['id']+'\x20demo\x20links:',{'winner':_0x3e9cc0,'loser':_0x54119b}),_0x1f470c&&(_0x3e9cc0?(_0x1f470c[_0x2d88ba(0x153)]=_0x3e9cc0,_0x1f470c['style']['display']=_0x2d88ba(0x1f7),_0x1f470c['title']=_0x497e3a['winnerUsername']+_0x2d88ba(0x188)):_0x1f470c['style']['display']='none'),_0xe03795&&(_0x54119b?(_0xe03795[_0x2d88ba(0x153)]=_0x54119b,_0xe03795['style']['display']=_0x2d88ba(0x1f7),_0xe03795['title']=_0x497e3a['loserUsername']+'\x27s\x20Demo'):_0xe03795[_0x2d88ba(0x1f3)]['display']=_0x2d88ba(0x1de)),_0x3e9cc0&&_0x1f470c||_0x54119b&&_0xe03795?_0x4b76e9[_0x2d88ba(0x1f3)][_0x2d88ba(0x175)]='flex':_0x4b76e9['style'][_0x2d88ba(0x175)]='none';}_0x15732f['appendChild'](_0x557c48);});}function getSubgameClass(_0x12b48c){const _0x341d62=a6_0x233318,_0x12a201={'Fusion\x20Match':_0x341d62(0x1f6),'≥6\x20Missiles':_0x341d62(0x1f4),'≥6\x20missiles':_0x341d62(0x1f4),'Weapon\x20Imbalance':'weapon-imbalance','Blind\x20Match':_0x341d62(0x157),'Rematch':_0x341d62(0x1ae),'Disorientation':'disorientation','Ratting':'ratting','Altered\x20Powerups':'altered-powerups','Mega\x20Match':_0x341d62(0x1bb),'Dogfight':_0x341d62(0x16f),'Gauss\x20and\x20Mercs':'gauss-and-mercs'};return _0x12a201[_0x12b48c]||'';}async function deleteComment(_0x34a445,_0x5e1b8f){const _0x3a5b91=a6_0x233318,_0x3587c8=window[_0x3a5b91(0x1f5)][_0x3a5b91(0x1f8)];if(!_0x3587c8){alert(_0x3a5b91(0x192));return;}if(!confirm(_0x3a5b91(0x1cb)))return;try{const _0x998e59=doc(window['db'],'matchComments',_0x34a445),_0x241bb5=await getDoc(_0x998e59);if(!_0x241bb5['exists']()){alert('Comment\x20not\x20found.\x20It\x20may\x20have\x20already\x20been\x20deleted.');return;}const _0x18ac14=_0x241bb5['data']();if(_0x18ac14['userId']!==_0x3587c8['uid']){alert(_0x3a5b91(0x170));return;}await deleteDoc(_0x998e59);if(_0x5e1b8f&&_0x5e1b8f['parentNode']){_0x5e1b8f[_0x3a5b91(0x15f)]['removeChild'](_0x5e1b8f);const _0x230fa3=_0x5e1b8f[_0x3a5b91(0x183)]('.comments-container');if(_0x230fa3&&!_0x230fa3['querySelector']('.comment-item')){const _0x34e9d3=_0x230fa3['querySelector']('.no-comments-message');if(_0x34e9d3)_0x34e9d3['style'][_0x3a5b91(0x175)]=_0x3a5b91(0x1e9);}}console[_0x3a5b91(0x167)]('Comment\x20deleted\x20successfully');}catch(_0x32182e){console[_0x3a5b91(0x19f)]('Error\x20deleting\x20comment:',_0x32182e),alert(_0x3a5b91(0x18f)+_0x32182e['message']);}}async function getAllCommentsForMatch(_0x39b838){const _0x28acb9=a6_0x233318;if(!_0x39b838)return[];try{const _0x10b20d=collection(window['db'],'matchComments'),_0xf2817=query(_0x10b20d,where(_0x28acb9(0x19d),'==',_0x39b838),orderBy(_0x28acb9(0x1a8),_0x28acb9(0x1dd))),_0x28d5c2=await getDocs(_0xf2817);if(_0x28d5c2['empty'])return[];return _0x28d5c2['docs'][_0x28acb9(0x179)](_0x39227c=>({'id':_0x39227c['id'],..._0x39227c['data']()}));}catch(_0x17f732){return console['error'](_0x28acb9(0x166),_0x17f732),[];}}async function submitComment(_0x4cc16f){const _0x282557=a6_0x233318;_0x4cc16f[_0x282557(0x18d)]();if(!window[_0x282557(0x1f5)]||!window['db']){console['error'](_0x282557(0x156)),alert(_0x282557(0x16c));return;}const _0x14229f=window[_0x282557(0x1f5)]['currentUser'];if(!_0x14229f){alert('You\x20must\x20be\x20signed\x20in\x20to\x20leave\x20a\x20comment');return;}const _0xc93e4d=document[_0x282557(0x1be)](_0x282557(0x1a3))?.['value'],_0x20f3c0=document['getElementById']('commentText')?.[_0x282557(0x17a)]?.['trim']();if(!_0xc93e4d||!_0x20f3c0){alert('Please\x20enter\x20a\x20comment\x20before\x20submitting');return;}const _0x52eebf=_0x20f3c0['split'](/\s+/)[_0x282557(0x1ce)](_0x4d55ac=>_0x4d55ac[_0x282557(0x1e7)]>0x0)['length'];if(_0x52eebf>0xf){alert('Comments\x20are\x20limited\x20to\x2015\x20words\x20maximum.\x20Please\x20shorten\x20your\x20comment.');return;}const _0x24e304=document[_0x282557(0x19b)](_0x282557(0x17c));_0x24e304&&(_0x24e304[_0x282557(0x1fd)]=!![],_0x24e304[_0x282557(0x1ff)]=_0x282557(0x1c7));try{let _0x386cbb='Anonymous';try{const _0x44e686=doc(window['db'],_0x282557(0x1bf),_0x14229f[_0x282557(0x1db)]),_0x26b5d0=await getDoc(_0x44e686);if(_0x26b5d0['exists']()){const _0x4c3bd7=_0x26b5d0[_0x282557(0x1b6)]();_0x4c3bd7[_0x282557(0x1df)]&&(_0x386cbb=_0x4c3bd7['username']);}_0x386cbb==='Anonymous'&&_0x14229f['displayName']&&(_0x386cbb=_0x14229f['displayName']);}catch(_0x470743){console['warn']('Failed\x20to\x20fetch\x20user\x20profile:',_0x470743),_0x14229f[_0x282557(0x19c)]&&(_0x386cbb=_0x14229f['displayName']);}const _0x3dd5f4={'matchId':_0xc93e4d,'userId':_0x14229f[_0x282557(0x1db)],'username':_0x386cbb,'text':_0x20f3c0,'timestamp':serverTimestamp()};console['log']('Submitting\x20comment\x20as:',_0x386cbb);const _0x962926=collection(window['db'],'matchComments');await addDoc(_0x962926,_0x3dd5f4),console['log'](_0x282557(0x1b7)),closeAddCommentPopup(),loadRecentMatchesPreview('current');}catch(_0x1e48af){console['error']('Error\x20submitting\x20comment:',_0x1e48af),alert(_0x282557(0x1eb)+_0x1e48af[_0x282557(0x17d)]),_0x24e304&&(_0x24e304[_0x282557(0x1fd)]=![],_0x24e304[_0x282557(0x1ff)]='Submit');}}function closeAddCommentPopup(){const _0x39d6d4=a6_0x233318,_0x1a6c90=document['getElementById'](_0x39d6d4(0x1b5)),_0x293ca8=document[_0x39d6d4(0x1be)]('commentAddOverlay');if(_0x1a6c90)_0x1a6c90['style']['display']='none';if(_0x293ca8)_0x293ca8['style']['display']=_0x39d6d4(0x1de);}function showAddCommentPopup(_0x402d1b){const _0x48f724=a6_0x233318,_0x29e874=window[_0x48f724(0x1f5)][_0x48f724(0x1f8)];if(!_0x29e874){alert(_0x48f724(0x1b0));return;}let _0x9e8cfa=document['getElementById']('commentAddPopup'),_0x5774a2=document['getElementById']('commentAddOverlay');!_0x9e8cfa&&(_0x9e8cfa=document['createElement']('div'),_0x9e8cfa['id']=_0x48f724(0x1b5),_0x9e8cfa['className']='comment-popup',document[_0x48f724(0x193)]['appendChild'](_0x9e8cfa));!_0x5774a2&&(_0x5774a2=document['createElement']('div'),_0x5774a2['id']='commentAddOverlay',_0x5774a2['className']=_0x48f724(0x1d1),document[_0x48f724(0x193)]['appendChild'](_0x5774a2));_0x9e8cfa['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22popup-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Add\x20Comment\x20or\x20Demo</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22closeAddCommentPopup\x22\x20class=\x22close-btn\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22addCommentForm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22commentMatchId\x22\x20name=\x22commentMatchId\x22\x20value=\x22'+_0x402d1b+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-tabs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22option-tab\x20active\x22\x20data-option=\x22comment\x22>Add\x20Comment</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22option-divider\x22>OR</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22option-tab\x22\x20data-option=\x22demo\x22>Share\x20Demo\x20Link</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-content\x22\x20id=\x22commentOption\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22commentText\x22>Your\x20comment\x20(15\x20words\x20max):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22commentText\x22\x20name=\x22commentText\x22\x20rows=\x223\x22\x20placeholder=\x22Share\x20your\x20thoughts...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22word-counter\x22><span\x20id=\x22wordCount\x22>0</span>/15\x20words</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-content\x22\x20id=\x22demoOption\x22\x20style=\x22display:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22demoLink\x22>Demo\x20Link:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22url\x22\x20id=\x22demoLink\x22\x20name=\x22demoLink\x22\x20placeholder=\x22https://...\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22demoDescription\x22>Description\x20(20\x20words\x20max):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22demoDescription\x22\x20name=\x22demoDescription\x22\x20rows=\x222\x22\x20placeholder=\x22Describe\x20your\x20demo...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22word-counter\x22><span\x20id=\x22demoWordCount\x22>0</span>/20\x20words</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22submit\x22\x20class=\x22submit-comment-btn\x22>Submit</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</form>\x0a\x20\x20\x20\x20',_0x9e8cfa['style']['display']=_0x48f724(0x1e9),_0x5774a2['style']['display']='block',document[_0x48f724(0x1be)]('closeAddCommentPopup')['addEventListener'](_0x48f724(0x152),closeAddCommentPopup),_0x5774a2['addEventListener']('click',closeAddCommentPopup);const _0x13b821=_0x9e8cfa['querySelectorAll']('.option-tab');_0x13b821[_0x48f724(0x1c5)](_0x814ef8=>{const _0x27e117=_0x48f724;_0x814ef8[_0x27e117(0x16a)]('click',function(){const _0x212f05=_0x27e117;_0x13b821[_0x212f05(0x1c5)](_0x124721=>_0x124721['classList']['remove'](_0x212f05(0x174))),document['querySelectorAll']('.option-content')['forEach'](_0x217fc0=>_0x217fc0['style'][_0x212f05(0x175)]=_0x212f05(0x1de)),this['classList']['add']('active');const _0x5c0671=this['dataset']['option'];document[_0x212f05(0x1be)](_0x5c0671+'Option')['style']['display']=_0x212f05(0x1e9),_0x5c0671===_0x212f05(0x1b2)?(document[_0x212f05(0x1be)](_0x212f05(0x199))['setAttribute']('required',''),document[_0x212f05(0x1be)]('commentText')[_0x212f05(0x154)]('required')):(document[_0x212f05(0x1be)]('demoLink')[_0x212f05(0x154)](_0x212f05(0x1d2)),document['getElementById']('commentText')['setAttribute']('required',''));});}),document['getElementById']('commentText')[_0x48f724(0x151)](_0x48f724(0x1d2),''),document['getElementById']('demoLink')[_0x48f724(0x154)]('required'),setupWordCounter('commentText','wordCount',0xf),setupWordCounter('demoDescription','demoWordCount',0x14),document[_0x48f724(0x1be)]('addCommentForm')['addEventListener']('submit',submitCommentOrDemo);}function setupWordCounter(_0x1ba6fb,_0x2f1e14,_0x3088be){const _0x200386=document['getElementById'](_0x1ba6fb),_0x18e903=document['getElementById'](_0x2f1e14);if(!_0x200386||!_0x18e903)return;_0x1b0d9d(),_0x200386['addEventListener']('input',_0x1b0d9d);function _0x1b0d9d(){const _0xd7bde6=a6_0x2e36,_0x3f09c7=_0x200386[_0xd7bde6(0x17a)]['trim'](),_0x32db8a=_0x3f09c7?_0x3f09c7['split'](/\s+/)['filter'](_0x49c60c=>_0x49c60c['length']>0x0)[_0xd7bde6(0x1e7)]:0x0;_0x18e903['textContent']=_0x32db8a,_0x32db8a>_0x3088be?_0x18e903['style']['color']='#ff4444':_0x18e903['style']['color']='#aaa';}}async function submitCommentOrDemo(_0x16aac7){const _0x33d76b=a6_0x233318;_0x16aac7[_0x33d76b(0x18d)]();if(!window['auth']||!window['db']){console['error']('Firebase\x20not\x20initialized'),alert(_0x33d76b(0x181));return;}const _0x1aa35c=window['auth'][_0x33d76b(0x1f8)];if(!_0x1aa35c){alert('You\x20must\x20be\x20signed\x20in\x20to\x20continue');return;}const _0xd0b69e=document['getElementById']('commentMatchId')['value'],_0x4f07f3=document['querySelector']('.option-tab.active')[_0x33d76b(0x1cf)]['option'];let _0x2939d3='Anonymous';try{const _0x54467e=doc(window['db'],_0x33d76b(0x1bf),_0x1aa35c['uid']),_0x5bd680=await getDoc(_0x54467e);if(_0x5bd680[_0x33d76b(0x1c2)]()){const _0x12006a=_0x5bd680['data']();_0x12006a[_0x33d76b(0x1df)]&&(_0x2939d3=_0x12006a['username']);}_0x2939d3===_0x33d76b(0x1ea)&&_0x1aa35c['displayName']&&(_0x2939d3=_0x1aa35c['displayName']);}catch(_0x62b993){console['warn']('Failed\x20to\x20fetch\x20username:',_0x62b993),_0x1aa35c['displayName']&&(_0x2939d3=_0x1aa35c['displayName']);}const _0x1ceb42=document[_0x33d76b(0x19b)](_0x33d76b(0x17c));_0x1ceb42&&(_0x1ceb42['disabled']=!![],_0x1ceb42['textContent']='Submitting...');try{if(_0x4f07f3===_0x33d76b(0x150)){const _0x3cdda=document['getElementById']('commentText')['value']['trim']();if(!_0x3cdda){alert('Please\x20enter\x20a\x20comment\x20before\x20submitting'),_0x1ceb42['disabled']=![],_0x1ceb42['textContent']='Submit';return;}const _0x3440d6=_0x3cdda['split'](/\s+/)['filter'](_0x70249e=>_0x70249e['length']>0x0)[_0x33d76b(0x1e7)];if(_0x3440d6>0xf){alert('Comments\x20are\x20limited\x20to\x2015\x20words\x20maximum.\x20Please\x20shorten\x20your\x20comment.'),_0x1ceb42[_0x33d76b(0x1fd)]=![],_0x1ceb42['textContent']='Submit';return;}const _0x28291d={'matchId':_0xd0b69e,'userId':_0x1aa35c['uid'],'username':_0x2939d3,'text':_0x3cdda,'type':'comment','timestamp':serverTimestamp()},_0x2695fa=collection(window['db'],_0x33d76b(0x1a0));await addDoc(_0x2695fa,_0x28291d);}else{const _0x191619=document['getElementById']('demoLink')[_0x33d76b(0x17a)]['trim'](),_0x2a7572=document[_0x33d76b(0x1be)]('demoDescription')[_0x33d76b(0x17a)][_0x33d76b(0x158)]()||'Demo\x20link';if(!_0x191619){alert('Please\x20enter\x20a\x20demo\x20link'),_0x1ceb42[_0x33d76b(0x1fd)]=![],_0x1ceb42['textContent']='Submit';return;}try{new URL(_0x191619);}catch(_0x445f9e){alert('Please\x20enter\x20a\x20valid\x20URL\x20for\x20the\x20demo\x20link'),_0x1ceb42['disabled']=![],_0x1ceb42['textContent']='Submit';return;}const _0x442459=_0x2a7572[_0x33d76b(0x195)](/\s+/)['filter'](_0x30849e=>_0x30849e[_0x33d76b(0x1e7)]>0x0)['length'];if(_0x442459>0x14){alert('Demo\x20descriptions\x20are\x20limited\x20to\x2020\x20words\x20maximum.\x20Please\x20shorten\x20your\x20description.'),_0x1ceb42[_0x33d76b(0x1fd)]=![],_0x1ceb42['textContent']='Submit';return;}const _0x46a9de={'matchId':_0xd0b69e,'userId':_0x1aa35c['uid'],'username':_0x2939d3,'demoLink':_0x191619,'description':_0x2a7572,'type':_0x33d76b(0x1b2),'text':_0x33d76b(0x1c8)+_0x2a7572,'timestamp':serverTimestamp()},_0x47f1d5=collection(window['db'],_0x33d76b(0x1a0));await addDoc(_0x47f1d5,_0x46a9de);}closeAddCommentPopup(),loadRecentMatchesPreview('current');}catch(_0x12e89a){console['error'](_0x33d76b(0x1bc),_0x12e89a),alert('Failed\x20to\x20submit:\x20'+_0x12e89a['message']),_0x1ceb42&&(_0x1ceb42[_0x33d76b(0x1fd)]=![],_0x1ceb42['textContent']='Submit');}}function getEloRankClass(_0x92fbb6){const _0x40cfcd=a6_0x233318,_0x42b36c=Number(_0x92fbb6);if(_0x42b36c>=0x7d0)return'emerald';else{if(_0x42b36c>=0x708)return'gold';else{if(_0x42b36c>=0x640)return'silver';else{if(_0x42b36c>=0x578)return _0x40cfcd(0x19e);else return _0x40cfcd(0x17f);}}}}function showPreviewCommentPopup(_0x4e65d5,_0x2bddd4,_0x223436='#fff'){const _0x306c75=a6_0x233318,_0x57cd74=document['getElementById']('commentPopupPreview'),_0x3324d6=document['getElementById'](_0x306c75(0x155)),_0x23438c=document['getElementById'](_0x306c75(0x16b)),_0x4cd604=document[_0x306c75(0x1be)]('commentPopupContentPreview'),_0x289f32=document['getElementById']('reportCommentButton');if(!_0x57cd74||!_0x3324d6||!_0x23438c||!_0x4cd604||!_0x289f32)return;_0x57cd74[_0x306c75(0x1cf)]['commentText']=_0x4e65d5,_0x57cd74['dataset'][_0x306c75(0x184)]=_0x2bddd4,_0x23438c['style']['color']=_0x223436,_0x23438c['textContent']='Comment\x20from\x20'+_0x2bddd4,_0x4cd604['textContent']=_0x4e65d5,_0x289f32['onclick']=reportComment,_0x57cd74['style']['display']='block',_0x3324d6[_0x306c75(0x1f3)][_0x306c75(0x175)]='block';}function closePreviewCommentPopup(){const _0x5f2324=a6_0x233318,_0x27bdaa=document['getElementById']('commentPopupPreview'),_0x59763b=document['getElementById'](_0x5f2324(0x155));if(_0x27bdaa)_0x27bdaa['style'][_0x5f2324(0x175)]='none';if(_0x59763b)_0x59763b['style']['display']=_0x5f2324(0x1de);}async function reportComment(){const _0x542c5e=a6_0x233318,_0x4469d0=window['auth']['currentUser'];if(!_0x4469d0){alert(_0x542c5e(0x165));return;}if(!confirm('Are\x20you\x20sure\x20you\x20want\x20to\x20report\x20this\x20comment\x20as\x20inappropriate?'))return;try{const _0x4883a8=document[_0x542c5e(0x1be)](_0x542c5e(0x1e8)),_0x119d5e={'commentAuthor':_0x4883a8['dataset']['commentUser']||_0x542c5e(0x1bd),'commentText':_0x4883a8['dataset']['commentText']||'','matchId':previewState['currentMatchId']||'','reportedBy':_0x4469d0[_0x542c5e(0x1db)],'reporterUsername':_0x4469d0['displayName']||'Anonymous\x20User','reportedAt':serverTimestamp()},_0x1cfaf4=collection(window['db'],'badComments');await addDoc(_0x1cfaf4,_0x119d5e),alert('Thank\x20you.\x20The\x20comment\x20has\x20been\x20reported\x20and\x20will\x20be\x20reviewed.'),closePreviewCommentPopup();}catch(_0x51a7fa){console['error']('Error\x20reporting\x20comment:',_0x51a7fa),alert(_0x542c5e(0x171)+_0x51a7fa['message']);}}function showFullCommentLightbox(_0x4492f4){const _0x3df9fd=a6_0x233318;if(isUsernameMuted(_0x4492f4[_0x3df9fd(0x1df)]))return;const _0x341976=document['getElementById'](_0x3df9fd(0x1e8)),_0x22e99d=document['getElementById']('commentOverlayPreview'),_0x5e324e=document['getElementById'](_0x3df9fd(0x16b)),_0x20d07c=document['getElementById']('commentPopupContentPreview');if(!_0x341976||!_0x22e99d||!_0x5e324e||!_0x20d07c)return;_0x5e324e[_0x3df9fd(0x1f3)][_0x3df9fd(0x1ec)]='#fff',_0x5e324e['textContent']='Comment\x20from\x20'+_0x4492f4[_0x3df9fd(0x1df)];if(_0x4492f4[_0x3df9fd(0x1a8)]){const _0x49153f=new Date(_0x4492f4[_0x3df9fd(0x1a8)][_0x3df9fd(0x1b3)]*0x3e8),_0x502b02=_0x49153f['toLocaleString']();_0x20d07c['innerHTML']=_0x3df9fd(0x1aa)+_0x4492f4[_0x3df9fd(0x1c1)]+'</p><small\x20style=\x22color:#aaa;\x20display:block;\x20text-align:right;\x20margin-top:10px;\x22>Posted\x20on\x20'+_0x502b02+_0x3df9fd(0x1d4);}else _0x20d07c['textContent']=_0x4492f4['text'];_0x341976['dataset']['commentId']=_0x4492f4['id']||'',_0x341976['dataset']['commentUser']=_0x4492f4['username']||'',_0x341976['dataset']['commentText']=_0x4492f4['text']||'',_0x341976['dataset'][_0x3df9fd(0x19d)]=_0x4492f4['matchId']||'';const _0x2b20ab=_0x341976[_0x3df9fd(0x19b)]('.popup-actions')||document[_0x3df9fd(0x1ca)]('div');!_0x341976[_0x3df9fd(0x19b)](_0x3df9fd(0x196))?(_0x2b20ab['className']=_0x3df9fd(0x1e3),_0x2b20ab[_0x3df9fd(0x1f3)]['display']=_0x3df9fd(0x1f7),_0x2b20ab['style'][_0x3df9fd(0x187)]='center',_0x2b20ab['style']['gap']='10px',_0x2b20ab[_0x3df9fd(0x1f3)]['marginTop']='15px',_0x341976['appendChild'](_0x2b20ab)):_0x2b20ab['innerHTML']='';const _0x19d278=document['createElement'](_0x3df9fd(0x1ee));_0x19d278['textContent']='Close',_0x19d278['className']='popup-btn\x20close-btn',_0x19d278['id']='closeCommentPopupPreview',_0x19d278['addEventListener']('click',closePreviewCommentPopup);const _0x9bcb1e=document[_0x3df9fd(0x1ca)](_0x3df9fd(0x1ee));_0x9bcb1e[_0x3df9fd(0x1ff)]=_0x3df9fd(0x1fa),_0x9bcb1e['className']=_0x3df9fd(0x194),_0x9bcb1e['style']['backgroundColor']=_0x3df9fd(0x18e),_0x9bcb1e['addEventListener'](_0x3df9fd(0x152),reportComment),_0x2b20ab['appendChild'](_0x19d278),_0x2b20ab['appendChild'](_0x9bcb1e),_0x341976['style']['display']='block',_0x22e99d[_0x3df9fd(0x1f3)][_0x3df9fd(0x175)]='block';}export function setupPreviewEventListeners(){const _0xcc2f5=a6_0x233318,_0x11ae75=document[_0xcc2f5(0x1be)]('previewPrevPage'),_0x1b66fe=document[_0xcc2f5(0x1be)]('previewNextPage'),_0x4c369b=document['getElementById']('preview-d1-button'),_0x5386c7=document[_0xcc2f5(0x1be)]('preview-d2-button'),_0x234fe1=document['getElementById'](_0xcc2f5(0x1e2)),_0x93587b=document[_0xcc2f5(0x1be)]('filter-toggle-button'),_0x477443=document['getElementById']('enhanced-filter-section');if(!_0x11ae75||!_0x1b66fe||!_0x4c369b||!_0x5386c7||!_0x234fe1||!_0x93587b||!_0x477443){console['warn'](_0xcc2f5(0x1f1));return;}_0x11ae75['addEventListener']('click',()=>{const _0x4e23ed=_0xcc2f5;if(!_0x11ae75['disabled'])loadRecentMatchesPreview(_0x4e23ed(0x162));}),_0x1b66fe['addEventListener'](_0xcc2f5(0x152),()=>{const _0x2d27ae=_0xcc2f5;if(!_0x1b66fe['disabled'])loadRecentMatchesPreview(_0x2d27ae(0x1dc));}),_0x4c369b['addEventListener'](_0xcc2f5(0x152),()=>{const _0x5c8e0c=_0xcc2f5;previewState['currentMode']!=='D1'&&!previewState['isLoading']&&(previewState[_0x5c8e0c(0x1af)]='D1',updatePreviewLadderModeUI(),loadRecentMatchesPreview(_0x5c8e0c(0x1e5)));}),_0x5386c7[_0xcc2f5(0x16a)](_0xcc2f5(0x152),()=>{previewState['currentMode']!=='D2'&&!previewState['isLoading']&&(previewState['currentMode']='D2',updatePreviewLadderModeUI(),loadRecentMatchesPreview('current'));}),_0x234fe1['addEventListener'](_0xcc2f5(0x152),()=>{const _0x2e2c74=_0xcc2f5;previewState['currentMode']!=='D3'&&!previewState[_0x2e2c74(0x1a7)]&&(previewState['currentMode']='D3',updatePreviewLadderModeUI(),loadRecentMatchesPreview('current'));});_0x93587b&&_0x477443&&_0x93587b['addEventListener'](_0xcc2f5(0x152),()=>{const _0xd83c62=_0xcc2f5,_0xea4153=_0x477443[_0xd83c62(0x1f3)]['display']!=='none';_0x477443['style']['display']=_0xea4153?_0xd83c62(0x1de):'block',_0x93587b['classList']['toggle']('active',!_0xea4153);});const _0x43bb13=document[_0xcc2f5(0x1be)](_0xcc2f5(0x1a2)),_0x3a4886=document['getElementById'](_0xcc2f5(0x18c));_0x43bb13&&_0x43bb13[_0xcc2f5(0x16a)]('click',()=>{const _0x25340d=_0xcc2f5;previewState['enhancedFilters'][_0x25340d(0x197)]=document[_0x25340d(0x1be)]('filter-pilots')['value']['trim'](),previewState['enhancedFilters'][_0x25340d(0x1b9)]=document['getElementById'](_0x25340d(0x15d))['value']['trim']();const _0x75592a=document['getElementById']('filter-subgames');previewState['enhancedFilters']['subgames']=Array['from'](_0x75592a[_0x25340d(0x1da)])['map'](_0x294803=>_0x294803['value'])['filter'](_0x2b48c7=>_0x2b48c7!==''),loadRecentMatchesPreview('current');});_0x3a4886&&_0x3a4886['addEventListener']('click',()=>{clearEnhancedFilters(),loadRecentMatchesPreview('current');});document['querySelectorAll']('.jump-btn')[_0xcc2f5(0x1c5)](_0x40c07d=>{_0x40c07d['addEventListener']('click',()=>{const _0x56e727=a6_0x2e36,_0x503cf7=_0x40c07d[_0x56e727(0x1cf)]['jump'];jumpToPage(_0x503cf7);});});const _0x408bcb=document['getElementById']('jump-to-page');_0x408bcb&&_0x408bcb['addEventListener']('keypress',_0x20e2b8=>{const _0x4d3233=_0xcc2f5;_0x20e2b8[_0x4d3233(0x16e)]==='Enter'&&jumpToPage('input');});const _0x60c77d=document['getElementById'](_0xcc2f5(0x190)),_0x16fa9f=document['getElementById']('commentOverlayPreview');if(_0x60c77d)_0x60c77d[_0xcc2f5(0x16a)]('click',closePreviewCommentPopup);if(_0x16fa9f)_0x16fa9f['addEventListener']('click',closePreviewCommentPopup);const _0x10e10c=document[_0xcc2f5(0x1be)]('closeAddCommentPopup'),_0xc325d7=document[_0xcc2f5(0x1be)]('commentAddOverlay'),_0x380316=document['getElementById']('addCommentForm');if(_0x10e10c)_0x10e10c['addEventListener'](_0xcc2f5(0x152),closeAddCommentPopup);if(_0xc325d7)_0xc325d7['addEventListener']('click',closeAddCommentPopup);if(_0x380316)_0x380316['addEventListener'](_0xcc2f5(0x1b8),submitComment);const _0x4c7866=document['getElementById'](_0xcc2f5(0x1cc)),_0x1ae395=document['getElementById']('wordCount');_0x4c7866&&_0x1ae395&&setupWordCounter(_0xcc2f5(0x1cc),_0xcc2f5(0x1e6),0xf);}window[a6_0x233318(0x1f9)]=showAddCommentPopup,window['closeAddCommentPopup']=closeAddCommentPopup,window['submitComment']=submitComment;