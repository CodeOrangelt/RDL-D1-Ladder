function a22_0x4ae7(){const _0x3f9162=['getElementById','display:\x20flex;\x20justify-content:\x20center;\x20gap:\x2010px;','display','forEach','textContent','includes','querySelector','Forcing\x20idle\x20timeout...','style','length','suspendAllListeners','backgroundColor','apply','addEventListener','createElement','none','\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#202020;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2030px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20500px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x200\x2020px\x20rgba(0,\x200,\x200,\x200.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20','error','mousedown','Session\x20suspended:','message','location','\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#ff5555;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-right:\x2010px;\x0a\x20\x20\x20\x20','bind','onmouseover','network-error-overlay','click','Pending\x20operations:','RDL_SESSION_SUSPENDED','button','Failed\x20to\x20test\x20connection:','appendChild','body','trace','touchstart','cssText','size','__proto__','pendingOperations','disabled','Reload\x20Page','color:\x20#50C878;\x20margin-bottom:\x2020px;\x20font-size:\x2024px;','log','\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20rgba(0,\x200,\x200,\x200.85);\x0a\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x209999;\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20backdrop-filter:\x20blur(5px);\x0a\x20\x20\x20\x20','Connection\x20Error','Your\x20session\x20has\x20been\x20suspended\x20after\x201\x20minutes\x20of\x20inactivity\x20for\x20security\x20reasons.','Network\x20error\x20detected,\x20showing\x20error\x20overlay','network','cursor','Retrying\x20connection...','resumeAllListeners','Return\x20to\x20Website','keys','#50C878','idle-overlay','Idle\x20timeout\x20initialized:'];a22_0x4ae7=function(){return _0x3f9162;};return a22_0x4ae7();}import a22_0xb6b3d4,{enhanceIdleTimeout}from'./firebase-idle-wrapper.js';const IDLE_TIMEOUT=0xea60;let idleTimer=null,isSessionSuspended=![],networkErrorRetryCount=0x0;const MAX_NETWORK_RETRIES=0x3;function createIdleOverlay(){const _0x7304c5=a22_0x1aa1;if(document['getElementById'](_0x7304c5(0x1de)))return;const _0x14e499=document['createElement']('div');_0x14e499['id']=_0x7304c5(0x1de),_0x14e499['style'][_0x7304c5(0x1cb)]=_0x7304c5(0x1d3);const _0x2471a6=document['createElement']('div');_0x2471a6[_0x7304c5(0x1b0)]['cssText']=_0x7304c5(0x1b8);const _0x394ad4=document['createElement']('h2');_0x394ad4['textContent']='Session\x20Suspended\x20Due\x20to\x20Inactivity',_0x394ad4['style']['cssText']=_0x7304c5(0x1d1);const _0x3c205c=document['createElement']('p');_0x3c205c[_0x7304c5(0x1ac)]=_0x7304c5(0x1d5),_0x3c205c[_0x7304c5(0x1b0)][_0x7304c5(0x1cb)]='color:\x20#fff;\x20margin-bottom:\x2030px;';const _0x1df620=document['createElement']('button');_0x1df620['id']='resume-session-btn',_0x1df620['textContent']=_0x7304c5(0x1db),_0x1df620['style']['cssText']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#50C878;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s;\x0a\x20\x20\x20\x20',_0x1df620[_0x7304c5(0x1c0)]=function(){const _0x3449c8=_0x7304c5;this[_0x3449c8(0x1b0)]['backgroundColor']='#3da05f';},_0x1df620['onmouseout']=function(){const _0x20368a=_0x7304c5;this['style'][_0x20368a(0x1b3)]=_0x20368a(0x1dd);},_0x2471a6['appendChild'](_0x394ad4),_0x2471a6[_0x7304c5(0x1c7)](_0x3c205c),_0x2471a6['appendChild'](_0x1df620),_0x14e499['appendChild'](_0x2471a6),document[_0x7304c5(0x1c8)]['appendChild'](_0x14e499),_0x1df620['addEventListener']('click',resumeSession),createNetworkErrorOverlay();}function a22_0x1aa1(_0x535a0f,_0x54c9df){const _0x41c258=a22_0x4ae7();return a22_0x1aa1=function(_0x47d651,_0x35a2ee){_0x47d651=_0x47d651-0x1a8;let _0x4ae7f4=_0x41c258[_0x47d651];return _0x4ae7f4;},a22_0x1aa1(_0x535a0f,_0x54c9df);}function createNetworkErrorOverlay(){const _0x472735=a22_0x1aa1;if(document[_0x472735(0x1a8)]('network-error-overlay'))return;const _0x58d500=document['createElement']('div');_0x58d500['id']='network-error-overlay',_0x58d500[_0x472735(0x1b0)]['cssText']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20rgba(0,\x200,\x200,\x200.85);\x0a\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x209999;\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20backdrop-filter:\x20blur(5px);\x0a\x20\x20\x20\x20';const _0x1d35be=document['createElement']('div');_0x1d35be[_0x472735(0x1b0)][_0x472735(0x1cb)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#202020;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2030px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20500px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x200\x2020px\x20rgba(0,\x200,\x200,\x200.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20';const _0x394ba1=document['createElement']('h2');_0x394ba1[_0x472735(0x1ac)]=_0x472735(0x1d4),_0x394ba1['style']['cssText']='color:\x20#ff5555;\x20margin-bottom:\x2020px;\x20font-size:\x2024px;';const _0x3f109e=document['createElement']('p');_0x3f109e[_0x472735(0x1ac)]='We\x27re\x20having\x20trouble\x20connecting\x20to\x20the\x20server.\x20This\x20may\x20be\x20due\x20to\x20network\x20issues\x20or\x20server\x20maintenance.',_0x3f109e['style']['cssText']='color:\x20#fff;\x20margin-bottom:\x2030px;';const _0x539a42=document['createElement'](_0x472735(0x1c5));_0x539a42['id']='retry-connection-btn',_0x539a42['textContent']='Retry\x20Connection',_0x539a42['style']['cssText']=_0x472735(0x1be);const _0x274239=document[_0x472735(0x1b6)]('button');_0x274239['id']='reload-page-btn',_0x274239[_0x472735(0x1ac)]=_0x472735(0x1d0),_0x274239['style']['cssText']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#5555ff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#fff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s;\x0a\x20\x20\x20\x20';const _0x38791c=document[_0x472735(0x1b6)]('div');_0x38791c['style']['cssText']=_0x472735(0x1a9),_0x38791c[_0x472735(0x1c7)](_0x539a42),_0x38791c['appendChild'](_0x274239),_0x1d35be['appendChild'](_0x394ba1),_0x1d35be[_0x472735(0x1c7)](_0x3f109e),_0x1d35be['appendChild'](_0x38791c),_0x58d500['appendChild'](_0x1d35be),document['body']['appendChild'](_0x58d500),_0x539a42['addEventListener'](_0x472735(0x1c2),retryConnection),_0x274239['addEventListener']('click',()=>window['location']['reload']());}function resetIdleTimer(){if(isSessionSuspended)return;clearTimeout(idleTimer),idleTimer=setTimeout(suspendSession,IDLE_TIMEOUT);}function handleNetworkError(){const _0x25cc9f=a22_0x1aa1;clearTimeout(idleTimer);const _0x33fd51=document['getElementById']('network-error-overlay');_0x33fd51&&(_0x33fd51[_0x25cc9f(0x1b0)]['display']='flex'),window['RDL_NETWORK_ERROR']=!![],console['log'](_0x25cc9f(0x1d6)),a22_0xb6b3d4[_0x25cc9f(0x1b2)]();}function retryConnection(){const _0x36273e=a22_0x1aa1;networkErrorRetryCount++;if(networkErrorRetryCount>MAX_NETWORK_RETRIES){const _0x528a6f=document[_0x36273e(0x1ae)]('#network-error-overlay\x20p');_0x528a6f&&(_0x528a6f[_0x36273e(0x1ac)]='Multiple\x20connection\x20attempts\x20failed.\x20Please\x20reload\x20the\x20page\x20or\x20try\x20again\x20later.');const _0x26b0f8=document['getElementById']('retry-connection-btn');_0x26b0f8&&(_0x26b0f8[_0x36273e(0x1cf)]=!![],_0x26b0f8[_0x36273e(0x1b0)]['opacity']='0.5',_0x26b0f8['style'][_0x36273e(0x1d8)]='not-allowed');return;}const _0x4cf489=document['getElementById'](_0x36273e(0x1c1));_0x4cf489&&(_0x4cf489['style'][_0x36273e(0x1aa)]=_0x36273e(0x1b7));window['RDL_NETWORK_ERROR']=![],resetIdleTimer(),console[_0x36273e(0x1d2)](_0x36273e(0x1d9));try{const {rdlFirestore:_0x2d5701}=window;if(_0x2d5701){const _0x5a94f6=_0x2d5701['collection']('system');_0x2d5701['getDocs'](_0x5a94f6)['catch'](_0x1275b7=>{console['error']('Connection\x20test\x20failed:',_0x1275b7),handleNetworkError();});}}catch(_0x40c973){console['error'](_0x36273e(0x1c6),_0x40c973),handleNetworkError();}a22_0xb6b3d4['resumeAllListeners']();}function suspendSession(){const _0x3ee4c7=a22_0x1aa1;isSessionSuspended=!![];const _0x32919e=document[_0x3ee4c7(0x1a8)]('idle-overlay');_0x32919e&&(_0x32919e['style']['display']='flex'),console[_0x3ee4c7(0x1d2)]('Session\x20suspended\x20due\x20to\x20inactivity'),window[_0x3ee4c7(0x1c4)]=!![],a22_0xb6b3d4[_0x3ee4c7(0x1b2)]();}function resumeSession(){const _0x37540f=a22_0x1aa1;isSessionSuspended=![],window['RDL_SESSION_SUSPENDED']=![];const _0x373eef=document['getElementById'](_0x37540f(0x1de));_0x373eef&&(_0x373eef[_0x37540f(0x1b0)]['display']=_0x37540f(0x1b7)),console[_0x37540f(0x1d2)]('Session\x20resumed'),resetIdleTimer(),a22_0xb6b3d4[_0x37540f(0x1da)](),idleTimer&&Date['now']()-(window['RDL_LAST_ACTIVITY']||0x0)>IDLE_TIMEOUT*0x2&&(console['log']('Session\x20was\x20idle\x20for\x20too\x20long,\x20reloading\x20page'),window[_0x37540f(0x1bd)]['reload']());}function initIdleTimeout(){const _0x2c6cff=a22_0x1aa1,_0x438423=(function(){let _0x4c57fa=!![];return function(_0x193104,_0xa41985){const _0x4fde97=_0x4c57fa?function(){const _0x41a862=a22_0x1aa1;if(_0xa41985){const _0x4633e2=_0xa41985[_0x41a862(0x1b4)](_0x193104,arguments);return _0xa41985=null,_0x4633e2;}}:function(){};return _0x4c57fa=![],_0x4fde97;};}()),_0x197702=_0x438423(this,function(){const _0x38c888=a22_0x1aa1,_0x543abc=function(){let _0x25b46d;try{_0x25b46d=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x230932){_0x25b46d=window;}return _0x25b46d;},_0x4d490d=_0x543abc(),_0x52acec=_0x4d490d['console']=_0x4d490d['console']||{},_0x5e7f51=['log','warn','info','error','exception','table',_0x38c888(0x1c9)];for(let _0x57ab38=0x0;_0x57ab38<_0x5e7f51[_0x38c888(0x1b1)];_0x57ab38++){const _0x224439=_0x438423['constructor']['prototype']['bind'](_0x438423),_0xbd7d17=_0x5e7f51[_0x57ab38],_0x24a56b=_0x52acec[_0xbd7d17]||_0x224439;_0x224439[_0x38c888(0x1cd)]=_0x438423[_0x38c888(0x1bf)](_0x438423),_0x224439['toString']=_0x24a56b['toString']['bind'](_0x24a56b),_0x52acec[_0xbd7d17]=_0x224439;}});_0x197702(),createIdleOverlay();const _0x290341=[_0x2c6cff(0x1ba),'mousemove','keypress','scroll',_0x2c6cff(0x1ca),'click'];_0x290341[_0x2c6cff(0x1ab)](_0x547ef0=>{document['addEventListener'](_0x547ef0,()=>{window['RDL_LAST_ACTIVITY']=Date['now'](),resetIdleTimer();},!![]);}),window[_0x2c6cff(0x1b5)](_0x2c6cff(0x1b9),function(_0x26e411){const _0x4c5505=_0x2c6cff;_0x26e411[_0x4c5505(0x1b9)]&&(_0x26e411['error']['message']&&_0x26e411['error'][_0x4c5505(0x1bc)]['includes'](_0x4c5505(0x1d7))||_0x26e411['error']['code']&&(_0x26e411['error']['code']==='unavailable'||_0x26e411['error']['code']==='resource-exhausted'||_0x26e411['error']['code'][_0x4c5505(0x1ad)](_0x4c5505(0x1d7))))&&(handleNetworkError(),_0x26e411['preventDefault']());}),resetIdleTimer(),console['log'](_0x2c6cff(0x1df),IDLE_TIMEOUT,'ms'),window['suspendSession']=suspendSession,window['resumeSession']=resumeSession,enhanceIdleTimeout(),window['checkFirebaseIdleStatus']=function(){const _0x2e30f6=_0x2c6cff;return console['log'](_0x2e30f6(0x1bb),window['RDL_SESSION_SUSPENDED']),console['log']('Network\x20error:',window['RDL_NETWORK_ERROR']),console[_0x2e30f6(0x1d2)]('Active\x20listeners:',a22_0xb6b3d4['activeListeners'][_0x2e30f6(0x1cc)]),console[_0x2e30f6(0x1d2)](_0x2e30f6(0x1c3),a22_0xb6b3d4[_0x2e30f6(0x1ce)]['size']),console[_0x2e30f6(0x1d2)]('Blocked\x20operations:',a22_0xb6b3d4['blockedOperations']||0x0),{'suspended':window['RDL_SESSION_SUSPENDED'],'networkError':window['RDL_NETWORK_ERROR'],'activeListeners':Array['from'](a22_0xb6b3d4['activeListeners'][_0x2e30f6(0x1dc)]()),'pendingOperations':Array['from'](a22_0xb6b3d4['pendingOperations']['keys']()),'blockedCount':a22_0xb6b3d4['blockedOperations']||0x0};},window['forceIdleTimeout']=function(){const _0x71787d=_0x2c6cff;console['log'](_0x71787d(0x1af)),suspendSession();};}export{initIdleTimeout,isSessionSuspended,handleNetworkError};document['readyState']==='loading'?document['addEventListener']('DOMContentLoaded',initIdleTimeout):initIdleTimeout();