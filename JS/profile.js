const a42_0x19b589=a42_0x27b2;(function(_0x5f3c65,_0x3d0f75){const _0x43c450=a42_0x27b2,_0x5ed0af=_0x5f3c65();while(!![]){try{const _0x51ef3e=parseInt(_0x43c450(0x161))/0x1+parseInt(_0x43c450(0x13e))/0x2*(parseInt(_0x43c450(0x172))/0x3)+-parseInt(_0x43c450(0x16a))/0x4*(parseInt(_0x43c450(0x12c))/0x5)+-parseInt(_0x43c450(0x136))/0x6+-parseInt(_0x43c450(0x133))/0x7*(-parseInt(_0x43c450(0x17c))/0x8)+parseInt(_0x43c450(0x132))/0x9+parseInt(_0x43c450(0x13f))/0xa*(-parseInt(_0x43c450(0x15d))/0xb);if(_0x51ef3e===_0x3d0f75)break;else _0x5ed0af['push'](_0x5ed0af['shift']());}catch(_0x3ea591){_0x5ed0af['push'](_0x5ed0af['shift']());}}}(a42_0x1201,0xb0e2c));const a42_0x2ea4f9=(function(){let _0x1ce57f=!![];return function(_0xf8851f,_0x5d79c3){const _0x248f67=_0x1ce57f?function(){if(_0x5d79c3){const _0x26c4c8=_0x5d79c3['apply'](_0xf8851f,arguments);return _0x5d79c3=null,_0x26c4c8;}}:function(){};return _0x1ce57f=![],_0x248f67;};}()),a42_0x357041=a42_0x2ea4f9(this,function(){const _0x34f0b0=a42_0x27b2;return a42_0x357041[_0x34f0b0(0x15e)]()[_0x34f0b0(0x166)](_0x34f0b0(0x173))['toString']()['constructor'](a42_0x357041)[_0x34f0b0(0x166)]('(((.+)+)+)+$');});function a42_0x27b2(_0x25c105,_0x5389ee){const _0x1cce0e=a42_0x1201();return a42_0x27b2=function(_0x181441,_0x308304){_0x181441=_0x181441-0x128;let _0x2bae42=_0x1cce0e[_0x181441];return _0x2bae42;},a42_0x27b2(_0x25c105,_0x5389ee);}a42_0x357041();const a42_0x308304=(function(){let _0x2d68f6=!![];return function(_0x2d262,_0x3c4a1f){const _0x1f94ce=_0x2d68f6?function(){const _0x37f788=a42_0x27b2;if(_0x3c4a1f){const _0x4b7c58=_0x3c4a1f[_0x37f788(0x14c)](_0x2d262,arguments);return _0x3c4a1f=null,_0x4b7c58;}}:function(){};return _0x2d68f6=![],_0x1f94ce;};}()),a42_0x181441=a42_0x308304(this,function(){const _0x2b13f0=a42_0x27b2;let _0x5221de;try{const _0x189058=Function('return\x20(function()\x20'+_0x2b13f0(0x16e)+');');_0x5221de=_0x189058();}catch(_0x3d6615){_0x5221de=window;}const _0x516674=_0x5221de[_0x2b13f0(0x165)]=_0x5221de[_0x2b13f0(0x165)]||{},_0x4ff2d4=['log',_0x2b13f0(0x175),'info',_0x2b13f0(0x14a),'exception',_0x2b13f0(0x134),_0x2b13f0(0x151)];for(let _0x1b13bd=0x0;_0x1b13bd<_0x4ff2d4[_0x2b13f0(0x137)];_0x1b13bd++){const _0x352a79=a42_0x308304[_0x2b13f0(0x163)][_0x2b13f0(0x138)]['bind'](a42_0x308304),_0xf60c00=_0x4ff2d4[_0x1b13bd],_0x911cbd=_0x516674[_0xf60c00]||_0x352a79;_0x352a79[_0x2b13f0(0x170)]=a42_0x308304[_0x2b13f0(0x164)](a42_0x308304),_0x352a79[_0x2b13f0(0x15e)]=_0x911cbd[_0x2b13f0(0x15e)][_0x2b13f0(0x164)](_0x911cbd),_0x516674[_0xf60c00]=_0x352a79;}});a42_0x181441();import{initializeApp}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js';import{getAuth,onAuthStateChanged}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';function a42_0x1201(){const _0xdf5ce8=['__proto__','currentUser','33JBRpEd','(((.+)+)+)+$','readAsDataURL','warn','profiles','get','pfpInput','target','handleImageUpload','src','8TFIGun','winnerScore','profile-preview','stats-kd','loadProfile','DOMContentLoaded','Error\x20saving\x20profile.\x20Please\x20try\x20again.','1285255TAnCpZ','handleSubmit','stats-losses','profile-pictures/','Error\x20loading\x20profile:','favoriteWeapon','6646608LkwfMl','4926089rbOSny','table','loadPlayerStats','3123384wdHPeB','length','prototype','loserUsername','addEventListener','change','data','files','247964HfZYfO','290qrJwmf','toFixed','textContent','matches','forEach','stats-','favorite-weapon','form','submit','profile-form','value','error','nickname','apply','getElementById','pfpPreview','pfpUrl','stats-wins','trace','winrate','Please\x20sign\x20in\x20to\x20save\x20your\x20profile','result','preventDefault','all','statsContainer','motto','log','size','player-stats','Error\x20loading\x20player\x20stats:','657635qplmrt','toString','Stats\x20calculated:','setupEventListeners','429863zrqhAd','pfp-upload','constructor','bind','console','search','losses','winnerUsername','favoriteMap','4pnFVEz','approvedMatches','loserScore','onload','{}.constructor(\x22return\x20this\x22)(\x20)','uid'];a42_0x1201=function(){return _0xdf5ce8;};return a42_0x1201();}import{getFirestore,doc,setDoc,getDoc,collection,getDocs,query,where}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{getStorage,ref,uploadBytes,getDownloadURL}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-storage.js';import{firebaseConfig}from'./firebase-config.js';const app=initializeApp(firebaseConfig),auth=getAuth(app),db=getFirestore(app),storage=getStorage(app);class ProfileManager{constructor(){const _0x3ab6a1=a42_0x27b2;this['form']=document['getElementById'](_0x3ab6a1(0x148)),this[_0x3ab6a1(0x178)]=document['getElementById'](_0x3ab6a1(0x162)),this[_0x3ab6a1(0x14e)]=document[_0x3ab6a1(0x14d)](_0x3ab6a1(0x17e)),this[_0x3ab6a1(0x157)]=document[_0x3ab6a1(0x14d)](_0x3ab6a1(0x15b)),this[_0x3ab6a1(0x160)](),this['loadProfile']();}[a42_0x19b589(0x160)](){const _0x5e093c=a42_0x19b589;this[_0x5e093c(0x178)][_0x5e093c(0x13a)](_0x5e093c(0x13b),_0x5f0667=>this['handleImageUpload'](_0x5f0667)),this[_0x5e093c(0x146)][_0x5e093c(0x13a)](_0x5e093c(0x147),_0xa4f50=>this[_0x5e093c(0x12d)](_0xa4f50));}async[a42_0x19b589(0x17a)](_0x3aa620){const _0x1162de=a42_0x19b589,_0x143b39=_0x3aa620[_0x1162de(0x179)][_0x1162de(0x13d)][0x0];if(_0x143b39){const _0x517378=new FileReader();_0x517378[_0x1162de(0x16d)]=_0x9191fb=>{const _0x1599c0=_0x1162de;this[_0x1599c0(0x14e)][_0x1599c0(0x17b)]=_0x9191fb[_0x1599c0(0x179)][_0x1599c0(0x154)];},_0x517378[_0x1162de(0x174)](_0x143b39);}}async[a42_0x19b589(0x12d)](_0x8cfabc){const _0xdc5490=a42_0x19b589;_0x8cfabc[_0xdc5490(0x155)]();const _0x25601e=auth[_0xdc5490(0x171)];if(!_0x25601e){alert(_0xdc5490(0x153));return;}try{const _0xb7b12a=new FormData(this['form']),_0x2ad22e={'nickname':_0xb7b12a[_0xdc5490(0x177)](_0xdc5490(0x14b)),'motto':_0xb7b12a['get']('motto'),'favoriteMap':_0xb7b12a[_0xdc5490(0x177)]('favorite-map'),'favoriteWeapon':_0xb7b12a[_0xdc5490(0x177)](_0xdc5490(0x145)),'updatedAt':new Date()['toISOString']()},_0xa67e26=this[_0xdc5490(0x178)]['files'][0x0];if(_0xa67e26){const _0x2607d7=ref(storage,_0xdc5490(0x12f)+_0x25601e[_0xdc5490(0x16f)]);await uploadBytes(_0x2607d7,_0xa67e26),_0x2ad22e[_0xdc5490(0x14f)]=await getDownloadURL(_0x2607d7);}await setDoc(doc(db,'profiles',_0x25601e[_0xdc5490(0x16f)]),_0x2ad22e),alert('Profile\x20saved\x20successfully!');}catch(_0x18d07a){console[_0xdc5490(0x14a)]('Error\x20saving\x20profile:',_0x18d07a),alert(_0xdc5490(0x12b));}}async[a42_0x19b589(0x129)](){onAuthStateChanged(auth,async _0x64c72e=>{const _0x4592da=a42_0x27b2;if(_0x64c72e)try{const _0x1aa93e=await getDoc(doc(db,_0x4592da(0x176),_0x64c72e[_0x4592da(0x16f)]));if(_0x1aa93e['exists']()){const _0x5a580d=_0x1aa93e['data']();document[_0x4592da(0x14d)](_0x4592da(0x14b))['value']=_0x5a580d[_0x4592da(0x14b)]||'',document['getElementById'](_0x4592da(0x158))[_0x4592da(0x149)]=_0x5a580d[_0x4592da(0x158)]||'',document[_0x4592da(0x14d)]('favorite-map')[_0x4592da(0x149)]=_0x5a580d[_0x4592da(0x169)]||'',document[_0x4592da(0x14d)](_0x4592da(0x145))[_0x4592da(0x149)]=_0x5a580d[_0x4592da(0x131)]||'',_0x5a580d['pfpUrl']&&(this[_0x4592da(0x14e)][_0x4592da(0x17b)]=_0x5a580d['pfpUrl']),await this[_0x4592da(0x135)](_0x5a580d[_0x4592da(0x14b)]);}}catch(_0x1d2978){console[_0x4592da(0x14a)](_0x4592da(0x130),_0x1d2978);}});}async['loadPlayerStats'](_0x337807){const _0x3de8f6=a42_0x19b589;if(!_0x337807)return;try{const _0x104d07=collection(db,_0x3de8f6(0x16b)),[_0x456a03,_0x56efcc]=await Promise[_0x3de8f6(0x156)]([getDocs(query(_0x104d07,where(_0x3de8f6(0x168),'==',_0x337807))),getDocs(query(_0x104d07,where(_0x3de8f6(0x139),'==',_0x337807)))]),_0x2ade59=_0x456a03[_0x3de8f6(0x15a)],_0x113c4c=_0x56efcc[_0x3de8f6(0x15a)],_0x28f7ca=_0x2ade59+_0x113c4c;let _0x59632=0x0,_0x35238e=0x0;_0x456a03[_0x3de8f6(0x143)](_0x37b86d=>{const _0x40ea44=_0x3de8f6,_0x14e8a5=_0x37b86d[_0x40ea44(0x13c)]();if(_0x14e8a5['winnerScore'])_0x59632+=parseInt(_0x14e8a5['winnerScore']);if(_0x14e8a5['loserScore'])_0x35238e+=parseInt(_0x14e8a5[_0x40ea44(0x16c)]);}),_0x56efcc[_0x3de8f6(0x143)](_0x44c786=>{const _0x76c9e0=_0x3de8f6,_0x3e50f1=_0x44c786[_0x76c9e0(0x13c)]();if(_0x3e50f1[_0x76c9e0(0x16c)])_0x59632+=parseInt(_0x3e50f1[_0x76c9e0(0x16c)]);if(_0x3e50f1[_0x76c9e0(0x17d)])_0x35238e+=parseInt(_0x3e50f1[_0x76c9e0(0x17d)]);});const _0x30f5b7=_0x35238e===0x0?_0x59632[_0x3de8f6(0x140)](0x2):(_0x59632/_0x35238e)[_0x3de8f6(0x140)](0x2),_0x1a5e0c=_0x28f7ca===0x0?'0':(_0x2ade59/_0x28f7ca*0x64)[_0x3de8f6(0x140)](0x1);console[_0x3de8f6(0x159)](_0x3de8f6(0x15f),{'totalMatches':_0x28f7ca,'wins':_0x2ade59,'losses':_0x113c4c,'totalKills':_0x59632,'totalDeaths':_0x35238e,'kdRatio':_0x30f5b7,'winRate':_0x1a5e0c}),document[_0x3de8f6(0x14d)]('stats-matches')[_0x3de8f6(0x141)]=_0x28f7ca,document[_0x3de8f6(0x14d)](_0x3de8f6(0x150))[_0x3de8f6(0x141)]=_0x2ade59,document[_0x3de8f6(0x14d)](_0x3de8f6(0x12e))['textContent']=_0x113c4c,document[_0x3de8f6(0x14d)](_0x3de8f6(0x128))[_0x3de8f6(0x141)]=_0x30f5b7,document[_0x3de8f6(0x14d)]('stats-winrate')['textContent']=_0x1a5e0c+'%';}catch(_0x36b977){console['error'](_0x3de8f6(0x15c),_0x36b977),[_0x3de8f6(0x142),'wins',_0x3de8f6(0x167),'kd',_0x3de8f6(0x152)][_0x3de8f6(0x143)](_0x2af560=>{const _0x3b5c49=_0x3de8f6;document[_0x3b5c49(0x14d)](_0x3b5c49(0x144)+_0x2af560)[_0x3b5c49(0x141)]='-';});}}}document[a42_0x19b589(0x13a)](a42_0x19b589(0x12a),()=>{new ProfileManager();});