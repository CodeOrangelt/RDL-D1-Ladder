const a40_0x24d2fe=(function(){let _0x417641=!![];return function(_0x56e912,_0x5dc34d){const _0x2f7cff=_0x417641?function(){if(_0x5dc34d){const _0x4ad73e=_0x5dc34d['apply'](_0x56e912,arguments);return _0x5dc34d=null,_0x4ad73e;}}:function(){};return _0x417641=![],_0x2f7cff;};}()),a40_0x52d2b6=a40_0x24d2fe(this,function(){const _0x5a46f3=a40_0x31b2,_0x4ae606=function(){let _0x443c69;try{_0x443c69=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x21bd7f){_0x443c69=window;}return _0x443c69;},_0x23f9c1=_0x4ae606(),_0x188f58=_0x23f9c1['console']=_0x23f9c1['console']||{},_0x4b6f3f=[_0x5a46f3(0xed),'warn','info','error','exception','table','trace'];for(let _0x542c2b=0x0;_0x542c2b<_0x4b6f3f[_0x5a46f3(0xe8)];_0x542c2b++){const _0x792b9a=a40_0x24d2fe[_0x5a46f3(0xf0)]['prototype']['bind'](a40_0x24d2fe),_0x35b3b0=_0x4b6f3f[_0x542c2b],_0x4b5559=_0x188f58[_0x35b3b0]||_0x792b9a;_0x792b9a[_0x5a46f3(0xe7)]=a40_0x24d2fe['bind'](a40_0x24d2fe),_0x792b9a['toString']=_0x4b5559['toString'][_0x5a46f3(0xf2)](_0x4b5559),_0x188f58[_0x35b3b0]=_0x792b9a;}});a40_0x52d2b6();import{getEloHistory,resetPagination}from'./elo-history.js';function a40_0x31b2(_0x4eb7ff,_0x12c4f1){const _0x52d2b6=a40_0xd474();return a40_0x31b2=function(_0x24d2fe,_0x4e03d9){_0x24d2fe=_0x24d2fe-0xe3;let _0xd4749f=_0x52d2b6[_0x24d2fe];return _0xd4749f;},a40_0x31b2(_0x4eb7ff,_0x12c4f1);}let currentPage=0x1,allMatches=[];const matchesPerPage=0xa;async function displayEloHistory(){const _0x341d63=a40_0x31b2,_0x1e10b7=document[_0x341d63(0xfa)]('#elo-history\x20tbody'),_0x333d92=document[_0x341d63(0xe9)](_0x341d63(0xf6));try{const {entries:_0x4aad63,hasMore:_0x3785c4}=await getEloHistory();if(_0x4aad63[_0x341d63(0xe8)]===0x0){_0x1e10b7[_0x341d63(0xf5)]='<tr><td\x20colspan=\x226\x22>No\x20ELO\x20history\x20available</td></tr>';return;}allMatches=_0x4aad63,_0x1e10b7['innerHTML']=_0x4aad63['map'](_0x3105ae=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x3105ae['timestamp']?new Date(_0x3105ae['timestamp'][_0x341d63(0xf3)]())[_0x341d63(0xee)]():_0x341d63(0xf4))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x3105ae[_0x341d63(0xe3)]+_0x341d63(0xea)+_0x3105ae[_0x341d63(0xe6)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x3105ae['newElo']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x3105ae['change']>0x0?'+'+_0x3105ae['change']:_0x3105ae[_0x341d63(0xf8)])+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x3105ae['opponent']+_0x341d63(0xea)+_0x3105ae[_0x341d63(0xe4)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x341d63(0xec)](''),createPaginationControls();}catch(_0xa3ecd4){console[_0x341d63(0xe5)]('Error\x20displaying\x20ELO\x20history:',_0xa3ecd4),_0x1e10b7[_0x341d63(0xf5)]='<tr><td\x20colspan=\x226\x22>Error\x20loading\x20ELO\x20history</td></tr>';}}function createPaginationControls(){const _0x4c9b60=a40_0x31b2,_0xf13c3d=Math['ceil'](allMatches['length']/matchesPerPage),_0x26f272=document['createElement']('div');_0x26f272['className']='pagination-wrapper',_0x26f272['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pagination-controls\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22prevPage\x22\x20'+(currentPage===0x1?'disabled':'')+'>Previous</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-navigation\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>Page\x20'+currentPage+'\x20of\x20'+_0xf13c3d+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-search\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22pageInput\x22\x20min=\x221\x22\x20max=\x22'+_0xf13c3d+_0x4c9b60(0xef)+currentPage+_0x4c9b60(0xf7)+(currentPage===_0xf13c3d?'disabled':'')+_0x4c9b60(0xeb);const _0xe67274=document['querySelector']('#elo-history');_0xe67274['parentNode']['insertBefore'](_0x26f272,_0xe67274['nextSibling']),document['getElementById']('prevPage')['addEventListener']('click',()=>{if(currentPage>0x1)displayMatchesPage(currentPage-0x1);}),document['getElementById']('nextPage')['addEventListener']('click',()=>{if(currentPage<_0xf13c3d)displayMatchesPage(currentPage+0x1);}),document[_0x4c9b60(0xe9)]('goToPage')[_0x4c9b60(0xfc)]('click',()=>{const _0x5d7c0a=document['getElementById']('pageInput'),_0x4e2849=parseInt(_0x5d7c0a['value']);_0x4e2849>=0x1&&_0x4e2849<=_0xf13c3d&&displayMatchesPage(_0x4e2849);}),document['getElementById']('pageInput')['addEventListener']('keypress',_0x1376b4=>{const _0x5a75b3=_0x4c9b60;if(_0x1376b4['key']==='Enter'){const _0x5917c0=parseInt(_0x1376b4['target'][_0x5a75b3(0xfb)]);_0x5917c0>=0x1&&_0x5917c0<=_0xf13c3d&&displayMatchesPage(_0x5917c0);}});}function a40_0xd474(){const _0x1ba764=['player','matchResult','error','previousElo','__proto__','length','getElementById','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','>Next</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','join','log','toLocaleString','\x22\x20value=\x22','constructor','map','bind','toDate','N/A','innerHTML','pagination','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goToPage\x22>Go</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22nextPage\x22\x20','change','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','querySelector','value','addEventListener','slice','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20'];a40_0xd474=function(){return _0x1ba764;};return a40_0xd474();}async function displayMatchesPage(_0x308d5f){const _0x4ad370=a40_0x31b2;currentPage=_0x308d5f;const _0x4edaff=(currentPage-0x1)*matchesPerPage,_0x5e088d=_0x4edaff+matchesPerPage,_0x2eb09e=allMatches[_0x4ad370(0xfd)](_0x4edaff,_0x5e088d),_0x55ce93=document[_0x4ad370(0xfa)]('#elo-history\x20tbody');_0x55ce93['innerHTML']=_0x2eb09e[_0x4ad370(0xf1)](_0x440678=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x440678['timestamp']?new Date(_0x440678['timestamp']['toDate']())['toLocaleString']():'N/A')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x440678[_0x4ad370(0xe3)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x440678[_0x4ad370(0xe6)]+_0x4ad370(0xf9)+_0x440678['newElo']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x440678[_0x4ad370(0xf8)]>0x0?'+'+_0x440678['change']:_0x440678['change'])+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x440678['opponent']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x440678['matchResult']+_0x4ad370(0xfe))['join'](''),createPaginationControls();}document['addEventListener']('DOMContentLoaded',displayEloHistory);