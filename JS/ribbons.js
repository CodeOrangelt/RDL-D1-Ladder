const a48_0x48c18c=a48_0x37be,a48_0x38dbf5=(function(){let _0x5f33a0=!![];return function(_0x52b566,_0x36d606){const _0x17a6f5=_0x5f33a0?function(){if(_0x36d606){const _0x35f83a=_0x36d606['apply'](_0x52b566,arguments);return _0x36d606=null,_0x35f83a;}}:function(){};return _0x5f33a0=![],_0x17a6f5;};}()),a48_0x2b4abc=a48_0x38dbf5(this,function(){const _0x3c78e5=a48_0x37be,_0x4688fe=function(){const _0x116439=a48_0x37be;let _0x4015fe;try{_0x4015fe=Function('return\x20(function()\x20'+_0x116439(0xf3)+');')();}catch(_0xfe94ee){_0x4015fe=window;}return _0x4015fe;},_0xd24391=_0x4688fe(),_0x294948=_0xd24391['console']=_0xd24391['console']||{},_0x5b916e=['log','warn','info','error','exception',_0x3c78e5(0xab),'trace'];for(let _0x1fbd9f=0x0;_0x1fbd9f<_0x5b916e['length'];_0x1fbd9f++){const _0x2f5dfd=a48_0x38dbf5[_0x3c78e5(0xf1)]['prototype']['bind'](a48_0x38dbf5),_0x5d3d4e=_0x5b916e[_0x1fbd9f],_0x312890=_0x294948[_0x5d3d4e]||_0x2f5dfd;_0x2f5dfd['__proto__']=a48_0x38dbf5[_0x3c78e5(0x10d)](a48_0x38dbf5),_0x2f5dfd['toString']=_0x312890['toString'][_0x3c78e5(0x10d)](_0x312890),_0x294948[_0x5d3d4e]=_0x2f5dfd;}});a48_0x2b4abc();import{auth,db}from'./firebase-config.js';import{doc,getDoc,setDoc,collection,query,where,getDocs,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const RIBBON_DEFINITIONS={'Rematch\x20Ribbon':{'description':'Beat\x20a\x20pilot\x20with\x20the\x20\x22Rematch\x22\x20subgame\x20selected','image':a48_0x48c18c(0xf0),'color':'#FF6B6B'},'Overachiever\x20Ribbon':{'description':a48_0x48c18c(0xc6),'image':a48_0x48c18c(0xe3),'color':a48_0x48c18c(0x9d),'levels':[0x64,0xc8,0x12c,0x190,0x1f4,0x258,0x2bc,0x320,0x384,0x3e8]},'Brick\x20Wall':{'description':'Amass\x20at\x20least\x2080%\x20overall\x20win\x20rate\x20percentage\x20(minimum\x2050\x20matches)','image':a48_0x48c18c(0xd4),'color':'#F0932B','levels':[0x50,0x55,0x5a,0x5f,0x64]},'Collector\x20Ribbon':{'description':'Hold\x20more\x20than\x205\x20ribbons\x20at\x20a\x20time','image':'../images/ribbons/Collector.png','color':a48_0x48c18c(0x109),'levels':[0x5,0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32]},'Sub-Gamer\x20Ribbon':{'description':a48_0x48c18c(0xaa),'image':'../images/ribbons/Subgamer.png','color':a48_0x48c18c(0x8f),'levels':[0x32,0x64,0x96,0xc8,0xfa,0x12c,0x15e,0x190,0x1c2,0x1f4]},'Explorer\x20Ribbon':{'description':'Played\x20at\x20least\x2020\x20unique\x20maps','image':'../images/ribbons/Explorer.png','color':'#55A3FF','levels':[0x14,0x28,0x3c,0x50,0x64,0x78,0x8c,0xa0,0xb4,0xc8]},'Socialite\x20Ribbon':{'description':a48_0x48c18c(0x91),'image':'../images/ribbons/Socialite.png','color':'#FF7675','levels':[0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32,0x37]},'Underdog\x20Ribbon':{'description':'Beat\x20a\x20pilot\x20ranked\x20higher\x20than\x20you','image':'../images/ribbons/Underdog.png','color':'#FF9500','levels':[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0x9,0xa]},'Domination\x20Ribbon':{'description':a48_0x48c18c(0xc3),'image':'../images/ribbons/Domination.png','color':a48_0x48c18c(0x10a),'levels':[0x1,0x2,0x3,0x4,0x5]},'Top\x20Bronze\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Bronze\x20rank','image':'../images/ribbons/toprank.png','color':'#CD7F32'},'Top\x20Silver\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Silver\x20rank','image':'../images/ribbons/toprank.png','color':'#C0C0C0'},'Top\x20Gold\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Gold\x20rank','image':'../images/ribbons/toprank.png','color':'#FFD700'},'Top\x20Emerald\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Emerald\x20rank','image':'../images/ribbons/toprank.png','color':a48_0x48c18c(0xc2)}};export const RIBBON_CSS='\x0a/*\x20Stats\x20integration\x20styles\x20*/\x0a.ribbon-section\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-top:\x201rem;\x0a}\x0a\x0a.ribbon-stat-item.full-width\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-bottom:\x200;\x0a}\x0a\x0a/*\x20Military\x20Ribbon\x20Rack\x20Styling\x20-\x20NO\x20OUTER\x20CONTAINER\x20*/\x0a.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20padding:\x200;\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20box-shadow:\x20none;\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20align-items:\x20flex-start;\x0a}\x0a\x0a.ribbon-rack-empty-inline\x20{\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20padding:\x2060px\x2040px;\x0a\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20border-radius:\x2012px;\x0a\x20\x20\x20\x20border:\x202px\x20solid\x20rgba(255,\x20255,\x20255,\x200.1);\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a}\x0a\x0a.empty-rack-text\x20{\x0a\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20font-style:\x20italic;\x0a\x20\x20\x20\x20font-size:\x201.2rem;\x0a}\x0a\x0a/*\x20Ribbon\x20Rows\x20*/\x0a.ribbon-row\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x206px;\x0a\x20\x20\x20\x20margin-bottom:\x206px;\x0a\x20\x20\x20\x20justify-content:\x20flex-start;\x0a}\x0a\x0a.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20margin-left:\x2060px;\x0a}\x0a\x0a/*\x20Individual\x20Military\x20Ribbon\x20Styling\x20-\x20FIXED\x20OVERFLOW\x20FOR\x20LEVEL\x20INDICATOR\x20*/\x0a.military-ribbon\x20{\x0a\x20\x20\x20\x20position:\x20relative;\x0a\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20transition:\x20transform\x200.3s\x20ease;\x0a\x20\x20\x20\x20flex-shrink:\x200;\x0a\x20\x20\x20\x20width:\x20190px;\x0a\x20\x20\x20\x20height:\x2060px;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#333;\x0a\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20overflow:\x20visible;\x20/*\x20Changed\x20from\x20hidden\x20to\x20visible\x20*/\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20margin:\x2012px\x2012px\x2012px\x200;\x20/*\x20Added\x20margin\x20to\x20prevent\x20clipping\x20*/\x0a}\x0a\x0a.military-ribbon:hover\x20{\x0a\x20\x20\x20\x20transform:\x20translateY(-4px);\x0a\x20\x20\x20\x20z-index:\x2010;\x0a}\x0a\x0a/*\x20Ribbon\x20image\x20container\x20to\x20handle\x20the\x20actual\x20overflow\x20*/\x0a.ribbon-image-container\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20border-radius:\x201px;\x0a}\x0a\x0a.ribbon-image\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20object-fit:\x20cover;\x0a\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20image-rendering:\x20crisp-edges;\x0a}\x0a\x0a.ribbon-fallback\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20text-shadow:\x200\x202px\x204px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a}\x0a\x0a.ribbon-name\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.9);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201.2;\x0a\x20\x20\x20\x20margin-top:\x206px;\x0a\x20\x20\x20\x20max-width:\x20120px;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20text-overflow:\x20ellipsis;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20-24px;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20font-weight:\x20500;\x0a}\x0a\x0a.military-ribbon:hover\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20display:\x20block;\x0a}\x0a\x0a.ribbon-devices\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x2050%;\x0a\x20\x20\x20\x20right:\x206px;\x0a\x20\x20\x20\x20transform:\x20translateY(-50%);\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x203px;\x0a\x20\x20\x20\x20z-index:\x205;\x0a}\x0a\x0a.ribbon-device\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20text-shadow:\x200\x200\x204px\x20rgba(0,0,0,0.9);\x0a\x20\x20\x20\x20filter:\x20drop-shadow(0\x202px\x204px\x20rgba(0,0,0,0.8));\x0a}\x0a\x0a.bronze-star\x20{\x0a\x20\x20\x20\x20color:\x20#CD7F32;\x0a}\x0a\x0a.silver-star\x20{\x0a\x20\x20\x20\x20color:\x20#C0C0C0;\x0a}\x0a\x0a.gold-star\x20{\x0a\x20\x20\x20\x20color:\x20#FFD700;\x0a}\x0a\x0a/*\x20Level\x20indicator\x20-\x20NOW\x20FULLY\x20VISIBLE\x20*/\x0a.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x20-8px;\x0a\x20\x20\x20\x20right:\x20-8px;\x0a\x20\x20\x20\x20background:\x20#FFD700;\x0a\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20width:\x2024px;\x0a\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#FFF;\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x208px\x20rgba(0,0,0,0.7);\x0a\x20\x20\x20\x20z-index:\x206;\x0a}\x0a\x0a/*\x20Custom\x20tooltip\x20-\x20only\x20this\x20one\x20will\x20show\x20*/\x0a.military-ribbon::before\x20{\x0a\x20\x20\x20\x20content:\x20attr(data-tooltip);\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20100%;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20background:\x20rgba(0,0,0,0.95);\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20padding:\x208px\x2012px;\x0a\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20pointer-events:\x20none;\x0a\x20\x20\x20\x20transition:\x20opacity\x200.3s;\x0a\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20margin-bottom:\x208px;\x0a\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(255,\x20255,\x20255,\x200.2);\x0a}\x0a\x0a.military-ribbon:hover::before\x20{\x0a\x20\x20\x20\x20opacity:\x201;\x0a}\x0a\x0a/*\x20Responsive\x20adjustments\x20*/\x0a@media\x20(max-width:\x201024px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2034px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x208px\x208px\x208px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-6px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-6px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2052px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-20px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20768px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2028px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x206px\x206px\x206px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x209px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-5px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-5px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2042px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2011px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-18px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x205px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20480px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2070px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x205px\x205px\x205px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2036px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x204px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-4px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-4px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a.stats-grid\x20.ribbon-section\x20{\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20padding:\x200;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20{\x0a\x20\x20\x20\x20background-color:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20padding:\x2025px;\x0a\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20.stat-label\x20{\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20text-transform:\x20uppercase;\x0a\x20\x20\x20\x20opacity:\x200.9;\x0a\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.95);\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a}\x0a\x0a.ribbon-level-indicator.level-1\x20{\x20background:\x20#808080;\x20}\x0a.ribbon-level-indicator.level-2\x20{\x20background:\x20#CD7F32;\x20}\x0a.ribbon-level-indicator.level-3\x20{\x20background:\x20#b9f1fc;\x20}\x0a.ribbon-level-indicator.level-4\x20{\x20background:\x20#FFD700;\x20}\x0a.ribbon-level-indicator.level-5-plus\x20{\x20background:\x20#50C878;\x20}\x0a';class RibbonCacheManager{constructor(){const _0x5deba1=a48_0x48c18c;this['memoryCache']=new Map(),this[_0x5deba1(0x8a)]=0x3c*0x3c*0x3e8,this['CACHE_KEY_PREFIX']='ribbon_cache_',this[_0x5deba1(0xa1)]=Date['now'](),this[_0x5deba1(0xe7)]=0x1e*0x3c*0x3e8;}[a48_0x48c18c(0xff)](_0x1195f2,_0x1d0a9a){return''+this['CACHE_KEY_PREFIX']+_0x1195f2+'_'+_0x1d0a9a;}['getCachedData'](_0x2a98a3,_0x4fca01){const _0x32a1aa=a48_0x48c18c;this['autoCleanup']();const _0x3589fe=this['getCacheKey'](_0x2a98a3,_0x4fca01);if(this[_0x32a1aa(0x106)]['has'](_0x3589fe)){const _0x2b135a=this['memoryCache']['get'](_0x3589fe);if(Date[_0x32a1aa(0xc9)]()-_0x2b135a['timestamp']<this['CACHE_DURATION'])return console[_0x32a1aa(0xd5)](_0x32a1aa(0xd9)+_0x2a98a3),_0x2b135a['data'];this['memoryCache'][_0x32a1aa(0xf6)](_0x3589fe);}const _0x240573=localStorage[_0x32a1aa(0xef)](_0x3589fe);if(_0x240573)try{const _0x51c723=JSON['parse'](_0x240573);if(Date['now']()-_0x51c723[_0x32a1aa(0xd3)]<this['CACHE_DURATION'])return this['memoryCache']['set'](_0x3589fe,{'data':_0x51c723[_0x32a1aa(0xbd)],'timestamp':_0x51c723[_0x32a1aa(0xd3)],'matchCount':_0x51c723[_0x32a1aa(0x10c)]}),console['log'](_0x32a1aa(0xdb)+_0x2a98a3),_0x51c723[_0x32a1aa(0xbd)];localStorage['removeItem'](_0x3589fe);}catch(_0x6590e7){localStorage['removeItem'](_0x3589fe);}return null;}[a48_0x48c18c(0xfb)](_0x431080,_0x18ade6,_0x2ae3ed,_0x4d094c){const _0x136afa=a48_0x48c18c,_0x12c8cc=this[_0x136afa(0xff)](_0x431080,_0x18ade6),_0x174186=Date['now']();this['memoryCache']['set'](_0x12c8cc,{'data':_0x2ae3ed,'timestamp':_0x174186,'matchCount':_0x4d094c});try{const _0x25c4f7={'ribbons':_0x2ae3ed,'matchCount':_0x4d094c,'timestamp':_0x174186,'version':0x3};localStorage['setItem'](_0x12c8cc,JSON['stringify'](_0x25c4f7));}catch(_0x31e387){this['clearOldCache']();try{localStorage['setItem'](_0x12c8cc,JSON[_0x136afa(0x8b)](data));}catch(_0x4d7f58){}}}[a48_0x48c18c(0x99)](_0x2c2e1e,_0x56286a,_0x5891cf){const _0x397438=a48_0x48c18c,_0x527180=this['getCacheKey'](_0x2c2e1e,_0x56286a);if(this['memoryCache'][_0x397438(0xa7)](_0x527180)){const _0x4868a0=this['memoryCache']['get'](_0x527180);return _0x4868a0['matchCount']!==_0x5891cf;}const _0x372901=localStorage['getItem'](_0x527180);if(_0x372901)try{const _0x93566a=JSON['parse'](_0x372901);return _0x93566a['matchCount']!==_0x5891cf;}catch(_0x2cceb8){return!![];}return!![];}['invalidatePlayerCache'](_0x28a513,_0x2c1bde){const _0x3e40b5=a48_0x48c18c,_0x77c915=this[_0x3e40b5(0xff)](_0x28a513,_0x2c1bde);this[_0x3e40b5(0x106)]['delete'](_0x77c915),localStorage['removeItem'](_0x77c915),console['log']('ðŸ—‘ï¸\x20Invalidated\x20cache\x20for\x20'+_0x28a513+'\x20('+_0x2c1bde+')\x20-\x20new\x20match\x20detected');}['autoCleanup'](){const _0x1d39c1=a48_0x48c18c,_0x402e12=Date['now']();_0x402e12-this['lastCleanup']>this[_0x1d39c1(0xe7)]&&(this['cleanup'](),this[_0x1d39c1(0xa1)]=_0x402e12);}['cleanup'](){const _0x33233f=a48_0x48c18c,_0x17b145=Date['now']();let _0x510515=0x0,_0x188546=0x0;for(const [_0x78769a,_0x18618b]of this['memoryCache'][_0x33233f(0x102)]()){_0x17b145-_0x18618b[_0x33233f(0xd3)]>this['CACHE_DURATION']&&(this['memoryCache'][_0x33233f(0xf6)](_0x78769a),_0x510515++);}for(let _0x12da01=localStorage[_0x33233f(0xe8)]-0x1;_0x12da01>=0x0;_0x12da01--){const _0x25e865=localStorage[_0x33233f(0xb8)](_0x12da01);if(_0x25e865&&_0x25e865[_0x33233f(0xf7)](this['CACHE_KEY_PREFIX']))try{const _0x34dd65=JSON[_0x33233f(0xb4)](localStorage[_0x33233f(0xef)](_0x25e865));_0x17b145-_0x34dd65['timestamp']>this[_0x33233f(0x8a)]&&(localStorage['removeItem'](_0x25e865),_0x188546++);}catch(_0x34d471){localStorage['removeItem'](_0x25e865),_0x188546++;}}}['clearOldCache'](){const _0x59e18d=a48_0x48c18c,_0x345b5b=[];for(let _0x5d143a=0x0;_0x5d143a<localStorage[_0x59e18d(0xe8)];_0x5d143a++){const _0x58cade=localStorage['key'](_0x5d143a);if(_0x58cade&&_0x58cade['startsWith'](this[_0x59e18d(0xf5)]))try{const _0x45a7f0=JSON['parse'](localStorage['getItem'](_0x58cade));_0x345b5b['push']({'key':_0x58cade,'timestamp':_0x45a7f0[_0x59e18d(0xd3)]});}catch(_0x47589e){localStorage['removeItem'](_0x58cade);}}_0x345b5b['sort']((_0x5e7267,_0x5dc32c)=>_0x5e7267['timestamp']-_0x5dc32c[_0x59e18d(0xd3)]);const _0x320814=Math[_0x59e18d(0xf2)](_0x345b5b[_0x59e18d(0xe8)]/0x2);for(let _0x4914d2=0x0;_0x4914d2<_0x320814;_0x4914d2++){localStorage['removeItem'](_0x345b5b[_0x4914d2]['key']);}}[a48_0x48c18c(0xc7)](){return{'memoryEntries':this['memoryCache']['size'],'lastCleanup':new Date(this['lastCleanup'])['toLocaleTimeString']()};}}class MatchCacheManager{constructor(){const _0x55a27f=a48_0x48c18c;this['matchCache']=new Map(),this[_0x55a27f(0x8a)]=0xf*0x3c*0x3e8,this['lastCleanup']=Date['now']();}[a48_0x48c18c(0xbb)](_0x20b9de,_0x2e050c){const _0x5354b5=a48_0x48c18c;this['autoCleanup']();const _0x46bb7a=_0x20b9de+'_'+_0x2e050c,_0x4488ae=this[_0x5354b5(0x97)][_0x5354b5(0xc5)](_0x46bb7a);if(_0x4488ae&&Date[_0x5354b5(0xc9)]()-_0x4488ae['timestamp']<this['CACHE_DURATION'])return console[_0x5354b5(0xd5)]('ðŸŽ¯\x20Cache\x20hit\x20(matches)\x20for\x20'+_0x20b9de),_0x4488ae['matches'];return _0x4488ae&&this[_0x5354b5(0x97)]['delete'](_0x46bb7a),null;}['setCachedMatches'](_0x22ade2,_0x131813,_0x1464c4){const _0x2b0752=a48_0x48c18c,_0x6d6ae9=_0x22ade2+'_'+_0x131813;this[_0x2b0752(0x97)][_0x2b0752(0xe0)](_0x6d6ae9,{'matches':_0x1464c4,'timestamp':Date['now']()});}[a48_0x48c18c(0xfc)](){const _0x3bc6ab=a48_0x48c18c,_0x176fba=Date['now']();if(_0x176fba-this[_0x3bc6ab(0xa1)]>0x5*0x3c*0x3e8){let _0x3b32f1=0x0;for(const [_0xa61686,_0x151718]of this['matchCache']['entries']()){_0x176fba-_0x151718['timestamp']>this['CACHE_DURATION']&&(this['matchCache'][_0x3bc6ab(0xf6)](_0xa61686),_0x3b32f1++);}this['lastCleanup']=_0x176fba;}}['getCacheStats'](){const _0x392627=a48_0x48c18c;return{'entries':this[_0x392627(0x97)]['size'],'lastCleanup':new Date(this['lastCleanup'])['toLocaleTimeString']()};}}function a48_0x37be(_0x4a401,_0xf9b6dd){const _0x2b4abc=a48_0x348c();return a48_0x37be=function(_0x38dbf5,_0x5bfd89){_0x38dbf5=_0x38dbf5-0x89;let _0x348ceb=_0x2b4abc[_0x38dbf5];return _0x348ceb;},a48_0x37be(_0x4a401,_0xf9b6dd);}function a48_0x348c(){const _0x36539d=['\x20already\x20has\x20','CACHE_DURATION','stringify','ðŸ‘‘\x20Domination\x20Ribbon\x20awarded:\x20Level\x20','min','data','#A29BFE','%\x20win\x20rate\x20over\x20','Played\x20at\x20least\x2010\x20unique\x20pilots','\x20â†’\x20','findIndex','mapPlayed','evaluateRematchRibbonFromCount','approvedMatchesD3','matchCache','loserRating','shouldRefreshCache','Domination\x20Ribbon','\x20or\x20','evaluateOverachieverRibbonFromCount','#96CEB4','uniqueMaps','\x20Tier:\x20','Top\x20','lastCleanup','error','evaluateSocialiteRibbonFromCount','wins','BATCH_DELAY','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-image-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22','has','getPlayerDataCached','\x20ELO),\x20','Play\x20over\x2050\x20subgame\x20matches','table','rating','username','):\x20','\x20is\x20Unranked\x20(','join','toFixed','size','approvedMatches','parse','âŒ\x20No\x20ELO\x20rating\x20data\x20for\x20','forEach','getPlayerMatchesOptimized','key','ðŸ’¾\x20Saving\x20','ðŸŽ¯\x20UNDERDOG\x20VICTORY:\x20','getCachedMatches','underdogWins','ribbons','totalMatches','evaluateAllRibbonsForPlayerOptimized','Unranked','getPlayerRibbonsCached','#50C878','Beat\x205\x20unique\x20pilots\x20in\x20a\x20rank\x20(including\x20your\x20own)','\x20underdog\x20victories\x20for\x20','get','Played\x20over\x20100\x20matches','getCacheStats','push','now','matchesPlayed','getCachedData','Error\x20getting\x20player\x20data\x20for\x20','winnerUsername','isUnderdogVictory','keys','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22ribbon-image\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27;\x20this.nextElementSibling.style.display=\x27block\x27;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-fallback\x22\x20style=\x22display:\x20none;\x20background:\x20','evaluateAllRibbonsFromData','Overachiever\x20Ribbon','timestamp','../images/ribbons/BrickWall.png','log','âš ï¸\x20Brick\x20Wall\x20ribbon\x20requires\x2050+\x20matches\x20(player\x20has\x20','âŒ\x20Error\x20in\x20ribbon\x20evaluation:','add','ðŸš€\x20Cache\x20hit\x20(memory)\x20for\x20','evaluateSubGamerRibbonFromCount','ðŸ’¾\x20Cache\x20hit\x20(localStorage)\x20for\x20','setCachedMatches','Underdog\x20Ribbon','\x20beat\x20','âœ…\x20Found\x20player\x20data\x20for\x20','set','Rematch\x20Ribbon','playerRibbons','../images/ribbons/Overachiever.png','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','loserUsername','Socialite\x20Ribbon','CLEANUP_INTERVAL','length','\x20ELO\x20(','evaluateUnderdogRibbonFromCount','evaluateCollectorRibbonFromCount','ðŸš€\x20Bulk\x20loading\x20','evaluateDominationRibbonFromRanks','Brick\x20Wall','getItem','../images/ribbons/Rematch.png','constructor','floor','{}.constructor(\x22return\x20this\x22)(\x20)','Explorer\x20Ribbon','CACHE_KEY_PREFIX','delete','startsWith','level','eloRating','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setCachedData','autoCleanup','levels','playersD2','getCacheKey','bulkLoadPlayerData','subgameType','entries','subgameMatches','Sub-Gamer\x20Ribbon','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-name\x22>','memoryCache','Collector\x20Ribbon','description','#6C5CE7','#8E44AD','assign','matchCount','bind','playersD3','players','<div\x20class=\x22ribbon-devices\x22>'];a48_0x348c=function(){return _0x36539d;};return a48_0x348c();}class RibbonSystem{constructor(){const _0x53fca0=a48_0x48c18c;this['pendingEvaluations']=new Map(),this['batchTimer']=null,this[_0x53fca0(0xa5)]=0x32,this['playerDataCache']=new Map();}async[a48_0x48c18c(0x100)](_0x33ac11,_0x3c6ea6){const _0x57e4f4=a48_0x48c18c,_0x5235a7=_0x3c6ea6==='D1'?'players':_0x3c6ea6==='D2'?_0x57e4f4(0xfe):_0x57e4f4(0x10e),_0x51d99e=collection(db,_0x5235a7),_0x394fe7=await getDocs(_0x51d99e),_0x3b28e7=new Map();return _0x394fe7['forEach'](_0x613c81=>{const _0x570652=_0x57e4f4,_0x2a0d2e=_0x613c81['data']();_0x2a0d2e[_0x570652(0xad)]&&(_0x2a0d2e['eloRating']!==undefined&&(_0x2a0d2e['rating']=_0x2a0d2e[_0x570652(0xf9)]),_0x3b28e7['set'](_0x2a0d2e[_0x570652(0xad)],_0x2a0d2e));}),console[_0x57e4f4(0xd5)]('ðŸ“Š\x20Bulk\x20loaded\x20'+_0x3b28e7['size']+'\x20players\x20from\x20'+_0x5235a7),_0x3b28e7;}async[a48_0x48c18c(0xd1)](_0x447dd3,_0x1901a1,_0x5a5541,_0x367086){const _0x3ae893=a48_0x48c18c,_0x4f3055={},_0x42a4de=_0x1901a1['username'],_0x201c66={'totalMatches':_0x447dd3['length'],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0,'dominatedRanks':new Set()},_0x59b5a5=new Set();_0x447dd3[_0x3ae893(0xb6)](_0x5189dc=>{const _0xca9f80=_0x3ae893,_0x34a9ed=_0x5189dc['winnerUsername']===_0x42a4de,_0x18891a=_0x34a9ed?_0x5189dc[_0xca9f80(0xe5)]:_0x5189dc['winnerUsername'];if(_0x18891a)_0x59b5a5['add'](_0x18891a);}),console[_0x3ae893(0xd5)](_0x3ae893(0xec)+_0x59b5a5['size']+'\x20player\x20records\x20for\x20underdog\x20calculations...');const _0x4ff6e=await this['bulkLoadPlayerData']([..._0x59b5a5,_0x42a4de],_0x367086),_0x10df7f=_0x4ff6e[_0x3ae893(0xc5)](_0x42a4de);!_0x10df7f&&console['log']('âš ï¸\x20No\x20current\x20player\x20data\x20found\x20for\x20'+_0x42a4de);const _0x57ea26={0x0:new Set(),0x1:new Set(),0x2:new Set(),0x3:new Set(),0x4:new Set()};_0x447dd3[_0x3ae893(0xb6)](_0x4db7dc=>{const _0x38a958=_0x3ae893,_0x3d5822=_0x4db7dc['winnerUsername']===_0x42a4de,_0x1b2f3f=_0x3d5822?_0x4db7dc[_0x38a958(0xe5)]:_0x4db7dc['winnerUsername'];if(_0x3d5822){_0x201c66['wins']++;_0x4db7dc['subgameType']==='Rematch'&&_0x201c66['rematchWins']++;this['isUnderdogVictoryFast'](_0x4db7dc,_0x42a4de,_0x10df7f,_0x4ff6e)&&_0x201c66[_0x38a958(0xbc)]++;const _0xcd3d47=_0x4ff6e['get'](_0x1b2f3f);if(_0xcd3d47){const _0x1e2fec=_0xcd3d47['eloRating']||0x0,_0x1d2942=getPlayerRankTier(_0x1e2fec);_0x57ea26[_0x1d2942]['add'](_0x1b2f3f);}}_0x4db7dc['subgameType']&&_0x4db7dc['subgameType']!=='Standard'&&_0x201c66[_0x38a958(0x103)]++,_0x4db7dc['mapPlayed']&&_0x201c66['uniqueMaps'][_0x38a958(0xd8)](_0x4db7dc['mapPlayed']),_0x1b2f3f&&_0x201c66['uniqueOpponents'][_0x38a958(0xd8)](_0x1b2f3f);}),Object[_0x3ae893(0xcf)](_0x57ea26)['forEach'](_0x588b0a=>{_0x57ea26[_0x588b0a]['size']>=0x5&&_0x201c66['dominatedRanks']['add'](parseInt(_0x588b0a));}),console[_0x3ae893(0xd5)]('ðŸŽ¯\x20Found\x20'+_0x201c66['underdogWins']+_0x3ae893(0xc4)+_0x42a4de),console['log']('ðŸ‘‘\x20Dominated\x20'+_0x201c66['dominatedRanks'][_0x3ae893(0xb2)]+'\x20ranks:\x20['+Array['from'](_0x201c66['dominatedRanks'])['map'](_0x248db7=>getRankTierName(_0x248db7))['join'](',\x20')+']');const _0x13b3ba=_0x201c66['totalMatches']>0x0?_0x201c66[_0x3ae893(0xa4)]/_0x201c66['totalMatches']*0x64:0x0,_0x1f5468=[['Overachiever\x20Ribbon',this[_0x3ae893(0x9c)](_0x201c66['totalMatches'],_0x5a5541)],['Rematch\x20Ribbon',this[_0x3ae893(0x95)](_0x201c66['rematchWins'],_0x5a5541)],[_0x3ae893(0x104),this[_0x3ae893(0xda)](_0x201c66['subgameMatches'],_0x5a5541)],[_0x3ae893(0xf4),this['evaluateExplorerRibbonFromCount'](_0x201c66['uniqueMaps'][_0x3ae893(0xb2)],_0x5a5541)],[_0x3ae893(0xe6),this['evaluateSocialiteRibbonFromCount'](_0x201c66['uniqueOpponents']['size'],_0x5a5541)],['Brick\x20Wall',this['evaluateBrickWallRibbonFromWinRate'](_0x13b3ba,_0x5a5541,_0x201c66['totalMatches'])],['Underdog\x20Ribbon',this['evaluateUnderdogRibbonFromCount'](_0x201c66['underdogWins'],_0x5a5541)],[_0x3ae893(0x9a),this[_0x3ae893(0xed)](_0x201c66['dominatedRanks']['size'],_0x5a5541)]];_0x1f5468['forEach'](([_0x5c17f8,_0x2f4276])=>{_0x2f4276&&(_0x4f3055[_0x5c17f8]=_0x2f4276);});const _0x21ce09=Object[_0x3ae893(0xcf)](_0x5a5541)[_0x3ae893(0xe8)]+Object[_0x3ae893(0xcf)](_0x4f3055)['length'],_0x15b829=this['evaluateCollectorRibbonFromCount'](_0x21ce09,_0x5a5541);return _0x15b829&&(_0x4f3055[_0x3ae893(0x107)]=_0x15b829),_0x4f3055;}['evaluateDominationRibbonFromRanks'](_0x16bff7,_0x2cd987){const _0xe6a0be=a48_0x48c18c;if(_0x16bff7===0x0)return null;const _0x1e5cf6=_0x2cd987['Domination\x20Ribbon']||{'level':0x0};if(_0x16bff7>_0x1e5cf6['level']){const _0x277277=[];for(let _0x4af315=0x0;_0x4af315<_0x16bff7;_0x4af315++){_0x277277[_0xe6a0be(0xc8)](getRankTierName(_0x4af315));}return console['log'](_0xe6a0be(0x8c)+_0x1e5cf6[_0xe6a0be(0xf8)]+_0xe6a0be(0x92)+_0x16bff7+'\x20(Dominated:\x20'+_0x277277['join'](',\x20')+')'),{'level':_0x16bff7,'awardedAt':new Date(),'dominatedRanks':_0x277277};}return null;}async['checkTopRankStatus'](_0xf3939,_0x5e1ec9){const _0x121705=a48_0x48c18c;try{const _0x23f026=_0x5e1ec9==='D1'?_0x121705(0x10f):_0x5e1ec9==='D2'?'playersD2':'playersD3',_0x591fcb=await this['getPlayerDataCached'](_0xf3939,_0x5e1ec9);if(!_0x591fcb||_0x591fcb['eloRating']===undefined)return console['log'](_0x121705(0xb5)+_0xf3939),null;const _0x2567a0=_0x591fcb['eloRating'],_0x48c279=getPlayerRankTier(_0x2567a0),_0x5ddbff=getRankTierName(_0x48c279);if(_0x5ddbff==='Unranked')return console['log']('âŒ\x20'+_0xf3939+_0x121705(0xaf)+_0x2567a0+'\x20ELO)'),null;console['log']('ðŸ”\x20Checking\x20Top\x20'+_0x5ddbff+'\x20status\x20for\x20'+_0xf3939+'\x20('+_0x2567a0+'\x20ELO)');const _0x3831fd=collection(db,_0x23f026),_0x3e0564=await getDocs(_0x3831fd);let _0x5df76c=null,_0xb6d383=-0x1,_0x52a4fd=0x0;_0x3e0564['forEach'](_0x14d2fc=>{const _0x19d96e=_0x121705,_0x6e03b=_0x14d2fc['data'](),_0x121b86=_0x6e03b['eloRating']||0x0,_0x44c14b=getPlayerRankTier(_0x121b86);_0x44c14b===_0x48c279&&(_0x52a4fd++,_0x121b86>_0xb6d383&&(_0xb6d383=_0x121b86,_0x5df76c=_0x6e03b[_0x19d96e(0xad)]));});const _0x3a3058=_0x5df76c===_0xf3939;return console[_0x121705(0xd5)]('ðŸ“Š\x20'+_0x5ddbff+_0x121705(0x9f)+_0x52a4fd+'\x20players,\x20Top:\x20'+_0x5df76c+'\x20('+_0xb6d383+_0x121705(0xa9)+_0xf3939+'\x20is\x20#1:\x20'+_0x3a3058),_0x3a3058?_0x5ddbff:null;}catch(_0x454cba){return console['error']('Error\x20checking\x20top\x20rank\x20status:',_0x454cba),null;}}async['evaluateTopRankRibbon'](_0x346df7,_0x1f8d60,_0x322a7e){const _0x3440f6=a48_0x48c18c,_0x8d2d11=await this['checkTopRankStatus'](_0x346df7,_0x1f8d60),_0x2818fd={};if(_0x8d2d11){const _0x4a91c2=_0x3440f6(0xa0)+_0x8d2d11+'\x20Pilot';if(RIBBON_DEFINITIONS[_0x4a91c2]){const _0x3dcbe0=_0x322a7e[_0x4a91c2];!_0x3dcbe0?(console['log']('ðŸ‘‘\x20NEW\x20Top\x20Rank\x20Achievement:\x20'+_0x346df7+'\x20earned\x20'+_0x4a91c2+'!'),_0x2818fd[_0x4a91c2]={'level':0x1,'awardedAt':new Date(),'rank':_0x8d2d11,'achievedAt':new Date()}):console[_0x3440f6(0xd5)]('âœ…\x20'+_0x346df7+_0x3440f6(0x89)+_0x4a91c2+'\x20-\x20No\x20changes\x20needed');}}return Object[_0x3440f6(0xcf)](_0x322a7e)['forEach'](_0x11480d=>{const _0x4bdaef=_0x3440f6;_0x11480d[_0x4bdaef(0xf7)]('Top\x20')&&_0x11480d['endsWith']('\x20Pilot')&&(!_0x2818fd[_0x11480d]&&console[_0x4bdaef(0xd5)]('âœ…\x20Preserving\x20existing\x20'+_0x11480d));}),_0x2818fd;}async['evaluateAllRibbonsForPlayerOptimized'](_0x3c884,_0x4f61ee='D1'){const _0x5350c1=a48_0x48c18c;try{const _0x1b6c14=ribbonCache[_0x5350c1(0xcb)](_0x3c884,_0x4f61ee);if(_0x1b6c14){const _0x1ac1bb=await this['evaluateTopRankRibbon'](_0x3c884,_0x4f61ee,_0x1b6c14);if(Object[_0x5350c1(0xcf)](_0x1ac1bb)[_0x5350c1(0xe8)]>0x0){console['log']('ðŸ†•\x20New\x20top\x20rank\x20achievements\x20found\x20for\x20cached\x20player\x20'+_0x3c884),await this['savePlayerRibbonsOptimized'](_0x3c884,_0x1ac1bb,_0x4f61ee);const _0xd29164={..._0x1b6c14,..._0x1ac1bb};return ribbonCache[_0x5350c1(0xfb)](_0x3c884,_0x4f61ee,_0xd29164,0x0),_0xd29164;}return _0x1b6c14;}const [_0x363a53,_0xcb81c3]=await Promise['all']([this['getPlayerDataCached'](_0x3c884,_0x4f61ee),this['getPlayerRibbonsCached'](_0x3c884,_0x4f61ee)]);if(!_0x363a53)return{};const _0x2c8d85=_0x363a53[_0x5350c1(0xca)]||0x0,_0x330c59=await this['evaluateTopRankRibbon'](_0x3c884,_0x4f61ee,_0xcb81c3);if(!ribbonCache['shouldRefreshCache'](_0x3c884,_0x4f61ee,_0x2c8d85)){if(Object['keys'](_0x330c59)['length']>0x0){await this['savePlayerRibbonsOptimized'](_0x3c884,_0x330c59,_0x4f61ee);const _0x1d5ada={..._0xcb81c3,..._0x330c59};return ribbonCache[_0x5350c1(0xfb)](_0x3c884,_0x4f61ee,_0x1d5ada,_0x2c8d85),_0x1d5ada;}return ribbonCache['setCachedData'](_0x3c884,_0x4f61ee,_0xcb81c3,_0x2c8d85),_0xcb81c3;}const _0xa3b31a=await this[_0x5350c1(0xb7)](_0x3c884,_0x4f61ee),_0x12f842=await this['evaluateAllRibbonsFromData'](_0xa3b31a,_0x363a53,_0xcb81c3,_0x4f61ee);Object[_0x5350c1(0x10b)](_0x12f842,_0x330c59);Object['keys'](_0x12f842)[_0x5350c1(0xe8)]>0x0&&(console['log'](_0x5350c1(0xb9)+Object['keys'](_0x12f842)[_0x5350c1(0xe8)]+'\x20new/updated\x20ribbons\x20for\x20'+_0x3c884),await this['savePlayerRibbonsOptimized'](_0x3c884,_0x12f842,_0x4f61ee));const _0x45eed2={..._0xcb81c3,..._0x12f842};return ribbonCache['setCachedData'](_0x3c884,_0x4f61ee,_0x45eed2,_0xa3b31a['length']),_0x45eed2;}catch(_0x417bb8){return console['error'](_0x5350c1(0xd7),_0x417bb8),{};}}async[a48_0x48c18c(0xce)](_0x3df81f,_0x136d88,_0x580955){const _0x4b827a=a48_0x48c18c,_0xd1757e=_0x3df81f[_0x4b827a(0xcd)]===_0x136d88;if(!_0xd1757e)return![];const _0x393446=_0x3df81f['loserUsername'],[_0x1d407e,_0x38590e]=await Promise['all']([this[_0x4b827a(0xa8)](_0x136d88,_0x580955),this[_0x4b827a(0xa8)](_0x393446,_0x580955)]);if(!_0x1d407e||!_0x38590e)return console[_0x4b827a(0xd5)]('âš ï¸\x20Missing\x20player\x20data\x20for\x20'+_0x136d88+_0x4b827a(0x9b)+_0x393446),![];const _0x5f194a=_0x1d407e['eloRating']||0x0,_0x4f9eca=_0x38590e[_0x4b827a(0xf9)]||0x0,_0x25a94b=getPlayerRankTier(_0x5f194a),_0x5b5292=getPlayerRankTier(_0x4f9eca);console['log']('ðŸ”\x20Checking\x20underdog:\x20Winner('+_0x136d88+_0x4b827a(0xae)+_0x5f194a+'\x20ELO\x20('+getRankTierName(_0x25a94b)+')\x20vs\x20Loser('+_0x393446+_0x4b827a(0xae)+_0x4f9eca+_0x4b827a(0xe9)+getRankTierName(_0x5b5292)+')');if(_0x5b5292>_0x25a94b)return console['log'](_0x4b827a(0xba)+getRankTierName(_0x25a94b)+_0x4b827a(0xde)+getRankTierName(_0x5b5292)+'!'),!![];return console['log']('âŒ\x20Not\x20underdog:\x20'+getRankTierName(_0x25a94b)+'\x20vs\x20'+getRankTierName(_0x5b5292)),![];}['isUnderdogVictoryFast'](_0x5ee39b,_0x590bc5,_0x3c0de9,_0x4144c9){const _0x206b05=a48_0x48c18c,_0x3b7f49=_0x5ee39b['winnerUsername']===_0x590bc5;if(!_0x3b7f49)return![];const _0x4968a2=_0x5ee39b['loserUsername'],_0x58363d=_0x4144c9['get'](_0x4968a2);if(!_0x3c0de9||!_0x58363d)return![];const _0x5a91df=_0x3c0de9['eloRating']||0x0,_0x4848d2=_0x58363d['eloRating']||0x0,_0x414320=getPlayerRankTier(_0x5a91df),_0x24c82f=getPlayerRankTier(_0x4848d2);if(_0x24c82f>_0x414320)return console[_0x206b05(0xd5)]('ðŸŽ¯\x20UNDERDOG:\x20'+getRankTierName(_0x414320)+'('+_0x5a91df+')\x20beat\x20'+getRankTierName(_0x24c82f)+'('+_0x4848d2+')'),!![];return![];}async['evaluateAllRibbonsFromData'](_0x4caac1,_0x29985f,_0x5ea6a5,_0xabe12c){const _0x557010=a48_0x48c18c,_0x5569e6={},_0x15be9a=_0x29985f[_0x557010(0xad)],_0x5a769b={'totalMatches':_0x4caac1['length'],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0},_0xd48bea=new Set();_0x4caac1[_0x557010(0xb6)](_0x51ffda=>{const _0x288823=_0x557010,_0x2ba60d=_0x51ffda['winnerUsername']===_0x15be9a,_0x5a382f=_0x2ba60d?_0x51ffda['loserUsername']:_0x51ffda[_0x288823(0xcd)];if(_0x5a382f)_0xd48bea['add'](_0x5a382f);}),console[_0x557010(0xd5)](_0x557010(0xec)+_0xd48bea['size']+'\x20player\x20records\x20for\x20underdog\x20calculations...');const _0x3ac999=await this['bulkLoadPlayerData']([..._0xd48bea,_0x15be9a],_0xabe12c),_0x479c56=_0x3ac999['get'](_0x15be9a);!_0x479c56&&console[_0x557010(0xd5)]('âš ï¸\x20No\x20current\x20player\x20data\x20found\x20for\x20'+_0x15be9a);_0x4caac1['forEach'](_0x2ec1bb=>{const _0xc83fca=_0x557010,_0x20a963=_0x2ec1bb['winnerUsername']===_0x15be9a,_0x4fe14c=_0x20a963?_0x2ec1bb['loserUsername']:_0x2ec1bb['winnerUsername'];_0x20a963&&(_0x5a769b['wins']++,_0x2ec1bb['subgameType']==='Rematch'&&_0x5a769b['rematchWins']++,this['isUnderdogVictoryFast'](_0x2ec1bb,_0x15be9a,_0x479c56,_0x3ac999)&&_0x5a769b['underdogWins']++),_0x2ec1bb['subgameType']&&_0x2ec1bb[_0xc83fca(0x101)]!=='Standard'&&_0x5a769b['subgameMatches']++,_0x2ec1bb['mapPlayed']&&_0x5a769b[_0xc83fca(0x9e)]['add'](_0x2ec1bb[_0xc83fca(0x94)]),_0x4fe14c&&_0x5a769b['uniqueOpponents']['add'](_0x4fe14c);}),console[_0x557010(0xd5)]('ðŸŽ¯\x20Found\x20'+_0x5a769b['underdogWins']+'\x20underdog\x20victories\x20for\x20'+_0x15be9a);const _0x1fb44a=_0x5a769b[_0x557010(0xbe)]>0x0?_0x5a769b[_0x557010(0xa4)]/_0x5a769b[_0x557010(0xbe)]*0x64:0x0,_0x173a39=[['Overachiever\x20Ribbon',this[_0x557010(0x9c)](_0x5a769b['totalMatches'],_0x5ea6a5)],[_0x557010(0xe1),this['evaluateRematchRibbonFromCount'](_0x5a769b['rematchWins'],_0x5ea6a5)],[_0x557010(0x104),this['evaluateSubGamerRibbonFromCount'](_0x5a769b['subgameMatches'],_0x5ea6a5)],[_0x557010(0xf4),this['evaluateExplorerRibbonFromCount'](_0x5a769b['uniqueMaps']['size'],_0x5ea6a5)],[_0x557010(0xe6),this['evaluateSocialiteRibbonFromCount'](_0x5a769b['uniqueOpponents']['size'],_0x5ea6a5)],[_0x557010(0xee),this['evaluateBrickWallRibbonFromWinRate'](_0x1fb44a,_0x5ea6a5,_0x5a769b['totalMatches'])],[_0x557010(0xdd),this['evaluateUnderdogRibbonFromCount'](_0x5a769b['underdogWins'],_0x5ea6a5)]];_0x173a39['forEach'](([_0x59a4ba,_0x17227c])=>{_0x17227c&&(_0x5569e6[_0x59a4ba]=_0x17227c);});const _0x49ce41=Object['keys'](_0x5ea6a5)['length']+Object[_0x557010(0xcf)](_0x5569e6)['length'],_0x733539=this['evaluateCollectorRibbonFromCount'](_0x49ce41,_0x5ea6a5);return _0x733539&&(_0x5569e6['Collector\x20Ribbon']=_0x733539),_0x5569e6;}async['getPlayerMatchesOptimized'](_0x34eed1,_0x257967){const _0x30cb58=a48_0x48c18c,_0x5a3d0c=matchCache[_0x30cb58(0xbb)](_0x34eed1,_0x257967);if(_0x5a3d0c)return _0x5a3d0c;try{const _0x54f6bc=_0x257967==='D1'?_0x30cb58(0xb3):_0x257967==='D2'?'approvedMatchesD2':_0x30cb58(0x96),_0x2ef0ad=collection(db,_0x54f6bc),[_0x12c61b,_0x530c53]=await Promise['all']([getDocs(query(_0x2ef0ad,where('winnerUsername','==',_0x34eed1))),getDocs(query(_0x2ef0ad,where('loserUsername','==',_0x34eed1)))]),_0x44158b=new Set(),_0x5bd0e2=[];return _0x12c61b[_0x30cb58(0xb6)](_0x1bcf08=>{const _0xe155a4=_0x30cb58;if(!_0x44158b['has'](_0x1bcf08['id'])){_0x44158b['add'](_0x1bcf08['id']);const _0x31ab58={'id':_0x1bcf08['id'],..._0x1bcf08[_0xe155a4(0x8e)]()};if(!_0x31ab58['winnerRating'])_0x31ab58['winnerRating']=0x0;if(!_0x31ab58[_0xe155a4(0x98)])_0x31ab58[_0xe155a4(0x98)]=0x0;_0x5bd0e2['push'](_0x31ab58);}}),_0x530c53['forEach'](_0x4fe4b0=>{if(!_0x44158b['has'](_0x4fe4b0['id'])){_0x44158b['add'](_0x4fe4b0['id']);const _0x5812c4={'id':_0x4fe4b0['id'],..._0x4fe4b0['data']()};if(!_0x5812c4['winnerRating'])_0x5812c4['winnerRating']=0x0;if(!_0x5812c4['loserRating'])_0x5812c4['loserRating']=0x0;_0x5bd0e2['push'](_0x5812c4);}}),matchCache[_0x30cb58(0xdc)](_0x34eed1,_0x257967,_0x5bd0e2),_0x5bd0e2;}catch(_0x125bf6){return console['error']('âŒ\x20Error\x20fetching\x20matches:',_0x125bf6),[];}}async['getPlayerDataCached'](_0xc50087,_0x55b503){const _0x2c86ec=a48_0x48c18c;try{const _0x2b69f2=_0x55b503==='D1'?_0x2c86ec(0x10f):_0x55b503==='D2'?'playersD2':'playersD3',_0x81bd81=collection(db,_0x2b69f2),_0x20f489=query(_0x81bd81,where('username','==',_0xc50087),limit(0x1)),_0x5c7d22=await getDocs(_0x20f489);if(_0x5c7d22['empty'])return console['log']('âŒ\x20No\x20player\x20data\x20found\x20for\x20'+_0xc50087+'\x20in\x20'+_0x2b69f2),null;const _0x3a31db=_0x5c7d22['docs'][0x0]['data']();return _0x3a31db['eloRating']!==undefined&&(_0x3a31db[_0x2c86ec(0xac)]=_0x3a31db['eloRating']),console[_0x2c86ec(0xd5)](_0x2c86ec(0xdf)+_0xc50087+':\x20ELO\x20'+_0x3a31db[_0x2c86ec(0xf9)]+',\x20Position\x20'+_0x3a31db['position']),_0x3a31db;}catch(_0x2a95b1){return console[_0x2c86ec(0xa2)](_0x2c86ec(0xcc)+_0xc50087+':',_0x2a95b1),null;}}async[a48_0x48c18c(0xc1)](_0x2661c1,_0x56492c){const _0x205dac=a48_0x48c18c;try{const _0x1df37e=_0x205dac(0xe2)+(_0x56492c==='D1'?'':_0x56492c),_0x66f9fa=doc(db,_0x1df37e,_0x2661c1),_0x42e2ed=await getDoc(_0x66f9fa);return _0x42e2ed['exists']()?_0x42e2ed[_0x205dac(0x8e)]()['ribbons']||{}:{};}catch(_0x32e4be){return console['error']('Error\x20getting\x20player\x20ribbons:',_0x32e4be),{};}}async['savePlayerRibbonsOptimized'](_0x5e5946,_0x233757,_0x25fb7c){const _0xce179b=a48_0x48c18c;try{const _0x10acba=_0xce179b(0xe2)+(_0x25fb7c==='D1'?'':_0x25fb7c),_0x26a6c0=doc(db,_0x10acba,_0x5e5946),_0x2d3cdc=await this[_0xce179b(0xc1)](_0x5e5946,_0x25fb7c),_0x2ef0ee={..._0x2d3cdc,..._0x233757};await setDoc(_0x26a6c0,{'username':_0x5e5946,'ladder':_0x25fb7c,'ribbons':_0x2ef0ee,'lastUpdated':new Date()},{'merge':!![]});}catch(_0x1f929a){console[_0xce179b(0xa2)]('Error\x20saving\x20ribbons:',_0x1f929a);}}['evaluateOverachieverRibbonFromCount'](_0x536535,_0x28d95a){const _0x492a93=a48_0x48c18c,_0x1e97e7=_0x28d95a[_0x492a93(0xd2)]||{'level':0x0},_0x356fd4=RIBBON_DEFINITIONS[_0x492a93(0xd2)]['levels'],_0x34dc47=_0x356fd4['findIndex'](_0x199b74=>_0x536535<_0x199b74),_0x32ce49=_0x34dc47===-0x1?_0x356fd4['length']:_0x34dc47;if(_0x32ce49>_0x1e97e7['level'])return{'level':_0x32ce49,'awardedAt':new Date()};return null;}['evaluateRematchRibbonFromCount'](_0x287b1e,_0x1b0843){if(_0x287b1e===0x0)return null;const _0x53488c=_0x1b0843['Rematch\x20Ribbon']||{'level':0x0};if(_0x287b1e>_0x53488c['level'])return{'level':_0x287b1e,'awardedAt':new Date()};return null;}['evaluateSubGamerRibbonFromCount'](_0x3c6288,_0x224279){const _0x310abf=a48_0x48c18c,_0x442db6=_0x224279['Sub-Gamer\x20Ribbon']||{'level':0x0},_0xc7a6c8=RIBBON_DEFINITIONS['Sub-Gamer\x20Ribbon'][_0x310abf(0xfd)],_0x26752d=_0xc7a6c8['findIndex'](_0x146692=>_0x3c6288<_0x146692),_0x595b79=_0x26752d===-0x1?_0xc7a6c8['length']:_0x26752d;if(_0x595b79>_0x442db6['level'])return{'level':_0x595b79,'awardedAt':new Date()};return null;}['evaluateExplorerRibbonFromCount'](_0x5553f0,_0x5d12b5){const _0x5d02ce=a48_0x48c18c,_0x4d9534=_0x5d12b5['Explorer\x20Ribbon']||{'level':0x0},_0x4c66ab=RIBBON_DEFINITIONS['Explorer\x20Ribbon']['levels'],_0x1bb234=_0x4c66ab[_0x5d02ce(0x93)](_0x39299d=>_0x5553f0<_0x39299d),_0x25b3ba=_0x1bb234===-0x1?_0x4c66ab['length']:_0x1bb234;if(_0x25b3ba>_0x4d9534['level'])return{'level':_0x25b3ba,'awardedAt':new Date()};return null;}[a48_0x48c18c(0xa3)](_0x5e0bff,_0x497d49){const _0x203c0b=a48_0x48c18c,_0x771e45=_0x497d49['Socialite\x20Ribbon']||{'level':0x0},_0x17da9e=RIBBON_DEFINITIONS[_0x203c0b(0xe6)]['levels'],_0x30240b=_0x17da9e['findIndex'](_0x4b07b9=>_0x5e0bff<_0x4b07b9),_0x180f43=_0x30240b===-0x1?_0x17da9e['length']:_0x30240b;if(_0x180f43>_0x771e45['level'])return{'level':_0x180f43,'awardedAt':new Date()};return null;}['evaluateBrickWallRibbonFromWinRate'](_0x1e056a,_0x61d770,_0x37acae){const _0x2f2517=a48_0x48c18c;if(_0x37acae<0x32)return console[_0x2f2517(0xd5)](_0x2f2517(0xd6)+_0x37acae+')'),null;const _0x1d0a22=_0x61d770['Brick\x20Wall']||{'level':0x0},_0x57711e=RIBBON_DEFINITIONS[_0x2f2517(0xee)]['levels'],_0x546db0=_0x57711e[_0x2f2517(0x93)](_0x5c0026=>_0x1e056a<_0x5c0026),_0x324bdb=_0x546db0===-0x1?_0x57711e[_0x2f2517(0xe8)]:_0x546db0;if(_0x324bdb>_0x1d0a22[_0x2f2517(0xf8)])return console[_0x2f2517(0xd5)]('ðŸ†\x20Brick\x20Wall\x20ribbon\x20awarded:\x20'+_0x1e056a[_0x2f2517(0xb1)](0x1)+_0x2f2517(0x90)+_0x37acae+'\x20matches'),{'level':_0x324bdb,'awardedAt':new Date(),'winRate':_0x1e056a,'matchesPlayed':_0x37acae};return null;}[a48_0x48c18c(0xeb)](_0x519953,_0xa84e96){const _0x5569cd=a48_0x48c18c,_0x1b70a0=_0xa84e96[_0x5569cd(0x107)]||{'level':0x0},_0x182363=RIBBON_DEFINITIONS['Collector\x20Ribbon']['levels'],_0x29f373=_0x182363['findIndex'](_0x2481e8=>_0x519953<_0x2481e8),_0x4f6fa3=_0x29f373===-0x1?_0x182363[_0x5569cd(0xe8)]:_0x29f373;if(_0x4f6fa3>_0x1b70a0['level'])return{'level':_0x4f6fa3,'awardedAt':new Date()};return null;}[a48_0x48c18c(0xea)](_0x10f369,_0x5bf182){const _0x13dc9b=a48_0x48c18c;if(_0x10f369===0x0)return null;const _0xae2fc7=_0x5bf182[_0x13dc9b(0xdd)]||{'level':0x0},_0x5f09ed=RIBBON_DEFINITIONS[_0x13dc9b(0xdd)][_0x13dc9b(0xfd)];let _0x587e79=0x0;for(let _0x33aec8=0x0;_0x33aec8<_0x5f09ed[_0x13dc9b(0xe8)];_0x33aec8++){if(_0x10f369>=_0x5f09ed[_0x33aec8])_0x587e79=_0x33aec8+0x1;else break;}if(_0x587e79>_0xae2fc7['level'])return console['log']('ðŸ†\x20Underdog\x20Ribbon\x20upgrade:\x20Level\x20'+_0xae2fc7[_0x13dc9b(0xf8)]+'\x20â†’\x20'+_0x587e79+'\x20('+_0x10f369+'\x20underdog\x20wins)'),{'level':_0x587e79,'awardedAt':new Date()};return null;}}function getPlayerRankTier(_0x4c2a4b){if(_0x4c2a4b===undefined||_0x4c2a4b===null)return 0x0;const _0x5e72fa=Number(_0x4c2a4b);if(isNaN(_0x5e72fa))return 0x0;if(_0x5e72fa>=0x7d0)return 0x4;if(_0x5e72fa>=0x708)return 0x3;if(_0x5e72fa>=0x640)return 0x2;if(_0x5e72fa>=0x578)return 0x1;return 0x0;}function getRankTierName(_0x16baff){const _0xdb9b09=a48_0x48c18c,_0x385806=['Unranked','Bronze','Silver','Gold','Emerald'];return _0x385806[_0x16baff]||_0xdb9b09(0xc0);}const ribbonSystem=new RibbonSystem(),ribbonCache=new RibbonCacheManager(),matchCache=new MatchCacheManager();typeof window!=='undefined'&&(window['getRibbonCacheStats']=()=>{return{'ribbon':ribbonCache['getCacheStats'](),'match':matchCache['getCacheStats']()};});export async function evaluatePlayerRibbons(_0x49a685,_0x45dfb3='D1'){const _0x3ddbd6=a48_0x48c18c;return await ribbonSystem[_0x3ddbd6(0xbf)](_0x49a685,_0x45dfb3);}export function getRibbonHTML(_0x20ab37,_0x16431c){const _0x4927b3=a48_0x48c18c,_0x535788=RIBBON_DEFINITIONS[_0x20ab37];if(!_0x535788)return'';const _0x506433=_0x16431c['level']||0x1,_0x235d3d=_0x20ab37['replace']('\x20Ribbon','')['replace']('\x20Badge',''),_0x44f1d8=_0x59b625=>{if(_0x59b625<=0x1)return'level-1';if(_0x59b625<=0x2)return'level-2';if(_0x59b625<=0x3)return'level-3';if(_0x59b625<=0x4)return'level-4';return'level-5-plus';},_0x37bf91=_0x189435=>{const _0x19a17b=a48_0x37be;if(_0x189435<=0x1)return'';const _0x2943e3=[];if(_0x189435>=0x2&&_0x189435<=0x4){const _0x30765b=Math[_0x19a17b(0x8d)](_0x189435-0x1,0x3);for(let _0x1c96c1=0x0;_0x1c96c1<_0x30765b;_0x1c96c1++){_0x2943e3['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>');}}if(_0x189435>=0x5&&_0x189435<=0x7){_0x2943e3['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20silver-star\x22></i>');const _0xd66d62=Math[_0x19a17b(0x8d)](_0x189435-0x5,0x2);for(let _0x2f3ba4=0x0;_0x2f3ba4<_0xd66d62;_0x2f3ba4++){_0x2943e3[_0x19a17b(0xc8)]('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>');}}return _0x189435>=0x8&&_0x2943e3['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20gold-star\x22></i>'),_0x2943e3['length']>0x0?_0x19a17b(0x110)+_0x2943e3[_0x19a17b(0xb0)]('')+'</div>':'';},_0x4b348b=_0x535788[_0x4927b3(0x108)]+'\x20-\x20Level\x20'+_0x506433;return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22military-ribbon\x22\x20data-tooltip=\x22'+_0x4b348b+_0x4927b3(0xa6)+_0x535788['image']+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22'+_0x20ab37+_0x4927b3(0xd0)+_0x535788['color']+';\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x235d3d['substring'](0x0,0x6)+_0x4927b3(0xfa)+_0x37bf91(_0x506433)+_0x4927b3(0x105)+_0x235d3d+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x506433>0x1?'<div\x20class=\x22ribbon-level-indicator\x20'+_0x44f1d8(_0x506433)+'\x22>'+_0x506433+'</div>':'')+_0x4927b3(0xe4);}