const a33_0x539d02=a33_0x102d;(function(_0xdd1c56,_0x2267f4){const _0x1f7f17=a33_0x102d,_0x32d037=_0xdd1c56();while(!![]){try{const _0x46825d=-parseInt(_0x1f7f17(0x184))/0x1*(-parseInt(_0x1f7f17(0x13f))/0x2)+parseInt(_0x1f7f17(0x114))/0x3+-parseInt(_0x1f7f17(0x134))/0x4*(-parseInt(_0x1f7f17(0x115))/0x5)+-parseInt(_0x1f7f17(0x119))/0x6+-parseInt(_0x1f7f17(0x172))/0x7+-parseInt(_0x1f7f17(0x150))/0x8*(-parseInt(_0x1f7f17(0x16c))/0x9)+parseInt(_0x1f7f17(0x171))/0xa*(-parseInt(_0x1f7f17(0x136))/0xb);if(_0x46825d===_0x2267f4)break;else _0x32d037['push'](_0x32d037['shift']());}catch(_0x318b00){_0x32d037['push'](_0x32d037['shift']());}}}(a33_0x2979,0x1c240));const a33_0x481c63=(function(){let _0x771430=!![];return function(_0x3c3ed7,_0x369672){const _0x2ae0b=_0x771430?function(){const _0x22c2f0=a33_0x102d;if(_0x369672){const _0x45d95a=_0x369672[_0x22c2f0(0x18a)](_0x3c3ed7,arguments);return _0x369672=null,_0x45d95a;}}:function(){};return _0x771430=![],_0x2ae0b;};}()),a33_0x2abd4d=a33_0x481c63(this,function(){const _0x3a82d7=a33_0x102d;return a33_0x2abd4d[_0x3a82d7(0x121)]()[_0x3a82d7(0x123)]('(((.+)+)+)+$')[_0x3a82d7(0x121)]()['constructor'](a33_0x2abd4d)[_0x3a82d7(0x123)]('(((.+)+)+)+$');});a33_0x2abd4d();const a33_0x186112=(function(){let _0x49144f=!![];return function(_0xb5efc3,_0x4cc720){const _0x2885f2=_0x49144f?function(){if(_0x4cc720){const _0x5216ee=_0x4cc720['apply'](_0xb5efc3,arguments);return _0x4cc720=null,_0x5216ee;}}:function(){};return _0x49144f=![],_0x2885f2;};}()),a33_0x1f0d58=a33_0x186112(this,function(){const _0x372768=a33_0x102d;let _0x185dec;try{const _0x58011d=Function(_0x372768(0x153)+_0x372768(0x14d)+');');_0x185dec=_0x58011d();}catch(_0x12ff92){_0x185dec=window;}const _0x2f9c65=_0x185dec[_0x372768(0x16d)]=_0x185dec[_0x372768(0x16d)]||{},_0x5c6a22=[_0x372768(0x11b),_0x372768(0x181),_0x372768(0x17a),_0x372768(0x12b),_0x372768(0x109),'table',_0x372768(0x11e)];for(let _0x46be79=0x0;_0x46be79<_0x5c6a22[_0x372768(0x10b)];_0x46be79++){const _0x117411=a33_0x186112[_0x372768(0x15f)][_0x372768(0x145)]['bind'](a33_0x186112),_0x19b777=_0x5c6a22[_0x46be79],_0x2e12bc=_0x2f9c65[_0x19b777]||_0x117411;_0x117411[_0x372768(0x174)]=a33_0x186112[_0x372768(0x146)](a33_0x186112),_0x117411['toString']=_0x2e12bc[_0x372768(0x121)][_0x372768(0x146)](_0x2e12bc),_0x2f9c65[_0x19b777]=_0x117411;}});a33_0x1f0d58();import{collection,getDocs,deleteDoc,doc,getDoc,query,where,updateDoc,Timestamp,onSnapshot,orderBy,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';function a33_0x2979(){const _0x254c9a=['color','log','player','inline','trace','username','data','toString','0.85em','search','timestamp','fontSize','winRate','filter','td:nth-child(3)','MAX_SAFE_INTEGER','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22trend-indicator\x22\x20style=\x22margin-left:\x205px;\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','error','createElement','&ladder=d3\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22color:\x20','includes','.png\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22','toLowerCase','get','country','map','2332VPRFHl','empty','202829yVUCgF','head','totalMatches','pilot','<img\x20src=\x22../images/flags/','innerHTML','visible','Could\x20not\x20find\x20winner\x20or\x20loser\x20in\x20D3\x20players\x20list','playerId','94VJJQGq','loserScore','D3:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','desc','playerUsername','prototype','bind','previousElo','D3:\x20Error\x20fetching\x20ELO\x20history:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','eloHistory','D3:\x20eloHistoryD3\x20is\x20empty,\x20trying\x20fallback...','size','{}.constructor(\x22return\x20this\x22)(\x20)','querySelector','appendChild','674056IfBniu','change','kda','return\x20(function()\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x228\x22\x20style=\x22text-align:\x20center;\x20color:\x20red;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20D3\x20ladder\x20data:\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22profile.html?username=','catch','from','.trend-indicator',';\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22elo-container\x22\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22elo-value\x22>','#F44336','join','#C0C0C0','sort','\x0a\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','constructor','losses','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22color:\x20','eloRating','userProfiles','\x20players','fontWeight','D3:\x20Final\x20ELO\x20changes:','style','has','D3:\x20Looking\x20for\x20ELO\x20changes\x20for\x20users:','D3:\x20No\x20entries\x20found\x20in\x20eloHistoryD3,\x20trying\x20fallback...','set','18QuQsit','console','opacity','D3:\x20Found\x20pilot\x20entry:','#FFD700','100yRobrK','434833zkViEQ','now','__proto__','find','visibility','totalKills','push','playersD3','info','bold','D3\x20Ladder\x20table\x20body\x20not\x20found','entries','textContent','abs','\x20fallback\x20entries','warn','string','elo','1465ksZHsy','position','#ladder-d3\x20tbody','seconds','%</td>\x0a\x20\x20\x20\x20</tr>','wins','apply','\x20ELO\x20change:\x20','gray','totalDeaths','forEach','D3:\x20Player\x20ID\x20mappings:','newElo','loserUsername','exception','\x0a\x20\x20.streak-indicator\x20{\x0a\x20\x20\x20\x20font-size:\x200.9em;\x0a\x20\x20\x20\x20color:\x20#FF4500;\x0a\x20\x20\x20\x20margin-left:\x205px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20}\x0a','length','\x20entries\x20in\x20eloHistoryD3',';\x20text-decoration:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toFixed','then','Error\x20updating\x20D3\x20player\x20positions:','Error\x20updating\x20D3\x20ELO\x20trend\x20indicators:','D3:\x20Found\x20','ceil','275235DzkgOn','1715BXizWK','winnerUsername','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','display','1003860zxjpMB'];a33_0x2979=function(){return _0x254c9a;};return a33_0x2979();}import{db}from'./firebase-config.js';import{getRankStyle}from'./ranks.js';function a33_0x102d(_0x354c2c,_0x417332){const _0x6fe7f3=a33_0x2979();return a33_0x102d=function(_0x1f0d58,_0x186112){_0x1f0d58=_0x1f0d58-0x109;let _0x24192d=_0x6fe7f3[_0x1f0d58];return _0x24192d;},a33_0x102d(_0x354c2c,_0x417332);}import a33_0x511467 from'./firebase-idle-wrapper.js';const styleEl=document[a33_0x539d02(0x12c)](a33_0x539d02(0x167));styleEl[a33_0x539d02(0x17e)]=a33_0x539d02(0x10a),document[a33_0x539d02(0x137)][a33_0x539d02(0x14f)](styleEl);const playerCacheD3={'data':null,'timestamp':0x0},CACHE_DURATION=0x7530;async function displayLadderD3(_0x459dbb=![]){const _0x1affea=a33_0x539d02,_0x739fdc=document[_0x1affea(0x14e)]('#ladder-d3\x20tbody');if(!_0x739fdc){console[_0x1affea(0x12b)](_0x1affea(0x17c));return;}_0x739fdc[_0x1affea(0x13b)]='<tr><td\x20colspan=\x228\x22\x20class=\x22loading-cell\x22>Loading\x20D3\x20ladder\x20data...</td></tr>';try{const _0xf39520=Date[_0x1affea(0x173)]();if(!_0x459dbb&&playerCacheD3['data']&&_0xf39520-playerCacheD3[_0x1affea(0x124)]<CACHE_DURATION){updateLadderDisplayD3(playerCacheD3[_0x1affea(0x120)]);return;}const _0xc89da8=collection(db,_0x1affea(0x179)),_0x3c1504=await getDocs(_0xc89da8),_0x4409df=[];_0x3c1504[_0x1affea(0x18e)](_0x49827e=>{const _0x573109=_0x1affea,_0x2217de=_0x49827e['data']();_0x2217de['username']&&_0x4409df[_0x573109(0x178)]({..._0x2217de,'id':_0x49827e['id'],'elo':_0x2217de[_0x573109(0x162)]||0x0,'position':_0x2217de[_0x573109(0x185)]||Number[_0x573109(0x129)]});});const _0x5ca3fc=collection(db,_0x1affea(0x163)),_0x31686e=await getDocs(_0x5ca3fc),_0x1e9582=new Map();_0x31686e['forEach'](_0xa255f8=>{const _0x4a4098=_0x1affea,_0x2eaca5=_0xa255f8[_0x4a4098(0x120)]();_0x2eaca5['username']&&_0x1e9582[_0x4a4098(0x16b)](_0x2eaca5[_0x4a4098(0x11f)][_0x4a4098(0x130)](),_0x2eaca5);});for(const _0x5a7b48 of _0x4409df){const _0x1ae89a=_0x5a7b48[_0x1affea(0x11f)][_0x1affea(0x130)]();if(_0x1e9582[_0x1affea(0x168)](_0x1ae89a)){const _0x7014a=_0x1e9582['get'](_0x1ae89a);_0x7014a[_0x1affea(0x132)]&&(_0x5a7b48[_0x1affea(0x132)]=_0x7014a[_0x1affea(0x132)][_0x1affea(0x130)]());}}const _0x430117=_0x4409df[_0x1affea(0x133)](_0x44c3bf=>_0x44c3bf[_0x1affea(0x11f)]),_0x2295f1=await fetchBatchMatchStatsD3(_0x430117);_0x4409df['sort']((_0xea336d,_0x131ec3)=>{const _0x4ab3f2=_0x1affea,_0x1f750c=_0x2295f1[_0x4ab3f2(0x131)](_0xea336d[_0x4ab3f2(0x11f)])?.[_0x4ab3f2(0x138)]||0x0,_0x58224a=_0x2295f1[_0x4ab3f2(0x131)](_0x131ec3[_0x4ab3f2(0x11f)])?.[_0x4ab3f2(0x138)]||0x0;if(_0x1f750c===0x0!==(_0x58224a===0x0))return _0x1f750c===0x0?0x1:-0x1;return(_0xea336d[_0x4ab3f2(0x185)]||0x3e7)-(_0x131ec3['position']||0x3e7);}),_0x4409df[_0x1affea(0x18e)]((_0x591fc0,_0x45bd06)=>{const _0x610b2d=_0x1affea;_0x591fc0[_0x610b2d(0x185)]=_0x45bd06+0x1;}),playerCacheD3['data']=_0x4409df,playerCacheD3[_0x1affea(0x124)]=_0xf39520,updateLadderDisplayD3(_0x4409df);}catch(_0x198031){console[_0x1affea(0x12b)]('Error\x20loading\x20D3\x20ladder:',_0x198031),_0x739fdc[_0x1affea(0x13b)]=_0x1affea(0x154)+_0x198031['message']+_0x1affea(0x142);}}function calculateStreakDays(_0x1e6a9a){const _0x38f205=a33_0x539d02;if(!_0x1e6a9a)return 0x0;const _0x4ef67a=_0x1e6a9a['toDate'](),_0x54ba46=new Date(),_0x5bb35e=Math[_0x38f205(0x17f)](_0x54ba46-_0x4ef67a);return Math[_0x38f205(0x113)](_0x5bb35e/(0x3e8*0x3c*0x3c*0x18));}async function updatePlayerPositions(_0x4a1800,_0x5d1567){const _0x28eb53=a33_0x539d02;try{const _0x8f2365=collection(db,_0x28eb53(0x179)),_0x4cc801=await getDocs(_0x8f2365),_0x4c4152=[];_0x4cc801[_0x28eb53(0x18e)](_0x400596=>{const _0x4b5b10=_0x28eb53;_0x4c4152['push']({'id':_0x400596['id'],..._0x400596[_0x4b5b10(0x120)]()});});const _0x57790c=_0x4c4152[_0x28eb53(0x175)](_0x58e386=>_0x58e386[_0x28eb53(0x11f)]===_0x4a1800),_0x219e05=_0x4c4152[_0x28eb53(0x175)](_0x2f86d4=>_0x2f86d4['username']===_0x5d1567);if(!_0x57790c||!_0x219e05){console[_0x28eb53(0x12b)](_0x28eb53(0x13d));return;}if(_0x57790c[_0x28eb53(0x185)]>_0x219e05[_0x28eb53(0x185)]){const _0x5a368e=_0x219e05[_0x28eb53(0x185)];for(const _0xcfd322 of _0x4c4152){_0xcfd322['position']>=_0x219e05['position']&&_0xcfd322[_0x28eb53(0x185)]<_0x57790c[_0x28eb53(0x185)]&&_0xcfd322[_0x28eb53(0x11f)]!==_0x4a1800&&await updateDoc(doc(db,_0x28eb53(0x179),_0xcfd322['id']),{'position':_0xcfd322[_0x28eb53(0x185)]+0x1});}await updateDoc(doc(db,_0x28eb53(0x179),_0x57790c['id']),{'position':_0x5a368e});if(_0x5a368e===0x1){const _0x460114=doc(db,_0x28eb53(0x179),_0x57790c['id']),_0x5a862a=await getDoc(_0x460114);!_0x5a862a[_0x28eb53(0x120)]()['firstPlaceDate']&&await updateDoc(_0x460114,{'firstPlaceDate':Timestamp[_0x28eb53(0x173)]()});}if(_0x219e05[_0x28eb53(0x185)]===0x1){const _0xfd1fb4=doc(db,'playersD3',_0x219e05['id']);await updateDoc(_0xfd1fb4,{'firstPlaceDate':null});}}}catch(_0x27f506){console[_0x28eb53(0x12b)](_0x28eb53(0x110),_0x27f506);}}async function updateLadderDisplayD3(_0x1e42be){const _0xe30c87=a33_0x539d02;_0x1e42be['sort']((_0xe0a012,_0xee5237)=>_0xe0a012['position']-_0xee5237[_0xe30c87(0x185)]);const _0x520269=document['querySelector'](_0xe30c87(0x186));if(!_0x520269)return;_0x520269[_0xe30c87(0x13b)]='';const _0x421045=_0x1e42be[_0xe30c87(0x133)](_0x5134e4=>_0x5134e4['username']),_0x102a0d=await fetchBatchMatchStatsD3(_0x421045),_0x3ee088=document[_0xe30c87(0x14e)]('#ladder-d3\x20thead\x20tr');_0x3ee088[_0xe30c87(0x13b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>Rank</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>Username</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>ELO</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>Matches</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>Wins</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>Losses</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>K/D</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>Win\x20Rate</th>\x0a\x20\x20\x20\x20';const _0x2fde52=_0x1e42be['map'](_0x464aca=>{const _0x30fdcc=_0xe30c87,_0x158479=_0x102a0d['get'](_0x464aca[_0x30fdcc(0x11f)])||{'totalMatches':0x0,'wins':0x0,'losses':0x0,'kda':0x0,'winRate':0x0,'totalKills':0x0,'totalDeaths':0x0};return createPlayerRowD3(_0x464aca,_0x158479);})[_0xe30c87(0x15b)]('');_0x520269['innerHTML']=_0x2fde52,getPlayersLastEloChangesD3(_0x421045)[_0xe30c87(0x10f)](_0x4c3624=>{const _0x45805f=_0xe30c87,_0x176dc4=new Map();_0x520269['querySelectorAll']('tr')[_0x45805f(0x18e)]((_0x3304ed,_0x48dc07)=>{const _0x1c949a=_0x45805f;_0x48dc07<_0x421045[_0x1c949a(0x10b)]&&_0x176dc4['set'](_0x421045[_0x48dc07],_0x3304ed);}),_0x4c3624['forEach']((_0x5bd43b,_0x30a443)=>{const _0x520b4d=_0x45805f,_0x5caf4d=_0x176dc4[_0x520b4d(0x131)](_0x30a443);if(_0x5caf4d&&_0x5bd43b!==0x0){const _0x2c991f=_0x5caf4d['querySelector'](_0x520b4d(0x128));if(_0x2c991f){const _0x536302=_0x5bd43b>0x0?'+'+_0x5bd43b:''+_0x5bd43b,_0x36f121=_0x2c991f[_0x520b4d(0x14e)](_0x520b4d(0x158));_0x36f121&&(_0x36f121[_0x520b4d(0x17e)]=_0x536302,_0x36f121[_0x520b4d(0x167)][_0x520b4d(0x11a)]=_0x5bd43b>0x0?'#4CAF50':_0x520b4d(0x15a),_0x36f121[_0x520b4d(0x167)][_0x520b4d(0x165)]=_0x520b4d(0x17b),_0x36f121['style'][_0x520b4d(0x125)]=_0x520b4d(0x122),_0x36f121[_0x520b4d(0x167)][_0x520b4d(0x118)]=_0x520b4d(0x11d),_0x36f121[_0x520b4d(0x167)][_0x520b4d(0x176)]=_0x520b4d(0x13c),_0x36f121[_0x520b4d(0x167)][_0x520b4d(0x16e)]='1');}}});})[_0xe30c87(0x156)](_0x15d033=>console[_0xe30c87(0x12b)](_0xe30c87(0x111),_0x15d033));}async function fetchBatchMatchStatsD3(_0x56ed9a){const _0x24794b=a33_0x539d02,_0x3cf386=new Map();try{const _0x457407=collection(db,'approvedMatchesD3'),_0x7eaa4a=await getDocs(_0x457407);_0x7eaa4a['forEach'](_0x1f5f85=>{const _0x34454c=a33_0x102d,_0x1c4b49=_0x1f5f85[_0x34454c(0x120)]();if(_0x56ed9a['includes'](_0x1c4b49[_0x34454c(0x116)])){const _0x111505=_0x1c4b49[_0x34454c(0x116)];!_0x3cf386[_0x34454c(0x168)](_0x111505)&&_0x3cf386['set'](_0x111505,{'totalMatches':0x0,'wins':0x0,'losses':0x0,'totalKills':0x0,'totalDeaths':0x0,'kda':0x0,'winRate':0x0});const _0xee947f=_0x3cf386[_0x34454c(0x131)](_0x111505);_0xee947f[_0x34454c(0x189)]++,_0xee947f['totalMatches']++,_0xee947f[_0x34454c(0x177)]+=parseInt(_0x1c4b49['winnerScore'])||0x0,_0xee947f[_0x34454c(0x18d)]+=parseInt(_0x1c4b49['loserScore'])||0x0;}if(_0x56ed9a[_0x34454c(0x12e)](_0x1c4b49[_0x34454c(0x191)])){const _0x3d2c38=_0x1c4b49['loserUsername'];!_0x3cf386['has'](_0x3d2c38)&&_0x3cf386[_0x34454c(0x16b)](_0x3d2c38,{'totalMatches':0x0,'wins':0x0,'losses':0x0,'totalKills':0x0,'totalDeaths':0x0,'kda':0x0,'winRate':0x0});const _0x8e347d=_0x3cf386[_0x34454c(0x131)](_0x3d2c38);_0x8e347d[_0x34454c(0x160)]++,_0x8e347d[_0x34454c(0x138)]++,_0x8e347d['totalKills']+=parseInt(_0x1c4b49[_0x34454c(0x140)])||0x0,_0x8e347d[_0x34454c(0x18d)]+=parseInt(_0x1c4b49['winnerScore'])||0x0;}}),_0x3cf386[_0x24794b(0x18e)](_0x511982=>{const _0x574ee0=_0x24794b;_0x511982[_0x574ee0(0x152)]=_0x511982[_0x574ee0(0x18d)]>0x0?(_0x511982[_0x574ee0(0x177)]/_0x511982[_0x574ee0(0x18d)])['toFixed'](0x2):_0x511982[_0x574ee0(0x177)],_0x511982[_0x574ee0(0x126)]=_0x511982[_0x574ee0(0x138)]>0x0?(_0x511982[_0x574ee0(0x189)]/_0x511982['totalMatches']*0x64)[_0x574ee0(0x10e)](0x1):0x0;});}catch(_0x48ddc0){console[_0x24794b(0x12b)]('Error\x20fetching\x20batch\x20match\x20stats\x20for\x20D3:',_0x48ddc0);}return _0x3cf386;}function createPlayerRowD3(_0x4a6986,_0x207963){const _0x4856b2=a33_0x539d02,_0x2383c0=parseFloat(_0x4a6986[_0x4856b2(0x183)])||0x0;let _0x33d2d7=_0x4856b2(0x18c);if(_0x2383c0>=0x7d0)_0x33d2d7='#50C878';else{if(_0x2383c0>=0x708)_0x33d2d7=_0x4856b2(0x170);else{if(_0x2383c0>=0x640)_0x33d2d7=_0x4856b2(0x15c);else _0x2383c0>=0x578&&(_0x33d2d7='#CD7F32');}}let _0x1601a3='';return _0x4a6986[_0x4856b2(0x132)]&&(_0x1601a3=_0x4856b2(0x13a)+_0x4a6986[_0x4856b2(0x132)]['toLowerCase']()+_0x4856b2(0x12f)+_0x4a6986[_0x4856b2(0x132)]+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22player-flag\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>'),_0x4856b2(0x15e)+_0x4a6986['position']+_0x4856b2(0x155)+encodeURIComponent(_0x4a6986['username'])+_0x4856b2(0x12d)+_0x33d2d7+_0x4856b2(0x10d)+_0x4a6986[_0x4856b2(0x11f)]+_0x4856b2(0x149)+_0x1601a3+_0x4856b2(0x161)+_0x33d2d7+_0x4856b2(0x159)+_0x2383c0+_0x4856b2(0x12a)+_0x207963[_0x4856b2(0x138)]+_0x4856b2(0x117)+_0x207963[_0x4856b2(0x189)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x207963[_0x4856b2(0x160)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x207963[_0x4856b2(0x152)]+_0x4856b2(0x117)+_0x207963[_0x4856b2(0x126)]+_0x4856b2(0x188);}async function getPlayersLastEloChangesD3(_0x3649c0){const _0x1f3a9f=a33_0x539d02,_0x314975=new Map();_0x3649c0[_0x1f3a9f(0x18e)](_0x27c736=>_0x314975[_0x1f3a9f(0x16b)](_0x27c736,0x0));try{console['log'](_0x1f3a9f(0x169),_0x3649c0);const _0x5837a9=new Map(),_0x5d6205=await getDocs(collection(db,'playersD3'));_0x5d6205[_0x1f3a9f(0x18e)](_0x14f769=>{const _0x20b57c=_0x1f3a9f,_0x361d96=_0x14f769[_0x20b57c(0x120)]();_0x361d96[_0x20b57c(0x11f)]&&_0x5837a9[_0x20b57c(0x16b)](_0x14f769['id'],_0x361d96['username']);}),console[_0x1f3a9f(0x11b)](_0x1f3a9f(0x18f),Array['from'](_0x5837a9[_0x1f3a9f(0x17d)]()));const _0x419da7=collection(db,'eloHistoryD3'),_0x3280c6=query(_0x419da7,orderBy('timestamp',_0x1f3a9f(0x143)),limit(0x64)),_0x5d3e31=await getDocs(_0x3280c6);_0x5d3e31[_0x1f3a9f(0x135)]?console[_0x1f3a9f(0x11b)](_0x1f3a9f(0x14b)):console[_0x1f3a9f(0x11b)](_0x1f3a9f(0x112)+_0x5d3e31[_0x1f3a9f(0x14c)]+_0x1f3a9f(0x10c));const _0x3f0ec7=new Map();_0x5d3e31['forEach'](_0xb829e9=>{const _0xe0006e=_0x1f3a9f,_0x1cdb74=_0xb829e9[_0xe0006e(0x120)]();let _0x84ef1e=null;if(_0x1cdb74[_0xe0006e(0x11f)])_0x84ef1e=_0x1cdb74[_0xe0006e(0x11f)];else{if(_0x1cdb74['playerUsername'])_0x84ef1e=_0x1cdb74[_0xe0006e(0x144)];else{if(_0x1cdb74[_0xe0006e(0x11c)]&&typeof _0x1cdb74['player']===_0xe0006e(0x182))_0x84ef1e=_0x1cdb74['player'];else{if(_0x1cdb74['player']&&_0x5837a9[_0xe0006e(0x168)](_0x1cdb74[_0xe0006e(0x11c)]))_0x84ef1e=_0x5837a9['get'](_0x1cdb74[_0xe0006e(0x11c)]);else _0x1cdb74[_0xe0006e(0x13e)]&&_0x5837a9[_0xe0006e(0x168)](_0x1cdb74[_0xe0006e(0x13e)])&&(_0x84ef1e=_0x5837a9['get'](_0x1cdb74['playerId']));}}}(_0x1cdb74[_0xe0006e(0x11f)]===_0xe0006e(0x139)||_0x1cdb74['playerUsername']==='pilot'||_0x1cdb74[_0xe0006e(0x11c)]&&_0x5837a9[_0xe0006e(0x131)](_0x1cdb74[_0xe0006e(0x11c)])==='pilot')&&console[_0xe0006e(0x11b)](_0xe0006e(0x16f),_0x1cdb74),_0x84ef1e&&_0x3649c0[_0xe0006e(0x12e)](_0x84ef1e)&&(!_0x3f0ec7['has'](_0x84ef1e)&&_0x3f0ec7[_0xe0006e(0x16b)](_0x84ef1e,[]),_0x3f0ec7[_0xe0006e(0x131)](_0x84ef1e)['push']({..._0x1cdb74,'timestamp':_0x1cdb74[_0xe0006e(0x124)]?.[_0xe0006e(0x187)]||0x0}));}),console[_0x1f3a9f(0x11b)]('D3:\x20Found\x20entries\x20for\x20'+_0x3f0ec7[_0x1f3a9f(0x14c)]+_0x1f3a9f(0x164)),_0x3f0ec7[_0x1f3a9f(0x18e)]((_0x1f779e,_0x6874a)=>{const _0x439c76=_0x1f3a9f;if(_0x1f779e[_0x439c76(0x10b)]>0x0){_0x1f779e[_0x439c76(0x15d)]((_0x38366c,_0x560b8c)=>_0x560b8c[_0x439c76(0x124)]-_0x38366c[_0x439c76(0x124)]);const _0x154733=_0x1f779e[_0x439c76(0x175)](_0x31dd4e=>_0x31dd4e[_0x439c76(0x151)]!==undefined||_0x31dd4e['newElo']!==undefined&&_0x31dd4e[_0x439c76(0x147)]!==undefined);if(_0x154733){let _0x4a0d15;if(_0x154733[_0x439c76(0x151)]!==undefined)_0x4a0d15=_0x154733[_0x439c76(0x151)];else _0x154733[_0x439c76(0x190)]!==undefined&&_0x154733[_0x439c76(0x147)]!==undefined&&(_0x4a0d15=_0x154733[_0x439c76(0x190)]-_0x154733[_0x439c76(0x147)]);_0x4a0d15!==undefined&&(_0x314975['set'](_0x6874a,_0x4a0d15),console[_0x439c76(0x11b)](_0x439c76(0x141)+_0x6874a+_0x439c76(0x18b)+_0x4a0d15));}}});if(_0x3f0ec7[_0x1f3a9f(0x14c)]===0x0){console[_0x1f3a9f(0x11b)](_0x1f3a9f(0x16a));const _0x23f589=collection(db,_0x1f3a9f(0x14a)),_0x2dabdb=query(_0x23f589,where('gameMode','==','D3'),orderBy(_0x1f3a9f(0x124),_0x1f3a9f(0x143)),limit(0x32));try{const _0x49a7ba=await getDocs(_0x2dabdb);console['log'](_0x1f3a9f(0x112)+_0x49a7ba[_0x1f3a9f(0x14c)]+_0x1f3a9f(0x180)),_0x49a7ba[_0x1f3a9f(0x18e)](_0x43c241=>{const _0x26308a=_0x1f3a9f,_0x3a94e3=_0x43c241[_0x26308a(0x120)]();let _0xf2d2c=_0x3a94e3[_0x26308a(0x11f)]||_0x3a94e3[_0x26308a(0x144)];!_0xf2d2c&&_0x3a94e3[_0x26308a(0x11c)]&&_0x5837a9['has'](_0x3a94e3[_0x26308a(0x11c)])&&(_0xf2d2c=_0x5837a9[_0x26308a(0x131)](_0x3a94e3[_0x26308a(0x11c)]));if(_0xf2d2c&&_0x3649c0[_0x26308a(0x12e)](_0xf2d2c)){const _0x2269d0=_0x3a94e3[_0x26308a(0x151)]||(_0x3a94e3[_0x26308a(0x190)]!==undefined&&_0x3a94e3[_0x26308a(0x147)]!==undefined?_0x3a94e3[_0x26308a(0x190)]-_0x3a94e3[_0x26308a(0x147)]:0x0);_0x2269d0!==0x0&&(_0x314975[_0x26308a(0x16b)](_0xf2d2c,_0x2269d0),console[_0x26308a(0x11b)](_0x26308a(0x141)+_0xf2d2c+'\x20fallback\x20ELO\x20change:\x20'+_0x2269d0));}});}catch(_0x4c0a2c){console[_0x1f3a9f(0x11b)]('D3:\x20Fallback\x20query\x20failed:',_0x4c0a2c);}}const _0x333d3f=Array[_0x1f3a9f(0x157)](_0x314975['entries']())[_0x1f3a9f(0x127)](([_0x4238e9,_0x386526])=>_0x386526!==0x0);console[_0x1f3a9f(0x11b)](_0x1f3a9f(0x166),_0x333d3f);}catch(_0x17ad82){console['error'](_0x1f3a9f(0x148),_0x17ad82);}return _0x314975;}export{displayLadderD3,updatePlayerPositions};