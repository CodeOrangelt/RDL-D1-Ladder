const a22_0x273617=a22_0x22e6,a22_0x41a992=(function(){let _0x7b9c91=!![];return function(_0x103596,_0x2f6bc9){const _0x3f3d90=_0x7b9c91?function(){const _0x4a5c0d=a22_0x22e6;if(_0x2f6bc9){const _0x32afb2=_0x2f6bc9[_0x4a5c0d(0x1af)](_0x103596,arguments);return _0x2f6bc9=null,_0x32afb2;}}:function(){};return _0x7b9c91=![],_0x3f3d90;};}()),a22_0x8e950e=a22_0x41a992(this,function(){const _0xa5b081=a22_0x22e6;let _0x303e36;try{const _0x18e3d1=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x303e36=_0x18e3d1();}catch(_0xa63b0){_0x303e36=window;}const _0x1aca38=_0x303e36[_0xa5b081(0x198)]=_0x303e36['console']||{},_0x3ec9f2=['log',_0xa5b081(0x1bd),'info',_0xa5b081(0x1b8),'exception','table','trace'];for(let _0x2d9d1d=0x0;_0x2d9d1d<_0x3ec9f2['length'];_0x2d9d1d++){const _0x609c6a=a22_0x41a992['constructor'][_0xa5b081(0x1d7)][_0xa5b081(0x1e0)](a22_0x41a992),_0x5e975c=_0x3ec9f2[_0x2d9d1d],_0x4010dd=_0x1aca38[_0x5e975c]||_0x609c6a;_0x609c6a['__proto__']=a22_0x41a992['bind'](a22_0x41a992),_0x609c6a['toString']=_0x4010dd['toString']['bind'](_0x4010dd),_0x1aca38[_0x5e975c]=_0x609c6a;}});a22_0x8e950e();import{auth,db}from'./firebase-config.js';import{collection,query,where,orderBy,getDocs,doc,updateDoc,onSnapshot,limit,startAfter}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';class InboxManager{constructor(){const _0x399e25=a22_0x22e6;this['currentFilter']='pending',this['invitations']=[],this[_0x399e25(0x1c8)]=[],this['unsubscribe']=null,this[_0x399e25(0x1ba)]=null,this[_0x399e25(0x1cb)]=0x14,this[_0x399e25(0x1d1)]=null,this['hasMore']=!![],this[_0x399e25(0x199)]();}async['init'](){const _0x2d3fa5=a22_0x22e6;auth[_0x2d3fa5(0x1a0)](_0x55a56b=>{const _0x28de3a=_0x2d3fa5;_0x55a56b?(this['loadInvitations'](_0x55a56b['uid']),this[_0x28de3a(0x1d5)]()):window[_0x28de3a(0x1c9)]['href']=_0x28de3a(0x1cd);});}['setupEventListeners'](){const _0x49a088=a22_0x22e6;document['querySelectorAll'](_0x49a088(0x1be))[_0x49a088(0x1da)](_0x152063=>{_0x152063['addEventListener']('click',()=>{const _0x32f348=a22_0x22e6;document['querySelectorAll']('.filter-btn')['forEach'](_0x4b9f8b=>_0x4b9f8b['classList'][_0x32f348(0x1ae)]('active')),_0x152063[_0x32f348(0x1d9)]['add']('active'),this['currentFilter']=_0x152063['dataset']['filter'],this[_0x32f348(0x1bb)]();});});}[a22_0x273617(0x1d4)](_0xa4599a){const _0x433181=a22_0x273617,_0x183e19=collection(db,'gameInvitations');let _0xf3553=query(_0x183e19,where('toUserId','==',_0xa4599a),orderBy('createdAt','desc'),limit(this['pageSize']));this['unsubscribe']=onSnapshot(_0xf3553,_0xaef07c=>{const _0x502672=a22_0x22e6;this[_0x502672(0x1ad)]=_0xaef07c['docs'][_0x502672(0x1dc)](_0x5e94cf=>({'id':_0x5e94cf['id'],..._0x5e94cf['data']()})),this[_0x502672(0x1bb)](),this['updateNotificationCount']();});let _0x46e790=query(_0x183e19,where('fromUserId','==',_0xa4599a),orderBy(_0x433181(0x1a2),_0x433181(0x1a1)),limit(this['pageSize']));this[_0x433181(0x1ba)]=onSnapshot(_0x46e790,_0x2dd13f=>{const _0x5c4b37=_0x433181;this['sentInvitations']=_0x2dd13f['docs'][_0x5c4b37(0x1dc)](_0x325141=>({'id':_0x325141['id'],..._0x325141[_0x5c4b37(0x1b5)](),'isSent':!![]})),this['renderInvitations']();});}[a22_0x273617(0x1bb)](){const _0x4a778d=a22_0x273617,_0x5dbb60=document['getElementById']('inbox-content');if(!_0x5dbb60)return;let _0x6c81b7=[];if(this[_0x4a778d(0x1a5)]==='outbox')_0x6c81b7=this[_0x4a778d(0x1c8)];else this[_0x4a778d(0x1a5)]==='all'?_0x6c81b7=[...this[_0x4a778d(0x1ad)],...this['sentInvitations']][_0x4a778d(0x1cc)]((_0x22666d,_0x53a323)=>{const _0x3db719=_0x4a778d,_0x42222b=_0x22666d[_0x3db719(0x1a2)]?.[_0x3db719(0x1b2)]?_0x22666d['createdAt']['toDate']():new Date(_0x22666d['createdAt']),_0x37d903=_0x53a323[_0x3db719(0x1a2)]?.[_0x3db719(0x1b2)]?_0x53a323['createdAt']['toDate']():new Date(_0x53a323['createdAt']);return _0x37d903-_0x42222b;}):_0x6c81b7=this['invitations']['filter'](_0x1215f7=>_0x1215f7['status']===this[_0x4a778d(0x1a5)]);if(_0x6c81b7[_0x4a778d(0x1bf)]===0x0){const _0x8e59c8=this['currentFilter']==='outbox'?_0x4a778d(0x1c3):this['currentFilter']==='all'?'':this['currentFilter'];_0x5dbb60['innerHTML']=_0x4a778d(0x1d0)+_0x8e59c8+'\x20invitations</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(this['currentFilter']===_0x4a778d(0x1a9)?_0x4a778d(0x19a):'When\x20other\x20players\x20invite\x20you\x20to\x20games,\x20they\x27ll\x20appear\x20here.')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';return;}_0x5dbb60[_0x4a778d(0x19d)]=_0x6c81b7['map'](_0x427d0d=>this[_0x4a778d(0x1aa)](_0x427d0d))[_0x4a778d(0x1a8)](''),this[_0x4a778d(0x1ce)]();}[a22_0x273617(0x1aa)](_0x5ee24d){const _0x1b49f4=a22_0x273617,_0x1b7e0c=_0x5ee24d['createdAt']?.[_0x1b49f4(0x1b2)]?_0x5ee24d[_0x1b49f4(0x1a2)]['toDate']():new Date(_0x5ee24d['createdAt']),_0x55827f=this[_0x1b49f4(0x1df)](_0x1b7e0c),_0x59736c=_0x5ee24d['isSent']||![];let _0x10c071='';return _0x5ee24d['type']==='team_invite'?_0x10c071='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+_0x5ee24d['message']+_0x1b49f4(0x1c0)+_0x5ee24d['teamData']['teamColor']+_0x1b49f4(0x1cf)+_0x5ee24d[_0x1b49f4(0x1bc)][_0x1b49f4(0x1c6)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22color:\x20#888;\x20font-size:\x200.9em;\x20margin:\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Duos\x20Ladder\x20Team\x20â€¢\x20Color:\x20'+_0x5ee24d['teamData']['teamColor']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x10c071='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+_0x5ee24d['message']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-card\x20'+_0x5ee24d['status']+'\x20'+(_0x59736c?'sent-invitation':'')+'\x22\x20data-invitation-id=\x22'+_0x5ee24d['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-from\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x59736c?_0x1b49f4(0x1a4)+_0x5ee24d[_0x1b49f4(0x1b6)]:_0x5ee24d['fromUsername'])+_0x1b49f4(0x1a7)+(_0x59736c?'<span\x20class=\x22sent-indicator\x22><i\x20class=\x22fas\x20fa-paper-plane\x22></i>\x20Sent</span>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-time\x22>'+_0x55827f+_0x1b49f4(0x1b9)+_0x5ee24d['status']+'\x22>'+_0x5ee24d['status']+_0x1b49f4(0x1d3)+_0x10c071+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x59736c&&_0x5ee24d['status']==='pending'?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20accept-btn\x22\x20data-action=\x22accept\x22\x20data-invitation-id=\x22'+_0x5ee24d['id']+_0x1b49f4(0x1b7)+_0x5ee24d['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20Decline\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5ee24d['type']!=='team_invite'?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20respond-btn\x22\x20data-action=\x22respond\x22\x20data-invitation-id=\x22'+_0x5ee24d['id']+_0x1b49f4(0x19c):'')+_0x1b49f4(0x1ca):'')+_0x1b49f4(0x1de)+(_0x59736c&&_0x5ee24d['status']==='pending'?_0x1b49f4(0x197)+_0x5ee24d['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20Cancel\x20Invitation\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}['setupActionListeners'](){const _0x19f7df=a22_0x273617;document[_0x19f7df(0x1db)]('.action-btn')['forEach'](_0x1bd328=>{const _0x57bd0a=_0x19f7df;_0x1bd328['addEventListener'](_0x57bd0a(0x1ac),async _0x4f776b=>{const _0x1ceeb0=_0x57bd0a,_0x173511=_0x1bd328['dataset'][_0x1ceeb0(0x1ab)],_0x639603=_0x1bd328['dataset']['invitationId'];_0x1bd328['disabled']=!![];const _0xbd21e=_0x1bd328['innerHTML'];_0x1bd328[_0x1ceeb0(0x19d)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>';try{switch(_0x173511){case'accept':await this[_0x1ceeb0(0x196)](_0x639603,'accepted');break;case'decline':await this['updateInvitationStatus'](_0x639603,_0x1ceeb0(0x1c1));break;case'cancel':await this['updateInvitationStatus'](_0x639603,'cancelled');break;case'respond':this[_0x1ceeb0(0x1c4)](_0x639603);break;}}catch(_0x24d895){console['error']('Error\x20performing\x20'+_0x173511+':',_0x24d895),alert(_0x1ceeb0(0x19e)+_0x173511+'\x20invitation.\x20Please\x20try\x20again.');}finally{_0x1bd328['disabled']=![],_0x1bd328[_0x1ceeb0(0x19d)]=_0xbd21e;}});});}async['updateInvitationStatus'](_0x38b092,_0x5afb7a){const _0x3fa5ba=a22_0x273617;try{const _0x51130c=this['invitations'][_0x3fa5ba(0x1d2)](_0x53be3f=>_0x53be3f['id']===_0x38b092);_0x51130c&&_0x51130c[_0x3fa5ba(0x1b1)]==='team_invite'&&_0x5afb7a==='accepted'&&await this[_0x3fa5ba(0x1dd)](_0x51130c);const _0x702cc9=doc(db,'gameInvitations',_0x38b092);await updateDoc(_0x702cc9,{'status':_0x5afb7a,'respondedAt':new Date()}),_0x51130c&&(_0x51130c[_0x3fa5ba(0x19b)]=_0x5afb7a,_0x51130c['respondedAt']=new Date(),this['renderInvitations']());}catch(_0x4c1867){console['error']('Error\x20updating\x20invitation\x20status:',_0x4c1867);throw _0x4c1867;}}[a22_0x273617(0x1c4)](_0x537600){const _0x51098e=a22_0x273617,_0x566843=this[_0x51098e(0x1ad)]['find'](_0x2ed549=>_0x2ed549['id']===_0x537600);if(!_0x566843)return;const _0x5b6775=document['createElement']('div');_0x5b6775['className']='modal-overlay',_0x5b6775[_0x51098e(0x19d)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Send\x20Message\x20to\x20'+_0x566843[_0x51098e(0x1c7)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22modal-close\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-body\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Regarding\x20invitation\x20to:\x20<strong>'+_0x566843['value']+_0x51098e(0x1d8);if(!document['getElementById']('modal-styles')){const _0x6b49d1=document['createElement'](_0x51098e(0x19f));_0x6b49d1['id']='modal-styles',_0x6b49d1['textContent']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-overlay\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20right:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.8);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-content\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#2a2a2a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2090%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20500px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-height:\x2090vh;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20overflow-y:\x20auto;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-header\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20space-between;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-close\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x201.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-body\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-body\x20textarea\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#1a1a1a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resize:\x20vertical;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-footer\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-top:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x51098e(0x1e1)]['appendChild'](_0x6b49d1);}document['body']['appendChild'](_0x5b6775),_0x5b6775[_0x51098e(0x1a3)]('.modal-close')[_0x51098e(0x1d6)]('click',()=>_0x5b6775[_0x51098e(0x1ae)]()),_0x5b6775['querySelector'](_0x51098e(0x1c2))[_0x51098e(0x1d6)](_0x51098e(0x1ac),()=>_0x5b6775['remove']()),_0x5b6775['addEventListener']('click',_0x5a18ee=>{if(_0x5a18ee['target']===_0x5b6775)_0x5b6775['remove']();}),_0x5b6775['querySelector']('#send-response')[_0x51098e(0x1d6)](_0x51098e(0x1ac),()=>{const _0x45666e=_0x51098e,_0x45583f=document['getElementById'](_0x45666e(0x1c5))['value']['trim']();_0x45583f&&(alert('Message\x20sent!\x20(Feature\x20will\x20be\x20fully\x20implemented\x20in\x20future\x20update)'),_0x5b6775['remove']());});}async['createTeamFromInvitation'](_0x3210c9){const _0x14a825=a22_0x273617;try{const {createTeam:_0x267a4a}=await import('./ladderduos.js'),_0x355d92=await _0x267a4a(_0x3210c9['fromUsername'],_0x3210c9['toUsername'],_0x3210c9['teamData']['proposedTeamName'],_0x3210c9[_0x14a825(0x1bc)]['teamColor']);if(!_0x355d92['success'])throw new Error(_0x355d92[_0x14a825(0x1b8)]);alert('Team\x20\x22'+_0x3210c9[_0x14a825(0x1bc)]['proposedTeamName']+'\x22\x20created\x20successfully!');}catch(_0x50bbbf){console[_0x14a825(0x1b8)]('Error\x20creating\x20team:',_0x50bbbf);throw new Error(_0x14a825(0x1b4)+_0x50bbbf['message']);}}['updateNotificationCount'](){const _0x2711b0=a22_0x273617,_0x31b58c=this[_0x2711b0(0x1ad)]['filter'](_0x15edaf=>_0x15edaf['status']===_0x2711b0(0x1b3))['length'],_0x3036ba=document['getElementById'](_0x2711b0(0x1a6));_0x3036ba&&(_0x31b58c>0x0?(_0x3036ba['style']['display']='inline-block',_0x3036ba[_0x2711b0(0x1b0)]=_0x31b58c>0x9?'9+':_0x31b58c):_0x3036ba[_0x2711b0(0x19f)]['display']='none');}['getTimeAgo'](_0x2a0f16){const _0x275857=new Date(),_0x1b9609=_0x275857-_0x2a0f16,_0x5a130e=Math['floor'](_0x1b9609/(0x3e8*0x3c)),_0x208e95=Math['floor'](_0x1b9609/(0x3e8*0x3c*0x3c)),_0x2f9ab7=Math['floor'](_0x1b9609/(0x3e8*0x3c*0x3c*0x18));if(_0x5a130e<0x1)return'Just\x20now';if(_0x5a130e<0x3c)return _0x5a130e+'m\x20ago';if(_0x208e95<0x18)return _0x208e95+'h\x20ago';if(_0x2f9ab7<0x7)return _0x2f9ab7+'d\x20ago';return _0x2a0f16['toLocaleDateString']();}['destroy'](){this['unsubscribe']&&this['unsubscribe'](),this['sentUnsubscribe']&&this['sentUnsubscribe']();}}document['addEventListener']('DOMContentLoaded',()=>{new InboxManager();});function a22_0x22e6(_0x5b4e94,_0xed1d18){const _0x8e950e=a22_0x2734();return a22_0x22e6=function(_0x41a992,_0xd4cc20){_0x41a992=_0x41a992-0x196;let _0x27343d=_0x8e950e[_0x41a992];return _0x27343d;},a22_0x22e6(_0x5b4e94,_0xed1d18);}function a22_0x2734(){const _0x52c5f9=['updateInvitationStatus','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20cancel-btn\x22\x20data-action=\x22cancel\x22\x20data-invitation-id=\x22','console','init','Invitations\x20you\x20send\x20to\x20other\x20players\x20will\x20appear\x20here.','status','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-reply\x22></i>\x20Send\x20Message\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','innerHTML','Failed\x20to\x20','style','onAuthStateChanged','desc','createdAt','querySelector','To:\x20','currentFilter','inbox-notification','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','join','outbox','createInvitationCard','action','click','invitations','remove','apply','textContent','type','toDate','pending','Failed\x20to\x20create\x20team:\x20','data','toUsername','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20Accept\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20decline-btn\x22\x20data-action=\x22decline\x22\x20data-invitation-id=\x22','error','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22status-badge\x20status-','sentUnsubscribe','renderInvitations','teamData','warn','.filter-btn','length','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22team-invite-preview\x22\x20style=\x22background:\x20#1a1a1a;\x20padding:\x201rem;\x20border-radius:\x204px;\x20margin:\x200.5rem\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20style=\x22color:\x20','declined','#cancel-response','sent','openResponseModal','response-message','proposedTeamName','fromUsername','sentInvitations','location','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pageSize','sort','./login.html','setupActionListeners',';\x20margin:\x200\x200\x200.5rem\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22empty-inbox\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-inbox\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>No\x20','lastDoc','find','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','loadInvitations','setupEventListeners','addEventListener','prototype','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22response-message\x22\x20placeholder=\x22Type\x20your\x20message\x20here...\x22\x20rows=\x224\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20respond-btn\x22\x20id=\x22send-response\x22>Send\x20Message</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x22\x20id=\x22cancel-response\x22>Cancel</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','classList','forEach','querySelectorAll','map','createTeamFromInvitation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getTimeAgo','bind','head'];a22_0x2734=function(){return _0x52c5f9;};return a22_0x2734();}