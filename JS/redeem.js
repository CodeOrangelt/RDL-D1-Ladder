const a50_0x3eb2ce=a50_0x2d15,a50_0x168396=(function(){let _0x1a1742=!![];return function(_0x9c9989,_0x557190){const _0x4f1c0c=_0x1a1742?function(){const _0x183fd4=a50_0x2d15;if(_0x557190){const _0x15a266=_0x557190[_0x183fd4(0x214)](_0x9c9989,arguments);return _0x557190=null,_0x15a266;}}:function(){};return _0x1a1742=![],_0x4f1c0c;};}()),a50_0x56a3ba=a50_0x168396(this,function(){const _0x39d4fe=a50_0x2d15,_0x3c9f06=function(){let _0x76a418;try{_0x76a418=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x234a59){_0x76a418=window;}return _0x76a418;},_0x1a2aff=_0x3c9f06(),_0x5e8b4c=_0x1a2aff[_0x39d4fe(0x24e)]=_0x1a2aff['console']||{},_0x2bc80e=[_0x39d4fe(0x239),'warn',_0x39d4fe(0x219),'error','exception','table','trace'];for(let _0x3e0d77=0x0;_0x3e0d77<_0x2bc80e['length'];_0x3e0d77++){const _0x2d117e=a50_0x168396[_0x39d4fe(0x231)][_0x39d4fe(0x23f)]['bind'](a50_0x168396),_0x2b4da9=_0x2bc80e[_0x3e0d77],_0x265389=_0x5e8b4c[_0x2b4da9]||_0x2d117e;_0x2d117e['__proto__']=a50_0x168396['bind'](a50_0x168396),_0x2d117e['toString']=_0x265389[_0x39d4fe(0x207)]['bind'](_0x265389),_0x5e8b4c[_0x2b4da9]=_0x2d117e;}});a50_0x56a3ba();function a50_0x37e1(){const _0x308e71=['\x20is\x20already\x20your\x20current\x20theme','\x20theme','can-equip','userTokens','Permission\x20denied.\x20Token\x20may\x20still\x20be\x20equipped\x20-\x20check\x20the\x20ladder.','Theme\x20','You\x20can\x20see\x20better!','Token\x20collection\x20update\x20had\x20an\x20issue,\x20but\x20purchase\x20completed:','none','Blob\x20Token\x201','error','display','Token\x20sale\x20failed:','classList','addEventListener','default','dataset','store-message','Token\x20unequip\x20failed:','not-allowed','background','Strategic\x20explosive\x20device','points','Another\x20enigmatic\x20blob\x20creature','toString','Sign\x20in\x20to\x20Apply','isUserAdmin','add','switchTheme','textContent','uid','[data-theme]','equippedToken','üîß\x20Token\x20permissions\x20issue\x20detected,\x20but\x20purchase\x20was\x20successful','../images/tokens/subgame/fusion.gif','can-afford','Failed\x20to\x20equip\x20token:\x20','apply','Please\x20sign\x20in\x20again\x20to\x20complete\x20purchase.','Service\x20temporarily\x20unavailable.\x20Please\x20try\x20again.','token','toLocaleString','info','Token\x20unequipped!\x20Ladder\x20will\x20refresh\x20shortly.','‚úÖ\x20Token\x20','\x20items,\x20Equipped:\x20','Purchase\x20','.token-equip-btn','click','The\x20final\x20blob\x20in\x20the\x20collection','displayName','‚úÖ\x20Token\x20unequipped','permission-denied','block','\x20not\x20found','Energy',',\x20Inventory:\x20','No\x20token\x20is\x20currently\x20equipped','store-content','\x22\x20alt=\x22','üîÑ\x20Refreshing\x20ladder\x20to\x20remove\x20unequipped\x20token','querySelector','function','parentNode','Unequip\x20','../images/tokens/gauge18.gif','constructor','createElement','../images/tokens/subgame/pbomb.gif','sign-in-paid','‚úÖ\x20User\x20authenticated:','equipped','You\x20must\x20purchase\x20this\x20theme\x20first','exists','log','cursor','Intelligent\x20targeting\x20system','isAdmin','powerup','.theme-select-btn','prototype','üè™\x20Redeem\x20store\x20loaded','tokens','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-palette\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-price\x22>','map','theme','price','Please\x20sign\x20in\x20to\x20sell\x20tokens','remove','style','Failed\x20to\x20unequip\x20token:\x20','Buy\x20for\x20','data','message','Enhanced\x20energy\x20generation\x20unit','console','DOMContentLoaded','warn','inventory','.token-sell-btn','closest','success','Red','var(--muted-color,\x20#757575)','\x20Points','\x20for\x20','\x20points?','Token\x20purchase\x20failed:','RedeemStore','purchase','Please\x20sign\x20in\x20to\x20purchase\x20tokens','confirm','You\x20already\x20own\x20the\x20','Apply\x20Theme','refreshUI','getElementById','email','Please\x20sign\x20in\x20to\x20purchase\x20themes','Token\x20collection\x20update\x20had\x20an\x20issue,\x20but\x20equip\x20was\x20successful:','split','‚úÖ\x20Sold\x20token\x20','Purchase\x20processing\x20error:','0.7','currentUser','../images/tokens/subgame/mmissile.gif','sign-in-free','dispatchEvent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20points\x20to\x20purchase\x20this\x20token','ThemeSystem','includes','token_','Transaction\x20logging\x20failed,\x20but\x20purchase\x20was\x20successful:','Sign\x20in\x20to\x20Purchase','disabled','special','userProfiles','You\x20already\x20own\x20this\x20','store-message\x20store-message-','displayLadder','innerHTML','.token-select-btn','name','You\x20don\x27t\x20own\x20this\x20token'];a50_0x37e1=function(){return _0x308e71;};return a50_0x37e1();}import{getAuth,onAuthStateChanged}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,updateDoc,collection,addDoc,serverTimestamp}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{clearTokenCache}from'./tokens.js';const auth=getAuth(),db=getFirestore(),THEMES={'default':{'price':0x0,'name':'Classic\x20RDL','description':'Rock\x20texture\x20with\x20a\x20sleek\x20nav\x20and\x20footer'},'purple':{'price':0x96,'name':'Purple','description':'Can\x27t\x20get\x20enough'},'cyberpunk':{'price':0x190,'name':'Yellow\x20Orange','description':'This\x20theme\x20makes\x20me\x20happy'},'emerald':{'price':0x3e8,'name':'Emerald','description':'Emerald\x20City!'},'gold':{'price':0x320,'name':'Gold','description':'Only\x20the\x20best\x20get\x20this\x20one'},'contrast':{'price':0x0,'name':'Black\x20&\x20White','description':a50_0x3eb2ce(0x1f5)},'ocean':{'price':0x12c,'name':'Blue','description':'This\x20one\x20is\x20really\x20pretty'},'volcanic':{'price':0x1f4,'name':a50_0x3eb2ce(0x255),'description':'For\x20the\x20angry\x20type.'}},TOKENS={'blob01':{'price':0x1f4,'name':a50_0x3eb2ce(0x1f8),'description':'A\x20mysterious\x20purple\x20blob\x20token','image':'../images/tokens/blob01.gif','category':'blob'},'blob02':{'price':0x3e8,'name':'Blob\x20Token\x202','description':a50_0x3eb2ce(0x206),'image':'../images/tokens/blob02.gif','category':'blob'},'blob03':{'price':0x7d0,'name':'Blob\x20Token\x203','description':a50_0x3eb2ce(0x220),'image':'../images/tokens/blob03.gif','category':'blob'},'cloak':{'price':0x1f4,'name':'Cloaking\x20Device','description':'Become\x20one\x20with\x20the\x20shadows','image':'../images/tokens/cloak.gif','category':a50_0x3eb2ce(0x276)},'gauge18':{'price':0x320,'name':'R/Y/B\x20Keys','description':'Monitor\x20your\x20ship\x27s\x20energy\x20levels','image':a50_0x3eb2ce(0x230),'category':'equipment'},'fusion':{'price':0x15e,'name':'Fusion\x20Cannon','description':'Devastating\x20fusion\x20weapon\x20technology','image':a50_0x3eb2ce(0x211),'category':'weapon'},'mmissile':{'price':0x320,'name':'Mega\x20Missile','description':'Heavy\x20ordinance\x20for\x20tough\x20situations','image':a50_0x3eb2ce(0x26b),'category':'weapon'},'pbomb':{'price':0x15e,'name':'Proximity\x20Bomb','description':a50_0x3eb2ce(0x204),'image':a50_0x3eb2ce(0x233),'category':'weapon'},'pwr01':{'price':0x64,'name':a50_0x3eb2ce(0x226),'description':a50_0x3eb2ce(0x24d),'image':'../images/tokens/subgame/pwr01.gif','category':'powerup'},'pwr02':{'price':0x258,'name':'Shield\x20Orb','description':'Advanced\x20energy\x20storage\x20system','image':'../images/tokens/subgame/pwr02.gif','category':a50_0x3eb2ce(0x23d)},'smissile':{'price':0x28a,'name':'Smart\x20Missile','description':a50_0x3eb2ce(0x23b),'image':'../images/tokens/subgame/smissile.gif','category':'weapon'}};function a50_0x2d15(_0x2cd9f4,_0x3c465d){const _0x56a3ba=a50_0x37e1();return a50_0x2d15=function(_0x168396,_0x56ed80){_0x168396=_0x168396-0x1ef;let _0x37e15f=_0x56a3ba[_0x168396];return _0x37e15f;},a50_0x2d15(_0x2cd9f4,_0x3c465d);}let userData={'points':0x0,'inventory':[],'isAdmin':![]},storeContainer,pointsDisplay,authWarning;document[a50_0x3eb2ce(0x1fd)](a50_0x3eb2ce(0x24f),()=>{const _0x3660ff=a50_0x3eb2ce;console['log']('üè™\x20Redeem\x20store\x20initializing...'),storeContainer=document[_0x3660ff(0x262)](_0x3660ff(0x229)),pointsDisplay=document[_0x3660ff(0x262)]('user-points'),authWarning=document[_0x3660ff(0x262)]('auth-warning'),initAuthListener(),buildStoreUI();});function initAuthListener(){onAuthStateChanged(auth,async _0x3b7e34=>{const _0x2bdf1e=a50_0x2d15;if(_0x3b7e34){console['log'](_0x2bdf1e(0x235),_0x3b7e34['displayName']||_0x3b7e34['email']);if(authWarning)authWarning[_0x2bdf1e(0x248)]['display']='none';if(storeContainer)storeContainer['style'][_0x2bdf1e(0x1fa)]='block';await loadUserData(_0x3b7e34),updateThemeButtons(),updateTokenButtons();}else{console['log']('‚ùå\x20User\x20not\x20authenticated');if(authWarning)authWarning['style']['display']=_0x2bdf1e(0x224);if(storeContainer)storeContainer[_0x2bdf1e(0x248)]['display']=_0x2bdf1e(0x1f7);userData={'points':0x0,'inventory':[],'isAdmin':![]},window[_0x2bdf1e(0x209)]=![];}});}async function loadUserData(_0x458592){const _0x7c231d=a50_0x3eb2ce;try{const _0x5f2ff6=doc(db,_0x7c231d(0x277),_0x458592['uid']),_0x23b037=await getDoc(_0x5f2ff6);if(_0x23b037[_0x7c231d(0x238)]()){const _0x5c4d5f=_0x23b037['data']();userData={'points':_0x5c4d5f[_0x7c231d(0x205)]||0x0,'inventory':_0x5c4d5f[_0x7c231d(0x251)]||[],'isAdmin':_0x5c4d5f[_0x7c231d(0x23c)]||![],'equippedToken':_0x5c4d5f[_0x7c231d(0x20f)]||null},pointsDisplay&&(pointsDisplay['textContent']=userData['points']['toLocaleString']()),window['isUserAdmin']=userData['isAdmin'],userData['isAdmin']&&(console['log']('üëë\x20Admin\x20controls\x20enabled'),window[_0x7c231d(0x26d)](new CustomEvent('adminStatusChanged',{'detail':{'isAdmin':!![]}}))),console['log']('User\x20data\x20loaded\x20-\x20Points:\x20'+userData[_0x7c231d(0x205)]+_0x7c231d(0x227)+userData['inventory']['length']+_0x7c231d(0x21c)+(userData['equippedToken']||'none'));}else await setDoc(_0x5f2ff6,{'points':0x0,'inventory':[],'equippedToken':null,'createdAt':serverTimestamp(),'username':_0x458592[_0x7c231d(0x221)]||_0x458592[_0x7c231d(0x263)]?.[_0x7c231d(0x266)]('@')[0x0]||'User'}),userData={'points':0x0,'inventory':[],'isAdmin':![],'equippedToken':null},pointsDisplay&&(pointsDisplay['textContent']='0'),window['isUserAdmin']=![],console['log']('New\x20user\x20profile\x20created');}catch(_0x21961c){console['error']('Error\x20loading\x20user\x20data:',_0x21961c);}}function userOwnsTheme(_0x485641){const _0x24c777=a50_0x3eb2ce;if(THEMES[_0x485641]?.[_0x24c777(0x245)]===0x0)return!![];return userData['inventory']['includes']('theme_'+_0x485641);}function userOwnsToken(_0xddbf3f){const _0x2fac95=a50_0x3eb2ce;return userData[_0x2fac95(0x251)]['includes']('token_'+_0xddbf3f);}function userHasTokenEquipped(_0x2721c2){return userData['equippedToken']===_0x2721c2;}function getEquippedToken(){const _0x493afe=a50_0x3eb2ce;return userData[_0x493afe(0x20f)]||null;}async function purchaseTheme(_0x351b31){const _0x36c50d=a50_0x3eb2ce,_0x3b8e64=auth[_0x36c50d(0x26a)];if(!_0x3b8e64)return showMessage(_0x36c50d(0x264),'error'),![];const _0x605224=THEMES[_0x351b31];if(!_0x605224)return console[_0x36c50d(0x1f9)]('Theme\x20'+_0x351b31+'\x20not\x20found'),![];if(userData[_0x36c50d(0x205)]<_0x605224['price'])return showMessage('Not\x20enough\x20points.\x20You\x20need\x20'+(_0x605224['price']-userData['points'])+'\x20more\x20points.','error'),![];if(userOwnsTheme(_0x351b31))return showMessage('You\x20already\x20own\x20the\x20'+_0x605224['name']+_0x36c50d(0x1f0),_0x36c50d(0x219)),![];try{return await processPurchase(_0x351b31,_0x605224,_0x36c50d(0x244));}catch(_0x4f77ac){return console['error']('Theme\x20purchase\x20failed:',_0x4f77ac),showMessage('Purchase\x20failed.\x20Please\x20try\x20again.','error'),![];}}async function purchaseToken(_0x5ee64b){const _0x132725=a50_0x3eb2ce,_0x178934=auth['currentUser'];if(!_0x178934)return showMessage('Please\x20sign\x20in\x20to\x20purchase\x20tokens',_0x132725(0x1f9)),![];const _0x3bb750=TOKENS[_0x5ee64b];if(!_0x3bb750)return console['error']('Token\x20'+_0x5ee64b+_0x132725(0x225)),![];if(userData['points']<_0x3bb750[_0x132725(0x245)])return showMessage('Not\x20enough\x20points.\x20You\x20need\x20'+(_0x3bb750['price']-userData['points'])+'\x20more\x20points.',_0x132725(0x1f9)),![];if(userOwnsToken(_0x5ee64b))return showMessage(_0x132725(0x25f)+_0x3bb750['name']+'\x20token','info'),![];try{return await processPurchase(_0x5ee64b,_0x3bb750,'token');}catch(_0x3f0d89){return console['error'](_0x132725(0x25a),_0x3f0d89),showMessage('Purchase\x20failed.\x20Please\x20try\x20again.','error'),![];}}async function processPurchase(_0x4e7cfa,_0x58d0d0,_0x16d035){const _0x4aa8d4=a50_0x3eb2ce,_0x5c9b36=auth['currentUser'];try{const _0x24a5a9=doc(db,'userProfiles',_0x5c9b36[_0x4aa8d4(0x20d)]),_0x29301f=await getDoc(_0x24a5a9);if(!_0x29301f[_0x4aa8d4(0x238)]())return showMessage('User\x20profile\x20not\x20found','error'),![];const _0x457b03=_0x29301f['data'](),_0x5c9311=_0x457b03[_0x4aa8d4(0x205)]||0x0,_0x37310d=_0x457b03['inventory']||[];if(_0x5c9311<_0x58d0d0['price'])return showMessage('Insufficient\x20points',_0x4aa8d4(0x1f9)),![];if(_0x37310d['includes'](_0x16d035+'_'+_0x4e7cfa))return showMessage(_0x4aa8d4(0x278)+_0x16d035,'info'),![];const _0x518d64=_0x5c9311-_0x58d0d0['price'],_0x3c024f=[..._0x37310d,_0x16d035+'_'+_0x4e7cfa];await updateDoc(_0x24a5a9,{'points':_0x518d64,'inventory':_0x3c024f,'lastPurchase':serverTimestamp()});if(_0x16d035===_0x4aa8d4(0x217))try{const _0x3fab84=doc(db,_0x4aa8d4(0x1f2),_0x5c9b36['uid']),_0x49589d=await getDoc(_0x3fab84);let _0x1ba424=[];_0x49589d['exists']()&&(_0x1ba424=_0x49589d[_0x4aa8d4(0x24b)]()[_0x4aa8d4(0x241)]||[]);const _0x26cc42=new Date();_0x1ba424['push']({'tokenId':_0x4e7cfa,'tokenName':_0x58d0d0['name'],'tokenImage':_0x58d0d0['image'],'category':_0x58d0d0['category'],'purchasedAt':_0x26cc42,'price':_0x58d0d0['price'],'equipped':![]}),await setDoc(_0x3fab84,{'userId':_0x5c9b36['uid'],'username':_0x457b03['username']||_0x5c9b36['displayName']||'Unknown','tokens':_0x1ba424,'lastUpdated':serverTimestamp()},{'merge':!![]}),typeof clearTokenCache==='function'&&clearTokenCache(_0x5c9b36['uid']),console['log'](_0x4aa8d4(0x21b)+_0x4e7cfa+'\x20saved\x20to\x20userTokens\x20collection\x20(not\x20equipped)');}catch(_0x567845){console[_0x4aa8d4(0x250)](_0x4aa8d4(0x1f6),_0x567845),_0x567845['code']==='permission-denied'?console['log'](_0x4aa8d4(0x210)):console['error']('Unexpected\x20token\x20error:',_0x567845);}try{await addDoc(collection(db,'transactions'),{'userId':_0x5c9b36['uid'],'userEmail':_0x5c9b36['email'],'itemId':_0x16d035+'_'+_0x4e7cfa,'itemTitle':_0x58d0d0['name'],'price':_0x58d0d0['price'],'type':_0x4aa8d4(0x25c),'category':_0x16d035,'timestamp':serverTimestamp()});}catch(_0x4b0864){console['warn'](_0x4aa8d4(0x273),_0x4b0864);}return userData[_0x4aa8d4(0x205)]=_0x518d64,userData['inventory']=_0x3c024f,pointsDisplay&&(pointsDisplay['textContent']=userData[_0x4aa8d4(0x205)][_0x4aa8d4(0x218)]()),updateTokenButtons(),_0x16d035==='theme'&&updateThemeButtons(),console['log']('‚úÖ\x20Purchased\x20'+_0x58d0d0['name']+_0x4aa8d4(0x258)+_0x58d0d0['price']+'\x20points'),showMessage('Successfully\x20purchased\x20'+_0x58d0d0['name']+'!\x20Use\x20the\x20\x22Equip\x22\x20button\x20to\x20show\x20it\x20on\x20the\x20ladder.',_0x4aa8d4(0x254)),!![];}catch(_0x1b7cb8){console['error'](_0x4aa8d4(0x268),_0x1b7cb8);if(_0x1b7cb8['code']==='permission-denied')showMessage('Permission\x20denied.\x20Please\x20try\x20again\x20or\x20contact\x20support.','error');else{if(_0x1b7cb8['code']==='unavailable')showMessage(_0x4aa8d4(0x216),_0x4aa8d4(0x1f9));else _0x1b7cb8['code']==='unauthenticated'?showMessage(_0x4aa8d4(0x215),'error'):showMessage('Purchase\x20failed.\x20Please\x20try\x20again.','error');}return![];}}async function equipToken(_0x1012d4){const _0x4987b1=a50_0x3eb2ce,_0x591188=auth['currentUser'];if(!_0x591188)return showMessage('Please\x20sign\x20in\x20to\x20equip\x20tokens','error'),![];const _0xdffb34=TOKENS[_0x1012d4];if(!_0xdffb34)return console['error']('Token\x20'+_0x1012d4+_0x4987b1(0x225)),![];if(!userOwnsToken(_0x1012d4))return showMessage('You\x20must\x20own\x20this\x20token\x20to\x20equip\x20it','error'),![];try{const _0x14833f=doc(db,'userProfiles',_0x591188[_0x4987b1(0x20d)]);await updateDoc(_0x14833f,{'equippedToken':_0x1012d4,'lastTokenEquip':serverTimestamp()});try{const _0x4a182b=doc(db,'userTokens',_0x591188[_0x4987b1(0x20d)]),_0x22f906=await getDoc(_0x4a182b);if(_0x22f906['exists']()){const _0x255142=_0x22f906['data'](),_0x46516d=_0x255142['tokens']||[],_0x492b4f=_0x46516d['map'](_0xe622a0=>({..._0xe622a0,'equipped':_0xe622a0['tokenId']===_0x1012d4}));await updateDoc(_0x4a182b,{'tokens':_0x492b4f,'equippedToken':_0x1012d4,'lastUpdated':serverTimestamp()});}}catch(_0x37ad02){console['warn'](_0x4987b1(0x265),_0x37ad02);}return userData['equippedToken']=_0x1012d4,typeof clearTokenCache===_0x4987b1(0x22d)&&(clearTokenCache(_0x591188[_0x4987b1(0x20d)]),clearTokenCache()),setTimeout(()=>{const _0x22b581=_0x4987b1;window[_0x22b581(0x27a)]&&typeof window['displayLadder']==='function'&&(console['log']('üîÑ\x20Refreshing\x20ladder\x20to\x20show\x20equipped\x20token'),window['displayLadder'](!![])),window[_0x22b581(0x25b)]&&typeof window['RedeemStore'][_0x22b581(0x261)]==='function'&&window['RedeemStore']['refreshUI']();},0x1f4),console['log']('‚úÖ\x20Equipped\x20token:\x20'+_0xdffb34['name']),showMessage(_0xdffb34[_0x4987b1(0x27d)]+'\x20equipped!\x20Ladder\x20will\x20refresh\x20shortly.','success'),!![];}catch(_0x4048f7){return console['error']('Token\x20equip\x20failed:',_0x4048f7),_0x4048f7['code']===_0x4987b1(0x223)?showMessage(_0x4987b1(0x1f3),'warning'):showMessage(_0x4987b1(0x213)+_0x4048f7[_0x4987b1(0x24c)],_0x4987b1(0x1f9)),![];}}async function unequipToken(){const _0x3ad741=a50_0x3eb2ce,_0x4e3a3b=auth['currentUser'];if(!_0x4e3a3b)return showMessage('Please\x20sign\x20in\x20to\x20unequip\x20tokens','error'),![];if(!userData[_0x3ad741(0x20f)])return showMessage(_0x3ad741(0x228),'info'),![];try{const _0x10fd79=doc(db,'userProfiles',_0x4e3a3b[_0x3ad741(0x20d)]);await updateDoc(_0x10fd79,{'equippedToken':null,'lastTokenEquip':serverTimestamp()});const _0xdfc89a=doc(db,'userTokens',_0x4e3a3b['uid']),_0x24bebf=await getDoc(_0xdfc89a);if(_0x24bebf['exists']()){const _0x244574=_0x24bebf['data'](),_0x44ec8a=_0x244574[_0x3ad741(0x241)]||[],_0x579e3c=_0x44ec8a[_0x3ad741(0x243)](_0x17e155=>({..._0x17e155,'equipped':![]}));await updateDoc(_0xdfc89a,{'tokens':_0x579e3c,'equippedToken':null,'lastUpdated':serverTimestamp()});}return userData['equippedToken']=null,typeof clearTokenCache===_0x3ad741(0x22d)&&(clearTokenCache(_0x4e3a3b[_0x3ad741(0x20d)]),clearTokenCache()),setTimeout(()=>{const _0x26ac66=_0x3ad741;window['displayLadder']&&typeof window['displayLadder']==='function'&&(console['log'](_0x26ac66(0x22b)),window['displayLadder'](!![])),window['RedeemStore']&&typeof window[_0x26ac66(0x25b)]['refreshUI']===_0x26ac66(0x22d)&&window['RedeemStore'][_0x26ac66(0x261)]();},0x1f4),console[_0x3ad741(0x239)](_0x3ad741(0x222)),showMessage(_0x3ad741(0x21a),_0x3ad741(0x254)),!![];}catch(_0x1ef769){return console['error'](_0x3ad741(0x201),_0x1ef769),showMessage(_0x3ad741(0x249)+_0x1ef769['message'],_0x3ad741(0x1f9)),![];}}async function sellToken(_0x4bc6eb){const _0x8405af=a50_0x3eb2ce,_0x3b3ba4=auth['currentUser'];if(!_0x3b3ba4)return showMessage(_0x8405af(0x246),'error'),![];if(!userData['isAdmin'])return showMessage('Only\x20admins\x20can\x20sell\x20tokens',_0x8405af(0x1f9)),![];const _0x30f941=TOKENS[_0x4bc6eb];if(!_0x30f941)return console[_0x8405af(0x1f9)]('Token\x20'+_0x4bc6eb+'\x20not\x20found'),![];if(!userOwnsToken(_0x4bc6eb))return showMessage(_0x8405af(0x27e),'error'),![];try{const _0x32f316=doc(db,'userProfiles',_0x3b3ba4['uid']),_0x34251b=await getDoc(_0x32f316),_0x1c76ce=_0x34251b['data'](),_0x40379c=Math['floor'](_0x30f941['price']*0.5),_0x1f772b=(_0x1c76ce['points']||0x0)+_0x40379c,_0x513a3a=(_0x1c76ce['inventory']||[])['filter'](_0x264183=>_0x264183!=='token_'+_0x4bc6eb),_0x4d8ad0=_0x1c76ce['equippedToken']===_0x4bc6eb?null:_0x1c76ce['equippedToken'];await updateDoc(_0x32f316,{'points':_0x1f772b,'inventory':_0x513a3a,'equippedToken':_0x4d8ad0,'lastSale':serverTimestamp()});const _0x49f4c0=doc(db,'userTokens',_0x3b3ba4[_0x8405af(0x20d)]),_0x5cdefe=await getDoc(_0x49f4c0);if(_0x5cdefe['exists']()){const _0x1a4a41=_0x5cdefe[_0x8405af(0x24b)](),_0x43b3fb=_0x1a4a41[_0x8405af(0x241)]||[],_0x52ad5c=_0x43b3fb['filter'](_0x2ea964=>_0x2ea964['tokenId']!==_0x4bc6eb);await updateDoc(_0x49f4c0,{'tokens':_0x52ad5c,'equippedToken':_0x4d8ad0,'lastUpdated':serverTimestamp()});}return await addDoc(collection(db,'transactions'),{'userId':_0x3b3ba4['uid'],'userEmail':_0x3b3ba4['email'],'itemId':_0x8405af(0x272)+_0x4bc6eb,'itemTitle':_0x30f941['name'],'refund':_0x40379c,'originalPrice':_0x30f941['price'],'type':'sale','category':_0x8405af(0x217),'timestamp':serverTimestamp()}),userData[_0x8405af(0x205)]=_0x1f772b,userData[_0x8405af(0x251)]=_0x513a3a,userData['equippedToken']=_0x4d8ad0,pointsDisplay&&(pointsDisplay['textContent']=userData['points']['toLocaleString']()),typeof clearTokenCache===_0x8405af(0x22d)&&clearTokenCache(_0x3b3ba4[_0x8405af(0x20d)]),console['log'](_0x8405af(0x267)+_0x30f941['name']+'\x20for\x20'+_0x40379c+'\x20points'),showMessage('Sold\x20'+_0x30f941['name']+'\x20for\x20'+_0x40379c+'\x20points\x20(50%\x20refund)','success'),!![];}catch(_0x1f0b13){return console[_0x8405af(0x1f9)](_0x8405af(0x1fb),_0x1f0b13),showMessage('Failed\x20to\x20sell\x20token:\x20'+_0x1f0b13['message'],_0x8405af(0x1f9)),![];}}function applyTheme(_0x51a40f){const _0x45976b=a50_0x3eb2ce;if(!userOwnsTheme(_0x51a40f))return showMessage('You\x20must\x20purchase\x20this\x20theme\x20first',_0x45976b(0x1f9)),![];return window['ThemeSystem']?(window[_0x45976b(0x270)][_0x45976b(0x20b)](_0x51a40f),showMessage((THEMES[_0x51a40f]?.['name']||_0x51a40f)+'\x20theme\x20applied!',_0x45976b(0x254)),!![]):(console['error']('Theme\x20system\x20not\x20found'),![]);}function buildStoreUI(){buildThemeItems(),buildTokenItems();}function buildThemeItems(){const _0x4a52ca=a50_0x3eb2ce,_0x9dd5ec=document['querySelector']('.themes-grid');if(!_0x9dd5ec){console[_0x4a52ca(0x1f9)]('Themes\x20container\x20not\x20found');return;}_0x9dd5ec[_0x4a52ca(0x27b)]='',Object['entries'](THEMES)['forEach'](([_0x5a7f4f,_0x104641])=>{const _0x12c623=_0x4a52ca,_0x331416=document['createElement']('div');_0x331416['className']='store-item',_0x331416['dataset']['theme']=_0x5a7f4f,_0x331416['dataset']['itemId']='theme_'+_0x5a7f4f,_0x331416['dataset'][_0x12c623(0x245)]=_0x104641['price'],_0x331416[_0x12c623(0x27b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-icon\x20theme-icon-'+_0x5a7f4f+_0x12c623(0x242)+(_0x104641[_0x12c623(0x245)]===0x0?'FREE':_0x104641['price']+'\x20Points')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22item-title\x22>'+_0x104641['name']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22item-description\x22>'+_0x104641['description']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22theme-select-btn\x20purchase-btn\x22>Select\x20Theme</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x9dd5ec['appendChild'](_0x331416);}),setupThemeButtons();}function buildTokenItems(){const _0x5985f0=document['querySelector']('.tokens-grid');if(!_0x5985f0){console['error']('Tokens\x20container\x20not\x20found');return;}_0x5985f0['innerHTML']='',Object['entries'](TOKENS)['forEach'](([_0x4b785a,_0x44e758])=>{const _0x33b0ce=a50_0x2d15,_0x4d6e57=document[_0x33b0ce(0x232)]('div');_0x4d6e57['className']='store-item\x20token-item',_0x4d6e57['dataset']['token']=_0x4b785a,_0x4d6e57['dataset']['itemId']='token_'+_0x4b785a,_0x4d6e57[_0x33b0ce(0x1ff)]['price']=_0x44e758['price'];const _0x4f018b=userData['isAdmin']&&userOwnsToken(_0x4b785a)?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22token-sell-btn\x20admin-btn\x22\x20style=\x22margin-top:\x200.5rem;\x20background:\x20#f44336;\x20font-size:\x200.8rem;\x20padding:\x200.3rem;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Sell\x20('+Math['floor'](_0x44e758['price']*0.5)+'\x20pts)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20':'';_0x4d6e57['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-icon\x20token-icon\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22'+_0x44e758['image']+_0x33b0ce(0x22a)+_0x44e758[_0x33b0ce(0x27d)]+'\x22\x20class=\x22token-preview\x22\x20onerror=\x22this.style.display=\x27none\x27;\x20this.nextElementSibling.style.display=\x27flex\x27;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22token-fallback\x22\x20style=\x22display:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-coins\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-price\x22>'+_0x44e758[_0x33b0ce(0x245)]+'\x20Points</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22token-select-btn\x20purchase-btn\x22>Purchase</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22token-equip-btn\x20equip-btn\x22\x20style=\x22margin-top:\x200.5rem;\x20display:\x20none;\x22>Equip</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4f018b+_0x33b0ce(0x26e),_0x5985f0['appendChild'](_0x4d6e57);}),setupTokenButtons();}function setupThemeButtons(){const _0xa65cde=a50_0x3eb2ce,_0x10e2fc=document['querySelectorAll'](_0xa65cde(0x23e));_0x10e2fc['forEach'](_0x4e140c=>{_0x4e140c['addEventListener']('click',async _0x32bb89=>{const _0x479dcf=a50_0x2d15;_0x32bb89['preventDefault']();const _0x3b8e12=auth[_0x479dcf(0x26a)];if(!_0x3b8e12){showMessage('Please\x20sign\x20in\x20to\x20select\x20themes','error');return;}const _0x5188e9=_0x4e140c['closest'](_0x479dcf(0x20e)),_0xc714be=_0x5188e9['dataset']['theme'],_0x1ff042=THEMES[_0xc714be];if(!_0x1ff042){console[_0x479dcf(0x1f9)](_0x479dcf(0x1f4)+_0xc714be+'\x20not\x20found');return;}console['log']('Theme\x20clicked:\x20'+_0x1ff042[_0x479dcf(0x27d)]+'\x20('+_0xc714be+')');if(_0x4e140c[_0x479dcf(0x275)]){_0x1ff042['price']>0x0&&showMessage('You\x20need\x20'+_0x1ff042[_0x479dcf(0x245)]+'\x20points\x20to\x20purchase\x20this\x20theme',_0x479dcf(0x1f9));return;}if(_0x4e140c['textContent']==='Current\x20Theme'){showMessage(_0x1ff042['name']+_0x479dcf(0x1ef),'info');return;}if(_0x4e140c['textContent']==='Apply\x20Theme'){applyTheme(_0xc714be),updateThemeButtons();return;}if(_0x4e140c[_0x479dcf(0x20c)]['includes']('Buy')){const _0x4b5235=window['confirm']('Purchase\x20'+_0x1ff042['name']+'\x20theme\x20for\x20'+_0x1ff042['price']+'\x20points?');if(!_0x4b5235)return;const _0x46d823=await purchaseTheme(_0xc714be);_0x46d823&&(showMessage(_0x1ff042[_0x479dcf(0x27d)]+'\x20theme\x20purchased!',_0x479dcf(0x254)),applyTheme(_0xc714be),updateThemeButtons());return;}userOwnsTheme(_0xc714be)?applyTheme(_0xc714be):showMessage(_0x479dcf(0x237),_0x479dcf(0x1f9));});}),updateThemeButtons();}function setupTokenButtons(){const _0x4ef400=a50_0x3eb2ce,_0x40165d=document['querySelectorAll'](_0x4ef400(0x27c)),_0x3bf684=document['querySelectorAll'](_0x4ef400(0x21e)),_0xe64036=document['querySelectorAll']('.token-sell-btn');_0x40165d['forEach'](_0x1214a4=>{const _0x457a81=_0x4ef400;_0x1214a4[_0x457a81(0x1fd)]('click',async _0x1777da=>{const _0x557d63=_0x457a81;_0x1777da['preventDefault']();const _0x898c5e=auth[_0x557d63(0x26a)];if(!_0x898c5e){showMessage(_0x557d63(0x25d),'error');return;}const _0x37929e=_0x1214a4[_0x557d63(0x253)]('[data-token]'),_0x1a3f03=_0x37929e['dataset']['token'],_0x2a65b9=TOKENS[_0x1a3f03];if(!_0x2a65b9){console[_0x557d63(0x1f9)]('Token\x20'+_0x1a3f03+_0x557d63(0x225));return;}console['log']('Token\x20clicked:\x20'+_0x2a65b9['name']+'\x20('+_0x1a3f03+')');if(_0x1214a4['disabled']){showMessage('You\x20need\x20'+_0x2a65b9['price']+_0x557d63(0x26f),'error');return;}if(_0x1214a4[_0x557d63(0x20c)]==='Owned'){showMessage('You\x20already\x20own\x20the\x20'+_0x2a65b9['name']+'\x20token',_0x557d63(0x219));return;}if(_0x1214a4[_0x557d63(0x20c)][_0x557d63(0x271)]('Purchase')||_0x1214a4['textContent']['includes']('Buy')){const _0x324c2e=window[_0x557d63(0x25e)](_0x557d63(0x21d)+_0x2a65b9[_0x557d63(0x27d)]+'\x20token\x20for\x20'+_0x2a65b9['price']+_0x557d63(0x259));if(!_0x324c2e)return;const _0x150b38=await purchaseToken(_0x1a3f03);_0x150b38&&updateTokenButtons();return;}});}),_0x3bf684['forEach'](_0x1b9c85=>{const _0x5d759a=_0x4ef400;_0x1b9c85['addEventListener'](_0x5d759a(0x21f),async _0x49bb4a=>{const _0x2ea10d=_0x5d759a;_0x49bb4a['preventDefault']();const _0x25f8f6=_0x1b9c85[_0x2ea10d(0x253)]('[data-token]'),_0x10eda0=_0x25f8f6['dataset'][_0x2ea10d(0x217)],_0x3322ae=TOKENS[_0x10eda0];if(_0x1b9c85['textContent']==='Equipped'){const _0x4220bd=window['confirm'](_0x2ea10d(0x22f)+_0x3322ae['name']+'?');if(!_0x4220bd)return;const _0xd877eb=await unequipToken();_0xd877eb&&updateTokenButtons();}else{const _0x50f00b=window['confirm']('Equip\x20'+_0x3322ae['name']+'?\x20This\x20will\x20unequip\x20your\x20current\x20token.');if(!_0x50f00b)return;const _0xac59a4=await equipToken(_0x10eda0);_0xac59a4&&updateTokenButtons();}});}),_0xe64036['forEach'](_0x119186=>{_0x119186['addEventListener']('click',async _0x35a974=>{const _0xc79aa7=a50_0x2d15;_0x35a974['preventDefault']();const _0x5b6538=_0x119186[_0xc79aa7(0x253)]('[data-token]'),_0x398449=_0x5b6538['dataset']['token'],_0x1393fc=TOKENS[_0x398449],_0xf91682=Math['floor'](_0x1393fc[_0xc79aa7(0x245)]*0.5),_0x4bd5c3=window['confirm']('Are\x20you\x20sure\x20you\x20want\x20to\x20sell\x20'+_0x1393fc[_0xc79aa7(0x27d)]+'\x20for\x20'+_0xf91682+'\x20points?\x20This\x20cannot\x20be\x20undone.');if(!_0x4bd5c3)return;const _0x440db5=await sellToken(_0x398449);_0x440db5&&updateTokenButtons();});}),updateTokenButtons();}function updateThemeButtons(){const _0x32bac9=window['ThemeSystem']?window['ThemeSystem']['getCurrentTheme']():'default',_0x1181eb=auth['currentUser'];document['querySelectorAll']('.theme-select-btn')['forEach'](_0x1e425e=>{const _0x4e5b1c=a50_0x2d15,_0x4693fe=_0x1e425e[_0x4e5b1c(0x253)](_0x4e5b1c(0x20e)),_0x19c63b=_0x4693fe['dataset']['theme'],_0x68509f=THEMES[_0x19c63b];if(!_0x68509f)return;_0x1e425e['disabled']=![],_0x1e425e['style']['opacity']='',_0x1e425e[_0x4e5b1c(0x248)]['cursor']='pointer',_0x1e425e[_0x4e5b1c(0x1fc)]['remove']('current-theme','apply-theme',_0x4e5b1c(0x212),'cannot-afford',_0x4e5b1c(0x26c),_0x4e5b1c(0x234));if(!_0x1181eb){_0x68509f[_0x4e5b1c(0x245)]===0x0?(_0x1e425e['textContent']=_0x4e5b1c(0x208),_0x1e425e['classList']['add'](_0x4e5b1c(0x26c))):(_0x1e425e['textContent']=_0x4e5b1c(0x274),_0x1e425e['disabled']=!![],_0x1e425e['style']['opacity']=_0x4e5b1c(0x269),_0x1e425e['classList']['add']('sign-in-paid'));return;}if(_0x19c63b===_0x32bac9){_0x1e425e[_0x4e5b1c(0x20c)]='Current\x20Theme',_0x1e425e['classList']['add']('current-theme'),_0x1e425e['disabled']=!![],_0x1e425e['style'][_0x4e5b1c(0x23a)]='default';return;}if(userOwnsTheme(_0x19c63b)){_0x1e425e['textContent']=_0x4e5b1c(0x260),_0x1e425e['classList'][_0x4e5b1c(0x20a)]('apply-theme');return;}if(userData['points']>=_0x68509f[_0x4e5b1c(0x245)]){_0x1e425e['textContent']='Buy\x20for\x20'+_0x68509f['price']+'\x20Points',_0x1e425e['classList']['add']('can-afford');return;}_0x1e425e['textContent']='Need\x20'+_0x68509f['price']+'\x20Points',_0x1e425e['classList']['add']('cannot-afford'),_0x1e425e['style']['opacity']='0.5',_0x1e425e[_0x4e5b1c(0x275)]=!![],_0x1e425e['style'][_0x4e5b1c(0x23a)]=_0x4e5b1c(0x202);});}function updateTokenButtons(){const _0x18021e=auth['currentUser'];document['querySelectorAll']('.token-select-btn')['forEach'](_0x513f2a=>{const _0xf64caa=a50_0x2d15,_0x57d542=_0x513f2a['closest']('[data-token]'),_0x246e6b=_0x57d542[_0xf64caa(0x1ff)][_0xf64caa(0x217)],_0x31f015=TOKENS[_0x246e6b],_0x663f99=_0x57d542[_0xf64caa(0x22c)]('.token-equip-btn'),_0x5e58b1=_0x57d542['querySelector'](_0xf64caa(0x252));if(!_0x31f015)return;_0x513f2a['disabled']=![],_0x513f2a['style']['opacity']='',_0x513f2a['style']['cursor']='pointer';_0x663f99&&(_0x663f99['style']['display']='none',_0x663f99['disabled']=![],_0x663f99['style']['opacity']='',_0x663f99['classList']['remove']('equipped','can-equip'));_0x5e58b1&&(_0x5e58b1['style'][_0xf64caa(0x1fa)]='none');_0x513f2a['classList']['remove']('owned','can-afford','cannot-afford','sign-in');if(!_0x18021e){_0x513f2a[_0xf64caa(0x20c)]='Sign\x20in\x20to\x20Purchase',_0x513f2a['disabled']=!![],_0x513f2a[_0xf64caa(0x248)]['opacity']='0.7',_0x513f2a['classList'][_0xf64caa(0x20a)]('sign-in');return;}if(userOwnsToken(_0x246e6b)){_0x513f2a['textContent']='Owned',_0x513f2a[_0xf64caa(0x1fc)][_0xf64caa(0x20a)]('owned'),_0x513f2a['disabled']=!![],_0x513f2a[_0xf64caa(0x248)]['cursor']=_0xf64caa(0x1fe),_0x513f2a['style'][_0xf64caa(0x203)]='var(--success-color,\x20#4CAF50)';_0x663f99&&(_0x663f99[_0xf64caa(0x248)]['display']='block',userHasTokenEquipped(_0x246e6b)?(_0x663f99[_0xf64caa(0x20c)]='Equipped',_0x663f99['classList'][_0xf64caa(0x20a)](_0xf64caa(0x236)),_0x663f99['style']['background']='var(--accent-color,\x20#2196F3)',_0x663f99['style'][_0xf64caa(0x23a)]='pointer'):(_0x663f99['textContent']='Equip',_0x663f99['classList'][_0xf64caa(0x20a)](_0xf64caa(0x1f1)),_0x663f99['style']['background']='var(--info-color,\x20#17a2b8)',_0x663f99['style']['cursor']='pointer'));_0x5e58b1&&userData['isAdmin']&&(_0x5e58b1['style']['display']='block');return;}if(userData['points']>=_0x31f015['price']){_0x513f2a[_0xf64caa(0x20c)]=_0xf64caa(0x24a)+_0x31f015['price']+_0xf64caa(0x257),_0x513f2a['classList']['add'](_0xf64caa(0x212)),_0x513f2a['style']['background']='';return;}_0x513f2a['textContent']='Need\x20'+_0x31f015['price']+'\x20Points',_0x513f2a['classList']['add']('cannot-afford'),_0x513f2a['style']['opacity']='0.5',_0x513f2a[_0xf64caa(0x275)]=!![],_0x513f2a['style'][_0xf64caa(0x23a)]=_0xf64caa(0x202),_0x513f2a['style']['background']=_0xf64caa(0x256);});}function showMessage(_0x237dcc,_0x356fd2='info'){const _0x5d8229=a50_0x3eb2ce,_0x52e2e6=document[_0x5d8229(0x262)](_0x5d8229(0x200));_0x52e2e6&&_0x52e2e6[_0x5d8229(0x247)]();const _0x4dbbaa=document[_0x5d8229(0x232)]('div');_0x4dbbaa['id']='store-message',_0x4dbbaa['className']=_0x5d8229(0x279)+_0x356fd2,_0x4dbbaa['textContent']=_0x237dcc,document['body']['appendChild'](_0x4dbbaa),requestAnimationFrame(()=>{_0x4dbbaa['classList']['add']('visible');}),setTimeout(()=>{const _0x1f61ed=_0x5d8229;_0x4dbbaa['classList'][_0x1f61ed(0x247)]('visible'),setTimeout(()=>{const _0x2e0e01=_0x1f61ed;_0x4dbbaa[_0x2e0e01(0x22e)]&&_0x4dbbaa['remove']();},0x12c);},0xfa0);}window['RedeemStore']={'refreshUI':()=>{updateThemeButtons(),updateTokenButtons();},'checkOwnership':userOwnsTheme,'checkTokenOwnership':userOwnsToken,'applyTheme':applyTheme,'purchaseTheme':purchaseTheme,'purchaseToken':purchaseToken},console['log'](a50_0x3eb2ce(0x240));