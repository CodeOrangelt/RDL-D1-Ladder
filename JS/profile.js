const a42_0x21b8fc=a42_0x5c75;(function(_0x494517,_0x5b916d){const _0x3c7fd9=a42_0x5c75,_0x2632a9=_0x494517();while(!![]){try{const _0x3d2410=-parseInt(_0x3c7fd9(0x19e))/0x1*(-parseInt(_0x3c7fd9(0x1a6))/0x2)+-parseInt(_0x3c7fd9(0x161))/0x3*(parseInt(_0x3c7fd9(0x170))/0x4)+parseInt(_0x3c7fd9(0x1a3))/0x5*(-parseInt(_0x3c7fd9(0x166))/0x6)+-parseInt(_0x3c7fd9(0x192))/0x7+parseInt(_0x3c7fd9(0x17f))/0x8*(-parseInt(_0x3c7fd9(0x175))/0x9)+parseInt(_0x3c7fd9(0x163))/0xa+parseInt(_0x3c7fd9(0x1a2))/0xb;if(_0x3d2410===_0x5b916d)break;else _0x2632a9['push'](_0x2632a9['shift']());}catch(_0x1e0979){_0x2632a9['push'](_0x2632a9['shift']());}}}(a42_0x165a,0x360ae));const a42_0x33cf7a=(function(){let _0x5e5754=!![];return function(_0x1862dd,_0x4037c2){const _0x367ae9=_0x5e5754?function(){const _0x451893=a42_0x5c75;if(_0x4037c2){const _0x519723=_0x4037c2[_0x451893(0x188)](_0x1862dd,arguments);return _0x4037c2=null,_0x519723;}}:function(){};return _0x5e5754=![],_0x367ae9;};}()),a42_0x35acda=a42_0x33cf7a(this,function(){const _0x179d7a=a42_0x5c75;return a42_0x35acda[_0x179d7a(0x185)]()[_0x179d7a(0x167)](_0x179d7a(0x195))[_0x179d7a(0x185)]()[_0x179d7a(0x16b)](a42_0x35acda)[_0x179d7a(0x167)](_0x179d7a(0x195));});a42_0x35acda();const a42_0x4e73e3=(function(){let _0x24cb30=!![];return function(_0xd63c75,_0x458b9e){const _0x88783=_0x24cb30?function(){if(_0x458b9e){const _0x3d9114=_0x458b9e['apply'](_0xd63c75,arguments);return _0x458b9e=null,_0x3d9114;}}:function(){};return _0x24cb30=![],_0x88783;};}()),a42_0x269c45=a42_0x4e73e3(this,function(){const _0x2db65c=a42_0x5c75;let _0x43c18e;try{const _0xafc97d=Function('return\x20(function()\x20'+_0x2db65c(0x172)+');');_0x43c18e=_0xafc97d();}catch(_0x14f8ec){_0x43c18e=window;}const _0x3d5a5a=_0x43c18e[_0x2db65c(0x193)]=_0x43c18e[_0x2db65c(0x193)]||{},_0x29c500=[_0x2db65c(0x15b),_0x2db65c(0x159),_0x2db65c(0x194),_0x2db65c(0x197),_0x2db65c(0x16f),_0x2db65c(0x186),_0x2db65c(0x15a)];for(let _0x16ac59=0x0;_0x16ac59<_0x29c500[_0x2db65c(0x1a5)];_0x16ac59++){const _0x21c504=a42_0x4e73e3[_0x2db65c(0x16b)][_0x2db65c(0x17d)][_0x2db65c(0x18e)](a42_0x4e73e3),_0x4c4080=_0x29c500[_0x16ac59],_0x65aff3=_0x3d5a5a[_0x4c4080]||_0x21c504;_0x21c504[_0x2db65c(0x198)]=a42_0x4e73e3[_0x2db65c(0x18e)](a42_0x4e73e3),_0x21c504[_0x2db65c(0x185)]=_0x65aff3[_0x2db65c(0x185)][_0x2db65c(0x18e)](_0x65aff3),_0x3d5a5a[_0x4c4080]=_0x21c504;}});a42_0x269c45();import{initializeApp}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js';function a42_0x165a(){const _0x368b14=['3fHwunN','Error\x20saving\x20profile:','677180XpmjPT','uid','setupEventListeners','48YqdexB','search','DOMContentLoaded','winnerUsername','onload','constructor','stats-losses','wins','pfpPreview','exception','1732916NtjDKr','favorite-map','{}.constructor(\x22return\x20this\x22)(\x20)','data','toFixed','12456OxtPMV','exists','all','profile-form','form','pfpInput','profile-preview','forEach','prototype','value','1328NrWfKy','loadPlayerStats','winrate','losses','addEventListener','profiles','toString','table','approvedMatches','apply','favoriteMap','handleImageUpload','target','Error\x20saving\x20profile.\x20Please\x20try\x20again.','src','bind','files','submit','loserScore','2626148tMZfuE','console','info','(((.+)+)+)+$','favoriteWeapon','error','__proto__','handleSubmit','Error\x20loading\x20profile:','pfp-upload','Please\x20sign\x20in\x20to\x20save\x20your\x20profile','stats-wins','6249tjlZqZ','stats-','statsContainer','profile-pictures/','12252449BLTChm','99715YWCfDG','preventDefault','length','76gVXUZH','getElementById','change','get','textContent','size','pfpUrl','nickname','stats-kd','stats-matches','result','warn','trace','log','Stats\x20calculated:','motto','winnerScore','loadProfile','currentUser'];a42_0x165a=function(){return _0x368b14;};return a42_0x165a();}import{getAuth,onAuthStateChanged}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';import{getFirestore,doc,setDoc,getDoc,collection,getDocs,query,where}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';function a42_0x5c75(_0x126fc6,_0x34ac68){const _0x192355=a42_0x165a();return a42_0x5c75=function(_0x269c45,_0x4e73e3){_0x269c45=_0x269c45-0x159;let _0x250dd6=_0x192355[_0x269c45];return _0x250dd6;},a42_0x5c75(_0x126fc6,_0x34ac68);}import{getStorage,ref,uploadBytes,getDownloadURL}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-storage.js';import{firebaseConfig}from'./firebase-config.js';const app=initializeApp(firebaseConfig),auth=getAuth(app),db=getFirestore(app),storage=getStorage(app);class ProfileManager{constructor(){const _0x2a8a60=a42_0x5c75;this[_0x2a8a60(0x179)]=document[_0x2a8a60(0x1a7)](_0x2a8a60(0x178)),this[_0x2a8a60(0x17a)]=document[_0x2a8a60(0x1a7)](_0x2a8a60(0x19b)),this[_0x2a8a60(0x16e)]=document[_0x2a8a60(0x1a7)](_0x2a8a60(0x17b)),this[_0x2a8a60(0x1a0)]=document['getElementById']('player-stats'),this[_0x2a8a60(0x165)](),this[_0x2a8a60(0x15f)]();}[a42_0x21b8fc(0x165)](){const _0x5d39fa=a42_0x21b8fc;this[_0x5d39fa(0x17a)][_0x5d39fa(0x183)](_0x5d39fa(0x1a8),_0x5f0906=>this['handleImageUpload'](_0x5f0906)),this[_0x5d39fa(0x179)][_0x5d39fa(0x183)](_0x5d39fa(0x190),_0xf03161=>this[_0x5d39fa(0x199)](_0xf03161));}async[a42_0x21b8fc(0x18a)](_0x2c4fce){const _0x3d1e0f=a42_0x21b8fc,_0x1d60d8=_0x2c4fce[_0x3d1e0f(0x18b)][_0x3d1e0f(0x18f)][0x0];if(_0x1d60d8){const _0x5c465b=new FileReader();_0x5c465b[_0x3d1e0f(0x16a)]=_0x281d6c=>{const _0x5a5d0d=_0x3d1e0f;this['pfpPreview'][_0x5a5d0d(0x18d)]=_0x281d6c[_0x5a5d0d(0x18b)][_0x5a5d0d(0x1b0)];},_0x5c465b['readAsDataURL'](_0x1d60d8);}}async['handleSubmit'](_0x1d23fe){const _0x46f6c5=a42_0x21b8fc;_0x1d23fe[_0x46f6c5(0x1a4)]();const _0x293485=auth[_0x46f6c5(0x160)];if(!_0x293485){alert(_0x46f6c5(0x19c));return;}try{const _0x44d97c=new FormData(this[_0x46f6c5(0x179)]),_0x150737={'nickname':_0x44d97c[_0x46f6c5(0x1a9)]('nickname'),'motto':_0x44d97c[_0x46f6c5(0x1a9)]('motto'),'favoriteMap':_0x44d97c['get'](_0x46f6c5(0x171)),'favoriteWeapon':_0x44d97c[_0x46f6c5(0x1a9)]('favorite-weapon'),'updatedAt':new Date()['toISOString']()},_0x3a2cce=this['pfpInput'][_0x46f6c5(0x18f)][0x0];if(_0x3a2cce){const _0x1af61c=ref(storage,_0x46f6c5(0x1a1)+_0x293485[_0x46f6c5(0x164)]);await uploadBytes(_0x1af61c,_0x3a2cce),_0x150737['pfpUrl']=await getDownloadURL(_0x1af61c);}await setDoc(doc(db,_0x46f6c5(0x184),_0x293485[_0x46f6c5(0x164)]),_0x150737),alert('Profile\x20saved\x20successfully!');}catch(_0x518b56){console[_0x46f6c5(0x197)](_0x46f6c5(0x162),_0x518b56),alert(_0x46f6c5(0x18c));}}async[a42_0x21b8fc(0x15f)](){onAuthStateChanged(auth,async _0x471f45=>{const _0x9fed3f=a42_0x5c75;if(_0x471f45)try{const _0x158f86=await getDoc(doc(db,'profiles',_0x471f45[_0x9fed3f(0x164)]));if(_0x158f86[_0x9fed3f(0x176)]()){const _0x51ce04=_0x158f86[_0x9fed3f(0x173)]();document[_0x9fed3f(0x1a7)]('nickname')[_0x9fed3f(0x17e)]=_0x51ce04[_0x9fed3f(0x1ad)]||'',document[_0x9fed3f(0x1a7)](_0x9fed3f(0x15d))['value']=_0x51ce04['motto']||'',document[_0x9fed3f(0x1a7)](_0x9fed3f(0x171))[_0x9fed3f(0x17e)]=_0x51ce04[_0x9fed3f(0x189)]||'',document[_0x9fed3f(0x1a7)]('favorite-weapon')[_0x9fed3f(0x17e)]=_0x51ce04[_0x9fed3f(0x196)]||'',_0x51ce04[_0x9fed3f(0x1ac)]&&(this[_0x9fed3f(0x16e)][_0x9fed3f(0x18d)]=_0x51ce04['pfpUrl']),await this[_0x9fed3f(0x180)](_0x51ce04[_0x9fed3f(0x1ad)]);}}catch(_0x435899){console[_0x9fed3f(0x197)](_0x9fed3f(0x19a),_0x435899);}});}async[a42_0x21b8fc(0x180)](_0x511a48){const _0x1700f9=a42_0x21b8fc;if(!_0x511a48)return;try{const _0x39e3ff=collection(db,_0x1700f9(0x187)),[_0x4acbc2,_0x3bf6cb]=await Promise[_0x1700f9(0x177)]([getDocs(query(_0x39e3ff,where(_0x1700f9(0x169),'==',_0x511a48))),getDocs(query(_0x39e3ff,where('loserUsername','==',_0x511a48)))]),_0x398a90=_0x4acbc2[_0x1700f9(0x1ab)],_0xcb7b85=_0x3bf6cb[_0x1700f9(0x1ab)],_0x5e4c9b=_0x398a90+_0xcb7b85;let _0x5d2652=0x0,_0x33f443=0x0;_0x4acbc2[_0x1700f9(0x17c)](_0x2d9aba=>{const _0x54cea4=_0x1700f9,_0xeadb64=_0x2d9aba[_0x54cea4(0x173)]();if(_0xeadb64[_0x54cea4(0x15e)])_0x5d2652+=parseInt(_0xeadb64[_0x54cea4(0x15e)]);if(_0xeadb64['loserScore'])_0x33f443+=parseInt(_0xeadb64[_0x54cea4(0x191)]);}),_0x3bf6cb['forEach'](_0x2bce0f=>{const _0x17fe52=_0x1700f9,_0x1ae799=_0x2bce0f['data']();if(_0x1ae799['loserScore'])_0x5d2652+=parseInt(_0x1ae799[_0x17fe52(0x191)]);if(_0x1ae799['winnerScore'])_0x33f443+=parseInt(_0x1ae799[_0x17fe52(0x15e)]);});const _0xb2da52=_0x33f443===0x0?_0x5d2652['toFixed'](0x2):(_0x5d2652/_0x33f443)['toFixed'](0x2),_0x3c83e2=_0x5e4c9b===0x0?'0':(_0x398a90/_0x5e4c9b*0x64)[_0x1700f9(0x174)](0x1);console['log'](_0x1700f9(0x15c),{'totalMatches':_0x5e4c9b,'wins':_0x398a90,'losses':_0xcb7b85,'totalKills':_0x5d2652,'totalDeaths':_0x33f443,'kdRatio':_0xb2da52,'winRate':_0x3c83e2}),document[_0x1700f9(0x1a7)](_0x1700f9(0x1af))[_0x1700f9(0x1aa)]=_0x5e4c9b,document[_0x1700f9(0x1a7)](_0x1700f9(0x19d))['textContent']=_0x398a90,document[_0x1700f9(0x1a7)](_0x1700f9(0x16c))[_0x1700f9(0x1aa)]=_0xcb7b85,document[_0x1700f9(0x1a7)](_0x1700f9(0x1ae))[_0x1700f9(0x1aa)]=_0xb2da52,document[_0x1700f9(0x1a7)]('stats-winrate')[_0x1700f9(0x1aa)]=_0x3c83e2+'%';}catch(_0x18bcb3){console[_0x1700f9(0x197)]('Error\x20loading\x20player\x20stats:',_0x18bcb3),['matches',_0x1700f9(0x16d),_0x1700f9(0x182),'kd',_0x1700f9(0x181)][_0x1700f9(0x17c)](_0x242388=>{const _0xfed53b=_0x1700f9;document[_0xfed53b(0x1a7)](_0xfed53b(0x19f)+_0x242388)['textContent']='-';});}}}document['addEventListener'](a42_0x21b8fc(0x168),()=>{new ProfileManager();});