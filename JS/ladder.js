const a27_0x5d2b47=a27_0x20b0;(function(_0x572c0e,_0x109e28){const _0x1df0ac=a27_0x20b0,_0x16a5e8=_0x572c0e();while(!![]){try{const _0x458870=parseInt(_0x1df0ac(0x206))/0x1*(-parseInt(_0x1df0ac(0x20a))/0x2)+parseInt(_0x1df0ac(0x1fa))/0x3+-parseInt(_0x1df0ac(0x255))/0x4+-parseInt(_0x1df0ac(0x2af))/0x5+parseInt(_0x1df0ac(0x292))/0x6+parseInt(_0x1df0ac(0x290))/0x7+parseInt(_0x1df0ac(0x221))/0x8*(parseInt(_0x1df0ac(0x25c))/0x9);if(_0x458870===_0x109e28)break;else _0x16a5e8['push'](_0x16a5e8['shift']());}catch(_0x25ac28){_0x16a5e8['push'](_0x16a5e8['shift']());}}}(a27_0x1390,0x7154a));const a27_0x253982=(function(){let _0x200248=!![];return function(_0x270876,_0x40e973){const _0x38bac4=_0x200248?function(){const _0x12a4a4=a27_0x20b0;if(_0x40e973){const _0x5a1a26=_0x40e973[_0x12a4a4(0x1ff)](_0x270876,arguments);return _0x40e973=null,_0x5a1a26;}}:function(){};return _0x200248=![],_0x38bac4;};}()),a27_0x5708bb=a27_0x253982(this,function(){const _0x5196e3=a27_0x20b0;return a27_0x5708bb[_0x5196e3(0x222)]()[_0x5196e3(0x2a8)](_0x5196e3(0x2a7))[_0x5196e3(0x222)]()[_0x5196e3(0x23c)](a27_0x5708bb)[_0x5196e3(0x2a8)](_0x5196e3(0x2a7));});a27_0x5708bb();const a27_0x37ecdd=(function(){let _0x1cf9c3=!![];return function(_0x2be063,_0x1b24b9){const _0x39f50f=_0x1cf9c3?function(){if(_0x1b24b9){const _0x269bd8=_0x1b24b9['apply'](_0x2be063,arguments);return _0x1b24b9=null,_0x269bd8;}}:function(){};return _0x1cf9c3=![],_0x39f50f;};}()),a27_0x55e345=a27_0x37ecdd(this,function(){const _0x4ec54a=a27_0x20b0,_0x5bf97c=function(){const _0x30c6e1=a27_0x20b0;let _0x13d9bf;try{_0x13d9bf=Function(_0x30c6e1(0x1fe)+_0x30c6e1(0x211)+');')();}catch(_0x1c3e51){_0x13d9bf=window;}return _0x13d9bf;},_0x914d9e=_0x5bf97c(),_0x3dc40c=_0x914d9e[_0x4ec54a(0x204)]=_0x914d9e[_0x4ec54a(0x204)]||{},_0x554d46=[_0x4ec54a(0x1ec),'warn',_0x4ec54a(0x262),_0x4ec54a(0x29e),_0x4ec54a(0x1f5),'table','trace'];for(let _0x26fdb5=0x0;_0x26fdb5<_0x554d46[_0x4ec54a(0x269)];_0x26fdb5++){const _0x2f560f=a27_0x37ecdd['constructor']['prototype'][_0x4ec54a(0x22d)](a27_0x37ecdd),_0x1e2fcc=_0x554d46[_0x26fdb5],_0x39bc7d=_0x3dc40c[_0x1e2fcc]||_0x2f560f;_0x2f560f['__proto__']=a27_0x37ecdd[_0x4ec54a(0x22d)](a27_0x37ecdd),_0x2f560f[_0x4ec54a(0x222)]=_0x39bc7d[_0x4ec54a(0x222)][_0x4ec54a(0x22d)](_0x39bc7d),_0x3dc40c[_0x1e2fcc]=_0x2f560f;}});a27_0x55e345();import{db}from'./firebase-config.js';import{collection,getDocs,deleteDoc,doc,getDoc,query,where,updateDoc,Timestamp,onSnapshot,orderBy,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{getRankStyle}from'./ranks.js';import{displayLadderD2}from'./ladderd2.js';import{displayLadderD3}from'./ladderd3.js';import{getAuth}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';import{getLadderData,getEloHistoryBatch,setupEfficientListener}from'./services/firebaseService.js';import{displayLadderDuos}from'./ladderduos.js';const auth=getAuth();let activeListeners=[];export async function loadLadderData(_0x26fc13=0x1){const _0x46399f=a27_0x20b0;try{document[_0x46399f(0x274)](_0x46399f(0x28f))['style'][_0x46399f(0x287)]=_0x46399f(0x1eb);const _0x3093c4=await getLadderData(_0x26fc13);_0x3093c4['sort']((_0x37f1d1,_0x166a1f)=>_0x166a1f[_0x46399f(0x25d)]-_0x37f1d1[_0x46399f(0x25d)]);const _0x1ec58f=_0x3093c4[_0x46399f(0x2ab)](_0xd547cf=>_0xd547cf['id']),_0x286641=await getEloHistoryBatch(_0x1ec58f,_0x26fc13),_0x3f6865=_0x3093c4[_0x46399f(0x2ab)]((_0x336860,_0x431ead)=>{const _0x4aa8fc=_0x46399f,_0x2f1ba6=_0x286641[_0x336860['id']]||[],_0x3a4109=_0x2f1ba6[_0x4aa8fc(0x23d)]((_0x31bab9,_0xe8807e)=>new Date(_0xe8807e[_0x4aa8fc(0x241)])-new Date(_0x31bab9[_0x4aa8fc(0x241)]))['slice'](0x0,0x5);return{..._0x336860,'rank':_0x431ead+0x1,'lastMatches':_0x3a4109,'recentActivity':_0x3a4109['length']>0x0};});renderLadder(_0x3f6865),setupRealTimeUpdates(_0x26fc13);}catch(_0x5a24ba){console[_0x46399f(0x29e)](_0x46399f(0x1fd),_0x5a24ba),document[_0x46399f(0x274)](_0x46399f(0x2a1))[_0x46399f(0x24d)]='Failed\x20to\x20load\x20ladder\x20data.\x20Please\x20try\x20again.';}finally{document[_0x46399f(0x274)](_0x46399f(0x28f))[_0x46399f(0x21c)][_0x46399f(0x287)]=_0x46399f(0x1f8);}}function setupRealTimeUpdates(_0x2aea6a=0x1){const _0x55e697=a27_0x20b0;activeListeners[_0x55e697(0x212)](_0x2385bd=>_0x2385bd()),activeListeners=[];const _0x4e9d1b=_0x2aea6a===0x1?_0x55e697(0x28a):_0x55e697(0x27a)+_0x2aea6a,_0x2b4a46=_0x2aea6a===0x1?'matches':_0x55e697(0x2a4)+_0x2aea6a,_0x204b07=new Date();_0x204b07[_0x55e697(0x2a6)](_0x204b07[_0x55e697(0x26b)]()-0x1);const _0x164dff=setupEfficientListener(_0x2b4a46,[where(_0x55e697(0x241),'>=',_0x204b07[_0x55e697(0x216)]()),limit(0xa),orderBy(_0x55e697(0x241),_0x55e697(0x2b0))],async _0x2a6a4d=>{const _0x2d9ddd=_0x55e697;_0x2a6a4d[_0x2d9ddd(0x269)]>0x0&&await loadLadderData(_0x2aea6a);});activeListeners[_0x55e697(0x234)](_0x164dff);}export function cleanupListeners(){const _0x3ded6a=a27_0x20b0;activeListeners[_0x3ded6a(0x212)](_0x325935=>_0x325935()),activeListeners=[];}function renderLadder(_0x3f9ea2){const _0x382970=a27_0x20b0,_0x5b4f81=document['getElementById'](_0x382970(0x227));_0x5b4f81['innerHTML']='',_0x3f9ea2[_0x382970(0x212)](_0x4827cc=>{const _0x426a2d=_0x382970,_0x3c63d3=document[_0x426a2d(0x270)]('div');_0x3c63d3[_0x426a2d(0x277)]=_0x426a2d(0x257),_0x3c63d3[_0x426a2d(0x240)]=_0x426a2d(0x288)+_0x4827cc['rank']+'</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-name\x22>'+(_0x4827cc[_0x426a2d(0x1f7)]||_0x4827cc['id'])+_0x426a2d(0x25b)+_0x4827cc[_0x426a2d(0x25d)]+_0x426a2d(0x2ac)+(_0x4827cc[_0x426a2d(0x1ef)]?_0x426a2d(0x22c):_0x426a2d(0x276))+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4827cc[_0x426a2d(0x1ef)]?_0x426a2d(0x291):_0x426a2d(0x2a5))+_0x426a2d(0x1ed),_0x5b4f81[_0x426a2d(0x25a)](_0x3c63d3);});}const playerCache={'data':null,'timestamp':0x0},CACHE_DURATION=0x7530;async function displayLadder(_0x384402=![]){const _0x4c0508=a27_0x20b0,_0x1420c3=document[_0x4c0508(0x21a)]('#ladder\x20tbody');if(!_0x1420c3){console['error']('Ladder\x20table\x20body\x20not\x20found');return;}_0x1420c3['innerHTML']='<tr><td\x20colspan=\x228\x22\x20class=\x22loading-cell\x22>Loading\x20ladder\x20data...</td></tr>';try{const _0x30a806=Date['now']();if(!_0x384402&&playerCache[_0x4c0508(0x1ea)]&&_0x30a806-playerCache['timestamp']<CACHE_DURATION){console[_0x4c0508(0x1ec)](_0x4c0508(0x21f)),updateLadderDisplay(playerCache['data']);return;}const _0x20496b=collection(db,'players'),_0x30a580=await getDocs(_0x20496b),_0x59aa32=[];_0x30a580[_0x4c0508(0x212)](_0x15e6b3=>{const _0x3cb1c5=_0x4c0508,_0x16d8fd=_0x15e6b3[_0x3cb1c5(0x1ea)]();_0x59aa32['push']({..._0x16d8fd,'id':_0x15e6b3['id'],'elo':_0x16d8fd[_0x3cb1c5(0x226)]||0x0,'position':_0x16d8fd[_0x3cb1c5(0x229)]||Number[_0x3cb1c5(0x279)]});});const _0x41c696=collection(db,_0x4c0508(0x29d)),_0x2ae2f8=await getDocs(_0x41c696),_0xd9a73c=new Map();_0x2ae2f8[_0x4c0508(0x212)](_0x176657=>{const _0x42641a=_0x4c0508,_0x32a1fe=_0x176657['data']();_0x32a1fe[_0x42641a(0x1f7)]&&_0xd9a73c[_0x42641a(0x230)](_0x32a1fe[_0x42641a(0x1f7)][_0x42641a(0x20e)](),_0x32a1fe);}),_0x59aa32[_0x4c0508(0x212)](_0x328c3c=>{const _0x4d1310=_0x4c0508,_0xc4d3d6=_0x328c3c[_0x4d1310(0x1f7)]?.[_0x4d1310(0x20e)]();if(_0xc4d3d6&&_0xd9a73c[_0x4d1310(0x202)](_0xc4d3d6)){const _0x8db315=_0xd9a73c['get'](_0xc4d3d6);_0x8db315[_0x4d1310(0x278)]&&(_0x328c3c[_0x4d1310(0x278)]=_0x8db315['country'][_0x4d1310(0x20e)]());}});const _0x202ade=_0x59aa32[_0x4c0508(0x2ab)](_0x188815=>_0x188815['username']),_0x1eeb7a=await fetchBatchMatchStats(_0x202ade);_0x59aa32['sort']((_0x5c58e4,_0xeeff62)=>{const _0x2e5f37=_0x4c0508,_0x203cff=_0x1eeb7a[_0x2e5f37(0x210)](_0x5c58e4['username'])?.['totalMatches']||0x0,_0x5d2d15=_0x1eeb7a[_0x2e5f37(0x210)](_0xeeff62[_0x2e5f37(0x1f7)])?.['totalMatches']||0x0;if(_0x203cff===0x0!==(_0x5d2d15===0x0))return _0x203cff===0x0?0x1:-0x1;return(_0x5c58e4[_0x2e5f37(0x229)]||0x3e7)-(_0xeeff62['position']||0x3e7);}),_0x59aa32[_0x4c0508(0x212)]((_0x1fdcad,_0x1f3247)=>{_0x1fdcad['position']=_0x1f3247+0x1;}),playerCache[_0x4c0508(0x1ea)]=_0x59aa32,playerCache['timestamp']=_0x30a806,updateLadderDisplay(_0x59aa32,_0x1eeb7a);}catch(_0x544cb3){console['error'](_0x4c0508(0x26a),_0x544cb3),_0x1420c3[_0x4c0508(0x240)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x228\x22\x20style=\x22text-align:\x20center;\x20color:\x20red;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20ladder\x20data:\x20'+_0x544cb3[_0x4c0508(0x248)]+_0x4c0508(0x208);}}async function fetchBatchMatchStats(_0x54c21a){const _0xc7885c=a27_0x20b0,_0x429fe3=new Map();try{_0x54c21a['forEach'](_0x2b64c4=>{_0x429fe3['set'](_0x2b64c4,{'totalMatches':0x0,'wins':0x0,'losses':0x0,'totalKills':0x0,'totalDeaths':0x0,'kda':0x0,'winRate':0x0});});const _0x2100c3=collection(db,_0xc7885c(0x20b)),_0x2c9be7=await getDocs(_0x2100c3);_0x2c9be7[_0xc7885c(0x212)](_0x5437c1=>{const _0x45b217=_0xc7885c,_0x3b61d8=_0x5437c1[_0x45b217(0x1ea)](),_0x51bebe=_0x3b61d8[_0x45b217(0x282)],_0x5bf6b1=_0x3b61d8['loserUsername'];if(_0x54c21a['includes'](_0x51bebe)){const _0x23b670=_0x429fe3['get'](_0x51bebe);_0x23b670[_0x45b217(0x286)]++,_0x23b670[_0x45b217(0x1e8)]++,_0x23b670[_0x45b217(0x259)]+=parseInt(_0x3b61d8[_0x45b217(0x296)])||0x0,_0x23b670[_0x45b217(0x215)]+=parseInt(_0x3b61d8[_0x45b217(0x205)])||0x0;}if(_0x54c21a[_0x45b217(0x21e)](_0x5bf6b1)){const _0x3d0d45=_0x429fe3['get'](_0x5bf6b1);_0x3d0d45[_0x45b217(0x254)]++,_0x3d0d45[_0x45b217(0x1e8)]++,_0x3d0d45[_0x45b217(0x259)]+=parseInt(_0x3b61d8[_0x45b217(0x205)])||0x0,_0x3d0d45[_0x45b217(0x215)]+=parseInt(_0x3b61d8[_0x45b217(0x296)])||0x0;}}),_0x54c21a[_0xc7885c(0x212)](_0x2ea518=>{const _0xbfeed7=_0xc7885c,_0x705773=_0x429fe3[_0xbfeed7(0x210)](_0x2ea518);_0x705773['kda']=_0x705773[_0xbfeed7(0x215)]>0x0?(_0x705773[_0xbfeed7(0x259)]/_0x705773[_0xbfeed7(0x215)])[_0xbfeed7(0x281)](0x2):_0x705773[_0xbfeed7(0x259)]['toFixed'](0x2),_0x705773[_0xbfeed7(0x299)]=_0x705773['totalMatches']>0x0?(_0x705773[_0xbfeed7(0x286)]/_0x705773[_0xbfeed7(0x1e8)]*0x64)[_0xbfeed7(0x281)](0x1):0x0;});}catch(_0x278748){console[_0xc7885c(0x29e)]('Error\x20fetching\x20batch\x20match\x20stats:',_0x278748);}return _0x429fe3;}function createPlayerRow(_0x14eea8,_0x35765f){const _0x3f15e5=a27_0x20b0,_0x134835=parseFloat(_0x14eea8[_0x3f15e5(0x25d)])||0x0;let _0x786a39='gray';if(_0x134835>=0x7d0)_0x786a39='#50C878';else{if(_0x134835>=0x708)_0x786a39=_0x3f15e5(0x23f);else{if(_0x134835>=0x640)_0x786a39=_0x3f15e5(0x24f);else _0x134835>=0x578&&(_0x786a39=_0x3f15e5(0x22a));}}let _0x43830a='';return _0x14eea8[_0x3f15e5(0x278)]&&(_0x43830a='<img\x20src=\x22../images/flags/'+_0x14eea8[_0x3f15e5(0x278)][_0x3f15e5(0x20e)]()+_0x3f15e5(0x2a0)+_0x14eea8[_0x3f15e5(0x278)]+_0x3f15e5(0x265)),_0x3f15e5(0x25f)+_0x14eea8[_0x3f15e5(0x229)]+_0x3f15e5(0x23e)+encodeURIComponent(_0x14eea8['username'])+_0x3f15e5(0x243)+_0x786a39+_0x3f15e5(0x2a2)+_0x14eea8['username']+_0x3f15e5(0x233)+_0x43830a+_0x3f15e5(0x275)+_0x786a39+_0x3f15e5(0x26e)+_0x134835+_0x3f15e5(0x2b1)+_0x35765f[_0x3f15e5(0x1e8)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x35765f[_0x3f15e5(0x286)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x35765f[_0x3f15e5(0x254)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x35765f[_0x3f15e5(0x2ae)]+_0x3f15e5(0x280)+_0x35765f[_0x3f15e5(0x299)]+_0x3f15e5(0x256);}function getPlayerRankName(_0x20f28c){const _0x328450=a27_0x20b0;if(_0x20f28c>=0x7d0)return _0x328450(0x24c);if(_0x20f28c>=0x708)return _0x328450(0x27d);if(_0x20f28c>=0x640)return _0x328450(0x27b);if(_0x20f28c>=0x578)return _0x328450(0x25e);return'Unranked';}async function getPlayersLastEloChanges(_0xbfd77d){const _0xf666db=a27_0x20b0,_0x45efd6=new Map();_0xbfd77d['forEach'](_0x4afa97=>{const _0xb165fb=a27_0x20b0;_0x45efd6[_0xb165fb(0x230)](_0x4afa97,0x0);});try{const _0x371fa7=collection(db,_0xf666db(0x28a)),_0x2b7f44=await getDocs(_0x371fa7),_0x4d402c=new Map(),_0x53db5c=new Map();_0x2b7f44[_0xf666db(0x212)](_0x41ada8=>{const _0x2638d6=_0xf666db,_0x57f9fa=_0x41ada8[_0x2638d6(0x1ea)]();_0x57f9fa['username']&&(_0x4d402c[_0x2638d6(0x230)](_0x41ada8['id'],_0x57f9fa['username']),_0x53db5c[_0x2638d6(0x230)](_0x57f9fa[_0x2638d6(0x1f7)]['toLowerCase'](),_0x41ada8['id']));});const _0x28335f=collection(db,_0xf666db(0x26d)),_0x29f5f0=query(_0x28335f,orderBy('timestamp',_0xf666db(0x2b0)),limit(0x12c)),_0x179f6c=await getDocs(_0x29f5f0);if(_0x179f6c[_0xf666db(0x20d)])return console[_0xf666db(0x1ec)](_0xf666db(0x250)),_0x45efd6;if(_0x179f6c[_0xf666db(0x24e)]['length']>0x0){const _0x18fe4b=_0x179f6c[_0xf666db(0x24e)][0x0][_0xf666db(0x1ea)]();if(_0x18fe4b[_0xf666db(0x2a3)]&&_0x4d402c[_0xf666db(0x202)](_0x18fe4b[_0xf666db(0x2a3)])){}}const _0xbbe528=new Map();let _0x2f7daf=0x0;_0x179f6c['forEach'](_0x47f8e5=>{const _0x4786dd=_0xf666db,_0x27a0ce=_0x47f8e5[_0x4786dd(0x1ea)]();let _0x5437e7=null;if(_0x27a0ce[_0x4786dd(0x2a3)]&&_0x4d402c[_0x4786dd(0x202)](_0x27a0ce['player']))_0x5437e7=_0x4d402c['get'](_0x27a0ce[_0x4786dd(0x2a3)]);else{if(_0x27a0ce[_0x4786dd(0x1f7)]&&_0x53db5c[_0x4786dd(0x202)](_0x27a0ce[_0x4786dd(0x1f7)][_0x4786dd(0x20e)]()))_0x5437e7=_0x27a0ce[_0x4786dd(0x1f7)];else _0x27a0ce['playerUsername']&&_0x53db5c['has'](_0x27a0ce[_0x4786dd(0x294)][_0x4786dd(0x20e)]())&&(_0x5437e7=_0x27a0ce['playerUsername']);}_0x5437e7&&_0xbfd77d[_0x4786dd(0x21e)](_0x5437e7)&&(_0x2f7daf++,!_0xbbe528['has'](_0x5437e7)&&_0xbbe528[_0x4786dd(0x230)](_0x5437e7,[]),_0xbbe528[_0x4786dd(0x210)](_0x5437e7)[_0x4786dd(0x234)]({..._0x27a0ce,'timestamp':_0x27a0ce['timestamp']?.['seconds']||0x0}));}),_0xbbe528['forEach']((_0x173a0a,_0x3317bd)=>{const _0x3d2dc1=_0xf666db;if(_0x173a0a[_0x3d2dc1(0x269)]>0x0){_0x173a0a[_0x3d2dc1(0x23d)]((_0x34c6f5,_0x2a3bcd)=>_0x2a3bcd[_0x3d2dc1(0x1f0)]-_0x34c6f5['timestamp']);const _0x36c671=_0x173a0a[_0x3d2dc1(0x223)](_0xc89b8e=>_0xc89b8e[_0x3d2dc1(0x225)]!==undefined||_0xc89b8e[_0x3d2dc1(0x1fb)]!==undefined&&_0xc89b8e[_0x3d2dc1(0x295)]!==undefined||_0xc89b8e['newEloRating']!==undefined&&_0xc89b8e[_0x3d2dc1(0x28c)]!==undefined);if(_0x36c671){let _0x45c26c;if(_0x36c671[_0x3d2dc1(0x225)]!==undefined)_0x45c26c=parseInt(_0x36c671[_0x3d2dc1(0x225)]);else{if(_0x36c671[_0x3d2dc1(0x1fb)]!==undefined&&entry[_0x3d2dc1(0x295)]!==undefined)_0x45c26c=parseInt(_0x36c671[_0x3d2dc1(0x1fb)])-parseInt(_0x36c671[_0x3d2dc1(0x295)]);else _0x36c671[_0x3d2dc1(0x242)]!==undefined&&entry[_0x3d2dc1(0x28c)]!==undefined&&(_0x45c26c=parseInt(_0x36c671['newEloRating'])-parseInt(_0x36c671[_0x3d2dc1(0x28c)]));}!isNaN(_0x45c26c)&&_0x45c26c!==0x0&&_0x45efd6['set'](_0x3317bd,_0x45c26c);}}});}catch(_0x558c64){console[_0xf666db(0x29e)](_0xf666db(0x228),_0x558c64);}return _0x45efd6;}async function updateLadderDisplay(_0x34b7c7,_0x380509=null){const _0x31784f=a27_0x20b0,_0xd4b0e0=document[_0x31784f(0x21a)]('#ladder\x20tbody');if(!_0xd4b0e0){console[_0x31784f(0x29e)]('Ladder\x20table\x20body\x20not\x20found');return;}const _0x1d170b=document[_0x31784f(0x21a)]('#ladder\x20thead\x20tr');_0x1d170b&&(_0x1d170b[_0x31784f(0x240)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Rank</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Username</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>ELO</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Matches</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Wins</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Losses</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>K/D</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Win\x20Rate</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');const _0x278fe3=_0x34b7c7[_0x31784f(0x2ab)](_0x324315=>_0x324315[_0x31784f(0x1f7)]);!_0x380509&&(_0x380509=await fetchBatchMatchStats(_0x278fe3));const _0x2a112a=_0x34b7c7[_0x31784f(0x2ab)](_0x3524ae=>{const _0x4d27f3=_0x31784f,_0x5f4841=_0x380509[_0x4d27f3(0x210)](_0x3524ae[_0x4d27f3(0x1f7)])||{'totalMatches':0x0,'wins':0x0,'losses':0x0,'kda':0x0,'winRate':0x0,'totalKills':0x0,'totalDeaths':0x0};return createPlayerRow(_0x3524ae,_0x5f4841);})['join']('');_0xd4b0e0[_0x31784f(0x240)]=_0x2a112a,getPlayersLastEloChanges(_0x278fe3)[_0x31784f(0x289)](_0xad54b4=>{const _0x3c4a93=_0x31784f,_0x338bf7=new Map();_0xd4b0e0[_0x3c4a93(0x1f3)]('tr')['forEach']((_0x2a62a9,_0x276828)=>{const _0x13e103=_0x3c4a93;_0x276828<_0x278fe3[_0x13e103(0x269)]&&_0x338bf7['set'](_0x278fe3[_0x276828],_0x2a62a9);}),_0xad54b4['forEach']((_0x1fa92a,_0x1c306d)=>{const _0x1652f9=_0x3c4a93,_0x51b055=_0x338bf7[_0x1652f9(0x210)](_0x1c306d);if(_0x51b055&&_0x1fa92a!==0x0){const _0x74fb29=_0x51b055[_0x1652f9(0x21a)](_0x1652f9(0x20f));if(_0x74fb29){const _0x4a5835=_0x1fa92a>0x0?'+'+_0x1fa92a:''+_0x1fa92a,_0x5e3c26=_0x74fb29[_0x1652f9(0x21a)]('.trend-indicator');if(_0x5e3c26)_0x5e3c26[_0x1652f9(0x2b4)]=_0x4a5835,_0x5e3c26['style']['color']=_0x1fa92a>0x0?_0x1652f9(0x273):_0x1652f9(0x22e),_0x5e3c26[_0x1652f9(0x21c)][_0x1652f9(0x253)]=_0x1652f9(0x235),_0x5e3c26[_0x1652f9(0x21c)][_0x1652f9(0x22b)]=_0x1652f9(0x213),_0x5e3c26['style'][_0x1652f9(0x287)]=_0x1652f9(0x218),_0x5e3c26[_0x1652f9(0x21c)][_0x1652f9(0x29a)]='visible',_0x5e3c26[_0x1652f9(0x21c)][_0x1652f9(0x263)]='1';else{}}}});})[_0x31784f(0x24a)](_0x548ed8=>console['error'](_0x31784f(0x247),_0x548ed8));}function initLadderToggles(){const _0x528f52=a27_0x20b0,_0x47351e=document[_0x528f52(0x274)](_0x528f52(0x237)),_0x217d07=document[_0x528f52(0x274)]('d2-switch'),_0x16a47b=document[_0x528f52(0x274)]('d3-switch'),_0x3a3b12=document[_0x528f52(0x274)](_0x528f52(0x26f)),_0x13b24d=document[_0x528f52(0x274)](_0x528f52(0x201)),_0x4138cc=document['getElementById'](_0x528f52(0x232)),_0x5cb879=document[_0x528f52(0x274)]('d3-ladder-container'),_0x561a9a=document[_0x528f52(0x274)](_0x528f52(0x272));function _0x825dbb(){const _0x3cae4b=_0x528f52;if(_0x13b24d)_0x13b24d[_0x3cae4b(0x1f6)]['remove']('active');if(_0x4138cc)_0x4138cc[_0x3cae4b(0x1f6)][_0x3cae4b(0x2b2)](_0x3cae4b(0x22c));if(_0x5cb879)_0x5cb879[_0x3cae4b(0x1f6)][_0x3cae4b(0x2b2)](_0x3cae4b(0x22c));if(_0x561a9a)_0x561a9a['style']['display']=_0x3cae4b(0x1f8);if(_0x13b24d)_0x13b24d[_0x3cae4b(0x21c)][_0x3cae4b(0x287)]=_0x3cae4b(0x1f8);if(_0x4138cc)_0x4138cc[_0x3cae4b(0x21c)][_0x3cae4b(0x287)]='none';if(_0x5cb879)_0x5cb879['style']['display']=_0x3cae4b(0x1f8);}_0x47351e&&_0x47351e['addEventListener']('click',()=>{const _0xa914ea=_0x528f52;console['log'](_0xa914ea(0x22f)),_0x825dbb();_0x13b24d&&(_0x13b24d[_0xa914ea(0x1f6)]['add'](_0xa914ea(0x22c)),_0x13b24d[_0xa914ea(0x21c)][_0xa914ea(0x287)]=_0xa914ea(0x1eb));document[_0xa914ea(0x274)](_0xa914ea(0x284))[_0xa914ea(0x21c)][_0xa914ea(0x287)]=_0xa914ea(0x1eb),document[_0xa914ea(0x274)](_0xa914ea(0x224))[_0xa914ea(0x21c)][_0xa914ea(0x287)]=_0xa914ea(0x1f8),document[_0xa914ea(0x274)](_0xa914ea(0x1e7))['style'][_0xa914ea(0x287)]=_0xa914ea(0x1f8);if(_0x47351e)_0x47351e['classList'][_0xa914ea(0x268)](_0xa914ea(0x22c));if(_0x217d07)_0x217d07['classList']['remove']('active');if(_0x16a47b)_0x16a47b[_0xa914ea(0x1f6)]['remove'](_0xa914ea(0x22c));displayLadder(),findBestOpponent('d1');}),_0x217d07&&_0x217d07[_0x528f52(0x214)](_0x528f52(0x27e),()=>{const _0xd6b70f=_0x528f52;console[_0xd6b70f(0x1ec)](_0xd6b70f(0x203)),_0x825dbb();_0x4138cc&&(_0x4138cc['classList'][_0xd6b70f(0x268)](_0xd6b70f(0x22c)),_0x4138cc['style']['display']=_0xd6b70f(0x1eb));document[_0xd6b70f(0x274)]('elo-recommendation-text-d1')[_0xd6b70f(0x21c)][_0xd6b70f(0x287)]=_0xd6b70f(0x1f8),document[_0xd6b70f(0x274)](_0xd6b70f(0x224))[_0xd6b70f(0x21c)][_0xd6b70f(0x287)]=_0xd6b70f(0x1eb),document[_0xd6b70f(0x274)](_0xd6b70f(0x1e7))[_0xd6b70f(0x21c)]['display']=_0xd6b70f(0x1f8);if(_0x217d07)_0x217d07[_0xd6b70f(0x1f6)][_0xd6b70f(0x268)]('active');if(_0x47351e)_0x47351e[_0xd6b70f(0x1f6)][_0xd6b70f(0x2b2)](_0xd6b70f(0x22c));if(_0x16a47b)_0x16a47b[_0xd6b70f(0x1f6)][_0xd6b70f(0x2b2)](_0xd6b70f(0x22c));displayLadderD2(),findBestOpponent('d2');}),_0x16a47b&&_0x16a47b[_0x528f52(0x214)](_0x528f52(0x27e),()=>{const _0x61a72c=_0x528f52;console[_0x61a72c(0x1ec)](_0x61a72c(0x264)),_0x825dbb();_0x5cb879&&(_0x5cb879['classList']['add'](_0x61a72c(0x22c)),_0x5cb879['style'][_0x61a72c(0x287)]=_0x61a72c(0x1eb));document['getElementById'](_0x61a72c(0x284))[_0x61a72c(0x21c)][_0x61a72c(0x287)]=_0x61a72c(0x1f8),document[_0x61a72c(0x274)](_0x61a72c(0x224))['style'][_0x61a72c(0x287)]=_0x61a72c(0x1f8),document[_0x61a72c(0x274)](_0x61a72c(0x1e7))['style']['display']='block';if(_0x16a47b)_0x16a47b[_0x61a72c(0x1f6)][_0x61a72c(0x268)](_0x61a72c(0x22c));if(_0x47351e)_0x47351e['classList'][_0x61a72c(0x2b2)](_0x61a72c(0x22c));if(_0x217d07)_0x217d07[_0x61a72c(0x1f6)][_0x61a72c(0x2b2)]('active');displayLadderD3(),findBestOpponent('d3');}),_0x3a3b12&&_0x3a3b12[_0x528f52(0x214)](_0x528f52(0x27e),()=>{const _0x3d7682=_0x528f52;_0x825dbb();if(_0x561a9a)_0x561a9a[_0x3d7682(0x21c)][_0x3d7682(0x287)]=_0x3d7682(0x1eb);displayLadderDuos(),findBestOpponent(_0x3d7682(0x1f9)),document[_0x3d7682(0x274)]('elo-recommendation-text-duos')&&(document['getElementById'](_0x3d7682(0x238))[_0x3d7682(0x21c)][_0x3d7682(0x287)]=_0x3d7682(0x1eb)),document[_0x3d7682(0x274)](_0x3d7682(0x284))[_0x3d7682(0x21c)]['display']=_0x3d7682(0x1f8),document[_0x3d7682(0x274)](_0x3d7682(0x224))[_0x3d7682(0x21c)][_0x3d7682(0x287)]='none',document[_0x3d7682(0x274)]('elo-recommendation-text-d3')[_0x3d7682(0x21c)][_0x3d7682(0x287)]=_0x3d7682(0x1f8);});}document[a27_0x5d2b47(0x214)](a27_0x5d2b47(0x298),()=>{const _0x2255e1=a27_0x5d2b47;initLadderToggles(),displayLadder(),findBestOpponent('d1'),document[_0x2255e1(0x274)](_0x2255e1(0x284))['style'][_0x2255e1(0x287)]='block';});export{displayLadder};function a27_0x1390(){const _0x52b710=['Gold','click','playersD2','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','toFixed','winnerUsername','d3-ladder-container','elo-recommendation-text-d1','checked','wins','display','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22rank\x22>#','then','players','You\x27re\x20not\x20registered\x20on\x20the\x20DUOS\x20ladder','oldEloRating','max','Error\x20checking\x20admin\x20status:','loading-indicator','3923115aMQlkP','Active','2381940UymMnl','You\x27re\x20teamed\x20with\x20<span\x20class=\x22recommendation-highlight\x22>','playerUsername','previousElo','winnerScore','pow','DOMContentLoaded','winRate','visibility','Error\x20finding\x20recommended\x20opponent','onAuthStateChanged','userProfiles','error','playersD3','.png\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22','error-message',';\x20text-decoration:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','player','matchesD','Inactive','setDate','(((.+)+)+)+$','search','dispatchEvent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translate(-50%,\x20-50%);\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#2a2a2a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x202px\x20solid\x20#ff6b6b;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ff6b6b;\x0a\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.5);\x0a\x20\x20\x20\x20','map','</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-activity\x20','\x20not\x20found','kda','596870apLuFW','desc','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22trend-indicator\x22\x20style=\x22margin-left:\x205px;\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','remove','Complete\x20your\x20profile\x20to\x20see\x20recommended\x20opponents','textContent','hasTeam','elo-recommendation-text-d3','totalMatches','exists','data','block','log','\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','elo-recommendation-text-','recentActivity','timestamp','admin','not-allowed','querySelectorAll','body','exception','classList','username','none','duos','1288254kvUrLa','newElo','Looking\x20for\x20a\x20teammate?\x20Consider\x20<span\x20class=\x22recommendation-highlight\x22\x20style=\x22color:\x20','Error\x20loading\x20ladder\x20data:','return\x20(function()\x20','apply','currentUser','d1-ladder-container','has','D2\x20toggle\x20clicked','console','loserScore','1YXGLtJ','No\x20ideal\x20opponent\x20found\x20for\x20your\x20current\x20ELO\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','),\x20you\x20should\x20be\x20playing\x20<span\x20class=\x22recommendation-highlight\x22\x20style=\x22color:\x20','100952nVxWYn','approvedMatches','role','empty','toLowerCase','td:nth-child(3)','get','{}.constructor(\x22return\x20this\x22)(\x20)','forEach','0.85em','addEventListener','totalDeaths','toISOString','disabled','inline','brian2af@outlook.com','querySelector','No\x20available\x20teammates\x20found.\x20More\x20players\x20needed\x20on\x20DUOS\x20ladder!','style','Recommendation\x20element\x20for\x20','includes','Using\x20cached\x20D1\x20ladder\x20data','email','4808uWlOjM','toString','find','elo-recommendation-text-d2','change','eloRating','ladder-container','Error\x20fetching\x20ELO\x20history:','position','#CD7F32','fontSize','active','bind','#F44336','D1\x20toggle\x20clicked','set','cursor','d2-ladder-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','push','bold','toUpperCase','d1-switch','elo-recommendation-text-duos','label[for=\x22duos-switch\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<strong>ðŸ”’\x20Duos\x20Ladder\x20-\x20Admin\x20Only</strong><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20style=\x22color:\x20#ccc;\x22>Currently\x20in\x20testing\x20phase</span>\x0a\x20\x20\x20\x20','</span>.\x20Challenge\x20other\x20teams!','constructor','sort','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22profile.html?username=','#FFD700','innerHTML','date','newEloRating','&ladder=d1\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22color:\x20',';\x22>','You\x27re\x20not\x20registered\x20on\x20the\x20','admin-only-message','Error\x20updating\x20ELO\x20trend\x20indicators:','message','gray','catch','title','Emerald','innerText','docs','#b9f1fc','ELO\x20history\x20collection\x20is\x20empty','uid','playersDuos','fontWeight','losses','3071304hpbnyC','%</td>\x0a\x20\x20\x20\x20</tr>','ladder-player','#C0C0C0','totalKills','appendChild','</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-elo\x22>','225HbFNRy','elo','Bronze','\x0a\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','teammate','pointer','info','opacity','D3\x20toggle\x20clicked','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22player-flag\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22margin-left:\x205px;\x20vertical-align:\x20middle;\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>','preventDefault','council','add','length','Error\x20loading\x20ladder:','getDate','No\x20user\x20profile\x20found','eloHistory',';\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22elo-container\x22\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22elo-value\x22>','duos-switch','createElement','#50C878','duos-ladder-container','#4CAF50','getElementById','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22color:\x20','inactive','className','country','MAX_SAFE_INTEGER','playersD','Silver','admin@ladder.com'];a27_0x1390=function(){return _0x52b710;};return a27_0x1390();}async function findBestOpponent(_0x4ab6d3='d1'){const _0x666a46=a27_0x5d2b47,_0x43f9c8=_0x666a46(0x1ee)+_0x4ab6d3,_0x124a3e=document[_0x666a46(0x274)](_0x43f9c8);if(!_0x124a3e){console[_0x666a46(0x29e)](_0x666a46(0x21d)+_0x4ab6d3+_0x666a46(0x2ad));return;}const _0x1bbefc=auth[_0x666a46(0x200)];if(!_0x1bbefc){_0x124a3e['textContent']='';return;}try{const _0xeb7220=doc(db,'userProfiles',_0x1bbefc[_0x666a46(0x251)]),_0x53b508=await getDoc(_0xeb7220);if(!_0x53b508[_0x666a46(0x1e9)]()){console[_0x666a46(0x1ec)](_0x666a46(0x26c)),_0x124a3e[_0x666a46(0x2b4)]=_0x666a46(0x2b3);return;}const _0x328b15=_0x53b508[_0x666a46(0x1ea)](),_0x27b75f=_0x328b15[_0x666a46(0x1f7)];if(!_0x27b75f){_0x124a3e[_0x666a46(0x2b4)]='Set\x20your\x20username\x20to\x20see\x20recommended\x20opponents';return;}let _0x5df41e;switch(_0x4ab6d3){case'd1':_0x5df41e='players';break;case'd2':_0x5df41e=_0x666a46(0x27f);break;case'd3':_0x5df41e='playersD3';break;case _0x666a46(0x1f9):_0x5df41e=_0x666a46(0x252);break;default:_0x5df41e='players';}if(_0x4ab6d3===_0x666a46(0x1f9)){const _0x396bc9=collection(db,_0x5df41e),_0x24f535=query(_0x396bc9,where(_0x666a46(0x1f7),'==',_0x27b75f)),_0x1aebc1=await getDocs(_0x24f535);if(_0x1aebc1['empty']){_0x124a3e[_0x666a46(0x2b4)]=_0x666a46(0x28b);return;}const _0x6d3cc5=_0x1aebc1[_0x666a46(0x24e)][0x0][_0x666a46(0x1ea)](),_0x2f24e5=parseInt(_0x6d3cc5[_0x666a46(0x226)])||0x4b0;if(_0x6d3cc5[_0x666a46(0x2b5)]&&_0x6d3cc5['teammate']){_0x124a3e[_0x666a46(0x240)]=_0x666a46(0x293)+_0x6d3cc5[_0x666a46(0x260)]+_0x666a46(0x23b);return;}const _0x3794fc=await getDocs(_0x396bc9);let _0xd6d71a=null,_0x953eeb=-0x1;_0x3794fc[_0x666a46(0x212)](_0x1939b5=>{const _0x52a1bd=_0x666a46,_0x3aee66=_0x1939b5[_0x52a1bd(0x1ea)]();if(_0x3aee66[_0x52a1bd(0x1f7)]===_0x27b75f)return;if(_0x3aee66[_0x52a1bd(0x2b5)])return;const _0x37a0e1=parseInt(_0x3aee66[_0x52a1bd(0x226)])||0x4b0,_0x467642=Math['abs'](_0x37a0e1-_0x2f24e5),_0x506dee=Math['max'](0x0,0xc8-_0x467642);_0x506dee>_0x953eeb&&(_0xd6d71a=_0x3aee66,_0x953eeb=_0x506dee);});if(_0xd6d71a){const _0xbad92b=parseInt(_0xd6d71a[_0x666a46(0x226)])||0x4b0;let _0x1e7db0=_0x666a46(0x249);if(_0xbad92b>=0x7d0)_0x1e7db0=_0x666a46(0x271);else{if(_0xbad92b>=0x708)_0x1e7db0=_0x666a46(0x23f);else{if(_0xbad92b>=0x640)_0x1e7db0=_0x666a46(0x258);else _0xbad92b>=0x578&&(_0x1e7db0=_0x666a46(0x22a));}}_0x124a3e[_0x666a46(0x240)]=_0x666a46(0x1fc)+_0x1e7db0+_0x666a46(0x244)+_0xd6d71a['username']+'</span>\x20(ELO:\x20'+_0xbad92b+')';}else _0x124a3e[_0x666a46(0x2b4)]=_0x666a46(0x21b);return;}const _0x15c0de=collection(db,_0x5df41e),_0x365ada=query(_0x15c0de,where('username','==',_0x27b75f)),_0x559707=await getDocs(_0x365ada);if(_0x559707[_0x666a46(0x20d)]){_0x124a3e['textContent']=_0x666a46(0x245)+_0x4ab6d3[_0x666a46(0x236)]()+'\x20ladder';return;}const _0x556cf4=_0x559707[_0x666a46(0x24e)][0x0][_0x666a46(0x1ea)](),_0x21d143=parseInt(_0x556cf4[_0x666a46(0x226)])||0x5dc,_0x5758b5=await getDocs(_0x15c0de);let _0x11d3c4=null,_0x7ec44e=-0x1;const _0x2a087c=getPlayerRankName(_0x21d143);_0x5758b5[_0x666a46(0x212)](_0x2fc2bf=>{const _0x41dada=_0x666a46,_0x1de8f7=_0x2fc2bf[_0x41dada(0x1ea)]();if(_0x1de8f7['username']===_0x27b75f)return;const _0x407681=parseInt(_0x1de8f7[_0x41dada(0x226)])||0x5dc,_0x59c6c1=getPlayerRankName(_0x407681),_0x50b6b0=Math['abs'](_0x407681-_0x21d143),_0x2a992c=0x20,_0x7e193=0x1/(0x1+Math[_0x41dada(0x297)](0xa,(_0x407681-_0x21d143)/0x190)),_0x2586bb=Math['round'](_0x2a992c*(0x1-_0x7e193));if(_0x2586bb<=0x0)return;let _0x5c696d=0x0;const _0x4cb812=Math[_0x41dada(0x28d)](0x0,0x64-_0x50b6b0*0.5),_0x2bc348=_0x2586bb>=0x3&&_0x2586bb<=0x8?0x32:_0x2586bb>0x0&&_0x2586bb<0xf?0x1e:0xa,_0xe6b03d=_0x2a087c===_0x59c6c1?0x28:0x0;_0x5c696d=_0x4cb812+_0x2bc348+_0xe6b03d,_0x5c696d>_0x7ec44e&&(_0x11d3c4=_0x1de8f7,_0x7ec44e=_0x5c696d);});if(_0x11d3c4){const _0x8fd267=parseInt(_0x11d3c4[_0x666a46(0x226)])||0x5dc;let _0x258641=_0x666a46(0x249);if(_0x8fd267>=0x7d0)_0x258641=_0x666a46(0x271);else{if(_0x8fd267>=0x708)_0x258641=_0x666a46(0x23f);else{if(_0x8fd267>=0x640)_0x258641=_0x666a46(0x24f);else _0x8fd267>=0x578&&(_0x258641='#CD7F32');}}_0x124a3e['innerHTML']='Based\x20on\x20your\x20ELO\x20('+_0x21d143+_0x666a46(0x209)+_0x258641+';\x22>'+_0x11d3c4[_0x666a46(0x1f7)]+'</span>';}else _0x124a3e[_0x666a46(0x240)]=_0x666a46(0x207)+_0x21d143+')';}catch(_0x26fc71){console[_0x666a46(0x29e)]('Error\x20finding\x20best\x20opponent:',_0x26fc71),_0x124a3e['textContent']=_0x666a46(0x29b);}}auth[a27_0x5d2b47(0x29c)](_0x3a893a=>{const _0x39aabb=a27_0x5d2b47,_0x355057=document[_0x39aabb(0x274)](_0x39aabb(0x201))&&document[_0x39aabb(0x274)](_0x39aabb(0x201))['style'][_0x39aabb(0x287)]!==_0x39aabb(0x1f8),_0x52d16d=document[_0x39aabb(0x274)](_0x39aabb(0x232))&&document[_0x39aabb(0x274)](_0x39aabb(0x232))[_0x39aabb(0x21c)][_0x39aabb(0x287)]!==_0x39aabb(0x1f8),_0x46712f=document[_0x39aabb(0x274)](_0x39aabb(0x283))&&document[_0x39aabb(0x274)](_0x39aabb(0x283))[_0x39aabb(0x21c)][_0x39aabb(0x287)]!==_0x39aabb(0x1f8),_0x18bd22=document[_0x39aabb(0x274)]('duos-ladder-container')&&document['getElementById'](_0x39aabb(0x272))[_0x39aabb(0x21c)][_0x39aabb(0x287)]!=='none',_0x48d13f=_0x355057?'d1':_0x52d16d?'d2':_0x46712f?'d3':_0x18bd22?'duos':'d1';findBestOpponent(_0x48d13f);}),document[a27_0x5d2b47(0x214)](a27_0x5d2b47(0x298),()=>{const _0x40d26a=a27_0x5d2b47,_0x21f771=document[_0x40d26a(0x274)]('duos-switch'),_0xaa49a9=document[_0x40d26a(0x21a)](_0x40d26a(0x239));_0x21f771&&_0xaa49a9&&(_0x21f771[_0x40d26a(0x214)](_0x40d26a(0x225),async _0x5c22bb=>{const _0x173ade=_0x40d26a;if(_0x5c22bb['target'][_0x173ade(0x285)]){const _0xbac92e=auth?.[_0x173ade(0x200)],_0x2fe13a=await checkIfUserIsAdmin(_0xbac92e);if(!_0x2fe13a){_0x5c22bb[_0x173ade(0x266)]();const _0xbef6a2=document['getElementById'](_0x173ade(0x237));return _0xbef6a2&&(_0xbef6a2[_0x173ade(0x285)]=!![],_0xbef6a2[_0x173ade(0x2a9)](new Event(_0x173ade(0x225)))),showAdminOnlyMessage(),![];}}}),auth['onAuthStateChanged'](async _0x25f7ab=>{const _0x5ba36f=_0x40d26a,_0x4a4311=await checkIfUserIsAdmin(_0x25f7ab);!_0x4a4311?(_0x21f771[_0x5ba36f(0x217)]=!![],_0xaa49a9['style'][_0x5ba36f(0x263)]='0.5',_0xaa49a9[_0x5ba36f(0x21c)][_0x5ba36f(0x231)]=_0x5ba36f(0x1f2),_0xaa49a9['title']='Duos\x20ladder\x20is\x20currently\x20admin-only'):(_0x21f771[_0x5ba36f(0x217)]=![],_0xaa49a9[_0x5ba36f(0x21c)][_0x5ba36f(0x263)]='1',_0xaa49a9[_0x5ba36f(0x21c)][_0x5ba36f(0x231)]=_0x5ba36f(0x261),_0xaa49a9[_0x5ba36f(0x24b)]='');}));});function a27_0x20b0(_0x282b44,_0x1c5e76){const _0x579e62=a27_0x1390();return a27_0x20b0=function(_0x55e345,_0x37ecdd){_0x55e345=_0x55e345-0x1e7;let _0x44e40f=_0x579e62[_0x55e345];return _0x44e40f;},a27_0x20b0(_0x282b44,_0x1c5e76);}async function checkIfUserIsAdmin(_0x3dfa20){const _0x51567a=a27_0x5d2b47;if(!_0x3dfa20)return![];try{const _0x15025d=[_0x51567a(0x27c),_0x51567a(0x219)];if(_0x3dfa20[_0x51567a(0x220)]&&_0x15025d['includes'](_0x3dfa20[_0x51567a(0x220)][_0x51567a(0x20e)]()))return!![];const _0x179ab8=['userProfiles',_0x51567a(0x28a),_0x51567a(0x27f),_0x51567a(0x29f)],_0x2e0113=[_0x51567a(0x1f1),'owner',_0x51567a(0x267),'creative\x20lead'];for(const _0x198025 of _0x179ab8){try{const _0x115138=doc(db,_0x198025,_0x3dfa20['uid']),_0xcdcf11=await getDoc(_0x115138);if(_0xcdcf11['exists']()){const _0xc3a823=_0xcdcf11[_0x51567a(0x1ea)](),_0x2ee30c=(_0xc3a823['roleName']||_0xc3a823[_0x51567a(0x20c)]||'')[_0x51567a(0x20e)]();if(_0x2ee30c&&_0x2e0113['includes'](_0x2ee30c))return!![];}}catch(_0x5818b1){console['warn']('Error\x20checking\x20'+_0x198025+':',_0x5818b1);}}return![];}catch(_0x278162){return console['error'](_0x51567a(0x28e),_0x278162),![];}}function showAdminOnlyMessage(){const _0x3edb68=a27_0x5d2b47,_0x3953ae=document[_0x3edb68(0x274)](_0x3edb68(0x246));_0x3953ae&&_0x3953ae[_0x3edb68(0x2b2)]();const _0x1654df=document[_0x3edb68(0x270)]('div');_0x1654df['id']=_0x3edb68(0x246),_0x1654df[_0x3edb68(0x21c)]['cssText']=_0x3edb68(0x2aa),_0x1654df['innerHTML']=_0x3edb68(0x23a),document[_0x3edb68(0x1f4)][_0x3edb68(0x25a)](_0x1654df),setTimeout(()=>{const _0x3ed0f5=_0x3edb68;_0x1654df['parentNode']&&_0x1654df[_0x3ed0f5(0x2b2)]();},0xbb8);}