const a27_0x4c4348=a27_0x21c0;(function(_0x56cb37,_0x558e7c){const _0x5af360=a27_0x21c0,_0x199087=_0x56cb37();while(!![]){try{const _0x10c935=-parseInt(_0x5af360(0xd1))/0x1+parseInt(_0x5af360(0xc2))/0x2+parseInt(_0x5af360(0xb9))/0x3+-parseInt(_0x5af360(0x14e))/0x4+-parseInt(_0x5af360(0xb1))/0x5+parseInt(_0x5af360(0x10e))/0x6*(parseInt(_0x5af360(0x112))/0x7)+-parseInt(_0x5af360(0xdc))/0x8*(-parseInt(_0x5af360(0xc4))/0x9);if(_0x10c935===_0x558e7c)break;else _0x199087['push'](_0x199087['shift']());}catch(_0x5ccea8){_0x199087['push'](_0x199087['shift']());}}}(a27_0x5ddb,0x287e6));const a27_0x2c5e51=(function(){let _0x13d8e4=!![];return function(_0x25062f,_0x621c1f){const _0x2b0141=_0x13d8e4?function(){if(_0x621c1f){const _0x56663f=_0x621c1f['apply'](_0x25062f,arguments);return _0x621c1f=null,_0x56663f;}}:function(){};return _0x13d8e4=![],_0x2b0141;};}()),a27_0xdc2e6c=a27_0x2c5e51(this,function(){const _0x415fee=a27_0x21c0;return a27_0xdc2e6c['toString']()[_0x415fee(0xcf)]('(((.+)+)+)+$')[_0x415fee(0x11d)]()[_0x415fee(0x92)](a27_0xdc2e6c)[_0x415fee(0xcf)](_0x415fee(0x124));});a27_0xdc2e6c();const a27_0x2aac77=(function(){let _0x3ec59d=!![];return function(_0x4a1aa6,_0x2ecf28){const _0x58f903=_0x3ec59d?function(){const _0x546185=a27_0x21c0;if(_0x2ecf28){const _0x43a753=_0x2ecf28[_0x546185(0x108)](_0x4a1aa6,arguments);return _0x2ecf28=null,_0x43a753;}}:function(){};return _0x3ec59d=![],_0x58f903;};}()),a27_0x4da4a6=a27_0x2aac77(this,function(){const _0x5023af=a27_0x21c0,_0x43fa95=function(){const _0x3f54c5=a27_0x21c0;let _0x57b3d7;try{_0x57b3d7=Function(_0x3f54c5(0x118)+_0x3f54c5(0x114)+');')();}catch(_0x3cb8b2){_0x57b3d7=window;}return _0x57b3d7;},_0x2b7b0c=_0x43fa95(),_0x2930a5=_0x2b7b0c[_0x5023af(0x87)]=_0x2b7b0c[_0x5023af(0x87)]||{},_0x38db80=[_0x5023af(0xde),_0x5023af(0xdf),'info',_0x5023af(0x134),_0x5023af(0xe4),_0x5023af(0x136),_0x5023af(0xc5)];for(let _0x443409=0x0;_0x443409<_0x38db80[_0x5023af(0xe3)];_0x443409++){const _0x5ca66a=a27_0x2aac77[_0x5023af(0x92)][_0x5023af(0x119)][_0x5023af(0x83)](a27_0x2aac77),_0x26ff0c=_0x38db80[_0x443409],_0x12b66e=_0x2930a5[_0x26ff0c]||_0x5ca66a;_0x5ca66a[_0x5023af(0x12f)]=a27_0x2aac77[_0x5023af(0x83)](a27_0x2aac77),_0x5ca66a[_0x5023af(0x11d)]=_0x12b66e[_0x5023af(0x11d)][_0x5023af(0x83)](_0x12b66e),_0x2930a5[_0x26ff0c]=_0x5ca66a;}});a27_0x4da4a6();import{db}from'./firebase-config.js';import{collection,getDocs,deleteDoc,doc,getDoc,query,where,updateDoc,Timestamp,onSnapshot,orderBy,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{getRankStyle}from'./ranks.js';import{displayLadderD2}from'./ladderd2.js';import{displayLadderD3}from'./ladderd3.js';import{getAuth}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';import{getLadderData,getEloHistoryBatch,setupEfficientListener}from'./services/firebaseService.js';import{displayLadderDuos}from'./ladderduos.js';const auth=getAuth();let activeListeners=[];export async function loadLadderData(_0x3421d4=0x1){const _0x44dce5=a27_0x21c0;try{document[_0x44dce5(0xa5)](_0x44dce5(0xf0))[_0x44dce5(0xcd)][_0x44dce5(0xec)]='block';const _0xc363be=await getLadderData(_0x3421d4);_0xc363be[_0x44dce5(0xa3)]((_0x13fdb8,_0x5a0868)=>_0x5a0868[_0x44dce5(0xef)]-_0x13fdb8['elo']);const _0x510cbd=_0xc363be[_0x44dce5(0xe5)](_0xc10e29=>_0xc10e29['id']),_0x56f8a1=await getEloHistoryBatch(_0x510cbd,_0x3421d4),_0x20bcdb=_0xc363be[_0x44dce5(0xe5)]((_0x4f9a51,_0x1b5b7a)=>{const _0x1986e7=_0x44dce5,_0x57ee19=_0x56f8a1[_0x4f9a51['id']]||[],_0x3549ca=_0x57ee19[_0x1986e7(0xa3)]((_0x14d076,_0x53cf6b)=>new Date(_0x53cf6b['date'])-new Date(_0x14d076['date']))[_0x1986e7(0x111)](0x0,0x5);return{..._0x4f9a51,'rank':_0x1b5b7a+0x1,'lastMatches':_0x3549ca,'recentActivity':_0x3549ca[_0x1986e7(0xe3)]>0x0};});renderLadder(_0x20bcdb),setupRealTimeUpdates(_0x3421d4);}catch(_0x32759f){console[_0x44dce5(0x134)]('Error\x20loading\x20ladder\x20data:',_0x32759f),document[_0x44dce5(0xa5)](_0x44dce5(0x106))[_0x44dce5(0x14f)]=_0x44dce5(0x80);}finally{document['getElementById'](_0x44dce5(0xf0))[_0x44dce5(0xcd)][_0x44dce5(0xec)]=_0x44dce5(0x129);}}function setupRealTimeUpdates(_0xe3ace9=0x1){const _0x2f5831=a27_0x21c0;activeListeners[_0x2f5831(0x147)](_0x496fe6=>_0x496fe6()),activeListeners=[];const _0x588333=_0xe3ace9===0x1?_0x2f5831(0xc3):_0x2f5831(0x82)+_0xe3ace9,_0x3cc21f=_0xe3ace9===0x1?'matches':_0x2f5831(0x140)+_0xe3ace9,_0x491b47=new Date();_0x491b47[_0x2f5831(0x79)](_0x491b47[_0x2f5831(0x126)]()-0x1);const _0x3e8247=setupEfficientListener(_0x3cc21f,[where(_0x2f5831(0x12a),'>=',_0x491b47[_0x2f5831(0xb2)]()),limit(0xa),orderBy('date',_0x2f5831(0xf9))],async _0x4fe9ce=>{const _0x496510=_0x2f5831;_0x4fe9ce[_0x496510(0xe3)]>0x0&&await loadLadderData(_0xe3ace9);});activeListeners[_0x2f5831(0x75)](_0x3e8247);}export function cleanupListeners(){const _0x221560=a27_0x21c0;activeListeners[_0x221560(0x147)](_0xabbab5=>_0xabbab5()),activeListeners=[];}function renderLadder(_0x59d195){const _0x3b1fbd=a27_0x21c0,_0x50872a=document[_0x3b1fbd(0xa5)](_0x3b1fbd(0xfd));_0x50872a['innerHTML']='',_0x59d195['forEach'](_0x2956e8=>{const _0x2311b8=_0x3b1fbd,_0x1ebd14=document[_0x2311b8(0x149)](_0x2311b8(0xfe));_0x1ebd14[_0x2311b8(0xfb)]='ladder-player',_0x1ebd14[_0x2311b8(0x13f)]=_0x2311b8(0xbf)+_0x2956e8[_0x2311b8(0x11b)]+_0x2311b8(0x138)+(_0x2956e8[_0x2311b8(0xe8)]||_0x2956e8['id'])+_0x2311b8(0x130)+_0x2956e8[_0x2311b8(0xef)]+_0x2311b8(0xa9)+(_0x2956e8[_0x2311b8(0xcc)]?'active':'inactive')+_0x2311b8(0xc6)+(_0x2956e8[_0x2311b8(0xcc)]?_0x2311b8(0x142):_0x2311b8(0x98))+_0x2311b8(0xc0),_0x50872a[_0x2311b8(0x94)](_0x1ebd14);});}const playerCache={'data':null,'timestamp':0x0},CACHE_DURATION=0x7530;async function displayLadder(_0x1e962b=![]){const _0x43b8fa=a27_0x21c0,_0x4d9816=document['querySelector'](_0x43b8fa(0x11e));if(!_0x4d9816){console[_0x43b8fa(0x134)](_0x43b8fa(0x9e));return;}_0x4d9816['innerHTML']='<tr><td\x20colspan=\x228\x22\x20class=\x22loading-cell\x22>Loading\x20ladder\x20data...</td></tr>';try{const _0xbf88d5=Date[_0x43b8fa(0x10f)]();if(!_0x1e962b&&playerCache['data']&&_0xbf88d5-playerCache[_0x43b8fa(0x12e)]<CACHE_DURATION){console['log'](_0x43b8fa(0xad)),updateLadderDisplay(playerCache[_0x43b8fa(0x117)]);return;}const _0x3b5fd5=collection(db,_0x43b8fa(0xc3)),_0x1bebcc=await getDocs(_0x3b5fd5),_0x13a59f=[];_0x1bebcc[_0x43b8fa(0x147)](_0x522870=>{const _0x2f30c8=_0x43b8fa,_0x3fe72a=_0x522870[_0x2f30c8(0x117)]();_0x13a59f['push']({..._0x3fe72a,'id':_0x522870['id'],'elo':_0x3fe72a[_0x2f30c8(0x90)]||0x0,'position':_0x3fe72a[_0x2f30c8(0xff)]||Number[_0x2f30c8(0xc7)]});});const _0x5e4ccc=collection(db,_0x43b8fa(0x77)),_0xde5844=await getDocs(_0x5e4ccc),_0x5ea177=new Map();_0xde5844['forEach'](_0x279891=>{const _0x105a8f=_0x43b8fa,_0x361bfc=_0x279891[_0x105a8f(0x117)]();_0x361bfc['username']&&_0x5ea177[_0x105a8f(0xdd)](_0x361bfc[_0x105a8f(0xe8)][_0x105a8f(0x93)](),_0x361bfc);}),_0x13a59f[_0x43b8fa(0x147)](_0x54ea19=>{const _0x547a3f=_0x43b8fa,_0x56a43a=_0x54ea19['username']?.[_0x547a3f(0x93)]();if(_0x56a43a&&_0x5ea177[_0x547a3f(0x143)](_0x56a43a)){const _0x13b379=_0x5ea177['get'](_0x56a43a);_0x13b379[_0x547a3f(0xa0)]&&(_0x54ea19[_0x547a3f(0xa0)]=_0x13b379[_0x547a3f(0xa0)][_0x547a3f(0x93)]());}});const _0x12a991=_0x13a59f[_0x43b8fa(0xe5)](_0x573fbd=>_0x573fbd[_0x43b8fa(0xe8)]),_0x2dd269=await fetchBatchMatchStats(_0x12a991);_0x13a59f[_0x43b8fa(0xa3)]((_0x1cc056,_0x4e57a1)=>{const _0x546c42=_0x43b8fa,_0x337e59=_0x2dd269['get'](_0x1cc056[_0x546c42(0xe8)])?.[_0x546c42(0x139)]||0x0,_0xa9bc95=_0x2dd269[_0x546c42(0x9b)](_0x4e57a1[_0x546c42(0xe8)])?.['totalMatches']||0x0;if(_0x337e59===0x0!==(_0xa9bc95===0x0))return _0x337e59===0x0?0x1:-0x1;return(_0x1cc056[_0x546c42(0xff)]||0x3e7)-(_0x4e57a1['position']||0x3e7);}),_0x13a59f[_0x43b8fa(0x147)]((_0x29c466,_0x380a85)=>{const _0x46dbb2=_0x43b8fa;_0x29c466[_0x46dbb2(0xff)]=_0x380a85+0x1;}),playerCache[_0x43b8fa(0x117)]=_0x13a59f,playerCache['timestamp']=_0xbf88d5,updateLadderDisplay(_0x13a59f,_0x2dd269);}catch(_0x3b3c3d){console[_0x43b8fa(0x134)](_0x43b8fa(0xd6),_0x3b3c3d),_0x4d9816[_0x43b8fa(0x13f)]=_0x43b8fa(0x122)+_0x3b3c3d['message']+_0x43b8fa(0x101);}}async function fetchBatchMatchStats(_0x49f5cc){const _0x3c1777=a27_0x21c0,_0x516c2b=new Map();try{_0x49f5cc['forEach'](_0x5debfa=>{const _0x248d6e=a27_0x21c0;_0x516c2b[_0x248d6e(0xdd)](_0x5debfa,{'totalMatches':0x0,'wins':0x0,'losses':0x0,'totalKills':0x0,'totalDeaths':0x0,'kda':0x0,'winRate':0x0});});const _0x5863e0=collection(db,_0x3c1777(0xca)),_0xfb02cf=await getDocs(_0x5863e0);_0xfb02cf[_0x3c1777(0x147)](_0x2d10f0=>{const _0x40cdf0=_0x3c1777,_0x272fe3=_0x2d10f0[_0x40cdf0(0x117)](),_0x51119b=_0x272fe3[_0x40cdf0(0x81)],_0x50efb7=_0x272fe3[_0x40cdf0(0x127)];if(_0x49f5cc[_0x40cdf0(0x8b)](_0x51119b)){const _0x3dfc38=_0x516c2b['get'](_0x51119b);_0x3dfc38[_0x40cdf0(0x89)]++,_0x3dfc38['totalMatches']++,_0x3dfc38[_0x40cdf0(0x11a)]+=parseInt(_0x272fe3[_0x40cdf0(0xcb)])||0x0,_0x3dfc38[_0x40cdf0(0x100)]+=parseInt(_0x272fe3['loserScore'])||0x0;}if(_0x49f5cc[_0x40cdf0(0x8b)](_0x50efb7)){const _0xd93c70=_0x516c2b[_0x40cdf0(0x9b)](_0x50efb7);_0xd93c70[_0x40cdf0(0x150)]++,_0xd93c70[_0x40cdf0(0x139)]++,_0xd93c70['totalKills']+=parseInt(_0x272fe3['loserScore'])||0x0,_0xd93c70[_0x40cdf0(0x100)]+=parseInt(_0x272fe3[_0x40cdf0(0xcb)])||0x0;}}),_0x49f5cc[_0x3c1777(0x147)](_0x19b598=>{const _0x94dcdb=_0x3c1777,_0x2450ba=_0x516c2b[_0x94dcdb(0x9b)](_0x19b598);_0x2450ba[_0x94dcdb(0xf1)]=_0x2450ba[_0x94dcdb(0x100)]>0x0?(_0x2450ba[_0x94dcdb(0x11a)]/_0x2450ba[_0x94dcdb(0x100)])[_0x94dcdb(0xd3)](0x2):_0x2450ba[_0x94dcdb(0x11a)][_0x94dcdb(0xd3)](0x2),_0x2450ba[_0x94dcdb(0x84)]=_0x2450ba[_0x94dcdb(0x139)]>0x0?(_0x2450ba[_0x94dcdb(0x89)]/_0x2450ba[_0x94dcdb(0x139)]*0x64)[_0x94dcdb(0xd3)](0x1):0x0;});}catch(_0x46d634){console[_0x3c1777(0x134)](_0x3c1777(0x11f),_0x46d634);}return _0x516c2b;}function createPlayerRow(_0x316c40,_0x5c58b1){const _0x57418c=a27_0x21c0,_0x393bf3=parseFloat(_0x316c40[_0x57418c(0xef)])||0x0;let _0x2fdac8=_0x57418c(0xe9);if(_0x393bf3>=0x7d0)_0x2fdac8=_0x57418c(0xa4);else{if(_0x393bf3>=0x708)_0x2fdac8=_0x57418c(0x12c);else{if(_0x393bf3>=0x640)_0x2fdac8='#b9f1fc';else _0x393bf3>=0x578&&(_0x2fdac8=_0x57418c(0xd7));}}let _0x41c4eb='';return _0x316c40[_0x57418c(0xa0)]&&(_0x41c4eb=_0x57418c(0xa1)+_0x316c40[_0x57418c(0xa0)]['toLowerCase']()+_0x57418c(0xac)+_0x316c40['country']+_0x57418c(0xfa)),'\x0a\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x316c40['position']+_0x57418c(0x88)+encodeURIComponent(_0x316c40['username'])+_0x57418c(0x107)+_0x2fdac8+_0x57418c(0xd9)+_0x316c40[_0x57418c(0xe8)]+_0x57418c(0x145)+_0x41c4eb+_0x57418c(0x11c)+_0x2fdac8+_0x57418c(0xd8)+_0x393bf3+_0x57418c(0x125)+_0x5c58b1['totalMatches']+_0x57418c(0x13a)+_0x5c58b1[_0x57418c(0x89)]+_0x57418c(0x13a)+_0x5c58b1[_0x57418c(0x150)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x5c58b1[_0x57418c(0xf1)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x5c58b1[_0x57418c(0x84)]+'%</td>\x0a\x20\x20\x20\x20</tr>';}function getPlayerRankName(_0x37b91d){const _0x93f2e0=a27_0x21c0;if(_0x37b91d>=0x7d0)return _0x93f2e0(0xa7);if(_0x37b91d>=0x708)return _0x93f2e0(0x91);if(_0x37b91d>=0x640)return'Silver';if(_0x37b91d>=0x578)return'Bronze';return _0x93f2e0(0x13e);}function a27_0x5ddb(){const _0x5a24a0=['elo-recommendation-text-d1','Error\x20updating\x20ELO\x20trend\x20indicators:','push','duos','userProfiles','cssText','setDate','seconds','elo-recommendation-text-','querySelector','target','Error\x20fetching\x20ELO\x20history:','0.85em','Failed\x20to\x20load\x20ladder\x20data.\x20Please\x20try\x20again.','winnerUsername','playersD','bind','winRate','join','roleName','console','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22profile.html?username=','wins','fontWeight','includes','D1\x20toggle\x20clicked','admin-only-message','Based\x20on\x20your\x20ELO\x20(','opacity','eloRating','Gold','constructor','toLowerCase','appendChild','remove','Set\x20your\x20username\x20to\x20see\x20recommended\x20opponents','uid','Inactive','find','parentNode','get','color','playerUsername','Ladder\x20table\x20body\x20not\x20found','player','country','<img\x20src=\x22../images/flags/','exists','sort','#50C878','getElementById','teammate','Emerald','max','</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-activity\x20','fontSize','active','.png\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22','Using\x20cached\x20D1\x20ladder\x20data','You\x27re\x20teamed\x20with\x20<span\x20class=\x22recommendation-highlight\x22>','currentUser','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<strong>ðŸ”’\x20Duos\x20Ladder\x20-\x20Admin\x20Only</strong><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20style=\x22color:\x20#ccc;\x22>Currently\x20in\x20testing\x20phase</span>\x0a\x20\x20\x20\x20','1301110eyFMqD','toISOString','No\x20ideal\x20opponent\x20found\x20for\x20your\x20current\x20ELO\x20(','addEventListener','D3\x20toggle\x20clicked','abs','duos-switch','d2-switch','898053lIcsIk','then','Error\x20finding\x20best\x20opponent:','Recommendation\x20element\x20for\x20','pow','),\x20you\x20should\x20be\x20playing\x20<span\x20class=\x22recommendation-highlight\x22\x20style=\x22color:\x20','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22rank\x22>#','\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','newEloRating','419390lKwwHK','players','82071sTZRTE','trace','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','MAX_SAFE_INTEGER','classList','#4CAF50','approvedMatches','winnerScore','recentActivity','style','playersDuos','search','DOMContentLoaded','261743UqQkeh','d2-ladder-container','toFixed','checked','#F44336','Error\x20loading\x20ladder:','#CD7F32',';\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22elo-container\x22\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22elo-value\x22>',';\x20text-decoration:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ELO\x20history\x20collection\x20is\x20empty','elo-recommendation-text-d2','280MnaFnA','set','log','warn','not-allowed','Error\x20checking\x20admin\x20status:','\x20ladder','length','exception','map','d1-switch','admin','username','gray','textContent','catch','display','bold','</span>.\x20Challenge\x20other\x20teams!','elo','loading-indicator','kda','brian2af@outlook.com','Error\x20finding\x20recommended\x20opponent','click','change','Duos\x20ladder\x20is\x20currently\x20admin-only','visible','docs','desc','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22player-flag\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22margin-left:\x205px;\x20vertical-align:\x20middle;\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>','className','duos-ladder-container','ladder-container','div','position','totalDeaths','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','#ladder\x20thead\x20tr','admin@ladder.com',';\x22>','Complete\x20your\x20profile\x20to\x20see\x20recommended\x20opponents','error-message','&ladder=d1\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22color:\x20','apply','onAuthStateChanged','You\x27re\x20not\x20registered\x20on\x20the\x20','querySelectorAll','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Rank</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Username</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>ELO</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Matches</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Wins</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Losses</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>K/D</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Win\x20Rate</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','email','271056vXQkQi','now','playersD2','slice','14qpPYnT','elo-recommendation-text-duos','{}.constructor(\x22return\x20this\x22)(\x20)','oldEloRating','council','data','return\x20(function()\x20','prototype','totalKills','rank','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22color:\x20','toString','#ladder\x20tbody','Error\x20fetching\x20batch\x20match\x20stats:','empty','add','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x228\x22\x20style=\x22text-align:\x20center;\x20color:\x20red;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20ladder\x20data:\x20','playersD3','(((.+)+)+)+$','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22trend-indicator\x22\x20style=\x22margin-left:\x205px;\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','getDate','loserUsername','elo-recommendation-text-d3','none','date','D2\x20toggle\x20clicked','#FFD700','d3-switch','timestamp','__proto__','</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-elo\x22>','block','\x20not\x20found','previousElo','error','newElo','table','\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translate(-50%,\x20-50%);\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#2a2a2a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x202px\x20solid\x20#ff6b6b;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ff6b6b;\x0a\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.5);\x0a\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-name\x22>','totalMatches','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','.trend-indicator','Error\x20checking\x20','d1-ladder-container','Unranked','innerHTML','matchesD','eloHistory','Active','has','disabled','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dispatchEvent','forEach','</span>\x20(ELO:\x20','createElement','0.5','d3-ladder-container','hasTeam','cursor','922944LEGRjo','innerText','losses','td:nth-child(3)'];a27_0x5ddb=function(){return _0x5a24a0;};return a27_0x5ddb();}function a27_0x21c0(_0x4643cd,_0x5dfa78){const _0x274a16=a27_0x5ddb();return a27_0x21c0=function(_0x4da4a6,_0x2aac77){_0x4da4a6=_0x4da4a6-0x73;let _0x4812f4=_0x274a16[_0x4da4a6];return _0x4812f4;},a27_0x21c0(_0x4643cd,_0x5dfa78);}async function getPlayersLastEloChanges(_0xa63ab1){const _0x5018f3=a27_0x21c0,_0x106307=new Map();_0xa63ab1['forEach'](_0x457bc4=>{const _0x1cde33=a27_0x21c0;_0x106307[_0x1cde33(0xdd)](_0x457bc4,0x0);});try{const _0x5e5e10=collection(db,_0x5018f3(0xc3)),_0x1fea99=await getDocs(_0x5e5e10),_0xbd4e6a=new Map(),_0xb4e412=new Map();_0x1fea99[_0x5018f3(0x147)](_0x52bf48=>{const _0x305152=_0x5018f3,_0x43d755=_0x52bf48[_0x305152(0x117)]();_0x43d755[_0x305152(0xe8)]&&(_0xbd4e6a[_0x305152(0xdd)](_0x52bf48['id'],_0x43d755[_0x305152(0xe8)]),_0xb4e412[_0x305152(0xdd)](_0x43d755[_0x305152(0xe8)][_0x305152(0x93)](),_0x52bf48['id']));});const _0x229409=collection(db,_0x5018f3(0x141)),_0x484f0d=query(_0x229409,orderBy(_0x5018f3(0x12e),_0x5018f3(0xf9)),limit(0x12c)),_0x5b18fb=await getDocs(_0x484f0d);if(_0x5b18fb['empty'])return console[_0x5018f3(0xde)](_0x5018f3(0xda)),_0x106307;if(_0x5b18fb[_0x5018f3(0xf8)][_0x5018f3(0xe3)]>0x0){const _0x21594e=_0x5b18fb[_0x5018f3(0xf8)][0x0]['data']();if(_0x21594e['player']&&_0xbd4e6a[_0x5018f3(0x143)](_0x21594e['player'])){}}const _0x16e709=new Map();let _0x458187=0x0;_0x5b18fb[_0x5018f3(0x147)](_0x127253=>{const _0x55256b=_0x5018f3,_0xa204bb=_0x127253['data']();let _0x2a24dc=null;if(_0xa204bb['player']&&_0xbd4e6a[_0x55256b(0x143)](_0xa204bb[_0x55256b(0x9f)]))_0x2a24dc=_0xbd4e6a[_0x55256b(0x9b)](_0xa204bb[_0x55256b(0x9f)]);else{if(_0xa204bb[_0x55256b(0xe8)]&&_0xb4e412[_0x55256b(0x143)](_0xa204bb[_0x55256b(0xe8)][_0x55256b(0x93)]()))_0x2a24dc=_0xa204bb[_0x55256b(0xe8)];else _0xa204bb[_0x55256b(0x9d)]&&_0xb4e412['has'](_0xa204bb['playerUsername'][_0x55256b(0x93)]())&&(_0x2a24dc=_0xa204bb[_0x55256b(0x9d)]);}_0x2a24dc&&_0xa63ab1[_0x55256b(0x8b)](_0x2a24dc)&&(_0x458187++,!_0x16e709['has'](_0x2a24dc)&&_0x16e709[_0x55256b(0xdd)](_0x2a24dc,[]),_0x16e709[_0x55256b(0x9b)](_0x2a24dc)[_0x55256b(0x75)]({..._0xa204bb,'timestamp':_0xa204bb[_0x55256b(0x12e)]?.[_0x55256b(0x7a)]||0x0}));}),_0x16e709['forEach']((_0x299fd4,_0x296bc6)=>{const _0x8ff4f1=_0x5018f3;if(_0x299fd4[_0x8ff4f1(0xe3)]>0x0){_0x299fd4[_0x8ff4f1(0xa3)]((_0x27175d,_0x2d22f6)=>_0x2d22f6['timestamp']-_0x27175d[_0x8ff4f1(0x12e)]);const _0x354377=_0x299fd4[_0x8ff4f1(0x99)](_0x46fbac=>_0x46fbac[_0x8ff4f1(0xf5)]!==undefined||_0x46fbac[_0x8ff4f1(0x135)]!==undefined&&_0x46fbac[_0x8ff4f1(0x133)]!==undefined||_0x46fbac['newEloRating']!==undefined&&_0x46fbac[_0x8ff4f1(0x115)]!==undefined);if(_0x354377){let _0x24a1b1;if(_0x354377[_0x8ff4f1(0xf5)]!==undefined)_0x24a1b1=parseInt(_0x354377[_0x8ff4f1(0xf5)]);else{if(_0x354377[_0x8ff4f1(0x135)]!==undefined&&entry['previousElo']!==undefined)_0x24a1b1=parseInt(_0x354377[_0x8ff4f1(0x135)])-parseInt(_0x354377[_0x8ff4f1(0x133)]);else _0x354377['newEloRating']!==undefined&&entry[_0x8ff4f1(0x115)]!==undefined&&(_0x24a1b1=parseInt(_0x354377[_0x8ff4f1(0xc1)])-parseInt(_0x354377[_0x8ff4f1(0x115)]));}!isNaN(_0x24a1b1)&&_0x24a1b1!==0x0&&_0x106307[_0x8ff4f1(0xdd)](_0x296bc6,_0x24a1b1);}}});}catch(_0x174196){console['error'](_0x5018f3(0x7e),_0x174196);}return _0x106307;}async function updateLadderDisplay(_0x444ec8,_0x263775=null){const _0x5ed563=a27_0x21c0,_0x16205c=document['querySelector']('#ladder\x20tbody');if(!_0x16205c){console['error'](_0x5ed563(0x9e));return;}const _0x49625b=document[_0x5ed563(0x7c)](_0x5ed563(0x102));_0x49625b&&(_0x49625b[_0x5ed563(0x13f)]=_0x5ed563(0x10c));const _0x43c739=_0x444ec8[_0x5ed563(0xe5)](_0x391b9d=>_0x391b9d['username']);!_0x263775&&(_0x263775=await fetchBatchMatchStats(_0x43c739));const _0x1e3f4a=_0x444ec8['map'](_0x4904a3=>{const _0x4f3b45=_0x5ed563,_0x3ad24f=_0x263775[_0x4f3b45(0x9b)](_0x4904a3[_0x4f3b45(0xe8)])||{'totalMatches':0x0,'wins':0x0,'losses':0x0,'kda':0x0,'winRate':0x0,'totalKills':0x0,'totalDeaths':0x0};return createPlayerRow(_0x4904a3,_0x3ad24f);})[_0x5ed563(0x85)]('');_0x16205c['innerHTML']=_0x1e3f4a,getPlayersLastEloChanges(_0x43c739)[_0x5ed563(0xba)](_0x36e890=>{const _0xe7e021=_0x5ed563,_0x3a363f=new Map();_0x16205c[_0xe7e021(0x10b)]('tr')[_0xe7e021(0x147)]((_0x3e6681,_0x4911b6)=>{const _0x36087f=_0xe7e021;_0x4911b6<_0x43c739[_0x36087f(0xe3)]&&_0x3a363f[_0x36087f(0xdd)](_0x43c739[_0x4911b6],_0x3e6681);}),_0x36e890[_0xe7e021(0x147)]((_0x3d9e16,_0x3eb2c8)=>{const _0x5d1bf8=_0xe7e021,_0x108789=_0x3a363f[_0x5d1bf8(0x9b)](_0x3eb2c8);if(_0x108789&&_0x3d9e16!==0x0){const _0x72423a=_0x108789['querySelector'](_0x5d1bf8(0x151));if(_0x72423a){const _0x586f82=_0x3d9e16>0x0?'+'+_0x3d9e16:''+_0x3d9e16,_0x4de5bf=_0x72423a['querySelector'](_0x5d1bf8(0x13b));if(_0x4de5bf)_0x4de5bf['textContent']=_0x586f82,_0x4de5bf[_0x5d1bf8(0xcd)][_0x5d1bf8(0x9c)]=_0x3d9e16>0x0?_0x5d1bf8(0xc9):_0x5d1bf8(0xd5),_0x4de5bf[_0x5d1bf8(0xcd)][_0x5d1bf8(0x8a)]=_0x5d1bf8(0xed),_0x4de5bf[_0x5d1bf8(0xcd)][_0x5d1bf8(0xaa)]=_0x5d1bf8(0x7f),_0x4de5bf['style'][_0x5d1bf8(0xec)]='inline',_0x4de5bf['style']['visibility']=_0x5d1bf8(0xf7),_0x4de5bf[_0x5d1bf8(0xcd)][_0x5d1bf8(0x8f)]='1';else{}}}});})[_0x5ed563(0xeb)](_0x2bcadc=>console[_0x5ed563(0x134)](_0x5ed563(0x74),_0x2bcadc));}function initLadderToggles(){const _0x5dba31=a27_0x21c0,_0x2828b4=document[_0x5dba31(0xa5)]('d1-switch'),_0x3e869a=document[_0x5dba31(0xa5)](_0x5dba31(0xb8)),_0x11b2ab=document[_0x5dba31(0xa5)](_0x5dba31(0x12d)),_0x1ba4e6=document[_0x5dba31(0xa5)](_0x5dba31(0xb7)),_0x1d119c=document[_0x5dba31(0xa5)](_0x5dba31(0x13d)),_0xca2624=document[_0x5dba31(0xa5)](_0x5dba31(0xd2)),_0xe27aea=document[_0x5dba31(0xa5)]('d3-ladder-container'),_0x38bdc9=document[_0x5dba31(0xa5)](_0x5dba31(0xfc));function _0x178120(){const _0x28bafd=_0x5dba31;if(_0x1d119c)_0x1d119c[_0x28bafd(0xc8)]['remove'](_0x28bafd(0xab));if(_0xca2624)_0xca2624[_0x28bafd(0xc8)][_0x28bafd(0x95)](_0x28bafd(0xab));if(_0xe27aea)_0xe27aea['classList'][_0x28bafd(0x95)](_0x28bafd(0xab));if(_0x38bdc9)_0x38bdc9[_0x28bafd(0xcd)][_0x28bafd(0xec)]=_0x28bafd(0x129);if(_0x1d119c)_0x1d119c[_0x28bafd(0xcd)][_0x28bafd(0xec)]=_0x28bafd(0x129);if(_0xca2624)_0xca2624[_0x28bafd(0xcd)][_0x28bafd(0xec)]=_0x28bafd(0x129);if(_0xe27aea)_0xe27aea[_0x28bafd(0xcd)][_0x28bafd(0xec)]=_0x28bafd(0x129);}_0x2828b4&&_0x2828b4[_0x5dba31(0xb4)]('click',()=>{const _0x4e4af0=_0x5dba31;console[_0x4e4af0(0xde)](_0x4e4af0(0x8c)),_0x178120();_0x1d119c&&(_0x1d119c[_0x4e4af0(0xc8)][_0x4e4af0(0x121)](_0x4e4af0(0xab)),_0x1d119c[_0x4e4af0(0xcd)][_0x4e4af0(0xec)]=_0x4e4af0(0x131));document[_0x4e4af0(0xa5)]('elo-recommendation-text-d1')[_0x4e4af0(0xcd)][_0x4e4af0(0xec)]='block',document['getElementById'](_0x4e4af0(0xdb))['style'][_0x4e4af0(0xec)]=_0x4e4af0(0x129),document['getElementById'](_0x4e4af0(0x128))['style'][_0x4e4af0(0xec)]=_0x4e4af0(0x129);if(_0x2828b4)_0x2828b4[_0x4e4af0(0xc8)][_0x4e4af0(0x121)](_0x4e4af0(0xab));if(_0x3e869a)_0x3e869a[_0x4e4af0(0xc8)][_0x4e4af0(0x95)](_0x4e4af0(0xab));if(_0x11b2ab)_0x11b2ab['classList']['remove']('active');displayLadder(),findBestOpponent('d1');}),_0x3e869a&&_0x3e869a[_0x5dba31(0xb4)](_0x5dba31(0xf4),()=>{const _0x489317=_0x5dba31;console[_0x489317(0xde)](_0x489317(0x12b)),_0x178120();_0xca2624&&(_0xca2624['classList'][_0x489317(0x121)]('active'),_0xca2624[_0x489317(0xcd)]['display']=_0x489317(0x131));document[_0x489317(0xa5)](_0x489317(0x73))[_0x489317(0xcd)][_0x489317(0xec)]=_0x489317(0x129),document[_0x489317(0xa5)](_0x489317(0xdb))['style'][_0x489317(0xec)]=_0x489317(0x131),document[_0x489317(0xa5)]('elo-recommendation-text-d3')[_0x489317(0xcd)][_0x489317(0xec)]=_0x489317(0x129);if(_0x3e869a)_0x3e869a[_0x489317(0xc8)][_0x489317(0x121)]('active');if(_0x2828b4)_0x2828b4[_0x489317(0xc8)]['remove']('active');if(_0x11b2ab)_0x11b2ab[_0x489317(0xc8)]['remove'](_0x489317(0xab));displayLadderD2(),findBestOpponent('d2');}),_0x11b2ab&&_0x11b2ab['addEventListener'](_0x5dba31(0xf4),()=>{const _0x4a232b=_0x5dba31;console[_0x4a232b(0xde)](_0x4a232b(0xb5)),_0x178120();_0xe27aea&&(_0xe27aea[_0x4a232b(0xc8)][_0x4a232b(0x121)](_0x4a232b(0xab)),_0xe27aea['style'][_0x4a232b(0xec)]=_0x4a232b(0x131));document[_0x4a232b(0xa5)](_0x4a232b(0x73))[_0x4a232b(0xcd)][_0x4a232b(0xec)]=_0x4a232b(0x129),document['getElementById']('elo-recommendation-text-d2')[_0x4a232b(0xcd)][_0x4a232b(0xec)]='none',document['getElementById'](_0x4a232b(0x128))[_0x4a232b(0xcd)][_0x4a232b(0xec)]=_0x4a232b(0x131);if(_0x11b2ab)_0x11b2ab[_0x4a232b(0xc8)][_0x4a232b(0x121)](_0x4a232b(0xab));if(_0x2828b4)_0x2828b4[_0x4a232b(0xc8)][_0x4a232b(0x95)](_0x4a232b(0xab));if(_0x3e869a)_0x3e869a[_0x4a232b(0xc8)]['remove'](_0x4a232b(0xab));displayLadderD3(),findBestOpponent('d3');}),_0x1ba4e6&&_0x1ba4e6[_0x5dba31(0xb4)](_0x5dba31(0xf4),()=>{const _0x2952c0=_0x5dba31;_0x178120();if(_0x38bdc9)_0x38bdc9[_0x2952c0(0xcd)][_0x2952c0(0xec)]=_0x2952c0(0x131);displayLadderDuos(),findBestOpponent(_0x2952c0(0x76)),document['getElementById'](_0x2952c0(0x113))&&(document['getElementById'](_0x2952c0(0x113))[_0x2952c0(0xcd)][_0x2952c0(0xec)]='block'),document[_0x2952c0(0xa5)](_0x2952c0(0x73))[_0x2952c0(0xcd)]['display']=_0x2952c0(0x129),document['getElementById'](_0x2952c0(0xdb))[_0x2952c0(0xcd)]['display']=_0x2952c0(0x129),document[_0x2952c0(0xa5)]('elo-recommendation-text-d3')['style'][_0x2952c0(0xec)]='none';});}document[a27_0x4c4348(0xb4)](a27_0x4c4348(0xd0),()=>{const _0x4c23bc=a27_0x4c4348;initLadderToggles(),displayLadder(),findBestOpponent('d1'),document[_0x4c23bc(0xa5)](_0x4c23bc(0x73))[_0x4c23bc(0xcd)][_0x4c23bc(0xec)]=_0x4c23bc(0x131);});export{displayLadder};async function findBestOpponent(_0x58813f='d1'){const _0x54e495=a27_0x4c4348,_0x5b94bb=_0x54e495(0x7b)+_0x58813f,_0xfd7bb0=document[_0x54e495(0xa5)](_0x5b94bb);if(!_0xfd7bb0){console[_0x54e495(0x134)](_0x54e495(0xbc)+_0x58813f+_0x54e495(0x132));return;}const _0x599a33=auth[_0x54e495(0xaf)];if(!_0x599a33){_0xfd7bb0['textContent']='';return;}try{const _0x15917b=doc(db,_0x54e495(0x77),_0x599a33[_0x54e495(0x97)]),_0x5113b0=await getDoc(_0x15917b);if(!_0x5113b0['exists']()){console[_0x54e495(0xde)]('No\x20user\x20profile\x20found'),_0xfd7bb0[_0x54e495(0xea)]=_0x54e495(0x105);return;}const _0x6c828c=_0x5113b0['data'](),_0x201d1f=_0x6c828c[_0x54e495(0xe8)];if(!_0x201d1f){_0xfd7bb0[_0x54e495(0xea)]=_0x54e495(0x96);return;}let _0x3b5094;switch(_0x58813f){case'd1':_0x3b5094=_0x54e495(0xc3);break;case'd2':_0x3b5094='playersD2';break;case'd3':_0x3b5094=_0x54e495(0x123);break;case _0x54e495(0x76):_0x3b5094=_0x54e495(0xce);break;default:_0x3b5094=_0x54e495(0xc3);}if(_0x58813f===_0x54e495(0x76)){const _0x59014=collection(db,_0x3b5094),_0x2f5823=query(_0x59014,where(_0x54e495(0xe8),'==',_0x201d1f)),_0x3d2ca3=await getDocs(_0x2f5823);if(_0x3d2ca3[_0x54e495(0x120)]){_0xfd7bb0['textContent']='You\x27re\x20not\x20registered\x20on\x20the\x20DUOS\x20ladder';return;}const _0xa9ec62=_0x3d2ca3[_0x54e495(0xf8)][0x0][_0x54e495(0x117)](),_0x451adb=parseInt(_0xa9ec62[_0x54e495(0x90)])||0x4b0;if(_0xa9ec62[_0x54e495(0x14c)]&&_0xa9ec62['teammate']){_0xfd7bb0['innerHTML']=_0x54e495(0xae)+_0xa9ec62[_0x54e495(0xa6)]+_0x54e495(0xee);return;}const _0x2b5314=await getDocs(_0x59014);let _0x51e1d2=null,_0x2dec0b=-0x1;_0x2b5314[_0x54e495(0x147)](_0x10d538=>{const _0x2f95a4=_0x54e495,_0x49960f=_0x10d538[_0x2f95a4(0x117)]();if(_0x49960f[_0x2f95a4(0xe8)]===_0x201d1f)return;if(_0x49960f['hasTeam'])return;const _0x25cb55=parseInt(_0x49960f[_0x2f95a4(0x90)])||0x4b0,_0x44fe93=Math[_0x2f95a4(0xb6)](_0x25cb55-_0x451adb),_0x22e1e3=Math[_0x2f95a4(0xa8)](0x0,0xc8-_0x44fe93);_0x22e1e3>_0x2dec0b&&(_0x51e1d2=_0x49960f,_0x2dec0b=_0x22e1e3);});if(_0x51e1d2){const _0x21454d=parseInt(_0x51e1d2[_0x54e495(0x90)])||0x4b0;let _0x373e38=_0x54e495(0xe9);if(_0x21454d>=0x7d0)_0x373e38=_0x54e495(0xa4);else{if(_0x21454d>=0x708)_0x373e38=_0x54e495(0x12c);else{if(_0x21454d>=0x640)_0x373e38='#C0C0C0';else _0x21454d>=0x578&&(_0x373e38=_0x54e495(0xd7));}}_0xfd7bb0[_0x54e495(0x13f)]='Looking\x20for\x20a\x20teammate?\x20Consider\x20<span\x20class=\x22recommendation-highlight\x22\x20style=\x22color:\x20'+_0x373e38+_0x54e495(0x104)+_0x51e1d2[_0x54e495(0xe8)]+_0x54e495(0x148)+_0x21454d+')';}else _0xfd7bb0[_0x54e495(0xea)]='No\x20available\x20teammates\x20found.\x20More\x20players\x20needed\x20on\x20DUOS\x20ladder!';return;}const _0x4792b1=collection(db,_0x3b5094),_0x4443dd=query(_0x4792b1,where('username','==',_0x201d1f)),_0x201026=await getDocs(_0x4443dd);if(_0x201026['empty']){_0xfd7bb0[_0x54e495(0xea)]=_0x54e495(0x10a)+_0x58813f['toUpperCase']()+_0x54e495(0xe2);return;}const _0x1edb49=_0x201026[_0x54e495(0xf8)][0x0][_0x54e495(0x117)](),_0x365551=parseInt(_0x1edb49[_0x54e495(0x90)])||0x5dc,_0x36148d=await getDocs(_0x4792b1);let _0x386337=null,_0x5aed09=-0x1;const _0x13c1d7=getPlayerRankName(_0x365551);_0x36148d[_0x54e495(0x147)](_0x30a121=>{const _0x209d98=_0x54e495,_0x417f10=_0x30a121[_0x209d98(0x117)]();if(_0x417f10[_0x209d98(0xe8)]===_0x201d1f)return;const _0x4aac3a=parseInt(_0x417f10['eloRating'])||0x5dc,_0x47aaac=getPlayerRankName(_0x4aac3a),_0x58f33d=Math[_0x209d98(0xb6)](_0x4aac3a-_0x365551),_0x3e1d7b=0x20,_0x23d66b=0x1/(0x1+Math[_0x209d98(0xbd)](0xa,(_0x4aac3a-_0x365551)/0x190)),_0x381a7d=Math['round'](_0x3e1d7b*(0x1-_0x23d66b));if(_0x381a7d<=0x0)return;let _0x24920a=0x0;const _0xda07a=Math[_0x209d98(0xa8)](0x0,0x64-_0x58f33d*0.5),_0x8dd5f6=_0x381a7d>=0x3&&_0x381a7d<=0x8?0x32:_0x381a7d>0x0&&_0x381a7d<0xf?0x1e:0xa,_0x298734=_0x13c1d7===_0x47aaac?0x28:0x0;_0x24920a=_0xda07a+_0x8dd5f6+_0x298734,_0x24920a>_0x5aed09&&(_0x386337=_0x417f10,_0x5aed09=_0x24920a);});if(_0x386337){const _0x5c8496=parseInt(_0x386337[_0x54e495(0x90)])||0x5dc;let _0x5e3eaf=_0x54e495(0xe9);if(_0x5c8496>=0x7d0)_0x5e3eaf=_0x54e495(0xa4);else{if(_0x5c8496>=0x708)_0x5e3eaf=_0x54e495(0x12c);else{if(_0x5c8496>=0x640)_0x5e3eaf='#b9f1fc';else _0x5c8496>=0x578&&(_0x5e3eaf=_0x54e495(0xd7));}}_0xfd7bb0[_0x54e495(0x13f)]=_0x54e495(0x8e)+_0x365551+_0x54e495(0xbe)+_0x5e3eaf+';\x22>'+_0x386337[_0x54e495(0xe8)]+'</span>';}else _0xfd7bb0[_0x54e495(0x13f)]=_0x54e495(0xb3)+_0x365551+')';}catch(_0x1fd0e6){console[_0x54e495(0x134)](_0x54e495(0xbb),_0x1fd0e6),_0xfd7bb0[_0x54e495(0xea)]=_0x54e495(0xf3);}}auth[a27_0x4c4348(0x109)](_0x42d634=>{const _0x1c2590=a27_0x4c4348,_0x52b0c2=document[_0x1c2590(0xa5)](_0x1c2590(0x13d))&&document[_0x1c2590(0xa5)](_0x1c2590(0x13d))['style'][_0x1c2590(0xec)]!=='none',_0x1df26c=document[_0x1c2590(0xa5)]('d2-ladder-container')&&document[_0x1c2590(0xa5)](_0x1c2590(0xd2))[_0x1c2590(0xcd)]['display']!==_0x1c2590(0x129),_0x154d55=document[_0x1c2590(0xa5)]('d3-ladder-container')&&document[_0x1c2590(0xa5)](_0x1c2590(0x14b))['style']['display']!=='none',_0x226c27=document['getElementById']('duos-ladder-container')&&document[_0x1c2590(0xa5)](_0x1c2590(0xfc))[_0x1c2590(0xcd)][_0x1c2590(0xec)]!==_0x1c2590(0x129),_0x4b57da=_0x52b0c2?'d1':_0x1df26c?'d2':_0x154d55?'d3':_0x226c27?_0x1c2590(0x76):'d1';findBestOpponent(_0x4b57da);}),document[a27_0x4c4348(0xb4)]('DOMContentLoaded',()=>{const _0x2a1570=a27_0x4c4348,_0x47687a=document[_0x2a1570(0xa5)](_0x2a1570(0xb7)),_0xc063a6=document['querySelector']('label[for=\x22duos-switch\x22]');_0x47687a&&_0xc063a6&&(_0x47687a[_0x2a1570(0xb4)](_0x2a1570(0xf5),async _0x148c8b=>{const _0x28c242=_0x2a1570;if(_0x148c8b[_0x28c242(0x7d)][_0x28c242(0xd4)]){const _0x4ee058=auth?.[_0x28c242(0xaf)],_0x58acec=await checkIfUserIsAdmin(_0x4ee058);if(!_0x58acec){_0x148c8b['preventDefault']();const _0x44c02f=document['getElementById'](_0x28c242(0xe6));return _0x44c02f&&(_0x44c02f[_0x28c242(0xd4)]=!![],_0x44c02f[_0x28c242(0x146)](new Event(_0x28c242(0xf5)))),showAdminOnlyMessage(),![];}}}),auth['onAuthStateChanged'](async _0x14c85c=>{const _0x53b258=_0x2a1570,_0x379a43=await checkIfUserIsAdmin(_0x14c85c);!_0x379a43?(_0x47687a[_0x53b258(0x144)]=!![],_0xc063a6[_0x53b258(0xcd)][_0x53b258(0x8f)]=_0x53b258(0x14a),_0xc063a6[_0x53b258(0xcd)][_0x53b258(0x14d)]=_0x53b258(0xe0),_0xc063a6['title']=_0x53b258(0xf6)):(_0x47687a['disabled']=![],_0xc063a6['style'][_0x53b258(0x8f)]='1',_0xc063a6[_0x53b258(0xcd)][_0x53b258(0x14d)]='pointer',_0xc063a6['title']='');}));});async function checkIfUserIsAdmin(_0x332b37){const _0x49c2de=a27_0x4c4348;if(!_0x332b37)return![];try{const _0x49a749=[_0x49c2de(0x103),_0x49c2de(0xf2)];if(_0x332b37[_0x49c2de(0x10d)]&&_0x49a749[_0x49c2de(0x8b)](_0x332b37['email'][_0x49c2de(0x93)]()))return!![];const _0x49c84b=['userProfiles',_0x49c2de(0xc3),_0x49c2de(0x110),_0x49c2de(0x123)],_0x37f452=[_0x49c2de(0xe7),'owner',_0x49c2de(0x116),'creative\x20lead'];for(const _0x268404 of _0x49c84b){try{const _0x1b2422=doc(db,_0x268404,_0x332b37[_0x49c2de(0x97)]),_0x5db6da=await getDoc(_0x1b2422);if(_0x5db6da[_0x49c2de(0xa2)]()){const _0x1b6622=_0x5db6da[_0x49c2de(0x117)](),_0x350184=(_0x1b6622[_0x49c2de(0x86)]||_0x1b6622['role']||'')[_0x49c2de(0x93)]();if(_0x350184&&_0x37f452[_0x49c2de(0x8b)](_0x350184))return!![];}}catch(_0x59944a){console[_0x49c2de(0xdf)](_0x49c2de(0x13c)+_0x268404+':',_0x59944a);}}return![];}catch(_0x5c9365){return console[_0x49c2de(0x134)](_0x49c2de(0xe1),_0x5c9365),![];}}function showAdminOnlyMessage(){const _0x569eb4=a27_0x4c4348,_0x291ea1=document[_0x569eb4(0xa5)](_0x569eb4(0x8d));_0x291ea1&&_0x291ea1['remove']();const _0x30291c=document[_0x569eb4(0x149)](_0x569eb4(0xfe));_0x30291c['id']='admin-only-message',_0x30291c[_0x569eb4(0xcd)][_0x569eb4(0x78)]=_0x569eb4(0x137),_0x30291c[_0x569eb4(0x13f)]=_0x569eb4(0xb0),document['body'][_0x569eb4(0x94)](_0x30291c),setTimeout(()=>{const _0x1fcb78=_0x569eb4;_0x30291c[_0x1fcb78(0x9a)]&&_0x30291c['remove']();},0xbb8);}