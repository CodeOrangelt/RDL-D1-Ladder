(function(a,b){const g=a44b,c=a();while(!![]){try{const d=-parseInt(g(0x1c6))/0x1*(parseInt(g(0x1da))/0x2)+parseInt(g(0x1d4))/0x3*(-parseInt(g(0x1c5))/0x4)+parseInt(g(0x1ce))/0x5*(-parseInt(g(0x1de))/0x6)+parseInt(g(0x1d7))/0x7*(-parseInt(g(0x1c8))/0x8)+parseInt(g(0x1df))/0x9+parseInt(g(0x1dd))/0xa+parseInt(g(0x1c7))/0xb*(parseInt(g(0x1c9))/0xc);if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a44a,0x313ec));import{db}from'./firebase-config.js';import{collection,query,where,onSnapshot,updateDoc,doc}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const readyPlayersRef=collection(db,'readyPlayers'),activePlayersQuery=query(readyPlayersRef,where('isReady','==',!![]));function updateQueueDisplay(a){const h=a44b,b=document['getElementById'](h(0x1db));if(!b)return;if(a[h(0x1cf)]===0x0){b[h(0x1d9)][h(0x1d1)]='none';return;}b['style'][h(0x1d1)]=h(0x1cc);let c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22queue-box\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>Waiting\x20for\x20a\x20game</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22queue-list\x22>\x0a\x20\x20\x20\x20';a[h(0x1ca)](d=>{const i=h;c+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-card\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-name\x22>'+(d[i(0x1d6)]||'Unknown\x20Player')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22queue-time\x22>'+formatQueueTime(d[i(0x1d0)])+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),c+=h(0x1d3),b[h(0x1d8)]=c;}function a44a(){const n=['BgvUz3rO','BgfZDfvWzgf0zwq','zgLZCgXHEq','zgf0yq','cIaGicaGicaGicaGidWVzgL2pGOGicaGicaGidWVzgL2pGOGicaG','nNPxueTdBa','zMXVB3i','DxnLCM5HBwu','n2PhrMrnAa','Aw5Uzxjive1m','C3r5Bgu','mZm3mtHRvNr0tgm','CxvLDwuTy29UDgfPBMvY','zxjYB3i','otqZnZyWAKzYyvP5','mtHIsxLUreO','mtaZoteXm2vgqxHyEG','rxjYB3iGCMvTB3zPBMCGCgXHEwvYigzYB20GCxvLDwu6','ndy1nZCYAKPHuxDs','mtDlvKHzzwW','mty3ntGWnM5UwKfZDW','mtGYnJi0menJAvvrtW','nJbkugDwzuu','zM9YrwfJAa','Dg9eyxrL','yMXVy2S','sNvZDcbUB3C','mZy4mtbnEKfkrxe'];a44a=function(){return n;};return a44a();}function formatQueueTime(a){const j=a44b;if(!a)return j(0x1cd);const b=a['toDate']?a[j(0x1cb)]():new Date(a),c=new Date(),d=Math[j(0x1d5)]((c-b)/0xea60);if(d<0x1)return'Just\x20now';return d+'m\x20in\x20queue';}async function checkQueueTimeout(a){const k=a44b;if(!a[k(0x1d0)])return;const b=a['lastUpdated']['toDate']?a[k(0x1d0)][k(0x1cb)]():new Date(a['lastUpdated']),c=new Date(),d=Math[k(0x1d5)]((c-b)/0xea60);if(d>=0x1e)try{const e=doc(db,'readyPlayers',a['id']);await updateDoc(e,{'isReady':![]});}catch(f){console[k(0x1dc)](k(0x1e0),f);}}function a44b(a,b){const c=a44a();return a44b=function(d,e){d=d-0x1c5;let f=c[d];if(a44b['AQsePc']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a44b['adoZuu']=g,a=arguments,a44b['AQsePc']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a44b['adoZuu'](f),a[i]=f):f=j,f;},a44b(a,b);}const unsubscribe=onSnapshot(readyPlayersRef,a=>{const l=a44b,b=[];a[l(0x1ca)](c=>{const m=l,d=c[m(0x1d2)]();if(d['isReady']===!![]){const e={'id':c['id'],'username':d['username'],'lastUpdated':d[m(0x1d0)]||new Date()};b['push'](e),checkQueueTimeout(e);}}),updateQueueDisplay(b);},a=>{console['error']('Error\x20in\x20queue\x20listener:',a);});window['addEventListener']('unload',()=>{unsubscribe();});