function a50_0x32df(){const _0x8e5ff2=['Error\x20archiving\x20records:','prototype','data','season0records','error','__proto__','Successfully\x20archived\x20players\x20to\x20season0','trace','toString','log','docs','bind','Successfully\x20archived\x20records'];a50_0x32df=function(){return _0x8e5ff2;};return a50_0x32df();}const a50_0x1f747e=(function(){let _0x31cd86=!![];return function(_0x5a6acf,_0x3656b7){const _0x518a92=_0x31cd86?function(){if(_0x3656b7){const _0x5106af=_0x3656b7['apply'](_0x5a6acf,arguments);return _0x3656b7=null,_0x5106af;}}:function(){};return _0x31cd86=![],_0x518a92;};}()),a50_0x1fc3ee=a50_0x1f747e(this,function(){const _0x19e6d5=a50_0x1b42;let _0x429214;try{const _0x2ed7c2=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x429214=_0x2ed7c2();}catch(_0x18298e){_0x429214=window;}const _0x163184=_0x429214['console']=_0x429214['console']||{},_0xc9e698=[_0x19e6d5(0x1bd),'warn','info',_0x19e6d5(0x1b8),'exception','table',_0x19e6d5(0x1bb)];for(let _0x173195=0x0;_0x173195<_0xc9e698['length'];_0x173195++){const _0x126321=a50_0x1f747e['constructor'][_0x19e6d5(0x1b5)]['bind'](a50_0x1f747e),_0x5726b7=_0xc9e698[_0x173195],_0x2cf30b=_0x163184[_0x5726b7]||_0x126321;_0x126321[_0x19e6d5(0x1b9)]=a50_0x1f747e[_0x19e6d5(0x1bf)](a50_0x1f747e),_0x126321[_0x19e6d5(0x1bc)]=_0x2cf30b['toString']['bind'](_0x2cf30b),_0x163184[_0x5726b7]=_0x126321;}});a50_0x1fc3ee();import{db}from'./firebase-config.js';import{collection,getDocs,setDoc,doc,query,orderBy}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';function a50_0x1b42(_0x48eecd,_0xdd80a1){const _0x1fc3ee=a50_0x32df();return a50_0x1b42=function(_0x1f747e,_0x5dcfbd){_0x1f747e=_0x1f747e-0x1b4;let _0x32df41=_0x1fc3ee[_0x1f747e];return _0x32df41;},a50_0x1b42(_0x48eecd,_0xdd80a1);}async function archiveSeason0(){const _0x1adc85=a50_0x1b42;try{const _0x3254ea=await getDocs(collection(db,'players'));for(const _0x60d5af of _0x3254ea[_0x1adc85(0x1be)]){const _0x3e0454=_0x60d5af['data']();await setDoc(doc(db,'season0',_0x60d5af['id']),{..._0x3e0454,'archivedAt':new Date(),'originalId':_0x60d5af['id']});}return console['log'](_0x1adc85(0x1ba)),!![];}catch(_0xcffe5){console['error']('Error\x20archiving\x20season:',_0xcffe5);throw _0xcffe5;}}async function archiveRecords(){const _0x2d3a94=a50_0x1b42;try{const _0x25f2cb=collection(db,'records'),_0x429da6=query(_0x25f2cb,orderBy('wins','desc')),_0x6e9395=await getDocs(_0x429da6),_0x28a910=[];return _0x6e9395['forEach'](_0x492eb7=>{const _0x55496d=a50_0x1b42,_0x16f380=_0x492eb7[_0x55496d(0x1b6)]();_0x28a910['push']({'username':_0x16f380['username'],'wins':_0x16f380['wins']||0x0,'losses':_0x16f380['losses']||0x0,'winRate':_0x16f380['winRate']||0x0,'timestamp':new Date()});}),await setDoc(doc(db,_0x2d3a94(0x1b7),'snapshot'),{'records':_0x28a910,'archivedAt':new Date()}),console['log'](_0x2d3a94(0x1c0)),!![];}catch(_0x938781){console[_0x2d3a94(0x1b8)](_0x2d3a94(0x1b4),_0x938781);throw _0x938781;}}export{archiveSeason0,archiveRecords};