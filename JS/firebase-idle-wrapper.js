const a19t=a19d;(function(a,b){const k=a19d,c=a();while(!![]){try{const d=parseInt(k(0x115))/0x1+-parseInt(k(0xf8))/0x2*(parseInt(k(0x104))/0x3)+-parseInt(k(0x10f))/0x4+parseInt(k(0xff))/0x5+-parseInt(k(0x11b))/0x6+-parseInt(k(0xe5))/0x7+-parseInt(k(0xde))/0x8*(-parseInt(k(0xee))/0x9);if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a19c,0x58cf4));const a19b=(function(){let a=!![];return function(b,c){const d=a?function(){const l=a19d;if(c){const e=c[l(0x10e)](b,arguments);return c=null,e;}}:function(){};return a=![],d;};}()),a19a=a19b(this,function(){const m=a19d;let a;try{const d=Function('return\x20(function()\x20'+m(0x12a)+');');a=d();}catch(f){a=window;}const b=a[m(0xfc)]=a[m(0xfc)]||{},c=[m(0xdc),m(0x102),'info',m(0x11d),'exception','table','trace'];for(let g=0x0;g<c[m(0x110)];g++){const h=a19b[m(0x119)]['prototype'][m(0xec)](a19b),i=c[g],j=b[i]||h;h[m(0xf7)]=a19b[m(0xec)](a19b),h[m(0xf0)]=j['toString']['bind'](j),b[i]=h;}});function a19c(){const K=['ywrKrg9JDw1LBNq','y29UC3rYDwn0B3i','w0zPCMvIyxnLswrSzv0GrxjYB3iGDw5ZDwjZy3jPyMLUzYbSAxn0zw5LCIa','ndmXmZC3ofDjr3rcEq','Dgv4DenVBNrLBNq','zxjYB3i','uKrmx05fvfDpuKTFrvjst1i','B3bLCMf0Aw9UvhLWzq','y2XLyxi','zxHLy3v0zvbLBMrPBMDpCgvYyxrPB25Z','w0zPCMvIyxnLswrSzv0GtwfUDwfSBhKGDw5ZDwjZy3jPyMLUzYbSAxn0zw5LCJOG','ywrK','y3jLyxrLrwXLBwvUDa','CMvZB3vYy2uTzxHOyxvZDgvK','w0zPCMvIyxnLswrSzv0GrxjYB3iGC3vZCgvUzgLUzYbSAxn0zw5LCJO','w0zPCMvIyxnLswrSzv0GrxjYB3iGzhvYAw5NihrLC3qGkgv4CgvJDgvKktO','yM9KEq','w0zPCMvIyxnLswrSzv0GvgvZDgLUzYbZDxnWzw5ZAw9Uic0Gyxr0zw1WDgLUzYbYzwfKlI4U','E30Uy29UC3rYDwn0B3iOiNjLDhvYBIb0AgLZiIKOicK','DgHLBG','rxHLy3v0Aw5NihbLBMrPBMCG','zMLYzwjHC2uTC3vZCgvUzc1PBMrPy2f0B3i','CgvUzgLUz1rPBwvVDxq','Bg9N','ywXS','og1PC1vXDG','y2f0y2G','zgLZywjSzwq','w0zPCMvIyxnLswrSzv0GrgvIDwCGBw9Kzsa','ig9WzxjHDgLVBG','w0zPCMvIyxnLswrSzv0GuMvZDw1PBMCGBgLZDgvUzxi6','C3vZCgvUzfnLC3nPB24','mZG1mJe0mLfNB2PiBW','BM93','w0zPCMvIyxnLswrSzv0Gq2fUBM90ihjLC3vTzsbSAxn0zw5LCIbKAxjLy3rSEtO','zgvIDwC','w0zPCMvIyxnLswrSzv0Gu3vZCgvUzgLUzYbHBgWGywn0AxzLigXPC3rLBMvYCZO','rxHLy3v0Aw5NigrLBgf5zwqG','BgLZDgvUzxjF','yMLUza','w0zPCMvIyxnLswrSzv0GqwXSigXPC3rLBMvYCYbZDxnWzw5Kzwq','mteYmZe3nJzVA1vrzfK','C3r5Bgu','Dg9tDhjPBMC','zM9YrwfJAa','Aw5JBhvKzxm','yxjNCW','C2fMzu9WzxjHDgLVBG','DgvZDa','yMXVy2TLze9WzxjHDgLVBNm','x19WCM90B19F','mtbkwuf5tgy','w0zPCMvIyxnLswrSzv0Gq3jLyxrPBMCGBgLZDgvUzxi6ia','cIaGicaGicaGicaGicaGicbWB3nPDgLVBJOGzML4zwq7cIaGicaGicaGicaGicaGicbIB3r0B206ideWChG7cIaGicaGicaGicaGicaGicbYAwDODdOGmtbWEdSkicaGicaGicaGicaGicaGigjHy2TNCM91BMqTy29SB3i6icmZmZm7cIaGicaGicaGicaGicaGicbJB2XVCJOGi2zMntu1ntSkicaGicaGicaGicaGicaGihbHzgrPBMC6idvWEcaXmhb4oWOGicaGicaGicaGicaGicaGyM9YzgvYlxjHzgL1CZOGnhb4oWOGicaGicaGicaGicaGicaGzM9UDc1ZAxPLoIaXmNb4oWOGicaGicaGicaGicaGicaGEI1PBMrLEdOGotK5otSkicaGicaGicaGicaG','zgL2','y29UC29Szq','ig9WzxjHDgLVBNmGzhvYAw5NigLKBguGC3rHDgu','x3n1C3bLBMrLzeXPC3rLBMvYCW','mJaYmdyYmgvJAurRAa','CgvUzgLUz09WzxjHDgLVBNm','BMv0D29YAW','D2fYBG','C3vIC3rYAw5N','mJiWnte4wun2shfS','w0zPCMvIyxnLswrSzv0GrxjYB3iGCMvZDw1PBMCGBgLZDgvUzxi6','C2L6zq','B3bLCMf0Aw9U','C2v0rg9JDw1LBNq','ywn0AxzLtgLZDgvUzxjZ','CMvZDw1LqwXStgLZDgvUzxjZ','y29Kzq','Dw5HDMfPBgfIBgu','C3LZDgvT','yxbWBhK','mtmXmJe3mNDwCKv1qW','BgvUz3rO','uKrmx1nfu1njt05Fu1vtuevoreve','w0zPCMvIyxnLswrSzv0GuMvZDw1PBMCGBgLZDgvUzxjZoG','w0zPCMvIyxnLswrSzv0GvevtvcbgquLmruqGlsbYzwfKihn1y2nLzwrLzcbKDxjPBMCGC3vZCgvUC2LVBG','C2v0','nJC2nta4tujeB0zJ','z2v0','CxvLCNK'];a19c=function(){return K;};return a19c();}a19a();import{auth,db}from'./firebase-config.js';import{handleNetworkError}from'./idle-timeout.js';import{getDoc,getDocs,collection,doc,query,where,orderBy,limit,startAfter,addDoc,setDoc,updateDoc,deleteDoc,onSnapshot,getCountFromServer,writeBatch,serverTimestamp,Timestamp}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';class FirebaseIdleWrapper{constructor(){const n=a19d;this['activeListeners']=new Map(),this['pendingOperations']=new Map(),this['pendingTimeout']=null,this['blockedOperations']=0x0,this[n(0xe8)]=![];}['checkSessionActive'](){const o=a19d;if(window['RDL_SESSION_SUSPENDED']===!![])return console['log']('[FirebaseIdle]\x20Operation\x20blocked\x20-\x20session\x20idle'),this['blockedOperations']=(this[o(0xf6)]||0x0)+0x1,this[o(0xf6)]%0xa===0x0&&console['warn']('[FirebaseIdle]\x20Blocked\x20'+this[o(0xf6)]+o(0xfd)),![];if(window[o(0x11e)]===!![])return console['log']('[FirebaseIdle]\x20Operation\x20blocked\x20-\x20network\x20error'),![];return!![];}async['safeOperation'](a,b,...c){const p=a19d;if(!this['checkSessionActive']()){const d=b+'-'+Date[p(0xe6)]()+'-'+Math['random']()[p(0xf0)](0x24)[p(0x103)](0x2,0x9);return this['pendingOperations']['set'](d,{'operation':a,'operationType':b,'args':c}),!this[p(0xdb)]&&(this[p(0xdb)]=setTimeout(()=>{const q=p;this[q(0x100)][q(0x120)](),this['pendingTimeout']=null;},0x5*0x3c*0x3e8)),null;}try{return await a(...c);}catch(e){if(e[p(0x10b)]===p(0x10c)||e['code']===p(0x125)||e['message']&&e['message'][p(0xf2)](p(0x101)))return handleNetworkError(),null;throw e;}}async['getDocument'](a){const r=a19d;return this['safeOperation'](getDoc,r(0x116),a);}async['getDocuments'](a){const s=a19d;return this[s(0xf4)](getDocs,s(0x117),a);}async[a19t(0x118)](a,b){const u=a19t;return this[u(0xf4)](addDoc,u(0x123),a,b);}async[a19t(0x108)](a,b,c={}){return this['safeOperation'](setDoc,'set',a,b,c);}async['updateDocument'](a,b){const v=a19t;return this[v(0xf4)](updateDoc,'update',a,b);}async['deleteDocument'](a){return this['safeOperation'](deleteDoc,'delete',a);}['suspendAllListeners'](){const w=a19t;console['log'](w(0xe9),this[w(0x109)]['size']),this[w(0xfe)]=new Map(this['activeListeners']),this['activeListeners']['forEach']((a,b)=>{const x=w;console['log']('[FirebaseIdle]\x20Suspending\x20listener:',b);if(typeof a==='function')try{a(),console[x(0xdc)]('[FirebaseIdle]\x20Successfully\x20suspended\x20listener:',b);}catch(c){console[x(0x11d)](x(0x126),b,c);}}),this[w(0x109)][w(0x120)]();if(this['debug']){const a=document[w(0x124)](w(0xfb));a['id']=w(0xda),a[w(0xef)]['cssText']=w(0xfa),a[w(0x11c)]='Firebase:\x20Suspended',document[w(0x128)]['appendChild'](a);}console['log'](w(0xed));}['resumeAllListeners'](){const y=a19t;if(!this['_suspendedListeners']||this['_suspendedListeners']['size']===0x0){console[y(0xdc)]('[FirebaseIdle]\x20No\x20listeners\x20to\x20resume');return;}console[y(0xdc)](y(0x112),this[y(0xfe)]['size']),this[y(0xfe)]['forEach']((b,c)=>{const z=y;console['log'](z(0xe3),c);try{if(typeof b==='function'){console['warn'](z(0xe7),c);return;}const {query:d,callback:e,options:f}=b;if(d&&e){const g=onSnapshot(d,e,f||{});this['activeListeners']['set'](c,g),console[z(0xdc)]('[FirebaseIdle]\x20Successfully\x20resumed\x20listener:',c);}}catch(h){console[z(0x11d)](z(0x105),c,h);}}),this[y(0xfe)][y(0x120)]();const a=document['getElementById'](y(0xda));a&&a['remove'](),console[y(0xdc)]('[FirebaseIdle]\x20Listeners\x20resumed');}['createListener'](a,b,c={},d=null){const A=a19t,e=d||A(0xeb)+Date[A(0xe6)]()+'_'+Math['random']()['toString'](0x24)['substr'](0x2,0x9);this['debug']&&console['log'](A(0xf9)+e);if(!this['checkSessionActive']())return console[A(0xdc)]('[FirebaseIdle]\x20Session\x20suspended,\x20not\x20creating\x20listener:\x20'+e),()=>{};try{const f=onSnapshot(a,b,c);return this[A(0x109)][A(0x114)](e,{'unsubscribe':f,'query':a,'callback':b,'options':c}),this['debug']&&(console[A(0xdc)]('[FirebaseIdle]\x20Listener\x20created:\x20'+e),console['log']('[FirebaseIdle]\x20Active\x20listeners:\x20'+this[A(0x109)][A(0x106)])),()=>{const B=A;this[B(0xe8)]&&console[B(0xdc)](B(0x122)+e);try{f(),this['activeListeners']['delete'](e),this[B(0xe8)]&&(console[B(0xdc)]('[FirebaseIdle]\x20Listener\x20removed:\x20'+e),console[B(0xdc)]('[FirebaseIdle]\x20Active\x20listeners:\x20'+this[B(0x109)][B(0x106)]));}catch(g){console['error'](B(0x11a)+e+':',g);}};}catch(g){return console['error']('[FirebaseIdle]\x20Error\x20creating\x20listener\x20'+e+':',g),()=>{};}}[a19t(0x121)](a='all'){const C=a19t;console['log'](C(0xd9)+a+'\x20operations:\x20'+this[C(0x100)][C(0x106)]+'\x20total\x20operations');const b=new Map(this[C(0x100)]);this['pendingOperations'][C(0x120)](),b[C(0xf1)]((c,d)=>{const D=C;a===D(0xdd)||c[D(0x11f)]===a?(console['log'](D(0xea)+c['operationType']+D(0xe2)),this[D(0xf4)](c[D(0x107)],c['operationType'],...c[D(0xf3)])[D(0xdf)](e=>console['error']('Error\x20executing\x20pending\x20operation:',e))):this['pendingOperations']['set'](d,c);});}['enableDebug'](a=!![]){const E=a19t;this['debug']=a,console[E(0xdc)](E(0xe1)+(a?'enabled':E(0xe0)));if(a){const b=window['RDL_SESSION_SUSPENDED'];window[E(0x111)]=!![],console[E(0xdc)](E(0x129)),this['getDocument'](doc(db,E(0x10d),E(0xf5)))[E(0x12b)](c=>{const F=E;console['log'](F(0x113),c);})['catch'](c=>{const G=E;console['log'](G(0x127),c);})['finally'](()=>{const H=E;console[H(0xdc)]('[FirebaseIdle]\x20Suspension\x20test\x20complete'),window['RDL_SESSION_SUSPENDED']=b;});}}}const firebaseIdle=new FirebaseIdleWrapper();export function enhanceIdleTimeout(){const I=a19t,a=window[I(0xe4)]||function(){},b=window['resumeSession']||function(){};window[I(0xe4)]=function(){a(),firebaseIdle['suspendAllListeners']();},window['resumeSession']=function(){const J=I;b(),firebaseIdle[J(0x10a)]();};}function a19d(a,b){const c=a19c();return a19d=function(d,e){d=d-0xd9;let f=c[d];if(a19d['TXmcEx']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a19d['PayhxM']=g,a=arguments,a19d['TXmcEx']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a19d['PayhxM'](f),a[i]=f):f=j,f;},a19d(a,b);}export default firebaseIdle;