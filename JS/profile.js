const a42p=a42b;(function(a,b){const n=a42b,c=a();while(!![]){try{const d=-parseInt(n(0x12d))/0x1*(parseInt(n(0x138))/0x2)+parseInt(n(0x141))/0x3+parseInt(n(0x131))/0x4*(parseInt(n(0x145))/0x5)+parseInt(n(0x126))/0x6+parseInt(n(0x148))/0x7*(parseInt(n(0x12e))/0x8)+-parseInt(n(0x13e))/0x9+-parseInt(n(0x11f))/0xa;if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a42a,0xf359f));function a42a(){const z=['zMf2B3jPDguTD2vHCg9U','zgf0yq','mtq1mda1nJbtuuTAvfC','Bg9HzfbYB2zPBgu','C3rHDhmTA2q','zMf2B3jPDgvxzwfWB24','D2LUCMf0zq','CgXHEwvYlxn0yxrZ','z2v0','nJu5mdu2ogHOq0jLva','zMf2B3jPDguTBwfW','Bw90Dg8','Bg9Zzxjty29Yzq','rxjYB3iGC2f2Aw5NihbYB2zPBgu6','rxjYB3iGBg9HzgLUzYbWBgf5zxiGC3rHDhm6','AgfUzgXLsw1Hz2vvCgXVywq','mtG5odqXn2Hjy3ncuW','odbtBgvquwC','ChjLDMvUDerLzMf1Bhq','y3vYCMvUDfvZzxi','mZjmD3buCeW','C2L6zq','D2LUCW','ywrKrxzLBNrmAxn0zw5LCG','DgfYz2v0','zxjYB3i','C2v0DxbfDMvUDeXPC3rLBMvYCW','mNvMz0HzEG','y2HHBMDL','CMvZDwX0','CgzWvxjS','re9nq29UDgvUDeXVywrLza','Bg9HzfbSyxLLCLn0yxrZ','nZy2otG5meHSEw5Hva','DwLK','C3rHDhmTBg9ZC2vZ','mJG2mJy5nLDUs3ryAq','ChjVzMLSzs1WCMv2Awv3','z2v0rwXLBwvUDej5swq','yxbWCM92zwrnyxrJAgvZ','otm1mdi1z1zyEhzo','uhjVzMLSzsbZyxzLzcbZDwnJzxnZzNvSBhKH','C3jJ','mte1ndeYnvD3D05VvW','ChjVzMLSzs1MB3jT','AgfUzgXLu3vIBwL0','C3rHDhmTD2LUCW','B25SB2fK','CgzWuhjLDMLLDW','zMLSzxm','CgzWlxvWBg9Hza','rxjYB3iGBg9HzgLUzYbWCM9MAwXLoG','ugXLyxnLihnPz24GAw4GDg8GC2f2zsb5B3vYihbYB2zPBgu','Dgv4DenVBNrLBNq','CgzWsw5WDxq','BMLJA25HBwu','zMf2B3jPDgvnyxa','ChjVzMLSzxm','D2LUBMvYu2nVCMu','Dg9ju09tDhjPBMC','zM9YBq','C3vIBwL0'];a42a=function(){return z;};return a42a();}import{initializeApp}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js';import{getAuth,onAuthStateChanged}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';import{getFirestore,doc,setDoc,getDoc,collection,getDocs,query,where}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{getStorage,ref,uploadBytes,getDownloadURL}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-storage.js';import{firebaseConfig}from'./firebase-config.js';function a42b(a,b){const c=a42a();return a42b=function(d,e){d=d-0x113;let f=c[d];if(a42b['YVqSHB']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a42b['fdVHMx']=g,a=arguments,a42b['YVqSHB']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a42b['fdVHMx'](f),a[i]=f):f=j,f;},a42b(a,b);}const app=initializeApp(firebaseConfig),auth=getAuth(app),db=getFirestore(app),storage=getStorage(app);class ProfileManager{constructor(){const o=a42b;this[o(0x11b)]=document[o(0x143)](o(0x149)),this[o(0x115)]=document[o(0x143)](o(0x14f)),this[o(0x14d)]=document[o(0x143)](o(0x142)),this['statsContainer']=document['getElementById'](o(0x124)),this['setupEventListeners'](),this[o(0x120)]();}[a42p(0x137)](){const q=a42p;this[q(0x115)]['addEventListener'](q(0x139),a=>this[q(0x12c)](a)),this[q(0x11b)][q(0x134)](q(0x11c),a=>this[q(0x14a)](a));}async['handleImageUpload'](a){const r=a42p,b=a[r(0x135)]['files'][0x0];if(b){const c=new FileReader();c[r(0x14c)]=d=>{const s=r;this[s(0x14d)]['src']=d['target'][s(0x13a)];},c['readAsDataURL'](b);}}async['handleSubmit'](a){const t=a42p;a[t(0x12f)]();const b=auth[t(0x130)];if(!b){alert(t(0x113));return;}try{const c=new FormData(this['form']),d={'nickname':c[t(0x125)](t(0x116)),'motto':c[t(0x125)]('motto'),'favoriteMap':c['get'](t(0x127)),'favoriteWeapon':c[t(0x125)]('favorite-weapon'),'updatedAt':new Date()[t(0x11a)]()},e=this[t(0x115)][t(0x14e)][0x0];if(e){const f=ref(storage,'profile-pictures/'+b[t(0x13f)]);await uploadBytes(f,e),d['pfpUrl']=await getDownloadURL(f);}await setDoc(doc(db,t(0x118),b[t(0x13f)]),d),alert(t(0x146));}catch(g){console['error'](t(0x12a),g),alert('Error\x20saving\x20profile.\x20Please\x20try\x20again.');}}async[a42p(0x120)](){onAuthStateChanged(auth,async a=>{const u=a42b;if(a)try{const b=await getDoc(doc(db,u(0x118),a[u(0x13f)]));if(b['exists']()){const c=b[u(0x11e)]();document['getElementById']('nickname')['value']=c['nickname']||'',document['getElementById'](u(0x128))['value']=c['motto']||'',document['getElementById']('favorite-map')['value']=c[u(0x117)]||'',document[u(0x143)](u(0x11d))['value']=c[u(0x122)]||'',c['pfpUrl']&&(this[u(0x14d)][u(0x147)]=c[u(0x13b)]),await this['loadPlayerStats'](c['nickname']);}}catch(d){console['error'](u(0x150),d);}});}async[a42p(0x13d)](a){const v=a42p;if(!a)return;try{const b=collection(db,v(0x144)),[c,d]=await Promise['all']([getDocs(query(b,where('winnerUsername','==',a))),getDocs(query(b,where('loserUsername','==',a)))]),e=c[v(0x132)],f=d['size'],g=e+f;let h=0x0,i=0x0;c['forEach'](l=>{const w=v,m=l[w(0x11e)]();if(m[w(0x119)])h+=parseInt(m[w(0x119)]);if(m[w(0x129)])i+=parseInt(m['loserScore']);}),d['forEach'](l=>{const x=v,m=l[x(0x11e)]();if(m[x(0x129)])h+=parseInt(m['loserScore']);if(m[x(0x119)])i+=parseInt(m[x(0x119)]);});const j=i===0x0?h['toFixed'](0x2):(h/ i)['toFixed'](0x2),k=g===0x0?'0':(e/g*0x64)['toFixed'](0x1);console['log']('Stats\x20calculated:',{'totalMatches':g,'wins':e,'losses':f,'totalKills':h,'totalDeaths':i,'kdRatio':j,'winRate':k}),document[v(0x143)]('stats-matches')[v(0x114)]=g,document['getElementById'](v(0x14b))[v(0x114)]=e,document[v(0x143)](v(0x140))[v(0x114)]=f,document[v(0x143)](v(0x121))[v(0x114)]=j,document['getElementById']('stats-winrate')['textContent']=k+'%';}catch(l){console[v(0x136)](v(0x12b),l),['matches',v(0x133),'losses','kd',v(0x123)]['forEach'](m=>{const y=v;document[y(0x143)]('stats-'+m)['textContent']='-';});}}}document[a42p(0x134)](a42p(0x13c),()=>{new ProfileManager();});