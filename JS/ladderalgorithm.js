(function(_0x1af05c,_0x49e32a){const _0x1c6033=a30_0x5588,_0x1f5019=_0x1af05c();while(!![]){try{const _0x4b9b5f=parseInt(_0x1c6033(0x157))/0x1+-parseInt(_0x1c6033(0x102))/0x2*(parseInt(_0x1c6033(0xe7))/0x3)+parseInt(_0x1c6033(0x14d))/0x4*(parseInt(_0x1c6033(0x121))/0x5)+parseInt(_0x1c6033(0x15f))/0x6+-parseInt(_0x1c6033(0x12f))/0x7*(-parseInt(_0x1c6033(0x130))/0x8)+parseInt(_0x1c6033(0x152))/0x9+parseInt(_0x1c6033(0x158))/0xa*(-parseInt(_0x1c6033(0x10e))/0xb);if(_0x4b9b5f===_0x49e32a)break;else _0x1f5019['push'](_0x1f5019['shift']());}catch(_0x49bc23){_0x1f5019['push'](_0x1f5019['shift']());}}}(a30_0x5487,0x39ada));const a30_0xf62201=(function(){const _0x31079a=a30_0x5588,_0x4e1769={};_0x4e1769['rnywG']=function(_0x5a71a8,_0x3078c8){return _0x5a71a8!==_0x3078c8;},_0x4e1769[_0x31079a(0x13d)]=_0x31079a(0xf5),_0x4e1769[_0x31079a(0x136)]=function(_0x10b5f2,_0x3220bc){return _0x10b5f2+_0x3220bc;},_0x4e1769[_0x31079a(0x11f)]=_0x31079a(0x153),_0x4e1769[_0x31079a(0xe3)]='warn',_0x4e1769[_0x31079a(0xd9)]=_0x31079a(0x149),_0x4e1769[_0x31079a(0xff)]='error',_0x4e1769[_0x31079a(0x142)]=_0x31079a(0x12a);const _0x51663a=_0x4e1769;let _0x11e5d7=!![];return function(_0x32acd7,_0x29122a){const _0xd72f48=_0x31079a,_0xa56a57={'CRQby':function(_0x3c1a35,_0xcd8d84){return _0x3c1a35(_0xcd8d84);},'JauLB':function(_0x348472,_0x10367b){const _0x5046ce=a30_0x5588;return _0x51663a[_0x5046ce(0x136)](_0x348472,_0x10367b);},'AXFyn':_0x51663a[_0xd72f48(0x11f)],'VOdrY':_0xd72f48(0x144),'Tyjhz':_0x51663a[_0xd72f48(0xe3)],'WkkJQ':_0x51663a[_0xd72f48(0xd9)],'WsQTC':_0x51663a[_0xd72f48(0xff)],'TlGXJ':_0x51663a[_0xd72f48(0x142)]},_0x1723f9=_0x11e5d7?function(){const _0x3ddc25=_0xd72f48;if(_0x29122a){if(_0x51663a['rnywG'](_0x3ddc25(0x14c),_0x51663a[_0x3ddc25(0x13d)])){const _0x670c7b=_0x29122a[_0x3ddc25(0xf2)](_0x32acd7,arguments);return _0x29122a=null,_0x670c7b;}else{let _0x5bc0c7;try{const _0x3f8778=_0xa56a57['CRQby'](_0x2e0b47,_0xa56a57['JauLB'](_0xa56a57[_0x3ddc25(0x168)],_0xa56a57[_0x3ddc25(0x15c)])+');');_0x5bc0c7=_0x3f8778();}catch(_0x12b830){_0x5bc0c7=_0x1c6910;}const _0xbca530=_0x5bc0c7[_0x3ddc25(0x113)]=_0x5bc0c7[_0x3ddc25(0x113)]||{},_0x4ba8a1=['log',_0xa56a57[_0x3ddc25(0xc7)],_0xa56a57[_0x3ddc25(0xd8)],_0xa56a57[_0x3ddc25(0xca)],_0xa56a57[_0x3ddc25(0xd6)],_0x3ddc25(0xde),_0x3ddc25(0x11b)];for(let _0x43dcfa=0x0;_0x43dcfa<_0x4ba8a1[_0x3ddc25(0x115)];_0x43dcfa++){const _0x2ea9ea=_0x7ed973['constructor'][_0x3ddc25(0x123)][_0x3ddc25(0x117)](_0x2700a7),_0x42de77=_0x4ba8a1[_0x43dcfa],_0x12e793=_0xbca530[_0x42de77]||_0x2ea9ea;_0x2ea9ea[_0x3ddc25(0x154)]=_0x71b96f[_0x3ddc25(0x117)](_0x5f2b8a),_0x2ea9ea[_0x3ddc25(0x112)]=_0x12e793['toString']['bind'](_0x12e793),_0xbca530[_0x42de77]=_0x2ea9ea;}}}}:function(){};return _0x11e5d7=![],_0x1723f9;};}()),a30_0x3c0279=a30_0xf62201(this,function(){const _0x56477e=a30_0x5588,_0x22ac3d={};_0x22ac3d['gBboA']=_0x56477e(0x163);const _0x1455b9=_0x22ac3d;return a30_0x3c0279['toString']()[_0x56477e(0x11d)](_0x1455b9[_0x56477e(0x13c)])[_0x56477e(0x112)]()[_0x56477e(0x108)](a30_0x3c0279)[_0x56477e(0x11d)](_0x1455b9[_0x56477e(0x13c)]);});a30_0x3c0279();const a30_0x9ee17=(function(){const _0x52a637=a30_0x5588,_0x4e6ee5={};_0x4e6ee5[_0x52a637(0x109)]=function(_0x406c45,_0x79dc98){return _0x406c45!==_0x79dc98;};const _0x4c64ae=_0x4e6ee5;let _0x4103d1=!![];return function(_0x1aec38,_0x4250a8){const _0x10f14e=_0x52a637;if(_0x4c64ae[_0x10f14e(0x109)](_0x10f14e(0x135),_0x10f14e(0x151))){const _0x25f60b=_0x4103d1?function(){const _0x402e6b=_0x10f14e;if(_0x4250a8){const _0x142126=_0x4250a8[_0x402e6b(0xf2)](_0x1aec38,arguments);return _0x4250a8=null,_0x142126;}}:function(){};return _0x4103d1=![],_0x25f60b;}else{if(_0x1a687e){const _0x26baa3=_0x56bec2[_0x10f14e(0xf2)](_0xddeec2,arguments);return _0x2b439a=null,_0x26baa3;}}};}()),a30_0x1c5e2b=a30_0x9ee17(this,function(){const _0x222959=a30_0x5588,_0x2ca597={'dQjnN':function(_0x5075f4,_0x5f58b5){return _0x5075f4(_0x5f58b5);},'Mvsmu':function(_0x2dcdf1,_0x259d1a){return _0x2dcdf1+_0x259d1a;},'XSwLW':function(_0x27a97e,_0x273a4c){return _0x27a97e+_0x273a4c;},'WiWhx':_0x222959(0x153),'flVLw':_0x222959(0x144),'qLirZ':function(_0x1f69fb){return _0x1f69fb();},'AnbTZ':_0x222959(0xc6),'TmyJE':_0x222959(0x10c),'mPAgP':_0x222959(0x149),'rxBEO':_0x222959(0x118),'VicBn':_0x222959(0x12a),'PxjSz':_0x222959(0xde),'hivDV':_0x222959(0x11b),'gPJML':function(_0x420f67,_0x42c072){return _0x420f67<_0x42c072;}};let _0x3c3b42;try{const _0x43a7f1=_0x2ca597[_0x222959(0xe8)](Function,_0x2ca597[_0x222959(0x165)](_0x2ca597[_0x222959(0x134)](_0x2ca597[_0x222959(0x129)],_0x2ca597[_0x222959(0xfc)]),');'));_0x3c3b42=_0x2ca597[_0x222959(0x138)](_0x43a7f1);}catch(_0x3075ab){_0x3c3b42=window;}const _0x339d12=_0x3c3b42['console']=_0x3c3b42[_0x222959(0x113)]||{},_0x31d59b=[_0x2ca597[_0x222959(0x106)],_0x2ca597[_0x222959(0xf8)],_0x2ca597[_0x222959(0x156)],_0x2ca597['rxBEO'],_0x2ca597['VicBn'],_0x2ca597['PxjSz'],_0x2ca597[_0x222959(0xd7)]];for(let _0x56c9a8=0x0;_0x2ca597[_0x222959(0x120)](_0x56c9a8,_0x31d59b['length']);_0x56c9a8++){const _0x91ee80=a30_0x9ee17[_0x222959(0x108)][_0x222959(0x123)]['bind'](a30_0x9ee17),_0x1dfc27=_0x31d59b[_0x56c9a8],_0x2230e6=_0x339d12[_0x1dfc27]||_0x91ee80;_0x91ee80['__proto__']=a30_0x9ee17[_0x222959(0x117)](a30_0x9ee17),_0x91ee80['toString']=_0x2230e6[_0x222959(0x112)]['bind'](_0x2230e6),_0x339d12[_0x1dfc27]=_0x91ee80;}});a30_0x1c5e2b();import{collection,doc,getDoc,getDocs,updateDoc,setDoc,deleteDoc,writeBatch,query,where,serverTimestamp,addDoc}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db,auth}from'./firebase-config.js';import{recordEloChange}from'./elo-history.js';import{promotionManager,checkAndRecordPromotion}from'./promotions.js';import{isAdmin}from'./admin-check.js';export function calculateElo(_0x9b7b8c,_0x2cb23e,_0x50a474=0x20){const _0x2f0207=a30_0x5588,_0x20f270={};_0x20f270[_0x2f0207(0xdd)]=function(_0x310378,_0x23e776){return _0x310378+_0x23e776;},_0x20f270[_0x2f0207(0xda)]=function(_0x4664a7,_0x4a13e2){return _0x4664a7/_0x4a13e2;},_0x20f270['gwrvt']=function(_0xaecf6,_0x11c698){return _0xaecf6-_0x11c698;},_0x20f270[_0x2f0207(0x10d)]=function(_0x135492,_0xade427){return _0x135492/_0xade427;},_0x20f270[_0x2f0207(0x10f)]=function(_0xca1411,_0x281a46){return _0xca1411+_0x281a46;},_0x20f270['yVPLK']=function(_0x5679fa,_0x1def70){return _0x5679fa*_0x1def70;},_0x20f270[_0x2f0207(0xc2)]=function(_0x2ffaea,_0x3922b4){return _0x2ffaea+_0x3922b4;},_0x20f270[_0x2f0207(0x14f)]=function(_0xc0863f,_0x557fa7){return _0xc0863f-_0x557fa7;};const _0x22339f=_0x20f270,_0x453639=0x1/_0x22339f[_0x2f0207(0xdd)](0x1,Math[_0x2f0207(0x161)](0xa,_0x22339f[_0x2f0207(0xda)](_0x22339f['gwrvt'](_0x2cb23e,_0x9b7b8c),0x190))),_0x2344c4=_0x22339f[_0x2f0207(0x10d)](0x1,0x1+Math['pow'](0xa,_0x22339f[_0x2f0207(0x10d)](_0x9b7b8c-_0x2cb23e,0x190))),_0x5353e1=_0x22339f[_0x2f0207(0x10f)](_0x9b7b8c,_0x22339f['yVPLK'](_0x50a474,0x1-_0x453639)),_0x58f029=_0x22339f[_0x2f0207(0xc2)](_0x2cb23e,_0x22339f[_0x2f0207(0x155)](_0x50a474,_0x22339f[_0x2f0207(0x14f)](0x0,_0x2344c4)));return{'newWinnerRating':Math['round'](_0x5353e1),'newLoserRating':Math[_0x2f0207(0x147)](_0x58f029)};}export function assignDefaultEloRating(_0x5a4774,_0x3183fb){const _0x180341=a30_0x5588,_0x1a7fee={};_0x1a7fee[_0x180341(0x14b)]=function(_0x10334d,_0x1bbb17){return _0x10334d/_0x1bbb17;},_0x1a7fee[_0x180341(0xd2)]=function(_0x39ea91,_0x214270){return _0x39ea91/_0x214270;},_0x1a7fee[_0x180341(0x148)]=function(_0x4cda1e,_0x50a2d5){return _0x4cda1e-_0x50a2d5;},_0x1a7fee[_0x180341(0xf6)]=function(_0x4410ea,_0x2d857d){return _0x4410ea+_0x2d857d;},_0x1a7fee[_0x180341(0xf4)]=function(_0x2de216,_0x1ac04b){return _0x2de216-_0x1ac04b;},_0x1a7fee[_0x180341(0x122)]=function(_0x257a85,_0x38be0f){return _0x257a85*_0x38be0f;},_0x1a7fee[_0x180341(0x10a)]=function(_0x404f2a,_0x4f796a){return _0x404f2a===_0x4f796a;},_0x1a7fee[_0x180341(0xe5)]=_0x180341(0xc8),_0x1a7fee['MMFHB']='Error\x20assigning\x20default\x20ELO\x20rating:';const _0x5c722e=_0x1a7fee,_0x55c442=0x4b0;if(!_0x3183fb['eloRating']){const _0x29ceef={};_0x29ceef[_0x180341(0x16c)]=_0x55c442,db[_0x180341(0xcd)](_0x180341(0x116))[_0x180341(0x139)](_0x5a4774)[_0x180341(0x13b)](_0x29ceef)[_0x180341(0x127)](()=>{const _0x4c76e7=_0x180341,_0x22b5c6={'OQOOs':function(_0x13f46f,_0x3ebdf6){const _0x887e2e=a30_0x5588;return _0x5c722e[_0x887e2e(0x14b)](_0x13f46f,_0x3ebdf6);},'QnQMP':function(_0x22fb86,_0x5110ef){return _0x5c722e['CmEua'](_0x22fb86,_0x5110ef);},'YdxNf':function(_0x17de52,_0x457b60){const _0x5823fc=a30_0x5588;return _0x5c722e[_0x5823fc(0x148)](_0x17de52,_0x457b60);},'uYohA':function(_0xa36ffa,_0x213e90){const _0x22d3a5=a30_0x5588;return _0x5c722e[_0x22d3a5(0xf6)](_0xa36ffa,_0x213e90);},'rQkrz':function(_0x529782,_0x4ceede){return _0x5c722e['vxqhm'](_0x529782,_0x4ceede);},'DkLcG':function(_0x2d905e,_0x4fc639){const _0x4dcec1=a30_0x5588;return _0x5c722e[_0x4dcec1(0x122)](_0x2d905e,_0x4fc639);},'PNDcJ':function(_0x24beb4,_0x594316){return _0x24beb4+_0x594316;},'YrYSV':function(_0x14ae46,_0x259998){const _0x44e841=a30_0x5588;return _0x5c722e[_0x44e841(0x148)](_0x14ae46,_0x259998);}};if(_0x5c722e[_0x4c76e7(0x10a)](_0x5c722e['uctqK'],_0x5c722e['uctqK']))console['log'](_0x4c76e7(0x111)+_0x3183fb[_0x4c76e7(0x12d)]);else{const _0x1cab76=_0x22b5c6[_0x4c76e7(0x119)](0x1,0x1+_0x2ca026[_0x4c76e7(0x161)](0xa,_0x22b5c6[_0x4c76e7(0xef)](_0x22b5c6[_0x4c76e7(0x11a)](_0x5a2dcb,_0x13961b),0x190))),_0xf7895c=_0x22b5c6[_0x4c76e7(0x119)](0x1,_0x22b5c6['uYohA'](0x1,_0x3fc73f['pow'](0xa,_0x22b5c6[_0x4c76e7(0xef)](_0x22b5c6['rQkrz'](_0x33b48f,_0x431c2d),0x190)))),_0x39be3e=_0x22b5c6[_0x4c76e7(0xe0)](_0x4cfa02,_0x22b5c6[_0x4c76e7(0x132)](_0x3e6ee6,_0x22b5c6[_0x4c76e7(0xf3)](0x1,_0x1cab76))),_0x3484f4=_0x22b5c6[_0x4c76e7(0xd4)](_0x513988,_0x31fb3e*_0x22b5c6[_0x4c76e7(0x145)](0x0,_0xf7895c));return{'newWinnerRating':_0x3482a9[_0x4c76e7(0x147)](_0x39be3e),'newLoserRating':_0x5c9375[_0x4c76e7(0x147)](_0x3484f4)};}})[_0x180341(0xed)](_0x5176a9=>{const _0x5eab5d=_0x180341;console[_0x5eab5d(0x118)](_0x5c722e[_0x5eab5d(0xee)],_0x5176a9);});}}export async function updateEloRatings(_0x13c31a,_0x22f15d,_0x721999){const _0x12f192=a30_0x5588,_0x220f0f={'eApZt':_0x12f192(0x116),'ZcZGl':function(_0x4aa835,_0x574926){return _0x4aa835(_0x574926);},'ERfjM':function(_0x5cdfc7,_0x1843cf){return _0x5cdfc7>_0x1843cf;},'Fdtww':function(_0xeaee6d,_0x37512a){return _0xeaee6d!==_0x37512a;},'BSoMc':_0x12f192(0x15d),'gUSDO':function(_0x4a2a7e,_0x51a39b){return _0x4a2a7e+_0x51a39b;},'tLQPA':function(_0x1f972b,_0x492624,_0x3f5215,_0x13db7b){return _0x1f972b(_0x492624,_0x3f5215,_0x13db7b);},'EiYHt':function(_0x4f99ad,_0x4246ba,_0x5b6807){return _0x4f99ad(_0x4246ba,_0x5b6807);},'gEsTQ':_0x12f192(0x13a),'saoJi':function(_0x44c8b7,_0x4658ad){return _0x44c8b7+_0x4658ad;},'Uvdnb':function(_0x2aefe9,_0x447f24){return _0x2aefe9===_0x447f24;},'wCpCO':_0x12f192(0xcf),'bdrFb':_0x12f192(0xdb),'DSvPD':function(_0x167091){return _0x167091();},'VFyTw':_0x12f192(0x125),'VtgqM':function(_0x2a2742,_0x530c34){return _0x2a2742(_0x530c34);},'PRKhT':_0x12f192(0xfd),'oYSwV':'loss','WhpkA':_0x12f192(0xe6),'WNOEY':_0x12f192(0xf9),'GtRLo':_0x12f192(0x103)};try{const _0x599460=writeBatch(db),_0x3d8120=doc(db,_0x220f0f['eApZt'],_0x13c31a),_0xd9b90e=doc(db,_0x12f192(0x116),_0x22f15d),[_0x4199e3,_0x21f476]=await Promise['all']([getDoc(_0x3d8120),_0x220f0f[_0x12f192(0x13e)](getDoc,_0xd9b90e)]);if(!_0x4199e3[_0x12f192(0xd5)]()||!_0x21f476[_0x12f192(0xd5)]())throw new Error(_0x12f192(0x12b));const _0x5c22e6=_0x4199e3[_0x12f192(0x133)](),_0x28895c=_0x21f476[_0x12f192(0x133)](),_0x244933=_0x5c22e6[_0x12f192(0x13a)]||Number[_0x12f192(0x16b)],_0x2565de=_0x28895c[_0x12f192(0x13a)]||Number[_0x12f192(0x16b)],{newWinnerRating:_0x2b2996,newLoserRating:_0x11febf}=calculateElo(_0x5c22e6['eloRating']||0x4b0,_0x28895c[_0x12f192(0x16c)]||0x4b0);let _0xe0b4e4=_0x244933,_0x143e84=_0x2565de;if(_0x220f0f['ERfjM'](_0x244933,_0x2565de)){if(_0x220f0f[_0x12f192(0x143)](_0x220f0f[_0x12f192(0x162)],_0x220f0f['BSoMc'])){const _0x32ade6={};_0x32ade6[_0x12f192(0x16c)]=_0x280389,_0x15dfc9['collection'](_0x220f0f[_0x12f192(0x101)])[_0x12f192(0x139)](_0x238f25)['update'](_0x32ade6)['then'](()=>{const _0x2fa775=_0x12f192;_0x34fe1d[_0x2fa775(0xc6)](_0x2fa775(0x111)+_0x592a0a[_0x2fa775(0x12d)]);})[_0x12f192(0xed)](_0x44338a=>{const _0x5403fb=_0x12f192;_0x54f405[_0x5403fb(0x118)](_0x5403fb(0x105),_0x44338a);});}else{console[_0x12f192(0xc6)](_0x12f192(0xc5)),_0xe0b4e4=_0x2565de,_0x143e84=_0x220f0f['gUSDO'](_0x2565de,0x1);const _0x58904e=_0x220f0f[_0x12f192(0xd1)](query,_0x220f0f[_0x12f192(0xeb)](collection,db,'players'),where(_0x220f0f[_0x12f192(0xfa)],'>',_0x2565de),where(_0x220f0f[_0x12f192(0xfa)],'<',_0x244933)),_0xa091b1=await _0x220f0f[_0x12f192(0x13e)](getDocs,_0x58904e);for(const _0x2a52df of _0xa091b1[_0x12f192(0x15a)]){_0x2a52df['id']!==_0x13c31a&&_0x2a52df['id']!==_0x22f15d&&_0x599460['update'](doc(db,_0x220f0f['eApZt'],_0x2a52df['id']),{'position':_0x220f0f['saoJi'](_0x2a52df[_0x12f192(0x133)]()[_0x12f192(0x13a)],0x1)});}}}else _0x220f0f[_0x12f192(0x159)](_0x12f192(0xcf),_0x220f0f[_0x12f192(0xea)])?console[_0x12f192(0xc6)](_0x220f0f['bdrFb']):_0x45f387[_0x12f192(0xc6)](_0x12f192(0x111)+_0x469def[_0x12f192(0x12d)]);const _0x48072d={'eloRating':_0x2b2996,'lastMatchDate':_0x220f0f[_0x12f192(0xec)](serverTimestamp),'position':_0xe0b4e4,'lastMatchId':_0x721999},_0x2797b0={'eloRating':_0x11febf,'lastMatchDate':_0x220f0f[_0x12f192(0xec)](serverTimestamp),'position':_0x143e84,'lastMatchId':_0x721999};_0x599460[_0x12f192(0x13b)](_0x3d8120,_0x48072d),_0x599460[_0x12f192(0x13b)](_0xd9b90e,_0x2797b0),await _0x599460[_0x12f192(0x131)](),console[_0x12f192(0xc6)](_0x220f0f['VFyTw']),await Promise[_0x12f192(0x12c)]([_0x220f0f[_0x12f192(0xc4)](recordEloChange,{'playerId':_0x13c31a,'previousElo':_0x5c22e6['eloRating']||0x4b0,'newElo':_0x2b2996,'opponentId':_0x22f15d,'matchResult':_0x220f0f[_0x12f192(0x164)],'previousPosition':_0x244933,'newPosition':_0xe0b4e4,'isPromotion':_0xe0b4e4<_0x244933,'matchId':_0x721999,'timestamp':serverTimestamp()}),_0x220f0f[_0x12f192(0xc4)](recordEloChange,{'playerId':_0x22f15d,'previousElo':_0x28895c[_0x12f192(0x16c)]||0x4b0,'newElo':_0x11febf,'opponentId':_0x13c31a,'matchResult':_0x220f0f[_0x12f192(0x166)],'previousPosition':_0x2565de,'newPosition':_0x143e84,'isDemotion':_0x143e84>_0x2565de,'matchId':_0x721999,'timestamp':_0x220f0f['DSvPD'](serverTimestamp)})]);const _0x378f58={};_0x378f58[_0x12f192(0x12e)]=_0x220f0f[_0x12f192(0xdc)],_0x378f58[_0x12f192(0x124)]=_0x721999,await promotionManager[_0x12f192(0x137)](_0x13c31a,_0x2b2996,_0x5c22e6[_0x12f192(0x16c)],_0x378f58);const _0x2f2202={};return _0x2f2202[_0x12f192(0x12e)]=_0x220f0f[_0x12f192(0xdc)],_0x2f2202['matchId']=_0x721999,await promotionManager[_0x12f192(0x137)](_0x22f15d,_0x11febf,_0x28895c[_0x12f192(0x16c)],_0x2f2202),console['log'](_0x220f0f[_0x12f192(0xcb)]),!![];}catch(_0x378673){console[_0x12f192(0x118)](_0x220f0f['GtRLo'],_0x378673);throw _0x378673;}}function a30_0x5588(_0x56662a,_0xeb4b3a){const _0x7b04a7=a30_0x5487();return a30_0x5588=function(_0x1c5e2b,_0x9ee17){_0x1c5e2b=_0x1c5e2b-0xc2;let _0x3eefe9=_0x7b04a7[_0x1c5e2b];if(a30_0x5588['jBoPdP']===undefined){var _0x2c9ca3=function(_0x55881d){const _0x4b3e6e='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x3259ec='',_0xe5eb43='',_0x194b96=_0x3259ec+_0x2c9ca3;for(let _0x38c08a=0x0,_0xa4b3c9,_0x5ae73d,_0x33694b=0x0;_0x5ae73d=_0x55881d['charAt'](_0x33694b++);~_0x5ae73d&&(_0xa4b3c9=_0x38c08a%0x4?_0xa4b3c9*0x40+_0x5ae73d:_0x5ae73d,_0x38c08a++%0x4)?_0x3259ec+=_0x194b96['charCodeAt'](_0x33694b+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0xa4b3c9>>(-0x2*_0x38c08a&0x6)):_0x38c08a:0x0){_0x5ae73d=_0x4b3e6e['indexOf'](_0x5ae73d);}for(let _0xa72846=0x0,_0x3ecac0=_0x3259ec['length'];_0xa72846<_0x3ecac0;_0xa72846++){_0xe5eb43+='%'+('00'+_0x3259ec['charCodeAt'](_0xa72846)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0xe5eb43);};a30_0x5588['zagSuW']=_0x2c9ca3,_0x56662a=arguments,a30_0x5588['jBoPdP']=!![];}const _0x3c0279=_0x7b04a7[0x0],_0xf62201=_0x1c5e2b+_0x3c0279,_0x5487df=_0x56662a[_0xf62201];if(!_0x5487df){const _0x4be279=function(_0x4a43da){this['VHXpEG']=_0x4a43da,this['VuigEg']=[0x1,0x0,0x0],this['tscUZX']=function(){return'newState';},this['lTTHcj']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['SQDpXq']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x4be279['prototype']['cDIXbv']=function(){const _0x17a8f8=new RegExp(this['lTTHcj']+this['SQDpXq']),_0x4b6be7=_0x17a8f8['test'](this['tscUZX']['toString']())?--this['VuigEg'][0x1]:--this['VuigEg'][0x0];return this['nnJNOw'](_0x4b6be7);},_0x4be279['prototype']['nnJNOw']=function(_0x200976){if(!Boolean(~_0x200976))return _0x200976;return this['lfTkLB'](this['VHXpEG']);},_0x4be279['prototype']['lfTkLB']=function(_0x3c44a7){for(let _0x2e9172=0x0,_0xc47d8c=this['VuigEg']['length'];_0x2e9172<_0xc47d8c;_0x2e9172++){this['VuigEg']['push'](Math['round'](Math['random']())),_0xc47d8c=this['VuigEg']['length'];}return _0x3c44a7(this['VuigEg'][0x0]);},new _0x4be279(a30_0x5588)['cDIXbv'](),_0x3eefe9=a30_0x5588['zagSuW'](_0x3eefe9),_0x56662a[_0xf62201]=_0x3eefe9;}else _0x3eefe9=_0x5487df;return _0x3eefe9;},a30_0x5588(_0x56662a,_0xeb4b3a);}export async function approveReport(_0x3d2794,_0x189c10,_0x54b623,_0x482000,_0x2c85a){const _0x5ca3a0=a30_0x5588,_0x18cb52={'NRnzM':function(_0x5adc7e,_0xe2bf2d){return _0x5adc7e!==_0xe2bf2d;},'mNfhE':'NMBPS','sHNbP':_0x5ca3a0(0xe2),'twBJf':function(_0x3d30e8,_0x390134,_0x29b440,_0x454181){return _0x3d30e8(_0x390134,_0x29b440,_0x454181);},'nTofH':_0x5ca3a0(0x150),'Bchyb':function(_0x2fa9cd,_0x4ce71b){return _0x2fa9cd(_0x4ce71b);},'BuXdB':'Report\x20not\x20found','MHwvA':function(_0x43b6a8){return _0x43b6a8();},'MujgD':function(_0x8c561f,_0xb0c235,_0x3c27b6){return _0x8c561f(_0xb0c235,_0x3c27b6);},'dPnAh':'approvedMatches','xUUkN':_0x5ca3a0(0x100),'salRT':function(_0x459ad2,_0x552524,_0x1b81f2){return _0x459ad2(_0x552524,_0x1b81f2);},'xozrB':_0x5ca3a0(0x116),'TudyJ':_0x5ca3a0(0x12d),'QTVLL':function(_0x119b49,_0x335c61,_0x331362){return _0x119b49(_0x335c61,_0x331362);},'XkFuZ':_0x5ca3a0(0xfb),'EFUJY':_0x5ca3a0(0xf0),'BNfgq':_0x5ca3a0(0x14a)};try{if(_0x18cb52[_0x5ca3a0(0x167)](_0x18cb52[_0x5ca3a0(0x15e)],_0x18cb52[_0x5ca3a0(0xe9)])){const _0x918d8c=_0x18cb52[_0x5ca3a0(0xd3)](doc,db,_0x18cb52[_0x5ca3a0(0x16d)],_0x3d2794),_0x2057f0=await _0x18cb52[_0x5ca3a0(0x14e)](getDoc,_0x918d8c);if(!_0x2057f0[_0x5ca3a0(0xd5)]())throw new Error(_0x18cb52[_0x5ca3a0(0x104)]);const _0x363796=_0x2057f0['data'](),_0x409568={..._0x363796,'winnerScore':_0x189c10,'winnerSuicides':_0x54b623,'winnerComment':_0x482000,'winnerDemoLink':_0x2c85a,'approved':!![],'approvedAt':_0x18cb52[_0x5ca3a0(0x169)](serverTimestamp),'approvedBy':auth[_0x5ca3a0(0x13f)][_0x5ca3a0(0x160)]};await _0x18cb52[_0x5ca3a0(0x128)](setDoc,doc(db,_0x18cb52['dPnAh'],_0x3d2794),_0x409568),await deleteDoc(_0x918d8c),console[_0x5ca3a0(0xc6)](_0x18cb52[_0x5ca3a0(0x114)]);const [_0x385b81,_0x31ca1f]=await Promise[_0x5ca3a0(0x12c)]([getDocs(_0x18cb52[_0x5ca3a0(0xdf)](query,_0x18cb52[_0x5ca3a0(0x128)](collection,db,_0x18cb52['xozrB']),where(_0x18cb52[_0x5ca3a0(0xe4)],'==',_0x363796[_0x5ca3a0(0xce)]))),getDocs(query(_0x18cb52[_0x5ca3a0(0x140)](collection,db,_0x18cb52['xozrB']),where(_0x18cb52['TudyJ'],'==',_0x363796['loserUsername'])))]);if(_0x385b81[_0x5ca3a0(0x107)]||_0x31ca1f[_0x5ca3a0(0x107)])throw new Error(_0x18cb52['XkFuZ']);const _0x2b9e00=_0x385b81['docs'][0x0]['id'],_0x579d45=_0x31ca1f[_0x5ca3a0(0x15a)][0x0]['id'];return await updateEloRatings(_0x2b9e00,_0x579d45,_0x3d2794),console[_0x5ca3a0(0xc6)](_0x18cb52[_0x5ca3a0(0xd0)]),!![];}else{const _0x46ac75=_0x5ea6ec[_0x5ca3a0(0xf2)](_0x36c77b,arguments);return _0x12be9f=null,_0x46ac75;}}catch(_0x457050){console[_0x5ca3a0(0x118)](_0x18cb52[_0x5ca3a0(0x10b)],_0x457050);throw _0x457050;}}async function updatePlayerElo(_0x2d34dc,_0xf89f70,_0x3e7ca0){const _0x4be0c4=a30_0x5588,_0x4c7e3d={'gEuum':function(_0x7630b2,_0x19e680,_0x282904){return _0x7630b2(_0x19e680,_0x282904);},'sWmMQ':_0x4be0c4(0x116)},_0x73cec4={...playerData};_0x73cec4[_0x4be0c4(0x16c)]=_0x3e7ca0,await _0x4c7e3d[_0x4be0c4(0xc9)](setDoc,doc(db,_0x4c7e3d[_0x4be0c4(0x146)],_0x2d34dc),_0x73cec4),await checkAndRecordPromotion(_0x2d34dc,_0x3e7ca0,_0xf89f70);}async function updatePlayerStats(_0x21f8e5,_0x471d84,_0x41f56c){const _0x5e52ad=a30_0x5588,_0x1f5e3f={'MxjWg':function(_0x1dd987,_0x5b2e41,_0x5eb929,_0x51b951){return _0x1dd987(_0x5b2e41,_0x5eb929,_0x51b951);},'DwuRs':_0x5e52ad(0x11c),'ICAgM':function(_0x23f242,_0x3c878b){return _0x23f242(_0x3c878b);},'wKVaI':function(_0x44fd92,_0x314c37){return _0x44fd92+_0x314c37;},'XfJKx':function(_0x570e65,_0x4a2111){return _0x570e65*_0x4a2111;},'OFMUz':function(_0xf19c82,_0x5a35c4){return _0xf19c82/_0x5a35c4;}},_0x117286=_0x1f5e3f[_0x5e52ad(0x126)](doc,db,_0x1f5e3f[_0x5e52ad(0x110)],_0x21f8e5),_0x3eeb53=await _0x1f5e3f[_0x5e52ad(0xf1)](getDoc,_0x117286),_0x2dc6ff={};_0x2dc6ff[_0x5e52ad(0xcc)]=0x0,_0x2dc6ff[_0x5e52ad(0x15b)]=0x0,_0x2dc6ff[_0x5e52ad(0x16a)]=0x0,_0x2dc6ff[_0x5e52ad(0xe1)]=0x0,_0x2dc6ff['winRate']=0x0;let _0x5e1277=_0x3eeb53['exists']()?_0x3eeb53[_0x5e52ad(0x133)]():_0x2dc6ff;_0x41f56c?(_0x5e1277[_0x5e52ad(0xcc)]++,_0x5e1277['totalKills']+=parseInt(_0x471d84[_0x5e52ad(0xfe)]||0x0),_0x5e1277[_0x5e52ad(0xe1)]+=_0x1f5e3f['ICAgM'](parseInt,_0x471d84['loserScore']||0x0)):(_0x5e1277[_0x5e52ad(0x15b)]++,_0x5e1277[_0x5e52ad(0x16a)]+=_0x1f5e3f['ICAgM'](parseInt,_0x471d84['loserScore']||0x0),_0x5e1277['totalDeaths']+=_0x1f5e3f[_0x5e52ad(0xf1)](parseInt,_0x471d84[_0x5e52ad(0xfe)]||0x0));const _0x3b162b=_0x1f5e3f[_0x5e52ad(0xf7)](_0x5e1277[_0x5e52ad(0xcc)],_0x5e1277[_0x5e52ad(0x15b)]);_0x5e1277[_0x5e52ad(0x141)]=_0x3b162b>0x0?_0x1f5e3f['XfJKx'](_0x1f5e3f[_0x5e52ad(0xc3)](_0x5e1277[_0x5e52ad(0xcc)],_0x3b162b),0x64)['toFixed'](0x1):0x0,_0x5e1277['lastUpdated']=new Date()['toISOString']();const _0x5b792e={};_0x5b792e[_0x5e52ad(0x11e)]=!![],await setDoc(_0x117286,_0x5e1277,_0x5b792e);}function a30_0x5487(){const _0xaf9387=['mJeYndu2wuTku3Pv','qMnOEwi','C1jLvKe','CgvUzgLUz01HDgnOzxm','ExbRt2i','mtG5mZa5nLbXsu5Nvq','CMv0DxjUicHMDw5JDgLVBIGPia','x19WCM90B19F','EvzqteS','Bvbbz1a','mtu5nJq1y1jUr0Pp','mti2odq5mgjuEufgqW','vxzKBMi','zg9JCW','Bg9ZC2vZ','vK9KCLK','zg5IsKS','Bu5MAeu','mtq3mZaWB2vlyNLN','DwLK','Cg93','qLnVtwm','kcGOlISPkYKRksSK','ufjlAfq','txzZBxu','B1LtD1y','tLjUEK0','qvHgEw4','tuH3DKe','Dg90ywXlAwXSCW','tufyx1nbrKvFsu5uruDfuG','zwXVuMf0Aw5N','BLrVzKG','rezbAvO','t0znvxO','vNrNCu0','ug9ZAxrPB24GC3DHCcbUzwvKzwqGlsb3Aw5UzxiGD2fZigXVD2vYihjHBMTLza','Bg9N','vhLQAhO','zNvltwq','z0v1Dw0','v3nrvem','v05prvK','D2LUCW','y29SBgvJDgLVBG','D2LUBMvYvxnLCM5HBwu','tvzeu2y','ruzvsLK','DeXruee','q21fDwe','DhDcsMy','ue5ey0O','zxHPC3rZ','vgXhweO','AgL2rfy','v2TRsLe','Ahvnu1y','EgTkBfK','v2LUBMvYigfSCMvHzhKGCMfUA2vKigHPz2HLCIaTigTLzxbPBMCGCg9ZAxrPB25Z','v2HWA0e','EKDSqMO','DgfIBgu','C2fSuLq','DvLVAee','Dg90ywXezwf0Ahm','CNfrwgi','y2Xhrxa','vhvKEuO','Dwn0CuS','Bwf0y2G','oti3otiXCgvZAfzZ','zffQBK4','C0HoyLa','D0nWq08','rwLzshq','rfn2ueq','y2f0y2G','tu1gsei','uw5rtva','twf0y2GGC3vJy2vZC2z1BgX5igfWChjVDMvKigfUzcbfte8GDxbKyxrLza','sunbz00','yxbWBhK','CLfRCNO','DNHXAg0','y0fLuwu','r0X2reW','D0TwyuK','vg15sKu','ruXpihjHDgLUz3mGyw5KihbVC2L0Aw9UCYb1CgrHDgvKihn1y2nLC3nMDwXSEq','z0vZvfe','q291BgqGBM90igzPBMqGCgXHEwvYigrVy3vTzw50CW','zMXwthC','D2LU','D2LUBMvYu2nVCMu','BujRsvy','twf0y2GGBw92zwqGDg8GyxbWCM92zwqGy29SBgvJDgLVBG','zufWwNq','mNnuzKfpDa','rxjYB3iGAw4GDxbKyxrLrwXVuMf0Aw5NCZO','qNvyzei','rxjYB3iGyxnZAwDUAw5NigrLzMf1BhqGruXpihjHDgLUzZO','qw5IvfO','zw1WDhK','y29UC3rYDwn0B3i','qMLMt1K','uNrOweq','qK5Mz3e','D2fYBG','zuTACwm','mJjozgvXAfG','uvDItuG','rhD1uNm','qxnZAwDUzwqGzgvMyxvSDcbfte8GCMf0Aw5NihrVihbSyxLLCIa','Dg9tDhjPBMC','y29UC29Szq','EfvvA04','BgvUz3rO','CgXHEwvYCW','yMLUza','zxjYB3i','t1fpt3m','wwr4tMy','DhjHy2u','CgXHEwvYu3rHDhm','C2vHCMnO','BwvYz2u','uvHwqu4','z1bktuW','nvvwv3zPuG','vgznvK4','ChjVDg90ExbL','Bwf0y2Hjza','ruXpihjHDgLUz3mGDxbKyxrLzcbZDwnJzxnZzNvSBhK','txHQv2C','DgHLBG','txvQz0q','v2LxAhG','zxHJzxb0Aw9U','t25Lig9YigjVDgGGCgXHEwvYCYbUB3qGzM91BMq','ywXS','DxnLCM5HBwu','C291CMnL','ndy0mZHQtwryD3O','ndi0CgHlDxbM','y29TBwL0','rgTmy0C','zgf0yq','wfn3tfC','qunMwxG','u29tA2i','y2HLy2TbBMrszwnVCMrqCM9TB3rPB24','CuXPCLO','zg9J','Cg9ZAxrPB24','DxbKyxrL','z0jIB0e','wMDSwvO','wMnAr2W','y3vYCMvUDfvZzxi','uvrwteW','D2LUuMf0zq','CMnwtfK','rMr0D3C','E30Uy29UC3rYDwn0B3iOiNjLDhvYBIb0AgLZiIKOicK','wxjzu1y','C1DTtve','CM91BMq','BuHSvxq','Aw5MBW','rxjYB3iGyxbWCM92Aw5NihjLCg9YDdO','wLvnBKm','BhL1uM0'];a30_0x5487=function(){return _0xaf9387;};return a30_0x5487();}