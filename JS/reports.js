const a48_0x3a420f=a48_0x9b03;(function(_0x3ad3b6,_0x79d687){const _0x13a651=a48_0x9b03,_0x320b4b=_0x3ad3b6();while(!![]){try{const _0xb981bf=-parseInt(_0x13a651(0x299))/0x1*(parseInt(_0x13a651(0x21b))/0x2)+parseInt(_0x13a651(0x274))/0x3*(-parseInt(_0x13a651(0x23b))/0x4)+-parseInt(_0x13a651(0x2fa))/0x5+parseInt(_0x13a651(0x271))/0x6+parseInt(_0x13a651(0x2fe))/0x7+parseInt(_0x13a651(0x296))/0x8+-parseInt(_0x13a651(0x2e1))/0x9*(-parseInt(_0x13a651(0x1fa))/0xa);if(_0xb981bf===_0x79d687)break;else _0x320b4b['push'](_0x320b4b['shift']());}catch(_0x2c4f07){_0x320b4b['push'](_0x320b4b['shift']());}}}(a48_0x4176,0x9c939));const a48_0x4eb55c=(function(){let _0x52fef5=!![];return function(_0x25b37a,_0x40d2ff){const _0x2ff01d=_0x52fef5?function(){const _0x51ca2b=a48_0x9b03;if(_0x40d2ff){const _0x374fa5=_0x40d2ff[_0x51ca2b(0x249)](_0x25b37a,arguments);return _0x40d2ff=null,_0x374fa5;}}:function(){};return _0x52fef5=![],_0x2ff01d;};}()),a48_0x50298d=a48_0x4eb55c(this,function(){const _0x24d689=a48_0x9b03;return a48_0x50298d[_0x24d689(0x207)]()[_0x24d689(0x2d5)](_0x24d689(0x2f8))[_0x24d689(0x207)]()[_0x24d689(0x239)](a48_0x50298d)[_0x24d689(0x2d5)](_0x24d689(0x2f8));});a48_0x50298d();function a48_0x9b03(_0x3f2fcb,_0x33f898){const _0x32acbb=a48_0x4176();return a48_0x9b03=function(_0x5bbeb8,_0x3d5c0e){_0x5bbeb8=_0x5bbeb8-0x1ee;let _0xd362d7=_0x32acbb[_0x5bbeb8];return _0xd362d7;},a48_0x9b03(_0x3f2fcb,_0x33f898);}const a48_0x3d5c0e=(function(){let _0x210abc=!![];return function(_0x274dd9,_0x2b62b2){const _0x574cf2=_0x210abc?function(){const _0x418740=a48_0x9b03;if(_0x2b62b2){const _0x263e02=_0x2b62b2[_0x418740(0x249)](_0x274dd9,arguments);return _0x2b62b2=null,_0x263e02;}}:function(){};return _0x210abc=![],_0x574cf2;};}()),a48_0x5bbeb8=a48_0x3d5c0e(this,function(){const _0x3d7aa8=a48_0x9b03;let _0x45d7c9;try{const _0x30115b=Function(_0x3d7aa8(0x28e)+_0x3d7aa8(0x21d)+');');_0x45d7c9=_0x30115b();}catch(_0x2b429f){_0x45d7c9=window;}const _0x2cf3b6=_0x45d7c9[_0x3d7aa8(0x275)]=_0x45d7c9[_0x3d7aa8(0x275)]||{},_0x5159f3=[_0x3d7aa8(0x247),_0x3d7aa8(0x1f3),'info','error',_0x3d7aa8(0x24d),_0x3d7aa8(0x2d2),_0x3d7aa8(0x278)];for(let _0x10f0d9=0x0;_0x10f0d9<_0x5159f3[_0x3d7aa8(0x255)];_0x10f0d9++){const _0x59c0dd=a48_0x3d5c0e[_0x3d7aa8(0x239)][_0x3d7aa8(0x2ed)]['bind'](a48_0x3d5c0e),_0x372f29=_0x5159f3[_0x10f0d9],_0x4eb83b=_0x2cf3b6[_0x372f29]||_0x59c0dd;_0x59c0dd[_0x3d7aa8(0x25d)]=a48_0x3d5c0e['bind'](a48_0x3d5c0e),_0x59c0dd[_0x3d7aa8(0x207)]=_0x4eb83b['toString'][_0x3d7aa8(0x24e)](_0x4eb83b),_0x2cf3b6[_0x372f29]=_0x59c0dd;}});a48_0x5bbeb8();import{approveReport}from'./ladderalgorithm.js';function a48_0x4176(){const _0x315ddd=['color','constructor','\x20rejected\x20successfully','6432VLtSXZ','loserId','No\x20matches\x20found\x20by\x20winnerId,\x20trying\x20winnerEmail','target','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22match-detail-item\x22>Score:\x20?\x20-\x20','Elements\x20object\x20is\x20null\x20or\x20undefined','fetchOutstandingMatches',',\x20switching\x20to\x20','selected','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','winnerUsername','lightbox-loser-score','log','add','apply','Match\x20report\x20not\x20found','remove','Checking\x20if\x20user\x20exists\x20in\x20collection:\x20','exception','bind','Report\x20Game','Non-participant\x20check:','loser-comment','cancel-button','Using\x20collection:\x20','Only\x20the\x20winner\x20of\x20the\x20match\x20can\x20reject\x20it','length','smooth','You\x20(','admin@ladder.com','Reject\x20Match','Winner\x20','Element\x20\x27','Selected\x20opponent\x20not\x20found','__proto__','RejectedD3','\x20with\x20ID:\x20','lightbox-subgame','Error\x20submitting\x20report:','brian2af@outlook.com','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22match-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20view-detail-btn\x22\x20data-id=\x22','white','options','size','dataset','Error\x20loading\x20opponents.\x20Please\x20try\x20again\x20later.','text','border','active','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>','find','winner-suicides','approved','textContent','274542napviK','Failed\x20to\x20rescind\x20report.\x20Please\x20try\x20again.','Winner','1296Cxbclr','console','Required\x20elements\x20not\x20found\x20for\x20loadOpponentsList','winner-comment','trace','btn','readOnly','empty','renderOutstandingMatches','\x20ladder...','prepend','\x20in\x20','\x27\x20not\x20found\x20in\x20the\x20DOM','4px','\x20matches\x20found','report-lightbox','disabled','currentUser','pendingMatchesD2','outstanding-modal','Rejecting\x20match\x20','You\x20must\x20be\x20logged\x20in\x20to\x20reject\x20a\x20match','button','docs','red','scrollIntoView','return\x20(function()\x20','show','none','username','No\x20comment','removeAttribute','display','lightbox-loser','6803456zsIphr','parentNode','#d32f2f','948054Qmdsam','DOMContentLoaded','No\x20pending\x20matches\x20found\x20for\x20this\x20user','Error:\x20','style','Error\x20rejecting\x20match:','type','Error\x20checking\x20outstanding\x20reports:','Are\x20you\x20sure\x20you\x20want\x20to\x20rescind\x20this\x20match\x20report\x20against\x20','subgame-type','gameMode','Report\x20has\x20been\x20successfully\x20updated.','winnerId','Standard\x20Match','\x20to\x20','Report\x20form\x20reset','loser-username','.lightbox-buttons','submit','),\x20Loser:\x20','\x20with\x20username:\x20','isNonParticipant','lightbox-game-mode','data','Cancel\x20Edit','\x20mode','Match\x20approved\x20successfully','eloRating','click','pointer','authWarning','addEventListener','preventDefault','Error\x20processing\x20player\x20data:','className','close-outstanding-btn','subgameType','exists','Game\x20mode\x20set\x20to:\x20','then','reset','lightbox-suicides','Please\x20provide\x20a\x20reason\x20for\x20rejecting\x20this\x20match\x20report:','replaceChild','<option\x20value=\x22\x22>Select\x20Opponent</option>','loserUsername','querySelectorAll','catch','some','appendChild','getAttribute','rescindReport','forEach','No\x20opponents\x20available','message','block','value','table','Match\x20report\x20rejected\x20successfully','getElementById','search','User\x20found\x20in\x20collection\x20','Your\x20player\x20profile\x20not\x20found','borderRadius','Report\x20Data\x20in\x20autoFillReportForm:','entries','Error\x20approving\x20report:','cloneNode','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22match-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22match-detail-item\x22>Map:\x20','showMatchLightbox','report-error','button\x20danger-button','9ebrYty','reportError','Not\x20registered\x20in\x20this\x20ladder','insertBefore','Error\x20rejecting\x20match:\x20','10px','\x20ladder.\x20Checking\x20other\x20ladders.','cursor','Match\x20','opponent','Please\x20select\x20an\x20opponent','position','prototype','Error\x20fetching\x20player\x20data.\x20Please\x20try\x20again.','outstanding-matches-list','Checking\x20reports\x20for\x20user:\x20','data-edit-id','Lightbox\x20element\x20not\x20found','.rescind-report-btn','winner-score','loserSuicides','RejectedD2','lightbox-map','(((.+)+)+)+$','Winner:\x20','3644970nSzlVO','players','d1-mode','toDate','498610JGlGim','Error\x20rescinding\x20report:','<p>No\x20outstanding\x20matches\x20found\x20in\x20the\x20current\x20game\x20mode.</p>','winnerOldElo','playersD2','email','map-played','playersD3','No\x20reason\x20provided','padding','pendingMatchesD3','reject-button','\x20for\x20game\x20mode:\x20','winner-username','nonParticipants','Game\x20reported\x20successfully.','warn','createElement','No\x20winner\x20found\x20for\x20this\x20match','Error\x20fetching\x20outstanding\x20matches:','RejectedD1','innerHTML','classList','20456220pmByYH','Found\x20buttons\x20container:','loserEmail','Query\x20by\x20winnerUsername\x20results:\x20','reload','approve-button','User\x20found\x20in\x20','Error\x20checking\x20non-participant\x20status:','losersOldElo','Game\x20reported\x20successfully!','loser-score','playersDuos','lightbox-comment','toString','No\x20user\x20logged\x20in\x20yet,\x20waiting\x20for\x20auth\x20state\x20change','playersCTF','Error\x20during\x20sign-in\x20handling:','view-outstanding-btn','No\x20loser\x20found\x20for\x20this\x20match','Checking\x20if\x20you\x20are\x20registered\x20in\x20','<option\x20value=\x22\x22>Select\x20Winner</option>','all','mapPlayed','createdAt','You\x20are\x20not\x20registered\x20in\x20the\x20','No\x20matches\x20found\x20by\x20email\x20either,\x20trying\x20winnerUsername','onsubmit','fontWeight','uid','\x20collection:','cancel-edit-btn','option','querySelector','2GRGgcV','push','{}.constructor(\x22return\x20this\x22)(\x20)','User\x20already\x20logged\x20in,\x20checking\x20D1\x20ladder\x20status','Using\x20players\x20collection:\x20','\x20(ELO:\x20','marginRight','report-form','green','Error\x20populating\x20winner\x20dropdown:','Error\x20checking\x20ladder\x20membership.\x20Please\x20try\x20again\x20later.','Error\x20approving\x20match:\x20','d2-mode','suicides','error','pendingMatches','d3-mode','auth-warning','lightbox-winner','Current\x20user\x20info:','User\x20is\x20not\x20in\x20the\x20','\x20ladder.','loserComment','loserScore','User\x20not\x20authenticated','data-id','winnerEmail','onAuthStateChanged','reportForm'];a48_0x4176=function(){return _0x315ddd;};return a48_0x4176();}import{approveReportD2}from'./ladderalgorithm-d2.js';import{approveReportD3}from'./ladderalgorithm-d3.js';import{checkPendingMatches,updatePendingMatchNotification,updateNotificationDot}from'./checkPendingMatches.js';import{collection,getDocs,query,where,orderBy,serverTimestamp,doc,setDoc,getDoc,addDoc,updateDoc,deleteDoc}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{onAuthStateChanged}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';import{auth,db}from'./firebase-config.js';let currentUserEmail=null,confirmationNotification=null,outstandingReportData=null,currentGameMode='D1',outstandingMatches=[];document[a48_0x3a420f(0x2b8)]('DOMContentLoaded',async()=>{const _0x36c859=a48_0x3a420f,_0x40c8a4={'authWarning':document['getElementById']('auth-warning'),'reportForm':document[_0x36c859(0x2d4)](_0x36c859(0x222)),'winnerUsername':document[_0x36c859(0x2d4)](_0x36c859(0x1f0)),'loserUsername':document[_0x36c859(0x2d4)]('loser-username'),'loserScore':document[_0x36c859(0x2d4)](_0x36c859(0x204)),'suicides':document['getElementById']('suicides'),'mapPlayed':document[_0x36c859(0x2d4)](_0x36c859(0x304)),'loserComment':document['getElementById'](_0x36c859(0x251)),'reportError':document[_0x36c859(0x2d4)](_0x36c859(0x2df)),'reportLightbox':document[_0x36c859(0x2d4)](_0x36c859(0x283))};Object[_0x36c859(0x2da)](_0x40c8a4)[_0x36c859(0x2cd)](([_0x194b19,_0x5aec92])=>{const _0x9705ca=_0x36c859;!_0x5aec92&&console['warn'](_0x9705ca(0x25b)+_0x194b19+_0x9705ca(0x280));});const _0x4a977d=document[_0x36c859(0x2d4)](_0x36c859(0x2fc)),_0x58d143=document[_0x36c859(0x2d4)](_0x36c859(0x227)),_0xcb64a5=document['getElementById']('d3-mode');_0x4a977d[_0x36c859(0x2b8)]('click',()=>{const _0x5071a1=_0x36c859;_0x1df8b7('D1'),_0x4a977d[_0x5071a1(0x1f9)][_0x5071a1(0x248)]('active'),_0x58d143['classList'][_0x5071a1(0x24b)]('active'),_0xcb64a5['classList'][_0x5071a1(0x24b)](_0x5071a1(0x26b));}),_0x58d143[_0x36c859(0x2b8)](_0x36c859(0x2b5),()=>{const _0x3e06c9=_0x36c859;_0x1df8b7('D2'),_0x58d143[_0x3e06c9(0x1f9)][_0x3e06c9(0x248)](_0x3e06c9(0x26b)),_0x4a977d['classList'][_0x3e06c9(0x24b)](_0x3e06c9(0x26b)),_0xcb64a5[_0x3e06c9(0x1f9)]['remove'](_0x3e06c9(0x26b));}),_0xcb64a5['addEventListener'](_0x36c859(0x2b5),()=>{const _0x3c627e=_0x36c859;_0x1df8b7('D3'),_0xcb64a5[_0x3c627e(0x1f9)][_0x3c627e(0x248)]('active'),_0x4a977d[_0x3c627e(0x1f9)]['remove'](_0x3c627e(0x26b)),_0x58d143[_0x3c627e(0x1f9)][_0x3c627e(0x24b)]('active');});function _0x1df8b7(_0x352084){const _0x519d6e=_0x36c859;currentGameMode=_0x352084,console[_0x519d6e(0x247)](_0x519d6e(0x2bf)+currentGameMode),auth[_0x519d6e(0x285)]&&checkUserInLadderAndLoadOpponents(auth[_0x519d6e(0x285)][_0x519d6e(0x216)]);}setupAuthStateListener(_0x40c8a4),setupReportForm(_0x40c8a4),auth[_0x36c859(0x285)]?(console[_0x36c859(0x247)](_0x36c859(0x21e)),checkUserInLadderAndLoadOpponents(auth[_0x36c859(0x285)]['uid'])):console[_0x36c859(0x247)](_0x36c859(0x208));});function setupAuthStateListener(_0xbd98b5){onAuthStateChanged(auth,async _0x3ba3ee=>{_0x3ba3ee?handleUserSignedIn(_0x3ba3ee,_0xbd98b5):handleUserSignedOut(_0xbd98b5);});}async function handleUserSignedIn(_0x296c3f,_0x335135){const _0x418821=a48_0x3a420f;if(!_0x335135){console[_0x418821(0x229)](_0x418821(0x240));return;}currentUserEmail=_0x296c3f['email']||null;const _0xdba7f5=_0x296c3f[_0x418821(0x216)];try{const _0x46ea0a=doc(db,_0x418821(0x1f1),_0xdba7f5);try{const _0x113c0e=await getDoc(_0x46ea0a);console[_0x418821(0x247)](_0x418821(0x250),{'exists':_0x113c0e['exists'](),'data':_0x113c0e[_0x418821(0x2be)]()?_0x113c0e[_0x418821(0x2b0)]():null});if(_0x113c0e[_0x418821(0x2be)]()&&_0x113c0e['data']()[_0x418821(0x2ae)]===!![]){_0x335135['authWarning']&&(_0x335135['authWarning'][_0x418821(0x29d)][_0x418821(0x294)]=_0x418821(0x2d0),_0x335135[_0x418821(0x2b7)]['textContent']='Non-participants\x20cannot\x20report\x20games.');_0x335135[_0x418821(0x237)]&&(_0x335135[_0x418821(0x237)]['style'][_0x418821(0x294)]=_0x418821(0x290));return;}}catch(_0x27effd){console[_0x418821(0x1f3)](_0x418821(0x201),_0x27effd);}const _0x5e106b=[_0x418821(0x2fb),_0x418821(0x302),'playersD3',_0x418821(0x205),_0x418821(0x209)];let _0x537fb2=![],_0x53432e='';for(const _0x26ea47 of _0x5e106b){try{const _0x58dc9b=doc(db,_0x26ea47,_0xdba7f5),_0x4287f2=await getDoc(_0x58dc9b);if(_0x4287f2['exists']()){_0x537fb2=!![],_0x53432e=_0x4287f2[_0x418821(0x2b0)]()['username'],console[_0x418821(0x247)](_0x418821(0x2d6)+_0x26ea47+_0x418821(0x2ad)+_0x53432e);if(_0x26ea47===_0x418821(0x2fb)&&currentGameMode!=='D1'){currentGameMode='D1';const _0x142ac2=document['getElementById'](_0x418821(0x2fc)),_0x34311f=document['getElementById'](_0x418821(0x227)),_0x477e73=document[_0x418821(0x2d4)]('d3-mode');_0x142ac2[_0x418821(0x1f9)]['add']('active'),_0x34311f[_0x418821(0x1f9)][_0x418821(0x24b)](_0x418821(0x26b)),_0x477e73['classList'][_0x418821(0x24b)](_0x418821(0x26b));}else{if(_0x26ea47===_0x418821(0x302)&&currentGameMode!=='D2'){currentGameMode='D2';const _0x37ef17=document['getElementById'](_0x418821(0x2fc)),_0xc0e1c5=document[_0x418821(0x2d4)]('d2-mode'),_0x4378f1=document[_0x418821(0x2d4)](_0x418821(0x22b));_0xc0e1c5['classList'][_0x418821(0x248)](_0x418821(0x26b)),_0x37ef17['classList']['remove']('active'),_0x4378f1['classList']['remove']('active');}}break;}}catch(_0x5dca46){console['warn']('Error\x20checking\x20'+_0x26ea47+_0x418821(0x217),_0x5dca46);}}if(!_0x537fb2){_0x335135[_0x418821(0x2b7)]&&(_0x335135['authWarning'][_0x418821(0x29d)][_0x418821(0x294)]='block',_0x335135['authWarning']['textContent']='You\x20are\x20not\x20registered\x20in\x20any\x20ladder.');_0x335135[_0x418821(0x237)]&&(_0x335135['reportForm'][_0x418821(0x29d)][_0x418821(0x294)]=_0x418821(0x290));return;}const _0x3ccfae=await checkUserInLadderAndLoadOpponents(_0xdba7f5);if(!_0x3ccfae){console[_0x418821(0x1f3)](_0x418821(0x22f)+currentGameMode+_0x418821(0x2e7));for(const _0x1df660 of[_0x418821(0x2fb),_0x418821(0x302),'playersD3']){if(_0x1df660===(currentGameMode==='D1'?_0x418821(0x2fb):currentGameMode==='D2'?'playersD2':_0x418821(0x305)))continue;const _0xa4c0cf=doc(db,_0x1df660,_0xdba7f5);try{const _0x45ce56=await getDoc(_0xa4c0cf);if(_0x45ce56[_0x418821(0x2be)]()){const _0x22033e=_0x1df660==='players'?'D1':_0x1df660==='playersD2'?'D2':'D3';console['log'](_0x418821(0x200)+_0x1df660+_0x418821(0x242)+_0x22033e+_0x418821(0x2b2));const _0x109622=document['getElementById'](_0x418821(0x2fc)),_0x28efca=document[_0x418821(0x2d4)](_0x418821(0x227)),_0x310cbf=document['getElementById'](_0x418821(0x22b));if(_0x22033e==='D1')_0x109622[_0x418821(0x1f9)][_0x418821(0x248)]('active'),_0x28efca[_0x418821(0x1f9)][_0x418821(0x24b)](_0x418821(0x26b)),_0x310cbf[_0x418821(0x1f9)][_0x418821(0x24b)](_0x418821(0x26b));else _0x22033e==='D2'?(_0x28efca[_0x418821(0x1f9)][_0x418821(0x248)](_0x418821(0x26b)),_0x109622[_0x418821(0x1f9)][_0x418821(0x24b)](_0x418821(0x26b)),_0x310cbf[_0x418821(0x1f9)][_0x418821(0x24b)](_0x418821(0x26b))):(_0x310cbf['classList'][_0x418821(0x248)](_0x418821(0x26b)),_0x109622[_0x418821(0x1f9)]['remove']('active'),_0x28efca[_0x418821(0x1f9)]['remove'](_0x418821(0x26b)));currentGameMode=_0x22033e,await checkUserInLadderAndLoadOpponents(_0xdba7f5);break;}}catch(_0x4c1dd0){console[_0x418821(0x1f3)]('Error\x20checking\x20'+_0x1df660+':',_0x4c1dd0);}}}}catch(_0x54b247){console[_0x418821(0x229)](_0x418821(0x20a),_0x54b247);}}function handleUserSignedOut(_0x20b5cf){const _0x461ec6=a48_0x3a420f;_0x20b5cf['authWarning'][_0x461ec6(0x29d)][_0x461ec6(0x294)]='block',_0x20b5cf[_0x461ec6(0x237)][_0x461ec6(0x29d)]['display']=_0x461ec6(0x290),currentUserEmail=null;}async function updateUserDisplay(_0x233606,_0x35674f){const _0x32c50d=a48_0x3a420f,_0x44a4d2=collection(db,_0x32c50d(0x2fb)),_0x16f8c5=query(_0x44a4d2,where('email','==',_0x233606)),_0x164b0d=await getDocs(_0x16f8c5);if(!_0x164b0d['empty']){const _0x23c49d=_0x164b0d[_0x32c50d(0x28b)][0x0][_0x32c50d(0x2b0)]()[_0x32c50d(0x291)];_0x35674f[_0x32c50d(0x2c6)][_0x32c50d(0x270)]=_0x23c49d;}}async function populateWinnerDropdown(_0x15f042){const _0x10fdd0=a48_0x3a420f;try{const _0x5c17f4=collection(db,'players'),_0x33a25b=await getDocs(_0x5c17f4);_0x15f042[_0x10fdd0(0x1f8)]=_0x10fdd0(0x20e),!_0x33a25b[_0x10fdd0(0x27b)]&&_0x33a25b[_0x10fdd0(0x2cd)](_0x1467c9=>{const _0x3dae88=_0x10fdd0,_0x95d3f3=_0x1467c9[_0x3dae88(0x2b0)]();if(_0x95d3f3[_0x3dae88(0x303)]!==currentUserEmail){const _0x2d6e3e=document['createElement'](_0x3dae88(0x219));_0x2d6e3e[_0x3dae88(0x2d1)]=_0x95d3f3[_0x3dae88(0x303)],_0x2d6e3e[_0x3dae88(0x270)]=_0x95d3f3[_0x3dae88(0x291)],_0x15f042['appendChild'](_0x2d6e3e);}});}catch(_0x4786f9){console[_0x10fdd0(0x229)](_0x10fdd0(0x224),_0x4786f9);throw _0x4786f9;}}function setupReportForm(_0x5e0cbd){const _0x34f73c=a48_0x3a420f;if(!_0x5e0cbd['reportForm'])return;_0x5e0cbd[_0x34f73c(0x237)][_0x34f73c(0x2b8)](_0x34f73c(0x2ab),async _0x2648cc=>{const _0x4ed0e1=_0x34f73c;_0x2648cc[_0x4ed0e1(0x2b9)]();try{await submitReport(_0x5e0cbd),_0x5e0cbd[_0x4ed0e1(0x237)][_0x4ed0e1(0x2c1)](),alert(_0x4ed0e1(0x1f2));}catch(_0x26d416){console[_0x4ed0e1(0x229)](_0x4ed0e1(0x261),_0x26d416),_0x5e0cbd[_0x4ed0e1(0x2e2)][_0x4ed0e1(0x270)]='Error\x20reporting\x20game.\x20Please\x20try\x20again.';}});}async function submitReport(_0x256a8a){const _0x1f93ac=a48_0x3a420f,_0xf40f8a=currentGameMode==='D1'?_0x1f93ac(0x22a):currentGameMode==='D2'?'pendingMatchesD2':_0x1f93ac(0x308),_0x4c85b4=collection(db,_0xf40f8a),_0xf472f2=doc(_0x4c85b4);try{const _0xf3f954=auth['currentUser'];if(!_0xf3f954)throw new Error(_0x1f93ac(0x233));const _0x5541bd=_0xf3f954['uid'],_0x9272f1=currentGameMode==='D1'?_0x1f93ac(0x2fb):currentGameMode==='D2'?_0x1f93ac(0x302):_0x1f93ac(0x305),_0x13541f=await getDoc(doc(db,_0x9272f1,_0x5541bd));if(!_0x13541f[_0x1f93ac(0x2be)]())throw new Error(_0x1f93ac(0x2d7));const _0x532d33=document['getElementById'](_0x1f93ac(0x2a2)),_0x546305=_0x256a8a['winnerUsername'][_0x1f93ac(0x2d1)];if(!_0x546305)throw new Error(_0x1f93ac(0x2eb));const _0x3af9f1=query(collection(db,_0x9272f1),where(_0x1f93ac(0x291),'==',_0x546305)),_0x3814d3=await getDocs(_0x3af9f1);if(_0x3814d3['empty'])throw new Error(_0x1f93ac(0x25c));const _0x49dd3e=_0x3814d3[_0x1f93ac(0x28b)][0x0][_0x1f93ac(0x2b0)](),_0x2dd037=_0x3814d3['docs'][0x0]['id'],_0x30e08e={'matchId':_0xf472f2['id'],'loserUsername':_0x13541f[_0x1f93ac(0x2b0)]()['username'],'loserId':_0x5541bd,'winnerUsername':_0x49dd3e[_0x1f93ac(0x291)],'winnerId':_0x2dd037,'loserScore':_0x256a8a[_0x1f93ac(0x232)][_0x1f93ac(0x2d1)],'loserSuicides':_0x256a8a[_0x1f93ac(0x228)][_0x1f93ac(0x2d1)],'mapPlayed':_0x256a8a[_0x1f93ac(0x210)]['value'],'loserComment':_0x256a8a[_0x1f93ac(0x231)][_0x1f93ac(0x2d1)],'subgameType':_0x532d33?_0x532d33['value']:'','gameMode':currentGameMode,'approved':![],'createdAt':serverTimestamp(),'winnerOldElo':_0x49dd3e[_0x1f93ac(0x2b4)]||null,'losersOldElo':_0x13541f[_0x1f93ac(0x2b0)]()[_0x1f93ac(0x2b4)]||null};await setDoc(_0xf472f2,_0x30e08e),console[_0x1f93ac(0x247)]('Match\x20reported\x20in\x20'+_0xf40f8a+_0x1f93ac(0x25f)+_0xf472f2['id']),_0x256a8a[_0x1f93ac(0x2e2)][_0x1f93ac(0x270)]=_0x1f93ac(0x203),_0x256a8a[_0x1f93ac(0x2e2)][_0x1f93ac(0x29d)][_0x1f93ac(0x238)]=_0x1f93ac(0x223),updatePendingMatchNotification();}catch(_0x251e94){console[_0x1f93ac(0x229)](_0x1f93ac(0x261),_0x251e94),_0x256a8a[_0x1f93ac(0x2e2)]['textContent']=_0x1f93ac(0x29c)+_0x251e94[_0x1f93ac(0x2cf)],_0x256a8a[_0x1f93ac(0x2e2)][_0x1f93ac(0x29d)][_0x1f93ac(0x238)]=_0x1f93ac(0x28c);throw _0x251e94;}}async function checkForOutstandingReports(_0x30acbc,_0x231630,_0x142a26=null){const _0x5d6412=a48_0x3a420f;console[_0x5d6412(0x247)](_0x5d6412(0x2f0)+_0x30acbc+_0x5d6412(0x27f)+(_0x142a26||'default\x20collection'));const _0x3b6077=_0x142a26||(currentGameMode==='D1'?'pendingMatches':currentGameMode==='D2'?_0x5d6412(0x286):_0x5d6412(0x308));console[_0x5d6412(0x247)](_0x5d6412(0x253)+_0x3b6077);try{const _0x1fd588=auth[_0x5d6412(0x285)];if(!_0x1fd588){console[_0x5d6412(0x247)]('No\x20authenticated\x20user\x20found');return;}const _0x5d82b5=_0x1fd588[_0x5d6412(0x216)],_0xef132c=collection(db,_0x3b6077),_0xbb3f29=query(_0xef132c,where('winnerId','==',_0x5d82b5),where('approved','==',![]));let _0x5a1d8f=await getDocs(_0xbb3f29);console[_0x5d6412(0x247)]('Query\x20by\x20winnerId\x20results:\x20'+_0x5a1d8f['size']+_0x5d6412(0x282));if(_0x5a1d8f['empty']&&_0x1fd588[_0x5d6412(0x303)]){console[_0x5d6412(0x247)](_0x5d6412(0x23d));const _0x5510b5=query(_0xef132c,where(_0x5d6412(0x235),'==',_0x1fd588['email']),where(_0x5d6412(0x26f),'==',![]));_0x5a1d8f=await getDocs(_0x5510b5),console[_0x5d6412(0x247)]('Query\x20by\x20winnerEmail\x20results:\x20'+_0x5a1d8f[_0x5d6412(0x266)]+_0x5d6412(0x282));}if(_0x5a1d8f[_0x5d6412(0x27b)]){console['log'](_0x5d6412(0x213));const _0x143aa7=currentGameMode==='D1'?_0x5d6412(0x2fb):_0x5d6412(0x302),_0x58618b=await getDoc(doc(db,_0x143aa7,_0x5d82b5));if(_0x58618b[_0x5d6412(0x2be)]()&&_0x58618b[_0x5d6412(0x2b0)]()[_0x5d6412(0x291)]){const _0x82ba56=_0x58618b['data']()['username'],_0x33c92f=query(_0xef132c,where(_0x5d6412(0x245),'==',_0x82ba56),where(_0x5d6412(0x26f),'==',![]));_0x5a1d8f=await getDocs(_0x33c92f),console['log'](_0x5d6412(0x1fd)+_0x5a1d8f[_0x5d6412(0x266)]+_0x5d6412(0x282));}}if(!_0x5a1d8f[_0x5d6412(0x27b)]){const _0x228494=_0x5a1d8f['docs'][0x0]['data']();return console[_0x5d6412(0x247)]('Found\x20pending\x20match:',_0x228494),_0x228494['id']=_0x5a1d8f[_0x5d6412(0x28b)][0x0]['id'],autoFillReportForm(_0x228494),updateNotificationDot(!![]),!![];}else return console['log'](_0x5d6412(0x29b)),updateNotificationDot(![]),![];}catch(_0x29d6d6){console[_0x5d6412(0x229)](_0x5d6412(0x2a0),_0x29d6d6);}}function autoFillReportForm(_0x33c9f3){const _0x1817ea=a48_0x3a420f;console[_0x1817ea(0x247)](_0x1817ea(0x2d9),_0x33c9f3);if(_0x33c9f3){const _0x4716f8=parseInt(_0x33c9f3['loserScore']||'0'),_0x58e08f=_0x4716f8<0x12?0x14:_0x4716f8+0x2,_0x290152=_0x33c9f3[_0x1817ea(0x2a3)]||currentGameMode,_0x156bc2=_0x290152==='D1'?_0x1817ea(0x2fb):_0x290152==='D2'?_0x1817ea(0x302):_0x1817ea(0x305);console[_0x1817ea(0x247)](_0x1817ea(0x21f)+_0x156bc2+_0x1817ea(0x1ef)+_0x290152);let _0x345a9c;_0x33c9f3[_0x1817ea(0x2a5)]?_0x345a9c=getDoc(doc(db,_0x156bc2,_0x33c9f3[_0x1817ea(0x2a5)]))[_0x1817ea(0x2c0)](_0x2ba540=>_0x2ba540[_0x1817ea(0x2be)]()?{'id':_0x2ba540['id'],'data':_0x2ba540[_0x1817ea(0x2b0)]()}:null):_0x345a9c=getDocs(query(collection(db,_0x156bc2),where(_0x1817ea(0x291),'==',_0x33c9f3['winnerUsername'])))['then'](_0x41ba66=>!_0x41ba66[_0x1817ea(0x27b)]?{'id':_0x41ba66['docs'][0x0]['id'],'data':_0x41ba66[_0x1817ea(0x28b)][0x0]['data']()}:null);let _0x415893;_0x33c9f3[_0x1817ea(0x23c)]?_0x415893=getDoc(doc(db,_0x156bc2,_0x33c9f3['loserId']))[_0x1817ea(0x2c0)](_0x1f648c=>_0x1f648c['exists']()?{'id':_0x1f648c['id'],'data':_0x1f648c[_0x1817ea(0x2b0)]()}:null):_0x415893=getDocs(query(collection(db,_0x156bc2),where(_0x1817ea(0x291),'==',_0x33c9f3[_0x1817ea(0x2c6)])))[_0x1817ea(0x2c0)](_0xc23aea=>!_0xc23aea[_0x1817ea(0x27b)]?{'id':_0xc23aea[_0x1817ea(0x28b)][0x0]['id'],'data':_0xc23aea['docs'][0x0][_0x1817ea(0x2b0)]()}:null),Promise[_0x1817ea(0x20f)]([_0x345a9c,_0x415893])[_0x1817ea(0x2c0)](([_0x46ba59,_0x2baea5])=>{const _0x546a7b=_0x1817ea;if(!_0x46ba59){console[_0x546a7b(0x229)](_0x546a7b(0x1f5)),alert('Error:\x20Winner\x20data\x20not\x20found.');return;}if(!_0x2baea5){console[_0x546a7b(0x229)](_0x546a7b(0x20c)),alert('Error:\x20Loser\x20data\x20not\x20found.');return;}const _0x22ffbe=_0x33c9f3[_0x546a7b(0x301)]!=null?_0x33c9f3[_0x546a7b(0x301)]:_0x46ba59[_0x546a7b(0x2b0)][_0x546a7b(0x2b4)],_0x42a517=_0x33c9f3[_0x546a7b(0x202)]!=null?_0x33c9f3['losersOldElo']:_0x2baea5[_0x546a7b(0x2b0)][_0x546a7b(0x2b4)],_0x5d42e3=_0x46ba59['data'][_0x546a7b(0x291)],_0x229ff5=_0x2baea5[_0x546a7b(0x2b0)][_0x546a7b(0x291)];console[_0x546a7b(0x247)](_0x546a7b(0x2f9)+_0x5d42e3+_0x546a7b(0x220)+_0x22ffbe+_0x546a7b(0x2ac)+_0x229ff5+'\x20(ELO:\x20'+_0x42a517+')');const _0x57f947=document[_0x546a7b(0x2d4)](_0x546a7b(0x283));if(!_0x57f947){console[_0x546a7b(0x229)](_0x546a7b(0x2f2));return;}document[_0x546a7b(0x2d4)](_0x546a7b(0x22d))[_0x546a7b(0x270)]=_0x5d42e3,document[_0x546a7b(0x2d4)](_0x546a7b(0x295))[_0x546a7b(0x270)]=_0x229ff5,document[_0x546a7b(0x2d4)](_0x546a7b(0x246))['textContent']=_0x33c9f3[_0x546a7b(0x232)]||'0',document['getElementById'](_0x546a7b(0x2c2))[_0x546a7b(0x270)]=_0x33c9f3[_0x546a7b(0x2f5)]||'0',document[_0x546a7b(0x2d4)](_0x546a7b(0x2f7))[_0x546a7b(0x270)]=_0x33c9f3[_0x546a7b(0x210)]||'Not\x20specified',document[_0x546a7b(0x2d4)](_0x546a7b(0x206))['textContent']=_0x33c9f3[_0x546a7b(0x231)]||_0x546a7b(0x292),document[_0x546a7b(0x2d4)]('lightbox-subgame')[_0x546a7b(0x270)]=_0x33c9f3[_0x546a7b(0x2bd)]||_0x546a7b(0x2a6);const _0x666b57=document['getElementById'](_0x546a7b(0x2f4));_0x666b57&&(_0x666b57[_0x546a7b(0x2d1)]=_0x58e08f,_0x666b57[_0x546a7b(0x27a)]=!![],_0x666b57[_0x546a7b(0x29d)]['backgroundColor']='rgba(255,\x20255,\x20255,\x200.05)');showLightbox();const _0x1467c8=document['querySelector'](_0x546a7b(0x2aa));if(_0x1467c8){console['log'](_0x546a7b(0x1fb),_0x1467c8);const _0x5589dc=document['getElementById'](_0x546a7b(0x1ee));_0x5589dc&&_0x5589dc['remove']();const _0x34a002=document[_0x546a7b(0x1f4)](_0x546a7b(0x28a));_0x34a002['id']=_0x546a7b(0x1ee),_0x34a002[_0x546a7b(0x2bb)]=_0x546a7b(0x2e0),_0x34a002['textContent']=_0x546a7b(0x259),_0x34a002['style']['backgroundColor']=_0x546a7b(0x298),_0x34a002[_0x546a7b(0x29d)][_0x546a7b(0x238)]=_0x546a7b(0x264),_0x34a002['style'][_0x546a7b(0x221)]=_0x546a7b(0x2e6),_0x34a002['style'][_0x546a7b(0x307)]='8px\x2016px',_0x34a002['style'][_0x546a7b(0x26a)]=_0x546a7b(0x290),_0x34a002[_0x546a7b(0x29d)][_0x546a7b(0x2d8)]=_0x546a7b(0x281),_0x34a002[_0x546a7b(0x29d)][_0x546a7b(0x2e8)]=_0x546a7b(0x2b6),_0x34a002['style'][_0x546a7b(0x215)]='bold',_0x1467c8[_0x546a7b(0x27e)](_0x34a002),console['log']('Reject\x20button\x20added:',_0x34a002);}const _0x5cb728=document['getElementById'](_0x546a7b(0x1ff)),_0x25898e=document['getElementById']('reject-button'),_0x115573=document[_0x546a7b(0x2d4)](_0x546a7b(0x252));if(_0x5cb728){const _0x9e8167=_0x5cb728[_0x546a7b(0x2dc)](!![]);_0x5cb728[_0x546a7b(0x297)][_0x546a7b(0x2c4)](_0x9e8167,_0x5cb728),_0x9e8167['addEventListener'](_0x546a7b(0x2b5),async function(){const _0x195189=_0x546a7b;try{const _0x2bfcab=document[_0x195189(0x2d4)](_0x195189(0x2f4))[_0x195189(0x2d1)],_0x548a32=document[_0x195189(0x2d4)](_0x195189(0x26e))[_0x195189(0x2d1)]||'0',_0x5c6021=document[_0x195189(0x2d4)](_0x195189(0x277))[_0x195189(0x2d1)]||'';console[_0x195189(0x247)](_0x195189(0x22e),{'uid':auth[_0x195189(0x285)]?.[_0x195189(0x216)],'email':auth['currentUser']?.[_0x195189(0x303)],'isAdmin':auth[_0x195189(0x285)]?.['email']===_0x195189(0x258)||auth['currentUser']?.['email']===_0x195189(0x262)});const _0x42d60b=_0x33c9f3[_0x195189(0x2a3)]||currentGameMode;if(_0x42d60b==='D3')await approveReportD3(_0x33c9f3['id'],_0x2bfcab,_0x548a32,_0x5c6021);else _0x42d60b==='D2'?await approveReportD2(_0x33c9f3['id'],_0x2bfcab,_0x548a32,_0x5c6021):await approveReport(_0x33c9f3['id'],_0x2bfcab,_0x548a32,_0x5c6021);document[_0x195189(0x2d4)](_0x195189(0x283))[_0x195189(0x29d)][_0x195189(0x294)]=_0x195189(0x290),alert(_0x195189(0x2b3)),updatePendingMatchNotification(),location['reload']();const _0x401120=_0x42d60b==='D1'?'players':'playersD2',_0x79f626=doc(db,_0x401120,_0x46ba59['id']),_0x5f40b1=doc(db,_0x401120,_0x2baea5['id']),[_0x140649,_0x103db1]=await Promise['all']([getDoc(_0x79f626),getDoc(_0x5f40b1)]);if(_0x140649[_0x195189(0x2be)]()&&_0x103db1[_0x195189(0x2be)]()){const _0x32bd3d=_0x140649['data'](),_0x3f7d42=_0x103db1[_0x195189(0x2b0)]();_0x32bd3d['position']>_0x3f7d42[_0x195189(0x2ec)]?(await updateDoc(_0x79f626,{'position':_0x3f7d42[_0x195189(0x2ec)]}),console[_0x195189(0x247)](_0x195189(0x25a)+_0x32bd3d[_0x195189(0x291)]+'\x20moved\x20to\x20position\x20'+_0x3f7d42[_0x195189(0x2ec)])):console[_0x195189(0x247)]('No\x20position\x20change\x20needed;\x20winner\x20is\x20already\x20above\x20the\x20loser.');}}catch(_0x583be6){console[_0x195189(0x229)](_0x195189(0x2db),_0x583be6),alert(_0x195189(0x226)+_0x583be6['message']);}});}if(_0x25898e){const _0x44adf7=_0x25898e[_0x546a7b(0x2dc)](!![]);_0x25898e[_0x546a7b(0x297)][_0x546a7b(0x2c4)](_0x44adf7,_0x25898e),_0x44adf7[_0x546a7b(0x2b8)](_0x546a7b(0x2b5),async function(){const _0x4ad902=_0x546a7b;try{const _0x42199c=prompt(_0x4ad902(0x2c3),'');if(_0x42199c===null)return;await rejectReport(_0x33c9f3['id'],_0x42199c),hideLightbox(),alert(_0x4ad902(0x2d3)),updatePendingMatchNotification(),location[_0x4ad902(0x1fe)]();}catch(_0x552ee8){console[_0x4ad902(0x229)]('Error\x20rejecting\x20report:',_0x552ee8),alert(_0x4ad902(0x2e5)+_0x552ee8[_0x4ad902(0x2cf)]);}});}if(_0x115573){const _0x391b86=_0x115573[_0x546a7b(0x2dc)](!![]);_0x115573[_0x546a7b(0x297)][_0x546a7b(0x2c4)](_0x391b86,_0x115573),_0x391b86[_0x546a7b(0x2b8)](_0x546a7b(0x2b5),hideLightbox);}})[_0x1817ea(0x2c8)](_0x5c782d=>{const _0xdfb8f9=_0x1817ea;console[_0xdfb8f9(0x229)](_0xdfb8f9(0x2ba),_0x5c782d),alert(_0xdfb8f9(0x2ee));});}}function showLightbox(){const _0x46fad=a48_0x3a420f;console[_0x46fad(0x247)]('Showing\x20lightbox');const _0x548013=document['getElementById'](_0x46fad(0x283));if(!_0x548013){console[_0x46fad(0x229)]('Lightbox\x20element\x20not\x20found');return;}_0x548013[_0x46fad(0x1f9)]['add'](_0x46fad(0x28f));}function hideLightbox(){const _0x1ea045=a48_0x3a420f,_0x31390c=document[_0x1ea045(0x2d4)](_0x1ea045(0x283));_0x31390c[_0x1ea045(0x1f9)][_0x1ea045(0x24b)](_0x1ea045(0x28f));}async function rejectReport(_0x485224,_0x2b8b00){const _0x1e2d67=a48_0x3a420f;try{const _0x31f37d=currentGameMode==='D1'?_0x1e2d67(0x22a):currentGameMode==='D2'?_0x1e2d67(0x286):_0x1e2d67(0x308),_0xec0743=currentGameMode==='D1'?_0x1e2d67(0x1f7):currentGameMode==='D2'?_0x1e2d67(0x2f6):_0x1e2d67(0x25e);console[_0x1e2d67(0x247)](_0x1e2d67(0x288)+_0x485224+'\x20from\x20'+_0x31f37d+_0x1e2d67(0x2a7)+_0xec0743);const _0x4327db=auth['currentUser'];if(!_0x4327db)throw new Error(_0x1e2d67(0x289));const _0x30ade1=doc(db,_0x31f37d,_0x485224),_0x256e8a=await getDoc(_0x30ade1);if(!_0x256e8a[_0x1e2d67(0x2be)]())throw new Error(_0x1e2d67(0x24a));const _0x3d93b4=_0x256e8a[_0x1e2d67(0x2b0)](),_0x5d331b=_0x3d93b4[_0x1e2d67(0x2a5)]&&_0x3d93b4[_0x1e2d67(0x2a5)]===_0x4327db[_0x1e2d67(0x216)]||_0x3d93b4[_0x1e2d67(0x235)]&&_0x3d93b4['winnerEmail']===_0x4327db[_0x1e2d67(0x303)]||_0x3d93b4[_0x1e2d67(0x245)]&&_0x3d93b4['winnerUsername']===await getUsernameFromId(_0x4327db['uid']);if(!_0x5d331b)throw new Error(_0x1e2d67(0x254));const _0x1f15e1={..._0x3d93b4,'rejectedAt':serverTimestamp(),'rejectedBy':_0x4327db[_0x1e2d67(0x216)],'rejectionReason':_0x2b8b00||_0x1e2d67(0x306),'originalDocumentId':_0x485224},_0x33a48b=doc(collection(db,_0xec0743));return await setDoc(_0x33a48b,_0x1f15e1),await deleteDoc(_0x30ade1),console['log'](_0x1e2d67(0x2e9)+_0x485224+_0x1e2d67(0x23a)),updatePendingMatchNotification(),!![];}catch(_0x44ac2e){console['error'](_0x1e2d67(0x29e),_0x44ac2e);throw _0x44ac2e;}}async function getUsernameFromId(_0x3676db){const _0x2492f1=a48_0x3a420f,_0x48148f=await getDoc(doc(db,'players',_0x3676db));if(_0x48148f[_0x2492f1(0x2be)]())return _0x48148f[_0x2492f1(0x2b0)]()[_0x2492f1(0x291)];const _0x4ad1b6=await getDoc(doc(db,_0x2492f1(0x302),_0x3676db));if(_0x4ad1b6[_0x2492f1(0x2be)]())return _0x4ad1b6[_0x2492f1(0x2b0)]()['username'];return null;}async function loadOpponentsList(_0x1e6f3a){const _0x15f3f4=a48_0x3a420f;try{const _0x2e613b=document[_0x15f3f4(0x2d4)]('report-error'),_0x3a771f=document[_0x15f3f4(0x2d4)](_0x15f3f4(0x2a9)),_0x154f24=document[_0x15f3f4(0x2d4)]('winner-username');if(!_0x2e613b||!_0x3a771f||!_0x154f24){console[_0x15f3f4(0x229)](_0x15f3f4(0x276));return;}const _0x4b8d51=currentGameMode==='D1'?_0x15f3f4(0x2fb):currentGameMode==='D2'?_0x15f3f4(0x302):_0x15f3f4(0x305);console[_0x15f3f4(0x247)]('Loading\x20opponents\x20from\x20collection:\x20'+_0x4b8d51);const _0xfed0c=await getDoc(doc(db,_0x4b8d51,_0x1e6f3a));if(!_0xfed0c[_0x15f3f4(0x2be)]()){_0x2e613b[_0x15f3f4(0x270)]=_0x15f3f4(0x212)+currentGameMode+'\x20ladder.',_0x2e613b['style'][_0x15f3f4(0x238)]=_0x15f3f4(0x28c),_0x3a771f['textContent']=_0x15f3f4(0x2e3),_0x154f24['disabled']=!![];return;}const _0x4c9745=_0xfed0c[_0x15f3f4(0x2b0)](),_0x1c6da7=_0x4c9745[_0x15f3f4(0x291)];_0x3a771f[_0x15f3f4(0x270)]=_0x15f3f4(0x257)+_0x1c6da7+')',_0x2e613b[_0x15f3f4(0x270)]='',_0x154f24[_0x15f3f4(0x284)]=![];const _0x29a552=collection(db,_0x4b8d51),_0x50a1e0=await getDocs(_0x29a552);if(_0x50a1e0[_0x15f3f4(0x27b)]){console['log'](_0x15f3f4(0x2ce));return;}_0x154f24['innerHTML']='<option\x20value=\x22\x22>Select\x20Opponent</option>',_0x50a1e0[_0x15f3f4(0x2cd)](_0x18f5fa=>{const _0x2c8cf2=_0x15f3f4,_0x54532b=_0x18f5fa[_0x2c8cf2(0x2b0)]();if(_0x18f5fa['id']!==_0x1e6f3a){const _0x568a8e=document[_0x2c8cf2(0x1f4)](_0x2c8cf2(0x219));_0x568a8e[_0x2c8cf2(0x2d1)]=_0x54532b[_0x2c8cf2(0x291)],_0x568a8e[_0x2c8cf2(0x270)]=_0x54532b[_0x2c8cf2(0x291)],_0x568a8e[_0x2c8cf2(0x267)]['uid']=_0x18f5fa['id'],_0x154f24[_0x2c8cf2(0x2ca)](_0x568a8e);}});}catch(_0x577026){console[_0x15f3f4(0x229)]('Error\x20loading\x20opponents\x20list:',_0x577026),document['getElementById'](_0x15f3f4(0x2df))[_0x15f3f4(0x270)]=_0x15f3f4(0x268),document[_0x15f3f4(0x2d4)](_0x15f3f4(0x2df))[_0x15f3f4(0x29d)][_0x15f3f4(0x238)]=_0x15f3f4(0x28c);}}async function checkUserInLadderAndLoadOpponents(_0x506dad){const _0x266849=a48_0x3a420f;try{const _0x5a3e76=document[_0x266849(0x2d4)](_0x266849(0x2df)),_0xdc8c72=document[_0x266849(0x2d4)]('loser-username'),_0x11105d=document['getElementById'](_0x266849(0x1f0)),_0xa15d9e=document[_0x266849(0x2d4)](_0x266849(0x222)),_0xec1605=document[_0x266849(0x2d4)]('auth-warning');_0x5a3e76[_0x266849(0x270)]=_0x266849(0x20d)+currentGameMode+_0x266849(0x27d),_0x5a3e76[_0x266849(0x29d)][_0x266849(0x238)]=_0x266849(0x264);const _0x39848a=currentGameMode==='D1'?_0x266849(0x2fb):currentGameMode==='D2'?_0x266849(0x302):'playersD3';console[_0x266849(0x247)](_0x266849(0x24c)+_0x39848a);const _0x26799a=await getDoc(doc(db,_0x39848a,_0x506dad));if(!_0x26799a['exists']())return _0x5a3e76['textContent']=_0x266849(0x212)+currentGameMode+_0x266849(0x230),_0x5a3e76[_0x266849(0x29d)][_0x266849(0x238)]=_0x266849(0x28c),_0xdc8c72[_0x266849(0x270)]=_0x266849(0x2e3),_0x11105d['disabled']=!![],_0x11105d[_0x266849(0x1f8)]=_0x266849(0x2c5),_0xec1605[_0x266849(0x29d)]['display']=_0x266849(0x2d0),_0xec1605[_0x266849(0x270)]=_0x266849(0x212)+currentGameMode+_0x266849(0x230),![];_0x5a3e76['textContent']='',_0xec1605[_0x266849(0x29d)][_0x266849(0x294)]=_0x266849(0x290);const _0x4b7725=_0x26799a[_0x266849(0x2b0)](),_0x15777a=_0x4b7725[_0x266849(0x291)];_0xdc8c72[_0x266849(0x270)]=_0x266849(0x257)+_0x15777a+')',_0x11105d[_0x266849(0x284)]=![],_0xa15d9e['style'][_0x266849(0x294)]=_0x266849(0x2d0),await loadOpponentsList(_0x506dad);const _0x3e5019=currentGameMode==='D1'?_0x266849(0x22a):currentGameMode==='D2'?_0x266849(0x286):_0x266849(0x308);return await checkForOutstandingReports(_0x4b7725[_0x266849(0x303)],null,_0x3e5019),!![];}catch(_0x1bae46){return console[_0x266849(0x229)]('Error\x20checking\x20if\x20user\x20is\x20in\x20ladder:',_0x1bae46),document[_0x266849(0x2d4)](_0x266849(0x2df))[_0x266849(0x270)]=_0x266849(0x225),document['getElementById']('report-error')[_0x266849(0x29d)][_0x266849(0x238)]=_0x266849(0x28c),![];}}export async function fetchOutstandingMatches(){const _0x583f9b=a48_0x3a420f,_0x2491b7=auth[_0x583f9b(0x285)];if(!_0x2491b7)return[];try{const _0x4d6c4d=[],_0x12b077=currentGameMode==='D1'?_0x583f9b(0x22a):currentGameMode==='D2'?_0x583f9b(0x286):_0x583f9b(0x308),_0x50e52d=collection(db,_0x12b077),_0x4b410b=[query(_0x50e52d,where(_0x583f9b(0x23c),'==',_0x2491b7[_0x583f9b(0x216)]),where(_0x583f9b(0x26f),'==',![])),query(_0x50e52d,where(_0x583f9b(0x1fc),'==',_0x2491b7[_0x583f9b(0x303)]),where(_0x583f9b(0x26f),'==',![])),query(_0x50e52d,where('winnerId','==',_0x2491b7['uid']),where('approved','==',![])),query(_0x50e52d,where('winnerEmail','==',_0x2491b7['email']),where(_0x583f9b(0x26f),'==',![]))],_0x2c2dd8=currentGameMode==='D1'?'players':currentGameMode==='D2'?_0x583f9b(0x302):'playersD3',_0x430b36=await getDocs(query(collection(db,_0x2c2dd8),where(_0x583f9b(0x303),'==',_0x2491b7[_0x583f9b(0x303)])));let _0x1fba1a=null;!_0x430b36[_0x583f9b(0x27b)]&&(_0x1fba1a=_0x430b36[_0x583f9b(0x28b)][0x0][_0x583f9b(0x2b0)]()['username'],_0x1fba1a&&_0x4b410b[_0x583f9b(0x21c)](query(_0x50e52d,where(_0x583f9b(0x2c6),'==',_0x1fba1a),where(_0x583f9b(0x26f),'==',![])),query(_0x50e52d,where(_0x583f9b(0x245),'==',_0x1fba1a),where(_0x583f9b(0x26f),'==',![]))));for(const _0x3381f6 of _0x4b410b){const _0x206945=await getDocs(_0x3381f6);!_0x206945[_0x583f9b(0x27b)]&&_0x206945['forEach'](_0x27e217=>{const _0x427f8d=_0x583f9b;!_0x4d6c4d[_0x427f8d(0x2c9)](_0x11dad1=>_0x11dad1['id']===_0x27e217['id'])&&_0x4d6c4d[_0x427f8d(0x21c)]({'id':_0x27e217['id'],..._0x27e217['data']()});});}return _0x4d6c4d['sort']((_0x1242b3,_0x201911)=>{const _0x5af72b=_0x583f9b,_0x45ff2b=_0x1242b3[_0x5af72b(0x211)]?.[_0x5af72b(0x2fd)]()||new Date(0x0),_0x342656=_0x201911[_0x5af72b(0x211)]?.[_0x5af72b(0x2fd)]()||new Date(0x0);return _0x342656-_0x45ff2b;}),outstandingMatches=_0x4d6c4d,_0x4d6c4d;}catch(_0x552dc5){return console[_0x583f9b(0x229)](_0x583f9b(0x1f6),_0x552dc5),[];}}export function renderOutstandingMatches(){const _0x384514=a48_0x3a420f,_0x5caaa6=document[_0x384514(0x2d4)]('outstanding-matches-list');if(outstandingMatches[_0x384514(0x255)]===0x0){_0x5caaa6[_0x384514(0x1f8)]=_0x384514(0x300);return;}let _0x2fc4cb='';const _0x427bab=auth[_0x384514(0x285)];if(!_0x427bab)return;outstandingMatches['forEach'](_0x3ed5ca=>{const _0x1871f5=_0x384514,_0x46aa76=_0x3ed5ca['createdAt']?.['toDate']()?_0x3ed5ca['createdAt'][_0x1871f5(0x2fd)]()['toLocaleDateString']():'Unknown\x20date',_0x6abffe=_0x3ed5ca['loserEmail']===_0x427bab[_0x1871f5(0x303)]||_0x3ed5ca[_0x1871f5(0x23c)]===_0x427bab['uid'];_0x2fc4cb+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22match-item\x22\x20data-id=\x22'+_0x3ed5ca['id']+_0x1871f5(0x26c)+(_0x3ed5ca[_0x1871f5(0x245)]||_0x1871f5(0x273))+'\x20vs\x20'+(_0x3ed5ca[_0x1871f5(0x2c6)]||'Loser')+_0x1871f5(0x2dd)+(_0x3ed5ca[_0x1871f5(0x210)]||'Unknown')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22match-detail-item\x22>Date:\x20'+_0x46aa76+_0x1871f5(0x23f)+(_0x3ed5ca[_0x1871f5(0x232)]||'0')+_0x1871f5(0x263)+_0x3ed5ca['id']+'\x22>View\x20Details</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x6abffe?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20edit-report-btn\x22\x20data-id=\x22'+_0x3ed5ca['id']+'\x22>Edit\x20Report</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20danger-button\x20rescind-report-btn\x22\x20data-id=\x22'+_0x3ed5ca['id']+'\x22>Rescind\x20Report</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+_0x1871f5(0x244);}),_0x5caaa6[_0x384514(0x1f8)]=_0x2fc4cb,document[_0x384514(0x2c7)]('.view-detail-btn')[_0x384514(0x2cd)](_0x4b2723=>{const _0x36994a=_0x384514;_0x4b2723[_0x36994a(0x2b8)](_0x36994a(0x2b5),function(){const _0x406c2d=_0x36994a,_0x3328a6=this['getAttribute'](_0x406c2d(0x234)),_0x5514cf=outstandingMatches[_0x406c2d(0x26d)](_0x11c862=>_0x11c862['id']===_0x3328a6);document[_0x406c2d(0x2d4)](_0x406c2d(0x287))[_0x406c2d(0x1f9)][_0x406c2d(0x24b)](_0x406c2d(0x28f)),showMatchLightbox(_0x5514cf);});}),document[_0x384514(0x2c7)]('.edit-report-btn')[_0x384514(0x2cd)](_0x911b98=>{const _0xaff09e=_0x384514;_0x911b98[_0xaff09e(0x2b8)]('click',function(){const _0x5320bd=_0xaff09e,_0x14068c=this[_0x5320bd(0x2cb)](_0x5320bd(0x234)),_0x39aa48=outstandingMatches[_0x5320bd(0x26d)](_0x1e0988=>_0x1e0988['id']===_0x14068c);document['getElementById'](_0x5320bd(0x287))[_0x5320bd(0x1f9)]['remove'](_0x5320bd(0x28f)),editReport(_0x39aa48);});}),document[_0x384514(0x2c7)](_0x384514(0x2f3))[_0x384514(0x2cd)](_0x339cae=>{const _0x383a6d=_0x384514;_0x339cae[_0x383a6d(0x2b8)]('click',function(){const _0x166c9b=_0x383a6d,_0x427b6e=this['getAttribute'](_0x166c9b(0x234)),_0x2a4fc5=outstandingMatches[_0x166c9b(0x26d)](_0x43b705=>_0x43b705['id']===_0x427b6e);confirm(_0x166c9b(0x2a1)+(_0x2a4fc5[_0x166c9b(0x245)]||_0x166c9b(0x2ea))+'?')&&rescindReport(_0x2a4fc5);});});}export async function rescindReport(_0x1887d7){const _0x45d259=a48_0x3a420f;try{const _0xe05fd1=currentGameMode==='D1'?_0x45d259(0x22a):currentGameMode==='D2'?'pendingMatchesD2':_0x45d259(0x308),_0x4f92f0=doc(db,_0xe05fd1,_0x1887d7['id']);await deleteDoc(_0x4f92f0),alert('Report\x20has\x20been\x20successfully\x20rescinded.'),await fetchOutstandingMatches(),renderOutstandingMatches();}catch(_0x288738){console[_0x45d259(0x229)](_0x45d259(0x2ff),_0x288738),alert(_0x45d259(0x272));}}export function editReport(_0x11c72b){const _0x3a25c6=a48_0x3a420f,_0x483b38=document[_0x3a25c6(0x2d4)]('report-form'),_0x1c405c=document[_0x3a25c6(0x2d4)]('loser-score'),_0xd308d2=document[_0x3a25c6(0x2d4)](_0x3a25c6(0x228)),_0x13fa62=document[_0x3a25c6(0x2d4)](_0x3a25c6(0x304)),_0x454bd3=document[_0x3a25c6(0x2d4)](_0x3a25c6(0x251));_0x483b38[_0x3a25c6(0x29d)]['display']=_0x3a25c6(0x2d0),document[_0x3a25c6(0x2d4)](_0x3a25c6(0x22c))[_0x3a25c6(0x29d)][_0x3a25c6(0x294)]=_0x3a25c6(0x290);if(_0x11c72b['loserScore'])_0x1c405c[_0x3a25c6(0x2d1)]=_0x11c72b[_0x3a25c6(0x232)];if(_0x11c72b[_0x3a25c6(0x2f5)])_0xd308d2[_0x3a25c6(0x2d1)]=_0x11c72b['loserSuicides'];if(_0x11c72b[_0x3a25c6(0x210)])_0x13fa62[_0x3a25c6(0x2d1)]=_0x11c72b['mapPlayed'];if(_0x11c72b['loserComment'])_0x454bd3[_0x3a25c6(0x2d1)]=_0x11c72b[_0x3a25c6(0x231)];const _0x576a91=document[_0x3a25c6(0x2d4)](_0x3a25c6(0x1f0));_0x576a91&&_0x11c72b[_0x3a25c6(0x245)]&&Array['from'](_0x576a91[_0x3a25c6(0x265)])[_0x3a25c6(0x2cd)](_0x2f3e65=>{const _0x204186=_0x3a25c6;_0x2f3e65[_0x204186(0x269)]===_0x11c72b[_0x204186(0x245)]&&(_0x2f3e65[_0x204186(0x243)]=!![]);});const _0x3dbd66=document[_0x3a25c6(0x2d4)](_0x3a25c6(0x2a2));_0x3dbd66&&_0x11c72b[_0x3a25c6(0x2bd)]&&(_0x3dbd66[_0x3a25c6(0x2d1)]=_0x11c72b[_0x3a25c6(0x2bd)]);_0x483b38['setAttribute'](_0x3a25c6(0x2f1),_0x11c72b['id']);const _0xa55700=_0x483b38[_0x3a25c6(0x21a)]('button[type=\x22submit\x22]');_0xa55700[_0x3a25c6(0x270)]='Update\x20Report';if(!document[_0x3a25c6(0x2d4)]('cancel-edit-btn')){const _0x279567=document[_0x3a25c6(0x1f4)](_0x3a25c6(0x28a));_0x279567['id']='cancel-edit-btn',_0x279567[_0x3a25c6(0x2bb)]=_0x3a25c6(0x279),_0x279567['style']['backgroundColor']='#6a1b9a',_0x279567[_0x3a25c6(0x29d)][_0x3a25c6(0x221)]=_0x3a25c6(0x2e6),_0x279567[_0x3a25c6(0x270)]=_0x3a25c6(0x2b1),_0x279567[_0x3a25c6(0x29f)]='button',_0xa55700[_0x3a25c6(0x297)][_0x3a25c6(0x2e4)](_0x279567,_0xa55700),_0x279567[_0x3a25c6(0x2b8)](_0x3a25c6(0x2b5),function(_0x525866){const _0x819e5a=_0x3a25c6;_0x525866[_0x819e5a(0x2b9)](),_0x483b38[_0x819e5a(0x2c1)](),_0x483b38['removeAttribute'](_0x819e5a(0x2f1)),_0xa55700[_0x819e5a(0x270)]=_0x819e5a(0x24f),this[_0x819e5a(0x24b)](),initReportForm();});}_0x483b38[_0x3a25c6(0x28d)]({'behavior':_0x3a25c6(0x256)});}function initReportForm(){const _0x298bab=a48_0x3a420f;console[_0x298bab(0x247)](_0x298bab(0x2a8));}export function showMatchLightbox(_0x39d18c){const _0x30ddfc=a48_0x3a420f,_0x2f525d=document[_0x30ddfc(0x2d4)](_0x30ddfc(0x283));document[_0x30ddfc(0x2d4)](_0x30ddfc(0x2af))[_0x30ddfc(0x270)]=currentGameMode,document[_0x30ddfc(0x2d4)](_0x30ddfc(0x22d))[_0x30ddfc(0x270)]=_0x39d18c[_0x30ddfc(0x245)]||'Unknown',document[_0x30ddfc(0x2d4)](_0x30ddfc(0x295))[_0x30ddfc(0x270)]=_0x39d18c['loserUsername']||'Unknown',document[_0x30ddfc(0x2d4)](_0x30ddfc(0x246))[_0x30ddfc(0x270)]=_0x39d18c['loserScore']||'0',document['getElementById']('lightbox-suicides')[_0x30ddfc(0x270)]=_0x39d18c[_0x30ddfc(0x2f5)]||'0',document['getElementById'](_0x30ddfc(0x2f7))[_0x30ddfc(0x270)]=_0x39d18c[_0x30ddfc(0x210)]||'Unknown',document[_0x30ddfc(0x2d4)](_0x30ddfc(0x206))[_0x30ddfc(0x270)]=_0x39d18c[_0x30ddfc(0x231)]||'No\x20comment',document[_0x30ddfc(0x2d4)](_0x30ddfc(0x260))[_0x30ddfc(0x270)]=_0x39d18c['subgameType']||_0x30ddfc(0x2a6),_0x2f525d[_0x30ddfc(0x1f9)][_0x30ddfc(0x248)]('show');}export function setCurrentGameMode(_0x49040f){currentGameMode=_0x49040f;}export function initOutstandingMatches(){const _0x3ae48b=a48_0x3a420f;document['addEventListener'](_0x3ae48b(0x29a),()=>{const _0x48d39c=_0x3ae48b,_0x4b1547=document[_0x48d39c(0x2d4)](_0x48d39c(0x20b)),_0x329ce5=document[_0x48d39c(0x2d4)]('view-outstanding-container'),_0xa6769e=document['getElementById'](_0x48d39c(0x287)),_0x8abb43=document[_0x48d39c(0x2d4)](_0x48d39c(0x2bc)),_0xd441a3=document[_0x48d39c(0x2d4)]('cancel-button'),_0x4b7c99=document['getElementById'](_0x48d39c(0x2fc)),_0xc08353=document[_0x48d39c(0x2d4)]('d2-mode'),_0x3e2e66=document[_0x48d39c(0x2d4)](_0x48d39c(0x22b));if(_0x4b7c99)_0x4b7c99[_0x48d39c(0x2b8)]('click',()=>{setCurrentGameMode('D1');});if(_0xc08353)_0xc08353[_0x48d39c(0x2b8)](_0x48d39c(0x2b5),()=>{setCurrentGameMode('D2');});if(_0x3e2e66)_0x3e2e66[_0x48d39c(0x2b8)](_0x48d39c(0x2b5),()=>{setCurrentGameMode('D3');});auth[_0x48d39c(0x236)](_0x4c593e=>{const _0x3d2e49=_0x48d39c;_0x4c593e?_0x329ce5[_0x3d2e49(0x29d)][_0x3d2e49(0x294)]=_0x3d2e49(0x2d0):_0x329ce5[_0x3d2e49(0x29d)][_0x3d2e49(0x294)]=_0x3d2e49(0x290);});_0x4b1547&&_0x4b1547[_0x48d39c(0x2b8)]('click',async()=>{const _0x5818a2=_0x48d39c;_0xa6769e['classList'][_0x5818a2(0x248)](_0x5818a2(0x28f)),document['getElementById'](_0x5818a2(0x2ef))[_0x5818a2(0x1f8)]='<div\x20class=\x22loading\x22>Loading\x20your\x20matches...</div>',await fetchOutstandingMatches(),renderOutstandingMatches();});_0x8abb43&&_0x8abb43[_0x48d39c(0x2b8)](_0x48d39c(0x2b5),()=>{const _0x114836=_0x48d39c;_0xa6769e[_0x114836(0x1f9)][_0x114836(0x24b)]('show');});_0xd441a3&&_0xd441a3[_0x48d39c(0x2b8)]('click',()=>{const _0x5f2df3=_0x48d39c;document[_0x5f2df3(0x2d4)](_0x5f2df3(0x283))[_0x5f2df3(0x1f9)][_0x5f2df3(0x24b)]('show');});_0xa6769e&&_0xa6769e['addEventListener'](_0x48d39c(0x2b5),_0x1833c2=>{const _0x323c26=_0x48d39c;_0x1833c2[_0x323c26(0x23e)]===_0xa6769e&&_0xa6769e[_0x323c26(0x1f9)][_0x323c26(0x24b)](_0x323c26(0x28f));});const _0x1d683f=document[_0x48d39c(0x2d4)](_0x48d39c(0x283));_0x1d683f&&_0x1d683f[_0x48d39c(0x2b8)](_0x48d39c(0x2b5),_0x2996e0=>{const _0x2182c0=_0x48d39c;_0x2996e0['target']===_0x1d683f&&_0x1d683f[_0x2182c0(0x1f9)]['remove']('show');});const _0x105961=document[_0x48d39c(0x2d4)](_0x48d39c(0x222));if(_0x105961){const _0x3eebc8=_0x105961[_0x48d39c(0x214)];_0x105961[_0x48d39c(0x214)]=async function(_0x49f6e6){const _0x46c6a6=_0x48d39c;_0x49f6e6['preventDefault']();const _0x553b20=this[_0x46c6a6(0x2cb)](_0x46c6a6(0x2f1));if(_0x553b20)try{const _0x400fdb=document[_0x46c6a6(0x2d4)](_0x46c6a6(0x204))[_0x46c6a6(0x2d1)],_0x2daa6f=document[_0x46c6a6(0x2d4)](_0x46c6a6(0x228))[_0x46c6a6(0x2d1)],_0x565b31=document[_0x46c6a6(0x2d4)](_0x46c6a6(0x304))[_0x46c6a6(0x2d1)],_0x266076=document[_0x46c6a6(0x2d4)](_0x46c6a6(0x251))['value'],_0x2621be=currentGameMode==='D1'?_0x46c6a6(0x22a):currentGameMode==='D2'?_0x46c6a6(0x286):'pendingMatchesD3',_0x308a0f=doc(db,_0x2621be,_0x553b20);await updateDoc(_0x308a0f,{'loserScore':Number(_0x400fdb),'loserSuicides':Number(_0x2daa6f),'mapPlayed':_0x565b31,'loserComment':_0x266076,'subgameType':document[_0x46c6a6(0x2d4)](_0x46c6a6(0x2a2))['value'],'updatedAt':new Date()}),alert(_0x46c6a6(0x2a4)),this[_0x46c6a6(0x2c1)](),this[_0x46c6a6(0x293)](_0x46c6a6(0x2f1));const _0x3b2ecf=this[_0x46c6a6(0x21a)]('button[type=\x22submit\x22]');_0x3b2ecf[_0x46c6a6(0x270)]=_0x46c6a6(0x24f);const _0xfa2bc2=document[_0x46c6a6(0x2d4)](_0x46c6a6(0x218));if(_0xfa2bc2)_0xfa2bc2[_0x46c6a6(0x24b)]();}catch(_0x462904){console[_0x46c6a6(0x229)]('Error\x20updating\x20report:',_0x462904),document[_0x46c6a6(0x2d4)]('report-error')[_0x46c6a6(0x270)]='Failed\x20to\x20update\x20report.\x20Please\x20try\x20again.';}else typeof _0x3eebc8==='function'&&_0x3eebc8['call'](this,_0x49f6e6);};}});}typeof window!=='undefined'&&(window[a48_0x3a420f(0x2de)]=showMatchLightbox,window['editReport']=editReport,window[a48_0x3a420f(0x2cc)]=rescindReport,window[a48_0x3a420f(0x241)]=fetchOutstandingMatches,window[a48_0x3a420f(0x27c)]=renderOutstandingMatches);initOutstandingMatches();