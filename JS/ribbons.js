const a50_0x4e0d55=a50_0x2427,a50_0x14e5f7=(function(){let _0x4a0795=!![];return function(_0x522e05,_0x3589cc){const _0x46028b=_0x4a0795?function(){const _0x346ee0=a50_0x2427;if(_0x3589cc){const _0x548be3=_0x3589cc[_0x346ee0(0x158)](_0x522e05,arguments);return _0x3589cc=null,_0x548be3;}}:function(){};return _0x4a0795=![],_0x46028b;};}()),a50_0x56cc7a=a50_0x14e5f7(this,function(){const _0x22bf70=a50_0x2427;let _0x3f2c60;try{const _0x525971=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x3f2c60=_0x525971();}catch(_0x5b24af){_0x3f2c60=window;}const _0x4150fd=_0x3f2c60[_0x22bf70(0x16b)]=_0x3f2c60['console']||{},_0x19b699=['log','warn','info','error','exception','table',_0x22bf70(0x14c)];for(let _0x2fdfa4=0x0;_0x2fdfa4<_0x19b699['length'];_0x2fdfa4++){const _0x2cbcd9=a50_0x14e5f7['constructor']['prototype']['bind'](a50_0x14e5f7),_0x21791d=_0x19b699[_0x2fdfa4],_0x36bffc=_0x4150fd[_0x21791d]||_0x2cbcd9;_0x2cbcd9[_0x22bf70(0x18f)]=a50_0x14e5f7['bind'](a50_0x14e5f7),_0x2cbcd9['toString']=_0x36bffc[_0x22bf70(0x14f)][_0x22bf70(0x180)](_0x36bffc),_0x4150fd[_0x21791d]=_0x2cbcd9;}});a50_0x56cc7a();import{auth,db}from'./firebase-config.js';import{doc,getDoc,setDoc,collection,query,where,getDocs,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';function a50_0x2427(_0x4f915f,_0x1ec14c){const _0x56cc7a=a50_0x5b4b();return a50_0x2427=function(_0x14e5f7,_0xbdf91e){_0x14e5f7=_0x14e5f7-0x110;let _0x5b4bcc=_0x56cc7a[_0x14e5f7];return _0x5b4bcc;},a50_0x2427(_0x4f915f,_0x1ec14c);}const RIBBON_DEFINITIONS={'Rematch\x20Ribbon':{'description':a50_0x4e0d55(0x174),'image':'../images/ribbons/Rematch.png','color':'#FF6B6B'},'Overachiever\x20Ribbon':{'description':'Played\x20over\x20100\x20matches','image':'../images/ribbons/Overachiever.png','color':'#96CEB4','levels':[0x64,0xc8,0x12c,0x190,0x1f4,0x258,0x2bc,0x320,0x384,0x3e8]},'Brick\x20Wall':{'description':a50_0x4e0d55(0x177),'image':a50_0x4e0d55(0x15b),'color':'#F0932B','levels':[0x50,0x55,0x5a,0x5f,0x64]},'Collector\x20Ribbon':{'description':'Hold\x20more\x20than\x205\x20ribbons\x20at\x20a\x20time','image':a50_0x4e0d55(0x189),'color':'#6C5CE7','levels':[0x5,0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32]},'Sub-Gamer\x20Ribbon':{'description':'Play\x20over\x2050\x20subgame\x20matches','image':'../images/ribbons/Subgamer.png','color':'#A29BFE','levels':[0x32,0x64,0x96,0xc8,0xfa,0x12c,0x15e,0x190,0x1c2,0x1f4]},'Explorer\x20Ribbon':{'description':'Played\x20at\x20least\x2020\x20unique\x20maps','image':a50_0x4e0d55(0x192),'color':'#55A3FF','levels':[0x14,0x28,0x3c,0x50,0x64,0x78,0x8c,0xa0,0xb4,0xc8]},'Socialite\x20Ribbon':{'description':'Played\x20at\x20least\x2010\x20unique\x20pilots','image':a50_0x4e0d55(0x190),'color':'#FF7675','levels':[0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32,0x37]},'Underdog\x20Ribbon':{'description':'Beat\x20a\x20pilot\x20ranked\x20higher\x20than\x20you','image':'../images/ribbons/Underdog.png','color':'#FF9500','levels':[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0x9,0xa]},'Domination\x20Ribbon':{'description':'Beat\x205\x20unique\x20pilots\x20in\x20a\x20rank\x20(including\x20your\x20own)','image':a50_0x4e0d55(0x164),'color':'#8E44AD','levels':[0x1,0x2,0x3,0x4,0x5]},'Top\x20Bronze\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Bronze\x20rank','image':a50_0x4e0d55(0x121),'color':a50_0x4e0d55(0x179)},'Top\x20Silver\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Silver\x20rank','image':a50_0x4e0d55(0x121),'color':a50_0x4e0d55(0x17a)},'Top\x20Gold\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Gold\x20rank','image':'../images/ribbons/toprank.png','color':'#FFD700'},'Top\x20Emerald\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Emerald\x20rank','image':'../images/ribbons/toprank.png','color':a50_0x4e0d55(0x17d)}};export const RIBBON_CSS='\x0a/*\x20Stats\x20integration\x20styles\x20*/\x0a.ribbon-section\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-top:\x201rem;\x0a}\x0a\x0a.ribbon-stat-item.full-width\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-bottom:\x200;\x0a}\x0a\x0a/*\x20Military\x20Ribbon\x20Rack\x20Styling\x20-\x20NO\x20OUTER\x20CONTAINER\x20*/\x0a.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20padding:\x200;\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20box-shadow:\x20none;\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20align-items:\x20flex-start;\x0a}\x0a\x0a.ribbon-rack-empty-inline\x20{\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20padding:\x2060px\x2040px;\x0a\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20border-radius:\x2012px;\x0a\x20\x20\x20\x20border:\x202px\x20solid\x20rgba(255,\x20255,\x20255,\x200.1);\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a}\x0a\x0a.empty-rack-text\x20{\x0a\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20font-style:\x20italic;\x0a\x20\x20\x20\x20font-size:\x201.2rem;\x0a}\x0a\x0a/*\x20Ribbon\x20Rows\x20*/\x0a.ribbon-row\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x206px;\x0a\x20\x20\x20\x20margin-bottom:\x206px;\x0a\x20\x20\x20\x20justify-content:\x20flex-start;\x0a}\x0a\x0a.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20margin-left:\x2060px;\x0a}\x0a\x0a/*\x20Individual\x20Military\x20Ribbon\x20Styling\x20-\x20FIXED\x20OVERFLOW\x20FOR\x20LEVEL\x20INDICATOR\x20*/\x0a.military-ribbon\x20{\x0a\x20\x20\x20\x20position:\x20relative;\x0a\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20transition:\x20transform\x200.3s\x20ease;\x0a\x20\x20\x20\x20flex-shrink:\x200;\x0a\x20\x20\x20\x20width:\x20190px;\x0a\x20\x20\x20\x20height:\x2060px;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#333;\x0a\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20overflow:\x20visible;\x20/*\x20Changed\x20from\x20hidden\x20to\x20visible\x20*/\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20margin:\x2012px\x2012px\x2012px\x200;\x20/*\x20Added\x20margin\x20to\x20prevent\x20clipping\x20*/\x0a}\x0a\x0a.military-ribbon:hover\x20{\x0a\x20\x20\x20\x20transform:\x20translateY(-4px);\x0a\x20\x20\x20\x20z-index:\x2010;\x0a}\x0a\x0a/*\x20Ribbon\x20image\x20container\x20to\x20handle\x20the\x20actual\x20overflow\x20*/\x0a.ribbon-image-container\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20border-radius:\x201px;\x0a}\x0a\x0a.ribbon-image\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20object-fit:\x20cover;\x0a\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20image-rendering:\x20crisp-edges;\x0a}\x0a\x0a.ribbon-fallback\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20text-shadow:\x200\x202px\x204px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a}\x0a\x0a.ribbon-name\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.9);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201.2;\x0a\x20\x20\x20\x20margin-top:\x206px;\x0a\x20\x20\x20\x20max-width:\x20120px;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20text-overflow:\x20ellipsis;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20-24px;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20font-weight:\x20500;\x0a}\x0a\x0a.military-ribbon:hover\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20display:\x20block;\x0a}\x0a\x0a.ribbon-devices\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x2050%;\x0a\x20\x20\x20\x20right:\x206px;\x0a\x20\x20\x20\x20transform:\x20translateY(-50%);\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x203px;\x0a\x20\x20\x20\x20z-index:\x205;\x0a}\x0a\x0a.ribbon-device\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20text-shadow:\x200\x200\x204px\x20rgba(0,0,0,0.9);\x0a\x20\x20\x20\x20filter:\x20drop-shadow(0\x202px\x204px\x20rgba(0,0,0,0.8));\x0a}\x0a\x0a.bronze-star\x20{\x0a\x20\x20\x20\x20color:\x20#CD7F32;\x0a}\x0a\x0a.silver-star\x20{\x0a\x20\x20\x20\x20color:\x20#C0C0C0;\x0a}\x0a\x0a.gold-star\x20{\x0a\x20\x20\x20\x20color:\x20#FFD700;\x0a}\x0a\x0a/*\x20Level\x20indicator\x20-\x20NOW\x20FULLY\x20VISIBLE\x20*/\x0a.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x20-8px;\x0a\x20\x20\x20\x20right:\x20-8px;\x0a\x20\x20\x20\x20background:\x20#FFD700;\x0a\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20width:\x2024px;\x0a\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#FFF;\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x208px\x20rgba(0,0,0,0.7);\x0a\x20\x20\x20\x20z-index:\x206;\x0a}\x0a\x0a/*\x20Custom\x20tooltip\x20-\x20only\x20this\x20one\x20will\x20show\x20*/\x0a.military-ribbon::before\x20{\x0a\x20\x20\x20\x20content:\x20attr(data-tooltip);\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20100%;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20background:\x20rgba(0,0,0,0.95);\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20padding:\x208px\x2012px;\x0a\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20pointer-events:\x20none;\x0a\x20\x20\x20\x20transition:\x20opacity\x200.3s;\x0a\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20margin-bottom:\x208px;\x0a\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(255,\x20255,\x20255,\x200.2);\x0a}\x0a\x0a.military-ribbon:hover::before\x20{\x0a\x20\x20\x20\x20opacity:\x201;\x0a}\x0a\x0a/*\x20Responsive\x20adjustments\x20*/\x0a@media\x20(max-width:\x201024px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2034px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x208px\x208px\x208px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-6px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-6px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2052px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-20px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20768px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2028px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x206px\x206px\x206px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x209px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-5px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-5px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2042px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2011px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-18px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x205px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20480px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2070px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x205px\x205px\x205px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2036px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x204px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-4px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-4px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a.stats-grid\x20.ribbon-section\x20{\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20padding:\x200;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20{\x0a\x20\x20\x20\x20background-color:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20padding:\x2025px;\x0a\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20.stat-label\x20{\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20text-transform:\x20uppercase;\x0a\x20\x20\x20\x20opacity:\x200.9;\x0a\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.95);\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a}\x0a\x0a.ribbon-level-indicator.level-1\x20{\x20background:\x20#808080;\x20}\x0a.ribbon-level-indicator.level-2\x20{\x20background:\x20#CD7F32;\x20}\x0a.ribbon-level-indicator.level-3\x20{\x20background:\x20#b9f1fc;\x20}\x0a.ribbon-level-indicator.level-4\x20{\x20background:\x20#FFD700;\x20}\x0a.ribbon-level-indicator.level-5-plus\x20{\x20background:\x20#50C878;\x20}\x0a';class RibbonCacheManager{constructor(){const _0x2057e9=a50_0x4e0d55;this['memoryCache']=new Map(),this['CACHE_DURATION']=0x3c*0x3c*0x3e8,this['CACHE_KEY_PREFIX']='ribbon_cache_',this[_0x2057e9(0x160)]=Date['now'](),this['CLEANUP_INTERVAL']=0x1e*0x3c*0x3e8;}[a50_0x4e0d55(0x168)](_0x433b91,_0x42dc9d){return''+this['CACHE_KEY_PREFIX']+_0x433b91+'_'+_0x42dc9d;}[a50_0x4e0d55(0x149)](_0x3594ef,_0x46f94f){const _0x3ff6fc=a50_0x4e0d55;this['autoCleanup']();const _0x57fa1a=this['getCacheKey'](_0x3594ef,_0x46f94f);if(this[_0x3ff6fc(0x171)][_0x3ff6fc(0x12c)](_0x57fa1a)){const _0x104f06=this['memoryCache']['get'](_0x57fa1a);if(Date['now']()-_0x104f06[_0x3ff6fc(0x11f)]<this[_0x3ff6fc(0x113)])return console['log'](_0x3ff6fc(0x155)+_0x3594ef),_0x104f06['data'];this['memoryCache'][_0x3ff6fc(0x15d)](_0x57fa1a);}const _0x5863ff=localStorage[_0x3ff6fc(0x11c)](_0x57fa1a);if(_0x5863ff)try{const _0x3bd9a9=JSON['parse'](_0x5863ff);if(Date['now']()-_0x3bd9a9[_0x3ff6fc(0x11f)]<this['CACHE_DURATION'])return this['memoryCache'][_0x3ff6fc(0x134)](_0x57fa1a,{'data':_0x3bd9a9['ribbons'],'timestamp':_0x3bd9a9['timestamp'],'matchCount':_0x3bd9a9[_0x3ff6fc(0x17c)]}),console['log'](_0x3ff6fc(0x17f)+_0x3594ef),_0x3bd9a9['ribbons'];localStorage['removeItem'](_0x57fa1a);}catch(_0x5804c9){localStorage['removeItem'](_0x57fa1a);}return null;}['setCachedData'](_0x3d43b9,_0x27fce2,_0x400217,_0x1d3fca){const _0x308601=this['getCacheKey'](_0x3d43b9,_0x27fce2),_0x2a1a7c=Date['now']();this['memoryCache']['set'](_0x308601,{'data':_0x400217,'timestamp':_0x2a1a7c,'matchCount':_0x1d3fca});try{const _0x46db02={'ribbons':_0x400217,'matchCount':_0x1d3fca,'timestamp':_0x2a1a7c,'version':0x3};localStorage['setItem'](_0x308601,JSON['stringify'](_0x46db02));}catch(_0x4a7e23){this['clearOldCache']();try{localStorage['setItem'](_0x308601,JSON['stringify'](data));}catch(_0x34a23b){}}}['shouldRefreshCache'](_0x50c783,_0x1043c2,_0x337e7a){const _0x1df436=a50_0x4e0d55,_0x2113ae=this[_0x1df436(0x168)](_0x50c783,_0x1043c2);if(this[_0x1df436(0x171)]['has'](_0x2113ae)){const _0x5b1f9b=this[_0x1df436(0x171)][_0x1df436(0x166)](_0x2113ae);return _0x5b1f9b['matchCount']!==_0x337e7a;}const _0x4d5d12=localStorage['getItem'](_0x2113ae);if(_0x4d5d12)try{const _0x1b0597=JSON['parse'](_0x4d5d12);return _0x1b0597['matchCount']!==_0x337e7a;}catch(_0x291bfe){return!![];}return!![];}['invalidatePlayerCache'](_0x4ff165,_0x4608f8){const _0x12e2d0=this['getCacheKey'](_0x4ff165,_0x4608f8);this['memoryCache']['delete'](_0x12e2d0),localStorage['removeItem'](_0x12e2d0),console['log']('üóëÔ∏è\x20Invalidated\x20cache\x20for\x20'+_0x4ff165+'\x20('+_0x4608f8+')\x20-\x20new\x20match\x20detected');}['autoCleanup'](){const _0x2803d4=a50_0x4e0d55,_0x1ac36b=Date['now']();_0x1ac36b-this[_0x2803d4(0x160)]>this['CLEANUP_INTERVAL']&&(this['cleanup'](),this['lastCleanup']=_0x1ac36b);}['cleanup'](){const _0x5b62b2=a50_0x4e0d55,_0x48561b=Date['now']();let _0x30b21a=0x0,_0x10d8a9=0x0;for(const [_0x11ffaf,_0x5394db]of this['memoryCache']['entries']()){_0x48561b-_0x5394db['timestamp']>this['CACHE_DURATION']&&(this['memoryCache'][_0x5b62b2(0x15d)](_0x11ffaf),_0x30b21a++);}for(let _0x6e0719=localStorage[_0x5b62b2(0x18b)]-0x1;_0x6e0719>=0x0;_0x6e0719--){const _0x428cb4=localStorage['key'](_0x6e0719);if(_0x428cb4&&_0x428cb4[_0x5b62b2(0x148)](this['CACHE_KEY_PREFIX']))try{const _0x3d66e7=JSON[_0x5b62b2(0x138)](localStorage['getItem'](_0x428cb4));_0x48561b-_0x3d66e7['timestamp']>this[_0x5b62b2(0x113)]&&(localStorage[_0x5b62b2(0x16f)](_0x428cb4),_0x10d8a9++);}catch(_0xc71925){localStorage['removeItem'](_0x428cb4),_0x10d8a9++;}}}['clearOldCache'](){const _0x3fc5d1=a50_0x4e0d55,_0x40347d=[];for(let _0x4a7fa2=0x0;_0x4a7fa2<localStorage['length'];_0x4a7fa2++){const _0x41bba3=localStorage['key'](_0x4a7fa2);if(_0x41bba3&&_0x41bba3['startsWith'](this['CACHE_KEY_PREFIX']))try{const _0x35b2a6=JSON['parse'](localStorage[_0x3fc5d1(0x11c)](_0x41bba3));_0x40347d[_0x3fc5d1(0x12d)]({'key':_0x41bba3,'timestamp':_0x35b2a6[_0x3fc5d1(0x11f)]});}catch(_0x11dd5b){localStorage['removeItem'](_0x41bba3);}}_0x40347d['sort']((_0x5a5a74,_0xae6d03)=>_0x5a5a74['timestamp']-_0xae6d03['timestamp']);const _0x455364=Math['floor'](_0x40347d[_0x3fc5d1(0x18b)]/0x2);for(let _0x3992e1=0x0;_0x3992e1<_0x455364;_0x3992e1++){localStorage[_0x3fc5d1(0x16f)](_0x40347d[_0x3992e1]['key']);}}[a50_0x4e0d55(0x115)](){return{'memoryEntries':this['memoryCache']['size'],'lastCleanup':new Date(this['lastCleanup'])['toLocaleTimeString']()};}}class MatchCacheManager{constructor(){const _0x132445=a50_0x4e0d55;this[_0x132445(0x187)]=new Map(),this[_0x132445(0x113)]=0xf*0x3c*0x3e8,this['lastCleanup']=Date['now']();}[a50_0x4e0d55(0x125)](_0x3e930c,_0x2e0cac){const _0x586a26=a50_0x4e0d55;this['autoCleanup']();const _0x9237a=_0x3e930c+'_'+_0x2e0cac,_0x7121df=this['matchCache'][_0x586a26(0x166)](_0x9237a);if(_0x7121df&&Date['now']()-_0x7121df['timestamp']<this['CACHE_DURATION'])return console[_0x586a26(0x14e)]('üéØ\x20Cache\x20hit\x20(matches)\x20for\x20'+_0x3e930c),_0x7121df[_0x586a26(0x173)];return _0x7121df&&this['matchCache'][_0x586a26(0x15d)](_0x9237a),null;}['setCachedMatches'](_0x23e196,_0x579624,_0x4aefb0){const _0x19eae7=a50_0x4e0d55,_0x131c5b=_0x23e196+'_'+_0x579624;this[_0x19eae7(0x187)]['set'](_0x131c5b,{'matches':_0x4aefb0,'timestamp':Date[_0x19eae7(0x129)]()});}['autoCleanup'](){const _0x1ae0db=a50_0x4e0d55,_0x28abde=Date['now']();if(_0x28abde-this['lastCleanup']>0x5*0x3c*0x3e8){let _0x378f58=0x0;for(const [_0x575d5b,_0x3dd358]of this[_0x1ae0db(0x187)]['entries']()){_0x28abde-_0x3dd358['timestamp']>this['CACHE_DURATION']&&(this['matchCache'][_0x1ae0db(0x15d)](_0x575d5b),_0x378f58++);}this[_0x1ae0db(0x160)]=_0x28abde;}}[a50_0x4e0d55(0x115)](){return{'entries':this['matchCache']['size'],'lastCleanup':new Date(this['lastCleanup'])['toLocaleTimeString']()};}}function a50_0x5b4b(){const _0x109a78=['level-1','\x20players,\x20Top:\x20','Standard','CACHE_DURATION','getPlayerRibbonsCached','getCacheStats','all','Emerald','üéØ\x20Found\x20','approvedMatchesD2','endsWith','evaluateUnderdogRibbonFromCount','getItem','level-5-plus',')\x20vs\x20Loser(','timestamp','üëë\x20Dominated\x20','../images/ribbons/toprank.png','%\x20win\x20rate\x20over\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-name\x22>','\x20or\x20','getCachedMatches','\x20matches','subgameType','min','now','evaluateBrickWallRibbonFromWinRate','‚úÖ\x20Found\x20player\x20data\x20for\x20','has','push','Rematch\x20Ribbon','ribbons','\x20earned\x20','\x20Badge','winnerUsername','\x20player\x20records\x20for\x20underdog\x20calculations...','set','join','\x20ranks:\x20[','error','parse','</div>','levels','getPlayerDataCached','mapPlayed','level-4','getPlayerMatchesOptimized','\x20underdog\x20victories\x20for\x20','evaluateOverachieverRibbonFromCount','‚ùå\x20No\x20player\x20data\x20found\x20for\x20','size','subgameMatches','keys','dominatedRanks','Bronze','savePlayerRibbonsOptimized','startsWith','getCachedData','<div\x20class=\x22ribbon-level-indicator\x20','Top\x20','trace','uniqueOpponents','log','toString','evaluateAllRibbonsFromData','playersD3','üëë\x20NEW\x20Top\x20Rank\x20Achievement:\x20','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22ribbon-image\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27;\x20this.nextElementSibling.style.display=\x27block\x27;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-fallback\x22\x20style=\x22display:\x20none;\x20background:\x20','eloRating','üöÄ\x20Cache\x20hit\x20(memory)\x20for\x20','‚ùå\x20Error\x20fetching\x20matches:','findIndex','apply','evaluateDominationRibbonFromRanks','totalMatches','../images/ribbons/BrickWall.png','‚ö†Ô∏è\x20No\x20current\x20player\x20data\x20found\x20for\x20','delete','isUnderdogVictoryFast','wins','lastCleanup','BATCH_DELAY','pendingEvaluations','map','../images/ribbons/Domination.png','\x20Tier:\x20','get',',\x20Position\x20','getCacheKey','Overachiever\x20Ribbon','Socialite\x20Ribbon','console','playersD2','üöÄ\x20Bulk\x20loading\x20','rating','removeItem','data','memoryCache','level','matches','Beat\x20a\x20pilot\x20with\x20the\x20\x22Rematch\x22\x20subgame\x20selected','Brick\x20Wall','\x20‚Üí\x20','Amass\x20at\x20least\x2080%\x20overall\x20win\x20rate\x20percentage\x20(minimum\x2050\x20matches)','<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20gold-star\x22></i>','#CD7F32','#C0C0C0','\x20status\x20for\x20','matchCount','#50C878','Unranked','üíæ\x20Cache\x20hit\x20(localStorage)\x20for\x20','bind','uniqueMaps','<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>','playerRibbons','rematchWins','‚úÖ\x20Preserving\x20existing\x20','Sub-Gamer\x20Ribbon','matchCache','evaluateAllRibbonsForPlayerOptimized','../images/ribbons/Collector.png','forEach','length','\x20ELO)','replace','\x20is\x20Unranked\x20(','__proto__','../images/ribbons/Socialite.png','underdogWins','../images/ribbons/Explorer.png','\x20-\x20Level\x20','Explorer\x20Ribbon','evaluateExplorerRibbonFromCount','loserUsername','shouldRefreshCache','evaluateSocialiteRibbonFromCount','username'];a50_0x5b4b=function(){return _0x109a78;};return a50_0x5b4b();}class RibbonSystem{constructor(){const _0x3313b0=a50_0x4e0d55;this[_0x3313b0(0x162)]=new Map(),this['batchTimer']=null,this[_0x3313b0(0x161)]=0x32,this['playerDataCache']=new Map();}async['bulkLoadPlayerData'](_0x1b6955,_0x413353){const _0x326d36=a50_0x4e0d55,_0x80e8ef=_0x413353==='D1'?'players':_0x413353==='D2'?'playersD2':'playersD3',_0x4012eb=collection(db,_0x80e8ef),_0x1eb58d=await getDocs(_0x4012eb),_0x33970b=new Map();return _0x1eb58d['forEach'](_0x3cd9c9=>{const _0x120230=a50_0x2427,_0x5c401a=_0x3cd9c9['data']();_0x5c401a['username']&&(_0x5c401a[_0x120230(0x154)]!==undefined&&(_0x5c401a['rating']=_0x5c401a['eloRating']),_0x33970b['set'](_0x5c401a['username'],_0x5c401a));}),console[_0x326d36(0x14e)]('üìä\x20Bulk\x20loaded\x20'+_0x33970b['size']+'\x20players\x20from\x20'+_0x80e8ef),_0x33970b;}async[a50_0x4e0d55(0x150)](_0xb769b7,_0x5c419a,_0x53d637,_0x32002e){const _0x3779af=a50_0x4e0d55,_0x4a498c={},_0x5ed6e8=_0x5c419a[_0x3779af(0x199)],_0xfbab8a={'totalMatches':_0xb769b7['length'],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0,'dominatedRanks':new Set()},_0x4ec099=new Set();_0xb769b7['forEach'](_0x5ecfd7=>{const _0x52017e=_0x3779af,_0x305f13=_0x5ecfd7['winnerUsername']===_0x5ed6e8,_0x14dc33=_0x305f13?_0x5ecfd7[_0x52017e(0x196)]:_0x5ecfd7[_0x52017e(0x132)];if(_0x14dc33)_0x4ec099['add'](_0x14dc33);}),console['log']('üöÄ\x20Bulk\x20loading\x20'+_0x4ec099['size']+_0x3779af(0x133));const _0x162c3b=await this['bulkLoadPlayerData']([..._0x4ec099,_0x5ed6e8],_0x32002e),_0x2d6a3d=_0x162c3b[_0x3779af(0x166)](_0x5ed6e8);!_0x2d6a3d&&console['log'](_0x3779af(0x15c)+_0x5ed6e8);const _0x5b0788={0x0:new Set(),0x1:new Set(),0x2:new Set(),0x3:new Set(),0x4:new Set()};_0xb769b7[_0x3779af(0x18a)](_0x224c34=>{const _0x3e3bd9=_0x3779af,_0x246500=_0x224c34[_0x3e3bd9(0x132)]===_0x5ed6e8,_0x5b0ea1=_0x246500?_0x224c34['loserUsername']:_0x224c34['winnerUsername'];if(_0x246500){_0xfbab8a[_0x3e3bd9(0x15f)]++;_0x224c34[_0x3e3bd9(0x127)]==='Rematch'&&_0xfbab8a['rematchWins']++;this[_0x3e3bd9(0x15e)](_0x224c34,_0x5ed6e8,_0x2d6a3d,_0x162c3b)&&_0xfbab8a['underdogWins']++;const _0x5e8f99=_0x162c3b['get'](_0x5b0ea1);if(_0x5e8f99){const _0x552aa5=_0x5e8f99[_0x3e3bd9(0x154)]||0x0,_0x51092b=getPlayerRankTier(_0x552aa5);_0x5b0788[_0x51092b]['add'](_0x5b0ea1);}}_0x224c34['subgameType']&&_0x224c34['subgameType']!==_0x3e3bd9(0x112)&&_0xfbab8a['subgameMatches']++,_0x224c34['mapPlayed']&&_0xfbab8a['uniqueMaps']['add'](_0x224c34[_0x3e3bd9(0x13c)]),_0x5b0ea1&&_0xfbab8a[_0x3e3bd9(0x14d)]['add'](_0x5b0ea1);}),Object['keys'](_0x5b0788)[_0x3779af(0x18a)](_0x14c298=>{_0x5b0788[_0x14c298]['size']>=0x5&&_0xfbab8a['dominatedRanks']['add'](parseInt(_0x14c298));}),console[_0x3779af(0x14e)](_0x3779af(0x118)+_0xfbab8a[_0x3779af(0x191)]+_0x3779af(0x13f)+_0x5ed6e8),console[_0x3779af(0x14e)](_0x3779af(0x120)+_0xfbab8a[_0x3779af(0x145)]['size']+_0x3779af(0x136)+Array['from'](_0xfbab8a['dominatedRanks'])[_0x3779af(0x163)](_0x3105b1=>getRankTierName(_0x3105b1))[_0x3779af(0x135)](',\x20')+']');const _0x9057ad=_0xfbab8a['totalMatches']>0x0?_0xfbab8a['wins']/_0xfbab8a[_0x3779af(0x15a)]*0x64:0x0,_0x150759=[['Overachiever\x20Ribbon',this[_0x3779af(0x140)](_0xfbab8a['totalMatches'],_0x53d637)],[_0x3779af(0x12e),this['evaluateRematchRibbonFromCount'](_0xfbab8a['rematchWins'],_0x53d637)],[_0x3779af(0x186),this['evaluateSubGamerRibbonFromCount'](_0xfbab8a['subgameMatches'],_0x53d637)],[_0x3779af(0x194),this['evaluateExplorerRibbonFromCount'](_0xfbab8a['uniqueMaps'][_0x3779af(0x142)],_0x53d637)],['Socialite\x20Ribbon',this['evaluateSocialiteRibbonFromCount'](_0xfbab8a['uniqueOpponents'][_0x3779af(0x142)],_0x53d637)],['Brick\x20Wall',this['evaluateBrickWallRibbonFromWinRate'](_0x9057ad,_0x53d637,_0xfbab8a[_0x3779af(0x15a)])],['Underdog\x20Ribbon',this['evaluateUnderdogRibbonFromCount'](_0xfbab8a['underdogWins'],_0x53d637)],['Domination\x20Ribbon',this[_0x3779af(0x159)](_0xfbab8a['dominatedRanks']['size'],_0x53d637)]];_0x150759['forEach'](([_0x1c2a5e,_0x18e91b])=>{_0x18e91b&&(_0x4a498c[_0x1c2a5e]=_0x18e91b);});const _0x502f36=Object['keys'](_0x53d637)['length']+Object[_0x3779af(0x144)](_0x4a498c)['length'],_0x4e2631=this['evaluateCollectorRibbonFromCount'](_0x502f36,_0x53d637);return _0x4e2631&&(_0x4a498c['Collector\x20Ribbon']=_0x4e2631),_0x4a498c;}['evaluateDominationRibbonFromRanks'](_0x4cdaf9,_0x4b840e){const _0x204772=a50_0x4e0d55;if(_0x4cdaf9===0x0)return null;const _0x19cace=_0x4b840e['Domination\x20Ribbon']||{'level':0x0};if(_0x4cdaf9>_0x19cace['level']){const _0x20c0e2=[];for(let _0x58afee=0x0;_0x58afee<_0x4cdaf9;_0x58afee++){_0x20c0e2['push'](getRankTierName(_0x58afee));}return console[_0x204772(0x14e)]('üëë\x20Domination\x20Ribbon\x20awarded:\x20Level\x20'+_0x19cace['level']+_0x204772(0x176)+_0x4cdaf9+'\x20(Dominated:\x20'+_0x20c0e2['join'](',\x20')+')'),{'level':_0x4cdaf9,'awardedAt':new Date(),'dominatedRanks':_0x20c0e2};}return null;}async['checkTopRankStatus'](_0x146068,_0x30136a){const _0x16eab3=a50_0x4e0d55;try{const _0x438795=_0x30136a==='D1'?'players':_0x30136a==='D2'?'playersD2':'playersD3',_0x2ab555=await this[_0x16eab3(0x13b)](_0x146068,_0x30136a);if(!_0x2ab555||_0x2ab555[_0x16eab3(0x154)]===undefined)return console['log']('‚ùå\x20No\x20ELO\x20rating\x20data\x20for\x20'+_0x146068),null;const _0x33e83e=_0x2ab555['eloRating'],_0x2a99f3=getPlayerRankTier(_0x33e83e),_0x1bd580=getRankTierName(_0x2a99f3);if(_0x1bd580==='Unranked')return console['log']('‚ùå\x20'+_0x146068+_0x16eab3(0x18e)+_0x33e83e+_0x16eab3(0x18c)),null;console['log']('üîç\x20Checking\x20Top\x20'+_0x1bd580+_0x16eab3(0x17b)+_0x146068+'\x20('+_0x33e83e+_0x16eab3(0x18c));const _0x30dcb5=collection(db,_0x438795),_0x116fee=await getDocs(_0x30dcb5);let _0x1c495e=null,_0x1cc3a0=-0x1,_0x3a1512=0x0;_0x116fee['forEach'](_0x3d441a=>{const _0x5e87da=_0x16eab3,_0x176de0=_0x3d441a[_0x5e87da(0x170)](),_0x9f2ee6=_0x176de0['eloRating']||0x0,_0x4a6f7e=getPlayerRankTier(_0x9f2ee6);_0x4a6f7e===_0x2a99f3&&(_0x3a1512++,_0x9f2ee6>_0x1cc3a0&&(_0x1cc3a0=_0x9f2ee6,_0x1c495e=_0x176de0['username']));});const _0x46b9f8=_0x1c495e===_0x146068;return console['log']('üìä\x20'+_0x1bd580+_0x16eab3(0x165)+_0x3a1512+_0x16eab3(0x111)+_0x1c495e+'\x20('+_0x1cc3a0+'\x20ELO),\x20'+_0x146068+'\x20is\x20#1:\x20'+_0x46b9f8),_0x46b9f8?_0x1bd580:null;}catch(_0x323352){return console[_0x16eab3(0x137)]('Error\x20checking\x20top\x20rank\x20status:',_0x323352),null;}}async['evaluateTopRankRibbon'](_0x2d6b15,_0x258ea6,_0xfe7a10){const _0x4de95c=a50_0x4e0d55,_0x4ed9fd=await this['checkTopRankStatus'](_0x2d6b15,_0x258ea6),_0x276dfe={};if(_0x4ed9fd){const _0x131dce='Top\x20'+_0x4ed9fd+'\x20Pilot';if(RIBBON_DEFINITIONS[_0x131dce]){const _0x254cda=_0xfe7a10[_0x131dce];!_0x254cda?(console['log'](_0x4de95c(0x152)+_0x2d6b15+_0x4de95c(0x130)+_0x131dce+'!'),_0x276dfe[_0x131dce]={'level':0x1,'awardedAt':new Date(),'rank':_0x4ed9fd,'achievedAt':new Date()}):console['log']('‚úÖ\x20'+_0x2d6b15+'\x20already\x20has\x20'+_0x131dce+'\x20-\x20No\x20changes\x20needed');}}return Object['keys'](_0xfe7a10)['forEach'](_0x42ed3a=>{const _0x48d89e=_0x4de95c;_0x42ed3a['startsWith'](_0x48d89e(0x14b))&&_0x42ed3a[_0x48d89e(0x11a)]('\x20Pilot')&&(!_0x276dfe[_0x42ed3a]&&console['log'](_0x48d89e(0x185)+_0x42ed3a));}),_0x276dfe;}async[a50_0x4e0d55(0x188)](_0x434c8f,_0x540f68='D1'){const _0x29963e=a50_0x4e0d55;try{const _0x536b1e=ribbonCache['getCachedData'](_0x434c8f,_0x540f68);if(_0x536b1e){const _0x116e46=await this['evaluateTopRankRibbon'](_0x434c8f,_0x540f68,_0x536b1e);if(Object[_0x29963e(0x144)](_0x116e46)['length']>0x0){console['log']('üÜï\x20New\x20top\x20rank\x20achievements\x20found\x20for\x20cached\x20player\x20'+_0x434c8f),await this['savePlayerRibbonsOptimized'](_0x434c8f,_0x116e46,_0x540f68);const _0x5a0238={..._0x536b1e,..._0x116e46};return ribbonCache['setCachedData'](_0x434c8f,_0x540f68,_0x5a0238,0x0),_0x5a0238;}return _0x536b1e;}const [_0x299a28,_0x3e6f65]=await Promise[_0x29963e(0x116)]([this[_0x29963e(0x13b)](_0x434c8f,_0x540f68),this[_0x29963e(0x114)](_0x434c8f,_0x540f68)]);if(!_0x299a28)return{};const _0x51d5f5=_0x299a28['matchesPlayed']||0x0,_0x10d469=await this['evaluateTopRankRibbon'](_0x434c8f,_0x540f68,_0x3e6f65);if(!ribbonCache[_0x29963e(0x197)](_0x434c8f,_0x540f68,_0x51d5f5)){if(Object[_0x29963e(0x144)](_0x10d469)['length']>0x0){await this[_0x29963e(0x147)](_0x434c8f,_0x10d469,_0x540f68);const _0x3447b1={..._0x3e6f65,..._0x10d469};return ribbonCache['setCachedData'](_0x434c8f,_0x540f68,_0x3447b1,_0x51d5f5),_0x3447b1;}return ribbonCache['setCachedData'](_0x434c8f,_0x540f68,_0x3e6f65,_0x51d5f5),_0x3e6f65;}const _0x200864=await this['getPlayerMatchesOptimized'](_0x434c8f,_0x540f68),_0x5592d0=await this['evaluateAllRibbonsFromData'](_0x200864,_0x299a28,_0x3e6f65,_0x540f68);Object['assign'](_0x5592d0,_0x10d469);Object['keys'](_0x5592d0)['length']>0x0&&(console['log']('üíæ\x20Saving\x20'+Object[_0x29963e(0x144)](_0x5592d0)['length']+'\x20new/updated\x20ribbons\x20for\x20'+_0x434c8f),await this['savePlayerRibbonsOptimized'](_0x434c8f,_0x5592d0,_0x540f68));const _0x5b3e70={..._0x3e6f65,..._0x5592d0};return ribbonCache['setCachedData'](_0x434c8f,_0x540f68,_0x5b3e70,_0x200864['length']),_0x5b3e70;}catch(_0x4f9cb3){return console[_0x29963e(0x137)]('‚ùå\x20Error\x20in\x20ribbon\x20evaluation:',_0x4f9cb3),{};}}async['isUnderdogVictory'](_0x4d8d5c,_0x159c72,_0x38c1b7){const _0xebb3=a50_0x4e0d55,_0x11601b=_0x4d8d5c['winnerUsername']===_0x159c72;if(!_0x11601b)return![];const _0x17e08b=_0x4d8d5c['loserUsername'],[_0x2ee21a,_0x7cfe90]=await Promise[_0xebb3(0x116)]([this['getPlayerDataCached'](_0x159c72,_0x38c1b7),this[_0xebb3(0x13b)](_0x17e08b,_0x38c1b7)]);if(!_0x2ee21a||!_0x7cfe90)return console['log']('‚ö†Ô∏è\x20Missing\x20player\x20data\x20for\x20'+_0x159c72+_0xebb3(0x124)+_0x17e08b),![];const _0x16ab11=_0x2ee21a[_0xebb3(0x154)]||0x0,_0x4c6066=_0x7cfe90[_0xebb3(0x154)]||0x0,_0x3e4e79=getPlayerRankTier(_0x16ab11),_0x4aa8eb=getPlayerRankTier(_0x4c6066);console['log']('üîç\x20Checking\x20underdog:\x20Winner('+_0x159c72+'):\x20'+_0x16ab11+'\x20ELO\x20('+getRankTierName(_0x3e4e79)+_0xebb3(0x11e)+_0x17e08b+'):\x20'+_0x4c6066+'\x20ELO\x20('+getRankTierName(_0x4aa8eb)+')');if(_0x4aa8eb>_0x3e4e79)return console['log']('üéØ\x20UNDERDOG\x20VICTORY:\x20'+getRankTierName(_0x3e4e79)+'\x20beat\x20'+getRankTierName(_0x4aa8eb)+'!'),!![];return console[_0xebb3(0x14e)]('‚ùå\x20Not\x20underdog:\x20'+getRankTierName(_0x3e4e79)+'\x20vs\x20'+getRankTierName(_0x4aa8eb)),![];}[a50_0x4e0d55(0x15e)](_0x2d30ea,_0x17a64e,_0x60fe44,_0xed2051){const _0x3d78e2=a50_0x4e0d55,_0x2dd83a=_0x2d30ea['winnerUsername']===_0x17a64e;if(!_0x2dd83a)return![];const _0x585ea1=_0x2d30ea['loserUsername'],_0x37e361=_0xed2051['get'](_0x585ea1);if(!_0x60fe44||!_0x37e361)return![];const _0x517ae6=_0x60fe44['eloRating']||0x0,_0x3b134c=_0x37e361[_0x3d78e2(0x154)]||0x0,_0x2135a7=getPlayerRankTier(_0x517ae6),_0x257b83=getPlayerRankTier(_0x3b134c);if(_0x257b83>_0x2135a7)return console[_0x3d78e2(0x14e)]('üéØ\x20UNDERDOG:\x20'+getRankTierName(_0x2135a7)+'('+_0x517ae6+')\x20beat\x20'+getRankTierName(_0x257b83)+'('+_0x3b134c+')'),!![];return![];}async[a50_0x4e0d55(0x150)](_0x68204,_0x2de354,_0x5d7d0f,_0x4ff597){const _0x2fa254=a50_0x4e0d55,_0x4ea51f={},_0x670777=_0x2de354['username'],_0x3c2595={'totalMatches':_0x68204['length'],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0},_0x371188=new Set();_0x68204[_0x2fa254(0x18a)](_0x586a57=>{const _0x21ea47=_0x2fa254,_0x4d39f6=_0x586a57[_0x21ea47(0x132)]===_0x670777,_0x376958=_0x4d39f6?_0x586a57['loserUsername']:_0x586a57['winnerUsername'];if(_0x376958)_0x371188['add'](_0x376958);}),console['log'](_0x2fa254(0x16d)+_0x371188['size']+'\x20player\x20records\x20for\x20underdog\x20calculations...');const _0x31ffcc=await this['bulkLoadPlayerData']([..._0x371188,_0x670777],_0x4ff597),_0x202026=_0x31ffcc['get'](_0x670777);!_0x202026&&console['log'](_0x2fa254(0x15c)+_0x670777);_0x68204['forEach'](_0x4c7278=>{const _0x4d5b0d=_0x2fa254,_0x41a1a6=_0x4c7278['winnerUsername']===_0x670777,_0xbd0959=_0x41a1a6?_0x4c7278['loserUsername']:_0x4c7278[_0x4d5b0d(0x132)];_0x41a1a6&&(_0x3c2595['wins']++,_0x4c7278[_0x4d5b0d(0x127)]==='Rematch'&&_0x3c2595[_0x4d5b0d(0x184)]++,this['isUnderdogVictoryFast'](_0x4c7278,_0x670777,_0x202026,_0x31ffcc)&&_0x3c2595['underdogWins']++),_0x4c7278[_0x4d5b0d(0x127)]&&_0x4c7278['subgameType']!=='Standard'&&_0x3c2595['subgameMatches']++,_0x4c7278['mapPlayed']&&_0x3c2595[_0x4d5b0d(0x181)]['add'](_0x4c7278['mapPlayed']),_0xbd0959&&_0x3c2595[_0x4d5b0d(0x14d)]['add'](_0xbd0959);}),console['log']('üéØ\x20Found\x20'+_0x3c2595['underdogWins']+_0x2fa254(0x13f)+_0x670777);const _0x1178ad=_0x3c2595['totalMatches']>0x0?_0x3c2595['wins']/_0x3c2595[_0x2fa254(0x15a)]*0x64:0x0,_0x263ea7=[[_0x2fa254(0x169),this['evaluateOverachieverRibbonFromCount'](_0x3c2595['totalMatches'],_0x5d7d0f)],['Rematch\x20Ribbon',this['evaluateRematchRibbonFromCount'](_0x3c2595['rematchWins'],_0x5d7d0f)],['Sub-Gamer\x20Ribbon',this['evaluateSubGamerRibbonFromCount'](_0x3c2595[_0x2fa254(0x143)],_0x5d7d0f)],['Explorer\x20Ribbon',this['evaluateExplorerRibbonFromCount'](_0x3c2595[_0x2fa254(0x181)]['size'],_0x5d7d0f)],[_0x2fa254(0x16a),this['evaluateSocialiteRibbonFromCount'](_0x3c2595['uniqueOpponents'][_0x2fa254(0x142)],_0x5d7d0f)],[_0x2fa254(0x175),this[_0x2fa254(0x12a)](_0x1178ad,_0x5d7d0f,_0x3c2595['totalMatches'])],['Underdog\x20Ribbon',this[_0x2fa254(0x11b)](_0x3c2595['underdogWins'],_0x5d7d0f)]];_0x263ea7['forEach'](([_0x4d4d3f,_0x59fb31])=>{_0x59fb31&&(_0x4ea51f[_0x4d4d3f]=_0x59fb31);});const _0x428b61=Object['keys'](_0x5d7d0f)['length']+Object['keys'](_0x4ea51f)['length'],_0x2620b7=this['evaluateCollectorRibbonFromCount'](_0x428b61,_0x5d7d0f);return _0x2620b7&&(_0x4ea51f['Collector\x20Ribbon']=_0x2620b7),_0x4ea51f;}async[a50_0x4e0d55(0x13e)](_0x364662,_0x2ea280){const _0x2e2176=a50_0x4e0d55,_0x3ceb4e=matchCache['getCachedMatches'](_0x364662,_0x2ea280);if(_0x3ceb4e)return _0x3ceb4e;try{const _0x430f1c=_0x2ea280==='D1'?'approvedMatches':_0x2ea280==='D2'?_0x2e2176(0x119):'approvedMatchesD3',_0xd38ffa=collection(db,_0x430f1c),[_0x27bca7,_0x2a2c01]=await Promise['all']([getDocs(query(_0xd38ffa,where('winnerUsername','==',_0x364662))),getDocs(query(_0xd38ffa,where('loserUsername','==',_0x364662)))]),_0x4c8ec4=new Set(),_0x49e3f7=[];return _0x27bca7['forEach'](_0x265680=>{const _0x11a833=_0x2e2176;if(!_0x4c8ec4[_0x11a833(0x12c)](_0x265680['id'])){_0x4c8ec4['add'](_0x265680['id']);const _0x2afa96={'id':_0x265680['id'],..._0x265680['data']()};if(!_0x2afa96['winnerRating'])_0x2afa96['winnerRating']=0x0;if(!_0x2afa96['loserRating'])_0x2afa96['loserRating']=0x0;_0x49e3f7[_0x11a833(0x12d)](_0x2afa96);}}),_0x2a2c01[_0x2e2176(0x18a)](_0x4b0511=>{if(!_0x4c8ec4['has'](_0x4b0511['id'])){_0x4c8ec4['add'](_0x4b0511['id']);const _0x317caf={'id':_0x4b0511['id'],..._0x4b0511['data']()};if(!_0x317caf['winnerRating'])_0x317caf['winnerRating']=0x0;if(!_0x317caf['loserRating'])_0x317caf['loserRating']=0x0;_0x49e3f7['push'](_0x317caf);}}),matchCache['setCachedMatches'](_0x364662,_0x2ea280,_0x49e3f7),_0x49e3f7;}catch(_0x433956){return console['error'](_0x2e2176(0x156),_0x433956),[];}}async[a50_0x4e0d55(0x13b)](_0x4ae2ac,_0xb7356d){const _0x138c8d=a50_0x4e0d55;try{const _0x2cfa9a=_0xb7356d==='D1'?'players':_0xb7356d==='D2'?_0x138c8d(0x16c):_0x138c8d(0x151),_0xc5bec6=collection(db,_0x2cfa9a),_0x14076f=query(_0xc5bec6,where(_0x138c8d(0x199),'==',_0x4ae2ac),limit(0x1)),_0x1dfd04=await getDocs(_0x14076f);if(_0x1dfd04['empty'])return console[_0x138c8d(0x14e)](_0x138c8d(0x141)+_0x4ae2ac+'\x20in\x20'+_0x2cfa9a),null;const _0x430252=_0x1dfd04['docs'][0x0]['data']();return _0x430252[_0x138c8d(0x154)]!==undefined&&(_0x430252[_0x138c8d(0x16e)]=_0x430252['eloRating']),console[_0x138c8d(0x14e)](_0x138c8d(0x12b)+_0x4ae2ac+':\x20ELO\x20'+_0x430252[_0x138c8d(0x154)]+_0x138c8d(0x167)+_0x430252['position']),_0x430252;}catch(_0x25e3a7){return console['error']('Error\x20getting\x20player\x20data\x20for\x20'+_0x4ae2ac+':',_0x25e3a7),null;}}async[a50_0x4e0d55(0x114)](_0x484187,_0x302c12){const _0x3c5b64=a50_0x4e0d55;try{const _0x3832df=_0x3c5b64(0x183)+(_0x302c12==='D1'?'':_0x302c12),_0x5ae202=doc(db,_0x3832df,_0x484187),_0x5d6841=await getDoc(_0x5ae202);return _0x5d6841['exists']()?_0x5d6841['data']()[_0x3c5b64(0x12f)]||{}:{};}catch(_0x262230){return console[_0x3c5b64(0x137)]('Error\x20getting\x20player\x20ribbons:',_0x262230),{};}}async['savePlayerRibbonsOptimized'](_0x255e28,_0x4fe6eb,_0xd04380){const _0x5645c7=a50_0x4e0d55;try{const _0x299b5f='playerRibbons'+(_0xd04380==='D1'?'':_0xd04380),_0x21cfc6=doc(db,_0x299b5f,_0x255e28),_0x1e81d0=await this['getPlayerRibbonsCached'](_0x255e28,_0xd04380),_0x1acac7={..._0x1e81d0,..._0x4fe6eb};await setDoc(_0x21cfc6,{'username':_0x255e28,'ladder':_0xd04380,'ribbons':_0x1acac7,'lastUpdated':new Date()},{'merge':!![]});}catch(_0x2cc375){console[_0x5645c7(0x137)]('Error\x20saving\x20ribbons:',_0x2cc375);}}['evaluateOverachieverRibbonFromCount'](_0x25e1a9,_0x29574c){const _0x90ac75=a50_0x4e0d55,_0x405c29=_0x29574c[_0x90ac75(0x169)]||{'level':0x0},_0x596399=RIBBON_DEFINITIONS['Overachiever\x20Ribbon']['levels'],_0x1f2578=_0x596399[_0x90ac75(0x157)](_0x17f465=>_0x25e1a9<_0x17f465),_0x257d1a=_0x1f2578===-0x1?_0x596399[_0x90ac75(0x18b)]:_0x1f2578;if(_0x257d1a>_0x405c29['level'])return{'level':_0x257d1a,'awardedAt':new Date()};return null;}['evaluateRematchRibbonFromCount'](_0x32d6e6,_0x333429){const _0x2c90bc=a50_0x4e0d55;if(_0x32d6e6===0x0)return null;const _0x5f1c31=_0x333429[_0x2c90bc(0x12e)]||{'level':0x0};if(_0x32d6e6>_0x5f1c31['level'])return{'level':_0x32d6e6,'awardedAt':new Date()};return null;}['evaluateSubGamerRibbonFromCount'](_0x102690,_0x585036){const _0x1f5aff=a50_0x4e0d55,_0x5e1f38=_0x585036['Sub-Gamer\x20Ribbon']||{'level':0x0},_0x5d1258=RIBBON_DEFINITIONS['Sub-Gamer\x20Ribbon']['levels'],_0x345baf=_0x5d1258['findIndex'](_0x456b8b=>_0x102690<_0x456b8b),_0xd1244f=_0x345baf===-0x1?_0x5d1258[_0x1f5aff(0x18b)]:_0x345baf;if(_0xd1244f>_0x5e1f38[_0x1f5aff(0x172)])return{'level':_0xd1244f,'awardedAt':new Date()};return null;}[a50_0x4e0d55(0x195)](_0x1861aa,_0x38f2be){const _0x78361d=_0x38f2be['Explorer\x20Ribbon']||{'level':0x0},_0x2a316a=RIBBON_DEFINITIONS['Explorer\x20Ribbon']['levels'],_0x23d609=_0x2a316a['findIndex'](_0x4a29e3=>_0x1861aa<_0x4a29e3),_0x11d1b7=_0x23d609===-0x1?_0x2a316a['length']:_0x23d609;if(_0x11d1b7>_0x78361d['level'])return{'level':_0x11d1b7,'awardedAt':new Date()};return null;}[a50_0x4e0d55(0x198)](_0x1970d3,_0x1f57c4){const _0x508896=a50_0x4e0d55,_0x1d9634=_0x1f57c4['Socialite\x20Ribbon']||{'level':0x0},_0x56c59d=RIBBON_DEFINITIONS['Socialite\x20Ribbon'][_0x508896(0x13a)],_0x5b6f7f=_0x56c59d['findIndex'](_0x4c05c6=>_0x1970d3<_0x4c05c6),_0x4de610=_0x5b6f7f===-0x1?_0x56c59d['length']:_0x5b6f7f;if(_0x4de610>_0x1d9634['level'])return{'level':_0x4de610,'awardedAt':new Date()};return null;}['evaluateBrickWallRibbonFromWinRate'](_0x4f9e21,_0x3156c1,_0x3b73c8){const _0x2b4bbe=a50_0x4e0d55;if(_0x3b73c8<0x32)return console['log']('‚ö†Ô∏è\x20Brick\x20Wall\x20ribbon\x20requires\x2050+\x20matches\x20(player\x20has\x20'+_0x3b73c8+')'),null;const _0x1f3eda=_0x3156c1['Brick\x20Wall']||{'level':0x0},_0x26536d=RIBBON_DEFINITIONS['Brick\x20Wall']['levels'],_0x258800=_0x26536d[_0x2b4bbe(0x157)](_0x2fe6ea=>_0x4f9e21<_0x2fe6ea),_0x4b2479=_0x258800===-0x1?_0x26536d['length']:_0x258800;if(_0x4b2479>_0x1f3eda['level'])return console[_0x2b4bbe(0x14e)]('üèÜ\x20Brick\x20Wall\x20ribbon\x20awarded:\x20'+_0x4f9e21['toFixed'](0x1)+_0x2b4bbe(0x122)+_0x3b73c8+_0x2b4bbe(0x126)),{'level':_0x4b2479,'awardedAt':new Date(),'winRate':_0x4f9e21,'matchesPlayed':_0x3b73c8};return null;}['evaluateCollectorRibbonFromCount'](_0x173d1a,_0x30a5a6){const _0x377783=a50_0x4e0d55,_0x593126=_0x30a5a6['Collector\x20Ribbon']||{'level':0x0},_0x4a4c6e=RIBBON_DEFINITIONS['Collector\x20Ribbon'][_0x377783(0x13a)],_0x252a1b=_0x4a4c6e[_0x377783(0x157)](_0x4e3c76=>_0x173d1a<_0x4e3c76),_0x53cbf4=_0x252a1b===-0x1?_0x4a4c6e['length']:_0x252a1b;if(_0x53cbf4>_0x593126[_0x377783(0x172)])return{'level':_0x53cbf4,'awardedAt':new Date()};return null;}[a50_0x4e0d55(0x11b)](_0x49c2d8,_0x37dd3b){const _0x3c0ebb=a50_0x4e0d55;if(_0x49c2d8===0x0)return null;const _0x39fbe4=_0x37dd3b['Underdog\x20Ribbon']||{'level':0x0},_0x4b2f05=RIBBON_DEFINITIONS['Underdog\x20Ribbon']['levels'];let _0x1e728e=0x0;for(let _0x429ad2=0x0;_0x429ad2<_0x4b2f05['length'];_0x429ad2++){if(_0x49c2d8>=_0x4b2f05[_0x429ad2])_0x1e728e=_0x429ad2+0x1;else break;}if(_0x1e728e>_0x39fbe4['level'])return console[_0x3c0ebb(0x14e)]('üèÜ\x20Underdog\x20Ribbon\x20upgrade:\x20Level\x20'+_0x39fbe4['level']+'\x20‚Üí\x20'+_0x1e728e+'\x20('+_0x49c2d8+'\x20underdog\x20wins)'),{'level':_0x1e728e,'awardedAt':new Date()};return null;}}function getPlayerRankTier(_0x5d3d6e){if(_0x5d3d6e===undefined||_0x5d3d6e===null)return 0x0;const _0x3da384=Number(_0x5d3d6e);if(isNaN(_0x3da384))return 0x0;if(_0x3da384>=0x7d0)return 0x4;if(_0x3da384>=0x708)return 0x3;if(_0x3da384>=0x640)return 0x2;if(_0x3da384>=0x578)return 0x1;return 0x0;}function getRankTierName(_0x453cf9){const _0x526d64=a50_0x4e0d55,_0x19bc75=[_0x526d64(0x17e),_0x526d64(0x146),'Silver','Gold',_0x526d64(0x117)];return _0x19bc75[_0x453cf9]||'Unranked';}const ribbonSystem=new RibbonSystem(),ribbonCache=new RibbonCacheManager(),matchCache=new MatchCacheManager();typeof window!=='undefined'&&(window['getRibbonCacheStats']=()=>{const _0x2baf35=a50_0x4e0d55;return{'ribbon':ribbonCache['getCacheStats'](),'match':matchCache[_0x2baf35(0x115)]()};});export async function evaluatePlayerRibbons(_0x59d299,_0x46bc68='D1'){const _0x5db2f1=a50_0x4e0d55;return await ribbonSystem[_0x5db2f1(0x188)](_0x59d299,_0x46bc68);}export function getRibbonHTML(_0x8e70bb,_0x449f0f){const _0x5c6f32=a50_0x4e0d55,_0x3769c8=RIBBON_DEFINITIONS[_0x8e70bb];if(!_0x3769c8)return'';const _0x1fc99b=_0x449f0f[_0x5c6f32(0x172)]||0x1,_0x4ef02b=_0x8e70bb[_0x5c6f32(0x18d)]('\x20Ribbon','')['replace'](_0x5c6f32(0x131),''),_0x4358b5=_0x3c9117=>{const _0x23f439=_0x5c6f32;if(_0x3c9117<=0x1)return _0x23f439(0x110);if(_0x3c9117<=0x2)return'level-2';if(_0x3c9117<=0x3)return'level-3';if(_0x3c9117<=0x4)return _0x23f439(0x13d);return _0x23f439(0x11d);},_0xed4a91=_0x22ef55=>{const _0x260bb1=_0x5c6f32;if(_0x22ef55<=0x1)return'';const _0xf3dc56=[];if(_0x22ef55>=0x2&&_0x22ef55<=0x4){const _0x55aa20=Math['min'](_0x22ef55-0x1,0x3);for(let _0x2dcd45=0x0;_0x2dcd45<_0x55aa20;_0x2dcd45++){_0xf3dc56[_0x260bb1(0x12d)]('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>');}}if(_0x22ef55>=0x5&&_0x22ef55<=0x7){_0xf3dc56['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20silver-star\x22></i>');const _0x947e2f=Math[_0x260bb1(0x128)](_0x22ef55-0x5,0x2);for(let _0x1109d7=0x0;_0x1109d7<_0x947e2f;_0x1109d7++){_0xf3dc56['push'](_0x260bb1(0x182));}}return _0x22ef55>=0x8&&_0xf3dc56['push'](_0x260bb1(0x178)),_0xf3dc56['length']>0x0?'<div\x20class=\x22ribbon-devices\x22>'+_0xf3dc56['join']('')+_0x260bb1(0x139):'';},_0x48ce36=_0x3769c8['description']+_0x5c6f32(0x193)+_0x1fc99b;return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22military-ribbon\x22\x20data-tooltip=\x22'+_0x48ce36+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-image-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22'+_0x3769c8['image']+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22'+_0x8e70bb+_0x5c6f32(0x153)+_0x3769c8['color']+';\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4ef02b['substring'](0x0,0x6)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xed4a91(_0x1fc99b)+_0x5c6f32(0x123)+_0x4ef02b+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1fc99b>0x1?_0x5c6f32(0x14a)+_0x4358b5(_0x1fc99b)+'\x22>'+_0x1fc99b+_0x5c6f32(0x139):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}