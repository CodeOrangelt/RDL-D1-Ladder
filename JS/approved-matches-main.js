const a6_0x3ed6fa=a6_0x283c,a6_0x1d008c=(function(){let _0x23bb5a=!![];return function(_0x530752,_0x5714ca){const _0x5521af=_0x23bb5a?function(){if(_0x5714ca){const _0x5d9785=_0x5714ca['apply'](_0x530752,arguments);return _0x5714ca=null,_0x5d9785;}}:function(){};return _0x23bb5a=![],_0x5521af;};}()),a6_0x5cd463=a6_0x1d008c(this,function(){const _0x3341a8=a6_0x283c;let _0x27a901;try{const _0x174ad0=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x27a901=_0x174ad0();}catch(_0x54626d){_0x27a901=window;}const _0x2cd690=_0x27a901['console']=_0x27a901[_0x3341a8(0xef)]||{},_0x34b063=['log','warn',_0x3341a8(0x18c),_0x3341a8(0x18a),_0x3341a8(0x175),'table','trace'];for(let _0x2a3d59=0x0;_0x2a3d59<_0x34b063['length'];_0x2a3d59++){const _0x6007d8=a6_0x1d008c['constructor'][_0x3341a8(0x165)]['bind'](a6_0x1d008c),_0x362970=_0x34b063[_0x2a3d59],_0x4708d9=_0x2cd690[_0x362970]||_0x6007d8;_0x6007d8['__proto__']=a6_0x1d008c[_0x3341a8(0xfc)](a6_0x1d008c),_0x6007d8['toString']=_0x4708d9['toString']['bind'](_0x4708d9),_0x2cd690[_0x362970]=_0x6007d8;}});a6_0x5cd463();import{collection,getDocs,addDoc,query,orderBy,limit,startAfter,Timestamp,serverTimestamp,getDoc,doc,where,deleteDoc}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const mutedUsers=[{'username':a6_0x3ed6fa(0x15b),'muteFromDate':new Date(a6_0x3ed6fa(0x141))[a6_0x3ed6fa(0x15f)]()}];function isUsernameMuted(_0x5726a2,_0xc9f598){const _0x5f41dc=a6_0x3ed6fa;if(!_0x5726a2)return![];const _0x2cc2f5=mutedUsers['find'](_0x17df79=>_0x17df79['username']===_0x5726a2);if(!_0x2cc2f5)return![];if(!_0xc9f598)return!![];const _0xb3dc56=_0xc9f598 instanceof Date?_0xc9f598['getTime']():_0xc9f598[_0x5f41dc(0xd5)]?_0xc9f598['seconds']*0x3e8:Date['now']();return _0xb3dc56>=_0x2cc2f5['muteFromDate'];}function filterComment(_0x1e303d,_0x1a927d,_0x1d1ca1){const _0x1adda1=a6_0x3ed6fa;if(!_0x1e303d)return'-';if(isUsernameMuted(_0x1a927d,_0x1d1ca1))return _0x1adda1(0x16b);return _0x1e303d;}const previewState={'currentMode':'D1','currentPage':0x1,'matchesPerPage':0x5,'lastVisible':null,'firstVisible':null,'isLoading':![],'filterUsername':'','enhancedFilters':{'pilots':'','levels':'','subgames':[]},'totalPages':0x1,'hasReachedEnd':![]};function getCacheKey(_0x4c08f8,_0x5cb2e9,_0x4d7fa4){const _0x1f2bc6='u:'+(_0x4d7fa4['filterUsername']||'');return'previewCache_'+_0x4c08f8+'_p'+_0x5cb2e9+'_'+_0x1f2bc6;}function getCachedPage(_0x1a2384){const _0x35dabe=a6_0x3ed6fa,_0x25b76e=sessionStorage['getItem'](_0x1a2384);if(_0x25b76e)try{return JSON[_0x35dabe(0x189)](_0x25b76e);}catch(_0x4c18af){return console[_0x35dabe(0x18a)](_0x35dabe(0x125),_0x4c18af),sessionStorage[_0x35dabe(0x179)](_0x1a2384),null;}return null;}function cachePage(_0x4c0b60,_0x4db288){const _0x259448=a6_0x3ed6fa;try{sessionStorage[_0x259448(0x13d)](_0x4c0b60,JSON['stringify'](_0x4db288));}catch(_0x494bfc){console['error']('Failed\x20to\x20cache\x20data:',_0x494bfc);}}function getEloColor(_0x3c7d24){const _0x50db93=a6_0x3ed6fa,_0x1e2737=Number(_0x3c7d24);if(_0x1e2737>=0x7d0)return'#50C878';else{if(_0x1e2737>=0x708)return _0x50db93(0x178);else{if(_0x1e2737>=0x640)return'#b9f1fc';else{if(_0x1e2737>=0x578)return'#CD7F32';else return'#808080';}}}}function formatDate(_0x22f9ba,_0x11a5d9=![]){const _0x20ae31=a6_0x3ed6fa;if(!_0x22f9ba||!_0x22f9ba[_0x20ae31(0xd5)])return _0x20ae31(0x148);const _0x4dc67f=new Date(_0x22f9ba['seconds']*0x3e8);return _0x11a5d9?_0x4dc67f['toLocaleString']():_0x4dc67f[_0x20ae31(0x12d)]();}function truncateComment(_0x4a8743,_0x3859df=0x1e){const _0x4a67cb=a6_0x3ed6fa;if(!_0x4a8743)return'-';if(_0x4a8743[_0x4a67cb(0xe0)]<=_0x3859df)return _0x4a8743;return _0x4a8743['substring'](0x0,_0x3859df)+_0x4a67cb(0xf7);}function formatCommentDate(_0x2bd706){const _0x335ea4=a6_0x3ed6fa;if(!_0x2bd706||!_0x2bd706['seconds'])return'';const _0x341810=new Date(_0x2bd706['seconds']*0x3e8),_0x41f6a7=new Date(),_0x20fa50=Math['abs'](_0x41f6a7-_0x341810),_0x382b2e=Math['floor'](_0x20fa50/(0x3e8*0x3c*0x3c*0x18));if(_0x382b2e===0x0)return'Today';else{if(_0x382b2e===0x1)return _0x335ea4(0x13c);else return _0x382b2e<0x7?_0x382b2e+'\x20days\x20ago':_0x341810['toLocaleDateString']();}}function setLoadingIndicator(_0x2e3251){const _0x2426bd=a6_0x3ed6fa,_0x3c0ec4=document['getElementById']('loading-indicator');if(_0x3c0ec4)_0x3c0ec4[_0x2426bd(0x108)]['display']=_0x2e3251?_0x2426bd(0x160):'none';}export function updatePreviewLadderModeUI(){const _0x1f680d=a6_0x3ed6fa,_0x567810=document['getElementById']('preview-ladder-mode'),_0x544386=document[_0x1f680d(0x11f)](_0x1f680d(0x120)),_0x59b8cf=document[_0x1f680d(0x11f)](_0x1f680d(0x117)),_0x109761=document['getElementById']('preview-d3-button');if(_0x567810)_0x567810['textContent']=previewState['currentMode'];if(_0x544386)_0x544386['classList']['toggle']('active',previewState['currentMode']==='D1');if(_0x59b8cf)_0x59b8cf['classList']['toggle']('active',previewState['currentMode']==='D2');if(_0x109761)_0x109761['classList'][_0x1f680d(0x123)](_0x1f680d(0xd8),previewState['currentMode']==='D3');}function updatePreviewPaginationControls(_0x12604c){const _0x2090ef=a6_0x3ed6fa,_0xc39877=document['getElementById']('previewPrevPage'),_0x4eff75=document[_0x2090ef(0x11f)]('previewNextPage'),_0x79e898=document['getElementById']('previewPageInfo');if(!_0xc39877||!_0x4eff75||!_0x79e898)return;_0x79e898['textContent']='Page\x20'+previewState['currentPage'],_0xc39877['disabled']=previewState[_0x2090ef(0x138)]<=0x1,_0x4eff75['disabled']=!_0x12604c;}function setPreviewLoadingState(_0x5eb425){const _0x404281=a6_0x3ed6fa;previewState['isLoading']=_0x5eb425,setLoadingIndicator(_0x5eb425);const _0x4ec27f=document[_0x404281(0x11f)]('recent-matches-preview'),_0x3ccfe0=_0x4ec27f?_0x4ec27f['querySelector'](_0x404281(0x154)):null,_0x9623bf=document[_0x404281(0x11f)](_0x404281(0x18d)),_0x5a0c81=document['getElementById'](_0x404281(0x14e)),_0x1ff596=document['getElementById']('preview-d1-button'),_0x201f2d=document['getElementById']('preview-d2-button'),_0x3195b8=document['getElementById'](_0x404281(0x11c)),_0x9c6afb=document[_0x404281(0x11f)](_0x404281(0xed));if(_0x3ccfe0&&!_0x5eb425)_0x3ccfe0[_0x404281(0x108)]['display']='none';else _0x3ccfe0&&_0x5eb425&&(_0x3ccfe0['style']['display']='block');!_0x5eb425&&_0x4ec27f&&!_0x4ec27f['querySelector']('.match-card')&&!_0x4ec27f['querySelector']('.matches-loading[style*=\x22color:\x20red\x22]')&&(_0x4ec27f['innerHTML']=_0x404281(0x153)+(previewState[_0x404281(0xd6)]?_0x404281(0x145):'')+_0x404281(0x11a));if(_0x9623bf)_0x9623bf['disabled']=_0x5eb425||previewState['currentPage']<=0x1;if(_0x5a0c81)_0x5a0c81['disabled']=_0x5eb425;if(_0x1ff596)_0x1ff596['disabled']=_0x5eb425;if(_0x201f2d)_0x201f2d[_0x404281(0xf4)]=_0x5eb425;if(_0x3195b8)_0x3195b8['disabled']=_0x5eb425;if(_0x9c6afb)_0x9c6afb['disabled']=_0x5eb425;}function applyClientFilters(_0x97bde6){const _0x3a3ac5=a6_0x3ed6fa;if(!previewState[_0x3a3ac5(0xd6)])return _0x97bde6;const _0x54689b=previewState['filterUsername']['toLowerCase']();return _0x97bde6[_0x3a3ac5(0x105)](_0x16636f=>{const _0x293a59=_0x3a3ac5,_0xb735da=(_0x16636f['winnerUsername']||'')[_0x293a59(0x188)](),_0x44de20=(_0x16636f[_0x293a59(0x14d)]||'')['toLowerCase']();return _0xb735da['includes'](_0x54689b)||_0x44de20['includes'](_0x54689b);});}function applyEnhancedClientFilters(_0x53bca9){if(!hasEnhancedFilters())return _0x53bca9;return _0x53bca9['filter'](_0x2e6f92=>{const _0x4552b3=a6_0x283c;if(previewState[_0x4552b3(0xea)][_0x4552b3(0x10e)]){const _0x1fb5c9=previewState[_0x4552b3(0xea)]['pilots'][_0x4552b3(0x188)](),_0x2420fb=(_0x2e6f92['winnerUsername']||'')['toLowerCase'](),_0x189a9a=(_0x2e6f92['loserUsername']||'')[_0x4552b3(0x188)]();if(!_0x2420fb[_0x4552b3(0x136)](_0x1fb5c9)&&!_0x189a9a['includes'](_0x1fb5c9))return![];}if(previewState[_0x4552b3(0xea)]['levels']){const _0x42b775=previewState['enhancedFilters']['levels']['toLowerCase'](),_0x20e6bd=(_0x2e6f92['mapPlayed']||'')['toLowerCase']();if(!_0x20e6bd['includes'](_0x42b775))return![];}if(previewState['enhancedFilters']['subgames']['length']>0x0){const _0x5b8384=_0x2e6f92['subgameType']||'Standard\x20Match';if(!previewState[_0x4552b3(0xea)][_0x4552b3(0x126)]['includes'](_0x5b8384))return![];}return!![];});}function hasEnhancedFilters(){const _0x2dac5b=a6_0x3ed6fa;return previewState[_0x2dac5b(0xea)]['pilots']||previewState[_0x2dac5b(0xea)]['levels']||previewState['enhancedFilters']['subgames']['length']>0x0;}function clearEnhancedFilters(){const _0x4b0c9a=a6_0x3ed6fa;previewState['enhancedFilters']={'pilots':'','levels':'','subgames':[]},document['getElementById'](_0x4b0c9a(0x143))[_0x4b0c9a(0x13e)]='',document['getElementById']('filter-levels')['value']='';const _0x4bdae2=document['getElementById']('filter-subgames');for(let _0x39d26d of _0x4bdae2[_0x4b0c9a(0x182)]){_0x39d26d['selected']=![];}}function jumpToPage(_0x2d89c6){const _0x3aa2e9=a6_0x3ed6fa,_0x598e0d=document['getElementById']('jump-to-page'),_0x536a86=previewState['currentPage'];let _0x4e3aa7=_0x536a86;switch(_0x2d89c6){case'start':_0x4e3aa7=0x1;break;case _0x3aa2e9(0x103):_0x4e3aa7=Math['max'](_0x536a86+0xa,previewState['totalPages']||_0x536a86+0xa);break;case'+1':_0x4e3aa7=_0x536a86+0x1;break;case'+5':_0x4e3aa7=_0x536a86+0x5;break;case _0x3aa2e9(0x12e):_0x4e3aa7=_0x536a86+0xa;break;case'-1':_0x4e3aa7=Math['max'](0x1,_0x536a86-0x1);break;case'-5':_0x4e3aa7=Math['max'](0x1,_0x536a86-0x5);break;case'-10':_0x4e3aa7=Math['max'](0x1,_0x536a86-0xa);break;case _0x3aa2e9(0x149):const _0x36ad1a=parseInt(_0x598e0d[_0x3aa2e9(0x13e)]);_0x36ad1a&&_0x36ad1a>0x0&&(_0x4e3aa7=_0x36ad1a,_0x598e0d['value']='');break;}_0x4e3aa7!==_0x536a86&&_0x4e3aa7>0x0&&(previewState['currentPage']=_0x4e3aa7,loadRecentMatchesPreview('jump'));}export async function loadRecentMatchesPreview(_0x35510a=a6_0x3ed6fa(0x159)){const _0xe8a49b=a6_0x3ed6fa,_0x25081d=document['getElementById']('recent-matches-preview'),_0xf03eba=document['getElementById']('match-card-template');if(previewState['isLoading']||!_0x25081d||!_0xf03eba)return;_0x35510a==='current'&&(console['log']('Clearing\x20cache\x20for\x20refresh/reset'),Object[_0xe8a49b(0x170)](sessionStorage)['forEach'](_0x161041=>{const _0x2107fa=_0xe8a49b;_0x161041['includes']('previewCache_'+previewState['currentMode'])&&sessionStorage[_0x2107fa(0x179)](_0x161041);}));let _0x1afb80=previewState[_0xe8a49b(0x138)];if(_0x35510a===_0xe8a49b(0x17a))_0x1afb80++;else{if(_0x35510a===_0xe8a49b(0x17b))_0x1afb80--;else _0x35510a==='current'&&(_0x1afb80=0x1,previewState['firstVisible']=null,previewState['lastVisible']=null);}if(_0x1afb80<0x1)_0x1afb80=0x1;const _0x2afa16=previewState['currentPage'];previewState['currentPage']=_0x1afb80,updatePreviewPaginationControls(!![]);const _0x25c70f={'filterUsername':previewState['filterUsername']},_0x3101d4=getCacheKey(previewState[_0xe8a49b(0x104)],_0x1afb80,_0x25c70f),_0x32a88e=_0x35510a!=='current'?getCachedPage(_0x3101d4):null;if(_0x32a88e){console['log'](_0xe8a49b(0xd2)+_0x1afb80+_0xe8a49b(0xf6)),setPreviewLoadingState(!![]),renderMatchCards(_0x32a88e[_0xe8a49b(0x12a)]),updatePreviewPaginationControls(_0x32a88e['hasNextPage']),setPreviewLoadingState(![]);return;}console['log']('Cache\x20miss\x20for\x20page\x20'+_0x1afb80+',\x20fetching\x20from\x20Firestore'),setPreviewLoadingState(!![]),_0x25081d['innerHTML']=_0xe8a49b(0x139);const _0x2d1222=previewState['currentMode']==='D1'?'approvedMatches':previewState['currentMode']==='D2'?_0xe8a49b(0x140):'approvedMatchesD3',_0x4fe8a9=previewState['currentMode']==='D1'?'createdAt':'approvedAt';try{const _0x51ffe4=collection(window['db'],_0x2d1222);let _0x3dc79b=[orderBy(_0x4fe8a9,_0xe8a49b(0x131))];if(_0x1afb80===0x1)console['log'](_0xe8a49b(0x12c)),_0x3dc79b['push'](limit(previewState['matchesPerPage']));else{if(_0x35510a===_0xe8a49b(0x17a)&&previewState['lastVisible'])console['log']('Loading\x20next\x20page\x20using\x20cursor'),_0x3dc79b[_0xe8a49b(0xdb)](startAfter(previewState['lastVisible'])),_0x3dc79b['push'](limit(previewState[_0xe8a49b(0x106)]));else{console['log']('No\x20valid\x20cursor,\x20fetching\x20from\x20beginning\x20and\x20skipping\x20pages');const _0x3542bb=_0x1afb80*previewState['matchesPerPage'];_0x3dc79b['push'](limit(_0x3542bb));}}const _0x2d7809=query(_0x51ffe4,..._0x3dc79b),_0x1c3d06=await getDocs(_0x2d7809);let _0x24d2b2=_0x1c3d06['docs'];if(_0x1afb80>0x1&&_0x35510a!=='next'){const _0x2ba677=(_0x1afb80-0x1)*previewState[_0xe8a49b(0x106)];_0x24d2b2=_0x24d2b2['slice'](_0x2ba677,_0x2ba677+previewState['matchesPerPage']);}if(_0x24d2b2[_0xe8a49b(0xe0)]===0x0){console['log']('No\x20results\x20found\x20for\x20this\x20page');_0x35510a==='next'&&(previewState['currentPage']=_0x2afa16,updatePreviewPaginationControls(![]));_0x25081d['innerHTML']='<div\x20class=\x22matches-loading\x22>No\x20more\x20matches\x20to\x20display'+(previewState[_0xe8a49b(0xd6)]?'\x20matching\x20filters':'')+'.</div>',setPreviewLoadingState(![]);return;}previewState['firstVisible']=_0x24d2b2[0x0],previewState[_0xe8a49b(0x10a)]=_0x24d2b2[_0x24d2b2['length']-0x1];const _0x3d2985=_0x24d2b2['map'](_0x20caac=>({'id':_0x20caac['id'],..._0x20caac[_0xe8a49b(0xda)]()}));let _0x4884c5=![];if(_0x24d2b2[_0xe8a49b(0xe0)]===previewState['matchesPerPage']){const _0x190885=query(_0x51ffe4,orderBy(_0x4fe8a9,_0xe8a49b(0x131)),startAfter(previewState['lastVisible']),limit(0x1)),_0x388d61=await getDocs(_0x190885);_0x4884c5=!_0x388d61['empty'];}const _0x3d8e66=applyClientFilters(_0x3d2985),_0x4c90dc={'docsData':_0x3d2985,'hasNextPage':_0x4884c5};cachePage(getCacheKey(previewState['currentMode'],previewState['currentPage'],_0x25c70f),_0x4c90dc);if(_0x1afb80>0x1&&_0x35510a!=='next')for(let _0x3532aa=0x1;_0x3532aa<_0x1afb80;_0x3532aa++){const _0x327fb0=(_0x3532aa-0x1)*previewState['matchesPerPage'],_0x3e7e6d=_0x327fb0+previewState[_0xe8a49b(0x106)],_0x1cc7ae=_0x1c3d06['docs']['slice'](_0x327fb0,_0x3e7e6d);if(_0x1cc7ae['length']>0x0){const _0x53dccf=_0x1cc7ae['map'](_0x465910=>({'id':_0x465910['id'],..._0x465910['data']()})),_0x2ba724=!![];cachePage(getCacheKey(previewState['currentMode'],_0x3532aa,_0x25c70f),{'docsData':_0x53dccf,'hasNextPage':_0x2ba724}),console['log']('Cached\x20intermediary\x20page\x20'+_0x3532aa);}}_0x3d8e66[_0xe8a49b(0xe0)]===0x0&&previewState['filterUsername']?_0x25081d['innerHTML']='<div\x20class=\x22matches-loading\x22>No\x20matches\x20found\x20matching\x20filter:\x20\x22'+previewState[_0xe8a49b(0xd6)]+'\x22</div>':renderMatchCards(_0x3d8e66),updatePreviewPaginationControls(_0x4884c5);}catch(_0x3820c2){console['error']('Error\x20fetching\x20'+previewState['currentMode']+_0xe8a49b(0x132),_0x3820c2),_0x25081d['innerHTML']='<div\x20class=\x22matches-loading\x22\x20style=\x22color:\x20red;\x22>Error\x20loading\x20matches:\x20'+_0x3820c2['message']+_0xe8a49b(0xe6),updatePreviewPaginationControls(![]),previewState[_0xe8a49b(0x138)]=_0x2afa16;}finally{setPreviewLoadingState(![]);}}async function renderMatchCards(_0x402e4e){const _0x6b1b1a=a6_0x3ed6fa,_0x243ade=document[_0x6b1b1a(0x11f)]('recent-matches-preview'),_0x182947=document['getElementById']('match-card-template');if(!_0x243ade||!_0x182947)return;!_0x243ade['querySelector'](_0x6b1b1a(0x147))&&(_0x243ade[_0x6b1b1a(0x121)]='');if(!_0x402e4e||_0x402e4e['length']===0x0){if(!_0x243ade['querySelector'](_0x6b1b1a(0x147))){const _0x12e5a2=hasEnhancedFilters()?_0x6b1b1a(0x145):previewState[_0x6b1b1a(0xd6)]?_0x6b1b1a(0x145):'';_0x243ade['innerHTML']=_0x6b1b1a(0x153)+_0x12e5a2+_0x6b1b1a(0x11a);}return;}const _0x32e6fa=applyEnhancedClientFilters(_0x402e4e);if(_0x32e6fa['length']===0x0){_0x243ade['innerHTML']=_0x6b1b1a(0x111);return;}const _0x112fc8=_0x32e6fa['map'](_0x444e32=>getAllCommentsForMatch(_0x444e32['id']));let _0x45d7f3=[];try{_0x45d7f3=await Promise['all'](_0x112fc8);}catch(_0x8cdfa6){console['error']('Error\x20fetching\x20comments\x20batch:',_0x8cdfa6),_0x45d7f3=_0x32e6fa['map'](()=>[]);}const _0x37e9bf={};_0x45d7f3['forEach']((_0x1498f8,_0x626123)=>{_0x37e9bf[_0x32e6fa[_0x626123]['id']]=_0x1498f8||[];}),_0x32e6fa['forEach'](_0xb08cea=>{const _0x44e3d7=_0x6b1b1a,_0x241eeb=_0x182947['content'][_0x44e3d7(0xdd)](!![]),_0x51a863=_0x241eeb['querySelector']('.match-display-wrapper'),_0x26e766=_0x241eeb[_0x44e3d7(0x167)]('.match-card'),_0x29ad8b=getEloRankClass(_0xb08cea[_0x44e3d7(0x18b)]);_0x26e766['classList']['add']('winner-'+_0x29ad8b),_0x26e766[_0x44e3d7(0x167)]('.match-map')['textContent']=_0xb08cea['mapPlayed']||_0x44e3d7(0xdc),_0x26e766['querySelector'](_0x44e3d7(0x129))['textContent']=formatDate(_0xb08cea['approvedAt']||_0xb08cea['createdAt']);const _0x11a650=_0x26e766['querySelector'](_0x44e3d7(0xd4));_0x11a650['textContent']=_0xb08cea['winnerUsername']||_0x44e3d7(0x133),_0x11a650[_0x44e3d7(0x108)][_0x44e3d7(0x10b)]=getEloColor(_0xb08cea[_0x44e3d7(0x18b)]),_0x26e766['querySelector'](_0x44e3d7(0x137))[_0x44e3d7(0x156)]=_0xb08cea[_0x44e3d7(0xfb)]??0x0;const _0x52a414=_0x26e766[_0x44e3d7(0x167)](_0x44e3d7(0xe1)),_0x8a9f86=_0xb08cea['winnerSuicides']||0x0;_0x52a414['textContent']=_0x44e3d7(0x119)+_0x8a9f86;const _0x123612=_0x26e766[_0x44e3d7(0x167)]('.player.loser\x20.player-name');_0x123612['textContent']=_0xb08cea[_0x44e3d7(0x14d)]||_0x44e3d7(0x133),_0x123612[_0x44e3d7(0x108)][_0x44e3d7(0x10b)]=getEloColor(_0xb08cea[_0x44e3d7(0x166)]),_0x26e766['querySelector']('.player.loser\x20.player-score')['textContent']=_0xb08cea['loserScore']??0x0;const _0x1376b6=_0x26e766['querySelector']('.player.loser\x20.player-suicides'),_0x3511ad=_0xb08cea['loserSuicides']||0x0;_0x1376b6['textContent']=_0x44e3d7(0x119)+_0x3511ad;const _0xc6044f=_0x26e766[_0x44e3d7(0x167)](_0x44e3d7(0x14c));if(_0xc6044f){if(_0xb08cea['subgameType']&&_0xb08cea[_0x44e3d7(0xdf)]['trim']()!==''){_0xc6044f['textContent']=_0xb08cea[_0x44e3d7(0xdf)],_0xc6044f['style'][_0x44e3d7(0x150)]='block';const _0x50db7d=getSubgameClass(_0xb08cea['subgameType']);_0x50db7d&&_0xc6044f['classList']['add'](_0x50db7d);}else _0xc6044f[_0x44e3d7(0x156)]='Standard\x20Match',_0xc6044f['style']['display']='block',_0xc6044f['style'][_0x44e3d7(0x107)]='0.6';}const _0x89b8a1=_0x26e766[_0x44e3d7(0x167)]('.comment.winner-comment'),_0x173ee2=_0x26e766[_0x44e3d7(0x167)](_0x44e3d7(0xf0)),_0x22f4e8=_0xb08cea['winnerComment']||'',_0xecc9a7=_0xb08cea['loserComment']||'',_0x151ead=_0xb08cea['approvedAt']||_0xb08cea['createdAt'],_0x172bd1=filterComment(_0x22f4e8,_0xb08cea['winnerUsername'],_0x151ead),_0x1286cf=filterComment(_0xecc9a7,_0xb08cea['loserUsername'],_0x151ead);_0x89b8a1[_0x44e3d7(0x156)]='\x22'+truncateComment(_0x22f4e8)+'\x22',_0x173ee2['textContent']='\x22'+truncateComment(_0xecc9a7)+'\x22';_0x22f4e8&&!isUsernameMuted(_0xb08cea['winnerUsername'],_0x151ead)?_0x89b8a1[_0x44e3d7(0x10f)]=()=>showPreviewCommentPopup(_0x172bd1,_0xb08cea['winnerUsername']||'Winner',getEloColor(_0xb08cea['winnerOldElo'])):(_0x89b8a1['textContent']=_0x172bd1===_0x44e3d7(0x16b)?_0x44e3d7(0x16b):'-',_0x89b8a1[_0x44e3d7(0x108)][_0x44e3d7(0x118)]='default',_0x89b8a1[_0x44e3d7(0x10f)]=null);_0xecc9a7&&!isUsernameMuted(_0xb08cea['loserUsername'])?_0x173ee2['onclick']=()=>showPreviewCommentPopup(_0x1286cf,_0xb08cea[_0x44e3d7(0x14d)]||'Loser',getEloColor(_0xb08cea['loserOldElo'])):(_0x173ee2['textContent']=_0x1286cf==='Muted.'?'Muted.':'-',_0x173ee2[_0x44e3d7(0x108)]['cursor']='default',_0x173ee2['onclick']=null);const _0x16675a=_0x51a863?.['querySelector'](_0x44e3d7(0x142));if(!_0x16675a)console['warn']('Comments\x20section\x20not\x20found\x20in\x20template');else{const _0x195a93=_0x16675a['querySelector']('.comments-container'),_0x3208d6=_0x195a93?.['querySelector']('.no-comments-message'),_0x3f8ad1=_0x16675a[_0x44e3d7(0x167)]('.add-comment-btn');if(_0x195a93){while(_0x195a93[_0x44e3d7(0x109)]&&_0x195a93['firstChild']!==_0x3208d6){_0x195a93[_0x44e3d7(0x144)](_0x195a93['firstChild']);}_0x3f8ad1&&_0x3f8ad1['addEventListener'](_0x44e3d7(0x183),()=>{showAddCommentPopup(_0xb08cea['id']);});const _0x3832ee=_0x37e9bf[_0xb08cea['id']]||[];if(_0x3832ee[_0x44e3d7(0xe0)]>0x0){if(_0x3208d6)_0x3208d6['style']['display']='none';const _0xfc32f4=(_0x313a5e,_0x2e4cc1)=>{const _0x2a1cd5=_0x44e3d7,_0x5edea9=_0x313a5e[_0x2a1cd5(0x12b)]('\x20');if(_0x5edea9[_0x2a1cd5(0xe0)]<=_0x2e4cc1)return _0x313a5e;return _0x5edea9['slice'](0x0,_0x2e4cc1)['join']('\x20')+'...';};_0x3832ee['forEach'](_0x680f4c=>{const _0x2d8ccc=_0x44e3d7,_0x5058b7=document['createElement'](_0x2d8ccc(0xf9));if(_0x680f4c['type']==='demo'){_0x5058b7[_0x2d8ccc(0x16a)]='demo-link',_0x5058b7['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22'+_0x680f4c['demoLink']+_0x2d8ccc(0xf2)+_0x680f4c[_0x2d8ccc(0x158)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22demo-description\x22>'+(_0x680f4c['description']||'No\x20description\x20provided')+_0x2d8ccc(0x171);const _0x5d483a=window['auth'][_0x2d8ccc(0x14f)],_0xa6de7f=_0x5d483a&&_0x680f4c[_0x2d8ccc(0x15a)]===_0x5d483a['uid'];if(_0xa6de7f){const _0xd8ac77=document['createElement']('button');_0xd8ac77[_0x2d8ccc(0x16a)]='delete-comment-btn',_0xd8ac77['innerHTML']='×',_0xd8ac77['setAttribute'](_0x2d8ccc(0x127),_0x2d8ccc(0x11e)),_0xd8ac77[_0x2d8ccc(0x100)]('click',_0xa567bd=>{_0xa567bd['preventDefault'](),_0xa567bd['stopPropagation'](),deleteComment(_0x680f4c['id'],_0x5058b7);}),_0x5058b7[_0x2d8ccc(0x187)](_0xd8ac77);}}else{_0x5058b7[_0x2d8ccc(0x16a)]='comment-item';const _0x31b72d=isUsernameMuted(_0x680f4c['username'],_0x680f4c[_0x2d8ccc(0x17d)]),_0x103798=_0x31b72d?_0x2d8ccc(0x16b):_0xfc32f4(_0x680f4c['text']||'',0xf),_0x34197a=_0x680f4c['username']||'Anonymous',_0x525751=window['auth']['currentUser'],_0x4774f9=_0x525751&&_0x680f4c[_0x2d8ccc(0x15a)]===_0x525751['uid'];let _0x4099c8='';_0x4774f9&&(_0x4099c8=_0x2d8ccc(0xe5));_0x5058b7['innerHTML']=_0x4099c8+'<strong>'+_0x34197a+':</strong>\x20\x22'+_0x103798+'\x22';if(_0x4774f9){const _0x51a07a=_0x5058b7['querySelector'](_0x2d8ccc(0x157));_0x51a07a&&_0x51a07a['addEventListener']('click',_0x32b30b=>{const _0x5c7c8e=_0x2d8ccc;_0x32b30b[_0x5c7c8e(0xf3)](),deleteComment(_0x680f4c['id'],_0x5058b7);});}!_0x31b72d?_0x5058b7[_0x2d8ccc(0x100)]('click',()=>{showFullCommentLightbox(_0x680f4c);}):_0x5058b7[_0x2d8ccc(0x108)]['cursor']='default';}_0x195a93['insertBefore'](_0x5058b7,_0x195a93['firstChild']);});}else{if(_0x3208d6)_0x3208d6['style']['display']=_0x44e3d7(0x160);}}}const _0x1747fd=_0x26e766['querySelector']('.match-demo-links');if(_0x1747fd){const _0x1f6cc6=_0x26e766['querySelector'](_0x44e3d7(0x13a)),_0xae3c04=_0x26e766['querySelector'](_0x44e3d7(0x135)),_0x521f3f=_0xb08cea['winnerDemoLink']||null,_0xba7a58=_0xb08cea[_0x44e3d7(0x13f)]||_0xb08cea[_0x44e3d7(0x10d)]||null;console['log']('Match\x20'+_0xb08cea['id']+'\x20demo\x20links:',{'winner':_0x521f3f,'loser':_0xba7a58}),_0x1f6cc6&&(_0x521f3f?(_0x1f6cc6[_0x44e3d7(0x17e)]=_0x521f3f,_0x1f6cc6['style']['display']='flex',_0x1f6cc6['title']=_0xb08cea['winnerUsername']+'\x27s\x20Demo'):_0x1f6cc6['style']['display']='none'),_0xae3c04&&(_0xba7a58?(_0xae3c04[_0x44e3d7(0x17e)]=_0xba7a58,_0xae3c04['style'][_0x44e3d7(0x150)]='flex',_0xae3c04[_0x44e3d7(0xe8)]=_0xb08cea[_0x44e3d7(0x14d)]+'\x27s\x20Demo'):_0xae3c04['style']['display']='none'),_0x521f3f&&_0x1f6cc6||_0xba7a58&&_0xae3c04?_0x1747fd['style']['display']='flex':_0x1747fd[_0x44e3d7(0x108)][_0x44e3d7(0x150)]='none';}_0x243ade['appendChild'](_0x241eeb);});}function getSubgameClass(_0x387edb){const _0x1cea20=a6_0x3ed6fa,_0x5bf2e7={'Fusion\x20Match':'fusion-match','≥6\x20Missiles':_0x1cea20(0x17f),'≥6\x20missiles':_0x1cea20(0x17f),'Weapon\x20Imbalance':_0x1cea20(0xd3),'Blind\x20Match':_0x1cea20(0x185),'Rematch':_0x1cea20(0x15c),'Disorientation':'disorientation','Ratting':'ratting','Altered\x20Powerups':'altered-powerups','Mega\x20Match':'mega-match','Dogfight':'dogfight','Gauss\x20and\x20Mercs':'gauss-and-mercs'};return _0x5bf2e7[_0x387edb]||'';}function a6_0x283c(_0x233db7,_0x4c06a5){const _0x5cd463=a6_0x5f46();return a6_0x283c=function(_0x1d008c,_0x30f5cc){_0x1d008c=_0x1d008c-0xd1;let _0x5f46dd=_0x5cd463[_0x1d008c];return _0x5f46dd;},a6_0x283c(_0x233db7,_0x4c06a5);}async function deleteComment(_0x4c4e55,_0x9cb552){const _0x44fde0=a6_0x3ed6fa,_0x1c596b=window[_0x44fde0(0x16d)][_0x44fde0(0x14f)];if(!_0x1c596b){alert('You\x20need\x20to\x20be\x20signed\x20in\x20to\x20delete\x20comments');return;}if(!confirm('Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20comment?'))return;try{const _0x21f519=doc(window['db'],_0x44fde0(0xe2),_0x4c4e55),_0x155725=await getDoc(_0x21f519);if(!_0x155725[_0x44fde0(0x128)]()){alert(_0x44fde0(0xde));return;}const _0x27b71f=_0x155725[_0x44fde0(0xda)]();if(_0x27b71f['userId']!==_0x1c596b['uid']){alert('You\x20can\x20only\x20delete\x20your\x20own\x20comments');return;}await deleteDoc(_0x21f519);if(_0x9cb552&&_0x9cb552['parentNode']){_0x9cb552['parentNode']['removeChild'](_0x9cb552);const _0x40754c=_0x9cb552['closest']('.comments-container');if(_0x40754c&&!_0x40754c['querySelector'](_0x44fde0(0x110))){const _0x203f9b=_0x40754c['querySelector'](_0x44fde0(0xd9));if(_0x203f9b)_0x203f9b['style'][_0x44fde0(0x150)]='block';}}console['log'](_0x44fde0(0x101));}catch(_0x4e1ed0){console['error']('Error\x20deleting\x20comment:',_0x4e1ed0),alert('Failed\x20to\x20delete\x20comment:\x20'+_0x4e1ed0['message']);}}async function getAllCommentsForMatch(_0xd404ce){const _0x2d518a=a6_0x3ed6fa;if(!_0xd404ce)return[];try{const _0x1cfd70=collection(window['db'],'matchComments'),_0x4fc1cd=query(_0x1cfd70,where(_0x2d518a(0x164),'==',_0xd404ce),orderBy('timestamp',_0x2d518a(0x131))),_0x195b9d=await getDocs(_0x4fc1cd);if(_0x195b9d['empty'])return[];return _0x195b9d['docs']['map'](_0x12652c=>({'id':_0x12652c['id'],..._0x12652c['data']()}));}catch(_0x707fe6){return console['error']('Error\x20fetching\x20comments:',_0x707fe6),[];}}async function submitComment(_0x158eb4){const _0x1f0d8f=a6_0x3ed6fa;_0x158eb4['preventDefault']();if(!window['auth']||!window['db']){console['error']('Firebase\x20not\x20initialized'),alert(_0x1f0d8f(0x134));return;}const _0x1ef475=window['auth']['currentUser'];if(!_0x1ef475){alert('You\x20must\x20be\x20signed\x20in\x20to\x20leave\x20a\x20comment');return;}const _0x5c548e=document[_0x1f0d8f(0x11f)]('commentMatchId')?.['value'],_0x3a7bf6=document['getElementById']('commentText')?.[_0x1f0d8f(0x13e)]?.[_0x1f0d8f(0x15d)]();if(!_0x5c548e||!_0x3a7bf6){alert(_0x1f0d8f(0xe3));return;}const _0x4c4d20=_0x3a7bf6['split'](/\s+/)[_0x1f0d8f(0x105)](_0x224a00=>_0x224a00[_0x1f0d8f(0xe0)]>0x0)[_0x1f0d8f(0xe0)];if(_0x4c4d20>0xf){alert(_0x1f0d8f(0x114));return;}const _0x180dc3=document['querySelector']('.submit-comment-btn');_0x180dc3&&(_0x180dc3['disabled']=!![],_0x180dc3['textContent']='Submitting...');try{let _0x44da3d='Anonymous';try{const _0x2de3b6=doc(window['db'],'userProfiles',_0x1ef475[_0x1f0d8f(0x146)]),_0x5788f0=await getDoc(_0x2de3b6);if(_0x5788f0['exists']()){const _0x4dd8da=_0x5788f0[_0x1f0d8f(0xda)]();_0x4dd8da['username']&&(_0x44da3d=_0x4dd8da[_0x1f0d8f(0x158)]);}_0x44da3d==='Anonymous'&&_0x1ef475['displayName']&&(_0x44da3d=_0x1ef475[_0x1f0d8f(0x13b)]);}catch(_0x50c55f){console[_0x1f0d8f(0xd1)]('Failed\x20to\x20fetch\x20user\x20profile:',_0x50c55f),_0x1ef475['displayName']&&(_0x44da3d=_0x1ef475['displayName']);}const _0x5048e6={'matchId':_0x5c548e,'userId':_0x1ef475['uid'],'username':_0x44da3d,'text':_0x3a7bf6,'timestamp':serverTimestamp()};console['log']('Submitting\x20comment\x20as:',_0x44da3d);const _0x116019=collection(window['db'],'matchComments');await addDoc(_0x116019,_0x5048e6),console[_0x1f0d8f(0x102)]('Comment\x20added\x20successfully'),closeAddCommentPopup(),loadRecentMatchesPreview('current');}catch(_0x53ee6d){console['error']('Error\x20submitting\x20comment:',_0x53ee6d),alert('Failed\x20to\x20add\x20comment:\x20'+_0x53ee6d['message']),_0x180dc3&&(_0x180dc3[_0x1f0d8f(0xf4)]=![],_0x180dc3['textContent']=_0x1f0d8f(0x115));}}function closeAddCommentPopup(){const _0x22774e=a6_0x3ed6fa,_0x53c526=document['getElementById'](_0x22774e(0x184)),_0x301d9f=document['getElementById'](_0x22774e(0x116));if(_0x53c526)_0x53c526['style'][_0x22774e(0x150)]='none';if(_0x301d9f)_0x301d9f['style']['display']='none';}function showAddCommentPopup(_0xa45798){const _0x15ebba=a6_0x3ed6fa,_0x551baa=window['auth'][_0x15ebba(0x14f)];if(!_0x551baa){alert('You\x20need\x20to\x20be\x20signed\x20in\x20to\x20leave\x20a\x20comment\x20or\x20add\x20a\x20demo');return;}let _0x5e6337=document['getElementById'](_0x15ebba(0x184)),_0x2bc056=document[_0x15ebba(0x11f)]('commentAddOverlay');!_0x5e6337&&(_0x5e6337=document[_0x15ebba(0xf5)](_0x15ebba(0xf9)),_0x5e6337['id']='commentAddPopup',_0x5e6337['className']='comment-popup',document['body']['appendChild'](_0x5e6337));!_0x2bc056&&(_0x2bc056=document['createElement']('div'),_0x2bc056['id']='commentAddOverlay',_0x2bc056['className']='comment-overlay',document['body']['appendChild'](_0x2bc056));_0x5e6337['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22popup-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Add\x20Comment\x20or\x20Demo</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22closeAddCommentPopup\x22\x20class=\x22close-btn\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22addCommentForm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22commentMatchId\x22\x20name=\x22commentMatchId\x22\x20value=\x22'+_0xa45798+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-tabs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22option-tab\x20active\x22\x20data-option=\x22comment\x22>Add\x20Comment</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22option-divider\x22>OR</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22option-tab\x22\x20data-option=\x22demo\x22>Share\x20Demo\x20Link</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-content\x22\x20id=\x22commentOption\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22commentText\x22>Your\x20comment\x20(15\x20words\x20max):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22commentText\x22\x20name=\x22commentText\x22\x20rows=\x223\x22\x20placeholder=\x22Share\x20your\x20thoughts...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22word-counter\x22><span\x20id=\x22wordCount\x22>0</span>/15\x20words</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-content\x22\x20id=\x22demoOption\x22\x20style=\x22display:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22demoLink\x22>Demo\x20Link:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22url\x22\x20id=\x22demoLink\x22\x20name=\x22demoLink\x22\x20placeholder=\x22https://...\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22demoDescription\x22>Description\x20(20\x20words\x20max):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22demoDescription\x22\x20name=\x22demoDescription\x22\x20rows=\x222\x22\x20placeholder=\x22Describe\x20your\x20demo...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22word-counter\x22><span\x20id=\x22demoWordCount\x22>0</span>/20\x20words</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22submit\x22\x20class=\x22submit-comment-btn\x22>Submit</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</form>\x0a\x20\x20\x20\x20',_0x5e6337['style']['display']=_0x15ebba(0x160),_0x2bc056['style']['display']=_0x15ebba(0x160),document[_0x15ebba(0x11f)]('closeAddCommentPopup')['addEventListener']('click',closeAddCommentPopup),_0x2bc056[_0x15ebba(0x100)]('click',closeAddCommentPopup);const _0x1db8d3=_0x5e6337['querySelectorAll']('.option-tab');_0x1db8d3[_0x15ebba(0xf1)](_0x3c2331=>{const _0x1d27d6=_0x15ebba;_0x3c2331[_0x1d27d6(0x100)](_0x1d27d6(0x183),function(){const _0x5b6374=_0x1d27d6;_0x1db8d3['forEach'](_0x31e416=>_0x31e416['classList']['remove'](_0x5b6374(0xd8))),document['querySelectorAll']('.option-content')[_0x5b6374(0xf1)](_0x23ef00=>_0x23ef00[_0x5b6374(0x108)]['display']=_0x5b6374(0x172)),this[_0x5b6374(0x177)]['add'](_0x5b6374(0xd8));const _0x55ab8f=this['dataset']['option'];document[_0x5b6374(0x11f)](_0x55ab8f+'Option')['style']['display']=_0x5b6374(0x160),_0x55ab8f==='demo'?(document['getElementById'](_0x5b6374(0x10d))['setAttribute'](_0x5b6374(0xfd),''),document['getElementById'](_0x5b6374(0x122))[_0x5b6374(0xeb)](_0x5b6374(0xfd))):(document['getElementById']('demoLink')['removeAttribute'](_0x5b6374(0xfd)),document[_0x5b6374(0x11f)]('commentText')['setAttribute']('required',''));});}),document[_0x15ebba(0x11f)]('commentText')[_0x15ebba(0x163)]('required',''),document[_0x15ebba(0x11f)]('demoLink')['removeAttribute']('required'),setupWordCounter('commentText','wordCount',0xf),setupWordCounter('demoDescription','demoWordCount',0x14),document[_0x15ebba(0x11f)](_0x15ebba(0x168))['addEventListener']('submit',submitCommentOrDemo);}function setupWordCounter(_0x1708a9,_0x115c1c,_0x563c88){const _0x2fa93c=a6_0x3ed6fa,_0x4d007d=document[_0x2fa93c(0x11f)](_0x1708a9),_0x3248c5=document['getElementById'](_0x115c1c);if(!_0x4d007d||!_0x3248c5)return;_0x2d1320(),_0x4d007d['addEventListener']('input',_0x2d1320);function _0x2d1320(){const _0x3fecd4=_0x2fa93c,_0x4a4a89=_0x4d007d['value']['trim'](),_0x2297ac=_0x4a4a89?_0x4a4a89['split'](/\s+/)['filter'](_0x54f2a7=>_0x54f2a7[_0x3fecd4(0xe0)]>0x0)['length']:0x0;_0x3248c5['textContent']=_0x2297ac,_0x2297ac>_0x563c88?_0x3248c5['style']['color']='#ff4444':_0x3248c5['style']['color']='#aaa';}}async function submitCommentOrDemo(_0x3ea657){const _0x28b187=a6_0x3ed6fa;_0x3ea657['preventDefault']();if(!window['auth']||!window['db']){console['error'](_0x28b187(0xf8)),alert(_0x28b187(0x11d));return;}const _0x47d35f=window[_0x28b187(0x16d)][_0x28b187(0x14f)];if(!_0x47d35f){alert('You\x20must\x20be\x20signed\x20in\x20to\x20continue');return;}const _0x1275ee=document['getElementById'](_0x28b187(0xfa))['value'],_0x49dae3=document['querySelector']('.option-tab.active')[_0x28b187(0xff)]['option'];let _0x21baf3='Anonymous';try{const _0x20b691=doc(window['db'],_0x28b187(0x174),_0x47d35f[_0x28b187(0x146)]),_0x38048d=await getDoc(_0x20b691);if(_0x38048d[_0x28b187(0x128)]()){const _0x433af8=_0x38048d['data']();_0x433af8['username']&&(_0x21baf3=_0x433af8['username']);}_0x21baf3==='Anonymous'&&_0x47d35f['displayName']&&(_0x21baf3=_0x47d35f['displayName']);}catch(_0x1e64da){console[_0x28b187(0xd1)](_0x28b187(0x113),_0x1e64da),_0x47d35f['displayName']&&(_0x21baf3=_0x47d35f['displayName']);}const _0x559861=document['querySelector'](_0x28b187(0x17c));_0x559861&&(_0x559861[_0x28b187(0xf4)]=!![],_0x559861[_0x28b187(0x156)]='Submitting...');try{if(_0x49dae3==='comment'){const _0x2d061a=document[_0x28b187(0x11f)]('commentText')['value']['trim']();if(!_0x2d061a){alert(_0x28b187(0xe3)),_0x559861['disabled']=![],_0x559861['textContent']=_0x28b187(0x115);return;}const _0x2c229f=_0x2d061a['split'](/\s+/)['filter'](_0x6ed059=>_0x6ed059[_0x28b187(0xe0)]>0x0)['length'];if(_0x2c229f>0xf){alert('Comments\x20are\x20limited\x20to\x2015\x20words\x20maximum.\x20Please\x20shorten\x20your\x20comment.'),_0x559861['disabled']=![],_0x559861['textContent']='Submit';return;}const _0x2101d0={'matchId':_0x1275ee,'userId':_0x47d35f['uid'],'username':_0x21baf3,'text':_0x2d061a,'type':'comment','timestamp':serverTimestamp()},_0x56c3bb=collection(window['db'],'matchComments');await addDoc(_0x56c3bb,_0x2101d0);}else{const _0x200d8e=document['getElementById']('demoLink')[_0x28b187(0x13e)][_0x28b187(0x15d)](),_0x3cc5cc=document['getElementById'](_0x28b187(0x112))['value']['trim']()||'Demo\x20link';if(!_0x200d8e){alert('Please\x20enter\x20a\x20demo\x20link'),_0x559861['disabled']=![],_0x559861['textContent']=_0x28b187(0x115);return;}try{new URL(_0x200d8e);}catch(_0x5295b3){alert('Please\x20enter\x20a\x20valid\x20URL\x20for\x20the\x20demo\x20link'),_0x559861[_0x28b187(0xf4)]=![],_0x559861['textContent']=_0x28b187(0x115);return;}const _0x538d5f=_0x3cc5cc['split'](/\s+/)['filter'](_0x46dcee=>_0x46dcee['length']>0x0)['length'];if(_0x538d5f>0x14){alert('Demo\x20descriptions\x20are\x20limited\x20to\x2020\x20words\x20maximum.\x20Please\x20shorten\x20your\x20description.'),_0x559861['disabled']=![],_0x559861['textContent']='Submit';return;}const _0x52ca1a={'matchId':_0x1275ee,'userId':_0x47d35f['uid'],'username':_0x21baf3,'demoLink':_0x200d8e,'description':_0x3cc5cc,'type':'demo','text':'Demo:\x20'+_0x3cc5cc,'timestamp':serverTimestamp()},_0x35777e=collection(window['db'],'matchComments');await addDoc(_0x35777e,_0x52ca1a);}closeAddCommentPopup(),loadRecentMatchesPreview('current');}catch(_0x502a37){console['error']('Error\x20submitting:',_0x502a37),alert('Failed\x20to\x20submit:\x20'+_0x502a37['message']),_0x559861&&(_0x559861[_0x28b187(0xf4)]=![],_0x559861['textContent']='Submit');}}function getEloRankClass(_0x1ba289){const _0x4b96f9=a6_0x3ed6fa,_0x59ca8a=Number(_0x1ba289);if(_0x59ca8a>=0x7d0)return'emerald';else{if(_0x59ca8a>=0x708)return'gold';else{if(_0x59ca8a>=0x640)return'silver';else{if(_0x59ca8a>=0x578)return'bronze';else return _0x4b96f9(0x173);}}}}function showPreviewCommentPopup(_0xcde5f9,_0x423878,_0x4f2981='#fff'){const _0x17441e=a6_0x3ed6fa,_0x44dfe6=document[_0x17441e(0x11f)](_0x17441e(0xec)),_0x2fb80a=document[_0x17441e(0x11f)]('commentOverlayPreview'),_0x573a76=document['getElementById']('commentPopupTitlePreview'),_0x1771a6=document[_0x17441e(0x11f)]('commentPopupContentPreview'),_0x276c32=document[_0x17441e(0x11f)]('reportCommentButton');if(!_0x44dfe6||!_0x2fb80a||!_0x573a76||!_0x1771a6||!_0x276c32)return;_0x44dfe6['dataset']['commentText']=_0xcde5f9,_0x44dfe6['dataset'][_0x17441e(0x169)]=_0x423878,_0x573a76['style'][_0x17441e(0x10b)]=_0x4f2981,_0x573a76['textContent']='Comment\x20from\x20'+_0x423878,_0x1771a6['textContent']=_0xcde5f9,_0x276c32['onclick']=reportComment,_0x44dfe6[_0x17441e(0x108)][_0x17441e(0x150)]='block',_0x2fb80a['style'][_0x17441e(0x150)]='block';}function closePreviewCommentPopup(){const _0x2a152c=a6_0x3ed6fa,_0x49793f=document['getElementById']('commentPopupPreview'),_0x56e72d=document[_0x2a152c(0x11f)]('commentOverlayPreview');if(_0x49793f)_0x49793f[_0x2a152c(0x108)]['display']='none';if(_0x56e72d)_0x56e72d['style']['display']='none';}function a6_0x5f46(){const _0x2721ef=['warn','Rendering\x20page\x20','weapon-imbalance','.player.winner\x20.player-name','seconds','filterUsername','Comment\x20from\x20','active','.no-comments-message','data','push','Unknown\x20Map','cloneNode','Comment\x20not\x20found.\x20It\x20may\x20have\x20already\x20been\x20deleted.','subgameType','length','.player.winner\x20.player-suicides','matchComments','Please\x20enter\x20a\x20comment\x20before\x20submitting','backgroundColor','<button\x20class=\x22delete-comment-btn\x22\x20aria-label=\x22Delete\x20comment\x22>×</button>','</div>','popup-btn\x20report-btn','title','closeAddCommentPopup','enhancedFilters','removeAttribute','commentPopupPreview','clearFilterBtn','center','console','.comment.loser-comment','forEach','\x22\x20target=\x22_blank\x22\x20class=\x22play-icon\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<svg\x20viewBox=\x220\x200\x2024\x2024\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<path\x20d=\x22M8,5.14V19.14L19,12.14L8,5.14Z\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</svg>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22demo-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22demo-author\x22>Demo\x20from\x20','stopPropagation','disabled','createElement','\x20from\x20cache','...','Firebase\x20not\x20initialized','div','commentMatchId','winnerScore','bind','required','message','dataset','addEventListener','Comment\x20deleted\x20successfully','log','end','currentMode','filter','matchesPerPage','opacity','style','firstChild','lastVisible','color','Error\x20reporting\x20comment:','demoLink','pilots','onclick','.comment-item','<div\x20class=\x22matches-loading\x22>No\x20matches\x20found\x20matching\x20current\x20filters.</div>','demoDescription','Failed\x20to\x20fetch\x20username:','Comments\x20are\x20limited\x20to\x2015\x20words\x20maximum.\x20Please\x20shorten\x20your\x20comment.','Submit','commentAddOverlay','preview-d2-button','cursor','S:\x20','.</div>','You\x20need\x20to\x20be\x20signed\x20in\x20to\x20report\x20comments','applyFilterBtn','Unable\x20to\x20submit\x20-\x20system\x20not\x20ready','Delete\x20demo','getElementById','preview-d1-button','innerHTML','commentText','toggle','querySelectorAll','Failed\x20to\x20parse\x20cache:','subgames','aria-label','exists','.match-date','docsData','split','Loading\x20first\x20page\x20from\x20Firestore','toLocaleDateString','+10','Are\x20you\x20sure\x20you\x20want\x20to\x20report\x20this\x20comment\x20as\x20inappropriate?','.popup-actions','desc','\x20matches:','Unknown','Unable\x20to\x20submit\x20comment\x20-\x20system\x20not\x20ready','.loser-demo-link','includes','.player.winner\x20.player-score','currentPage','<div\x20class=\x22matches-loading\x22>Loading\x20recent\x20matches...</div>','.winner-demo-link','displayName','Yesterday','setItem','value','loserDemoLink','approvedMatchesD2','2025-07-02','.community-comments-section','filter-pilots','removeChild','\x20matching\x20filters','uid','.matches-loading[style*=\x22color:\x20red\x22]','N/A','input','wordCount','Close','.match-subgame','loserUsername','previewNextPage','currentUser','display','flex','commentPopupContentPreview','<div\x20class=\x22matches-loading\x22>No\x20recent\x20matches\x20found','.matches-loading','apply-enhanced-filters','textContent','.delete-comment-btn','username','current','userId','Daz','rematch','trim','closeCommentPopupPreview','getTime','block','badComments','commentOverlayPreview','setAttribute','matchId','prototype','loserOldElo','querySelector','addCommentForm','commentUser','className','Muted.','toLocaleString','auth','10px','#fff','keys','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','none','unranked','userProfiles','exception','map','classList','#FFD700','removeItem','next','prev','.submit-comment-btn','timestamp','href','missiles-6plus','from','15px','options','click','commentAddPopup','blind-match','Failed\x20to\x20report\x20comment:\x20','appendChild','toLowerCase','parse','error','winnerOldElo','info','previewPrevPage'];a6_0x5f46=function(){return _0x2721ef;};return a6_0x5f46();}async function reportComment(){const _0x1209fc=a6_0x3ed6fa,_0x49cce0=window['auth']['currentUser'];if(!_0x49cce0){alert(_0x1209fc(0x11b));return;}if(!confirm(_0x1209fc(0x12f)))return;try{const _0x1333ef=document['getElementById']('commentPopupPreview'),_0x35be4f={'commentAuthor':_0x1333ef['dataset']['commentUser']||'Unknown\x20User','commentText':_0x1333ef['dataset'][_0x1209fc(0x122)]||'','matchId':previewState['currentMatchId']||'','reportedBy':_0x49cce0['uid'],'reporterUsername':_0x49cce0['displayName']||'Anonymous\x20User','reportedAt':serverTimestamp()},_0x175981=collection(window['db'],_0x1209fc(0x161));await addDoc(_0x175981,_0x35be4f),alert('Thank\x20you.\x20The\x20comment\x20has\x20been\x20reported\x20and\x20will\x20be\x20reviewed.'),closePreviewCommentPopup();}catch(_0x128bbc){console['error'](_0x1209fc(0x10c),_0x128bbc),alert(_0x1209fc(0x186)+_0x128bbc[_0x1209fc(0xfe)]);}}function showFullCommentLightbox(_0x3971d9){const _0x1bc1bc=a6_0x3ed6fa;if(isUsernameMuted(_0x3971d9['username']))return;const _0x49a840=document['getElementById']('commentPopupPreview'),_0x371233=document['getElementById']('commentOverlayPreview'),_0x2ec948=document[_0x1bc1bc(0x11f)]('commentPopupTitlePreview'),_0xf1ae70=document['getElementById'](_0x1bc1bc(0x152));if(!_0x49a840||!_0x371233||!_0x2ec948||!_0xf1ae70)return;_0x2ec948[_0x1bc1bc(0x108)][_0x1bc1bc(0x10b)]=_0x1bc1bc(0x16f),_0x2ec948[_0x1bc1bc(0x156)]=_0x1bc1bc(0xd7)+_0x3971d9[_0x1bc1bc(0x158)];if(_0x3971d9[_0x1bc1bc(0x17d)]){const _0x231151=new Date(_0x3971d9['timestamp']['seconds']*0x3e8),_0x22eeef=_0x231151[_0x1bc1bc(0x16c)]();_0xf1ae70['innerHTML']='<p>'+_0x3971d9['text']+'</p><small\x20style=\x22color:#aaa;\x20display:block;\x20text-align:right;\x20margin-top:10px;\x22>Posted\x20on\x20'+_0x22eeef+'</small>';}else _0xf1ae70['textContent']=_0x3971d9['text'];_0x49a840['dataset']['commentId']=_0x3971d9['id']||'',_0x49a840[_0x1bc1bc(0xff)]['commentUser']=_0x3971d9['username']||'',_0x49a840[_0x1bc1bc(0xff)][_0x1bc1bc(0x122)]=_0x3971d9['text']||'',_0x49a840[_0x1bc1bc(0xff)]['matchId']=_0x3971d9['matchId']||'';const _0x1b9d1b=_0x49a840['querySelector'](_0x1bc1bc(0x130))||document['createElement'](_0x1bc1bc(0xf9));!_0x49a840['querySelector'](_0x1bc1bc(0x130))?(_0x1b9d1b['className']='popup-actions',_0x1b9d1b['style']['display']=_0x1bc1bc(0x151),_0x1b9d1b[_0x1bc1bc(0x108)]['justifyContent']=_0x1bc1bc(0xee),_0x1b9d1b['style']['gap']=_0x1bc1bc(0x16e),_0x1b9d1b['style']['marginTop']=_0x1bc1bc(0x181),_0x49a840['appendChild'](_0x1b9d1b)):_0x1b9d1b['innerHTML']='';const _0x452094=document['createElement']('button');_0x452094['textContent']=_0x1bc1bc(0x14b),_0x452094[_0x1bc1bc(0x16a)]='popup-btn\x20close-btn',_0x452094['id']=_0x1bc1bc(0x15e),_0x452094['addEventListener'](_0x1bc1bc(0x183),closePreviewCommentPopup);const _0x1640d4=document['createElement']('button');_0x1640d4['textContent']='Report',_0x1640d4['className']=_0x1bc1bc(0xe7),_0x1640d4['style'][_0x1bc1bc(0xe4)]='#d32f2f',_0x1640d4[_0x1bc1bc(0x100)]('click',reportComment),_0x1b9d1b['appendChild'](_0x452094),_0x1b9d1b[_0x1bc1bc(0x187)](_0x1640d4),_0x49a840[_0x1bc1bc(0x108)][_0x1bc1bc(0x150)]='block',_0x371233['style'][_0x1bc1bc(0x150)]='block';}export function setupPreviewEventListeners(){const _0x25b771=a6_0x3ed6fa,_0x489c7f=document[_0x25b771(0x11f)]('previewPrevPage'),_0x4c0d97=document['getElementById']('previewNextPage'),_0x4aae1e=document['getElementById']('preview-d1-button'),_0x5cac08=document[_0x25b771(0x11f)]('preview-d2-button'),_0x5f0efd=document[_0x25b771(0x11f)]('preview-d3-button'),_0x1b8229=document[_0x25b771(0x11f)]('filter-toggle-button'),_0x2cd8e8=document['getElementById']('enhanced-filter-section');if(!_0x489c7f||!_0x4c0d97||!_0x4aae1e||!_0x5cac08||!_0x5f0efd||!_0x1b8229||!_0x2cd8e8){console['warn']('Preview\x20UI\x20or\x20Filter\x20elements\x20not\x20found,\x20cannot\x20attach\x20listeners.');return;}_0x489c7f['addEventListener'](_0x25b771(0x183),()=>{if(!_0x489c7f['disabled'])loadRecentMatchesPreview('prev');}),_0x4c0d97[_0x25b771(0x100)]('click',()=>{const _0x3c87af=_0x25b771;if(!_0x4c0d97[_0x3c87af(0xf4)])loadRecentMatchesPreview(_0x3c87af(0x17a));}),_0x4aae1e[_0x25b771(0x100)]('click',()=>{const _0x41ac91=_0x25b771;previewState['currentMode']!=='D1'&&!previewState['isLoading']&&(previewState[_0x41ac91(0x104)]='D1',updatePreviewLadderModeUI(),loadRecentMatchesPreview('current'));}),_0x5cac08['addEventListener']('click',()=>{const _0x1d48c9=_0x25b771;previewState['currentMode']!=='D2'&&!previewState['isLoading']&&(previewState[_0x1d48c9(0x104)]='D2',updatePreviewLadderModeUI(),loadRecentMatchesPreview(_0x1d48c9(0x159)));}),_0x5f0efd[_0x25b771(0x100)](_0x25b771(0x183),()=>{const _0x5deaf6=_0x25b771;previewState['currentMode']!=='D3'&&!previewState['isLoading']&&(previewState[_0x5deaf6(0x104)]='D3',updatePreviewLadderModeUI(),loadRecentMatchesPreview('current'));});_0x1b8229&&_0x2cd8e8&&_0x1b8229['addEventListener'](_0x25b771(0x183),()=>{const _0x5a40d9=_0x25b771,_0x3ce6f9=_0x2cd8e8['style']['display']!==_0x5a40d9(0x172);_0x2cd8e8[_0x5a40d9(0x108)][_0x5a40d9(0x150)]=_0x3ce6f9?_0x5a40d9(0x172):'block',_0x1b8229['classList'][_0x5a40d9(0x123)]('active',!_0x3ce6f9);});const _0x19386b=document['getElementById'](_0x25b771(0x155)),_0x474884=document['getElementById']('clear-enhanced-filters');_0x19386b&&_0x19386b[_0x25b771(0x100)]('click',()=>{const _0xa6c244=_0x25b771;previewState[_0xa6c244(0xea)]['pilots']=document['getElementById'](_0xa6c244(0x143))[_0xa6c244(0x13e)]['trim'](),previewState['enhancedFilters']['levels']=document['getElementById']('filter-levels')['value']['trim']();const _0x3ad467=document[_0xa6c244(0x11f)]('filter-subgames');previewState[_0xa6c244(0xea)]['subgames']=Array[_0xa6c244(0x180)](_0x3ad467['selectedOptions'])[_0xa6c244(0x176)](_0x33ad2c=>_0x33ad2c['value'])['filter'](_0x126293=>_0x126293!==''),loadRecentMatchesPreview('current');});_0x474884&&_0x474884['addEventListener']('click',()=>{clearEnhancedFilters(),loadRecentMatchesPreview('current');});document[_0x25b771(0x124)]('.jump-btn')[_0x25b771(0xf1)](_0x2a6b38=>{_0x2a6b38['addEventListener']('click',()=>{const _0x353d06=a6_0x283c,_0x2b7096=_0x2a6b38[_0x353d06(0xff)]['jump'];jumpToPage(_0x2b7096);});});const _0x53c0bb=document['getElementById']('jump-to-page');_0x53c0bb&&_0x53c0bb['addEventListener']('keypress',_0x524799=>{_0x524799['key']==='Enter'&&jumpToPage('input');});const _0x60f3bf=document[_0x25b771(0x11f)]('closeCommentPopupPreview'),_0x194ae4=document['getElementById'](_0x25b771(0x162));if(_0x60f3bf)_0x60f3bf[_0x25b771(0x100)]('click',closePreviewCommentPopup);if(_0x194ae4)_0x194ae4['addEventListener'](_0x25b771(0x183),closePreviewCommentPopup);const _0x49964e=document['getElementById']('closeAddCommentPopup'),_0x5009c4=document['getElementById'](_0x25b771(0x116)),_0x3d3431=document[_0x25b771(0x11f)]('addCommentForm');if(_0x49964e)_0x49964e['addEventListener']('click',closeAddCommentPopup);if(_0x5009c4)_0x5009c4['addEventListener']('click',closeAddCommentPopup);if(_0x3d3431)_0x3d3431[_0x25b771(0x100)]('submit',submitComment);const _0x5e029e=document['getElementById'](_0x25b771(0x122)),_0x47c976=document[_0x25b771(0x11f)](_0x25b771(0x14a));_0x5e029e&&_0x47c976&&setupWordCounter('commentText','wordCount',0xf);}window['showAddCommentPopup']=showAddCommentPopup,window[a6_0x3ed6fa(0xe9)]=closeAddCommentPopup,window['submitComment']=submitComment;