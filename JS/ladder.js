const a25_0x97478c=a25_0x5842,a25_0xd77f42=(function(){let _0x47f37c=!![];return function(_0x309161,_0x33c9ed){const _0x8b2d83=_0x47f37c?function(){if(_0x33c9ed){const _0x4a6512=_0x33c9ed['apply'](_0x309161,arguments);return _0x33c9ed=null,_0x4a6512;}}:function(){};return _0x47f37c=![],_0x8b2d83;};}()),a25_0x5e3a8d=a25_0xd77f42(this,function(){const _0xe6959e=a25_0x5842;let _0x37e1ee;try{const _0x450d66=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x37e1ee=_0x450d66();}catch(_0x4b6ad7){_0x37e1ee=window;}const _0x5461f9=_0x37e1ee['console']=_0x37e1ee[_0xe6959e(0x190)]||{},_0x34a682=[_0xe6959e(0x163),'warn',_0xe6959e(0x149),'error',_0xe6959e(0x17d),'table',_0xe6959e(0x19d)];for(let _0x29cd48=0x0;_0x29cd48<_0x34a682['length'];_0x29cd48++){const _0x3dbb52=a25_0xd77f42[_0xe6959e(0x128)]['prototype']['bind'](a25_0xd77f42),_0x5d91fd=_0x34a682[_0x29cd48],_0x409a9d=_0x5461f9[_0x5d91fd]||_0x3dbb52;_0x3dbb52[_0xe6959e(0x181)]=a25_0xd77f42['bind'](a25_0xd77f42),_0x3dbb52[_0xe6959e(0x171)]=_0x409a9d['toString']['bind'](_0x409a9d),_0x5461f9[_0x5d91fd]=_0x3dbb52;}});a25_0x5e3a8d();import{db}from'./firebase-config.js';import{collection,getDocs,deleteDoc,doc,getDoc,query,where,updateDoc,Timestamp,onSnapshot,orderBy,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{getRankStyle}from'./ranks.js';function a25_0x2741(){const _0x25de4c=['Bronze','winnerScore','constructor','style','disabled','totalDeaths','<img\x20src=\x22','hasTeam','Error\x20loading\x20ladder:','forEach','duos','sort','includes','div','admin-only-message','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22color:\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','equipped','toFixed','none','add','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','empty','target','tokenImage','map','getElementById','d3-ladder-container','player','size','getDate','data','d1-switch','toLowerCase','.png\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22','info','eloHistory','has','active','warn','remove','\x20ladder','docs','get','wins','previousElo','<tr><td\x20colspan=\x228\x22\x20class=\x22loading-cell\x22>Loading\x20ladder\x20data...</td></tr>','playersDuos','display','elo-recommendation-text-d3','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22width:\x2035px;\x20height:\x2035px;\x20margin-left:\x205px;\x20vertical-align:\x20middle;\x20object-fit:\x20contain;\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>','desc','%</td>\x0a\x20\x20\x20\x20</tr>','#ladder\x20tbody','error','winRate','innerHTML','error-message','addEventListener','elo-recommendation-text-d1','d2-ladder-container','log','rank','date','#FFD700','inline','recentActivity','kda','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22profile.html?username=','0.5','Silver','createElement','loading-indicator','querySelector','username','toString','cssText','DOMContentLoaded','Ladder\x20table\x20body\x20not\x20found','Emerald','elo-recommendation-text-','uid','position','#F44336','&ladder=d1\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22color:\x20','<img\x20src=\x22../images/flags/','players','exception','pointer','classList','\x20has\x20equipped:\x20','__proto__','oldEloRating','Active','</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-name\x22>','textContent','timestamp','brian2af@outlook.com','totalKills','\x0a\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','length','country','opacity','gray','push','email','console','set','appendChild','duos-ladder-container','newElo','block','title',';\x20text-decoration:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','tokenName','click','userProfiles','No\x20ideal\x20opponent\x20found\x20for\x20your\x20current\x20ELO\x20(','elo','trace','loserScore',';\x22>','round','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Rank</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Username</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>ELO</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Matches</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Wins</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Losses</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>K/D</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Win\x20Rate</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'];a25_0x2741=function(){return _0x25de4c;};return a25_0x2741();}import{displayLadderD2}from'./ladderd2.js';import{displayLadderD3}from'./ladderd3.js';import{getAuth}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';import{getLadderData,getEloHistoryBatch,setupEfficientListener}from'./services/firebaseService.js';import{displayLadderDuos}from'./ladderduos.js';import{getTokensByUsernames,getPrimaryDisplayToken}from'./tokens.js';const auth=getAuth();let activeListeners=[];export async function loadLadderData(_0x315aa3=0x1){const _0x21841d=a25_0x5842;try{document[_0x21841d(0x140)]('loading-indicator')[_0x21841d(0x129)][_0x21841d(0x156)]='block';const _0x46d7ff=await getLadderData(_0x315aa3);_0x46d7ff[_0x21841d(0x131)]((_0x4e660c,_0x185a83)=>_0x185a83['elo']-_0x4e660c[_0x21841d(0x19c)]);const _0x2bc0d2=_0x46d7ff['map'](_0x3eec70=>_0x3eec70['id']),_0x38e894=await getEloHistoryBatch(_0x2bc0d2,_0x315aa3),_0x200969=_0x46d7ff[_0x21841d(0x13f)]((_0x4f4055,_0x36a284)=>{const _0x2871c4=_0x21841d,_0x20cabc=_0x38e894[_0x4f4055['id']]||[],_0x38be26=_0x20cabc[_0x2871c4(0x131)]((_0x573d03,_0x36d44c)=>new Date(_0x36d44c['date'])-new Date(_0x573d03[_0x2871c4(0x165)]))['slice'](0x0,0x5);return{..._0x4f4055,'rank':_0x36a284+0x1,'lastMatches':_0x38be26,'recentActivity':_0x38be26['length']>0x0};});renderLadder(_0x200969),setupRealTimeUpdates(_0x315aa3);}catch(_0x2f7fb1){console['error']('Error\x20loading\x20ladder\x20data:',_0x2f7fb1),document[_0x21841d(0x140)](_0x21841d(0x15f))['innerText']='Failed\x20to\x20load\x20ladder\x20data.\x20Please\x20try\x20again.';}finally{document[_0x21841d(0x140)](_0x21841d(0x16e))['style'][_0x21841d(0x156)]='none';}}function setupRealTimeUpdates(_0x554659=0x1){const _0x431b2c=a25_0x5842;activeListeners['forEach'](_0x80b928=>_0x80b928()),activeListeners=[];const _0x5e4625=_0x554659===0x1?'players':'playersD'+_0x554659,_0xcd592a=_0x554659===0x1?'matches':'matchesD'+_0x554659,_0x1d5c43=new Date();_0x1d5c43['setDate'](_0x1d5c43[_0x431b2c(0x144)]()-0x1);const _0x3637fc=setupEfficientListener(_0xcd592a,[where('date','>=',_0x1d5c43['toISOString']()),limit(0xa),orderBy(_0x431b2c(0x165),'desc')],async _0x1383b8=>{_0x1383b8['length']>0x0&&await loadLadderData(_0x554659);});activeListeners[_0x431b2c(0x18e)](_0x3637fc);}export function cleanupListeners(){activeListeners['forEach'](_0x2b2882=>_0x2b2882()),activeListeners=[];}function renderLadder(_0x4bc58a){const _0x15ee1f=document['getElementById']('ladder-container');_0x15ee1f['innerHTML']='',_0x4bc58a['forEach'](_0x4241e3=>{const _0x33876a=a25_0x5842,_0xebeffc=document['createElement'](_0x33876a(0x133));_0xebeffc['className']='ladder-player',_0xebeffc[_0x33876a(0x15e)]='\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22rank\x22>#'+_0x4241e3[_0x33876a(0x164)]+_0x33876a(0x184)+(_0x4241e3['username']||_0x4241e3['id'])+'</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-elo\x22>'+_0x4241e3['elo']+'</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-activity\x20'+(_0x4241e3['recentActivity']?'active':'inactive')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4241e3[_0x33876a(0x168)]?_0x33876a(0x183):'Inactive')+'\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x15ee1f[_0x33876a(0x192)](_0xebeffc);});}const playerCache={'data':null,'timestamp':0x0},CACHE_DURATION=0x7530;async function displayLadder(_0xdeca1e=![]){const _0x283f6b=a25_0x5842,_0x403077=document[_0x283f6b(0x16f)](_0x283f6b(0x15b));if(!_0x403077){console['error'](_0x283f6b(0x174));return;}_0x403077['innerHTML']=_0x283f6b(0x154);try{const _0x4b9c77=Date['now']();if(!_0xdeca1e&&playerCache[_0x283f6b(0x145)]&&_0x4b9c77-playerCache['timestamp']<CACHE_DURATION){console['log']('Using\x20cached\x20D1\x20ladder\x20data'),updateLadderDisplay(playerCache[_0x283f6b(0x145)]);return;}const _0x2bdea0=collection(db,_0x283f6b(0x17c)),_0x111991=await getDocs(_0x2bdea0),_0x11772a=[];_0x111991['forEach'](_0x29eba6=>{const _0x1bee9d=_0x283f6b,_0x2dd651=_0x29eba6[_0x1bee9d(0x145)]();_0x11772a['push']({..._0x2dd651,'id':_0x29eba6['id'],'elo':_0x2dd651['eloRating']||0x0,'position':_0x2dd651[_0x1bee9d(0x178)]||Number['MAX_SAFE_INTEGER']});});const _0x39fea2=collection(db,_0x283f6b(0x19a)),_0x201acb=await getDocs(_0x39fea2),_0x3d587c=new Map();_0x201acb['forEach'](_0x1f2fc0=>{const _0x1fd2b0=_0x1f2fc0['data']();_0x1fd2b0['username']&&_0x3d587c['set'](_0x1fd2b0['username']['toLowerCase'](),_0x1fd2b0);}),_0x11772a['forEach'](_0xc2ef8=>{const _0x53474c=_0x283f6b,_0x4e9ad7=_0xc2ef8['username']?.['toLowerCase']();if(_0x4e9ad7&&_0x3d587c['has'](_0x4e9ad7)){const _0x26a8e5=_0x3d587c['get'](_0x4e9ad7);_0x26a8e5['country']&&(_0xc2ef8[_0x53474c(0x18b)]=_0x26a8e5['country']['toLowerCase']());}});const _0x2b249e=_0x11772a['map'](_0x2ac2be=>_0x2ac2be['username']),_0x4dcf95=await fetchBatchMatchStats(_0x2b249e);_0x11772a[_0x283f6b(0x131)]((_0x4d0d2d,_0x3fd58d)=>{const _0x5d387a=_0x283f6b,_0x3c9829=_0x4dcf95['get'](_0x4d0d2d['username'])?.['totalMatches']||0x0,_0x4041a6=_0x4dcf95['get'](_0x3fd58d[_0x5d387a(0x170)])?.['totalMatches']||0x0;if(_0x3c9829===0x0!==(_0x4041a6===0x0))return _0x3c9829===0x0?0x1:-0x1;return(_0x4d0d2d[_0x5d387a(0x178)]||0x3e7)-(_0x3fd58d['position']||0x3e7);}),_0x11772a['forEach']((_0x22d5a6,_0x1e28f6)=>{const _0x18eb5e=_0x283f6b;_0x22d5a6[_0x18eb5e(0x178)]=_0x1e28f6+0x1;}),playerCache[_0x283f6b(0x145)]=_0x11772a,playerCache['timestamp']=_0x4b9c77,updateLadderDisplay(_0x11772a,_0x4dcf95);}catch(_0x5a5de7){console['error'](_0x283f6b(0x12e),_0x5a5de7),_0x403077['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x228\x22\x20style=\x22text-align:\x20center;\x20color:\x20red;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20ladder\x20data:\x20'+_0x5a5de7['message']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}async function fetchBatchMatchStats(_0x4c1214){const _0x57b736=new Map();try{_0x4c1214['forEach'](_0x38db6b=>{_0x57b736['set'](_0x38db6b,{'totalMatches':0x0,'wins':0x0,'losses':0x0,'totalKills':0x0,'totalDeaths':0x0,'kda':0x0,'winRate':0x0});});const _0x19b61d=collection(db,'approvedMatches'),_0x5bce0d=await getDocs(_0x19b61d);_0x5bce0d['forEach'](_0x5f1286=>{const _0x5eba16=a25_0x5842,_0x285168=_0x5f1286['data'](),_0x1cd9ba=_0x285168['winnerUsername'],_0x4d43b6=_0x285168['loserUsername'];if(_0x4c1214[_0x5eba16(0x132)](_0x1cd9ba)){const _0x147dc9=_0x57b736['get'](_0x1cd9ba);_0x147dc9['wins']++,_0x147dc9['totalMatches']++,_0x147dc9[_0x5eba16(0x188)]+=parseInt(_0x285168[_0x5eba16(0x127)])||0x0,_0x147dc9[_0x5eba16(0x12b)]+=parseInt(_0x285168['loserScore'])||0x0;}if(_0x4c1214['includes'](_0x4d43b6)){const _0x3ee468=_0x57b736[_0x5eba16(0x151)](_0x4d43b6);_0x3ee468['losses']++,_0x3ee468['totalMatches']++,_0x3ee468['totalKills']+=parseInt(_0x285168[_0x5eba16(0x19e)])||0x0,_0x3ee468['totalDeaths']+=parseInt(_0x285168['winnerScore'])||0x0;}}),_0x4c1214['forEach'](_0x4d95b7=>{const _0x4c4c62=a25_0x5842,_0x459f93=_0x57b736[_0x4c4c62(0x151)](_0x4d95b7);_0x459f93['kda']=_0x459f93[_0x4c4c62(0x12b)]>0x0?(_0x459f93[_0x4c4c62(0x188)]/_0x459f93['totalDeaths'])[_0x4c4c62(0x138)](0x2):_0x459f93['totalKills']['toFixed'](0x2),_0x459f93[_0x4c4c62(0x15d)]=_0x459f93['totalMatches']>0x0?(_0x459f93['wins']/_0x459f93['totalMatches']*0x64)['toFixed'](0x1):0x0;});}catch(_0x25831a){console['error']('Error\x20fetching\x20batch\x20match\x20stats:',_0x25831a);}return _0x57b736;}function createPlayerRow(_0x8e4698,_0x989faa){const _0x587191=a25_0x5842,_0x2f402f=parseFloat(_0x8e4698['elo'])||0x0;let _0x187696='gray';if(_0x2f402f>=0x7d0)_0x187696='#50C878';else{if(_0x2f402f>=0x708)_0x187696=_0x587191(0x166);else{if(_0x2f402f>=0x640)_0x187696='#b9f1fc';else _0x2f402f>=0x578&&(_0x187696='#CD7F32');}}let _0x4e7554='';return _0x8e4698['country']&&(_0x4e7554=_0x587191(0x17b)+_0x8e4698[_0x587191(0x18b)][_0x587191(0x147)]()+'.png\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22'+_0x8e4698['country']+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22player-flag\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22margin-left:\x205px;\x20vertical-align:\x20middle;\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>'),_0x587191(0x189)+_0x8e4698['position']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22profile.html?username='+encodeURIComponent(_0x8e4698['username'])+_0x587191(0x17a)+_0x187696+_0x587191(0x197)+_0x8e4698['username']+_0x587191(0x13b)+_0x4e7554+_0x587191(0x135)+_0x187696+';\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22elo-container\x22\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22elo-value\x22>'+_0x2f402f+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22trend-indicator\x22\x20style=\x22margin-left:\x205px;\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x989faa['totalMatches']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x989faa[_0x587191(0x152)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x989faa['losses']+_0x587191(0x136)+_0x989faa['kda']+_0x587191(0x136)+_0x989faa[_0x587191(0x15d)]+_0x587191(0x15a);}function getPlayerRankName(_0x1c7876){const _0x59512f=a25_0x5842;if(_0x1c7876>=0x7d0)return _0x59512f(0x175);if(_0x1c7876>=0x708)return'Gold';if(_0x1c7876>=0x640)return _0x59512f(0x16c);if(_0x1c7876>=0x578)return _0x59512f(0x126);return'Unranked';}async function getPlayersLastEloChanges(_0x3451fd){const _0x5bbf3c=a25_0x5842,_0x52bedd=new Map();_0x3451fd[_0x5bbf3c(0x12f)](_0x24f1dd=>{const _0x16c28c=_0x5bbf3c;_0x52bedd[_0x16c28c(0x191)](_0x24f1dd,0x0);});try{const _0x4977ba=collection(db,'players'),_0xff27c6=await getDocs(_0x4977ba),_0xb8356f=new Map(),_0x17ce19=new Map();_0xff27c6['forEach'](_0x1d473a=>{const _0x4a23fc=_0x5bbf3c,_0x2382c0=_0x1d473a['data']();_0x2382c0[_0x4a23fc(0x170)]&&(_0xb8356f[_0x4a23fc(0x191)](_0x1d473a['id'],_0x2382c0['username']),_0x17ce19['set'](_0x2382c0['username']['toLowerCase'](),_0x1d473a['id']));});const _0x1a3112=collection(db,_0x5bbf3c(0x14a)),_0x2f6f9b=query(_0x1a3112,orderBy('timestamp',_0x5bbf3c(0x159)),limit(0x12c)),_0xc399b5=await getDocs(_0x2f6f9b);if(_0xc399b5[_0x5bbf3c(0x13c)])return console['log']('ELO\x20history\x20collection\x20is\x20empty'),_0x52bedd;if(_0xc399b5['docs']['length']>0x0){const _0x1abc8c=_0xc399b5[_0x5bbf3c(0x150)][0x0][_0x5bbf3c(0x145)]();if(_0x1abc8c[_0x5bbf3c(0x142)]&&_0xb8356f['has'](_0x1abc8c['player'])){}}const _0x47cd64=new Map();let _0x383073=0x0;_0xc399b5['forEach'](_0x1cd553=>{const _0x1194ee=_0x5bbf3c,_0x2f44b8=_0x1cd553['data']();let _0x4a7576=null;if(_0x2f44b8['player']&&_0xb8356f[_0x1194ee(0x14b)](_0x2f44b8['player']))_0x4a7576=_0xb8356f[_0x1194ee(0x151)](_0x2f44b8['player']);else{if(_0x2f44b8[_0x1194ee(0x170)]&&_0x17ce19['has'](_0x2f44b8[_0x1194ee(0x170)][_0x1194ee(0x147)]()))_0x4a7576=_0x2f44b8[_0x1194ee(0x170)];else _0x2f44b8['playerUsername']&&_0x17ce19[_0x1194ee(0x14b)](_0x2f44b8['playerUsername']['toLowerCase']())&&(_0x4a7576=_0x2f44b8['playerUsername']);}_0x4a7576&&_0x3451fd['includes'](_0x4a7576)&&(_0x383073++,!_0x47cd64['has'](_0x4a7576)&&_0x47cd64['set'](_0x4a7576,[]),_0x47cd64[_0x1194ee(0x151)](_0x4a7576)['push']({..._0x2f44b8,'timestamp':_0x2f44b8['timestamp']?.['seconds']||0x0}));}),_0x47cd64['forEach']((_0x470b91,_0x106484)=>{const _0x5c9fe4=_0x5bbf3c;if(_0x470b91[_0x5c9fe4(0x18a)]>0x0){_0x470b91['sort']((_0x2738bb,_0x23eadf)=>_0x23eadf[_0x5c9fe4(0x186)]-_0x2738bb['timestamp']);const _0x998b19=_0x470b91['find'](_0x35535a=>_0x35535a['change']!==undefined||_0x35535a[_0x5c9fe4(0x194)]!==undefined&&_0x35535a['previousElo']!==undefined||_0x35535a['newEloRating']!==undefined&&_0x35535a[_0x5c9fe4(0x182)]!==undefined);if(_0x998b19){let _0xd38e43;if(_0x998b19['change']!==undefined)_0xd38e43=parseInt(_0x998b19['change']);else{if(_0x998b19['newElo']!==undefined&&entry[_0x5c9fe4(0x153)]!==undefined)_0xd38e43=parseInt(_0x998b19['newElo'])-parseInt(_0x998b19['previousElo']);else _0x998b19['newEloRating']!==undefined&&entry['oldEloRating']!==undefined&&(_0xd38e43=parseInt(_0x998b19['newEloRating'])-parseInt(_0x998b19['oldEloRating']));}!isNaN(_0xd38e43)&&_0xd38e43!==0x0&&_0x52bedd[_0x5c9fe4(0x191)](_0x106484,_0xd38e43);}}});}catch(_0x30c9a6){console[_0x5bbf3c(0x15c)]('Error\x20fetching\x20ELO\x20history:',_0x30c9a6);}return _0x52bedd;}function createPlayerRowWithToken(_0x3c4622,_0x4ed960,_0x2cab57){const _0x497e54=a25_0x5842,_0x1da6fc=parseFloat(_0x3c4622['elo'])||0x0;let _0x1107b1='gray';if(_0x1da6fc>=0x7d0)_0x1107b1='#50C878';else{if(_0x1da6fc>=0x708)_0x1107b1='#FFD700';else{if(_0x1da6fc>=0x640)_0x1107b1='#b9f1fc';else _0x1da6fc>=0x578&&(_0x1107b1='#CD7F32');}}let _0x1589ad='';_0x3c4622['country']&&(_0x1589ad=_0x497e54(0x17b)+_0x3c4622['country']['toLowerCase']()+_0x497e54(0x148)+_0x3c4622['country']+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22player-flag\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22margin-left:\x205px;\x20vertical-align:\x20middle;\x20width:\x2020px;\x20height:\x20auto;\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>');let _0x2305c5='';return _0x2cab57&&(_0x2305c5=_0x497e54(0x12c)+_0x2cab57[_0x497e54(0x13e)]+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22'+_0x2cab57[_0x497e54(0x198)]+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22player-token\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20title=\x22'+_0x2cab57['tokenName']+'\x20'+(_0x2cab57[_0x497e54(0x137)]?'(Equipped)':'')+_0x497e54(0x158)),'\x0a\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x3c4622['position']+_0x497e54(0x16a)+encodeURIComponent(_0x3c4622['username'])+'&ladder=d1\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22color:\x20'+_0x1107b1+_0x497e54(0x197)+_0x3c4622[_0x497e54(0x170)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1589ad+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2305c5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22color:\x20'+_0x1107b1+';\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22elo-container\x22\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22elo-value\x22>'+_0x1da6fc+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22trend-indicator\x22\x20style=\x22margin-left:\x205px;\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x4ed960['totalMatches']+_0x497e54(0x136)+_0x4ed960['wins']+_0x497e54(0x136)+_0x4ed960['losses']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x4ed960[_0x497e54(0x169)]+_0x497e54(0x136)+_0x4ed960['winRate']+'%</td>\x0a\x20\x20\x20\x20</tr>';}async function updateLadderDisplay(_0x12470c,_0x3154f1=null){const _0x2b1b33=a25_0x5842,_0xfb7d45=document['querySelector'](_0x2b1b33(0x15b));if(!_0xfb7d45){console['error']('Ladder\x20table\x20body\x20not\x20found');return;}const _0x4df3e9=document['querySelector']('#ladder\x20thead\x20tr');_0x4df3e9&&(_0x4df3e9['innerHTML']=_0x2b1b33(0x1a1));const _0x2e4e51=_0x12470c['map'](_0x5acd59=>_0x5acd59['username']);!_0x3154f1&&(_0x3154f1=await fetchBatchMatchStats(_0x2e4e51));let _0x4e553d=new Map();try{typeof clearTokenCache==='function'&&clearTokenCache(),_0x4e553d=await getTokensByUsernames(_0x2e4e51),console[_0x2b1b33(0x163)]('🪙\x20Loaded\x20fresh\x20tokens\x20for',_0x4e553d[_0x2b1b33(0x143)],_0x2b1b33(0x17c)),_0x4e553d[_0x2b1b33(0x12f)]((_0x8fef39,_0x31e5f5)=>{const _0xd289c2=_0x2b1b33,_0x43c04f=_0x8fef39['find'](_0x14a525=>_0x14a525['equipped']);_0x43c04f&&console['log']('🎯\x20'+_0x31e5f5+_0xd289c2(0x180)+_0x43c04f['tokenName']);});}catch(_0xe6205d){console['error']('Error\x20fetching\x20tokens:',_0xe6205d);}const _0x4abea1=_0x12470c['map'](_0x5643fb=>{const _0x167308=_0x2b1b33,_0x50ff96=_0x3154f1[_0x167308(0x151)](_0x5643fb['username'])||{'totalMatches':0x0,'wins':0x0,'losses':0x0,'kda':0x0,'winRate':0x0,'totalKills':0x0,'totalDeaths':0x0},_0x16ec79=_0x4e553d['get'](_0x5643fb['username'])||[],_0x8ce870=getPrimaryDisplayToken(_0x16ec79);return _0x8ce870&&console['log']('🎨\x20'+_0x5643fb['username']+'\x20displaying\x20token:\x20'+_0x8ce870[_0x167308(0x198)]+'\x20(equipped:\x20'+_0x8ce870['equipped']+')'),createPlayerRowWithToken(_0x5643fb,_0x50ff96,_0x8ce870);})['join']('');_0xfb7d45['innerHTML']=_0x4abea1,getPlayersLastEloChanges(_0x2e4e51)['then'](_0x5489f7=>{const _0x3d4cd9=_0x2b1b33,_0x4ec5b0=new Map();_0xfb7d45['querySelectorAll']('tr')['forEach']((_0x17a3ee,_0x263f63)=>{_0x263f63<_0x2e4e51['length']&&_0x4ec5b0['set'](_0x2e4e51[_0x263f63],_0x17a3ee);}),_0x5489f7[_0x3d4cd9(0x12f)]((_0xf28a64,_0xf47b35)=>{const _0x161543=_0x3d4cd9,_0x330e7d=_0x4ec5b0['get'](_0xf47b35);if(_0x330e7d&&_0xf28a64!==0x0){const _0x185f79=_0x330e7d['querySelector']('td:nth-child(3)');if(_0x185f79){const _0x211a08=_0xf28a64>0x0?'+'+_0xf28a64:''+_0xf28a64,_0x1e9427=_0x185f79['querySelector']('.trend-indicator');_0x1e9427&&(_0x1e9427[_0x161543(0x185)]=_0x211a08,_0x1e9427['style']['color']=_0xf28a64>0x0?'#4CAF50':_0x161543(0x179),_0x1e9427[_0x161543(0x129)]['fontWeight']='bold',_0x1e9427[_0x161543(0x129)]['fontSize']='0.85em',_0x1e9427['style']['display']=_0x161543(0x167),_0x1e9427['style']['visibility']='visible',_0x1e9427[_0x161543(0x129)]['opacity']='1');}}});})['catch'](_0x53bf83=>console[_0x2b1b33(0x15c)]('Error\x20updating\x20ELO\x20trend\x20indicators:',_0x53bf83));}function initLadderToggles(){const _0x3b6fbf=a25_0x5842,_0xdbcb=document['getElementById'](_0x3b6fbf(0x146)),_0x2ab292=document[_0x3b6fbf(0x140)]('d2-switch'),_0x3a21f9=document['getElementById']('d3-switch'),_0x450e5c=document['getElementById']('duos-switch'),_0x37affc=document[_0x3b6fbf(0x140)]('d1-ladder-container'),_0x3d62e8=document['getElementById'](_0x3b6fbf(0x162)),_0x146e5c=document['getElementById'](_0x3b6fbf(0x141)),_0x3e111d=document['getElementById'](_0x3b6fbf(0x193));function _0x1d06fc(){const _0x36e090=_0x3b6fbf;if(_0x37affc)_0x37affc['classList']['remove']('active');if(_0x3d62e8)_0x3d62e8['classList']['remove']('active');if(_0x146e5c)_0x146e5c['classList']['remove']('active');if(_0x3e111d)_0x3e111d['style']['display']='none';if(_0x37affc)_0x37affc['style']['display']='none';if(_0x3d62e8)_0x3d62e8['style'][_0x36e090(0x156)]=_0x36e090(0x139);if(_0x146e5c)_0x146e5c[_0x36e090(0x129)]['display']='none';}_0xdbcb&&_0xdbcb['addEventListener'](_0x3b6fbf(0x199),()=>{const _0x82cb77=_0x3b6fbf;console[_0x82cb77(0x163)]('D1\x20toggle\x20clicked'),_0x1d06fc();_0x37affc&&(_0x37affc['classList']['add']('active'),_0x37affc['style'][_0x82cb77(0x156)]='block');document['getElementById'](_0x82cb77(0x161))['style']['display']='block',document['getElementById']('elo-recommendation-text-d2')[_0x82cb77(0x129)][_0x82cb77(0x156)]=_0x82cb77(0x139),document['getElementById']('elo-recommendation-text-d3')['style'][_0x82cb77(0x156)]=_0x82cb77(0x139);if(_0xdbcb)_0xdbcb['classList']['add']('active');if(_0x2ab292)_0x2ab292['classList'][_0x82cb77(0x14e)](_0x82cb77(0x14c));if(_0x3a21f9)_0x3a21f9['classList']['remove'](_0x82cb77(0x14c));displayLadder(),findBestOpponent('d1');}),_0x2ab292&&_0x2ab292['addEventListener'](_0x3b6fbf(0x199),()=>{const _0x4f745a=_0x3b6fbf;console[_0x4f745a(0x163)]('D2\x20toggle\x20clicked'),_0x1d06fc();_0x3d62e8&&(_0x3d62e8['classList'][_0x4f745a(0x13a)]('active'),_0x3d62e8[_0x4f745a(0x129)]['display']=_0x4f745a(0x195));document['getElementById'](_0x4f745a(0x161))[_0x4f745a(0x129)][_0x4f745a(0x156)]=_0x4f745a(0x139),document[_0x4f745a(0x140)]('elo-recommendation-text-d2')[_0x4f745a(0x129)]['display']='block',document['getElementById']('elo-recommendation-text-d3')['style']['display']='none';if(_0x2ab292)_0x2ab292[_0x4f745a(0x17f)]['add']('active');if(_0xdbcb)_0xdbcb['classList']['remove'](_0x4f745a(0x14c));if(_0x3a21f9)_0x3a21f9['classList']['remove']('active');displayLadderD2(),findBestOpponent('d2');}),_0x3a21f9&&_0x3a21f9['addEventListener']('click',()=>{const _0x62466=_0x3b6fbf;console[_0x62466(0x163)]('D3\x20toggle\x20clicked'),_0x1d06fc();_0x146e5c&&(_0x146e5c['classList'][_0x62466(0x13a)]('active'),_0x146e5c[_0x62466(0x129)]['display']=_0x62466(0x195));document[_0x62466(0x140)]('elo-recommendation-text-d1')['style']['display']='none',document[_0x62466(0x140)]('elo-recommendation-text-d2')['style'][_0x62466(0x156)]='none',document['getElementById']('elo-recommendation-text-d3')['style']['display']='block';if(_0x3a21f9)_0x3a21f9[_0x62466(0x17f)][_0x62466(0x13a)]('active');if(_0xdbcb)_0xdbcb['classList']['remove']('active');if(_0x2ab292)_0x2ab292['classList']['remove']('active');displayLadderD3(),findBestOpponent('d3');}),_0x450e5c&&_0x450e5c[_0x3b6fbf(0x160)](_0x3b6fbf(0x199),()=>{const _0x1e2ec9=_0x3b6fbf;_0x1d06fc();if(_0x3e111d)_0x3e111d[_0x1e2ec9(0x129)][_0x1e2ec9(0x156)]=_0x1e2ec9(0x195);displayLadderDuos(),findBestOpponent(_0x1e2ec9(0x130)),document['getElementById']('elo-recommendation-text-duos')&&(document['getElementById']('elo-recommendation-text-duos')['style']['display']='block'),document['getElementById']('elo-recommendation-text-d1')['style'][_0x1e2ec9(0x156)]=_0x1e2ec9(0x139),document[_0x1e2ec9(0x140)]('elo-recommendation-text-d2')['style']['display']='none',document['getElementById'](_0x1e2ec9(0x157))['style'][_0x1e2ec9(0x156)]=_0x1e2ec9(0x139);});}document[a25_0x97478c(0x160)](a25_0x97478c(0x173),()=>{const _0x10d381=a25_0x97478c;initLadderToggles(),displayLadder(),findBestOpponent('d1'),document[_0x10d381(0x140)]('elo-recommendation-text-d1')[_0x10d381(0x129)][_0x10d381(0x156)]='block';});export{displayLadder};async function findBestOpponent(_0x6025f='d1'){const _0x2b0bbf=a25_0x97478c,_0x50567d=_0x2b0bbf(0x176)+_0x6025f,_0x7af3f4=document[_0x2b0bbf(0x140)](_0x50567d);if(!_0x7af3f4){console[_0x2b0bbf(0x15c)]('Recommendation\x20element\x20for\x20'+_0x6025f+'\x20not\x20found');return;}const _0x2a4bc3=auth['currentUser'];if(!_0x2a4bc3){_0x7af3f4[_0x2b0bbf(0x185)]='';return;}try{const _0x31c4d=doc(db,'userProfiles',_0x2a4bc3[_0x2b0bbf(0x177)]),_0x2842d4=await getDoc(_0x31c4d);if(!_0x2842d4['exists']()){console['log']('No\x20user\x20profile\x20found'),_0x7af3f4['textContent']='Complete\x20your\x20profile\x20to\x20see\x20recommended\x20opponents';return;}const _0xd142d8=_0x2842d4['data'](),_0x25faaa=_0xd142d8[_0x2b0bbf(0x170)];if(!_0x25faaa){_0x7af3f4[_0x2b0bbf(0x185)]='Set\x20your\x20username\x20to\x20see\x20recommended\x20opponents';return;}let _0x346340;switch(_0x6025f){case'd1':_0x346340='players';break;case'd2':_0x346340='playersD2';break;case'd3':_0x346340='playersD3';break;case'duos':_0x346340=_0x2b0bbf(0x155);break;default:_0x346340='players';}if(_0x6025f==='duos'){const _0x3f3b59=collection(db,_0x346340),_0x1952a1=query(_0x3f3b59,where(_0x2b0bbf(0x170),'==',_0x25faaa)),_0x21cbfc=await getDocs(_0x1952a1);if(_0x21cbfc['empty']){_0x7af3f4['textContent']='You\x27re\x20not\x20registered\x20on\x20the\x20DUOS\x20ladder';return;}const _0x85c31f=_0x21cbfc['docs'][0x0]['data'](),_0x1357c0=parseInt(_0x85c31f['eloRating'])||0x4b0;if(_0x85c31f[_0x2b0bbf(0x12d)]&&_0x85c31f['teammate']){_0x7af3f4['innerHTML']='You\x27re\x20teamed\x20with\x20<span\x20class=\x22recommendation-highlight\x22>'+_0x85c31f['teammate']+'</span>.\x20Challenge\x20other\x20teams!';return;}const _0x13d51d=await getDocs(_0x3f3b59);let _0x47eae1=null,_0xada036=-0x1;_0x13d51d['forEach'](_0x437d0d=>{const _0x2cd327=_0x2b0bbf,_0x31e40e=_0x437d0d['data']();if(_0x31e40e['username']===_0x25faaa)return;if(_0x31e40e[_0x2cd327(0x12d)])return;const _0x26607a=parseInt(_0x31e40e['eloRating'])||0x4b0,_0x4ce8f3=Math['abs'](_0x26607a-_0x1357c0),_0x39c457=Math['max'](0x0,0xc8-_0x4ce8f3);_0x39c457>_0xada036&&(_0x47eae1=_0x31e40e,_0xada036=_0x39c457);});if(_0x47eae1){const _0xce1dbe=parseInt(_0x47eae1['eloRating'])||0x4b0;let _0x71143e=_0x2b0bbf(0x18d);if(_0xce1dbe>=0x7d0)_0x71143e='#50C878';else{if(_0xce1dbe>=0x708)_0x71143e=_0x2b0bbf(0x166);else{if(_0xce1dbe>=0x640)_0x71143e='#C0C0C0';else _0xce1dbe>=0x578&&(_0x71143e='#CD7F32');}}_0x7af3f4[_0x2b0bbf(0x15e)]='Looking\x20for\x20a\x20teammate?\x20Consider\x20<span\x20class=\x22recommendation-highlight\x22\x20style=\x22color:\x20'+_0x71143e+_0x2b0bbf(0x19f)+_0x47eae1['username']+'</span>\x20(ELO:\x20'+_0xce1dbe+')';}else _0x7af3f4['textContent']='No\x20available\x20teammates\x20found.\x20More\x20players\x20needed\x20on\x20DUOS\x20ladder!';return;}const _0x239335=collection(db,_0x346340),_0x59b3fc=query(_0x239335,where('username','==',_0x25faaa)),_0x46a7d9=await getDocs(_0x59b3fc);if(_0x46a7d9['empty']){_0x7af3f4['textContent']='You\x27re\x20not\x20registered\x20on\x20the\x20'+_0x6025f['toUpperCase']()+_0x2b0bbf(0x14f);return;}const _0x5ed56d=_0x46a7d9['docs'][0x0]['data'](),_0x201123=parseInt(_0x5ed56d['eloRating'])||0x5dc,_0x6da15d=await getDocs(_0x239335);let _0x539172=null,_0x503f49=-0x1;const _0x1fc6a2=getPlayerRankName(_0x201123);_0x6da15d[_0x2b0bbf(0x12f)](_0x44e52e=>{const _0x297079=_0x2b0bbf,_0x597e88=_0x44e52e['data']();if(_0x597e88[_0x297079(0x170)]===_0x25faaa)return;const _0x4eba6e=parseInt(_0x597e88['eloRating'])||0x5dc,_0x1833e7=getPlayerRankName(_0x4eba6e),_0x1fac62=Math['abs'](_0x4eba6e-_0x201123),_0x5199c5=0x20,_0x3d44ec=0x1/(0x1+Math['pow'](0xa,(_0x4eba6e-_0x201123)/0x190)),_0x13924b=Math[_0x297079(0x1a0)](_0x5199c5*(0x1-_0x3d44ec));if(_0x13924b<=0x0)return;let _0x218829=0x0;const _0x444489=Math['max'](0x0,0x64-_0x1fac62*0.5),_0x449c37=_0x13924b>=0x3&&_0x13924b<=0x8?0x32:_0x13924b>0x0&&_0x13924b<0xf?0x1e:0xa,_0x297343=_0x1fc6a2===_0x1833e7?0x28:0x0;_0x218829=_0x444489+_0x449c37+_0x297343,_0x218829>_0x503f49&&(_0x539172=_0x597e88,_0x503f49=_0x218829);});if(_0x539172){const _0x21ccc5=parseInt(_0x539172['eloRating'])||0x5dc;let _0x492ac0='gray';if(_0x21ccc5>=0x7d0)_0x492ac0='#50C878';else{if(_0x21ccc5>=0x708)_0x492ac0='#FFD700';else{if(_0x21ccc5>=0x640)_0x492ac0='#b9f1fc';else _0x21ccc5>=0x578&&(_0x492ac0='#CD7F32');}}_0x7af3f4['innerHTML']='Based\x20on\x20your\x20ELO\x20('+_0x201123+'),\x20you\x20should\x20be\x20playing\x20<span\x20class=\x22recommendation-highlight\x22\x20style=\x22color:\x20'+_0x492ac0+';\x22>'+_0x539172['username']+'</span>';}else _0x7af3f4[_0x2b0bbf(0x15e)]=_0x2b0bbf(0x19b)+_0x201123+')';}catch(_0xda9231){console['error']('Error\x20finding\x20best\x20opponent:',_0xda9231),_0x7af3f4['textContent']='Error\x20finding\x20recommended\x20opponent';}}auth['onAuthStateChanged'](_0xb160f4=>{const _0x3e1ecf=a25_0x97478c,_0x4b91ee=document['getElementById']('d1-ladder-container')&&document['getElementById']('d1-ladder-container')['style']['display']!=='none',_0x3b9c8f=document['getElementById'](_0x3e1ecf(0x162))&&document[_0x3e1ecf(0x140)](_0x3e1ecf(0x162))['style']['display']!=='none',_0x4d796d=document['getElementById']('d3-ladder-container')&&document[_0x3e1ecf(0x140)](_0x3e1ecf(0x141))['style']['display']!=='none',_0xc8f5bc=document['getElementById']('duos-ladder-container')&&document['getElementById']('duos-ladder-container')['style']['display']!==_0x3e1ecf(0x139),_0x55b793=_0x4b91ee?'d1':_0x3b9c8f?'d2':_0x4d796d?'d3':_0xc8f5bc?_0x3e1ecf(0x130):'d1';findBestOpponent(_0x55b793);}),document['addEventListener']('DOMContentLoaded',()=>{const _0x24db86=a25_0x97478c,_0x45a02a=document[_0x24db86(0x140)]('duos-switch'),_0x58ee54=document['querySelector']('label[for=\x22duos-switch\x22]');_0x45a02a&&_0x58ee54&&(_0x45a02a['addEventListener']('change',async _0x505153=>{const _0x56367e=_0x24db86;if(_0x505153[_0x56367e(0x13d)]['checked']){const _0x5e8b52=auth?.['currentUser'],_0x12a7f6=await checkIfUserIsAdmin(_0x5e8b52);if(!_0x12a7f6){_0x505153['preventDefault']();const _0x32aa13=document['getElementById'](_0x56367e(0x146));return _0x32aa13&&(_0x32aa13['checked']=!![],_0x32aa13['dispatchEvent'](new Event('change'))),showAdminOnlyMessage(),![];}}}),auth['onAuthStateChanged'](async _0x28c4a4=>{const _0xc71395=_0x24db86,_0x57c6d4=await checkIfUserIsAdmin(_0x28c4a4);!_0x57c6d4?(_0x45a02a['disabled']=!![],_0x58ee54['style']['opacity']=_0xc71395(0x16b),_0x58ee54[_0xc71395(0x129)]['cursor']='not-allowed',_0x58ee54[_0xc71395(0x196)]='Duos\x20ladder\x20is\x20currently\x20admin-only'):(_0x45a02a[_0xc71395(0x12a)]=![],_0x58ee54[_0xc71395(0x129)][_0xc71395(0x18c)]='1',_0x58ee54['style']['cursor']=_0xc71395(0x17e),_0x58ee54[_0xc71395(0x196)]='');}));});function a25_0x5842(_0x46522d,_0x4a623e){const _0x5e3a8d=a25_0x2741();return a25_0x5842=function(_0xd77f42,_0x1d8b86){_0xd77f42=_0xd77f42-0x126;let _0x27416a=_0x5e3a8d[_0xd77f42];return _0x27416a;},a25_0x5842(_0x46522d,_0x4a623e);}async function checkIfUserIsAdmin(_0x418f21){const _0x1a5dfc=a25_0x97478c;if(!_0x418f21)return![];try{const _0x4faabb=['admin@ladder.com',_0x1a5dfc(0x187)];if(_0x418f21[_0x1a5dfc(0x18f)]&&_0x4faabb['includes'](_0x418f21[_0x1a5dfc(0x18f)]['toLowerCase']()))return!![];const _0x3bde60=['userProfiles','players','playersD2','playersD3'],_0x15a5c5=['admin','owner','council','creative\x20lead'];for(const _0x2ec8a4 of _0x3bde60){try{const _0xc37361=doc(db,_0x2ec8a4,_0x418f21['uid']),_0x463026=await getDoc(_0xc37361);if(_0x463026['exists']()){const _0x15b589=_0x463026['data'](),_0x19b1de=(_0x15b589['roleName']||_0x15b589['role']||'')[_0x1a5dfc(0x147)]();if(_0x19b1de&&_0x15a5c5[_0x1a5dfc(0x132)](_0x19b1de))return!![];}}catch(_0x152e9f){console[_0x1a5dfc(0x14d)]('Error\x20checking\x20'+_0x2ec8a4+':',_0x152e9f);}}return![];}catch(_0x56078c){return console['error']('Error\x20checking\x20admin\x20status:',_0x56078c),![];}}function showAdminOnlyMessage(){const _0x3fb684=a25_0x97478c,_0x48f0bd=document['getElementById']('admin-only-message');_0x48f0bd&&_0x48f0bd['remove']();const _0x31dd05=document[_0x3fb684(0x16d)]('div');_0x31dd05['id']=_0x3fb684(0x134),_0x31dd05[_0x3fb684(0x129)][_0x3fb684(0x172)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translate(-50%,\x20-50%);\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#2a2a2a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x202px\x20solid\x20#ff6b6b;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ff6b6b;\x0a\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.5);\x0a\x20\x20\x20\x20',_0x31dd05['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<strong>🔒\x20Duos\x20Ladder\x20-\x20Admin\x20Only</strong><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20style=\x22color:\x20#ccc;\x22>Currently\x20in\x20testing\x20phase</span>\x0a\x20\x20\x20\x20',document['body']['appendChild'](_0x31dd05),setTimeout(()=>{_0x31dd05['parentNode']&&_0x31dd05['remove']();},0xbb8);}