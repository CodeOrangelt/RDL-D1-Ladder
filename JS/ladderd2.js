(function(_0x867a44,_0x388b94){const _0x14ac63=a32_0xdfaf,_0x28919c=_0x867a44();while(!![]){try{const _0x2be90f=-parseInt(_0x14ac63(0x1a3))/0x1+parseInt(_0x14ac63(0x1cc))/0x2*(-parseInt(_0x14ac63(0x1d6))/0x3)+-parseInt(_0x14ac63(0x1e8))/0x4*(parseInt(_0x14ac63(0x1a9))/0x5)+-parseInt(_0x14ac63(0x190))/0x6*(-parseInt(_0x14ac63(0x19d))/0x7)+-parseInt(_0x14ac63(0x195))/0x8+-parseInt(_0x14ac63(0x173))/0x9+parseInt(_0x14ac63(0x1ae))/0xa*(parseInt(_0x14ac63(0x19b))/0xb);if(_0x2be90f===_0x388b94)break;else _0x28919c['push'](_0x28919c['shift']());}catch(_0x1a668e){_0x28919c['push'](_0x28919c['shift']());}}}(a32_0x763f,0x9bc51));const a32_0x2f610c=(function(){let _0x564e10=!![];return function(_0x3b381e,_0xf94a6a){const _0x1af147=_0x564e10?function(){const _0x3e3b4b=a32_0xdfaf;if(_0xf94a6a){const _0x34f258=_0xf94a6a[_0x3e3b4b(0x1b7)](_0x3b381e,arguments);return _0xf94a6a=null,_0x34f258;}}:function(){};return _0x564e10=![],_0x1af147;};}()),a32_0x5ad2bc=a32_0x2f610c(this,function(){const _0x3e78c6=a32_0xdfaf;return a32_0x5ad2bc[_0x3e78c6(0x1db)]()[_0x3e78c6(0x188)](_0x3e78c6(0x1b5))[_0x3e78c6(0x1db)]()[_0x3e78c6(0x194)](a32_0x5ad2bc)[_0x3e78c6(0x188)](_0x3e78c6(0x1b5));});a32_0x5ad2bc();const a32_0x2edd0e=(function(){let _0x1d6250=!![];return function(_0x39de08,_0x42fa94){const _0xec92b8=_0x1d6250?function(){const _0xca10b3=a32_0xdfaf;if(_0x42fa94){const _0x581619=_0x42fa94[_0xca10b3(0x1b7)](_0x39de08,arguments);return _0x42fa94=null,_0x581619;}}:function(){};return _0x1d6250=![],_0xec92b8;};}()),a32_0x754354=a32_0x2edd0e(this,function(){const _0x302a67=a32_0xdfaf,_0x58151b=function(){const _0x181673=a32_0xdfaf;let _0x10e60b;try{_0x10e60b=Function(_0x181673(0x1af)+_0x181673(0x18b)+');')();}catch(_0x374d0e){_0x10e60b=window;}return _0x10e60b;},_0x447058=_0x58151b(),_0x207b9b=_0x447058[_0x302a67(0x1ba)]=_0x447058[_0x302a67(0x1ba)]||{},_0x4c119d=[_0x302a67(0x1d3),'warn',_0x302a67(0x1e7),_0x302a67(0x1d8),_0x302a67(0x177),_0x302a67(0x1e6),_0x302a67(0x1b0)];for(let _0xe963d1=0x0;_0xe963d1<_0x4c119d[_0x302a67(0x19a)];_0xe963d1++){const _0x4c3429=a32_0x2edd0e['constructor'][_0x302a67(0x1d1)]['bind'](a32_0x2edd0e),_0x110ca6=_0x4c119d[_0xe963d1],_0x5bec9a=_0x207b9b[_0x110ca6]||_0x4c3429;_0x4c3429['__proto__']=a32_0x2edd0e[_0x302a67(0x17a)](a32_0x2edd0e),_0x4c3429['toString']=_0x5bec9a[_0x302a67(0x1db)][_0x302a67(0x17a)](_0x5bec9a),_0x207b9b[_0x110ca6]=_0x4c3429;}});a32_0x754354();import{collection,getDocs,deleteDoc,doc,getDoc,query,where,updateDoc,Timestamp,onSnapshot,orderBy,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db}from'./firebase-config.js';import{getRankStyle}from'./ranks.js';function a32_0xdfaf(_0x57d160,_0x1946a1){const _0x22397f=a32_0x763f();return a32_0xdfaf=function(_0x754354,_0x2edd0e){_0x754354=_0x754354-0x170;let _0x4816b3=_0x22397f[_0x754354];return _0x4816b3;},a32_0xdfaf(_0x57d160,_0x1946a1);}import a32_0x2a50d2 from'./firebase-idle-wrapper.js';const playerCacheD2={'data':null,'timestamp':0x0},CACHE_DURATION=0x7530;async function displayLadderD2(_0x12132c=![]){const _0x17e396=a32_0xdfaf,_0x46dcb6=document['querySelector']('#ladder-d2\x20tbody');if(!_0x46dcb6){console[_0x17e396(0x1d8)](_0x17e396(0x1e2));return;}_0x46dcb6[_0x17e396(0x1da)]='<tr><td\x20colspan=\x228\x22\x20class=\x22loading-cell\x22>Loading\x20D2\x20ladder\x20data...</td></tr>';try{const _0x4e1a9b=Date[_0x17e396(0x175)]();if(!_0x12132c&&playerCacheD2[_0x17e396(0x180)]&&_0x4e1a9b-playerCacheD2['timestamp']<CACHE_DURATION){updateLadderDisplayD2(playerCacheD2[_0x17e396(0x180)]);return;}const _0x179774=collection(db,_0x17e396(0x19c)),_0x37fe8a=query(_0x179774,orderBy('position','asc')),_0x360330=await a32_0x2a50d2[_0x17e396(0x1ce)](_0x179774),_0x93ba65=[];_0x360330['forEach'](_0x2ac8bb=>{const _0x48e44b=_0x17e396,_0x1a2329=_0x2ac8bb[_0x48e44b(0x180)]();_0x1a2329[_0x48e44b(0x17b)]&&_0x93ba65[_0x48e44b(0x17e)]({..._0x1a2329,'id':_0x2ac8bb['id'],'elo':_0x1a2329[_0x48e44b(0x1c7)]||0x0,'position':_0x1a2329[_0x48e44b(0x1dc)]||Number[_0x48e44b(0x1a1)]});});const _0x437591=collection(db,_0x17e396(0x1c6)),_0x5110cb=await getDocs(_0x437591),_0x91964f=new Map();_0x5110cb['forEach'](_0x5cf814=>{const _0x3fcd42=_0x17e396,_0x96f72c=_0x5cf814[_0x3fcd42(0x180)]();_0x96f72c[_0x3fcd42(0x17b)]&&_0x91964f['set'](_0x96f72c[_0x3fcd42(0x17b)]['toLowerCase'](),_0x96f72c);});for(const _0x155c6c of _0x93ba65){const _0x3a9326=_0x155c6c[_0x17e396(0x17b)]['toLowerCase']();if(_0x91964f['has'](_0x3a9326)){const _0x4a7549=_0x91964f[_0x17e396(0x1ca)](_0x3a9326);_0x4a7549[_0x17e396(0x1c4)]&&(_0x155c6c['country']=_0x4a7549[_0x17e396(0x1c4)][_0x17e396(0x1be)]());}}const _0x396513=_0x93ba65[_0x17e396(0x1cf)](_0xa18515=>_0xa18515[_0x17e396(0x17b)]),_0x3ed6fb=await fetchBatchMatchStatsD2(_0x396513);_0x93ba65['sort']((_0x16e5ef,_0x29bd3a)=>{const _0x5338c0=_0x17e396,_0x43eb1f=_0x3ed6fb[_0x5338c0(0x1ca)](_0x16e5ef[_0x5338c0(0x17b)])?.[_0x5338c0(0x187)]||0x0,_0x2d1838=_0x3ed6fb['get'](_0x29bd3a['username'])?.['totalMatches']||0x0;if(_0x43eb1f===0x0!==(_0x2d1838===0x0))return _0x43eb1f===0x0?0x1:-0x1;return(_0x16e5ef['position']||0x3e7)-(_0x29bd3a[_0x5338c0(0x1dc)]||0x3e7);}),_0x93ba65[_0x17e396(0x18a)]((_0x2f70d1,_0x71289f)=>{_0x2f70d1['position']=_0x71289f+0x1;}),playerCacheD2[_0x17e396(0x180)]=_0x93ba65,playerCacheD2['timestamp']=_0x4e1a9b,updateLadderDisplayD2(_0x93ba65);}catch(_0x3039d8){console['error'](_0x17e396(0x183),_0x3039d8),_0x46dcb6[_0x17e396(0x1da)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x228\x22\x20style=\x22text-align:\x20center;\x20color:\x20red;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20D2\x20ladder\x20data:\x20'+_0x3039d8[_0x17e396(0x1b3)]+_0x17e396(0x17c);}}function getNextAvailablePositionD2(_0x37cb35){const _0x1e748d=a32_0xdfaf;if(_0x37cb35[_0x1e748d(0x19a)]===0x0)return 0x1;let _0x43bb3c=0x0;return _0x37cb35['forEach'](_0x48f964=>{const _0x132f1a=_0x1e748d;_0x48f964[_0x132f1a(0x1dc)]&&typeof _0x48f964['position']==='number'&&_0x48f964[_0x132f1a(0x1dc)]>_0x43bb3c&&(_0x43bb3c=_0x48f964[_0x132f1a(0x1dc)]);}),_0x43bb3c+0x1;}async function updatePlayerPositions(_0xc55704,_0xfdc5f5){const _0x137c63=a32_0xdfaf;try{const _0x2e4e0e=collection(db,'playersD2'),_0x373021=await getDocs(_0x2e4e0e),_0x10fa42=[];_0x373021['forEach'](_0x41c91b=>{const _0x1f6f38=a32_0xdfaf;_0x10fa42[_0x1f6f38(0x17e)]({'id':_0x41c91b['id'],..._0x41c91b[_0x1f6f38(0x180)]()});});const _0x394649=_0x10fa42[_0x137c63(0x1e0)](_0x42c385=>_0x42c385[_0x137c63(0x17b)]===_0xc55704),_0x1801bc=_0x10fa42['find'](_0x3961e9=>_0x3961e9[_0x137c63(0x17b)]===_0xfdc5f5);if(!_0x394649||!_0x1801bc){console[_0x137c63(0x1d8)](_0x137c63(0x198));return;}if(_0x394649[_0x137c63(0x1dc)]>_0x1801bc['position']){const _0x2fc4e5=_0x1801bc[_0x137c63(0x1dc)];for(const _0x14e61b of _0x10fa42){_0x14e61b[_0x137c63(0x1dc)]>=_0x1801bc[_0x137c63(0x1dc)]&&_0x14e61b[_0x137c63(0x1dc)]<_0x394649[_0x137c63(0x1dc)]&&_0x14e61b[_0x137c63(0x17b)]!==_0xc55704&&await updateDoc(doc(db,_0x137c63(0x19c),_0x14e61b['id']),{'position':_0x14e61b['position']+0x1});}await updateDoc(doc(db,'playersD2',_0x394649['id']),{'position':_0x2fc4e5});if(_0x2fc4e5===0x1){const _0x417da2=doc(db,_0x137c63(0x19c),_0x394649['id']),_0x37a063=await getDoc(_0x417da2);!_0x37a063[_0x137c63(0x180)]()[_0x137c63(0x18e)]&&await updateDoc(_0x417da2,{'firstPlaceDate':Timestamp[_0x137c63(0x175)]()});}if(_0x1801bc['position']===0x1){const _0x32e9f6=doc(db,_0x137c63(0x19c),_0x1801bc['id']);await updateDoc(_0x32e9f6,{'firstPlaceDate':null});}playerCacheD2[_0x137c63(0x1b1)]=0x0;}}catch(_0xb5b3d7){console[_0x137c63(0x1d8)]('Error\x20updating\x20D2\x20player\x20positions:',_0xb5b3d7);}}function calculateStreakDays(_0x258e3a){const _0x1d50b6=a32_0xdfaf;if(!_0x258e3a)return 0x0;const _0x1ce49f=_0x258e3a[_0x1d50b6(0x179)](),_0x3e0f7f=new Date(),_0xc0f34e=Math['abs'](_0x3e0f7f-_0x1ce49f);return Math[_0x1d50b6(0x1c3)](_0xc0f34e/(0x3e8*0x3c*0x3c*0x18));}function getPlayerRankNameD2(_0x3eb582){const _0x5d88f4=a32_0xdfaf;if(_0x3eb582>=0x834)return _0x5d88f4(0x1a6);if(_0x3eb582>=0x708)return _0x5d88f4(0x186);if(_0x3eb582>=0x640)return _0x5d88f4(0x1d9);if(_0x3eb582>=0x578)return _0x5d88f4(0x19e);return'Unranked';}async function updateLadderDisplayD2(_0x265149){const _0x58091d=a32_0xdfaf;_0x265149[_0x58091d(0x185)]((_0x15670c,_0x2d4cee)=>_0x15670c[_0x58091d(0x1dc)]-_0x2d4cee[_0x58091d(0x1dc)]);const _0x2aef7e=document[_0x58091d(0x1a8)](_0x58091d(0x1de));if(!_0x2aef7e)return;_0x2aef7e[_0x58091d(0x1da)]='';const _0x524f3d=_0x265149[_0x58091d(0x1cf)](_0x535487=>_0x535487[_0x58091d(0x17b)]),_0x70dfa0=await fetchBatchMatchStatsD2(_0x524f3d),_0x1b6cb4=document['querySelector'](_0x58091d(0x1e3));_0x1b6cb4&&(_0x1b6cb4['innerHTML']=_0x58091d(0x17d));const _0x4449f3=_0x265149['map'](_0x3f0170=>{const _0x1d69cd=_0x58091d,_0x993af5=_0x70dfa0[_0x1d69cd(0x1ca)](_0x3f0170[_0x1d69cd(0x17b)])||{'totalMatches':0x0,'wins':0x0,'losses':0x0,'kda':0x0,'winRate':0x0,'totalKills':0x0,'totalDeaths':0x0};return createPlayerRowD2(_0x3f0170,_0x993af5);})['join']('');_0x2aef7e[_0x58091d(0x1da)]=_0x4449f3,getPlayersLastEloChangesD2(_0x524f3d)[_0x58091d(0x1c0)](_0x5cd9=>{const _0x1c05c1=_0x58091d,_0x4a35bb=new Map();_0x2aef7e['querySelectorAll']('tr')[_0x1c05c1(0x18a)]((_0x110cb2,_0x220809)=>{const _0xcb8ccc=_0x1c05c1;_0x220809<_0x524f3d[_0xcb8ccc(0x19a)]&&_0x4a35bb['set'](_0x524f3d[_0x220809],_0x110cb2);}),_0x5cd9[_0x1c05c1(0x18a)]((_0x3f8f19,_0x292a5c)=>{const _0xab8b6e=_0x1c05c1,_0x487ba5=_0x4a35bb[_0xab8b6e(0x1ca)](_0x292a5c);if(_0x487ba5&&_0x3f8f19!==0x0){const _0x2b497e=_0x487ba5[_0xab8b6e(0x1a8)]('td:nth-child(3)');if(_0x2b497e){const _0x295585=_0x3f8f19>0x0?'+'+_0x3f8f19:''+_0x3f8f19,_0x308a4b=_0x2b497e['querySelector']('.trend-indicator');_0x308a4b&&(_0x308a4b[_0xab8b6e(0x1a4)]=_0x295585,_0x308a4b[_0xab8b6e(0x1a5)][_0xab8b6e(0x1cd)]=_0x3f8f19>0x0?'#4CAF50':_0xab8b6e(0x1a7),_0x308a4b['style']['fontWeight']=_0xab8b6e(0x1d7),_0x308a4b[_0xab8b6e(0x1a5)][_0xab8b6e(0x196)]=_0xab8b6e(0x18f),_0x308a4b[_0xab8b6e(0x1a5)]['display']=_0xab8b6e(0x1d5),_0x308a4b['style'][_0xab8b6e(0x1c5)]=_0xab8b6e(0x1c1),_0x308a4b[_0xab8b6e(0x1a5)][_0xab8b6e(0x1c9)]='1');}}});})[_0x58091d(0x1b4)](_0x4cdbc8=>console['error'](_0x58091d(0x18d),_0x4cdbc8));}function createPlayerRowD2(_0x304548,_0x2a4d5e){const _0x5e7788=a32_0xdfaf,_0x38d65b=parseFloat(_0x304548[_0x5e7788(0x1d2)])||0x0;let _0x1d62b1=_0x5e7788(0x1e1);if(_0x38d65b>=0x7d0)_0x1d62b1=_0x5e7788(0x1bd);else{if(_0x38d65b>=0x708)_0x1d62b1=_0x5e7788(0x174);else{if(_0x38d65b>=0x640)_0x1d62b1=_0x5e7788(0x1bf);else _0x38d65b>=0x578&&(_0x1d62b1='#CD7F32');}}let _0x2e7a5b='';return _0x304548[_0x5e7788(0x1c4)]&&(_0x2e7a5b=_0x5e7788(0x191)+_0x304548[_0x5e7788(0x1c4)]['toLowerCase']()+'.png\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22'+_0x304548[_0x5e7788(0x1c4)]+_0x5e7788(0x1ac)),_0x5e7788(0x192)+_0x304548[_0x5e7788(0x1dc)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22profile.html?username='+encodeURIComponent(_0x304548[_0x5e7788(0x17b)])+_0x5e7788(0x1e5)+_0x1d62b1+';\x20text-decoration:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x304548[_0x5e7788(0x17b)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2e7a5b+_0x5e7788(0x171)+_0x1d62b1+_0x5e7788(0x193)+_0x38d65b+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22trend-indicator\x22\x20style=\x22margin-left:\x205px;\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x2a4d5e[_0x5e7788(0x187)]+_0x5e7788(0x1cb)+_0x2a4d5e[_0x5e7788(0x199)]+_0x5e7788(0x1cb)+_0x2a4d5e[_0x5e7788(0x1aa)]+_0x5e7788(0x1cb)+_0x2a4d5e[_0x5e7788(0x1bc)]+_0x5e7788(0x1cb)+_0x2a4d5e[_0x5e7788(0x189)]+_0x5e7788(0x1b8);}function a32_0x763f(){const _0x420b59=['%</td>\x0a\x20\x20\x20\x20</tr>','newElo','console','gameMode','kda','#50C878','toLowerCase','#C0C0C0','then','visible','includes','ceil','country','visibility','userProfiles','eloRating','has','opacity','get','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','8BTOrir','color','getDocuments','map','D2:\x20Error\x20fetching\x20ELO\x20history:','prototype','elo','log','player','inline','187989bHFZlg','bold','error','Silver','innerHTML','toString','position','totalKills','#ladder-d2\x20tbody','D2:\x20','find','gray','D2\x20Ladder\x20table\x20body\x20not\x20found','#ladder-d2\x20thead\x20tr','winnerUsername','&ladder=d2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22color:\x20','table','info','4LgIPSZ','matchId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22color:\x20','eloHistory','5096574SKcbAB','#FFD700','now','desc','exception','\x20fallback\x20ELO\x20change:\x20','toDate','bind','username','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Rank</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Username</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>ELO</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Matches</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Wins</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Losses</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>K/D</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Win\x20Rate</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','push','fallback\x20entries','data','Error\x20fetching\x20batch\x20D2\x20match\x20stats:','winnerScore','Error\x20loading\x20D2\x20ladder:','previousElo','sort','Gold','totalMatches','search','winRate','forEach','{}.constructor(\x22return\x20this\x22)(\x20)','seconds','Error\x20updating\x20D2\x20ELO\x20trend\x20indicators:','firstPlaceDate','0.85em','144084wHcleN','<img\x20src=\x22../images/flags/','\x0a\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>',';\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22elo-container\x22\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22elo-value\x22>','constructor','8687040LeGiNY','fontSize','loserScore','Could\x20not\x20find\x20winner\x20or\x20loser\x20in\x20D2\x20players\x20list','wins','length','19938798PAtBai','playersD2','161pcxlhh','Bronze','toFixed','playerUsername','MAX_SAFE_INTEGER','eloHistoryD2','706676WeHigz','textContent','style','Emerald','#F44336','querySelector','4650155XPLmxH','losses','set','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22player-flag\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22margin-left:\x205px;\x20vertical-align:\x20middle;\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>','change','20YXCVzK','return\x20(function()\x20','trace','timestamp','size','message','catch','(((.+)+)+)+$','totalDeaths','apply'];a32_0x763f=function(){return _0x420b59;};return a32_0x763f();}async function getPlayersLastEloChangesD2(_0x5ec691){const _0x543a67=a32_0xdfaf,_0xb7aa7e=new Map();_0x5ec691['forEach'](_0x1bf435=>_0xb7aa7e[_0x543a67(0x1ab)](_0x1bf435,0x0));try{const _0x436e1f=collection(db,_0x543a67(0x1a2)),_0x113946=query(_0x436e1f,orderBy(_0x543a67(0x1b1),_0x543a67(0x176)),limit(0x64)),_0x811741=await getDocs(_0x113946),_0x2e4f63=new Map(),_0x7d8d91=await getDocs(collection(db,_0x543a67(0x19c)));_0x7d8d91[_0x543a67(0x18a)](_0x21be90=>{const _0xaf70c8=_0x543a67,_0xac29fa=_0x21be90[_0xaf70c8(0x180)]();_0xac29fa[_0xaf70c8(0x17b)]&&_0x2e4f63['set'](_0x21be90['id'],_0xac29fa['username']);});const _0xe29182=new Map();_0x811741[_0x543a67(0x18a)](_0x4133ad=>{const _0x565e73=_0x543a67,_0x2e21f1=_0x4133ad[_0x565e73(0x180)]();let _0x59306d=_0x2e21f1[_0x565e73(0x17b)]||_0x2e21f1[_0x565e73(0x1a0)];!_0x59306d&&_0x2e21f1[_0x565e73(0x1d4)]&&_0x2e4f63['has'](_0x2e21f1[_0x565e73(0x1d4)])&&(_0x59306d=_0x2e4f63[_0x565e73(0x1ca)](_0x2e21f1['player']));if(!_0x59306d&&_0x2e21f1[_0x565e73(0x170)]){}_0x59306d&&_0x5ec691['includes'](_0x59306d)&&(!_0xe29182[_0x565e73(0x1c8)](_0x59306d)&&_0xe29182[_0x565e73(0x1ab)](_0x59306d,[]),_0xe29182['get'](_0x59306d)['push']({..._0x2e21f1,'timestamp':_0x2e21f1[_0x565e73(0x1b1)]?.[_0x565e73(0x18c)]||0x0,'username':_0x59306d}));}),_0xe29182[_0x543a67(0x18a)]((_0x1ccacb,_0x2c6a1b)=>{const _0xb69a29=_0x543a67;if(_0x1ccacb['length']>0x0){_0x1ccacb[_0xb69a29(0x185)]((_0x406209,_0x28a708)=>_0x28a708['timestamp']-_0x406209[_0xb69a29(0x1b1)]);const _0x487424=_0x1ccacb[_0xb69a29(0x1e0)](_0x1ded9b=>_0x1ded9b[_0xb69a29(0x1ad)]!==undefined||_0x1ded9b[_0xb69a29(0x1b9)]!==undefined&&_0x1ded9b['previousElo']!==undefined);if(_0x487424){let _0x34f0ca;if(_0x487424['change']!==undefined)_0x34f0ca=_0x487424[_0xb69a29(0x1ad)];else _0x487424['newElo']!==undefined&&_0x487424[_0xb69a29(0x184)]!==undefined&&(_0x34f0ca=_0x487424['newElo']-_0x487424[_0xb69a29(0x184)]);_0x34f0ca!==undefined&&_0xb7aa7e['set'](_0x2c6a1b,_0x34f0ca);}}});if(_0xe29182[_0x543a67(0x1b2)]===0x0){const _0x4c40d=collection(db,_0x543a67(0x172)),_0x116e40=query(_0x4c40d,where(_0x543a67(0x1bb),'==','D2'),orderBy(_0x543a67(0x1b1),_0x543a67(0x176)),limit(0x32));try{const _0x5505ad=await getDocs(_0x116e40);console[_0x543a67(0x1d3)]('D2:\x20Found',_0x5505ad[_0x543a67(0x1b2)],_0x543a67(0x17f)),_0x5505ad[_0x543a67(0x18a)](_0x593fdc=>{const _0x202fb3=_0x543a67,_0x1bdf14=_0x593fdc[_0x202fb3(0x180)](),_0x50d924=_0x1bdf14[_0x202fb3(0x17b)]||_0x1bdf14[_0x202fb3(0x1a0)];if(_0x50d924&&_0x5ec691['includes'](_0x50d924)){const _0x3a7936=_0x1bdf14[_0x202fb3(0x1ad)]||(_0x1bdf14[_0x202fb3(0x1b9)]!==undefined&&_0x1bdf14['previousElo']!==undefined?_0x1bdf14[_0x202fb3(0x1b9)]-_0x1bdf14[_0x202fb3(0x184)]:0x0);_0x3a7936!==0x0&&(_0xb7aa7e['set'](_0x50d924,_0x3a7936),console['log'](_0x202fb3(0x1df)+_0x50d924+_0x202fb3(0x178)+_0x3a7936));}});}catch(_0x4a17eb){}}}catch(_0x23d9db){console[_0x543a67(0x1d8)](_0x543a67(0x1d0),_0x23d9db);}return _0xb7aa7e;}async function fetchBatchMatchStatsD2(_0xeda2d5){const _0x4d5184=a32_0xdfaf,_0x3ac819=new Map();try{_0xeda2d5[_0x4d5184(0x18a)](_0x10d6ed=>{const _0x416292=_0x4d5184;_0x3ac819[_0x416292(0x1ab)](_0x10d6ed,{'totalMatches':0x0,'wins':0x0,'losses':0x0,'totalKills':0x0,'totalDeaths':0x0,'kda':0x0,'winRate':0x0});});const _0x36c55f=collection(db,'approvedMatchesD2'),_0x16c581=await getDocs(_0x36c55f);_0x16c581[_0x4d5184(0x18a)](_0x33720a=>{const _0x4fbe0b=_0x4d5184,_0x37bdbd=_0x33720a['data'](),_0x26586f=_0x37bdbd[_0x4fbe0b(0x1e4)],_0x4a879b=_0x37bdbd['loserUsername'];if(_0xeda2d5['includes'](_0x26586f)){const _0x3c8069=_0x3ac819[_0x4fbe0b(0x1ca)](_0x26586f);_0x3c8069[_0x4fbe0b(0x199)]++,_0x3c8069[_0x4fbe0b(0x187)]++,_0x3c8069[_0x4fbe0b(0x1dd)]+=parseInt(_0x37bdbd[_0x4fbe0b(0x182)])||0x0,_0x3c8069['totalDeaths']+=parseInt(_0x37bdbd[_0x4fbe0b(0x197)])||0x0;}if(_0xeda2d5[_0x4fbe0b(0x1c2)](_0x4a879b)){const _0x15d597=_0x3ac819['get'](_0x4a879b);_0x15d597['losses']++,_0x15d597['totalMatches']++,_0x15d597[_0x4fbe0b(0x1dd)]+=parseInt(_0x37bdbd[_0x4fbe0b(0x197)])||0x0,_0x15d597['totalDeaths']+=parseInt(_0x37bdbd[_0x4fbe0b(0x182)])||0x0;}}),_0xeda2d5['forEach'](_0x1d3702=>{const _0x5cfb27=_0x4d5184,_0x423d8e=_0x3ac819[_0x5cfb27(0x1ca)](_0x1d3702);_0x423d8e[_0x5cfb27(0x1bc)]=_0x423d8e[_0x5cfb27(0x1b6)]>0x0?(_0x423d8e[_0x5cfb27(0x1dd)]/_0x423d8e[_0x5cfb27(0x1b6)])[_0x5cfb27(0x19f)](0x2):_0x423d8e[_0x5cfb27(0x1dd)][_0x5cfb27(0x19f)](0x2),_0x423d8e[_0x5cfb27(0x189)]=_0x423d8e[_0x5cfb27(0x187)]>0x0?(_0x423d8e['wins']/_0x423d8e['totalMatches']*0x64)[_0x5cfb27(0x19f)](0x1):0x0;});}catch(_0x21fb5d){console[_0x4d5184(0x1d8)](_0x4d5184(0x181),_0x21fb5d);}return _0x3ac819;}export{displayLadderD2,updatePlayerPositions};