function a20_0x108f(){const _0x4adddd=['string','resource-exhausted','code','{}.constructor(\x22return\x20this\x22)(\x20)','error','includes','length','fromDate','RDL_SESSION_SUSPENDED','RDL_NETWORK_ERROR','log','__proto__','toString','network','warn','session-suspended','network-error','now','Failed\x20to\x20enable\x20network:','Failed\x20to\x20disable\x20network:','unavailable','commit','bind','apply'];a20_0x108f=function(){return _0x4adddd;};return a20_0x108f();}function a20_0x4a8c(_0x1d4017,_0x2c7732){const _0x45de90=a20_0x108f();return a20_0x4a8c=function(_0x285545,_0x43846b){_0x285545=_0x285545-0x1c5;let _0x108ff4=_0x45de90[_0x285545];return _0x108ff4;},a20_0x4a8c(_0x1d4017,_0x2c7732);}const a20_0x456ab0=a20_0x4a8c,a20_0x285545=(function(){let _0x41ba67=!![];return function(_0x1257f9,_0x1d69bf){const _0x159cab=_0x41ba67?function(){if(_0x1d69bf){const _0x32ff12=_0x1d69bf['apply'](_0x1257f9,arguments);return _0x1d69bf=null,_0x32ff12;}}:function(){};return _0x41ba67=![],_0x159cab;};}()),a20_0x45de90=a20_0x285545(this,function(){const _0x32e69d=a20_0x4a8c,_0x2ad897=function(){const _0x18f2d9=a20_0x4a8c;let _0x1f4de0;try{_0x1f4de0=Function('return\x20(function()\x20'+_0x18f2d9(0x1c8)+');')();}catch(_0x176ea9){_0x1f4de0=window;}return _0x1f4de0;},_0x1bbac1=_0x2ad897(),_0x4bd933=_0x1bbac1['console']=_0x1bbac1['console']||{},_0x4ce6dc=['log','warn','info',_0x32e69d(0x1c9),'exception','table','trace'];for(let _0x1ce71f=0x0;_0x1ce71f<_0x4ce6dc[_0x32e69d(0x1cb)];_0x1ce71f++){const _0x3471b6=a20_0x285545['constructor']['prototype']['bind'](a20_0x285545),_0x2bdfa8=_0x4ce6dc[_0x1ce71f],_0x3729da=_0x4bd933[_0x2bdfa8]||_0x3471b6;_0x3471b6[_0x32e69d(0x1d0)]=a20_0x285545['bind'](a20_0x285545),_0x3471b6[_0x32e69d(0x1d1)]=_0x3729da[_0x32e69d(0x1d1)][_0x32e69d(0x1db)](_0x3729da),_0x4bd933[_0x2bdfa8]=_0x3471b6;}});a20_0x45de90();import{collection as a20_0x461325,doc as a20_0x504745,getDoc as a20_0x2adb8d,getDocs as a20_0x36e323,query as a20_0x5ad670,where as a20_0x382f7e,orderBy as a20_0x9687cc,limit as a20_0x4622de,startAfter as a20_0x3d8e33,addDoc as a20_0x56d119,updateDoc as a20_0x4b37cc,deleteDoc as a20_0x8a7d98,writeBatch as a20_0x567f4b,serverTimestamp as a20_0x349ff0,Timestamp as a20_0x2eecf4,getCountFromServer as a20_0x33081b,setDoc as a20_0x597602,enableNetwork,disableNetwork}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db}from'./firebase-config.js';import{handleNetworkError}from'./idle-timeout.js';function checkSessionStatus(){const _0x27abdb=a20_0x4a8c;if(window[_0x27abdb(0x1cd)]){console['warn']('Firestore\x20operation\x20blocked\x20-\x20session\x20suspended');const _0x267ef1=new Error('Session\x20suspended\x20due\x20to\x20inactivity.\x20Please\x20resume\x20your\x20session.');_0x267ef1[_0x27abdb(0x1c7)]='session-suspended';throw _0x267ef1;}if(window[_0x27abdb(0x1ce)]){console[_0x27abdb(0x1d3)]('Firestore\x20operation\x20blocked\x20-\x20network\x20error');const _0x2df4c8=new Error('Network\x20connection\x20error.\x20Please\x20check\x20your\x20internet\x20connection.');_0x2df4c8['code']=_0x27abdb(0x1d5);throw _0x2df4c8;}}async function handleFirestoreError(_0xdc312b){const _0x5a06f2=a20_0x4a8c;console['error']('Firestore\x20operation\x20failed:',_0xdc312b);if(_0xdc312b&&(_0xdc312b['code']==='unavailable'||_0xdc312b[_0x5a06f2(0x1c7)]==='resource-exhausted'||_0xdc312b['message']&&_0xdc312b['message']['includes']('network')||_0xdc312b['code']&&_0xdc312b[_0x5a06f2(0x1c7)][_0x5a06f2(0x1ca)]('network')))return console['warn']('Network-related\x20error\x20detected,\x20suspending\x20operations'),handleNetworkError(),!![];return![];}export const rdlFirestore={'collection':function(){if(arguments['length']===0x1){if(typeof arguments[0x0]==='string')return a20_0x461325(db,arguments[0x0]);return arguments[0x0];}else{if(arguments['length']===0x2&&arguments[0x0]===db&&typeof arguments[0x1]==='string')return a20_0x461325(db,arguments[0x1]);}return a20_0x461325['apply'](null,arguments);},'doc':function(){const _0x22a6bc=a20_0x4a8c;if(arguments['length']===0x2){if(typeof arguments[0x0]===_0x22a6bc(0x1c5)&&typeof arguments[0x1]==='string')return a20_0x504745(db,arguments[0x0],arguments[0x1]);return a20_0x504745['apply'](null,arguments);}else{if(arguments['length']===0x3&&arguments[0x0]===db)return a20_0x504745['apply'](null,arguments);}return a20_0x504745[_0x22a6bc(0x1dc)](null,arguments);},'query':function(){return a20_0x5ad670['apply'](null,arguments);},'where':function(){return a20_0x382f7e['apply'](null,arguments);},'orderBy':function(){return a20_0x9687cc['apply'](null,arguments);},'limit':function(_0x1524f5){return a20_0x4622de(_0x1524f5);},'startAfter':function(_0x3cbefc){return a20_0x3d8e33(_0x3cbefc);},'getDoc':async function(_0x45668c){try{return checkSessionStatus(),await a20_0x2adb8d(_0x45668c);}catch(_0x368997){const _0x6b4557=await handleFirestoreError(_0x368997);_0x6b4557&&(_0x368997['code']='network-error');throw _0x368997;}},'getDocs':async function(_0x4a2563){try{return checkSessionStatus(),await a20_0x36e323(_0x4a2563);}catch(_0x5d18b9){const _0x28d712=await handleFirestoreError(_0x5d18b9);_0x28d712&&(_0x5d18b9['code']='network-error');throw _0x5d18b9;}},'getCountFromServer':async function(_0x5707b0){try{return checkSessionStatus(),await a20_0x33081b(_0x5707b0);}catch(_0x3c10c5){const _0x3a0951=await handleFirestoreError(_0x3c10c5);_0x3a0951&&(_0x3c10c5['code']='network-error');throw _0x3c10c5;}},'addDoc':async function(_0x2af1d5,_0x318a99){try{return checkSessionStatus(),await a20_0x56d119(_0x2af1d5,_0x318a99);}catch(_0x4866c7){const _0x507be9=await handleFirestoreError(_0x4866c7);_0x507be9&&(_0x4866c7['code']='network-error');throw _0x4866c7;}},'setDoc':async function(_0xac8ecf,_0x6d739,_0xb8683d){const _0x521340=a20_0x4a8c;try{return checkSessionStatus(),await a20_0x597602(_0xac8ecf,_0x6d739,_0xb8683d);}catch(_0x1d7165){const _0x474b5e=await handleFirestoreError(_0x1d7165);_0x474b5e&&(_0x1d7165[_0x521340(0x1c7)]='network-error');throw _0x1d7165;}},'updateDoc':async function(_0x58df20,_0x5bd034){try{return checkSessionStatus(),await a20_0x4b37cc(_0x58df20,_0x5bd034);}catch(_0x4db72a){const _0xf9c0bf=await handleFirestoreError(_0x4db72a);_0xf9c0bf&&(_0x4db72a['code']='network-error');throw _0x4db72a;}},'deleteDoc':async function(_0x627ae1){try{return checkSessionStatus(),await a20_0x8a7d98(_0x627ae1);}catch(_0x2d1727){const _0x236d90=await handleFirestoreError(_0x2d1727);_0x236d90&&(_0x2d1727['code']='network-error');throw _0x2d1727;}},'writeBatch':function(){const _0x51b7ac=a20_0x4a8c;checkSessionStatus();const _0x26ca3b=a20_0x567f4b(db),_0xf63739=_0x26ca3b['commit']['bind'](_0x26ca3b);return _0x26ca3b[_0x51b7ac(0x1da)]=async function(){try{return checkSessionStatus(),await _0xf63739();}catch(_0x4ba6c5){const _0x1e51c8=await handleFirestoreError(_0x4ba6c5);_0x1e51c8&&(_0x4ba6c5['code']='network-error');throw _0x4ba6c5;}},_0x26ca3b;},'serverTimestamp':function(){return a20_0x349ff0();},'Timestamp':{'now':function(){const _0x11479f=a20_0x4a8c;return a20_0x2eecf4[_0x11479f(0x1d6)]();},'fromDate':function(_0xb51b68){const _0x2318ba=a20_0x4a8c;return a20_0x2eecf4[_0x2318ba(0x1cc)](_0xb51b68);}},'enableNetwork':async function(){const _0x61fd9a=a20_0x4a8c;try{return await enableNetwork(db);}catch(_0x9a4bfc){console['error'](_0x61fd9a(0x1d7),_0x9a4bfc);throw _0x9a4bfc;}},'disableNetwork':async function(){const _0x4b714a=a20_0x4a8c;try{return await disableNetwork(db);}catch(_0x149e97){console[_0x4b714a(0x1c9)](_0x4b714a(0x1d8),_0x149e97);throw _0x149e97;}}};window['addEventListener'](a20_0x456ab0(0x1c9),function(_0x48dd1a){const _0x1a0228=a20_0x456ab0;if(_0x48dd1a['error']){if(_0x48dd1a['error']['code']===_0x1a0228(0x1d4))_0x48dd1a['preventDefault'](),console['log']('Caught\x20session\x20suspended\x20error:',_0x48dd1a['error']['message']);else(_0x48dd1a['error']['code']===_0x1a0228(0x1d9)||_0x48dd1a[_0x1a0228(0x1c9)]['code']===_0x1a0228(0x1c6)||_0x48dd1a[_0x1a0228(0x1c9)]['message']&&_0x48dd1a['error']['message']['includes']('network')||_0x48dd1a[_0x1a0228(0x1c9)][_0x1a0228(0x1c7)]&&_0x48dd1a['error']['code'][_0x1a0228(0x1ca)](_0x1a0228(0x1d2)))&&(_0x48dd1a['preventDefault'](),console[_0x1a0228(0x1cf)]('Caught\x20network\x20error:',_0x48dd1a[_0x1a0228(0x1c9)]['message']),handleNetworkError());}}),window['rdlFirestore']=rdlFirestore,console['log']('Firestore\x20wrapper\x20initialized\x20with\x20session\x20checking\x20and\x20network\x20error\x20handling');