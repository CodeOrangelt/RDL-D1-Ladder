const a19_0x3edf59=a19_0xb4d6,a19_0x482c6f=(function(){let _0xbcc2d=!![];return function(_0x409daf,_0x254da8){const _0x341715=_0xbcc2d?function(){if(_0x254da8){const _0x3221c0=_0x254da8['apply'](_0x409daf,arguments);return _0x254da8=null,_0x3221c0;}}:function(){};return _0xbcc2d=![],_0x341715;};}()),a19_0x7cf3cf=a19_0x482c6f(this,function(){const _0x2b169f=a19_0xb4d6,_0x5653c0=function(){const _0x279092=a19_0xb4d6;let _0x373cf6;try{_0x373cf6=Function(_0x279092(0x1da)+_0x279092(0x1dc)+');')();}catch(_0x393973){_0x373cf6=window;}return _0x373cf6;},_0x3627e8=_0x5653c0(),_0x122386=_0x3627e8['console']=_0x3627e8['console']||{},_0x55d61d=[_0x2b169f(0x1d3),'warn','info','error',_0x2b169f(0x1c2),'table','trace'];for(let _0x37dd6a=0x0;_0x37dd6a<_0x55d61d['length'];_0x37dd6a++){const _0x3c93d4=a19_0x482c6f['constructor']['prototype']['bind'](a19_0x482c6f),_0x32f4df=_0x55d61d[_0x37dd6a],_0x136c6a=_0x122386[_0x32f4df]||_0x3c93d4;_0x3c93d4['__proto__']=a19_0x482c6f['bind'](a19_0x482c6f),_0x3c93d4[_0x2b169f(0x1c6)]=_0x136c6a['toString']['bind'](_0x136c6a),_0x122386[_0x32f4df]=_0x3c93d4;}});a19_0x7cf3cf();import{auth,db}from'./firebase-config.js';import{handleNetworkError}from'./idle-timeout.js';import{getDoc,getDocs,collection,doc,query,where,orderBy,limit,startAfter,addDoc,setDoc,updateDoc,deleteDoc,onSnapshot,getCountFromServer,writeBatch,serverTimestamp,Timestamp}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';class FirebaseIdleWrapper{constructor(){this['activeListeners']=new Map(),this['pendingOperations']=new Map(),this['pendingTimeout']=null,this['blockedOperations']=0x0,this['debug']=![];}['checkSessionActive'](){const _0x5c1d5c=a19_0xb4d6;if(window['RDL_SESSION_SUSPENDED']===!![])return console['log']('[FirebaseIdle]\x20Operation\x20blocked\x20-\x20session\x20idle'),this['blockedOperations']=(this['blockedOperations']||0x0)+0x1,this['blockedOperations']%0xa===0x0&&console['warn']('[FirebaseIdle]\x20Blocked\x20'+this['blockedOperations']+_0x5c1d5c(0x1bb)),![];if(window[_0x5c1d5c(0x1d5)]===!![])return console[_0x5c1d5c(0x1d3)](_0x5c1d5c(0x1c8)),![];return!![];}async['safeOperation'](_0x5c797e,_0x15b4ae,..._0x3909c5){const _0x2b584f=a19_0xb4d6;if(!this['checkSessionActive']()){const _0x988305=_0x15b4ae+'-'+Date['now']()+'-'+Math[_0x2b584f(0x1e9)]()['toString'](0x24)['substring'](0x2,0x9);return this['pendingOperations']['set'](_0x988305,{'operation':_0x5c797e,'operationType':_0x15b4ae,'args':_0x3909c5}),!this['pendingTimeout']&&(this['pendingTimeout']=setTimeout(()=>{const _0x5e12c4=_0x2b584f;this[_0x5e12c4(0x1b8)][_0x5e12c4(0x1d6)](),this['pendingTimeout']=null;},0x5*0x3c*0x3e8)),null;}try{return await _0x5c797e(..._0x3909c5);}catch(_0x337fde){if(_0x337fde[_0x2b584f(0x1b9)]==='unavailable'||_0x337fde['code']===_0x2b584f(0x1bd)||_0x337fde['message']&&_0x337fde[_0x2b584f(0x1cc)]['includes']('network'))return handleNetworkError(),null;throw _0x337fde;}}async['getDocument'](_0x4fb2bf){const _0x2f02e2=a19_0xb4d6;return this['safeOperation'](getDoc,_0x2f02e2(0x1d4),_0x4fb2bf);}async['getDocuments'](_0x4ab76b){const _0x5ba570=a19_0xb4d6;return this[_0x5ba570(0x1ea)](getDocs,'query',_0x4ab76b);}async[a19_0x3edf59(0x1c1)](_0x66cadc,_0x29ad63){const _0x87719f=a19_0x3edf59;return this[_0x87719f(0x1ea)](addDoc,'add',_0x66cadc,_0x29ad63);}async[a19_0x3edf59(0x1ba)](_0x14e7a6,_0x280e47,_0x1f1fc3={}){const _0x1b7d9c=a19_0x3edf59;return this['safeOperation'](setDoc,_0x1b7d9c(0x1ca),_0x14e7a6,_0x280e47,_0x1f1fc3);}async['updateDocument'](_0x4a3159,_0x52c397){return this['safeOperation'](updateDoc,'update',_0x4a3159,_0x52c397);}async['deleteDocument'](_0x3207f4){const _0x5dab4d=a19_0x3edf59;return this['safeOperation'](deleteDoc,_0x5dab4d(0x1d2),_0x3207f4);}['suspendAllListeners'](){const _0x35e989=a19_0x3edf59;console['log']('[FirebaseIdle]\x20Suspending\x20all\x20active\x20listeners:',this['activeListeners'][_0x35e989(0x1d7)]),this[_0x35e989(0x1e0)]=new Map(this[_0x35e989(0x1cd)]),this['activeListeners'][_0x35e989(0x1ed)]((_0x21fc74,_0x5069ce)=>{const _0x4db033=_0x35e989;console['log'](_0x4db033(0x1b7),_0x5069ce);if(typeof _0x21fc74==='function')try{_0x21fc74(),console['log']('[FirebaseIdle]\x20Successfully\x20suspended\x20listener:',_0x5069ce);}catch(_0x45a83c){console[_0x4db033(0x1e3)]('[FirebaseIdle]\x20Error\x20suspending\x20listener:',_0x5069ce,_0x45a83c);}}),this[_0x35e989(0x1cd)]['clear']();if(this['debug']){const _0x1d76db=document['createElement'](_0x35e989(0x1be));_0x1d76db['id']=_0x35e989(0x1cf),_0x1d76db[_0x35e989(0x1df)]['cssText']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20right:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ff5555;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x205px\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x209999;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x1d76db[_0x35e989(0x1e7)]='Firebase:\x20Suspended',document['body']['appendChild'](_0x1d76db);}console['log'](_0x35e989(0x1dd));}[a19_0x3edf59(0x1e2)](){const _0x3f7946=a19_0x3edf59;if(!this['_suspendedListeners']||this[_0x3f7946(0x1e0)]['size']===0x0){console[_0x3f7946(0x1d3)]('[FirebaseIdle]\x20No\x20listeners\x20to\x20resume');return;}console['log'](_0x3f7946(0x1e4),this['_suspendedListeners'][_0x3f7946(0x1d7)]),this['_suspendedListeners']['forEach']((_0x7f50c0,_0x1b7634)=>{const _0x351436=_0x3f7946;console['log'](_0x351436(0x1eb),_0x1b7634);try{if(typeof _0x7f50c0===_0x351436(0x1c5)){console['warn'](_0x351436(0x1d8),_0x1b7634);return;}const {query:_0x3290ba,callback:_0x4556a6,options:_0x31dda1}=_0x7f50c0;if(_0x3290ba&&_0x4556a6){const _0x1e1878=onSnapshot(_0x3290ba,_0x4556a6,_0x31dda1||{});this[_0x351436(0x1cd)]['set'](_0x1b7634,_0x1e1878),console['log'](_0x351436(0x1ec),_0x1b7634);}}catch(_0x120722){console['error']('[FirebaseIdle]\x20Error\x20resuming\x20listener:',_0x1b7634,_0x120722);}}),this['_suspendedListeners']['clear']();const _0x2e7d4c=document[_0x3f7946(0x1db)]('firebase-suspend-indicator');_0x2e7d4c&&_0x2e7d4c['remove'](),console['log']('[FirebaseIdle]\x20Listeners\x20resumed');}[a19_0x3edf59(0x1b6)](_0x2cf443,_0x5abd4d,_0x1c067f={},_0x27f50d=null){const _0x48ae82=a19_0x3edf59,_0x2e6ad6=_0x27f50d||'listener_'+Date[_0x48ae82(0x1e1)]()+'_'+Math[_0x48ae82(0x1e9)]()['toString'](0x24)['substr'](0x2,0x9);this['debug']&&console['log']('[FirebaseIdle]\x20Creating\x20listener:\x20'+_0x2e6ad6);if(!this[_0x48ae82(0x1c9)]())return console[_0x48ae82(0x1d3)]('[FirebaseIdle]\x20Session\x20suspended,\x20not\x20creating\x20listener:\x20'+_0x2e6ad6),()=>{};try{const _0x18f884=onSnapshot(_0x2cf443,_0x5abd4d,_0x1c067f);return this['activeListeners'][_0x48ae82(0x1ca)](_0x2e6ad6,{'unsubscribe':_0x18f884,'query':_0x2cf443,'callback':_0x5abd4d,'options':_0x1c067f}),this[_0x48ae82(0x1de)]&&(console[_0x48ae82(0x1d3)]('[FirebaseIdle]\x20Listener\x20created:\x20'+_0x2e6ad6),console['log']('[FirebaseIdle]\x20Active\x20listeners:\x20'+this['activeListeners'][_0x48ae82(0x1d7)])),()=>{const _0x27210c=_0x48ae82;this['debug']&&console['log'](_0x27210c(0x1bc)+_0x2e6ad6);try{_0x18f884(),this['activeListeners']['delete'](_0x2e6ad6),this['debug']&&(console[_0x27210c(0x1d3)]('[FirebaseIdle]\x20Listener\x20removed:\x20'+_0x2e6ad6),console[_0x27210c(0x1d3)]('[FirebaseIdle]\x20Active\x20listeners:\x20'+this['activeListeners'][_0x27210c(0x1d7)]));}catch(_0x310f4e){console['error'](_0x27210c(0x1e6)+_0x2e6ad6+':',_0x310f4e);}};}catch(_0x4a094d){return console['error']('[FirebaseIdle]\x20Error\x20creating\x20listener\x20'+_0x2e6ad6+':',_0x4a094d),()=>{};}}[a19_0x3edf59(0x1ef)](_0x126ef9='all'){const _0x72e8f2=a19_0x3edf59;console[_0x72e8f2(0x1d3)]('Executing\x20pending\x20'+_0x126ef9+_0x72e8f2(0x1ee)+this[_0x72e8f2(0x1b8)]['size']+'\x20total\x20operations');const _0x1a78df=new Map(this['pendingOperations']);this[_0x72e8f2(0x1b8)]['clear'](),_0x1a78df[_0x72e8f2(0x1ed)]((_0x5cebf2,_0x5a3361)=>{const _0x2b0564=_0x72e8f2;_0x126ef9==='all'||_0x5cebf2['operationType']===_0x126ef9?(console[_0x2b0564(0x1d3)]('Executing\x20delayed\x20'+_0x5cebf2[_0x2b0564(0x1e8)]+'\x20operation'),this[_0x2b0564(0x1ea)](_0x5cebf2['operation'],_0x5cebf2['operationType'],..._0x5cebf2['args'])['catch'](_0x5bffd0=>console[_0x2b0564(0x1e3)](_0x2b0564(0x1bf),_0x5bffd0))):this['pendingOperations']['set'](_0x5a3361,_0x5cebf2);});}[a19_0x3edf59(0x1c0)](_0x218e2d=!![]){const _0x40f632=a19_0x3edf59;this[_0x40f632(0x1de)]=_0x218e2d,console['log'](_0x40f632(0x1d1)+(_0x218e2d?'enabled':_0x40f632(0x1c3)));if(_0x218e2d){const _0x589101=window['RDL_SESSION_SUSPENDED'];window['RDL_SESSION_SUSPENDED']=!![],console['log'](_0x40f632(0x1e5)),this['getDocument'](doc(db,_0x40f632(0x1d9),'test'))[_0x40f632(0x1c4)](_0x2c0210=>{const _0x15f5d1=_0x40f632;console[_0x15f5d1(0x1d3)]('[FirebaseIdle]\x20TEST\x20FAILED\x20-\x20read\x20succeeded\x20during\x20suspension',_0x2c0210);})['catch'](_0x6b3f55=>{console['log']('[FirebaseIdle]\x20Error\x20during\x20test\x20(expected):',_0x6b3f55);})['finally'](()=>{const _0x3408e7=_0x40f632;console['log'](_0x3408e7(0x1d0)),window[_0x3408e7(0x1c7)]=_0x589101;});}}}const firebaseIdle=new FirebaseIdleWrapper();function a19_0xb4d6(_0x5190a1,_0x227eb3){const _0x7cf3cf=a19_0x5e4e();return a19_0xb4d6=function(_0x482c6f,_0x5e6829){_0x482c6f=_0x482c6f-0x1b6;let _0x5e4eb6=_0x7cf3cf[_0x482c6f];return _0x5e4eb6;},a19_0xb4d6(_0x5190a1,_0x227eb3);}export function enhanceIdleTimeout(){const _0x41ab69=a19_0x3edf59,_0x211ade=window[_0x41ab69(0x1cb)]||function(){},_0x488bf1=window['resumeSession']||function(){};window['suspendSession']=function(){_0x211ade(),firebaseIdle['suspendAllListeners']();},window[_0x41ab69(0x1ce)]=function(){_0x488bf1(),firebaseIdle['resumeAllListeners']();};}export default firebaseIdle;function a19_0x5e4e(){const _0x2a5f09=['createListener','[FirebaseIdle]\x20Suspending\x20listener:','pendingOperations','code','setDocument','\x20operations\x20during\x20idle\x20state','[FirebaseIdle]\x20Manually\x20unsubscribing\x20listener:\x20','resource-exhausted','div','Error\x20executing\x20pending\x20operation:','enableDebug','addDocument','exception','disabled','then','function','toString','RDL_SESSION_SUSPENDED','[FirebaseIdle]\x20Operation\x20blocked\x20-\x20network\x20error','checkSessionActive','set','suspendSession','message','activeListeners','resumeSession','firebase-suspend-indicator','[FirebaseIdle]\x20Suspension\x20test\x20complete','[FirebaseIdle]\x20Debug\x20mode\x20','delete','log','get','RDL_NETWORK_ERROR','clear','size','[FirebaseIdle]\x20Cannot\x20resume\x20listener\x20directly:','system','return\x20(function()\x20','getElementById','{}.constructor(\x22return\x20this\x22)(\x20)','[FirebaseIdle]\x20All\x20listeners\x20suspended','debug','style','_suspendedListeners','now','resumeAllListeners','error','[FirebaseIdle]\x20Resuming\x20listeners:','[FirebaseIdle]\x20Testing\x20suspension\x20-\x20attempting\x20read...','[FirebaseIdle]\x20Error\x20unsubscribing\x20listener\x20','textContent','operationType','random','safeOperation','[FirebaseIdle]\x20Resuming\x20listener:','[FirebaseIdle]\x20Successfully\x20resumed\x20listener:','forEach','\x20operations:\x20','executePendingOperations'];a19_0x5e4e=function(){return _0x2a5f09;};return a19_0x5e4e();}