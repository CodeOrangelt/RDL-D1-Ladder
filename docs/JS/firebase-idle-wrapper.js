const a0_0x226011=a0_0xd091;(function(_0x12c1e3,_0x4b14ae){const _0x55c17e=a0_0xd091,_0x59ef88=_0x12c1e3();while(!![]){try{const _0x3e089f=parseInt(_0x55c17e(0xe3))/0x1*(parseInt(_0x55c17e(0xa6))/0x2)+parseInt(_0x55c17e(0xbe))/0x3+parseInt(_0x55c17e(0xc8))/0x4*(parseInt(_0x55c17e(0xa7))/0x5)+parseInt(_0x55c17e(0xb9))/0x6+-parseInt(_0x55c17e(0xdd))/0x7*(-parseInt(_0x55c17e(0xbf))/0x8)+-parseInt(_0x55c17e(0xc3))/0x9*(parseInt(_0x55c17e(0xd9))/0xa)+-parseInt(_0x55c17e(0xa8))/0xb*(parseInt(_0x55c17e(0xd4))/0xc);if(_0x3e089f===_0x4b14ae)break;else _0x59ef88['push'](_0x59ef88['shift']());}catch(_0x58edbe){_0x59ef88['push'](_0x59ef88['shift']());}}}(a0_0x514a,0x62fc6));function a0_0x514a(){const _0x59ef5b=['error','3639738eNwOse','return\x20(function()\x20','constructor','operationType','[FirebaseIdle]\x20Active\x20listeners:\x20','1626582rRVVco','1212064jdINfz','[FirebaseIdle]\x20Error\x20unsubscribing\x20listener\x20','network','[FirebaseIdle]\x20Suspending\x20listener:','1390545MrSdwV','enableDebug','query','[FirebaseIdle]\x20Manually\x20unsubscribing\x20listener:\x20','size','4evitJI','remove','delete','getDocuments','debug','log','args','set','style','resumeSession','[FirebaseIdle]\x20Resuming\x20listeners:','[FirebaseIdle]\x20Cannot\x20resume\x20listener\x20directly:','12772464JqRxgv','getElementById','random','RDL_NETWORK_ERROR','safeOperation','40VnftDl','Error\x20executing\x20pending\x20operation:','[FirebaseIdle]\x20All\x20listeners\x20suspended','table','28oeZgch','[FirebaseIdle]\x20Error\x20during\x20test\x20(expected):','[FirebaseIdle]\x20Listeners\x20resumed','\x20operations\x20during\x20idle\x20state','updateDocument','createListener','261WVEjUS','Executing\x20pending\x20','suspendSession','toString','RDL_SESSION_SUSPENDED','exception','pendingOperations','1376Acdzjl','767105seDeLW','11nADbGG','firebase-suspend-indicator','[FirebaseIdle]\x20Testing\x20suspension\x20-\x20attempting\x20read...','get','[FirebaseIdle]\x20Successfully\x20resumed\x20listener:','appendChild','message','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20right:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ff5555;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x205px\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x209999;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','checkSessionActive','catch','unsubscribe','length','activeListeners','code','warn','[FirebaseIdle]\x20Error\x20suspending\x20listener:'];a0_0x514a=function(){return _0x59ef5b;};return a0_0x514a();}const a0_0x4a03ba=(function(){let _0x4d28b3=!![];return function(_0x27e05b,_0x8d207){const _0x4be8fb=_0x4d28b3?function(){if(_0x8d207){const _0x350179=_0x8d207['apply'](_0x27e05b,arguments);return _0x8d207=null,_0x350179;}}:function(){};return _0x4d28b3=![],_0x4be8fb;};}()),a0_0x581921=a0_0x4a03ba(this,function(){const _0x5257f7=a0_0xd091;let _0x173cd1;try{const _0x2bf5e3=Function(_0x5257f7(0xba)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x173cd1=_0x2bf5e3();}catch(_0x1a60ea){_0x173cd1=window;}const _0xb003a0=_0x173cd1['console']=_0x173cd1['console']||{},_0x4eac71=[_0x5257f7(0xcd),'warn','info','error',_0x5257f7(0xa4),_0x5257f7(0xdc),'trace'];for(let _0x5075fb=0x0;_0x5075fb<_0x4eac71[_0x5257f7(0xb3)];_0x5075fb++){const _0x206e96=a0_0x4a03ba[_0x5257f7(0xbb)]['prototype']['bind'](a0_0x4a03ba),_0x3a46ba=_0x4eac71[_0x5075fb],_0x33f770=_0xb003a0[_0x3a46ba]||_0x206e96;_0x206e96['__proto__']=a0_0x4a03ba['bind'](a0_0x4a03ba),_0x206e96['toString']=_0x33f770['toString']['bind'](_0x33f770),_0xb003a0[_0x3a46ba]=_0x206e96;}});a0_0x581921();import{auth,db}from'./firebase-config.js';import{handleNetworkError}from'./idle-timeout.js';import{getDoc,getDocs,collection,doc,query,where,orderBy,limit,startAfter,addDoc,setDoc,updateDoc,deleteDoc,onSnapshot,getCountFromServer,writeBatch,serverTimestamp,Timestamp}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';function a0_0xd091(_0x35847f,_0x45a02e){const _0x3187ba=a0_0x514a();return a0_0xd091=function(_0x581921,_0x4a03ba){_0x581921=_0x581921-0xa4;let _0x21a5ae=_0x3187ba[_0x581921];return _0x21a5ae;},a0_0xd091(_0x35847f,_0x45a02e);}class FirebaseIdleWrapper{constructor(){const _0x1472fc=a0_0xd091;this['activeListeners']=new Map(),this['pendingOperations']=new Map(),this['pendingTimeout']=null,this['blockedOperations']=0x0,this[_0x1472fc(0xcc)]=![];}['checkSessionActive'](){const _0x219417=a0_0xd091;if(window[_0x219417(0xe7)]===!![])return console[_0x219417(0xcd)]('[FirebaseIdle]\x20Operation\x20blocked\x20-\x20session\x20idle'),this['blockedOperations']=(this['blockedOperations']||0x0)+0x1,this['blockedOperations']%0xa===0x0&&console[_0x219417(0xb6)]('[FirebaseIdle]\x20Blocked\x20'+this['blockedOperations']+_0x219417(0xe0)),![];if(window[_0x219417(0xd7)]===!![])return console[_0x219417(0xcd)]('[FirebaseIdle]\x20Operation\x20blocked\x20-\x20network\x20error'),![];return!![];}async[a0_0x226011(0xd8)](_0x35ea7c,_0x38f5ab,..._0x45f9ca){const _0x25dc87=a0_0x226011;if(!this[_0x25dc87(0xb0)]()){const _0x2faf13=_0x38f5ab+'-'+Date['now']()+'-'+Math[_0x25dc87(0xd6)]()['toString'](0x24)['substring'](0x2,0x9);return this['pendingOperations']['set'](_0x2faf13,{'operation':_0x35ea7c,'operationType':_0x38f5ab,'args':_0x45f9ca}),!this['pendingTimeout']&&(this['pendingTimeout']=setTimeout(()=>{this['pendingOperations']['clear'](),this['pendingTimeout']=null;},0x5*0x3c*0x3e8)),null;}try{return await _0x35ea7c(..._0x45f9ca);}catch(_0x2f97c0){if(_0x2f97c0[_0x25dc87(0xb5)]==='unavailable'||_0x2f97c0[_0x25dc87(0xb5)]==='resource-exhausted'||_0x2f97c0['message']&&_0x2f97c0[_0x25dc87(0xae)]['includes'](_0x25dc87(0xc1)))return handleNetworkError(),null;throw _0x2f97c0;}}async['getDocument'](_0x59bde2){const _0x4fa01f=a0_0x226011;return this['safeOperation'](getDoc,_0x4fa01f(0xab),_0x59bde2);}async[a0_0x226011(0xcb)](_0x119bc0){const _0x1955f5=a0_0x226011;return this['safeOperation'](getDocs,_0x1955f5(0xc5),_0x119bc0);}async['addDocument'](_0x38356f,_0x70abc6){const _0x3b19d7=a0_0x226011;return this[_0x3b19d7(0xd8)](addDoc,'add',_0x38356f,_0x70abc6);}async['setDocument'](_0x30c562,_0x4c44b7,_0x23dd76={}){return this['safeOperation'](setDoc,'set',_0x30c562,_0x4c44b7,_0x23dd76);}async[a0_0x226011(0xe1)](_0x47d882,_0x44c3a5){return this['safeOperation'](updateDoc,'update',_0x47d882,_0x44c3a5);}async['deleteDocument'](_0x40ff30){const _0x4a92ec=a0_0x226011;return this[_0x4a92ec(0xd8)](deleteDoc,'delete',_0x40ff30);}['suspendAllListeners'](){const _0x1351ba=a0_0x226011;console[_0x1351ba(0xcd)]('[FirebaseIdle]\x20Suspending\x20all\x20active\x20listeners:',this['activeListeners']['size']),this['_suspendedListeners']=new Map(this['activeListeners']),this['activeListeners']['forEach']((_0x1629b1,_0x1e2ddd)=>{const _0x58792e=_0x1351ba;console['log'](_0x58792e(0xc2),_0x1e2ddd);if(typeof _0x1629b1==='function')try{_0x1629b1(),console[_0x58792e(0xcd)]('[FirebaseIdle]\x20Successfully\x20suspended\x20listener:',_0x1e2ddd);}catch(_0x3d10e3){console[_0x58792e(0xb8)]('[FirebaseIdle]\x20Error\x20suspending\x20listener:',_0x1e2ddd,_0x3d10e3);}else{if(_0x1629b1&&typeof _0x1629b1['unsubscribe']==='function')try{_0x1629b1[_0x58792e(0xb2)](),console['log']('[FirebaseIdle]\x20Successfully\x20suspended\x20listener:',_0x1e2ddd);}catch(_0x3bfa03){console['error'](_0x58792e(0xb7),_0x1e2ddd,_0x3bfa03);}}}),this['activeListeners']['clear']();if(this['debug']){const _0x1496e6=document['createElement']('div');_0x1496e6['id']=_0x1351ba(0xa9),_0x1496e6[_0x1351ba(0xd0)]['cssText']=_0x1351ba(0xaf),_0x1496e6['textContent']='Firebase:\x20Suspended',document['body'][_0x1351ba(0xad)](_0x1496e6);}console['log'](_0x1351ba(0xdb));}['resumeAllListeners'](){const _0x4ef701=a0_0x226011;if(!this['_suspendedListeners']||this['_suspendedListeners'][_0x4ef701(0xc7)]===0x0){console['log']('[FirebaseIdle]\x20No\x20listeners\x20to\x20resume');return;}console['log'](_0x4ef701(0xd2),this['_suspendedListeners']['size']),this['_suspendedListeners']['forEach']((_0x2c5317,_0xc95be4)=>{const _0x14d67a=_0x4ef701;console[_0x14d67a(0xcd)]('[FirebaseIdle]\x20Resuming\x20listener:',_0xc95be4);try{if(typeof _0x2c5317==='function'){console[_0x14d67a(0xb6)](_0x14d67a(0xd3),_0xc95be4);return;}const {query:_0x32d164,callback:_0x3daebf,options:_0x52adbf}=_0x2c5317;if(_0x32d164&&_0x3daebf){const _0x5e8f0a=onSnapshot(_0x32d164,_0x3daebf,_0x52adbf||{});this[_0x14d67a(0xb4)]['set'](_0xc95be4,_0x5e8f0a),console['log'](_0x14d67a(0xac),_0xc95be4);}}catch(_0x512697){console['error']('[FirebaseIdle]\x20Error\x20resuming\x20listener:',_0xc95be4,_0x512697);}}),this['_suspendedListeners']['clear']();const _0x4cfcd3=document[_0x4ef701(0xd5)](_0x4ef701(0xa9));_0x4cfcd3&&_0x4cfcd3[_0x4ef701(0xc9)](),console['log'](_0x4ef701(0xdf));}[a0_0x226011(0xe2)](_0x2e1d0a,_0x56b9e5,_0x6df114={},_0x566259=null){const _0x206d39=a0_0x226011,_0x3d44f2=_0x566259||'listener_'+Date['now']()+'_'+Math['random']()[_0x206d39(0xe6)](0x24)['substr'](0x2,0x9);this['debug']&&console[_0x206d39(0xcd)]('[FirebaseIdle]\x20Creating\x20listener:\x20'+_0x3d44f2);if(!this['checkSessionActive']())return console['log']('[FirebaseIdle]\x20Session\x20suspended,\x20not\x20creating\x20listener:\x20'+_0x3d44f2),()=>{};try{const _0x37cc8b=onSnapshot(_0x2e1d0a,_0x56b9e5,_0x6df114);return this['activeListeners']['set'](_0x3d44f2,{'unsubscribe':_0x37cc8b,'query':_0x2e1d0a,'callback':_0x56b9e5,'options':_0x6df114}),this['debug']&&(console[_0x206d39(0xcd)]('[FirebaseIdle]\x20Listener\x20created:\x20'+_0x3d44f2),console['log'](_0x206d39(0xbd)+this['activeListeners']['size'])),()=>{const _0x29c18=_0x206d39;this['debug']&&console['log'](_0x29c18(0xc6)+_0x3d44f2);try{_0x37cc8b(),this['activeListeners'][_0x29c18(0xca)](_0x3d44f2),this['debug']&&(console['log']('[FirebaseIdle]\x20Listener\x20removed:\x20'+_0x3d44f2),console['log']('[FirebaseIdle]\x20Active\x20listeners:\x20'+this['activeListeners'][_0x29c18(0xc7)]));}catch(_0xe639af){console[_0x29c18(0xb8)](_0x29c18(0xc0)+_0x3d44f2+':',_0xe639af);}};}catch(_0x1acbc7){return console['error']('[FirebaseIdle]\x20Error\x20creating\x20listener\x20'+_0x3d44f2+':',_0x1acbc7),()=>{};}}['executePendingOperations'](_0x399a2e='all'){const _0x2cf2b2=a0_0x226011;console['log'](_0x2cf2b2(0xe4)+_0x399a2e+'\x20operations:\x20'+this[_0x2cf2b2(0xa5)][_0x2cf2b2(0xc7)]+'\x20total\x20operations');const _0x53533f=new Map(this['pendingOperations']);this['pendingOperations']['clear'](),_0x53533f['forEach']((_0x29bdf6,_0x322414)=>{const _0x497c2f=_0x2cf2b2;_0x399a2e==='all'||_0x29bdf6[_0x497c2f(0xbc)]===_0x399a2e?(console[_0x497c2f(0xcd)]('Executing\x20delayed\x20'+_0x29bdf6['operationType']+'\x20operation'),this['safeOperation'](_0x29bdf6['operation'],_0x29bdf6['operationType'],..._0x29bdf6[_0x497c2f(0xce)])[_0x497c2f(0xb1)](_0x111d34=>console['error'](_0x497c2f(0xda),_0x111d34))):this[_0x497c2f(0xa5)][_0x497c2f(0xcf)](_0x322414,_0x29bdf6);});}[a0_0x226011(0xc4)](_0x21ca50=!![]){const _0x1e55b1=a0_0x226011;this[_0x1e55b1(0xcc)]=_0x21ca50,console['log']('[FirebaseIdle]\x20Debug\x20mode\x20'+(_0x21ca50?'enabled':'disabled'));if(_0x21ca50){const _0x4dd8a5=window[_0x1e55b1(0xe7)];window['RDL_SESSION_SUSPENDED']=!![],console['log'](_0x1e55b1(0xaa)),this['getDocument'](doc(db,'system','test'))['then'](_0x4ba15f=>{const _0x954ac=_0x1e55b1;console[_0x954ac(0xcd)]('[FirebaseIdle]\x20TEST\x20FAILED\x20-\x20read\x20succeeded\x20during\x20suspension',_0x4ba15f);})['catch'](_0x5f14f3=>{const _0x1b028e=_0x1e55b1;console[_0x1b028e(0xcd)](_0x1b028e(0xde),_0x5f14f3);})['finally'](()=>{const _0x539fdd=_0x1e55b1;console[_0x539fdd(0xcd)]('[FirebaseIdle]\x20Suspension\x20test\x20complete'),window[_0x539fdd(0xe7)]=_0x4dd8a5;});}}}const firebaseIdle=new FirebaseIdleWrapper();export function enhanceIdleTimeout(){const _0x514daf=a0_0x226011,_0x280a0c=window[_0x514daf(0xe5)]||function(){},_0x2df669=window[_0x514daf(0xd1)]||function(){};window[_0x514daf(0xe5)]=function(){_0x280a0c(),firebaseIdle['suspendAllListeners']();},window['resumeSession']=function(){_0x2df669(),firebaseIdle['resumeAllListeners']();};}export default firebaseIdle;