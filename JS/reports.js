const a52_0xbc04d6=a52_0x10b5,a52_0x3e5943=(function(){let _0x39c9f0=!![];return function(_0x3294a3,_0x49d368){const _0x46d378=_0x39c9f0?function(){const _0x4773bd=a52_0x10b5;if(_0x49d368){const _0x353ea4=_0x49d368[_0x4773bd(0xab)](_0x3294a3,arguments);return _0x49d368=null,_0x353ea4;}}:function(){};return _0x39c9f0=![],_0x46d378;};}()),a52_0x2aee0d=a52_0x3e5943(this,function(){const _0x1534a4=a52_0x10b5,_0x2d172a=function(){const _0x49fe44=a52_0x10b5;let _0x5ce7eb;try{_0x5ce7eb=Function(_0x49fe44(0x13c)+_0x49fe44(0x100)+');')();}catch(_0xe6a6bd){_0x5ce7eb=window;}return _0x5ce7eb;},_0x3a6884=_0x2d172a(),_0x3ea801=_0x3a6884[_0x1534a4(0x1d3)]=_0x3a6884[_0x1534a4(0x1d3)]||{},_0x5fbe7b=[_0x1534a4(0x154),_0x1534a4(0x123),_0x1534a4(0xfc),_0x1534a4(0x1a2),_0x1534a4(0x161),_0x1534a4(0x1fd),_0x1534a4(0x1fc)];for(let _0x2b2667=0x0;_0x2b2667<_0x5fbe7b[_0x1534a4(0x14b)];_0x2b2667++){const _0x51a081=a52_0x3e5943[_0x1534a4(0x214)][_0x1534a4(0x165)][_0x1534a4(0x117)](a52_0x3e5943),_0x213230=_0x5fbe7b[_0x2b2667],_0x3e47e3=_0x3ea801[_0x213230]||_0x51a081;_0x51a081[_0x1534a4(0x1da)]=a52_0x3e5943[_0x1534a4(0x117)](a52_0x3e5943),_0x51a081[_0x1534a4(0x11f)]=_0x3e47e3[_0x1534a4(0x11f)][_0x1534a4(0x117)](_0x3e47e3),_0x3ea801[_0x213230]=_0x51a081;}});a52_0x2aee0d();import{approveReport}from'./ladderalgorithm.js';import{approveReportD2}from'./ladderalgorithm-d2.js';import{approveReportD3}from'./ladderalgorithm-d3.js';function a52_0x10b5(_0x5a0da0,_0x39e5a1){_0x5a0da0=_0x5a0da0-0x90;const _0x2aee0d=a52_0x264b();let _0x3e5943=_0x2aee0d[_0x5a0da0];return _0x3e5943;}import{checkPendingMatches,updatePendingMatchNotification,updateNotificationDot}from'./checkPendingMatches.js';import{submitFFAReport,confirmFFAReport,rejectFFAReport,FFA_PLACEMENT_POINTS}from'./FFA/ladderalgorithm-ffa.js';import{initializeFFAForm,ffaState}from'./FFA/report-ffa.js';import{collection,getDocs,query,where,orderBy,serverTimestamp,doc,setDoc,getDoc,addDoc,updateDoc,deleteDoc}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{onAuthStateChanged}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';import{auth,db}from'./firebase-config.js';let currentUserEmail=null,confirmationNotification=null,outstandingReportData=null,currentGameMode='D1',outstandingMatches=[],ffaRegisteredPlayers=[],isFFAMode=![];document[a52_0xbc04d6(0x1f5)](a52_0xbc04d6(0xa1),async()=>{const _0x4f5dcc=a52_0xbc04d6,_0x74fc9c={'authWarning':document[_0x4f5dcc(0xcd)](_0x4f5dcc(0x22d)),'reportForm':document[_0x4f5dcc(0xcd)](_0x4f5dcc(0x12d)),'ffaForm':document[_0x4f5dcc(0xcd)](_0x4f5dcc(0x172)),'reportError':document[_0x4f5dcc(0xcd)](_0x4f5dcc(0x13e)),'winnerUsername':document[_0x4f5dcc(0xcd)](_0x4f5dcc(0x143)),'loserScore':document[_0x4f5dcc(0xcd)](_0x4f5dcc(0x1ae)),'suicides':document[_0x4f5dcc(0xcd)](_0x4f5dcc(0x1c4)),'mapPlayed':document[_0x4f5dcc(0xcd)](_0x4f5dcc(0x142)),'loserComment':document[_0x4f5dcc(0xcd)](_0x4f5dcc(0x1fe)),'loserUsername':document[_0x4f5dcc(0xcd)](_0x4f5dcc(0xd1)),'d1Button':document[_0x4f5dcc(0xcd)](_0x4f5dcc(0xc9)),'d2Button':document[_0x4f5dcc(0xcd)](_0x4f5dcc(0x10e)),'d3Button':document[_0x4f5dcc(0xcd)](_0x4f5dcc(0x10c)),'ffaButton':document[_0x4f5dcc(0xcd)](_0x4f5dcc(0xbe))};function _0x4badef(_0x2e2eaf){const _0x3fd239=_0x4f5dcc,_0x237bb1=[_0x3fd239(0xc9),_0x3fd239(0x10e),_0x3fd239(0x10c),_0x3fd239(0xbe)],_0x1ebb54=[_0x3fd239(0x12d),_0x3fd239(0x12d),_0x3fd239(0x12d),_0x3fd239(0x172)];_0x237bb1[_0x3fd239(0x173)]((_0x5d7988,_0x737aac)=>{const _0x508286=_0x3fd239,_0xc3bc2c=document[_0x508286(0xcd)](_0x5d7988),_0x4569a3=document[_0x508286(0xcd)](_0x1ebb54[_0x737aac]);if(_0x5d7988===_0x2e2eaf){_0xc3bc2c[_0x508286(0xca)][_0x508286(0xe4)](_0x508286(0x1c7));if(_0x4569a3)_0x4569a3[_0x508286(0xf3)][_0x508286(0x1a9)]=_0x508286(0x181);}else{_0xc3bc2c[_0x508286(0xca)][_0x508286(0x1ee)](_0x508286(0x1c7));if(_0x4569a3)_0x4569a3[_0x508286(0xf3)][_0x508286(0x1a9)]=_0x508286(0xb1);}}),_0x74fc9c[_0x3fd239(0x1a8)]&&(_0x74fc9c[_0x3fd239(0x1a8)][_0x3fd239(0xe1)]='',_0x74fc9c[_0x3fd239(0x1a8)][_0x3fd239(0xf3)][_0x3fd239(0x1a9)]=_0x3fd239(0xb1));}_0x74fc9c[_0x4f5dcc(0xc4)]&&_0x74fc9c[_0x4f5dcc(0xc4)][_0x4f5dcc(0x1f5)](_0x4f5dcc(0x119),()=>{const _0x58ec2c=_0x4f5dcc;_0x4badef(_0x58ec2c(0xc9)),setGameMode('D1');}),_0x74fc9c[_0x4f5dcc(0x9e)]&&_0x74fc9c[_0x4f5dcc(0x9e)][_0x4f5dcc(0x1f5)](_0x4f5dcc(0x119),()=>{const _0x520567=_0x4f5dcc;_0x4badef(_0x520567(0x10e)),setGameMode('D2');}),_0x74fc9c[_0x4f5dcc(0x19c)]&&_0x74fc9c[_0x4f5dcc(0x19c)][_0x4f5dcc(0x1f5)](_0x4f5dcc(0x119),()=>{const _0xecdfd=_0x4f5dcc;_0x4badef(_0xecdfd(0x10c)),setGameMode('D3');}),_0x74fc9c[_0x4f5dcc(0xa6)]&&_0x74fc9c[_0x4f5dcc(0xa6)][_0x4f5dcc(0x1f5)](_0x4f5dcc(0x119),()=>{const _0x55f9fb=_0x4f5dcc;_0x4badef(_0x55f9fb(0xbe)),setGameMode(_0x55f9fb(0x1fa)),toggleFFAMode(!![]);}),_0x4badef(_0x4f5dcc(0xc9)),setupReportForm(_0x74fc9c),setupAuthStateListener(_0x74fc9c);});function toggleFFAMode(_0x474061){const _0x30c491=a52_0xbc04d6,_0x30594d=document[_0x30c491(0xcd)](_0x30c491(0x12d)),_0x413ddd=document[_0x30c491(0xcd)](_0x30c491(0x172)),_0x3d6695=document[_0x30c491(0xcd)](_0x30c491(0x22d));if(_0x474061){if(_0x30594d)_0x30594d[_0x30c491(0xf3)][_0x30c491(0x1a9)]=_0x30c491(0xb1);if(_0x3d6695)_0x3d6695[_0x30c491(0xf3)][_0x30c491(0x1a9)]=_0x30c491(0xb1);_0x413ddd?(_0x413ddd[_0x30c491(0xf3)][_0x30c491(0x1a9)]=_0x30c491(0x181),setTimeout(()=>{const _0x1dcd1e=_0x30c491;try{initializeFFAForm();}catch(_0x4b1631){console[_0x1dcd1e(0x1a2)](_0x1dcd1e(0x1dd),_0x4b1631);}},0x64)):console[_0x30c491(0x1a2)](_0x30c491(0x1ec)),isFFAMode=!![];}else{if(_0x30594d)_0x30594d[_0x30c491(0xf3)][_0x30c491(0x1a9)]=_0x30c491(0x181);if(_0x413ddd)_0x413ddd[_0x30c491(0xf3)][_0x30c491(0x1a9)]=_0x30c491(0xb1);if(_0x3d6695&&!auth[_0x30c491(0x134)])_0x3d6695[_0x30c491(0xf3)][_0x30c491(0x1a9)]=_0x30c491(0x181);isFFAMode=![];}}function setGameMode(_0x139ac4){const _0x5410bb=a52_0xbc04d6;currentGameMode=_0x139ac4,isFFAMode=_0x139ac4===_0x5410bb(0x1fa),isFFAMode&&ffaState&&(ffaState[_0x5410bb(0xbb)]='D1'),auth[_0x5410bb(0x134)]&&(_0x139ac4===_0x5410bb(0x1fa)?toggleFFAMode(!![]):checkUserInLadderAndLoadOpponents(auth[_0x5410bb(0x134)][_0x5410bb(0xb8)]));}function setupAuthStateListener(_0x3bb41d){onAuthStateChanged(auth,async _0x52be05=>{_0x52be05?handleUserSignedIn(_0x52be05,_0x3bb41d):handleUserSignedOut(_0x3bb41d);});}async function handleUserSignedIn(_0x471eac,_0x5c6897){const _0xb8e567=a52_0xbc04d6;if(!_0x5c6897){console[_0xb8e567(0x1a2)](_0xb8e567(0xda));return;}currentUserEmail=_0x471eac[_0xb8e567(0xc2)]||null;const _0x3e18dd=_0x471eac[_0xb8e567(0xb8)];try{const _0x534ecb=doc(db,_0xb8e567(0x150),_0x3e18dd);try{const _0x5024b1=await getDoc(_0x534ecb);console[_0xb8e567(0x154)](_0xb8e567(0x174),{'exists':_0x5024b1[_0xb8e567(0x139)](),'data':_0x5024b1[_0xb8e567(0x139)]()?_0x5024b1[_0xb8e567(0x98)]():null});if(_0x5024b1[_0xb8e567(0x139)]()&&_0x5024b1[_0xb8e567(0x98)]()[_0xb8e567(0xd5)]===!![]){_0x5c6897[_0xb8e567(0xfe)]&&(_0x5c6897[_0xb8e567(0xfe)][_0xb8e567(0xf3)][_0xb8e567(0x1a9)]=_0xb8e567(0x181),_0x5c6897[_0xb8e567(0xfe)][_0xb8e567(0xe1)]=_0xb8e567(0x20f));_0x5c6897[_0xb8e567(0x1eb)]&&(_0x5c6897[_0xb8e567(0x1eb)][_0xb8e567(0xf3)][_0xb8e567(0x1a9)]=_0xb8e567(0xb1));return;}}catch(_0x514a69){console[_0xb8e567(0x123)](_0xb8e567(0x205),_0x514a69);}const _0x306414=[_0xb8e567(0xa0),_0xb8e567(0x129),_0xb8e567(0x223),_0xb8e567(0x1d7),_0xb8e567(0x15b)];let _0x59cf24=![],_0x1fbff0='';for(const _0x5d133d of _0x306414){try{const _0x21d6ff=doc(db,_0x5d133d,_0x3e18dd),_0x30eb78=await getDoc(_0x21d6ff);if(_0x30eb78[_0xb8e567(0x139)]()){_0x59cf24=!![],_0x1fbff0=_0x30eb78[_0xb8e567(0x98)]()[_0xb8e567(0x184)],console[_0xb8e567(0x154)](_0xb8e567(0xdd)+_0x5d133d+_0xb8e567(0x1e6)+_0x1fbff0);if(_0x5d133d===_0xb8e567(0xa0)&&currentGameMode!=='D1'){currentGameMode='D1';const _0x327e87=document[_0xb8e567(0xcd)](_0xb8e567(0xc9)),_0x480357=document[_0xb8e567(0xcd)](_0xb8e567(0x10e)),_0x24550a=document[_0xb8e567(0xcd)](_0xb8e567(0x10c));_0x327e87[_0xb8e567(0xca)][_0xb8e567(0xe4)](_0xb8e567(0x1c7)),_0x480357[_0xb8e567(0xca)][_0xb8e567(0x1ee)](_0xb8e567(0x1c7)),_0x24550a[_0xb8e567(0xca)][_0xb8e567(0x1ee)](_0xb8e567(0x1c7));}else{if(_0x5d133d===_0xb8e567(0x129)&&currentGameMode!=='D2'){currentGameMode='D2';const _0x438e83=document[_0xb8e567(0xcd)](_0xb8e567(0xc9)),_0x548bea=document[_0xb8e567(0xcd)](_0xb8e567(0x10e)),_0x5c72c2=document[_0xb8e567(0xcd)](_0xb8e567(0x10c));_0x548bea[_0xb8e567(0xca)][_0xb8e567(0xe4)](_0xb8e567(0x1c7)),_0x438e83[_0xb8e567(0xca)][_0xb8e567(0x1ee)](_0xb8e567(0x1c7)),_0x5c72c2[_0xb8e567(0xca)][_0xb8e567(0x1ee)](_0xb8e567(0x1c7));}}break;}}catch(_0x12dd7b){console[_0xb8e567(0x123)](_0xb8e567(0x1a5)+_0x5d133d+_0xb8e567(0x1a4),_0x12dd7b);}}if(!_0x59cf24){_0x5c6897[_0xb8e567(0xfe)]&&(_0x5c6897[_0xb8e567(0xfe)][_0xb8e567(0xf3)][_0xb8e567(0x1a9)]=_0xb8e567(0x181));_0x5c6897[_0xb8e567(0x1eb)]&&(_0x5c6897[_0xb8e567(0x1eb)][_0xb8e567(0xf3)][_0xb8e567(0x1a9)]=_0xb8e567(0xb1));return;}const _0xac2499=await checkUserInLadderAndLoadOpponents(_0x3e18dd);if(!_0xac2499){console[_0xb8e567(0x123)](_0xb8e567(0x17b)+currentGameMode+_0xb8e567(0x151));for(const _0x564104 of[_0xb8e567(0xa0),_0xb8e567(0x129),_0xb8e567(0x223)]){if(_0x564104===(currentGameMode==='D1'?_0xb8e567(0xa0):currentGameMode==='D2'?_0xb8e567(0x129):_0xb8e567(0x223)))continue;const _0x227428=doc(db,_0x564104,_0x3e18dd);try{const _0x2b5c7d=await getDoc(_0x227428);if(_0x2b5c7d[_0xb8e567(0x139)]()){const _0x1b9b65=_0x564104===_0xb8e567(0xa0)?'D1':_0x564104===_0xb8e567(0x129)?'D2':'D3';console[_0xb8e567(0x154)](_0xb8e567(0xc0)+_0x564104+_0xb8e567(0x219)+_0x1b9b65+_0xb8e567(0x107));const _0x88a9e3=document[_0xb8e567(0xcd)](_0xb8e567(0xc9)),_0x4d9b70=document[_0xb8e567(0xcd)](_0xb8e567(0x10e)),_0xb34cae=document[_0xb8e567(0xcd)](_0xb8e567(0x10c));if(_0x1b9b65==='D1')_0x88a9e3[_0xb8e567(0xca)][_0xb8e567(0xe4)](_0xb8e567(0x1c7)),_0x4d9b70[_0xb8e567(0xca)][_0xb8e567(0x1ee)](_0xb8e567(0x1c7)),_0xb34cae[_0xb8e567(0xca)][_0xb8e567(0x1ee)](_0xb8e567(0x1c7));else _0x1b9b65==='D2'?(_0x4d9b70[_0xb8e567(0xca)][_0xb8e567(0xe4)](_0xb8e567(0x1c7)),_0x88a9e3[_0xb8e567(0xca)][_0xb8e567(0x1ee)](_0xb8e567(0x1c7)),_0xb34cae[_0xb8e567(0xca)][_0xb8e567(0x1ee)](_0xb8e567(0x1c7))):(_0xb34cae[_0xb8e567(0xca)][_0xb8e567(0xe4)](_0xb8e567(0x1c7)),_0x88a9e3[_0xb8e567(0xca)][_0xb8e567(0x1ee)](_0xb8e567(0x1c7)),_0x4d9b70[_0xb8e567(0xca)][_0xb8e567(0x1ee)](_0xb8e567(0x1c7)));currentGameMode=_0x1b9b65,await checkUserInLadderAndLoadOpponents(_0x3e18dd);break;}}catch(_0x4f0925){console[_0xb8e567(0x123)](_0xb8e567(0x1a5)+_0x564104+':',_0x4f0925);}}}}catch(_0x29e665){console[_0xb8e567(0x1a2)](_0xb8e567(0x14e),_0x29e665);}}function handleUserSignedOut(_0x2425c7){const _0xaf0381=a52_0xbc04d6;_0x2425c7[_0xaf0381(0xfe)][_0xaf0381(0xf3)][_0xaf0381(0x1a9)]=_0xaf0381(0x181),_0x2425c7[_0xaf0381(0x1eb)][_0xaf0381(0xf3)][_0xaf0381(0x1a9)]=_0xaf0381(0xb1),currentUserEmail=null;}async function updateUserDisplay(_0x5921be,_0x7882b8){const _0x44cfa7=a52_0xbc04d6,_0x114103=collection(db,_0x44cfa7(0xa0)),_0x5d6506=query(_0x114103,where(_0x44cfa7(0xc2),'==',_0x5921be)),_0x5b3b2b=await getDocs(_0x5d6506);if(!_0x5b3b2b[_0x44cfa7(0x1d5)]){const _0x3b569b=_0x5b3b2b[_0x44cfa7(0x189)][0x0][_0x44cfa7(0x98)]()[_0x44cfa7(0x184)];_0x7882b8[_0x44cfa7(0x15a)][_0x44cfa7(0xe1)]=_0x3b569b;}}async function populateWinnerDropdown(_0x5773d2){const _0x33d27f=a52_0xbc04d6;try{const _0x2857f5=collection(db,_0x33d27f(0xa0)),_0x9a635f=await getDocs(_0x2857f5);_0x5773d2[_0x33d27f(0x1f6)]=_0x33d27f(0xb4),!_0x9a635f[_0x33d27f(0x1d5)]&&_0x9a635f[_0x33d27f(0x173)](_0x2e91ce=>{const _0xd4ec77=_0x33d27f,_0x104067=_0x2e91ce[_0xd4ec77(0x98)]();if(_0x104067[_0xd4ec77(0xc2)]!==currentUserEmail){const _0x4290c0=document[_0xd4ec77(0x19a)](_0xd4ec77(0x127));_0x4290c0[_0xd4ec77(0xb2)]=_0x104067[_0xd4ec77(0xc2)],_0x4290c0[_0xd4ec77(0xe1)]=_0x104067[_0xd4ec77(0x184)],_0x5773d2[_0xd4ec77(0x1ab)](_0x4290c0);}});}catch(_0x3d97f3){console[_0x33d27f(0x1a2)](_0x33d27f(0x1d1),_0x3d97f3);throw _0x3d97f3;}}function setupReportForm(_0x6f925c){const _0x5b25a6=a52_0xbc04d6;if(!_0x6f925c[_0x5b25a6(0x1eb)])return;_0x6f925c[_0x5b25a6(0x1eb)][_0x5b25a6(0x1f5)](_0x5b25a6(0x1d6),async _0x14425f=>{const _0x192b27=_0x5b25a6;_0x14425f[_0x192b27(0xf6)]();try{await submitReport(_0x6f925c),_0x6f925c[_0x192b27(0x1eb)][_0x192b27(0xef)](),alert(_0x192b27(0x1c6));}catch(_0x87dbcd){console[_0x192b27(0x1a2)](_0x192b27(0x121),_0x87dbcd),_0x6f925c[_0x192b27(0x1a8)][_0x192b27(0xe1)]=_0x192b27(0xd4);}});}async function submitReport(_0x1f31e6){const _0x8a6beb=a52_0xbc04d6,_0x50a764=currentGameMode==='D1'?_0x8a6beb(0x1f9):currentGameMode==='D2'?_0x8a6beb(0x22e):_0x8a6beb(0x103),_0x12e637=collection(db,_0x50a764),_0x1619ef=doc(_0x12e637);try{const _0x17b8dd=auth[_0x8a6beb(0x134)];if(!_0x17b8dd)throw new Error(_0x8a6beb(0xba));const _0x471a4a=_0x17b8dd[_0x8a6beb(0xb8)],_0x528cd5=currentGameMode==='D1'?_0x8a6beb(0xa0):currentGameMode==='D2'?_0x8a6beb(0x129):_0x8a6beb(0x223),_0xe54a2d=await getDoc(doc(db,_0x528cd5,_0x471a4a));if(!_0xe54a2d[_0x8a6beb(0x139)]())throw new Error(_0x8a6beb(0x1e1));const _0x90c541=document[_0x8a6beb(0xcd)](_0x8a6beb(0x1cd)),_0x537843=_0x1f31e6[_0x8a6beb(0x1bd)][_0x8a6beb(0xb2)];if(!_0x537843)throw new Error(_0x8a6beb(0xdb));const _0x37c710=query(collection(db,_0x528cd5),where(_0x8a6beb(0x184),'==',_0x537843)),_0x6329b1=await getDocs(_0x37c710);if(_0x6329b1[_0x8a6beb(0x1d5)])throw new Error(_0x8a6beb(0xfa));const _0x5acf81=_0x6329b1[_0x8a6beb(0x189)][0x0][_0x8a6beb(0x98)](),_0x12264b=_0x6329b1[_0x8a6beb(0x189)][0x0]['id'],_0x263bc0={'matchId':_0x1619ef['id'],'loserUsername':_0xe54a2d[_0x8a6beb(0x98)]()[_0x8a6beb(0x184)],'loserId':_0x471a4a,'winnerUsername':_0x5acf81[_0x8a6beb(0x184)],'winnerId':_0x12264b,'loserScore':_0x1f31e6[_0x8a6beb(0x1f0)][_0x8a6beb(0xb2)],'loserSuicides':_0x1f31e6[_0x8a6beb(0x1c4)][_0x8a6beb(0xb2)],'mapPlayed':_0x1f31e6[_0x8a6beb(0xf9)][_0x8a6beb(0xb2)],'loserComment':_0x1f31e6[_0x8a6beb(0x95)][_0x8a6beb(0xb2)],'subgameType':_0x90c541?_0x90c541[_0x8a6beb(0xb2)]:'','gameMode':currentGameMode,'approved':![],'createdAt':serverTimestamp(),'winnerOldElo':_0x5acf81[_0x8a6beb(0xa9)]||null,'losersOldElo':_0xe54a2d[_0x8a6beb(0x98)]()[_0x8a6beb(0xa9)]||null};await setDoc(_0x1619ef,_0x263bc0),console[_0x8a6beb(0x154)](_0x8a6beb(0xcc)+_0x50a764+_0x8a6beb(0xe5)+_0x1619ef['id']),_0x1f31e6[_0x8a6beb(0x1a8)][_0x8a6beb(0xe1)]=_0x8a6beb(0x11b),_0x1f31e6[_0x8a6beb(0x1a8)][_0x8a6beb(0xf3)][_0x8a6beb(0x1f7)]=_0x8a6beb(0x113),updatePendingMatchNotification();}catch(_0x532d3d){console[_0x8a6beb(0x1a2)](_0x8a6beb(0x121),_0x532d3d),_0x1f31e6[_0x8a6beb(0x1a8)][_0x8a6beb(0xe1)]=_0x8a6beb(0x18c)+_0x532d3d[_0x8a6beb(0x221)],_0x1f31e6[_0x8a6beb(0x1a8)][_0x8a6beb(0xf3)][_0x8a6beb(0x1f7)]=_0x8a6beb(0x177);throw _0x532d3d;}}async function checkForOutstandingReports(_0x2f1d49,_0x442f98,_0x235575=null){const _0x5873c4=a52_0xbc04d6;console[_0x5873c4(0x154)](_0x5873c4(0x1ea)+_0x2f1d49+_0x5873c4(0x1c9)+(_0x235575||_0x5873c4(0x1e3)));const _0x487e8c=_0x235575||(currentGameMode==='D1'?_0x5873c4(0x1f9):currentGameMode==='D2'?_0x5873c4(0x22e):_0x5873c4(0x103));console[_0x5873c4(0x154)](_0x5873c4(0x104)+_0x487e8c);try{const _0x116088=auth[_0x5873c4(0x134)];if(!_0x116088){console[_0x5873c4(0x154)](_0x5873c4(0x126));return;}const _0x1739d5=_0x116088[_0x5873c4(0xb8)],_0x4a9087=collection(db,_0x487e8c),_0x116697=query(_0x4a9087,where(_0x5873c4(0x1cc),'==',_0x1739d5),where(_0x5873c4(0x1cf),'==',![]));let _0xe7dbd2=await getDocs(_0x116697);console[_0x5873c4(0x154)](_0x5873c4(0x231)+_0xe7dbd2[_0x5873c4(0x21c)]+_0x5873c4(0x12f));if(_0xe7dbd2[_0x5873c4(0x1d5)]&&_0x116088[_0x5873c4(0xc2)]){console[_0x5873c4(0x154)](_0x5873c4(0x93));const _0x22ed36=query(_0x4a9087,where(_0x5873c4(0x130),'==',_0x116088[_0x5873c4(0xc2)]),where(_0x5873c4(0x1cf),'==',![]));_0xe7dbd2=await getDocs(_0x22ed36),console[_0x5873c4(0x154)](_0x5873c4(0x1c5)+_0xe7dbd2[_0x5873c4(0x21c)]+_0x5873c4(0x12f));}if(_0xe7dbd2[_0x5873c4(0x1d5)]){console[_0x5873c4(0x154)](_0x5873c4(0x160));const _0x282473=currentGameMode==='D1'?_0x5873c4(0xa0):_0x5873c4(0x129),_0x4d054f=await getDoc(doc(db,_0x282473,_0x1739d5));if(_0x4d054f[_0x5873c4(0x139)]()&&_0x4d054f[_0x5873c4(0x98)]()[_0x5873c4(0x184)]){const _0x5d8072=_0x4d054f[_0x5873c4(0x98)]()[_0x5873c4(0x184)],_0x12f5c6=query(_0x4a9087,where(_0x5873c4(0x1bd),'==',_0x5d8072),where(_0x5873c4(0x1cf),'==',![]));_0xe7dbd2=await getDocs(_0x12f5c6),console[_0x5873c4(0x154)](_0x5873c4(0xc3)+_0xe7dbd2[_0x5873c4(0x21c)]+_0x5873c4(0x12f));}}if(!_0xe7dbd2[_0x5873c4(0x1d5)]){const _0x549258=_0xe7dbd2[_0x5873c4(0x189)][0x0][_0x5873c4(0x98)]();return console[_0x5873c4(0x154)](_0x5873c4(0xe0),_0x549258),_0x549258['id']=_0xe7dbd2[_0x5873c4(0x189)][0x0]['id'],autoFillReportForm(_0x549258),updateNotificationDot(!![]),!![];}else return console[_0x5873c4(0x154)](_0x5873c4(0x128)),updateNotificationDot(![]),![];}catch(_0x39ba1b){console[_0x5873c4(0x1a2)](_0x5873c4(0x1e0),_0x39ba1b);}}function autoFillReportForm(_0x508636){const _0x3077f3=a52_0xbc04d6;console[_0x3077f3(0x154)](_0x3077f3(0x20a),_0x508636);if(_0x508636){const _0x76c3fe=parseInt(_0x508636[_0x3077f3(0x1f0)]||'0'),_0x50d870=_0x76c3fe<0x12?0x14:_0x76c3fe+0x2,_0x271161=_0x508636[_0x3077f3(0xb7)]||currentGameMode,_0x87d524=_0x271161==='D1'?_0x3077f3(0xa0):_0x271161==='D2'?_0x3077f3(0x129):_0x3077f3(0x223);console[_0x3077f3(0x154)](_0x3077f3(0x1b8)+_0x87d524+_0x3077f3(0xce)+_0x271161);let _0x18235d;_0x508636[_0x3077f3(0x1cc)]?_0x18235d=getDoc(doc(db,_0x87d524,_0x508636[_0x3077f3(0x1cc)]))[_0x3077f3(0x96)](_0x5f0280=>_0x5f0280[_0x3077f3(0x139)]()?{'id':_0x5f0280['id'],'data':_0x5f0280[_0x3077f3(0x98)]()}:null):_0x18235d=getDocs(query(collection(db,_0x87d524),where(_0x3077f3(0x184),'==',_0x508636[_0x3077f3(0x1bd)])))[_0x3077f3(0x96)](_0x5f34a2=>!_0x5f34a2[_0x3077f3(0x1d5)]?{'id':_0x5f34a2[_0x3077f3(0x189)][0x0]['id'],'data':_0x5f34a2[_0x3077f3(0x189)][0x0][_0x3077f3(0x98)]()}:null);let _0x1567ac;_0x508636[_0x3077f3(0x132)]?_0x1567ac=getDoc(doc(db,_0x87d524,_0x508636[_0x3077f3(0x132)]))[_0x3077f3(0x96)](_0x5188b8=>_0x5188b8[_0x3077f3(0x139)]()?{'id':_0x5188b8['id'],'data':_0x5188b8[_0x3077f3(0x98)]()}:null):_0x1567ac=getDocs(query(collection(db,_0x87d524),where(_0x3077f3(0x184),'==',_0x508636[_0x3077f3(0x15a)])))[_0x3077f3(0x96)](_0x473c28=>!_0x473c28[_0x3077f3(0x1d5)]?{'id':_0x473c28[_0x3077f3(0x189)][0x0]['id'],'data':_0x473c28[_0x3077f3(0x189)][0x0][_0x3077f3(0x98)]()}:null),Promise[_0x3077f3(0x22f)]([_0x18235d,_0x1567ac])[_0x3077f3(0x96)](([_0x62fac2,_0x212d65])=>{const _0x3df636=_0x3077f3;if(!_0x62fac2){console[_0x3df636(0x1a2)](_0x3df636(0xc8)),alert(_0x3df636(0x1ac));return;}if(!_0x212d65){console[_0x3df636(0x1a2)](_0x3df636(0xe8)),alert(_0x3df636(0x20d));return;}const _0x215fae=_0x508636[_0x3df636(0x195)]!=null?_0x508636[_0x3df636(0x195)]:_0x62fac2[_0x3df636(0x98)][_0x3df636(0xa9)],_0x4d684f=_0x508636[_0x3df636(0x1b0)]!=null?_0x508636[_0x3df636(0x1b0)]:_0x212d65[_0x3df636(0x98)][_0x3df636(0xa9)],_0x15939a=_0x62fac2[_0x3df636(0x98)][_0x3df636(0x184)],_0x556828=_0x212d65[_0x3df636(0x98)][_0x3df636(0x184)];console[_0x3df636(0x154)](_0x3df636(0x20c)+_0x15939a+_0x3df636(0xa7)+_0x215fae+_0x3df636(0x17e)+_0x556828+_0x3df636(0xa7)+_0x4d684f+')');const _0x15b9e2=document[_0x3df636(0xcd)](_0x3df636(0xa5));if(!_0x15b9e2){console[_0x3df636(0x1a2)](_0x3df636(0x1de));return;}document[_0x3df636(0xcd)](_0x3df636(0xf4))[_0x3df636(0xe1)]=_0x15939a,document[_0x3df636(0xcd)](_0x3df636(0x11e))[_0x3df636(0xe1)]=_0x556828,document[_0x3df636(0xcd)](_0x3df636(0x1a7))[_0x3df636(0xe1)]=_0x508636[_0x3df636(0x1f0)]||'0',document[_0x3df636(0xcd)](_0x3df636(0x188))[_0x3df636(0xe1)]=_0x508636[_0x3df636(0x1a0)]||'0',document[_0x3df636(0xcd)](_0x3df636(0x1b6))[_0x3df636(0xe1)]=_0x508636[_0x3df636(0xf9)]||_0x3df636(0x1c3),document[_0x3df636(0xcd)](_0x3df636(0x19e))[_0x3df636(0xe1)]=_0x508636[_0x3df636(0x95)]||_0x3df636(0x162),document[_0x3df636(0xcd)](_0x3df636(0x106))[_0x3df636(0xe1)]=_0x508636[_0x3df636(0x1bf)]||_0x3df636(0x15d);const _0x3426c8=document[_0x3df636(0xcd)](_0x3df636(0x16b));_0x3426c8&&(_0x3426c8[_0x3df636(0xb2)]=_0x50d870,_0x3426c8[_0x3df636(0x90)]=!![],_0x3426c8[_0x3df636(0xf3)][_0x3df636(0x136)]=_0x3df636(0x1b9));showLightbox();const _0x3b3774=document[_0x3df636(0x1d8)](_0x3df636(0x147));if(_0x3b3774){console[_0x3df636(0x154)](_0x3df636(0x19d),_0x3b3774);const _0x2cec91=document[_0x3df636(0xcd)](_0x3df636(0x20b));_0x2cec91&&_0x2cec91[_0x3df636(0x1ee)]();const _0x20ed10=document[_0x3df636(0x19a)](_0x3df636(0x1a1));_0x20ed10['id']=_0x3df636(0x20b),_0x20ed10[_0x3df636(0x170)]=_0x3df636(0xee),_0x20ed10[_0x3df636(0xe1)]=_0x3df636(0x105),_0x20ed10[_0x3df636(0xf3)][_0x3df636(0x136)]=_0x3df636(0x1e8),_0x20ed10[_0x3df636(0xf3)][_0x3df636(0x1f7)]=_0x3df636(0x133),_0x20ed10[_0x3df636(0xf3)][_0x3df636(0x21f)]=_0x3df636(0xa8),_0x20ed10[_0x3df636(0xf3)][_0x3df636(0xff)]=_0x3df636(0x16a),_0x20ed10[_0x3df636(0xf3)][_0x3df636(0x1ef)]=_0x3df636(0xb1),_0x20ed10[_0x3df636(0xf3)][_0x3df636(0xd6)]=_0x3df636(0x193),_0x20ed10[_0x3df636(0xf3)][_0x3df636(0x183)]=_0x3df636(0x115),_0x20ed10[_0x3df636(0xf3)][_0x3df636(0x18a)]=_0x3df636(0xbc),_0x3b3774[_0x3df636(0x167)](_0x20ed10),console[_0x3df636(0x154)](_0x3df636(0x186),_0x20ed10);}const _0x5a5ccf=document[_0x3df636(0xcd)](_0x3df636(0xd7)),_0x5a126c=document[_0x3df636(0xcd)](_0x3df636(0x20b)),_0x50a343=document[_0x3df636(0xcd)](_0x3df636(0xd0));if(_0x5a5ccf){const _0x1ff202=_0x5a5ccf[_0x3df636(0x110)](!![]);_0x5a5ccf[_0x3df636(0x144)][_0x3df636(0xbd)](_0x1ff202,_0x5a5ccf),_0x1ff202[_0x3df636(0x1f5)](_0x3df636(0x119),async function(){const _0x41cf1a=_0x3df636;try{const _0x239d81=document[_0x41cf1a(0xcd)](_0x41cf1a(0x16b))[_0x41cf1a(0xb2)],_0x70de54=document[_0x41cf1a(0xcd)](_0x41cf1a(0x146))[_0x41cf1a(0xb2)]||'0',_0x396b1d=document[_0x41cf1a(0xcd)](_0x41cf1a(0x1fb))[_0x41cf1a(0xb2)]||'';console[_0x41cf1a(0x154)](_0x41cf1a(0x1c2),{'uid':auth[_0x41cf1a(0x134)]?.[_0x41cf1a(0xb8)],'email':auth[_0x41cf1a(0x134)]?.[_0x41cf1a(0xc2)],'isAdmin':auth[_0x41cf1a(0x134)]?.[_0x41cf1a(0xc2)]===_0x41cf1a(0x108)||auth[_0x41cf1a(0x134)]?.[_0x41cf1a(0xc2)]===_0x41cf1a(0x222)});const _0x2d4414=_0x508636[_0x41cf1a(0xb7)]||currentGameMode;if(_0x2d4414==='D3')await approveReportD3(_0x508636['id'],_0x239d81,_0x70de54,_0x396b1d);else _0x2d4414==='D2'?await approveReportD2(_0x508636['id'],_0x239d81,_0x70de54,_0x396b1d):await approveReport(_0x508636['id'],_0x239d81,_0x70de54,_0x396b1d);document[_0x41cf1a(0xcd)](_0x41cf1a(0xa5))[_0x41cf1a(0xf3)][_0x41cf1a(0x1a9)]=_0x41cf1a(0xb1),alert(_0x41cf1a(0x14c)),updatePendingMatchNotification(),location[_0x41cf1a(0x187)]();const _0x3d9ebc=_0x2d4414==='D1'?_0x41cf1a(0xa0):_0x41cf1a(0x129),_0x5b5450=doc(db,_0x3d9ebc,_0x62fac2['id']),_0x2a92ca=doc(db,_0x3d9ebc,_0x212d65['id']),[_0x376149,_0x1d4abf]=await Promise[_0x41cf1a(0x22f)]([getDoc(_0x5b5450),getDoc(_0x2a92ca)]);if(_0x376149[_0x41cf1a(0x139)]()&&_0x1d4abf[_0x41cf1a(0x139)]()){const _0x3a5562=_0x376149[_0x41cf1a(0x98)](),_0x541c2f=_0x1d4abf[_0x41cf1a(0x98)]();_0x3a5562[_0x41cf1a(0x1f1)]>_0x541c2f[_0x41cf1a(0x1f1)]?(await updateDoc(_0x5b5450,{'position':_0x541c2f[_0x41cf1a(0x1f1)]}),console[_0x41cf1a(0x154)](_0x41cf1a(0x1be)+_0x3a5562[_0x41cf1a(0x184)]+_0x41cf1a(0x216)+_0x541c2f[_0x41cf1a(0x1f1)])):console[_0x41cf1a(0x154)](_0x41cf1a(0x9b));}}catch(_0x18bdfc){console[_0x41cf1a(0x1a2)](_0x41cf1a(0xd9),_0x18bdfc),alert(_0x41cf1a(0x16e)+_0x18bdfc[_0x41cf1a(0x221)]);}});}if(_0x5a126c){const _0x512de4=_0x5a126c[_0x3df636(0x110)](!![]);_0x5a126c[_0x3df636(0x144)][_0x3df636(0xbd)](_0x512de4,_0x5a126c),_0x512de4[_0x3df636(0x1f5)](_0x3df636(0x119),async function(){const _0x20bdf7=_0x3df636;try{const _0xcbe555=prompt(_0x20bdf7(0x1e7),'');if(_0xcbe555===null)return;await rejectReport(_0x508636['id'],_0xcbe555),hideLightbox(),alert(_0x20bdf7(0x19b)),updatePendingMatchNotification(),location[_0x20bdf7(0x187)]();}catch(_0xc9e12f){console[_0x20bdf7(0x1a2)](_0x20bdf7(0xbf),_0xc9e12f),alert(_0x20bdf7(0x21a)+_0xc9e12f[_0x20bdf7(0x221)]);}});}if(_0x50a343){const _0x182a1e=_0x50a343[_0x3df636(0x110)](!![]);_0x50a343[_0x3df636(0x144)][_0x3df636(0xbd)](_0x182a1e,_0x50a343),_0x182a1e[_0x3df636(0x1f5)](_0x3df636(0x119),hideLightbox);}})[_0x3077f3(0xfb)](_0x5ff477=>{const _0x156fd8=_0x3077f3;console[_0x156fd8(0x1a2)](_0x156fd8(0x175),_0x5ff477),alert(_0x156fd8(0x148));});}}function showLightbox(){const _0x598bf4=a52_0xbc04d6;console[_0x598bf4(0x154)](_0x598bf4(0x135));const _0x32d1ca=document[_0x598bf4(0xcd)](_0x598bf4(0xa5));if(!_0x32d1ca){console[_0x598bf4(0x1a2)](_0x598bf4(0x1de));return;}_0x32d1ca[_0x598bf4(0xca)][_0x598bf4(0xe4)](_0x598bf4(0x102));}function hideLightbox(){const _0x1da163=a52_0xbc04d6,_0x2c75be=document[_0x1da163(0xcd)](_0x1da163(0xa5));_0x2c75be[_0x1da163(0xca)][_0x1da163(0x1ee)](_0x1da163(0x102));}async function rejectReport(_0x4dd680,_0x4cb304){const _0x17dc69=a52_0xbc04d6;try{const _0x1e95a7=currentGameMode==='D1'?_0x17dc69(0x1f9):currentGameMode==='D2'?_0x17dc69(0x22e):_0x17dc69(0x103),_0x23c30e=currentGameMode==='D1'?_0x17dc69(0x201):currentGameMode==='D2'?_0x17dc69(0x131):_0x17dc69(0xf1);console[_0x17dc69(0x154)](_0x17dc69(0xa4)+_0x4dd680+_0x17dc69(0x164)+_0x1e95a7+_0x17dc69(0x21b)+_0x23c30e);const _0x69f52a=auth[_0x17dc69(0x134)];if(!_0x69f52a)throw new Error(_0x17dc69(0x158));const _0x569018=doc(db,_0x1e95a7,_0x4dd680),_0x76ca17=await getDoc(_0x569018);if(!_0x76ca17[_0x17dc69(0x139)]())throw new Error(_0x17dc69(0xde));const _0x2462c3=_0x76ca17[_0x17dc69(0x98)](),_0x145b8c=_0x2462c3[_0x17dc69(0x1cc)]&&_0x2462c3[_0x17dc69(0x1cc)]===_0x69f52a[_0x17dc69(0xb8)]||_0x2462c3[_0x17dc69(0x130)]&&_0x2462c3[_0x17dc69(0x130)]===_0x69f52a[_0x17dc69(0xc2)]||_0x2462c3[_0x17dc69(0x1bd)]&&_0x2462c3[_0x17dc69(0x1bd)]===await getUsernameFromId(_0x69f52a[_0x17dc69(0xb8)]);if(!_0x145b8c)throw new Error(_0x17dc69(0xf0));const _0x5915fd={..._0x2462c3,'rejectedAt':serverTimestamp(),'rejectedBy':_0x69f52a[_0x17dc69(0xb8)],'rejectionReason':_0x4cb304||_0x17dc69(0xf5),'originalDocumentId':_0x4dd680},_0x59b805=doc(collection(db,_0x23c30e));return await setDoc(_0x59b805,_0x5915fd),await deleteDoc(_0x569018),console[_0x17dc69(0x154)](_0x17dc69(0xdf)+_0x4dd680+_0x17dc69(0x178)),updatePendingMatchNotification(),!![];}catch(_0x3a92a0){console[_0x17dc69(0x1a2)](_0x17dc69(0xc7),_0x3a92a0);throw _0x3a92a0;}}async function getUsernameFromId(_0x181972){const _0x2eff05=a52_0xbc04d6,_0x45da73=await getDoc(doc(db,_0x2eff05(0xa0),_0x181972));if(_0x45da73[_0x2eff05(0x139)]())return _0x45da73[_0x2eff05(0x98)]()[_0x2eff05(0x184)];const _0x490d8c=await getDoc(doc(db,_0x2eff05(0x129),_0x181972));if(_0x490d8c[_0x2eff05(0x139)]())return _0x490d8c[_0x2eff05(0x98)]()[_0x2eff05(0x184)];return null;}function a52_0x264b(){const _0x438853=['readOnly','submittedAt','placement','No\x20matches\x20found\x20by\x20winnerId,\x20trying\x20winnerEmail','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Game\x20Version:</strong>\x20','loserComment','then','Unknown','data','submittedByUID','Error\x20updating\x20report:','No\x20position\x20change\x20needed;\x20winner\x20is\x20already\x20above\x20the\x20loser.','#FFD700','target','d2Button','\x22\x20target=\x22_blank\x22\x20style=\x22color:\x20#4CAF50;\x22>View\x20Demo</a></p>','players','DOMContentLoaded','sort','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20edit-report-btn\x22\x20data-id=\x22','Rejecting\x20match\x20','report-lightbox','ffaButton','\x20(ELO:\x20','10px','eloRating','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','apply','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22match-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22match-detail-item\x22>Map:\x20','deaths','<div\x20class=\x22loading\x22>Loading\x20your\x20FFA\x20matches...</div>','Error\x20checking\x20if\x20user\x20is\x20in\x20ladder:','reporterId','none','value','Please\x20provide\x20a\x20reason\x20for\x20rejecting\x20this\x20match:','<option\x20value=\x22\x22>Select\x20Winner</option>','data-id','<span\x20style=\x22color:\x20#888;\x20font-size:\x200.8em;\x22>\x20(Reporter)</span>','gameMode','uid','pendingMatchesFFA','User\x20not\x20authenticated','currentLadder','bold','replaceChild','ffa-mode','Error\x20rejecting\x20report:','User\x20found\x20in\x20','Error\x20fetching\x20outstanding\x20FFA\x20matches:','email','Query\x20by\x20winnerUsername\x20results:\x20','d1Button','isReporter','<p><strong>Notes:</strong>\x20','Error\x20rejecting\x20match:','No\x20winner\x20found\x20for\x20this\x20match','d1-mode','classList','scrollIntoView','Match\x20reported\x20in\x20','getElementById','\x20for\x20game\x20mode:\x20','#CD7F32','cancel-button','loser-username','call','join','Error\x20reporting\x20game.\x20Please\x20try\x20again.','isNonParticipant','borderRadius','approve-button','<p><strong>Demo:</strong>\x20<a\x20href=\x22','Error\x20approving\x20report:','Elements\x20object\x20is\x20null\x20or\x20undefined','Please\x20select\x20an\x20opponent','beforeend','User\x20found\x20in\x20collection\x20','Match\x20report\x20not\x20found','Match\x20','Found\x20pending\x20match:','textContent','\x20ladder.','demoLink','add','\x20with\x20ID:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ffa-confirm-participant\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22match-item\x22\x20data-id=\x22','No\x20loser\x20found\x20for\x20this\x20match','Unknown\x20date','needsConfirmation','\x22>Edit\x20Report</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20danger-button\x20rescind-report-btn\x22\x20data-id=\x22','<option\x20value=\x22\x22>Select\x20Opponent</option>','renderOutstandingMatches','button\x20danger-button','reset','Only\x20the\x20winner\x20of\x20the\x20match\x20can\x20reject\x20it','RejectedD3','view-outstanding-ffa-container','style','lightbox-winner','No\x20reason\x20provided','preventDefault','Report\x20has\x20been\x20successfully\x20updated.','Checking\x20if\x20user\x20exists\x20in\x20collection:\x20','mapPlayed','Selected\x20opponent\x20not\x20found','catch','info','opponent','authWarning','padding','{}.constructor(\x22return\x20this\x22)(\x20)','push','show','pendingMatchesD3','Using\x20collection:\x20','Reject\x20Match','lightbox-subgame','\x20mode','admin@ladder.com','You\x20(','FFA\x20report\x20has\x20been\x20rescinded.','.confirm-ffa-btn','d3-mode','<div\x20class=\x22loading\x22>Loading\x20your\x20matches...</div>','d2-mode','from','cloneNode','Error\x20rescinding\x20report:','Are\x20you\x20sure\x20you\x20want\x20to\x20rescind\x20this\x20match\x20report\x20against\x20','green','Error\x20checking\x20ladder\x20membership.\x20Please\x20try\x20again\x20later.','pointer','btn','bind','loserEmail','click','<p>No\x20outstanding\x20matches\x20found\x20in\x20the\x20current\x20game\x20mode.</p>','Game\x20reported\x20successfully!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22username\x22\x20style=\x22color:\x20#fff;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lightbox-game-mode','lightbox-loser','toString','toDate','Error\x20submitting\x20report:','includes','warn','text','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>','No\x20authenticated\x20user\x20found','option','No\x20pending\x20matches\x20found\x20for\x20this\x20user','playersD2','selected','Not\x20registered\x20in\x20this\x20ladder','FFA\x20match\x20rejected.','report-form','participants','\x20matches\x20found','winnerEmail','RejectedD2','loserId','white','currentUser','Showing\x20lightbox','backgroundColor','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22match-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20view-detail-btn\x22\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22score\x22\x20style=\x22color:\x20#4CAF50;\x20font-weight:\x20bold;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Score:\x20','exists','#C0C0C0','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22match-detail-item\x22>Score:\x20?\x20-\x20','return\x20(function()\x20','odl_Id','report-error','.edit-report-btn','Error\x20confirming\x20FFA\x20match:','matchNotes','map-played','winner-username','parentNode','rescindReport','winner-suicides','.lightbox-buttons','Error\x20fetching\x20player\x20data.\x20Please\x20try\x20again.','some','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22match-detail-item\x22>Date:\x20','length','Match\x20approved\x20successfully','kills','Error\x20during\x20sign-in\x20handling:','Failed\x20to\x20confirm\x20match:\x20','nonParticipants','\x20ladder.\x20Checking\x20other\x20ladders.','status','Failed\x20to\x20reject\x20match:\x20','log','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22match-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22match-detail-item\x22>Players:\x20','gameVersion','\x20/\x20D:\x20','You\x20must\x20be\x20logged\x20in\x20to\x20reject\x20a\x20match','\x22\x20style=\x22background-color:\x20#4CAF50;\x22>Confirm\x20Match</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20danger-button\x20reject-ffa-btn\x22\x20data-id=\x22','loserUsername','playersCTF','#6a1b9a','Standard\x20Match','Loading\x20opponents\x20from\x20collection:\x20','map','No\x20matches\x20found\x20by\x20email\x20either,\x20trying\x20winnerUsername','exception','No\x20comment','Error\x20checking\x20pending\x20FFA\x20matches:','\x20from\x20','prototype','toLocaleString','prepend','Error\x20rejecting\x20FFA\x20match:','\x22>Reject\x20Match</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','8px\x2016px','winner-score','Failed\x20to\x20update\x20report.\x20Please\x20try\x20again.','reportedAt','Error\x20approving\x20match:\x20','onAuthStateChanged','className','.rescind-report-btn','ffa-report-form','forEach','Non-participant\x20check:','Error\x20processing\x20player\x20data:','disabled','red','\x20rejected\x20successfully','showMatchLightbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22match-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20view-ffa-detail-btn\x22\x20data-id=\x22','User\x20is\x20not\x20in\x20the\x20','</p>','\x22>Rescind\x20Report</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','),\x20Loser:\x20','Found\x20pending\x20FFA\x20match\x20requiring\x20confirmation:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Submitted:</strong>\x20','block','pending','cursor','username','close-outstanding-btn','Reject\x20button\x20added:','reload','lightbox-suicides','docs','fontWeight','view-outstanding-ffa-btn','Error:\x20','ffa-details-modal','toLocaleDateString','\x20vs\x20','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22display:\x20grid;\x20grid-template-columns:\x2050px\x201fr\x2080px\x2080px\x2060px;\x20gap:\x2010px;\x20padding:\x2010px;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(255,255,255,0.05);\x20border-radius:\x205px;\x20margin-bottom:\x205px;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22placement\x22\x20style=\x22color:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20danger-button\x20rescind-ffa-report-btn\x22\x20data-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','4px','undefined','winnerOldElo','cancel-edit-btn','data-edit-id','Report\x20has\x20been\x20successfully\x20rescinded.','Cancel\x20Edit','createElement','Match\x20report\x20rejected\x20successfully','d3Button','Found\x20buttons\x20container:','lightbox-comment','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','loserSuicides','button','error','editReport','\x20collection:','Error\x20checking\x20','.rescind-ffa-report-btn','lightbox-loser-score','reportError','display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20confirm-ffa-btn\x22\x20data-id=\x22','appendChild','Error:\x20Winner\x20data\x20not\x20found.','view-outstanding-container','loser-score','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','losersOldElo','setAttribute','view-outstanding-btn','createdAt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22kd\x22\x20style=\x22color:\x20#888;\x20font-size:\x200.9em;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20K:\x20','querySelectorAll','lightbox-map','.view-detail-btn','Using\x20players\x20collection:\x20','rgba(255,\x20255,\x20255,\x200.05)',';\x20font-weight:\x20bold;\x20font-size:\x201.2em;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','score','outstanding-matches-list','winnerUsername','Winner\x20','subgameType','outstanding-modal','Are\x20you\x20sure\x20you\x20want\x20to\x20confirm\x20this\x20FFA\x20match?','Current\x20user\x20info:','Not\x20specified','suicides','Query\x20by\x20winnerEmail\x20results:\x20','Game\x20reported\x20successfully.','active','getAttribute','\x20in\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>FFA\x20Match\x20-\x20','Unknown\x20Map','winnerId','subgame-type','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','approved','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ffa-confirm-actions\x22\x20style=\x22display:\x20flex;\x20gap:\x2010px;\x20justify-content:\x20center;\x20margin-top:\x2020px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-ffa-details-btn\x22\x20class=\x22btn\x22\x20style=\x22background-color:\x20#6a1b9a;\x22>Close</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20populating\x20winner\x20dropdown:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','console','smooth','empty','submit','playersDuos','querySelector','find','__proto__','<p>No\x20outstanding\x20FFA\x20matches\x20found.</p>','playersFFA','❌\x20Error\x20initializing\x20FFA\x20form:','Lightbox\x20element\x20not\x20found','fetchOutstandingMatches','Error\x20checking\x20outstanding\x20reports:','Your\x20player\x20profile\x20not\x20found','Error\x20loading\x20opponents\x20list:','default\x20collection','\x22>View\x20Details</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22match-item\x20ffa-match-item\x22\x20data-id=\x22','\x20with\x20username:\x20','Please\x20provide\x20a\x20reason\x20for\x20rejecting\x20this\x20match\x20report:','#d32f2f','highlight','Checking\x20reports\x20for\x20user:\x20','reportForm','❌\x20FFA\x20form\x20section\x20not\x20found!','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22match-detail-item\x22>Status:\x20','remove','border','loserScore','position','Failed\x20to\x20rescind\x20report.\x20Please\x20try\x20again.','FFA\x20match\x20confirmed\x20successfully!','onsubmit','addEventListener','innerHTML','color','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22status\x22\x20style=\x22text-align:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pendingMatches','FFA','winner-comment','trace','table','loser-comment','Error\x20rescinding\x20FFA\x20report:','Are\x20you\x20sure\x20you\x20want\x20to\x20rescind\x20this\x20FFA\x20match\x20report?','RejectedD1','function','insertAdjacentHTML','Error\x20loading\x20opponents.\x20Please\x20try\x20again\x20later.','Error\x20checking\x20non-participant\x20status:','Required\x20elements\x20not\x20found\x20for\x20loadOpponentsList','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Status:</strong>\x20','options','removeAttribute','Report\x20Data\x20in\x20autoFillReportForm:','reject-button','Winner:\x20','Error:\x20Loser\x20data\x20not\x20found.','Error\x20fetching\x20outstanding\x20matches:','Non-participants\x20cannot\x20report\x20games.','confirmedBy','#888','button[type=\x22submit\x22]','.view-ffa-detail-btn','constructor','body','\x20moved\x20to\x20position\x20','Report\x20Game','.reject-ffa-btn',',\x20switching\x20to\x20','Error\x20rejecting\x20match:\x20','\x20to\x20','size','reporterUsername','type','marginRight','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22ffa-details-modal\x22\x20class=\x22ffa-confirmation-modal\x22\x20style=\x22display:\x20flex;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ffa-modal-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>FFA\x20Match\x20Details</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ffa-match-info\x22\x20style=\x22margin-bottom:\x2020px;\x20padding:\x2015px;\x20background:\x20rgba(0,0,0,0.3);\x20border-radius:\x208px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Map:</strong>\x20','message','brian2af@outlook.com','playersD3','You\x20are\x20not\x20registered\x20in\x20the\x20','Update\x20Report','close-ffa-details-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ffa-confirm-participants\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4>Placements\x20&\x20Scores</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Report\x20form\x20reset','<span\x20class=\x22match-detail-item\x22\x20style=\x22color:\x20#ff9800;\x20font-weight:\x20bold;\x22>⚠️\x20Needs\x20Your\x20Confirmation</span>','Winner','dataset','insertBefore','auth-warning','pendingMatchesD2','all','Loser','Query\x20by\x20winnerId\x20results:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','No\x20opponents\x20available','Failed\x20to\x20rescind\x20report:\x20'];a52_0x264b=function(){return _0x438853;};return a52_0x264b();}async function loadOpponentsList(_0x2691ef){const _0x2e048d=a52_0xbc04d6;try{const _0x162413=document[_0x2e048d(0xcd)](_0x2e048d(0x13e)),_0x17b8b0=document[_0x2e048d(0xcd)](_0x2e048d(0xd1)),_0x4ae34d=document[_0x2e048d(0xcd)](_0x2e048d(0x143));if(!_0x162413||!_0x17b8b0||!_0x4ae34d){console[_0x2e048d(0x1a2)](_0x2e048d(0x206));return;}const _0x44a514=currentGameMode==='D1'?_0x2e048d(0xa0):currentGameMode==='D2'?_0x2e048d(0x129):_0x2e048d(0x223);console[_0x2e048d(0x154)](_0x2e048d(0x15e)+_0x44a514);const _0x5d2d0d=await getDoc(doc(db,_0x44a514,_0x2691ef));if(!_0x5d2d0d[_0x2e048d(0x139)]()){_0x162413[_0x2e048d(0xe1)]=_0x2e048d(0x224)+currentGameMode+_0x2e048d(0xe2),_0x162413[_0x2e048d(0xf3)][_0x2e048d(0x1f7)]=_0x2e048d(0x177),_0x17b8b0[_0x2e048d(0xe1)]=_0x2e048d(0x12b),_0x4ae34d[_0x2e048d(0x176)]=!![];return;}const _0xf0714f=_0x5d2d0d[_0x2e048d(0x98)](),_0x462095=_0xf0714f[_0x2e048d(0x184)];_0x17b8b0[_0x2e048d(0xe1)]=_0x2e048d(0x109)+_0x462095+')',_0x162413[_0x2e048d(0xe1)]='',_0x4ae34d[_0x2e048d(0x176)]=![];const _0x4f6096=collection(db,_0x44a514),_0x5569c0=await getDocs(_0x4f6096);if(_0x5569c0[_0x2e048d(0x1d5)]){console[_0x2e048d(0x154)](_0x2e048d(0x233));return;}_0x4ae34d[_0x2e048d(0x1f6)]=_0x2e048d(0xec),_0x5569c0[_0x2e048d(0x173)](_0x36eddd=>{const _0x149a84=_0x2e048d,_0xc7b2bc=_0x36eddd[_0x149a84(0x98)]();if(_0x36eddd['id']!==_0x2691ef){const _0x5d3242=document[_0x149a84(0x19a)](_0x149a84(0x127));_0x5d3242[_0x149a84(0xb2)]=_0xc7b2bc[_0x149a84(0x184)],_0x5d3242[_0x149a84(0xe1)]=_0xc7b2bc[_0x149a84(0x184)],_0x5d3242[_0x149a84(0x22b)][_0x149a84(0xb8)]=_0x36eddd['id'],_0x4ae34d[_0x149a84(0x1ab)](_0x5d3242);}});}catch(_0x160c8e){console[_0x2e048d(0x1a2)](_0x2e048d(0x1e2),_0x160c8e),document[_0x2e048d(0xcd)](_0x2e048d(0x13e))[_0x2e048d(0xe1)]=_0x2e048d(0x204),document[_0x2e048d(0xcd)](_0x2e048d(0x13e))[_0x2e048d(0xf3)][_0x2e048d(0x1f7)]=_0x2e048d(0x177);}}async function checkUserInLadderAndLoadOpponents(_0x25b851){const _0x344c95=a52_0xbc04d6;try{const _0x87ca46=document[_0x344c95(0xcd)](_0x344c95(0x13e)),_0x3ac327=document[_0x344c95(0xcd)](_0x344c95(0xd1)),_0x3b33e2=document[_0x344c95(0xcd)](_0x344c95(0x143)),_0x3d9029=document[_0x344c95(0xcd)](_0x344c95(0x12d)),_0x3f6be2=document[_0x344c95(0xcd)](_0x344c95(0x22d)),_0xe0b7bb=currentGameMode==='D1'?_0x344c95(0xa0):currentGameMode==='D2'?_0x344c95(0x129):_0x344c95(0x223);console[_0x344c95(0x154)](_0x344c95(0xf8)+_0xe0b7bb);const _0x5f005c=await getDoc(doc(db,_0xe0b7bb,_0x25b851));if(!_0x5f005c[_0x344c95(0x139)]())return _0x87ca46[_0x344c95(0xe1)]=_0x344c95(0x224)+currentGameMode+_0x344c95(0xe2),_0x87ca46[_0x344c95(0xf3)][_0x344c95(0x1f7)]=_0x344c95(0x177),_0x3ac327[_0x344c95(0xe1)]=_0x344c95(0x12b),_0x3b33e2[_0x344c95(0x176)]=!![],_0x3b33e2[_0x344c95(0x1f6)]=_0x344c95(0xec),_0x3f6be2[_0x344c95(0xf3)][_0x344c95(0x1a9)]=_0x344c95(0xb1),_0x3d9029[_0x344c95(0xf3)][_0x344c95(0x1a9)]=_0x344c95(0x181),![];_0x87ca46[_0x344c95(0xe1)]='',_0x3f6be2[_0x344c95(0xf3)][_0x344c95(0x1a9)]=_0x344c95(0xb1);const _0x193bc0=_0x5f005c[_0x344c95(0x98)](),_0x5cd227=_0x193bc0[_0x344c95(0x184)];_0x3ac327[_0x344c95(0xe1)]=_0x344c95(0x109)+_0x5cd227+')',_0x3b33e2[_0x344c95(0x176)]=![],_0x3d9029[_0x344c95(0xf3)][_0x344c95(0x1a9)]=_0x344c95(0x181),await loadOpponentsList(_0x25b851);const _0x4b7909=currentGameMode==='D1'?_0x344c95(0x1f9):currentGameMode==='D2'?_0x344c95(0x22e):_0x344c95(0x103);return await checkForOutstandingReports(_0x193bc0[_0x344c95(0xc2)],null,_0x4b7909),!![];}catch(_0x580083){return console[_0x344c95(0x1a2)](_0x344c95(0xaf),_0x580083),document[_0x344c95(0xcd)](_0x344c95(0x13e))[_0x344c95(0xe1)]=_0x344c95(0x114),document[_0x344c95(0xcd)](_0x344c95(0x13e))[_0x344c95(0xf3)][_0x344c95(0x1f7)]=_0x344c95(0x177),![];}}export async function fetchOutstandingMatches(){const _0x5ec539=a52_0xbc04d6,_0x4af856=auth[_0x5ec539(0x134)];if(!_0x4af856)return[];try{const _0x42e7a6=[];if(currentGameMode===_0x5ec539(0x1fa))return await fetchOutstandingFFAMatches(_0x4af856);const _0x32e780=currentGameMode==='D1'?_0x5ec539(0x1f9):currentGameMode==='D2'?_0x5ec539(0x22e):currentGameMode==='D3'?_0x5ec539(0x103):_0x5ec539(0x1f9),_0x43a44a=collection(db,_0x32e780),_0x1a5f88=[query(_0x43a44a,where(_0x5ec539(0x132),'==',_0x4af856[_0x5ec539(0xb8)]),where(_0x5ec539(0x1cf),'==',![])),query(_0x43a44a,where(_0x5ec539(0x118),'==',_0x4af856[_0x5ec539(0xc2)]),where(_0x5ec539(0x1cf),'==',![])),query(_0x43a44a,where(_0x5ec539(0x1cc),'==',_0x4af856[_0x5ec539(0xb8)]),where(_0x5ec539(0x1cf),'==',![])),query(_0x43a44a,where(_0x5ec539(0x130),'==',_0x4af856[_0x5ec539(0xc2)]),where(_0x5ec539(0x1cf),'==',![]))],_0x382697=currentGameMode==='D1'?_0x5ec539(0xa0):currentGameMode==='D2'?_0x5ec539(0x129):_0x5ec539(0x223),_0xdfb4c4=await getDocs(query(collection(db,_0x382697),where(_0x5ec539(0xc2),'==',_0x4af856[_0x5ec539(0xc2)])));let _0x1934d7=null;!_0xdfb4c4[_0x5ec539(0x1d5)]&&(_0x1934d7=_0xdfb4c4[_0x5ec539(0x189)][0x0][_0x5ec539(0x98)]()[_0x5ec539(0x184)],_0x1934d7&&_0x1a5f88[_0x5ec539(0x101)](query(_0x43a44a,where(_0x5ec539(0x15a),'==',_0x1934d7),where(_0x5ec539(0x1cf),'==',![])),query(_0x43a44a,where(_0x5ec539(0x1bd),'==',_0x1934d7),where(_0x5ec539(0x1cf),'==',![]))));for(const _0x45a61d of _0x1a5f88){const _0x65b058=await getDocs(_0x45a61d);!_0x65b058[_0x5ec539(0x1d5)]&&_0x65b058[_0x5ec539(0x173)](_0x1bcbb6=>{const _0x72c6a9=_0x5ec539;!_0x42e7a6[_0x72c6a9(0x149)](_0x522482=>_0x522482['id']===_0x1bcbb6['id'])&&_0x42e7a6[_0x72c6a9(0x101)]({'id':_0x1bcbb6['id'],..._0x1bcbb6[_0x72c6a9(0x98)]()});});}return _0x42e7a6[_0x5ec539(0xa2)]((_0x288d6c,_0xb2d15)=>{const _0x1d9b9e=_0x5ec539,_0x4adf9d=_0x288d6c[_0x1d9b9e(0x1b3)]?.[_0x1d9b9e(0x120)]()||new Date(0x0),_0x3e185e=_0xb2d15[_0x1d9b9e(0x1b3)]?.[_0x1d9b9e(0x120)]()||new Date(0x0);return _0x3e185e-_0x4adf9d;}),outstandingMatches=_0x42e7a6,_0x42e7a6;}catch(_0x5661dd){return console[_0x5ec539(0x1a2)](_0x5ec539(0x20e),_0x5661dd),[];}}export function renderOutstandingMatches(){const _0x229ad3=a52_0xbc04d6,_0x4cc9e3=document[_0x229ad3(0xcd)](_0x229ad3(0x1bc));if(outstandingMatches[_0x229ad3(0x14b)]===0x0){_0x4cc9e3[_0x229ad3(0x1f6)]=_0x229ad3(0x11a);return;}let _0xef3c69='';const _0x3952ae=auth[_0x229ad3(0x134)];if(!_0x3952ae)return;outstandingMatches[_0x229ad3(0x173)](_0x13e7a6=>{const _0x669e49=_0x229ad3,_0x508e7e=_0x13e7a6[_0x669e49(0x1b3)]?.[_0x669e49(0x120)]()?_0x13e7a6[_0x669e49(0x1b3)][_0x669e49(0x120)]()[_0x669e49(0x18e)]():_0x669e49(0xe9),_0x9e7600=_0x13e7a6[_0x669e49(0x118)]===_0x3952ae[_0x669e49(0xc2)]||_0x13e7a6[_0x669e49(0x132)]===_0x3952ae[_0x669e49(0xb8)];_0xef3c69+=_0x669e49(0xe7)+_0x13e7a6['id']+_0x669e49(0x125)+(_0x13e7a6[_0x669e49(0x1bd)]||_0x669e49(0x22a))+_0x669e49(0x18f)+(_0x13e7a6[_0x669e49(0x15a)]||_0x669e49(0x230))+_0x669e49(0xac)+(_0x13e7a6[_0x669e49(0xf9)]||_0x669e49(0x97))+_0x669e49(0x14a)+_0x508e7e+_0x669e49(0x13b)+(_0x13e7a6[_0x669e49(0x1f0)]||'0')+_0x669e49(0x137)+_0x13e7a6['id']+_0x669e49(0x1e4)+(_0x9e7600?_0x669e49(0xa3)+_0x13e7a6['id']+_0x669e49(0xeb)+_0x13e7a6['id']+_0x669e49(0x17d):'')+_0x669e49(0xaa);}),_0x4cc9e3[_0x229ad3(0x1f6)]=_0xef3c69,document[_0x229ad3(0x1b5)](_0x229ad3(0x1b7))[_0x229ad3(0x173)](_0x37ec99=>{const _0x4ff1d4=_0x229ad3;_0x37ec99[_0x4ff1d4(0x1f5)](_0x4ff1d4(0x119),function(){const _0xbab560=_0x4ff1d4,_0x3d556b=this[_0xbab560(0x1c8)](_0xbab560(0xb5)),_0x421e7f=outstandingMatches[_0xbab560(0x1d9)](_0x1ee664=>_0x1ee664['id']===_0x3d556b);document[_0xbab560(0xcd)](_0xbab560(0x1c0))[_0xbab560(0xca)][_0xbab560(0x1ee)](_0xbab560(0x102)),showMatchLightbox(_0x421e7f);});}),document[_0x229ad3(0x1b5)](_0x229ad3(0x13f))[_0x229ad3(0x173)](_0x556445=>{const _0x15fc05=_0x229ad3;_0x556445[_0x15fc05(0x1f5)](_0x15fc05(0x119),function(){const _0x2ef9ea=_0x15fc05,_0x3a7a94=this[_0x2ef9ea(0x1c8)](_0x2ef9ea(0xb5)),_0x47d7ce=outstandingMatches[_0x2ef9ea(0x1d9)](_0x3d036e=>_0x3d036e['id']===_0x3a7a94);document[_0x2ef9ea(0xcd)](_0x2ef9ea(0x1c0))[_0x2ef9ea(0xca)][_0x2ef9ea(0x1ee)](_0x2ef9ea(0x102)),editReport(_0x47d7ce);});}),document[_0x229ad3(0x1b5)](_0x229ad3(0x171))[_0x229ad3(0x173)](_0x115a89=>{const _0x2791f9=_0x229ad3;_0x115a89[_0x2791f9(0x1f5)](_0x2791f9(0x119),function(){const _0xb595ef=_0x2791f9,_0x5e61bc=this[_0xb595ef(0x1c8)](_0xb595ef(0xb5)),_0x16dbf3=outstandingMatches[_0xb595ef(0x1d9)](_0x906351=>_0x906351['id']===_0x5e61bc);confirm(_0xb595ef(0x112)+(_0x16dbf3[_0xb595ef(0x1bd)]||_0xb595ef(0xfd))+'?')&&rescindReport(_0x16dbf3);});});}export function renderOutstandingMatchesFFA(){const _0x2414ea=a52_0xbc04d6,_0x165a53=document[_0x2414ea(0xcd)](_0x2414ea(0x1bc));if(outstandingMatches[_0x2414ea(0x14b)]===0x0){_0x165a53[_0x2414ea(0x1f6)]=_0x2414ea(0x1db);return;}let _0x4d98ff='';const _0x122d79=auth[_0x2414ea(0x134)];if(!_0x122d79)return;outstandingMatches[_0x2414ea(0x173)](_0x3bc59b=>{const _0x2d973b=_0x2414ea,_0x4b7b2a=_0x3bc59b[_0x2d973b(0x91)]?.[_0x2d973b(0x120)]?.()?_0x3bc59b[_0x2d973b(0x91)][_0x2d973b(0x120)]()[_0x2d973b(0x18e)]():_0x3bc59b[_0x2d973b(0x16d)]?.[_0x2d973b(0x120)]?.()?_0x3bc59b[_0x2d973b(0x16d)][_0x2d973b(0x120)]()[_0x2d973b(0x18e)]():_0x2d973b(0xe9),_0x1eb4c7=_0x3bc59b[_0x2d973b(0xa0)]?.[_0x2d973b(0x14b)]||_0x3bc59b[_0x2d973b(0x12e)]?.[_0x2d973b(0x14b)]||'?',_0x27fc45=_0x3bc59b[_0x2d973b(0xf9)]||_0x2d973b(0x1cb),_0x48252c=_0x3bc59b[_0x2d973b(0xc5)],_0x2674c3=_0x3bc59b[_0x2d973b(0xea)];_0x4d98ff+=_0x2d973b(0x1e5)+_0x3bc59b['id']+_0x2d973b(0x1ca)+_0x27fc45+_0x2d973b(0x155)+_0x1eb4c7+_0x2d973b(0x14a)+_0x4b7b2a+_0x2d973b(0x1ed)+(_0x3bc59b[_0x2d973b(0x152)]||_0x2d973b(0x182))+_0x2d973b(0x1d2)+(_0x2674c3?_0x2d973b(0x229):'')+_0x2d973b(0x17a)+_0x3bc59b['id']+_0x2d973b(0x1e4)+(_0x2674c3?_0x2d973b(0x1aa)+_0x3bc59b['id']+_0x2d973b(0x159)+_0x3bc59b['id']+_0x2d973b(0x169):'')+_0x2d973b(0x232)+(_0x48252c?_0x2d973b(0x191)+_0x3bc59b['id']+_0x2d973b(0x17d):'')+_0x2d973b(0xaa);}),_0x165a53[_0x2414ea(0x1f6)]=_0x4d98ff,document[_0x2414ea(0x1b5)](_0x2414ea(0x213))[_0x2414ea(0x173)](_0x211aee=>{const _0x5d1281=_0x2414ea;_0x211aee[_0x5d1281(0x1f5)](_0x5d1281(0x119),function(){const _0x28c8b9=_0x5d1281,_0x17cd60=this[_0x28c8b9(0x1c8)](_0x28c8b9(0xb5)),_0x5e7e24=outstandingMatches[_0x28c8b9(0x1d9)](_0x3a86f4=>_0x3a86f4['id']===_0x17cd60);document[_0x28c8b9(0xcd)](_0x28c8b9(0x1c0))[_0x28c8b9(0xca)][_0x28c8b9(0x1ee)](_0x28c8b9(0x102)),showFFAMatchLightbox(_0x5e7e24);});}),document[_0x2414ea(0x1b5)](_0x2414ea(0x10b))[_0x2414ea(0x173)](_0x5c9691=>{const _0x537252=_0x2414ea;_0x5c9691[_0x537252(0x1f5)](_0x537252(0x119),async function(){const _0x2dedce=_0x537252,_0x873e51=this[_0x2dedce(0x1c8)](_0x2dedce(0xb5));if(confirm(_0x2dedce(0x1c1)))try{await confirmFFAReport(_0x873e51),alert(_0x2dedce(0x1f3)),document[_0x2dedce(0xcd)](_0x2dedce(0x1c0))[_0x2dedce(0xca)][_0x2dedce(0x1ee)](_0x2dedce(0x102)),updatePendingMatchNotification(),location[_0x2dedce(0x187)]();}catch(_0x4a2736){console[_0x2dedce(0x1a2)](_0x2dedce(0x140),_0x4a2736),alert(_0x2dedce(0x14f)+_0x4a2736[_0x2dedce(0x221)]);}});}),document[_0x2414ea(0x1b5)](_0x2414ea(0x218))[_0x2414ea(0x173)](_0x146b3d=>{const _0x42a110=_0x2414ea;_0x146b3d[_0x42a110(0x1f5)](_0x42a110(0x119),async function(){const _0x176fc7=_0x42a110,_0x2de099=this[_0x176fc7(0x1c8)](_0x176fc7(0xb5)),_0x37e7f8=prompt(_0x176fc7(0xb3));if(_0x37e7f8!==null)try{await rejectFFAReport(_0x2de099,_0x37e7f8),alert(_0x176fc7(0x12c)),document[_0x176fc7(0xcd)](_0x176fc7(0x1c0))[_0x176fc7(0xca)][_0x176fc7(0x1ee)](_0x176fc7(0x102)),updatePendingMatchNotification(),location[_0x176fc7(0x187)]();}catch(_0x32f27f){console[_0x176fc7(0x1a2)](_0x176fc7(0x168),_0x32f27f),alert(_0x176fc7(0x153)+_0x32f27f[_0x176fc7(0x221)]);}});}),document[_0x2414ea(0x1b5)](_0x2414ea(0x1a6))[_0x2414ea(0x173)](_0x1ed8b5=>{const _0x1d89e2=_0x2414ea;_0x1ed8b5[_0x1d89e2(0x1f5)](_0x1d89e2(0x119),async function(){const _0x492e5c=_0x1d89e2,_0x1c1a93=this[_0x492e5c(0x1c8)](_0x492e5c(0xb5));confirm(_0x492e5c(0x200))&&await rescindFFAReport(_0x1c1a93);});});}async function rescindFFAReport(_0x5da808){const _0x691e10=a52_0xbc04d6;try{const _0x3240c9=doc(db,_0x691e10(0xb9),_0x5da808);await deleteDoc(_0x3240c9),alert(_0x691e10(0x10a)),await fetchOutstandingMatches(),renderOutstandingMatchesFFA();}catch(_0x34fe9b){console[_0x691e10(0x1a2)](_0x691e10(0x1ff),_0x34fe9b),alert(_0x691e10(0x234)+_0x34fe9b[_0x691e10(0x221)]);}}async function fetchOutstandingFFAMatches(_0x12e6a1){const _0x32ba88=a52_0xbc04d6;try{const _0x1f1006=[],_0x44580f=await getDoc(doc(db,_0x32ba88(0x1dc),_0x12e6a1[_0x32ba88(0xb8)]));let _0x2132a6=null;_0x44580f[_0x32ba88(0x139)]()&&(_0x2132a6=_0x44580f[_0x32ba88(0x98)]()[_0x32ba88(0x184)]);const _0x1cfb18=collection(db,_0x32ba88(0xb9)),_0x2d5f95=await getDocs(_0x1cfb18);return _0x2d5f95[_0x32ba88(0x173)](_0x279a96=>{const _0xe8347d=_0x32ba88,_0x32e5dd=_0x279a96[_0xe8347d(0x98)](),_0x407532=_0x32e5dd[_0xe8347d(0xa0)]||[],_0x974e97=_0x32e5dd[_0xe8347d(0x99)]||_0x32e5dd[_0xe8347d(0xb0)],_0x4fe64e=_0x974e97===_0x12e6a1[_0xe8347d(0xb8)],_0x5489cc=_0x407532[_0xe8347d(0x149)](_0x20c74b=>_0x20c74b[_0xe8347d(0x184)]===_0x2132a6||_0x20c74b[_0xe8347d(0x13d)]===_0x12e6a1[_0xe8347d(0xb8)]),_0x46b621=_0x32e5dd[_0xe8347d(0x210)]||[],_0x3c33be=_0x5489cc&&!_0x4fe64e&&!_0x46b621[_0xe8347d(0x122)](_0x12e6a1[_0xe8347d(0xb8)])&&!_0x46b621[_0xe8347d(0x122)](_0x2132a6);(_0x4fe64e||_0x3c33be)&&_0x1f1006[_0xe8347d(0x101)]({'id':_0x279a96['id'],..._0x32e5dd,'isReporter':_0x4fe64e,'needsConfirmation':_0x3c33be});}),_0x1f1006[_0x32ba88(0xa2)]((_0x4c1551,_0x489176)=>{const _0x4eda3b=_0x32ba88,_0x384024=_0x4c1551[_0x4eda3b(0x91)]?.[_0x4eda3b(0x120)]?.()||_0x4c1551[_0x4eda3b(0x16d)]?.[_0x4eda3b(0x120)]?.()||new Date(0x0),_0x42a7bf=_0x489176[_0x4eda3b(0x91)]?.[_0x4eda3b(0x120)]?.()||_0x489176[_0x4eda3b(0x16d)]?.[_0x4eda3b(0x120)]?.()||new Date(0x0);return _0x42a7bf-_0x384024;}),outstandingMatches=_0x1f1006,_0x1f1006;}catch(_0x4412ec){return console[_0x32ba88(0x1a2)](_0x32ba88(0xc1),_0x4412ec),[];}}function showFFAMatchLightbox(_0xa0b3aa){const _0x64a9f0=a52_0xbc04d6,_0x5e3306=_0xa0b3aa[_0x64a9f0(0xa0)]||_0xa0b3aa[_0x64a9f0(0x12e)]||[],_0x4ebef2=_0xa0b3aa[_0x64a9f0(0xf9)]||_0x64a9f0(0x1cb),_0xccd28f=_0xa0b3aa[_0x64a9f0(0x156)]||'D1',_0x122a2c=_0xa0b3aa[_0x64a9f0(0x141)]||'',_0x580c39=_0xa0b3aa[_0x64a9f0(0xe3)]||'',_0xb1d956=_0xa0b3aa[_0x64a9f0(0x91)]?.[_0x64a9f0(0x120)]?.()?_0xa0b3aa[_0x64a9f0(0x91)][_0x64a9f0(0x120)]()[_0x64a9f0(0x166)]():_0xa0b3aa[_0x64a9f0(0x16d)]?.[_0x64a9f0(0x120)]?.()?_0xa0b3aa[_0x64a9f0(0x16d)][_0x64a9f0(0x120)]()[_0x64a9f0(0x166)]():_0x64a9f0(0x97),_0x208a36=[..._0x5e3306][_0x64a9f0(0xa2)]((_0x5f07d5,_0x5cb93d)=>{const _0x1ae322=_0x64a9f0;if(_0x5f07d5[_0x1ae322(0x92)]&&_0x5cb93d[_0x1ae322(0x92)])return _0x5f07d5[_0x1ae322(0x92)]-_0x5cb93d[_0x1ae322(0x92)];return(_0x5cb93d[_0x1ae322(0x1bb)]||0x0)-(_0x5f07d5[_0x1ae322(0x1bb)]||0x0);}),_0x20cd0f=_0x64a9f0(0x220)+_0x4ebef2+_0x64a9f0(0x94)+_0xccd28f+_0x64a9f0(0x180)+_0xb1d956+_0x64a9f0(0x207)+(_0xa0b3aa[_0x64a9f0(0x152)]||_0x64a9f0(0x182))+_0x64a9f0(0x192)+(_0x122a2c?_0x64a9f0(0xc6)+_0x122a2c+_0x64a9f0(0x17c):'')+_0x64a9f0(0x1af)+(_0x580c39?_0x64a9f0(0xd8)+_0x580c39+_0x64a9f0(0x9f):'')+_0x64a9f0(0x227)+_0x208a36[_0x64a9f0(0x15f)]((_0x3ef275,_0x43fbeb)=>{const _0x218ae8=_0x64a9f0,_0x53ed0f=_0x3ef275[_0x218ae8(0x92)]||_0x43fbeb+0x1,_0x3aee71=_0x3ef275[_0x218ae8(0x1bb)]!==undefined?_0x3ef275[_0x218ae8(0x1bb)]:'?',_0x14ba5c=_0x3ef275[_0x218ae8(0x14d)]!==undefined?_0x3ef275[_0x218ae8(0x14d)]:'?',_0x5ab20c=_0x3ef275[_0x218ae8(0xad)]!==undefined?_0x3ef275[_0x218ae8(0xad)]:'?',_0x1b9764=(_0xa0b3aa[_0x218ae8(0x210)]||[])[_0x218ae8(0x122)](_0x3ef275[_0x218ae8(0x13d)])||(_0xa0b3aa[_0x218ae8(0x210)]||[])[_0x218ae8(0x122)](_0x3ef275[_0x218ae8(0x184)]),_0x5c22b5=_0x3ef275[_0x218ae8(0x13d)]===(_0xa0b3aa[_0x218ae8(0x99)]||_0xa0b3aa[_0x218ae8(0xb0)])||_0x3ef275[_0x218ae8(0x184)]===_0xa0b3aa[_0x218ae8(0x21d)];return _0x218ae8(0xe6)+(_0x53ed0f<=0x3?_0x218ae8(0x1e9):'')+_0x218ae8(0x190)+(_0x53ed0f===0x1?_0x218ae8(0x9c):_0x53ed0f===0x2?_0x218ae8(0x13a):_0x53ed0f===0x3?_0x218ae8(0xcf):_0x218ae8(0x211))+_0x218ae8(0x1ba)+getOrdinalSuffix(_0x53ed0f)+_0x218ae8(0x11c)+(_0x3ef275[_0x218ae8(0x184)]||_0x218ae8(0x97))+_0x218ae8(0x1ce)+(_0x5c22b5?_0x218ae8(0xb6):'')+_0x218ae8(0x138)+_0x3aee71+_0x218ae8(0x1b4)+_0x14ba5c+_0x218ae8(0x157)+_0x5ab20c+_0x218ae8(0x1f8)+(_0x1b9764||_0x5c22b5?'✅':'⏳')+_0x218ae8(0x19f);})[_0x64a9f0(0xd3)]('')+_0x64a9f0(0x1d0),_0xde794e=document[_0x64a9f0(0xcd)](_0x64a9f0(0x18d));_0xde794e&&_0xde794e[_0x64a9f0(0x1ee)](),document[_0x64a9f0(0x215)][_0x64a9f0(0x203)](_0x64a9f0(0xdc),_0x20cd0f),document[_0x64a9f0(0xcd)](_0x64a9f0(0x226))[_0x64a9f0(0x1f5)](_0x64a9f0(0x119),()=>{const _0x3290db=_0x64a9f0;document[_0x3290db(0xcd)](_0x3290db(0x18d))[_0x3290db(0x1ee)]();}),document[_0x64a9f0(0xcd)](_0x64a9f0(0x18d))[_0x64a9f0(0x1f5)](_0x64a9f0(0x119),_0x1249f0=>{const _0x3c0c30=_0x64a9f0;_0x1249f0[_0x3c0c30(0x9d)]['id']===_0x3c0c30(0x18d)&&document[_0x3c0c30(0xcd)](_0x3c0c30(0x18d))[_0x3c0c30(0x1ee)]();});}function getOrdinalSuffix(_0x527c11){const _0x23a84c=['th','st','nd','rd'],_0x33fdf5=_0x527c11%0x64;return _0x527c11+(_0x23a84c[(_0x33fdf5-0x14)%0xa]||_0x23a84c[_0x33fdf5]||_0x23a84c[0x0]);}async function checkForPendingFFAMatches(_0xcaf546){const _0x4b0f46=a52_0xbc04d6;try{const _0x4f4fca=await getDoc(doc(db,_0x4b0f46(0x1dc),_0xcaf546[_0x4b0f46(0xb8)]));let _0x43d753=null;_0x4f4fca[_0x4b0f46(0x139)]()&&(_0x43d753=_0x4f4fca[_0x4b0f46(0x98)]()[_0x4b0f46(0x184)]);if(!_0x43d753)return![];const _0x289e23=collection(db,_0x4b0f46(0xb9)),_0x4f5e23=await getDocs(_0x289e23);for(const _0x3d73c5 of _0x4f5e23[_0x4b0f46(0x189)]){const _0x11e6e7=_0x3d73c5[_0x4b0f46(0x98)](),_0x50d2ff=_0x11e6e7[_0x4b0f46(0xa0)]||[],_0x3c448c=_0x11e6e7[_0x4b0f46(0x99)]||_0x11e6e7[_0x4b0f46(0xb0)];if(_0x3c448c===_0xcaf546[_0x4b0f46(0xb8)])continue;const _0x42cc8c=_0x50d2ff[_0x4b0f46(0x149)](_0x3e0c8b=>_0x3e0c8b[_0x4b0f46(0x184)]===_0x43d753||_0x3e0c8b[_0x4b0f46(0x13d)]===_0xcaf546[_0x4b0f46(0xb8)]),_0x2d9127=_0x11e6e7[_0x4b0f46(0x210)]||[],_0x59f803=_0x2d9127[_0x4b0f46(0x122)](_0xcaf546[_0x4b0f46(0xb8)])||_0x2d9127[_0x4b0f46(0x122)](_0x43d753);if(_0x42cc8c&&!_0x59f803)return console[_0x4b0f46(0x154)](_0x4b0f46(0x17f),_0x3d73c5['id']),!![];}return![];}catch(_0xcff986){return console[_0x4b0f46(0x1a2)](_0x4b0f46(0x163),_0xcff986),![];}}export async function rescindReport(_0xb46121){const _0x202c0b=a52_0xbc04d6;try{const _0x13a28f=currentGameMode==='D1'?_0x202c0b(0x1f9):currentGameMode==='D2'?_0x202c0b(0x22e):_0x202c0b(0x103),_0x34683d=doc(db,_0x13a28f,_0xb46121['id']);await deleteDoc(_0x34683d),alert(_0x202c0b(0x198)),await fetchOutstandingMatches(),renderOutstandingMatches();}catch(_0x4a287b){console[_0x202c0b(0x1a2)](_0x202c0b(0x111),_0x4a287b),alert(_0x202c0b(0x1f2));}}export function editReport(_0xb65aa8){const _0x9f7db6=a52_0xbc04d6,_0x1574ce=document[_0x9f7db6(0xcd)](_0x9f7db6(0x12d)),_0x5d328b=document[_0x9f7db6(0xcd)](_0x9f7db6(0x1ae)),_0x2d7e0e=document[_0x9f7db6(0xcd)](_0x9f7db6(0x1c4)),_0x414990=document[_0x9f7db6(0xcd)](_0x9f7db6(0x142)),_0x5b90c8=document[_0x9f7db6(0xcd)](_0x9f7db6(0x1fe));_0x1574ce[_0x9f7db6(0xf3)][_0x9f7db6(0x1a9)]=_0x9f7db6(0x181),document[_0x9f7db6(0xcd)](_0x9f7db6(0x22d))[_0x9f7db6(0xf3)][_0x9f7db6(0x1a9)]=_0x9f7db6(0xb1);if(_0xb65aa8[_0x9f7db6(0x1f0)])_0x5d328b[_0x9f7db6(0xb2)]=_0xb65aa8[_0x9f7db6(0x1f0)];if(_0xb65aa8[_0x9f7db6(0x1a0)])_0x2d7e0e[_0x9f7db6(0xb2)]=_0xb65aa8[_0x9f7db6(0x1a0)];if(_0xb65aa8[_0x9f7db6(0xf9)])_0x414990[_0x9f7db6(0xb2)]=_0xb65aa8[_0x9f7db6(0xf9)];if(_0xb65aa8[_0x9f7db6(0x95)])_0x5b90c8[_0x9f7db6(0xb2)]=_0xb65aa8[_0x9f7db6(0x95)];const _0x722725=document[_0x9f7db6(0xcd)](_0x9f7db6(0x143));_0x722725&&_0xb65aa8[_0x9f7db6(0x1bd)]&&Array[_0x9f7db6(0x10f)](_0x722725[_0x9f7db6(0x208)])[_0x9f7db6(0x173)](_0x3b4ae5=>{const _0xe6561a=_0x9f7db6;_0x3b4ae5[_0xe6561a(0x124)]===_0xb65aa8[_0xe6561a(0x1bd)]&&(_0x3b4ae5[_0xe6561a(0x12a)]=!![]);});const _0xcf31bb=document[_0x9f7db6(0xcd)](_0x9f7db6(0x1cd));_0xcf31bb&&_0xb65aa8[_0x9f7db6(0x1bf)]&&(_0xcf31bb[_0x9f7db6(0xb2)]=_0xb65aa8[_0x9f7db6(0x1bf)]);_0x1574ce[_0x9f7db6(0x1b1)](_0x9f7db6(0x197),_0xb65aa8['id']);const _0x3b1271=_0x1574ce[_0x9f7db6(0x1d8)](_0x9f7db6(0x212));_0x3b1271[_0x9f7db6(0xe1)]=_0x9f7db6(0x225);if(!document[_0x9f7db6(0xcd)](_0x9f7db6(0x196))){const _0x47f6e9=document[_0x9f7db6(0x19a)](_0x9f7db6(0x1a1));_0x47f6e9['id']=_0x9f7db6(0x196),_0x47f6e9[_0x9f7db6(0x170)]=_0x9f7db6(0x116),_0x47f6e9[_0x9f7db6(0xf3)][_0x9f7db6(0x136)]=_0x9f7db6(0x15c),_0x47f6e9[_0x9f7db6(0xf3)][_0x9f7db6(0x21f)]=_0x9f7db6(0xa8),_0x47f6e9[_0x9f7db6(0xe1)]=_0x9f7db6(0x199),_0x47f6e9[_0x9f7db6(0x21e)]=_0x9f7db6(0x1a1),_0x3b1271[_0x9f7db6(0x144)][_0x9f7db6(0x22c)](_0x47f6e9,_0x3b1271),_0x47f6e9[_0x9f7db6(0x1f5)](_0x9f7db6(0x119),function(_0x3fe79c){const _0x18ab9c=_0x9f7db6;_0x3fe79c[_0x18ab9c(0xf6)](),_0x1574ce[_0x18ab9c(0xef)](),_0x1574ce[_0x18ab9c(0x209)](_0x18ab9c(0x197)),_0x3b1271[_0x18ab9c(0xe1)]=_0x18ab9c(0x217),this[_0x18ab9c(0x1ee)](),initReportForm();});}_0x1574ce[_0x9f7db6(0xcb)]({'behavior':_0x9f7db6(0x1d4)});}function initReportForm(){const _0x11437=a52_0xbc04d6;console[_0x11437(0x154)](_0x11437(0x228));}export function showMatchLightbox(_0x3050c5){const _0x2eccc9=a52_0xbc04d6,_0x52081b=document[_0x2eccc9(0xcd)](_0x2eccc9(0xa5));document[_0x2eccc9(0xcd)](_0x2eccc9(0x11d))[_0x2eccc9(0xe1)]=currentGameMode,document[_0x2eccc9(0xcd)](_0x2eccc9(0xf4))[_0x2eccc9(0xe1)]=_0x3050c5[_0x2eccc9(0x1bd)]||_0x2eccc9(0x97),document[_0x2eccc9(0xcd)](_0x2eccc9(0x11e))[_0x2eccc9(0xe1)]=_0x3050c5[_0x2eccc9(0x15a)]||_0x2eccc9(0x97),document[_0x2eccc9(0xcd)](_0x2eccc9(0x1a7))[_0x2eccc9(0xe1)]=_0x3050c5[_0x2eccc9(0x1f0)]||'0',document[_0x2eccc9(0xcd)](_0x2eccc9(0x188))[_0x2eccc9(0xe1)]=_0x3050c5[_0x2eccc9(0x1a0)]||'0',document[_0x2eccc9(0xcd)](_0x2eccc9(0x1b6))[_0x2eccc9(0xe1)]=_0x3050c5[_0x2eccc9(0xf9)]||_0x2eccc9(0x97),document[_0x2eccc9(0xcd)](_0x2eccc9(0x19e))[_0x2eccc9(0xe1)]=_0x3050c5[_0x2eccc9(0x95)]||_0x2eccc9(0x162),document[_0x2eccc9(0xcd)](_0x2eccc9(0x106))[_0x2eccc9(0xe1)]=_0x3050c5[_0x2eccc9(0x1bf)]||_0x2eccc9(0x15d),_0x52081b[_0x2eccc9(0xca)][_0x2eccc9(0xe4)](_0x2eccc9(0x102));}export function setCurrentGameMode(_0x2ada0c){currentGameMode=_0x2ada0c;}export function initOutstandingMatches(){const _0x3c617c=a52_0xbc04d6;document[_0x3c617c(0x1f5)](_0x3c617c(0xa1),()=>{const _0x51f9a1=_0x3c617c,_0x2e4ff7=document[_0x51f9a1(0xcd)](_0x51f9a1(0x1b2)),_0x315823=document[_0x51f9a1(0xcd)](_0x51f9a1(0x1ad)),_0x272db2=document[_0x51f9a1(0xcd)](_0x51f9a1(0x18b)),_0x49d812=document[_0x51f9a1(0xcd)](_0x51f9a1(0xf2)),_0x5da16c=document[_0x51f9a1(0xcd)](_0x51f9a1(0x1c0)),_0x284891=document[_0x51f9a1(0xcd)](_0x51f9a1(0x185)),_0x361f20=document[_0x51f9a1(0xcd)](_0x51f9a1(0xd0)),_0x3a583d=document[_0x51f9a1(0xcd)](_0x51f9a1(0xc9)),_0x16c0e3=document[_0x51f9a1(0xcd)](_0x51f9a1(0x10e)),_0x46680c=document[_0x51f9a1(0xcd)](_0x51f9a1(0x10c)),_0x2aaaa6=document[_0x51f9a1(0xcd)](_0x51f9a1(0xbe));if(_0x3a583d)_0x3a583d[_0x51f9a1(0x1f5)](_0x51f9a1(0x119),()=>{setCurrentGameMode('D1');});if(_0x16c0e3)_0x16c0e3[_0x51f9a1(0x1f5)](_0x51f9a1(0x119),()=>{setCurrentGameMode('D2');});if(_0x46680c)_0x46680c[_0x51f9a1(0x1f5)](_0x51f9a1(0x119),()=>{setCurrentGameMode('D3');});if(_0x2aaaa6)_0x2aaaa6[_0x51f9a1(0x1f5)](_0x51f9a1(0x119),()=>{const _0x4fb0b0=_0x51f9a1;setCurrentGameMode(_0x4fb0b0(0x1fa));});auth[_0x51f9a1(0x16f)](_0x4e1ade=>{const _0x403704=_0x51f9a1;if(_0x4e1ade){if(_0x315823)_0x315823[_0x403704(0xf3)][_0x403704(0x1a9)]=_0x403704(0x181);if(_0x49d812)_0x49d812[_0x403704(0xf3)][_0x403704(0x1a9)]=_0x403704(0x181);}else{if(_0x315823)_0x315823[_0x403704(0xf3)][_0x403704(0x1a9)]=_0x403704(0xb1);if(_0x49d812)_0x49d812[_0x403704(0xf3)][_0x403704(0x1a9)]=_0x403704(0xb1);}});_0x2e4ff7&&_0x2e4ff7[_0x51f9a1(0x1f5)](_0x51f9a1(0x119),async()=>{const _0x1a39d9=_0x51f9a1;_0x5da16c[_0x1a39d9(0xca)][_0x1a39d9(0xe4)](_0x1a39d9(0x102)),document[_0x1a39d9(0xcd)](_0x1a39d9(0x1bc))[_0x1a39d9(0x1f6)]=_0x1a39d9(0x10d),await fetchOutstandingMatches(),renderOutstandingMatches();});_0x272db2&&_0x272db2[_0x51f9a1(0x1f5)](_0x51f9a1(0x119),async()=>{const _0x50e724=_0x51f9a1;setCurrentGameMode(_0x50e724(0x1fa)),_0x5da16c[_0x50e724(0xca)][_0x50e724(0xe4)](_0x50e724(0x102)),document[_0x50e724(0xcd)](_0x50e724(0x1bc))[_0x50e724(0x1f6)]=_0x50e724(0xae),await fetchOutstandingMatches(),renderOutstandingMatchesFFA();});_0x284891&&_0x284891[_0x51f9a1(0x1f5)](_0x51f9a1(0x119),()=>{const _0x5033de=_0x51f9a1;_0x5da16c[_0x5033de(0xca)][_0x5033de(0x1ee)](_0x5033de(0x102));});_0x361f20&&_0x361f20[_0x51f9a1(0x1f5)](_0x51f9a1(0x119),()=>{const _0x1407e9=_0x51f9a1;document[_0x1407e9(0xcd)](_0x1407e9(0xa5))[_0x1407e9(0xca)][_0x1407e9(0x1ee)](_0x1407e9(0x102));});_0x5da16c&&_0x5da16c[_0x51f9a1(0x1f5)](_0x51f9a1(0x119),_0x58999c=>{const _0x22b8cb=_0x51f9a1;_0x58999c[_0x22b8cb(0x9d)]===_0x5da16c&&_0x5da16c[_0x22b8cb(0xca)][_0x22b8cb(0x1ee)](_0x22b8cb(0x102));});const _0x5341f2=document[_0x51f9a1(0xcd)](_0x51f9a1(0xa5));_0x5341f2&&_0x5341f2[_0x51f9a1(0x1f5)](_0x51f9a1(0x119),_0x3b763a=>{const _0x105350=_0x51f9a1;_0x3b763a[_0x105350(0x9d)]===_0x5341f2&&_0x5341f2[_0x105350(0xca)][_0x105350(0x1ee)](_0x105350(0x102));});const _0x5eb71d=document[_0x51f9a1(0xcd)](_0x51f9a1(0x12d));if(_0x5eb71d){const _0x5a6871=_0x5eb71d[_0x51f9a1(0x1f4)];_0x5eb71d[_0x51f9a1(0x1f4)]=async function(_0x39aa56){const _0x2f3922=_0x51f9a1;_0x39aa56[_0x2f3922(0xf6)]();const _0x28fce2=this[_0x2f3922(0x1c8)](_0x2f3922(0x197));if(_0x28fce2)try{const _0x5cf145=document[_0x2f3922(0xcd)](_0x2f3922(0x1ae))[_0x2f3922(0xb2)],_0x475a3a=document[_0x2f3922(0xcd)](_0x2f3922(0x1c4))[_0x2f3922(0xb2)],_0x5c1870=document[_0x2f3922(0xcd)](_0x2f3922(0x142))[_0x2f3922(0xb2)],_0x4f6afa=document[_0x2f3922(0xcd)](_0x2f3922(0x1fe))[_0x2f3922(0xb2)],_0x5003df=currentGameMode==='D1'?_0x2f3922(0x1f9):currentGameMode==='D2'?_0x2f3922(0x22e):_0x2f3922(0x103),_0x5cbc76=doc(db,_0x5003df,_0x28fce2);await updateDoc(_0x5cbc76,{'loserScore':Number(_0x5cf145),'loserSuicides':Number(_0x475a3a),'mapPlayed':_0x5c1870,'loserComment':_0x4f6afa,'subgameType':document[_0x2f3922(0xcd)](_0x2f3922(0x1cd))[_0x2f3922(0xb2)],'updatedAt':new Date()}),alert(_0x2f3922(0xf7)),this[_0x2f3922(0xef)](),this[_0x2f3922(0x209)](_0x2f3922(0x197));const _0x30c8cb=this[_0x2f3922(0x1d8)](_0x2f3922(0x212));_0x30c8cb[_0x2f3922(0xe1)]=_0x2f3922(0x217);const _0x5e5545=document[_0x2f3922(0xcd)](_0x2f3922(0x196));if(_0x5e5545)_0x5e5545[_0x2f3922(0x1ee)]();}catch(_0x3c4e5d){console[_0x2f3922(0x1a2)](_0x2f3922(0x9a),_0x3c4e5d),document[_0x2f3922(0xcd)](_0x2f3922(0x13e))[_0x2f3922(0xe1)]=_0x2f3922(0x16c);}else typeof _0x5a6871===_0x2f3922(0x202)&&_0x5a6871[_0x2f3922(0xd2)](this,_0x39aa56);};}});}typeof window!==a52_0xbc04d6(0x194)&&(window[a52_0xbc04d6(0x179)]=showMatchLightbox,window[a52_0xbc04d6(0x1a3)]=editReport,window[a52_0xbc04d6(0x145)]=rescindReport,window[a52_0xbc04d6(0x1df)]=fetchOutstandingMatches,window[a52_0xbc04d6(0xed)]=renderOutstandingMatches);initOutstandingMatches();