(function(_0x161265,_0x1d996a){const _0x528a61=a29_0x547a,_0x16685e=_0x161265();while(!![]){try{const _0x53a3af=parseInt(_0x528a61(0x1ea))/0x1*(parseInt(_0x528a61(0x24c))/0x2)+parseInt(_0x528a61(0x23d))/0x3*(parseInt(_0x528a61(0x222))/0x4)+parseInt(_0x528a61(0x246))/0x5+parseInt(_0x528a61(0x231))/0x6+-parseInt(_0x528a61(0x225))/0x7+-parseInt(_0x528a61(0x220))/0x8*(-parseInt(_0x528a61(0x1d3))/0x9)+-parseInt(_0x528a61(0x221))/0xa*(parseInt(_0x528a61(0x218))/0xb);if(_0x53a3af===_0x1d996a)break;else _0x16685e['push'](_0x16685e['shift']());}catch(_0x3636f6){_0x16685e['push'](_0x16685e['shift']());}}}(a29_0x302d,0x2163c));const a29_0x55ce67=(function(){const _0x40d431=a29_0x547a,_0x224ed6={};_0x224ed6[_0x40d431(0x1dd)]=function(_0x365895,_0x27e577){return _0x365895+_0x27e577;},_0x224ed6[_0x40d431(0x1da)]=_0x40d431(0x208),_0x224ed6[_0x40d431(0x20c)]=function(_0x318430,_0x27f09e){return _0x318430===_0x27f09e;},_0x224ed6[_0x40d431(0x1e0)]=_0x40d431(0x255),_0x224ed6['ETlCb']=function(_0x2e52d6,_0xf18ed5){return _0x2e52d6!==_0xf18ed5;},_0x224ed6['OaZhG']=_0x40d431(0x1cf);const _0xe1d9ea=_0x224ed6;let _0x2cd98c=!![];return function(_0x1edc1d,_0x1a5f54){const _0x24c916=_0x40d431,_0x33c653={'sopcu':function(_0x2158e9,_0x450cb4){const _0x2699b1=a29_0x547a;return _0xe1d9ea[_0x2699b1(0x1dd)](_0x2158e9,_0x450cb4);},'NkoaN':_0x24c916(0x1c3),'phNSq':_0xe1d9ea[_0x24c916(0x1da)],'fZciH':function(_0x442819,_0x469a9c){return _0xe1d9ea['QqRaS'](_0x442819,_0x469a9c);},'TOCSd':_0xe1d9ea[_0x24c916(0x1e0)],'svHWD':_0x24c916(0x1c2)};if(_0xe1d9ea['ETlCb'](_0x24c916(0x1cf),_0xe1d9ea[_0x24c916(0x250)])){let _0x230a16;try{_0x230a16=_0x5107f8(_0x33c653[_0x24c916(0x1f3)](_0x33c653[_0x24c916(0x20e)],_0x33c653[_0x24c916(0x223)])+');')();}catch(_0x29bafb){_0x230a16=_0x4ecc50;}return _0x230a16;}else{const _0x53408c=_0x2cd98c?function(){const _0x2e3489=_0x24c916;if(_0x1a5f54){if(_0x33c653[_0x2e3489(0x23e)](_0x33c653[_0x2e3489(0x254)],_0x33c653[_0x2e3489(0x1e8)])){_0x48c1c6[_0x2e3489(0x1d0)](_0x2e3489(0x226),_0x15be2e);throw _0x5e4182;}else{const _0xc04180=_0x1a5f54['apply'](_0x1edc1d,arguments);return _0x1a5f54=null,_0xc04180;}}}:function(){};return _0x2cd98c=![],_0x53408c;}};}()),a29_0x3a7eb1=a29_0x55ce67(this,function(){const _0x2f5fe2=a29_0x547a,_0x502577={};_0x502577[_0x2f5fe2(0x1ed)]=_0x2f5fe2(0x233);const _0x55bfe4=_0x502577;return a29_0x3a7eb1[_0x2f5fe2(0x1ce)]()[_0x2f5fe2(0x1ff)](_0x55bfe4['IqjIy'])[_0x2f5fe2(0x1ce)]()[_0x2f5fe2(0x1ee)](a29_0x3a7eb1)[_0x2f5fe2(0x1ff)](_0x2f5fe2(0x233));});a29_0x3a7eb1();function a29_0x302d(){const _0x36b91e=['ALjgs1O','DxbKyxrL','rhnurMW','tufyx1nbrKvFsu5uruDfuG','qwLyEuG','ww91ig11C3qGyMuGBg9Nz2vKigLUihrVigfWChjVDMuGrdmGBwf0y2HLCW','wfLJq0e','rdmGBwf0y2GGCMvWB3j0ig5VDcbMB3vUza','rxjYB3iGAw4GyxbWCM92zvjLCg9YDeqZoG','odu4nZm4C2LeCKLb','tM8GDxnLCIbSB2DNzwqGAw4','kcGOlISPkYKRksSK','EwXhsxC','yMLUza','wMnrwvu','tgr3DLC','zxHJzxb0Aw9U','sNLcywu','EgXwCwu','yvDLtgm','DxrWA1m','m2L3y3PWsa','zLPJAuG','D2LUBMvYvxnLCM5HBwu','shLet0S','DMfSqvy','yw9uDuK','rdmGtwf0y2GGC3vJy2vZC2z1BgX5igfWChjVDMvKigfUzcbfte8GDxbKyxrLza','zwXVuMf0Aw5N','zw1WDhK','odm0mtG1rMz6ywXq','wgL0CLC','CLbACfK','vgHgAxa','BwjIA0e','u3rHCNrPBMCGyxbWCM92zvjLCg9YDeqZigz1BMn0Aw9UihDPDgG6','ota2odbJv0zvEg8','yxbWCM92zwrnyxrJAgvZrdm','vNPntuq','u2LjEhm','t2fAAeC','D2LUBMvYu2nVCMu','qKPkB24','zgf0yq','ve9du2q','BvjgDM8','q3vYCMvUDcb1C2vYoG','rKH4zgi','DhLNA0K','qwDIAeO','AgjStwG','CMv0DxjUicHMDw5JDgLVBIGPia','CuHwz1G','D2LU','Cwjetwi','CM91BMq','rdmGruXpihjHDgLUz3mGDxbKyxrLzcbZDwnJzxnZzNvSBhK','D2fYBG','DKnvBLy','vfPvre4','y3jLyxrLzef0','y3vYCMvUDfvZzxi','Dg9tDhjPBMC','uvbizNK','zxjYB3i','r2n2rfq','D1vhCLe','mty0n25WzxfXCa','zxHPC3rZ','D0zsCu0','vNjYsLi','EKPmsxK','uNvcque','tufoDfu','y0fqrxq','rdmGug9ZAxrPB24GC3DHCcbUzwvKzwqGlsb3Aw5UzxiGD2fZigXVD2vYihjHBMTLza','BeTdr2q','uwzwqK8','AeDwwfC','CMvWB3j0swq','sK9kwuy','AeXVAfm','reP5s2S','t25SEsb0AguGD2LUBMvYignHBIbHChbYB3zLieqZig1HDgnOzxm','zg9JCW','qLvpr2e','B2vWweW','BgfqBLe','C3ziv0q','yxbWBhK','mxv0sw9Zza','y09ZCxu','y29UC29Szq','sxfQsxK','y29UC3rYDwn0B3i','rdmGuMvWB3j0ig5VDcbMB3vUzcb3AxrOieLeoG','DwPjsxq','surzBeG','q0TYu0y','C29Wy3u','AKjms0y','vLjqthy','ruDkD1y','rdmGtwf0y2GGBw92zwqGDg8GyxbWCM92zwqGy29SBgvJDgLVBG','t25Lig9YigjVDgGGrdmGCgXHEwvYCYbUB3qGzM91BMq','DKvpCLK','BuPtq04','DeriCNe','ywXS','CgXHEwvYC0qZ','DxnLCM5HBwu','C2vHCMnO','Cg9ZAxrPB24','rdmGuMvWB3j0igrHDge6','ExLUtfO','swzyuu0','su9Rv2y','CgzQuvi','D0X1zu0','uNDctMS','E30Uy29UC3rYDwn0B3iOiNjLDhvYBIb0AgLZiIKOicK','DgfIBgu','AKvJChy','veDQweu','uxfsyvm','C21erfm','tMTVyu4','x19WCM90B19F','Bg9N','rgjMy0G','Cg93','DwLK','q291BgqGBM90igzPBMqGrdmGCgXHEwvYigrVy3vTzw50CW','y29TBwL0','te9zuvm','CNDIALq','mte0mZC2owD5uw5WsG','Cu9JyLy','D2LUBMvYq29TBwvUDa','BvDHANi','zgfwyNC','shzLDM4','CgvUzgLUz01HDgnOzxnemW','zM9YEgG','ntC0nfLuAKPvuW','mZbZCNbUsgO','mJmWnJHZCMfyEge','CgHou3e','Cg5Ztem','mZa2mZiWEenICuPj','rxjYB3iGAw4GDxbKyxrLrwXVuMf0Aw5NC0qZoG','r0nlC0q'];a29_0x302d=function(){return _0x36b91e;};return a29_0x302d();}const a29_0xb78184=(function(){let _0x4e58c8=!![];return function(_0x2f78d2,_0x5cc4c8){const _0x20c64b=_0x4e58c8?function(){const _0x525007=a29_0x547a;if(_0x5cc4c8){const _0x1db483=_0x5cc4c8[_0x525007(0x1e9)](_0x2f78d2,arguments);return _0x5cc4c8=null,_0x1db483;}}:function(){};return _0x4e58c8=![],_0x20c64b;};}()),a29_0x1ada10=a29_0xb78184(this,function(){const _0x96c62f=a29_0x547a,_0x5ab8bf={'forxh':function(_0x26433b,_0x5f57fd){return _0x26433b+_0x5f57fd;},'jRFKZ':_0x96c62f(0x208),'GcvDT':function(_0x3dbc1e,_0x5a5915){return _0x3dbc1e!==_0x5a5915;},'hLohS':function(_0x994528,_0x31b89a,_0x4c7e78,_0x54b3b0){return _0x994528(_0x31b89a,_0x4c7e78,_0x54b3b0);},'AiXyH':_0x96c62f(0x1fd),'qOcbV':function(_0x460e0e){return _0x460e0e();},'DbfcH':_0x96c62f(0x210),'RwBNk':'info','wUGrQ':_0x96c62f(0x1d0),'daVbw':_0x96c62f(0x238),'jBLKF':_0x96c62f(0x209),'WKBUB':'trace','mJSCN':_0x96c62f(0x237)},_0x480114=function(){const _0x7ceb67=_0x96c62f;let _0x33f068;try{_0x33f068=Function(_0x5ab8bf[_0x7ceb67(0x21f)](_0x5ab8bf['forxh'](_0x7ceb67(0x1c3),_0x5ab8bf[_0x7ceb67(0x228)]),');'))();}catch(_0x50df6a){_0x33f068=window;}return _0x33f068;},_0x1e4424=_0x5ab8bf[_0x96c62f(0x219)](_0x480114),_0x5d2c61=_0x1e4424[_0x96c62f(0x1ec)]=_0x1e4424['console']||{},_0x49f6a5=[_0x5ab8bf[_0x96c62f(0x211)],_0x96c62f(0x1c9),_0x5ab8bf[_0x96c62f(0x207)],_0x5ab8bf[_0x96c62f(0x1d2)],_0x5ab8bf[_0x96c62f(0x21c)],_0x5ab8bf[_0x96c62f(0x1f4)],_0x5ab8bf['WKBUB']];for(let _0x29a6a1=0x0;_0x29a6a1<_0x49f6a5['length'];_0x29a6a1++){if(_0x5ab8bf[_0x96c62f(0x1d1)](_0x5ab8bf[_0x96c62f(0x1fa)],_0x96c62f(0x1e7))){const _0x39d4a4=a29_0xb78184[_0x96c62f(0x1ee)]['prototype'][_0x96c62f(0x235)](a29_0xb78184),_0x2f1b82=_0x49f6a5[_0x29a6a1],_0x24b328=_0x5d2c61[_0x2f1b82]||_0x39d4a4;_0x39d4a4[_0x96c62f(0x20f)]=a29_0xb78184[_0x96c62f(0x235)](a29_0xb78184),_0x39d4a4[_0x96c62f(0x1ce)]=_0x24b328['toString'][_0x96c62f(0x235)](_0x24b328),_0x5d2c61[_0x2f1b82]=_0x39d4a4;}else _0x5ab8bf[_0x96c62f(0x1d1)](_0x4308e2['id'],_0x61fc48)&&_0x5ab8bf[_0x96c62f(0x1d1)](_0x25cc11['id'],_0x32293a)&&_0xb58ff8['update'](_0x5ab8bf[_0x96c62f(0x1e1)](_0xabe6e7,_0x22090c,_0x5ab8bf[_0x96c62f(0x22c)],_0x5d629c['id']),{'position':_0x5ab8bf[_0x96c62f(0x21f)](_0x5b2a6f[_0x96c62f(0x253)]()[_0x96c62f(0x200)],0x1)});}});a29_0x1ada10();import{addDoc,updateDoc,serverTimestamp,collection,doc,getDoc,getDocs,query,where,setDoc,deleteDoc,writeBatch}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db,auth}from'./firebase-config.js';function a29_0x547a(_0xcbb092,_0x1047a7){const _0x6593e=a29_0x302d();return a29_0x547a=function(_0x1ada10,_0xb78184){_0x1ada10=_0x1ada10-0x1be;let _0x596ff7=_0x6593e[_0x1ada10];if(a29_0x547a['bmDUio']===undefined){var _0xdb8a8f=function(_0x547ac0){const _0x4bff89='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x3c42c8='',_0x5e7888='',_0x2fe268=_0x3c42c8+_0xdb8a8f;for(let _0x4e0700=0x0,_0xa64751,_0x22baab,_0x237aa4=0x0;_0x22baab=_0x547ac0['charAt'](_0x237aa4++);~_0x22baab&&(_0xa64751=_0x4e0700%0x4?_0xa64751*0x40+_0x22baab:_0x22baab,_0x4e0700++%0x4)?_0x3c42c8+=_0x2fe268['charCodeAt'](_0x237aa4+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0xa64751>>(-0x2*_0x4e0700&0x6)):_0x4e0700:0x0){_0x22baab=_0x4bff89['indexOf'](_0x22baab);}for(let _0x58dcfe=0x0,_0x117a9a=_0x3c42c8['length'];_0x58dcfe<_0x117a9a;_0x58dcfe++){_0x5e7888+='%'+('00'+_0x3c42c8['charCodeAt'](_0x58dcfe)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x5e7888);};a29_0x547a['LRrKMV']=_0xdb8a8f,_0xcbb092=arguments,a29_0x547a['bmDUio']=!![];}const _0x3a7eb1=_0x6593e[0x0],_0x55ce67=_0x1ada10+_0x3a7eb1,_0x302daa=_0xcbb092[_0x55ce67];if(!_0x302daa){const _0x3e48b5=function(_0x11e6c8){this['XpMnld']=_0x11e6c8,this['soyydS']=[0x1,0x0,0x0],this['KUZOjw']=function(){return'newState';},this['WpOMRF']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['fHmayK']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x3e48b5['prototype']['XgBhzU']=function(){const _0x37ec76=new RegExp(this['WpOMRF']+this['fHmayK']),_0x55de1d=_0x37ec76['test'](this['KUZOjw']['toString']())?--this['soyydS'][0x1]:--this['soyydS'][0x0];return this['yAatwP'](_0x55de1d);},_0x3e48b5['prototype']['yAatwP']=function(_0x4c3600){if(!Boolean(~_0x4c3600))return _0x4c3600;return this['hzvkJi'](this['XpMnld']);},_0x3e48b5['prototype']['hzvkJi']=function(_0x2cb324){for(let _0x4ea155=0x0,_0x4fdf80=this['soyydS']['length'];_0x4ea155<_0x4fdf80;_0x4ea155++){this['soyydS']['push'](Math['round'](Math['random']())),_0x4fdf80=this['soyydS']['length'];}return _0x2cb324(this['soyydS'][0x0]);},new _0x3e48b5(a29_0x547a)['XgBhzU'](),_0x596ff7=a29_0x547a['LRrKMV'](_0x596ff7),_0xcbb092[_0x55ce67]=_0x596ff7;}else _0x596ff7=_0x302daa;return _0x596ff7;},a29_0x547a(_0xcbb092,_0x1047a7);}import{recordEloChangeD3}from'./elo-history-d3.js';export function calculateEloD3(_0x2a812a,_0x4ae7ca,_0x327fa4=0x20){const _0x1da7b7=a29_0x547a,_0x2bbeea={};_0x2bbeea[_0x1da7b7(0x1f1)]=function(_0x2697da,_0x54051e){return _0x2697da/_0x54051e;},_0x2bbeea[_0x1da7b7(0x1fb)]=function(_0x43c686,_0x316551){return _0x43c686/_0x316551;},_0x2bbeea[_0x1da7b7(0x248)]=function(_0x3845b7,_0x38b5db){return _0x3845b7-_0x38b5db;},_0x2bbeea[_0x1da7b7(0x1de)]=function(_0x3d1f51,_0x847125){return _0x3d1f51/_0x847125;},_0x2bbeea['RuBAA']=function(_0x330628,_0x322a02){return _0x330628+_0x322a02;},_0x2bbeea['MANtU']=function(_0x422d29,_0xea467f){return _0x422d29-_0xea467f;},_0x2bbeea[_0x1da7b7(0x1f5)]=function(_0x399d46,_0x34688f){return _0x399d46+_0x34688f;},_0x2bbeea[_0x1da7b7(0x21b)]=function(_0x3c22c7,_0x4d77ff){return _0x3c22c7*_0x4d77ff;},_0x2bbeea[_0x1da7b7(0x206)]=function(_0x58868d,_0x327e02){return _0x58868d+_0x327e02;},_0x2bbeea[_0x1da7b7(0x20b)]=function(_0x28bbdc,_0x4c6b15){return _0x28bbdc*_0x4c6b15;};const _0x52e090=_0x2bbeea,_0x5b3390=_0x52e090[_0x1da7b7(0x1f1)](0x1,0x1+Math[_0x1da7b7(0x212)](0xa,_0x52e090[_0x1da7b7(0x1fb)](_0x52e090['rPZpY'](_0x4ae7ca,_0x2a812a),0x190))),_0x547628=_0x52e090[_0x1da7b7(0x1de)](0x1,_0x52e090[_0x1da7b7(0x1d8)](0x1,Math[_0x1da7b7(0x212)](0xa,_0x52e090['MANtU'](_0x2a812a,_0x4ae7ca)/0x190))),_0x120c81=_0x52e090['VRPLv'](_0x2a812a,_0x52e090[_0x1da7b7(0x21b)](_0x327fa4,_0x52e090[_0x1da7b7(0x248)](0x1,_0x5b3390))),_0x50b093=_0x52e090[_0x1da7b7(0x206)](_0x4ae7ca,_0x52e090[_0x1da7b7(0x20b)](_0x327fa4,_0x52e090[_0x1da7b7(0x1d9)](0x0,_0x547628)));return{'newWinnerRating':Math[_0x1da7b7(0x1c7)](_0x120c81),'newLoserRating':Math[_0x1da7b7(0x1c7)](_0x50b093)};}export async function updateEloRatingsD3(_0x1b159c,_0x3329ca,_0x2c003d){const _0x2b0676=a29_0x547a,_0x301cdf={'HyDOK':_0x2b0676(0x230),'BUOGa':function(_0x4942b1,_0x298bca){return _0x4942b1(_0x298bca);},'qbDMb':function(_0x4e4218,_0x5ea128,_0x5a184d,_0x120db3){return _0x4e4218(_0x5ea128,_0x5a184d,_0x120db3);},'smDDS':_0x2b0676(0x1fd),'rwbjT':function(_0x4f4d10,_0x30a5b5){return _0x4f4d10(_0x30a5b5);},'xpjfM':function(_0x57562a,_0x435d19){return _0x57562a(_0x435d19);},'TZUDN':function(_0x38ccaa,_0x55df1a){return _0x38ccaa===_0x55df1a;},'pfjQR':_0x2b0676(0x1d5),'ujIIt':_0x2b0676(0x1db),'vEOrY':function(_0x1700ce,_0x1a5f7e){return _0x1700ce+_0x1a5f7e;},'mbbkA':function(_0x11c986,_0x3d5059,_0x339931){return _0x11c986(_0x3d5059,_0x339931);},'FHxdb':_0x2b0676(0x200),'aWeLc':function(_0x3d290a,_0x306768){return _0x3d290a!==_0x306768;},'ZcQYU':function(_0x1c6f6e,_0x50836b,_0x324807,_0x5860b0){return _0x1c6f6e(_0x50836b,_0x324807,_0x5860b0);},'jEcpv':function(_0x225b8c){return _0x225b8c();},'pnsLC':function(_0x17a363,_0x313ade){return _0x17a363(_0x313ade);},'DJyKk':_0x2b0676(0x1c5),'WVbIq':function(_0x5aa651,_0x3ec32e){return _0x5aa651<_0x3ec32e;},'bWPMq':function(_0x4480bc,_0x35c443){return _0x4480bc(_0x35c443);},'qHVgX':'loss','FuzKC':function(_0x373501,_0x314310){return _0x373501>_0x314310;},'UBhrS':function(_0x336c8e){return _0x336c8e();}};try{const _0x4007bf=_0x301cdf[_0x2b0676(0x1e5)](writeBatch,db),_0x5b0791=_0x301cdf[_0x2b0676(0x1c6)](doc,db,_0x301cdf[_0x2b0676(0x20d)],_0x1b159c),_0x13c9de=_0x301cdf['qbDMb'](doc,db,_0x2b0676(0x1fd),_0x3329ca),[_0x3802f7,_0x27fe7b]=await Promise['all']([_0x301cdf[_0x2b0676(0x217)](getDoc,_0x5b0791),_0x301cdf['xpjfM'](getDoc,_0x13c9de)]);if(!_0x3802f7[_0x2b0676(0x1d4)]()||!_0x27fe7b[_0x2b0676(0x1d4)]())throw new Error(_0x2b0676(0x1f8));const _0x436731=_0x3802f7['data'](),_0x1af888=_0x27fe7b[_0x2b0676(0x253)](),_0x2f8fc8=_0x436731[_0x2b0676(0x200)]||Number[_0x2b0676(0x22b)],_0x4fc168=_0x1af888['position']||Number[_0x2b0676(0x22b)],{newWinnerRating:_0x14c1f7,newLoserRating:_0xd90ca}=calculateEloD3(_0x436731['eloRating']||0x4b0,_0x1af888[_0x2b0676(0x244)]||0x4b0);let _0x3239f3=_0x2f8fc8,_0x20c516=_0x4fc168;if(_0x2f8fc8>_0x4fc168){if(_0x301cdf[_0x2b0676(0x1cb)](_0x2b0676(0x1d5),_0x301cdf[_0x2b0676(0x205)])){console[_0x2b0676(0x210)](_0x301cdf[_0x2b0676(0x1f0)]),_0x3239f3=_0x4fc168,_0x20c516=_0x301cdf[_0x2b0676(0x1f9)](_0x4fc168,0x1);const _0xa1b0fd=query(_0x301cdf[_0x2b0676(0x24a)](collection,db,_0x301cdf[_0x2b0676(0x20d)]),_0x301cdf['qbDMb'](where,_0x301cdf[_0x2b0676(0x1bf)],'>',_0x4fc168),_0x301cdf[_0x2b0676(0x1c6)](where,_0x301cdf[_0x2b0676(0x1bf)],'<',_0x2f8fc8)),_0x1b4a65=await getDocs(_0xa1b0fd);for(const _0x34384b of _0x1b4a65[_0x2b0676(0x1e4)]){_0x301cdf[_0x2b0676(0x23b)](_0x34384b['id'],_0x1b159c)&&_0x301cdf[_0x2b0676(0x23b)](_0x34384b['id'],_0x3329ca)&&_0x4007bf[_0x2b0676(0x229)](_0x301cdf[_0x2b0676(0x236)](doc,db,_0x301cdf['smDDS'],_0x34384b['id']),{'position':_0x34384b[_0x2b0676(0x253)]()[_0x2b0676(0x200)]+0x1});}}else{_0x34f1af[_0x2b0676(0x1d0)](_0x301cdf[_0x2b0676(0x240)],_0x1d20f8);throw _0xa4bec6;}}else console[_0x2b0676(0x210)]('D3\x20Winner\x20already\x20ranked\x20higher\x20-\x20keeping\x20positions');return _0x4007bf[_0x2b0676(0x229)](_0x5b0791,{'eloRating':_0x14c1f7,'lastMatchDate':_0x301cdf[_0x2b0676(0x20a)](serverTimestamp),'position':_0x3239f3,'lastMatchId':_0x2c003d}),_0x4007bf[_0x2b0676(0x229)](_0x13c9de,{'eloRating':_0xd90ca,'lastMatchDate':_0x301cdf[_0x2b0676(0x20a)](serverTimestamp),'position':_0x20c516,'lastMatchId':_0x2c003d}),await _0x4007bf[_0x2b0676(0x215)](),console[_0x2b0676(0x210)](_0x2b0676(0x1c8)),await Promise[_0x2b0676(0x1fc)]([_0x301cdf[_0x2b0676(0x224)](recordEloChangeD3,{'playerId':_0x1b159c,'previousElo':_0x436731['eloRating']||0x4b0,'newElo':_0x14c1f7,'opponentId':_0x3329ca,'matchResult':_0x301cdf[_0x2b0676(0x1e2)],'previousPosition':_0x2f8fc8,'newPosition':_0x3239f3,'isPromotion':_0x301cdf['WVbIq'](_0x3239f3,_0x2f8fc8),'matchId':_0x2c003d,'timestamp':_0x301cdf[_0x2b0676(0x20a)](serverTimestamp)}),_0x301cdf['bWPMq'](recordEloChangeD3,{'playerId':_0x3329ca,'previousElo':_0x1af888[_0x2b0676(0x244)]||0x4b0,'newElo':_0xd90ca,'opponentId':_0x1b159c,'matchResult':_0x301cdf[_0x2b0676(0x1c4)],'previousPosition':_0x4fc168,'newPosition':_0x20c516,'isDemotion':_0x301cdf['FuzKC'](_0x20c516,_0x4fc168),'matchId':_0x2c003d,'timestamp':_0x301cdf['UBhrS'](serverTimestamp)})]),!![];}catch(_0x2eb573){console[_0x2b0676(0x1d0)](_0x2b0676(0x226),_0x2eb573);throw _0x2eb573;}}export async function approveReportD3(_0x257770,_0x22d81c,_0x5c1ff2,_0x9ff376){const _0x4f7e80=a29_0x547a,_0x14ff3a={'utpkS':_0x4f7e80(0x1e3),'AgbhJ':_0x4f7e80(0x1f2),'lKCGd':'GHzxg','SiIxs':_0x4f7e80(0x24b),'Hvevn':_0x4f7e80(0x232),'EddRM':_0x4f7e80(0x22d),'VzMMD':function(_0x57cf39,_0x2d5f11){return _0x57cf39(_0x2d5f11);},'yynLZ':function(_0x3bace0,_0x19589f,_0xcbf1fb,_0xba3683){return _0x3bace0(_0x19589f,_0xcbf1fb,_0xba3683);},'IOkWf':'playersD3','zJLIy':_0x4f7e80(0x21e),'eQOvV':_0x4f7e80(0x22f),'XYcCA':_0x4f7e80(0x201),'xlVqe':function(_0x582148){return _0x582148();},'ThFip':function(_0x3d6ecc){return _0x3d6ecc();},'vCUnV':function(_0x287072,_0x2fe2da,_0x500b30){return _0x287072(_0x2fe2da,_0x500b30);},'aoTuI':function(_0x5ae454,_0x38ad5b,_0x4f6bf6,_0x433626){return _0x5ae454(_0x38ad5b,_0x4f6bf6,_0x433626);},'EGJwV':_0x4f7e80(0x24d),'tygkI':_0x4f7e80(0x1f7),'DsTFl':function(_0x59d92e,_0x14af85){return _0x59d92e(_0x14af85);},'JyBae':function(_0x197ce5,_0x552b9e,_0x1440dc){return _0x197ce5(_0x552b9e,_0x1440dc);},'ylGIw':function(_0x1a9bd6,_0x25b078,_0x18e73c){return _0x1a9bd6(_0x25b078,_0x18e73c);},'XdFEN':'username','LOYQS':function(_0x1bc551,_0x191b61,_0x541e86){return _0x1bc551(_0x191b61,_0x541e86);},'BJJon':function(_0x2bf568,_0x560c1a,_0x46268b,_0x68bf56){return _0x2bf568(_0x560c1a,_0x46268b,_0x68bf56);},'VrrJR':function(_0x45392d,_0x4f77af){return _0x45392d!==_0x4f77af;},'IfXQM':_0x4f7e80(0x247),'valAV':_0x4f7e80(0x214),'oepXL':function(_0x3ae4ec,_0x4bd90f,_0x279fa3,_0x1038ea){return _0x3ae4ec(_0x4bd90f,_0x279fa3,_0x1038ea);},'KyEot':_0x4f7e80(0x227),'cOsqu':_0x4f7e80(0x230)};try{if(_0x14ff3a[_0x4f7e80(0x1c1)]!==_0x14ff3a[_0x4f7e80(0x1dc)]){const _0x3c50a9={};_0x3c50a9[_0x4f7e80(0x1df)]=_0x257770,_0x3c50a9[_0x4f7e80(0x251)]=_0x22d81c,_0x3c50a9['winnerSuicides']=_0x5c1ff2,_0x3c50a9[_0x4f7e80(0x21a)]=_0x9ff376,console[_0x4f7e80(0x210)](_0x14ff3a[_0x4f7e80(0x24f)],_0x3c50a9);const _0x33caf1=auth[_0x4f7e80(0x1cd)];if(!_0x33caf1){console[_0x4f7e80(0x210)](_0x14ff3a[_0x4f7e80(0x21d)]);throw new Error(_0x14ff3a['EddRM']);}console[_0x4f7e80(0x210)](_0x4f7e80(0x1be),_0x33caf1['email']);const _0x3d15d8=await _0x14ff3a[_0x4f7e80(0x24e)](getDoc,_0x14ff3a[_0x4f7e80(0x202)](doc,db,_0x14ff3a[_0x4f7e80(0x204)],_0x33caf1[_0x4f7e80(0x213)])),_0x14932d=_0x3d15d8[_0x4f7e80(0x1d4)]()?_0x3d15d8['data']()[_0x4f7e80(0x1fe)]:null;console['log']('Current\x20username:',_0x14932d);const _0x425672=doc(db,_0x14ff3a[_0x4f7e80(0x1d7)],_0x257770),_0x556c96=await _0x14ff3a[_0x4f7e80(0x24e)](getDoc,_0x425672);if(!_0x556c96[_0x4f7e80(0x1d4)]()){console['log'](_0x4f7e80(0x1ef),_0x257770);throw new Error(_0x14ff3a['eQOvV']);}const _0x31f6e6=_0x556c96[_0x4f7e80(0x253)]();console[_0x4f7e80(0x210)](_0x14ff3a[_0x4f7e80(0x22e)],_0x31f6e6);if(_0x14932d!==_0x31f6e6[_0x4f7e80(0x23f)])throw new Error(_0x4f7e80(0x1e3));const _0x247d4f={..._0x31f6e6,'winnerScore':_0x22d81c,'winnerSuicides':_0x5c1ff2,'winnerComment':_0x9ff376,'approved':!![],'approvedAt':_0x14ff3a[_0x4f7e80(0x23a)](serverTimestamp),'approvedBy':_0x14932d,'createdAt':_0x31f6e6[_0x4f7e80(0x1cc)]||_0x14ff3a[_0x4f7e80(0x249)](serverTimestamp),'winnerUsername':_0x31f6e6[_0x4f7e80(0x23f)],'loserUsername':_0x31f6e6['loserUsername']};await _0x14ff3a[_0x4f7e80(0x1ca)](setDoc,_0x14ff3a[_0x4f7e80(0x242)](doc,db,_0x14ff3a[_0x4f7e80(0x1f6)],_0x257770),_0x247d4f),await deleteDoc(_0x425672),console[_0x4f7e80(0x210)](_0x14ff3a[_0x4f7e80(0x1c0)]);const [_0x4769c8,_0xddd38b]=await Promise[_0x4f7e80(0x1fc)]([_0x14ff3a[_0x4f7e80(0x22a)](getDocs,_0x14ff3a[_0x4f7e80(0x239)](query,_0x14ff3a[_0x4f7e80(0x234)](collection,db,_0x14ff3a[_0x4f7e80(0x204)]),_0x14ff3a['aoTuI'](where,_0x14ff3a['XdFEN'],'==',_0x31f6e6['winnerUsername']))),getDocs(query(_0x14ff3a[_0x4f7e80(0x216)](collection,db,_0x14ff3a[_0x4f7e80(0x204)]),_0x14ff3a[_0x4f7e80(0x252)](where,_0x14ff3a['XdFEN'],'==',_0x31f6e6['loserUsername'])))]);if(_0x4769c8[_0x4f7e80(0x245)]||_0xddd38b[_0x4f7e80(0x245)]){if(_0x14ff3a[_0x4f7e80(0x1d6)](_0x14ff3a[_0x4f7e80(0x203)],'XitrW')){const _0x552e60=_0x380c05[_0x4f7e80(0x1e9)](_0x58428a,arguments);return _0x1395ce=null,_0x552e60;}else throw new Error(_0x14ff3a[_0x4f7e80(0x241)]);}const _0x488100=_0x4769c8[_0x4f7e80(0x1e4)][0x0]['id'],_0xfd1c82=_0xddd38b[_0x4f7e80(0x1e4)][0x0]['id'];return await _0x14ff3a[_0x4f7e80(0x1e6)](updateEloRatingsD3,_0x488100,_0xfd1c82,_0x257770),console[_0x4f7e80(0x210)](_0x4f7e80(0x243)),!![];}else{if(_0x265285){const _0x4604a4=_0x39f62c[_0x4f7e80(0x1e9)](_0x2ead0f,arguments);return _0x39454c=null,_0x4604a4;}}}catch(_0x2e69b9){if('GCKsD'===_0x14ff3a['KyEot']){console[_0x4f7e80(0x1d0)](_0x14ff3a[_0x4f7e80(0x1eb)],_0x2e69b9);throw _0x2e69b9;}else throw new _0x568f5f(_0x14ff3a[_0x4f7e80(0x23c)]);}}