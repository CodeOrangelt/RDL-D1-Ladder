function a41_0x5af8(_0x2bcfba,_0x200844){const _0x5e81a3=a41_0x5049();return a41_0x5af8=function(_0x239a37,_0x3de10f){_0x239a37=_0x239a37-0x9b;let _0x50492d=_0x5e81a3[_0x239a37];return _0x50492d;},a41_0x5af8(_0x2bcfba,_0x200844);}const a41_0x239a37=(function(){let _0x52ffae=!![];return function(_0x177cb8,_0x1166d7){const _0x23340e=_0x52ffae?function(){if(_0x1166d7){const _0x45a7ab=_0x1166d7['apply'](_0x177cb8,arguments);return _0x1166d7=null,_0x45a7ab;}}:function(){};return _0x52ffae=![],_0x23340e;};}()),a41_0x5e81a3=a41_0x239a37(this,function(){const _0x593f94=a41_0x5af8,_0x5230d6=function(){let _0x51152d;try{_0x51152d=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x42bb45){_0x51152d=window;}return _0x51152d;},_0x411a36=_0x5230d6(),_0x596378=_0x411a36['console']=_0x411a36['console']||{},_0x266ea5=['log','warn',_0x593f94(0x9c),'error','exception',_0x593f94(0xa9),'trace'];for(let _0x4f46b2=0x0;_0x4f46b2<_0x266ea5['length'];_0x4f46b2++){const _0x34ad9c=a41_0x239a37['constructor'][_0x593f94(0x9b)]['bind'](a41_0x239a37),_0x585db7=_0x266ea5[_0x4f46b2],_0x57ebea=_0x596378[_0x585db7]||_0x34ad9c;_0x34ad9c['__proto__']=a41_0x239a37['bind'](a41_0x239a37),_0x34ad9c[_0x593f94(0xae)]=_0x57ebea[_0x593f94(0xae)][_0x593f94(0xaa)](_0x57ebea),_0x596378[_0x585db7]=_0x34ad9c;}});a41_0x5e81a3();import{getEloHistory,resetPagination}from'./elo-history.js';function a41_0x5049(){const _0x3f18c0=['prototype','info','addEventListener','querySelector','toDate','keypress','timestamp','pageInput','innerHTML','key','map','<tr><td\x20colspan=\x226\x22>No\x20ELO\x20history\x20available</td></tr>','change','>Previous</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-navigation\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>Page\x20','table','bind','newElo','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pagination-controls\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22prevPage\x22\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','toString','>Next</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','click','toLocaleString','getElementById','join','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'];a41_0x5049=function(){return _0x3f18c0;};return a41_0x5049();}let currentPage=0x1,allMatches=[];const matchesPerPage=0xa;async function displayEloHistory(){const _0x49da59=a41_0x5af8,_0xac3107=document['querySelector']('#elo-history\x20tbody'),_0x3cd4b0=document['getElementById']('pagination');try{const {entries:_0x588c9e,hasMore:_0x455eea}=await getEloHistory();if(_0x588c9e['length']===0x0){_0xac3107[_0x49da59(0xa3)]=_0x49da59(0xa6);return;}allMatches=_0x588c9e,_0xac3107[_0x49da59(0xa3)]=_0x588c9e[_0x49da59(0xa5)](_0x244b27=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x244b27['timestamp']?new Date(_0x244b27['timestamp']['toDate']())[_0x49da59(0xb1)]():'N/A')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x244b27['player']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x244b27['previousElo']+_0x49da59(0xb4)+_0x244b27[_0x49da59(0xab)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x244b27['change']>0x0?'+'+_0x244b27[_0x49da59(0xa7)]:_0x244b27['change'])+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x244b27['opponent']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x244b27['matchResult']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''),createPaginationControls();}catch(_0xf7cb){console['error']('Error\x20displaying\x20ELO\x20history:',_0xf7cb),_0xac3107[_0x49da59(0xa3)]='<tr><td\x20colspan=\x226\x22>Error\x20loading\x20ELO\x20history</td></tr>';}}function createPaginationControls(){const _0x345be6=a41_0x5af8,_0x2a3967=Math['ceil'](allMatches['length']/matchesPerPage),_0x4ab20d=document['createElement']('div');_0x4ab20d['className']='pagination-wrapper',_0x4ab20d['innerHTML']=_0x345be6(0xac)+(currentPage===0x1?'disabled':'')+_0x345be6(0xa8)+currentPage+'\x20of\x20'+_0x2a3967+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-search\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22pageInput\x22\x20min=\x221\x22\x20max=\x22'+_0x2a3967+'\x22\x20value=\x22'+currentPage+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goToPage\x22>Go</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22nextPage\x22\x20'+(currentPage===_0x2a3967?'disabled':'')+_0x345be6(0xaf);const _0x5bda1b=document['querySelector']('#elo-history');_0x5bda1b['parentNode']['insertBefore'](_0x4ab20d,_0x5bda1b['nextSibling']),document[_0x345be6(0xb2)]('prevPage')[_0x345be6(0x9d)]('click',()=>{if(currentPage>0x1)displayMatchesPage(currentPage-0x1);}),document['getElementById']('nextPage')['addEventListener']('click',()=>{if(currentPage<_0x2a3967)displayMatchesPage(currentPage+0x1);}),document[_0x345be6(0xb2)]('goToPage')['addEventListener'](_0x345be6(0xb0),()=>{const _0x561dc6=_0x345be6,_0x846e76=document['getElementById'](_0x561dc6(0xa2)),_0x117f96=parseInt(_0x846e76['value']);_0x117f96>=0x1&&_0x117f96<=_0x2a3967&&displayMatchesPage(_0x117f96);}),document[_0x345be6(0xb2)]('pageInput')['addEventListener'](_0x345be6(0xa0),_0x2dfa12=>{const _0x1c1e6d=_0x345be6;if(_0x2dfa12[_0x1c1e6d(0xa4)]==='Enter'){const _0x82a946=parseInt(_0x2dfa12['target']['value']);_0x82a946>=0x1&&_0x82a946<=_0x2a3967&&displayMatchesPage(_0x82a946);}});}async function displayMatchesPage(_0x5ac2b3){const _0x3f7b94=a41_0x5af8;currentPage=_0x5ac2b3;const _0x336ba2=(currentPage-0x1)*matchesPerPage,_0x383bcb=_0x336ba2+matchesPerPage,_0x1c3d11=allMatches['slice'](_0x336ba2,_0x383bcb),_0x330926=document[_0x3f7b94(0x9e)]('#elo-history\x20tbody');_0x330926['innerHTML']=_0x1c3d11['map'](_0x427a28=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x427a28[_0x3f7b94(0xa1)]?new Date(_0x427a28['timestamp'][_0x3f7b94(0x9f)]())['toLocaleString']():'N/A')+_0x3f7b94(0xad)+_0x427a28['player']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x427a28['previousElo']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x427a28['newElo']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x427a28['change']>0x0?'+'+_0x427a28[_0x3f7b94(0xa7)]:_0x427a28['change'])+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x427a28['opponent']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x427a28['matchResult']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20')[_0x3f7b94(0xb3)](''),createPaginationControls();}document['addEventListener']('DOMContentLoaded',displayEloHistory);