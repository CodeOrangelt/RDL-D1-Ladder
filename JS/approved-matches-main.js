const a6_0x2e4268=a6_0x1aa9;(function(_0x471eb8,_0x4e6b08){const _0x548369=a6_0x1aa9,_0x54de35=_0x471eb8();while(!![]){try{const _0x19869d=-parseInt(_0x548369(0x1d6))/0x1+-parseInt(_0x548369(0x1aa))/0x2*(parseInt(_0x548369(0x152))/0x3)+parseInt(_0x548369(0xf5))/0x4*(-parseInt(_0x548369(0x129))/0x5)+-parseInt(_0x548369(0x1d3))/0x6+parseInt(_0x548369(0x130))/0x7*(parseInt(_0x548369(0x1e8))/0x8)+parseInt(_0x548369(0xf3))/0x9+-parseInt(_0x548369(0x174))/0xa*(-parseInt(_0x548369(0x1ba))/0xb);if(_0x19869d===_0x4e6b08)break;else _0x54de35['push'](_0x54de35['shift']());}catch(_0x5a950c){_0x54de35['push'](_0x54de35['shift']());}}}(a6_0x4a92,0x68ad4));const a6_0x4073c5=(function(){let _0x519042=!![];return function(_0x1bcb70,_0x2b61e6){const _0x34d26f=_0x519042?function(){if(_0x2b61e6){const _0x39a1a2=_0x2b61e6['apply'](_0x1bcb70,arguments);return _0x2b61e6=null,_0x39a1a2;}}:function(){};return _0x519042=![],_0x34d26f;};}()),a6_0x1de0a8=a6_0x4073c5(this,function(){const _0x1d645e=a6_0x1aa9;return a6_0x1de0a8['toString']()[_0x1d645e(0x119)](_0x1d645e(0x1c2))['toString']()[_0x1d645e(0x1c8)](a6_0x1de0a8)[_0x1d645e(0x119)]('(((.+)+)+)+$');});a6_0x1de0a8();function a6_0x4a92(){const _0x36cea=['push','7HHzGDe','options','exists','trim','pilots','gap','console','prev','Failed\x20to\x20submit:\x20','.match-date','<div\x20class=\x22matches-loading\x22>No\x20matches\x20found\x20matching\x20current\x20filters.</div>',',\x20fetching\x20from\x20Firestore','toggle','loserOldElo','...','You\x20can\x20only\x20delete\x20your\x20own\x20comments','preventDefault','firstVisible','previewNextPage','data','loading-indicator','click','comment-item','Error\x20fetching\x20comments\x20batch:','content','Please\x20enter\x20a\x20demo\x20link','.option-tab','cursor','.popup-actions','filter','.no-comments-message','<div\x20class=\x22matches-loading\x22>No\x20more\x20matches\x20to\x20display','totalPages','Match\x20','15TSctnu','Daz','toLocaleDateString','Failed\x20to\x20add\x20comment:\x20','Failed\x20to\x20report\x20comment:\x20','stringify','Please\x20enter\x20a\x20comment\x20before\x20submitting','muteFromDate','input','<div\x20class=\x22matches-loading\x22\x20style=\x22color:\x20red;\x22>Error\x20loading\x20matches:\x20','parse','remove','currentUser','message','Demo:\x20','bind','add','Unknown\x20Map','preview-d3-button','removeItem','\x22</div>','badComments','comment-popup','.winner-demo-link','color','querySelectorAll','Please\x20enter\x20a\x20valid\x20URL\x20for\x20the\x20demo\x20link','slice','filter-toggle-button','Demo\x20descriptions\x20are\x20limited\x20to\x2020\x20words\x20maximum.\x20Please\x20shorten\x20your\x20description.','#50C878','Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20comment?','Preview\x20UI\x20or\x20Filter\x20elements\x20not\x20found,\x20cannot\x20attach\x20listeners.','start','9013940jiUrck','desc','.player.winner\x20.player-score','#fff','.match-demo-links','Error\x20fetching\x20comments:','previewPrevPage','popup-btn\x20close-btn','</small>','current','Page\x20','Firebase\x20not\x20initialized','text','jump','bronze','selectedOptions','showAddCommentPopup','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22popup-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Add\x20Comment\x20or\x20Demo</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22closeAddCommentPopup\x22\x20class=\x22close-btn\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22addCommentForm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22commentMatchId\x22\x20name=\x22commentMatchId\x22\x20value=\x22','marginTop',':</strong>\x20\x22','appendChild','Thank\x20you.\x20The\x20comment\x20has\x20been\x20reported\x20and\x20will\x20be\x20reviewed.','uid','Close','preview-d1-button','demoDescription','commentUser','mega-match','jump-to-page','keys','.comment.loser-comment','timestamp','Error\x20submitting:','.matches-loading','previewCache_','setAttribute','displayName','</p><small\x20style=\x22color:#aaa;\x20display:block;\x20text-align:right;\x20margin-top:10px;\x22>Posted\x20on\x20','getItem','approvedAt','Rendering\x20page\x20','silver','commentOverlayPreview','0.6','You\x20need\x20to\x20be\x20signed\x20in\x20to\x20leave\x20a\x20comment\x20or\x20add\x20a\x20demo','<div\x20class=\x22matches-loading\x22>No\x20recent\x20matches\x20found','Option','getElementById','Error\x20deleting\x20comment:','loserSuicides','matchesPerPage','No\x20valid\x20cursor,\x20fetching\x20from\x20beginning\x20and\x20skipping\x20pages','.player.loser\x20.player-suicides','Submitting\x20comment\x20as:','157594SeEBSg','block','filter-pilots','commentMatchId','No\x20description\x20provided','reportCommentButton','Error\x20submitting\x20comment:','Failed\x20to\x20cache\x20data:','wordCount','onclick','#FFD700','clearFilterBtn','innerHTML','isLoading','gold','href','11nhPJXo','winner-','preview-d2-button','includes','demoLink','blind-match','.loser-demo-link','<strong>','(((.+)+)+)+$','winnerSuicides','delete-comment-btn','selected','flex','commentPopupContentPreview','constructor','removeAttribute','altered-powerups','div','#ff4444','warn','\x20days\x20ago','seconds','forEach','Comments\x20are\x20limited\x20to\x2015\x20words\x20maximum.\x20Please\x20shorten\x20your\x20comment.','#aaa','1667760iPKoOL','Comment\x20not\x20found.\x20It\x20may\x20have\x20already\x20been\x20deleted.','<p>','541878lpYmif','classList','Standard\x20Match','join','parentNode','enhancedFilters','Cached\x20intermediary\x20page\x20','log','value','recent-matches-preview','Are\x20you\x20sure\x20you\x20want\x20to\x20report\x20this\x20comment\x20as\x20inappropriate?','mapPlayed','exception','Anonymous\x20User','Loser','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22demo-description\x22>','loserComment','opacity','6170632YrUiLF','cloneNode','option','querySelector','filterUsername','2025-07-02','popup-actions','\x20from\x20cache','commentAddPopup','levels','title','username','substring','display','.jump-btn','filter-levels','Cache\x20miss\x20for\x20page\x20','15px','split','.option-tab.active','demo','currentMode','Anonymous','length','getTime','commentPopupPreview','backgroundColor','Comment\x20from\x20','#808080','Clearing\x20cache\x20for\x20refresh/reset','disabled','commentId','</div>','comment','required','createdAt','keypress','\x20matching\x20filters','.match-card','#b9f1fc','lastVisible','Submitting...','winnerUsername','Comments\x20section\x20not\x20found\x20in\x20template','subgames','stopPropagation','You\x20need\x20to\x20be\x20signed\x20in\x20to\x20report\x20comments','comment-overlay','Loading\x20first\x20page\x20from\x20Firestore','map','textContent','button','active','prototype','type','winnerDemoLink','max','setItem','#CD7F32','hasNextPage','Failed\x20to\x20fetch\x20user\x20profile:','default','matchComments','className','ratting','next','.comment.winner-comment','Enter','Error\x20fetching\x20','Comment\x20deleted\x20successfully','closeCommentPopupPreview','none','.player.winner\x20.player-name','toLowerCase','{}.constructor(\x22return\x20this\x22)(\x20)','N/A','1748943zjaQrj','.delete-comment-btn','897884NWBvou','currentPage','.comments-container','winnerOldElo','addCommentForm','all','approvedMatches','Muted.','You\x20must\x20be\x20signed\x20in\x20to\x20leave\x20a\x20comment','.matches-loading[style*=\x22color:\x20red\x22]','dataset','submitComment','+10','loserUsername','loserDemoLink','emerald','userProfiles','empty','userId','S:\x20','.submit-comment-btn','abs','match-card-template','Yesterday','closeAddCommentPopup','apply','Delete\x20demo','commentAddOverlay','removeChild','commentPopupTitlePreview','error','enhanced-filter-section','missiles-6plus','dogfight','auth','weapon-imbalance','search','firstChild','fusion-match','body','filter-subgames','toLocaleString','Unable\x20to\x20submit\x20-\x20system\x20not\x20ready','.</div>','Submit','addEventListener','docs','from','#d32f2f','style','info','closest','5jJASwp','createElement','subgameType','commentText','now','.comment-item'];a6_0x4a92=function(){return _0x36cea;};return a6_0x4a92();}const a6_0x23e3ea=(function(){let _0x56ae2b=!![];return function(_0x18ee43,_0x41151e){const _0x5291e3=_0x56ae2b?function(){const _0x269292=a6_0x1aa9;if(_0x41151e){const _0x3fe840=_0x41151e[_0x269292(0x10e)](_0x18ee43,arguments);return _0x41151e=null,_0x3fe840;}}:function(){};return _0x56ae2b=![],_0x5291e3;};}()),a6_0x59f9e4=a6_0x23e3ea(this,function(){const _0xa46689=a6_0x1aa9,_0x445b8f=function(){const _0x45b8e8=a6_0x1aa9;let _0x397437;try{_0x397437=Function('return\x20(function()\x20'+_0x45b8e8(0xf1)+');')();}catch(_0x5816a0){_0x397437=window;}return _0x397437;},_0x2a49c9=_0x445b8f(),_0x2ec2c1=_0x2a49c9[_0xa46689(0x136)]=_0x2a49c9['console']||{},_0x2df4ba=[_0xa46689(0x1dd),_0xa46689(0x1cd),_0xa46689(0x127),_0xa46689(0x113),_0xa46689(0x1e2),'table','trace'];for(let _0x541ee3=0x0;_0x541ee3<_0x2df4ba['length'];_0x541ee3++){const _0x51a1cc=a6_0x23e3ea[_0xa46689(0x1c8)][_0xa46689(0xdc)]['bind'](a6_0x23e3ea),_0x26879c=_0x2df4ba[_0x541ee3],_0x11afad=_0x2ec2c1[_0x26879c]||_0x51a1cc;_0x51a1cc['__proto__']=a6_0x23e3ea[_0xa46689(0x161)](a6_0x23e3ea),_0x51a1cc['toString']=_0x11afad['toString']['bind'](_0x11afad),_0x2ec2c1[_0x26879c]=_0x51a1cc;}});a6_0x59f9e4();import{collection,getDocs,addDoc,query,orderBy,limit,startAfter,Timestamp,serverTimestamp,getDoc,doc,where,deleteDoc}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const mutedUsers=[{'username':a6_0x2e4268(0x153),'muteFromDate':new Date(a6_0x2e4268(0x1ed))[a6_0x2e4268(0x200)]()}];function isUsernameMuted(_0x3b90f1,_0x410fcc){const _0x41e735=a6_0x2e4268;if(!_0x3b90f1)return![];const _0x31f03b=mutedUsers['find'](_0x4ea7f2=>_0x4ea7f2[_0x41e735(0x1f3)]===_0x3b90f1);if(!_0x31f03b)return![];if(!_0x410fcc)return!![];const _0x4d1484=_0x410fcc instanceof Date?_0x410fcc[_0x41e735(0x200)]():_0x410fcc[_0x41e735(0x1cf)]?_0x410fcc['seconds']*0x3e8:Date[_0x41e735(0x12d)]();return _0x4d1484>=_0x31f03b[_0x41e735(0x159)];}function filterComment(_0x2e9f94,_0x206b81,_0x1463a0){if(!_0x2e9f94)return'-';if(isUsernameMuted(_0x206b81,_0x1463a0))return'Muted.';return _0x2e9f94;}const previewState={'currentMode':'D1','currentPage':0x1,'matchesPerPage':0x5,'lastVisible':null,'firstVisible':null,'isLoading':![],'filterUsername':'','enhancedFilters':{'pilots':'','levels':'','subgames':[]},'totalPages':0x1,'hasReachedEnd':![]};function getCacheKey(_0x513da4,_0x5c693f,_0x249f35){const _0x45c9e5=a6_0x2e4268,_0x45e113='u:'+(_0x249f35['filterUsername']||'');return _0x45c9e5(0x196)+_0x513da4+'_p'+_0x5c693f+'_'+_0x45e113;}function getCachedPage(_0x20920d){const _0x58d460=a6_0x2e4268,_0x478d2f=sessionStorage[_0x58d460(0x19a)](_0x20920d);if(_0x478d2f)try{return JSON[_0x58d460(0x15c)](_0x478d2f);}catch(_0x493fe2){return console[_0x58d460(0x113)]('Failed\x20to\x20parse\x20cache:',_0x493fe2),sessionStorage[_0x58d460(0x165)](_0x20920d),null;}return null;}function cachePage(_0x540436,_0x375a2a){const _0x1f6e7b=a6_0x2e4268;try{sessionStorage[_0x1f6e7b(0xe0)](_0x540436,JSON[_0x1f6e7b(0x157)](_0x375a2a));}catch(_0x5ee58f){console[_0x1f6e7b(0x113)](_0x1f6e7b(0x1b1),_0x5ee58f);}}function getEloColor(_0x513a79){const _0x3dccca=a6_0x2e4268,_0x27cdcc=Number(_0x513a79);if(_0x27cdcc>=0x7d0)return _0x3dccca(0x170);else{if(_0x27cdcc>=0x708)return _0x3dccca(0x1b4);else{if(_0x27cdcc>=0x640)return _0x3dccca(0xce);else{if(_0x27cdcc>=0x578)return _0x3dccca(0xe1);else return _0x3dccca(0xc3);}}}}function formatDate(_0x357d2b,_0x1fdeed=![]){const _0x217344=a6_0x2e4268;if(!_0x357d2b||!_0x357d2b[_0x217344(0x1cf)])return _0x217344(0xf2);const _0x259819=new Date(_0x357d2b['seconds']*0x3e8);return _0x1fdeed?_0x259819['toLocaleString']():_0x259819[_0x217344(0x154)]();}function truncateComment(_0x3928b4,_0x43864f=0x1e){const _0x215461=a6_0x2e4268;if(!_0x3928b4)return'-';if(_0x3928b4[_0x215461(0x1ff)]<=_0x43864f)return _0x3928b4;return _0x3928b4[_0x215461(0x1f4)](0x0,_0x43864f)+_0x215461(0x13e);}function formatCommentDate(_0x5ba0d5){const _0x27ffe1=a6_0x2e4268;if(!_0x5ba0d5||!_0x5ba0d5[_0x27ffe1(0x1cf)])return'';const _0x45cd10=new Date(_0x5ba0d5[_0x27ffe1(0x1cf)]*0x3e8),_0x3fa43b=new Date(),_0x31ef09=Math[_0x27ffe1(0x10a)](_0x3fa43b-_0x45cd10),_0x2a48ee=Math['floor'](_0x31ef09/(0x3e8*0x3c*0x3c*0x18));if(_0x2a48ee===0x0)return'Today';else{if(_0x2a48ee===0x1)return _0x27ffe1(0x10c);else return _0x2a48ee<0x7?_0x2a48ee+_0x27ffe1(0x1ce):_0x45cd10[_0x27ffe1(0x154)]();}}function setLoadingIndicator(_0x2cdf2c){const _0x4232c8=a6_0x2e4268,_0x3ca666=document['getElementById'](_0x4232c8(0x144));if(_0x3ca666)_0x3ca666[_0x4232c8(0x126)][_0x4232c8(0x1f5)]=_0x2cdf2c?_0x4232c8(0x1ab):_0x4232c8(0xee);}export function updatePreviewLadderModeUI(){const _0x540030=a6_0x2e4268,_0x40bc38=document[_0x540030(0x1a3)]('preview-ladder-mode'),_0x478de4=document[_0x540030(0x1a3)]('preview-d1-button'),_0x338309=document[_0x540030(0x1a3)](_0x540030(0x1bc)),_0x377daf=document[_0x540030(0x1a3)](_0x540030(0x164));if(_0x40bc38)_0x40bc38['textContent']=previewState[_0x540030(0x1fd)];if(_0x478de4)_0x478de4['classList'][_0x540030(0x13c)](_0x540030(0xdb),previewState[_0x540030(0x1fd)]==='D1');if(_0x338309)_0x338309[_0x540030(0x1d7)][_0x540030(0x13c)]('active',previewState['currentMode']==='D2');if(_0x377daf)_0x377daf[_0x540030(0x1d7)]['toggle'](_0x540030(0xdb),previewState[_0x540030(0x1fd)]==='D3');}function updatePreviewPaginationControls(_0x5484e8){const _0x47dd72=a6_0x2e4268,_0x18287e=document[_0x47dd72(0x1a3)](_0x47dd72(0x17a)),_0x36e623=document['getElementById'](_0x47dd72(0x142)),_0x12332b=document[_0x47dd72(0x1a3)]('previewPageInfo');if(!_0x18287e||!_0x36e623||!_0x12332b)return;_0x12332b[_0x47dd72(0xd9)]=_0x47dd72(0x17e)+previewState[_0x47dd72(0xf6)],_0x18287e[_0x47dd72(0xc5)]=previewState[_0x47dd72(0xf6)]<=0x1,_0x36e623['disabled']=!_0x5484e8;}function setPreviewLoadingState(_0x2245ea){const _0x493aff=a6_0x2e4268;previewState[_0x493aff(0x1b7)]=_0x2245ea,setLoadingIndicator(_0x2245ea);const _0x24ee0b=document[_0x493aff(0x1a3)](_0x493aff(0x1df)),_0x28a56e=_0x24ee0b?_0x24ee0b[_0x493aff(0x1eb)](_0x493aff(0x195)):null,_0x3682aa=document[_0x493aff(0x1a3)](_0x493aff(0x17a)),_0x22c7b8=document[_0x493aff(0x1a3)]('previewNextPage'),_0x5aa4ad=document[_0x493aff(0x1a3)](_0x493aff(0x18c)),_0x4786b3=document['getElementById'](_0x493aff(0x1bc)),_0x214b10=document['getElementById']('applyFilterBtn'),_0x34d371=document['getElementById'](_0x493aff(0x1b5));if(_0x28a56e&&!_0x2245ea)_0x28a56e[_0x493aff(0x126)]['display']=_0x493aff(0xee);else _0x28a56e&&_0x2245ea&&(_0x28a56e[_0x493aff(0x126)][_0x493aff(0x1f5)]=_0x493aff(0x1ab));!_0x2245ea&&_0x24ee0b&&!_0x24ee0b[_0x493aff(0x1eb)]('.match-card')&&!_0x24ee0b[_0x493aff(0x1eb)](_0x493aff(0xfe))&&(_0x24ee0b[_0x493aff(0x1b6)]=_0x493aff(0x1a1)+(previewState[_0x493aff(0x1ec)]?'\x20matching\x20filters':'')+_0x493aff(0x120));if(_0x3682aa)_0x3682aa['disabled']=_0x2245ea||previewState[_0x493aff(0xf6)]<=0x1;if(_0x22c7b8)_0x22c7b8[_0x493aff(0xc5)]=_0x2245ea;if(_0x5aa4ad)_0x5aa4ad['disabled']=_0x2245ea;if(_0x4786b3)_0x4786b3[_0x493aff(0xc5)]=_0x2245ea;if(_0x214b10)_0x214b10['disabled']=_0x2245ea;if(_0x34d371)_0x34d371[_0x493aff(0xc5)]=_0x2245ea;}function applyClientFilters(_0x2dd63b){const _0x55a6b5=a6_0x2e4268;if(!previewState['filterUsername'])return _0x2dd63b;const _0x412084=previewState[_0x55a6b5(0x1ec)][_0x55a6b5(0xf0)]();return _0x2dd63b[_0x55a6b5(0x14d)](_0x589e0c=>{const _0x3033c3=_0x55a6b5,_0x53335c=(_0x589e0c[_0x3033c3(0xd1)]||'')[_0x3033c3(0xf0)](),_0x5227cc=(_0x589e0c['loserUsername']||'')['toLowerCase']();return _0x53335c[_0x3033c3(0x1bd)](_0x412084)||_0x5227cc['includes'](_0x412084);});}function applyEnhancedClientFilters(_0x5e223b){const _0x27a80f=a6_0x2e4268;if(!hasEnhancedFilters())return _0x5e223b;return _0x5e223b[_0x27a80f(0x14d)](_0x1a1cbc=>{const _0x2ec9c5=_0x27a80f;if(previewState[_0x2ec9c5(0x1db)][_0x2ec9c5(0x134)]){const _0x3ff817=previewState['enhancedFilters']['pilots'][_0x2ec9c5(0xf0)](),_0x2d4adc=(_0x1a1cbc[_0x2ec9c5(0xd1)]||'')['toLowerCase'](),_0x55e89b=(_0x1a1cbc[_0x2ec9c5(0x102)]||'')[_0x2ec9c5(0xf0)]();if(!_0x2d4adc[_0x2ec9c5(0x1bd)](_0x3ff817)&&!_0x55e89b[_0x2ec9c5(0x1bd)](_0x3ff817))return![];}if(previewState['enhancedFilters'][_0x2ec9c5(0x1f1)]){const _0x1f26ed=previewState['enhancedFilters']['levels']['toLowerCase'](),_0x3fd779=(_0x1a1cbc[_0x2ec9c5(0x1e1)]||'')['toLowerCase']();if(!_0x3fd779['includes'](_0x1f26ed))return![];}if(previewState[_0x2ec9c5(0x1db)][_0x2ec9c5(0xd3)][_0x2ec9c5(0x1ff)]>0x0){const _0x3fc97f=_0x1a1cbc[_0x2ec9c5(0x12b)]||_0x2ec9c5(0x1d8);if(!previewState[_0x2ec9c5(0x1db)][_0x2ec9c5(0xd3)][_0x2ec9c5(0x1bd)](_0x3fc97f))return![];}return!![];});}function hasEnhancedFilters(){const _0x4f0b54=a6_0x2e4268;return previewState[_0x4f0b54(0x1db)]['pilots']||previewState[_0x4f0b54(0x1db)]['levels']||previewState[_0x4f0b54(0x1db)][_0x4f0b54(0xd3)]['length']>0x0;}function clearEnhancedFilters(){const _0x2cf8d8=a6_0x2e4268;previewState['enhancedFilters']={'pilots':'','levels':'','subgames':[]},document['getElementById'](_0x2cf8d8(0x1ac))[_0x2cf8d8(0x1de)]='',document[_0x2cf8d8(0x1a3)](_0x2cf8d8(0x1f7))['value']='';const _0x3c0889=document['getElementById'](_0x2cf8d8(0x11d));for(let _0x32e01a of _0x3c0889[_0x2cf8d8(0x131)]){_0x32e01a[_0x2cf8d8(0x1c5)]=![];}}function jumpToPage(_0x2bf88b){const _0x32b176=a6_0x2e4268,_0x4aa391=document[_0x32b176(0x1a3)](_0x32b176(0x190)),_0x281019=previewState['currentPage'];let _0x4c8dc0=_0x281019;switch(_0x2bf88b){case _0x32b176(0x173):_0x4c8dc0=0x1;break;case'end':_0x4c8dc0=Math['max'](_0x281019+0xa,previewState[_0x32b176(0x150)]||_0x281019+0xa);break;case'+1':_0x4c8dc0=_0x281019+0x1;break;case'+5':_0x4c8dc0=_0x281019+0x5;break;case _0x32b176(0x101):_0x4c8dc0=_0x281019+0xa;break;case'-1':_0x4c8dc0=Math[_0x32b176(0xdf)](0x1,_0x281019-0x1);break;case'-5':_0x4c8dc0=Math[_0x32b176(0xdf)](0x1,_0x281019-0x5);break;case'-10':_0x4c8dc0=Math['max'](0x1,_0x281019-0xa);break;case _0x32b176(0x15a):const _0xd18c9=parseInt(_0x4aa391[_0x32b176(0x1de)]);_0xd18c9&&_0xd18c9>0x0&&(_0x4c8dc0=_0xd18c9,_0x4aa391['value']='');break;}_0x4c8dc0!==_0x281019&&_0x4c8dc0>0x0&&(previewState[_0x32b176(0xf6)]=_0x4c8dc0,loadRecentMatchesPreview(_0x32b176(0x181)));}export async function loadRecentMatchesPreview(_0x451656=a6_0x2e4268(0x17d)){const _0x24e6c5=a6_0x2e4268,_0x6ca06d=document[_0x24e6c5(0x1a3)](_0x24e6c5(0x1df)),_0x161c5b=document['getElementById'](_0x24e6c5(0x10b));if(previewState['isLoading']||!_0x6ca06d||!_0x161c5b)return;_0x451656===_0x24e6c5(0x17d)&&(console[_0x24e6c5(0x1dd)](_0x24e6c5(0xc4)),Object[_0x24e6c5(0x191)](sessionStorage)['forEach'](_0x121e3c=>{const _0x222afe=_0x24e6c5;_0x121e3c[_0x222afe(0x1bd)](_0x222afe(0x196)+previewState['currentMode'])&&sessionStorage[_0x222afe(0x165)](_0x121e3c);}));let _0x1ba854=previewState[_0x24e6c5(0xf6)];if(_0x451656==='next')_0x1ba854++;else{if(_0x451656==='prev')_0x1ba854--;else _0x451656==='current'&&(_0x1ba854=0x1,previewState[_0x24e6c5(0x141)]=null,previewState[_0x24e6c5(0xcf)]=null);}if(_0x1ba854<0x1)_0x1ba854=0x1;const _0x30ea9d=previewState[_0x24e6c5(0xf6)];previewState[_0x24e6c5(0xf6)]=_0x1ba854,updatePreviewPaginationControls(!![]);const _0x939b5f={'filterUsername':previewState['filterUsername']},_0x29ebb6=getCacheKey(previewState[_0x24e6c5(0x1fd)],_0x1ba854,_0x939b5f),_0x5e6fea=_0x451656!==_0x24e6c5(0x17d)?getCachedPage(_0x29ebb6):null;if(_0x5e6fea){console[_0x24e6c5(0x1dd)](_0x24e6c5(0x19c)+_0x1ba854+_0x24e6c5(0x1ef)),setPreviewLoadingState(!![]),renderMatchCards(_0x5e6fea['docsData']),updatePreviewPaginationControls(_0x5e6fea[_0x24e6c5(0xe2)]),setPreviewLoadingState(![]);return;}console[_0x24e6c5(0x1dd)](_0x24e6c5(0x1f8)+_0x1ba854+_0x24e6c5(0x13b)),setPreviewLoadingState(!![]),_0x6ca06d['innerHTML']='<div\x20class=\x22matches-loading\x22>Loading\x20recent\x20matches...</div>';const _0x440c5a=previewState[_0x24e6c5(0x1fd)]==='D1'?_0x24e6c5(0xfb):previewState[_0x24e6c5(0x1fd)]==='D2'?'approvedMatchesD2':'approvedMatchesD3',_0x318287=previewState[_0x24e6c5(0x1fd)]==='D1'?_0x24e6c5(0xca):_0x24e6c5(0x19b);try{const _0x32ea59=collection(window['db'],_0x440c5a);let _0x408176=[orderBy(_0x318287,_0x24e6c5(0x175))];if(_0x1ba854===0x1)console['log'](_0x24e6c5(0xd7)),_0x408176[_0x24e6c5(0x12f)](limit(previewState[_0x24e6c5(0x1a6)]));else{if(_0x451656===_0x24e6c5(0xe8)&&previewState[_0x24e6c5(0xcf)])console[_0x24e6c5(0x1dd)]('Loading\x20next\x20page\x20using\x20cursor'),_0x408176[_0x24e6c5(0x12f)](startAfter(previewState['lastVisible'])),_0x408176[_0x24e6c5(0x12f)](limit(previewState[_0x24e6c5(0x1a6)]));else{console[_0x24e6c5(0x1dd)](_0x24e6c5(0x1a7));const _0x1d0492=_0x1ba854*previewState[_0x24e6c5(0x1a6)];_0x408176[_0x24e6c5(0x12f)](limit(_0x1d0492));}}const _0x329538=query(_0x32ea59,..._0x408176),_0x98ec33=await getDocs(_0x329538);let _0x2c969f=_0x98ec33[_0x24e6c5(0x123)];if(_0x1ba854>0x1&&_0x451656!==_0x24e6c5(0xe8)){const _0x454050=(_0x1ba854-0x1)*previewState[_0x24e6c5(0x1a6)];_0x2c969f=_0x2c969f[_0x24e6c5(0x16d)](_0x454050,_0x454050+previewState['matchesPerPage']);}if(_0x2c969f[_0x24e6c5(0x1ff)]===0x0){console['log']('No\x20results\x20found\x20for\x20this\x20page');_0x451656===_0x24e6c5(0xe8)&&(previewState[_0x24e6c5(0xf6)]=_0x30ea9d,updatePreviewPaginationControls(![]));_0x6ca06d[_0x24e6c5(0x1b6)]=_0x24e6c5(0x14f)+(previewState[_0x24e6c5(0x1ec)]?_0x24e6c5(0xcc):'')+_0x24e6c5(0x120),setPreviewLoadingState(![]);return;}previewState['firstVisible']=_0x2c969f[0x0],previewState[_0x24e6c5(0xcf)]=_0x2c969f[_0x2c969f['length']-0x1];const _0x570604=_0x2c969f['map'](_0x23ab96=>({'id':_0x23ab96['id'],..._0x23ab96[_0x24e6c5(0x143)]()}));let _0x487aa6=![];if(_0x2c969f[_0x24e6c5(0x1ff)]===previewState[_0x24e6c5(0x1a6)]){const _0x3adf8a=query(_0x32ea59,orderBy(_0x318287,_0x24e6c5(0x175)),startAfter(previewState[_0x24e6c5(0xcf)]),limit(0x1)),_0x1116e0=await getDocs(_0x3adf8a);_0x487aa6=!_0x1116e0[_0x24e6c5(0x106)];}const _0x4be4e2=applyClientFilters(_0x570604),_0x1e9774={'docsData':_0x570604,'hasNextPage':_0x487aa6};cachePage(getCacheKey(previewState[_0x24e6c5(0x1fd)],previewState[_0x24e6c5(0xf6)],_0x939b5f),_0x1e9774);if(_0x1ba854>0x1&&_0x451656!==_0x24e6c5(0xe8))for(let _0x3aa254=0x1;_0x3aa254<_0x1ba854;_0x3aa254++){const _0x5f034b=(_0x3aa254-0x1)*previewState[_0x24e6c5(0x1a6)],_0x278778=_0x5f034b+previewState[_0x24e6c5(0x1a6)],_0x422512=_0x98ec33['docs']['slice'](_0x5f034b,_0x278778);if(_0x422512['length']>0x0){const _0x8aec75=_0x422512['map'](_0x52a0fe=>({'id':_0x52a0fe['id'],..._0x52a0fe[_0x24e6c5(0x143)]()})),_0x448f17=!![];cachePage(getCacheKey(previewState[_0x24e6c5(0x1fd)],_0x3aa254,_0x939b5f),{'docsData':_0x8aec75,'hasNextPage':_0x448f17}),console['log'](_0x24e6c5(0x1dc)+_0x3aa254);}}_0x4be4e2[_0x24e6c5(0x1ff)]===0x0&&previewState[_0x24e6c5(0x1ec)]?_0x6ca06d['innerHTML']='<div\x20class=\x22matches-loading\x22>No\x20matches\x20found\x20matching\x20filter:\x20\x22'+previewState[_0x24e6c5(0x1ec)]+_0x24e6c5(0x166):renderMatchCards(_0x4be4e2),updatePreviewPaginationControls(_0x487aa6);}catch(_0x399438){console['error'](_0x24e6c5(0xeb)+previewState[_0x24e6c5(0x1fd)]+'\x20matches:',_0x399438),_0x6ca06d[_0x24e6c5(0x1b6)]=_0x24e6c5(0x15b)+_0x399438[_0x24e6c5(0x15f)]+_0x24e6c5(0xc7),updatePreviewPaginationControls(![]),previewState[_0x24e6c5(0xf6)]=_0x30ea9d;}finally{setPreviewLoadingState(![]);}}async function renderMatchCards(_0x1c5814){const _0x15e299=a6_0x2e4268,_0x579a74=document['getElementById'](_0x15e299(0x1df)),_0x48b37e=document[_0x15e299(0x1a3)]('match-card-template');if(!_0x579a74||!_0x48b37e)return;!_0x579a74['querySelector'](_0x15e299(0xfe))&&(_0x579a74[_0x15e299(0x1b6)]='');if(!_0x1c5814||_0x1c5814[_0x15e299(0x1ff)]===0x0){if(!_0x579a74[_0x15e299(0x1eb)]('.matches-loading[style*=\x22color:\x20red\x22]')){const _0x92e89c=hasEnhancedFilters()?_0x15e299(0xcc):previewState['filterUsername']?'\x20matching\x20filters':'';_0x579a74[_0x15e299(0x1b6)]=_0x15e299(0x1a1)+_0x92e89c+'.</div>';}return;}const _0x18bbb1=applyEnhancedClientFilters(_0x1c5814);if(_0x18bbb1[_0x15e299(0x1ff)]===0x0){_0x579a74[_0x15e299(0x1b6)]=_0x15e299(0x13a);return;}const _0x8f5632=_0x18bbb1[_0x15e299(0xd8)](_0x393665=>getAllCommentsForMatch(_0x393665['id']));let _0x357907=[];try{_0x357907=await Promise[_0x15e299(0xfa)](_0x8f5632);}catch(_0x3f3640){console[_0x15e299(0x113)](_0x15e299(0x147),_0x3f3640),_0x357907=_0x18bbb1[_0x15e299(0xd8)](()=>[]);}const _0x29476c={};_0x357907[_0x15e299(0x1d0)]((_0x512c27,_0x1cb5cd)=>{_0x29476c[_0x18bbb1[_0x1cb5cd]['id']]=_0x512c27||[];}),_0x18bbb1['forEach'](_0x725a46=>{const _0x1e4c3c=_0x15e299,_0xa495e3=_0x48b37e[_0x1e4c3c(0x148)][_0x1e4c3c(0x1e9)](!![]),_0x176ad6=_0xa495e3[_0x1e4c3c(0x1eb)]('.match-display-wrapper'),_0x28b3df=_0xa495e3['querySelector'](_0x1e4c3c(0xcd)),_0x6f1554=getEloRankClass(_0x725a46['winnerOldElo']);_0x28b3df[_0x1e4c3c(0x1d7)][_0x1e4c3c(0x162)](_0x1e4c3c(0x1bb)+_0x6f1554),_0x28b3df['querySelector']('.match-map')[_0x1e4c3c(0xd9)]=_0x725a46[_0x1e4c3c(0x1e1)]||_0x1e4c3c(0x163),_0x28b3df[_0x1e4c3c(0x1eb)](_0x1e4c3c(0x139))['textContent']=formatDate(_0x725a46[_0x1e4c3c(0x19b)]||_0x725a46[_0x1e4c3c(0xca)]);const _0x281992=_0x28b3df[_0x1e4c3c(0x1eb)](_0x1e4c3c(0xef));_0x281992[_0x1e4c3c(0xd9)]=_0x725a46[_0x1e4c3c(0xd1)]||'Unknown',_0x281992[_0x1e4c3c(0x126)][_0x1e4c3c(0x16a)]=getEloColor(_0x725a46[_0x1e4c3c(0xf8)]),_0x28b3df[_0x1e4c3c(0x1eb)](_0x1e4c3c(0x176))['textContent']=_0x725a46['winnerScore']??0x0;const _0x4f90ba=_0x28b3df[_0x1e4c3c(0x1eb)]('.player.winner\x20.player-suicides'),_0x16ed45=_0x725a46[_0x1e4c3c(0x1c3)]||0x0;_0x4f90ba['textContent']=_0x1e4c3c(0x108)+_0x16ed45;const _0xb46f82=_0x28b3df[_0x1e4c3c(0x1eb)]('.player.loser\x20.player-name');_0xb46f82[_0x1e4c3c(0xd9)]=_0x725a46[_0x1e4c3c(0x102)]||'Unknown',_0xb46f82[_0x1e4c3c(0x126)][_0x1e4c3c(0x16a)]=getEloColor(_0x725a46['loserOldElo']),_0x28b3df['querySelector']('.player.loser\x20.player-score')[_0x1e4c3c(0xd9)]=_0x725a46['loserScore']??0x0;const _0x59d39b=_0x28b3df['querySelector'](_0x1e4c3c(0x1a8)),_0x436eb5=_0x725a46[_0x1e4c3c(0x1a5)]||0x0;_0x59d39b['textContent']=_0x1e4c3c(0x108)+_0x436eb5;const _0x5e6ca4=_0x28b3df[_0x1e4c3c(0x1eb)]('.match-subgame');if(_0x5e6ca4){if(_0x725a46[_0x1e4c3c(0x12b)]&&_0x725a46['subgameType'][_0x1e4c3c(0x133)]()!==''){_0x5e6ca4[_0x1e4c3c(0xd9)]=_0x725a46[_0x1e4c3c(0x12b)],_0x5e6ca4['style']['display']='block';const _0x1b67c4=getSubgameClass(_0x725a46[_0x1e4c3c(0x12b)]);_0x1b67c4&&_0x5e6ca4[_0x1e4c3c(0x1d7)][_0x1e4c3c(0x162)](_0x1b67c4);}else _0x5e6ca4[_0x1e4c3c(0xd9)]='Standard\x20Match',_0x5e6ca4[_0x1e4c3c(0x126)][_0x1e4c3c(0x1f5)]='block',_0x5e6ca4['style'][_0x1e4c3c(0x1e7)]=_0x1e4c3c(0x19f);}const _0x3804b9=_0x28b3df[_0x1e4c3c(0x1eb)](_0x1e4c3c(0xe9)),_0x441e3b=_0x28b3df[_0x1e4c3c(0x1eb)](_0x1e4c3c(0x192)),_0x1564bb=_0x725a46['winnerComment']||'',_0x55ce9a=_0x725a46[_0x1e4c3c(0x1e6)]||'',_0x1c85e7=_0x725a46[_0x1e4c3c(0x19b)]||_0x725a46[_0x1e4c3c(0xca)],_0x3410af=filterComment(_0x1564bb,_0x725a46[_0x1e4c3c(0xd1)],_0x1c85e7),_0x263902=filterComment(_0x55ce9a,_0x725a46[_0x1e4c3c(0x102)],_0x1c85e7);_0x3804b9[_0x1e4c3c(0xd9)]='\x22'+truncateComment(_0x1564bb)+'\x22',_0x441e3b[_0x1e4c3c(0xd9)]='\x22'+truncateComment(_0x55ce9a)+'\x22';_0x1564bb&&!isUsernameMuted(_0x725a46[_0x1e4c3c(0xd1)],_0x1c85e7)?_0x3804b9['onclick']=()=>showPreviewCommentPopup(_0x3410af,_0x725a46['winnerUsername']||'Winner',getEloColor(_0x725a46['winnerOldElo'])):(_0x3804b9[_0x1e4c3c(0xd9)]=_0x3410af===_0x1e4c3c(0xfc)?_0x1e4c3c(0xfc):'-',_0x3804b9[_0x1e4c3c(0x126)][_0x1e4c3c(0x14b)]=_0x1e4c3c(0xe4),_0x3804b9[_0x1e4c3c(0x1b3)]=null);_0x55ce9a&&!isUsernameMuted(_0x725a46[_0x1e4c3c(0x102)])?_0x441e3b[_0x1e4c3c(0x1b3)]=()=>showPreviewCommentPopup(_0x263902,_0x725a46[_0x1e4c3c(0x102)]||_0x1e4c3c(0x1e4),getEloColor(_0x725a46[_0x1e4c3c(0x13d)])):(_0x441e3b[_0x1e4c3c(0xd9)]=_0x263902===_0x1e4c3c(0xfc)?'Muted.':'-',_0x441e3b[_0x1e4c3c(0x126)][_0x1e4c3c(0x14b)]=_0x1e4c3c(0xe4),_0x441e3b[_0x1e4c3c(0x1b3)]=null);const _0x42edc3=_0x176ad6?.['querySelector']('.community-comments-section');if(!_0x42edc3)console[_0x1e4c3c(0x1cd)](_0x1e4c3c(0xd2));else{const _0x2344a5=_0x42edc3['querySelector']('.comments-container'),_0x104932=_0x2344a5?.[_0x1e4c3c(0x1eb)](_0x1e4c3c(0x14e)),_0x326eb5=_0x42edc3[_0x1e4c3c(0x1eb)]('.add-comment-btn');if(_0x2344a5){while(_0x2344a5['firstChild']&&_0x2344a5[_0x1e4c3c(0x11a)]!==_0x104932){_0x2344a5[_0x1e4c3c(0x111)](_0x2344a5[_0x1e4c3c(0x11a)]);}_0x326eb5&&_0x326eb5[_0x1e4c3c(0x122)](_0x1e4c3c(0x145),()=>{showAddCommentPopup(_0x725a46['id']);});const _0x51cd6d=_0x29476c[_0x725a46['id']]||[];if(_0x51cd6d['length']>0x0){if(_0x104932)_0x104932[_0x1e4c3c(0x126)][_0x1e4c3c(0x1f5)]=_0x1e4c3c(0xee);const _0xdfe74d=(_0x1af4ff,_0x1ce2eb)=>{const _0x264d30=_0x1e4c3c,_0x4974b3=_0x1af4ff[_0x264d30(0x1fa)]('\x20');if(_0x4974b3[_0x264d30(0x1ff)]<=_0x1ce2eb)return _0x1af4ff;return _0x4974b3[_0x264d30(0x16d)](0x0,_0x1ce2eb)[_0x264d30(0x1d9)]('\x20')+'...';};_0x51cd6d['forEach'](_0x3ed973=>{const _0x22e7ec=_0x1e4c3c,_0x135516=document[_0x22e7ec(0x12a)](_0x22e7ec(0x1cb));if(_0x3ed973[_0x22e7ec(0xdd)]===_0x22e7ec(0x1fc)){_0x135516[_0x22e7ec(0xe6)]='demo-link',_0x135516[_0x22e7ec(0x1b6)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22'+_0x3ed973['demoLink']+'\x22\x20target=\x22_blank\x22\x20class=\x22play-icon\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<svg\x20viewBox=\x220\x200\x2024\x2024\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<path\x20d=\x22M8,5.14V19.14L19,12.14L8,5.14Z\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</svg>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22demo-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22demo-author\x22>Demo\x20from\x20'+_0x3ed973[_0x22e7ec(0x1f3)]+_0x22e7ec(0x1e5)+(_0x3ed973['description']||_0x22e7ec(0x1ae))+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x565da8=window[_0x22e7ec(0x117)][_0x22e7ec(0x15e)],_0x2ea28f=_0x565da8&&_0x3ed973[_0x22e7ec(0x107)]===_0x565da8[_0x22e7ec(0x18a)];if(_0x2ea28f){const _0x45c5b8=document['createElement']('button');_0x45c5b8['className']=_0x22e7ec(0x1c4),_0x45c5b8[_0x22e7ec(0x1b6)]='×',_0x45c5b8[_0x22e7ec(0x197)]('aria-label',_0x22e7ec(0x10f)),_0x45c5b8[_0x22e7ec(0x122)]('click',_0xd45dec=>{const _0x1249e5=_0x22e7ec;_0xd45dec[_0x1249e5(0x140)](),_0xd45dec[_0x1249e5(0xd4)](),deleteComment(_0x3ed973['id'],_0x135516);}),_0x135516[_0x22e7ec(0x188)](_0x45c5b8);}}else{_0x135516['className']=_0x22e7ec(0x146);const _0x1928f2=isUsernameMuted(_0x3ed973[_0x22e7ec(0x1f3)],_0x3ed973[_0x22e7ec(0x193)]),_0x514b7f=_0x1928f2?_0x22e7ec(0xfc):_0xdfe74d(_0x3ed973['text']||'',0xf),_0x1ee391=_0x3ed973[_0x22e7ec(0x1f3)]||'Anonymous',_0x2fadbb=window[_0x22e7ec(0x117)][_0x22e7ec(0x15e)],_0x86f4d9=_0x2fadbb&&_0x3ed973['userId']===_0x2fadbb['uid'];let _0x6fed91='';_0x86f4d9&&(_0x6fed91='<button\x20class=\x22delete-comment-btn\x22\x20aria-label=\x22Delete\x20comment\x22>×</button>');_0x135516[_0x22e7ec(0x1b6)]=_0x6fed91+_0x22e7ec(0x1c1)+_0x1ee391+_0x22e7ec(0x187)+_0x514b7f+'\x22';if(_0x86f4d9){const _0xcfb3a7=_0x135516[_0x22e7ec(0x1eb)](_0x22e7ec(0xf4));_0xcfb3a7&&_0xcfb3a7['addEventListener'](_0x22e7ec(0x145),_0x252ea8=>{const _0x1fb1c3=_0x22e7ec;_0x252ea8[_0x1fb1c3(0xd4)](),deleteComment(_0x3ed973['id'],_0x135516);});}!_0x1928f2?_0x135516[_0x22e7ec(0x122)](_0x22e7ec(0x145),()=>{showFullCommentLightbox(_0x3ed973);}):_0x135516['style'][_0x22e7ec(0x14b)]='default';}_0x2344a5['insertBefore'](_0x135516,_0x2344a5[_0x22e7ec(0x11a)]);});}else{if(_0x104932)_0x104932['style']['display']=_0x1e4c3c(0x1ab);}}}const _0xa11c1e=_0x28b3df['querySelector'](_0x1e4c3c(0x178));if(_0xa11c1e){const _0xd6c468=_0x28b3df[_0x1e4c3c(0x1eb)](_0x1e4c3c(0x169)),_0x5ead8d=_0x28b3df[_0x1e4c3c(0x1eb)](_0x1e4c3c(0x1c0)),_0x266e26=_0x725a46[_0x1e4c3c(0xde)]||null,_0x2d3323=_0x725a46[_0x1e4c3c(0x103)]||_0x725a46[_0x1e4c3c(0x1be)]||null;console[_0x1e4c3c(0x1dd)](_0x1e4c3c(0x151)+_0x725a46['id']+'\x20demo\x20links:',{'winner':_0x266e26,'loser':_0x2d3323}),_0xd6c468&&(_0x266e26?(_0xd6c468[_0x1e4c3c(0x1b9)]=_0x266e26,_0xd6c468[_0x1e4c3c(0x126)]['display']=_0x1e4c3c(0x1c6),_0xd6c468[_0x1e4c3c(0x1f2)]=_0x725a46[_0x1e4c3c(0xd1)]+'\x27s\x20Demo'):_0xd6c468[_0x1e4c3c(0x126)]['display']=_0x1e4c3c(0xee)),_0x5ead8d&&(_0x2d3323?(_0x5ead8d[_0x1e4c3c(0x1b9)]=_0x2d3323,_0x5ead8d['style'][_0x1e4c3c(0x1f5)]='flex',_0x5ead8d[_0x1e4c3c(0x1f2)]=_0x725a46[_0x1e4c3c(0x102)]+'\x27s\x20Demo'):_0x5ead8d[_0x1e4c3c(0x126)][_0x1e4c3c(0x1f5)]='none'),_0x266e26&&_0xd6c468||_0x2d3323&&_0x5ead8d?_0xa11c1e['style'][_0x1e4c3c(0x1f5)]='flex':_0xa11c1e[_0x1e4c3c(0x126)]['display']='none';}_0x579a74[_0x1e4c3c(0x188)](_0xa495e3);});}function getSubgameClass(_0xc4e15){const _0x5ad226=a6_0x2e4268,_0x44fd84={'Fusion\x20Match':_0x5ad226(0x11b),'≥6\x20Missiles':_0x5ad226(0x115),'≥6\x20missiles':_0x5ad226(0x115),'Weapon\x20Imbalance':_0x5ad226(0x118),'Blind\x20Match':_0x5ad226(0x1bf),'Rematch':'rematch','Disorientation':'disorientation','Ratting':_0x5ad226(0xe7),'Altered\x20Powerups':_0x5ad226(0x1ca),'Mega\x20Match':_0x5ad226(0x18f),'Dogfight':_0x5ad226(0x116),'Gauss\x20and\x20Mercs':'gauss-and-mercs'};return _0x44fd84[_0xc4e15]||'';}async function deleteComment(_0x466026,_0x4aa1ac){const _0x11c407=a6_0x2e4268,_0xe23f56=window[_0x11c407(0x117)][_0x11c407(0x15e)];if(!_0xe23f56){alert('You\x20need\x20to\x20be\x20signed\x20in\x20to\x20delete\x20comments');return;}if(!confirm(_0x11c407(0x171)))return;try{const _0x4ee296=doc(window['db'],_0x11c407(0xe5),_0x466026),_0x17da83=await getDoc(_0x4ee296);if(!_0x17da83[_0x11c407(0x132)]()){alert(_0x11c407(0x1d4));return;}const _0x7e286=_0x17da83[_0x11c407(0x143)]();if(_0x7e286[_0x11c407(0x107)]!==_0xe23f56[_0x11c407(0x18a)]){alert(_0x11c407(0x13f));return;}await deleteDoc(_0x4ee296);if(_0x4aa1ac&&_0x4aa1ac[_0x11c407(0x1da)]){_0x4aa1ac[_0x11c407(0x1da)][_0x11c407(0x111)](_0x4aa1ac);const _0x53c5c7=_0x4aa1ac[_0x11c407(0x128)](_0x11c407(0xf7));if(_0x53c5c7&&!_0x53c5c7[_0x11c407(0x1eb)](_0x11c407(0x12e))){const _0x355610=_0x53c5c7[_0x11c407(0x1eb)](_0x11c407(0x14e));if(_0x355610)_0x355610[_0x11c407(0x126)][_0x11c407(0x1f5)]=_0x11c407(0x1ab);}}console[_0x11c407(0x1dd)](_0x11c407(0xec));}catch(_0x1b2462){console['error'](_0x11c407(0x1a4),_0x1b2462),alert('Failed\x20to\x20delete\x20comment:\x20'+_0x1b2462[_0x11c407(0x15f)]);}}async function getAllCommentsForMatch(_0x399ce2){const _0x51107e=a6_0x2e4268;if(!_0x399ce2)return[];try{const _0x4cc9d3=collection(window['db'],'matchComments'),_0x8ff84d=query(_0x4cc9d3,where('matchId','==',_0x399ce2),orderBy('timestamp',_0x51107e(0x175))),_0x41fb1d=await getDocs(_0x8ff84d);if(_0x41fb1d['empty'])return[];return _0x41fb1d[_0x51107e(0x123)]['map'](_0x10aa94=>({'id':_0x10aa94['id'],..._0x10aa94[_0x51107e(0x143)]()}));}catch(_0x59d128){return console[_0x51107e(0x113)](_0x51107e(0x179),_0x59d128),[];}}async function submitComment(_0x120333){const _0x4ee61d=a6_0x2e4268;_0x120333['preventDefault']();if(!window[_0x4ee61d(0x117)]||!window['db']){console[_0x4ee61d(0x113)]('Firebase\x20not\x20initialized'),alert('Unable\x20to\x20submit\x20comment\x20-\x20system\x20not\x20ready');return;}const _0x1697ee=window[_0x4ee61d(0x117)]['currentUser'];if(!_0x1697ee){alert(_0x4ee61d(0xfd));return;}const _0x3e919c=document['getElementById'](_0x4ee61d(0x1ad))?.['value'],_0x201482=document['getElementById'](_0x4ee61d(0x12c))?.[_0x4ee61d(0x1de)]?.[_0x4ee61d(0x133)]();if(!_0x3e919c||!_0x201482){alert(_0x4ee61d(0x158));return;}const _0x1bef82=_0x201482['split'](/\s+/)['filter'](_0x371774=>_0x371774[_0x4ee61d(0x1ff)]>0x0)[_0x4ee61d(0x1ff)];if(_0x1bef82>0xf){alert(_0x4ee61d(0x1d1));return;}const _0x54d4a6=document[_0x4ee61d(0x1eb)]('.submit-comment-btn');_0x54d4a6&&(_0x54d4a6[_0x4ee61d(0xc5)]=!![],_0x54d4a6[_0x4ee61d(0xd9)]=_0x4ee61d(0xd0));try{let _0x2d5f83=_0x4ee61d(0x1fe);try{const _0x49f264=doc(window['db'],_0x4ee61d(0x105),_0x1697ee['uid']),_0x41f824=await getDoc(_0x49f264);if(_0x41f824[_0x4ee61d(0x132)]()){const _0x193483=_0x41f824[_0x4ee61d(0x143)]();_0x193483['username']&&(_0x2d5f83=_0x193483[_0x4ee61d(0x1f3)]);}_0x2d5f83===_0x4ee61d(0x1fe)&&_0x1697ee['displayName']&&(_0x2d5f83=_0x1697ee['displayName']);}catch(_0x5a14cc){console[_0x4ee61d(0x1cd)](_0x4ee61d(0xe3),_0x5a14cc),_0x1697ee[_0x4ee61d(0x198)]&&(_0x2d5f83=_0x1697ee[_0x4ee61d(0x198)]);}const _0x48229b={'matchId':_0x3e919c,'userId':_0x1697ee[_0x4ee61d(0x18a)],'username':_0x2d5f83,'text':_0x201482,'timestamp':serverTimestamp()};console['log'](_0x4ee61d(0x1a9),_0x2d5f83);const _0x4c4779=collection(window['db'],_0x4ee61d(0xe5));await addDoc(_0x4c4779,_0x48229b),console[_0x4ee61d(0x1dd)]('Comment\x20added\x20successfully'),closeAddCommentPopup(),loadRecentMatchesPreview('current');}catch(_0x4673c7){console['error'](_0x4ee61d(0x1b0),_0x4673c7),alert(_0x4ee61d(0x155)+_0x4673c7[_0x4ee61d(0x15f)]),_0x54d4a6&&(_0x54d4a6['disabled']=![],_0x54d4a6[_0x4ee61d(0xd9)]=_0x4ee61d(0x121));}}function closeAddCommentPopup(){const _0x530d0d=a6_0x2e4268,_0xbfe175=document['getElementById'](_0x530d0d(0x1f0)),_0x58f546=document[_0x530d0d(0x1a3)](_0x530d0d(0x110));if(_0xbfe175)_0xbfe175[_0x530d0d(0x126)][_0x530d0d(0x1f5)]=_0x530d0d(0xee);if(_0x58f546)_0x58f546[_0x530d0d(0x126)][_0x530d0d(0x1f5)]=_0x530d0d(0xee);}function showAddCommentPopup(_0x3d4036){const _0x5de4f2=a6_0x2e4268,_0x211df7=window['auth'][_0x5de4f2(0x15e)];if(!_0x211df7){alert(_0x5de4f2(0x1a0));return;}let _0x534e83=document[_0x5de4f2(0x1a3)](_0x5de4f2(0x1f0)),_0x11b602=document[_0x5de4f2(0x1a3)]('commentAddOverlay');!_0x534e83&&(_0x534e83=document[_0x5de4f2(0x12a)]('div'),_0x534e83['id']=_0x5de4f2(0x1f0),_0x534e83[_0x5de4f2(0xe6)]=_0x5de4f2(0x168),document[_0x5de4f2(0x11c)][_0x5de4f2(0x188)](_0x534e83));!_0x11b602&&(_0x11b602=document['createElement'](_0x5de4f2(0x1cb)),_0x11b602['id']=_0x5de4f2(0x110),_0x11b602['className']=_0x5de4f2(0xd6),document['body'][_0x5de4f2(0x188)](_0x11b602));_0x534e83['innerHTML']=_0x5de4f2(0x185)+_0x3d4036+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-tabs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22option-tab\x20active\x22\x20data-option=\x22comment\x22>Add\x20Comment</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22option-divider\x22>OR</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22option-tab\x22\x20data-option=\x22demo\x22>Share\x20Demo\x20Link</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-content\x22\x20id=\x22commentOption\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22commentText\x22>Your\x20comment\x20(15\x20words\x20max):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22commentText\x22\x20name=\x22commentText\x22\x20rows=\x223\x22\x20placeholder=\x22Share\x20your\x20thoughts...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22word-counter\x22><span\x20id=\x22wordCount\x22>0</span>/15\x20words</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-content\x22\x20id=\x22demoOption\x22\x20style=\x22display:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22demoLink\x22>Demo\x20Link:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22url\x22\x20id=\x22demoLink\x22\x20name=\x22demoLink\x22\x20placeholder=\x22https://...\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22demoDescription\x22>Description\x20(20\x20words\x20max):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22demoDescription\x22\x20name=\x22demoDescription\x22\x20rows=\x222\x22\x20placeholder=\x22Describe\x20your\x20demo...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22word-counter\x22><span\x20id=\x22demoWordCount\x22>0</span>/20\x20words</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22submit\x22\x20class=\x22submit-comment-btn\x22>Submit</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</form>\x0a\x20\x20\x20\x20',_0x534e83['style']['display']=_0x5de4f2(0x1ab),_0x11b602[_0x5de4f2(0x126)][_0x5de4f2(0x1f5)]=_0x5de4f2(0x1ab),document[_0x5de4f2(0x1a3)](_0x5de4f2(0x10d))[_0x5de4f2(0x122)]('click',closeAddCommentPopup),_0x11b602[_0x5de4f2(0x122)](_0x5de4f2(0x145),closeAddCommentPopup);const _0xb0d7ff=_0x534e83[_0x5de4f2(0x16b)](_0x5de4f2(0x14a));_0xb0d7ff[_0x5de4f2(0x1d0)](_0x2a1ec6=>{const _0x769376=_0x5de4f2;_0x2a1ec6[_0x769376(0x122)](_0x769376(0x145),function(){const _0x1230c8=_0x769376;_0xb0d7ff['forEach'](_0x4874ec=>_0x4874ec[_0x1230c8(0x1d7)][_0x1230c8(0x15d)](_0x1230c8(0xdb))),document[_0x1230c8(0x16b)]('.option-content')[_0x1230c8(0x1d0)](_0xbfb12b=>_0xbfb12b[_0x1230c8(0x126)][_0x1230c8(0x1f5)]=_0x1230c8(0xee)),this['classList'][_0x1230c8(0x162)]('active');const _0x570f34=this['dataset'][_0x1230c8(0x1ea)];document['getElementById'](_0x570f34+_0x1230c8(0x1a2))['style'][_0x1230c8(0x1f5)]=_0x1230c8(0x1ab),_0x570f34===_0x1230c8(0x1fc)?(document[_0x1230c8(0x1a3)](_0x1230c8(0x1be))[_0x1230c8(0x197)]('required',''),document[_0x1230c8(0x1a3)](_0x1230c8(0x12c))['removeAttribute'](_0x1230c8(0xc9))):(document[_0x1230c8(0x1a3)](_0x1230c8(0x1be))[_0x1230c8(0x1c9)](_0x1230c8(0xc9)),document[_0x1230c8(0x1a3)](_0x1230c8(0x12c))[_0x1230c8(0x197)](_0x1230c8(0xc9),''));});}),document[_0x5de4f2(0x1a3)](_0x5de4f2(0x12c))[_0x5de4f2(0x197)](_0x5de4f2(0xc9),''),document[_0x5de4f2(0x1a3)]('demoLink')[_0x5de4f2(0x1c9)](_0x5de4f2(0xc9)),setupWordCounter('commentText',_0x5de4f2(0x1b2),0xf),setupWordCounter(_0x5de4f2(0x18d),'demoWordCount',0x14),document[_0x5de4f2(0x1a3)]('addCommentForm')[_0x5de4f2(0x122)]('submit',submitCommentOrDemo);}function setupWordCounter(_0x57e2cc,_0x118497,_0x4726b5){const _0x33b69f=a6_0x2e4268,_0x29c6fe=document[_0x33b69f(0x1a3)](_0x57e2cc),_0x56f0ea=document[_0x33b69f(0x1a3)](_0x118497);if(!_0x29c6fe||!_0x56f0ea)return;_0x56ed5d(),_0x29c6fe['addEventListener'](_0x33b69f(0x15a),_0x56ed5d);function _0x56ed5d(){const _0x497608=_0x33b69f,_0x393bd0=_0x29c6fe[_0x497608(0x1de)][_0x497608(0x133)](),_0x582794=_0x393bd0?_0x393bd0[_0x497608(0x1fa)](/\s+/)[_0x497608(0x14d)](_0x338f7a=>_0x338f7a[_0x497608(0x1ff)]>0x0)[_0x497608(0x1ff)]:0x0;_0x56f0ea[_0x497608(0xd9)]=_0x582794,_0x582794>_0x4726b5?_0x56f0ea['style'][_0x497608(0x16a)]=_0x497608(0x1cc):_0x56f0ea[_0x497608(0x126)][_0x497608(0x16a)]=_0x497608(0x1d2);}}async function submitCommentOrDemo(_0x37c34b){const _0x3b1ebe=a6_0x2e4268;_0x37c34b[_0x3b1ebe(0x140)]();if(!window[_0x3b1ebe(0x117)]||!window['db']){console[_0x3b1ebe(0x113)](_0x3b1ebe(0x17f)),alert(_0x3b1ebe(0x11f));return;}const _0x18bc63=window[_0x3b1ebe(0x117)][_0x3b1ebe(0x15e)];if(!_0x18bc63){alert('You\x20must\x20be\x20signed\x20in\x20to\x20continue');return;}const _0x5ab50d=document[_0x3b1ebe(0x1a3)](_0x3b1ebe(0x1ad))['value'],_0x21ea53=document[_0x3b1ebe(0x1eb)](_0x3b1ebe(0x1fb))[_0x3b1ebe(0xff)]['option'];let _0x2418cd=_0x3b1ebe(0x1fe);try{const _0x281a2a=doc(window['db'],_0x3b1ebe(0x105),_0x18bc63[_0x3b1ebe(0x18a)]),_0x5573a1=await getDoc(_0x281a2a);if(_0x5573a1[_0x3b1ebe(0x132)]()){const _0x2b6749=_0x5573a1[_0x3b1ebe(0x143)]();_0x2b6749[_0x3b1ebe(0x1f3)]&&(_0x2418cd=_0x2b6749['username']);}_0x2418cd===_0x3b1ebe(0x1fe)&&_0x18bc63[_0x3b1ebe(0x198)]&&(_0x2418cd=_0x18bc63[_0x3b1ebe(0x198)]);}catch(_0x4e10ee){console[_0x3b1ebe(0x1cd)]('Failed\x20to\x20fetch\x20username:',_0x4e10ee),_0x18bc63[_0x3b1ebe(0x198)]&&(_0x2418cd=_0x18bc63['displayName']);}const _0x181b9=document[_0x3b1ebe(0x1eb)](_0x3b1ebe(0x109));_0x181b9&&(_0x181b9[_0x3b1ebe(0xc5)]=!![],_0x181b9[_0x3b1ebe(0xd9)]='Submitting...');try{if(_0x21ea53===_0x3b1ebe(0xc8)){const _0xd135f4=document[_0x3b1ebe(0x1a3)]('commentText')['value'][_0x3b1ebe(0x133)]();if(!_0xd135f4){alert(_0x3b1ebe(0x158)),_0x181b9['disabled']=![],_0x181b9[_0x3b1ebe(0xd9)]=_0x3b1ebe(0x121);return;}const _0x3fdac7=_0xd135f4[_0x3b1ebe(0x1fa)](/\s+/)[_0x3b1ebe(0x14d)](_0x30daf4=>_0x30daf4[_0x3b1ebe(0x1ff)]>0x0)[_0x3b1ebe(0x1ff)];if(_0x3fdac7>0xf){alert(_0x3b1ebe(0x1d1)),_0x181b9['disabled']=![],_0x181b9[_0x3b1ebe(0xd9)]=_0x3b1ebe(0x121);return;}const _0x30ff1e={'matchId':_0x5ab50d,'userId':_0x18bc63[_0x3b1ebe(0x18a)],'username':_0x2418cd,'text':_0xd135f4,'type':_0x3b1ebe(0xc8),'timestamp':serverTimestamp()},_0x202db6=collection(window['db'],_0x3b1ebe(0xe5));await addDoc(_0x202db6,_0x30ff1e);}else{const _0x272904=document[_0x3b1ebe(0x1a3)](_0x3b1ebe(0x1be))[_0x3b1ebe(0x1de)][_0x3b1ebe(0x133)](),_0x81bcd2=document['getElementById']('demoDescription')[_0x3b1ebe(0x1de)][_0x3b1ebe(0x133)]()||'Demo\x20link';if(!_0x272904){alert(_0x3b1ebe(0x149)),_0x181b9[_0x3b1ebe(0xc5)]=![],_0x181b9[_0x3b1ebe(0xd9)]=_0x3b1ebe(0x121);return;}try{new URL(_0x272904);}catch(_0x1849fc){alert(_0x3b1ebe(0x16c)),_0x181b9['disabled']=![],_0x181b9[_0x3b1ebe(0xd9)]=_0x3b1ebe(0x121);return;}const _0x358bef=_0x81bcd2[_0x3b1ebe(0x1fa)](/\s+/)['filter'](_0x725e14=>_0x725e14['length']>0x0)['length'];if(_0x358bef>0x14){alert(_0x3b1ebe(0x16f)),_0x181b9[_0x3b1ebe(0xc5)]=![],_0x181b9[_0x3b1ebe(0xd9)]=_0x3b1ebe(0x121);return;}const _0x5e2c56={'matchId':_0x5ab50d,'userId':_0x18bc63[_0x3b1ebe(0x18a)],'username':_0x2418cd,'demoLink':_0x272904,'description':_0x81bcd2,'type':'demo','text':_0x3b1ebe(0x160)+_0x81bcd2,'timestamp':serverTimestamp()},_0x78f82f=collection(window['db'],'matchComments');await addDoc(_0x78f82f,_0x5e2c56);}closeAddCommentPopup(),loadRecentMatchesPreview(_0x3b1ebe(0x17d));}catch(_0x2ef370){console['error'](_0x3b1ebe(0x194),_0x2ef370),alert(_0x3b1ebe(0x138)+_0x2ef370[_0x3b1ebe(0x15f)]),_0x181b9&&(_0x181b9[_0x3b1ebe(0xc5)]=![],_0x181b9[_0x3b1ebe(0xd9)]=_0x3b1ebe(0x121));}}function a6_0x1aa9(_0x2be63f,_0x13bf45){const _0x861e8a=a6_0x4a92();return a6_0x1aa9=function(_0x59f9e4,_0x23e3ea){_0x59f9e4=_0x59f9e4-0xc1;let _0x384a64=_0x861e8a[_0x59f9e4];return _0x384a64;},a6_0x1aa9(_0x2be63f,_0x13bf45);}function getEloRankClass(_0x4a434a){const _0x461184=a6_0x2e4268,_0x511677=Number(_0x4a434a);if(_0x511677>=0x7d0)return _0x461184(0x104);else{if(_0x511677>=0x708)return _0x461184(0x1b8);else{if(_0x511677>=0x640)return _0x461184(0x19d);else{if(_0x511677>=0x578)return _0x461184(0x182);else return'unranked';}}}}function showPreviewCommentPopup(_0x234a23,_0x143a30,_0x3d30aa=a6_0x2e4268(0x177)){const _0xf04033=a6_0x2e4268,_0x3281c8=document[_0xf04033(0x1a3)](_0xf04033(0x201)),_0x49e7f5=document[_0xf04033(0x1a3)]('commentOverlayPreview'),_0x281c75=document[_0xf04033(0x1a3)](_0xf04033(0x112)),_0x304ed8=document[_0xf04033(0x1a3)](_0xf04033(0x1c7)),_0xef07ed=document[_0xf04033(0x1a3)](_0xf04033(0x1af));if(!_0x3281c8||!_0x49e7f5||!_0x281c75||!_0x304ed8||!_0xef07ed)return;_0x3281c8['dataset']['commentText']=_0x234a23,_0x3281c8[_0xf04033(0xff)][_0xf04033(0x18e)]=_0x143a30,_0x281c75['style']['color']=_0x3d30aa,_0x281c75[_0xf04033(0xd9)]='Comment\x20from\x20'+_0x143a30,_0x304ed8[_0xf04033(0xd9)]=_0x234a23,_0xef07ed[_0xf04033(0x1b3)]=reportComment,_0x3281c8['style'][_0xf04033(0x1f5)]=_0xf04033(0x1ab),_0x49e7f5[_0xf04033(0x126)][_0xf04033(0x1f5)]=_0xf04033(0x1ab);}function closePreviewCommentPopup(){const _0x9f8557=a6_0x2e4268,_0x438b7a=document[_0x9f8557(0x1a3)](_0x9f8557(0x201)),_0xbba4e2=document[_0x9f8557(0x1a3)](_0x9f8557(0x19e));if(_0x438b7a)_0x438b7a[_0x9f8557(0x126)][_0x9f8557(0x1f5)]=_0x9f8557(0xee);if(_0xbba4e2)_0xbba4e2[_0x9f8557(0x126)][_0x9f8557(0x1f5)]=_0x9f8557(0xee);}async function reportComment(){const _0x50073e=a6_0x2e4268,_0x10e058=window[_0x50073e(0x117)][_0x50073e(0x15e)];if(!_0x10e058){alert(_0x50073e(0xd5));return;}if(!confirm(_0x50073e(0x1e0)))return;try{const _0x40faa1=document['getElementById']('commentPopupPreview'),_0x26a47f={'commentAuthor':_0x40faa1[_0x50073e(0xff)][_0x50073e(0x18e)]||'Unknown\x20User','commentText':_0x40faa1['dataset'][_0x50073e(0x12c)]||'','matchId':previewState['currentMatchId']||'','reportedBy':_0x10e058['uid'],'reporterUsername':_0x10e058[_0x50073e(0x198)]||_0x50073e(0x1e3),'reportedAt':serverTimestamp()},_0x49605b=collection(window['db'],_0x50073e(0x167));await addDoc(_0x49605b,_0x26a47f),alert(_0x50073e(0x189)),closePreviewCommentPopup();}catch(_0x259862){console[_0x50073e(0x113)]('Error\x20reporting\x20comment:',_0x259862),alert(_0x50073e(0x156)+_0x259862[_0x50073e(0x15f)]);}}function showFullCommentLightbox(_0x537c0f){const _0x3beb45=a6_0x2e4268;if(isUsernameMuted(_0x537c0f[_0x3beb45(0x1f3)]))return;const _0x34f9f3=document[_0x3beb45(0x1a3)]('commentPopupPreview'),_0x4d0352=document[_0x3beb45(0x1a3)]('commentOverlayPreview'),_0x58278b=document[_0x3beb45(0x1a3)](_0x3beb45(0x112)),_0x2b32f2=document['getElementById'](_0x3beb45(0x1c7));if(!_0x34f9f3||!_0x4d0352||!_0x58278b||!_0x2b32f2)return;_0x58278b['style'][_0x3beb45(0x16a)]=_0x3beb45(0x177),_0x58278b[_0x3beb45(0xd9)]=_0x3beb45(0xc2)+_0x537c0f[_0x3beb45(0x1f3)];if(_0x537c0f[_0x3beb45(0x193)]){const _0x162a57=new Date(_0x537c0f[_0x3beb45(0x193)]['seconds']*0x3e8),_0x4ab97a=_0x162a57[_0x3beb45(0x11e)]();_0x2b32f2[_0x3beb45(0x1b6)]=_0x3beb45(0x1d5)+_0x537c0f['text']+_0x3beb45(0x199)+_0x4ab97a+_0x3beb45(0x17c);}else _0x2b32f2[_0x3beb45(0xd9)]=_0x537c0f['text'];_0x34f9f3[_0x3beb45(0xff)][_0x3beb45(0xc6)]=_0x537c0f['id']||'',_0x34f9f3['dataset'][_0x3beb45(0x18e)]=_0x537c0f[_0x3beb45(0x1f3)]||'',_0x34f9f3[_0x3beb45(0xff)][_0x3beb45(0x12c)]=_0x537c0f[_0x3beb45(0x180)]||'',_0x34f9f3['dataset']['matchId']=_0x537c0f['matchId']||'';const _0x30a013=_0x34f9f3[_0x3beb45(0x1eb)]('.popup-actions')||document[_0x3beb45(0x12a)]('div');!_0x34f9f3['querySelector'](_0x3beb45(0x14c))?(_0x30a013[_0x3beb45(0xe6)]=_0x3beb45(0x1ee),_0x30a013[_0x3beb45(0x126)][_0x3beb45(0x1f5)]=_0x3beb45(0x1c6),_0x30a013[_0x3beb45(0x126)]['justifyContent']='center',_0x30a013['style'][_0x3beb45(0x135)]='10px',_0x30a013[_0x3beb45(0x126)][_0x3beb45(0x186)]=_0x3beb45(0x1f9),_0x34f9f3['appendChild'](_0x30a013)):_0x30a013[_0x3beb45(0x1b6)]='';const _0x4eb7a1=document[_0x3beb45(0x12a)]('button');_0x4eb7a1['textContent']=_0x3beb45(0x18b),_0x4eb7a1['className']=_0x3beb45(0x17b),_0x4eb7a1['id']=_0x3beb45(0xed),_0x4eb7a1[_0x3beb45(0x122)](_0x3beb45(0x145),closePreviewCommentPopup);const _0x57bb0f=document[_0x3beb45(0x12a)](_0x3beb45(0xda));_0x57bb0f[_0x3beb45(0xd9)]='Report',_0x57bb0f[_0x3beb45(0xe6)]='popup-btn\x20report-btn',_0x57bb0f[_0x3beb45(0x126)][_0x3beb45(0xc1)]=_0x3beb45(0x125),_0x57bb0f[_0x3beb45(0x122)](_0x3beb45(0x145),reportComment),_0x30a013[_0x3beb45(0x188)](_0x4eb7a1),_0x30a013[_0x3beb45(0x188)](_0x57bb0f),_0x34f9f3[_0x3beb45(0x126)]['display']=_0x3beb45(0x1ab),_0x4d0352[_0x3beb45(0x126)][_0x3beb45(0x1f5)]=_0x3beb45(0x1ab);}export function setupPreviewEventListeners(){const _0x2734de=a6_0x2e4268,_0x1d70e4=document[_0x2734de(0x1a3)](_0x2734de(0x17a)),_0x4ca18f=document[_0x2734de(0x1a3)]('previewNextPage'),_0x53f3a0=document[_0x2734de(0x1a3)]('preview-d1-button'),_0x154d76=document['getElementById'](_0x2734de(0x1bc)),_0x19f35b=document[_0x2734de(0x1a3)](_0x2734de(0x164)),_0x40f482=document['getElementById'](_0x2734de(0x16e)),_0x4a0828=document[_0x2734de(0x1a3)](_0x2734de(0x114));if(!_0x1d70e4||!_0x4ca18f||!_0x53f3a0||!_0x154d76||!_0x19f35b||!_0x40f482||!_0x4a0828){console[_0x2734de(0x1cd)](_0x2734de(0x172));return;}_0x1d70e4[_0x2734de(0x122)](_0x2734de(0x145),()=>{const _0x2b896a=_0x2734de;if(!_0x1d70e4[_0x2b896a(0xc5)])loadRecentMatchesPreview(_0x2b896a(0x137));}),_0x4ca18f[_0x2734de(0x122)](_0x2734de(0x145),()=>{const _0x25f5c7=_0x2734de;if(!_0x4ca18f[_0x25f5c7(0xc5)])loadRecentMatchesPreview('next');}),_0x53f3a0[_0x2734de(0x122)](_0x2734de(0x145),()=>{const _0x368bf6=_0x2734de;previewState[_0x368bf6(0x1fd)]!=='D1'&&!previewState[_0x368bf6(0x1b7)]&&(previewState['currentMode']='D1',updatePreviewLadderModeUI(),loadRecentMatchesPreview(_0x368bf6(0x17d)));}),_0x154d76[_0x2734de(0x122)](_0x2734de(0x145),()=>{const _0x273b98=_0x2734de;previewState[_0x273b98(0x1fd)]!=='D2'&&!previewState[_0x273b98(0x1b7)]&&(previewState[_0x273b98(0x1fd)]='D2',updatePreviewLadderModeUI(),loadRecentMatchesPreview(_0x273b98(0x17d)));}),_0x19f35b[_0x2734de(0x122)](_0x2734de(0x145),()=>{const _0x2ee9e2=_0x2734de;previewState[_0x2ee9e2(0x1fd)]!=='D3'&&!previewState[_0x2ee9e2(0x1b7)]&&(previewState[_0x2ee9e2(0x1fd)]='D3',updatePreviewLadderModeUI(),loadRecentMatchesPreview(_0x2ee9e2(0x17d)));});_0x40f482&&_0x4a0828&&_0x40f482[_0x2734de(0x122)]('click',()=>{const _0x2a6241=_0x2734de,_0x170b08=_0x4a0828[_0x2a6241(0x126)][_0x2a6241(0x1f5)]!==_0x2a6241(0xee);_0x4a0828[_0x2a6241(0x126)][_0x2a6241(0x1f5)]=_0x170b08?'none':_0x2a6241(0x1ab),_0x40f482['classList'][_0x2a6241(0x13c)](_0x2a6241(0xdb),!_0x170b08);});const _0x464e02=document[_0x2734de(0x1a3)]('apply-enhanced-filters'),_0x41f6ea=document['getElementById']('clear-enhanced-filters');_0x464e02&&_0x464e02[_0x2734de(0x122)](_0x2734de(0x145),()=>{const _0x29eb09=_0x2734de;previewState[_0x29eb09(0x1db)][_0x29eb09(0x134)]=document['getElementById'](_0x29eb09(0x1ac))['value'][_0x29eb09(0x133)](),previewState['enhancedFilters'][_0x29eb09(0x1f1)]=document[_0x29eb09(0x1a3)]('filter-levels')[_0x29eb09(0x1de)]['trim']();const _0x132313=document[_0x29eb09(0x1a3)]('filter-subgames');previewState[_0x29eb09(0x1db)][_0x29eb09(0xd3)]=Array[_0x29eb09(0x124)](_0x132313[_0x29eb09(0x183)])[_0x29eb09(0xd8)](_0x4f06a6=>_0x4f06a6[_0x29eb09(0x1de)])['filter'](_0x5d3b18=>_0x5d3b18!==''),loadRecentMatchesPreview(_0x29eb09(0x17d));});_0x41f6ea&&_0x41f6ea[_0x2734de(0x122)](_0x2734de(0x145),()=>{const _0x128e8d=_0x2734de;clearEnhancedFilters(),loadRecentMatchesPreview(_0x128e8d(0x17d));});document[_0x2734de(0x16b)](_0x2734de(0x1f6))[_0x2734de(0x1d0)](_0x5e1ad9=>{const _0x495deb=_0x2734de;_0x5e1ad9['addEventListener'](_0x495deb(0x145),()=>{const _0x5a4ec6=_0x495deb,_0x276896=_0x5e1ad9[_0x5a4ec6(0xff)][_0x5a4ec6(0x181)];jumpToPage(_0x276896);});});const _0x150ddd=document[_0x2734de(0x1a3)](_0x2734de(0x190));_0x150ddd&&_0x150ddd[_0x2734de(0x122)](_0x2734de(0xcb),_0x17c1b8=>{const _0x245a29=_0x2734de;_0x17c1b8['key']===_0x245a29(0xea)&&jumpToPage('input');});const _0x51ff54=document[_0x2734de(0x1a3)]('closeCommentPopupPreview'),_0xe2e717=document[_0x2734de(0x1a3)](_0x2734de(0x19e));if(_0x51ff54)_0x51ff54['addEventListener'](_0x2734de(0x145),closePreviewCommentPopup);if(_0xe2e717)_0xe2e717[_0x2734de(0x122)](_0x2734de(0x145),closePreviewCommentPopup);const _0x561c95=document['getElementById'](_0x2734de(0x10d)),_0x20038c=document[_0x2734de(0x1a3)](_0x2734de(0x110)),_0x179a1c=document['getElementById'](_0x2734de(0xf9));if(_0x561c95)_0x561c95[_0x2734de(0x122)](_0x2734de(0x145),closeAddCommentPopup);if(_0x20038c)_0x20038c[_0x2734de(0x122)](_0x2734de(0x145),closeAddCommentPopup);if(_0x179a1c)_0x179a1c[_0x2734de(0x122)]('submit',submitComment);const _0x937d8e=document[_0x2734de(0x1a3)](_0x2734de(0x12c)),_0x366cf6=document[_0x2734de(0x1a3)](_0x2734de(0x1b2));_0x937d8e&&_0x366cf6&&setupWordCounter('commentText',_0x2734de(0x1b2),0xf);}window[a6_0x2e4268(0x184)]=showAddCommentPopup,window[a6_0x2e4268(0x10d)]=closeAddCommentPopup,window[a6_0x2e4268(0x100)]=submitComment;