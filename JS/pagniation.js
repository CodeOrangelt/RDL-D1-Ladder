const a41_0x591bf9=(function(){let _0x563ccc=!![];return function(_0x352c71,_0x4e5b69){const _0x534320=_0x563ccc?function(){if(_0x4e5b69){const _0x1de27c=_0x4e5b69['apply'](_0x352c71,arguments);return _0x4e5b69=null,_0x1de27c;}}:function(){};return _0x563ccc=![],_0x534320;};}()),a41_0x5bd735=a41_0x591bf9(this,function(){const _0x3baa15=a41_0x11c5,_0x311c5a=function(){let _0x322224;try{_0x322224=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x1d9cde){_0x322224=window;}return _0x322224;},_0x55fe29=_0x311c5a(),_0x2d66b0=_0x55fe29['console']=_0x55fe29['console']||{},_0x55546d=['log','warn','info','error',_0x3baa15(0x203),'table','trace'];for(let _0x4e02ef=0x0;_0x4e02ef<_0x55546d[_0x3baa15(0x1f9)];_0x4e02ef++){const _0xe4c5a=a41_0x591bf9['constructor']['prototype'][_0x3baa15(0x1ed)](a41_0x591bf9),_0x5e0761=_0x55546d[_0x4e02ef],_0x4ecb1a=_0x2d66b0[_0x5e0761]||_0xe4c5a;_0xe4c5a['__proto__']=a41_0x591bf9[_0x3baa15(0x1ed)](a41_0x591bf9),_0xe4c5a[_0x3baa15(0x1f4)]=_0x4ecb1a['toString']['bind'](_0x4ecb1a),_0x2d66b0[_0x5e0761]=_0xe4c5a;}});a41_0x5bd735();import{getEloHistory,resetPagination}from'./elo-history.js';let currentPage=0x1,allMatches=[];function a41_0x45d7(){const _0x6a07aa=['bind','click','timestamp','addEventListener','opponent','toDate','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','toString','div','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','map','Error\x20displaying\x20ELO\x20history:','length','N/A','insertBefore','getElementById','change','pagination-wrapper','matchResult','querySelector','nextPage','#elo-history','exception','newElo','#elo-history\x20tbody','key','prevPage','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','Enter'];a41_0x45d7=function(){return _0x6a07aa;};return a41_0x45d7();}const matchesPerPage=0xa;async function displayEloHistory(){const _0x4d974a=a41_0x11c5,_0x27c6e5=document[_0x4d974a(0x200)](_0x4d974a(0x205)),_0x49b41f=document[_0x4d974a(0x1fc)]('pagination');try{const {entries:_0xa44e37,hasMore:_0x2a16ae}=await getEloHistory();if(_0xa44e37['length']===0x0){_0x27c6e5['innerHTML']='<tr><td\x20colspan=\x226\x22>No\x20ELO\x20history\x20available</td></tr>';return;}allMatches=_0xa44e37,_0x27c6e5['innerHTML']=_0xa44e37[_0x4d974a(0x1f7)](_0x2d24b8=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x2d24b8[_0x4d974a(0x1ef)]?new Date(_0x2d24b8['timestamp'][_0x4d974a(0x1f2)]())['toLocaleString']():'N/A')+_0x4d974a(0x208)+_0x2d24b8['player']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x2d24b8['previousElo']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x2d24b8[_0x4d974a(0x204)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x2d24b8['change']>0x0?'+'+_0x2d24b8['change']:_0x2d24b8['change'])+_0x4d974a(0x208)+_0x2d24b8[_0x4d974a(0x1f1)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x2d24b8['matchResult']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''),createPaginationControls();}catch(_0x2f7dde){console['error'](_0x4d974a(0x1f8),_0x2f7dde),_0x27c6e5['innerHTML']='<tr><td\x20colspan=\x226\x22>Error\x20loading\x20ELO\x20history</td></tr>';}}function createPaginationControls(){const _0x7f5ff1=a41_0x11c5,_0x219d05=Math['ceil'](allMatches[_0x7f5ff1(0x1f9)]/matchesPerPage),_0x3cf6e6=document['createElement'](_0x7f5ff1(0x1f5));_0x3cf6e6['className']=_0x7f5ff1(0x1fe),_0x3cf6e6['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pagination-controls\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22prevPage\x22\x20'+(currentPage===0x1?'disabled':'')+'>Previous</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-navigation\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>Page\x20'+currentPage+'\x20of\x20'+_0x219d05+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-search\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22pageInput\x22\x20min=\x221\x22\x20max=\x22'+_0x219d05+'\x22\x20value=\x22'+currentPage+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goToPage\x22>Go</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22nextPage\x22\x20'+(currentPage===_0x219d05?'disabled':'')+'>Next</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x50ddce=document[_0x7f5ff1(0x200)](_0x7f5ff1(0x202));_0x50ddce['parentNode'][_0x7f5ff1(0x1fb)](_0x3cf6e6,_0x50ddce['nextSibling']),document['getElementById'](_0x7f5ff1(0x207))['addEventListener'](_0x7f5ff1(0x1ee),()=>{if(currentPage>0x1)displayMatchesPage(currentPage-0x1);}),document['getElementById'](_0x7f5ff1(0x201))[_0x7f5ff1(0x1f0)](_0x7f5ff1(0x1ee),()=>{if(currentPage<_0x219d05)displayMatchesPage(currentPage+0x1);}),document['getElementById']('goToPage')['addEventListener']('click',()=>{const _0x28a160=document['getElementById']('pageInput'),_0x880bbc=parseInt(_0x28a160['value']);_0x880bbc>=0x1&&_0x880bbc<=_0x219d05&&displayMatchesPage(_0x880bbc);}),document['getElementById']('pageInput')[_0x7f5ff1(0x1f0)]('keypress',_0x4429fb=>{const _0x35a8a1=_0x7f5ff1;if(_0x4429fb[_0x35a8a1(0x206)]===_0x35a8a1(0x209)){const _0x5c0019=parseInt(_0x4429fb['target']['value']);_0x5c0019>=0x1&&_0x5c0019<=_0x219d05&&displayMatchesPage(_0x5c0019);}});}function a41_0x11c5(_0x340008,_0x40ccd4){const _0x5bd735=a41_0x45d7();return a41_0x11c5=function(_0x591bf9,_0x571f37){_0x591bf9=_0x591bf9-0x1ed;let _0x45d70b=_0x5bd735[_0x591bf9];return _0x45d70b;},a41_0x11c5(_0x340008,_0x40ccd4);}async function displayMatchesPage(_0x3daa8c){const _0x2818d5=a41_0x11c5;currentPage=_0x3daa8c;const _0x2aac51=(currentPage-0x1)*matchesPerPage,_0x33dc89=_0x2aac51+matchesPerPage,_0x125d14=allMatches['slice'](_0x2aac51,_0x33dc89),_0x1c3b61=document['querySelector']('#elo-history\x20tbody');_0x1c3b61['innerHTML']=_0x125d14['map'](_0x452ca3=>_0x2818d5(0x1f3)+(_0x452ca3['timestamp']?new Date(_0x452ca3['timestamp']['toDate']())['toLocaleString']():_0x2818d5(0x1fa))+_0x2818d5(0x1f6)+_0x452ca3['player']+_0x2818d5(0x1f6)+_0x452ca3['previousElo']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x452ca3[_0x2818d5(0x204)]+_0x2818d5(0x1f6)+(_0x452ca3[_0x2818d5(0x1fd)]>0x0?'+'+_0x452ca3['change']:_0x452ca3['change'])+_0x2818d5(0x1f6)+_0x452ca3[_0x2818d5(0x1f1)]+_0x2818d5(0x1f6)+_0x452ca3[_0x2818d5(0x1ff)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20')['join'](''),createPaginationControls();}document['addEventListener']('DOMContentLoaded',displayEloHistory);