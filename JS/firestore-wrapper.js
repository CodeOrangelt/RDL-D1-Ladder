const a20_0x487916=a20_0x2da0,a20_0x35f578=(function(){let _0x1c043c=!![];return function(_0x44c208,_0x3dc255){const _0x2dd868=_0x1c043c?function(){const _0x17d90d=a20_0x2da0;if(_0x3dc255){const _0x4dcafa=_0x3dc255[_0x17d90d(0x1ed)](_0x44c208,arguments);return _0x3dc255=null,_0x4dcafa;}}:function(){};return _0x1c043c=![],_0x2dd868;};}()),a20_0x192928=a20_0x35f578(this,function(){const _0x42082c=a20_0x2da0;let _0x9cbe48;try{const _0x224f52=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x9cbe48=_0x224f52();}catch(_0x3348ef){_0x9cbe48=window;}const _0x2ba509=_0x9cbe48['console']=_0x9cbe48['console']||{},_0x127415=['log',_0x42082c(0x1e4),'info','error','exception','table',_0x42082c(0x1ef)];for(let _0x4338a4=0x0;_0x4338a4<_0x127415[_0x42082c(0x1e2)];_0x4338a4++){const _0x17caca=a20_0x35f578['constructor']['prototype']['bind'](a20_0x35f578),_0x1ef122=_0x127415[_0x4338a4],_0x23444c=_0x2ba509[_0x1ef122]||_0x17caca;_0x17caca['__proto__']=a20_0x35f578['bind'](a20_0x35f578),_0x17caca['toString']=_0x23444c['toString']['bind'](_0x23444c),_0x2ba509[_0x1ef122]=_0x17caca;}});a20_0x192928();function a20_0x2da0(_0x52057d,_0x54bd03){const _0x192928=a20_0x511a();return a20_0x2da0=function(_0x35f578,_0x5845e5){_0x35f578=_0x35f578-0x1df;let _0x511a17=_0x192928[_0x35f578];return _0x511a17;},a20_0x2da0(_0x52057d,_0x54bd03);}import{collection as a20_0x4cf753,doc as a20_0x14d5b8,getDoc as a20_0x464039,getDocs as a20_0x50e5c7,query as a20_0x2ff202,where as a20_0x2b4eb1,orderBy as a20_0x226997,limit as a20_0x2b57b8,startAfter as a20_0x2d0324,addDoc as a20_0x33299b,updateDoc as a20_0x44cccf,deleteDoc as a20_0x5db30b,writeBatch as a20_0x22eced,serverTimestamp as a20_0x11818a,Timestamp as a20_0x5a96b2,getCountFromServer as a20_0x1cecdc,setDoc as a20_0x90dabf,enableNetwork,disableNetwork}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db}from'./firebase-config.js';function a20_0x511a(){const _0x1aee88=['session-suspended','error','string','length','RDL_NETWORK_ERROR','warn','fromDate','Session\x20suspended\x20due\x20to\x20inactivity.\x20Please\x20resume\x20your\x20session.','resource-exhausted','code','message','rdlFirestore','Failed\x20to\x20disable\x20network:','network-error','apply','network','trace','commit','Firestore\x20operation\x20blocked\x20-\x20network\x20error','log'];a20_0x511a=function(){return _0x1aee88;};return a20_0x511a();}import{handleNetworkError}from'./idle-timeout.js';function checkSessionStatus(){const _0x2583ef=a20_0x2da0;if(window['RDL_SESSION_SUSPENDED']){console[_0x2583ef(0x1e4)]('Firestore\x20operation\x20blocked\x20-\x20session\x20suspended');const _0x5ca995=new Error(_0x2583ef(0x1e6));_0x5ca995['code']='session-suspended';throw _0x5ca995;}if(window[_0x2583ef(0x1e3)]){console['warn'](_0x2583ef(0x1f1));const _0x4075b4=new Error('Network\x20connection\x20error.\x20Please\x20check\x20your\x20internet\x20connection.');_0x4075b4['code']='network-error';throw _0x4075b4;}}async function handleFirestoreError(_0x452215){const _0x1f1b7b=a20_0x2da0;console['error']('Firestore\x20operation\x20failed:',_0x452215);if(_0x452215&&(_0x452215['code']==='unavailable'||_0x452215[_0x1f1b7b(0x1e8)]===_0x1f1b7b(0x1e7)||_0x452215['message']&&_0x452215['message']['includes']('network')||_0x452215[_0x1f1b7b(0x1e8)]&&_0x452215[_0x1f1b7b(0x1e8)]['includes'](_0x1f1b7b(0x1ee))))return console['warn']('Network-related\x20error\x20detected,\x20suspending\x20operations'),handleNetworkError(),!![];return![];}export const rdlFirestore={'collection':function(){const _0x4d440b=a20_0x2da0;if(arguments['length']===0x1){if(typeof arguments[0x0]==='string')return a20_0x4cf753(db,arguments[0x0]);return arguments[0x0];}else{if(arguments['length']===0x2&&arguments[0x0]===db&&typeof arguments[0x1]===_0x4d440b(0x1e1))return a20_0x4cf753(db,arguments[0x1]);}return a20_0x4cf753[_0x4d440b(0x1ed)](null,arguments);},'doc':function(){if(arguments['length']===0x2){if(typeof arguments[0x0]==='string'&&typeof arguments[0x1]==='string')return a20_0x14d5b8(db,arguments[0x0],arguments[0x1]);return a20_0x14d5b8['apply'](null,arguments);}else{if(arguments['length']===0x3&&arguments[0x0]===db)return a20_0x14d5b8['apply'](null,arguments);}return a20_0x14d5b8['apply'](null,arguments);},'query':function(){return a20_0x2ff202['apply'](null,arguments);},'where':function(){return a20_0x2b4eb1['apply'](null,arguments);},'orderBy':function(){return a20_0x226997['apply'](null,arguments);},'limit':function(_0x4125b3){return a20_0x2b57b8(_0x4125b3);},'startAfter':function(_0x110bcf){return a20_0x2d0324(_0x110bcf);},'getDoc':async function(_0x35af3c){try{return checkSessionStatus(),await a20_0x464039(_0x35af3c);}catch(_0xef3fdf){const _0x5fa635=await handleFirestoreError(_0xef3fdf);_0x5fa635&&(_0xef3fdf['code']='network-error');throw _0xef3fdf;}},'getDocs':async function(_0x4b8dcc){try{return checkSessionStatus(),await a20_0x50e5c7(_0x4b8dcc);}catch(_0xe418fd){const _0x430973=await handleFirestoreError(_0xe418fd);_0x430973&&(_0xe418fd['code']='network-error');throw _0xe418fd;}},'getCountFromServer':async function(_0x51883a){try{return checkSessionStatus(),await a20_0x1cecdc(_0x51883a);}catch(_0x4ebcb3){const _0x6640f6=await handleFirestoreError(_0x4ebcb3);_0x6640f6&&(_0x4ebcb3['code']='network-error');throw _0x4ebcb3;}},'addDoc':async function(_0x55eea2,_0x29f73d){try{return checkSessionStatus(),await a20_0x33299b(_0x55eea2,_0x29f73d);}catch(_0x5b12bb){const _0x3ac5f3=await handleFirestoreError(_0x5b12bb);_0x3ac5f3&&(_0x5b12bb['code']='network-error');throw _0x5b12bb;}},'setDoc':async function(_0x47c236,_0x2a40ee,_0x2686bf){try{return checkSessionStatus(),await a20_0x90dabf(_0x47c236,_0x2a40ee,_0x2686bf);}catch(_0x455e6e){const _0x109536=await handleFirestoreError(_0x455e6e);_0x109536&&(_0x455e6e['code']='network-error');throw _0x455e6e;}},'updateDoc':async function(_0x3bdf68,_0x570b14){const _0x131b6e=a20_0x2da0;try{return checkSessionStatus(),await a20_0x44cccf(_0x3bdf68,_0x570b14);}catch(_0x2366c7){const _0x20630c=await handleFirestoreError(_0x2366c7);_0x20630c&&(_0x2366c7['code']=_0x131b6e(0x1ec));throw _0x2366c7;}},'deleteDoc':async function(_0x236d4c){try{return checkSessionStatus(),await a20_0x5db30b(_0x236d4c);}catch(_0x4d80c6){const _0x1e08a8=await handleFirestoreError(_0x4d80c6);_0x1e08a8&&(_0x4d80c6['code']='network-error');throw _0x4d80c6;}},'writeBatch':function(){const _0x51837f=a20_0x2da0;checkSessionStatus();const _0x3cfe1d=a20_0x22eced(db),_0x5b85a8=_0x3cfe1d['commit']['bind'](_0x3cfe1d);return _0x3cfe1d[_0x51837f(0x1f0)]=async function(){const _0x4b53e6=_0x51837f;try{return checkSessionStatus(),await _0x5b85a8();}catch(_0x61565e){const _0xf4cf0b=await handleFirestoreError(_0x61565e);_0xf4cf0b&&(_0x61565e[_0x4b53e6(0x1e8)]='network-error');throw _0x61565e;}},_0x3cfe1d;},'serverTimestamp':function(){return a20_0x11818a();},'Timestamp':{'now':function(){return a20_0x5a96b2['now']();},'fromDate':function(_0x5bcec6){const _0x507d6f=a20_0x2da0;return a20_0x5a96b2[_0x507d6f(0x1e5)](_0x5bcec6);}},'enableNetwork':async function(){try{return await enableNetwork(db);}catch(_0x8adecd){console['error']('Failed\x20to\x20enable\x20network:',_0x8adecd);throw _0x8adecd;}},'disableNetwork':async function(){const _0x413c80=a20_0x2da0;try{return await disableNetwork(db);}catch(_0x2d0c51){console['error'](_0x413c80(0x1eb),_0x2d0c51);throw _0x2d0c51;}}};window['addEventListener'](a20_0x487916(0x1e0),function(_0x1ddbda){const _0xdc3838=a20_0x487916;if(_0x1ddbda['error']){if(_0x1ddbda['error']['code']===_0xdc3838(0x1df))_0x1ddbda['preventDefault'](),console[_0xdc3838(0x1f2)]('Caught\x20session\x20suspended\x20error:',_0x1ddbda[_0xdc3838(0x1e0)][_0xdc3838(0x1e9)]);else(_0x1ddbda['error']['code']==='unavailable'||_0x1ddbda['error'][_0xdc3838(0x1e8)]==='resource-exhausted'||_0x1ddbda[_0xdc3838(0x1e0)]['message']&&_0x1ddbda['error'][_0xdc3838(0x1e9)]['includes']('network')||_0x1ddbda['error'][_0xdc3838(0x1e8)]&&_0x1ddbda['error']['code']['includes'](_0xdc3838(0x1ee)))&&(_0x1ddbda['preventDefault'](),console[_0xdc3838(0x1f2)]('Caught\x20network\x20error:',_0x1ddbda['error'][_0xdc3838(0x1e9)]),handleNetworkError());}}),window[a20_0x487916(0x1ea)]=rdlFirestore,console['log']('Firestore\x20wrapper\x20initialized\x20with\x20session\x20checking\x20and\x20network\x20error\x20handling');