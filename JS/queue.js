const a43_0x42f523=(function(){let _0x7d15da=!![];return function(_0x12ca24,_0x5667d5){const _0x129508=_0x7d15da?function(){const _0xca4f6d=a43_0x7425;if(_0x5667d5){const _0x3b232a=_0x5667d5[_0xca4f6d(0xea)](_0x12ca24,arguments);return _0x5667d5=null,_0x3b232a;}}:function(){};return _0x7d15da=![],_0x129508;};}()),a43_0x4670d0=a43_0x42f523(this,function(){const _0x5c670a=a43_0x7425,_0x165128=function(){const _0x3074a6=a43_0x7425;let _0x43391d;try{_0x43391d=Function(_0x3074a6(0xee)+_0x3074a6(0xf7)+');')();}catch(_0x2411a7){_0x43391d=window;}return _0x43391d;},_0x26adac=_0x165128(),_0x5731fb=_0x26adac['console']=_0x26adac['console']||{},_0x4ef773=['log',_0x5c670a(0xf1),'info','error','exception','table','trace'];for(let _0x4a9f4c=0x0;_0x4a9f4c<_0x4ef773['length'];_0x4a9f4c++){const _0x12dcc4=a43_0x42f523['constructor'][_0x5c670a(0xf5)][_0x5c670a(0xf6)](a43_0x42f523),_0x4f1c0d=_0x4ef773[_0x4a9f4c],_0x151a9f=_0x5731fb[_0x4f1c0d]||_0x12dcc4;_0x12dcc4['__proto__']=a43_0x42f523['bind'](a43_0x42f523),_0x12dcc4['toString']=_0x151a9f['toString'][_0x5c670a(0xf6)](_0x151a9f),_0x5731fb[_0x4f1c0d]=_0x12dcc4;}});function a43_0x26ff(){const _0x1b9228=['toDate','apply','lastUpdated','error','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22queue-box\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>Waiting\x20for\x20a\x20game</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22queue-list\x22>\x0a\x20\x20\x20\x20','return\x20(function()\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-card\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-name\x22>','data','warn','display','style','username','prototype','bind','{}.constructor(\x22return\x20this\x22)(\x20)','Just\x20now'];a43_0x26ff=function(){return _0x1b9228;};return a43_0x26ff();}a43_0x4670d0();import{db}from'./firebase-config.js';import{collection,query,where,onSnapshot,updateDoc,doc}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const readyPlayersRef=collection(db,'readyPlayers'),activePlayersQuery=query(readyPlayersRef,where('isReady','==',!![]));function a43_0x7425(_0xfe39af,_0x2d04eb){const _0x4670d0=a43_0x26ff();return a43_0x7425=function(_0x42f523,_0x393af0){_0x42f523=_0x42f523-0xe9;let _0x26ff76=_0x4670d0[_0x42f523];return _0x26ff76;},a43_0x7425(_0xfe39af,_0x2d04eb);}function updateQueueDisplay(_0x440a75){const _0x5bbd61=a43_0x7425,_0x54c2c2=document['getElementById']('queue-container');if(!_0x54c2c2)return;if(_0x440a75['length']===0x0){_0x54c2c2[_0x5bbd61(0xf3)][_0x5bbd61(0xf2)]='none';return;}_0x54c2c2[_0x5bbd61(0xf3)]['display']='block';let _0x1e3ac3=_0x5bbd61(0xed);_0x440a75['forEach'](_0x5edddd=>{const _0x37ef95=_0x5bbd61;_0x1e3ac3+=_0x37ef95(0xef)+(_0x5edddd[_0x37ef95(0xf4)]||'Unknown\x20Player')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22queue-time\x22>'+formatQueueTime(_0x5edddd[_0x37ef95(0xeb)])+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x1e3ac3+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x54c2c2['innerHTML']=_0x1e3ac3;}function formatQueueTime(_0x3fe33f){const _0x4fc656=a43_0x7425;if(!_0x3fe33f)return _0x4fc656(0xf8);const _0x42fb6d=_0x3fe33f[_0x4fc656(0xe9)]?_0x3fe33f['toDate']():new Date(_0x3fe33f),_0x4acb16=new Date(),_0x672752=Math['floor']((_0x4acb16-_0x42fb6d)/0xea60);if(_0x672752<0x1)return'Just\x20now';return _0x672752+'m\x20in\x20queue';}async function checkQueueTimeout(_0x12e631){const _0x4c506f=a43_0x7425;if(!_0x12e631['lastUpdated'])return;const _0x3be710=_0x12e631[_0x4c506f(0xeb)][_0x4c506f(0xe9)]?_0x12e631[_0x4c506f(0xeb)][_0x4c506f(0xe9)]():new Date(_0x12e631['lastUpdated']),_0x63dcac=new Date(),_0x42d06d=Math['floor']((_0x63dcac-_0x3be710)/0xea60);if(_0x42d06d>=0x1e)try{const _0xd0d4af=doc(db,'readyPlayers',_0x12e631['id']);await updateDoc(_0xd0d4af,{'isReady':![]});}catch(_0x3fa0b2){console[_0x4c506f(0xec)]('Error\x20removing\x20player\x20from\x20queue:',_0x3fa0b2);}}const unsubscribe=onSnapshot(readyPlayersRef,_0x4c44f1=>{const _0x46883b=[];_0x4c44f1['forEach'](_0x4bd55a=>{const _0x33b87a=a43_0x7425,_0x19b3c9=_0x4bd55a[_0x33b87a(0xf0)]();if(_0x19b3c9['isReady']===!![]){const _0x35f5ed={'id':_0x4bd55a['id'],'username':_0x19b3c9['username'],'lastUpdated':_0x19b3c9['lastUpdated']||new Date()};_0x46883b['push'](_0x35f5ed),checkQueueTimeout(_0x35f5ed);}}),updateQueueDisplay(_0x46883b);},_0x24cc62=>{console['error']('Error\x20in\x20queue\x20listener:',_0x24cc62);});window['addEventListener']('unload',()=>{unsubscribe();});