const a53_0x45e548=a53_0x46db,a53_0x1fbf1d=(function(){let _0x1824c7=!![];return function(_0x6bfce2,_0x26f881){const _0x9c0127=_0x1824c7?function(){if(_0x26f881){const _0x1fc271=_0x26f881['apply'](_0x6bfce2,arguments);return _0x26f881=null,_0x1fc271;}}:function(){};return _0x1824c7=![],_0x9c0127;};}()),a53_0x8259a0=a53_0x1fbf1d(this,function(){const _0x2e7e28=a53_0x46db,_0x38648f=function(){let _0x1bddc2;try{_0x1bddc2=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x3d959e){_0x1bddc2=window;}return _0x1bddc2;},_0x5c76ae=_0x38648f(),_0x4e5b27=_0x5c76ae[_0x2e7e28(0x207)]=_0x5c76ae['console']||{},_0x49f67c=['log',_0x2e7e28(0x238),_0x2e7e28(0x21a),'error','exception','table','trace'];for(let _0x49af29=0x0;_0x49af29<_0x49f67c[_0x2e7e28(0x1fb)];_0x49af29++){const _0x1e943c=a53_0x1fbf1d['constructor']['prototype'][_0x2e7e28(0x1ef)](a53_0x1fbf1d),_0xd00881=_0x49f67c[_0x49af29],_0x16e306=_0x4e5b27[_0xd00881]||_0x1e943c;_0x1e943c['__proto__']=a53_0x1fbf1d['bind'](a53_0x1fbf1d),_0x1e943c['toString']=_0x16e306['toString']['bind'](_0x16e306),_0x4e5b27[_0xd00881]=_0x1e943c;}});a53_0x8259a0();import{auth,db}from'./firebase-config.js';import{doc,getDoc,setDoc,collection,query,where,getDocs,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const RIBBON_DEFINITIONS={'Rematch\x20Ribbon':{'description':'Beat\x20a\x20pilot\x20with\x20the\x20\x22Rematch\x22\x20subgame\x20selected','image':'../images/ribbons/Rematch.png','color':'#FF6B6B'},'Overachiever\x20Ribbon':{'description':a53_0x45e548(0x1f4),'image':'../images/ribbons/Overachiever.png','color':'#96CEB4','levels':[0x64,0xc8,0x12c,0x190,0x1f4,0x258,0x2bc,0x320,0x384,0x3e8]},'Brick\x20Wall':{'description':a53_0x45e548(0x1f5),'image':'../images/ribbons/BrickWall.png','color':'#F0932B','levels':[0x50,0x55,0x5a,0x5f,0x64]},'Collector\x20Ribbon':{'description':'Hold\x20more\x20than\x205\x20ribbons\x20at\x20a\x20time','image':'../images/ribbons/Collector.png','color':a53_0x45e548(0x22d),'levels':[0x5,0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32]},'Sub-Gamer\x20Ribbon':{'description':a53_0x45e548(0x206),'image':a53_0x45e548(0x1f8),'color':a53_0x45e548(0x231),'levels':[0x32,0x64,0x96,0xc8,0xfa,0x12c,0x15e,0x190,0x1c2,0x1f4]},'Explorer\x20Ribbon':{'description':'Played\x20at\x20least\x2020\x20unique\x20maps','image':'../images/ribbons/Explorer.png','color':'#55A3FF','levels':[0x14,0x28,0x3c,0x50,0x64,0x78,0x8c,0xa0,0xb4,0xc8]},'Socialite\x20Ribbon':{'description':'Played\x20at\x20least\x2010\x20unique\x20pilots','image':a53_0x45e548(0x213),'color':'#FF7675','levels':[0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32,0x37]},'Underdog\x20Ribbon':{'description':'Beat\x20a\x20pilot\x20ranked\x20higher\x20than\x20you','image':a53_0x45e548(0x243),'color':'#FF9500','levels':[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0x9,0xa]},'Domination\x20Ribbon':{'description':'Beat\x205\x20unique\x20pilots\x20in\x20a\x20rank\x20(including\x20your\x20own)','image':a53_0x45e548(0x22a),'color':'#8E44AD','levels':[0x1,0x2,0x3,0x4,0x5]},'Top\x20Bronze\x20Pilot':{'description':a53_0x45e548(0x1f1),'image':'../images/ribbons/toprank.png','color':'#CD7F32'},'Top\x20Silver\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Silver\x20rank','image':'../images/ribbons/toprank.png','color':'#C0C0C0'},'Top\x20Gold\x20Pilot':{'description':a53_0x45e548(0x1ff),'image':a53_0x45e548(0x1eb),'color':'#FFD700'},'Top\x20Emerald\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Emerald\x20rank','image':'../images/ribbons/toprank.png','color':'#50C878'}};export const RIBBON_CSS='\x0a/*\x20Stats\x20integration\x20styles\x20*/\x0a.ribbon-section\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-top:\x201rem;\x0a}\x0a\x0a.ribbon-stat-item.full-width\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-bottom:\x200;\x0a}\x0a\x0a/*\x20Military\x20Ribbon\x20Rack\x20Styling\x20-\x20NO\x20OUTER\x20CONTAINER\x20*/\x0a.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20padding:\x200;\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20box-shadow:\x20none;\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20align-items:\x20flex-start;\x0a}\x0a\x0a.ribbon-rack-empty-inline\x20{\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20padding:\x2060px\x2040px;\x0a\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20border-radius:\x2012px;\x0a\x20\x20\x20\x20border:\x202px\x20solid\x20rgba(255,\x20255,\x20255,\x200.1);\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a}\x0a\x0a.empty-rack-text\x20{\x0a\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20font-style:\x20italic;\x0a\x20\x20\x20\x20font-size:\x201.2rem;\x0a}\x0a\x0a/*\x20Ribbon\x20Rows\x20*/\x0a.ribbon-row\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x206px;\x0a\x20\x20\x20\x20margin-bottom:\x206px;\x0a\x20\x20\x20\x20justify-content:\x20flex-start;\x0a}\x0a\x0a.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20margin-left:\x2060px;\x0a}\x0a\x0a/*\x20Individual\x20Military\x20Ribbon\x20Styling\x20-\x20FIXED\x20OVERFLOW\x20FOR\x20LEVEL\x20INDICATOR\x20*/\x0a.military-ribbon\x20{\x0a\x20\x20\x20\x20position:\x20relative;\x0a\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20transition:\x20transform\x200.3s\x20ease;\x0a\x20\x20\x20\x20flex-shrink:\x200;\x0a\x20\x20\x20\x20width:\x20190px;\x0a\x20\x20\x20\x20height:\x2060px;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#333;\x0a\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20overflow:\x20visible;\x20/*\x20Changed\x20from\x20hidden\x20to\x20visible\x20*/\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20margin:\x2012px\x2012px\x2012px\x200;\x20/*\x20Added\x20margin\x20to\x20prevent\x20clipping\x20*/\x0a}\x0a\x0a.military-ribbon:hover\x20{\x0a\x20\x20\x20\x20transform:\x20translateY(-4px);\x0a\x20\x20\x20\x20z-index:\x2010;\x0a}\x0a\x0a/*\x20Ribbon\x20image\x20container\x20to\x20handle\x20the\x20actual\x20overflow\x20*/\x0a.ribbon-image-container\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20border-radius:\x201px;\x0a}\x0a\x0a.ribbon-image\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20object-fit:\x20cover;\x0a\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20image-rendering:\x20crisp-edges;\x0a}\x0a\x0a.ribbon-fallback\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20text-shadow:\x200\x202px\x204px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a}\x0a\x0a.ribbon-name\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.9);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201.2;\x0a\x20\x20\x20\x20margin-top:\x206px;\x0a\x20\x20\x20\x20max-width:\x20120px;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20text-overflow:\x20ellipsis;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20-24px;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20font-weight:\x20500;\x0a}\x0a\x0a.military-ribbon:hover\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20display:\x20block;\x0a}\x0a\x0a.ribbon-devices\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x2050%;\x0a\x20\x20\x20\x20right:\x206px;\x0a\x20\x20\x20\x20transform:\x20translateY(-50%);\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x203px;\x0a\x20\x20\x20\x20z-index:\x205;\x0a}\x0a\x0a.ribbon-device\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20text-shadow:\x200\x200\x204px\x20rgba(0,0,0,0.9);\x0a\x20\x20\x20\x20filter:\x20drop-shadow(0\x202px\x204px\x20rgba(0,0,0,0.8));\x0a}\x0a\x0a.bronze-star\x20{\x0a\x20\x20\x20\x20color:\x20#CD7F32;\x0a}\x0a\x0a.silver-star\x20{\x0a\x20\x20\x20\x20color:\x20#C0C0C0;\x0a}\x0a\x0a.gold-star\x20{\x0a\x20\x20\x20\x20color:\x20#FFD700;\x0a}\x0a\x0a/*\x20Level\x20indicator\x20-\x20NOW\x20FULLY\x20VISIBLE\x20*/\x0a.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x20-8px;\x0a\x20\x20\x20\x20right:\x20-8px;\x0a\x20\x20\x20\x20background:\x20#FFD700;\x0a\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20width:\x2024px;\x0a\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#FFF;\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x208px\x20rgba(0,0,0,0.7);\x0a\x20\x20\x20\x20z-index:\x206;\x0a}\x0a\x0a/*\x20Custom\x20tooltip\x20-\x20only\x20this\x20one\x20will\x20show\x20*/\x0a.military-ribbon::before\x20{\x0a\x20\x20\x20\x20content:\x20attr(data-tooltip);\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20100%;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20background:\x20rgba(0,0,0,0.95);\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20padding:\x208px\x2012px;\x0a\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20pointer-events:\x20none;\x0a\x20\x20\x20\x20transition:\x20opacity\x200.3s;\x0a\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20margin-bottom:\x208px;\x0a\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(255,\x20255,\x20255,\x200.2);\x0a}\x0a\x0a.military-ribbon:hover::before\x20{\x0a\x20\x20\x20\x20opacity:\x201;\x0a}\x0a\x0a/*\x20Responsive\x20adjustments\x20*/\x0a@media\x20(max-width:\x201024px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2034px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x208px\x208px\x208px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-6px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-6px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2052px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-20px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20768px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2028px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x206px\x206px\x206px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x209px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-5px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-5px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2042px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2011px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-18px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x205px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20480px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2070px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x205px\x205px\x205px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2036px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x204px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-4px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-4px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a.stats-grid\x20.ribbon-section\x20{\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20padding:\x200;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20{\x0a\x20\x20\x20\x20background-color:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20padding:\x2025px;\x0a\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20.stat-label\x20{\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20text-transform:\x20uppercase;\x0a\x20\x20\x20\x20opacity:\x200.9;\x0a\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.95);\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a}\x0a\x0a.ribbon-level-indicator.level-1\x20{\x20background:\x20#808080;\x20}\x0a.ribbon-level-indicator.level-2\x20{\x20background:\x20#CD7F32;\x20}\x0a.ribbon-level-indicator.level-3\x20{\x20background:\x20#b9f1fc;\x20}\x0a.ribbon-level-indicator.level-4\x20{\x20background:\x20#FFD700;\x20}\x0a.ribbon-level-indicator.level-5-plus\x20{\x20background:\x20#50C878;\x20}\x0a';function a53_0x1bfc(){const _0x551780=['evaluateSubGamerRibbonFromCount','Error\x20saving\x20ribbons:','Standard','CLEANUP_INTERVAL','stringify','\x20Pilot','wins','bulkLoadPlayerData','🚀\x20Cache\x20hit\x20(memory)\x20for\x20','get','Overachiever\x20Ribbon','lastCleanup','Sub-Gamer\x20Ribbon','🎯\x20UNDERDOG\x20VICTORY:\x20','size','matchCache','key','level','setCachedData','Collector\x20Ribbon','../images/ribbons/toprank.png','Domination\x20Ribbon','setCachedMatches','totalMatches','bind','min','Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Bronze\x20rank','from','getCachedData','Played\x20over\x20100\x20matches','Amass\x20at\x20least\x2080%\x20overall\x20win\x20rate\x20percentage\x20(minimum\x2050\x20matches)','eloRating','levels','../images/ribbons/Subgamer.png','Emerald','startsWith','length','matches','❌\x20No\x20player\x20data\x20found\x20for\x20','keys','Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Gold\x20rank','evaluateAllRibbonsForPlayerOptimized','evaluateDominationRibbonFromRanks','savePlayerRibbonsOptimized','Gold','\x20-\x20Level\x20','winnerRating','Play\x20over\x2050\x20subgame\x20matches','console','getCacheStats','\x20Badge','winnerUsername','\x20matches','findIndex','loserUsername','📊\x20','\x20player\x20records\x20for\x20underdog\x20calculations...','evaluateSocialiteRibbonFromCount','shouldRefreshCache','checkTopRankStatus','../images/ribbons/Socialite.png','evaluateExplorerRibbonFromCount','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22ribbon-image\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27;\x20this.nextElementSibling.style.display=\x27block\x27;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-fallback\x22\x20style=\x22display:\x20none;\x20background:\x20','CACHE_KEY_PREFIX','level-4','forEach','Socialite\x20Ribbon','info','setItem','Error\x20checking\x20top\x20rank\x20status:','💾\x20Cache\x20hit\x20(localStorage)\x20for\x20','mapPlayed','\x20new/updated\x20ribbons\x20for\x20','description','❌\x20No\x20ELO\x20rating\x20data\x20for\x20','🏆\x20Underdog\x20Ribbon\x20upgrade:\x20Level\x20','evaluateAllRibbonsFromData','Explorer\x20Ribbon','join','push','getPlayerDataCached','getItem','⚠️\x20Missing\x20player\x20data\x20for\x20','../images/ribbons/Domination.png','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','autoCleanup','#6C5CE7','rematchWins','%\x20win\x20rate\x20over\x20','Bronze','#A29BFE','delete','ribbons','underdogWins','dominatedRanks','set','entries','warn',')\x20beat\x20','subgameMatches','Brick\x20Wall','log','removeItem','uniqueOpponents','timestamp','memoryCache','all','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','../images/ribbons/Underdog.png','👑\x20Dominated\x20','👑\x20NEW\x20Top\x20Rank\x20Achievement:\x20','loserRating','subgameType','error','🆕\x20New\x20top\x20rank\x20achievements\x20found\x20for\x20cached\x20player\x20','username','evaluateBrickWallRibbonFromWinRate','<div\x20class=\x22ribbon-devices\x22>','playersD3','\x20underdog\x20wins)','getPlayerMatchesOptimized','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22military-ribbon\x22\x20data-tooltip=\x22','<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20silver-star\x22></i>','now','data','CACHE_DURATION','getCachedMatches','add','toFixed','evaluateOverachieverRibbonFromCount','Rematch\x20Ribbon','❌\x20Not\x20underdog:\x20'];a53_0x1bfc=function(){return _0x551780;};return a53_0x1bfc();}class RibbonCacheManager{constructor(){const _0xff2728=a53_0x45e548;this['memoryCache']=new Map(),this[_0xff2728(0x254)]=0x3c*0x3c*0x3e8,this['CACHE_KEY_PREFIX']='ribbon_cache_',this['lastCleanup']=Date['now'](),this[_0xff2728(0x1da)]=0x1e*0x3c*0x3e8;}['getCacheKey'](_0x11f585,_0x52e733){const _0x41d67c=a53_0x45e548;return''+this[_0x41d67c(0x216)]+_0x11f585+'_'+_0x52e733;}[a53_0x45e548(0x1f3)](_0x52a123,_0x4eb068){const _0x23411c=a53_0x45e548;this['autoCleanup']();const _0x5cf2c9=this['getCacheKey'](_0x52a123,_0x4eb068);if(this['memoryCache']['has'](_0x5cf2c9)){const _0x379422=this['memoryCache']['get'](_0x5cf2c9);if(Date['now']()-_0x379422[_0x23411c(0x23f)]<this['CACHE_DURATION'])return console['log'](_0x23411c(0x1df)+_0x52a123),_0x379422['data'];this['memoryCache'][_0x23411c(0x232)](_0x5cf2c9);}const _0x4feb66=localStorage['getItem'](_0x5cf2c9);if(_0x4feb66)try{const _0x17ae74=JSON['parse'](_0x4feb66);if(Date['now']()-_0x17ae74[_0x23411c(0x23f)]<this['CACHE_DURATION'])return this['memoryCache'][_0x23411c(0x236)](_0x5cf2c9,{'data':_0x17ae74[_0x23411c(0x233)],'timestamp':_0x17ae74['timestamp'],'matchCount':_0x17ae74['matchCount']}),console['log'](_0x23411c(0x21d)+_0x52a123),_0x17ae74['ribbons'];localStorage['removeItem'](_0x5cf2c9);}catch(_0x3355cf){localStorage['removeItem'](_0x5cf2c9);}return null;}[a53_0x45e548(0x1e9)](_0x5a8dcf,_0x3f3250,_0x357e3d,_0x24235b){const _0x43e67a=a53_0x45e548,_0x2dd561=this['getCacheKey'](_0x5a8dcf,_0x3f3250),_0x28a904=Date['now']();this['memoryCache']['set'](_0x2dd561,{'data':_0x357e3d,'timestamp':_0x28a904,'matchCount':_0x24235b});try{const _0x13e4e2={'ribbons':_0x357e3d,'matchCount':_0x24235b,'timestamp':_0x28a904,'version':0x3};localStorage[_0x43e67a(0x21b)](_0x2dd561,JSON['stringify'](_0x13e4e2));}catch(_0x4a3823){this['clearOldCache']();try{localStorage[_0x43e67a(0x21b)](_0x2dd561,JSON[_0x43e67a(0x1db)](data));}catch(_0x2d940f){}}}[a53_0x45e548(0x211)](_0x13d34c,_0x27d5a7,_0xa6d991){const _0x50e65c=a53_0x45e548,_0x31378f=this['getCacheKey'](_0x13d34c,_0x27d5a7);if(this['memoryCache']['has'](_0x31378f)){const _0xa32cc0=this['memoryCache'][_0x50e65c(0x1e0)](_0x31378f);return _0xa32cc0['matchCount']!==_0xa6d991;}const _0xa3637=localStorage['getItem'](_0x31378f);if(_0xa3637)try{const _0x8374f7=JSON['parse'](_0xa3637);return _0x8374f7['matchCount']!==_0xa6d991;}catch(_0xd65989){return!![];}return!![];}['invalidatePlayerCache'](_0xab98a1,_0x27f979){const _0x174c38=a53_0x45e548,_0x206b9a=this['getCacheKey'](_0xab98a1,_0x27f979);this['memoryCache']['delete'](_0x206b9a),localStorage[_0x174c38(0x23d)](_0x206b9a),console['log']('🗑️\x20Invalidated\x20cache\x20for\x20'+_0xab98a1+'\x20('+_0x27f979+')\x20-\x20new\x20match\x20detected');}['autoCleanup'](){const _0x17080d=a53_0x45e548,_0x5cf003=Date['now']();_0x5cf003-this[_0x17080d(0x1e2)]>this['CLEANUP_INTERVAL']&&(this['cleanup'](),this['lastCleanup']=_0x5cf003);}['cleanup'](){const _0xc7bb83=a53_0x45e548,_0x2948e0=Date['now']();let _0x1e80ca=0x0,_0x2b42a2=0x0;for(const [_0x420efb,_0x3d55d4]of this[_0xc7bb83(0x240)][_0xc7bb83(0x237)]()){_0x2948e0-_0x3d55d4[_0xc7bb83(0x23f)]>this[_0xc7bb83(0x254)]&&(this[_0xc7bb83(0x240)]['delete'](_0x420efb),_0x1e80ca++);}for(let _0x31e4a9=localStorage[_0xc7bb83(0x1fb)]-0x1;_0x31e4a9>=0x0;_0x31e4a9--){const _0x50e9ab=localStorage[_0xc7bb83(0x1e7)](_0x31e4a9);if(_0x50e9ab&&_0x50e9ab['startsWith'](this['CACHE_KEY_PREFIX']))try{const _0x164d7e=JSON['parse'](localStorage[_0xc7bb83(0x228)](_0x50e9ab));_0x2948e0-_0x164d7e['timestamp']>this[_0xc7bb83(0x254)]&&(localStorage[_0xc7bb83(0x23d)](_0x50e9ab),_0x2b42a2++);}catch(_0x5f4785){localStorage['removeItem'](_0x50e9ab),_0x2b42a2++;}}}['clearOldCache'](){const _0x31239b=a53_0x45e548,_0x3a9e9f=[];for(let _0x4905b8=0x0;_0x4905b8<localStorage[_0x31239b(0x1fb)];_0x4905b8++){const _0x47a2a1=localStorage[_0x31239b(0x1e7)](_0x4905b8);if(_0x47a2a1&&_0x47a2a1[_0x31239b(0x1fa)](this[_0x31239b(0x216)]))try{const _0x3d7e70=JSON['parse'](localStorage['getItem'](_0x47a2a1));_0x3a9e9f[_0x31239b(0x226)]({'key':_0x47a2a1,'timestamp':_0x3d7e70['timestamp']});}catch(_0x20bc96){localStorage['removeItem'](_0x47a2a1);}}_0x3a9e9f['sort']((_0x48d19a,_0x23c16f)=>_0x48d19a[_0x31239b(0x23f)]-_0x23c16f['timestamp']);const _0x40870d=Math['floor'](_0x3a9e9f['length']/0x2);for(let _0x865a0b=0x0;_0x865a0b<_0x40870d;_0x865a0b++){localStorage['removeItem'](_0x3a9e9f[_0x865a0b][_0x31239b(0x1e7)]);}}['getCacheStats'](){return{'memoryEntries':this['memoryCache']['size'],'lastCleanup':new Date(this['lastCleanup'])['toLocaleTimeString']()};}}class MatchCacheManager{constructor(){const _0x3623dd=a53_0x45e548;this[_0x3623dd(0x1e6)]=new Map(),this[_0x3623dd(0x254)]=0xf*0x3c*0x3e8,this[_0x3623dd(0x1e2)]=Date[_0x3623dd(0x252)]();}[a53_0x45e548(0x255)](_0x1ecfad,_0x19023e){const _0x449073=a53_0x45e548;this[_0x449073(0x22c)]();const _0x3f7c9c=_0x1ecfad+'_'+_0x19023e,_0x5d17af=this['matchCache'][_0x449073(0x1e0)](_0x3f7c9c);if(_0x5d17af&&Date['now']()-_0x5d17af['timestamp']<this['CACHE_DURATION'])return console['log']('🎯\x20Cache\x20hit\x20(matches)\x20for\x20'+_0x1ecfad),_0x5d17af[_0x449073(0x1fc)];return _0x5d17af&&this['matchCache']['delete'](_0x3f7c9c),null;}[a53_0x45e548(0x1ed)](_0x41bdd7,_0x4d2838,_0x121faa){const _0x9d83f9=a53_0x45e548,_0x3c1260=_0x41bdd7+'_'+_0x4d2838;this['matchCache'][_0x9d83f9(0x236)](_0x3c1260,{'matches':_0x121faa,'timestamp':Date[_0x9d83f9(0x252)]()});}['autoCleanup'](){const _0x3457d0=a53_0x45e548,_0x4ed30d=Date['now']();if(_0x4ed30d-this[_0x3457d0(0x1e2)]>0x5*0x3c*0x3e8){let _0x125398=0x0;for(const [_0x522371,_0x15f877]of this['matchCache']['entries']()){_0x4ed30d-_0x15f877[_0x3457d0(0x23f)]>this['CACHE_DURATION']&&(this['matchCache'][_0x3457d0(0x232)](_0x522371),_0x125398++);}this['lastCleanup']=_0x4ed30d;}}['getCacheStats'](){const _0x384ed6=a53_0x45e548;return{'entries':this[_0x384ed6(0x1e6)]['size'],'lastCleanup':new Date(this['lastCleanup'])['toLocaleTimeString']()};}}class RibbonSystem{constructor(){this['pendingEvaluations']=new Map(),this['batchTimer']=null,this['BATCH_DELAY']=0x32,this['playerDataCache']=new Map();}async[a53_0x45e548(0x1de)](_0x1362df,_0xc6d4c){const _0x53fc8c=_0xc6d4c==='D1'?'players':_0xc6d4c==='D2'?'playersD2':'playersD3',_0x32692b=collection(db,_0x53fc8c),_0x2926b7=await getDocs(_0x32692b),_0x5ef528=new Map();return _0x2926b7['forEach'](_0x50dd28=>{const _0x116b68=a53_0x46db,_0x2b7dea=_0x50dd28['data']();_0x2b7dea[_0x116b68(0x24a)]&&(_0x2b7dea[_0x116b68(0x1f6)]!==undefined&&(_0x2b7dea['rating']=_0x2b7dea['eloRating']),_0x5ef528['set'](_0x2b7dea['username'],_0x2b7dea));}),console['log']('📊\x20Bulk\x20loaded\x20'+_0x5ef528['size']+'\x20players\x20from\x20'+_0x53fc8c),_0x5ef528;}async['evaluateAllRibbonsFromData'](_0x1908cc,_0x2b81df,_0x472aa6,_0xf1c827){const _0x97226e=a53_0x45e548,_0x430b92={},_0x1b9eb6=_0x2b81df['username'],_0x94402d={'totalMatches':_0x1908cc['length'],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0,'dominatedRanks':new Set()},_0x1e67c4=new Set();_0x1908cc[_0x97226e(0x218)](_0x1c8dc8=>{const _0x37bed4=_0x97226e,_0x358d7e=_0x1c8dc8['winnerUsername']===_0x1b9eb6,_0x3e4702=_0x358d7e?_0x1c8dc8['loserUsername']:_0x1c8dc8[_0x37bed4(0x20a)];if(_0x3e4702)_0x1e67c4[_0x37bed4(0x256)](_0x3e4702);}),console[_0x97226e(0x23c)]('🚀\x20Bulk\x20loading\x20'+_0x1e67c4['size']+'\x20player\x20records\x20for\x20underdog\x20calculations...');const _0xc3450d=await this['bulkLoadPlayerData']([..._0x1e67c4,_0x1b9eb6],_0xf1c827),_0x2b4aa2=_0xc3450d['get'](_0x1b9eb6);!_0x2b4aa2&&console[_0x97226e(0x23c)]('⚠️\x20No\x20current\x20player\x20data\x20found\x20for\x20'+_0x1b9eb6);const _0x297708={0x0:new Set(),0x1:new Set(),0x2:new Set(),0x3:new Set(),0x4:new Set()};_0x1908cc['forEach'](_0x227ac9=>{const _0x11d4ef=_0x97226e,_0x34e9b1=_0x227ac9['winnerUsername']===_0x1b9eb6,_0x37e5db=_0x34e9b1?_0x227ac9[_0x11d4ef(0x20d)]:_0x227ac9['winnerUsername'];if(_0x34e9b1){_0x94402d['wins']++;_0x227ac9[_0x11d4ef(0x247)]==='Rematch'&&_0x94402d[_0x11d4ef(0x22e)]++;this['isUnderdogVictoryFast'](_0x227ac9,_0x1b9eb6,_0x2b4aa2,_0xc3450d)&&_0x94402d['underdogWins']++;const _0x3a3369=_0xc3450d['get'](_0x37e5db);if(_0x3a3369){const _0x59ef5=_0x3a3369['eloRating']||0x0,_0x2145e8=getPlayerRankTier(_0x59ef5);_0x297708[_0x2145e8]['add'](_0x37e5db);}}_0x227ac9[_0x11d4ef(0x247)]&&_0x227ac9['subgameType']!==_0x11d4ef(0x1d9)&&_0x94402d[_0x11d4ef(0x23a)]++,_0x227ac9[_0x11d4ef(0x21e)]&&_0x94402d['uniqueMaps'][_0x11d4ef(0x256)](_0x227ac9[_0x11d4ef(0x21e)]),_0x37e5db&&_0x94402d['uniqueOpponents']['add'](_0x37e5db);}),Object['keys'](_0x297708)[_0x97226e(0x218)](_0x20ff1d=>{const _0x274514=_0x97226e;_0x297708[_0x20ff1d][_0x274514(0x1e5)]>=0x5&&_0x94402d['dominatedRanks']['add'](parseInt(_0x20ff1d));}),console['log']('🎯\x20Found\x20'+_0x94402d[_0x97226e(0x234)]+'\x20underdog\x20victories\x20for\x20'+_0x1b9eb6),console['log'](_0x97226e(0x244)+_0x94402d['dominatedRanks'][_0x97226e(0x1e5)]+'\x20ranks:\x20['+Array[_0x97226e(0x1f2)](_0x94402d[_0x97226e(0x235)])['map'](_0x352c51=>getRankTierName(_0x352c51))['join'](',\x20')+']');const _0x231f8f=_0x94402d[_0x97226e(0x1ee)]>0x0?_0x94402d['wins']/_0x94402d[_0x97226e(0x1ee)]*0x64:0x0,_0x435a49=[['Overachiever\x20Ribbon',this[_0x97226e(0x258)](_0x94402d[_0x97226e(0x1ee)],_0x472aa6)],[_0x97226e(0x259),this['evaluateRematchRibbonFromCount'](_0x94402d['rematchWins'],_0x472aa6)],['Sub-Gamer\x20Ribbon',this[_0x97226e(0x1d7)](_0x94402d['subgameMatches'],_0x472aa6)],['Explorer\x20Ribbon',this['evaluateExplorerRibbonFromCount'](_0x94402d['uniqueMaps']['size'],_0x472aa6)],[_0x97226e(0x219),this[_0x97226e(0x210)](_0x94402d['uniqueOpponents']['size'],_0x472aa6)],['Brick\x20Wall',this['evaluateBrickWallRibbonFromWinRate'](_0x231f8f,_0x472aa6,_0x94402d['totalMatches'])],['Underdog\x20Ribbon',this['evaluateUnderdogRibbonFromCount'](_0x94402d[_0x97226e(0x234)],_0x472aa6)],[_0x97226e(0x1ec),this['evaluateDominationRibbonFromRanks'](_0x94402d['dominatedRanks']['size'],_0x472aa6)]];_0x435a49['forEach'](([_0x2864aa,_0x4019d0])=>{_0x4019d0&&(_0x430b92[_0x2864aa]=_0x4019d0);});const _0x1d0c54=Object[_0x97226e(0x1fe)](_0x472aa6)['length']+Object['keys'](_0x430b92)['length'],_0x5e41a2=this['evaluateCollectorRibbonFromCount'](_0x1d0c54,_0x472aa6);return _0x5e41a2&&(_0x430b92['Collector\x20Ribbon']=_0x5e41a2),_0x430b92;}[a53_0x45e548(0x201)](_0x1e8aae,_0x11c8b3){const _0x12185e=a53_0x45e548;if(_0x1e8aae===0x0)return null;const _0x5ad5ad=_0x11c8b3['Domination\x20Ribbon']||{'level':0x0};if(_0x1e8aae>_0x5ad5ad[_0x12185e(0x1e8)]){const _0x658dd2=[];for(let _0x14724c=0x0;_0x14724c<_0x1e8aae;_0x14724c++){_0x658dd2['push'](getRankTierName(_0x14724c));}return console[_0x12185e(0x23c)]('👑\x20Domination\x20Ribbon\x20awarded:\x20Level\x20'+_0x5ad5ad['level']+'\x20→\x20'+_0x1e8aae+'\x20(Dominated:\x20'+_0x658dd2[_0x12185e(0x225)](',\x20')+')'),{'level':_0x1e8aae,'awardedAt':new Date(),'dominatedRanks':_0x658dd2};}return null;}async['checkTopRankStatus'](_0x355dcf,_0x211ba6){const _0x1873e9=a53_0x45e548;try{const _0x4ebe69=_0x211ba6==='D1'?'players':_0x211ba6==='D2'?'playersD2':_0x1873e9(0x24d),_0x49b5e3=await this[_0x1873e9(0x227)](_0x355dcf,_0x211ba6);if(!_0x49b5e3||_0x49b5e3[_0x1873e9(0x1f6)]===undefined)return console['log'](_0x1873e9(0x221)+_0x355dcf),null;const _0x2f6188=_0x49b5e3['eloRating'],_0x119422=getPlayerRankTier(_0x2f6188),_0x2e95f9=getRankTierName(_0x119422);if(_0x2e95f9==='Unranked')return console['log']('❌\x20'+_0x355dcf+'\x20is\x20Unranked\x20('+_0x2f6188+'\x20ELO)'),null;console[_0x1873e9(0x23c)]('🔍\x20Checking\x20Top\x20'+_0x2e95f9+'\x20status\x20for\x20'+_0x355dcf+'\x20('+_0x2f6188+'\x20ELO)');const _0x4d419d=collection(db,_0x4ebe69),_0x51ecb9=await getDocs(_0x4d419d);let _0x280b5a=null,_0x22eb6e=-0x1,_0x56c044=0x0;_0x51ecb9['forEach'](_0x49e669=>{const _0x571388=_0x1873e9,_0x1f408e=_0x49e669[_0x571388(0x253)](),_0xfc8b76=_0x1f408e['eloRating']||0x0,_0x1fcfa1=getPlayerRankTier(_0xfc8b76);_0x1fcfa1===_0x119422&&(_0x56c044++,_0xfc8b76>_0x22eb6e&&(_0x22eb6e=_0xfc8b76,_0x280b5a=_0x1f408e['username']));});const _0x483383=_0x280b5a===_0x355dcf;return console[_0x1873e9(0x23c)](_0x1873e9(0x20e)+_0x2e95f9+'\x20Tier:\x20'+_0x56c044+'\x20players,\x20Top:\x20'+_0x280b5a+'\x20('+_0x22eb6e+'\x20ELO),\x20'+_0x355dcf+'\x20is\x20#1:\x20'+_0x483383),_0x483383?_0x2e95f9:null;}catch(_0x392e5e){return console['error'](_0x1873e9(0x21c),_0x392e5e),null;}}async['evaluateTopRankRibbon'](_0x1a4fb8,_0x30a021,_0x4c5faf){const _0x186073=a53_0x45e548,_0x5e67e4=await this[_0x186073(0x212)](_0x1a4fb8,_0x30a021),_0x313a77={};if(_0x5e67e4){const _0xd9cda2='Top\x20'+_0x5e67e4+'\x20Pilot';if(RIBBON_DEFINITIONS[_0xd9cda2]){const _0x5ea8cd=_0x4c5faf[_0xd9cda2];!_0x5ea8cd?(console[_0x186073(0x23c)](_0x186073(0x245)+_0x1a4fb8+'\x20earned\x20'+_0xd9cda2+'!'),_0x313a77[_0xd9cda2]={'level':0x1,'awardedAt':new Date(),'rank':_0x5e67e4,'achievedAt':new Date()}):console['log']('✅\x20'+_0x1a4fb8+'\x20already\x20has\x20'+_0xd9cda2+'\x20-\x20No\x20changes\x20needed');}}return Object['keys'](_0x4c5faf)[_0x186073(0x218)](_0x3d34e9=>{const _0x2b7c21=_0x186073;_0x3d34e9[_0x2b7c21(0x1fa)]('Top\x20')&&_0x3d34e9['endsWith'](_0x2b7c21(0x1dc))&&(!_0x313a77[_0x3d34e9]&&console['log']('✅\x20Preserving\x20existing\x20'+_0x3d34e9));}),_0x313a77;}async[a53_0x45e548(0x200)](_0x569a72,_0x381fc1='D1'){const _0x2e136a=a53_0x45e548;try{const _0x54921c=ribbonCache[_0x2e136a(0x1f3)](_0x569a72,_0x381fc1);if(_0x54921c){const _0x1c6c1b=await this['evaluateTopRankRibbon'](_0x569a72,_0x381fc1,_0x54921c);if(Object['keys'](_0x1c6c1b)['length']>0x0){console[_0x2e136a(0x23c)](_0x2e136a(0x249)+_0x569a72),await this[_0x2e136a(0x202)](_0x569a72,_0x1c6c1b,_0x381fc1);const _0x48e1c2={..._0x54921c,..._0x1c6c1b};return ribbonCache[_0x2e136a(0x1e9)](_0x569a72,_0x381fc1,_0x48e1c2,0x0),_0x48e1c2;}return _0x54921c;}const [_0x469145,_0x1680e7]=await Promise['all']([this['getPlayerDataCached'](_0x569a72,_0x381fc1),this['getPlayerRibbonsCached'](_0x569a72,_0x381fc1)]);if(!_0x469145)return{};const _0x26fa12=_0x469145['matchesPlayed']||0x0,_0x1d02d3=await this['evaluateTopRankRibbon'](_0x569a72,_0x381fc1,_0x1680e7);if(!ribbonCache['shouldRefreshCache'](_0x569a72,_0x381fc1,_0x26fa12)){if(Object[_0x2e136a(0x1fe)](_0x1d02d3)['length']>0x0){await this['savePlayerRibbonsOptimized'](_0x569a72,_0x1d02d3,_0x381fc1);const _0x253a3c={..._0x1680e7,..._0x1d02d3};return ribbonCache['setCachedData'](_0x569a72,_0x381fc1,_0x253a3c,_0x26fa12),_0x253a3c;}return ribbonCache['setCachedData'](_0x569a72,_0x381fc1,_0x1680e7,_0x26fa12),_0x1680e7;}const _0x1e6d08=await this[_0x2e136a(0x24f)](_0x569a72,_0x381fc1),_0x282e60=await this['evaluateAllRibbonsFromData'](_0x1e6d08,_0x469145,_0x1680e7,_0x381fc1);Object['assign'](_0x282e60,_0x1d02d3);Object[_0x2e136a(0x1fe)](_0x282e60)[_0x2e136a(0x1fb)]>0x0&&(console['log']('💾\x20Saving\x20'+Object['keys'](_0x282e60)['length']+_0x2e136a(0x21f)+_0x569a72),await this['savePlayerRibbonsOptimized'](_0x569a72,_0x282e60,_0x381fc1));const _0x49dbbd={..._0x1680e7,..._0x282e60};return ribbonCache['setCachedData'](_0x569a72,_0x381fc1,_0x49dbbd,_0x1e6d08['length']),_0x49dbbd;}catch(_0x2530a5){return console['error']('❌\x20Error\x20in\x20ribbon\x20evaluation:',_0x2530a5),{};}}async['isUnderdogVictory'](_0x5421a8,_0x4f7b61,_0x33cb30){const _0x57ccec=a53_0x45e548,_0x5662ae=_0x5421a8['winnerUsername']===_0x4f7b61;if(!_0x5662ae)return![];const _0x387a27=_0x5421a8['loserUsername'],[_0x5b1152,_0x2e1b41]=await Promise['all']([this['getPlayerDataCached'](_0x4f7b61,_0x33cb30),this[_0x57ccec(0x227)](_0x387a27,_0x33cb30)]);if(!_0x5b1152||!_0x2e1b41)return console[_0x57ccec(0x23c)](_0x57ccec(0x229)+_0x4f7b61+'\x20or\x20'+_0x387a27),![];const _0x3de63b=_0x5b1152[_0x57ccec(0x1f6)]||0x0,_0x3431c0=_0x2e1b41[_0x57ccec(0x1f6)]||0x0,_0x39576b=getPlayerRankTier(_0x3de63b),_0x184939=getPlayerRankTier(_0x3431c0);console['log']('🔍\x20Checking\x20underdog:\x20Winner('+_0x4f7b61+'):\x20'+_0x3de63b+'\x20ELO\x20('+getRankTierName(_0x39576b)+')\x20vs\x20Loser('+_0x387a27+'):\x20'+_0x3431c0+'\x20ELO\x20('+getRankTierName(_0x184939)+')');if(_0x184939>_0x39576b)return console['log'](_0x57ccec(0x1e4)+getRankTierName(_0x39576b)+'\x20beat\x20'+getRankTierName(_0x184939)+'!'),!![];return console[_0x57ccec(0x23c)](_0x57ccec(0x25a)+getRankTierName(_0x39576b)+'\x20vs\x20'+getRankTierName(_0x184939)),![];}['isUnderdogVictoryFast'](_0x356aa6,_0x14e7c1,_0xf84aff,_0x407c7d){const _0x4139c6=a53_0x45e548,_0x4af4cd=_0x356aa6['winnerUsername']===_0x14e7c1;if(!_0x4af4cd)return![];const _0xb74452=_0x356aa6[_0x4139c6(0x20d)],_0x4c3896=_0x407c7d['get'](_0xb74452);if(!_0xf84aff||!_0x4c3896)return![];const _0x124f0e=_0xf84aff['eloRating']||0x0,_0x4e4daa=_0x4c3896['eloRating']||0x0,_0x25a4ee=getPlayerRankTier(_0x124f0e),_0x233d68=getPlayerRankTier(_0x4e4daa);if(_0x233d68>_0x25a4ee)return console['log']('🎯\x20UNDERDOG:\x20'+getRankTierName(_0x25a4ee)+'('+_0x124f0e+_0x4139c6(0x239)+getRankTierName(_0x233d68)+'('+_0x4e4daa+')'),!![];return![];}async[a53_0x45e548(0x223)](_0x317083,_0x1f0a45,_0x4bfc3c,_0x3f854c){const _0x38ec07=a53_0x45e548,_0x1a1cb5={},_0x3a4b89=_0x1f0a45[_0x38ec07(0x24a)],_0x121052={'totalMatches':_0x317083[_0x38ec07(0x1fb)],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0},_0x472455=new Set();_0x317083['forEach'](_0xecf660=>{const _0x170f9a=_0x38ec07,_0x5dca2e=_0xecf660[_0x170f9a(0x20a)]===_0x3a4b89,_0xf89b87=_0x5dca2e?_0xecf660['loserUsername']:_0xecf660['winnerUsername'];if(_0xf89b87)_0x472455['add'](_0xf89b87);}),console[_0x38ec07(0x23c)]('🚀\x20Bulk\x20loading\x20'+_0x472455[_0x38ec07(0x1e5)]+_0x38ec07(0x20f));const _0x1932fc=await this[_0x38ec07(0x1de)]([..._0x472455,_0x3a4b89],_0x3f854c),_0x6290f4=_0x1932fc['get'](_0x3a4b89);!_0x6290f4&&console['log']('⚠️\x20No\x20current\x20player\x20data\x20found\x20for\x20'+_0x3a4b89);_0x317083[_0x38ec07(0x218)](_0x1549f1=>{const _0x53c099=_0x38ec07,_0x5b72fa=_0x1549f1['winnerUsername']===_0x3a4b89,_0x55bd52=_0x5b72fa?_0x1549f1['loserUsername']:_0x1549f1['winnerUsername'];_0x5b72fa&&(_0x121052[_0x53c099(0x1dd)]++,_0x1549f1['subgameType']==='Rematch'&&_0x121052['rematchWins']++,this['isUnderdogVictoryFast'](_0x1549f1,_0x3a4b89,_0x6290f4,_0x1932fc)&&_0x121052['underdogWins']++),_0x1549f1[_0x53c099(0x247)]&&_0x1549f1['subgameType']!=='Standard'&&_0x121052['subgameMatches']++,_0x1549f1[_0x53c099(0x21e)]&&_0x121052['uniqueMaps'][_0x53c099(0x256)](_0x1549f1['mapPlayed']),_0x55bd52&&_0x121052['uniqueOpponents']['add'](_0x55bd52);}),console[_0x38ec07(0x23c)]('🎯\x20Found\x20'+_0x121052['underdogWins']+'\x20underdog\x20victories\x20for\x20'+_0x3a4b89);const _0x2a78e0=_0x121052[_0x38ec07(0x1ee)]>0x0?_0x121052['wins']/_0x121052['totalMatches']*0x64:0x0,_0x4630c9=[['Overachiever\x20Ribbon',this['evaluateOverachieverRibbonFromCount'](_0x121052['totalMatches'],_0x4bfc3c)],['Rematch\x20Ribbon',this['evaluateRematchRibbonFromCount'](_0x121052[_0x38ec07(0x22e)],_0x4bfc3c)],[_0x38ec07(0x1e3),this['evaluateSubGamerRibbonFromCount'](_0x121052['subgameMatches'],_0x4bfc3c)],['Explorer\x20Ribbon',this['evaluateExplorerRibbonFromCount'](_0x121052['uniqueMaps'][_0x38ec07(0x1e5)],_0x4bfc3c)],['Socialite\x20Ribbon',this['evaluateSocialiteRibbonFromCount'](_0x121052[_0x38ec07(0x23e)][_0x38ec07(0x1e5)],_0x4bfc3c)],['Brick\x20Wall',this['evaluateBrickWallRibbonFromWinRate'](_0x2a78e0,_0x4bfc3c,_0x121052['totalMatches'])],['Underdog\x20Ribbon',this['evaluateUnderdogRibbonFromCount'](_0x121052['underdogWins'],_0x4bfc3c)]];_0x4630c9['forEach'](([_0x3b87b1,_0x20e062])=>{_0x20e062&&(_0x1a1cb5[_0x3b87b1]=_0x20e062);});const _0xdfe3b3=Object[_0x38ec07(0x1fe)](_0x4bfc3c)['length']+Object[_0x38ec07(0x1fe)](_0x1a1cb5)['length'],_0x1db2c0=this['evaluateCollectorRibbonFromCount'](_0xdfe3b3,_0x4bfc3c);return _0x1db2c0&&(_0x1a1cb5['Collector\x20Ribbon']=_0x1db2c0),_0x1a1cb5;}async['getPlayerMatchesOptimized'](_0x56662b,_0x4a1e55){const _0x5a2d16=a53_0x45e548,_0x24ead5=matchCache['getCachedMatches'](_0x56662b,_0x4a1e55);if(_0x24ead5)return _0x24ead5;try{const _0x38b39c=_0x4a1e55==='D1'?'approvedMatches':_0x4a1e55==='D2'?'approvedMatchesD2':'approvedMatchesD3',_0xad0f21=collection(db,_0x38b39c),[_0x5f5a36,_0x3a8998]=await Promise[_0x5a2d16(0x241)]([getDocs(query(_0xad0f21,where('winnerUsername','==',_0x56662b))),getDocs(query(_0xad0f21,where('loserUsername','==',_0x56662b)))]),_0x22242f=new Set(),_0x6ef83d=[];return _0x5f5a36['forEach'](_0x5bb421=>{const _0x2f2f16=_0x5a2d16;if(!_0x22242f['has'](_0x5bb421['id'])){_0x22242f['add'](_0x5bb421['id']);const _0x472ed9={'id':_0x5bb421['id'],..._0x5bb421['data']()};if(!_0x472ed9[_0x2f2f16(0x205)])_0x472ed9['winnerRating']=0x0;if(!_0x472ed9['loserRating'])_0x472ed9[_0x2f2f16(0x246)]=0x0;_0x6ef83d['push'](_0x472ed9);}}),_0x3a8998[_0x5a2d16(0x218)](_0x5cbe8c=>{const _0x3b1949=_0x5a2d16;if(!_0x22242f['has'](_0x5cbe8c['id'])){_0x22242f[_0x3b1949(0x256)](_0x5cbe8c['id']);const _0x27f193={'id':_0x5cbe8c['id'],..._0x5cbe8c['data']()};if(!_0x27f193['winnerRating'])_0x27f193['winnerRating']=0x0;if(!_0x27f193[_0x3b1949(0x246)])_0x27f193['loserRating']=0x0;_0x6ef83d[_0x3b1949(0x226)](_0x27f193);}}),matchCache['setCachedMatches'](_0x56662b,_0x4a1e55,_0x6ef83d),_0x6ef83d;}catch(_0x45b78e){return console[_0x5a2d16(0x248)]('❌\x20Error\x20fetching\x20matches:',_0x45b78e),[];}}async['getPlayerDataCached'](_0x2609fe,_0x1586ea){const _0x145fb4=a53_0x45e548;try{const _0x52be28=_0x1586ea==='D1'?'players':_0x1586ea==='D2'?'playersD2':'playersD3',_0x5dcede=collection(db,_0x52be28),_0x4c0dca=query(_0x5dcede,where('username','==',_0x2609fe),limit(0x1)),_0x2cd2e7=await getDocs(_0x4c0dca);if(_0x2cd2e7['empty'])return console['log'](_0x145fb4(0x1fd)+_0x2609fe+'\x20in\x20'+_0x52be28),null;const _0x5aa2c7=_0x2cd2e7['docs'][0x0][_0x145fb4(0x253)]();return _0x5aa2c7['eloRating']!==undefined&&(_0x5aa2c7['rating']=_0x5aa2c7['eloRating']),console['log']('✅\x20Found\x20player\x20data\x20for\x20'+_0x2609fe+':\x20ELO\x20'+_0x5aa2c7['eloRating']+',\x20Position\x20'+_0x5aa2c7['position']),_0x5aa2c7;}catch(_0x34754d){return console['error']('Error\x20getting\x20player\x20data\x20for\x20'+_0x2609fe+':',_0x34754d),null;}}async['getPlayerRibbonsCached'](_0x4673b3,_0x4a8528){const _0x32d102=a53_0x45e548;try{const _0x1af257='playerRibbons'+(_0x4a8528==='D1'?'':_0x4a8528),_0x5623d1=doc(db,_0x1af257,_0x4673b3),_0x1eeb19=await getDoc(_0x5623d1);return _0x1eeb19['exists']()?_0x1eeb19[_0x32d102(0x253)]()['ribbons']||{}:{};}catch(_0x113e25){return console['error']('Error\x20getting\x20player\x20ribbons:',_0x113e25),{};}}async[a53_0x45e548(0x202)](_0x5c1cc3,_0x125ee3,_0x31ef61){const _0x5bd1e4=a53_0x45e548;try{const _0x1f0382='playerRibbons'+(_0x31ef61==='D1'?'':_0x31ef61),_0xce2592=doc(db,_0x1f0382,_0x5c1cc3),_0x3b0c9b=await this['getPlayerRibbonsCached'](_0x5c1cc3,_0x31ef61),_0x467edb={..._0x3b0c9b,..._0x125ee3};await setDoc(_0xce2592,{'username':_0x5c1cc3,'ladder':_0x31ef61,'ribbons':_0x467edb,'lastUpdated':new Date()},{'merge':!![]});}catch(_0x516cdb){console['error'](_0x5bd1e4(0x1d8),_0x516cdb);}}[a53_0x45e548(0x258)](_0x305e1c,_0x5d7915){const _0x30c8ab=a53_0x45e548,_0x198aae=_0x5d7915['Overachiever\x20Ribbon']||{'level':0x0},_0x313775=RIBBON_DEFINITIONS[_0x30c8ab(0x1e1)][_0x30c8ab(0x1f7)],_0x4a12dd=_0x313775['findIndex'](_0x1c9a8d=>_0x305e1c<_0x1c9a8d),_0x3e9ef1=_0x4a12dd===-0x1?_0x313775[_0x30c8ab(0x1fb)]:_0x4a12dd;if(_0x3e9ef1>_0x198aae[_0x30c8ab(0x1e8)])return{'level':_0x3e9ef1,'awardedAt':new Date()};return null;}['evaluateRematchRibbonFromCount'](_0x232fb7,_0xf88198){const _0x27e926=a53_0x45e548;if(_0x232fb7===0x0)return null;const _0x4443a6=_0xf88198['Rematch\x20Ribbon']||{'level':0x0};if(_0x232fb7>_0x4443a6[_0x27e926(0x1e8)])return{'level':_0x232fb7,'awardedAt':new Date()};return null;}[a53_0x45e548(0x1d7)](_0x581724,_0x1cdd0f){const _0x4a6557=a53_0x45e548,_0x849d19=_0x1cdd0f['Sub-Gamer\x20Ribbon']||{'level':0x0},_0x559fd5=RIBBON_DEFINITIONS[_0x4a6557(0x1e3)]['levels'],_0x282208=_0x559fd5[_0x4a6557(0x20c)](_0xeb45ec=>_0x581724<_0xeb45ec),_0x580cc1=_0x282208===-0x1?_0x559fd5['length']:_0x282208;if(_0x580cc1>_0x849d19['level'])return{'level':_0x580cc1,'awardedAt':new Date()};return null;}[a53_0x45e548(0x214)](_0x5b318e,_0x23c4d5){const _0x10d40a=a53_0x45e548,_0x5e1e4f=_0x23c4d5[_0x10d40a(0x224)]||{'level':0x0},_0xa4b27a=RIBBON_DEFINITIONS['Explorer\x20Ribbon']['levels'],_0x2e4213=_0xa4b27a['findIndex'](_0x188107=>_0x5b318e<_0x188107),_0x4eeb45=_0x2e4213===-0x1?_0xa4b27a['length']:_0x2e4213;if(_0x4eeb45>_0x5e1e4f['level'])return{'level':_0x4eeb45,'awardedAt':new Date()};return null;}['evaluateSocialiteRibbonFromCount'](_0x2e8cbe,_0x307bb7){const _0x96bf72=a53_0x45e548,_0x53a466=_0x307bb7[_0x96bf72(0x219)]||{'level':0x0},_0x354cf5=RIBBON_DEFINITIONS['Socialite\x20Ribbon']['levels'],_0x2d6ac7=_0x354cf5['findIndex'](_0x2bc7f0=>_0x2e8cbe<_0x2bc7f0),_0x3cfb20=_0x2d6ac7===-0x1?_0x354cf5['length']:_0x2d6ac7;if(_0x3cfb20>_0x53a466['level'])return{'level':_0x3cfb20,'awardedAt':new Date()};return null;}[a53_0x45e548(0x24b)](_0x108256,_0x214c20,_0x2e404a){const _0x30b6e2=a53_0x45e548;if(_0x2e404a<0x32)return console['log']('⚠️\x20Brick\x20Wall\x20ribbon\x20requires\x2050+\x20matches\x20(player\x20has\x20'+_0x2e404a+')'),null;const _0xb633ab=_0x214c20['Brick\x20Wall']||{'level':0x0},_0x44fd8c=RIBBON_DEFINITIONS[_0x30b6e2(0x23b)]['levels'],_0x488bd7=_0x44fd8c['findIndex'](_0x423038=>_0x108256<_0x423038),_0x1de225=_0x488bd7===-0x1?_0x44fd8c[_0x30b6e2(0x1fb)]:_0x488bd7;if(_0x1de225>_0xb633ab['level'])return console[_0x30b6e2(0x23c)]('🏆\x20Brick\x20Wall\x20ribbon\x20awarded:\x20'+_0x108256[_0x30b6e2(0x257)](0x1)+_0x30b6e2(0x22f)+_0x2e404a+_0x30b6e2(0x20b)),{'level':_0x1de225,'awardedAt':new Date(),'winRate':_0x108256,'matchesPlayed':_0x2e404a};return null;}['evaluateCollectorRibbonFromCount'](_0x3fb9c2,_0x5166c8){const _0x1d56c3=a53_0x45e548,_0x40fcad=_0x5166c8['Collector\x20Ribbon']||{'level':0x0},_0x4e0821=RIBBON_DEFINITIONS[_0x1d56c3(0x1ea)]['levels'],_0x2038d8=_0x4e0821[_0x1d56c3(0x20c)](_0x3fd2e9=>_0x3fb9c2<_0x3fd2e9),_0x4b1619=_0x2038d8===-0x1?_0x4e0821['length']:_0x2038d8;if(_0x4b1619>_0x40fcad['level'])return{'level':_0x4b1619,'awardedAt':new Date()};return null;}['evaluateUnderdogRibbonFromCount'](_0x14e293,_0x2fbc60){const _0x2d7c94=a53_0x45e548;if(_0x14e293===0x0)return null;const _0x32ddab=_0x2fbc60['Underdog\x20Ribbon']||{'level':0x0},_0x1886f5=RIBBON_DEFINITIONS['Underdog\x20Ribbon'][_0x2d7c94(0x1f7)];let _0x3ee9d8=0x0;for(let _0x4c1da2=0x0;_0x4c1da2<_0x1886f5['length'];_0x4c1da2++){if(_0x14e293>=_0x1886f5[_0x4c1da2])_0x3ee9d8=_0x4c1da2+0x1;else break;}if(_0x3ee9d8>_0x32ddab['level'])return console['log'](_0x2d7c94(0x222)+_0x32ddab[_0x2d7c94(0x1e8)]+'\x20→\x20'+_0x3ee9d8+'\x20('+_0x14e293+_0x2d7c94(0x24e)),{'level':_0x3ee9d8,'awardedAt':new Date()};return null;}}function getPlayerRankTier(_0x47edd9){if(_0x47edd9===undefined||_0x47edd9===null)return 0x0;const _0x33d71c=Number(_0x47edd9);if(isNaN(_0x33d71c))return 0x0;if(_0x33d71c>=0x7d0)return 0x4;if(_0x33d71c>=0x708)return 0x3;if(_0x33d71c>=0x640)return 0x2;if(_0x33d71c>=0x578)return 0x1;return 0x0;}function getRankTierName(_0x103601){const _0x4feabd=a53_0x45e548,_0x5cbed5=['Unranked',_0x4feabd(0x230),'Silver',_0x4feabd(0x203),_0x4feabd(0x1f9)];return _0x5cbed5[_0x103601]||'Unranked';}const ribbonSystem=new RibbonSystem(),ribbonCache=new RibbonCacheManager(),matchCache=new MatchCacheManager();function a53_0x46db(_0x3c8d6e,_0x298fb6){const _0x8259a0=a53_0x1bfc();return a53_0x46db=function(_0x1fbf1d,_0x3a27e0){_0x1fbf1d=_0x1fbf1d-0x1d7;let _0x1bfc31=_0x8259a0[_0x1fbf1d];return _0x1bfc31;},a53_0x46db(_0x3c8d6e,_0x298fb6);}typeof window!=='undefined'&&(window['getRibbonCacheStats']=()=>{const _0x2aa02f=a53_0x45e548;return{'ribbon':ribbonCache[_0x2aa02f(0x208)](),'match':matchCache[_0x2aa02f(0x208)]()};});export async function evaluatePlayerRibbons(_0x55bfcf,_0xff7bb1='D1'){const _0x120043=a53_0x45e548;return await ribbonSystem[_0x120043(0x200)](_0x55bfcf,_0xff7bb1);}export function getRibbonHTML(_0x5cf01b,_0x4117ab){const _0x578d2f=a53_0x45e548,_0x45b1ab=RIBBON_DEFINITIONS[_0x5cf01b];if(!_0x45b1ab)return'';const _0x8c74e1=_0x4117ab['level']||0x1,_0x1f2314=_0x5cf01b['replace']('\x20Ribbon','')['replace'](_0x578d2f(0x209),''),_0x2a8fd7=_0x454f9f=>{const _0xaf30d3=_0x578d2f;if(_0x454f9f<=0x1)return'level-1';if(_0x454f9f<=0x2)return'level-2';if(_0x454f9f<=0x3)return'level-3';if(_0x454f9f<=0x4)return _0xaf30d3(0x217);return'level-5-plus';},_0x556838=_0x4dde5f=>{const _0x11142e=_0x578d2f;if(_0x4dde5f<=0x1)return'';const _0x23d0e9=[];if(_0x4dde5f>=0x2&&_0x4dde5f<=0x4){const _0x358c15=Math['min'](_0x4dde5f-0x1,0x3);for(let _0x555300=0x0;_0x555300<_0x358c15;_0x555300++){_0x23d0e9['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>');}}if(_0x4dde5f>=0x5&&_0x4dde5f<=0x7){_0x23d0e9[_0x11142e(0x226)](_0x11142e(0x251));const _0x371361=Math[_0x11142e(0x1f0)](_0x4dde5f-0x5,0x2);for(let _0xc6ed17=0x0;_0xc6ed17<_0x371361;_0xc6ed17++){_0x23d0e9['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>');}}return _0x4dde5f>=0x8&&_0x23d0e9['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20gold-star\x22></i>'),_0x23d0e9['length']>0x0?_0x11142e(0x24c)+_0x23d0e9['join']('')+'</div>':'';},_0x29c749=_0x45b1ab[_0x578d2f(0x220)]+_0x578d2f(0x204)+_0x8c74e1;return _0x578d2f(0x250)+_0x29c749+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-image-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22'+_0x45b1ab['image']+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22'+_0x5cf01b+_0x578d2f(0x215)+_0x45b1ab['color']+';\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1f2314['substring'](0x0,0x6)+_0x578d2f(0x22b)+_0x556838(_0x8c74e1)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-name\x22>'+_0x1f2314+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x8c74e1>0x1?'<div\x20class=\x22ribbon-level-indicator\x20'+_0x2a8fd7(_0x8c74e1)+'\x22>'+_0x8c74e1+'</div>':'')+_0x578d2f(0x242);}