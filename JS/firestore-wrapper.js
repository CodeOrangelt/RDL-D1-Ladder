const a20_0x2d0435=(function(){let _0x53a189=!![];return function(_0x2d2aab,_0x5a9aa0){const _0x19a66e=_0x53a189?function(){if(_0x5a9aa0){const _0x151a8d=_0x5a9aa0['apply'](_0x2d2aab,arguments);return _0x5a9aa0=null,_0x151a8d;}}:function(){};return _0x53a189=![],_0x19a66e;};}()),a20_0x24278c=a20_0x2d0435(this,function(){const _0xecd69a=a20_0x968b;let _0x19d9c5;try{const _0xe6fe4=Function(_0xecd69a(0x190)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x19d9c5=_0xe6fe4();}catch(_0x35280b){_0x19d9c5=window;}const _0x24b63e=_0x19d9c5['console']=_0x19d9c5['console']||{},_0x27cad5=['log',_0xecd69a(0x185),_0xecd69a(0x18e),_0xecd69a(0x18f),'exception','table','trace'];for(let _0x271998=0x0;_0x271998<_0x27cad5['length'];_0x271998++){const _0x2f6c41=a20_0x2d0435[_0xecd69a(0x181)][_0xecd69a(0x18b)]['bind'](a20_0x2d0435),_0x1e68fe=_0x27cad5[_0x271998],_0x5aec4d=_0x24b63e[_0x1e68fe]||_0x2f6c41;_0x2f6c41['__proto__']=a20_0x2d0435['bind'](a20_0x2d0435),_0x2f6c41['toString']=_0x5aec4d[_0xecd69a(0x187)]['bind'](_0x5aec4d),_0x24b63e[_0x1e68fe]=_0x2f6c41;}});a20_0x24278c();import{collection as a20_0x138a32,doc as a20_0x1c7df5,getDoc as a20_0x16f5f8,getDocs as a20_0x10d05a,query as a20_0x295e1c,where as a20_0x4755ed,orderBy as a20_0x2d1ba3,limit as a20_0x3cb717,startAfter as a20_0x4791cd,addDoc as a20_0x5eb818,updateDoc as a20_0x58dc89,deleteDoc as a20_0xcf9fda,writeBatch as a20_0x7b995e,serverTimestamp as a20_0x551329,Timestamp as a20_0x5d3b75,getCountFromServer as a20_0x563495,setDoc as a20_0x37824e,enableNetwork,disableNetwork}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db}from'./firebase-config.js';import{handleNetworkError}from'./idle-timeout.js';function checkSessionStatus(){const _0x528be5=a20_0x968b;if(window['RDL_SESSION_SUSPENDED']){console['warn']('Firestore\x20operation\x20blocked\x20-\x20session\x20suspended');const _0x5bacc1=new Error('Session\x20suspended\x20due\x20to\x20inactivity.\x20Please\x20resume\x20your\x20session.');_0x5bacc1['code']='session-suspended';throw _0x5bacc1;}if(window['RDL_NETWORK_ERROR']){console['warn']('Firestore\x20operation\x20blocked\x20-\x20network\x20error');const _0x9e8ef4=new Error(_0x528be5(0x189));_0x9e8ef4['code']='network-error';throw _0x9e8ef4;}}async function handleFirestoreError(_0x15c7e0){const _0x5beccc=a20_0x968b;console['error']('Firestore\x20operation\x20failed:',_0x15c7e0);if(_0x15c7e0&&(_0x15c7e0['code']==='unavailable'||_0x15c7e0[_0x5beccc(0x17e)]===_0x5beccc(0x182)||_0x15c7e0[_0x5beccc(0x188)]&&_0x15c7e0['message'][_0x5beccc(0x186)]('network')||_0x15c7e0['code']&&_0x15c7e0[_0x5beccc(0x17e)]['includes'](_0x5beccc(0x17f))))return console['warn']('Network-related\x20error\x20detected,\x20suspending\x20operations'),handleNetworkError(),!![];return![];}export const rdlFirestore={'collection':function(){const _0x14473e=a20_0x968b;if(arguments['length']===0x1){if(typeof arguments[0x0]==='string')return a20_0x138a32(db,arguments[0x0]);return arguments[0x0];}else{if(arguments['length']===0x2&&arguments[0x0]===db&&typeof arguments[0x1]==='string')return a20_0x138a32(db,arguments[0x1]);}return a20_0x138a32[_0x14473e(0x18a)](null,arguments);},'doc':function(){const _0x3e5dfe=a20_0x968b;if(arguments['length']===0x2){if(typeof arguments[0x0]==='string'&&typeof arguments[0x1]===_0x3e5dfe(0x183))return a20_0x1c7df5(db,arguments[0x0],arguments[0x1]);return a20_0x1c7df5['apply'](null,arguments);}else{if(arguments['length']===0x3&&arguments[0x0]===db)return a20_0x1c7df5[_0x3e5dfe(0x18a)](null,arguments);}return a20_0x1c7df5['apply'](null,arguments);},'query':function(){return a20_0x295e1c['apply'](null,arguments);},'where':function(){return a20_0x4755ed['apply'](null,arguments);},'orderBy':function(){return a20_0x2d1ba3['apply'](null,arguments);},'limit':function(_0x2eb491){return a20_0x3cb717(_0x2eb491);},'startAfter':function(_0x58f999){return a20_0x4791cd(_0x58f999);},'getDoc':async function(_0x4a4db7){try{return checkSessionStatus(),await a20_0x16f5f8(_0x4a4db7);}catch(_0x520c3d){const _0x58e898=await handleFirestoreError(_0x520c3d);_0x58e898&&(_0x520c3d['code']='network-error');throw _0x520c3d;}},'getDocs':async function(_0x3ad510){try{return checkSessionStatus(),await a20_0x10d05a(_0x3ad510);}catch(_0x22d416){const _0x2582cf=await handleFirestoreError(_0x22d416);_0x2582cf&&(_0x22d416['code']='network-error');throw _0x22d416;}},'getCountFromServer':async function(_0x1dbceb){try{return checkSessionStatus(),await a20_0x563495(_0x1dbceb);}catch(_0x127aab){const _0x130634=await handleFirestoreError(_0x127aab);_0x130634&&(_0x127aab['code']='network-error');throw _0x127aab;}},'addDoc':async function(_0xcc5fef,_0x2af25d){const _0x3ad235=a20_0x968b;try{return checkSessionStatus(),await a20_0x5eb818(_0xcc5fef,_0x2af25d);}catch(_0x264007){const _0x293a3e=await handleFirestoreError(_0x264007);_0x293a3e&&(_0x264007[_0x3ad235(0x17e)]='network-error');throw _0x264007;}},'setDoc':async function(_0x3865aa,_0x3fab7a,_0x5bec41){try{return checkSessionStatus(),await a20_0x37824e(_0x3865aa,_0x3fab7a,_0x5bec41);}catch(_0x5a2eb1){const _0xce4357=await handleFirestoreError(_0x5a2eb1);_0xce4357&&(_0x5a2eb1['code']='network-error');throw _0x5a2eb1;}},'updateDoc':async function(_0x43a2d8,_0x3269f1){const _0x1cb3b4=a20_0x968b;try{return checkSessionStatus(),await a20_0x58dc89(_0x43a2d8,_0x3269f1);}catch(_0x14dddd){const _0x40496d=await handleFirestoreError(_0x14dddd);_0x40496d&&(_0x14dddd['code']=_0x1cb3b4(0x180));throw _0x14dddd;}},'deleteDoc':async function(_0x1b4210){try{return checkSessionStatus(),await a20_0xcf9fda(_0x1b4210);}catch(_0xa64f07){const _0x839aa=await handleFirestoreError(_0xa64f07);_0x839aa&&(_0xa64f07['code']='network-error');throw _0xa64f07;}},'writeBatch':function(){checkSessionStatus();const _0x42fd26=a20_0x7b995e(db),_0x2a7748=_0x42fd26['commit']['bind'](_0x42fd26);return _0x42fd26['commit']=async function(){const _0x1ea4a1=a20_0x968b;try{return checkSessionStatus(),await _0x2a7748();}catch(_0x2dc3f3){const _0x698350=await handleFirestoreError(_0x2dc3f3);_0x698350&&(_0x2dc3f3['code']=_0x1ea4a1(0x180));throw _0x2dc3f3;}},_0x42fd26;},'serverTimestamp':function(){return a20_0x551329();},'Timestamp':{'now':function(){return a20_0x5d3b75['now']();},'fromDate':function(_0x168091){return a20_0x5d3b75['fromDate'](_0x168091);}},'enableNetwork':async function(){const _0x547265=a20_0x968b;try{return await enableNetwork(db);}catch(_0x402553){console[_0x547265(0x18f)]('Failed\x20to\x20enable\x20network:',_0x402553);throw _0x402553;}},'disableNetwork':async function(){const _0x3f53aa=a20_0x968b;try{return await disableNetwork(db);}catch(_0x4e6420){console[_0x3f53aa(0x18f)](_0x3f53aa(0x18c),_0x4e6420);throw _0x4e6420;}}};function a20_0x968b(_0x5ad523,_0x1d294d){const _0x24278c=a20_0x54b3();return a20_0x968b=function(_0x2d0435,_0x259b35){_0x2d0435=_0x2d0435-0x17e;let _0x54b30e=_0x24278c[_0x2d0435];return _0x54b30e;},a20_0x968b(_0x5ad523,_0x1d294d);}function a20_0x54b3(){const _0x56df6e=['code','network','network-error','constructor','resource-exhausted','string','Caught\x20session\x20suspended\x20error:','warn','includes','toString','message','Network\x20connection\x20error.\x20Please\x20check\x20your\x20internet\x20connection.','apply','prototype','Failed\x20to\x20disable\x20network:','unavailable','info','error','return\x20(function()\x20'];a20_0x54b3=function(){return _0x56df6e;};return a20_0x54b3();}window['addEventListener']('error',function(_0x3b2542){const _0xe27581=a20_0x968b;if(_0x3b2542['error']){if(_0x3b2542['error']['code']==='session-suspended')_0x3b2542['preventDefault'](),console['log'](_0xe27581(0x184),_0x3b2542['error']['message']);else(_0x3b2542[_0xe27581(0x18f)]['code']===_0xe27581(0x18d)||_0x3b2542['error']['code']==='resource-exhausted'||_0x3b2542['error']['message']&&_0x3b2542['error']['message']['includes']('network')||_0x3b2542['error'][_0xe27581(0x17e)]&&_0x3b2542['error'][_0xe27581(0x17e)][_0xe27581(0x186)]('network'))&&(_0x3b2542['preventDefault'](),console['log']('Caught\x20network\x20error:',_0x3b2542['error'][_0xe27581(0x188)]),handleNetworkError());}}),window['rdlFirestore']=rdlFirestore,console['log']('Firestore\x20wrapper\x20initialized\x20with\x20session\x20checking\x20and\x20network\x20error\x20handling');