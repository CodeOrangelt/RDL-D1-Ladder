function a22_0x28e2(){const _0x3d09a3=['log','unsubscribe','Invitations\x20you\x20send\x20to\x20other\x20players\x20will\x20appear\x20here.','Error\x20updating\x20invitation\x20status:','__proto__','createElement','trace','accepted','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Send\x20Message\x20to\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#cancel-response','getTimeAgo','fromUsername','cancel','invitations','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22status-badge\x20status-','lastDoc','sent','setupActionListeners','addEventListener','display','toUsername','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-invitation-id=\x22','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22modal-close\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-body\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Regarding\x20invitation\x20to:\x20<strong>','toDate','Error\x20performing\x20','init','style','When\x20other\x20players\x20invite\x20you\x20to\x20games,\x20they\x27ll\x20appear\x20here.','pageSize','location','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.modal-close','pending','modal-styles','desc','createInvitationCard','innerHTML','respondedAt','data','teamData','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20accept-btn\x22\x20data-action=\x22accept\x22\x20data-invitation-id=\x22','status','find','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20Accept\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20decline-btn\x22\x20data-action=\x22decline\x22\x20data-invitation-id=\x22','\x20invitations</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','createdAt','prototype','filter','appendChild','type','sentInvitations','remove','click','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20Decline\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','join','team_invite','message','renderInvitations','.action-btn','exception','currentFilter','className','toUserId','head','updateInvitationStatus','proposedTeamName','floor'];a22_0x28e2=function(){return _0x3d09a3;};return a22_0x28e2();}const a22_0x334ead=a22_0x22d0,a22_0x148226=(function(){let _0x5ad8e4=!![];return function(_0x5b67c1,_0x16f389){const _0x1a0aed=_0x5ad8e4?function(){if(_0x16f389){const _0x2fd13b=_0x16f389['apply'](_0x5b67c1,arguments);return _0x16f389=null,_0x2fd13b;}}:function(){};return _0x5ad8e4=![],_0x1a0aed;};}()),a22_0x169d06=a22_0x148226(this,function(){const _0x19ff5a=a22_0x22d0,_0x2d3080=function(){let _0x55a0bc;try{_0x55a0bc=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x1fb57a){_0x55a0bc=window;}return _0x55a0bc;},_0xd9f551=_0x2d3080(),_0x51c15e=_0xd9f551['console']=_0xd9f551['console']||{},_0x2457fa=[_0x19ff5a(0x108),'warn','info','error',_0x19ff5a(0x145),'table',_0x19ff5a(0x10e)];for(let _0x5b05fd=0x0;_0x5b05fd<_0x2457fa['length'];_0x5b05fd++){const _0x5174c3=a22_0x148226['constructor'][_0x19ff5a(0x138)]['bind'](a22_0x148226),_0x328b72=_0x2457fa[_0x5b05fd],_0x4c68a8=_0x51c15e[_0x328b72]||_0x5174c3;_0x5174c3[_0x19ff5a(0x10c)]=a22_0x148226['bind'](a22_0x148226),_0x5174c3['toString']=_0x4c68a8['toString']['bind'](_0x4c68a8),_0x51c15e[_0x328b72]=_0x5174c3;}});a22_0x169d06();function a22_0x22d0(_0x3d4a77,_0x5ec4d1){const _0x169d06=a22_0x28e2();return a22_0x22d0=function(_0x148226,_0x355077){_0x148226=_0x148226-0x108;let _0x28e203=_0x169d06[_0x148226];return _0x28e203;},a22_0x22d0(_0x3d4a77,_0x5ec4d1);}import{auth,db}from'./firebase-config.js';import{collection,query,where,orderBy,getDocs,doc,updateDoc,onSnapshot,limit,startAfter}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';class InboxManager{constructor(){const _0x53d775=a22_0x22d0;this[_0x53d775(0x146)]='pending',this['invitations']=[],this['sentInvitations']=[],this['unsubscribe']=null,this['sentUnsubscribe']=null,this['pageSize']=0x14,this[_0x53d775(0x118)]=null,this['hasMore']=!![],this['init']();}async[a22_0x334ead(0x123)](){auth['onAuthStateChanged'](_0x228d52=>{const _0xcaf56c=a22_0x22d0;_0x228d52?(this['loadInvitations'](_0x228d52['uid']),this['setupEventListeners']()):window[_0xcaf56c(0x127)]['href']='./login.html';});}['setupEventListeners'](){document['querySelectorAll']('.filter-btn')['forEach'](_0x20d5cf=>{const _0x2b533d=a22_0x22d0;_0x20d5cf[_0x2b533d(0x11b)]('click',()=>{const _0x5da573=_0x2b533d;document['querySelectorAll']('.filter-btn')['forEach'](_0x55d7f1=>_0x55d7f1['classList'][_0x5da573(0x13d)]('active')),_0x20d5cf['classList']['add']('active'),this[_0x5da573(0x146)]=_0x20d5cf['dataset']['filter'],this['renderInvitations']();});});}['loadInvitations'](_0x5ab525){const _0x268ec6=a22_0x334ead,_0x520179=collection(db,'gameInvitations');let _0x1d0575=query(_0x520179,where(_0x268ec6(0x148),'==',_0x5ab525),orderBy(_0x268ec6(0x137),_0x268ec6(0x12c)),limit(this[_0x268ec6(0x126)]));this['unsubscribe']=onSnapshot(_0x1d0575,_0x1eca02=>{const _0x41a137=_0x268ec6;this[_0x41a137(0x116)]=_0x1eca02['docs']['map'](_0x2c1d5f=>({'id':_0x2c1d5f['id'],..._0x2c1d5f[_0x41a137(0x130)]()})),this['renderInvitations'](),this['updateNotificationCount']();});let _0x52236d=query(_0x520179,where('fromUserId','==',_0x5ab525),orderBy('createdAt',_0x268ec6(0x12c)),limit(this[_0x268ec6(0x126)]));this['sentUnsubscribe']=onSnapshot(_0x52236d,_0x480243=>{this['sentInvitations']=_0x480243['docs']['map'](_0x53aeaa=>({'id':_0x53aeaa['id'],..._0x53aeaa['data'](),'isSent':!![]})),this['renderInvitations']();});}['renderInvitations'](){const _0x1e9792=a22_0x334ead,_0x504149=document['getElementById']('inbox-content');if(!_0x504149)return;let _0x3c8451=[];if(this['currentFilter']==='outbox')_0x3c8451=this[_0x1e9792(0x13c)];else this[_0x1e9792(0x146)]==='all'?_0x3c8451=[...this['invitations'],...this[_0x1e9792(0x13c)]]['sort']((_0x104f3e,_0x4224fd)=>{const _0x24c62f=_0x1e9792,_0x432bb1=_0x104f3e[_0x24c62f(0x137)]?.['toDate']?_0x104f3e['createdAt'][_0x24c62f(0x121)]():new Date(_0x104f3e['createdAt']),_0x513b06=_0x4224fd[_0x24c62f(0x137)]?.['toDate']?_0x4224fd[_0x24c62f(0x137)][_0x24c62f(0x121)]():new Date(_0x4224fd[_0x24c62f(0x137)]);return _0x513b06-_0x432bb1;}):_0x3c8451=this[_0x1e9792(0x116)]['filter'](_0x267214=>_0x267214['status']===this[_0x1e9792(0x146)]);if(_0x3c8451['length']===0x0){const _0x22a4dd=this['currentFilter']==='outbox'?_0x1e9792(0x119):this['currentFilter']==='all'?'':this['currentFilter'];_0x504149[_0x1e9792(0x12e)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22empty-inbox\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-inbox\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>No\x20'+_0x22a4dd+_0x1e9792(0x136)+(this['currentFilter']==='outbox'?_0x1e9792(0x10a):_0x1e9792(0x125))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';return;}_0x504149[_0x1e9792(0x12e)]=_0x3c8451['map'](_0x2488e7=>this[_0x1e9792(0x12d)](_0x2488e7))[_0x1e9792(0x140)](''),this[_0x1e9792(0x11a)]();}['createInvitationCard'](_0x120821){const _0x1fa68a=a22_0x334ead,_0xbcac3d=_0x120821[_0x1fa68a(0x137)]?.['toDate']?_0x120821[_0x1fa68a(0x137)][_0x1fa68a(0x121)]():new Date(_0x120821[_0x1fa68a(0x137)]),_0x4a66bb=this[_0x1fa68a(0x113)](_0xbcac3d),_0x573473=_0x120821['isSent']||![];let _0x55322d='';return _0x120821['type']===_0x1fa68a(0x141)?_0x55322d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+_0x120821['message']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22team-invite-preview\x22\x20style=\x22background:\x20#1a1a1a;\x20padding:\x201rem;\x20border-radius:\x204px;\x20margin:\x200.5rem\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20style=\x22color:\x20'+_0x120821['teamData']['teamColor']+';\x20margin:\x200\x200\x200.5rem\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x120821['teamData'][_0x1fa68a(0x14b)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22color:\x20#888;\x20font-size:\x200.9em;\x20margin:\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Duos\x20Ladder\x20Team\x20•\x20Color:\x20'+_0x120821['teamData']['teamColor']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x55322d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+_0x120821[_0x1fa68a(0x142)]+_0x1fa68a(0x11e),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-card\x20'+_0x120821[_0x1fa68a(0x133)]+'\x20'+(_0x573473?'sent-invitation':'')+_0x1fa68a(0x11f)+_0x120821['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-from\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x573473?'To:\x20'+_0x120821[_0x1fa68a(0x11d)]:_0x120821['fromUsername'])+_0x1fa68a(0x111)+(_0x573473?'<span\x20class=\x22sent-indicator\x22><i\x20class=\x22fas\x20fa-paper-plane\x22></i>\x20Sent</span>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-time\x22>'+_0x4a66bb+_0x1fa68a(0x117)+_0x120821['status']+'\x22>'+_0x120821['status']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x55322d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x573473&&_0x120821['status']==='pending'?_0x1fa68a(0x132)+_0x120821['id']+_0x1fa68a(0x135)+_0x120821['id']+_0x1fa68a(0x13f)+(_0x120821['type']!=='team_invite'?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20respond-btn\x22\x20data-action=\x22respond\x22\x20data-invitation-id=\x22'+_0x120821['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-reply\x22></i>\x20Send\x20Message\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+_0x1fa68a(0x128):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x573473&&_0x120821['status']===_0x1fa68a(0x12a)?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20cancel-btn\x22\x20data-action=\x22cancel\x22\x20data-invitation-id=\x22'+_0x120821['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20Cancel\x20Invitation\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}[a22_0x334ead(0x11a)](){const _0x1aaf88=a22_0x334ead;document['querySelectorAll'](_0x1aaf88(0x144))['forEach'](_0x464818=>{const _0x405d19=_0x1aaf88;_0x464818[_0x405d19(0x11b)]('click',async _0x4ae4a4=>{const _0x29bf20=_0x405d19,_0x14fbe3=_0x464818['dataset']['action'],_0x1c1989=_0x464818['dataset']['invitationId'];_0x464818['disabled']=!![];const _0x4b746a=_0x464818[_0x29bf20(0x12e)];_0x464818['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>';try{switch(_0x14fbe3){case'accept':await this[_0x29bf20(0x14a)](_0x1c1989,_0x29bf20(0x10f));break;case'decline':await this['updateInvitationStatus'](_0x1c1989,'declined');break;case _0x29bf20(0x115):await this['updateInvitationStatus'](_0x1c1989,'cancelled');break;case'respond':this['openResponseModal'](_0x1c1989);break;}}catch(_0x52e7ad){console['error'](_0x29bf20(0x122)+_0x14fbe3+':',_0x52e7ad),alert('Failed\x20to\x20'+_0x14fbe3+'\x20invitation.\x20Please\x20try\x20again.');}finally{_0x464818['disabled']=![],_0x464818[_0x29bf20(0x12e)]=_0x4b746a;}});});}async[a22_0x334ead(0x14a)](_0x225bdf,_0x566d81){const _0x2b8097=a22_0x334ead;try{const _0x41e774=this[_0x2b8097(0x116)]['find'](_0x4be4be=>_0x4be4be['id']===_0x225bdf);_0x41e774&&_0x41e774[_0x2b8097(0x13b)]==='team_invite'&&_0x566d81==='accepted'&&await this['createTeamFromInvitation'](_0x41e774);const _0x355c14=doc(db,'gameInvitations',_0x225bdf);await updateDoc(_0x355c14,{'status':_0x566d81,'respondedAt':new Date()}),_0x41e774&&(_0x41e774['status']=_0x566d81,_0x41e774[_0x2b8097(0x12f)]=new Date(),this[_0x2b8097(0x143)]());}catch(_0x3f03a7){console['error'](_0x2b8097(0x10b),_0x3f03a7);throw _0x3f03a7;}}['openResponseModal'](_0x300f97){const _0x2d76fb=a22_0x334ead,_0x4bf15f=this[_0x2d76fb(0x116)][_0x2d76fb(0x134)](_0x33f1ee=>_0x33f1ee['id']===_0x300f97);if(!_0x4bf15f)return;const _0x3e425d=document[_0x2d76fb(0x10d)]('div');_0x3e425d[_0x2d76fb(0x147)]='modal-overlay',_0x3e425d['innerHTML']=_0x2d76fb(0x110)+_0x4bf15f['fromUsername']+_0x2d76fb(0x120)+_0x4bf15f['value']+'</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22response-message\x22\x20placeholder=\x22Type\x20your\x20message\x20here...\x22\x20rows=\x224\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20respond-btn\x22\x20id=\x22send-response\x22>Send\x20Message</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x22\x20id=\x22cancel-response\x22>Cancel</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';if(!document['getElementById'](_0x2d76fb(0x12b))){const _0x44cdc5=document[_0x2d76fb(0x10d)](_0x2d76fb(0x124));_0x44cdc5['id']=_0x2d76fb(0x12b),_0x44cdc5['textContent']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-overlay\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20right:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.8);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-content\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#2a2a2a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2090%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20500px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-height:\x2090vh;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20overflow-y:\x20auto;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-header\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20space-between;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-close\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x201.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-body\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-body\x20textarea\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#1a1a1a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resize:\x20vertical;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-footer\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-top:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x2d76fb(0x149)][_0x2d76fb(0x13a)](_0x44cdc5);}document['body']['appendChild'](_0x3e425d),_0x3e425d['querySelector'](_0x2d76fb(0x129))['addEventListener'](_0x2d76fb(0x13e),()=>_0x3e425d['remove']()),_0x3e425d['querySelector'](_0x2d76fb(0x112))['addEventListener']('click',()=>_0x3e425d['remove']()),_0x3e425d['addEventListener']('click',_0x2ffc94=>{if(_0x2ffc94['target']===_0x3e425d)_0x3e425d['remove']();}),_0x3e425d['querySelector']('#send-response')['addEventListener']('click',()=>{const _0x3ceac9=_0x2d76fb,_0x18e601=document['getElementById']('response-message')['value']['trim']();_0x18e601&&(alert('Message\x20sent!\x20(Feature\x20will\x20be\x20fully\x20implemented\x20in\x20future\x20update)'),_0x3e425d[_0x3ceac9(0x13d)]());});}async['createTeamFromInvitation'](_0x41b149){const _0x3eee99=a22_0x334ead;try{const {createTeam:_0x23bc87}=await import('./ladderduos.js'),_0x34f904=await _0x23bc87(_0x41b149[_0x3eee99(0x114)],_0x41b149['toUsername'],_0x41b149[_0x3eee99(0x131)][_0x3eee99(0x14b)],_0x41b149['teamData']['teamColor']);if(!_0x34f904['success'])throw new Error(_0x34f904['error']);alert('Team\x20\x22'+_0x41b149['teamData']['proposedTeamName']+'\x22\x20created\x20successfully!');}catch(_0x23362a){console['error']('Error\x20creating\x20team:',_0x23362a);throw new Error('Failed\x20to\x20create\x20team:\x20'+_0x23362a[_0x3eee99(0x142)]);}}['updateNotificationCount'](){const _0x5ddea4=a22_0x334ead,_0x4dba99=this['invitations'][_0x5ddea4(0x139)](_0x1802da=>_0x1802da['status']==='pending')['length'],_0x2bd647=document['getElementById']('inbox-notification');_0x2bd647&&(_0x4dba99>0x0?(_0x2bd647['style'][_0x5ddea4(0x11c)]='inline-block',_0x2bd647['textContent']=_0x4dba99>0x9?'9+':_0x4dba99):_0x2bd647[_0x5ddea4(0x124)]['display']='none');}['getTimeAgo'](_0x10d699){const _0xc91006=a22_0x334ead,_0x15ffbc=new Date(),_0x45fc1a=_0x15ffbc-_0x10d699,_0x2e5c8d=Math[_0xc91006(0x14c)](_0x45fc1a/(0x3e8*0x3c)),_0x38ae3b=Math['floor'](_0x45fc1a/(0x3e8*0x3c*0x3c)),_0x15b146=Math['floor'](_0x45fc1a/(0x3e8*0x3c*0x3c*0x18));if(_0x2e5c8d<0x1)return'Just\x20now';if(_0x2e5c8d<0x3c)return _0x2e5c8d+'m\x20ago';if(_0x38ae3b<0x18)return _0x38ae3b+'h\x20ago';if(_0x15b146<0x7)return _0x15b146+'d\x20ago';return _0x10d699['toLocaleDateString']();}['destroy'](){const _0x16308a=a22_0x334ead;this[_0x16308a(0x109)]&&this['unsubscribe'](),this['sentUnsubscribe']&&this['sentUnsubscribe']();}}document['addEventListener']('DOMContentLoaded',()=>{new InboxManager();});