const a33_0x3f4fe2=a33_0x38bf;(function(_0x5b002c,_0x3bb0e5){const _0x34f9b4=a33_0x38bf,_0x280934=_0x5b002c();while(!![]){try{const _0x2af9d3=-parseInt(_0x34f9b4(0xd3))/0x1*(-parseInt(_0x34f9b4(0x104))/0x2)+-parseInt(_0x34f9b4(0x156))/0x3*(-parseInt(_0x34f9b4(0x128))/0x4)+parseInt(_0x34f9b4(0x125))/0x5+-parseInt(_0x34f9b4(0x150))/0x6*(-parseInt(_0x34f9b4(0xee))/0x7)+-parseInt(_0x34f9b4(0xf2))/0x8+parseInt(_0x34f9b4(0xd2))/0x9*(parseInt(_0x34f9b4(0x14a))/0xa)+parseInt(_0x34f9b4(0x121))/0xb*(-parseInt(_0x34f9b4(0xe0))/0xc);if(_0x2af9d3===_0x3bb0e5)break;else _0x280934['push'](_0x280934['shift']());}catch(_0x1a98ec){_0x280934['push'](_0x280934['shift']());}}}(a33_0x2c80,0x6781d));const a33_0x2ebe74=(function(){let _0x246606=!![];return function(_0x3e8835,_0x5d53be){const _0x1c1de3=_0x246606?function(){const _0x5f1c41=a33_0x38bf;if(_0x5d53be){const _0x1b007f=_0x5d53be[_0x5f1c41(0x13c)](_0x3e8835,arguments);return _0x5d53be=null,_0x1b007f;}}:function(){};return _0x246606=![],_0x1c1de3;};}()),a33_0x352dde=a33_0x2ebe74(this,function(){const _0x47df94=a33_0x38bf;return a33_0x352dde[_0x47df94(0x146)]()[_0x47df94(0x117)]('(((.+)+)+)+$')[_0x47df94(0x146)]()[_0x47df94(0x124)](a33_0x352dde)[_0x47df94(0x117)]('(((.+)+)+)+$');});function a33_0x38bf(_0x378c65,_0x2905a4){const _0x1fe9eb=a33_0x2c80();return a33_0x38bf=function(_0x1a2ea3,_0x599e71){_0x1a2ea3=_0x1a2ea3-0xd2;let _0x37b3d7=_0x1fe9eb[_0x1a2ea3];return _0x37b3d7;},a33_0x38bf(_0x378c65,_0x2905a4);}a33_0x352dde();const a33_0x599e71=(function(){let _0x3920cd=!![];return function(_0x1696a2,_0x5169be){const _0x44b8d9=_0x3920cd?function(){const _0x2cfe9e=a33_0x38bf;if(_0x5169be){const _0x2199a7=_0x5169be[_0x2cfe9e(0x13c)](_0x1696a2,arguments);return _0x5169be=null,_0x2199a7;}}:function(){};return _0x3920cd=![],_0x44b8d9;};}()),a33_0x1a2ea3=a33_0x599e71(this,function(){const _0x41a1de=a33_0x38bf,_0x549e71=function(){const _0x417ab9=a33_0x38bf;let _0x5e7c56;try{_0x5e7c56=Function(_0x417ab9(0xe4)+_0x417ab9(0x132)+');')();}catch(_0x984584){_0x5e7c56=window;}return _0x5e7c56;},_0x3acaa9=_0x549e71(),_0x4c7728=_0x3acaa9[_0x41a1de(0xfb)]=_0x3acaa9['console']||{},_0x4e2b47=[_0x41a1de(0x13a),_0x41a1de(0x113),_0x41a1de(0xe9),_0x41a1de(0x10f),_0x41a1de(0xd8),_0x41a1de(0x130),_0x41a1de(0x110)];for(let _0x144779=0x0;_0x144779<_0x4e2b47[_0x41a1de(0x101)];_0x144779++){const _0x30999f=a33_0x599e71[_0x41a1de(0x124)][_0x41a1de(0x136)]['bind'](a33_0x599e71),_0x3cff06=_0x4e2b47[_0x144779],_0x16f6a2=_0x4c7728[_0x3cff06]||_0x30999f;_0x30999f[_0x41a1de(0x149)]=a33_0x599e71[_0x41a1de(0x14c)](a33_0x599e71),_0x30999f[_0x41a1de(0x146)]=_0x16f6a2[_0x41a1de(0x146)][_0x41a1de(0x14c)](_0x16f6a2),_0x4c7728[_0x3cff06]=_0x30999f;}});a33_0x1a2ea3();import{collection,getDocs,deleteDoc,doc,getDoc,query,where,updateDoc,Timestamp,onSnapshot,orderBy,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db}from'./firebase-config.js';import{getRankStyle}from'./ranks.js';import a33_0x2147a7 from'./firebase-idle-wrapper.js';const styleEl=document[a33_0x3f4fe2(0x135)](a33_0x3f4fe2(0xfc));styleEl[a33_0x3f4fe2(0x143)]='\x0a\x20\x20.streak-indicator\x20{\x0a\x20\x20\x20\x20font-size:\x200.9em;\x0a\x20\x20\x20\x20color:\x20#FF4500;\x0a\x20\x20\x20\x20margin-left:\x205px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20}\x0a',document[a33_0x3f4fe2(0x145)]['appendChild'](styleEl);const playerCacheD3={'data':null,'timestamp':0x0},CACHE_DURATION=0x7530;async function displayLadderD3(_0x5a811c=![]){const _0x3760cb=a33_0x3f4fe2,_0x2b3d35=document[_0x3760cb(0x13f)]('#ladder-d3\x20tbody');if(!_0x2b3d35){console[_0x3760cb(0x10f)](_0x3760cb(0x133));return;}_0x2b3d35[_0x3760cb(0xed)]=_0x3760cb(0xe6);try{const _0x17a342=Date[_0x3760cb(0x155)]();if(!_0x5a811c&&playerCacheD3['data']&&_0x17a342-playerCacheD3[_0x3760cb(0x13b)]<CACHE_DURATION){updateLadderDisplayD3(playerCacheD3['data']);return;}const _0x562d60=collection(db,_0x3760cb(0xd4)),_0x41c1ee=await getDocs(_0x562d60),_0x560ab5=[];_0x41c1ee[_0x3760cb(0x12d)](_0x135831=>{const _0x1217c0=_0x3760cb,_0x112648=_0x135831[_0x1217c0(0xf0)]();_0x112648['username']&&_0x560ab5['push']({..._0x112648,'id':_0x135831['id'],'elo':_0x112648[_0x1217c0(0xf5)]||0x0,'position':_0x112648['position']||Number['MAX_SAFE_INTEGER']});});const _0x4c1738=collection(db,_0x3760cb(0x12c)),_0x4023e8=await getDocs(_0x4c1738),_0x6e16e2=new Map();_0x4023e8[_0x3760cb(0x12d)](_0x49e36c=>{const _0xa1d29b=_0x3760cb,_0x2e5d09=_0x49e36c[_0xa1d29b(0xf0)]();_0x2e5d09[_0xa1d29b(0x118)]&&_0x6e16e2[_0xa1d29b(0x105)](_0x2e5d09[_0xa1d29b(0x118)][_0xa1d29b(0xf6)](),_0x2e5d09);});for(const _0xef3e4f of _0x560ab5){const _0x24cc56=_0xef3e4f[_0x3760cb(0x118)][_0x3760cb(0xf6)]();if(_0x6e16e2['has'](_0x24cc56)){const _0x2479ee=_0x6e16e2[_0x3760cb(0x11e)](_0x24cc56);_0x2479ee[_0x3760cb(0x127)]&&(_0xef3e4f[_0x3760cb(0x127)]=_0x2479ee[_0x3760cb(0x127)]['toLowerCase']());}}const _0x16f151=_0x560ab5[_0x3760cb(0xf7)](_0x1215df=>_0x1215df[_0x3760cb(0x118)]),_0x39cb7e=await fetchBatchMatchStatsD3(_0x16f151);_0x560ab5['sort']((_0x252e49,_0x3e9600)=>{const _0x56f781=_0x3760cb,_0xf4edd9=_0x39cb7e[_0x56f781(0x11e)](_0x252e49[_0x56f781(0x118)])?.[_0x56f781(0x12a)]||0x0,_0x754c76=_0x39cb7e[_0x56f781(0x11e)](_0x3e9600[_0x56f781(0x118)])?.[_0x56f781(0x12a)]||0x0;if(_0xf4edd9===0x0!==(_0x754c76===0x0))return _0xf4edd9===0x0?0x1:-0x1;return(_0x252e49[_0x56f781(0xdb)]||0x3e7)-(_0x3e9600[_0x56f781(0xdb)]||0x3e7);}),_0x560ab5[_0x3760cb(0x12d)]((_0x1a7dfe,_0x1c1ee9)=>{const _0x3703e4=_0x3760cb;_0x1a7dfe[_0x3703e4(0xdb)]=_0x1c1ee9+0x1;}),playerCacheD3[_0x3760cb(0xf0)]=_0x560ab5,playerCacheD3[_0x3760cb(0x13b)]=_0x17a342,updateLadderDisplayD3(_0x560ab5);}catch(_0x3b09f8){console[_0x3760cb(0x10f)](_0x3760cb(0x140),_0x3b09f8),_0x2b3d35[_0x3760cb(0xed)]=_0x3760cb(0x106)+_0x3b09f8[_0x3760cb(0xe8)]+_0x3760cb(0x152);}}function calculateStreakDays(_0x5e02bf){const _0x16309b=a33_0x3f4fe2;if(!_0x5e02bf)return 0x0;const _0x440bd4=_0x5e02bf[_0x16309b(0xf4)](),_0x4cb89d=new Date(),_0x7723f9=Math[_0x16309b(0xf9)](_0x4cb89d-_0x440bd4);return Math['ceil'](_0x7723f9/(0x3e8*0x3c*0x3c*0x18));}async function updatePlayerPositions(_0x77ec2b,_0x740f7c){const _0x4fd066=a33_0x3f4fe2;try{const _0x49b894=collection(db,'playersD3'),_0x5cb300=await getDocs(_0x49b894),_0x5d2ce8=[];_0x5cb300[_0x4fd066(0x12d)](_0x4b93c3=>{const _0x1f695a=_0x4fd066;_0x5d2ce8[_0x1f695a(0x115)]({'id':_0x4b93c3['id'],..._0x4b93c3[_0x1f695a(0xf0)]()});});const _0x1382af=_0x5d2ce8[_0x4fd066(0x14b)](_0x3b225a=>_0x3b225a[_0x4fd066(0x118)]===_0x77ec2b),_0x4e5d1f=_0x5d2ce8['find'](_0x23fbcd=>_0x23fbcd[_0x4fd066(0x118)]===_0x740f7c);if(!_0x1382af||!_0x4e5d1f){console[_0x4fd066(0x10f)]('Could\x20not\x20find\x20winner\x20or\x20loser\x20in\x20D3\x20players\x20list');return;}if(_0x1382af[_0x4fd066(0xdb)]>_0x4e5d1f[_0x4fd066(0xdb)]){const _0x3b4e48=_0x4e5d1f[_0x4fd066(0xdb)];for(const _0x155e44 of _0x5d2ce8){_0x155e44[_0x4fd066(0xdb)]>=_0x4e5d1f[_0x4fd066(0xdb)]&&_0x155e44[_0x4fd066(0xdb)]<_0x1382af[_0x4fd066(0xdb)]&&_0x155e44[_0x4fd066(0x118)]!==_0x77ec2b&&await updateDoc(doc(db,_0x4fd066(0xd4),_0x155e44['id']),{'position':_0x155e44['position']+0x1});}await updateDoc(doc(db,_0x4fd066(0xd4),_0x1382af['id']),{'position':_0x3b4e48});if(_0x3b4e48===0x1){const _0x2cec1c=doc(db,_0x4fd066(0xd4),_0x1382af['id']),_0x59c766=await getDoc(_0x2cec1c);!_0x59c766[_0x4fd066(0xf0)]()[_0x4fd066(0x122)]&&await updateDoc(_0x2cec1c,{'firstPlaceDate':Timestamp[_0x4fd066(0x155)]()});}if(_0x4e5d1f[_0x4fd066(0xdb)]===0x1){const _0x1e5246=doc(db,_0x4fd066(0xd4),_0x4e5d1f['id']);await updateDoc(_0x1e5246,{'firstPlaceDate':null});}}}catch(_0x5cd6f5){console['error'](_0x4fd066(0x10d),_0x5cd6f5);}}async function updateLadderDisplayD3(_0x5cae0e){const _0x49dbab=a33_0x3f4fe2;_0x5cae0e['sort']((_0x2618a7,_0x5cad58)=>_0x2618a7[_0x49dbab(0xdb)]-_0x5cad58['position']);const _0x12a4e1=document[_0x49dbab(0x13f)](_0x49dbab(0xd7));if(!_0x12a4e1)return;_0x12a4e1[_0x49dbab(0xed)]='';const _0x431b47=_0x5cae0e[_0x49dbab(0xf7)](_0x15ac55=>_0x15ac55[_0x49dbab(0x118)]),_0x3be9e6=await fetchBatchMatchStatsD3(_0x431b47),_0x21ab1e=document['querySelector']('#ladder-d3\x20thead\x20tr');_0x21ab1e['innerHTML']=_0x49dbab(0x11b);const _0x42f443=_0x5cae0e['map'](_0x468ca9=>{const _0x3f90b0=_0x49dbab,_0x4c9609=_0x3be9e6['get'](_0x468ca9[_0x3f90b0(0x118)])||{'totalMatches':0x0,'wins':0x0,'losses':0x0,'kda':0x0,'winRate':0x0,'totalKills':0x0,'totalDeaths':0x0};return createPlayerRowD3(_0x468ca9,_0x4c9609);})['join']('');_0x12a4e1[_0x49dbab(0xed)]=_0x42f443,getPlayersLastEloChangesD3(_0x431b47)[_0x49dbab(0x153)](_0x34b8d5=>{const _0x282dcd=_0x49dbab,_0x3d07bf=new Map();_0x12a4e1[_0x282dcd(0x12e)]('tr')[_0x282dcd(0x12d)]((_0x128bda,_0x5b677e)=>{const _0x26132f=_0x282dcd;_0x5b677e<_0x431b47['length']&&_0x3d07bf[_0x26132f(0x105)](_0x431b47[_0x5b677e],_0x128bda);}),_0x34b8d5[_0x282dcd(0x12d)]((_0x1aadca,_0x4f4c09)=>{const _0x504eba=_0x282dcd,_0x5991bc=_0x3d07bf[_0x504eba(0x11e)](_0x4f4c09);if(_0x5991bc&&_0x1aadca!==0x0){const _0x4eb80f=_0x5991bc[_0x504eba(0x13f)](_0x504eba(0xe7));if(_0x4eb80f){const _0x415983=_0x1aadca>0x0?'+'+_0x1aadca:''+_0x1aadca,_0xa90938=_0x4eb80f['querySelector'](_0x504eba(0x11d));_0xa90938&&(_0xa90938['textContent']=_0x415983,_0xa90938[_0x504eba(0xfc)][_0x504eba(0xda)]=_0x1aadca>0x0?_0x504eba(0xe2):'#F44336',_0xa90938[_0x504eba(0xfc)]['fontWeight']=_0x504eba(0x111),_0xa90938['style'][_0x504eba(0x137)]='0.85em',_0xa90938[_0x504eba(0xfc)][_0x504eba(0xeb)]='inline',_0xa90938['style']['visibility']=_0x504eba(0x11c),_0xa90938[_0x504eba(0xfc)][_0x504eba(0x14e)]='1');}}});})[_0x49dbab(0x10c)](_0x12a3da=>console[_0x49dbab(0x10f)](_0x49dbab(0xdf),_0x12a3da));}async function fetchBatchMatchStatsD3(_0x4018e9){const _0x33a767=a33_0x3f4fe2,_0x101ba8=new Map();try{const _0x50e4c8=collection(db,_0x33a767(0x109)),_0x37634a=await getDocs(_0x50e4c8);_0x37634a[_0x33a767(0x12d)](_0x1bd2bd=>{const _0x2c0a37=_0x33a767,_0x4f5a3d=_0x1bd2bd[_0x2c0a37(0xf0)]();if(_0x4018e9[_0x2c0a37(0x139)](_0x4f5a3d[_0x2c0a37(0x141)])){const _0x2f99ab=_0x4f5a3d[_0x2c0a37(0x141)];!_0x101ba8['has'](_0x2f99ab)&&_0x101ba8[_0x2c0a37(0x105)](_0x2f99ab,{'totalMatches':0x0,'wins':0x0,'losses':0x0,'totalKills':0x0,'totalDeaths':0x0,'kda':0x0,'winRate':0x0});const _0x5852c4=_0x101ba8[_0x2c0a37(0x11e)](_0x2f99ab);_0x5852c4['wins']++,_0x5852c4[_0x2c0a37(0x12a)]++,_0x5852c4[_0x2c0a37(0x126)]+=parseInt(_0x4f5a3d[_0x2c0a37(0x13d)])||0x0,_0x5852c4[_0x2c0a37(0x102)]+=parseInt(_0x4f5a3d['loserScore'])||0x0;}if(_0x4018e9[_0x2c0a37(0x139)](_0x4f5a3d[_0x2c0a37(0x114)])){const _0x589eb3=_0x4f5a3d['loserUsername'];!_0x101ba8['has'](_0x589eb3)&&_0x101ba8[_0x2c0a37(0x105)](_0x589eb3,{'totalMatches':0x0,'wins':0x0,'losses':0x0,'totalKills':0x0,'totalDeaths':0x0,'kda':0x0,'winRate':0x0});const _0x1c93f6=_0x101ba8[_0x2c0a37(0x11e)](_0x589eb3);_0x1c93f6[_0x2c0a37(0x138)]++,_0x1c93f6[_0x2c0a37(0x12a)]++,_0x1c93f6[_0x2c0a37(0x126)]+=parseInt(_0x4f5a3d[_0x2c0a37(0x108)])||0x0,_0x1c93f6[_0x2c0a37(0x102)]+=parseInt(_0x4f5a3d[_0x2c0a37(0x13d)])||0x0;}}),_0x101ba8[_0x33a767(0x12d)](_0x334463=>{const _0x304cd9=_0x33a767;_0x334463[_0x304cd9(0xf3)]=_0x334463['totalDeaths']>0x0?(_0x334463['totalKills']/_0x334463['totalDeaths'])[_0x304cd9(0x144)](0x2):_0x334463['totalKills'],_0x334463[_0x304cd9(0x123)]=_0x334463[_0x304cd9(0x12a)]>0x0?(_0x334463[_0x304cd9(0x13e)]/_0x334463[_0x304cd9(0x12a)]*0x64)[_0x304cd9(0x144)](0x1):0x0;});}catch(_0x3d07aa){console[_0x33a767(0x10f)](_0x33a767(0x11a),_0x3d07aa);}return _0x101ba8;}function a33_0x2c80(){const _0x1d367d=['D3:\x20Found\x20entries\x20for\x20','playerUsername','length','totalDeaths','<img\x20src=\x22../images/flags/','3134rjhGec','set','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x228\x22\x20style=\x22text-align:\x20center;\x20color:\x20red;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20D3\x20ladder\x20data:\x20','playerId','loserScore','approvedMatchesD3','entries','#CD7F32','catch','Error\x20updating\x20D3\x20player\x20positions:','has','error','trace','bold','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22trend-indicator\x22\x20style=\x22margin-left:\x205px;\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','warn','loserUsername','push','elo','search','username','D3:\x20','Error\x20fetching\x20batch\x20match\x20stats\x20for\x20D3:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>Rank</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>Username</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>ELO</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>Matches</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>Wins</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>Losses</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>K/D</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>Win\x20Rate</th>\x0a\x20\x20\x20\x20','visible','.trend-indicator','get','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','gray','6083ItVclF','firstPlaceDate','winRate','constructor','2249985EXFRnI','totalKills','country','4fJofSl','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22profile.html?username=','totalMatches','player','userProfiles','forEach','querySelectorAll','sort','table','#FFD700','{}.constructor(\x22return\x20this\x22)(\x20)','D3\x20Ladder\x20table\x20body\x20not\x20found','gameMode','createElement','prototype','fontSize','losses','includes','log','timestamp','apply','winnerScore','wins','querySelector','Error\x20loading\x20D3\x20ladder:','winnerUsername','pilot','textContent','toFixed','head','toString','eloHistory','\x20entries\x20in\x20eloHistoryD3','__proto__','10PBardC','find','bind','D3:\x20Error\x20fetching\x20ELO\x20history:','opacity','previousElo','24GxeIhF',';\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22elo-container\x22\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22elo-value\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','then','D3:\x20Fallback\x20query\x20failed:','now','738765vNTWAL','2546361KsRzdW','227Ommkvm','playersD3','newElo','string','#ladder-d3\x20tbody','exception','%</td>\x0a\x20\x20\x20\x20</tr>','color','position','filter','#50C878','size','Error\x20updating\x20D3\x20ELO\x20trend\x20indicators:','21048kcyrlQ','from','#4CAF50','desc','return\x20(function()\x20','change','<tr><td\x20colspan=\x228\x22\x20class=\x22loading-cell\x22>Loading\x20D3\x20ladder\x20data...</td></tr>','td:nth-child(3)','message','info','seconds','display','D3:\x20eloHistoryD3\x20is\x20empty,\x20trying\x20fallback...','innerHTML','442127GjCLmc','&ladder=d3\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22color:\x20','data','D3:\x20Found\x20','1548856ISRheD','kda','toDate','eloRating','toLowerCase','map','D3:\x20No\x20entries\x20found\x20in\x20eloHistoryD3,\x20trying\x20fallback...','abs','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','console','style',';\x20text-decoration:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20fallback\x20entries'];a33_0x2c80=function(){return _0x1d367d;};return a33_0x2c80();}function createPlayerRowD3(_0x50eafc,_0x587329){const _0x33b239=a33_0x3f4fe2,_0x53d4ad=parseFloat(_0x50eafc[_0x33b239(0x116)])||0x0;let _0xd9d114=_0x33b239(0x120);if(_0x53d4ad>=0x7d0)_0xd9d114=_0x33b239(0xdd);else{if(_0x53d4ad>=0x708)_0xd9d114=_0x33b239(0x131);else{if(_0x53d4ad>=0x640)_0xd9d114='#C0C0C0';else _0x53d4ad>=0x578&&(_0xd9d114=_0x33b239(0x10b));}}let _0xd314db='';return _0x50eafc[_0x33b239(0x127)]&&(_0xd314db=_0x33b239(0x103)+_0x50eafc[_0x33b239(0x127)][_0x33b239(0xf6)]()+'.png\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22'+_0x50eafc[_0x33b239(0x127)]+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22player-flag\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>'),'\x0a\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x50eafc[_0x33b239(0xdb)]+_0x33b239(0x129)+encodeURIComponent(_0x50eafc[_0x33b239(0x118)])+_0x33b239(0xef)+_0xd9d114+_0x33b239(0xfd)+_0x50eafc['username']+_0x33b239(0x11f)+_0xd314db+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22color:\x20'+_0xd9d114+_0x33b239(0x151)+_0x53d4ad+_0x33b239(0x112)+_0x587329[_0x33b239(0x12a)]+_0x33b239(0xfa)+_0x587329[_0x33b239(0x13e)]+_0x33b239(0xfa)+_0x587329['losses']+_0x33b239(0xfa)+_0x587329['kda']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x587329['winRate']+_0x33b239(0xd9);}async function getPlayersLastEloChangesD3(_0x1521ff){const _0x1bec5f=a33_0x3f4fe2,_0x23725c=new Map();_0x1521ff[_0x1bec5f(0x12d)](_0x512ee7=>_0x23725c[_0x1bec5f(0x105)](_0x512ee7,0x0));try{console[_0x1bec5f(0x13a)]('D3:\x20Looking\x20for\x20ELO\x20changes\x20for\x20users:',_0x1521ff);const _0x569833=new Map(),_0x13323d=await getDocs(collection(db,'playersD3'));_0x13323d['forEach'](_0x477c3d=>{const _0x21cfe4=_0x1bec5f,_0x210534=_0x477c3d['data']();_0x210534[_0x21cfe4(0x118)]&&_0x569833['set'](_0x477c3d['id'],_0x210534['username']);}),console[_0x1bec5f(0x13a)]('D3:\x20Player\x20ID\x20mappings:',Array[_0x1bec5f(0xe1)](_0x569833[_0x1bec5f(0x10a)]()));const _0x416dd7=collection(db,'eloHistoryD3'),_0xbdc710=query(_0x416dd7,orderBy('timestamp','desc'),limit(0x64)),_0x28f486=await getDocs(_0xbdc710);_0x28f486['empty']?console[_0x1bec5f(0x13a)](_0x1bec5f(0xec)):console[_0x1bec5f(0x13a)](_0x1bec5f(0xf1)+_0x28f486[_0x1bec5f(0xde)]+_0x1bec5f(0x148));const _0x364a07=new Map();_0x28f486['forEach'](_0x4dd666=>{const _0x188ca4=_0x1bec5f,_0x94b090=_0x4dd666[_0x188ca4(0xf0)]();let _0x1890c0=null;if(_0x94b090['username'])_0x1890c0=_0x94b090['username'];else{if(_0x94b090['playerUsername'])_0x1890c0=_0x94b090[_0x188ca4(0x100)];else{if(_0x94b090[_0x188ca4(0x12b)]&&typeof _0x94b090[_0x188ca4(0x12b)]===_0x188ca4(0xd6))_0x1890c0=_0x94b090[_0x188ca4(0x12b)];else{if(_0x94b090[_0x188ca4(0x12b)]&&_0x569833[_0x188ca4(0x10e)](_0x94b090[_0x188ca4(0x12b)]))_0x1890c0=_0x569833['get'](_0x94b090[_0x188ca4(0x12b)]);else _0x94b090[_0x188ca4(0x107)]&&_0x569833[_0x188ca4(0x10e)](_0x94b090[_0x188ca4(0x107)])&&(_0x1890c0=_0x569833[_0x188ca4(0x11e)](_0x94b090[_0x188ca4(0x107)]));}}}(_0x94b090['username']==='pilot'||_0x94b090[_0x188ca4(0x100)]===_0x188ca4(0x142)||_0x94b090[_0x188ca4(0x12b)]&&_0x569833[_0x188ca4(0x11e)](_0x94b090[_0x188ca4(0x12b)])===_0x188ca4(0x142))&&console[_0x188ca4(0x13a)]('D3:\x20Found\x20pilot\x20entry:',_0x94b090),_0x1890c0&&_0x1521ff[_0x188ca4(0x139)](_0x1890c0)&&(!_0x364a07[_0x188ca4(0x10e)](_0x1890c0)&&_0x364a07[_0x188ca4(0x105)](_0x1890c0,[]),_0x364a07[_0x188ca4(0x11e)](_0x1890c0)[_0x188ca4(0x115)]({..._0x94b090,'timestamp':_0x94b090[_0x188ca4(0x13b)]?.[_0x188ca4(0xea)]||0x0}));}),console[_0x1bec5f(0x13a)](_0x1bec5f(0xff)+_0x364a07[_0x1bec5f(0xde)]+'\x20players'),_0x364a07[_0x1bec5f(0x12d)]((_0x10ca05,_0x34a339)=>{const _0x5b6e7a=_0x1bec5f;if(_0x10ca05['length']>0x0){_0x10ca05[_0x5b6e7a(0x12f)]((_0x80c696,_0x55795a)=>_0x55795a[_0x5b6e7a(0x13b)]-_0x80c696['timestamp']);const _0x380103=_0x10ca05[_0x5b6e7a(0x14b)](_0x3aff7d=>_0x3aff7d['change']!==undefined||_0x3aff7d[_0x5b6e7a(0xd5)]!==undefined&&_0x3aff7d[_0x5b6e7a(0x14f)]!==undefined);if(_0x380103){let _0x3a714;if(_0x380103['change']!==undefined)_0x3a714=_0x380103[_0x5b6e7a(0xe5)];else _0x380103[_0x5b6e7a(0xd5)]!==undefined&&_0x380103[_0x5b6e7a(0x14f)]!==undefined&&(_0x3a714=_0x380103[_0x5b6e7a(0xd5)]-_0x380103[_0x5b6e7a(0x14f)]);_0x3a714!==undefined&&(_0x23725c[_0x5b6e7a(0x105)](_0x34a339,_0x3a714),console[_0x5b6e7a(0x13a)](_0x5b6e7a(0x119)+_0x34a339+'\x20ELO\x20change:\x20'+_0x3a714));}}});if(_0x364a07[_0x1bec5f(0xde)]===0x0){console[_0x1bec5f(0x13a)](_0x1bec5f(0xf8));const _0x35a1e5=collection(db,_0x1bec5f(0x147)),_0x53e311=query(_0x35a1e5,where(_0x1bec5f(0x134),'==','D3'),orderBy(_0x1bec5f(0x13b),_0x1bec5f(0xe3)),limit(0x32));try{const _0x34c577=await getDocs(_0x53e311);console[_0x1bec5f(0x13a)](_0x1bec5f(0xf1)+_0x34c577[_0x1bec5f(0xde)]+_0x1bec5f(0xfe)),_0x34c577['forEach'](_0x30da88=>{const _0x225652=_0x1bec5f,_0x7eeb76=_0x30da88[_0x225652(0xf0)]();let _0x41119e=_0x7eeb76[_0x225652(0x118)]||_0x7eeb76[_0x225652(0x100)];!_0x41119e&&_0x7eeb76['player']&&_0x569833['has'](_0x7eeb76[_0x225652(0x12b)])&&(_0x41119e=_0x569833[_0x225652(0x11e)](_0x7eeb76[_0x225652(0x12b)]));if(_0x41119e&&_0x1521ff[_0x225652(0x139)](_0x41119e)){const _0x1f276d=_0x7eeb76['change']||(_0x7eeb76[_0x225652(0xd5)]!==undefined&&_0x7eeb76[_0x225652(0x14f)]!==undefined?_0x7eeb76[_0x225652(0xd5)]-_0x7eeb76[_0x225652(0x14f)]:0x0);_0x1f276d!==0x0&&(_0x23725c[_0x225652(0x105)](_0x41119e,_0x1f276d),console[_0x225652(0x13a)](_0x225652(0x119)+_0x41119e+'\x20fallback\x20ELO\x20change:\x20'+_0x1f276d));}});}catch(_0xf4dea0){console[_0x1bec5f(0x13a)](_0x1bec5f(0x154),_0xf4dea0);}}const _0x15d17c=Array[_0x1bec5f(0xe1)](_0x23725c[_0x1bec5f(0x10a)]())[_0x1bec5f(0xdc)](([_0x217e10,_0x2190cb])=>_0x2190cb!==0x0);console[_0x1bec5f(0x13a)]('D3:\x20Final\x20ELO\x20changes:',_0x15d17c);}catch(_0x394c4a){console[_0x1bec5f(0x10f)](_0x1bec5f(0x14d),_0x394c4a);}return _0x23725c;}export{displayLadderD3,updatePlayerPositions};