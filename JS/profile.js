function a42d(a,b){const c=a42c();return a42d=function(d,e){d=d-0x84;let f=c[d];if(a42d['ytzjFJ']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a42d['iUcjOe']=g,a=arguments,a42d['ytzjFJ']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a42d['iUcjOe'](f),a[i]=f):f=j,f;},a42d(a,b);}const a42r=a42d;function a42c(){const B=['DgfYz2v0','x19WCM90B19F','D2LUBMvYvxnLCM5HBwu','zMf2B3jPDguTBwfW','CgXHEwvYlxn0yxrZ','Dgv4DenVBNrLBNq','Dg9ju09tDhjPBMC','u3rHDhmGy2fSy3vSyxrLzdO','BMLJA25HBwu','C3jJ','CgzWuhjLDMLLDW','mJC0meTvDgLbqG','AgfUzgXLu3vIBwL0','uhjVzMLSzsbZyxzLzcbZDwnJzxnZzNvSBhKH','CgzWvxjS','ChjVDg90ExbL','zM9YBq','otG2odaXALzHBhf5','ChjVzMLSzs1WCMv2Awv3','DgfIBgu','mtm1mdqYoePLs2T4tG','y29UC29Szq','Bg9HzfbSyxLLCLn0yxrZ','m1H6rMHftW','z2v0','rxjYB3iGC2f2Aw5NihbYB2zPBguUifbSzwfZzsb0CNKGywDHAw4U','Bw90Dg8','CgzWsw5WDxq','n1Lfww54sW','zxjYB3i','zM9YrwfJAa','ndy3otfQBffLy2W','mLnYqLbmzG','DMfSDwu','CgzWlxvWBg9Hza','rxjYB3iGBg9HzgLUzYbWCM9MAwXLoG','E30Uy29UC3rYDwn0B3iOiNjLDhvYBIb0AgLZiIKOicK','ChjVzMLSzs1MB3jT','C3rHDhmTBg9ZC2vZ','C3rHDhmTD2LUCMf0zq','mtqXmtaWndrou2jArwq','ywrKrxzLBNrmAxn0zw5LCG','mJm1mZbUsfrkzui','DwLK','z2v0rwXLBwvUDej5swq','nZyXodGWEg9UA1ry','nJzbB1Pfrxe','Bg9Zzxjty29Yzq','Bg9HzfbYB2zPBgu','DhjHy2u','zxHJzxb0Aw9U','ugXLyxnLihnPz24GAw4GDg8GC2f2zsb5B3vYihbYB2zPBgu','Bwf0y2HLCW','ndu4mtaXnNnWzLfJsq','Bg9N','yMLUza','zMf2B3jPDguTD2vHCg9U','C2v0DxbfDMvUDeXPC3rLBMvYCW','B25SB2fK','C3rHDhndB250ywLUzxi','rxjYB3iGC2f2Aw5NihbYB2zPBgu6'];a42c=function(){return B;};return a42c();}(function(a,b){const n=a42d,c=a();while(!![]){try{const d=-parseInt(n(0xa9))/0x1*(parseInt(n(0xb8))/0x2)+parseInt(n(0xaf))/0x3*(-parseInt(n(0xac))/0x4)+-parseInt(n(0x85))/0x5*(parseInt(n(0x89))/0x6)+parseInt(n(0xb4))/0x7*(-parseInt(n(0x88))/0x8)+-parseInt(n(0xb7))/0x9*(-parseInt(n(0xa3))/0xa)+-parseInt(n(0x90))/0xb+parseInt(n(0xc0))/0xc;if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a42c,0xadf32));const a42b=(function(){let a=!![];return function(b,c){const d=a?function(){if(c){const e=c['apply'](b,arguments);return c=null,e;}}:function(){};return a=![],d;};}()),a42a=a42b(this,function(){const p=a42d,a=function(){const o=a42d;let f;try{f=Function('return\x20(function()\x20'+o(0xbc)+');')();}catch(g){f=window;}return f;},b=a(),c=b[p(0xad)]=b[p(0xad)]||{},d=[p(0x91),'warn','info',p(0xb5),p(0x8d),p(0xab),p(0x8c)];for(let e=0x0;e<d['length'];e++){const f=a42b['constructor'][p(0xa7)]['bind'](a42b),g=d[e],h=c[g]||f;f[p(0x99)]=a42b[p(0x92)](a42b),f['toString']=h['toString'][p(0x92)](h),c[g]=f;}});a42a();import{initializeApp}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js';import{getAuth,onAuthStateChanged}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';import{getFirestore,doc,setDoc,getDoc,collection,getDocs,query,where}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{getStorage,ref,uploadBytes,getDownloadURL}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-storage.js';import{firebaseConfig}from'./firebase-config.js';const app=initializeApp(firebaseConfig),auth=getAuth(app),db=getFirestore(app),storage=getStorage(app);class ProfileManager{constructor(){const q=a42d;this[q(0xa8)]=document['getElementById'](q(0xbd)),this[q(0xb3)]=document[q(0x87)](q(0xba)),this[q(0xa2)]=document[q(0x87)](q(0xaa)),this[q(0x96)]=document[q(0x87)](q(0x9c)),this['setupEventListeners'](),this[q(0x8b)]();}[a42r(0x94)](){const s=a42r;this['pfpInput']['addEventListener']('change',a=>this['handleImageUpload'](a)),this['form'][s(0x84)]('submit',a=>this[s(0xa4)](a));}async['handleImageUpload'](a){const t=a42r,b=a[t(0x98)]['files'][0x0];if(b){const c=new FileReader();c[t(0x95)]=d=>{const u=t;this[u(0xa2)][u(0xa1)]=d[u(0x98)]['result'];},c['readAsDataURL'](b);}}async[a42r(0xa4)](a){const v=a42r;a['preventDefault']();const b=auth['currentUser'];if(!b){alert(v(0x8e));return;}try{const c=new FormData(this['form']),d={'nickname':c['get'](v(0xa0)),'motto':c[v(0xb0)]('motto'),'favoriteMap':c[v(0xb0)](v(0x9b)),'favoriteWeapon':c['get'](v(0x93)),'updatedAt':new Date()[v(0x9e)]()},e=this[v(0xb3)]['files'][0x0];if(e){const f=ref(storage,'profile-pictures/'+b['uid']);await uploadBytes(f,e),d[v(0xa6)]=await getDownloadURL(f);}await setDoc(doc(db,'profiles',b[v(0x86)]),d),alert(v(0xa5));}catch(g){console['error'](v(0x97),g),alert(v(0xb1));}}async['loadProfile'](){onAuthStateChanged(auth,async a=>{const w=a42d;if(a)try{const b=await getDoc(doc(db,'profiles',a[w(0x86)]));if(b['exists']()){const c=b['data']();document[w(0x87)](w(0xa0))['value']=c[w(0xa0)]||'',document['getElementById'](w(0xb2))[w(0xb9)]=c[w(0xb2)]||'',document[w(0x87)](w(0x9b))['value']=c['favoriteMap']||'',document[w(0x87)]('favorite-weapon')['value']=c['favoriteWeapon']||'',c['pfpUrl']&&(this['pfpPreview']['src']=c[w(0xa6)]),await this[w(0xae)](c['nickname']);}}catch(d){console[w(0xb5)](w(0xbb),d);}});}async[a42r(0xae)](a){const x=a42r;if(!a)return;try{const b=collection(db,'approvedMatches'),[c,d]=await Promise['all']([getDocs(query(b,where(x(0x9a),'==',a))),getDocs(query(b,where('loserUsername','==',a)))]),e=c['size'],f=d['size'],g=e+f;let h=0x0,i=0x0;c[x(0xb6)](l=>{const y=x,m=l['data']();if(m['winnerScore'])h+=parseInt(m['winnerScore']);if(m['loserScore'])i+=parseInt(m[y(0x8a)]);}),d['forEach'](l=>{const z=x,m=l['data']();if(m['loserScore'])h+=parseInt(m[z(0x8a)]);if(m['winnerScore'])i+=parseInt(m['winnerScore']);});const j=i===0x0?h['toFixed'](0x2):(h/ i)['toFixed'](0x2),k=g===0x0?'0':(e/g*0x64)['toFixed'](0x1);console['log'](x(0x9f),{'totalMatches':g,'wins':e,'losses':f,'totalKills':h,'totalDeaths':i,'kdRatio':j,'winRate':k}),document[x(0x87)]('stats-matches')[x(0x9d)]=g,document[x(0x87)]('stats-wins')[x(0x9d)]=e,document['getElementById'](x(0xbe))[x(0x9d)]=f,document['getElementById']('stats-kd')[x(0x9d)]=j,document[x(0x87)](x(0xbf))['textContent']=k+'%';}catch(l){console['error']('Error\x20loading\x20player\x20stats:',l),[x(0x8f),'wins','losses','kd','winrate'][x(0xb6)](m=>{const A=x;document['getElementById']('stats-'+m)[A(0x9d)]='-';});}}}document[a42r(0x84)]('DOMContentLoaded',()=>{new ProfileManager();});