const a22_0xec79e6=a22_0x910a,a22_0xa00c1e=(function(){let _0x2fdefc=!![];return function(_0x5c287b,_0x34647d){const _0x15da7d=_0x2fdefc?function(){if(_0x34647d){const _0x56b954=_0x34647d['apply'](_0x5c287b,arguments);return _0x34647d=null,_0x56b954;}}:function(){};return _0x2fdefc=![],_0x15da7d;};}()),a22_0xf716d3=a22_0xa00c1e(this,function(){const _0x3c433b=a22_0x910a,_0xbee889=function(){const _0x1e3414=a22_0x910a;let _0x253304;try{_0x253304=Function(_0x1e3414(0x1b4)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x4e9823){_0x253304=window;}return _0x253304;},_0xcc4d52=_0xbee889(),_0x570d23=_0xcc4d52['console']=_0xcc4d52[_0x3c433b(0x1d1)]||{},_0x607a9=['log','warn',_0x3c433b(0x1c1),'error','exception',_0x3c433b(0x1da),_0x3c433b(0x1c9)];for(let _0x554abc=0x0;_0x554abc<_0x607a9['length'];_0x554abc++){const _0x55b842=a22_0xa00c1e[_0x3c433b(0x1bf)][_0x3c433b(0x1cd)]['bind'](a22_0xa00c1e),_0x33b180=_0x607a9[_0x554abc],_0x3a500d=_0x570d23[_0x33b180]||_0x55b842;_0x55b842['__proto__']=a22_0xa00c1e[_0x3c433b(0x1bc)](a22_0xa00c1e),_0x55b842['toString']=_0x3a500d['toString'][_0x3c433b(0x1bc)](_0x3a500d),_0x570d23[_0x33b180]=_0x55b842;}});a22_0xf716d3();import{auth,db}from'./firebase-config.js';function a22_0x1afe(){const _0x152eda=['\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20cancel-btn\x22\x20data-action=\x22cancel\x22\x20data-invitation-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','textContent','error','remove','createTeamFromInvitation','toUsername','.filter-btn','renderInvitations','click','uid','invitations','className','.modal-close','createInvitationCard','add','outbox','teamData','h\x20ago','unsubscribe','gameInvitations','decline','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-styles','Error\x20performing\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20accept-btn\x22\x20data-action=\x22accept\x22\x20data-invitation-id=\x22','innerHTML','accepted','desc','toDate','return\x20(function()\x20','all','createElement','isSent','sentUnsubscribe','lastDoc','./ladderduos.js','body','bind','floor','Message\x20sent!\x20(Feature\x20will\x20be\x20fully\x20implemented\x20in\x20future\x20update)','constructor','status','info','filter','Just\x20now','updateNotificationCount','find','updateInvitationStatus','querySelectorAll','querySelector','trace','createdAt','pending','type','prototype','action','target','map','console','openResponseModal','fromUsername','\x22\x20data-invitation-id=\x22','addEventListener','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toUserId','sentInvitations','setupActionListeners','table','getElementById','currentFilter','success'];a22_0x1afe=function(){return _0x152eda;};return a22_0x1afe();}function a22_0x910a(_0xba5d70,_0x4fab01){const _0xf716d3=a22_0x1afe();return a22_0x910a=function(_0xa00c1e,_0x351b06){_0xa00c1e=_0xa00c1e-0x195;let _0x1afea7=_0xf716d3[_0xa00c1e];return _0x1afea7;},a22_0x910a(_0xba5d70,_0x4fab01);}import{collection,query,where,orderBy,getDocs,doc,updateDoc,onSnapshot,limit,startAfter}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';class InboxManager{constructor(){const _0x3a10c5=a22_0x910a;this[_0x3a10c5(0x1dc)]=_0x3a10c5(0x1cb),this['invitations']=[],this['sentInvitations']=[],this['unsubscribe']=null,this['sentUnsubscribe']=null,this['pageSize']=0x14,this[_0x3a10c5(0x1b9)]=null,this['hasMore']=!![],this['init']();}async['init'](){auth['onAuthStateChanged'](_0x4ad101=>{const _0x48deee=a22_0x910a;_0x4ad101?(this['loadInvitations'](_0x4ad101[_0x48deee(0x1a0)]),this['setupEventListeners']()):window['location']['href']='./login.html';});}['setupEventListeners'](){document['querySelectorAll']('.filter-btn')['forEach'](_0x31e1a7=>{const _0x3c4857=a22_0x910a;_0x31e1a7['addEventListener'](_0x3c4857(0x19f),()=>{const _0x56881a=_0x3c4857;document['querySelectorAll'](_0x56881a(0x19d))['forEach'](_0x27317f=>_0x27317f['classList'][_0x56881a(0x19a)]('active')),_0x31e1a7['classList'][_0x56881a(0x1a5)]('active'),this[_0x56881a(0x1dc)]=_0x31e1a7['dataset']['filter'],this['renderInvitations']();});});}['loadInvitations'](_0x389fdd){const _0x5b6562=a22_0x910a,_0x308d92=collection(db,_0x5b6562(0x1aa));let _0x43152d=query(_0x308d92,where(_0x5b6562(0x1d7),'==',_0x389fdd),orderBy('createdAt',_0x5b6562(0x1b2)),limit(this['pageSize']));this[_0x5b6562(0x1a9)]=onSnapshot(_0x43152d,_0x2503f7=>{const _0x43cbc7=_0x5b6562;this[_0x43cbc7(0x1a1)]=_0x2503f7['docs'][_0x43cbc7(0x1d0)](_0x472941=>({'id':_0x472941['id'],..._0x472941['data']()})),this[_0x43cbc7(0x19e)](),this[_0x43cbc7(0x1c4)]();});let _0x26ff38=query(_0x308d92,where('fromUserId','==',_0x389fdd),orderBy('createdAt','desc'),limit(this['pageSize']));this['sentUnsubscribe']=onSnapshot(_0x26ff38,_0x1224e1=>{const _0x45b971=_0x5b6562;this[_0x45b971(0x1d8)]=_0x1224e1['docs'][_0x45b971(0x1d0)](_0x4f5738=>({'id':_0x4f5738['id'],..._0x4f5738['data'](),'isSent':!![]})),this[_0x45b971(0x19e)]();});}[a22_0xec79e6(0x19e)](){const _0x486f4c=a22_0xec79e6,_0xf39922=document['getElementById']('inbox-content');if(!_0xf39922)return;let _0xad0c6f=[];if(this['currentFilter']==='outbox')_0xad0c6f=this[_0x486f4c(0x1d8)];else this['currentFilter']===_0x486f4c(0x1b5)?_0xad0c6f=[...this[_0x486f4c(0x1a1)],...this['sentInvitations']]['sort']((_0x51a36e,_0x387964)=>{const _0x4a045c=_0x486f4c,_0x1a8063=_0x51a36e[_0x4a045c(0x1ca)]?.['toDate']?_0x51a36e['createdAt']['toDate']():new Date(_0x51a36e[_0x4a045c(0x1ca)]),_0x5864d0=_0x387964['createdAt']?.['toDate']?_0x387964['createdAt'][_0x4a045c(0x1b3)]():new Date(_0x387964['createdAt']);return _0x5864d0-_0x1a8063;}):_0xad0c6f=this[_0x486f4c(0x1a1)][_0x486f4c(0x1c2)](_0x47f2b5=>_0x47f2b5['status']===this[_0x486f4c(0x1dc)]);if(_0xad0c6f['length']===0x0){const _0x239e9b=this['currentFilter']===_0x486f4c(0x1a6)?'sent':this['currentFilter']==='all'?'':this['currentFilter'];_0xf39922[_0x486f4c(0x1b0)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22empty-inbox\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-inbox\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>No\x20'+_0x239e9b+'\x20invitations</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(this[_0x486f4c(0x1dc)]==='outbox'?'Invitations\x20you\x20send\x20to\x20other\x20players\x20will\x20appear\x20here.':'When\x20other\x20players\x20invite\x20you\x20to\x20games,\x20they\x27ll\x20appear\x20here.')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';return;}_0xf39922['innerHTML']=_0xad0c6f['map'](_0x2ad7f9=>this['createInvitationCard'](_0x2ad7f9))['join'](''),this['setupActionListeners']();}[a22_0xec79e6(0x1a4)](_0x19ccdc){const _0x32fba4=a22_0xec79e6,_0x1c6539=_0x19ccdc['createdAt']?.[_0x32fba4(0x1b3)]?_0x19ccdc[_0x32fba4(0x1ca)]['toDate']():new Date(_0x19ccdc['createdAt']),_0x37d839=this['getTimeAgo'](_0x1c6539),_0x2be9b9=_0x19ccdc[_0x32fba4(0x1b7)]||![];let _0x157336='';return _0x19ccdc[_0x32fba4(0x1cc)]==='team_invite'?_0x157336='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+_0x19ccdc['message']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22team-invite-preview\x22\x20style=\x22background:\x20#1a1a1a;\x20padding:\x201rem;\x20border-radius:\x204px;\x20margin:\x200.5rem\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20style=\x22color:\x20'+_0x19ccdc['teamData']['teamColor']+';\x20margin:\x200\x200\x200.5rem\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x19ccdc[_0x32fba4(0x1a7)]['proposedTeamName']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22color:\x20#888;\x20font-size:\x200.9em;\x20margin:\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Duos\x20Ladder\x20Team\x20â€¢\x20Color:\x20'+_0x19ccdc['teamData']['teamColor']+_0x32fba4(0x195):_0x157336='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+_0x19ccdc['message']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-card\x20'+_0x19ccdc['status']+'\x20'+(_0x2be9b9?'sent-invitation':'')+_0x32fba4(0x1d4)+_0x19ccdc['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-from\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2be9b9?'To:\x20'+_0x19ccdc[_0x32fba4(0x19c)]:_0x19ccdc['fromUsername'])+_0x32fba4(0x1ac)+(_0x2be9b9?'<span\x20class=\x22sent-indicator\x22><i\x20class=\x22fas\x20fa-paper-plane\x22></i>\x20Sent</span>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-time\x22>'+_0x37d839+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22status-badge\x20status-'+_0x19ccdc['status']+'\x22>'+_0x19ccdc[_0x32fba4(0x1c0)]+_0x32fba4(0x1d6)+_0x157336+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x2be9b9&&_0x19ccdc['status']===_0x32fba4(0x1cb)?_0x32fba4(0x1af)+_0x19ccdc['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20Accept\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20decline-btn\x22\x20data-action=\x22decline\x22\x20data-invitation-id=\x22'+_0x19ccdc['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20Decline\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x19ccdc['type']!=='team_invite'?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20respond-btn\x22\x20data-action=\x22respond\x22\x20data-invitation-id=\x22'+_0x19ccdc['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-reply\x22></i>\x20Send\x20Message\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+_0x32fba4(0x197)+(_0x2be9b9&&_0x19ccdc['status']===_0x32fba4(0x1cb)?_0x32fba4(0x196)+_0x19ccdc['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20Cancel\x20Invitation\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}[a22_0xec79e6(0x1d9)](){const _0x527469=a22_0xec79e6;document[_0x527469(0x1c7)]('.action-btn')['forEach'](_0x2b1034=>{const _0x5565c8=_0x527469;_0x2b1034[_0x5565c8(0x1d5)](_0x5565c8(0x19f),async _0x1ea250=>{const _0x16cc53=_0x5565c8,_0x37e223=_0x2b1034['dataset'][_0x16cc53(0x1ce)],_0x278291=_0x2b1034['dataset']['invitationId'];_0x2b1034['disabled']=!![];const _0x5b4887=_0x2b1034['innerHTML'];_0x2b1034['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>';try{switch(_0x37e223){case'accept':await this['updateInvitationStatus'](_0x278291,_0x16cc53(0x1b1));break;case _0x16cc53(0x1ab):await this[_0x16cc53(0x1c6)](_0x278291,'declined');break;case'cancel':await this[_0x16cc53(0x1c6)](_0x278291,'cancelled');break;case'respond':this[_0x16cc53(0x1d2)](_0x278291);break;}}catch(_0x12e7e4){console[_0x16cc53(0x199)](_0x16cc53(0x1ae)+_0x37e223+':',_0x12e7e4),alert('Failed\x20to\x20'+_0x37e223+'\x20invitation.\x20Please\x20try\x20again.');}finally{_0x2b1034['disabled']=![],_0x2b1034['innerHTML']=_0x5b4887;}});});}async[a22_0xec79e6(0x1c6)](_0x1761a9,_0x4bdb42){const _0x3b2479=a22_0xec79e6;try{const _0x8d28bb=this['invitations']['find'](_0x53de70=>_0x53de70['id']===_0x1761a9);_0x8d28bb&&_0x8d28bb[_0x3b2479(0x1cc)]==='team_invite'&&_0x4bdb42===_0x3b2479(0x1b1)&&await this['createTeamFromInvitation'](_0x8d28bb);const _0x5267e3=doc(db,'gameInvitations',_0x1761a9);await updateDoc(_0x5267e3,{'status':_0x4bdb42,'respondedAt':new Date()}),_0x8d28bb&&(_0x8d28bb['status']=_0x4bdb42,_0x8d28bb['respondedAt']=new Date(),this['renderInvitations']());}catch(_0xcf3726){console[_0x3b2479(0x199)]('Error\x20updating\x20invitation\x20status:',_0xcf3726);throw _0xcf3726;}}['openResponseModal'](_0x442fc0){const _0x3d6d68=a22_0xec79e6,_0x2d742d=this['invitations'][_0x3d6d68(0x1c5)](_0x591b3d=>_0x591b3d['id']===_0x442fc0);if(!_0x2d742d)return;const _0x1cefb5=document[_0x3d6d68(0x1b6)]('div');_0x1cefb5[_0x3d6d68(0x1a2)]='modal-overlay',_0x1cefb5['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Send\x20Message\x20to\x20'+_0x2d742d[_0x3d6d68(0x1d3)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22modal-close\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-body\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Regarding\x20invitation\x20to:\x20<strong>'+_0x2d742d['value']+'</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22response-message\x22\x20placeholder=\x22Type\x20your\x20message\x20here...\x22\x20rows=\x224\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20respond-btn\x22\x20id=\x22send-response\x22>Send\x20Message</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x22\x20id=\x22cancel-response\x22>Cancel</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';if(!document[_0x3d6d68(0x1db)]('modal-styles')){const _0x3a7cdc=document['createElement']('style');_0x3a7cdc['id']=_0x3d6d68(0x1ad),_0x3a7cdc[_0x3d6d68(0x198)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-overlay\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20right:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.8);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-content\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#2a2a2a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2090%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20500px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-height:\x2090vh;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20overflow-y:\x20auto;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-header\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20space-between;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-close\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x201.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-body\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-body\x20textarea\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#1a1a1a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resize:\x20vertical;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-footer\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-top:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document['head']['appendChild'](_0x3a7cdc);}document[_0x3d6d68(0x1bb)]['appendChild'](_0x1cefb5),_0x1cefb5['querySelector'](_0x3d6d68(0x1a3))[_0x3d6d68(0x1d5)]('click',()=>_0x1cefb5[_0x3d6d68(0x19a)]()),_0x1cefb5[_0x3d6d68(0x1c8)]('#cancel-response')[_0x3d6d68(0x1d5)]('click',()=>_0x1cefb5[_0x3d6d68(0x19a)]()),_0x1cefb5['addEventListener'](_0x3d6d68(0x19f),_0x1e6eb3=>{const _0x41a63e=_0x3d6d68;if(_0x1e6eb3[_0x41a63e(0x1cf)]===_0x1cefb5)_0x1cefb5['remove']();}),_0x1cefb5['querySelector']('#send-response')['addEventListener']('click',()=>{const _0x5d1f79=_0x3d6d68,_0x547331=document[_0x5d1f79(0x1db)]('response-message')['value']['trim']();_0x547331&&(alert(_0x5d1f79(0x1be)),_0x1cefb5['remove']());});}async[a22_0xec79e6(0x19b)](_0xcbf671){const _0x41dd2e=a22_0xec79e6;try{const {createTeam:_0x2d0e67}=await import(_0x41dd2e(0x1ba)),_0x5c987a=await _0x2d0e67(_0xcbf671['fromUsername'],_0xcbf671['toUsername'],_0xcbf671[_0x41dd2e(0x1a7)]['proposedTeamName'],_0xcbf671['teamData']['teamColor']);if(!_0x5c987a[_0x41dd2e(0x1dd)])throw new Error(_0x5c987a['error']);alert('Team\x20\x22'+_0xcbf671['teamData']['proposedTeamName']+'\x22\x20created\x20successfully!');}catch(_0x590d32){console['error']('Error\x20creating\x20team:',_0x590d32);throw new Error('Failed\x20to\x20create\x20team:\x20'+_0x590d32['message']);}}['updateNotificationCount'](){const _0x1efef7=a22_0xec79e6,_0x3f1155=this[_0x1efef7(0x1a1)][_0x1efef7(0x1c2)](_0x3b590c=>_0x3b590c['status']===_0x1efef7(0x1cb))['length'],_0x237359=document[_0x1efef7(0x1db)]('inbox-notification');_0x237359&&(_0x3f1155>0x0?(_0x237359['style']['display']='inline-block',_0x237359['textContent']=_0x3f1155>0x9?'9+':_0x3f1155):_0x237359['style']['display']='none');}['getTimeAgo'](_0x15d18a){const _0x5765ab=a22_0xec79e6,_0x37f17f=new Date(),_0x737540=_0x37f17f-_0x15d18a,_0x552b99=Math['floor'](_0x737540/(0x3e8*0x3c)),_0x5b9762=Math['floor'](_0x737540/(0x3e8*0x3c*0x3c)),_0xc737bf=Math[_0x5765ab(0x1bd)](_0x737540/(0x3e8*0x3c*0x3c*0x18));if(_0x552b99<0x1)return _0x5765ab(0x1c3);if(_0x552b99<0x3c)return _0x552b99+'m\x20ago';if(_0x5b9762<0x18)return _0x5b9762+_0x5765ab(0x1a8);if(_0xc737bf<0x7)return _0xc737bf+'d\x20ago';return _0x15d18a['toLocaleDateString']();}['destroy'](){const _0x53d57f=a22_0xec79e6;this['unsubscribe']&&this[_0x53d57f(0x1a9)](),this[_0x53d57f(0x1b8)]&&this['sentUnsubscribe']();}}document[a22_0xec79e6(0x1d5)]('DOMContentLoaded',()=>{new InboxManager();});