const a40_0x3b7212=(function(){let _0x7a3e1e=!![];return function(_0xfdb2a4,_0x5a5895){const _0x21b23f=_0x7a3e1e?function(){if(_0x5a5895){const _0x3f6638=_0x5a5895['apply'](_0xfdb2a4,arguments);return _0x5a5895=null,_0x3f6638;}}:function(){};return _0x7a3e1e=![],_0x21b23f;};}()),a40_0x8f1d5f=a40_0x3b7212(this,function(){const _0x131620=a40_0x3e0b;let _0x35a807;try{const _0x182266=Function('return\x20(function()\x20'+_0x131620(0x98)+');');_0x35a807=_0x182266();}catch(_0x4d2484){_0x35a807=window;}const _0x305e96=_0x35a807['console']=_0x35a807[_0x131620(0x8d)]||{},_0x4db6d8=['log','warn','info','error','exception','table',_0x131620(0x8e)];for(let _0xbf9b99=0x0;_0xbf9b99<_0x4db6d8['length'];_0xbf9b99++){const _0x5d40e7=a40_0x3b7212[_0x131620(0x94)]['prototype'][_0x131620(0x89)](a40_0x3b7212),_0x117ee8=_0x4db6d8[_0xbf9b99],_0x4c7bdc=_0x305e96[_0x117ee8]||_0x5d40e7;_0x5d40e7['__proto__']=a40_0x3b7212['bind'](a40_0x3b7212),_0x5d40e7['toString']=_0x4c7bdc['toString']['bind'](_0x4c7bdc),_0x305e96[_0x117ee8]=_0x5d40e7;}});a40_0x8f1d5f();import{getEloHistory,resetPagination}from'./elo-history.js';let currentPage=0x1,allMatches=[];function a40_0x7f99(){const _0x3deb87=['target','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','slice','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-search\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22pageInput\x22\x20min=\x221\x22\x20max=\x22','nextPage','pagination-wrapper','disabled','click','previousElo','length','ceil','change','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goToPage\x22>Go</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22nextPage\x22\x20','querySelector','insertBefore','#elo-history\x20tbody','N/A','player','bind','pageInput','<tr><td\x20colspan=\x226\x22>Error\x20loading\x20ELO\x20history</td></tr>','addEventListener','console','trace','innerHTML','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','timestamp','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','getElementById','constructor','join','toDate','opponent','{}.constructor(\x22return\x20this\x22)(\x20)'];a40_0x7f99=function(){return _0x3deb87;};return a40_0x7f99();}const matchesPerPage=0xa;async function displayEloHistory(){const _0x37ed7c=a40_0x3e0b,_0x3c31da=document[_0x37ed7c(0x84)](_0x37ed7c(0x86)),_0x39898c=document['getElementById']('pagination');try{const {entries:_0x8b9f08,hasMore:_0x4cafb4}=await getEloHistory();if(_0x8b9f08[_0x37ed7c(0x80)]===0x0){_0x3c31da['innerHTML']='<tr><td\x20colspan=\x226\x22>No\x20ELO\x20history\x20available</td></tr>';return;}allMatches=_0x8b9f08,_0x3c31da['innerHTML']=_0x8b9f08['map'](_0x30abbb=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x30abbb['timestamp']?new Date(_0x30abbb['timestamp'][_0x37ed7c(0x96)]())['toLocaleString']():_0x37ed7c(0x87))+_0x37ed7c(0x90)+_0x30abbb[_0x37ed7c(0x88)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x30abbb[_0x37ed7c(0x7f)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x30abbb['newElo']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x30abbb['change']>0x0?'+'+_0x30abbb['change']:_0x30abbb['change'])+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x30abbb['opponent']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x30abbb['matchResult']+_0x37ed7c(0x92))['join'](''),createPaginationControls();}catch(_0x365811){console['error']('Error\x20displaying\x20ELO\x20history:',_0x365811),_0x3c31da[_0x37ed7c(0x8f)]=_0x37ed7c(0x8b);}}function createPaginationControls(){const _0x30f012=a40_0x3e0b,_0x304c05=Math[_0x30f012(0x81)](allMatches['length']/matchesPerPage),_0x37f928=document['createElement']('div');_0x37f928['className']=_0x30f012(0x7c),_0x37f928[_0x30f012(0x8f)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pagination-controls\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22prevPage\x22\x20'+(currentPage===0x1?'disabled':'')+'>Previous</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-navigation\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>Page\x20'+currentPage+'\x20of\x20'+_0x304c05+_0x30f012(0x7a)+_0x304c05+'\x22\x20value=\x22'+currentPage+_0x30f012(0x83)+(currentPage===_0x304c05?_0x30f012(0x7d):'')+'>Next</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x40056b=document[_0x30f012(0x84)]('#elo-history');_0x40056b['parentNode'][_0x30f012(0x85)](_0x37f928,_0x40056b['nextSibling']),document['getElementById']('prevPage')['addEventListener'](_0x30f012(0x7e),()=>{if(currentPage>0x1)displayMatchesPage(currentPage-0x1);}),document['getElementById'](_0x30f012(0x7b))['addEventListener']('click',()=>{if(currentPage<_0x304c05)displayMatchesPage(currentPage+0x1);}),document[_0x30f012(0x93)]('goToPage')[_0x30f012(0x8c)]('click',()=>{const _0x4a5e04=document['getElementById']('pageInput'),_0x278762=parseInt(_0x4a5e04['value']);_0x278762>=0x1&&_0x278762<=_0x304c05&&displayMatchesPage(_0x278762);}),document[_0x30f012(0x93)](_0x30f012(0x8a))['addEventListener']('keypress',_0x2d1ffe=>{const _0x2c4857=_0x30f012;if(_0x2d1ffe['key']==='Enter'){const _0x5ddf8e=parseInt(_0x2d1ffe[_0x2c4857(0x77)]['value']);_0x5ddf8e>=0x1&&_0x5ddf8e<=_0x304c05&&displayMatchesPage(_0x5ddf8e);}});}async function displayMatchesPage(_0x5c65f7){const _0x53da67=a40_0x3e0b;currentPage=_0x5c65f7;const _0x295f5f=(currentPage-0x1)*matchesPerPage,_0x7632d=_0x295f5f+matchesPerPage,_0x49335b=allMatches[_0x53da67(0x79)](_0x295f5f,_0x7632d),_0x50e483=document['querySelector'](_0x53da67(0x86));_0x50e483['innerHTML']=_0x49335b['map'](_0x35aacd=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x35aacd[_0x53da67(0x91)]?new Date(_0x35aacd['timestamp'][_0x53da67(0x96)]())['toLocaleString']():'N/A')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x35aacd['player']+_0x53da67(0x78)+_0x35aacd['previousElo']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x35aacd['newElo']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x35aacd['change']>0x0?'+'+_0x35aacd[_0x53da67(0x82)]:_0x35aacd['change'])+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x35aacd[_0x53da67(0x97)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x35aacd['matchResult']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20')[_0x53da67(0x95)](''),createPaginationControls();}function a40_0x3e0b(_0x4927c2,_0x314a46){const _0x8f1d5f=a40_0x7f99();return a40_0x3e0b=function(_0x3b7212,_0x17fbce){_0x3b7212=_0x3b7212-0x77;let _0x7f992e=_0x8f1d5f[_0x3b7212];return _0x7f992e;},a40_0x3e0b(_0x4927c2,_0x314a46);}document['addEventListener']('DOMContentLoaded',displayEloHistory);