const a48_0x15ffe1=a48_0x4570,a48_0x5a77ae=(function(){let _0x27e17d=!![];return function(_0x437290,_0x462d6d){const _0x3d7cab=_0x27e17d?function(){if(_0x462d6d){const _0x35ca7b=_0x462d6d['apply'](_0x437290,arguments);return _0x462d6d=null,_0x35ca7b;}}:function(){};return _0x27e17d=![],_0x3d7cab;};}()),a48_0x34c6d1=a48_0x5a77ae(this,function(){const _0x14a6d3=a48_0x4570,_0x3d0674=function(){let _0xf4883b;try{_0xf4883b=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x2b10e9){_0xf4883b=window;}return _0xf4883b;},_0x54962c=_0x3d0674(),_0x36bcef=_0x54962c['console']=_0x54962c[_0x14a6d3(0x1dd)]||{},_0x3536b6=[_0x14a6d3(0x169),_0x14a6d3(0x1a3),'info','error','exception','table','trace'];for(let _0x2b6800=0x0;_0x2b6800<_0x3536b6[_0x14a6d3(0x1be)];_0x2b6800++){const _0x3ed23=a48_0x5a77ae['constructor']['prototype'][_0x14a6d3(0x1ba)](a48_0x5a77ae),_0x526182=_0x3536b6[_0x2b6800],_0x30ba89=_0x36bcef[_0x526182]||_0x3ed23;_0x3ed23['__proto__']=a48_0x5a77ae[_0x14a6d3(0x1ba)](a48_0x5a77ae),_0x3ed23[_0x14a6d3(0x191)]=_0x30ba89['toString'][_0x14a6d3(0x1ba)](_0x30ba89),_0x36bcef[_0x526182]=_0x3ed23;}});a48_0x34c6d1();import{auth,db}from'./firebase-config.js';import{doc,getDoc,setDoc,collection,query,where,getDocs,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const RIBBON_DEFINITIONS={'Rematch\x20Ribbon':{'description':'Beat\x20a\x20pilot\x20with\x20the\x20\x22Rematch\x22\x20subgame\x20selected','image':'../images/ribbons/Rematch.png','color':a48_0x15ffe1(0x163)},'Overachiever\x20Ribbon':{'description':'Played\x20over\x20100\x20matches','image':a48_0x15ffe1(0x1bb),'color':'#96CEB4','levels':[0x64,0xc8,0x12c,0x190,0x1f4,0x258,0x2bc,0x320,0x384,0x3e8]},'Brick\x20Wall':{'description':'Amass\x20at\x20least\x2080%\x20overall\x20win\x20rate\x20percentage\x20(minimum\x2050\x20matches)','image':'../images/ribbons/BrickWall.png','color':'#F0932B','levels':[0x50,0x55,0x5a,0x5f,0x64]},'Collector\x20Ribbon':{'description':'Hold\x20more\x20than\x205\x20ribbons\x20at\x20a\x20time','image':'../images/ribbons/Collector.png','color':a48_0x15ffe1(0x1a4),'levels':[0x5,0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32]},'Sub-Gamer\x20Ribbon':{'description':'Play\x20over\x2050\x20subgame\x20matches','image':'../images/ribbons/Subgamer.png','color':a48_0x15ffe1(0x1c5),'levels':[0x32,0x64,0x96,0xc8,0xfa,0x12c,0x15e,0x190,0x1c2,0x1f4]},'Explorer\x20Ribbon':{'description':a48_0x15ffe1(0x177),'image':'../images/ribbons/Explorer.png','color':'#55A3FF','levels':[0x14,0x28,0x3c,0x50,0x64,0x78,0x8c,0xa0,0xb4,0xc8]},'Socialite\x20Ribbon':{'description':a48_0x15ffe1(0x1ae),'image':a48_0x15ffe1(0x1e0),'color':'#FF7675','levels':[0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32,0x37]},'Underdog\x20Ribbon':{'description':'Beat\x20a\x20pilot\x20ranked\x20higher\x20than\x20you','image':a48_0x15ffe1(0x16d),'color':'#FF9500','levels':[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0x9,0xa]},'Domination\x20Ribbon':{'description':a48_0x15ffe1(0x1d9),'image':'../images/ribbons/Domination.png','color':a48_0x15ffe1(0x16c),'levels':[0x1,0x2,0x3,0x4,0x5]},'Top\x20Bronze\x20Pilot':{'description':a48_0x15ffe1(0x193),'image':'../images/ribbons/toprank.png','color':'#CD7F32'},'Top\x20Silver\x20Pilot':{'description':a48_0x15ffe1(0x182),'image':a48_0x15ffe1(0x1a8),'color':a48_0x15ffe1(0x1a0)},'Top\x20Gold\x20Pilot':{'description':a48_0x15ffe1(0x1c8),'image':'../images/ribbons/toprank.png','color':a48_0x15ffe1(0x171)},'Top\x20Emerald\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Emerald\x20rank','image':'../images/ribbons/toprank.png','color':'#50C878'}};function a48_0x51a3(){const _0x2d13f5=['add','üìä\x20','levels','#FF6B6B','evaluateUnderdogRibbonFromCount','setCachedMatches','getCacheKey','clearOldCache','getPlayerDataCached','log','eloRating','lastCleanup','#8E44AD','../images/ribbons/Underdog.png','evaluateTopRankRibbon','\x20Badge','Sub-Gamer\x20Ribbon','#FFD700','mapPlayed','totalMatches','üëë\x20NEW\x20Top\x20Rank\x20Achievement:\x20','evaluateSocialiteRibbonFromCount','join','Played\x20at\x20least\x2020\x20unique\x20maps','delete','\x20Tier:\x20','Rematch','evaluateAllRibbonsForPlayerOptimized','toLocaleTimeString','findIndex','image','playerRibbons','cleanup','getCachedMatches','Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Silver\x20rank','docs','forEach','\x20ELO\x20(','undefined','username','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','now','playersD3','Rematch\x20Ribbon','isUnderdogVictoryFast','Error\x20checking\x20top\x20rank\x20status:','\x20underdog\x20wins)','dominatedRanks','\x20ELO),\x20','toString','üíæ\x20Cache\x20hit\x20(localStorage)\x20for\x20','Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Bronze\x20rank',':\x20ELO\x20','Unranked','‚ö†Ô∏è\x20No\x20current\x20player\x20data\x20found\x20for\x20','üéØ\x20Found\x20','ribbons','rating','floor','CACHE_DURATION','üéØ\x20UNDERDOG:\x20','winnerUsername','evaluateExplorerRibbonFromCount','\x20‚Üí\x20','#C0C0C0','wins','\x20underdog\x20victories\x20for\x20','warn','#6C5CE7','Brick\x20Wall','uniqueOpponents','evaluateBrickWallRibbonFromWinRate','../images/ribbons/toprank.png','‚ö†Ô∏è\x20Brick\x20Wall\x20ribbon\x20requires\x2050+\x20matches\x20(player\x20has\x20','keys','matchCache','‚ùå\x20Error\x20fetching\x20matches:','evaluateSubGamerRibbonFromCount','Played\x20at\x20least\x2010\x20unique\x20pilots','level-5-plus','savePlayerRibbonsOptimized','evaluateRematchRibbonFromCount','size','üöÄ\x20Bulk\x20loading\x20','\x20in\x20','loserUsername','</div>','Bronze','\x20already\x20has\x20','\x0a/*\x20Stats\x20integration\x20styles\x20*/\x0a.ribbon-section\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-top:\x201rem;\x0a}\x0a\x0a.ribbon-stat-item.full-width\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-bottom:\x200;\x0a}\x0a\x0a/*\x20Military\x20Ribbon\x20Rack\x20Styling\x20-\x20NO\x20OUTER\x20CONTAINER\x20*/\x0a.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20padding:\x200;\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20box-shadow:\x20none;\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20align-items:\x20flex-start;\x0a}\x0a\x0a.ribbon-rack-empty-inline\x20{\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20padding:\x2060px\x2040px;\x0a\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20border-radius:\x2012px;\x0a\x20\x20\x20\x20border:\x202px\x20solid\x20rgba(255,\x20255,\x20255,\x200.1);\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a}\x0a\x0a.empty-rack-text\x20{\x0a\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20font-style:\x20italic;\x0a\x20\x20\x20\x20font-size:\x201.2rem;\x0a}\x0a\x0a/*\x20Ribbon\x20Rows\x20*/\x0a.ribbon-row\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x206px;\x0a\x20\x20\x20\x20margin-bottom:\x206px;\x0a\x20\x20\x20\x20justify-content:\x20flex-start;\x0a}\x0a\x0a.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20margin-left:\x2060px;\x0a}\x0a\x0a/*\x20Individual\x20Military\x20Ribbon\x20Styling\x20-\x20FIXED\x20OVERFLOW\x20FOR\x20LEVEL\x20INDICATOR\x20*/\x0a.military-ribbon\x20{\x0a\x20\x20\x20\x20position:\x20relative;\x0a\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20transition:\x20transform\x200.3s\x20ease;\x0a\x20\x20\x20\x20flex-shrink:\x200;\x0a\x20\x20\x20\x20width:\x20190px;\x0a\x20\x20\x20\x20height:\x2060px;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#333;\x0a\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20overflow:\x20visible;\x20/*\x20Changed\x20from\x20hidden\x20to\x20visible\x20*/\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20margin:\x2012px\x2012px\x2012px\x200;\x20/*\x20Added\x20margin\x20to\x20prevent\x20clipping\x20*/\x0a}\x0a\x0a.military-ribbon:hover\x20{\x0a\x20\x20\x20\x20transform:\x20translateY(-4px);\x0a\x20\x20\x20\x20z-index:\x2010;\x0a}\x0a\x0a/*\x20Ribbon\x20image\x20container\x20to\x20handle\x20the\x20actual\x20overflow\x20*/\x0a.ribbon-image-container\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20border-radius:\x201px;\x0a}\x0a\x0a.ribbon-image\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20object-fit:\x20cover;\x0a\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20image-rendering:\x20crisp-edges;\x0a}\x0a\x0a.ribbon-fallback\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20text-shadow:\x200\x202px\x204px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a}\x0a\x0a.ribbon-name\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.9);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201.2;\x0a\x20\x20\x20\x20margin-top:\x206px;\x0a\x20\x20\x20\x20max-width:\x20120px;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20text-overflow:\x20ellipsis;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20-24px;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20font-weight:\x20500;\x0a}\x0a\x0a.military-ribbon:hover\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20display:\x20block;\x0a}\x0a\x0a.ribbon-devices\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x2050%;\x0a\x20\x20\x20\x20right:\x206px;\x0a\x20\x20\x20\x20transform:\x20translateY(-50%);\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x203px;\x0a\x20\x20\x20\x20z-index:\x205;\x0a}\x0a\x0a.ribbon-device\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20text-shadow:\x200\x200\x204px\x20rgba(0,0,0,0.9);\x0a\x20\x20\x20\x20filter:\x20drop-shadow(0\x202px\x204px\x20rgba(0,0,0,0.8));\x0a}\x0a\x0a.bronze-star\x20{\x0a\x20\x20\x20\x20color:\x20#CD7F32;\x0a}\x0a\x0a.silver-star\x20{\x0a\x20\x20\x20\x20color:\x20#C0C0C0;\x0a}\x0a\x0a.gold-star\x20{\x0a\x20\x20\x20\x20color:\x20#FFD700;\x0a}\x0a\x0a/*\x20Level\x20indicator\x20-\x20NOW\x20FULLY\x20VISIBLE\x20*/\x0a.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x20-8px;\x0a\x20\x20\x20\x20right:\x20-8px;\x0a\x20\x20\x20\x20background:\x20#FFD700;\x0a\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20width:\x2024px;\x0a\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#FFF;\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x208px\x20rgba(0,0,0,0.7);\x0a\x20\x20\x20\x20z-index:\x206;\x0a}\x0a\x0a/*\x20Custom\x20tooltip\x20-\x20only\x20this\x20one\x20will\x20show\x20*/\x0a.military-ribbon::before\x20{\x0a\x20\x20\x20\x20content:\x20attr(data-tooltip);\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20100%;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20background:\x20rgba(0,0,0,0.95);\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20padding:\x208px\x2012px;\x0a\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20pointer-events:\x20none;\x0a\x20\x20\x20\x20transition:\x20opacity\x200.3s;\x0a\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20margin-bottom:\x208px;\x0a\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(255,\x20255,\x20255,\x200.2);\x0a}\x0a\x0a.military-ribbon:hover::before\x20{\x0a\x20\x20\x20\x20opacity:\x201;\x0a}\x0a\x0a/*\x20Responsive\x20adjustments\x20*/\x0a@media\x20(max-width:\x201024px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2034px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x208px\x208px\x208px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-6px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-6px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2052px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-20px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20768px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2028px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x206px\x206px\x206px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x209px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-5px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-5px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2042px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2011px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-18px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x205px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20480px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2070px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x205px\x205px\x205px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2036px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x204px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-4px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-4px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a.stats-grid\x20.ribbon-section\x20{\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20padding:\x200;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20{\x0a\x20\x20\x20\x20background-color:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20padding:\x2025px;\x0a\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20.stat-label\x20{\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20text-transform:\x20uppercase;\x0a\x20\x20\x20\x20opacity:\x200.9;\x0a\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.95);\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a}\x0a\x0a.ribbon-level-indicator.level-1\x20{\x20background:\x20#808080;\x20}\x0a.ribbon-level-indicator.level-2\x20{\x20background:\x20#CD7F32;\x20}\x0a.ribbon-level-indicator.level-3\x20{\x20background:\x20#b9f1fc;\x20}\x0a.ribbon-level-indicator.level-4\x20{\x20background:\x20#FFD700;\x20}\x0a.ribbon-level-indicator.level-5-plus\x20{\x20background:\x20#50C878;\x20}\x0a','bind','../images/ribbons/Overachiever.png','\x20ELO)','key','length','uniqueMaps','memoryCache','error','Underdog\x20Ribbon','data','subgameType','#A29BFE','\x20is\x20Unranked\x20(','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22','Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Gold\x20rank','loserRating','Explorer\x20Ribbon','Standard','setCachedData','level','autoCleanup','evaluateCollectorRibbonFromCount','üéØ\x20UNDERDOG\x20VICTORY:\x20','min','CACHE_KEY_PREFIX','‚úÖ\x20Preserving\x20existing\x20',')\x20vs\x20Loser(','removeItem','evaluateOverachieverRibbonFromCount','get','push','Beat\x205\x20unique\x20pilots\x20in\x20a\x20rank\x20(including\x20your\x20own)','all','from','timestamp','console','parse','üëë\x20Domination\x20Ribbon\x20awarded:\x20Level\x20','../images/ribbons/Socialite.png','rematchWins','\x20player\x20records\x20for\x20underdog\x20calculations...'];a48_0x51a3=function(){return _0x2d13f5;};return a48_0x51a3();}export const RIBBON_CSS=a48_0x15ffe1(0x1b9);function a48_0x4570(_0x305cb7,_0x28a445){const _0x34c6d1=a48_0x51a3();return a48_0x4570=function(_0x5a77ae,_0x4ebda5){_0x5a77ae=_0x5a77ae-0x160;let _0x51a3aa=_0x34c6d1[_0x5a77ae];return _0x51a3aa;},a48_0x4570(_0x305cb7,_0x28a445);}class RibbonCacheManager{constructor(){const _0x14de01=a48_0x15ffe1;this['memoryCache']=new Map(),this['CACHE_DURATION']=0x3c*0x3c*0x3e8,this['CACHE_KEY_PREFIX']='ribbon_cache_',this['lastCleanup']=Date[_0x14de01(0x189)](),this['CLEANUP_INTERVAL']=0x1e*0x3c*0x3e8;}[a48_0x15ffe1(0x166)](_0xc16ff9,_0x4085b8){return''+this['CACHE_KEY_PREFIX']+_0xc16ff9+'_'+_0x4085b8;}['getCachedData'](_0x19a2e5,_0x28ce50){const _0x2715bb=a48_0x15ffe1;this['autoCleanup']();const _0x4451c1=this[_0x2715bb(0x166)](_0x19a2e5,_0x28ce50);if(this['memoryCache']['has'](_0x4451c1)){const _0x4cba84=this[_0x2715bb(0x1c0)][_0x2715bb(0x1d7)](_0x4451c1);if(Date['now']()-_0x4cba84['timestamp']<this['CACHE_DURATION'])return console[_0x2715bb(0x169)]('üöÄ\x20Cache\x20hit\x20(memory)\x20for\x20'+_0x19a2e5),_0x4cba84['data'];this[_0x2715bb(0x1c0)]['delete'](_0x4451c1);}const _0x16afd8=localStorage['getItem'](_0x4451c1);if(_0x16afd8)try{const _0x46c9ef=JSON[_0x2715bb(0x1de)](_0x16afd8);if(Date[_0x2715bb(0x189)]()-_0x46c9ef['timestamp']<this['CACHE_DURATION'])return this[_0x2715bb(0x1c0)]['set'](_0x4451c1,{'data':_0x46c9ef[_0x2715bb(0x198)],'timestamp':_0x46c9ef[_0x2715bb(0x1dc)],'matchCount':_0x46c9ef['matchCount']}),console[_0x2715bb(0x169)](_0x2715bb(0x192)+_0x19a2e5),_0x46c9ef['ribbons'];localStorage[_0x2715bb(0x1d5)](_0x4451c1);}catch(_0x47d403){localStorage[_0x2715bb(0x1d5)](_0x4451c1);}return null;}['setCachedData'](_0x42688d,_0x8618a,_0x3e8dfa,_0x595ed3){const _0x1c19e2=a48_0x15ffe1,_0x2f5c17=this['getCacheKey'](_0x42688d,_0x8618a),_0x49fd60=Date['now']();this[_0x1c19e2(0x1c0)]['set'](_0x2f5c17,{'data':_0x3e8dfa,'timestamp':_0x49fd60,'matchCount':_0x595ed3});try{const _0x17ada1={'ribbons':_0x3e8dfa,'matchCount':_0x595ed3,'timestamp':_0x49fd60,'version':0x3};localStorage['setItem'](_0x2f5c17,JSON['stringify'](_0x17ada1));}catch(_0x39c696){this[_0x1c19e2(0x167)]();try{localStorage['setItem'](_0x2f5c17,JSON['stringify'](data));}catch(_0xa39640){}}}['shouldRefreshCache'](_0x4340d0,_0x4b12b5,_0x47892b){const _0x5980e4=a48_0x15ffe1,_0x3e3d1e=this['getCacheKey'](_0x4340d0,_0x4b12b5);if(this[_0x5980e4(0x1c0)]['has'](_0x3e3d1e)){const _0xa81a97=this[_0x5980e4(0x1c0)]['get'](_0x3e3d1e);return _0xa81a97['matchCount']!==_0x47892b;}const _0x1359c7=localStorage['getItem'](_0x3e3d1e);if(_0x1359c7)try{const _0x2f1456=JSON['parse'](_0x1359c7);return _0x2f1456['matchCount']!==_0x47892b;}catch(_0x43215a){return!![];}return!![];}['invalidatePlayerCache'](_0x4078e3,_0x5af2ad){const _0x5cc820=a48_0x15ffe1,_0x24dbc5=this['getCacheKey'](_0x4078e3,_0x5af2ad);this['memoryCache']['delete'](_0x24dbc5),localStorage['removeItem'](_0x24dbc5),console[_0x5cc820(0x169)]('üóëÔ∏è\x20Invalidated\x20cache\x20for\x20'+_0x4078e3+'\x20('+_0x5af2ad+')\x20-\x20new\x20match\x20detected');}['autoCleanup'](){const _0x21d044=a48_0x15ffe1,_0x1a4a54=Date['now']();_0x1a4a54-this[_0x21d044(0x16b)]>this['CLEANUP_INTERVAL']&&(this[_0x21d044(0x180)](),this['lastCleanup']=_0x1a4a54);}['cleanup'](){const _0x74d4fb=a48_0x15ffe1,_0x828dc9=Date['now']();let _0x2385d4=0x0,_0x1e03b3=0x0;for(const [_0x175ee7,_0x43436a]of this['memoryCache']['entries']()){_0x828dc9-_0x43436a['timestamp']>this[_0x74d4fb(0x19b)]&&(this['memoryCache'][_0x74d4fb(0x178)](_0x175ee7),_0x2385d4++);}for(let _0x51317a=localStorage['length']-0x1;_0x51317a>=0x0;_0x51317a--){const _0x46de3a=localStorage[_0x74d4fb(0x1bd)](_0x51317a);if(_0x46de3a&&_0x46de3a['startsWith'](this[_0x74d4fb(0x1d2)]))try{const _0x31d0a0=JSON['parse'](localStorage['getItem'](_0x46de3a));_0x828dc9-_0x31d0a0[_0x74d4fb(0x1dc)]>this['CACHE_DURATION']&&(localStorage[_0x74d4fb(0x1d5)](_0x46de3a),_0x1e03b3++);}catch(_0x30f50b){localStorage['removeItem'](_0x46de3a),_0x1e03b3++;}}}['clearOldCache'](){const _0x54e920=a48_0x15ffe1,_0x27cd06=[];for(let _0x4e6829=0x0;_0x4e6829<localStorage['length'];_0x4e6829++){const _0x9ac4f9=localStorage[_0x54e920(0x1bd)](_0x4e6829);if(_0x9ac4f9&&_0x9ac4f9['startsWith'](this['CACHE_KEY_PREFIX']))try{const _0x12c0ce=JSON['parse'](localStorage['getItem'](_0x9ac4f9));_0x27cd06[_0x54e920(0x1d8)]({'key':_0x9ac4f9,'timestamp':_0x12c0ce['timestamp']});}catch(_0x3a946e){localStorage['removeItem'](_0x9ac4f9);}}_0x27cd06['sort']((_0x5e19f4,_0xf33f46)=>_0x5e19f4[_0x54e920(0x1dc)]-_0xf33f46['timestamp']);const _0x31bf66=Math[_0x54e920(0x19a)](_0x27cd06['length']/0x2);for(let _0x656bd1=0x0;_0x656bd1<_0x31bf66;_0x656bd1++){localStorage[_0x54e920(0x1d5)](_0x27cd06[_0x656bd1][_0x54e920(0x1bd)]);}}['getCacheStats'](){const _0xc9347f=a48_0x15ffe1;return{'memoryEntries':this[_0xc9347f(0x1c0)]['size'],'lastCleanup':new Date(this['lastCleanup'])[_0xc9347f(0x17c)]()};}}class MatchCacheManager{constructor(){const _0x97b0e6=a48_0x15ffe1;this['matchCache']=new Map(),this['CACHE_DURATION']=0xf*0x3c*0x3e8,this[_0x97b0e6(0x16b)]=Date['now']();}['getCachedMatches'](_0x50750e,_0x5a2422){const _0x510e81=a48_0x15ffe1;this['autoCleanup']();const _0x420e6c=_0x50750e+'_'+_0x5a2422,_0x40b40d=this['matchCache']['get'](_0x420e6c);if(_0x40b40d&&Date['now']()-_0x40b40d['timestamp']<this['CACHE_DURATION'])return console[_0x510e81(0x169)]('üéØ\x20Cache\x20hit\x20(matches)\x20for\x20'+_0x50750e),_0x40b40d['matches'];return _0x40b40d&&this[_0x510e81(0x1ab)]['delete'](_0x420e6c),null;}[a48_0x15ffe1(0x165)](_0x5b8135,_0x4965fd,_0x4fe76d){const _0x87d295=_0x5b8135+'_'+_0x4965fd;this['matchCache']['set'](_0x87d295,{'matches':_0x4fe76d,'timestamp':Date['now']()});}[a48_0x15ffe1(0x1ce)](){const _0x58d3e5=a48_0x15ffe1,_0x132d9e=Date['now']();if(_0x132d9e-this['lastCleanup']>0x5*0x3c*0x3e8){let _0x1cb29c=0x0;for(const [_0x5e972d,_0x28d630]of this['matchCache']['entries']()){_0x132d9e-_0x28d630['timestamp']>this[_0x58d3e5(0x19b)]&&(this['matchCache']['delete'](_0x5e972d),_0x1cb29c++);}this[_0x58d3e5(0x16b)]=_0x132d9e;}}['getCacheStats'](){const _0xe1828f=a48_0x15ffe1;return{'entries':this[_0xe1828f(0x1ab)]['size'],'lastCleanup':new Date(this[_0xe1828f(0x16b)])['toLocaleTimeString']()};}}class RibbonSystem{constructor(){this['pendingEvaluations']=new Map(),this['batchTimer']=null,this['BATCH_DELAY']=0x32,this['playerDataCache']=new Map();}async['bulkLoadPlayerData'](_0x30feb7,_0x4ca9e0){const _0x536daf=a48_0x15ffe1,_0x1f191d=_0x4ca9e0==='D1'?'players':_0x4ca9e0==='D2'?'playersD2':_0x536daf(0x18a),_0x356efe=collection(db,_0x1f191d),_0x4c5a60=await getDocs(_0x356efe),_0x35b09b=new Map();return _0x4c5a60[_0x536daf(0x184)](_0x14f75e=>{const _0x24f364=_0x536daf,_0x15d0cd=_0x14f75e[_0x24f364(0x1c3)]();_0x15d0cd['username']&&(_0x15d0cd['eloRating']!==undefined&&(_0x15d0cd[_0x24f364(0x199)]=_0x15d0cd[_0x24f364(0x16a)]),_0x35b09b['set'](_0x15d0cd[_0x24f364(0x187)],_0x15d0cd));}),console['log']('üìä\x20Bulk\x20loaded\x20'+_0x35b09b[_0x536daf(0x1b2)]+'\x20players\x20from\x20'+_0x1f191d),_0x35b09b;}async['evaluateAllRibbonsFromData'](_0x20fcc4,_0xf648d9,_0x3e09e4,_0x4dbd73){const _0x1f0de2=a48_0x15ffe1,_0x150a6b={},_0x33fa29=_0xf648d9['username'],_0x2847d7={'totalMatches':_0x20fcc4['length'],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0,'dominatedRanks':new Set()},_0x3144db=new Set();_0x20fcc4[_0x1f0de2(0x184)](_0x1a9ced=>{const _0x2e38a1=_0x1f0de2,_0x949f0e=_0x1a9ced['winnerUsername']===_0x33fa29,_0xb691ae=_0x949f0e?_0x1a9ced['loserUsername']:_0x1a9ced[_0x2e38a1(0x19d)];if(_0xb691ae)_0x3144db['add'](_0xb691ae);}),console['log'](_0x1f0de2(0x1b3)+_0x3144db['size']+_0x1f0de2(0x1e2));const _0x5afe41=await this['bulkLoadPlayerData']([..._0x3144db,_0x33fa29],_0x4dbd73),_0x394c5b=_0x5afe41['get'](_0x33fa29);!_0x394c5b&&console[_0x1f0de2(0x169)]('‚ö†Ô∏è\x20No\x20current\x20player\x20data\x20found\x20for\x20'+_0x33fa29);const _0x4a37b4={0x0:new Set(),0x1:new Set(),0x2:new Set(),0x3:new Set(),0x4:new Set()};_0x20fcc4['forEach'](_0xe3b0dd=>{const _0x19ddce=_0x1f0de2,_0x2b8f01=_0xe3b0dd[_0x19ddce(0x19d)]===_0x33fa29,_0x1276aa=_0x2b8f01?_0xe3b0dd['loserUsername']:_0xe3b0dd[_0x19ddce(0x19d)];if(_0x2b8f01){_0x2847d7[_0x19ddce(0x1a1)]++;_0xe3b0dd['subgameType']==='Rematch'&&_0x2847d7['rematchWins']++;this[_0x19ddce(0x18c)](_0xe3b0dd,_0x33fa29,_0x394c5b,_0x5afe41)&&_0x2847d7['underdogWins']++;const _0x2e4fa6=_0x5afe41['get'](_0x1276aa);if(_0x2e4fa6){const _0x31f618=_0x2e4fa6['eloRating']||0x0,_0x1c19d5=getPlayerRankTier(_0x31f618);_0x4a37b4[_0x1c19d5]['add'](_0x1276aa);}}_0xe3b0dd['subgameType']&&_0xe3b0dd[_0x19ddce(0x1c4)]!=='Standard'&&_0x2847d7['subgameMatches']++,_0xe3b0dd['mapPlayed']&&_0x2847d7['uniqueMaps'][_0x19ddce(0x160)](_0xe3b0dd[_0x19ddce(0x172)]),_0x1276aa&&_0x2847d7[_0x19ddce(0x1a6)]['add'](_0x1276aa);}),Object[_0x1f0de2(0x1aa)](_0x4a37b4)[_0x1f0de2(0x184)](_0x47da24=>{const _0x22b58d=_0x1f0de2;_0x4a37b4[_0x47da24][_0x22b58d(0x1b2)]>=0x5&&_0x2847d7[_0x22b58d(0x18f)]['add'](parseInt(_0x47da24));}),console['log'](_0x1f0de2(0x197)+_0x2847d7['underdogWins']+'\x20underdog\x20victories\x20for\x20'+_0x33fa29),console['log']('üëë\x20Dominated\x20'+_0x2847d7['dominatedRanks']['size']+'\x20ranks:\x20['+Array[_0x1f0de2(0x1db)](_0x2847d7['dominatedRanks'])['map'](_0xdba4a4=>getRankTierName(_0xdba4a4))['join'](',\x20')+']');const _0x3f71bb=_0x2847d7['totalMatches']>0x0?_0x2847d7[_0x1f0de2(0x1a1)]/_0x2847d7['totalMatches']*0x64:0x0,_0x33e1a6=[['Overachiever\x20Ribbon',this['evaluateOverachieverRibbonFromCount'](_0x2847d7['totalMatches'],_0x3e09e4)],['Rematch\x20Ribbon',this['evaluateRematchRibbonFromCount'](_0x2847d7[_0x1f0de2(0x1e1)],_0x3e09e4)],[_0x1f0de2(0x170),this['evaluateSubGamerRibbonFromCount'](_0x2847d7['subgameMatches'],_0x3e09e4)],[_0x1f0de2(0x1ca),this[_0x1f0de2(0x19e)](_0x2847d7[_0x1f0de2(0x1bf)]['size'],_0x3e09e4)],['Socialite\x20Ribbon',this['evaluateSocialiteRibbonFromCount'](_0x2847d7[_0x1f0de2(0x1a6)]['size'],_0x3e09e4)],[_0x1f0de2(0x1a5),this[_0x1f0de2(0x1a7)](_0x3f71bb,_0x3e09e4,_0x2847d7[_0x1f0de2(0x173)])],[_0x1f0de2(0x1c2),this[_0x1f0de2(0x164)](_0x2847d7['underdogWins'],_0x3e09e4)],['Domination\x20Ribbon',this['evaluateDominationRibbonFromRanks'](_0x2847d7['dominatedRanks']['size'],_0x3e09e4)]];_0x33e1a6['forEach'](([_0x561d92,_0x2bcae7])=>{_0x2bcae7&&(_0x150a6b[_0x561d92]=_0x2bcae7);});const _0x5a22e9=Object['keys'](_0x3e09e4)['length']+Object['keys'](_0x150a6b)[_0x1f0de2(0x1be)],_0x26c9ea=this['evaluateCollectorRibbonFromCount'](_0x5a22e9,_0x3e09e4);return _0x26c9ea&&(_0x150a6b['Collector\x20Ribbon']=_0x26c9ea),_0x150a6b;}['evaluateDominationRibbonFromRanks'](_0x28b523,_0x16d0a0){const _0x369d3f=a48_0x15ffe1;if(_0x28b523===0x0)return null;const _0x209c3c=_0x16d0a0['Domination\x20Ribbon']||{'level':0x0};if(_0x28b523>_0x209c3c['level']){const _0x4aa1b4=[];for(let _0x586eb1=0x0;_0x586eb1<_0x28b523;_0x586eb1++){_0x4aa1b4['push'](getRankTierName(_0x586eb1));}return console['log'](_0x369d3f(0x1df)+_0x209c3c[_0x369d3f(0x1cd)]+_0x369d3f(0x19f)+_0x28b523+'\x20(Dominated:\x20'+_0x4aa1b4[_0x369d3f(0x176)](',\x20')+')'),{'level':_0x28b523,'awardedAt':new Date(),'dominatedRanks':_0x4aa1b4};}return null;}async['checkTopRankStatus'](_0x561357,_0x3f0ada){const _0x366316=a48_0x15ffe1;try{const _0x5c08c1=_0x3f0ada==='D1'?'players':_0x3f0ada==='D2'?'playersD2':'playersD3',_0x458006=await this[_0x366316(0x168)](_0x561357,_0x3f0ada);if(!_0x458006||_0x458006['eloRating']===undefined)return console['log']('‚ùå\x20No\x20ELO\x20rating\x20data\x20for\x20'+_0x561357),null;const _0x3f6e4c=_0x458006[_0x366316(0x16a)],_0x5ba5e7=getPlayerRankTier(_0x3f6e4c),_0x23d0e0=getRankTierName(_0x5ba5e7);if(_0x23d0e0===_0x366316(0x195))return console['log']('‚ùå\x20'+_0x561357+_0x366316(0x1c6)+_0x3f6e4c+'\x20ELO)'),null;console['log']('üîç\x20Checking\x20Top\x20'+_0x23d0e0+'\x20status\x20for\x20'+_0x561357+'\x20('+_0x3f6e4c+_0x366316(0x1bc));const _0x1b2e99=collection(db,_0x5c08c1),_0x29496e=await getDocs(_0x1b2e99);let _0x7147c2=null,_0x420a64=-0x1,_0x389523=0x0;_0x29496e['forEach'](_0x4cfb59=>{const _0x4b8ee2=_0x366316,_0x3d1021=_0x4cfb59['data'](),_0x4b06d0=_0x3d1021['eloRating']||0x0,_0x2507ab=getPlayerRankTier(_0x4b06d0);_0x2507ab===_0x5ba5e7&&(_0x389523++,_0x4b06d0>_0x420a64&&(_0x420a64=_0x4b06d0,_0x7147c2=_0x3d1021[_0x4b8ee2(0x187)]));});const _0x21be66=_0x7147c2===_0x561357;return console['log'](_0x366316(0x161)+_0x23d0e0+_0x366316(0x179)+_0x389523+'\x20players,\x20Top:\x20'+_0x7147c2+'\x20('+_0x420a64+_0x366316(0x190)+_0x561357+'\x20is\x20#1:\x20'+_0x21be66),_0x21be66?_0x23d0e0:null;}catch(_0x42661b){return console['error'](_0x366316(0x18d),_0x42661b),null;}}async['evaluateTopRankRibbon'](_0x34137d,_0x7e2374,_0x46aa71){const _0x221d38=a48_0x15ffe1,_0xb5eb04=await this['checkTopRankStatus'](_0x34137d,_0x7e2374),_0x3812a0={};if(_0xb5eb04){const _0x5b2e78='Top\x20'+_0xb5eb04+'\x20Pilot';if(RIBBON_DEFINITIONS[_0x5b2e78]){const _0x36bbdc=_0x46aa71[_0x5b2e78];!_0x36bbdc?(console['log'](_0x221d38(0x174)+_0x34137d+'\x20earned\x20'+_0x5b2e78+'!'),_0x3812a0[_0x5b2e78]={'level':0x1,'awardedAt':new Date(),'rank':_0xb5eb04,'achievedAt':new Date()}):console['log']('‚úÖ\x20'+_0x34137d+_0x221d38(0x1b8)+_0x5b2e78+'\x20-\x20No\x20changes\x20needed');}}return Object[_0x221d38(0x1aa)](_0x46aa71)[_0x221d38(0x184)](_0x2961f7=>{const _0x342eb2=_0x221d38;_0x2961f7['startsWith']('Top\x20')&&_0x2961f7['endsWith']('\x20Pilot')&&(!_0x3812a0[_0x2961f7]&&console['log'](_0x342eb2(0x1d3)+_0x2961f7));}),_0x3812a0;}async[a48_0x15ffe1(0x17b)](_0x5409a1,_0x50b92f='D1'){const _0x3c2ab0=a48_0x15ffe1;try{const _0x435316=ribbonCache['getCachedData'](_0x5409a1,_0x50b92f);if(_0x435316){const _0xd5e8d8=await this[_0x3c2ab0(0x16e)](_0x5409a1,_0x50b92f,_0x435316);if(Object['keys'](_0xd5e8d8)[_0x3c2ab0(0x1be)]>0x0){console['log']('üÜï\x20New\x20top\x20rank\x20achievements\x20found\x20for\x20cached\x20player\x20'+_0x5409a1),await this['savePlayerRibbonsOptimized'](_0x5409a1,_0xd5e8d8,_0x50b92f);const _0x1b7a92={..._0x435316,..._0xd5e8d8};return ribbonCache['setCachedData'](_0x5409a1,_0x50b92f,_0x1b7a92,0x0),_0x1b7a92;}return _0x435316;}const [_0x7a3c1c,_0x2d1c37]=await Promise['all']([this[_0x3c2ab0(0x168)](_0x5409a1,_0x50b92f),this['getPlayerRibbonsCached'](_0x5409a1,_0x50b92f)]);if(!_0x7a3c1c)return{};const _0x3e30a9=_0x7a3c1c['matchesPlayed']||0x0,_0x3a8617=await this['evaluateTopRankRibbon'](_0x5409a1,_0x50b92f,_0x2d1c37);if(!ribbonCache['shouldRefreshCache'](_0x5409a1,_0x50b92f,_0x3e30a9)){if(Object['keys'](_0x3a8617)['length']>0x0){await this[_0x3c2ab0(0x1b0)](_0x5409a1,_0x3a8617,_0x50b92f);const _0x11e5cd={..._0x2d1c37,..._0x3a8617};return ribbonCache[_0x3c2ab0(0x1cc)](_0x5409a1,_0x50b92f,_0x11e5cd,_0x3e30a9),_0x11e5cd;}return ribbonCache['setCachedData'](_0x5409a1,_0x50b92f,_0x2d1c37,_0x3e30a9),_0x2d1c37;}const _0x38ed60=await this['getPlayerMatchesOptimized'](_0x5409a1,_0x50b92f),_0x33c80c=await this['evaluateAllRibbonsFromData'](_0x38ed60,_0x7a3c1c,_0x2d1c37,_0x50b92f);Object['assign'](_0x33c80c,_0x3a8617);Object[_0x3c2ab0(0x1aa)](_0x33c80c)['length']>0x0&&(console['log']('üíæ\x20Saving\x20'+Object['keys'](_0x33c80c)['length']+'\x20new/updated\x20ribbons\x20for\x20'+_0x5409a1),await this[_0x3c2ab0(0x1b0)](_0x5409a1,_0x33c80c,_0x50b92f));const _0x282a08={..._0x2d1c37,..._0x33c80c};return ribbonCache['setCachedData'](_0x5409a1,_0x50b92f,_0x282a08,_0x38ed60['length']),_0x282a08;}catch(_0x125d1d){return console['error']('‚ùå\x20Error\x20in\x20ribbon\x20evaluation:',_0x125d1d),{};}}async['isUnderdogVictory'](_0x1377ef,_0x2cc031,_0x3a9f7f){const _0x1b67bb=a48_0x15ffe1,_0x3967c9=_0x1377ef['winnerUsername']===_0x2cc031;if(!_0x3967c9)return![];const _0x3ab2a3=_0x1377ef['loserUsername'],[_0x57010a,_0x4712d4]=await Promise[_0x1b67bb(0x1da)]([this[_0x1b67bb(0x168)](_0x2cc031,_0x3a9f7f),this['getPlayerDataCached'](_0x3ab2a3,_0x3a9f7f)]);if(!_0x57010a||!_0x4712d4)return console['log']('‚ö†Ô∏è\x20Missing\x20player\x20data\x20for\x20'+_0x2cc031+'\x20or\x20'+_0x3ab2a3),![];const _0x5ef436=_0x57010a['eloRating']||0x0,_0x5f45f6=_0x4712d4['eloRating']||0x0,_0x4d2867=getPlayerRankTier(_0x5ef436),_0x241687=getPlayerRankTier(_0x5f45f6);console[_0x1b67bb(0x169)]('üîç\x20Checking\x20underdog:\x20Winner('+_0x2cc031+'):\x20'+_0x5ef436+'\x20ELO\x20('+getRankTierName(_0x4d2867)+_0x1b67bb(0x1d4)+_0x3ab2a3+'):\x20'+_0x5f45f6+_0x1b67bb(0x185)+getRankTierName(_0x241687)+')');if(_0x241687>_0x4d2867)return console['log'](_0x1b67bb(0x1d0)+getRankTierName(_0x4d2867)+'\x20beat\x20'+getRankTierName(_0x241687)+'!'),!![];return console['log']('‚ùå\x20Not\x20underdog:\x20'+getRankTierName(_0x4d2867)+'\x20vs\x20'+getRankTierName(_0x241687)),![];}['isUnderdogVictoryFast'](_0x301018,_0x2e2627,_0x5c1ebb,_0x34a22c){const _0x259b3e=a48_0x15ffe1,_0x23a80b=_0x301018['winnerUsername']===_0x2e2627;if(!_0x23a80b)return![];const _0x3ee98e=_0x301018[_0x259b3e(0x1b5)],_0x2120a6=_0x34a22c['get'](_0x3ee98e);if(!_0x5c1ebb||!_0x2120a6)return![];const _0x35129b=_0x5c1ebb['eloRating']||0x0,_0x57fe20=_0x2120a6['eloRating']||0x0,_0x35f48b=getPlayerRankTier(_0x35129b),_0x6e9ac2=getPlayerRankTier(_0x57fe20);if(_0x6e9ac2>_0x35f48b)return console['log'](_0x259b3e(0x19c)+getRankTierName(_0x35f48b)+'('+_0x35129b+')\x20beat\x20'+getRankTierName(_0x6e9ac2)+'('+_0x57fe20+')'),!![];return![];}async['evaluateAllRibbonsFromData'](_0x208659,_0x439da9,_0x200c40,_0x745fd5){const _0x453fcb=a48_0x15ffe1,_0x24bb34={},_0x2ee93a=_0x439da9['username'],_0x17fc32={'totalMatches':_0x208659['length'],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0},_0x51fce9=new Set();_0x208659['forEach'](_0x10e503=>{const _0x15a36f=a48_0x4570,_0x3e47c9=_0x10e503['winnerUsername']===_0x2ee93a,_0x47ba61=_0x3e47c9?_0x10e503['loserUsername']:_0x10e503['winnerUsername'];if(_0x47ba61)_0x51fce9[_0x15a36f(0x160)](_0x47ba61);}),console[_0x453fcb(0x169)]('üöÄ\x20Bulk\x20loading\x20'+_0x51fce9['size']+'\x20player\x20records\x20for\x20underdog\x20calculations...');const _0x29ffe6=await this['bulkLoadPlayerData']([..._0x51fce9,_0x2ee93a],_0x745fd5),_0x20d13c=_0x29ffe6[_0x453fcb(0x1d7)](_0x2ee93a);!_0x20d13c&&console['log'](_0x453fcb(0x196)+_0x2ee93a);_0x208659['forEach'](_0x2baa27=>{const _0x521535=_0x453fcb,_0x27c751=_0x2baa27['winnerUsername']===_0x2ee93a,_0x37cddb=_0x27c751?_0x2baa27['loserUsername']:_0x2baa27['winnerUsername'];_0x27c751&&(_0x17fc32['wins']++,_0x2baa27[_0x521535(0x1c4)]===_0x521535(0x17a)&&_0x17fc32[_0x521535(0x1e1)]++,this[_0x521535(0x18c)](_0x2baa27,_0x2ee93a,_0x20d13c,_0x29ffe6)&&_0x17fc32['underdogWins']++),_0x2baa27['subgameType']&&_0x2baa27['subgameType']!==_0x521535(0x1cb)&&_0x17fc32['subgameMatches']++,_0x2baa27['mapPlayed']&&_0x17fc32['uniqueMaps'][_0x521535(0x160)](_0x2baa27['mapPlayed']),_0x37cddb&&_0x17fc32['uniqueOpponents']['add'](_0x37cddb);}),console['log']('üéØ\x20Found\x20'+_0x17fc32['underdogWins']+_0x453fcb(0x1a2)+_0x2ee93a);const _0x231fa1=_0x17fc32['totalMatches']>0x0?_0x17fc32['wins']/_0x17fc32['totalMatches']*0x64:0x0,_0x42e8b6=[['Overachiever\x20Ribbon',this[_0x453fcb(0x1d6)](_0x17fc32[_0x453fcb(0x173)],_0x200c40)],[_0x453fcb(0x18b),this[_0x453fcb(0x1b1)](_0x17fc32[_0x453fcb(0x1e1)],_0x200c40)],['Sub-Gamer\x20Ribbon',this[_0x453fcb(0x1ad)](_0x17fc32['subgameMatches'],_0x200c40)],[_0x453fcb(0x1ca),this['evaluateExplorerRibbonFromCount'](_0x17fc32[_0x453fcb(0x1bf)]['size'],_0x200c40)],['Socialite\x20Ribbon',this[_0x453fcb(0x175)](_0x17fc32['uniqueOpponents']['size'],_0x200c40)],['Brick\x20Wall',this['evaluateBrickWallRibbonFromWinRate'](_0x231fa1,_0x200c40,_0x17fc32['totalMatches'])],['Underdog\x20Ribbon',this['evaluateUnderdogRibbonFromCount'](_0x17fc32['underdogWins'],_0x200c40)]];_0x42e8b6[_0x453fcb(0x184)](([_0x42d12a,_0x343aa0])=>{_0x343aa0&&(_0x24bb34[_0x42d12a]=_0x343aa0);});const _0x1ca8cd=Object['keys'](_0x200c40)['length']+Object[_0x453fcb(0x1aa)](_0x24bb34)[_0x453fcb(0x1be)],_0x508dbf=this['evaluateCollectorRibbonFromCount'](_0x1ca8cd,_0x200c40);return _0x508dbf&&(_0x24bb34['Collector\x20Ribbon']=_0x508dbf),_0x24bb34;}async['getPlayerMatchesOptimized'](_0x35b54e,_0x4c52a8){const _0x22b9e2=a48_0x15ffe1,_0x8c9575=matchCache[_0x22b9e2(0x181)](_0x35b54e,_0x4c52a8);if(_0x8c9575)return _0x8c9575;try{const _0x4800ca=_0x4c52a8==='D1'?'approvedMatches':_0x4c52a8==='D2'?'approvedMatchesD2':'approvedMatchesD3',_0x1afac7=collection(db,_0x4800ca),[_0x15ac8c,_0x3d4534]=await Promise['all']([getDocs(query(_0x1afac7,where('winnerUsername','==',_0x35b54e))),getDocs(query(_0x1afac7,where('loserUsername','==',_0x35b54e)))]),_0x27eef5=new Set(),_0x4f68bb=[];return _0x15ac8c[_0x22b9e2(0x184)](_0x5af445=>{if(!_0x27eef5['has'](_0x5af445['id'])){_0x27eef5['add'](_0x5af445['id']);const _0x5ea630={'id':_0x5af445['id'],..._0x5af445['data']()};if(!_0x5ea630['winnerRating'])_0x5ea630['winnerRating']=0x0;if(!_0x5ea630['loserRating'])_0x5ea630['loserRating']=0x0;_0x4f68bb['push'](_0x5ea630);}}),_0x3d4534['forEach'](_0x5d5d7d=>{const _0x1e46df=_0x22b9e2;if(!_0x27eef5['has'](_0x5d5d7d['id'])){_0x27eef5['add'](_0x5d5d7d['id']);const _0x428ee1={'id':_0x5d5d7d['id'],..._0x5d5d7d['data']()};if(!_0x428ee1['winnerRating'])_0x428ee1['winnerRating']=0x0;if(!_0x428ee1['loserRating'])_0x428ee1[_0x1e46df(0x1c9)]=0x0;_0x4f68bb['push'](_0x428ee1);}}),matchCache['setCachedMatches'](_0x35b54e,_0x4c52a8,_0x4f68bb),_0x4f68bb;}catch(_0x1c4d98){return console[_0x22b9e2(0x1c1)](_0x22b9e2(0x1ac),_0x1c4d98),[];}}async[a48_0x15ffe1(0x168)](_0x5b5d12,_0x3bb124){const _0x1e4b34=a48_0x15ffe1;try{const _0x239497=_0x3bb124==='D1'?'players':_0x3bb124==='D2'?'playersD2':'playersD3',_0x17e7cb=collection(db,_0x239497),_0x559701=query(_0x17e7cb,where(_0x1e4b34(0x187),'==',_0x5b5d12),limit(0x1)),_0x174ed3=await getDocs(_0x559701);if(_0x174ed3['empty'])return console['log']('‚ùå\x20No\x20player\x20data\x20found\x20for\x20'+_0x5b5d12+_0x1e4b34(0x1b4)+_0x239497),null;const _0x52c9a1=_0x174ed3[_0x1e4b34(0x183)][0x0][_0x1e4b34(0x1c3)]();return _0x52c9a1['eloRating']!==undefined&&(_0x52c9a1[_0x1e4b34(0x199)]=_0x52c9a1['eloRating']),console['log']('‚úÖ\x20Found\x20player\x20data\x20for\x20'+_0x5b5d12+_0x1e4b34(0x194)+_0x52c9a1[_0x1e4b34(0x16a)]+',\x20Position\x20'+_0x52c9a1['position']),_0x52c9a1;}catch(_0x59bcde){return console['error']('Error\x20getting\x20player\x20data\x20for\x20'+_0x5b5d12+':',_0x59bcde),null;}}async['getPlayerRibbonsCached'](_0x257610,_0xe675aa){try{const _0x4ab4df='playerRibbons'+(_0xe675aa==='D1'?'':_0xe675aa),_0x11a73f=doc(db,_0x4ab4df,_0x257610),_0x19903b=await getDoc(_0x11a73f);return _0x19903b['exists']()?_0x19903b['data']()['ribbons']||{}:{};}catch(_0x28aa99){return console['error']('Error\x20getting\x20player\x20ribbons:',_0x28aa99),{};}}async['savePlayerRibbonsOptimized'](_0x3a1bab,_0x2814e3,_0x1ee276){const _0x2a84cc=a48_0x15ffe1;try{const _0x1835e6=_0x2a84cc(0x17f)+(_0x1ee276==='D1'?'':_0x1ee276),_0x1f65b9=doc(db,_0x1835e6,_0x3a1bab),_0xd4823f=await this['getPlayerRibbonsCached'](_0x3a1bab,_0x1ee276),_0x20d06d={..._0xd4823f,..._0x2814e3};await setDoc(_0x1f65b9,{'username':_0x3a1bab,'ladder':_0x1ee276,'ribbons':_0x20d06d,'lastUpdated':new Date()},{'merge':!![]});}catch(_0x89577c){console['error']('Error\x20saving\x20ribbons:',_0x89577c);}}['evaluateOverachieverRibbonFromCount'](_0x1241a9,_0x19f92b){const _0x1a05c0=a48_0x15ffe1,_0x10ff72=_0x19f92b['Overachiever\x20Ribbon']||{'level':0x0},_0x4ecb94=RIBBON_DEFINITIONS['Overachiever\x20Ribbon'][_0x1a05c0(0x162)],_0x9b5363=_0x4ecb94[_0x1a05c0(0x17d)](_0x3c2fc2=>_0x1241a9<_0x3c2fc2),_0x1e1378=_0x9b5363===-0x1?_0x4ecb94['length']:_0x9b5363;if(_0x1e1378>_0x10ff72['level'])return{'level':_0x1e1378,'awardedAt':new Date()};return null;}['evaluateRematchRibbonFromCount'](_0x5679f1,_0x21c59c){if(_0x5679f1===0x0)return null;const _0x2447b7=_0x21c59c['Rematch\x20Ribbon']||{'level':0x0};if(_0x5679f1>_0x2447b7['level'])return{'level':_0x5679f1,'awardedAt':new Date()};return null;}['evaluateSubGamerRibbonFromCount'](_0x53a8b1,_0x2631f4){const _0x3d3306=a48_0x15ffe1,_0x24135d=_0x2631f4['Sub-Gamer\x20Ribbon']||{'level':0x0},_0x13ff2b=RIBBON_DEFINITIONS[_0x3d3306(0x170)]['levels'],_0x383dce=_0x13ff2b['findIndex'](_0x578fc9=>_0x53a8b1<_0x578fc9),_0x29e8e7=_0x383dce===-0x1?_0x13ff2b['length']:_0x383dce;if(_0x29e8e7>_0x24135d[_0x3d3306(0x1cd)])return{'level':_0x29e8e7,'awardedAt':new Date()};return null;}['evaluateExplorerRibbonFromCount'](_0xa8c27,_0x5d1be2){const _0x5ea8e9=a48_0x15ffe1,_0x1d4f9b=_0x5d1be2[_0x5ea8e9(0x1ca)]||{'level':0x0},_0x22025c=RIBBON_DEFINITIONS['Explorer\x20Ribbon']['levels'],_0x2a0956=_0x22025c['findIndex'](_0x28c835=>_0xa8c27<_0x28c835),_0x5f173a=_0x2a0956===-0x1?_0x22025c['length']:_0x2a0956;if(_0x5f173a>_0x1d4f9b['level'])return{'level':_0x5f173a,'awardedAt':new Date()};return null;}['evaluateSocialiteRibbonFromCount'](_0x4a105b,_0x1ccf5a){const _0x5578fb=_0x1ccf5a['Socialite\x20Ribbon']||{'level':0x0},_0x175307=RIBBON_DEFINITIONS['Socialite\x20Ribbon']['levels'],_0x15fc93=_0x175307['findIndex'](_0x4a5f74=>_0x4a105b<_0x4a5f74),_0x4c683e=_0x15fc93===-0x1?_0x175307['length']:_0x15fc93;if(_0x4c683e>_0x5578fb['level'])return{'level':_0x4c683e,'awardedAt':new Date()};return null;}[a48_0x15ffe1(0x1a7)](_0x176777,_0x160d38,_0x1f67a7){const _0x55aa4b=a48_0x15ffe1;if(_0x1f67a7<0x32)return console[_0x55aa4b(0x169)](_0x55aa4b(0x1a9)+_0x1f67a7+')'),null;const _0x3b8b90=_0x160d38[_0x55aa4b(0x1a5)]||{'level':0x0},_0x1ca95a=RIBBON_DEFINITIONS['Brick\x20Wall']['levels'],_0x27a9be=_0x1ca95a['findIndex'](_0x264010=>_0x176777<_0x264010),_0x560969=_0x27a9be===-0x1?_0x1ca95a['length']:_0x27a9be;if(_0x560969>_0x3b8b90[_0x55aa4b(0x1cd)])return console['log']('üèÜ\x20Brick\x20Wall\x20ribbon\x20awarded:\x20'+_0x176777['toFixed'](0x1)+'%\x20win\x20rate\x20over\x20'+_0x1f67a7+'\x20matches'),{'level':_0x560969,'awardedAt':new Date(),'winRate':_0x176777,'matchesPlayed':_0x1f67a7};return null;}[a48_0x15ffe1(0x1cf)](_0x2fda2f,_0x5b5006){const _0x5b186c=a48_0x15ffe1,_0x3fcd6d=_0x5b5006['Collector\x20Ribbon']||{'level':0x0},_0x4262dc=RIBBON_DEFINITIONS['Collector\x20Ribbon'][_0x5b186c(0x162)],_0x29d910=_0x4262dc[_0x5b186c(0x17d)](_0x2e2351=>_0x2fda2f<_0x2e2351),_0x571770=_0x29d910===-0x1?_0x4262dc['length']:_0x29d910;if(_0x571770>_0x3fcd6d[_0x5b186c(0x1cd)])return{'level':_0x571770,'awardedAt':new Date()};return null;}['evaluateUnderdogRibbonFromCount'](_0x4515fa,_0x21aba8){const _0x5658b9=a48_0x15ffe1;if(_0x4515fa===0x0)return null;const _0x339530=_0x21aba8['Underdog\x20Ribbon']||{'level':0x0},_0x5a69e5=RIBBON_DEFINITIONS['Underdog\x20Ribbon']['levels'];let _0x4628be=0x0;for(let _0x38c3f0=0x0;_0x38c3f0<_0x5a69e5[_0x5658b9(0x1be)];_0x38c3f0++){if(_0x4515fa>=_0x5a69e5[_0x38c3f0])_0x4628be=_0x38c3f0+0x1;else break;}if(_0x4628be>_0x339530['level'])return console['log']('üèÜ\x20Underdog\x20Ribbon\x20upgrade:\x20Level\x20'+_0x339530[_0x5658b9(0x1cd)]+_0x5658b9(0x19f)+_0x4628be+'\x20('+_0x4515fa+_0x5658b9(0x18e)),{'level':_0x4628be,'awardedAt':new Date()};return null;}}function getPlayerRankTier(_0x10cd3b){if(_0x10cd3b===undefined||_0x10cd3b===null)return 0x0;const _0x45300a=Number(_0x10cd3b);if(isNaN(_0x45300a))return 0x0;if(_0x45300a>=0x7d0)return 0x4;if(_0x45300a>=0x708)return 0x3;if(_0x45300a>=0x640)return 0x2;if(_0x45300a>=0x578)return 0x1;return 0x0;}function getRankTierName(_0x468aad){const _0x3c970c=a48_0x15ffe1,_0x283406=[_0x3c970c(0x195),_0x3c970c(0x1b7),'Silver','Gold','Emerald'];return _0x283406[_0x468aad]||_0x3c970c(0x195);}const ribbonSystem=new RibbonSystem(),ribbonCache=new RibbonCacheManager(),matchCache=new MatchCacheManager();typeof window!==a48_0x15ffe1(0x186)&&(window['getRibbonCacheStats']=()=>{return{'ribbon':ribbonCache['getCacheStats'](),'match':matchCache['getCacheStats']()};});export async function evaluatePlayerRibbons(_0x2fcb91,_0x427963='D1'){return await ribbonSystem['evaluateAllRibbonsForPlayerOptimized'](_0x2fcb91,_0x427963);}export function getRibbonHTML(_0x40eccf,_0x45cc2d){const _0xdc1da7=a48_0x15ffe1,_0x433052=RIBBON_DEFINITIONS[_0x40eccf];if(!_0x433052)return'';const _0x5a1ff4=_0x45cc2d['level']||0x1,_0x52074b=_0x40eccf['replace']('\x20Ribbon','')['replace'](_0xdc1da7(0x16f),''),_0x539ac4=_0x41c3d2=>{const _0x31b4c3=_0xdc1da7;if(_0x41c3d2<=0x1)return'level-1';if(_0x41c3d2<=0x2)return'level-2';if(_0x41c3d2<=0x3)return'level-3';if(_0x41c3d2<=0x4)return'level-4';return _0x31b4c3(0x1af);},_0x527b11=_0x4aa149=>{const _0x1d1a23=_0xdc1da7;if(_0x4aa149<=0x1)return'';const _0x5630c4=[];if(_0x4aa149>=0x2&&_0x4aa149<=0x4){const _0x547e8f=Math[_0x1d1a23(0x1d1)](_0x4aa149-0x1,0x3);for(let _0x211fbb=0x0;_0x211fbb<_0x547e8f;_0x211fbb++){_0x5630c4['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>');}}if(_0x4aa149>=0x5&&_0x4aa149<=0x7){_0x5630c4['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20silver-star\x22></i>');const _0x3e370a=Math['min'](_0x4aa149-0x5,0x2);for(let _0x41a463=0x0;_0x41a463<_0x3e370a;_0x41a463++){_0x5630c4['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>');}}return _0x4aa149>=0x8&&_0x5630c4[_0x1d1a23(0x1d8)]('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20gold-star\x22></i>'),_0x5630c4['length']>0x0?'<div\x20class=\x22ribbon-devices\x22>'+_0x5630c4['join']('')+_0x1d1a23(0x1b6):'';},_0x536074=_0x433052['description']+'\x20-\x20Level\x20'+_0x5a1ff4;return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22military-ribbon\x22\x20data-tooltip=\x22'+_0x536074+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-image-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22'+_0x433052[_0xdc1da7(0x17e)]+_0xdc1da7(0x1c7)+_0x40eccf+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22ribbon-image\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27;\x20this.nextElementSibling.style.display=\x27block\x27;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-fallback\x22\x20style=\x22display:\x20none;\x20background:\x20'+_0x433052['color']+';\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x52074b['substring'](0x0,0x6)+_0xdc1da7(0x188)+_0x527b11(_0x5a1ff4)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-name\x22>'+_0x52074b+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5a1ff4>0x1?'<div\x20class=\x22ribbon-level-indicator\x20'+_0x539ac4(_0x5a1ff4)+'\x22>'+_0x5a1ff4+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}