const a4_0x11bc30=a4_0x128d;(function(_0x5813b9,_0x492d56){const _0x1998f5=a4_0x128d,_0x5ca520=_0x5813b9();while(!![]){try{const _0x5ab5f4=-parseInt(_0x1998f5(0x540))/0x1+-parseInt(_0x1998f5(0x29d))/0x2*(-parseInt(_0x1998f5(0x2f9))/0x3)+parseInt(_0x1998f5(0x42b))/0x4+parseInt(_0x1998f5(0x1d2))/0x5+-parseInt(_0x1998f5(0x2d8))/0x6*(parseInt(_0x1998f5(0x558))/0x7)+-parseInt(_0x1998f5(0x2f6))/0x8*(parseInt(_0x1998f5(0x26f))/0x9)+parseInt(_0x1998f5(0x1e2))/0xa*(parseInt(_0x1998f5(0x4a9))/0xb);if(_0x5ab5f4===_0x492d56)break;else _0x5ca520['push'](_0x5ca520['shift']());}catch(_0x500f3d){_0x5ca520['push'](_0x5ca520['shift']());}}}(a4_0x2d77,0xe7a38));const a4_0x5da70d=(function(){let _0x5ced79=!![];return function(_0x4a1066,_0x3edba4){const _0x50985c=_0x5ced79?function(){const _0x50f98e=a4_0x128d;if(_0x3edba4){const _0x869ebb=_0x3edba4[_0x50f98e(0x35b)](_0x4a1066,arguments);return _0x3edba4=null,_0x869ebb;}}:function(){};return _0x5ced79=![],_0x50985c;};}()),a4_0x44784f=a4_0x5da70d(this,function(){const _0x291f1d=a4_0x128d;return a4_0x44784f['toString']()['search']('(((.+)+)+)+$')[_0x291f1d(0x1bb)]()[_0x291f1d(0x546)](a4_0x44784f)[_0x291f1d(0x490)](_0x291f1d(0x49d));});a4_0x44784f();const a4_0x5e6f60=(function(){let _0x3be580=!![];return function(_0x36f534,_0x5e4f6d){const _0x578005=_0x3be580?function(){const _0x21cd62=a4_0x128d;if(_0x5e4f6d){const _0x4c8f06=_0x5e4f6d[_0x21cd62(0x35b)](_0x36f534,arguments);return _0x5e4f6d=null,_0x4c8f06;}}:function(){};return _0x3be580=![],_0x578005;};}()),a4_0x424470=a4_0x5e6f60(this,function(){const _0x23037e=a4_0x128d,_0x2d5261=function(){const _0x5370b8=a4_0x128d;let _0x41dcf7;try{_0x41dcf7=Function('return\x20(function()\x20'+_0x5370b8(0x1fa)+');')();}catch(_0x30281f){_0x41dcf7=window;}return _0x41dcf7;},_0x4b65d7=_0x2d5261(),_0xe30c90=_0x4b65d7[_0x23037e(0x47f)]=_0x4b65d7[_0x23037e(0x47f)]||{},_0x2f2002=[_0x23037e(0x1c0),_0x23037e(0x328),_0x23037e(0x396),_0x23037e(0x5e8),_0x23037e(0x552),_0x23037e(0x291),_0x23037e(0x5dd)];for(let _0x4eadee=0x0;_0x4eadee<_0x2f2002[_0x23037e(0x49f)];_0x4eadee++){const _0x28056b=a4_0x5e6f60['constructor']['prototype'][_0x23037e(0x2b7)](a4_0x5e6f60),_0x67f958=_0x2f2002[_0x4eadee],_0xf11c95=_0xe30c90[_0x67f958]||_0x28056b;_0x28056b[_0x23037e(0x1b7)]=a4_0x5e6f60['bind'](a4_0x5e6f60),_0x28056b[_0x23037e(0x1bb)]=_0xf11c95['toString'][_0x23037e(0x2b7)](_0xf11c95),_0xe30c90[_0x67f958]=_0x28056b;}});a4_0x424470();import{collection,getDocs,query,orderBy,addDoc,deleteDoc,where,doc,getDoc,serverTimestamp,setDoc,updateDoc,writeBatch,limit,startAfter,endBefore,limitToLast,onSnapshot,deleteField,or,Timestamp}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{auth,db}from'./firebase-config.js';import{getRankStyle}from'./ranks.js';import{isAdmin}from'./admin-check.js';let matchesPagination={'d1':{'page':0x1,'lastVisible':null,'firstVisible':null},'d2':{'page':0x1,'lastVisible':null,'firstVisible':null},'d3':{'page':0x1,'lastVisible':null,'firstVisible':null}};function getContrastColor(_0x55b0f4){const _0x3994cc=a4_0x128d;if(!_0x55b0f4)return _0x3994cc(0x3fa);_0x55b0f4=_0x55b0f4[_0x3994cc(0x4c6)]('#','');_0x55b0f4['length']===0x3&&(_0x55b0f4=_0x55b0f4['split']('')['map'](_0x5880e0=>_0x5880e0+_0x5880e0)[_0x3994cc(0x2a2)](''));if(_0x55b0f4[_0x3994cc(0x49f)]!==0x6)return'#ffffff';const _0x114012=parseInt(_0x55b0f4[_0x3994cc(0x3b2)](0x0,0x2),0x10),_0x5083da=parseInt(_0x55b0f4[_0x3994cc(0x3b2)](0x2,0x4),0x10),_0xbdfd8a=parseInt(_0x55b0f4[_0x3994cc(0x3b2)](0x4,0x6),0x10),_0x5de327=(_0x114012*0x12b+_0x5083da*0x24b+_0xbdfd8a*0x72)/0x3e8;return _0x5de327>=0x80?_0x3994cc(0x2c7):_0x3994cc(0x3fa);}const DEFAULT_TROPHY_IMAGE=a4_0x11bc30(0x578),charts={};let currentLadder='D1',eloHistoryPagination={'d1':{'page':0x1,'lastVisible':null,'firstVisible':null},'d2':{'page':0x1,'lastVisible':null,'firstVisible':null},'d3':{'page':0x1,'lastVisible':null,'firstVisible':null}};const PAGE_SIZE=0xf;document[a4_0x11bc30(0x368)](a4_0x11bc30(0x4cc),()=>{const _0x3121db=a4_0x11bc30;auth[_0x3121db(0x2f4)](async _0x54cfb9=>{const _0x4ddb18=_0x3121db;if(!_0x54cfb9){window[_0x4ddb18(0x4d7)][_0x4ddb18(0x369)]=_0x4ddb18(0x3c2);return;}try{await initializeAdminDashboard();}catch(_0xf0bf90){console[_0x4ddb18(0x5e8)](_0x4ddb18(0x1ab),_0xf0bf90),showNotification(_0x4ddb18(0x4bb),_0x4ddb18(0x5e8));}});});async function getUserTabPermissions(_0x4b5ad3){const _0x364d33=a4_0x11bc30;if(!_0x4b5ad3)return[_0x364d33(0x3bc)];console[_0x364d33(0x1c0)](_0x364d33(0x5c4)+_0x4b5ad3+_0x364d33(0x4eb));const _0x3744e1=[{'name':'userProfiles','displayName':_0x364d33(0x1a8)},{'name':'players','displayName':_0x364d33(0x39f)},{'name':_0x364d33(0x274),'displayName':_0x364d33(0x42a)},{'name':_0x364d33(0x24c),'displayName':'D3\x20Players'},{'name':_0x364d33(0x5bb),'displayName':_0x364d33(0x357)}],_0xd6e7a1=auth[_0x364d33(0x4c4)];let _0x4e0d28=null,_0x6ef641=null;for(const _0xa26836 of _0x3744e1){try{if(_0xd6e7a1){const _0xb68cdc=doc(db,_0xa26836[_0x364d33(0x47d)],_0xd6e7a1[_0x364d33(0x30b)]),_0x3a25e9=await getDoc(_0xb68cdc);if(_0x3a25e9['exists']()){const _0x4a4793=_0x3a25e9[_0x364d33(0x524)]();console[_0x364d33(0x1c0)]('Found\x20user\x20in\x20'+_0xa26836['displayName']+_0x364d33(0x5ed),_0x4a4793);const _0xf63de9=(_0x4a4793[_0x364d33(0x389)]||_0x4a4793['role']||'')['toLowerCase']();if(_0xf63de9&&_0xf63de9!==_0x364d33(0x1e3)){_0x4e0d28=_0xf63de9,_0x6ef641=_0xa26836[_0x364d33(0x4c0)],console[_0x364d33(0x1c0)](_0x364d33(0x272)+_0x4e0d28+_0x364d33(0x588)+_0x6ef641);break;}}}if(!_0x4e0d28){const _0x49476b=collection(db,_0xa26836[_0x364d33(0x47d)]),_0x2eac51=query(_0x49476b,where(_0x364d33(0x20d),'==',_0x4b5ad3)),_0x2f8582=await getDocs(_0x2eac51);if(!_0x2f8582[_0x364d33(0x234)]){const _0x36a73a=_0x2f8582[_0x364d33(0x485)][0x0]['data']();console[_0x364d33(0x1c0)]('Found\x20user\x20in\x20'+_0xa26836[_0x364d33(0x4c0)]+_0x364d33(0x499)+_0x4b5ad3+':',_0x36a73a);const _0x229a7b=(_0x36a73a['roleName']||_0x36a73a[_0x364d33(0x2db)]||'')[_0x364d33(0x262)]();if(_0x229a7b&&_0x229a7b!=='none'){_0x4e0d28=_0x229a7b,_0x6ef641=_0xa26836[_0x364d33(0x4c0)],console[_0x364d33(0x1c0)](_0x364d33(0x272)+_0x4e0d28+_0x364d33(0x588)+_0x6ef641);break;}}}}catch(_0x2dfe0b){console[_0x364d33(0x5e8)](_0x364d33(0x3e0)+_0xa26836[_0x364d33(0x4c0)]+':',_0x2dfe0b);}}if(_0x4e0d28){console[_0x364d33(0x1c0)](_0x364d33(0x5b5)+_0x4e0d28+_0x364d33(0x518)+_0x6ef641+')');const _0x2e8494={'admin':[_0x364d33(0x3bc),_0x364d33(0x3d9),_0x364d33(0x1c6),_0x364d33(0x479),_0x364d33(0x1cd),_0x364d33(0x39d),'inactive-players',_0x364d33(0x445),'manage-trophies','elo-history','manage-highlights','user-roles-section',_0x364d33(0x1c6),_0x364d33(0x56e),_0x364d33(0x251),'manage-ribbons'],'owner':['dashboard',_0x364d33(0x3d9),_0x364d33(0x1c6),_0x364d33(0x479),_0x364d33(0x1cd),_0x364d33(0x39d),_0x364d33(0x331),_0x364d33(0x445),_0x364d33(0x1cd),_0x364d33(0x5aa),_0x364d33(0x5e0),_0x364d33(0x4a0),_0x364d33(0x1c6),_0x364d33(0x56e),'manage-levels-ribbons',_0x364d33(0x367)],'council':[_0x364d33(0x3bc),_0x364d33(0x3d9),_0x364d33(0x1c6)],'creative\x20lead':[_0x364d33(0x3bc),_0x364d33(0x479),_0x364d33(0x1cd),_0x364d33(0x5aa),_0x364d33(0x5e0)]};if(_0x2e8494[_0x4e0d28])return console[_0x364d33(0x1c0)](_0x364d33(0x30d)+_0x4e0d28+'\x27\x20has\x20permissions:',_0x2e8494[_0x4e0d28]),_0x2e8494[_0x4e0d28];}return console['log']('No\x20specific\x20permissions\x20for\x20user\x20'+_0x4b5ad3+_0x364d33(0x1d5)),['dashboard'];}function setupSidebarNavigation(_0x181294=[]){const _0x35d4c9=a4_0x11bc30,_0x12bfb5=document[_0x35d4c9(0x2ae)](_0x35d4c9(0x40e)),_0x48bfe4=document['querySelectorAll']('.admin-section');(!_0x181294||_0x181294[_0x35d4c9(0x49f)]===0x0)&&(_0x181294=[_0x35d4c9(0x3bc)]);_0x12bfb5[_0x35d4c9(0x2a1)](_0xf97ab9=>{const _0x14aa97=_0x35d4c9,_0x2ceca4=_0xf97ab9[_0x14aa97(0x2da)]('data-section');_0x181294[_0x14aa97(0x287)](_0x2ceca4)?_0xf97ab9[_0x14aa97(0x416)]['display']=_0x14aa97(0x4b3):_0xf97ab9[_0x14aa97(0x416)][_0x14aa97(0x1a1)]=_0x14aa97(0x1e3),_0xf97ab9[_0x14aa97(0x368)](_0x14aa97(0x583),()=>{const _0x5704ce=_0x14aa97,_0x14fc07=_0xf97ab9[_0x5704ce(0x2da)](_0x5704ce(0x50c));if(!_0x181294[_0x5704ce(0x287)](_0x14fc07)){showNotification(_0x5704ce(0x5e3),_0x5704ce(0x5e8));return;}_0x12bfb5[_0x5704ce(0x2a1)](_0x37e4c0=>_0x37e4c0['classList'][_0x5704ce(0x3c8)]('active')),_0xf97ab9[_0x5704ce(0x3f1)][_0x5704ce(0x417)]('active'),_0x48bfe4[_0x5704ce(0x2a1)](_0xf2f854=>{const _0x365b81=_0x5704ce;_0xf2f854[_0x365b81(0x416)]['display']=_0x365b81(0x1e3);});const _0x1fcdf0=document['getElementById'](_0x14fc07);_0x1fcdf0&&(_0x1fcdf0[_0x5704ce(0x416)][_0x5704ce(0x1a1)]=_0x5704ce(0x547),console[_0x5704ce(0x1c0)](_0x5704ce(0x3ad)+_0x14fc07+_0x5704ce(0x5de)));});});const _0x1a1138=document[_0x35d4c9(0x2be)]('.sidebar-nav\x20.nav-item[data-section=\x22'+_0x181294[0x0]+'\x22]');_0x1a1138&&_0x1a1138['click'](),console['log'](_0x35d4c9(0x307));}function setupTabNavigation(){const _0x71b590=a4_0x11bc30,_0x1774d4=document[_0x71b590(0x2ae)](_0x71b590(0x2c3));let _0x31ad64=null,_0x371056=new Set();_0x1774d4[_0x71b590(0x2a1)](_0x3bd2c6=>{const _0x1d70bc=_0x71b590;_0x3bd2c6[_0x1d70bc(0x368)](_0x1d70bc(0x583),function(){const _0x5bce2e=_0x1d70bc,_0xa023b5=this[_0x5bce2e(0x2da)](_0x5bce2e(0x50c));if(_0xa023b5===_0x31ad64)return;_0x31ad64&&(document[_0x5bce2e(0x50a)](_0x31ad64)[_0x5bce2e(0x416)][_0x5bce2e(0x1a1)]='none',_0x1774d4[_0x5bce2e(0x2a1)](_0x38f0d2=>_0x38f0d2[_0x5bce2e(0x3f1)][_0x5bce2e(0x3c8)](_0x5bce2e(0x381)))),document['getElementById'](_0xa023b5)['style']['display']=_0x5bce2e(0x547),this[_0x5bce2e(0x3f1)][_0x5bce2e(0x417)](_0x5bce2e(0x381)),_0x31ad64=_0xa023b5;});});}function loadSectionData(_0x47a1bf){return;}async function initializeAdminDashboard(){const _0x56e5ee=a4_0x11bc30;try{const _0x2cd7e9=auth[_0x56e5ee(0x4c4)],_0x48a9a2=await getUserTabPermissions(_0x2cd7e9[_0x56e5ee(0x20d)]);console['log'](_0x56e5ee(0x2e4)+_0x2cd7e9[_0x56e5ee(0x20d)]+_0x56e5ee(0x52f),_0x48a9a2),window[_0x56e5ee(0x19a)]=_0x48a9a2,setupSidebarNavigation(_0x48a9a2),setupLadderSelector(),setupDashboardSection(),_0x48a9a2[_0x56e5ee(0x287)](_0x56e5ee(0x3d9))&&setupManagePlayersSection(),_0x48a9a2[_0x56e5ee(0x287)](_0x56e5ee(0x5aa))&&setupEloHistorySection(),_0x48a9a2['includes'](_0x56e5ee(0x39d))&&setupRankControls(),_0x48a9a2[_0x56e5ee(0x287)](_0x56e5ee(0x479))&&setupManageArticlesSection(),_0x48a9a2[_0x56e5ee(0x287)]('user-roles-section')&&setupUserRolesSection(),_0x48a9a2[_0x56e5ee(0x287)](_0x56e5ee(0x1cd))&&setupTrophyManagementSection(),_0x48a9a2[_0x56e5ee(0x287)]('manage-highlights')&&setupManageHighlightsSection(),_0x48a9a2['includes']('inactive-players')&&setupInactivePlayersSection(),_0x48a9a2[_0x56e5ee(0x287)](_0x56e5ee(0x1c6))&&setupManageMatchesSection(),_0x48a9a2[_0x56e5ee(0x287)]('manage-points')&&setupManagePointsSection(),_0x48a9a2[_0x56e5ee(0x287)](_0x56e5ee(0x367))&&setupManageRibbonsSection(),setupDataLoadButtons(_0x48a9a2);}catch(_0x8dbeab){console[_0x56e5ee(0x5e8)](_0x56e5ee(0x400),_0x8dbeab);}}function setupDataLoadButtons(_0x262f94=[]){const _0x2ce0c1=a4_0x11bc30;(!_0x262f94||_0x262f94[_0x2ce0c1(0x49f)]===0x0)&&(_0x262f94=[_0x2ce0c1(0x3bc)]);const _0x511701=document[_0x2ce0c1(0x50a)]('load-dashboard-data');_0x511701&&_0x511701[_0x2ce0c1(0x368)]('click',function(){const _0x9d1ffd=_0x2ce0c1;this[_0x9d1ffd(0x3f1)][_0x9d1ffd(0x417)](_0x9d1ffd(0x3c6)),this[_0x9d1ffd(0x24a)]=_0x9d1ffd(0x3ee),loadDashboardOverview()['then'](()=>{const _0x40e2a8=_0x9d1ffd;this['classList'][_0x40e2a8(0x3c8)](_0x40e2a8(0x3c6)),this[_0x40e2a8(0x24a)]=_0x40e2a8(0x5d5);})[_0x9d1ffd(0x1ae)](_0x3ad3ec=>{const _0x59bd7b=_0x9d1ffd;console[_0x59bd7b(0x5e8)](_0x59bd7b(0x1b9),_0x3ad3ec),this['classList'][_0x59bd7b(0x3c8)](_0x59bd7b(0x3c6)),this[_0x59bd7b(0x24a)]='<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error',setTimeout(()=>{const _0x6795f8=_0x59bd7b;this[_0x6795f8(0x24a)]=_0x6795f8(0x5d5);},0xbb8);});});if(_0x262f94[_0x2ce0c1(0x287)]('manage-trophies')){const _0x63c29b=document['getElementById']('load-trophies-data');_0x63c29b&&_0x63c29b[_0x2ce0c1(0x368)]('click',function(){const _0x1352c4=_0x2ce0c1;console[_0x1352c4(0x1c0)](_0x1352c4(0x441)),this[_0x1352c4(0x3f1)][_0x1352c4(0x417)](_0x1352c4(0x3c6)),this[_0x1352c4(0x24a)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...',loadTrophyDefinitions()[_0x1352c4(0x23f)](()=>{const _0x17763d=_0x1352c4;this[_0x17763d(0x3f1)]['remove']('loading'),this[_0x17763d(0x24a)]=_0x17763d(0x412);})[_0x1352c4(0x1ae)](_0x392dd1=>{const _0x247213=_0x1352c4;console[_0x247213(0x5e8)](_0x247213(0x513),_0x392dd1),this[_0x247213(0x3f1)][_0x247213(0x3c8)](_0x247213(0x3c6)),this[_0x247213(0x24a)]='<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error',setTimeout(()=>{const _0x1c1fd4=_0x247213;this[_0x1c1fd4(0x24a)]=_0x1c1fd4(0x412);},0xbb8);});});}if(_0x262f94[_0x2ce0c1(0x287)](_0x2ce0c1(0x3d9))){const _0x28e53b=document[_0x2ce0c1(0x50a)]('load-players-data');_0x28e53b&&_0x28e53b['addEventListener'](_0x2ce0c1(0x583),function(){const _0x566e4f=_0x2ce0c1;console[_0x566e4f(0x1c0)](_0x566e4f(0x4c5)),this[_0x566e4f(0x3f1)]['add'](_0x566e4f(0x3c6)),this[_0x566e4f(0x24a)]=_0x566e4f(0x3ee),loadPlayersData()[_0x566e4f(0x23f)](()=>{const _0x3f078e=_0x566e4f;this[_0x3f078e(0x3f1)][_0x3f078e(0x3c8)](_0x3f078e(0x3c6)),this[_0x3f078e(0x24a)]=_0x3f078e(0x446);})[_0x566e4f(0x1ae)](_0x48ccd0=>{const _0xb6bb3f=_0x566e4f;console[_0xb6bb3f(0x5e8)](_0xb6bb3f(0x57b),_0x48ccd0),this[_0xb6bb3f(0x3f1)][_0xb6bb3f(0x3c8)](_0xb6bb3f(0x3c6)),this[_0xb6bb3f(0x24a)]=_0xb6bb3f(0x1d0),setTimeout(()=>{const _0x2df917=_0xb6bb3f;this[_0x2df917(0x24a)]='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Players\x20Data';},0xbb8);});});}if(_0x262f94[_0x2ce0c1(0x287)](_0x2ce0c1(0x5aa))){const _0x3348cf=document[_0x2ce0c1(0x50a)]('load-elo-history-data');_0x3348cf&&_0x3348cf[_0x2ce0c1(0x368)](_0x2ce0c1(0x583),function(){const _0x2db42a=_0x2ce0c1;console[_0x2db42a(0x1c0)](_0x2db42a(0x1da)),this['classList'][_0x2db42a(0x417)](_0x2db42a(0x3c6)),this[_0x2db42a(0x24a)]=_0x2db42a(0x3ee),loadEloHistory(0x1)[_0x2db42a(0x23f)](()=>{const _0x2c3428=_0x2db42a;this['classList'][_0x2c3428(0x3c8)](_0x2c3428(0x3c6)),this[_0x2c3428(0x24a)]=_0x2c3428(0x20a);})[_0x2db42a(0x1ae)](_0x364faa=>{const _0x5cc672=_0x2db42a;console[_0x5cc672(0x5e8)](_0x5cc672(0x22b),_0x364faa),this[_0x5cc672(0x3f1)]['remove'](_0x5cc672(0x3c6)),this['innerHTML']=_0x5cc672(0x1d0),setTimeout(()=>{const _0x40db9e=_0x5cc672;this[_0x40db9e(0x24a)]=_0x40db9e(0x20a);},0xbb8);});});}if(_0x262f94[_0x2ce0c1(0x287)]('manage-articles')){const _0x22452c=document[_0x2ce0c1(0x50a)]('load-articles-data');_0x22452c&&_0x22452c[_0x2ce0c1(0x368)](_0x2ce0c1(0x583),function(){const _0x263e22=_0x2ce0c1;console[_0x263e22(0x1c0)](_0x263e22(0x305)),this[_0x263e22(0x3f1)][_0x263e22(0x417)](_0x263e22(0x3c6)),this[_0x263e22(0x24a)]=_0x263e22(0x3ee),loadArticles()[_0x263e22(0x23f)](()=>{const _0x1330f9=_0x263e22;this[_0x1330f9(0x3f1)][_0x1330f9(0x3c8)](_0x1330f9(0x3c6)),this[_0x1330f9(0x24a)]=_0x1330f9(0x41a);})['catch'](_0x355ede=>{const _0x45e8c4=_0x263e22;console['error'](_0x45e8c4(0x50d),_0x355ede),this['classList'][_0x45e8c4(0x3c8)](_0x45e8c4(0x3c6)),this[_0x45e8c4(0x24a)]=_0x45e8c4(0x1d0),setTimeout(()=>{const _0x66a187=_0x45e8c4;this[_0x66a187(0x24a)]=_0x66a187(0x41a);},0xbb8);});});}if(_0x262f94[_0x2ce0c1(0x287)](_0x2ce0c1(0x4a0))){const _0x448038=document[_0x2ce0c1(0x50a)]('load-users-data');_0x448038&&_0x448038['addEventListener'](_0x2ce0c1(0x583),function(){const _0x272912=_0x2ce0c1;console[_0x272912(0x1c0)](_0x272912(0x2c2)),this[_0x272912(0x3f1)][_0x272912(0x417)](_0x272912(0x3c6)),this[_0x272912(0x24a)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...',loadUsersWithRoles()[_0x272912(0x23f)](()=>{const _0x5f35ef=_0x272912;this[_0x5f35ef(0x3f1)][_0x5f35ef(0x3c8)](_0x5f35ef(0x3c6)),this[_0x5f35ef(0x24a)]='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Users\x20Data';})['catch'](_0x29a654=>{const _0x222a96=_0x272912;console[_0x222a96(0x5e8)]('Error\x20loading\x20users:',_0x29a654),this[_0x222a96(0x3f1)][_0x222a96(0x3c8)](_0x222a96(0x3c6)),this['innerHTML']=_0x222a96(0x1d0),setTimeout(()=>{const _0x3190ea=_0x222a96;this[_0x3190ea(0x24a)]=_0x3190ea(0x4f4);},0xbb8);});});}if(_0x262f94[_0x2ce0c1(0x287)](_0x2ce0c1(0x331))){const _0x2352a7=document[_0x2ce0c1(0x50a)](_0x2ce0c1(0x4d4));_0x2352a7&&_0x2352a7[_0x2ce0c1(0x368)]('click',function(){const _0x5c36a0=_0x2ce0c1;console[_0x5c36a0(0x1c0)](_0x5c36a0(0x5cb)),this['classList'][_0x5c36a0(0x417)](_0x5c36a0(0x3c6)),this[_0x5c36a0(0x24a)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...',loadInactivePlayersData()[_0x5c36a0(0x23f)](()=>{const _0xe8d9d8=_0x5c36a0;this[_0xe8d9d8(0x3f1)][_0xe8d9d8(0x3c8)](_0xe8d9d8(0x3c6)),this[_0xe8d9d8(0x24a)]=_0xe8d9d8(0x52b);})[_0x5c36a0(0x1ae)](_0xdffee0=>{const _0x54f98f=_0x5c36a0;console[_0x54f98f(0x5e8)](_0x54f98f(0x5bc),_0xdffee0),this[_0x54f98f(0x3f1)]['remove'](_0x54f98f(0x3c6)),this[_0x54f98f(0x24a)]='<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error',setTimeout(()=>{const _0x33e181=_0x54f98f;this[_0x33e181(0x24a)]='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Inactive\x20Players';},0xbb8);});});}if(_0x262f94[_0x2ce0c1(0x287)](_0x2ce0c1(0x5e0))){const _0x1bb0d3=document[_0x2ce0c1(0x50a)](_0x2ce0c1(0x562));_0x1bb0d3&&_0x1bb0d3[_0x2ce0c1(0x368)](_0x2ce0c1(0x583),function(){const _0x3c5887=_0x2ce0c1;console[_0x3c5887(0x1c0)]('Load\x20highlights\x20data\x20clicked'),this[_0x3c5887(0x3f1)][_0x3c5887(0x417)](_0x3c5887(0x3c6)),this[_0x3c5887(0x24a)]=_0x3c5887(0x3ee),loadHighlightsAdmin()[_0x3c5887(0x23f)](()=>{const _0x3f4e17=_0x3c5887;this[_0x3f4e17(0x3f1)]['remove'](_0x3f4e17(0x3c6)),this[_0x3f4e17(0x24a)]=_0x3f4e17(0x343);})[_0x3c5887(0x1ae)](_0x753c26=>{const _0x51c2cd=_0x3c5887;console[_0x51c2cd(0x5e8)]('Error\x20loading\x20highlights:',_0x753c26),this['classList'][_0x51c2cd(0x3c8)](_0x51c2cd(0x3c6)),this[_0x51c2cd(0x24a)]='<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error',setTimeout(()=>{const _0x4b3ddc=_0x51c2cd;this[_0x4b3ddc(0x24a)]=_0x4b3ddc(0x343);},0xbb8);});});}if(_0x262f94[_0x2ce0c1(0x287)](_0x2ce0c1(0x1c6))){const _0xd1ea85=document[_0x2ce0c1(0x50a)](_0x2ce0c1(0x599));_0xd1ea85&&_0xd1ea85['addEventListener']('click',function(){const _0x58b4cc=_0x2ce0c1;console[_0x58b4cc(0x1c0)]('Load\x20matches\x20data\x20clicked'),this['classList'][_0x58b4cc(0x417)](_0x58b4cc(0x3c6)),this[_0x58b4cc(0x24a)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...',loadMatchesData(0x1)[_0x58b4cc(0x23f)](()=>{const _0x30db2=_0x58b4cc;this['classList'][_0x30db2(0x3c8)](_0x30db2(0x3c6)),this[_0x30db2(0x24a)]='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Matches';})['catch'](_0x9e12ce=>{const _0x47a362=_0x58b4cc;console[_0x47a362(0x5e8)](_0x47a362(0x21c),_0x9e12ce),this[_0x47a362(0x3f1)][_0x47a362(0x3c8)](_0x47a362(0x3c6)),this[_0x47a362(0x24a)]=_0x47a362(0x1d0),setTimeout(()=>{const _0x2805b6=_0x47a362;this[_0x2805b6(0x24a)]=_0x2805b6(0x496);},0xbb8);});}),setupCreateTestMatchButton(),setupCreateTestMatchModal();}if(_0x262f94[_0x2ce0c1(0x287)](_0x2ce0c1(0x367))){const _0x4accb2=document[_0x2ce0c1(0x50a)]('load-ribbons-data');_0x4accb2&&_0x4accb2[_0x2ce0c1(0x368)](_0x2ce0c1(0x583),function(){const _0x6702c5=_0x2ce0c1;console[_0x6702c5(0x1c0)](_0x6702c5(0x420)),this['classList'][_0x6702c5(0x417)](_0x6702c5(0x3c6)),this['innerHTML']=_0x6702c5(0x3ee),loadRibbonsData()[_0x6702c5(0x23f)](()=>{const _0x50598f=_0x6702c5;this[_0x50598f(0x3f1)][_0x50598f(0x3c8)](_0x50598f(0x3c6)),this[_0x50598f(0x24a)]=_0x50598f(0x4ec);})[_0x6702c5(0x1ae)](_0x3b95f7=>{const _0x3150da=_0x6702c5;console[_0x3150da(0x5e8)](_0x3150da(0x2bc),_0x3b95f7),this[_0x3150da(0x3f1)][_0x3150da(0x3c8)](_0x3150da(0x3c6)),this[_0x3150da(0x24a)]=_0x3150da(0x1d0),setTimeout(()=>{const _0x38cb35=_0x3150da;this[_0x38cb35(0x24a)]=_0x38cb35(0x4ec);},0xbb8);});});}console[_0x2ce0c1(0x1c0)](_0x2ce0c1(0x2ff));}function setupDashboardSection(){const _0x1f7689=a4_0x11bc30;document[_0x1f7689(0x50a)](_0x1f7689(0x2a8))[_0x1f7689(0x56a)]='-',document[_0x1f7689(0x50a)](_0x1f7689(0x2ec))[_0x1f7689(0x56a)]='-',document[_0x1f7689(0x50a)](_0x1f7689(0x5ec))[_0x1f7689(0x56a)]='-',document['getElementById'](_0x1f7689(0x293))[_0x1f7689(0x56a)]='-';}function setupLadderSelector(){const _0x39e6a3=a4_0x11bc30,_0x2d5f97=document[_0x39e6a3(0x2ae)]('.ladder-switch\x20input');_0x2d5f97[_0x39e6a3(0x2a1)](_0xc8dc0b=>{const _0x3417cc=_0x39e6a3;_0xc8dc0b['addEventListener'](_0x3417cc(0x401),()=>{const _0x27e4c9=_0x3417cc;currentLadder=_0xc8dc0b[_0x27e4c9(0x57c)],document[_0x27e4c9(0x512)][_0x27e4c9(0x463)](_0x27e4c9(0x454),currentLadder);const _0x56d830=document[_0x27e4c9(0x50a)]('current-ladder-display');_0x56d830&&(_0x56d830[_0x27e4c9(0x56a)]=currentLadder),document['getElementById']('player-count')['textContent']='-',document[_0x27e4c9(0x50a)](_0x27e4c9(0x2ec))['textContent']='-',document[_0x27e4c9(0x50a)]('pending-count')[_0x27e4c9(0x56a)]='-',document['getElementById'](_0x27e4c9(0x293))[_0x27e4c9(0x56a)]='-',charts[_0x27e4c9(0x360)]&&(charts['rankDistribution']['destroy'](),charts[_0x27e4c9(0x360)]=null),charts[_0x27e4c9(0x56c)]&&(charts['activity']['destroy'](),charts[_0x27e4c9(0x56c)]=null),showNotification(_0x27e4c9(0x3ad)+currentLadder+_0x27e4c9(0x2e7),'info');});});const _0xca3f54=document[_0x39e6a3(0x50a)](_0x39e6a3(0x456));_0xca3f54&&(_0xca3f54['textContent']=currentLadder);}async function loadDashboardOverview(){const _0x4d861c=a4_0x11bc30;try{console[_0x4d861c(0x1c0)](_0x4d861c(0x3e3)),document['getElementById'](_0x4d861c(0x2a8))[_0x4d861c(0x56a)]='-',document['getElementById']('match-count')['textContent']='-',document['getElementById'](_0x4d861c(0x5ec))['textContent']='-',document[_0x4d861c(0x50a)]('rejected-count')[_0x4d861c(0x56a)]='-';const _0x39741f=currentLadder==='D1'?_0x4d861c(0x28d):currentLadder==='D2'?_0x4d861c(0x274):_0x4d861c(0x24c),_0xee2fe9=currentLadder==='D1'?_0x4d861c(0x31e):currentLadder==='D2'?_0x4d861c(0x1b5):'approvedMatchesD3',_0x537956=currentLadder==='D1'?_0x4d861c(0x4fa):currentLadder==='D2'?_0x4d861c(0x533):_0x4d861c(0x339),_0x1265a7=currentLadder==='D1'?'RejectedD1':currentLadder==='D2'?_0x4d861c(0x3de):_0x4d861c(0x2fc);console['log'](_0x4d861c(0x30a)+currentLadder+':\x20'+_0x39741f+',\x20'+_0xee2fe9);const _0xb944fd=await getDocs(collection(db,_0x39741f)),_0x4006d9=_0xb944fd[_0x4d861c(0x4f8)],_0x43d821=await getDocs(collection(db,_0xee2fe9)),_0x59f68e=_0x43d821[_0x4d861c(0x4f8)],_0x173126=await getDocs(collection(db,_0x537956)),_0x316b7e=_0x173126[_0x4d861c(0x4f8)],_0xf3fb93=await getDocs(collection(db,_0x1265a7)),_0x36aa50=_0xf3fb93[_0x4d861c(0x4f8)];return document[_0x4d861c(0x50a)](_0x4d861c(0x2a8))[_0x4d861c(0x56a)]=_0x4006d9,document[_0x4d861c(0x50a)](_0x4d861c(0x2ec))[_0x4d861c(0x56a)]=_0x59f68e,document[_0x4d861c(0x50a)](_0x4d861c(0x5ec))[_0x4d861c(0x56a)]=_0x316b7e,document[_0x4d861c(0x50a)](_0x4d861c(0x293))[_0x4d861c(0x56a)]=_0x36aa50,await createRankDistributionChart(),await createActivityChart(),console[_0x4d861c(0x1c0)](_0x4d861c(0x202)),!![];}catch(_0x325fad){console['error']('Error\x20loading\x20dashboard\x20data:',_0x325fad);throw _0x325fad;}}async function createRankDistributionChart(){const _0x5df800=a4_0x11bc30;try{const _0xe7497d=collection(db,currentLadder==='D1'?_0x5df800(0x28d):_0x5df800(0x274)),_0x3d0b9a=await getDocs(_0xe7497d),_0x1737af={'Unranked':0x0,'Bronze':0x0,'Silver':0x0,'Gold':0x0,'Emerald':0x0};_0x3d0b9a[_0x5df800(0x2a1)](_0x3a8c5e=>{const _0x167941=_0x5df800,_0x17672f=_0x3a8c5e[_0x167941(0x524)](),_0x599813=_0x17672f[_0x167941(0x3e4)]||0x4b0;if(_0x599813>=0x7d0)_0x1737af[_0x167941(0x263)]++;else{if(_0x599813>=0x708)_0x1737af['Gold']++;else{if(_0x599813>=0x640)_0x1737af[_0x167941(0x213)]++;else{if(_0x599813>=0x578)_0x1737af[_0x167941(0x226)]++;else _0x1737af['Unranked']++;}}}});const _0x24599b=document[_0x5df800(0x50a)](_0x5df800(0x229));charts['rankDistribution']&&charts[_0x5df800(0x360)]['destroy'](),charts['rankDistribution']=new Chart(_0x24599b,{'type':'doughnut','data':{'labels':Object['keys'](_0x1737af),'datasets':[{'data':Object['values'](_0x1737af),'backgroundColor':[_0x5df800(0x498),_0x5df800(0x50b),_0x5df800(0x29a),'#FFD700',_0x5df800(0x28e)],'borderWidth':0x2}]},'options':{'responsive':!![],'maintainAspectRatio':![],'plugins':{'legend':{'position':_0x5df800(0x594),'labels':{'color':_0x5df800(0x433)}},'title':{'display':!![],'text':currentLadder+_0x5df800(0x51f),'color':_0x5df800(0x433),'font':{'size':0x10}}}}});}catch(_0x239067){console[_0x5df800(0x5e8)](_0x5df800(0x4b5),_0x239067),document[_0x5df800(0x50a)](_0x5df800(0x229))[_0x5df800(0x24a)]=_0x5df800(0x217);}}async function createActivityChart(){const _0x499239=a4_0x11bc30;try{const _0x51f747=currentLadder==='D1'?_0x499239(0x31e):_0x499239(0x1b5),_0x165270=collection(db,_0x51f747),_0xfb92f3=new Date();_0xfb92f3['setDate'](_0xfb92f3['getDate']()-0x7);const _0x43b35d=query(_0x165270,where(_0x499239(0x21f),'>=',_0xfb92f3),orderBy('approvedAt','asc')),_0x1151c0=await getDocs(_0x43b35d),_0xaa5e1a=[_0x499239(0x517),_0x499239(0x57d),'Tuesday',_0x499239(0x27d),_0x499239(0x554),_0x499239(0x53f),_0x499239(0x31b)],_0x3cfaa1=_0xaa5e1a[_0x499239(0x2c0)]((_0x29231a,_0x17f2c6)=>({..._0x29231a,[_0x17f2c6]:0x0}),{});_0x1151c0[_0x499239(0x2a1)](_0x2a9c34=>{const _0x23a1a3=_0x499239,_0x185d53=_0x2a9c34[_0x23a1a3(0x524)]();if(_0x185d53['approvedAt']){const _0x3a0d74=_0xaa5e1a[new Date(_0x185d53[_0x23a1a3(0x21f)][_0x23a1a3(0x387)]*0x3e8)[_0x23a1a3(0x2af)]()];_0x3cfaa1[_0x3a0d74]++;}});const _0x291a56=document[_0x499239(0x50a)](_0x499239(0x41c));charts['activity']&&charts[_0x499239(0x56c)][_0x499239(0x3cd)](),charts[_0x499239(0x56c)]=new Chart(_0x291a56,{'type':_0x499239(0x19b),'data':{'labels':_0xaa5e1a,'datasets':[{'label':_0x499239(0x33e),'data':_0xaa5e1a['map'](_0x1b417b=>_0x3cfaa1[_0x1b417b]),'backgroundColor':currentLadder==='D1'?_0x499239(0x561):_0x499239(0x55d),'borderColor':currentLadder==='D1'?'#d32f2f':_0x499239(0x209),'borderWidth':0x1}]},'options':{'responsive':!![],'maintainAspectRatio':![],'scales':{'y':{'beginAtZero':!![],'ticks':{'color':'#e0e0e0'},'grid':{'color':_0x499239(0x529)}},'x':{'ticks':{'color':_0x499239(0x433)},'grid':{'color':_0x499239(0x529)}}},'plugins':{'legend':{'labels':{'color':'#e0e0e0'}},'title':{'display':!![],'text':currentLadder+_0x499239(0x5e7),'color':'#e0e0e0','font':{'size':0x10}}}}});}catch(_0xd520aa){console[_0x499239(0x5e8)](_0x499239(0x487),_0xd520aa),document[_0x499239(0x50a)](_0x499239(0x41c))['innerHTML']=_0x499239(0x217);}}async function loadPlayersData(){const _0x23872b=a4_0x11bc30,_0xc5b14e=document[_0x23872b(0x50a)](_0x23872b(0x300));if(!_0xc5b14e)return;_0xc5b14e[_0x23872b(0x24a)]='<tr><td\x20colspan=\x226\x22\x20class=\x22loading-cell\x22>Loading\x20players...</td></tr>';try{let _0x331dfd=_0x23872b(0x28d);if(currentLadder==='D2')_0x331dfd=_0x23872b(0x274);else currentLadder==='D3'&&(_0x331dfd='playersD3');console['log'](_0x23872b(0x48b)+_0x331dfd+_0x23872b(0x1e6));const _0x4f3b91=collection(db,_0x331dfd),_0x5813d7=query(_0x4f3b91,orderBy(_0x23872b(0x3e4),_0x23872b(0x4ba))),_0x176307=await getDocs(_0x5813d7);if(_0x176307[_0x23872b(0x234)]){_0xc5b14e['innerHTML']=_0x23872b(0x38c);return;}_0xc5b14e[_0x23872b(0x24a)]='';let _0x23f2d5=0x1;_0x176307[_0x23872b(0x2a1)](_0x2a4aaf=>{const _0x3d444b=_0x23872b,_0x45e5d1=_0x2a4aaf['data'](),_0xc866b=getRankFromElo(_0x45e5d1[_0x3d444b(0x3e4)]||0x4b0),_0x11def4=getRankStyle(_0x45e5d1[_0x3d444b(0x3e4)]||0x4b0),_0xb477a2=document['createElement']('tr');_0xb477a2['innerHTML']=_0x3d444b(0x2d2)+_0x23f2d5+_0x3d444b(0x4a7)+_0x11def4[_0x3d444b(0x54e)]+_0x3d444b(0x2e2)+(_0x45e5d1[_0x3d444b(0x53b)]||_0x3d444b(0x426))+_0x3d444b(0x5eb)+(_0x45e5d1[_0x3d444b(0x3e4)]||0x4b0)+_0x3d444b(0x4bd)+_0x11def4['color']+_0x3d444b(0x210)+_0xc866b+_0x3d444b(0x2c6)+(_0x45e5d1[_0x3d444b(0x514)]||0x0)+_0x3d444b(0x20b)+(_0x45e5d1[_0x3d444b(0x3b3)]||0x0)+_0x3d444b(0x541)+_0x2a4aaf['id']+_0x3d444b(0x19d)+_0x2a4aaf['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0xc5b14e[_0x3d444b(0x476)](_0xb477a2),_0x23f2d5++;}),setupPlayerActionButtons();}catch(_0x254cf5){console[_0x23872b(0x5e8)]('Error\x20loading\x20players:',_0x254cf5),_0xc5b14e[_0x23872b(0x24a)]=_0x23872b(0x36e)+_0x254cf5[_0x23872b(0x4f7)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}function getRankFromElo(_0x4cadd2){const _0x146287=a4_0x11bc30;if(_0x4cadd2>=0x7d0)return _0x146287(0x263);if(_0x4cadd2>=0x708)return'Gold';if(_0x4cadd2>=0x640)return _0x146287(0x213);if(_0x4cadd2>=0x578)return _0x146287(0x226);return'Unranked';}function setupPlayerActionButtons(){const _0x3a409a=a4_0x11bc30;document[_0x3a409a(0x2ae)]('.edit-btn')[_0x3a409a(0x2a1)](_0x4afdd6=>{const _0x31d88b=_0x3a409a;_0x4afdd6[_0x31d88b(0x368)](_0x31d88b(0x583),async _0x46aa53=>{const _0xefec38=_0x31d88b,_0x27ace6=_0x46aa53['currentTarget'][_0xefec38(0x303)]['id'];openEditPlayerModal(_0x27ace6);});}),document[_0x3a409a(0x2ae)]('.delete-btn')[_0x3a409a(0x2a1)](_0x53d886=>{const _0x7778e0=_0x3a409a;_0x53d886['addEventListener'](_0x7778e0(0x583),async _0x448a2e=>{const _0x42e688=_0x7778e0,_0xa62828=_0x448a2e[_0x42e688(0x193)][_0x42e688(0x303)]['id'];confirmDeletePlayer(_0xa62828);});});}async function openEditPlayerModal(_0x3c31ad){const _0x3f43f9=a4_0x11bc30;try{const _0x48f670=currentLadder==='D1'?_0x3f43f9(0x28d):_0x3f43f9(0x274),_0x274552=doc(db,_0x48f670,_0x3c31ad),_0x3a765e=await getDoc(_0x274552);if(!_0x3a765e[_0x3f43f9(0x46c)]()){showNotification(_0x3f43f9(0x5b2),'error');return;}const _0x171d54=_0x3a765e['data'](),_0x24cc8d=document['getElementById'](_0x3f43f9(0x5d1)),_0x87b2b4=document[_0x3f43f9(0x50a)]('edit-username'),_0x570468=document[_0x3f43f9(0x50a)](_0x3f43f9(0x471)),_0xcae187=document[_0x3f43f9(0x50a)]('edit-wins'),_0x5730a9=document[_0x3f43f9(0x50a)]('edit-losses');_0x87b2b4[_0x3f43f9(0x57c)]=_0x171d54['username']||'',_0x570468[_0x3f43f9(0x57c)]=_0x171d54['eloRating']||0x4b0,_0xcae187['value']=_0x171d54[_0x3f43f9(0x514)]||0x0,_0x5730a9['value']=_0x171d54[_0x3f43f9(0x3b3)]||0x0,_0x24cc8d[_0x3f43f9(0x303)][_0x3f43f9(0x22d)]=_0x3c31ad,_0x24cc8d[_0x3f43f9(0x3f1)][_0x3f43f9(0x417)]('active');}catch(_0x20979b){console[_0x3f43f9(0x5e8)](_0x3f43f9(0x2f7),_0x20979b),showNotification(_0x3f43f9(0x597),_0x3f43f9(0x5e8));}}async function saveEditedPlayer(){const _0x17053b=a4_0x11bc30;try{const _0x3e5100=document[_0x17053b(0x50a)](_0x17053b(0x5d1)),_0x32a1f5=_0x3e5100[_0x17053b(0x303)][_0x17053b(0x22d)];if(!_0x32a1f5){showNotification('No\x20player\x20selected',_0x17053b(0x5e8));return;}const _0x4cd7cb=document['getElementById'](_0x17053b(0x1b6)),_0x29e6e7=document['getElementById'](_0x17053b(0x471)),_0x17cafa=document[_0x17053b(0x50a)](_0x17053b(0x1ef)),_0x3926d1=document[_0x17053b(0x50a)](_0x17053b(0x548)),_0x4465ff=_0x4cd7cb['value'][_0x17053b(0x515)](),_0xc42377=parseInt(_0x29e6e7['value']),_0x813af4=parseInt(_0x17cafa[_0x17053b(0x57c)]),_0x50c6f3=parseInt(_0x3926d1[_0x17053b(0x57c)]);if(!_0x4465ff||isNaN(_0xc42377)){showNotification(_0x17053b(0x448),_0x17053b(0x5e8));return;}const _0x439b58=currentLadder==='D1'?_0x17053b(0x28d):_0x17053b(0x274),_0x30d4d2=doc(db,_0x439b58,_0x32a1f5),_0x40ea54=await getDoc(_0x30d4d2),_0x1b4b79=_0x40ea54[_0x17053b(0x46c)]()?_0x40ea54[_0x17053b(0x524)]():{},_0x560d7e=_0x1b4b79[_0x17053b(0x3e4)]||0x4b0;await updateDoc(_0x30d4d2,{'username':_0x4465ff,'eloRating':_0xc42377,'wins':_0x813af4||0x0,'losses':_0x50c6f3||0x0,'lastModifiedAt':serverTimestamp(),'lastModifiedBy':auth['currentUser'][_0x17053b(0x20d)]});if(_0xc42377!==_0x560d7e){const _0x2a68db=currentLadder==='D1'?_0x17053b(0x5d7):_0x17053b(0x1bc);await addDoc(collection(db,_0x2a68db),{'player':_0x4465ff,'previousElo':_0x560d7e,'newElo':_0xc42377,'timestamp':serverTimestamp(),'type':_0x17053b(0x52c),'modifiedBy':auth[_0x17053b(0x4c4)][_0x17053b(0x20d)],'gameMode':currentLadder});}closeEditPlayerModal(),loadPlayersData(),showNotification(_0x17053b(0x31a),_0x17053b(0x284));}catch(_0x3138f7){console[_0x17053b(0x5e8)]('Error\x20updating\x20player:',_0x3138f7),showNotification('Failed\x20to\x20update\x20player:\x20'+_0x3138f7[_0x17053b(0x4f7)],'error');}}function closeEditPlayerModal(){const _0x2b6ddf=a4_0x11bc30,_0x4b2927=document[_0x2b6ddf(0x50a)](_0x2b6ddf(0x5d1));_0x4b2927[_0x2b6ddf(0x3f1)][_0x2b6ddf(0x3c8)]('active'),_0x4b2927['dataset'][_0x2b6ddf(0x22d)]='';}async function confirmDeletePlayer(_0x30f86f){const _0x4d56b6=a4_0x11bc30;if(confirm(_0x4d56b6(0x28b)))try{const _0x1228de=currentLadder==='D1'?_0x4d56b6(0x28d):_0x4d56b6(0x274);await deleteDoc(doc(db,_0x1228de,_0x30f86f)),loadPlayersData(),showNotification(_0x4d56b6(0x32f),_0x4d56b6(0x284));}catch(_0x5abc61){console[_0x4d56b6(0x5e8)](_0x4d56b6(0x3cb),_0x5abc61),showNotification('Failed\x20to\x20delete\x20player:\x20'+_0x5abc61['message'],_0x4d56b6(0x5e8));}}async function setupManagePlayersSection(){const _0x300732=a4_0x11bc30,_0x64f3df=document[_0x300732(0x50a)]('add-player-form');_0x64f3df&&_0x64f3df['addEventListener'](_0x300732(0x49a),async _0x13fb83=>{const _0x24bb3a=_0x300732;_0x13fb83[_0x24bb3a(0x37d)](),await addNewPlayer();});const _0x19dc40=document['getElementById'](_0x300732(0x51e));_0x19dc40&&_0x19dc40['addEventListener'](_0x300732(0x352),debounce(filterPlayerTable,0x12c));const _0x3518c1=document[_0x300732(0x50a)](_0x300732(0x2d4));_0x3518c1&&_0x3518c1[_0x300732(0x368)](_0x300732(0x583),saveEditedPlayer);const _0x421677=document[_0x300732(0x50a)]('cancel-edit-btn');_0x421677&&_0x421677['addEventListener'](_0x300732(0x583),closeEditPlayerModal);const _0x9f0a42=document[_0x300732(0x50a)]('edit-player-modal');_0x9f0a42&&_0x9f0a42['addEventListener']('click',_0x548c13=>{const _0x13bdc6=_0x300732;_0x548c13[_0x13bdc6(0x5d8)]===_0x9f0a42&&closeEditPlayerModal();});const _0x1f5ac6=document[_0x300732(0x50a)]('players-ladder-selector');_0x1f5ac6&&_0x1f5ac6['addEventListener'](_0x300732(0x401),()=>{const _0xdde672=_0x300732;currentLadder=_0x1f5ac6[_0xdde672(0x57c)],loadPlayersData();});}async function addNewPlayer(){const _0xa6e994=a4_0x11bc30;try{const _0x250356=document[_0xa6e994(0x50a)]('new-player-username'),_0x34d0cb=document[_0xa6e994(0x50a)](_0xa6e994(0x346)),_0x296bcf=_0x250356[_0xa6e994(0x57c)][_0xa6e994(0x515)](),_0x3270d3=parseInt(_0x34d0cb['value'])||0x4b0;if(!_0x296bcf){alert('Please\x20enter\x20a\x20valid\x20username');return;}console[_0xa6e994(0x1c0)](_0xa6e994(0x3d2)+_0x296bcf+'\x20with\x20ELO\x20'+_0x3270d3+_0xa6e994(0x469)+currentLadder+_0xa6e994(0x1f4));let _0xa9f5fd=_0xa6e994(0x28d),_0x526db6=_0xa6e994(0x5d7);if(currentLadder==='D2')_0xa9f5fd='playersD2',_0x526db6=_0xa6e994(0x1bc);else currentLadder==='D3'&&(_0xa9f5fd=_0xa6e994(0x24c),_0x526db6='eloHistoryD3');const _0x447182=query(collection(db,_0xa9f5fd),where(_0xa6e994(0x53b),'==',_0x296bcf)),_0x5d2253=await getDocs(_0x447182);if(!_0x5d2253[_0xa6e994(0x234)]){alert('Username\x20'+_0x296bcf+_0xa6e994(0x4cb)+currentLadder+_0xa6e994(0x1f4));return;}const _0x5394fa=auth[_0xa6e994(0x4c4)],_0x1920ee={'username':_0x296bcf,'eloRating':_0x3270d3,'wins':0x0,'losses':0x0,'createdAt':serverTimestamp(),'createdBy':_0x5394fa?_0x5394fa[_0xa6e994(0x20d)]:_0xa6e994(0x451),'gameMode':currentLadder};await addDoc(collection(db,_0xa9f5fd),_0x1920ee),await addDoc(collection(db,_0x526db6),{'player':_0x296bcf,'previousElo':0x4b0,'newElo':_0x3270d3,'timestamp':serverTimestamp(),'type':_0xa6e994(0x447),'placedBy':_0x5394fa?_0x5394fa[_0xa6e994(0x20d)]:'admin','gameMode':currentLadder}),_0x250356[_0xa6e994(0x57c)]='',_0x34d0cb[_0xa6e994(0x57c)]=_0xa6e994(0x422),alert(_0xa6e994(0x5e2)+_0x296bcf+_0xa6e994(0x3b4)+currentLadder+_0xa6e994(0x566)),loadPlayersData();}catch(_0x499ad1){console['error'](_0xa6e994(0x4ca),_0x499ad1),alert(_0xa6e994(0x2d5)+_0x499ad1[_0xa6e994(0x4f7)]);}}document['addEventListener'](a4_0x11bc30(0x4cc),()=>{const _0x19ddc3=a4_0x11bc30,_0x367181=document['getElementById'](_0x19ddc3(0x32b));_0x367181&&_0x367181[_0x19ddc3(0x368)](_0x19ddc3(0x49a),_0x2e09e0=>{const _0x526ac2=_0x19ddc3;_0x2e09e0[_0x526ac2(0x37d)](),addNewPlayer();});});function filterPlayerTable(){const _0xa0cd3e=a4_0x11bc30,_0x1fe9b0=document[_0xa0cd3e(0x50a)](_0xa0cd3e(0x51e))[_0xa0cd3e(0x57c)][_0xa0cd3e(0x262)](),_0x56edf9=document['querySelectorAll']('#players-table-body\x20tr');let _0x43ac46=0x0;_0x56edf9['forEach'](_0x43c279=>{const _0x1e4eb1=_0xa0cd3e,_0x11662b=_0x43c279[_0x1e4eb1(0x2be)](_0x1e4eb1(0x318))?.[_0x1e4eb1(0x56a)][_0x1e4eb1(0x262)]()||'';_0x11662b['includes'](_0x1fe9b0)?(_0x43c279[_0x1e4eb1(0x416)][_0x1e4eb1(0x1a1)]='',_0x43ac46++):_0x43c279[_0x1e4eb1(0x416)][_0x1e4eb1(0x1a1)]=_0x1e4eb1(0x1e3);});const _0x4a0ef5=document[_0xa0cd3e(0x50a)](_0xa0cd3e(0x335));_0x4a0ef5&&(_0x43ac46===0x0&&_0x1fe9b0!==''?_0x4a0ef5[_0xa0cd3e(0x416)][_0xa0cd3e(0x1a1)]='block':_0x4a0ef5[_0xa0cd3e(0x416)][_0xa0cd3e(0x1a1)]=_0xa0cd3e(0x1e3));}function debounce(_0x4c38cf,_0x5435af){let _0x3e505a;return function(..._0x2bc572){const _0x15c293=a4_0x128d;clearTimeout(_0x3e505a),_0x3e505a=setTimeout(()=>_0x4c38cf[_0x15c293(0x35b)](this,_0x2bc572),_0x5435af);};}async function loadEloHistory(_0x551733=0x1){const _0x502691=a4_0x11bc30,_0x5770c0=document[_0x502691(0x50a)]('elo-history-table-body'),_0x29ac1a=currentLadder['toLowerCase']();if(!_0x5770c0)return;_0x5770c0['innerHTML']=_0x502691(0x482);try{const _0x319120=currentLadder==='D1'?_0x502691(0x5d7):currentLadder==='D2'?'eloHistoryD2':_0x502691(0x2aa),_0xf2a888=collection(db,_0x319120);let _0x184f4e;if(_0x551733>eloHistoryPagination[_0x29ac1a][_0x502691(0x410)]&&eloHistoryPagination[_0x29ac1a][_0x502691(0x1aa)])_0x184f4e=query(_0xf2a888,orderBy('timestamp','desc'),startAfter(eloHistoryPagination[_0x29ac1a][_0x502691(0x1aa)]),limit(PAGE_SIZE));else _0x551733<eloHistoryPagination[_0x29ac1a]['page']&&eloHistoryPagination[_0x29ac1a]['firstVisible']?_0x184f4e=query(_0xf2a888,orderBy(_0x502691(0x1b1),'desc'),endBefore(eloHistoryPagination[_0x29ac1a][_0x502691(0x3f6)]),limitToLast(PAGE_SIZE)):_0x184f4e=query(_0xf2a888,orderBy(_0x502691(0x1b1),_0x502691(0x4ba)),limit(PAGE_SIZE));const _0x2f341d=await getDocs(_0x184f4e);if(_0x2f341d[_0x502691(0x234)]){_0x5770c0[_0x502691(0x24a)]=_0x502691(0x1ed),document[_0x502691(0x50a)](_0x29ac1a+_0x502691(0x38b))[_0x502691(0x56a)]='Page\x201';return;}eloHistoryPagination[_0x29ac1a]['page']=_0x551733,eloHistoryPagination[_0x29ac1a][_0x502691(0x3f6)]=_0x2f341d['docs'][0x0],eloHistoryPagination[_0x29ac1a]['lastVisible']=_0x2f341d['docs'][_0x2f341d[_0x502691(0x485)]['length']-0x1];const _0x16b229=new Map();_0x5770c0[_0x502691(0x24a)]='';const _0x188d55=async _0x550cb1=>{const _0x3b6175=_0x502691;if(typeof _0x550cb1!==_0x3b6175(0x241)||_0x550cb1[_0x3b6175(0x49f)]<0x14||/[^a-zA-Z0-9-_]/['test'](_0x550cb1))return _0x550cb1;if(_0x16b229['has'](_0x550cb1))return _0x16b229[_0x3b6175(0x458)](_0x550cb1);try{for(const _0x4934eb of[_0x3b6175(0x28d),'playersD2',_0x3b6175(0x24c),_0x3b6175(0x5bb)]){const _0x4603d7=await getDoc(doc(db,_0x4934eb,_0x550cb1));if(_0x4603d7['exists']()&&_0x4603d7['data']()[_0x3b6175(0x53b)]){const _0x11c7cb=_0x4603d7[_0x3b6175(0x524)]()[_0x3b6175(0x53b)];return _0x16b229[_0x3b6175(0x224)](_0x550cb1,_0x11c7cb),_0x11c7cb;}}return _0x550cb1;}catch(_0x135777){return console['warn'](_0x3b6175(0x1ca)+_0x550cb1+':',_0x135777),_0x550cb1;}};for(const _0x263602 of _0x2f341d['docs']){const _0x1e37dd=_0x263602[_0x502691(0x524)](),_0x5b5709=document[_0x502691(0x1b8)]('tr'),_0x2d5d14=_0x1e37dd[_0x502691(0x1b1)]?new Date(_0x1e37dd[_0x502691(0x1b1)][_0x502691(0x387)]*0x3e8)['toLocaleString']():_0x502691(0x545),_0x53c3d4=_0x1e37dd[_0x502691(0x53e)]-_0x1e37dd[_0x502691(0x59e)],_0x4d0bf0=_0x53c3d4>0x0?_0x502691(0x59a):_0x53c3d4<0x0?_0x502691(0x2dd):'',_0x29eee0=_0x53c3d4>0x0?'+':'',_0x2fcbe2=_0x1e37dd[_0x502691(0x2a0)]||_0x1e37dd[_0x502691(0x53b)]||_0x1e37dd[_0x502691(0x3f9)]||'N/A',_0x1ea57c=await _0x188d55(_0x2fcbe2);_0x5b5709[_0x502691(0x24a)]=_0x502691(0x45b)+_0x2d5d14+_0x502691(0x503)+_0x1ea57c+_0x502691(0x353)+(_0x1e37dd[_0x502691(0x59e)]||_0x502691(0x545))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22new-elo\x22>'+(_0x1e37dd[_0x502691(0x53e)]||_0x502691(0x545))+_0x502691(0x3a7)+_0x4d0bf0+'\x22>'+_0x29eee0+_0x53c3d4+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22type\x22>'+formatHistoryType(_0x1e37dd['type'])+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22admin-action\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1e37dd['modifiedBy']||_0x1e37dd[_0x502691(0x4d3)]||_0x1e37dd[_0x502691(0x21a)]||'System')+_0x502691(0x2ca),_0x5770c0[_0x502691(0x476)](_0x5b5709);}document['getElementById'](_0x29ac1a+_0x502691(0x38b))[_0x502691(0x56a)]=_0x502691(0x41e)+_0x551733;const _0x155d9f=document[_0x502691(0x50a)](_0x29ac1a+_0x502691(0x46f)),_0x4749af=document[_0x502691(0x50a)](_0x29ac1a+'-next-page');if(_0x155d9f)_0x155d9f[_0x502691(0x508)]=_0x551733<=0x1;const _0x3cc8f4=query(_0xf2a888,orderBy(_0x502691(0x1b1),'desc'),startAfter(eloHistoryPagination[_0x29ac1a][_0x502691(0x1aa)]),limit(0x1)),_0x50e08a=await getDocs(_0x3cc8f4);if(_0x4749af)_0x4749af[_0x502691(0x508)]=_0x50e08a[_0x502691(0x234)];}catch(_0x2cc9a5){console['error'](_0x502691(0x5f0),_0x2cc9a5),_0x5770c0['innerHTML']=_0x502691(0x3d1)+_0x2cc9a5[_0x502691(0x4f7)]+_0x502691(0x1d8);}}function formatHistoryType(_0x315c1e){const _0x32bf83=a4_0x11bc30;switch(_0x315c1e){case _0x32bf83(0x511):return'Match\x20Result';case _0x32bf83(0x591):return _0x32bf83(0x3f3);case _0x32bf83(0x2ea):return _0x32bf83(0x573);case _0x32bf83(0x52c):return _0x32bf83(0x48c);case _0x32bf83(0x447):return _0x32bf83(0x197);default:return _0x315c1e||'Unknown';}}function setupEloHistorySection(){const _0xd707c5=a4_0x11bc30;document[_0xd707c5(0x50a)](_0xd707c5(0x440))['addEventListener'](_0xd707c5(0x583),()=>{const _0x4b0771=_0xd707c5;loadEloHistory(eloHistoryPagination['d1'][_0x4b0771(0x410)]-0x1);}),document[_0xd707c5(0x50a)](_0xd707c5(0x5d3))[_0xd707c5(0x368)](_0xd707c5(0x583),()=>{const _0x5c84f1=_0xd707c5;loadEloHistory(eloHistoryPagination['d1'][_0x5c84f1(0x410)]+0x1);}),document[_0xd707c5(0x50a)](_0xd707c5(0x3a2))['addEventListener'](_0xd707c5(0x583),()=>{const _0x44495f=_0xd707c5;loadEloHistory(eloHistoryPagination['d2'][_0x44495f(0x410)]-0x1);}),document[_0xd707c5(0x50a)](_0xd707c5(0x23e))[_0xd707c5(0x368)](_0xd707c5(0x583),()=>{const _0x14f016=_0xd707c5;loadEloHistory(eloHistoryPagination['d2'][_0x14f016(0x410)]+0x1);});const _0x6f9a14=document['getElementById'](_0xd707c5(0x572)),_0x449f8a=document[_0xd707c5(0x50a)](_0xd707c5(0x4fe));_0x6f9a14&&_0x6f9a14[_0xd707c5(0x368)](_0xd707c5(0x583),()=>{loadEloHistory(eloHistoryPagination['d3']['page']-0x1);});_0x449f8a&&_0x449f8a[_0xd707c5(0x368)]('click',()=>{const _0x328d0c=_0xd707c5;loadEloHistory(eloHistoryPagination['d3'][_0x328d0c(0x410)]+0x1);});const _0x38e951=document[_0xd707c5(0x50a)](_0xd707c5(0x4c7));_0x38e951&&_0x38e951['addEventListener'](_0xd707c5(0x352),debounce(filterEloHistoryTable,0x12c));const _0x395d42=document[_0xd707c5(0x50a)](_0xd707c5(0x35d));_0x395d42&&_0x395d42[_0xd707c5(0x368)]('change',applyEloHistoryFilters);const _0x3d7ef8=document[_0xd707c5(0x50a)](_0xd707c5(0x58e));_0x3d7ef8&&_0x3d7ef8[_0xd707c5(0x368)]('click',resetEloHistoryFilters);}function filterEloHistoryTable(){const _0x5a0d5c=a4_0x11bc30,_0x2301cd=document[_0x5a0d5c(0x50a)](_0x5a0d5c(0x4c7))[_0x5a0d5c(0x57c)]['toLowerCase'](),_0x1c2c45=document['querySelectorAll'](_0x5a0d5c(0x44e));let _0x5d0348=0x0;_0x1c2c45[_0x5a0d5c(0x2a1)](_0x50c666=>{const _0x500a58=_0x5a0d5c;if(_0x50c666[_0x500a58(0x3f1)]['contains']('loading-cell')||_0x50c666[_0x500a58(0x3f1)][_0x500a58(0x3ab)](_0x500a58(0x1d3))||_0x50c666[_0x500a58(0x3f1)][_0x500a58(0x3ab)]('error-state'))return;const _0x1bae3f=_0x50c666[_0x500a58(0x2be)](_0x500a58(0x1d1))?.[_0x500a58(0x56a)][_0x500a58(0x262)]()||'',_0x33d55c=_0x50c666[_0x500a58(0x2be)](_0x500a58(0x3f2))?.[_0x500a58(0x56a)]['toLowerCase']()||'',_0xe5c929=_0x50c666[_0x500a58(0x2be)](_0x500a58(0x413))?.[_0x500a58(0x56a)][_0x500a58(0x262)]()||'';_0x1bae3f[_0x500a58(0x287)](_0x2301cd)||_0x33d55c[_0x500a58(0x287)](_0x2301cd)||_0xe5c929[_0x500a58(0x287)](_0x2301cd)?(_0x50c666[_0x500a58(0x416)][_0x500a58(0x1a1)]='',_0x5d0348++):_0x50c666[_0x500a58(0x416)][_0x500a58(0x1a1)]=_0x500a58(0x1e3);});}async function applyEloHistoryFilters(){const _0x34069c=a4_0x11bc30,_0x28086c=document['getElementById'](_0x34069c(0x4a8))[_0x34069c(0x57c)],_0x2f493f=document['getElementById'](_0x34069c(0x20e))[_0x34069c(0x57c)],_0x382678=document['getElementById'](_0x34069c(0x35d))[_0x34069c(0x57c)],_0x204d68=currentLadder[_0x34069c(0x262)]();eloHistoryPagination[_0x204d68]={'page':0x1,'lastVisible':null,'firstVisible':null};const _0x1294c3=document[_0x34069c(0x50a)](_0x34069c(0x395));_0x1294c3[_0x34069c(0x24a)]=_0x34069c(0x459);try{const _0x4819f8=currentLadder==='D1'?_0x34069c(0x5d7):_0x34069c(0x1bc),_0x104064=collection(db,_0x4819f8);let _0x1d8965=[orderBy(_0x34069c(0x1b1),_0x34069c(0x4ba))];if(_0x28086c){const _0x5ae389=new Date(_0x28086c);_0x5ae389[_0x34069c(0x2a9)](0x0,0x0,0x0,0x0),_0x1d8965[_0x34069c(0x5da)](where(_0x34069c(0x1b1),'>=',_0x5ae389));}if(_0x2f493f){const _0x17417f=new Date(_0x2f493f);_0x17417f[_0x34069c(0x2a9)](0x17,0x3b,0x3b,0x3e7),_0x1d8965[_0x34069c(0x5da)](where(_0x34069c(0x1b1),'<=',_0x17417f));}_0x382678&&_0x382678!==_0x34069c(0x264)&&_0x1d8965[_0x34069c(0x5da)](where(_0x34069c(0x214),'==',_0x382678));_0x1d8965[_0x34069c(0x5da)](limit(PAGE_SIZE));const _0x44e338=query(_0x104064,..._0x1d8965),_0x2b85a0=await getDocs(_0x44e338);!_0x2b85a0[_0x34069c(0x234)]&&(eloHistoryPagination[_0x204d68][_0x34069c(0x3f6)]=_0x2b85a0[_0x34069c(0x485)][0x0],eloHistoryPagination[_0x204d68][_0x34069c(0x1aa)]=_0x2b85a0['docs'][_0x2b85a0[_0x34069c(0x485)][_0x34069c(0x49f)]-0x1]);_0x1294c3['innerHTML']='';if(_0x2b85a0[_0x34069c(0x234)]){_0x1294c3[_0x34069c(0x24a)]='<tr><td\x20colspan=\x227\x22\x20class=\x22empty-state\x22>No\x20matches\x20found\x20for\x20the\x20selected\x20filters</td></tr>';return;}_0x2b85a0[_0x34069c(0x2a1)](_0x287800=>{const _0x41fe51=_0x34069c,_0x549d1e=_0x287800[_0x41fe51(0x524)](),_0x5ad942=document[_0x41fe51(0x1b8)]('tr'),_0x1c05b1=_0x549d1e[_0x41fe51(0x1b1)]?new Date(_0x549d1e[_0x41fe51(0x1b1)][_0x41fe51(0x387)]*0x3e8)[_0x41fe51(0x259)]():_0x41fe51(0x545),_0x2e622f=_0x549d1e[_0x41fe51(0x53e)]-_0x549d1e['previousElo'],_0x5cd289=_0x2e622f>0x0?'positive-change':_0x2e622f<0x0?_0x41fe51(0x2dd):'',_0x62587=_0x2e622f>0x0?'+':'',_0x159257=_0x549d1e[_0x41fe51(0x2a0)]||_0x549d1e[_0x41fe51(0x53b)]||_0x549d1e[_0x41fe51(0x3f9)]||_0x41fe51(0x545);_0x5ad942['innerHTML']=_0x41fe51(0x45b)+_0x1c05b1+_0x41fe51(0x503)+_0x159257+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22previous-elo\x22>'+(_0x549d1e[_0x41fe51(0x59e)]||_0x41fe51(0x545))+_0x41fe51(0x37b)+(_0x549d1e[_0x41fe51(0x53e)]||_0x41fe51(0x545))+_0x41fe51(0x3a7)+_0x5cd289+'\x22>'+_0x62587+_0x2e622f+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22type\x22>'+formatHistoryType(_0x549d1e[_0x41fe51(0x214)])+_0x41fe51(0x3d5)+(_0x549d1e['modifiedBy']||_0x549d1e[_0x41fe51(0x4d3)]||_0x549d1e[_0x41fe51(0x21a)]||'System')+_0x41fe51(0x2ca),_0x1294c3[_0x41fe51(0x476)](_0x5ad942);}),document['getElementById'](_0x204d68+_0x34069c(0x38b))[_0x34069c(0x56a)]=_0x34069c(0x26e);}catch(_0x2094b4){console[_0x34069c(0x5e8)](_0x34069c(0x347),_0x2094b4),_0x1294c3[_0x34069c(0x24a)]=_0x34069c(0x33c)+_0x2094b4[_0x34069c(0x4f7)]+_0x34069c(0x1d8);}}function resetEloHistoryFilters(){const _0xe73597=a4_0x11bc30;document[_0xe73597(0x50a)]('history-start-date')[_0xe73597(0x57c)]='',document['getElementById'](_0xe73597(0x20e))[_0xe73597(0x57c)]='',document['getElementById'](_0xe73597(0x35d))[_0xe73597(0x57c)]=_0xe73597(0x264),document['getElementById'](_0xe73597(0x4c7))[_0xe73597(0x57c)]='';const _0x53a289=currentLadder['toLowerCase']();eloHistoryPagination[_0x53a289]={'page':0x1,'lastVisible':null,'firstVisible':null},loadEloHistory(0x1);}function setupRankControls(){const _0x55dcc6=a4_0x11bc30,_0x442d95=document[_0x55dcc6(0x50a)](_0x55dcc6(0x20f)),_0x5a53dd=document[_0x55dcc6(0x50a)]('promote-modal'),_0x10c583=document[_0x55dcc6(0x50a)](_0x55dcc6(0x3ba));_0x442d95&&_0x5a53dd&&_0x10c583&&(_0x442d95[_0x55dcc6(0x368)](_0x55dcc6(0x583),()=>{const _0x28ad2f=_0x55dcc6;_0x5a53dd[_0x28ad2f(0x3f1)][_0x28ad2f(0x417)](_0x28ad2f(0x381));}),_0x5a53dd[_0x55dcc6(0x368)](_0x55dcc6(0x583),_0x467f85=>{const _0x326203=_0x55dcc6;_0x467f85[_0x326203(0x5d8)]===_0x5a53dd&&_0x5a53dd['classList']['remove'](_0x326203(0x381));}),_0x10c583[_0x55dcc6(0x368)](_0x55dcc6(0x49a),async _0xad9b07=>{const _0x16cdd7=_0x55dcc6;_0xad9b07[_0x16cdd7(0x37d)]();const _0x30c0b6=document[_0x16cdd7(0x50a)]('promote-username'),_0x18062b=document[_0x16cdd7(0x50a)]('promote-ladder'),_0x5dd8c4=_0x30c0b6[_0x16cdd7(0x57c)]['trim'](),_0x180bbc=_0x18062b[_0x16cdd7(0x57c)];if(!_0x5dd8c4){showNotification('Please\x20enter\x20a\x20username',_0x16cdd7(0x5e8));return;}try{await promotePlayer(_0x5dd8c4,_0x180bbc),_0x5a53dd['classList'][_0x16cdd7(0x3c8)]('active'),_0x30c0b6[_0x16cdd7(0x57c)]='';}catch(_0x5be437){showNotification(_0x5be437['message'],_0x16cdd7(0x5e8));}}),document[_0x55dcc6(0x50a)](_0x55dcc6(0x324))[_0x55dcc6(0x368)](_0x55dcc6(0x583),()=>{const _0xc30d4f=_0x55dcc6;_0x5a53dd[_0xc30d4f(0x3f1)][_0xc30d4f(0x3c8)](_0xc30d4f(0x381));}));const _0x513b18=document[_0x55dcc6(0x50a)](_0x55dcc6(0x4bf)),_0x3eb5a4=document[_0x55dcc6(0x50a)]('demote-modal'),_0x2ed6c4=document[_0x55dcc6(0x50a)](_0x55dcc6(0x29e));_0x513b18&&_0x3eb5a4&&_0x2ed6c4&&(_0x513b18[_0x55dcc6(0x368)]('click',()=>{const _0x23f7ff=_0x55dcc6;_0x3eb5a4[_0x23f7ff(0x3f1)][_0x23f7ff(0x417)]('active');}),_0x3eb5a4[_0x55dcc6(0x368)]('click',_0x579627=>{const _0x2a15a2=_0x55dcc6;_0x579627['target']===_0x3eb5a4&&_0x3eb5a4[_0x2a15a2(0x3f1)][_0x2a15a2(0x3c8)](_0x2a15a2(0x381));}),_0x2ed6c4[_0x55dcc6(0x368)](_0x55dcc6(0x49a),async _0x10a0a0=>{const _0x10e257=_0x55dcc6;_0x10a0a0[_0x10e257(0x37d)]();const _0xed0953=document['getElementById'](_0x10e257(0x255)),_0x3d86b9=document[_0x10e257(0x50a)](_0x10e257(0x1df)),_0x54ab8f=_0xed0953[_0x10e257(0x57c)]['trim'](),_0x3395f6=_0x3d86b9[_0x10e257(0x57c)];if(!_0x54ab8f){alert(_0x10e257(0x543));return;}try{await demotePlayer(_0x54ab8f,_0x3395f6),document['getElementById'](_0x10e257(0x43a))[_0x10e257(0x3f1)][_0x10e257(0x3c8)](_0x10e257(0x381)),document[_0x10e257(0x50a)]('demote-username')[_0x10e257(0x57c)]='';}catch(_0x328004){console[_0x10e257(0x5e8)](_0x10e257(0x384),_0x328004);}}));const _0x27c39e=document[_0x55dcc6(0x50a)](_0x55dcc6(0x1fb)),_0x36761e=document[_0x55dcc6(0x50a)](_0x55dcc6(0x3e6)),_0xeb08c6=document[_0x55dcc6(0x50a)](_0x55dcc6(0x378));_0x27c39e&&_0x36761e&&_0xeb08c6&&(_0x27c39e[_0x55dcc6(0x368)](_0x55dcc6(0x583),()=>{const _0x332685=_0x55dcc6;_0x36761e[_0x332685(0x3f1)]['add'](_0x332685(0x381));}),_0x36761e['addEventListener']('click',_0x586909=>{const _0x40b66c=_0x55dcc6;_0x586909[_0x40b66c(0x5d8)]===_0x36761e&&_0x36761e[_0x40b66c(0x3f1)][_0x40b66c(0x3c8)](_0x40b66c(0x381));}),_0xeb08c6[_0x55dcc6(0x368)]('submit',async _0x2cdfec=>{const _0xcf57df=_0x55dcc6;_0x2cdfec[_0xcf57df(0x37d)]();const _0x522f43=document[_0xcf57df(0x50a)](_0xcf57df(0x1a2)),_0x775e2f=document[_0xcf57df(0x50a)](_0xcf57df(0x427));let _0xcc7417;const _0x4397dd=document[_0xcf57df(0x50a)](_0xcf57df(0x598)),_0x2e6d21=document[_0xcf57df(0x2be)]('input[name=\x22set-elo-ladder\x22]:checked');if(_0x4397dd)_0xcc7417=_0x4397dd['value'];else _0x2e6d21?_0xcc7417=_0x2e6d21['value']:_0xcc7417='D1';if(!_0x522f43||!_0x775e2f){showNotification('Form\x20elements\x20are\x20missing',_0xcf57df(0x5e8));return;}const _0x4632ca=_0x522f43['value'][_0xcf57df(0x515)](),_0x448279=parseInt(_0x775e2f['value']);if(!_0x4632ca||isNaN(_0x448279)){showNotification(_0xcf57df(0x448),_0xcf57df(0x5e8));return;}try{await setCustomElo(_0x4632ca,_0x448279,_0xcc7417),_0x36761e['classList'][_0xcf57df(0x3c8)](_0xcf57df(0x381)),_0x522f43['value']='',_0x775e2f[_0xcf57df(0x57c)]='';}catch(_0x43d878){showNotification(_0x43d878[_0xcf57df(0x4f7)],_0xcf57df(0x5e8));}}),document['getElementById'](_0x55dcc6(0x3d3))['addEventListener']('click',()=>{const _0x5bf5d5=_0x55dcc6;_0x36761e[_0x5bf5d5(0x3f1)][_0x5bf5d5(0x3c8)](_0x5bf5d5(0x381));}));const _0x290c79=document[_0x55dcc6(0x50a)](_0x55dcc6(0x2e0)),_0x15f77b=document[_0x55dcc6(0x50a)](_0x55dcc6(0x415));if(_0x290c79&&_0x15f77b){_0x290c79[_0x55dcc6(0x368)](_0x55dcc6(0x583),_0x3adeb5=>{_0x3adeb5['target']===_0x290c79&&closeModalHandler();}),_0x15f77b[_0x55dcc6(0x368)](_0x55dcc6(0x49a),async _0x1608f4=>{const _0x4deb48=_0x55dcc6;_0x1608f4['preventDefault']();const _0x1985ed=document[_0x4deb48(0x50a)]('role-username'),_0x26a8cc=document[_0x4deb48(0x50a)]('role-name'),_0x49cb47=document[_0x4deb48(0x50a)](_0x4deb48(0x3a4)),_0x1e69f0=_0x1985ed[_0x4deb48(0x57c)][_0x4deb48(0x515)](),_0x3d8b1c=_0x26a8cc['value']['trim'](),_0x5e9ebc=_0x49cb47[_0x4deb48(0x57c)];if(!_0x1e69f0){showNotification(_0x4deb48(0x1a4),_0x4deb48(0x5e8));return;}try{await setUserRole(_0x1e69f0,_0x3d8b1c,_0x5e9ebc),closeModalHandler(),loadUsersWithRoles();}catch(_0x32f7d6){}});const _0x1a936e=document[_0x55dcc6(0x50a)](_0x55dcc6(0x43f));_0x1a936e&&(_0x1a936e['removeEventListener']('click',closeModalHandler),_0x1a936e[_0x55dcc6(0x368)](_0x55dcc6(0x583),closeModalHandler));}}async function promotePlayer(_0x327631,_0x406dbe){const _0x2219a4=a4_0x11bc30;try{console['log'](_0x2219a4(0x3b1)+_0x327631+_0x2219a4(0x588)+_0x406dbe+_0x2219a4(0x1f4));const _0x29ff37=auth[_0x2219a4(0x4c4)];if(!_0x29ff37)throw new Error(_0x2219a4(0x466));const _0x412b32=_0x406dbe==='D2'?'playersD2':_0x2219a4(0x28d),_0x92699f=_0x406dbe==='D2'?_0x2219a4(0x1bc):_0x2219a4(0x5d7);console[_0x2219a4(0x1c0)](_0x2219a4(0x5af)+_0x412b32);const _0x3909ac=collection(db,_0x412b32),_0x296705=query(_0x3909ac,where(_0x2219a4(0x53b),'==',_0x327631)),_0x1600be=await getDocs(_0x296705);if(_0x1600be[_0x2219a4(0x234)]){alert(_0x2219a4(0x563)+_0x406dbe+_0x2219a4(0x1f4));throw new Error('Player\x20not\x20found\x20in\x20'+_0x406dbe+_0x2219a4(0x1f4));}const _0x566c40=_0x1600be[_0x2219a4(0x485)][0x0],_0x2219e0=_0x566c40[_0x2219a4(0x524)](),_0x17306f=_0x2219e0[_0x2219a4(0x3e4)]||0x4b0,_0x347aea=_0x566c40['id'];console[_0x2219a4(0x1c0)](_0x2219a4(0x22f)+_0x17306f);const _0x5c8955=[{'name':_0x2219a4(0x226),'elo':0x578},{'name':_0x2219a4(0x213),'elo':0x640},{'name':'Gold','elo':0x708},{'name':_0x2219a4(0x263),'elo':0x7d0}];let _0x296b31=_0x5c8955[_0x2219a4(0x4e8)](_0x349950=>_0x349950[_0x2219a4(0x34c)]>_0x17306f);if(!_0x296b31){alert(_0x2219a4(0x313)+_0x406dbe+_0x2219a4(0x1f4));throw new Error(_0x2219a4(0x313)+_0x406dbe+'\x20ladder');}console['log'](_0x2219a4(0x49c)+_0x296b31[_0x2219a4(0x47d)]+'\x20('+_0x296b31[_0x2219a4(0x34c)]+')'),await updateDoc(doc(db,_0x412b32,_0x566c40['id']),{'eloRating':_0x296b31[_0x2219a4(0x34c)],'lastPromotedAt':serverTimestamp(),'promotedBy':_0x29ff37[_0x2219a4(0x20d)]||'admin'}),await addDoc(collection(db,_0x92699f),{'player':_0x327631,'previousElo':_0x17306f,'newElo':_0x296b31[_0x2219a4(0x34c)],'timestamp':serverTimestamp(),'type':_0x2219a4(0x591),'rankAchieved':_0x296b31[_0x2219a4(0x47d)],'promotedBy':_0x29ff37[_0x2219a4(0x20d)]||_0x2219a4(0x451),'gameMode':_0x406dbe});try{const {promotionManager:_0x49c329}=await import(_0x2219a4(0x33d)),_0x21e3bd=_0x49c329[_0x2219a4(0x457)](_0x17306f),_0x21abd9=_0x296b31['name'];await _0x49c329[_0x2219a4(0x1a3)](_0x347aea,_0x327631,_0x17306f,_0x296b31['elo'],_0x21e3bd,_0x21abd9,'promotion',{'displayName':_0x327631,'source':'admin','adminUser':_0x29ff37[_0x2219a4(0x20d)],'ladder':_0x406dbe}),console['log'](_0x2219a4(0x1c5));}catch(_0x398a22){console[_0x2219a4(0x5e8)](_0x2219a4(0x41d),_0x398a22);}return alert(_0x2219a4(0x3db)+_0x327631+_0x2219a4(0x469)+_0x296b31[_0x2219a4(0x47d)]+'\x20('+_0x296b31[_0x2219a4(0x34c)]+')'),currentLadder===_0x406dbe&&(loadPlayersData(),loadEloHistory(0x1)),!![];}catch(_0xd36d1d){console[_0x2219a4(0x5e8)](_0x2219a4(0x40b),_0xd36d1d),alert(_0x2219a4(0x409)+_0xd36d1d['message']);throw _0xd36d1d;}}document[a4_0x11bc30(0x368)](a4_0x11bc30(0x4cc),()=>{const _0x53d04c=a4_0x11bc30,_0x295e5a=document[_0x53d04c(0x50a)](_0x53d04c(0x3ba));_0x295e5a&&_0x295e5a['addEventListener']('submit',async _0x15b685=>{const _0xf2f7cb=_0x53d04c;_0x15b685[_0xf2f7cb(0x37d)]();const _0x2e87b0=document[_0xf2f7cb(0x50a)](_0xf2f7cb(0x486))[_0xf2f7cb(0x57c)]['trim'](),_0x508aea=document[_0xf2f7cb(0x2be)](_0xf2f7cb(0x302))[_0xf2f7cb(0x57c)];if(!_0x2e87b0){alert('Please\x20enter\x20a\x20username');return;}try{await promotePlayer(_0x2e87b0,_0x508aea),document[_0xf2f7cb(0x50a)](_0xf2f7cb(0x1c7))[_0xf2f7cb(0x3f1)][_0xf2f7cb(0x3c8)](_0xf2f7cb(0x381)),document['getElementById'](_0xf2f7cb(0x486))[_0xf2f7cb(0x57c)]='';}catch(_0x4c13c1){console[_0xf2f7cb(0x5e8)](_0xf2f7cb(0x3ff),_0x4c13c1);}});});async function demotePlayer(_0xac8445,_0x24ef9c){const _0x5573f9=a4_0x11bc30;try{console[_0x5573f9(0x1c0)](_0x5573f9(0x2cb)+_0xac8445+'\x20in\x20'+_0x24ef9c+'\x20ladder');const _0x561a58=auth['currentUser'];if(!_0x561a58)throw new Error('You\x20must\x20be\x20logged\x20in\x20to\x20perform\x20this\x20action');const _0x2addeb=_0x24ef9c==='D2'?_0x5573f9(0x274):_0x5573f9(0x28d),_0x1c960c=_0x24ef9c==='D2'?_0x5573f9(0x1bc):'eloHistory';console['log'](_0x5573f9(0x5af)+_0x2addeb);const _0x39a223=collection(db,_0x2addeb),_0x3d7136=query(_0x39a223,where('username','==',_0xac8445)),_0x49fcd8=await getDocs(_0x3d7136);if(_0x49fcd8[_0x5573f9(0x234)]){alert(_0x5573f9(0x563)+_0x24ef9c+_0x5573f9(0x1f4));throw new Error(_0x5573f9(0x563)+_0x24ef9c+_0x5573f9(0x1f4));}const _0x3ed06b=_0x49fcd8['docs'][0x0],_0x20517d=_0x3ed06b[_0x5573f9(0x524)](),_0x3a7ca2=_0x20517d['eloRating']||0x4b0;console[_0x5573f9(0x1c0)]('Found\x20player\x20with\x20current\x20ELO:\x20'+_0x3a7ca2);const _0x14310c=[{'name':_0x5573f9(0x42c),'elo':0x708},{'name':'Silver','elo':0x640},{'name':_0x5573f9(0x226),'elo':0x578},{'name':_0x5573f9(0x320),'elo':0x4b0}];let _0xb5917b=_0x14310c[_0x5573f9(0x4e8)](_0x55ab0d=>_0x55ab0d[_0x5573f9(0x34c)]<_0x3a7ca2);if(!_0xb5917b){alert(_0x5573f9(0x2eb)+_0x24ef9c+'\x20ladder');throw new Error(_0x5573f9(0x2eb)+_0x24ef9c+'\x20ladder');}console[_0x5573f9(0x1c0)](_0x5573f9(0x1e4)+_0xb5917b['name']+'\x20('+_0xb5917b[_0x5573f9(0x34c)]+')'),await updateDoc(doc(db,_0x2addeb,_0x3ed06b['id']),{'eloRating':_0xb5917b['elo'],'lastDemotedAt':serverTimestamp(),'demotedBy':_0x561a58[_0x5573f9(0x20d)]||'admin'}),await addDoc(collection(db,_0x1c960c),{'player':_0xac8445,'previousElo':_0x3a7ca2,'newElo':_0xb5917b['elo'],'timestamp':serverTimestamp(),'type':_0x5573f9(0x2ea),'rankAchieved':_0xb5917b[_0x5573f9(0x47d)],'demotedBy':_0x561a58['email']||_0x5573f9(0x451),'gameMode':_0x24ef9c});try{const {promotionManager:_0x399975}=await import(_0x5573f9(0x33d)),_0x93b966=_0x399975[_0x5573f9(0x457)](_0x3a7ca2),_0x460df1=_0xb5917b[_0x5573f9(0x47d)];await _0x399975[_0x5573f9(0x1a3)](_0x3ed06b['id'],_0xac8445,_0x3a7ca2,_0xb5917b[_0x5573f9(0x34c)],_0x93b966,_0x460df1,'demotion',{'displayName':_0xac8445,'source':'admin','adminUser':_0x561a58[_0x5573f9(0x20d)],'ladder':_0x24ef9c}),console[_0x5573f9(0x1c0)]('Demotion\x20notification\x20sent\x20to\x20Discord\x20bot');}catch(_0x14a019){console[_0x5573f9(0x5e8)](_0x5573f9(0x41d),_0x14a019);}return alert('Successfully\x20demoted\x20'+_0xac8445+_0x5573f9(0x469)+_0xb5917b[_0x5573f9(0x47d)]+'\x20('+_0xb5917b[_0x5573f9(0x34c)]+')'),currentLadder===_0x24ef9c&&(loadPlayersData(),loadEloHistory(0x1)),!![];}catch(_0x2a81bd){console[_0x5573f9(0x5e8)]('Error\x20demoting\x20player:',_0x2a81bd),alert(_0x5573f9(0x349)+_0x2a81bd[_0x5573f9(0x4f7)]);throw _0x2a81bd;}}document[a4_0x11bc30(0x368)](a4_0x11bc30(0x4cc),()=>{const _0x5436b5=a4_0x11bc30,_0x15271d=document[_0x5436b5(0x50a)](_0x5436b5(0x29e));_0x15271d&&_0x15271d[_0x5436b5(0x368)](_0x5436b5(0x49a),async _0x3ba8e0=>{const _0x489787=_0x5436b5;_0x3ba8e0[_0x489787(0x37d)]();const _0x1800f9=document[_0x489787(0x50a)]('demote-username')[_0x489787(0x57c)]['trim'](),_0x1d4ba0=document[_0x489787(0x2be)](_0x489787(0x27b))[_0x489787(0x57c)];if(!_0x1800f9){alert('Please\x20enter\x20a\x20username');return;}try{await demotePlayer(_0x1800f9,_0x1d4ba0),document[_0x489787(0x50a)]('demote-modal')[_0x489787(0x3f1)][_0x489787(0x3c8)]('active'),document[_0x489787(0x50a)](_0x489787(0x255))['value']='';}catch(_0x4ab9c5){console[_0x489787(0x5e8)](_0x489787(0x384),_0x4ab9c5);}});});async function setCustomElo(_0x3fa2bc,_0x44026a,_0x541af3){const _0x29457c=a4_0x11bc30;try{const _0x1a06b4=auth[_0x29457c(0x4c4)];if(!_0x1a06b4||!isAdmin(_0x1a06b4['email']))throw new Error(_0x29457c(0x3c4));const _0x35a33d=_0x541af3==='D2'?_0x29457c(0x274):_0x29457c(0x28d),_0x359ee1=_0x541af3==='D2'?'eloHistoryD2':'eloHistory',_0x439c18=collection(db,_0x35a33d),_0x3c3692=query(_0x439c18,where('username','==',_0x3fa2bc)),_0x2ef261=await getDocs(_0x3c3692);if(_0x2ef261[_0x29457c(0x234)])throw new Error(_0x29457c(0x563)+_0x541af3+_0x29457c(0x1f4));const _0x2cf438=_0x2ef261[_0x29457c(0x485)][0x0],_0x1c4472=_0x2cf438[_0x29457c(0x524)](),_0x55ffcf=_0x1c4472['eloRating']||0x4b0,_0x96251d=writeBatch(db);_0x96251d['update'](doc(db,_0x35a33d,_0x2cf438['id']),{'eloRating':_0x44026a,'lastModifiedAt':serverTimestamp(),'lastModifiedBy':_0x1a06b4[_0x29457c(0x20d)]});const _0x585581=doc(collection(db,_0x359ee1));return _0x96251d['set'](_0x585581,{'player':_0x3fa2bc,'previousElo':_0x55ffcf,'newElo':_0x44026a,'timestamp':serverTimestamp(),'type':_0x29457c(0x52c),'modifiedBy':_0x1a06b4[_0x29457c(0x20d)],'gameMode':_0x541af3}),await _0x96251d[_0x29457c(0x4be)](),showNotification(_0x29457c(0x4f5)+_0x3fa2bc+'\x20was\x20updated\x20from\x20'+_0x55ffcf+_0x29457c(0x469)+_0x44026a,'success'),currentLadder===_0x541af3&&(loadDashboardOverview(),loadPlayersData(),loadEloHistory(0x1)),!![];}catch(_0x5a0edf){console[_0x29457c(0x5e8)](_0x29457c(0x55c),_0x5a0edf);throw _0x5a0edf;}}async function setUserRole(_0x2d0687,_0x2e277c,_0x213b13){const _0x483518=a4_0x11bc30;try{const _0x516e77=auth[_0x483518(0x4c4)];if(!_0x516e77||!isAdmin(_0x516e77[_0x483518(0x20d)]))throw new Error(_0x483518(0x3c4));const _0x73af29=_0x2e277c?_0x2e277c[_0x483518(0x515)]():null,_0x4b8937=_0x73af29?_0x213b13||_0x483518(0x498):null,[_0x2c51bd,_0x36e822]=await Promise[_0x483518(0x264)]([getDocs(query(collection(db,_0x483518(0x28d)),where(_0x483518(0x53b),'==',_0x2d0687))),getDocs(query(collection(db,_0x483518(0x274)),where(_0x483518(0x53b),'==',_0x2d0687)))]),_0x18c05b=[];if(!_0x2c51bd[_0x483518(0x234)])_0x18c05b[_0x483518(0x5da)]({'ref':_0x2c51bd[_0x483518(0x485)][0x0]['ref'],'source':'D1'});if(!_0x36e822['empty'])_0x18c05b['push']({'ref':_0x36e822[_0x483518(0x485)][0x0][_0x483518(0x38f)],'source':'D2'});if(_0x18c05b[_0x483518(0x49f)]===0x0){const [_0x382596,_0xab6d35]=await Promise[_0x483518(0x264)]([getDocs(query(collection(db,_0x483518(0x5bb)),where(_0x483518(0x53b),'==',_0x2d0687))),getDocs(query(collection(db,_0x483518(0x1f0)),where(_0x483518(0x53b),'==',_0x2d0687)))]);if(!_0x382596[_0x483518(0x234)])_0x18c05b['push']({'ref':_0x382596[_0x483518(0x485)][0x0]['ref'],'source':_0x483518(0x385)});if(!_0xab6d35['empty'])_0x18c05b[_0x483518(0x5da)]({'ref':_0xab6d35[_0x483518(0x485)][0x0][_0x483518(0x38f)],'source':_0x483518(0x530)});}if(_0x18c05b[_0x483518(0x49f)]===0x0)throw new Error(_0x483518(0x5a7)+_0x2d0687+_0x483518(0x4ad));const _0x5e511b=writeBatch(db);_0x18c05b[_0x483518(0x2a1)](_0x33ee09=>{const _0x245724=_0x483518;console[_0x245724(0x1c0)](_0x245724(0x4da)+_0x2d0687+_0x245724(0x588)+_0x33ee09[_0x245724(0x411)]),!_0x73af29?_0x5e511b['update'](_0x33ee09[_0x245724(0x38f)],{'roleName':deleteField(),'roleColor':deleteField(),'roleAssignedBy':deleteField(),'roleAssignedAt':deleteField()}):_0x5e511b[_0x245724(0x3c1)](_0x33ee09['ref'],{'roleName':_0x73af29,'roleColor':_0x4b8937,'roleAssignedBy':_0x516e77[_0x245724(0x20d)],'roleAssignedAt':serverTimestamp()});}),await _0x5e511b[_0x483518(0x4be)]();const _0x50f8d7=_0x73af29?'Role\x20\x22'+_0x73af29+_0x483518(0x227):'Role\x20removed';return showNotification(_0x50f8d7+'\x20for\x20user\x20\x22'+_0x2d0687+'\x22',_0x483518(0x284)),!![];}catch(_0xa587e9){console['error'](_0x483518(0x568),_0xa587e9),showNotification('Error:\x20'+_0xa587e9[_0x483518(0x4f7)],_0x483518(0x5e8));throw _0xa587e9;}}function showNotification(_0x20054d,_0x553481=a4_0x11bc30(0x396)){const _0x331782=a4_0x11bc30,_0x166f29=document['createElement'](_0x331782(0x327));_0x166f29[_0x331782(0x507)]='notification\x20'+_0x553481,_0x166f29['innerHTML']=_0x331782(0x337)+getNotificationIcon(_0x553481)+_0x331782(0x31f)+_0x20054d+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22close-notification\x22>×</button>\x0a\x20\x20\x20\x20',document[_0x331782(0x512)][_0x331782(0x476)](_0x166f29),setTimeout(()=>{const _0x52444d=_0x331782;_0x166f29[_0x52444d(0x3f1)][_0x52444d(0x417)](_0x52444d(0x381));},0xa);const _0xaea5e3=setTimeout(()=>{closeNotification(_0x166f29);},0x1388);_0x166f29[_0x331782(0x2be)](_0x331782(0x2b6))['addEventListener'](_0x331782(0x583),()=>{clearTimeout(_0xaea5e3),closeNotification(_0x166f29);});}function getNotificationIcon(_0x480d36){const _0x5e84f8=a4_0x11bc30;switch(_0x480d36){case _0x5e84f8(0x284):return'fa-check-circle';case _0x5e84f8(0x5e8):return'fa-exclamation-circle';case'warning':return _0x5e84f8(0x57e);case _0x5e84f8(0x396):default:return'fa-info-circle';}}function closeNotification(_0x363f5a){const _0x3dcdbb=a4_0x11bc30;_0x363f5a[_0x3dcdbb(0x3f1)][_0x3dcdbb(0x3c8)]('active'),setTimeout(()=>{const _0x2a2817=_0x3dcdbb;_0x363f5a[_0x2a2817(0x3c8)]();},0x12c);}function setupUserRolesSection(){const _0x5784ed=a4_0x11bc30,_0x16c8cc=document[_0x5784ed(0x50a)](_0x5784ed(0x402));_0x16c8cc&&_0x16c8cc[_0x5784ed(0x368)](_0x5784ed(0x583),function(){const _0x2cdc95=_0x5784ed;this[_0x2cdc95(0x3f1)][_0x2cdc95(0x417)]('loading'),this[_0x2cdc95(0x24a)]=_0x2cdc95(0x3ee),loadUsersWithRoles()['then'](()=>{const _0xbf65aa=_0x2cdc95;this[_0xbf65aa(0x3f1)][_0xbf65aa(0x3c8)](_0xbf65aa(0x3c6)),this[_0xbf65aa(0x24a)]=_0xbf65aa(0x4f4);})[_0x2cdc95(0x1ae)](_0x1c280c=>{const _0x173efe=_0x2cdc95;console[_0x173efe(0x5e8)](_0x173efe(0x532),_0x1c280c),this[_0x173efe(0x3f1)]['remove'](_0x173efe(0x3c6)),this[_0x173efe(0x24a)]='<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error',setTimeout(()=>{const _0x2752ca=_0x173efe;this[_0x2752ca(0x24a)]=_0x2752ca(0x4f4);},0xbb8);});});const _0x5d6420=document[_0x5784ed(0x50a)]('add-new-role-btn');_0x5d6420&&_0x5d6420[_0x5784ed(0x368)](_0x5784ed(0x583),()=>{const _0x5a709e=_0x5784ed,_0x16308e=document[_0x5a709e(0x50a)]('set-role-modal');_0x16308e&&_0x16308e[_0x5a709e(0x3f1)][_0x5a709e(0x417)](_0x5a709e(0x381));});const _0x2d0beb=document[_0x5784ed(0x50a)](_0x5784ed(0x375));_0x2d0beb&&_0x2d0beb[_0x5784ed(0x368)](_0x5784ed(0x352),debounce(filterUsersTable,0x12c));const _0x2c8a90=document[_0x5784ed(0x50a)](_0x5784ed(0x475));_0x2c8a90&&_0x2c8a90[_0x5784ed(0x368)](_0x5784ed(0x401),filterUsersTable);}async function loadUsersWithRoles(){const _0x3883b5=a4_0x11bc30,_0x27d0b5=document[_0x3883b5(0x50a)]('users-table-body');if(!_0x27d0b5)return;_0x27d0b5[_0x3883b5(0x24a)]='<tr><td\x20colspan=\x225\x22\x20class=\x22loading-cell\x22>Loading\x20users...</td></tr>';try{const [_0x5d67cf,_0x1a0b57,_0x23caaf,_0x5dd00a]=await Promise[_0x3883b5(0x264)]([getDocs(collection(db,_0x3883b5(0x28d))),getDocs(collection(db,_0x3883b5(0x274))),getDocs(collection(db,_0x3883b5(0x5bb))),getDocs(collection(db,_0x3883b5(0x1f0)))]),_0x776667=new Map();function _0x2e8bb3(_0x5f27fd,_0x4a478d){_0x5f27fd['forEach'](_0x42cd10=>{const _0x1e0d31=a4_0x128d,_0x4f39bf=_0x42cd10[_0x1e0d31(0x524)]();if(!_0x4f39bf[_0x1e0d31(0x53b)])return;if(!_0x776667['has'](_0x4f39bf[_0x1e0d31(0x53b)]))_0x776667['set'](_0x4f39bf[_0x1e0d31(0x53b)],{'username':_0x4f39bf[_0x1e0d31(0x53b)],'roleName':_0x4f39bf[_0x1e0d31(0x389)]||null,'roleColor':_0x4f39bf['roleColor']||null,'roleAssignedBy':_0x4f39bf['roleAssignedBy']||null,'roleAssignedAt':_0x4f39bf[_0x1e0d31(0x1f1)]||null,'sources':[_0x4a478d]});else{const _0xa38400=_0x776667['get'](_0x4f39bf[_0x1e0d31(0x53b)]);_0x4f39bf[_0x1e0d31(0x389)]&&(!_0xa38400[_0x1e0d31(0x389)]||_0x4a478d==='D1'||_0x4a478d==='D2')&&(_0xa38400[_0x1e0d31(0x389)]=_0x4f39bf[_0x1e0d31(0x389)],_0xa38400[_0x1e0d31(0x2e1)]=_0x4f39bf[_0x1e0d31(0x2e1)],_0xa38400[_0x1e0d31(0x51c)]=_0x4f39bf[_0x1e0d31(0x51c)],_0xa38400[_0x1e0d31(0x1f1)]=_0x4f39bf[_0x1e0d31(0x1f1)]),!_0xa38400[_0x1e0d31(0x5ee)][_0x1e0d31(0x287)](_0x4a478d)&&_0xa38400[_0x1e0d31(0x5ee)][_0x1e0d31(0x5da)](_0x4a478d);}});}_0x2e8bb3(_0x5d67cf,'D1'),_0x2e8bb3(_0x1a0b57,'D2'),_0x2e8bb3(_0x23caaf,_0x3883b5(0x502)),_0x2e8bb3(_0x5dd00a,'Profile');const _0x5b152f=Array[_0x3883b5(0x1c3)](_0x776667[_0x3883b5(0x3bf)]())[_0x3883b5(0x1e1)]((_0x388fc8,_0x4f1b6c)=>_0x388fc8[_0x3883b5(0x53b)]['localeCompare'](_0x4f1b6c[_0x3883b5(0x53b)]));if(_0x5b152f[_0x3883b5(0x49f)]===0x0){_0x27d0b5[_0x3883b5(0x24a)]=_0x3883b5(0x292);return;}_0x27d0b5[_0x3883b5(0x24a)]='',_0x5b152f[_0x3883b5(0x2a1)](_0x20a91f=>{const _0x11a98d=_0x3883b5,_0x55a4c1=document['createElement']('tr');_0x55a4c1[_0x11a98d(0x303)][_0x11a98d(0x53b)]=_0x20a91f[_0x11a98d(0x53b)],_0x55a4c1[_0x11a98d(0x303)]['roleName']=_0x20a91f[_0x11a98d(0x389)]||'',_0x55a4c1[_0x11a98d(0x303)][_0x11a98d(0x2e1)]=_0x20a91f[_0x11a98d(0x2e1)]||_0x11a98d(0x498);const _0x2d1a3c=_0x20a91f[_0x11a98d(0x1f1)]?new Date(_0x20a91f[_0x11a98d(0x1f1)][_0x11a98d(0x387)]*0x3e8)['toLocaleDateString']():'N/A',_0x418d47=_0x20a91f[_0x11a98d(0x389)]?_0x11a98d(0x203)+_0x20a91f[_0x11a98d(0x2e1)]+_0x11a98d(0x366)+getContrastColor(_0x20a91f['roleColor'])+_0x11a98d(0x321)+_0x20a91f['roleName']+_0x11a98d(0x1c2):_0x11a98d(0x59b);_0x55a4c1['innerHTML']=_0x11a98d(0x1c4)+_0x20a91f[_0x11a98d(0x53b)]+_0x11a98d(0x2c5)+_0x20a91f[_0x11a98d(0x5ee)][_0x11a98d(0x2a2)](',\x20')+')</span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x418d47+_0x11a98d(0x505)+(_0x20a91f['roleAssignedBy']||_0x11a98d(0x545))+_0x11a98d(0x505)+_0x2d1a3c+_0x11a98d(0x361)+_0x20a91f['username']+_0x11a98d(0x450)+(_0x20a91f[_0x11a98d(0x389)]?_0x11a98d(0x1c1)+_0x20a91f[_0x11a98d(0x53b)]+'\x22\x20title=\x22Remove\x20Role\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20<!--\x20Changed\x20icon\x20-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+_0x11a98d(0x2ca),_0x27d0b5[_0x11a98d(0x476)](_0x55a4c1);}),document[_0x3883b5(0x2ae)](_0x3883b5(0x280))[_0x3883b5(0x2a1)](_0x14f68a=>{const _0x260154=_0x3883b5;_0x14f68a[_0x260154(0x368)](_0x260154(0x583),()=>{const _0x3a5a13=_0x260154,_0x2ef14c=_0x14f68a[_0x3a5a13(0x303)][_0x3a5a13(0x53b)];openRoleEditModal(_0x2ef14c);});}),document[_0x3883b5(0x2ae)](_0x3883b5(0x19f))['forEach'](_0x25dc35=>{const _0x4184ea=_0x3883b5;_0x25dc35['addEventListener'](_0x4184ea(0x583),()=>{const _0x18092c=_0x4184ea,_0x474a56=_0x25dc35[_0x18092c(0x303)]['username'];confirm(_0x18092c(0x429)+_0x474a56+'?')&&setUserRole(_0x474a56,null,null)['then'](()=>loadUsersWithRoles())['catch'](_0x16fed8=>console[_0x18092c(0x5e8)]('Error\x20removing\x20role:',_0x16fed8));});});}catch(_0x32fbcd){console[_0x3883b5(0x5e8)](_0x3883b5(0x532),_0x32fbcd),_0x27d0b5[_0x3883b5(0x24a)]='<tr><td\x20colspan=\x225\x22\x20class=\x22error-state\x22>Error\x20loading\x20users</td></tr>';}}function openRoleEditModal(_0x5db0f2){const _0xf9f47=a4_0x11bc30;console[_0xf9f47(0x1c0)](_0xf9f47(0x316),_0x5db0f2);const _0x14b8e0=document[_0xf9f47(0x50a)](_0xf9f47(0x2e0)),_0x76b2fe=document[_0xf9f47(0x50a)](_0xf9f47(0x54a)),_0x244371=document[_0xf9f47(0x50a)]('user-role');if(!_0x14b8e0){console[_0xf9f47(0x5e8)](_0xf9f47(0x3c5)),alert(_0xf9f47(0x424));return;}console[_0xf9f47(0x1c0)]('Modal\x20element\x20found:',_0x14b8e0);_0x76b2fe?(_0x76b2fe['value']=_0x5db0f2,console['log'](_0xf9f47(0x23a)+_0x5db0f2)):console[_0xf9f47(0x328)]('Username\x20input\x20field\x20(#role-username)\x20not\x20found\x20in\x20modal.');const _0x2868d5=document[_0xf9f47(0x2be)](_0xf9f47(0x56d)+_0x5db0f2+'\x22]');if(_0x2868d5&&_0x244371){const _0x399658=_0x2868d5['dataset']['role'];_0x244371[_0xf9f47(0x57c)]=_0x399658===_0xf9f47(0x1e3)?'':_0x399658,console[_0xf9f47(0x1c0)]('Role\x20select\x20set\x20to:\x20'+_0x244371['value']+_0xf9f47(0x5a8)+_0x399658+')');}else{if(!_0x2868d5)console[_0xf9f47(0x328)]('Table\x20row\x20for\x20user\x20'+_0x5db0f2+_0xf9f47(0x3f0));if(!_0x244371)console['warn'](_0xf9f47(0x32c));if(_0x244371)_0x244371[_0xf9f47(0x57c)]='';}console[_0xf9f47(0x1c0)]('Adding\x20\x22active\x22\x20class\x20to\x20modal.'),_0x14b8e0[_0xf9f47(0x3f1)]['add'](_0xf9f47(0x381));const _0x43871c=document['getElementById']('cancel-role-btn');_0x43871c?(console[_0xf9f47(0x1c0)](_0xf9f47(0x539)),_0x43871c['removeEventListener'](_0xf9f47(0x583),closeModalHandler),_0x43871c['addEventListener'](_0xf9f47(0x583),closeModalHandler)):console[_0xf9f47(0x328)](_0xf9f47(0x516)),console[_0xf9f47(0x1c0)]('Attaching\x20background\x20click\x20listener.'),_0x14b8e0[_0xf9f47(0x24b)](_0xf9f47(0x583),closeModalBackgroundHandler),_0x14b8e0[_0xf9f47(0x368)](_0xf9f47(0x583),closeModalBackgroundHandler);}function closeModalBackgroundHandler(_0x1f77a0){const _0x99e15b=a4_0x11bc30;_0x1f77a0[_0x99e15b(0x5d8)]===this&&closeModalHandler();}function closeModalHandler(){const _0x7d149a=a4_0x11bc30,_0x566982=document[_0x7d149a(0x50a)](_0x7d149a(0x2e0));_0x566982&&(_0x566982[_0x7d149a(0x3f1)]['remove']('active'),_0x566982[_0x7d149a(0x24b)](_0x7d149a(0x583),closeModalBackgroundHandler));}function filterUsersTable(){const _0x2931c9=a4_0x11bc30,_0x3011ce=document[_0x2931c9(0x50a)](_0x2931c9(0x375))?.[_0x2931c9(0x57c)]['toLowerCase']()||'',_0x3ca15a=document[_0x2931c9(0x50a)](_0x2931c9(0x475))?.['value']||_0x2931c9(0x264),_0x21cbb3=document[_0x2931c9(0x2ae)](_0x2931c9(0x356));let _0x47d0cd=0x0;_0x21cbb3[_0x2931c9(0x2a1)](_0x566dd0=>{const _0x54ff19=_0x2931c9;if(_0x566dd0[_0x54ff19(0x2be)](_0x54ff19(0x44c))||_0x566dd0[_0x54ff19(0x2be)](_0x54ff19(0x59d))||_0x566dd0[_0x54ff19(0x2be)](_0x54ff19(0x4fc)))return;const _0x98352b=_0x566dd0[_0x54ff19(0x303)][_0x54ff19(0x53b)]?.[_0x54ff19(0x262)]()||'',_0x49b1f9=_0x566dd0[_0x54ff19(0x303)][_0x54ff19(0x2db)]||_0x54ff19(0x1e3),_0x217c5d=_0x98352b['includes'](_0x3011ce),_0x1ffe7f=_0x3ca15a==='all'||_0x49b1f9===_0x3ca15a;_0x217c5d&&_0x1ffe7f?(_0x566dd0[_0x54ff19(0x416)][_0x54ff19(0x1a1)]='',_0x47d0cd++):_0x566dd0[_0x54ff19(0x416)][_0x54ff19(0x1a1)]=_0x54ff19(0x1e3);});if(_0x47d0cd===0x0&&_0x21cbb3['length']>0x0){const _0x4f0eb8=document[_0x2931c9(0x50a)](_0x2931c9(0x509));if(_0x4f0eb8){if(!_0x4f0eb8[_0x2931c9(0x2be)](_0x2931c9(0x275))){const _0x5a01a7=document[_0x2931c9(0x1b8)]('tr');_0x5a01a7[_0x2931c9(0x3f1)][_0x2931c9(0x417)](_0x2931c9(0x574)),_0x5a01a7['innerHTML']=_0x2931c9(0x48e),_0x4f0eb8[_0x2931c9(0x476)](_0x5a01a7);}}}else{const _0x12b707=document['querySelector']('.no-results');_0x12b707&&_0x12b707['remove']();}}function setupManageArticlesSection(){const _0x484b0e=a4_0x11bc30,_0x26fca9=document['getElementById'](_0x484b0e(0x4ac));_0x26fca9&&_0x26fca9[_0x484b0e(0x368)](_0x484b0e(0x583),function(){const _0x31291b=_0x484b0e;this[_0x31291b(0x3f1)]['add'](_0x31291b(0x3c6)),this['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...',loadArticles()[_0x31291b(0x23f)](()=>{const _0x14d95c=_0x31291b;this[_0x14d95c(0x3f1)][_0x14d95c(0x3c8)]('loading'),this['innerHTML']=_0x14d95c(0x296);})['catch'](_0x5805c7=>{const _0x2e32d3=_0x31291b;console[_0x2e32d3(0x5e8)](_0x2e32d3(0x50d),_0x5805c7),this[_0x2e32d3(0x3f1)][_0x2e32d3(0x3c8)]('loading'),this[_0x2e32d3(0x24a)]=_0x2e32d3(0x1d0),setTimeout(()=>{const _0x13b2e1=_0x2e32d3;this[_0x13b2e1(0x24a)]='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Articles';},0xbb8);});});const _0x38aa2f=document[_0x484b0e(0x50a)]('create-new-article-btn');_0x38aa2f?(console[_0x484b0e(0x1c0)](_0x484b0e(0x4d8)),_0x38aa2f[_0x484b0e(0x416)][_0x484b0e(0x1a1)]=_0x484b0e(0x547),_0x38aa2f['addEventListener'](_0x484b0e(0x583),()=>{openArticleModal();})):console['error'](_0x484b0e(0x497));const _0xe20ea8=document[_0x484b0e(0x50a)](_0x484b0e(0x1d6));_0xe20ea8&&_0xe20ea8[_0x484b0e(0x368)]('submit',_0x4c06e8=>{_0x4c06e8['preventDefault'](),saveArticle();});const _0x140693=document[_0x484b0e(0x50a)](_0x484b0e(0x326));_0x140693&&_0x140693['addEventListener'](_0x484b0e(0x583),()=>{closeArticleModal();});const _0x451a10=document[_0x484b0e(0x2be)]('#article-modal\x20.close-btn');_0x451a10&&_0x451a10[_0x484b0e(0x368)](_0x484b0e(0x583),()=>{closeArticleModal();});const _0x193347=document[_0x484b0e(0x50a)](_0x484b0e(0x500));_0x193347&&_0x193347[_0x484b0e(0x368)](_0x484b0e(0x583),_0x16346a=>{_0x16346a['target']===_0x193347&&closeArticleModal();});}async function loadArticles(){const _0x6af74b=a4_0x11bc30,_0x1bf173=document[_0x6af74b(0x50a)](_0x6af74b(0x50f));if(!_0x1bf173)return;_0x1bf173[_0x6af74b(0x24a)]=_0x6af74b(0x2df);try{const _0x4b60bc=collection(db,_0x6af74b(0x430)),_0x591908=query(_0x4b60bc,orderBy(_0x6af74b(0x30f),_0x6af74b(0x4ba))),_0x2a53a5=await getDocs(_0x591908);if(_0x2a53a5[_0x6af74b(0x234)]){_0x1bf173[_0x6af74b(0x24a)]=_0x6af74b(0x47c);return;}_0x1bf173[_0x6af74b(0x24a)]='',_0x2a53a5['forEach'](_0x4ea9da=>{const _0x29b09c=_0x6af74b,_0x564919=_0x4ea9da[_0x29b09c(0x524)](),_0x296197=document[_0x29b09c(0x1b8)]('tr'),_0x2e6321=_0x564919[_0x29b09c(0x30f)]?new Date(_0x564919['createdAt'][_0x29b09c(0x387)]*0x3e8)['toLocaleString']():'N/A';_0x296197[_0x29b09c(0x24a)]=_0x29b09c(0x1c4)+(_0x564919[_0x29b09c(0x277)]||_0x29b09c(0x3b6))+_0x29b09c(0x505)+(_0x564919[_0x29b09c(0x4b4)]||_0x29b09c(0x426))+_0x29b09c(0x505)+_0x2e6321+_0x29b09c(0x235)+_0x4ea9da['id']+_0x29b09c(0x571)+_0x4ea9da['id']+_0x29b09c(0x4a1),_0x1bf173[_0x29b09c(0x476)](_0x296197);}),setupArticleActionButtons();}catch(_0x50990a){console[_0x6af74b(0x5e8)](_0x6af74b(0x50d),_0x50990a),_0x1bf173['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x224\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20articles:\x20'+_0x50990a['message']+_0x6af74b(0x1d8);}}function setupArticleActionButtons(){const _0x5a5050=a4_0x11bc30;document['querySelectorAll']('.edit-article-btn')[_0x5a5050(0x2a1)](_0x56d876=>{const _0x62fc73=_0x5a5050;_0x56d876[_0x62fc73(0x368)](_0x62fc73(0x583),async _0x435952=>{const _0xf94fa3=_0x62fc73,_0x51ff1f=_0x435952[_0xf94fa3(0x193)][_0xf94fa3(0x303)]['id'];openArticleModal(_0x51ff1f);});}),document[_0x5a5050(0x2ae)](_0x5a5050(0x40d))['forEach'](_0x485c63=>{_0x485c63['addEventListener']('click',async _0x124d08=>{const _0x2a857c=a4_0x128d,_0x146c40=_0x124d08[_0x2a857c(0x193)][_0x2a857c(0x303)]['id'];confirmDeleteArticle(_0x146c40);});});}function openArticleModal(_0x5ae894=null){const _0x4cf1e9=a4_0x11bc30,_0x5ab97e=document[_0x4cf1e9(0x50a)]('article-modal'),_0xc28ef4=document[_0x4cf1e9(0x50a)]('article-modal-title'),_0x193640=document['getElementById']('article-form'),_0x9a68f7=document['getElementById'](_0x4cf1e9(0x48f));_0x193640[_0x4cf1e9(0x3e8)](),_0x9a68f7[_0x4cf1e9(0x57c)]='';if(_0x5ae894)_0xc28ef4['textContent']=_0x4cf1e9(0x2e6),_0x9a68f7[_0x4cf1e9(0x57c)]=_0x5ae894,loadArticleData(_0x5ae894);else{_0xc28ef4[_0x4cf1e9(0x56a)]=_0x4cf1e9(0x55a);const _0x1f04cb=auth[_0x4cf1e9(0x4c4)];if(_0x1f04cb){const _0xbe4556=document[_0x4cf1e9(0x50a)](_0x4cf1e9(0x28f));if(_0xbe4556&&_0x1f04cb[_0x4cf1e9(0x4c0)])_0xbe4556[_0x4cf1e9(0x57c)]=_0x1f04cb[_0x4cf1e9(0x4c0)];else _0xbe4556&&(_0xbe4556['value']=_0x1f04cb[_0x4cf1e9(0x20d)]);}}_0x5ab97e[_0x4cf1e9(0x3f1)][_0x4cf1e9(0x417)](_0x4cf1e9(0x381));}async function loadArticleData(_0x3059f8){const _0x48fda0=a4_0x11bc30;try{const _0x2719a1=doc(db,_0x48fda0(0x430),_0x3059f8),_0x18a0e8=await getDoc(_0x2719a1);if(!_0x18a0e8['exists']()){showNotification(_0x48fda0(0x3b7),_0x48fda0(0x5e8));return;}const _0x5d7c36=_0x18a0e8['data']();document['getElementById'](_0x48fda0(0x34a))[_0x48fda0(0x57c)]=_0x5d7c36[_0x48fda0(0x277)]||'',document[_0x48fda0(0x50a)](_0x48fda0(0x28f))[_0x48fda0(0x57c)]=_0x5d7c36['author']||'',document['getElementById'](_0x48fda0(0x3f7))['value']=_0x5d7c36[_0x48fda0(0x269)]||'',document['getElementById'](_0x48fda0(0x1ea))[_0x48fda0(0x57c)]=_0x5d7c36[_0x48fda0(0x3ec)]||'';}catch(_0x3fa6c2){console[_0x48fda0(0x5e8)]('Error\x20loading\x20article\x20data:',_0x3fa6c2),showNotification(_0x48fda0(0x29b),_0x48fda0(0x5e8));}}async function saveArticle(){const _0x4d49c9=a4_0x11bc30;try{const _0x1d5fb3=document['getElementById'](_0x4d49c9(0x48f))[_0x4d49c9(0x57c)],_0x367026=document[_0x4d49c9(0x50a)](_0x4d49c9(0x34a))[_0x4d49c9(0x57c)][_0x4d49c9(0x515)](),_0x5e05f8=document[_0x4d49c9(0x50a)](_0x4d49c9(0x28f))[_0x4d49c9(0x57c)]['trim'](),_0x426404=document[_0x4d49c9(0x50a)](_0x4d49c9(0x3f7))['value'][_0x4d49c9(0x515)](),_0x4ab7f3=document['getElementById'](_0x4d49c9(0x1ea))['value'][_0x4d49c9(0x515)]();if(!_0x367026||!_0x4ab7f3){showNotification(_0x4d49c9(0x27a),_0x4d49c9(0x5e8));return;}const _0x59fb28=auth[_0x4d49c9(0x4c4)];if(!_0x59fb28){showNotification(_0x4d49c9(0x536),_0x4d49c9(0x5e8));return;}const _0x298fa6={'title':_0x367026,'author':_0x5e05f8,'imageUrl':_0x426404||null,'content':_0x4ab7f3,'lastModifiedAt':serverTimestamp(),'lastModifiedBy':_0x59fb28['email']};!_0x1d5fb3?(_0x298fa6['createdAt']=serverTimestamp(),_0x298fa6['createdBy']=_0x59fb28[_0x4d49c9(0x20d)],await addDoc(collection(db,_0x4d49c9(0x430)),_0x298fa6),showNotification(_0x4d49c9(0x1e7),_0x4d49c9(0x284))):(await updateDoc(doc(db,_0x4d49c9(0x430),_0x1d5fb3),_0x298fa6),showNotification('Article\x20updated\x20successfully',_0x4d49c9(0x284))),closeArticleModal(),loadArticles();}catch(_0x3bb9ee){console[_0x4d49c9(0x5e8)]('Error\x20saving\x20article:',_0x3bb9ee),showNotification(_0x4d49c9(0x46e)+_0x3bb9ee[_0x4d49c9(0x4f7)],_0x4d49c9(0x5e8));}}function closeArticleModal(){const _0x1a3b48=a4_0x11bc30,_0x5cc8dd=document[_0x1a3b48(0x50a)]('article-modal');_0x5cc8dd&&_0x5cc8dd[_0x1a3b48(0x3f1)][_0x1a3b48(0x3c8)]('active');}async function confirmDeleteArticle(_0x2ab2a2){const _0x426f11=a4_0x11bc30;if(confirm(_0x426f11(0x2a4)))try{await deleteDoc(doc(db,_0x426f11(0x430),_0x2ab2a2)),loadArticles(),showNotification(_0x426f11(0x462),'success');}catch(_0x36d673){console[_0x426f11(0x5e8)](_0x426f11(0x2f3),_0x36d673),showNotification(_0x426f11(0x494)+_0x36d673['message'],_0x426f11(0x5e8));}}function setupTrophyManagementSection(){const _0x228474=a4_0x11bc30,_0x2ea9c4=document[_0x228474(0x50a)](_0x228474(0x1cb));_0x2ea9c4&&_0x2ea9c4[_0x228474(0x368)]('click',function(){const _0x4bc1d1=_0x228474;this['classList'][_0x4bc1d1(0x417)](_0x4bc1d1(0x3c6)),this[_0x4bc1d1(0x24a)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...';const _0x4f4d98=document['getElementById'](_0x4bc1d1(0x3e1));_0x4f4d98&&(_0x4f4d98[_0x4bc1d1(0x32d)]=function(){const _0x137c99=_0x4bc1d1;this[_0x137c99(0x1b0)]=DEFAULT_TROPHY_IMAGE;}),loadTrophyDefinitions()['then'](()=>{const _0x2c7ac9=_0x4bc1d1;this[_0x2c7ac9(0x3f1)]['remove'](_0x2c7ac9(0x3c6)),this[_0x2c7ac9(0x24a)]=_0x2c7ac9(0x4c3);})[_0x4bc1d1(0x1ae)](_0x7fe084=>{const _0x2e1568=_0x4bc1d1;console['error'](_0x2e1568(0x513),_0x7fe084),this['classList'][_0x2e1568(0x3c8)]('loading'),this[_0x2e1568(0x24a)]=_0x2e1568(0x1d0),setTimeout(()=>{const _0x3b016c=_0x2e1568;this[_0x3b016c(0x24a)]='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Trophies';},0xbb8);});});const _0x2f49d2=document[_0x228474(0x50a)](_0x228474(0x4cd));_0x2f49d2&&_0x2f49d2[_0x228474(0x368)](_0x228474(0x583),()=>{openTrophyModal();});const _0x57fc4f=document['getElementById'](_0x228474(0x394));_0x57fc4f&&_0x57fc4f[_0x228474(0x368)](_0x228474(0x49a),_0x4d74a3=>{_0x4d74a3['preventDefault'](),saveTrophyDefinition();});const _0x208239=document[_0x228474(0x50a)](_0x228474(0x587));_0x208239&&_0x208239['addEventListener'](_0x228474(0x583),()=>{closeTrophyModal();});document[_0x228474(0x2ae)](_0x228474(0x5df))[_0x228474(0x2a1)](_0x58b911=>{const _0x1b82e2=_0x228474;_0x58b911[_0x1b82e2(0x368)](_0x1b82e2(0x583),()=>{closeTrophyModal(),closeAssignTrophyModal();});});const _0x2c9fb5=document[_0x228474(0x50a)](_0x228474(0x4a6));_0x2c9fb5&&_0x2c9fb5['addEventListener'](_0x228474(0x583),_0x2e72f7=>{const _0x490bb9=_0x228474;_0x2e72f7[_0x490bb9(0x5d8)]===_0x2c9fb5&&closeTrophyModal();});const _0x3180b1=document['getElementById'](_0x228474(0x439));_0x3180b1&&_0x3180b1[_0x228474(0x368)](_0x228474(0x583),_0x37229f=>{const _0x557cac=_0x228474;_0x37229f[_0x557cac(0x5d8)]===_0x3180b1&&closeAssignTrophyModal();});const _0x4a6bb0=document[_0x228474(0x50a)](_0x228474(0x376));_0x4a6bb0&&_0x4a6bb0[_0x228474(0x368)](_0x228474(0x49a),_0x4df177=>{const _0x3260e1=_0x228474;_0x4df177[_0x3260e1(0x37d)](),assignTrophyToPlayer();});const _0x34235f=document[_0x228474(0x50a)]('cancel-assign-btn');_0x34235f&&_0x34235f[_0x228474(0x368)](_0x228474(0x583),()=>{closeAssignTrophyModal();});const _0x1e8282=document[_0x228474(0x50a)](_0x228474(0x282));_0x1e8282&&(_0x1e8282['addEventListener'](_0x228474(0x352),updateTrophyImagePreview),_0x1e8282[_0x228474(0x368)]('paste',()=>{setTimeout(updateTrophyImagePreview,0xa);}));}function updateTrophyImagePreview(){const _0x49979d=a4_0x11bc30,_0x27fe9b=document[_0x49979d(0x50a)]('trophy-image-url')[_0x49979d(0x57c)][_0x49979d(0x515)](),_0x598106=document[_0x49979d(0x50a)](_0x49979d(0x1a0));if(!_0x598106){const _0x4e37f=document['getElementById'](_0x49979d(0x282))[_0x49979d(0x27e)](_0x49979d(0x43e)),_0x5407de=document[_0x49979d(0x1b8)](_0x49979d(0x327));_0x5407de['id']=_0x49979d(0x1a0),_0x5407de[_0x49979d(0x507)]=_0x49979d(0x460),_0x4e37f[_0x49979d(0x476)](_0x5407de);const _0x40ea72=document[_0x49979d(0x1b8)](_0x49979d(0x3fc));_0x40ea72['id']=_0x49979d(0x4dd),_0x40ea72[_0x49979d(0x1ba)]=_0x49979d(0x555),_0x40ea72[_0x49979d(0x32d)]=function(){const _0x1ac08e=_0x49979d;this['src']=DEFAULT_TROPHY_IMAGE,this[_0x1ac08e(0x3f1)][_0x1ac08e(0x417)](_0x1ac08e(0x5e8));},_0x5407de['appendChild'](_0x40ea72);}const _0x3dc969=document[_0x49979d(0x50a)]('trophy-preview-img');_0x27fe9b?(_0x3dc969[_0x49979d(0x1b0)]=_0x27fe9b,_0x3dc969[_0x49979d(0x416)][_0x49979d(0x1a1)]=_0x49979d(0x547),_0x3dc969['classList'][_0x49979d(0x3c8)](_0x49979d(0x5e8))):(_0x3dc969[_0x49979d(0x1b0)]=DEFAULT_TROPHY_IMAGE,_0x3dc969[_0x49979d(0x416)][_0x49979d(0x1a1)]=_0x49979d(0x547));}async function loadTrophyDefinitions(){const _0xe8c88b=a4_0x11bc30,_0x5a33ab=document[_0xe8c88b(0x50a)]('trophies-table-body');if(!_0x5a33ab)return;_0x5a33ab[_0xe8c88b(0x24a)]=_0xe8c88b(0x3ed);try{const _0x222c7a=collection(db,'trophyDefinitions'),_0x53b69e=query(_0x222c7a,orderBy('createdAt',_0xe8c88b(0x4ba))),_0x5b218f=await getDocs(_0x53b69e);if(_0x5b218f[_0xe8c88b(0x234)]){_0x5a33ab['innerHTML']=_0xe8c88b(0x43c);return;}_0x5a33ab[_0xe8c88b(0x24a)]='',_0x5b218f[_0xe8c88b(0x2a1)](_0x5e9675=>{const _0x4d2ed2=_0xe8c88b,_0x177875=_0x5e9675['data'](),_0x452a4c=document[_0x4d2ed2(0x1b8)]('tr'),_0x4026ca=_0x177875[_0x4d2ed2(0x30f)]?new Date(_0x177875[_0x4d2ed2(0x30f)][_0x4d2ed2(0x387)]*0x3e8)[_0x4d2ed2(0x259)]():_0x4d2ed2(0x545);_0x452a4c[_0x4d2ed2(0x24a)]=_0x4d2ed2(0x551)+(_0x177875[_0x4d2ed2(0x1e9)]||DEFAULT_TROPHY_IMAGE)+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22'+_0x177875[_0x4d2ed2(0x47d)]+_0x4d2ed2(0x192)+DEFAULT_TROPHY_IMAGE+_0x4d2ed2(0x5a5)+(_0x177875[_0x4d2ed2(0x47d)]||_0x4d2ed2(0x4df))+_0x4d2ed2(0x4b6)+(_0x177875[_0x4d2ed2(0x1a9)]||'common')+'\x22>'+(_0x177875[_0x4d2ed2(0x1a9)]||_0x4d2ed2(0x5b8))+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x4026ca+_0x4d2ed2(0x1bd)+_0x5e9675['id']+_0x4d2ed2(0x312)+_0x5e9675['id']+_0x4d2ed2(0x522)+_0x5e9675['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x5a33ab[_0x4d2ed2(0x476)](_0x452a4c);}),setupTrophyActionButtons();}catch(_0x29eec1){console[_0xe8c88b(0x5e8)](_0xe8c88b(0x359),_0x29eec1),_0x5a33ab['innerHTML']=_0xe8c88b(0x40a)+_0x29eec1[_0xe8c88b(0x4f7)]+_0xe8c88b(0x1d8);}}function setupTrophyActionButtons(){const _0x10e74b=a4_0x11bc30;document[_0x10e74b(0x2ae)]('.edit-trophy-btn')[_0x10e74b(0x2a1)](_0x28b947=>{_0x28b947['addEventListener']('click',_0x20b2b0=>{const _0x2303bc=a4_0x128d,_0x431bd1=_0x20b2b0['currentTarget'][_0x2303bc(0x303)]['id'];openTrophyModal(_0x431bd1);});}),document[_0x10e74b(0x2ae)](_0x10e74b(0x1fd))[_0x10e74b(0x2a1)](_0x281d01=>{const _0xff29e6=_0x10e74b;_0x281d01[_0xff29e6(0x368)](_0xff29e6(0x583),_0x3bf554=>{const _0x1da702=_0x3bf554['currentTarget']['dataset']['id'];openAssignTrophyModal(_0x1da702);});}),document['querySelectorAll'](_0x10e74b(0x5b9))[_0x10e74b(0x2a1)](_0x282940=>{const _0x13353c=_0x10e74b;_0x282940[_0x13353c(0x368)](_0x13353c(0x583),_0x53d2d8=>{const _0x477ca=_0x13353c,_0x35b2ba=_0x53d2d8['currentTarget'][_0x477ca(0x303)]['id'];confirmDeleteTrophy(_0x35b2ba);});});}function openTrophyModal(_0x50590c=null){const _0xf1ba58=a4_0x11bc30,_0x44dbc=document[_0xf1ba58(0x50a)](_0xf1ba58(0x4a6)),_0x40fe20=document[_0xf1ba58(0x50a)](_0xf1ba58(0x480)),_0x2a4fae=document[_0xf1ba58(0x50a)]('trophy-form'),_0x160985=document['getElementById'](_0xf1ba58(0x276));_0x2a4fae[_0xf1ba58(0x3e8)](),_0x160985['value']='';const _0x19f3c5=document[_0xf1ba58(0x50a)]('trophy-preview-img');_0x19f3c5&&(_0x19f3c5[_0xf1ba58(0x1b0)]=DEFAULT_TROPHY_IMAGE,_0x19f3c5[_0xf1ba58(0x3f1)]['remove'](_0xf1ba58(0x5e8))),_0x50590c?(_0x40fe20['textContent']=_0xf1ba58(0x49e),_0x160985[_0xf1ba58(0x57c)]=_0x50590c,loadTrophyData(_0x50590c)):_0x40fe20[_0xf1ba58(0x56a)]='Create\x20New\x20Trophy',_0x44dbc['classList'][_0xf1ba58(0x417)](_0xf1ba58(0x381));}async function loadTrophyData(_0x3e280){const _0x372a32=a4_0x11bc30;try{const _0x1c7151=doc(db,_0x372a32(0x3fb),_0x3e280),_0x1a7c66=await getDoc(_0x1c7151);if(!_0x1a7c66[_0x372a32(0x46c)]()){showNotification(_0x372a32(0x290),_0x372a32(0x5e8));return;}const _0x8bf62c=_0x1a7c66[_0x372a32(0x524)]();document['getElementById'](_0x372a32(0x527))[_0x372a32(0x57c)]=_0x8bf62c[_0x372a32(0x47d)]||'',document[_0x372a32(0x50a)](_0x372a32(0x419))[_0x372a32(0x57c)]=_0x8bf62c[_0x372a32(0x53a)]||'',document[_0x372a32(0x50a)](_0x372a32(0x282))[_0x372a32(0x57c)]=_0x8bf62c[_0x372a32(0x1e9)]||'',document['getElementById'](_0x372a32(0x191))[_0x372a32(0x57c)]=_0x8bf62c['rarity']||'common',updateTrophyImagePreview();}catch(_0x4dfd8e){console[_0x372a32(0x5e8)](_0x372a32(0x4ee),_0x4dfd8e),showNotification(_0x372a32(0x444),_0x372a32(0x5e8));}}async function saveTrophyDefinition(){const _0x1f92da=a4_0x11bc30;try{const _0x45276b=document[_0x1f92da(0x50a)](_0x1f92da(0x276))[_0x1f92da(0x57c)],_0x2b3f48=document[_0x1f92da(0x50a)](_0x1f92da(0x527))['value'][_0x1f92da(0x515)](),_0x5d8874=document[_0x1f92da(0x50a)]('trophy-description')[_0x1f92da(0x57c)]['trim'](),_0x15cdf7=document[_0x1f92da(0x50a)](_0x1f92da(0x282))[_0x1f92da(0x57c)][_0x1f92da(0x515)](),_0x5a017b=document[_0x1f92da(0x50a)](_0x1f92da(0x191))[_0x1f92da(0x57c)];if(!_0x2b3f48||!_0x5d8874||!_0x15cdf7){showNotification(_0x1f92da(0x26b),_0x1f92da(0x5e8));return;}const _0x14e098=auth[_0x1f92da(0x4c4)];if(!_0x14e098){showNotification('You\x20must\x20be\x20logged\x20in\x20to\x20save\x20trophies',_0x1f92da(0x5e8));return;}const _0x1b7030={'name':_0x2b3f48,'description':_0x5d8874,'image':_0x15cdf7,'rarity':_0x5a017b,'lastModifiedAt':serverTimestamp(),'lastModifiedBy':_0x14e098['email']};!_0x45276b?(_0x1b7030[_0x1f92da(0x30f)]=serverTimestamp(),_0x1b7030['createdBy']=_0x14e098[_0x1f92da(0x20d)],await addDoc(collection(db,_0x1f92da(0x3fb)),_0x1b7030),showNotification(_0x1f92da(0x204),_0x1f92da(0x284))):(await updateDoc(doc(db,_0x1f92da(0x3fb),_0x45276b),_0x1b7030),showNotification('Trophy\x20updated\x20successfully','success')),closeTrophyModal(),loadTrophyDefinitions();}catch(_0xfc7670){console[_0x1f92da(0x5e8)](_0x1f92da(0x2cc),_0xfc7670),showNotification(_0x1f92da(0x205)+_0xfc7670[_0x1f92da(0x4f7)],_0x1f92da(0x5e8));}}function closeTrophyModal(){const _0x1dd3c2=a4_0x11bc30,_0x3bb3e3=document[_0x1dd3c2(0x50a)](_0x1dd3c2(0x4a6));_0x3bb3e3&&_0x3bb3e3['classList'][_0x1dd3c2(0x3c8)](_0x1dd3c2(0x381));}async function confirmDeleteTrophy(_0x2b1368){const _0x1aab59=a4_0x11bc30;if(!_0x2b1368){console[_0x1aab59(0x5e8)](_0x1aab59(0x30e));return;}if(confirm(_0x1aab59(0x382)))try{const _0x32acb7=auth[_0x1aab59(0x4c4)];if(!_0x32acb7){showNotification(_0x1aab59(0x425),_0x1aab59(0x5e8));return;}console[_0x1aab59(0x1c0)](_0x1aab59(0x341)+_0x2b1368),await deleteDoc(doc(db,_0x1aab59(0x3fb),_0x2b1368)),showNotification(_0x1aab59(0x582),'success'),loadTrophyDefinitions();}catch(_0x27b8a4){console[_0x1aab59(0x5e8)]('Error\x20deleting\x20trophy\x20definition:',_0x27b8a4),showNotification(_0x1aab59(0x1eb)+_0x27b8a4['message'],'error');}}async function openAssignTrophyModal(_0x5e74c2){const _0x57ca1b=a4_0x11bc30;try{const _0x3e4a82=doc(db,_0x57ca1b(0x3fb),_0x5e74c2),_0x18db2e=await getDoc(_0x3e4a82);if(!_0x18db2e[_0x57ca1b(0x46c)]()){showNotification(_0x57ca1b(0x290),'error');return;}const _0x47ea5b=_0x18db2e[_0x57ca1b(0x524)]();document[_0x57ca1b(0x50a)](_0x57ca1b(0x56b))[_0x57ca1b(0x57c)]=_0x5e74c2,document[_0x57ca1b(0x50a)](_0x57ca1b(0x586))[_0x57ca1b(0x57c)]=_0x47ea5b[_0x57ca1b(0x47d)],document['getElementById'](_0x57ca1b(0x3e1))[_0x57ca1b(0x1b0)]=_0x47ea5b['image']||DEFAULT_TROPHY_IMAGE,document[_0x57ca1b(0x50a)]('assign-trophy-title')[_0x57ca1b(0x56a)]=_0x47ea5b[_0x57ca1b(0x47d)]||_0x57ca1b(0x5c8),document[_0x57ca1b(0x50a)]('assign-trophy-description')[_0x57ca1b(0x56a)]=_0x47ea5b[_0x57ca1b(0x53a)]||_0x57ca1b(0x211);const _0x96b66=document[_0x57ca1b(0x50a)](_0x57ca1b(0x386));_0x96b66[_0x57ca1b(0x56a)]=_0x47ea5b[_0x57ca1b(0x1a9)]||_0x57ca1b(0x5b8),_0x96b66[_0x57ca1b(0x507)]=_0x57ca1b(0x344)+(_0x47ea5b[_0x57ca1b(0x1a9)]||_0x57ca1b(0x5b8));const _0x2a2c67=document['getElementById'](_0x57ca1b(0x439));_0x2a2c67[_0x57ca1b(0x3f1)][_0x57ca1b(0x417)](_0x57ca1b(0x381));}catch(_0x75dd71){console['error']('Error\x20opening\x20assign\x20trophy\x20modal:',_0x75dd71),showNotification(_0x57ca1b(0x444),'error');}}function closeAssignTrophyModal(){const _0x587ac1=a4_0x11bc30,_0x4befb7=document[_0x587ac1(0x50a)](_0x587ac1(0x439));_0x4befb7&&_0x4befb7['classList'][_0x587ac1(0x3c8)]('active');}async function assignTrophyToPlayer(){const _0x204d43=a4_0x11bc30;try{const _0x3043c8=document[_0x204d43(0x50a)]('assign-trophy-id')['value'],_0x8c961=document[_0x204d43(0x50a)](_0x204d43(0x586))[_0x204d43(0x57c)],_0x471a66=document['getElementById']('assign-player-username')[_0x204d43(0x57c)][_0x204d43(0x515)](),_0x4370c=document[_0x204d43(0x2be)](_0x204d43(0x418))[_0x204d43(0x57c)];if(!_0x3043c8||!_0x471a66){showNotification(_0x204d43(0x5ab),'error');return;}const _0xb66251=auth[_0x204d43(0x4c4)];if(!_0xb66251){showNotification(_0x204d43(0x4e1),_0x204d43(0x5e8));return;}let _0xae6333=null,_0x1aa508=null,_0xabef77=null;if(_0x4370c===_0x204d43(0x432)){const _0x13b410=collection(db,'nonParticipants'),_0x20787e=query(_0x13b410,where('username','==',_0x471a66)),_0x454faf=await getDocs(_0x20787e);!_0x454faf[_0x204d43(0x234)]&&(_0xae6333=_0x454faf[_0x204d43(0x485)][0x0],_0x1aa508=_0xae6333['id'],_0xabef77=_0xae6333['data']());}else{const _0x2d2aae=_0x4370c==='D1'?_0x204d43(0x28d):_0x4370c==='D2'?'playersD2':'playersD3',_0x2241e7=collection(db,_0x2d2aae),_0x4c94e3=query(_0x2241e7,where(_0x204d43(0x53b),'==',_0x471a66)),_0x5c9301=await getDocs(_0x4c94e3);!_0x5c9301[_0x204d43(0x234)]&&(_0xae6333=_0x5c9301[_0x204d43(0x485)][0x0],_0x1aa508=_0xae6333['id'],_0xabef77=_0xae6333[_0x204d43(0x524)]());}if(!_0xae6333){showNotification('Player\x20\x22'+_0x471a66+'\x22\x20not\x20found\x20in\x20'+(_0x4370c===_0x204d43(0x432)?_0x204d43(0x492):_0x4370c+'\x20ladder'),_0x204d43(0x5e8));return;}const _0x191aab=collection(db,_0x204d43(0x21e)),_0xfd3f5=query(_0x191aab,where('userId','==',_0x1aa508),where(_0x204d43(0x206),'==',_0x3043c8)),_0x172d1a=await getDocs(_0xfd3f5);if(!_0x172d1a[_0x204d43(0x234)]){showNotification(_0x204d43(0x5bf)+_0x471a66+_0x204d43(0x3b5),_0x204d43(0x265));return;}await addDoc(collection(db,'userTrophies'),{'userId':_0x1aa508,'playerUsername':_0x471a66,'trophyId':_0x3043c8,'awardedAt':serverTimestamp(),'awardedBy':_0xb66251[_0x204d43(0x20d)],'ladder':_0x4370c}),showNotification(_0x204d43(0x5b3)+_0x8c961+'\x22\x20awarded\x20to\x20'+_0x471a66,_0x204d43(0x284)),closeAssignTrophyModal();}catch(_0x470e01){console['error'](_0x204d43(0x1c9),_0x470e01),showNotification('Failed\x20to\x20assign\x20trophy:\x20'+_0x470e01['message'],'error');}}function setupInactivePlayersSection(){const _0x40c339=a4_0x11bc30,_0x19f7d5=document[_0x40c339(0x50a)](_0x40c339(0x198));_0x19f7d5&&_0x19f7d5[_0x40c339(0x368)](_0x40c339(0x401),function(){const _0x2b8eed=_0x40c339,_0x2ec364=document['getElementById']('load-inactive-players-data');if(_0x2ec364)_0x2ec364[_0x2b8eed(0x583)]();});const _0xca5d78=document['querySelector'](_0x40c339(0x467)),_0x5a07a7=document['querySelector'](_0x40c339(0x577));_0xca5d78&&_0x5a07a7&&(_0xca5d78['addEventListener']('change',function(){const _0x1fac97=_0x40c339;if(this[_0x1fac97(0x52a)]){currentLadder='D1';if(document['getElementById'](_0x1fac97(0x331))[_0x1fac97(0x416)][_0x1fac97(0x1a1)]!==_0x1fac97(0x1e3)){const _0x17ca2d=document['getElementById'](_0x1fac97(0x4d4));if(_0x17ca2d)_0x17ca2d[_0x1fac97(0x583)]();}}}),_0x5a07a7[_0x40c339(0x368)](_0x40c339(0x401),function(){const _0x1056db=_0x40c339;if(this[_0x1056db(0x52a)]){currentLadder='D2';if(document[_0x1056db(0x50a)](_0x1056db(0x331))[_0x1056db(0x416)][_0x1056db(0x1a1)]!==_0x1056db(0x1e3)){const _0xf5a946=document[_0x1056db(0x50a)]('load-inactive-players-data');if(_0xf5a946)_0xf5a946[_0x1056db(0x583)]();}}}));const _0x1a4c94=document[_0x40c339(0x50a)]('inactive-players-search');_0x1a4c94&&_0x1a4c94[_0x40c339(0x368)](_0x40c339(0x352),debounce(function(){const _0x190e4f=_0x40c339,_0x18199f=_0x1a4c94['value'][_0x190e4f(0x262)](),_0x304463=document[_0x190e4f(0x2ae)](_0x190e4f(0x5e6));_0x304463[_0x190e4f(0x2a1)](_0x45478b=>{const _0x53d632=_0x190e4f;if(_0x45478b[_0x53d632(0x2be)](_0x53d632(0x44c))||_0x45478b[_0x53d632(0x2be)]('.empty-state')||_0x45478b[_0x53d632(0x2be)](_0x53d632(0x4fc)))return;const _0x569b45=_0x45478b[_0x53d632(0x468)][0x0]?.[_0x53d632(0x56a)][_0x53d632(0x262)]()||'',_0x46cd82=_0x45478b[_0x53d632(0x468)][0x5]?.[_0x53d632(0x56a)][_0x53d632(0x262)]()||'';_0x569b45[_0x53d632(0x287)](_0x18199f)||_0x46cd82[_0x53d632(0x287)](_0x18199f)?_0x45478b[_0x53d632(0x416)][_0x53d632(0x1a1)]='':_0x45478b['style'][_0x53d632(0x1a1)]=_0x53d632(0x1e3);});},0x12c)),document[_0x40c339(0x368)](_0x40c339(0x583),function(_0x5791d8){const _0x1d6b76=_0x40c339;if(_0x5791d8[_0x1d6b76(0x5d8)][_0x1d6b76(0x27e)](_0x1d6b76(0x560))){const _0xa484b9=_0x5791d8[_0x1d6b76(0x5d8)]['closest'](_0x1d6b76(0x560)),_0x43abd6=_0xa484b9[_0x1d6b76(0x303)][_0x1d6b76(0x53b)];_0x43abd6&&alert('View\x20player\x20details\x20for\x20'+_0x43abd6+_0x1d6b76(0x3df));}}),console[_0x40c339(0x1c0)](_0x40c339(0x5c3));}async function loadInactivePlayersData(){const _0x46a8f8=a4_0x11bc30,_0x38b6f3=document[_0x46a8f8(0x50a)](_0x46a8f8(0x25b));if(!_0x38b6f3)return;_0x38b6f3[_0x46a8f8(0x24a)]='<tr><td\x20colspan=\x227\x22\x20class=\x22loading-cell\x22>Loading\x20inactive\x20players...</td></tr>';try{const _0x496e26=document[_0x46a8f8(0x50a)](_0x46a8f8(0x198)),_0x407411=_0x496e26?parseInt(_0x496e26[_0x46a8f8(0x57c)])||0x0:0x0,_0x219079=collection(db,currentLadder==='D1'?'players':_0x46a8f8(0x274)),_0x50984e=await getDocs(_0x219079);if(_0x50984e['empty']){_0x38b6f3[_0x46a8f8(0x24a)]='<tr><td\x20colspan=\x227\x22\x20class=\x22empty-state\x22>No\x20players\x20found\x20in\x20this\x20ladder</td></tr>';return;}const _0x52f90d=[];_0x50984e[_0x46a8f8(0x2a1)](_0x30bd35=>{const _0xcec6fc=_0x46a8f8,_0xa7b56d=_0x30bd35[_0xcec6fc(0x524)]();_0x52f90d['push']({..._0xa7b56d,'id':_0x30bd35['id'],'username':_0xa7b56d[_0xcec6fc(0x53b)]||_0xcec6fc(0x4ff)});}),console[_0x46a8f8(0x1c0)](_0x46a8f8(0x407)+_0x52f90d[_0x46a8f8(0x49f)]+_0x46a8f8(0x1f5)+currentLadder+_0x46a8f8(0x1f4));const _0x54e3f5=currentLadder==='D1'?_0x46a8f8(0x31e):_0x46a8f8(0x1b5),_0x37d88d=_0x52f90d[_0x46a8f8(0x5be)](async _0x183ad8=>{const _0x11a338=_0x46a8f8;try{const _0x2e667c=collection(db,_0x54e3f5),_0x1d0760=query(_0x2e667c,or(where(_0x11a338(0x322),'==',_0x183ad8[_0x11a338(0x53b)]),where(_0x11a338(0x39b),'==',_0x183ad8[_0x11a338(0x53b)])),orderBy(_0x11a338(0x21f),_0x11a338(0x4ba)),limit(0x1)),_0x4d12df=await getDocs(_0x1d0760);if(!_0x4d12df['empty']){const _0x2ac9f6=_0x4d12df[_0x11a338(0x485)][0x0][_0x11a338(0x524)](),_0x36bf59=_0x2ac9f6[_0x11a338(0x21f)]?new Date(_0x2ac9f6['approvedAt'][_0x11a338(0x387)]*0x3e8):null,_0x166744=new Date(),_0x2eaaf4=_0x36bf59?Math[_0x11a338(0x4f2)]((_0x166744-_0x36bf59)/(0x3e8*0x3c*0x3c*0x18)):null,_0x4d6685=_0x2ac9f6[_0x11a338(0x322)]===_0x183ad8[_0x11a338(0x53b)]?_0x2ac9f6[_0x11a338(0x39b)]:_0x2ac9f6['winnerUsername'],_0x5c031b=_0x2ac9f6[_0x11a338(0x322)]===_0x183ad8[_0x11a338(0x53b)]?_0x11a338(0x581):'Lost';return{..._0x183ad8,'lastMatch':{'date':_0x36bf59?_0x36bf59[_0x11a338(0x379)]():'N/A','opponent':_0x4d6685||_0x11a338(0x426),'result':_0x5c031b,'timestamp':_0x36bf59||new Date(0x0),'daysSinceMatch':_0x2eaaf4||Number[_0x11a338(0x4e5)]}};}else return{..._0x183ad8,'lastMatch':{'date':_0x11a338(0x4b8),'opponent':'N/A','result':'N/A','timestamp':new Date(0x0),'daysSinceMatch':Number[_0x11a338(0x4e5)]}};}catch(_0x3d3ce2){return console[_0x11a338(0x5e8)](_0x11a338(0x53d)+_0x183ad8['username']+':',_0x3d3ce2),{..._0x183ad8,'lastMatch':{'date':_0x11a338(0x4af),'opponent':_0x11a338(0x4af),'result':'Error','timestamp':new Date(0x0),'daysSinceMatch':0x0}};}});let _0x4f2753=await Promise[_0x46a8f8(0x264)](_0x37d88d);_0x4f2753['sort']((_0x1ef3e7,_0x5043da)=>_0x5043da[_0x46a8f8(0x258)][_0x46a8f8(0x37e)]-_0x1ef3e7[_0x46a8f8(0x258)][_0x46a8f8(0x37e)]);_0x407411>0x0&&(_0x4f2753=_0x4f2753[_0x46a8f8(0x564)](_0x48c956=>_0x48c956['lastMatch'][_0x46a8f8(0x37e)]>=_0x407411));_0x38b6f3[_0x46a8f8(0x24a)]='';if(_0x4f2753['length']===0x0){_0x38b6f3['innerHTML']='<tr><td\x20colspan=\x227\x22\x20class=\x22empty-state\x22>No\x20inactive\x20players\x20match\x20your\x20criteria</td></tr>';return;}_0x4f2753[_0x46a8f8(0x2a1)](_0x4575ba=>{const _0x14aa93=_0x46a8f8,_0x5edcc0=document[_0x14aa93(0x1b8)]('tr'),_0x4d435c=_0x4575ba[_0x14aa93(0x258)][_0x14aa93(0x37e)]>0x1e?'highly-inactive':_0x4575ba[_0x14aa93(0x258)]['daysSinceMatch']>0xe?_0x14aa93(0x244):'';_0x5edcc0['className']=_0x4d435c,_0x5edcc0['innerHTML']=_0x14aa93(0x1c4)+_0x4575ba[_0x14aa93(0x53b)]+_0x14aa93(0x505)+(_0x4575ba['eloRating']||0x4b0)+_0x14aa93(0x505)+_0x4575ba['lastMatch'][_0x14aa93(0x443)]+_0x14aa93(0x505)+(_0x4575ba[_0x14aa93(0x258)][_0x14aa93(0x37e)]===Number[_0x14aa93(0x4e5)]?_0x14aa93(0x545):_0x4575ba[_0x14aa93(0x258)][_0x14aa93(0x37e)])+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+currentLadder+_0x14aa93(0x505)+(_0x4575ba['lastMatch'][_0x14aa93(0x443)]===_0x14aa93(0x4b8)?_0x14aa93(0x25f):_0x4575ba['lastMatch'][_0x14aa93(0x2e8)]+_0x14aa93(0x348)+_0x4575ba[_0x14aa93(0x258)][_0x14aa93(0x4ed)])+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22view-player-btn\x22\x20data-username=\x22'+_0x4575ba['username']+_0x14aa93(0x4d1),_0x38b6f3[_0x14aa93(0x476)](_0x5edcc0);}),console['log'](_0x46a8f8(0x1e8)+_0x4f2753[_0x46a8f8(0x49f)]+'\x20inactive\x20players');}catch(_0x5ae48f){console[_0x46a8f8(0x5e8)]('Error\x20loading\x20inactive\x20players:',_0x5ae48f),_0x38b6f3[_0x46a8f8(0x24a)]='<tr><td\x20colspan=\x227\x22\x20class=\x22error-state\x22>Error\x20loading\x20inactive\x20players:\x20'+_0x5ae48f['message']+_0x46a8f8(0x5b1);}}function setupHighlightButtons(){const _0x3f6a1a=a4_0x11bc30;console['log'](_0x3f6a1a(0x4a2));const _0x5d02a4=document[_0x3f6a1a(0x50a)](_0x3f6a1a(0x51a));_0x5d02a4&&_0x5d02a4[_0x3f6a1a(0x368)]('click',function(){const _0x4af6eb=_0x3f6a1a;console['log'](_0x4af6eb(0x58c)),openHighlightModal(_0x4af6eb(0x4ef));});const _0x2d5b34=document[_0x3f6a1a(0x50a)]('create-creator-highlight-btn');_0x2d5b34&&_0x2d5b34[_0x3f6a1a(0x368)]('click',function(){const _0x450835=_0x3f6a1a;console[_0x450835(0x1c0)](_0x450835(0x250)),openHighlightModal(_0x450835(0x537));});const _0x270bf9=document[_0x3f6a1a(0x50a)](_0x3f6a1a(0x240));_0x270bf9&&_0x270bf9[_0x3f6a1a(0x368)](_0x3f6a1a(0x583),function(){const _0xb46485=_0x3f6a1a;console[_0xb46485(0x1c0)]('Achievement\x20highlight\x20button\x20clicked'),openHighlightModal(_0xb46485(0x528));});}function openHighlightModal(_0x34a33b='match'){const _0x27fda1=a4_0x11bc30;console[_0x27fda1(0x1c0)](_0x27fda1(0x42f)+_0x34a33b);const _0x2af28e=document[_0x27fda1(0x50a)](_0x27fda1(0x39e)),_0x21c487=document[_0x27fda1(0x50a)](_0x27fda1(0x2ee)),_0x29d739=document[_0x27fda1(0x50a)](_0x27fda1(0x58b)),_0x5b5d2d=document[_0x27fda1(0x50a)](_0x27fda1(0x350));if(!_0x2af28e||!_0x21c487||!_0x29d739){console[_0x27fda1(0x5e8)](_0x27fda1(0x4db));return;}_0x21c487['reset'](),_0x5b5d2d[_0x27fda1(0x57c)]='';const _0x23f46c=['match','creator',_0x27fda1(0x528)],_0x702e9d=!_0x23f46c['includes'](_0x34a33b);if(_0x702e9d){const _0x97f920=_0x34a33b;_0x5b5d2d['value']=_0x97f920,_0x29d739[_0x27fda1(0x56a)]=_0x27fda1(0x233),loadHighlightDataAdmin(_0x97f920);}else{const _0x41e188=_0x34a33b;document[_0x27fda1(0x50a)](_0x27fda1(0x1ad))[_0x27fda1(0x57c)]=_0x41e188,_0x29d739[_0x27fda1(0x56a)]=_0x27fda1(0x5d4)+getHighlightTypeName(_0x41e188),toggleHighlightFields(_0x41e188);const _0xe1a560=auth[_0x27fda1(0x4c4)];_0xe1a560&&document[_0x27fda1(0x50a)](_0x27fda1(0x4d0))&&(document[_0x27fda1(0x50a)](_0x27fda1(0x4d0))[_0x27fda1(0x57c)]=_0xe1a560[_0x27fda1(0x4c0)]||_0xe1a560[_0x27fda1(0x20d)]);}_0x2af28e[_0x27fda1(0x3f1)][_0x27fda1(0x417)]('active');}function toggleHighlightFields(_0x29b96a){const _0x53fe68=a4_0x11bc30;console[_0x53fe68(0x1c0)](_0x53fe68(0x576)+_0x29b96a);const _0x1ca480=document[_0x53fe68(0x50a)](_0x53fe68(0x2ee));if(!_0x1ca480)return;const _0x53a028=_0x1ca480[_0x53fe68(0x2ae)](_0x53fe68(0x559));_0x53a028[_0x53fe68(0x2a1)](_0x27cec7=>_0x27cec7[_0x53fe68(0x416)][_0x53fe68(0x1a1)]=_0x53fe68(0x1e3));const _0x290e9a=document['getElementById'](_0x53fe68(0x523));if(_0x290e9a)_0x290e9a[_0x53fe68(0x416)][_0x53fe68(0x1a1)]=_0x53fe68(0x1e3);const _0x3bf1b1=[_0x53fe68(0x544),_0x53fe68(0x3ae),'highlight-submitted-by-container'];_0x3bf1b1[_0x53fe68(0x2a1)](_0x57f7d1=>{const _0x147192=_0x53fe68,_0x1103a7=document[_0x147192(0x50a)](_0x57f7d1);if(_0x1103a7)_0x1103a7[_0x147192(0x416)]['display']='block';});if(_0x29b96a===_0x53fe68(0x4ef)){const _0x136cbf=[_0x53fe68(0x4ae),'highlight-match-info-container',_0x53fe68(0x1fc),'highlight-match-date-container',_0x53fe68(0x3ef),_0x53fe68(0x21b)];_0x136cbf['forEach'](_0x341ac3=>{const _0x4aadc9=_0x53fe68,_0x23e347=document[_0x4aadc9(0x50a)](_0x341ac3);_0x23e347&&(_0x341ac3===_0x4aadc9(0x3ef)?_0x23e347['style'][_0x4aadc9(0x1a1)]=_0x4aadc9(0x4b3):_0x23e347[_0x4aadc9(0x416)]['display']='block');});const _0xd77e28=document['getElementById']('highlight-video-id');if(_0xd77e28){_0xd77e28[_0x53fe68(0x4e7)]=!![];const _0x21d323=_0xd77e28[_0x53fe68(0x228)];if(_0x21d323)_0x21d323[_0x53fe68(0x24a)]=_0x53fe68(0x266);}if(_0x290e9a)_0x290e9a[_0x53fe68(0x416)][_0x53fe68(0x1a1)]=_0x53fe68(0x547);updateHighlightVideoPreview();}else{if(_0x29b96a===_0x53fe68(0x537)){const _0x1ea588=[_0x53fe68(0x1fc),'highlight-map-creator-container','highlight-map-version-container',_0x53fe68(0x519),_0x53fe68(0x4ae)];_0x1ea588[_0x53fe68(0x2a1)](_0x38dec6=>{const _0x2406b9=_0x53fe68,_0x14ae78=document['getElementById'](_0x38dec6);if(_0x14ae78)_0x14ae78[_0x2406b9(0x416)][_0x2406b9(0x1a1)]=_0x2406b9(0x547);});const _0x493443=document[_0x53fe68(0x50a)](_0x53fe68(0x298));if(_0x493443){_0x493443['required']=![];const _0xf2a07=_0x493443[_0x53fe68(0x228)];if(_0xf2a07)_0xf2a07['innerHTML']=_0x53fe68(0x3a5);}}else{if(_0x29b96a===_0x53fe68(0x528)){const _0x563697=[_0x53fe68(0x525),_0x53fe68(0x281),_0x53fe68(0x260),'highlight-player-profile-container',_0x53fe68(0x405),_0x53fe68(0x4ae)];_0x563697[_0x53fe68(0x2a1)](_0x1b0f2f=>{const _0x364808=_0x53fe68,_0x22e2b6=document[_0x364808(0x50a)](_0x1b0f2f);if(_0x22e2b6)_0x22e2b6['style'][_0x364808(0x1a1)]=_0x364808(0x547);});const _0x966679=document[_0x53fe68(0x50a)](_0x53fe68(0x298));if(_0x966679){_0x966679[_0x53fe68(0x4e7)]=![];const _0x1ab958=_0x966679[_0x53fe68(0x228)];if(_0x1ab958)_0x1ab958[_0x53fe68(0x24a)]=_0x53fe68(0x3a5);}}}}}async function loadHighlightDataAdmin(_0x130e9e){const _0xd994c1=a4_0x11bc30;try{const _0x218d01=doc(db,_0xd994c1(0x398),_0x130e9e),_0x29c060=await getDoc(_0x218d01);if(!_0x29c060[_0xd994c1(0x46c)]()){showNotification(_0xd994c1(0x25e),_0xd994c1(0x5e8));return;}const _0x127861=_0x29c060['data'](),_0x142dcf=_0x127861[_0xd994c1(0x214)]||_0xd994c1(0x4ef);document['getElementById'](_0xd994c1(0x58b))[_0xd994c1(0x56a)]=_0xd994c1(0x46d)+getHighlightTypeName(_0x142dcf),document[_0xd994c1(0x50a)](_0xd994c1(0x1ad))[_0xd994c1(0x57c)]=_0x142dcf,toggleHighlightFields(_0x142dcf),document[_0xd994c1(0x50a)](_0xd994c1(0x278))[_0xd994c1(0x57c)]=_0x127861[_0xd994c1(0x277)]||'',document[_0xd994c1(0x50a)](_0xd994c1(0x243))[_0xd994c1(0x57c)]=_0x127861[_0xd994c1(0x53a)]||'',document['getElementById'](_0xd994c1(0x4d0))['value']=_0x127861['submittedBy']||'';_0x127861['videoId']&&(document[_0xd994c1(0x50a)](_0xd994c1(0x298))['value']=_0x127861[_0xd994c1(0x4c8)],updateHighlightVideoPreview());if(_0x142dcf===_0xd994c1(0x4ef)){document['getElementById']('highlight-match-info')[_0xd994c1(0x57c)]=_0x127861[_0xd994c1(0x510)]||'',document[_0xd994c1(0x50a)]('highlight-map')['value']=_0x127861[_0xd994c1(0x5be)]||'';if(_0x127861[_0xd994c1(0x569)]){const _0x20cacd=new Date(_0x127861[_0xd994c1(0x569)][_0xd994c1(0x387)]*0x3e8);document['getElementById'](_0xd994c1(0x37f))[_0xd994c1(0x57c)]=_0x20cacd[_0xd994c1(0x42d)]()['split']('T')[0x0];}document[_0xd994c1(0x50a)]('highlight-winner-name')[_0xd994c1(0x57c)]=_0x127861[_0xd994c1(0x1f8)]||'',document[_0xd994c1(0x50a)](_0xd994c1(0x283))[_0xd994c1(0x57c)]=_0x127861[_0xd994c1(0x196)]||'',document['getElementById'](_0xd994c1(0x3ac))['value']=_0x127861[_0xd994c1(0x3ca)]||'',document[_0xd994c1(0x50a)]('highlight-loser-score')['value']=_0x127861[_0xd994c1(0x473)]||'',document[_0xd994c1(0x50a)](_0xd994c1(0x442))['value']=_0x127861[_0xd994c1(0x200)]||'';}else{if(_0x142dcf===_0xd994c1(0x537))document[_0xd994c1(0x50a)](_0xd994c1(0x351))[_0xd994c1(0x57c)]=_0x127861[_0xd994c1(0x5be)]||'',document[_0xd994c1(0x50a)](_0xd994c1(0x24f))[_0xd994c1(0x57c)]=_0x127861[_0xd994c1(0x1af)]||'',document[_0xd994c1(0x50a)](_0xd994c1(0x5ef))[_0xd994c1(0x57c)]=_0x127861[_0xd994c1(0x2fb)]||'',document[_0xd994c1(0x50a)](_0xd994c1(0x1f7))[_0xd994c1(0x57c)]=_0x127861['creatorImageUrl']||'';else _0x142dcf===_0xd994c1(0x528)&&(document[_0xd994c1(0x50a)]('highlight-achievement-player')[_0xd994c1(0x57c)]=_0x127861[_0xd994c1(0x2f8)]||'',document['getElementById']('highlight-achievement-type')[_0xd994c1(0x57c)]=_0x127861[_0xd994c1(0x3a1)]||'',document[_0xd994c1(0x50a)]('highlight-achievement-details')[_0xd994c1(0x57c)]=_0x127861[_0xd994c1(0x461)]||'',document[_0xd994c1(0x50a)](_0xd994c1(0x3b0))[_0xd994c1(0x57c)]=_0x127861[_0xd994c1(0x534)]||'',document[_0xd994c1(0x50a)](_0xd994c1(0x33b))['value']=_0x127861[_0xd994c1(0x4cf)]||'');}}catch(_0x266f45){console['error'](_0xd994c1(0x38d),_0x266f45),showNotification(_0xd994c1(0x5ca)+_0x266f45[_0xd994c1(0x4f7)],_0xd994c1(0x5e8));}}async function saveHighlight(){const _0x115995=a4_0x11bc30;try{const _0x173d63=document['getElementById'](_0x115995(0x350))?.[_0x115995(0x57c)]||'',_0x53ba86=document[_0x115995(0x50a)](_0x115995(0x1ad))?.['value']||'match',_0x342c7e={'title':document[_0x115995(0x50a)]('highlight-title')?.['value']?.['trim']()||'','description':document[_0x115995(0x50a)]('highlight-description')?.[_0x115995(0x57c)]?.[_0x115995(0x515)]()||'','submittedBy':document[_0x115995(0x50a)]('highlight-submitted-by')?.['value']?.['trim']()||'','videoId':document[_0x115995(0x50a)](_0x115995(0x298))?.[_0x115995(0x57c)]?.[_0x115995(0x515)]()||null,'type':_0x53ba86};if(!_0x342c7e[_0x115995(0x277)]){showNotification(_0x115995(0x550),_0x115995(0x5e8));return;}if(_0x53ba86===_0x115995(0x4ef)){_0x342c7e[_0x115995(0x510)]=document[_0x115995(0x50a)]('highlight-match-info')?.[_0x115995(0x57c)]?.[_0x115995(0x515)]()||'',_0x342c7e[_0x115995(0x5be)]=document[_0x115995(0x50a)]('highlight-map')?.[_0x115995(0x57c)]?.[_0x115995(0x515)]()||'';const _0x721c7a=document[_0x115995(0x50a)](_0x115995(0x37f)),_0x5c7f27=_0x721c7a?.[_0x115995(0x57c)]||'';_0x342c7e[_0x115995(0x569)]=_0x5c7f27?Timestamp[_0x115995(0x565)](new Date(_0x5c7f27)):null,_0x342c7e[_0x115995(0x1f8)]=document[_0x115995(0x50a)]('highlight-winner-name')?.[_0x115995(0x57c)]?.[_0x115995(0x515)]()||'',_0x342c7e[_0x115995(0x196)]=document['getElementById'](_0x115995(0x283))?.[_0x115995(0x57c)]?.['trim']()||'',_0x342c7e[_0x115995(0x3ca)]=document[_0x115995(0x50a)]('highlight-loser-name')?.[_0x115995(0x57c)]?.[_0x115995(0x515)]()||'',_0x342c7e[_0x115995(0x473)]=document['getElementById'](_0x115995(0x3c9))?.[_0x115995(0x57c)]?.['trim']()||'',_0x342c7e['matchLink']=document[_0x115995(0x50a)](_0x115995(0x442))?.[_0x115995(0x57c)]?.[_0x115995(0x515)]()||'';if(!_0x342c7e[_0x115995(0x4c8)]){showNotification(_0x115995(0x5a4),_0x115995(0x5e8));return;}}else{if(_0x53ba86===_0x115995(0x537)){_0x342c7e[_0x115995(0x5be)]=document[_0x115995(0x50a)](_0x115995(0x351))?.[_0x115995(0x57c)]?.['trim']()||'',_0x342c7e[_0x115995(0x1af)]=document[_0x115995(0x50a)](_0x115995(0x24f))?.['value']?.[_0x115995(0x515)]()||'',_0x342c7e[_0x115995(0x2fb)]=document[_0x115995(0x50a)](_0x115995(0x5ef))?.[_0x115995(0x57c)]?.[_0x115995(0x515)]()||'',_0x342c7e[_0x115995(0x26d)]=document['getElementById']('highlight-creator-image')?.[_0x115995(0x57c)]?.['trim']()||'';if(!_0x342c7e[_0x115995(0x1af)]){showNotification(_0x115995(0x1dd),'error');return;}}else{if(_0x53ba86===_0x115995(0x528)){_0x342c7e['achievementPlayer']=document[_0x115995(0x50a)](_0x115995(0x57f))?.[_0x115995(0x57c)]?.[_0x115995(0x515)]()||'',_0x342c7e[_0x115995(0x3a1)]=document[_0x115995(0x50a)](_0x115995(0x4e9))?.['value']?.[_0x115995(0x515)]()||'',_0x342c7e[_0x115995(0x461)]=document[_0x115995(0x50a)](_0x115995(0x3a0))?.['value']?.[_0x115995(0x515)]()||'',_0x342c7e[_0x115995(0x534)]=document[_0x115995(0x50a)](_0x115995(0x3b0))?.[_0x115995(0x57c)]?.[_0x115995(0x515)]()||'',_0x342c7e['achievementImageUrl']=document[_0x115995(0x50a)](_0x115995(0x33b))?.[_0x115995(0x57c)]?.['trim']()||'';if(!_0x342c7e[_0x115995(0x2f8)]){showNotification(_0x115995(0x37a),_0x115995(0x5e8));return;}}}}_0x173d63?(_0x342c7e[_0x115995(0x308)]=serverTimestamp(),await updateDoc(doc(db,_0x115995(0x398),_0x173d63),_0x342c7e),showNotification(_0x115995(0x5a6),_0x115995(0x284))):(_0x342c7e[_0x115995(0x30f)]=serverTimestamp(),await addDoc(collection(db,_0x115995(0x398)),_0x342c7e),showNotification(_0x115995(0x358),_0x115995(0x284))),closeHighlightModal(),loadHighlightsAdmin();}catch(_0x320a60){console[_0x115995(0x5e8)](_0x115995(0x2c4),_0x320a60),showNotification(_0x115995(0x294)+_0x320a60[_0x115995(0x4f7)],_0x115995(0x5e8));}}function closeHighlightModal(){const _0x3e6c51=a4_0x11bc30,_0x44eccb=document[_0x3e6c51(0x50a)]('highlight-modal');if(_0x44eccb)_0x44eccb['classList'][_0x3e6c51(0x3c8)]('active');}function getHighlightTypeName(_0x38cf49){const _0xb6eca0=a4_0x11bc30;switch(_0x38cf49){case _0xb6eca0(0x4ef):return _0xb6eca0(0x584);case _0xb6eca0(0x537):return _0xb6eca0(0x557);case'achievement':return _0xb6eca0(0x506);default:return _0xb6eca0(0x332);}}function updateHighlightVideoPreview(){const _0x5ba6e1=a4_0x11bc30,_0x138dea=document[_0x5ba6e1(0x50a)](_0x5ba6e1(0x298)),_0x5dab91=document[_0x5ba6e1(0x50a)]('highlight-video-preview-container'),_0x391ee4=document[_0x5ba6e1(0x50a)]('highlight-video-preview');if(!_0x138dea||!_0x391ee4||!_0x5dab91)return;const _0x32119f=_0x138dea[_0x5ba6e1(0x57c)][_0x5ba6e1(0x515)]();_0x32119f&&/^[a-zA-Z0-9_-]{11}$/['test'](_0x32119f)?(_0x391ee4[_0x5ba6e1(0x1b0)]=_0x5ba6e1(0x542)+_0x32119f,_0x5dab91[_0x5ba6e1(0x416)]['display']=_0x5ba6e1(0x547)):(_0x391ee4[_0x5ba6e1(0x1b0)]='',_0x5dab91[_0x5ba6e1(0x416)][_0x5ba6e1(0x1a1)]=_0x5ba6e1(0x1e3));}async function loadHighlightsAdmin(){const _0x22b2ea=a4_0x11bc30,_0x563991=document[_0x22b2ea(0x50a)](_0x22b2ea(0x49b));if(!_0x563991)return;_0x563991['innerHTML']=_0x22b2ea(0x35c);try{const _0x39629b=query(collection(db,_0x22b2ea(0x398)),orderBy('createdAt',_0x22b2ea(0x4ba))),_0x4aeefa=await getDocs(_0x39629b);if(_0x4aeefa[_0x22b2ea(0x234)]){_0x563991[_0x22b2ea(0x24a)]=_0x22b2ea(0x5c1);return;}_0x563991[_0x22b2ea(0x24a)]='',_0x4aeefa[_0x22b2ea(0x2a1)](_0x3a9de8=>{const _0x2a01f2=_0x22b2ea,_0x4db566=_0x3a9de8[_0x2a01f2(0x524)](),_0x376ec1=document[_0x2a01f2(0x1b8)]('tr'),_0x420bd3=_0x4db566[_0x2a01f2(0x30f)]?new Date(_0x4db566[_0x2a01f2(0x30f)]['seconds']*0x3e8)[_0x2a01f2(0x379)]():_0x2a01f2(0x545);let _0x35e66c=_0x2a01f2(0x426),_0x51b353='';switch(_0x4db566['type']){case _0x2a01f2(0x4ef):_0x35e66c=_0x2a01f2(0x246),_0x51b353=_0x2a01f2(0x45d);break;case _0x2a01f2(0x537):_0x35e66c=_0x2a01f2(0x55f),_0x51b353=_0x2a01f2(0x45e);break;case _0x2a01f2(0x528):_0x35e66c='Achievement',_0x51b353='achievement-type';break;}_0x376ec1[_0x2a01f2(0x24a)]=_0x2a01f2(0x1c4)+(_0x4db566[_0x2a01f2(0x277)]||'Untitled')+_0x2a01f2(0x374)+_0x51b353+'\x22>'+_0x35e66c+_0x2a01f2(0x34f)+_0x420bd3+_0x2a01f2(0x505)+(_0x4db566[_0x2a01f2(0x2d9)]||'Unknown')+_0x2a01f2(0x505)+(_0x4db566[_0x2a01f2(0x4c8)]?'<i\x20class=\x22fas\x20fa-video\x22></i>\x20Yes':_0x2a01f2(0x46b))+_0x2a01f2(0x4ab)+_0x3a9de8['id']+_0x2a01f2(0x5ac)+_0x3a9de8['id']+_0x2a01f2(0x4e0),_0x563991[_0x2a01f2(0x476)](_0x376ec1);}),document[_0x22b2ea(0x2ae)](_0x22b2ea(0x50e))[_0x22b2ea(0x2a1)](_0x427332=>{const _0x40f521=_0x22b2ea;_0x427332[_0x40f521(0x368)](_0x40f521(0x583),_0x19aceb=>{const _0x3bd2ea=_0x40f521;openHighlightModal(_0x19aceb[_0x3bd2ea(0x193)]['dataset']['id']);});}),document['querySelectorAll']('.delete-highlight-btn')[_0x22b2ea(0x2a1)](_0x1533f1=>{const _0x57cf0c=_0x22b2ea;_0x1533f1[_0x57cf0c(0x368)]('click',_0x3cb0eb=>{const _0xcce4e9=_0x57cf0c;confirmDeleteHighlight(_0x3cb0eb[_0xcce4e9(0x193)][_0xcce4e9(0x303)]['id']);});});}catch(_0x52812a){console['error']('Error\x20loading\x20highlights:',_0x52812a),_0x563991[_0x22b2ea(0x24a)]=_0x22b2ea(0x2d3)+_0x52812a['message']+_0x22b2ea(0x1d8);}}async function confirmDeleteHighlight(_0x1ec9db){const _0x30f4fa=a4_0x11bc30;if(confirm(_0x30f4fa(0x474)))try{await deleteDoc(doc(db,'highlights',_0x1ec9db)),showNotification(_0x30f4fa(0x25a),_0x30f4fa(0x284)),loadHighlightsAdmin();}catch(_0x12cedb){console[_0x30f4fa(0x5e8)]('Error\x20deleting\x20highlight:',_0x12cedb),showNotification('Error\x20deleting\x20highlight:\x20'+_0x12cedb[_0x30f4fa(0x4f7)],'error');}}function setupCreateTestMatchModal(){const _0x45363b=a4_0x11bc30;console[_0x45363b(0x1c0)](_0x45363b(0x254));const _0x6d5ccb=document[_0x45363b(0x50a)](_0x45363b(0x47a)),_0x47cfb3=document[_0x45363b(0x50a)](_0x45363b(0x1ee));if(!_0x6d5ccb){console['error'](_0x45363b(0x5b4));return;}if(!_0x47cfb3){console['error']('Create\x20test\x20match\x20form\x20not\x20found\x20in\x20DOM');return;}const _0x43b12b=_0x6d5ccb[_0x45363b(0x431)](!![]);_0x6d5ccb['parentNode'][_0x45363b(0x24d)](_0x43b12b,_0x6d5ccb);const _0x6e5513=_0x43b12b[_0x45363b(0x2be)]('#create-test-match-form');_0x43b12b[_0x45363b(0x368)](_0x45363b(0x583),function(_0x336f04){const _0x3e3e21=_0x45363b;_0x336f04[_0x3e3e21(0x5d8)]===_0x43b12b&&(console['log'](_0x3e3e21(0x2ab)),closeCreateTestMatchModal());});const _0x29cff3=_0x43b12b[_0x45363b(0x2be)](_0x45363b(0x5cf));_0x29cff3&&_0x29cff3[_0x45363b(0x368)](_0x45363b(0x583),function(_0x2ca321){const _0x51c6c8=_0x45363b;_0x2ca321[_0x51c6c8(0x37d)](),_0x2ca321[_0x51c6c8(0x1b2)](),console[_0x51c6c8(0x1c0)](_0x51c6c8(0x5a1)),closeCreateTestMatchModal();});const _0x48780b=_0x43b12b[_0x45363b(0x2be)](_0x45363b(0x2b0));_0x48780b&&_0x48780b[_0x45363b(0x368)](_0x45363b(0x583),function(_0x1ae118){const _0x202bc7=_0x45363b;_0x1ae118[_0x202bc7(0x37d)](),_0x1ae118[_0x202bc7(0x1b2)](),console[_0x202bc7(0x1c0)]('Modal\x20cancel\x20button\x20clicked'),closeCreateTestMatchModal();});if(_0x6e5513){_0x6e5513['addEventListener']('submit',function(_0x45458b){const _0x23003b=_0x45363b;_0x45458b[_0x23003b(0x37d)](),_0x45458b[_0x23003b(0x1b2)](),console[_0x23003b(0x1c0)](_0x23003b(0x5d2)),createTestMatch();});const _0x4b227e=_0x6e5513['querySelector'](_0x45363b(0x271));_0x4b227e&&_0x4b227e[_0x45363b(0x368)](_0x45363b(0x583),function(_0x75c4a){const _0x760dcb=_0x45363b;_0x75c4a[_0x760dcb(0x37d)](),_0x75c4a[_0x760dcb(0x1b2)](),console['log'](_0x760dcb(0x4ce)),createTestMatch();});}console['log'](_0x45363b(0x2b5));}function setupManageHighlightsSection(){const _0x4c28e5=a4_0x11bc30;console[_0x4c28e5(0x1c0)](_0x4c28e5(0x43d)),setupHighlightButtons();const _0x2c918a=document['getElementById'](_0x4c28e5(0x2ee));_0x2c918a&&_0x2c918a[_0x4c28e5(0x368)](_0x4c28e5(0x49a),_0x393d16=>{_0x393d16['preventDefault'](),saveHighlight();});const _0x53df4a=document[_0x4c28e5(0x50a)](_0x4c28e5(0x5e1));_0x53df4a&&_0x53df4a[_0x4c28e5(0x368)](_0x4c28e5(0x583),closeHighlightModal);const _0x5849d8=document[_0x4c28e5(0x2be)](_0x4c28e5(0x194));_0x5849d8&&_0x5849d8['addEventListener']('click',closeHighlightModal);const _0x4c8372=document[_0x4c28e5(0x50a)](_0x4c28e5(0x39e));_0x4c8372&&_0x4c8372['addEventListener'](_0x4c28e5(0x583),_0xc08e72=>{const _0x5c5900=_0x4c28e5;_0xc08e72[_0x5c5900(0x5d8)]===_0x4c8372&&closeHighlightModal();});const _0x197552=document[_0x4c28e5(0x50a)](_0x4c28e5(0x298));_0x197552&&_0x197552[_0x4c28e5(0x368)](_0x4c28e5(0x352),()=>{updateHighlightVideoPreview();}),console[_0x4c28e5(0x1c0)]('Manage\x20Highlights\x20section\x20initialized');}function setupManageMatchesSection(){const _0x1f4170=a4_0x11bc30;console['log']('Setting\x20up\x20Manage\x20Matches\x20section');const _0x116350=document[_0x1f4170(0x50a)](_0x1f4170(0x484)),_0x85c761=document['getElementById'](_0x1f4170(0x421));_0x116350&&_0x116350[_0x1f4170(0x368)](_0x1f4170(0x583),()=>{const _0x5268cf=_0x1f4170,_0x5876bd=currentLadder[_0x5268cf(0x262)]();loadMatchesData(matchesPagination[_0x5876bd][_0x5268cf(0x410)]-0x1);});_0x85c761&&_0x85c761[_0x1f4170(0x368)](_0x1f4170(0x583),()=>{const _0x8c9aa0=_0x1f4170,_0x324b93=currentLadder[_0x8c9aa0(0x262)]();loadMatchesData(matchesPagination[_0x324b93][_0x8c9aa0(0x410)]+0x1);});const _0x328687=document['getElementById'](_0x1f4170(0x3a9)),_0x45bea0=document['getElementById'](_0x1f4170(0x48d));_0x328687&&_0x328687[_0x1f4170(0x368)](_0x1f4170(0x583),applyMatchesFilters);_0x45bea0&&_0x45bea0['addEventListener']('click',resetMatchesFilters);const _0x56f522=document['getElementById']('matches-search');_0x56f522&&_0x56f522[_0x1f4170(0x368)](_0x1f4170(0x352),debounce(filterMatchesTable,0x12c));const _0x4ef5b7=document['getElementById']('resimulate-match-btn');_0x4ef5b7&&_0x4ef5b7[_0x1f4170(0x368)]('click',openResimulateModal);const _0x2db092=document[_0x1f4170(0x50a)](_0x1f4170(0x1ac));if(_0x2db092){const _0xecb311=_0x2db092[_0x1f4170(0x2be)]('.close');_0xecb311&&_0xecb311['addEventListener'](_0x1f4170(0x583),closeResimulateModal),_0x2db092[_0x1f4170(0x368)](_0x1f4170(0x583),_0x1bbd6a=>{_0x1bbd6a['target']===_0x2db092&&closeResimulateModal();});}setupCreateTestMatchButton(),setupCreateTestMatchModal(),console[_0x1f4170(0x1c0)](_0x1f4170(0x362));}function openCreateTestMatchModal(){const _0xafd82a=a4_0x11bc30;console['log']('Opening\x20create\x20test\x20match\x20modal');const _0x38f739=document[_0xafd82a(0x50a)](_0xafd82a(0x47a)),_0xe73fb8=document['getElementById']('create-test-match-form');if(!_0x38f739){console[_0xafd82a(0x5e8)](_0xafd82a(0x20c)),showNotification(_0xafd82a(0x20c),'error');return;}if(!_0xe73fb8){console['error']('Create\x20test\x20match\x20form\x20not\x20found'),showNotification(_0xafd82a(0x248),_0xafd82a(0x5e8));return;}_0xe73fb8[_0xafd82a(0x3e8)]();const _0x41f1b6=document['querySelectorAll'](_0xafd82a(0x59c));let _0x2951b2=![];_0x41f1b6[_0xafd82a(0x2a1)](_0xb04e2f=>{const _0x1937dd=_0xafd82a;console[_0x1937dd(0x1c0)](_0x1937dd(0x1e0),_0xb04e2f['value']),_0xb04e2f['value']===currentLadder&&(_0xb04e2f[_0x1937dd(0x52a)]=!![],_0x2951b2=!![],console[_0x1937dd(0x1c0)](_0x1937dd(0x257),currentLadder));});if(!_0x2951b2){console[_0xafd82a(0x328)](_0xafd82a(0x239),currentLadder);const _0x2660cb=document['querySelector'](_0xafd82a(0x30c));_0x2660cb&&(_0x2660cb['checked']=!![],console[_0xafd82a(0x1c0)](_0xafd82a(0x449)));}const _0x481673=document[_0xafd82a(0x50a)](_0xafd82a(0x3a8));if(_0x481673){const _0x3088cd=new Date()['toISOString']()['split']('T')[0x0];_0x481673[_0xafd82a(0x57c)]=_0x3088cd;}_0x38f739[_0xafd82a(0x416)]['display']=_0xafd82a(0x4b3),_0x38f739['style'][_0xafd82a(0x252)]=_0xafd82a(0x44a),_0x38f739['style']['opacity']='1',_0x38f739[_0xafd82a(0x3f1)][_0xafd82a(0x417)](_0xafd82a(0x381)),console[_0xafd82a(0x1c0)](_0xafd82a(0x236));const _0x1c2b75=document[_0xafd82a(0x50a)](_0xafd82a(0x247));_0x1c2b75&&setTimeout(()=>{const _0x18faf2=_0xafd82a;_0x1c2b75[_0x18faf2(0x27c)]();},0x64);}function closeCreateTestMatchModal(){const _0x43006d=a4_0x11bc30;console[_0x43006d(0x1c0)](_0x43006d(0x4d5));const _0x41c263=document['getElementById']('create-test-match-modal');if(!_0x41c263){console[_0x43006d(0x5e8)](_0x43006d(0x489));return;}_0x41c263[_0x43006d(0x3f1)][_0x43006d(0x3c8)]('active'),_0x41c263['style'][_0x43006d(0x464)]='0',_0x41c263[_0x43006d(0x416)][_0x43006d(0x252)]=_0x43006d(0x2ac),setTimeout(()=>{const _0x688f8=_0x43006d;!_0x41c263['classList'][_0x688f8(0x3ab)]('active')&&(_0x41c263[_0x688f8(0x416)][_0x688f8(0x1a1)]=_0x688f8(0x1e3));},0x12c),console['log'](_0x43006d(0x26a));}async function createTestMatch(){const _0x50577b=a4_0x11bc30;console[_0x50577b(0x1c0)](_0x50577b(0x29f));try{const _0x29c903=auth[_0x50577b(0x4c4)];if(!_0x29c903){showNotification('You\x20must\x20be\x20logged\x20in','error');return;}const _0x43ec72='D1',_0x4c926a=_0x50577b(0x31e),_0x19ff73={'winnerUsername':'TestWinner','winnerScore':0x14,'winnerSuicides':0x0,'winnerComment':_0x50577b(0x325),'winnerDemoLink':null,'loserUsername':_0x50577b(0x24e),'loserScore':0xf,'loserSuicides':0x0,'loserComment':_0x50577b(0x325),'loserDemoLink':null,'mapPlayed':_0x50577b(0x43b),'approvedAt':Timestamp[_0x50577b(0x565)](new Date()),'approvedBy':_0x29c903[_0x50577b(0x20d)],'createdAt':serverTimestamp(),'createdBy':_0x29c903[_0x50577b(0x20d)],'isTestMatch':!![],'ladder':_0x43ec72,'testMatchCreatedAt':serverTimestamp(),'testMatchNote':_0x50577b(0x3ea)+_0x29c903[_0x50577b(0x20d)]};console['log']('Adding\x20simple\x20test\x20match...'),await addDoc(collection(db,_0x4c926a),_0x19ff73),showNotification(_0x50577b(0x3c7),'success'),closeCreateTestMatchModal();}catch(_0x330ece){console[_0x50577b(0x5e8)](_0x50577b(0x483),_0x330ece),showNotification(_0x50577b(0x1bf)+_0x330ece['message'],'error');}}window['testFirebaseConnection']=async function(){const _0x14ff9c=a4_0x11bc30;try{console['log'](_0x14ff9c(0x423)),console[_0x14ff9c(0x1c0)](_0x14ff9c(0x304),auth),console[_0x14ff9c(0x1c0)]('DB:',db),console[_0x14ff9c(0x1c0)](_0x14ff9c(0x2b3),auth[_0x14ff9c(0x4c4)]);const _0x38009e=collection(db,_0x14ff9c(0x28d));console[_0x14ff9c(0x1c0)](_0x14ff9c(0x310),_0x38009e);const _0xdddcc4=query(_0x38009e,where(_0x14ff9c(0x53b),'==',_0x14ff9c(0x585)));console['log'](_0x14ff9c(0x520),_0xdddcc4);const _0x8c7f0c=await getDocs(_0xdddcc4);console[_0x14ff9c(0x1c0)](_0x14ff9c(0x365),_0x8c7f0c[_0x14ff9c(0x234)]),console[_0x14ff9c(0x1c0)]('Firebase\x20connection\x20test\x20successful!');}catch(_0xfeeda7){console[_0x14ff9c(0x5e8)](_0x14ff9c(0x207),_0xfeeda7);}};function setupCreateTestMatchButton(){const _0x51c537=a4_0x11bc30,_0x85829a=document[_0x51c537(0x50a)]('create-test-match-btn');if(!_0x85829a){console[_0x51c537(0x5e8)](_0x51c537(0x5c6));return;}console[_0x51c537(0x1c0)](_0x51c537(0x33f));const _0xc3508c=_0x85829a[_0x51c537(0x431)](!![]);_0x85829a[_0x51c537(0x592)][_0x51c537(0x24d)](_0xc3508c,_0x85829a),_0xc3508c['addEventListener'](_0x51c537(0x583),function(_0x228bb5){const _0x1e980c=_0x51c537;_0x228bb5['preventDefault'](),_0x228bb5[_0x1e980c(0x1b2)](),console[_0x1e980c(0x1c0)]('Create\x20test\x20match\x20button\x20clicked'),openCreateTestMatchModal();}),console['log']('Create\x20test\x20match\x20button\x20setup\x20complete');}async function loadMatchesData(_0x58b150=0x1){const _0x47db37=a4_0x11bc30,_0x589190=document[_0x47db37(0x50a)]('matches-table-body');if(!_0x589190)return;_0x589190[_0x47db37(0x24a)]=_0x47db37(0x2b1);try{const _0xe055ae=currentLadder['toLowerCase'](),_0x23fcd6=matchesPagination[_0xe055ae],_0x235bed=currentLadder==='D1'?'approvedMatches':currentLadder==='D2'?_0x47db37(0x1b5):_0x47db37(0x4a5),_0x46e033=collection(db,_0x235bed);_0x58b150<=0x1?(_0x23fcd6['page']=0x1,_0x23fcd6[_0x47db37(0x3f6)]=null,_0x23fcd6['lastVisible']=null):_0x23fcd6[_0x47db37(0x410)]=_0x58b150;const _0x1bd93f=getMatchesFilters();let _0x31846c=_0x46e033;if(_0x1bd93f[_0x47db37(0x435)]||_0x1bd93f['endDate']||_0x1bd93f[_0x47db37(0x42e)]){let _0x5e48de=[];_0x1bd93f[_0x47db37(0x435)]&&_0x1bd93f[_0x47db37(0x2bb)]?(_0x5e48de[_0x47db37(0x5da)](where(_0x47db37(0x21f),'>=',_0x1bd93f[_0x47db37(0x435)]),where(_0x47db37(0x21f),'<=',_0x1bd93f[_0x47db37(0x2bb)])),_0x31846c=query(_0x46e033,..._0x5e48de)):_0x31846c=query(_0x46e033,orderBy('approvedAt',_0x47db37(0x4ba)));}else _0x31846c=query(_0x46e033,orderBy(_0x47db37(0x21f),_0x47db37(0x4ba)));_0x58b150>0x1&&_0x23fcd6[_0x47db37(0x1aa)]?_0x31846c=query(_0x31846c,startAfter(_0x23fcd6[_0x47db37(0x1aa)]),limit(PAGE_SIZE)):_0x31846c=query(_0x31846c,limit(PAGE_SIZE));const _0x5ce564=await getDocs(_0x31846c);!_0x5ce564[_0x47db37(0x234)]&&(_0x23fcd6[_0x47db37(0x3f6)]=_0x5ce564[_0x47db37(0x485)][0x0],_0x23fcd6[_0x47db37(0x1aa)]=_0x5ce564[_0x47db37(0x485)][_0x5ce564['docs'][_0x47db37(0x49f)]-0x1]);let _0x2425ab=![];if(!_0x5ce564['empty']){const _0x88a767=query(_0x31846c,startAfter(_0x23fcd6['lastVisible']),limit(0x1)),_0x5428d2=await getDocs(_0x88a767);_0x2425ab=!_0x5428d2['empty'];}const _0x1be8f2=document[_0x47db37(0x50a)](_0x47db37(0x484)),_0x40d225=document['getElementById'](_0x47db37(0x421)),_0x24a90f=document[_0x47db37(0x50a)](_0x47db37(0x299));if(_0x1be8f2)_0x1be8f2['disabled']=_0x23fcd6[_0x47db37(0x410)]<=0x1;if(_0x40d225)_0x40d225[_0x47db37(0x508)]=!_0x2425ab;if(_0x24a90f)_0x24a90f[_0x47db37(0x56a)]=_0x47db37(0x41e)+_0x23fcd6[_0x47db37(0x410)];if(_0x5ce564[_0x47db37(0x234)]){_0x589190['innerHTML']=_0x47db37(0x3af);return;}_0x589190['innerHTML']='',_0x5ce564['forEach'](_0x1f5259=>{const _0x458c07=_0x47db37,_0x290993=_0x1f5259[_0x458c07(0x524)](),_0x243964=document[_0x458c07(0x1b8)]('tr'),_0x27d28d=_0x290993[_0x458c07(0x21f)]?new Date(_0x290993[_0x458c07(0x21f)][_0x458c07(0x387)]*0x3e8)[_0x458c07(0x379)]():'N/A';_0x243964[_0x458c07(0x463)](_0x458c07(0x40c),_0x1f5259['id']),_0x243964[_0x458c07(0x463)](_0x458c07(0x454),currentLadder),_0x243964[_0x458c07(0x3f1)][_0x458c07(0x417)](_0x458c07(0x329)),_0x243964['innerHTML']=_0x458c07(0x1c4)+_0x27d28d+_0x458c07(0x1e5)+(_0x290993[_0x458c07(0x322)]||_0x458c07(0x426))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22loser-cell\x22>'+(_0x290993['loserUsername']||_0x458c07(0x426))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22score-cell\x22>'+(_0x290993[_0x458c07(0x196)]||0x0)+_0x458c07(0x2c1)+(_0x290993['loserScore']||0x0)+_0x458c07(0x2ba)+(_0x290993[_0x458c07(0x4e4)]||_0x458c07(0x545))+_0x458c07(0x242)+currentLadder+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-match-btn\x20btn-small\x22\x20data-id=\x22'+_0x1f5259['id']+_0x458c07(0x1dc)+_0x1f5259['id']+'\x22\x20title=\x22Delete\x20Match\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x589190[_0x458c07(0x476)](_0x243964);}),setupMatchesActionButtons(),_0x1bd93f[_0x47db37(0x42e)]&&filterMatchesTable(),console[_0x47db37(0x1c0)](_0x47db37(0x465)+_0x5ce564[_0x47db37(0x4f8)]+_0x47db37(0x22e)+currentLadder+_0x47db37(0x1d9)+_0x23fcd6[_0x47db37(0x410)]);}catch(_0x16dae3){console['error']('Error\x20loading\x20matches:',_0x16dae3),_0x589190[_0x47db37(0x24a)]=_0x47db37(0x5dc)+_0x16dae3[_0x47db37(0x4f7)]+_0x47db37(0x1d8);}}async function deleteMatch(_0x743597,_0x4dba1e){const _0x1daae3=a4_0x11bc30;try{console['log']('Deleting\x20match\x20'+_0x743597+'\x20from\x20'+_0x4dba1e+_0x1daae3(0x1f4));const _0x430190=auth[_0x1daae3(0x4c4)];if(!_0x430190){showNotification('You\x20must\x20be\x20logged\x20in\x20to\x20delete\x20matches',_0x1daae3(0x5e8));return;}const _0x3d5c2d=_0x4dba1e==='D1'?'approvedMatches':_0x4dba1e==='D2'?_0x1daae3(0x1b5):_0x1daae3(0x4a5);console[_0x1daae3(0x1c0)]('Using\x20collection:\x20'+_0x3d5c2d),showNotification(_0x1daae3(0x3c0),_0x1daae3(0x396)),await deleteDoc(doc(db,_0x3d5c2d,_0x743597)),console['log'](_0x1daae3(0x1f3)),showNotification(_0x1daae3(0x1f3),_0x1daae3(0x284));const _0x249e45=_0x4dba1e[_0x1daae3(0x262)]();loadMatchesData(matchesPagination[_0x249e45][_0x1daae3(0x410)]);}catch(_0x19f663){console[_0x1daae3(0x5e8)](_0x1daae3(0x3cc),_0x19f663),showNotification(_0x1daae3(0x4f9)+_0x19f663[_0x1daae3(0x4f7)],_0x1daae3(0x5e8));}}function setupMatchesActionButtons(){const _0x3ee378=a4_0x11bc30;console[_0x3ee378(0x1c0)](_0x3ee378(0x3d6)),document['querySelectorAll']('.edit-match-btn')[_0x3ee378(0x2a1)](_0x28d75f=>{const _0x595526=_0x3ee378;_0x28d75f[_0x595526(0x368)]('click',_0x2fb093=>{const _0x369ff3=_0x595526;_0x2fb093['preventDefault'](),_0x2fb093[_0x369ff3(0x1b2)]();const _0x1382bc=_0x2fb093['currentTarget']['dataset']['id'],_0x458305=_0x2fb093[_0x369ff3(0x193)][_0x369ff3(0x27e)]('tr'),_0x380134=_0x458305[_0x369ff3(0x303)][_0x369ff3(0x589)];console[_0x369ff3(0x1c0)](_0x369ff3(0x501),_0x1382bc,_0x380134),openEditMatchModal(_0x1382bc,_0x380134);});}),document[_0x3ee378(0x2ae)](_0x3ee378(0x1cc))[_0x3ee378(0x2a1)](_0x36593a=>{const _0xa49760=_0x3ee378;_0x36593a[_0xa49760(0x368)](_0xa49760(0x583),_0x1be451=>{const _0x47c892=_0xa49760;_0x1be451[_0x47c892(0x37d)](),_0x1be451['stopPropagation']();const _0x1fd2cf=_0x1be451[_0x47c892(0x193)][_0x47c892(0x303)]['id'],_0xbb09d8=_0x1be451[_0x47c892(0x193)]['closest']('tr'),_0x13b734=_0xbb09d8[_0x47c892(0x303)][_0x47c892(0x589)]||currentLadder;console[_0x47c892(0x1c0)](_0x47c892(0x1f6),_0x1fd2cf,_0x13b734),confirm('Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20match?\x20This\x20action\x20cannot\x20be\x20undone.')&&deleteMatch(_0x1fd2cf,_0x13b734);});}),console[_0x3ee378(0x1c0)](_0x3ee378(0x3a3));}function filterMatchesTable(){const _0x94dfd2=a4_0x11bc30,_0x57d7c1=document['getElementById']('matches-search')[_0x94dfd2(0x57c)]['toLowerCase'](),_0x2b04f7=document[_0x94dfd2(0x2ae)](_0x94dfd2(0x1b4));let _0x6304da=0x0;_0x2b04f7[_0x94dfd2(0x2a1)](_0x48489b=>{const _0x199ade=_0x94dfd2;if(_0x48489b[_0x199ade(0x3f1)][_0x199ade(0x3ab)](_0x199ade(0x333))||_0x48489b['classList'][_0x199ade(0x3ab)]('empty-state')||_0x48489b[_0x199ade(0x3f1)][_0x199ade(0x3ab)]('error-state'))return;const _0x14ba97=_0x48489b['cells'][0x1][_0x199ade(0x56a)]['toLowerCase'](),_0xd1f062=_0x48489b['cells'][0x2][_0x199ade(0x56a)][_0x199ade(0x262)](),_0x28db61=_0x48489b['cells'][0x4][_0x199ade(0x56a)][_0x199ade(0x262)]();_0x14ba97[_0x199ade(0x287)](_0x57d7c1)||_0xd1f062[_0x199ade(0x287)](_0x57d7c1)||_0x28db61['includes'](_0x57d7c1)?(_0x48489b[_0x199ade(0x416)][_0x199ade(0x1a1)]='',_0x6304da++):_0x48489b[_0x199ade(0x416)][_0x199ade(0x1a1)]=_0x199ade(0x1e3);});if(_0x6304da===0x0&&_0x2b04f7[_0x94dfd2(0x49f)]>0x0){const _0x30bcd8=document[_0x94dfd2(0x50a)](_0x94dfd2(0x397)),_0x578813=_0x30bcd8[_0x94dfd2(0x2be)](_0x94dfd2(0x275));if(!_0x578813){const _0x354c39=document['createElement']('tr');_0x354c39[_0x94dfd2(0x507)]=_0x94dfd2(0x574),_0x354c39[_0x94dfd2(0x24a)]='<td\x20colspan=\x227\x22>No\x20matches\x20found\x20matching\x20\x27'+_0x57d7c1+'\x27</td>',_0x30bcd8[_0x94dfd2(0x476)](_0x354c39);}}else{const _0x6181a3=document[_0x94dfd2(0x2be)](_0x94dfd2(0x275));_0x6181a3&&_0x6181a3['remove']();}}function getMatchesFilters(){const _0x12e4bc=a4_0x11bc30,_0x437b97=document[_0x12e4bc(0x50a)](_0x12e4bc(0x4dc))[_0x12e4bc(0x57c)][_0x12e4bc(0x262)](),_0x3a6d0d=document[_0x12e4bc(0x50a)](_0x12e4bc(0x4e2))[_0x12e4bc(0x57c)],_0x4d6b80=document[_0x12e4bc(0x50a)]('matches-end-date')[_0x12e4bc(0x57c)];let _0x5814c7=null,_0x56454d=null;return _0x3a6d0d&&(_0x5814c7=new Date(_0x3a6d0d),_0x5814c7[_0x12e4bc(0x2a9)](0x0,0x0,0x0,0x0),_0x5814c7=Timestamp[_0x12e4bc(0x565)](_0x5814c7)),_0x4d6b80&&(_0x56454d=new Date(_0x4d6b80),_0x56454d[_0x12e4bc(0x2a9)](0x17,0x3b,0x3b,0x3e7),_0x56454d=Timestamp['fromDate'](_0x56454d)),{'searchTerm':_0x437b97,'startDate':_0x5814c7,'endDate':_0x56454d};}async function applyMatchesFilters(){const _0x3c829d=a4_0x11bc30,_0x53a104=currentLadder[_0x3c829d(0x262)]();matchesPagination[_0x53a104]={'page':0x1,'lastVisible':null,'firstVisible':null},await loadMatchesData(0x1);}function resetMatchesFilters(){const _0x69428b=a4_0x11bc30;document[_0x69428b(0x50a)](_0x69428b(0x4e2))[_0x69428b(0x57c)]='',document[_0x69428b(0x50a)]('matches-end-date')[_0x69428b(0x57c)]='',document[_0x69428b(0x50a)]('matches-search')[_0x69428b(0x57c)]='';const _0x49441e=currentLadder[_0x69428b(0x262)]();matchesPagination[_0x49441e]={'page':0x1,'lastVisible':null,'firstVisible':null},loadMatchesData(0x1);}async function openEditMatchModal(_0x2d013b,_0x3639c7){const _0x544d2c=a4_0x11bc30,_0x51b467=document['getElementById'](_0x544d2c(0x481));if(!_0x51b467)return;try{const _0x4d80c6=_0x3639c7==='D1'?_0x544d2c(0x31e):_0x3639c7==='D2'?_0x544d2c(0x1b5):_0x544d2c(0x4a5),_0x4231dd=doc(db,_0x4d80c6,_0x2d013b),_0x5e4017=await getDoc(_0x4231dd);if(!_0x5e4017[_0x544d2c(0x46c)]()){showNotification(_0x544d2c(0x4a3),'error');return;}const _0x755afb=_0x5e4017[_0x544d2c(0x524)]();document[_0x544d2c(0x50a)](_0x544d2c(0x2d1))[_0x544d2c(0x57c)]=_0x2d013b,document[_0x544d2c(0x50a)]('edit-match-ladder')[_0x544d2c(0x57c)]=_0x3639c7,document[_0x544d2c(0x50a)](_0x544d2c(0x249))[_0x544d2c(0x57c)]=_0x755afb[_0x544d2c(0x322)]||'',document[_0x544d2c(0x50a)](_0x544d2c(0x4c2))[_0x544d2c(0x57c)]=_0x755afb[_0x544d2c(0x196)]||0x0,document[_0x544d2c(0x50a)](_0x544d2c(0x393))[_0x544d2c(0x57c)]=_0x755afb[_0x544d2c(0x3d7)]||0x0,document['getElementById'](_0x544d2c(0x47b))[_0x544d2c(0x57c)]=_0x755afb['winnerComment']||'',document['getElementById'](_0x544d2c(0x5b0))['value']=_0x755afb['loserUsername']||'',document[_0x544d2c(0x50a)](_0x544d2c(0x4d9))['value']=_0x755afb[_0x544d2c(0x473)]||0x0,document[_0x544d2c(0x50a)](_0x544d2c(0x428))['value']=_0x755afb[_0x544d2c(0x5cd)]||0x0,document[_0x544d2c(0x50a)](_0x544d2c(0x2bf))['value']=_0x755afb[_0x544d2c(0x52e)]||'',document[_0x544d2c(0x50a)]('edit-match-map')[_0x544d2c(0x57c)]=_0x755afb[_0x544d2c(0x4e4)]||'',document[_0x544d2c(0x50a)]('edit-match-winner-demo')['value']=_0x755afb[_0x544d2c(0x526)]||'',document[_0x544d2c(0x50a)]('edit-match-loser-demo')[_0x544d2c(0x57c)]=_0x755afb[_0x544d2c(0x34b)]||_0x755afb[_0x544d2c(0x237)]||'',document[_0x544d2c(0x50a)](_0x544d2c(0x4bc))[_0x544d2c(0x56a)]=_0x544d2c(0x51d)+_0x755afb['winnerUsername']+_0x544d2c(0x348)+_0x755afb[_0x544d2c(0x39b)],_0x51b467['classList'][_0x544d2c(0x417)]('active');}catch(_0x481ad0){console['error'](_0x544d2c(0x256),_0x481ad0),showNotification('Failed\x20to\x20load\x20match\x20data','error');}}function closeEditMatchModal(){const _0x32118d=a4_0x11bc30,_0x5c8b27=document[_0x32118d(0x50a)](_0x32118d(0x481));_0x5c8b27&&_0x5c8b27['classList'][_0x32118d(0x3c8)](_0x32118d(0x381));}async function saveEditedMatch(){const _0xa50d29=a4_0x11bc30;try{const _0x3283bb=document['getElementById'](_0xa50d29(0x2d1))[_0xa50d29(0x57c)],_0x18a1f3=document['getElementById'](_0xa50d29(0x1a6))[_0xa50d29(0x57c)];if(!_0x3283bb||!_0x18a1f3){showNotification(_0xa50d29(0x593),_0xa50d29(0x5e8));return;}const _0x6b7db6=_0x18a1f3==='D1'?'approvedMatches':_0x18a1f3==='D2'?_0xa50d29(0x1b5):_0xa50d29(0x4a5),_0x5d3d91=document[_0xa50d29(0x50a)](_0xa50d29(0x249))[_0xa50d29(0x57c)][_0xa50d29(0x515)](),_0x412d35=parseInt(document['getElementById'](_0xa50d29(0x4c2))[_0xa50d29(0x57c)]),_0x3bc926=parseInt(document[_0xa50d29(0x50a)]('edit-match-winner-suicides')[_0xa50d29(0x57c)]),_0x40a8c8=document[_0xa50d29(0x50a)](_0xa50d29(0x47b))[_0xa50d29(0x57c)][_0xa50d29(0x515)](),_0x428874=document[_0xa50d29(0x50a)](_0xa50d29(0x5b0))['value'][_0xa50d29(0x515)](),_0x265f15=parseInt(document[_0xa50d29(0x50a)]('edit-match-loser-score')[_0xa50d29(0x57c)]),_0x24cd42=parseInt(document[_0xa50d29(0x50a)](_0xa50d29(0x428))[_0xa50d29(0x57c)]),_0x248e09=document[_0xa50d29(0x50a)]('edit-match-loser-comment')[_0xa50d29(0x57c)][_0xa50d29(0x515)](),_0x1b6d8f=document[_0xa50d29(0x50a)]('edit-match-map')[_0xa50d29(0x57c)][_0xa50d29(0x515)](),_0x2790d0=document[_0xa50d29(0x50a)](_0xa50d29(0x48a))[_0xa50d29(0x57c)][_0xa50d29(0x515)](),_0x469301=document['getElementById'](_0xa50d29(0x579))[_0xa50d29(0x57c)]['trim']();if(!_0x5d3d91||!_0x428874){showNotification(_0xa50d29(0x567),_0xa50d29(0x5e8));return;}await updateDoc(doc(db,_0x6b7db6,_0x3283bb),{'winnerUsername':_0x5d3d91,'winnerScore':_0x412d35,'winnerSuicides':_0x3bc926,'winnerComment':_0x40a8c8,'loserUsername':_0x428874,'loserScore':_0x265f15,'loserSuicides':_0x24cd42,'loserComment':_0x248e09,'mapPlayed':_0x1b6d8f,'winnerDemoLink':_0x2790d0||null,'loserDemoLink':_0x469301||null,'lastModifiedAt':serverTimestamp(),'lastModifiedBy':auth[_0xa50d29(0x4c4)][_0xa50d29(0x20d)],'isEdited':!![]}),showNotification(_0xa50d29(0x58a),_0xa50d29(0x284)),closeEditMatchModal(),loadMatchesData(matchesPagination[_0x18a1f3[_0xa50d29(0x262)]()]['page']);}catch(_0x50612){console[_0xa50d29(0x5e8)](_0xa50d29(0x2cd),_0x50612),showNotification(_0xa50d29(0x52d)+_0x50612[_0xa50d29(0x4f7)],_0xa50d29(0x5e8));}}async function openDeleteMatchModal(_0xb089e,_0x38c655){const _0x27df7e=a4_0x11bc30;try{const _0x188019=_0x38c655==='D1'?_0x27df7e(0x31e):_0x38c655==='D2'?_0x27df7e(0x1b5):_0x27df7e(0x4a5),_0x344f52=doc(db,_0x188019,_0xb089e),_0x116ded=await getDoc(_0x344f52);if(!_0x116ded[_0x27df7e(0x46c)]()){showNotification(_0x27df7e(0x4a3),_0x27df7e(0x5e8));return;}const _0x127cc9=_0x116ded[_0x27df7e(0x524)](),_0x27e383=document[_0x27df7e(0x50a)](_0x27df7e(0x36a));_0x27e383['dataset'][_0x27df7e(0x2f0)]=_0xb089e,_0x27e383[_0x27df7e(0x303)]['ladder']=_0x38c655;const _0x213f9e=_0x127cc9[_0x27df7e(0x21f)]?new Date(_0x127cc9[_0x27df7e(0x21f)][_0x27df7e(0x387)]*0x3e8)['toLocaleDateString']():_0x27df7e(0x545),_0x1356e4=document[_0x27df7e(0x50a)](_0x27df7e(0x3be));_0x1356e4[_0x27df7e(0x24a)]=_0x27df7e(0x1d7)+_0x213f9e+_0x27df7e(0x3b9)+_0x127cc9[_0x27df7e(0x322)]+'\x20(winner)\x20vs\x20'+_0x127cc9[_0x27df7e(0x39b)]+'\x20(loser)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Score:</strong>\x20'+(_0x127cc9[_0x27df7e(0x196)]||0x0)+_0x27df7e(0x2c1)+(_0x127cc9[_0x27df7e(0x473)]||0x0)+_0x27df7e(0x38e)+(_0x127cc9[_0x27df7e(0x4e4)]||'N/A')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Ladder:</strong>\x20'+_0x38c655+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x27e383[_0x27df7e(0x3f1)][_0x27df7e(0x417)](_0x27df7e(0x381));}catch(_0x5096f3){console[_0x27df7e(0x5e8)](_0x27df7e(0x230),_0x5096f3),showNotification(_0x27df7e(0x319),_0x27df7e(0x5e8));}}function closeDeleteMatchModal(){const _0x15b5b6=a4_0x11bc30,_0x24a154=document[_0x15b5b6(0x50a)](_0x15b5b6(0x36a));_0x24a154&&(_0x24a154[_0x15b5b6(0x3f1)]['remove'](_0x15b5b6(0x381)),_0x24a154[_0x15b5b6(0x44f)](_0x15b5b6(0x5ba)),_0x24a154[_0x15b5b6(0x44f)](_0x15b5b6(0x454)));}async function confirmDeleteMatch(){const _0x3cd07c=a4_0x11bc30,_0x16415f=document[_0x3cd07c(0x50a)]('delete-match-confirm-modal'),_0xc2754c=_0x16415f[_0x3cd07c(0x303)][_0x3cd07c(0x2f0)],_0x1f9f60=_0x16415f[_0x3cd07c(0x303)]['ladder'];if(!_0xc2754c||!_0x1f9f60){showNotification(_0x3cd07c(0x593),_0x3cd07c(0x5e8)),closeDeleteMatchModal();return;}try{const _0x1525c7=_0x1f9f60==='D1'?_0x3cd07c(0x31e):_0x1f9f60==='D2'?_0x3cd07c(0x1b5):_0x3cd07c(0x4a5);await deleteDoc(doc(db,_0x1525c7,_0xc2754c)),showNotification(_0x3cd07c(0x1f3),_0x3cd07c(0x284)),closeDeleteMatchModal(),loadMatchesData(matchesPagination[_0x1f9f60[_0x3cd07c(0x262)]()]['page']);}catch(_0x2024ce){console[_0x3cd07c(0x5e8)](_0x3cd07c(0x3cc),_0x2024ce),showNotification(_0x3cd07c(0x4f9)+_0x2024ce[_0x3cd07c(0x4f7)],_0x3cd07c(0x5e8));}}async function saveHighlightChanges(){const _0x39a051=a4_0x11bc30,_0x49a8e4=document[_0x39a051(0x50a)](_0x39a051(0x225))[_0x39a051(0x57c)],_0x115b6=document[_0x39a051(0x50a)](_0x39a051(0x2dc))[_0x39a051(0x57c)];let _0x149776={'title':document[_0x39a051(0x50a)]('edit-highlight-title-input')['value'][_0x39a051(0x515)](),'type':_0x115b6,'description':document[_0x39a051(0x50a)](_0x39a051(0x2b4))[_0x39a051(0x57c)][_0x39a051(0x515)](),'videoId':document[_0x39a051(0x50a)](_0x39a051(0x383))[_0x39a051(0x57c)][_0x39a051(0x515)](),'submittedBy':auth[_0x39a051(0x4c4)][_0x39a051(0x20d)]};if(_0x115b6===_0x39a051(0x4ef)){_0x149776['matchInfo']=document['getElementById'](_0x39a051(0x22a))[_0x39a051(0x57c)]['trim'](),_0x149776[_0x39a051(0x5be)]=document[_0x39a051(0x50a)](_0x39a051(0x223))['value']['trim']();const _0x1e7f5a=document[_0x39a051(0x50a)]('edit-highlight-matchDate-input')['value'];_0x149776[_0x39a051(0x569)]=_0x1e7f5a?Timestamp[_0x39a051(0x565)](new Date(_0x1e7f5a)):null,_0x149776[_0x39a051(0x1f8)]=document['getElementById']('edit-highlight-winnerName-input')[_0x39a051(0x57c)][_0x39a051(0x515)](),_0x149776[_0x39a051(0x196)]=document['getElementById']('edit-highlight-winnerScore-input')[_0x39a051(0x57c)][_0x39a051(0x515)](),_0x149776['loserName']=document[_0x39a051(0x50a)]('edit-highlight-loserName-input')[_0x39a051(0x57c)][_0x39a051(0x515)](),_0x149776[_0x39a051(0x473)]=document[_0x39a051(0x50a)](_0x39a051(0x2a3))[_0x39a051(0x57c)][_0x39a051(0x515)](),_0x149776['matchLink']=document['getElementById'](_0x39a051(0x3cf))[_0x39a051(0x57c)][_0x39a051(0x515)](),_0x149776[_0x39a051(0x1af)]=null,_0x149776['mapVersion']=null,_0x149776[_0x39a051(0x26d)]=null,_0x149776[_0x39a051(0x2f8)]=null,_0x149776['achievementType']=null,_0x149776[_0x39a051(0x461)]=null,_0x149776[_0x39a051(0x534)]=null;}else{if(_0x115b6===_0x39a051(0x537))_0x149776[_0x39a051(0x5be)]=document['getElementById'](_0x39a051(0x223))['value'][_0x39a051(0x515)](),_0x149776[_0x39a051(0x1af)]=document[_0x39a051(0x50a)](_0x39a051(0x201))[_0x39a051(0x57c)][_0x39a051(0x515)](),_0x149776[_0x39a051(0x2fb)]=document['getElementById'](_0x39a051(0x3e5))[_0x39a051(0x57c)]['trim'](),_0x149776['creatorImageUrl']=document['getElementById'](_0x39a051(0x434))[_0x39a051(0x57c)][_0x39a051(0x515)](),_0x149776[_0x39a051(0x510)]=null,_0x149776[_0x39a051(0x569)]=null,_0x149776['winnerName']=null,_0x149776[_0x39a051(0x196)]=null,_0x149776[_0x39a051(0x3ca)]=null,_0x149776[_0x39a051(0x473)]=null,_0x149776[_0x39a051(0x200)]=null,_0x149776[_0x39a051(0x2f8)]=null,_0x149776['achievementType']=null,_0x149776['achievementDetails']=null,_0x149776[_0x39a051(0x534)]=null;else _0x115b6==='achievement'&&(_0x149776['achievementPlayer']=document[_0x39a051(0x50a)](_0x39a051(0x253))[_0x39a051(0x57c)][_0x39a051(0x515)](),_0x149776[_0x39a051(0x3a1)]=document[_0x39a051(0x50a)](_0x39a051(0x1ec))['value']['trim'](),_0x149776[_0x39a051(0x461)]=document['getElementById'](_0x39a051(0x4c1))[_0x39a051(0x57c)][_0x39a051(0x515)](),_0x149776['playerProfileUrl']=document[_0x39a051(0x50a)](_0x39a051(0x28c))[_0x39a051(0x57c)]['trim'](),_0x149776[_0x39a051(0x510)]=null,_0x149776['map']=null,_0x149776[_0x39a051(0x569)]=null,_0x149776[_0x39a051(0x1f8)]=null,_0x149776[_0x39a051(0x196)]=null,_0x149776[_0x39a051(0x3ca)]=null,_0x149776['loserScore']=null,_0x149776['matchLink']=null,_0x149776[_0x39a051(0x1af)]=null,_0x149776[_0x39a051(0x2fb)]=null,_0x149776['creatorImageUrl']=null);}try{if(_0x49a8e4){_0x149776[_0x39a051(0x308)]=serverTimestamp();const _0x44602d=doc(db,_0x39a051(0x398),_0x49a8e4);await updateDoc(_0x44602d,_0x149776),showNotification(_0x39a051(0x5a6),_0x39a051(0x284));}else _0x149776[_0x39a051(0x30f)]=serverTimestamp(),await addDoc(collection(db,'highlights'),_0x149776),showNotification(_0x39a051(0x2e5),'success');closeEditHighlightModal(),loadHighlightsAdmin();}catch(_0x187fa6){console[_0x39a051(0x5e8)](_0x39a051(0x2c4),_0x187fa6),showNotification(_0x39a051(0x294)+_0x187fa6[_0x39a051(0x4f7)],_0x39a051(0x5e8));}}async function resimulateMatch(){const _0x571172=a4_0x11bc30;try{const _0x358dee=document[_0x571172(0x50a)](_0x571172(0x315))[_0x571172(0x57c)];if(!_0x358dee){showNotification(_0x571172(0x538),'error');return;}const _0x1685df=auth[_0x571172(0x4c4)];if(!_0x1685df){showNotification(_0x571172(0x5d9),_0x571172(0x5e8));return;}const _0x42d4d9=currentLadder==='D1'?'approvedMatches':currentLadder==='D2'?'approvedMatchesD2':_0x571172(0x4a5),_0x2157c0=doc(db,_0x42d4d9,_0x358dee),_0x5316af=await getDoc(_0x2157c0);if(!_0x5316af[_0x571172(0x46c)]()){showNotification('Match\x20not\x20found\x20in\x20approved\x20matches','error');return;}const _0x9a275e=_0x5316af[_0x571172(0x524)](),_0x2e7265=_0x9a275e[_0x571172(0x21f)]?_0x9a275e['approvedAt']['toDate']()['toLocaleString']():_0x9a275e[_0x571172(0x569)]?_0x9a275e[_0x571172(0x569)][_0x571172(0x2e3)]?_0x9a275e[_0x571172(0x569)][_0x571172(0x2e3)]()[_0x571172(0x259)]():new Date(_0x9a275e[_0x571172(0x569)])[_0x571172(0x259)]():'Unknown',_0x5c6515=_0x571172(0x40f)+_0x9a275e[_0x571172(0x322)]+_0x571172(0x19e)+_0x9a275e['loserUsername']+_0x571172(0x23d)+_0x9a275e['winnerScore']+'-'+_0x9a275e[_0x571172(0x473)]+_0x571172(0x19c)+(_0x9a275e[_0x571172(0x4e4)]||_0x9a275e['mapName']||_0x571172(0x426))+_0x571172(0x2f2)+_0x2e7265+_0x571172(0x1ff)+_0x358dee+_0x571172(0x437)+currentLadder+_0x571172(0x3f4);document[_0x571172(0x50a)](_0x571172(0x54c))['innerHTML']=_0x5c6515,document[_0x571172(0x50a)](_0x571172(0x54c))[_0x571172(0x416)]['display']=_0x571172(0x547),document[_0x571172(0x50a)](_0x571172(0x436))['style'][_0x571172(0x1a1)]=_0x571172(0x547),window[_0x571172(0x220)]={'matchId':_0x358dee,'matchData':_0x9a275e,'ladder':currentLadder},showNotification('Match\x20found\x20-\x20please\x20review\x20details\x20and\x20confirm\x20resimulation',_0x571172(0x396));}catch(_0x2ad3f7){console[_0x571172(0x5e8)](_0x571172(0x1db),_0x2ad3f7),showNotification('Failed\x20to\x20find\x20match:\x20'+_0x2ad3f7['message'],'error');}}async function confirmResimulateMatch(){const _0x4cb79a=a4_0x11bc30;try{const {matchId:_0x294c78,matchData:_0x580378,ladder:_0x4d10c0}=window[_0x4cb79a(0x220)];if(!_0x294c78||!_0x580378){showNotification('No\x20match\x20data\x20found\x20for\x20resimulation',_0x4cb79a(0x5e8));return;}const _0x3911cc=_0x4d10c0==='D1'?_0x4cb79a(0x28d):_0x4d10c0==='D2'?_0x4cb79a(0x274):_0x4cb79a(0x24c),_0x3e8c9c=_0x4d10c0==='D1'?_0x4cb79a(0x5d7):_0x4d10c0==='D2'?_0x4cb79a(0x1bc):_0x4cb79a(0x2aa),[_0x1b7954,_0xfa7e41]=await Promise[_0x4cb79a(0x264)]([getDocs(query(collection(db,_0x3911cc),where(_0x4cb79a(0x53b),'==',_0x580378[_0x4cb79a(0x322)]))),getDocs(query(collection(db,_0x3911cc),where(_0x4cb79a(0x53b),'==',_0x580378[_0x4cb79a(0x39b)])))]);if(_0x1b7954[_0x4cb79a(0x234)]||_0xfa7e41[_0x4cb79a(0x234)]){showNotification(_0x4cb79a(0x309),_0x4cb79a(0x5e8));return;}const _0x21c2d0=_0x1b7954[_0x4cb79a(0x485)][0x0]['id'],_0xffd6a9=_0xfa7e41['docs'][0x0]['id'],_0x1e3453=_0x1b7954[_0x4cb79a(0x485)][0x0][_0x4cb79a(0x524)](),_0x35ecbe=_0xfa7e41['docs'][0x0]['data'](),[_0x1749fd,_0x227d99]=await Promise['all']([getDocs(query(collection(db,_0x3e8c9c),where(_0x4cb79a(0x22d),'==',_0x21c2d0),where(_0x4cb79a(0x2f0),'==',_0x294c78))),getDocs(query(collection(db,_0x3e8c9c),where(_0x4cb79a(0x22d),'==',_0xffd6a9),where('matchId','==',_0x294c78)))]),_0x1ac607=!_0x1749fd[_0x4cb79a(0x234)],_0x4f0a1c=!_0x227d99['empty'],_0x4b1dbb=_0x4cb79a(0x3da)+(_0x1ac607?'✅\x20Exists':_0x4cb79a(0x377))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Loser\x20ELO\x20History:</strong>\x20'+(_0x4f0a1c?_0x4cb79a(0x330):'❌\x20Missing')+_0x4cb79a(0x5cc)+(_0x1e3453['eloRating']||_0x4cb79a(0x426))+_0x4cb79a(0x279)+(_0x35ecbe['eloRating']||'Unknown')+_0x4cb79a(0x342)+(_0x1e3453[_0x4cb79a(0x21d)]||_0x4cb79a(0x426))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Current\x20Loser\x20Position:</strong>\x20'+(_0x35ecbe[_0x4cb79a(0x21d)]||'Unknown')+_0x4cb79a(0x4e3);document['getElementById']('validation-results-container')['innerHTML']=_0x4b1dbb,document[_0x4cb79a(0x50a)](_0x4cb79a(0x4aa))[_0x4cb79a(0x416)][_0x4cb79a(0x1a1)]=_0x4cb79a(0x547);if(_0x1ac607&&_0x4f0a1c){showNotification(_0x4cb79a(0x195),_0x4cb79a(0x265));return;}showNotification(_0x4cb79a(0x1d4),_0x4cb79a(0x396));const _0x3c8a7b=_0x580378[_0x4cb79a(0x21f)]||_0x580378[_0x4cb79a(0x569)]||serverTimestamp(),[_0x5df9de,_0x109747]=await Promise[_0x4cb79a(0x264)]([getPlayerEloAtTime(_0x21c2d0,_0x3c8a7b,_0x3e8c9c),getPlayerEloAtTime(_0xffd6a9,_0x3c8a7b,_0x3e8c9c)]),{calculateElo:_0x283e50}=await import(_0x4cb79a(0x3dc)),{newWinnerRating:_0x31b8b9,newLoserRating:_0x50998a}=_0x283e50(_0x5df9de,_0x109747),_0xb224f5=_0x1e3453[_0x4cb79a(0x21d)]||Number[_0x4cb79a(0x4e5)],_0x5af693=_0x35ecbe['position']||Number[_0x4cb79a(0x4e5)];let _0x29e87c=_0xb224f5,_0x473b79=_0x5af693;_0xb224f5>_0x5af693&&(_0x29e87c=_0x5af693,_0x473b79=_0x5af693+0x1);const _0x43c110=writeBatch(db),_0x36f09c=doc(db,_0x3911cc,_0x21c2d0);_0x43c110[_0x4cb79a(0x3c1)](_0x36f09c,{'eloRating':_0x31b8b9,'position':_0x29e87c,'lastUpdated':serverTimestamp(),'resimulated':!![],'resimulatedAt':serverTimestamp(),'resimulatedBy':auth[_0x4cb79a(0x4c4)]['uid']});const _0x14d890=doc(db,_0x3911cc,_0xffd6a9);_0x43c110[_0x4cb79a(0x3c1)](_0x14d890,{'eloRating':_0x50998a,'position':_0x473b79,'lastUpdated':serverTimestamp(),'resimulated':!![],'resimulatedAt':serverTimestamp(),'resimulatedBy':auth[_0x4cb79a(0x4c4)][_0x4cb79a(0x30b)]});if(_0xb224f5>_0x5af693){const _0x110596=await getDocs(query(collection(db,_0x3911cc),where(_0x4cb79a(0x21d),'>',_0x5af693),where(_0x4cb79a(0x21d),'<',_0xb224f5)));_0x110596[_0x4cb79a(0x2a1)](_0x44ea7b=>{const _0x2af3b5=_0x4cb79a,_0xb70b4d=doc(db,_0x3911cc,_0x44ea7b['id']),_0x1ff22f=_0x44ea7b[_0x2af3b5(0x524)]()[_0x2af3b5(0x21d)];_0x43c110['update'](_0xb70b4d,{'position':_0x1ff22f+0x1,'lastUpdated':serverTimestamp(),'positionAdjustedBy':_0x2af3b5(0x53c),'positionAdjustedAt':serverTimestamp()});});}if(!_0x1ac607){const _0x502a8c=doc(collection(db,_0x3e8c9c));_0x43c110[_0x4cb79a(0x224)](_0x502a8c,{'playerId':_0x21c2d0,'player':_0x580378['winnerUsername'],'previousElo':_0x5df9de,'newElo':_0x31b8b9,'eloChange':_0x31b8b9-_0x5df9de,'opponentId':_0xffd6a9,'opponent':_0x580378[_0x4cb79a(0x39b)],'matchResult':_0x4cb79a(0x2bd),'previousPosition':_0xb224f5,'newPosition':_0x29e87c,'positionChange':_0x29e87c-_0xb224f5,'matchId':_0x294c78,'timestamp':_0x3c8a7b,'resimulated':!![],'resimulatedAt':serverTimestamp(),'resimulatedBy':auth[_0x4cb79a(0x4c4)][_0x4cb79a(0x30b)],'gameMode':_0x4d10c0,'matchScore':_0x580378[_0x4cb79a(0x196)]+'-'+_0x580378[_0x4cb79a(0x473)],'mapPlayed':_0x580378[_0x4cb79a(0x4e4)]||_0x580378[_0x4cb79a(0x2d6)]||'Unknown','note':_0x4cb79a(0x39a)});}if(!_0x4f0a1c){const _0x5e2f0d=doc(collection(db,_0x3e8c9c));_0x43c110[_0x4cb79a(0x224)](_0x5e2f0d,{'playerId':_0xffd6a9,'player':_0x580378['loserUsername'],'previousElo':_0x109747,'newElo':_0x50998a,'eloChange':_0x50998a-_0x109747,'opponentId':_0x21c2d0,'opponent':_0x580378[_0x4cb79a(0x322)],'matchResult':_0x4cb79a(0x232),'previousPosition':_0x5af693,'newPosition':_0x473b79,'positionChange':_0x473b79-_0x5af693,'matchId':_0x294c78,'timestamp':_0x3c8a7b,'resimulated':!![],'resimulatedAt':serverTimestamp(),'resimulatedBy':auth[_0x4cb79a(0x4c4)]['uid'],'gameMode':_0x4d10c0,'matchScore':_0x580378[_0x4cb79a(0x196)]+'-'+_0x580378[_0x4cb79a(0x473)],'mapPlayed':_0x580378[_0x4cb79a(0x4e4)]||_0x580378[_0x4cb79a(0x2d6)]||_0x4cb79a(0x426),'note':_0x4cb79a(0x39a)});}const _0x2c7bcb=_0x4d10c0==='D1'?_0x4cb79a(0x31e):_0x4d10c0==='D2'?'approvedMatchesD2':'approvedMatchesD3',_0x4f17ef=doc(db,_0x2c7bcb,_0x294c78);_0x43c110['update'](_0x4f17ef,{'resimulated':!![],'resimulatedAt':serverTimestamp(),'resimulatedBy':auth[_0x4cb79a(0x4c4)][_0x4cb79a(0x30b)],'resimulatedReason':'Complete\x20resimulation\x20-\x20ELO\x20ratings\x20and\x20positions\x20recalculated','originalWinnerElo':_0x1e3453[_0x4cb79a(0x3e4)],'originalLoserElo':_0x35ecbe[_0x4cb79a(0x3e4)],'originalWinnerPosition':_0xb224f5,'originalLoserPosition':_0x5af693,'resimulatedWinnerElo':_0x31b8b9,'resimulatedLoserElo':_0x50998a,'resimulatedWinnerPosition':_0x29e87c,'resimulatedLoserPosition':_0x473b79}),await _0x43c110['commit']();const _0x1a8fe5=(!_0x1ac607?0x1:0x0)+(!_0x4f0a1c?0x1:0x0),_0x2fe38f=_0xb224f5!==_0x29e87c||_0x5af693!==_0x473b79;showNotification(_0x4cb79a(0x31d)+(_0x4cb79a(0x35f)+_0x1a8fe5+'\x20ELO\x20history\x20entries.\x20')+(_0x4cb79a(0x596)+_0x5df9de+'→'+_0x31b8b9+'\x20(+'+(_0x31b8b9-_0x5df9de)+_0x4cb79a(0x4fb))+('Loser\x20'+_0x109747+'→'+_0x50998a+'\x20('+(_0x50998a-_0x109747)+_0x4cb79a(0x2cf))+(''+(_0x2fe38f?_0x4cb79a(0x391)+_0xb224f5+'→'+_0x29e87c+_0x4cb79a(0x404)+_0x5af693+'→'+_0x473b79:_0x4cb79a(0x408))),_0x4cb79a(0x284)),closeResimulateModal(),document['querySelector'](_0x4cb79a(0x491))&&loadPlayersData();}catch(_0x52f4c7){console['error']('Error\x20resimulating\x20match:',_0x52f4c7),showNotification(_0x4cb79a(0x39c)+_0x52f4c7[_0x4cb79a(0x4f7)],_0x4cb79a(0x5e8));}}async function getPlayerEloAtTime(_0x23fd1b,_0x3ffb08,_0x466366){const _0x3534d6=a4_0x11bc30;try{const _0x485b81=_0x3ffb08[_0x3534d6(0x2e3)]?_0x3ffb08[_0x3534d6(0x2e3)]():new Date(_0x3ffb08),_0x3f11b2=query(collection(db,_0x466366),where(_0x3534d6(0x22d),'==',_0x23fd1b),where(_0x3534d6(0x1b1),'<',_0x3ffb08),orderBy(_0x3534d6(0x1b1),_0x3534d6(0x4ba)),limit(0x1)),_0x1fea2a=await getDocs(_0x3f11b2);if(!_0x1fea2a[_0x3534d6(0x234)]){const _0x1204bf=_0x1fea2a[_0x3534d6(0x485)][0x0][_0x3534d6(0x524)]();return console[_0x3534d6(0x1c0)]('Found\x20ELO\x20history\x20for\x20player\x20'+_0x23fd1b+_0x3534d6(0x4e6)+_0x1204bf[_0x3534d6(0x53e)]),_0x1204bf[_0x3534d6(0x53e)];}else return console[_0x3534d6(0x1c0)](_0x3534d6(0x54b)+_0x23fd1b+_0x3534d6(0x364)),0x4b0;}catch(_0x14afa1){return console[_0x3534d6(0x5e8)](_0x3534d6(0x336)+_0x23fd1b+':',_0x14afa1),0x4b0;}}function openResimulateModal(){const _0xf7a04b=a4_0x11bc30;console[_0xf7a04b(0x1c0)](_0xf7a04b(0x37c));const _0x1c7ae8=document[_0xf7a04b(0x50a)](_0xf7a04b(0x1ac));console['log'](_0xf7a04b(0x301),_0x1c7ae8);if(!_0x1c7ae8){console[_0xf7a04b(0x5e8)]('Modal\x20element\x20not\x20found!');return;}_0x1c7ae8['style'][_0xf7a04b(0x1a1)]=_0xf7a04b(0x547),_0x1c7ae8['style']['visibility']=_0xf7a04b(0x44a),_0x1c7ae8[_0xf7a04b(0x416)][_0xf7a04b(0x464)]='1',_0x1c7ae8[_0xf7a04b(0x3f1)][_0xf7a04b(0x417)](_0xf7a04b(0x381)),console[_0xf7a04b(0x1c0)]('Modal\x20should\x20now\x20be\x20visible'),console[_0xf7a04b(0x1c0)](_0xf7a04b(0x55b),window[_0xf7a04b(0x3fd)](_0x1c7ae8)[_0xf7a04b(0x1a1)]);const _0x1aa07c=document[_0xf7a04b(0x50a)](_0xf7a04b(0x54c)),_0x3f1b26=document[_0xf7a04b(0x50a)]('validation-results-container'),_0x567ebf=document[_0xf7a04b(0x50a)](_0xf7a04b(0x436)),_0x3aa09d=document['getElementById'](_0xf7a04b(0x315));if(_0x1aa07c)_0x1aa07c['innerHTML']='';if(_0x3f1b26)_0x3f1b26[_0xf7a04b(0x24a)]='';if(_0x567ebf)_0x567ebf[_0xf7a04b(0x416)]['display']=_0xf7a04b(0x1e3);if(_0x3aa09d)_0x3aa09d[_0xf7a04b(0x57c)]='';console[_0xf7a04b(0x1c0)](_0xf7a04b(0x5ce));}function closeResimulateModal(){const _0x16c87d=a4_0x11bc30;document[_0x16c87d(0x50a)](_0x16c87d(0x1ac))['style']['display']=_0x16c87d(0x1e3),window[_0x16c87d(0x220)]=null;}function a4_0x128d(_0x29eaef,_0x474f07){const _0x295b87=a4_0x2d77();return a4_0x128d=function(_0x424470,_0x5e6f60){_0x424470=_0x424470-0x191;let _0x58da3a=_0x295b87[_0x424470];return _0x58da3a;},a4_0x128d(_0x29eaef,_0x474f07);}window[a4_0x11bc30(0x5ea)]=resimulateMatch,window[a4_0x11bc30(0x41b)]=confirmResimulateMatch,window[a4_0x11bc30(0x392)]=openResimulateModal,window[a4_0x11bc30(0x488)]=closeResimulateModal;async function loadPointsData(){const _0x13a2b8=a4_0x11bc30;console[_0x13a2b8(0x1c0)](_0x13a2b8(0x2fd));try{await Promise[_0x13a2b8(0x264)]([loadPointsOverview(),loadPointsHistory()]),showNotification(_0x13a2b8(0x222),_0x13a2b8(0x284));}catch(_0x61c9b3){console[_0x13a2b8(0x5e8)](_0x13a2b8(0x5c0),_0x61c9b3),showNotification(_0x13a2b8(0x556)+_0x61c9b3[_0x13a2b8(0x4f7)],_0x13a2b8(0x5e8));}}function renderPointsOverview(_0x972b6a){const _0x3e9bd5=a4_0x11bc30,_0x544510=document[_0x3e9bd5(0x50a)](_0x3e9bd5(0x36c));if(!_0x544510)return;if(_0x972b6a[_0x3e9bd5(0x49f)]===0x0){_0x544510['innerHTML']=_0x3e9bd5(0x292);return;}_0x544510[_0x3e9bd5(0x24a)]='',_0x972b6a[_0x3e9bd5(0x2a1)](_0x514c66=>{const _0x56431f=_0x3e9bd5,_0x1bd859=document[_0x56431f(0x1b8)]('tr'),_0x3e72ac=_0x514c66['displayName']||_0x514c66[_0x56431f(0x53b)]||'Unknown\x20User',_0x152758=_0x514c66['email']||'No\x20email',_0x55110a=_0x514c66[_0x56431f(0x4f6)]||0x0,_0x2889f2=_0x514c66[_0x56431f(0x1cf)]?new Date(_0x514c66['lastPointsModified'][_0x56431f(0x387)]*0x3e8)[_0x56431f(0x379)]():_0x56431f(0x363);_0x1bd859[_0x56431f(0x24a)]=_0x56431f(0x23c)+_0x3e72ac+_0x56431f(0x267)+_0x152758+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22points-badge\x20'+(_0x55110a>0x3e8?'high-points':_0x55110a>0x1f4?_0x56431f(0x54d):_0x56431f(0x35a))+_0x56431f(0x58d)+_0x55110a[_0x56431f(0x259)]()+_0x56431f(0x218)+_0x2889f2+_0x56431f(0x3eb)+_0x514c66['id']+_0x56431f(0x4d6)+_0x514c66['id']+_0x56431f(0x2b2),_0x544510[_0x56431f(0x476)](_0x1bd859);}),setupPointsActionButtons();}function setupPointsActionButtons(){const _0x4c9198=a4_0x11bc30;console[_0x4c9198(0x1c0)](_0x4c9198(0x3e7));const _0x265d0f=document['querySelectorAll']('.quick-edit-btn');console[_0x4c9198(0x1c0)](_0x4c9198(0x407)+_0x265d0f[_0x4c9198(0x49f)]+_0x4c9198(0x23b)),_0x265d0f[_0x4c9198(0x2a1)](_0x147bd9=>{const _0x379bd2=_0x4c9198,_0x282fe5=_0x147bd9[_0x379bd2(0x431)](!![]);_0x147bd9[_0x379bd2(0x592)]['replaceChild'](_0x282fe5,_0x147bd9);});const _0x4a1e99=document[_0x4c9198(0x2ae)](_0x4c9198(0x354));console[_0x4c9198(0x1c0)](_0x4c9198(0x407)+_0x4a1e99['length']+_0x4c9198(0x5b6)),_0x4a1e99[_0x4c9198(0x2a1)](_0x34c317=>{const _0x43837d=_0x4c9198,_0x1a7480=_0x34c317[_0x43837d(0x431)](!![]);_0x34c317[_0x43837d(0x592)][_0x43837d(0x24d)](_0x1a7480,_0x34c317);}),document[_0x4c9198(0x2ae)](_0x4c9198(0x1f9))['forEach'](_0x4341d3=>{const _0x260979=_0x4c9198;_0x4341d3[_0x260979(0x368)](_0x260979(0x583),function(_0x51e52f){const _0x1e5c6c=_0x260979;_0x51e52f[_0x1e5c6c(0x37d)](),_0x51e52f[_0x1e5c6c(0x1b2)]();const _0x2808a8=this[_0x1e5c6c(0x303)][_0x1e5c6c(0x3f9)];console[_0x1e5c6c(0x1c0)]('Quick\x20edit\x20clicked\x20for\x20user:',_0x2808a8);if(!_0x2808a8){console[_0x1e5c6c(0x5e8)](_0x1e5c6c(0x56f));return;}this['style']['opacity']=_0x1e5c6c(0x338),setTimeout(()=>{const _0x4331b9=_0x1e5c6c;this[_0x4331b9(0x416)][_0x4331b9(0x464)]='1';},0xc8),openQuickEditModal(_0x2808a8);});}),document[_0x4c9198(0x2ae)](_0x4c9198(0x354))[_0x4c9198(0x2a1)](_0x1eef00=>{const _0x107be=_0x4c9198;_0x1eef00[_0x107be(0x368)]('click',function(_0x4a01be){const _0x58ef38=_0x107be;_0x4a01be['preventDefault'](),_0x4a01be[_0x58ef38(0x1b2)]();const _0x422678=this[_0x58ef38(0x303)][_0x58ef38(0x3f9)];console[_0x58ef38(0x1c0)](_0x58ef38(0x3d8),_0x422678);if(!_0x422678){console[_0x58ef38(0x5e8)](_0x58ef38(0x56f));return;}this[_0x58ef38(0x416)][_0x58ef38(0x464)]=_0x58ef38(0x338),setTimeout(()=>{const _0x41c912=_0x58ef38;this[_0x41c912(0x416)][_0x41c912(0x464)]='1';},0xc8),loadUserPointsHistory(_0x422678);});}),console['log'](_0x4c9198(0x5a0));}async function openQuickEditModal(_0x399510){const _0x3d84d5=a4_0x11bc30;console['log'](_0x3d84d5(0x5b7),_0x399510);const _0x3f8bee=document[_0x3d84d5(0x50a)](_0x3d84d5(0x590));if(!_0x3f8bee){console[_0x3d84d5(0x5e8)](_0x3d84d5(0x273)),showNotification(_0x3d84d5(0x495),'error');return;}try{showNotification(_0x3d84d5(0x3aa),'info');const _0x5c7dca=doc(db,_0x3d84d5(0x1f0),_0x399510),_0x48ae3f=await getDoc(_0x5c7dca);if(!_0x48ae3f[_0x3d84d5(0x46c)]()){showNotification('User\x20not\x20found',_0x3d84d5(0x5e8));return;}const _0x594969=_0x48ae3f['data']();console[_0x3d84d5(0x1c0)](_0x3d84d5(0x36f),_0x594969);const _0x1b012a=document['getElementById']('quick-edit-user-id'),_0x5b6baf=document['getElementById'](_0x3d84d5(0x4fd)),_0x9f66ea=document[_0x3d84d5(0x50a)](_0x3d84d5(0x5d6)),_0x284e36=document[_0x3d84d5(0x50a)](_0x3d84d5(0x4b7)),_0x2e6d1f=document[_0x3d84d5(0x50a)](_0x3d84d5(0x36d));if(!_0x1b012a||!_0x5b6baf||!_0x9f66ea||!_0x284e36||!_0x2e6d1f){console[_0x3d84d5(0x5e8)](_0x3d84d5(0x4d2)),showNotification(_0x3d84d5(0x5a2),_0x3d84d5(0x5e8));return;}_0x1b012a['value']=_0x399510,_0x5b6baf[_0x3d84d5(0x56a)]=_0x594969[_0x3d84d5(0x4c0)]||_0x594969[_0x3d84d5(0x53b)]||_0x3d84d5(0x261),_0x9f66ea[_0x3d84d5(0x56a)]=_0x594969[_0x3d84d5(0x20d)]||'No\x20email',_0x284e36[_0x3d84d5(0x56a)]=(_0x594969['points']||0x0)[_0x3d84d5(0x259)](),_0x2e6d1f[_0x3d84d5(0x3e8)]();const _0x5f3f4e=document['getElementById'](_0x3d84d5(0x493));_0x5f3f4e&&(_0x5f3f4e[_0x3d84d5(0x52a)]=!![]);_0x3f8bee[_0x3d84d5(0x3f1)][_0x3d84d5(0x417)](_0x3d84d5(0x381)),console[_0x3d84d5(0x1c0)](_0x3d84d5(0x345));const _0x262c7c=document[_0x3d84d5(0x50a)](_0x3d84d5(0x317));_0x262c7c&&setTimeout(()=>_0x262c7c[_0x3d84d5(0x27c)](),0x64);}catch(_0x1b5702){console['error'](_0x3d84d5(0x2b8),_0x1b5702),showNotification(_0x3d84d5(0x371)+_0x1b5702[_0x3d84d5(0x4f7)],_0x3d84d5(0x5e8));}}function closeQuickEditModal(){const _0x5f50c3=a4_0x11bc30,_0x2b23ca=document[_0x5f50c3(0x50a)](_0x5f50c3(0x590));_0x2b23ca&&_0x2b23ca[_0x5f50c3(0x3f1)]['remove']('active');}async function handleQuickEditPoints(_0x4eec7b){const _0x158c9b=a4_0x11bc30;_0x4eec7b[_0x158c9b(0x37d)]();const _0x4540a9=document[_0x158c9b(0x50a)](_0x158c9b(0x31c))[_0x158c9b(0x57c)],_0x5b6012=document[_0x158c9b(0x2be)]('input[name=\x22quick-action\x22]:checked')[_0x158c9b(0x57c)],_0x31eb92=parseInt(document[_0x158c9b(0x50a)](_0x158c9b(0x317))[_0x158c9b(0x57c)]),_0x1c80d1=document[_0x158c9b(0x50a)]('quick-points-reason')['value'][_0x158c9b(0x515)]();console[_0x158c9b(0x1c0)](_0x158c9b(0x2f5),{'userId':_0x4540a9,'action':_0x5b6012,'amount':_0x31eb92,'reason':_0x1c80d1});if(!_0x4540a9||!_0x31eb92||_0x31eb92<0x0){showNotification(_0x158c9b(0x288),'error');return;}try{await modifyUserPoints(_0x4540a9,_0x5b6012,_0x31eb92,_0x1c80d1),closeQuickEditModal(),loadPointsOverview(),showNotification(_0x158c9b(0x372),_0x158c9b(0x284)),console[_0x158c9b(0x1c0)](_0x158c9b(0x3f8),_0x4540a9);}catch(_0x118d58){console[_0x158c9b(0x5e8)](_0x158c9b(0x47e),_0x118d58),showNotification(_0x158c9b(0x2f1)+_0x118d58[_0x158c9b(0x4f7)],'error');}}async function searchUsersForPoints(){const _0x1b5150=a4_0x11bc30,_0x61b340=document[_0x1b5150(0x50a)](_0x1b5150(0x470))['value'][_0x1b5150(0x515)]()['toLowerCase'](),_0x36ba3e=document[_0x1b5150(0x50a)]('user-search-results');if(!_0x61b340||_0x61b340['length']<0x2){_0x36ba3e['innerHTML']='';return;}_0x36ba3e['innerHTML']=_0x1b5150(0x41f);try{const _0x1cc9dd=collection(db,'userProfiles'),_0x5250c6=await getDocs(_0x1cc9dd),_0xff2aed=[];_0x5250c6[_0x1b5150(0x2a1)](_0x15a792=>{const _0x285aa2=_0x1b5150,_0x53caae=_0x15a792['data'](),_0x1cbaa4=(_0x53caae['displayName']||_0x53caae[_0x285aa2(0x53b)]||'')['toLowerCase'](),_0x4076f7=(_0x53caae[_0x285aa2(0x20d)]||'')['toLowerCase']();(_0x1cbaa4['includes'](_0x61b340)||_0x4076f7['includes'](_0x61b340))&&_0xff2aed[_0x285aa2(0x5da)]({'id':_0x15a792['id'],..._0x53caae});});if(_0xff2aed[_0x1b5150(0x49f)]===0x0){_0x36ba3e['innerHTML']=_0x1b5150(0x268);return;}_0x36ba3e[_0x1b5150(0x24a)]='',_0xff2aed[_0x1b5150(0x2a1)](_0x784fd4=>{const _0x23da3d=_0x1b5150,_0x609a13=document[_0x23da3d(0x1b8)](_0x23da3d(0x327));_0x609a13[_0x23da3d(0x507)]=_0x23da3d(0x2ef),_0x609a13['innerHTML']=_0x23da3d(0x26c)+(_0x784fd4[_0x23da3d(0x4c0)]||_0x784fd4['username']||'Unknown')+_0x23da3d(0x3e9)+(_0x784fd4[_0x23da3d(0x20d)]||_0x23da3d(0x29c))+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22user-points\x22>'+(_0x784fd4['points']||0x0)['toLocaleString']()+'\x20points</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x609a13[_0x23da3d(0x368)]('click',()=>selectUserForPoints(_0x784fd4)),_0x36ba3e[_0x23da3d(0x476)](_0x609a13);});}catch(_0x4163b9){console[_0x1b5150(0x5e8)](_0x1b5150(0x5bd),_0x4163b9),_0x36ba3e['innerHTML']=_0x1b5150(0x3d4);}}function selectUserForPoints(_0x22d727){const _0x2b2b87=a4_0x11bc30;document['getElementById'](_0x2b2b87(0x35e))[_0x2b2b87(0x56a)]=_0x22d727[_0x2b2b87(0x4c0)]||_0x22d727[_0x2b2b87(0x53b)]||_0x2b2b87(0x261),document[_0x2b2b87(0x50a)](_0x2b2b87(0x2c8))[_0x2b2b87(0x56a)]=(_0x22d727[_0x2b2b87(0x4f6)]||0x0)[_0x2b2b87(0x259)](),document[_0x2b2b87(0x50a)](_0x2b2b87(0x478))['value']=_0x22d727['id'],document['getElementById'](_0x2b2b87(0x4f3))[_0x2b2b87(0x416)]['display']=_0x2b2b87(0x547),document['getElementById'](_0x2b2b87(0x238))[_0x2b2b87(0x416)][_0x2b2b87(0x1a1)]=_0x2b2b87(0x547),document[_0x2b2b87(0x50a)](_0x2b2b87(0x504))[_0x2b2b87(0x24a)]='',document[_0x2b2b87(0x50a)](_0x2b2b87(0x470))[_0x2b2b87(0x57c)]='';}function a4_0x2d77(){const _0x3eed1e=['playerProfileUrl','pointsHistory','You\x20must\x20be\x20logged\x20in\x20to\x20save\x20articles','creator','Match\x20ID\x20is\x20required','Attaching\x20cancel\x20button\x20listener.','description','username','resimulation','Error\x20fetching\x20matches\x20for\x20','newElo','Friday','793251vgwUOf','L\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-btn\x22\x20data-id=\x22','https://www.youtube.com/embed/','Please\x20enter\x20a\x20username','highlight-title-container','N/A','constructor','block','edit-losses','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><span\x20class=\x22ladder-badge\x20','role-username','No\x20ELO\x20history\x20found\x20for\x20player\x20','match-details-container','medium-points','color','Error\x20searching\x20user:','Title\x20is\x20required','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22trophy-image-cell\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22','exception','award-reason','Thursday','Trophy\x20Preview','Failed\x20to\x20load\x20points\x20data:\x20','Featured\x20Creator','4270sATcTz','.form-group,\x20.form-row','Create\x20Article','Modal\x20computed\x20styles:','Error\x20setting\x20custom\x20ELO:','rgba(25,\x20118,\x20210,\x200.7)','key','Creator','.view-player-btn','rgba(211,\x2047,\x2047,\x200.7)','load-highlights-data','Player\x20not\x20found\x20in\x20','filter','fromDate','\x20ladder!','Winner\x20and\x20loser\x20usernames\x20are\x20required','Error\x20setting\x20user\x20role:','matchDate','textContent','assign-trophy-id','activity','#users-table-body\x20tr[data-username=\x22','manage-points','No\x20user\x20ID\x20found\x20on\x20button','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-article-btn\x22\x20data-id=\x22','d3-prev-page','Demotion','no-results','Added\x20','Toggling\x20fields\x20for\x20highlight\x20type:\x20','.ladder-switch\x20input[value=\x22D2\x22]','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAADHUlEQVR4nO2XS0hUURjHf3fGnPGB+cBkzEAFRSglH5mQEiitIFoYEW6iFrWJoE20SReCQUGbXrRqEVFB0SIKKnrhM3wUldmQjc5Yk46Njjpz7+06cO50vTP3jplJ0fnDYe75zpnz/e73+L5zFf4n+X1SUoAM624GUoA0IAjw+IS5BWwgCIwCbuAn0AcMWOsP4NHE+BlqEjmxDZQCq4H5QCoQsALMWJjLWgMTvN8FPALuWWs38MhnfCoQoBvIBY4Du4EVwCyPDj7L+ptA/S/WX4EW4ALQMM1g/k8FmA5UAPuBZYCK94wRyXmU6TlwDEFzwDHgltOHnQKcBWwFjgL5jglOTTeBI8BtuwdVmweLgCvAAsckpq8XwDagzQ7QboPZQC1Q7JjA7KgX2AJ02zkwmjINuAzUzHCyGnAFmDMZ4DqgERHNTEsBDmvT0eVSYNgx1PSl28pOldcGvw/WAOeB+Y6pzEwPEJV1zOvBPcAJx0RmLg3YGw0Yu80G4LRjErOjU0BxJGARcB1Y6JjE7GgQKAD6w4FmAM3AUscE4pMuozqigrMa52RUKiK+ipxKDRkVRAYSoiDwDLiLKKU9iqKMgiQRH2wElsdxwDPgLPAAOZ4Fo/YV5BNkAXXIvFgLXAS+2wDnAU2MZEmsJOIK8NqG/wEVwClEoREmLeKP50hn5FSvgT3AY5v+J5HmHVZ4iY+pNG0E1wEss+FbjXS2vjgeUJETzYLJE5+gz5aHXSzlQBnQFQ9gCPH5F4lL94B2G3yl0QE+jwdwBJgH9ESSMgrcteG7HNJihk1A3AMOAgeBT9E7NE0LAkEnEkYHqEa162QMn+02/LJsxpg0YLexURTl3cSgmqYFTNMccPJ1uIDPxuYScDyG31Ls1+EbK6muSIAul8tQ7Jrq5BoGWhVFCQJ7kQkjlnIQFR1TKowNGY6JomnMQkSoGviXvAWWKIoSjgVxPdLtvwKwQ1GUD7ECugBDURTPeHUBfIwVUNO0EWPyWT+mNGBQ13WXN6CqKoOGYYT8fj8+n2NCCYyLiooC8f75D86ukgTJZSGcAAAAAElFTkSuQmCC','edit-match-loser-demo','keypress','Error\x20loading\x20players:','value','Monday','fa-exclamation-triangle','highlight-achievement-player','Error\x20loading\x20ribbons\x20data','Won','Trophy\x20definition\x20deleted\x20successfully','click','Match\x20Highlight','nonexistent','assign-trophy-name','cancel-trophy-btn','\x20in\x20','ladder','Match\x20updated\x20successfully','highlight-modal-title','Match\x20highlight\x20button\x20clicked','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-coins\x22></i>\x20','reset-history-filters','add-ribbon-form','quick-edit-points-modal','promotion','parentNode','Match\x20ID\x20or\x20ladder\x20missing','right','ribbon','Updated\x20ELO\x20ratings:\x20Winner\x20','Failed\x20to\x20load\x20player\x20data','set-elo-ladder','load-matches-data','positive-change','<span\x20class=\x22no-role\x22>None</span>','input[name=\x22test-match-ladder\x22]','.empty-state','previousElo','points-desc','Points\x20action\x20buttons\x20setup\x20complete','Modal\x20close\x20button\x20clicked','Quick\x20edit\x20form\x20is\x20incomplete.\x20Check\x20the\x20HTML\x20structure.','Points\x20field\x20initialized\x20for\x20','YouTube\x20Video\x20ID\x20is\x20required\x20for\x20match\x20highlights','\x27;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22trophy-name\x22>','Highlight\x20updated\x20successfully!','User\x20\x22','\x20(based\x20on\x20data-role:\x20','</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-danger\x20btn-sm\x20remove-ribbon-btn\x22\x20data-ribbon=\x22','elo-history','Trophy\x20ID\x20and\x20username\x20are\x20required','\x22\x20title=\x22Edit\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-edit\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-highlight-btn\x22\x20data-id=\x22','allUsersPoints','points-reason','Searching\x20for\x20player\x20in\x20','edit-match-loser','</td></tr>','Player\x20not\x20found','Trophy\x20\x22','Create\x20test\x20match\x20modal\x20not\x20found\x20in\x20DOM','Setting\x20permissions\x20based\x20on\x20role:\x20','\x20view\x20history\x20buttons','Opening\x20quick\x20edit\x20modal\x20for\x20user\x20ID:','common','.delete-trophy-btn','data-match-id','nonParticipants','Error\x20loading\x20inactive\x20players:','Error\x20searching\x20users:','map','Player\x20\x22','Error\x20loading\x20points\x20data:','<tr><td\x20colspan=\x226\x22\x20class=\x22empty-state\x22>No\x20highlights\x20found</td></tr>','backgroundColor','Inactive\x20players\x20section\x20initialized','Looking\x20for\x20user\x20role\x20information\x20for\x20','subtract','Create\x20test\x20match\x20button\x20not\x20found\x20in\x20DOM','Manage\x20Points\x20section\x20initialized','Unnamed\x20Trophy','\x20points','Error\x20loading\x20highlight:\x20','Load\x20inactive\x20players\x20data\x20clicked','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Current\x20Winner\x20ELO:</strong>\x20','loserSuicides','Modal\x20setup\x20complete','.close-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','edit-player-modal','Create\x20test\x20match\x20form\x20submitted','d1-next-page','Create\x20New\x20','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Dashboard\x20Data','quick-edit-email','eloHistory','target','You\x20must\x20be\x20logged\x20in\x20to\x20resimulate\x20matches','push','\x20users\x20don\x27t\x20have\x20points\x20field\x20yet.\x20Use\x20the\x20migration\x20button\x20to\x20initialize.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x227\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20matches:\x20','trace','\x20section','#trophy-modal\x20.close-btn,\x20#assign-trophy-modal\x20.close-btn','manage-highlights','cancel-highlight-btn','Player\x20','You\x20do\x20not\x20have\x20permission\x20to\x20access\x20this\x20section','Close\x20button\x20not\x20found\x20in\x20quick\x20edit\x20modal','Initializing\x20points\x20field\x20for\x20user\x20','#inactive-players-table-body\x20tr','\x20Weekly\x20Activity','error','Error\x20searching\x20for\x20user','resimulateMatch','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22elo\x22>','pending-count','\x20by\x20UID:','sources','highlight-map-version','Error\x20loading\x20ELO\x20history:','.edit-ribbons-btn','trophy-rarity','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.src=\x27','currentTarget','#highlight-modal\x20.close-btn','Both\x20players\x20already\x20have\x20ELO\x20history\x20for\x20this\x20match.\x20No\x20resimulation\x20needed.','winnerScore','Initial\x20Placement','inactive-days-filter','User\x20has\x20','userAllowedTabs','bar','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Map:</strong>\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-btn\x22\x20data-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Loser:</strong>\x20','.remove-role-btn','trophy-image-preview','display','set-elo-username','sendPromotionNotification','Username\x20is\x20missing','\x20users...','edit-match-ladder','name-asc','User\x20Profiles','rarity','lastVisible','Error\x20initializing\x20dashboard:','resimulate-modal','highlight-type','catch','mapCreator','src','timestamp','stopPropagation','current-ribbon-user','#matches-table-body\x20tr','approvedMatchesD2','edit-username','__proto__','createElement','Error\x20loading\x20dashboard:','alt','toString','eloHistoryD2','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-trophy-btn\x22\x20data-id=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-sm\x20edit-ribbons-btn\x22\x20data-username=\x22','Failed\x20to\x20create\x20simple\x20test\x20match:\x20','log','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22remove-role-btn\x22\x20data-username=\x22','</span>','from','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','Promotion\x20notification\x20sent\x20to\x20Discord\x20bot','manage-matches','promote-modal','Set\x20to\x20','Error\x20assigning\x20trophy:','Error\x20resolving\x20username\x20for\x20','load-trophies-data','.delete-match-btn','manage-trophies','entries','lastPointsModified','<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error','.player','2478905BZSmNW','empty-state','Starting\x20complete\x20match\x20resimulation...',',\x20giving\x20default\x20access','article-form','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Date:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20ladder,\x20page\x20','Load\x20history\x20data\x20clicked','Error\x20finding\x20match:','\x22\x20title=\x22Edit\x20Match\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-match-btn\x20btn-small\x20btn-danger\x22\x20data-id=\x22','Map\x20Creator\x20is\x20required','action','demote-ladder','Found\x20radio\x20with\x20value:','sort','70EjZRHN','none','Demoting\x20player\x20to\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22winner-cell\x22>','\x20collection...','Article\x20created\x20successfully','Displaying\x20','image','article-content','Failed\x20to\x20delete\x20trophy:\x20','edit-highlight-achievementType-input','<tr><td\x20colspan=\x227\x22\x20class=\x22empty-state\x22>No\x20ELO\x20history\x20found</td></tr>','create-test-match-form','edit-wins','userProfiles','roleAssignedAt','Setting\x20up\x20Manage\x20Ribbons\x20section','Match\x20deleted\x20successfully','\x20ladder','\x20total\x20players\x20in\x20the\x20','Delete\x20match\x20clicked:','highlight-creator-image','winnerName','.quick-edit-btn','{}.constructor(\x22return\x20this\x22)(\x20)','set-elo-btn','highlight-map-container','.assign-trophy-btn','Enter','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Match\x20ID:</strong>\x20','matchLink','edit-highlight-mapCreator-input','Dashboard\x20data\x20loaded\x20successfully','<span\x20class=\x22role-badge\x22\x20style=\x22background-color:\x20','Trophy\x20created\x20successfully','Failed\x20to\x20save\x20trophy:\x20','trophyId','Firebase\x20connection\x20test\x20failed:','Ribbons\x20data\x20loaded\x20successfully','#1976d2','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20History\x20Data','W\x20/\x20','Create\x20test\x20match\x20modal\x20not\x20found','email','history-end-date','promote-player-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','No\x20description','awardedAt','Silver','type','Points\x20modified\x20successfully','migration-section','<div\x20class=\x22chart-error\x22>Error\x20loading\x20chart\x20data</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','unknown','demotedBy','highlight-match-link-container','Error\x20loading\x20matches:','position','userTrophies','approvedAt','pendingResimulateData','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','Points\x20data\x20loaded\x20successfully','edit-highlight-map-input','set','edit-highlight-id','Bronze','\x22\x20set','previousElementSibling','rank-distribution-chart','edit-highlight-matchInfo-input','Error\x20loading\x20history:','</span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','playerId','\x20matches\x20for\x20','Found\x20player\x20with\x20current\x20ELO:\x20','Error\x20loading\x20match\x20for\x20deletion:','\x22\x20data-ladder=\x22','loss','Loading...','empty','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-article-btn\x22\x20data-id=\x22','Modal\x20should\x20now\x20be\x20visible','demoLink','points-management-forms','No\x20radio\x20button\x20found\x20for\x20current\x20ladder:','Username\x20input\x20set\x20to:\x20','\x20quick\x20edit\x20buttons','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22user-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user\x20user-icon\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22user-name\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Score:</strong>\x20','d2-next-page','then','create-achievement-highlight-btn','string','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22ladder-cell\x22>','highlight-description','moderately-inactive','<tr><td\x20colspan=\x225\x22\x20class=\x22error-state\x22>Error\x20loading\x20ribbons</td></tr>','Match','test-match-winner-username','Create\x20test\x20match\x20form\x20not\x20found','edit-match-winner','innerHTML','removeEventListener','playersD3','replaceChild','TestLoser','highlight-map-creator','Creator\x20highlight\x20button\x20clicked','manage-levels-ribbons','visibility','edit-highlight-achievementPlayer-input','Setting\x20up\x20create\x20test\x20match\x20modal\x20events','demote-username','Error\x20loading\x20match\x20data:','Set\x20default\x20ladder\x20to:','lastMatch','toLocaleString','Highlight\x20deleted\x20successfully','inactive-players-table-body','Unknown\x20Admin','reason','Highlight\x20not\x20found','No\x20matches\x20found','highlight-achievement-details-container','Unknown\x20User','toLowerCase','Emerald','all','warning','YouTube\x20Video\x20ID*','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','<div\x20class=\x22no-results\x22>No\x20users\x20found</div>','imageUrl','Modal\x20closed','All\x20fields\x20are\x20required','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22user-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','creatorImageUrl','Page\x201','3357kIrEWC','ribbon-item','button[type=\x22submit\x22]','Found\x20specific\x20role:\x20','Quick\x20edit\x20modal\x20not\x20found!\x20Make\x20sure\x20the\x20HTML\x20element\x20exists.','playersD2','.no-results','trophy-id','title','highlight-title','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Current\x20Loser\x20ELO:</strong>\x20','Title\x20and\x20content\x20are\x20required','input[name=\x22demote-ladder\x22]:checked','focus','Wednesday','closest','No\x20reason\x20provided','.edit-role-btn','highlight-achievement-type-container','trophy-image-url','highlight-winner-score','success','\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20Users\x20updated\x20with\x20points:\x20','Error\x20awarding\x20item:','includes','Please\x20enter\x20valid\x20data','This\x20will\x20add\x20a\x20points\x20field\x20(set\x20to\x200)\x20for\x20all\x20users\x20who\x20don\x27t\x20have\x20one\x20yet.\x20Continue?','Starting\x20points\x20field\x20initialization\x20for\x20all\x20users...','Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20player?\x20This\x20action\x20cannot\x20be\x20undone.','edit-highlight-playerProfileUrl-input','players','#50C878','article-author','Trophy\x20not\x20found','table','<tr><td\x20colspan=\x225\x22\x20class=\x22empty-state\x22>No\x20users\x20found</td></tr>','rejected-count','Error\x20saving\x20highlight:\x20','ribbon-level','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Articles','points-sort-order','highlight-video-id','matches-page-indicator','#C0C0C0','Failed\x20to\x20load\x20article\x20data','No\x20email','14126QxmAmo','demote-form','Creating\x20test\x20match\x20without\x20player\x20validation...','player','forEach','join','edit-highlight-loserScore-input','Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20article?\x20This\x20action\x20cannot\x20be\x20undone.','Error\x20modifying\x20points:','.remove-ribbon-btn','Quick\x20edit\x20modal\x20not\x20found\x20in\x20DOM!','player-count','setHours','eloHistoryD3','Modal\x20background\x20clicked','hidden','<tr><td\x20colspan=\x226\x22\x20class=\x22loading-cell\x22>Loading\x20history...</td></tr>','querySelectorAll','getDay','#cancel-create-test-match-btn','<tr><td\x20colspan=\x227\x22\x20class=\x22loading-cell\x22>Loading\x20matches...</td></tr>','\x22\x20title=\x22View\x20Points\x20History\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-history\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Current\x20user:','edit-highlight-description-input','Create\x20test\x20match\x20modal\x20setup\x20complete','.close-notification','bind','Error\x20opening\x20quick\x20edit\x20modal:','.section-header','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22map-cell\x22>','endDate','Error\x20loading\x20ribbons:','win','querySelector','edit-match-loser-comment','reduce','\x20-\x20','Load\x20users\x20data\x20clicked','.nav-item','Error\x20saving\x20highlight:','\x20<span\x20class=\x22user-source\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22stats\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#000000','selected-user-points','borderRadius','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Attempting\x20to\x20demote\x20','Error\x20saving\x20trophy:','Error\x20saving\x20match:','ribbons',').\x20','playerRibbonsD3','edit-match-id','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22position\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x226\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20highlights:\x20','save-player-btn','Error\x20adding\x20player:\x20','mapName','points-action','18234Aveett','submittedBy','getAttribute','role','edit-highlight-type-select','negative-change','previousPoints','<tr><td\x20colspan=\x224\x22\x20class=\x22loading-cell\x22>Loading\x20articles...</td></tr>','set-role-modal','roleColor','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toDate','User\x20','Highlight\x20added\x20successfully!','Edit\x20Article','\x20ladder.\x20Click\x20\x22Load\x20Data\x22\x20to\x20refresh.','result','user-ribbon-management','demotion','Player\x20is\x20already\x20at\x20minimum\x20rank\x20(Unranked)\x20in\x20','match-count','Please\x20select\x20a\x20user\x20and\x20store\x20item','highlight-form','search-result-item','matchId','Failed\x20to\x20update\x20points:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Match\x20Date:</strong>\x20','Error\x20deleting\x20article:','onAuthStateChanged','Processing\x20points\x20edit:','32528tLPDLg','Error\x20opening\x20edit\x20modal:','achievementPlayer','192sMuiJv','marginBottom','mapVersion','RejectedD3','Loading\x20points\x20data...','ribbon-target-user','Data\x20load\x20buttons\x20initialized\x20based\x20on\x20permissions','players-table-body','Modal\x20element\x20found:','input[name=\x22promote-ladder\x22]:checked','dataset','Auth:','Load\x20articles\x20data\x20clicked','Error\x20adding\x20ribbon:','Sidebar\x20navigation\x20initialized\x20with\x20permissions','updatedAt','Could\x20not\x20find\x20player\x20documents','Using\x20collections\x20for\x20','uid','input[name=\x22test-match-ladder\x22][value=\x22D1\x22]','Role\x20\x27','Delete\x20Trophy:\x20No\x20trophy\x20ID\x20provided.','createdAt','Collection\x20reference\x20created:','cancel-quick-edit','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22assign-trophy-btn\x22\x20data-id=\x22','Player\x20is\x20already\x20at\x20maximum\x20rank\x20(Emerald)\x20in\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','resimulate-match-id','Attempting\x20to\x20open\x20role\x20edit\x20modal\x20for:','quick-points-amount','.username','Failed\x20to\x20load\x20match\x20data','Player\x20updated\x20successfully','Saturday','quick-edit-user-id','Match\x20resimulated\x20successfully!\x20','approvedMatches','\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','Unranked',';\x22>','winnerUsername','\x20history\x20entries\x20for\x20user\x20','cancel-promote-btn','Test\x20match','cancel-article-btn','div','warn','match-row','max','add-player-form','Role\x20select\x20field\x20(#user-role)\x20not\x20found\x20in\x20modal.','onerror','lastUpdated','Player\x20deleted\x20successfully','✅\x20Exists','inactive-players','Highlight','loading-cell','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','no-results-message','Error\x20getting\x20ELO\x20at\x20time\x20for\x20player\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22notification-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','0.6','pendingMatchesD3','border','highlight-achievement-image','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x227\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20applying\x20filters:\x20','./promotions.js','Matches\x20Played','Setting\x20up\x20create\x20test\x20match\x20button','playerRibbonsD2','Attempting\x20to\x20delete\x20trophy\x20definition\x20with\x20ID:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Current\x20Winner\x20Position:</strong>\x20','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Highlights','trophy-rarity\x20','Modal\x20opened\x20successfully','new-player-elo','Error\x20applying\x20filters:','\x20vs\x20','Error\x20demoting\x20player:\x20','article-title','loserDemoLink','elo','rgba(255,\x20193,\x207,\x200.1)','ribbon-target-ladder','</span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','highlight-id','highlight-map','input','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22previous-elo\x22>','.view-history-btn','Setting\x20up\x20Manage\x20Points\x20section','#users-table-body\x20tr','Non-Participants','Highlight\x20created\x20successfully!','Error\x20loading\x20trophy\x20definitions:','low-points','apply','<tr><td\x20colspan=\x226\x22\x20class=\x22loading-cell\x22>Loading\x20highlights...</td></tr>','history-type-filter','selected-user-name','Created\x20','rankDistribution','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-role-btn\x22\x20data-username=\x22','Manage\x20Matches\x20section\x20initialized\x20with\x20resimulate\x20functionality','Never','\x20before\x20match\x20-\x20using\x20starting\x20ELO\x201200','Query\x20executed.\x20Empty:',';\x20color:\x20','manage-ribbons','addEventListener','href','delete-match-confirm-modal','\x20not\x20found\x20in\x20any\x20ladder','points-overview-table-body','quick-edit-points-form','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x226\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20players:\x20','User\x20data\x20loaded:','\x20→\x20','Failed\x20to\x20load\x20user\x20data:\x20','Points\x20updated\x20successfully','\x20users\x20to\x20check...','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><span\x20class=\x22highlight-type\x20','user-search','assign-trophy-form','❌\x20Missing','set-elo-form','toLocaleDateString','Player\x20Name\x20is\x20required','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22new-elo\x22>','openResimulateModal\x20called!','preventDefault','daysSinceMatch','highlight-match-date','ribbon-user-search','active','Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20trophy\x20definition?\x20This\x20action\x20cannot\x20be\x20undone\x20and\x20might\x20affect\x20players\x20who\x20have\x20been\x20awarded\x20this\x20trophy.','edit-highlight-videoId-input','Error\x20in\x20demotion:','NonParticipant','assign-trophy-rarity','seconds','\x20Level\x20','roleName','Quick\x20edit\x20form\x20submitted','-page-indicator','<tr><td\x20colspan=\x226\x22\x20class=\x22empty-state\x22>No\x20players\x20found</td></tr>','Error\x20loading\x20highlight:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Map:</strong>\x20','ref','<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error\x20-\x20Try\x20Again','Positions\x20updated:\x20Winner\x20','openResimulateModal','edit-match-winner-suicides','trophy-form','elo-history-table-body','info','matches-table-body','highlights','points-amount','Resimulated\x20entry\x20-\x20ELO\x20and\x20positions\x20calculated\x20from\x20actual\x20pre-match\x20data','loserUsername','Failed\x20to\x20resimulate\x20match:\x20','manage-ranks','highlight-modal','D1\x20Players','highlight-achievement-details','achievementType','d2-prev-page','Matches\x20action\x20buttons\x20setup\x20complete','role-color','YouTube\x20Video\x20ID\x20(Optional)','Quick\x20edit\x20modal\x20found,\x20setting\x20up\x20events...','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22elo-change\x20','test-match-date','apply-matches-filters','Loading\x20user\x20data...','contains','highlight-loser-name','Switched\x20to\x20','highlight-description-container','<tr><td\x20colspan=\x227\x22\x20class=\x22empty-state\x22>No\x20matches\x20found</td></tr>','highlight-player-profile','Attempting\x20to\x20promote\x20','substring','losses','\x20added\x20successfully\x20to\x20','\x22\x20already\x20has\x20this\x20trophy','Untitled','Article\x20not\x20found','padding','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Players:</strong>\x20','promote-form','Migration\x20Summary:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20Total\x20users\x20checked:\x20','dashboard','playerRibbons','delete-match-summary','values','Deleting\x20match...','update','login.html','insertAdjacentElement','Unauthorized:\x20Admin\x20access\x20required','CRITICAL:\x20Role\x20modal\x20element\x20(#set-role-modal)\x20not\x20found\x20in\x20the\x20DOM!','loading','Simple\x20test\x20match\x20created\x20successfully','remove','highlight-loser-score','loserName','Error\x20deleting\x20player:','Error\x20deleting\x20match:','destroy','Removed\x20','edit-highlight-matchLink-input','\x20users','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x227\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20history:\x20','Adding\x20player\x20','cancel-set-elo-btn','<div\x20class=\x22error\x22>Error\x20searching\x20users</div>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22admin-action\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Setting\x20up\x20matches\x20action\x20buttons...','winnerSuicides','View\x20history\x20clicked\x20for\x20user:','manage-players','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22validation-results\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4>Validation\x20Results:</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Winner\x20ELO\x20History:</strong>\x20','Successfully\x20promoted\x20','./ladderalgorithm.js','\x20points\x20history\x20entries','RejectedD2','\x20-\x20Feature\x20coming\x20soon','Error\x20checking\x20','assign-trophy-image','name-desc','Loading\x20dashboard\x20overview\x20data...','eloRating','edit-highlight-mapVersion-input','set-elo-modal','Setting\x20up\x20points\x20action\x20buttons...','reset','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22user-email\x22>','Simple\x20test\x20match\x20created\x20by\x20admin\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22quick-edit-btn\x22\x20data-user-id=\x22','content','<tr><td\x20colspan=\x225\x22\x20class=\x22loading-cell\x22>Loading\x20trophies...</td></tr>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...','highlight-players-container','\x20not\x20found.','classList','.type','Promotion','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><em>This\x20will\x20create\x20accurate\x20ELO\x20history\x20entries\x20based\x20on\x20the\x20players\x27\x20ELO\x20ratings\x20at\x20the\x20time\x20this\x20match\x20was\x20played.</em></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4><i\x20class=\x22fas\x20fa-database\x22></i>\x20Database\x20Migration</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p>Initialize\x20the\x20points\x20field\x20for\x20all\x20users\x20who\x20don\x27t\x20have\x20it\x20yet.\x20This\x20is\x20safe\x20to\x20run\x20multiple\x20times.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22migrate-points-btn\x22\x20class=\x22btn\x20btn-warning\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20Initialize\x20Points\x20Field\x20for\x20All\x20Users\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','firstVisible','article-image-url','Points\x20updated\x20successfully\x20for\x20user:','userId','#ffffff','trophyDefinitions','img','getComputedStyle','ribbon-type-select','Error\x20in\x20promotion:','Error\x20initializing\x20admin\x20dashboard:','change','load-users-data','modify-points-form',',\x20Loser\x20','highlight-achievement-image-container','Store\x20item\x20awarded\x20successfully','Found\x20','No\x20position\x20changes\x20needed.','Error\x20promoting\x20player:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x225\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20trophies:\x20','Error\x20promoting\x20player:','data-id','.delete-article-btn','.sidebar-nav\x20.nav-item','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22match-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4>Match\x20Details:</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Winner:</strong>\x20','page','source','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Trophies\x20Data','.admin-action','Subtracted\x20','set-role-form','style','add','input[name=\x22assign-ladder\x22]:checked','trophy-description','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Articles\x20Data','confirmResimulateMatch','activity-chart','Failed\x20to\x20send\x20Discord\x20notification:','Page\x20','<div\x20class=\x22loading\x22>Searching...</div>','Load\x20ribbons\x20data\x20clicked','matches-next-page','1200','Testing\x20Firebase\x20connection...','Error:\x20Could\x20not\x20find\x20the\x20role\x20editing\x20dialog.','You\x20must\x20be\x20logged\x20in\x20to\x20delete\x20trophies','Unknown','set-elo-value','edit-match-loser-suicides','Are\x20you\x20sure\x20you\x20want\x20to\x20remove\x20the\x20role\x20from\x20','D2\x20Players','4838688OSKkcK','Gold','toISOString','searchTerm','Opening\x20highlight\x20modal\x20with\x20parameter:\x20','articles','cloneNode','non-participant','#e0e0e0','edit-highlight-creatorImageUrl-input','startDate','confirm-resimulate-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Ladder:</strong>\x20','ribbons-overview-table-body','assign-trophy-modal','demote-modal','TestMap','<tr><td\x20colspan=\x225\x22\x20class=\x22empty-state\x22>No\x20trophy\x20definitions\x20found</td></tr>','Setting\x20up\x20Manage\x20Highlights\x20section','.form-group','cancel-role-btn','d1-prev-page','Load\x20trophies\x20data\x20clicked','highlight-match-link','date','Failed\x20to\x20load\x20trophy\x20data','settings','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Players\x20Data','initial_placement','Please\x20enter\x20valid\x20username\x20and\x20ELO','Defaulted\x20to\x20D1\x20ladder','visible','Queued\x20','.loading-cell','<i\x20class=\x22fas\x20fa-check\x22></i>\x20Completed','#elo-history-table-body\x20tr','removeAttribute','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-edit\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','admin','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22points-change\x20','User\x20not\x20found','data-ladder','\x20users.\x20','current-ladder-display','getRankName','get','<tr><td\x20colspan=\x227\x22\x20class=\x22loading-cell\x22>Applying\x20filters...</td></tr>','award-item-form','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22timestamp\x22>','Error\x20loading\x20points\x20history:','match-type','creator-type','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-edit\x22></i>\x20Edit\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','trophy-preview-container','achievementDetails','Article\x20deleted\x20successfully','setAttribute','opacity','Loaded\x20','You\x20must\x20be\x20logged\x20in\x20to\x20perform\x20this\x20action','.ladder-switch\x20input[value=\x22D1\x22]','cells','\x20to\x20','Error\x20initializing\x20points:\x20','<i\x20class=\x22fas\x20fa-times\x22></i>\x20No','exists','Edit\x20','Failed\x20to\x20save\x20article:\x20','-prev-page','points-user-search','edit-elo','store-item-select','loserScore','Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20highlight?\x20This\x20cannot\x20be\x20undone.','role-filter','appendChild','Modal\x20cancel\x20button\x20clicked','selected-user-id','manage-articles','create-test-match-modal','edit-match-winner-comment','<tr><td\x20colspan=\x224\x22\x20class=\x22empty-state\x22>No\x20articles\x20found</td></tr>','name','Error\x20updating\x20points:','console','trophy-modal-title','edit-match-modal','<tr><td\x20colspan=\x227\x22\x20class=\x22loading-cell\x22>Loading\x20history...</td></tr>','Error\x20creating\x20simple\x20test\x20match:','matches-prev-page','docs','promote-username','Error\x20creating\x20activity\x20chart:','closeResimulateModal','Modal\x20not\x20found\x20when\x20trying\x20to\x20close','edit-match-winner-demo','Loading\x20players\x20from\x20','Admin\x20Adjustment','reset-matches-filters','<td\x20colspan=\x225\x22\x20class=\x22empty-state\x22>No\x20users\x20match\x20your\x20filters</td>','article-id','search','#players.content-section.active','non-participants','quick-add','Failed\x20to\x20delete\x20article:\x20','Quick\x20edit\x20modal\x20not\x20found\x20in\x20the\x20page','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Matches','Setup\x20Manage\x20Articles:\x20Create\x20Article\x20button\x20not\x20found!','#808080','\x20with\x20email\x20','submit','highlights-table-body','Promoting\x20player\x20to\x20','(((.+)+)+)+$','Edit\x20Trophy','length','user-roles-section','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Setting\x20up\x20highlight\x20buttons','Match\x20not\x20found','amount','approvedMatchesD3','trophy-modal','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22username\x22\x20style=\x22color:\x20','history-start-date','4643518wHeygI','validation-results-container','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-highlight-btn\x22\x20data-id=\x22','load-articles-data','\x22\x20not\x20found\x20in\x20any\x20collection','highlight-video-container','Error','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>Level:\x20','keys','localeCompare','flex','author','Error\x20creating\x20rank\x20distribution\x20chart:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22trophy-rarity-cell\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22trophy-rarity\x20','quick-edit-current-points','Never\x20played','\x20users\x20without\x20points\x20field\x20-\x20they\x20will\x20display\x20as\x200\x20points','desc','Error\x20setting\x20up\x20admin\x20dashboard','edit-match-title','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22rank\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22rank-badge\x22\x20style=\x22background-color:\x20','commit','demote-player-btn','displayName','edit-highlight-achievementDetails-input','edit-match-winner-score','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Trophies','currentUser','Load\x20players\x20data\x20clicked','replace','elo-history-search','videoId','<tr><td\x20colspan=\x225\x22\x20class=\x22loading-cell\x22>Loading\x20user\x20points...</td></tr>','Error\x20adding\x20player:','\x20already\x20exists\x20in\x20','DOMContentLoaded','create-new-trophy-btn','Submit\x20button\x20clicked\x20directly','achievementImageUrl','highlight-submitted-by','\x22\x20title=\x22View\x20Player\x20Details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Quick\x20edit\x20form\x20elements\x20missing\x20from\x20HTML','promotedBy','load-inactive-players-data','Closing\x20create\x20test\x20match\x20modal','\x22\x20title=\x22Quick\x20Edit\x20Points\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-edit\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22view-history-btn\x22\x20data-user-id=\x22','location','Setting\x20up\x20Manage\x20Articles\x20section\x20-\x20Found\x20Create\x20Article\x20button.','edit-match-loser-score','Updating\x20role\x20for\x20','Essential\x20highlight\x20modal\x20elements\x20not\x20found!','matches-search','trophy-preview-img','Failed\x20to\x20load\x20user\x20history','Untitled\x20Trophy','\x22\x20title=\x22Delete\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','You\x20must\x20be\x20logged\x20in\x20to\x20assign\x20trophies','matches-start-date','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong\x20style=\x22color:\x20#ff9800;\x22>⚠️\x20RESIMULATION\x20WILL:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>Recalculate\x20ELO\x20ratings\x20based\x20on\x20pre-match\x20values</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>Update\x20current\x20player\x20ELO\x20ratings</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>Recalculate\x20and\x20update\x20player\x20positions</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>Create\x20missing\x20ELO\x20history\x20entries</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>Handle\x20position\x20swaps\x20if\x20winner\x20was\x20lower\x20ranked</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','mapPlayed','MAX_SAFE_INTEGER','\x20before\x20match:\x20','required','find','highlight-achievement-type','15px','\x20in\x20all\x20collections...','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Ribbons\x20Data','opponent','Error\x20loading\x20trophy\x20data:','match','No\x20users\x20needed\x20points\x20field\x20initialization','\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20Users\x20who\x20already\x20had\x20points:\x20','floor','selected-user-info','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Users\x20Data','ELO\x20rating\x20for\x20','points','message','size','Failed\x20to\x20delete\x20match:\x20','pendingMatches','),\x20','.error-state','quick-edit-display-name','d3-next-page','Unknown\x20Player','article-modal','Edit\x20match\x20clicked:','Non-Participant','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22player\x22>','user-search-results','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','Player\x20Achievement','className','disabled','users-table-body','getElementById','#CD7F32','data-section','Error\x20loading\x20articles:','.edit-highlight-btn','articles-table-body','matchInfo','match_result','body','Error\x20loading\x20trophies:','wins','trim','Cancel\x20button\x20(#cancel-role-btn)\x20not\x20found\x20in\x20modal.','Sunday','\x20(from\x20','highlight-creator-image-container','create-match-highlight-btn','<tr><td\x20colspan=\x225\x22\x20class=\x22error-state\x22>Error\x20loading\x20users:\x20','roleAssignedBy','Edit\x20Match:\x20','player-search','\x20Rank\x20Distribution','Query\x20created:','Invalid\x20action','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-plus\x22\x20title=\x22Assign\x20to\x20player\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-trophy-btn\x22\x20data-id=\x22','highlight-video-preview-container','data','highlight-achievement-player-container','winnerDemoLink','trophy-name','achievement','rgba(255,\x20255,\x20255,\x200.1)','checked','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Inactive\x20Players','admin_modification','Failed\x20to\x20save\x20match:\x20','loserComment','\x20allowed\x20tabs:','UserProfile','current-ribbons-list','Error\x20loading\x20users:','pendingMatchesD2'];a4_0x2d77=function(){return _0x3eed1e;};return a4_0x2d77();}async function handleModifyPoints(_0x2533fa){const _0x49a182=a4_0x11bc30;_0x2533fa['preventDefault']();const _0x287fdb=document['getElementById'](_0x49a182(0x478))[_0x49a182(0x57c)],_0x53507f=document['getElementById'](_0x49a182(0x2d7))[_0x49a182(0x57c)],_0x1becc4=parseInt(document[_0x49a182(0x50a)](_0x49a182(0x399))[_0x49a182(0x57c)]),_0x59a4fc=document[_0x49a182(0x50a)](_0x49a182(0x5ae))[_0x49a182(0x57c)][_0x49a182(0x515)]();if(!_0x287fdb||!_0x1becc4||_0x1becc4<0x0){showNotification('Please\x20select\x20a\x20user\x20and\x20enter\x20a\x20valid\x20amount',_0x49a182(0x5e8));return;}try{await modifyUserPoints(_0x287fdb,_0x53507f,_0x1becc4,_0x59a4fc),document[_0x49a182(0x50a)]('modify-points-form')['reset']();const _0x593685=doc(db,_0x49a182(0x1f0),_0x287fdb),_0xd1de6b=await getDoc(_0x593685);if(_0xd1de6b[_0x49a182(0x46c)]()){const _0x1678d2=_0xd1de6b[_0x49a182(0x524)]();document['getElementById']('selected-user-points')[_0x49a182(0x56a)]=(_0x1678d2['points']||0x0)[_0x49a182(0x259)]();}showNotification(_0x49a182(0x215),'success'),loadPointsHistory();}catch(_0x347902){console['error'](_0x49a182(0x2a5),_0x347902),showNotification('Failed\x20to\x20modify\x20points:\x20'+_0x347902['message'],_0x49a182(0x5e8));}}async function loadPointsHistory(){const _0x2fcab6=a4_0x11bc30,_0x75b570=document[_0x2fcab6(0x50a)]('points-history-table-body');if(!_0x75b570)return;_0x75b570['innerHTML']=_0x2fcab6(0x2ad);try{const _0x31dafe=collection(db,_0x2fcab6(0x535)),_0x73f522=query(_0x31dafe,orderBy(_0x2fcab6(0x1b1),_0x2fcab6(0x4ba)),limit(0x32)),_0xbd8e4f=await getDocs(_0x73f522);if(_0xbd8e4f['empty']){_0x75b570[_0x2fcab6(0x24a)]='<tr><td\x20colspan=\x226\x22\x20class=\x22empty-state\x22>No\x20history\x20found</td></tr>';return;}_0x75b570[_0x2fcab6(0x24a)]='',_0xbd8e4f[_0x2fcab6(0x2a1)](_0x28fd76=>{const _0x521f53=_0x2fcab6,_0x55754e=_0x28fd76['data'](),_0x1a01bf=document[_0x521f53(0x1b8)]('tr'),_0x1172cc=_0x55754e[_0x521f53(0x1b1)]?new Date(_0x55754e[_0x521f53(0x1b1)][_0x521f53(0x387)]*0x3e8)[_0x521f53(0x259)]():_0x521f53(0x426);let _0x22025='';switch(_0x55754e['action']){case _0x521f53(0x417):_0x22025='Added\x20'+_0x55754e[_0x521f53(0x4a4)]+'\x20points';break;case _0x521f53(0x5c5):_0x22025=_0x521f53(0x414)+_0x55754e['amount']+_0x521f53(0x5c9);break;case _0x521f53(0x224):_0x22025=_0x521f53(0x1c8)+_0x55754e[_0x521f53(0x4a4)]+_0x521f53(0x5c9);break;default:_0x22025=_0x55754e['action']+'\x20'+_0x55754e[_0x521f53(0x4a4)]+'\x20points';}_0x1a01bf[_0x521f53(0x24a)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x1172cc+_0x521f53(0x505)+(_0x55754e[_0x521f53(0x4c0)]||'Unknown\x20User')+_0x521f53(0x505)+_0x22025+_0x521f53(0x452)+_0x55754e[_0x521f53(0x1de)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x55754e[_0x521f53(0x2de)]||0x0)+_0x521f53(0x370)+(_0x55754e['newPoints']||0x0)+_0x521f53(0x570)+(_0x55754e[_0x521f53(0x25d)]||_0x521f53(0x27f))+_0x521f53(0x505)+(_0x55754e['adminEmail']||_0x521f53(0x25c))+_0x521f53(0x5d0),_0x75b570[_0x521f53(0x476)](_0x1a01bf);});}catch(_0x2b9d21){console['error'](_0x2fcab6(0x45c),_0x2b9d21),_0x75b570[_0x2fcab6(0x24a)]='<tr><td\x20colspan=\x226\x22\x20class=\x22error-state\x22>Error\x20loading\x20history:\x20'+_0x2b9d21['message']+_0x2fcab6(0x5b1);}}function filterPointsOverview(){const _0x20b05e=a4_0x11bc30,_0x253311=document[_0x20b05e(0x50a)]('points-overview-search')['value']['toLowerCase']();if(!window[_0x20b05e(0x5ad)])return;const _0x1c3351=window[_0x20b05e(0x5ad)]['filter'](_0x28eadf=>{const _0xec1bd=_0x20b05e,_0x3e8d20=(_0x28eadf[_0xec1bd(0x4c0)]||_0x28eadf[_0xec1bd(0x53b)]||'')[_0xec1bd(0x262)](),_0x25142d=(_0x28eadf[_0xec1bd(0x20d)]||'')['toLowerCase']();return _0x3e8d20[_0xec1bd(0x287)](_0x253311)||_0x25142d[_0xec1bd(0x287)](_0x253311);});renderPointsOverview(_0x1c3351);}function sortPointsOverview(){const _0x3eaedc=a4_0x11bc30,_0x228bd4=document[_0x3eaedc(0x50a)](_0x3eaedc(0x297))['value'];if(!window[_0x3eaedc(0x5ad)])return;const _0x11a62d=[...window[_0x3eaedc(0x5ad)]];switch(_0x228bd4){case _0x3eaedc(0x59f):_0x11a62d[_0x3eaedc(0x1e1)]((_0x258ea7,_0x2f3974)=>(_0x2f3974[_0x3eaedc(0x4f6)]||0x0)-(_0x258ea7[_0x3eaedc(0x4f6)]||0x0));break;case'points-asc':_0x11a62d['sort']((_0xc0f5ff,_0x20e7fc)=>(_0xc0f5ff[_0x3eaedc(0x4f6)]||0x0)-(_0x20e7fc['points']||0x0));break;case _0x3eaedc(0x1a7):_0x11a62d['sort']((_0x25e8d9,_0x4ef52e)=>{const _0x1c4505=_0x3eaedc,_0x5bfa77=(_0x25e8d9[_0x1c4505(0x4c0)]||_0x25e8d9[_0x1c4505(0x53b)]||'')[_0x1c4505(0x262)](),_0x78f9f9=(_0x4ef52e[_0x1c4505(0x4c0)]||_0x4ef52e[_0x1c4505(0x53b)]||'')[_0x1c4505(0x262)]();return _0x5bfa77[_0x1c4505(0x4b2)](_0x78f9f9);});break;case _0x3eaedc(0x3e2):_0x11a62d[_0x3eaedc(0x1e1)]((_0x148da4,_0xba410b)=>{const _0x2f5935=_0x3eaedc,_0x573906=(_0x148da4[_0x2f5935(0x4c0)]||_0x148da4['username']||'')[_0x2f5935(0x262)](),_0x838fcd=(_0xba410b[_0x2f5935(0x4c0)]||_0xba410b[_0x2f5935(0x53b)]||'')[_0x2f5935(0x262)]();return _0x838fcd[_0x2f5935(0x4b2)](_0x573906);});break;}renderPointsOverview(_0x11a62d);}async function handleAwardItem(_0x1842b4){const _0x7b26a2=a4_0x11bc30;_0x1842b4['preventDefault']();const _0x48e282=document['getElementById']('selected-user-id')[_0x7b26a2(0x57c)],_0x5eb4b7=document[_0x7b26a2(0x50a)](_0x7b26a2(0x472))[_0x7b26a2(0x57c)],_0x5646b0=document[_0x7b26a2(0x50a)](_0x7b26a2(0x553))[_0x7b26a2(0x57c)][_0x7b26a2(0x515)]();if(!_0x48e282||!_0x5eb4b7){showNotification(_0x7b26a2(0x2ed),_0x7b26a2(0x5e8));return;}try{showNotification(_0x7b26a2(0x406),_0x7b26a2(0x284)),document['getElementById'](_0x7b26a2(0x45a))['reset']();}catch(_0x1d2111){console[_0x7b26a2(0x5e8)](_0x7b26a2(0x286),_0x1d2111),showNotification('Failed\x20to\x20award\x20item:\x20'+_0x1d2111[_0x7b26a2(0x4f7)],'error');}}async function loadUserPointsHistory(_0x594624){const _0x2f19d8=a4_0x11bc30;try{const _0x468743=collection(db,_0x2f19d8(0x535)),_0x3afc08=query(_0x468743,where('userId','==',_0x594624),orderBy('timestamp',_0x2f19d8(0x4ba))),_0x16d116=await getDocs(_0x3afc08);console[_0x2f19d8(0x1c0)](_0x2f19d8(0x407)+_0x16d116[_0x2f19d8(0x4f8)]+_0x2f19d8(0x323)+_0x594624),showNotification(_0x2f19d8(0x199)+_0x16d116['size']+_0x2f19d8(0x3dd),'info');}catch(_0x50ffaa){console[_0x2f19d8(0x5e8)]('Error\x20loading\x20user\x20points\x20history:',_0x50ffaa),showNotification(_0x2f19d8(0x4de),'error');}}async function initializeUserPointsField(){const _0x3d0fc2=a4_0x11bc30;try{console['log'](_0x3d0fc2(0x28a));const _0x2a07b4=collection(db,_0x3d0fc2(0x1f0)),_0x43ff8b=await getDocs(_0x2a07b4);if(_0x43ff8b[_0x3d0fc2(0x234)]){console[_0x3d0fc2(0x1c0)]('No\x20users\x20found\x20in\x20userProfiles\x20collection');return;}let _0x35e222=0x0,_0x197bf3=0x0;const _0x460a91=writeBatch(db);let _0x3c74e6=0x0;return console[_0x3d0fc2(0x1c0)](_0x3d0fc2(0x407)+_0x43ff8b[_0x3d0fc2(0x4f8)]+_0x3d0fc2(0x373)),_0x43ff8b[_0x3d0fc2(0x2a1)](_0x13414b=>{const _0x1a85bb=_0x3d0fc2,_0x565091=_0x13414b[_0x1a85bb(0x524)]();_0x565091[_0x1a85bb(0x4f6)]===undefined||_0x565091[_0x1a85bb(0x4f6)]===null?(_0x460a91[_0x1a85bb(0x3c1)](_0x13414b[_0x1a85bb(0x38f)],{'points':0x0,'pointsInitializedAt':serverTimestamp()}),_0x35e222++,_0x3c74e6++,console[_0x1a85bb(0x1c0)](_0x1a85bb(0x44b)+(_0x565091[_0x1a85bb(0x4c0)]||_0x565091[_0x1a85bb(0x53b)]||_0x565091[_0x1a85bb(0x20d)]||_0x1a85bb(0x426))+'\x20for\x20points\x20initialization')):(_0x197bf3++,console[_0x1a85bb(0x1c0)]((_0x565091[_0x1a85bb(0x4c0)]||_0x565091[_0x1a85bb(0x53b)]||_0x565091[_0x1a85bb(0x20d)]||_0x1a85bb(0x426))+'\x20already\x20has\x20points:\x20'+_0x565091[_0x1a85bb(0x4f6)])),_0x3c74e6>=0x1f4&&console['warn']('Batch\x20limit\x20reached\x20-\x20you\x20may\x20need\x20to\x20run\x20this\x20function\x20multiple\x20times\x20for\x20large\x20datasets');}),_0x35e222>0x0?(console[_0x3d0fc2(0x1c0)]('Committing\x20batch\x20update\x20for\x20'+_0x35e222+_0x3d0fc2(0x1a5)),await _0x460a91[_0x3d0fc2(0x4be)](),console[_0x3d0fc2(0x1c0)]('✅\x20Successfully\x20initialized\x20points\x20field\x20for\x20'+_0x35e222+_0x3d0fc2(0x3d0))):console['log'](_0x3d0fc2(0x4f0)),console[_0x3d0fc2(0x1c0)](_0x3d0fc2(0x3bb)+_0x43ff8b['size']+_0x3d0fc2(0x285)+_0x35e222+_0x3d0fc2(0x4f1)+_0x197bf3),showNotification(_0x3d0fc2(0x5a3)+_0x35e222+_0x3d0fc2(0x455)+_0x197bf3+'\x20users\x20already\x20had\x20points.','success'),window[_0x3d0fc2(0x5ad)]&&loadPointsOverview(),{'totalUsers':_0x43ff8b[_0x3d0fc2(0x4f8)],'usersUpdated':_0x35e222,'usersAlreadyHadPoints':_0x197bf3};}catch(_0x24e95c){console[_0x3d0fc2(0x5e8)]('Error\x20initializing\x20points\x20field:',_0x24e95c),showNotification(_0x3d0fc2(0x46a)+_0x24e95c[_0x3d0fc2(0x4f7)],'error');throw _0x24e95c;}}function addPointsMigrationButton(){const _0x2e9c50=a4_0x11bc30,_0x5b85d0=document['getElementById'](_0x2e9c50(0x56e));if(!_0x5b85d0)return;if(document[_0x2e9c50(0x50a)]('migrate-points-btn'))return;const _0x112fe3=document[_0x2e9c50(0x1b8)](_0x2e9c50(0x327));_0x112fe3[_0x2e9c50(0x507)]=_0x2e9c50(0x216),_0x112fe3['style'][_0x2e9c50(0x2fa)]='20px',_0x112fe3[_0x2e9c50(0x416)][_0x2e9c50(0x3b8)]=_0x2e9c50(0x4ea),_0x112fe3[_0x2e9c50(0x416)][_0x2e9c50(0x5c2)]=_0x2e9c50(0x34d),_0x112fe3[_0x2e9c50(0x416)][_0x2e9c50(0x33a)]='1px\x20solid\x20rgba(255,\x20193,\x207,\x200.3)',_0x112fe3[_0x2e9c50(0x416)][_0x2e9c50(0x2c9)]='5px',_0x112fe3['innerHTML']=_0x2e9c50(0x3f5);const _0x58e781=_0x5b85d0[_0x2e9c50(0x2be)](_0x2e9c50(0x2b9));_0x58e781&&_0x58e781[_0x2e9c50(0x3c3)]('afterend',_0x112fe3),document[_0x2e9c50(0x50a)]('migrate-points-btn')[_0x2e9c50(0x368)](_0x2e9c50(0x583),async function(){const _0x85389b=_0x2e9c50;if(confirm(_0x85389b(0x289))){this[_0x85389b(0x508)]=!![],this[_0x85389b(0x24a)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Initializing...';try{await initializeUserPointsField(),this[_0x85389b(0x24a)]=_0x85389b(0x44d),this[_0x85389b(0x416)]['backgroundColor']='#28a745',setTimeout(()=>{const _0xb31b89=_0x85389b;_0x112fe3[_0xb31b89(0x416)][_0xb31b89(0x1a1)]='none';},0xbb8);}catch(_0x337a44){this[_0x85389b(0x24a)]=_0x85389b(0x390),this[_0x85389b(0x508)]=![];}}});}function setupManagePointsSection(){const _0x192e2a=a4_0x11bc30;console[_0x192e2a(0x1c0)](_0x192e2a(0x355)),addPointsMigrationButton();const _0x5c7620=document['getElementById'](_0x192e2a(0x470));_0x5c7620&&_0x5c7620[_0x192e2a(0x368)](_0x192e2a(0x352),debounce(searchUsersForPoints,0x12c));const _0x502e7d=document[_0x192e2a(0x50a)](_0x192e2a(0x403));_0x502e7d&&_0x502e7d[_0x192e2a(0x368)](_0x192e2a(0x49a),handleModifyPoints);const _0x2f8654=document[_0x192e2a(0x50a)]('award-item-form');_0x2f8654&&_0x2f8654[_0x192e2a(0x368)](_0x192e2a(0x49a),handleAwardItem);const _0x41ab63=document['getElementById']('points-overview-search');_0x41ab63&&_0x41ab63[_0x192e2a(0x368)](_0x192e2a(0x352),debounce(filterPointsOverview,0x12c));const _0x74573c=document[_0x192e2a(0x50a)](_0x192e2a(0x297));_0x74573c&&_0x74573c['addEventListener'](_0x192e2a(0x401),sortPointsOverview);const _0x1b1533=document[_0x192e2a(0x50a)]('refresh-points-overview');_0x1b1533&&_0x1b1533['addEventListener'](_0x192e2a(0x583),loadPointsOverview);const _0x32a6a=document[_0x192e2a(0x50a)]('quick-edit-points-modal');if(_0x32a6a){console['log'](_0x192e2a(0x3a6));const _0x16910b=_0x32a6a[_0x192e2a(0x2be)](_0x192e2a(0x5cf));_0x16910b?_0x16910b['addEventListener'](_0x192e2a(0x583),function(){const _0x30de26=_0x192e2a;console[_0x30de26(0x1c0)](_0x30de26(0x5a1)),closeQuickEditModal();}):console[_0x192e2a(0x328)](_0x192e2a(0x5e4));const _0x158248=document['getElementById'](_0x192e2a(0x311));_0x158248?_0x158248[_0x192e2a(0x368)](_0x192e2a(0x583),function(){const _0x3e81d3=_0x192e2a;console[_0x3e81d3(0x1c0)](_0x3e81d3(0x477)),closeQuickEditModal();}):console[_0x192e2a(0x328)]('Cancel\x20button\x20not\x20found');const _0x1e4ace=document[_0x192e2a(0x50a)](_0x192e2a(0x36d));_0x1e4ace?_0x1e4ace[_0x192e2a(0x368)]('submit',function(_0x247416){const _0x312060=_0x192e2a;console[_0x312060(0x1c0)](_0x312060(0x38a)),handleQuickEditPoints(_0x247416);}):console[_0x192e2a(0x5e8)]('Quick\x20edit\x20form\x20not\x20found!'),_0x32a6a[_0x192e2a(0x368)](_0x192e2a(0x583),function(_0x50bd6e){const _0x33f71d=_0x192e2a;_0x50bd6e[_0x33f71d(0x5d8)]===_0x32a6a&&(console['log'](_0x33f71d(0x2ab)),closeQuickEditModal());});}else console[_0x192e2a(0x5e8)](_0x192e2a(0x2a7));console[_0x192e2a(0x1c0)](_0x192e2a(0x5c7));}function setupManageRibbonsSection(){const _0x4455e4=a4_0x11bc30;console[_0x4455e4(0x1c0)](_0x4455e4(0x1f2));const _0x31cca3=document[_0x4455e4(0x50a)](_0x4455e4(0x380));_0x31cca3&&_0x31cca3[_0x4455e4(0x368)](_0x4455e4(0x352),debounce(searchRibbonUser,0x12c));const _0x49cf9f=document[_0x4455e4(0x50a)]('search-ribbon-user-btn');_0x49cf9f&&_0x49cf9f[_0x4455e4(0x368)]('click',searchRibbonUser);const _0x3d9865=document['getElementById'](_0x4455e4(0x58f));_0x3d9865&&_0x3d9865[_0x4455e4(0x368)](_0x4455e4(0x49a),addRibbon),_0x31cca3&&_0x31cca3[_0x4455e4(0x368)](_0x4455e4(0x57a),function(_0x2496e9){const _0x1db7a8=_0x4455e4;_0x2496e9[_0x1db7a8(0x55e)]===_0x1db7a8(0x1fe)&&(_0x2496e9[_0x1db7a8(0x37d)](),searchRibbonUser());}),console['log']('Manage\x20Ribbons\x20section\x20initialized');}async function modifyUserPoints(_0x57e89b,_0x50bccb,_0x3b4f74,_0x862f=''){const _0x135095=a4_0x11bc30,_0x4f12ff=doc(db,'userProfiles',_0x57e89b),_0x4bcfc5=await getDoc(_0x4f12ff);if(!_0x4bcfc5[_0x135095(0x46c)]())throw new Error(_0x135095(0x453));const _0x51d11d=_0x4bcfc5[_0x135095(0x524)](),_0x1b6a6b=_0x51d11d[_0x135095(0x4f6)]!==undefined?_0x51d11d['points']:0x0;_0x51d11d[_0x135095(0x4f6)]===undefined&&(console['log'](_0x135095(0x5e5)+(_0x51d11d[_0x135095(0x4c0)]||_0x51d11d[_0x135095(0x20d)]||'Unknown')),await updateDoc(_0x4f12ff,{'points':0x0,'pointsInitializedAt':serverTimestamp()}));let _0x1e0ad6=_0x1b6a6b;switch(_0x50bccb){case _0x135095(0x417):_0x1e0ad6=_0x1b6a6b+_0x3b4f74;break;case'subtract':_0x1e0ad6=Math[_0x135095(0x32a)](0x0,_0x1b6a6b-_0x3b4f74);break;case _0x135095(0x224):_0x1e0ad6=_0x3b4f74;break;default:throw new Error(_0x135095(0x521));}await updateDoc(_0x4f12ff,{'points':_0x1e0ad6,'lastPointsModified':serverTimestamp()}),await addDoc(collection(db,_0x135095(0x535)),{'userId':_0x57e89b,'userEmail':_0x51d11d['email']||_0x135095(0x219),'displayName':_0x51d11d[_0x135095(0x4c0)]||_0x51d11d[_0x135095(0x53b)]||'Unknown\x20User','action':_0x50bccb,'amount':_0x3b4f74,'previousPoints':_0x1b6a6b,'newPoints':_0x1e0ad6,'reason':_0x862f,'adminEmail':auth['currentUser'][_0x135095(0x20d)],'timestamp':serverTimestamp()});}async function loadPointsOverview(){const _0x5f57e0=a4_0x11bc30,_0x99bc2f=document[_0x5f57e0(0x50a)](_0x5f57e0(0x36c));if(!_0x99bc2f)return;_0x99bc2f[_0x5f57e0(0x24a)]=_0x5f57e0(0x4c9);try{const _0x5d4291=collection(db,_0x5f57e0(0x1f0)),_0x51c94a=await getDocs(_0x5d4291);if(_0x51c94a['empty']){_0x99bc2f[_0x5f57e0(0x24a)]=_0x5f57e0(0x292);return;}const _0x172864=[];let _0xd7ea5=0x0;_0x51c94a[_0x5f57e0(0x2a1)](_0x31b704=>{const _0x2bd6c4=_0x5f57e0,_0x3b8c9f=_0x31b704['data'](),_0x205ba4=_0x3b8c9f[_0x2bd6c4(0x4f6)]!==undefined?_0x3b8c9f['points']:0x0;_0x3b8c9f[_0x2bd6c4(0x4f6)]===undefined&&_0xd7ea5++,_0x172864[_0x2bd6c4(0x5da)]({'id':_0x31b704['id'],..._0x3b8c9f,'points':_0x205ba4});}),_0xd7ea5>0x0&&(console['log'](_0x5f57e0(0x407)+_0xd7ea5+_0x5f57e0(0x4b9)),showNotification(_0xd7ea5+_0x5f57e0(0x5db),'info')),_0x172864[_0x5f57e0(0x1e1)]((_0x3ad66e,_0x4e1d57)=>(_0x4e1d57[_0x5f57e0(0x4f6)]||0x0)-(_0x3ad66e[_0x5f57e0(0x4f6)]||0x0)),window[_0x5f57e0(0x5ad)]=_0x172864,renderPointsOverview(_0x172864);}catch(_0x59455){console[_0x5f57e0(0x5e8)]('Error\x20loading\x20points\x20overview:',_0x59455),_0x99bc2f[_0x5f57e0(0x24a)]=_0x5f57e0(0x51b)+_0x59455[_0x5f57e0(0x4f7)]+'</td></tr>';}}async function loadRibbonsData(){const _0x19c3f2=a4_0x11bc30,_0x2f572f=document['getElementById'](_0x19c3f2(0x438));if(!_0x2f572f)return;_0x2f572f[_0x19c3f2(0x24a)]='<tr><td\x20colspan=\x225\x22\x20class=\x22loading-cell\x22>Loading\x20ribbons\x20data...</td></tr>';try{const [_0x5b55b6,_0x280dcb,_0x3e636b]=await Promise[_0x19c3f2(0x264)]([getDocs(collection(db,_0x19c3f2(0x3bd))),getDocs(collection(db,_0x19c3f2(0x340))),getDocs(collection(db,_0x19c3f2(0x2d0)))]);_0x2f572f[_0x19c3f2(0x24a)]='';const _0x4a6096=(_0x43fe6c,_0x45b080)=>{_0x43fe6c['forEach'](_0x35ebf9=>{const _0x7054cb=a4_0x128d,_0x39a4ab=_0x35ebf9['data'](),_0x33e2dc=_0x39a4ab[_0x7054cb(0x2ce)]||{},_0x1c7f57=Object[_0x7054cb(0x4b1)](_0x33e2dc)[_0x7054cb(0x49f)],_0x5efe59=document[_0x7054cb(0x1b8)]('tr');_0x5efe59[_0x7054cb(0x24a)]=_0x7054cb(0x221)+(_0x39a4ab[_0x7054cb(0x53b)]||_0x7054cb(0x426))+_0x7054cb(0x549)+_0x45b080[_0x7054cb(0x262)]()+'\x22>'+_0x45b080+_0x7054cb(0x22c)+_0x1c7f57+_0x7054cb(0x314)+(_0x39a4ab[_0x7054cb(0x32e)]?new Date(_0x39a4ab[_0x7054cb(0x32e)]['seconds']*0x3e8)[_0x7054cb(0x379)]():'Unknown')+_0x7054cb(0x1be)+_0x39a4ab['username']+_0x7054cb(0x231)+_0x45b080+_0x7054cb(0x45f),_0x2f572f[_0x7054cb(0x476)](_0x5efe59);});};_0x4a6096(_0x5b55b6,'D1'),_0x4a6096(_0x280dcb,'D2'),_0x4a6096(_0x3e636b,'D3'),document['querySelectorAll'](_0x19c3f2(0x5f1))[_0x19c3f2(0x2a1)](_0x267a1a=>{const _0x50e1c1=_0x19c3f2;_0x267a1a[_0x50e1c1(0x368)](_0x50e1c1(0x583),function(){const _0x1473ce=_0x50e1c1,_0x158d4b=this[_0x1473ce(0x303)][_0x1473ce(0x53b)],_0x2398c5=this['dataset'][_0x1473ce(0x589)];editUserRibbons(_0x158d4b,_0x2398c5);});}),showNotification(_0x19c3f2(0x208),_0x19c3f2(0x284));}catch(_0x5427d8){console[_0x19c3f2(0x5e8)]('Error\x20loading\x20ribbons:',_0x5427d8),_0x2f572f[_0x19c3f2(0x24a)]=_0x19c3f2(0x245),showNotification(_0x19c3f2(0x580),'error');}}async function searchRibbonUser(){const _0x372430=a4_0x11bc30,_0x4aade5=document['getElementById'](_0x372430(0x380))[_0x372430(0x57c)][_0x372430(0x515)]();if(!_0x4aade5){showNotification('Please\x20enter\x20a\x20username','error');return;}try{const [_0x569386,_0x4d3124,_0x4cd9bf]=await Promise[_0x372430(0x264)]([getDoc(doc(db,'playerRibbons',_0x4aade5)),getDoc(doc(db,_0x372430(0x340),_0x4aade5)),getDoc(doc(db,'playerRibbonsD3',_0x4aade5))]);let _0x3b7a14=null,_0x45cc21=null;if(_0x569386['exists']())_0x3b7a14='D1',_0x45cc21=_0x569386[_0x372430(0x524)]();else{if(_0x4d3124[_0x372430(0x46c)]())_0x3b7a14='D2',_0x45cc21=_0x4d3124[_0x372430(0x524)]();else _0x4cd9bf[_0x372430(0x46c)]()&&(_0x3b7a14='D3',_0x45cc21=_0x4cd9bf['data']());}_0x3b7a14?(document[_0x372430(0x50a)](_0x372430(0x1b3))[_0x372430(0x56a)]=_0x4aade5,document[_0x372430(0x50a)]('ribbon-target-user')[_0x372430(0x57c)]=_0x4aade5,document[_0x372430(0x50a)](_0x372430(0x34e))[_0x372430(0x57c)]=_0x3b7a14,document[_0x372430(0x50a)](_0x372430(0x2e9))[_0x372430(0x416)][_0x372430(0x1a1)]=_0x372430(0x547),displayCurrentRibbons(_0x45cc21[_0x372430(0x2ce)]||{}),showNotification('Found\x20'+_0x4aade5+_0x372430(0x588)+_0x3b7a14+'\x20ladder',_0x372430(0x284))):showNotification(_0x372430(0x2e4)+_0x4aade5+_0x372430(0x36b),_0x372430(0x5e8));}catch(_0x24454b){console['error'](_0x372430(0x54f),_0x24454b),showNotification(_0x372430(0x5e9),_0x372430(0x5e8));}}function displayCurrentRibbons(_0x649648){const _0x50ca79=a4_0x11bc30,_0x5244a2=document[_0x50ca79(0x50a)](_0x50ca79(0x531));if(!_0x5244a2)return;_0x5244a2[_0x50ca79(0x24a)]='';if(Object[_0x50ca79(0x4b1)](_0x649648)[_0x50ca79(0x49f)]===0x0){_0x5244a2[_0x50ca79(0x24a)]='<p\x20class=\x22no-ribbons\x22>No\x20ribbons\x20found</p>';return;}Object[_0x50ca79(0x1ce)](_0x649648)[_0x50ca79(0x2a1)](([_0xdf510d,_0x4107e4])=>{const _0x1f67b7=_0x50ca79,_0x37f00c=document[_0x1f67b7(0x1b8)](_0x1f67b7(0x327));_0x37f00c['className']=_0x1f67b7(0x270),_0x37f00c[_0x1f67b7(0x24a)]=_0x1f67b7(0x334)+_0xdf510d+_0x1f67b7(0x4b0)+(_0x4107e4['level']||0x1)+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small>Awarded:\x20'+(_0x4107e4[_0x1f67b7(0x212)]?new Date(_0x4107e4[_0x1f67b7(0x212)][_0x1f67b7(0x387)]*0x3e8)[_0x1f67b7(0x379)]():_0x1f67b7(0x426))+_0x1f67b7(0x5a9)+_0xdf510d+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash\x22></i>\x20Remove\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x5244a2[_0x1f67b7(0x476)](_0x37f00c);}),document[_0x50ca79(0x2ae)](_0x50ca79(0x2a6))['forEach'](_0x25f605=>{const _0x180d4f=_0x50ca79;_0x25f605[_0x180d4f(0x368)](_0x180d4f(0x583),function(){const _0x35dedc=_0x180d4f,_0x5d7956=this[_0x35dedc(0x303)][_0x35dedc(0x595)];removeRibbon(_0x5d7956);});});}async function addRibbon(_0x424120){const _0x4f34ce=a4_0x11bc30;_0x424120[_0x4f34ce(0x37d)]();const _0x4c3873=document[_0x4f34ce(0x50a)](_0x4f34ce(0x2fe))['value'],_0x31b1b3=document[_0x4f34ce(0x50a)](_0x4f34ce(0x34e))[_0x4f34ce(0x57c)],_0xe0e62a=document[_0x4f34ce(0x50a)](_0x4f34ce(0x3fe))['value'],_0x1845a5=parseInt(document[_0x4f34ce(0x50a)](_0x4f34ce(0x295))[_0x4f34ce(0x57c)]);if(!_0x4c3873||!_0x31b1b3||!_0xe0e62a||!_0x1845a5){showNotification('Please\x20fill\x20all\x20fields',_0x4f34ce(0x5e8));return;}try{const _0x3e574a=_0x4f34ce(0x3bd)+(_0x31b1b3==='D1'?'':_0x31b1b3),_0x3d32c4=doc(db,_0x3e574a,_0x4c3873),_0x14a73f=await getDoc(_0x3d32c4),_0x12dcf7=_0x14a73f[_0x4f34ce(0x46c)]()?_0x14a73f[_0x4f34ce(0x524)]()[_0x4f34ce(0x2ce)]||{}:{};_0x12dcf7[_0xe0e62a]={'level':_0x1845a5,'awardedAt':serverTimestamp()},await setDoc(_0x3d32c4,{'username':_0x4c3873,'ladder':_0x31b1b3,'ribbons':_0x12dcf7,'lastUpdated':serverTimestamp()},{'merge':!![]}),showNotification(_0x4f34ce(0x575)+_0xe0e62a+_0x4f34ce(0x388)+_0x1845a5+'\x20to\x20'+_0x4c3873,_0x4f34ce(0x284)),displayCurrentRibbons(_0x12dcf7),document['getElementById'](_0x4f34ce(0x3fe))[_0x4f34ce(0x57c)]='',document[_0x4f34ce(0x50a)]('ribbon-level')['value']='1';}catch(_0xf4e3cd){console[_0x4f34ce(0x5e8)](_0x4f34ce(0x306),_0xf4e3cd),showNotification('Error\x20adding\x20ribbon','error');}}async function removeRibbon(_0x1a3557){const _0x459de8=a4_0x11bc30,_0x236126=document[_0x459de8(0x50a)](_0x459de8(0x2fe))[_0x459de8(0x57c)],_0x4fc48c=document[_0x459de8(0x50a)](_0x459de8(0x34e))[_0x459de8(0x57c)];if(!confirm('Remove\x20'+_0x1a3557+'\x20from\x20'+_0x236126+'?'))return;try{const _0x3b0c57='playerRibbons'+(_0x4fc48c==='D1'?'':_0x4fc48c),_0x5efffb=doc(db,_0x3b0c57,_0x236126),_0x24eae9=await getDoc(_0x5efffb),_0x460ce1=_0x24eae9['exists']()?_0x24eae9[_0x459de8(0x524)]()['ribbons']||{}:{};delete _0x460ce1[_0x1a3557],await setDoc(_0x5efffb,{'username':_0x236126,'ladder':_0x4fc48c,'ribbons':_0x460ce1,'lastUpdated':serverTimestamp()},{'merge':!![]}),showNotification(_0x459de8(0x3ce)+_0x1a3557+'\x20from\x20'+_0x236126,'success'),displayCurrentRibbons(_0x460ce1);}catch(_0x4a883d){console['error']('Error\x20removing\x20ribbon:',_0x4a883d),showNotification('Error\x20removing\x20ribbon',_0x459de8(0x5e8));}}function editUserRibbons(_0x5194f4,_0x502988){const _0x136377=a4_0x11bc30;document[_0x136377(0x50a)]('ribbon-user-search')[_0x136377(0x57c)]=_0x5194f4,searchRibbonUser();}