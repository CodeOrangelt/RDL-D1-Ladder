const a6_0x186f5d=a6_0x1777;(function(_0x529c5a,_0x148719){const _0x61998e=a6_0x1777,_0x2b1f3d=_0x529c5a();while(!![]){try{const _0x10de86=-parseInt(_0x61998e(0x1a0))/0x1*(-parseInt(_0x61998e(0x1de))/0x2)+parseInt(_0x61998e(0x180))/0x3*(parseInt(_0x61998e(0x27e))/0x4)+parseInt(_0x61998e(0x17d))/0x5+parseInt(_0x61998e(0x22e))/0x6+parseInt(_0x61998e(0x26f))/0x7+-parseInt(_0x61998e(0x179))/0x8*(parseInt(_0x61998e(0x1c5))/0x9)+-parseInt(_0x61998e(0x22c))/0xa;if(_0x10de86===_0x148719)break;else _0x2b1f3d['push'](_0x2b1f3d['shift']());}catch(_0x3cfa0c){_0x2b1f3d['push'](_0x2b1f3d['shift']());}}}(a6_0x307c,0x6d1b1));const a6_0x4bed30=(function(){let _0xc96464=!![];return function(_0x364a74,_0x42f113){const _0x138189=_0xc96464?function(){if(_0x42f113){const _0x482ed0=_0x42f113['apply'](_0x364a74,arguments);return _0x42f113=null,_0x482ed0;}}:function(){};return _0xc96464=![],_0x138189;};}()),a6_0x529b65=a6_0x4bed30(this,function(){const _0x145a55=a6_0x1777;return a6_0x529b65['toString']()[_0x145a55(0x261)]('(((.+)+)+)+$')['toString']()[_0x145a55(0x168)](a6_0x529b65)[_0x145a55(0x261)](_0x145a55(0x264));});a6_0x529b65();const a6_0x2e54f3=(function(){let _0x2a12ea=!![];return function(_0x2c7f9f,_0x2c2244){const _0x5815e3=_0x2a12ea?function(){const _0xc0077e=a6_0x1777;if(_0x2c2244){const _0x34f93b=_0x2c2244[_0xc0077e(0x169)](_0x2c7f9f,arguments);return _0x2c2244=null,_0x34f93b;}}:function(){};return _0x2a12ea=![],_0x5815e3;};}()),a6_0x556f57=a6_0x2e54f3(this,function(){const _0x147bc2=a6_0x1777;let _0x14c065;try{const _0x5c305b=Function(_0x147bc2(0x228)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x14c065=_0x5c305b();}catch(_0x490ee3){_0x14c065=window;}const _0x39b6b8=_0x14c065[_0x147bc2(0x1ab)]=_0x14c065['console']||{},_0xbbf826=[_0x147bc2(0x1ce),_0x147bc2(0x226),_0x147bc2(0x190),'error',_0x147bc2(0x1d4),'table',_0x147bc2(0x1e7)];for(let _0x600976=0x0;_0x600976<_0xbbf826[_0x147bc2(0x224)];_0x600976++){const _0x157dbd=a6_0x2e54f3['constructor'][_0x147bc2(0x15c)][_0x147bc2(0x28d)](a6_0x2e54f3),_0x596194=_0xbbf826[_0x600976],_0x56b98b=_0x39b6b8[_0x596194]||_0x157dbd;_0x157dbd['__proto__']=a6_0x2e54f3[_0x147bc2(0x28d)](a6_0x2e54f3),_0x157dbd[_0x147bc2(0x1ea)]=_0x56b98b[_0x147bc2(0x1ea)][_0x147bc2(0x28d)](_0x56b98b),_0x39b6b8[_0x596194]=_0x157dbd;}});a6_0x556f57();import{collection,getDocs,addDoc,query,orderBy,limit,startAfter,Timestamp,serverTimestamp,getDoc,doc,where,deleteDoc}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const mutedUsers=[{'username':a6_0x186f5d(0x20a),'muteFromDate':new Date(a6_0x186f5d(0x198))['getTime']()}];function isUsernameMuted(_0x4c2abe,_0x4e1196){const _0x33eb28=a6_0x186f5d;if(!_0x4c2abe)return![];const _0x2cb086=mutedUsers[_0x33eb28(0x1c2)](_0x47f443=>_0x47f443[_0x33eb28(0x27d)]===_0x4c2abe);if(!_0x2cb086)return![];if(!_0x4e1196)return!![];const _0x59c7de=_0x4e1196 instanceof Date?_0x4e1196[_0x33eb28(0x28c)]():_0x4e1196[_0x33eb28(0x260)]?_0x4e1196[_0x33eb28(0x260)]*0x3e8:Date[_0x33eb28(0x152)]();return _0x59c7de>=_0x2cb086[_0x33eb28(0x25a)];}function filterComment(_0x16a8c1,_0x4d0188,_0x492af9){if(!_0x16a8c1)return'-';if(isUsernameMuted(_0x4d0188,_0x492af9))return'Muted.';return _0x16a8c1;}const previewState={'currentMode':'D1','currentPage':0x1,'matchesPerPage':0x5,'lastVisible':null,'firstVisible':null,'isLoading':![],'filterUsername':'','enhancedFilters':{'pilots':'','levels':'','subgames':[]},'totalPages':0x1,'hasReachedEnd':![]};function getCacheKey(_0x814f06,_0x48a3f6,_0x11f563){const _0x179394=a6_0x186f5d,_0x5f2d28='u:'+(_0x11f563[_0x179394(0x240)]||'');return _0x179394(0x184)+_0x814f06+'_p'+_0x48a3f6+'_'+_0x5f2d28;}function a6_0x307c(){const _0x588fc5=['\x20matching\x20filters','commentId','mega-match','subgames','join','trace','max','winnerDemoLink','toString','button','Winner','Are\x20you\x20sure\x20you\x20want\x20to\x20report\x20this\x20comment\x20as\x20inappropriate?','No\x20valid\x20cursor,\x20fetching\x20from\x20beginning\x20and\x20skipping\x20pages','required','toLowerCase','.option-tab','style','input','.no-comments-message','Failed\x20to\x20submit:\x20','Clearing\x20cache\x20for\x20refresh/reset','rematch','Today','silver','forEach','.matches-loading','all','querySelectorAll','approvedMatchesD3','S:\x20','filter','removeAttribute','appendChild','Comment\x20added\x20successfully','Page\x20','opacity','block','.community-comments-section','applyFilterBtn','Comments\x20section\x20not\x20found\x20in\x20template','Daz','auth','commentPopupContentPreview','You\x20must\x20be\x20signed\x20in\x20to\x20continue','.popup-actions','currentMode','currentUser','toLocaleString','Rendering\x20page\x20','You\x20need\x20to\x20be\x20signed\x20in\x20to\x20delete\x20comments','.winner-demo-link','</div>','toggle','Error\x20fetching\x20','demoWordCount','Comments\x20are\x20limited\x20to\x2015\x20words\x20maximum.\x20Please\x20shorten\x20your\x20comment.','addEventListener','aria-label','recent-matches-preview','loserOldElo','mapPlayed','click','\x20days\x20ago','Unknown','commentPopupPreview','commentAddPopup','length','</p><small\x20style=\x22color:#aaa;\x20display:block;\x20text-align:right;\x20margin-top:10px;\x22>Posted\x20on\x20','warn','Submit','return\x20(function()\x20','Error\x20submitting\x20comment:','.</div>','submitComment','14799790IohYhf','emerald','2178306MSSPQG','Error\x20reporting\x20comment:','marginTop','options','+10','Unknown\x20User','firstChild','enhancedFilters','<div\x20class=\x22matches-loading\x22>No\x20more\x20matches\x20to\x20display','Error\x20submitting:','color','.comments-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22popup-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Add\x20Comment\x20or\x20Demo</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22closeAddCommentPopup\x22\x20class=\x22close-btn\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22addCommentForm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22commentMatchId\x22\x20name=\x22commentMatchId\x22\x20value=\x22','bronze','apply-enhanced-filters','Please\x20enter\x20a\x20demo\x20link','Delete\x20demo','loserComment','filterUsername','winnerSuicides','Comment\x20from\x20','filter-levels','insertBefore','clearFilterBtn','key','.comment.loser-comment','loserUsername','createdAt','active','Failed\x20to\x20fetch\x20user\x20profile:','loserDemoLink','selected','.matches-loading[style*=\x22color:\x20red\x22]','.match-display-wrapper','fusion-match','.player.loser\x20.player-score','winnerScore','disabled','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22demo-description\x22>','commentOverlayPreview','comment-overlay','dogfight','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22','levels','muteFromDate','reportCommentButton','Match\x20','className','timestamp','-10','seconds','search','#CD7F32','Firebase\x20not\x20initialized','(((.+)+)+)+$','.match-map','.loser-demo-link','querySelector','.option-content','cloneNode','popup-btn\x20close-btn','toLocaleDateString','Comment\x20not\x20found.\x20It\x20may\x20have\x20already\x20been\x20deleted.','.delete-comment-btn','Unable\x20to\x20submit\x20comment\x20-\x20system\x20not\x20ready','3758377YwuJTs','uid','<div\x20class=\x22matches-loading\x22>Loading\x20recent\x20matches...</div>','slice','substring','none','blind-match','matchComments','content','0.6','classList','No\x20results\x20found\x20for\x20this\x20page','type','desc','username','3033092QWzvBU','#fff','Submitting...','.add-comment-btn','docs','next','filter-toggle-button','<button\x20class=\x22delete-comment-btn\x22\x20aria-label=\x22Delete\x20comment\x22>×</button>','pilots','text',',\x20fetching\x20from\x20Firestore','message','Standard\x20Match','userId','getTime','bind','<div\x20class=\x22matches-loading\x22>No\x20matches\x20found\x20matching\x20current\x20filters.</div>','Anonymous\x20User','split','getItem','loserSuicides','#ff4444','from','\x22\x20target=\x22_blank\x22\x20class=\x22play-icon\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<svg\x20viewBox=\x220\x200\x2024\x2024\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<path\x20d=\x22M8,5.14V19.14L19,12.14L8,5.14Z\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</svg>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22demo-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22demo-author\x22>Demo\x20from\x20','.jump-btn','commentMatchId','Failed\x20to\x20cache\x20data:','.match-subgame','previewNextPage','.player.winner\x20.player-suicides','now','currentPage','setAttribute','onclick',':</strong>\x20\x22','winnerOldElo','getElementById','closest','subgameType','innerHTML','prototype','trim','matchesPerPage','removeChild','matchId','preview-d2-button','altered-powerups','approvedMatches','preventDefault','approvedMatchesD2','wordCount','demo','constructor','apply','textContent','createElement','<div\x20class=\x22matches-loading\x22>No\x20recent\x20matches\x20found','Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20comment?','Failed\x20to\x20fetch\x20username:','Comment\x20deleted\x20successfully','removeItem','empty','Failed\x20to\x20add\x20comment:\x20','10px','demoDescription','jump-to-page','missiles-6plus','unranked','displayName','880ZMXeey','Yesterday','previewPageInfo','keys','458200PjTFty','error','cursor','3zyfDkw','Cache\x20miss\x20for\x20page\x20','start','firstVisible','previewCache_','#FFD700','preview-d1-button','isLoading','.submit-comment-btn','closeAddCommentPopup','div','enhanced-filter-section','Error\x20fetching\x20comments\x20batch:','showAddCommentPopup','.match-card','comment-item','info','value','lastVisible','stringify','Demo\x20link','commentText','commentPopupTitlePreview','parentNode','2025-07-02','winnerUsername','href','Loading\x20next\x20page\x20using\x20cursor','commentAddOverlay','Close','exists','closeCommentPopupPreview','3399wpblwF','Muted.','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-tabs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22option-tab\x20active\x22\x20data-option=\x22comment\x22>Add\x20Comment</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22option-divider\x22>OR</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22option-tab\x22\x20data-option=\x22demo\x22>Share\x20Demo\x20Link</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-content\x22\x20id=\x22commentOption\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22commentText\x22>Your\x20comment\x20(15\x20words\x20max):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22commentText\x22\x20name=\x22commentText\x22\x20rows=\x223\x22\x20placeholder=\x22Share\x20your\x20thoughts...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22word-counter\x22><span\x20id=\x22wordCount\x22>0</span>/15\x20words</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-content\x22\x20id=\x22demoOption\x22\x20style=\x22display:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22demoLink\x22>Demo\x20Link:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22url\x22\x20id=\x22demoLink\x22\x20name=\x22demoLink\x22\x20placeholder=\x22https://...\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22demoDescription\x22>Description\x20(20\x20words\x20max):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22demoDescription\x22\x20name=\x22demoDescription\x22\x20rows=\x222\x22\x20placeholder=\x22Describe\x20your\x20demo...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22word-counter\x22><span\x20id=\x22demoWordCount\x22>0</span>/20\x20words</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22submit\x22\x20class=\x22submit-comment-btn\x22>Submit</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</form>\x0a\x20\x20\x20\x20','comment','disorientation','approvedAt','loserScore','filter-subgames','popup-actions','.player.winner\x20.player-name','commentUser','console','ratting','Error\x20fetching\x20comments:','display','previewPrevPage','Preview\x20UI\x20or\x20Filter\x20elements\x20not\x20found,\x20cannot\x20attach\x20listeners.','Submitting\x20comment\x20as:','Thank\x20you.\x20The\x20comment\x20has\x20been\x20reported\x20and\x20will\x20be\x20reviewed.','You\x20need\x20to\x20be\x20signed\x20in\x20to\x20report\x20comments','.player.loser\x20.player-name','<p>','Failed\x20to\x20report\x20comment:\x20','option','winnerComment','Unable\x20to\x20submit\x20-\x20system\x20not\x20ready','stopPropagation','body','\x20from\x20cache','preview-ladder-mode','Anonymous','abs','match-card-template','selectedOptions','find','Demo:\x20','demoLink','49203ViYffi','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','data','includes','\x27s\x20Demo','current','comment-popup','N/A','winner-','log','map','end','push','dataset','addCommentForm','exception','...','No\x20description\x20provided','Please\x20enter\x20a\x20comment\x20before\x20submitting','<div\x20class=\x22matches-loading\x22\x20style=\x22color:\x20red;\x22>Error\x20loading\x20matches:\x20','Loading\x20first\x20page\x20from\x20Firestore','jump','center','preview-d3-button','currentMatchId','458FxBllj','flex','default','prev'];a6_0x307c=function(){return _0x588fc5;};return a6_0x307c();}function getCachedPage(_0x55137c){const _0x22b644=a6_0x186f5d,_0x93bae3=sessionStorage[_0x22b644(0x291)](_0x55137c);if(_0x93bae3)try{return JSON['parse'](_0x93bae3);}catch(_0x46a14e){return console[_0x22b644(0x17e)]('Failed\x20to\x20parse\x20cache:',_0x46a14e),sessionStorage[_0x22b644(0x170)](_0x55137c),null;}return null;}function cachePage(_0x3232db,_0x1158aa){const _0x38c5c7=a6_0x186f5d;try{sessionStorage['setItem'](_0x3232db,JSON[_0x38c5c7(0x193)](_0x1158aa));}catch(_0x5a79e2){console[_0x38c5c7(0x17e)](_0x38c5c7(0x298),_0x5a79e2);}}function getEloColor(_0x1bb2fa){const _0x10998a=a6_0x186f5d,_0x48b325=Number(_0x1bb2fa);if(_0x48b325>=0x7d0)return'#50C878';else{if(_0x48b325>=0x708)return _0x10998a(0x185);else{if(_0x48b325>=0x640)return'#b9f1fc';else{if(_0x48b325>=0x578)return _0x10998a(0x262);else return'#808080';}}}}function formatDate(_0x14d892,_0x2a16a8=![]){const _0xdf0f17=a6_0x186f5d;if(!_0x14d892||!_0x14d892[_0xdf0f17(0x260)])return _0xdf0f17(0x1cc);const _0x4dea4b=new Date(_0x14d892[_0xdf0f17(0x260)]*0x3e8);return _0x2a16a8?_0x4dea4b[_0xdf0f17(0x211)]():_0x4dea4b[_0xdf0f17(0x26b)]();}function truncateComment(_0x1ace3a,_0x2fac0b=0x1e){const _0x520d72=a6_0x186f5d;if(!_0x1ace3a)return'-';if(_0x1ace3a[_0x520d72(0x224)]<=_0x2fac0b)return _0x1ace3a;return _0x1ace3a[_0x520d72(0x273)](0x0,_0x2fac0b)+_0x520d72(0x1d5);}function formatCommentDate(_0x28df5f){const _0x513267=a6_0x186f5d;if(!_0x28df5f||!_0x28df5f[_0x513267(0x260)])return'';const _0x2b4670=new Date(_0x28df5f[_0x513267(0x260)]*0x3e8),_0x4dd6bb=new Date(),_0x47cc86=Math[_0x513267(0x1bf)](_0x4dd6bb-_0x2b4670),_0x477824=Math['floor'](_0x47cc86/(0x3e8*0x3c*0x3c*0x18));if(_0x477824===0x0)return _0x513267(0x1f8);else{if(_0x477824===0x1)return _0x513267(0x17a);else return _0x477824<0x7?_0x477824+_0x513267(0x220):_0x2b4670[_0x513267(0x26b)]();}}function setLoadingIndicator(_0x50a0eb){const _0x20fddb=a6_0x186f5d,_0xe3e40f=document['getElementById']('loading-indicator');if(_0xe3e40f)_0xe3e40f[_0x20fddb(0x1f2)][_0x20fddb(0x1ae)]=_0x50a0eb?'block':_0x20fddb(0x274);}export function updatePreviewLadderModeUI(){const _0x23f23a=a6_0x186f5d,_0x334ea9=document['getElementById'](_0x23f23a(0x1bd)),_0x1c718d=document[_0x23f23a(0x158)](_0x23f23a(0x186)),_0x39d9ea=document[_0x23f23a(0x158)]('preview-d2-button'),_0x5e13af=document[_0x23f23a(0x158)]('preview-d3-button');if(_0x334ea9)_0x334ea9[_0x23f23a(0x16a)]=previewState['currentMode'];if(_0x1c718d)_0x1c718d[_0x23f23a(0x279)][_0x23f23a(0x216)](_0x23f23a(0x24a),previewState[_0x23f23a(0x20f)]==='D1');if(_0x39d9ea)_0x39d9ea[_0x23f23a(0x279)][_0x23f23a(0x216)]('active',previewState['currentMode']==='D2');if(_0x5e13af)_0x5e13af[_0x23f23a(0x279)][_0x23f23a(0x216)](_0x23f23a(0x24a),previewState['currentMode']==='D3');}function updatePreviewPaginationControls(_0x597593){const _0x4671f9=a6_0x186f5d,_0xd663d9=document[_0x4671f9(0x158)](_0x4671f9(0x1af)),_0xe762f8=document[_0x4671f9(0x158)](_0x4671f9(0x29a)),_0x737e04=document[_0x4671f9(0x158)](_0x4671f9(0x17b));if(!_0xd663d9||!_0xe762f8||!_0x737e04)return;_0x737e04[_0x4671f9(0x16a)]=_0x4671f9(0x204)+previewState[_0x4671f9(0x153)],_0xd663d9[_0x4671f9(0x253)]=previewState[_0x4671f9(0x153)]<=0x1,_0xe762f8[_0x4671f9(0x253)]=!_0x597593;}function setPreviewLoadingState(_0x35e9ed){const _0x329bc4=a6_0x186f5d;previewState[_0x329bc4(0x187)]=_0x35e9ed,setLoadingIndicator(_0x35e9ed);const _0x18489b=document[_0x329bc4(0x158)](_0x329bc4(0x21c)),_0x4273ce=_0x18489b?_0x18489b[_0x329bc4(0x267)](_0x329bc4(0x1fb)):null,_0x139684=document[_0x329bc4(0x158)](_0x329bc4(0x1af)),_0x1e2c70=document[_0x329bc4(0x158)](_0x329bc4(0x29a)),_0x331059=document[_0x329bc4(0x158)](_0x329bc4(0x186)),_0x255244=document[_0x329bc4(0x158)]('preview-d2-button'),_0x3eb6cc=document[_0x329bc4(0x158)](_0x329bc4(0x208)),_0x2074ae=document[_0x329bc4(0x158)](_0x329bc4(0x245));if(_0x4273ce&&!_0x35e9ed)_0x4273ce[_0x329bc4(0x1f2)]['display']=_0x329bc4(0x274);else _0x4273ce&&_0x35e9ed&&(_0x4273ce[_0x329bc4(0x1f2)]['display']=_0x329bc4(0x206));!_0x35e9ed&&_0x18489b&&!_0x18489b[_0x329bc4(0x267)](_0x329bc4(0x18e))&&!_0x18489b[_0x329bc4(0x267)](_0x329bc4(0x24e))&&(_0x18489b[_0x329bc4(0x15b)]=_0x329bc4(0x16c)+(previewState[_0x329bc4(0x240)]?_0x329bc4(0x1e2):'')+_0x329bc4(0x22a));if(_0x139684)_0x139684[_0x329bc4(0x253)]=_0x35e9ed||previewState[_0x329bc4(0x153)]<=0x1;if(_0x1e2c70)_0x1e2c70[_0x329bc4(0x253)]=_0x35e9ed;if(_0x331059)_0x331059['disabled']=_0x35e9ed;if(_0x255244)_0x255244[_0x329bc4(0x253)]=_0x35e9ed;if(_0x3eb6cc)_0x3eb6cc[_0x329bc4(0x253)]=_0x35e9ed;if(_0x2074ae)_0x2074ae[_0x329bc4(0x253)]=_0x35e9ed;}function applyClientFilters(_0x5961b4){const _0x3885a7=a6_0x186f5d;if(!previewState[_0x3885a7(0x240)])return _0x5961b4;const _0x36c343=previewState[_0x3885a7(0x240)][_0x3885a7(0x1f0)]();return _0x5961b4['filter'](_0x46e643=>{const _0x267e8=_0x3885a7,_0x3ed162=(_0x46e643[_0x267e8(0x199)]||'')['toLowerCase'](),_0x281785=(_0x46e643[_0x267e8(0x248)]||'')[_0x267e8(0x1f0)]();return _0x3ed162['includes'](_0x36c343)||_0x281785[_0x267e8(0x1c8)](_0x36c343);});}function applyEnhancedClientFilters(_0x3f2cea){const _0x4a73b1=a6_0x186f5d;if(!hasEnhancedFilters())return _0x3f2cea;return _0x3f2cea[_0x4a73b1(0x200)](_0x2dc332=>{const _0x4601f5=_0x4a73b1;if(previewState[_0x4601f5(0x235)][_0x4601f5(0x286)]){const _0x46d2f9=previewState[_0x4601f5(0x235)]['pilots'][_0x4601f5(0x1f0)](),_0x516951=(_0x2dc332['winnerUsername']||'')[_0x4601f5(0x1f0)](),_0x2233ec=(_0x2dc332[_0x4601f5(0x248)]||'')[_0x4601f5(0x1f0)]();if(!_0x516951['includes'](_0x46d2f9)&&!_0x2233ec[_0x4601f5(0x1c8)](_0x46d2f9))return![];}if(previewState[_0x4601f5(0x235)]['levels']){const _0x34d229=previewState[_0x4601f5(0x235)][_0x4601f5(0x259)][_0x4601f5(0x1f0)](),_0x196e5e=(_0x2dc332[_0x4601f5(0x21e)]||'')[_0x4601f5(0x1f0)]();if(!_0x196e5e['includes'](_0x34d229))return![];}if(previewState[_0x4601f5(0x235)][_0x4601f5(0x1e5)][_0x4601f5(0x224)]>0x0){const _0x42c4b6=_0x2dc332[_0x4601f5(0x15a)]||_0x4601f5(0x28a);if(!previewState['enhancedFilters']['subgames'][_0x4601f5(0x1c8)](_0x42c4b6))return![];}return!![];});}function hasEnhancedFilters(){const _0x1ad5f0=a6_0x186f5d;return previewState[_0x1ad5f0(0x235)][_0x1ad5f0(0x286)]||previewState[_0x1ad5f0(0x235)][_0x1ad5f0(0x259)]||previewState[_0x1ad5f0(0x235)][_0x1ad5f0(0x1e5)][_0x1ad5f0(0x224)]>0x0;}function clearEnhancedFilters(){const _0xfdbe52=a6_0x186f5d;previewState['enhancedFilters']={'pilots':'','levels':'','subgames':[]},document[_0xfdbe52(0x158)]('filter-pilots')[_0xfdbe52(0x191)]='',document[_0xfdbe52(0x158)](_0xfdbe52(0x243))[_0xfdbe52(0x191)]='';const _0x3a1a15=document[_0xfdbe52(0x158)](_0xfdbe52(0x1a7));for(let _0x14a331 of _0x3a1a15[_0xfdbe52(0x231)]){_0x14a331[_0xfdbe52(0x24d)]=![];}}function jumpToPage(_0x4641e8){const _0x50b37a=a6_0x186f5d,_0x1bedb9=document[_0x50b37a(0x158)](_0x50b37a(0x175)),_0x541e5c=previewState[_0x50b37a(0x153)];let _0x409011=_0x541e5c;switch(_0x4641e8){case _0x50b37a(0x182):_0x409011=0x1;break;case _0x50b37a(0x1d0):_0x409011=Math['max'](_0x541e5c+0xa,previewState['totalPages']||_0x541e5c+0xa);break;case'+1':_0x409011=_0x541e5c+0x1;break;case'+5':_0x409011=_0x541e5c+0x5;break;case _0x50b37a(0x232):_0x409011=_0x541e5c+0xa;break;case'-1':_0x409011=Math[_0x50b37a(0x1e8)](0x1,_0x541e5c-0x1);break;case'-5':_0x409011=Math[_0x50b37a(0x1e8)](0x1,_0x541e5c-0x5);break;case _0x50b37a(0x25f):_0x409011=Math['max'](0x1,_0x541e5c-0xa);break;case _0x50b37a(0x1f3):const _0x5b4c56=parseInt(_0x1bedb9[_0x50b37a(0x191)]);_0x5b4c56&&_0x5b4c56>0x0&&(_0x409011=_0x5b4c56,_0x1bedb9[_0x50b37a(0x191)]='');break;}_0x409011!==_0x541e5c&&_0x409011>0x0&&(previewState[_0x50b37a(0x153)]=_0x409011,loadRecentMatchesPreview(_0x50b37a(0x1da)));}export async function loadRecentMatchesPreview(_0x133926='current'){const _0x13e890=a6_0x186f5d,_0x4861f6=document[_0x13e890(0x158)]('recent-matches-preview'),_0x27e001=document[_0x13e890(0x158)](_0x13e890(0x1c0));if(previewState[_0x13e890(0x187)]||!_0x4861f6||!_0x27e001)return;_0x133926===_0x13e890(0x1ca)&&(console[_0x13e890(0x1ce)](_0x13e890(0x1f6)),Object[_0x13e890(0x17c)](sessionStorage)[_0x13e890(0x1fa)](_0x13023d=>{const _0x137d10=_0x13e890;_0x13023d[_0x137d10(0x1c8)](_0x137d10(0x184)+previewState[_0x137d10(0x20f)])&&sessionStorage[_0x137d10(0x170)](_0x13023d);}));let _0x18c49f=previewState[_0x13e890(0x153)];if(_0x133926===_0x13e890(0x283))_0x18c49f++;else{if(_0x133926===_0x13e890(0x1e1))_0x18c49f--;else _0x133926===_0x13e890(0x1ca)&&(_0x18c49f=0x1,previewState[_0x13e890(0x183)]=null,previewState[_0x13e890(0x192)]=null);}if(_0x18c49f<0x1)_0x18c49f=0x1;const _0x1848dc=previewState[_0x13e890(0x153)];previewState[_0x13e890(0x153)]=_0x18c49f,updatePreviewPaginationControls(!![]);const _0x273f54={'filterUsername':previewState[_0x13e890(0x240)]},_0x3f4a27=getCacheKey(previewState['currentMode'],_0x18c49f,_0x273f54),_0x5968a4=_0x133926!==_0x13e890(0x1ca)?getCachedPage(_0x3f4a27):null;if(_0x5968a4){console['log'](_0x13e890(0x212)+_0x18c49f+_0x13e890(0x1bc)),setPreviewLoadingState(!![]),renderMatchCards(_0x5968a4['docsData']),updatePreviewPaginationControls(_0x5968a4['hasNextPage']),setPreviewLoadingState(![]);return;}console[_0x13e890(0x1ce)](_0x13e890(0x181)+_0x18c49f+_0x13e890(0x288)),setPreviewLoadingState(!![]),_0x4861f6['innerHTML']=_0x13e890(0x271);const _0x431751=previewState[_0x13e890(0x20f)]==='D1'?_0x13e890(0x163):previewState[_0x13e890(0x20f)]==='D2'?_0x13e890(0x165):_0x13e890(0x1fe),_0x3f7635=previewState['currentMode']==='D1'?_0x13e890(0x249):_0x13e890(0x1a5);try{const _0x2fd6f3=collection(window['db'],_0x431751);let _0x2a4f3a=[orderBy(_0x3f7635,_0x13e890(0x27c))];if(_0x18c49f===0x1)console[_0x13e890(0x1ce)](_0x13e890(0x1d9)),_0x2a4f3a[_0x13e890(0x1d1)](limit(previewState[_0x13e890(0x15e)]));else{if(_0x133926===_0x13e890(0x283)&&previewState['lastVisible'])console[_0x13e890(0x1ce)](_0x13e890(0x19b)),_0x2a4f3a[_0x13e890(0x1d1)](startAfter(previewState[_0x13e890(0x192)])),_0x2a4f3a[_0x13e890(0x1d1)](limit(previewState['matchesPerPage']));else{console[_0x13e890(0x1ce)](_0x13e890(0x1ee));const _0x48d081=_0x18c49f*previewState[_0x13e890(0x15e)];_0x2a4f3a[_0x13e890(0x1d1)](limit(_0x48d081));}}const _0x386f8b=query(_0x2fd6f3,..._0x2a4f3a),_0x1f890a=await getDocs(_0x386f8b);let _0x120b2f=_0x1f890a['docs'];if(_0x18c49f>0x1&&_0x133926!==_0x13e890(0x283)){const _0x410cf1=(_0x18c49f-0x1)*previewState[_0x13e890(0x15e)];_0x120b2f=_0x120b2f[_0x13e890(0x272)](_0x410cf1,_0x410cf1+previewState[_0x13e890(0x15e)]);}if(_0x120b2f[_0x13e890(0x224)]===0x0){console[_0x13e890(0x1ce)](_0x13e890(0x27a));_0x133926===_0x13e890(0x283)&&(previewState[_0x13e890(0x153)]=_0x1848dc,updatePreviewPaginationControls(![]));_0x4861f6[_0x13e890(0x15b)]=_0x13e890(0x236)+(previewState[_0x13e890(0x240)]?_0x13e890(0x1e2):'')+_0x13e890(0x22a),setPreviewLoadingState(![]);return;}previewState['firstVisible']=_0x120b2f[0x0],previewState[_0x13e890(0x192)]=_0x120b2f[_0x120b2f[_0x13e890(0x224)]-0x1];const _0x34fe05=_0x120b2f['map'](_0x1af779=>({'id':_0x1af779['id'],..._0x1af779[_0x13e890(0x1c7)]()}));let _0x4d4779=![];if(_0x120b2f['length']===previewState[_0x13e890(0x15e)]){const _0x5505a3=query(_0x2fd6f3,orderBy(_0x3f7635,_0x13e890(0x27c)),startAfter(previewState[_0x13e890(0x192)]),limit(0x1)),_0x1762dd=await getDocs(_0x5505a3);_0x4d4779=!_0x1762dd[_0x13e890(0x171)];}const _0x4b11f6=applyClientFilters(_0x34fe05),_0x1adb78={'docsData':_0x34fe05,'hasNextPage':_0x4d4779};cachePage(getCacheKey(previewState[_0x13e890(0x20f)],previewState[_0x13e890(0x153)],_0x273f54),_0x1adb78);if(_0x18c49f>0x1&&_0x133926!==_0x13e890(0x283))for(let _0x1d3389=0x1;_0x1d3389<_0x18c49f;_0x1d3389++){const _0x33ec7c=(_0x1d3389-0x1)*previewState[_0x13e890(0x15e)],_0x151038=_0x33ec7c+previewState[_0x13e890(0x15e)],_0x359798=_0x1f890a[_0x13e890(0x282)]['slice'](_0x33ec7c,_0x151038);if(_0x359798[_0x13e890(0x224)]>0x0){const _0x4e0394=_0x359798[_0x13e890(0x1cf)](_0x686fd3=>({'id':_0x686fd3['id'],..._0x686fd3[_0x13e890(0x1c7)]()})),_0x50c2b4=!![];cachePage(getCacheKey(previewState['currentMode'],_0x1d3389,_0x273f54),{'docsData':_0x4e0394,'hasNextPage':_0x50c2b4}),console[_0x13e890(0x1ce)]('Cached\x20intermediary\x20page\x20'+_0x1d3389);}}_0x4b11f6[_0x13e890(0x224)]===0x0&&previewState['filterUsername']?_0x4861f6[_0x13e890(0x15b)]='<div\x20class=\x22matches-loading\x22>No\x20matches\x20found\x20matching\x20filter:\x20\x22'+previewState[_0x13e890(0x240)]+'\x22</div>':renderMatchCards(_0x4b11f6),updatePreviewPaginationControls(_0x4d4779);}catch(_0x584fc1){console['error'](_0x13e890(0x217)+previewState['currentMode']+'\x20matches:',_0x584fc1),_0x4861f6[_0x13e890(0x15b)]=_0x13e890(0x1d8)+_0x584fc1[_0x13e890(0x289)]+_0x13e890(0x215),updatePreviewPaginationControls(![]),previewState[_0x13e890(0x153)]=_0x1848dc;}finally{setPreviewLoadingState(![]);}}async function renderMatchCards(_0x2f0d15){const _0x22cffa=a6_0x186f5d,_0x302703=document[_0x22cffa(0x158)](_0x22cffa(0x21c)),_0xcdbc2e=document['getElementById'](_0x22cffa(0x1c0));if(!_0x302703||!_0xcdbc2e)return;!_0x302703['querySelector']('.matches-loading[style*=\x22color:\x20red\x22]')&&(_0x302703[_0x22cffa(0x15b)]='');if(!_0x2f0d15||_0x2f0d15[_0x22cffa(0x224)]===0x0){if(!_0x302703[_0x22cffa(0x267)](_0x22cffa(0x24e))){const _0x506307=hasEnhancedFilters()?_0x22cffa(0x1e2):previewState[_0x22cffa(0x240)]?_0x22cffa(0x1e2):'';_0x302703[_0x22cffa(0x15b)]=_0x22cffa(0x16c)+_0x506307+_0x22cffa(0x22a);}return;}const _0x90b65b=applyEnhancedClientFilters(_0x2f0d15);if(_0x90b65b[_0x22cffa(0x224)]===0x0){_0x302703['innerHTML']=_0x22cffa(0x28e);return;}const _0x3b9b78=_0x90b65b[_0x22cffa(0x1cf)](_0x70c49c=>getAllCommentsForMatch(_0x70c49c['id']));let _0x1d57b2=[];try{_0x1d57b2=await Promise[_0x22cffa(0x1fc)](_0x3b9b78);}catch(_0x4ce31f){console['error'](_0x22cffa(0x18c),_0x4ce31f),_0x1d57b2=_0x90b65b['map'](()=>[]);}const _0x16e633={};_0x1d57b2[_0x22cffa(0x1fa)]((_0x380f35,_0x165e48)=>{_0x16e633[_0x90b65b[_0x165e48]['id']]=_0x380f35||[];}),_0x90b65b[_0x22cffa(0x1fa)](_0x5d5f75=>{const _0x244b65=_0x22cffa,_0xbe78ee=_0xcdbc2e[_0x244b65(0x277)][_0x244b65(0x269)](!![]),_0x11692c=_0xbe78ee[_0x244b65(0x267)](_0x244b65(0x24f)),_0x1355c0=_0xbe78ee[_0x244b65(0x267)]('.match-card'),_0x372822=getEloRankClass(_0x5d5f75[_0x244b65(0x157)]);_0x1355c0[_0x244b65(0x279)]['add'](_0x244b65(0x1cd)+_0x372822),_0x1355c0[_0x244b65(0x267)](_0x244b65(0x265))[_0x244b65(0x16a)]=_0x5d5f75[_0x244b65(0x21e)]||'Unknown\x20Map',_0x1355c0[_0x244b65(0x267)]('.match-date')[_0x244b65(0x16a)]=formatDate(_0x5d5f75[_0x244b65(0x1a5)]||_0x5d5f75[_0x244b65(0x249)]);const _0x13b574=_0x1355c0[_0x244b65(0x267)](_0x244b65(0x1a9));_0x13b574[_0x244b65(0x16a)]=_0x5d5f75[_0x244b65(0x199)]||_0x244b65(0x221),_0x13b574[_0x244b65(0x1f2)][_0x244b65(0x238)]=getEloColor(_0x5d5f75[_0x244b65(0x157)]),_0x1355c0[_0x244b65(0x267)]('.player.winner\x20.player-score')[_0x244b65(0x16a)]=_0x5d5f75[_0x244b65(0x252)]??0x0;const _0x1a6e95=_0x1355c0[_0x244b65(0x267)](_0x244b65(0x29b)),_0x410936=_0x5d5f75[_0x244b65(0x241)]||0x0;_0x1a6e95[_0x244b65(0x16a)]='S:\x20'+_0x410936;const _0x290add=_0x1355c0['querySelector'](_0x244b65(0x1b4));_0x290add[_0x244b65(0x16a)]=_0x5d5f75[_0x244b65(0x248)]||_0x244b65(0x221),_0x290add[_0x244b65(0x1f2)][_0x244b65(0x238)]=getEloColor(_0x5d5f75[_0x244b65(0x21d)]),_0x1355c0[_0x244b65(0x267)](_0x244b65(0x251))['textContent']=_0x5d5f75[_0x244b65(0x1a6)]??0x0;const _0x5569d3=_0x1355c0[_0x244b65(0x267)]('.player.loser\x20.player-suicides'),_0x4b96f1=_0x5d5f75[_0x244b65(0x292)]||0x0;_0x5569d3[_0x244b65(0x16a)]=_0x244b65(0x1ff)+_0x4b96f1;const _0xca85c6=_0x1355c0[_0x244b65(0x267)](_0x244b65(0x299));if(_0xca85c6){if(_0x5d5f75['subgameType']&&_0x5d5f75[_0x244b65(0x15a)][_0x244b65(0x15d)]()!==''){_0xca85c6[_0x244b65(0x16a)]=_0x5d5f75[_0x244b65(0x15a)],_0xca85c6[_0x244b65(0x1f2)][_0x244b65(0x1ae)]=_0x244b65(0x206);const _0x4ad3ed=getSubgameClass(_0x5d5f75[_0x244b65(0x15a)]);_0x4ad3ed&&_0xca85c6[_0x244b65(0x279)]['add'](_0x4ad3ed);}else _0xca85c6['textContent']=_0x244b65(0x28a),_0xca85c6[_0x244b65(0x1f2)][_0x244b65(0x1ae)]=_0x244b65(0x206),_0xca85c6[_0x244b65(0x1f2)][_0x244b65(0x205)]=_0x244b65(0x278);}const _0x5f0453=_0x1355c0['querySelector']('.comment.winner-comment'),_0x150a25=_0x1355c0[_0x244b65(0x267)](_0x244b65(0x247)),_0x2e6ed8=_0x5d5f75[_0x244b65(0x1b8)]||'',_0x3bd0c4=_0x5d5f75[_0x244b65(0x23f)]||'',_0x47dbbb=_0x5d5f75[_0x244b65(0x1a5)]||_0x5d5f75[_0x244b65(0x249)],_0x18338c=filterComment(_0x2e6ed8,_0x5d5f75['winnerUsername'],_0x47dbbb),_0x47fdc4=filterComment(_0x3bd0c4,_0x5d5f75[_0x244b65(0x248)],_0x47dbbb);_0x5f0453[_0x244b65(0x16a)]='\x22'+truncateComment(_0x2e6ed8)+'\x22',_0x150a25['textContent']='\x22'+truncateComment(_0x3bd0c4)+'\x22';_0x2e6ed8&&!isUsernameMuted(_0x5d5f75[_0x244b65(0x199)],_0x47dbbb)?_0x5f0453[_0x244b65(0x155)]=()=>showPreviewCommentPopup(_0x18338c,_0x5d5f75[_0x244b65(0x199)]||_0x244b65(0x1ec),getEloColor(_0x5d5f75[_0x244b65(0x157)])):(_0x5f0453['textContent']=_0x18338c==='Muted.'?_0x244b65(0x1a1):'-',_0x5f0453['style']['cursor']=_0x244b65(0x1e0),_0x5f0453[_0x244b65(0x155)]=null);_0x3bd0c4&&!isUsernameMuted(_0x5d5f75['loserUsername'])?_0x150a25['onclick']=()=>showPreviewCommentPopup(_0x47fdc4,_0x5d5f75[_0x244b65(0x248)]||'Loser',getEloColor(_0x5d5f75[_0x244b65(0x21d)])):(_0x150a25['textContent']=_0x47fdc4===_0x244b65(0x1a1)?_0x244b65(0x1a1):'-',_0x150a25[_0x244b65(0x1f2)]['cursor']='default',_0x150a25[_0x244b65(0x155)]=null);const _0x244491=_0x11692c?.['querySelector'](_0x244b65(0x207));if(!_0x244491)console[_0x244b65(0x226)](_0x244b65(0x209));else{const _0x29871f=_0x244491[_0x244b65(0x267)](_0x244b65(0x239)),_0x136abb=_0x29871f?.[_0x244b65(0x267)](_0x244b65(0x1f4)),_0x1b20da=_0x244491[_0x244b65(0x267)](_0x244b65(0x281));if(_0x29871f){while(_0x29871f['firstChild']&&_0x29871f['firstChild']!==_0x136abb){_0x29871f[_0x244b65(0x15f)](_0x29871f[_0x244b65(0x234)]);}_0x1b20da&&_0x1b20da[_0x244b65(0x21a)]('click',()=>{showAddCommentPopup(_0x5d5f75['id']);});const _0x20cfef=_0x16e633[_0x5d5f75['id']]||[];if(_0x20cfef[_0x244b65(0x224)]>0x0){if(_0x136abb)_0x136abb[_0x244b65(0x1f2)][_0x244b65(0x1ae)]=_0x244b65(0x274);const _0x58176c=(_0xccc057,_0x3c2139)=>{const _0x8cea19=_0x244b65,_0x29674e=_0xccc057[_0x8cea19(0x290)]('\x20');if(_0x29674e[_0x8cea19(0x224)]<=_0x3c2139)return _0xccc057;return _0x29674e[_0x8cea19(0x272)](0x0,_0x3c2139)[_0x8cea19(0x1e6)]('\x20')+_0x8cea19(0x1d5);};_0x20cfef[_0x244b65(0x1fa)](_0x2caecc=>{const _0x1f07dd=_0x244b65,_0x3b9010=document['createElement'](_0x1f07dd(0x18a));if(_0x2caecc[_0x1f07dd(0x27b)]===_0x1f07dd(0x167)){_0x3b9010[_0x1f07dd(0x25d)]='demo-link',_0x3b9010[_0x1f07dd(0x15b)]=_0x1f07dd(0x258)+_0x2caecc['demoLink']+_0x1f07dd(0x295)+_0x2caecc['username']+_0x1f07dd(0x254)+(_0x2caecc['description']||_0x1f07dd(0x1d6))+_0x1f07dd(0x1c6);const _0x3aa309=window[_0x1f07dd(0x20b)][_0x1f07dd(0x210)],_0x5af6c9=_0x3aa309&&_0x2caecc['userId']===_0x3aa309[_0x1f07dd(0x270)];if(_0x5af6c9){const _0xfa0b42=document['createElement'](_0x1f07dd(0x1eb));_0xfa0b42[_0x1f07dd(0x25d)]='delete-comment-btn',_0xfa0b42[_0x1f07dd(0x15b)]='×',_0xfa0b42[_0x1f07dd(0x154)](_0x1f07dd(0x21b),_0x1f07dd(0x23e)),_0xfa0b42[_0x1f07dd(0x21a)](_0x1f07dd(0x21f),_0x37f4e3=>{const _0x47ac9a=_0x1f07dd;_0x37f4e3[_0x47ac9a(0x164)](),_0x37f4e3[_0x47ac9a(0x1ba)](),deleteComment(_0x2caecc['id'],_0x3b9010);}),_0x3b9010[_0x1f07dd(0x202)](_0xfa0b42);}}else{_0x3b9010[_0x1f07dd(0x25d)]=_0x1f07dd(0x18f);const _0x18db09=isUsernameMuted(_0x2caecc[_0x1f07dd(0x27d)],_0x2caecc[_0x1f07dd(0x25e)]),_0x33836e=_0x18db09?_0x1f07dd(0x1a1):_0x58176c(_0x2caecc[_0x1f07dd(0x287)]||'',0xf),_0x259c3f=_0x2caecc[_0x1f07dd(0x27d)]||_0x1f07dd(0x1be),_0x282fa3=window[_0x1f07dd(0x20b)]['currentUser'],_0x59cad0=_0x282fa3&&_0x2caecc[_0x1f07dd(0x28b)]===_0x282fa3[_0x1f07dd(0x270)];let _0x379e91='';_0x59cad0&&(_0x379e91=_0x1f07dd(0x285));_0x3b9010[_0x1f07dd(0x15b)]=_0x379e91+'<strong>'+_0x259c3f+_0x1f07dd(0x156)+_0x33836e+'\x22';if(_0x59cad0){const _0x4d807d=_0x3b9010[_0x1f07dd(0x267)](_0x1f07dd(0x26d));_0x4d807d&&_0x4d807d['addEventListener']('click',_0x421b5e=>{_0x421b5e['stopPropagation'](),deleteComment(_0x2caecc['id'],_0x3b9010);});}!_0x18db09?_0x3b9010[_0x1f07dd(0x21a)](_0x1f07dd(0x21f),()=>{showFullCommentLightbox(_0x2caecc);}):_0x3b9010[_0x1f07dd(0x1f2)][_0x1f07dd(0x17f)]=_0x1f07dd(0x1e0);}_0x29871f[_0x1f07dd(0x244)](_0x3b9010,_0x29871f[_0x1f07dd(0x234)]);});}else{if(_0x136abb)_0x136abb[_0x244b65(0x1f2)][_0x244b65(0x1ae)]=_0x244b65(0x206);}}}const _0x149a34=_0x1355c0[_0x244b65(0x267)]('.match-demo-links');if(_0x149a34){const _0x27e5d2=_0x1355c0[_0x244b65(0x267)](_0x244b65(0x214)),_0x4c1032=_0x1355c0[_0x244b65(0x267)](_0x244b65(0x266)),_0x5cb8aa=_0x5d5f75[_0x244b65(0x1e9)]||null,_0xe73b7=_0x5d5f75[_0x244b65(0x24c)]||_0x5d5f75['demoLink']||null;console[_0x244b65(0x1ce)](_0x244b65(0x25c)+_0x5d5f75['id']+'\x20demo\x20links:',{'winner':_0x5cb8aa,'loser':_0xe73b7}),_0x27e5d2&&(_0x5cb8aa?(_0x27e5d2[_0x244b65(0x19a)]=_0x5cb8aa,_0x27e5d2[_0x244b65(0x1f2)]['display']=_0x244b65(0x1df),_0x27e5d2['title']=_0x5d5f75[_0x244b65(0x199)]+_0x244b65(0x1c9)):_0x27e5d2[_0x244b65(0x1f2)][_0x244b65(0x1ae)]='none'),_0x4c1032&&(_0xe73b7?(_0x4c1032[_0x244b65(0x19a)]=_0xe73b7,_0x4c1032[_0x244b65(0x1f2)]['display']=_0x244b65(0x1df),_0x4c1032['title']=_0x5d5f75[_0x244b65(0x248)]+_0x244b65(0x1c9)):_0x4c1032['style'][_0x244b65(0x1ae)]='none'),_0x5cb8aa&&_0x27e5d2||_0xe73b7&&_0x4c1032?_0x149a34[_0x244b65(0x1f2)]['display']=_0x244b65(0x1df):_0x149a34[_0x244b65(0x1f2)][_0x244b65(0x1ae)]=_0x244b65(0x274);}_0x302703[_0x244b65(0x202)](_0xbe78ee);});}function getSubgameClass(_0x30808e){const _0x36cd69=a6_0x186f5d,_0x26f59a={'Fusion\x20Match':_0x36cd69(0x250),'≥6\x20Missiles':_0x36cd69(0x176),'≥6\x20missiles':_0x36cd69(0x176),'Weapon\x20Imbalance':'weapon-imbalance','Blind\x20Match':_0x36cd69(0x275),'Rematch':_0x36cd69(0x1f7),'Disorientation':_0x36cd69(0x1a4),'Ratting':_0x36cd69(0x1ac),'Altered\x20Powerups':_0x36cd69(0x162),'Mega\x20Match':_0x36cd69(0x1e4),'Dogfight':_0x36cd69(0x257),'Gauss\x20and\x20Mercs':'gauss-and-mercs'};return _0x26f59a[_0x30808e]||'';}async function deleteComment(_0x557309,_0x3476cc){const _0x111080=a6_0x186f5d,_0x119858=window['auth'][_0x111080(0x210)];if(!_0x119858){alert(_0x111080(0x213));return;}if(!confirm(_0x111080(0x16d)))return;try{const _0x234d57=doc(window['db'],'matchComments',_0x557309),_0x32101d=await getDoc(_0x234d57);if(!_0x32101d[_0x111080(0x19e)]()){alert(_0x111080(0x26c));return;}const _0x253dad=_0x32101d['data']();if(_0x253dad[_0x111080(0x28b)]!==_0x119858[_0x111080(0x270)]){alert('You\x20can\x20only\x20delete\x20your\x20own\x20comments');return;}await deleteDoc(_0x234d57);if(_0x3476cc&&_0x3476cc[_0x111080(0x197)]){_0x3476cc[_0x111080(0x197)][_0x111080(0x15f)](_0x3476cc);const _0x214409=_0x3476cc[_0x111080(0x159)](_0x111080(0x239));if(_0x214409&&!_0x214409[_0x111080(0x267)]('.comment-item')){const _0xa470cc=_0x214409['querySelector'](_0x111080(0x1f4));if(_0xa470cc)_0xa470cc[_0x111080(0x1f2)][_0x111080(0x1ae)]='block';}}console[_0x111080(0x1ce)](_0x111080(0x16f));}catch(_0x111e96){console['error']('Error\x20deleting\x20comment:',_0x111e96),alert('Failed\x20to\x20delete\x20comment:\x20'+_0x111e96[_0x111080(0x289)]);}}async function getAllCommentsForMatch(_0x410f64){const _0x4a2cdc=a6_0x186f5d;if(!_0x410f64)return[];try{const _0x308bdd=collection(window['db'],_0x4a2cdc(0x276)),_0x648eff=query(_0x308bdd,where(_0x4a2cdc(0x160),'==',_0x410f64),orderBy(_0x4a2cdc(0x25e),'desc')),_0x30be59=await getDocs(_0x648eff);if(_0x30be59['empty'])return[];return _0x30be59[_0x4a2cdc(0x282)][_0x4a2cdc(0x1cf)](_0x566bad=>({'id':_0x566bad['id'],..._0x566bad['data']()}));}catch(_0x332241){return console['error'](_0x4a2cdc(0x1ad),_0x332241),[];}}async function submitComment(_0x2090aa){const _0x49efe1=a6_0x186f5d;_0x2090aa['preventDefault']();if(!window[_0x49efe1(0x20b)]||!window['db']){console[_0x49efe1(0x17e)](_0x49efe1(0x263)),alert(_0x49efe1(0x26e));return;}const _0x30876f=window[_0x49efe1(0x20b)][_0x49efe1(0x210)];if(!_0x30876f){alert('You\x20must\x20be\x20signed\x20in\x20to\x20leave\x20a\x20comment');return;}const _0x767ab3=document[_0x49efe1(0x158)](_0x49efe1(0x297))?.['value'],_0x28b1cc=document[_0x49efe1(0x158)]('commentText')?.[_0x49efe1(0x191)]?.[_0x49efe1(0x15d)]();if(!_0x767ab3||!_0x28b1cc){alert(_0x49efe1(0x1d7));return;}const _0x56c854=_0x28b1cc[_0x49efe1(0x290)](/\s+/)[_0x49efe1(0x200)](_0x1d1bb4=>_0x1d1bb4[_0x49efe1(0x224)]>0x0)[_0x49efe1(0x224)];if(_0x56c854>0xf){alert('Comments\x20are\x20limited\x20to\x2015\x20words\x20maximum.\x20Please\x20shorten\x20your\x20comment.');return;}const _0x1dd8d3=document[_0x49efe1(0x267)](_0x49efe1(0x188));_0x1dd8d3&&(_0x1dd8d3[_0x49efe1(0x253)]=!![],_0x1dd8d3[_0x49efe1(0x16a)]=_0x49efe1(0x280));try{let _0x45720f=_0x49efe1(0x1be);try{const _0x2c9b75=doc(window['db'],'userProfiles',_0x30876f['uid']),_0x2a32a0=await getDoc(_0x2c9b75);if(_0x2a32a0[_0x49efe1(0x19e)]()){const _0x4d8984=_0x2a32a0[_0x49efe1(0x1c7)]();_0x4d8984[_0x49efe1(0x27d)]&&(_0x45720f=_0x4d8984[_0x49efe1(0x27d)]);}_0x45720f===_0x49efe1(0x1be)&&_0x30876f['displayName']&&(_0x45720f=_0x30876f[_0x49efe1(0x178)]);}catch(_0x700c17){console[_0x49efe1(0x226)](_0x49efe1(0x24b),_0x700c17),_0x30876f['displayName']&&(_0x45720f=_0x30876f['displayName']);}const _0x4652e1={'matchId':_0x767ab3,'userId':_0x30876f['uid'],'username':_0x45720f,'text':_0x28b1cc,'timestamp':serverTimestamp()};console[_0x49efe1(0x1ce)](_0x49efe1(0x1b1),_0x45720f);const _0x7d9f2d=collection(window['db'],_0x49efe1(0x276));await addDoc(_0x7d9f2d,_0x4652e1),console[_0x49efe1(0x1ce)](_0x49efe1(0x203)),closeAddCommentPopup(),loadRecentMatchesPreview(_0x49efe1(0x1ca));}catch(_0x5cd45c){console[_0x49efe1(0x17e)](_0x49efe1(0x229),_0x5cd45c),alert(_0x49efe1(0x172)+_0x5cd45c['message']),_0x1dd8d3&&(_0x1dd8d3[_0x49efe1(0x253)]=![],_0x1dd8d3[_0x49efe1(0x16a)]=_0x49efe1(0x227));}}function closeAddCommentPopup(){const _0x1186be=a6_0x186f5d,_0x196acc=document[_0x1186be(0x158)](_0x1186be(0x223)),_0x96000b=document[_0x1186be(0x158)](_0x1186be(0x19c));if(_0x196acc)_0x196acc[_0x1186be(0x1f2)]['display']=_0x1186be(0x274);if(_0x96000b)_0x96000b[_0x1186be(0x1f2)][_0x1186be(0x1ae)]=_0x1186be(0x274);}function showAddCommentPopup(_0x45e092){const _0x441d94=a6_0x186f5d,_0x52b893=window[_0x441d94(0x20b)][_0x441d94(0x210)];if(!_0x52b893){alert('You\x20need\x20to\x20be\x20signed\x20in\x20to\x20leave\x20a\x20comment\x20or\x20add\x20a\x20demo');return;}let _0x4d510f=document[_0x441d94(0x158)](_0x441d94(0x223)),_0x3e085d=document[_0x441d94(0x158)](_0x441d94(0x19c));!_0x4d510f&&(_0x4d510f=document['createElement'](_0x441d94(0x18a)),_0x4d510f['id']=_0x441d94(0x223),_0x4d510f[_0x441d94(0x25d)]=_0x441d94(0x1cb),document[_0x441d94(0x1bb)][_0x441d94(0x202)](_0x4d510f));!_0x3e085d&&(_0x3e085d=document[_0x441d94(0x16b)](_0x441d94(0x18a)),_0x3e085d['id']=_0x441d94(0x19c),_0x3e085d[_0x441d94(0x25d)]=_0x441d94(0x256),document['body']['appendChild'](_0x3e085d));_0x4d510f['innerHTML']=_0x441d94(0x23a)+_0x45e092+_0x441d94(0x1a2),_0x4d510f[_0x441d94(0x1f2)]['display']=_0x441d94(0x206),_0x3e085d['style']['display']=_0x441d94(0x206),document[_0x441d94(0x158)](_0x441d94(0x189))[_0x441d94(0x21a)](_0x441d94(0x21f),closeAddCommentPopup),_0x3e085d[_0x441d94(0x21a)]('click',closeAddCommentPopup);const _0x238ea0=_0x4d510f['querySelectorAll'](_0x441d94(0x1f1));_0x238ea0[_0x441d94(0x1fa)](_0x14f467=>{const _0x8e852c=_0x441d94;_0x14f467['addEventListener'](_0x8e852c(0x21f),function(){const _0xfd6092=_0x8e852c;_0x238ea0[_0xfd6092(0x1fa)](_0x53ea62=>_0x53ea62[_0xfd6092(0x279)]['remove'](_0xfd6092(0x24a))),document[_0xfd6092(0x1fd)](_0xfd6092(0x268))[_0xfd6092(0x1fa)](_0x3d607c=>_0x3d607c[_0xfd6092(0x1f2)][_0xfd6092(0x1ae)]=_0xfd6092(0x274)),this[_0xfd6092(0x279)]['add'](_0xfd6092(0x24a));const _0x1783ef=this['dataset'][_0xfd6092(0x1b7)];document['getElementById'](_0x1783ef+'Option')[_0xfd6092(0x1f2)][_0xfd6092(0x1ae)]=_0xfd6092(0x206),_0x1783ef===_0xfd6092(0x167)?(document[_0xfd6092(0x158)](_0xfd6092(0x1c4))[_0xfd6092(0x154)](_0xfd6092(0x1ef),''),document['getElementById'](_0xfd6092(0x195))['removeAttribute'](_0xfd6092(0x1ef))):(document['getElementById']('demoLink')[_0xfd6092(0x201)](_0xfd6092(0x1ef)),document[_0xfd6092(0x158)](_0xfd6092(0x195))[_0xfd6092(0x154)](_0xfd6092(0x1ef),''));});}),document[_0x441d94(0x158)](_0x441d94(0x195))[_0x441d94(0x154)](_0x441d94(0x1ef),''),document['getElementById'](_0x441d94(0x1c4))['removeAttribute'](_0x441d94(0x1ef)),setupWordCounter(_0x441d94(0x195),_0x441d94(0x166),0xf),setupWordCounter(_0x441d94(0x174),_0x441d94(0x218),0x14),document[_0x441d94(0x158)]('addCommentForm')[_0x441d94(0x21a)]('submit',submitCommentOrDemo);}function setupWordCounter(_0x2f6d4a,_0x55a05d,_0x555215){const _0x5cc21e=a6_0x186f5d,_0x212f26=document[_0x5cc21e(0x158)](_0x2f6d4a),_0x221dca=document[_0x5cc21e(0x158)](_0x55a05d);if(!_0x212f26||!_0x221dca)return;_0x28e879(),_0x212f26['addEventListener']('input',_0x28e879);function _0x28e879(){const _0x2db116=_0x5cc21e,_0x3a73ae=_0x212f26[_0x2db116(0x191)][_0x2db116(0x15d)](),_0x20e5e9=_0x3a73ae?_0x3a73ae['split'](/\s+/)['filter'](_0x2fe149=>_0x2fe149[_0x2db116(0x224)]>0x0)[_0x2db116(0x224)]:0x0;_0x221dca['textContent']=_0x20e5e9,_0x20e5e9>_0x555215?_0x221dca[_0x2db116(0x1f2)][_0x2db116(0x238)]=_0x2db116(0x293):_0x221dca['style']['color']='#aaa';}}async function submitCommentOrDemo(_0x1072ad){const _0xee03fa=a6_0x186f5d;_0x1072ad[_0xee03fa(0x164)]();if(!window[_0xee03fa(0x20b)]||!window['db']){console[_0xee03fa(0x17e)]('Firebase\x20not\x20initialized'),alert(_0xee03fa(0x1b9));return;}const _0x1fa7fa=window['auth'][_0xee03fa(0x210)];if(!_0x1fa7fa){alert(_0xee03fa(0x20d));return;}const _0x2bc34f=document[_0xee03fa(0x158)](_0xee03fa(0x297))[_0xee03fa(0x191)],_0x3256d5=document[_0xee03fa(0x267)]('.option-tab.active')[_0xee03fa(0x1d2)][_0xee03fa(0x1b7)];let _0x25bc64=_0xee03fa(0x1be);try{const _0x19b15d=doc(window['db'],'userProfiles',_0x1fa7fa[_0xee03fa(0x270)]),_0x32bc95=await getDoc(_0x19b15d);if(_0x32bc95['exists']()){const _0x2ec66a=_0x32bc95[_0xee03fa(0x1c7)]();_0x2ec66a[_0xee03fa(0x27d)]&&(_0x25bc64=_0x2ec66a[_0xee03fa(0x27d)]);}_0x25bc64===_0xee03fa(0x1be)&&_0x1fa7fa[_0xee03fa(0x178)]&&(_0x25bc64=_0x1fa7fa[_0xee03fa(0x178)]);}catch(_0x2c1aa8){console[_0xee03fa(0x226)](_0xee03fa(0x16e),_0x2c1aa8),_0x1fa7fa['displayName']&&(_0x25bc64=_0x1fa7fa[_0xee03fa(0x178)]);}const _0x530817=document[_0xee03fa(0x267)](_0xee03fa(0x188));_0x530817&&(_0x530817[_0xee03fa(0x253)]=!![],_0x530817[_0xee03fa(0x16a)]=_0xee03fa(0x280));try{if(_0x3256d5===_0xee03fa(0x1a3)){const _0x5c9992=document['getElementById'](_0xee03fa(0x195))['value']['trim']();if(!_0x5c9992){alert(_0xee03fa(0x1d7)),_0x530817['disabled']=![],_0x530817[_0xee03fa(0x16a)]=_0xee03fa(0x227);return;}const _0x31db57=_0x5c9992[_0xee03fa(0x290)](/\s+/)[_0xee03fa(0x200)](_0x50db2f=>_0x50db2f[_0xee03fa(0x224)]>0x0)[_0xee03fa(0x224)];if(_0x31db57>0xf){alert(_0xee03fa(0x219)),_0x530817[_0xee03fa(0x253)]=![],_0x530817[_0xee03fa(0x16a)]=_0xee03fa(0x227);return;}const _0x5e468e={'matchId':_0x2bc34f,'userId':_0x1fa7fa['uid'],'username':_0x25bc64,'text':_0x5c9992,'type':_0xee03fa(0x1a3),'timestamp':serverTimestamp()},_0x5f4871=collection(window['db'],_0xee03fa(0x276));await addDoc(_0x5f4871,_0x5e468e);}else{const _0x209e9c=document[_0xee03fa(0x158)]('demoLink')[_0xee03fa(0x191)]['trim'](),_0x3f42c7=document[_0xee03fa(0x158)](_0xee03fa(0x174))[_0xee03fa(0x191)][_0xee03fa(0x15d)]()||_0xee03fa(0x194);if(!_0x209e9c){alert(_0xee03fa(0x23d)),_0x530817[_0xee03fa(0x253)]=![],_0x530817[_0xee03fa(0x16a)]=_0xee03fa(0x227);return;}try{new URL(_0x209e9c);}catch(_0x273631){alert('Please\x20enter\x20a\x20valid\x20URL\x20for\x20the\x20demo\x20link'),_0x530817['disabled']=![],_0x530817[_0xee03fa(0x16a)]=_0xee03fa(0x227);return;}const _0x19737a=_0x3f42c7[_0xee03fa(0x290)](/\s+/)[_0xee03fa(0x200)](_0x4a78ac=>_0x4a78ac[_0xee03fa(0x224)]>0x0)[_0xee03fa(0x224)];if(_0x19737a>0x14){alert('Demo\x20descriptions\x20are\x20limited\x20to\x2020\x20words\x20maximum.\x20Please\x20shorten\x20your\x20description.'),_0x530817[_0xee03fa(0x253)]=![],_0x530817[_0xee03fa(0x16a)]=_0xee03fa(0x227);return;}const _0x20f3e7={'matchId':_0x2bc34f,'userId':_0x1fa7fa['uid'],'username':_0x25bc64,'demoLink':_0x209e9c,'description':_0x3f42c7,'type':'demo','text':_0xee03fa(0x1c3)+_0x3f42c7,'timestamp':serverTimestamp()},_0x373892=collection(window['db'],_0xee03fa(0x276));await addDoc(_0x373892,_0x20f3e7);}closeAddCommentPopup(),loadRecentMatchesPreview('current');}catch(_0x34559a){console[_0xee03fa(0x17e)](_0xee03fa(0x237),_0x34559a),alert(_0xee03fa(0x1f5)+_0x34559a[_0xee03fa(0x289)]),_0x530817&&(_0x530817[_0xee03fa(0x253)]=![],_0x530817[_0xee03fa(0x16a)]=_0xee03fa(0x227));}}function getEloRankClass(_0x4c2fae){const _0x26f79d=a6_0x186f5d,_0x5c3720=Number(_0x4c2fae);if(_0x5c3720>=0x7d0)return _0x26f79d(0x22d);else{if(_0x5c3720>=0x708)return'gold';else{if(_0x5c3720>=0x640)return _0x26f79d(0x1f9);else{if(_0x5c3720>=0x578)return _0x26f79d(0x23b);else return _0x26f79d(0x177);}}}}function showPreviewCommentPopup(_0x1c606a,_0x3e8363,_0xdd77b=a6_0x186f5d(0x27f)){const _0x4a1366=a6_0x186f5d,_0x266ae9=document[_0x4a1366(0x158)]('commentPopupPreview'),_0x1143b9=document[_0x4a1366(0x158)](_0x4a1366(0x255)),_0x2aa994=document[_0x4a1366(0x158)](_0x4a1366(0x196)),_0x2847fd=document[_0x4a1366(0x158)](_0x4a1366(0x20c)),_0x10a408=document[_0x4a1366(0x158)](_0x4a1366(0x25b));if(!_0x266ae9||!_0x1143b9||!_0x2aa994||!_0x2847fd||!_0x10a408)return;_0x266ae9[_0x4a1366(0x1d2)][_0x4a1366(0x195)]=_0x1c606a,_0x266ae9['dataset'][_0x4a1366(0x1aa)]=_0x3e8363,_0x2aa994['style']['color']=_0xdd77b,_0x2aa994['textContent']=_0x4a1366(0x242)+_0x3e8363,_0x2847fd[_0x4a1366(0x16a)]=_0x1c606a,_0x10a408['onclick']=reportComment,_0x266ae9[_0x4a1366(0x1f2)][_0x4a1366(0x1ae)]=_0x4a1366(0x206),_0x1143b9['style'][_0x4a1366(0x1ae)]=_0x4a1366(0x206);}function closePreviewCommentPopup(){const _0x3dd1d7=a6_0x186f5d,_0x10cb22=document[_0x3dd1d7(0x158)](_0x3dd1d7(0x222)),_0x3fe2a0=document['getElementById']('commentOverlayPreview');if(_0x10cb22)_0x10cb22[_0x3dd1d7(0x1f2)]['display']=_0x3dd1d7(0x274);if(_0x3fe2a0)_0x3fe2a0[_0x3dd1d7(0x1f2)]['display']=_0x3dd1d7(0x274);}async function reportComment(){const _0xe2cea9=a6_0x186f5d,_0x1acbef=window[_0xe2cea9(0x20b)][_0xe2cea9(0x210)];if(!_0x1acbef){alert(_0xe2cea9(0x1b3));return;}if(!confirm(_0xe2cea9(0x1ed)))return;try{const _0x46f427=document['getElementById'](_0xe2cea9(0x222)),_0x8df895={'commentAuthor':_0x46f427[_0xe2cea9(0x1d2)][_0xe2cea9(0x1aa)]||_0xe2cea9(0x233),'commentText':_0x46f427['dataset'][_0xe2cea9(0x195)]||'','matchId':previewState[_0xe2cea9(0x1dd)]||'','reportedBy':_0x1acbef[_0xe2cea9(0x270)],'reporterUsername':_0x1acbef[_0xe2cea9(0x178)]||_0xe2cea9(0x28f),'reportedAt':serverTimestamp()},_0x1fe693=collection(window['db'],'badComments');await addDoc(_0x1fe693,_0x8df895),alert(_0xe2cea9(0x1b2)),closePreviewCommentPopup();}catch(_0x3e4a48){console[_0xe2cea9(0x17e)](_0xe2cea9(0x22f),_0x3e4a48),alert(_0xe2cea9(0x1b6)+_0x3e4a48[_0xe2cea9(0x289)]);}}function showFullCommentLightbox(_0x4c92d9){const _0x461695=a6_0x186f5d;if(isUsernameMuted(_0x4c92d9[_0x461695(0x27d)]))return;const _0x5dbf06=document[_0x461695(0x158)]('commentPopupPreview'),_0x298833=document[_0x461695(0x158)]('commentOverlayPreview'),_0x55e09f=document[_0x461695(0x158)](_0x461695(0x196)),_0x54cfcd=document[_0x461695(0x158)]('commentPopupContentPreview');if(!_0x5dbf06||!_0x298833||!_0x55e09f||!_0x54cfcd)return;_0x55e09f['style'][_0x461695(0x238)]=_0x461695(0x27f),_0x55e09f['textContent']='Comment\x20from\x20'+_0x4c92d9[_0x461695(0x27d)];if(_0x4c92d9[_0x461695(0x25e)]){const _0x1e3287=new Date(_0x4c92d9[_0x461695(0x25e)]['seconds']*0x3e8),_0x1b7aee=_0x1e3287[_0x461695(0x211)]();_0x54cfcd[_0x461695(0x15b)]=_0x461695(0x1b5)+_0x4c92d9[_0x461695(0x287)]+_0x461695(0x225)+_0x1b7aee+'</small>';}else _0x54cfcd['textContent']=_0x4c92d9[_0x461695(0x287)];_0x5dbf06[_0x461695(0x1d2)][_0x461695(0x1e3)]=_0x4c92d9['id']||'',_0x5dbf06[_0x461695(0x1d2)][_0x461695(0x1aa)]=_0x4c92d9[_0x461695(0x27d)]||'',_0x5dbf06[_0x461695(0x1d2)][_0x461695(0x195)]=_0x4c92d9[_0x461695(0x287)]||'',_0x5dbf06[_0x461695(0x1d2)][_0x461695(0x160)]=_0x4c92d9['matchId']||'';const _0x238646=_0x5dbf06[_0x461695(0x267)](_0x461695(0x20e))||document['createElement']('div');!_0x5dbf06[_0x461695(0x267)](_0x461695(0x20e))?(_0x238646['className']=_0x461695(0x1a8),_0x238646[_0x461695(0x1f2)][_0x461695(0x1ae)]=_0x461695(0x1df),_0x238646[_0x461695(0x1f2)]['justifyContent']=_0x461695(0x1db),_0x238646[_0x461695(0x1f2)]['gap']=_0x461695(0x173),_0x238646[_0x461695(0x1f2)][_0x461695(0x230)]='15px',_0x5dbf06[_0x461695(0x202)](_0x238646)):_0x238646[_0x461695(0x15b)]='';const _0x136607=document['createElement'](_0x461695(0x1eb));_0x136607[_0x461695(0x16a)]=_0x461695(0x19d),_0x136607[_0x461695(0x25d)]=_0x461695(0x26a),_0x136607['id']='closeCommentPopupPreview',_0x136607[_0x461695(0x21a)](_0x461695(0x21f),closePreviewCommentPopup);const _0x143195=document['createElement']('button');_0x143195[_0x461695(0x16a)]='Report',_0x143195[_0x461695(0x25d)]='popup-btn\x20report-btn',_0x143195['style']['backgroundColor']='#d32f2f',_0x143195[_0x461695(0x21a)](_0x461695(0x21f),reportComment),_0x238646[_0x461695(0x202)](_0x136607),_0x238646[_0x461695(0x202)](_0x143195),_0x5dbf06[_0x461695(0x1f2)][_0x461695(0x1ae)]=_0x461695(0x206),_0x298833['style']['display']='block';}export function setupPreviewEventListeners(){const _0x43fe7d=a6_0x186f5d,_0x1e3fc3=document[_0x43fe7d(0x158)](_0x43fe7d(0x1af)),_0x5995a3=document[_0x43fe7d(0x158)](_0x43fe7d(0x29a)),_0x598ff0=document[_0x43fe7d(0x158)]('preview-d1-button'),_0x11b15f=document['getElementById'](_0x43fe7d(0x161)),_0x383c4f=document[_0x43fe7d(0x158)](_0x43fe7d(0x1dc)),_0x5b8030=document['getElementById'](_0x43fe7d(0x284)),_0x6aa4ee=document['getElementById'](_0x43fe7d(0x18b));if(!_0x1e3fc3||!_0x5995a3||!_0x598ff0||!_0x11b15f||!_0x383c4f||!_0x5b8030||!_0x6aa4ee){console[_0x43fe7d(0x226)](_0x43fe7d(0x1b0));return;}_0x1e3fc3[_0x43fe7d(0x21a)](_0x43fe7d(0x21f),()=>{const _0xe3087c=_0x43fe7d;if(!_0x1e3fc3['disabled'])loadRecentMatchesPreview(_0xe3087c(0x1e1));}),_0x5995a3[_0x43fe7d(0x21a)]('click',()=>{const _0x5e1351=_0x43fe7d;if(!_0x5995a3[_0x5e1351(0x253)])loadRecentMatchesPreview(_0x5e1351(0x283));}),_0x598ff0['addEventListener']('click',()=>{const _0x5d9abf=_0x43fe7d;previewState['currentMode']!=='D1'&&!previewState[_0x5d9abf(0x187)]&&(previewState[_0x5d9abf(0x20f)]='D1',updatePreviewLadderModeUI(),loadRecentMatchesPreview(_0x5d9abf(0x1ca)));}),_0x11b15f[_0x43fe7d(0x21a)](_0x43fe7d(0x21f),()=>{const _0x2f4798=_0x43fe7d;previewState[_0x2f4798(0x20f)]!=='D2'&&!previewState[_0x2f4798(0x187)]&&(previewState['currentMode']='D2',updatePreviewLadderModeUI(),loadRecentMatchesPreview('current'));}),_0x383c4f[_0x43fe7d(0x21a)](_0x43fe7d(0x21f),()=>{const _0x3e80ee=_0x43fe7d;previewState[_0x3e80ee(0x20f)]!=='D3'&&!previewState[_0x3e80ee(0x187)]&&(previewState['currentMode']='D3',updatePreviewLadderModeUI(),loadRecentMatchesPreview(_0x3e80ee(0x1ca)));});_0x5b8030&&_0x6aa4ee&&_0x5b8030['addEventListener'](_0x43fe7d(0x21f),()=>{const _0x1bb6df=_0x43fe7d,_0x3952fb=_0x6aa4ee['style'][_0x1bb6df(0x1ae)]!==_0x1bb6df(0x274);_0x6aa4ee[_0x1bb6df(0x1f2)][_0x1bb6df(0x1ae)]=_0x3952fb?_0x1bb6df(0x274):'block',_0x5b8030[_0x1bb6df(0x279)][_0x1bb6df(0x216)](_0x1bb6df(0x24a),!_0x3952fb);});const _0x3933f2=document[_0x43fe7d(0x158)](_0x43fe7d(0x23c)),_0x3a9892=document[_0x43fe7d(0x158)]('clear-enhanced-filters');_0x3933f2&&_0x3933f2['addEventListener'](_0x43fe7d(0x21f),()=>{const _0x56b1dd=_0x43fe7d;previewState[_0x56b1dd(0x235)][_0x56b1dd(0x286)]=document[_0x56b1dd(0x158)]('filter-pilots')[_0x56b1dd(0x191)][_0x56b1dd(0x15d)](),previewState[_0x56b1dd(0x235)][_0x56b1dd(0x259)]=document['getElementById'](_0x56b1dd(0x243))[_0x56b1dd(0x191)][_0x56b1dd(0x15d)]();const _0x510bd4=document[_0x56b1dd(0x158)](_0x56b1dd(0x1a7));previewState[_0x56b1dd(0x235)][_0x56b1dd(0x1e5)]=Array[_0x56b1dd(0x294)](_0x510bd4[_0x56b1dd(0x1c1)])['map'](_0xf151ab=>_0xf151ab[_0x56b1dd(0x191)])[_0x56b1dd(0x200)](_0x54bf6c=>_0x54bf6c!==''),loadRecentMatchesPreview(_0x56b1dd(0x1ca));});_0x3a9892&&_0x3a9892[_0x43fe7d(0x21a)]('click',()=>{const _0x29cde8=_0x43fe7d;clearEnhancedFilters(),loadRecentMatchesPreview(_0x29cde8(0x1ca));});document['querySelectorAll'](_0x43fe7d(0x296))[_0x43fe7d(0x1fa)](_0xc8947e=>{const _0x3e3f9f=_0x43fe7d;_0xc8947e[_0x3e3f9f(0x21a)](_0x3e3f9f(0x21f),()=>{const _0x494d96=_0x3e3f9f,_0x711064=_0xc8947e['dataset'][_0x494d96(0x1da)];jumpToPage(_0x711064);});});const _0x263766=document[_0x43fe7d(0x158)]('jump-to-page');_0x263766&&_0x263766[_0x43fe7d(0x21a)]('keypress',_0x10497c=>{const _0x396fc5=_0x43fe7d;_0x10497c[_0x396fc5(0x246)]==='Enter'&&jumpToPage(_0x396fc5(0x1f3));});const _0xfe10df=document[_0x43fe7d(0x158)](_0x43fe7d(0x19f)),_0x4798e5=document['getElementById'](_0x43fe7d(0x255));if(_0xfe10df)_0xfe10df[_0x43fe7d(0x21a)](_0x43fe7d(0x21f),closePreviewCommentPopup);if(_0x4798e5)_0x4798e5[_0x43fe7d(0x21a)](_0x43fe7d(0x21f),closePreviewCommentPopup);const _0x1e77c9=document['getElementById'](_0x43fe7d(0x189)),_0x3d4251=document[_0x43fe7d(0x158)](_0x43fe7d(0x19c)),_0x38937a=document['getElementById'](_0x43fe7d(0x1d3));if(_0x1e77c9)_0x1e77c9['addEventListener']('click',closeAddCommentPopup);if(_0x3d4251)_0x3d4251[_0x43fe7d(0x21a)](_0x43fe7d(0x21f),closeAddCommentPopup);if(_0x38937a)_0x38937a['addEventListener']('submit',submitComment);const _0x1dcfec=document[_0x43fe7d(0x158)](_0x43fe7d(0x195)),_0x11a169=document[_0x43fe7d(0x158)](_0x43fe7d(0x166));_0x1dcfec&&_0x11a169&&setupWordCounter('commentText','wordCount',0xf);}function a6_0x1777(_0x4cd106,_0x10ccd2){const _0x601607=a6_0x307c();return a6_0x1777=function(_0x556f57,_0x2e54f3){_0x556f57=_0x556f57-0x152;let _0x2588b7=_0x601607[_0x556f57];return _0x2588b7;},a6_0x1777(_0x4cd106,_0x10ccd2);}window[a6_0x186f5d(0x18d)]=showAddCommentPopup,window['closeAddCommentPopup']=closeAddCommentPopup,window[a6_0x186f5d(0x22b)]=submitComment;