const a42p=a42b;(function(a,b){const n=a42b,c=a();while(!![]){try{const d=parseInt(n(0x14a))/0x1+-parseInt(n(0x132))/0x2*(-parseInt(n(0x151))/0x3)+-parseInt(n(0x139))/0x4*(-parseInt(n(0x160))/0x5)+-parseInt(n(0x163))/0x6*(-parseInt(n(0x130))/0x7)+-parseInt(n(0x155))/0x8+-parseInt(n(0x142))/0x9*(-parseInt(n(0x15b))/0xa)+-parseInt(n(0x131))/0xb;if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a42a,0x55906));import{initializeApp}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js';import{getAuth,onAuthStateChanged}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';function a42b(a,b){const c=a42a();return a42b=function(d,e){d=d-0x12e;let f=c[d];if(a42b['bHRcYS']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a42b['gFaCbU']=g,a=arguments,a42b['bHRcYS']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a42b['gFaCbU'](f),a[i]=f):f=j,f;},a42b(a,b);}import{getFirestore,doc,setDoc,getDoc,collection,getDocs,query,where}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{getStorage,ref,uploadBytes,getDownloadURL}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-storage.js';import{firebaseConfig}from'./firebase-config.js';function a42a(){const z=['C3rHDhmTD2LUCW','Bg9ZC2vZ','C3rHDhmTBg9ZC2vZ','zM9YBq','mZCWodKYq1DUDg9M','ChjVzMLSzs1WCMv2Awv3','zxHPC3rZ','re9nq29UDgvUDeXVywrLza','Dgv4DenVBNrLBNq','zM9YrwfJAa','Bg9ZzxjvC2vYBMfTzq','zxjYB3i','AgfUzgXLsw1Hz2vvCgXVywq','oufXC1vUAa','C3rHDhmT','z2v0rwXLBwvUDej5swq','Bg9HzfbYB2zPBgu','D2LUBMvYu2nVCMu','ywXS','ChjVzMLSzs1WAwn0DxjLCY8','Dg9gAxHLza','mZaZnZu3A3LkzwDo','CgzWvxjS','Bwf0y2HLCW','CgzWuhjLDMLLDW','Bg9Zzxjty29Yzq','Bg9N','ChjVzMLSzs1MB3jT','mJG1nte2ugHszerI','DMfSDwu','C2v0DxbfDMvUDeXPC3rLBMvYCW','DwLK','ntqWotiYnhLftLPfqG','BMLJA25HBwu','ywrKrxzLBNrmAxn0zw5LCG','rxjYB3iGC2f2Aw5NihbYB2zPBgu6','z2v0','DgfYz2v0','ndy3mtGZmgrnu0Tjyq','B25SB2fK','AgfUzgXLu3vIBwL0','zgf0yq','yxbWCM92zwrnyxrJAgvZ','nvnZvLzNwa','Bg9HzfbSyxLLCLn0yxrZ','ChjLDMvUDerLzMf1Bhq','ndj2Egvwy2K','zMf2B3jPDguTD2vHCg9U','Dg9ju09tDhjPBMC','ChjVzMLSzxm','nJy2mZG2BxfpEuvm','otCYnti1nhHHAhf3uW','oe51wfzlAa','rxjYB3iGC2f2Aw5NihbYB2zPBguUifbSzwfZzsb0CNKGywDHAw4U','Bw90Dg8'];a42a=function(){return z;};return a42a();}const app=initializeApp(firebaseConfig),auth=getAuth(app),db=getFirestore(app),storage=getStorage(app);class ProfileManager{constructor(){const o=a42b;this['form']=document[o(0x144)](o(0x150)),this['pfpInput']=document[o(0x144)]('pfp-upload'),this[o(0x14d)]=document['getElementById'](o(0x13a)),this['statsContainer']=document['getElementById']('player-stats'),this[o(0x153)](),this[o(0x145)]();}[a42p(0x153)](){const q=a42p;this['pfpInput']['addEventListener']('change',a=>this['handleImageUpload'](a)),this['form']['addEventListener']('submit',a=>this[q(0x15d)](a));}async[a42p(0x141)](a){const r=a42p,b=a[r(0x15a)]['files'][0x0];if(b){const c=new FileReader();c[r(0x15c)]=d=>{const s=r;this['pfpPreview']['src']=d[s(0x15a)]['result'];},c['readAsDataURL'](b);}}async['handleSubmit'](a){const t=a42p;a[t(0x162)]();const b=auth['currentUser'];if(!b){alert('Please\x20sign\x20in\x20to\x20save\x20your\x20profile');return;}try{const c=new FormData(this[t(0x138)]),d={'nickname':c[t(0x159)]('nickname'),'motto':c['get']('motto'),'favoriteMap':c[t(0x159)]('favorite-map'),'favoriteWeapon':c[t(0x159)](t(0x164)),'updatedAt':new Date()[t(0x12e)]()},e=this['pfpInput']['files'][0x0];if(e){const f=ref(storage,t(0x148)+b[t(0x154)]);await uploadBytes(f,e),d[t(0x14b)]=await getDownloadURL(f);}await setDoc(doc(db,t(0x12f),b['uid']),d),alert('Profile\x20saved\x20successfully!');}catch(g){console[t(0x140)](t(0x158),g),alert(t(0x133));}}async[a42p(0x145)](){onAuthStateChanged(auth,async a=>{const u=a42b;if(a)try{const b=await getDoc(doc(db,'profiles',a[u(0x154)]));if(b[u(0x13b)]()){const c=b[u(0x15e)]();document['getElementById'](u(0x156))[u(0x152)]=c[u(0x156)]||'',document['getElementById']('motto')[u(0x152)]=c[u(0x134)]||'',document['getElementById']('favorite-map')['value']=c['favoriteMap']||'',document['getElementById'](u(0x164))[u(0x152)]=c['favoriteWeapon']||'',c[u(0x14b)]&&(this['pfpPreview']['src']=c[u(0x14b)]),await this[u(0x161)](c[u(0x156)]);}}catch(d){console[u(0x140)]('Error\x20loading\x20profile:',d);}});}async['loadPlayerStats'](a){const v=a42p;if(!a)return;try{const b=collection(db,v(0x15f)),[c,d]=await Promise[v(0x147)]([getDocs(query(b,where('winnerUsername','==',a))),getDocs(query(b,where(v(0x13f),'==',a)))]),e=c['size'],f=d['size'],g=e+f;let h=0x0,i=0x0;c['forEach'](l=>{const w=v,m=l['data']();if(m['winnerScore'])h+=parseInt(m[w(0x146)]);if(m['loserScore'])i+=parseInt(m['loserScore']);}),d[v(0x13e)](l=>{const x=v,m=l[x(0x15e)]();if(m['loserScore'])h+=parseInt(m[x(0x14e)]);if(m['winnerScore'])i+=parseInt(m[x(0x146)]);});const j=i===0x0?h['toFixed'](0x2):(h/ i)[v(0x149)](0x2),k=g===0x0?'0':(e/g*0x64)['toFixed'](0x1);console[v(0x14f)]('Stats\x20calculated:',{'totalMatches':g,'wins':e,'losses':f,'totalKills':h,'totalDeaths':i,'kdRatio':j,'winRate':k}),document['getElementById']('stats-matches')['textContent']=g,document['getElementById'](v(0x135))['textContent']=e,document['getElementById'](v(0x137))['textContent']=f,document['getElementById']('stats-kd')[v(0x13d)]=j,document[v(0x144)]('stats-winrate')['textContent']=k+'%';}catch(l){console['error']('Error\x20loading\x20player\x20stats:',l),[v(0x14c),'wins',v(0x136),'kd','winrate'][v(0x13e)](m=>{const y=v;document['getElementById'](y(0x143)+m)[y(0x13d)]='-';});}}}document[a42p(0x157)](a42p(0x13c),()=>{new ProfileManager();});