const a24_0x1854d3=a24_0x5890;import a24_0x395dae,{enhanceIdleTimeout}from'./firebase-idle-wrapper.js';const IDLE_TIMEOUT=0xea60;let idleTimer=null,isSessionSuspended=![],networkErrorRetryCount=0x0;const MAX_NETWORK_RETRIES=0x3;function createIdleOverlay(){const _0x5f4c95=a24_0x5890;if(document[_0x5f4c95(0x117)](_0x5f4c95(0x181)))return;const _0x1975fa=document[_0x5f4c95(0x14d)](_0x5f4c95(0x152));_0x1975fa['id']=_0x5f4c95(0x181),_0x1975fa[_0x5f4c95(0x144)][_0x5f4c95(0x161)]=_0x5f4c95(0x114);const _0xe7a61=document[_0x5f4c95(0x14d)](_0x5f4c95(0x152));_0xe7a61[_0x5f4c95(0x144)][_0x5f4c95(0x161)]=_0x5f4c95(0x13a);const _0x4714ca=document[_0x5f4c95(0x14d)]('h2');_0x4714ca[_0x5f4c95(0x148)]=_0x5f4c95(0x12a),_0x4714ca[_0x5f4c95(0x144)][_0x5f4c95(0x161)]=_0x5f4c95(0x168);const _0x12b322=document[_0x5f4c95(0x14d)]('p');_0x12b322[_0x5f4c95(0x148)]=_0x5f4c95(0x12e),_0x12b322[_0x5f4c95(0x144)][_0x5f4c95(0x161)]=_0x5f4c95(0x162);const _0x4a4f76=document[_0x5f4c95(0x14d)](_0x5f4c95(0x186));_0x4a4f76['id']=_0x5f4c95(0x175),_0x4a4f76[_0x5f4c95(0x148)]=_0x5f4c95(0x176),_0x4a4f76[_0x5f4c95(0x144)][_0x5f4c95(0x161)]=_0x5f4c95(0x17f),_0x4a4f76[_0x5f4c95(0x131)]=function(){const _0x4f6053=_0x5f4c95;this[_0x4f6053(0x144)][_0x4f6053(0x177)]=_0x4f6053(0x151);},_0x4a4f76[_0x5f4c95(0x11e)]=function(){const _0x595520=_0x5f4c95;this[_0x595520(0x144)][_0x595520(0x177)]=_0x595520(0x173);},_0xe7a61[_0x5f4c95(0x127)](_0x4714ca),_0xe7a61[_0x5f4c95(0x127)](_0x12b322),_0xe7a61[_0x5f4c95(0x127)](_0x4a4f76),_0x1975fa[_0x5f4c95(0x127)](_0xe7a61),document[_0x5f4c95(0x163)][_0x5f4c95(0x127)](_0x1975fa),_0x4a4f76[_0x5f4c95(0x146)](_0x5f4c95(0x14b),resumeSession),createNetworkErrorOverlay();}function createNetworkErrorOverlay(){const _0x4af2dc=a24_0x5890;if(document[_0x4af2dc(0x117)](_0x4af2dc(0x14e)))return;const _0x2c45f1=document[_0x4af2dc(0x14d)](_0x4af2dc(0x152));_0x2c45f1['id']=_0x4af2dc(0x14e),_0x2c45f1[_0x4af2dc(0x144)][_0x4af2dc(0x161)]=_0x4af2dc(0x114);const _0x259a80=document[_0x4af2dc(0x14d)](_0x4af2dc(0x152));_0x259a80[_0x4af2dc(0x144)][_0x4af2dc(0x161)]=_0x4af2dc(0x13a);const _0x339f09=document[_0x4af2dc(0x14d)]('h2');_0x339f09[_0x4af2dc(0x148)]=_0x4af2dc(0x11b),_0x339f09[_0x4af2dc(0x144)][_0x4af2dc(0x161)]=_0x4af2dc(0x136);const _0x1ba4a8=document[_0x4af2dc(0x14d)]('p');_0x1ba4a8[_0x4af2dc(0x148)]=_0x4af2dc(0x12c),_0x1ba4a8[_0x4af2dc(0x144)][_0x4af2dc(0x161)]=_0x4af2dc(0x162);const _0x382aa1=document[_0x4af2dc(0x14d)](_0x4af2dc(0x186));_0x382aa1['id']=_0x4af2dc(0x15a),_0x382aa1[_0x4af2dc(0x148)]=_0x4af2dc(0x119),_0x382aa1[_0x4af2dc(0x144)][_0x4af2dc(0x161)]=_0x4af2dc(0x124);const _0x395b37=document[_0x4af2dc(0x14d)](_0x4af2dc(0x186));_0x395b37['id']=_0x4af2dc(0x17d),_0x395b37[_0x4af2dc(0x148)]=_0x4af2dc(0x187),_0x395b37[_0x4af2dc(0x144)][_0x4af2dc(0x161)]=_0x4af2dc(0x164);const _0x488a8f=document[_0x4af2dc(0x14d)](_0x4af2dc(0x152));_0x488a8f[_0x4af2dc(0x144)][_0x4af2dc(0x161)]=_0x4af2dc(0x16a),_0x488a8f[_0x4af2dc(0x127)](_0x382aa1),_0x488a8f[_0x4af2dc(0x127)](_0x395b37),_0x259a80[_0x4af2dc(0x127)](_0x339f09),_0x259a80[_0x4af2dc(0x127)](_0x1ba4a8),_0x259a80[_0x4af2dc(0x127)](_0x488a8f),_0x2c45f1[_0x4af2dc(0x127)](_0x259a80),document[_0x4af2dc(0x163)][_0x4af2dc(0x127)](_0x2c45f1),_0x382aa1[_0x4af2dc(0x146)](_0x4af2dc(0x14b),retryConnection),_0x395b37[_0x4af2dc(0x146)](_0x4af2dc(0x14b),()=>window[_0x4af2dc(0x149)][_0x4af2dc(0x185)]());}function resetIdleTimer(){if(isSessionSuspended)return;clearTimeout(idleTimer),idleTimer=setTimeout(suspendSession,IDLE_TIMEOUT);}function handleNetworkError(){const _0x542129=a24_0x5890;clearTimeout(idleTimer);const _0x12bceb=document[_0x542129(0x117)](_0x542129(0x14e));_0x12bceb&&(_0x12bceb[_0x542129(0x144)][_0x542129(0x158)]=_0x542129(0x11c)),window[_0x542129(0x13f)]=!![],console[_0x542129(0x167)](_0x542129(0x16d)),a24_0x395dae[_0x542129(0x17b)]();}function retryConnection(){const _0x1d772b=a24_0x5890;networkErrorRetryCount++;if(networkErrorRetryCount>MAX_NETWORK_RETRIES){const _0x2bc30a=document[_0x1d772b(0x12b)](_0x1d772b(0x18a));_0x2bc30a&&(_0x2bc30a[_0x1d772b(0x148)]=_0x1d772b(0x16b));const _0x220a31=document[_0x1d772b(0x117)](_0x1d772b(0x15a));_0x220a31&&(_0x220a31[_0x1d772b(0x157)]=!![],_0x220a31[_0x1d772b(0x144)][_0x1d772b(0x169)]=_0x1d772b(0x14f),_0x220a31[_0x1d772b(0x144)][_0x1d772b(0x17a)]=_0x1d772b(0x118));return;}const _0x127a8c=document[_0x1d772b(0x117)](_0x1d772b(0x14e));_0x127a8c&&(_0x127a8c[_0x1d772b(0x144)][_0x1d772b(0x158)]=_0x1d772b(0x120));window[_0x1d772b(0x13f)]=![],resetIdleTimer(),console[_0x1d772b(0x167)](_0x1d772b(0x15d));try{const {rdlFirestore:_0x528858}=window;if(_0x528858){const _0x52a5dc=_0x528858[_0x1d772b(0x14c)](_0x1d772b(0x128));_0x528858[_0x1d772b(0x140)](_0x52a5dc)[_0x1d772b(0x15e)](_0x21df4d=>{const _0x1a0356=_0x1d772b;console[_0x1a0356(0x179)](_0x1a0356(0x150),_0x21df4d),handleNetworkError();});}}catch(_0x19d62a){console[_0x1d772b(0x179)](_0x1d772b(0x11d),_0x19d62a),handleNetworkError();}a24_0x395dae[_0x1d772b(0x189)]();}function suspendSession(){const _0x5cd69d=a24_0x5890;isSessionSuspended=!![];const _0x1c727c=document[_0x5cd69d(0x117)](_0x5cd69d(0x181));_0x1c727c&&(_0x1c727c[_0x5cd69d(0x144)][_0x5cd69d(0x158)]=_0x5cd69d(0x11c)),console[_0x5cd69d(0x167)](_0x5cd69d(0x125)),window[_0x5cd69d(0x115)]=!![],a24_0x395dae[_0x5cd69d(0x17b)](),typeof window[_0x5cd69d(0x14a)]===_0x5cd69d(0x171)&&window[_0x5cd69d(0x14a)]();}function a24_0x5a9f(){const _0x408329=['Session\x20suspended:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20rgba(0,\x200,\x200,\x200.85);\x0a\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x209999;\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20backdrop-filter:\x20blur(5px);\x0a\x20\x20\x20\x20','RDL_SESSION_SUSPENDED','RDL_LAST_ACTIVITY','getElementById','not-allowed','Retry\x20Connection','__proto__','Connection\x20Error','flex','Failed\x20to\x20test\x20connection:','onmouseout','network','none','Forcing\x20idle\x20timeout...','apply','warn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#ff5555;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-right:\x2010px;\x0a\x20\x20\x20\x20','Session\x20suspended\x20due\x20to\x20inactivity','unavailable','appendChild','system','touchstart','Session\x20Suspended\x20Due\x20to\x20Inactivity','querySelector','We\x27re\x20having\x20trouble\x20connecting\x20to\x20the\x20server.\x20This\x20may\x20be\x20due\x20to\x20network\x20issues\x20or\x20server\x20maintenance.','now','Your\x20session\x20has\x20been\x20suspended\x20after\x201\x20minutes\x20of\x20inactivity\x20for\x20security\x20reasons.','bind','from','onmouseover','length','keypress','Active\x20listeners:','mousedown','color:\x20#ff5555;\x20margin-bottom:\x2020px;\x20font-size:\x2024px;','return\x20(function()\x20','constructor','keys','\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#202020;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2030px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20500px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x200\x2020px\x20rgba(0,\x200,\x200,\x200.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20','Pending\x20operations:','scroll','includes','resumeSession','RDL_NETWORK_ERROR','getDocs','size','resource-exhausted','checkFirebaseIdleStatus','style','Blocked\x20operations:','addEventListener','pendingOperations','textContent','location','suspendRetroTracker','click','collection','createElement','network-error-overlay','0.5','Connection\x20test\x20failed:','#3da05f','div','readyState','table','console','toString','disabled','display','Session\x20was\x20idle\x20for\x20too\x20long,\x20reloading\x20page','retry-connection-btn','prototype','DOMContentLoaded','Retrying\x20connection...','catch','Network\x20error:','forEach','cssText','color:\x20#fff;\x20margin-bottom:\x2030px;','body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#5555ff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#fff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s;\x0a\x20\x20\x20\x20','suspendSession','resumeRetroTracker','log','color:\x20#50C878;\x20margin-bottom:\x2020px;\x20font-size:\x2024px;','opacity','display:\x20flex;\x20justify-content:\x20center;\x20gap:\x2010px;','Multiple\x20connection\x20attempts\x20failed.\x20Please\x20reload\x20the\x20page\x20or\x20try\x20again\x20later.','Idle\x20timeout\x20initialized:','Network\x20error\x20detected,\x20showing\x20error\x20overlay','forceIdleTimeout','{}.constructor(\x22return\x20this\x22)(\x20)','Session\x20resumed','function','message','#50C878','trace','resume-session-btn','Return\x20to\x20Website','backgroundColor','preventDefault','error','cursor','suspendAllListeners','code','reload-page-btn','activeListeners','\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#50C878;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s;\x0a\x20\x20\x20\x20','mousemove','idle-overlay','blockedOperations','info','exception','reload','button','Reload\x20Page','loading','resumeAllListeners','#network-error-overlay\x20p'];a24_0x5a9f=function(){return _0x408329;};return a24_0x5a9f();}function resumeSession(){const _0x2fae31=a24_0x5890;isSessionSuspended=![],window[_0x2fae31(0x115)]=![];const _0x360dcc=document[_0x2fae31(0x117)](_0x2fae31(0x181));_0x360dcc&&(_0x360dcc[_0x2fae31(0x144)][_0x2fae31(0x158)]=_0x2fae31(0x120)),console[_0x2fae31(0x167)](_0x2fae31(0x170)),resetIdleTimer(),a24_0x395dae[_0x2fae31(0x189)](),typeof window[_0x2fae31(0x166)]===_0x2fae31(0x171)&&window[_0x2fae31(0x166)](),idleTimer&&Date[_0x2fae31(0x12d)]()-(window[_0x2fae31(0x116)]||0x0)>IDLE_TIMEOUT*0x2&&(console[_0x2fae31(0x167)](_0x2fae31(0x159)),window[_0x2fae31(0x149)][_0x2fae31(0x185)]());}function a24_0x5890(_0x3271f9,_0x3335a0){_0x3271f9=_0x3271f9-0x113;const _0x5841cc=a24_0x5a9f();let _0x4e4ff1=_0x5841cc[_0x3271f9];return _0x4e4ff1;}function initIdleTimeout(){const _0x55223b=a24_0x5890,_0x2f8932=(function(){let _0x2fc6bd=!![];return function(_0x44749e,_0x596ca8){const _0x3787f5=_0x2fc6bd?function(){const _0x158e66=a24_0x5890;if(_0x596ca8){const _0x55795f=_0x596ca8[_0x158e66(0x122)](_0x44749e,arguments);return _0x596ca8=null,_0x55795f;}}:function(){};return _0x2fc6bd=![],_0x3787f5;};}()),_0x51a83b=_0x2f8932(this,function(){const _0x536b47=a24_0x5890,_0x50aebd=function(){const _0x37658c=a24_0x5890;let _0x2d4254;try{_0x2d4254=Function(_0x37658c(0x137)+_0x37658c(0x16f)+');')();}catch(_0x12bcc0){_0x2d4254=window;}return _0x2d4254;},_0x16878a=_0x50aebd(),_0x345bab=_0x16878a[_0x536b47(0x155)]=_0x16878a[_0x536b47(0x155)]||{},_0x146c39=[_0x536b47(0x167),_0x536b47(0x123),_0x536b47(0x183),_0x536b47(0x179),_0x536b47(0x184),_0x536b47(0x154),_0x536b47(0x174)];for(let _0x10b85a=0x0;_0x10b85a<_0x146c39[_0x536b47(0x132)];_0x10b85a++){const _0x5c7ed8=_0x2f8932[_0x536b47(0x138)][_0x536b47(0x15b)][_0x536b47(0x12f)](_0x2f8932),_0x3655c4=_0x146c39[_0x10b85a],_0x48058a=_0x345bab[_0x3655c4]||_0x5c7ed8;_0x5c7ed8[_0x536b47(0x11a)]=_0x2f8932[_0x536b47(0x12f)](_0x2f8932),_0x5c7ed8[_0x536b47(0x156)]=_0x48058a[_0x536b47(0x156)][_0x536b47(0x12f)](_0x48058a),_0x345bab[_0x3655c4]=_0x5c7ed8;}});_0x51a83b(),createIdleOverlay();const _0xf95bb6=[_0x55223b(0x135),_0x55223b(0x180),_0x55223b(0x133),_0x55223b(0x13c),_0x55223b(0x129),_0x55223b(0x14b)];_0xf95bb6[_0x55223b(0x160)](_0x224560=>{const _0x210b04=_0x55223b;document[_0x210b04(0x146)](_0x224560,()=>{const _0x59843d=_0x210b04;window[_0x59843d(0x116)]=Date[_0x59843d(0x12d)](),resetIdleTimer();},!![]);}),window[_0x55223b(0x146)](_0x55223b(0x179),function(_0x102095){const _0x2ca15a=_0x55223b;_0x102095[_0x2ca15a(0x179)]&&(_0x102095[_0x2ca15a(0x179)][_0x2ca15a(0x172)]&&_0x102095[_0x2ca15a(0x179)][_0x2ca15a(0x172)][_0x2ca15a(0x13d)](_0x2ca15a(0x11f))||_0x102095[_0x2ca15a(0x179)][_0x2ca15a(0x17c)]&&(_0x102095[_0x2ca15a(0x179)][_0x2ca15a(0x17c)]===_0x2ca15a(0x126)||_0x102095[_0x2ca15a(0x179)][_0x2ca15a(0x17c)]===_0x2ca15a(0x142)||_0x102095[_0x2ca15a(0x179)][_0x2ca15a(0x17c)][_0x2ca15a(0x13d)](_0x2ca15a(0x11f))))&&(handleNetworkError(),_0x102095[_0x2ca15a(0x178)]());}),resetIdleTimer(),console[_0x55223b(0x167)](_0x55223b(0x16c),IDLE_TIMEOUT,'ms'),window[_0x55223b(0x165)]=suspendSession,window[_0x55223b(0x13e)]=resumeSession,enhanceIdleTimeout(),window[_0x55223b(0x143)]=function(){const _0x50e3da=_0x55223b;return console[_0x50e3da(0x167)](_0x50e3da(0x113),window[_0x50e3da(0x115)]),console[_0x50e3da(0x167)](_0x50e3da(0x15f),window[_0x50e3da(0x13f)]),console[_0x50e3da(0x167)](_0x50e3da(0x134),a24_0x395dae[_0x50e3da(0x17e)][_0x50e3da(0x141)]),console[_0x50e3da(0x167)](_0x50e3da(0x13b),a24_0x395dae[_0x50e3da(0x147)][_0x50e3da(0x141)]),console[_0x50e3da(0x167)](_0x50e3da(0x145),a24_0x395dae[_0x50e3da(0x182)]||0x0),{'suspended':window[_0x50e3da(0x115)],'networkError':window[_0x50e3da(0x13f)],'activeListeners':Array[_0x50e3da(0x130)](a24_0x395dae[_0x50e3da(0x17e)][_0x50e3da(0x139)]()),'pendingOperations':Array[_0x50e3da(0x130)](a24_0x395dae[_0x50e3da(0x147)][_0x50e3da(0x139)]()),'blockedCount':a24_0x395dae[_0x50e3da(0x182)]||0x0};},window[_0x55223b(0x16e)]=function(){const _0x425866=_0x55223b;console[_0x425866(0x167)](_0x425866(0x121)),suspendSession();};}export{initIdleTimeout,isSessionSuspended,handleNetworkError};document[a24_0x1854d3(0x153)]===a24_0x1854d3(0x188)?document[a24_0x1854d3(0x146)](a24_0x1854d3(0x15c),initIdleTimeout):initIdleTimeout();