const a20_0x25995e=a20_0x2054,a20_0x2cebb7=(function(){let _0x3ad23b=!![];return function(_0x97a7cb,_0x49c991){const _0x296123=_0x3ad23b?function(){if(_0x49c991){const _0x3fe6d5=_0x49c991['apply'](_0x97a7cb,arguments);return _0x49c991=null,_0x3fe6d5;}}:function(){};return _0x3ad23b=![],_0x296123;};}()),a20_0x37e064=a20_0x2cebb7(this,function(){const _0x3948b1=a20_0x2054;let _0x259674;try{const _0x46fe2e=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x259674=_0x46fe2e();}catch(_0x467b55){_0x259674=window;}const _0x15ae01=_0x259674['console']=_0x259674['console']||{},_0x31f217=[_0x3948b1(0xe6),'warn','info','error','exception',_0x3948b1(0xec),_0x3948b1(0xf8)];for(let _0x22cd5a=0x0;_0x22cd5a<_0x31f217['length'];_0x22cd5a++){const _0x4f62df=a20_0x2cebb7['constructor']['prototype']['bind'](a20_0x2cebb7),_0x4cbaca=_0x31f217[_0x22cd5a],_0x4b57c7=_0x15ae01[_0x4cbaca]||_0x4f62df;_0x4f62df['__proto__']=a20_0x2cebb7['bind'](a20_0x2cebb7),_0x4f62df[_0x3948b1(0xed)]=_0x4b57c7[_0x3948b1(0xed)]['bind'](_0x4b57c7),_0x15ae01[_0x4cbaca]=_0x4f62df;}});a20_0x37e064();function a20_0x2054(_0x4cd6f0,_0xb7e2a2){const _0x37e064=a20_0x3798();return a20_0x2054=function(_0x2cebb7,_0xd902f){_0x2cebb7=_0x2cebb7-0xe6;let _0x37987a=_0x37e064[_0x2cebb7];return _0x37987a;},a20_0x2054(_0x4cd6f0,_0xb7e2a2);}import{collection as a20_0x698b5a,doc as a20_0x4ff96d,getDoc as a20_0x41989b,getDocs as a20_0x53c6e4,query as a20_0x26e0ce,where as a20_0x381531,orderBy as a20_0x22b812,limit as a20_0x213470,startAfter as a20_0x39a13e,addDoc as a20_0x1e5fc6,updateDoc as a20_0x292d39,deleteDoc as a20_0x4ccdd1,writeBatch as a20_0x1114fa,serverTimestamp as a20_0x28c822,Timestamp as a20_0x47e9b2,getCountFromServer as a20_0x548525,setDoc as a20_0x3055c9,enableNetwork,disableNetwork}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db}from'./firebase-config.js';import{handleNetworkError}from'./idle-timeout.js';function checkSessionStatus(){const _0x2e7b8c=a20_0x2054;if(window[_0x2e7b8c(0xf1)]){console['warn']('Firestore\x20operation\x20blocked\x20-\x20session\x20suspended');const _0x2d9ee4=new Error(_0x2e7b8c(0xe7));_0x2d9ee4[_0x2e7b8c(0xf2)]='session-suspended';throw _0x2d9ee4;}if(window['RDL_NETWORK_ERROR']){console['warn']('Firestore\x20operation\x20blocked\x20-\x20network\x20error');const _0x5508c5=new Error('Network\x20connection\x20error.\x20Please\x20check\x20your\x20internet\x20connection.');_0x5508c5['code']='network-error';throw _0x5508c5;}}async function handleFirestoreError(_0x22b780){const _0x5c06d5=a20_0x2054;console['error']('Firestore\x20operation\x20failed:',_0x22b780);if(_0x22b780&&(_0x22b780['code']===_0x5c06d5(0xef)||_0x22b780[_0x5c06d5(0xf2)]==='resource-exhausted'||_0x22b780[_0x5c06d5(0xf3)]&&_0x22b780['message'][_0x5c06d5(0xea)](_0x5c06d5(0xe9))||_0x22b780['code']&&_0x22b780['code']['includes'](_0x5c06d5(0xe9))))return console['warn'](_0x5c06d5(0xeb)),handleNetworkError(),!![];return![];}export const rdlFirestore={'collection':function(){const _0x437ed6=a20_0x2054;if(arguments['length']===0x1){if(typeof arguments[0x0]===_0x437ed6(0xf6))return a20_0x698b5a(db,arguments[0x0]);return arguments[0x0];}else{if(arguments['length']===0x2&&arguments[0x0]===db&&typeof arguments[0x1]==='string')return a20_0x698b5a(db,arguments[0x1]);}return a20_0x698b5a['apply'](null,arguments);},'doc':function(){const _0x19bb55=a20_0x2054;if(arguments['length']===0x2){if(typeof arguments[0x0]==='string'&&typeof arguments[0x1]==='string')return a20_0x4ff96d(db,arguments[0x0],arguments[0x1]);return a20_0x4ff96d['apply'](null,arguments);}else{if(arguments[_0x19bb55(0xf0)]===0x3&&arguments[0x0]===db)return a20_0x4ff96d['apply'](null,arguments);}return a20_0x4ff96d['apply'](null,arguments);},'query':function(){return a20_0x26e0ce['apply'](null,arguments);},'where':function(){return a20_0x381531['apply'](null,arguments);},'orderBy':function(){return a20_0x22b812['apply'](null,arguments);},'limit':function(_0x5117eb){return a20_0x213470(_0x5117eb);},'startAfter':function(_0x3d6d2f){return a20_0x39a13e(_0x3d6d2f);},'getDoc':async function(_0x514aae){try{return checkSessionStatus(),await a20_0x41989b(_0x514aae);}catch(_0x2d8f2e){const _0x3fa0f1=await handleFirestoreError(_0x2d8f2e);_0x3fa0f1&&(_0x2d8f2e['code']='network-error');throw _0x2d8f2e;}},'getDocs':async function(_0x1aa5c5){const _0x32d989=a20_0x2054;try{return checkSessionStatus(),await a20_0x53c6e4(_0x1aa5c5);}catch(_0x7c032b){const _0x5dee53=await handleFirestoreError(_0x7c032b);_0x5dee53&&(_0x7c032b[_0x32d989(0xf2)]='network-error');throw _0x7c032b;}},'getCountFromServer':async function(_0x326250){const _0x42ffab=a20_0x2054;try{return checkSessionStatus(),await a20_0x548525(_0x326250);}catch(_0x36e83c){const _0x912f53=await handleFirestoreError(_0x36e83c);_0x912f53&&(_0x36e83c['code']=_0x42ffab(0xe8));throw _0x36e83c;}},'addDoc':async function(_0x43f4e2,_0x2ace0b){try{return checkSessionStatus(),await a20_0x1e5fc6(_0x43f4e2,_0x2ace0b);}catch(_0x1262d5){const _0x40e99d=await handleFirestoreError(_0x1262d5);_0x40e99d&&(_0x1262d5['code']='network-error');throw _0x1262d5;}},'setDoc':async function(_0x377467,_0xd61b30,_0x348a57){try{return checkSessionStatus(),await a20_0x3055c9(_0x377467,_0xd61b30,_0x348a57);}catch(_0x10f391){const _0x15c905=await handleFirestoreError(_0x10f391);_0x15c905&&(_0x10f391['code']='network-error');throw _0x10f391;}},'updateDoc':async function(_0x4f6928,_0x488cfd){const _0x361643=a20_0x2054;try{return checkSessionStatus(),await a20_0x292d39(_0x4f6928,_0x488cfd);}catch(_0x3eef84){const _0x3feb2f=await handleFirestoreError(_0x3eef84);_0x3feb2f&&(_0x3eef84['code']=_0x361643(0xe8));throw _0x3eef84;}},'deleteDoc':async function(_0x58be0f){const _0x3ec096=a20_0x2054;try{return checkSessionStatus(),await a20_0x4ccdd1(_0x58be0f);}catch(_0x23baec){const _0x321e69=await handleFirestoreError(_0x23baec);_0x321e69&&(_0x23baec[_0x3ec096(0xf2)]='network-error');throw _0x23baec;}},'writeBatch':function(){const _0xdd4768=a20_0x2054;checkSessionStatus();const _0x52a41b=a20_0x1114fa(db),_0x573c57=_0x52a41b[_0xdd4768(0xee)]['bind'](_0x52a41b);return _0x52a41b[_0xdd4768(0xee)]=async function(){try{return checkSessionStatus(),await _0x573c57();}catch(_0x15e7a6){const _0x3ab556=await handleFirestoreError(_0x15e7a6);_0x3ab556&&(_0x15e7a6['code']='network-error');throw _0x15e7a6;}},_0x52a41b;},'serverTimestamp':function(){return a20_0x28c822();},'Timestamp':{'now':function(){return a20_0x47e9b2['now']();},'fromDate':function(_0x909e01){return a20_0x47e9b2['fromDate'](_0x909e01);}},'enableNetwork':async function(){try{return await enableNetwork(db);}catch(_0x3289d3){console['error']('Failed\x20to\x20enable\x20network:',_0x3289d3);throw _0x3289d3;}},'disableNetwork':async function(){try{return await disableNetwork(db);}catch(_0x7182c5){console['error']('Failed\x20to\x20disable\x20network:',_0x7182c5);throw _0x7182c5;}}};window['addEventListener'](a20_0x25995e(0xf7),function(_0x2dd9b1){const _0x47a010=a20_0x25995e;if(_0x2dd9b1[_0x47a010(0xf7)]){if(_0x2dd9b1['error']['code']==='session-suspended')_0x2dd9b1[_0x47a010(0xf4)](),console[_0x47a010(0xe6)]('Caught\x20session\x20suspended\x20error:',_0x2dd9b1['error']['message']);else(_0x2dd9b1['error'][_0x47a010(0xf2)]===_0x47a010(0xef)||_0x2dd9b1['error']['code']==='resource-exhausted'||_0x2dd9b1['error'][_0x47a010(0xf3)]&&_0x2dd9b1[_0x47a010(0xf7)]['message']['includes'](_0x47a010(0xe9))||_0x2dd9b1['error']['code']&&_0x2dd9b1[_0x47a010(0xf7)]['code'][_0x47a010(0xea)]('network'))&&(_0x2dd9b1['preventDefault'](),console['log'](_0x47a010(0xf5),_0x2dd9b1[_0x47a010(0xf7)]['message']),handleNetworkError());}}),window['rdlFirestore']=rdlFirestore,console[a20_0x25995e(0xe6)]('Firestore\x20wrapper\x20initialized\x20with\x20session\x20checking\x20and\x20network\x20error\x20handling');function a20_0x3798(){const _0x422b2f=['log','Session\x20suspended\x20due\x20to\x20inactivity.\x20Please\x20resume\x20your\x20session.','network-error','network','includes','Network-related\x20error\x20detected,\x20suspending\x20operations','table','toString','commit','unavailable','length','RDL_SESSION_SUSPENDED','code','message','preventDefault','Caught\x20network\x20error:','string','error','trace'];a20_0x3798=function(){return _0x422b2f;};return a20_0x3798();}