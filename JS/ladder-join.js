const a25_0x2fb84c=a25_0xde44;function a25_0xde44(_0x2f1239,_0xfd1148){const _0x51c12f=a25_0x2021();return a25_0xde44=function(_0x4cd69f,_0x1e2f7e){_0x4cd69f=_0x4cd69f-0x65;let _0x31587b=_0x51c12f[_0x4cd69f];return _0x31587b;},a25_0xde44(_0x2f1239,_0xfd1148);}(function(_0x321b96,_0x30ea46){const _0x170b5e=a25_0xde44,_0x4d387c=_0x321b96();while(!![]){try{const _0xfe544f=parseInt(_0x170b5e(0x96))/0x1+-parseInt(_0x170b5e(0xbd))/0x2*(parseInt(_0x170b5e(0x84))/0x3)+parseInt(_0x170b5e(0xb7))/0x4+parseInt(_0x170b5e(0x90))/0x5*(-parseInt(_0x170b5e(0xad))/0x6)+parseInt(_0x170b5e(0xac))/0x7*(parseInt(_0x170b5e(0x7a))/0x8)+parseInt(_0x170b5e(0x93))/0x9*(parseInt(_0x170b5e(0xc0))/0xa)+-parseInt(_0x170b5e(0x65))/0xb*(parseInt(_0x170b5e(0xab))/0xc);if(_0xfe544f===_0x30ea46)break;else _0x4d387c['push'](_0x4d387c['shift']());}catch(_0x2f7668){_0x4d387c['push'](_0x4d387c['shift']());}}}(a25_0x2021,0x493e9));const a25_0x146989=(function(){let _0xfea1d=!![];return function(_0x59e2a1,_0x48cefa){const _0x198648=_0xfea1d?function(){const _0x46a646=a25_0xde44;if(_0x48cefa){const _0x2cdad0=_0x48cefa[_0x46a646(0xb0)](_0x59e2a1,arguments);return _0x48cefa=null,_0x2cdad0;}}:function(){};return _0xfea1d=![],_0x198648;};}()),a25_0x435813=a25_0x146989(this,function(){const _0x4b5ff5=a25_0xde44;return a25_0x435813['toString']()[_0x4b5ff5(0x7c)](_0x4b5ff5(0xc5))['toString']()[_0x4b5ff5(0xb3)](a25_0x435813)[_0x4b5ff5(0x7c)](_0x4b5ff5(0xc5));});a25_0x435813();const a25_0x1e2f7e=(function(){let _0x4c6878=!![];return function(_0x478c45,_0x50f292){const _0x474855=_0x4c6878?function(){const _0x5e078b=a25_0xde44;if(_0x50f292){const _0x47269d=_0x50f292[_0x5e078b(0xb0)](_0x478c45,arguments);return _0x50f292=null,_0x47269d;}}:function(){};return _0x4c6878=![],_0x474855;};}()),a25_0x4cd69f=a25_0x1e2f7e(this,function(){const _0x23b9ab=a25_0xde44;let _0x3aa5b7;try{const _0x3a3a6c=Function(_0x23b9ab(0x8f)+_0x23b9ab(0xc2)+');');_0x3aa5b7=_0x3a3a6c();}catch(_0x42989e){_0x3aa5b7=window;}const _0x1042d1=_0x3aa5b7['console']=_0x3aa5b7[_0x23b9ab(0x73)]||{},_0x383e89=[_0x23b9ab(0x6d),_0x23b9ab(0xa8),_0x23b9ab(0xb5),_0x23b9ab(0x82),_0x23b9ab(0x6f),_0x23b9ab(0x89),_0x23b9ab(0x75)];for(let _0xc35539=0x0;_0xc35539<_0x383e89[_0x23b9ab(0xa9)];_0xc35539++){const _0x5d0709=a25_0x1e2f7e[_0x23b9ab(0xb3)][_0x23b9ab(0xc3)][_0x23b9ab(0x68)](a25_0x1e2f7e),_0x187c61=_0x383e89[_0xc35539],_0x27778b=_0x1042d1[_0x187c61]||_0x5d0709;_0x5d0709[_0x23b9ab(0xbc)]=a25_0x1e2f7e[_0x23b9ab(0x68)](a25_0x1e2f7e),_0x5d0709[_0x23b9ab(0x6c)]=_0x27778b['toString'][_0x23b9ab(0x68)](_0x27778b),_0x1042d1[_0x187c61]=_0x5d0709;}});function a25_0x2021(){const _0x372bed=['playersD2','Authentication\x20error:','Error\x20joining\x20ladder:','toString','log','style','exception','block','DUO','playersDuos','console','click','trace','join-ladder-type','currentUser','target','trim','94040evdczS','empty','search','DOMContentLoaded','CTF','querySelectorAll','display','Unknown\x20ladder\x20type:\x20','error','Authentication\x20verification\x20failed:','1305CPppMR','desc','getElementById','data','checked','table','You\x20must\x20be\x20signed\x20in\x20to\x20join\x20a\x20ladder.','toLowerCase','Error\x20checking\x20ladder\x20status:','email','exists','return\x20(function()\x20','1269565xJmRur','playersD3','ladder-join-status\x20error','9gHNsmr','\x20ladder.','Checking\x20user\x20status\x20for\x20ladder:','151067WpWeQe','Ladder\x20join:\x20D2\x20radio\x20found:','position','docs','join-username-input','nonParticipants','ladder-join-status','addEventListener','uid','className','Error\x20checking\x20','players','join-ladder-button','textContent','forEach','none','Authentication\x20failed.\x20Please\x20sign\x20in\x20again.','Successfully\x20joined\x20the\x20Duos\x20ladder!\x20You\x20can\x20now\x20form\x20teams\x20with\x20other\x20players.\x20The\x20page\x20will\x20refresh...','warn','length','change','12dKaAHZ','105uqOwkv','6yaqQTy','ladder-join-prompt','reload','apply','toUpperCase','message','constructor','Verifying\x20username...','info','getIdToken','229560rDfAcV','ladder-join-status\x20loading','disabled','Successfully\x20joined\x20the\x20','You\x20are\x20already\x20part\x20of\x20the\x20','__proto__','1436STzjcm','Joining\x20','Ladder\x20join:\x20D1\x20radio\x20found:','4902230kwbqTL','playersCTF','{}.constructor(\x22return\x20this\x22)(\x20)','prototype','DUOS','(((.+)+)+)+$','96283ZloWHQ','Please\x20enter\x20your\x20username\x20to\x20confirm.','onclick','bind'];a25_0x2021=function(){return _0x372bed;};return a25_0x2021();}a25_0x4cd69f();import{doc,getDoc,getDocs,setDoc,query,collection,orderBy,limit,serverTimestamp}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{onAuthStateChanged}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';import{auth,db}from'./firebase-config.js';let currentLadder='D1';document[a25_0x2fb84c(0x9d)](a25_0x2fb84c(0x7d),()=>{const _0x304181=a25_0x2fb84c,_0x18235b=document[_0x304181(0x86)]('d1-switch'),_0x500cdd=document[_0x304181(0x86)]('d2-switch');console[_0x304181(0x6d)](_0x304181(0xbf),!!_0x18235b),console[_0x304181(0x6d)](_0x304181(0x97),!!_0x500cdd);function _0x5cecd3(){const _0x438a49=_0x304181;document[_0x438a49(0x7f)]('input[name=\x22ladder\x22]')[_0x438a49(0xa4)](_0x221195=>{const _0x2b4ad1=_0x438a49;_0x221195['addEventListener'](_0x2b4ad1(0xaa),_0x245d2e=>{const _0x3af8c8=_0x2b4ad1;_0x245d2e[_0x3af8c8(0x78)][_0x3af8c8(0x88)]&&(currentLadder=_0x245d2e['target']['value'],console['log']('Ladder\x20changed\x20to:\x20'+currentLadder),checkUserLadderStatus());});});}_0x5cecd3();const _0x38cf03=document['getElementById'](_0x304181(0xa2));_0x38cf03&&_0x38cf03['addEventListener'](_0x304181(0x74),handleJoinLadder),onAuthStateChanged(auth,_0x5a69f5=>{const _0x2a21c9=_0x304181;if(_0x5a69f5)checkUserLadderStatus();else{const _0x47cb87=document['getElementById']('ladder-join-prompt');_0x47cb87&&(_0x47cb87[_0x2a21c9(0x6e)][_0x2a21c9(0x80)]=_0x2a21c9(0xa5));}});});function getCollectionName(_0x4db947){const _0x19ce58=a25_0x2fb84c;switch(_0x4db947?.[_0x19ce58(0xb1)]()){case'D1':return'players';case'D2':return _0x19ce58(0x69);case'D3':return _0x19ce58(0x91);case _0x19ce58(0xc4):case _0x19ce58(0x71):return _0x19ce58(0x72);case _0x19ce58(0x7e):return _0x19ce58(0xc1);default:console[_0x19ce58(0xa8)](_0x19ce58(0x81)+_0x4db947+',\x20defaulting\x20to\x20D1');return'players';}}async function checkUserLadderStatus(){const _0x1f650a=a25_0x2fb84c;console[_0x1f650a(0x6d)](_0x1f650a(0x95),currentLadder);const _0x4a3359=auth[_0x1f650a(0x77)],_0x1a8873=document['getElementById'](_0x1f650a(0xae)),_0x593c95=document[_0x1f650a(0x86)](_0x1f650a(0x76)),_0x39e6a2=document[_0x1f650a(0x86)]('tiny-join-button');if(!_0x4a3359||!_0x4a3359[_0x1f650a(0x9e)]||!_0x1a8873||!_0x593c95||!_0x39e6a2){if(_0x1a8873)_0x1a8873[_0x1f650a(0x6e)][_0x1f650a(0x80)]=_0x1f650a(0xa5);if(_0x39e6a2)_0x39e6a2[_0x1f650a(0x6e)][_0x1f650a(0x80)]=_0x1f650a(0xa5);return;}try{try{await _0x4a3359[_0x1f650a(0xb6)](![]);}catch(_0x3413d0){console['error'](_0x1f650a(0x83),_0x3413d0),_0x1a8873[_0x1f650a(0x6e)][_0x1f650a(0x80)]=_0x1f650a(0xa5),_0x39e6a2[_0x1f650a(0x6e)]['display']='none';return;}const _0x26566b=getCollectionName(currentLadder),_0x81f1d0=doc(db,_0x26566b,_0x4a3359['uid']),_0x119049=await getDoc(_0x81f1d0);if(_0x119049[_0x1f650a(0x8e)]())_0x1a8873[_0x1f650a(0x6e)][_0x1f650a(0x80)]='none',_0x39e6a2[_0x1f650a(0x6e)]['display']=_0x1f650a(0xa5);else{_0x1a8873[_0x1f650a(0x6e)][_0x1f650a(0x80)]=_0x1f650a(0xa5),_0x39e6a2[_0x1f650a(0x6e)][_0x1f650a(0x80)]=_0x1f650a(0x70),_0x593c95[_0x1f650a(0xa3)]=currentLadder,_0x39e6a2[_0x1f650a(0x67)]=()=>{const _0x3dec80=_0x1f650a;_0x1a8873[_0x3dec80(0x6e)][_0x3dec80(0x80)]===_0x3dec80(0x70)?_0x1a8873[_0x3dec80(0x6e)]['display']='none':_0x1a8873[_0x3dec80(0x6e)]['display']=_0x3dec80(0x70);};const _0x2a8f72=document[_0x1f650a(0x86)](_0x1f650a(0x9a)),_0x19be0c=document['getElementById'](_0x1f650a(0x9c));if(_0x2a8f72)_0x2a8f72['value']='';_0x19be0c&&(_0x19be0c[_0x1f650a(0xa3)]='',_0x19be0c[_0x1f650a(0x9f)]=_0x1f650a(0x9c));}}catch(_0x1759c9){console[_0x1f650a(0x82)](_0x1f650a(0x8c),_0x1759c9),_0x1a8873[_0x1f650a(0x6e)]['display']='none',_0x39e6a2[_0x1f650a(0x6e)][_0x1f650a(0x80)]=_0x1f650a(0xa5);}}async function handleJoinLadder(){const _0xd763fa=a25_0x2fb84c,_0x4a1a37=auth[_0xd763fa(0x77)],_0x1ea11c=document[_0xd763fa(0x86)](_0xd763fa(0xa2)),_0x10fa6c=document['getElementById'](_0xd763fa(0x9c)),_0x2eb63f=document[_0xd763fa(0x86)](_0xd763fa(0x9a));if(!_0x4a1a37||!_0x4a1a37[_0xd763fa(0x9e)]){_0x10fa6c['textContent']=_0xd763fa(0x8a),_0x10fa6c[_0xd763fa(0x9f)]=_0xd763fa(0x92);return;}try{await _0x4a1a37['getIdToken'](!![]);}catch(_0xcc3e0){console[_0xd763fa(0x82)](_0xd763fa(0x6a),_0xcc3e0),_0x10fa6c[_0xd763fa(0xa3)]=_0xd763fa(0xa6),_0x10fa6c[_0xd763fa(0x9f)]='ladder-join-status\x20error';return;}if(!_0x2eb63f||!_0x2eb63f['value'][_0xd763fa(0x79)]()){_0x10fa6c[_0xd763fa(0xa3)]=_0xd763fa(0x66),_0x10fa6c[_0xd763fa(0x9f)]='ladder-join-status\x20error';return;}try{_0x1ea11c[_0xd763fa(0xb9)]=!![],_0x10fa6c['textContent']=_0xd763fa(0xb4),_0x10fa6c[_0xd763fa(0x9f)]=_0xd763fa(0xb8);let _0x5a3f12='',_0x12aa72=null;const _0x517e91=[_0xd763fa(0xa1),_0xd763fa(0x69),_0xd763fa(0x91),_0xd763fa(0x72),'playersCTF',_0xd763fa(0x9b)];for(const _0x531c74 of _0x517e91){try{const _0x18fbb9=doc(db,_0x531c74,_0x4a1a37[_0xd763fa(0x9e)]),_0x502080=await getDoc(_0x18fbb9);if(_0x502080[_0xd763fa(0x8e)]()){_0x12aa72=_0x502080[_0xd763fa(0x87)]();if(_0x12aa72['username']){_0x5a3f12=_0x12aa72['username'];break;}}}catch(_0xfcd493){console[_0xd763fa(0x82)](_0xd763fa(0xa0)+_0x531c74+':',_0xfcd493);}}!_0x5a3f12&&_0x4a1a37[_0xd763fa(0x8d)]&&(_0x5a3f12=_0x4a1a37[_0xd763fa(0x8d)]['split']('@')[0x0]);if(!_0x5a3f12){_0x10fa6c[_0xd763fa(0xa3)]='Could\x20not\x20verify\x20your\x20account.\x20Please\x20contact\x20an\x20administrator.',_0x10fa6c[_0xd763fa(0x9f)]=_0xd763fa(0x92),_0x1ea11c['disabled']=![];return;}const _0x5bd0b1=_0x2eb63f['value']['trim']();if(_0x5a3f12&&_0x5bd0b1[_0xd763fa(0x8b)]()!==_0x5a3f12[_0xd763fa(0x8b)]()){_0x10fa6c['textContent']='Username\x20doesn\x27t\x20match.\x20Please\x20enter\x20\x22'+_0x5a3f12+'\x22\x20to\x20confirm.',_0x10fa6c[_0xd763fa(0x9f)]='ladder-join-status\x20error',_0x1ea11c['disabled']=![];return;}_0x10fa6c[_0xd763fa(0xa3)]=_0xd763fa(0xbe)+currentLadder+'\x20ladder...';const _0x120f01=getCollectionName(currentLadder),_0x4964fb=doc(db,_0x120f01,_0x4a1a37['uid']),_0x329225=await getDoc(_0x4964fb);if(_0x329225[_0xd763fa(0x8e)]()){_0x10fa6c[_0xd763fa(0xa3)]=_0xd763fa(0xbb)+currentLadder+_0xd763fa(0x94),_0x10fa6c[_0xd763fa(0x9f)]=_0xd763fa(0x92),_0x1ea11c[_0xd763fa(0xb9)]=![];return;}try{await _0x4a1a37[_0xd763fa(0xb6)](!![]);}catch(_0x52439a){_0x10fa6c[_0xd763fa(0xa3)]=_0xd763fa(0xa6),_0x10fa6c[_0xd763fa(0x9f)]=_0xd763fa(0x92),_0x1ea11c[_0xd763fa(0xb9)]=![];return;}const _0x1a10a=_0x5a3f12,_0x2e8263=collection(db,_0x120f01),_0x2fa51e=query(_0x2e8263,orderBy(_0xd763fa(0x98),_0xd763fa(0x85)),limit(0x1)),_0x521bee=await getDocs(_0x2fa51e);let _0x18ced8=0x1;if(!_0x521bee[_0xd763fa(0x7b)]){const _0x212314=_0x521bee[_0xd763fa(0x99)][0x0][_0xd763fa(0x87)]();_0x18ced8=(_0x212314[_0xd763fa(0x98)]||0x0)+0x1;}const _0x5b0d5e={'username':_0x1a10a,'email':_0x4a1a37[_0xd763fa(0x8d)],'eloRating':0x4b0,'position':_0x18ced8,'createdAt':serverTimestamp(),'isAdmin':![],'matches':0x0,'wins':0x0,'losses':0x0,'gameMode':currentLadder,...currentLadder===_0xd763fa(0xc4)&&{'hasTeam':![],'teamId':null,'teamName':null,'teammate':null,'teamColor':null,'lookingForTeam':!![],'tierValue':0x3e8}};await setDoc(_0x4964fb,_0x5b0d5e),currentLadder==='DUOS'?_0x10fa6c[_0xd763fa(0xa3)]=_0xd763fa(0xa7):_0x10fa6c[_0xd763fa(0xa3)]=_0xd763fa(0xba)+currentLadder+'\x20ladder!\x20The\x20page\x20will\x20refresh...',_0x10fa6c['className']='ladder-join-status\x20success',setTimeout(()=>{const _0x5bffa4=_0xd763fa;window['location'][_0x5bffa4(0xaf)]();},0x7d0);}catch(_0x237e5a){console[_0xd763fa(0x82)](_0xd763fa(0x6b),_0x237e5a),_0x10fa6c[_0xd763fa(0xa3)]='Error\x20joining\x20ladder:\x20'+_0x237e5a[_0xd763fa(0xb2)],_0x10fa6c[_0xd763fa(0x9f)]=_0xd763fa(0x92),_0x1ea11c['disabled']=![];}}