const a50w=a50b;(function(a,b){const v=a50b,c=a();while(!![]){try{const d=parseInt(v(0x1ad))/0x1*(parseInt(v(0x177))/0x2)+-parseInt(v(0x1ac))/0x3+-parseInt(v(0x20d))/0x4*(parseInt(v(0x18d))/0x5)+-parseInt(v(0x193))/0x6*(-parseInt(v(0x1cc))/0x7)+parseInt(v(0x208))/0x8+parseInt(v(0x1f1))/0x9*(-parseInt(v(0x1ec))/0xa)+parseInt(v(0x1e0))/0xb;if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a50a,0xaa49a));import{auth,db}from'./firebase-config.js';import{doc,getDoc,setDoc,collection,query,where,getDocs,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const RIBBON_DEFINITIONS={'Rematch\x20Ribbon':{'description':a50w(0x1e8),'image':a50w(0x1d4),'color':a50w(0x17a)},'Overachiever\x20Ribbon':{'description':a50w(0x189),'image':a50w(0x210),'color':'#96CEB4','levels':[0x64,0xc8,0x12c,0x190,0x1f4,0x258,0x2bc,0x320,0x384,0x3e8]},'Brick\x20Wall':{'description':a50w(0x1b9),'image':'../images/ribbons/BrickWall.png','color':a50w(0x1f6),'levels':[0x50,0x55,0x5a,0x5f,0x64]},'Collector\x20Ribbon':{'description':a50w(0x1c9),'image':'../images/ribbons/Collector.png','color':'#6C5CE7','levels':[0x5,0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32]},'Sub-Gamer\x20Ribbon':{'description':'Play\x20over\x2050\x20subgame\x20matches','image':'../images/ribbons/Subgamer.png','color':a50w(0x19f),'levels':[0x32,0x64,0x96,0xc8,0xfa,0x12c,0x15e,0x190,0x1c2,0x1f4]},'Explorer\x20Ribbon':{'description':a50w(0x1c3),'image':'../images/ribbons/Explorer.png','color':a50w(0x1b8),'levels':[0x14,0x28,0x3c,0x50,0x64,0x78,0x8c,0xa0,0xb4,0xc8]},'Socialite\x20Ribbon':{'description':a50w(0x192),'image':a50w(0x1df),'color':'#FF7675','levels':[0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32,0x37]},'Underdog\x20Ribbon':{'description':a50w(0x1b5),'image':a50w(0x1a9),'color':a50w(0x1fa),'levels':[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0x9,0xa]},'Domination\x20Ribbon':{'description':a50w(0x1ef),'image':a50w(0x1a8),'color':a50w(0x1a6),'levels':[0x1,0x2,0x3,0x4,0x5]},'Top\x20Bronze\x20Pilot':{'description':a50w(0x1f0),'image':a50w(0x205),'color':'#CD7F32'},'Top\x20Silver\x20Pilot':{'description':a50w(0x20b),'image':a50w(0x205),'color':'#C0C0C0'},'Top\x20Gold\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Gold\x20rank','image':'../images/ribbons/toprank.png','color':'#FFD700'},'Top\x20Emerald\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Emerald\x20rank','image':'../images/ribbons/toprank.png','color':a50w(0x1c8)}};export const RIBBON_CSS='\x0a/*\x20Stats\x20integration\x20styles\x20*/\x0a.ribbon-section\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-top:\x201rem;\x0a}\x0a\x0a.ribbon-stat-item.full-width\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-bottom:\x200;\x0a}\x0a\x0a/*\x20Military\x20Ribbon\x20Rack\x20Styling\x20-\x20NO\x20OUTER\x20CONTAINER\x20*/\x0a.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20padding:\x200;\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20box-shadow:\x20none;\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20align-items:\x20flex-start;\x0a}\x0a\x0a.ribbon-rack-empty-inline\x20{\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20padding:\x2060px\x2040px;\x0a\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20border-radius:\x2012px;\x0a\x20\x20\x20\x20border:\x202px\x20solid\x20rgba(255,\x20255,\x20255,\x200.1);\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a}\x0a\x0a.empty-rack-text\x20{\x0a\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20font-style:\x20italic;\x0a\x20\x20\x20\x20font-size:\x201.2rem;\x0a}\x0a\x0a/*\x20Ribbon\x20Rows\x20*/\x0a.ribbon-row\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x206px;\x0a\x20\x20\x20\x20margin-bottom:\x206px;\x0a\x20\x20\x20\x20justify-content:\x20flex-start;\x0a}\x0a\x0a.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20margin-left:\x2060px;\x0a}\x0a\x0a/*\x20Individual\x20Military\x20Ribbon\x20Styling\x20-\x20FIXED\x20OVERFLOW\x20FOR\x20LEVEL\x20INDICATOR\x20*/\x0a.military-ribbon\x20{\x0a\x20\x20\x20\x20position:\x20relative;\x0a\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20transition:\x20transform\x200.3s\x20ease;\x0a\x20\x20\x20\x20flex-shrink:\x200;\x0a\x20\x20\x20\x20width:\x20190px;\x0a\x20\x20\x20\x20height:\x2060px;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#333;\x0a\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20overflow:\x20visible;\x20/*\x20Changed\x20from\x20hidden\x20to\x20visible\x20*/\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20margin:\x2012px\x2012px\x2012px\x200;\x20/*\x20Added\x20margin\x20to\x20prevent\x20clipping\x20*/\x0a}\x0a\x0a.military-ribbon:hover\x20{\x0a\x20\x20\x20\x20transform:\x20translateY(-4px);\x0a\x20\x20\x20\x20z-index:\x2010;\x0a}\x0a\x0a/*\x20Ribbon\x20image\x20container\x20to\x20handle\x20the\x20actual\x20overflow\x20*/\x0a.ribbon-image-container\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20border-radius:\x201px;\x0a}\x0a\x0a.ribbon-image\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20object-fit:\x20cover;\x0a\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20image-rendering:\x20crisp-edges;\x0a}\x0a\x0a.ribbon-fallback\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20text-shadow:\x200\x202px\x204px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a}\x0a\x0a.ribbon-name\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.9);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201.2;\x0a\x20\x20\x20\x20margin-top:\x206px;\x0a\x20\x20\x20\x20max-width:\x20120px;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20text-overflow:\x20ellipsis;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20-24px;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20font-weight:\x20500;\x0a}\x0a\x0a.military-ribbon:hover\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20display:\x20block;\x0a}\x0a\x0a.ribbon-devices\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x2050%;\x0a\x20\x20\x20\x20right:\x206px;\x0a\x20\x20\x20\x20transform:\x20translateY(-50%);\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x203px;\x0a\x20\x20\x20\x20z-index:\x205;\x0a}\x0a\x0a.ribbon-device\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20text-shadow:\x200\x200\x204px\x20rgba(0,0,0,0.9);\x0a\x20\x20\x20\x20filter:\x20drop-shadow(0\x202px\x204px\x20rgba(0,0,0,0.8));\x0a}\x0a\x0a.bronze-star\x20{\x0a\x20\x20\x20\x20color:\x20#CD7F32;\x0a}\x0a\x0a.silver-star\x20{\x0a\x20\x20\x20\x20color:\x20#C0C0C0;\x0a}\x0a\x0a.gold-star\x20{\x0a\x20\x20\x20\x20color:\x20#FFD700;\x0a}\x0a\x0a/*\x20Level\x20indicator\x20-\x20NOW\x20FULLY\x20VISIBLE\x20*/\x0a.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x20-8px;\x0a\x20\x20\x20\x20right:\x20-8px;\x0a\x20\x20\x20\x20background:\x20#FFD700;\x0a\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20width:\x2024px;\x0a\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#FFF;\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x208px\x20rgba(0,0,0,0.7);\x0a\x20\x20\x20\x20z-index:\x206;\x0a}\x0a\x0a/*\x20Custom\x20tooltip\x20-\x20only\x20this\x20one\x20will\x20show\x20*/\x0a.military-ribbon::before\x20{\x0a\x20\x20\x20\x20content:\x20attr(data-tooltip);\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20100%;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20background:\x20rgba(0,0,0,0.95);\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20padding:\x208px\x2012px;\x0a\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20pointer-events:\x20none;\x0a\x20\x20\x20\x20transition:\x20opacity\x200.3s;\x0a\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20margin-bottom:\x208px;\x0a\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(255,\x20255,\x20255,\x200.2);\x0a}\x0a\x0a.military-ribbon:hover::before\x20{\x0a\x20\x20\x20\x20opacity:\x201;\x0a}\x0a\x0a/*\x20Responsive\x20adjustments\x20*/\x0a@media\x20(max-width:\x201024px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2034px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x208px\x208px\x208px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-6px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-6px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2052px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-20px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20768px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2028px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x206px\x206px\x206px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x209px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-5px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-5px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2042px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2011px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-18px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x205px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20480px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2070px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x205px\x205px\x205px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2036px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x204px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-4px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-4px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a.stats-grid\x20.ribbon-section\x20{\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20padding:\x200;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20{\x0a\x20\x20\x20\x20background-color:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20padding:\x2025px;\x0a\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20.stat-label\x20{\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20text-transform:\x20uppercase;\x0a\x20\x20\x20\x20opacity:\x200.9;\x0a\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.95);\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a}\x0a\x0a.ribbon-level-indicator.level-1\x20{\x20background:\x20#808080;\x20}\x0a.ribbon-level-indicator.level-2\x20{\x20background:\x20#CD7F32;\x20}\x0a.ribbon-level-indicator.level-3\x20{\x20background:\x20#b9f1fc;\x20}\x0a.ribbon-level-indicator.level-4\x20{\x20background:\x20#FFD700;\x20}\x0a.ribbon-level-indicator.level-5-plus\x20{\x20background:\x20#50C878;\x20}\x0a';function a50a(){const al=['AgfZ','D2LUBMvYvxnLCM5HBwu','zxzHBhvHDgvfEhbSB3jLCLjPyMjVBKzYB21dB3vUDa','z2v0sxrLBq','4P2mievYCM9YigzLDgnOAw5Nig1HDgnOzxm6','Cg9ZAxrPB24','CMLIyM9UCW','lI4VAw1Hz2vZl3jPyMjVBNmVuMvTyxrJAc5WBMC','4P2mie5VievmtYbYyxrPBMCGzgf0ysbMB3iG','uMvTyxrJAcbsAwjIB24','CgXHEwvYuMLIyM9UCW','ig5LDY91CgrHDgvKihjPyMjVBNmGzM9Yia','zgvSzxrL','vw5KzxjKB2CGuMLIyM9U','u3vIluDHBwvYifjPyMjVBG','iokgKIa','8j+sVIbdywnOzsbOAxqGkgXVy2fSu3rVCMfNzsKGzM9Yia','8j+uJsbdAgvJA2LUzYb1BMrLCMrVzZOGv2LUBMvYka','lI4VAw1Hz2vZl3jPyMjVBNmVu29JAwfSAxrLlNbUzW','mtaWmtGYmtDKr2rQreW','zxzHBhvHDgvvBMrLCMrVz1jPyMjVBKzYB21dB3vUDa','u2LSDMvY','zwXVuMf0Aw5N','8j+rKsbeB21PBMf0zwqG','q0fdsevFs0vzx1bsruzjwa','4P2mievYCM9YigLUihjPyMjVBIbLDMfSDwf0Aw9UoG','Bg9N','qMvHDcbHihbPBg90ihDPDgGGDgHLicjszw1HDgnOiIbZDwjNyw1LihnLBgvJDgvK','z2v0q2fJAgvlzxK','C2f2zvbSyxLLCLjPyMjVBNnpChrPBwL6zwq','8j+tIIbcDwXRigXVywrLzca','mZuWy0H4uxHR','ihn0yxr1CYbMB3iG','Dw5PCxvLtwfWCW','qMvHDca1ihvUAxf1zsbWAwXVDhmGAw4GysbYyw5RicHPBMnSDwrPBMCGEw91CIbVD24P','q2XHAw1Lzcb0AguGAgLNAgvZDcbZCg90ig9UihrOzsbSywrKzxiGzM9YiejYB256zsbYyw5R','mZe4nte5EevZAg1P','BwvTB3j5q2fJAgu','z2v0','z2v0ugXHEwvYuMLIyM9UC0nHy2HLza','AM9PBG','i0yWotmYqG','C2v0','yxv0B0nSzwfUDxa','BwLU','i0zgotuWma','zg9TAw5HDgvKuMfUA3m','8j+oRYbvtKrfuKrprYbwsunut1jzoIa','CMvTB3zLsxrLBq','zgvZy3jPChrPB24','ywXS','Bgv2zwXZ','ig1HDgnOzxm','q0fdsevFrfvsqvrjt04','ifbPBg90','Dw5KzwzPBMvK','lI4VAw1Hz2vZl3jPyMjVBNmVDg9WCMfUAY5WBMC','BwfW','zMLUzeLUzgv4','nte1mtK0neX1weHora','yxbWCM92zwrnyxrJAgvZrdm','zw5KC1DPDgG','q2XHAw1Lzcb0AguGAgLNAgvZDcbZCg90ig9UihrOzsbSywrKzxiGzM9YifnPBhzLCIbYyw5R','iJ4kicaGicaGicaGicaGpgrPDIbJBgfZCZ0ICMLIyM9UlwLTywDLlwnVBNrHAw5LCIi+cIaGicaGicaGicaGicaGica8Aw1NihnYyZ0I','mtmYnZGXmLPmuufkqG','ihzZia','igvHCM5Lzca','lI4VAw1Hz2vZl3jPyMjVBNmVt3zLCMfJAgLLDMvYlNbUzW','Bgv2zwWTmW','z2v0q2fJAgvKrgf0yq','zxzHBhvHDgvpDMvYywnOAwv2zxjsAwjIB25gCM9Tq291BNq','uMvTyxrJAa','zxHPC3rZ','CgXHEwvYCW','z2v0q2fJAgvtDgf0CW','q29SBgvJDg9YifjPyMjVBG','Bwf0y2HdywnOzq','rw1LCMfSza','zxzHBhvHDgvbBgXsAwjIB25ZrM9YugXHEwvYt3b0Aw1PEMvK','ifrPzxi6ia','zxzHBhvHDgvtB2nPywXPDgvsAwjIB25gCM9Tq291BNq','Bgv2zwWTna','CMvWBgfJzq','ifjPyMjVBG','8j+AGcbdywnOzsbOAxqGkg1LBw9YEsKGzM9Yia','igLZifvUCMfUA2vKicG','C3rHCNrZv2L0Aa','C3vIz2fTzu1HDgnOzxm','zxzHBhvHDgvszw1HDgnOuMLIyM9UrNjVBunVDw50','ksb2CYbmB3nLCIG','z2v0q2fJAgvKtwf0y2HLCW','A2v5','CgXHEwvYC0qZ','BgfZDenSzwfUDxa','8j+rKsborvCGvg9WifjHBMSGqwnOAwv2zw1LBNq6ia','DxnLCM5HBwu','zxzHBhvHDgvuB3bsyw5RuMLIyM9U','cIaGicaGicaGicaGicaGica8l2rPDJ4kicaGicaGicaGicaGpc9KAxy+cIaGicaGicaGicaGia','zxzHBhvHDgvbBgXsAwjIB25ZrNjVBurHDge','C2L6zq','Dg90ywXnyxrJAgvZ','CMvTyxrJAfDPBNm','mK9Vq2Puzq','q0Xfqu5vuf9jtLrfuLzbta','DgLTzxn0yw1W','i0zgnKi2qG','z2v0ugXHEwvYtwf0y2HLC09WDgLTAxPLza','8j+AGcbcDwXRigXVywrPBMCG','Aw1Hz2u','C3vIz2fTzvr5Cgu','Bg9ZzxjsyxrPBMC','AxnvBMrLCMrVz1zPy3rVCNLgyxn0','Dg9mB2nHBgvuAw1Lu3rYAw5N','zxzHBhvHDgveB21PBMf0Aw9UuMLIyM9UrNjVBvjHBMTZ','ksaTig5LDYbTyxrJAcbKzxrLy3rLza','rxHWBg9YzxiGuMLIyM9U','Bgv2zwW','pc9KAxy+','zxjYB3i','qNjPy2SGv2fSBa','ugXHEwvKig92zxiGmtaWig1HDgnOzxm','8j+uJsbdAgvJA2LUzYbuB3aG','Bwf0y2HdB3vUDa','C2v0sxrLBq','nu5LCKHrsa','lcbqB3nPDgLVBIa','zg9JCW','BgvUz3rO','C2v0q2fJAgvKrgf0yq','ugXHEwvKigf0igXLyxn0ideWihvUAxf1zsbWAwXVDhm','oduZotG2A1bZuKz1','zgf0yq','yxnZAwDU','zxzHBhvHDgvtDwjhyw1LCLjPyMjVBKzYB21dB3vUDa','zxzHBhvHDgvcCMLJA1DHBgXsAwjIB25gCM9Tv2LUuMf0zq','jsb3Aw4GCMf0zsbVDMvYia','8j+oRYbdywnOzsbOAxqGkg1HDgnOzxmPigzVCIa','rg9TAw5HDgLVBIbsAwjIB24','ktOG','vg9Wia','z2v0ugXHEwvYrgf0yunHy2HLza','CMf0Aw5N','i0eYoujgrq','D2LUBMvYuMf0Aw5N','8j+pHIbcCMLJAYbxywXSihjPyMjVBIbHD2fYzgvKoIa','ievmtYaO','C3vIC3rYAw5N','u29JAwfSAxrLifjPyMjVBG','zxzHBhvHDgvdB2XSzwn0B3jsAwjIB25gCM9Tq291BNq','iZHfndrbra','8j+tIIa','lI4VAw1Hz2vZl3jPyMjVBNmVrg9TAw5HDgLVBI5WBMC','lI4VAw1Hz2vZl3jPyMjVBNmVvw5KzxjKB2CUCg5N','C2v0q2fJAgvKtwf0y2HLCW','Bwf0y2HLC1bSyxLLza','mJi2otC1ogPnzg5HCq','nZu4mZi3CxziqKvY','Bg9ZzxjvC2vYBMfTzq','y29SB3i','ihbSyxLLCNmGzNjVBsa','8j+rKsbeB21PBMf0Aw9UifjPyMjVBIbHD2fYzgvKoIbmzxzLBca','C29YDa','y2XLyxjpBgrdywnOzq','A2v5CW','qMvHDcbHihbPBg90ihjHBMTLzcbOAwDOzxiGDgHHBIb5B3u','Dw5PCxvLt3bWB25LBNrZ','BwfWugXHEwvK','iZu1qtngrG','qw1HC3mGyxqGBgvHC3qGodaLig92zxjHBgWGD2LUihjHDguGCgvYy2vUDgfNzsaOBwLUAw11Bsa1mcbTyxrJAgvZkq','8j+pHIbvBMrLCMrVzYbsAwjIB24GDxbNCMfKztOGtgv2zwWG','pgKGy2XHC3m9iMzHCYbMys1ZDgfYihjPyMjVBI1KzxzPy2uGyNjVBNPLlxn0yxiIpJWVAt4','vw5Yyw5Rzwq','yNvSA0XVywrqBgf5zxjeyxrH','zM9YrwfJAa','ievmtYKSia','ChvZAa','ywrK','oYi+cIaGicaGicaGicaGicaGicaGicaG','ugXHEwvKigf0igXLyxn0idiWihvUAxf1zsbTyxbZ','rxjYB3iGz2v0DgLUzYbWBgf5zxiGzgf0ysbMB3iG','CgfYC2u','4PQG77Ipie1PC3nPBMCGCgXHEwvYigrHDgeGzM9Yia','igjLyxqG','iZuWqZG3oa','sg9SzcbTB3jLihrOyw4GnsbYAwjIB25Zigf0igeGDgLTzq','Dw5KzxjKB2DxAw5Z','BM93','mZvKwKvJywi'];a50a=function(){return al;};return a50a();}class RibbonCacheManager{constructor(){const x=a50w;this['memoryCache']=new Map(),this['CACHE_DURATION']=0x3c*0x3c*0x3e8,this['CACHE_KEY_PREFIX']='ribbon_cache_',this[x(0x22a)]=Date['now'](),this['CLEANUP_INTERVAL']=0x1e*0x3c*0x3e8;}[a50w(0x1e9)](a,b){const y=a50w;return''+this[y(0x1e5)]+a+'_'+b;}['getCachedData'](a,b){const z=a50w;this[z(0x1f8)]();const c=this['getCacheKey'](a,b);if(this[z(0x1f2)][z(0x1cd)](c)){const f=this[z(0x1f2)][z(0x1f3)](c);if(Date[z(0x1cb)]()-f['timestamp']<this['CACHE_DURATION'])return console[z(0x1e7)](z(0x221)+a),f['data'];this['memoryCache']['delete'](c);}const d=localStorage[z(0x1d0)](c);if(d)try{const g=JSON['parse'](d);if(Date['now']()-g[z(0x179)]<this['CACHE_DURATION'])return this[z(0x1f2)][z(0x1f7)](c,{'data':g['ribbons'],'timestamp':g['timestamp'],'matchCount':g['matchCount']}),console['log'](z(0x1dd)+a),g[z(0x1d3)];localStorage[z(0x1fd)](c);}catch(h){localStorage['removeItem'](c);}return null;}['setCachedData'](a,b,c,d){const A=a50w,f=this[A(0x1e9)](a,b),g=Date['now']();this['memoryCache'][A(0x1f7)](f,{'data':c,'timestamp':g,'matchCount':d});try{const h={'ribbons':c,'matchCount':d,'timestamp':g,'version':0x3};localStorage[A(0x18c)](f,JSON['stringify'](h));}catch(i){this[A(0x1b3)]();try{localStorage['setItem'](f,JSON['stringify'](data));}catch(j){}}}['shouldRefreshCache'](a,b,c){const B=a50w,d=this[B(0x1e9)](a,b);if(this[B(0x1f2)][B(0x1cd)](d)){const g=this['memoryCache']['get'](d);return g['matchCount']!==c;}const f=localStorage[B(0x1d0)](d);if(f)try{const h=JSON['parse'](f);return h[B(0x18b)]!==c;}catch(i){return!![];}return!![];}['invalidatePlayerCache'](a,b){const C=a50w,c=this[C(0x1e9)](a,b);this[C(0x1f2)][C(0x1d9)](c),localStorage['removeItem'](c),console[C(0x1e7)]('ðŸ—‘ï¸\x20Invalidated\x20cache\x20for\x20'+a+'\x20('+b+C(0x183));}['autoCleanup'](){const D=a50w,a=Date[D(0x1cb)]();a-this['lastCleanup']>this[D(0x178)]&&(this['cleanup'](),this[D(0x22a)]=a);}['cleanup'](){const E=a50w,a=Date['now']();let b=0x0,c=0x0;for(const [d,f]of this['memoryCache']['entries']()){a-f['timestamp']>this[E(0x202)]&&(this[E(0x1f2)][E(0x1d9)](d),b++);}for(let g=localStorage['length']-0x1;g>=0x0;g--){const h=localStorage['key'](g);if(h&&h[E(0x223)](this[E(0x1e5)]))try{const j=JSON['parse'](localStorage['getItem'](h));a-j['timestamp']>this['CACHE_DURATION']&&(localStorage['removeItem'](h),c++);}catch(k){localStorage['removeItem'](h),c++;}}}['clearOldCache'](){const F=a50w,a=[];for(let c=0x0;c<localStorage[F(0x190)];c++){const d=localStorage[F(0x228)](c);if(d&&d[F(0x223)](this['CACHE_KEY_PREFIX']))try{const f=JSON[F(0x1c5)](localStorage['getItem'](d));a['push']({'key':d,'timestamp':f['timestamp']});}catch(g){localStorage[F(0x1fd)](d);}}a[F(0x1b2)]((h,j)=>h['timestamp']-j['timestamp']);const b=Math['floor'](a[F(0x190)]/0x2);for(let h=0x0;h<b;h++){localStorage[F(0x1fd)](a[h][F(0x228)]);}}[a50w(0x217)](){const G=a50w;return{'memoryEntries':this['memoryCache'][G(0x230)],'lastCleanup':new Date(this[G(0x22a)])['toLocaleTimeString']()};}}class MatchCacheManager{constructor(){const H=a50w;this[H(0x219)]=new Map(),this[H(0x202)]=0xf*0x3c*0x3e8,this['lastCleanup']=Date['now']();}[a50w(0x227)](a,b){const I=a50w;this['autoCleanup']();const c=a+'_'+b,d=this['matchCache'][I(0x1f3)](c);if(d&&Date[I(0x1cb)]()-d[I(0x179)]<this['CACHE_DURATION'])return console['log'](I(0x199)+a),d['matches'];return d&&this[I(0x219)]['delete'](c),null;}[a50w(0x1aa)](a,b,c){const d=a+'_'+b;this['matchCache']['set'](d,{'matches':c,'timestamp':Date['now']()});}[a50w(0x1f8)](){const J=a50w,a=Date[J(0x1cb)]();if(a-this[J(0x22a)]>0x5*0x3c*0x3e8){let b=0x0;for(const [c,d]of this['matchCache']['entries']()){a-d['timestamp']>this[J(0x202)]&&(this['matchCache']['delete'](c),b++);}this[J(0x22a)]=a;}}[a50w(0x217)](){const K=a50w;return{'entries':this[K(0x219)][K(0x230)],'lastCleanup':new Date(this[K(0x22a)])[K(0x181)]()};}}class RibbonSystem{constructor(){this['pendingEvaluations']=new Map(),this['batchTimer']=null,this['BATCH_DELAY']=0x32,this['playerDataCache']=new Map();}async['bulkLoadPlayerData'](a,b){const M=a50w,c=b==='D1'?'players':b==='D2'?'playersD2':'playersD3',d=collection(db,c),e=await getDocs(d),f=new Map();return e['forEach'](g=>{const L=a50b,h=g['data']();h[L(0x22c)]&&(h['eloRating']!==undefined&&(h[L(0x19e)]=h['eloRating']),f[L(0x1f7)](h[L(0x22c)],h));}),console[M(0x1e7)](M(0x1eb)+f['size']+M(0x1b0)+c),f;}async[a50w(0x22f)](a,b,c,d){const N=a50w,e={},f=b[N(0x22c)],g={'totalMatches':a[N(0x190)],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0,'dominatedRanks':new Set()},h=new Set();a[N(0x1be)](p=>{const O=N,q=p['winnerUsername']===f,r=q?p['loserUsername']:p['winnerUsername'];if(r)h[O(0x1c1)](r);}),console[N(0x1e7)](N(0x17c)+h['size']+'\x20player\x20records\x20for\x20underdog\x20calculations...');const i=await this['bulkLoadPlayerData']([...h,f],d),j=i['get'](f);!j&&console[N(0x1e7)]('âš ï¸\x20No\x20current\x20player\x20data\x20found\x20for\x20'+f);const k={0x0:new Set(),0x1:new Set(),0x2:new Set(),0x3:new Set(),0x4:new Set()};a[N(0x1be)](p=>{const P=N,q=p[P(0x1ce)]===f,r=q?p[P(0x1ae)]:p['winnerUsername'];if(q){g['wins']++;p['subgameType']==='Rematch'&&g['rematchWins']++;this['isUnderdogVictoryFast'](p,f,j,i)&&g[P(0x1ca)]++;const s=i['get'](r);if(s){const t=s[P(0x1e3)]||0x0,u=getPlayerRankTier(t);k[u]['add'](r);}}p[P(0x17e)]&&p[P(0x17e)]!=='Standard'&&g['subgameMatches']++,p['mapPlayed']&&g['uniqueMaps']['add'](p[P(0x1b7)]),r&&g[P(0x1b6)]['add'](r);}),Object['keys'](k)['forEach'](p=>{const Q=N;k[p][Q(0x230)]>=0x5&&g['dominatedRanks'][Q(0x1c1)](parseInt(p));}),console[N(0x1e7)]('ðŸŽ¯\x20Found\x20'+g[N(0x1ca)]+'\x20underdog\x20victories\x20for\x20'+f),console['log'](N(0x1e4)+g[N(0x1fb)][N(0x230)]+'\x20ranks:\x20['+Array['from'](g[N(0x1fb)])[N(0x206)](p=>getRankTierName(p))[N(0x1f5)](',\x20')+']');const l=g['totalMatches']>0x0?g['wins']/g[N(0x231)]*0x64:0x0,m=[['Overachiever\x20Ribbon',this['evaluateOverachieverRibbonFromCount'](g['totalMatches'],c)],[N(0x1d6),this['evaluateRematchRibbonFromCount'](g[N(0x176)],c)],[N(0x1db),this[N(0x196)](g['subgameMatches'],c)],[N(0x184),this[N(0x1cf)](g['uniqueMaps'][N(0x230)],c)],['Socialite\x20Ribbon',this['evaluateSocialiteRibbonFromCount'](g[N(0x1b6)][N(0x230)],c)],[N(0x188),this['evaluateBrickWallRibbonFromWinRate'](l,c,g[N(0x231)])],[N(0x1da),this['evaluateUnderdogRibbonFromCount'](g[N(0x1ca)],c)],[N(0x19a),this[N(0x182)](g[N(0x1fb)]['size'],c)]];m[N(0x1be)](([p,q])=>{q&&(e[p]=q);});const n=Object[N(0x1b4)](c)['length']+Object[N(0x1b4)](e)[N(0x190)],o=this[N(0x1a5)](n,c);return o&&(e['Collector\x20Ribbon']=o),e;}[a50w(0x182)](a,b){const R=a50w;if(a===0x0)return null;const c=b[R(0x19a)]||{'level':0x0};if(a>c[R(0x185)]){const d=[];for(let e=0x0;e<a;e++){d[R(0x1c0)](getRankTierName(e));}return console[R(0x1e7)](R(0x1b1)+c['level']+R(0x1dc)+a+'\x20(Dominated:\x20'+d[R(0x1f5)](',\x20')+')'),{'level':a,'awardedAt':new Date(),'dominatedRanks':d};}return null;}async['checkTopRankStatus'](a,b){const S=a50w;try{const c=b==='D1'?'players':b==='D2'?'playersD2':S(0x229),d=await this['getPlayerDataCached'](a,b);if(!d||d[S(0x1e3)]===undefined)return console[S(0x1e7)](S(0x1d5)+a),null;const e=d['eloRating'],f=getPlayerRankTier(e),g=getRankTierName(f);if(g===S(0x1bc))return console[S(0x1e7)]('âŒ\x20'+a+S(0x222)+e+'\x20ELO)'),null;console['log'](S(0x18a)+g+S(0x1ed)+a+'\x20('+e+'\x20ELO)');const h=collection(db,c),i=await getDocs(h);let j=null,k=-0x1,l=0x0;i[S(0x1be)](n=>{const T=S,o=n['data'](),p=o['eloRating']||0x0,q=getPlayerRankTier(p);q===f&&(l++,p>k&&(k=p,j=o[T(0x22c)]));});const m=j===a;return console[S(0x1e7)](S(0x1a7)+g+S(0x21c)+l+'\x20players,\x20Top:\x20'+j+'\x20('+k+S(0x1bf)+a+'\x20is\x20#1:\x20'+m),m?g:null;}catch(n){return console['error']('Error\x20checking\x20top\x20rank\x20status:',n),null;}}async['evaluateTopRankRibbon'](a,b,c){const U=a50w,d=await this['checkTopRankStatus'](a,b),e={};if(d){const f='Top\x20'+d+U(0x203);if(RIBBON_DEFINITIONS[f]){const g=c[f];!g?(console['log'](U(0x22b)+a+U(0x20f)+f+'!'),e[f]={'level':0x1,'awardedAt':new Date(),'rank':d,'achievedAt':new Date()}):console[U(0x1e7)]('âœ…\x20'+a+'\x20already\x20has\x20'+f+'\x20-\x20No\x20changes\x20needed');}}return Object['keys'](c)['forEach'](h=>{const V=U;h['startsWith'](V(0x19c))&&h[V(0x20a)](V(0x203))&&(!e[h]&&console['log']('âœ…\x20Preserving\x20existing\x20'+h));}),e;}async['evaluateAllRibbonsForPlayerOptimized'](a,b='D1'){const W=a50w;try{const c=ribbonCache[W(0x212)](a,b);if(c){const k=await this[W(0x22d)](a,b,c);if(Object[W(0x1b4)](k)['length']>0x0){console['log']('ðŸ†•\x20New\x20top\x20rank\x20achievements\x20found\x20for\x20cached\x20player\x20'+a),await this[W(0x1ea)](a,k,b);const l={...c,...k};return ribbonCache[W(0x191)](a,b,l,0x0),l;}return c;}const [d,e]=await Promise['all']([this['getPlayerDataCached'](a,b),this[W(0x1f4)](a,b)]);if(!d)return{};const f=d[W(0x1ab)]||0x0,g=await this['evaluateTopRankRibbon'](a,b,e);if(!ribbonCache['shouldRefreshCache'](a,b,f)){if(Object[W(0x1b4)](g)['length']>0x0){await this[W(0x1ea)](a,g,b);const m={...e,...g};return ribbonCache[W(0x191)](a,b,m,f),m;}return ribbonCache[W(0x191)](a,b,e,f),e;}const h=await this[W(0x17b)](a,b),i=await this['evaluateAllRibbonsFromData'](h,d,e,b);Object[W(0x195)](i,g);Object['keys'](i)[W(0x190)]>0x0&&(console['log']('ðŸ’¾\x20Saving\x20'+Object[W(0x1b4)](i)[W(0x190)]+W(0x1d8)+a),await this[W(0x1ea)](a,i,b));const j={...e,...i};return ribbonCache[W(0x191)](a,b,j,h[W(0x190)]),j;}catch(n){return console['error'](W(0x1e6),n),{};}}async['isUnderdogVictory'](a,b,c){const X=a50w,d=a[X(0x1ce)]===b;if(!d)return![];const e=a[X(0x1ae)],[f,g]=await Promise[X(0x1ff)]([this[X(0x19d)](b,c),this[X(0x19d)](e,c)]);if(!f||!g)return console['log'](X(0x1c6)+b+'\x20or\x20'+e),![];const h=f['eloRating']||0x0,i=g[X(0x1e3)]||0x0,j=getPlayerRankTier(h),k=getPlayerRankTier(i);console['log'](X(0x1de)+b+X(0x19b)+h+X(0x1a2)+getRankTierName(j)+X(0x226)+e+X(0x19b)+i+'\x20ELO\x20('+getRankTierName(k)+')');if(k>j)return console[X(0x1e7)](X(0x1fc)+getRankTierName(j)+X(0x1c7)+getRankTierName(k)+'!'),!![];return console['log']('âŒ\x20Not\x20underdog:\x20'+getRankTierName(j)+X(0x20e)+getRankTierName(k)),![];}[a50w(0x180)](a,b,c,d){const Y=a50w,e=a[Y(0x1ce)]===b;if(!e)return![];const f=a['loserUsername'],g=d['get'](f);if(!c||!g)return![];const h=c[Y(0x1e3)]||0x0,i=g[Y(0x1e3)]||0x0,j=getPlayerRankTier(h),k=getPlayerRankTier(i);if(k>j)return console[Y(0x1e7)]('ðŸŽ¯\x20UNDERDOG:\x20'+getRankTierName(j)+'('+h+')\x20beat\x20'+getRankTierName(k)+'('+i+')'),!![];return![];}async[a50w(0x22f)](a,b,c,d){const a0=a50w,e={},f=b['username'],g={'totalMatches':a['length'],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0},h=new Set();a['forEach'](o=>{const Z=a50b,p=o[Z(0x1ce)]===f,q=p?o[Z(0x1ae)]:o['winnerUsername'];if(q)h['add'](q);}),console['log'](a0(0x17c)+h['size']+'\x20player\x20records\x20for\x20underdog\x20calculations...');const i=await this[a0(0x1bd)]([...h,f],d),j=i[a0(0x1f3)](f);!j&&console['log']('âš ï¸\x20No\x20current\x20player\x20data\x20found\x20for\x20'+f);a['forEach'](o=>{const a1=a0,p=o['winnerUsername']===f,q=p?o['loserUsername']:o[a1(0x1ce)];p&&(g['wins']++,o[a1(0x17e)]===a1(0x214)&&g[a1(0x176)]++,this[a1(0x180)](o,f,j,i)&&g[a1(0x1ca)]++),o[a1(0x17e)]&&o['subgameType']!=='Standard'&&g[a1(0x224)]++,o['mapPlayed']&&g[a1(0x1ee)]['add'](o['mapPlayed']),q&&g[a1(0x1b6)][a1(0x1c1)](q);}),console['log']('ðŸŽ¯\x20Found\x20'+g[a0(0x1ca)]+'\x20underdog\x20victories\x20for\x20'+f);const k=g[a0(0x231)]>0x0?g['wins']/g['totalMatches']*0x64:0x0,l=[['Overachiever\x20Ribbon',this[a0(0x213)](g[a0(0x231)],c)],[a0(0x1d6),this[a0(0x225)](g[a0(0x176)],c)],['Sub-Gamer\x20Ribbon',this['evaluateSubGamerRibbonFromCount'](g['subgameMatches'],c)],[a0(0x184),this[a0(0x1cf)](g['uniqueMaps'][a0(0x230)],c)],['Socialite\x20Ribbon',this['evaluateSocialiteRibbonFromCount'](g['uniqueOpponents'][a0(0x230)],c)],['Brick\x20Wall',this['evaluateBrickWallRibbonFromWinRate'](k,c,g[a0(0x231)])],['Underdog\x20Ribbon',this['evaluateUnderdogRibbonFromCount'](g['underdogWins'],c)]];l['forEach'](([o,p])=>{p&&(e[o]=p);});const m=Object[a0(0x1b4)](c)[a0(0x190)]+Object['keys'](e)['length'],n=this['evaluateCollectorRibbonFromCount'](m,c);return n&&(e['Collector\x20Ribbon']=n),e;}async[a50w(0x17b)](a,b){const a2=a50w,c=matchCache['getCachedMatches'](a,b);if(c)return c;try{const d=b==='D1'?'approvedMatches':b==='D2'?'approvedMatchesD2':a2(0x209),e=collection(db,d),[f,g]=await Promise[a2(0x1ff)]([getDocs(query(e,where(a2(0x1ce),'==',a))),getDocs(query(e,where('loserUsername','==',a)))]),h=new Set(),i=[];return f['forEach'](j=>{const a3=a2;if(!h['has'](j['id'])){h[a3(0x1c1)](j['id']);const k={'id':j['id'],...j['data']()};if(!k['winnerRating'])k['winnerRating']=0x0;if(!k[a3(0x17f)])k[a3(0x17f)]=0x0;i['push'](k);}}),g['forEach'](j=>{const a4=a2;if(!h[a4(0x1cd)](j['id'])){h['add'](j['id']);const k={'id':j['id'],...j['data']()};if(!k[a4(0x1a0)])k['winnerRating']=0x0;if(!k['loserRating'])k['loserRating']=0x0;i['push'](k);}}),matchCache[a2(0x1aa)](a,b,i),i;}catch(j){return console[a2(0x187)](a2(0x1d1),j),[];}}async['getPlayerDataCached'](a,b){const a5=a50w;try{const c=b==='D1'?a5(0x216):b==='D2'?'playersD2':'playersD3',d=collection(db,c),e=query(d,where(a5(0x22c),'==',a),limit(0x1)),f=await getDocs(e);if(f['empty'])return console['log']('âŒ\x20No\x20player\x20data\x20found\x20for\x20'+a+'\x20in\x20'+c),null;const g=f[a5(0x18f)][0x0][a5(0x194)]();return g['eloRating']!==undefined&&(g[a5(0x19e)]=g[a5(0x1e3)]),console['log']('âœ…\x20Found\x20player\x20data\x20for\x20'+a+':\x20ELO\x20'+g[a5(0x1e3)]+a5(0x18e)+g[a5(0x1d2)]),g;}catch(h){return console['error'](a5(0x1c4)+a+':',h),null;}}async['getPlayerRibbonsCached'](a,b){const a6=a50w;try{const c='playerRibbons'+(b==='D1'?'':b),d=doc(db,c,a),e=await getDoc(d);return e[a6(0x215)]()?e[a6(0x194)]()[a6(0x1d3)]||{}:{};}catch(f){return console[a6(0x187)]('Error\x20getting\x20player\x20ribbons:',f),{};}}async[a50w(0x1ea)](a,b,c){const a7=a50w;try{const d=a7(0x1d7)+(c==='D1'?'':c),e=doc(db,d,a),f=await this[a7(0x1f4)](a,c),g={...f,...b};await setDoc(e,{'username':a,'ladder':c,'ribbons':g,'lastUpdated':new Date()},{'merge':!![]});}catch(h){console[a7(0x187)]('Error\x20saving\x20ribbons:',h);}}[a50w(0x213)](a,b){const c=b['Overachiever\x20Ribbon']||{'level':0x0},d=RIBBON_DEFINITIONS['Overachiever\x20Ribbon']['levels'],e=d['findIndex'](g=>a<g),f=e===-0x1?d['length']:e;if(f>c['level'])return{'level':f,'awardedAt':new Date()};return null;}[a50w(0x225)](a,b){const a8=a50w;if(a===0x0)return null;const c=b['Rematch\x20Ribbon']||{'level':0x0};if(a>c[a8(0x185)])return{'level':a,'awardedAt':new Date()};return null;}['evaluateSubGamerRibbonFromCount'](a,b){const a9=a50w,c=b['Sub-Gamer\x20Ribbon']||{'level':0x0},d=RIBBON_DEFINITIONS[a9(0x1db)]['levels'],e=d[a9(0x207)](g=>a<g),f=e===-0x1?d['length']:e;if(f>c['level'])return{'level':f,'awardedAt':new Date()};return null;}['evaluateExplorerRibbonFromCount'](a,b){const aa=a50w,c=b['Explorer\x20Ribbon']||{'level':0x0},d=RIBBON_DEFINITIONS[aa(0x184)]['levels'],e=d['findIndex'](g=>a<g),f=e===-0x1?d[aa(0x190)]:e;if(f>c[aa(0x185)])return{'level':f,'awardedAt':new Date()};return null;}[a50w(0x21d)](a,b){const ab=a50w,c=b[ab(0x1a4)]||{'level':0x0},d=RIBBON_DEFINITIONS[ab(0x1a4)][ab(0x200)],e=d['findIndex'](g=>a<g),f=e===-0x1?d['length']:e;if(f>c[ab(0x185)])return{'level':f,'awardedAt':new Date()};return null;}[a50w(0x197)](a,b,c){const ac=a50w;if(c<0x32)return console[ac(0x1e7)]('âš ï¸\x20Brick\x20Wall\x20ribbon\x20requires\x2050+\x20matches\x20(player\x20has\x20'+c+')'),null;const d=b['Brick\x20Wall']||{'level':0x0},e=RIBBON_DEFINITIONS[ac(0x188)]['levels'],f=e['findIndex'](h=>a<h),g=f===-0x1?e[ac(0x190)]:f;if(g>d['level'])return console['log'](ac(0x1a1)+a['toFixed'](0x1)+ac(0x198)+c+ac(0x201)),{'level':g,'awardedAt':new Date(),'winRate':a,'matchesPlayed':c};return null;}['evaluateCollectorRibbonFromCount'](a,b){const ad=a50w,c=b['Collector\x20Ribbon']||{'level':0x0},d=RIBBON_DEFINITIONS[ad(0x218)]['levels'],e=d['findIndex'](g=>a<g),f=e===-0x1?d[ad(0x190)]:e;if(f>c['level'])return{'level':f,'awardedAt':new Date()};return null;}[a50w(0x1e1)](a,b){const ae=a50w;if(a===0x0)return null;const c=b[ae(0x1da)]||{'level':0x0},d=RIBBON_DEFINITIONS[ae(0x1da)][ae(0x200)];let e=0x0;for(let f=0x0;f<d['length'];f++){if(a>=d[f])e=f+0x1;else break;}if(e>c['level'])return console['log'](ae(0x1ba)+c[ae(0x185)]+ae(0x1dc)+e+'\x20('+a+'\x20underdog\x20wins)'),{'level':e,'awardedAt':new Date()};return null;}}function getPlayerRankTier(a){if(a===undefined||a===null)return 0x0;const b=Number(a);if(isNaN(b))return 0x0;if(b>=0x7d0)return 0x4;if(b>=0x708)return 0x3;if(b>=0x640)return 0x2;if(b>=0x578)return 0x1;return 0x0;}function getRankTierName(a){const af=a50w,b=[af(0x1bc),'Bronze',af(0x1e2),'Gold',af(0x21a)];return b[a]||'Unranked';}const ribbonSystem=new RibbonSystem(),ribbonCache=new RibbonCacheManager(),matchCache=new MatchCacheManager();function a50b(a,b){const c=a50a();return a50b=function(d,e){d=d-0x176;let f=c[d];if(a50b['DFloap']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a50b['DcNxhi']=g,a=arguments,a50b['DFloap']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a50b['DcNxhi'](f),a[i]=f):f=j,f;},a50b(a,b);}typeof window!==a50w(0x204)&&(window['getRibbonCacheStats']=()=>{const ag=a50w;return{'ribbon':ribbonCache[ag(0x217)](),'match':matchCache[ag(0x217)]()};});export async function evaluatePlayerRibbons(a,b='D1'){const ah=a50w;return await ribbonSystem[ah(0x21b)](a,b);}export function getRibbonHTML(a,b){const ai=a50w,c=RIBBON_DEFINITIONS[a];if(!c)return'';const d=b[ai(0x185)]||0x1,e=a[ai(0x21f)](ai(0x220),'')['replace']('\x20Badge',''),f=i=>{const aj=ai;if(i<=0x1)return'level-1';if(i<=0x2)return'level-2';if(i<=0x3)return aj(0x211);if(i<=0x4)return aj(0x21e);return'level-5-plus';},g=j=>{const ak=ai;if(j<=0x1)return'';const k=[];if(j>=0x2&&j<=0x4){const l=Math[ak(0x1f9)](j-0x1,0x3);for(let m=0x0;m<l;m++){k[ak(0x1c0)]('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>');}}if(j>=0x5&&j<=0x7){k['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20silver-star\x22></i>');const n=Math[ak(0x1f9)](j-0x5,0x2);for(let o=0x0;o<n;o++){k['push'](ak(0x1bb));}}return j>=0x8&&k['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20gold-star\x22></i>'),k[ak(0x190)]>0x0?'<div\x20class=\x22ribbon-devices\x22>'+k[ak(0x1f5)]('')+ak(0x186):'';},h=c[ai(0x1fe)]+'\x20-\x20Level\x20'+d;return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22military-ribbon\x22\x20data-tooltip=\x22'+h+ai(0x20c)+c[ai(0x17d)]+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22'+a+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22ribbon-image\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27;\x20this.nextElementSibling.style.display=\x27block\x27;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-fallback\x22\x20style=\x22display:\x20none;\x20background:\x20'+c[ai(0x1af)]+ai(0x1c2)+e[ai(0x1a3)](0x0,0x6)+ai(0x22e)+g(d)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-name\x22>'+e+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(d>0x1?'<div\x20class=\x22ribbon-level-indicator\x20'+f(d)+'\x22>'+d+ai(0x186):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}