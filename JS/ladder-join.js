function a25_0x5691(_0x2cca92,_0x5549f4){const _0x26b0cf=a25_0xecaf();return a25_0x5691=function(_0x154034,_0x324baf){_0x154034=_0x154034-0xdd;let _0x548258=_0x26b0cf[_0x154034];return _0x548258;},a25_0x5691(_0x2cca92,_0x5549f4);}const a25_0x46ba47=a25_0x5691;(function(_0x4d00c2,_0x236238){const _0x4b2226=a25_0x5691,_0x8d2746=_0x4d00c2();while(!![]){try{const _0x53fb6a=parseInt(_0x4b2226(0x113))/0x1*(parseInt(_0x4b2226(0x12f))/0x2)+-parseInt(_0x4b2226(0x115))/0x3*(-parseInt(_0x4b2226(0x12e))/0x4)+-parseInt(_0x4b2226(0x12c))/0x5*(parseInt(_0x4b2226(0x138))/0x6)+parseInt(_0x4b2226(0x104))/0x7+parseInt(_0x4b2226(0xe7))/0x8+parseInt(_0x4b2226(0x130))/0x9+-parseInt(_0x4b2226(0xfa))/0xa;if(_0x53fb6a===_0x236238)break;else _0x8d2746['push'](_0x8d2746['shift']());}catch(_0x468424){_0x8d2746['push'](_0x8d2746['shift']());}}}(a25_0xecaf,0x4dd63));const a25_0x4b4492=(function(){let _0x270922=!![];return function(_0x5cf6ec,_0x512f1e){const _0x2e77a5=_0x270922?function(){if(_0x512f1e){const _0x48145c=_0x512f1e['apply'](_0x5cf6ec,arguments);return _0x512f1e=null,_0x48145c;}}:function(){};return _0x270922=![],_0x2e77a5;};}()),a25_0x5c47e4=a25_0x4b4492(this,function(){const _0x432ef8=a25_0x5691;return a25_0x5c47e4['toString']()['search']('(((.+)+)+)+$')[_0x432ef8(0x10e)]()[_0x432ef8(0x107)](a25_0x5c47e4)[_0x432ef8(0xe1)](_0x432ef8(0x132));});a25_0x5c47e4();const a25_0x324baf=(function(){let _0xa7a6c3=!![];return function(_0x8e04ef,_0x5c3865){const _0xbd3609=_0xa7a6c3?function(){const _0x33a24e=a25_0x5691;if(_0x5c3865){const _0x161749=_0x5c3865[_0x33a24e(0x121)](_0x8e04ef,arguments);return _0x5c3865=null,_0x161749;}}:function(){};return _0xa7a6c3=![],_0xbd3609;};}()),a25_0x154034=a25_0x324baf(this,function(){const _0x4540dc=a25_0x5691,_0x8bd12c=function(){const _0x156e7f=a25_0x5691;let _0x25ad39;try{_0x25ad39=Function(_0x156e7f(0xef)+_0x156e7f(0xe9)+');')();}catch(_0x26b452){_0x25ad39=window;}return _0x25ad39;},_0xd3cb62=_0x8bd12c(),_0x1fa836=_0xd3cb62[_0x4540dc(0x136)]=_0xd3cb62['console']||{},_0x58ebb2=[_0x4540dc(0x13a),_0x4540dc(0xe4),'info',_0x4540dc(0xfb),_0x4540dc(0x133),'table',_0x4540dc(0x127)];for(let _0x39d6b5=0x0;_0x39d6b5<_0x58ebb2['length'];_0x39d6b5++){const _0x7be8c0=a25_0x324baf['constructor']['prototype'][_0x4540dc(0xed)](a25_0x324baf),_0x3eeb0a=_0x58ebb2[_0x39d6b5],_0x18c33e=_0x1fa836[_0x3eeb0a]||_0x7be8c0;_0x7be8c0[_0x4540dc(0x103)]=a25_0x324baf[_0x4540dc(0xed)](a25_0x324baf),_0x7be8c0[_0x4540dc(0x10e)]=_0x18c33e['toString'][_0x4540dc(0xed)](_0x18c33e),_0x1fa836[_0x3eeb0a]=_0x7be8c0;}});a25_0x154034();function a25_0xecaf(){const _0x351fc8=['Unknown\x20ladder\x20type:\x20','exists','You\x20are\x20already\x20part\x20of\x20the\x20','8513jiuIdv','You\x20must\x20be\x20signed\x20in\x20to\x20join\x20a\x20ladder.','507tUqbCM','Authentication\x20failed.\x20Please\x20sign\x20in\x20again.','playersD3','Please\x20enter\x20your\x20username\x20to\x20confirm.','Username\x20doesn\x27t\x20match.\x20Please\x20enter\x20\x22','join-ladder-button','join-username-input','Joining\x20','getElementById','click','players','Successfully\x20joined\x20the\x20','apply','addEventListener','onclick','\x20ladder...','tiny-join-button','getIdToken','trace','display','DUOS','toUpperCase','CTF','25285BpNIEo','playersCTF','12868xmdBVQ','44YjCheE','5604534ecamSA','reload','(((.+)+)+)+$','exception','Ladder\x20join:\x20D2\x20radio\x20found:','currentUser','console','disabled','156xvKrMY','Ladder\x20join:\x20D1\x20radio\x20found:','log','Error\x20joining\x20ladder:','ladder-join-prompt','Error\x20joining\x20ladder:\x20','Error\x20checking\x20','search','DOMContentLoaded','ladder-join-status\x20success','warn','email','split','1547992AnCIut','playersD2','{}.constructor(\x22return\x20this\x22)(\x20)','location','trim','textContent','bind','className','return\x20(function()\x20','nonParticipants','Successfully\x20joined\x20the\x20Duos\x20ladder!\x20You\x20can\x20now\x20form\x20teams\x20with\x20other\x20players.\x20The\x20page\x20will\x20refresh...','style','toLowerCase','position','block',',\x20defaulting\x20to\x20D1','change','data','Verifying\x20username...','14754380KSDFIW','error','\x22\x20to\x20confirm.','\x20ladder!\x20The\x20page\x20will\x20refresh...','d2-switch','ladder-join-status','playersDuos','join-ladder-type','Authentication\x20verification\x20failed:','__proto__','2649885RGwTUE','docs','ladder-join-status\x20error','constructor','desc','none','DUO','value','target','checked','toString','uid'];a25_0xecaf=function(){return _0x351fc8;};return a25_0xecaf();}import{doc,getDoc,getDocs,setDoc,query,collection,orderBy,limit,serverTimestamp}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{onAuthStateChanged}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';import{auth,db}from'./firebase-config.js';let currentLadder='D1';document[a25_0x46ba47(0x122)](a25_0x46ba47(0xe2),()=>{const _0x4a010a=a25_0x46ba47,_0x35126a=document[_0x4a010a(0x11d)]('d1-switch'),_0x2f46f7=document[_0x4a010a(0x11d)](_0x4a010a(0xfe));console[_0x4a010a(0x13a)](_0x4a010a(0x139),!!_0x35126a),console[_0x4a010a(0x13a)](_0x4a010a(0x134),!!_0x2f46f7);function _0x44000c(){document['querySelectorAll']('input[name=\x22ladder\x22]')['forEach'](_0x21743a=>{const _0x2f73bf=a25_0x5691;_0x21743a[_0x2f73bf(0x122)](_0x2f73bf(0xf7),_0x2649a2=>{const _0x3a71b5=_0x2f73bf;_0x2649a2[_0x3a71b5(0x10c)][_0x3a71b5(0x10d)]&&(currentLadder=_0x2649a2['target']['value'],console['log']('Ladder\x20changed\x20to:\x20'+currentLadder),checkUserLadderStatus());});});}_0x44000c();const _0xbf1fd9=document[_0x4a010a(0x11d)]('join-ladder-button');_0xbf1fd9&&_0xbf1fd9[_0x4a010a(0x122)](_0x4a010a(0x11e),handleJoinLadder),onAuthStateChanged(auth,_0x3e2ba1=>{const _0x2a64ec=_0x4a010a;if(_0x3e2ba1)checkUserLadderStatus();else{const _0x1db59c=document['getElementById'](_0x2a64ec(0xde));_0x1db59c&&(_0x1db59c['style'][_0x2a64ec(0x128)]=_0x2a64ec(0x109));}});});function getCollectionName(_0x111eb0){const _0x2aff54=a25_0x46ba47;switch(_0x111eb0?.[_0x2aff54(0x12a)]()){case'D1':return'players';case'D2':return _0x2aff54(0xe8);case'D3':return _0x2aff54(0x117);case _0x2aff54(0x129):case _0x2aff54(0x10a):return _0x2aff54(0x100);case _0x2aff54(0x12b):return _0x2aff54(0x12d);default:console[_0x2aff54(0xe4)](_0x2aff54(0x110)+_0x111eb0+_0x2aff54(0xf6));return'players';}}async function checkUserLadderStatus(){const _0x462a9a=a25_0x46ba47;console[_0x462a9a(0x13a)]('Checking\x20user\x20status\x20for\x20ladder:',currentLadder);const _0x3de73a=auth[_0x462a9a(0x135)],_0x55d325=document[_0x462a9a(0x11d)](_0x462a9a(0xde)),_0x398f04=document[_0x462a9a(0x11d)](_0x462a9a(0x101)),_0x3e4dbe=document[_0x462a9a(0x11d)](_0x462a9a(0x125));if(!_0x3de73a||!_0x3de73a[_0x462a9a(0x10f)]||!_0x55d325||!_0x398f04||!_0x3e4dbe){if(_0x55d325)_0x55d325[_0x462a9a(0xf2)]['display']=_0x462a9a(0x109);if(_0x3e4dbe)_0x3e4dbe[_0x462a9a(0xf2)]['display']=_0x462a9a(0x109);return;}try{try{await _0x3de73a[_0x462a9a(0x126)](![]);}catch(_0x118180){console[_0x462a9a(0xfb)](_0x462a9a(0x102),_0x118180),_0x55d325[_0x462a9a(0xf2)][_0x462a9a(0x128)]=_0x462a9a(0x109),_0x3e4dbe['style'][_0x462a9a(0x128)]=_0x462a9a(0x109);return;}const _0x5b0bbf=getCollectionName(currentLadder),_0x20d30e=doc(db,_0x5b0bbf,_0x3de73a[_0x462a9a(0x10f)]),_0x44aea2=await getDoc(_0x20d30e);if(_0x44aea2[_0x462a9a(0x111)]())_0x55d325[_0x462a9a(0xf2)][_0x462a9a(0x128)]='none',_0x3e4dbe[_0x462a9a(0xf2)][_0x462a9a(0x128)]='none';else{_0x55d325['style'][_0x462a9a(0x128)]='none',_0x3e4dbe[_0x462a9a(0xf2)][_0x462a9a(0x128)]=_0x462a9a(0xf5),_0x398f04[_0x462a9a(0xec)]=currentLadder,_0x3e4dbe[_0x462a9a(0x123)]=()=>{const _0x1ad948=_0x462a9a;_0x55d325[_0x1ad948(0xf2)]['display']===_0x1ad948(0xf5)?_0x55d325[_0x1ad948(0xf2)][_0x1ad948(0x128)]='none':_0x55d325['style'][_0x1ad948(0x128)]=_0x1ad948(0xf5);};const _0x3460cd=document['getElementById'](_0x462a9a(0x11b)),_0x27401c=document[_0x462a9a(0x11d)](_0x462a9a(0xff));if(_0x3460cd)_0x3460cd['value']='';_0x27401c&&(_0x27401c[_0x462a9a(0xec)]='',_0x27401c[_0x462a9a(0xee)]=_0x462a9a(0xff));}}catch(_0x2c9c23){console['error']('Error\x20checking\x20ladder\x20status:',_0x2c9c23),_0x55d325[_0x462a9a(0xf2)]['display']=_0x462a9a(0x109),_0x3e4dbe[_0x462a9a(0xf2)][_0x462a9a(0x128)]='none';}}async function handleJoinLadder(){const _0xce70a1=a25_0x46ba47,_0x5e628e=auth[_0xce70a1(0x135)],_0x32365a=document[_0xce70a1(0x11d)](_0xce70a1(0x11a)),_0x5a853d=document[_0xce70a1(0x11d)]('ladder-join-status'),_0x11c7b3=document[_0xce70a1(0x11d)](_0xce70a1(0x11b));if(!_0x5e628e||!_0x5e628e[_0xce70a1(0x10f)]){_0x5a853d['textContent']=_0xce70a1(0x114),_0x5a853d[_0xce70a1(0xee)]=_0xce70a1(0x106);return;}try{await _0x5e628e[_0xce70a1(0x126)](!![]);}catch(_0x47fbca){console[_0xce70a1(0xfb)]('Authentication\x20error:',_0x47fbca),_0x5a853d[_0xce70a1(0xec)]='Authentication\x20failed.\x20Please\x20sign\x20in\x20again.',_0x5a853d[_0xce70a1(0xee)]='ladder-join-status\x20error';return;}if(!_0x11c7b3||!_0x11c7b3[_0xce70a1(0x10b)][_0xce70a1(0xeb)]()){_0x5a853d[_0xce70a1(0xec)]=_0xce70a1(0x118),_0x5a853d['className']=_0xce70a1(0x106);return;}try{_0x32365a['disabled']=!![],_0x5a853d[_0xce70a1(0xec)]=_0xce70a1(0xf9),_0x5a853d[_0xce70a1(0xee)]='ladder-join-status\x20loading';let _0x54bf21='',_0x24a286=null;const _0xea2222=[_0xce70a1(0x11f),_0xce70a1(0xe8),_0xce70a1(0x117),'playersDuos',_0xce70a1(0x12d),_0xce70a1(0xf0)];for(const _0x114860 of _0xea2222){try{const _0x4cf4e7=doc(db,_0x114860,_0x5e628e[_0xce70a1(0x10f)]),_0x50428d=await getDoc(_0x4cf4e7);if(_0x50428d['exists']()){_0x24a286=_0x50428d['data']();if(_0x24a286['username']){_0x54bf21=_0x24a286['username'];break;}}}catch(_0x1c3f91){console[_0xce70a1(0xfb)](_0xce70a1(0xe0)+_0x114860+':',_0x1c3f91);}}!_0x54bf21&&_0x5e628e[_0xce70a1(0xe5)]&&(_0x54bf21=_0x5e628e[_0xce70a1(0xe5)][_0xce70a1(0xe6)]('@')[0x0]);if(!_0x54bf21){_0x5a853d[_0xce70a1(0xec)]='Could\x20not\x20verify\x20your\x20account.\x20Please\x20contact\x20an\x20administrator.',_0x5a853d[_0xce70a1(0xee)]='ladder-join-status\x20error',_0x32365a[_0xce70a1(0x137)]=![];return;}const _0x1d1fa5=_0x11c7b3['value']['trim']();if(_0x54bf21&&_0x1d1fa5[_0xce70a1(0xf3)]()!==_0x54bf21['toLowerCase']()){_0x5a853d['textContent']=_0xce70a1(0x119)+_0x54bf21+_0xce70a1(0xfc),_0x5a853d['className']=_0xce70a1(0x106),_0x32365a[_0xce70a1(0x137)]=![];return;}_0x5a853d['textContent']=_0xce70a1(0x11c)+currentLadder+_0xce70a1(0x124);const _0xd4bb96=getCollectionName(currentLadder),_0x2c54a0=doc(db,_0xd4bb96,_0x5e628e[_0xce70a1(0x10f)]),_0x3db158=await getDoc(_0x2c54a0);if(_0x3db158[_0xce70a1(0x111)]()){_0x5a853d[_0xce70a1(0xec)]=_0xce70a1(0x112)+currentLadder+'\x20ladder.',_0x5a853d[_0xce70a1(0xee)]='ladder-join-status\x20error',_0x32365a['disabled']=![];return;}try{await _0x5e628e[_0xce70a1(0x126)](!![]);}catch(_0x457c6d){_0x5a853d['textContent']=_0xce70a1(0x116),_0x5a853d['className']='ladder-join-status\x20error',_0x32365a[_0xce70a1(0x137)]=![];return;}const _0x5570a6=_0x54bf21,_0x48e826=collection(db,_0xd4bb96),_0x563f7e=query(_0x48e826,orderBy(_0xce70a1(0xf4),_0xce70a1(0x108)),limit(0x1)),_0x20cc6c=await getDocs(_0x563f7e);let _0x1e95cd=0x1;if(!_0x20cc6c['empty']){const _0x492b57=_0x20cc6c[_0xce70a1(0x105)][0x0][_0xce70a1(0xf8)]();_0x1e95cd=(_0x492b57[_0xce70a1(0xf4)]||0x0)+0x1;}const _0x14d9fe={'username':_0x5570a6,'email':_0x5e628e[_0xce70a1(0xe5)],'eloRating':0x4b0,'position':_0x1e95cd,'createdAt':serverTimestamp(),'isAdmin':![],'matches':0x0,'wins':0x0,'losses':0x0,'gameMode':currentLadder,...currentLadder===_0xce70a1(0x129)&&{'hasTeam':![],'teamId':null,'teamName':null,'teammate':null,'teamColor':null,'lookingForTeam':!![],'tierValue':0x3e8}};await setDoc(_0x2c54a0,_0x14d9fe),currentLadder===_0xce70a1(0x129)?_0x5a853d[_0xce70a1(0xec)]=_0xce70a1(0xf1):_0x5a853d[_0xce70a1(0xec)]=_0xce70a1(0x120)+currentLadder+_0xce70a1(0xfd),_0x5a853d[_0xce70a1(0xee)]=_0xce70a1(0xe3),setTimeout(()=>{const _0x4b00d5=_0xce70a1;window[_0x4b00d5(0xea)][_0x4b00d5(0x131)]();},0x7d0);}catch(_0x45dca7){console['error'](_0xce70a1(0xdd),_0x45dca7),_0x5a853d[_0xce70a1(0xec)]=_0xce70a1(0xdf)+_0x45dca7['message'],_0x5a853d[_0xce70a1(0xee)]='ladder-join-status\x20error',_0x32365a[_0xce70a1(0x137)]=![];}}