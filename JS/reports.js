const a48L=a48d;(function(a,b){const I=a48d,c=a();while(!![]){try{const d=-parseInt(I(0x12f))/0x1+parseInt(I(0xff))/0x2+-parseInt(I(0x9a))/0x3*(-parseInt(I(0xc8))/0x4)+-parseInt(I(0x101))/0x5+-parseInt(I(0xf0))/0x6*(parseInt(I(0x128))/0x7)+-parseInt(I(0x14a))/0x8+parseInt(I(0xe1))/0x9;if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a48c,0x987a4));const a48b=(function(){let a=!![];return function(b,c){const d=a?function(){const J=a48d;if(c){const e=c[J(0xee)](b,arguments);return c=null,e;}}:function(){};return a=![],d;};}()),a48a=a48b(this,function(){const K=a48d;let a;try{const d=Function('return\x20(function()\x20'+K(0x111)+');');a=d();}catch(f){a=window;}const b=a[K(0xf2)]=a[K(0xf2)]||{},c=[K(0x106),'warn','info','error',K(0xab),'table',K(0x11e)];for(let g=0x0;g<c['length'];g++){const h=a48b[K(0x124)]['prototype']['bind'](a48b),i=c[g],j=b[i]||h;h[K(0x141)]=a48b[K(0xd2)](a48b),h[K(0x15a)]=j['toString'][K(0xd2)](j),b[i]=h;}});a48a();import{approveReport}from'./ladderalgorithm.js';import{approveReportD2}from'./ladderalgorithm-d2.js';import{approveReportD3}from'./ladderalgorithm-d3.js';import{checkPendingMatches,updatePendingMatchNotification,updateNotificationDot}from'./checkPendingMatches.js';import{collection,getDocs,query,where,orderBy,serverTimestamp,doc,setDoc,getDoc,addDoc,updateDoc,deleteDoc}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{onAuthStateChanged}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';import{auth,db}from'./firebase-config.js';let currentUserEmail=null,confirmationNotification=null,outstandingReportData=null,currentGameMode='D1',outstandingMatches=[];document[a48L(0xd4)]('DOMContentLoaded',async()=>{const M=a48L,a={'authWarning':document[M(0x117)]('auth-warning'),'reportForm':document[M(0x117)]('report-form'),'winnerUsername':document['getElementById'](M(0x130)),'loserUsername':document['getElementById'](M(0x13c)),'loserScore':document[M(0x117)]('loser-score'),'suicides':document['getElementById'](M(0x8e)),'mapPlayed':document['getElementById']('map-played'),'loserComment':document[M(0x117)](M(0x15f)),'reportError':document[M(0x117)](M(0x11c)),'reportLightbox':document['getElementById'](M(0x14f))};Object['entries'](a)['forEach'](([f,g])=>{const N=M;!g&&console[N(0xc5)](N(0x15d)+f+N(0xdf));});const b=document['getElementById'](M(0x149)),c=document['getElementById']('d2-mode'),d=document['getElementById']('d3-mode');b['addEventListener'](M(0x154),()=>{const O=M;e('D1'),b[O(0xbb)]['add'](O(0x14b)),c['classList'][O(0xac)]('active'),d['classList']['remove']('active');}),c['addEventListener']('click',()=>{const P=M;e('D2'),c['classList']['add']('active'),b[P(0xbb)][P(0xac)]('active'),d['classList'][P(0xac)]('active');}),d[M(0xd4)](M(0x154),()=>{const Q=M;e('D3'),d['classList']['add']('active'),b['classList'][Q(0xac)](Q(0x14b)),c[Q(0xbb)]['remove']('active');});function e(f){const R=M;currentGameMode=f,console[R(0x106)](R(0xb7)+currentGameMode),auth[R(0xc0)]&&checkUserInLadderAndLoadOpponents(auth['currentUser'][R(0x147)]);}setupAuthStateListener(a),setupReportForm(a),auth[M(0xc0)]?(console[M(0x106)]('User\x20already\x20logged\x20in,\x20checking\x20D1\x20ladder\x20status'),checkUserInLadderAndLoadOpponents(auth['currentUser']['uid'])):console['log'](M(0xa9));});function setupAuthStateListener(a){onAuthStateChanged(auth,async b=>{b?handleUserSignedIn(b,a):handleUserSignedOut(a);});}async function handleUserSignedIn(a,b){const S=a48L;if(!b){console[S(0x11f)](S(0xbf));return;}currentUserEmail=a[S(0xd7)]||null;const c=a['uid'];try{const d=doc(db,'nonParticipants',c);try{const i=await getDoc(d);console[S(0x106)](S(0xd9),{'exists':i[S(0x135)](),'data':i[S(0x135)]()?i[S(0xbe)]():null});if(i['exists']()&&i['data']()[S(0x160)]===!![]){b[S(0xf3)]&&(b['authWarning']['style']['display']='block',b['authWarning'][S(0x12d)]=S(0x102));b['reportForm']&&(b[S(0x10b)]['style']['display']=S(0x98));return;}}catch(j){console['warn'](S(0x165),j);}const e=['players',S(0x13e),'playersD3','playersDuos','playersCTF'];let f=![],g='';for(const k of e){try{const l=doc(db,k,c),m=await getDoc(l);if(m['exists']()){f=!![],g=m[S(0xbe)]()[S(0x159)],console[S(0x106)](S(0x12a)+k+S(0xea)+g);if(k===S(0xe6)&&currentGameMode!=='D1'){currentGameMode='D1';const n=document[S(0x117)]('d1-mode'),o=document[S(0x117)](S(0xf7)),p=document['getElementById']('d3-mode');n['classList']['add']('active'),o[S(0xbb)]['remove']('active'),p[S(0xbb)]['remove']('active');}else{if(k===S(0x13e)&&currentGameMode!=='D2'){currentGameMode='D2';const q=document[S(0x117)](S(0x149)),r=document['getElementById']('d2-mode'),s=document[S(0x117)]('d3-mode');r['classList']['add']('active'),q['classList'][S(0xac)]('active'),s['classList']['remove'](S(0x14b));}}break;}}catch(t){console[S(0xc5)]('Error\x20checking\x20'+k+'\x20collection:',t);}}if(!f){b['authWarning']&&(b['authWarning'][S(0xc2)]['display']=S(0x145),b['authWarning']['textContent']=S(0x107));b[S(0x10b)]&&(b[S(0x10b)][S(0xc2)][S(0x11b)]='none');return;}const h=await checkUserInLadderAndLoadOpponents(c);if(!h){console['warn']('User\x20is\x20not\x20in\x20the\x20'+currentGameMode+'\x20ladder.\x20Checking\x20other\x20ladders.');for(const u of[S(0xe6),'playersD2','playersD3']){if(u===(currentGameMode==='D1'?S(0xe6):currentGameMode==='D2'?S(0x13e):'playersD3'))continue;const v=doc(db,u,c);try{const w=await getDoc(v);if(w['exists']()){const x=u==='players'?'D1':u===S(0x13e)?'D2':'D3';console['log']('User\x20found\x20in\x20'+u+',\x20switching\x20to\x20'+x+S(0x137));const y=document[S(0x117)](S(0x149)),z=document['getElementById'](S(0xf7)),A=document[S(0x117)]('d3-mode');if(x==='D1')y[S(0xbb)]['add']('active'),z[S(0xbb)]['remove'](S(0x14b)),A[S(0xbb)][S(0xac)](S(0x14b));else x==='D2'?(z['classList']['add'](S(0x14b)),y['classList'][S(0xac)](S(0x14b)),A['classList']['remove'](S(0x14b))):(A[S(0xbb)]['add'](S(0x14b)),y['classList']['remove']('active'),z['classList']['remove']('active'));currentGameMode=x,await checkUserInLadderAndLoadOpponents(c);break;}}catch(B){console[S(0xc5)]('Error\x20checking\x20'+u+':',B);}}}}catch(C){console[S(0x11f)](S(0xde),C);}}function handleUserSignedOut(a){const T=a48L;a[T(0xf3)][T(0xc2)][T(0x11b)]=T(0x145),a['reportForm'][T(0xc2)][T(0x11b)]='none',currentUserEmail=null;}function a48c(){const aC=['tg9Zzxi','Bg9ZzxiTy29TBwvUDa','AxnoB25qyxj0AwnPCgfUDa','CgvUzgLUz01HDgnOzxm','yxbWzw5Kq2HPBgq','zgLZywjSzwq','tM8GCgvUzgLUzYbTyxrJAgvZigzVDw5KigzVCIb0AgLZihvZzxi','rxjYB3iGy2HLy2TPBMCGBM9UlxbHCNrPy2LWyw50ihn0yxr1CZO','BgLNAhrIB3GTBwfW','rxjYB3i6ia','z2v0qxr0CMLIDxrL','uxvLCNKGyNKGD2LUBMvYswqGCMvZDwX0CZOG','i2qZmMyYzG','CMvTB3zLqxr0CMLIDxrL','C3vPy2LKzxm','vxnLCIbUB3qGyxv0AgvUDgLJyxrLza','yNv0Dg9U','uMvQzwn0ie1HDgnO','CMvK','B25ZDwjTAxq','ww91igfYzsbUB3qGCMvNAxn0zxjLzcbPBIb0AguG','pc9ZCgfUpGOGicaGicaGicaGicaGicaGphnWyw4Gy2XHC3m9iM1HDgnOlwrLDgfPBc1PDgvTiJ5ty29YztOGpYaTia','uMvQzwn0igj1DhrVBIbHzgrLzdO','CMvHze9UBhK','BM9Uzq','rM91BMqGCgvUzgLUzYbTyxrJAdO','ou5esMX6DG','zg9JCW','Bg9Zzxjty29Yzq','B3bWB25LBNq','rxjYB3iGy2HLy2TPBMCGBgfKzgvYig1LBwjLCNnOAxaUifbSzwfZzsb0CNKGywDHAw4GBgf0zxiU','BgLNAhrIB3GTD2LUBMvY','ChjLDMvUDerLzMf1Bhq','zNjVBq','u3rHBMrHCMqGtwf0y2G','BgLNAhrIB3GTC3vPy2LKzxm','zNvUy3rPB24','yM9YzgvY','rxjYB3iGDxbKyxrPBMCGCMvWB3j0oG','ChvZAa','y2fUy2vSlwvKAxqTyNrU','tM8GDxnLCIbSB2DNzwqGAw4GEwv0lcb3ywL0Aw5NigzVCIbHDxrOihn0yxrLignOyw5Nzq','tgLNAhrIB3GGzwXLBwvUDcbUB3qGzM91BMq','zxHJzxb0Aw9U','CMvTB3zL','ihDPDgGGsuq6ia','twf0y2GG','B3v0C3rHBMrPBMCTBw9KywW','igXHzgrLCI4','rxjYB3i6ieXVC2vYigrHDgeGBM90igzVDw5KlG','D2LUBMvYswq','ig1HDgnOzxmGzM91BMq','zM9UDfDLAwDODa','rxjYB3iGyxbWCM92Aw5Nig1HDgnOoIa','pc9ZCgfUpGOGicaGicaGicaGica8l2rPDJ4kicaGicaGicaGicaGpgrPDIbJBgfZCZ0IBwf0y2GTywn0Aw9UCYi+cIaGicaGicaGicaGicaGica8yNv0Dg9UignSyxnZpsjIDg4GDMLLDY1KzxrHAwWTyNrUiIbKyxrHlwLKpsi','r2fTzsbTB2rLihnLDcb0BZOG','zMLUza','D2LUBMvYt2XKrwXV','rxjYB3iGCMvZy2LUzgLUzYbYzxbVCNq6','y2XHC3nmAxn0','vw5RBM93BG','tg9HzgLUzYbVChbVBMvUDhmGzNjVBsbJB2XSzwn0Aw9UoIa','zgf0yq','rwXLBwvUDhmGB2jQzwn0igLZig51BgWGB3iGDw5KzwzPBMvK','y3vYCMvUDfvZzxi','yxbWCM92zwq','C3r5Bgu','C21VB3rO','D2LUBMvYlwnVBw1LBNq','D2fYBG','DgHLBG','C2L6zq','mtaWmJmXnLbqB21rDq','CgvUzgLUz01HDgnOzxnemW','rxjYB3iGy2HLy2TPBMCGB3v0C3rHBMrPBMCGCMvWB3j0CZO','BgLNAhrIB3GTy29TBwvUDa','BwfWlxbSyxLLza','qxjLihLVDsbZDxjLihLVDsb3yw50ihrVihjLC2nPBMqGDgHPCYbTyxrJAcbYzxbVCNqGywDHAw5ZDca','D2LUBMvYvxnLCM5HBwu','mtbWEa','ww91icG','vxnPBMCGy29SBgvJDgLVBJOG','yMLUza','tM8Gy29TBwvUDa','ywrKrxzLBNrmAxn0zw5LCG','CMvSB2fK','Dg9eyxrL','zw1HAwW','ugXLyxnLihnLBgvJDcbHBIbVChbVBMvUDa','tM9UlxbHCNrPy2LWyw50ignOzwnRoG','CgfKzgLUzW','rxjYB3iGC3vIBwL0DgLUzYbYzxbVCNq6','CgvUzgLUz01HDgnOzxnemG','Bg9Zzxjjza','rxjYB3iGzhvYAw5NihnPz24TAw4GAgfUzgXPBMC6','jYbUB3qGzM91BMqGAw4GDgHLierptq','yNjPyw4YywzaB3v0Bg9VAY5JB20','mte5mZGWndfyz092u0e','C3vIz2fTzvr5Cgu','cIaGicaGicaGpgrPDIbJBgfZCZ0IBwf0y2GTAxrLBsiGzgf0ys1Pzd0I','D2HPDgu','tM8GD2LUBMvYigzVDw5KigzVCIb0AgLZig1HDgnO','CgXHEwvYCW','C29YDa','pc9ZCgfUpGOGicaGicaGicaGicaGicaGphnWyw4Gy2XHC3m9iM1HDgnOlwrLDgfPBc1PDgvTiJ5eyxrLoIa','CMvWB3j0lwzVCM0','ihDPDgGGDxnLCM5HBwu6ia','D2LUBMvYlxnJB3jL','CMvZzxq','v2LUBMvYoIa','yxbWBhK','q3vYCMvUDcb1C2vYigLUzM86','mZq2mdGZnK9wyw1ytG','v2LUBMvY','y29UC29Szq','yxv0AfDHCM5PBMC','y3jLyxrLzef0','zgf0ys1LzgL0lwLK','pgrPDIbJBgfZCZ0IBg9HzgLUzYi+tg9HzgLUzYb5B3vYig1HDgnOzxmUlI48l2rPDJ4','zdiTBw9Kzq','y29SB3i','lNzPzxCTzgv0ywLSlwj0BG','igzVCIbNyw1Lig1Vzgu6ia','B3b0Aw9UCW','icHfte86ia','Bg9ZzxjdB21Tzw50','BgLNAhrIB3GTC3vIz2fTzq','otq4mZy0whHPyxjW','rxjYB3iGCMvQzwn0Aw5Nig1HDgnOoG','mZa3nZaWmezJDhPouq','tM9UlxbHCNrPy2LWyw50CYbJyw5UB3qGCMvWB3j0igDHBwvZlG','CMvWB3j0rxjYB3i','B3v0C3rHBMrPBMCTBwf0y2HLCY1SAxn0','C2HVDW','Bg9N','ww91igfYzsbUB3qGCMvNAxn0zxjLzcbPBIbHBNKGBgfKzgvYlG','ksWGtg9Zzxi6ia','tM90ihjLz2LZDgvYzwqGAw4GDgHPCYbSywrKzxi','B3b0Aw9U','CMvWB3j0rM9YBq','ywrK','yxv0Ac13yxjUAw5N','DgfYz2v0','uMvWB3j0ieDHBwu','Cg9ZAxrPB24','E30Uy29UC3rYDwn0B3iOiNjLDhvYBIb0AgLZiIKOicK','C2HVD01HDgnOtgLNAhrIB3G','Bg9ZzxiTC2nVCMu','uMvXDwLYzwqGzwXLBwvUDhmGBM90igzVDw5KigzVCIbSB2fKt3bWB25LBNrZtgLZDa','r2fTzsbYzxbVCNrLzcbZDwnJzxnZzNvSBhKH','v2LUBMvYia','z2v0rwXLBwvUDej5swq','yNrU','BgLNAhrIB3GTBg9ZzxiTC2nVCMu','iJ5fzgL0ifjLCg9YDdWVyNv0Dg9UpGOGicaGicaGicaGicaGicaGpgj1DhrVBIbJBgfZCZ0IyNrUigrHBMDLCI1IDxr0B24GCMvZy2LUzc1YzxbVCNqTyNrUiIbKyxrHlwLKpsi','zgLZCgXHEq','CMvWB3j0lwvYCM9Y','CMvUzgvYt3v0C3rHBMrPBMDnyxrJAgvZ','DhjHy2u','zxjYB3i','CgXHEwvYC0qZ','Bg9ZzxjZt2XKrwXV','zw1WDhK','DMfSDwu','y29UC3rYDwn0B3i','z2fTzu1Vzgu','yMfJA2DYB3vUzenVBg9Y','C2v0qxr0CMLIDxrL','n0rMtu9OsG','ohb4ide2ChG','vxnLCIbMB3vUzcbPBIbJB2XSzwn0Aw9Uia','y3vYC29Y','y2fUy2vSlwj1DhrVBG','Dgv4DenVBNrLBNq','rxjYB3iGChjVy2vZC2LUzYbWBgf5zxiGzgf0ytO','nda3otGWufPcqwDo','D2LUBMvYlxvZzxjUyw1L','lNjLC2nPBMqTCMvWB3j0lwj0BG','pg9WDgLVBIb2ywX1zt0IiJ5tzwXLy3qGv2LUBMvYpc9VChrPB24+','CxvLCNLtzwXLy3rVCG','uMvWB3j0igzVCM0GCMvZzxq','zxHPC3rZ','uMvQzwn0zwremq','ig1Vzgu','Bg9ZzxjtDwLJAwrLCW','y2XHC3noyw1L','ihzZia','z3jLzw4','Bg9ZzxiTDxnLCM5HBwu','q2fUy2vSievKAxq','CgXHEwvYC0qY','nhb4','twf0y2GGCMvWB3j0ihjLAMvJDgvKihn1y2nLC3nMDwXSEq','x19WCM90B19F','CgfYzw50tM9Kzq','rxjYB3iGCMvWB3j0Aw5NigDHBwuUifbSzwfZzsb0CNKGywDHAw4U','zM9YrwfJAa','yMXVy2S','iJ5szxnJAw5KifjLCg9YDdWVyNv0Dg9UpGOGicaGicaGicaGicaGicaG','DwLK','rxjYB3iGzMv0y2HPBMCGCgXHEwvYigrHDgeUifbSzwfZzsb0CNKGywDHAw4U','zdeTBw9Kzq','mJyYmta3mNPhDgzjAa','ywn0AxzL','zwXVuMf0Aw5N','tM8GCg9ZAxrPB24Gy2HHBMDLig5LzwrLzdSGD2LUBMvYigLZigfSCMvHzhKGywjVDMuGDgHLigXVC2vYlG','q2HLy2TPBMCGAwyGEw91igfYzsbYzwDPC3rLCMvKigLUia','CMvWB3j0lwXPz2H0yM94','BwvZC2fNzq','ugXLyxnLihbYB3zPzguGysbYzwfZB24GzM9YihjLAMvJDgLUzYb0AgLZig1HDgnOihjLCg9YDdO','DhLWzq','C2vSzwn0zwq','y2XPy2S','CMvWBgfJzunOAwXK','pg9WDgLVBIb2ywX1zt0IiJ5tzwXLy3qGt3bWB25LBNq8l29WDgLVBJ4','Aw5Uzxjive1m','BwfWugXHEwvK','DxnLCM5HBwu','Dg9tDhjPBMC','igzYB20G','pha+tM8GB3v0C3rHBMrPBMCGBwf0y2HLCYbMB3vUzcbPBIb0AguGy3vYCMvUDcbNyw1Lig1VzguUpc9WpG','rwXLBwvUDcaN'];a48c=function(){return aC;};return a48c();}async function updateUserDisplay(a,b){const U=a48L,c=collection(db,U(0xe6)),d=query(c,where(U(0xd7),'==',a)),e=await getDocs(d);if(!e['empty']){const f=e[U(0x9b)][0x0][U(0xbe)]()['username'];b['loserUsername']['textContent']=f;}}async function populateWinnerDropdown(a){const V=a48L;try{const b=collection(db,'players'),c=await getDocs(b);a['innerHTML']=V(0x132),!c[V(0x122)]&&c['forEach'](d=>{const W=V,e=d['data']();if(e['email']!==currentUserEmail){const f=document['createElement'](W(0x10a));f[W(0x123)]=e[W(0xd7)],f[W(0x12d)]=e['username'],a[W(0x162)](f);}});}catch(d){console['error']('Error\x20populating\x20winner\x20dropdown:',d);throw d;}}function setupReportForm(a){const X=a48L;if(!a['reportForm'])return;a[X(0x10b)][X(0xd4)]('submit',async b=>{const Y=X;b['preventDefault']();try{await submitReport(a),a['reportForm'][Y(0xec)](),alert('Game\x20reported\x20successfully.');}catch(c){console[Y(0x11f)](Y(0xdb),c),a['reportError'][Y(0x12d)]=Y(0x143);}});}async function submitReport(a){const Z=a48L,b=currentGameMode==='D1'?Z(0x161):currentGameMode==='D2'?Z(0xdc):Z(0xc9),c=collection(db,b),d=doc(c);try{const e=auth['currentUser'];if(!e)throw new Error(Z(0x8f));const f=e['uid'],g=currentGameMode==='D1'?'players':currentGameMode==='D2'?Z(0x13e):'playersD3',h=await getDoc(doc(db,g,f));if(!h['exists']())throw new Error('Your\x20player\x20profile\x20not\x20found');const i=document[Z(0x117)]('subgame-type'),j=a['winnerUsername']['value'];if(!j)throw new Error(Z(0xd8));const k=query(collection(db,g),where('username','==',j)),l=await getDocs(k);if(l[Z(0x122)])throw new Error('Selected\x20opponent\x20not\x20found');const m=l[Z(0x9b)][0x0][Z(0xbe)](),n=l['docs'][0x0]['id'],o={'matchId':d['id'],'loserUsername':h[Z(0xbe)]()['username'],'loserId':f,'winnerUsername':m['username'],'winnerId':n,'loserScore':a['loserScore']['value'],'loserSuicides':a[Z(0x8e)][Z(0x123)],'mapPlayed':a[Z(0x158)][Z(0x123)],'loserComment':a[Z(0xfd)][Z(0x123)],'subgameType':i?i[Z(0x123)]:'','gameMode':currentGameMode,'approved':![],'createdAt':serverTimestamp(),'winnerOldElo':m['eloRating']||null,'losersOldElo':h['data']()[Z(0x14c)]||null};await setDoc(d,o),console['log']('Match\x20reported\x20in\x20'+b+Z(0xad)+d['id']),a['reportError']['textContent']=Z(0x115),a['reportError'][Z(0xc2)][Z(0xf8)]=Z(0x13b),updatePendingMatchNotification();}catch(p){console['error']('Error\x20submitting\x20report:',p),a['reportError']['textContent']=Z(0x167)+p['message'],a[Z(0x103)]['style']['color']=Z(0x92);throw p;}}async function checkForOutstandingReports(a,b,c=null){const a0=a48L;console[a0(0x106)]('Checking\x20reports\x20for\x20user:\x20'+a+'\x20in\x20'+(c||'default\x20collection'));const d=c||(currentGameMode==='D1'?a0(0x161):currentGameMode==='D2'?'pendingMatchesD2':a0(0xc9));console['log'](a0(0xd1)+d);try{const e=auth[a0(0xc0)];if(!e){console[a0(0x106)]('No\x20authenticated\x20user\x20found');return;}const f=e['uid'],g=collection(db,d),h=query(g,where('winnerId','==',f),where('approved','==',![]));let i=await getDocs(h);console['log'](a0(0x169)+i['size']+'\x20matches\x20found');if(i[a0(0x122)]&&e[a0(0xd7)]){console[a0(0x106)]('No\x20matches\x20found\x20by\x20winnerId,\x20trying\x20winnerEmail');const j=query(g,where('winnerEmail','==',e['email']),where(a0(0xc1),'==',![]));i=await getDocs(j),console['log']('Query\x20by\x20winnerEmail\x20results:\x20'+i['size']+a0(0xb3));}if(i[a0(0x122)]){console['log']('No\x20matches\x20found\x20by\x20email\x20either,\x20trying\x20winnerUsername');const k=currentGameMode==='D1'?a0(0xe6):'playersD2',l=await getDoc(doc(db,k,f));if(l[a0(0x135)]()&&l[a0(0xbe)]()[a0(0x159)]){const m=l[a0(0xbe)]()['username'],n=query(g,where('winnerUsername','==',m),where(a0(0xc1),'==',![]));i=await getDocs(n),console['log']('Query\x20by\x20winnerUsername\x20results:\x20'+i[a0(0xc7)]+'\x20matches\x20found');}}if(!i['empty']){const o=i['docs'][0x0][a0(0xbe)]();return console['log'](a0(0x99),o),o['id']=i['docs'][0x0]['id'],autoFillReportForm(o),updateNotificationDot(!![]),!![];}else return console[a0(0x106)](a0(0x164)),updateNotificationDot(![]),![];}catch(p){console[a0(0x11f)](a0(0xca),p);}}function autoFillReportForm(a){const a1=a48L;console['log']('Report\x20Data\x20in\x20autoFillReportForm:',a);if(a){const b=parseInt(a['loserScore']||'0'),c=b<0x12?0x14:b+0x2,d=a[a1(0x125)]||currentGameMode,e=d==='D1'?'players':d==='D2'?a1(0x13e):a1(0x120);console['log']('Using\x20players\x20collection:\x20'+e+a1(0xfa)+d);let f;a['winnerId']?f=getDoc(doc(db,e,a[a1(0xb2)]))['then'](h=>h[a1(0x135)]()?{'id':h['id'],'data':h['data']()}:null):f=getDocs(query(collection(db,e),where(a1(0x159),'==',a['winnerUsername'])))[a1(0xc6)](h=>!h['empty']?{'id':h['docs'][0x0]['id'],'data':h['docs'][0x0][a1(0xbe)]()}:null);let g;a[a1(0xdd)]?g=getDoc(doc(db,e,a['loserId']))[a1(0xc6)](h=>h['exists']()?{'id':h['id'],'data':h['data']()}:null):g=getDocs(query(collection(db,e),where(a1(0x159),'==',a['loserUsername'])))['then'](h=>!h['empty']?{'id':h['docs'][0x0]['id'],'data':h[a1(0x9b)][0x0][a1(0xbe)]()}:null),Promise['all']([f,g])['then'](([h,i])=>{const a2=a1;if(!h){console[a2(0x11f)](a2(0xe5)),alert('Error:\x20Winner\x20data\x20not\x20found.');return;}if(!i){console['error']('No\x20loser\x20found\x20for\x20this\x20match'),alert(a2(0xb1));return;}const j=a[a2(0xb9)]!=null?a['winnerOldElo']:h[a2(0xbe)]['eloRating'],k=a[a2(0x121)]!=null?a['losersOldElo']:i['data']['eloRating'],l=h['data']['username'],m=i['data']['username'];console[a2(0x106)](a2(0xed)+l+a2(0xfc)+j+a2(0x108)+m+'\x20(ELO:\x20'+k+')');const n=document['getElementById'](a2(0x14f));if(!n){console[a2(0x11f)]('Lightbox\x20element\x20not\x20found');return;}document[a2(0x117)](a2(0x9f))[a2(0x12d)]=l,document['getElementById']('lightbox-loser')['textContent']=m,document['getElementById']('lightbox-loser-score')['textContent']=a[a2(0x9c)]||'0',document['getElementById']('lightbox-suicides')[a2(0x12d)]=a['loserSuicides']||'0',document[a2(0x117)](a2(0x166))['textContent']=a['mapPlayed']||'Not\x20specified',document['getElementById'](a2(0xcb))['textContent']=a['loserComment']||a2(0xd3),document[a2(0x117)](a2(0xfe))[a2(0x12d)]=a['subgameType']||a2(0xa2);const o=document[a2(0x117)]('winner-score');o&&(o['value']=c,o[a2(0x97)]=!![],o[a2(0xc2)][a2(0x126)]='rgba(255,\x20255,\x20255,\x200.05)');showLightbox();const p=document['querySelector']('.lightbox-buttons');if(p){console['log']('Found\x20buttons\x20container:',p);const t=document[a2(0x117)]('reject-button');t&&t['remove']();const u=document['createElement']('button');u['id']='reject-button',u[a2(0x139)]='button\x20danger-button',u['textContent']=a2(0x91),u['style']['backgroundColor']=a2(0x8c),u[a2(0xc2)][a2(0xf8)]=a2(0xe4),u['style']['marginRight']='10px',u['style'][a2(0xda)]=a2(0x129),u['style'][a2(0xa5)]='none',u['style']['borderRadius']=a2(0x13f),u[a2(0xc2)][a2(0x12b)]='pointer',u['style'][a2(0xb4)]='bold',p['prepend'](u),console['log'](a2(0x96),u);}const q=document['getElementById']('approve-button'),r=document['getElementById']('reject-button'),s=document['getElementById'](a2(0x12c));if(q){const v=q['cloneNode'](!![]);q[a2(0x142)]['replaceChild'](v,q),v['addEventListener']('click',async function(){const a3=a2;try{const w=document[a3(0x117)](a3(0xeb))['value'],x=document['getElementById']('winner-suicides')[a3(0x123)]||'0',y=document['getElementById'](a3(0xc4))['value']||'';console[a3(0x106)](a3(0xef),{'uid':auth['currentUser']?.['uid'],'email':auth[a3(0xc0)]?.[a3(0xd7)],'isAdmin':auth[a3(0xc0)]?.[a3(0xd7)]==='admin@ladder.com'||auth[a3(0xc0)]?.['email']===a3(0xe0)});const z=a['gameMode']||currentGameMode;if(z==='D3')await approveReportD3(a['id'],w,x,y);else z==='D2'?await approveReportD2(a['id'],w,x,y):await approveReport(a['id'],w,x,y);document[a3(0x117)]('report-lightbox')[a3(0xc2)]['display']=a3(0x98),alert('Match\x20approved\x20successfully'),updatePendingMatchNotification(),location[a3(0xd5)]();const A=z==='D1'?'players':'playersD2',B=doc(db,A,h['id']),C=doc(db,A,i['id']),[D,E]=await Promise['all']([getDoc(B),getDoc(C)]);if(D['exists']()&&E[a3(0x135)]()){const F=D['data'](),G=E[a3(0xbe)]();F['position']>G['position']?(await updateDoc(B,{'position':G[a3(0x110)]}),console[a3(0x106)](a3(0x116)+F['username']+'\x20moved\x20to\x20position\x20'+G['position'])):console['log'](a3(0x14d));}}catch(H){console['error']('Error\x20approving\x20report:',H),alert(a3(0xb5)+H[a3(0x150)]);}});}if(r){const w=r['cloneNode'](!![]);r[a2(0x142)]['replaceChild'](w,r),w[a2(0xd4)](a2(0x154),async function(){const a4=a2;try{const x=prompt(a4(0x151),'');if(x===null)return;await rejectReport(a['id'],x),hideLightbox(),alert(a4(0x140)),updatePendingMatchNotification(),location[a4(0xd5)]();}catch(y){console['error']('Error\x20rejecting\x20report:',y),alert('Error\x20rejecting\x20match:\x20'+y[a4(0x150)]);}});}if(s){const x=s['cloneNode'](!![]);s[a2(0x142)][a2(0x155)](x,s),x['addEventListener']('click',hideLightbox);}})['catch'](h=>{const a5=a1;console[a5(0x11f)](a5(0x12e),h),alert(a5(0x148));});}}function showLightbox(){const a6=a48L;console[a6(0x106)]('Showing\x20lightbox');const a=document['getElementById'](a6(0x14f));if(!a){console[a6(0x11f)](a6(0xaa));return;}a['classList']['add']('show');}function hideLightbox(){const a7=a48L,a=document[a7(0x117)](a7(0x14f));a[a7(0xbb)]['remove']('show');}async function rejectReport(a,b){const a8=a48L;try{const c=currentGameMode==='D1'?a8(0x161):currentGameMode==='D2'?a8(0xdc):'pendingMatchesD3',d=currentGameMode==='D1'?a8(0x136):currentGameMode==='D2'?'RejectedD2':'RejectedD3';console['log']('Rejecting\x20match\x20'+a+a8(0x15b)+c+'\x20to\x20'+d);const e=auth['currentUser'];if(!e)throw new Error('You\x20must\x20be\x20logged\x20in\x20to\x20reject\x20a\x20match');const f=doc(db,c,a),g=await getDoc(f);if(!g[a8(0x135)]())throw new Error('Match\x20report\x20not\x20found');const h=g['data'](),i=h['winnerId']&&h['winnerId']===e['uid']||h['winnerEmail']&&h['winnerEmail']===e['email']||h[a8(0xce)]&&h['winnerUsername']===await getUsernameFromId(e['uid']);if(!i)throw new Error('Only\x20the\x20winner\x20of\x20the\x20match\x20can\x20reject\x20it');const j={...h,'rejectedAt':serverTimestamp(),'rejectedBy':e['uid'],'rejectionReason':b||'No\x20reason\x20provided','originalDocumentId':a},k=doc(collection(db,d));return await setDoc(k,j),await deleteDoc(f),console['log'](a8(0xae)+a+'\x20rejected\x20successfully'),updatePendingMatchNotification(),!![];}catch(l){console[a8(0x11f)](a8(0x100),l);throw l;}}async function getUsernameFromId(a){const a9=a48L,b=await getDoc(doc(db,'players',a));if(b['exists']())return b['data']()['username'];const c=await getDoc(doc(db,'playersD2',a));if(c[a9(0x135)]())return c['data']()['username'];return null;}async function loadOpponentsList(a){const aa=a48L;try{const b=document['getElementById'](aa(0x11c)),c=document['getElementById'](aa(0x13c)),d=document[aa(0x117)]('winner-username');if(!b||!c||!d){console['error'](aa(0x114));return;}const e=currentGameMode==='D1'?aa(0xe6):currentGameMode==='D2'?aa(0x13e):aa(0x120);console[aa(0x106)](aa(0xbd)+e);const f=await getDoc(doc(db,e,a));if(!f[aa(0x135)]()){b[aa(0x12d)]=aa(0x94)+currentGameMode+aa(0xb0),b[aa(0xc2)][aa(0xf8)]=aa(0x92),c['textContent']='Not\x20registered\x20in\x20this\x20ladder',d[aa(0x163)]=!![];return;}const g=f['data'](),h=g['username'];c['textContent']=aa(0xd0)+h+')',b['textContent']='',d[aa(0x163)]=![];const i=collection(db,e),j=await getDocs(i);if(j['empty']){console['log']('No\x20opponents\x20available');return;}d['innerHTML']=aa(0x156),j[aa(0x144)](k=>{const ab=aa,l=k['data']();if(k['id']!==a){const m=document['createElement'](ab(0x10a));m[ab(0x123)]=l['username'],m['textContent']=l['username'],m['dataset'][ab(0x147)]=k['id'],d['appendChild'](m);}});}catch(k){console[aa(0x11f)]('Error\x20loading\x20opponents\x20list:',k),document['getElementById'](aa(0x11c))[aa(0x12d)]='Error\x20loading\x20opponents.\x20Please\x20try\x20again\x20later.',document['getElementById'](aa(0x11c))[aa(0xc2)]['color']=aa(0x92);}}function a48d(a,b){const c=a48c();return a48d=function(d,e){d=d-0x8c;let f=c[d];if(a48d['kMooEB']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a48d['PJaChD']=g,a=arguments,a48d['kMooEB']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a48d['PJaChD'](f),a[i]=f):f=j,f;},a48d(a,b);}async function checkUserInLadderAndLoadOpponents(a){const ac=a48L;try{const b=document['getElementById'](ac(0x11c)),c=document[ac(0x117)]('loser-username'),d=document[ac(0x117)](ac(0x130)),e=document[ac(0x117)](ac(0xe9)),f=document[ac(0x117)]('auth-warning');b[ac(0x12d)]=ac(0x14e)+currentGameMode+'\x20ladder...',b['style']['color']=ac(0xe4);const g=currentGameMode==='D1'?ac(0xe6):currentGameMode==='D2'?ac(0x13e):'playersD3';console[ac(0x106)]('Checking\x20if\x20user\x20exists\x20in\x20collection:\x20'+g);const h=await getDoc(doc(db,g,a));if(!h['exists']())return b[ac(0x12d)]='You\x20are\x20not\x20registered\x20in\x20the\x20'+currentGameMode+'\x20ladder.',b['style']['color']=ac(0x92),c['textContent']=ac(0x109),d['disabled']=!![],d[ac(0x157)]=ac(0x156),f[ac(0xc2)][ac(0x11b)]='block',f[ac(0x12d)]='You\x20are\x20not\x20registered\x20in\x20the\x20'+currentGameMode+'\x20ladder.',![];b[ac(0x12d)]='',f[ac(0xc2)]['display']=ac(0x98);const i=h[ac(0xbe)](),j=i['username'];c['textContent']='You\x20('+j+')',d['disabled']=![],e[ac(0xc2)][ac(0x11b)]=ac(0x145),await loadOpponentsList(a);const k=currentGameMode==='D1'?ac(0x161):currentGameMode==='D2'?ac(0xdc):'pendingMatchesD3';return await checkForOutstandingReports(i['email'],null,k),!![];}catch(l){return console['error']('Error\x20checking\x20if\x20user\x20is\x20in\x20ladder:',l),document['getElementById']('report-error')['textContent']=ac(0x9e),document[ac(0x117)](ac(0x11c))['style'][ac(0xf8)]='red',![];}}export async function fetchOutstandingMatches(){const ad=a48L,a=auth['currentUser'];if(!a)return[];try{const b=[],c=currentGameMode==='D1'?'pendingMatches':currentGameMode==='D2'?'pendingMatchesD2':ad(0xc9),d=collection(db,c),e=[query(d,where(ad(0xdd),'==',a['uid']),where('approved','==',![])),query(d,where('loserEmail','==',a['email']),where('approved','==',![])),query(d,where(ad(0xb2),'==',a['uid']),where('approved','==',![])),query(d,where('winnerEmail','==',a['email']),where(ad(0xc1),'==',![]))],f=currentGameMode==='D1'?ad(0xe6):currentGameMode==='D2'?'playersD2':'playersD3',g=await getDocs(query(collection(db,f),where('email','==',a['email'])));let h=null;!g['empty']&&(h=g[ad(0x9b)][0x0][ad(0xbe)]()['username'],h&&e['push'](query(d,where('loserUsername','==',h),where('approved','==',![])),query(d,where(ad(0xce),'==',h),where(ad(0xc1),'==',![]))));for(const i of e){const j=await getDocs(i);!j[ad(0x122)]&&j[ad(0x144)](k=>{const ae=ad;!b['some'](l=>l['id']===k['id'])&&b[ae(0xa7)]({'id':k['id'],...k[ae(0xbe)]()});});}return b[ad(0xe7)]((k,l)=>{const af=ad,m=k['createdAt']?.['toDate']()||new Date(0x0),n=l['createdAt']?.[af(0xd6)]()||new Date(0x0);return n-m;}),outstandingMatches=b,b;}catch(k){return console['error']('Error\x20fetching\x20outstanding\x20matches:',k),[];}}export function renderOutstandingMatches(){const ag=a48L,a=document[ag(0x117)]('outstanding-matches-list');if(outstandingMatches['length']===0x0){a['innerHTML']=ag(0x15c);return;}let b='';const c=auth[ag(0xc0)];if(!c)return;outstandingMatches[ag(0x144)](d=>{const ah=ag,e=d['createdAt']?.['toDate']()?d[ah(0xf4)][ah(0xd6)]()['toLocaleDateString']():'Unknown\x20date',f=d['loserEmail']===c[ah(0xd7)]||d[ah(0xdd)]===c[ah(0x147)];b+=ah(0xe3)+d['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>'+(d[ah(0xce)]||ah(0xf1))+ah(0x13a)+(d['loserUsername']||ah(0x15e))+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22match-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22match-detail-item\x22>Map:\x20'+(d['mapPlayed']||'Unknown')+ah(0xe8)+e+ah(0x95)+(d[ah(0x9c)]||'0')+ah(0xb6)+d['id']+'\x22>View\x20Details</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(f?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20edit-report-btn\x22\x20data-id=\x22'+d['id']+ah(0x11a)+d['id']+ah(0x146):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),a['innerHTML']=b,document['querySelectorAll'](ag(0xf9))[ag(0x144)](d=>{d['addEventListener']('click',function(){const ai=a48d,e=this[ai(0x168)]('data-id'),f=outstandingMatches[ai(0xb8)](g=>g['id']===e);document['getElementById'](ai(0xaf))['classList']['remove']('show'),showMatchLightbox(f);});}),document['querySelectorAll']('.edit-report-btn')['forEach'](d=>{const aj=ag;d[aj(0xd4)](aj(0x154),function(){const ak=aj,e=this[ak(0x168)]('data-id'),f=outstandingMatches[ak(0xb8)](g=>g['id']===e);document['getElementById']('outstanding-modal')[ak(0xbb)][ak(0xac)](ak(0x105)),editReport(f);});}),document['querySelectorAll'](ag(0x131))['forEach'](d=>{const al=ag;d[al(0xd4)](al(0x154),function(){const am=al,e=this[am(0x168)]('data-id'),f=outstandingMatches['find'](g=>g['id']===e);confirm(am(0xcd)+(f[am(0xce)]||am(0x9d))+'?')&&rescindReport(f);});});}export async function rescindReport(a){const an=a48L;try{const b=currentGameMode==='D1'?an(0x161):currentGameMode==='D2'?an(0xdc):an(0xc9),c=doc(db,b,a['id']);await deleteDoc(c),alert('Report\x20has\x20been\x20successfully\x20rescinded.'),await fetchOutstandingMatches(),renderOutstandingMatches();}catch(d){console[an(0x11f)](an(0xba),d),alert('Failed\x20to\x20rescind\x20report.\x20Please\x20try\x20again.');}}export function editReport(a){const ao=a48L,b=document['getElementById'](ao(0xe9)),c=document[ao(0x117)](ao(0x113)),d=document['getElementById'](ao(0x8e)),e=document[ao(0x117)]('map-played'),f=document['getElementById'](ao(0x15f));b['style']['display']=ao(0x145),document[ao(0x117)](ao(0x10d))[ao(0xc2)]['display']='none';if(a[ao(0x9c)])c[ao(0x123)]=a[ao(0x9c)];if(a['loserSuicides'])d[ao(0x123)]=a[ao(0x138)];if(a['mapPlayed'])e['value']=a[ao(0x158)];if(a['loserComment'])f[ao(0x123)]=a['loserComment'];const g=document[ao(0x117)](ao(0x130));g&&a['winnerUsername']&&Array[ao(0xa1)](g[ao(0xfb)])[ao(0x144)](j=>{const ap=ao;j['text']===a['winnerUsername']&&(j[ap(0x153)]=!![]);});const h=document['getElementById']('subgame-type');h&&a['subgameType']&&(h['value']=a[ao(0xe2)]);b[ao(0x127)](ao(0xf5),a['id']);const i=b['querySelector']('button[type=\x22submit\x22]');i['textContent']='Update\x20Report';if(!document['getElementById'](ao(0xa8))){const j=document['createElement'](ao(0x90));j['id']='cancel-edit-btn',j['className']=ao(0x118),j['style']['backgroundColor']='#6a1b9a',j[ao(0xc2)]['marginRight']=ao(0xcf),j['textContent']=ao(0x13d),j[ao(0x152)]='button',i[ao(0x142)]['insertBefore'](j,i),j['addEventListener'](ao(0x154),function(k){const aq=ao;k['preventDefault'](),b[aq(0xec)](),b['removeAttribute'](aq(0xf5)),i['textContent']='Report\x20Game',this['remove'](),initReportForm();});}b['scrollIntoView']({'behavior':ao(0xc3)});}function initReportForm(){const ar=a48L;console[ar(0x106)](ar(0x134));}export function showMatchLightbox(a){const as=a48L,b=document[as(0x117)](as(0x14f));document['getElementById']('lightbox-game-mode')[as(0x12d)]=currentGameMode,document[as(0x117)](as(0x9f))['textContent']=a['winnerUsername']||'Unknown',document[as(0x117)]('lightbox-loser')[as(0x12d)]=a['loserUsername']||as(0xbc),document[as(0x117)](as(0x119))['textContent']=a['loserScore']||'0',document['getElementById'](as(0xa3))[as(0x12d)]=a['loserSuicides']||'0',document[as(0x117)](as(0x166))['textContent']=a[as(0x158)]||as(0xbc),document[as(0x117)](as(0xcb))[as(0x12d)]=a['loserComment']||as(0xd3),document[as(0x117)]('lightbox-subgame')[as(0x12d)]=a['subgameType']||as(0xa2),b['classList'][as(0x10c)](as(0x105));}export function setCurrentGameMode(a){currentGameMode=a;}export function initOutstandingMatches(){const at=a48L;document[at(0xd4)]('DOMContentLoaded',()=>{const au=at,a=document['getElementById']('view-outstanding-btn'),b=document['getElementById']('view-outstanding-container'),c=document['getElementById']('outstanding-modal'),d=document['getElementById']('close-outstanding-btn'),e=document[au(0x117)]('cancel-button'),f=document['getElementById'](au(0x149)),g=document['getElementById'](au(0xf7)),h=document['getElementById']('d3-mode');if(f)f['addEventListener'](au(0x154),()=>{setCurrentGameMode('D1');});if(g)g[au(0xd4)](au(0x154),()=>{setCurrentGameMode('D2');});if(h)h[au(0xd4)]('click',()=>{setCurrentGameMode('D3');});auth['onAuthStateChanged'](k=>{const av=au;k?b['style']['display']='block':b[av(0xc2)]['display']=av(0x98);});a&&a[au(0xd4)](au(0x154),async()=>{const aw=au;c['classList'][aw(0x10c)](aw(0x105)),document['getElementById'](aw(0x104))[aw(0x157)]=aw(0xf6),await fetchOutstandingMatches(),renderOutstandingMatches();});d&&d['addEventListener'](au(0x154),()=>{const ax=au;c['classList']['remove'](ax(0x105));});e&&e[au(0xd4)](au(0x154),()=>{const ay=au;document[ay(0x117)](ay(0x14f))[ay(0xbb)]['remove']('show');});c&&c[au(0xd4)](au(0x154),k=>{const az=au;k['target']===c&&c['classList'][az(0xac)]('show');});const i=document[au(0x117)](au(0x14f));i&&i['addEventListener'](au(0x154),k=>{const aA=au;k[aA(0x10e)]===i&&i[aA(0xbb)][aA(0xac)]('show');});const j=document[au(0x117)]('report-form');if(j){const k=j['onsubmit'];j[au(0x93)]=async function(l){const aB=au;l[aB(0xa0)]();const m=this[aB(0x168)](aB(0xf5));if(m)try{const n=document['getElementById']('loser-score')['value'],o=document['getElementById'](aB(0x8e))['value'],p=document[aB(0x117)](aB(0xcc))[aB(0x123)],q=document[aB(0x117)](aB(0x15f))['value'],r=currentGameMode==='D1'?'pendingMatches':currentGameMode==='D2'?'pendingMatchesD2':aB(0xc9),s=doc(db,r,m);await updateDoc(s,{'loserScore':Number(n),'loserSuicides':Number(o),'mapPlayed':p,'loserComment':q,'subgameType':document[aB(0x117)]('subgame-type')[aB(0x123)],'updatedAt':new Date()}),alert('Report\x20has\x20been\x20successfully\x20updated.'),this[aB(0xec)](),this[aB(0x8d)]('data-edit-id');const t=this[aB(0x133)]('button[type=\x22submit\x22]');t['textContent']=aB(0x10f);const u=document['getElementById']('cancel-edit-btn');if(u)u[aB(0xac)]();}catch(v){console['error'](aB(0xa6),v),document[aB(0x117)]('report-error')['textContent']='Failed\x20to\x20update\x20report.\x20Please\x20try\x20again.';}else typeof k===aB(0xa4)&&k['call'](this,l);};}});}typeof window!=='undefined'&&(window[a48L(0x112)]=showMatchLightbox,window['editReport']=editReport,window['rescindReport']=rescindReport,window['fetchOutstandingMatches']=fetchOutstandingMatches,window[a48L(0x11d)]=renderOutstandingMatches);initOutstandingMatches();