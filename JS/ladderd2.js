const a32_0x4c4306=(function(){let _0x4df3dc=!![];return function(_0x398b4d,_0x161deb){const _0x1f0cdd=_0x4df3dc?function(){if(_0x161deb){const _0x119d73=_0x161deb['apply'](_0x398b4d,arguments);return _0x161deb=null,_0x119d73;}}:function(){};return _0x4df3dc=![],_0x1f0cdd;};}()),a32_0x47b8ef=a32_0x4c4306(this,function(){const _0x30730d=a32_0x5045,_0x27a882=function(){let _0x48d8ed;try{_0x48d8ed=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x11808c){_0x48d8ed=window;}return _0x48d8ed;},_0x27ce65=_0x27a882(),_0xc63837=_0x27ce65['console']=_0x27ce65['console']||{},_0x3c6b24=[_0x30730d(0x134),'warn',_0x30730d(0x14b),'error','exception','table',_0x30730d(0x15f)];for(let _0x5943d4=0x0;_0x5943d4<_0x3c6b24['length'];_0x5943d4++){const _0x565059=a32_0x4c4306[_0x30730d(0x15b)]['prototype']['bind'](a32_0x4c4306),_0x18280b=_0x3c6b24[_0x5943d4],_0x30b5b0=_0xc63837[_0x18280b]||_0x565059;_0x565059[_0x30730d(0x130)]=a32_0x4c4306['bind'](a32_0x4c4306),_0x565059['toString']=_0x30b5b0['toString']['bind'](_0x30b5b0),_0xc63837[_0x18280b]=_0x565059;}});a32_0x47b8ef();import{collection,getDocs,deleteDoc,doc,getDoc,query,where,updateDoc,Timestamp,onSnapshot,orderBy,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db}from'./firebase-config.js';function a32_0x5045(_0x282f50,_0x59cc1a){const _0x47b8ef=a32_0x2706();return a32_0x5045=function(_0x4c4306,_0x56cee0){_0x4c4306=_0x4c4306-0x12a;let _0x2706ec=_0x47b8ef[_0x4c4306];return _0x2706ec;},a32_0x5045(_0x282f50,_0x59cc1a);}import{getRankStyle}from'./ranks.js';import a32_0x23618d from'./firebase-idle-wrapper.js';const playerCacheD2={'data':null,'timestamp':0x0},CACHE_DURATION=0x7530;async function displayLadderD2(_0x207a68=![]){const _0x240efa=a32_0x5045,_0xc5aff9=document[_0x240efa(0x155)]('#ladder-d2\x20tbody');if(!_0xc5aff9){console['error'](_0x240efa(0x131));return;}_0xc5aff9['innerHTML']='<tr><td\x20colspan=\x228\x22\x20class=\x22loading-cell\x22>Loading\x20D2\x20ladder\x20data...</td></tr>';try{const _0x5d10ca=Date['now']();if(!_0x207a68&&playerCacheD2[_0x240efa(0x12b)]&&_0x5d10ca-playerCacheD2['timestamp']<CACHE_DURATION){updateLadderDisplayD2(playerCacheD2['data']);return;}const _0x5c280b=collection(db,_0x240efa(0x138)),_0x27f31f=query(_0x5c280b,orderBy(_0x240efa(0x158),'asc')),_0x13187d=await a32_0x23618d['getDocuments'](_0x5c280b),_0x225cb8=[];_0x13187d['forEach'](_0x18040d=>{const _0x5bc3b0=_0x240efa,_0xfc5bfd=_0x18040d[_0x5bc3b0(0x12b)]();_0xfc5bfd['username']&&_0x225cb8['push']({..._0xfc5bfd,'id':_0x18040d['id'],'elo':_0xfc5bfd['eloRating']||0x0,'position':_0xfc5bfd['position']||Number[_0x5bc3b0(0x145)]});});const _0x52a135=collection(db,_0x240efa(0x148)),_0x7eaa3=await getDocs(_0x52a135),_0x1a4e0e=new Map();_0x7eaa3['forEach'](_0xda0f53=>{const _0xee746=_0x240efa,_0x30c38f=_0xda0f53[_0xee746(0x12b)]();_0x30c38f['username']&&_0x1a4e0e['set'](_0x30c38f['username']['toLowerCase'](),_0x30c38f);});for(const _0x324427 of _0x225cb8){const _0x45f612=_0x324427['username'][_0x240efa(0x156)]();if(_0x1a4e0e['has'](_0x45f612)){const _0x3dd1c3=_0x1a4e0e['get'](_0x45f612);_0x3dd1c3['country']&&(_0x324427['country']=_0x3dd1c3['country']['toLowerCase']());}}const _0x265f82=_0x225cb8['map'](_0x395b04=>_0x395b04[_0x240efa(0x149)]),_0x578bb6=await fetchBatchMatchStatsD2(_0x265f82);_0x225cb8['sort']((_0x7954d5,_0x1364d7)=>{const _0xa89e4d=_0x240efa,_0x578271=_0x578bb6[_0xa89e4d(0x150)](_0x7954d5[_0xa89e4d(0x149)])?.['totalMatches']||0x0,_0x597fef=_0x578bb6['get'](_0x1364d7['username'])?.[_0xa89e4d(0x12f)]||0x0;if(_0x578271===0x0!==(_0x597fef===0x0))return _0x578271===0x0?0x1:-0x1;return(_0x7954d5['position']||0x3e7)-(_0x1364d7['position']||0x3e7);}),_0x225cb8['forEach']((_0x53a366,_0x9580b8)=>{_0x53a366['position']=_0x9580b8+0x1;}),playerCacheD2[_0x240efa(0x12b)]=_0x225cb8,playerCacheD2['timestamp']=_0x5d10ca,updateLadderDisplayD2(_0x225cb8);}catch(_0x1ff55c){console['error']('Error\x20loading\x20D2\x20ladder:',_0x1ff55c),_0xc5aff9[_0x240efa(0x157)]=_0x240efa(0x12d)+_0x1ff55c['message']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}function getNextAvailablePositionD2(_0x56d169){const _0x4b108c=a32_0x5045;if(_0x56d169[_0x4b108c(0x13f)]===0x0)return 0x1;let _0x1680df=0x0;return _0x56d169['forEach'](_0x3523be=>{const _0x121c31=_0x4b108c;_0x3523be['position']&&typeof _0x3523be['position']==='number'&&_0x3523be['position']>_0x1680df&&(_0x1680df=_0x3523be[_0x121c31(0x158)]);}),_0x1680df+0x1;}function a32_0x2706(){const _0x451b4c=['change','data','toDate','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x228\x22\x20style=\x22text-align:\x20center;\x20color:\x20red;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20D2\x20ladder\x20data:\x20','timestamp','totalMatches','__proto__','D2\x20Ladder\x20table\x20body\x20not\x20found','forEach','elo','log','seconds','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22trend-indicator\x22\x20style=\x22margin-left:\x205px;\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','Unranked','playersD2','previousElo',';\x20text-decoration:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Emerald','.png\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22','%</td>\x0a\x20\x20\x20\x20</tr>','set','length','fontSize','loserUsername','firstPlaceDate','has','losses','MAX_SAFE_INTEGER','includes','td:nth-child(3)','userProfiles','username','error','info','D2:\x20','totalDeaths','#FFD700','find','get','country','totalKills','.trend-indicator','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','querySelector','toLowerCase','innerHTML','position','Could\x20not\x20find\x20winner\x20or\x20loser\x20in\x20D2\x20players\x20list','size','constructor','eloHistoryD2','gray','\x20fallback\x20ELO\x20change:\x20','trace','style','#ladder-d2\x20thead\x20tr','toFixed'];a32_0x2706=function(){return _0x451b4c;};return a32_0x2706();}async function updatePlayerPositions(_0x2bb9ec,_0x70840d){const _0x3a2183=a32_0x5045;try{const _0xa0b1ef=collection(db,_0x3a2183(0x138)),_0x527079=await getDocs(_0xa0b1ef),_0x4813eb=[];_0x527079[_0x3a2183(0x132)](_0x216306=>{_0x4813eb['push']({'id':_0x216306['id'],..._0x216306['data']()});});const _0x3e2e50=_0x4813eb[_0x3a2183(0x14f)](_0x1cd4e3=>_0x1cd4e3[_0x3a2183(0x149)]===_0x2bb9ec),_0x40ef20=_0x4813eb['find'](_0x3e4feb=>_0x3e4feb['username']===_0x70840d);if(!_0x3e2e50||!_0x40ef20){console['error'](_0x3a2183(0x159));return;}if(_0x3e2e50['position']>_0x40ef20['position']){const _0x3ddb19=_0x40ef20['position'];for(const _0x2794b1 of _0x4813eb){_0x2794b1['position']>=_0x40ef20['position']&&_0x2794b1['position']<_0x3e2e50['position']&&_0x2794b1[_0x3a2183(0x149)]!==_0x2bb9ec&&await updateDoc(doc(db,_0x3a2183(0x138),_0x2794b1['id']),{'position':_0x2794b1[_0x3a2183(0x158)]+0x1});}await updateDoc(doc(db,_0x3a2183(0x138),_0x3e2e50['id']),{'position':_0x3ddb19});if(_0x3ddb19===0x1){const _0x2e6d0d=doc(db,'playersD2',_0x3e2e50['id']),_0xf21962=await getDoc(_0x2e6d0d);!_0xf21962['data']()[_0x3a2183(0x142)]&&await updateDoc(_0x2e6d0d,{'firstPlaceDate':Timestamp['now']()});}if(_0x40ef20['position']===0x1){const _0xc9ee17=doc(db,'playersD2',_0x40ef20['id']);await updateDoc(_0xc9ee17,{'firstPlaceDate':null});}playerCacheD2['timestamp']=0x0;}}catch(_0x285278){console[_0x3a2183(0x14a)]('Error\x20updating\x20D2\x20player\x20positions:',_0x285278);}}function calculateStreakDays(_0x3140d1){const _0x1a90f2=a32_0x5045;if(!_0x3140d1)return 0x0;const _0x103e80=_0x3140d1[_0x1a90f2(0x12c)](),_0x417e81=new Date(),_0x3d9dfa=Math['abs'](_0x417e81-_0x103e80);return Math['ceil'](_0x3d9dfa/(0x3e8*0x3c*0x3c*0x18));}function getPlayerRankNameD2(_0x444c5c){const _0x4fad45=a32_0x5045;if(_0x444c5c>=0x834)return _0x4fad45(0x13b);if(_0x444c5c>=0x708)return'Gold';if(_0x444c5c>=0x640)return'Silver';if(_0x444c5c>=0x578)return'Bronze';return _0x4fad45(0x137);}async function updateLadderDisplayD2(_0x53015c){const _0x18807b=a32_0x5045;_0x53015c['sort']((_0x2964c3,_0x1eddd8)=>_0x2964c3['position']-_0x1eddd8['position']);const _0x3b2000=document[_0x18807b(0x155)]('#ladder-d2\x20tbody');if(!_0x3b2000)return;_0x3b2000['innerHTML']='';const _0x909a24=_0x53015c['map'](_0x2682f4=>_0x2682f4['username']),_0x2827e9=await fetchBatchMatchStatsD2(_0x909a24),_0x3bdbd4=document[_0x18807b(0x155)](_0x18807b(0x161));_0x3bdbd4&&(_0x3bdbd4[_0x18807b(0x157)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Rank</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Username</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>ELO</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Matches</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Wins</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Losses</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>K/D</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Win\x20Rate</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');const _0x40e132=_0x53015c['map'](_0x1e69eb=>{const _0x161974=_0x2827e9['get'](_0x1e69eb['username'])||{'totalMatches':0x0,'wins':0x0,'losses':0x0,'kda':0x0,'winRate':0x0,'totalKills':0x0,'totalDeaths':0x0};return createPlayerRowD2(_0x1e69eb,_0x161974);})['join']('');_0x3b2000[_0x18807b(0x157)]=_0x40e132,getPlayersLastEloChangesD2(_0x909a24)['then'](_0x3257be=>{const _0x3ecbed=new Map();_0x3b2000['querySelectorAll']('tr')['forEach']((_0x45b6ae,_0x554af5)=>{const _0x4c16a9=a32_0x5045;_0x554af5<_0x909a24['length']&&_0x3ecbed[_0x4c16a9(0x13e)](_0x909a24[_0x554af5],_0x45b6ae);}),_0x3257be['forEach']((_0x1ae65e,_0x30cec4)=>{const _0xab1757=a32_0x5045,_0x5b08df=_0x3ecbed[_0xab1757(0x150)](_0x30cec4);if(_0x5b08df&&_0x1ae65e!==0x0){const _0x4db8a5=_0x5b08df['querySelector'](_0xab1757(0x147));if(_0x4db8a5){const _0x40e14c=_0x1ae65e>0x0?'+'+_0x1ae65e:''+_0x1ae65e,_0x34f85=_0x4db8a5['querySelector'](_0xab1757(0x153));_0x34f85&&(_0x34f85['textContent']=_0x40e14c,_0x34f85['style']['color']=_0x1ae65e>0x0?'#4CAF50':'#F44336',_0x34f85[_0xab1757(0x160)]['fontWeight']='bold',_0x34f85['style'][_0xab1757(0x140)]='0.85em',_0x34f85['style']['display']='inline',_0x34f85[_0xab1757(0x160)]['visibility']='visible',_0x34f85[_0xab1757(0x160)]['opacity']='1');}}});})['catch'](_0x35022f=>console['error']('Error\x20updating\x20D2\x20ELO\x20trend\x20indicators:',_0x35022f));}function createPlayerRowD2(_0xae5bc7,_0x299d1c){const _0x1e84df=a32_0x5045,_0x34f518=parseFloat(_0xae5bc7[_0x1e84df(0x133)])||0x0;let _0x1b3dd5=_0x1e84df(0x15d);if(_0x34f518>=0x7d0)_0x1b3dd5='#50C878';else{if(_0x34f518>=0x708)_0x1b3dd5=_0x1e84df(0x14e);else{if(_0x34f518>=0x640)_0x1b3dd5='#C0C0C0';else _0x34f518>=0x578&&(_0x1b3dd5='#CD7F32');}}let _0xd66f55='';return _0xae5bc7[_0x1e84df(0x151)]&&(_0xd66f55='<img\x20src=\x22../images/flags/'+_0xae5bc7['country']['toLowerCase']()+_0x1e84df(0x13c)+_0xae5bc7['country']+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22player-flag\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22margin-left:\x205px;\x20vertical-align:\x20middle;\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>'),'\x0a\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0xae5bc7['position']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22profile.html?username='+encodeURIComponent(_0xae5bc7['username'])+'&ladder=d2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22color:\x20'+_0x1b3dd5+_0x1e84df(0x13a)+_0xae5bc7['username']+_0x1e84df(0x154)+_0xd66f55+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22color:\x20'+_0x1b3dd5+';\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22elo-container\x22\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22elo-value\x22>'+_0x34f518+_0x1e84df(0x136)+_0x299d1c[_0x1e84df(0x12f)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x299d1c['wins']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x299d1c[_0x1e84df(0x144)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x299d1c['kda']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x299d1c['winRate']+_0x1e84df(0x13d);}async function getPlayersLastEloChangesD2(_0x3db366){const _0x26ae50=a32_0x5045,_0x528f22=new Map();_0x3db366['forEach'](_0xd4128c=>_0x528f22['set'](_0xd4128c,0x0));try{const _0x1b0531=collection(db,_0x26ae50(0x15c)),_0x236058=query(_0x1b0531,orderBy('timestamp','desc'),limit(0x64)),_0x2d796d=await getDocs(_0x236058),_0x47cd2d=new Map(),_0x31c960=await getDocs(collection(db,'playersD2'));_0x31c960[_0x26ae50(0x132)](_0x185881=>{const _0x5b3ea5=_0x185881['data']();_0x5b3ea5['username']&&_0x47cd2d['set'](_0x185881['id'],_0x5b3ea5['username']);});const _0x344667=new Map();_0x2d796d['forEach'](_0x51d51b=>{const _0x4be5ae=_0x26ae50,_0x28476b=_0x51d51b[_0x4be5ae(0x12b)]();let _0x40e369=_0x28476b['username']||_0x28476b['playerUsername'];!_0x40e369&&_0x28476b['player']&&_0x47cd2d[_0x4be5ae(0x143)](_0x28476b['player'])&&(_0x40e369=_0x47cd2d['get'](_0x28476b['player']));if(!_0x40e369&&_0x28476b['matchId']){}_0x40e369&&_0x3db366['includes'](_0x40e369)&&(!_0x344667['has'](_0x40e369)&&_0x344667['set'](_0x40e369,[]),_0x344667[_0x4be5ae(0x150)](_0x40e369)['push']({..._0x28476b,'timestamp':_0x28476b[_0x4be5ae(0x12e)]?.[_0x4be5ae(0x135)]||0x0,'username':_0x40e369}));}),_0x344667['forEach']((_0x3d11d9,_0x2c1aee)=>{const _0x28b810=_0x26ae50;if(_0x3d11d9[_0x28b810(0x13f)]>0x0){_0x3d11d9['sort']((_0x1c4dcf,_0x538800)=>_0x538800['timestamp']-_0x1c4dcf['timestamp']);const _0x3e7f58=_0x3d11d9[_0x28b810(0x14f)](_0x3c53ee=>_0x3c53ee[_0x28b810(0x12a)]!==undefined||_0x3c53ee['newElo']!==undefined&&_0x3c53ee[_0x28b810(0x139)]!==undefined);if(_0x3e7f58){let _0x4a38c8;if(_0x3e7f58[_0x28b810(0x12a)]!==undefined)_0x4a38c8=_0x3e7f58['change'];else _0x3e7f58['newElo']!==undefined&&_0x3e7f58[_0x28b810(0x139)]!==undefined&&(_0x4a38c8=_0x3e7f58['newElo']-_0x3e7f58['previousElo']);_0x4a38c8!==undefined&&_0x528f22['set'](_0x2c1aee,_0x4a38c8);}}});if(_0x344667['size']===0x0){const _0x4d1946=collection(db,'eloHistory'),_0x2d0ee1=query(_0x4d1946,where('gameMode','==','D2'),orderBy('timestamp','desc'),limit(0x32));try{const _0x43a355=await getDocs(_0x2d0ee1);console['log']('D2:\x20Found',_0x43a355[_0x26ae50(0x15a)],'fallback\x20entries'),_0x43a355['forEach'](_0xee25af=>{const _0xec080e=_0x26ae50,_0x122ee4=_0xee25af['data'](),_0x6861a5=_0x122ee4['username']||_0x122ee4['playerUsername'];if(_0x6861a5&&_0x3db366['includes'](_0x6861a5)){const _0x5a728d=_0x122ee4['change']||(_0x122ee4['newElo']!==undefined&&_0x122ee4['previousElo']!==undefined?_0x122ee4['newElo']-_0x122ee4[_0xec080e(0x139)]:0x0);_0x5a728d!==0x0&&(_0x528f22[_0xec080e(0x13e)](_0x6861a5,_0x5a728d),console['log'](_0xec080e(0x14c)+_0x6861a5+_0xec080e(0x15e)+_0x5a728d));}});}catch(_0x337e5c){}}}catch(_0x4e6344){console['error']('D2:\x20Error\x20fetching\x20ELO\x20history:',_0x4e6344);}return _0x528f22;}async function fetchBatchMatchStatsD2(_0x40aa59){const _0x780ff3=a32_0x5045,_0x731889=new Map();try{_0x40aa59['forEach'](_0x427f0d=>{_0x731889['set'](_0x427f0d,{'totalMatches':0x0,'wins':0x0,'losses':0x0,'totalKills':0x0,'totalDeaths':0x0,'kda':0x0,'winRate':0x0});});const _0x4ef9b9=collection(db,'approvedMatchesD2'),_0x274a46=await getDocs(_0x4ef9b9);_0x274a46['forEach'](_0x4135c2=>{const _0x520a0d=a32_0x5045,_0x2c87d3=_0x4135c2['data'](),_0x2acfba=_0x2c87d3['winnerUsername'],_0x4ea697=_0x2c87d3[_0x520a0d(0x141)];if(_0x40aa59[_0x520a0d(0x146)](_0x2acfba)){const _0x12f838=_0x731889['get'](_0x2acfba);_0x12f838['wins']++,_0x12f838[_0x520a0d(0x12f)]++,_0x12f838[_0x520a0d(0x152)]+=parseInt(_0x2c87d3['winnerScore'])||0x0,_0x12f838[_0x520a0d(0x14d)]+=parseInt(_0x2c87d3['loserScore'])||0x0;}if(_0x40aa59['includes'](_0x4ea697)){const _0x30da46=_0x731889['get'](_0x4ea697);_0x30da46['losses']++,_0x30da46['totalMatches']++,_0x30da46['totalKills']+=parseInt(_0x2c87d3['loserScore'])||0x0,_0x30da46['totalDeaths']+=parseInt(_0x2c87d3['winnerScore'])||0x0;}}),_0x40aa59['forEach'](_0x1e444c=>{const _0x4f72e3=a32_0x5045,_0x584d7e=_0x731889['get'](_0x1e444c);_0x584d7e['kda']=_0x584d7e[_0x4f72e3(0x14d)]>0x0?(_0x584d7e[_0x4f72e3(0x152)]/_0x584d7e['totalDeaths'])[_0x4f72e3(0x162)](0x2):_0x584d7e['totalKills']['toFixed'](0x2),_0x584d7e['winRate']=_0x584d7e['totalMatches']>0x0?(_0x584d7e['wins']/_0x584d7e['totalMatches']*0x64)[_0x4f72e3(0x162)](0x1):0x0;});}catch(_0x3afcfb){console[_0x780ff3(0x14a)]('Error\x20fetching\x20batch\x20D2\x20match\x20stats:',_0x3afcfb);}return _0x731889;}export{displayLadderD2,updatePlayerPositions};