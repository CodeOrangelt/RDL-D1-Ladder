const a27_0x5919b9=a27_0x1632;(function(_0x3fedd2,_0x524d19){const _0x4d643e=a27_0x1632,_0x1fca8f=_0x3fedd2();while(!![]){try{const _0x5cf586=parseInt(_0x4d643e(0x213))/0x1*(parseInt(_0x4d643e(0x1be))/0x2)+-parseInt(_0x4d643e(0x25f))/0x3+parseInt(_0x4d643e(0x1ed))/0x4*(-parseInt(_0x4d643e(0x227))/0x5)+parseInt(_0x4d643e(0x220))/0x6*(-parseInt(_0x4d643e(0x21a))/0x7)+parseInt(_0x4d643e(0x1d8))/0x8+-parseInt(_0x4d643e(0x1c2))/0x9*(-parseInt(_0x4d643e(0x230))/0xa)+parseInt(_0x4d643e(0x226))/0xb;if(_0x5cf586===_0x524d19)break;else _0x1fca8f['push'](_0x1fca8f['shift']());}catch(_0x5f15e0){_0x1fca8f['push'](_0x1fca8f['shift']());}}}(a27_0x329d,0xd624f));const a27_0x3f4e33=(function(){let _0x8455e=!![];return function(_0x48e7c1,_0x5057da){const _0x24ff95=_0x8455e?function(){if(_0x5057da){const _0x6cb7c6=_0x5057da['apply'](_0x48e7c1,arguments);return _0x5057da=null,_0x6cb7c6;}}:function(){};return _0x8455e=![],_0x24ff95;};}()),a27_0x2d013f=a27_0x3f4e33(this,function(){const _0x124bdc=a27_0x1632;return a27_0x2d013f[_0x124bdc(0x250)]()[_0x124bdc(0x1ab)](_0x124bdc(0x1ad))[_0x124bdc(0x250)]()[_0x124bdc(0x193)](a27_0x2d013f)[_0x124bdc(0x1ab)]('(((.+)+)+)+$');});a27_0x2d013f();const a27_0x2cc5cc=(function(){let _0x3e4671=!![];return function(_0x3792f6,_0x453b8a){const _0x3b2378=_0x3e4671?function(){const _0x5be55d=a27_0x1632;if(_0x453b8a){const _0x5e3cfe=_0x453b8a[_0x5be55d(0x1ee)](_0x3792f6,arguments);return _0x453b8a=null,_0x5e3cfe;}}:function(){};return _0x3e4671=![],_0x3b2378;};}()),a27_0x250a7f=a27_0x2cc5cc(this,function(){const _0x3b8d47=a27_0x1632,_0x4ded1c=function(){const _0x289ab8=a27_0x1632;let _0x15f2f1;try{_0x15f2f1=Function(_0x289ab8(0x214)+_0x289ab8(0x269)+');')();}catch(_0xf26caf){_0x15f2f1=window;}return _0x15f2f1;},_0x5f33ce=_0x4ded1c(),_0x1b0812=_0x5f33ce[_0x3b8d47(0x199)]=_0x5f33ce[_0x3b8d47(0x199)]||{},_0x4c02f3=[_0x3b8d47(0x26d),'warn',_0x3b8d47(0x261),_0x3b8d47(0x252),_0x3b8d47(0x22b),_0x3b8d47(0x20f),_0x3b8d47(0x200)];for(let _0x37bd2c=0x0;_0x37bd2c<_0x4c02f3[_0x3b8d47(0x22e)];_0x37bd2c++){const _0x1e3a6a=a27_0x2cc5cc['constructor'][_0x3b8d47(0x215)][_0x3b8d47(0x1fe)](a27_0x2cc5cc),_0x40c289=_0x4c02f3[_0x37bd2c],_0x5ed54a=_0x1b0812[_0x40c289]||_0x1e3a6a;_0x1e3a6a[_0x3b8d47(0x1f9)]=a27_0x2cc5cc[_0x3b8d47(0x1fe)](a27_0x2cc5cc),_0x1e3a6a['toString']=_0x5ed54a[_0x3b8d47(0x250)]['bind'](_0x5ed54a),_0x1b0812[_0x40c289]=_0x1e3a6a;}});a27_0x250a7f();function a27_0x1632(_0x10b848,_0x4fb4fc){const _0x5e701a=a27_0x329d();return a27_0x1632=function(_0x250a7f,_0x2cc5cc){_0x250a7f=_0x250a7f-0x192;let _0x44e086=_0x5e701a[_0x250a7f];return _0x44e086;},a27_0x1632(_0x10b848,_0x4fb4fc);}import{db}from'./firebase-config.js';import{collection,getDocs,deleteDoc,doc,getDoc,query,where,updateDoc,Timestamp,onSnapshot,orderBy,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{getRankStyle}from'./ranks.js';import{displayLadderD2}from'./ladderd2.js';function a27_0x329d(){const _0x29de10=['Inactive','userProfiles','push','position','Active','679074dkepUd','admin@ladder.com','info','elo-recommendation-text-d2','d3-ladder-container','.png\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22','d1-ladder-container',';\x22>','Bronze','dispatchEvent','{}.constructor(\x22return\x20this\x22)(\x20)','desc','username','cursor','log','gray','),\x20you\x20should\x20be\x20playing\x20<span\x20class=\x22recommendation-highlight\x22\x20style=\x22color:\x20','currentUser','Silver','constructor','ladder-container','Based\x20on\x20your\x20ELO\x20(','winnerScore','color','playersD','console','\x20not\x20found','elo-recommendation-text-d1','bold','Duos\x20ladder\x20is\x20currently\x20admin-only','now','inactive','player','block','className','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','addEventListener','<img\x20src=\x22../images/flags/','round','active','#ladder\x20tbody','loading-indicator','MAX_SAFE_INTEGER','search','target','(((.+)+)+)+$','toUpperCase',';\x20text-decoration:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','textContent','seconds','roleName','includes','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22rank\x22>#','loserScore','warn','totalDeaths','find','playersD3','Failed\x20to\x20load\x20ladder\x20data.\x20Please\x20try\x20again.','duos-switch','preventDefault','ladder-player','737236CBkimd','innerText','wins','</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-activity\x20','2139192kAwoWV','onAuthStateChanged','Looking\x20for\x20a\x20teammate?\x20Consider\x20<span\x20class=\x22recommendation-highlight\x22\x20style=\x22color:\x20','opacity','D1\x20toggle\x20clicked','pow','timestamp','d2-ladder-container','fontWeight','Error\x20finding\x20recommended\x20opponent','</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-elo\x22>','totalKills','slice','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','div','#4CAF50','\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','cssText','\x0a\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','newEloRating','brian2af@outlook.com','change','10245904lZUIMT','</span>\x20(ELO:\x20','uid','#F44336','d2-switch','appendChild','playersDuos','d1-switch','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','No\x20available\x20teammates\x20found.\x20More\x20players\x20needed\x20on\x20DUOS\x20ladder!','\x20ladder','elo-recommendation-text-duos','admin-only-message','max','duos','querySelector','map','approvedMatches','losses','date','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<strong>ðŸ”’\x20Duos\x20Ladder\x20-\x20Admin\x20Only</strong><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20style=\x22color:\x20#ccc;\x22>Currently\x20in\x20testing\x20phase</span>\x0a\x20\x20\x20\x20','4059200HYUVFS','apply','hasTeam','add','sort','creative\x20lead','set','#FFD700','join','Error\x20checking\x20admin\x20status:','data','#b9f1fc','__proto__','display','playersD2','email','none','bind','eloRating','trace','country','.trend-indicator','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22color:\x20','disabled','d3-switch','ELO\x20history\x20collection\x20is\x20empty','&ladder=d1\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22color:\x20','elo-recommendation-text-d3','Error\x20fetching\x20ELO\x20history:','No\x20user\x20profile\x20found','empty','error-message','parentNode','#50C878','table','not-allowed','previousElo','classList','4ZhcABY','return\x20(function()\x20','prototype','DOMContentLoaded','Set\x20your\x20username\x20to\x20see\x20recommended\x20opponents','You\x27re\x20not\x20registered\x20on\x20the\x20','kda','21XMhThO','Ladder\x20table\x20body\x20not\x20found','0.5','createElement','forEach','checked','2689146AkoHzV','role','winRate','elo','remove','Error\x20loading\x20ladder\x20data:','2555080lNjNAm','5DHeEiW','players','</span>',';\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22elo-container\x22\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22elo-value\x22>','exception','toFixed','0.85em','length','toLowerCase','20voqiHs','click','inline','owner','get','<tr><td\x20colspan=\x228\x22\x20class=\x22loading-cell\x22>Loading\x20ladder\x20data...</td></tr>','D2\x20toggle\x20clicked','setDate','totalMatches','teammate','catch','innerHTML','has','pointer','Error\x20fetching\x20batch\x20match\x20stats:','exists','duos-ladder-container','#CD7F32','matchesD','winnerUsername','%</td>\x0a\x20\x20\x20\x20</tr>','playerUsername','newElo','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22player-flag\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22margin-left:\x205px;\x20vertical-align:\x20middle;\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>','title','docs','then','D3\x20toggle\x20clicked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x228\x22\x20style=\x22text-align:\x20center;\x20color:\x20red;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20ladder\x20data:\x20','Gold','getElementById','getDate','toString','admin','error','council','recentActivity','oldEloRating','Unranked','style','td:nth-child(3)','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22profile.html?username='];a27_0x329d=function(){return _0x29de10;};return a27_0x329d();}import{displayLadderD3}from'./ladderd3.js';import{getAuth}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';import{getLadderData,getEloHistoryBatch,setupEfficientListener}from'./services/firebaseService.js';import{displayLadderDuos}from'./ladderduos.js';const auth=getAuth();let activeListeners=[];export async function loadLadderData(_0x1b83a9=0x1){const _0x554e05=a27_0x1632;try{document['getElementById'](_0x554e05(0x1a9))[_0x554e05(0x257)]['display']='block';const _0x366c0d=await getLadderData(_0x1b83a9);_0x366c0d[_0x554e05(0x1f1)]((_0x4fd9c9,_0x18bba4)=>_0x18bba4[_0x554e05(0x223)]-_0x4fd9c9['elo']);const _0x2b4304=_0x366c0d[_0x554e05(0x1e8)](_0x31a830=>_0x31a830['id']),_0x1cfefc=await getEloHistoryBatch(_0x2b4304,_0x1b83a9),_0x4fa6c1=_0x366c0d['map']((_0x5a133c,_0x540f0f)=>{const _0x26bae9=_0x554e05,_0x28b401=_0x1cfefc[_0x5a133c['id']]||[],_0x3ecbd1=_0x28b401[_0x26bae9(0x1f1)]((_0x4fb303,_0x4d3f74)=>new Date(_0x4d3f74[_0x26bae9(0x1eb)])-new Date(_0x4fb303[_0x26bae9(0x1eb)]))[_0x26bae9(0x1ce)](0x0,0x5);return{..._0x5a133c,'rank':_0x540f0f+0x1,'lastMatches':_0x3ecbd1,'recentActivity':_0x3ecbd1[_0x26bae9(0x22e)]>0x0};});renderLadder(_0x4fa6c1),setupRealTimeUpdates(_0x1b83a9);}catch(_0x186e1a){console[_0x554e05(0x252)](_0x554e05(0x225),_0x186e1a),document[_0x554e05(0x24e)](_0x554e05(0x20c))[_0x554e05(0x1bf)]=_0x554e05(0x1ba);}finally{document[_0x554e05(0x24e)](_0x554e05(0x1a9))['style'][_0x554e05(0x1fa)]=_0x554e05(0x1fd);}}function setupRealTimeUpdates(_0x3885d7=0x1){const _0xf4a03e=a27_0x1632;activeListeners[_0xf4a03e(0x21e)](_0x3befc7=>_0x3befc7()),activeListeners=[];const _0x33d123=_0x3885d7===0x1?_0xf4a03e(0x228):_0xf4a03e(0x198)+_0x3885d7,_0x541286=_0x3885d7===0x1?'matches':_0xf4a03e(0x242)+_0x3885d7,_0x663dd5=new Date();_0x663dd5[_0xf4a03e(0x237)](_0x663dd5[_0xf4a03e(0x24f)]()-0x1);const _0x11e0a3=setupEfficientListener(_0x541286,[where('date','>=',_0x663dd5['toISOString']()),limit(0xa),orderBy('date',_0xf4a03e(0x26a))],async _0x576d36=>{const _0x36206b=_0xf4a03e;_0x576d36[_0x36206b(0x22e)]>0x0&&await loadLadderData(_0x3885d7);});activeListeners['push'](_0x11e0a3);}export function cleanupListeners(){const _0x3170e1=a27_0x1632;activeListeners[_0x3170e1(0x21e)](_0x3a162=>_0x3a162()),activeListeners=[];}function renderLadder(_0x350c1a){const _0x59dfdc=a27_0x1632,_0x432f48=document['getElementById'](_0x59dfdc(0x194));_0x432f48['innerHTML']='',_0x350c1a['forEach'](_0x5387f7=>{const _0x45972a=_0x59dfdc,_0x3921d6=document[_0x45972a(0x21d)](_0x45972a(0x1d0));_0x3921d6[_0x45972a(0x1a2)]=_0x45972a(0x1bd),_0x3921d6[_0x45972a(0x23b)]=_0x45972a(0x1b4)+_0x5387f7['rank']+'</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-name\x22>'+(_0x5387f7['username']||_0x5387f7['id'])+_0x45972a(0x1cc)+_0x5387f7[_0x45972a(0x223)]+_0x45972a(0x1c1)+(_0x5387f7[_0x45972a(0x254)]?'active':_0x45972a(0x19f))+_0x45972a(0x1a3)+(_0x5387f7[_0x45972a(0x254)]?_0x45972a(0x25e):_0x45972a(0x25a))+_0x45972a(0x1d2),_0x432f48[_0x45972a(0x1dd)](_0x3921d6);});}const playerCache={'data':null,'timestamp':0x0},CACHE_DURATION=0x7530;async function displayLadder(_0x9050fc=![]){const _0x540373=a27_0x1632,_0x3919d4=document['querySelector'](_0x540373(0x1a8));if(!_0x3919d4){console[_0x540373(0x252)]('Ladder\x20table\x20body\x20not\x20found');return;}_0x3919d4[_0x540373(0x23b)]=_0x540373(0x235);try{const _0x2b9765=Date[_0x540373(0x19e)]();if(!_0x9050fc&&playerCache[_0x540373(0x1f7)]&&_0x2b9765-playerCache[_0x540373(0x1c8)]<CACHE_DURATION){console['log']('Using\x20cached\x20D1\x20ladder\x20data'),updateLadderDisplay(playerCache['data']);return;}const _0x2ee142=collection(db,_0x540373(0x228)),_0x21d217=await getDocs(_0x2ee142),_0x28436d=[];_0x21d217['forEach'](_0x1edfa9=>{const _0x2ba26d=_0x540373,_0x2416c4=_0x1edfa9[_0x2ba26d(0x1f7)]();_0x28436d[_0x2ba26d(0x25c)]({..._0x2416c4,'id':_0x1edfa9['id'],'elo':_0x2416c4[_0x2ba26d(0x1ff)]||0x0,'position':_0x2416c4[_0x2ba26d(0x25d)]||Number[_0x2ba26d(0x1aa)]});});const _0x5d44e0=collection(db,_0x540373(0x25b)),_0x59b21e=await getDocs(_0x5d44e0),_0x315414=new Map();_0x59b21e[_0x540373(0x21e)](_0x232275=>{const _0xaba42e=_0x540373,_0x1b7153=_0x232275[_0xaba42e(0x1f7)]();_0x1b7153[_0xaba42e(0x26b)]&&_0x315414[_0xaba42e(0x1f3)](_0x1b7153[_0xaba42e(0x26b)][_0xaba42e(0x22f)](),_0x1b7153);}),_0x28436d[_0x540373(0x21e)](_0x1d5bf9=>{const _0x2f30dc=_0x540373,_0x5349ec=_0x1d5bf9['username']?.[_0x2f30dc(0x22f)]();if(_0x5349ec&&_0x315414['has'](_0x5349ec)){const _0x4686d2=_0x315414[_0x2f30dc(0x234)](_0x5349ec);_0x4686d2[_0x2f30dc(0x201)]&&(_0x1d5bf9[_0x2f30dc(0x201)]=_0x4686d2['country']['toLowerCase']());}});const _0x344713=_0x28436d[_0x540373(0x1e8)](_0x237e3b=>_0x237e3b[_0x540373(0x26b)]),_0x201ed2=await fetchBatchMatchStats(_0x344713);_0x28436d[_0x540373(0x1f1)]((_0x170be6,_0x45c12e)=>{const _0x2d5429=_0x540373,_0x1f9ccf=_0x201ed2[_0x2d5429(0x234)](_0x170be6['username'])?.['totalMatches']||0x0,_0x36acc3=_0x201ed2[_0x2d5429(0x234)](_0x45c12e['username'])?.[_0x2d5429(0x238)]||0x0;if(_0x1f9ccf===0x0!==(_0x36acc3===0x0))return _0x1f9ccf===0x0?0x1:-0x1;return(_0x170be6['position']||0x3e7)-(_0x45c12e[_0x2d5429(0x25d)]||0x3e7);}),_0x28436d[_0x540373(0x21e)]((_0x1a82d1,_0x55d14e)=>{_0x1a82d1['position']=_0x55d14e+0x1;}),playerCache[_0x540373(0x1f7)]=_0x28436d,playerCache['timestamp']=_0x2b9765,updateLadderDisplay(_0x28436d,_0x201ed2);}catch(_0x56412a){console['error']('Error\x20loading\x20ladder:',_0x56412a),_0x3919d4['innerHTML']=_0x540373(0x24c)+_0x56412a['message']+_0x540373(0x1e0);}}async function fetchBatchMatchStats(_0x35b1bf){const _0x180d9c=a27_0x1632,_0x12a283=new Map();try{_0x35b1bf[_0x180d9c(0x21e)](_0x2b870d=>{const _0x3af6c3=_0x180d9c;_0x12a283[_0x3af6c3(0x1f3)](_0x2b870d,{'totalMatches':0x0,'wins':0x0,'losses':0x0,'totalKills':0x0,'totalDeaths':0x0,'kda':0x0,'winRate':0x0});});const _0x1a235a=collection(db,_0x180d9c(0x1e9)),_0x3ae910=await getDocs(_0x1a235a);_0x3ae910[_0x180d9c(0x21e)](_0x50bd91=>{const _0x13e7f1=_0x180d9c,_0x5ad0dd=_0x50bd91[_0x13e7f1(0x1f7)](),_0x3f0091=_0x5ad0dd[_0x13e7f1(0x243)],_0x3bfd46=_0x5ad0dd['loserUsername'];if(_0x35b1bf['includes'](_0x3f0091)){const _0x1a29b5=_0x12a283[_0x13e7f1(0x234)](_0x3f0091);_0x1a29b5[_0x13e7f1(0x1c0)]++,_0x1a29b5['totalMatches']++,_0x1a29b5['totalKills']+=parseInt(_0x5ad0dd[_0x13e7f1(0x196)])||0x0,_0x1a29b5['totalDeaths']+=parseInt(_0x5ad0dd[_0x13e7f1(0x1b5)])||0x0;}if(_0x35b1bf[_0x13e7f1(0x1b3)](_0x3bfd46)){const _0x46d59=_0x12a283[_0x13e7f1(0x234)](_0x3bfd46);_0x46d59[_0x13e7f1(0x1ea)]++,_0x46d59[_0x13e7f1(0x238)]++,_0x46d59[_0x13e7f1(0x1cd)]+=parseInt(_0x5ad0dd[_0x13e7f1(0x1b5)])||0x0,_0x46d59['totalDeaths']+=parseInt(_0x5ad0dd[_0x13e7f1(0x196)])||0x0;}}),_0x35b1bf[_0x180d9c(0x21e)](_0x42d3bb=>{const _0x2d836f=_0x180d9c,_0x1f33f7=_0x12a283['get'](_0x42d3bb);_0x1f33f7[_0x2d836f(0x219)]=_0x1f33f7[_0x2d836f(0x1b7)]>0x0?(_0x1f33f7[_0x2d836f(0x1cd)]/_0x1f33f7[_0x2d836f(0x1b7)])[_0x2d836f(0x22c)](0x2):_0x1f33f7[_0x2d836f(0x1cd)][_0x2d836f(0x22c)](0x2),_0x1f33f7[_0x2d836f(0x222)]=_0x1f33f7[_0x2d836f(0x238)]>0x0?(_0x1f33f7[_0x2d836f(0x1c0)]/_0x1f33f7['totalMatches']*0x64)[_0x2d836f(0x22c)](0x1):0x0;});}catch(_0x475974){console[_0x180d9c(0x252)](_0x180d9c(0x23e),_0x475974);}return _0x12a283;}function createPlayerRow(_0x48667e,_0xc94793){const _0xe17003=a27_0x1632,_0xb76c3f=parseFloat(_0x48667e[_0xe17003(0x223)])||0x0;let _0x21ea04=_0xe17003(0x26e);if(_0xb76c3f>=0x7d0)_0x21ea04=_0xe17003(0x20e);else{if(_0xb76c3f>=0x708)_0x21ea04=_0xe17003(0x1f4);else{if(_0xb76c3f>=0x640)_0x21ea04='#b9f1fc';else _0xb76c3f>=0x578&&(_0x21ea04='#CD7F32');}}let _0x42de02='';return _0x48667e[_0xe17003(0x201)]&&(_0x42de02=_0xe17003(0x1a5)+_0x48667e[_0xe17003(0x201)][_0xe17003(0x22f)]()+_0xe17003(0x264)+_0x48667e[_0xe17003(0x201)]+_0xe17003(0x247)),_0xe17003(0x1d4)+_0x48667e[_0xe17003(0x25d)]+_0xe17003(0x259)+encodeURIComponent(_0x48667e[_0xe17003(0x26b)])+_0xe17003(0x207)+_0x21ea04+_0xe17003(0x1af)+_0x48667e['username']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x42de02+_0xe17003(0x203)+_0x21ea04+_0xe17003(0x22a)+_0xb76c3f+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22trend-indicator\x22\x20style=\x22margin-left:\x205px;\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0xc94793['totalMatches']+_0xe17003(0x1cf)+_0xc94793['wins']+_0xe17003(0x1cf)+_0xc94793['losses']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0xc94793[_0xe17003(0x219)]+_0xe17003(0x1cf)+_0xc94793[_0xe17003(0x222)]+_0xe17003(0x244);}function getPlayerRankName(_0x3b4083){const _0xe01305=a27_0x1632;if(_0x3b4083>=0x7d0)return'Emerald';if(_0x3b4083>=0x708)return _0xe01305(0x24d);if(_0x3b4083>=0x640)return _0xe01305(0x192);if(_0x3b4083>=0x578)return _0xe01305(0x267);return _0xe01305(0x256);}async function getPlayersLastEloChanges(_0x4c73df){const _0xfe3f9=a27_0x1632,_0x2be892=new Map();_0x4c73df[_0xfe3f9(0x21e)](_0x35e7fe=>{const _0x562821=_0xfe3f9;_0x2be892[_0x562821(0x1f3)](_0x35e7fe,0x0);});try{const _0x34714b=collection(db,_0xfe3f9(0x228)),_0x3de58a=await getDocs(_0x34714b),_0x3c0467=new Map(),_0x5b89f9=new Map();_0x3de58a[_0xfe3f9(0x21e)](_0x4b1e61=>{const _0x458e0a=_0xfe3f9,_0x27c40c=_0x4b1e61[_0x458e0a(0x1f7)]();_0x27c40c[_0x458e0a(0x26b)]&&(_0x3c0467['set'](_0x4b1e61['id'],_0x27c40c[_0x458e0a(0x26b)]),_0x5b89f9[_0x458e0a(0x1f3)](_0x27c40c[_0x458e0a(0x26b)][_0x458e0a(0x22f)](),_0x4b1e61['id']));});const _0x1ea799=collection(db,'eloHistory'),_0xb95e77=query(_0x1ea799,orderBy(_0xfe3f9(0x1c8),_0xfe3f9(0x26a)),limit(0x12c)),_0x32d144=await getDocs(_0xb95e77);if(_0x32d144['empty'])return console[_0xfe3f9(0x26d)](_0xfe3f9(0x206)),_0x2be892;if(_0x32d144[_0xfe3f9(0x249)][_0xfe3f9(0x22e)]>0x0){const _0xda5e5e=_0x32d144[_0xfe3f9(0x249)][0x0]['data']();if(_0xda5e5e[_0xfe3f9(0x1a0)]&&_0x3c0467[_0xfe3f9(0x23c)](_0xda5e5e[_0xfe3f9(0x1a0)])){}}const _0x4d51f2=new Map();let _0x217f20=0x0;_0x32d144[_0xfe3f9(0x21e)](_0xf8e622=>{const _0x180d05=_0xfe3f9,_0x238b4c=_0xf8e622[_0x180d05(0x1f7)]();let _0x2cea7e=null;if(_0x238b4c[_0x180d05(0x1a0)]&&_0x3c0467[_0x180d05(0x23c)](_0x238b4c[_0x180d05(0x1a0)]))_0x2cea7e=_0x3c0467[_0x180d05(0x234)](_0x238b4c[_0x180d05(0x1a0)]);else{if(_0x238b4c['username']&&_0x5b89f9['has'](_0x238b4c[_0x180d05(0x26b)][_0x180d05(0x22f)]()))_0x2cea7e=_0x238b4c[_0x180d05(0x26b)];else _0x238b4c[_0x180d05(0x245)]&&_0x5b89f9['has'](_0x238b4c[_0x180d05(0x245)]['toLowerCase']())&&(_0x2cea7e=_0x238b4c[_0x180d05(0x245)]);}_0x2cea7e&&_0x4c73df[_0x180d05(0x1b3)](_0x2cea7e)&&(_0x217f20++,!_0x4d51f2[_0x180d05(0x23c)](_0x2cea7e)&&_0x4d51f2['set'](_0x2cea7e,[]),_0x4d51f2[_0x180d05(0x234)](_0x2cea7e)[_0x180d05(0x25c)]({..._0x238b4c,'timestamp':_0x238b4c[_0x180d05(0x1c8)]?.[_0x180d05(0x1b1)]||0x0}));}),_0x4d51f2[_0xfe3f9(0x21e)]((_0x17e43d,_0x39f6c1)=>{const _0x5d9849=_0xfe3f9;if(_0x17e43d['length']>0x0){_0x17e43d['sort']((_0x47aa08,_0x3561b2)=>_0x3561b2['timestamp']-_0x47aa08[_0x5d9849(0x1c8)]);const _0x5c28bd=_0x17e43d[_0x5d9849(0x1b8)](_0x36a13e=>_0x36a13e[_0x5d9849(0x1d7)]!==undefined||_0x36a13e[_0x5d9849(0x246)]!==undefined&&_0x36a13e[_0x5d9849(0x211)]!==undefined||_0x36a13e[_0x5d9849(0x1d5)]!==undefined&&_0x36a13e[_0x5d9849(0x255)]!==undefined);if(_0x5c28bd){let _0xa19545;if(_0x5c28bd[_0x5d9849(0x1d7)]!==undefined)_0xa19545=parseInt(_0x5c28bd[_0x5d9849(0x1d7)]);else{if(_0x5c28bd[_0x5d9849(0x246)]!==undefined&&entry[_0x5d9849(0x211)]!==undefined)_0xa19545=parseInt(_0x5c28bd[_0x5d9849(0x246)])-parseInt(_0x5c28bd[_0x5d9849(0x211)]);else _0x5c28bd[_0x5d9849(0x1d5)]!==undefined&&entry['oldEloRating']!==undefined&&(_0xa19545=parseInt(_0x5c28bd['newEloRating'])-parseInt(_0x5c28bd['oldEloRating']));}!isNaN(_0xa19545)&&_0xa19545!==0x0&&_0x2be892[_0x5d9849(0x1f3)](_0x39f6c1,_0xa19545);}}});}catch(_0x226433){console[_0xfe3f9(0x252)](_0xfe3f9(0x209),_0x226433);}return _0x2be892;}async function updateLadderDisplay(_0x24b640,_0x13d78a=null){const _0x497016=a27_0x1632,_0x36a962=document[_0x497016(0x1e7)](_0x497016(0x1a8));if(!_0x36a962){console[_0x497016(0x252)](_0x497016(0x21b));return;}const _0x228e68=document[_0x497016(0x1e7)]('#ladder\x20thead\x20tr');_0x228e68&&(_0x228e68[_0x497016(0x23b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Rank</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Username</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>ELO</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Matches</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Wins</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Losses</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>K/D</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Win\x20Rate</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');const _0x2acb82=_0x24b640[_0x497016(0x1e8)](_0x56ccdc=>_0x56ccdc['username']);!_0x13d78a&&(_0x13d78a=await fetchBatchMatchStats(_0x2acb82));const _0x5531ca=_0x24b640['map'](_0x3166a7=>{const _0x28c9e0=_0x497016,_0x8aea5d=_0x13d78a['get'](_0x3166a7[_0x28c9e0(0x26b)])||{'totalMatches':0x0,'wins':0x0,'losses':0x0,'kda':0x0,'winRate':0x0,'totalKills':0x0,'totalDeaths':0x0};return createPlayerRow(_0x3166a7,_0x8aea5d);})[_0x497016(0x1f5)]('');_0x36a962[_0x497016(0x23b)]=_0x5531ca,getPlayersLastEloChanges(_0x2acb82)[_0x497016(0x24a)](_0x1bedc6=>{const _0x3c299e=_0x497016,_0x186fce=new Map();_0x36a962['querySelectorAll']('tr')['forEach']((_0x5c3b0d,_0x2c85af)=>{const _0x657f24=a27_0x1632;_0x2c85af<_0x2acb82[_0x657f24(0x22e)]&&_0x186fce['set'](_0x2acb82[_0x2c85af],_0x5c3b0d);}),_0x1bedc6[_0x3c299e(0x21e)]((_0x28db47,_0x35c465)=>{const _0x5eaf26=_0x3c299e,_0x5e5276=_0x186fce[_0x5eaf26(0x234)](_0x35c465);if(_0x5e5276&&_0x28db47!==0x0){const _0x14ad0c=_0x5e5276[_0x5eaf26(0x1e7)](_0x5eaf26(0x258));if(_0x14ad0c){const _0x363463=_0x28db47>0x0?'+'+_0x28db47:''+_0x28db47,_0x4a0a30=_0x14ad0c[_0x5eaf26(0x1e7)](_0x5eaf26(0x202));if(_0x4a0a30)_0x4a0a30[_0x5eaf26(0x1b0)]=_0x363463,_0x4a0a30['style'][_0x5eaf26(0x197)]=_0x28db47>0x0?_0x5eaf26(0x1d1):_0x5eaf26(0x1db),_0x4a0a30[_0x5eaf26(0x257)][_0x5eaf26(0x1ca)]=_0x5eaf26(0x19c),_0x4a0a30[_0x5eaf26(0x257)]['fontSize']=_0x5eaf26(0x22d),_0x4a0a30['style']['display']=_0x5eaf26(0x232),_0x4a0a30['style']['visibility']='visible',_0x4a0a30[_0x5eaf26(0x257)][_0x5eaf26(0x1c5)]='1';else{}}}});})[_0x497016(0x23a)](_0x48b1b9=>console[_0x497016(0x252)]('Error\x20updating\x20ELO\x20trend\x20indicators:',_0x48b1b9));}function initLadderToggles(){const _0x1f89c5=a27_0x1632,_0x22b34a=document[_0x1f89c5(0x24e)](_0x1f89c5(0x1df)),_0x1483f5=document[_0x1f89c5(0x24e)](_0x1f89c5(0x1dc)),_0x5c9557=document[_0x1f89c5(0x24e)](_0x1f89c5(0x205)),_0x584753=document[_0x1f89c5(0x24e)]('duos-switch'),_0x488441=document[_0x1f89c5(0x24e)](_0x1f89c5(0x265)),_0x101cfd=document['getElementById'](_0x1f89c5(0x1c9)),_0x4d5769=document[_0x1f89c5(0x24e)](_0x1f89c5(0x263)),_0x4ff53b=document[_0x1f89c5(0x24e)](_0x1f89c5(0x240));function _0x8b6020(){const _0x4e0b54=_0x1f89c5;if(_0x488441)_0x488441[_0x4e0b54(0x212)]['remove'](_0x4e0b54(0x1a7));if(_0x101cfd)_0x101cfd[_0x4e0b54(0x212)]['remove'](_0x4e0b54(0x1a7));if(_0x4d5769)_0x4d5769['classList'][_0x4e0b54(0x224)](_0x4e0b54(0x1a7));if(_0x4ff53b)_0x4ff53b[_0x4e0b54(0x257)][_0x4e0b54(0x1fa)]=_0x4e0b54(0x1fd);if(_0x488441)_0x488441[_0x4e0b54(0x257)]['display']=_0x4e0b54(0x1fd);if(_0x101cfd)_0x101cfd[_0x4e0b54(0x257)][_0x4e0b54(0x1fa)]='none';if(_0x4d5769)_0x4d5769[_0x4e0b54(0x257)][_0x4e0b54(0x1fa)]=_0x4e0b54(0x1fd);}_0x22b34a&&_0x22b34a['addEventListener'](_0x1f89c5(0x231),()=>{const _0x192577=_0x1f89c5;console['log'](_0x192577(0x1c6)),_0x8b6020();_0x488441&&(_0x488441[_0x192577(0x212)]['add'](_0x192577(0x1a7)),_0x488441[_0x192577(0x257)][_0x192577(0x1fa)]=_0x192577(0x1a1));document[_0x192577(0x24e)](_0x192577(0x19b))[_0x192577(0x257)]['display']='block',document[_0x192577(0x24e)](_0x192577(0x262))[_0x192577(0x257)][_0x192577(0x1fa)]=_0x192577(0x1fd),document[_0x192577(0x24e)](_0x192577(0x208))['style'][_0x192577(0x1fa)]=_0x192577(0x1fd);if(_0x22b34a)_0x22b34a[_0x192577(0x212)]['add'](_0x192577(0x1a7));if(_0x1483f5)_0x1483f5[_0x192577(0x212)]['remove'](_0x192577(0x1a7));if(_0x5c9557)_0x5c9557[_0x192577(0x212)]['remove'](_0x192577(0x1a7));displayLadder(),findBestOpponent('d1');}),_0x1483f5&&_0x1483f5['addEventListener'](_0x1f89c5(0x231),()=>{const _0xc21b0e=_0x1f89c5;console[_0xc21b0e(0x26d)](_0xc21b0e(0x236)),_0x8b6020();_0x101cfd&&(_0x101cfd[_0xc21b0e(0x212)]['add'](_0xc21b0e(0x1a7)),_0x101cfd[_0xc21b0e(0x257)]['display']='block');document['getElementById'](_0xc21b0e(0x19b))[_0xc21b0e(0x257)][_0xc21b0e(0x1fa)]=_0xc21b0e(0x1fd),document[_0xc21b0e(0x24e)]('elo-recommendation-text-d2')[_0xc21b0e(0x257)][_0xc21b0e(0x1fa)]='block',document[_0xc21b0e(0x24e)](_0xc21b0e(0x208))[_0xc21b0e(0x257)]['display']='none';if(_0x1483f5)_0x1483f5[_0xc21b0e(0x212)]['add'](_0xc21b0e(0x1a7));if(_0x22b34a)_0x22b34a[_0xc21b0e(0x212)][_0xc21b0e(0x224)](_0xc21b0e(0x1a7));if(_0x5c9557)_0x5c9557[_0xc21b0e(0x212)]['remove'](_0xc21b0e(0x1a7));displayLadderD2(),findBestOpponent('d2');}),_0x5c9557&&_0x5c9557[_0x1f89c5(0x1a4)]('click',()=>{const _0xeca66=_0x1f89c5;console[_0xeca66(0x26d)](_0xeca66(0x24b)),_0x8b6020();_0x4d5769&&(_0x4d5769['classList'][_0xeca66(0x1f0)](_0xeca66(0x1a7)),_0x4d5769['style'][_0xeca66(0x1fa)]=_0xeca66(0x1a1));document[_0xeca66(0x24e)]('elo-recommendation-text-d1')[_0xeca66(0x257)]['display']=_0xeca66(0x1fd),document[_0xeca66(0x24e)]('elo-recommendation-text-d2')['style'][_0xeca66(0x1fa)]=_0xeca66(0x1fd),document[_0xeca66(0x24e)](_0xeca66(0x208))['style'][_0xeca66(0x1fa)]=_0xeca66(0x1a1);if(_0x5c9557)_0x5c9557[_0xeca66(0x212)][_0xeca66(0x1f0)]('active');if(_0x22b34a)_0x22b34a[_0xeca66(0x212)][_0xeca66(0x224)](_0xeca66(0x1a7));if(_0x1483f5)_0x1483f5['classList'][_0xeca66(0x224)]('active');displayLadderD3(),findBestOpponent('d3');}),_0x584753&&_0x584753[_0x1f89c5(0x1a4)](_0x1f89c5(0x231),()=>{const _0x5bf863=_0x1f89c5;_0x8b6020();if(_0x4ff53b)_0x4ff53b[_0x5bf863(0x257)][_0x5bf863(0x1fa)]=_0x5bf863(0x1a1);displayLadderDuos(),findBestOpponent(_0x5bf863(0x1e6)),document['getElementById']('elo-recommendation-text-duos')&&(document[_0x5bf863(0x24e)](_0x5bf863(0x1e3))['style']['display']=_0x5bf863(0x1a1)),document[_0x5bf863(0x24e)](_0x5bf863(0x19b))['style']['display']=_0x5bf863(0x1fd),document['getElementById'](_0x5bf863(0x262))[_0x5bf863(0x257)][_0x5bf863(0x1fa)]=_0x5bf863(0x1fd),document[_0x5bf863(0x24e)](_0x5bf863(0x208))[_0x5bf863(0x257)][_0x5bf863(0x1fa)]=_0x5bf863(0x1fd);});}document[a27_0x5919b9(0x1a4)](a27_0x5919b9(0x216),()=>{const _0x289b03=a27_0x5919b9;initLadderToggles(),displayLadder(),findBestOpponent('d1'),document[_0x289b03(0x24e)](_0x289b03(0x19b))[_0x289b03(0x257)][_0x289b03(0x1fa)]=_0x289b03(0x1a1);});export{displayLadder};async function findBestOpponent(_0x220db6='d1'){const _0x5cf409=a27_0x5919b9,_0x22c903='elo-recommendation-text-'+_0x220db6,_0x267643=document[_0x5cf409(0x24e)](_0x22c903);if(!_0x267643){console['error']('Recommendation\x20element\x20for\x20'+_0x220db6+_0x5cf409(0x19a));return;}const _0x4e2856=auth[_0x5cf409(0x270)];if(!_0x4e2856){_0x267643[_0x5cf409(0x1b0)]='';return;}try{const _0x52f95b=doc(db,'userProfiles',_0x4e2856[_0x5cf409(0x1da)]),_0x2015f6=await getDoc(_0x52f95b);if(!_0x2015f6[_0x5cf409(0x23f)]()){console[_0x5cf409(0x26d)](_0x5cf409(0x20a)),_0x267643['textContent']='Complete\x20your\x20profile\x20to\x20see\x20recommended\x20opponents';return;}const _0x2c5774=_0x2015f6['data'](),_0x24abbc=_0x2c5774[_0x5cf409(0x26b)];if(!_0x24abbc){_0x267643[_0x5cf409(0x1b0)]=_0x5cf409(0x217);return;}let _0x4432d2;switch(_0x220db6){case'd1':_0x4432d2='players';break;case'd2':_0x4432d2=_0x5cf409(0x1fb);break;case'd3':_0x4432d2=_0x5cf409(0x1b9);break;case _0x5cf409(0x1e6):_0x4432d2=_0x5cf409(0x1de);break;default:_0x4432d2=_0x5cf409(0x228);}if(_0x220db6==='duos'){const _0x517e1d=collection(db,_0x4432d2),_0x33022e=query(_0x517e1d,where(_0x5cf409(0x26b),'==',_0x24abbc)),_0x2f0e99=await getDocs(_0x33022e);if(_0x2f0e99[_0x5cf409(0x20b)]){_0x267643[_0x5cf409(0x1b0)]='You\x27re\x20not\x20registered\x20on\x20the\x20DUOS\x20ladder';return;}const _0x58104=_0x2f0e99[_0x5cf409(0x249)][0x0][_0x5cf409(0x1f7)](),_0x2a4fce=parseInt(_0x58104[_0x5cf409(0x1ff)])||0x4b0;if(_0x58104[_0x5cf409(0x1ef)]&&_0x58104[_0x5cf409(0x239)]){_0x267643[_0x5cf409(0x23b)]='You\x27re\x20teamed\x20with\x20<span\x20class=\x22recommendation-highlight\x22>'+_0x58104['teammate']+'</span>.\x20Challenge\x20other\x20teams!';return;}const _0x1b9a5e=await getDocs(_0x517e1d);let _0x40b6ba=null,_0xfbed6a=-0x1;_0x1b9a5e['forEach'](_0x3e4a3b=>{const _0x3a3ad5=_0x5cf409,_0x286287=_0x3e4a3b['data']();if(_0x286287[_0x3a3ad5(0x26b)]===_0x24abbc)return;if(_0x286287[_0x3a3ad5(0x1ef)])return;const _0x5326a6=parseInt(_0x286287['eloRating'])||0x4b0,_0x29ad00=Math['abs'](_0x5326a6-_0x2a4fce),_0x2647b6=Math[_0x3a3ad5(0x1e5)](0x0,0xc8-_0x29ad00);_0x2647b6>_0xfbed6a&&(_0x40b6ba=_0x286287,_0xfbed6a=_0x2647b6);});if(_0x40b6ba){const _0x156628=parseInt(_0x40b6ba[_0x5cf409(0x1ff)])||0x4b0;let _0x8b92f8=_0x5cf409(0x26e);if(_0x156628>=0x7d0)_0x8b92f8=_0x5cf409(0x20e);else{if(_0x156628>=0x708)_0x8b92f8=_0x5cf409(0x1f4);else{if(_0x156628>=0x640)_0x8b92f8='#C0C0C0';else _0x156628>=0x578&&(_0x8b92f8=_0x5cf409(0x241));}}_0x267643[_0x5cf409(0x23b)]=_0x5cf409(0x1c4)+_0x8b92f8+_0x5cf409(0x266)+_0x40b6ba[_0x5cf409(0x26b)]+_0x5cf409(0x1d9)+_0x156628+')';}else _0x267643[_0x5cf409(0x1b0)]=_0x5cf409(0x1e1);return;}const _0x1bd67f=collection(db,_0x4432d2),_0x511231=query(_0x1bd67f,where(_0x5cf409(0x26b),'==',_0x24abbc)),_0x3ee907=await getDocs(_0x511231);if(_0x3ee907[_0x5cf409(0x20b)]){_0x267643[_0x5cf409(0x1b0)]=_0x5cf409(0x218)+_0x220db6[_0x5cf409(0x1ae)]()+_0x5cf409(0x1e2);return;}const _0xb5f16f=_0x3ee907[_0x5cf409(0x249)][0x0][_0x5cf409(0x1f7)](),_0x21413b=parseInt(_0xb5f16f[_0x5cf409(0x1ff)])||0x5dc,_0x1b9918=await getDocs(_0x1bd67f);let _0x417af9=null,_0x2a9513=-0x1;const _0x361987=getPlayerRankName(_0x21413b);_0x1b9918['forEach'](_0x2acdef=>{const _0x48e29e=_0x5cf409,_0x16ef08=_0x2acdef['data']();if(_0x16ef08[_0x48e29e(0x26b)]===_0x24abbc)return;const _0x2090c5=parseInt(_0x16ef08[_0x48e29e(0x1ff)])||0x5dc,_0x1b2b1e=getPlayerRankName(_0x2090c5),_0x94091=Math['abs'](_0x2090c5-_0x21413b),_0xcb3483=0x20,_0x234381=0x1/(0x1+Math[_0x48e29e(0x1c7)](0xa,(_0x2090c5-_0x21413b)/0x190)),_0x1658ef=Math[_0x48e29e(0x1a6)](_0xcb3483*(0x1-_0x234381));if(_0x1658ef<=0x0)return;let _0x12d064=0x0;const _0x5d93e2=Math[_0x48e29e(0x1e5)](0x0,0x64-_0x94091*0.5),_0x24b245=_0x1658ef>=0x3&&_0x1658ef<=0x8?0x32:_0x1658ef>0x0&&_0x1658ef<0xf?0x1e:0xa,_0x5e0ced=_0x361987===_0x1b2b1e?0x28:0x0;_0x12d064=_0x5d93e2+_0x24b245+_0x5e0ced,_0x12d064>_0x2a9513&&(_0x417af9=_0x16ef08,_0x2a9513=_0x12d064);});if(_0x417af9){const _0x16156f=parseInt(_0x417af9[_0x5cf409(0x1ff)])||0x5dc;let _0x612a5d=_0x5cf409(0x26e);if(_0x16156f>=0x7d0)_0x612a5d=_0x5cf409(0x20e);else{if(_0x16156f>=0x708)_0x612a5d='#FFD700';else{if(_0x16156f>=0x640)_0x612a5d=_0x5cf409(0x1f8);else _0x16156f>=0x578&&(_0x612a5d=_0x5cf409(0x241));}}_0x267643[_0x5cf409(0x23b)]=_0x5cf409(0x195)+_0x21413b+_0x5cf409(0x26f)+_0x612a5d+_0x5cf409(0x266)+_0x417af9[_0x5cf409(0x26b)]+_0x5cf409(0x229);}else _0x267643[_0x5cf409(0x23b)]='No\x20ideal\x20opponent\x20found\x20for\x20your\x20current\x20ELO\x20('+_0x21413b+')';}catch(_0x167509){console[_0x5cf409(0x252)]('Error\x20finding\x20best\x20opponent:',_0x167509),_0x267643[_0x5cf409(0x1b0)]=_0x5cf409(0x1cb);}}auth[a27_0x5919b9(0x1c3)](_0x24b585=>{const _0x10a3cb=a27_0x5919b9,_0x1a8db1=document[_0x10a3cb(0x24e)]('d1-ladder-container')&&document[_0x10a3cb(0x24e)](_0x10a3cb(0x265))[_0x10a3cb(0x257)][_0x10a3cb(0x1fa)]!=='none',_0x9cbeb6=document['getElementById']('d2-ladder-container')&&document[_0x10a3cb(0x24e)](_0x10a3cb(0x1c9))['style'][_0x10a3cb(0x1fa)]!==_0x10a3cb(0x1fd),_0x59f4ba=document[_0x10a3cb(0x24e)](_0x10a3cb(0x263))&&document[_0x10a3cb(0x24e)]('d3-ladder-container')[_0x10a3cb(0x257)]['display']!==_0x10a3cb(0x1fd),_0x51253a=document['getElementById'](_0x10a3cb(0x240))&&document[_0x10a3cb(0x24e)]('duos-ladder-container')[_0x10a3cb(0x257)][_0x10a3cb(0x1fa)]!==_0x10a3cb(0x1fd),_0x2c8a43=_0x1a8db1?'d1':_0x9cbeb6?'d2':_0x59f4ba?'d3':_0x51253a?_0x10a3cb(0x1e6):'d1';findBestOpponent(_0x2c8a43);}),document['addEventListener'](a27_0x5919b9(0x216),()=>{const _0x549046=a27_0x5919b9,_0xb8da72=document['getElementById'](_0x549046(0x1bb)),_0xfe90af=document[_0x549046(0x1e7)]('label[for=\x22duos-switch\x22]');_0xb8da72&&_0xfe90af&&(_0xb8da72[_0x549046(0x1a4)](_0x549046(0x1d7),async _0x43634d=>{const _0x446783=_0x549046;if(_0x43634d[_0x446783(0x1ac)][_0x446783(0x21f)]){const _0x34a830=auth?.[_0x446783(0x270)],_0x24862f=await checkIfUserIsAdmin(_0x34a830);if(!_0x24862f){_0x43634d[_0x446783(0x1bc)]();const _0x23d3a3=document[_0x446783(0x24e)](_0x446783(0x1df));return _0x23d3a3&&(_0x23d3a3[_0x446783(0x21f)]=!![],_0x23d3a3[_0x446783(0x268)](new Event(_0x446783(0x1d7)))),showAdminOnlyMessage(),![];}}}),auth[_0x549046(0x1c3)](async _0x17e1c1=>{const _0xbd40c=_0x549046,_0x3ce886=await checkIfUserIsAdmin(_0x17e1c1);!_0x3ce886?(_0xb8da72[_0xbd40c(0x204)]=!![],_0xfe90af[_0xbd40c(0x257)][_0xbd40c(0x1c5)]=_0xbd40c(0x21c),_0xfe90af[_0xbd40c(0x257)][_0xbd40c(0x26c)]=_0xbd40c(0x210),_0xfe90af[_0xbd40c(0x248)]=_0xbd40c(0x19d)):(_0xb8da72[_0xbd40c(0x204)]=![],_0xfe90af['style'][_0xbd40c(0x1c5)]='1',_0xfe90af[_0xbd40c(0x257)][_0xbd40c(0x26c)]=_0xbd40c(0x23d),_0xfe90af['title']='');}));});async function checkIfUserIsAdmin(_0x565c04){const _0x28bf16=a27_0x5919b9;if(!_0x565c04)return![];try{const _0x483949=[_0x28bf16(0x260),_0x28bf16(0x1d6)];if(_0x565c04['email']&&_0x483949['includes'](_0x565c04[_0x28bf16(0x1fc)]['toLowerCase']()))return!![];const _0x59746f=[_0x28bf16(0x25b),'players',_0x28bf16(0x1fb),_0x28bf16(0x1b9)],_0x3da4e2=[_0x28bf16(0x251),_0x28bf16(0x233),_0x28bf16(0x253),_0x28bf16(0x1f2)];for(const _0x37cf7e of _0x59746f){try{const _0x9a3db1=doc(db,_0x37cf7e,_0x565c04[_0x28bf16(0x1da)]),_0x5dd8c1=await getDoc(_0x9a3db1);if(_0x5dd8c1[_0x28bf16(0x23f)]()){const _0x310640=_0x5dd8c1[_0x28bf16(0x1f7)](),_0x1f3355=(_0x310640[_0x28bf16(0x1b2)]||_0x310640[_0x28bf16(0x221)]||'')[_0x28bf16(0x22f)]();if(_0x1f3355&&_0x3da4e2['includes'](_0x1f3355))return!![];}}catch(_0x5aad3f){console[_0x28bf16(0x1b6)]('Error\x20checking\x20'+_0x37cf7e+':',_0x5aad3f);}}return![];}catch(_0x339756){return console[_0x28bf16(0x252)](_0x28bf16(0x1f6),_0x339756),![];}}function showAdminOnlyMessage(){const _0x1658e3=a27_0x5919b9,_0x3d3864=document[_0x1658e3(0x24e)](_0x1658e3(0x1e4));_0x3d3864&&_0x3d3864[_0x1658e3(0x224)]();const _0x31949a=document[_0x1658e3(0x21d)](_0x1658e3(0x1d0));_0x31949a['id']='admin-only-message',_0x31949a[_0x1658e3(0x257)][_0x1658e3(0x1d3)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translate(-50%,\x20-50%);\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#2a2a2a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x202px\x20solid\x20#ff6b6b;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ff6b6b;\x0a\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.5);\x0a\x20\x20\x20\x20',_0x31949a[_0x1658e3(0x23b)]=_0x1658e3(0x1ec),document['body'][_0x1658e3(0x1dd)](_0x31949a),setTimeout(()=>{const _0x1ea32b=_0x1658e3;_0x31949a[_0x1ea32b(0x20d)]&&_0x31949a[_0x1ea32b(0x224)]();},0xbb8);}