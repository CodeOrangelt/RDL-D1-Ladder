function a24_0x1a56(){const _0x474662=['gameInvitations','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','type','currentFilter','Error\x20performing\x20','setupEventListeners','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20Decline\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','addEventListener','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-overlay\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20right:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.8);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-content\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#2a2a2a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2090%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20500px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-height:\x2090vh;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20overflow-y:\x20auto;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-header\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20space-between;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-close\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x201.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-body\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-body\x20textarea\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#1a1a1a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resize:\x20vertical;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-footer\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-top:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','message','forEach','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-time\x22>','filter','setupActionListeners','getElementById','getTimeAgo','pageSize','updateNotificationCount','return\x20(function()\x20','Error\x20updating\x20invitation\x20status:','toUsername','loadInvitations','toDate','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','find','cancelled','init','team_invite','teamData','sentUnsubscribe','sentInvitations','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22response-message\x22\x20placeholder=\x22Type\x20your\x20message\x20here...\x22\x20rows=\x224\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20respond-btn\x22\x20id=\x22send-response\x22>Send\x20Message</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x22\x20id=\x22cancel-response\x22>Cancel</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20invitations</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','display','.filter-btn','innerHTML','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','trim','classList','success','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','status','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22empty-inbox\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-inbox\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>No\x20','style','error','uid','active','data','invitations','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22color:\x20#888;\x20font-size:\x200.9em;\x20margin:\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Duos\x20Ladder\x20Team\x20â€¢\x20Color:\x20','inbox-notification','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20Cancel\x20Invitation\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dataset','docs','When\x20other\x20players\x20invite\x20you\x20to\x20games,\x20they\x27ll\x20appear\x20here.','toUserId','querySelectorAll','appendChild','log','Invitations\x20you\x20send\x20to\x20other\x20players\x20will\x20appear\x20here.','unsubscribe','outbox','teamColor','\x20invitation.\x20Please\x20try\x20again.','createTeamFromInvitation','desc','all','createInvitationCard','updateInvitationStatus'];a24_0x1a56=function(){return _0x474662;};return a24_0x1a56();}const a24_0x40694e=a24_0x19f5,a24_0x49525e=(function(){let _0x437f42=!![];return function(_0x5986db,_0x256dcb){const _0x1a9201=_0x437f42?function(){if(_0x256dcb){const _0x1db45c=_0x256dcb['apply'](_0x5986db,arguments);return _0x256dcb=null,_0x1db45c;}}:function(){};return _0x437f42=![],_0x1a9201;};}()),a24_0x2b758a=a24_0x49525e(this,function(){const _0x42012f=a24_0x19f5;let _0x2fb0d9;try{const _0x585518=Function(_0x42012f(0x184)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x2fb0d9=_0x585518();}catch(_0x25c827){_0x2fb0d9=window;}const _0x3974f3=_0x2fb0d9['console']=_0x2fb0d9['console']||{},_0x5c58e7=[_0x42012f(0x1ac),'warn','info',_0x42012f(0x19e),'exception','table','trace'];for(let _0x516e99=0x0;_0x516e99<_0x5c58e7['length'];_0x516e99++){const _0x19d136=a24_0x49525e['constructor']['prototype']['bind'](a24_0x49525e),_0x59de55=_0x5c58e7[_0x516e99],_0x2d8899=_0x3974f3[_0x59de55]||_0x19d136;_0x19d136['__proto__']=a24_0x49525e['bind'](a24_0x49525e),_0x19d136['toString']=_0x2d8899['toString']['bind'](_0x2d8899),_0x3974f3[_0x59de55]=_0x19d136;}});a24_0x2b758a();import{auth,db}from'./firebase-config.js';import{collection,query,where,orderBy,getDocs,doc,updateDoc,onSnapshot,limit,startAfter}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';function a24_0x19f5(_0x5915ea,_0x56eb70){const _0x2b758a=a24_0x1a56();return a24_0x19f5=function(_0x49525e,_0x13c9a9){_0x49525e=_0x49525e-0x172;let _0x1a56f8=_0x2b758a[_0x49525e];return _0x1a56f8;},a24_0x19f5(_0x5915ea,_0x56eb70);}class InboxManager{constructor(){const _0x2e494b=a24_0x19f5;this[_0x2e494b(0x175)]='pending',this['invitations']=[],this['sentInvitations']=[],this['unsubscribe']=null,this['sentUnsubscribe']=null,this['pageSize']=0x14,this['lastDoc']=null,this['hasMore']=!![],this[_0x2e494b(0x18c)]();}async['init'](){auth['onAuthStateChanged'](_0x207462=>{const _0x3b11da=a24_0x19f5;_0x207462?(this['loadInvitations'](_0x207462[_0x3b11da(0x19f)]),this[_0x3b11da(0x177)]()):window['location']['href']='./login.html';});}['setupEventListeners'](){const _0x4a1fb1=a24_0x19f5;document[_0x4a1fb1(0x1aa)](_0x4a1fb1(0x194))[_0x4a1fb1(0x17c)](_0xb1486=>{const _0x3f3f08=_0x4a1fb1;_0xb1486[_0x3f3f08(0x179)]('click',()=>{const _0xa58587=_0x3f3f08;document['querySelectorAll']('.filter-btn')['forEach'](_0x4d8906=>_0x4d8906[_0xa58587(0x198)]['remove'](_0xa58587(0x1a0))),_0xb1486['classList']['add']('active'),this['currentFilter']=_0xb1486[_0xa58587(0x1a6)][_0xa58587(0x17e)],this['renderInvitations']();});});}[a24_0x40694e(0x187)](_0x126724){const _0x5050ad=a24_0x40694e,_0x41c02e=collection(db,'gameInvitations');let _0x102390=query(_0x41c02e,where(_0x5050ad(0x1a9),'==',_0x126724),orderBy('createdAt','desc'),limit(this[_0x5050ad(0x182)]));this[_0x5050ad(0x1ae)]=onSnapshot(_0x102390,_0x428d21=>{const _0x11bc54=_0x5050ad;this['invitations']=_0x428d21[_0x11bc54(0x1a7)]['map'](_0x260cf4=>({'id':_0x260cf4['id'],..._0x260cf4['data']()})),this['renderInvitations'](),this['updateNotificationCount']();});let _0x15f271=query(_0x41c02e,where('fromUserId','==',_0x126724),orderBy('createdAt',_0x5050ad(0x1b3)),limit(this['pageSize']));this['sentUnsubscribe']=onSnapshot(_0x15f271,_0x3546ec=>{const _0x447140=_0x5050ad;this[_0x447140(0x190)]=_0x3546ec[_0x447140(0x1a7)]['map'](_0x159ccc=>({'id':_0x159ccc['id'],..._0x159ccc[_0x447140(0x1a1)](),'isSent':!![]})),this['renderInvitations']();});}['renderInvitations'](){const _0x133655=a24_0x40694e,_0x15cb09=document['getElementById']('inbox-content');if(!_0x15cb09)return;let _0x22df9c=[];if(this[_0x133655(0x175)]===_0x133655(0x1af))_0x22df9c=this['sentInvitations'];else this['currentFilter']==='all'?_0x22df9c=[...this[_0x133655(0x1a2)],...this['sentInvitations']]['sort']((_0x4a4174,_0x488b6f)=>{const _0x9b8490=_0x133655,_0x5893d4=_0x4a4174['createdAt']?.['toDate']?_0x4a4174['createdAt'][_0x9b8490(0x188)]():new Date(_0x4a4174['createdAt']),_0x1b0b82=_0x488b6f['createdAt']?.[_0x9b8490(0x188)]?_0x488b6f['createdAt'][_0x9b8490(0x188)]():new Date(_0x488b6f['createdAt']);return _0x1b0b82-_0x5893d4;}):_0x22df9c=this['invitations']['filter'](_0x568114=>_0x568114[_0x133655(0x19b)]===this['currentFilter']);if(_0x22df9c['length']===0x0){const _0x30aa55=this['currentFilter']==='outbox'?'sent':this['currentFilter']===_0x133655(0x1b4)?'':this['currentFilter'];_0x15cb09['innerHTML']=_0x133655(0x19c)+_0x30aa55+_0x133655(0x192)+(this['currentFilter']==='outbox'?_0x133655(0x1ad):_0x133655(0x1a8))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';return;}_0x15cb09['innerHTML']=_0x22df9c['map'](_0x3dcbb4=>this[_0x133655(0x1b5)](_0x3dcbb4))['join'](''),this['setupActionListeners']();}['createInvitationCard'](_0x2360aa){const _0x566718=a24_0x40694e,_0x40ee0a=_0x2360aa['createdAt']?.[_0x566718(0x188)]?_0x2360aa['createdAt']['toDate']():new Date(_0x2360aa['createdAt']),_0x167520=this['getTimeAgo'](_0x40ee0a),_0x32aeef=_0x2360aa['isSent']||![];let _0x35bb85='';return _0x2360aa['type']==='team_invite'?_0x35bb85=_0x566718(0x196)+_0x2360aa[_0x566718(0x17b)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22team-invite-preview\x22\x20style=\x22background:\x20#1a1a1a;\x20padding:\x201rem;\x20border-radius:\x204px;\x20margin:\x200.5rem\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20style=\x22color:\x20'+_0x2360aa[_0x566718(0x18e)]['teamColor']+';\x20margin:\x200\x200\x200.5rem\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2360aa[_0x566718(0x18e)]['proposedTeamName']+_0x566718(0x1a3)+_0x2360aa[_0x566718(0x18e)][_0x566718(0x1b0)]+_0x566718(0x19a):_0x35bb85='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+_0x2360aa['message']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-card\x20'+_0x2360aa['status']+'\x20'+(_0x32aeef?'sent-invitation':'')+'\x22\x20data-invitation-id=\x22'+_0x2360aa['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-from\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x32aeef?'To:\x20'+_0x2360aa['toUsername']:_0x2360aa['fromUsername'])+_0x566718(0x189)+(_0x32aeef?'<span\x20class=\x22sent-indicator\x22><i\x20class=\x22fas\x20fa-paper-plane\x22></i>\x20Sent</span>':'')+_0x566718(0x17d)+_0x167520+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22status-badge\x20status-'+_0x2360aa['status']+'\x22>'+_0x2360aa['status']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x35bb85+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x32aeef&&_0x2360aa['status']==='pending'?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20accept-btn\x22\x20data-action=\x22accept\x22\x20data-invitation-id=\x22'+_0x2360aa['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20Accept\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20decline-btn\x22\x20data-action=\x22decline\x22\x20data-invitation-id=\x22'+_0x2360aa['id']+_0x566718(0x178)+(_0x2360aa[_0x566718(0x174)]!==_0x566718(0x18d)?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20respond-btn\x22\x20data-action=\x22respond\x22\x20data-invitation-id=\x22'+_0x2360aa['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-reply\x22></i>\x20Send\x20Message\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x32aeef&&_0x2360aa['status']==='pending'?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20cancel-btn\x22\x20data-action=\x22cancel\x22\x20data-invitation-id=\x22'+_0x2360aa['id']+_0x566718(0x1a5):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}[a24_0x40694e(0x17f)](){const _0x4f5fc4=a24_0x40694e;document['querySelectorAll']('.action-btn')[_0x4f5fc4(0x17c)](_0x350260=>{const _0x193261=_0x4f5fc4;_0x350260[_0x193261(0x179)]('click',async _0x23ebc5=>{const _0x502c2b=_0x193261,_0x4bb4dd=_0x350260[_0x502c2b(0x1a6)]['action'],_0x57ec33=_0x350260['dataset']['invitationId'];_0x350260['disabled']=!![];const _0x7c5745=_0x350260['innerHTML'];_0x350260['innerHTML']=_0x502c2b(0x173);try{switch(_0x4bb4dd){case'accept':await this[_0x502c2b(0x1b6)](_0x57ec33,'accepted');break;case'decline':await this['updateInvitationStatus'](_0x57ec33,'declined');break;case'cancel':await this[_0x502c2b(0x1b6)](_0x57ec33,_0x502c2b(0x18b));break;case'respond':this['openResponseModal'](_0x57ec33);break;}}catch(_0x1c9d5d){console['error'](_0x502c2b(0x176)+_0x4bb4dd+':',_0x1c9d5d),alert('Failed\x20to\x20'+_0x4bb4dd+_0x502c2b(0x1b1));}finally{_0x350260['disabled']=![],_0x350260['innerHTML']=_0x7c5745;}});});}async['updateInvitationStatus'](_0x11dceb,_0x51da51){const _0x26f498=a24_0x40694e;try{const _0x4b0c2e=this[_0x26f498(0x1a2)]['find'](_0x5522bb=>_0x5522bb['id']===_0x11dceb);_0x4b0c2e&&_0x4b0c2e['type']===_0x26f498(0x18d)&&_0x51da51==='accepted'&&await this[_0x26f498(0x1b2)](_0x4b0c2e);const _0x315a78=doc(db,_0x26f498(0x172),_0x11dceb);await updateDoc(_0x315a78,{'status':_0x51da51,'respondedAt':new Date()}),_0x4b0c2e&&(_0x4b0c2e['status']=_0x51da51,_0x4b0c2e['respondedAt']=new Date(),this['renderInvitations']());}catch(_0x557d73){console['error'](_0x26f498(0x185),_0x557d73);throw _0x557d73;}}['openResponseModal'](_0x276975){const _0x1f7f53=a24_0x40694e,_0x5f35ac=this['invitations'][_0x1f7f53(0x18a)](_0x3ca37e=>_0x3ca37e['id']===_0x276975);if(!_0x5f35ac)return;const _0x144335=document['createElement']('div');_0x144335['className']='modal-overlay',_0x144335[_0x1f7f53(0x195)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Send\x20Message\x20to\x20'+_0x5f35ac['fromUsername']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22modal-close\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-body\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Regarding\x20invitation\x20to:\x20<strong>'+_0x5f35ac['value']+_0x1f7f53(0x191);if(!document['getElementById']('modal-styles')){const _0x215ee1=document['createElement']('style');_0x215ee1['id']='modal-styles',_0x215ee1['textContent']=_0x1f7f53(0x17a),document['head']['appendChild'](_0x215ee1);}document['body'][_0x1f7f53(0x1ab)](_0x144335),_0x144335['querySelector']('.modal-close')['addEventListener']('click',()=>_0x144335['remove']()),_0x144335['querySelector']('#cancel-response')['addEventListener']('click',()=>_0x144335['remove']()),_0x144335['addEventListener']('click',_0x66a330=>{if(_0x66a330['target']===_0x144335)_0x144335['remove']();}),_0x144335['querySelector']('#send-response')['addEventListener']('click',()=>{const _0x1bf496=_0x1f7f53,_0x56e87c=document['getElementById']('response-message')['value'][_0x1bf496(0x197)]();_0x56e87c&&(alert('Message\x20sent!\x20(Feature\x20will\x20be\x20fully\x20implemented\x20in\x20future\x20update)'),_0x144335['remove']());});}async['createTeamFromInvitation'](_0x5d0781){const _0x581a18=a24_0x40694e;try{const {createTeam:_0x5cd479}=await import('./ladderduos.js'),_0x20cc33=await _0x5cd479(_0x5d0781['fromUsername'],_0x5d0781[_0x581a18(0x186)],_0x5d0781['teamData']['proposedTeamName'],_0x5d0781['teamData'][_0x581a18(0x1b0)]);if(!_0x20cc33[_0x581a18(0x199)])throw new Error(_0x20cc33['error']);alert('Team\x20\x22'+_0x5d0781[_0x581a18(0x18e)]['proposedTeamName']+'\x22\x20created\x20successfully!');}catch(_0x84b220){console['error']('Error\x20creating\x20team:',_0x84b220);throw new Error('Failed\x20to\x20create\x20team:\x20'+_0x84b220[_0x581a18(0x17b)]);}}[a24_0x40694e(0x183)](){const _0x31e327=a24_0x40694e,_0x1f9672=this['invitations']['filter'](_0x507cbd=>_0x507cbd[_0x31e327(0x19b)]==='pending')['length'],_0x302acd=document[_0x31e327(0x180)](_0x31e327(0x1a4));_0x302acd&&(_0x1f9672>0x0?(_0x302acd['style'][_0x31e327(0x193)]='inline-block',_0x302acd['textContent']=_0x1f9672>0x9?'9+':_0x1f9672):_0x302acd[_0x31e327(0x19d)]['display']='none');}[a24_0x40694e(0x181)](_0x2e0384){const _0x9315a3=new Date(),_0x5671e9=_0x9315a3-_0x2e0384,_0x5092e5=Math['floor'](_0x5671e9/(0x3e8*0x3c)),_0x2b1507=Math['floor'](_0x5671e9/(0x3e8*0x3c*0x3c)),_0x478bd3=Math['floor'](_0x5671e9/(0x3e8*0x3c*0x3c*0x18));if(_0x5092e5<0x1)return'Just\x20now';if(_0x5092e5<0x3c)return _0x5092e5+'m\x20ago';if(_0x2b1507<0x18)return _0x2b1507+'h\x20ago';if(_0x478bd3<0x7)return _0x478bd3+'d\x20ago';return _0x2e0384['toLocaleDateString']();}['destroy'](){const _0x5518b6=a24_0x40694e;this['unsubscribe']&&this['unsubscribe'](),this['sentUnsubscribe']&&this[_0x5518b6(0x18f)]();}}document['addEventListener']('DOMContentLoaded',()=>{new InboxManager();});