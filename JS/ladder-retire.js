const a26Z=a26b;function a26b(a,b){const c=a26a();return a26b=function(d,e){d=d-0x148;let f=c[d];if(a26b['gzsbdF']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a26b['CsFLwI']=g,a=arguments,a26b['gzsbdF']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a26b['CsFLwI'](f),a[i]=f):f=j,f;},a26b(a,b);}(function(a,b){const Y=a26b,c=a();while(!![]){try{const d=-parseInt(Y(0x174))/0x1*(-parseInt(Y(0x161))/0x2)+-parseInt(Y(0x156))/0x3*(-parseInt(Y(0x18d))/0x4)+-parseInt(Y(0x1a5))/0x5+parseInt(Y(0x19a))/0x6*(parseInt(Y(0x159))/0x7)+-parseInt(Y(0x173))/0x8+parseInt(Y(0x187))/0x9*(-parseInt(Y(0x16b))/0xa)+-parseInt(Y(0x189))/0xb*(parseInt(Y(0x163))/0xc);if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a26a,0x23d2e));import{getAuth,onAuthStateChanged}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';import{getFirestore}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';function a26a(){const ay=['zNjVBuXHzgrLCG','CxvLCNLtzwXLy3rVCG','rxjYB3iGzgLZC29SDMLUzYb0zwfToG','BgvHDMuTDgvHBs1IDxr0B24','oufsB0P1AG','yxbWzw5Kq2HPBgq','mJj0wvDcAgO','DgfYz2v0','Dg9mB3DLCKnHC2u','DgLUEs1YzxrPCMuTyNv0Dg9U','mJKYr2HSA2Dw','vxnLCIbPCYbPBIbHihrLyw0SihnOB3DPBMCGBgvHDMuGDgvHBsbIDxr0B24','y2XHC3noyw1L','DxnLCM5HBwu','ltuWChG','u3vJy2vZC2z1BgX5ihDLBNqGB24GAgLHDhvZigzYB20G','q1rg','y29UzMLYBs1OAwf0DxmTyNv0Dg9U','Dw5OAwf0DxmTBgfKzgvYlxr5Cgu','zgLZywjSzwq','CMv0AxjLlwXHzgrLCI10ExbL','DgvHBuLK','y2HHBMDL','mte4mK9gwgffEq','vgvHBw1HDguNCYb0zwfTigrHDgeGy2XLyxjLzcbZDwnJzxnZzNvSBhK','igXHzgrLCIe','ww91igfYzsbUB3qGB24GDgHPCYbSywrKzxiU','Dgv4DenVBNrLBNq','C3r5Bgu','vxnLCIbPCYbVBIb0AguG','BgfKzgvYlxjLDgLYzs1ZDgf0Dxm','vxnLCIbPCYbUB3qGAw4Gysb0zwfTlcbOAwrPBMCGBgvHDMuGDgvHBsbIDxr0B24','rxjYB3iGzhvYAw5NigHPyxr1CZO','y3jLyxrLrwXLBwvUDa','mte5otu1rKjeC1nx','ugXLyxnLigvUDgvYihLVDxiGDxnLCM5HBwuGDg8Gy29UzMLYBs4','u3vJy2vZC2z1BgX5igXLzNqGDgvHBseGww91ihjLBwfPBIbVBIb0AguGBgfKzgvYigfZigeGC29SBYbWBgf5zxiU','DMfSDwu','igXHzgrLCG','rfvpuW','DhjPBq','y2HLy2TLza','ww91ig11C3qGyMuGBg9Nz2vKigLUihrVihjLDhvYBIbMCM9TigHPyxr1CY4','rxjYB3iGChjVy2vZC2LUzYb5B3vYihjLCxvLC3qUifbSzwfZzsb0CNKGywDHAw4U','zgLZCgXHEq','AgLHDhvZlwj1DhrVBG','AgfZvgvHBq','BwvZC2fNzq','ywrKrxzLBNrmAxn0zw5LCG','ww91igfYzsbUB3qGB24GAgLHDhvZlG','BgvHDMuTDgvHBs1ZDgf0Dxm','uMv0AxjPBMCGzNjVBsa','ww91ig11C3qGyMuGBg9Nz2vKigLUihrVigDVig9UigHPyxr1CY4','Aw5WDxrBBMfTzt0IBgfKzgvYiL0','Dw5OAwf0DxmTyNv0Dg9U','CgXHEwvYC0nurG','BgfKzgvYlxjLDgLYzs1WCM9TChq','D2fYBG','CxvLCNLtzwXLy3rVCKfSBa','mtiWmdLfqwLuBvy','zxjYB3i','CMvSB2fK','nZKWm3fuAML0za','Dw5OAwf0DxmTDxnLCM5HBwuTAw5WDxq','uMv0DxjUAw5NigzYB20GAgLHDhvZlI4U','yMXVy2S','zM9YrwfJAa','DgvHBw1HDgu','CMv0AxjLlwXHzgrLCI1IDxr0B24','ww91ig11C3qGyMuGBg9Nz2vKigLUihrVihjLDgLYzs4','nda4otGYBMTbz0zS','zMXLEa','mta1nZqWneTYvMzqwG','i2zMytuWma','AgLHDhvZlxvZzxjUyw1LlwLUChv0','Bg9JyxrPB24','rxjYB3iGy2HLy2TPBMCGAgLHDhvZihn0yxr1CYaODgHPCYbPCYbLEhbLy3rLzcbPzIbWzxjTAxnZAw9UCYbHCMvUj3qGC2v0ktO','AgLHDhvZlwXHzgrLCI10ExbL','Bg9N','rxjYB3iGz2v0DgLUzYbOAwf0DxmGzgf0ytO','mJm5mtyZmfbjuNHODW','z2v0rwXLBwvUDej5swq','q2HLy2TPBMCGCMv0AxjLihzPC2LIAwXPDhKGzM9YigXHzgrLCJO','twfPBIbLCNjVCIbPBIbJAgvJA1bSyxLLCLn0yxr1CZO','CgXHEwvYCW','DwLK','BgvHDMuTDgvHBs11C2vYBMfTzs1PBNb1Da','zxHPC3rZ','mta2ndaWoefAtuvHvG','mxn4DfvmAa','y29SB3i','vxnLCM5HBwuGzg9LCYbUB3qGBwf0y2GGEw91CIbHy2nVDw50lG','y3vYCMvUDfvZzxi','vw5OAwf0DxmGyNv0Dg9UignSAwnRzwq','tgvHDMLUzYb0zwfTlI4U','BM9Uzq','r29PBMCGB24GAgLHDhvZigzYB20G','i2zMnMi2yG','uMv0DxjUigzYB20GsgLHDhvZ','yNv0Dg9U','CgXHEwvYsgLHDhvZ','y29UzMLYBs1Szwf2zs10zwfTlwj1DhrVBG','zgf0yq','y2XPy2S'];a26a=function(){return ay;};return a26a();}import{doc,getDoc,getDocs,updateDoc,deleteDoc,setDoc,query,collection,where}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{auth,db}from'./firebase-config.js';document[a26Z(0x14b)]('DOMContentLoaded',()=>{const a0=a26Z,a=document[a0(0x16c)](a0(0x18c)),b=document['getElementById'](a0(0x153)),c=document['getElementById'](a0(0x197)),d=document[a0(0x16c)]('retire-username-input'),e=document[a0(0x16c)](a0(0x15f)),f=document['getElementById'](a0(0x1a1)),g=document[a0(0x16c)](a0(0x186)),h=document['getElementById']('leave-team-prompt'),i=document['getElementById'](a0(0x14d)),j=document[a0(0x16c)](a0(0x180)),k=document['getElementById'](a0(0x171)),l=document['getElementById'](a0(0x148)),m=document['getElementById']('hiatus-prompt'),n=document['getElementById'](a0(0x168)),o=document['getElementById'](a0(0x165)),p=document['getElementById'](a0(0x194)),q=document[a0(0x16c)]('hiatus-status'),r=document['getElementById']('unhiatus-prompt'),s=document['getElementById'](a0(0x195)),t=document['getElementById'](a0(0x15a)),u=document[a0(0x16c)]('confirm-unhiatus-button'),v=document[a0(0x16c)]('unhiatus-status');let w='D1';function x(M){const a1=a0;switch(M){case'D1':return a1(0x16f);case'D2':return'playersD2';case'D3':return'playersD3';case a1(0x1aa):return'playersDuos';case a1(0x193):return a1(0x152);default:return a1(0x16f);}}function y(){const a2=a0;document[a2(0x155)](a2(0x150))[a2(0x15d)](M=>{const a3=a2;M['addEventListener'](a3(0x199),N=>{const a4=a3;N['target'][a4(0x1ac)]&&(w=N['target']['value'],console['log']('Retire:\x20Ladder\x20changed\x20to:\x20'+w),c&&(c[a4(0x19e)]=w),z());});});}function z(){const a5=a0;console[a5(0x169)](a5(0x16d),w);const M=auth[a5(0x177)];if(!M){if(a)a['style']['display']='none';if(g)g['style'][a5(0x1af)]=a5(0x17a);if(l)l[a5(0x19f)]['display']=a5(0x17a);if(H)H[a5(0x19f)][a5(0x1af)]=a5(0x17a);return;}A(M);}async function A(M){const a6=a0;try{try{const N=doc(db,'playerHiatus',M['uid']),O=await getDoc(N);if(O[a6(0x172)]()){const P=O['data']();console[a6(0x169)]('User\x20is\x20on\x20hiatus\x20from\x20'+P[a6(0x183)]+'\x20ladder');if(H)H[a6(0x19f)]['display']=a6(0x15c);if(a)a['style']['display']=a6(0x17a);if(g)g[a6(0x19f)]['display']=a6(0x17a);if(l)l[a6(0x19f)]['display']='none';return;}}catch(Q){console[a6(0x154)](a6(0x167),Q);}try{const R=x(w);console['log']('Checking\x20if\x20user\x20is\x20in\x20'+R+'\x20collection');const S=doc(db,R,M['uid']),T=await getDoc(S);if(T[a6(0x172)]()){console[a6(0x169)](a6(0x1a0)+w+a6(0x1a9));if(a)a[a6(0x19f)]['display']=a6(0x15c);if(l)l['style'][a6(0x1af)]=a6(0x15c);if(w===a6(0x1aa)){const U=T[a6(0x181)]();if(U['hasTeam']&&U['teamId']){console['log'](a6(0x18e));if(g)g[a6(0x19f)][a6(0x1af)]='block';}else{console['log'](a6(0x1a2));if(g)g[a6(0x19f)][a6(0x1af)]=a6(0x17a);}}else{if(g)g[a6(0x19f)]['display']='none';}}else{console[a6(0x169)]('User\x20is\x20NOT\x20on\x20the\x20'+w+'\x20ladder');if(a)a['style']['display']=a6(0x17a);if(g)g['style'][a6(0x1af)]=a6(0x17a);if(l)l[a6(0x19f)]['display']='none';}}catch(V){console[a6(0x157)]('Error\x20checking\x20player\x20status:',V);if(a)a['style']['display']='none';if(g)g['style'][a6(0x1af)]='none';if(l)l['style']['display']=a6(0x17a);}}catch(W){console['error'](a6(0x16e),W);if(a)a[a6(0x19f)][a6(0x1af)]=a6(0x17a);if(g)g[a6(0x19f)]['display']='none';if(l)l['style']['display']=a6(0x17a);if(H)H['style']['display']=a6(0x17a);}}async function B(M,N){const a7=a0;if(M[a7(0x149)]&&M[a7(0x198)]&&M[a7(0x15e)]){console[a7(0x169)]('Dissolving\x20team\x20for\x20retiring\x20player...');try{const O=collection(db,N),P=query(O,where('username','==',M['teammate'])),Q=await getDocs(P);if(!Q['empty']){const R=Q['docs'][0x0];await updateDoc(R['ref'],{'hasTeam':![],'teamId':null,'teamName':null,'teammate':null,'teamColor':null}),console['log'](a7(0x19b));}}catch(S){console['error'](a7(0x185),S);}}}async function C(M,N){const a8=a0,O=x(w);try{const P=doc(db,O,N['uid']),Q=await getDoc(P);if(!Q[a8(0x172)]())throw new Error(a8(0x19d));const R=Q['data']();if(R[a8(0x190)]['toLowerCase']()!==M['toLowerCase']())throw new Error(a8(0x176));if(!R[a8(0x149)]||!R['teamId'])throw new Error('You\x20are\x20not\x20currently\x20in\x20a\x20team.');return await B(R,O),await updateDoc(P,{'hasTeam':![],'teamId':null,'teamName':null,'teammate':null,'teamColor':null}),{'success':!![]};}catch(S){console[a8(0x157)]('Error\x20leaving\x20team:',S);throw S;}}async function D(M,N){const a9=a0,O=x(w);try{const P=doc(db,O,N[a9(0x170)]),Q=await getDoc(P);if(!Q[a9(0x172)]())throw new Error(a9(0x19d));const R=Q['data']();if(R[a9(0x190)][a9(0x18b)]()!==M['toLowerCase']())throw new Error('Username\x20does\x20not\x20match\x20your\x20account.');return w===a9(0x1aa)&&await B(R,O),await deleteDoc(P),{'success':!![]};}catch(S){console['error']('Error\x20retiring\x20from\x20ladder:',S);throw S;}}async function E(M,N){const aa=a0,O=x(w),P=aa(0x17f);try{const Q=doc(db,O,N[aa(0x170)]),R=await getDoc(Q);if(!R['exists']())throw new Error('You\x20are\x20not\x20on\x20this\x20ladder.');const S=R[aa(0x181)]();if(S[aa(0x190)][aa(0x18b)]()!==M['toLowerCase']())throw new Error('Username\x20does\x20not\x20match\x20your\x20account.');w==='DUOS'&&S['hasTeam']&&await B(S,O);const T={...S,'fromLadder':w,'hiatusDate':new Date(),'playerCollection':O};return await setDoc(doc(db,P,N[aa(0x170)]),T),await deleteDoc(Q),{'success':!![]};}catch(U){console['error']('Error\x20going\x20on\x20hiatus:',U);throw U;}}async function F(M,N){const ab=a0,O='playerHiatus';try{const P=doc(db,O,N['uid']),Q=await getDoc(P);if(!Q['exists']())throw new Error(ab(0x14c));const R=Q[ab(0x181)]();if(R['username'][ab(0x18b)]()!==M[ab(0x18b)]())throw new Error('Username\x20does\x20not\x20match\x20your\x20account.');const S=R['playerCollection']||x(R['fromLadder']),{hiatusDate:T,fromLadder:U,playerCollection:V,...W}=R;return await setDoc(doc(db,S,N[ab(0x170)]),W),await deleteDoc(P),{'success':!![],'ladder':U};}catch(X){console['error']('Error\x20returning\x20from\x20hiatus:',X);throw X;}}onAuthStateChanged(auth,M=>{const ac=a0;if(M)z();else{if(a)a[ac(0x19f)][ac(0x1af)]=ac(0x17a);if(g)g['style'][ac(0x1af)]=ac(0x17a);if(b)b['style'][ac(0x1af)]=ac(0x17a);if(h)h[ac(0x19f)]['display']=ac(0x17a);if(l)l[ac(0x19f)]['display']='none';if(H)H[ac(0x19f)][ac(0x1af)]=ac(0x17a);}});a&&a['addEventListener'](a0(0x182),()=>{const ad=a0;console[ad(0x169)]('Retire\x20button\x20clicked'),b&&(b[ad(0x19f)][ad(0x1af)]=ad(0x162)),c&&(c['textContent']=w),f&&(f[ad(0x19e)]='',f['style'][ad(0x175)]=''),d&&(d['value']='');});g&&g[a0(0x14b)]('click',()=>{const ae=a0;console[ae(0x169)]('Leave\x20team\x20button\x20clicked'),h&&(h[ae(0x19f)][ae(0x1af)]='flex'),i&&(i[ae(0x19e)]='',i[ae(0x19f)][ae(0x175)]=''),k&&(k['value']='');});l&&l['addEventListener'](a0(0x182),()=>{const af=a0;console['log']('Hiatus\x20button\x20clicked'),m&&(m['style']['display']=af(0x162)),n&&(n['textContent']=w),q&&(q[af(0x19e)]='',q['style']['color']=''),o&&(o['value']='');});e&&e[a0(0x14b)]('click',async()=>{const ag=a0,M=d?d['value'][ag(0x1ab)]():'';if(!M){f&&(f['textContent']=ag(0x1a6),f[ag(0x19f)][ag(0x175)]=ag(0x17c));return;}const N=auth['currentUser'];if(!N){f&&(f['textContent']=ag(0x160),f[ag(0x19f)][ag(0x175)]='#ff6b6b');return;}e[ag(0x196)]=!![];f&&(f['textContent']=ag(0x14e)+w+'\x20ladder...',f[ag(0x19f)][ag(0x175)]='#ffa500');try{await D(M,N),f&&(f[ag(0x19e)]='Successfully\x20retired\x20from\x20'+w+ag(0x19c),f['style']['color']='#4CAF50'),setTimeout(()=>{const ah=ag;if(a)a['style'][ah(0x1af)]=ah(0x17a);if(b)b['style']['display']='none';window['location'][ah(0x158)]();},0x7d0);}catch(O){console[ag(0x157)]('Error\x20during\x20retirement:',O),f&&(f[ag(0x19e)]=O['message']||ag(0x1ae),f[ag(0x19f)][ag(0x175)]=ag(0x17c)),e['disabled']=![];}});j&&j[a0(0x14b)]('click',async()=>{const ai=a0,M=k?k[ai(0x1a8)]['trim']():'';if(!M){i&&(i[ai(0x19e)]=ai(0x1a6),i[ai(0x19f)]['color']=ai(0x17c));return;}const N=auth[ai(0x177)];if(!N){i&&(i[ai(0x19e)]='You\x20must\x20be\x20logged\x20in\x20to\x20leave\x20a\x20team.',i[ai(0x19f)]['color']='#ff6b6b');return;}j['disabled']=!![];i&&(i['textContent']=ai(0x179),i[ai(0x19f)]['color']=ai(0x164));try{await C(M,N),i&&(i[ai(0x19e)]=ai(0x1a7),i['style']['color']='#4CAF50'),setTimeout(()=>{const aj=ai;if(g)g['style'][aj(0x1af)]=aj(0x17a);if(h)h[aj(0x19f)][aj(0x1af)]='none';window[aj(0x166)]['reload']();},0x7d0);}catch(O){console[ai(0x157)]('Error\x20leaving\x20team:',O),i&&(i[ai(0x19e)]=O[ai(0x14a)]||'Error\x20processing\x20your\x20request.\x20Please\x20try\x20again.',i[ai(0x19f)][ai(0x175)]=ai(0x17c)),j[ai(0x196)]=![];}});p&&p['addEventListener'](a0(0x182),async()=>{const ak=a0,M=o?o['value']['trim']():'';if(!M){q&&(q[ak(0x19e)]=ak(0x1a6),q['style'][ak(0x175)]='#ff6b6b');return;}const N=auth[ak(0x177)];if(!N){q&&(q[ak(0x19e)]=ak(0x14f),q[ak(0x19f)]['color']='#ff6b6b');return;}p['disabled']=!![];q&&(q['textContent']=ak(0x17b)+w+'\x20ladder...',q[ak(0x19f)][ak(0x175)]=ak(0x164));try{await E(M,N),q&&(q['textContent']=ak(0x192)+w+'\x20ladder!',q['style']['color']='#4CAF50'),setTimeout(()=>{const al=ak;if(l)l[al(0x19f)]['display']='none';if(m)m['style'][al(0x1af)]='none';window[al(0x166)][al(0x158)]();},0x7d0);}catch(O){console['error'](ak(0x1a3),O),q&&(q[ak(0x19e)]=O[ak(0x14a)]||'Error\x20processing\x20your\x20request.\x20Please\x20try\x20again.',q['style']['color']='#ff6b6b'),p['disabled']=![];}});function G(){const am=a0;let M=document['getElementById'](am(0x151));if(!M){M=document[am(0x1a4)](am(0x17e)),M['id']=am(0x151),M[am(0x18f)]='tiny-retire-button',M['style'][am(0x1af)]=am(0x17a),M['style']['background']='#27ae60',M['textContent']=am(0x17d),M[am(0x19f)]['position']='relative',M['style']['left']=am(0x191);const N=document['getElementById']('ladder-retire-tiny-container');N&&N[am(0x188)](M);}return M;}const H=G();H&&H[a0(0x14b)]('click',async()=>{const an=a0;console['log'](an(0x178));const M=auth[an(0x177)];if(!M)return;try{const N=doc(db,'playerHiatus',M['uid']),O=await getDoc(N);if(O['exists']()){const P=O['data'](),Q=P[an(0x183)]||'D1';r&&(r['style'][an(0x1af)]=an(0x162)),s&&(s['textContent']=Q),v&&(v[an(0x19e)]='',v['style'][an(0x175)]=''),t&&(t[an(0x1a8)]='');}}catch(R){console['error'](an(0x16a),R);}});u&&u['addEventListener']('click',async()=>{const ao=a0,M=t?t[ao(0x1a8)][ao(0x1ab)]():'';if(!M){v&&(v['textContent']=ao(0x1a6),v[ao(0x19f)][ao(0x175)]=ao(0x17c));return;}const N=auth[ao(0x177)];if(!N){v&&(v['textContent']=ao(0x1ad),v['style'][ao(0x175)]='#ff6b6b');return;}u[ao(0x196)]=!![];v&&(v['textContent']=ao(0x15b),v['style']['color']=ao(0x164));try{const O=await F(M,N);v&&(v['textContent']='Successfully\x20returned\x20to\x20'+O['ladder']+'\x20ladder!',v['style'][ao(0x175)]='#4CAF50'),setTimeout(()=>{const ap=ao;if(H)H['style'][ap(0x1af)]='none';if(r)r['style']['display']=ap(0x17a);window[ap(0x166)][ap(0x158)]();},0x7d0);}catch(P){console[ao(0x157)]('Error\x20during\x20return\x20from\x20hiatus:',P),v&&(v[ao(0x19e)]=P[ao(0x14a)]||ao(0x1ae),v['style']['color']=ao(0x17c)),u[ao(0x196)]=![];}});const I=document['querySelector']('#ladder-retire-prompt\x20.close-button');I&&I['addEventListener'](a0(0x182),()=>{const aq=a0;if(b)b['style'][aq(0x1af)]='none';});const J=document[a0(0x184)]('#leave-team-prompt\x20.close-button');J&&J[a0(0x14b)](a0(0x182),()=>{const ar=a0;if(h)h[ar(0x19f)]['display']=ar(0x17a);});const K=document[a0(0x184)]('#hiatus-prompt\x20.close-button');K&&K['addEventListener']('click',()=>{const as=a0;if(m)m['style'][as(0x1af)]='none';});const L=document['querySelector']('#unhiatus-prompt\x20.close-button');L&&L['addEventListener'](a0(0x182),()=>{const at=a0;if(r)r[at(0x19f)][at(0x1af)]=at(0x17a);}),b&&b[a0(0x14b)]('click',M=>{const au=a0;M[au(0x18a)]===b&&(b['style'][au(0x1af)]='none');}),h&&h['addEventListener']('click',M=>{const av=a0;M['target']===h&&(h[av(0x19f)][av(0x1af)]='none');}),m&&m['addEventListener'](a0(0x182),M=>{const aw=a0;M[aw(0x18a)]===m&&(m[aw(0x19f)]['display']=aw(0x17a));}),r&&r['addEventListener'](a0(0x182),M=>{const ax=a0;M['target']===r&&(r['style'][ax(0x1af)]='none');}),y(),setTimeout(()=>{z();},0x3e8);});