const a20_0x5efb7f=a20_0x4b3b,a20_0x2aa085=(function(){let _0x3aab17=!![];return function(_0x2bf6e1,_0x3f41d0){const _0xf40e86=_0x3aab17?function(){const _0x58cfb2=a20_0x4b3b;if(_0x3f41d0){const _0x42af87=_0x3f41d0[_0x58cfb2(0x1f7)](_0x2bf6e1,arguments);return _0x3f41d0=null,_0x42af87;}}:function(){};return _0x3aab17=![],_0xf40e86;};}()),a20_0x184a23=a20_0x2aa085(this,function(){const _0x5df44d=a20_0x4b3b;let _0x462ffb;try{const _0x387a10=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x462ffb=_0x387a10();}catch(_0x50c64b){_0x462ffb=window;}const _0x5bef93=_0x462ffb['console']=_0x462ffb[_0x5df44d(0x1eb)]||{},_0x4126d9=['log','warn','info','error','exception','table',_0x5df44d(0x1f2)];for(let _0x3c9e0b=0x0;_0x3c9e0b<_0x4126d9[_0x5df44d(0x1f5)];_0x3c9e0b++){const _0x591f56=a20_0x2aa085['constructor']['prototype'][_0x5df44d(0x1f6)](a20_0x2aa085),_0x519304=_0x4126d9[_0x3c9e0b],_0x10d532=_0x5bef93[_0x519304]||_0x591f56;_0x591f56['__proto__']=a20_0x2aa085['bind'](a20_0x2aa085),_0x591f56[_0x5df44d(0x1e7)]=_0x10d532[_0x5df44d(0x1e7)][_0x5df44d(0x1f6)](_0x10d532),_0x5bef93[_0x519304]=_0x591f56;}});a20_0x184a23();import{collection as a20_0x21278c,doc as a20_0x442ab6,getDoc as a20_0x50925f,getDocs as a20_0x433648,query as a20_0x497733,where as a20_0x32f84f,orderBy as a20_0x107c32,limit as a20_0x4ce9a5,startAfter as a20_0x2d422e,addDoc as a20_0xfd411e,updateDoc as a20_0x5cbd83,deleteDoc as a20_0x3fa3b6,writeBatch as a20_0x55c29e,serverTimestamp as a20_0x2475d0,Timestamp as a20_0x4d6b9a,getCountFromServer as a20_0x2e8997,setDoc as a20_0x453a77,enableNetwork,disableNetwork}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';function a20_0x4b3b(_0x7d8e7,_0x27cc11){const _0x184a23=a20_0x4009();return a20_0x4b3b=function(_0x2aa085,_0x96964e){_0x2aa085=_0x2aa085-0x1e5;let _0x4009fd=_0x184a23[_0x2aa085];return _0x4009fd;},a20_0x4b3b(_0x7d8e7,_0x27cc11);}import{db}from'./firebase-config.js';function a20_0x4009(){const _0x53e6aa=['code','Firestore\x20operation\x20failed:','toString','error','Failed\x20to\x20enable\x20network:','log','console','addEventListener','session-suspended','warn','message','unavailable','network-error','trace','preventDefault','network','length','bind','apply','Caught\x20session\x20suspended\x20error:','Firestore\x20operation\x20blocked\x20-\x20network\x20error'];a20_0x4009=function(){return _0x53e6aa;};return a20_0x4009();}import{handleNetworkError}from'./idle-timeout.js';function checkSessionStatus(){const _0x239f88=a20_0x4b3b;if(window['RDL_SESSION_SUSPENDED']){console[_0x239f88(0x1ee)]('Firestore\x20operation\x20blocked\x20-\x20session\x20suspended');const _0x222ad9=new Error('Session\x20suspended\x20due\x20to\x20inactivity.\x20Please\x20resume\x20your\x20session.');_0x222ad9[_0x239f88(0x1e5)]=_0x239f88(0x1ed);throw _0x222ad9;}if(window['RDL_NETWORK_ERROR']){console['warn'](_0x239f88(0x1f9));const _0x5a4828=new Error('Network\x20connection\x20error.\x20Please\x20check\x20your\x20internet\x20connection.');_0x5a4828['code']='network-error';throw _0x5a4828;}}async function handleFirestoreError(_0x267049){const _0x324b81=a20_0x4b3b;console[_0x324b81(0x1e8)](_0x324b81(0x1e6),_0x267049);if(_0x267049&&(_0x267049['code']===_0x324b81(0x1f0)||_0x267049[_0x324b81(0x1e5)]==='resource-exhausted'||_0x267049['message']&&_0x267049[_0x324b81(0x1ef)]['includes'](_0x324b81(0x1f4))||_0x267049['code']&&_0x267049['code']['includes'](_0x324b81(0x1f4))))return console[_0x324b81(0x1ee)]('Network-related\x20error\x20detected,\x20suspending\x20operations'),handleNetworkError(),!![];return![];}export const rdlFirestore={'collection':function(){const _0x168d24=a20_0x4b3b;if(arguments['length']===0x1){if(typeof arguments[0x0]==='string')return a20_0x21278c(db,arguments[0x0]);return arguments[0x0];}else{if(arguments[_0x168d24(0x1f5)]===0x2&&arguments[0x0]===db&&typeof arguments[0x1]==='string')return a20_0x21278c(db,arguments[0x1]);}return a20_0x21278c['apply'](null,arguments);},'doc':function(){const _0xcbc77a=a20_0x4b3b;if(arguments[_0xcbc77a(0x1f5)]===0x2){if(typeof arguments[0x0]==='string'&&typeof arguments[0x1]==='string')return a20_0x442ab6(db,arguments[0x0],arguments[0x1]);return a20_0x442ab6[_0xcbc77a(0x1f7)](null,arguments);}else{if(arguments['length']===0x3&&arguments[0x0]===db)return a20_0x442ab6['apply'](null,arguments);}return a20_0x442ab6['apply'](null,arguments);},'query':function(){return a20_0x497733['apply'](null,arguments);},'where':function(){return a20_0x32f84f['apply'](null,arguments);},'orderBy':function(){return a20_0x107c32['apply'](null,arguments);},'limit':function(_0x3412d3){return a20_0x4ce9a5(_0x3412d3);},'startAfter':function(_0x363f45){return a20_0x2d422e(_0x363f45);},'getDoc':async function(_0xe430ac){try{return checkSessionStatus(),await a20_0x50925f(_0xe430ac);}catch(_0x5d6ae5){const _0x8ae0f=await handleFirestoreError(_0x5d6ae5);_0x8ae0f&&(_0x5d6ae5['code']='network-error');throw _0x5d6ae5;}},'getDocs':async function(_0x300d55){try{return checkSessionStatus(),await a20_0x433648(_0x300d55);}catch(_0x4b2241){const _0x16c4ee=await handleFirestoreError(_0x4b2241);_0x16c4ee&&(_0x4b2241['code']='network-error');throw _0x4b2241;}},'getCountFromServer':async function(_0x13b1b7){const _0x35f8d1=a20_0x4b3b;try{return checkSessionStatus(),await a20_0x2e8997(_0x13b1b7);}catch(_0x3eb819){const _0x3499c5=await handleFirestoreError(_0x3eb819);_0x3499c5&&(_0x3eb819['code']=_0x35f8d1(0x1f1));throw _0x3eb819;}},'addDoc':async function(_0x19f0a4,_0x5c26ab){try{return checkSessionStatus(),await a20_0xfd411e(_0x19f0a4,_0x5c26ab);}catch(_0x20a91a){const _0x1910b0=await handleFirestoreError(_0x20a91a);_0x1910b0&&(_0x20a91a['code']='network-error');throw _0x20a91a;}},'setDoc':async function(_0x385161,_0x5e4298,_0x55661b){try{return checkSessionStatus(),await a20_0x453a77(_0x385161,_0x5e4298,_0x55661b);}catch(_0x2f802d){const _0xa40a46=await handleFirestoreError(_0x2f802d);_0xa40a46&&(_0x2f802d['code']='network-error');throw _0x2f802d;}},'updateDoc':async function(_0x3061cd,_0x101e04){try{return checkSessionStatus(),await a20_0x5cbd83(_0x3061cd,_0x101e04);}catch(_0x5bb20a){const _0x388ae4=await handleFirestoreError(_0x5bb20a);_0x388ae4&&(_0x5bb20a['code']='network-error');throw _0x5bb20a;}},'deleteDoc':async function(_0x11e824){const _0x5e2dbf=a20_0x4b3b;try{return checkSessionStatus(),await a20_0x3fa3b6(_0x11e824);}catch(_0x450222){const _0x25c025=await handleFirestoreError(_0x450222);_0x25c025&&(_0x450222['code']=_0x5e2dbf(0x1f1));throw _0x450222;}},'writeBatch':function(){checkSessionStatus();const _0x19596b=a20_0x55c29e(db),_0x1d5540=_0x19596b['commit']['bind'](_0x19596b);return _0x19596b['commit']=async function(){const _0x2f188b=a20_0x4b3b;try{return checkSessionStatus(),await _0x1d5540();}catch(_0x5ce3ae){const _0x30a3b5=await handleFirestoreError(_0x5ce3ae);_0x30a3b5&&(_0x5ce3ae['code']=_0x2f188b(0x1f1));throw _0x5ce3ae;}},_0x19596b;},'serverTimestamp':function(){return a20_0x2475d0();},'Timestamp':{'now':function(){return a20_0x4d6b9a['now']();},'fromDate':function(_0x18d892){return a20_0x4d6b9a['fromDate'](_0x18d892);}},'enableNetwork':async function(){const _0x112975=a20_0x4b3b;try{return await enableNetwork(db);}catch(_0x2db001){console['error'](_0x112975(0x1e9),_0x2db001);throw _0x2db001;}},'disableNetwork':async function(){try{return await disableNetwork(db);}catch(_0x26b312){console['error']('Failed\x20to\x20disable\x20network:',_0x26b312);throw _0x26b312;}}};window[a20_0x5efb7f(0x1ec)](a20_0x5efb7f(0x1e8),function(_0x4cc714){const _0x1636ee=a20_0x5efb7f;if(_0x4cc714['error']){if(_0x4cc714[_0x1636ee(0x1e8)][_0x1636ee(0x1e5)]===_0x1636ee(0x1ed))_0x4cc714[_0x1636ee(0x1f3)](),console[_0x1636ee(0x1ea)](_0x1636ee(0x1f8),_0x4cc714[_0x1636ee(0x1e8)]['message']);else(_0x4cc714[_0x1636ee(0x1e8)]['code']==='unavailable'||_0x4cc714['error'][_0x1636ee(0x1e5)]==='resource-exhausted'||_0x4cc714['error']['message']&&_0x4cc714['error']['message']['includes'](_0x1636ee(0x1f4))||_0x4cc714['error']['code']&&_0x4cc714[_0x1636ee(0x1e8)]['code']['includes'](_0x1636ee(0x1f4)))&&(_0x4cc714['preventDefault'](),console['log']('Caught\x20network\x20error:',_0x4cc714['error']['message']),handleNetworkError());}}),window['rdlFirestore']=rdlFirestore,console['log']('Firestore\x20wrapper\x20initialized\x20with\x20session\x20checking\x20and\x20network\x20error\x20handling');