const a48_0x3e416c=a48_0x3551,a48_0x4bd569=(function(){let _0x16edc5=!![];return function(_0x2a784e,_0x326ce3){const _0x44b88b=_0x16edc5?function(){if(_0x326ce3){const _0x2c654a=_0x326ce3['apply'](_0x2a784e,arguments);return _0x326ce3=null,_0x2c654a;}}:function(){};return _0x16edc5=![],_0x44b88b;};}()),a48_0x424e29=a48_0x4bd569(this,function(){const _0x3e595b=a48_0x3551,_0xb0d9aa=function(){let _0xfdbac0;try{_0xfdbac0=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x441317){_0xfdbac0=window;}return _0xfdbac0;},_0x41c337=_0xb0d9aa(),_0x52e98a=_0x41c337[_0x3e595b(0x10f)]=_0x41c337[_0x3e595b(0x10f)]||{},_0x1a0afc=[_0x3e595b(0x10a),_0x3e595b(0xf8),_0x3e595b(0x11c),'error','exception','table','trace'];for(let _0x418b4f=0x0;_0x418b4f<_0x1a0afc['length'];_0x418b4f++){const _0x404e21=a48_0x4bd569['constructor'][_0x3e595b(0xdd)]['bind'](a48_0x4bd569),_0x9120a3=_0x1a0afc[_0x418b4f],_0xefe1d2=_0x52e98a[_0x9120a3]||_0x404e21;_0x404e21['__proto__']=a48_0x4bd569['bind'](a48_0x4bd569),_0x404e21[_0x3e595b(0x124)]=_0xefe1d2['toString']['bind'](_0xefe1d2),_0x52e98a[_0x9120a3]=_0x404e21;}});a48_0x424e29();import{auth,db}from'./firebase-config.js';import{doc,getDoc,setDoc,collection,query,where,getDocs,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';function a48_0x4f88(){const _0x2964dd=['#FF6B6B','../images/ribbons/Explorer.png','playersD3','loserUsername','):\x20','get','Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Gold\x20rank','key','\x20underdog\x20victories\x20for\x20','pendingEvaluations','Bronze','subgameType','evaluateBrickWallRibbonFromWinRate','Unranked','prototype','Underdog\x20Ribbon','level','CACHE_KEY_PREFIX','checkTopRankStatus','mapPlayed','push','join','level-4','winnerUsername','‚ùå\x20No\x20ELO\x20rating\x20data\x20for\x20','getPlayerDataCached','length','Explorer\x20Ribbon','üöÄ\x20Bulk\x20loading\x20','map','loserRating','forEach','toLocaleTimeString','size','evaluateSocialiteRibbonFromCount','playersD2','rating','shouldRefreshCache','CACHE_DURATION',')\x20beat\x20','approvedMatchesD2','warn','‚ö†Ô∏è\x20Brick\x20Wall\x20ribbon\x20requires\x2050+\x20matches\x20(player\x20has\x20','BATCH_DELAY','parse','set','username','getPlayerRibbonsCached','\x20Pilot','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rematchWins','evaluateSubGamerRibbonFromCount','Played\x20at\x20least\x2020\x20unique\x20maps','uniqueMaps','evaluateAllRibbonsFromData','min','Overachiever\x20Ribbon','eloRating','\x20ELO\x20(','log','setItem','floor','setCachedData','playerRibbons','console','Error\x20getting\x20player\x20data\x20for\x20','now','\x20in\x20',';\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setCachedMatches','#55A3FF','matchCache','undefined','Beat\x20a\x20pilot\x20ranked\x20higher\x20than\x20you','../images/ribbons/Subgamer.png','keys','savePlayerRibbonsOptimized','info','../images/ribbons/toprank.png','cleanup','Sub-Gamer\x20Ribbon','autoCleanup','\x20ELO),\x20','getCacheKey','‚ö†Ô∏è\x20Missing\x20player\x20data\x20for\x20','toString','../images/ribbons/Rematch.png','dominatedRanks','ribbons','position','all','findIndex','substring','timestamp','uniqueOpponents','entries','color','underdogWins','data','Amass\x20at\x20least\x2080%\x20overall\x20win\x20rate\x20percentage\x20(minimum\x2050\x20matches)','lastCleanup','\x20new/updated\x20ribbons\x20for\x20','‚úÖ\x20Found\x20player\x20data\x20for\x20','\x20-\x20Level\x20','Top\x20','#6C5CE7','evaluateRematchRibbonFromCount','Standard','Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Bronze\x20rank','startsWith','#8E44AD','matchCount','%\x20win\x20rate\x20over\x20','Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Emerald\x20rank','\x20earned\x20','getRibbonCacheStats','evaluateExplorerRibbonFromCount','winnerRating','totalMatches','\x20‚Üí\x20','#CD7F32',')\x20-\x20new\x20match\x20detected','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22military-ribbon\x22\x20data-tooltip=\x22','\x20or\x20','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22','getItem','üéØ\x20Cache\x20hit\x20(matches)\x20for\x20','levels','\x20(Dominated:\x20','../images/ribbons/Overachiever.png','memoryCache','removeItem','replace','Brick\x20Wall','add','delete','\x20Tier:\x20'];a48_0x4f88=function(){return _0x2964dd;};return a48_0x4f88();}const RIBBON_DEFINITIONS={'Rematch\x20Ribbon':{'description':'Beat\x20a\x20pilot\x20with\x20the\x20\x22Rematch\x22\x20subgame\x20selected','image':a48_0x3e416c(0x125),'color':a48_0x3e416c(0xcf)},'Overachiever\x20Ribbon':{'description':'Played\x20over\x20100\x20matches','image':a48_0x3e416c(0x150),'color':'#96CEB4','levels':[0x64,0xc8,0x12c,0x190,0x1f4,0x258,0x2bc,0x320,0x384,0x3e8]},'Brick\x20Wall':{'description':a48_0x3e416c(0x132),'image':'../images/ribbons/BrickWall.png','color':'#F0932B','levels':[0x50,0x55,0x5a,0x5f,0x64]},'Collector\x20Ribbon':{'description':'Hold\x20more\x20than\x205\x20ribbons\x20at\x20a\x20time','image':'../images/ribbons/Collector.png','color':a48_0x3e416c(0x138),'levels':[0x5,0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32]},'Sub-Gamer\x20Ribbon':{'description':'Play\x20over\x2050\x20subgame\x20matches','image':a48_0x3e416c(0x119),'color':'#A29BFE','levels':[0x32,0x64,0x96,0xc8,0xfa,0x12c,0x15e,0x190,0x1c2,0x1f4]},'Explorer\x20Ribbon':{'description':a48_0x3e416c(0x103),'image':a48_0x3e416c(0xd0),'color':a48_0x3e416c(0x115),'levels':[0x14,0x28,0x3c,0x50,0x64,0x78,0x8c,0xa0,0xb4,0xc8]},'Socialite\x20Ribbon':{'description':'Played\x20at\x20least\x2010\x20unique\x20pilots','image':'../images/ribbons/Socialite.png','color':'#FF7675','levels':[0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32,0x37]},'Underdog\x20Ribbon':{'description':a48_0x3e416c(0x118),'image':'../images/ribbons/Underdog.png','color':'#FF9500','levels':[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0x9,0xa]},'Domination\x20Ribbon':{'description':'Beat\x205\x20unique\x20pilots\x20in\x20a\x20rank\x20(including\x20your\x20own)','image':'../images/ribbons/Domination.png','color':a48_0x3e416c(0x13d),'levels':[0x1,0x2,0x3,0x4,0x5]},'Top\x20Bronze\x20Pilot':{'description':a48_0x3e416c(0x13b),'image':a48_0x3e416c(0x11d),'color':a48_0x3e416c(0x147)},'Top\x20Silver\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Silver\x20rank','image':'../images/ribbons/toprank.png','color':'#C0C0C0'},'Top\x20Gold\x20Pilot':{'description':a48_0x3e416c(0xd5),'image':'../images/ribbons/toprank.png','color':'#FFD700'},'Top\x20Emerald\x20Pilot':{'description':a48_0x3e416c(0x140),'image':'../images/ribbons/toprank.png','color':'#50C878'}};export const RIBBON_CSS='\x0a/*\x20Stats\x20integration\x20styles\x20*/\x0a.ribbon-section\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-top:\x201rem;\x0a}\x0a\x0a.ribbon-stat-item.full-width\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-bottom:\x200;\x0a}\x0a\x0a/*\x20Military\x20Ribbon\x20Rack\x20Styling\x20-\x20NO\x20OUTER\x20CONTAINER\x20*/\x0a.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20padding:\x200;\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20box-shadow:\x20none;\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20align-items:\x20flex-start;\x0a}\x0a\x0a.ribbon-rack-empty-inline\x20{\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20padding:\x2060px\x2040px;\x0a\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20border-radius:\x2012px;\x0a\x20\x20\x20\x20border:\x202px\x20solid\x20rgba(255,\x20255,\x20255,\x200.1);\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a}\x0a\x0a.empty-rack-text\x20{\x0a\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20font-style:\x20italic;\x0a\x20\x20\x20\x20font-size:\x201.2rem;\x0a}\x0a\x0a/*\x20Ribbon\x20Rows\x20*/\x0a.ribbon-row\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x206px;\x0a\x20\x20\x20\x20margin-bottom:\x206px;\x0a\x20\x20\x20\x20justify-content:\x20flex-start;\x0a}\x0a\x0a.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20margin-left:\x2060px;\x0a}\x0a\x0a/*\x20Individual\x20Military\x20Ribbon\x20Styling\x20-\x20FIXED\x20OVERFLOW\x20FOR\x20LEVEL\x20INDICATOR\x20*/\x0a.military-ribbon\x20{\x0a\x20\x20\x20\x20position:\x20relative;\x0a\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20transition:\x20transform\x200.3s\x20ease;\x0a\x20\x20\x20\x20flex-shrink:\x200;\x0a\x20\x20\x20\x20width:\x20190px;\x0a\x20\x20\x20\x20height:\x2060px;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#333;\x0a\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20overflow:\x20visible;\x20/*\x20Changed\x20from\x20hidden\x20to\x20visible\x20*/\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20margin:\x2012px\x2012px\x2012px\x200;\x20/*\x20Added\x20margin\x20to\x20prevent\x20clipping\x20*/\x0a}\x0a\x0a.military-ribbon:hover\x20{\x0a\x20\x20\x20\x20transform:\x20translateY(-4px);\x0a\x20\x20\x20\x20z-index:\x2010;\x0a}\x0a\x0a/*\x20Ribbon\x20image\x20container\x20to\x20handle\x20the\x20actual\x20overflow\x20*/\x0a.ribbon-image-container\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20border-radius:\x201px;\x0a}\x0a\x0a.ribbon-image\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20object-fit:\x20cover;\x0a\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20image-rendering:\x20crisp-edges;\x0a}\x0a\x0a.ribbon-fallback\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20text-shadow:\x200\x202px\x204px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a}\x0a\x0a.ribbon-name\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.9);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201.2;\x0a\x20\x20\x20\x20margin-top:\x206px;\x0a\x20\x20\x20\x20max-width:\x20120px;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20text-overflow:\x20ellipsis;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20-24px;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20font-weight:\x20500;\x0a}\x0a\x0a.military-ribbon:hover\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20display:\x20block;\x0a}\x0a\x0a.ribbon-devices\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x2050%;\x0a\x20\x20\x20\x20right:\x206px;\x0a\x20\x20\x20\x20transform:\x20translateY(-50%);\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x203px;\x0a\x20\x20\x20\x20z-index:\x205;\x0a}\x0a\x0a.ribbon-device\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20text-shadow:\x200\x200\x204px\x20rgba(0,0,0,0.9);\x0a\x20\x20\x20\x20filter:\x20drop-shadow(0\x202px\x204px\x20rgba(0,0,0,0.8));\x0a}\x0a\x0a.bronze-star\x20{\x0a\x20\x20\x20\x20color:\x20#CD7F32;\x0a}\x0a\x0a.silver-star\x20{\x0a\x20\x20\x20\x20color:\x20#C0C0C0;\x0a}\x0a\x0a.gold-star\x20{\x0a\x20\x20\x20\x20color:\x20#FFD700;\x0a}\x0a\x0a/*\x20Level\x20indicator\x20-\x20NOW\x20FULLY\x20VISIBLE\x20*/\x0a.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x20-8px;\x0a\x20\x20\x20\x20right:\x20-8px;\x0a\x20\x20\x20\x20background:\x20#FFD700;\x0a\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20width:\x2024px;\x0a\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#FFF;\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x208px\x20rgba(0,0,0,0.7);\x0a\x20\x20\x20\x20z-index:\x206;\x0a}\x0a\x0a/*\x20Custom\x20tooltip\x20-\x20only\x20this\x20one\x20will\x20show\x20*/\x0a.military-ribbon::before\x20{\x0a\x20\x20\x20\x20content:\x20attr(data-tooltip);\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20100%;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20background:\x20rgba(0,0,0,0.95);\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20padding:\x208px\x2012px;\x0a\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20pointer-events:\x20none;\x0a\x20\x20\x20\x20transition:\x20opacity\x200.3s;\x0a\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20margin-bottom:\x208px;\x0a\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(255,\x20255,\x20255,\x200.2);\x0a}\x0a\x0a.military-ribbon:hover::before\x20{\x0a\x20\x20\x20\x20opacity:\x201;\x0a}\x0a\x0a/*\x20Responsive\x20adjustments\x20*/\x0a@media\x20(max-width:\x201024px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2034px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x208px\x208px\x208px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-6px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-6px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2052px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-20px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20768px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2028px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x206px\x206px\x206px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x209px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-5px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-5px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2042px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2011px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-18px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x205px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20480px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2070px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x205px\x205px\x205px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2036px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x204px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-4px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-4px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a.stats-grid\x20.ribbon-section\x20{\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20padding:\x200;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20{\x0a\x20\x20\x20\x20background-color:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20padding:\x2025px;\x0a\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20.stat-label\x20{\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20text-transform:\x20uppercase;\x0a\x20\x20\x20\x20opacity:\x200.9;\x0a\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.95);\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a}\x0a\x0a.ribbon-level-indicator.level-1\x20{\x20background:\x20#808080;\x20}\x0a.ribbon-level-indicator.level-2\x20{\x20background:\x20#CD7F32;\x20}\x0a.ribbon-level-indicator.level-3\x20{\x20background:\x20#b9f1fc;\x20}\x0a.ribbon-level-indicator.level-4\x20{\x20background:\x20#FFD700;\x20}\x0a.ribbon-level-indicator.level-5-plus\x20{\x20background:\x20#50C878;\x20}\x0a';function a48_0x3551(_0x5702ac,_0x820990){const _0x424e29=a48_0x4f88();return a48_0x3551=function(_0x4bd569,_0x5d0005){_0x4bd569=_0x4bd569-0xcf;let _0x4f8883=_0x424e29[_0x4bd569];return _0x4f8883;},a48_0x3551(_0x5702ac,_0x820990);}class RibbonCacheManager{constructor(){const _0x4288f2=a48_0x3e416c;this[_0x4288f2(0x151)]=new Map(),this['CACHE_DURATION']=0x3c*0x3c*0x3e8,this[_0x4288f2(0xe0)]='ribbon_cache_',this['lastCleanup']=Date[_0x4288f2(0x111)](),this['CLEANUP_INTERVAL']=0x1e*0x3c*0x3e8;}['getCacheKey'](_0x58d659,_0x396601){const _0xc6d167=a48_0x3e416c;return''+this[_0xc6d167(0xe0)]+_0x58d659+'_'+_0x396601;}['getCachedData'](_0xd3f45,_0x55c723){const _0x54bd81=a48_0x3e416c;this['autoCleanup']();const _0x6af45e=this['getCacheKey'](_0xd3f45,_0x55c723);if(this['memoryCache']['has'](_0x6af45e)){const _0x28acbf=this['memoryCache']['get'](_0x6af45e);if(Date['now']()-_0x28acbf[_0x54bd81(0x12c)]<this[_0x54bd81(0xf5)])return console['log']('üöÄ\x20Cache\x20hit\x20(memory)\x20for\x20'+_0xd3f45),_0x28acbf['data'];this['memoryCache']['delete'](_0x6af45e);}const _0x47fb1c=localStorage[_0x54bd81(0x14c)](_0x6af45e);if(_0x47fb1c)try{const _0x507e77=JSON['parse'](_0x47fb1c);if(Date['now']()-_0x507e77[_0x54bd81(0x12c)]<this['CACHE_DURATION'])return this[_0x54bd81(0x151)]['set'](_0x6af45e,{'data':_0x507e77['ribbons'],'timestamp':_0x507e77['timestamp'],'matchCount':_0x507e77['matchCount']}),console['log']('üíæ\x20Cache\x20hit\x20(localStorage)\x20for\x20'+_0xd3f45),_0x507e77['ribbons'];localStorage['removeItem'](_0x6af45e);}catch(_0x3a8746){localStorage['removeItem'](_0x6af45e);}return null;}['setCachedData'](_0x2eea95,_0x399cd9,_0x2631be,_0x544f62){const _0x5e524f=a48_0x3e416c,_0x8f597b=this['getCacheKey'](_0x2eea95,_0x399cd9),_0x25bd55=Date['now']();this['memoryCache']['set'](_0x8f597b,{'data':_0x2631be,'timestamp':_0x25bd55,'matchCount':_0x544f62});try{const _0x3a9c4d={'ribbons':_0x2631be,'matchCount':_0x544f62,'timestamp':_0x25bd55,'version':0x3};localStorage[_0x5e524f(0x10b)](_0x8f597b,JSON['stringify'](_0x3a9c4d));}catch(_0x4e8fb7){this['clearOldCache']();try{localStorage['setItem'](_0x8f597b,JSON['stringify'](data));}catch(_0x1ed9c1){}}}['shouldRefreshCache'](_0x33d5d8,_0x362802,_0x57b282){const _0x56da1c=a48_0x3e416c,_0x4f09d2=this[_0x56da1c(0x122)](_0x33d5d8,_0x362802);if(this[_0x56da1c(0x151)]['has'](_0x4f09d2)){const _0xb4a42=this['memoryCache']['get'](_0x4f09d2);return _0xb4a42[_0x56da1c(0x13e)]!==_0x57b282;}const _0xcf84dc=localStorage['getItem'](_0x4f09d2);if(_0xcf84dc)try{const _0x42abf9=JSON[_0x56da1c(0xfb)](_0xcf84dc);return _0x42abf9[_0x56da1c(0x13e)]!==_0x57b282;}catch(_0x2992a8){return!![];}return!![];}['invalidatePlayerCache'](_0x43de14,_0x4d300a){const _0x54d049=a48_0x3e416c,_0x16af46=this[_0x54d049(0x122)](_0x43de14,_0x4d300a);this[_0x54d049(0x151)]['delete'](_0x16af46),localStorage['removeItem'](_0x16af46),console['log']('üóëÔ∏è\x20Invalidated\x20cache\x20for\x20'+_0x43de14+'\x20('+_0x4d300a+_0x54d049(0x148));}['autoCleanup'](){const _0x4c2963=a48_0x3e416c,_0x427362=Date['now']();_0x427362-this[_0x4c2963(0x133)]>this['CLEANUP_INTERVAL']&&(this[_0x4c2963(0x11e)](),this['lastCleanup']=_0x427362);}['cleanup'](){const _0x3a9201=a48_0x3e416c,_0x295786=Date['now']();let _0x49023c=0x0,_0x4c7d4c=0x0;for(const [_0x1f8c13,_0x4ce1a8]of this['memoryCache']['entries']()){_0x295786-_0x4ce1a8['timestamp']>this['CACHE_DURATION']&&(this[_0x3a9201(0x151)][_0x3a9201(0x156)](_0x1f8c13),_0x49023c++);}for(let _0x58acb7=localStorage['length']-0x1;_0x58acb7>=0x0;_0x58acb7--){const _0x28e038=localStorage[_0x3a9201(0xd6)](_0x58acb7);if(_0x28e038&&_0x28e038[_0x3a9201(0x13c)](this['CACHE_KEY_PREFIX']))try{const _0x566a75=JSON[_0x3a9201(0xfb)](localStorage[_0x3a9201(0x14c)](_0x28e038));_0x295786-_0x566a75[_0x3a9201(0x12c)]>this[_0x3a9201(0xf5)]&&(localStorage['removeItem'](_0x28e038),_0x4c7d4c++);}catch(_0x4a6c82){localStorage[_0x3a9201(0x152)](_0x28e038),_0x4c7d4c++;}}}['clearOldCache'](){const _0x394849=a48_0x3e416c,_0x274654=[];for(let _0x5cdb7f=0x0;_0x5cdb7f<localStorage['length'];_0x5cdb7f++){const _0x1d18ff=localStorage[_0x394849(0xd6)](_0x5cdb7f);if(_0x1d18ff&&_0x1d18ff[_0x394849(0x13c)](this['CACHE_KEY_PREFIX']))try{const _0x2c65e8=JSON['parse'](localStorage['getItem'](_0x1d18ff));_0x274654['push']({'key':_0x1d18ff,'timestamp':_0x2c65e8['timestamp']});}catch(_0x4dd38c){localStorage['removeItem'](_0x1d18ff);}}_0x274654['sort']((_0x3c835d,_0x3e2d15)=>_0x3c835d['timestamp']-_0x3e2d15['timestamp']);const _0x4fcec8=Math[_0x394849(0x10c)](_0x274654['length']/0x2);for(let _0x5f59ab=0x0;_0x5f59ab<_0x4fcec8;_0x5f59ab++){localStorage['removeItem'](_0x274654[_0x5f59ab]['key']);}}['getCacheStats'](){const _0x42cd71=a48_0x3e416c;return{'memoryEntries':this['memoryCache']['size'],'lastCleanup':new Date(this['lastCleanup'])[_0x42cd71(0xef)]()};}}class MatchCacheManager{constructor(){const _0x16a423=a48_0x3e416c;this[_0x16a423(0x116)]=new Map(),this['CACHE_DURATION']=0xf*0x3c*0x3e8,this[_0x16a423(0x133)]=Date[_0x16a423(0x111)]();}['getCachedMatches'](_0x11744b,_0x504d14){const _0x3dde47=a48_0x3e416c;this['autoCleanup']();const _0x5f1d2a=_0x11744b+'_'+_0x504d14,_0x3aacd9=this['matchCache']['get'](_0x5f1d2a);if(_0x3aacd9&&Date['now']()-_0x3aacd9['timestamp']<this['CACHE_DURATION'])return console['log'](_0x3dde47(0x14d)+_0x11744b),_0x3aacd9['matches'];return _0x3aacd9&&this[_0x3dde47(0x116)][_0x3dde47(0x156)](_0x5f1d2a),null;}['setCachedMatches'](_0x291b40,_0xdf8186,_0xdb603){const _0x30f998=a48_0x3e416c,_0x2840d2=_0x291b40+'_'+_0xdf8186;this['matchCache'][_0x30f998(0xfc)](_0x2840d2,{'matches':_0xdb603,'timestamp':Date['now']()});}[a48_0x3e416c(0x120)](){const _0x8ca253=a48_0x3e416c,_0x41cac2=Date['now']();if(_0x41cac2-this['lastCleanup']>0x5*0x3c*0x3e8){let _0x2a3bc4=0x0;for(const [_0x47622a,_0x5d240a]of this['matchCache'][_0x8ca253(0x12e)]()){_0x41cac2-_0x5d240a['timestamp']>this[_0x8ca253(0xf5)]&&(this[_0x8ca253(0x116)]['delete'](_0x47622a),_0x2a3bc4++);}this['lastCleanup']=_0x41cac2;}}['getCacheStats'](){const _0x141055=a48_0x3e416c;return{'entries':this[_0x141055(0x116)][_0x141055(0xf0)],'lastCleanup':new Date(this[_0x141055(0x133)])[_0x141055(0xef)]()};}}class RibbonSystem{constructor(){const _0x9bf17=a48_0x3e416c;this[_0x9bf17(0xd8)]=new Map(),this['batchTimer']=null,this[_0x9bf17(0xfa)]=0x32,this['playerDataCache']=new Map();}async['bulkLoadPlayerData'](_0x532c46,_0x574f1a){const _0x3d73c7=a48_0x3e416c,_0x5f5819=_0x574f1a==='D1'?'players':_0x574f1a==='D2'?'playersD2':_0x3d73c7(0xd1),_0x162689=collection(db,_0x5f5819),_0x12b594=await getDocs(_0x162689),_0x17f468=new Map();return _0x12b594[_0x3d73c7(0xee)](_0x5a52df=>{const _0x3db5d0=_0x3d73c7,_0x493cfe=_0x5a52df['data']();_0x493cfe['username']&&(_0x493cfe[_0x3db5d0(0x108)]!==undefined&&(_0x493cfe['rating']=_0x493cfe[_0x3db5d0(0x108)]),_0x17f468['set'](_0x493cfe['username'],_0x493cfe));}),console['log']('üìä\x20Bulk\x20loaded\x20'+_0x17f468[_0x3d73c7(0xf0)]+'\x20players\x20from\x20'+_0x5f5819),_0x17f468;}async[a48_0x3e416c(0x105)](_0x8694d,_0x15ca1c,_0x4472f1,_0x330151){const _0x350ab6=a48_0x3e416c,_0x4cfaea={},_0x11f059=_0x15ca1c['username'],_0x158673={'totalMatches':_0x8694d['length'],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0,'dominatedRanks':new Set()},_0x43a917=new Set();_0x8694d['forEach'](_0x36583a=>{const _0x1253d3=a48_0x3551,_0x43e73c=_0x36583a[_0x1253d3(0xe6)]===_0x11f059,_0x19b928=_0x43e73c?_0x36583a['loserUsername']:_0x36583a['winnerUsername'];if(_0x19b928)_0x43a917['add'](_0x19b928);}),console['log'](_0x350ab6(0xeb)+_0x43a917['size']+'\x20player\x20records\x20for\x20underdog\x20calculations...');const _0x1d0f4d=await this['bulkLoadPlayerData']([..._0x43a917,_0x11f059],_0x330151),_0x544ad6=_0x1d0f4d[_0x350ab6(0xd4)](_0x11f059);!_0x544ad6&&console['log']('‚ö†Ô∏è\x20No\x20current\x20player\x20data\x20found\x20for\x20'+_0x11f059);const _0x3814d2={0x0:new Set(),0x1:new Set(),0x2:new Set(),0x3:new Set(),0x4:new Set()};_0x8694d['forEach'](_0x360f60=>{const _0x2f89fb=_0x350ab6,_0x3a16e9=_0x360f60['winnerUsername']===_0x11f059,_0x45caec=_0x3a16e9?_0x360f60['loserUsername']:_0x360f60[_0x2f89fb(0xe6)];if(_0x3a16e9){_0x158673['wins']++;_0x360f60[_0x2f89fb(0xda)]==='Rematch'&&_0x158673[_0x2f89fb(0x101)]++;this['isUnderdogVictoryFast'](_0x360f60,_0x11f059,_0x544ad6,_0x1d0f4d)&&_0x158673['underdogWins']++;const _0x4eff10=_0x1d0f4d['get'](_0x45caec);if(_0x4eff10){const _0x388a80=_0x4eff10['eloRating']||0x0,_0x2ed16b=getPlayerRankTier(_0x388a80);_0x3814d2[_0x2ed16b]['add'](_0x45caec);}}_0x360f60[_0x2f89fb(0xda)]&&_0x360f60[_0x2f89fb(0xda)]!==_0x2f89fb(0x13a)&&_0x158673['subgameMatches']++,_0x360f60[_0x2f89fb(0xe2)]&&_0x158673['uniqueMaps']['add'](_0x360f60['mapPlayed']),_0x45caec&&_0x158673['uniqueOpponents']['add'](_0x45caec);}),Object['keys'](_0x3814d2)['forEach'](_0x1f58fb=>{_0x3814d2[_0x1f58fb]['size']>=0x5&&_0x158673['dominatedRanks']['add'](parseInt(_0x1f58fb));}),console[_0x350ab6(0x10a)]('üéØ\x20Found\x20'+_0x158673[_0x350ab6(0x130)]+'\x20underdog\x20victories\x20for\x20'+_0x11f059),console[_0x350ab6(0x10a)]('üëë\x20Dominated\x20'+_0x158673['dominatedRanks']['size']+'\x20ranks:\x20['+Array['from'](_0x158673['dominatedRanks'])[_0x350ab6(0xec)](_0x2bbaf9=>getRankTierName(_0x2bbaf9))['join'](',\x20')+']');const _0x49777b=_0x158673[_0x350ab6(0x145)]>0x0?_0x158673['wins']/_0x158673[_0x350ab6(0x145)]*0x64:0x0,_0x4192cc=[['Overachiever\x20Ribbon',this['evaluateOverachieverRibbonFromCount'](_0x158673['totalMatches'],_0x4472f1)],['Rematch\x20Ribbon',this['evaluateRematchRibbonFromCount'](_0x158673['rematchWins'],_0x4472f1)],['Sub-Gamer\x20Ribbon',this['evaluateSubGamerRibbonFromCount'](_0x158673['subgameMatches'],_0x4472f1)],['Explorer\x20Ribbon',this[_0x350ab6(0x143)](_0x158673[_0x350ab6(0x104)]['size'],_0x4472f1)],['Socialite\x20Ribbon',this[_0x350ab6(0xf1)](_0x158673['uniqueOpponents']['size'],_0x4472f1)],['Brick\x20Wall',this['evaluateBrickWallRibbonFromWinRate'](_0x49777b,_0x4472f1,_0x158673['totalMatches'])],[_0x350ab6(0xde),this['evaluateUnderdogRibbonFromCount'](_0x158673[_0x350ab6(0x130)],_0x4472f1)],['Domination\x20Ribbon',this['evaluateDominationRibbonFromRanks'](_0x158673[_0x350ab6(0x126)]['size'],_0x4472f1)]];_0x4192cc['forEach'](([_0x99935d,_0x37c0e0])=>{_0x37c0e0&&(_0x4cfaea[_0x99935d]=_0x37c0e0);});const _0x1bdf23=Object['keys'](_0x4472f1)['length']+Object['keys'](_0x4cfaea)['length'],_0x22da3c=this['evaluateCollectorRibbonFromCount'](_0x1bdf23,_0x4472f1);return _0x22da3c&&(_0x4cfaea['Collector\x20Ribbon']=_0x22da3c),_0x4cfaea;}['evaluateDominationRibbonFromRanks'](_0x398cbb,_0x2d1369){const _0x42ec21=a48_0x3e416c;if(_0x398cbb===0x0)return null;const _0x2b1b54=_0x2d1369['Domination\x20Ribbon']||{'level':0x0};if(_0x398cbb>_0x2b1b54['level']){const _0x130504=[];for(let _0x590f07=0x0;_0x590f07<_0x398cbb;_0x590f07++){_0x130504['push'](getRankTierName(_0x590f07));}return console[_0x42ec21(0x10a)]('üëë\x20Domination\x20Ribbon\x20awarded:\x20Level\x20'+_0x2b1b54['level']+'\x20‚Üí\x20'+_0x398cbb+_0x42ec21(0x14f)+_0x130504[_0x42ec21(0xe4)](',\x20')+')'),{'level':_0x398cbb,'awardedAt':new Date(),'dominatedRanks':_0x130504};}return null;}async['checkTopRankStatus'](_0x3721c6,_0x9365f3){const _0x2ffe36=a48_0x3e416c;try{const _0x4747ff=_0x9365f3==='D1'?'players':_0x9365f3==='D2'?_0x2ffe36(0xf2):_0x2ffe36(0xd1),_0x1009bb=await this['getPlayerDataCached'](_0x3721c6,_0x9365f3);if(!_0x1009bb||_0x1009bb['eloRating']===undefined)return console['log'](_0x2ffe36(0xe7)+_0x3721c6),null;const _0x1c27ad=_0x1009bb[_0x2ffe36(0x108)],_0x2ebbef=getPlayerRankTier(_0x1c27ad),_0xbc358e=getRankTierName(_0x2ebbef);if(_0xbc358e==='Unranked')return console['log']('‚ùå\x20'+_0x3721c6+'\x20is\x20Unranked\x20('+_0x1c27ad+'\x20ELO)'),null;console['log']('üîç\x20Checking\x20Top\x20'+_0xbc358e+'\x20status\x20for\x20'+_0x3721c6+'\x20('+_0x1c27ad+'\x20ELO)');const _0x2c63b9=collection(db,_0x4747ff),_0x5a1560=await getDocs(_0x2c63b9);let _0x4c48f8=null,_0x2ff118=-0x1,_0x1d8863=0x0;_0x5a1560['forEach'](_0x3a1bef=>{const _0x3dcc86=_0x2ffe36,_0x464e9d=_0x3a1bef['data'](),_0x1bf6a2=_0x464e9d['eloRating']||0x0,_0x2c2efd=getPlayerRankTier(_0x1bf6a2);_0x2c2efd===_0x2ebbef&&(_0x1d8863++,_0x1bf6a2>_0x2ff118&&(_0x2ff118=_0x1bf6a2,_0x4c48f8=_0x464e9d[_0x3dcc86(0xfd)]));});const _0x4d2279=_0x4c48f8===_0x3721c6;return console['log']('üìä\x20'+_0xbc358e+_0x2ffe36(0x157)+_0x1d8863+'\x20players,\x20Top:\x20'+_0x4c48f8+'\x20('+_0x2ff118+_0x2ffe36(0x121)+_0x3721c6+'\x20is\x20#1:\x20'+_0x4d2279),_0x4d2279?_0xbc358e:null;}catch(_0x1c2e6a){return console['error']('Error\x20checking\x20top\x20rank\x20status:',_0x1c2e6a),null;}}async['evaluateTopRankRibbon'](_0x32ff25,_0x363c5b,_0x1ba15b){const _0x7c79b9=a48_0x3e416c,_0x28ac83=await this[_0x7c79b9(0xe1)](_0x32ff25,_0x363c5b),_0x2d76b3={};if(_0x28ac83){const _0x43f6a1='Top\x20'+_0x28ac83+'\x20Pilot';if(RIBBON_DEFINITIONS[_0x43f6a1]){const _0x28dd82=_0x1ba15b[_0x43f6a1];!_0x28dd82?(console['log']('üëë\x20NEW\x20Top\x20Rank\x20Achievement:\x20'+_0x32ff25+_0x7c79b9(0x141)+_0x43f6a1+'!'),_0x2d76b3[_0x43f6a1]={'level':0x1,'awardedAt':new Date(),'rank':_0x28ac83,'achievedAt':new Date()}):console['log']('‚úÖ\x20'+_0x32ff25+'\x20already\x20has\x20'+_0x43f6a1+'\x20-\x20No\x20changes\x20needed');}}return Object[_0x7c79b9(0x11a)](_0x1ba15b)['forEach'](_0x24519c=>{const _0x9153f1=_0x7c79b9;_0x24519c['startsWith'](_0x9153f1(0x137))&&_0x24519c['endsWith'](_0x9153f1(0xff))&&(!_0x2d76b3[_0x24519c]&&console['log']('‚úÖ\x20Preserving\x20existing\x20'+_0x24519c));}),_0x2d76b3;}async['evaluateAllRibbonsForPlayerOptimized'](_0x1fc8ac,_0x2b17f2='D1'){const _0x536c8d=a48_0x3e416c;try{const _0x284f1b=ribbonCache['getCachedData'](_0x1fc8ac,_0x2b17f2);if(_0x284f1b){const _0x2b7b63=await this['evaluateTopRankRibbon'](_0x1fc8ac,_0x2b17f2,_0x284f1b);if(Object[_0x536c8d(0x11a)](_0x2b7b63)[_0x536c8d(0xe9)]>0x0){console['log']('üÜï\x20New\x20top\x20rank\x20achievements\x20found\x20for\x20cached\x20player\x20'+_0x1fc8ac),await this['savePlayerRibbonsOptimized'](_0x1fc8ac,_0x2b7b63,_0x2b17f2);const _0x4fb30e={..._0x284f1b,..._0x2b7b63};return ribbonCache['setCachedData'](_0x1fc8ac,_0x2b17f2,_0x4fb30e,0x0),_0x4fb30e;}return _0x284f1b;}const [_0x44c364,_0x19a242]=await Promise['all']([this[_0x536c8d(0xe8)](_0x1fc8ac,_0x2b17f2),this[_0x536c8d(0xfe)](_0x1fc8ac,_0x2b17f2)]);if(!_0x44c364)return{};const _0x174d5a=_0x44c364['matchesPlayed']||0x0,_0x5507c5=await this['evaluateTopRankRibbon'](_0x1fc8ac,_0x2b17f2,_0x19a242);if(!ribbonCache[_0x536c8d(0xf4)](_0x1fc8ac,_0x2b17f2,_0x174d5a)){if(Object['keys'](_0x5507c5)['length']>0x0){await this['savePlayerRibbonsOptimized'](_0x1fc8ac,_0x5507c5,_0x2b17f2);const _0xbb8ccd={..._0x19a242,..._0x5507c5};return ribbonCache[_0x536c8d(0x10d)](_0x1fc8ac,_0x2b17f2,_0xbb8ccd,_0x174d5a),_0xbb8ccd;}return ribbonCache[_0x536c8d(0x10d)](_0x1fc8ac,_0x2b17f2,_0x19a242,_0x174d5a),_0x19a242;}const _0x5483fe=await this['getPlayerMatchesOptimized'](_0x1fc8ac,_0x2b17f2),_0x3f152d=await this['evaluateAllRibbonsFromData'](_0x5483fe,_0x44c364,_0x19a242,_0x2b17f2);Object['assign'](_0x3f152d,_0x5507c5);Object[_0x536c8d(0x11a)](_0x3f152d)['length']>0x0&&(console[_0x536c8d(0x10a)]('üíæ\x20Saving\x20'+Object['keys'](_0x3f152d)['length']+_0x536c8d(0x134)+_0x1fc8ac),await this[_0x536c8d(0x11b)](_0x1fc8ac,_0x3f152d,_0x2b17f2));const _0xca31d7={..._0x19a242,..._0x3f152d};return ribbonCache['setCachedData'](_0x1fc8ac,_0x2b17f2,_0xca31d7,_0x5483fe['length']),_0xca31d7;}catch(_0x49137c){return console['error']('‚ùå\x20Error\x20in\x20ribbon\x20evaluation:',_0x49137c),{};}}async['isUnderdogVictory'](_0x217a5f,_0x49ac60,_0x441f40){const _0xb59459=a48_0x3e416c,_0x30b27d=_0x217a5f['winnerUsername']===_0x49ac60;if(!_0x30b27d)return![];const _0x304bd2=_0x217a5f['loserUsername'],[_0x36dff2,_0x225fe4]=await Promise[_0xb59459(0x129)]([this[_0xb59459(0xe8)](_0x49ac60,_0x441f40),this[_0xb59459(0xe8)](_0x304bd2,_0x441f40)]);if(!_0x36dff2||!_0x225fe4)return console[_0xb59459(0x10a)](_0xb59459(0x123)+_0x49ac60+_0xb59459(0x14a)+_0x304bd2),![];const _0x43154f=_0x36dff2['eloRating']||0x0,_0xfee72d=_0x225fe4['eloRating']||0x0,_0x4fbf54=getPlayerRankTier(_0x43154f),_0x37e7eb=getPlayerRankTier(_0xfee72d);console['log']('üîç\x20Checking\x20underdog:\x20Winner('+_0x49ac60+_0xb59459(0xd3)+_0x43154f+'\x20ELO\x20('+getRankTierName(_0x4fbf54)+')\x20vs\x20Loser('+_0x304bd2+'):\x20'+_0xfee72d+_0xb59459(0x109)+getRankTierName(_0x37e7eb)+')');if(_0x37e7eb>_0x4fbf54)return console['log']('üéØ\x20UNDERDOG\x20VICTORY:\x20'+getRankTierName(_0x4fbf54)+'\x20beat\x20'+getRankTierName(_0x37e7eb)+'!'),!![];return console[_0xb59459(0x10a)]('‚ùå\x20Not\x20underdog:\x20'+getRankTierName(_0x4fbf54)+'\x20vs\x20'+getRankTierName(_0x37e7eb)),![];}['isUnderdogVictoryFast'](_0x256411,_0x24943e,_0x55d973,_0x3d2184){const _0x2b1d25=a48_0x3e416c,_0x116e44=_0x256411[_0x2b1d25(0xe6)]===_0x24943e;if(!_0x116e44)return![];const _0x290027=_0x256411['loserUsername'],_0x2e00f6=_0x3d2184[_0x2b1d25(0xd4)](_0x290027);if(!_0x55d973||!_0x2e00f6)return![];const _0x215a0b=_0x55d973['eloRating']||0x0,_0x167b21=_0x2e00f6['eloRating']||0x0,_0x51e125=getPlayerRankTier(_0x215a0b),_0xe92fa6=getPlayerRankTier(_0x167b21);if(_0xe92fa6>_0x51e125)return console[_0x2b1d25(0x10a)]('üéØ\x20UNDERDOG:\x20'+getRankTierName(_0x51e125)+'('+_0x215a0b+_0x2b1d25(0xf6)+getRankTierName(_0xe92fa6)+'('+_0x167b21+')'),!![];return![];}async['evaluateAllRibbonsFromData'](_0xe3884a,_0x4a6b1c,_0x503c66,_0x24910b){const _0xfc09e7=a48_0x3e416c,_0x19d660={},_0x21fd58=_0x4a6b1c['username'],_0x39bd3b={'totalMatches':_0xe3884a['length'],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0},_0x4deb76=new Set();_0xe3884a['forEach'](_0x5cc4fc=>{const _0xf1e190=a48_0x3551,_0x1cbb3a=_0x5cc4fc['winnerUsername']===_0x21fd58,_0x1d93fb=_0x1cbb3a?_0x5cc4fc[_0xf1e190(0xd2)]:_0x5cc4fc['winnerUsername'];if(_0x1d93fb)_0x4deb76[_0xf1e190(0x155)](_0x1d93fb);}),console[_0xfc09e7(0x10a)](_0xfc09e7(0xeb)+_0x4deb76['size']+'\x20player\x20records\x20for\x20underdog\x20calculations...');const _0x26868c=await this['bulkLoadPlayerData']([..._0x4deb76,_0x21fd58],_0x24910b),_0x260a13=_0x26868c[_0xfc09e7(0xd4)](_0x21fd58);!_0x260a13&&console['log']('‚ö†Ô∏è\x20No\x20current\x20player\x20data\x20found\x20for\x20'+_0x21fd58);_0xe3884a['forEach'](_0x409b30=>{const _0x183bc1=_0xfc09e7,_0xb31491=_0x409b30['winnerUsername']===_0x21fd58,_0x428348=_0xb31491?_0x409b30['loserUsername']:_0x409b30['winnerUsername'];_0xb31491&&(_0x39bd3b['wins']++,_0x409b30[_0x183bc1(0xda)]==='Rematch'&&_0x39bd3b[_0x183bc1(0x101)]++,this['isUnderdogVictoryFast'](_0x409b30,_0x21fd58,_0x260a13,_0x26868c)&&_0x39bd3b['underdogWins']++),_0x409b30['subgameType']&&_0x409b30['subgameType']!=='Standard'&&_0x39bd3b['subgameMatches']++,_0x409b30['mapPlayed']&&_0x39bd3b['uniqueMaps']['add'](_0x409b30[_0x183bc1(0xe2)]),_0x428348&&_0x39bd3b[_0x183bc1(0x12d)]['add'](_0x428348);}),console[_0xfc09e7(0x10a)]('üéØ\x20Found\x20'+_0x39bd3b['underdogWins']+_0xfc09e7(0xd7)+_0x21fd58);const _0x3d74a1=_0x39bd3b[_0xfc09e7(0x145)]>0x0?_0x39bd3b['wins']/_0x39bd3b['totalMatches']*0x64:0x0,_0x22619e=[['Overachiever\x20Ribbon',this['evaluateOverachieverRibbonFromCount'](_0x39bd3b['totalMatches'],_0x503c66)],['Rematch\x20Ribbon',this[_0xfc09e7(0x139)](_0x39bd3b['rematchWins'],_0x503c66)],[_0xfc09e7(0x11f),this['evaluateSubGamerRibbonFromCount'](_0x39bd3b['subgameMatches'],_0x503c66)],[_0xfc09e7(0xea),this['evaluateExplorerRibbonFromCount'](_0x39bd3b['uniqueMaps']['size'],_0x503c66)],['Socialite\x20Ribbon',this[_0xfc09e7(0xf1)](_0x39bd3b[_0xfc09e7(0x12d)]['size'],_0x503c66)],[_0xfc09e7(0x154),this['evaluateBrickWallRibbonFromWinRate'](_0x3d74a1,_0x503c66,_0x39bd3b['totalMatches'])],[_0xfc09e7(0xde),this['evaluateUnderdogRibbonFromCount'](_0x39bd3b['underdogWins'],_0x503c66)]];_0x22619e['forEach'](([_0x32a676,_0x173220])=>{_0x173220&&(_0x19d660[_0x32a676]=_0x173220);});const _0x12d454=Object['keys'](_0x503c66)[_0xfc09e7(0xe9)]+Object['keys'](_0x19d660)[_0xfc09e7(0xe9)],_0x32b71b=this['evaluateCollectorRibbonFromCount'](_0x12d454,_0x503c66);return _0x32b71b&&(_0x19d660['Collector\x20Ribbon']=_0x32b71b),_0x19d660;}async['getPlayerMatchesOptimized'](_0xdc2a8c,_0x390959){const _0x2612a8=a48_0x3e416c,_0x136519=matchCache['getCachedMatches'](_0xdc2a8c,_0x390959);if(_0x136519)return _0x136519;try{const _0x1156c4=_0x390959==='D1'?'approvedMatches':_0x390959==='D2'?_0x2612a8(0xf7):'approvedMatchesD3',_0xe47e2=collection(db,_0x1156c4),[_0x4c1522,_0x196c5e]=await Promise['all']([getDocs(query(_0xe47e2,where(_0x2612a8(0xe6),'==',_0xdc2a8c))),getDocs(query(_0xe47e2,where('loserUsername','==',_0xdc2a8c)))]),_0x26edb2=new Set(),_0x46f014=[];return _0x4c1522['forEach'](_0xc9cf27=>{const _0xc6543c=_0x2612a8;if(!_0x26edb2['has'](_0xc9cf27['id'])){_0x26edb2[_0xc6543c(0x155)](_0xc9cf27['id']);const _0x18d6b2={'id':_0xc9cf27['id'],..._0xc9cf27[_0xc6543c(0x131)]()};if(!_0x18d6b2['winnerRating'])_0x18d6b2['winnerRating']=0x0;if(!_0x18d6b2['loserRating'])_0x18d6b2[_0xc6543c(0xed)]=0x0;_0x46f014['push'](_0x18d6b2);}}),_0x196c5e['forEach'](_0x461f7c=>{const _0x257545=_0x2612a8;if(!_0x26edb2['has'](_0x461f7c['id'])){_0x26edb2['add'](_0x461f7c['id']);const _0x508c93={'id':_0x461f7c['id'],..._0x461f7c['data']()};if(!_0x508c93[_0x257545(0x144)])_0x508c93['winnerRating']=0x0;if(!_0x508c93[_0x257545(0xed)])_0x508c93['loserRating']=0x0;_0x46f014['push'](_0x508c93);}}),matchCache[_0x2612a8(0x114)](_0xdc2a8c,_0x390959,_0x46f014),_0x46f014;}catch(_0x9fb732){return console['error']('‚ùå\x20Error\x20fetching\x20matches:',_0x9fb732),[];}}async['getPlayerDataCached'](_0x96eb36,_0x3ff344){const _0x52df30=a48_0x3e416c;try{const _0xcfa60a=_0x3ff344==='D1'?'players':_0x3ff344==='D2'?'playersD2':'playersD3',_0x2fffaa=collection(db,_0xcfa60a),_0x253412=query(_0x2fffaa,where('username','==',_0x96eb36),limit(0x1)),_0x1cafd0=await getDocs(_0x253412);if(_0x1cafd0['empty'])return console['log']('‚ùå\x20No\x20player\x20data\x20found\x20for\x20'+_0x96eb36+_0x52df30(0x112)+_0xcfa60a),null;const _0x4be10f=_0x1cafd0['docs'][0x0]['data']();return _0x4be10f['eloRating']!==undefined&&(_0x4be10f[_0x52df30(0xf3)]=_0x4be10f['eloRating']),console['log'](_0x52df30(0x135)+_0x96eb36+':\x20ELO\x20'+_0x4be10f[_0x52df30(0x108)]+',\x20Position\x20'+_0x4be10f[_0x52df30(0x128)]),_0x4be10f;}catch(_0x1c08c7){return console['error'](_0x52df30(0x110)+_0x96eb36+':',_0x1c08c7),null;}}async['getPlayerRibbonsCached'](_0x51b361,_0x4b8516){const _0x1b3465=a48_0x3e416c;try{const _0x25a4b7='playerRibbons'+(_0x4b8516==='D1'?'':_0x4b8516),_0x38d3e6=doc(db,_0x25a4b7,_0x51b361),_0x55384b=await getDoc(_0x38d3e6);return _0x55384b['exists']()?_0x55384b['data']()[_0x1b3465(0x127)]||{}:{};}catch(_0x2a78a4){return console['error']('Error\x20getting\x20player\x20ribbons:',_0x2a78a4),{};}}async[a48_0x3e416c(0x11b)](_0x22509c,_0x1f0da0,_0x3e3ce0){const _0x3c8b18=a48_0x3e416c;try{const _0x11ed12=_0x3c8b18(0x10e)+(_0x3e3ce0==='D1'?'':_0x3e3ce0),_0x4f2516=doc(db,_0x11ed12,_0x22509c),_0x36ec08=await this['getPlayerRibbonsCached'](_0x22509c,_0x3e3ce0),_0x29bd95={..._0x36ec08,..._0x1f0da0};await setDoc(_0x4f2516,{'username':_0x22509c,'ladder':_0x3e3ce0,'ribbons':_0x29bd95,'lastUpdated':new Date()},{'merge':!![]});}catch(_0x4e3b33){console['error']('Error\x20saving\x20ribbons:',_0x4e3b33);}}['evaluateOverachieverRibbonFromCount'](_0x2791d0,_0x418275){const _0x42e2fc=a48_0x3e416c,_0x4b7015=_0x418275['Overachiever\x20Ribbon']||{'level':0x0},_0x40ec3b=RIBBON_DEFINITIONS[_0x42e2fc(0x107)][_0x42e2fc(0x14e)],_0x4359da=_0x40ec3b[_0x42e2fc(0x12a)](_0x488124=>_0x2791d0<_0x488124),_0x4bd470=_0x4359da===-0x1?_0x40ec3b[_0x42e2fc(0xe9)]:_0x4359da;if(_0x4bd470>_0x4b7015[_0x42e2fc(0xdf)])return{'level':_0x4bd470,'awardedAt':new Date()};return null;}[a48_0x3e416c(0x139)](_0xe0c872,_0x441eeb){if(_0xe0c872===0x0)return null;const _0x111885=_0x441eeb['Rematch\x20Ribbon']||{'level':0x0};if(_0xe0c872>_0x111885['level'])return{'level':_0xe0c872,'awardedAt':new Date()};return null;}[a48_0x3e416c(0x102)](_0xa929a7,_0x482352){const _0x3aeb47=a48_0x3e416c,_0x4519be=_0x482352[_0x3aeb47(0x11f)]||{'level':0x0},_0x3fdf34=RIBBON_DEFINITIONS['Sub-Gamer\x20Ribbon']['levels'],_0x21f48d=_0x3fdf34[_0x3aeb47(0x12a)](_0x8885a8=>_0xa929a7<_0x8885a8),_0x495dfd=_0x21f48d===-0x1?_0x3fdf34['length']:_0x21f48d;if(_0x495dfd>_0x4519be[_0x3aeb47(0xdf)])return{'level':_0x495dfd,'awardedAt':new Date()};return null;}[a48_0x3e416c(0x143)](_0x3d58c8,_0x526c29){const _0x5b926b=a48_0x3e416c,_0x4ed8fb=_0x526c29['Explorer\x20Ribbon']||{'level':0x0},_0x1c202d=RIBBON_DEFINITIONS['Explorer\x20Ribbon']['levels'],_0xd61643=_0x1c202d[_0x5b926b(0x12a)](_0x3bf561=>_0x3d58c8<_0x3bf561),_0x35472e=_0xd61643===-0x1?_0x1c202d['length']:_0xd61643;if(_0x35472e>_0x4ed8fb[_0x5b926b(0xdf)])return{'level':_0x35472e,'awardedAt':new Date()};return null;}[a48_0x3e416c(0xf1)](_0x5a06da,_0x3d0960){const _0x5ea163=a48_0x3e416c,_0x121ba9=_0x3d0960['Socialite\x20Ribbon']||{'level':0x0},_0x6dc9f9=RIBBON_DEFINITIONS['Socialite\x20Ribbon'][_0x5ea163(0x14e)],_0x217006=_0x6dc9f9['findIndex'](_0x1eca00=>_0x5a06da<_0x1eca00),_0x4045dd=_0x217006===-0x1?_0x6dc9f9['length']:_0x217006;if(_0x4045dd>_0x121ba9[_0x5ea163(0xdf)])return{'level':_0x4045dd,'awardedAt':new Date()};return null;}[a48_0x3e416c(0xdb)](_0x4d741c,_0x322da2,_0x7822b0){const _0x573dab=a48_0x3e416c;if(_0x7822b0<0x32)return console[_0x573dab(0x10a)](_0x573dab(0xf9)+_0x7822b0+')'),null;const _0x7d2b3e=_0x322da2['Brick\x20Wall']||{'level':0x0},_0x4c8095=RIBBON_DEFINITIONS[_0x573dab(0x154)]['levels'],_0x21dbe8=_0x4c8095[_0x573dab(0x12a)](_0x33a178=>_0x4d741c<_0x33a178),_0x31dab8=_0x21dbe8===-0x1?_0x4c8095['length']:_0x21dbe8;if(_0x31dab8>_0x7d2b3e['level'])return console['log']('üèÜ\x20Brick\x20Wall\x20ribbon\x20awarded:\x20'+_0x4d741c['toFixed'](0x1)+_0x573dab(0x13f)+_0x7822b0+'\x20matches'),{'level':_0x31dab8,'awardedAt':new Date(),'winRate':_0x4d741c,'matchesPlayed':_0x7822b0};return null;}['evaluateCollectorRibbonFromCount'](_0xaeb62,_0x59566c){const _0xf0a426=_0x59566c['Collector\x20Ribbon']||{'level':0x0},_0x37b181=RIBBON_DEFINITIONS['Collector\x20Ribbon']['levels'],_0x831d43=_0x37b181['findIndex'](_0x19dc60=>_0xaeb62<_0x19dc60),_0xc2056f=_0x831d43===-0x1?_0x37b181['length']:_0x831d43;if(_0xc2056f>_0xf0a426['level'])return{'level':_0xc2056f,'awardedAt':new Date()};return null;}['evaluateUnderdogRibbonFromCount'](_0xb522f2,_0x152562){const _0x138aa8=a48_0x3e416c;if(_0xb522f2===0x0)return null;const _0x1a7ccc=_0x152562['Underdog\x20Ribbon']||{'level':0x0},_0x2e9587=RIBBON_DEFINITIONS['Underdog\x20Ribbon']['levels'];let _0x15bc4=0x0;for(let _0x495532=0x0;_0x495532<_0x2e9587['length'];_0x495532++){if(_0xb522f2>=_0x2e9587[_0x495532])_0x15bc4=_0x495532+0x1;else break;}if(_0x15bc4>_0x1a7ccc['level'])return console['log']('üèÜ\x20Underdog\x20Ribbon\x20upgrade:\x20Level\x20'+_0x1a7ccc[_0x138aa8(0xdf)]+_0x138aa8(0x146)+_0x15bc4+'\x20('+_0xb522f2+'\x20underdog\x20wins)'),{'level':_0x15bc4,'awardedAt':new Date()};return null;}}function getPlayerRankTier(_0x1c758e){if(_0x1c758e===undefined||_0x1c758e===null)return 0x0;const _0xedde94=Number(_0x1c758e);if(isNaN(_0xedde94))return 0x0;if(_0xedde94>=0x7d0)return 0x4;if(_0xedde94>=0x708)return 0x3;if(_0xedde94>=0x640)return 0x2;if(_0xedde94>=0x578)return 0x1;return 0x0;}function getRankTierName(_0xc07832){const _0x4957d9=a48_0x3e416c,_0x22f762=['Unranked',_0x4957d9(0xd9),'Silver','Gold','Emerald'];return _0x22f762[_0xc07832]||_0x4957d9(0xdc);}const ribbonSystem=new RibbonSystem(),ribbonCache=new RibbonCacheManager(),matchCache=new MatchCacheManager();typeof window!==a48_0x3e416c(0x117)&&(window[a48_0x3e416c(0x142)]=()=>{return{'ribbon':ribbonCache['getCacheStats'](),'match':matchCache['getCacheStats']()};});export async function evaluatePlayerRibbons(_0x55f082,_0x288edc='D1'){return await ribbonSystem['evaluateAllRibbonsForPlayerOptimized'](_0x55f082,_0x288edc);}export function getRibbonHTML(_0x407659,_0x40d0ed){const _0x18f1c3=a48_0x3e416c,_0x3032a9=RIBBON_DEFINITIONS[_0x407659];if(!_0x3032a9)return'';const _0x4eed50=_0x40d0ed['level']||0x1,_0x35e698=_0x407659[_0x18f1c3(0x153)]('\x20Ribbon','')[_0x18f1c3(0x153)]('\x20Badge',''),_0x235d01=_0x1eeafe=>{const _0x1de496=_0x18f1c3;if(_0x1eeafe<=0x1)return'level-1';if(_0x1eeafe<=0x2)return'level-2';if(_0x1eeafe<=0x3)return'level-3';if(_0x1eeafe<=0x4)return _0x1de496(0xe5);return'level-5-plus';},_0x4cc0c=_0xe7ebaf=>{const _0x237954=_0x18f1c3;if(_0xe7ebaf<=0x1)return'';const _0xc690dc=[];if(_0xe7ebaf>=0x2&&_0xe7ebaf<=0x4){const _0x215414=Math[_0x237954(0x106)](_0xe7ebaf-0x1,0x3);for(let _0x47203f=0x0;_0x47203f<_0x215414;_0x47203f++){_0xc690dc['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>');}}if(_0xe7ebaf>=0x5&&_0xe7ebaf<=0x7){_0xc690dc['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20silver-star\x22></i>');const _0x1b6491=Math['min'](_0xe7ebaf-0x5,0x2);for(let _0x4119ef=0x0;_0x4119ef<_0x1b6491;_0x4119ef++){_0xc690dc[_0x237954(0xe3)]('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>');}}return _0xe7ebaf>=0x8&&_0xc690dc[_0x237954(0xe3)]('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20gold-star\x22></i>'),_0xc690dc['length']>0x0?'<div\x20class=\x22ribbon-devices\x22>'+_0xc690dc['join']('')+'</div>':'';},_0x1fcdf3=_0x3032a9['description']+_0x18f1c3(0x136)+_0x4eed50;return _0x18f1c3(0x149)+_0x1fcdf3+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-image-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22'+_0x3032a9['image']+_0x18f1c3(0x14b)+_0x407659+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22ribbon-image\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27;\x20this.nextElementSibling.style.display=\x27block\x27;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-fallback\x22\x20style=\x22display:\x20none;\x20background:\x20'+_0x3032a9[_0x18f1c3(0x12f)]+_0x18f1c3(0x113)+_0x35e698[_0x18f1c3(0x12b)](0x0,0x6)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4cc0c(_0x4eed50)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-name\x22>'+_0x35e698+_0x18f1c3(0x100)+(_0x4eed50>0x1?'<div\x20class=\x22ribbon-level-indicator\x20'+_0x235d01(_0x4eed50)+'\x22>'+_0x4eed50+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}