const a51_0x576497=(function(){let _0x406386=!![];return function(_0x4d9e07,_0x47869c){const _0x2dd2cd=_0x406386?function(){if(_0x47869c){const _0x310c59=_0x47869c['apply'](_0x4d9e07,arguments);return _0x47869c=null,_0x310c59;}}:function(){};return _0x406386=![],_0x2dd2cd;};}()),a51_0x4cecb7=a51_0x576497(this,function(){const _0x53df0a=a51_0x26e1,_0x4f4ddd=function(){let _0x797233;try{_0x797233=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x227ac9){_0x797233=window;}return _0x797233;},_0x1a532e=_0x4f4ddd(),_0x4b37c1=_0x1a532e['console']=_0x1a532e[_0x53df0a(0x160)]||{},_0x52b9be=['log','warn','info',_0x53df0a(0x15c),_0x53df0a(0x163),'table',_0x53df0a(0x15b)];for(let _0x4f22f6=0x0;_0x4f22f6<_0x52b9be['length'];_0x4f22f6++){const _0x2b1b7d=a51_0x576497['constructor']['prototype']['bind'](a51_0x576497),_0x2fc9c9=_0x52b9be[_0x4f22f6],_0x2e042d=_0x4b37c1[_0x2fc9c9]||_0x2b1b7d;_0x2b1b7d['__proto__']=a51_0x576497[_0x53df0a(0x164)](a51_0x576497),_0x2b1b7d[_0x53df0a(0x162)]=_0x2e042d['toString'][_0x53df0a(0x164)](_0x2e042d),_0x4b37c1[_0x2fc9c9]=_0x2b1b7d;}});a51_0x4cecb7();import{db}from'./firebase-config.js';import{collection,getDocs,setDoc,doc,query,orderBy}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';function a51_0x2f48(){const _0x4daf21=['trace','error','wins','push','data','console','winRate','toString','exception','bind','log'];a51_0x2f48=function(){return _0x4daf21;};return a51_0x2f48();}async function archiveSeason0(){try{const _0x13278c=await getDocs(collection(db,'players'));for(const _0x6e7203 of _0x13278c['docs']){const _0x3951a7=_0x6e7203['data']();await setDoc(doc(db,'season0',_0x6e7203['id']),{..._0x3951a7,'archivedAt':new Date(),'originalId':_0x6e7203['id']});}return console['log']('Successfully\x20archived\x20players\x20to\x20season0'),!![];}catch(_0x51da17){console['error']('Error\x20archiving\x20season:',_0x51da17);throw _0x51da17;}}async function archiveRecords(){const _0x3f28da=a51_0x26e1;try{const _0x4928d6=collection(db,'records'),_0x60d848=query(_0x4928d6,orderBy('wins','desc')),_0x5a351a=await getDocs(_0x60d848),_0xa8c077=[];return _0x5a351a['forEach'](_0x269d39=>{const _0x32ee9b=a51_0x26e1,_0x532bec=_0x269d39[_0x32ee9b(0x15f)]();_0xa8c077[_0x32ee9b(0x15e)]({'username':_0x532bec['username'],'wins':_0x532bec[_0x32ee9b(0x15d)]||0x0,'losses':_0x532bec['losses']||0x0,'winRate':_0x532bec[_0x32ee9b(0x161)]||0x0,'timestamp':new Date()});}),await setDoc(doc(db,'season0records','snapshot'),{'records':_0xa8c077,'archivedAt':new Date()}),console[_0x3f28da(0x165)]('Successfully\x20archived\x20records'),!![];}catch(_0x2aaf7d){console['error']('Error\x20archiving\x20records:',_0x2aaf7d);throw _0x2aaf7d;}}function a51_0x26e1(_0x470dc6,_0x334281){const _0x4cecb7=a51_0x2f48();return a51_0x26e1=function(_0x576497,_0x54d2b0){_0x576497=_0x576497-0x15b;let _0x2f4853=_0x4cecb7[_0x576497];return _0x2f4853;},a51_0x26e1(_0x470dc6,_0x334281);}export{archiveSeason0,archiveRecords};