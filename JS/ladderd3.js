const a33_0x31e5d8=a33_0x3e56;(function(_0x4f5dda,_0x3b6a7b){const _0x3b6dbe=a33_0x3e56,_0x375668=_0x4f5dda();while(!![]){try{const _0x56d613=parseInt(_0x3b6dbe(0x1ce))/0x1+-parseInt(_0x3b6dbe(0x1fb))/0x2+parseInt(_0x3b6dbe(0x214))/0x3*(-parseInt(_0x3b6dbe(0x1e2))/0x4)+-parseInt(_0x3b6dbe(0x235))/0x5+parseInt(_0x3b6dbe(0x20e))/0x6+-parseInt(_0x3b6dbe(0x1ed))/0x7*(-parseInt(_0x3b6dbe(0x1cc))/0x8)+-parseInt(_0x3b6dbe(0x209))/0x9;if(_0x56d613===_0x3b6a7b)break;else _0x375668['push'](_0x375668['shift']());}catch(_0x1ea482){_0x375668['push'](_0x375668['shift']());}}}(a33_0x2243,0x42514));const a33_0xe62625=(function(){let _0x33143d=!![];return function(_0xfac00f,_0x5b49ca){const _0x2ac541=_0x33143d?function(){if(_0x5b49ca){const _0xa96113=_0x5b49ca['apply'](_0xfac00f,arguments);return _0x5b49ca=null,_0xa96113;}}:function(){};return _0x33143d=![],_0x2ac541;};}()),a33_0x12b2ca=a33_0xe62625(this,function(){const _0x24862d=a33_0x3e56;return a33_0x12b2ca[_0x24862d(0x1ec)]()[_0x24862d(0x1d3)](_0x24862d(0x21e))[_0x24862d(0x1ec)]()[_0x24862d(0x1ea)](a33_0x12b2ca)[_0x24862d(0x1d3)](_0x24862d(0x21e));});a33_0x12b2ca();const a33_0x5a537d=(function(){let _0x5b0053=!![];return function(_0x1412df,_0x30c2fa){const _0x13e6f9=_0x5b0053?function(){const _0x6a571c=a33_0x3e56;if(_0x30c2fa){const _0x164b8c=_0x30c2fa[_0x6a571c(0x20f)](_0x1412df,arguments);return _0x30c2fa=null,_0x164b8c;}}:function(){};return _0x5b0053=![],_0x13e6f9;};}()),a33_0x56656f=a33_0x5a537d(this,function(){const _0xd0229c=a33_0x3e56;let _0x2edf53;try{const _0x1eb96b=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x2edf53=_0x1eb96b();}catch(_0x2c7da8){_0x2edf53=window;}const _0x1dadff=_0x2edf53['console']=_0x2edf53['console']||{},_0x12d9e1=[_0xd0229c(0x225),_0xd0229c(0x22e),'info','error',_0xd0229c(0x227),_0xd0229c(0x1dd),_0xd0229c(0x1ef)];for(let _0x1e1732=0x0;_0x1e1732<_0x12d9e1[_0xd0229c(0x1f5)];_0x1e1732++){const _0x2b8b8e=a33_0x5a537d[_0xd0229c(0x1ea)][_0xd0229c(0x1ee)][_0xd0229c(0x218)](a33_0x5a537d),_0x22453f=_0x12d9e1[_0x1e1732],_0x2e33f8=_0x1dadff[_0x22453f]||_0x2b8b8e;_0x2b8b8e[_0xd0229c(0x241)]=a33_0x5a537d['bind'](a33_0x5a537d),_0x2b8b8e[_0xd0229c(0x1ec)]=_0x2e33f8[_0xd0229c(0x1ec)][_0xd0229c(0x218)](_0x2e33f8),_0x1dadff[_0x22453f]=_0x2b8b8e;}});a33_0x56656f();import{collection,getDocs,deleteDoc,doc,getDoc,query,where,updateDoc,Timestamp,onSnapshot,orderBy,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db}from'./firebase-config.js';function a33_0x2243(){const _0x341dd1=['</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22profile.html?username=','search','totalDeaths','#50C878','#C0C0C0','size','totalMatches','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22color:\x20','fontSize','entries','kda','table','#CD7F32','\x20fallback\x20ELO\x20change:\x20','#FFD700','eloHistory','4YeJPeJ','toLowerCase','abs','error','Error\x20updating\x20D3\x20ELO\x20trend\x20indicators:',';\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22elo-container\x22\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22elo-value\x22>','get','.trend-indicator','constructor','totalKills','toString','3686963kBSBxc','prototype','trace','winRate','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22trend-indicator\x22\x20style=\x22margin-left:\x205px;\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','set','toDate','length','td:nth-child(3)','bold','D3:\x20No\x20entries\x20found\x20in\x20eloHistoryD3,\x20trying\x20fallback...','D3:\x20Final\x20ELO\x20changes:','D3:\x20eloHistoryD3\x20is\x20empty,\x20trying\x20fallback...','717982TgbgLK','catch','\x0a\x20\x20.streak-indicator\x20{\x0a\x20\x20\x20\x20font-size:\x200.9em;\x0a\x20\x20\x20\x20color:\x20#FF4500;\x0a\x20\x20\x20\x20margin-left:\x205px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20}\x0a','<img\x20src=\x22../images/flags/','Error\x20updating\x20D3\x20player\x20positions:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','previousElo','opacity','push','D3:\x20Fallback\x20query\x20failed:','D3:\x20Found\x20','winnerScore','toFixed','userProfiles','45954QpTvLC','textContent','Could\x20not\x20find\x20winner\x20or\x20loser\x20in\x20D3\x20players\x20list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x228\x22\x20style=\x22text-align:\x20center;\x20color:\x20red;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20D3\x20ladder\x20data:\x20','string','1123284jQuXMj','apply','D3\x20Ladder\x20table\x20body\x20not\x20found','D3:\x20Player\x20ID\x20mappings:','sort','playerId','870657ZTIRFW','pilot','D3:\x20','now','bind','country','visible','map','\x20players','seconds','(((.+)+)+)+$','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','<tr><td\x20colspan=\x228\x22\x20class=\x22loading-cell\x22>Loading\x20D3\x20ladder\x20data...</td></tr>','message','has','head','filter','log','wins','exception','querySelector','eloRating','change',';\x20text-decoration:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','desc','empty','warn','playersD3','\x0a\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','firstPlaceDate','#F44336','D3:\x20Error\x20fetching\x20ELO\x20history:','timestamp','87675bzodGE','username','player','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22player-flag\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>','newElo','position','%</td>\x0a\x20\x20\x20\x20</tr>','join','playerUsername','elo','winnerUsername','find','__proto__','losses','style','gameMode','from','inline','.png\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22','\x20fallback\x20entries','innerHTML','data','Error\x20fetching\x20batch\x20match\x20stats\x20for\x20D3:','forEach','approvedMatchesD3','Error\x20loading\x20D3\x20ladder:','\x20entries\x20in\x20eloHistoryD3','8yjzGgR','#ladder-d3\x20thead\x20tr','229564iGfoUV','includes','loserUsername','eloHistoryD3'];a33_0x2243=function(){return _0x341dd1;};return a33_0x2243();}import{getRankStyle}from'./ranks.js';import a33_0x1c5ef3 from'./firebase-idle-wrapper.js';const styleEl=document['createElement']('style');styleEl['textContent']=a33_0x31e5d8(0x1fd),document[a33_0x31e5d8(0x223)]['appendChild'](styleEl);function a33_0x3e56(_0x38fcf5,_0x194620){const _0x14010c=a33_0x2243();return a33_0x3e56=function(_0x56656f,_0x5a537d){_0x56656f=_0x56656f-0x1bf;let _0x109d2e=_0x14010c[_0x56656f];return _0x109d2e;},a33_0x3e56(_0x38fcf5,_0x194620);}const playerCacheD3={'data':null,'timestamp':0x0},CACHE_DURATION=0x7530;async function displayLadderD3(_0x491dc3=![]){const _0x229ba8=a33_0x31e5d8,_0x130540=document[_0x229ba8(0x228)]('#ladder-d3\x20tbody');if(!_0x130540){console['error'](_0x229ba8(0x210));return;}_0x130540['innerHTML']=_0x229ba8(0x220);try{const _0x52b568=Date[_0x229ba8(0x217)]();if(!_0x491dc3&&playerCacheD3[_0x229ba8(0x1c6)]&&_0x52b568-playerCacheD3[_0x229ba8(0x234)]<CACHE_DURATION){updateLadderDisplayD3(playerCacheD3[_0x229ba8(0x1c6)]);return;}const _0x497f24=collection(db,_0x229ba8(0x22f)),_0x5a121a=await getDocs(_0x497f24),_0x329a6c=[];_0x5a121a[_0x229ba8(0x1c8)](_0x59c62f=>{const _0x5d6183=_0x229ba8,_0x81a977=_0x59c62f[_0x5d6183(0x1c6)]();_0x81a977[_0x5d6183(0x236)]&&_0x329a6c[_0x5d6183(0x203)]({..._0x81a977,'id':_0x59c62f['id'],'elo':_0x81a977[_0x5d6183(0x229)]||0x0,'position':_0x81a977[_0x5d6183(0x23a)]||Number['MAX_SAFE_INTEGER']});});const _0x2ea1e5=collection(db,_0x229ba8(0x208)),_0x37e698=await getDocs(_0x2ea1e5),_0x117f66=new Map();_0x37e698[_0x229ba8(0x1c8)](_0x3dfb36=>{const _0x26c823=_0x229ba8,_0x1816b5=_0x3dfb36['data']();_0x1816b5['username']&&_0x117f66[_0x26c823(0x1f3)](_0x1816b5['username'][_0x26c823(0x1e3)](),_0x1816b5);});for(const _0x198ed6 of _0x329a6c){const _0x9758ec=_0x198ed6[_0x229ba8(0x236)][_0x229ba8(0x1e3)]();if(_0x117f66[_0x229ba8(0x222)](_0x9758ec)){const _0x3d322e=_0x117f66[_0x229ba8(0x1e8)](_0x9758ec);_0x3d322e[_0x229ba8(0x219)]&&(_0x198ed6[_0x229ba8(0x219)]=_0x3d322e[_0x229ba8(0x219)][_0x229ba8(0x1e3)]());}}const _0x695715=_0x329a6c[_0x229ba8(0x21b)](_0x5ded2a=>_0x5ded2a['username']),_0x350ed8=await fetchBatchMatchStatsD3(_0x695715);_0x329a6c['sort']((_0x2a814c,_0x5410de)=>{const _0x4bc5a4=_0x229ba8,_0x1a32db=_0x350ed8[_0x4bc5a4(0x1e8)](_0x2a814c[_0x4bc5a4(0x236)])?.['totalMatches']||0x0,_0x2217c4=_0x350ed8[_0x4bc5a4(0x1e8)](_0x5410de[_0x4bc5a4(0x236)])?.[_0x4bc5a4(0x1d8)]||0x0;if(_0x1a32db===0x0!==(_0x2217c4===0x0))return _0x1a32db===0x0?0x1:-0x1;return(_0x2a814c[_0x4bc5a4(0x23a)]||0x3e7)-(_0x5410de[_0x4bc5a4(0x23a)]||0x3e7);}),_0x329a6c[_0x229ba8(0x1c8)]((_0x45642,_0x5f1532)=>{_0x45642['position']=_0x5f1532+0x1;}),playerCacheD3[_0x229ba8(0x1c6)]=_0x329a6c,playerCacheD3['timestamp']=_0x52b568,updateLadderDisplayD3(_0x329a6c);}catch(_0x12d5b4){console[_0x229ba8(0x1e5)](_0x229ba8(0x1ca),_0x12d5b4),_0x130540['innerHTML']=_0x229ba8(0x20c)+_0x12d5b4[_0x229ba8(0x221)]+_0x229ba8(0x1f2);}}function calculateStreakDays(_0x26d8bd){const _0x553548=a33_0x31e5d8;if(!_0x26d8bd)return 0x0;const _0x3e0de7=_0x26d8bd[_0x553548(0x1f4)](),_0x26b94d=new Date(),_0x592644=Math[_0x553548(0x1e4)](_0x26b94d-_0x3e0de7);return Math['ceil'](_0x592644/(0x3e8*0x3c*0x3c*0x18));}async function updatePlayerPositions(_0x4f910d,_0x3f2443){const _0x19118f=a33_0x31e5d8;try{const _0x21710b=collection(db,_0x19118f(0x22f)),_0x376b32=await getDocs(_0x21710b),_0x29389f=[];_0x376b32['forEach'](_0x48c761=>{const _0x5d2896=_0x19118f;_0x29389f[_0x5d2896(0x203)]({'id':_0x48c761['id'],..._0x48c761[_0x5d2896(0x1c6)]()});});const _0x12f8f3=_0x29389f[_0x19118f(0x240)](_0x1089dc=>_0x1089dc[_0x19118f(0x236)]===_0x4f910d),_0x332977=_0x29389f[_0x19118f(0x240)](_0x110f6b=>_0x110f6b['username']===_0x3f2443);if(!_0x12f8f3||!_0x332977){console[_0x19118f(0x1e5)](_0x19118f(0x20b));return;}if(_0x12f8f3[_0x19118f(0x23a)]>_0x332977[_0x19118f(0x23a)]){const _0x1bbff5=_0x332977['position'];for(const _0x1bf8bf of _0x29389f){_0x1bf8bf[_0x19118f(0x23a)]>=_0x332977[_0x19118f(0x23a)]&&_0x1bf8bf[_0x19118f(0x23a)]<_0x12f8f3[_0x19118f(0x23a)]&&_0x1bf8bf[_0x19118f(0x236)]!==_0x4f910d&&await updateDoc(doc(db,_0x19118f(0x22f),_0x1bf8bf['id']),{'position':_0x1bf8bf[_0x19118f(0x23a)]+0x1});}await updateDoc(doc(db,'playersD3',_0x12f8f3['id']),{'position':_0x1bbff5});if(_0x1bbff5===0x1){const _0x56442f=doc(db,'playersD3',_0x12f8f3['id']),_0x1e615c=await getDoc(_0x56442f);!_0x1e615c[_0x19118f(0x1c6)]()[_0x19118f(0x231)]&&await updateDoc(_0x56442f,{'firstPlaceDate':Timestamp[_0x19118f(0x217)]()});}if(_0x332977[_0x19118f(0x23a)]===0x1){const _0x52a7dd=doc(db,_0x19118f(0x22f),_0x332977['id']);await updateDoc(_0x52a7dd,{'firstPlaceDate':null});}}}catch(_0x57272f){console[_0x19118f(0x1e5)](_0x19118f(0x1ff),_0x57272f);}}async function updateLadderDisplayD3(_0x2383f2){const _0x367447=a33_0x31e5d8;_0x2383f2[_0x367447(0x212)]((_0x1f9396,_0x47a258)=>_0x1f9396[_0x367447(0x23a)]-_0x47a258[_0x367447(0x23a)]);const _0x3e83dc=document[_0x367447(0x228)]('#ladder-d3\x20tbody');if(!_0x3e83dc)return;_0x3e83dc[_0x367447(0x1c5)]='';const _0x1ffd6c=_0x2383f2['map'](_0x2f0fd1=>_0x2f0fd1[_0x367447(0x236)]),_0x4f4736=await fetchBatchMatchStatsD3(_0x1ffd6c),_0x1a9de9=document[_0x367447(0x228)](_0x367447(0x1cd));_0x1a9de9[_0x367447(0x1c5)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>Rank</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>Username</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>ELO</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>Matches</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>Wins</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>Losses</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>K/D</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>Win\x20Rate</th>\x0a\x20\x20\x20\x20';const _0xb2cdd6=_0x2383f2[_0x367447(0x21b)](_0x5086b2=>{const _0x1ae0d9=_0x367447,_0x22f9ce=_0x4f4736[_0x1ae0d9(0x1e8)](_0x5086b2[_0x1ae0d9(0x236)])||{'totalMatches':0x0,'wins':0x0,'losses':0x0,'kda':0x0,'winRate':0x0,'totalKills':0x0,'totalDeaths':0x0};return createPlayerRowD3(_0x5086b2,_0x22f9ce);})[_0x367447(0x23c)]('');_0x3e83dc[_0x367447(0x1c5)]=_0xb2cdd6,getPlayersLastEloChangesD3(_0x1ffd6c)['then'](_0x14d989=>{const _0x223dfc=_0x367447,_0x3b8f66=new Map();_0x3e83dc['querySelectorAll']('tr')[_0x223dfc(0x1c8)]((_0x1833bf,_0x1fb019)=>{_0x1fb019<_0x1ffd6c['length']&&_0x3b8f66['set'](_0x1ffd6c[_0x1fb019],_0x1833bf);}),_0x14d989[_0x223dfc(0x1c8)]((_0x3c2ed9,_0x5c9fa2)=>{const _0x14edc9=_0x223dfc,_0x511e23=_0x3b8f66[_0x14edc9(0x1e8)](_0x5c9fa2);if(_0x511e23&&_0x3c2ed9!==0x0){const _0x41b590=_0x511e23[_0x14edc9(0x228)](_0x14edc9(0x1f6));if(_0x41b590){const _0x574c55=_0x3c2ed9>0x0?'+'+_0x3c2ed9:''+_0x3c2ed9,_0x46c399=_0x41b590[_0x14edc9(0x228)](_0x14edc9(0x1e9));_0x46c399&&(_0x46c399[_0x14edc9(0x20a)]=_0x574c55,_0x46c399['style']['color']=_0x3c2ed9>0x0?'#4CAF50':_0x14edc9(0x232),_0x46c399['style']['fontWeight']=_0x14edc9(0x1f7),_0x46c399[_0x14edc9(0x1bf)][_0x14edc9(0x1da)]='0.85em',_0x46c399[_0x14edc9(0x1bf)]['display']=_0x14edc9(0x1c2),_0x46c399[_0x14edc9(0x1bf)]['visibility']=_0x14edc9(0x21a),_0x46c399[_0x14edc9(0x1bf)][_0x14edc9(0x202)]='1');}}});})[_0x367447(0x1fc)](_0x306382=>console['error'](_0x367447(0x1e6),_0x306382));}async function fetchBatchMatchStatsD3(_0x4d0ad7){const _0x4bea37=a33_0x31e5d8,_0x35f1c5=new Map();try{const _0x1965e9=collection(db,_0x4bea37(0x1c9)),_0x4be443=await getDocs(_0x1965e9);_0x4be443['forEach'](_0x4fc728=>{const _0x105251=_0x4bea37,_0x5baf65=_0x4fc728['data']();if(_0x4d0ad7[_0x105251(0x1cf)](_0x5baf65[_0x105251(0x23f)])){const _0x5e911f=_0x5baf65[_0x105251(0x23f)];!_0x35f1c5[_0x105251(0x222)](_0x5e911f)&&_0x35f1c5[_0x105251(0x1f3)](_0x5e911f,{'totalMatches':0x0,'wins':0x0,'losses':0x0,'totalKills':0x0,'totalDeaths':0x0,'kda':0x0,'winRate':0x0});const _0x32a58a=_0x35f1c5[_0x105251(0x1e8)](_0x5e911f);_0x32a58a[_0x105251(0x226)]++,_0x32a58a[_0x105251(0x1d8)]++,_0x32a58a[_0x105251(0x1eb)]+=parseInt(_0x5baf65[_0x105251(0x206)])||0x0,_0x32a58a[_0x105251(0x1d4)]+=parseInt(_0x5baf65['loserScore'])||0x0;}if(_0x4d0ad7[_0x105251(0x1cf)](_0x5baf65[_0x105251(0x1d0)])){const _0x1cc335=_0x5baf65[_0x105251(0x1d0)];!_0x35f1c5[_0x105251(0x222)](_0x1cc335)&&_0x35f1c5[_0x105251(0x1f3)](_0x1cc335,{'totalMatches':0x0,'wins':0x0,'losses':0x0,'totalKills':0x0,'totalDeaths':0x0,'kda':0x0,'winRate':0x0});const _0x2d272=_0x35f1c5['get'](_0x1cc335);_0x2d272[_0x105251(0x242)]++,_0x2d272[_0x105251(0x1d8)]++,_0x2d272[_0x105251(0x1eb)]+=parseInt(_0x5baf65['loserScore'])||0x0,_0x2d272[_0x105251(0x1d4)]+=parseInt(_0x5baf65[_0x105251(0x206)])||0x0;}}),_0x35f1c5['forEach'](_0x4e0f16=>{const _0x526664=_0x4bea37;_0x4e0f16[_0x526664(0x1dc)]=_0x4e0f16[_0x526664(0x1d4)]>0x0?(_0x4e0f16['totalKills']/_0x4e0f16[_0x526664(0x1d4)])[_0x526664(0x207)](0x2):_0x4e0f16[_0x526664(0x1eb)],_0x4e0f16[_0x526664(0x1f0)]=_0x4e0f16['totalMatches']>0x0?(_0x4e0f16[_0x526664(0x226)]/_0x4e0f16[_0x526664(0x1d8)]*0x64)[_0x526664(0x207)](0x1):0x0;});}catch(_0x245505){console[_0x4bea37(0x1e5)](_0x4bea37(0x1c7),_0x245505);}return _0x35f1c5;}function createPlayerRowD3(_0x24bcc2,_0x1921af){const _0x2a748b=a33_0x31e5d8,_0x4be09b=parseFloat(_0x24bcc2[_0x2a748b(0x23e)])||0x0;let _0x56e4f8='gray';if(_0x4be09b>=0x7d0)_0x56e4f8=_0x2a748b(0x1d5);else{if(_0x4be09b>=0x708)_0x56e4f8=_0x2a748b(0x1e0);else{if(_0x4be09b>=0x640)_0x56e4f8=_0x2a748b(0x1d6);else _0x4be09b>=0x578&&(_0x56e4f8=_0x2a748b(0x1de));}}let _0x1c3a27='';return _0x24bcc2['country']&&(_0x1c3a27=_0x2a748b(0x1fe)+_0x24bcc2[_0x2a748b(0x219)]['toLowerCase']()+_0x2a748b(0x1c3)+_0x24bcc2[_0x2a748b(0x219)]+_0x2a748b(0x238)),_0x2a748b(0x230)+_0x24bcc2['position']+_0x2a748b(0x1d2)+encodeURIComponent(_0x24bcc2['username'])+'&ladder=d3\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22color:\x20'+_0x56e4f8+_0x2a748b(0x22b)+_0x24bcc2[_0x2a748b(0x236)]+_0x2a748b(0x200)+_0x1c3a27+_0x2a748b(0x1d9)+_0x56e4f8+_0x2a748b(0x1e7)+_0x4be09b+_0x2a748b(0x1f1)+_0x1921af['totalMatches']+_0x2a748b(0x21f)+_0x1921af[_0x2a748b(0x226)]+_0x2a748b(0x21f)+_0x1921af[_0x2a748b(0x242)]+_0x2a748b(0x21f)+_0x1921af['kda']+_0x2a748b(0x21f)+_0x1921af[_0x2a748b(0x1f0)]+_0x2a748b(0x23b);}async function getPlayersLastEloChangesD3(_0x4d61e2){const _0x4e64ad=a33_0x31e5d8,_0x2f3a80=new Map();_0x4d61e2[_0x4e64ad(0x1c8)](_0xf768af=>_0x2f3a80[_0x4e64ad(0x1f3)](_0xf768af,0x0));try{console[_0x4e64ad(0x225)]('D3:\x20Looking\x20for\x20ELO\x20changes\x20for\x20users:',_0x4d61e2);const _0x845ab7=new Map(),_0x438182=await getDocs(collection(db,_0x4e64ad(0x22f)));_0x438182['forEach'](_0x184d9f=>{const _0x490b35=_0x4e64ad,_0x3b90b1=_0x184d9f[_0x490b35(0x1c6)]();_0x3b90b1[_0x490b35(0x236)]&&_0x845ab7['set'](_0x184d9f['id'],_0x3b90b1[_0x490b35(0x236)]);}),console['log'](_0x4e64ad(0x211),Array[_0x4e64ad(0x1c1)](_0x845ab7[_0x4e64ad(0x1db)]()));const _0x269c7a=collection(db,_0x4e64ad(0x1d1)),_0x5ca729=query(_0x269c7a,orderBy(_0x4e64ad(0x234),_0x4e64ad(0x22c)),limit(0x64)),_0x5b37bd=await getDocs(_0x5ca729);_0x5b37bd[_0x4e64ad(0x22d)]?console['log'](_0x4e64ad(0x1fa)):console[_0x4e64ad(0x225)](_0x4e64ad(0x205)+_0x5b37bd[_0x4e64ad(0x1d7)]+_0x4e64ad(0x1cb));const _0x49e2c8=new Map();_0x5b37bd['forEach'](_0x3246af=>{const _0x4322b9=_0x4e64ad,_0x42c48b=_0x3246af[_0x4322b9(0x1c6)]();let _0x38fa5d=null;if(_0x42c48b['username'])_0x38fa5d=_0x42c48b[_0x4322b9(0x236)];else{if(_0x42c48b[_0x4322b9(0x23d)])_0x38fa5d=_0x42c48b[_0x4322b9(0x23d)];else{if(_0x42c48b[_0x4322b9(0x237)]&&typeof _0x42c48b[_0x4322b9(0x237)]===_0x4322b9(0x20d))_0x38fa5d=_0x42c48b['player'];else{if(_0x42c48b[_0x4322b9(0x237)]&&_0x845ab7[_0x4322b9(0x222)](_0x42c48b['player']))_0x38fa5d=_0x845ab7['get'](_0x42c48b[_0x4322b9(0x237)]);else _0x42c48b['playerId']&&_0x845ab7[_0x4322b9(0x222)](_0x42c48b[_0x4322b9(0x213)])&&(_0x38fa5d=_0x845ab7[_0x4322b9(0x1e8)](_0x42c48b[_0x4322b9(0x213)]));}}}(_0x42c48b[_0x4322b9(0x236)]===_0x4322b9(0x215)||_0x42c48b[_0x4322b9(0x23d)]==='pilot'||_0x42c48b[_0x4322b9(0x237)]&&_0x845ab7[_0x4322b9(0x1e8)](_0x42c48b['player'])==='pilot')&&console[_0x4322b9(0x225)]('D3:\x20Found\x20pilot\x20entry:',_0x42c48b),_0x38fa5d&&_0x4d61e2[_0x4322b9(0x1cf)](_0x38fa5d)&&(!_0x49e2c8['has'](_0x38fa5d)&&_0x49e2c8[_0x4322b9(0x1f3)](_0x38fa5d,[]),_0x49e2c8[_0x4322b9(0x1e8)](_0x38fa5d)[_0x4322b9(0x203)]({..._0x42c48b,'timestamp':_0x42c48b['timestamp']?.[_0x4322b9(0x21d)]||0x0}));}),console['log']('D3:\x20Found\x20entries\x20for\x20'+_0x49e2c8[_0x4e64ad(0x1d7)]+_0x4e64ad(0x21c)),_0x49e2c8[_0x4e64ad(0x1c8)]((_0xe2cccc,_0x20aecf)=>{const _0x297796=_0x4e64ad;if(_0xe2cccc[_0x297796(0x1f5)]>0x0){_0xe2cccc['sort']((_0x282f2b,_0x284f25)=>_0x284f25['timestamp']-_0x282f2b['timestamp']);const _0xf78fb8=_0xe2cccc[_0x297796(0x240)](_0x54ad9d=>_0x54ad9d[_0x297796(0x22a)]!==undefined||_0x54ad9d[_0x297796(0x239)]!==undefined&&_0x54ad9d['previousElo']!==undefined);if(_0xf78fb8){let _0x46c37c;if(_0xf78fb8[_0x297796(0x22a)]!==undefined)_0x46c37c=_0xf78fb8[_0x297796(0x22a)];else _0xf78fb8[_0x297796(0x239)]!==undefined&&_0xf78fb8[_0x297796(0x201)]!==undefined&&(_0x46c37c=_0xf78fb8[_0x297796(0x239)]-_0xf78fb8[_0x297796(0x201)]);_0x46c37c!==undefined&&(_0x2f3a80[_0x297796(0x1f3)](_0x20aecf,_0x46c37c),console[_0x297796(0x225)](_0x297796(0x216)+_0x20aecf+'\x20ELO\x20change:\x20'+_0x46c37c));}}});if(_0x49e2c8[_0x4e64ad(0x1d7)]===0x0){console['log'](_0x4e64ad(0x1f8));const _0x3e1c0a=collection(db,_0x4e64ad(0x1e1)),_0x1f5b85=query(_0x3e1c0a,where(_0x4e64ad(0x1c0),'==','D3'),orderBy(_0x4e64ad(0x234),_0x4e64ad(0x22c)),limit(0x32));try{const _0x45d617=await getDocs(_0x1f5b85);console[_0x4e64ad(0x225)](_0x4e64ad(0x205)+_0x45d617[_0x4e64ad(0x1d7)]+_0x4e64ad(0x1c4)),_0x45d617[_0x4e64ad(0x1c8)](_0x18e81b=>{const _0x582f27=_0x4e64ad,_0x760ef0=_0x18e81b['data']();let _0x3486d5=_0x760ef0[_0x582f27(0x236)]||_0x760ef0[_0x582f27(0x23d)];!_0x3486d5&&_0x760ef0[_0x582f27(0x237)]&&_0x845ab7[_0x582f27(0x222)](_0x760ef0[_0x582f27(0x237)])&&(_0x3486d5=_0x845ab7[_0x582f27(0x1e8)](_0x760ef0[_0x582f27(0x237)]));if(_0x3486d5&&_0x4d61e2[_0x582f27(0x1cf)](_0x3486d5)){const _0x4b44f5=_0x760ef0[_0x582f27(0x22a)]||(_0x760ef0[_0x582f27(0x239)]!==undefined&&_0x760ef0[_0x582f27(0x201)]!==undefined?_0x760ef0[_0x582f27(0x239)]-_0x760ef0['previousElo']:0x0);_0x4b44f5!==0x0&&(_0x2f3a80[_0x582f27(0x1f3)](_0x3486d5,_0x4b44f5),console[_0x582f27(0x225)](_0x582f27(0x216)+_0x3486d5+_0x582f27(0x1df)+_0x4b44f5));}});}catch(_0x2d3278){console['log'](_0x4e64ad(0x204),_0x2d3278);}}const _0x19c7a3=Array[_0x4e64ad(0x1c1)](_0x2f3a80[_0x4e64ad(0x1db)]())[_0x4e64ad(0x224)](([_0x51ee61,_0xd1eb5c])=>_0xd1eb5c!==0x0);console[_0x4e64ad(0x225)](_0x4e64ad(0x1f9),_0x19c7a3);}catch(_0x20e0ac){console[_0x4e64ad(0x1e5)](_0x4e64ad(0x233),_0x20e0ac);}return _0x2f3a80;}export{displayLadderD3,updatePlayerPositions};