const a22_0x124a5a=a22_0x1fbd,a22_0xe50658=(function(){let _0xeeff49=!![];return function(_0x1dbb5d,_0x424374){const _0x2c34a6=_0xeeff49?function(){const _0x51d44a=a22_0x1fbd;if(_0x424374){const _0x3668e3=_0x424374[_0x51d44a(0x1d5)](_0x1dbb5d,arguments);return _0x424374=null,_0x3668e3;}}:function(){};return _0xeeff49=![],_0x2c34a6;};}()),a22_0x798224=a22_0xe50658(this,function(){const _0x2a75d8=a22_0x1fbd,_0x518029=function(){const _0x14548b=a22_0x1fbd;let _0xe175ea;try{_0xe175ea=Function('return\x20(function()\x20'+_0x14548b(0x1e2)+');')();}catch(_0x1d975a){_0xe175ea=window;}return _0xe175ea;},_0x133605=_0x518029(),_0x826997=_0x133605[_0x2a75d8(0x200)]=_0x133605[_0x2a75d8(0x200)]||{},_0x20df65=['log','warn',_0x2a75d8(0x1cc),'error',_0x2a75d8(0x1f1),_0x2a75d8(0x1ea),'trace'];for(let _0x482ad1=0x0;_0x482ad1<_0x20df65['length'];_0x482ad1++){const _0x2542bb=a22_0xe50658[_0x2a75d8(0x1fe)]['prototype']['bind'](a22_0xe50658),_0x7d9d59=_0x20df65[_0x482ad1],_0x4b1b61=_0x826997[_0x7d9d59]||_0x2542bb;_0x2542bb['__proto__']=a22_0xe50658[_0x2a75d8(0x20b)](a22_0xe50658),_0x2542bb['toString']=_0x4b1b61['toString']['bind'](_0x4b1b61),_0x826997[_0x7d9d59]=_0x2542bb;}});a22_0x798224();import{auth,db}from'./firebase-config.js';function a22_0x1fbd(_0x569f3f,_0x46cfae){const _0x798224=a22_0x5f37();return a22_0x1fbd=function(_0xe50658,_0x385592){_0xe50658=_0xe50658-0x1cb;let _0x5f37a2=_0x798224[_0xe50658];return _0x5f37a2;},a22_0x1fbd(_0x569f3f,_0x46cfae);}import{collection,query,where,orderBy,getDocs,doc,updateDoc,onSnapshot,limit,startAfter}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';function a22_0x5f37(){const _0x31264c=['sentInvitations','info','Invitations\x20you\x20send\x20to\x20other\x20players\x20will\x20appear\x20here.','getElementById','init','modal-styles','Failed\x20to\x20create\x20team:\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','querySelectorAll','declined','apply','m\x20ago','d\x20ago','outbox','find','appendChild','fromUserId','teamColor','all','toDate','renderInvitations','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pending','{}.constructor(\x22return\x20this\x22)(\x20)','sent','createdAt','textContent','decline','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','getTimeAgo','setupActionListeners','table','\x22\x20created\x20successfully!','floor','invitations','lastDoc','pageSize','./ladderduos.js','exception','Error\x20updating\x20invitation\x20status:','currentFilter','fromUsername','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22modal-close\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-body\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Regarding\x20invitation\x20to:\x20<strong>','status','toUserId','unsubscribe','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-reply\x22></i>\x20Send\x20Message\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-invitation-id=\x22','updateInvitationStatus','disabled','createInvitationCard','constructor','invitationId','console','teamData','classList','dataset','display','accept','loadInvitations','cancelled','createElement','DOMContentLoaded','team_invite','bind','proposedTeamName','openResponseModal','innerHTML','click'];a22_0x5f37=function(){return _0x31264c;};return a22_0x5f37();}class InboxManager{constructor(){const _0x217f7a=a22_0x1fbd;this['currentFilter']='pending',this['invitations']=[],this['sentInvitations']=[],this[_0x217f7a(0x1f8)]=null,this['sentUnsubscribe']=null,this[_0x217f7a(0x1ef)]=0x14,this[_0x217f7a(0x1ee)]=null,this['hasMore']=!![],this[_0x217f7a(0x1cf)]();}async['init'](){auth['onAuthStateChanged'](_0x5561ef=>{_0x5561ef?(this['loadInvitations'](_0x5561ef['uid']),this['setupEventListeners']()):window['location']['href']='./login.html';});}['setupEventListeners'](){document['querySelectorAll']('.filter-btn')['forEach'](_0x538b99=>{_0x538b99['addEventListener']('click',()=>{const _0x4b94bc=a22_0x1fbd;document[_0x4b94bc(0x1d3)]('.filter-btn')['forEach'](_0x49ac52=>_0x49ac52[_0x4b94bc(0x202)]['remove']('active')),_0x538b99[_0x4b94bc(0x202)]['add']('active'),this[_0x4b94bc(0x1f3)]=_0x538b99['dataset']['filter'],this['renderInvitations']();});});}[a22_0x124a5a(0x206)](_0x48c7d1){const _0x21fceb=a22_0x124a5a,_0x11f561=collection(db,'gameInvitations');let _0x57c6c8=query(_0x11f561,where(_0x21fceb(0x1f7),'==',_0x48c7d1),orderBy(_0x21fceb(0x1e4),'desc'),limit(this['pageSize']));this['unsubscribe']=onSnapshot(_0x57c6c8,_0x4ff5b1=>{this['invitations']=_0x4ff5b1['docs']['map'](_0x3a38cf=>({'id':_0x3a38cf['id'],..._0x3a38cf['data']()})),this['renderInvitations'](),this['updateNotificationCount']();});let _0x170946=query(_0x11f561,where(_0x21fceb(0x1db),'==',_0x48c7d1),orderBy('createdAt','desc'),limit(this[_0x21fceb(0x1ef)]));this['sentUnsubscribe']=onSnapshot(_0x170946,_0x5863c4=>{this['sentInvitations']=_0x5863c4['docs']['map'](_0x2b7d12=>({'id':_0x2b7d12['id'],..._0x2b7d12['data'](),'isSent':!![]})),this['renderInvitations']();});}[a22_0x124a5a(0x1df)](){const _0x57098b=a22_0x124a5a,_0x6e53e4=document['getElementById']('inbox-content');if(!_0x6e53e4)return;let _0x543f42=[];if(this[_0x57098b(0x1f3)]===_0x57098b(0x1d8))_0x543f42=this[_0x57098b(0x1cb)];else this['currentFilter']===_0x57098b(0x1dd)?_0x543f42=[...this['invitations'],...this[_0x57098b(0x1cb)]]['sort']((_0x310adf,_0x129d81)=>{const _0x3a740e=_0x57098b,_0x117901=_0x310adf['createdAt']?.[_0x3a740e(0x1de)]?_0x310adf[_0x3a740e(0x1e4)]['toDate']():new Date(_0x310adf['createdAt']),_0x239064=_0x129d81['createdAt']?.['toDate']?_0x129d81['createdAt'][_0x3a740e(0x1de)]():new Date(_0x129d81['createdAt']);return _0x239064-_0x117901;}):_0x543f42=this['invitations']['filter'](_0x456a72=>_0x456a72['status']===this['currentFilter']);if(_0x543f42['length']===0x0){const _0x4062fc=this['currentFilter']==='outbox'?_0x57098b(0x1e3):this[_0x57098b(0x1f3)]==='all'?'':this['currentFilter'];_0x6e53e4[_0x57098b(0x20e)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22empty-inbox\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-inbox\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>No\x20'+_0x4062fc+'\x20invitations</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(this[_0x57098b(0x1f3)]==='outbox'?_0x57098b(0x1cd):'When\x20other\x20players\x20invite\x20you\x20to\x20games,\x20they\x27ll\x20appear\x20here.')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';return;}_0x6e53e4[_0x57098b(0x20e)]=_0x543f42['map'](_0x3e9c2e=>this[_0x57098b(0x1fd)](_0x3e9c2e))['join'](''),this['setupActionListeners']();}['createInvitationCard'](_0x219182){const _0x793cd7=a22_0x124a5a,_0x293580=_0x219182[_0x793cd7(0x1e4)]?.[_0x793cd7(0x1de)]?_0x219182['createdAt']['toDate']():new Date(_0x219182['createdAt']),_0x51f6d0=this[_0x793cd7(0x1e8)](_0x293580),_0x5f3bf3=_0x219182['isSent']||![];let _0x16cb91='';return _0x219182['type']==='team_invite'?_0x16cb91='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+_0x219182['message']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22team-invite-preview\x22\x20style=\x22background:\x20#1a1a1a;\x20padding:\x201rem;\x20border-radius:\x204px;\x20margin:\x200.5rem\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20style=\x22color:\x20'+_0x219182['teamData']['teamColor']+';\x20margin:\x200\x200\x200.5rem\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x219182[_0x793cd7(0x201)]['proposedTeamName']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22color:\x20#888;\x20font-size:\x200.9em;\x20margin:\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Duos\x20Ladder\x20Team\x20â€¢\x20Color:\x20'+_0x219182['teamData'][_0x793cd7(0x1dc)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x16cb91='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+_0x219182['message']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-card\x20'+_0x219182['status']+'\x20'+(_0x5f3bf3?'sent-invitation':'')+_0x793cd7(0x1fa)+_0x219182['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-from\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5f3bf3?'To:\x20'+_0x219182['toUsername']:_0x219182[_0x793cd7(0x1f4)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5f3bf3?'<span\x20class=\x22sent-indicator\x22><i\x20class=\x22fas\x20fa-paper-plane\x22></i>\x20Sent</span>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-time\x22>'+_0x51f6d0+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22status-badge\x20status-'+_0x219182[_0x793cd7(0x1f6)]+'\x22>'+_0x219182['status']+_0x793cd7(0x1e0)+_0x16cb91+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x5f3bf3&&_0x219182['status']==='pending'?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20accept-btn\x22\x20data-action=\x22accept\x22\x20data-invitation-id=\x22'+_0x219182['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20Accept\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20decline-btn\x22\x20data-action=\x22decline\x22\x20data-invitation-id=\x22'+_0x219182['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20Decline\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x219182['type']!=='team_invite'?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20respond-btn\x22\x20data-action=\x22respond\x22\x20data-invitation-id=\x22'+_0x219182['id']+_0x793cd7(0x1f9):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5f3bf3&&_0x219182['status']==='pending'?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20cancel-btn\x22\x20data-action=\x22cancel\x22\x20data-invitation-id=\x22'+_0x219182['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20Cancel\x20Invitation\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+_0x793cd7(0x1e7);}[a22_0x124a5a(0x1e9)](){const _0x398888=a22_0x124a5a;document[_0x398888(0x1d3)]('.action-btn')['forEach'](_0x145366=>{_0x145366['addEventListener']('click',async _0x136fcf=>{const _0x3f1e6c=a22_0x1fbd,_0x2e0744=_0x145366['dataset']['action'],_0x2dd256=_0x145366[_0x3f1e6c(0x203)][_0x3f1e6c(0x1ff)];_0x145366['disabled']=!![];const _0x55938c=_0x145366['innerHTML'];_0x145366['innerHTML']=_0x3f1e6c(0x1d2);try{switch(_0x2e0744){case _0x3f1e6c(0x205):await this['updateInvitationStatus'](_0x2dd256,'accepted');break;case _0x3f1e6c(0x1e6):await this['updateInvitationStatus'](_0x2dd256,_0x3f1e6c(0x1d4));break;case'cancel':await this[_0x3f1e6c(0x1fb)](_0x2dd256,_0x3f1e6c(0x207));break;case'respond':this[_0x3f1e6c(0x20d)](_0x2dd256);break;}}catch(_0x51490c){console['error']('Error\x20performing\x20'+_0x2e0744+':',_0x51490c),alert('Failed\x20to\x20'+_0x2e0744+'\x20invitation.\x20Please\x20try\x20again.');}finally{_0x145366[_0x3f1e6c(0x1fc)]=![],_0x145366['innerHTML']=_0x55938c;}});});}async['updateInvitationStatus'](_0xbe9b70,_0x3df4ed){const _0x53862d=a22_0x124a5a;try{const _0x34f22b=this[_0x53862d(0x1ed)]['find'](_0x158c31=>_0x158c31['id']===_0xbe9b70);_0x34f22b&&_0x34f22b['type']===_0x53862d(0x20a)&&_0x3df4ed==='accepted'&&await this['createTeamFromInvitation'](_0x34f22b);const _0x5c811d=doc(db,'gameInvitations',_0xbe9b70);await updateDoc(_0x5c811d,{'status':_0x3df4ed,'respondedAt':new Date()}),_0x34f22b&&(_0x34f22b['status']=_0x3df4ed,_0x34f22b['respondedAt']=new Date(),this['renderInvitations']());}catch(_0xe2eefb){console['error'](_0x53862d(0x1f2),_0xe2eefb);throw _0xe2eefb;}}['openResponseModal'](_0x2b9135){const _0x16639d=a22_0x124a5a,_0x31729e=this[_0x16639d(0x1ed)][_0x16639d(0x1d9)](_0x48d8d8=>_0x48d8d8['id']===_0x2b9135);if(!_0x31729e)return;const _0x28c94e=document[_0x16639d(0x208)]('div');_0x28c94e['className']='modal-overlay',_0x28c94e['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Send\x20Message\x20to\x20'+_0x31729e[_0x16639d(0x1f4)]+_0x16639d(0x1f5)+_0x31729e['value']+'</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22response-message\x22\x20placeholder=\x22Type\x20your\x20message\x20here...\x22\x20rows=\x224\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20respond-btn\x22\x20id=\x22send-response\x22>Send\x20Message</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x22\x20id=\x22cancel-response\x22>Cancel</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';if(!document[_0x16639d(0x1ce)](_0x16639d(0x1d0))){const _0x1ccfab=document[_0x16639d(0x208)]('style');_0x1ccfab['id']='modal-styles',_0x1ccfab['textContent']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-overlay\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20right:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.8);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-content\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#2a2a2a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2090%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20500px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-height:\x2090vh;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20overflow-y:\x20auto;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-header\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20space-between;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-close\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x201.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-body\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-body\x20textarea\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#1a1a1a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resize:\x20vertical;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-footer\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-top:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document['head']['appendChild'](_0x1ccfab);}document['body'][_0x16639d(0x1da)](_0x28c94e),_0x28c94e['querySelector']('.modal-close')['addEventListener']('click',()=>_0x28c94e['remove']()),_0x28c94e['querySelector']('#cancel-response')['addEventListener']('click',()=>_0x28c94e['remove']()),_0x28c94e['addEventListener'](_0x16639d(0x20f),_0x2a5a03=>{if(_0x2a5a03['target']===_0x28c94e)_0x28c94e['remove']();}),_0x28c94e['querySelector']('#send-response')['addEventListener'](_0x16639d(0x20f),()=>{const _0x19fa9e=document['getElementById']('response-message')['value']['trim']();_0x19fa9e&&(alert('Message\x20sent!\x20(Feature\x20will\x20be\x20fully\x20implemented\x20in\x20future\x20update)'),_0x28c94e['remove']());});}async['createTeamFromInvitation'](_0x371319){const _0xbe80be=a22_0x124a5a;try{const {createTeam:_0x105496}=await import(_0xbe80be(0x1f0)),_0x1e680f=await _0x105496(_0x371319['fromUsername'],_0x371319['toUsername'],_0x371319['teamData'][_0xbe80be(0x20c)],_0x371319['teamData']['teamColor']);if(!_0x1e680f['success'])throw new Error(_0x1e680f['error']);alert('Team\x20\x22'+_0x371319['teamData']['proposedTeamName']+_0xbe80be(0x1eb));}catch(_0xc49bc){console['error']('Error\x20creating\x20team:',_0xc49bc);throw new Error(_0xbe80be(0x1d1)+_0xc49bc['message']);}}['updateNotificationCount'](){const _0x26b8d5=a22_0x124a5a,_0xfdf97b=this[_0x26b8d5(0x1ed)]['filter'](_0x8f7636=>_0x8f7636[_0x26b8d5(0x1f6)]===_0x26b8d5(0x1e1))['length'],_0x5ea957=document['getElementById']('inbox-notification');_0x5ea957&&(_0xfdf97b>0x0?(_0x5ea957['style'][_0x26b8d5(0x204)]='inline-block',_0x5ea957[_0x26b8d5(0x1e5)]=_0xfdf97b>0x9?'9+':_0xfdf97b):_0x5ea957['style']['display']='none');}[a22_0x124a5a(0x1e8)](_0x1c55f9){const _0x1ace8f=a22_0x124a5a,_0x33961c=new Date(),_0x290a31=_0x33961c-_0x1c55f9,_0x3adc84=Math['floor'](_0x290a31/(0x3e8*0x3c)),_0x38f019=Math['floor'](_0x290a31/(0x3e8*0x3c*0x3c)),_0x26de71=Math[_0x1ace8f(0x1ec)](_0x290a31/(0x3e8*0x3c*0x3c*0x18));if(_0x3adc84<0x1)return'Just\x20now';if(_0x3adc84<0x3c)return _0x3adc84+_0x1ace8f(0x1d6);if(_0x38f019<0x18)return _0x38f019+'h\x20ago';if(_0x26de71<0x7)return _0x26de71+_0x1ace8f(0x1d7);return _0x1c55f9['toLocaleDateString']();}['destroy'](){const _0x31b0a0=a22_0x124a5a;this['unsubscribe']&&this[_0x31b0a0(0x1f8)](),this['sentUnsubscribe']&&this['sentUnsubscribe']();}}document['addEventListener'](a22_0x124a5a(0x209),()=>{new InboxManager();});