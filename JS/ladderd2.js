const a30_0x80752b=(function(){let _0x24c31b=!![];return function(_0x16dbc0,_0x58dfa6){const _0x664320=_0x24c31b?function(){const _0x27e9a0=a30_0x394a;if(_0x58dfa6){const _0x29f5ae=_0x58dfa6[_0x27e9a0(0x84)](_0x16dbc0,arguments);return _0x58dfa6=null,_0x29f5ae;}}:function(){};return _0x24c31b=![],_0x664320;};}()),a30_0x3f8d77=a30_0x80752b(this,function(){const _0x1c778b=a30_0x394a,_0x4a5f93=function(){const _0x11c4f0=a30_0x394a;let _0x1ade07;try{_0x1ade07=Function(_0x11c4f0(0xa3)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x13b443){_0x1ade07=window;}return _0x1ade07;},_0x19faaf=_0x4a5f93(),_0x53305f=_0x19faaf['console']=_0x19faaf[_0x1c778b(0x8f)]||{},_0x3f807d=['log','warn','info','error','exception','table','trace'];for(let _0x247957=0x0;_0x247957<_0x3f807d['length'];_0x247957++){const _0x47a661=a30_0x80752b['constructor'][_0x1c778b(0x9d)][_0x1c778b(0x6f)](a30_0x80752b),_0x38409b=_0x3f807d[_0x247957],_0x1d91f3=_0x53305f[_0x38409b]||_0x47a661;_0x47a661['__proto__']=a30_0x80752b['bind'](a30_0x80752b),_0x47a661[_0x1c778b(0x94)]=_0x1d91f3[_0x1c778b(0x94)]['bind'](_0x1d91f3),_0x53305f[_0x38409b]=_0x47a661;}});a30_0x3f8d77();import{collection,getDocs,doc,getDoc,query,where,updateDoc,Timestamp,orderBy,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db}from'./firebase-config.js';import a30_0x46b51f from'./firebase-idle-wrapper.js';function a30_0x394a(_0x1e1e01,_0x5ea19e){const _0x3f8d77=a30_0x5458();return a30_0x394a=function(_0x80752b,_0x4a3ce1){_0x80752b=_0x80752b-0x6f;let _0x545857=_0x3f8d77[_0x80752b];return _0x545857;},a30_0x394a(_0x1e1e01,_0x5ea19e);}import{getTokensByUsernames,getPrimaryDisplayToken,clearTokenCache}from'./tokens.js';const playerCacheD2={'data':null,'timestamp':0x0},CACHE_DURATION=0x7530;async function displayLadderD2(_0x4f4989=![]){const _0x2edf42=a30_0x394a,_0x33a117=document['querySelector']('#ladder-d2\x20tbody');if(!_0x33a117){console['error']('D2\x20Ladder\x20table\x20body\x20not\x20found');return;}_0x33a117[_0x2edf42(0x83)]='<tr><td\x20colspan=\x228\x22\x20class=\x22loading-cell\x22>Loading\x20D2\x20ladder\x20data...</td></tr>';try{const _0x3aeb1b=Date['now']();if(!_0x4f4989&&playerCacheD2['data']&&_0x3aeb1b-playerCacheD2['timestamp']<CACHE_DURATION){updateLadderDisplayD2(playerCacheD2[_0x2edf42(0x9c)]);return;}const _0x477acb=collection(db,'playersD2'),_0x547d7b=await a30_0x46b51f['getDocuments'](_0x477acb),_0x349b4f=[];_0x547d7b[_0x2edf42(0x70)](_0x2a6a24=>{const _0x54b92d=_0x2a6a24['data']();_0x54b92d['username']&&_0x349b4f['push']({..._0x54b92d,'id':_0x2a6a24['id'],'elo':_0x54b92d['eloRating']||0x0,'position':_0x54b92d['position']||Number['MAX_SAFE_INTEGER']});});const _0xe274f8=collection(db,'userProfiles'),_0x3678c3=await getDocs(_0xe274f8),_0x1c6088=new Map();_0x3678c3['forEach'](_0x5a1904=>{const _0x4a891e=_0x2edf42,_0x1c3175=_0x5a1904['data']();_0x1c3175['username']&&_0x1c6088['set'](_0x1c3175['username'][_0x4a891e(0x71)](),_0x1c3175);});for(const _0x18e934 of _0x349b4f){const _0x22a042=_0x18e934['username']['toLowerCase']();if(_0x1c6088['has'](_0x22a042)){const _0x339ebe=_0x1c6088['get'](_0x22a042);_0x339ebe[_0x2edf42(0x8a)]&&(_0x18e934[_0x2edf42(0x8a)]=_0x339ebe['country']['toLowerCase']());}}const _0x207786=_0x349b4f['map'](_0x2d3737=>_0x2d3737[_0x2edf42(0xa9)]),_0x134d01=await fetchBatchMatchStatsD2(_0x207786);_0x349b4f['sort']((_0x11cbd3,_0x6a868e)=>{const _0x136aa4=_0x2edf42,_0x584c96=_0x134d01[_0x136aa4(0x86)](_0x11cbd3['username'])?.[_0x136aa4(0x72)]||0x0,_0x1eb7d4=_0x134d01['get'](_0x6a868e['username'])?.['totalMatches']||0x0;if(_0x584c96===0x0!==(_0x1eb7d4===0x0))return _0x584c96===0x0?0x1:-0x1;return(_0x11cbd3['position']||0x3e7)-(_0x6a868e['position']||0x3e7);}),_0x349b4f['forEach']((_0x54a65b,_0x324d7f)=>{_0x54a65b['position']=_0x324d7f+0x1;}),playerCacheD2['data']=_0x349b4f,playerCacheD2['timestamp']=_0x3aeb1b,updateLadderDisplayD2(_0x349b4f);}catch(_0x4017f4){console['error']('Error\x20loading\x20D2\x20ladder:',_0x4017f4),_0x33a117['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x228\x22\x20style=\x22text-align:\x20center;\x20color:\x20red;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20D2\x20ladder\x20data:\x20'+_0x4017f4[_0x2edf42(0x96)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}function getNextAvailablePositionD2(_0x379ad8){if(_0x379ad8['length']===0x0)return 0x1;let _0x187624=0x0;return _0x379ad8['forEach'](_0x584a58=>{const _0x182896=a30_0x394a;_0x584a58['position']&&typeof _0x584a58[_0x182896(0xa5)]===_0x182896(0x89)&&_0x584a58['position']>_0x187624&&(_0x187624=_0x584a58['position']);}),_0x187624+0x1;}async function updatePlayerPositions(_0x495140,_0x194c2d){const _0x3e9189=a30_0x394a;try{const _0x5e8ae3=collection(db,'playersD2'),_0x479f3f=await getDocs(_0x5e8ae3),_0x2383a7=[];_0x479f3f[_0x3e9189(0x70)](_0x163553=>{_0x2383a7['push']({'id':_0x163553['id'],..._0x163553['data']()});});const _0x475f77=_0x2383a7[_0x3e9189(0xac)](_0x34c4df=>_0x34c4df[_0x3e9189(0xa9)]===_0x495140),_0x2a49ce=_0x2383a7['find'](_0x4e512a=>_0x4e512a['username']===_0x194c2d);if(!_0x475f77||!_0x2a49ce){console[_0x3e9189(0x73)](_0x3e9189(0x8b));return;}if(_0x475f77['position']>_0x2a49ce['position']){const _0x3e7cae=_0x2a49ce['position'];for(const _0x59faa3 of _0x2383a7){_0x59faa3[_0x3e9189(0xa5)]>=_0x2a49ce['position']&&_0x59faa3['position']<_0x475f77[_0x3e9189(0xa5)]&&_0x59faa3[_0x3e9189(0xa9)]!==_0x495140&&await updateDoc(doc(db,_0x3e9189(0x90),_0x59faa3['id']),{'position':_0x59faa3['position']+0x1});}await updateDoc(doc(db,'playersD2',_0x475f77['id']),{'position':_0x3e7cae});if(_0x3e7cae===0x1){const _0x4155ac=doc(db,_0x3e9189(0x90),_0x475f77['id']),_0x175e67=await getDoc(_0x4155ac);!_0x175e67['data']()['firstPlaceDate']&&await updateDoc(_0x4155ac,{'firstPlaceDate':Timestamp[_0x3e9189(0x7d)]()});}if(_0x2a49ce[_0x3e9189(0xa5)]===0x1){const _0x2d5224=doc(db,'playersD2',_0x2a49ce['id']);await updateDoc(_0x2d5224,{'firstPlaceDate':null});}playerCacheD2['timestamp']=0x0;}}catch(_0x5caee6){console['error'](_0x3e9189(0x88),_0x5caee6);}}function getPlayerRankNameD2(_0x346d5b){const _0x3c2c6b=a30_0x394a;if(_0x346d5b>=0x834)return _0x3c2c6b(0x8d);if(_0x346d5b>=0x708)return _0x3c2c6b(0x97);if(_0x346d5b>=0x640)return _0x3c2c6b(0x7e);if(_0x346d5b>=0x578)return'Bronze';return'Unranked';}window['refreshLadderDisplayD2']=function(_0x448b48=!![]){const _0x59be40=a30_0x394a;typeof displayLadderD2==='function'?displayLadderD2(_0x448b48):console[_0x59be40(0x9a)](_0x59be40(0x78));};async function updateLadderDisplayD2(_0x3f180c){const _0x324339=a30_0x394a;_0x3f180c['sort']((_0x8183a9,_0x402336)=>_0x8183a9['position']-_0x402336['position']);const _0x19151e=document['querySelector'](_0x324339(0xa6));if(!_0x19151e)return;_0x19151e['innerHTML']='';const _0xf0b8f8=_0x3f180c['map'](_0x4bdb19=>_0x4bdb19[_0x324339(0xa9)]),_0x119298=await fetchBatchMatchStatsD2(_0xf0b8f8);let _0x4ade7f=new Map();try{typeof clearTokenCache==='function'&&clearTokenCache(),_0x4ade7f=await getTokensByUsernames(_0xf0b8f8);}catch(_0x3db771){console['error'](_0x324339(0x99),_0x3db771);}const _0x320af0=document[_0x324339(0x93)]('#ladder-d2\x20thead\x20tr');_0x320af0&&(_0x320af0['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Rank</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Username</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>ELO</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Matches</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Wins</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Losses</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>K/D</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Win\x20Rate</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');const _0x5a62b1=_0x3f180c['map'](_0xa77ffa=>{const _0x107b45=_0x324339,_0x482955=_0x119298['get'](_0xa77ffa['username'])||{'totalMatches':0x0,'wins':0x0,'losses':0x0,'kda':0x0,'winRate':0x0,'totalKills':0x0,'totalDeaths':0x0},_0x38016a=_0x4ade7f[_0x107b45(0x86)](_0xa77ffa['username'])||[],_0x12b637=getPrimaryDisplayToken(_0x38016a);return createPlayerRowWithTokenD2(_0xa77ffa,_0x482955,_0x12b637);})[_0x324339(0x9b)]('');_0x19151e['innerHTML']=_0x5a62b1,getPlayersLastEloChangesD2(_0xf0b8f8)['then'](_0x1a56f4=>{const _0x387247=new Map();_0x19151e['querySelectorAll']('tr')['forEach']((_0x24bbe3,_0x530a7b)=>{_0x530a7b<_0xf0b8f8['length']&&_0x387247['set'](_0xf0b8f8[_0x530a7b],_0x24bbe3);}),_0x1a56f4['forEach']((_0x1f48fe,_0x4a4a8a)=>{const _0x50eed3=a30_0x394a,_0x45e941=_0x387247[_0x50eed3(0x86)](_0x4a4a8a);if(_0x45e941&&_0x1f48fe!==0x0){const _0xe138d7=_0x45e941['querySelector'](_0x50eed3(0x95));if(_0xe138d7){const _0x2c6cfa=_0x1f48fe>0x0?'+'+_0x1f48fe:''+_0x1f48fe,_0x5bbecb=_0xe138d7['querySelector']('.trend-indicator');_0x5bbecb&&(_0x5bbecb['textContent']=_0x2c6cfa,_0x5bbecb['style']['color']=_0x1f48fe>0x0?'#4CAF50':_0x50eed3(0x74),_0x5bbecb['style']['fontWeight']='bold',_0x5bbecb[_0x50eed3(0x9e)]['fontSize']='0.85em',_0x5bbecb['style'][_0x50eed3(0x91)]=_0x50eed3(0x76),_0x5bbecb['style']['visibility']='visible',_0x5bbecb['style']['opacity']='1');}}});})[_0x324339(0x81)](_0x58b92f=>console['error'](_0x324339(0x92),_0x58b92f));}function createPlayerRowWithTokenD2(_0x5e28f2,_0x50df0e,_0x13b181){const _0x16ee5d=a30_0x394a,_0x29fd61=parseFloat(_0x5e28f2['elo'])||0x0;let _0x401511='gray';if(_0x29fd61>=0x7d0)_0x401511='#50C878';else{if(_0x29fd61>=0x708)_0x401511='#FFD700';else{if(_0x29fd61>=0x640)_0x401511=_0x16ee5d(0x98);else _0x29fd61>=0x578&&(_0x401511='#CD7F32');}}let _0x450ec6='';_0x5e28f2['country']&&(_0x450ec6='<img\x20src=\x22../images/flags/'+_0x5e28f2['country']['toLowerCase']()+'.png\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22'+_0x5e28f2['country']+_0x16ee5d(0xa2));let _0x14095d='';return _0x13b181&&(_0x14095d='<img\x20src=\x22'+_0x13b181['tokenImage']+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22'+_0x13b181['tokenName']+_0x16ee5d(0xa0)+_0x13b181['tokenName']+'\x20'+(_0x13b181['equipped']?'(Equipped)':'')+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22width:\x2035px;\x20height:\x2035px;\x20margin-left:\x205px;\x20vertical-align:\x20middle;\x20object-fit:\x20contain;\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>'),_0x16ee5d(0x9f)+_0x5e28f2['position']+_0x16ee5d(0x77)+encodeURIComponent(_0x5e28f2['username'])+'&ladder=d2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22color:\x20'+_0x401511+';\x20text-decoration:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5e28f2['username']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x450ec6+_0x16ee5d(0x7b)+_0x14095d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22color:\x20'+_0x401511+_0x16ee5d(0x7c)+_0x29fd61+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22trend-indicator\x22\x20style=\x22margin-left:\x205px;\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x50df0e['totalMatches']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x50df0e[_0x16ee5d(0xa4)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x50df0e['losses']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x50df0e['kda']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x50df0e['winRate']+'%</td>\x0a\x20\x20\x20\x20</tr>';}async function getPlayersLastEloChangesD2(_0x1d7bde){const _0x4a0d06=a30_0x394a,_0x26f496=new Map();_0x1d7bde[_0x4a0d06(0x70)](_0xf95750=>_0x26f496['set'](_0xf95750,0x0));try{const _0x45ea31=collection(db,'eloHistoryD2'),_0x3476ec=query(_0x45ea31,orderBy('timestamp','desc'),limit(0x64)),_0x5d6959=await getDocs(_0x3476ec),_0x5fa1b3=new Map(),_0x27550f=await getDocs(collection(db,_0x4a0d06(0x90)));_0x27550f['forEach'](_0x2c3e0b=>{const _0x5d45fc=_0x4a0d06,_0x4009b7=_0x2c3e0b['data']();_0x4009b7[_0x5d45fc(0xa9)]&&_0x5fa1b3['set'](_0x2c3e0b['id'],_0x4009b7['username']);});const _0x420439=new Map();_0x5d6959['forEach'](_0x2267f5=>{const _0xacab12=_0x4a0d06,_0x4df221=_0x2267f5['data']();let _0x4da5ca=_0x4df221['username']||_0x4df221['playerUsername'];!_0x4da5ca&&_0x4df221[_0xacab12(0xaa)]&&_0x5fa1b3['has'](_0x4df221['player'])&&(_0x4da5ca=_0x5fa1b3['get'](_0x4df221['player'])),_0x4da5ca&&_0x1d7bde[_0xacab12(0x8e)](_0x4da5ca)&&(!_0x420439['has'](_0x4da5ca)&&_0x420439['set'](_0x4da5ca,[]),_0x420439[_0xacab12(0x86)](_0x4da5ca)[_0xacab12(0x8c)]({..._0x4df221,'timestamp':_0x4df221[_0xacab12(0x75)]?.['seconds']||0x0,'username':_0x4da5ca}));}),_0x420439['forEach']((_0x2e547f,_0x30057c)=>{const _0x5a5da1=_0x4a0d06;if(_0x2e547f[_0x5a5da1(0xab)]>0x0){_0x2e547f['sort']((_0x5142e0,_0x1f9fd0)=>_0x1f9fd0['timestamp']-_0x5142e0['timestamp']);const _0x5814f4=_0x2e547f[_0x5a5da1(0xac)](_0x1754ac=>_0x1754ac['change']!==undefined||_0x1754ac['newElo']!==undefined&&_0x1754ac[_0x5a5da1(0x7a)]!==undefined);if(_0x5814f4){let _0x2095e7;if(_0x5814f4[_0x5a5da1(0xa8)]!==undefined)_0x2095e7=_0x5814f4[_0x5a5da1(0xa8)];else _0x5814f4['newElo']!==undefined&&_0x5814f4['previousElo']!==undefined&&(_0x2095e7=_0x5814f4['newElo']-_0x5814f4['previousElo']);_0x2095e7!==undefined&&_0x26f496[_0x5a5da1(0x80)](_0x30057c,_0x2095e7);}}});if(_0x420439['size']===0x0){const _0x1b1fb3=collection(db,'eloHistory'),_0x29012d=query(_0x1b1fb3,where(_0x4a0d06(0xa7),'==','D2'),orderBy('timestamp','desc'),limit(0x32));try{const _0x55db15=await getDocs(_0x29012d);_0x55db15['forEach'](_0x1ddc5f=>{const _0x4f82e6=_0x4a0d06,_0x15d342=_0x1ddc5f['data'](),_0x17f853=_0x15d342['username']||_0x15d342[_0x4f82e6(0x85)];if(_0x17f853&&_0x1d7bde['includes'](_0x17f853)){const _0x5e3131=_0x15d342['change']||(_0x15d342['newElo']!==undefined&&_0x15d342['previousElo']!==undefined?_0x15d342['newElo']-_0x15d342['previousElo']:0x0);_0x5e3131!==0x0&&_0x26f496['set'](_0x17f853,_0x5e3131);}});}catch(_0x4bbe62){}}}catch(_0x23427c){console['error']('D2:\x20Error\x20fetching\x20ELO\x20history:',_0x23427c);}return _0x26f496;}function a30_0x5458(){const _0x17f515=['bind','forEach','toLowerCase','totalMatches','error','#F44336','timestamp','inline','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22profile.html?username=','displayLadderD2\x20function\x20not\x20available','toFixed','previousElo','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',';\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22elo-container\x22\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22elo-value\x22>','now','Silver','totalKills','set','catch','kda','innerHTML','apply','playerUsername','get','totalDeaths','Error\x20updating\x20D2\x20player\x20positions:','number','country','Could\x20not\x20find\x20winner\x20or\x20loser\x20in\x20D2\x20players\x20list','push','Emerald','includes','console','playersD2','display','Error\x20updating\x20D2\x20ELO\x20trend\x20indicators:','querySelector','toString','td:nth-child(3)','message','Gold','#b9f1fc','D2:\x20Error\x20fetching\x20tokens:','warn','join','data','prototype','style','\x0a\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22player-token\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20title=\x22','approvedMatchesD2','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22player-flag\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22margin-left:\x205px;\x20vertical-align:\x20middle;\x20width:\x2020px;\x20height:\x20auto;\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>','return\x20(function()\x20','wins','position','#ladder-d2\x20tbody','gameMode','change','username','player','length','find'];a30_0x5458=function(){return _0x17f515;};return a30_0x5458();}async function fetchBatchMatchStatsD2(_0x549e30){const _0x43e5b2=a30_0x394a,_0x218260=new Map();try{_0x549e30['forEach'](_0x41a434=>{_0x218260['set'](_0x41a434,{'totalMatches':0x0,'wins':0x0,'losses':0x0,'totalKills':0x0,'totalDeaths':0x0,'kda':0x0,'winRate':0x0});});const _0x19d08d=collection(db,_0x43e5b2(0xa1)),_0xe1a2ea=await getDocs(_0x19d08d);_0xe1a2ea['forEach'](_0x23b84a=>{const _0x37b1a2=_0x43e5b2,_0x3caf6f=_0x23b84a['data'](),_0x19e714=_0x3caf6f['winnerUsername'],_0xf2b22=_0x3caf6f['loserUsername'];if(_0x549e30['includes'](_0x19e714)){const _0x3efb6c=_0x218260['get'](_0x19e714);_0x3efb6c[_0x37b1a2(0xa4)]++,_0x3efb6c['totalMatches']++,_0x3efb6c['totalKills']+=parseInt(_0x3caf6f['winnerScore'])||0x0,_0x3efb6c[_0x37b1a2(0x87)]+=parseInt(_0x3caf6f['loserScore'])||0x0;}if(_0x549e30['includes'](_0xf2b22)){const _0x90538f=_0x218260['get'](_0xf2b22);_0x90538f['losses']++,_0x90538f['totalMatches']++,_0x90538f['totalKills']+=parseInt(_0x3caf6f['loserScore'])||0x0,_0x90538f['totalDeaths']+=parseInt(_0x3caf6f['winnerScore'])||0x0;}}),_0x549e30[_0x43e5b2(0x70)](_0xfc8571=>{const _0x5c9631=_0x43e5b2,_0x4c9353=_0x218260['get'](_0xfc8571);_0x4c9353[_0x5c9631(0x82)]=_0x4c9353['totalDeaths']>0x0?(_0x4c9353['totalKills']/_0x4c9353[_0x5c9631(0x87)])[_0x5c9631(0x79)](0x2):_0x4c9353[_0x5c9631(0x7f)]['toFixed'](0x2),_0x4c9353['winRate']=_0x4c9353['totalMatches']>0x0?(_0x4c9353[_0x5c9631(0xa4)]/_0x4c9353[_0x5c9631(0x72)]*0x64)['toFixed'](0x1):0x0;});}catch(_0x394e5e){console['error']('Error\x20fetching\x20batch\x20D2\x20match\x20stats:',_0x394e5e);}return _0x218260;}export{displayLadderD2,updatePlayerPositions};