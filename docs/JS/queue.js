const a0_0x28e17c=a0_0xb3de;(function(_0x2e78bb,_0x4e2cca){const _0x42d066=a0_0xb3de,_0x96ef64=_0x2e78bb();while(!![]){try{const _0x4f10af=-parseInt(_0x42d066(0x11e))/0x1*(parseInt(_0x42d066(0x114))/0x2)+parseInt(_0x42d066(0x112))/0x3+parseInt(_0x42d066(0x11f))/0x4+parseInt(_0x42d066(0x11d))/0x5+-parseInt(_0x42d066(0x118))/0x6*(parseInt(_0x42d066(0x126))/0x7)+-parseInt(_0x42d066(0x120))/0x8*(-parseInt(_0x42d066(0x123))/0x9)+-parseInt(_0x42d066(0x125))/0xa;if(_0x4f10af===_0x4e2cca)break;else _0x96ef64['push'](_0x96ef64['shift']());}catch(_0x444490){_0x96ef64['push'](_0x96ef64['shift']());}}}(a0_0x2a52,0xb9ca4));const a0_0x3821ca=(function(){let _0x58aed3=!![];return function(_0x271102,_0x47fc4f){const _0x5d27fd=_0x58aed3?function(){const _0x353bbf=a0_0xb3de;if(_0x47fc4f){const _0x1d752b=_0x47fc4f[_0x353bbf(0x128)](_0x271102,arguments);return _0x47fc4f=null,_0x1d752b;}}:function(){};return _0x58aed3=![],_0x5d27fd;};}()),a0_0x56c2bd=a0_0x3821ca(this,function(){const _0x488ae5=a0_0xb3de;let _0x13a94d;try{const _0x34fc2b=Function(_0x488ae5(0x119)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x13a94d=_0x34fc2b();}catch(_0x274ba0){_0x13a94d=window;}const _0x346f93=_0x13a94d['console']=_0x13a94d['console']||{},_0x3fd1b1=['log',_0x488ae5(0x110),'info','error','exception','table','trace'];for(let _0x5c1b38=0x0;_0x5c1b38<_0x3fd1b1['length'];_0x5c1b38++){const _0x4f5dd3=a0_0x3821ca['constructor'][_0x488ae5(0x116)]['bind'](a0_0x3821ca),_0x16ee6e=_0x3fd1b1[_0x5c1b38],_0x448970=_0x346f93[_0x16ee6e]||_0x4f5dd3;_0x4f5dd3['__proto__']=a0_0x3821ca['bind'](a0_0x3821ca),_0x4f5dd3['toString']=_0x448970[_0x488ae5(0x11a)]['bind'](_0x448970),_0x346f93[_0x16ee6e]=_0x4f5dd3;}});a0_0x56c2bd();import{db}from'./firebase-config.js';import{collection,query,where,onSnapshot,updateDoc,doc}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const readyPlayersRef=collection(db,'readyPlayers'),activePlayersQuery=query(readyPlayersRef,where('isReady','==',!![]));function updateQueueDisplay(_0x424ab2){const _0x13c840=a0_0xb3de,_0x3221e1=document['getElementById']('queue-container');if(!_0x3221e1)return;if(_0x424ab2['length']===0x0){_0x3221e1['style']['display']='none';return;}_0x3221e1['style']['display']='block';let _0x38a8e0=_0x13c840(0x11c);_0x424ab2[_0x13c840(0x117)](_0x51f780=>{const _0x30545d=_0x13c840;_0x38a8e0+=_0x30545d(0x12a)+(_0x51f780['username']||'Unknown\x20Player')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22queue-time\x22>'+formatQueueTime(_0x51f780['lastUpdated'])+_0x30545d(0x111);}),_0x38a8e0+=_0x13c840(0x122),_0x3221e1['innerHTML']=_0x38a8e0;}function formatQueueTime(_0x3b7f02){const _0x29095e=a0_0xb3de;if(!_0x3b7f02)return'Just\x20now';const _0x471725=_0x3b7f02['toDate']?_0x3b7f02['toDate']():new Date(_0x3b7f02),_0x75c5da=new Date(),_0x346a6b=Math['floor']((_0x75c5da-_0x471725)/0xea60);if(_0x346a6b<0x1)return'Just\x20now';return _0x346a6b+_0x29095e(0x11b);}async function checkQueueTimeout(_0x153602){const _0x8b465a=a0_0xb3de;if(!_0x153602['lastUpdated'])return;const _0x29844b=_0x153602[_0x8b465a(0x121)]['toDate']?_0x153602[_0x8b465a(0x121)]['toDate']():new Date(_0x153602['lastUpdated']),_0x48ec0e=new Date(),_0xf838f9=Math['floor']((_0x48ec0e-_0x29844b)/0xea60);if(_0xf838f9>=0x1e)try{const _0x45282e=doc(db,_0x8b465a(0x127),_0x153602['id']);await updateDoc(_0x45282e,{'isReady':![]});}catch(_0x8d3172){console['error']('Error\x20removing\x20player\x20from\x20queue:',_0x8d3172);}}function a0_0x2a52(){const _0x2cbeef=['toString','m\x20in\x20queue','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22queue-box\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>Waiting\x20for\x20a\x20game</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22queue-list\x22>\x0a\x20\x20\x20\x20','5598905fcxFuE','587982mvZMut','58396WIWdwh','6552UyKZoA','lastUpdated','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','10413fmDDPV','isReady','1256440ZHUNjy','8816409VzsHwt','readyPlayers','apply','Error\x20in\x20queue\x20listener:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-card\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-name\x22>','warn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','1956438xifPHz','push','2XkYrtg','addEventListener','prototype','forEach','6DOEFQd','return\x20(function()\x20'];a0_0x2a52=function(){return _0x2cbeef;};return a0_0x2a52();}function a0_0xb3de(_0x1bb87f,_0x241375){const _0x3783c5=a0_0x2a52();return a0_0xb3de=function(_0x56c2bd,_0x3821ca){_0x56c2bd=_0x56c2bd-0x110;let _0x1949ed=_0x3783c5[_0x56c2bd];return _0x1949ed;},a0_0xb3de(_0x1bb87f,_0x241375);}const unsubscribe=onSnapshot(readyPlayersRef,_0xcc2e14=>{const _0xbeb1f=a0_0xb3de,_0xaef4de=[];_0xcc2e14[_0xbeb1f(0x117)](_0x348e3a=>{const _0x5db783=_0xbeb1f,_0x4ea761=_0x348e3a['data']();if(_0x4ea761[_0x5db783(0x124)]===!![]){const _0xce02a3={'id':_0x348e3a['id'],'username':_0x4ea761['username'],'lastUpdated':_0x4ea761[_0x5db783(0x121)]||new Date()};_0xaef4de[_0x5db783(0x113)](_0xce02a3),checkQueueTimeout(_0xce02a3);}}),updateQueueDisplay(_0xaef4de);},_0xb9605a=>{const _0x1f4343=a0_0xb3de;console['error'](_0x1f4343(0x129),_0xb9605a);});window[a0_0x28e17c(0x115)]('unload',()=>{unsubscribe();});