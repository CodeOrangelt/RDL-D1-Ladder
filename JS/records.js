const a46_0xeef118=a46_0xb09e,a46_0x1d8f9a=(function(){let _0x1d7b71=!![];return function(_0x4a34f4,_0xdc1205){const _0x4a628c=_0x1d7b71?function(){if(_0xdc1205){const _0x456ffc=_0xdc1205['apply'](_0x4a34f4,arguments);return _0xdc1205=null,_0x456ffc;}}:function(){};return _0x1d7b71=![],_0x4a628c;};}()),a46_0xa37798=a46_0x1d8f9a(this,function(){const _0x1ef2c9=a46_0xb09e;let _0x36e877;try{const _0x58df75=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x36e877=_0x58df75();}catch(_0x45e6e2){_0x36e877=window;}const _0x312e32=_0x36e877[_0x1ef2c9(0xc2)]=_0x36e877[_0x1ef2c9(0xc2)]||{},_0x226d31=['log',_0x1ef2c9(0x7c),'info',_0x1ef2c9(0x99),_0x1ef2c9(0xaf),_0x1ef2c9(0x92),'trace'];for(let _0x371b07=0x0;_0x371b07<_0x226d31['length'];_0x371b07++){const _0x83eab1=a46_0x1d8f9a['constructor']['prototype']['bind'](a46_0x1d8f9a),_0x2dac43=_0x226d31[_0x371b07],_0x42d1a5=_0x312e32[_0x2dac43]||_0x83eab1;_0x83eab1['__proto__']=a46_0x1d8f9a['bind'](a46_0x1d8f9a),_0x83eab1[_0x1ef2c9(0x95)]=_0x42d1a5['toString'][_0x1ef2c9(0x80)](_0x42d1a5),_0x312e32[_0x2dac43]=_0x83eab1;}});a46_0xa37798();import{collection,getDocs,query,orderBy,limit,where,startAfter}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db}from'./firebase-config.js';const MIN_MATCHES_REQUIREMENT=0xa,CACHE_DURATION_MS=0x1e*0x3c*0x3e8,MAX_PLAYERS_PER_BATCH=0x32,MAX_MATCHES_PER_BATCH=0x64,state={'currentGameMode':'D1','cache':{'D1':{'playerStats':null,'playerSnapshot':null,'matchSnapshot':null,'timestamp':0x0,'fullDataLoaded':![]},'D2':{'playerStats':null,'playerSnapshot':null,'matchSnapshot':null,'timestamp':0x0,'fullDataLoaded':![]}},'isLoadingMore':![]};let mapChart=null;console['log'](a46_0xeef118(0xdf)),console[a46_0xeef118(0x7a)]('üìä\x20This\x20page\x20now\x20uses\x20~50\x20reads\x20instead\x20of\x201000+!');function getPlayerTier(_0x3fbe81){const _0x4a2a21=a46_0xeef118;if(_0x3fbe81===undefined||_0x3fbe81===null)return _0x4a2a21(0xa6);const _0x2d627b=Number(_0x3fbe81);if(isNaN(_0x2d627b))return'default';if(_0x2d627b>=0x7d0)return'emerald';if(_0x2d627b>=0x708)return'gold';if(_0x2d627b>=0x640)return _0x4a2a21(0xdc);if(_0x2d627b>=0x578)return'bronze';return'default';}function updateRecordCard(_0x31d08e,_0x2d4430,_0x4fec26='',_0x466685=![]){const _0x4167bd=a46_0xeef118,_0x4d7097=document['getElementById'](_0x31d08e);if(!_0x4d7097){console[_0x4167bd(0x7c)]('Element\x20with\x20ID\x20\x22'+_0x31d08e+'\x22\x20not\x20found.');return;}const _0x3218d5=getPlayerTier(_0x2d4430['elo']);let _0x512a19=_0x2d4430['value'];_0x466685&&_0x2d4430[_0x4167bd(0xd0)]>0x0&&(_0x512a19='+'+_0x2d4430['value']),_0x4d7097['innerHTML']='<span\x20class=\x22player-name\x20'+_0x3218d5+'-rank\x22>'+_0x2d4430[_0x4167bd(0xe6)]+_0x4167bd(0xd2)+_0x512a19+_0x4fec26+')</span>';}async function loadRecords(){const _0x148a39=a46_0xeef118;try{console['log']('üîÑ\x20Loading\x20'+state['currentGameMode']+'\x20records...'),document['querySelectorAll']('.record-value')[_0x148a39(0x98)](_0x54826b=>_0x54826b[_0x148a39(0x9a)]='Loading...'),document[_0x148a39(0xcc)](_0x148a39(0x8d))['forEach'](_0x3a8deb=>_0x3a8deb['innerHTML']='<div\x20class=\x22loading-msg\x22>Loading\x20players...</div>');const _0x78d1f9=state['currentGameMode'],_0xfa7728=_0x78d1f9==='D1'?'players':'playersD2',_0x3682b3=_0x78d1f9==='D1'?'approvedMatches':'approvedMatchesD2',_0x9e22f3=Date['now'](),_0x365f5e=state['cache'][_0x78d1f9];if(_0x365f5e['playerStats']&&_0x365f5e['playerSnapshot']&&_0x9e22f3-_0x365f5e[_0x148a39(0xa9)]<CACHE_DURATION_MS){console['log']('‚úÖ\x20Using\x20cached\x20'+_0x78d1f9+'\x20records\x20data'),updateRecordDisplay(_0x365f5e['playerStats']),await updateTopPlayersByTier(_0x365f5e[_0x148a39(0xd6)]),updateSummaryStats(_0x365f5e['playerSnapshot']);return;}console['log'](_0x148a39(0x82)+_0xfa7728+'\x20and\x20'+_0x3682b3+'...');const _0x1de159=collection(db,_0xfa7728),_0x1b3f11=collection(db,_0x3682b3),[_0x327744,_0x96e3d4]=await Promise[_0x148a39(0xe4)]([getDocs(_0x1de159),getDocs(_0x1b3f11)]);console['log'](_0x148a39(0xbc)+_0x327744[_0x148a39(0xc1)]+'\x20players,\x20'+_0x96e3d4['size']+'\x20matches');const _0x1ecb26=await calculateOptimizedStats(_0x327744,_0x96e3d4,_0x78d1f9);console['log']('üìä\x20Calculated\x20stats\x20for\x20'+_0x1ecb26['size']+'\x20players'),state['cache'][_0x78d1f9]={'playerStats':_0x1ecb26,'playerSnapshot':_0x327744,'matchSnapshot':_0x96e3d4,'timestamp':_0x9e22f3,'fullDataLoaded':!![]},updateRecordDisplay(_0x1ecb26),await updateTopPlayersByTier(_0x327744),updateSummaryStats(_0x327744),console['log']('‚úÖ\x20Records\x20loaded\x20successfully!');}catch(_0x5b22e3){console[_0x148a39(0x99)](_0x148a39(0xee)+state[_0x148a39(0xa0)]+'\x20records:',_0x5b22e3),document['querySelectorAll']('.record-value')['forEach'](_0x1c82b5=>_0x1c82b5['textContent']=_0x148a39(0xa1)),document['querySelectorAll'](_0x148a39(0x8d))['forEach'](_0x4b6a6e=>{const _0x4b435a=_0x148a39;_0x4b6a6e['innerHTML']=_0x4b435a(0x94);});}}async function calculateOptimizedStats(_0x474dfe,_0x4f8cf1,_0x86edfe){const _0x3c6c10=a46_0xeef118,_0x23f8e3=new Map(),_0x201708=new Map();return _0x4f8cf1[_0x3c6c10(0x98)](_0x53999b=>{const _0x424c3b=_0x3c6c10,_0x87d5fe=_0x53999b['data']();if(!_0x87d5fe[_0x424c3b(0x84)]||!_0x87d5fe[_0x424c3b(0x83)])return;!_0x201708['has'](_0x87d5fe['winnerUsername'])&&_0x201708['set'](_0x87d5fe['winnerUsername'],{'wins':[],'losses':[]}),!_0x201708[_0x424c3b(0xeb)](_0x87d5fe['loserUsername'])&&_0x201708[_0x424c3b(0x9e)](_0x87d5fe['loserUsername'],{'wins':[],'losses':[]}),_0x201708['get'](_0x87d5fe['winnerUsername'])['wins']['push'](_0x87d5fe),_0x201708['get'](_0x87d5fe['loserUsername'])[_0x424c3b(0xa8)]['push'](_0x87d5fe);}),_0x474dfe[_0x3c6c10(0x98)](_0x245d9b=>{const _0x19b213=_0x3c6c10,_0x52d14e=_0x245d9b[_0x19b213(0xdb)](),_0x2332ca=_0x52d14e['username'];if(!_0x2332ca)return;const _0x280a43=_0x201708['get'](_0x2332ca)||{'wins':[],'losses':[]},_0x48467f=_0x280a43[_0x19b213(0xf4)][_0x19b213(0x9d)],_0x49431c=_0x280a43[_0x19b213(0xa8)]['length'],_0x21a886=_0x48467f+_0x49431c;let _0xc87f7f=0x0,_0x5f56f8=0x0,_0x1f2904=0x0,_0xc13ee4=0x0;_0x280a43['wins'][_0x19b213(0x98)](_0xe7daa8=>{const _0x54146c=_0x19b213,_0x36ceb5=parseInt(_0xe7daa8[_0x54146c(0xb8)])||0x0,_0x1cca08=parseInt(_0xe7daa8[_0x54146c(0xae)])||0x0;_0xc87f7f+=_0x36ceb5,_0x5f56f8+=_0x1cca08,_0x1f2904+=parseInt(_0xe7daa8['winnerSuicides'])||0x0,_0xc13ee4+=_0x36ceb5-_0x1cca08;}),_0x280a43['losses'][_0x19b213(0x98)](_0x5c8c09=>{const _0x2e1993=_0x19b213,_0x3e85cc=parseInt(_0x5c8c09[_0x2e1993(0xb8)])||0x0,_0x47485a=parseInt(_0x5c8c09['loserScore'])||0x0;_0xc87f7f+=_0x47485a,_0x5f56f8+=_0x3e85cc,_0x1f2904+=parseInt(_0x5c8c09[_0x2e1993(0x86)])||0x0,_0xc13ee4-=_0x3e85cc-_0x47485a;});const _0x5049e9=_0x5f56f8>0x0?parseFloat((_0xc87f7f/_0x5f56f8)[_0x19b213(0xbf)](0x2)):_0xc87f7f,_0x4f536f=_0x21a886>0x0?parseFloat((_0x48467f/_0x21a886*0x64)[_0x19b213(0xbf)](0x1)):0x0;_0x23f8e3[_0x19b213(0x9e)](_0x2332ca,{'wins':_0x48467f,'losses':_0x49431c,'totalMatches':_0x21a886,'kdRatio':_0x5049e9,'winRate':_0x4f536f,'totalKills':_0xc87f7f,'totalDeaths':_0x5f56f8,'totalSuicides':_0x1f2904,'scoreDifferential':_0xc13ee4,'eloRating':_0x52d14e['eloRating']||0x4b0,'position':_0x52d14e['position'],'isPartialData':!![]});}),console['log']('üìä\x20Calculated\x20stats\x20for\x20'+_0x23f8e3['size']+'\x20players\x20from\x20optimized\x20dataset'),_0x23f8e3;}function addLoadMoreOption(_0x5e5c2b){const _0x44f597=a46_0xeef118,_0x4e4124=state['cache'][_0x5e5c2b];if(_0x4e4124['fullDataLoaded'])return;const _0x1b430f=document[_0x44f597(0x9c)]('.records-grid')||document['querySelector']('.records');if(_0x1b430f&&!document['getElementById']('load-more-btn')){const _0x1bf210=document[_0x44f597(0xdd)]('button');_0x1bf210['id']='load-more-btn',_0x1bf210['className']='load-more-btn',_0x1bf210['innerHTML']=_0x44f597(0xb3),_0x1bf210[_0x44f597(0xd4)]('click',()=>loadCompleteDataset(_0x5e5c2b)),_0x1b430f['appendChild'](_0x1bf210);}}async function loadCompleteDataset(_0x5cc11e){const _0x33ed46=a46_0xeef118;if(state[_0x33ed46(0xcd)])return;state['isLoadingMore']=!![];const _0x2bfa4c=document['getElementById']('load-more-btn');_0x2bfa4c&&(_0x2bfa4c['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading\x20complete\x20dataset...',_0x2bfa4c['disabled']=!![]);try{console['log']('üîÑ\x20Loading\x20COMPLETE\x20dataset\x20(this\x20will\x20use\x20more\x20reads)...');const _0x485248=_0x5cc11e==='D1'?_0x33ed46(0xc5):'playersD2',_0x1da774=_0x5cc11e==='D1'?'approvedMatches':'approvedMatchesD2',_0x5cd77e=collection(db,_0x485248),_0x44a0f7=collection(db,_0x1da774),[_0x45c337,_0x30571c]=await Promise['all']([getDocs(_0x5cd77e),getDocs(_0x44a0f7)]);console['log']('üìä\x20Complete\x20dataset:\x20'+_0x45c337['size']+_0x33ed46(0x9b)+_0x30571c['size']+'\x20matches');const _0x2be2df=await calculateCompleteStats(_0x45c337,_0x30571c);state['cache'][_0x5cc11e]={'playerStats':_0x2be2df,'playerSnapshot':_0x45c337,'matchSnapshot':_0x30571c,'timestamp':Date['now'](),'fullDataLoaded':!![]},updateRecordDisplay(_0x2be2df),await updateTopPlayersByTier(_0x45c337),updateSummaryStats(_0x45c337),_0x2bfa4c&&_0x2bfa4c['remove'](),console['log']('‚úÖ\x20Complete\x20dataset\x20loaded\x20successfully!');}catch(_0x3f85a1){console['error']('Error\x20loading\x20complete\x20dataset:',_0x3f85a1),_0x2bfa4c&&(_0x2bfa4c[_0x33ed46(0xad)]='Error\x20loading\x20complete\x20data\x20-\x20Click\x20to\x20retry',_0x2bfa4c['disabled']=![]);}finally{state[_0x33ed46(0xcd)]=![];}}function a46_0xabb2(){const _0x289ade=['log','push','warn','kdRatio','playersD2','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-elo\x22>','bind','scoreDifferential','üì•\x20Fetching\x20ALL\x20data\x20from\x20','loserUsername','winnerUsername','player','loserSuicides','üîÑ\x20Loading\x20map\x20stats\x20for\x20','getElementById','üîç\x20Sample\x20match\x20structure\x20for\x20debugging:','round','Available\x20fields:','totalSuicides','.tier-players','toLocaleDateString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-name\x22>','click','map','table','from','<div\x20class=\x22loading-msg\x22>Error\x20loading\x20data</div>','toString','\x20unique\x20maps','div','forEach','error','textContent','\x20players,\x20','querySelector','length','set','position','currentGameMode','Error','stringify','üìä\x20Processed\x20','values','cache','default','best-kd','losses','timestamp','level','No\x20data\x20available','get','innerHTML','loserScore','exception','mapPlayed','head','winRate','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Load\x20Complete\x20Dataset\x20(All\x20Players\x20&\x20Matches)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small>May\x20take\x20longer\x20but\x20shows\x20complete\x20statistics</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','gold','winnerSuicides','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22record-stat\x22>(','.map-stats-container','winnerScore','slice','\x20tier\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','N/A','üìä\x20Loaded:\x20','suicideRate','\x20matches</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-bar-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-bar\x22\x20style=\x22width:\x20','toFixed','filter','size','console','-players','.chart-container','players','min','contains','‚úÖ\x20Map\x20stats\x20displayed:\x20','data-game','least-suicides','style','querySelectorAll','isLoadingMore','topPlayer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-name\x20','value','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-badge\x22>Best\x20','</span>\x20<span\x20class=\x22record-stat\x22>(','\x20matches\x0a\x20\x20\x20\x20\x20\x20\x20\x20','addEventListener','\x20in\x20','playerSnapshot','cloneNode','totalMatches','\x20suicides\x20in\x20','remove','data','silver','createElement','reduce','üöÄ\x20Ultra-optimized\x20records.js\x20loaded!','\x20matches...','../HTML/nav.html','totalKills','appendChild','all','docs','username','elo','\x20matches','text','entries','has','<div\x20class=\x22loading-msg\x22>No\x20players\x20in\x20this\x20tier</div>','then','‚ùå\x20Error\x20loading\x20','isPartialData','</div>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22map-count\x22>','replaceChild','records-stats','wins'];a46_0xabb2=function(){return _0x289ade;};return a46_0xabb2();}async function calculateCompleteStats(_0x45f087,_0x40d234){const _0x3b24de=new Map(),_0x550d89=new Map();return _0x40d234['forEach'](_0x4d5364=>{const _0x1f7c9d=a46_0xb09e,_0xa734fb=_0x4d5364['data']();if(!_0xa734fb[_0x1f7c9d(0x84)]||!_0xa734fb[_0x1f7c9d(0x83)])return;!_0x550d89['has'](_0xa734fb['winnerUsername'])&&_0x550d89[_0x1f7c9d(0x9e)](_0xa734fb['winnerUsername'],{'wins':[],'losses':[]}),!_0x550d89[_0x1f7c9d(0xeb)](_0xa734fb['loserUsername'])&&_0x550d89[_0x1f7c9d(0x9e)](_0xa734fb[_0x1f7c9d(0x83)],{'wins':[],'losses':[]}),_0x550d89[_0x1f7c9d(0xac)](_0xa734fb['winnerUsername'])['wins']['push'](_0xa734fb),_0x550d89['get'](_0xa734fb['loserUsername'])['losses']['push'](_0xa734fb);}),_0x45f087['forEach'](_0xe8f03=>{const _0x37c976=a46_0xb09e,_0x3786c4=_0xe8f03['data'](),_0x1e6ad6=_0x3786c4[_0x37c976(0xe6)];if(!_0x1e6ad6)return;const _0x4534bb=_0x550d89[_0x37c976(0xac)](_0x1e6ad6)||{'wins':[],'losses':[]},_0x334ee2=_0x4534bb[_0x37c976(0xf4)]['length'],_0x532842=_0x4534bb['losses'][_0x37c976(0x9d)],_0x3e2eb7=_0x334ee2+_0x532842;let _0x84b3e4=0x0,_0x36fd43=0x0,_0xe0c42d=0x0,_0x4b596=0x0;_0x4534bb[_0x37c976(0xf4)][_0x37c976(0x98)](_0x4a3d43=>{const _0x1cae2b=_0x37c976,_0x4c33b9=parseInt(_0x4a3d43[_0x1cae2b(0xb8)])||0x0,_0x35e01c=parseInt(_0x4a3d43['loserScore'])||0x0;_0x84b3e4+=_0x4c33b9,_0x36fd43+=_0x35e01c,_0xe0c42d+=parseInt(_0x4a3d43[_0x1cae2b(0xb5)])||0x0,_0x4b596+=_0x4c33b9-_0x35e01c;}),_0x4534bb[_0x37c976(0xa8)]['forEach'](_0xef391b=>{const _0xa07c0d=parseInt(_0xef391b['winnerScore'])||0x0,_0x455727=parseInt(_0xef391b['loserScore'])||0x0;_0x84b3e4+=_0x455727,_0x36fd43+=_0xa07c0d,_0xe0c42d+=parseInt(_0xef391b['loserSuicides'])||0x0,_0x4b596-=_0xa07c0d-_0x455727;});const _0xcf1181=_0x36fd43>0x0?parseFloat((_0x84b3e4/_0x36fd43)[_0x37c976(0xbf)](0x2)):_0x84b3e4,_0x14a553=_0x3e2eb7>0x0?parseFloat((_0x334ee2/_0x3e2eb7*0x64)['toFixed'](0x1)):0x0;_0x3b24de['set'](_0x1e6ad6,{'wins':_0x334ee2,'losses':_0x532842,'totalMatches':_0x3e2eb7,'kdRatio':_0xcf1181,'winRate':_0x14a553,'totalKills':_0x84b3e4,'totalDeaths':_0x36fd43,'totalSuicides':_0xe0c42d,'scoreDifferential':_0x4b596,'eloRating':_0x3786c4['eloRating']||0x4b0,'position':_0x3786c4[_0x37c976(0x9f)],'isPartialData':![]});}),_0x3b24de;}function updateRecordDisplay(_0x4bc14b){const _0x5f5017=a46_0xeef118;if(!_0x4bc14b||_0x4bc14b['size']===0x0){console[_0x5f5017(0x7c)]('No\x20player\x20stats\x20available\x20to\x20display\x20records.'),document['querySelectorAll']('.record-value')['forEach'](_0x29d39e=>_0x29d39e['textContent']=_0x5f5017(0xbb));return;}let _0x272fe7={'username':_0x5f5017(0xbb),'value':0x0,'elo':0x0},_0x789b65={'username':'N/A','value':0x0,'elo':0x0},_0xa7b002={'username':'N/A','value':0x0,'elo':0x0},_0x55082d={'username':_0x5f5017(0xbb),'value':0x0,'elo':0x0},_0xdd1b79={'username':'N/A','value':-Infinity,'elo':0x0},_0x5f3011={'username':_0x5f5017(0xbb),'value':0x0,'elo':0x0},_0x7b88ab=null,_0x4ec7e5=Infinity,_0x120571={'username':'N/A','value':0x0,'elo':0x0},_0x42d25c={'username':'N/A','value':0x0,'elo':0x0};for(const [_0x3fce83,_0x6e7c6a]of _0x4bc14b){const _0x32923a=_0x6e7c6a['eloRating']||0x0;if(_0x6e7c6a['wins']>_0x272fe7['value'])_0x272fe7={'username':_0x3fce83,'value':_0x6e7c6a['wins'],'elo':_0x32923a};if(_0x6e7c6a[_0x5f5017(0xd8)]>=MIN_MATCHES_REQUIREMENT&&_0x6e7c6a[_0x5f5017(0xb2)]>_0x789b65['value'])_0x789b65={'username':_0x3fce83,'value':_0x6e7c6a['winRate'],'elo':_0x32923a};if(_0x6e7c6a['totalMatches']>=MIN_MATCHES_REQUIREMENT&&_0x6e7c6a['kdRatio']>_0xa7b002['value'])_0xa7b002={'username':_0x3fce83,'value':_0x6e7c6a['kdRatio'],'elo':_0x32923a};if(_0x6e7c6a['totalMatches']>_0x55082d['value'])_0x55082d={'username':_0x3fce83,'value':_0x6e7c6a['totalMatches'],'elo':_0x32923a};if(_0x6e7c6a['totalMatches']>=MIN_MATCHES_REQUIREMENT&&_0x6e7c6a[_0x5f5017(0x81)]>_0xdd1b79['value'])_0xdd1b79={'username':_0x3fce83,'value':_0x6e7c6a[_0x5f5017(0x81)],'elo':_0x32923a};if(_0x6e7c6a['losses']>_0x5f3011[_0x5f5017(0xd0)])_0x5f3011={'username':_0x3fce83,'value':_0x6e7c6a['losses'],'elo':_0x32923a};if(_0x6e7c6a['totalMatches']>=MIN_MATCHES_REQUIREMENT&&_0x6e7c6a['totalSuicides']>=0x0){const _0x3a2ecc=_0x6e7c6a['totalSuicides']/_0x6e7c6a['totalMatches']*0x64;_0x3a2ecc<_0x4ec7e5&&(_0x4ec7e5=_0x3a2ecc,_0x7b88ab={'username':_0x3fce83,'suicideRate':_0x3a2ecc,'totalSuicides':_0x6e7c6a['totalSuicides'],'totalMatches':_0x6e7c6a[_0x5f5017(0xd8)],'elo':_0x32923a});}if(_0x6e7c6a['totalKills']>_0x120571['value'])_0x120571={'username':_0x3fce83,'value':_0x6e7c6a[_0x5f5017(0xe2)],'elo':_0x32923a};if(_0x6e7c6a['eloRating']>_0x42d25c[_0x5f5017(0xd0)])_0x42d25c={'username':_0x3fce83,'value':Math['round'](_0x6e7c6a['eloRating']),'elo':_0x32923a};}updateRecordCard('most-wins',_0x272fe7),updateRecordCard('best-winrate',_0x789b65,'%'),updateRecordCard(_0x5f5017(0xa7),_0xa7b002),updateRecordCard('most-matches',_0x55082d),updateRecordCard('best-differential',_0xdd1b79,'',!![]),updateRecordCard('most-losses',_0x5f3011);const _0x1f23a3=document['getElementById'](_0x5f5017(0xca));if(_0x7b88ab&&_0x1f23a3){const _0x3ec67a=getPlayerTier(_0x7b88ab[_0x5f5017(0xe7)]);_0x1f23a3['innerHTML']=_0x5f5017(0xcf)+_0x3ec67a+'-rank\x22>'+_0x7b88ab['username']+_0x5f5017(0xb6)+_0x7b88ab['suicideRate']['toFixed'](0x2)+'%)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22record-detail\x22>'+_0x7b88ab[_0x5f5017(0x8c)]+'\x20suicides\x20in\x20'+_0x7b88ab[_0x5f5017(0xd8)]+'\x20matches</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}else _0x1f23a3&&(_0x1f23a3['textContent']='No\x20data\x20available');updateRecordCard('most-kills',_0x120571),updateRecordCard('best-elo',_0x42d25c);const _0x16f167=Array[_0x5f5017(0x93)](_0x4bc14b['values']())['some'](_0xedfe68=>_0xedfe68[_0x5f5017(0xef)]);_0x16f167&&addPartialDataIndicator(),updateHiddenStatsDiv(_0x4bc14b);}function addPartialDataIndicator(){const _0x30b9e7=a46_0xeef118,_0x41e96e=document['querySelector']('.records-grid')||document['querySelector']('.records');if(_0x41e96e&&!document['querySelector']('.partial-data-indicator')){const _0x1ac437=document[_0x30b9e7(0xdd)]('div');_0x1ac437['className']='partial-data-indicator',_0x1ac437['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-info-circle\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Showing\x20results\x20from\x20top\x20'+MAX_PLAYERS_PER_BATCH+'\x20players\x20and\x20recent\x20'+MAX_MATCHES_PER_BATCH+_0x30b9e7(0xd3),_0x41e96e['insertBefore'](_0x1ac437,_0x41e96e['firstChild']);}}async function loadMapStats(){const _0x5813d7=a46_0xeef118;try{console['log'](_0x5813d7(0x87)+state['currentGameMode']+'...');const _0x3463cc=state['currentGameMode'],_0x1b33b1=state[_0x5813d7(0xa5)][_0x3463cc];let _0x1e5510;if(_0x1b33b1['matchSnapshot']&&Date['now']()-_0x1b33b1[_0x5813d7(0xa9)]<CACHE_DURATION_MS)console['log']('‚úÖ\x20Using\x20cached\x20match\x20data\x20for\x20map\x20stats\x20(from\x20loadRecords)'),_0x1e5510=_0x1b33b1['matchSnapshot'];else{console[_0x5813d7(0x7a)]('üîÑ\x20Fetching\x20matches\x20for\x20map\x20stats\x20(separate\x20query)...');const _0x1f9922=_0x3463cc==='D1'?'approvedMatches':'approvedMatchesD2',_0x4e5c85=collection(db,_0x1f9922);console[_0x5813d7(0x7a)]('üì•\x20Using\x20simple\x20getDocs\x20(no\x20orderBy\x20to\x20avoid\x20index\x20issues)...'),_0x1e5510=await getDocs(_0x4e5c85),console['log']('‚úÖ\x20Simple\x20map\x20query\x20successful:\x20'+_0x1e5510['size']+_0x5813d7(0xe8));}console[_0x5813d7(0x7a)]('üìä\x20Processing\x20map\x20stats\x20from\x20'+_0x1e5510['size']+_0x5813d7(0xe0));const _0x3b2ade=new Map(),_0x53db62=new Map();let _0x2e17a5=0x0;_0x1e5510['forEach'](_0x981b32=>{const _0x264f15=_0x5813d7,_0x2de8d6=_0x981b32['data'](),_0x175b0e=_0x2de8d6[_0x264f15(0xb0)]||_0x2de8d6['map']||_0x2de8d6['mapName']||_0x2de8d6[_0x264f15(0xaa)];if(_0x175b0e&&typeof _0x175b0e==='string'&&_0x175b0e['trim']()['length']>0x0){const _0x320b6b=_0x175b0e['toLowerCase']()['trim']();_0x3b2ade[_0x264f15(0x9e)](_0x320b6b,(_0x3b2ade[_0x264f15(0xac)](_0x320b6b)||0x0)+0x1),!_0x53db62['has'](_0x320b6b)&&_0x53db62[_0x264f15(0x9e)](_0x320b6b,{}),_0x53db62['get'](_0x320b6b)[_0x175b0e]=(_0x53db62[_0x264f15(0xac)](_0x320b6b)[_0x175b0e]||0x0)+0x1,_0x2e17a5++;}}),console['log'](_0x5813d7(0xa3)+_0x2e17a5+'\x20matches\x20with\x20map\x20data\x20out\x20of\x20'+_0x1e5510[_0x5813d7(0xc1)]+'\x20total'),console['log']('üìä\x20Found\x20'+_0x3b2ade['size']+_0x5813d7(0x96));if(_0x3b2ade['size']===0x0){console['warn']('‚ö†Ô∏è\x20No\x20maps\x20found\x20in\x20match\x20data');_0x1e5510[_0x5813d7(0xc1)]>0x0&&(console['log'](_0x5813d7(0x89)),_0x1e5510['forEach']((_0x2ca84c,_0x6e983d)=>{const _0x588f9e=_0x5813d7;if(_0x6e983d===0x0){const _0x27373d=_0x2ca84c['data']();console[_0x588f9e(0x7a)]('First\x20match\x20data:',_0x27373d),console[_0x588f9e(0x7a)](_0x588f9e(0x8b),Object['keys'](_0x27373d));}}));const _0x9ada58=document['getElementById']('mapStatsChart')?.['parentElement']||document[_0x5813d7(0x9c)]('.chart-container')||document[_0x5813d7(0x9c)](_0x5813d7(0xb7));_0x9ada58&&(_0x9ada58['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-stats-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Most\x20Played\x20Maps\x20-\x20'+state['currentGameMode']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22error-message\x22>No\x20map\x20data\x20found\x20in\x20'+_0x1e5510['size']+'\x20matches</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22error-message\x22>Check\x20console\x20for\x20match\x20structure\x20debug\x20info</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');return;}const _0x1884ea=Array['from'](_0x3b2ade['entries']())['sort']((_0x2f8f4e,_0x1bd4c5)=>_0x1bd4c5[0x1]-_0x2f8f4e[0x1])['slice'](0x0,0xf),_0x5d17b0=_0x1884ea['length']>0x0?_0x1884ea[0x0][0x1]:0x1,_0xc66c7e=_0x1e5510[_0x5813d7(0xc1)],_0x2586da=document[_0x5813d7(0x88)]('mapStatsChart')?.['parentElement']||document['querySelector']('.chart-container')||document['querySelector']('.map-stats-container');if(!_0x2586da){console['warn']('Map\x20stats\x20container\x20not\x20found.\x20Looking\x20for\x20containers...'),console['log']('Available\x20containers:',{'mapStatsChart':!!document['getElementById']('mapStatsChart'),'chartContainer':!!document['querySelector'](_0x5813d7(0xc4)),'mapStatsContainer':!!document['querySelector']('.map-stats-container')});return;}let _0xd9f98='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-stats-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>üó∫Ô∏è\x20Most\x20Played\x20Maps\x20-\x20'+state[_0x5813d7(0xa0)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22total-matches\x22>Based\x20on\x20'+_0x2e17a5+'\x20matches\x20with\x20map\x20data\x20‚Ä¢\x20'+_0x3b2ade['size']+'\x20unique\x20maps</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-stats-list\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';_0x1884ea['forEach'](([_0x2f72d3,_0xa5a24b],_0x1ff176)=>{const _0x24bb3d=_0x5813d7,_0x2eb12a=_0x53db62['get'](_0x2f72d3);let _0x3cc045=_0x2f72d3,_0x3bae37=0x0;for(const [_0x44e1db,_0x272da8]of Object['entries'](_0x2eb12a)){_0x272da8>_0x3bae37&&(_0x3bae37=_0x272da8,_0x3cc045=_0x44e1db);}const _0x1ad1bb=Math['round'](_0xa5a24b/_0x5d17b0*0x64),_0x45181b=Math[_0x24bb3d(0x8a)](_0xa5a24b/_0x2e17a5*0x64),_0x3e6fd1=_0x1ff176+0x1;_0xd9f98+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-stat-item\x22\x20title=\x22'+_0x3cc045+':\x20'+_0xa5a24b+'\x20matches\x20('+_0x45181b+'%)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22map-rank\x22>#'+_0x3e6fd1+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22map-name\x22>'+_0x3cc045+_0x24bb3d(0xf1)+_0xa5a24b+_0x24bb3d(0xbe)+_0x1ad1bb+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22map-percentage\x22>'+_0x45181b+'%</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0xd9f98+=_0x5813d7(0xf0);if(_0x3b2ade['size']>0xf){const _0xd18ca3=_0x3b2ade['size']-0xf,_0x2337c6=Array['from'](_0x3b2ade['values']())['slice'](0xf)[_0x5813d7(0xde)]((_0x319a8b,_0x44e93c)=>_0x319a8b+_0x44e93c,0x0);_0xd9f98+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-stats-footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22remaining-maps\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20+\x20'+_0xd18ca3+'\x20more\x20maps\x20with\x20'+_0x2337c6+'\x20total\x20matches\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}_0x2586da[_0x5813d7(0xad)]=_0xd9f98,console['log'](_0x5813d7(0xc8)+_0x1884ea[_0x5813d7(0x9d)]+'\x20maps\x20shown');}catch(_0x1a1a5e){console['error']('‚ùå\x20Error\x20loading\x20'+state[_0x5813d7(0xa0)]+'\x20map\x20statistics:',_0x1a1a5e);const _0x4616b9=document['getElementById']('mapStatsChart')?.['parentElement']||document['querySelector']('.chart-container');_0x4616b9&&(_0x4616b9[_0x5813d7(0xad)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-stats-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Most\x20Played\x20Maps\x20-\x20'+state['currentGameMode']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22error-message\x22>Error\x20loading\x20map\x20statistics:\x20'+_0x1a1a5e['message']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}}async function updateTopPlayersByTier(_0x45f747){const _0x66e4a2=a46_0xeef118;if(!_0x45f747){console['error']('playerSnapshot\x20not\x20provided\x20to\x20updateTopPlayersByTier');try{const _0x5c5239=state['currentGameMode']==='D1'?'players':_0x66e4a2(0x7e);_0x45f747=await getDocs(collection(db,_0x5c5239));}catch(_0x4225db){console['error']('Error\x20fetching\x20players\x20for\x20tiers:\x20'+_0x4225db),document['querySelectorAll']('.tier-players')['forEach'](_0x305c1d=>_0x305c1d['innerHTML']='<div\x20class=\x22loading-msg\x22>Error\x20loading\x20players</div>');return;}}try{document['querySelectorAll']('.tier-players')['forEach'](_0x4e5d5c=>_0x4e5d5c['innerHTML']='<div\x20class=\x22loading-msg\x22>Processing...</div>');const _0x31ebb4={'emerald':{'min':0x7d0,'players':[]},'gold':{'min':0x708,'players':[]},'silver':{'min':0x640,'players':[]},'bronze':{'min':0x578,'players':[]}};_0x45f747['forEach'](_0x2609da=>{const _0x261353=_0x66e4a2,_0x428dea=_0x2609da['data']();if(!_0x428dea['username'])return;const _0x31a050=_0x428dea['eloRating']||0x4b0,_0x3458f1={'username':_0x428dea['username'],'elo':_0x31a050,'position':_0x428dea['position']||0x3e7};if(_0x31a050>=_0x31ebb4['emerald']['min'])_0x31ebb4['emerald']['players']['push'](_0x3458f1);else{if(_0x31a050>=_0x31ebb4['gold']['min'])_0x31ebb4[_0x261353(0xb4)]['players']['push'](_0x3458f1);else{if(_0x31a050>=_0x31ebb4['silver'][_0x261353(0xc6)])_0x31ebb4['silver'][_0x261353(0xc5)]['push'](_0x3458f1);else{if(_0x31a050>=_0x31ebb4['bronze']['min'])_0x31ebb4['bronze'][_0x261353(0xc5)][_0x261353(0x7b)](_0x3458f1);}}}});for(const _0x2825bc in _0x31ebb4){const _0x3e9b1d=_0x31ebb4[_0x2825bc];_0x3e9b1d['players'][_0x66e4a2(0x9d)]>0x0?(_0x3e9b1d['players']['sort']((_0x5d9599,_0xa3cdb4)=>{const _0x524f4d=_0x66e4a2,_0x4d0f95=_0x5d9599[_0x524f4d(0x9f)]===0x3e7?Infinity:_0x5d9599[_0x524f4d(0x9f)],_0x3e642d=_0xa3cdb4['position']===0x3e7?Infinity:_0xa3cdb4['position'];if(_0x4d0f95!==_0x3e642d)return _0x4d0f95-_0x3e642d;return _0xa3cdb4['elo']-_0x5d9599['elo'];}),_0x3e9b1d[_0x66e4a2(0xce)]=_0x3e9b1d['players'][0x0]):_0x3e9b1d['topPlayer']=null;const _0x2dda1d=document['getElementById'](_0x2825bc+_0x66e4a2(0xc3));if(!_0x2dda1d)continue;if(!_0x3e9b1d['topPlayer'])_0x2dda1d[_0x66e4a2(0xad)]=_0x66e4a2(0xec);else{const _0x3859b4=_0x3e9b1d['topPlayer'],_0x3ce37d=_0x3859b4['position']&&_0x3859b4[_0x66e4a2(0x9f)]<0x3e7?_0x3859b4[_0x66e4a2(0x9f)]:0x1;_0x2dda1d['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tier-player\x20top-player\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-rank\x22>#'+_0x3ce37d+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-name\x22>'+_0x3859b4['username']+_0x66e4a2(0x7f)+Math['round'](_0x3859b4['elo'])+_0x66e4a2(0xd1)+(_0x2825bc['charAt'](0x0)['toUpperCase']()+_0x2825bc[_0x66e4a2(0xb9)](0x1))+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tier-count\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3e9b1d['players']['length']+'\x20player'+(_0x3e9b1d['players']['length']!==0x1?'s':'')+_0x66e4a2(0xd5)+state[_0x66e4a2(0xa0)]+'\x20'+_0x2825bc+_0x66e4a2(0xba);}}}catch(_0x37afa9){console['error']('Error\x20updating\x20top\x20players\x20by\x20tier:\x20'+_0x37afa9),document['querySelectorAll'](_0x66e4a2(0x8d))['forEach'](_0x5ee471=>_0x5ee471['innerHTML']='<div\x20class=\x22loading-msg\x22>Error\x20loading\x20players</div>');}}function updateSummaryStats(_0x450dba){const _0x210695=a46_0xeef118;if(!_0x450dba)return;const _0x3f8162=_0x450dba['size'],_0x1bf3a8=_0x450dba[_0x210695(0xe5)]['filter'](_0x270090=>_0x270090['data']()['active']!==![])['length'],_0x43b3e6=document['getElementById']('total-matches'),_0x57e1a5=document[_0x210695(0x88)]('total-players'),_0x23b78f=document['getElementById']('last-updated'),_0x27af92=state['cache'][state['currentGameMode']]?.['playerStats'];if(_0x27af92){const _0x20e04d=Array[_0x210695(0x93)](_0x27af92[_0x210695(0xa4)]())['reduce']((_0x28bb8b,_0x55ee2b)=>_0x28bb8b+_0x55ee2b['totalMatches'],0x0)/0x2;if(_0x43b3e6)_0x43b3e6['textContent']=Math['round'](_0x20e04d);}else{if(_0x43b3e6)_0x43b3e6['textContent']='N/A';}if(_0x57e1a5)_0x57e1a5['textContent']=_0x1bf3a8;if(_0x23b78f)_0x23b78f['textContent']=new Date()[_0x210695(0x8e)]();}function updateHiddenStatsDiv(_0x54ad35){const _0x1c746a=a46_0xeef118;let _0x3e2c11=document['getElementById'](_0x1c746a(0xf3));!_0x3e2c11&&(_0x3e2c11=document['createElement'](_0x1c746a(0x97)),_0x3e2c11['id']=_0x1c746a(0xf3),_0x3e2c11[_0x1c746a(0xcb)]['display']='none',document['body'][_0x1c746a(0xe3)](_0x3e2c11));const _0x59f3af=(_0x1546e6,_0x1222c1=()=>!![],_0x4f8b8f,_0x52a140=_0x1546e6)=>Array[_0x1c746a(0x93)](_0x54ad35[_0x1c746a(0xea)]())['filter'](_0x1222c1)['sort'](_0x4f8b8f)['slice'](0x0,0x3)[_0x1c746a(0x91)](([_0x4477a3,_0x1c2cc8])=>({'name':_0x4477a3,[_0x52a140]:_0x1c2cc8[_0x52a140]})),_0x27c121={'mode':state['currentGameMode'],'timestamp':new Date()['toISOString'](),'records':{'mostWins':_0x59f3af('wins',()=>!![],(_0x5827dc,_0x3fa92f)=>_0x3fa92f[0x1][_0x1c746a(0xf4)]-_0x5827dc[0x1][_0x1c746a(0xf4)]),'bestWinRate':_0x59f3af(_0x1c746a(0xb2),([_0x2d7a49,_0x584ed5])=>_0x584ed5['totalMatches']>=MIN_MATCHES_REQUIREMENT,(_0x50e48b,_0x6436a0)=>_0x6436a0[0x1][_0x1c746a(0xb2)]-_0x50e48b[0x1]['winRate']),'bestKD':_0x59f3af('kdRatio',([_0x10545f,_0x2974cb])=>_0x2974cb[_0x1c746a(0xd8)]>=MIN_MATCHES_REQUIREMENT,(_0x4615a4,_0x519652)=>_0x519652[0x1][_0x1c746a(0x7d)]-_0x4615a4[0x1]['kdRatio']),'mostMatches':_0x59f3af('totalMatches',()=>!![],(_0x4269cd,_0x5151d5)=>_0x5151d5[0x1]['totalMatches']-_0x4269cd[0x1][_0x1c746a(0xd8)])}};_0x3e2c11[_0x1c746a(0x9a)]=JSON[_0x1c746a(0xa2)](_0x27c121,null,0x2);}function setupGameModeToggle(){const _0x2fdcfe=document['querySelectorAll']('.toggle-btn');_0x2fdcfe['forEach'](_0x384989=>{const _0x574eee=a46_0xb09e,_0x334516=_0x384989[_0x574eee(0xd7)](!![]);_0x384989['parentNode'][_0x574eee(0xf2)](_0x334516,_0x384989),_0x334516['addEventListener'](_0x574eee(0x90),function(){const _0x30719a=_0x574eee;if(this['classList'][_0x30719a(0xc7)]('active'))return;const _0x43a668=this['getAttribute'](_0x30719a(0xc9))['toUpperCase']();console['log']('Switching\x20to\x20'+_0x43a668+'\x20mode...'),document[_0x30719a(0xcc)]('.toggle-btn')['forEach'](_0xbf3712=>_0xbf3712['classList'][_0x30719a(0xda)]('active')),this['classList']['add']('active'),state[_0x30719a(0xa0)]=_0x43a668;const _0x2be8aa=document[_0x30719a(0x88)]('load-more-btn');if(_0x2be8aa)_0x2be8aa['remove']();loadRecords(),loadMapStats();});});}function a46_0xb09e(_0x44acc4,_0x14f3c9){const _0xa37798=a46_0xabb2();return a46_0xb09e=function(_0x1d8f9a,_0x5a35c4){_0x1d8f9a=_0x1d8f9a-0x7a;let _0xabb281=_0xa37798[_0x1d8f9a];return _0xabb281;},a46_0xb09e(_0x44acc4,_0x14f3c9);}const style=document['createElement']('style');style['textContent']='\x0a\x20\x20\x20\x20.load-more-btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20linear-gradient(135deg,\x20#673ab7,\x20#9c27b0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2015px\x2025px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x2020px\x20auto;\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-weight:\x20600;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20all\x200.3s\x20ease;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(103,\x2058,\x20183,\x200.3);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.load-more-btn:hover:not(:disabled)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateY(-2px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x206px\x2016px\x20rgba(103,\x2058,\x20183,\x200.4);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.load-more-btn:disabled\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x200.7;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20not-allowed;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.load-more-btn\x20small\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x205px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x200.9;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.partial-data-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(255,\x20193,\x207,\x200.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(255,\x20193,\x207,\x200.3);\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ffc107;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.partial-data-indicator\x20i\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ffc107;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20/*\x20Enhanced\x20Map\x20Stats\x20Styling\x20*/\x0a\x20\x20\x20\x20.map-stats-header\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-stats-header\x20h3\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x201.4em;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-stats-header\x20.total-matches\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#666;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x200.9em;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-stats-list\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x2012px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-stat-item\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(255,\x20255,\x20255,\x200.8);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(0,\x200,\x200,\x200.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20all\x200.2s\x20ease;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-stat-item:hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(255,\x20255,\x20255,\x200.95);\x0a\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateY(-1px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,\x200,\x200,\x200.1);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-info\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20space-between;\x0a\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x208px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-rank\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#673ab7;\x0a\x20\x20\x20\x20\x20\x20\x20\x20min-width:\x2030px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-weight:\x20600;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20flex:\x201;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2012px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-count\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#666;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x200.9em;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-bar-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x2010px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-bar\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20flex:\x201;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x206px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20linear-gradient(90deg,\x20#673ab7,\x20#9c27b0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x203px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20width\x200.3s\x20ease;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-percentage\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x200.8em;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#666;\x0a\x20\x20\x20\x20\x20\x20\x20\x20min-width:\x2035px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20right;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-stats-footer\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding-top:\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-top:\x201px\x20solid\x20rgba(0,\x200,\x200,\x200.1);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.remaining-maps\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#666;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x200.9em;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-style:\x20italic;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.error-message\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#dc3545;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-style:\x20italic;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2020px;\x0a\x20\x20\x20\x20}\x0a',document[a46_0xeef118(0xb1)]['appendChild'](style),document['addEventListener']('DOMContentLoaded',()=>{const _0x134bc3=a46_0xeef118;Promise['all']([fetch(_0x134bc3(0xe1))[_0x134bc3(0xed)](_0x3e0376=>_0x3e0376['ok']?_0x3e0376['text']():Promise['reject']('Nav\x20fetch\x20failed')),fetch('../HTML/footer.html')[_0x134bc3(0xed)](_0x5eae68=>_0x5eae68['ok']?_0x5eae68[_0x134bc3(0xe9)]():Promise['reject']('Footer\x20fetch\x20failed'))])['then'](([_0xf42522,_0x92dbe1])=>{const _0x5d9f94=document['getElementById']('nav-placeholder'),_0x1ccf56=document['getElementById']('footer-placeholder');if(_0x5d9f94)_0x5d9f94['innerHTML']=_0xf42522;if(_0x1ccf56)_0x1ccf56['innerHTML']=_0x92dbe1;})['catch'](_0x4b6cb2=>{const _0x62952c=_0x134bc3;console[_0x62952c(0x99)]('Error\x20loading\x20nav\x20or\x20footer:',_0x4b6cb2);}),loadRecords(),loadMapStats(),setupGameModeToggle();});function calculatePlayerRecords(_0x2d5637,_0x484a22){const _0x57bbe5=a46_0xeef118;let _0x27829a=null,_0x436f05=Infinity;_0x484a22[_0x57bbe5(0x98)](_0x37cbf2=>{const _0x3bdcd1=_0x57bbe5,_0x143089=_0x2d5637[_0x3bdcd1(0xc0)](_0x592133=>_0x592133['winnerUsername']===_0x37cbf2[_0x3bdcd1(0xe6)]||_0x592133[_0x3bdcd1(0x83)]===_0x37cbf2['username']);if(_0x143089['length']<0x5)return;const _0x438e77=_0x143089['reduce']((_0x53ff3d,_0x2cc69c)=>{return _0x2cc69c['winnerUsername']===_0x37cbf2['username']?_0x53ff3d+(_0x2cc69c['winnerSuicides']||0x0):_0x53ff3d+(_0x2cc69c['loserSuicides']||0x0);},0x0),_0x57417f=_0x438e77/_0x143089[_0x3bdcd1(0x9d)]*0x64;_0x57417f<_0x436f05&&(_0x436f05=_0x57417f,_0x27829a={'player':_0x37cbf2['username'],'suicideRate':_0x57417f,'totalSuicides':_0x438e77,'totalMatches':_0x143089[_0x3bdcd1(0x9d)]});});const _0x164552=document[_0x57bbe5(0x88)](_0x57bbe5(0xca));_0x27829a?_0x164552[_0x57bbe5(0xad)]=_0x57bbe5(0x8f)+_0x27829a[_0x57bbe5(0x85)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22record-stat\x22>'+_0x27829a[_0x57bbe5(0xbd)][_0x57bbe5(0xbf)](0x2)+'%</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22record-detail\x22>'+_0x27829a['totalSuicides']+_0x57bbe5(0xd9)+_0x27829a[_0x57bbe5(0xd8)]+'\x20matches</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20':_0x164552['textContent']=_0x57bbe5(0xab);}