function a16_0x2470(){const _0x9f136b=['wg1Xy2i','B3DAEem','u1LAy0m','AfjrENG','yMDADhu','DgLTzxn0yw1W','x19WCM90B19F','mZC2nhz1BvPOAG','zxHPC3rZ','ENP5rfu','Bg9N','vM5Msxq','uxvRs2S','B3bWB25LBNq','Dg9tDhjPBMC','B09yC1G','DgfIBgu','rxjYB3iGzMv0y2HPBMCGruXpigHPC3rVCNK6','r29Sza','y29UC3rYDwn0B3i','quj1z3a','zg9JCW','nZDvDxnruNq','rM9jufK','CuHsu3a','C2vHCMnO','ruXpigHPC3rVCNKGCMvJB3jKzwqGzM9Yia','BhDAuue','q09vtgO','Bwf0y2G','AxLLq2O','zMLus2K','yMLUza','zwXVsgLZDg9YEq','vw5Yyw5Rzwq','rxjYB3iGCMvJB3jKAw5NievmtYbOAxn0B3j5oG','DgLXEhK','wfHewuK','y3DjtKW','DxnLCM5HBwu','B0LHuw0','yu5izhO','D2fYBG','mJa2mZGYtMzfwxPJ','yxPOqxa','y29UC29Szq','zgvZyW','t2HLCxi','otbJqwfYAM8','BMv3rwXV','yxbWBhK','odm4mZDNyM93twG','zgf0yq','zgvTB3rPB24','qNjVBNPL','ng9tsuPiEa','CgnfsMy','EgfQsgu','twPwELe','mZa4mZbTvw5Kq2q','E30Uy29UC3rYDwn0B3iOiNjLDhvYBIb0AgLZiIKOicK','yxvIBfO','sLzNtNC','mtm4nJrkwLHsCLq','vw5RBM93BIbqBgf5zxi','z2TvCxe','ru54zLy','zw50CMLLCW','y2jUDM4','ywXS','shDuD00','zhfmwLm','mtKYmtKWzgz6tNLj','zxHJzxb0Aw9U','v0XLrMO','ug5kA0m','mta1wLbMq3Hi','ChjLDMLVDxnfBg8','otbszvvJrxi','rw1LCMfSza','mtjiD0TPv3m','shLgyxe','CMv0DxjUicHMDw5JDgLVBIGPia','qwLzs1q','EKXADeW','ChjVDg90ExbL','EhrhD3i','Aw5MBW','vKj5rg4','tg51Dha','nZu2nZG2oefHr3nKvq','A3fAthu','zwXV','CLrOseC','zxjYB3i','BMfTzq','CxzLuu4','BgvUz3rO','u2LSDMvY'];a16_0x2470=function(){return _0x9f136b;};return a16_0x2470();}const a16_0x5ade55=a16_0x2950;(function(_0x22c841,_0x58adcc){const _0x58d02f=a16_0x2950,_0x1c9bf0=_0x22c841();while(!![]){try{const _0x252fa9=parseInt(_0x58d02f(0x12c))/0x1*(parseInt(_0x58d02f(0x120))/0x2)+parseInt(_0x58d02f(0xde))/0x3*(parseInt(_0x58d02f(0xfc))/0x4)+parseInt(_0x58d02f(0x13d))/0x5*(-parseInt(_0x58d02f(0x125))/0x6)+parseInt(_0x58d02f(0x10b))/0x7*(-parseInt(_0x58d02f(0x134))/0x8)+parseInt(_0x58d02f(0xe0))/0x9*(-parseInt(_0x58d02f(0x130))/0xa)+parseInt(_0x58d02f(0xec))/0xb+parseInt(_0x58d02f(0xe2))/0xc*(parseInt(_0x58d02f(0x128))/0xd);if(_0x252fa9===_0x58adcc)break;else _0x1c9bf0['push'](_0x1c9bf0['shift']());}catch(_0xd66d1){_0x1c9bf0['push'](_0x1c9bf0['shift']());}}}(a16_0x2470,0x7d689));const a16_0x1d8961=(function(){const _0x26ec39=a16_0x2950,_0x17db0c={};_0x17db0c['QukKk']=function(_0x580001,_0x5f3214){return _0x580001!==_0x5f3214;},_0x17db0c[_0x26ec39(0x114)]='UKaxy';const _0x1a1675=_0x17db0c;let _0x11218a=!![];return function(_0x42741b,_0x498003){const _0x426c37={'iyeCj':function(_0x365283,_0x4ee1d4){const _0x56663c=a16_0x2950;return _0x1a1675[_0x56663c(0x101)](_0x365283,_0x4ee1d4);},'ENxfV':_0x1a1675['fiTKi']},_0x2a8342=_0x11218a?function(){const _0x4c7392=a16_0x2950;if(_0x498003){if(_0x426c37[_0x4c7392(0x113)](_0x426c37[_0x4c7392(0x137)],_0x426c37['ENxfV'])){const _0x335273=_0x5c6cf2['constructor']['prototype'][_0x4c7392(0x115)](_0x55706b),_0x553d0e=_0x470b59[_0x331208],_0x497c9e=_0x265998[_0x553d0e]||_0x335273;_0x335273[_0x4c7392(0xfb)]=_0x1f2784[_0x4c7392(0x115)](_0x275860),_0x335273[_0x4c7392(0x103)]=_0x497c9e[_0x4c7392(0x103)][_0x4c7392(0x115)](_0x497c9e),_0x509b06[_0x553d0e]=_0x335273;}else{const _0x4789b8=_0x498003[_0x4c7392(0x127)](_0x42741b,arguments);return _0x498003=null,_0x4789b8;}}}:function(){};return _0x11218a=![],_0x2a8342;};}()),a16_0x3d5246=a16_0x1d8961(this,function(){const _0x241d64=a16_0x2950,_0xee949e={};_0xee949e[_0x241d64(0x132)]='(((.+)+)+)+$';const _0x2bd4fe=_0xee949e;return a16_0x3d5246['toString']()[_0x241d64(0x10e)](_0x2bd4fe[_0x241d64(0x132)])['toString']()[_0x241d64(0x108)](a16_0x3d5246)[_0x241d64(0x10e)](_0x2bd4fe[_0x241d64(0x132)]);});a16_0x3d5246();const a16_0x27c23d=(function(){let _0x58dd83=!![];return function(_0x3092fa,_0x460cf2){const _0x2c2615=a16_0x2950;if(_0x2c2615(0xe3)===_0x2c2615(0x11d)){const _0x13f243=_0x1022b4?function(){const _0x9cb68d=_0x2c2615;if(_0x168661){const _0x4fb3ac=_0x19768a[_0x9cb68d(0x127)](_0x4e0e5c,arguments);return _0x5dc54d=null,_0x4fb3ac;}}:function(){};return _0x283b0a=![],_0x13f243;}else{const _0x5b0816=_0x58dd83?function(){const _0xa5d3a2=_0x2c2615;if(_0x460cf2){const _0x3d05f9=_0x460cf2[_0xa5d3a2(0x127)](_0x3092fa,arguments);return _0x460cf2=null,_0x3d05f9;}}:function(){};return _0x58dd83=![],_0x5b0816;}};}()),a16_0x410647=a16_0x27c23d(this,function(){const _0x79d17e=a16_0x2950,_0x1011c0={'bgZtu':function(_0x5121fe,_0x19d8d7){return _0x5121fe(_0x19d8d7);},'KOrPp':function(_0x17aecd,_0x4e1154){return _0x17aecd+_0x4e1154;},'XXDYI':function(_0x4e0dbd,_0x238742){return _0x4e0dbd+_0x238742;},'qHRSp':_0x79d17e(0x11f),'HPSIS':_0x79d17e(0xe9),'cwINL':_0x79d17e(0x13e),'SXHaH':_0x79d17e(0x105),'kqZLu':function(_0x5118a9,_0x9ec536){return _0x5118a9<_0x9ec536;}},_0x1b8f27=function(){const _0x481cdb=_0x79d17e;let _0x3ad761;try{_0x3ad761=_0x1011c0[_0x481cdb(0xf9)](Function,_0x1011c0['KOrPp'](_0x1011c0[_0x481cdb(0x11a)](_0x481cdb(0xe4),_0x481cdb(0x131)),');'))();}catch(_0x701550){_0x3ad761=window;}return _0x3ad761;},_0x2454c2=_0x1b8f27(),_0x46236a=_0x2454c2[_0x79d17e(0x122)]=_0x2454c2[_0x79d17e(0x122)]||{},_0x663b1b=[_0x79d17e(0xff),_0x1011c0[_0x79d17e(0x10d)],_0x1011c0['HPSIS'],'error',_0x1011c0[_0x79d17e(0x11b)],_0x1011c0['SXHaH'],'trace'];for(let _0x3fb0e1=0x0;_0x1011c0[_0x79d17e(0xed)](_0x3fb0e1,_0x663b1b[_0x79d17e(0xf3)]);_0x3fb0e1++){const _0x525f6e=a16_0x27c23d[_0x79d17e(0x108)][_0x79d17e(0xe7)]['bind'](a16_0x27c23d),_0x44580f=_0x663b1b[_0x3fb0e1],_0xd88718=_0x46236a[_0x44580f]||_0x525f6e;_0x525f6e[_0x79d17e(0xfb)]=a16_0x27c23d[_0x79d17e(0x115)](a16_0x27c23d),_0x525f6e['toString']=_0xd88718[_0x79d17e(0x103)]['bind'](_0xd88718),_0x46236a[_0x44580f]=_0x525f6e;}});a16_0x410647();import{collection,addDoc,serverTimestamp,query,orderBy,getDocs,limit,startAfter,doc,setDoc,getDoc}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db}from'./firebase-config.js';const a16_0x2d9187={};a16_0x2d9187[a16_0x5ade55(0xf1)]=a16_0x5ade55(0x107),a16_0x2d9187[a16_0x5ade55(0xee)]=0x708;const a16_0xef7d64={};a16_0xef7d64[a16_0x5ade55(0xf1)]=a16_0x5ade55(0xf4),a16_0xef7d64[a16_0x5ade55(0xee)]=0x640;const a16_0x13b002={};a16_0x13b002[a16_0x5ade55(0xf1)]='Bronze',a16_0x13b002[a16_0x5ade55(0xee)]=0x578;const a16_0x2fffba={};a16_0x2fffba['name']=a16_0x5ade55(0x117),a16_0x2fffba[a16_0x5ade55(0xee)]=0x4b0;const ELO_THRESHOLDS=[a16_0x2d9187,a16_0xef7d64,a16_0x13b002,a16_0x2fffba];async function getUsernameById(_0x420b8f){const _0xc3af9e=a16_0x5ade55,_0x2556e3={'MSIWT':'Error\x20fetching\x20username:','Lnutp':_0xc3af9e(0x135),'VByDn':function(_0x48f914,_0x26f77f){return _0x48f914!==_0x26f77f;},'dqLZS':_0xc3af9e(0x119),'pcEJf':function(_0x3134d9,_0x5c230c){return _0x3134d9(_0x5c230c);},'SYZcC':function(_0x1b8525,_0x533bd7){return _0x1b8525!==_0x533bd7;},'zLZtL':_0xc3af9e(0x11e)};try{if(_0x2556e3[_0xc3af9e(0xea)](_0xc3af9e(0xef),_0x2556e3[_0xc3af9e(0x13c)])){if(!_0x420b8f)return _0x2556e3[_0xc3af9e(0xeb)];const _0x2baa7e=await _0x2556e3[_0xc3af9e(0x12d)](getDoc,doc(db,'players',_0x420b8f));return _0x2baa7e[_0xc3af9e(0xfd)]()?_0x2baa7e[_0xc3af9e(0x129)]()[_0xc3af9e(0x11c)]:_0xc3af9e(0x135);}else return _0x38cd59[_0xc3af9e(0xf0)](_0x2556e3['MSIWT'],_0x525978),_0x2556e3['Lnutp'];}catch(_0xc897d9){if(_0x2556e3[_0xc3af9e(0xf7)](_0x2556e3[_0xc3af9e(0xe6)],_0x2556e3[_0xc3af9e(0xe6)])){const _0x565937=_0x582b3a[_0xc3af9e(0x127)](_0x3c2e05,arguments);return _0x187a10=null,_0x565937;}else return console['error'](_0x2556e3['MSIWT'],_0xc897d9),_0x2556e3[_0xc3af9e(0xeb)];}}function a16_0x2950(_0xe66f0f,_0x15a9b5){const _0x2f55a8=a16_0x2470();return a16_0x2950=function(_0x410647,_0x27c23d){_0x410647=_0x410647-0xdd;let _0x5bb380=_0x2f55a8[_0x410647];if(a16_0x2950['oxIkUB']===undefined){var _0x12b92f=function(_0x2950ed){const _0x1cd6c6='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x3f7201='',_0xe1f0ed='',_0x2b8b44=_0x3f7201+_0x12b92f;for(let _0x1137d4=0x0,_0x19e590,_0x3be9d7,_0x2f743b=0x0;_0x3be9d7=_0x2950ed['charAt'](_0x2f743b++);~_0x3be9d7&&(_0x19e590=_0x1137d4%0x4?_0x19e590*0x40+_0x3be9d7:_0x3be9d7,_0x1137d4++%0x4)?_0x3f7201+=_0x2b8b44['charCodeAt'](_0x2f743b+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x19e590>>(-0x2*_0x1137d4&0x6)):_0x1137d4:0x0){_0x3be9d7=_0x1cd6c6['indexOf'](_0x3be9d7);}for(let _0x2fd52b=0x0,_0x3c31cb=_0x3f7201['length'];_0x2fd52b<_0x3c31cb;_0x2fd52b++){_0xe1f0ed+='%'+('00'+_0x3f7201['charCodeAt'](_0x2fd52b)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0xe1f0ed);};a16_0x2950['SpEylK']=_0x12b92f,_0xe66f0f=arguments,a16_0x2950['oxIkUB']=!![];}const _0x3d5246=_0x2f55a8[0x0],_0x1d8961=_0x410647+_0x3d5246,_0x2470b1=_0xe66f0f[_0x1d8961];if(!_0x2470b1){const _0x26e0f2=function(_0x13fc0e){this['XSFsJb']=_0x13fc0e,this['kdeiwK']=[0x1,0x0,0x0],this['Ubjixx']=function(){return'newState';},this['DVFmee']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['DUvlTD']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x26e0f2['prototype']['HfBAdc']=function(){const _0x1022b4=new RegExp(this['DVFmee']+this['DUvlTD']),_0x4c1915=_0x1022b4['test'](this['Ubjixx']['toString']())?--this['kdeiwK'][0x1]:--this['kdeiwK'][0x0];return this['KOXXhz'](_0x4c1915);},_0x26e0f2['prototype']['KOXXhz']=function(_0x2c993e){if(!Boolean(~_0x2c993e))return _0x2c993e;return this['NQtJme'](this['XSFsJb']);},_0x26e0f2['prototype']['NQtJme']=function(_0x259a0d){for(let _0x2bec3a=0x0,_0x283b0a=this['kdeiwK']['length'];_0x2bec3a<_0x283b0a;_0x2bec3a++){this['kdeiwK']['push'](Math['round'](Math['random']())),_0x283b0a=this['kdeiwK']['length'];}return _0x259a0d(this['kdeiwK'][0x0]);},new _0x26e0f2(a16_0x2950)['HfBAdc'](),_0x5bb380=a16_0x2950['SpEylK'](_0x5bb380),_0xe66f0f[_0x1d8961]=_0x5bb380;}else _0x5bb380=_0x2470b1;return _0x5bb380;},a16_0x2950(_0xe66f0f,_0x15a9b5);}export async function recordEloChange({playerId:_0x25a0db,previousElo:_0x1dd588,newElo:_0x18d23b,opponentId:_0x38aa68,matchResult:_0x246431,previousPosition:_0x476345,newPosition:_0x108239,isPromotion:isPromotion=![],isDemotion:isDemotion=![],timestamp:_0x61c6c4}){const _0x34c51a=a16_0x5ade55,_0x14c459={'xtGwr':function(_0x415847,_0x4844c8){return _0x415847(_0x4844c8);},'hRQzx':function(_0x4abf6f,_0x14678){return _0x4abf6f+_0x14678;},'xajHe':_0x34c51a(0xe4),'lwZQA':function(_0x2cdc6d,_0x1ee555){return _0x2cdc6d!==_0x1ee555;},'VnfIt':_0x34c51a(0xf6),'gkUqq':_0x34c51a(0x116),'MjVzQ':_0x34c51a(0x112),'azhAp':'promotion','ABugp':function(_0x211d44,_0x2936d5){return _0x211d44>=_0x2936d5;},'yTILy':_0x34c51a(0xe1),'HwTwM':function(_0xebf65,_0x4519a2){return _0xebf65>=_0x4519a2;},'Xmqcb':_0x34c51a(0x107),'mNSTw':function(_0x2e2530,_0x12ae04,_0x33304c){return _0x2e2530(_0x12ae04,_0x33304c);},'PqXAs':function(_0x27929e,_0x359598){return _0x27929e-_0x359598;},'FoIPY':_0x34c51a(0x118)};try{if(_0x14c459[_0x34c51a(0x110)](_0x14c459[_0x34c51a(0x100)],_0x14c459[_0x34c51a(0x100)])){let _0x2883f8;try{_0x2883f8=xcpREx[_0x34c51a(0xe8)](_0x2f63f0,xcpREx[_0x34c51a(0xf8)](xcpREx[_0x34c51a(0x12e)]+_0x34c51a(0x131),');'))();}catch(_0x3efb7c){_0x2883f8=_0x37b51a;}return _0x2883f8;}else{const _0x47af18=_0x14c459[_0x34c51a(0xe8)](doc,collection(db,_0x14c459[_0x34c51a(0x136)]));let _0x353955=_0x14c459[_0x34c51a(0x12f)];if(isPromotion)_0x353955=_0x14c459[_0x34c51a(0x121)];if(isDemotion)_0x353955=_0x34c51a(0x12a);let _0x2b89eb=_0x34c51a(0x117);if(_0x14c459[_0x34c51a(0x109)](_0x18d23b,0x834))_0x2b89eb=_0x14c459['yTILy'];else{if(_0x14c459[_0x34c51a(0x13b)](_0x18d23b,0x708))_0x2b89eb=_0x14c459[_0x34c51a(0xf5)];else{if(_0x18d23b>=0x640)_0x2b89eb=_0x34c51a(0xf4);else{if(_0x14c459[_0x34c51a(0x13b)](_0x18d23b,0x578))_0x2b89eb=_0x34c51a(0x12b);}}}return await _0x14c459['mNSTw'](setDoc,_0x47af18,{'type':_0x353955,'player':_0x25a0db,'opponent':_0x38aa68,'previousElo':_0x1dd588,'newElo':_0x18d23b,'change':_0x14c459['PqXAs'](_0x18d23b,_0x1dd588),'matchResult':_0x246431,'previousPosition':_0x476345,'newPosition':_0x108239,'rankAchieved':_0x2b89eb,'timestamp':_0x61c6c4}),console[_0x34c51a(0xff)](_0x34c51a(0x10f)+_0x25a0db),!![];}}catch(_0x46f1a2){console[_0x34c51a(0xf0)](_0x14c459[_0x34c51a(0x10c)],_0x46f1a2);throw _0x46f1a2;}}export async function getEloHistory(){const _0x30a8f3=a16_0x5ade55,_0x50d9a2={'qveQN':function(_0x1efc65,_0x31cbcc){return _0x1efc65(_0x31cbcc);},'zzyDU':function(_0x427819,_0x37b7a0){return _0x427819(_0x37b7a0);},'PnJkC':function(_0x4cf038,_0x15b191){return _0x4cf038-_0x15b191;},'DHSMc':function(_0x3f15d1,_0x474590){return _0x3f15d1!==_0x474590;},'JVgNw':'utAop','oOXsX':_0x30a8f3(0x124),'wtTaL':_0x30a8f3(0x116),'WLeFj':function(_0x1d519c,_0x402278,_0x129709){return _0x1d519c(_0x402278,_0x129709);},'cbnvn':function(_0x28ea19,_0x27cd75,_0x1f3ad6){return _0x28ea19(_0x27cd75,_0x1f3ad6);},'COULj':_0x30a8f3(0xfa),'clzds':_0x30a8f3(0x123),'AiYKT':function(_0x566fea,_0x23ac47){return _0x566fea(_0x23ac47);}};try{if(_0x50d9a2['DHSMc'](_0x50d9a2[_0x30a8f3(0x133)],_0x50d9a2[_0x30a8f3(0x104)])){const _0x1ce0ea=collection(db,_0x50d9a2['wtTaL']),_0x3e79cf=_0x50d9a2[_0x30a8f3(0x13f)](query,_0x1ce0ea,_0x50d9a2[_0x30a8f3(0x139)](orderBy,_0x50d9a2[_0x30a8f3(0x111)],_0x50d9a2['clzds'])),_0x44f2c1=await _0x50d9a2[_0x30a8f3(0xe5)](getDocs,_0x3e79cf),_0xc5b1ee=_0x44f2c1[_0x30a8f3(0x10a)]['map'](async _0x1049ac=>{const _0x106084=_0x30a8f3,_0x83deaa=_0x1049ac[_0x106084(0x129)](),[_0x26e990,_0x4a3606]=await Promise['all']([_0x50d9a2[_0x106084(0xf2)](getUsernameById,_0x83deaa['player']),_0x50d9a2[_0x106084(0xfe)](getUsernameById,_0x83deaa[_0x106084(0x102)])]);return{..._0x83deaa,'playerUsername':_0x26e990,'opponentUsername':_0x4a3606,'change':_0x50d9a2[_0x106084(0xdd)](_0x83deaa[_0x106084(0x126)],_0x83deaa[_0x106084(0xdf)]),'timestamp':_0x83deaa['timestamp']};}),_0x236038=await Promise[_0x30a8f3(0x13a)](_0xc5b1ee),_0x385c95={};return _0x385c95[_0x30a8f3(0x138)]=_0x236038,_0x385c95;}else{const _0x56d3e2=_0x3b473e?function(){const _0x4f0c4e=_0x30a8f3;if(_0x567cd4){const _0x2c8128=_0x358ecf[_0x4f0c4e(0x127)](_0x346eed,arguments);return _0x2c14de=null,_0x2c8128;}}:function(){};return _0x46a9da=![],_0x56d3e2;}}catch(_0x5b90d1){console[_0x30a8f3(0xf0)](_0x30a8f3(0x106),_0x5b90d1);throw _0x5b90d1;}}export function resetPagination(){lastVisible=null;}