const a27_0x2e9bd1=a27_0x25c4;(function(_0x42d235,_0x9339bb){const _0x52f568=a27_0x25c4,_0x4f4cc9=_0x42d235();while(!![]){try{const _0x3ea2ec=parseInt(_0x52f568(0x1be))/0x1*(parseInt(_0x52f568(0x21a))/0x2)+parseInt(_0x52f568(0x262))/0x3*(-parseInt(_0x52f568(0x238))/0x4)+parseInt(_0x52f568(0x1f0))/0x5+-parseInt(_0x52f568(0x25a))/0x6*(parseInt(_0x52f568(0x217))/0x7)+-parseInt(_0x52f568(0x20c))/0x8*(-parseInt(_0x52f568(0x252))/0x9)+-parseInt(_0x52f568(0x1ba))/0xa+parseInt(_0x52f568(0x226))/0xb;if(_0x3ea2ec===_0x9339bb)break;else _0x4f4cc9['push'](_0x4f4cc9['shift']());}catch(_0x56a11a){_0x4f4cc9['push'](_0x4f4cc9['shift']());}}}(a27_0x4e34,0x3d780));const a27_0x47aaea=(function(){let _0x14f20d=!![];return function(_0x370e0e,_0x2aa5fe){const _0x27049a=_0x14f20d?function(){const _0x1081df=a27_0x25c4;if(_0x2aa5fe){const _0x8b1d7a=_0x2aa5fe[_0x1081df(0x22a)](_0x370e0e,arguments);return _0x2aa5fe=null,_0x8b1d7a;}}:function(){};return _0x14f20d=![],_0x27049a;};}()),a27_0xc527a5=a27_0x47aaea(this,function(){const _0x47bc5f=a27_0x25c4;return a27_0xc527a5[_0x47bc5f(0x1d2)]()[_0x47bc5f(0x1ea)](_0x47bc5f(0x1c4))['toString']()[_0x47bc5f(0x1ed)](a27_0xc527a5)[_0x47bc5f(0x1ea)]('(((.+)+)+)+$');});a27_0xc527a5();const a27_0x201a00=(function(){let _0x201c15=!![];return function(_0x10e53d,_0x2830d5){const _0x4bfec4=_0x201c15?function(){const _0x1b9397=a27_0x25c4;if(_0x2830d5){const _0x2d142e=_0x2830d5[_0x1b9397(0x22a)](_0x10e53d,arguments);return _0x2830d5=null,_0x2d142e;}}:function(){};return _0x201c15=![],_0x4bfec4;};}()),a27_0x4b56e6=a27_0x201a00(this,function(){const _0xa6861f=a27_0x25c4,_0x28639b=function(){const _0x335da1=a27_0x25c4;let _0x257630;try{_0x257630=Function(_0x335da1(0x232)+_0x335da1(0x1e8)+');')();}catch(_0x2b21ba){_0x257630=window;}return _0x257630;},_0x3bc4ed=_0x28639b(),_0x33ce53=_0x3bc4ed[_0xa6861f(0x23e)]=_0x3bc4ed[_0xa6861f(0x23e)]||{},_0x1695a9=[_0xa6861f(0x1f5),'warn',_0xa6861f(0x1b9),'error','exception','table',_0xa6861f(0x213)];for(let _0x1ac59c=0x0;_0x1ac59c<_0x1695a9[_0xa6861f(0x1c8)];_0x1ac59c++){const _0x5e4807=a27_0x201a00['constructor']['prototype'][_0xa6861f(0x209)](a27_0x201a00),_0x42d9a0=_0x1695a9[_0x1ac59c],_0x2f6aa6=_0x33ce53[_0x42d9a0]||_0x5e4807;_0x5e4807[_0xa6861f(0x1a4)]=a27_0x201a00['bind'](a27_0x201a00),_0x5e4807[_0xa6861f(0x1d2)]=_0x2f6aa6[_0xa6861f(0x1d2)]['bind'](_0x2f6aa6),_0x33ce53[_0x42d9a0]=_0x5e4807;}});a27_0x4b56e6();import{db}from'./firebase-config.js';import{collection,getDocs,deleteDoc,doc,getDoc,query,where,updateDoc,Timestamp,onSnapshot,orderBy,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{getRankStyle}from'./ranks.js';import{displayLadderD2}from'./ladderd2.js';import{displayLadderD3}from'./ladderd3.js';import{getAuth}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';import{getLadderData,getEloHistoryBatch,setupEfficientListener}from'./services/firebaseService.js';import{displayLadderDuos}from'./ladderduos.js';const auth=getAuth();let activeListeners=[];export async function loadLadderData(_0x2ff40b=0x1){const _0x5306e3=a27_0x25c4;try{document[_0x5306e3(0x1b8)](_0x5306e3(0x228))['style'][_0x5306e3(0x1cd)]=_0x5306e3(0x223);const _0xf32a17=await getLadderData(_0x2ff40b);_0xf32a17[_0x5306e3(0x261)]((_0x5ce044,_0x184e40)=>_0x184e40[_0x5306e3(0x1d0)]-_0x5ce044[_0x5306e3(0x1d0)]);const _0x983035=_0xf32a17[_0x5306e3(0x1dc)](_0x293fc1=>_0x293fc1['id']),_0x243e31=await getEloHistoryBatch(_0x983035,_0x2ff40b),_0x3b932a=_0xf32a17['map']((_0x72f555,_0x5a30d3)=>{const _0x6f33d9=_0x5306e3,_0xd1b470=_0x243e31[_0x72f555['id']]||[],_0xc9a9f0=_0xd1b470[_0x6f33d9(0x261)]((_0x56d957,_0x5824e0)=>new Date(_0x5824e0[_0x6f33d9(0x257)])-new Date(_0x56d957['date']))[_0x6f33d9(0x221)](0x0,0x5);return{..._0x72f555,'rank':_0x5a30d3+0x1,'lastMatches':_0xc9a9f0,'recentActivity':_0xc9a9f0[_0x6f33d9(0x1c8)]>0x0};});renderLadder(_0x3b932a),setupRealTimeUpdates(_0x2ff40b);}catch(_0x538629){console[_0x5306e3(0x242)](_0x5306e3(0x1f9),_0x538629),document[_0x5306e3(0x1b8)]('error-message')[_0x5306e3(0x18f)]=_0x5306e3(0x1fa);}finally{document[_0x5306e3(0x1b8)](_0x5306e3(0x228))[_0x5306e3(0x24a)][_0x5306e3(0x1cd)]='none';}}function setupRealTimeUpdates(_0x357d23=0x1){const _0x478f0e=a27_0x25c4;activeListeners[_0x478f0e(0x236)](_0x546ff4=>_0x546ff4()),activeListeners=[];const _0x410c0b=_0x357d23===0x1?_0x478f0e(0x259):_0x478f0e(0x24d)+_0x357d23,_0x540d95=_0x357d23===0x1?_0x478f0e(0x210):_0x478f0e(0x1bc)+_0x357d23,_0x219061=new Date();_0x219061[_0x478f0e(0x250)](_0x219061[_0x478f0e(0x20a)]()-0x1);const _0x589211=setupEfficientListener(_0x540d95,[where(_0x478f0e(0x257),'>=',_0x219061[_0x478f0e(0x1d4)]()),limit(0xa),orderBy(_0x478f0e(0x257),'desc')],async _0x18bf61=>{_0x18bf61['length']>0x0&&await loadLadderData(_0x357d23);});activeListeners[_0x478f0e(0x18d)](_0x589211);}function a27_0x25c4(_0x51938d,_0x28643c){const _0x30c701=a27_0x4e34();return a27_0x25c4=function(_0x4b56e6,_0x201a00){_0x4b56e6=_0x4b56e6-0x18d;let _0x5f0201=_0x30c701[_0x4b56e6];return _0x5f0201;},a27_0x25c4(_0x51938d,_0x28643c);}export function cleanupListeners(){activeListeners['forEach'](_0x56561=>_0x56561()),activeListeners=[];}function renderLadder(_0x4d856e){const _0x41bcda=a27_0x25c4,_0x201e51=document[_0x41bcda(0x1b8)]('ladder-container');_0x201e51['innerHTML']='',_0x4d856e[_0x41bcda(0x236)](_0x275fc4=>{const _0x444baa=_0x41bcda,_0x567539=document[_0x444baa(0x1ce)](_0x444baa(0x25f));_0x567539[_0x444baa(0x197)]=_0x444baa(0x1f2),_0x567539[_0x444baa(0x265)]=_0x444baa(0x245)+_0x275fc4[_0x444baa(0x1c5)]+'</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-name\x22>'+(_0x275fc4[_0x444baa(0x1ec)]||_0x275fc4['id'])+_0x444baa(0x1f1)+_0x275fc4[_0x444baa(0x1d0)]+_0x444baa(0x1cb)+(_0x275fc4[_0x444baa(0x1ae)]?_0x444baa(0x214):_0x444baa(0x1cc))+_0x444baa(0x1ff)+(_0x275fc4['recentActivity']?'Active':_0x444baa(0x1fb))+_0x444baa(0x1b7),_0x201e51['appendChild'](_0x567539);});}const playerCache={'data':null,'timestamp':0x0},CACHE_DURATION=0x7530;async function displayLadder(_0x11f6ac=![]){const _0x294cff=a27_0x25c4,_0x22f34f=document[_0x294cff(0x24c)](_0x294cff(0x1df));if(!_0x22f34f){console[_0x294cff(0x242)](_0x294cff(0x193));return;}_0x22f34f[_0x294cff(0x265)]=_0x294cff(0x1ad);try{const _0x5a0342=Date[_0x294cff(0x227)]();if(!_0x11f6ac&&playerCache[_0x294cff(0x1f6)]&&_0x5a0342-playerCache[_0x294cff(0x1c2)]<CACHE_DURATION){console[_0x294cff(0x1f5)](_0x294cff(0x1d1)),updateLadderDisplay(playerCache['data']);return;}const _0x5d67f3=collection(db,_0x294cff(0x259)),_0x2c7ea1=await getDocs(_0x5d67f3),_0x45fc58=[];_0x2c7ea1[_0x294cff(0x236)](_0x548a68=>{const _0x5d7ced=_0x294cff,_0x42e963=_0x548a68[_0x5d7ced(0x1f6)]();_0x45fc58[_0x5d7ced(0x18d)]({..._0x42e963,'id':_0x548a68['id'],'elo':_0x42e963[_0x5d7ced(0x237)]||0x0,'position':_0x42e963[_0x5d7ced(0x215)]||Number[_0x5d7ced(0x196)]});});const _0x23a326=collection(db,_0x294cff(0x24e)),_0x5596d9=await getDocs(_0x23a326),_0x4eb596=new Map();_0x5596d9['forEach'](_0x476d32=>{const _0x47e85f=_0x294cff,_0x2a7bfd=_0x476d32[_0x47e85f(0x1f6)]();_0x2a7bfd[_0x47e85f(0x1ec)]&&_0x4eb596[_0x47e85f(0x25d)](_0x2a7bfd[_0x47e85f(0x1ec)][_0x47e85f(0x200)](),_0x2a7bfd);}),_0x45fc58[_0x294cff(0x236)](_0x19abe9=>{const _0x2df7ce=_0x294cff,_0x54bb81=_0x19abe9[_0x2df7ce(0x1ec)]?.[_0x2df7ce(0x200)]();if(_0x54bb81&&_0x4eb596[_0x2df7ce(0x198)](_0x54bb81)){const _0x5166b5=_0x4eb596[_0x2df7ce(0x20b)](_0x54bb81);_0x5166b5[_0x2df7ce(0x253)]&&(_0x19abe9[_0x2df7ce(0x253)]=_0x5166b5[_0x2df7ce(0x253)][_0x2df7ce(0x200)]());}});const _0x306f8d=_0x45fc58[_0x294cff(0x1dc)](_0x125672=>_0x125672[_0x294cff(0x1ec)]),_0x3e2885=await fetchBatchMatchStats(_0x306f8d);_0x45fc58[_0x294cff(0x261)]((_0x104c45,_0x33d116)=>{const _0x26ed10=_0x294cff,_0x1d3397=_0x3e2885['get'](_0x104c45[_0x26ed10(0x1ec)])?.['totalMatches']||0x0,_0x37c527=_0x3e2885[_0x26ed10(0x20b)](_0x33d116['username'])?.[_0x26ed10(0x1a7)]||0x0;if(_0x1d3397===0x0!==(_0x37c527===0x0))return _0x1d3397===0x0?0x1:-0x1;return(_0x104c45['position']||0x3e7)-(_0x33d116[_0x26ed10(0x215)]||0x3e7);}),_0x45fc58[_0x294cff(0x236)]((_0x440f3a,_0x29b122)=>{const _0x13a310=_0x294cff;_0x440f3a[_0x13a310(0x215)]=_0x29b122+0x1;}),playerCache[_0x294cff(0x1f6)]=_0x45fc58,playerCache[_0x294cff(0x1c2)]=_0x5a0342,updateLadderDisplay(_0x45fc58,_0x3e2885);}catch(_0xd5eb5e){console[_0x294cff(0x242)](_0x294cff(0x22f),_0xd5eb5e),_0x22f34f[_0x294cff(0x265)]=_0x294cff(0x1a0)+_0xd5eb5e[_0x294cff(0x1fd)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}async function fetchBatchMatchStats(_0x5889a9){const _0x2b4863=a27_0x25c4,_0x197537=new Map();try{_0x5889a9[_0x2b4863(0x236)](_0x4fca2d=>{_0x197537['set'](_0x4fca2d,{'totalMatches':0x0,'wins':0x0,'losses':0x0,'totalKills':0x0,'totalDeaths':0x0,'kda':0x0,'winRate':0x0});});const _0x55edb6=collection(db,'approvedMatches'),_0x512664=await getDocs(_0x55edb6);_0x512664['forEach'](_0x194ff1=>{const _0x3f9b00=_0x2b4863,_0x459e39=_0x194ff1[_0x3f9b00(0x1f6)](),_0x48bbca=_0x459e39[_0x3f9b00(0x190)],_0x570bed=_0x459e39['loserUsername'];if(_0x5889a9[_0x3f9b00(0x218)](_0x48bbca)){const _0x36b296=_0x197537['get'](_0x48bbca);_0x36b296[_0x3f9b00(0x21d)]++,_0x36b296[_0x3f9b00(0x1a7)]++,_0x36b296['totalKills']+=parseInt(_0x459e39[_0x3f9b00(0x1d9)])||0x0,_0x36b296[_0x3f9b00(0x23a)]+=parseInt(_0x459e39[_0x3f9b00(0x1e4)])||0x0;}if(_0x5889a9[_0x3f9b00(0x218)](_0x570bed)){const _0x3aac62=_0x197537[_0x3f9b00(0x20b)](_0x570bed);_0x3aac62[_0x3f9b00(0x1dd)]++,_0x3aac62['totalMatches']++,_0x3aac62['totalKills']+=parseInt(_0x459e39['loserScore'])||0x0,_0x3aac62['totalDeaths']+=parseInt(_0x459e39[_0x3f9b00(0x1d9)])||0x0;}}),_0x5889a9[_0x2b4863(0x236)](_0x442dfa=>{const _0x105af6=_0x2b4863,_0x3f4c6b=_0x197537[_0x105af6(0x20b)](_0x442dfa);_0x3f4c6b[_0x105af6(0x23f)]=_0x3f4c6b[_0x105af6(0x23a)]>0x0?(_0x3f4c6b[_0x105af6(0x204)]/_0x3f4c6b[_0x105af6(0x23a)])['toFixed'](0x2):_0x3f4c6b[_0x105af6(0x204)][_0x105af6(0x1a2)](0x2),_0x3f4c6b[_0x105af6(0x247)]=_0x3f4c6b['totalMatches']>0x0?(_0x3f4c6b['wins']/_0x3f4c6b[_0x105af6(0x1a7)]*0x64)[_0x105af6(0x1a2)](0x1):0x0;});}catch(_0x2c5d3e){console['error'](_0x2b4863(0x241),_0x2c5d3e);}return _0x197537;}function createPlayerRow(_0x4927ae,_0x1c26c2){const _0x40a6e3=a27_0x25c4,_0xeff8ee=parseFloat(_0x4927ae[_0x40a6e3(0x1d0)])||0x0;let _0x77efeb='gray';if(_0xeff8ee>=0x7d0)_0x77efeb=_0x40a6e3(0x23c);else{if(_0xeff8ee>=0x708)_0x77efeb='#FFD700';else{if(_0xeff8ee>=0x640)_0x77efeb='#b9f1fc';else _0xeff8ee>=0x578&&(_0x77efeb=_0x40a6e3(0x1b0));}}let _0x1fc007='';return _0x4927ae[_0x40a6e3(0x253)]&&(_0x1fc007=_0x40a6e3(0x19c)+_0x4927ae[_0x40a6e3(0x253)][_0x40a6e3(0x200)]()+_0x40a6e3(0x1ef)+_0x4927ae[_0x40a6e3(0x253)]+_0x40a6e3(0x1e7)),_0x40a6e3(0x19d)+_0x4927ae[_0x40a6e3(0x215)]+_0x40a6e3(0x1bd)+encodeURIComponent(_0x4927ae[_0x40a6e3(0x1ec)])+'&ladder=d1\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22color:\x20'+_0x77efeb+';\x20text-decoration:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4927ae[_0x40a6e3(0x1ec)]+_0x40a6e3(0x220)+_0x1fc007+_0x40a6e3(0x244)+_0x77efeb+_0x40a6e3(0x1ab)+_0xeff8ee+_0x40a6e3(0x1e3)+_0x1c26c2[_0x40a6e3(0x1a7)]+_0x40a6e3(0x1e5)+_0x1c26c2['wins']+_0x40a6e3(0x1e5)+_0x1c26c2['losses']+_0x40a6e3(0x1e5)+_0x1c26c2[_0x40a6e3(0x23f)]+_0x40a6e3(0x1e5)+_0x1c26c2[_0x40a6e3(0x247)]+'%</td>\x0a\x20\x20\x20\x20</tr>';}function getPlayerRankName(_0x4df5cb){const _0x17b6eb=a27_0x25c4;if(_0x4df5cb>=0x7d0)return _0x17b6eb(0x1c1);if(_0x4df5cb>=0x708)return _0x17b6eb(0x255);if(_0x4df5cb>=0x640)return _0x17b6eb(0x224);if(_0x4df5cb>=0x578)return _0x17b6eb(0x23d);return _0x17b6eb(0x251);}async function getPlayersLastEloChanges(_0x1b5f3e){const _0x34c279=a27_0x25c4,_0x1713fe=new Map();_0x1b5f3e['forEach'](_0x58951e=>{const _0x1e37b1=a27_0x25c4;_0x1713fe[_0x1e37b1(0x25d)](_0x58951e,0x0);});try{const _0x381f87=collection(db,'players'),_0x18abed=await getDocs(_0x381f87),_0x1bb59f=new Map(),_0x57bc28=new Map();_0x18abed[_0x34c279(0x236)](_0x467492=>{const _0x5603e5=_0x34c279,_0xe73d6d=_0x467492[_0x5603e5(0x1f6)]();_0xe73d6d['username']&&(_0x1bb59f[_0x5603e5(0x25d)](_0x467492['id'],_0xe73d6d[_0x5603e5(0x1ec)]),_0x57bc28[_0x5603e5(0x25d)](_0xe73d6d[_0x5603e5(0x1ec)][_0x5603e5(0x200)](),_0x467492['id']));});const _0x21c666=collection(db,_0x34c279(0x1b5)),_0x176185=query(_0x21c666,orderBy('timestamp','desc'),limit(0x12c)),_0x3ea9c4=await getDocs(_0x176185);if(_0x3ea9c4[_0x34c279(0x233)])return console[_0x34c279(0x1f5)](_0x34c279(0x203)),_0x1713fe;if(_0x3ea9c4['docs']['length']>0x0){const _0x20e35c=_0x3ea9c4['docs'][0x0]['data']();if(_0x20e35c[_0x34c279(0x191)]&&_0x1bb59f[_0x34c279(0x198)](_0x20e35c[_0x34c279(0x191)])){}}const _0x120af9=new Map();let _0x2448ee=0x0;_0x3ea9c4[_0x34c279(0x236)](_0x26fc66=>{const _0x354233=_0x34c279,_0xa77942=_0x26fc66[_0x354233(0x1f6)]();let _0x236020=null;if(_0xa77942[_0x354233(0x191)]&&_0x1bb59f[_0x354233(0x198)](_0xa77942[_0x354233(0x191)]))_0x236020=_0x1bb59f[_0x354233(0x20b)](_0xa77942[_0x354233(0x191)]);else{if(_0xa77942['username']&&_0x57bc28['has'](_0xa77942[_0x354233(0x1ec)][_0x354233(0x200)]()))_0x236020=_0xa77942[_0x354233(0x1ec)];else _0xa77942['playerUsername']&&_0x57bc28[_0x354233(0x198)](_0xa77942[_0x354233(0x1c3)]['toLowerCase']())&&(_0x236020=_0xa77942[_0x354233(0x1c3)]);}_0x236020&&_0x1b5f3e['includes'](_0x236020)&&(_0x2448ee++,!_0x120af9[_0x354233(0x198)](_0x236020)&&_0x120af9['set'](_0x236020,[]),_0x120af9[_0x354233(0x20b)](_0x236020)['push']({..._0xa77942,'timestamp':_0xa77942[_0x354233(0x1c2)]?.[_0x354233(0x24b)]||0x0}));}),_0x120af9[_0x34c279(0x236)]((_0x2c6546,_0x16f552)=>{const _0x486702=_0x34c279;if(_0x2c6546[_0x486702(0x1c8)]>0x0){_0x2c6546['sort']((_0x569796,_0x315e92)=>_0x315e92[_0x486702(0x1c2)]-_0x569796['timestamp']);const _0x3c85c2=_0x2c6546[_0x486702(0x1f4)](_0x77b266=>_0x77b266[_0x486702(0x20e)]!==undefined||_0x77b266['newElo']!==undefined&&_0x77b266[_0x486702(0x1a1)]!==undefined||_0x77b266[_0x486702(0x1af)]!==undefined&&_0x77b266[_0x486702(0x1d5)]!==undefined);if(_0x3c85c2){let _0x2df0f0;if(_0x3c85c2['change']!==undefined)_0x2df0f0=parseInt(_0x3c85c2['change']);else{if(_0x3c85c2[_0x486702(0x192)]!==undefined&&entry['previousElo']!==undefined)_0x2df0f0=parseInt(_0x3c85c2[_0x486702(0x192)])-parseInt(_0x3c85c2[_0x486702(0x1a1)]);else _0x3c85c2[_0x486702(0x1af)]!==undefined&&entry[_0x486702(0x1d5)]!==undefined&&(_0x2df0f0=parseInt(_0x3c85c2[_0x486702(0x1af)])-parseInt(_0x3c85c2[_0x486702(0x1d5)]));}!isNaN(_0x2df0f0)&&_0x2df0f0!==0x0&&_0x1713fe[_0x486702(0x25d)](_0x16f552,_0x2df0f0);}}});}catch(_0x31a519){console[_0x34c279(0x242)](_0x34c279(0x1c9),_0x31a519);}return _0x1713fe;}async function updateLadderDisplay(_0x5ca1e6,_0xe3f023=null){const _0x5fee28=a27_0x25c4,_0x30ab26=document[_0x5fee28(0x24c)](_0x5fee28(0x1df));if(!_0x30ab26){console['error'](_0x5fee28(0x193));return;}const _0x49d7b0=document['querySelector'](_0x5fee28(0x24f));_0x49d7b0&&(_0x49d7b0[_0x5fee28(0x265)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Rank</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Username</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>ELO</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Matches</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Wins</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Losses</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>K/D</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Win\x20Rate</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');const _0x2c64fb=_0x5ca1e6['map'](_0x1851f3=>_0x1851f3['username']);!_0xe3f023&&(_0xe3f023=await fetchBatchMatchStats(_0x2c64fb));const _0x58cb9a=_0x5ca1e6['map'](_0x4a1910=>{const _0x900d01=_0x5fee28,_0x1ce6ea=_0xe3f023[_0x900d01(0x20b)](_0x4a1910[_0x900d01(0x1ec)])||{'totalMatches':0x0,'wins':0x0,'losses':0x0,'kda':0x0,'winRate':0x0,'totalKills':0x0,'totalDeaths':0x0};return createPlayerRow(_0x4a1910,_0x1ce6ea);})[_0x5fee28(0x1ee)]('');_0x30ab26['innerHTML']=_0x58cb9a,getPlayersLastEloChanges(_0x2c64fb)[_0x5fee28(0x206)](_0x40ea68=>{const _0xb90dca=_0x5fee28,_0x320983=new Map();_0x30ab26[_0xb90dca(0x1aa)]('tr')[_0xb90dca(0x236)]((_0x2d5af5,_0x144a30)=>{const _0x2dac84=_0xb90dca;_0x144a30<_0x2c64fb[_0x2dac84(0x1c8)]&&_0x320983[_0x2dac84(0x25d)](_0x2c64fb[_0x144a30],_0x2d5af5);}),_0x40ea68['forEach']((_0x3d6398,_0x5b7fa6)=>{const _0x1e88df=_0xb90dca,_0x10cd00=_0x320983[_0x1e88df(0x20b)](_0x5b7fa6);if(_0x10cd00&&_0x3d6398!==0x0){const _0x11fc3e=_0x10cd00['querySelector'](_0x1e88df(0x222));if(_0x11fc3e){const _0x373f93=_0x3d6398>0x0?'+'+_0x3d6398:''+_0x3d6398,_0x8982ba=_0x11fc3e[_0x1e88df(0x24c)](_0x1e88df(0x1a3));if(_0x8982ba)_0x8982ba['textContent']=_0x373f93,_0x8982ba[_0x1e88df(0x24a)]['color']=_0x3d6398>0x0?_0x1e88df(0x240):_0x1e88df(0x1f7),_0x8982ba[_0x1e88df(0x24a)][_0x1e88df(0x22e)]=_0x1e88df(0x19f),_0x8982ba[_0x1e88df(0x24a)][_0x1e88df(0x246)]=_0x1e88df(0x248),_0x8982ba['style'][_0x1e88df(0x1cd)]=_0x1e88df(0x1de),_0x8982ba[_0x1e88df(0x24a)]['visibility']=_0x1e88df(0x22d),_0x8982ba[_0x1e88df(0x24a)]['opacity']='1';else{}}}});})['catch'](_0x4e1347=>console[_0x5fee28(0x242)](_0x5fee28(0x219),_0x4e1347));}function a27_0x4e34(){const _0x1996b1=['48HjMthS','round','body','innerHTML','role','No\x20ideal\x20opponent\x20found\x20for\x20your\x20current\x20ELO\x20(','remove','d2-ladder-container','push','d1-switch','innerText','winnerUsername','player','newElo','Ladder\x20table\x20body\x20not\x20found','brian2af@outlook.com','duos-ladder-container','MAX_SAFE_INTEGER','className','has','Based\x20on\x20your\x20ELO\x20(','Error\x20finding\x20best\x20opponent:','target','<img\x20src=\x22../images/flags/','\x0a\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','#b9f1fc','bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x228\x22\x20style=\x22text-align:\x20center;\x20color:\x20red;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20ladder\x20data:\x20','previousElo','toFixed','.trend-indicator','__proto__','playersD3','playersDuos','totalMatches','max','elo-recommendation-text-','querySelectorAll',';\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22elo-container\x22\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22elo-value\x22>','duos-switch','<tr><td\x20colspan=\x228\x22\x20class=\x22loading-cell\x22>Loading\x20ladder\x20data...</td></tr>','recentActivity','newEloRating','#CD7F32','onAuthStateChanged','</span>','You\x27re\x20not\x20registered\x20on\x20the\x20DUOS\x20ladder','pointer','eloHistory','0.5','\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','getElementById','info','3182130MmADqW','Recommendation\x20element\x20for\x20','matchesD','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22profile.html?username=','24jKAjEw','exists','opacity','Emerald','timestamp','playerUsername','(((.+)+)+)+$','rank','admin','warn','length','Error\x20fetching\x20ELO\x20history:','You\x27re\x20teamed\x20with\x20<span\x20class=\x22recommendation-highlight\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-activity\x20','inactive','display','createElement','addEventListener','elo','Using\x20cached\x20D1\x20ladder\x20data','toString','teammate','toISOString','oldEloRating','\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translate(-50%,\x20-50%);\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#2a2a2a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x202px\x20solid\x20#ff6b6b;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ff6b6b;\x0a\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.5);\x0a\x20\x20\x20\x20','Error\x20checking\x20admin\x20status:','Error\x20checking\x20','winnerScore','You\x27re\x20not\x20registered\x20on\x20the\x20','Error\x20finding\x20recommended\x20opponent','map','losses','inline','#ladder\x20tbody','dispatchEvent','appendChild','#C0C0C0','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22trend-indicator\x22\x20style=\x22margin-left:\x205px;\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','loserScore','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','creative\x20lead','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22player-flag\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22margin-left:\x205px;\x20vertical-align:\x20middle;\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>','{}.constructor(\x22return\x20this\x22)(\x20)','admin-only-message','search','playersD2','username','constructor','join','.png\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22','234385kaKPfg','</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-elo\x22>','ladder-player','textContent','find','log','data','#F44336','DOMContentLoaded','Error\x20loading\x20ladder\x20data:','Failed\x20to\x20load\x20ladder\x20data.\x20Please\x20try\x20again.','Inactive','d3-ladder-container','message','\x20ladder','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','toLowerCase','duos','email','ELO\x20history\x20collection\x20is\x20empty','totalKills','parentNode','then','abs','elo-recommendation-text-d2','bind','getDate','get','9496igVQUu','d1-ladder-container','change','d2-switch','matches','label[for=\x22duos-switch\x22]','toUpperCase','trace','active','position','docs','168UIOEVu','includes','Error\x20updating\x20ELO\x20trend\x20indicators:','36686ZnIdkl','elo-recommendation-text-duos','D3\x20toggle\x20clicked','wins','not-allowed','admin@ladder.com','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','slice','td:nth-child(3)','block','Silver','hasTeam','571175GpXjii','now','loading-indicator','click','apply','none','elo-recommendation-text-d1','visible','fontWeight','Error\x20loading\x20ladder:','cssText','owner','return\x20(function()\x20','empty','gray','disabled','forEach','eloRating','65788drlbkk','elo-recommendation-text-d3','totalDeaths','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<strong>ðŸ”’\x20Duos\x20Ladder\x20-\x20Admin\x20Only</strong><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20style=\x22color:\x20#ccc;\x22>Currently\x20in\x20testing\x20phase</span>\x0a\x20\x20\x20\x20','#50C878','Bronze','console','kda','#4CAF50','Error\x20fetching\x20batch\x20match\x20stats:','error','uid','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22color:\x20','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22rank\x22>#','fontSize','winRate','0.85em','cursor','style','seconds','querySelector','playersD','userProfiles','#ladder\x20thead\x20tr','setDate','Unranked','2385aEKtDw','country','No\x20user\x20profile\x20found','Gold','#FFD700','date','title','players','5112OWBwRf','Complete\x20your\x20profile\x20to\x20see\x20recommended\x20opponents','add','set','checked','div','classList','sort'];a27_0x4e34=function(){return _0x1996b1;};return a27_0x4e34();}function initLadderToggles(){const _0x47cd26=a27_0x25c4,_0x1053d3=document[_0x47cd26(0x1b8)](_0x47cd26(0x18e)),_0x3933c9=document['getElementById'](_0x47cd26(0x20f)),_0x52ace3=document['getElementById']('d3-switch'),_0x42a4b9=document[_0x47cd26(0x1b8)](_0x47cd26(0x1ac)),_0x227190=document[_0x47cd26(0x1b8)](_0x47cd26(0x20d)),_0x10ce2a=document[_0x47cd26(0x1b8)](_0x47cd26(0x269)),_0xd1acbf=document[_0x47cd26(0x1b8)](_0x47cd26(0x1fc)),_0x326777=document[_0x47cd26(0x1b8)](_0x47cd26(0x195));function _0x3eb3d0(){const _0x22ba37=_0x47cd26;if(_0x227190)_0x227190[_0x22ba37(0x260)][_0x22ba37(0x268)](_0x22ba37(0x214));if(_0x10ce2a)_0x10ce2a[_0x22ba37(0x260)][_0x22ba37(0x268)](_0x22ba37(0x214));if(_0xd1acbf)_0xd1acbf[_0x22ba37(0x260)]['remove'](_0x22ba37(0x214));if(_0x326777)_0x326777[_0x22ba37(0x24a)]['display']=_0x22ba37(0x22b);if(_0x227190)_0x227190[_0x22ba37(0x24a)]['display']=_0x22ba37(0x22b);if(_0x10ce2a)_0x10ce2a[_0x22ba37(0x24a)]['display']='none';if(_0xd1acbf)_0xd1acbf['style'][_0x22ba37(0x1cd)]='none';}_0x1053d3&&_0x1053d3[_0x47cd26(0x1cf)](_0x47cd26(0x229),()=>{const _0x47026b=_0x47cd26;console['log']('D1\x20toggle\x20clicked'),_0x3eb3d0();_0x227190&&(_0x227190[_0x47026b(0x260)][_0x47026b(0x25c)](_0x47026b(0x214)),_0x227190[_0x47026b(0x24a)][_0x47026b(0x1cd)]='block');document[_0x47026b(0x1b8)](_0x47026b(0x22c))[_0x47026b(0x24a)]['display']=_0x47026b(0x223),document[_0x47026b(0x1b8)](_0x47026b(0x208))[_0x47026b(0x24a)]['display']='none',document[_0x47026b(0x1b8)]('elo-recommendation-text-d3')[_0x47026b(0x24a)][_0x47026b(0x1cd)]='none';if(_0x1053d3)_0x1053d3['classList'][_0x47026b(0x25c)](_0x47026b(0x214));if(_0x3933c9)_0x3933c9[_0x47026b(0x260)][_0x47026b(0x268)](_0x47026b(0x214));if(_0x52ace3)_0x52ace3['classList']['remove']('active');displayLadder(),findBestOpponent('d1');}),_0x3933c9&&_0x3933c9['addEventListener'](_0x47cd26(0x229),()=>{const _0x1ee06d=_0x47cd26;console[_0x1ee06d(0x1f5)]('D2\x20toggle\x20clicked'),_0x3eb3d0();_0x10ce2a&&(_0x10ce2a[_0x1ee06d(0x260)]['add'](_0x1ee06d(0x214)),_0x10ce2a[_0x1ee06d(0x24a)][_0x1ee06d(0x1cd)]=_0x1ee06d(0x223));document[_0x1ee06d(0x1b8)]('elo-recommendation-text-d1')[_0x1ee06d(0x24a)][_0x1ee06d(0x1cd)]=_0x1ee06d(0x22b),document['getElementById'](_0x1ee06d(0x208))['style']['display']=_0x1ee06d(0x223),document[_0x1ee06d(0x1b8)](_0x1ee06d(0x239))[_0x1ee06d(0x24a)][_0x1ee06d(0x1cd)]=_0x1ee06d(0x22b);if(_0x3933c9)_0x3933c9[_0x1ee06d(0x260)]['add'](_0x1ee06d(0x214));if(_0x1053d3)_0x1053d3[_0x1ee06d(0x260)]['remove'](_0x1ee06d(0x214));if(_0x52ace3)_0x52ace3[_0x1ee06d(0x260)]['remove'](_0x1ee06d(0x214));displayLadderD2(),findBestOpponent('d2');}),_0x52ace3&&_0x52ace3[_0x47cd26(0x1cf)]('click',()=>{const _0x20dc3c=_0x47cd26;console[_0x20dc3c(0x1f5)](_0x20dc3c(0x21c)),_0x3eb3d0();_0xd1acbf&&(_0xd1acbf['classList'][_0x20dc3c(0x25c)]('active'),_0xd1acbf[_0x20dc3c(0x24a)][_0x20dc3c(0x1cd)]=_0x20dc3c(0x223));document['getElementById'](_0x20dc3c(0x22c))[_0x20dc3c(0x24a)][_0x20dc3c(0x1cd)]=_0x20dc3c(0x22b),document['getElementById'](_0x20dc3c(0x208))[_0x20dc3c(0x24a)][_0x20dc3c(0x1cd)]='none',document[_0x20dc3c(0x1b8)](_0x20dc3c(0x239))[_0x20dc3c(0x24a)][_0x20dc3c(0x1cd)]=_0x20dc3c(0x223);if(_0x52ace3)_0x52ace3['classList'][_0x20dc3c(0x25c)]('active');if(_0x1053d3)_0x1053d3[_0x20dc3c(0x260)][_0x20dc3c(0x268)](_0x20dc3c(0x214));if(_0x3933c9)_0x3933c9[_0x20dc3c(0x260)][_0x20dc3c(0x268)](_0x20dc3c(0x214));displayLadderD3(),findBestOpponent('d3');}),_0x42a4b9&&_0x42a4b9['addEventListener']('click',()=>{const _0x19a2a5=_0x47cd26;_0x3eb3d0();if(_0x326777)_0x326777[_0x19a2a5(0x24a)][_0x19a2a5(0x1cd)]=_0x19a2a5(0x223);displayLadderDuos(),findBestOpponent(_0x19a2a5(0x201)),document[_0x19a2a5(0x1b8)](_0x19a2a5(0x21b))&&(document['getElementById']('elo-recommendation-text-duos')['style'][_0x19a2a5(0x1cd)]=_0x19a2a5(0x223)),document[_0x19a2a5(0x1b8)]('elo-recommendation-text-d1')['style'][_0x19a2a5(0x1cd)]=_0x19a2a5(0x22b),document['getElementById'](_0x19a2a5(0x208))[_0x19a2a5(0x24a)][_0x19a2a5(0x1cd)]=_0x19a2a5(0x22b),document['getElementById'](_0x19a2a5(0x239))['style'][_0x19a2a5(0x1cd)]=_0x19a2a5(0x22b);});}document[a27_0x2e9bd1(0x1cf)](a27_0x2e9bd1(0x1f8),()=>{const _0x192795=a27_0x2e9bd1;initLadderToggles(),displayLadder(),findBestOpponent('d1'),document[_0x192795(0x1b8)](_0x192795(0x22c))[_0x192795(0x24a)][_0x192795(0x1cd)]=_0x192795(0x223);});export{displayLadder};async function findBestOpponent(_0xfe2c83='d1'){const _0x2eff37=a27_0x2e9bd1,_0x365f99=_0x2eff37(0x1a9)+_0xfe2c83,_0x2efe96=document['getElementById'](_0x365f99);if(!_0x2efe96){console['error'](_0x2eff37(0x1bb)+_0xfe2c83+'\x20not\x20found');return;}const _0x1e4c76=auth['currentUser'];if(!_0x1e4c76){_0x2efe96[_0x2eff37(0x1f3)]='';return;}try{const _0x1780d6=doc(db,_0x2eff37(0x24e),_0x1e4c76[_0x2eff37(0x243)]),_0x1606c3=await getDoc(_0x1780d6);if(!_0x1606c3[_0x2eff37(0x1bf)]()){console[_0x2eff37(0x1f5)](_0x2eff37(0x254)),_0x2efe96[_0x2eff37(0x1f3)]=_0x2eff37(0x25b);return;}const _0x2839e8=_0x1606c3[_0x2eff37(0x1f6)](),_0x23e961=_0x2839e8[_0x2eff37(0x1ec)];if(!_0x23e961){_0x2efe96[_0x2eff37(0x1f3)]='Set\x20your\x20username\x20to\x20see\x20recommended\x20opponents';return;}let _0x1ab0af;switch(_0xfe2c83){case'd1':_0x1ab0af='players';break;case'd2':_0x1ab0af='playersD2';break;case'd3':_0x1ab0af=_0x2eff37(0x1a5);break;case'duos':_0x1ab0af=_0x2eff37(0x1a6);break;default:_0x1ab0af=_0x2eff37(0x259);}if(_0xfe2c83==='duos'){const _0x820880=collection(db,_0x1ab0af),_0x119a56=query(_0x820880,where(_0x2eff37(0x1ec),'==',_0x23e961)),_0x55214a=await getDocs(_0x119a56);if(_0x55214a[_0x2eff37(0x233)]){_0x2efe96[_0x2eff37(0x1f3)]=_0x2eff37(0x1b3);return;}const _0x483bbd=_0x55214a[_0x2eff37(0x216)][0x0][_0x2eff37(0x1f6)](),_0x4047d4=parseInt(_0x483bbd['eloRating'])||0x4b0;if(_0x483bbd['hasTeam']&&_0x483bbd[_0x2eff37(0x1d3)]){_0x2efe96[_0x2eff37(0x265)]=_0x2eff37(0x1ca)+_0x483bbd[_0x2eff37(0x1d3)]+'</span>.\x20Challenge\x20other\x20teams!';return;}const _0x3b57c4=await getDocs(_0x820880);let _0x2533ee=null,_0x373da5=-0x1;_0x3b57c4[_0x2eff37(0x236)](_0x293f68=>{const _0x23a87b=_0x2eff37,_0x51227f=_0x293f68[_0x23a87b(0x1f6)]();if(_0x51227f[_0x23a87b(0x1ec)]===_0x23e961)return;if(_0x51227f[_0x23a87b(0x225)])return;const _0x2d04c7=parseInt(_0x51227f[_0x23a87b(0x237)])||0x4b0,_0x3059e9=Math[_0x23a87b(0x207)](_0x2d04c7-_0x4047d4),_0x3822f0=Math[_0x23a87b(0x1a8)](0x0,0xc8-_0x3059e9);_0x3822f0>_0x373da5&&(_0x2533ee=_0x51227f,_0x373da5=_0x3822f0);});if(_0x2533ee){const _0x5a4a5f=parseInt(_0x2533ee['eloRating'])||0x4b0;let _0x1f19b5='gray';if(_0x5a4a5f>=0x7d0)_0x1f19b5=_0x2eff37(0x23c);else{if(_0x5a4a5f>=0x708)_0x1f19b5=_0x2eff37(0x256);else{if(_0x5a4a5f>=0x640)_0x1f19b5=_0x2eff37(0x1e2);else _0x5a4a5f>=0x578&&(_0x1f19b5=_0x2eff37(0x1b0));}}_0x2efe96[_0x2eff37(0x265)]='Looking\x20for\x20a\x20teammate?\x20Consider\x20<span\x20class=\x22recommendation-highlight\x22\x20style=\x22color:\x20'+_0x1f19b5+';\x22>'+_0x2533ee[_0x2eff37(0x1ec)]+'</span>\x20(ELO:\x20'+_0x5a4a5f+')';}else _0x2efe96[_0x2eff37(0x1f3)]='No\x20available\x20teammates\x20found.\x20More\x20players\x20needed\x20on\x20DUOS\x20ladder!';return;}const _0x242842=collection(db,_0x1ab0af),_0x339c42=query(_0x242842,where(_0x2eff37(0x1ec),'==',_0x23e961)),_0x1643aa=await getDocs(_0x339c42);if(_0x1643aa[_0x2eff37(0x233)]){_0x2efe96[_0x2eff37(0x1f3)]=_0x2eff37(0x1da)+_0xfe2c83[_0x2eff37(0x212)]()+_0x2eff37(0x1fe);return;}const _0x3f80df=_0x1643aa[_0x2eff37(0x216)][0x0][_0x2eff37(0x1f6)](),_0x5be4c3=parseInt(_0x3f80df[_0x2eff37(0x237)])||0x5dc,_0x211306=await getDocs(_0x242842);let _0x1879db=null,_0x51025e=-0x1;const _0x3e4114=getPlayerRankName(_0x5be4c3);_0x211306[_0x2eff37(0x236)](_0x1c1037=>{const _0x35e7d8=_0x2eff37,_0x82af73=_0x1c1037[_0x35e7d8(0x1f6)]();if(_0x82af73[_0x35e7d8(0x1ec)]===_0x23e961)return;const _0x347e1d=parseInt(_0x82af73['eloRating'])||0x5dc,_0x5b1059=getPlayerRankName(_0x347e1d),_0x1b2b4b=Math[_0x35e7d8(0x207)](_0x347e1d-_0x5be4c3),_0x1e50e7=0x20,_0x55087a=0x1/(0x1+Math['pow'](0xa,(_0x347e1d-_0x5be4c3)/0x190)),_0xaf22a9=Math[_0x35e7d8(0x263)](_0x1e50e7*(0x1-_0x55087a));if(_0xaf22a9<=0x0)return;let _0x40d252=0x0;const _0x3a6f51=Math[_0x35e7d8(0x1a8)](0x0,0x64-_0x1b2b4b*0.5),_0x36cfab=_0xaf22a9>=0x3&&_0xaf22a9<=0x8?0x32:_0xaf22a9>0x0&&_0xaf22a9<0xf?0x1e:0xa,_0xa6514=_0x3e4114===_0x5b1059?0x28:0x0;_0x40d252=_0x3a6f51+_0x36cfab+_0xa6514,_0x40d252>_0x51025e&&(_0x1879db=_0x82af73,_0x51025e=_0x40d252);});if(_0x1879db){const _0xd14eb7=parseInt(_0x1879db[_0x2eff37(0x237)])||0x5dc;let _0x144373=_0x2eff37(0x234);if(_0xd14eb7>=0x7d0)_0x144373=_0x2eff37(0x23c);else{if(_0xd14eb7>=0x708)_0x144373='#FFD700';else{if(_0xd14eb7>=0x640)_0x144373=_0x2eff37(0x19e);else _0xd14eb7>=0x578&&(_0x144373=_0x2eff37(0x1b0));}}_0x2efe96[_0x2eff37(0x265)]=_0x2eff37(0x199)+_0x5be4c3+'),\x20you\x20should\x20be\x20playing\x20<span\x20class=\x22recommendation-highlight\x22\x20style=\x22color:\x20'+_0x144373+';\x22>'+_0x1879db[_0x2eff37(0x1ec)]+_0x2eff37(0x1b2);}else _0x2efe96[_0x2eff37(0x265)]=_0x2eff37(0x267)+_0x5be4c3+')';}catch(_0x4f5c93){console[_0x2eff37(0x242)](_0x2eff37(0x19a),_0x4f5c93),_0x2efe96['textContent']=_0x2eff37(0x1db);}}auth[a27_0x2e9bd1(0x1b1)](_0x37378d=>{const _0x288358=a27_0x2e9bd1,_0x348dde=document[_0x288358(0x1b8)](_0x288358(0x20d))&&document[_0x288358(0x1b8)]('d1-ladder-container')[_0x288358(0x24a)][_0x288358(0x1cd)]!==_0x288358(0x22b),_0x91814=document[_0x288358(0x1b8)](_0x288358(0x269))&&document['getElementById'](_0x288358(0x269))[_0x288358(0x24a)]['display']!==_0x288358(0x22b),_0x2e6f6b=document['getElementById']('d3-ladder-container')&&document[_0x288358(0x1b8)](_0x288358(0x1fc))['style']['display']!==_0x288358(0x22b),_0x33cb55=document[_0x288358(0x1b8)](_0x288358(0x195))&&document['getElementById'](_0x288358(0x195))['style'][_0x288358(0x1cd)]!==_0x288358(0x22b),_0x2f2edc=_0x348dde?'d1':_0x91814?'d2':_0x2e6f6b?'d3':_0x33cb55?'duos':'d1';findBestOpponent(_0x2f2edc);}),document[a27_0x2e9bd1(0x1cf)](a27_0x2e9bd1(0x1f8),()=>{const _0x1c8804=a27_0x2e9bd1,_0xde7052=document['getElementById'](_0x1c8804(0x1ac)),_0xdb6a48=document[_0x1c8804(0x24c)](_0x1c8804(0x211));_0xde7052&&_0xdb6a48&&(_0xde7052[_0x1c8804(0x1cf)]('change',async _0x2336cb=>{const _0x57abb7=_0x1c8804;if(_0x2336cb[_0x57abb7(0x19b)]['checked']){const _0xab79f5=auth?.['currentUser'],_0x21534b=await checkIfUserIsAdmin(_0xab79f5);if(!_0x21534b){_0x2336cb['preventDefault']();const _0x5118b1=document[_0x57abb7(0x1b8)](_0x57abb7(0x18e));return _0x5118b1&&(_0x5118b1[_0x57abb7(0x25e)]=!![],_0x5118b1[_0x57abb7(0x1e0)](new Event(_0x57abb7(0x20e)))),showAdminOnlyMessage(),![];}}}),auth[_0x1c8804(0x1b1)](async _0x1edbfa=>{const _0xca75f1=_0x1c8804,_0x57792c=await checkIfUserIsAdmin(_0x1edbfa);!_0x57792c?(_0xde7052['disabled']=!![],_0xdb6a48[_0xca75f1(0x24a)]['opacity']=_0xca75f1(0x1b6),_0xdb6a48[_0xca75f1(0x24a)][_0xca75f1(0x249)]=_0xca75f1(0x21e),_0xdb6a48[_0xca75f1(0x258)]='Duos\x20ladder\x20is\x20currently\x20admin-only'):(_0xde7052[_0xca75f1(0x235)]=![],_0xdb6a48[_0xca75f1(0x24a)][_0xca75f1(0x1c0)]='1',_0xdb6a48[_0xca75f1(0x24a)]['cursor']=_0xca75f1(0x1b4),_0xdb6a48[_0xca75f1(0x258)]='');}));});async function checkIfUserIsAdmin(_0x42114a){const _0x3c879a=a27_0x2e9bd1;if(!_0x42114a)return![];try{const _0x4ed78d=[_0x3c879a(0x21f),_0x3c879a(0x194)];if(_0x42114a['email']&&_0x4ed78d[_0x3c879a(0x218)](_0x42114a[_0x3c879a(0x202)][_0x3c879a(0x200)]()))return!![];const _0x515ac7=[_0x3c879a(0x24e),_0x3c879a(0x259),_0x3c879a(0x1eb),'playersD3'],_0x1819c3=[_0x3c879a(0x1c6),_0x3c879a(0x231),'council',_0x3c879a(0x1e6)];for(const _0x5d6310 of _0x515ac7){try{const _0x33031e=doc(db,_0x5d6310,_0x42114a[_0x3c879a(0x243)]),_0x1d0594=await getDoc(_0x33031e);if(_0x1d0594[_0x3c879a(0x1bf)]()){const _0x4e36a9=_0x1d0594[_0x3c879a(0x1f6)](),_0x4d61b4=(_0x4e36a9['roleName']||_0x4e36a9[_0x3c879a(0x266)]||'')[_0x3c879a(0x200)]();if(_0x4d61b4&&_0x1819c3[_0x3c879a(0x218)](_0x4d61b4))return!![];}}catch(_0x12c3fe){console[_0x3c879a(0x1c7)](_0x3c879a(0x1d8)+_0x5d6310+':',_0x12c3fe);}}return![];}catch(_0x1ce398){return console[_0x3c879a(0x242)](_0x3c879a(0x1d7),_0x1ce398),![];}}function showAdminOnlyMessage(){const _0x115969=a27_0x2e9bd1,_0x672676=document[_0x115969(0x1b8)](_0x115969(0x1e9));_0x672676&&_0x672676[_0x115969(0x268)]();const _0x53d170=document['createElement'](_0x115969(0x25f));_0x53d170['id']=_0x115969(0x1e9),_0x53d170[_0x115969(0x24a)][_0x115969(0x230)]=_0x115969(0x1d6),_0x53d170[_0x115969(0x265)]=_0x115969(0x23b),document[_0x115969(0x264)][_0x115969(0x1e1)](_0x53d170),setTimeout(()=>{const _0x130a48=_0x115969;_0x53d170[_0x130a48(0x205)]&&_0x53d170[_0x130a48(0x268)]();},0xbb8);}