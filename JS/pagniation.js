const a38_0x379b7c=a38_0x5494,a38_0x2ddde8=(function(){let _0x4d38a9=!![];return function(_0x1e3577,_0x21ce9f){const _0x52b9d8=_0x4d38a9?function(){if(_0x21ce9f){const _0x5f5965=_0x21ce9f['apply'](_0x1e3577,arguments);return _0x21ce9f=null,_0x5f5965;}}:function(){};return _0x4d38a9=![],_0x52b9d8;};}()),a38_0x1086de=a38_0x2ddde8(this,function(){const _0x44db43=a38_0x5494;let _0x116612;try{const _0x585dec=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x116612=_0x585dec();}catch(_0x53036f){_0x116612=window;}const _0x5b57e4=_0x116612['console']=_0x116612['console']||{},_0x46943b=['log',_0x44db43(0x6f),_0x44db43(0x75),'error','exception','table',_0x44db43(0x7b)];for(let _0x37c93f=0x0;_0x37c93f<_0x46943b[_0x44db43(0x7f)];_0x37c93f++){const _0x1088e4=a38_0x2ddde8['constructor']['prototype'][_0x44db43(0x74)](a38_0x2ddde8),_0x304782=_0x46943b[_0x37c93f],_0x342bb1=_0x5b57e4[_0x304782]||_0x1088e4;_0x1088e4[_0x44db43(0x7e)]=a38_0x2ddde8['bind'](a38_0x2ddde8),_0x1088e4['toString']=_0x342bb1[_0x44db43(0x71)][_0x44db43(0x74)](_0x342bb1),_0x5b57e4[_0x304782]=_0x1088e4;}});function a38_0x5494(_0x3f3cf2,_0x13d0d6){const _0x1086de=a38_0x29ba();return a38_0x5494=function(_0x2ddde8,_0x2b7889){_0x2ddde8=_0x2ddde8-0x6d;let _0x29ba21=_0x1086de[_0x2ddde8];return _0x29ba21;},a38_0x5494(_0x3f3cf2,_0x13d0d6);}a38_0x1086de();import{getEloHistory,resetPagination}from'./elo-history.js';let currentPage=0x1,allMatches=[];const matchesPerPage=0xa;function a38_0x29ba(){const _0x590c48=['Enter','innerHTML','warn','key','toString','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20','toDate','bind','info','querySelector','player','newElo','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','<tr><td\x20colspan=\x226\x22>Error\x20loading\x20ELO\x20history</td></tr>','trace','getElementById','nextPage','__proto__','length','toLocaleString','change','insertBefore','#elo-history\x20tbody','map','previousElo','timestamp','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','pagination-wrapper','matchResult','click','disabled','addEventListener'];a38_0x29ba=function(){return _0x590c48;};return a38_0x29ba();}async function displayEloHistory(){const _0x776490=a38_0x5494,_0x415070=document[_0x776490(0x76)](_0x776490(0x83)),_0x204228=document['getElementById']('pagination');try{const {entries:_0x53cefc,hasMore:_0x1eb10c}=await getEloHistory();if(_0x53cefc['length']===0x0){_0x415070[_0x776490(0x6e)]='<tr><td\x20colspan=\x226\x22>No\x20ELO\x20history\x20available</td></tr>';return;}allMatches=_0x53cefc,_0x415070[_0x776490(0x6e)]=_0x53cefc[_0x776490(0x84)](_0xf47a07=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0xf47a07[_0x776490(0x86)]?new Date(_0xf47a07['timestamp'][_0x776490(0x73)]())[_0x776490(0x80)]():'N/A')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0xf47a07['player']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0xf47a07['previousElo']+_0x776490(0x87)+_0xf47a07[_0x776490(0x78)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0xf47a07['change']>0x0?'+'+_0xf47a07['change']:_0xf47a07['change'])+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0xf47a07['opponent']+_0x776490(0x87)+_0xf47a07[_0x776490(0x89)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''),createPaginationControls();}catch(_0x5da522){console['error']('Error\x20displaying\x20ELO\x20history:',_0x5da522),_0x415070['innerHTML']=_0x776490(0x7a);}}function createPaginationControls(){const _0x303851=a38_0x5494,_0x1ca5a9=Math['ceil'](allMatches[_0x303851(0x7f)]/matchesPerPage),_0x5e4e84=document['createElement']('div');_0x5e4e84['className']=_0x303851(0x88),_0x5e4e84['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pagination-controls\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22prevPage\x22\x20'+(currentPage===0x1?'disabled':'')+'>Previous</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-navigation\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>Page\x20'+currentPage+'\x20of\x20'+_0x1ca5a9+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-search\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22pageInput\x22\x20min=\x221\x22\x20max=\x22'+_0x1ca5a9+'\x22\x20value=\x22'+currentPage+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goToPage\x22>Go</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22nextPage\x22\x20'+(currentPage===_0x1ca5a9?_0x303851(0x8b):'')+'>Next</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x288016=document['querySelector']('#elo-history');_0x288016['parentNode'][_0x303851(0x82)](_0x5e4e84,_0x288016['nextSibling']),document[_0x303851(0x7c)]('prevPage')[_0x303851(0x8c)]('click',()=>{if(currentPage>0x1)displayMatchesPage(currentPage-0x1);}),document['getElementById'](_0x303851(0x7d))[_0x303851(0x8c)]('click',()=>{if(currentPage<_0x1ca5a9)displayMatchesPage(currentPage+0x1);}),document['getElementById']('goToPage')['addEventListener'](_0x303851(0x8a),()=>{const _0x22d268=document['getElementById']('pageInput'),_0x41dbe3=parseInt(_0x22d268['value']);_0x41dbe3>=0x1&&_0x41dbe3<=_0x1ca5a9&&displayMatchesPage(_0x41dbe3);}),document['getElementById']('pageInput')[_0x303851(0x8c)]('keypress',_0x9b71e8=>{const _0x5e7646=_0x303851;if(_0x9b71e8[_0x5e7646(0x70)]===_0x5e7646(0x6d)){const _0x3281da=parseInt(_0x9b71e8['target']['value']);_0x3281da>=0x1&&_0x3281da<=_0x1ca5a9&&displayMatchesPage(_0x3281da);}});}async function displayMatchesPage(_0x56eae1){const _0x5cbe75=a38_0x5494;currentPage=_0x56eae1;const _0x3f848c=(currentPage-0x1)*matchesPerPage,_0x3a44a8=_0x3f848c+matchesPerPage,_0xdca917=allMatches['slice'](_0x3f848c,_0x3a44a8),_0x38eb9b=document['querySelector'](_0x5cbe75(0x83));_0x38eb9b['innerHTML']=_0xdca917['map'](_0x27b84c=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x27b84c[_0x5cbe75(0x86)]?new Date(_0x27b84c['timestamp']['toDate']())[_0x5cbe75(0x80)]():'N/A')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x27b84c[_0x5cbe75(0x77)]+_0x5cbe75(0x79)+_0x27b84c[_0x5cbe75(0x85)]+_0x5cbe75(0x79)+_0x27b84c['newElo']+_0x5cbe75(0x79)+(_0x27b84c[_0x5cbe75(0x81)]>0x0?'+'+_0x27b84c[_0x5cbe75(0x81)]:_0x27b84c['change'])+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x27b84c['opponent']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x27b84c['matchResult']+_0x5cbe75(0x72))['join'](''),createPaginationControls();}document[a38_0x379b7c(0x8c)]('DOMContentLoaded',displayEloHistory);