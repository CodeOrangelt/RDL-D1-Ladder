<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RDL - Rules</title>
    <link rel="icon" type="image/x-icon" href="../images/cloak.ico"/>
    <link rel="stylesheet" href="../CSS/nav.css">
    <link rel="stylesheet" href="../CSS/style.css">
    <link rel="stylesheet" href="../CSS/rules.css">
    <link rel="stylesheet" href="../CSS/footer.css">
</head>
<body>
    <div id="nav-placeholder"></div>

    <main>
        <div class="rules-header">
            <h1>RDL Rules and Courtesies</h1>
            <p class="rules-tagline">Questions? Contact me at code6dof@gmail.com</p>
        </div>
        
        <div class="rules-container">
            <div class="rules-nav">
                <div class="rules-nav-item active" data-target="general">General</div>
                <div class="rules-nav-item" data-target="solo">Solos</div>
                <div class="rules-nav-item" data-target="duos">Duos</div>
                <div class="rules-nav-item" data-target="ctf">CTF</div>
            </div>
            
            <div class="rules-sections">
                <!-- General section -->
                <div id="general" class="rules-section active">
                    <div class="accordion">
                        <!-- Registration -->
                        <div class="accordion-item">
                            <div class="accordion-header">
                                <span class="rule-number">1</span>
                                <h3>Registration</h3>
                                <span class="accordion-icon">+</span>
                            </div>
                            <div class="accordion-content">
                                


 •<p> Player Requirements: 
o	All Pilots must have a valid email before joining. The RDL will ensure you have a valid email address before you join. 
o	Pilots must not use aliases. We would like pilots to go by their common pilot name during this common era. For example, b2af should not register as b2. Maintain a consistent name throughout the Descent community. 
o	Country: Setting where your home country is recommend, but is optional. The RDL would like for you to set your country so others can prep for a high ping match. 
o	Players must register with three home maps that follow the home level framework. 


Home Maps:
<li>Home Level Framework:</li> 
Home maps that do not follow this standard will be rejected. The Home Level Framework is as follows: 
1.	Primary weapons should be equal number. 
2.	Weapons should not focus on subtype matches i.e. (disorientation, single use weapons, rat, Gauss and Mercs etc,)  
3.	Map sizes should be reasonably sized for 1v1 play.  
4.	Maps that missile boats is prohibited.  (i.e. Levels where you are maxed out on missiles, and there are a ton more missiles to pick up. )
5.	Home Maps should be stock i.e. (No MCAPs, or Xs).  

•	Homes should be used as a last-ditch measure for pilots to play. Ideally pilots should agree on maps and not angle on one level. Map diversity is encouraged on the RDL. 

o	For Descent/Descent II, 
o	players must use only the game files provided by Steam, GOG, or the US CD versions of the game, and the most recent DXX-Redux build, found here: https://dxx-redux.com/
o	The current DXX-Redux build for both games is v1.1.
•	For Descent 3, 
o	Players must use the Piccu Engine along with game files provided by Steam, GOG, or the CD versions of the game. 
o	The current Piccu Engine is v1.2.2 and can be found here: Release Piccu Engine v1.2.2 · InsanityBringer/PiccuEngine · GitHub 
o	
•	Any D1/D2/D3 experiment builds are prohibited on RDL ladder matches. 

</p>

                                
                            </div>
                        </div>
                        
                        <!-- Scoring and Rankings -->
                        <div class="accordion-item">
                            <div class="accordion-header">
                                <span class="rule-number">2</span>
                                <h3>Scoring and Rankings</h3>
                                <span class="accordion-icon">+</span>
                            </div>
                            <div class="accordion-content">
                                <p>Scoring System: To prove your skill, players compete for the position on the ladder and not ELO; however, your ELO will determine your skill level. The skill levels are Bronze, Silver, Gold, and Emerald. The ladder placement and skill level are your main driving force.</p>
                            </div>
                        </div>
                        
                        <!-- Additional rule items follow the same structure -->
                        <div class="accordion-item">
                            <div class="accordion-header">
                                <span class="rule-number">3</span>
                                <h3>Timeouts</h3>
                                <span class="accordion-icon">+</span>
                            </div>
                            <div class="accordion-content">
                                <p>A player can call a timeout at anytime. Once the timeout is done. The pilot that called timeout must type "Ready" in the message box. The other pilot must acknowledge the "Ready" with a "Go". On the message "Go", the match will resume. Extended times are accepted as long as both players agree on the duration of the time limit. The player must justify the extended timeout. If justification is not heard the match will forfeit. Extended time outs are 10 minutes or longer.</p>
                            </div>
                        </div>
                        
                        <div class="accordion-item">
                            <div class="accordion-header">
                                <span class="rule-number">4</span>
                                <h3>Participation</h3>
                                <span class="accordion-icon">+</span>
                            </div>
                            <div class="accordion-content">
                                <p>Pilots must play a minimum of three matches per month to remain eligible to play. This requirement ensures active engagement and contributes to the competitive spirit of the league.</p>
                            </div>
                        </div>
                        
                        <div class="accordion-item">
                            <div class="accordion-header">
                                <span class="rule-number">5</span>
                                <h3>Respect</h3>
                                <span class="accordion-icon">+</span>
                            </div>
                            <div class="accordion-content">
                                <p>This should go without saying, but we've seen how an unhinged disagreement can lead to a community split. RDL supports the users right to have opinions, and we encourage you to voice them, but please, refrain from speaking FOR the RDL, and more importantly, if it pertains to accusational, or otherwise unnecessarily cruel language, do not chat publically and make YOUR problem everyones elses. The RDL does and will exercise the right to supervise accusations and public commentary accordingly.</p>
                                <list>
                                    <ul>
                                        <li>Do not overuse slurs or derogatory language in match comments</li>
                                        <li>Do not impersonate other players or admins.</li>
                                        <li>Do not maliciously or otherwise use an alias with the intent to deceive</li>
                                        <li>Do not share others personal information without consent.</li>
                                        <li>Do not engage in harassment or bullying.</li>
                                        <li>DO NOT seriously accuse someone of cheating without consulting league Admins, or Moderators. Innocent until proven guilty, your word only goes so far.</li>
                                        <li>Do not falsely report a match outside of a genuine mistake, this constitutes for an immediate time-ban</li>                                       
                                    </ul>
                                </ul>
                            </div>
                        </div>

                    </div>
                </div>
                
                <!-- Solo section - with moved rules from general -->
                <div id="solo" class="rules-section">
                    <div class="accordion">
                        <div class="accordion-item">
                            <div class="accordion-header">
                                <span class="rule-number">1</span>
                                <h3>Winning</h3>
                                <span class="accordion-icon">+</span>
                            </div>
                            <div class="accordion-content">
                                <p>To win a game, you must end the game by two kills, as in, 21 to 19 for instance. If you leave rage quit a match, you LOSE. Recording games will be reccomended in the instance, with review of the situation by an admin, an automatic win could be awarded. Additionally, the latest version of Redux must be played. Experimental builds are prohibited.</p>
                            </div>
                        </div>
                        
                        <!-- MOVED: Matches -->
                        <div class="accordion-item">
                            <div class="accordion-header">
                                <span class="rule-number">2</span>
                                <h3>Matches</h3>
                                <span class="accordion-icon">+</span>
                            </div>
                            <div class="accordion-content">
                                <p>Matches are to 20 and won by 2. Rage quitting is counted as an automatic loss. If a player gets disconnected, report the technical problem in Discord. The loser of the match will report, and the winner will accept. Matches must be reported directly after each game. Players can play any map if they agree on said map. Players must agree on game settings, otherwise, default game settings are mandatory.</p>
                            </div>
                        </div>
                        
                        <!-- MOVED: Gameplay Rules -->
                        <div class="accordion-item">
                            <div class="accordion-header">
                                <span class="rule-number">3</span>
                                <h3>Gameplay Rules</h3>
                                <span class="accordion-icon">+</span>
                            </div>
                            <div class="accordion-content">
                                <p>Code of Conduct: All players must adhere to the league's code of conduct. Failure to do so will result in a reduction in rank, time ban, or general ban. Disputes: Any disputes during a match must be reported immediately to an admin. The default game settings are used in case players cannot agree on the game settings</p>
                                
                                <button class="settings-toggle">View Game Settings</button>
                                
                                <div class="settings-panel">
                                    <a href="../Files/rdltemplate.ngs" class="download-template" download>
                                        <img src="../images/download.png" alt="Download">
                                        <span>Download Game Template</span>
                                    </a>
                                    
                                    <div class="settings-grid">
                                        <div class="setting-item">Do NOT set "Open Game"</div>
                                        <div class="setting-item">Maximum Observers at least 4</div>
                                        <div class="setting-item">Broadcast Delay 15 Seconds OFF</div>
                                        <div class="setting-item">Minimal Observer Info OFF</div>
                                        <div class="setting-item">Difficulty MAX (Insane)</div>
                                        <div class="setting-item">Reactor life 50 MINUTES</div>
                                        <div class="setting-item">Max time 0 MINUTES</div>
                                        <div class="setting-item">Kill goal 0 KILLS</div>
                                        <div class="setting-item">Extra primaries NONE for 2 players, 2x for 3-4 players, 3x for 5-6 players, 4x for 7 players</div>
                                        <div class="setting-item">Extra secondaries NONE</div>
                                        <div class="setting-item">Cap secondaries UNCAPPED</div>
                                        <div class="setting-item">Low vulcan ammo OFF</div>
                                        <div class="setting-item">Set objects allowed ALL CHECKED EXCEPT CLOAKING & INVULNERABILITY</div>
                                        <div class="setting-item">Spawn style 2 second INVULN</div>
                                        <div class="setting-item">Vulcan ammo style ORIGINAL (DEPLETING)</div>
                                        <div class="setting-item">All players blue ON for 2 players, OFF for 3-7 players</div>
                                        <div class="setting-item">Allow colored dynamic lighting OFF</div>
                                        <div class="setting-item">Allow players to choose their colors ON</div>
                                        <div class="setting-item">Packets per second 40 for 2 players, 30 for 3 or higher</div>
                                        <div class="setting-item">Track this game ON</div>
                                        <div class="setting-item">Retro protocol ON</div>
                                        <div class="setting-item">Show all players on automap OFF</div>
                                        <div class="setting-item">Bright player ships ON</div>
                                        <div class="setting-item">Show enemy names on HUD OFF</div>
                                        <div class="setting-item">Homing update rate 25</div>
                                        <div class="setting-item">DXX-Retro homing speed OFF</div>
                                        <div class="setting-item">Allow custom models and textures ON or OFF (Both players must agree)</div>
                                        <div class="setting-item">Reduced flash ON or OFF (Both players must agree)</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="accordion-item">
                            <div class="accordion-header">
                                <span class="rule-number">4</span>
                                <h3>Map Angling</h3>
                                <span class="accordion-icon">+</span>
                            </div>
                            <div class="accordion-content">
                                <p>With heavy consideration of previous attempts to determine the "core maps" that should be played when maps cannot be agreed on, the RDL is committed to finding a way to ensure players can always play a fair match, but also prohibit players from reliably choosing maps they know they will excell in. Map core will consist of a variety of maps, and will be conditioned to exclude overtly-repetitve map-types regardless of statistical domination. More on "Map Core" after beta release.</p>
                            </div>
                        </div>
                        
                        <!-- MOVED: Level Disagreement -->
                        <div class="accordion-item">
                            <div class="accordion-header">
                                <span class="rule-number">5</span>
                                <h3>Level Disagreement</h3>
                                <span class="accordion-icon">+</span>
                            </div>
                            <div class="accordion-content">
                                <p>Players must agree on a level before proceeding. If players cannot agree on a level, players will choose from each pilot's home at least once. Players may opt to play a third if they choose.</p>
                            </div>
                        </div>
                        
                        <!-- MOVED: Challenging -->
                        <div class="accordion-item">
                            <div class="accordion-header">
                                <span class="rule-number">6</span>
                                <h3>Challenging - POST BETA</h3>
                                <span class="accordion-icon">+</span>
                            </div>
                            <div class="accordion-content">
                                <p>You can issue one challenge per pilot per week. Players cannot camp on ladder spots. Pilots can challenge any pilot to take his spot. When you challenge someone, each pilot must play at least one of each opponent's homes. Players must accept a challenge within a two-week period or risk a reduction in ladder placement. Only the top three ranked players can challenge each other. You can only issue a challenge once a week per pilot. Top 30 percent of pilots are only allowed to issue challenges to one another. The Challenged person can reject the challenge but will be moved to the bottom of the ladder.</p>
                            </div>
                        </div>
                        
                        <!-- MOVED: Rematches -->
                        <div class="accordion-item">
                            <div class="accordion-header">
                                <span class="rule-number">7</span>
                                <h3>Rematches</h3>
                                <span class="accordion-icon">+</span>
                            </div>
                            <div class="accordion-content">
                                <p>A rematch occurs when pilot wants a redo after a recently completed match. Both players must agree to the terms of the rematch. Both pilots must agree to the rematch otherwise the rematch will not be played. Players can call a rematch anytime they choose. Both players must agree on the terms of the rematch.</p>
                            </div>
                        </div>
                        
                        <!-- MOVED: Homes -->
                        <div class="accordion-item">
                            <div class="accordion-header">
                                <span class="rule-number">8</span>
                                <h3>Homes</h3>
                                <span class="accordion-icon">+</span>
                            </div>
                            <div class="accordion-content">
                                <p>You can choose any map you wish if it follows the Home Level Framework. Homes are used to prevent the DCL core map mechanic, prevent map anglers, and allow those that disagree on maps play a game. Maps should follow this standard. Home maps that do not follow this standard will be rejected. Homes should be used as a last-ditch measure for pilots to play. Ideally pilots should agree on maps and not angle on one level. Map diversity is encouraged on the RDL. Do keep in mind, these restrictions are reserved for when you and your opponent want to play a match, but cannot decide on what map to play.</p>
                                <div class="home-framework">
                                    <h4>Home Level Framework:</h4>
                                    <ol>
                                        <li>Primary weapons should be equal number.</li>
                                        <li>Weapons should not focus on subtype matches i.e. (disorientation, single use weapons, rat, blind)</li>
                                        <li>Map sizes should be reasonably sized for 1v1 play. (Essentially we mean just maps as small as Gasp, or Hay Day) </li>
                                        <li>Maps that missile boat is prohibited. (this rule exits to prevent adding missiles as opposed to multiplying them in the settings. Basically any missile count higher than 6 is generally a missile boating match)</li>
                                        <li>Home Maps should be stock i.e. (No MCAPs, or Xs).</li>
                                    </ol>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="rules-image">
                        <img src="../images/1v1.png" alt="Solo Play">
                    </div>
                </div>
                
                <!-- Duos section -->
                <div id="duos" class="rules-section">
                    <div class="accordion">
                        <div class="accordion-item">
                            <div class="accordion-header">
                                <h3>Duo Match'S - COMING SOON POST BETA</h3>
                                <span class="accordion-icon">+</span>
                            </div>
                            <div class="accordion-content">
                                <p>2v2 matches follow a different structure:</p>
                                <ul>
                 
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <div class="rules-image">
                        <img src="../images/duo.png" alt="Duos Rules">
                    </div>
                </div>
                
                <!-- CTF section -->
                <div id="ctf" class="rules-section">
                    <div class="accordion">
                        <div class="accordion-item">
                            <div class="accordion-header">
                                <h3>Capture The Flag - COMING SOON POST BETA</h3>
                                <span class="accordion-icon">+</span>
                            </div>
                            <div class="accordion-content">
                                <p>CTF matches have unique requirements</p>
                                <ul>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <div class="rules-image">
                        <img src="../images/ladderbackdrop.png" alt="CTF Rules">
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Add this Terms of Service section between main and footer -->
    <div class="tos-container">
        <button class="tos-button" id="showTos">RDL Terms of Service</button>
        
        <div class="tos-modal" id="tosModal">
            <div class="tos-content">
                <span class="close-tos">&times;</span>
                <h2>RDL Terms of Service</h2>
                <div class="tos-text">
                    <p>By using this website, you agree to the following terms and conditions:</p>
                    <ol>
                        <li>All match results submitted become the property of RDL.</li>
                        <li>You agree to follow all rules and guidelines described in the RDL Rules.</li>
                        <li>Administrators reserve the right to modify rankings or remove players who violate rules.</li>
                        <li>You are responsible for maintaining the security of your account.</li>
                    </ol>
                    <p>Last updated: April 18, 2025</p>
                </div>
                <div class="tos-actions">
                    <button class="tos-agree" id="agreeTos">I Agree</button>
                    <button class="tos-decline" id="closeTos">Close</button>
                </div>
            </div>
        </div>
    </div>

    <div id="footer-placeholder"></div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Load nav and footer (keep this part)
            Promise.all([
                fetch('../HTML/nav.html').then(response => response.text()),
                fetch('../HTML/footer.html').then(response => response.text())
            ]).then(([navData, footerData]) => {
                document.getElementById('nav-placeholder').innerHTML = navData;
                document.getElementById('footer-placeholder').innerHTML = footerData;
            });

            // Tab switching (keep this part)
            document.querySelectorAll('.rules-nav-item').forEach(item => {
                item.addEventListener('click', function() {
                    document.querySelectorAll('.rules-nav-item').forEach(tab => tab.classList.remove('active'));
                    this.classList.add('active');
                    
                    const target = this.getAttribute('data-target');
                    document.querySelectorAll('.rules-section').forEach(section => section.classList.remove('active'));
                    document.getElementById(target).classList.add('active');
                });
            });
            
            // SIMPLIFIED ACCORDION - Replace your current accordion code with this
            document.querySelectorAll('.accordion-header').forEach(header => {
                header.addEventListener('click', function() {
                    const item = this.parentElement;
                    const content = item.querySelector('.accordion-content');
                    const icon = this.querySelector('.accordion-icon');
                    
                    // Toggle open class without animations first
                    const isOpen = item.classList.contains('open');
                    
                    // Close all other items first
                    document.querySelectorAll('.accordion-item.open').forEach(openItem => {
                        if (openItem !== item) {
                            openItem.classList.remove('open');
                            openItem.querySelector('.accordion-icon').textContent = '+';
                        }
                    });
                    
                    // Then toggle this item
                    if (isOpen) {
                        item.classList.remove('open');
                        icon.textContent = '+';
                    } else {
                        item.classList.add('open');
                        icon.textContent = '−';
                    }
                });
            });

            // Auto-open first accordion item in each section, but don't animate
            document.querySelectorAll('.rules-section').forEach(section => {
                const firstItem = section.querySelector('.accordion-item');
                if (firstItem) {
                    firstItem.classList.add('open');
                    const icon = firstItem.querySelector('.accordion-icon');
                    if (icon) icon.textContent = '−';
                }
            });

            // Simple settings panel toggle
            document.querySelectorAll('.settings-toggle').forEach(toggle => {
                toggle.addEventListener('click', function(e) {
                    e.stopPropagation();
                    this.classList.toggle('active');
                    const panel = this.nextElementSibling;
                    
                    if (this.classList.contains('active')) {
                        panel.style.display = 'block';
                        setTimeout(() => {
                            panel.style.opacity = '1';
                        }, 10);
                    } else {
                        panel.style.opacity = '0';
                        setTimeout(() => {
                            panel.style.display = 'none';
                        }, 300);
                    }
                });
            });

            // Terms of Service functionality
            const tosButton = document.getElementById('showTos');
            const tosModal = document.getElementById('tosModal');
            const closeTos = document.querySelector('.close-tos');
            const agreeTos = document.getElementById('agreeTos');
            const declineTos = document.getElementById('closeTos');

            // Open TOS modal
            tosButton.addEventListener('click', function() {
                tosModal.style.display = 'block';
                setTimeout(() => {
                    tosModal.style.opacity = '1';
                }, 10);
            });

            // Close on X button
            closeTos.addEventListener('click', function() {
                tosModal.style.opacity = '0';
                setTimeout(() => {
                    tosModal.style.display = 'none';
                }, 300);
            });

            // Close on agree
            agreeTos.addEventListener('click', function() {
                // Save agreement to localStorage
                localStorage.setItem('rdl_tos_agreed', 'true');
                localStorage.setItem('rdl_tos_date', new Date().toISOString());
                
                tosModal.style.opacity = '0';
                setTimeout(() => {
                    tosModal.style.display = 'none';
                    // Optional: Show confirmation message
                    alert('Thank you for accepting the Terms of Service!');
                }, 300);
            });

            // Close on decline
            declineTos.addEventListener('click', function() {
                tosModal.style.opacity = '0';
                setTimeout(() => {
                    tosModal.style.display = 'none';
                }, 300);
            });

            // Close on clicking outside
            window.addEventListener('click', function(event) {
                if (event.target === tosModal) {
                    tosModal.style.opacity = '0';
                    setTimeout(() => {
                        tosModal.style.display = 'none';
                    }, 300);
                }
            });
        });
    </script>
    
    <!-- Firebase scripts -->
    <script type="module" src="../JS/firebase-config.js"></script>
    <script type="module" src="../JS/current-user.js"></script>
    <script type="module" src="../JS/logout.js"></script>
</body>
</html>