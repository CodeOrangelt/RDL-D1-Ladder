function a24_0x2aae(){const _0x1c251c=['loadInvitations','isSent','destroy','respondedAt','appendChild','status','remove','outbox','h\x20ago','gameInvitations','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22status-badge\x20status-','sentInvitations','classList','lastDoc','currentFilter','teamColor','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22team-invite-preview\x22\x20style=\x22background:\x20#1a1a1a;\x20padding:\x201rem;\x20border-radius:\x204px;\x20margin:\x200.5rem\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20style=\x22color:\x20','updateNotificationCount','createTeamFromInvitation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sentUnsubscribe','bind','createdAt','createInvitationCard','updateInvitationStatus','invitations','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-reply\x22></i>\x20Send\x20Message\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-styles','querySelectorAll','all','#send-response','data','toDate','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','filter','length','message','modal-overlay','dataset','setupEventListeners','location','unsubscribe','click','proposedTeamName','warn','teamData','accept','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','Just\x20now','sent-invitation','pending','Error\x20creating\x20team:','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22response-message\x22\x20placeholder=\x22Type\x20your\x20message\x20here...\x22\x20rows=\x224\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20respond-btn\x22\x20id=\x22send-response\x22>Send\x20Message</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x22\x20id=\x22cancel-response\x22>Cancel</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','innerHTML','addEventListener','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','querySelector','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-time\x22>','Invitations\x20you\x20send\x20to\x20other\x20players\x20will\x20appear\x20here.','style','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22color:\x20#888;\x20font-size:\x200.9em;\x20margin:\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Duos\x20Ladder\x20Team\x20â€¢\x20Color:\x20','error','getElementById','active'];a24_0x2aae=function(){return _0x1c251c;};return a24_0x2aae();}const a24_0x5f4dd7=a24_0x56e8,a24_0x305afa=(function(){let _0x3e4aae=!![];return function(_0x131678,_0x1a2ddd){const _0x5e2ae8=_0x3e4aae?function(){if(_0x1a2ddd){const _0x322ec9=_0x1a2ddd['apply'](_0x131678,arguments);return _0x1a2ddd=null,_0x322ec9;}}:function(){};return _0x3e4aae=![],_0x5e2ae8;};}()),a24_0x12fd17=a24_0x305afa(this,function(){const _0xa194e2=a24_0x56e8;let _0x5854f6;try{const _0x162a95=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x5854f6=_0x162a95();}catch(_0x2152af){_0x5854f6=window;}const _0xa5c85=_0x5854f6['console']=_0x5854f6['console']||{},_0xfea1cd=['log',_0xa194e2(0x20c),'info','error','exception','table','trace'];for(let _0x2bb25e=0x0;_0x2bb25e<_0xfea1cd[_0xa194e2(0x203)];_0x2bb25e++){const _0x1ccc98=a24_0x305afa['constructor']['prototype'][_0xa194e2(0x1f5)](a24_0x305afa),_0x4cb770=_0xfea1cd[_0x2bb25e],_0x55a22f=_0xa5c85[_0x4cb770]||_0x1ccc98;_0x1ccc98['__proto__']=a24_0x305afa[_0xa194e2(0x1f5)](a24_0x305afa),_0x1ccc98['toString']=_0x55a22f['toString']['bind'](_0x55a22f),_0xa5c85[_0x4cb770]=_0x1ccc98;}});a24_0x12fd17();function a24_0x56e8(_0x4aa170,_0x32cfb3){const _0x12fd17=a24_0x2aae();return a24_0x56e8=function(_0x305afa,_0x51adb9){_0x305afa=_0x305afa-0x1e0;let _0x2aae79=_0x12fd17[_0x305afa];return _0x2aae79;},a24_0x56e8(_0x4aa170,_0x32cfb3);}import{auth,db}from'./firebase-config.js';import{collection,query,where,orderBy,getDocs,doc,updateDoc,onSnapshot,limit,startAfter}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';class InboxManager{constructor(){const _0x3628a5=a24_0x56e8;this[_0x3628a5(0x1ee)]=_0x3628a5(0x212),this[_0x3628a5(0x1f9)]=[],this['sentInvitations']=[],this[_0x3628a5(0x209)]=null,this[_0x3628a5(0x1f4)]=null,this['pageSize']=0x14,this[_0x3628a5(0x1ed)]=null,this['hasMore']=!![],this['init']();}async['init'](){auth['onAuthStateChanged'](_0x1d0931=>{const _0x3c0290=a24_0x56e8;_0x1d0931?(this['loadInvitations'](_0x1d0931['uid']),this[_0x3c0290(0x207)]()):window[_0x3c0290(0x208)]['href']='./login.html';});}['setupEventListeners'](){document['querySelectorAll']('.filter-btn')['forEach'](_0x5b8cc0=>{_0x5b8cc0['addEventListener']('click',()=>{const _0x596f74=a24_0x56e8;document[_0x596f74(0x1fc)]('.filter-btn')['forEach'](_0x80fbae=>_0x80fbae['classList'][_0x596f74(0x1e6)](_0x596f74(0x21f))),_0x5b8cc0[_0x596f74(0x1ec)]['add']('active'),this[_0x596f74(0x1ee)]=_0x5b8cc0['dataset']['filter'],this['renderInvitations']();});});}[a24_0x5f4dd7(0x1e0)](_0x480795){const _0x2d0046=a24_0x5f4dd7,_0x4bb77c=collection(db,'gameInvitations');let _0x4b99d8=query(_0x4bb77c,where('toUserId','==',_0x480795),orderBy(_0x2d0046(0x1f6),'desc'),limit(this['pageSize']));this[_0x2d0046(0x209)]=onSnapshot(_0x4b99d8,_0x4c9129=>{const _0x5e9c86=_0x2d0046;this[_0x5e9c86(0x1f9)]=_0x4c9129['docs']['map'](_0x1607c4=>({'id':_0x1607c4['id'],..._0x1607c4[_0x5e9c86(0x1ff)]()})),this['renderInvitations'](),this[_0x5e9c86(0x1f1)]();});let _0x39944f=query(_0x4bb77c,where('fromUserId','==',_0x480795),orderBy('createdAt','desc'),limit(this['pageSize']));this[_0x2d0046(0x1f4)]=onSnapshot(_0x39944f,_0x5ea215=>{this['sentInvitations']=_0x5ea215['docs']['map'](_0x293966=>({'id':_0x293966['id'],..._0x293966['data'](),'isSent':!![]})),this['renderInvitations']();});}['renderInvitations'](){const _0x2417c4=a24_0x5f4dd7,_0x5633c4=document[_0x2417c4(0x21e)]('inbox-content');if(!_0x5633c4)return;let _0x1a0086=[];if(this['currentFilter']==='outbox')_0x1a0086=this[_0x2417c4(0x1eb)];else this['currentFilter']==='all'?_0x1a0086=[...this['invitations'],...this['sentInvitations']]['sort']((_0x4d8244,_0xfe7948)=>{const _0x2ec06c=_0x2417c4,_0x5d86c6=_0x4d8244['createdAt']?.[_0x2ec06c(0x200)]?_0x4d8244['createdAt'][_0x2ec06c(0x200)]():new Date(_0x4d8244[_0x2ec06c(0x1f6)]),_0x41b7a8=_0xfe7948['createdAt']?.['toDate']?_0xfe7948[_0x2ec06c(0x1f6)]['toDate']():new Date(_0xfe7948['createdAt']);return _0x41b7a8-_0x5d86c6;}):_0x1a0086=this['invitations'][_0x2417c4(0x202)](_0x128238=>_0x128238['status']===this['currentFilter']);if(_0x1a0086['length']===0x0){const _0x453f11=this['currentFilter']===_0x2417c4(0x1e7)?'sent':this['currentFilter']===_0x2417c4(0x1fd)?'':this['currentFilter'];_0x5633c4['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22empty-inbox\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-inbox\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>No\x20'+_0x453f11+'\x20invitations</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(this[_0x2417c4(0x1ee)]==='outbox'?_0x2417c4(0x21a):'When\x20other\x20players\x20invite\x20you\x20to\x20games,\x20they\x27ll\x20appear\x20here.')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';return;}_0x5633c4['innerHTML']=_0x1a0086['map'](_0xa9b3c5=>this['createInvitationCard'](_0xa9b3c5))['join'](''),this['setupActionListeners']();}[a24_0x5f4dd7(0x1f7)](_0x29f277){const _0xd8e9c=a24_0x5f4dd7,_0x4949da=_0x29f277['createdAt']?.[_0xd8e9c(0x200)]?_0x29f277['createdAt']['toDate']():new Date(_0x29f277['createdAt']),_0x3f34df=this['getTimeAgo'](_0x4949da),_0x217ad3=_0x29f277[_0xd8e9c(0x1e1)]||![];let _0x36b209='';return _0x29f277['type']==='team_invite'?_0x36b209=_0xd8e9c(0x20f)+_0x29f277[_0xd8e9c(0x204)]+_0xd8e9c(0x1f0)+_0x29f277['teamData'][_0xd8e9c(0x1ef)]+';\x20margin:\x200\x200\x200.5rem\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x29f277[_0xd8e9c(0x20d)][_0xd8e9c(0x20b)]+_0xd8e9c(0x21c)+_0x29f277['teamData']['teamColor']+_0xd8e9c(0x1f3):_0x36b209='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+_0x29f277['message']+_0xd8e9c(0x217),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-card\x20'+_0x29f277[_0xd8e9c(0x1e5)]+'\x20'+(_0x217ad3?_0xd8e9c(0x211):'')+'\x22\x20data-invitation-id=\x22'+_0x29f277['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-from\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x217ad3?'To:\x20'+_0x29f277['toUsername']:_0x29f277['fromUsername'])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x217ad3?'<span\x20class=\x22sent-indicator\x22><i\x20class=\x22fas\x20fa-paper-plane\x22></i>\x20Sent</span>':'')+_0xd8e9c(0x219)+_0x3f34df+_0xd8e9c(0x1ea)+_0x29f277[_0xd8e9c(0x1e5)]+'\x22>'+_0x29f277[_0xd8e9c(0x1e5)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x36b209+_0xd8e9c(0x201)+(!_0x217ad3&&_0x29f277[_0xd8e9c(0x1e5)]==='pending'?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20accept-btn\x22\x20data-action=\x22accept\x22\x20data-invitation-id=\x22'+_0x29f277['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20Accept\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20decline-btn\x22\x20data-action=\x22decline\x22\x20data-invitation-id=\x22'+_0x29f277['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20Decline\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x29f277['type']!=='team_invite'?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20respond-btn\x22\x20data-action=\x22respond\x22\x20data-invitation-id=\x22'+_0x29f277['id']+_0xd8e9c(0x1fa):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x217ad3&&_0x29f277['status']===_0xd8e9c(0x212)?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20cancel-btn\x22\x20data-action=\x22cancel\x22\x20data-invitation-id=\x22'+_0x29f277['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20Cancel\x20Invitation\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}['setupActionListeners'](){const _0xd3e0d0=a24_0x5f4dd7;document[_0xd3e0d0(0x1fc)]('.action-btn')['forEach'](_0x3941f5=>{const _0x484213=_0xd3e0d0;_0x3941f5['addEventListener'](_0x484213(0x20a),async _0x292ff6=>{const _0x2fdfb2=_0x484213,_0x3d6198=_0x3941f5[_0x2fdfb2(0x206)]['action'],_0x3f398c=_0x3941f5[_0x2fdfb2(0x206)]['invitationId'];_0x3941f5['disabled']=!![];const _0x167fdd=_0x3941f5[_0x2fdfb2(0x215)];_0x3941f5[_0x2fdfb2(0x215)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>';try{switch(_0x3d6198){case _0x2fdfb2(0x20e):await this[_0x2fdfb2(0x1f8)](_0x3f398c,'accepted');break;case'decline':await this[_0x2fdfb2(0x1f8)](_0x3f398c,'declined');break;case'cancel':await this[_0x2fdfb2(0x1f8)](_0x3f398c,'cancelled');break;case'respond':this['openResponseModal'](_0x3f398c);break;}}catch(_0x28af94){console[_0x2fdfb2(0x21d)]('Error\x20performing\x20'+_0x3d6198+':',_0x28af94),alert('Failed\x20to\x20'+_0x3d6198+'\x20invitation.\x20Please\x20try\x20again.');}finally{_0x3941f5['disabled']=![],_0x3941f5['innerHTML']=_0x167fdd;}});});}async['updateInvitationStatus'](_0x55c116,_0x25a8f9){const _0x317d31=a24_0x5f4dd7;try{const _0x33805a=this['invitations']['find'](_0x3338ed=>_0x3338ed['id']===_0x55c116);_0x33805a&&_0x33805a['type']==='team_invite'&&_0x25a8f9==='accepted'&&await this['createTeamFromInvitation'](_0x33805a);const _0x354995=doc(db,_0x317d31(0x1e9),_0x55c116);await updateDoc(_0x354995,{'status':_0x25a8f9,'respondedAt':new Date()}),_0x33805a&&(_0x33805a['status']=_0x25a8f9,_0x33805a[_0x317d31(0x1e3)]=new Date(),this['renderInvitations']());}catch(_0x3c91a2){console['error']('Error\x20updating\x20invitation\x20status:',_0x3c91a2);throw _0x3c91a2;}}['openResponseModal'](_0x1e13c6){const _0xa2b772=a24_0x5f4dd7,_0x13d56c=this['invitations']['find'](_0x55e781=>_0x55e781['id']===_0x1e13c6);if(!_0x13d56c)return;const _0x591f26=document['createElement']('div');_0x591f26['className']=_0xa2b772(0x205),_0x591f26['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Send\x20Message\x20to\x20'+_0x13d56c['fromUsername']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22modal-close\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-body\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Regarding\x20invitation\x20to:\x20<strong>'+_0x13d56c['value']+_0xa2b772(0x214);if(!document['getElementById'](_0xa2b772(0x1fb))){const _0x24af79=document['createElement'](_0xa2b772(0x21b));_0x24af79['id']='modal-styles',_0x24af79['textContent']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-overlay\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20right:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.8);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-content\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#2a2a2a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2090%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20500px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-height:\x2090vh;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20overflow-y:\x20auto;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-header\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20space-between;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-close\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x201.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-body\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-body\x20textarea\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#1a1a1a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resize:\x20vertical;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-footer\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-top:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document['head'][_0xa2b772(0x1e4)](_0x24af79);}document['body'][_0xa2b772(0x1e4)](_0x591f26),_0x591f26['querySelector']('.modal-close')[_0xa2b772(0x216)]('click',()=>_0x591f26[_0xa2b772(0x1e6)]()),_0x591f26['querySelector']('#cancel-response')[_0xa2b772(0x216)]('click',()=>_0x591f26['remove']()),_0x591f26[_0xa2b772(0x216)](_0xa2b772(0x20a),_0x3f6c14=>{if(_0x3f6c14['target']===_0x591f26)_0x591f26['remove']();}),_0x591f26[_0xa2b772(0x218)](_0xa2b772(0x1fe))['addEventListener'](_0xa2b772(0x20a),()=>{const _0x42e2a8=_0xa2b772,_0xfa67d=document['getElementById']('response-message')['value']['trim']();_0xfa67d&&(alert('Message\x20sent!\x20(Feature\x20will\x20be\x20fully\x20implemented\x20in\x20future\x20update)'),_0x591f26[_0x42e2a8(0x1e6)]());});}async[a24_0x5f4dd7(0x1f2)](_0x33a435){const _0x3a60d7=a24_0x5f4dd7;try{const {createTeam:_0x180542}=await import('./ladderduos.js'),_0x2ad173=await _0x180542(_0x33a435['fromUsername'],_0x33a435['toUsername'],_0x33a435['teamData']['proposedTeamName'],_0x33a435['teamData']['teamColor']);if(!_0x2ad173['success'])throw new Error(_0x2ad173['error']);alert('Team\x20\x22'+_0x33a435['teamData']['proposedTeamName']+'\x22\x20created\x20successfully!');}catch(_0x5c39eb){console['error'](_0x3a60d7(0x213),_0x5c39eb);throw new Error('Failed\x20to\x20create\x20team:\x20'+_0x5c39eb['message']);}}['updateNotificationCount'](){const _0x29319f=a24_0x5f4dd7,_0xb70b1a=this['invitations']['filter'](_0x130112=>_0x130112['status']==='pending')['length'],_0x529c1d=document['getElementById']('inbox-notification');_0x529c1d&&(_0xb70b1a>0x0?(_0x529c1d['style']['display']='inline-block',_0x529c1d['textContent']=_0xb70b1a>0x9?'9+':_0xb70b1a):_0x529c1d[_0x29319f(0x21b)]['display']='none');}['getTimeAgo'](_0x102a71){const _0x3cea7f=a24_0x5f4dd7,_0x3d31ba=new Date(),_0x30ff22=_0x3d31ba-_0x102a71,_0x36db56=Math['floor'](_0x30ff22/(0x3e8*0x3c)),_0x4b0412=Math['floor'](_0x30ff22/(0x3e8*0x3c*0x3c)),_0x2fa938=Math['floor'](_0x30ff22/(0x3e8*0x3c*0x3c*0x18));if(_0x36db56<0x1)return _0x3cea7f(0x210);if(_0x36db56<0x3c)return _0x36db56+'m\x20ago';if(_0x4b0412<0x18)return _0x4b0412+_0x3cea7f(0x1e8);if(_0x2fa938<0x7)return _0x2fa938+'d\x20ago';return _0x102a71['toLocaleDateString']();}[a24_0x5f4dd7(0x1e2)](){const _0x422067=a24_0x5f4dd7;this['unsubscribe']&&this[_0x422067(0x209)](),this['sentUnsubscribe']&&this['sentUnsubscribe']();}}document['addEventListener']('DOMContentLoaded',()=>{new InboxManager();});