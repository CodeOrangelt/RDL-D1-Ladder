const a46_0x524bdb=a46_0x516d,a46_0xd406d7=(function(){let _0xc72bc0=!![];return function(_0x8eb825,_0x4e3e90){const _0x541e60=_0xc72bc0?function(){const _0x15f864=a46_0x516d;if(_0x4e3e90){const _0xccbea5=_0x4e3e90[_0x15f864(0x1dc)](_0x8eb825,arguments);return _0x4e3e90=null,_0xccbea5;}}:function(){};return _0xc72bc0=![],_0x541e60;};}()),a46_0x1afff4=a46_0xd406d7(this,function(){const _0x59a9aa=a46_0x516d,_0x3a6052=function(){const _0x23b268=a46_0x516d;let _0x40da52;try{_0x40da52=Function(_0x23b268(0x1d4)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x474992){_0x40da52=window;}return _0x40da52;},_0x2f081c=_0x3a6052(),_0x26a242=_0x2f081c['console']=_0x2f081c['console']||{},_0x49cc87=[_0x59a9aa(0x1ae),'warn',_0x59a9aa(0x17e),_0x59a9aa(0x1af),'exception','table','trace'];for(let _0x46c454=0x0;_0x46c454<_0x49cc87['length'];_0x46c454++){const _0x54cb2a=a46_0xd406d7['constructor']['prototype']['bind'](a46_0xd406d7),_0x3a559b=_0x49cc87[_0x46c454],_0x1fc190=_0x26a242[_0x3a559b]||_0x54cb2a;_0x54cb2a['__proto__']=a46_0xd406d7[_0x59a9aa(0x1b9)](a46_0xd406d7),_0x54cb2a['toString']=_0x1fc190['toString'][_0x59a9aa(0x1b9)](_0x1fc190),_0x26a242[_0x3a559b]=_0x54cb2a;}});a46_0x1afff4();import{getAuth,onAuthStateChanged}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,updateDoc,collection,addDoc,serverTimestamp}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';function a46_0x516d(_0x2f6a38,_0x28fd67){const _0x1afff4=a46_0x33f6();return a46_0x516d=function(_0xd406d7,_0x492970){_0xd406d7=_0xd406d7-0x134;let _0x33f646=_0x1afff4[_0xd406d7];return _0x33f646;},a46_0x516d(_0x2f6a38,_0x28fd67);}import{clearTokenCache}from'./tokens.js';const auth=getAuth(),db=getFirestore(),THEMES={'default':{'price':0x0,'name':'Classic\x20RDL','description':'Rock\x20texture\x20with\x20a\x20sleek\x20nav\x20and\x20footer'},'contrast':{'price':0x0,'name':'Nightlight','description':a46_0x524bdb(0x156)},'purple':{'price':0x96,'name':a46_0x524bdb(0x138),'description':a46_0x524bdb(0x181)},'ocean':{'price':0x12c,'name':'Blue','description':'This\x20one\x20is\x20really\x20pretty'},'cyberpunk':{'price':0x190,'name':a46_0x524bdb(0x1a5),'description':'This\x20theme\x20makes\x20me\x20happy'},'volcanic':{'price':0x1f4,'name':a46_0x524bdb(0x1d0),'description':'For\x20the\x20angry\x20type.'},'gold':{'price':0x320,'name':'Gold','description':'Only\x20the\x20best\x20get\x20this\x20one'},'emerald':{'price':0x3e8,'name':'Emerald','description':a46_0x524bdb(0x167)},'cockpit':{'price':0x4b0,'name':'Cockpit','description':'is\x20that...\x20Pfunk?'}},TOKENS={'pwr01':{'price':0x64,'name':'Energy','description':a46_0x524bdb(0x158),'image':a46_0x524bdb(0x1b8),'category':a46_0x524bdb(0x13f)},'fan':{'price':0x96,'name':'Fan','description':'Show\x20your\x20support\x20with\x20this\x20fan\x20token.','image':'../images/tokens/Fan.gif','category':'fun'},'marker':{'price':0xfa,'name':a46_0x524bdb(0x178),'description':'Leave\x20your\x20mark\x20on\x20the\x20leaderboard.','image':'../images/tokens/Marker.gif','category':'fun'},'laser':{'price':0x12c,'name':'Laser','description':'Classic\x20laser\x20weapon\x20token.','image':a46_0x524bdb(0x155),'category':'weapon'},'pbomb':{'price':0x15e,'name':a46_0x524bdb(0x172),'description':'Strategic\x20explosive\x20device','image':'../images/tokens/subgame/pbomb.gif','category':'weapon'},'fusion':{'price':0x15e,'name':a46_0x524bdb(0x1d1),'description':a46_0x524bdb(0x18b),'image':'../images/tokens/subgame/fusion.gif','category':'weapon'},'lock':{'price':0x1c2,'name':'Lock','description':a46_0x524bdb(0x171),'image':a46_0x524bdb(0x15c),'category':'fun'},'blob01':{'price':0x1f4,'name':'Blob\x20Token\x201','description':'A\x20mysterious\x20purple\x20blob\x20token','image':'../images/tokens/blob01.gif','category':'blob'},'plasma':{'price':0x1f4,'name':'Plasma\x20Cannon','description':'High-powered\x20plasma\x20cannon\x20token.','image':a46_0x524bdb(0x1d9),'category':'weapon'},'cloak':{'price':0x1f4,'name':a46_0x524bdb(0x13d),'description':'Become\x20one\x20with\x20the\x20shadows','image':a46_0x524bdb(0x177),'category':a46_0x524bdb(0x1ac)},'pwr02':{'price':0x258,'name':'Shield\x20Orb','description':a46_0x524bdb(0x134),'image':'../images/tokens/subgame/pwr02.gif','category':'powerup'},'mercury':{'price':0x258,'name':'Mercury\x20Missile','description':a46_0x524bdb(0x199),'image':'../images/tokens/Mercury.gif','category':'weapon'},'plasmablobl':{'price':0x258,'name':'Plasma\x20Blob','description':a46_0x524bdb(0x1a4),'image':a46_0x524bdb(0x1c6),'category':a46_0x524bdb(0x19f)},'smissile':{'price':0x28a,'name':'Smart\x20Missile','description':'Intelligent\x20targeting\x20system','image':'../images/tokens/subgame/smissile.gif','category':'weapon'},'smartmine':{'price':0x2ee,'name':a46_0x524bdb(0x186),'description':'A\x20cunning\x20explosive\x20device.','image':a46_0x524bdb(0x1b1),'category':a46_0x524bdb(0x182)},'mmissile':{'price':0x320,'name':'Mega\x20Missile','description':'Heavy\x20ordinance\x20for\x20tough\x20situations','image':'../images/tokens/subgame/mmissile.gif','category':'weapon'},'gauge18':{'price':0x320,'name':'R/Y/B\x20Keys','description':'Monitor\x20your\x20ship\x27s\x20energy\x20levels','image':'../images/tokens/gauge18.gif','category':a46_0x524bdb(0x1a9)},'extralife':{'price':0x320,'name':a46_0x524bdb(0x1d8),'description':'A\x20rare\x20extra\x20life\x20token.','image':'../images/tokens/Extralife.gif','category':'special'},'hostage':{'price':0x3b6,'name':a46_0x524bdb(0x198),'description':'Rescue\x20the\x20hostage\x20for\x20bonus\x20points.','image':a46_0x524bdb(0x162),'category':a46_0x524bdb(0x1ac)},'phoenix':{'price':0x3b6,'name':a46_0x524bdb(0x183),'description':'Fiery\x20phoenix\x20cannon\x20token.','image':'../images/tokens/Phoenix.gif','category':a46_0x524bdb(0x182)},'blob02':{'price':0x3e8,'name':a46_0x524bdb(0x168),'description':'Another\x20enigmatic\x20blob\x20creature','image':'../images/tokens/blob02.gif','category':a46_0x524bdb(0x19f)},'invuln':{'price':0x5dc,'name':'Invulnerability','description':'Become\x20invincible\x20for\x20a\x20short\x20time.','image':'../images/tokens/Invuln.gif','category':'powerup'},'blob03':{'price':0x7d0,'name':a46_0x524bdb(0x15e),'description':'The\x20final\x20blob\x20in\x20the\x20collection','image':'../images/tokens/blob03.gif','category':a46_0x524bdb(0x19f)},'reactor':{'price':0x7d0,'name':a46_0x524bdb(0x1c5),'description':'The\x20heart\x20of\x20every\x20mine.','image':'../images/tokens/Reactor.gif','category':'special'},'pyro':{'price':0xbb8,'name':'Pyro','description':'The\x20iconic\x20Pyro-GX\x20ship.','image':'../images/tokens/Pyro.gif','category':'ship'}};let userData={'points':0x0,'inventory':[],'isAdmin':![]},storeContainer,pointsDisplay,authWarning;document[a46_0x524bdb(0x18a)]('DOMContentLoaded',()=>{const _0x59483d=a46_0x524bdb;console['log']('üè™\x20Redeem\x20store\x20initializing...'),storeContainer=document['getElementById'](_0x59483d(0x1ab)),pointsDisplay=document[_0x59483d(0x1df)]('user-points'),authWarning=document['getElementById']('auth-warning'),initAuthListener(),buildStoreUI();});function initAuthListener(){onAuthStateChanged(auth,async _0x49aeae=>{const _0x2b832e=a46_0x516d;if(_0x49aeae){console['log'](_0x2b832e(0x1ce),_0x49aeae['displayName']||_0x49aeae[_0x2b832e(0x18c)]);if(authWarning)authWarning[_0x2b832e(0x144)]['display']=_0x2b832e(0x1a1);if(storeContainer)storeContainer['style']['display']='block';await loadUserData(_0x49aeae),updateThemeButtons(),updateTokenButtons();}else{console['log']('‚ùå\x20User\x20not\x20authenticated');if(authWarning)authWarning['style']['display']=_0x2b832e(0x194);if(storeContainer)storeContainer[_0x2b832e(0x144)]['display']=_0x2b832e(0x1a1);userData={'points':0x0,'inventory':[],'isAdmin':![]},window[_0x2b832e(0x150)]=![];}});}async function loadUserData(_0x5e7bce){const _0xd78cde=a46_0x524bdb;try{const _0x319cae=doc(db,'userProfiles',_0x5e7bce['uid']),_0x5a8a59=await getDoc(_0x319cae);if(_0x5a8a59['exists']()){const _0x57b8c0=_0x5a8a59[_0xd78cde(0x154)]();userData={'points':_0x57b8c0[_0xd78cde(0x13b)]||0x0,'inventory':_0x57b8c0[_0xd78cde(0x137)]||[],'isAdmin':_0x57b8c0['isAdmin']||![],'equippedToken':_0x57b8c0['equippedToken']||null},pointsDisplay&&(pointsDisplay[_0xd78cde(0x19c)]=userData[_0xd78cde(0x13b)][_0xd78cde(0x189)]()),window[_0xd78cde(0x150)]=userData['isAdmin'],userData['isAdmin']&&(console['log']('üëë\x20Admin\x20controls\x20enabled'),window[_0xd78cde(0x1a7)](new CustomEvent(_0xd78cde(0x13e),{'detail':{'isAdmin':!![]}}))),console[_0xd78cde(0x1ae)](_0xd78cde(0x1d2)+userData[_0xd78cde(0x13b)]+',\x20Inventory:\x20'+userData['inventory']['length']+_0xd78cde(0x1cb)+(userData['equippedToken']||_0xd78cde(0x1a1)));}else await setDoc(_0x319cae,{'points':0x0,'inventory':[],'equippedToken':null,'createdAt':serverTimestamp(),'username':_0x5e7bce['displayName']||_0x5e7bce['email']?.[_0xd78cde(0x163)]('@')[0x0]||'User'}),userData={'points':0x0,'inventory':[],'isAdmin':![],'equippedToken':null},pointsDisplay&&(pointsDisplay['textContent']='0'),window['isUserAdmin']=![],console[_0xd78cde(0x1ae)]('New\x20user\x20profile\x20created');}catch(_0x15a4a6){console['error'](_0xd78cde(0x173),_0x15a4a6);}}function userOwnsTheme(_0x2fcd4d){const _0x1e700d=a46_0x524bdb;if(THEMES[_0x2fcd4d]?.['price']===0x0)return!![];return userData['inventory']['includes'](_0x1e700d(0x1d5)+_0x2fcd4d);}function userOwnsToken(_0x4c22d0){const _0x33e0b0=a46_0x524bdb;return userData[_0x33e0b0(0x137)][_0x33e0b0(0x1b6)]('token_'+_0x4c22d0);}function userHasTokenEquipped(_0x4c64f7){return userData['equippedToken']===_0x4c64f7;}function getEquippedToken(){const _0x32916e=a46_0x524bdb;return userData[_0x32916e(0x1b3)]||null;}async function purchaseTheme(_0x5271ed){const _0x28ae2c=a46_0x524bdb,_0x3834b1=auth['currentUser'];if(!_0x3834b1)return showMessage('Please\x20sign\x20in\x20to\x20purchase\x20themes','error'),![];const _0x370443=THEMES[_0x5271ed];if(!_0x370443)return console['error']('Theme\x20'+_0x5271ed+'\x20not\x20found'),![];if(userData[_0x28ae2c(0x13b)]<_0x370443['price'])return showMessage('Not\x20enough\x20points.\x20You\x20need\x20'+(_0x370443[_0x28ae2c(0x188)]-userData[_0x28ae2c(0x13b)])+_0x28ae2c(0x1cc),'error'),![];if(userOwnsTheme(_0x5271ed))return showMessage(_0x28ae2c(0x1aa)+_0x370443[_0x28ae2c(0x190)]+_0x28ae2c(0x1c3),'info'),![];try{return await processPurchase(_0x5271ed,_0x370443,'theme');}catch(_0x4e8f31){return console['error']('Theme\x20purchase\x20failed:',_0x4e8f31),showMessage('Purchase\x20failed.\x20Please\x20try\x20again.','error'),![];}}async function purchaseToken(_0x4543ab){const _0x1670da=a46_0x524bdb,_0x371e7b=auth[_0x1670da(0x1a0)];if(!_0x371e7b)return showMessage('Please\x20sign\x20in\x20to\x20purchase\x20tokens','error'),![];const _0x4729c2=TOKENS[_0x4543ab];if(!_0x4729c2)return console['error'](_0x1670da(0x17c)+_0x4543ab+_0x1670da(0x139)),![];if(userData['points']<_0x4729c2['price'])return showMessage('Not\x20enough\x20points.\x20You\x20need\x20'+(_0x4729c2['price']-userData[_0x1670da(0x13b)])+_0x1670da(0x1cc),_0x1670da(0x1af)),![];if(userOwnsToken(_0x4543ab))return showMessage('You\x20already\x20own\x20the\x20'+_0x4729c2['name']+'\x20token','info'),![];try{return await processPurchase(_0x4543ab,_0x4729c2,'token');}catch(_0x2efb42){return console['error'](_0x1670da(0x1db),_0x2efb42),showMessage(_0x1670da(0x140),'error'),![];}}async function processPurchase(_0x2396e2,_0x2641a1,_0x2fcb1a){const _0x3259a5=a46_0x524bdb,_0x367327=auth[_0x3259a5(0x1a0)];try{const _0x2336a5=doc(db,'userProfiles',_0x367327[_0x3259a5(0x1dd)]),_0x3dced5=await getDoc(_0x2336a5);if(!_0x3dced5['exists']())return showMessage('User\x20profile\x20not\x20found',_0x3259a5(0x1af)),![];const _0x318373=_0x3dced5['data'](),_0x94eeb1=_0x318373[_0x3259a5(0x13b)]||0x0,_0x12f3ec=_0x318373['inventory']||[];if(_0x94eeb1<_0x2641a1[_0x3259a5(0x188)])return showMessage('Insufficient\x20points','error'),![];if(_0x12f3ec['includes'](_0x2fcb1a+'_'+_0x2396e2))return showMessage('You\x20already\x20own\x20this\x20'+_0x2fcb1a,'info'),![];const _0x4f2168=_0x94eeb1-_0x2641a1[_0x3259a5(0x188)],_0x45f851=[..._0x12f3ec,_0x2fcb1a+'_'+_0x2396e2];await updateDoc(_0x2336a5,{'points':_0x4f2168,'inventory':_0x45f851,'lastPurchase':serverTimestamp()});if(_0x2fcb1a==='token')try{const _0x4c89d5=doc(db,_0x3259a5(0x164),_0x367327['uid']),_0x1b7aa3=await getDoc(_0x4c89d5);let _0x4e4ac9=[];_0x1b7aa3['exists']()&&(_0x4e4ac9=_0x1b7aa3['data']()['tokens']||[]);const _0x3a57d6=new Date();_0x4e4ac9[_0x3259a5(0x1b2)]({'tokenId':_0x2396e2,'tokenName':_0x2641a1['name'],'tokenImage':_0x2641a1['image'],'category':_0x2641a1['category'],'purchasedAt':_0x3a57d6,'price':_0x2641a1[_0x3259a5(0x188)],'equipped':![]}),await setDoc(_0x4c89d5,{'userId':_0x367327[_0x3259a5(0x1dd)],'username':_0x318373[_0x3259a5(0x17a)]||_0x367327[_0x3259a5(0x15f)]||'Unknown','tokens':_0x4e4ac9,'lastUpdated':serverTimestamp()},{'merge':!![]}),typeof clearTokenCache==='function'&&clearTokenCache(_0x367327['uid']),console[_0x3259a5(0x1ae)]('‚úÖ\x20Token\x20'+_0x2396e2+'\x20saved\x20to\x20userTokens\x20collection\x20(not\x20equipped)');}catch(_0x2a40d0){console['warn']('Token\x20collection\x20update\x20had\x20an\x20issue,\x20but\x20purchase\x20completed:',_0x2a40d0),_0x2a40d0['code']==='permission-denied'?console['log']('üîß\x20Token\x20permissions\x20issue\x20detected,\x20but\x20purchase\x20was\x20successful'):console[_0x3259a5(0x1af)](_0x3259a5(0x19a),_0x2a40d0);}try{await addDoc(collection(db,'transactions'),{'userId':_0x367327['uid'],'userEmail':_0x367327[_0x3259a5(0x18c)],'itemId':_0x2fcb1a+'_'+_0x2396e2,'itemTitle':_0x2641a1['name'],'price':_0x2641a1['price'],'type':'purchase','category':_0x2fcb1a,'timestamp':serverTimestamp()});}catch(_0x376f97){console['warn']('Transaction\x20logging\x20failed,\x20but\x20purchase\x20was\x20successful:',_0x376f97);}return userData[_0x3259a5(0x13b)]=_0x4f2168,userData['inventory']=_0x45f851,pointsDisplay&&(pointsDisplay['textContent']=userData['points']['toLocaleString']()),updateTokenButtons(),_0x2fcb1a===_0x3259a5(0x1a3)&&updateThemeButtons(),console['log']('‚úÖ\x20Purchased\x20'+_0x2641a1['name']+'\x20for\x20'+_0x2641a1['price']+'\x20points'),showMessage(_0x3259a5(0x165)+_0x2641a1['name']+_0x3259a5(0x1c1),'success'),!![];}catch(_0x3e4d36){console['error']('Purchase\x20processing\x20error:',_0x3e4d36);if(_0x3e4d36['code']==='permission-denied')showMessage(_0x3259a5(0x1be),'error');else{if(_0x3e4d36['code']===_0x3259a5(0x1ca))showMessage(_0x3259a5(0x1b4),'error');else _0x3e4d36['code']==='unauthenticated'?showMessage('Please\x20sign\x20in\x20again\x20to\x20complete\x20purchase.','error'):showMessage('Purchase\x20failed.\x20Please\x20try\x20again.','error');}return![];}}async function equipToken(_0x139f09){const _0x1bcec0=a46_0x524bdb,_0x44d4f5=auth['currentUser'];if(!_0x44d4f5)return showMessage('Please\x20sign\x20in\x20to\x20equip\x20tokens',_0x1bcec0(0x1af)),![];const _0x1bada3=TOKENS[_0x139f09];if(!_0x1bada3)return console[_0x1bcec0(0x1af)](_0x1bcec0(0x17c)+_0x139f09+_0x1bcec0(0x139)),![];if(!userOwnsToken(_0x139f09))return showMessage('You\x20must\x20own\x20this\x20token\x20to\x20equip\x20it','error'),![];try{const _0xa37c7a=doc(db,'userProfiles',_0x44d4f5['uid']);await updateDoc(_0xa37c7a,{'equippedToken':_0x139f09,'lastTokenEquip':serverTimestamp()});try{const _0x22019e=doc(db,'userTokens',_0x44d4f5['uid']),_0x208596=await getDoc(_0x22019e);if(_0x208596[_0x1bcec0(0x1b5)]()){const _0x41d51a=_0x208596['data'](),_0x593926=_0x41d51a['tokens']||[],_0x346b73=_0x593926[_0x1bcec0(0x149)](_0x33f064=>({..._0x33f064,'equipped':_0x33f064[_0x1bcec0(0x1cd)]===_0x139f09}));await updateDoc(_0x22019e,{'tokens':_0x346b73,'equippedToken':_0x139f09,'lastUpdated':serverTimestamp()});}}catch(_0x114eeb){console['warn'](_0x1bcec0(0x136),_0x114eeb);}return userData['equippedToken']=_0x139f09,typeof clearTokenCache==='function'&&(clearTokenCache(_0x44d4f5['uid']),clearTokenCache()),setTimeout(()=>{const _0x397670=_0x1bcec0;window[_0x397670(0x14b)]&&typeof window['displayLadder']==='function'&&(console['log'](_0x397670(0x1ad)),window['displayLadder'](!![])),window['RedeemStore']&&typeof window['RedeemStore'][_0x397670(0x159)]===_0x397670(0x19d)&&window['RedeemStore']['refreshUI']();},0x1f4),console['log'](_0x1bcec0(0x185)+_0x1bada3['name']),showMessage(_0x1bada3[_0x1bcec0(0x190)]+_0x1bcec0(0x1cf),'success'),!![];}catch(_0x5219ba){return console['error'](_0x1bcec0(0x16b),_0x5219ba),_0x5219ba['code']===_0x1bcec0(0x13c)?showMessage('Permission\x20denied.\x20Token\x20may\x20still\x20be\x20equipped\x20-\x20check\x20the\x20ladder.',_0x1bcec0(0x18e)):showMessage('Failed\x20to\x20equip\x20token:\x20'+_0x5219ba['message'],_0x1bcec0(0x1af)),![];}}async function unequipToken(){const _0x1e8632=a46_0x524bdb,_0x36a71e=auth['currentUser'];if(!_0x36a71e)return showMessage(_0x1e8632(0x1bb),'error'),![];if(!userData['equippedToken'])return showMessage('No\x20token\x20is\x20currently\x20equipped',_0x1e8632(0x17e)),![];try{const _0x3602fc=doc(db,_0x1e8632(0x14f),_0x36a71e[_0x1e8632(0x1dd)]);await updateDoc(_0x3602fc,{'equippedToken':null,'lastTokenEquip':serverTimestamp()});const _0x1b6aa3=doc(db,'userTokens',_0x36a71e['uid']),_0x1d6be3=await getDoc(_0x1b6aa3);if(_0x1d6be3['exists']()){const _0x268a8d=_0x1d6be3['data'](),_0x38811d=_0x268a8d[_0x1e8632(0x1bf)]||[],_0xd952eb=_0x38811d[_0x1e8632(0x149)](_0x573f95=>({..._0x573f95,'equipped':![]}));await updateDoc(_0x1b6aa3,{'tokens':_0xd952eb,'equippedToken':null,'lastUpdated':serverTimestamp()});}return userData['equippedToken']=null,typeof clearTokenCache==='function'&&(clearTokenCache(_0x36a71e[_0x1e8632(0x1dd)]),clearTokenCache()),setTimeout(()=>{const _0x208aac=_0x1e8632;window[_0x208aac(0x14b)]&&typeof window['displayLadder']===_0x208aac(0x19d)&&(console['log']('üîÑ\x20Refreshing\x20ladder\x20to\x20remove\x20unequipped\x20token'),window['displayLadder'](!![])),window['RedeemStore']&&typeof window['RedeemStore']['refreshUI']===_0x208aac(0x19d)&&window['RedeemStore']['refreshUI']();},0x1f4),console['log']('‚úÖ\x20Token\x20unequipped'),showMessage('Token\x20unequipped!\x20Ladder\x20will\x20refresh\x20shortly.','success'),!![];}catch(_0x52277b){return console['error'](_0x1e8632(0x191),_0x52277b),showMessage(_0x1e8632(0x147)+_0x52277b[_0x1e8632(0x146)],'error'),![];}}async function sellToken(_0x98682b){const _0x74674d=a46_0x524bdb,_0x47a816=auth['currentUser'];if(!_0x47a816)return showMessage(_0x74674d(0x17f),'error'),![];if(!userData['isAdmin'])return showMessage('Only\x20admins\x20can\x20sell\x20tokens','error'),![];const _0x70b2cb=TOKENS[_0x98682b];if(!_0x70b2cb)return console['error']('Token\x20'+_0x98682b+'\x20not\x20found'),![];if(!userOwnsToken(_0x98682b))return showMessage('You\x20don\x27t\x20own\x20this\x20token','error'),![];try{const _0x2d7044=doc(db,'userProfiles',_0x47a816[_0x74674d(0x1dd)]),_0x391606=await getDoc(_0x2d7044),_0x174d72=_0x391606['data'](),_0x52026e=Math[_0x74674d(0x1a2)](_0x70b2cb['price']*0.5),_0x83869=(_0x174d72['points']||0x0)+_0x52026e,_0x4ec737=(_0x174d72['inventory']||[])['filter'](_0x13898a=>_0x13898a!=='token_'+_0x98682b),_0xde2a85=_0x174d72['equippedToken']===_0x98682b?null:_0x174d72[_0x74674d(0x1b3)];await updateDoc(_0x2d7044,{'points':_0x83869,'inventory':_0x4ec737,'equippedToken':_0xde2a85,'lastSale':serverTimestamp()});const _0x5bfaca=doc(db,'userTokens',_0x47a816['uid']),_0x411eff=await getDoc(_0x5bfaca);if(_0x411eff['exists']()){const _0x50b1ef=_0x411eff['data'](),_0x37c894=_0x50b1ef['tokens']||[],_0x3410d1=_0x37c894['filter'](_0x2fbca1=>_0x2fbca1['tokenId']!==_0x98682b);await updateDoc(_0x5bfaca,{'tokens':_0x3410d1,'equippedToken':_0xde2a85,'lastUpdated':serverTimestamp()});}return await addDoc(collection(db,'transactions'),{'userId':_0x47a816['uid'],'userEmail':_0x47a816['email'],'itemId':'token_'+_0x98682b,'itemTitle':_0x70b2cb[_0x74674d(0x190)],'refund':_0x52026e,'originalPrice':_0x70b2cb['price'],'type':_0x74674d(0x169),'category':'token','timestamp':serverTimestamp()}),userData['points']=_0x83869,userData['inventory']=_0x4ec737,userData['equippedToken']=_0xde2a85,pointsDisplay&&(pointsDisplay[_0x74674d(0x19c)]=userData['points']['toLocaleString']()),typeof clearTokenCache==='function'&&clearTokenCache(_0x47a816['uid']),console['log'](_0x74674d(0x1d7)+_0x70b2cb[_0x74674d(0x190)]+'\x20for\x20'+_0x52026e+'\x20points'),showMessage('Sold\x20'+_0x70b2cb['name']+'\x20for\x20'+_0x52026e+'\x20points\x20(50%\x20refund)',_0x74674d(0x166)),!![];}catch(_0x16d4a1){return console['error'](_0x74674d(0x1c2),_0x16d4a1),showMessage('Failed\x20to\x20sell\x20token:\x20'+_0x16d4a1['message'],'error'),![];}}function applyTheme(_0x5ea693){const _0x4919ff=a46_0x524bdb;if(!userOwnsTheme(_0x5ea693))return showMessage('You\x20must\x20purchase\x20this\x20theme\x20first',_0x4919ff(0x1af)),![];return window['ThemeSystem']?(window['ThemeSystem']['switchTheme'](_0x5ea693),showMessage((THEMES[_0x5ea693]?.['name']||_0x5ea693)+_0x4919ff(0x176),_0x4919ff(0x166)),!![]):(console['error']('Theme\x20system\x20not\x20found'),![]);}function buildStoreUI(){buildThemeItems(),buildTokenItems();}function buildThemeItems(){const _0x335595=a46_0x524bdb,_0x2ced55=document['querySelector'](_0x335595(0x170));if(!_0x2ced55){console[_0x335595(0x1af)]('Themes\x20container\x20not\x20found');return;}_0x2ced55[_0x335595(0x187)]='',Object['entries'](THEMES)['forEach'](([_0x1bc5c1,_0x8815eb])=>{const _0x22fab9=_0x335595,_0x1c915b=document['createElement'](_0x22fab9(0x1a8));_0x1c915b['className']='store-item',_0x1c915b[_0x22fab9(0x18d)]['theme']=_0x1bc5c1,_0x1c915b['dataset']['itemId']='theme_'+_0x1bc5c1,_0x1c915b['dataset'][_0x22fab9(0x188)]=_0x8815eb['price'],_0x1c915b['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-icon\x20theme-icon-'+_0x1bc5c1+_0x22fab9(0x16d)+(_0x8815eb['price']===0x0?'FREE':_0x8815eb['price']+_0x22fab9(0x184))+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22item-title\x22>'+_0x8815eb[_0x22fab9(0x190)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22item-description\x22>'+_0x8815eb['description']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22theme-select-btn\x20purchase-btn\x22>Select\x20Theme</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x2ced55[_0x22fab9(0x16f)](_0x1c915b);}),setupThemeButtons();}function buildTokenItems(){const _0x2cbf7d=a46_0x524bdb,_0x14064c=document['querySelector'](_0x2cbf7d(0x1b7));if(!_0x14064c){console['error'](_0x2cbf7d(0x193));return;}_0x14064c[_0x2cbf7d(0x187)]='',Object['entries'](TOKENS)['forEach'](([_0x42d235,_0x2266ce])=>{const _0x40597d=_0x2cbf7d,_0x1f3611=document[_0x40597d(0x19e)]('div');_0x1f3611['className']=_0x40597d(0x196),_0x1f3611['dataset'][_0x40597d(0x143)]=_0x42d235,_0x1f3611[_0x40597d(0x18d)]['itemId']='token_'+_0x42d235,_0x1f3611['dataset']['price']=_0x2266ce['price'];const _0xa98367=userData[_0x40597d(0x15a)]&&userOwnsToken(_0x42d235)?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22token-sell-btn\x20admin-btn\x22\x20style=\x22margin-top:\x200.5rem;\x20background:\x20#f44336;\x20font-size:\x200.8rem;\x20padding:\x200.3rem;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Sell\x20('+Math[_0x40597d(0x1a2)](_0x2266ce[_0x40597d(0x188)]*0.5)+'\x20pts)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20':'';_0x1f3611['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-icon\x20token-icon\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22'+_0x2266ce['image']+'\x22\x20alt=\x22'+_0x2266ce[_0x40597d(0x190)]+'\x22\x20class=\x22token-preview\x22\x20onerror=\x22this.style.display=\x27none\x27;\x20this.nextElementSibling.style.display=\x27flex\x27;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22token-fallback\x22\x20style=\x22display:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-coins\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-price\x22>'+_0x2266ce['price']+'\x20Points</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22token-select-btn\x20purchase-btn\x22>Purchase</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22token-equip-btn\x20equip-btn\x22\x20style=\x22margin-top:\x200.5rem;\x20display:\x20none;\x22>Equip</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xa98367+_0x40597d(0x1de),_0x14064c[_0x40597d(0x16f)](_0x1f3611);}),setupTokenButtons();}function setupThemeButtons(){const _0x423ea7=a46_0x524bdb,_0xedb72=document['querySelectorAll']('.theme-select-btn');_0xedb72[_0x423ea7(0x153)](_0x5c1cb9=>{const _0x313e69=_0x423ea7;_0x5c1cb9['addEventListener'](_0x313e69(0x175),async _0x30f457=>{const _0x42240a=_0x313e69;_0x30f457[_0x42240a(0x135)]();const _0xd703e5=auth['currentUser'];if(!_0xd703e5){showMessage(_0x42240a(0x151),_0x42240a(0x1af));return;}const _0x2c0bf2=_0x5c1cb9['closest']('[data-theme]'),_0x416bbc=_0x2c0bf2[_0x42240a(0x18d)][_0x42240a(0x1a3)],_0x27625e=THEMES[_0x416bbc];if(!_0x27625e){console[_0x42240a(0x1af)]('Theme\x20'+_0x416bbc+'\x20not\x20found');return;}console['log'](_0x42240a(0x1bd)+_0x27625e['name']+'\x20('+_0x416bbc+')');if(_0x5c1cb9[_0x42240a(0x14c)]){_0x27625e['price']>0x0&&showMessage('You\x20need\x20'+_0x27625e['price']+'\x20points\x20to\x20purchase\x20this\x20theme','error');return;}if(_0x5c1cb9['textContent']==='Current\x20Theme'){showMessage(_0x27625e[_0x42240a(0x190)]+'\x20is\x20already\x20your\x20current\x20theme',_0x42240a(0x17e));return;}if(_0x5c1cb9['textContent']===_0x42240a(0x195)){applyTheme(_0x416bbc),updateThemeButtons();return;}if(_0x5c1cb9['textContent']['includes']('Buy')){const _0x200bd1=window['confirm']('Purchase\x20'+_0x27625e[_0x42240a(0x190)]+'\x20theme\x20for\x20'+_0x27625e[_0x42240a(0x188)]+'\x20points?');if(!_0x200bd1)return;const _0x1c49fb=await purchaseTheme(_0x416bbc);_0x1c49fb&&(showMessage(_0x27625e[_0x42240a(0x190)]+'\x20theme\x20purchased!','success'),applyTheme(_0x416bbc),updateThemeButtons());return;}userOwnsTheme(_0x416bbc)?applyTheme(_0x416bbc):showMessage('You\x20must\x20purchase\x20this\x20theme\x20first',_0x42240a(0x1af));});}),updateThemeButtons();}function setupTokenButtons(){const _0x31d343=a46_0x524bdb,_0x3ea54c=document['querySelectorAll'](_0x31d343(0x197)),_0x1912c3=document['querySelectorAll'](_0x31d343(0x1a6)),_0x2fd7d1=document['querySelectorAll'](_0x31d343(0x1d3));_0x3ea54c['forEach'](_0x257eb9=>{const _0x55b76d=_0x31d343;_0x257eb9['addEventListener'](_0x55b76d(0x175),async _0x327296=>{const _0x33f33b=_0x55b76d;_0x327296[_0x33f33b(0x135)]();const _0x3fdf65=auth['currentUser'];if(!_0x3fdf65){showMessage(_0x33f33b(0x1d6),'error');return;}const _0x5f1e94=_0x257eb9['closest']('[data-token]'),_0x296bee=_0x5f1e94['dataset'][_0x33f33b(0x143)],_0x295e15=TOKENS[_0x296bee];if(!_0x295e15){console['error'](_0x33f33b(0x17c)+_0x296bee+'\x20not\x20found');return;}console['log'](_0x33f33b(0x14a)+_0x295e15['name']+'\x20('+_0x296bee+')');if(_0x257eb9[_0x33f33b(0x14c)]){showMessage(_0x33f33b(0x1c4)+_0x295e15['price']+'\x20points\x20to\x20purchase\x20this\x20token','error');return;}if(_0x257eb9['textContent']==='Owned'){showMessage('You\x20already\x20own\x20the\x20'+_0x295e15['name']+'\x20token',_0x33f33b(0x17e));return;}if(_0x257eb9['textContent'][_0x33f33b(0x1b6)]('Purchase')||_0x257eb9[_0x33f33b(0x19c)]['includes']('Buy')){const _0x236d83=window[_0x33f33b(0x16a)](_0x33f33b(0x1c7)+_0x295e15['name']+'\x20token\x20for\x20'+_0x295e15[_0x33f33b(0x188)]+'\x20points?');if(!_0x236d83)return;const _0x135175=await purchaseToken(_0x296bee);_0x135175&&updateTokenButtons();return;}});}),_0x1912c3['forEach'](_0x17680e=>{_0x17680e['addEventListener']('click',async _0x4f3842=>{const _0x3a1f64=a46_0x516d;_0x4f3842[_0x3a1f64(0x135)]();const _0x1c6355=_0x17680e[_0x3a1f64(0x16c)](_0x3a1f64(0x17b)),_0x57bbc1=_0x1c6355['dataset'][_0x3a1f64(0x143)],_0x4f48cb=TOKENS[_0x57bbc1];if(_0x17680e[_0x3a1f64(0x19c)]==='Equipped'){const _0x4f0a0d=window['confirm'](_0x3a1f64(0x161)+_0x4f48cb[_0x3a1f64(0x190)]+'?');if(!_0x4f0a0d)return;const _0x51d334=await unequipToken();_0x51d334&&updateTokenButtons();}else{const _0x35b3a9=window['confirm']('Equip\x20'+_0x4f48cb['name']+_0x3a1f64(0x1c8));if(!_0x35b3a9)return;const _0x115032=await equipToken(_0x57bbc1);_0x115032&&updateTokenButtons();}});}),_0x2fd7d1['forEach'](_0x22e076=>{_0x22e076['addEventListener']('click',async _0x132813=>{const _0x4bb019=a46_0x516d;_0x132813[_0x4bb019(0x135)]();const _0x73c9ff=_0x22e076[_0x4bb019(0x16c)]('[data-token]'),_0x28bdb5=_0x73c9ff['dataset']['token'],_0x50ce4f=TOKENS[_0x28bdb5],_0x220a13=Math['floor'](_0x50ce4f['price']*0.5),_0x22db62=window[_0x4bb019(0x16a)]('Are\x20you\x20sure\x20you\x20want\x20to\x20sell\x20'+_0x50ce4f['name']+'\x20for\x20'+_0x220a13+'\x20points?\x20This\x20cannot\x20be\x20undone.');if(!_0x22db62)return;const _0x50cb88=await sellToken(_0x28bdb5);_0x50cb88&&updateTokenButtons();});}),updateTokenButtons();}function updateThemeButtons(){const _0x58f418=a46_0x524bdb,_0x571b78=window['ThemeSystem']?window['ThemeSystem']['getCurrentTheme']():'default',_0x3b7caf=auth['currentUser'];document[_0x58f418(0x145)](_0x58f418(0x17d))['forEach'](_0x1632de=>{const _0x6e77c9=_0x58f418,_0x24b839=_0x1632de[_0x6e77c9(0x16c)]('[data-theme]'),_0x597dff=_0x24b839['dataset'][_0x6e77c9(0x1a3)],_0x45b06a=THEMES[_0x597dff];if(!_0x45b06a)return;_0x1632de['disabled']=![],_0x1632de['style']['opacity']='',_0x1632de['style']['cursor']='pointer',_0x1632de['classList'][_0x6e77c9(0x14d)]('current-theme',_0x6e77c9(0x1c9),_0x6e77c9(0x142),'cannot-afford','sign-in-free','sign-in-paid');if(!_0x3b7caf){_0x45b06a['price']===0x0?(_0x1632de['textContent']='Sign\x20in\x20to\x20Apply',_0x1632de[_0x6e77c9(0x18f)]['add']('sign-in-free')):(_0x1632de['textContent']='Sign\x20in\x20to\x20Purchase',_0x1632de['disabled']=!![],_0x1632de[_0x6e77c9(0x144)]['opacity']='0.7',_0x1632de['classList'][_0x6e77c9(0x19b)]('sign-in-paid'));return;}if(_0x597dff===_0x571b78){_0x1632de['textContent']=_0x6e77c9(0x1bc),_0x1632de['classList']['add']('current-theme'),_0x1632de['disabled']=!![],_0x1632de[_0x6e77c9(0x144)]['cursor']=_0x6e77c9(0x160);return;}if(userOwnsTheme(_0x597dff)){_0x1632de[_0x6e77c9(0x19c)]='Apply\x20Theme',_0x1632de['classList']['add']('apply-theme');return;}if(userData[_0x6e77c9(0x13b)]>=_0x45b06a['price']){_0x1632de['textContent']=_0x6e77c9(0x15b)+_0x45b06a[_0x6e77c9(0x188)]+'\x20Points',_0x1632de[_0x6e77c9(0x18f)]['add']('can-afford');return;}_0x1632de[_0x6e77c9(0x19c)]=_0x6e77c9(0x1ba)+_0x45b06a['price']+'\x20Points',_0x1632de['classList']['add']('cannot-afford'),_0x1632de['style']['opacity']='0.5',_0x1632de['disabled']=!![],_0x1632de['style'][_0x6e77c9(0x1b0)]='not-allowed';});}function updateTokenButtons(){const _0x204817=a46_0x524bdb,_0x394e2e=auth[_0x204817(0x1a0)];document[_0x204817(0x145)]('.token-select-btn')['forEach'](_0x50f5c2=>{const _0x3516a2=_0x204817,_0x5c7852=_0x50f5c2['closest']('[data-token]'),_0x410a55=_0x5c7852['dataset']['token'],_0x383e13=TOKENS[_0x410a55],_0x18b3d3=_0x5c7852['querySelector'](_0x3516a2(0x1a6)),_0x16e58e=_0x5c7852['querySelector']('.token-sell-btn');if(!_0x383e13)return;_0x50f5c2['disabled']=![],_0x50f5c2[_0x3516a2(0x144)]['opacity']='',_0x50f5c2['style'][_0x3516a2(0x1b0)]='pointer';_0x18b3d3&&(_0x18b3d3['style']['display']='none',_0x18b3d3['disabled']=![],_0x18b3d3['style'][_0x3516a2(0x141)]='',_0x18b3d3['classList']['remove']('equipped',_0x3516a2(0x148)));_0x16e58e&&(_0x16e58e['style'][_0x3516a2(0x14e)]='none');_0x50f5c2[_0x3516a2(0x18f)]['remove'](_0x3516a2(0x174),_0x3516a2(0x142),_0x3516a2(0x192),_0x3516a2(0x179));if(!_0x394e2e){_0x50f5c2['textContent']='Sign\x20in\x20to\x20Purchase',_0x50f5c2['disabled']=!![],_0x50f5c2[_0x3516a2(0x144)]['opacity']=_0x3516a2(0x157),_0x50f5c2['classList'][_0x3516a2(0x19b)](_0x3516a2(0x179));return;}if(userOwnsToken(_0x410a55)){_0x50f5c2[_0x3516a2(0x19c)]=_0x3516a2(0x15d),_0x50f5c2['classList']['add']('owned'),_0x50f5c2[_0x3516a2(0x14c)]=!![],_0x50f5c2[_0x3516a2(0x144)][_0x3516a2(0x1b0)]=_0x3516a2(0x160),_0x50f5c2[_0x3516a2(0x144)]['background']='var(--success-color,\x20#4CAF50)';_0x18b3d3&&(_0x18b3d3['style']['display']=_0x3516a2(0x194),userHasTokenEquipped(_0x410a55)?(_0x18b3d3['textContent']=_0x3516a2(0x152),_0x18b3d3[_0x3516a2(0x18f)]['add']('equipped'),_0x18b3d3['style'][_0x3516a2(0x180)]='var(--accent-color,\x20#2196F3)',_0x18b3d3['style']['cursor']=_0x3516a2(0x1da)):(_0x18b3d3['textContent']='Equip',_0x18b3d3['classList']['add']('can-equip'),_0x18b3d3['style']['background']='var(--info-color,\x20#17a2b8)',_0x18b3d3['style']['cursor']='pointer'));_0x16e58e&&userData[_0x3516a2(0x15a)]&&(_0x16e58e[_0x3516a2(0x144)][_0x3516a2(0x14e)]=_0x3516a2(0x194));return;}if(userData['points']>=_0x383e13[_0x3516a2(0x188)]){_0x50f5c2['textContent']='Buy\x20for\x20'+_0x383e13['price']+'\x20Points',_0x50f5c2[_0x3516a2(0x18f)][_0x3516a2(0x19b)]('can-afford'),_0x50f5c2[_0x3516a2(0x144)]['background']='';return;}_0x50f5c2['textContent']=_0x3516a2(0x1ba)+_0x383e13['price']+'\x20Points',_0x50f5c2['classList']['add'](_0x3516a2(0x192)),_0x50f5c2['style'][_0x3516a2(0x141)]='0.5',_0x50f5c2['disabled']=!![],_0x50f5c2['style']['cursor']='not-allowed',_0x50f5c2['style']['background']='var(--muted-color,\x20#757575)';});}function showMessage(_0x236485,_0x1d19a3='info'){const _0x5828fa=a46_0x524bdb,_0x3de6f7=document['getElementById']('store-message');_0x3de6f7&&_0x3de6f7['remove']();const _0x11f203=document[_0x5828fa(0x19e)](_0x5828fa(0x1a8));_0x11f203['id']=_0x5828fa(0x1c0),_0x11f203['className']='store-message\x20store-message-'+_0x1d19a3,_0x11f203['textContent']=_0x236485,document['body'][_0x5828fa(0x16f)](_0x11f203),requestAnimationFrame(()=>{const _0x39e059=_0x5828fa;_0x11f203['classList'][_0x39e059(0x19b)](_0x39e059(0x13a));}),setTimeout(()=>{_0x11f203['classList']['remove']('visible'),setTimeout(()=>{const _0xf15426=a46_0x516d;_0x11f203['parentNode']&&_0x11f203[_0xf15426(0x14d)]();},0x12c);},0xfa0);}window[a46_0x524bdb(0x16e)]={'refreshUI':()=>{updateThemeButtons(),updateTokenButtons();},'checkOwnership':userOwnsTheme,'checkTokenOwnership':userOwnsToken,'applyTheme':applyTheme,'purchaseTheme':purchaseTheme,'purchaseToken':purchaseToken},console[a46_0x524bdb(0x1ae)]('üè™\x20Redeem\x20store\x20loaded');function a46_0x33f6(){const _0x301718=['Advanced\x20energy\x20storage\x20system','preventDefault','Token\x20collection\x20update\x20had\x20an\x20issue,\x20but\x20equip\x20was\x20successful:','inventory','Purple','\x20not\x20found','visible','points','permission-denied','Cloaking\x20Device','adminStatusChanged','powerup','Purchase\x20failed.\x20Please\x20try\x20again.','opacity','can-afford','token','style','querySelectorAll','message','Failed\x20to\x20unequip\x20token:\x20','can-equip','map','Token\x20clicked:\x20','displayLadder','disabled','remove','display','userProfiles','isUserAdmin','Please\x20sign\x20in\x20to\x20select\x20themes','Equipped','forEach','data','../images/tokens/Laser.gif','For\x20the\x20late-nights.','0.7','Enhanced\x20energy\x20generation\x20unit','refreshUI','isAdmin','Buy\x20for\x20','../images/tokens/Lock.gif','Owned','Blob\x20Token\x203','displayName','default','Unequip\x20','../images/tokens/Hostage.gif','split','userTokens','Successfully\x20purchased\x20','success','Emerald\x20City!','Blob\x20Token\x202','sale','confirm','Token\x20equip\x20failed:','closest','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-palette\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-price\x22>','RedeemStore','appendChild','.themes-grid','Lock\x20in\x20your\x20victory.','Proximity\x20Bomb','Error\x20loading\x20user\x20data:','owned','click','\x20theme\x20applied!','../images/tokens/cloak.gif','Marker','sign-in','username','[data-token]','Token\x20','.theme-select-btn','info','Please\x20sign\x20in\x20to\x20sell\x20tokens','background','Can\x27t\x20get\x20enough','weapon','Phoenix\x20Cannon','\x20Points','‚úÖ\x20Equipped\x20token:\x20','Smart\x20Mine','innerHTML','price','toLocaleString','addEventListener','Devastating\x20fusion\x20weapon\x20technology','email','dataset','warning','classList','name','Token\x20unequip\x20failed:','cannot-afford','Tokens\x20container\x20not\x20found','block','Apply\x20Theme','store-item\x20token-item','.token-select-btn','Hostage','Fast\x20and\x20furious\x20missile\x20token.','Unexpected\x20token\x20error:','add','textContent','function','createElement','blob','currentUser','none','floor','theme','A\x20mysterious\x20plasma\x20blob.','Yellow\x20Orange','.token-equip-btn','dispatchEvent','div','equipment','You\x20already\x20own\x20the\x20','store-content','special','üîÑ\x20Refreshing\x20ladder\x20to\x20show\x20equipped\x20token','log','error','cursor','../images/tokens/Smartmine.gif','push','equippedToken','Service\x20temporarily\x20unavailable.\x20Please\x20try\x20again.','exists','includes','.tokens-grid','../images/tokens/subgame/pwr01.gif','bind','Need\x20','Please\x20sign\x20in\x20to\x20unequip\x20tokens','Current\x20Theme','Theme\x20clicked:\x20','Permission\x20denied.\x20Please\x20try\x20again\x20or\x20contact\x20support.','tokens','store-message','!\x20Use\x20the\x20\x22Equip\x22\x20button\x20to\x20show\x20it\x20on\x20the\x20ladder.','Token\x20sale\x20failed:','\x20theme','You\x20need\x20','Reactor','../images/tokens/Plasmablobl.gif','Purchase\x20','?\x20This\x20will\x20unequip\x20your\x20current\x20token.','apply-theme','unavailable','\x20items,\x20Equipped:\x20','\x20more\x20points.','tokenId','‚úÖ\x20User\x20authenticated:','\x20equipped!\x20Ladder\x20will\x20refresh\x20shortly.','Red','Fusion\x20Cannon','User\x20data\x20loaded\x20-\x20Points:\x20','.token-sell-btn','return\x20(function()\x20','theme_','Please\x20sign\x20in\x20to\x20purchase\x20tokens','‚úÖ\x20Sold\x20token\x20','Extra\x20Life','../images/tokens/Plasma.gif','pointer','Token\x20purchase\x20failed:','apply','uid','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','getElementById'];a46_0x33f6=function(){return _0x301718;};return a46_0x33f6();}