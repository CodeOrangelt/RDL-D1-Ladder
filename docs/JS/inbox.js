const a0_0x4987e0=a0_0x3c30;(function(_0x2ada54,_0x57d336){const _0x43701e=a0_0x3c30,_0xab2d69=_0x2ada54();while(!![]){try{const _0x44c619=parseInt(_0x43701e(0x124))/0x1+parseInt(_0x43701e(0xfd))/0x2+parseInt(_0x43701e(0xfb))/0x3*(-parseInt(_0x43701e(0xff))/0x4)+-parseInt(_0x43701e(0xf0))/0x5*(-parseInt(_0x43701e(0xf3))/0x6)+-parseInt(_0x43701e(0x10d))/0x7*(-parseInt(_0x43701e(0xe7))/0x8)+-parseInt(_0x43701e(0x104))/0x9*(parseInt(_0x43701e(0xe6))/0xa)+-parseInt(_0x43701e(0xee))/0xb;if(_0x44c619===_0x57d336)break;else _0xab2d69['push'](_0xab2d69['shift']());}catch(_0x421336){_0xab2d69['push'](_0xab2d69['shift']());}}}(a0_0x27e8,0x5cc8e));const a0_0x31f896=(function(){let _0x584565=!![];return function(_0x36f041,_0x44049d){const _0x57d708=_0x584565?function(){if(_0x44049d){const _0x4eb8d7=_0x44049d['apply'](_0x36f041,arguments);return _0x44049d=null,_0x4eb8d7;}}:function(){};return _0x584565=![],_0x57d708;};}()),a0_0x408c28=a0_0x31f896(this,function(){const _0x2cb767=a0_0x3c30;let _0x26bac9;try{const _0x3b4a94=Function(_0x2cb767(0xfe)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x26bac9=_0x3b4a94();}catch(_0x4abd30){_0x26bac9=window;}const _0x44da93=_0x26bac9['console']=_0x26bac9['console']||{},_0x47aa60=['log','warn','info','error','exception','table','trace'];for(let _0x1024e5=0x0;_0x1024e5<_0x47aa60['length'];_0x1024e5++){const _0x50e6f6=a0_0x31f896[_0x2cb767(0x123)][_0x2cb767(0x113)]['bind'](a0_0x31f896),_0x2b3e98=_0x47aa60[_0x1024e5],_0x4f8b5b=_0x44da93[_0x2b3e98]||_0x50e6f6;_0x50e6f6['__proto__']=a0_0x31f896[_0x2cb767(0x115)](a0_0x31f896),_0x50e6f6['toString']=_0x4f8b5b['toString']['bind'](_0x4f8b5b),_0x44da93[_0x2b3e98]=_0x50e6f6;}});function a0_0x3c30(_0x113bff,_0x501dca){const _0x1a60e6=a0_0x27e8();return a0_0x3c30=function(_0x408c28,_0x31f896){_0x408c28=_0x408c28-0xe1;let _0x4735e1=_0x1a60e6[_0x408c28];return _0x4735e1;},a0_0x3c30(_0x113bff,_0x501dca);}a0_0x408c28();import{auth,db}from'./firebase-config.js';import{collection,query,where,orderBy,getDocs,doc,updateDoc,onSnapshot,limit,startAfter}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';class InboxManager{constructor(){const _0x5be382=a0_0x3c30;this['currentFilter']=_0x5be382(0x102),this[_0x5be382(0xe1)]=[],this['sentInvitations']=[],this['unsubscribe']=null,this['sentUnsubscribe']=null,this['pageSize']=0x14,this[_0x5be382(0x10c)]=null,this['hasMore']=!![],this['init']();}async['init'](){const _0x31c2a7=a0_0x3c30;auth[_0x31c2a7(0x105)](_0x2f3786=>{const _0x196a79=_0x31c2a7;_0x2f3786?(this['loadInvitations'](_0x2f3786[_0x196a79(0x100)]),this['setupEventListeners']()):window['location'][_0x196a79(0x11b)]='./login.html';});}['setupEventListeners'](){const _0x2cdfe8=a0_0x3c30;document['querySelectorAll'](_0x2cdfe8(0x128))[_0x2cdfe8(0xf7)](_0x433e29=>{_0x433e29['addEventListener']('click',()=>{const _0x45043f=a0_0x3c30;document['querySelectorAll']('.filter-btn')['forEach'](_0x3e8135=>_0x3e8135['classList']['remove'](_0x45043f(0x11e))),_0x433e29['classList'][_0x45043f(0x116)]('active'),this[_0x45043f(0x111)]=_0x433e29['dataset']['filter'],this['renderInvitations']();});});}['loadInvitations'](_0x3968a4){const _0x59cd71=a0_0x3c30,_0x3a13cd=collection(db,'gameInvitations');let _0x300b9f=query(_0x3a13cd,where('toUserId','==',_0x3968a4),orderBy('createdAt','desc'),limit(this[_0x59cd71(0xf1)]));this['unsubscribe']=onSnapshot(_0x300b9f,_0x140ef4=>{const _0x4b6e40=_0x59cd71;this['invitations']=_0x140ef4['docs']['map'](_0x284e5c=>({'id':_0x284e5c['id'],..._0x284e5c['data']()})),this['renderInvitations'](),this[_0x4b6e40(0xef)]();});let _0xb84fac=query(_0x3a13cd,where('fromUserId','==',_0x3968a4),orderBy('createdAt','desc'),limit(this['pageSize']));this[_0x59cd71(0x101)]=onSnapshot(_0xb84fac,_0x16e553=>{const _0x30f60b=_0x59cd71;this[_0x30f60b(0xf2)]=_0x16e553[_0x30f60b(0xe4)]['map'](_0x477e49=>({'id':_0x477e49['id'],..._0x477e49['data'](),'isSent':!![]})),this['renderInvitations']();});}[a0_0x4987e0(0xe5)](){const _0x4e207b=a0_0x4987e0,_0x50c1c3=document['getElementById']('inbox-content');if(!_0x50c1c3)return;let _0x3dae0f=[];if(this['currentFilter']==='outbox')_0x3dae0f=this[_0x4e207b(0xf2)];else this['currentFilter']==='all'?_0x3dae0f=[...this[_0x4e207b(0xe1)],...this['sentInvitations']][_0x4e207b(0x126)]((_0x1c4527,_0x5c5418)=>{const _0x533249=_0x4e207b,_0x268ad0=_0x1c4527[_0x533249(0x129)]?.[_0x533249(0x119)]?_0x1c4527[_0x533249(0x129)]['toDate']():new Date(_0x1c4527['createdAt']),_0x13628f=_0x5c5418['createdAt']?.['toDate']?_0x5c5418['createdAt']['toDate']():new Date(_0x5c5418[_0x533249(0x129)]);return _0x13628f-_0x268ad0;}):_0x3dae0f=this[_0x4e207b(0xe1)]['filter'](_0x45d37c=>_0x45d37c['status']===this['currentFilter']);if(_0x3dae0f['length']===0x0){const _0x13c6ac=this['currentFilter']==='outbox'?'sent':this[_0x4e207b(0x111)]==='all'?'':this[_0x4e207b(0x111)];_0x50c1c3[_0x4e207b(0x10e)]=_0x4e207b(0xf4)+_0x13c6ac+'\x20invitations</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(this['currentFilter']==='outbox'?_0x4e207b(0xe2):'When\x20other\x20players\x20invite\x20you\x20to\x20games,\x20they\x27ll\x20appear\x20here.')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';return;}_0x50c1c3['innerHTML']=_0x3dae0f['map'](_0x265675=>this['createInvitationCard'](_0x265675))['join'](''),this[_0x4e207b(0x11d)]();}['createInvitationCard'](_0x316430){const _0x1a947f=a0_0x4987e0,_0x4391c3=_0x316430['createdAt']?.['toDate']?_0x316430['createdAt'][_0x1a947f(0x119)]():new Date(_0x316430['createdAt']),_0xa31e55=this['getTimeAgo'](_0x4391c3),_0x2f38bd=_0x316430['isSent']||![];let _0x46814f='';return _0x316430['type']==='team_invite'?_0x46814f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+_0x316430['message']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22team-invite-preview\x22\x20style=\x22background:\x20#1a1a1a;\x20padding:\x201rem;\x20border-radius:\x204px;\x20margin:\x200.5rem\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20style=\x22color:\x20'+_0x316430['teamData']['teamColor']+_0x1a947f(0xe9)+_0x316430['teamData']['proposedTeamName']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22color:\x20#888;\x20font-size:\x200.9em;\x20margin:\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Duos\x20Ladder\x20Team\x20â€¢\x20Color:\x20'+_0x316430['teamData']['teamColor']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x46814f=_0x1a947f(0xec)+_0x316430['message']+_0x1a947f(0x118),_0x1a947f(0xe8)+_0x316430['status']+'\x20'+(_0x2f38bd?'sent-invitation':'')+'\x22\x20data-invitation-id=\x22'+_0x316430['id']+_0x1a947f(0x10a)+(_0x2f38bd?'To:\x20'+_0x316430[_0x1a947f(0x11f)]:_0x316430['fromUsername'])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2f38bd?_0x1a947f(0x122):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-time\x22>'+_0xa31e55+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22status-badge\x20status-'+_0x316430[_0x1a947f(0x120)]+'\x22>'+_0x316430['status']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x46814f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x2f38bd&&_0x316430[_0x1a947f(0x120)]==='pending'?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20accept-btn\x22\x20data-action=\x22accept\x22\x20data-invitation-id=\x22'+_0x316430['id']+_0x1a947f(0x112)+_0x316430['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20Decline\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x316430['type']!=='team_invite'?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20respond-btn\x22\x20data-action=\x22respond\x22\x20data-invitation-id=\x22'+_0x316430['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-reply\x22></i>\x20Send\x20Message\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2f38bd&&_0x316430['status']==='pending'?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20cancel-btn\x22\x20data-action=\x22cancel\x22\x20data-invitation-id=\x22'+_0x316430['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20Cancel\x20Invitation\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}['setupActionListeners'](){document['querySelectorAll']('.action-btn')['forEach'](_0x386fce=>{_0x386fce['addEventListener']('click',async _0x22493f=>{const _0x25999f=a0_0x3c30,_0x5b0457=_0x386fce['dataset'][_0x25999f(0x11c)],_0x2fd7e8=_0x386fce[_0x25999f(0xe3)]['invitationId'];_0x386fce[_0x25999f(0xf6)]=!![];const _0x59cb94=_0x386fce['innerHTML'];_0x386fce[_0x25999f(0x10e)]=_0x25999f(0x107);try{switch(_0x5b0457){case'accept':await this['updateInvitationStatus'](_0x2fd7e8,'accepted');break;case'decline':await this['updateInvitationStatus'](_0x2fd7e8,_0x25999f(0x127));break;case'cancel':await this['updateInvitationStatus'](_0x2fd7e8,'cancelled');break;case'respond':this['openResponseModal'](_0x2fd7e8);break;}}catch(_0x3b8faa){console['error'](_0x25999f(0x103)+_0x5b0457+':',_0x3b8faa),alert(_0x25999f(0x12a)+_0x5b0457+'\x20invitation.\x20Please\x20try\x20again.');}finally{_0x386fce['disabled']=![],_0x386fce['innerHTML']=_0x59cb94;}});});}async['updateInvitationStatus'](_0x3d98ad,_0x4666aa){const _0x98b4f3=a0_0x4987e0;try{const _0x5c7ae3=this['invitations']['find'](_0x4475a1=>_0x4475a1['id']===_0x3d98ad);_0x5c7ae3&&_0x5c7ae3['type']==='team_invite'&&_0x4666aa==='accepted'&&await this['createTeamFromInvitation'](_0x5c7ae3);const _0x245c4b=doc(db,'gameInvitations',_0x3d98ad);await updateDoc(_0x245c4b,{'status':_0x4666aa,'respondedAt':new Date()}),_0x5c7ae3&&(_0x5c7ae3['status']=_0x4666aa,_0x5c7ae3[_0x98b4f3(0x106)]=new Date(),this['renderInvitations']());}catch(_0x5c3a91){console['error']('Error\x20updating\x20invitation\x20status:',_0x5c3a91);throw _0x5c3a91;}}['openResponseModal'](_0x15fe7a){const _0xd83298=a0_0x4987e0,_0xa46d96=this['invitations']['find'](_0x383065=>_0x383065['id']===_0x15fe7a);if(!_0xa46d96)return;const _0x24181c=document[_0xd83298(0x108)]('div');_0x24181c['className']='modal-overlay',_0x24181c['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Send\x20Message\x20to\x20'+_0xa46d96['fromUsername']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22modal-close\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-body\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Regarding\x20invitation\x20to:\x20<strong>'+_0xa46d96['value']+'</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22response-message\x22\x20placeholder=\x22Type\x20your\x20message\x20here...\x22\x20rows=\x224\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20respond-btn\x22\x20id=\x22send-response\x22>Send\x20Message</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x22\x20id=\x22cancel-response\x22>Cancel</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';if(!document['getElementById']('modal-styles')){const _0xdb4d86=document[_0xd83298(0x108)]('style');_0xdb4d86['id']='modal-styles',_0xdb4d86['textContent']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-overlay\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20right:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.8);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-content\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#2a2a2a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2090%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20500px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-height:\x2090vh;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20overflow-y:\x20auto;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-header\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20space-between;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-close\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x201.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-body\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-body\x20textarea\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#1a1a1a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resize:\x20vertical;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-footer\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-top:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document['head']['appendChild'](_0xdb4d86);}document[_0xd83298(0x10f)]['appendChild'](_0x24181c),_0x24181c['querySelector']('.modal-close')['addEventListener']('click',()=>_0x24181c[_0xd83298(0xeb)]()),_0x24181c['querySelector']('#cancel-response')['addEventListener']('click',()=>_0x24181c['remove']()),_0x24181c['addEventListener']('click',_0x11e2ce=>{const _0x2683e5=_0xd83298;if(_0x11e2ce[_0x2683e5(0xed)]===_0x24181c)_0x24181c['remove']();}),_0x24181c[_0xd83298(0xf5)]('#send-response')[_0xd83298(0xf8)](_0xd83298(0xf9),()=>{const _0x29a194=_0xd83298,_0x19b865=document['getElementById'](_0x29a194(0x11a))['value']['trim']();_0x19b865&&(alert(_0x29a194(0x109)),_0x24181c['remove']());});}async['createTeamFromInvitation'](_0x3904ac){const _0x34d594=a0_0x4987e0;try{const {createTeam:_0x5e8f87}=await import('./ladderduos.js'),_0x44b163=await _0x5e8f87(_0x3904ac['fromUsername'],_0x3904ac[_0x34d594(0x11f)],_0x3904ac['teamData']['proposedTeamName'],_0x3904ac['teamData']['teamColor']);if(!_0x44b163[_0x34d594(0x125)])throw new Error(_0x44b163[_0x34d594(0xfc)]);alert('Team\x20\x22'+_0x3904ac['teamData']['proposedTeamName']+_0x34d594(0x121));}catch(_0x194356){console['error'](_0x34d594(0x10b),_0x194356);throw new Error('Failed\x20to\x20create\x20team:\x20'+_0x194356['message']);}}['updateNotificationCount'](){const _0x24771f=a0_0x4987e0,_0x24954a=this['invitations']['filter'](_0x568e42=>_0x568e42['status']==='pending')['length'],_0x10c9da=document['getElementById']('inbox-notification');_0x10c9da&&(_0x24954a>0x0?(_0x10c9da[_0x24771f(0xfa)]['display']='inline-block',_0x10c9da['textContent']=_0x24954a>0x9?'9+':_0x24954a):_0x10c9da['style']['display']=_0x24771f(0x110));}[a0_0x4987e0(0x117)](_0x339f1f){const _0x4c6975=a0_0x4987e0,_0x3e2c3e=new Date(),_0x18acee=_0x3e2c3e-_0x339f1f,_0x44cbe4=Math['floor'](_0x18acee/(0x3e8*0x3c)),_0x19c036=Math[_0x4c6975(0x114)](_0x18acee/(0x3e8*0x3c*0x3c)),_0x1346df=Math['floor'](_0x18acee/(0x3e8*0x3c*0x3c*0x18));if(_0x44cbe4<0x1)return'Just\x20now';if(_0x44cbe4<0x3c)return _0x44cbe4+'m\x20ago';if(_0x19c036<0x18)return _0x19c036+'h\x20ago';if(_0x1346df<0x7)return _0x1346df+'d\x20ago';return _0x339f1f['toLocaleDateString']();}['destroy'](){const _0x3c83ed=a0_0x4987e0;this['unsubscribe']&&this[_0x3c83ed(0xea)](),this['sentUnsubscribe']&&this[_0x3c83ed(0x101)]();}}document['addEventListener']('DOMContentLoaded',()=>{new InboxManager();});function a0_0x27e8(){const _0x1f16dd=['\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','target','3868293dtdanU','updateNotificationCount','1474995YodRtr','pageSize','sentInvitations','12POaOBc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22empty-inbox\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-inbox\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>No\x20','querySelector','disabled','forEach','addEventListener','click','style','3zWoHFH','error','868200fQHlSJ','return\x20(function()\x20','110628BeMGQi','uid','sentUnsubscribe','pending','Error\x20performing\x20','63pQKSJe','onAuthStateChanged','respondedAt','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','createElement','Message\x20sent!\x20(Feature\x20will\x20be\x20fully\x20implemented\x20in\x20future\x20update)','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-from\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20creating\x20team:','lastDoc','14yRRuxo','innerHTML','body','none','currentFilter','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20Accept\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20decline-btn\x22\x20data-action=\x22decline\x22\x20data-invitation-id=\x22','prototype','floor','bind','add','getTimeAgo','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toDate','response-message','href','action','setupActionListeners','active','toUsername','status','\x22\x20created\x20successfully!','<span\x20class=\x22sent-indicator\x22><i\x20class=\x22fas\x20fa-paper-plane\x22></i>\x20Sent</span>','constructor','274375WkcZGm','success','sort','declined','.filter-btn','createdAt','Failed\x20to\x20','invitations','Invitations\x20you\x20send\x20to\x20other\x20players\x20will\x20appear\x20here.','dataset','docs','renderInvitations','799990ddEWAP','83544JYgonP','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-card\x20',';\x20margin:\x200\x200\x200.5rem\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','unsubscribe','remove'];a0_0x27e8=function(){return _0x1f16dd;};return a0_0x27e8();}