const a53_0x43ce3c=a53_0x3fde,a53_0x30fa96=(function(){let _0x428c30=!![];return function(_0x5dca77,_0x1723ca){const _0x3939c3=_0x428c30?function(){const _0x240250=a53_0x3fde;if(_0x1723ca){const _0x13af2f=_0x1723ca[_0x240250(0x1a8)](_0x5dca77,arguments);return _0x1723ca=null,_0x13af2f;}}:function(){};return _0x428c30=![],_0x3939c3;};}()),a53_0x1985b6=a53_0x30fa96(this,function(){const _0x189a40=a53_0x3fde;let _0x4c506e;try{const _0x1e51e0=Function('return\x20(function()\x20'+_0x189a40(0x17a)+');');_0x4c506e=_0x1e51e0();}catch(_0x170fb5){_0x4c506e=window;}const _0x1f99ca=_0x4c506e[_0x189a40(0x188)]=_0x4c506e['console']||{},_0x15b851=['log','warn','info','error',_0x189a40(0x198),'table','trace'];for(let _0x4084a7=0x0;_0x4084a7<_0x15b851[_0x189a40(0x173)];_0x4084a7++){const _0x2f7cd0=a53_0x30fa96['constructor']['prototype']['bind'](a53_0x30fa96),_0x3c3415=_0x15b851[_0x4084a7],_0x7d7ff9=_0x1f99ca[_0x3c3415]||_0x2f7cd0;_0x2f7cd0['__proto__']=a53_0x30fa96['bind'](a53_0x30fa96),_0x2f7cd0[_0x189a40(0x1a4)]=_0x7d7ff9[_0x189a40(0x1a4)][_0x189a40(0x1a3)](_0x7d7ff9),_0x1f99ca[_0x3c3415]=_0x2f7cd0;}});function a53_0x3fde(_0x185d51,_0x5f2fac){const _0x1985b6=a53_0x2721();return a53_0x3fde=function(_0x30fa96,_0x149e33){_0x30fa96=_0x30fa96-0x161;let _0x2721f7=_0x1985b6[_0x30fa96];return _0x2721f7;},a53_0x3fde(_0x185d51,_0x5f2fac);}a53_0x1985b6();import{initializeApp}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js';function a53_0x2721(){const _0x52ddde=['startTime','gameName','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22timestamp\x22>Updated:\x20','Mission:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22game-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22game-title\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22game-name\x22>','display','maxFetchAttempts','color:#7878B8','toLocaleTimeString','</span>','querySelector','closest','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22host\x22>Host:\x20','<div\x20class=\x22game-banner-content\x22><span\x20class=\x22game-banner-text\x22></span></div>','updateInterval','findScores','includes','initialize','length','parseFromString','block','fetchingDisabled','Players:','forEach','gameRotationInterval','{}.constructor(\x22return\x20this\x22)(\x20)','No\x20games\x20found','fetchAttempts','Start\x20time:','active','split','updateDisplay','set','Detailed\x20Score\x20Board','onclick','host','findPlayers','div','getElementById','console','Level\x20Number:','Error\x20fetching\x20game\x20data\x20(attempt\x20','filter','map','textContent','retro-tracker-container','1v1','Unknown','error','players','querySelectorAll','findDetailText','updateBanner','\x0a\x20\x20\x20\x20#retro-tracker-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20800px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x2020px\x20auto\x2040px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20Arial,\x20sans-serif;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.active-games-box\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(255,\x20255,\x20255,\x200.9);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x202px\x2010px\x20rgba(0,\x200,\x200,\x200.1);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.active-games-box\x20h2\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#881e8e;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.game-box\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(240,\x20240,\x20240,\x200.9);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x2010px\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(136,\x2030,\x20142,\x200.2);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.game-header\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20space-between;\x0a\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding-bottom:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20solid\x20rgba(136,\x2030,\x20142,\x200.1);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.game-title\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x201.2em;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#881e8e;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.game-version\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x200.8em;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#666;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x208px;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.game-info\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x2010px\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x200.9em;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#444;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.players-list\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20grid;\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x2015px\x200;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.player\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20space-between;\x0a\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x208px\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(255,\x20255,\x20255,\x200.7);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.2s;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.player:hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(255,\x20255,\x20255,\x200.9);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.player-info\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.player-character\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#666;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x200.9em;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.player-stats\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x2015px;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.player-score,\x20.player-wins\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#881e8e;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.game-footer\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding-top:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-top:\x201px\x20solid\x20rgba(136,\x2030,\x20142,\x200.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20space-between;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x200.8em;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#666;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.loading,\x20.no-games\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#666;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.error-message\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ff0000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(255,\x200,\x200,\x200.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x2010px\x200;\x0a\x20\x20\x20\x20}\x0a','games-list','exception','Error\x20storing\x20game\x20data:','createElement','innerHTML','appendChild','style','find','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','activeGames','Mode:','getVersionInfo','bind','toString','/whosplaying.html','clear','log','apply','createGameDisplay','match','slice','trim','https://retro-tracker.game-server.cc/','gameVersion','className','displayError','.scoreboard_game','join'];a53_0x2721=function(){return _0x52ddde;};return a53_0x2721();}import{getFirestore,collection,addDoc,onSnapshot}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{firebaseConfig}from'./firebase-config.js';const app=initializeApp(firebaseConfig),db=getFirestore(app);export class RetroTrackerMonitor{constructor(){const _0x592faf=a53_0x3fde;this['lastUpdate']=null,this['activeGames']=new Map(),this[_0x592faf(0x16f)]=0x493e0,this['isMainPage']=window['location']['pathname']['endsWith'](_0x592faf(0x1a5)),this['fetchAttempts']=0x0,this[_0x592faf(0x167)]=0x3,this['fetchingDisabled']=![];}async[a53_0x43ce3c(0x172)](){const _0x2dab02=a53_0x43ce3c;this['isMainPage']&&this[_0x2dab02(0x1a9)](),this['startMonitoring']();}['initializeBannerOnly'](){this['activeGames']=new Map(),this['updateInterval']=0x7530,this['startMonitoring']();}[a53_0x43ce3c(0x1a9)](){const _0x279261=a53_0x43ce3c;if(!this['isMainPage'])return;const _0x1cf2c8=document['createElement']('div');_0x1cf2c8['id']=_0x279261(0x18e),_0x1cf2c8[_0x279261(0x19b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22active-games-box\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>Active\x20RetroTracker\x20Games</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22games-list\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loading\x22>Fetching\x20active\x20games...</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22last-update\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';const _0x31e8c0=document['querySelector']('main');_0x31e8c0&&_0x31e8c0['appendChild'](_0x1cf2c8);const _0x53f20b=document[_0x279261(0x19a)]('div');_0x53f20b[_0x279261(0x1af)]='game-banner',_0x53f20b['innerHTML']=_0x279261(0x16e),document['body'][_0x279261(0x19c)](_0x53f20b);}async['fetchGameData'](){const _0x394d9a=a53_0x43ce3c;if(this['fetchingDisabled'])return console[_0x394d9a(0x1a7)]('Fetching\x20disabled\x20after\x20max\x20attempts\x20reached'),null;if(this[_0x394d9a(0x17c)]>=this['maxFetchAttempts'])return console['log']('Maximum\x20fetch\x20attempts\x20('+this['maxFetchAttempts']+')\x20reached.\x20Disabling\x20further\x20attempts.'),this['fetchingDisabled']=!![],this['displayError']('Unable\x20to\x20fetch\x20game\x20data\x20after\x20multiple\x20attempts.'),null;try{this['fetchAttempts']++,console['log']('Fetch\x20attempt\x20'+this['fetchAttempts']+'/'+this['maxFetchAttempts']);const _0x12def9='https://api.allorigins.win/get?url=',_0x5b9873=encodeURIComponent(_0x394d9a(0x1ad)),_0x1a7e7a=await fetch(''+_0x12def9+_0x5b9873);if(!_0x1a7e7a['ok'])throw new Error('Network\x20response\x20was\x20not\x20ok');const _0x37b2c5=new DOMParser()[_0x394d9a(0x174)]((await _0x1a7e7a['json']())['contents'],'text/html'),_0x35aa54=_0x37b2c5['querySelectorAll'](_0x394d9a(0x1b1));if(!_0x35aa54[_0x394d9a(0x173)])throw new Error(_0x394d9a(0x17b));this['fetchAttempts']=0x0;const _0x4cc5b9=Array['from'](_0x35aa54)[_0x394d9a(0x18c)](_0x305c39=>{const _0xbe5213=_0x394d9a,_0x2fd84c=_0x305c39['getAttribute'](_0xbe5213(0x183))?.[_0xbe5213(0x1aa)](/\d+/)?.[0x0];if(!_0x2fd84c)return null;const _0x45bf38=_0x37b2c5['querySelector']('#game'+_0x2fd84c);if(!_0x45bf38)return null;return{'gameVersion':this[_0xbe5213(0x1a2)](_0x45bf38),'host':_0x305c39['querySelector']('td')?.['textContent']?.['trim']()||_0xbe5213(0x190),'gameName':this['findDetailText'](_0x45bf38,'Game\x20Name:'),'map':this['findDetailText'](_0x45bf38,_0xbe5213(0x164)),'players':this[_0xbe5213(0x185)](_0x45bf38),'scores':this[_0xbe5213(0x170)](_0x45bf38),'startTime':this[_0xbe5213(0x194)](_0x45bf38,_0xbe5213(0x17d)),'status':this['findDetailText'](_0x45bf38,'Status:')?.['includes']('Playing')?_0xbe5213(0x17e):'inactive','playerCount':this['findDetailText'](_0x45bf38,_0xbe5213(0x177)),'gameMode':this['findDetailText'](_0x45bf38,'Mode:'),'timestamp':new Date()['toISOString']()};})['filter'](Boolean);return this['processGameData'](_0x4cc5b9);}catch(_0x1afe85){return console['error'](_0x394d9a(0x18a)+this[_0x394d9a(0x17c)]+'/'+this['maxFetchAttempts']+'):',_0x1afe85),this['fetchAttempts']>=this[_0x394d9a(0x167)]&&(this[_0x394d9a(0x176)]=!![],this['displayError']('Unable\x20to\x20fetch\x20game\x20data\x20after\x20multiple\x20attempts.')),null;}}['getVersionInfo'](_0x408c73){const _0x1627a1=a53_0x43ce3c,_0x3ea57c=_0x408c73[_0x1627a1(0x16b)]('td[bgcolor=\x22#D0D0D0\x22]');return _0x3ea57c?.['textContent']?.['split']('-')[0x0]?.['trim']()||'Unknown\x20Version';}['findPlayers'](_0x304b36){const _0x17a8b8=a53_0x43ce3c;if(!_0x304b36)return[];const _0x2c02ae=Array['from'](_0x304b36['querySelectorAll']('td[bgcolor=\x22#D0D0D0\x22]'))['find'](_0x344e71=>_0x344e71[_0x17a8b8(0x18d)]['includes']('Score\x20Board'));if(!_0x2c02ae)return[];const _0x554477=_0x2c02ae[_0x17a8b8(0x16c)]('tr')['nextElementSibling']?.[_0x17a8b8(0x16b)]('table');if(!_0x554477)return[];return Array['from'](_0x554477['querySelectorAll']('tr'))[_0x17a8b8(0x1ab)](0x1)[_0x17a8b8(0x18b)](_0x425299=>_0x425299['getAttribute']('style')?.[_0x17a8b8(0x171)](_0x17a8b8(0x168)))['map'](_0x4d9adb=>{const _0x53c03c=_0x17a8b8,_0x409588=_0x4d9adb[_0x53c03c(0x193)]('td');if(_0x409588['length']<0x6)return null;return{'name':_0x409588[0x0]?.[_0x53c03c(0x18d)]?.['trim']()||'','kills':parseInt(_0x409588[0x1]?.['textContent']?.[_0x53c03c(0x1ac)]()||'0',0xa),'deaths':parseInt(_0x409588[0x2]?.[_0x53c03c(0x18d)]?.[_0x53c03c(0x1ac)]()||'0',0xa),'suicides':parseInt(_0x409588[0x3]?.['textContent']?.['trim']()||'0',0xa),'kdr':parseFloat(_0x409588[0x4]?.[_0x53c03c(0x18d)]?.[_0x53c03c(0x1ac)]()||'0'),'timeInGame':_0x409588[0x5]?.['textContent']?.[_0x53c03c(0x1ac)]()||''};})['filter'](Boolean);}['findScores'](_0x54e8c8){const _0x246f44=a53_0x43ce3c,_0x2cd82a=Array['from'](_0x54e8c8[_0x246f44(0x193)]('table'))[_0x246f44(0x19e)](_0x5970b5=>_0x5970b5['previousElementSibling']?.['textContent']?.[_0x246f44(0x171)](_0x246f44(0x182)));if(!_0x2cd82a)return{};return Object['fromEntries'](Array['from'](_0x2cd82a['querySelectorAll']('tr'))['filter'](_0xf50d52=>_0xf50d52['getAttribute'](_0x246f44(0x19d))?.[_0x246f44(0x171)](_0x246f44(0x168)))['map'](_0x17ec8e=>{const _0x328b45=_0x246f44,_0x71ef3f=_0x17ec8e['querySelectorAll']('td');return[_0x71ef3f[0x0]?.[_0x328b45(0x18d)]?.['trim']()||'Unknown',_0x71ef3f[0x1]?.['textContent']?.['trim']()||'0'];}));}['processGameData'](_0x2d85af){const _0x40d968=a53_0x43ce3c;if(!_0x2d85af?.['length']){console['log']('No\x20games\x20data\x20received');return;}this['activeGames'][_0x40d968(0x1a6)]();const _0x5508dd=_0x2d85af[_0x40d968(0x18b)](_0x215642=>_0x215642['status']==='active'&&_0x215642[_0x40d968(0x192)]?.['length']>0x0);_0x5508dd['forEach'](_0xcaffc6=>{const _0x51bd2a=_0x40d968,_0x2ceb41=_0xcaffc6[_0x51bd2a(0x162)]+'-'+_0xcaffc6['startTime'];this['activeGames']['set'](_0x2ceb41,_0xcaffc6);}),this[_0x40d968(0x180)]();}['findDetailText'](_0x5ca4b4,_0x13cc93){const _0x2dc992=a53_0x43ce3c;if(!_0x5ca4b4)return'';const _0x444fb8=_0x5ca4b4['querySelectorAll']('td');for(const _0xf704b4 of _0x444fb8){if(_0xf704b4[_0x2dc992(0x18d)]['includes'](_0x13cc93)){const _0x36053b=_0xf704b4['textContent'][_0x2dc992(0x17f)](_0x13cc93);if(_0x36053b['length']>0x1){let _0x55f78f=_0x36053b[0x1]['trim']();switch(_0x13cc93){case'Game\x20Name:':return _0x55f78f['split'](_0x2dc992(0x164))[0x0][_0x2dc992(0x1ac)]();case'Mission:':return _0x55f78f['split'](_0x2dc992(0x189))[0x0]['trim']();case'Players:':return _0x55f78f['split']('Mode:')[0x0][_0x2dc992(0x1ac)]();case _0x2dc992(0x1a1):return _0x55f78f['split']('\x0a')[0x0]['trim']();default:return _0x55f78f;}}}}return'';}['storeGameData'](_0x40ce61){const _0x1bb1b1=a53_0x43ce3c;if(!_0x40ce61['host']||!_0x40ce61['players']){console[_0x1bb1b1(0x191)]('Invalid\x20game\x20data:',_0x40ce61);return;}this['activeGames'][_0x1bb1b1(0x181)](_0x40ce61[_0x1bb1b1(0x184)],_0x40ce61),addDoc(collection(db,'retroTracker'),_0x40ce61)['catch'](_0x55fe7e=>{const _0x342f00=_0x1bb1b1;console[_0x342f00(0x191)](_0x342f00(0x199),_0x55fe7e);}),this['updateDisplay']();}[a53_0x43ce3c(0x180)](){const _0x451361=a53_0x43ce3c;if(this['isMainPage']){const _0x530480=document[_0x451361(0x187)]('games-list');if(!_0x530480)return;if(this[_0x451361(0x1a0)]['size']===0x0){_0x530480['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22no-games\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>No\x20active\x20games\x20found</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';return;}_0x530480[_0x451361(0x19b)]='',this['activeGames'][_0x451361(0x178)]((_0xc54607,_0x358222)=>{const _0x3acf7c=_0x451361,_0x24cabb=document['createElement'](_0x3acf7c(0x186));_0x24cabb[_0x3acf7c(0x1af)]='game-box',_0x24cabb[_0x3acf7c(0x19b)]=_0x3acf7c(0x165)+_0xc54607['gameName']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0xc54607['gameVersion']?'<span\x20class=\x22game-version\x22>(v'+_0xc54607['gameVersion']+')</span>':'')+_0x3acf7c(0x16d)+_0xc54607['host']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22game-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22game-type\x22>'+_0xc54607['gameType']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22game-status\x22>'+_0xc54607['status']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22players-list\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xc54607['players']['map'](_0x3dcfb3=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22player\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-name\x22>'+_0x3dcfb3['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3dcfb3['character']?'<span\x20class=\x22player-character\x22>'+_0x3dcfb3['character']+'</span>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-stats\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3dcfb3['score']?'<span\x20class=\x22player-score\x22>Score:\x20'+_0x3dcfb3['score']+_0x3acf7c(0x16a):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3dcfb3['wins']?'<span\x20class=\x22player-wins\x22>Wins:\x20'+_0x3dcfb3['wins']+_0x3acf7c(0x16a):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3acf7c(0x1b2)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22game-footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22start-time\x22>Started:\x20'+new Date(_0xc54607[_0x3acf7c(0x161)])['toLocaleTimeString']()+_0x3acf7c(0x163)+new Date(_0xc54607['timestamp'])['toLocaleTimeString']()+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x530480[_0x3acf7c(0x19c)](_0x24cabb);}),document['querySelector']('.last-update')['textContent']='Last\x20updated:\x20'+new Date()[_0x451361(0x169)]();}this['updateBanner']();}['startMonitoring'](){!this['fetchingDisabled']&&(setInterval(()=>{!this['fetchingDisabled']&&this['fetchGameData']();},this['updateInterval']),this['fetchGameData']());}[a53_0x43ce3c(0x1b0)](_0x26f932){const _0x449a7b=a53_0x43ce3c,_0x1dc85e=document['getElementById'](_0x449a7b(0x197));_0x1dc85e&&(_0x1dc85e[_0x449a7b(0x19b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22error-message\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+_0x26f932+_0x449a7b(0x19f));}[a53_0x43ce3c(0x195)](){const _0x25dc6a=a53_0x43ce3c,_0x3c9e45=document['querySelector']('.game-banner'),_0x48abf5=document[_0x25dc6a(0x16b)]('.game-banner-text');if(!_0x3c9e45||!_0x48abf5)return;if(this['activeGames']['size']===0x0){_0x3c9e45['style']['display']='none';return;}_0x3c9e45[_0x25dc6a(0x19d)][_0x25dc6a(0x166)]=_0x25dc6a(0x175);const _0x584243=Array['from'](this[_0x25dc6a(0x1a0)]['values']());let _0x38ce8d=0x0;this[_0x25dc6a(0x179)]&&clearInterval(this['gameRotationInterval']);const _0x4a040c=()=>{const _0x22a1d0=_0x25dc6a,_0x505b37=_0x584243[_0x38ce8d];if(_0x505b37){const _0x2faccd=_0x505b37['players']?.['length']>0x2?'FFA':_0x22a1d0(0x18f),_0x342a4c=_0x505b37['players']?.['length']||0x0,_0x3bb9d8='LIVE\x20GAME:\x20('+_0x505b37[_0x22a1d0(0x1ae)]+')\x20-\x20'+_0x505b37[_0x22a1d0(0x162)]+'\x20-\x20'+_0x2faccd+'\x20-\x20Map:\x20'+_0x505b37[_0x22a1d0(0x18c)];_0x48abf5['textContent']=_0x3bb9d8,_0x38ce8d=(_0x38ce8d+0x1)%_0x584243['length'];}};_0x4a040c(),_0x584243['length']>0x1&&(this['gameRotationInterval']=setInterval(_0x4a040c,0x2710));}}const styles=a53_0x43ce3c(0x196),styleSheet=document[a53_0x43ce3c(0x19a)]('style');styleSheet[a53_0x43ce3c(0x18d)]=styles,document['head'][a53_0x43ce3c(0x19c)](styleSheet),document['addEventListener']('DOMContentLoaded',()=>{const _0x2ab649=a53_0x43ce3c,_0x1b4683=new RetroTrackerMonitor();window['location']['pathname']['endsWith']('whosplaying.html')?_0x1b4683[_0x2ab649(0x172)]():_0x1b4683['initializeBannerOnly']();});