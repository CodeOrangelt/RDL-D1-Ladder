const a48_0x48973a=a48_0x1e44;(function(_0x25e91e,_0x5b4278){const _0x4cf698=a48_0x1e44,_0x545bda=_0x25e91e();while(!![]){try{const _0x1e082b=-parseInt(_0x4cf698(0x1c6))/0x1*(-parseInt(_0x4cf698(0x226))/0x2)+-parseInt(_0x4cf698(0x1ff))/0x3*(parseInt(_0x4cf698(0x1f8))/0x4)+-parseInt(_0x4cf698(0x263))/0x5*(-parseInt(_0x4cf698(0x268))/0x6)+-parseInt(_0x4cf698(0x1a4))/0x7*(parseInt(_0x4cf698(0x251))/0x8)+parseInt(_0x4cf698(0x1bf))/0x9+parseInt(_0x4cf698(0x22a))/0xa+-parseInt(_0x4cf698(0x211))/0xb;if(_0x1e082b===_0x5b4278)break;else _0x545bda['push'](_0x545bda['shift']());}catch(_0x231bb0){_0x545bda['push'](_0x545bda['shift']());}}}(a48_0x3dbd,0xe75bf));const a48_0x5d1e70=(function(){let _0x262b51=!![];return function(_0x677c5d,_0x43bfd2){const _0x20a8d6=_0x262b51?function(){const _0x19016e=a48_0x1e44;if(_0x43bfd2){const _0x3c5a4f=_0x43bfd2[_0x19016e(0x29f)](_0x677c5d,arguments);return _0x43bfd2=null,_0x3c5a4f;}}:function(){};return _0x262b51=![],_0x20a8d6;};}()),a48_0x3de8f5=a48_0x5d1e70(this,function(){const _0x5deb5f=a48_0x1e44;return a48_0x3de8f5[_0x5deb5f(0x20a)]()['search'](_0x5deb5f(0x1f9))['toString']()['constructor'](a48_0x3de8f5)['search'](_0x5deb5f(0x1f9));});a48_0x3de8f5();const a48_0x2f05a2=(function(){let _0x22ab70=!![];return function(_0x2a7c47,_0x59d524){const _0x45ca79=_0x22ab70?function(){const _0x4f0729=a48_0x1e44;if(_0x59d524){const _0x19e957=_0x59d524[_0x4f0729(0x29f)](_0x2a7c47,arguments);return _0x59d524=null,_0x19e957;}}:function(){};return _0x22ab70=![],_0x45ca79;};}()),a48_0x48b54c=a48_0x2f05a2(this,function(){const _0x1d5ec4=a48_0x1e44,_0x35d42b=function(){const _0x544d9b=a48_0x1e44;let _0x4d492d;try{_0x4d492d=Function(_0x544d9b(0x244)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x5bc633){_0x4d492d=window;}return _0x4d492d;},_0x4acccb=_0x35d42b(),_0x4582c3=_0x4acccb['console']=_0x4acccb[_0x1d5ec4(0x1ce)]||{},_0x2d9aba=[_0x1d5ec4(0x20f),'warn',_0x1d5ec4(0x29a),_0x1d5ec4(0x282),_0x1d5ec4(0x272),_0x1d5ec4(0x1db),_0x1d5ec4(0x1f4)];for(let _0x7a3f0=0x0;_0x7a3f0<_0x2d9aba['length'];_0x7a3f0++){const _0x56ff14=a48_0x2f05a2[_0x1d5ec4(0x1fe)][_0x1d5ec4(0x2b5)][_0x1d5ec4(0x273)](a48_0x2f05a2),_0x14f6c6=_0x2d9aba[_0x7a3f0],_0x5ce4e0=_0x4582c3[_0x14f6c6]||_0x56ff14;_0x56ff14[_0x1d5ec4(0x29e)]=a48_0x2f05a2[_0x1d5ec4(0x273)](a48_0x2f05a2),_0x56ff14[_0x1d5ec4(0x20a)]=_0x5ce4e0['toString'][_0x1d5ec4(0x273)](_0x5ce4e0),_0x4582c3[_0x14f6c6]=_0x56ff14;}});a48_0x48b54c();import{approveReport}from'./ladderalgorithm.js';import{approveReportD2}from'./ladderalgorithm-d2.js';import{approveReportD3}from'./ladderalgorithm-d3.js';import{checkPendingMatches,updatePendingMatchNotification,updateNotificationDot}from'./checkPendingMatches.js';import{collection,getDocs,query,where,orderBy,serverTimestamp,doc,setDoc,getDoc,addDoc,updateDoc,deleteDoc}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';function a48_0x1e44(_0x345cc8,_0x5e6e16){const _0x443faa=a48_0x3dbd();return a48_0x1e44=function(_0x48b54c,_0x2f05a2){_0x48b54c=_0x48b54c-0x19f;let _0x3077ca=_0x443faa[_0x48b54c];return _0x3077ca;},a48_0x1e44(_0x345cc8,_0x5e6e16);}import{onAuthStateChanged}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';import{auth,db}from'./firebase-config.js';let currentUserEmail=null,confirmationNotification=null,outstandingReportData=null,currentGameMode='D1',outstandingMatches=[];document[a48_0x48973a(0x1b3)](a48_0x48973a(0x213),async()=>{const _0x215430=a48_0x48973a,_0x3ebd9f={'authWarning':document['getElementById']('auth-warning'),'reportForm':document['getElementById']('report-form'),'winnerUsername':document['getElementById']('winner-username'),'loserUsername':document[_0x215430(0x1d6)](_0x215430(0x20d)),'loserScore':document[_0x215430(0x1d6)](_0x215430(0x27a)),'suicides':document[_0x215430(0x1d6)](_0x215430(0x254)),'mapPlayed':document[_0x215430(0x1d6)](_0x215430(0x271)),'loserComment':document[_0x215430(0x1d6)](_0x215430(0x261)),'reportError':document['getElementById'](_0x215430(0x1dc)),'reportLightbox':document[_0x215430(0x1d6)](_0x215430(0x276))};Object[_0x215430(0x1af)](_0x3ebd9f)[_0x215430(0x2a5)](([_0x33ff77,_0x7af537])=>{const _0x125853=_0x215430;!_0x7af537&&console[_0x125853(0x23e)](_0x125853(0x28e)+_0x33ff77+_0x125853(0x2a7));});const _0x418767=document[_0x215430(0x1d6)](_0x215430(0x24f)),_0x5b59a5=document['getElementById'](_0x215430(0x296)),_0x462c33=document[_0x215430(0x1d6)]('d3-mode');_0x418767[_0x215430(0x1b3)](_0x215430(0x267),()=>{const _0x1063e5=_0x215430;_0x1ac5c5('D1'),_0x418767[_0x1063e5(0x1ac)]['add']('active'),_0x5b59a5[_0x1063e5(0x1ac)][_0x1063e5(0x214)](_0x1063e5(0x1fd)),_0x462c33[_0x1063e5(0x1ac)][_0x1063e5(0x214)](_0x1063e5(0x1fd));}),_0x5b59a5[_0x215430(0x1b3)](_0x215430(0x267),()=>{const _0x54a99=_0x215430;_0x1ac5c5('D2'),_0x5b59a5[_0x54a99(0x1ac)][_0x54a99(0x21d)](_0x54a99(0x1fd)),_0x418767[_0x54a99(0x1ac)][_0x54a99(0x214)](_0x54a99(0x1fd)),_0x462c33[_0x54a99(0x1ac)][_0x54a99(0x214)](_0x54a99(0x1fd));}),_0x462c33[_0x215430(0x1b3)]('click',()=>{const _0x10fa18=_0x215430;_0x1ac5c5('D3'),_0x462c33[_0x10fa18(0x1ac)][_0x10fa18(0x21d)](_0x10fa18(0x1fd)),_0x418767[_0x10fa18(0x1ac)][_0x10fa18(0x214)](_0x10fa18(0x1fd)),_0x5b59a5[_0x10fa18(0x1ac)][_0x10fa18(0x214)](_0x10fa18(0x1fd));});function _0x1ac5c5(_0x338a39){const _0x1d927b=_0x215430;currentGameMode=_0x338a39,console[_0x1d927b(0x20f)]('Game\x20mode\x20set\x20to:\x20'+currentGameMode),auth[_0x1d927b(0x23f)]&&checkUserInLadderAndLoadOpponents(auth[_0x1d927b(0x23f)][_0x1d927b(0x2b9)]);}setupAuthStateListener(_0x3ebd9f),setupReportForm(_0x3ebd9f),auth[_0x215430(0x23f)]?(console[_0x215430(0x20f)]('User\x20already\x20logged\x20in,\x20checking\x20D1\x20ladder\x20status'),checkUserInLadderAndLoadOpponents(auth[_0x215430(0x23f)][_0x215430(0x2b9)])):console['log'](_0x215430(0x294));});function setupAuthStateListener(_0x349ef0){onAuthStateChanged(auth,async _0x4ef0f5=>{_0x4ef0f5?handleUserSignedIn(_0x4ef0f5,_0x349ef0):handleUserSignedOut(_0x349ef0);});}async function handleUserSignedIn(_0x2fbfb5,_0x159893){const _0x63a171=a48_0x48973a;if(!_0x159893){console[_0x63a171(0x282)](_0x63a171(0x27e));return;}currentUserEmail=_0x2fbfb5[_0x63a171(0x2a3)]||null;const _0x5d7a5c=_0x2fbfb5['uid'];try{const _0x2d0395=doc(db,_0x63a171(0x215),_0x5d7a5c);try{const _0x5ea034=await getDoc(_0x2d0395);console[_0x63a171(0x20f)](_0x63a171(0x27f),{'exists':_0x5ea034[_0x63a171(0x290)](),'data':_0x5ea034['exists']()?_0x5ea034['data']():null});if(_0x5ea034['exists']()&&_0x5ea034[_0x63a171(0x29b)]()[_0x63a171(0x29d)]===!![]){_0x159893[_0x63a171(0x218)]&&(_0x159893['authWarning'][_0x63a171(0x1a6)][_0x63a171(0x22d)]=_0x63a171(0x22f),_0x159893['authWarning'][_0x63a171(0x1c5)]=_0x63a171(0x284));_0x159893[_0x63a171(0x1b1)]&&(_0x159893[_0x63a171(0x1b1)]['style'][_0x63a171(0x22d)]='none');return;}}catch(_0xa42602){console['warn'](_0x63a171(0x241),_0xa42602);}const _0x12d2c7=['players',_0x63a171(0x209),'playersD3',_0x63a171(0x1ae),'playersCTF'];let _0x45e5dd=![],_0x1fca5e='';for(const _0xa93c55 of _0x12d2c7){try{const _0x5c81e3=doc(db,_0xa93c55,_0x5d7a5c),_0x41db49=await getDoc(_0x5c81e3);if(_0x41db49['exists']()){_0x45e5dd=!![],_0x1fca5e=_0x41db49['data']()[_0x63a171(0x237)],console[_0x63a171(0x20f)]('User\x20found\x20in\x20collection\x20'+_0xa93c55+'\x20with\x20username:\x20'+_0x1fca5e);if(_0xa93c55===_0x63a171(0x2a6)&&currentGameMode!=='D1'){currentGameMode='D1';const _0x21135a=document[_0x63a171(0x1d6)]('d1-mode'),_0xd713ea=document['getElementById'](_0x63a171(0x296)),_0x4454c9=document[_0x63a171(0x1d6)]('d3-mode');_0x21135a[_0x63a171(0x1ac)]['add'](_0x63a171(0x1fd)),_0xd713ea[_0x63a171(0x1ac)][_0x63a171(0x214)]('active'),_0x4454c9[_0x63a171(0x1ac)][_0x63a171(0x214)](_0x63a171(0x1fd));}else{if(_0xa93c55===_0x63a171(0x209)&&currentGameMode!=='D2'){currentGameMode='D2';const _0x1aca90=document['getElementById'](_0x63a171(0x24f)),_0x45821b=document['getElementById']('d2-mode'),_0x3bad21=document[_0x63a171(0x1d6)](_0x63a171(0x1d4));_0x45821b[_0x63a171(0x1ac)][_0x63a171(0x21d)](_0x63a171(0x1fd)),_0x1aca90[_0x63a171(0x1ac)][_0x63a171(0x214)](_0x63a171(0x1fd)),_0x3bad21[_0x63a171(0x1ac)]['remove'](_0x63a171(0x1fd));}}break;}}catch(_0x175e00){console[_0x63a171(0x23e)](_0x63a171(0x1b0)+_0xa93c55+_0x63a171(0x21f),_0x175e00);}}if(!_0x45e5dd){_0x159893[_0x63a171(0x218)]&&(_0x159893[_0x63a171(0x218)]['style'][_0x63a171(0x22d)]=_0x63a171(0x22f),_0x159893[_0x63a171(0x218)]['textContent']='You\x20are\x20not\x20registered\x20in\x20any\x20ladder.');_0x159893['reportForm']&&(_0x159893[_0x63a171(0x1b1)][_0x63a171(0x1a6)]['display']=_0x63a171(0x257));return;}const _0x38019f=await checkUserInLadderAndLoadOpponents(_0x5d7a5c);if(!_0x38019f){console[_0x63a171(0x23e)](_0x63a171(0x270)+currentGameMode+'\x20ladder.\x20Checking\x20other\x20ladders.');for(const _0xce40e9 of[_0x63a171(0x2a6),_0x63a171(0x209),_0x63a171(0x21c)]){if(_0xce40e9===(currentGameMode==='D1'?_0x63a171(0x2a6):currentGameMode==='D2'?_0x63a171(0x209):'playersD3'))continue;const _0x2e63be=doc(db,_0xce40e9,_0x5d7a5c);try{const _0x4230e6=await getDoc(_0x2e63be);if(_0x4230e6[_0x63a171(0x290)]()){const _0x529d3f=_0xce40e9===_0x63a171(0x2a6)?'D1':_0xce40e9===_0x63a171(0x209)?'D2':'D3';console[_0x63a171(0x20f)](_0x63a171(0x245)+_0xce40e9+',\x20switching\x20to\x20'+_0x529d3f+_0x63a171(0x269));const _0x5b066b=document[_0x63a171(0x1d6)](_0x63a171(0x24f)),_0x83cb84=document[_0x63a171(0x1d6)]('d2-mode'),_0x369295=document[_0x63a171(0x1d6)](_0x63a171(0x1d4));if(_0x529d3f==='D1')_0x5b066b[_0x63a171(0x1ac)][_0x63a171(0x21d)](_0x63a171(0x1fd)),_0x83cb84[_0x63a171(0x1ac)][_0x63a171(0x214)](_0x63a171(0x1fd)),_0x369295[_0x63a171(0x1ac)]['remove'](_0x63a171(0x1fd));else _0x529d3f==='D2'?(_0x83cb84[_0x63a171(0x1ac)][_0x63a171(0x21d)]('active'),_0x5b066b[_0x63a171(0x1ac)][_0x63a171(0x214)](_0x63a171(0x1fd)),_0x369295[_0x63a171(0x1ac)][_0x63a171(0x214)](_0x63a171(0x1fd))):(_0x369295[_0x63a171(0x1ac)]['add'](_0x63a171(0x1fd)),_0x5b066b[_0x63a171(0x1ac)][_0x63a171(0x214)](_0x63a171(0x1fd)),_0x83cb84['classList'][_0x63a171(0x214)]('active'));currentGameMode=_0x529d3f,await checkUserInLadderAndLoadOpponents(_0x5d7a5c);break;}}catch(_0x11dd10){console[_0x63a171(0x23e)](_0x63a171(0x1b0)+_0xce40e9+':',_0x11dd10);}}}}catch(_0x317a8d){console['error'](_0x63a171(0x23b),_0x317a8d);}}function handleUserSignedOut(_0x32600d){const _0x6d7776=a48_0x48973a;_0x32600d['authWarning']['style']['display']=_0x6d7776(0x22f),_0x32600d[_0x6d7776(0x1b1)][_0x6d7776(0x1a6)][_0x6d7776(0x22d)]='none',currentUserEmail=null;}async function updateUserDisplay(_0x2e73cc,_0x40d002){const _0xa09979=a48_0x48973a,_0x4d8bde=collection(db,'players'),_0x3fecbc=query(_0x4d8bde,where(_0xa09979(0x2a3),'==',_0x2e73cc)),_0x7d6106=await getDocs(_0x3fecbc);if(!_0x7d6106[_0xa09979(0x280)]){const _0x4b18d4=_0x7d6106[_0xa09979(0x1a8)][0x0][_0xa09979(0x29b)]()['username'];_0x40d002[_0xa09979(0x29c)][_0xa09979(0x1c5)]=_0x4b18d4;}}async function populateWinnerDropdown(_0x32dd29){const _0x384379=a48_0x48973a;try{const _0x59e24d=collection(db,_0x384379(0x2a6)),_0x31b377=await getDocs(_0x59e24d);_0x32dd29[_0x384379(0x229)]=_0x384379(0x1a2),!_0x31b377[_0x384379(0x280)]&&_0x31b377[_0x384379(0x2a5)](_0xf68edf=>{const _0x1fbc29=_0x384379,_0x4a7d2a=_0xf68edf[_0x1fbc29(0x29b)]();if(_0x4a7d2a[_0x1fbc29(0x2a3)]!==currentUserEmail){const _0xa30473=document[_0x1fbc29(0x1b7)](_0x1fbc29(0x21e));_0xa30473[_0x1fbc29(0x1bc)]=_0x4a7d2a[_0x1fbc29(0x2a3)],_0xa30473[_0x1fbc29(0x1c5)]=_0x4a7d2a[_0x1fbc29(0x237)],_0x32dd29[_0x1fbc29(0x2aa)](_0xa30473);}});}catch(_0x15621f){console[_0x384379(0x282)](_0x384379(0x278),_0x15621f);throw _0x15621f;}}function setupReportForm(_0xe1608d){const _0x56497e=a48_0x48973a;if(!_0xe1608d['reportForm'])return;_0xe1608d['reportForm'][_0x56497e(0x1b3)](_0x56497e(0x234),async _0x312cf6=>{const _0x4cfa43=_0x56497e;_0x312cf6['preventDefault']();try{await submitReport(_0xe1608d),_0xe1608d['reportForm'][_0x4cfa43(0x1e9)](),alert('Game\x20reported\x20successfully.');}catch(_0x36be47){console['error']('Error\x20submitting\x20report:',_0x36be47),_0xe1608d[_0x4cfa43(0x1d7)][_0x4cfa43(0x1c5)]=_0x4cfa43(0x298);}});}function a48_0x3dbd(){const _0x10d970=['lightbox-loser','No\x20opponents\x20available','Error\x20submitting\x20report:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20edit-report-btn\x22\x20data-id=\x22','2150FJhsrH','text','preventDefault','innerHTML','17436640HeTQHs','btn','approve-button','display','Error\x20fetching\x20outstanding\x20matches:','block','Error\x20rejecting\x20match:\x20','then','winner-username','Report\x20has\x20been\x20successfully\x20rescinded.','submit','color','Error\x20checking\x20outstanding\x20reports:','username','\x20to\x20','white','Using\x20players\x20collection:\x20','Error\x20during\x20sign-in\x20handling:','pendingMatchesD3','loserComment','warn','currentUser','opponent','Error\x20checking\x20non-participant\x20status:','bold','<option\x20value=\x22\x22>Select\x20Opponent</option>','return\x20(function()\x20','User\x20found\x20in\x20','position','eloRating','Only\x20the\x20winner\x20of\x20the\x20match\x20can\x20reject\x20it','Unknown','.rescind-report-btn','Match\x20reported\x20in\x20','8px\x2016px','Winner:\x20','Error\x20checking\x20ladder\x20membership.\x20Please\x20try\x20again\x20later.','d1-mode','Showing\x20lightbox','104rFLcoV','.lightbox-buttons','\x22>Edit\x20Report</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20danger-button\x20rescind-report-btn\x22\x20data-id=\x22','suicides','gameMode','pendingMatchesD2','none','No\x20authenticated\x20user\x20found','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22match-item\x22\x20data-id=\x22','Loading\x20opponents\x20from\x20collection:\x20','No\x20matches\x20found\x20by\x20winnerId,\x20trying\x20winnerEmail','No\x20winner\x20found\x20for\x20this\x20match','mapPlayed','createdAt','\x20matches\x20found','Update\x20Report','loser-comment','all','10EmyqHr','toLocaleDateString','disabled','renderOutstandingMatches','click','1995324XUBvRQ','\x20mode','Error\x20rejecting\x20match:','\x20in\x20','fetchOutstandingMatches','winnerEmail','losersOldElo','insertBefore','User\x20is\x20not\x20in\x20the\x20','map-played','exception','bind','Error\x20loading\x20opponents.\x20Please\x20try\x20again\x20later.','data-edit-id','report-lightbox','Match\x20report\x20rejected\x20successfully','Error\x20populating\x20winner\x20dropdown:','Failed\x20to\x20rescind\x20report.\x20Please\x20try\x20again.','loser-score','winnerOldElo','Error\x20processing\x20player\x20data:','Query\x20by\x20winnerId\x20results:\x20','Elements\x20object\x20is\x20null\x20or\x20undefined','Non-participant\x20check:','empty','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>','error','selected','Non-participants\x20cannot\x20report\x20games.','parentNode','call','No\x20reason\x20provided','Using\x20collection:\x20','message','\x20with\x20ID:\x20','<p>No\x20outstanding\x20matches\x20found\x20in\x20the\x20current\x20game\x20mode.</p>','RejectedD3','.view-detail-btn','Element\x20\x27','Match\x20approved\x20successfully','exists','onsubmit','reject-button','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22match-detail-item\x22>Date:\x20','No\x20user\x20logged\x20in\x20yet,\x20waiting\x20for\x20auth\x20state\x20change','red','d2-mode','Error:\x20Loser\x20data\x20not\x20found.','Error\x20reporting\x20game.\x20Please\x20try\x20again.','User\x20not\x20authenticated','info','data','loserUsername','isNonParticipant','__proto__','apply','Query\x20by\x20winnerUsername\x20results:\x20','Winner\x20','Are\x20you\x20sure\x20you\x20want\x20to\x20rescind\x20this\x20match\x20report\x20against\x20','email','lightbox-comment','forEach','players','\x27\x20not\x20found\x20in\x20the\x20DOM','Error\x20fetching\x20player\x20data.\x20Please\x20try\x20again.','loserId','appendChild','winnerUsername','button\x20danger-button','),\x20Loser:\x20','\x22>View\x20Details</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','push','getAttribute','\x22>Rescind\x20Report</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','button[type=\x22submit\x22]','\x20ladder...','Report\x20Game','prototype','subgameType','Error\x20approving\x20report:','view-outstanding-container','uid','borderRadius','data-id','cloneNode','loserScore','<option\x20value=\x22\x22>Select\x20Winner</option>','showMatchLightbox','338289LztEiv','loserEmail','style','lightbox-game-mode','docs','No\x20loser\x20found\x20for\x20this\x20match','auth-warning','RejectedD2','classList','cancel-button','playersDuos','entries','Error\x20checking\x20','reportForm','lightbox-loser-score','addEventListener','\x20from\x20','toDate','lightbox-map','createElement','Winner','removeAttribute','No\x20position\x20change\x20needed;\x20winner\x20is\x20already\x20above\x20the\x20loser.','winnerId','value','winner-score','lightbox-subgame','359028WZYuET','Report\x20form\x20reset','find','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','winner-comment','scrollIntoView','textContent','1747nRQWVn','rgba(255,\x20255,\x20255,\x200.05)','Cancel\x20Edit','Checking\x20if\x20user\x20exists\x20in\x20collection:\x20','admin@ladder.com','setAttribute','className','You\x20are\x20not\x20registered\x20in\x20the\x20','console','.edit-report-btn','Report\x20has\x20been\x20successfully\x20updated.','approved','Report\x20Data\x20in\x20autoFillReportForm:','\x20moved\x20to\x20position\x20','d3-mode','loserSuicides','getElementById','reportError','replaceChild','marginRight','target','table','report-error','cursor','cancel-edit-btn','backgroundColor','function','type','Game\x20reported\x20successfully!','\x20ladder.','sort','Loser','Required\x20elements\x20not\x20found\x20for\x20loadOpponentsList','querySelectorAll','reload','reset','subgame-type','\x20(ELO:\x20','10px','smooth','Current\x20user\x20info:','Reject\x20Match','show','button','dataset','4px','trace','Selected\x20opponent\x20not\x20found','Reject\x20button\x20added:','winner-suicides','4hSDYAZ','(((.+)+)+)+$','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22match-detail-item\x22>Score:\x20?\x20-\x20','prepend','Query\x20by\x20winnerEmail\x20results:\x20','active','constructor','3103605ITgOfs','outstanding-modal','green','Rejecting\x20match\x20','\x20rejected\x20successfully','close-outstanding-btn','pendingMatches','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22match-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22match-detail-item\x22>Map:\x20','lightbox-winner','querySelector','playersD2','toString','pointer','onAuthStateChanged','loser-username','Standard\x20Match','log','size','18878816oTuhOd','No\x20pending\x20matches\x20found\x20for\x20this\x20user','DOMContentLoaded','remove','nonParticipants','default\x20collection','Checking\x20if\x20you\x20are\x20registered\x20in\x20','authWarning','length','from','outstanding-matches-list','playersD3','add','option','\x20collection:','lightbox-suicides','Not\x20registered\x20in\x20this\x20ladder'];a48_0x3dbd=function(){return _0x10d970;};return a48_0x3dbd();}async function submitReport(_0x5e18fc){const _0x7c50f7=a48_0x48973a,_0x9b96e3=currentGameMode==='D1'?_0x7c50f7(0x205):currentGameMode==='D2'?_0x7c50f7(0x256):_0x7c50f7(0x23c),_0x1060f4=collection(db,_0x9b96e3),_0x28e170=doc(_0x1060f4);try{const _0x5b26ab=auth['currentUser'];if(!_0x5b26ab)throw new Error(_0x7c50f7(0x299));const _0x1bb933=_0x5b26ab[_0x7c50f7(0x2b9)],_0x132a86=currentGameMode==='D1'?_0x7c50f7(0x2a6):currentGameMode==='D2'?_0x7c50f7(0x209):_0x7c50f7(0x21c),_0x130962=await getDoc(doc(db,_0x132a86,_0x1bb933));if(!_0x130962[_0x7c50f7(0x290)]())throw new Error('Your\x20player\x20profile\x20not\x20found');const _0x2dc25b=document[_0x7c50f7(0x1d6)](_0x7c50f7(0x1ea)),_0x343e06=_0x5e18fc[_0x7c50f7(0x2ab)]['value'];if(!_0x343e06)throw new Error('Please\x20select\x20an\x20opponent');const _0x1e573e=query(collection(db,_0x132a86),where(_0x7c50f7(0x237),'==',_0x343e06)),_0x1b1919=await getDocs(_0x1e573e);if(_0x1b1919[_0x7c50f7(0x280)])throw new Error(_0x7c50f7(0x1f5));const _0x38ff88=_0x1b1919[_0x7c50f7(0x1a8)][0x0]['data'](),_0x43fe03=_0x1b1919[_0x7c50f7(0x1a8)][0x0]['id'],_0x2d0705={'matchId':_0x28e170['id'],'loserUsername':_0x130962[_0x7c50f7(0x29b)]()['username'],'loserId':_0x1bb933,'winnerUsername':_0x38ff88[_0x7c50f7(0x237)],'winnerId':_0x43fe03,'loserScore':_0x5e18fc[_0x7c50f7(0x1a1)][_0x7c50f7(0x1bc)],'loserSuicides':_0x5e18fc['suicides']['value'],'mapPlayed':_0x5e18fc[_0x7c50f7(0x25d)][_0x7c50f7(0x1bc)],'loserComment':_0x5e18fc['loserComment'][_0x7c50f7(0x1bc)],'subgameType':_0x2dc25b?_0x2dc25b[_0x7c50f7(0x1bc)]:'','gameMode':currentGameMode,'approved':![],'createdAt':serverTimestamp(),'winnerOldElo':_0x38ff88['eloRating']||null,'losersOldElo':_0x130962[_0x7c50f7(0x29b)]()[_0x7c50f7(0x247)]||null};await setDoc(_0x28e170,_0x2d0705),console[_0x7c50f7(0x20f)](_0x7c50f7(0x24b)+_0x9b96e3+_0x7c50f7(0x28a)+_0x28e170['id']),_0x5e18fc[_0x7c50f7(0x1d7)][_0x7c50f7(0x1c5)]=_0x7c50f7(0x1e2),_0x5e18fc['reportError'][_0x7c50f7(0x1a6)][_0x7c50f7(0x235)]=_0x7c50f7(0x201),updatePendingMatchNotification();}catch(_0x4168a8){console[_0x7c50f7(0x282)](_0x7c50f7(0x224),_0x4168a8),_0x5e18fc[_0x7c50f7(0x1d7)]['textContent']='Error:\x20'+_0x4168a8['message'],_0x5e18fc[_0x7c50f7(0x1d7)][_0x7c50f7(0x1a6)][_0x7c50f7(0x235)]=_0x7c50f7(0x295);throw _0x4168a8;}}async function checkForOutstandingReports(_0x1d997d,_0x2a01aa,_0x1cdb04=null){const _0x4ba289=a48_0x48973a;console['log']('Checking\x20reports\x20for\x20user:\x20'+_0x1d997d+_0x4ba289(0x26b)+(_0x1cdb04||_0x4ba289(0x216)));const _0x136c81=_0x1cdb04||(currentGameMode==='D1'?'pendingMatches':currentGameMode==='D2'?_0x4ba289(0x256):_0x4ba289(0x23c));console[_0x4ba289(0x20f)](_0x4ba289(0x288)+_0x136c81);try{const _0x5a4084=auth[_0x4ba289(0x23f)];if(!_0x5a4084){console[_0x4ba289(0x20f)](_0x4ba289(0x258));return;}const _0x98f9a=_0x5a4084['uid'],_0x531726=collection(db,_0x136c81),_0x337413=query(_0x531726,where(_0x4ba289(0x1bb),'==',_0x98f9a),where(_0x4ba289(0x1d1),'==',![]));let _0x280b4f=await getDocs(_0x337413);console['log'](_0x4ba289(0x27d)+_0x280b4f[_0x4ba289(0x210)]+_0x4ba289(0x25f));if(_0x280b4f[_0x4ba289(0x280)]&&_0x5a4084[_0x4ba289(0x2a3)]){console[_0x4ba289(0x20f)](_0x4ba289(0x25b));const _0x998b3b=query(_0x531726,where('winnerEmail','==',_0x5a4084[_0x4ba289(0x2a3)]),where(_0x4ba289(0x1d1),'==',![]));_0x280b4f=await getDocs(_0x998b3b),console[_0x4ba289(0x20f)](_0x4ba289(0x1fc)+_0x280b4f[_0x4ba289(0x210)]+_0x4ba289(0x25f));}if(_0x280b4f[_0x4ba289(0x280)]){console[_0x4ba289(0x20f)]('No\x20matches\x20found\x20by\x20email\x20either,\x20trying\x20winnerUsername');const _0x3858db=currentGameMode==='D1'?_0x4ba289(0x2a6):_0x4ba289(0x209),_0x3b76dd=await getDoc(doc(db,_0x3858db,_0x98f9a));if(_0x3b76dd['exists']()&&_0x3b76dd[_0x4ba289(0x29b)]()[_0x4ba289(0x237)]){const _0x2844c8=_0x3b76dd[_0x4ba289(0x29b)]()[_0x4ba289(0x237)],_0x5d35d6=query(_0x531726,where(_0x4ba289(0x2ab),'==',_0x2844c8),where(_0x4ba289(0x1d1),'==',![]));_0x280b4f=await getDocs(_0x5d35d6),console['log'](_0x4ba289(0x2a0)+_0x280b4f[_0x4ba289(0x210)]+'\x20matches\x20found');}}if(!_0x280b4f[_0x4ba289(0x280)]){const _0x3f42b1=_0x280b4f[_0x4ba289(0x1a8)][0x0]['data']();return console[_0x4ba289(0x20f)]('Found\x20pending\x20match:',_0x3f42b1),_0x3f42b1['id']=_0x280b4f[_0x4ba289(0x1a8)][0x0]['id'],autoFillReportForm(_0x3f42b1),updateNotificationDot(!![]),!![];}else return console['log'](_0x4ba289(0x212)),updateNotificationDot(![]),![];}catch(_0x4d1ebd){console[_0x4ba289(0x282)](_0x4ba289(0x236),_0x4d1ebd);}}function autoFillReportForm(_0x1a7e01){const _0x6d3aa8=a48_0x48973a;console[_0x6d3aa8(0x20f)](_0x6d3aa8(0x1d2),_0x1a7e01);if(_0x1a7e01){const _0x12d4f4=parseInt(_0x1a7e01['loserScore']||'0'),_0x4c019d=_0x12d4f4<0x12?0x14:_0x12d4f4+0x2,_0x2b9185=_0x1a7e01[_0x6d3aa8(0x255)]||currentGameMode,_0x350bf7=_0x2b9185==='D1'?_0x6d3aa8(0x2a6):_0x2b9185==='D2'?_0x6d3aa8(0x209):'playersD3';console[_0x6d3aa8(0x20f)](_0x6d3aa8(0x23a)+_0x350bf7+'\x20for\x20game\x20mode:\x20'+_0x2b9185);let _0x12c153;_0x1a7e01['winnerId']?_0x12c153=getDoc(doc(db,_0x350bf7,_0x1a7e01['winnerId']))['then'](_0x4e681c=>_0x4e681c['exists']()?{'id':_0x4e681c['id'],'data':_0x4e681c['data']()}:null):_0x12c153=getDocs(query(collection(db,_0x350bf7),where('username','==',_0x1a7e01[_0x6d3aa8(0x2ab)])))[_0x6d3aa8(0x231)](_0x6591e4=>!_0x6591e4[_0x6d3aa8(0x280)]?{'id':_0x6591e4[_0x6d3aa8(0x1a8)][0x0]['id'],'data':_0x6591e4[_0x6d3aa8(0x1a8)][0x0][_0x6d3aa8(0x29b)]()}:null);let _0x304dfe;_0x1a7e01[_0x6d3aa8(0x2a9)]?_0x304dfe=getDoc(doc(db,_0x350bf7,_0x1a7e01[_0x6d3aa8(0x2a9)]))[_0x6d3aa8(0x231)](_0x10c42d=>_0x10c42d[_0x6d3aa8(0x290)]()?{'id':_0x10c42d['id'],'data':_0x10c42d['data']()}:null):_0x304dfe=getDocs(query(collection(db,_0x350bf7),where(_0x6d3aa8(0x237),'==',_0x1a7e01[_0x6d3aa8(0x29c)])))['then'](_0x57c91a=>!_0x57c91a[_0x6d3aa8(0x280)]?{'id':_0x57c91a[_0x6d3aa8(0x1a8)][0x0]['id'],'data':_0x57c91a[_0x6d3aa8(0x1a8)][0x0][_0x6d3aa8(0x29b)]()}:null),Promise['all']([_0x12c153,_0x304dfe])[_0x6d3aa8(0x231)](([_0x84f3dc,_0x456046])=>{const _0x1b359c=_0x6d3aa8;if(!_0x84f3dc){console[_0x1b359c(0x282)](_0x1b359c(0x25c)),alert('Error:\x20Winner\x20data\x20not\x20found.');return;}if(!_0x456046){console[_0x1b359c(0x282)](_0x1b359c(0x1a9)),alert(_0x1b359c(0x297));return;}const _0x402f75=_0x1a7e01[_0x1b359c(0x27b)]!=null?_0x1a7e01[_0x1b359c(0x27b)]:_0x84f3dc[_0x1b359c(0x29b)][_0x1b359c(0x247)],_0x3a009b=_0x1a7e01[_0x1b359c(0x26e)]!=null?_0x1a7e01[_0x1b359c(0x26e)]:_0x456046[_0x1b359c(0x29b)][_0x1b359c(0x247)],_0x1fff9b=_0x84f3dc['data'][_0x1b359c(0x237)],_0x4e6bef=_0x456046['data'][_0x1b359c(0x237)];console[_0x1b359c(0x20f)](_0x1b359c(0x24d)+_0x1fff9b+'\x20(ELO:\x20'+_0x402f75+_0x1b359c(0x2ad)+_0x4e6bef+_0x1b359c(0x1eb)+_0x3a009b+')');const _0xdd77eb=document[_0x1b359c(0x1d6)](_0x1b359c(0x276));if(!_0xdd77eb){console[_0x1b359c(0x282)]('Lightbox\x20element\x20not\x20found');return;}document[_0x1b359c(0x1d6)](_0x1b359c(0x207))[_0x1b359c(0x1c5)]=_0x1fff9b,document[_0x1b359c(0x1d6)]('lightbox-loser')[_0x1b359c(0x1c5)]=_0x4e6bef,document[_0x1b359c(0x1d6)](_0x1b359c(0x1b2))[_0x1b359c(0x1c5)]=_0x1a7e01[_0x1b359c(0x1a1)]||'0',document['getElementById'](_0x1b359c(0x220))[_0x1b359c(0x1c5)]=_0x1a7e01[_0x1b359c(0x1d5)]||'0',document[_0x1b359c(0x1d6)](_0x1b359c(0x1b6))[_0x1b359c(0x1c5)]=_0x1a7e01[_0x1b359c(0x25d)]||'Not\x20specified',document[_0x1b359c(0x1d6)](_0x1b359c(0x2a4))['textContent']=_0x1a7e01[_0x1b359c(0x23d)]||'No\x20comment',document[_0x1b359c(0x1d6)](_0x1b359c(0x1be))[_0x1b359c(0x1c5)]=_0x1a7e01[_0x1b359c(0x2b6)]||_0x1b359c(0x20e);const _0x582110=document[_0x1b359c(0x1d6)](_0x1b359c(0x1bd));_0x582110&&(_0x582110[_0x1b359c(0x1bc)]=_0x4c019d,_0x582110['readOnly']=!![],_0x582110['style'][_0x1b359c(0x1df)]=_0x1b359c(0x1c7));showLightbox();const _0x4e6a45=document[_0x1b359c(0x208)](_0x1b359c(0x252));if(_0x4e6a45){console[_0x1b359c(0x20f)]('Found\x20buttons\x20container:',_0x4e6a45);const _0x288922=document['getElementById']('reject-button');_0x288922&&_0x288922[_0x1b359c(0x214)]();const _0x11ddba=document[_0x1b359c(0x1b7)](_0x1b359c(0x1f1));_0x11ddba['id']='reject-button',_0x11ddba[_0x1b359c(0x1cc)]=_0x1b359c(0x2ac),_0x11ddba[_0x1b359c(0x1c5)]=_0x1b359c(0x1ef),_0x11ddba[_0x1b359c(0x1a6)][_0x1b359c(0x1df)]='#d32f2f',_0x11ddba[_0x1b359c(0x1a6)][_0x1b359c(0x235)]=_0x1b359c(0x239),_0x11ddba[_0x1b359c(0x1a6)][_0x1b359c(0x1d9)]=_0x1b359c(0x1ec),_0x11ddba[_0x1b359c(0x1a6)]['padding']=_0x1b359c(0x24c),_0x11ddba[_0x1b359c(0x1a6)]['border']=_0x1b359c(0x257),_0x11ddba['style'][_0x1b359c(0x2ba)]=_0x1b359c(0x1f3),_0x11ddba[_0x1b359c(0x1a6)][_0x1b359c(0x1dd)]=_0x1b359c(0x20b),_0x11ddba[_0x1b359c(0x1a6)]['fontWeight']=_0x1b359c(0x242),_0x4e6a45[_0x1b359c(0x1fb)](_0x11ddba),console[_0x1b359c(0x20f)](_0x1b359c(0x1f6),_0x11ddba);}const _0x5b4e4d=document[_0x1b359c(0x1d6)](_0x1b359c(0x22c)),_0x45a8e3=document[_0x1b359c(0x1d6)](_0x1b359c(0x292)),_0x41d4a6=document['getElementById']('cancel-button');if(_0x5b4e4d){const _0x2b3987=_0x5b4e4d[_0x1b359c(0x1a0)](!![]);_0x5b4e4d['parentNode'][_0x1b359c(0x1d8)](_0x2b3987,_0x5b4e4d),_0x2b3987[_0x1b359c(0x1b3)](_0x1b359c(0x267),async function(){const _0xdca4f1=_0x1b359c;try{const _0x556ae3=document[_0xdca4f1(0x1d6)](_0xdca4f1(0x1bd))[_0xdca4f1(0x1bc)],_0x17f35b=document[_0xdca4f1(0x1d6)](_0xdca4f1(0x1f7))['value']||'0',_0x50d151=document['getElementById'](_0xdca4f1(0x1c3))['value']||'';console[_0xdca4f1(0x20f)](_0xdca4f1(0x1ee),{'uid':auth[_0xdca4f1(0x23f)]?.[_0xdca4f1(0x2b9)],'email':auth['currentUser']?.[_0xdca4f1(0x2a3)],'isAdmin':auth[_0xdca4f1(0x23f)]?.['email']===_0xdca4f1(0x1ca)||auth[_0xdca4f1(0x23f)]?.[_0xdca4f1(0x2a3)]==='brian2af@outlook.com'});const _0x3cb1b7=_0x1a7e01[_0xdca4f1(0x255)]||currentGameMode;if(_0x3cb1b7==='D3')await approveReportD3(_0x1a7e01['id'],_0x556ae3,_0x17f35b,_0x50d151);else _0x3cb1b7==='D2'?await approveReportD2(_0x1a7e01['id'],_0x556ae3,_0x17f35b,_0x50d151):await approveReport(_0x1a7e01['id'],_0x556ae3,_0x17f35b,_0x50d151);document[_0xdca4f1(0x1d6)](_0xdca4f1(0x276))[_0xdca4f1(0x1a6)][_0xdca4f1(0x22d)]=_0xdca4f1(0x257),alert(_0xdca4f1(0x28f)),updatePendingMatchNotification(),location[_0xdca4f1(0x1e8)]();const _0x215640=_0x3cb1b7==='D1'?_0xdca4f1(0x2a6):'playersD2',_0x4f52c4=doc(db,_0x215640,_0x84f3dc['id']),_0x4e571d=doc(db,_0x215640,_0x456046['id']),[_0x32fcde,_0x21b266]=await Promise[_0xdca4f1(0x262)]([getDoc(_0x4f52c4),getDoc(_0x4e571d)]);if(_0x32fcde['exists']()&&_0x21b266[_0xdca4f1(0x290)]()){const _0x48cb64=_0x32fcde[_0xdca4f1(0x29b)](),_0x46464c=_0x21b266[_0xdca4f1(0x29b)]();_0x48cb64[_0xdca4f1(0x246)]>_0x46464c[_0xdca4f1(0x246)]?(await updateDoc(_0x4f52c4,{'position':_0x46464c[_0xdca4f1(0x246)]}),console[_0xdca4f1(0x20f)](_0xdca4f1(0x2a1)+_0x48cb64[_0xdca4f1(0x237)]+_0xdca4f1(0x1d3)+_0x46464c['position'])):console[_0xdca4f1(0x20f)](_0xdca4f1(0x1ba));}}catch(_0x2a0dd5){console[_0xdca4f1(0x282)](_0xdca4f1(0x2b7),_0x2a0dd5),alert('Error\x20approving\x20match:\x20'+_0x2a0dd5[_0xdca4f1(0x289)]);}});}if(_0x45a8e3){const _0x5d6de4=_0x45a8e3[_0x1b359c(0x1a0)](!![]);_0x45a8e3[_0x1b359c(0x285)][_0x1b359c(0x1d8)](_0x5d6de4,_0x45a8e3),_0x5d6de4[_0x1b359c(0x1b3)](_0x1b359c(0x267),async function(){const _0x505c95=_0x1b359c;try{const _0x264102=prompt('Please\x20provide\x20a\x20reason\x20for\x20rejecting\x20this\x20match\x20report:','');if(_0x264102===null)return;await rejectReport(_0x1a7e01['id'],_0x264102),hideLightbox(),alert(_0x505c95(0x277)),updatePendingMatchNotification(),location['reload']();}catch(_0x4b569a){console['error']('Error\x20rejecting\x20report:',_0x4b569a),alert(_0x505c95(0x230)+_0x4b569a[_0x505c95(0x289)]);}});}if(_0x41d4a6){const _0x2c279b=_0x41d4a6[_0x1b359c(0x1a0)](!![]);_0x41d4a6[_0x1b359c(0x285)][_0x1b359c(0x1d8)](_0x2c279b,_0x41d4a6),_0x2c279b[_0x1b359c(0x1b3)](_0x1b359c(0x267),hideLightbox);}})['catch'](_0x4b5cfa=>{const _0x15dbbb=_0x6d3aa8;console['error'](_0x15dbbb(0x27c),_0x4b5cfa),alert(_0x15dbbb(0x2a8));});}}function showLightbox(){const _0x4266ad=a48_0x48973a;console[_0x4266ad(0x20f)](_0x4266ad(0x250));const _0x7da1dc=document[_0x4266ad(0x1d6)]('report-lightbox');if(!_0x7da1dc){console[_0x4266ad(0x282)]('Lightbox\x20element\x20not\x20found');return;}_0x7da1dc[_0x4266ad(0x1ac)]['add'](_0x4266ad(0x1f0));}function hideLightbox(){const _0xe1748e=a48_0x48973a,_0x226c38=document['getElementById']('report-lightbox');_0x226c38[_0xe1748e(0x1ac)][_0xe1748e(0x214)](_0xe1748e(0x1f0));}async function rejectReport(_0x1d6354,_0x4f1585){const _0x16ad9e=a48_0x48973a;try{const _0x1afbd5=currentGameMode==='D1'?_0x16ad9e(0x205):currentGameMode==='D2'?_0x16ad9e(0x256):_0x16ad9e(0x23c),_0xe486a3=currentGameMode==='D1'?'RejectedD1':currentGameMode==='D2'?_0x16ad9e(0x1ab):_0x16ad9e(0x28c);console[_0x16ad9e(0x20f)](_0x16ad9e(0x202)+_0x1d6354+_0x16ad9e(0x1b4)+_0x1afbd5+_0x16ad9e(0x238)+_0xe486a3);const _0x2de78e=auth[_0x16ad9e(0x23f)];if(!_0x2de78e)throw new Error('You\x20must\x20be\x20logged\x20in\x20to\x20reject\x20a\x20match');const _0x381e84=doc(db,_0x1afbd5,_0x1d6354),_0x44b8ce=await getDoc(_0x381e84);if(!_0x44b8ce[_0x16ad9e(0x290)]())throw new Error('Match\x20report\x20not\x20found');const _0x72e797=_0x44b8ce['data'](),_0x49a08b=_0x72e797['winnerId']&&_0x72e797['winnerId']===_0x2de78e[_0x16ad9e(0x2b9)]||_0x72e797[_0x16ad9e(0x26d)]&&_0x72e797[_0x16ad9e(0x26d)]===_0x2de78e[_0x16ad9e(0x2a3)]||_0x72e797['winnerUsername']&&_0x72e797[_0x16ad9e(0x2ab)]===await getUsernameFromId(_0x2de78e[_0x16ad9e(0x2b9)]);if(!_0x49a08b)throw new Error(_0x16ad9e(0x248));const _0x550489={..._0x72e797,'rejectedAt':serverTimestamp(),'rejectedBy':_0x2de78e[_0x16ad9e(0x2b9)],'rejectionReason':_0x4f1585||_0x16ad9e(0x287),'originalDocumentId':_0x1d6354},_0x4a6129=doc(collection(db,_0xe486a3));return await setDoc(_0x4a6129,_0x550489),await deleteDoc(_0x381e84),console[_0x16ad9e(0x20f)]('Match\x20'+_0x1d6354+_0x16ad9e(0x203)),updatePendingMatchNotification(),!![];}catch(_0x2b12d7){console[_0x16ad9e(0x282)](_0x16ad9e(0x26a),_0x2b12d7);throw _0x2b12d7;}}async function getUsernameFromId(_0x2c0bc3){const _0x5ebebb=a48_0x48973a,_0x1d8793=await getDoc(doc(db,'players',_0x2c0bc3));if(_0x1d8793[_0x5ebebb(0x290)]())return _0x1d8793[_0x5ebebb(0x29b)]()[_0x5ebebb(0x237)];const _0x5d590d=await getDoc(doc(db,'playersD2',_0x2c0bc3));if(_0x5d590d[_0x5ebebb(0x290)]())return _0x5d590d[_0x5ebebb(0x29b)]()['username'];return null;}async function loadOpponentsList(_0x166e27){const _0x1c28b1=a48_0x48973a;try{const _0x5acbf0=document[_0x1c28b1(0x1d6)]('report-error'),_0x5ac74a=document[_0x1c28b1(0x1d6)](_0x1c28b1(0x20d)),_0x192fd8=document[_0x1c28b1(0x1d6)]('winner-username');if(!_0x5acbf0||!_0x5ac74a||!_0x192fd8){console[_0x1c28b1(0x282)](_0x1c28b1(0x1e6));return;}const _0x11349e=currentGameMode==='D1'?_0x1c28b1(0x2a6):currentGameMode==='D2'?_0x1c28b1(0x209):_0x1c28b1(0x21c);console['log'](_0x1c28b1(0x25a)+_0x11349e);const _0x5f3f7e=await getDoc(doc(db,_0x11349e,_0x166e27));if(!_0x5f3f7e[_0x1c28b1(0x290)]()){_0x5acbf0[_0x1c28b1(0x1c5)]=_0x1c28b1(0x1cd)+currentGameMode+'\x20ladder.',_0x5acbf0[_0x1c28b1(0x1a6)][_0x1c28b1(0x235)]=_0x1c28b1(0x295),_0x5ac74a[_0x1c28b1(0x1c5)]='Not\x20registered\x20in\x20this\x20ladder',_0x192fd8[_0x1c28b1(0x265)]=!![];return;}const _0x1b06aa=_0x5f3f7e['data'](),_0x4721cb=_0x1b06aa['username'];_0x5ac74a[_0x1c28b1(0x1c5)]='You\x20('+_0x4721cb+')',_0x5acbf0[_0x1c28b1(0x1c5)]='',_0x192fd8[_0x1c28b1(0x265)]=![];const _0x598af2=collection(db,_0x11349e),_0x128e44=await getDocs(_0x598af2);if(_0x128e44[_0x1c28b1(0x280)]){console[_0x1c28b1(0x20f)](_0x1c28b1(0x223));return;}_0x192fd8[_0x1c28b1(0x229)]=_0x1c28b1(0x243),_0x128e44[_0x1c28b1(0x2a5)](_0x11e76a=>{const _0x145cd9=_0x1c28b1,_0x538553=_0x11e76a[_0x145cd9(0x29b)]();if(_0x11e76a['id']!==_0x166e27){const _0x5eab6e=document[_0x145cd9(0x1b7)]('option');_0x5eab6e[_0x145cd9(0x1bc)]=_0x538553[_0x145cd9(0x237)],_0x5eab6e[_0x145cd9(0x1c5)]=_0x538553[_0x145cd9(0x237)],_0x5eab6e[_0x145cd9(0x1f2)][_0x145cd9(0x2b9)]=_0x11e76a['id'],_0x192fd8[_0x145cd9(0x2aa)](_0x5eab6e);}});}catch(_0x45b8f1){console[_0x1c28b1(0x282)]('Error\x20loading\x20opponents\x20list:',_0x45b8f1),document[_0x1c28b1(0x1d6)](_0x1c28b1(0x1dc))[_0x1c28b1(0x1c5)]=_0x1c28b1(0x274),document[_0x1c28b1(0x1d6)](_0x1c28b1(0x1dc))[_0x1c28b1(0x1a6)][_0x1c28b1(0x235)]=_0x1c28b1(0x295);}}async function checkUserInLadderAndLoadOpponents(_0x2c6a36){const _0x12731e=a48_0x48973a;try{const _0x3da79e=document[_0x12731e(0x1d6)]('report-error'),_0x38a782=document['getElementById'](_0x12731e(0x20d)),_0xd0d474=document['getElementById'](_0x12731e(0x232)),_0x2e324e=document[_0x12731e(0x1d6)]('report-form'),_0x1f5bb8=document[_0x12731e(0x1d6)](_0x12731e(0x1aa));_0x3da79e[_0x12731e(0x1c5)]=_0x12731e(0x217)+currentGameMode+_0x12731e(0x2b3),_0x3da79e['style']['color']=_0x12731e(0x239);const _0x56987f=currentGameMode==='D1'?'players':currentGameMode==='D2'?_0x12731e(0x209):_0x12731e(0x21c);console[_0x12731e(0x20f)](_0x12731e(0x1c9)+_0x56987f);const _0xc0a1bb=await getDoc(doc(db,_0x56987f,_0x2c6a36));if(!_0xc0a1bb[_0x12731e(0x290)]())return _0x3da79e['textContent']='You\x20are\x20not\x20registered\x20in\x20the\x20'+currentGameMode+'\x20ladder.',_0x3da79e[_0x12731e(0x1a6)][_0x12731e(0x235)]=_0x12731e(0x295),_0x38a782[_0x12731e(0x1c5)]=_0x12731e(0x221),_0xd0d474[_0x12731e(0x265)]=!![],_0xd0d474[_0x12731e(0x229)]=_0x12731e(0x243),_0x1f5bb8[_0x12731e(0x1a6)][_0x12731e(0x22d)]='block',_0x1f5bb8[_0x12731e(0x1c5)]=_0x12731e(0x1cd)+currentGameMode+_0x12731e(0x1e3),![];_0x3da79e[_0x12731e(0x1c5)]='',_0x1f5bb8[_0x12731e(0x1a6)][_0x12731e(0x22d)]=_0x12731e(0x257);const _0x310936=_0xc0a1bb['data'](),_0x2585a8=_0x310936[_0x12731e(0x237)];_0x38a782['textContent']='You\x20('+_0x2585a8+')',_0xd0d474[_0x12731e(0x265)]=![],_0x2e324e[_0x12731e(0x1a6)]['display']=_0x12731e(0x22f),await loadOpponentsList(_0x2c6a36);const _0x1aca01=currentGameMode==='D1'?_0x12731e(0x205):currentGameMode==='D2'?_0x12731e(0x256):'pendingMatchesD3';return await checkForOutstandingReports(_0x310936[_0x12731e(0x2a3)],null,_0x1aca01),!![];}catch(_0x219f16){return console[_0x12731e(0x282)]('Error\x20checking\x20if\x20user\x20is\x20in\x20ladder:',_0x219f16),document[_0x12731e(0x1d6)](_0x12731e(0x1dc))[_0x12731e(0x1c5)]=_0x12731e(0x24e),document['getElementById'](_0x12731e(0x1dc))[_0x12731e(0x1a6)][_0x12731e(0x235)]=_0x12731e(0x295),![];}}export async function fetchOutstandingMatches(){const _0x1f6dbd=a48_0x48973a,_0x29c5f9=auth[_0x1f6dbd(0x23f)];if(!_0x29c5f9)return[];try{const _0x3408cb=[],_0x76293=currentGameMode==='D1'?_0x1f6dbd(0x205):currentGameMode==='D2'?_0x1f6dbd(0x256):_0x1f6dbd(0x23c),_0xfdb890=collection(db,_0x76293),_0x566fde=[query(_0xfdb890,where(_0x1f6dbd(0x2a9),'==',_0x29c5f9[_0x1f6dbd(0x2b9)]),where(_0x1f6dbd(0x1d1),'==',![])),query(_0xfdb890,where(_0x1f6dbd(0x1a5),'==',_0x29c5f9[_0x1f6dbd(0x2a3)]),where(_0x1f6dbd(0x1d1),'==',![])),query(_0xfdb890,where('winnerId','==',_0x29c5f9[_0x1f6dbd(0x2b9)]),where(_0x1f6dbd(0x1d1),'==',![])),query(_0xfdb890,where(_0x1f6dbd(0x26d),'==',_0x29c5f9[_0x1f6dbd(0x2a3)]),where('approved','==',![]))],_0x5a84ed=currentGameMode==='D1'?_0x1f6dbd(0x2a6):currentGameMode==='D2'?_0x1f6dbd(0x209):_0x1f6dbd(0x21c),_0x3afff1=await getDocs(query(collection(db,_0x5a84ed),where(_0x1f6dbd(0x2a3),'==',_0x29c5f9[_0x1f6dbd(0x2a3)])));let _0x3de08b=null;!_0x3afff1[_0x1f6dbd(0x280)]&&(_0x3de08b=_0x3afff1[_0x1f6dbd(0x1a8)][0x0][_0x1f6dbd(0x29b)]()[_0x1f6dbd(0x237)],_0x3de08b&&_0x566fde['push'](query(_0xfdb890,where(_0x1f6dbd(0x29c),'==',_0x3de08b),where(_0x1f6dbd(0x1d1),'==',![])),query(_0xfdb890,where('winnerUsername','==',_0x3de08b),where(_0x1f6dbd(0x1d1),'==',![]))));for(const _0x53d2f3 of _0x566fde){const _0x3831a4=await getDocs(_0x53d2f3);!_0x3831a4[_0x1f6dbd(0x280)]&&_0x3831a4[_0x1f6dbd(0x2a5)](_0x55d163=>{const _0x391826=_0x1f6dbd;!_0x3408cb['some'](_0x44ff93=>_0x44ff93['id']===_0x55d163['id'])&&_0x3408cb[_0x391826(0x2af)]({'id':_0x55d163['id'],..._0x55d163[_0x391826(0x29b)]()});});}return _0x3408cb[_0x1f6dbd(0x1e4)]((_0x3d2515,_0x3bd244)=>{const _0x107450=_0x1f6dbd,_0x4d58f3=_0x3d2515[_0x107450(0x25e)]?.[_0x107450(0x1b5)]()||new Date(0x0),_0x5de81f=_0x3bd244['createdAt']?.['toDate']()||new Date(0x0);return _0x5de81f-_0x4d58f3;}),outstandingMatches=_0x3408cb,_0x3408cb;}catch(_0x273dda){return console[_0x1f6dbd(0x282)](_0x1f6dbd(0x22e),_0x273dda),[];}}export function renderOutstandingMatches(){const _0x4cf25e=a48_0x48973a,_0xc33741=document[_0x4cf25e(0x1d6)](_0x4cf25e(0x21b));if(outstandingMatches[_0x4cf25e(0x219)]===0x0){_0xc33741[_0x4cf25e(0x229)]=_0x4cf25e(0x28b);return;}let _0x2d1a00='';const _0x1ccd1c=auth[_0x4cf25e(0x23f)];if(!_0x1ccd1c)return;outstandingMatches[_0x4cf25e(0x2a5)](_0xa79c8d=>{const _0x50c60f=_0x4cf25e,_0x36d192=_0xa79c8d['createdAt']?.['toDate']()?_0xa79c8d[_0x50c60f(0x25e)]['toDate']()[_0x50c60f(0x264)]():'Unknown\x20date',_0x457a20=_0xa79c8d['loserEmail']===_0x1ccd1c[_0x50c60f(0x2a3)]||_0xa79c8d[_0x50c60f(0x2a9)]===_0x1ccd1c['uid'];_0x2d1a00+=_0x50c60f(0x259)+_0xa79c8d['id']+_0x50c60f(0x281)+(_0xa79c8d[_0x50c60f(0x2ab)]||_0x50c60f(0x1b8))+'\x20vs\x20'+(_0xa79c8d[_0x50c60f(0x29c)]||_0x50c60f(0x1e5))+_0x50c60f(0x206)+(_0xa79c8d['mapPlayed']||_0x50c60f(0x249))+_0x50c60f(0x293)+_0x36d192+_0x50c60f(0x1fa)+(_0xa79c8d[_0x50c60f(0x1a1)]||'0')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22match-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20view-detail-btn\x22\x20data-id=\x22'+_0xa79c8d['id']+_0x50c60f(0x2ae)+(_0x457a20?_0x50c60f(0x225)+_0xa79c8d['id']+_0x50c60f(0x253)+_0xa79c8d['id']+_0x50c60f(0x2b1):'')+_0x50c60f(0x1c2);}),_0xc33741[_0x4cf25e(0x229)]=_0x2d1a00,document[_0x4cf25e(0x1e7)](_0x4cf25e(0x28d))[_0x4cf25e(0x2a5)](_0x3068e8=>{const _0x1b709f=_0x4cf25e;_0x3068e8['addEventListener'](_0x1b709f(0x267),function(){const _0xb855e2=_0x1b709f,_0x2565b0=this[_0xb855e2(0x2b0)]('data-id'),_0x444d57=outstandingMatches[_0xb855e2(0x1c1)](_0x4280d2=>_0x4280d2['id']===_0x2565b0);document[_0xb855e2(0x1d6)](_0xb855e2(0x200))[_0xb855e2(0x1ac)][_0xb855e2(0x214)](_0xb855e2(0x1f0)),showMatchLightbox(_0x444d57);});}),document[_0x4cf25e(0x1e7)](_0x4cf25e(0x1cf))[_0x4cf25e(0x2a5)](_0x2a1700=>{const _0x25e785=_0x4cf25e;_0x2a1700['addEventListener'](_0x25e785(0x267),function(){const _0x4964b3=_0x25e785,_0x13aa1c=this[_0x4964b3(0x2b0)](_0x4964b3(0x19f)),_0x2d1416=outstandingMatches['find'](_0x4283f9=>_0x4283f9['id']===_0x13aa1c);document[_0x4964b3(0x1d6)](_0x4964b3(0x200))[_0x4964b3(0x1ac)]['remove']('show'),editReport(_0x2d1416);});}),document[_0x4cf25e(0x1e7)](_0x4cf25e(0x24a))[_0x4cf25e(0x2a5)](_0x52c36e=>{const _0x22fffe=_0x4cf25e;_0x52c36e[_0x22fffe(0x1b3)](_0x22fffe(0x267),function(){const _0x110e5f=_0x22fffe,_0x1b1b02=this[_0x110e5f(0x2b0)](_0x110e5f(0x19f)),_0x4e32b2=outstandingMatches[_0x110e5f(0x1c1)](_0x4329f9=>_0x4329f9['id']===_0x1b1b02);confirm(_0x110e5f(0x2a2)+(_0x4e32b2[_0x110e5f(0x2ab)]||_0x110e5f(0x240))+'?')&&rescindReport(_0x4e32b2);});});}export async function rescindReport(_0x2b4300){const _0x360486=a48_0x48973a;try{const _0x4eab4c=currentGameMode==='D1'?'pendingMatches':currentGameMode==='D2'?'pendingMatchesD2':_0x360486(0x23c),_0x75a7fc=doc(db,_0x4eab4c,_0x2b4300['id']);await deleteDoc(_0x75a7fc),alert(_0x360486(0x233)),await fetchOutstandingMatches(),renderOutstandingMatches();}catch(_0x1dcd57){console[_0x360486(0x282)]('Error\x20rescinding\x20report:',_0x1dcd57),alert(_0x360486(0x279));}}export function editReport(_0x56fc8){const _0x2311f2=a48_0x48973a,_0x59a140=document[_0x2311f2(0x1d6)]('report-form'),_0x232c5d=document[_0x2311f2(0x1d6)](_0x2311f2(0x27a)),_0x45e0f5=document['getElementById']('suicides'),_0x2be5a5=document['getElementById'](_0x2311f2(0x271)),_0x6545a8=document[_0x2311f2(0x1d6)](_0x2311f2(0x261));_0x59a140[_0x2311f2(0x1a6)][_0x2311f2(0x22d)]=_0x2311f2(0x22f),document['getElementById']('auth-warning')['style']['display']=_0x2311f2(0x257);if(_0x56fc8[_0x2311f2(0x1a1)])_0x232c5d[_0x2311f2(0x1bc)]=_0x56fc8['loserScore'];if(_0x56fc8[_0x2311f2(0x1d5)])_0x45e0f5['value']=_0x56fc8[_0x2311f2(0x1d5)];if(_0x56fc8[_0x2311f2(0x25d)])_0x2be5a5[_0x2311f2(0x1bc)]=_0x56fc8[_0x2311f2(0x25d)];if(_0x56fc8[_0x2311f2(0x23d)])_0x6545a8[_0x2311f2(0x1bc)]=_0x56fc8[_0x2311f2(0x23d)];const _0x58d12e=document[_0x2311f2(0x1d6)](_0x2311f2(0x232));_0x58d12e&&_0x56fc8[_0x2311f2(0x2ab)]&&Array[_0x2311f2(0x21a)](_0x58d12e['options'])[_0x2311f2(0x2a5)](_0x5795b9=>{const _0x85ac90=_0x2311f2;_0x5795b9[_0x85ac90(0x227)]===_0x56fc8[_0x85ac90(0x2ab)]&&(_0x5795b9[_0x85ac90(0x283)]=!![]);});const _0x424e25=document['getElementById'](_0x2311f2(0x1ea));_0x424e25&&_0x56fc8['subgameType']&&(_0x424e25[_0x2311f2(0x1bc)]=_0x56fc8[_0x2311f2(0x2b6)]);_0x59a140[_0x2311f2(0x1cb)]('data-edit-id',_0x56fc8['id']);const _0x4e73da=_0x59a140['querySelector'](_0x2311f2(0x2b2));_0x4e73da[_0x2311f2(0x1c5)]=_0x2311f2(0x260);if(!document[_0x2311f2(0x1d6)](_0x2311f2(0x1de))){const _0xccaef8=document[_0x2311f2(0x1b7)](_0x2311f2(0x1f1));_0xccaef8['id']=_0x2311f2(0x1de),_0xccaef8['className']=_0x2311f2(0x22b),_0xccaef8[_0x2311f2(0x1a6)][_0x2311f2(0x1df)]='#6a1b9a',_0xccaef8['style'][_0x2311f2(0x1d9)]='10px',_0xccaef8['textContent']=_0x2311f2(0x1c8),_0xccaef8[_0x2311f2(0x1e1)]=_0x2311f2(0x1f1),_0x4e73da[_0x2311f2(0x285)][_0x2311f2(0x26f)](_0xccaef8,_0x4e73da),_0xccaef8['addEventListener'](_0x2311f2(0x267),function(_0x3b484c){const _0x30d53d=_0x2311f2;_0x3b484c['preventDefault'](),_0x59a140[_0x30d53d(0x1e9)](),_0x59a140[_0x30d53d(0x1b9)](_0x30d53d(0x275)),_0x4e73da[_0x30d53d(0x1c5)]=_0x30d53d(0x2b4),this[_0x30d53d(0x214)](),initReportForm();});}_0x59a140[_0x2311f2(0x1c4)]({'behavior':_0x2311f2(0x1ed)});}function initReportForm(){const _0x325e4b=a48_0x48973a;console[_0x325e4b(0x20f)](_0x325e4b(0x1c0));}export function showMatchLightbox(_0xb0c210){const _0x25b8c5=a48_0x48973a,_0x5f38f4=document[_0x25b8c5(0x1d6)](_0x25b8c5(0x276));document['getElementById'](_0x25b8c5(0x1a7))[_0x25b8c5(0x1c5)]=currentGameMode,document[_0x25b8c5(0x1d6)](_0x25b8c5(0x207))['textContent']=_0xb0c210['winnerUsername']||_0x25b8c5(0x249),document[_0x25b8c5(0x1d6)](_0x25b8c5(0x222))[_0x25b8c5(0x1c5)]=_0xb0c210[_0x25b8c5(0x29c)]||_0x25b8c5(0x249),document[_0x25b8c5(0x1d6)](_0x25b8c5(0x1b2))[_0x25b8c5(0x1c5)]=_0xb0c210['loserScore']||'0',document[_0x25b8c5(0x1d6)]('lightbox-suicides')[_0x25b8c5(0x1c5)]=_0xb0c210[_0x25b8c5(0x1d5)]||'0',document[_0x25b8c5(0x1d6)](_0x25b8c5(0x1b6))[_0x25b8c5(0x1c5)]=_0xb0c210['mapPlayed']||_0x25b8c5(0x249),document['getElementById'](_0x25b8c5(0x2a4))[_0x25b8c5(0x1c5)]=_0xb0c210[_0x25b8c5(0x23d)]||'No\x20comment',document[_0x25b8c5(0x1d6)](_0x25b8c5(0x1be))[_0x25b8c5(0x1c5)]=_0xb0c210[_0x25b8c5(0x2b6)]||_0x25b8c5(0x20e),_0x5f38f4[_0x25b8c5(0x1ac)]['add'](_0x25b8c5(0x1f0));}export function setCurrentGameMode(_0x205866){currentGameMode=_0x205866;}export function initOutstandingMatches(){const _0x17dabe=a48_0x48973a;document[_0x17dabe(0x1b3)](_0x17dabe(0x213),()=>{const _0x2b2b88=_0x17dabe,_0x49937a=document[_0x2b2b88(0x1d6)]('view-outstanding-btn'),_0x45404b=document[_0x2b2b88(0x1d6)](_0x2b2b88(0x2b8)),_0x19f205=document[_0x2b2b88(0x1d6)](_0x2b2b88(0x200)),_0x365da3=document[_0x2b2b88(0x1d6)](_0x2b2b88(0x204)),_0x263709=document[_0x2b2b88(0x1d6)](_0x2b2b88(0x1ad)),_0x4719cd=document['getElementById']('d1-mode'),_0x1e026b=document['getElementById'](_0x2b2b88(0x296)),_0x39d15f=document[_0x2b2b88(0x1d6)](_0x2b2b88(0x1d4));if(_0x4719cd)_0x4719cd[_0x2b2b88(0x1b3)](_0x2b2b88(0x267),()=>{setCurrentGameMode('D1');});if(_0x1e026b)_0x1e026b[_0x2b2b88(0x1b3)](_0x2b2b88(0x267),()=>{setCurrentGameMode('D2');});if(_0x39d15f)_0x39d15f[_0x2b2b88(0x1b3)](_0x2b2b88(0x267),()=>{setCurrentGameMode('D3');});auth[_0x2b2b88(0x20c)](_0x3d55ba=>{const _0x5deced=_0x2b2b88;_0x3d55ba?_0x45404b[_0x5deced(0x1a6)][_0x5deced(0x22d)]=_0x5deced(0x22f):_0x45404b[_0x5deced(0x1a6)][_0x5deced(0x22d)]=_0x5deced(0x257);});_0x49937a&&_0x49937a[_0x2b2b88(0x1b3)](_0x2b2b88(0x267),async()=>{const _0x5f48cd=_0x2b2b88;_0x19f205[_0x5f48cd(0x1ac)]['add']('show'),document['getElementById'](_0x5f48cd(0x21b))[_0x5f48cd(0x229)]='<div\x20class=\x22loading\x22>Loading\x20your\x20matches...</div>',await fetchOutstandingMatches(),renderOutstandingMatches();});_0x365da3&&_0x365da3[_0x2b2b88(0x1b3)]('click',()=>{const _0x1852da=_0x2b2b88;_0x19f205[_0x1852da(0x1ac)][_0x1852da(0x214)](_0x1852da(0x1f0));});_0x263709&&_0x263709[_0x2b2b88(0x1b3)](_0x2b2b88(0x267),()=>{const _0x4ee521=_0x2b2b88;document[_0x4ee521(0x1d6)]('report-lightbox')['classList']['remove'](_0x4ee521(0x1f0));});_0x19f205&&_0x19f205[_0x2b2b88(0x1b3)](_0x2b2b88(0x267),_0x14c2c5=>{const _0x4071ac=_0x2b2b88;_0x14c2c5['target']===_0x19f205&&_0x19f205['classList'][_0x4071ac(0x214)](_0x4071ac(0x1f0));});const _0x653d63=document[_0x2b2b88(0x1d6)](_0x2b2b88(0x276));_0x653d63&&_0x653d63[_0x2b2b88(0x1b3)](_0x2b2b88(0x267),_0xcf0137=>{const _0x18e942=_0x2b2b88;_0xcf0137[_0x18e942(0x1da)]===_0x653d63&&_0x653d63[_0x18e942(0x1ac)][_0x18e942(0x214)]('show');});const _0x495e60=document[_0x2b2b88(0x1d6)]('report-form');if(_0x495e60){const _0x2b46a5=_0x495e60[_0x2b2b88(0x291)];_0x495e60[_0x2b2b88(0x291)]=async function(_0x1a3823){const _0x3ba6c5=_0x2b2b88;_0x1a3823[_0x3ba6c5(0x228)]();const _0xd46f7a=this[_0x3ba6c5(0x2b0)]('data-edit-id');if(_0xd46f7a)try{const _0xf2e644=document[_0x3ba6c5(0x1d6)]('loser-score')[_0x3ba6c5(0x1bc)],_0x468501=document['getElementById'](_0x3ba6c5(0x254))[_0x3ba6c5(0x1bc)],_0x4fe1ef=document[_0x3ba6c5(0x1d6)](_0x3ba6c5(0x271))['value'],_0x5aa300=document['getElementById'](_0x3ba6c5(0x261))[_0x3ba6c5(0x1bc)],_0x303113=currentGameMode==='D1'?_0x3ba6c5(0x205):currentGameMode==='D2'?_0x3ba6c5(0x256):_0x3ba6c5(0x23c),_0x5371ca=doc(db,_0x303113,_0xd46f7a);await updateDoc(_0x5371ca,{'loserScore':Number(_0xf2e644),'loserSuicides':Number(_0x468501),'mapPlayed':_0x4fe1ef,'loserComment':_0x5aa300,'subgameType':document[_0x3ba6c5(0x1d6)](_0x3ba6c5(0x1ea))[_0x3ba6c5(0x1bc)],'updatedAt':new Date()}),alert(_0x3ba6c5(0x1d0)),this[_0x3ba6c5(0x1e9)](),this[_0x3ba6c5(0x1b9)](_0x3ba6c5(0x275));const _0x26ab75=this[_0x3ba6c5(0x208)](_0x3ba6c5(0x2b2));_0x26ab75[_0x3ba6c5(0x1c5)]=_0x3ba6c5(0x2b4);const _0x4ea252=document[_0x3ba6c5(0x1d6)](_0x3ba6c5(0x1de));if(_0x4ea252)_0x4ea252[_0x3ba6c5(0x214)]();}catch(_0xf85fed){console['error']('Error\x20updating\x20report:',_0xf85fed),document[_0x3ba6c5(0x1d6)](_0x3ba6c5(0x1dc))[_0x3ba6c5(0x1c5)]='Failed\x20to\x20update\x20report.\x20Please\x20try\x20again.';}else typeof _0x2b46a5===_0x3ba6c5(0x1e0)&&_0x2b46a5[_0x3ba6c5(0x286)](this,_0x1a3823);};}});}typeof window!=='undefined'&&(window[a48_0x48973a(0x1a3)]=showMatchLightbox,window['editReport']=editReport,window['rescindReport']=rescindReport,window[a48_0x48973a(0x26c)]=fetchOutstandingMatches,window[a48_0x48973a(0x266)]=renderOutstandingMatches);initOutstandingMatches();