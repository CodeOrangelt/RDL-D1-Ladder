const a46_0x23f09a=a46_0x38e0,a46_0xc40cc5=(function(){let _0x20e32e=!![];return function(_0x2f571b,_0x3f6c68){const _0x28c9ae=_0x20e32e?function(){if(_0x3f6c68){const _0x41e870=_0x3f6c68['apply'](_0x2f571b,arguments);return _0x3f6c68=null,_0x41e870;}}:function(){};return _0x20e32e=![],_0x28c9ae;};}()),a46_0x4d538a=a46_0xc40cc5(this,function(){const _0x477884=a46_0x38e0;let _0x26f3fb;try{const _0x59ee3f=Function(_0x477884(0x1fe)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x26f3fb=_0x59ee3f();}catch(_0x5d7420){_0x26f3fb=window;}const _0x4a5cce=_0x26f3fb['console']=_0x26f3fb['console']||{},_0x17646f=['log',_0x477884(0x200),_0x477884(0x205),'error','exception',_0x477884(0x1b2),_0x477884(0x1b3)];for(let _0x2c6116=0x0;_0x2c6116<_0x17646f[_0x477884(0x1d9)];_0x2c6116++){const _0x2430a7=a46_0xc40cc5['constructor'][_0x477884(0x202)][_0x477884(0x1a2)](a46_0xc40cc5),_0x2dda8c=_0x17646f[_0x2c6116],_0x2eb5ee=_0x4a5cce[_0x2dda8c]||_0x2430a7;_0x2430a7['__proto__']=a46_0xc40cc5['bind'](a46_0xc40cc5),_0x2430a7['toString']=_0x2eb5ee['toString']['bind'](_0x2eb5ee),_0x4a5cce[_0x2dda8c]=_0x2430a7;}});a46_0x4d538a();import{collection,getDocs,query,orderBy,limit,where,startAfter}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';function a46_0x2f09(){const _0xc715a9=['\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-name\x20','slice','now','\x20matches','min','active','loserScore','records-stats','\x20players','footer-placeholder','entries','click','.chart-container','suicideRate','bronze','\x20matches...','<div\x20class=\x22loading-msg\x22>Error\x20loading\x20data</div>','innerHTML','bind','mapStatsChart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-stats-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>üó∫Ô∏è\x20Most\x20Played\x20Maps\x20-\x20','values','winnerScore','none','toFixed','‚ö†Ô∏è\x20No\x20maps\x20found\x20in\x20match\x20data','\x20suicides\x20in\x20','has','value','push','loserSuicides','message','username','from','table','trace','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tier-count\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','string','data','forEach','emerald','N/A','load-more-btn','\x22\x20not\x20found.','üìä\x20Found\x20','totalMatches','toLocaleDateString',')</span>','querySelectorAll','losses','totalSuicides','approvedMatchesD2','insertBefore','set','text','isLoadingMore','remove','currentGameMode','keys','toISOString','\x20mode...','loserUsername','üîÑ\x20Loading\x20map\x20stats\x20for\x20','topPlayer','Error','textContent','üìä\x20Calculated\x20stats\x20for\x20','error','eloRating','‚ùå\x20Error\x20loading\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22record-stat\x22>(','timestamp','nav-placeholder','length','div','%)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22map-rank\x22>#','.map-stats-container','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading\x20complete\x20dataset...','\x20matches\x20(','filter','\x20records...','cache','‚úÖ\x20Using\x20cached\x20','\x20total','createElement','least-suicides','winnerUsername','get','playerSnapshot','parentElement','size','wins','\x20matches\x0a\x20\x20\x20\x20\x20\x20\x20\x20','some','head','\x20maps\x20shown','‚úÖ\x20Map\x20stats\x20displayed:\x20','className','all','querySelector','Error\x20loading\x20complete\x20data\x20-\x20Click\x20to\x20retry','.tier-players','classList','players','winRate','log','best-winrate','<div\x20class=\x22loading-msg\x22>No\x20players\x20in\x20this\x20tier</div>','üìä\x20Loaded:\x20','position','return\x20(function()\x20','getElementById','warn','</div>','prototype','‚úÖ\x20Simple\x20map\x20query\x20successful:\x20','playerSnapshot\x20not\x20provided\x20to\x20updateTopPlayersByTier','info','<div\x20class=\x22loading-msg\x22>Processing...</div>','kdRatio'];a46_0x2f09=function(){return _0xc715a9;};return a46_0x2f09();}import{db}from'./firebase-config.js';const MIN_MATCHES_REQUIREMENT=0xa,CACHE_DURATION_MS=0x1e*0x3c*0x3e8,MAX_PLAYERS_PER_BATCH=0x32,MAX_MATCHES_PER_BATCH=0x64,state={'currentGameMode':'D1','cache':{'D1':{'playerStats':null,'playerSnapshot':null,'matchSnapshot':null,'timestamp':0x0,'fullDataLoaded':![]},'D2':{'playerStats':null,'playerSnapshot':null,'matchSnapshot':null,'timestamp':0x0,'fullDataLoaded':![]}},'isLoadingMore':![]};let mapChart=null;console['log']('üöÄ\x20Ultra-optimized\x20records.js\x20loaded!'),console['log']('üìä\x20This\x20page\x20now\x20uses\x20~50\x20reads\x20instead\x20of\x201000+!');function getPlayerTier(_0x41f57f){const _0x4da54a=a46_0x38e0;if(_0x41f57f===undefined||_0x41f57f===null)return'default';const _0x38225f=Number(_0x41f57f);if(isNaN(_0x38225f))return'default';if(_0x38225f>=0x7d0)return _0x4da54a(0x1b8);if(_0x38225f>=0x708)return'gold';if(_0x38225f>=0x640)return'silver';if(_0x38225f>=0x578)return _0x4da54a(0x19e);return'default';}function updateRecordCard(_0x8ec59b,_0x93125,_0x14c7e7='',_0x36af73=![]){const _0x1f89ea=a46_0x38e0,_0x14ae58=document[_0x1f89ea(0x1ff)](_0x8ec59b);if(!_0x14ae58){console[_0x1f89ea(0x200)]('Element\x20with\x20ID\x20\x22'+_0x8ec59b+_0x1f89ea(0x1bb));return;}const _0x34c13d=getPlayerTier(_0x93125['elo']);let _0x34fe84=_0x93125['value'];_0x36af73&&_0x93125['value']>0x0&&(_0x34fe84='+'+_0x93125['value']),_0x14ae58['innerHTML']='<span\x20class=\x22player-name\x20'+_0x34c13d+'-rank\x22>'+_0x93125['username']+'</span>\x20<span\x20class=\x22record-stat\x22>('+_0x34fe84+_0x14c7e7+_0x1f89ea(0x1bf);}async function loadRecords(){const _0x1c027f=a46_0x38e0;try{console['log']('üîÑ\x20Loading\x20'+state[_0x1c027f(0x1c9)]+_0x1c027f(0x1e0)),document['querySelectorAll']('.record-value')['forEach'](_0x4a6b0d=>_0x4a6b0d[_0x1c027f(0x1d1)]='Loading...'),document['querySelectorAll']('.tier-players')[_0x1c027f(0x1b7)](_0x364386=>_0x364386['innerHTML']='<div\x20class=\x22loading-msg\x22>Loading\x20players...</div>');const _0x1be1c6=state[_0x1c027f(0x1c9)],_0x1eaafa=_0x1be1c6==='D1'?_0x1c027f(0x1f7):'playersD2',_0x4ce70e=_0x1be1c6==='D1'?'approvedMatches':'approvedMatchesD2',_0x115850=Date['now'](),_0x40475b=state['cache'][_0x1be1c6];if(_0x40475b['playerStats']&&_0x40475b['playerSnapshot']&&_0x115850-_0x40475b[_0x1c027f(0x1d7)]<CACHE_DURATION_MS){console['log'](_0x1c027f(0x1e2)+_0x1be1c6+'\x20records\x20data'),updateRecordDisplay(_0x40475b['playerStats']),await updateTopPlayersByTier(_0x40475b['playerSnapshot']),updateSummaryStats(_0x40475b[_0x1c027f(0x1e8)]);return;}console['log']('üì•\x20Fetching\x20ALL\x20data\x20from\x20'+_0x1eaafa+'\x20and\x20'+_0x4ce70e+'...');const _0x1eb12b=collection(db,_0x1eaafa),_0x45c209=collection(db,_0x4ce70e),[_0x39efbf,_0x432171]=await Promise['all']([getDocs(_0x1eb12b),getDocs(_0x45c209)]);console['log'](_0x1c027f(0x1fc)+_0x39efbf['size']+'\x20players,\x20'+_0x432171[_0x1c027f(0x1ea)]+_0x1c027f(0x193));const _0x17697d=await calculateOptimizedStats(_0x39efbf,_0x432171,_0x1be1c6);console[_0x1c027f(0x1f9)]('üìä\x20Calculated\x20stats\x20for\x20'+_0x17697d['size']+_0x1c027f(0x198)),state['cache'][_0x1be1c6]={'playerStats':_0x17697d,'playerSnapshot':_0x39efbf,'matchSnapshot':_0x432171,'timestamp':_0x115850,'fullDataLoaded':!![]},updateRecordDisplay(_0x17697d),await updateTopPlayersByTier(_0x39efbf),updateSummaryStats(_0x39efbf),console['log']('‚úÖ\x20Records\x20loaded\x20successfully!');}catch(_0x2e2133){console['error'](_0x1c027f(0x1d5)+state[_0x1c027f(0x1c9)]+'\x20records:',_0x2e2133),document[_0x1c027f(0x1c0)]('.record-value')['forEach'](_0x34d548=>_0x34d548['textContent']=_0x1c027f(0x1d0)),document['querySelectorAll']('.tier-players')['forEach'](_0x9e7a97=>{const _0x26d958=_0x1c027f;_0x9e7a97['innerHTML']=_0x26d958(0x1a0);});}}async function calculateOptimizedStats(_0x5760b0,_0x15ccc0,_0x58034c){const _0xff3d51=a46_0x38e0,_0x34acf1=new Map(),_0x421d63=new Map();return _0x15ccc0[_0xff3d51(0x1b7)](_0x435881=>{const _0x1a36f9=_0xff3d51,_0x54c302=_0x435881['data']();if(!_0x54c302['winnerUsername']||!_0x54c302[_0x1a36f9(0x1cd)])return;!_0x421d63['has'](_0x54c302['winnerUsername'])&&_0x421d63['set'](_0x54c302['winnerUsername'],{'wins':[],'losses':[]}),!_0x421d63[_0x1a36f9(0x1ab)](_0x54c302['loserUsername'])&&_0x421d63['set'](_0x54c302[_0x1a36f9(0x1cd)],{'wins':[],'losses':[]}),_0x421d63['get'](_0x54c302[_0x1a36f9(0x1e6)])['wins'][_0x1a36f9(0x1ad)](_0x54c302),_0x421d63['get'](_0x54c302[_0x1a36f9(0x1cd)])['losses']['push'](_0x54c302);}),_0x5760b0['forEach'](_0x11d4a2=>{const _0x55edb0=_0xff3d51,_0x3e2dce=_0x11d4a2[_0x55edb0(0x1b6)](),_0x347b6a=_0x3e2dce['username'];if(!_0x347b6a)return;const _0x4cde8d=_0x421d63[_0x55edb0(0x1e7)](_0x347b6a)||{'wins':[],'losses':[]},_0x6827c4=_0x4cde8d[_0x55edb0(0x1eb)]['length'],_0x315cc4=_0x4cde8d[_0x55edb0(0x1c1)][_0x55edb0(0x1d9)],_0x51d718=_0x6827c4+_0x315cc4;let _0x26936f=0x0,_0x1df3cf=0x0,_0x2955fe=0x0,_0x66881b=0x0;_0x4cde8d[_0x55edb0(0x1eb)][_0x55edb0(0x1b7)](_0x554071=>{const _0x24c855=_0x55edb0,_0x8fdc0e=parseInt(_0x554071[_0x24c855(0x1a6)])||0x0,_0x1420f7=parseInt(_0x554071['loserScore'])||0x0;_0x26936f+=_0x8fdc0e,_0x1df3cf+=_0x1420f7,_0x2955fe+=parseInt(_0x554071['winnerSuicides'])||0x0,_0x66881b+=_0x8fdc0e-_0x1420f7;}),_0x4cde8d[_0x55edb0(0x1c1)][_0x55edb0(0x1b7)](_0x29a38a=>{const _0x4e3042=_0x55edb0,_0x42156c=parseInt(_0x29a38a['winnerScore'])||0x0,_0x42aeb3=parseInt(_0x29a38a['loserScore'])||0x0;_0x26936f+=_0x42aeb3,_0x1df3cf+=_0x42156c,_0x2955fe+=parseInt(_0x29a38a[_0x4e3042(0x1ae)])||0x0,_0x66881b-=_0x42156c-_0x42aeb3;});const _0x57fc54=_0x1df3cf>0x0?parseFloat((_0x26936f/_0x1df3cf)['toFixed'](0x2)):_0x26936f,_0x5c8afd=_0x51d718>0x0?parseFloat((_0x6827c4/_0x51d718*0x64)['toFixed'](0x1)):0x0;_0x34acf1['set'](_0x347b6a,{'wins':_0x6827c4,'losses':_0x315cc4,'totalMatches':_0x51d718,'kdRatio':_0x57fc54,'winRate':_0x5c8afd,'totalKills':_0x26936f,'totalDeaths':_0x1df3cf,'totalSuicides':_0x2955fe,'scoreDifferential':_0x66881b,'eloRating':_0x3e2dce['eloRating']||0x4b0,'position':_0x3e2dce[_0x55edb0(0x1fd)],'isPartialData':!![]});}),console[_0xff3d51(0x1f9)](_0xff3d51(0x1d2)+_0x34acf1[_0xff3d51(0x1ea)]+'\x20players\x20from\x20optimized\x20dataset'),_0x34acf1;}function addLoadMoreOption(_0x1cc36a){const _0x569b64=a46_0x38e0,_0x24e078=state[_0x569b64(0x1e1)][_0x1cc36a];if(_0x24e078['fullDataLoaded'])return;const _0x3422f2=document[_0x569b64(0x1f3)]('.records-grid')||document['querySelector']('.records');if(_0x3422f2&&!document['getElementById']('load-more-btn')){const _0x50dc57=document['createElement']('button');_0x50dc57['id']=_0x569b64(0x1ba),_0x50dc57[_0x569b64(0x1f1)]=_0x569b64(0x1ba),_0x50dc57[_0x569b64(0x1a1)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Load\x20Complete\x20Dataset\x20(All\x20Players\x20&\x20Matches)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small>May\x20take\x20longer\x20but\x20shows\x20complete\x20statistics</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x50dc57['addEventListener'](_0x569b64(0x19b),()=>loadCompleteDataset(_0x1cc36a)),_0x3422f2['appendChild'](_0x50dc57);}}async function loadCompleteDataset(_0x3eefe9){const _0x5cc02d=a46_0x38e0;if(state[_0x5cc02d(0x1c7)])return;state[_0x5cc02d(0x1c7)]=!![];const _0x1b27d7=document['getElementById'](_0x5cc02d(0x1ba));_0x1b27d7&&(_0x1b27d7[_0x5cc02d(0x1a1)]=_0x5cc02d(0x1dd),_0x1b27d7['disabled']=!![]);try{console['log']('üîÑ\x20Loading\x20COMPLETE\x20dataset\x20(this\x20will\x20use\x20more\x20reads)...');const _0x63c208=_0x3eefe9==='D1'?'players':'playersD2',_0x44a853=_0x3eefe9==='D1'?'approvedMatches':_0x5cc02d(0x1c3),_0x5b07d9=collection(db,_0x63c208),_0x3c5a19=collection(db,_0x44a853),[_0x4b68ff,_0x5d01ee]=await Promise[_0x5cc02d(0x1f2)]([getDocs(_0x5b07d9),getDocs(_0x3c5a19)]);console['log']('üìä\x20Complete\x20dataset:\x20'+_0x4b68ff['size']+'\x20players,\x20'+_0x5d01ee[_0x5cc02d(0x1ea)]+'\x20matches');const _0x1e7b8e=await calculateCompleteStats(_0x4b68ff,_0x5d01ee);state['cache'][_0x3eefe9]={'playerStats':_0x1e7b8e,'playerSnapshot':_0x4b68ff,'matchSnapshot':_0x5d01ee,'timestamp':Date[_0x5cc02d(0x192)](),'fullDataLoaded':!![]},updateRecordDisplay(_0x1e7b8e),await updateTopPlayersByTier(_0x4b68ff),updateSummaryStats(_0x4b68ff),_0x1b27d7&&_0x1b27d7['remove'](),console['log']('‚úÖ\x20Complete\x20dataset\x20loaded\x20successfully!');}catch(_0x484f81){console['error']('Error\x20loading\x20complete\x20dataset:',_0x484f81),_0x1b27d7&&(_0x1b27d7[_0x5cc02d(0x1a1)]=_0x5cc02d(0x1f4),_0x1b27d7['disabled']=![]);}finally{state['isLoadingMore']=![];}}async function calculateCompleteStats(_0x3d675f,_0x39ceda){const _0x3ba5ce=a46_0x38e0,_0x5ececa=new Map(),_0x4d71ef=new Map();return _0x39ceda[_0x3ba5ce(0x1b7)](_0x30b6ed=>{const _0x3db3e9=_0x3ba5ce,_0x266ccc=_0x30b6ed['data']();if(!_0x266ccc['winnerUsername']||!_0x266ccc['loserUsername'])return;!_0x4d71ef['has'](_0x266ccc['winnerUsername'])&&_0x4d71ef[_0x3db3e9(0x1c5)](_0x266ccc[_0x3db3e9(0x1e6)],{'wins':[],'losses':[]}),!_0x4d71ef[_0x3db3e9(0x1ab)](_0x266ccc[_0x3db3e9(0x1cd)])&&_0x4d71ef['set'](_0x266ccc['loserUsername'],{'wins':[],'losses':[]}),_0x4d71ef['get'](_0x266ccc['winnerUsername'])['wins']['push'](_0x266ccc),_0x4d71ef['get'](_0x266ccc[_0x3db3e9(0x1cd)])['losses']['push'](_0x266ccc);}),_0x3d675f['forEach'](_0x2a8cb5=>{const _0x52f98a=_0x3ba5ce,_0x540109=_0x2a8cb5[_0x52f98a(0x1b6)](),_0x250369=_0x540109['username'];if(!_0x250369)return;const _0x136272=_0x4d71ef['get'](_0x250369)||{'wins':[],'losses':[]},_0xba574e=_0x136272['wins']['length'],_0x3ea819=_0x136272['losses']['length'],_0xe03a21=_0xba574e+_0x3ea819;let _0x23e42f=0x0,_0x1e3c29=0x0,_0x4f62ba=0x0,_0xfb584c=0x0;_0x136272[_0x52f98a(0x1eb)][_0x52f98a(0x1b7)](_0x2ff992=>{const _0x575da0=_0x52f98a,_0x684399=parseInt(_0x2ff992[_0x575da0(0x1a6)])||0x0,_0x393f2c=parseInt(_0x2ff992[_0x575da0(0x196)])||0x0;_0x23e42f+=_0x684399,_0x1e3c29+=_0x393f2c,_0x4f62ba+=parseInt(_0x2ff992['winnerSuicides'])||0x0,_0xfb584c+=_0x684399-_0x393f2c;}),_0x136272['losses']['forEach'](_0x4c47db=>{const _0x26300e=_0x52f98a,_0x2c6b6a=parseInt(_0x4c47db['winnerScore'])||0x0,_0x2f2200=parseInt(_0x4c47db['loserScore'])||0x0;_0x23e42f+=_0x2f2200,_0x1e3c29+=_0x2c6b6a,_0x4f62ba+=parseInt(_0x4c47db[_0x26300e(0x1ae)])||0x0,_0xfb584c-=_0x2c6b6a-_0x2f2200;});const _0x2e3562=_0x1e3c29>0x0?parseFloat((_0x23e42f/_0x1e3c29)[_0x52f98a(0x1a8)](0x2)):_0x23e42f,_0x422a3f=_0xe03a21>0x0?parseFloat((_0xba574e/_0xe03a21*0x64)['toFixed'](0x1)):0x0;_0x5ececa['set'](_0x250369,{'wins':_0xba574e,'losses':_0x3ea819,'totalMatches':_0xe03a21,'kdRatio':_0x2e3562,'winRate':_0x422a3f,'totalKills':_0x23e42f,'totalDeaths':_0x1e3c29,'totalSuicides':_0x4f62ba,'scoreDifferential':_0xfb584c,'eloRating':_0x540109['eloRating']||0x4b0,'position':_0x540109['position'],'isPartialData':![]});}),_0x5ececa;}function updateRecordDisplay(_0x5eda41){const _0x52cf17=a46_0x38e0;if(!_0x5eda41||_0x5eda41['size']===0x0){console['warn']('No\x20player\x20stats\x20available\x20to\x20display\x20records.'),document['querySelectorAll']('.record-value')['forEach'](_0x3afd6e=>_0x3afd6e[_0x52cf17(0x1d1)]='N/A');return;}let _0x330cff={'username':_0x52cf17(0x1b9),'value':0x0,'elo':0x0},_0x58b326={'username':'N/A','value':0x0,'elo':0x0},_0xe43ca8={'username':'N/A','value':0x0,'elo':0x0},_0x4b152a={'username':'N/A','value':0x0,'elo':0x0},_0x42f363={'username':'N/A','value':-Infinity,'elo':0x0},_0x14da09={'username':'N/A','value':0x0,'elo':0x0},_0x3af947=null,_0x3230ad=Infinity,_0x4763ab={'username':_0x52cf17(0x1b9),'value':0x0,'elo':0x0},_0x51cc44={'username':'N/A','value':0x0,'elo':0x0};for(const [_0x43a602,_0x2f5245]of _0x5eda41){const _0x270b53=_0x2f5245['eloRating']||0x0;if(_0x2f5245['wins']>_0x330cff[_0x52cf17(0x1ac)])_0x330cff={'username':_0x43a602,'value':_0x2f5245[_0x52cf17(0x1eb)],'elo':_0x270b53};if(_0x2f5245['totalMatches']>=MIN_MATCHES_REQUIREMENT&&_0x2f5245['winRate']>_0x58b326['value'])_0x58b326={'username':_0x43a602,'value':_0x2f5245['winRate'],'elo':_0x270b53};if(_0x2f5245['totalMatches']>=MIN_MATCHES_REQUIREMENT&&_0x2f5245['kdRatio']>_0xe43ca8['value'])_0xe43ca8={'username':_0x43a602,'value':_0x2f5245[_0x52cf17(0x207)],'elo':_0x270b53};if(_0x2f5245['totalMatches']>_0x4b152a['value'])_0x4b152a={'username':_0x43a602,'value':_0x2f5245['totalMatches'],'elo':_0x270b53};if(_0x2f5245['totalMatches']>=MIN_MATCHES_REQUIREMENT&&_0x2f5245['scoreDifferential']>_0x42f363['value'])_0x42f363={'username':_0x43a602,'value':_0x2f5245['scoreDifferential'],'elo':_0x270b53};if(_0x2f5245['losses']>_0x14da09['value'])_0x14da09={'username':_0x43a602,'value':_0x2f5245['losses'],'elo':_0x270b53};if(_0x2f5245[_0x52cf17(0x1bd)]>=MIN_MATCHES_REQUIREMENT&&_0x2f5245['totalSuicides']>=0x0){const _0x49ed30=_0x2f5245['totalSuicides']/_0x2f5245['totalMatches']*0x64;_0x49ed30<_0x3230ad&&(_0x3230ad=_0x49ed30,_0x3af947={'username':_0x43a602,'suicideRate':_0x49ed30,'totalSuicides':_0x2f5245['totalSuicides'],'totalMatches':_0x2f5245[_0x52cf17(0x1bd)],'elo':_0x270b53});}if(_0x2f5245['totalKills']>_0x4763ab['value'])_0x4763ab={'username':_0x43a602,'value':_0x2f5245['totalKills'],'elo':_0x270b53};if(_0x2f5245['eloRating']>_0x51cc44[_0x52cf17(0x1ac)])_0x51cc44={'username':_0x43a602,'value':Math['round'](_0x2f5245[_0x52cf17(0x1d4)]),'elo':_0x270b53};}updateRecordCard('most-wins',_0x330cff),updateRecordCard(_0x52cf17(0x1fa),_0x58b326,'%'),updateRecordCard('best-kd',_0xe43ca8),updateRecordCard('most-matches',_0x4b152a),updateRecordCard('best-differential',_0x42f363,'',!![]),updateRecordCard('most-losses',_0x14da09);const _0x2a5093=document['getElementById']('least-suicides');if(_0x3af947&&_0x2a5093){const _0x561b06=getPlayerTier(_0x3af947['elo']);_0x2a5093['innerHTML']=_0x52cf17(0x190)+_0x561b06+'-rank\x22>'+_0x3af947['username']+_0x52cf17(0x1d6)+_0x3af947['suicideRate']['toFixed'](0x2)+'%)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22record-detail\x22>'+_0x3af947[_0x52cf17(0x1c2)]+_0x52cf17(0x1aa)+_0x3af947['totalMatches']+'\x20matches</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}else _0x2a5093&&(_0x2a5093['textContent']='No\x20data\x20available');updateRecordCard('most-kills',_0x4763ab),updateRecordCard('best-elo',_0x51cc44);const _0x37184b=Array[_0x52cf17(0x1b1)](_0x5eda41[_0x52cf17(0x1a5)]())[_0x52cf17(0x1ed)](_0x59d7b6=>_0x59d7b6['isPartialData']);_0x37184b&&addPartialDataIndicator(),updateHiddenStatsDiv(_0x5eda41);}function addPartialDataIndicator(){const _0x2d75d1=a46_0x38e0,_0x44b0d2=document['querySelector']('.records-grid')||document['querySelector']('.records');if(_0x44b0d2&&!document['querySelector']('.partial-data-indicator')){const _0x3c0d81=document[_0x2d75d1(0x1e4)]('div');_0x3c0d81[_0x2d75d1(0x1f1)]='partial-data-indicator',_0x3c0d81[_0x2d75d1(0x1a1)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-info-circle\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Showing\x20results\x20from\x20top\x20'+MAX_PLAYERS_PER_BATCH+'\x20players\x20and\x20recent\x20'+MAX_MATCHES_PER_BATCH+_0x2d75d1(0x1ec),_0x44b0d2[_0x2d75d1(0x1c4)](_0x3c0d81,_0x44b0d2['firstChild']);}}async function loadMapStats(){const _0x52b18b=a46_0x38e0;try{console['log'](_0x52b18b(0x1ce)+state['currentGameMode']+'...');const _0x1be9bd=state['currentGameMode'],_0x4e81c1=state['cache'][_0x1be9bd];let _0x25260a;if(_0x4e81c1['matchSnapshot']&&Date[_0x52b18b(0x192)]()-_0x4e81c1['timestamp']<CACHE_DURATION_MS)console['log']('‚úÖ\x20Using\x20cached\x20match\x20data\x20for\x20map\x20stats\x20(from\x20loadRecords)'),_0x25260a=_0x4e81c1['matchSnapshot'];else{console[_0x52b18b(0x1f9)]('üîÑ\x20Fetching\x20matches\x20for\x20map\x20stats\x20(separate\x20query)...');const _0x1d1015=_0x1be9bd==='D1'?'approvedMatches':_0x52b18b(0x1c3),_0x467d16=collection(db,_0x1d1015);console['log']('üì•\x20Using\x20simple\x20getDocs\x20(no\x20orderBy\x20to\x20avoid\x20index\x20issues)...'),_0x25260a=await getDocs(_0x467d16),console['log'](_0x52b18b(0x203)+_0x25260a['size']+'\x20matches');}console[_0x52b18b(0x1f9)]('üìä\x20Processing\x20map\x20stats\x20from\x20'+_0x25260a[_0x52b18b(0x1ea)]+_0x52b18b(0x19f));const _0x49c1fc=new Map(),_0x9e5861=new Map();let _0x42fc29=0x0;_0x25260a['forEach'](_0x1f3390=>{const _0x431bdf=_0x52b18b,_0x2f34fc=_0x1f3390['data'](),_0x9c5d4f=_0x2f34fc['mapPlayed']||_0x2f34fc['map']||_0x2f34fc['mapName']||_0x2f34fc['level'];if(_0x9c5d4f&&typeof _0x9c5d4f===_0x431bdf(0x1b5)&&_0x9c5d4f['trim']()['length']>0x0){const _0x2126f5=_0x9c5d4f['toLowerCase']()['trim']();_0x49c1fc['set'](_0x2126f5,(_0x49c1fc['get'](_0x2126f5)||0x0)+0x1),!_0x9e5861['has'](_0x2126f5)&&_0x9e5861['set'](_0x2126f5,{}),_0x9e5861['get'](_0x2126f5)[_0x9c5d4f]=(_0x9e5861['get'](_0x2126f5)[_0x9c5d4f]||0x0)+0x1,_0x42fc29++;}}),console[_0x52b18b(0x1f9)]('üìä\x20Processed\x20'+_0x42fc29+'\x20matches\x20with\x20map\x20data\x20out\x20of\x20'+_0x25260a['size']+_0x52b18b(0x1e3)),console[_0x52b18b(0x1f9)](_0x52b18b(0x1bc)+_0x49c1fc[_0x52b18b(0x1ea)]+'\x20unique\x20maps');if(_0x49c1fc['size']===0x0){console['warn'](_0x52b18b(0x1a9));_0x25260a['size']>0x0&&(console[_0x52b18b(0x1f9)]('üîç\x20Sample\x20match\x20structure\x20for\x20debugging:'),_0x25260a['forEach']((_0x6998f3,_0x1daf8b)=>{const _0x24373b=_0x52b18b;if(_0x1daf8b===0x0){const _0x22992d=_0x6998f3['data']();console['log']('First\x20match\x20data:',_0x22992d),console[_0x24373b(0x1f9)]('Available\x20fields:',Object[_0x24373b(0x1ca)](_0x22992d));}}));const _0x11e8c0=document[_0x52b18b(0x1ff)]('mapStatsChart')?.['parentElement']||document['querySelector']('.chart-container')||document['querySelector']('.map-stats-container');_0x11e8c0&&(_0x11e8c0['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-stats-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Most\x20Played\x20Maps\x20-\x20'+state['currentGameMode']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22error-message\x22>No\x20map\x20data\x20found\x20in\x20'+_0x25260a['size']+'\x20matches</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22error-message\x22>Check\x20console\x20for\x20match\x20structure\x20debug\x20info</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');return;}const _0x2b6328=Array['from'](_0x49c1fc['entries']())['sort']((_0x372075,_0x5167fa)=>_0x5167fa[0x1]-_0x372075[0x1])['slice'](0x0,0xf),_0x3b2ab4=_0x2b6328['length']>0x0?_0x2b6328[0x0][0x1]:0x1,_0x56962a=_0x25260a['size'],_0x22b2b8=document[_0x52b18b(0x1ff)]('mapStatsChart')?.[_0x52b18b(0x1e9)]||document['querySelector']('.chart-container')||document[_0x52b18b(0x1f3)](_0x52b18b(0x1dc));if(!_0x22b2b8){console['warn']('Map\x20stats\x20container\x20not\x20found.\x20Looking\x20for\x20containers...'),console['log']('Available\x20containers:',{'mapStatsChart':!!document['getElementById'](_0x52b18b(0x1a3)),'chartContainer':!!document['querySelector']('.chart-container'),'mapStatsContainer':!!document['querySelector'](_0x52b18b(0x1dc))});return;}let _0x475531=_0x52b18b(0x1a4)+state['currentGameMode']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22total-matches\x22>Based\x20on\x20'+_0x42fc29+'\x20matches\x20with\x20map\x20data\x20‚Ä¢\x20'+_0x49c1fc['size']+'\x20unique\x20maps</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-stats-list\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';_0x2b6328[_0x52b18b(0x1b7)](([_0x57f784,_0xc3ea2a],_0x51ae21)=>{const _0x40ae05=_0x52b18b,_0x5e1d8e=_0x9e5861[_0x40ae05(0x1e7)](_0x57f784);let _0x4cb58b=_0x57f784,_0x12797a=0x0;for(const [_0x5ab5aa,_0x2a77d3]of Object['entries'](_0x5e1d8e)){_0x2a77d3>_0x12797a&&(_0x12797a=_0x2a77d3,_0x4cb58b=_0x5ab5aa);}const _0x29fa78=Math['round'](_0xc3ea2a/_0x3b2ab4*0x64),_0x157955=Math['round'](_0xc3ea2a/_0x42fc29*0x64),_0x583d8c=_0x51ae21+0x1;_0x475531+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-stat-item\x22\x20title=\x22'+_0x4cb58b+':\x20'+_0xc3ea2a+_0x40ae05(0x1de)+_0x157955+_0x40ae05(0x1db)+_0x583d8c+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22map-name\x22>'+_0x4cb58b+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22map-count\x22>'+_0xc3ea2a+'\x20matches</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-bar-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-bar\x22\x20style=\x22width:\x20'+_0x29fa78+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22map-percentage\x22>'+_0x157955+'%</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x475531+=_0x52b18b(0x201);if(_0x49c1fc['size']>0xf){const _0x540b2f=_0x49c1fc['size']-0xf,_0x1a0c7c=Array[_0x52b18b(0x1b1)](_0x49c1fc['values']())[_0x52b18b(0x191)](0xf)['reduce']((_0x1e2f20,_0x4f7f76)=>_0x1e2f20+_0x4f7f76,0x0);_0x475531+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-stats-footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22remaining-maps\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20+\x20'+_0x540b2f+'\x20more\x20maps\x20with\x20'+_0x1a0c7c+'\x20total\x20matches\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}_0x22b2b8['innerHTML']=_0x475531,console['log'](_0x52b18b(0x1f0)+_0x2b6328[_0x52b18b(0x1d9)]+_0x52b18b(0x1ef));}catch(_0x46eb45){console[_0x52b18b(0x1d3)]('‚ùå\x20Error\x20loading\x20'+state['currentGameMode']+'\x20map\x20statistics:',_0x46eb45);const _0x41de96=document['getElementById'](_0x52b18b(0x1a3))?.[_0x52b18b(0x1e9)]||document[_0x52b18b(0x1f3)](_0x52b18b(0x19c));_0x41de96&&(_0x41de96['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-stats-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Most\x20Played\x20Maps\x20-\x20'+state[_0x52b18b(0x1c9)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22error-message\x22>Error\x20loading\x20map\x20statistics:\x20'+_0x46eb45[_0x52b18b(0x1af)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}}async function updateTopPlayersByTier(_0x306580){const _0x54ff49=a46_0x38e0;if(!_0x306580){console[_0x54ff49(0x1d3)](_0x54ff49(0x204));try{const _0x2030fe=state['currentGameMode']==='D1'?'players':'playersD2';_0x306580=await getDocs(collection(db,_0x2030fe));}catch(_0x1342c6){console['error']('Error\x20fetching\x20players\x20for\x20tiers:\x20'+_0x1342c6),document['querySelectorAll']('.tier-players')['forEach'](_0x179e53=>_0x179e53[_0x54ff49(0x1a1)]='<div\x20class=\x22loading-msg\x22>Error\x20loading\x20players</div>');return;}}try{document['querySelectorAll'](_0x54ff49(0x1f5))['forEach'](_0x53511c=>_0x53511c[_0x54ff49(0x1a1)]=_0x54ff49(0x206));const _0x5b9d78={'emerald':{'min':0x7d0,'players':[]},'gold':{'min':0x708,'players':[]},'silver':{'min':0x640,'players':[]},'bronze':{'min':0x578,'players':[]}};_0x306580['forEach'](_0x4ccd71=>{const _0x52d753=_0x54ff49,_0x3bf7e9=_0x4ccd71['data']();if(!_0x3bf7e9['username'])return;const _0x52dc0b=_0x3bf7e9['eloRating']||0x4b0,_0x3a8c81={'username':_0x3bf7e9['username'],'elo':_0x52dc0b,'position':_0x3bf7e9['position']||0x3e7};if(_0x52dc0b>=_0x5b9d78['emerald'][_0x52d753(0x194)])_0x5b9d78['emerald']['players']['push'](_0x3a8c81);else{if(_0x52dc0b>=_0x5b9d78['gold']['min'])_0x5b9d78['gold']['players'][_0x52d753(0x1ad)](_0x3a8c81);else{if(_0x52dc0b>=_0x5b9d78['silver']['min'])_0x5b9d78['silver']['players']['push'](_0x3a8c81);else{if(_0x52dc0b>=_0x5b9d78['bronze'][_0x52d753(0x194)])_0x5b9d78['bronze']['players'][_0x52d753(0x1ad)](_0x3a8c81);}}}});for(const _0x28c948 in _0x5b9d78){const _0xa2958d=_0x5b9d78[_0x28c948];_0xa2958d['players']['length']>0x0?(_0xa2958d['players']['sort']((_0x493c3d,_0x42bef0)=>{const _0x1db659=_0x54ff49,_0x183baf=_0x493c3d[_0x1db659(0x1fd)]===0x3e7?Infinity:_0x493c3d[_0x1db659(0x1fd)],_0x316b4e=_0x42bef0['position']===0x3e7?Infinity:_0x42bef0['position'];if(_0x183baf!==_0x316b4e)return _0x183baf-_0x316b4e;return _0x42bef0['elo']-_0x493c3d['elo'];}),_0xa2958d[_0x54ff49(0x1cf)]=_0xa2958d['players'][0x0]):_0xa2958d['topPlayer']=null;const _0x181e8d=document[_0x54ff49(0x1ff)](_0x28c948+'-players');if(!_0x181e8d)continue;if(!_0xa2958d[_0x54ff49(0x1cf)])_0x181e8d['innerHTML']=_0x54ff49(0x1fb);else{const _0x32ab65=_0xa2958d['topPlayer'],_0x1c6261=_0x32ab65[_0x54ff49(0x1fd)]&&_0x32ab65['position']<0x3e7?_0x32ab65['position']:0x1;_0x181e8d['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tier-player\x20top-player\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-rank\x22>#'+_0x1c6261+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-name\x22>'+_0x32ab65[_0x54ff49(0x1b0)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-elo\x22>'+Math['round'](_0x32ab65['elo'])+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-badge\x22>Best\x20'+(_0x28c948['charAt'](0x0)['toUpperCase']()+_0x28c948['slice'](0x1))+_0x54ff49(0x1b4)+_0xa2958d[_0x54ff49(0x1f7)]['length']+'\x20player'+(_0xa2958d['players']['length']!==0x1?'s':'')+'\x20in\x20'+state['currentGameMode']+'\x20'+_0x28c948+'\x20tier\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';}}}catch(_0x59a426){console[_0x54ff49(0x1d3)]('Error\x20updating\x20top\x20players\x20by\x20tier:\x20'+_0x59a426),document['querySelectorAll']('.tier-players')['forEach'](_0x3da1a8=>_0x3da1a8['innerHTML']='<div\x20class=\x22loading-msg\x22>Error\x20loading\x20players</div>');}}function updateSummaryStats(_0x1d1c9d){const _0x26203f=a46_0x38e0;if(!_0x1d1c9d)return;const _0x5544a0=_0x1d1c9d['size'],_0x3cb88a=_0x1d1c9d['docs'][_0x26203f(0x1df)](_0x23d3e3=>_0x23d3e3['data']()['active']!==![])['length'],_0x1ab71c=document['getElementById']('total-matches'),_0x2bb5c9=document['getElementById']('total-players'),_0x536029=document['getElementById']('last-updated'),_0xccdb97=state[_0x26203f(0x1e1)][state['currentGameMode']]?.['playerStats'];if(_0xccdb97){const _0x5758f9=Array['from'](_0xccdb97[_0x26203f(0x1a5)]())['reduce']((_0x4b74bb,_0x44d963)=>_0x4b74bb+_0x44d963[_0x26203f(0x1bd)],0x0)/0x2;if(_0x1ab71c)_0x1ab71c['textContent']=Math['round'](_0x5758f9);}else{if(_0x1ab71c)_0x1ab71c['textContent']='N/A';}if(_0x2bb5c9)_0x2bb5c9[_0x26203f(0x1d1)]=_0x3cb88a;if(_0x536029)_0x536029['textContent']=new Date()[_0x26203f(0x1be)]();}function updateHiddenStatsDiv(_0x3d99e5){const _0x163284=a46_0x38e0;let _0x39815e=document[_0x163284(0x1ff)](_0x163284(0x197));!_0x39815e&&(_0x39815e=document['createElement'](_0x163284(0x1da)),_0x39815e['id']='records-stats',_0x39815e['style']['display']=_0x163284(0x1a7),document['body']['appendChild'](_0x39815e));const _0x261bda=(_0x3055f7,_0x2a2b86=()=>!![],_0x455c2f,_0x1cc7b6=_0x3055f7)=>Array['from'](_0x3d99e5[_0x163284(0x19a)]())['filter'](_0x2a2b86)['sort'](_0x455c2f)[_0x163284(0x191)](0x0,0x3)['map'](([_0x5267b3,_0x2c6a08])=>({'name':_0x5267b3,[_0x1cc7b6]:_0x2c6a08[_0x1cc7b6]})),_0x4bbebd={'mode':state['currentGameMode'],'timestamp':new Date()[_0x163284(0x1cb)](),'records':{'mostWins':_0x261bda(_0x163284(0x1eb),()=>!![],(_0x948c79,_0x44080a)=>_0x44080a[0x1][_0x163284(0x1eb)]-_0x948c79[0x1][_0x163284(0x1eb)]),'bestWinRate':_0x261bda(_0x163284(0x1f8),([_0x17f4b0,_0x3407f6])=>_0x3407f6['totalMatches']>=MIN_MATCHES_REQUIREMENT,(_0x4ca7f0,_0x5bbb20)=>_0x5bbb20[0x1]['winRate']-_0x4ca7f0[0x1][_0x163284(0x1f8)]),'bestKD':_0x261bda('kdRatio',([_0x4e6b6f,_0x51a018])=>_0x51a018['totalMatches']>=MIN_MATCHES_REQUIREMENT,(_0x403252,_0x43e715)=>_0x43e715[0x1]['kdRatio']-_0x403252[0x1]['kdRatio']),'mostMatches':_0x261bda('totalMatches',()=>!![],(_0x240c8a,_0x4f49d2)=>_0x4f49d2[0x1]['totalMatches']-_0x240c8a[0x1]['totalMatches'])}};_0x39815e['textContent']=JSON['stringify'](_0x4bbebd,null,0x2);}function setupGameModeToggle(){const _0x19022b=document['querySelectorAll']('.toggle-btn');_0x19022b['forEach'](_0x3eb02d=>{const _0x156403=a46_0x38e0,_0x33ad93=_0x3eb02d['cloneNode'](!![]);_0x3eb02d['parentNode']['replaceChild'](_0x33ad93,_0x3eb02d),_0x33ad93['addEventListener'](_0x156403(0x19b),function(){const _0x357b8b=_0x156403;if(this[_0x357b8b(0x1f6)]['contains'](_0x357b8b(0x195)))return;const _0x57def2=this['getAttribute']('data-game')['toUpperCase']();console[_0x357b8b(0x1f9)]('Switching\x20to\x20'+_0x57def2+_0x357b8b(0x1cc)),document['querySelectorAll']('.toggle-btn')['forEach'](_0x361ee4=>_0x361ee4['classList']['remove'](_0x357b8b(0x195))),this['classList']['add'](_0x357b8b(0x195)),state[_0x357b8b(0x1c9)]=_0x57def2;const _0x2ad9b5=document[_0x357b8b(0x1ff)]('load-more-btn');if(_0x2ad9b5)_0x2ad9b5[_0x357b8b(0x1c8)]();loadRecords(),loadMapStats();});});}const style=document['createElement']('style');function a46_0x38e0(_0x3aa249,_0x22aea2){const _0x4d538a=a46_0x2f09();return a46_0x38e0=function(_0xc40cc5,_0x186d1d){_0xc40cc5=_0xc40cc5-0x190;let _0x2f090d=_0x4d538a[_0xc40cc5];return _0x2f090d;},a46_0x38e0(_0x3aa249,_0x22aea2);}style['textContent']='\x0a\x20\x20\x20\x20.load-more-btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20linear-gradient(135deg,\x20#673ab7,\x20#9c27b0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2015px\x2025px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x2020px\x20auto;\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-weight:\x20600;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20all\x200.3s\x20ease;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(103,\x2058,\x20183,\x200.3);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.load-more-btn:hover:not(:disabled)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateY(-2px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x206px\x2016px\x20rgba(103,\x2058,\x20183,\x200.4);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.load-more-btn:disabled\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x200.7;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20not-allowed;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.load-more-btn\x20small\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x205px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x200.9;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.partial-data-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(255,\x20193,\x207,\x200.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(255,\x20193,\x207,\x200.3);\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ffc107;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.partial-data-indicator\x20i\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ffc107;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20/*\x20Enhanced\x20Map\x20Stats\x20Styling\x20*/\x0a\x20\x20\x20\x20.map-stats-header\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-stats-header\x20h3\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x201.4em;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-stats-header\x20.total-matches\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#666;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x200.9em;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-stats-list\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x2012px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-stat-item\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(255,\x20255,\x20255,\x200.8);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(0,\x200,\x200,\x200.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20all\x200.2s\x20ease;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-stat-item:hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(255,\x20255,\x20255,\x200.95);\x0a\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateY(-1px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,\x200,\x200,\x200.1);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-info\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20space-between;\x0a\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x208px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-rank\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#673ab7;\x0a\x20\x20\x20\x20\x20\x20\x20\x20min-width:\x2030px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-weight:\x20600;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20flex:\x201;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2012px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-count\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#666;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x200.9em;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-bar-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x2010px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-bar\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20flex:\x201;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x206px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20linear-gradient(90deg,\x20#673ab7,\x20#9c27b0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x203px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20width\x200.3s\x20ease;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-percentage\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x200.8em;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#666;\x0a\x20\x20\x20\x20\x20\x20\x20\x20min-width:\x2035px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20right;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-stats-footer\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding-top:\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-top:\x201px\x20solid\x20rgba(0,\x200,\x200,\x200.1);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.remaining-maps\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#666;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x200.9em;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-style:\x20italic;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.error-message\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#dc3545;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-style:\x20italic;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2020px;\x0a\x20\x20\x20\x20}\x0a',document[a46_0x23f09a(0x1ee)]['appendChild'](style),document['addEventListener']('DOMContentLoaded',()=>{const _0x2e7337=a46_0x23f09a;Promise[_0x2e7337(0x1f2)]([fetch('../HTML/nav.html')['then'](_0x293045=>_0x293045['ok']?_0x293045[_0x2e7337(0x1c6)]():Promise['reject']('Nav\x20fetch\x20failed')),fetch('../HTML/footer.html')['then'](_0x28e2a6=>_0x28e2a6['ok']?_0x28e2a6[_0x2e7337(0x1c6)]():Promise['reject']('Footer\x20fetch\x20failed'))])['then'](([_0x151407,_0xcd1c99])=>{const _0x12b2f6=_0x2e7337,_0x595b19=document['getElementById'](_0x12b2f6(0x1d8)),_0x449dfe=document['getElementById'](_0x12b2f6(0x199));if(_0x595b19)_0x595b19['innerHTML']=_0x151407;if(_0x449dfe)_0x449dfe[_0x12b2f6(0x1a1)]=_0xcd1c99;})['catch'](_0x3ccb9d=>{console['error']('Error\x20loading\x20nav\x20or\x20footer:',_0x3ccb9d);}),loadRecords(),loadMapStats(),setupGameModeToggle();});function calculatePlayerRecords(_0x591c7d,_0x444af1){const _0x382729=a46_0x23f09a;let _0x28bd9a=null,_0x4801d8=Infinity;_0x444af1['forEach'](_0x186bb9=>{const _0xbe28ed=a46_0x38e0,_0x66a88d=_0x591c7d[_0xbe28ed(0x1df)](_0x14536d=>_0x14536d[_0xbe28ed(0x1e6)]===_0x186bb9['username']||_0x14536d['loserUsername']===_0x186bb9[_0xbe28ed(0x1b0)]);if(_0x66a88d[_0xbe28ed(0x1d9)]<0x5)return;const _0x142c7f=_0x66a88d['reduce']((_0x5b3fe3,_0x4d94ba)=>{return _0x4d94ba['winnerUsername']===_0x186bb9['username']?_0x5b3fe3+(_0x4d94ba['winnerSuicides']||0x0):_0x5b3fe3+(_0x4d94ba['loserSuicides']||0x0);},0x0),_0x55c60e=_0x142c7f/_0x66a88d[_0xbe28ed(0x1d9)]*0x64;_0x55c60e<_0x4801d8&&(_0x4801d8=_0x55c60e,_0x28bd9a={'player':_0x186bb9['username'],'suicideRate':_0x55c60e,'totalSuicides':_0x142c7f,'totalMatches':_0x66a88d[_0xbe28ed(0x1d9)]});});const _0x336091=document[_0x382729(0x1ff)](_0x382729(0x1e5));_0x28bd9a?_0x336091['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-name\x22>'+_0x28bd9a['player']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22record-stat\x22>'+_0x28bd9a[_0x382729(0x19d)][_0x382729(0x1a8)](0x2)+'%</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22record-detail\x22>'+_0x28bd9a['totalSuicides']+'\x20suicides\x20in\x20'+_0x28bd9a[_0x382729(0x1bd)]+'\x20matches</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20':_0x336091[_0x382729(0x1d1)]='No\x20data\x20available';}