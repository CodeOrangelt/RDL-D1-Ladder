const a44_0x10c2d3=a44_0x3ea7;(function(_0x4f291e,_0x228d1f){const _0x5289c9=a44_0x3ea7,_0x31b021=_0x4f291e();while(!![]){try{const _0x518db2=parseInt(_0x5289c9(0x1a8))/0x1*(-parseInt(_0x5289c9(0x197))/0x2)+-parseInt(_0x5289c9(0x187))/0x3+parseInt(_0x5289c9(0x19d))/0x4+-parseInt(_0x5289c9(0x1ab))/0x5*(-parseInt(_0x5289c9(0x193))/0x6)+parseInt(_0x5289c9(0x198))/0x7+parseInt(_0x5289c9(0x18c))/0x8+-parseInt(_0x5289c9(0x19e))/0x9*(parseInt(_0x5289c9(0x1a9))/0xa);if(_0x518db2===_0x228d1f)break;else _0x31b021['push'](_0x31b021['shift']());}catch(_0x1e197b){_0x31b021['push'](_0x31b021['shift']());}}}(a44_0x4452,0x33bbc));const a44_0x20a169=(function(){let _0x912b4d=!![];return function(_0x555253,_0xb7a13a){const _0x46e2dc=_0x912b4d?function(){const _0x8cec43=a44_0x3ea7;if(_0xb7a13a){const _0x2fed66=_0xb7a13a[_0x8cec43(0x189)](_0x555253,arguments);return _0xb7a13a=null,_0x2fed66;}}:function(){};return _0x912b4d=![],_0x46e2dc;};}()),a44_0x3db7f2=a44_0x20a169(this,function(){const _0x3e4f38=a44_0x3ea7;return a44_0x3db7f2['toString']()['search'](_0x3e4f38(0x1a4))[_0x3e4f38(0x19f)]()[_0x3e4f38(0x1ae)](a44_0x3db7f2)['search'](_0x3e4f38(0x1a4));});a44_0x3db7f2();const a44_0x1c8689=(function(){let _0x390df8=!![];return function(_0x382b5d,_0x1b4a04){const _0x3a5eff=_0x390df8?function(){const _0x43bc32=a44_0x3ea7;if(_0x1b4a04){const _0x44fcf2=_0x1b4a04[_0x43bc32(0x189)](_0x382b5d,arguments);return _0x1b4a04=null,_0x44fcf2;}}:function(){};return _0x390df8=![],_0x3a5eff;};}()),a44_0x15c7f2=a44_0x1c8689(this,function(){const _0x1aa343=a44_0x3ea7,_0x3b23c5=function(){let _0x15608b;try{_0x15608b=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x39d525){_0x15608b=window;}return _0x15608b;},_0x4167bd=_0x3b23c5(),_0x4c8b96=_0x4167bd[_0x1aa343(0x185)]=_0x4167bd['console']||{},_0x2c020e=[_0x1aa343(0x18b),'warn','info','error',_0x1aa343(0x1b1),'table',_0x1aa343(0x1a7)];for(let _0x530b93=0x0;_0x530b93<_0x2c020e['length'];_0x530b93++){const _0x3f8f44=a44_0x1c8689[_0x1aa343(0x1ae)][_0x1aa343(0x192)][_0x1aa343(0x19a)](a44_0x1c8689),_0x109703=_0x2c020e[_0x530b93],_0x27f5b7=_0x4c8b96[_0x109703]||_0x3f8f44;_0x3f8f44[_0x1aa343(0x18a)]=a44_0x1c8689[_0x1aa343(0x19a)](a44_0x1c8689),_0x3f8f44[_0x1aa343(0x19f)]=_0x27f5b7[_0x1aa343(0x19f)][_0x1aa343(0x19a)](_0x27f5b7),_0x4c8b96[_0x109703]=_0x3f8f44;}});a44_0x15c7f2();import{db}from'./firebase-config.js';import{collection,query,where,onSnapshot,updateDoc,doc}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const readyPlayersRef=collection(db,'readyPlayers'),activePlayersQuery=query(readyPlayersRef,where(a44_0x10c2d3(0x1ac),'==',!![]));function updateQueueDisplay(_0x3139b9){const _0x377eda=a44_0x10c2d3,_0x4ce06c=document[_0x377eda(0x196)](_0x377eda(0x18d));if(!_0x4ce06c)return;if(_0x3139b9['length']===0x0){_0x4ce06c['style'][_0x377eda(0x18f)]='none';return;}_0x4ce06c['style'][_0x377eda(0x18f)]=_0x377eda(0x188);let _0x12b4c5=_0x377eda(0x19b);_0x3139b9[_0x377eda(0x186)](_0xaf65af=>{const _0x64db1b=_0x377eda;_0x12b4c5+=_0x64db1b(0x1af)+(_0xaf65af[_0x64db1b(0x1a3)]||_0x64db1b(0x1a2))+_0x64db1b(0x191)+formatQueueTime(_0xaf65af[_0x64db1b(0x1a5)])+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x12b4c5+=_0x377eda(0x1b2),_0x4ce06c[_0x377eda(0x1b0)]=_0x12b4c5;}function formatQueueTime(_0x40298b){const _0x2072e5=a44_0x10c2d3;if(!_0x40298b)return _0x2072e5(0x190);const _0x55496f=_0x40298b[_0x2072e5(0x1ad)]?_0x40298b['toDate']():new Date(_0x40298b),_0x358026=new Date(),_0x511c11=Math[_0x2072e5(0x194)]((_0x358026-_0x55496f)/0xea60);if(_0x511c11<0x1)return _0x2072e5(0x190);return _0x511c11+_0x2072e5(0x1aa);}function a44_0x4452(){const _0x529ac2=['data','trace','153635vboEfO','10cgNMHy','m\x20in\x20queue','659345yIgZhC','isReady','toDate','constructor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-card\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-name\x22>','innerHTML','exception','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','console','forEach','686901RqiMrQ','block','apply','__proto__','log','2916616hzRAiA','queue-container','readyPlayers','display','Just\x20now','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22queue-time\x22>','prototype','6UJjtVE','floor','push','getElementById','2OSksRb','586194LAxEKp','unload','bind','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22queue-box\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>Waiting\x20for\x20a\x20game</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22queue-list\x22>\x0a\x20\x20\x20\x20','addEventListener','733712COgHRO','1522026BIjtWz','toString','error','Error\x20in\x20queue\x20listener:','Unknown\x20Player','username','(((.+)+)+)+$','lastUpdated'];a44_0x4452=function(){return _0x529ac2;};return a44_0x4452();}function a44_0x3ea7(_0x30777f,_0x324ec7){const _0x2be199=a44_0x4452();return a44_0x3ea7=function(_0x15c7f2,_0x1c8689){_0x15c7f2=_0x15c7f2-0x185;let _0x43178c=_0x2be199[_0x15c7f2];return _0x43178c;},a44_0x3ea7(_0x30777f,_0x324ec7);}async function checkQueueTimeout(_0x2a186b){const _0x5ca170=a44_0x10c2d3;if(!_0x2a186b[_0x5ca170(0x1a5)])return;const _0x24ec7d=_0x2a186b[_0x5ca170(0x1a5)]['toDate']?_0x2a186b[_0x5ca170(0x1a5)][_0x5ca170(0x1ad)]():new Date(_0x2a186b[_0x5ca170(0x1a5)]),_0xc2db9b=new Date(),_0xf41623=Math[_0x5ca170(0x194)]((_0xc2db9b-_0x24ec7d)/0xea60);if(_0xf41623>=0x1e)try{const _0x119a15=doc(db,_0x5ca170(0x18e),_0x2a186b['id']);await updateDoc(_0x119a15,{'isReady':![]});}catch(_0x527b7c){console[_0x5ca170(0x1a0)]('Error\x20removing\x20player\x20from\x20queue:',_0x527b7c);}}const unsubscribe=onSnapshot(readyPlayersRef,_0xc0e9b9=>{const _0x214215=[];_0xc0e9b9['forEach'](_0x5f11cc=>{const _0x3310ce=a44_0x3ea7,_0x479f02=_0x5f11cc[_0x3310ce(0x1a6)]();if(_0x479f02[_0x3310ce(0x1ac)]===!![]){const _0x157c12={'id':_0x5f11cc['id'],'username':_0x479f02[_0x3310ce(0x1a3)],'lastUpdated':_0x479f02[_0x3310ce(0x1a5)]||new Date()};_0x214215[_0x3310ce(0x195)](_0x157c12),checkQueueTimeout(_0x157c12);}}),updateQueueDisplay(_0x214215);},_0x5ecccf=>{const _0x2719e2=a44_0x10c2d3;console[_0x2719e2(0x1a0)](_0x2719e2(0x1a1),_0x5ecccf);});window[a44_0x10c2d3(0x19c)](a44_0x10c2d3(0x199),()=>{unsubscribe();});