const a26Z=a26b;function a26b(a,b){const c=a26a();return a26b=function(d,e){d=d-0x141;let f=c[d];if(a26b['IwXhvj']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a26b['izpgpr']=g,a=arguments,a26b['IwXhvj']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a26b['izpgpr'](f),a[i]=f):f=j,f;},a26b(a,b);}function a26a(){const ax=['rxjYB3iGChjVy2vZC2LUzYb5B3vYihjLCxvLC3qUifbSzwfZzsb0CNKGywDHAw4U','CMvSyxrPDMu','CgXHEwvYC0qZ','ww91ig11C3qGyMuGBg9Nz2vKigLUihrVigDVig9UigHPyxr1CY4','Bg9N','rfvpuW','AgLHDhvZlwXHzgrLCI10ExbL','y2XPy2S','ugXLyxnLigvUDgvYihLVDxiGDxnLCM5HBwuGDg8Gy29UzMLYBs4','zMXLEa','Dw5OAwf0DxmTyNv0Dg9U','zxHPC3rZ','Aw5WDxrBBMfTzt0IBgfKzgvYiL0','uMv0AxjLigj1DhrVBIbJBgLJA2vK','odG5D3LbDhvY','Dw5OAwf0DxmTC3rHDhvZ','ww91ig11C3qGyMuGBg9Nz2vKigLUihrVigXLyxzLigeGDgvHBs4','i2zMnMi2yG','BM9Uzq','DgvHBuLK','Bg9JyxrPB24','vxnLCIbPCYbPBIbHihrLyw0SihnOB3DPBMCGBgvHDMuGDgvHBsbIDxr0B24','CxvLCNLtzwXLy3rVCG','BwvZC2fNzq','y3vYCMvUDfvZzxi','odG1odiWvLn2y2zR','BgfKzgvYlxjLDgLYzs10Aw55lwnVBNrHAw5LCG','AgLHDhvZlxbYB21WDa','Dgv4DenVBNrLBNq','rxjYB3iGzgLZC29SDMLUzYb0zwfToG','DhjPBq','CgXHEwvYC0r1B3m','BgvHDMuTDgvHBs1IDxr0B24','zgf0yq','ignVBgXLy3rPB24','vgvHBw1HDguNCYb0zwfTigrHDgeGy2XLyxjLzcbZDwnJzxnZzNvSBhK','nNbfrLLhra','i2XLyxzLlxrLyw0TChjVBxb0ic5JBg9Zzs1IDxr0B24','CMv0AxjLlwXHzgrLCI10ExbL','DMfSDwu','CgXHEwvYsgLHDhvZ','u3vJy2vZC2z1BgX5igXLzNqGDgvHBseGww91ihjLBwfPBIbVBIb0AguGBgfKzgvYigfZigeGC29SBYbWBgf5zxiU','Cg9ZAxrPB24','CxvLCNLtzwXLy3rVCKfSBa','zxjYB3i','nda5odzLB3r3Bfi','i3vUAgLHDhvZlxbYB21WDcaUy2XVC2uTyNv0Dg9U','ywrKrxzLBNrmAxn0zw5LCG','uMv0AxjLoIbmywrKzxiGy2HHBMDLzcb0BZOG','rxjYB3iGBgvHDMLUzYb0zwfToG','BgfKzgvYlxjLDgLYzs1WCM9TChq','yMXVy2S','zM9YrwfJAa','AgfZvgvHBq','DxnLCM5HBwu','rxjYB3iGy2HLy2TPBMCGCgXHEwvYihn0yxr1CZO','zNjVBuXHzgrLCG','zgLZCgXHEq','ww91igfYzsbUB3qGB24GAgLHDhvZlG','mtuYmdy0mfz0t0jivG','ltuWChG','uMv0DxjUAw5NigzYB20GAgLHDhvZlI4U','i2zMytuWma','CgXHEwvYq29SBgvJDgLVBG','iZrdquy1ma','yxbWzw5Kq2HPBgq','odKXnta3v29bzuvQ','CMvSB2fK','mtC5ndqXmM1wrgXKtW','ww91igfYzsbUB3qGB24GDgHPCYbSywrKzxiU','y29SB3i','mtm3ndC5nJHVwK5kwKm','zgLZywjSzwq','re9nq29UDgvUDeXVywrLza','nZuWnZGXnLrKtgX4Aa','rxjYB3iGzhvYAw5NihjLDgLYzw1LBNq6','y2XHC3noyw1L','DwLK','rxjYB3iGCMv0DxjUAw5NigzYB20GAgLHDhvZoG','i2XHzgrLCI1YzxrPCMuTChjVBxb0ic5JBg9Zzs1IDxr0B24','BgfKzgvY','ww91igfYzsbUB3qGy3vYCMvUDgX5igLUigeGDgvHBs4','CMvM','Dw5OAwf0DxmTChjVBxb0','Dg9mB3DLCKnHC2u','igXHzgrLCIe','BgvHDMuTDgvHBs11C2vYBMfTzs1PBNb1Da','igXHzgrLCG','rxjYB3iGz29PBMCGB24GAgLHDhvZoG','zw1WDhK','vxnLCIbPCYbot1qGB24GDgHLia','C3r5Bgu','q2HLy2TPBMCGCMv0AxjLihzPC2LIAwXPDhKGzM9YigXHzgrLCJO','sgLHDhvZigj1DhrVBIbJBgLJA2vK','DgfYz2v0','z2v0rwXLBwvUDej5swq','AgLHDhvZlwj1DhrVBG','yNv0Dg9U','y2HLy2TLza','DgLUEs1YzxrPCMuTyNv0Dg9U','uMv0AxjPBMCGzNjVBsa','AgLHDhvZlxn0yxr1CW'];a26a=function(){return ax;};return a26a();}(function(a,b){const Y=a26b,c=a();while(!![]){try{const d=parseInt(Y(0x14e))/0x1+-parseInt(Y(0x159))/0x2*(parseInt(Y(0x177))/0x3)+-parseInt(Y(0x179))/0x4+-parseInt(Y(0x170))/0x5+parseInt(Y(0x162))/0x6*(-parseInt(Y(0x143))/0x7)+parseInt(Y(0x17f))/0x8+parseInt(Y(0x17c))/0x9;if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a26a,0xcd18a));import{getAuth,onAuthStateChanged}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';import{getFirestore}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{doc,getDoc,getDocs,updateDoc,deleteDoc,setDoc,query,collection,where}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{auth,db}from'./firebase-config.js';document['addEventListener'](a26Z(0x17e),()=>{const a0=a26Z,a=document['getElementById'](a0(0x198)),b=document['getElementById'](a0(0x167)),c=document['getElementById'](a0(0x15b)),d=document['getElementById']('retire-username-input'),e=document[a0(0x194)]('retire-ladder-button'),f=document[a0(0x194)]('ladder-retire-status'),g=document['getElementById'](a0(0x155)),h=document[a0(0x194)]('leave-team-prompt'),i=document['getElementById']('leave-team-status'),j=document['getElementById']('confirm-leave-team-button'),k=document['getElementById'](a0(0x18b)),l=document[a0(0x194)](a0(0x195)),m=document['getElementById'](a0(0x150)),n=document[a0(0x194)](a0(0x1a1)),o=document['getElementById']('hiatus-username-input'),p=document[a0(0x194)]('confirm-hiatus-button'),q=document['getElementById'](a0(0x19a)),r=document['getElementById'](a0(0x188)),s=document[a0(0x194)]('unhiatus-ladder-type'),t=document['getElementById']('unhiatus-username-input'),u=document[a0(0x194)]('confirm-unhiatus-button'),v=document[a0(0x194)](a0(0x144));let w='D1';function x(M){const a1=a0;switch(M){case'D1':return'players';case'D2':return'playersD2';case'D3':return a1(0x19d);case'DUOS':return a1(0x154);case'CTF':return'playersCTF';default:return'players';}}function y(){const a2=a0;document[a2(0x160)](a2(0x141))[a2(0x169)](M=>{M['addEventListener']('change',N=>{const a3=a26b;N['target'][a3(0x197)]&&(w=N[a3(0x193)]['value'],console['log'](a3(0x165)+w),c&&(c['textContent']=w),z());});});}function z(){const a4=a0;console[a4(0x19f)](a4(0x191),w);const M=auth['currentUser'];if(!M){if(a)a['style'][a4(0x16e)]='none';if(g)g[a4(0x190)]['display']='none';if(l)l['style'][a4(0x16e)]=a4(0x147);if(H)H['style'][a4(0x16e)]=a4(0x147);return;}A(M);}async function A(M){const a5=a0;try{try{const N=doc(db,a5(0x15d),M['uid']),O=await getDoc(N);if(O['exists']()){const P=O['data']();console['log']('User\x20is\x20on\x20hiatus\x20from\x20'+P[a5(0x16d)]+a5(0x18c));if(H)H['style'][a5(0x16e)]=a5(0x168);if(a)a[a5(0x190)]['display']='none';if(g)g[a5(0x190)][a5(0x16e)]='none';if(l)l[a5(0x190)][a5(0x16e)]='none';return;}}catch(Q){console['warn']('Error\x20checking\x20hiatus\x20status\x20(this\x20is\x20expected\x20if\x20permissions\x20aren\x27t\x20set):',Q);}try{const R=x(w);console['log']('Checking\x20if\x20user\x20is\x20in\x20'+R+a5(0x157));const S=doc(db,R,M[a5(0x182)]),T=await getDoc(S);if(T['exists']()){console[a5(0x19f)]('User\x20is\x20on\x20the\x20'+w+a5(0x18c));if(a)a[a5(0x190)]['display']='block';if(l)l['style']['display']=a5(0x168);if(w==='DUOS'){const U=T[a5(0x156)]();if(U['hasTeam']&&U['teamId']){console['log'](a5(0x14a));if(g)g[a5(0x190)][a5(0x16e)]=a5(0x168);}else{console[a5(0x19f)]('User\x20is\x20not\x20in\x20a\x20team,\x20hiding\x20leave\x20team\x20button');if(g)g[a5(0x190)][a5(0x16e)]='none';}}else{if(g)g[a5(0x190)][a5(0x16e)]='none';}}else{console['log'](a5(0x18f)+w+a5(0x18c));if(a)a[a5(0x190)]['display']='none';if(g)g['style']['display']=a5(0x147);if(l)l['style']['display']=a5(0x147);}}catch(V){console[a5(0x161)](a5(0x16c),V);if(a)a[a5(0x190)]['display']=a5(0x147);if(g)g['style'][a5(0x16e)]='none';if(l)l[a5(0x190)][a5(0x16e)]='none';}}catch(W){console['error']('Main\x20error\x20in\x20checkPlayerStatus:',W);if(a)a[a5(0x190)][a5(0x16e)]='none';if(g)g[a5(0x190)]['display']=a5(0x147);if(l)l['style'][a5(0x16e)]=a5(0x147);if(H)H[a5(0x190)][a5(0x16e)]='none';}}async function B(M,N){const a6=a0;if(M[a6(0x16a)]&&M[a6(0x148)]&&M['teammate']){console['log']('Dissolving\x20team\x20for\x20retiring\x20player...');try{const O=collection(db,N),P=query(O,where(a6(0x16b),'==',M['teammate'])),Q=await getDocs(P);if(!Q[a6(0x18e)]){const R=Q['docs'][0x0];await updateDoc(R[a6(0x187)],{'hasTeam':![],'teamId':null,'teamName':null,'teammate':null,'teamColor':null}),console[a6(0x19f)](a6(0x158));}}catch(S){console[a6(0x161)](a6(0x152),S);}}}async function C(M,N){const a7=a0,O=x(w);try{const P=doc(db,O,N['uid']),Q=await getDoc(P);if(!Q[a7(0x1a6)]())throw new Error(a7(0x17a));const R=Q[a7(0x156)]();if(R['username'][a7(0x189)]()!==M['toLowerCase']())throw new Error('Username\x20does\x20not\x20match\x20your\x20account.');if(!R['hasTeam']||!R[a7(0x148)])throw new Error(a7(0x186));return await B(R,O),await updateDoc(P,{'hasTeam':![],'teamId':null,'teamName':null,'teammate':null,'teamColor':null}),{'success':!![]};}catch(S){console['error'](a7(0x166),S);throw S;}}async function D(M,N){const a8=a0,O=x(w);try{const P=doc(db,O,N[a8(0x182)]),Q=await getDoc(P);if(!Q[a8(0x1a6)]())throw new Error(a8(0x17a));const R=Q['data']();if(R['username'][a8(0x189)]()!==M[a8(0x189)]())throw new Error('Username\x20does\x20not\x20match\x20your\x20account.');return w==='DUOS'&&await B(R,O),await deleteDoc(P),{'success':!![]};}catch(S){console['error']('Error\x20retiring\x20from\x20ladder:',S);throw S;}}async function E(M,N){const a9=a0,O=x(w),P='playerHiatus';try{const Q=doc(db,O,N[a9(0x182)]),R=await getDoc(Q);if(!R[a9(0x1a6)]())throw new Error(a9(0x17a));const S=R['data']();if(S['username']['toLowerCase']()!==M[a9(0x189)]())throw new Error('Username\x20does\x20not\x20match\x20your\x20account.');w===a9(0x1a0)&&S[a9(0x16a)]&&await B(S,O);const T={...S,'fromLadder':w,'hiatusDate':new Date(),'playerCollection':O};return await setDoc(doc(db,P,N[a9(0x182)]),T),await deleteDoc(Q),{'success':!![]};}catch(U){console['error'](a9(0x18d),U);throw U;}}async function F(M,N){const aa=a0,O='playerHiatus';try{const P=doc(db,O,N[aa(0x182)]),Q=await getDoc(P);if(!Q[aa(0x1a6)]())throw new Error(aa(0x16f));const R=Q['data']();if(R[aa(0x16b)]['toLowerCase']()!==M[aa(0x189)]())throw new Error('Username\x20does\x20not\x20match\x20your\x20account.');const S=R[aa(0x174)]||x(R[aa(0x16d)]),{hiatusDate:T,fromLadder:U,playerCollection:V,...W}=R;return await setDoc(doc(db,S,N['uid']),W),await deleteDoc(P),{'success':!![],'ladder':U};}catch(X){console[aa(0x161)](aa(0x183),X);throw X;}}onAuthStateChanged(auth,M=>{const ab=a0;if(M)z();else{if(a)a['style']['display']=ab(0x147);if(g)g[ab(0x190)][ab(0x16e)]='none';if(b)b[ab(0x190)][ab(0x16e)]=ab(0x147);if(h)h['style']['display']=ab(0x147);if(l)l[ab(0x190)][ab(0x16e)]=ab(0x147);if(H)H['style'][ab(0x16e)]='none';}});a&&a[a0(0x164)]('click',()=>{const ac=a0;console[ac(0x19f)](ac(0x142)),b&&(b['style']['display']=ac(0x1a4)),c&&(c['textContent']=w),f&&(f['textContent']='',f['style'][ac(0x17b)]=''),d&&(d[ac(0x15c)]='');});g&&g['addEventListener']('click',()=>{const ad=a0;console['log']('Leave\x20team\x20button\x20clicked'),h&&(h[ad(0x190)][ad(0x16e)]=ad(0x1a4)),i&&(i[ad(0x151)]='',i['style']['color']=''),k&&(k['value']='');});l&&l[a0(0x164)]('click',()=>{const ae=a0;console['log'](ae(0x192)),m&&(m['style'][ae(0x16e)]='flex'),n&&(n['textContent']=w),q&&(q[ae(0x151)]='',q[ae(0x190)][ae(0x17b)]=''),o&&(o['value']='');});e&&e[a0(0x164)](a0(0x1a2),async()=>{const af=a0,M=d?d['value']['trim']():'';if(!M){f&&(f[af(0x151)]='Please\x20enter\x20your\x20username\x20to\x20confirm.',f[af(0x190)]['color']='#ff6b6b');return;}const N=auth[af(0x14d)];if(!N){f&&(f['textContent']='You\x20must\x20be\x20logged\x20in\x20to\x20retire.',f[af(0x190)]['color']=af(0x146));return;}e[af(0x17d)]=!![];f&&(f[af(0x151)]=af(0x199)+w+'\x20ladder...',f['style']['color']='#ffa500');try{await D(M,N),f&&(f['textContent']='Successfully\x20retired\x20from\x20'+w+af(0x18a),f[af(0x190)]['color']=af(0x175)),setTimeout(()=>{const ag=af;if(a)a[ag(0x190)][ag(0x16e)]='none';if(b)b[ag(0x190)]['display']=ag(0x147);window['location'][ag(0x178)]();},0x7d0);}catch(O){console[af(0x161)](af(0x180),O),f&&(f['textContent']=O['message']||af(0x19b),f[af(0x190)]['color']='#ff6b6b'),e['disabled']=![];}});j&&j[a0(0x164)]('click',async()=>{const ah=a0,M=k?k[ah(0x15c)][ah(0x153)]():'';if(!M){i&&(i[ah(0x151)]=ah(0x1a3),i[ah(0x190)][ah(0x17b)]=ah(0x146));return;}const N=auth['currentUser'];if(!N){i&&(i[ah(0x151)]=ah(0x145),i['style']['color']=ah(0x146));return;}j['disabled']=!![];i&&(i[ah(0x151)]='Leaving\x20team...',i['style'][ah(0x17b)]=ah(0x173));try{await C(M,N),i&&(i['textContent']=ah(0x15e),i[ah(0x190)][ah(0x17b)]='#4CAF50'),setTimeout(()=>{const ai=ah;if(g)g['style'][ai(0x16e)]=ai(0x147);if(h)h['style'][ai(0x16e)]=ai(0x147);window['location']['reload']();},0x7d0);}catch(O){console[ah(0x161)]('Error\x20leaving\x20team:',O),i&&(i['textContent']=O['message']||'Error\x20processing\x20your\x20request.\x20Please\x20try\x20again.',i[ah(0x190)][ah(0x17b)]=ah(0x146)),j[ah(0x17d)]=![];}});p&&p['addEventListener']('click',async()=>{const aj=a0,M=o?o[aj(0x15c)][aj(0x153)]():'';if(!M){q&&(q['textContent']='Please\x20enter\x20your\x20username\x20to\x20confirm.',q[aj(0x190)][aj(0x17b)]='#ff6b6b');return;}const N=auth[aj(0x14d)];if(!N){q&&(q[aj(0x151)]=aj(0x19e),q[aj(0x190)][aj(0x17b)]=aj(0x146));return;}p['disabled']=!![];q&&(q[aj(0x151)]='Going\x20on\x20hiatus\x20from\x20'+w+'\x20ladder...',q['style'][aj(0x17b)]='#ffa500');try{await E(M,N),q&&(q[aj(0x151)]='Successfully\x20went\x20on\x20hiatus\x20from\x20'+w+'\x20ladder!',q[aj(0x190)][aj(0x17b)]=aj(0x175)),setTimeout(()=>{const ak=aj;if(l)l[ak(0x190)][ak(0x16e)]=ak(0x147);if(m)m['style'][ak(0x16e)]=ak(0x147);window['location'][ak(0x178)]();},0x7d0);}catch(O){console[aj(0x161)]('Error\x20during\x20hiatus:',O),q&&(q[aj(0x151)]=O[aj(0x14c)]||'Error\x20processing\x20your\x20request.\x20Please\x20try\x20again.',q[aj(0x190)][aj(0x17b)]='#ff6b6b'),p[aj(0x17d)]=![];}});function G(){const al=a0;let M=document['getElementById'](al(0x1a5));if(!M){M=document['createElement'](al(0x196)),M['id']='unhiatus-button',M[al(0x181)]='tiny-retire-button',M['style']['display']=al(0x147),M[al(0x190)]['background']='#27ae60',M[al(0x151)]='Return\x20from\x20Hiatus',M['style'][al(0x15f)]=al(0x19c),M[al(0x190)]['left']=al(0x171);const N=document[al(0x194)](al(0x14f));N&&N[al(0x176)](M);}return M;}const H=G();H&&H['addEventListener']('click',async()=>{const am=a0;console['log']('Unhiatus\x20button\x20clicked');const M=auth['currentUser'];if(!M)return;try{const N=doc(db,'playerHiatus',M['uid']),O=await getDoc(N);if(O[am(0x1a6)]()){const P=O[am(0x156)](),Q=P['fromLadder']||'D1';r&&(r['style'][am(0x16e)]=am(0x1a4)),s&&(s['textContent']=Q),v&&(v[am(0x151)]='',v[am(0x190)]['color']=''),t&&(t[am(0x15c)]='');}}catch(R){console['error']('Error\x20getting\x20hiatus\x20data:',R);}});u&&u['addEventListener']('click',async()=>{const an=a0,M=t?t[an(0x15c)][an(0x153)]():'';if(!M){v&&(v[an(0x151)]='Please\x20enter\x20your\x20username\x20to\x20confirm.',v[an(0x190)][an(0x17b)]='#ff6b6b');return;}const N=auth[an(0x14d)];if(!N){v&&(v[an(0x151)]='You\x20must\x20be\x20logged\x20in\x20to\x20return\x20from\x20hiatus.',v['style'][an(0x17b)]=an(0x146));return;}u['disabled']=!![];v&&(v[an(0x151)]=an(0x172),v['style'][an(0x17b)]=an(0x173));try{const O=await F(M,N);v&&(v[an(0x151)]='Successfully\x20returned\x20to\x20'+O[an(0x185)]+'\x20ladder!',v['style'][an(0x17b)]=an(0x175)),setTimeout(()=>{const ao=an;if(H)H['style']['display']=ao(0x147);if(r)r[ao(0x190)][ao(0x16e)]='none';window[ao(0x149)]['reload']();},0x7d0);}catch(P){console['error']('Error\x20during\x20return\x20from\x20hiatus:',P),v&&(v['textContent']=P['message']||an(0x19b),v['style']['color']=an(0x146)),u[an(0x17d)]=![];}});const I=document['querySelector'](a0(0x184));I&&I[a0(0x164)]('click',()=>{const ap=a0;if(b)b[ap(0x190)]['display']='none';});const J=document['querySelector'](a0(0x15a));J&&J['addEventListener']('click',()=>{const aq=a0;if(h)h[aq(0x190)]['display']='none';});const K=document['querySelector']('#hiatus-prompt\x20.close-button');K&&K[a0(0x164)]('click',()=>{const ar=a0;if(m)m[ar(0x190)][ar(0x16e)]='none';});const L=document[a0(0x14b)](a0(0x163));L&&L['addEventListener'](a0(0x1a2),()=>{const as=a0;if(r)r[as(0x190)]['display']=as(0x147);}),b&&b['addEventListener']('click',M=>{const at=a0;M[at(0x193)]===b&&(b[at(0x190)]['display']='none');}),h&&h['addEventListener'](a0(0x1a2),M=>{const au=a0;M[au(0x193)]===h&&(h['style']['display']='none');}),m&&m['addEventListener'](a0(0x1a2),M=>{const av=a0;M['target']===m&&(m[av(0x190)]['display']=av(0x147));}),r&&r[a0(0x164)](a0(0x1a2),M=>{const aw=a0;M['target']===r&&(r['style'][aw(0x16e)]=aw(0x147));}),y(),setTimeout(()=>{z();},0x3e8);});