const a6_0x55f3be=a6_0xdaaf,a6_0x3633d5=(function(){let _0x2079f1=!![];return function(_0x306677,_0x5dd4d8){const _0x4833c7=_0x2079f1?function(){if(_0x5dd4d8){const _0x5d5a56=_0x5dd4d8['apply'](_0x306677,arguments);return _0x5dd4d8=null,_0x5d5a56;}}:function(){};return _0x2079f1=![],_0x4833c7;};}()),a6_0x535ea0=a6_0x3633d5(this,function(){const _0x4893e6=a6_0xdaaf,_0x39ce30=function(){let _0x3396ef;try{_0x3396ef=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x5e5c07){_0x3396ef=window;}return _0x3396ef;},_0x38fe4f=_0x39ce30(),_0x4029da=_0x38fe4f['console']=_0x38fe4f['console']||{},_0x43970d=['log','warn','info',_0x4893e6(0x1b3),'exception','table',_0x4893e6(0x1a3)];for(let _0x58f869=0x0;_0x58f869<_0x43970d['length'];_0x58f869++){const _0xb45358=a6_0x3633d5[_0x4893e6(0x179)]['prototype']['bind'](a6_0x3633d5),_0xb3398b=_0x43970d[_0x58f869],_0x384bb5=_0x4029da[_0xb3398b]||_0xb45358;_0xb45358['__proto__']=a6_0x3633d5['bind'](a6_0x3633d5),_0xb45358['toString']=_0x384bb5[_0x4893e6(0x181)][_0x4893e6(0x171)](_0x384bb5),_0x4029da[_0xb3398b]=_0xb45358;}});a6_0x535ea0();import{collection,getDocs,addDoc,query,orderBy,limit,startAfter,Timestamp,serverTimestamp,getDoc,doc,where,deleteDoc}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const mutedUsers=[{'username':'Daz','muteFromDate':new Date('2025-07-02')['getTime']()}];function isUsernameMuted(_0x1449d3,_0xa2a2bb){const _0x60cc9d=a6_0xdaaf;if(!_0x1449d3)return![];const _0x5c4375=mutedUsers['find'](_0x2a9db2=>_0x2a9db2['username']===_0x1449d3);if(!_0x5c4375)return![];if(!_0xa2a2bb)return!![];const _0x5cd862=_0xa2a2bb instanceof Date?_0xa2a2bb['getTime']():_0xa2a2bb['seconds']?_0xa2a2bb['seconds']*0x3e8:Date['now']();return _0x5cd862>=_0x5c4375[_0x60cc9d(0x1bb)];}function filterComment(_0x249b7e,_0x5bebc7,_0x1f3ccc){const _0x151010=a6_0xdaaf;if(!_0x249b7e)return'-';if(isUsernameMuted(_0x5bebc7,_0x1f3ccc))return _0x151010(0x1bf);return _0x249b7e;}function a6_0x40e6(){const _0x5a1f05=['Submit','filterUsername','commentAddPopup','No\x20valid\x20cursor,\x20fetching\x20from\x20beginning\x20and\x20skipping\x20pages','required','.match-card','preview-d1-button','demo','Failed\x20to\x20add\x20comment:\x20','Report','value','matchComments','toLocaleDateString','block','.match-date','approvedAt','prev','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-tabs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22option-tab\x20active\x22\x20data-option=\x22comment\x22>Add\x20Comment</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22option-divider\x22>OR</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22option-tab\x22\x20data-option=\x22demo\x22>Share\x20Demo\x20Link</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-content\x22\x20id=\x22commentOption\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22commentText\x22>Your\x20comment\x20(15\x20words\x20max):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22commentText\x22\x20name=\x22commentText\x22\x20rows=\x223\x22\x20placeholder=\x22Share\x20your\x20thoughts...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22word-counter\x22><span\x20id=\x22wordCount\x22>0</span>/15\x20words</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-content\x22\x20id=\x22demoOption\x22\x20style=\x22display:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22demoLink\x22>Demo\x20Link:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22url\x22\x20id=\x22demoLink\x22\x20name=\x22demoLink\x22\x20placeholder=\x22https://...\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22demoDescription\x22>Description\x20(20\x20words\x20max):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22demoDescription\x22\x20name=\x22demoDescription\x22\x20rows=\x222\x22\x20placeholder=\x22Describe\x20your\x20demo...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22word-counter\x22><span\x20id=\x22demoWordCount\x22>0</span>/20\x20words</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22submit\x22\x20class=\x22submit-comment-btn\x22>Submit</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</form>\x0a\x20\x20\x20\x20','loserUsername','button','commentPopupContentPreview','subgameType',':</strong>\x20\x22','Please\x20enter\x20a\x20demo\x20link','Comments\x20are\x20limited\x20to\x2015\x20words\x20maximum.\x20Please\x20shorten\x20your\x20comment.','previewPrevPage','Yesterday','bind','commentAddOverlay','commentOverlayPreview','previewNextPage','active','Error\x20fetching\x20','Failed\x20to\x20fetch\x20user\x20profile:','message','constructor','filter-pilots','previewCache_','filter-subgames','bronze','textContent','.match-display-wrapper','timestamp','toString','add','style','.popup-actions','demo-link','empty','forEach','winnerScore','No\x20results\x20found\x20for\x20this\x20page','max','.player.loser\x20.player-score','setAttribute','getElementById','includes','Clearing\x20cache\x20for\x20refresh/reset','15px','none','content','<div\x20class=\x22matches-loading\x22>No\x20matches\x20found\x20matching\x20filter:\x20\x22','displayName','loading-indicator','wordCount','isLoading','Unknown','Rendering\x20page\x20','Error\x20fetching\x20comments:','<div\x20class=\x22matches-loading\x22>No\x20matches\x20found\x20matching\x20current\x20filters.</div>','div','join','\x22</div>','color','split','approvedMatches','commentUser','trace','Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20comment?','<p>','flex','.option-tab.active','currentUser','.comments-container','createdAt','<div\x20class=\x22matches-loading\x22>Loading\x20recent\x20matches...</div>','appendChild','length','toggle','gauss-and-mercs','loserOldElo','removeAttribute','firstChild','error','No\x20description\x20provided','center','username','classList','.</div>','.add-comment-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22popup-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Add\x20Comment\x20or\x20Demo</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22closeAddCommentPopup\x22\x20class=\x22close-btn\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22addCommentForm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22commentMatchId\x22\x20name=\x22commentMatchId\x22\x20value=\x22','muteFromDate','pilots','You\x20need\x20to\x20be\x20signed\x20in\x20to\x20delete\x20comments','enhancedFilters','Muted.','log','.player.winner\x20.player-suicides','className','warn','commentPopupPreview','blind-match','Failed\x20to\x20cache\x20data:','winnerUsername','showAddCommentPopup','submitComment','slice','current','toLowerCase','filter','toLocaleString','uid','currentMatchId','demoLink','\x27s\x20Demo','Today','Comment\x20deleted\x20successfully','addEventListener','<div\x20class=\x22matches-loading\x22>No\x20more\x20matches\x20to\x20display','options','dataset','demoDescription','cursor','\x20from\x20cache','getItem','Submitting...','currentPage','matchId','lastVisible','disabled','emerald','keys','filter-levels','data','...','altered-powerups','input','createElement','preventDefault','Comment\x20from\x20','parentNode','removeItem','querySelector','commentText','innerHTML','default','currentMode','firstVisible','display','backgroundColor','trim','Demo\x20link','click','closeAddCommentPopup','submit','userProfiles','subgames','option','winnerDemoLink','docsData','matchesPerPage','exists','comment-popup','#b9f1fc','docs','Winner','S:\x20'];a6_0x40e6=function(){return _0x5a1f05;};return a6_0x40e6();}const previewState={'currentMode':'D1','currentPage':0x1,'matchesPerPage':0x5,'lastVisible':null,'firstVisible':null,'isLoading':![],'filterUsername':'','enhancedFilters':{'pilots':'','levels':'','subgames':[]},'totalPages':0x1,'hasReachedEnd':![]};function getCacheKey(_0x350aec,_0x2bd33b,_0x2c737d){const _0x3ea0bd=a6_0xdaaf,_0x55a394='u:'+(_0x2c737d['filterUsername']||'');return _0x3ea0bd(0x17b)+_0x350aec+'_p'+_0x2bd33b+'_'+_0x55a394;}function getCachedPage(_0x4fb9b8){const _0x1b5daa=a6_0xdaaf,_0x3210aa=sessionStorage[_0x1b5daa(0x1dc)](_0x4fb9b8);if(_0x3210aa)try{return JSON['parse'](_0x3210aa);}catch(_0x439ab3){return console['error']('Failed\x20to\x20parse\x20cache:',_0x439ab3),sessionStorage[_0x1b5daa(0x1ed)](_0x4fb9b8),null;}return null;}function cachePage(_0x5acea,_0x3e24d6){const _0x157c67=a6_0xdaaf;try{sessionStorage['setItem'](_0x5acea,JSON['stringify'](_0x3e24d6));}catch(_0x3b1423){console[_0x157c67(0x1b3)](_0x157c67(0x1c6),_0x3b1423);}}function getEloColor(_0x4b3df9){const _0x49c9c4=a6_0xdaaf,_0x57f626=Number(_0x4b3df9);if(_0x57f626>=0x7d0)return'#50C878';else{if(_0x57f626>=0x708)return'#FFD700';else{if(_0x57f626>=0x640)return _0x49c9c4(0x203);else{if(_0x57f626>=0x578)return'#CD7F32';else return'#808080';}}}}function formatDate(_0x2f1ced,_0xde3269=![]){const _0x1f2d97=a6_0xdaaf;if(!_0x2f1ced||!_0x2f1ced['seconds'])return'N/A';const _0x317481=new Date(_0x2f1ced['seconds']*0x3e8);return _0xde3269?_0x317481[_0x1f2d97(0x1ce)]():_0x317481[_0x1f2d97(0x162)]();}function truncateComment(_0x45d9e4,_0x389bb5=0x1e){const _0x1589b4=a6_0xdaaf;if(!_0x45d9e4)return'-';if(_0x45d9e4[_0x1589b4(0x1ad)]<=_0x389bb5)return _0x45d9e4;return _0x45d9e4['substring'](0x0,_0x389bb5)+_0x1589b4(0x1e6);}function a6_0xdaaf(_0x237da6,_0x593760){const _0x535ea0=a6_0x40e6();return a6_0xdaaf=function(_0x3633d5,_0x5b2e86){_0x3633d5=_0x3633d5-0x156;let _0x40e6bf=_0x535ea0[_0x3633d5];return _0x40e6bf;},a6_0xdaaf(_0x237da6,_0x593760);}function formatCommentDate(_0x3c4516){const _0x404c53=a6_0xdaaf;if(!_0x3c4516||!_0x3c4516['seconds'])return'';const _0x70396c=new Date(_0x3c4516['seconds']*0x3e8),_0x8c625c=new Date(),_0xa438f7=Math['abs'](_0x8c625c-_0x70396c),_0x1078c1=Math['floor'](_0xa438f7/(0x3e8*0x3c*0x3c*0x18));if(_0x1078c1===0x0)return _0x404c53(0x1d3);else{if(_0x1078c1===0x1)return _0x404c53(0x170);else return _0x1078c1<0x7?_0x1078c1+'\x20days\x20ago':_0x70396c['toLocaleDateString']();}}function setLoadingIndicator(_0x19c739){const _0x5a2acc=a6_0xdaaf,_0x4c5787=document['getElementById'](_0x5a2acc(0x195));if(_0x4c5787)_0x4c5787['style'][_0x5a2acc(0x1f4)]=_0x19c739?'block':'none';}export function updatePreviewLadderModeUI(){const _0xc079b6=a6_0xdaaf,_0x4b3976=document['getElementById']('preview-ladder-mode'),_0xa729fd=document[_0xc079b6(0x18d)](_0xc079b6(0x15c)),_0x1c503b=document[_0xc079b6(0x18d)]('preview-d2-button'),_0x2ef8c6=document[_0xc079b6(0x18d)]('preview-d3-button');if(_0x4b3976)_0x4b3976['textContent']=previewState['currentMode'];if(_0xa729fd)_0xa729fd[_0xc079b6(0x1b7)]['toggle'](_0xc079b6(0x175),previewState['currentMode']==='D1');if(_0x1c503b)_0x1c503b['classList'][_0xc079b6(0x1ae)]('active',previewState['currentMode']==='D2');if(_0x2ef8c6)_0x2ef8c6['classList']['toggle']('active',previewState[_0xc079b6(0x1f2)]==='D3');}function updatePreviewPaginationControls(_0x1de5ac){const _0x1ccc9e=a6_0xdaaf,_0x6b67b=document['getElementById'](_0x1ccc9e(0x16f)),_0x487a28=document[_0x1ccc9e(0x18d)](_0x1ccc9e(0x174)),_0x595089=document['getElementById']('previewPageInfo');if(!_0x6b67b||!_0x487a28||!_0x595089)return;_0x595089[_0x1ccc9e(0x17e)]='Page\x20'+previewState['currentPage'],_0x6b67b['disabled']=previewState['currentPage']<=0x1,_0x487a28[_0x1ccc9e(0x1e1)]=!_0x1de5ac;}function setPreviewLoadingState(_0x3cc5b3){const _0x31ae5c=a6_0xdaaf;previewState['isLoading']=_0x3cc5b3,setLoadingIndicator(_0x3cc5b3);const _0x1b3d8d=document[_0x31ae5c(0x18d)]('recent-matches-preview'),_0x371276=_0x1b3d8d?_0x1b3d8d['querySelector']('.matches-loading'):null,_0xd3e98a=document['getElementById']('previewPrevPage'),_0x3a2ac1=document['getElementById']('previewNextPage'),_0x2bf2cb=document['getElementById']('preview-d1-button'),_0x1fd441=document['getElementById']('preview-d2-button'),_0x57a054=document[_0x31ae5c(0x18d)]('applyFilterBtn'),_0x492481=document['getElementById']('clearFilterBtn');if(_0x371276&&!_0x3cc5b3)_0x371276[_0x31ae5c(0x183)][_0x31ae5c(0x1f4)]=_0x31ae5c(0x191);else _0x371276&&_0x3cc5b3&&(_0x371276['style'][_0x31ae5c(0x1f4)]=_0x31ae5c(0x163));!_0x3cc5b3&&_0x1b3d8d&&!_0x1b3d8d[_0x31ae5c(0x1ee)]('.match-card')&&!_0x1b3d8d['querySelector']('.matches-loading[style*=\x22color:\x20red\x22]')&&(_0x1b3d8d['innerHTML']='<div\x20class=\x22matches-loading\x22>No\x20recent\x20matches\x20found'+(previewState['filterUsername']?'\x20matching\x20filters':'')+_0x31ae5c(0x1b8));if(_0xd3e98a)_0xd3e98a['disabled']=_0x3cc5b3||previewState['currentPage']<=0x1;if(_0x3a2ac1)_0x3a2ac1['disabled']=_0x3cc5b3;if(_0x2bf2cb)_0x2bf2cb['disabled']=_0x3cc5b3;if(_0x1fd441)_0x1fd441['disabled']=_0x3cc5b3;if(_0x57a054)_0x57a054[_0x31ae5c(0x1e1)]=_0x3cc5b3;if(_0x492481)_0x492481['disabled']=_0x3cc5b3;}function applyClientFilters(_0x5c9e51){const _0x488754=a6_0xdaaf;if(!previewState['filterUsername'])return _0x5c9e51;const _0x5e9e16=previewState[_0x488754(0x157)][_0x488754(0x1cc)]();return _0x5c9e51['filter'](_0x195dce=>{const _0x50c557=_0x488754,_0x2818c4=(_0x195dce['winnerUsername']||'')['toLowerCase'](),_0x153e47=(_0x195dce['loserUsername']||'')[_0x50c557(0x1cc)]();return _0x2818c4['includes'](_0x5e9e16)||_0x153e47[_0x50c557(0x18e)](_0x5e9e16);});}function applyEnhancedClientFilters(_0x17889a){const _0x276347=a6_0xdaaf;if(!hasEnhancedFilters())return _0x17889a;return _0x17889a[_0x276347(0x1cd)](_0xa7912b=>{const _0x7d992f=_0x276347;if(previewState[_0x7d992f(0x1be)][_0x7d992f(0x1bc)]){const _0xc54006=previewState[_0x7d992f(0x1be)]['pilots']['toLowerCase'](),_0x24408c=(_0xa7912b[_0x7d992f(0x1c7)]||'')['toLowerCase'](),_0x22296e=(_0xa7912b[_0x7d992f(0x168)]||'')['toLowerCase']();if(!_0x24408c['includes'](_0xc54006)&&!_0x22296e['includes'](_0xc54006))return![];}if(previewState['enhancedFilters']['levels']){const _0x43a096=previewState[_0x7d992f(0x1be)]['levels']['toLowerCase'](),_0xca0b2a=(_0xa7912b['mapPlayed']||'')[_0x7d992f(0x1cc)]();if(!_0xca0b2a['includes'](_0x43a096))return![];}if(previewState[_0x7d992f(0x1be)][_0x7d992f(0x1fc)]['length']>0x0){const _0x26861e=_0xa7912b['subgameType']||'Standard\x20Match';if(!previewState['enhancedFilters']['subgames'][_0x7d992f(0x18e)](_0x26861e))return![];}return!![];});}function hasEnhancedFilters(){const _0x2cdf1d=a6_0xdaaf;return previewState['enhancedFilters']['pilots']||previewState[_0x2cdf1d(0x1be)]['levels']||previewState['enhancedFilters'][_0x2cdf1d(0x1fc)][_0x2cdf1d(0x1ad)]>0x0;}function clearEnhancedFilters(){const _0x24911d=a6_0xdaaf;previewState['enhancedFilters']={'pilots':'','levels':'','subgames':[]},document['getElementById']('filter-pilots')['value']='',document['getElementById'](_0x24911d(0x1e4))['value']='';const _0x9b9d3d=document['getElementById']('filter-subgames');for(let _0x3cf77b of _0x9b9d3d[_0x24911d(0x1d7)]){_0x3cf77b['selected']=![];}}function jumpToPage(_0x5948e1){const _0x25ae54=a6_0xdaaf,_0x585f06=document['getElementById']('jump-to-page'),_0x3aa5bf=previewState['currentPage'];let _0x5e4df3=_0x3aa5bf;switch(_0x5948e1){case'start':_0x5e4df3=0x1;break;case'end':_0x5e4df3=Math['max'](_0x3aa5bf+0xa,previewState['totalPages']||_0x3aa5bf+0xa);break;case'+1':_0x5e4df3=_0x3aa5bf+0x1;break;case'+5':_0x5e4df3=_0x3aa5bf+0x5;break;case'+10':_0x5e4df3=_0x3aa5bf+0xa;break;case'-1':_0x5e4df3=Math[_0x25ae54(0x18a)](0x1,_0x3aa5bf-0x1);break;case'-5':_0x5e4df3=Math[_0x25ae54(0x18a)](0x1,_0x3aa5bf-0x5);break;case'-10':_0x5e4df3=Math[_0x25ae54(0x18a)](0x1,_0x3aa5bf-0xa);break;case _0x25ae54(0x1e8):const _0x341ff3=parseInt(_0x585f06['value']);_0x341ff3&&_0x341ff3>0x0&&(_0x5e4df3=_0x341ff3,_0x585f06['value']='');break;}_0x5e4df3!==_0x3aa5bf&&_0x5e4df3>0x0&&(previewState[_0x25ae54(0x1de)]=_0x5e4df3,loadRecentMatchesPreview('jump'));}export async function loadRecentMatchesPreview(_0x1673f7='current'){const _0x27d5e4=a6_0xdaaf,_0x4576e8=document['getElementById']('recent-matches-preview'),_0x25b9ca=document[_0x27d5e4(0x18d)]('match-card-template');if(previewState[_0x27d5e4(0x197)]||!_0x4576e8||!_0x25b9ca)return;_0x1673f7===_0x27d5e4(0x1cb)&&(console['log'](_0x27d5e4(0x18f)),Object[_0x27d5e4(0x1e3)](sessionStorage)['forEach'](_0x4e1f2a=>{const _0x54fed1=_0x27d5e4;_0x4e1f2a[_0x54fed1(0x18e)]('previewCache_'+previewState['currentMode'])&&sessionStorage[_0x54fed1(0x1ed)](_0x4e1f2a);}));let _0x4db816=previewState['currentPage'];if(_0x1673f7==='next')_0x4db816++;else{if(_0x1673f7===_0x27d5e4(0x166))_0x4db816--;else _0x1673f7===_0x27d5e4(0x1cb)&&(_0x4db816=0x1,previewState[_0x27d5e4(0x1f3)]=null,previewState['lastVisible']=null);}if(_0x4db816<0x1)_0x4db816=0x1;const _0x4d0ccc=previewState['currentPage'];previewState[_0x27d5e4(0x1de)]=_0x4db816,updatePreviewPaginationControls(!![]);const _0x477968={'filterUsername':previewState['filterUsername']},_0x3dbd4e=getCacheKey(previewState['currentMode'],_0x4db816,_0x477968),_0x4bee8f=_0x1673f7!=='current'?getCachedPage(_0x3dbd4e):null;if(_0x4bee8f){console['log'](_0x27d5e4(0x199)+_0x4db816+_0x27d5e4(0x1db)),setPreviewLoadingState(!![]),renderMatchCards(_0x4bee8f[_0x27d5e4(0x1ff)]),updatePreviewPaginationControls(_0x4bee8f['hasNextPage']),setPreviewLoadingState(![]);return;}console[_0x27d5e4(0x1c0)]('Cache\x20miss\x20for\x20page\x20'+_0x4db816+',\x20fetching\x20from\x20Firestore'),setPreviewLoadingState(!![]),_0x4576e8[_0x27d5e4(0x1f0)]=_0x27d5e4(0x1ab);const _0x140680=previewState[_0x27d5e4(0x1f2)]==='D1'?_0x27d5e4(0x1a1):previewState['currentMode']==='D2'?'approvedMatchesD2':'approvedMatchesD3',_0x246a75=previewState[_0x27d5e4(0x1f2)]==='D1'?'createdAt':_0x27d5e4(0x165);try{const _0x50e2b8=collection(window['db'],_0x140680);let _0x557dd5=[orderBy(_0x246a75,'desc')];if(_0x4db816===0x1)console[_0x27d5e4(0x1c0)]('Loading\x20first\x20page\x20from\x20Firestore'),_0x557dd5['push'](limit(previewState['matchesPerPage']));else{if(_0x1673f7==='next'&&previewState['lastVisible'])console['log']('Loading\x20next\x20page\x20using\x20cursor'),_0x557dd5['push'](startAfter(previewState[_0x27d5e4(0x1e0)])),_0x557dd5['push'](limit(previewState[_0x27d5e4(0x200)]));else{console['log'](_0x27d5e4(0x159));const _0x355c13=_0x4db816*previewState[_0x27d5e4(0x200)];_0x557dd5['push'](limit(_0x355c13));}}const _0x46d13f=query(_0x50e2b8,..._0x557dd5),_0x4f1640=await getDocs(_0x46d13f);let _0x56068a=_0x4f1640['docs'];if(_0x4db816>0x1&&_0x1673f7!=='next'){const _0x3b4ca8=(_0x4db816-0x1)*previewState['matchesPerPage'];_0x56068a=_0x56068a['slice'](_0x3b4ca8,_0x3b4ca8+previewState['matchesPerPage']);}if(_0x56068a['length']===0x0){console['log'](_0x27d5e4(0x189));_0x1673f7==='next'&&(previewState['currentPage']=_0x4d0ccc,updatePreviewPaginationControls(![]));_0x4576e8['innerHTML']=_0x27d5e4(0x1d6)+(previewState['filterUsername']?'\x20matching\x20filters':'')+_0x27d5e4(0x1b8),setPreviewLoadingState(![]);return;}previewState['firstVisible']=_0x56068a[0x0],previewState[_0x27d5e4(0x1e0)]=_0x56068a[_0x56068a[_0x27d5e4(0x1ad)]-0x1];const _0x248339=_0x56068a['map'](_0x2bcdff=>({'id':_0x2bcdff['id'],..._0x2bcdff['data']()}));let _0xb80fd3=![];if(_0x56068a['length']===previewState['matchesPerPage']){const _0x18bee0=query(_0x50e2b8,orderBy(_0x246a75,'desc'),startAfter(previewState['lastVisible']),limit(0x1)),_0xfd026=await getDocs(_0x18bee0);_0xb80fd3=!_0xfd026[_0x27d5e4(0x186)];}const _0x91a7cf=applyClientFilters(_0x248339),_0x3f839e={'docsData':_0x248339,'hasNextPage':_0xb80fd3};cachePage(getCacheKey(previewState['currentMode'],previewState[_0x27d5e4(0x1de)],_0x477968),_0x3f839e);if(_0x4db816>0x1&&_0x1673f7!=='next')for(let _0x128828=0x1;_0x128828<_0x4db816;_0x128828++){const _0x497e2c=(_0x128828-0x1)*previewState['matchesPerPage'],_0x556e41=_0x497e2c+previewState['matchesPerPage'],_0x485156=_0x4f1640['docs'][_0x27d5e4(0x1ca)](_0x497e2c,_0x556e41);if(_0x485156[_0x27d5e4(0x1ad)]>0x0){const _0x46adf9=_0x485156['map'](_0x2212df=>({'id':_0x2212df['id'],..._0x2212df['data']()})),_0x22348a=!![];cachePage(getCacheKey(previewState['currentMode'],_0x128828,_0x477968),{'docsData':_0x46adf9,'hasNextPage':_0x22348a}),console['log']('Cached\x20intermediary\x20page\x20'+_0x128828);}}_0x91a7cf['length']===0x0&&previewState['filterUsername']?_0x4576e8['innerHTML']=_0x27d5e4(0x193)+previewState['filterUsername']+_0x27d5e4(0x19e):renderMatchCards(_0x91a7cf),updatePreviewPaginationControls(_0xb80fd3);}catch(_0x17d9ed){console['error'](_0x27d5e4(0x176)+previewState[_0x27d5e4(0x1f2)]+'\x20matches:',_0x17d9ed),_0x4576e8['innerHTML']='<div\x20class=\x22matches-loading\x22\x20style=\x22color:\x20red;\x22>Error\x20loading\x20matches:\x20'+_0x17d9ed['message']+'</div>',updatePreviewPaginationControls(![]),previewState[_0x27d5e4(0x1de)]=_0x4d0ccc;}finally{setPreviewLoadingState(![]);}}async function renderMatchCards(_0x3a9e1e){const _0x1e7d25=a6_0xdaaf,_0x497540=document['getElementById']('recent-matches-preview'),_0x88b712=document['getElementById']('match-card-template');if(!_0x497540||!_0x88b712)return;!_0x497540['querySelector']('.matches-loading[style*=\x22color:\x20red\x22]')&&(_0x497540['innerHTML']='');if(!_0x3a9e1e||_0x3a9e1e['length']===0x0){if(!_0x497540[_0x1e7d25(0x1ee)]('.matches-loading[style*=\x22color:\x20red\x22]')){const _0x56e60c=hasEnhancedFilters()?'\x20matching\x20filters':previewState['filterUsername']?'\x20matching\x20filters':'';_0x497540['innerHTML']='<div\x20class=\x22matches-loading\x22>No\x20recent\x20matches\x20found'+_0x56e60c+_0x1e7d25(0x1b8);}return;}const _0x5a95f5=applyEnhancedClientFilters(_0x3a9e1e);if(_0x5a95f5['length']===0x0){_0x497540['innerHTML']=_0x1e7d25(0x19b);return;}const _0x2cc336=_0x5a95f5['map'](_0x33f6c2=>getAllCommentsForMatch(_0x33f6c2['id']));let _0x29db68=[];try{_0x29db68=await Promise['all'](_0x2cc336);}catch(_0x24a7af){console['error']('Error\x20fetching\x20comments\x20batch:',_0x24a7af),_0x29db68=_0x5a95f5['map'](()=>[]);}const _0x2694c9={};_0x29db68['forEach']((_0x239194,_0x1e7730)=>{_0x2694c9[_0x5a95f5[_0x1e7730]['id']]=_0x239194||[];}),_0x5a95f5[_0x1e7d25(0x187)](_0x45dd49=>{const _0x4281b6=_0x1e7d25,_0x5dba9a=_0x88b712[_0x4281b6(0x192)]['cloneNode'](!![]),_0x2dd578=_0x5dba9a['querySelector'](_0x4281b6(0x17f)),_0x49807b=_0x5dba9a['querySelector'](_0x4281b6(0x15b)),_0x526651=getEloRankClass(_0x45dd49['winnerOldElo']);_0x49807b['classList'][_0x4281b6(0x182)]('winner-'+_0x526651),_0x49807b[_0x4281b6(0x1ee)]('.match-map')['textContent']=_0x45dd49['mapPlayed']||'Unknown\x20Map',_0x49807b[_0x4281b6(0x1ee)](_0x4281b6(0x164))['textContent']=formatDate(_0x45dd49['approvedAt']||_0x45dd49['createdAt']);const _0x311729=_0x49807b['querySelector']('.player.winner\x20.player-name');_0x311729['textContent']=_0x45dd49['winnerUsername']||_0x4281b6(0x198),_0x311729['style'][_0x4281b6(0x19f)]=getEloColor(_0x45dd49['winnerOldElo']),_0x49807b[_0x4281b6(0x1ee)]('.player.winner\x20.player-score')['textContent']=_0x45dd49[_0x4281b6(0x188)]??0x0;const _0x1174d5=_0x49807b['querySelector'](_0x4281b6(0x1c1)),_0x507d12=_0x45dd49['winnerSuicides']||0x0;_0x1174d5['textContent']=_0x4281b6(0x206)+_0x507d12;const _0x21772d=_0x49807b['querySelector']('.player.loser\x20.player-name');_0x21772d['textContent']=_0x45dd49[_0x4281b6(0x168)]||'Unknown',_0x21772d['style']['color']=getEloColor(_0x45dd49['loserOldElo']),_0x49807b['querySelector'](_0x4281b6(0x18b))['textContent']=_0x45dd49['loserScore']??0x0;const _0x56d2b3=_0x49807b[_0x4281b6(0x1ee)]('.player.loser\x20.player-suicides'),_0x38013a=_0x45dd49['loserSuicides']||0x0;_0x56d2b3['textContent']='S:\x20'+_0x38013a;const _0x55eb2e=_0x49807b['querySelector']('.match-subgame');if(_0x55eb2e){if(_0x45dd49['subgameType']&&_0x45dd49[_0x4281b6(0x16b)]['trim']()!==''){_0x55eb2e[_0x4281b6(0x17e)]=_0x45dd49['subgameType'],_0x55eb2e[_0x4281b6(0x183)]['display']='block';const _0x97b101=getSubgameClass(_0x45dd49['subgameType']);_0x97b101&&_0x55eb2e[_0x4281b6(0x1b7)]['add'](_0x97b101);}else _0x55eb2e[_0x4281b6(0x17e)]='Standard\x20Match',_0x55eb2e['style']['display']='block',_0x55eb2e[_0x4281b6(0x183)]['opacity']='0.6';}const _0x2f0027=_0x49807b['querySelector']('.comment.winner-comment'),_0x59ed3d=_0x49807b[_0x4281b6(0x1ee)]('.comment.loser-comment'),_0x3e4b13=_0x45dd49['winnerComment']||'',_0x35810f=_0x45dd49['loserComment']||'',_0x8f801d=_0x45dd49[_0x4281b6(0x165)]||_0x45dd49[_0x4281b6(0x1aa)],_0x3d87c8=filterComment(_0x3e4b13,_0x45dd49['winnerUsername'],_0x8f801d),_0xbf4ab1=filterComment(_0x35810f,_0x45dd49['loserUsername'],_0x8f801d);_0x2f0027['textContent']='\x22'+truncateComment(_0x3e4b13)+'\x22',_0x59ed3d['textContent']='\x22'+truncateComment(_0x35810f)+'\x22';_0x3e4b13&&!isUsernameMuted(_0x45dd49['winnerUsername'],_0x8f801d)?_0x2f0027['onclick']=()=>showPreviewCommentPopup(_0x3d87c8,_0x45dd49[_0x4281b6(0x1c7)]||_0x4281b6(0x205),getEloColor(_0x45dd49['winnerOldElo'])):(_0x2f0027[_0x4281b6(0x17e)]=_0x3d87c8==='Muted.'?'Muted.':'-',_0x2f0027['style']['cursor']='default',_0x2f0027['onclick']=null);_0x35810f&&!isUsernameMuted(_0x45dd49['loserUsername'])?_0x59ed3d['onclick']=()=>showPreviewCommentPopup(_0xbf4ab1,_0x45dd49['loserUsername']||'Loser',getEloColor(_0x45dd49[_0x4281b6(0x1b0)])):(_0x59ed3d['textContent']=_0xbf4ab1==='Muted.'?'Muted.':'-',_0x59ed3d['style'][_0x4281b6(0x1da)]=_0x4281b6(0x1f1),_0x59ed3d['onclick']=null);const _0x12e03b=_0x2dd578?.['querySelector']('.community-comments-section');if(!_0x12e03b)console[_0x4281b6(0x1c3)]('Comments\x20section\x20not\x20found\x20in\x20template');else{const _0x23496e=_0x12e03b['querySelector'](_0x4281b6(0x1a9)),_0x1b80dd=_0x23496e?.[_0x4281b6(0x1ee)]('.no-comments-message'),_0x37e11e=_0x12e03b[_0x4281b6(0x1ee)](_0x4281b6(0x1b9));if(_0x23496e){while(_0x23496e[_0x4281b6(0x1b2)]&&_0x23496e['firstChild']!==_0x1b80dd){_0x23496e['removeChild'](_0x23496e['firstChild']);}_0x37e11e&&_0x37e11e['addEventListener']('click',()=>{showAddCommentPopup(_0x45dd49['id']);});const _0x482b20=_0x2694c9[_0x45dd49['id']]||[];if(_0x482b20['length']>0x0){if(_0x1b80dd)_0x1b80dd['style']['display']='none';const _0x209eaf=(_0x6e51ff,_0x4ed05f)=>{const _0x1cf7a1=_0x4281b6,_0xafcdcc=_0x6e51ff[_0x1cf7a1(0x1a0)]('\x20');if(_0xafcdcc['length']<=_0x4ed05f)return _0x6e51ff;return _0xafcdcc['slice'](0x0,_0x4ed05f)[_0x1cf7a1(0x19d)]('\x20')+'...';};_0x482b20['forEach'](_0x2927e5=>{const _0xdbf0c4=_0x4281b6,_0x5b2849=document['createElement']('div');if(_0x2927e5['type']===_0xdbf0c4(0x15d)){_0x5b2849[_0xdbf0c4(0x1c2)]=_0xdbf0c4(0x185),_0x5b2849[_0xdbf0c4(0x1f0)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22'+_0x2927e5['demoLink']+'\x22\x20target=\x22_blank\x22\x20class=\x22play-icon\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<svg\x20viewBox=\x220\x200\x2024\x2024\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<path\x20d=\x22M8,5.14V19.14L19,12.14L8,5.14Z\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</svg>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22demo-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22demo-author\x22>Demo\x20from\x20'+_0x2927e5['username']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22demo-description\x22>'+(_0x2927e5['description']||_0xdbf0c4(0x1b4))+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x5e70b6=window['auth']['currentUser'],_0x4f4a78=_0x5e70b6&&_0x2927e5['userId']===_0x5e70b6['uid'];if(_0x4f4a78){const _0x152bac=document[_0xdbf0c4(0x1e9)]('button');_0x152bac['className']='delete-comment-btn',_0x152bac['innerHTML']='×',_0x152bac[_0xdbf0c4(0x18c)]('aria-label','Delete\x20demo'),_0x152bac['addEventListener'](_0xdbf0c4(0x1f8),_0x449af7=>{_0x449af7['preventDefault'](),_0x449af7['stopPropagation'](),deleteComment(_0x2927e5['id'],_0x5b2849);}),_0x5b2849[_0xdbf0c4(0x1ac)](_0x152bac);}}else{_0x5b2849['className']='comment-item';const _0x244a57=isUsernameMuted(_0x2927e5['username'],_0x2927e5['timestamp']),_0x3618cb=_0x244a57?_0xdbf0c4(0x1bf):_0x209eaf(_0x2927e5['text']||'',0xf),_0x2adc9d=_0x2927e5['username']||'Anonymous',_0x7202c3=window['auth']['currentUser'],_0x372000=_0x7202c3&&_0x2927e5['userId']===_0x7202c3['uid'];let _0x2279ad='';_0x372000&&(_0x2279ad='<button\x20class=\x22delete-comment-btn\x22\x20aria-label=\x22Delete\x20comment\x22>×</button>');_0x5b2849[_0xdbf0c4(0x1f0)]=_0x2279ad+'<strong>'+_0x2adc9d+_0xdbf0c4(0x16c)+_0x3618cb+'\x22';if(_0x372000){const _0x3e47ad=_0x5b2849[_0xdbf0c4(0x1ee)]('.delete-comment-btn');_0x3e47ad&&_0x3e47ad[_0xdbf0c4(0x1d5)]('click',_0x29c46a=>{_0x29c46a['stopPropagation'](),deleteComment(_0x2927e5['id'],_0x5b2849);});}!_0x244a57?_0x5b2849['addEventListener'](_0xdbf0c4(0x1f8),()=>{showFullCommentLightbox(_0x2927e5);}):_0x5b2849['style'][_0xdbf0c4(0x1da)]='default';}_0x23496e['insertBefore'](_0x5b2849,_0x23496e['firstChild']);});}else{if(_0x1b80dd)_0x1b80dd['style'][_0x4281b6(0x1f4)]='block';}}}const _0x4781e7=_0x49807b['querySelector']('.match-demo-links');if(_0x4781e7){const _0x1f135b=_0x49807b[_0x4281b6(0x1ee)]('.winner-demo-link'),_0x21dc63=_0x49807b['querySelector']('.loser-demo-link'),_0x4dbe40=_0x45dd49[_0x4281b6(0x1fe)]||null,_0x431bbd=_0x45dd49['loserDemoLink']||_0x45dd49['demoLink']||null;console[_0x4281b6(0x1c0)]('Match\x20'+_0x45dd49['id']+'\x20demo\x20links:',{'winner':_0x4dbe40,'loser':_0x431bbd}),_0x1f135b&&(_0x4dbe40?(_0x1f135b['href']=_0x4dbe40,_0x1f135b['style']['display']='flex',_0x1f135b['title']=_0x45dd49[_0x4281b6(0x1c7)]+_0x4281b6(0x1d2)):_0x1f135b[_0x4281b6(0x183)]['display']='none'),_0x21dc63&&(_0x431bbd?(_0x21dc63['href']=_0x431bbd,_0x21dc63['style']['display']=_0x4281b6(0x1a6),_0x21dc63['title']=_0x45dd49['loserUsername']+'\x27s\x20Demo'):_0x21dc63['style'][_0x4281b6(0x1f4)]='none'),_0x4dbe40&&_0x1f135b||_0x431bbd&&_0x21dc63?_0x4781e7['style']['display']='flex':_0x4781e7['style']['display']='none';}_0x497540['appendChild'](_0x5dba9a);});}function getSubgameClass(_0x50bc59){const _0x4cc869=a6_0xdaaf,_0x1c2b7d={'Fusion\x20Match':'fusion-match','≥6\x20Missiles':'missiles-6plus','≥6\x20missiles':'missiles-6plus','Weapon\x20Imbalance':'weapon-imbalance','Blind\x20Match':_0x4cc869(0x1c5),'Rematch':'rematch','Disorientation':'disorientation','Ratting':'ratting','Altered\x20Powerups':_0x4cc869(0x1e7),'Mega\x20Match':'mega-match','Dogfight':'dogfight','Gauss\x20and\x20Mercs':_0x4cc869(0x1af)};return _0x1c2b7d[_0x50bc59]||'';}async function deleteComment(_0x81cd85,_0x4a6927){const _0x5522bb=a6_0xdaaf,_0xba26d1=window['auth'][_0x5522bb(0x1a8)];if(!_0xba26d1){alert(_0x5522bb(0x1bd));return;}if(!confirm(_0x5522bb(0x1a4)))return;try{const _0x30a4d5=doc(window['db'],_0x5522bb(0x161),_0x81cd85),_0x348c71=await getDoc(_0x30a4d5);if(!_0x348c71['exists']()){alert('Comment\x20not\x20found.\x20It\x20may\x20have\x20already\x20been\x20deleted.');return;}const _0x62edd4=_0x348c71['data']();if(_0x62edd4['userId']!==_0xba26d1['uid']){alert('You\x20can\x20only\x20delete\x20your\x20own\x20comments');return;}await deleteDoc(_0x30a4d5);if(_0x4a6927&&_0x4a6927[_0x5522bb(0x1ec)]){_0x4a6927['parentNode']['removeChild'](_0x4a6927);const _0x49b54f=_0x4a6927['closest'](_0x5522bb(0x1a9));if(_0x49b54f&&!_0x49b54f[_0x5522bb(0x1ee)]('.comment-item')){const _0x2e5bf2=_0x49b54f[_0x5522bb(0x1ee)]('.no-comments-message');if(_0x2e5bf2)_0x2e5bf2['style'][_0x5522bb(0x1f4)]=_0x5522bb(0x163);}}console[_0x5522bb(0x1c0)](_0x5522bb(0x1d4));}catch(_0x3f4e46){console['error']('Error\x20deleting\x20comment:',_0x3f4e46),alert('Failed\x20to\x20delete\x20comment:\x20'+_0x3f4e46['message']);}}async function getAllCommentsForMatch(_0x2fb092){const _0x32d696=a6_0xdaaf;if(!_0x2fb092)return[];try{const _0xa19348=collection(window['db'],'matchComments'),_0x54a8ec=query(_0xa19348,where('matchId','==',_0x2fb092),orderBy('timestamp','desc')),_0x5b9eae=await getDocs(_0x54a8ec);if(_0x5b9eae['empty'])return[];return _0x5b9eae[_0x32d696(0x204)]['map'](_0x13b360=>({'id':_0x13b360['id'],..._0x13b360[_0x32d696(0x1e5)]()}));}catch(_0x10bbc1){return console['error'](_0x32d696(0x19a),_0x10bbc1),[];}}async function submitComment(_0x5d68df){const _0x2bb55d=a6_0xdaaf;_0x5d68df[_0x2bb55d(0x1ea)]();if(!window['auth']||!window['db']){console['error']('Firebase\x20not\x20initialized'),alert('Unable\x20to\x20submit\x20comment\x20-\x20system\x20not\x20ready');return;}const _0xc50868=window['auth']['currentUser'];if(!_0xc50868){alert('You\x20must\x20be\x20signed\x20in\x20to\x20leave\x20a\x20comment');return;}const _0x18226e=document[_0x2bb55d(0x18d)]('commentMatchId')?.['value'],_0x43c6a4=document[_0x2bb55d(0x18d)]('commentText')?.[_0x2bb55d(0x160)]?.['trim']();if(!_0x18226e||!_0x43c6a4){alert('Please\x20enter\x20a\x20comment\x20before\x20submitting');return;}const _0x305fee=_0x43c6a4['split'](/\s+/)['filter'](_0x4cf2e5=>_0x4cf2e5['length']>0x0)['length'];if(_0x305fee>0xf){alert(_0x2bb55d(0x16e));return;}const _0x5c6fd1=document['querySelector']('.submit-comment-btn');_0x5c6fd1&&(_0x5c6fd1['disabled']=!![],_0x5c6fd1['textContent']=_0x2bb55d(0x1dd));try{let _0x350203='Anonymous';try{const _0xd29838=doc(window['db'],'userProfiles',_0xc50868['uid']),_0x2efbb9=await getDoc(_0xd29838);if(_0x2efbb9[_0x2bb55d(0x201)]()){const _0x54c5d0=_0x2efbb9['data']();_0x54c5d0['username']&&(_0x350203=_0x54c5d0['username']);}_0x350203==='Anonymous'&&_0xc50868['displayName']&&(_0x350203=_0xc50868['displayName']);}catch(_0x33b9e9){console['warn'](_0x2bb55d(0x177),_0x33b9e9),_0xc50868[_0x2bb55d(0x194)]&&(_0x350203=_0xc50868[_0x2bb55d(0x194)]);}const _0x28817f={'matchId':_0x18226e,'userId':_0xc50868['uid'],'username':_0x350203,'text':_0x43c6a4,'timestamp':serverTimestamp()};console['log']('Submitting\x20comment\x20as:',_0x350203);const _0x3ea47f=collection(window['db'],'matchComments');await addDoc(_0x3ea47f,_0x28817f),console[_0x2bb55d(0x1c0)]('Comment\x20added\x20successfully'),closeAddCommentPopup(),loadRecentMatchesPreview('current');}catch(_0x566810){console[_0x2bb55d(0x1b3)]('Error\x20submitting\x20comment:',_0x566810),alert(_0x2bb55d(0x15e)+_0x566810[_0x2bb55d(0x178)]),_0x5c6fd1&&(_0x5c6fd1['disabled']=![],_0x5c6fd1[_0x2bb55d(0x17e)]='Submit');}}function closeAddCommentPopup(){const _0x288b85=a6_0xdaaf,_0x2f7fb8=document[_0x288b85(0x18d)](_0x288b85(0x158)),_0x154b2d=document[_0x288b85(0x18d)](_0x288b85(0x172));if(_0x2f7fb8)_0x2f7fb8['style']['display']=_0x288b85(0x191);if(_0x154b2d)_0x154b2d[_0x288b85(0x183)]['display']='none';}function showAddCommentPopup(_0x15f219){const _0x127f9a=a6_0xdaaf,_0x521a62=window['auth']['currentUser'];if(!_0x521a62){alert('You\x20need\x20to\x20be\x20signed\x20in\x20to\x20leave\x20a\x20comment\x20or\x20add\x20a\x20demo');return;}let _0x33c93a=document['getElementById']('commentAddPopup'),_0x55144f=document[_0x127f9a(0x18d)]('commentAddOverlay');!_0x33c93a&&(_0x33c93a=document['createElement'](_0x127f9a(0x19c)),_0x33c93a['id']='commentAddPopup',_0x33c93a['className']=_0x127f9a(0x202),document['body'][_0x127f9a(0x1ac)](_0x33c93a));!_0x55144f&&(_0x55144f=document['createElement']('div'),_0x55144f['id']='commentAddOverlay',_0x55144f['className']='comment-overlay',document['body'][_0x127f9a(0x1ac)](_0x55144f));_0x33c93a[_0x127f9a(0x1f0)]=_0x127f9a(0x1ba)+_0x15f219+_0x127f9a(0x167),_0x33c93a['style']['display']=_0x127f9a(0x163),_0x55144f['style'][_0x127f9a(0x1f4)]=_0x127f9a(0x163),document[_0x127f9a(0x18d)](_0x127f9a(0x1f9))['addEventListener']('click',closeAddCommentPopup),_0x55144f[_0x127f9a(0x1d5)]('click',closeAddCommentPopup);const _0x125780=_0x33c93a['querySelectorAll']('.option-tab');_0x125780[_0x127f9a(0x187)](_0x4ee308=>{_0x4ee308['addEventListener']('click',function(){const _0x2d1e34=a6_0xdaaf;_0x125780['forEach'](_0x1aaf98=>_0x1aaf98['classList']['remove'](_0x2d1e34(0x175))),document['querySelectorAll']('.option-content')['forEach'](_0x534f4c=>_0x534f4c['style']['display']='none'),this['classList']['add'](_0x2d1e34(0x175));const _0x421720=this[_0x2d1e34(0x1d8)]['option'];document[_0x2d1e34(0x18d)](_0x421720+'Option')['style'][_0x2d1e34(0x1f4)]='block',_0x421720==='demo'?(document['getElementById'](_0x2d1e34(0x1d1))[_0x2d1e34(0x18c)]('required',''),document['getElementById']('commentText')['removeAttribute']('required')):(document[_0x2d1e34(0x18d)]('demoLink')[_0x2d1e34(0x1b1)]('required'),document['getElementById']('commentText')['setAttribute'](_0x2d1e34(0x15a),''));});}),document[_0x127f9a(0x18d)](_0x127f9a(0x1ef))['setAttribute'](_0x127f9a(0x15a),''),document['getElementById']('demoLink')['removeAttribute']('required'),setupWordCounter(_0x127f9a(0x1ef),'wordCount',0xf),setupWordCounter(_0x127f9a(0x1d9),'demoWordCount',0x14),document['getElementById']('addCommentForm')['addEventListener'](_0x127f9a(0x1fa),submitCommentOrDemo);}function setupWordCounter(_0x2a2eb4,_0x2115ee,_0x4a882e){const _0x423f8c=document['getElementById'](_0x2a2eb4),_0x583f61=document['getElementById'](_0x2115ee);if(!_0x423f8c||!_0x583f61)return;_0x4eec82(),_0x423f8c['addEventListener']('input',_0x4eec82);function _0x4eec82(){const _0x4bfdeb=a6_0xdaaf,_0x5ef232=_0x423f8c['value'][_0x4bfdeb(0x1f6)](),_0x57637c=_0x5ef232?_0x5ef232[_0x4bfdeb(0x1a0)](/\s+/)['filter'](_0x14fc40=>_0x14fc40['length']>0x0)['length']:0x0;_0x583f61[_0x4bfdeb(0x17e)]=_0x57637c,_0x57637c>_0x4a882e?_0x583f61[_0x4bfdeb(0x183)][_0x4bfdeb(0x19f)]='#ff4444':_0x583f61[_0x4bfdeb(0x183)]['color']='#aaa';}}async function submitCommentOrDemo(_0xfa9e53){const _0x363933=a6_0xdaaf;_0xfa9e53['preventDefault']();if(!window['auth']||!window['db']){console[_0x363933(0x1b3)]('Firebase\x20not\x20initialized'),alert('Unable\x20to\x20submit\x20-\x20system\x20not\x20ready');return;}const _0x491516=window['auth']['currentUser'];if(!_0x491516){alert('You\x20must\x20be\x20signed\x20in\x20to\x20continue');return;}const _0x3d6627=document[_0x363933(0x18d)]('commentMatchId')['value'],_0x3db561=document['querySelector'](_0x363933(0x1a7))[_0x363933(0x1d8)][_0x363933(0x1fd)];let _0x535eab='Anonymous';try{const _0x2362be=doc(window['db'],_0x363933(0x1fb),_0x491516['uid']),_0x5ed6b9=await getDoc(_0x2362be);if(_0x5ed6b9['exists']()){const _0x4a1ecc=_0x5ed6b9[_0x363933(0x1e5)]();_0x4a1ecc['username']&&(_0x535eab=_0x4a1ecc[_0x363933(0x1b6)]);}_0x535eab==='Anonymous'&&_0x491516[_0x363933(0x194)]&&(_0x535eab=_0x491516[_0x363933(0x194)]);}catch(_0x14bb2d){console['warn']('Failed\x20to\x20fetch\x20username:',_0x14bb2d),_0x491516['displayName']&&(_0x535eab=_0x491516['displayName']);}const _0x231797=document[_0x363933(0x1ee)]('.submit-comment-btn');_0x231797&&(_0x231797['disabled']=!![],_0x231797[_0x363933(0x17e)]=_0x363933(0x1dd));try{if(_0x3db561==='comment'){const _0x20c650=document[_0x363933(0x18d)]('commentText')[_0x363933(0x160)][_0x363933(0x1f6)]();if(!_0x20c650){alert('Please\x20enter\x20a\x20comment\x20before\x20submitting'),_0x231797['disabled']=![],_0x231797[_0x363933(0x17e)]='Submit';return;}const _0x413d3a=_0x20c650['split'](/\s+/)[_0x363933(0x1cd)](_0x43122a=>_0x43122a['length']>0x0)['length'];if(_0x413d3a>0xf){alert('Comments\x20are\x20limited\x20to\x2015\x20words\x20maximum.\x20Please\x20shorten\x20your\x20comment.'),_0x231797['disabled']=![],_0x231797['textContent']='Submit';return;}const _0x5ba173={'matchId':_0x3d6627,'userId':_0x491516['uid'],'username':_0x535eab,'text':_0x20c650,'type':'comment','timestamp':serverTimestamp()},_0xae1259=collection(window['db'],_0x363933(0x161));await addDoc(_0xae1259,_0x5ba173);}else{const _0x2542a4=document['getElementById']('demoLink')['value']['trim'](),_0x4fb812=document[_0x363933(0x18d)]('demoDescription')['value'][_0x363933(0x1f6)]()||_0x363933(0x1f7);if(!_0x2542a4){alert(_0x363933(0x16d)),_0x231797[_0x363933(0x1e1)]=![],_0x231797['textContent']=_0x363933(0x156);return;}try{new URL(_0x2542a4);}catch(_0x4d7a6e){alert('Please\x20enter\x20a\x20valid\x20URL\x20for\x20the\x20demo\x20link'),_0x231797[_0x363933(0x1e1)]=![],_0x231797['textContent']='Submit';return;}const _0x139320=_0x4fb812['split'](/\s+/)[_0x363933(0x1cd)](_0x5a511f=>_0x5a511f['length']>0x0)['length'];if(_0x139320>0x14){alert('Demo\x20descriptions\x20are\x20limited\x20to\x2020\x20words\x20maximum.\x20Please\x20shorten\x20your\x20description.'),_0x231797['disabled']=![],_0x231797['textContent']='Submit';return;}const _0x4ba095={'matchId':_0x3d6627,'userId':_0x491516['uid'],'username':_0x535eab,'demoLink':_0x2542a4,'description':_0x4fb812,'type':'demo','text':'Demo:\x20'+_0x4fb812,'timestamp':serverTimestamp()},_0xd8c940=collection(window['db'],'matchComments');await addDoc(_0xd8c940,_0x4ba095);}closeAddCommentPopup(),loadRecentMatchesPreview('current');}catch(_0x4a9616){console[_0x363933(0x1b3)]('Error\x20submitting:',_0x4a9616),alert('Failed\x20to\x20submit:\x20'+_0x4a9616['message']),_0x231797&&(_0x231797[_0x363933(0x1e1)]=![],_0x231797[_0x363933(0x17e)]='Submit');}}function getEloRankClass(_0x43f054){const _0x26cfec=a6_0xdaaf,_0x5bc1ae=Number(_0x43f054);if(_0x5bc1ae>=0x7d0)return _0x26cfec(0x1e2);else{if(_0x5bc1ae>=0x708)return'gold';else{if(_0x5bc1ae>=0x640)return'silver';else{if(_0x5bc1ae>=0x578)return _0x26cfec(0x17d);else return'unranked';}}}}function showPreviewCommentPopup(_0x3945ba,_0x50368f,_0x1a3393='#fff'){const _0x205a75=a6_0xdaaf,_0x483036=document['getElementById']('commentPopupPreview'),_0x190f37=document[_0x205a75(0x18d)](_0x205a75(0x173)),_0x54f8c5=document['getElementById']('commentPopupTitlePreview'),_0x4c1ab6=document['getElementById'](_0x205a75(0x16a)),_0x5df960=document['getElementById']('reportCommentButton');if(!_0x483036||!_0x190f37||!_0x54f8c5||!_0x4c1ab6||!_0x5df960)return;_0x483036['dataset']['commentText']=_0x3945ba,_0x483036['dataset']['commentUser']=_0x50368f,_0x54f8c5[_0x205a75(0x183)]['color']=_0x1a3393,_0x54f8c5['textContent']=_0x205a75(0x1eb)+_0x50368f,_0x4c1ab6[_0x205a75(0x17e)]=_0x3945ba,_0x5df960['onclick']=reportComment,_0x483036['style']['display']=_0x205a75(0x163),_0x190f37['style']['display']=_0x205a75(0x163);}function closePreviewCommentPopup(){const _0x1795b1=a6_0xdaaf,_0x98e120=document[_0x1795b1(0x18d)](_0x1795b1(0x1c4)),_0x528bb1=document['getElementById']('commentOverlayPreview');if(_0x98e120)_0x98e120['style'][_0x1795b1(0x1f4)]='none';if(_0x528bb1)_0x528bb1['style'][_0x1795b1(0x1f4)]='none';}async function reportComment(){const _0x5863ed=a6_0xdaaf,_0x3f2d6f=window['auth']['currentUser'];if(!_0x3f2d6f){alert('You\x20need\x20to\x20be\x20signed\x20in\x20to\x20report\x20comments');return;}if(!confirm('Are\x20you\x20sure\x20you\x20want\x20to\x20report\x20this\x20comment\x20as\x20inappropriate?'))return;try{const _0x1fbffc=document['getElementById']('commentPopupPreview'),_0x51566d={'commentAuthor':_0x1fbffc['dataset']['commentUser']||'Unknown\x20User','commentText':_0x1fbffc['dataset']['commentText']||'','matchId':previewState[_0x5863ed(0x1d0)]||'','reportedBy':_0x3f2d6f[_0x5863ed(0x1cf)],'reporterUsername':_0x3f2d6f['displayName']||'Anonymous\x20User','reportedAt':serverTimestamp()},_0x33e7ee=collection(window['db'],'badComments');await addDoc(_0x33e7ee,_0x51566d),alert('Thank\x20you.\x20The\x20comment\x20has\x20been\x20reported\x20and\x20will\x20be\x20reviewed.'),closePreviewCommentPopup();}catch(_0x14d8a4){console['error']('Error\x20reporting\x20comment:',_0x14d8a4),alert('Failed\x20to\x20report\x20comment:\x20'+_0x14d8a4['message']);}}function showFullCommentLightbox(_0x4b75bd){const _0x6e4e61=a6_0xdaaf;if(isUsernameMuted(_0x4b75bd['username']))return;const _0x1e0609=document['getElementById']('commentPopupPreview'),_0x53c4ff=document['getElementById'](_0x6e4e61(0x173)),_0xa5c5d7=document[_0x6e4e61(0x18d)]('commentPopupTitlePreview'),_0x1cddb6=document[_0x6e4e61(0x18d)]('commentPopupContentPreview');if(!_0x1e0609||!_0x53c4ff||!_0xa5c5d7||!_0x1cddb6)return;_0xa5c5d7['style']['color']='#fff',_0xa5c5d7['textContent']='Comment\x20from\x20'+_0x4b75bd['username'];if(_0x4b75bd[_0x6e4e61(0x180)]){const _0xdcb2a1=new Date(_0x4b75bd['timestamp']['seconds']*0x3e8),_0x552340=_0xdcb2a1[_0x6e4e61(0x1ce)]();_0x1cddb6[_0x6e4e61(0x1f0)]=_0x6e4e61(0x1a5)+_0x4b75bd['text']+'</p><small\x20style=\x22color:#aaa;\x20display:block;\x20text-align:right;\x20margin-top:10px;\x22>Posted\x20on\x20'+_0x552340+'</small>';}else _0x1cddb6[_0x6e4e61(0x17e)]=_0x4b75bd['text'];_0x1e0609['dataset']['commentId']=_0x4b75bd['id']||'',_0x1e0609[_0x6e4e61(0x1d8)][_0x6e4e61(0x1a2)]=_0x4b75bd[_0x6e4e61(0x1b6)]||'',_0x1e0609[_0x6e4e61(0x1d8)][_0x6e4e61(0x1ef)]=_0x4b75bd['text']||'',_0x1e0609['dataset'][_0x6e4e61(0x1df)]=_0x4b75bd['matchId']||'';const _0x1c36d4=_0x1e0609['querySelector']('.popup-actions')||document[_0x6e4e61(0x1e9)]('div');!_0x1e0609['querySelector'](_0x6e4e61(0x184))?(_0x1c36d4['className']='popup-actions',_0x1c36d4['style']['display']='flex',_0x1c36d4['style']['justifyContent']=_0x6e4e61(0x1b5),_0x1c36d4['style']['gap']='10px',_0x1c36d4[_0x6e4e61(0x183)]['marginTop']=_0x6e4e61(0x190),_0x1e0609['appendChild'](_0x1c36d4)):_0x1c36d4[_0x6e4e61(0x1f0)]='';const _0xdaebf4=document[_0x6e4e61(0x1e9)]('button');_0xdaebf4['textContent']='Close',_0xdaebf4['className']='popup-btn\x20close-btn',_0xdaebf4['id']='closeCommentPopupPreview',_0xdaebf4['addEventListener']('click',closePreviewCommentPopup);const _0x192b30=document[_0x6e4e61(0x1e9)](_0x6e4e61(0x169));_0x192b30['textContent']=_0x6e4e61(0x15f),_0x192b30['className']='popup-btn\x20report-btn',_0x192b30[_0x6e4e61(0x183)][_0x6e4e61(0x1f5)]='#d32f2f',_0x192b30['addEventListener']('click',reportComment),_0x1c36d4[_0x6e4e61(0x1ac)](_0xdaebf4),_0x1c36d4['appendChild'](_0x192b30),_0x1e0609['style']['display']='block',_0x53c4ff['style'][_0x6e4e61(0x1f4)]=_0x6e4e61(0x163);}export function setupPreviewEventListeners(){const _0x19d0fd=a6_0xdaaf,_0x565ee1=document['getElementById']('previewPrevPage'),_0x36cc9a=document['getElementById']('previewNextPage'),_0xad49b4=document['getElementById'](_0x19d0fd(0x15c)),_0x53ff8c=document['getElementById']('preview-d2-button'),_0x100798=document['getElementById']('preview-d3-button'),_0x3936b1=document['getElementById']('filter-toggle-button'),_0x151056=document['getElementById']('enhanced-filter-section');if(!_0x565ee1||!_0x36cc9a||!_0xad49b4||!_0x53ff8c||!_0x100798||!_0x3936b1||!_0x151056){console['warn']('Preview\x20UI\x20or\x20Filter\x20elements\x20not\x20found,\x20cannot\x20attach\x20listeners.');return;}_0x565ee1['addEventListener']('click',()=>{const _0x4b8c18=_0x19d0fd;if(!_0x565ee1[_0x4b8c18(0x1e1)])loadRecentMatchesPreview(_0x4b8c18(0x166));}),_0x36cc9a['addEventListener']('click',()=>{const _0xb0721c=_0x19d0fd;if(!_0x36cc9a[_0xb0721c(0x1e1)])loadRecentMatchesPreview('next');}),_0xad49b4['addEventListener'](_0x19d0fd(0x1f8),()=>{previewState['currentMode']!=='D1'&&!previewState['isLoading']&&(previewState['currentMode']='D1',updatePreviewLadderModeUI(),loadRecentMatchesPreview('current'));}),_0x53ff8c['addEventListener'](_0x19d0fd(0x1f8),()=>{const _0x52d885=_0x19d0fd;previewState['currentMode']!=='D2'&&!previewState['isLoading']&&(previewState[_0x52d885(0x1f2)]='D2',updatePreviewLadderModeUI(),loadRecentMatchesPreview('current'));}),_0x100798[_0x19d0fd(0x1d5)]('click',()=>{previewState['currentMode']!=='D3'&&!previewState['isLoading']&&(previewState['currentMode']='D3',updatePreviewLadderModeUI(),loadRecentMatchesPreview('current'));});_0x3936b1&&_0x151056&&_0x3936b1['addEventListener'](_0x19d0fd(0x1f8),()=>{const _0x29cbcc=_0x19d0fd,_0x36a707=_0x151056['style'][_0x29cbcc(0x1f4)]!==_0x29cbcc(0x191);_0x151056['style']['display']=_0x36a707?'none':_0x29cbcc(0x163),_0x3936b1['classList'][_0x29cbcc(0x1ae)]('active',!_0x36a707);});const _0x25d57a=document['getElementById']('apply-enhanced-filters'),_0x48ef75=document[_0x19d0fd(0x18d)]('clear-enhanced-filters');_0x25d57a&&_0x25d57a['addEventListener']('click',()=>{const _0x4b8cd7=_0x19d0fd;previewState['enhancedFilters'][_0x4b8cd7(0x1bc)]=document[_0x4b8cd7(0x18d)](_0x4b8cd7(0x17a))['value']['trim'](),previewState['enhancedFilters']['levels']=document[_0x4b8cd7(0x18d)]('filter-levels')['value']['trim']();const _0x284a5d=document['getElementById'](_0x4b8cd7(0x17c));previewState['enhancedFilters']['subgames']=Array['from'](_0x284a5d['selectedOptions'])['map'](_0x5b898b=>_0x5b898b['value'])['filter'](_0x318d17=>_0x318d17!==''),loadRecentMatchesPreview(_0x4b8cd7(0x1cb));});_0x48ef75&&_0x48ef75['addEventListener']('click',()=>{clearEnhancedFilters(),loadRecentMatchesPreview('current');});document['querySelectorAll']('.jump-btn')['forEach'](_0x245596=>{const _0x26d161=_0x19d0fd;_0x245596[_0x26d161(0x1d5)]('click',()=>{const _0x1697ed=_0x245596['dataset']['jump'];jumpToPage(_0x1697ed);});});const _0x2ab69c=document[_0x19d0fd(0x18d)]('jump-to-page');_0x2ab69c&&_0x2ab69c['addEventListener']('keypress',_0x4afaaa=>{_0x4afaaa['key']==='Enter'&&jumpToPage('input');});const _0x47259e=document[_0x19d0fd(0x18d)]('closeCommentPopupPreview'),_0x5d84b8=document['getElementById'](_0x19d0fd(0x173));if(_0x47259e)_0x47259e['addEventListener'](_0x19d0fd(0x1f8),closePreviewCommentPopup);if(_0x5d84b8)_0x5d84b8[_0x19d0fd(0x1d5)](_0x19d0fd(0x1f8),closePreviewCommentPopup);const _0x37cdbe=document[_0x19d0fd(0x18d)]('closeAddCommentPopup'),_0x1c32dc=document[_0x19d0fd(0x18d)]('commentAddOverlay'),_0x15ab6c=document['getElementById']('addCommentForm');if(_0x37cdbe)_0x37cdbe['addEventListener']('click',closeAddCommentPopup);if(_0x1c32dc)_0x1c32dc[_0x19d0fd(0x1d5)]('click',closeAddCommentPopup);if(_0x15ab6c)_0x15ab6c[_0x19d0fd(0x1d5)](_0x19d0fd(0x1fa),submitComment);const _0xfbc18c=document['getElementById'](_0x19d0fd(0x1ef)),_0x141c34=document[_0x19d0fd(0x18d)](_0x19d0fd(0x196));_0xfbc18c&&_0x141c34&&setupWordCounter('commentText',_0x19d0fd(0x196),0xf);}window[a6_0x55f3be(0x1c8)]=showAddCommentPopup,window[a6_0x55f3be(0x1f9)]=closeAddCommentPopup,window[a6_0x55f3be(0x1c9)]=submitComment;