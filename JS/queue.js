function a43_0x18ef(_0x35830e,_0xd00e6b){const _0x42b823=a43_0x2384();return a43_0x18ef=function(_0x5bf399,_0xd26b0){_0x5bf399=_0x5bf399-0x14a;let _0x238481=_0x42b823[_0x5bf399];return _0x238481;},a43_0x18ef(_0x35830e,_0xd00e6b);}const a43_0x2171a7=a43_0x18ef,a43_0x5bf399=(function(){let _0xa7cf40=!![];return function(_0x5e3ea6,_0x2a6595){const _0x1de4b9=_0xa7cf40?function(){const _0x5b93b8=a43_0x18ef;if(_0x2a6595){const _0x5361cd=_0x2a6595[_0x5b93b8(0x155)](_0x5e3ea6,arguments);return _0x2a6595=null,_0x5361cd;}}:function(){};return _0xa7cf40=![],_0x1de4b9;};}()),a43_0x42b823=a43_0x5bf399(this,function(){const _0x2fe6c4=a43_0x18ef;let _0x2ec5d7;try{const _0x208671=Function(_0x2fe6c4(0x14e)+_0x2fe6c4(0x158)+');');_0x2ec5d7=_0x208671();}catch(_0x17a8de){_0x2ec5d7=window;}const _0x161c33=_0x2ec5d7['console']=_0x2ec5d7['console']||{},_0x5dd4fb=['log','warn','info','error',_0x2fe6c4(0x157),'table',_0x2fe6c4(0x159)];for(let _0x149723=0x0;_0x149723<_0x5dd4fb['length'];_0x149723++){const _0x40c40e=a43_0x5bf399[_0x2fe6c4(0x14a)][_0x2fe6c4(0x14f)]['bind'](a43_0x5bf399),_0x3c957c=_0x5dd4fb[_0x149723],_0x5c369f=_0x161c33[_0x3c957c]||_0x40c40e;_0x40c40e[_0x2fe6c4(0x15c)]=a43_0x5bf399[_0x2fe6c4(0x15e)](a43_0x5bf399),_0x40c40e['toString']=_0x5c369f['toString'][_0x2fe6c4(0x15e)](_0x5c369f),_0x161c33[_0x3c957c]=_0x40c40e;}});a43_0x42b823();import{db}from'./firebase-config.js';import{collection,query,where,onSnapshot,updateDoc,doc}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const readyPlayersRef=collection(db,'readyPlayers'),activePlayersQuery=query(readyPlayersRef,where('isReady','==',!![]));function updateQueueDisplay(_0x5b6a9e){const _0x494e4e=a43_0x18ef,_0x1670eb=document[_0x494e4e(0x14b)](_0x494e4e(0x14c));if(!_0x1670eb)return;if(_0x5b6a9e[_0x494e4e(0x15a)]===0x0){_0x1670eb['style'][_0x494e4e(0x15d)]='none';return;}_0x1670eb['style'][_0x494e4e(0x15d)]='block';let _0xe8ec41=_0x494e4e(0x156);_0x5b6a9e['forEach'](_0x12d185=>{const _0x674576=_0x494e4e;_0xe8ec41+=_0x674576(0x14d)+(_0x12d185['username']||'Unknown\x20Player')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22queue-time\x22>'+formatQueueTime(_0x12d185['lastUpdated'])+_0x674576(0x154);}),_0xe8ec41+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x1670eb['innerHTML']=_0xe8ec41;}function formatQueueTime(_0xef18dc){const _0x487388=a43_0x18ef;if(!_0xef18dc)return'Just\x20now';const _0x72991f=_0xef18dc['toDate']?_0xef18dc['toDate']():new Date(_0xef18dc),_0x31306b=new Date(),_0x3c3925=Math['floor']((_0x31306b-_0x72991f)/0xea60);if(_0x3c3925<0x1)return'Just\x20now';return _0x3c3925+_0x487388(0x150);}async function checkQueueTimeout(_0x3e8e4d){const _0x5ebef1=a43_0x18ef;if(!_0x3e8e4d['lastUpdated'])return;const _0x550dd9=_0x3e8e4d['lastUpdated']['toDate']?_0x3e8e4d['lastUpdated']['toDate']():new Date(_0x3e8e4d['lastUpdated']),_0x5093a5=new Date(),_0x280e86=Math['floor']((_0x5093a5-_0x550dd9)/0xea60);if(_0x280e86>=0x1e)try{const _0x545192=doc(db,_0x5ebef1(0x152),_0x3e8e4d['id']);await updateDoc(_0x545192,{'isReady':![]});}catch(_0x45c48a){console['error']('Error\x20removing\x20player\x20from\x20queue:',_0x45c48a);}}const unsubscribe=onSnapshot(readyPlayersRef,_0x1b48a9=>{const _0x1558e5=[];_0x1b48a9['forEach'](_0x57093b=>{const _0x59fb84=a43_0x18ef,_0x58f659=_0x57093b['data']();if(_0x58f659['isReady']===!![]){const _0x9064fc={'id':_0x57093b['id'],'username':_0x58f659[_0x59fb84(0x153)],'lastUpdated':_0x58f659[_0x59fb84(0x15b)]||new Date()};_0x1558e5['push'](_0x9064fc),checkQueueTimeout(_0x9064fc);}}),updateQueueDisplay(_0x1558e5);},_0x21233e=>{console['error']('Error\x20in\x20queue\x20listener:',_0x21233e);});window['addEventListener'](a43_0x2171a7(0x151),()=>{unsubscribe();});function a43_0x2384(){const _0x19c24a=['constructor','getElementById','queue-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-card\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-name\x22>','return\x20(function()\x20','prototype','m\x20in\x20queue','unload','readyPlayers','username','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','apply','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22queue-box\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>Waiting\x20for\x20a\x20game</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22queue-list\x22>\x0a\x20\x20\x20\x20','exception','{}.constructor(\x22return\x20this\x22)(\x20)','trace','length','lastUpdated','__proto__','display','bind'];a43_0x2384=function(){return _0x19c24a;};return a43_0x2384();}