function a21_0x3fb6(_0x20f018,_0x35acfd){const _0x230b68=a21_0x303b();return a21_0x3fb6=function(_0xa5996e,_0x46361b){_0xa5996e=_0xa5996e-0xc5;let _0x303b46=_0x230b68[_0xa5996e];return _0x303b46;},a21_0x3fb6(_0x20f018,_0x35acfd);}const a21_0x3fccb2=a21_0x3fb6,a21_0xa5996e=(function(){let _0x58375c=!![];return function(_0x1f05cb,_0x4aed22){const _0x2f2584=_0x58375c?function(){if(_0x4aed22){const _0xb641a3=_0x4aed22['apply'](_0x1f05cb,arguments);return _0x4aed22=null,_0xb641a3;}}:function(){};return _0x58375c=![],_0x2f2584;};}()),a21_0x230b68=a21_0xa5996e(this,function(){const _0x41be7e=a21_0x3fb6,_0x12968f=function(){const _0x577673=a21_0x3fb6;let _0x33d1a2;try{_0x33d1a2=Function('return\x20(function()\x20'+_0x577673(0xc8)+');')();}catch(_0xeb60bc){_0x33d1a2=window;}return _0x33d1a2;},_0x57e06e=_0x12968f(),_0x3a3400=_0x57e06e['console']=_0x57e06e['console']||{},_0x5a5e70=[_0x41be7e(0xca),'warn','info','error',_0x41be7e(0xc7),'table','trace'];for(let _0x258dd8=0x0;_0x258dd8<_0x5a5e70[_0x41be7e(0xce)];_0x258dd8++){const _0x3471cd=a21_0xa5996e['constructor']['prototype']['bind'](a21_0xa5996e),_0x4c549c=_0x5a5e70[_0x258dd8],_0x4b7fbe=_0x3a3400[_0x4c549c]||_0x3471cd;_0x3471cd['__proto__']=a21_0xa5996e['bind'](a21_0xa5996e),_0x3471cd[_0x41be7e(0xc5)]=_0x4b7fbe[_0x41be7e(0xc5)]['bind'](_0x4b7fbe),_0x3a3400[_0x4c549c]=_0x3471cd;}});function a21_0x303b(){const _0x461a9e=['toString','seasonNumber','exception','{}.constructor(\x22return\x20this\x22)(\x20)','init','log','createSeasonElement','innerHTML','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</table>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','length','createElement','div','position','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'];a21_0x303b=function(){return _0x461a9e;};return a21_0x303b();}a21_0x230b68();import{db}from'./firebase-config.js';import{collection,getDocs,query,orderBy}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';class HistoryViewer{async['init'](){const _0x3f4db9=a21_0x3fb6;try{const _0x3813b2=collection(db,'seasons'),_0x39c1af=query(_0x3813b2,orderBy(_0x3f4db9(0xc6),'desc')),_0x41b52b=await getDocs(_0x39c1af),_0x59c221=document['getElementById']('seasons-container');_0x41b52b['forEach'](_0x21a595=>{const _0x17040a=_0x3f4db9,_0x1ab3ad=_0x21a595['data'](),_0x2ca68b=this[_0x17040a(0xcb)](_0x1ab3ad);_0x59c221['appendChild'](_0x2ca68b);});}catch(_0x2be54b){console['error']('Error\x20loading\x20seasons:',_0x2be54b);}}[a21_0x3fccb2(0xcb)](_0x1e14a1){const _0x43211c=a21_0x3fccb2,_0x1d7f13=document[_0x43211c(0xcf)](_0x43211c(0xd0));_0x1d7f13['className']='season-container';const _0x309706=_0x1e14a1['date']['toDate']()['toLocaleDateString']();return _0x1d7f13[_0x43211c(0xcc)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22season-header\x22\x20onclick=\x22this.nextElementSibling.classList.toggle(\x27active\x27);\x20this.querySelector(\x27.toggle-icon\x27).classList.toggle(\x27active\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>Season\x20'+_0x1e14a1[_0x43211c(0xc6)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22toggle-icon\x22>â–¼</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22season-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Archived:\x20'+_0x309706+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22season-table\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Position</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Player</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Final\x20ELO</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1e14a1['players']['sort']((_0x4d4140,_0x297b0d)=>_0x4d4140[_0x43211c(0xd1)]-_0x297b0d['position'])['map'](_0x5a1c8c=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x5a1c8c['position']+_0x43211c(0xd2)+_0x5a1c8c['username']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x5a1c8c['eloRating']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+_0x43211c(0xcd),_0x1d7f13;}}const viewer=new HistoryViewer();viewer[a21_0x3fccb2(0xc9)]();