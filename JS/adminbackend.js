const a4N=a4b;(function(a,b){const L=a4b,c=a();while(!![]){try{const d=parseInt(L(0x39f))/0x1+-parseInt(L(0x2ec))/0x2*(parseInt(L(0x42a))/0x3)+parseInt(L(0x24a))/0x4+-parseInt(L(0x377))/0x5+parseInt(L(0x492))/0x6*(-parseInt(L(0x205))/0x7)+parseInt(L(0x455))/0x8*(parseInt(L(0x1b2))/0x9)+-parseInt(L(0x499))/0xa;if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a4a,0xc23e6));import{collection,getDocs,query,orderBy,addDoc,deleteDoc,where,doc,getDoc,serverTimestamp,setDoc,updateDoc,writeBatch,limit,startAfter,endBefore,limitToLast,onSnapshot,deleteField,or,Timestamp}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{auth,db}from'./firebase-config.js';import{getRankStyle}from'./ranks.js';import{isAdmin}from'./admin-check.js';let matchesPagination={'d1':{'page':0x1,'lastVisible':null,'firstVisible':null},'d2':{'page':0x1,'lastVisible':null,'firstVisible':null},'d3':{'page':0x1,'lastVisible':null,'firstVisible':null}};function getContrastColor(a){const M=a4b;if(!a)return'#ffffff';a=a['replace']('#','');a['length']===0x3&&(a=a[M(0x2d9)]('')['map'](h=>h+h)[M(0x1e4)](''));if(a['length']!==0x6)return'#ffffff';const c=parseInt(a[M(0x31a)](0x0,0x2),0x10),d=parseInt(a[M(0x31a)](0x2,0x4),0x10),e=parseInt(a[M(0x31a)](0x4,0x6),0x10),f=(c*0x12b+d*0x24b+e*0x72)/0x3e8;return f>=0x80?M(0x2e6):'#ffffff';}const DEFAULT_TROPHY_IMAGE=a4N(0x1bd),charts={};let currentLadder='D1',eloHistoryPagination={'d1':{'page':0x1,'lastVisible':null,'firstVisible':null},'d2':{'page':0x1,'lastVisible':null,'firstVisible':null},'d3':{'page':0x1,'lastVisible':null,'firstVisible':null}};const PAGE_SIZE=0xf;document['addEventListener']('DOMContentLoaded',()=>{auth['onAuthStateChanged'](async a=>{const O=a4b;if(!a){window['location']['href']=O(0x3f1);return;}try{await initializeAdminDashboard();}catch(b){console[O(0x385)]('Error\x20initializing\x20dashboard:',b),showNotification(O(0x207),'error');}});});async function getUserTabPermissions(a){const P=a4N;if(!a)return[P(0x33b)];console['log'](P(0x1bf)+a+'\x20in\x20all\x20collections...');const b=[{'name':'userProfiles','displayName':'User\x20Profiles'},{'name':P(0x2c5),'displayName':P(0x44f)},{'name':P(0x1da),'displayName':P(0x41c)},{'name':P(0x494),'displayName':'D3\x20Players'},{'name':P(0x4d1),'displayName':P(0x4be)}],c=auth['currentUser'];let d=null,e=null;for(const f of b){try{if(c){const g=doc(db,f[P(0x332)],c['uid']),h=await getDoc(g);if(h['exists']()){const i=h[P(0x461)]();console[P(0x32e)](P(0x219)+f[P(0x47b)]+'\x20by\x20UID:',i);const j=(i[P(0x3b7)]||i['role']||'')[P(0x1f4)]();if(j&&j!==P(0x210)){d=j,e=f[P(0x47b)],console['log'](P(0x3de)+d+P(0x297)+e);break;}}}if(!d){const k=collection(db,f[P(0x332)]),l=query(k,where('email','==',a)),m=await getDocs(l);if(!m[P(0x4c7)]){const n=m[P(0x38a)][0x0]['data']();console['log']('Found\x20user\x20in\x20'+f[P(0x47b)]+'\x20with\x20email\x20'+a+':',n);const o=(n[P(0x3b7)]||n['role']||'')[P(0x1f4)]();if(o&&o!==P(0x210)){d=o,e=f[P(0x47b)],console['log'](P(0x3de)+d+'\x20in\x20'+e);break;}}}}catch(p){console['error'](P(0x479)+f['displayName']+':',p);}}if(d){console[P(0x32e)]('Setting\x20permissions\x20based\x20on\x20role:\x20'+d+P(0x216)+e+')');const r={'admin':[P(0x33b),P(0x227),'manage-matches','manage-articles','manage-trophies',P(0x35b),P(0x4aa),P(0x2b0),P(0x404),P(0x3d0),P(0x23e),P(0x1cc),P(0x2f8),'manage-points',P(0x3b5),'manage-ribbons'],'owner':[P(0x33b),P(0x227),'manage-matches',P(0x388),'manage-trophies',P(0x35b),'inactive-players','settings',P(0x404),P(0x3d0),P(0x23e),'user-roles-section',P(0x2f8),P(0x401),P(0x3b5),P(0x246)],'council':['dashboard','manage-players','manage-matches'],'creative\x20lead':[P(0x33b),P(0x388),P(0x404),'elo-history',P(0x23e)]};if(r[d])return console['log'](P(0x2ce)+d+'\x27\x20has\x20permissions:',r[d]),r[d];}return console[P(0x32e)]('No\x20specific\x20permissions\x20for\x20user\x20'+a+',\x20giving\x20default\x20access'),[P(0x33b)];}function setupSidebarNavigation(a=[]){const Q=a4N,b=document['querySelectorAll']('.sidebar-nav\x20.nav-item'),c=document['querySelectorAll']('.admin-section');(!a||a[Q(0x2d7)]===0x0)&&(a=['dashboard']);b[Q(0x4d5)](e=>{const R=Q,f=e['getAttribute']('data-section');a[R(0x267)](f)?e[R(0x3da)][R(0x33f)]='flex':e['style'][R(0x33f)]=R(0x210),e['addEventListener'](R(0x394),()=>{const S=R,g=e['getAttribute']('data-section');if(!a[S(0x267)](g)){showNotification(S(0x3bc),S(0x385));return;}b[S(0x4d5)](i=>i['classList'][S(0x30c)](S(0x41d))),e[S(0x2c0)]['add'](S(0x41d)),c['forEach'](i=>{i['style']['display']='none';});const h=document[S(0x2f6)](g);h&&(h[S(0x3da)][S(0x33f)]=S(0x430),console[S(0x32e)]('Switched\x20to\x20'+g+S(0x337)));});});const d=document['querySelector'](Q(0x3bb)+a[0x0]+'\x22]');d&&d[Q(0x394)](),console[Q(0x32e)]('Sidebar\x20navigation\x20initialized\x20with\x20permissions');}function a4a(){const eG=['C2v0sg91CNm','rxjYB3iGBg9HzgLUzYbWB2LUDhmGAgLZDg9YEtO','C3rHCNreyxrL','rxjYB3iGzgvSzxrPBMCGBwf0y2G6','AgLNAgXPz2H0lxrPDgXL','rxjYB3iGB3bLBMLUzYbHC3nPz24GDhjVCgH5ig1VzgfSoG','tg9HzgLUzY4UlG','qxjLihLVDsbZDxjLihLVDsb3yw50ihrVigrLBgv0zsb0AgLZihbSyxLLCJ8GvgHPCYbHy3rPB24Gy2fUBM90igjLihvUzg9Uzs4','AgLZDg9YEs10ExbLlwzPBhrLCG','Cg9ZAxrPDMuTy2HHBMDL','yxj0AwnSzs1Pza','BwfWugXHEwvK','phrYpJX0zcbJB2XZCgfUpsi3iIbJBgfZCZ0IBg9HzgLUzY1JzwXSiJ5mB2fKAw5Nig1HDgnOzxmUlI48l3rKpJWVDhi+','zgvTB3rLzej5','BgfZDe1HDgnO','rxjYB3iGzgvSzxrPBMCGyxj0AwnSztO','Aw5Zzxj0qwrQywnLBNrfBgvTzw50','AgLNAgXPz2H0lwfJAgLLDMvTzw50lwrLDgfPBhm','vxnPBMCGy29SBgvJDgLVBNmGzM9Yia','igXHzgrLCIe','zwXVlwHPC3rVCNKTDgfIBguTyM9KEq','yxDHCMqTAxrLBs1MB3jT','BwfWtMfTzq','pc90zd4kicaGicaGicaGicaGicaGidX0zcbJBgfZCZ0IBgfKzgvYlwnLBgWIpG','zgvZyW','rM91BMqGruXpigHPC3rVCNKGzM9YihbSyxLLCIa','BwfUywDLlxjHBMTZ','pc9WpGOGicaGicaGicaGicaGicaGpha+phn0CM9UzZ5dDxjYzw50ifDPBM5LCIbqB3nPDgLVBJO8l3n0CM9UzZ4G','tM9UlvbHCNrPy2LWyw50','zgvZDhjVEq','iJ4kicaGicaGicaGicaGicaGicaGicaGicaGpgKGy2XHC3m9iMzHCYbMys1LzgL0iJ48l2K+cIaGicaGicaGicaGicaGicaGicaGpc9IDxr0B24+cIaGicaGicaGicaGicaGicaGicaG','AgLNAc1WB2LUDhm','ugXHEwvYig5VDcbMB3vUzcbPBIa','yNv0Dg9Uw3r5Cgu9iNn1yM1PDcjD','pc90zd4kicaGicaGicaGicaGicaGidX0zcbJBgfZCZ0IBMv3lwvSBYi+','rMLYzwjHC2uGy29UBMvJDgLVBIb0zxn0ihn1y2nLC3nMDwWH','AgLKzgvU','AgLNAgXPz2H0lxzPzgvVlxbYzxzPzxCTy29UDgfPBMvY','qxr0ywnOAw5NigjHy2TNCM91BMqGy2XPy2SGBgLZDgvUzxiU','iIb0AxrSzt0IuxvPy2SGrwrPDcbqB2LUDhmIpGOGicaGicaGicaGicaGicaGicaGidXPignSyxnZpsjMyxmGzMeTzwrPDci+pc9PpGOGicaGicaGicaGicaGicaGpc9IDxr0B24+cIaGicaGicaGicaGicaGica8yNv0Dg9UignSyxnZpsj2Awv3lwHPC3rVCNKTyNrUiIbKyxrHlxvZzxiTAwq9iG','Bg9ZzxjvC2vYBMfTzq','lMfKBwLUlwfJDgLVBG','4PYfiev4Axn0CW','y3jLyxrLzef0','lMnSB3nLlwj0BG','lMXHzgrLCI1ZD2L0y2GGAw5WDxrBDMfSDwu9iKqYiL0','tM8GBwf0y2GGzgf0ysbMB3vUzcbMB3iGCMvZAw11Bgf0Aw9U','qwXSigzPzwXKCYbHCMuGCMvXDwLYzwq','ww91vhvIzsbwAwrLBYbjrcaOt3b0Aw9UywWP','vgHPCYb3AwXSigfKzcbHihbVAw50CYbMAwvSzcaOC2v0ihrVidaPigzVCIbHBgWGDxnLCNmGD2HVigrVBID0igHHDMuGB25LihLLDc4Gq29UDgLUDwu/','phrYpJX0zcbJB2XZCgfUpsi3iIbJBgfZCZ0Izw1WDhKTC3rHDguIpK5VigLUywn0AxzLihbSyxLLCNmGBwf0y2GGEw91CIbJCML0zxjPytWVDgq+pc90CJ4','iIbUB3qGzM91BMqGAw4G','y29TBwL0','D2LUBMvYu3vPy2LKzxm','mZmWodGZnvDdsKL1AG','lxbHz2uTAw5KAwnHDg9Y','lMXVywrPBMCTy2vSBa','zwrPDc1OAwDOBgLNAhqTD2LUBMvYu2nVCMuTAw5WDxq','rMfPBgvKihrVigXVywqGDxnLCIbKyxrHoIa','tg9HzcbTyxrJAgvZigrHDgeGy2XPy2TLza','ywn0Aw9U','y3jLyxrLlwfJAgLLDMvTzw50lwHPz2HSAwDODc1IDg4','rgf0ysbSB2fKigj1DhrVBNmGAw5PDgLHBgL6zwqGyMfZzwqGB24GCgvYBwLZC2LVBNm','DhjVCgH5lxjHCML0Eq','cIaGicaGicaGicaGicaGicaGicaGicaGidXIDxr0B24Gy2XHC3m9iNjLBw92zs1YB2XLlwj0BIiGzgf0ys11C2vYBMfTzt0I','Aw1Hz2vvCMW','BgfZDfbVAw50C01VzgLMAwvK','twfUywDLifjPyMjVBNmGC2vJDgLVBIbPBML0AwfSAxPLza','zxjYB3i','ywnOAwv2zw1LBNruExbL','rw1LCMfSza','BwfUywDLlwfYDgLJBgvZ','rxjYB3iGB3bLBMLUzYbLzgL0ig1VzgfSoG','zg9JCW','tM8GBwf0y2HLCYbMB3vUza','yxj0AwnSzxmTDgfIBguTyM9KEq','zwrPDc1TyxrJAc1Tyxa','DhjVCgH5lw5HBwu','C2v0qxr0CMLIDxrL','BgfKzgvY','CM9SzunVBg9Y','zMeTy2HLy2STy2LYy2XL','rxjYB3iGBw9KAwz5Aw5NihbVAw50CZO','y2XPy2S','Bwf0y2GTCM93','Cg9PBNrZlwfZyW','cIaGicaGicaGicaGicaGica8l3rKpGOGicaGicaGicaGica','rxjYB3iGBg9HzgLUzYbHCNrPy2XLCZO','rxjYB3iGy3jLyxrPBMCGCMfUAYbKAxn0CMLIDxrPB24Gy2HHCNq6','i3vZzxjZlxrHyMXLlwjVzhKGDhjBzgf0ys11C2vYBMfTzt0I','Bwf0y2Hjza','zwXVsgLZDg9YEuqZ','B3bWB25LBNq','pc90zd4kicaGicaGicaGicaGicaGidX0zcbJBgfZCZ0IChjLDMLVDxmTzwXViJ4','mtiWmJq3n3DXAwnSuq','CxvPy2STywrK','uxvLCNKGzxHLy3v0zwqUievTChr5oG','ywnOAwv2zw1LBNrqBgf5zxi','uxvPy2SGzwrPDcbMB3jTihn1yM1PDhrLza','y2XHC3noyw1L','phrYpJX0zcbJB2XZCgfUpsi1iIbJBgfZCZ0IzxjYB3iTC3rHDguIpKvYCM9YigXVywrPBMCGCMLIyM9UCZWVDgq+pc90CJ4','zwrPDc1OAwDOBgLNAhqTBwfWlwLUChv0','CMfUA0rPC3rYAwj1DgLVBG','Dw5RBM93BG','zwrPDc1TyxrJAc13Aw5UzxiTC3vPy2LKzxm','ugXLyxnLigvUDgvYihzHBgLKigrHDge','C3rVCMuTAxrLBs1ZzwXLy3q','uxvPy2SGzwrPDcbJBgLJA2vKigzVCIb1C2vYoG','i2vSBY1OAxn0B3j5lxrHyMXLlwjVzhKGDhi','vw50AxrSzwqGvhjVCgH5','CMLIyM9UlxvZzxiTC2vHCMnO','AgLNAgXPz2H0lw1HCc1JCMvHDg9Y','Aw5WDxq','ChjVBw90zs11C2vYBMfTzq','rM9YBsbLBgvTzw50CYbHCMuGBwLZC2LUzW','CxvPy2STzwrPDc1LBwfPBa','BwfUywDLlwXLDMvSCY1YAwjIB25Z','Bg9Hzc1PBMfJDgL2zs1WBgf5zxjZlwrHDge','CM9Szu5HBwu','Aw5Uzxjive1m','phrYpJX0zcbJB2XZCgfUpsi2iIbJBgfZCZ0IBg9HzgLUzY1JzwXSiJ5mB2fKAw5NigHPC3rVCNKUlI48l3rKpJWVDhi+','Cg9PBNrZ','lNnPzgvIyxiTBMf2ic5UyxyTAxrLBvTKyxrHlxnLy3rPB249iG','ww91igrVig5VDcbOyxzLihbLCM1PC3nPB24GDg8GywnJzxnZihrOAxmGC2vJDgLVBG','CgXHEwvYlwnVDw50','DxnLCKLK','lNjLBw92zs1YAwjIB24TyNrU','pgKGy2XHC3m9iMzHCYbMys1ZEw5JlwfSDci+pc9PpIbmB2fKifrYB3bOAwvZ','iJ48l2K+cIaGicaGicaGicaGidXZCgfUpG','AgLNAgXPz2H0lxbSyxLLCI1WCM9MAwXL','rxjYB3iGBg9HzgLUzYb0CM9WAhKGzgvMAw5PDgLVBNm6','CMLIyM9UCW','u2vHCMnOAw5NigzVCIbWBgf5zxiGAw4G','rxjYB3iGChjVBw90Aw5NihbSyxLLCJO','CgXHEwvYuhjVzMLSzvvYBa','zgf0yxnLDa','tM8GCMfKAw8GyNv0Dg9UigzVDw5KigzVCIbJDxjYzw50igXHzgrLCJO','DxnLCLbYB2zPBgvZ','AgLNAgXPz2H0lxDPBM5LCI1Zy29Yzq','ChjVBw90zwrcEq','DhjVCgH5lwrLC2nYAxb0Aw9U','y29UzMLYBs1YzxnPBxvSyxrLlwj0BG','ywrKrxzLBNrmAxn0zw5LCG','zwXVlwHPC3rVCNK','uxvPy2SGzwrPDcbTB2rHBcbUB3qGzM91BMqGAw4GDgHLihbHz2u','phrYpJX0zcbJB2XZCgfUpsi1iIbJBgfZCZ0Izw1WDhKTC3rHDguIpK5VihvZzxjZigzVDw5Kpc90zd48l3rYpG','DgvZDa','ywrKlxjPyMjVBI1MB3jT','vw5RBM93BIbvC2vY','vgvZDgLUzYbgAxjLyMfZzsbJB25Uzwn0Aw9UlI4U','CM9SzufZC2LNBMvKqNK','zgvSzxrLlw1HDgnOlxn1Bw1HCNK','qxr0zw1WDgLUzYb0BYbWCM9TB3rLia','C3r5Bgu','AgLNAgXPz2H0lwXVC2vYlw5HBwu','yxnZAwDUlxrYB3bOEs1MB3jT','CxvLCNLtzwXLy3rVCKfSBa','rM91BMqGC3bLy2LMAwmGCM9SztOG','ig5VDcbMB3vUzcbPBIbHBNKGBgfKzgvY','rxjYB3iGyxbWBhLPBMCGzMLSDgvYCZO','zwrPDc1SB3nZzxm','yM9YzgvYuMfKAxvZ','y2fUy2vSlxf1AwnRlwvKAxq','C3vIBwL0DgvKqNK','Aw1Hz2u','i3bSyxLLCNmTDgfIBguTyM9KEsb0CG','pgKGy2XHC3m9iMzHCYbMys1ZEw5JlwfSDci+pc9PpIbmB2fKifvZzxjZierHDge','D2LUBMvYq29TBwvUDa','CgvUzgLUz1jLC2LTDwXHDgveyxrH','u3LZDgvT','uhjVzMLSzq','pc90zd4kicaGicaGicaGicaGicaGidX0zcbJBgfZCZ0IDxnLCM5HBwuIihn0EwXLpsjJB2XVCJOG','rxjYB3iGBg9HzgLUzYb0CM9WAgLLCZO','lMvTChr5lxn0yxrL','ChjVBw90Aw9U','iJ4kicaGicaGicaGicaGicaGicaGicaGicaGpgKGy2XHC3m9iMzHCYbMys1Wzw5JAwWTywX0iJ48l2K+cIaGicaGicaGicaGicaGicaGicaGpc9IDxr0B24+cIaGicaGicaGicaGicaGicaGicaGpgj1DhrVBIbJBgfZCZ0IzgvSzxrLlwfYDgLJBguTyNrUiIbKyxrHlwLKpsi','Bg9NAw4UAhrTBa','CxvPy2STCg9PBNrZlwfTB3vUDa','CMvM','tw9KywWGy2fUy2vSigj1DhrVBIbJBgLJA2vK','rMfPBgvKihrVigrLBgv0zsbWBgf5zxi6ia','ywn0AxzPDhKTy2HHCNq','y2XVC2vZDa','uMLIyM9UCYbKyxrHigXVywrLzcbZDwnJzxnZzNvSBhK','Aw5WDxrBBMfTzt0IChjVBw90zs1SywrKzxiIxtPJAgvJA2vK','zw1WDhKTC3rHDgu','DxnLCM5HBwu','sgLNAgXPz2H0ihvWzgf0zwqGC3vJy2vZC2z1BgX5iq','DhjPBq','twf0y2GGsgLNAgXPz2H0','y29TBw9U','C3rVCfbYB3bHz2f0Aw9U','BwfUywDLlxbVAw50CW','ug9PBNrZigrHDgeGBg9HzgvKihn1y2nLC3nMDwXSEq','rxjYB3iGBg9HzgLUzYbKyxnOyM9HCMqGzgf0ytO','BwfUywDLlxrYB3bOAwvZ','DhjVCgH5lw1VzgfS','iJ4kicaGicaGicaGicaGicaGicaGicaGicaGicaGidXPignSyxnZpsjMyxmGzMeTzwrPDci+pc9PpIbfzgL0cIaGicaGicaGicaGicaGicaGicaGicaGidWVyNv0Dg9UpGOGicaGicaGicaGicaGicaGicaGidWVDgq+cIaGicaGicaGicaGicaGica','Bwf0y2HFCMvZDwX0','CgXHEwvYuMLIyM9UC0qY','CgXHEwvYlxnLyxjJAa','BMv3lxbSyxLLCI11C2vYBMfTzq','qxr0zw1WDgLUzYb0BYbKzwXLDguGDhjVCgH5igrLzMLUAxrPB24GD2L0AcbjrdOG','C2vSzwn0zwqTDxnLCI1PBMzV','lMzVCM0Tz3jVDxa','Aw5Hy3rPDMuTCgXHEwvYCY1ZzwfYy2G','phrYpJX0zcbJB2XZCgfUpsi3iIbJBgfZCZ0IBg9HzgLUzY1JzwXSiJ5mB2fKAw5NigHPC3rVCNKUlI48l3rKpJWVDhi+','iIbHD2fYzgvKihrVia','cIaGicaGicaGicaGidXKAxyGy2XHC3m9iNjPyMjVBI1PBMzViJ4kicaGicaGicaGicaGicaGidXZDhjVBMC+','phrYpJX0zcbJB2XZCgfUpsi2iIbJBgfZCZ0IBg9HzgLUzY1JzwXSiJ5mB2fKAw5NigHPz2HSAwDODhmUlI48l3rKpJWVDhi+','CgXHEwvYswq','ugXHEwvYigLZigfSCMvHzhKGyxqGBwf4Aw11BsbYyw5RicHfBwvYywXKksbPBIa','CMvTB3zLrxzLBNrmAxn0zw5LCG','Bg9JywXLq29TCgfYzq','pgKGy2XHC3m9iMzHCYbMys1ZEw5JlwfSDci+pc9PpIbmB2fKifjPyMjVBNmGrgf0yq','ChjVBw90zs1WBgf5zxiTyNrU','ihrVDgfSihbSyxLLCNmGAw4GDgHLia','pc9WpGOGicaGicaGicaGicaGicaGpha+phn0CM9UzZ5nyxrJAcbeyxrLoJWVC3rYB25NpIa','Cg9PBNrZsgLZDg9YEq','rdiGugXHEwvYCW','ywn0AxzL','ugXHEwvYia','pc90zd48l3rYpG','pc9WpGOGicaGicaGia','rxjYB3iGyxDHCMrPBMCGAxrLBtO','rxjYB3iGBg9HzgLUzYb1C2vYCZO','i0zgrdCWma','Dg9mB2nHBgvtDhjPBMC','rxjYB3iGBg9HzgLUzYbPBMfJDgL2zsbWBgf5zxjZoG','zwrPDc1OAwDOBgLNAhqTCgXHEwvYuhjVzMLSzvvYBc1PBNb1Da','AgLNAgXPz2H0lwfJAgLLDMvTzw50lxbSyxLLCG','i0mWqZbdma','zwrPDc11C2vYBMfTzq','odqZtKLhANDy','zwrPDc1OAwDOBgLNAhqTBg9Zzxjty29Yzs1PBNb1Da','ww91ig11C3qGyMuGBg9Nz2vKigLUihrVihjLC2LTDwXHDguGBwf0y2HLCW','rgvTB3rPB24GBM90AwzPy2f0Aw9UihnLBNqGDg8GrgLZy29YzcbIB3q','y3jLyxrLlxrLC3qTBwf0y2GTBw9KywW','AgLNAgXPz2H0lwXVC2vYlxnJB3jL','yMXVy2S','DxnLCKfSBg93zwruywjZ','yxnJ','zgf0ys1TyxrJAc1Pza','pc9WpGOGicaGicaGicaGica8Cd48C3rYB25NpK1HCdO8l3n0CM9UzZ4G','Aw1N','q3vYCMvUDcb1C2vYoG','tw9KywWGB3bLBMvKihn1y2nLC3nMDwXSEq','y2fUy2vSlxbYB21VDguTyNrU','AgLNAgXPz2H0lxbSyxLLCNmTy29UDgfPBMvY','tM8GDxnLCNmGBMvLzgvKihbVAw50CYbMAwvSzcbPBML0AwfSAxPHDgLVBG','AgLNAgXPz2H0lxn1yM1PDhrLzc1IEs1JB250ywLUzxi','iJ4kicaGicaGicaGicaGicaGicaGicaGicaGpgKGy2XHC3m9iMzHCYbMys10CMfZAc1HBhqIpJWVAt4kicaGicaGicaGicaGicaGicaGica8l2j1DhrVBJ4kicaGicaGicaGicaGicaGidWVDgq+cIaGicaGicaGicaGia','pc9WpGOGicaGicaGicaGica8Cd48C3rYB25NpLbSyxLLCNm6pc9ZDhjVBMC+ia','pc9WpGOGicaGicaGicaGicaGicaGpha+phn0CM9UzZ5dDxjYzw50ieXVC2vYifbVC2L0Aw9UoJWVC3rYB25NpIa','pc90zd4kicaGicaGicaGicaGicaGidX0zd4','CMvZAw11Bgf0zu1HDgnO','pc90zd4kicaGicaGicaGicaGicaGicaGica8Dgq+cIaGicaGicaGicaGicaGicaGicaGicaGidXIDxr0B24Gy2XHC3m9iMj0BIbIDg4TC20GzwrPDc1YAwjIB25Zlwj0BIiGzgf0ys11C2vYBMfTzt0I','ifjHBMSGrgLZDhjPyNv0Aw9U','pc90zd4kicaGicaGicaGicaGicaGidX0zd4kicaGicaGicaGicaGicaGicaGica8yNv0Dg9UignSyxnZpsj2Awv3lxbSyxLLCI1IDg4IigrHDgeTDxnLCM5HBwu9iG','vxnLCIbKyxrHigXVywrLzdO','qxj0AwnSzsb1CgrHDgvKihn1y2nLC3nMDwXSEq','lNzPzxCTCgXHEwvYlwj0BG','rMfPBgvKihrVihvWzgf0zsbWBgf5zxi6ia','Bwf0y2HLCY1WywDLlwLUzgLJyxrVCG','phnWyw4Gy2XHC3m9iNjVBguTyMfKz2uIihn0EwXLpsjIywnRz3jVDw5KlwnVBg9YoIa','Bg9Hzc1TyxrJAgvZlwrHDge','zMXVB3i','BgfZDfzPC2LIBgu','y2fUy2vSlxjVBguTyNrU','twf0y2GGzgvSzxrLzcbZDwnJzxnZzNvSBhK','rdeGugXHEwvYCW','Bg9Hzc1HCNrPy2XLCY1KyxrH','vgL0BguGyw5KignVBNrLBNqGyxjLihjLCxvPCMvK','A2v5ChjLC3m','rxjYB3iGAw4GChjVBw90Aw9UoG','q3jLyxrVCIbOAwDOBgLNAhqGyNv0Dg9UignSAwnRzwq','mJq4zLnvCufo','vhjVCgH5ieLeigfUzcb1C2vYBMfTzsbHCMuGCMvXDwLYzwq','ihbVAw50CZWVzgL2pGOGicaGicaGicaGicaGicaGpc9KAxy+cIaGicaGicaGicaGia','tw9Uzgf5','Bg9HzgLUzW','zwrPDc1OAwDOBgLNAhqTywnOAwv2zw1LBNrqBgf5zxiTAw5WDxq','lNr5Cgu','AgLNAgXPz2H0lwfJAgLLDMvTzw50lxr5Cgu','Dg9mB2nHBgveyxrLu3rYAw5N','D2LUBMvYtMfTzq','vxnLCIa','qxjLihLVDsbZDxjLihLVDsb3yw50ihrVigrLBgv0zsb0AgLZihrYB3bOEsbKzwzPBML0Aw9UpYbuAgLZigfJDgLVBIbJyw5UB3qGyMuGDw5KB25LigfUzcbTAwDODcbHzMzLy3qGCgXHEwvYCYb3Ag8GAgf2zsbIzwvUigf3yxjKzwqGDgHPCYb0CM9WAhKU','zgf0yq','y2fUy2vSlxnLDc1LBg8TyNrU','AgLNAgXPz2H0lxzPzgvVlwnVBNrHAw5LCG','tMv2zxi','C2v0','pc90zd4kicaGicaGicaGicaGicaGidX0zcbJBgfZCZ0IC2nVCMuTy2vSBci+','twfWienYzwf0B3iGAxmGCMvXDwLYzwq','AgLNAgXPz2H0lwfJAgLLDMvTzw50lxr5CguTy29UDgfPBMvY','phrYpJX0zcbJB2XZCgfUpsi3iIbJBgfZCZ0Izw1WDhKTC3rHDguIpK5VihbSyxLLCNmGzM91BMqGAw4GDgHPCYbSywrKzxi8l3rKpJWVDhi+','D2LUCW','q3jLyxrLihrLC3qGBwf0y2GGyNv0Dg9UignSAwnRzwq','phrYpJX0zcbJB2XZCgfUpsi0iIbJBgfZCZ0Izw1WDhKTC3rHDguIpK5VigfYDgLJBgvZigzVDw5Kpc90zd48l3rYpG','C2v0lwvSBY12ywX1zq','qxjLihLVDsbZDxjLihLVDsb3yw50ihrVihjLBw92zsb0AguGCM9SzsbMCM9Tia','DhjVCgH5lxbYzxzPzxCTAw1N','ig5VDcbMB3vUzc4','pc90zd4kicaGicaGicaGicaGicaGidX0zcbJBgfZCZ0IBg9ZzxiTy2vSBci+','ChjLDMvUDerLzMf1Bhq','Dg9eyxrL','uxvLCNKGy3jLyxrLzdO','pgKGy2XHC3m9iMzHCYbMys1JAgvJAYi+pc9PpIbdB21WBgv0zwq','ugXLyxnLigvUDgvYigeGDxnLCM5HBwu','uxvPy2SGzwrPDcbMB3jTigLZigLUy29TCgXLDguUienOzwnRihrOzsbive1mihn0CNvJDhvYzs4','CgfYzw50tM9Kzq','rxjYB3iGy2HLy2TPBMCG','rM91BMqGCgXHEwvYihDPDgGGy3vYCMvUDcbfte86ia','zgLZCgXHEu5HBwu','rM91BMqGCMfKAw8GD2L0Acb2ywX1ztO','ywnOAwv2zw1LBNrjBwfNzvvYBa','igfSBg93zwqGDgfICZO','rxjYB3iGAw4GzgvTB3rPB246','sw5PDgLHBcbqBgfJzw1LBNq','AgLNAgXPz2H0lwzVCM0','pc90zd4kicaGicaGicaGicaG','ug9PBNrZihvWzgf0zwqGC3vJy2vZC2z1BgX5','yxnZAwDUlxbSyxLLCI11C2vYBMfTzq','vhjVCgH5ignYzwf0zwqGC3vJy2vZC2z1BgX5','C3vJy2vZCW','icHIyxnLzcbVBIbKyxrHlxjVBgu6ia','cIaGicaGicaGicaGicaGica8l3nWyw4+cIaGicaGicaGicaGidWVDgq+cIaGicaGicaGicaGidX0zd4','cIaGicaGicaGicaGicaGicaGicaGpc9ZCgfUpGOGicaGicaGicaGicaGicaGpc90zd4kicaGicaGicaGicaGicaGidX0zd4','pgKGy2XHC3m9iMzHCYbMys1ZEw5JlwfSDci+pc9PpIbmB2fKiefYDgLJBgvZierHDge','yxbWCM92zwrnyxrJAgvZ','BwfW','vw5Uyw1LzcbuCM9WAhK','phrKignVBhnWyw49iJuIignSyxnZpsjLBxb0Es1ZDgf0zsi+tM8GDxnLCNmGBwf0y2GGEw91CIbMAwX0zxjZpc90zd4','ChjVBw90zs1MB3jT','pc90zd4kicaGicaGicaGicaGicaGidX0zd4kicaGicaGicaGicaGicaGicaGica8C3bHBIbJBgfZCZ0ICg9PBNrZlwnOyw5Nzsa','uhjVBw90Aw9U','mZbwyuTSr0G','zgvSzxrLlw1HDgnOlwnVBMzPCM0TBw9KywW','CgXHEwvYC0qZ','jZWVDgq+','ww91ig11C3qGyMuGBg9Nz2vKigLUihrVihbLCMzVCM0GDgHPCYbHy3rPB24','AgLNAgXPz2H0lw1HDgnOlwrHDguTy29UDgfPBMvY','tg9HzcbOAwDOBgLNAhrZigrHDgeGy2XPy2TLza','mtq4nZa5odb5AgH1D3e','y2vSBhm','yxj0AwnSzxm','BMv3rwXV','vxnLCLbYB2zPBgu','zNjVBurHDgu','Bwf0y2GTzgv0ywLSCY1JB250ywLUzxi','phrYpJX0zcbJB2XZCgfUpsi3iIbJBgfZCZ0Izw1WDhKTC3rHDguIpK5Vig1HDgnOzxmGzM91BMqGzM9YihrOzsbZzwXLy3rLzcbMAwX0zxjZpc90zd48l3rYpG','yxbWCM92zwrbDa','rMfPBgvKihrVigfZC2LNBIb0CM9WAhK6ia','zxHPC3rZ','Aw5WDxrBBMfTzt0IzgvTB3rLlwXHzgrLCIjDoMnOzwnRzwq','twf0y2GGsuqGB3iGBgfKzgvYig1PC3nPBMC','AgLNAgXPz2H0lwrLC2nYAxb0Aw9U','phrYpJX0zcbJB2XZCgfUpsi2iIbJBgfZCZ0IBg9HzgLUzY1JzwXSiJ5mB2fKAw5NihbSyxLLCNmUlI48l3rKpJWVDhi+','uxvPy2SGzwrPDcbMB3jTigvSzw1LBNrZig1PC3nPBMCGzNjVBsbive1m','Bg9Zzxjty29Yzq','Aw5Hy3rPDMuTCgXHEwvYCW','vgvZDeXVC2vY','lMnSB3nLlw5VDgLMAwnHDgLVBG','tM8Gzw1HAwW','CMDIysGYmteSidq3lca0nYWGmc43kq','ugXHEwvYig5VDcbMB3vUza','tM8GCg9ZAxrPB24Gy2HHBMDLCYbUzwvKzwqU','DhjVCgH5rgvMAw5PDgLVBNm','twf0y2GGBM90igzVDw5KigLUigfWChjVDMvKig1HDgnOzxm','zwXV','Ahr0Chm6lY93D3CUEw91DhvIzs5JB20Vzw1IzwqV','CMvZAw11Bgf0zs1TyxrJAc1Pza','phrYpJX0zcbJB2XZCgfUpsi1iIbJBgfZCZ0IzxjYB3iTC3rHDguIpKvYCM9YigXVywrPBMCGDxnLCNm8l3rKpJWVDhi+','C2vHCMnOvgvYBq','pgrPDIbJBgfZCZ0IzxjYB3iIpKvYCM9YihnLyxjJAgLUzYb1C2vYCZWVzgL2pG','iIb0AxrSzt0IvMLLDYbqB2LUDhmGsgLZDg9YEsi+cIaGicaGicaGicaGicaGicaGicaGpgKGy2XHC3m9iMzHCYbMys1OAxn0B3j5iJ48l2K+cIaGicaGicaGicaGicaGica8l2j1DhrVBJ4kicaGicaGicaGicaGpc90zd4kicaGicaGica','y3vYCMvUDc1SywrKzxiTzgLZCgXHEq','CgXHEwvYCY10ywjSzs1IB2r5','phaGy2XHC3m9iM5VlxjPyMjVBNmIpK5VihjPyMjVBNmGzM91BMq8l3a+','C2v0lwvSBY1TB2rHBa','tM9UlvbHCNrPy2LWyw50CW','vgL0BguGAxmGCMvXDwLYzwq','Aw5Hy3rPDMuTCgXHEwvYCY10ywjSzs1IB2r5','ruXpihjHDgLUzYbMB3iG','t3bLBMLUzYbOAwDOBgLNAhqGBw9KywWGD2L0AcbWyxjHBwv0zxi6ia','AgLNAgXPz2H0lxzPzgvVlwLK','yxnZAwDUlxrYB3bOEs1YyxjPDhK','zwrPDc1WBgf5zxiTBw9KywW','iZGWoda4ma','zw1WDhK','yxj0AwnSzs1HDxrOB3i','pc9WpGOGicaGicaGicaGica8Cd48C3rYB25NpKXHzgrLCJO8l3n0CM9UzZ4G','DgLTzxn0yw1W','taOGicaGicaGicaGicaGicaGpc90zd4kicaGicaGicaGicaGicaGidX0zcbJBgfZCZ0Iywn0Aw9UCYi+cIaGicaGicaGicaGicaGicaGicaGpgj1DhrVBIbJBgfZCZ0IzwrPDc1IDg4IigrHDgeTAwq9iG','ugfNzsaX','pc90zd4kicaGicaGicaGicaGicaGidX0zcbJBgfZCZ0ICMfUAYi+cIaGicaGicaGicaGicaGicaGicaGphnWyw4Gy2XHC3m9iNjHBMSTyMfKz2uIihn0EwXLpsjIywnRz3jVDw5KlwnVBg9YoIa','ywrTAw5FBw9KAwzPy2f0Aw9U','u2v0igrLzMf1BhqGBgfKzgvYihrVoG','zMLYC3rwAxnPyMXL','BM9UugfYDgLJAxbHBNrZ','AgLNAgXPz2H0lwrLC2nYAxb0Aw9UlwnVBNrHAw5LCG','CgvUzgLUz01HDgnOzxnemG','ww91ig11C3qGyMuGBg9Nz2vKigLUihrVihnHDMuGDhjVCgHPzxm','zM9YrwfJAa','rxjYB3i','tg9Hzcb0CM9WAgLLCYbKyxrHignSAwnRzwq','tg9HzgvKia','y3jLyxrLlwnYzwf0B3iTAgLNAgXPz2H0lwj0BG','Cg9PBNrZlwfJDgLVBG','u3rHCNrPBMCGy29TCgXLDguGBwf0y2GGCMvZAw11Bgf0Aw9UlI4U','pc90zd4kicaGicaGicaGicaGicaGidX0zcbJBgfZCZ0Iywn0Aw9UCYi+cIaGicaGicaGicaGicaGicaGicaGpgj1DhrVBIbJBgfZCZ0IzwrPDc10CM9WAhKTyNrUiIbKyxrHlwLKpsi','zwrPDc1TyxrJAc1SB3nLCI1Kzw1V','vg9Nz2XPBMCGzMLLBgrZigzVCIbOAwDOBgLNAhqGDhLWztOG','uMvTB3zLzca','y29UDgvUDa','Bwf0y2HLCY1ZzwfYy2G','rxjYB3iGyxnZAwDUAw5NihrYB3bOEtO','D2LU','vxnLCM5HBwuGAxmGBwLZC2LUzW','C2v0lwvSBY11C2vYBMfTzq','pc9WpGOGicaGicaGicaGicaGicaGpha+phn0CM9UzZ5mB3nLCIbfte8GsgLZDg9YEtO8l3n0CM9UzZ4G','u2v0DgLUzYb1CcbWB2LUDhmGywn0Aw9Uigj1DhrVBNmUlI4','ic0GrMvHDhvYzsbJB21PBMCGC29VBG','vw5HDxrOB3jPEMvKoIbbzg1PBIbHy2nLC3mGCMvXDwLYzwq','C2vJB25KCW','AgLNAgXPz2H0lxr5Cgu','C2v0lxjVBguTBw9KywW','CMvKDwnL','u2LTCgXLihrLC3qGBwf0y2GGy3jLyxrLzcbZDwnJzxnZzNvSBhK','zgLZywjSzwq','yxj0AwnSzs1TB2rHBc10AxrSzq','phrYpJX0zcbJB2XZCgfUpsi3iIbJBgfZCZ0IBg9HzgLUzY1JzwXSiJ5bChbSEwLUzYbMAwX0zxjZlI4Upc90zd48l3rYpG','pgKGy2XHC3m9iMzHCYbMys1ZEw5JlwfSDci+pc9PpIbmB2fKierHC2HIB2fYzcbeyxrH','4P2mie1PC3nPBMC','CMLIyM9UCY1VDMvYDMLLDY10ywjSzs1IB2r5','D2LUBMvYvxnLCM5HBwu','zwrPDc1TyxrJAc10AxrSzq','zgf5C1nPBMnLtwf0y2G','rxjYB3iGBg9HzgLUzYbYAwjIB25ZoG','BM9UlxbHCNrPy2LWyw50','Bwf0y2HLCY1LBMqTzgf0zq','y2fUy2vSlwvKAxqTyNrU','zwrPDc1TyxrJAc13Aw5Uzxi','u2v0DgLUzYb1Ccbnyw5Hz2uGsgLNAgXPz2H0CYbZzwn0Aw9U','cIaGicaGicaGicaGicaGica8DgqGy2XHC3m9iNrPBwvZDgfTCci+','cIaGicaGicaGicaGicaGica8l3rKpGOGicaGicaGicaGica8l3rYpGOGicaGicaGia','qxjLihLVDsbZDxjLihLVDsb3yw50ihrVigrLBgv0zsb0AgLZig1HDgnOpYbuAgLZigfJDgLVBIbJyw5UB3qGyMuGDw5KB25LlG','rxjYB3iGC2vHCMnOAw5NihvZzxi6','DxbKyxrL','ndu2mZi3z0XcuKTy','ihvZzxjZlIa','y3jLyxrLlw5LDY10CM9WAhKTyNrU','y2f0y2G','C3jJ','iIbZzxq','C2vHCMnOlxjPyMjVBI11C2vYlwj0BG','rMfPBgvKihrVihnLBMqGrgLZy29YzcbUB3rPzMLJyxrPB246','cIaGicaGicaGlsbvC2vYCYb1CgrHDgvKihDPDgGGCg9PBNrZoIa','ugXHEwvYigLZigfSCMvHzhKGyxqGBwLUAw11BsbYyw5RicHvBNjHBMTLzcKGAw4G','CxvPy2STzwrPDc11C2vYlwLK','zgf0ytPPBwfNzs9WBMC7yMfZzty0lgLwqK9sDZblr2DVqufbqu5tvwHfvwDbqufdz0fbqufVq0fzqufbq00VCMH0qufbqunyqKLxwe1bqufZvefbquXfD0vbBxb3wufbqurivwXfuvzsng5pmLHtmgHvvvjQsgyZzKDUueDck2ncA3Pfquzsu2DSsdvTuuvPAxrjrM9zrvC2AuzYv0PVrtiWu1jLq1fvr2jyCLjXrvzgqJbtsuTlBNjOttn3vwXKBvfQyZvzAZq2tMPQChO3kZa2y081mhzuudnQCgXkmgzUrfLLnZv6Cg56l2u3mYTmnxPgzJrUk1GXu1vVqu02mJrhvw9bmeLbANCRsvm1qLD3z0njD0nIDufUmefJtvDpC1a0tKHfk0jSCuvQBxHewLfdCtrinvfdB1fZquXnv0PQtfDNtvr2tJHguefmDvDxCZm4twHUzKnVuw9cDKLcwtreDtrfvNDdEvbeAJDmk3b0qs9tl1Dynevxnefmuu1nmwCVAZHgBue1vufqDujAwunlotr3uNLyBvu2vgX3revgENDesgDSDe9iBLfly0jxD0zQz0W1AMDSt1ruzujjoej0DxDKvM13zuXNq3zbqxnJA3bXofH3rgfNELe3uwjVufPrqZfrn0PQqtDlz1GYquOWmNPRD21Qsu51qxPvEKHdEuDUquzTre1AnerXz0vsse5urxncrg12vdbLvLnztMD4mvbtBdi4Ce9SzgnhDNCVv0fpzuiRwtzWEKv3uevkvJf6t3zcugnbsNGWuM1mzZnzr3CWwxu4meC0tfjQrxjpALuWqNHkr0fsy0iXwtzkAKu3r2Drs0fenNC0rM1bttnbvxnJrtrWtxvVENfPz3jnytuYuLvlAuSRAxb4s0rsA1zsqvLtB2LeD0rmAuXls1u5AxfltwDPuvjimNDfBhnKEhDeugDmuefbt1O0rM8Vwvy1qK5RqvHysxzgz0XyqvmRmNDeBKfvmK1Arw1ZsK9jsZHoCuCVD0vwD0nSrw9srw1mzuTqntbOBJvgu3zNvdnbwtv2k0O1sg1ivLO0AvKRCe5hmeuXD0vZCYTgyMPyuZj2AMDLvuPfvhPztePfnsTNEJvHsfHtEMXrqM5rrLe5z0nqsdvgngXmotrcmKCZEwWWuuuRANDKD0jkz0G5rvnttwDYy3rLrZDitKPPAgSXqtnbtu9bz2vcvdLfn05fmeXbA0vUrwTzshffyte2mLfnBISWmI9msNn4CgCWwuXLEfvsvgWZy1nNBxfzrLrotwnJueOXDuLeuhH1wvnJrhLhmZfmCZeRrwjlnM11u0LbDwW4Dfe3sNjXnujVr1DOvKzduuO3A1fRAMXUsvfguJfus293tKDznKPVBw5nuwTtB0D2AvH2qvDxs0LVu2PNvNHqzeX0DNDlD1eXr1ven0vdDwDcrfvsvfbLsfvczKL3vLvotZbfv1b5v1qRBu5hqLeXm1DytJzdCuTVt0Dzwvq4zMO4k24YtKndwxLmAw9VqZHMnZveodz1A2DusLPtr2nbqufbquvSrLrRu3vrBund','yxbWCM92zwrnyxrJAgvZrdm','tg9VA2LUzYbMB3iGDxnLCIbYB2XLigLUzM9YBwf0Aw9UigzVCIa','rMfPBgvKihrVihnHDMuGDhjVCgH5oIa','zwrPDc1TyxrJAc1TB2rHBa','q3jLyxrLie5LDYa','CMvWBgfJzunOAwXK','AgLNAgXPz2H0lwnYzwf0B3iTAw1Hz2u','y3jLyxrVCI10ExbL','D2fYBG','B3bLBLjLC2LTDwXHDgvnB2rHBcbJywXSzwqH','Bwf0y2HLCY10ywjSzs1IB2r5','CMfUAY1KAxn0CMLIDxrPB24Ty2HHCNq','z2v0uMfUA05HBwu','tg9HzcbWBgf5zxjZigrHDgeGy2XPy2TLza','DxnLCI1YB2XLCY1Zzwn0Aw9U','DgvZDezPCMvIyxnLq29UBMvJDgLVBG','mtiWma','rxjYB3iGChjVBw90Aw5NihbSyxLLCJOG','igXHzgrLCG','phnWyw4Gy2XHC3m9iM5VlxjVBguIpK5VBMu8l3nWyw4+','yM9KEq','DxnLCLrYB3bOAwvZ','q3jLyxrLzca','y2fUy2vSlwHPz2HSAwDODc1IDg4','pgKGy2XHC3m9iMzHCYbMys1ZCgLUBMvYigzHlxnWAw4IpJWVAt4Gtg9HzgLUzY4UlG','q3jLyxrLiefYDgLJBgu','sgLNAgXPz2H0igrLBgv0zwqGC3vJy2vZC2z1BgX5','DgvZDc1TyxrJAc13Aw5UzxiTDxnLCM5HBwu','CgXHEwvYC0qY','zxjYB3iTC3rHDgu','Aw5MBW','uMvTB3zLia','rMvHDhvYzwqGq3jLyxrVCG','BwLNCMf0Aw9UlxnLy3rPB24','lNbSyxLLCG','C291CMnL','C2L6zq','ug9PBNrZihvWzgf0zwqGC3vJy2vZC2z1BgX5igzVCIb1C2vYoG','AM9PBG','pc90zd4kicaGicaGicaGicaGicaGidX0zcbJBgfZCZ0IDhLWzsi+','DwLK','ChvZAa','CgfKzgLUzW','AgLNAgXPz2H0lw1HCa','mc42','vhjVCgH5ig5VDcbMB3vUza','u2v0DxaGtwfUywDLiefYDgLJBgvZoIbdCMvHDguGqxj0AwnSzsbIDxr0B24GBM90igzVDw5Kiq','CMvZzxqTBwf0y2HLCY1MAwX0zxjZ','pgKGy2XHC3m9iMzHCYbMys1ZEw5JlwfSDci+pc9PpIbmB2fKieHPC3rVCNKGrgf0yq','CgXHEwvYuMLIyM9UCW','lMvKAxqTBwf0y2GTyNrU','DMLZAwjPBgL0Eq','ww91ig11C3qGyMuGBg9Nz2vKigLUihrVigfZC2LNBIb0CM9WAgLLCW','Dg9ju09tDhjPBMC','Dg9mB3DLCKnHC2u','zwrPDc1TyxrJAc1SB3nLCI1JB21Tzw50','BM9UzxHPC3rLBNq','Bwf0y2HjBMzV','q3jLyxrLihrLC3qGBwf0y2GGBw9KywWGBM90igzVDw5KigLUierptq','ugXHEwvYie5HBwuGAxmGCMvXDwLYzwq','igHPC3rVCNKGzw50CMLLCYbMB3iGDxnLCIa','C2v0rgf0zq','ww91ig11C3qGyMuGBg9Nz2vKigLUihrVigrLBgv0zsb0CM9WAgLLCW','rxjYB3iGzgvSzxrPBMCGAgLNAgXPz2H0oIa','Bwf0y2HmAw5R','i3rYB3bOEs1TB2rHBcaUy2XVC2uTyNrUlcaJyxnZAwDUlxrYB3bOEs1TB2rHBcaUy2XVC2uTyNrU','pc90zd4kicaGicaGicaGicaGicaGidX0zcbJBgfZCZ0ID2LUBMvYlwnLBgWIpG','y2HLy2TLza','igzYB20G','zwXVsgLZDg9YEq','yxnZAwDUlxrYB3bOEs1TB2rHBa','mti5mdmXyuvYtMHW','zwrPDc1OAwDOBgLNAhqTBg9Zzxjoyw1LlwLUChv0','rxjYB3iGC2v0DgLUzYb1CcbHzg1PBIbKyxnOyM9HCMq','C29YDa','pgKGy2XHC3m9iMzHCYbMys1ZEw5JlwfSDci+pc9PpIbmB2fKieLUywn0AxzLifbSyxLLCNm','y2HHBMDL','C2vHCMnOlxjLC3vSDc1PDgvT','4PYfifn1y2nLC3nMDwXSEsbPBML0AwfSAxPLzcbWB2LUDhmGzMLLBgqGzM9Yia','ihzPzxCGAgLZDg9YEsbIDxr0B25Z','i21HDgnOzxmTDgfIBguTyM9KEsb0CG','Bw9KAwzPzwrcEq','BM9Uzq','zwXVlwHPC3rVCNKTC2vHCMnO','iJ4kicaGicaGicaGicaGicaGicaGicaGicaGpgKGy2XHC3m9iMzHCYbMys1Wzw5JAwWTywX0iJ48l2K+cIaGicaGicaGicaGicaGicaGicaGpc9IDxr0B24+cIaGicaGicaGicaGicaGicaGicaGpgj1DhrVBIbJBgfZCZ0IzgvSzxrLlwj0BIiGzgf0ys1Pzd0I','CMvHC29U','Aw5PDgLHBf9WBgfJzw1LBNq','DxnLCNmTDgfIBguTyM9KEq','icHMCM9Tia','zwrPDc1OAwDOBgLNAhqTy3jLyxrVCKLTywDLvxjSlwLUChv0','q3jLyxrVCG','rM91BMqGDxnLCIbPBIa','uM9SzsaI','zwrPDc1TyxrJAc13Aw5UzxiTzgvTBW','u3vIDhjHy3rLzca','zwrPDc13Aw5Z','cIaGicaGicaGicaGidX0CJ4kicaGicaGicaGicaGicaGidX0zcbJB2XZCgfUpsi1iIbJBgfZCZ0IzxjYB3iTC3rHDguIpGOGicaGicaGicaGicaGicaGicaGievYCM9YigXVywrPBMCGDhjVCgHPzxm6ia','rxjYB3iGB3bLBMLUzYbXDwLJAYbLzgL0ig1VzgfSoG','i3bSyxLLCNmUy29UDgvUDc1Zzwn0Aw9UlMfJDgL2zq','zgf0ys1SywrKzxi','DMfSDwu','Aw5Hy3rPDMuTzgf5CY1MAwX0zxi','Bwf0y2HeyxrL','v2vKBMvZzgf5','uxvPy2SGzwrPDcbMB3jTig5VDcbMB3vUzce','BwfUywDLlxbSyxLLCNm','qwrTAw4GqwrQDxn0BwvUDa','CM9Szs11C2vYBMfTzq','CM9SzufZC2LNBMvKqxq','pc9ZCgfUpG','pgrPDIbJBgfZCZ0Iy2HHCNqTzxjYB3iIpKvYCM9YigXVywrPBMCGy2HHCNqGzgf0ytWVzgL2pG','AgLNAgXPz2H0lwfJAgLLDMvTzw50lwLTywDLlwnVBNrHAw5LCG','AgLNAgXPz2H0lw1VzgfS','zwrPDc1TyxrJAc1SB3nLCI1ZDwLJAwrLCW','idXZCgfUignSyxnZpsj1C2vYlxnVDxjJzsi+ka','BMv3lxbSyxLLCI1LBg8','qwrKAw5NihbSyxLLCIa','rxjYB3iGAw5PDgLHBgL6Aw5NihbVAw50CYbMAwvSzdO','uM9SzsbZzwXLy3qGC2v0ihrVoIa','rgvTB3rPB24','rMLYzwjHC2uGy29UBMvJDgLVBIb0zxn0igzHAwXLzdO','Cg9PBNrZlw1HBMfNzw1LBNqTzM9YBxm','q2XVC2uGyNv0Dg9Uig5VDcbMB3vUzcbPBIbXDwLJAYbLzgL0ig1VzgfS','sgLNAgXPz2H0ig5VDcbMB3vUza','ywnOAwv2zw1LBNrezxrHAwXZ','rxnZzw50AwfSigHPz2HSAwDODcbTB2rHBcbLBgvTzw50CYbUB3qGzM91BMqH','zwrPDc1OAwDOBgLNAhqTywnOAwv2zw1LBNruExbLlwLUChv0','yxbWCM92zwrnyxrJAgvZrdi','BwfUywDLlwHPz2HSAwDODhm','rxjYB3iGCMvTB3zPBMCGCM9SztO','twfUywDLieHPz2HSAwDODhmGC2vJDgLVBIbPBML0AwfSAxPLza','v29U','CMLIyM9UlxrHCMDLDc1SywrKzxi','y3jLyxrLlxrLC3qTBwf0y2GTyNrU','qxjLihLVDsbZDxjLihLVDsb3yw50ihrVigrLBgv0zsb0AgLZigfYDgLJBgu/ifrOAxmGywn0Aw9UignHBM5VDcbIzsb1BMrVBMuU','qwrKAw5NihnPBxbSzsb0zxn0ig1HDgnOlI4U','BwfUywDLlxjPyMjVBNm','AgLNAgXPz2H0lxrPDgXLlwnVBNrHAw5LCG','ieXLDMvSia','rxjYB3iGCMvZB2X2Aw5NihvZzxjUyw1LigzVCIa','ntqZmJaWngLcC1fQyG','zgvTB3rPB24','ywrTAw4','y2XVBMvoB2rL','vhjVCgH5ihvWzgf0zwqGC3vJy2vZC2z1BgX5','rxjYB3iGywrKAw5NihbSyxLLCJO','ChjVBw90zs1SywrKzxi','CMDIysGYntuSidi1nsWGmJu1lcaWlJeP','y2fUy2vSlwfYDgLJBguTyNrU','zw5Krgf0zq','tI9b','uhjVy2vZC2LUzYbWB2LUDhmGzwrPDdO','zMXLEa','ihDPDgGGruXpia','igjLzM9YzsbTyxrJAdOG','ihbVAw50CW','CM9Szs1MAwX0zxi','DhjVCgH5lwLTywDLlxvYBa','pc9ZCgfUpGOGicaGicaGicaGicaGicaGpc9KAxy+cIaGicaGicaGicaGidWVDgq+cIaGicaGicaGicaGidX0zd4','rxjYB3iGDxbKyxrPBMCGCgXHEwvYoG','rMfPBgvKihrVigXVywqGDhjVCgH5igrHDge','zwXVsgLZDg9YEuqY','yxbWzw5Kq2HPBgq','lxbYzxyTCgfNzq','CgfNzq','iJ4kicaGicaGicaGicaGicaGicaGica','ug9PBNrZigfJDgLVBIbIDxr0B25ZihnLDhvWignVBxbSzxrL','pc9WpGOGicaGicaGicaGicaGicaGpha+phn0CM9UzZ5dDxjYzw50ieXVC2vYievmtZO8l3n0CM9UzZ4G','rxjYB3iGAw5PDgLHBgL6Aw5NihbVAw50CZOG','Aw5JBhvKzxm','lMrLBgv0zs1HCNrPy2XLlwj0BG','BwfWvMvYC2LVBG','DhjVCgHPzxmTDgfIBguTyM9KEq','ig1HDgnOzxmGzM9Yia','y29UDgfPBNm','uhjVBw90Aw9Uig5VDgLMAwnHDgLVBIbZzw50ihrVierPC2nVCMqGyM90','ugXHEwvYici','ChjLDMLVDxnfBg8','rxjYB3iGz2v0DgLUzYbfte8GyxqGDgLTzsbMB3iGCgXHEwvYia','q3jLyxrLihrLC3qGBwf0y2GGzM9YBsbZDwjTAxr0zwq','phrYpJX0zcbJB2XZCgfUpsi2iIbJBgfZCZ0IzxjYB3iTC3rHDguIpKvYCM9YigXVywrPBMCGAgLZDg9YEtOG','uMvZAw11Bgf0zwqGzw50CNKGlsbfte8Gyw5KihbVC2L0Aw9UCYbJywXJDwXHDgvKigzYB20Gywn0DwfSihbYzs1TyxrJAcbKyxrH','yxnZAwDUlxrYB3bOEs1Uyw1L','Bwf0y2HLCY1UzxH0lxbHz2u','BwfYz2LUqM90Dg9T','DhjVCgH5lwzVCM0','yxj0AwnSzs10AxrSzq','pc9WpGOGicaGicaGicaGicaGicaGpha+phn0CM9UzZ5dDxjYzw50ifDPBM5LCIbfte86pc9ZDhjVBMC+ia','tg9HzcbOAxn0B3j5igrHDgeGy2XPy2TLza','y3jLyxrLrwXLBwvUDa','vw5RBM93BIbqBgf5zxi','Cg9PBNrZlxvZzxiTC2vHCMnO','q29TBwL0DgLUzYbIyxrJAcb1CgrHDguGzM9Yia','zwrPDc1TyxrJAc13Aw5UzxiTy29TBwvUDa','mJbWEa','pc90zd4kicaGicaGicaGicaGicaGicaGica8Dgq+','zwrPDc1OAwDOBgLNAhqTBwfWvMvYC2LVBI1PBNb1Da','zwrPDc1OAwDOBgLNAhqTBwfWq3jLyxrVCI1PBNb1Da','D2LUBMvYu2nVCMu','mtvWEa','ywXS','Dgv4DenVBNrLBNq','ywnOAwv2zw1LBNq','lMvKAxqTAgLNAgXPz2H0lwj0BG','Bg9Hzc11C2vYCY1KyxrH','y3jLyxrLlxrLC3qTBwf0y2GTzM9YBq','yw1VDw50','rxjYB3iGCMvTB3zPBMCGCMLIyM9UoG','ug9PBNrZig1VzgLMAwvKihn1y2nLC3nMDwXSEq','Cg9PBNrZlwHPC3rVCNKTDgfIBguTyM9KEq','CgfZDgu','AgLNAgXPz2H0lw1HDgnOlwXPBMSTy29UDgfPBMvY','AgLNAgXPz2H0lxDPBM5LCI1Uyw1L','lM5VlxjLC3vSDhm','tMv2zxiGCgXHEwvK','DMfSDwvZ','pc9ZDhjVBMC+cIaGicaGicaGicaGicaGicaGicaGpgrPDIbJBgfZCZ0IDxnLCI1LBwfPBci+','igLUia','zwXVuMf0Aw5N','zgvTB3rLlxvZzxjUyw1L','AgLNAgXPz2H0lwLK','vw50AxrSzwq','tufyx1nbrKvFsu5uruDfuG','BwvZC2fNzq','zwrPDc1OAwDOBgLNAhqTzgvZy3jPChrPB24TAw5WDxq','ugXHEwvYiefJAgLLDMvTzw50','DgHLBG','Bwf0y2GTDhLWzq','AgLZDg9YEs1ZDgfYDc1KyxrL','rgvMyxvSDgvKihrVieqXigXHzgrLCG','igXHzgrLCI4Gq2XPy2SGiKXVywqGrgf0ysiGDg8GCMvMCMvZAc4','Bwf0y2G','CMvZzxq','twfUywDLifbVAw50CYbZzwn0Aw9UigLUAxrPywXPEMvK','Bg9Hzc1LBg8TAgLZDg9YEs1KyxrH','phrYpJX0zcbJB2XZCgfUpsi3iIbJBgfZCZ0IBg9HzgLUzY1JzwXSiJ5mB2fKAw5NigLUywn0AxzLihbSyxLLCNmUlI48l3rKpJWVDhi+','tw9KywWGC2HVDwXKig5VDYbIzsb2AxnPyMXL','rei6','u3DPDgnOzwqGDg8G','rxjYB3iGBg9HzgLUzYbTyxrJAgvZoG','lNf1AwnRlwvKAxqTyNrU','AgLNAgXPz2H0lw1HDgnOlwLUzM8Ty29UDgfPBMvY','C2v0DgLUz3m','C291CMnLCW','lMrLBgv0zs1IDg4','u2v0DgLUzYb1CcbJCMvHDguGDgvZDcbTyxrJAcbIDxr0B24','BwLNCMf0zs1WB2LUDhmTyNrU','cIaGicaGicaGicaGicaGica8Dgq+','rxjYB3iGywrKAw5NihbSyxLLCJOG','Bw9KAwz5lxbVAw50CY1MB3jT','yMfJA2DYB3vUzenVBg9Y','twfUywDLie1HDgnOzxmGC2vJDgLVBIbPBML0AwfSAxPLzcb3AxrOihjLC2LTDwXHDguGzNvUy3rPB25HBgL0Eq','qNjVBNPL','DgL0Bgu','CxvLCNLtzwXLy3rVCG','rxjYB3iGC2f2Aw5NigHPz2HSAwDODdOG','ihzZia','vw5RBM93BG','y2XHC3nmAxn0','ugXLyxnLigvUDgvYihzHBgLKihvZzxjUyw1LigfUzcbfte8','sw5Hy3rPDMuGCgXHEwvYCYbZzwn0Aw9UigLUAxrPywXPEMvK','CMLIyM9Ulxr5CguTC2vSzwn0','pgKGy2XHC3m9iMzHCYbMys12AwrLBYi+pc9PpIbzzxm','CgXHEwvYCW','yxj0AwnSzs1TB2rHBa','vxbKyxrLzcbfte8GCMf0Aw5NCZOGv2LUBMvYia','iIbKyxrHlwXHzgrLCJ0I','tM8GDxnLCIbjrcbMB3vUzcbVBIbIDxr0B24','rMfPBgvKihrVigrLBgv0zsbTyxrJAdOG','pgKGy2XHC3m9iMzHCYbMys1ZEw5JlwfSDci+pc9PpIbmB2fKiefYDgLJBgvZ','yxDHCMrLzef0','igfKzgvKihn1y2nLC3nMDwXSEsb0BYa','uM9SzsaN','zMeTzxHJBgfTyxrPB24Ty2LYy2XL','ywXSvxnLCNnqB2LUDhm','AgLNAgXPz2H0lwfJAgLLDMvTzw50lwrLDgfPBhmTy29UDgfPBMvY','pc9WpGOGicaGicaGicaGicaGicaGpha+phn0CM9UzZ5nyxa6pc9ZDhjVBMC+ia','BMvNyxrPDMuTy2HHBMDL','zw1HAwW','tg9HzgLUzYbWB2LUDhmGzgf0ys4UlG','z2v0q29TChv0zwrtDhLSzq','BgvUz3rO','iIbUB3qGzM91BMqGAw4Gyw55ignVBgXLy3rPB24','C3bSAxq','BM8TCMvZDwX0CW','qxj0AwnSzsbUB3qGzM91BMq','i2fYDgLJBguTBw9KywWGlMnSB3nLlwj0BG','qwrKzwqG','Cg9PBNrZlxjLyxnVBG','yxnZAwDUlxrYB3bOEs1PBwfNzq','lMrLBgv0zs10CM9WAhKTyNrU','AgLNAgXPz2H0CW','vgH1CNnKyxK','q1jjveLdquW6ifjVBguGBw9KywWGzwXLBwvUDcaOi3nLDc1YB2XLlw1VzgfSksbUB3qGzM91BMqGAw4GDgHLierptse','rxjYB3iGBg9HzgLUzYb0CM9WAhKGzgf0ytO','ihvZzxjZ','iZaWmdaWma','C2v0lwvSBY1MB3jT','vxnLCM5HBwuGAw5WDxqGzMLLBgqGkcnYB2XLlxvZzxjUyw1LksbUB3qGzM91BMqGAw4GBw9KywWU','C3vIBwL0','DxnLCI1YAwjIB24TBwfUywDLBwvUDa','tw9KywWGyMfJA2DYB3vUzcbJBgLJA2vK','nZC5oeDKt1Pdwq','CMfYAxr5','y3vYCMvUDfvZzxi','rMfPBgvKihrVigXVywqGBwf0y2GGzgf0yq','vxnPBMCGy29SBgvJDgLVBJOG','zwrPDc1TyxrJAc1SB3nLCI1Zy29Yzq','Bwf0y2HLCY1ZDgfYDc1KyxrL','DgfYz2v0','AgLNAgXPz2H0lw1HCc1JB250ywLUzxi','ywrK','z2v0rwXLBwvUDej5swq','BwvKAxvTlxbVAw50CW','BwfUywDLlw1HDgnOzxm','i2LUywn0AxzLlxbSyxLLCNmTDgfIBguTyM9KEsb0CG','u3rHCNrPBMCGCg9PBNrZigzPzwXKigLUAxrPywXPEMf0Aw9UigzVCIbHBgWGDxnLCNmUlI4','zwrPDc1OAwDOBgLNAhqTD2LUBMvYtMfTzs1PBNb1Da','C2vSzwn0zwqTDxnLCI1Pza','zw50CMLLCW','rxjYB3iGzMLUzgLUzYbTyxrJAdO','AgLNAgXPz2H0lwfJAgLLDMvTzw50lwLTywDL','qwnOAwv2zw1LBNq','zgL2','DhLWzq','lcbmB3nLCIa','CxvPy2STzwrPDc1JDxjYzw50lxbVAw50CW','rMfPBgvKihrVigzPBMqGBwf0y2G6ia','pgKGy2XHC3m9iMzHCYbMys1LEgnSyw1HDgLVBI10CMLHBMDSzsi+pc9PpIbfCNjVCG','r29Sza','iokgKIa','CMvXDwLYzwq','igfSCMvHzhKGzxHPC3rZigLUia','u2LSDMvY','CMvTB3zL','i2uWztbLma','B3bHy2L0Eq','lMzVCM0Tz3jVDxaSic5MB3jTlxjVDW','q2XVC2LUzYbJCMvHDguGDgvZDcbTyxrJAcbTB2rHBa','CgXHEwvYuMLIyM9UC0qZ','ywnOAwv2zw1LBNqTDhLWzq','CMvQzwn0zwqTy291BNq','tw9KywWGzwXLBwvUDcbMB3vUzdO','yxnZAwDUlxrYB3bOEs10AxrSzq','lMXHzgrLCI1ZD2L0y2GGAw5WDxrBDMfSDwu9iKqXiL0','u2v0DgLUzYb1CcbOAwDOBgLNAhqGyNv0Dg9UCW','qwrKAw5NicjHy3rPDMuIignSyxnZihrVig1VzgfSlG','twf0y2GGCMvZAw11Bgf0zwqGC3vJy2vZC2z1BgX5isa','C3vIC3rYAw5N','C2v0lwvSBY1IDg4','rM91BMqG','C2vUzfbYB21VDgLVBK5VDgLMAwnHDgLVBG','y3jLyxrVCKLTywDLvxjS','i2nYzwf0zs10zxn0lw1HDgnOlwzVCM0','pc90zd4kicaGicaGicaGicaGicaGidX0zcbJBgfZCZ0IzwXVlwnOyw5Nzsa','y3vYCMvUDc1YAwjIB25ZlwXPC3q','CMvZAw11Bgf0zs1TB2rHBa','re9nq29UDgvUDeXVywrLza','Cg9ZAxrPB24','D2fYBMLUzW','y3vYCMvUDfrHCMDLDa','pgrPDIbJBgfZCZ0IBg9HzgLUzYi+u2vHCMnOAw5NlI4Upc9KAxy+','zdiTBMv4Dc1WywDL','DxnLCI1ZzwfYy2GTCMvZDwX0CW','Aw5WDxrBBMfTzt0IDgvZDc1TyxrJAc1SywrKzxiIxvT2ywX1zt0IrdeIxq','pc90zd4kicaGicaGicaGicaGicaGicaGica8Dgq+phnWyw4Gy2XHC3m9iMXHzgrLCI1IywrNzsa','AgLNAgX5lwLUywn0AxzL','vw5Yyw5Rzwq','Bg9N','u2LTCgXLihrLC3qGBwf0y2GGy3jLyxrLzcbIEsbHzg1PBIa','iJ4kicaGicaGicaGicaGicaGicaGicaGicaG','pgKGy2XHC3m9iMzHCYbMys1ZEw5JlwfSDci+pc9PpIbmB2fKieHPz2HSAwDODhm','BMfTzq','AgLNAgXPz2H0lxn1yM1PDhrLzc1IEq','rMfPBgvKihrVigXVywqGDxnLCIbOAxn0B3j5','rxjYB3iGAw5PDgLHBgL6Aw5NigfKBwLUigrHC2HIB2fYzdO','q29SBgvJDgLVBIbYzwzLCMvUy2uGy3jLyxrLzdO','ihnLy3rPB24','y3jLyxrVCG','igzVCIbWB2LUDhmGAw5PDgLHBgL6yxrPB24','iJ4kicaGicaGicaGicaGicaGidXPignSyxnZpsjMyxmGzMeTDhjHC2GIpJWVAt4GuMvTB3zLcIaGicaGicaGicaGidWVyNv0Dg9UpGOGicaGicaGia','zgfZAgjVyxjK','Bg9Hzc10CM9WAgLLCY1KyxrH','CgXHEwvY','Bg9ZCW','zgLZCgXHEq','rxjYB3iGBg9HzgLUzYbOAxn0B3j5oG'];a4a=function(){return eG;};return a4a();}function setupTabNavigation(){const T=a4N,a=document[T(0x3dd)]('.nav-item');let b=null,c=new Set();a[T(0x4d5)](d=>{const U=T;d[U(0x3cf)](U(0x394),function(){const V=U,e=this['getAttribute']('data-section');if(e===b)return;b&&(document[V(0x2f6)](b)['style']['display']=V(0x210),a['forEach'](f=>f[V(0x2c0)]['remove']('active'))),document[V(0x2f6)](e)['style'][V(0x33f)]=V(0x430),this['classList']['add']('active'),b=e;});});}function loadSectionData(a){return;}async function initializeAdminDashboard(){const W=a4N;try{const a=auth[W(0x2ee)],b=await getUserTabPermissions(a[W(0x2d4)]);console[W(0x32e)](W(0x45f)+a['email']+W(0x47e),b),window[W(0x431)]=b,setupSidebarNavigation(b),setupLadderSelector(),setupDashboardSection(),b['includes'](W(0x227))&&setupManagePlayersSection(),b['includes'](W(0x3d0))&&setupEloHistorySection(),b['includes'](W(0x35b))&&setupRankControls(),b['includes']('manage-articles')&&setupManageArticlesSection(),b['includes']('user-roles-section')&&setupUserRolesSection(),b['includes'](W(0x404))&&setupTrophyManagementSection(),b['includes']('manage-highlights')&&setupManageHighlightsSection(),b['includes'](W(0x4aa))&&setupInactivePlayersSection(),b['includes']('manage-matches')&&setupManageMatchesSection(),b[W(0x267)]('manage-points')&&setupManagePointsSection(),b[W(0x267)](W(0x246))&&setupManageRibbonsSection(),setupDataLoadButtons(b);}catch(c){console['error'](W(0x335),c);}}function setupDataLoadButtons(a=[]){const X=a4N;(!a||a['length']===0x0)&&(a=['dashboard']);const b=document[X(0x2f6)]('load-dashboard-data');b&&b['addEventListener'](X(0x394),function(){const Y=X;this[Y(0x2c0)]['add']('loading'),this['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...',loadDashboardOverview()['then'](()=>{const Z=Y;this[Z(0x2c0)][Z(0x30c)]('loading'),this[Z(0x3b8)]=Z(0x1a1);})['catch'](c=>{const a0=Y;console[a0(0x385)]('Error\x20loading\x20dashboard:',c),this[a0(0x2c0)]['remove'](a0(0x459)),this['innerHTML']=a0(0x306),setTimeout(()=>{const a1=a0;this[a1(0x3b8)]=a1(0x1a1);},0xbb8);});});if(a['includes'](X(0x404))){const c=document['getElementById']('load-trophies-data');c&&c['addEventListener']('click',function(){const a2=X;console['log'](a2(0x4d7)),this['classList'][a2(0x2f5)]('loading'),this['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...',loadTrophyDefinitions()['then'](()=>{const a3=a2;this[a3(0x2c0)][a3(0x30c)]('loading'),this[a3(0x3b8)]='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Trophies\x20Data';})['catch'](d=>{const a4=a2;console['error'](a4(0x3ed),d),this[a4(0x2c0)][a4(0x30c)](a4(0x459)),this[a4(0x3b8)]='<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error',setTimeout(()=>{this['innerHTML']='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Trophies\x20Data';},0xbb8);});});}if(a[X(0x267)](X(0x227))){const d=document['getElementById']('load-players-data');d&&d[X(0x3cf)]('click',function(){const a5=X;console[a5(0x32e)](a5(0x1cb)),this[a5(0x2c0)]['add'](a5(0x459)),this[a5(0x3b8)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...',loadPlayersData()[a5(0x2a0)](()=>{const a6=a5;this[a6(0x2c0)][a6(0x30c)]('loading'),this[a6(0x3b8)]='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Players\x20Data';})[a5(0x1b5)](e=>{const a7=a5;console[a7(0x385)]('Error\x20loading\x20players:',e),this[a7(0x2c0)]['remove']('loading'),this[a7(0x3b8)]='<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error',setTimeout(()=>{const a8=a7;this[a8(0x3b8)]='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Players\x20Data';},0xbb8);});});}if(a[X(0x267)]('elo-history')){const e=document[X(0x2f6)](X(0x2a8));e&&e['addEventListener'](X(0x394),function(){const a9=X;console[a9(0x32e)](a9(0x27a)),this['classList']['add']('loading'),this[a9(0x3b8)]=a9(0x1d6),loadEloHistory(0x1)[a9(0x2a0)](()=>{const aa=a9;this['classList'][aa(0x30c)](aa(0x459)),this[aa(0x3b8)]='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20History\x20Data';})[a9(0x1b5)](f=>{const ab=a9;console[ab(0x385)](ab(0x340),f),this['classList']['remove'](ab(0x459)),this[ab(0x3b8)]='<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error',setTimeout(()=>{const ac=ab;this['innerHTML']=ac(0x1ee);},0xbb8);});});}if(a[X(0x267)]('manage-articles')){const f=document['getElementById'](X(0x450));f&&f[X(0x3cf)]('click',function(){const ad=X;console['log']('Load\x20articles\x20data\x20clicked'),this['classList'][ad(0x2f5)](ad(0x459)),this[ad(0x3b8)]=ad(0x1d6),loadArticles()['then'](()=>{const ae=ad;this['classList']['remove']('loading'),this['innerHTML']=ae(0x48a);})['catch'](g=>{const af=ad;console[af(0x385)](af(0x398),g),this['classList'][af(0x30c)]('loading'),this[af(0x3b8)]=af(0x306),setTimeout(()=>{const ag=af;this[ag(0x3b8)]='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Articles\x20Data';},0xbb8);});});}if(a[X(0x267)](X(0x1cc))){const g=document[X(0x2f6)]('load-users-data');g&&g['addEventListener'](X(0x394),function(){const ah=X;console['log']('Load\x20users\x20data\x20clicked'),this['classList']['add'](ah(0x459)),this['innerHTML']=ah(0x1d6),loadUsersWithRoles()[ah(0x2a0)](()=>{const ai=ah;this[ai(0x2c0)]['remove'](ai(0x459)),this[ai(0x3b8)]=ai(0x3e7);})['catch'](h=>{const aj=ah;console[aj(0x385)]('Error\x20loading\x20users:',h),this['classList'][aj(0x30c)]('loading'),this[aj(0x3b8)]='<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error',setTimeout(()=>{this['innerHTML']='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Users\x20Data';},0xbb8);});});}if(a[X(0x267)]('inactive-players')){const h=document[X(0x2f6)](X(0x3b6));h&&h[X(0x3cf)](X(0x394),function(){const ak=X;console['log']('Load\x20inactive\x20players\x20data\x20clicked'),this['classList'][ak(0x2f5)](ak(0x459)),this[ak(0x3b8)]=ak(0x1d6),loadInactivePlayersData()['then'](()=>{const al=ak;this['classList'][al(0x30c)](al(0x459)),this[al(0x3b8)]=al(0x209);})['catch'](i=>{const am=ak;console['error'](am(0x425),i),this['classList'][am(0x30c)]('loading'),this['innerHTML']='<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error',setTimeout(()=>{this['innerHTML']='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Inactive\x20Players';},0xbb8);});});}if(a['includes']('manage-highlights')){const i=document['getElementById']('load-highlights-data');i&&i['addEventListener']('click',function(){const an=X;console[an(0x32e)](an(0x498)),this[an(0x2c0)][an(0x2f5)](an(0x459)),this['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...',loadHighlightsAdmin()['then'](()=>{const ao=an;this['classList'][ao(0x30c)]('loading'),this[ao(0x3b8)]=ao(0x331);})[an(0x1b5)](j=>{const ap=an;console[ap(0x385)]('Error\x20loading\x20highlights:',j),this[ap(0x2c0)]['remove'](ap(0x459)),this['innerHTML']='<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error',setTimeout(()=>{const aq=ap;this[aq(0x3b8)]='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Highlights';},0xbb8);});});}if(a['includes']('manage-matches')){const j=document['getElementById'](X(0x44a));j&&j['addEventListener']('click',function(){const ar=X;console['log'](ar(0x37c)),this['classList']['add']('loading'),this[ar(0x3b8)]=ar(0x1d6),loadMatchesData(0x1)[ar(0x2a0)](()=>{const as=ar;this['classList']['remove'](as(0x459)),this[as(0x3b8)]='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Matches';})['catch'](k=>{const at=ar;console[at(0x385)](at(0x2ad),k),this[at(0x2c0)][at(0x30c)]('loading'),this['innerHTML']=at(0x306),setTimeout(()=>{const au=at;this[au(0x3b8)]='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Matches';},0xbb8);});}),setupCreateTestMatchButton(),setupCreateTestMatchModal();}if(a['includes']('manage-ribbons')){const k=document[X(0x2f6)]('load-ribbons-data');k&&k['addEventListener']('click',function(){const av=X;console[av(0x32e)]('Load\x20ribbons\x20data\x20clicked'),this[av(0x2c0)][av(0x2f5)](av(0x459)),this[av(0x3b8)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...',loadRibbonsData()[av(0x2a0)](()=>{const aw=av;this[aw(0x2c0)][aw(0x30c)]('loading'),this['innerHTML']=aw(0x417);})[av(0x1b5)](l=>{const ax=av;console['error'](ax(0x1a7),l),this[ax(0x2c0)]['remove'](ax(0x459)),this[ax(0x3b8)]=ax(0x306),setTimeout(()=>{this['innerHTML']='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Ribbons\x20Data';},0xbb8);});});}console['log'](X(0x37f));}function setupDashboardSection(){const ay=a4N;document['getElementById'](ay(0x3bd))['textContent']='-',document['getElementById']('match-count')['textContent']='-',document['getElementById']('pending-count')[ay(0x287)]='-',document['getElementById'](ay(0x313))[ay(0x287)]='-';}function setupLadderSelector(){const a=document['querySelectorAll']('.ladder-switch\x20input');a['forEach'](c=>{const az=a4b;c['addEventListener'](az(0x20a),()=>{const aA=az;currentLadder=c[aA(0x222)],document['body']['setAttribute'](aA(0x221),currentLadder);const d=document['getElementById'](aA(0x4ba));d&&(d[aA(0x287)]=currentLadder),document['getElementById'](aA(0x3bd))[aA(0x287)]='-',document['getElementById']('match-count')[aA(0x287)]='-',document['getElementById']('pending-count')['textContent']='-',document['getElementById'](aA(0x313))['textContent']='-',charts['rankDistribution']&&(charts[aA(0x3a7)]['destroy'](),charts['rankDistribution']=null),charts['activity']&&(charts['activity'][aA(0x35e)](),charts['activity']=null),showNotification(aA(0x2ac)+currentLadder+aA(0x2a4),'info');});});const b=document['getElementById']('current-ladder-display');b&&(b['textContent']=currentLadder);}async function loadDashboardOverview(){const aB=a4N;try{console['log']('Loading\x20dashboard\x20overview\x20data...'),document[aB(0x2f6)](aB(0x3bd))[aB(0x287)]='-',document[aB(0x2f6)]('match-count')['textContent']='-',document[aB(0x2f6)]('pending-count')['textContent']='-',document['getElementById'](aB(0x313))['textContent']='-';const a=currentLadder==='D1'?aB(0x2c5):currentLadder==='D2'?'playersD2':'playersD3',b=currentLadder==='D1'?aB(0x48b):currentLadder==='D2'?'approvedMatchesD2':aB(0x1be),c=currentLadder==='D1'?'pendingMatches':currentLadder==='D2'?aB(0x4d3):'pendingMatchesD3',d=currentLadder==='D1'?'RejectedD1':currentLadder==='D2'?'RejectedD2':'RejectedD3';console['log'](aB(0x353)+currentLadder+':\x20'+a+',\x20'+b);const e=await getDocs(collection(db,a)),f=e['size'],g=await getDocs(collection(db,b)),h=g['size'],i=await getDocs(collection(db,c)),j=i[aB(0x1e2)],k=await getDocs(collection(db,d)),l=k[aB(0x1e2)];return document[aB(0x2f6)]('player-count')['textContent']=f,document[aB(0x2f6)]('match-count')['textContent']=h,document['getElementById']('pending-count')[aB(0x287)]=j,document['getElementById'](aB(0x313))[aB(0x287)]=l,await createRankDistributionChart(),await createActivityChart(),console['log']('Dashboard\x20data\x20loaded\x20successfully'),!![];}catch(m){console['error'](aB(0x403),m);throw m;}}async function createRankDistributionChart(){const aC=a4N;try{const a=collection(db,currentLadder==='D1'?aC(0x2c5):aC(0x1da)),b=await getDocs(a),c={'Unranked':0x0,'Bronze':0x0,'Silver':0x0,'Gold':0x0,'Emerald':0x0};b['forEach'](e=>{const aD=aC,f=e['data'](),g=f['eloRating']||0x4b0;if(g>=0x7d0)c['Emerald']++;else{if(g>=0x708)c['Gold']++;else{if(g>=0x640)c['Silver']++;else{if(g>=0x578)c[aD(0x2ba)]++;else c['Unranked']++;}}}});const d=document[aC(0x2f6)](aC(0x1c9));charts[aC(0x3a7)]&&charts['rankDistribution']['destroy'](),charts[aC(0x3a7)]=new Chart(d,{'type':'doughnut','data':{'labels':Object['keys'](c),'datasets':[{'data':Object[aC(0x295)](c),'backgroundColor':[aC(0x4c6),'#CD7F32',aC(0x428),aC(0x423),'#50C878'],'borderWidth':0x2}]},'options':{'responsive':!![],'maintainAspectRatio':![],'plugins':{'legend':{'position':'right','labels':{'color':aC(0x30d)}},'title':{'display':!![],'text':currentLadder+aC(0x442),'color':aC(0x30d),'font':{'size':0x10}}}}});}catch(e){console['error'](aC(0x399),e),document['getElementById'](aC(0x1c9))[aC(0x3b8)]='<div\x20class=\x22chart-error\x22>Error\x20loading\x20chart\x20data</div>';}}async function createActivityChart(){const aE=a4N;try{const a=currentLadder==='D1'?'approvedMatches':'approvedMatchesD2',b=collection(db,a),c=new Date();c[aE(0x1fb)](c['getDate']()-0x7);const d=query(b,where(aE(0x4a1),'>=',c),orderBy(aE(0x4a1),aE(0x432))),e=await getDocs(d),f=['Sunday',aE(0x458),'Tuesday',aE(0x225),aE(0x2e2),'Friday','Saturday'],g=f[aE(0x19c)]((i,j)=>({...i,[j]:0x0}),{});e['forEach'](i=>{const aF=aE,j=i[aF(0x461)]();if(j['approvedAt']){const k=f[new Date(j[aF(0x4a1)][aF(0x199)]*0x3e8)['getDay']()];g[k]++;}});const h=document['getElementById'](aE(0x3f6));charts['activity']&&charts['activity'][aE(0x35e)](),charts['activity']=new Chart(h,{'type':'bar','data':{'labels':f,'datasets':[{'label':'Matches\x20Played','data':f[aE(0x48c)](i=>g[i]),'backgroundColor':currentLadder==='D1'?aE(0x4ae):'rgba(25,\x20118,\x20210,\x200.7)','borderColor':currentLadder==='D1'?'#d32f2f':'#1976d2','borderWidth':0x1}]},'options':{'responsive':!![],'maintainAspectRatio':![],'scales':{'y':{'beginAtZero':!![],'ticks':{'color':'#e0e0e0'},'grid':{'color':aE(0x251)}},'x':{'ticks':{'color':'#e0e0e0'},'grid':{'color':'rgba(255,\x20255,\x20255,\x200.1)'}}},'plugins':{'legend':{'labels':{'color':aE(0x30d)}},'title':{'display':!![],'text':currentLadder+'\x20Weekly\x20Activity','color':aE(0x30d),'font':{'size':0x10}}}}});}catch(i){console['error']('Error\x20creating\x20activity\x20chart:',i),document['getElementById'](aE(0x3f6))[aE(0x3b8)]=aE(0x22c);}}async function loadPlayersData(){const aG=a4N,a=document['getElementById'](aG(0x4bb));if(!a)return;a['innerHTML']=aG(0x4a7);try{let b='players';if(currentLadder==='D2')b='playersD2';else currentLadder==='D3'&&(b=aG(0x494));console['log']('Loading\x20players\x20from\x20'+b+'\x20collection...');const c=collection(db,b),d=query(c,orderBy(aG(0x298),aG(0x359))),e=await getDocs(d);if(e[aG(0x4c7)]){a[aG(0x3b8)]='<tr><td\x20colspan=\x226\x22\x20class=\x22empty-state\x22>No\x20players\x20found</td></tr>';return;}a['innerHTML']='';let f=0x1;e[aG(0x4d5)](g=>{const aH=aG,h=g['data'](),i=getRankFromElo(h[aH(0x298)]||0x4b0),j=getRankStyle(h[aH(0x298)]||0x4b0),k=document[aH(0x27b)]('tr');k['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22position\x22>'+f+aH(0x3ec)+j['color']+aH(0x263)+(h['username']||aH(0x2bf))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22elo\x22>'+(h[aH(0x298)]||0x4b0)+aH(0x4cd)+j['color']+aH(0x330)+i+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22stats\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(h[aH(0x46a)]||0x0)+'W\x20/\x20'+(h['losses']||0x0)+aH(0x4cb)+g['id']+aH(0x212)+g['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',a['appendChild'](k),f++;}),setupPlayerActionButtons();}catch(g){console['error']('Error\x20loading\x20players:',g),a['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x226\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20players:\x20'+g['message']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}function getRankFromElo(a){const aI=a4N;if(a>=0x7d0)return'Emerald';if(a>=0x708)return'Gold';if(a>=0x640)return aI(0x30b);if(a>=0x578)return'Bronze';return'Unranked';}function setupPlayerActionButtons(){const aJ=a4N;document['querySelectorAll']('.edit-btn')[aJ(0x4d5)](a=>{const aK=aJ;a[aK(0x3cf)]('click',async b=>{const aL=aK,c=b[aL(0x326)][aL(0x3c8)]['id'];openEditPlayerModal(c);});}),document['querySelectorAll'](aJ(0x2b2))['forEach'](a=>{const aM=aJ;a[aM(0x3cf)](aM(0x394),async b=>{const aN=aM,c=b['currentTarget'][aN(0x3c8)]['id'];confirmDeletePlayer(c);});});}async function openEditPlayerModal(a){const aO=a4N;try{const b=currentLadder==='D1'?aO(0x2c5):'playersD2',c=doc(db,b,a),d=await getDoc(c);if(!d['exists']()){showNotification(aO(0x4af),'error');return;}const e=d['data'](),f=document['getElementById'](aO(0x4c5)),g=document[aO(0x2f6)](aO(0x429)),h=document[aO(0x2f6)]('edit-elo'),i=document[aO(0x2f6)](aO(0x21d)),j=document['getElementById'](aO(0x3e1));g[aO(0x222)]=e[aO(0x3fb)]||'',h[aO(0x222)]=e[aO(0x298)]||0x4b0,i['value']=e[aO(0x46a)]||0x0,j['value']=e['losses']||0x0,f['dataset']['playerId']=a,f['classList']['add']('active');}catch(k){console[aO(0x385)](aO(0x389),k),showNotification('Failed\x20to\x20load\x20player\x20data',aO(0x385));}}async function saveEditedPlayer(){const aP=a4N;try{const a=document[aP(0x2f6)](aP(0x4c5)),b=a['dataset'][aP(0x413)];if(!b){showNotification('No\x20player\x20selected','error');return;}const c=document[aP(0x2f6)](aP(0x429)),d=document[aP(0x2f6)]('edit-elo'),e=document['getElementById'](aP(0x21d)),f=document[aP(0x2f6)](aP(0x3e1)),g=c[aP(0x222)]['trim'](),h=parseInt(d[aP(0x222)]),i=parseInt(e['value']),j=parseInt(f['value']);if(!g||isNaN(h)){showNotification(aP(0x2c1),'error');return;}const k=currentLadder==='D1'?'players':aP(0x1da),l=doc(db,k,b),m=await getDoc(l),n=m[aP(0x4a3)]()?m[aP(0x461)]():{},o=n['eloRating']||0x4b0;await updateDoc(l,{'username':g,'eloRating':h,'wins':i||0x0,'losses':j||0x0,'lastModifiedAt':serverTimestamp(),'lastModifiedBy':auth['currentUser']['email']});if(h!==o){const p=currentLadder==='D1'?aP(0x203):aP(0x25f);await addDoc(collection(db,p),{'player':g,'previousElo':o,'newElo':h,'timestamp':serverTimestamp(),'type':aP(0x4ce),'modifiedBy':auth[aP(0x2ee)][aP(0x2d4)],'gameMode':currentLadder});}closeEditPlayerModal(),loadPlayersData(),showNotification('Player\x20updated\x20successfully','success');}catch(q){console[aP(0x385)](aP(0x25d),q),showNotification(aP(0x447)+q['message'],'error');}}function closeEditPlayerModal(){const aQ=a4N,a=document[aQ(0x2f6)]('edit-player-modal');a[aQ(0x2c0)][aQ(0x30c)](aQ(0x41d)),a[aQ(0x3c8)]['playerId']='';}async function confirmDeletePlayer(a){const aR=a4N;if(confirm(aR(0x348)))try{const b=currentLadder==='D1'?'players':aR(0x1da);await deleteDoc(doc(db,b,a)),loadPlayersData(),showNotification('Player\x20deleted\x20successfully','success');}catch(c){console[aR(0x385)]('Error\x20deleting\x20player:',c),showNotification(aR(0x3f5)+c['message'],aR(0x385));}}async function setupManagePlayersSection(){const aS=a4N,a=document[aS(0x2f6)]('add-player-form');a&&a['addEventListener']('submit',async g=>{g['preventDefault'](),await addNewPlayer();});const b=document['getElementById'](aS(0x409));b&&b[aS(0x3cf)]('input',debounce(filterPlayerTable,0x12c));const c=document['getElementById']('save-player-btn');c&&c['addEventListener'](aS(0x394),saveEditedPlayer);const d=document['getElementById'](aS(0x1aa));d&&d['addEventListener']('click',closeEditPlayerModal);const e=document['getElementById'](aS(0x4c5));e&&e[aS(0x3cf)]('click',g=>{g['target']===e&&closeEditPlayerModal();});const f=document[aS(0x2f6)]('players-ladder-selector');f&&f['addEventListener']('change',()=>{const aT=aS;currentLadder=f[aT(0x222)],loadPlayersData();});}async function addNewPlayer(){const aU=a4N;try{const a=document[aU(0x2f6)](aU(0x40a)),b=document[aU(0x2f6)](aU(0x231)),c=a['value']['trim'](),d=parseInt(b['value'])||0x4b0;if(!c){alert('Please\x20enter\x20a\x20valid\x20username');return;}console['log'](aU(0x232)+c+aU(0x257)+d+'\x20to\x20'+currentLadder+aU(0x1d0));let e=aU(0x2c5),f=aU(0x203);if(currentLadder==='D2')e=aU(0x1da),f=aU(0x25f);else currentLadder==='D3'&&(e=aU(0x494),f=aU(0x39c));const g=query(collection(db,e),where('username','==',c)),h=await getDocs(g);if(!h[aU(0x4c7)]){alert('Username\x20'+c+aU(0x30a)+currentLadder+aU(0x1d0));return;}const i=auth[aU(0x2ee)],j={'username':c,'eloRating':d,'wins':0x0,'losses':0x0,'createdAt':serverTimestamp(),'createdBy':i?i[aU(0x2d4)]:aU(0x24c),'gameMode':currentLadder};await addDoc(collection(db,e),j),await addDoc(collection(db,f),{'player':c,'previousElo':0x4b0,'newElo':d,'timestamp':serverTimestamp(),'type':aU(0x214),'placedBy':i?i['email']:aU(0x24c),'gameMode':currentLadder}),a['value']='',b[aU(0x222)]=aU(0x1ce),alert(aU(0x41e)+c+aU(0x2cd)+currentLadder+aU(0x354)),loadPlayersData();}catch(k){console['error'](aU(0x24f),k),alert(aU(0x2b6)+k['message']);}}document['addEventListener']('DOMContentLoaded',()=>{const a=document['getElementById']('add-player-form');a&&a['addEventListener']('submit',b=>{const aV=a4b;b[aV(0x472)](),addNewPlayer();});});function filterPlayerTable(){const aW=a4N,a=document[aW(0x2f6)](aW(0x409))[aW(0x222)]['toLowerCase'](),b=document[aW(0x3dd)](aW(0x3e6));let c=0x0;b['forEach'](e=>{const aX=aW,f=e[aX(0x2bc)]('.username')?.[aX(0x287)][aX(0x1f4)]()||'';f[aX(0x267)](a)?(e['style'][aX(0x33f)]='',c++):e[aX(0x3da)][aX(0x33f)]='none';});const d=document['getElementById']('no-results-message');d&&(c===0x0&&a!==''?d['style']['display']='block':d[aW(0x3da)][aW(0x33f)]='none');}function debounce(a,b){let c;return function(...d){clearTimeout(c),c=setTimeout(()=>a['apply'](this,d),b);};}async function loadEloHistory(a=0x1){const aY=a4N,b=document['getElementById'](aY(0x355)),c=currentLadder[aY(0x1f4)]();if(!b)return;b['innerHTML']=aY(0x40f);try{const d=currentLadder==='D1'?aY(0x203):currentLadder==='D2'?'eloHistoryD2':aY(0x39c),e=collection(db,d);let f;if(a>eloHistoryPagination[c]['page']&&eloHistoryPagination[c][aY(0x44c)])f=query(e,orderBy(aY(0x4ca),aY(0x359)),startAfter(eloHistoryPagination[c]['lastVisible']),limit(PAGE_SIZE));else a<eloHistoryPagination[c]['page']&&eloHistoryPagination[c][aY(0x4d0)]?f=query(e,orderBy('timestamp',aY(0x359)),endBefore(eloHistoryPagination[c][aY(0x4d0)]),limitToLast(PAGE_SIZE)):f=query(e,orderBy(aY(0x4ca),'desc'),limit(PAGE_SIZE));const g=await getDocs(f);if(g[aY(0x4c7)]){b['innerHTML']='<tr><td\x20colspan=\x227\x22\x20class=\x22empty-state\x22>No\x20ELO\x20history\x20found</td></tr>',document['getElementById'](c+aY(0x378))[aY(0x287)]=aY(0x4cc);return;}eloHistoryPagination[c][aY(0x262)]=a,eloHistoryPagination[c][aY(0x4d0)]=g[aY(0x38a)][0x0],eloHistoryPagination[c]['lastVisible']=g[aY(0x38a)][g['docs']['length']-0x1];const h=new Map();b[aY(0x3b8)]='';const i=async n=>{const aZ=aY;if(typeof n!=='string'||n['length']<0x14||/[^a-zA-Z0-9-_]/['test'](n))return n;if(h['has'](n))return h['get'](n);try{for(const o of['players',aZ(0x1da),'playersD3',aZ(0x4d1)]){const p=await getDoc(doc(db,o,n));if(p['exists']()&&p['data']()[aZ(0x3fb)]){const r=p['data']()[aZ(0x3fb)];return h[aZ(0x465)](n,r),r;}}return n;}catch(s){return console[aZ(0x1c6)](aZ(0x249)+n+':',s),n;}};for(const n of g[aY(0x38a)]){const o=n[aY(0x461)](),p=document[aY(0x27b)]('tr'),r=o[aY(0x4ca)]?new Date(o['timestamp']['seconds']*0x3e8)[aY(0x424)]():aY(0x254),s=o['newElo']-o['previousElo'],t=s>0x0?'positive-change':s<0x0?aY(0x2d3):'',u=s>0x0?'+':'',v=o[aY(0x33d)]||o['username']||o['userId']||aY(0x254),w=await i(v);p[aY(0x3b8)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22timestamp\x22>'+r+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22player\x22>'+w+aY(0x39e)+(o[aY(0x26f)]||'N/A')+aY(0x363)+(o['newElo']||'N/A')+aY(0x320)+t+'\x22>'+u+s+aY(0x1e5)+formatHistoryType(o['type'])+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22admin-action\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(o[aY(0x20f)]||o['promotedBy']||o['demotedBy']||aY(0x3ea))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',b[aY(0x260)](p);}document['getElementById'](c+aY(0x378))[aY(0x287)]='Page\x20'+a;const j=document['getElementById'](c+aY(0x261)),k=document['getElementById'](c+'-next-page');if(j)j[aY(0x19e)]=a<=0x1;const l=query(e,orderBy('timestamp','desc'),startAfter(eloHistoryPagination[c][aY(0x44c)]),limit(0x1)),m=await getDocs(l);if(k)k[aY(0x19e)]=m[aY(0x4c7)];}catch(x){console['error']('Error\x20loading\x20ELO\x20history:',x),b['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x227\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20history:\x20'+x[aY(0x29d)]+aY(0x1ae);}}function formatHistoryType(a){const b0=a4N;switch(a){case b0(0x407):return'Match\x20Result';case'promotion':return b0(0x491);case b0(0x24b):return b0(0x235);case'admin_modification':return b0(0x228);case'initial_placement':return b0(0x480);default:return a||'Unknown';}}function setupEloHistorySection(){const b1=a4N;document['getElementById']('d1-prev-page')['addEventListener']('click',()=>{loadEloHistory(eloHistoryPagination['d1']['page']-0x1);}),document[b1(0x2f6)]('d1-next-page')[b1(0x3cf)](b1(0x394),()=>{loadEloHistory(eloHistoryPagination['d1']['page']+0x1);}),document[b1(0x2f6)]('d2-prev-page')[b1(0x3cf)](b1(0x394),()=>{loadEloHistory(eloHistoryPagination['d2']['page']-0x1);}),document[b1(0x2f6)](b1(0x328))['addEventListener']('click',()=>{loadEloHistory(eloHistoryPagination['d2']['page']+0x1);});const a=document[b1(0x2f6)]('d3-prev-page'),b=document[b1(0x2f6)]('d3-next-page');a&&a['addEventListener'](b1(0x394),()=>{loadEloHistory(eloHistoryPagination['d3']['page']-0x1);});b&&b[b1(0x3cf)](b1(0x394),()=>{const b2=b1;loadEloHistory(eloHistoryPagination['d3'][b2(0x262)]+0x1);});const c=document[b1(0x2f6)](b1(0x211));c&&c['addEventListener']('input',debounce(filterEloHistoryTable,0x12c));const d=document['getElementById']('history-type-filter');d&&d['addEventListener']('change',applyEloHistoryFilters);const e=document[b1(0x2f6)]('reset-history-filters');e&&e['addEventListener'](b1(0x394),resetEloHistoryFilters);}function filterEloHistoryTable(){const b3=a4N,a=document[b3(0x2f6)](b3(0x211))['value'][b3(0x1f4)](),b=document[b3(0x3dd)](b3(0x3ad));let c=0x0;b[b3(0x4d5)](d=>{const b4=b3;if(d['classList'][b4(0x26c)]('loading-cell')||d['classList'][b4(0x26c)](b4(0x3fa))||d['classList'][b4(0x26c)](b4(0x1db)))return;const e=d['querySelector'](b4(0x1e0))?.[b4(0x287)]['toLowerCase']()||'',f=d['querySelector'](b4(0x45b))?.[b4(0x287)][b4(0x1f4)]()||'',g=d['querySelector'](b4(0x36a))?.['textContent'][b4(0x1f4)]()||'';e['includes'](a)||f[b4(0x267)](a)||g[b4(0x267)](a)?(d[b4(0x3da)][b4(0x33f)]='',c++):d['style'][b4(0x33f)]=b4(0x210);});}async function applyEloHistoryFilters(){const b5=a4N,a=document['getElementById']('history-start-date')[b5(0x222)],b=document[b5(0x2f6)]('history-end-date')['value'],c=document[b5(0x2f6)](b5(0x349))['value'],d=currentLadder[b5(0x1f4)]();eloHistoryPagination[d]={'page':0x1,'lastVisible':null,'firstVisible':null};const e=document['getElementById'](b5(0x355));e[b5(0x3b8)]=b5(0x1a0);try{const f=currentLadder==='D1'?b5(0x203):b5(0x25f),g=collection(db,f);let h=[orderBy(b5(0x4ca),'desc')];if(a){const k=new Date(a);k['setHours'](0x0,0x0,0x0,0x0),h[b5(0x1e7)](where(b5(0x4ca),'>=',k));}if(b){const l=new Date(b);l['setHours'](0x17,0x3b,0x3b,0x3e7),h['push'](where('timestamp','<=',l));}c&&c!==b5(0x286)&&h[b5(0x1e7)](where(b5(0x302),'==',c));h['push'](limit(PAGE_SIZE));const i=query(g,...h),j=await getDocs(i);!j['empty']&&(eloHistoryPagination[d]['firstVisible']=j[b5(0x38a)][0x0],eloHistoryPagination[d]['lastVisible']=j['docs'][j[b5(0x38a)]['length']-0x1]);e['innerHTML']='';if(j[b5(0x4c7)]){e['innerHTML']=b5(0x4a0);return;}j['forEach'](m=>{const b6=b5,n=m['data'](),o=document['createElement']('tr'),p=n[b6(0x4ca)]?new Date(n['timestamp']['seconds']*0x3e8)['toLocaleString']():'N/A',r=n[b6(0x49c)]-n['previousElo'],s=r>0x0?b6(0x34a):r<0x0?'negative-change':'',t=r>0x0?'+':'',u=n['player']||n['username']||n[b6(0x3be)]||'N/A';o[b6(0x3b8)]=b6(0x1ad)+p+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22player\x22>'+u+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22previous-elo\x22>'+(n['previousElo']||'N/A')+b6(0x363)+(n['newElo']||'N/A')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22elo-change\x20'+s+'\x22>'+t+r+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22type\x22>'+formatHistoryType(n[b6(0x302)])+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22admin-action\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(n['modifiedBy']||n[b6(0x3cc)]||n[b6(0x34e)]||b6(0x3ea))+b6(0x397),e['appendChild'](o);}),document[b5(0x2f6)](d+b5(0x378))['textContent']=b5(0x4cc);}catch(m){console['error'](b5(0x3e0),m),e['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x227\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20applying\x20filters:\x20'+m[b5(0x29d)]+b5(0x1ae);}}function resetEloHistoryFilters(){const b7=a4N;document[b7(0x2f6)](b7(0x2a2))['value']='',document[b7(0x2f6)]('history-end-date')['value']='',document[b7(0x2f6)](b7(0x349))['value']='all',document['getElementById'](b7(0x211))[b7(0x222)]='';const a=currentLadder[b7(0x1f4)]();eloHistoryPagination[a]={'page':0x1,'lastVisible':null,'firstVisible':null},loadEloHistory(0x1);}function setupRankControls(){const b8=a4N,a=document[b8(0x2f6)](b8(0x418)),b=document['getElementById']('promote-modal'),c=document[b8(0x2f6)](b8(0x48f));a&&b&&c&&(a['addEventListener'](b8(0x394),()=>{const b9=b8;b['classList']['add'](b9(0x41d));}),b['addEventListener'](b8(0x394),l=>{const ba=b8;l['target']===b&&b[ba(0x2c0)][ba(0x30c)]('active');}),c['addEventListener'](b8(0x2e9),async l=>{const bb=b8;l['preventDefault']();const m=document[bb(0x2f6)](bb(0x3b2)),n=document['getElementById'](bb(0x250)),o=m[bb(0x222)]['trim'](),p=n[bb(0x222)];if(!o){showNotification(bb(0x476),'error');return;}try{await promotePlayer(o,p),b[bb(0x2c0)]['remove']('active'),m[bb(0x222)]='';}catch(q){showNotification(q['message'],bb(0x385));}}),document['getElementById'](b8(0x438))[b8(0x3cf)](b8(0x394),()=>{const bc=b8;b[bc(0x2c0)][bc(0x30c)]('active');}));const d=document[b8(0x2f6)]('demote-player-btn'),e=document['getElementById']('demote-modal'),f=document[b8(0x2f6)]('demote-form');d&&e&&f&&(d['addEventListener'](b8(0x394),()=>{const bd=b8;e['classList']['add'](bd(0x41d));}),e[b8(0x3cf)](b8(0x394),l=>{const be=b8;l['target']===e&&e[be(0x2c0)]['remove']('active');}),f['addEventListener'](b8(0x2e9),async l=>{const bf=b8;l['preventDefault']();const m=document[bf(0x2f6)](bf(0x299)),n=document[bf(0x2f6)]('demote-ladder'),o=m[bf(0x222)]['trim'](),p=n[bf(0x222)];if(!o){alert('Please\x20enter\x20a\x20username');return;}try{await demotePlayer(o,p),document['getElementById']('demote-modal')['classList']['remove'](bf(0x41d)),document['getElementById']('demote-username')[bf(0x222)]='';}catch(q){console['error'](bf(0x47f),q);}}));const g=document['getElementById'](b8(0x31b)),h=document[b8(0x2f6)](b8(0x4bd)),i=document[b8(0x2f6)](b8(0x2e7));g&&h&&i&&(g['addEventListener'](b8(0x394),()=>{const bg=b8;h[bg(0x2c0)][bg(0x2f5)](bg(0x41d));}),h['addEventListener']('click',l=>{l['target']===h&&h['classList']['remove']('active');}),i['addEventListener'](b8(0x2e9),async l=>{const bh=b8;l[bh(0x472)]();const m=document[bh(0x2f6)](bh(0x194)),n=document[bh(0x2f6)](bh(0x46d));let o;const p=document['getElementById']('set-elo-ladder'),q=document['querySelector']('input[name=\x22set-elo-ladder\x22]:checked');if(p)o=p['value'];else q?o=q[bh(0x222)]:o='D1';if(!m||!n){showNotification(bh(0x3b3),bh(0x385));return;}const r=m[bh(0x222)]['trim'](),s=parseInt(n[bh(0x222)]);if(!r||isNaN(s)){showNotification('Please\x20enter\x20valid\x20username\x20and\x20ELO',bh(0x385));return;}try{await setCustomElo(r,s,o),h['classList'][bh(0x30c)]('active'),m[bh(0x222)]='',n[bh(0x222)]='';}catch(t){showNotification(t[bh(0x29d)],bh(0x385));}}),document[b8(0x2f6)](b8(0x462))[b8(0x3cf)]('click',()=>{const bi=b8;h[bi(0x2c0)][bi(0x30c)]('active');}));const j=document['getElementById'](b8(0x19b)),k=document[b8(0x2f6)]('set-role-form');if(j&&k){j[b8(0x3cf)](b8(0x394),m=>{const bj=b8;m[bj(0x2f3)]===j&&closeModalHandler();}),k[b8(0x3cf)]('submit',async m=>{const bk=b8;m[bk(0x472)]();const n=document['getElementById'](bk(0x229)),o=document[bk(0x2f6)]('role-name'),p=document['getElementById']('role-color'),q=n[bk(0x222)][bk(0x3fd)](),r=o[bk(0x222)]['trim'](),s=p[bk(0x222)];if(!q){showNotification(bk(0x193),'error');return;}try{await setUserRole(q,r,s),closeModalHandler(),loadUsersWithRoles();}catch(t){}});const l=document[b8(0x2f6)]('cancel-role-btn');l&&(l['removeEventListener'](b8(0x394),closeModalHandler),l[b8(0x3cf)]('click',closeModalHandler));}}async function promotePlayer(a,b){const bl=a4N;try{console['log'](bl(0x3d9)+a+bl(0x297)+b+bl(0x1d0));const c=auth[bl(0x2ee)];if(!c)throw new Error(bl(0x496));const d=b==='D2'?bl(0x1da):bl(0x2c5),e=b==='D2'?bl(0x25f):bl(0x203);console['log'](bl(0x3c5)+d);const f=collection(db,d),g=query(f,where(bl(0x3fb),'==',a)),h=await getDocs(g);if(h[bl(0x4c7)]){alert(bl(0x361)+b+'\x20ladder');throw new Error(bl(0x361)+b+'\x20ladder');}const i=h[bl(0x38a)][0x0],j=i[bl(0x461)](),k=j[bl(0x298)]||0x4b0,l=i['id'];console['log'](bl(0x47a)+k);const m=[{'name':bl(0x2ba),'elo':0x578},{'name':'Silver','elo':0x640},{'name':'Gold','elo':0x708},{'name':bl(0x387),'elo':0x7d0}];let n=m['find'](o=>o['elo']>k);if(!n){alert(bl(0x414)+b+bl(0x1d0));throw new Error(bl(0x414)+b+bl(0x1d0));}console['log']('Promoting\x20player\x20to\x20'+n['name']+'\x20('+n['elo']+')'),await updateDoc(doc(db,d,i['id']),{'eloRating':n[bl(0x4b3)],'lastPromotedAt':serverTimestamp(),'promotedBy':c[bl(0x2d4)]||bl(0x24c)}),await addDoc(collection(db,e),{'player':a,'previousElo':k,'newElo':n['elo'],'timestamp':serverTimestamp(),'type':bl(0x3ef),'rankAchieved':n[bl(0x332)],'promotedBy':c[bl(0x2d4)]||'admin','gameMode':b});try{const {promotionManager:o}=await import('./promotions.js'),p=o[bl(0x1ca)](k),r=n[bl(0x332)];await o[bl(0x31d)](l,a,k,n[bl(0x4b3)],p,r,'promotion',{'displayName':a,'source':bl(0x24c),'adminUser':c['email'],'ladder':b}),console['log'](bl(0x26d));}catch(s){console[bl(0x385)]('Failed\x20to\x20send\x20Discord\x20notification:',s);}return alert('Successfully\x20promoted\x20'+a+'\x20to\x20'+n[bl(0x332)]+'\x20('+n['elo']+')'),currentLadder===b&&(loadPlayersData(),loadEloHistory(0x1)),!![];}catch(t){console['error'](bl(0x3c6),t),alert(bl(0x1cf)+t['message']);throw t;}}document['addEventListener'](a4N(0x323),()=>{const bm=a4N,a=document[bm(0x2f6)](bm(0x48f));a&&a['addEventListener']('submit',async b=>{const bn=bm;b['preventDefault']();const c=document['getElementById'](bn(0x3b2))[bn(0x222)]['trim'](),d=document[bn(0x2bc)](bn(0x3f9))['value'];if(!c){alert('Please\x20enter\x20a\x20username');return;}try{await promotePlayer(c,d),document[bn(0x2f6)]('promote-modal')['classList'][bn(0x30c)]('active'),document['getElementById'](bn(0x3b2))[bn(0x222)]='';}catch(f){console[bn(0x385)](bn(0x453),f);}});});async function demotePlayer(a,b){const bo=a4N;try{console['log']('Attempting\x20to\x20demote\x20'+a+'\x20in\x20'+b+bo(0x1d0));const c=auth[bo(0x2ee)];if(!c)throw new Error('You\x20must\x20be\x20logged\x20in\x20to\x20perform\x20this\x20action');const d=b==='D2'?bo(0x1da):'players',e=b==='D2'?bo(0x25f):bo(0x203);console[bo(0x32e)](bo(0x3c5)+d);const f=collection(db,d),g=query(f,where(bo(0x3fb),'==',a)),h=await getDocs(g);if(h['empty']){alert('Player\x20not\x20found\x20in\x20'+b+bo(0x1d0));throw new Error(bo(0x361)+b+bo(0x1d0));}const i=h['docs'][0x0],j=i['data'](),k=j['eloRating']||0x4b0;console['log'](bo(0x47a)+k);const l=[{'name':bo(0x307),'elo':0x708},{'name':bo(0x30b),'elo':0x640},{'name':'Bronze','elo':0x578},{'name':bo(0x32d),'elo':0x4b0}];let m=l['find'](n=>n[bo(0x4b3)]<k);if(!m){alert(bo(0x1bb)+b+'\x20ladder');throw new Error('Player\x20is\x20already\x20at\x20minimum\x20rank\x20(Unranked)\x20in\x20'+b+'\x20ladder');}console['log']('Demoting\x20player\x20to\x20'+m[bo(0x332)]+'\x20('+m['elo']+')'),await updateDoc(doc(db,d,i['id']),{'eloRating':m['elo'],'lastDemotedAt':serverTimestamp(),'demotedBy':c['email']||'admin'}),await addDoc(collection(db,e),{'player':a,'previousElo':k,'newElo':m['elo'],'timestamp':serverTimestamp(),'type':'demotion','rankAchieved':m[bo(0x332)],'demotedBy':c[bo(0x2d4)]||'admin','gameMode':b});try{const {promotionManager:n}=await import('./promotions.js'),o=n['getRankName'](k),p=m[bo(0x332)];await n[bo(0x31d)](i['id'],a,k,m[bo(0x4b3)],o,p,bo(0x24b),{'displayName':a,'source':bo(0x24c),'adminUser':c[bo(0x2d4)],'ladder':b}),console['log'](bo(0x42d));}catch(r){console['error'](bo(0x1b9),r);}return alert('Successfully\x20demoted\x20'+a+'\x20to\x20'+m['name']+'\x20('+m['elo']+')'),currentLadder===b&&(loadPlayersData(),loadEloHistory(0x1)),!![];}catch(s){console['error']('Error\x20demoting\x20player:',s),alert('Error\x20demoting\x20player:\x20'+s[bo(0x29d)]);throw s;}}document['addEventListener']('DOMContentLoaded',()=>{const bp=a4N,a=document[bp(0x2f6)]('demote-form');a&&a['addEventListener']('submit',async b=>{const bq=bp;b['preventDefault']();const c=document['getElementById']('demote-username')['value']['trim'](),d=document[bq(0x2bc)](bq(0x4a4))[bq(0x222)];if(!c){alert(bq(0x476));return;}try{await demotePlayer(c,d),document[bq(0x2f6)]('demote-modal')['classList'][bq(0x30c)]('active'),document['getElementById'](bq(0x299))[bq(0x222)]='';}catch(f){console[bq(0x385)](bq(0x47f),f);}});});async function setCustomElo(a,b,c){const br=a4N;try{const d=auth['currentUser'];if(!d||!isAdmin(d[br(0x2d4)]))throw new Error(br(0x198));const e=c==='D2'?'playersD2':'players',f=c==='D2'?br(0x25f):'eloHistory',g=collection(db,e),h=query(g,where('username','==',a)),i=await getDocs(h);if(i[br(0x4c7)])throw new Error(br(0x361)+c+'\x20ladder');const j=i['docs'][0x0],k=j[br(0x461)](),l=k[br(0x298)]||0x4b0,m=writeBatch(db);m['update'](doc(db,e,j['id']),{'eloRating':b,'lastModifiedAt':serverTimestamp(),'lastModifiedBy':d['email']});const n=doc(collection(db,f));return m[br(0x465)](n,{'player':a,'previousElo':l,'newElo':b,'timestamp':serverTimestamp(),'type':br(0x4ce),'modifiedBy':d[br(0x2d4)],'gameMode':c}),await m[br(0x375)](),showNotification(br(0x4c1)+a+'\x20was\x20updated\x20from\x20'+l+'\x20to\x20'+b,'success'),currentLadder===c&&(loadDashboardOverview(),loadPlayersData(),loadEloHistory(0x1)),!![];}catch(o){console['error']('Error\x20setting\x20custom\x20ELO:',o);throw o;}}async function setUserRole(a,b,c){const bs=a4N;try{const d=auth[bs(0x2ee)];if(!d||!isAdmin(d['email']))throw new Error('Unauthorized:\x20Admin\x20access\x20required');const e=b?b[bs(0x3fd)]():null,f=e?c||'#808080':null,[g,h]=await Promise['all']([getDocs(query(collection(db,'players'),where(bs(0x3fb),'==',a))),getDocs(query(collection(db,'playersD2'),where(bs(0x3fb),'==',a)))]),i=[];if(!g[bs(0x4c7)])i[bs(0x1e7)]({'ref':g['docs'][0x0]['ref'],'source':'D1'});if(!h['empty'])i['push']({'ref':h['docs'][0x0][bs(0x3f3)],'source':'D2'});if(i[bs(0x2d7)]===0x0){const [l,m]=await Promise['all']([getDocs(query(collection(db,'nonParticipants'),where(bs(0x3fb),'==',a))),getDocs(query(collection(db,'userProfiles'),where(bs(0x3fb),'==',a)))]);if(!l[bs(0x4c7)])i['push']({'ref':l[bs(0x38a)][0x0]['ref'],'source':'NonParticipant'});if(!m['empty'])i[bs(0x1e7)]({'ref':m['docs'][0x0]['ref'],'source':bs(0x49d)});}if(i[bs(0x2d7)]===0x0)throw new Error('User\x20\x22'+a+bs(0x2d8));const j=writeBatch(db);i[bs(0x4d5)](n=>{const bt=bs;console[bt(0x32e)]('Updating\x20role\x20for\x20'+a+'\x20in\x20'+n[bt(0x1e1)]),!e?j['update'](n[bt(0x3f3)],{'roleName':deleteField(),'roleColor':deleteField(),'roleAssignedBy':deleteField(),'roleAssignedAt':deleteField()}):j[bt(0x1b1)](n['ref'],{'roleName':e,'roleColor':f,'roleAssignedBy':d['email'],'roleAssignedAt':serverTimestamp()});}),await j[bs(0x375)]();const k=e?bs(0x21a)+e+bs(0x1b7):'Role\x20removed';return showNotification(k+'\x20for\x20user\x20\x22'+a+'\x22',bs(0x486)),!![];}catch(n){console[bs(0x385)]('Error\x20setting\x20user\x20role:',n),showNotification('Error:\x20'+n[bs(0x29d)],'error');throw n;}}function showNotification(a,b=a4N(0x1dc)){const bu=a4N,c=document['createElement']('div');c['className']='notification\x20'+b,c[bu(0x3b8)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22notification-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+getNotificationIcon(b)+bu(0x3c1)+a+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22close-notification\x22>×</button>\x0a\x20\x20\x20\x20',document[bu(0x1d2)][bu(0x260)](c),setTimeout(()=>{const bv=bu;c[bv(0x2c0)]['add'](bv(0x41d));},0xa);const d=setTimeout(()=>{closeNotification(c);},0x1388);c['querySelector'](bu(0x4ac))['addEventListener'](bu(0x394),()=>{clearTimeout(d),closeNotification(c);});}function getNotificationIcon(a){const bw=a4N;switch(a){case bw(0x486):return bw(0x392);case bw(0x385):return bw(0x2cf);case'warning':return'fa-exclamation-triangle';case bw(0x1dc):default:return'fa-info-circle';}}function closeNotification(a){const bx=a4N;a[bx(0x2c0)][bx(0x30c)]('active'),setTimeout(()=>{const by=bx;a[by(0x30c)]();},0x12c);}function setupUserRolesSection(){const bz=a4N,a=document[bz(0x2f6)](bz(0x28a));a&&a[bz(0x3cf)](bz(0x394),function(){const bA=bz;this[bA(0x2c0)][bA(0x2f5)](bA(0x459)),this[bA(0x3b8)]=bA(0x1d6),loadUsersWithRoles()[bA(0x2a0)](()=>{const bB=bA;this[bB(0x2c0)][bB(0x30c)]('loading'),this['innerHTML']=bB(0x3e7);})[bA(0x1b5)](e=>{const bC=bA;console[bC(0x385)](bC(0x422),e),this[bC(0x2c0)][bC(0x30c)]('loading'),this[bC(0x3b8)]=bC(0x306),setTimeout(()=>{const bD=bC;this[bD(0x3b8)]=bD(0x3e7);},0xbb8);});});const b=document[bz(0x2f6)]('add-new-role-btn');b&&b[bz(0x3cf)](bz(0x394),()=>{const bE=bz,e=document['getElementById'](bE(0x19b));e&&e['classList']['add'](bE(0x41d));});const c=document['getElementById']('user-search');c&&c['addEventListener'](bz(0x3b1),debounce(filterUsersTable,0x12c));const d=document[bz(0x2f6)]('role-filter');d&&d['addEventListener'](bz(0x20a),filterUsersTable);}async function loadUsersWithRoles(){const bF=a4N,a=document['getElementById']('users-table-body');if(!a)return;a[bF(0x3b8)]='<tr><td\x20colspan=\x225\x22\x20class=\x22loading-cell\x22>Loading\x20users...</td></tr>';try{const [b,c,d,e]=await Promise['all']([getDocs(collection(db,bF(0x2c5))),getDocs(collection(db,bF(0x1da))),getDocs(collection(db,'nonParticipants')),getDocs(collection(db,'userProfiles'))]),f=new Map();function g(i,j){const bG=bF;i[bG(0x4d5)](k=>{const bH=bG,l=k[bH(0x461)]();if(!l['username'])return;if(!f['has'](l['username']))f['set'](l[bH(0x3fb)],{'username':l[bH(0x3fb)],'roleName':l[bH(0x3b7)]||null,'roleColor':l[bH(0x391)]||null,'roleAssignedBy':l[bH(0x3d7)]||null,'roleAssignedAt':l[bH(0x22a)]||null,'sources':[j]});else{const m=f['get'](l['username']);l[bH(0x3b7)]&&(!m[bH(0x3b7)]||j==='D1'||j==='D2')&&(m['roleName']=l['roleName'],m[bH(0x391)]=l['roleColor'],m[bH(0x3d7)]=l['roleAssignedBy'],m['roleAssignedAt']=l['roleAssignedAt']),!m[bH(0x2b1)][bH(0x267)](j)&&m['sources']['push'](j);}});}g(b,'D1'),g(c,'D2'),g(d,bF(0x35d)),g(e,bF(0x3eb));const h=Array['from'](f['values']())[bF(0x208)]((i,j)=>i['username']['localeCompare'](j['username']));if(h[bF(0x2d7)]===0x0){a['innerHTML']='<tr><td\x20colspan=\x225\x22\x20class=\x22empty-state\x22>No\x20users\x20found</td></tr>';return;}a['innerHTML']='',h['forEach'](i=>{const bI=bF,j=document[bI(0x27b)]('tr');j['dataset']['username']=i[bI(0x3fb)],j['dataset']['roleName']=i[bI(0x3b7)]||'',j['dataset']['roleColor']=i[bI(0x391)]||'#808080';const k=i['roleAssignedAt']?new Date(i['roleAssignedAt'][bI(0x199)]*0x3e8)['toLocaleDateString']():'N/A',l=i['roleName']?bI(0x449)+i[bI(0x391)]+';\x20color:\x20'+getContrastColor(i['roleColor'])+';\x22>'+i[bI(0x3b7)]+bI(0x22b):bI(0x1d1);j[bI(0x3b8)]=bI(0x2b5)+i['username']+bI(0x230)+i[bI(0x2b1)]['join'](',\x20')+')</span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+l+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(i['roleAssignedBy']||bI(0x254))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+k+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-role-btn\x22\x20data-username=\x22'+i['username']+bI(0x35f)+(i['roleName']?bI(0x381)+i['username']+'\x22\x20title=\x22Remove\x20Role\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20<!--\x20Changed\x20icon\x20-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+bI(0x397),a['appendChild'](j);}),document[bF(0x3dd)]('.edit-role-btn')['forEach'](i=>{const bJ=bF;i['addEventListener'](bJ(0x394),()=>{const bK=bJ,j=i[bK(0x3c8)][bK(0x3fb)];openRoleEditModal(j);});}),document[bF(0x3dd)]('.remove-role-btn')['forEach'](i=>{const bL=bF;i['addEventListener'](bL(0x394),()=>{const bM=bL,j=i['dataset'][bM(0x3fb)];confirm(bM(0x46e)+j+'?')&&setUserRole(j,null,null)[bM(0x2a0)](()=>loadUsersWithRoles())[bM(0x1b5)](k=>console['error'](bM(0x23f),k));});});}catch(i){console['error']('Error\x20loading\x20users:',i),a[bF(0x3b8)]=bF(0x4b6);}}function openRoleEditModal(a){const bN=a4N;console[bN(0x32e)]('Attempting\x20to\x20open\x20role\x20edit\x20modal\x20for:',a);const b=document[bN(0x2f6)](bN(0x19b)),c=document['getElementById'](bN(0x229)),d=document['getElementById']('user-role');if(!b){console['error'](bN(0x2e3)),alert('Error:\x20Could\x20not\x20find\x20the\x20role\x20editing\x20dialog.');return;}console[bN(0x32e)](bN(0x314),b);c?(c[bN(0x222)]=a,console[bN(0x32e)]('Username\x20input\x20set\x20to:\x20'+a)):console[bN(0x1c6)](bN(0x2e8));const e=document[bN(0x2bc)](bN(0x39a)+a+'\x22]');if(e&&d){const g=e[bN(0x3c8)]['role'];d[bN(0x222)]=g==='none'?'':g,console['log'](bN(0x234)+d['value']+bN(0x487)+g+')');}else{if(!e)console[bN(0x1c6)]('Table\x20row\x20for\x20user\x20'+a+bN(0x470));if(!d)console[bN(0x1c6)]('Role\x20select\x20field\x20(#user-role)\x20not\x20found\x20in\x20modal.');if(d)d['value']='';}console[bN(0x32e)](bN(0x318)),b[bN(0x2c0)]['add']('active');const f=document[bN(0x2f6)](bN(0x44d));f?(console['log']('Attaching\x20cancel\x20button\x20listener.'),f[bN(0x415)]('click',closeModalHandler),f[bN(0x3cf)](bN(0x394),closeModalHandler)):console[bN(0x1c6)]('Cancel\x20button\x20(#cancel-role-btn)\x20not\x20found\x20in\x20modal.'),console[bN(0x32e)](bN(0x367)),b['removeEventListener']('click',closeModalBackgroundHandler),b[bN(0x3cf)](bN(0x394),closeModalBackgroundHandler);}function closeModalBackgroundHandler(a){const bO=a4N;a[bO(0x2f3)]===this&&closeModalHandler();}function closeModalHandler(){const bP=a4N,a=document['getElementById']('set-role-modal');a&&(a[bP(0x2c0)][bP(0x30c)]('active'),a['removeEventListener']('click',closeModalBackgroundHandler));}function filterUsersTable(){const bQ=a4N,a=document['getElementById']('user-search')?.[bQ(0x222)][bQ(0x1f4)]()||'',b=document[bQ(0x2f6)](bQ(0x25a))?.[bQ(0x222)]||bQ(0x286),c=document['querySelectorAll']('#users-table-body\x20tr');let d=0x0;c[bQ(0x4d5)](e=>{const bR=bQ;if(e[bR(0x2bc)](bR(0x379))||e['querySelector']('.empty-state')||e[bR(0x2bc)]('.error-state'))return;const f=e['dataset']['username']?.[bR(0x1f4)]()||'',g=e[bR(0x3c8)]['role']||'none',h=f['includes'](a),i=b===bR(0x286)||g===b;h&&i?(e[bR(0x3da)]['display']='',d++):e[bR(0x3da)][bR(0x33f)]='none';});if(d===0x0&&c[bQ(0x2d7)]>0x0){const e=document['getElementById'](bQ(0x215));if(e){if(!e['querySelector'](bQ(0x293))){const f=document['createElement']('tr');f['classList'][bQ(0x2f5)](bQ(0x2da)),f[bQ(0x3b8)]=bQ(0x48e),e[bQ(0x260)](f);}}}else{const g=document['querySelector']('.no-results');g&&g['remove']();}}function setupManageArticlesSection(){const bS=a4N,a=document[bS(0x2f6)]('load-articles-data');a&&a[bS(0x3cf)]('click',function(){const bT=bS;this['classList']['add']('loading'),this[bT(0x3b8)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...',loadArticles()['then'](()=>{const bU=bT;this['classList']['remove'](bU(0x459)),this[bU(0x3b8)]=bU(0x2cb);})['catch'](g=>{const bV=bT;console[bV(0x385)]('Error\x20loading\x20articles:',g),this['classList'][bV(0x30c)](bV(0x459)),this[bV(0x3b8)]='<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error',setTimeout(()=>{this['innerHTML']='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Articles';},0xbb8);});});const b=document['getElementById']('create-new-article-btn');b?(console['log']('Setting\x20up\x20Manage\x20Articles\x20section\x20-\x20Found\x20Create\x20Article\x20button.'),b[bS(0x3da)]['display']='block',b[bS(0x3cf)](bS(0x394),()=>{openArticleModal();})):console['error'](bS(0x1ec));const c=document['getElementById']('article-form');c&&c['addEventListener'](bS(0x2e9),g=>{g['preventDefault'](),saveArticle();});const d=document[bS(0x2f6)](bS(0x252));d&&d['addEventListener'](bS(0x394),()=>{closeArticleModal();});const e=document['querySelector'](bS(0x2dc));e&&e['addEventListener']('click',()=>{closeArticleModal();});const f=document[bS(0x2f6)]('article-modal');f&&f['addEventListener']('click',g=>{const bW=bS;g[bW(0x2f3)]===f&&closeArticleModal();});}async function loadArticles(){const bX=a4N,a=document['getElementById'](bX(0x38c));if(!a)return;a[bX(0x3b8)]='<tr><td\x20colspan=\x224\x22\x20class=\x22loading-cell\x22>Loading\x20articles...</td></tr>';try{const b=collection(db,bX(0x49b)),c=query(b,orderBy('createdAt','desc')),d=await getDocs(c);if(d['empty']){a[bX(0x3b8)]=bX(0x46c);return;}a['innerHTML']='',d['forEach'](e=>{const bY=bX,f=e[bY(0x461)](),g=document['createElement']('tr'),h=f['createdAt']?new Date(f[bY(0x36c)]['seconds']*0x3e8)['toLocaleString']():'N/A';g['innerHTML']=bY(0x2b5)+(f['title']||bY(0x29b))+bY(0x43f)+(f['author']||'Unknown')+bY(0x43f)+h+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-article-btn\x22\x20data-id=\x22'+e['id']+bY(0x3f0)+e['id']+bY(0x43c),a['appendChild'](g);}),setupArticleActionButtons();}catch(e){console[bX(0x385)](bX(0x398),e),a['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x224\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20articles:\x20'+e[bX(0x29d)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}function setupArticleActionButtons(){const c1=a4N;document['querySelectorAll']('.edit-article-btn')['forEach'](a=>{const bZ=a4b;a[bZ(0x3cf)](bZ(0x394),async b=>{const c0=bZ,c=b['currentTarget'][c0(0x3c8)]['id'];openArticleModal(c);});}),document[c1(0x3dd)](c1(0x268))[c1(0x4d5)](a=>{const c2=c1;a[c2(0x3cf)]('click',async b=>{const c3=c2,c=b[c3(0x326)]['dataset']['id'];confirmDeleteArticle(c);});});}function openArticleModal(a=null){const c4=a4N,b=document[c4(0x2f6)](c4(0x2c6)),c=document[c4(0x2f6)](c4(0x19f)),d=document[c4(0x2f6)]('article-form'),e=document['getElementById']('article-id');d['reset'](),e['value']='';if(a)c[c4(0x287)]='Edit\x20Article',e['value']=a,loadArticleData(a);else{c['textContent']=c4(0x1d7);const f=auth[c4(0x2ee)];if(f){const g=document[c4(0x2f6)](c4(0x4c8));if(g&&f['displayName'])g['value']=f[c4(0x47b)];else g&&(g['value']=f['email']);}}b[c4(0x2c0)]['add'](c4(0x41d));}async function loadArticleData(a){const c5=a4N;try{const b=doc(db,c5(0x49b),a),c=await getDoc(b);if(!c[c5(0x4a3)]()){showNotification(c5(0x2db),'error');return;}const d=c[c5(0x461)]();document[c5(0x2f6)]('article-title')['value']=d['title']||'',document['getElementById']('article-author')['value']=d['author']||'',document['getElementById']('article-image-url')[c5(0x222)]=d[c5(0x382)]||'',document['getElementById']('article-content')[c5(0x222)]=d[c5(0x18f)]||'';}catch(e){console[c5(0x385)]('Error\x20loading\x20article\x20data:',e),showNotification('Failed\x20to\x20load\x20article\x20data','error');}}async function saveArticle(){const c6=a4N;try{const a=document['getElementById'](c6(0x34b))[c6(0x222)],b=document[c6(0x2f6)](c6(0x278))['value'][c6(0x3fd)](),c=document['getElementById']('article-author')[c6(0x222)][c6(0x3fd)](),d=document[c6(0x2f6)]('article-image-url')[c6(0x222)][c6(0x3fd)](),e=document[c6(0x2f6)]('article-content')[c6(0x222)][c6(0x3fd)]();if(!b||!e){showNotification(c6(0x451),c6(0x385));return;}const f=auth['currentUser'];if(!f){showNotification('You\x20must\x20be\x20logged\x20in\x20to\x20save\x20articles',c6(0x385));return;}const g={'title':b,'author':c,'imageUrl':d||null,'content':e,'lastModifiedAt':serverTimestamp(),'lastModifiedBy':f['email']};!a?(g[c6(0x36c)]=serverTimestamp(),g['createdBy']=f[c6(0x2d4)],await addDoc(collection(db,c6(0x49b)),g),showNotification('Article\x20created\x20successfully','success')):(await updateDoc(doc(db,c6(0x49b),a),g),showNotification(c6(0x445),c6(0x486))),closeArticleModal(),loadArticles();}catch(h){console['error']('Error\x20saving\x20article:',h),showNotification('Failed\x20to\x20save\x20article:\x20'+h[c6(0x29d)],c6(0x385));}}function closeArticleModal(){const c7=a4N,a=document['getElementById'](c7(0x2c6));a&&a['classList']['remove'](c7(0x41d));}async function confirmDeleteArticle(a){const c8=a4N;if(confirm(c8(0x244)))try{await deleteDoc(doc(db,'articles',a)),loadArticles(),showNotification('Article\x20deleted\x20successfully',c8(0x486));}catch(b){console[c8(0x385)](c8(0x350),b),showNotification('Failed\x20to\x20delete\x20article:\x20'+b['message'],'error');}}function setupTrophyManagementSection(){const c9=a4N,a=document[c9(0x2f6)](c9(0x33c));a&&a[c9(0x3cf)]('click',function(){const ca=c9;this[ca(0x2c0)][ca(0x2f5)](ca(0x459)),this['innerHTML']=ca(0x1d6);const j=document['getElementById'](ca(0x2df));j&&(j['onerror']=function(){const cb=ca;this[cb(0x1b6)]=DEFAULT_TROPHY_IMAGE;}),loadTrophyDefinitions()[ca(0x2a0)](()=>{const cc=ca;this[cc(0x2c0)]['remove'](cc(0x459)),this['innerHTML']=cc(0x3c0);})[ca(0x1b5)](k=>{const cd=ca;console[cd(0x385)]('Error\x20loading\x20trophies:',k),this[cd(0x2c0)][cd(0x30c)]('loading'),this[cd(0x3b8)]='<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error',setTimeout(()=>{const ce=cd;this['innerHTML']=ce(0x3c0);},0xbb8);});});const b=document['getElementById'](c9(0x1b4));b&&b['addEventListener'](c9(0x394),()=>{openTrophyModal();});const c=document['getElementById']('trophy-form');c&&c['addEventListener'](c9(0x2e9),j=>{j['preventDefault'](),saveTrophyDefinition();});const d=document[c9(0x2f6)]('cancel-trophy-btn');d&&d['addEventListener'](c9(0x394),()=>{closeTrophyModal();});document[c9(0x3dd)](c9(0x1ff))[c9(0x4d5)](j=>{const cf=c9;j[cf(0x3cf)](cf(0x394),()=>{closeTrophyModal(),closeAssignTrophyModal();});});const e=document[c9(0x2f6)]('trophy-modal');e&&e[c9(0x3cf)]('click',j=>{j['target']===e&&closeTrophyModal();});const f=document['getElementById'](c9(0x204));f&&f[c9(0x3cf)]('click',j=>{const cg=c9;j[cg(0x2f3)]===f&&closeAssignTrophyModal();});const g=document[c9(0x2f6)](c9(0x3dc));g&&g['addEventListener']('submit',j=>{j['preventDefault'](),assignTrophyToPlayer();});const h=document[c9(0x2f6)]('cancel-assign-btn');h&&h[c9(0x3cf)](c9(0x394),()=>{closeAssignTrophyModal();});const i=document[c9(0x2f6)]('trophy-image-url');i&&(i['addEventListener'](c9(0x3b1),updateTrophyImagePreview),i['addEventListener'](c9(0x290),()=>{setTimeout(updateTrophyImagePreview,0xa);}));}function updateTrophyImagePreview(){const ch=a4N,a=document['getElementById'](ch(0x25b))['value'][ch(0x3fd)](),b=document[ch(0x2f6)]('trophy-image-preview');if(!b){const d=document['getElementById'](ch(0x25b))[ch(0x3f7)](ch(0x40d)),e=document[ch(0x27b)](ch(0x301));e['id']='trophy-image-preview',e[ch(0x3a4)]='trophy-preview-container',d[ch(0x260)](e);const f=document['createElement'](ch(0x435));f['id']=ch(0x46f),f['alt']='Trophy\x20Preview',f['onerror']=function(){const ci=ch;this[ci(0x1b6)]=DEFAULT_TROPHY_IMAGE,this['classList']['add']('error');},e['appendChild'](f);}const c=document['getElementById'](ch(0x46f));a?(c[ch(0x1b6)]=a,c[ch(0x3da)][ch(0x33f)]=ch(0x430),c[ch(0x2c0)][ch(0x30c)]('error')):(c[ch(0x1b6)]=DEFAULT_TROPHY_IMAGE,c[ch(0x3da)][ch(0x33f)]='block');}async function loadTrophyDefinitions(){const cj=a4N,a=document['getElementById'](cj(0x26a));if(!a)return;a[cj(0x3b8)]='<tr><td\x20colspan=\x225\x22\x20class=\x22loading-cell\x22>Loading\x20trophies...</td></tr>';try{const b=collection(db,'trophyDefinitions'),c=query(b,orderBy(cj(0x36c),'desc')),d=await getDocs(c);if(d[cj(0x4c7)]){a[cj(0x3b8)]='<tr><td\x20colspan=\x225\x22\x20class=\x22empty-state\x22>No\x20trophy\x20definitions\x20found</td></tr>';return;}a[cj(0x3b8)]='',d[cj(0x4d5)](e=>{const ck=cj,f=e[ck(0x461)](),g=document['createElement']('tr'),h=f[ck(0x36c)]?new Date(f[ck(0x36c)][ck(0x199)]*0x3e8)['toLocaleString']():'N/A';g[ck(0x3b8)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22trophy-image-cell\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22'+(f[ck(0x3e5)]||DEFAULT_TROPHY_IMAGE)+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22'+f[ck(0x332)]+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.src=\x27'+DEFAULT_TROPHY_IMAGE+'\x27;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22trophy-name\x22>'+(f[ck(0x332)]||ck(0x3ae))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22trophy-rarity-cell\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22trophy-rarity\x20'+(f[ck(0x2ed)]||'common')+'\x22>'+(f['rarity']||ck(0x3ff))+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+h+ck(0x18b)+e['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22assign-trophy-btn\x22\x20data-id=\x22'+e['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-plus\x22\x20title=\x22Assign\x20to\x20player\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-trophy-btn\x22\x20data-id=\x22'+e['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',a[ck(0x260)](g);}),setupTrophyActionButtons();}catch(e){console['error'](cj(0x3c3),e),a[cj(0x3b8)]=cj(0x21e)+e['message']+cj(0x1ae);}}function setupTrophyActionButtons(){const cm=a4N;document['querySelectorAll']('.edit-trophy-btn')['forEach'](a=>{a['addEventListener']('click',b=>{const cl=a4b,c=b[cl(0x326)][cl(0x3c8)]['id'];openTrophyModal(c);});}),document[cm(0x3dd)]('.assign-trophy-btn')['forEach'](a=>{const cn=cm;a[cn(0x3cf)]('click',b=>{const co=cn,c=b[co(0x326)]['dataset']['id'];openAssignTrophyModal(c);});}),document[cm(0x3dd)](cm(0x2e0))['forEach'](a=>{const cp=cm;a['addEventListener'](cp(0x394),b=>{const cq=cp,c=b[cq(0x326)]['dataset']['id'];confirmDeleteTrophy(c);});});}function openTrophyModal(a=null){const cr=a4N,b=document['getElementById'](cr(0x405)),c=document['getElementById']('trophy-modal-title'),d=document['getElementById'](cr(0x277)),e=document['getElementById']('trophy-id');d[cr(0x2a6)](),e['value']='';const f=document['getElementById']('trophy-preview-img');f&&(f[cr(0x1b6)]=DEFAULT_TROPHY_IMAGE,f[cr(0x2c0)]['remove'](cr(0x385))),a?(c['textContent']='Edit\x20Trophy',e['value']=a,loadTrophyData(a)):c['textContent']='Create\x20New\x20Trophy',b['classList']['add'](cr(0x41d));}async function loadTrophyData(a){const cs=a4N;try{const b=doc(db,'trophyDefinitions',a),c=await getDoc(b);if(!c[cs(0x4a3)]()){showNotification('Trophy\x20not\x20found','error');return;}const d=c['data']();document['getElementById']('trophy-name')[cs(0x222)]=d[cs(0x332)]||'',document[cs(0x2f6)](cs(0x3cd))[cs(0x222)]=d['description']||'',document[cs(0x2f6)](cs(0x25b))[cs(0x222)]=d['image']||'',document['getElementById'](cs(0x380))['value']=d[cs(0x2ed)]||cs(0x3ff),updateTrophyImagePreview();}catch(e){console[cs(0x385)](cs(0x2e4),e),showNotification('Failed\x20to\x20load\x20trophy\x20data',cs(0x385));}}async function saveTrophyDefinition(){const ct=a4N;try{const a=document['getElementById']('trophy-id')['value'],b=document[ct(0x2f6)](ct(0x38e))[ct(0x222)]['trim'](),c=document[ct(0x2f6)](ct(0x3cd))['value'][ct(0x3fd)](),d=document['getElementById']('trophy-image-url')[ct(0x222)][ct(0x3fd)](),e=document[ct(0x2f6)]('trophy-rarity')[ct(0x222)];if(!b||!c||!d){showNotification(ct(0x370),ct(0x385));return;}const f=auth[ct(0x2ee)];if(!f){showNotification(ct(0x4d4),ct(0x385));return;}const g={'name':b,'description':c,'image':d,'rarity':e,'lastModifiedAt':serverTimestamp(),'lastModifiedBy':f['email']};!a?(g['createdAt']=serverTimestamp(),g['createdBy']=f[ct(0x2d4)],await addDoc(collection(db,'trophyDefinitions'),g),showNotification(ct(0x485),ct(0x486))):(await updateDoc(doc(db,ct(0x4b1),a),g),showNotification(ct(0x24e),ct(0x486))),closeTrophyModal(),loadTrophyDefinitions();}catch(h){console['error']('Error\x20saving\x20trophy:',h),showNotification(ct(0x1c0)+h['message'],ct(0x385));}}function closeTrophyModal(){const cu=a4N,a=document['getElementById'](cu(0x405));a&&a[cu(0x2c0)]['remove']('active');}async function confirmDeleteTrophy(a){const cv=a4N;if(!a){console[cv(0x385)]('Delete\x20Trophy:\x20No\x20trophy\x20ID\x20provided.');return;}if(confirm(cv(0x460)))try{const b=auth['currentUser'];if(!b){showNotification(cv(0x1fc),'error');return;}console[cv(0x32e)](cv(0x40b)+a),await deleteDoc(doc(db,cv(0x4b1),a)),showNotification('Trophy\x20definition\x20deleted\x20successfully',cv(0x486)),loadTrophyDefinitions();}catch(c){console['error']('Error\x20deleting\x20trophy\x20definition:',c),showNotification('Failed\x20to\x20delete\x20trophy:\x20'+c[cv(0x29d)],cv(0x385));}}async function openAssignTrophyModal(a){const cw=a4N;try{const b=doc(db,'trophyDefinitions',a),c=await getDoc(b);if(!c['exists']()){showNotification(cw(0x1eb),'error');return;}const d=c['data']();document['getElementById']('assign-trophy-id')['value']=a,document[cw(0x2f6)]('assign-trophy-name')[cw(0x222)]=d['name'],document[cw(0x2f6)](cw(0x2df))['src']=d['image']||DEFAULT_TROPHY_IMAGE,document[cw(0x2f6)](cw(0x315))['textContent']=d[cw(0x332)]||cw(0x48d),document['getElementById']('assign-trophy-description')['textContent']=d['description']||'No\x20description';const e=document[cw(0x2f6)](cw(0x4c4));e['textContent']=d[cw(0x2ed)]||cw(0x3ff),e[cw(0x3a4)]='trophy-rarity\x20'+(d['rarity']||cw(0x3ff));const f=document[cw(0x2f6)](cw(0x204));f['classList'][cw(0x2f5)](cw(0x41d));}catch(g){console['error'](cw(0x346),g),showNotification(cw(0x25e),'error');}}function closeAssignTrophyModal(){const cx=a4N,a=document['getElementById'](cx(0x204));a&&a[cx(0x2c0)][cx(0x30c)]('active');}async function assignTrophyToPlayer(){const cy=a4N;try{const a=document[cy(0x2f6)]('assign-trophy-id')[cy(0x222)],b=document['getElementById'](cy(0x274))[cy(0x222)],c=document[cy(0x2f6)](cy(0x484))[cy(0x222)][cy(0x3fd)](),d=document[cy(0x2bc)]('input[name=\x22assign-ladder\x22]:checked')['value'];if(!a||!c){showNotification(cy(0x456),cy(0x385));return;}const e=auth[cy(0x2ee)];if(!e){showNotification(cy(0x1f2),'error');return;}let f=null,g=null,h=null;if(d==='non-participant'){const l=collection(db,cy(0x4d1)),m=query(l,where('username','==',c)),n=await getDocs(m);!n['empty']&&(f=n['docs'][0x0],g=f['id'],h=f[cy(0x461)]());}else{const o=d==='D1'?'players':d==='D2'?'playersD2':'playersD3',p=collection(db,o),r=query(p,where('username','==',c)),s=await getDocs(r);!s['empty']&&(f=s['docs'][0x0],g=f['id'],h=f[cy(0x461)]());}if(!f){showNotification(cy(0x26e)+c+cy(0x374)+(d===cy(0x1a8)?'non-participants':d+cy(0x1d0)),cy(0x385));return;}const i=collection(db,cy(0x1d3)),j=query(i,where('userId','==',g),where('trophyId','==',a)),k=await getDocs(j);if(!k['empty']){showNotification(cy(0x26e)+c+'\x22\x20already\x20has\x20this\x20trophy',cy(0x325));return;}await addDoc(collection(db,'userTrophies'),{'userId':g,'playerUsername':c,'trophyId':a,'awardedAt':serverTimestamp(),'awardedBy':e[cy(0x2d4)],'ladder':d}),showNotification('Trophy\x20\x22'+b+cy(0x410)+c,cy(0x486)),closeAssignTrophyModal();}catch(t){console[cy(0x385)](cy(0x191),t),showNotification(cy(0x4a2)+t['message'],'error');}}function setupInactivePlayersSection(){const cz=a4N,a=document[cz(0x2f6)](cz(0x223));a&&a['addEventListener']('change',function(){const cA=cz,e=document['getElementById'](cA(0x3b6));if(e)e[cA(0x394)]();});const b=document['querySelector'](cz(0x316)),c=document[cz(0x2bc)](cz(0x36e));b&&c&&(b['addEventListener'](cz(0x20a),function(){const cB=cz;if(this[cB(0x201)]){currentLadder='D1';if(document['getElementById']('inactive-players')['style']['display']!=='none'){const e=document[cB(0x2f6)]('load-inactive-players-data');if(e)e[cB(0x394)]();}}}),c[cz(0x3cf)](cz(0x20a),function(){const cC=cz;if(this['checked']){currentLadder='D2';if(document[cC(0x2f6)]('inactive-players')[cC(0x3da)][cC(0x33f)]!=='none'){const e=document['getElementById']('load-inactive-players-data');if(e)e[cC(0x394)]();}}}));const d=document[cz(0x2f6)](cz(0x40e));d&&d[cz(0x3cf)](cz(0x3b1),debounce(function(){const cD=cz,e=d['value'][cD(0x1f4)](),f=document['querySelectorAll'](cD(0x2f9));f[cD(0x4d5)](g=>{const cE=cD;if(g[cE(0x2bc)](cE(0x379))||g[cE(0x2bc)](cE(0x3ee))||g['querySelector']('.error-state'))return;const h=g['cells'][0x0]?.['textContent'][cE(0x1f4)]()||'',i=g['cells'][0x5]?.[cE(0x287)][cE(0x1f4)]()||'';h[cE(0x267)](e)||i[cE(0x267)](e)?g[cE(0x3da)]['display']='':g[cE(0x3da)][cE(0x33f)]=cE(0x210);});},0x12c)),document['addEventListener'](cz(0x394),function(f){const cF=cz;if(f['target']['closest'](cF(0x446))){const g=f[cF(0x2f3)][cF(0x3f7)](cF(0x446)),h=g[cF(0x3c8)]['username'];h&&alert('View\x20player\x20details\x20for\x20'+h+cF(0x197));}}),console['log'](cz(0x2c2));}async function loadInactivePlayersData(){const cG=a4N,a=document['getElementById'](cG(0x4c0));if(!a)return;a['innerHTML']=cG(0x2a9);try{const b=document['getElementById']('inactive-days-filter'),c=b?parseInt(b[cG(0x222)])||0x0:0x0,d=collection(db,currentLadder==='D1'?cG(0x2c5):cG(0x1da)),e=await getDocs(d);if(e['empty']){a['innerHTML']=cG(0x469);return;}const f=[];e['forEach'](j=>{const cH=cG,k=j[cH(0x461)]();f[cH(0x1e7)]({...k,'id':j['id'],'username':k['username']||cH(0x27c)});}),console[cG(0x32e)]('Found\x20'+f[cG(0x2d7)]+cG(0x419)+currentLadder+cG(0x1d0));const g=currentLadder==='D1'?'approvedMatches':cG(0x23d),h=f['map'](async j=>{const cI=cG;try{const k=collection(db,g),l=query(k,or(where('winnerUsername','==',j['username']),where('loserUsername','==',j['username'])),orderBy(cI(0x4a1),cI(0x359)),limit(0x1)),m=await getDocs(l);if(!m[cI(0x4c7)]){const n=m[cI(0x38a)][0x0][cI(0x461)](),o=n[cI(0x4a1)]?new Date(n[cI(0x4a1)]['seconds']*0x3e8):null,p=new Date(),r=o?Math[cI(0x44b)]((p-o)/(0x3e8*0x3c*0x3c*0x18)):null,s=n[cI(0x1a4)]===j['username']?n['loserUsername']:n['winnerUsername'],t=n[cI(0x1a4)]===j[cI(0x3fb)]?cI(0x241):'Lost';return{...j,'lastMatch':{'date':o?o['toLocaleDateString']():cI(0x254),'opponent':s||'Unknown','result':t,'timestamp':o||new Date(0x0),'daysSinceMatch':r||Number[cI(0x29c)]}};}else return{...j,'lastMatch':{'date':'Never\x20played','opponent':cI(0x254),'result':cI(0x254),'timestamp':new Date(0x0),'daysSinceMatch':Number[cI(0x29c)]}};}catch(u){return console['error']('Error\x20fetching\x20matches\x20for\x20'+j[cI(0x3fb)]+':',u),{...j,'lastMatch':{'date':cI(0x4d6),'opponent':'Error','result':'Error','timestamp':new Date(0x0),'daysSinceMatch':0x0}};}});let i=await Promise['all'](h);i['sort']((j,k)=>k['lastMatch'][cG(0x1a6)]-j[cG(0x34f)][cG(0x1a6)]);c>0x0&&(i=i['filter'](j=>j[cG(0x34f)][cG(0x1a6)]>=c));a['innerHTML']='';if(i[cG(0x2d7)]===0x0){a['innerHTML']=cG(0x373);return;}i[cG(0x4d5)](j=>{const cJ=cG,k=document[cJ(0x27b)]('tr'),l=j[cJ(0x34f)][cJ(0x1a6)]>0x1e?cJ(0x32c):j['lastMatch'][cJ(0x1a6)]>0xe?'moderately-inactive':'';k['className']=l,k['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+j['username']+cJ(0x43f)+(j['eloRating']||0x4b0)+cJ(0x43f)+j['lastMatch']['date']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(j['lastMatch'][cJ(0x1a6)]===Number['MAX_SAFE_INTEGER']?'N/A':j['lastMatch'][cJ(0x1a6)])+cJ(0x43f)+currentLadder+cJ(0x43f)+(j['lastMatch']['date']===cJ(0x294)?cJ(0x38b):j[cJ(0x34f)]['result']+cJ(0x2be)+j[cJ(0x34f)][cJ(0x39d)])+cJ(0x443)+j['username']+'\x22\x20title=\x22View\x20Player\x20Details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',a[cJ(0x260)](k);}),console['log']('Displaying\x20'+i['length']+'\x20inactive\x20players');}catch(j){console['error'](cG(0x425),j),a[cG(0x3b8)]='<tr><td\x20colspan=\x227\x22\x20class=\x22error-state\x22>Error\x20loading\x20inactive\x20players:\x20'+j[cG(0x29d)]+cG(0x41f);}}function setupHighlightButtons(){const cK=a4N;console[cK(0x32e)](cK(0x317));const a=document['getElementById']('create-match-highlight-btn');a&&a[cK(0x3cf)]('click',function(){const cL=cK;console[cL(0x32e)]('Match\x20highlight\x20button\x20clicked'),openHighlightModal(cL(0x2a5));});const b=document[cK(0x2f6)](cK(0x188));b&&b[cK(0x3cf)](cK(0x394),function(){const cM=cK;console['log'](cM(0x454)),openHighlightModal('creator');});const c=document['getElementById'](cK(0x37e));c&&c[cK(0x3cf)](cK(0x394),function(){const cN=cK;console['log']('Achievement\x20highlight\x20button\x20clicked'),openHighlightModal(cN(0x288));});}function openHighlightModal(a=a4N(0x2a5)){const cO=a4N;console[cO(0x32e)](cO(0x4c2)+a);const b=document['getElementById']('highlight-modal'),c=document[cO(0x2f6)](cO(0x481)),d=document['getElementById']('highlight-modal-title'),e=document[cO(0x2f6)](cO(0x29a));if(!b||!c||!d){console[cO(0x385)](cO(0x23b));return;}c['reset'](),e['value']='';const f=['match',cO(0x338),cO(0x288)],g=!f['includes'](a);if(g){const h=a;e[cO(0x222)]=h,d['textContent']=cO(0x347),loadHighlightDataAdmin(h);}else{const i=a;document[cO(0x2f6)]('highlight-type')['value']=i,d[cO(0x287)]=cO(0x1c2)+getHighlightTypeName(i),toggleHighlightFields(i);const j=auth[cO(0x2ee)];j&&document['getElementById']('highlight-submitted-by')&&(document[cO(0x2f6)](cO(0x333))['value']=j['displayName']||j['email']);}b[cO(0x2c0)][cO(0x2f5)](cO(0x41d));}function toggleHighlightFields(a){const cP=a4N;console[cP(0x32e)](cP(0x18d)+a);const b=document['getElementById'](cP(0x481));if(!b)return;const c=b[cP(0x3dd)](cP(0x30f));c['forEach'](f=>f[cP(0x3da)][cP(0x33f)]='none');const d=document['getElementById']('highlight-video-preview-container');if(d)d['style']['display']='none';const e=[cP(0x247),cP(0x4d2),cP(0x43b)];e['forEach'](f=>{const cQ=cP,g=document['getElementById'](f);if(g)g['style']['display']=cQ(0x430);});if(a==='match'){const f=[cP(0x463),cP(0x2af),'highlight-map-container',cP(0x497),cP(0x439),cP(0x291)];f[cP(0x4d5)](h=>{const cR=cP,i=document['getElementById'](h);i&&(h===cR(0x439)?i[cR(0x3da)][cR(0x33f)]=cR(0x256):i['style'][cR(0x33f)]='block');});const g=document['getElementById']('highlight-video-id');if(g){g[cP(0x309)]=!![];const h=g['previousElementSibling'];if(h)h[cP(0x3b8)]='YouTube\x20Video\x20ID*';}if(d)d['style']['display']=cP(0x430);updateHighlightVideoPreview();}else{if(a===cP(0x338)){const i=[cP(0x2f4),'highlight-map-creator-container','highlight-map-version-container','highlight-creator-image-container',cP(0x463)];i['forEach'](k=>{const cS=cP,l=document['getElementById'](k);if(l)l[cS(0x3da)][cS(0x33f)]=cS(0x430);});const j=document[cP(0x2f6)](cP(0x4c3));if(j){j[cP(0x309)]=![];const k=j['previousElementSibling'];if(k)k['innerHTML']=cP(0x371);}}else{if(a==='achievement'){const l=['highlight-achievement-player-container',cP(0x468),cP(0x2d1),'highlight-player-profile-container',cP(0x22d),'highlight-video-container'];l['forEach'](n=>{const cT=cP,o=document[cT(0x2f6)](n);if(o)o['style']['display']=cT(0x430);});const m=document[cP(0x2f6)]('highlight-video-id');if(m){m['required']=![];const n=m['previousElementSibling'];if(n)n['innerHTML']='YouTube\x20Video\x20ID\x20(Optional)';}}}}}async function loadHighlightDataAdmin(a){const cU=a4N;try{const b=doc(db,'highlights',a),c=await getDoc(b);if(!c['exists']()){showNotification(cU(0x239),cU(0x385));return;}const d=c[cU(0x461)](),e=d['type']||cU(0x2a5);document['getElementById']('highlight-modal-title')[cU(0x287)]='Edit\x20'+getHighlightTypeName(e),document['getElementById'](cU(0x19a))['value']=e,toggleHighlightFields(e),document[cU(0x2f6)]('highlight-title')[cU(0x222)]=d[cU(0x2bb)]||'',document['getElementById'](cU(0x4a6))['value']=d['description']||'',document[cU(0x2f6)]('highlight-submitted-by')['value']=d[cU(0x3e4)]||'';d['videoId']&&(document['getElementById'](cU(0x4c3))[cU(0x222)]=d['videoId'],updateHighlightVideoPreview());if(e==='match'){document['getElementById']('highlight-match-info')[cU(0x222)]=d[cU(0x1f7)]||'',document['getElementById'](cU(0x1e9))[cU(0x222)]=d['map']||'';if(d['matchDate']){const f=new Date(d[cU(0x224)][cU(0x199)]*0x3e8);document[cU(0x2f6)]('highlight-match-date')[cU(0x222)]=f['toISOString']()[cU(0x2d9)]('T')[0x0];}document[cU(0x2f6)](cU(0x292))['value']=d['winnerName']||'',document[cU(0x2f6)](cU(0x3cb))[cU(0x222)]=d['winnerScore']||'',document['getElementById']('highlight-loser-name')[cU(0x222)]=d['loserName']||'',document['getElementById'](cU(0x42f))['value']=d['loserScore']||'',document['getElementById']('highlight-match-link')[cU(0x222)]=d['matchLink']||'';}else{if(e===cU(0x338))document[cU(0x2f6)](cU(0x1e9))[cU(0x222)]=d[cU(0x48c)]||'',document[cU(0x2f6)](cU(0x3b0))['value']=d['mapCreator']||'',document[cU(0x2f6)]('highlight-map-version')[cU(0x222)]=d['mapVersion']||'',document[cU(0x2f6)](cU(0x1c4))['value']=d['creatorImageUrl']||'';else e==='achievement'&&(document['getElementById'](cU(0x427))['value']=d['achievementPlayer']||'',document[cU(0x2f6)]('highlight-achievement-type')[cU(0x222)]=d['achievementType']||'',document[cU(0x2f6)](cU(0x352))[cU(0x222)]=d['achievementDetails']||'',document[cU(0x2f6)](cU(0x3c2))[cU(0x222)]=d[cU(0x3c7)]||'',document[cU(0x2f6)](cU(0x2ff))[cU(0x222)]=d[cU(0x47d)]||'');}}catch(g){console[cU(0x385)]('Error\x20loading\x20highlight:',g),showNotification('Error\x20loading\x20highlight:\x20'+g[cU(0x29d)],'error');}}async function saveHighlight(){const cV=a4N;try{const a=document['getElementById'](cV(0x29a))?.['value']||'',b=document['getElementById']('highlight-type')?.['value']||cV(0x2a5),c={'title':document[cV(0x2f6)](cV(0x345))?.['value']?.['trim']()||'','description':document['getElementById'](cV(0x4a6))?.[cV(0x222)]?.['trim']()||'','submittedBy':document[cV(0x2f6)]('highlight-submitted-by')?.['value']?.[cV(0x3fd)]()||'','videoId':document[cV(0x2f6)]('highlight-video-id')?.['value']?.['trim']()||null,'type':b};if(!c[cV(0x2bb)]){showNotification(cV(0x4bf),'error');return;}if(b==='match'){c[cV(0x1f7)]=document[cV(0x2f6)]('highlight-match-info')?.[cV(0x222)]?.[cV(0x3fd)]()||'',c[cV(0x48c)]=document['getElementById'](cV(0x1e9))?.[cV(0x222)]?.[cV(0x3fd)]()||'';const d=document['getElementById']('highlight-match-date'),e=d?.[cV(0x222)]||'';c[cV(0x224)]=e?Timestamp[cV(0x49e)](new Date(e)):null,c['winnerName']=document[cV(0x2f6)](cV(0x292))?.['value']?.[cV(0x3fd)]()||'',c[cV(0x284)]=document['getElementById']('highlight-winner-score')?.['value']?.['trim']()||'',c['loserName']=document['getElementById'](cV(0x3db))?.['value']?.['trim']()||'',c['loserScore']=document['getElementById']('highlight-loser-score')?.['value']?.[cV(0x3fd)]()||'',c['matchLink']=document['getElementById']('highlight-match-link')?.[cV(0x222)]?.[cV(0x3fd)]()||'';if(!c['videoId']){showNotification('YouTube\x20Video\x20ID\x20is\x20required\x20for\x20match\x20highlights',cV(0x385));return;}}else{if(b==='creator'){c[cV(0x48c)]=document[cV(0x2f6)]('highlight-map')?.[cV(0x222)]?.['trim']()||'',c['mapCreator']=document['getElementById'](cV(0x3b0))?.[cV(0x222)]?.[cV(0x3fd)]()||'',c[cV(0x269)]=document[cV(0x2f6)]('highlight-map-version')?.['value']?.['trim']()||'',c['creatorImageUrl']=document[cV(0x2f6)](cV(0x1c4))?.['value']?.['trim']()||'';if(!c['mapCreator']){showNotification(cV(0x467),cV(0x385));return;}}else{if(b==='achievement'){c['achievementPlayer']=document['getElementById'](cV(0x427))?.[cV(0x222)]?.['trim']()||'',c['achievementType']=document[cV(0x2f6)](cV(0x45c))?.[cV(0x222)]?.[cV(0x3fd)]()||'',c['achievementDetails']=document[cV(0x2f6)](cV(0x352))?.[cV(0x222)]?.[cV(0x3fd)]()||'',c['playerProfileUrl']=document[cV(0x2f6)]('highlight-player-profile')?.['value']?.['trim']()||'',c[cV(0x47d)]=document[cV(0x2f6)]('highlight-achievement-image')?.[cV(0x222)]?.['trim']()||'';if(!c['achievementPlayer']){showNotification(cV(0x1f9),cV(0x385));return;}}}}a?(c['updatedAt']=serverTimestamp(),await updateDoc(doc(db,'highlights',a),c),showNotification(cV(0x3fc),'success')):(c[cV(0x36c)]=serverTimestamp(),await addDoc(collection(db,cV(0x2e1)),c),showNotification('Highlight\x20created\x20successfully!',cV(0x486))),closeHighlightModal(),loadHighlightsAdmin();}catch(f){console['error']('Error\x20saving\x20highlight:',f),showNotification(cV(0x2bd)+f['message'],'error');}}function closeHighlightModal(){const cW=a4N,a=document['getElementById']('highlight-modal');if(a)a[cW(0x2c0)]['remove']('active');}function getHighlightTypeName(a){const cX=a4N;switch(a){case cX(0x2a5):return cX(0x3fe);case cX(0x338):return cX(0x1de);case'achievement':return cX(0x29f);default:return'Highlight';}}function updateHighlightVideoPreview(){const cY=a4N,a=document[cY(0x2f6)]('highlight-video-id'),b=document['getElementById'](cY(0x366)),c=document['getElementById']('highlight-video-preview');if(!a||!c||!b)return;const d=a['value']['trim']();d&&/^[a-zA-Z0-9_-]{11}$/[cY(0x3d3)](d)?(c['src']=cY(0x4b4)+d,b['style'][cY(0x33f)]=cY(0x430)):(c[cY(0x1b6)]='',b['style']['display']='none');}async function loadHighlightsAdmin(){const cZ=a4N,a=document[cZ(0x2f6)]('highlights-table-body');if(!a)return;a['innerHTML']=cZ(0x412);try{const b=query(collection(db,'highlights'),orderBy(cZ(0x36c),cZ(0x359))),c=await getDocs(b);if(c[cZ(0x4c7)]){a['innerHTML']='<tr><td\x20colspan=\x226\x22\x20class=\x22empty-state\x22>No\x20highlights\x20found</td></tr>';return;}a[cZ(0x3b8)]='',c[cZ(0x4d5)](d=>{const d0=cZ,e=d['data'](),f=document[d0(0x27b)]('tr'),g=e[d0(0x36c)]?new Date(e[d0(0x36c)][d0(0x199)]*0x3e8)['toLocaleDateString']():'N/A';let h='Unknown',i='';switch(e[d0(0x302)]){case d0(0x2a5):h='Match',i=d0(0x2a1);break;case d0(0x338):h=d0(0x218),i=d0(0x1c5);break;case'achievement':h=d0(0x300),i=d0(0x312);break;}f['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(e[d0(0x2bb)]||'Untitled')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><span\x20class=\x22highlight-type\x20'+i+'\x22>'+h+'</span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+g+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(e[d0(0x3e4)]||d0(0x2bf))+d0(0x43f)+(e['videoId']?d0(0x2c4):'<i\x20class=\x22fas\x20fa-times\x22></i>\x20No')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-highlight-btn\x22\x20data-id=\x22'+d['id']+'\x22\x20title=\x22Edit\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-edit\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-highlight-btn\x22\x20data-id=\x22'+d['id']+'\x22\x20title=\x22Delete\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',a['appendChild'](f);}),document['querySelectorAll'](cZ(0x289))['forEach'](d=>{const d1=cZ;d['addEventListener'](d1(0x394),f=>{const d2=d1;openHighlightModal(f[d2(0x326)]['dataset']['id']);});}),document[cZ(0x3dd)]('.delete-highlight-btn')[cZ(0x4d5)](d=>{d['addEventListener']('click',f=>{confirmDeleteHighlight(f['currentTarget']['dataset']['id']);});});}catch(d){console[cZ(0x385)]('Error\x20loading\x20highlights:',d),a['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x226\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20highlights:\x20'+d['message']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}function a4b(a,b){const c=a4a();return a4b=function(d,e){d=d-0x188;let f=c[d];if(a4b['DXEADf']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a4b['HyjVmU']=g,a=arguments,a4b['DXEADf']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a4b['HyjVmU'](f),a[i]=f):f=j,f;},a4b(a,b);}async function confirmDeleteHighlight(a){const d3=a4N;if(confirm('Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20highlight?\x20This\x20cannot\x20be\x20undone.'))try{await deleteDoc(doc(db,d3(0x2e1),a)),showNotification(d3(0x1d8),d3(0x486)),loadHighlightsAdmin();}catch(b){console['error']('Error\x20deleting\x20highlight:',b),showNotification(d3(0x1fd)+b[d3(0x29d)],d3(0x385));}}function setupCreateTestMatchModal(){const d4=a4N;console['log']('Setting\x20up\x20create\x20test\x20match\x20modal\x20events');const a=document['getElementById'](d4(0x42e)),b=document[d4(0x2f6)]('create-test-match-form');if(!a){console['error'](d4(0x1f8));return;}if(!b){console[d4(0x385)]('Create\x20test\x20match\x20form\x20not\x20found\x20in\x20DOM');return;}const c=a[d4(0x24d)](!![]);a['parentNode'][d4(0x1c3)](c,a);const d=c['querySelector'](d4(0x31f));c[d4(0x3cf)]('click',function(g){const d5=d4;g['target']===c&&(console[d5(0x32e)](d5(0x2eb)),closeCreateTestMatchModal());});const e=c['querySelector'](d4(0x36d));e&&e[d4(0x3cf)](d4(0x394),function(g){const d6=d4;g['preventDefault'](),g['stopPropagation'](),console[d6(0x32e)]('Modal\x20close\x20button\x20clicked'),closeCreateTestMatchModal();});const f=c[d4(0x2bc)]('#cancel-create-test-match-btn');f&&f[d4(0x3cf)]('click',function(g){const d7=d4;g[d7(0x472)](),g['stopPropagation'](),console[d7(0x32e)](d7(0x3f4)),closeCreateTestMatchModal();});if(d){d[d4(0x3cf)]('submit',function(h){const d8=d4;h[d8(0x472)](),h[d8(0x400)](),console['log'](d8(0x271)),createTestMatch();});const g=d[d4(0x2bc)](d4(0x362));g&&g[d4(0x3cf)]('click',function(h){const d9=d4;h['preventDefault'](),h['stopPropagation'](),console[d9(0x32e)]('Submit\x20button\x20clicked\x20directly'),createTestMatch();});}console[d4(0x32e)]('Create\x20test\x20match\x20modal\x20setup\x20complete');}function setupManageHighlightsSection(){const da=a4N;console[da(0x32e)](da(0x1ac)),setupHighlightButtons();const a=document[da(0x2f6)](da(0x481));a&&a[da(0x3cf)]('submit',f=>{f['preventDefault'](),saveHighlight();});const b=document['getElementById'](da(0x1d5));b&&b[da(0x3cf)](da(0x394),closeHighlightModal);const c=document['querySelector']('#highlight-modal\x20.close-btn');c&&c['addEventListener'](da(0x394),closeHighlightModal);const d=document[da(0x2f6)](da(0x22e));d&&d['addEventListener'](da(0x394),f=>{const dc=da;f[dc(0x2f3)]===d&&closeHighlightModal();});const e=document['getElementById'](da(0x4c3));e&&e[da(0x3cf)](da(0x3b1),()=>{updateHighlightVideoPreview();}),console[da(0x32e)](da(0x240));}function setupManageMatchesSection(){const dd=a4N;console[dd(0x32e)]('Setting\x20up\x20Manage\x20Matches\x20section');const a=document[dd(0x2f6)]('matches-prev-page'),b=document[dd(0x2f6)](dd(0x275));a&&a['addEventListener'](dd(0x394),()=>{const de=dd,h=currentLadder[de(0x1f4)]();loadMatchesData(matchesPagination[h]['page']-0x1);});b&&b['addEventListener']('click',()=>{const h=currentLadder['toLowerCase']();loadMatchesData(matchesPagination[h]['page']+0x1);});const c=document[dd(0x2f6)]('apply-matches-filters'),d=document[dd(0x2f6)](dd(0x1ed));c&&c['addEventListener'](dd(0x394),applyMatchesFilters);d&&d['addEventListener']('click',resetMatchesFilters);const e=document['getElementById']('matches-search');e&&e[dd(0x3cf)]('input',debounce(filterMatchesTable,0x12c));const f=document[dd(0x2f6)]('resimulate-match-btn');f&&f[dd(0x3cf)]('click',openResimulateModal);const g=document[dd(0x2f6)]('resimulate-modal');if(g){const h=g['querySelector']('.close');h&&h['addEventListener']('click',closeResimulateModal),g[dd(0x3cf)](dd(0x394),i=>{const df=dd;i[df(0x2f3)]===g&&closeResimulateModal();});}setupCreateTestMatchButton(),setupCreateTestMatchModal(),console['log'](dd(0x2b9));}function openCreateTestMatchModal(){const dg=a4N;console['log']('Opening\x20create\x20test\x20match\x20modal');const a=document['getElementById'](dg(0x42e)),b=document[dg(0x2f6)](dg(0x28b));if(!a){console['error']('Create\x20test\x20match\x20modal\x20not\x20found'),showNotification('Create\x20test\x20match\x20modal\x20not\x20found','error');return;}if(!b){console[dg(0x385)]('Create\x20test\x20match\x20form\x20not\x20found'),showNotification('Create\x20test\x20match\x20form\x20not\x20found',dg(0x385));return;}b['reset']();const c=document['querySelectorAll']('input[name=\x22test-match-ladder\x22]');let d=![];c[dg(0x4d5)](g=>{const dh=dg;console['log'](dh(0x47c),g['value']),g['value']===currentLadder&&(g[dh(0x201)]=!![],d=!![],console['log'](dh(0x4cf),currentLadder));});if(!d){console['warn'](dg(0x3c9),currentLadder);const g=document['querySelector'](dg(0x32a));g&&(g[dg(0x201)]=!![],console[dg(0x32e)](dg(0x2a3)));}const e=document[dg(0x2f6)]('test-match-date');if(e){const h=new Date()[dg(0x1f3)]()['split']('T')[0x0];e['value']=h;}a['style'][dg(0x33f)]=dg(0x256),a['style'][dg(0x1f1)]='visible',a['style']['opacity']='1',a[dg(0x2c0)][dg(0x2f5)](dg(0x41d)),console['log'](dg(0x2aa));const f=document['getElementById'](dg(0x1d9));f&&setTimeout(()=>{f['focus']();},0x64);}function closeCreateTestMatchModal(){const di=a4N;console[di(0x32e)](di(0x310));const a=document[di(0x2f6)]('create-test-match-modal');if(!a){console[di(0x385)]('Modal\x20not\x20found\x20when\x20trying\x20to\x20close');return;}a['classList']['remove'](di(0x41d)),a['style'][di(0x30e)]='0',a['style'][di(0x1f1)]=di(0x365),setTimeout(()=>{const dj=di;!a['classList'][dj(0x26c)](dj(0x41d))&&(a[dj(0x3da)]['display']=dj(0x210));},0x12c),console['log']('Modal\x20closed');}async function createTestMatch(){const dk=a4N;console['log']('Creating\x20test\x20match\x20without\x20player\x20validation...');try{const a=auth[dk(0x2ee)];if(!a){showNotification('You\x20must\x20be\x20logged\x20in',dk(0x385));return;}const b='D1',c=dk(0x48b),d={'winnerUsername':'TestWinner','winnerScore':0x14,'winnerSuicides':0x0,'winnerComment':'Test\x20match','winnerDemoLink':null,'loserUsername':dk(0x4ab),'loserScore':0xf,'loserSuicides':0x0,'loserComment':'Test\x20match','loserDemoLink':null,'mapPlayed':'TestMap','approvedAt':Timestamp[dk(0x49e)](new Date()),'approvedBy':a[dk(0x2d4)],'createdAt':serverTimestamp(),'createdBy':a['email'],'isTestMatch':!![],'ladder':b,'testMatchCreatedAt':serverTimestamp(),'testMatchNote':dk(0x32f)+a[dk(0x2d4)]};console[dk(0x32e)](dk(0x245)),await addDoc(collection(db,c),d),showNotification(dk(0x19d),dk(0x486)),closeCreateTestMatchModal();}catch(e){console['error']('Error\x20creating\x20simple\x20test\x20match:',e),showNotification('Failed\x20to\x20create\x20simple\x20test\x20match:\x20'+e['message'],dk(0x385));}}window[a4N(0x1cd)]=async function(){const dl=a4N;try{console['log'](dl(0x3d6)),console[dl(0x32e)]('Auth:',auth),console[dl(0x32e)](dl(0x2ab),db),console['log'](dl(0x436),auth['currentUser']);const a=collection(db,dl(0x2c5));console[dl(0x32e)](dl(0x336),a);const b=query(a,where('username','==',dl(0x1f6)));console['log'](dl(0x474),b);const c=await getDocs(b);console['log'](dl(0x3a1),c[dl(0x4c7)]),console['log'](dl(0x364));}catch(d){console['error'](dl(0x236),d);}};function setupCreateTestMatchButton(){const dm=a4N,a=document['getElementById'](dm(0x243));if(!a){console['error']('Create\x20test\x20match\x20button\x20not\x20found\x20in\x20DOM');return;}console[dm(0x32e)](dm(0x2b3));const b=a[dm(0x24d)](!![]);a[dm(0x478)][dm(0x1c3)](b,a),b['addEventListener']('click',function(c){const dn=dm;c['preventDefault'](),c[dn(0x400)](),console[dn(0x32e)](dn(0x46b)),openCreateTestMatchModal();}),console['log']('Create\x20test\x20match\x20button\x20setup\x20complete');}async function loadMatchesData(a=0x1){const dp=a4N,b=document[dp(0x2f6)](dp(0x1c8));if(!b)return;b[dp(0x3b8)]=dp(0x34d);try{const c=currentLadder['toLowerCase'](),d=matchesPagination[c],e=currentLadder==='D1'?dp(0x48b):currentLadder==='D2'?'approvedMatchesD2':dp(0x1be),f=collection(db,e);a<=0x1?(d['page']=0x1,d[dp(0x4d0)]=null,d[dp(0x44c)]=null):d[dp(0x262)]=a;const g=getMatchesFilters();let h=f;if(g[dp(0x343)]||g[dp(0x253)]||g['searchTerm']){let n=[];g[dp(0x343)]&&g['endDate']?(n['push'](where('approvedAt','>=',g['startDate']),where(dp(0x4a1),'<=',g['endDate'])),h=query(f,...n)):h=query(f,orderBy(dp(0x4a1),'desc'));}else h=query(f,orderBy(dp(0x4a1),'desc'));a>0x1&&d[dp(0x44c)]?h=query(h,startAfter(d[dp(0x44c)]),limit(PAGE_SIZE)):h=query(h,limit(PAGE_SIZE));const i=await getDocs(h);!i[dp(0x4c7)]&&(d[dp(0x4d0)]=i['docs'][0x0],d[dp(0x44c)]=i['docs'][i['docs'][dp(0x2d7)]-0x1]);let j=![];if(!i['empty']){const o=query(h,startAfter(d['lastVisible']),limit(0x1)),p=await getDocs(o);j=!p['empty'];}const k=document[dp(0x2f6)]('matches-prev-page'),l=document[dp(0x2f6)]('matches-next-page'),m=document[dp(0x2f6)](dp(0x448));if(k)k[dp(0x19e)]=d['page']<=0x1;if(l)l[dp(0x19e)]=!j;if(m)m[dp(0x287)]='Page\x20'+d['page'];if(i['empty']){b[dp(0x3b8)]='<tr><td\x20colspan=\x227\x22\x20class=\x22empty-state\x22>No\x20matches\x20found</td></tr>';return;}b[dp(0x3b8)]='',i[dp(0x4d5)](r=>{const dq=dp,s=r[dq(0x461)](),t=document[dq(0x27b)]('tr'),u=s['approvedAt']?new Date(s['approvedAt'][dq(0x199)]*0x3e8)[dq(0x45d)]():dq(0x254);t[dq(0x38f)]('data-id',r['id']),t['setAttribute'](dq(0x221),currentLadder),t[dq(0x2c0)]['add'](dq(0x395)),t[dq(0x3b8)]=dq(0x2b5)+u+dq(0x200)+(s['winnerUsername']||dq(0x2bf))+dq(0x471)+(s['loserUsername']||dq(0x2bf))+dq(0x466)+(s[dq(0x284)]||0x0)+'\x20-\x20'+(s[dq(0x4a9)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22map-cell\x22>'+(s['mapPlayed']||dq(0x254))+dq(0x358)+currentLadder+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-match-btn\x20btn-small\x22\x20data-id=\x22'+r['id']+'\x22\x20title=\x22Edit\x20Match\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-match-btn\x20btn-small\x20btn-danger\x22\x20data-id=\x22'+r['id']+'\x22\x20title=\x22Delete\x20Match\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',b[dq(0x260)](t);}),setupMatchesActionButtons(),g[dp(0x4b7)]&&filterMatchesTable(),console['log'](dp(0x4d8)+i['size']+dp(0x26b)+currentLadder+'\x20ladder,\x20page\x20'+d[dp(0x262)]);}catch(r){console[dp(0x385)](dp(0x2ad),r),b[dp(0x3b8)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x227\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20matches:\x20'+r[dp(0x29d)]+dp(0x1ae);}}async function deleteMatch(a,b){const dr=a4N;try{console[dr(0x32e)]('Deleting\x20match\x20'+a+'\x20from\x20'+b+'\x20ladder');const c=auth['currentUser'];if(!c){showNotification('You\x20must\x20be\x20logged\x20in\x20to\x20delete\x20matches','error');return;}const d=b==='D1'?'approvedMatches':b==='D2'?'approvedMatchesD2':dr(0x1be);console[dr(0x32e)](dr(0x2f0)+d),showNotification('Deleting\x20match...','info'),await deleteDoc(doc(db,d,a)),console['log'](dr(0x44e)),showNotification(dr(0x44e),'success');const e=b[dr(0x1f4)]();loadMatchesData(matchesPagination[e][dr(0x262)]);}catch(f){console['error']('Error\x20deleting\x20match:',f),showNotification(dr(0x2ca)+f['message'],dr(0x385));}}function setupMatchesActionButtons(){const ds=a4N;console['log']('Setting\x20up\x20matches\x20action\x20buttons...'),document[ds(0x3dd)](ds(0x1f0))['forEach'](a=>{const dt=ds;a[dt(0x3cf)](dt(0x394),b=>{const du=dt;b['preventDefault'](),b['stopPropagation']();const c=b['currentTarget']['dataset']['id'],d=b['currentTarget']['closest']('tr'),f=d[du(0x3c8)][du(0x390)];console[du(0x32e)]('Edit\x20match\x20clicked:',c,f),openEditMatchModal(c,f);});}),document[ds(0x3dd)]('.delete-match-btn')[ds(0x4d5)](a=>{const dv=ds;a['addEventListener'](dv(0x394),b=>{const dw=dv;b[dw(0x472)](),b['stopPropagation']();const c=b[dw(0x326)][dw(0x3c8)]['id'],d=b['currentTarget']['closest']('tr'),f=d['dataset']['ladder']||currentLadder;console['log']('Delete\x20match\x20clicked:',c,f),confirm(dw(0x1af))&&deleteMatch(c,f);});}),console['log']('Matches\x20action\x20buttons\x20setup\x20complete');}function filterMatchesTable(){const dx=a4N,a=document[dx(0x2f6)]('matches-search')[dx(0x222)][dx(0x1f4)](),b=document[dx(0x3dd)](dx(0x20e));let c=0x0;b['forEach'](d=>{const dy=dx;if(d[dy(0x2c0)][dy(0x26c)]('loading-cell')||d[dy(0x2c0)][dy(0x26c)](dy(0x3fa))||d[dy(0x2c0)]['contains']('error-state'))return;const e=d['cells'][0x1]['textContent']['toLowerCase'](),f=d['cells'][0x2]['textContent'][dy(0x1f4)](),g=d[dy(0x49a)][0x4]['textContent']['toLowerCase']();e[dy(0x267)](a)||f[dy(0x267)](a)||g['includes'](a)?(d['style']['display']='',c++):d[dy(0x3da)][dy(0x33f)]=dy(0x210);});if(c===0x0&&b[dx(0x2d7)]>0x0){const d=document['getElementById']('matches-table-body'),e=d[dx(0x2bc)]('.no-results');if(!e){const f=document['createElement']('tr');f[dx(0x3a4)]='no-results',f['innerHTML']='<td\x20colspan=\x227\x22>No\x20matches\x20found\x20matching\x20\x27'+a+dx(0x495),d[dx(0x260)](f);}}else{const g=document[dx(0x2bc)]('.no-results');g&&g['remove']();}}function getMatchesFilters(){const dz=a4N,a=document[dz(0x2f6)](dz(0x190))[dz(0x222)]['toLowerCase'](),b=document['getElementById'](dz(0x2f2))['value'],c=document[dz(0x2f6)](dz(0x1a9))['value'];let d=null,e=null;return b&&(d=new Date(b),d[dz(0x341)](0x0,0x0,0x0,0x0),d=Timestamp['fromDate'](d)),c&&(e=new Date(c),e['setHours'](0x17,0x3b,0x3b,0x3e7),e=Timestamp['fromDate'](e)),{'searchTerm':a,'startDate':d,'endDate':e};}async function applyMatchesFilters(){const dA=a4N,a=currentLadder[dA(0x1f4)]();matchesPagination[a]={'page':0x1,'lastVisible':null,'firstVisible':null},await loadMatchesData(0x1);}function resetMatchesFilters(){const dB=a4N;document['getElementById'](dB(0x2f2))[dB(0x222)]='',document[dB(0x2f6)]('matches-end-date')[dB(0x222)]='',document[dB(0x2f6)]('matches-search')[dB(0x222)]='';const a=currentLadder[dB(0x1f4)]();matchesPagination[a]={'page':0x1,'lastVisible':null,'firstVisible':null},loadMatchesData(0x1);}async function openEditMatchModal(a,b){const dC=a4N,c=document['getElementById'](dC(0x1c1));if(!c)return;try{const d=b==='D1'?'approvedMatches':b==='D2'?'approvedMatchesD2':'approvedMatchesD3',e=doc(db,d,a),f=await getDoc(e);if(!f['exists']()){showNotification('Match\x20not\x20found','error');return;}const g=f[dC(0x461)]();document[dC(0x2f6)]('edit-match-id')[dC(0x222)]=a,document['getElementById']('edit-match-ladder')['value']=b,document[dC(0x2f6)]('edit-match-winner')['value']=g['winnerUsername']||'',document[dC(0x2f6)]('edit-match-winner-score')[dC(0x222)]=g[dC(0x284)]||0x0,document[dC(0x2f6)](dC(0x3a9))[dC(0x222)]=g[dC(0x376)]||0x0,document['getElementById']('edit-match-winner-comment')[dC(0x222)]=g[dC(0x3e8)]||'',document[dC(0x2f6)]('edit-match-loser')['value']=g['loserUsername']||'',document['getElementById'](dC(0x2f1))[dC(0x222)]=g['loserScore']||0x0,document[dC(0x2f6)](dC(0x22f))['value']=g['loserSuicides']||0x0,document['getElementById']('edit-match-loser-comment')[dC(0x222)]=g['loserComment']||'',document['getElementById'](dC(0x38d))[dC(0x222)]=g['mapPlayed']||'',document['getElementById'](dC(0x21b))[dC(0x222)]=g['winnerDemoLink']||'',document[dC(0x2f6)](dC(0x18c))['value']=g['loserDemoLink']||g['demoLink']||'',document['getElementById'](dC(0x1a5))['textContent']='Edit\x20Match:\x20'+g['winnerUsername']+'\x20vs\x20'+g['loserUsername'],c['classList'][dC(0x2f5)]('active');}catch(h){console['error']('Error\x20loading\x20match\x20data:',h),showNotification('Failed\x20to\x20load\x20match\x20data',dC(0x385));}}function closeEditMatchModal(){const dD=a4N,a=document['getElementById'](dD(0x1c1));a&&a['classList'][dD(0x30c)]('active');}async function saveEditedMatch(){const dE=a4N;try{const a=document['getElementById']('edit-match-id')['value'],b=document['getElementById']('edit-match-ladder')['value'];if(!a||!b){showNotification('Match\x20ID\x20or\x20ladder\x20missing',dE(0x385));return;}const c=b==='D1'?dE(0x48b):b==='D2'?dE(0x23d):'approvedMatchesD3',d=document[dE(0x2f6)](dE(0x1ab))[dE(0x222)][dE(0x3fd)](),e=parseInt(document[dE(0x2f6)]('edit-match-winner-score')['value']),f=parseInt(document[dE(0x2f6)](dE(0x3a9))[dE(0x222)]),g=document[dE(0x2f6)](dE(0x27f))[dE(0x222)]['trim'](),h=document[dE(0x2f6)]('edit-match-loser')['value'][dE(0x3fd)](),i=parseInt(document[dE(0x2f6)]('edit-match-loser-score')[dE(0x222)]),j=parseInt(document['getElementById']('edit-match-loser-suicides')['value']),k=document['getElementById'](dE(0x1f5))['value']['trim'](),l=document[dE(0x2f6)]('edit-match-map')['value'][dE(0x3fd)](),m=document[dE(0x2f6)]('edit-match-winner-demo')[dE(0x222)][dE(0x3fd)](),n=document[dE(0x2f6)]('edit-match-loser-demo')[dE(0x222)]['trim']();if(!d||!h){showNotification('Winner\x20and\x20loser\x20usernames\x20are\x20required',dE(0x385));return;}await updateDoc(doc(db,c,a),{'winnerUsername':d,'winnerScore':e,'winnerSuicides':f,'winnerComment':g,'loserUsername':h,'loserScore':i,'loserSuicides':j,'loserComment':k,'mapPlayed':l,'winnerDemoLink':m||null,'loserDemoLink':n||null,'lastModifiedAt':serverTimestamp(),'lastModifiedBy':auth['currentUser'][dE(0x2d4)],'isEdited':!![]}),showNotification('Match\x20updated\x20successfully',dE(0x486)),closeEditMatchModal(),loadMatchesData(matchesPagination[b[dE(0x1f4)]()][dE(0x262)]);}catch(o){console[dE(0x385)]('Error\x20saving\x20match:',o),showNotification('Failed\x20to\x20save\x20match:\x20'+o[dE(0x29d)],dE(0x385));}}async function openDeleteMatchModal(a,b){const dF=a4N;try{const c=b==='D1'?dF(0x48b):b==='D2'?'approvedMatchesD2':dF(0x1be),d=doc(db,c,a),e=await getDoc(d);if(!e[dF(0x4a3)]()){showNotification('Match\x20not\x20found','error');return;}const f=e[dF(0x461)](),g=document['getElementById'](dF(0x493));g['dataset'][dF(0x39b)]=a,g[dF(0x3c8)]['ladder']=b;const h=f['approvedAt']?new Date(f[dF(0x4a1)][dF(0x199)]*0x3e8)[dF(0x45d)]():'N/A',i=document['getElementById'](dF(0x3d8));i[dF(0x3b8)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Date:</strong>\x20'+h+dF(0x43d)+f[dF(0x1a4)]+'\x20(winner)\x20vs\x20'+f[dF(0x369)]+'\x20(loser)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Score:</strong>\x20'+(f[dF(0x284)]||0x0)+'\x20-\x20'+(f[dF(0x4a9)]||0x0)+dF(0x434)+(f[dF(0x34c)]||dF(0x254))+dF(0x4c9)+b+dF(0x420),g['classList']['add'](dF(0x41d));}catch(j){console[dF(0x385)]('Error\x20loading\x20match\x20for\x20deletion:',j),showNotification(dF(0x2ef),'error');}}function closeDeleteMatchModal(){const dG=a4N,a=document['getElementById']('delete-match-confirm-modal');a&&(a['classList']['remove']('active'),a['removeAttribute'](dG(0x433)),a['removeAttribute']('data-ladder'));}async function confirmDeleteMatch(){const dH=a4N,a=document['getElementById']('delete-match-confirm-modal'),b=a[dH(0x3c8)]['matchId'],c=a['dataset'][dH(0x390)];if(!b||!c){showNotification(dH(0x4a5),'error'),closeDeleteMatchModal();return;}try{const d=c==='D1'?'approvedMatches':c==='D2'?'approvedMatchesD2':'approvedMatchesD3';await deleteDoc(doc(db,d,b)),showNotification('Match\x20deleted\x20successfully',dH(0x486)),closeDeleteMatchModal(),loadMatchesData(matchesPagination[c['toLowerCase']()][dH(0x262)]);}catch(e){console['error'](dH(0x344),e),showNotification(dH(0x2ca)+e[dH(0x29d)],'error');}}async function saveHighlightChanges(){const dI=a4N,a=document['getElementById']('edit-highlight-id')[dI(0x222)],b=document['getElementById']('edit-highlight-type-select')[dI(0x222)];let c={'title':document[dI(0x2f6)]('edit-highlight-title-input')[dI(0x222)]['trim'](),'type':b,'description':document['getElementById'](dI(0x29e))[dI(0x222)]['trim'](),'videoId':document['getElementById']('edit-highlight-videoId-input')['value'][dI(0x3fd)](),'submittedBy':auth['currentUser'][dI(0x2d4)]};if(b==='match'){c['matchInfo']=document[dI(0x2f6)]('edit-highlight-matchInfo-input')[dI(0x222)][dI(0x3fd)](),c[dI(0x48c)]=document['getElementById'](dI(0x3a6))[dI(0x222)]['trim']();const d=document[dI(0x2f6)]('edit-highlight-matchDate-input')[dI(0x222)];c['matchDate']=d?Timestamp['fromDate'](new Date(d)):null,c[dI(0x45e)]=document[dI(0x2f6)](dI(0x2fb))[dI(0x222)][dI(0x3fd)](),c[dI(0x284)]=document[dI(0x2f6)](dI(0x37a))[dI(0x222)][dI(0x3fd)](),c['loserName']=document[dI(0x2f6)](dI(0x206))['value']['trim'](),c['loserScore']=document[dI(0x2f6)](dI(0x42b))[dI(0x222)]['trim'](),c['matchLink']=document['getElementById']('edit-highlight-matchLink-input')[dI(0x222)]['trim'](),c['mapCreator']=null,c[dI(0x269)]=null,c[dI(0x31e)]=null,c[dI(0x3a2)]=null,c[dI(0x386)]=null,c['achievementDetails']=null,c[dI(0x3c7)]=null;}else{if(b===dI(0x338))c[dI(0x48c)]=document[dI(0x2f6)]('edit-highlight-map-input')['value'][dI(0x3fd)](),c['mapCreator']=document['getElementById'](dI(0x283))[dI(0x222)]['trim'](),c['mapVersion']=document['getElementById'](dI(0x282))['value'][dI(0x3fd)](),c['creatorImageUrl']=document['getElementById'](dI(0x217))['value'][dI(0x3fd)](),c[dI(0x1f7)]=null,c[dI(0x224)]=null,c['winnerName']=null,c[dI(0x284)]=null,c['loserName']=null,c[dI(0x4a9)]=null,c['matchLink']=null,c[dI(0x3a2)]=null,c[dI(0x386)]=null,c[dI(0x23a)]=null,c['playerProfileUrl']=null;else b===dI(0x288)&&(c[dI(0x3a2)]=document['getElementById'](dI(0x45a))['value']['trim'](),c['achievementType']=document['getElementById'](dI(0x23c))[dI(0x222)][dI(0x3fd)](),c['achievementDetails']=document['getElementById']('edit-highlight-achievementDetails-input')['value']['trim'](),c['playerProfileUrl']=document['getElementById'](dI(0x426))['value'][dI(0x3fd)](),c[dI(0x1f7)]=null,c['map']=null,c[dI(0x224)]=null,c['winnerName']=null,c[dI(0x284)]=null,c['loserName']=null,c['loserScore']=null,c[dI(0x1fe)]=null,c['mapCreator']=null,c['mapVersion']=null,c[dI(0x31e)]=null);}try{if(a){c['updatedAt']=serverTimestamp();const e=doc(db,dI(0x2e1),a);await updateDoc(e,c),showNotification('Highlight\x20updated\x20successfully!',dI(0x486));}else c['createdAt']=serverTimestamp(),await addDoc(collection(db,dI(0x2e1)),c),showNotification('Highlight\x20added\x20successfully!','success');closeEditHighlightModal(),loadHighlightsAdmin();}catch(f){console[dI(0x385)]('Error\x20saving\x20highlight:',f),showNotification(dI(0x2bd)+f['message'],'error');}}async function resimulateMatch(){const dJ=a4N;try{const a=document[dJ(0x2f6)]('resimulate-match-id')['value'];if(!a){showNotification('Match\x20ID\x20is\x20required',dJ(0x385));return;}const b=auth[dJ(0x2ee)];if(!b){showNotification(dJ(0x42c),'error');return;}const c=currentLadder==='D1'?'approvedMatches':currentLadder==='D2'?dJ(0x23d):dJ(0x1be),d=doc(db,c,a),e=await getDoc(d);if(!e['exists']()){showNotification(dJ(0x4b2),'error');return;}const f=e[dJ(0x461)](),g=f[dJ(0x4a1)]?f[dJ(0x4a1)]['toDate']()['toLocaleString']():f['matchDate']?f['matchDate']['toDate']?f[dJ(0x224)]['toDate']()['toLocaleString']():new Date(f[dJ(0x224)])['toLocaleString']():dJ(0x2bf),h='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22match-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4>Match\x20Details:</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Winner:</strong>\x20'+f[dJ(0x1a4)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Loser:</strong>\x20'+f[dJ(0x369)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Score:</strong>\x20'+f[dJ(0x284)]+'-'+f[dJ(0x4a9)]+dJ(0x2d2)+(f['mapPlayed']||f[dJ(0x357)]||'Unknown')+dJ(0x41a)+g+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Match\x20ID:</strong>\x20'+a+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Ladder:</strong>\x20'+currentLadder+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><em>This\x20will\x20create\x20accurate\x20ELO\x20history\x20entries\x20based\x20on\x20the\x20players\x27\x20ELO\x20ratings\x20at\x20the\x20time\x20this\x20match\x20was\x20played.</em></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';document['getElementById'](dJ(0x49f))['innerHTML']=h,document[dJ(0x2f6)]('match-details-container')[dJ(0x3da)]['display']=dJ(0x430),document[dJ(0x2f6)]('confirm-resimulate-btn')[dJ(0x3da)]['display']='block',window[dJ(0x3e9)]={'matchId':a,'matchData':f,'ladder':currentLadder},showNotification('Match\x20found\x20-\x20please\x20review\x20details\x20and\x20confirm\x20resimulation','info');}catch(i){console[dJ(0x385)](dJ(0x2fe),i),showNotification(dJ(0x305)+i['message'],dJ(0x385));}}async function confirmResimulateMatch(){const dK=a4N;try{const {matchId:a,matchData:b,ladder:c}=window['pendingResimulateData'];if(!a||!b){showNotification(dK(0x36f),dK(0x385));return;}const d=c==='D1'?'players':c==='D2'?'playersD2':dK(0x494),e=c==='D1'?dK(0x203):c==='D2'?'eloHistoryD2':'eloHistoryD3',[f,g]=await Promise['all']([getDocs(query(collection(db,d),where('username','==',b['winnerUsername']))),getDocs(query(collection(db,d),where(dK(0x3fb),'==',b['loserUsername'])))]);if(f[dK(0x4c7)]||g['empty']){showNotification('Could\x20not\x20find\x20player\x20documents','error');return;}const h=f['docs'][0x0]['id'],i=g['docs'][0x0]['id'],j=f[dK(0x38a)][0x0][dK(0x461)](),k=g['docs'][0x0]['data'](),[l,m]=await Promise[dK(0x286)]([getDocs(query(collection(db,e),where('playerId','==',h),where('matchId','==',a))),getDocs(query(collection(db,e),where('playerId','==',i),where(dK(0x39b),'==',a)))]),n=!l[dK(0x4c7)],o=!m[dK(0x4c7)],p='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22validation-results\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4>Validation\x20Results:</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Winner\x20ELO\x20History:</strong>\x20'+(n?dK(0x36b):dK(0x1a2))+dK(0x195)+(o?dK(0x36b):dK(0x1a2))+dK(0x279)+(j['eloRating']||dK(0x2bf))+dK(0x265)+(k['eloRating']||dK(0x2bf))+dK(0x35c)+(j[dK(0x324)]||dK(0x2bf))+dK(0x43e)+(k['position']||dK(0x2bf))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong\x20style=\x22color:\x20#ff9800;\x22>⚠️\x20RESIMULATION\x20WILL:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>Recalculate\x20ELO\x20ratings\x20based\x20on\x20pre-match\x20values</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>Update\x20current\x20player\x20ELO\x20ratings</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>Recalculate\x20and\x20update\x20player\x20positions</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>Create\x20missing\x20ELO\x20history\x20entries</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>Handle\x20position\x20swaps\x20if\x20winner\x20was\x20lower\x20ranked</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';document[dK(0x2f6)]('validation-results-container')[dK(0x3b8)]=p,document[dK(0x2f6)]('validation-results-container')['style']['display']='block';if(n&&o){showNotification('Both\x20players\x20already\x20have\x20ELO\x20history\x20for\x20this\x20match.\x20No\x20resimulation\x20needed.',dK(0x325));return;}showNotification(dK(0x18a),'info');const q=b[dK(0x4a1)]||b['matchDate']||serverTimestamp(),[r,s]=await Promise[dK(0x286)]([getPlayerEloAtTime(h,q,e),getPlayerEloAtTime(i,q,e)]),{calculateElo:t}=await import('./ladderalgorithm.js'),{newWinnerRating:u,newLoserRating:v}=t(r,s),w=j['position']||Number[dK(0x29c)],x=k['position']||Number['MAX_SAFE_INTEGER'];let y=w,z=x;w>x&&(y=x,z=x+0x1);const A=writeBatch(db),B=doc(db,d,h);A['update'](B,{'eloRating':u,'position':y,'lastUpdated':serverTimestamp(),'resimulated':!![],'resimulatedAt':serverTimestamp(),'resimulatedBy':auth[dK(0x2ee)][dK(0x1e6)]});const C=doc(db,d,i);A['update'](C,{'eloRating':v,'position':z,'lastUpdated':serverTimestamp(),'resimulated':!![],'resimulatedAt':serverTimestamp(),'resimulatedBy':auth['currentUser']['uid']});if(w>x){const H=await getDocs(query(collection(db,d),where(dK(0x324),'>',x),where('position','<',w)));H[dK(0x4d5)](I=>{const J=doc(db,d,I['id']),K=I['data']()['position'];A['update'](J,{'position':K+0x1,'lastUpdated':serverTimestamp(),'positionAdjustedBy':'resimulation','positionAdjustedAt':serverTimestamp()});});}if(!n){const I=doc(collection(db,e));A['set'](I,{'playerId':h,'player':b[dK(0x1a4)],'previousElo':r,'newElo':u,'eloChange':u-r,'opponentId':i,'opponent':b['loserUsername'],'matchResult':dK(0x192),'previousPosition':w,'newPosition':y,'positionChange':y-w,'matchId':a,'timestamp':q,'resimulated':!![],'resimulatedAt':serverTimestamp(),'resimulatedBy':auth['currentUser']['uid'],'gameMode':c,'matchScore':b[dK(0x284)]+'-'+b['loserScore'],'mapPlayed':b['mapPlayed']||b['mapName']||dK(0x2bf),'note':'Resimulated\x20entry\x20-\x20ELO\x20and\x20positions\x20calculated\x20from\x20actual\x20pre-match\x20data'});}if(!o){const J=doc(collection(db,e));A[dK(0x465)](J,{'playerId':i,'player':b['loserUsername'],'previousElo':s,'newElo':v,'eloChange':v-s,'opponentId':h,'opponent':b['winnerUsername'],'matchResult':dK(0x33e),'previousPosition':x,'newPosition':z,'positionChange':z-x,'matchId':a,'timestamp':q,'resimulated':!![],'resimulatedAt':serverTimestamp(),'resimulatedBy':auth[dK(0x2ee)]['uid'],'gameMode':c,'matchScore':b[dK(0x284)]+'-'+b[dK(0x4a9)],'mapPlayed':b[dK(0x34c)]||b['mapName']||'Unknown','note':dK(0x273)});}const D=c==='D1'?'approvedMatches':c==='D2'?dK(0x23d):'approvedMatchesD3',E=doc(db,D,a);A[dK(0x1b1)](E,{'resimulated':!![],'resimulatedAt':serverTimestamp(),'resimulatedBy':auth['currentUser']['uid'],'resimulatedReason':'Complete\x20resimulation\x20-\x20ELO\x20ratings\x20and\x20positions\x20recalculated','originalWinnerElo':j[dK(0x298)],'originalLoserElo':k['eloRating'],'originalWinnerPosition':w,'originalLoserPosition':x,'resimulatedWinnerElo':u,'resimulatedLoserElo':v,'resimulatedWinnerPosition':y,'resimulatedLoserPosition':z}),await A['commit']();const F=(!n?0x1:0x0)+(!o?0x1:0x0),G=w!==y||x!==z;showNotification(dK(0x319)+(dK(0x1d4)+F+'\x20ELO\x20history\x20entries.\x20')+(dK(0x2c7)+r+'→'+u+'\x20(+'+(u-r)+'),\x20')+('Loser\x20'+s+'→'+v+'\x20('+(v-s)+').\x20')+(''+(G?'Positions\x20updated:\x20Winner\x20'+w+'→'+y+dK(0x303)+x+'→'+z:dK(0x4b0))),'success'),closeResimulateModal(),document['querySelector'](dK(0x220))&&loadPlayersData();}catch(K){console[dK(0x385)]('Error\x20resimulating\x20match:',K),showNotification('Failed\x20to\x20resimulate\x20match:\x20'+K['message'],dK(0x385));}}async function getPlayerEloAtTime(a,b,c){const dL=a4N;try{const d=b[dL(0x473)]?b['toDate']():new Date(b),e=query(collection(db,c),where('playerId','==',a),where('timestamp','<',b),orderBy('timestamp','desc'),limit(0x1)),f=await getDocs(e);if(!f[dL(0x4c7)]){const g=f['docs'][0x0]['data']();return console['log'](dL(0x35a)+a+dL(0x258)+g['newElo']),g['newElo'];}else return console['log']('No\x20ELO\x20history\x20found\x20for\x20player\x20'+a+'\x20before\x20match\x20-\x20using\x20starting\x20ELO\x201200'),0x4b0;}catch(h){return console['error'](dL(0x270)+a+':',h),0x4b0;}}function openResimulateModal(){const dM=a4N;console[dM(0x32e)](dM(0x1c7));const a=document[dM(0x2f6)](dM(0x322));console['log'](dM(0x314),a);if(!a){console[dM(0x385)]('Modal\x20element\x20not\x20found!');return;}a[dM(0x3da)][dM(0x33f)]=dM(0x430),a[dM(0x3da)]['visibility']='visible',a['style']['opacity']='1',a[dM(0x2c0)][dM(0x2f5)](dM(0x41d)),console[dM(0x32e)](dM(0x2aa)),console[dM(0x32e)]('Modal\x20computed\x20styles:',window[dM(0x2d6)](a)[dM(0x33f)]);const b=document['getElementById'](dM(0x49f)),c=document[dM(0x2f6)]('validation-results-container'),d=document['getElementById'](dM(0x3ce)),e=document['getElementById'](dM(0x4b5));if(b)b['innerHTML']='';if(c)c[dM(0x3b8)]='';if(d)d['style'][dM(0x33f)]=dM(0x210);if(e)e['value']='';console['log']('Modal\x20setup\x20complete');}function closeResimulateModal(){const dN=a4N;document['getElementById']('resimulate-modal')[dN(0x3da)][dN(0x33f)]='none',window['pendingResimulateData']=null;}window[a4N(0x440)]=resimulateMatch,window['confirmResimulateMatch']=confirmResimulateMatch,window['openResimulateModal']=openResimulateModal,window['closeResimulateModal']=closeResimulateModal;async function loadPointsData(){const dO=a4N;console['log'](dO(0x2d5));try{await Promise[dO(0x286)]([loadPointsOverview(),loadPointsHistory()]),showNotification(dO(0x402),dO(0x486));}catch(a){console[dO(0x385)]('Error\x20loading\x20points\x20data:',a),showNotification('Failed\x20to\x20load\x20points\x20data:\x20'+a[dO(0x29d)],'error');}}function renderPointsOverview(a){const dP=a4N,b=document[dP(0x2f6)]('points-overview-table-body');if(!b)return;if(a[dP(0x2d7)]===0x0){b['innerHTML']='<tr><td\x20colspan=\x225\x22\x20class=\x22empty-state\x22>No\x20users\x20found</td></tr>';return;}b[dP(0x3b8)]='',a[dP(0x4d5)](c=>{const dQ=dP,d=document['createElement']('tr'),e=c['displayName']||c['username']||'Unknown\x20User',f=c[dQ(0x2d4)]||dQ(0x4ad),g=c['points']||0x0,h=c[dQ(0x383)]?new Date(c['lastPointsModified']['seconds']*0x3e8)['toLocaleDateString']():dQ(0x464);d['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22user-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user\x20user-icon\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22user-name\x22>'+e+dQ(0x25c)+f+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22points-badge\x20'+(g>0x3e8?dQ(0x360):g>0x1f4?dQ(0x2f7):'low-points')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-coins\x22></i>\x20'+g['toLocaleString']()+dQ(0x488)+h+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22quick-edit-btn\x22\x20data-user-id=\x22'+c['id']+dQ(0x368)+c['id']+dQ(0x4b9),b['appendChild'](d);}),setupPointsActionButtons();}function setupPointsActionButtons(){const dR=a4N;console['log'](dR(0x196));const a=document[dR(0x3dd)](dR(0x2ae));console['log'](dR(0x31c)+a['length']+'\x20quick\x20edit\x20buttons'),a[dR(0x4d5)](c=>{const dS=dR,d=c[dS(0x24d)](!![]);c['parentNode']['replaceChild'](d,c);});const b=document['querySelectorAll']('.view-history-btn');console[dR(0x32e)](dR(0x31c)+b[dR(0x2d7)]+dR(0x20d)),b[dR(0x4d5)](c=>{const dT=dR,d=c[dT(0x24d)](!![]);c[dT(0x478)][dT(0x1c3)](d,c);}),document['querySelectorAll'](dR(0x2ae))['forEach'](c=>{const dU=dR;c[dU(0x3cf)]('click',function(d){const dV=dU;d[dV(0x472)](),d['stopPropagation']();const f=this[dV(0x3c8)]['userId'];console['log'](dV(0x3ac),f);if(!f){console['error'](dV(0x2c9));return;}this[dV(0x3da)][dV(0x30e)]='0.6',setTimeout(()=>{const dW=dV;this[dW(0x3da)][dW(0x30e)]='1';},0xc8),openQuickEditModal(f);});}),document[dR(0x3dd)]('.view-history-btn')['forEach'](c=>{const dX=dR;c[dX(0x3cf)](dX(0x394),function(d){const dY=dX;d[dY(0x472)](),d[dY(0x400)]();const f=this['dataset'][dY(0x3be)];console['log']('View\x20history\x20clicked\x20for\x20user:',f);if(!f){console['error'](dY(0x2c9));return;}this[dY(0x3da)][dY(0x30e)]=dY(0x1ea),setTimeout(()=>{this['style']['opacity']='1';},0xc8),loadUserPointsHistory(f);});}),console[dR(0x32e)](dR(0x264));}async function openQuickEditModal(a){const dZ=a4N;console['log']('Opening\x20quick\x20edit\x20modal\x20for\x20user\x20ID:',a);const b=document[dZ(0x2f6)]('quick-edit-points-modal');if(!b){console['error']('Quick\x20edit\x20modal\x20not\x20found!\x20Make\x20sure\x20the\x20HTML\x20element\x20exists.'),showNotification(dZ(0x3d1),'error');return;}try{showNotification('Loading\x20user\x20data...','info');const c=doc(db,'userProfiles',a),d=await getDoc(c);if(!d[dZ(0x4a3)]()){showNotification('User\x20not\x20found','error');return;}const e=d['data']();console['log'](dZ(0x444),e);const f=document[dZ(0x2f6)](dZ(0x1bc)),g=document[dZ(0x2f6)]('quick-edit-display-name'),h=document[dZ(0x2f6)](dZ(0x3b4)),i=document['getElementById'](dZ(0x304)),j=document[dZ(0x2f6)]('quick-edit-points-form');if(!f||!g||!h||!i||!j){console[dZ(0x385)](dZ(0x4a8)),showNotification(dZ(0x477),'error');return;}f['value']=a,g['textContent']=e[dZ(0x47b)]||e['username']||dZ(0x3d5),h['textContent']=e[dZ(0x2d4)]||dZ(0x4ad),i[dZ(0x287)]=(e[dZ(0x3ba)]||0x0)['toLocaleString'](),j['reset']();const k=document['getElementById'](dZ(0x3a0));k&&(k[dZ(0x201)]=!![]);b['classList']['add']('active'),console[dZ(0x32e)](dZ(0x437));const l=document['getElementById'](dZ(0x3f2));l&&setTimeout(()=>l['focus'](),0x64);}catch(m){console['error'](dZ(0x21f),m),showNotification(dZ(0x37b)+m['message'],'error');}}function closeQuickEditModal(){const e0=a4N,a=document['getElementById']('quick-edit-points-modal');a&&a[e0(0x2c0)][e0(0x30c)](e0(0x41d));}async function handleQuickEditPoints(a){const e1=a4N;a[e1(0x472)]();const b=document[e1(0x2f6)](e1(0x1bc))[e1(0x222)],c=document['querySelector']('input[name=\x22quick-action\x22]:checked')['value'],d=parseInt(document['getElementById'](e1(0x3f2))['value']),f=document[e1(0x2f6)]('quick-points-reason')['value'][e1(0x3fd)]();console[e1(0x32e)](e1(0x255),{'userId':b,'action':c,'amount':d,'reason':f});if(!b||!d||d<0x0){showNotification(e1(0x3aa),'error');return;}try{await modifyUserPoints(b,c,d,f),closeQuickEditModal(),loadPointsOverview(),showNotification(e1(0x483),'success'),console['log'](e1(0x1e3),b);}catch(g){console['error']('Error\x20updating\x20points:',g),showNotification('Failed\x20to\x20update\x20points:\x20'+g[e1(0x29d)],e1(0x385));}}async function searchUsersForPoints(){const e2=a4N,a=document['getElementById']('points-user-search')['value'][e2(0x3fd)]()[e2(0x1f4)](),b=document['getElementById'](e2(0x329));if(!a||a['length']<0x2){b[e2(0x3b8)]='';return;}b['innerHTML']=e2(0x327);try{const c=collection(db,'userProfiles'),d=await getDocs(c),e=[];d[e2(0x4d5)](f=>{const e3=e2,g=f['data'](),h=(g[e3(0x47b)]||g[e3(0x3fb)]||'')[e3(0x1f4)](),i=(g[e3(0x2d4)]||'')['toLowerCase']();(h[e3(0x267)](a)||i['includes'](a))&&e[e3(0x1e7)]({'id':f['id'],...g});});if(e[e2(0x2d7)]===0x0){b[e2(0x3b8)]='<div\x20class=\x22no-results\x22>No\x20users\x20found</div>';return;}b[e2(0x3b8)]='',e['forEach'](f=>{const e4=e2,g=document[e4(0x27b)](e4(0x301));g['className']=e4(0x20b),g['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22user-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>'+(f['displayName']||f['username']||'Unknown')+e4(0x296)+(f[e4(0x2d4)]||'No\x20email')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22user-points\x22>'+(f['points']||0x0)[e4(0x424)]()+e4(0x457),g['addEventListener'](e4(0x394),()=>selectUserForPoints(f)),b['appendChild'](g);});}catch(f){console[e2(0x385)]('Error\x20searching\x20users:',f),b[e2(0x3b8)]=e2(0x4b8);}}function selectUserForPoints(a){const e5=a4N;document['getElementById']('selected-user-name')['textContent']=a['displayName']||a['username']||'Unknown\x20User',document[e5(0x2f6)]('selected-user-points')['textContent']=(a[e5(0x3ba)]||0x0)['toLocaleString'](),document[e5(0x2f6)]('selected-user-id')[e5(0x222)]=a['id'],document[e5(0x2f6)](e5(0x40c))['style']['display']=e5(0x430),document[e5(0x2f6)](e5(0x237))['style'][e5(0x33f)]='block',document[e5(0x2f6)]('user-search-results')[e5(0x3b8)]='',document[e5(0x2f6)](e5(0x27d))[e5(0x222)]='';}async function handleModifyPoints(a){const e6=a4N;a[e6(0x472)]();const b=document['getElementById'](e6(0x2fc))[e6(0x222)],c=document['getElementById'](e6(0x189))['value'],d=parseInt(document[e6(0x2f6)]('points-amount')['value']),f=document['getElementById'](e6(0x2de))['value'][e6(0x3fd)]();if(!b||!d||d<0x0){showNotification('Please\x20select\x20a\x20user\x20and\x20enter\x20a\x20valid\x20amount',e6(0x385));return;}try{await modifyUserPoints(b,c,d,f),document['getElementById'](e6(0x2b7))['reset']();const g=doc(db,e6(0x3ca),b),h=await getDoc(g);if(h[e6(0x4a3)]()){const i=h['data']();document['getElementById']('selected-user-points')[e6(0x287)]=(i[e6(0x3ba)]||0x0)['toLocaleString']();}showNotification(e6(0x28e),e6(0x486)),loadPointsHistory();}catch(j){console[e6(0x385)](e6(0x393),j),showNotification('Failed\x20to\x20modify\x20points:\x20'+j['message'],e6(0x385));}}async function loadPointsHistory(){const e7=a4N,a=document['getElementById'](e7(0x28f));if(!a)return;a['innerHTML']=e7(0x3b9);try{const b=collection(db,e7(0x41b)),c=query(b,orderBy(e7(0x4ca),e7(0x359)),limit(0x32)),d=await getDocs(c);if(d['empty']){a[e7(0x3b8)]='<tr><td\x20colspan=\x226\x22\x20class=\x22empty-state\x22>No\x20history\x20found</td></tr>';return;}a['innerHTML']='',d['forEach'](e=>{const e8=e7,f=e[e8(0x461)](),g=document[e8(0x27b)]('tr'),h=f[e8(0x4ca)]?new Date(f[e8(0x4ca)][e8(0x199)]*0x3e8)['toLocaleString']():'Unknown';let i='';switch(f['action']){case'add':i=e8(0x2dd)+f['amount']+e8(0x259);break;case'subtract':i=e8(0x21c)+f['amount']+'\x20points';break;case'set':i='Set\x20to\x20'+f['amount']+'\x20points';break;default:i=f[e8(0x37d)]+'\x20'+f[e8(0x28c)]+e8(0x259);}g['innerHTML']=e8(0x2b5)+h+e8(0x43f)+(f['displayName']||e8(0x3d5))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+i+e8(0x490)+f[e8(0x37d)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(f['previousPoints']||0x0)+e8(0x308)+(f['newPoints']||0x0)+e8(0x489)+(f[e8(0x213)]||'No\x20reason\x20provided')+e8(0x43f)+(f['adminEmail']||'Unknown\x20Admin')+e8(0x482),a['appendChild'](g);});}catch(e){console[e7(0x385)](e7(0x342),e),a[e7(0x3b8)]=e7(0x272)+e['message']+e7(0x41f);}}function filterPointsOverview(){const e9=a4N,a=document['getElementById']('points-overview-search')['value'][e9(0x1f4)]();if(!window[e9(0x2d0)])return;const b=window['allUsersPoints']['filter'](c=>{const ea=e9,d=(c[ea(0x47b)]||c['username']||'')[ea(0x1f4)](),e=(c[ea(0x2d4)]||'')['toLowerCase']();return d[ea(0x267)](a)||e[ea(0x267)](a);});renderPointsOverview(b);}function sortPointsOverview(){const eb=a4N,a=document['getElementById']('points-sort-order')[eb(0x222)];if(!window['allUsersPoints'])return;const b=[...window[eb(0x2d0)]];switch(a){case'points-desc':b['sort']((c,d)=>(d[eb(0x3ba)]||0x0)-(c['points']||0x0));break;case eb(0x396):b[eb(0x208)]((c,d)=>(c[eb(0x3ba)]||0x0)-(d['points']||0x0));break;case'name-asc':b['sort']((c,d)=>{const ec=eb,e=(c['displayName']||c[ec(0x3fb)]||'')['toLowerCase'](),f=(d[ec(0x47b)]||d[ec(0x3fb)]||'')[ec(0x1f4)]();return e[ec(0x416)](f);});break;case'name-desc':b[eb(0x208)]((c,d)=>{const ed=eb,e=(c['displayName']||c['username']||'')['toLowerCase'](),f=(d[ed(0x47b)]||d['username']||'')['toLowerCase']();return f['localeCompare'](e);});break;}renderPointsOverview(b);}async function handleAwardItem(a){const ee=a4N;a[ee(0x472)]();const b=document[ee(0x2f6)]('selected-user-id')[ee(0x222)],c=document[ee(0x2f6)](ee(0x3ab))['value'],d=document[ee(0x2f6)]('award-reason')[ee(0x222)]['trim']();if(!b||!c){showNotification('Please\x20select\x20a\x20user\x20and\x20store\x20item',ee(0x385));return;}try{showNotification('Store\x20item\x20awarded\x20successfully','success'),document[ee(0x2f6)]('award-item-form')[ee(0x2a6)]();}catch(f){console[ee(0x385)](ee(0x421),f),showNotification('Failed\x20to\x20award\x20item:\x20'+f['message'],'error');}}async function loadUserPointsHistory(a){const ef=a4N;try{const b=collection(db,'pointsHistory'),c=query(b,where(ef(0x3be),'==',a),orderBy('timestamp','desc')),d=await getDocs(c);console[ef(0x32e)]('Found\x20'+d[ef(0x1e2)]+ef(0x1fa)+a),showNotification('User\x20has\x20'+d[ef(0x1e2)]+'\x20points\x20history\x20entries',ef(0x1dc));}catch(e){console[ef(0x385)]('Error\x20loading\x20user\x20points\x20history:',e),showNotification(ef(0x334),'error');}}async function initializeUserPointsField(){const eg=a4N;try{console['log'](eg(0x2fa));const a=collection(db,'userProfiles'),b=await getDocs(a);if(b[eg(0x4c7)]){console['log']('No\x20users\x20found\x20in\x20userProfiles\x20collection');return;}let c=0x0,d=0x0;const e=writeBatch(db);let f=0x0;return console['log']('Found\x20'+b[eg(0x1e2)]+'\x20users\x20to\x20check...'),b['forEach'](g=>{const eh=eg,h=g['data']();h['points']===undefined||h['points']===null?(e[eh(0x1b1)](g['ref'],{'points':0x0,'pointsInitializedAt':serverTimestamp()}),c++,f++,console['log']('Queued\x20'+(h[eh(0x47b)]||h['username']||h[eh(0x2d4)]||'Unknown')+eh(0x339))):(d++,console[eh(0x32e)]((h['displayName']||h['username']||h['email']||'Unknown')+'\x20already\x20has\x20points:\x20'+h['points'])),f>=0x1f4&&console[eh(0x1c6)]('Batch\x20limit\x20reached\x20-\x20you\x20may\x20need\x20to\x20run\x20this\x20function\x20multiple\x20times\x20for\x20large\x20datasets');}),c>0x0?(console[eg(0x32e)](eg(0x27e)+c+'\x20users...'),await e['commit'](),console[eg(0x32e)](eg(0x20c)+c+eg(0x2e5))):console['log'](eg(0x43a)),console[eg(0x32e)]('Migration\x20Summary:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20Total\x20users\x20checked:\x20'+b['size']+eg(0x1ba)+c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20Users\x20who\x20already\x20had\x20points:\x20'+d),showNotification('Points\x20field\x20initialized\x20for\x20'+c+eg(0x1b3)+d+'\x20users\x20already\x20had\x20points.',eg(0x486)),window['allUsersPoints']&&loadPointsOverview(),{'totalUsers':b['size'],'usersUpdated':c,'usersAlreadyHadPoints':d};}catch(g){console[eg(0x385)](eg(0x233),g),showNotification(eg(0x266)+g['message'],eg(0x385));throw g;}}function addPointsMigrationButton(){const ei=a4N,a=document['getElementById'](ei(0x401));if(!a)return;if(document[ei(0x2f6)](ei(0x2b4)))return;const b=document[ei(0x27b)]('div');b['className']=ei(0x1df),b['style'][ei(0x276)]=ei(0x280),b['style'][ei(0x1e8)]=ei(0x285),b['style']['backgroundColor']='rgba(255,\x20193,\x207,\x200.1)',b[ei(0x3da)]['border']='1px\x20solid\x20rgba(255,\x20193,\x207,\x200.3)',b['style'][ei(0x3e2)]='5px',b[ei(0x3b8)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4><i\x20class=\x22fas\x20fa-database\x22></i>\x20Database\x20Migration</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p>Initialize\x20the\x20points\x20field\x20for\x20all\x20users\x20who\x20don\x27t\x20have\x20it\x20yet.\x20This\x20is\x20safe\x20to\x20run\x20multiple\x20times.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22migrate-points-btn\x22\x20class=\x22btn\x20btn-warning\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20Initialize\x20Points\x20Field\x20for\x20All\x20Users\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20';const c=a['querySelector']('.section-header');c&&c[ei(0x351)]('afterend',b),document['getElementById']('migrate-points-btn')[ei(0x3cf)]('click',async function(){const ej=ei;if(confirm(ej(0x372))){this['disabled']=!![],this[ej(0x3b8)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Initializing...';try{await initializeUserPointsField(),this['innerHTML']=ej(0x475),this['style'][ej(0x2b8)]='#28a745',setTimeout(()=>{const ek=ej;b[ek(0x3da)]['display']=ek(0x210);},0xbb8);}catch(d){this[ej(0x3b8)]='<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error\x20-\x20Try\x20Again',this[ej(0x19e)]=![];}}});}function setupManagePointsSection(){const el=a4N;console[el(0x32e)]('Setting\x20up\x20Manage\x20Points\x20section'),addPointsMigrationButton();const a=document['getElementById']('points-user-search');a&&a[el(0x3cf)](el(0x3b1),debounce(searchUsersForPoints,0x12c));const b=document['getElementById']('modify-points-form');b&&b['addEventListener'](el(0x2e9),handleModifyPoints);const c=document['getElementById'](el(0x356));c&&c[el(0x3cf)]('submit',handleAwardItem);const d=document['getElementById']('points-overview-search');d&&d[el(0x3cf)](el(0x3b1),debounce(filterPointsOverview,0x12c));const e=document[el(0x2f6)]('points-sort-order');e&&e['addEventListener'](el(0x20a),sortPointsOverview);const f=document['getElementById']('refresh-points-overview');f&&f[el(0x3cf)]('click',loadPointsOverview);const g=document['getElementById']('quick-edit-points-modal');if(g){console['log']('Quick\x20edit\x20modal\x20found,\x20setting\x20up\x20events...');const h=g['querySelector'](el(0x36d));h?h[el(0x3cf)]('click',function(){const em=el;console[em(0x32e)]('Modal\x20close\x20button\x20clicked'),closeQuickEditModal();}):console[el(0x1c6)](el(0x238));const i=document['getElementById'](el(0x3e3));i?i['addEventListener']('click',function(){const en=el;console[en(0x32e)](en(0x3f4)),closeQuickEditModal();}):console['warn']('Cancel\x20button\x20not\x20found');const j=document['getElementById']('quick-edit-points-form');j?j[el(0x3cf)](el(0x2e9),function(k){const eo=el;console[eo(0x32e)](eo(0x3a3)),handleQuickEditPoints(k);}):console[el(0x385)](el(0x226)),g['addEventListener']('click',function(k){const ep=el;k[ep(0x2f3)]===g&&(console[ep(0x32e)]('Modal\x20background\x20clicked'),closeQuickEditModal());});}else console[el(0x385)]('Quick\x20edit\x20modal\x20not\x20found\x20in\x20DOM!');console['log'](el(0x2a7));}function setupManageRibbonsSection(){const eq=a4N;console[eq(0x32e)]('Setting\x20up\x20Manage\x20Ribbons\x20section');const a=document[eq(0x2f6)]('ribbon-user-search');a&&a['addEventListener'](eq(0x3b1),debounce(searchRibbonUser,0x12c));const b=document[eq(0x2f6)](eq(0x1b8));b&&b['addEventListener'](eq(0x394),searchRibbonUser);const c=document['getElementById'](eq(0x3d4));c&&c[eq(0x3cf)]('submit',addRibbon),a&&a[eq(0x3cf)](eq(0x452),function(d){const er=eq;d['key']==='Enter'&&(d[er(0x472)](),searchRibbonUser());}),console['log'](eq(0x384));}async function modifyUserPoints(a,b,c,d=''){const es=a4N,e=doc(db,es(0x3ca),a),f=await getDoc(e);if(!f[es(0x4a3)]())throw new Error('User\x20not\x20found');const g=f['data'](),h=g['points']!==undefined?g[es(0x3ba)]:0x0;g['points']===undefined&&(console[es(0x32e)]('Initializing\x20points\x20field\x20for\x20user\x20'+(g[es(0x47b)]||g[es(0x2d4)]||'Unknown')),await updateDoc(e,{'points':0x0,'pointsInitializedAt':serverTimestamp()}));let i=h;switch(b){case'add':i=h+c;break;case'subtract':i=Math['max'](0x0,h-c);break;case es(0x465):i=c;break;default:throw new Error('Invalid\x20action');}await updateDoc(e,{'points':i,'lastPointsModified':serverTimestamp()}),await addDoc(collection(db,'pointsHistory'),{'userId':a,'userEmail':g[es(0x2d4)]||es(0x3a8),'displayName':g['displayName']||g['username']||es(0x3d5),'action':b,'amount':c,'previousPoints':h,'newPoints':i,'reason':d,'adminEmail':auth['currentUser']['email'],'timestamp':serverTimestamp()});}async function loadPointsOverview(){const et=a4N,a=document[et(0x2f6)]('points-overview-table-body');if(!a)return;a[et(0x3b8)]='<tr><td\x20colspan=\x225\x22\x20class=\x22loading-cell\x22>Loading\x20user\x20points...</td></tr>';try{const b=collection(db,et(0x3ca)),c=await getDocs(b);if(c[et(0x4c7)]){a['innerHTML']=et(0x3d2);return;}const d=[];let e=0x0;c[et(0x4d5)](f=>{const eu=et,g=f[eu(0x461)](),h=g[eu(0x3ba)]!==undefined?g[eu(0x3ba)]:0x0;g['points']===undefined&&e++,d['push']({'id':f['id'],...g,'points':h});}),e>0x0&&(console['log'](et(0x31c)+e+'\x20users\x20without\x20points\x20field\x20-\x20they\x20will\x20display\x20as\x200\x20points'),showNotification(e+'\x20users\x20don\x27t\x20have\x20points\x20field\x20yet.\x20Use\x20the\x20migration\x20button\x20to\x20initialize.','info')),d['sort']((f,g)=>(g['points']||0x0)-(f[et(0x3ba)]||0x0)),window[et(0x2d0)]=d,renderPointsOverview(d);}catch(f){console[et(0x385)]('Error\x20loading\x20points\x20overview:',f),a['innerHTML']='<tr><td\x20colspan=\x225\x22\x20class=\x22error-state\x22>Error\x20loading\x20users:\x20'+f['message']+et(0x41f);}}async function loadRibbonsData(){const ev=a4N,a=document[ev(0x2f6)](ev(0x1a3));if(!a)return;a[ev(0x3b8)]='<tr><td\x20colspan=\x225\x22\x20class=\x22loading-cell\x22>Loading\x20ribbons\x20data...</td></tr>';try{const [b,c,d]=await Promise['all']([getDocs(collection(db,ev(0x1ef))),getDocs(collection(db,ev(0x408))),getDocs(collection(db,ev(0x311)))]);a['innerHTML']='';const e=(f,g)=>{f['forEach'](h=>{const ew=a4b,i=h[ew(0x461)](),j=i[ew(0x3c4)]||{},k=Object['keys'](j)[ew(0x2d7)],l=document['createElement']('tr');l['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(i['username']||'Unknown')+ew(0x32b)+g['toLowerCase']()+'\x22>'+g+'</span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+k+ew(0x281)+(i['lastUpdated']?new Date(i['lastUpdated'][ew(0x199)]*0x3e8)[ew(0x45d)]():'Unknown')+ew(0x441)+i[ew(0x3fb)]+ew(0x2c8)+g+ew(0x406),a[ew(0x260)](l);});};e(b,'D1'),e(c,'D2'),e(d,'D3'),document[ev(0x3dd)]('.edit-ribbons-btn')['forEach'](f=>{const ex=ev;f[ex(0x3cf)](ex(0x394),function(){const ey=ex,g=this['dataset'][ey(0x3fb)],h=this[ey(0x3c8)][ey(0x390)];editUserRibbons(g,h);});}),showNotification(ev(0x3f8),'success');}catch(f){console['error']('Error\x20loading\x20ribbons:',f),a['innerHTML']=ev(0x3a5),showNotification('Error\x20loading\x20ribbons\x20data','error');}}async function searchRibbonUser(){const ez=a4N,a=document[ez(0x2f6)](ez(0x3af))[ez(0x222)]['trim']();if(!a){showNotification(ez(0x476),ez(0x385));return;}try{const [b,c,d]=await Promise[ez(0x286)]([getDoc(doc(db,ez(0x1ef),a)),getDoc(doc(db,ez(0x408),a)),getDoc(doc(db,ez(0x311),a))]);let e=null,f=null;if(b['exists']())e='D1',f=b['data']();else{if(c[ez(0x4a3)]())e='D2',f=c[ez(0x461)]();else d['exists']()&&(e='D3',f=d[ez(0x461)]());}e?(document['getElementById']('current-ribbon-user')['textContent']=a,document[ez(0x2f6)]('ribbon-target-user')[ez(0x222)]=a,document[ez(0x2f6)](ez(0x242))[ez(0x222)]=e,document[ez(0x2f6)](ez(0x2ea))[ez(0x3da)][ez(0x33f)]='block',displayCurrentRibbons(f[ez(0x3c4)]||{}),showNotification('Found\x20'+a+ez(0x297)+e+ez(0x1d0),ez(0x486))):showNotification('User\x20'+a+ez(0x3df),ez(0x385));}catch(g){console[ez(0x385)](ez(0x1b0),g),showNotification('Error\x20searching\x20for\x20user','error');}}function displayCurrentRibbons(a){const eA=a4N,b=document[eA(0x2f6)](eA(0x321));if(!b)return;b['innerHTML']='';if(Object['keys'](a)['length']===0x0){b['innerHTML']=eA(0x4bc);return;}Object[eA(0x2fd)](a)['forEach'](([c,d])=>{const eB=eA,e=document['createElement'](eB(0x301));e['className']='ribbon-item',e['innerHTML']=eB(0x411)+c+'</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>Level:\x20'+(d['level']||0x1)+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small>Awarded:\x20'+(d['awardedAt']?new Date(d[eB(0x2cc)]['seconds']*0x3e8)['toLocaleDateString']():eB(0x2bf))+'</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-danger\x20btn-sm\x20remove-ribbon-btn\x22\x20data-ribbon=\x22'+c+eB(0x33a),b[eB(0x260)](e);}),document['querySelectorAll'](eA(0x3bf))['forEach'](c=>{const eC=eA;c['addEventListener'](eC(0x394),function(){const d=this['dataset']['ribbon'];removeRibbon(d);});});}async function addRibbon(a){const eD=a4N;a[eD(0x472)]();const b=document[eD(0x2f6)]('ribbon-target-user')['value'],c=document['getElementById']('ribbon-target-ladder')['value'],d=document['getElementById']('ribbon-type-select')[eD(0x222)],e=parseInt(document[eD(0x2f6)]('ribbon-level')['value']);if(!b||!c||!d||!e){showNotification('Please\x20fill\x20all\x20fields',eD(0x385));return;}try{const f='playerRibbons'+(c==='D1'?'':c),g=doc(db,f,b),h=await getDoc(g),i=h['exists']()?h[eD(0x461)]()['ribbons']||{}:{};i[d]={'level':e,'awardedAt':serverTimestamp()},await setDoc(g,{'username':b,'ladder':c,'ribbons':i,'lastUpdated':serverTimestamp()},{'merge':!![]}),showNotification('Added\x20'+d+eD(0x248)+e+'\x20to\x20'+b,'success'),displayCurrentRibbons(i),document[eD(0x2f6)](eD(0x2c3))[eD(0x222)]='',document['getElementById']('ribbon-level')[eD(0x222)]='1';}catch(j){console[eD(0x385)]('Error\x20adding\x20ribbon:',j),showNotification('Error\x20adding\x20ribbon',eD(0x385));}}async function removeRibbon(a){const eE=a4N,b=document[eE(0x2f6)]('ribbon-target-user')[eE(0x222)],c=document[eE(0x2f6)](eE(0x242))['value'];if(!confirm(eE(0x1dd)+a+'\x20from\x20'+b+'?'))return;try{const d='playerRibbons'+(c==='D1'?'':c),e=doc(db,d,b),f=await getDoc(e),g=f['exists']()?f[eE(0x461)]()['ribbons']||{}:{};delete g[a],await setDoc(e,{'username':b,'ladder':c,'ribbons':g,'lastUpdated':serverTimestamp()},{'merge':!![]}),showNotification(eE(0x18e)+a+eE(0x202)+b,'success'),displayCurrentRibbons(g);}catch(h){console['error'](eE(0x28d),h),showNotification('Error\x20removing\x20ribbon',eE(0x385));}}function editUserRibbons(a,b){const eF=a4N;document['getElementById']('ribbon-user-search')[eF(0x222)]=a,searchRibbonUser();}