const a48ay=a48b;(function(a,b){const I=a48b,c=a();while(!![]){try{const d=-parseInt(I(0x14e))/0x1*(-parseInt(I(0x19a))/0x2)+-parseInt(I(0x147))/0x3+parseInt(I(0x17a))/0x4+parseInt(I(0x14a))/0x5+-parseInt(I(0x198))/0x6+-parseInt(I(0x164))/0x7+-parseInt(I(0x18f))/0x8;if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a48a,0xbc75c));import{approveReport}from'./ladderalgorithm.js';import{approveReportD2}from'./ladderalgorithm-d2.js';import{approveReportD3}from'./ladderalgorithm-d3.js';import{checkPendingMatches,updatePendingMatchNotification,updateNotificationDot}from'./checkPendingMatches.js';import{collection,getDocs,query,where,orderBy,serverTimestamp,doc,setDoc,getDoc,addDoc,updateDoc,deleteDoc}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{onAuthStateChanged}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';import{auth,db}from'./firebase-config.js';let currentUserEmail=null,confirmationNotification=null,outstandingReportData=null,currentGameMode='D1',outstandingMatches=[];document['addEventListener']('DOMContentLoaded',async()=>{const J=a48b,a={'authWarning':document['getElementById'](J(0x13a)),'reportForm':document['getElementById'](J(0x129)),'winnerUsername':document['getElementById']('winner-username'),'loserUsername':document[J(0x16b)]('loser-username'),'loserScore':document[J(0x16b)](J(0x187)),'suicides':document[J(0x16b)](J(0x171)),'mapPlayed':document['getElementById']('map-played'),'loserComment':document['getElementById'](J(0x162)),'reportError':document['getElementById']('report-error'),'reportLightbox':document[J(0x16b)](J(0x110))};Object[J(0x158)](a)['forEach'](([f,g])=>{const K=J;!g&&console['warn'](K(0x148)+f+'\x27\x20not\x20found\x20in\x20the\x20DOM');});const b=document[J(0x16b)]('d1-mode'),c=document[J(0x16b)]('d2-mode'),d=document[J(0x16b)](J(0x190));b['addEventListener']('click',()=>{const L=J;e('D1'),b[L(0x161)][L(0x1aa)]('active'),c[L(0x161)]['remove'](L(0x12c)),d[L(0x161)]['remove']('active');}),c['addEventListener']('click',()=>{const M=J;e('D2'),c[M(0x161)]['add']('active'),b['classList']['remove'](M(0x12c)),d['classList']['remove']('active');}),d['addEventListener'](J(0x1c5),()=>{const N=J;e('D3'),d['classList'][N(0x1aa)](N(0x12c)),b['classList'][N(0x13f)]('active'),c[N(0x161)]['remove'](N(0x12c));});function e(f){const O=J;currentGameMode=f,console[O(0x18d)]('Game\x20mode\x20set\x20to:\x20'+currentGameMode),auth['currentUser']&&checkUserInLadderAndLoadOpponents(auth[O(0x172)]['uid']);}setupAuthStateListener(a),setupReportForm(a),auth[J(0x172)]?(console['log']('User\x20already\x20logged\x20in,\x20checking\x20D1\x20ladder\x20status'),checkUserInLadderAndLoadOpponents(auth['currentUser']['uid'])):console[J(0x18d)]('No\x20user\x20logged\x20in\x20yet,\x20waiting\x20for\x20auth\x20state\x20change');});function setupAuthStateListener(a){onAuthStateChanged(auth,async b=>{b?handleUserSignedIn(b,a):handleUserSignedOut(a);});}async function handleUserSignedIn(a,b){const P=a48b;if(!b){console['error'](P(0x114));return;}currentUserEmail=a['email']||null;const c=a['uid'];try{const d=doc(db,'nonParticipants',c);try{const i=await getDoc(d);console['log']('Non-participant\x20check:',{'exists':i['exists'](),'data':i[P(0x174)]()?i['data']():null});if(i[P(0x174)]()&&i['data']()['isNonParticipant']===!![]){b['authWarning']&&(b['authWarning'][P(0x16d)][P(0x1ea)]='block',b['authWarning'][P(0x119)]=P(0x1af));b[P(0x1cc)]&&(b[P(0x1cc)]['style'][P(0x1ea)]=P(0x1bc));return;}}catch(j){console[P(0x19f)]('Error\x20checking\x20non-participant\x20status:',j);}const e=[P(0x1b9),'playersD2',P(0x146),'playersDuos','playersCTF'];let f=![],g='';for(const k of e){try{const l=doc(db,k,c),m=await getDoc(l);if(m['exists']()){f=!![],g=m['data']()['username'],console[P(0x18d)](P(0x1a1)+k+P(0x139)+g);if(k==='players'&&currentGameMode!=='D1'){currentGameMode='D1';const n=document['getElementById'](P(0x169)),o=document['getElementById']('d2-mode'),p=document['getElementById'](P(0x190));n[P(0x161)]['add'](P(0x12c)),o[P(0x161)]['remove']('active'),p['classList']['remove'](P(0x12c));}else{if(k===P(0x1e3)&&currentGameMode!=='D2'){currentGameMode='D2';const q=document['getElementById']('d1-mode'),r=document['getElementById']('d2-mode'),s=document[P(0x16b)](P(0x190));r[P(0x161)][P(0x1aa)](P(0x12c)),q[P(0x161)][P(0x13f)](P(0x12c)),s['classList']['remove']('active');}}break;}}catch(t){console[P(0x19f)](P(0x1d2)+k+P(0x13b),t);}}if(!f){b[P(0x1a6)]&&(b[P(0x1a6)][P(0x16d)]['display']=P(0x1a5),b['authWarning'][P(0x119)]=P(0x137));b['reportForm']&&(b['reportForm']['style'][P(0x1ea)]=P(0x1bc));return;}const h=await checkUserInLadderAndLoadOpponents(c);if(!h){console['warn']('User\x20is\x20not\x20in\x20the\x20'+currentGameMode+P(0x140));for(const u of['players',P(0x1e3),'playersD3']){if(u===(currentGameMode==='D1'?P(0x1b9):currentGameMode==='D2'?'playersD2':P(0x146)))continue;const v=doc(db,u,c);try{const w=await getDoc(v);if(w[P(0x174)]()){const x=u==='players'?'D1':u===P(0x1e3)?'D2':'D3';console[P(0x18d)]('User\x20found\x20in\x20'+u+P(0x185)+x+P(0x11f));const y=document['getElementById'](P(0x169)),z=document[P(0x16b)](P(0x1c2)),A=document[P(0x16b)]('d3-mode');if(x==='D1')y[P(0x161)]['add']('active'),z['classList']['remove'](P(0x12c)),A[P(0x161)][P(0x13f)]('active');else x==='D2'?(z[P(0x161)][P(0x1aa)](P(0x12c)),y['classList'][P(0x13f)]('active'),A['classList']['remove']('active')):(A['classList'][P(0x1aa)]('active'),y['classList'][P(0x13f)]('active'),z[P(0x161)]['remove'](P(0x12c)));currentGameMode=x,await checkUserInLadderAndLoadOpponents(c);break;}}catch(B){console['warn']('Error\x20checking\x20'+u+':',B);}}}}catch(C){console['error']('Error\x20during\x20sign-in\x20handling:',C);}}function handleUserSignedOut(a){const Q=a48b;a[Q(0x1a6)]['style']['display']='block',a[Q(0x1cc)][Q(0x16d)][Q(0x1ea)]=Q(0x1bc),currentUserEmail=null;}function a48a(){const az=['C2v0qxr0CMLIDxrL','tM8GBwf0y2HLCYbMB3vUzcbIEsbLBwfPBcbLAxrOzxiSihrYEwLUzYb3Aw5UzxjvC2vYBMfTzq','Dgv4DenVBNrLBNq','B3v0C3rHBMrPBMCTBw9KywW','zw1HAwW','Bg9ZzxjvC2vYBMfTzq','CgvUzgLUz01HDgnOzxm','rxjYB3iGzMv0y2HPBMCGCgXHEwvYigrHDgeUifbSzwfZzsb0CNKGywDHAw4U','ig1Vzgu','ihrVia','ig1HDgnOzxmGzM91BMq','rxjYB3i6ieXVC2vYigrHDgeGBM90igzVDw5KlG','Bg9ZzxiTDxnLCM5HBwu','ywrKrxzLBNrmAxn0zw5LCG','C2HVDW','ihjLAMvJDgvKihn1y2nLC3nMDwXSEq','v2LUBMvYia','BgLNAhrIB3GTC3vIz2fTzq','CMvWB3j0lwzVCM0','B3v0C3rHBMrPBMCTBwf0y2HLCY1SAxn0','uMvQzwn0zwremG','ywn0AxzL','rxjYB3iGy2HLy2TPBMCGBgfKzgvYig1LBwjLCNnOAxaUifbSzwfZzsb0CNKGywDHAw4GBgf0zxiU','mtbWEa','iJ4kicaGicaGicaGicaGpgGZpG','DgfYz2v0','rxjYB3iGy2HLy2TPBMCGB3v0C3rHBMrPBMCGCMvWB3j0CZO','tM8GCgvUzgLUzYbTyxrJAgvZigzVDw5KigzVCIb0AgLZihvZzxi','tM8GBwf0y2HLCYbMB3vUzcbIEsb3Aw5UzxjjzcWGDhj5Aw5NihDPBM5LCKvTywLS','BwfYz2LUuMLNAhq','q2HLy2TPBMCGAwyGDxnLCIbLEgLZDhmGAw4Gy29SBgvJDgLVBJOG','C3vIz2fTzs10ExbL','ww91igfYzsbUB3qGCMvNAxn0zxjLzcbPBIbHBNKGBgfKzgvYlG','uxvLCNKGyNKGD2LUBMvYswqGCMvZDwX0CZOG','ihDPDgGGDxnLCM5HBwu6ia','yxv0Ac13yxjUAw5N','ignVBgXLy3rPB246','v2LUBMvY','D2LUBMvYswq','r2fTzsbYzxbVCNrLzcbZDwnJzxnZzNvSBhKH','CMvTB3zL','igXHzgrLCI4Gq2HLy2TPBMCGB3rOzxiGBgfKzgvYCY4','Bg9ZzxjfBwfPBa','CMvZzxq','lNzPzxCTzgv0ywLSlwj0BG','BgLNAhrIB3GTy29TBwvUDa','DwLK','CgXHEwvYC0qZ','mJm0nJmWm3vfC3PRsW','rwXLBwvUDcaN','tM8GCMvHC29UihbYB3zPzgvK','mtCXnZmZmen1CKnLAW','BgLNAhrIB3GTC3vPy2LKzxm','zgf0ys1Pza','zM9YrwfJAa','mte0mZe3nwLRtxfotW','yxbWCM92zwq','Cg9ZAxrPB24','CMvWB3j0rxjYB3i','rxjYB3iGCg9WDwXHDgLUzYb3Aw5UzxiGzhjVCgrVD246','y2fSBa','CMDIysGYntuSidi1nsWGmJu1lcaWlJa1kq','ugXLyxnLihnLBgvJDcbHBIbVChbVBMvUDa','rxjYB3iGCMvQzwn0Aw5Nig1HDgnOoG','uMvWB3j0ieDHBwu','zw50CMLLCW','C3vIBwL0','D2HPDgu','CMvWB3j0lwvYCM9Y','DMfSDwu','ugXLyxnLihbYB3zPzguGysbYzwfZB24GzM9YihjLAMvJDgLUzYb0AgLZig1HDgnOihjLCg9YDdO','iZzHmwi5yq','CMvSB2fK','zxjYB3i','y2XHC3nmAxn0','Bg9ZzxiTy29TBwvUDa','zwXVuMf0Aw5N','mtC5ntu0mLrZu1LgDG','ww91icG','Aw5Zzxj0qMvMB3jL','zgf0yxnLDa','CxvLCNLtzwXLy3rVCG','zdeTBw9Kzq','z2v0qxr0CMLIDxrL','z2v0rwXLBwvUDej5swq','zwrPDfjLCg9YDa','C3r5Bgu','pc9OmZ4kicaGicaGicaGicaGpgrPDIbJBgfZCZ0IBwf0y2GTzgv0ywLSCYi+cIaGicaGicaGicaGicaGica8C3bHBIbJBgfZCZ0IBwf0y2GTzgv0ywLSlwL0zw0IpK1HCdOG','CMvZy2LUzfjLCg9YDa','rxjYB3iGBg9HzgLUzYbVChbVBMvUDhmGBgLZDdO','C3vPy2LKzxm','y3vYCMvUDfvZzxi','DMLLDY1VDxrZDgfUzgLUzY1IDg4','zxHPC3rZ','CgvUzgLUz01HDgnOzxnemW','BgLNAhrIB3GTD2LUBMvY','y2fUy2vSlwj1DhrVBG','yM9YzgvY','Aw5Uzxjive1m','nty3otm2meDgrNvJCq','Bg9ZzxjdB21Tzw50','zw1WDhK','DgHLBG','BwvZC2fNzq','pha+tM8GB3v0C3rHBMrPBMCGBwf0y2HLCYbMB3vUzcbPBIb0AguGy3vYCMvUDcbNyw1Lig1VzguUpc9WpG','tM8Gy29TBwvUDa','C3vIz2fTzvr5Cgu','tM90ihjLz2LZDgvYzwqGAw4GDgHPCYbSywrKzxi','pc9ZCgfUpGOGicaGicaGicaGicaGicaGphnWyw4Gy2XHC3m9iM1HDgnOlwrLDgfPBc1PDgvTiJ5eyxrLoIa','CMvWBgfJzunOAwXK','lcbZD2L0y2HPBMCGDg8G','CMvQzwn0lwj1DhrVBG','Bg9ZzxiTC2nVCMu','uMvQzwn0zwremW','BgLNAhrIB3GTBwfW','uMvQzwn0zwremq','zMv0y2HpDxrZDgfUzgLUz01HDgnOzxm','q2fUy2vSievKAxq','Bg9N','zg9JCW','odm1ote4ng1SwfLJra','zdmTBw9Kzq','tM8GCg9ZAxrPB24Gy2HHBMDLig5LzwrLzdSGD2LUBMvYigLZigfSCMvHzhKGywjVDMuGDgHLigXVC2vYlG','zgLZywjSzwq','v2LUBMvYoIa','ohb4ide2ChG','Bg9ZzxjtDwLJAwrLCW','rxjYB3iGzMv0y2HPBMCGB3v0C3rHBMrPBMCGBwf0y2HLCZO','igLUia','mZa2mJy0ufHLsNPs','tM8GBg9ZzxiGzM91BMqGzM9YihrOAxmGBwf0y2G','mLrtveP5rG','ChjLDMvUDerLzMf1Bhq','yM9YzgvYuMfKAxvZ','y3vYC29Y','yxbWCM92zs1IDxr0B24','D2fYBG','lNjLC2nPBMqTCMvWB3j0lwj0BG','vxnLCIbMB3vUzcbPBIbJB2XSzwn0Aw9Uia','twf0y2GGCMvWB3j0zwqGAw4G','C2L6zq','y2XVBMvoB2rL','yMXVy2S','yxv0AfDHCM5PBMC','Dw5KzwzPBMvK','D2LUBMvYvxnLCM5HBwu','rxjYB3iGDxbKyxrPBMCGCMvWB3j0oG','ywrK','D2LUBMvYlxvZzxjUyw1L','CgvUzgLUz01HDgnOzxnemG','uMvQzwn0Aw5Nig1HDgnOia','uMvWB3j0igHHCYbIzwvUihn1y2nLC3nMDwXSEsb1CgrHDgvKlG','tM9UlxbHCNrPy2LWyw50CYbJyw5UB3qGCMvWB3j0igDHBwvZlG','uMvWB3j0ierHDgeGAw4Gyxv0B0zPBgXszxbVCNrgB3jToG','rxjYB3i6ifDPBM5LCIbKyxrHig5VDcbMB3vUzc4','CMvHze9UBhK','vxnPBMCGCgXHEwvYCYbJB2XSzwn0Aw9UoIa','B25ZDwjTAxq','ihzZia','rxjYB3iGC3vIBwL0DgLUzYbYzxbVCNq6','yNv0Dg9U','C29Tzq','CgXHEwvYCW','CMvUzgvYt3v0C3rHBMrPBMDnyxrJAgvZ','y2f0y2G','BM9Uzq','BwfWlxbSyxLLza','Bg9Zzxjty29Yzq','ig1VDMvKihrVihbVC2L0Aw9Uia','Dg9mB2nHBgveyxrLu3rYAw5N','pc9ZCgfUpGOGicaGicaGicaGica8l2rPDJ4kicaGicaGicaGicaGpgrPDIbJBgfZCZ0IBwf0y2GTywn0Aw9UCYi+cIaGicaGicaGicaGicaGica8yNv0Dg9UignSyxnZpsjIDg4GDMLLDY1KzxrHAwWTyNrUiIbKyxrHlwLKpsi','zdiTBw9Kzq','Dg9eyxrL','zgf0yq','y2XPy2S','vxnLCIbUB3qGyxv0AgvUDgLJyxrLza','pg9WDgLVBIb2ywX1zt0IiJ5tzwXLy3qGv2LUBMvYpc9VChrPB24+','zMLUza','BgLNAhrIB3GTBg9Zzxi','q2HLy2TPBMCGCMvWB3j0CYbMB3iGDxnLCJOG','BgLNAhrIB3GTz2fTzs1TB2rL','CMvWB3j0rM9YBq','tgLNAhrIB3GGzwXLBwvUDcbUB3qGzM91BMq','t25SEsb0AguGD2LUBMvYig9MihrOzsbTyxrJAcbJyw4GCMvQzwn0igL0','D2LUBMvYlxn1AwnPzgvZ','Bg9Zzxjjza','uMvXDwLYzwqGzwXLBwvUDhmGBM90igzVDw5KigzVCIbSB2fKt3bWB25LBNrZtgLZDa','rxjYB3iGy2HLy2TPBMCG','Dgv4Da','y2fUy2vSlwvKAxqTyNrU','tM90ihnWzwnPzMLLza','rxjYB3iGyxbWCM92Aw5NihjLCg9YDdO','CMvK','ww91igfYzsbUB3qGCMvNAxn0zxjLzcbPBIb0AguG','z2fTzu1Vzgu','C2HVD01HDgnOtgLNAhrIB3G','CxvLCNLtzwXLy3rVCKfSBa','iJ5wAwv3ierLDgfPBhm8l2j1DhrVBJ4kicaGicaGicaGicaGicaGia','CgfYzw50tM9Kzq','pc9ZCgfUpGOGicaGicaGicaGicaGicaGphnWyw4Gy2XHC3m9iM1HDgnOlwrLDgfPBc1PDgvTiJ5ty29YztOGpYaTia','DhLWzq','y3jLyxrLzef0','igXHzgrLCI4','vw5RBM93BG','CgXHEwvYC0qY','yNv0Dg9Uw3r5Cgu9iNn1yM1PDcjD','zNjVBq','rxjYB3iGyxbWCM92Aw5Nig1HDgnOoIa','igzYB20G','icHfte86ia','DxnLCM5HBwu','zgLZCgXHEq','Bg9ZzxjZt2XKrwXV','D2LUBMvYt2XKrwXV','D2LUBMvYlxnJB3jL','y29SB3i','CMvWB3j0lwXPz2H0yM94','B3b0Aw9U','D2LUBMvYrw1HAwW','zgf0ys1LzgL0lwLK','rwXLBwvUDhmGB2jQzwn0igLZig51BgWGB3iGDw5KzwzPBMvK','BwfWugXHEwvK','BgvUz3rO'];a48a=function(){return az;};return a48a();}async function updateUserDisplay(a,b){const R=a48b,c=collection(db,R(0x1b9)),d=query(c,where(R(0x11b),'==',a)),e=await getDocs(d);if(!e[R(0x17c)]){const f=e['docs'][0x0]['data']()['username'];b[R(0x11c)][R(0x119)]=f;}}async function populateWinnerDropdown(a){const S=a48b;try{const b=collection(db,'players'),c=await getDocs(b);a[S(0x179)]=S(0x1c7),!c[S(0x17c)]&&c['forEach'](d=>{const T=S,e=d['data']();if(e[T(0x11b)]!==currentUserEmail){const f=document['createElement'](T(0x111));f['value']=e[T(0x11b)],f[T(0x119)]=e[T(0x1e9)],a['appendChild'](f);}});}catch(d){console[S(0x160)](S(0x152),d);throw d;}}function setupReportForm(a){const U=a48b;if(!a[U(0x1cc)])return;a[U(0x1cc)][U(0x124)](U(0x159),async b=>{const V=U;b['preventDefault']();try{await submitReport(a),a[V(0x1cc)]['reset'](),alert('Game\x20reported\x20successfully.');}catch(c){console['error']('Error\x20submitting\x20report:',c),a['reportError']['textContent']='Error\x20reporting\x20game.\x20Please\x20try\x20again.';}});}async function submitReport(a){const W=a48b,b=currentGameMode==='D1'?'pendingMatches':currentGameMode==='D2'?W(0x1ac):'pendingMatchesD3',c=collection(db,b),d=doc(c);try{const e=auth['currentUser'];if(!e)throw new Error(W(0x1c6));const f=e[W(0x145)],g=currentGameMode==='D1'?'players':currentGameMode==='D2'?'playersD2':W(0x146),h=await getDoc(doc(db,g,f));if(!h['exists']())throw new Error('Your\x20player\x20profile\x20not\x20found');const i=document['getElementById'](W(0x136)),j=a[W(0x1a8)][W(0x15c)];if(!j)throw new Error(W(0x155));const k=query(collection(db,g),where('username','==',j)),l=await getDocs(k);if(l['empty'])throw new Error('Selected\x20opponent\x20not\x20found');const m=l[W(0x18e)][0x0][W(0x1c4)](),n=l[W(0x18e)][0x0]['id'],o={'matchId':d['id'],'loserUsername':h[W(0x1c4)]()['username'],'loserId':f,'winnerUsername':m[W(0x1e9)],'winnerId':n,'loserScore':a[W(0x1be)]['value'],'loserSuicides':a[W(0x171)][W(0x15c)],'mapPlayed':a[W(0x115)]['value'],'loserComment':a[W(0x17b)][W(0x15c)],'subgameType':i?i['value']:'','gameMode':currentGameMode,'approved':![],'createdAt':serverTimestamp(),'winnerOldElo':m['eloRating']||null,'losersOldElo':h[W(0x1c4)]()[W(0x163)]||null};await setDoc(d,o),console[W(0x18d)](W(0x1a2)+b+'\x20with\x20ID:\x20'+d['id']),a['reportError'][W(0x119)]=W(0x13e),a['reportError']['style'][W(0x10f)]='green',updatePendingMatchNotification();}catch(p){console[W(0x160)](W(0x1b6),p),a[W(0x151)][W(0x119)]='Error:\x20'+p[W(0x17e)],a['reportError']['style']['color']=W(0x1d7);throw p;}}async function checkForOutstandingReports(a,b,c=null){const X=a48b;console[X(0x18d)](X(0x1ca)+a+X(0x197)+(c||'default\x20collection'));const d=c||(currentGameMode==='D1'?'pendingMatches':currentGameMode==='D2'?'pendingMatchesD2':X(0x175));console[X(0x18d)]('Using\x20collection:\x20'+d);try{const e=auth['currentUser'];if(!e){console[X(0x18d)]('No\x20authenticated\x20user\x20found');return;}const f=e[X(0x145)],g=collection(db,d),h=query(g,where('winnerId','==',f),where('approved','==',![]));let i=await getDocs(h);console['log'](X(0x138)+i[X(0x1a3)]+'\x20matches\x20found');if(i[X(0x17c)]&&e['email']){console['log'](X(0x133));const j=query(g,where(X(0x112),'==',e['email']),where(X(0x14f),'==',![]));i=await getDocs(j),console[X(0x18d)]('Query\x20by\x20winnerEmail\x20results:\x20'+i[X(0x1a3)]+X(0x121));}if(i['empty']){console['log'](X(0x118));const k=currentGameMode==='D1'?X(0x1b9):'playersD2',l=await getDoc(doc(db,k,f));if(l['exists']()&&l[X(0x1c4)]()[X(0x1e9)]){const m=l['data']()['username'],n=query(g,where(X(0x1a8),'==',m),where('approved','==',![]));i=await getDocs(n),console[X(0x18d)]('Query\x20by\x20winnerUsername\x20results:\x20'+i['size']+'\x20matches\x20found');}}if(!i[X(0x17c)]){const o=i[X(0x18e)][0x0][X(0x1c4)]();return console[X(0x18d)]('Found\x20pending\x20match:',o),o['id']=i['docs'][0x0]['id'],autoFillReportForm(o),updateNotificationDot(!![]),!![];}else return console[X(0x18d)](X(0x132)),updateNotificationDot(![]),![];}catch(p){console['error'](X(0x131),p);}}function autoFillReportForm(a){const Y=a48b;console[Y(0x18d)](Y(0x1b0),a);if(a){const b=parseInt(a['loserScore']||'0'),c=b<0x12?0x14:b+0x2,d=a[Y(0x1d9)]||currentGameMode,e=d==='D1'?'players':d==='D2'?'playersD2':Y(0x146);console[Y(0x18d)](Y(0x1b3)+e+'\x20for\x20game\x20mode:\x20'+d);let f;a[Y(0x13d)]?f=getDoc(doc(db,e,a[Y(0x13d)]))['then'](h=>h[Y(0x174)]()?{'id':h['id'],'data':h['data']()}:null):f=getDocs(query(collection(db,e),where('username','==',a['winnerUsername'])))[Y(0x17d)](h=>!h[Y(0x17c)]?{'id':h[Y(0x18e)][0x0]['id'],'data':h[Y(0x18e)][0x0]['data']()}:null);let g;a['loserId']?g=getDoc(doc(db,e,a['loserId']))['then'](h=>h['exists']()?{'id':h['id'],'data':h['data']()}:null):g=getDocs(query(collection(db,e),where('username','==',a[Y(0x11c)])))['then'](h=>!h[Y(0x17c)]?{'id':h[Y(0x18e)][0x0]['id'],'data':h[Y(0x18e)][0x0]['data']()}:null),Promise['all']([f,g])[Y(0x17d)](([h,i])=>{const Z=Y;if(!h){console['error']('No\x20winner\x20found\x20for\x20this\x20match'),alert(Z(0x1b1));return;}if(!i){console[Z(0x160)](Z(0x199)),alert(Z(0x122));return;}const j=a[Z(0x10d)]!=null?a[Z(0x10d)]:h[Z(0x1c4)]['eloRating'],k=a[Z(0x10c)]!=null?a['losersOldElo']:i['data'][Z(0x163)],l=h['data']['username'],m=i['data']['username'];console[Z(0x18d)](Z(0x193)+l+Z(0x1e8)+j+'),\x20Loser:\x20'+m+'\x20(ELO:\x20'+k+')');const n=document[Z(0x16b)]('report-lightbox');if(!n){console['error'](Z(0x1cd));return;}document['getElementById'](Z(0x176))[Z(0x119)]=l,document['getElementById'](Z(0x1c9))[Z(0x119)]=m,document[Z(0x16b)]('lightbox-loser-score')['textContent']=a[Z(0x1be)]||'0',document['getElementById']('lightbox-suicides')['textContent']=a['loserSuicides']||'0',document['getElementById']('lightbox-map')['textContent']=a['mapPlayed']||Z(0x1d5),document[Z(0x16b)](Z(0x144))[Z(0x119)]=a[Z(0x17b)]||Z(0x180),document['getElementById']('lightbox-subgame')['textContent']=a[Z(0x181)]||'Standard\x20Match';const o=document[Z(0x16b)]('winner-score');o&&(o['value']=c,o[Z(0x1b2)]=!![],o[Z(0x16d)]['backgroundColor']=Z(0x154));showLightbox();const p=document[Z(0x168)]('.lightbox-buttons');if(p){console[Z(0x18d)]('Found\x20buttons\x20container:',p);const t=document['getElementById'](Z(0x186));t&&t[Z(0x13f)]();const u=document['createElement']('button');u['id']='reject-button',u['className']='button\x20danger-button',u['textContent']='Reject\x20Match',u['style']['backgroundColor']='#d32f2f',u[Z(0x16d)]['color']='white',u[Z(0x16d)]['marginRight']=Z(0x12e),u[Z(0x16d)]['padding']=Z(0x194),u[Z(0x16d)][Z(0x178)]='none',u[Z(0x16d)][Z(0x19c)]='4px',u['style'][Z(0x19d)]='pointer',u[Z(0x16d)]['fontWeight']='bold',p['prepend'](u),console[Z(0x18d)]('Reject\x20button\x20added:',u);}const q=document['getElementById'](Z(0x19e)),r=document[Z(0x16b)](Z(0x186)),s=document[Z(0x16b)]('cancel-button');if(q){const v=q[Z(0x1a4)](!![]);q['parentNode']['replaceChild'](v,q),v[Z(0x124)](Z(0x1c5),async function(){const a0=Z;try{const w=document['getElementById'](a0(0x10e))[a0(0x15c)],x=document['getElementById'](a0(0x1cf))['value']||'0',y=document[a0(0x16b)]('winner-comment')[a0(0x15c)]||'';console[a0(0x18d)]('Current\x20user\x20info:',{'uid':auth['currentUser']?.[a0(0x145)],'email':auth[a0(0x172)]?.['email'],'isAdmin':auth[a0(0x172)]?.[a0(0x11b)]==='admin@ladder.com'||auth[a0(0x172)]?.['email']==='brian2af@outlook.com'});const z=a[a0(0x1d9)]||currentGameMode;if(z==='D3')await approveReportD3(a['id'],w,x,y);else z==='D2'?await approveReportD2(a['id'],w,x,y):await approveReport(a['id'],w,x,y);document[a0(0x16b)](a0(0x110))[a0(0x16d)][a0(0x1ea)]=a0(0x1bc),alert('Match\x20approved\x20successfully'),updatePendingMatchNotification(),location[a0(0x15f)]();const A=z==='D1'?'players':'playersD2',B=doc(db,A,h['id']),C=doc(db,A,i['id']),[D,E]=await Promise['all']([getDoc(B),getDoc(C)]);if(D['exists']()&&E[a0(0x174)]()){const F=D['data'](),G=E[a0(0x1c4)]();F[a0(0x150)]>G[a0(0x150)]?(await updateDoc(B,{'position':G[a0(0x150)]}),console[a0(0x18d)](a0(0x127)+F[a0(0x1e9)]+a0(0x1bf)+G['position'])):console['log'](a0(0x191));}}catch(H){console['error'](a0(0x1d6),H),alert(a0(0x1e6)+H['message']);}});}if(r){const w=r[Z(0x1a4)](!![]);r[Z(0x1dd)][Z(0x184)](w,r),w[Z(0x124)](Z(0x1c5),async function(){const a1=Z;try{const x=prompt(a1(0x15d),'');if(x===null)return;await rejectReport(a['id'],x),hideLightbox(),alert('Match\x20report\x20rejected\x20successfully'),updatePendingMatchNotification(),location['reload']();}catch(y){console[a1(0x160)]('Error\x20rejecting\x20report:',y),alert('Error\x20rejecting\x20match:\x20'+y[a1(0x17e)]);}});}if(s){const x=s['cloneNode'](!![]);s['parentNode'][Z(0x184)](x,s),x[Z(0x124)]('click',hideLightbox);}})[Y(0x1bb)](h=>{const a2=Y;console[a2(0x160)]('Error\x20processing\x20player\x20data:',h),alert(a2(0x11e));});}}function showLightbox(){const a3=a48b;console['log']('Showing\x20lightbox');const a=document[a3(0x16b)]('report-lightbox');if(!a){console['error'](a3(0x1cd));return;}a['classList'][a3(0x1aa)]('show');}function hideLightbox(){const a4=a48b,a=document['getElementById'](a4(0x110));a[a4(0x161)]['remove'](a4(0x125));}async function rejectReport(a,b){const a5=a48b;try{const c=currentGameMode==='D1'?a5(0x11d):currentGameMode==='D2'?'pendingMatchesD2':'pendingMatchesD3',d=currentGameMode==='D1'?a5(0x18a):currentGameMode==='D2'?a5(0x12b):a5(0x188);console[a5(0x18d)](a5(0x1ad)+a+a5(0x1e7)+c+a5(0x120)+d);const e=auth[a5(0x172)];if(!e)throw new Error('You\x20must\x20be\x20logged\x20in\x20to\x20reject\x20a\x20match');const f=doc(db,c,a),g=await getDoc(f);if(!g['exists']())throw new Error('Match\x20report\x20not\x20found');const h=g[a5(0x1c4)](),i=h['winnerId']&&h[a5(0x13d)]===e[a5(0x145)]||h['winnerEmail']&&h[a5(0x112)]===e['email']||h['winnerUsername']&&h[a5(0x1a8)]===await getUsernameFromId(e['uid']);if(!i)throw new Error(a5(0x1ce));const j={...h,'rejectedAt':serverTimestamp(),'rejectedBy':e['uid'],'rejectionReason':b||a5(0x149),'originalDocumentId':a},k=doc(collection(db,d));return await setDoc(k,j),await deleteDoc(f),console[a5(0x18d)]('Match\x20'+a+a5(0x126)),updatePendingMatchNotification(),!![];}catch(l){console[a5(0x160)](a5(0x156),l);throw l;}}async function getUsernameFromId(a){const a6=a48b,b=await getDoc(doc(db,a6(0x1b9),a));if(b['exists']())return b['data']()[a6(0x1e9)];const c=await getDoc(doc(db,a6(0x1e3),a));if(c[a6(0x174)]())return c[a6(0x1c4)]()[a6(0x1e9)];return null;}async function loadOpponentsList(a){const a7=a48b;try{const b=document[a7(0x16b)](a7(0x15b)),c=document['getElementById'](a7(0x123)),d=document[a7(0x16b)](a7(0x1ab));if(!b||!c||!d){console['error'](a7(0x1d1));return;}const e=currentGameMode==='D1'?'players':currentGameMode==='D2'?a7(0x1e3):'playersD3';console['log']('Loading\x20opponents\x20from\x20collection:\x20'+e);const f=await getDoc(doc(db,e,a));if(!f['exists']()){b[a7(0x119)]=a7(0x1d8)+currentGameMode+'\x20ladder.',b[a7(0x16d)][a7(0x10f)]='red',c['textContent']=a7(0x182),d['disabled']=!![];return;}const g=f['data'](),h=g['username'];c[a7(0x119)]=a7(0x165)+h+')',b['textContent']='',d[a7(0x192)]=![];const i=collection(db,e),j=await getDocs(i);if(j['empty']){console['log']('No\x20opponents\x20available');return;}d['innerHTML']='<option\x20value=\x22\x22>Select\x20Opponent</option>',j['forEach'](k=>{const a8=a7,l=k[a8(0x1c4)]();if(k['id']!==a){const m=document['createElement']('option');m[a8(0x15c)]=l['username'],m[a8(0x119)]=l['username'],m[a8(0x167)][a8(0x145)]=k['id'],d['appendChild'](m);}});}catch(k){console['error'](a7(0x170),k),document['getElementById']('report-error')[a7(0x119)]='Error\x20loading\x20opponents.\x20Please\x20try\x20again\x20later.',document['getElementById'](a7(0x15b))['style'][a7(0x10f)]=a7(0x1d7);}}async function checkUserInLadderAndLoadOpponents(a){const a9=a48b;try{const b=document[a9(0x16b)](a9(0x15b)),c=document['getElementById'](a9(0x123)),d=document[a9(0x16b)](a9(0x1ab)),e=document[a9(0x16b)]('report-form'),f=document['getElementById'](a9(0x13a));b['textContent']='Checking\x20if\x20you\x20are\x20registered\x20in\x20'+currentGameMode+'\x20ladder...',b['style']['color']=a9(0x15a);const g=currentGameMode==='D1'?a9(0x1b9):currentGameMode==='D2'?'playersD2':a9(0x146);console['log'](a9(0x135)+g);const h=await getDoc(doc(db,g,a));if(!h[a9(0x174)]())return b['textContent']=a9(0x1d8)+currentGameMode+'\x20ladder.',b[a9(0x16d)][a9(0x10f)]=a9(0x1d7),c[a9(0x119)]='Not\x20registered\x20in\x20this\x20ladder',d['disabled']=!![],d[a9(0x179)]='<option\x20value=\x22\x22>Select\x20Opponent</option>',f[a9(0x16d)]['display']='block',f[a9(0x119)]='You\x20are\x20not\x20registered\x20in\x20the\x20'+currentGameMode+a9(0x1e1),![];b['textContent']='',f[a9(0x16d)][a9(0x1ea)]='none';const i=h['data'](),j=i['username'];c['textContent']='You\x20('+j+')',d[a9(0x192)]=![],e['style'][a9(0x1ea)]='block',await loadOpponentsList(a);const k=currentGameMode==='D1'?'pendingMatches':currentGameMode==='D2'?a9(0x1ac):'pendingMatchesD3';return await checkForOutstandingReports(i[a9(0x11b)],null,k),!![];}catch(l){return console[a9(0x160)]('Error\x20checking\x20if\x20user\x20is\x20in\x20ladder:',l),document['getElementById']('report-error')['textContent']=a9(0x12d),document[a9(0x16b)](a9(0x15b))[a9(0x16d)][a9(0x10f)]=a9(0x1d7),![];}}export async function fetchOutstandingMatches(){const aa=a48b,a=auth[aa(0x172)];if(!a)return[];try{const b=[],c=currentGameMode==='D1'?aa(0x11d):currentGameMode==='D2'?aa(0x1ac):'pendingMatchesD3',d=collection(db,c),e=[query(d,where(aa(0x1d0),'==',a['uid']),where(aa(0x14f),'==',![])),query(d,where(aa(0x141),'==',a[aa(0x11b)]),where('approved','==',![])),query(d,where(aa(0x13d),'==',a['uid']),where(aa(0x14f),'==',![])),query(d,where(aa(0x112),'==',a['email']),where('approved','==',![]))],f=currentGameMode==='D1'?aa(0x1b9):currentGameMode==='D2'?aa(0x1e3):'playersD3',g=await getDocs(query(collection(db,f),where(aa(0x11b),'==',a[aa(0x11b)])));let h=null;!g[aa(0x17c)]&&(h=g[aa(0x18e)][0x0][aa(0x1c4)]()[aa(0x1e9)],h&&e['push'](query(d,where(aa(0x11c),'==',h),where(aa(0x14f),'==',![])),query(d,where('winnerUsername','==',h),where('approved','==',![]))));for(const i of e){const j=await getDocs(i);!j[aa(0x17c)]&&j['forEach'](k=>{const ab=aa;!b[ab(0x1b8)](l=>l['id']===k['id'])&&b['push']({'id':k['id'],...k[ab(0x1c4)]()});});}return b['sort']((k,l)=>{const ac=aa,m=k[ac(0x1e0)]?.[ac(0x1c3)]()||new Date(0x0),n=l[ac(0x1e0)]?.['toDate']()||new Date(0x0);return n-m;}),outstandingMatches=b,b;}catch(k){return console['error'](aa(0x196),k),[];}}function a48b(a,b){const c=a48a();return a48b=function(d,e){d=d-0x10c;let f=c[d];if(a48b['cqHYrB']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a48b['ZJQWcx']=g,a=arguments,a48b['cqHYrB']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a48b['ZJQWcx'](f),a[i]=f):f=j,f;},a48b(a,b);}export function renderOutstandingMatches(){const ad=a48b,a=document['getElementById']('outstanding-matches-list');if(outstandingMatches[ad(0x116)]===0x0){a[ad(0x179)]=ad(0x17f);return;}let b='';const c=auth[ad(0x172)];if(!c)return;outstandingMatches['forEach'](d=>{const ae=ad,e=d[ae(0x1e0)]?.['toDate']()?d[ae(0x1e0)]['toDate']()[ae(0x1c0)]():'Unknown\x20date',f=d['loserEmail']===c['email']||d['loserId']===c[ae(0x145)];b+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22match-item\x22\x20data-id=\x22'+d['id']+ae(0x12f)+(d[ae(0x1a8)]||ae(0x13c))+ae(0x1b5)+(d['loserUsername']||'Loser')+ae(0x16e)+(d['mapPlayed']||ae(0x1e2))+ae(0x183)+e+ae(0x1de)+(d['loserScore']||'0')+ae(0x1c1)+d['id']+ae(0x1dc)+(f?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20edit-report-btn\x22\x20data-id=\x22'+d['id']+'\x22>Edit\x20Report</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20danger-button\x20rescind-report-btn\x22\x20data-id=\x22'+d['id']+'\x22>Rescind\x20Report</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),a[ad(0x179)]=b,document[ad(0x1db)](ad(0x143))['forEach'](d=>{const af=ad;d[af(0x124)]('click',function(){const ag=af,e=this['getAttribute']('data-id'),f=outstandingMatches[ag(0x1c8)](g=>g['id']===e);document['getElementById'](ag(0x11a))[ag(0x161)][ag(0x13f)]('show'),showMatchLightbox(f);});}),document['querySelectorAll']('.edit-report-btn')[ad(0x14d)](d=>{const ah=ad;d[ah(0x124)](ah(0x1c5),function(){const ai=ah,e=this[ai(0x16a)](ai(0x14c)),f=outstandingMatches['find'](g=>g['id']===e);document['getElementById']('outstanding-modal')['classList'][ai(0x13f)](ai(0x125)),editReport(f);});}),document[ad(0x1db)](ad(0x1a0))['forEach'](d=>{const aj=ad;d['addEventListener'](aj(0x1c5),function(){const ak=aj,e=this[ak(0x16a)]('data-id'),f=outstandingMatches['find'](g=>g['id']===e);confirm('Are\x20you\x20sure\x20you\x20want\x20to\x20rescind\x20this\x20match\x20report\x20against\x20'+(f['winnerUsername']||'opponent')+'?')&&rescindReport(f);});});}export async function rescindReport(a){const al=a48b;try{const b=currentGameMode==='D1'?al(0x11d):currentGameMode==='D2'?al(0x1ac):'pendingMatchesD3',c=doc(db,b,a['id']);await deleteDoc(c),alert('Report\x20has\x20been\x20successfully\x20rescinded.'),await fetchOutstandingMatches(),renderOutstandingMatches();}catch(d){console[al(0x160)]('Error\x20rescinding\x20report:',d),alert('Failed\x20to\x20rescind\x20report.\x20Please\x20try\x20again.');}}export function editReport(a){const am=a48b,b=document[am(0x16b)](am(0x129)),c=document[am(0x16b)](am(0x187)),d=document['getElementById']('suicides'),e=document[am(0x16b)](am(0x1bd)),f=document[am(0x16b)]('loser-comment');b[am(0x16d)]['display']=am(0x1a5),document[am(0x16b)]('auth-warning')['style']['display']='none';if(a['loserScore'])c['value']=a[am(0x1be)];if(a['loserSuicides'])d[am(0x15c)]=a['loserSuicides'];if(a['mapPlayed'])e[am(0x15c)]=a[am(0x115)];if(a[am(0x17b)])f[am(0x15c)]=a[am(0x17b)];const g=document[am(0x16b)]('winner-username');g&&a[am(0x1a8)]&&Array[am(0x1e5)](g['options'])['forEach'](j=>{const an=am;j[an(0x1d3)]===a['winnerUsername']&&(j['selected']=!![]);});const h=document['getElementById']('subgame-type');h&&a['subgameType']&&(h['value']=a[am(0x181)]);b[am(0x117)]('data-edit-id',a['id']);const i=b[am(0x168)](am(0x1e4));i[am(0x119)]='Update\x20Report';if(!document[am(0x16b)](am(0x1d4))){const j=document['createElement']('button');j['id']='cancel-edit-btn',j['className']='btn',j[am(0x16d)]['backgroundColor']=am(0x15e),j['style'][am(0x134)]='10px',j[am(0x119)]=am(0x18c),j[am(0x1df)]=am(0x1b7),i[am(0x1dd)][am(0x166)](j,i),j[am(0x124)]('click',function(k){const ao=am;k[ao(0x19b)](),b['reset'](),b['removeAttribute']('data-edit-id'),i[ao(0x119)]=ao(0x157),this[ao(0x13f)](),initReportForm();});}b['scrollIntoView']({'behavior':'smooth'});}function initReportForm(){console['log']('Report\x20form\x20reset');}export function showMatchLightbox(a){const ap=a48b,b=document['getElementById'](ap(0x110));document[ap(0x16b)](ap(0x1cb))['textContent']=currentGameMode,document[ap(0x16b)](ap(0x176))[ap(0x119)]=a[ap(0x1a8)]||'Unknown',document['getElementById'](ap(0x1c9))['textContent']=a[ap(0x11c)]||ap(0x1e2),document[ap(0x16b)]('lightbox-loser-score')[ap(0x119)]=a[ap(0x1be)]||'0',document['getElementById'](ap(0x14b))[ap(0x119)]=a[ap(0x195)]||'0',document['getElementById'](ap(0x189))[ap(0x119)]=a[ap(0x115)]||ap(0x1e2),document['getElementById']('lightbox-comment')['textContent']=a[ap(0x17b)]||'No\x20comment',document['getElementById'](ap(0x128))[ap(0x119)]=a[ap(0x181)]||'Standard\x20Match',b[ap(0x161)][ap(0x1aa)](ap(0x125));}export function setCurrentGameMode(a){currentGameMode=a;}export function initOutstandingMatches(){document['addEventListener']('DOMContentLoaded',()=>{const aq=a48b,a=document[aq(0x16b)](aq(0x173)),b=document[aq(0x16b)]('view-outstanding-container'),c=document['getElementById'](aq(0x11a)),d=document['getElementById']('close-outstanding-btn'),e=document[aq(0x16b)](aq(0x177)),f=document['getElementById']('d1-mode'),g=document['getElementById']('d2-mode'),h=document['getElementById']('d3-mode');if(f)f['addEventListener'](aq(0x1c5),()=>{setCurrentGameMode('D1');});if(g)g['addEventListener']('click',()=>{setCurrentGameMode('D2');});if(h)h['addEventListener'](aq(0x1c5),()=>{setCurrentGameMode('D3');});auth['onAuthStateChanged'](k=>{const ar=aq;k?b[ar(0x16d)][ar(0x1ea)]=ar(0x1a5):b[ar(0x16d)][ar(0x1ea)]=ar(0x1bc);});a&&a[aq(0x124)](aq(0x1c5),async()=>{const as=aq;c[as(0x161)]['add'](as(0x125)),document['getElementById'](as(0x12a))[as(0x179)]='<div\x20class=\x22loading\x22>Loading\x20your\x20matches...</div>',await fetchOutstandingMatches(),renderOutstandingMatches();});d&&d[aq(0x124)]('click',()=>{const at=aq;c['classList']['remove'](at(0x125));});e&&e[aq(0x124)](aq(0x1c5),()=>{const au=aq;document[au(0x16b)]('report-lightbox')[au(0x161)][au(0x13f)](au(0x125));});c&&c[aq(0x124)](aq(0x1c5),k=>{const av=aq;k[av(0x130)]===c&&c['classList'][av(0x13f)](av(0x125));});const i=document['getElementById'](aq(0x110));i&&i[aq(0x124)](aq(0x1c5),k=>{const aw=aq;k['target']===i&&i[aw(0x161)]['remove'](aw(0x125));});const j=document['getElementById']('report-form');if(j){const k=j[aq(0x1b4)];j['onsubmit']=async function(l){const ax=aq;l['preventDefault']();const m=this[ax(0x16a)](ax(0x113));if(m)try{const n=document['getElementById']('loser-score')[ax(0x15c)],o=document[ax(0x16b)](ax(0x171))[ax(0x15c)],p=document[ax(0x16b)](ax(0x1bd))[ax(0x15c)],q=document[ax(0x16b)]('loser-comment')[ax(0x15c)],r=currentGameMode==='D1'?'pendingMatches':currentGameMode==='D2'?'pendingMatchesD2':ax(0x175),s=doc(db,r,m);await updateDoc(s,{'loserScore':Number(n),'loserSuicides':Number(o),'mapPlayed':p,'loserComment':q,'subgameType':document[ax(0x16b)](ax(0x136))['value'],'updatedAt':new Date()}),alert(ax(0x1ae)),this[ax(0x142)](),this['removeAttribute'](ax(0x113));const t=this['querySelector'](ax(0x1e4));t[ax(0x119)]='Report\x20Game';const u=document['getElementById']('cancel-edit-btn');if(u)u['remove']();}catch(v){console['error'](ax(0x1a9),v),document[ax(0x16b)]('report-error')[ax(0x119)]='Failed\x20to\x20update\x20report.\x20Please\x20try\x20again.';}else typeof k==='function'&&k[ax(0x153)](this,l);};}});}typeof window!==a48ay(0x1a7)&&(window[a48ay(0x1da)]=showMatchLightbox,window[a48ay(0x16c)]=editReport,window[a48ay(0x16f)]=rescindReport,window[a48ay(0x18b)]=fetchOutstandingMatches,window[a48ay(0x1ba)]=renderOutstandingMatches);initOutstandingMatches();