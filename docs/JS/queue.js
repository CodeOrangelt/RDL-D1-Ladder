function a0_0x1f51(_0x1188da,_0x14d062){const _0x93ee35=a0_0x2eae();return a0_0x1f51=function(_0x3eb191,_0x20522a){_0x3eb191=_0x3eb191-0x147;let _0x540cad=_0x93ee35[_0x3eb191];return _0x540cad;},a0_0x1f51(_0x1188da,_0x14d062);}const a0_0x1ceae0=a0_0x1f51;(function(_0x561627,_0x624af4){const _0x1b71c9=a0_0x1f51,_0x49f5c7=_0x561627();while(!![]){try{const _0x5396b0=parseInt(_0x1b71c9(0x155))/0x1*(-parseInt(_0x1b71c9(0x161))/0x2)+-parseInt(_0x1b71c9(0x14e))/0x3*(parseInt(_0x1b71c9(0x15c))/0x4)+parseInt(_0x1b71c9(0x14f))/0x5*(parseInt(_0x1b71c9(0x154))/0x6)+-parseInt(_0x1b71c9(0x160))/0x7+parseInt(_0x1b71c9(0x152))/0x8+-parseInt(_0x1b71c9(0x15a))/0x9+-parseInt(_0x1b71c9(0x147))/0xa*(-parseInt(_0x1b71c9(0x14a))/0xb);if(_0x5396b0===_0x624af4)break;else _0x49f5c7['push'](_0x49f5c7['shift']());}catch(_0x22cec9){_0x49f5c7['push'](_0x49f5c7['shift']());}}}(a0_0x2eae,0x5d915));const a0_0x20522a=(function(){let _0x531e01=!![];return function(_0x176f7d,_0x55e44c){const _0x162fb1=_0x531e01?function(){if(_0x55e44c){const _0x311fc6=_0x55e44c['apply'](_0x176f7d,arguments);return _0x55e44c=null,_0x311fc6;}}:function(){};return _0x531e01=![],_0x162fb1;};}()),a0_0x3eb191=a0_0x20522a(this,function(){const _0x317cf5=a0_0x1f51,_0xc34766=function(){let _0x2238ce;try{_0x2238ce=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x4dba20){_0x2238ce=window;}return _0x2238ce;},_0x205cd7=_0xc34766(),_0x2176d0=_0x205cd7['console']=_0x205cd7['console']||{},_0x56e717=[_0x317cf5(0x149),'warn','info','error',_0x317cf5(0x15b),_0x317cf5(0x159),'trace'];for(let _0xafcc9f=0x0;_0xafcc9f<_0x56e717['length'];_0xafcc9f++){const _0x19dd31=a0_0x20522a['constructor']['prototype']['bind'](a0_0x20522a),_0x169184=_0x56e717[_0xafcc9f],_0x4a9c54=_0x2176d0[_0x169184]||_0x19dd31;_0x19dd31['__proto__']=a0_0x20522a[_0x317cf5(0x150)](a0_0x20522a),_0x19dd31['toString']=_0x4a9c54['toString']['bind'](_0x4a9c54),_0x2176d0[_0x169184]=_0x19dd31;}});a0_0x3eb191();import{db}from'./firebase-config.js';import{collection,query,where,onSnapshot,updateDoc,doc}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const readyPlayersRef=collection(db,'readyPlayers'),activePlayersQuery=query(readyPlayersRef,where(a0_0x1ceae0(0x14c),'==',!![]));function updateQueueDisplay(_0xd9c56d){const _0x160a0a=a0_0x1ceae0,_0x8060c2=document['getElementById'](_0x160a0a(0x14d));if(!_0x8060c2)return;if(_0xd9c56d['length']===0x0){_0x8060c2['style']['display']='none';return;}_0x8060c2[_0x160a0a(0x148)]['display']=_0x160a0a(0x15f);let _0x1aca0d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22queue-box\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>Waiting\x20for\x20a\x20game</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22queue-list\x22>\x0a\x20\x20\x20\x20';_0xd9c56d['forEach'](_0x357ff9=>{const _0x250eb4=_0x160a0a;_0x1aca0d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-card\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-name\x22>'+(_0x357ff9[_0x250eb4(0x158)]||'Unknown\x20Player')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22queue-time\x22>'+formatQueueTime(_0x357ff9[_0x250eb4(0x156)])+_0x250eb4(0x157);}),_0x1aca0d+=_0x160a0a(0x153),_0x8060c2[_0x160a0a(0x151)]=_0x1aca0d;}function formatQueueTime(_0x56ecef){if(!_0x56ecef)return'Just\x20now';const _0x381281=_0x56ecef['toDate']?_0x56ecef['toDate']():new Date(_0x56ecef),_0x31fba7=new Date(),_0x8d5b0e=Math['floor']((_0x31fba7-_0x381281)/0xea60);if(_0x8d5b0e<0x1)return'Just\x20now';return _0x8d5b0e+'m\x20in\x20queue';}async function checkQueueTimeout(_0x212bed){if(!_0x212bed['lastUpdated'])return;const _0x19c9ff=_0x212bed['lastUpdated']['toDate']?_0x212bed['lastUpdated']['toDate']():new Date(_0x212bed['lastUpdated']),_0x2a20fb=new Date(),_0x53e390=Math['floor']((_0x2a20fb-_0x19c9ff)/0xea60);if(_0x53e390>=0x1e)try{const _0x884761=doc(db,'readyPlayers',_0x212bed['id']);await updateDoc(_0x884761,{'isReady':![]});}catch(_0x32c8ff){console['error']('Error\x20removing\x20player\x20from\x20queue:',_0x32c8ff);}}const unsubscribe=onSnapshot(readyPlayersRef,_0x4e6aa7=>{const _0x3bf390=a0_0x1ceae0,_0x6d95ec=[];_0x4e6aa7[_0x3bf390(0x15e)](_0x230737=>{const _0x4b8ed6=_0x3bf390,_0x72732b=_0x230737['data']();if(_0x72732b[_0x4b8ed6(0x14c)]===!![]){const _0x66c5c={'id':_0x230737['id'],'username':_0x72732b[_0x4b8ed6(0x158)],'lastUpdated':_0x72732b['lastUpdated']||new Date()};_0x6d95ec['push'](_0x66c5c),checkQueueTimeout(_0x66c5c);}}),updateQueueDisplay(_0x6d95ec);},_0x450566=>{const _0x1201ef=a0_0x1ceae0;console[_0x1201ef(0x14b)]('Error\x20in\x20queue\x20listener:',_0x450566);});function a0_0x2eae(){const _0x253d74=['forEach','block','2872128soiLLI','626DSfgjO','4430fWTCUp','style','log','53108qxFqeq','error','isReady','queue-container','375calCDq','32935EXIzsa','bind','innerHTML','1494952hJibWf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','114xcPwaE','1703JDHbsC','lastUpdated','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','username','table','4894695NHBLVj','exception','18572MzewYy','unload'];a0_0x2eae=function(){return _0x253d74;};return a0_0x2eae();}window['addEventListener'](a0_0x1ceae0(0x15d),()=>{unsubscribe();});