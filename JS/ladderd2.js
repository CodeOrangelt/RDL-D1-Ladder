(function(_0x3ae3c4,_0x49f4e4){const _0x5de9b7=a32_0x2881,_0x4c251e=_0x3ae3c4();while(!![]){try{const _0xd920c3=parseInt(_0x5de9b7(0x108))/0x1+parseInt(_0x5de9b7(0x115))/0x2+-parseInt(_0x5de9b7(0xf2))/0x3+-parseInt(_0x5de9b7(0x13b))/0x4+parseInt(_0x5de9b7(0xd3))/0x5+-parseInt(_0x5de9b7(0xe5))/0x6+-parseInt(_0x5de9b7(0xef))/0x7*(-parseInt(_0x5de9b7(0x145))/0x8);if(_0xd920c3===_0x49f4e4)break;else _0x4c251e['push'](_0x4c251e['shift']());}catch(_0x13dcc8){_0x4c251e['push'](_0x4c251e['shift']());}}}(a32_0x26f1,0xc668f));function a32_0x2881(_0x176541,_0x2b9347){const _0x32ae03=a32_0x26f1();return a32_0x2881=function(_0x42b166,_0x57996f){_0x42b166=_0x42b166-0xca;let _0x4db33a=_0x32ae03[_0x42b166];return _0x4db33a;},a32_0x2881(_0x176541,_0x2b9347);}const a32_0x4ed3d8=(function(){let _0x2f574b=!![];return function(_0x1e61a1,_0x4bf1ab){const _0x4854e0=_0x2f574b?function(){const _0x2a2a6f=a32_0x2881;if(_0x4bf1ab){const _0x4e32c8=_0x4bf1ab[_0x2a2a6f(0x113)](_0x1e61a1,arguments);return _0x4bf1ab=null,_0x4e32c8;}}:function(){};return _0x2f574b=![],_0x4854e0;};}()),a32_0x2df2e5=a32_0x4ed3d8(this,function(){const _0x4f66b4=a32_0x2881;return a32_0x2df2e5[_0x4f66b4(0x117)]()['search'](_0x4f66b4(0xfb))['toString']()[_0x4f66b4(0x140)](a32_0x2df2e5)[_0x4f66b4(0xdb)](_0x4f66b4(0xfb));});a32_0x2df2e5();const a32_0x57996f=(function(){let _0x28c2d4=!![];return function(_0x4c016d,_0x5be8ec){const _0x5122e2=_0x28c2d4?function(){if(_0x5be8ec){const _0x392e56=_0x5be8ec['apply'](_0x4c016d,arguments);return _0x5be8ec=null,_0x392e56;}}:function(){};return _0x28c2d4=![],_0x5122e2;};}()),a32_0x42b166=a32_0x57996f(this,function(){const _0x2a1227=a32_0x2881,_0x1be236=function(){const _0x58df2f=a32_0x2881;let _0x4923c4;try{_0x4923c4=Function(_0x58df2f(0x135)+_0x58df2f(0x10d)+');')();}catch(_0x281a95){_0x4923c4=window;}return _0x4923c4;},_0x28e8cb=_0x1be236(),_0x299ca2=_0x28e8cb[_0x2a1227(0x126)]=_0x28e8cb[_0x2a1227(0x126)]||{},_0x1f9bf6=[_0x2a1227(0xe1),_0x2a1227(0xd1),_0x2a1227(0x11b),_0x2a1227(0xfe),_0x2a1227(0xce),'table',_0x2a1227(0x130)];for(let _0x27b10d=0x0;_0x27b10d<_0x1f9bf6[_0x2a1227(0x13e)];_0x27b10d++){const _0x7f84a5=a32_0x57996f[_0x2a1227(0x140)][_0x2a1227(0xe6)][_0x2a1227(0xd8)](a32_0x57996f),_0x42f1e4=_0x1f9bf6[_0x27b10d],_0x1abbfe=_0x299ca2[_0x42f1e4]||_0x7f84a5;_0x7f84a5[_0x2a1227(0xdf)]=a32_0x57996f['bind'](a32_0x57996f),_0x7f84a5[_0x2a1227(0x117)]=_0x1abbfe[_0x2a1227(0x117)]['bind'](_0x1abbfe),_0x299ca2[_0x42f1e4]=_0x7f84a5;}});a32_0x42b166();import{collection,getDocs,deleteDoc,doc,getDoc,query,where,updateDoc,Timestamp,onSnapshot,orderBy,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db}from'./firebase-config.js';import{getRankStyle}from'./ranks.js';import a32_0x40aa8e from'./firebase-idle-wrapper.js';const playerCacheD2={'data':null,'timestamp':0x0},CACHE_DURATION=0x7530;async function displayLadderD2(_0x208c19=![]){const _0xf5967e=a32_0x2881,_0x25f6ae=document[_0xf5967e(0xf9)](_0xf5967e(0x128));if(!_0x25f6ae){console[_0xf5967e(0xfe)]('D2\x20Ladder\x20table\x20body\x20not\x20found');return;}_0x25f6ae[_0xf5967e(0x136)]=_0xf5967e(0x127);try{const _0x110a1d=Date[_0xf5967e(0x112)]();if(!_0x208c19&&playerCacheD2['data']&&_0x110a1d-playerCacheD2['timestamp']<CACHE_DURATION){updateLadderDisplayD2(playerCacheD2[_0xf5967e(0xcf)]);return;}const _0x12afee=collection(db,_0xf5967e(0xfc)),_0x29fbba=query(_0x12afee,orderBy(_0xf5967e(0xf1),'asc')),_0x4b0901=await a32_0x40aa8e[_0xf5967e(0x12f)](_0x12afee),_0x3abe52=[];_0x4b0901[_0xf5967e(0x124)](_0x30217f=>{const _0x300287=_0xf5967e,_0x422ad6=_0x30217f[_0x300287(0xcf)]();_0x422ad6[_0x300287(0x106)]&&_0x3abe52[_0x300287(0x137)]({..._0x422ad6,'id':_0x30217f['id'],'elo':_0x422ad6[_0x300287(0xde)]||0x0,'position':_0x422ad6['position']||Number[_0x300287(0xe7)]});});const _0x5b1208=collection(db,'userProfiles'),_0x93d7b3=await getDocs(_0x5b1208),_0x38cd4c=new Map();_0x93d7b3['forEach'](_0x34df21=>{const _0x3a62bb=_0xf5967e,_0x2d5fcb=_0x34df21[_0x3a62bb(0xcf)]();_0x2d5fcb['username']&&_0x38cd4c[_0x3a62bb(0x12e)](_0x2d5fcb[_0x3a62bb(0x106)]['toLowerCase'](),_0x2d5fcb);});for(const _0x5e6005 of _0x3abe52){const _0x433589=_0x5e6005[_0xf5967e(0x106)][_0xf5967e(0x13d)]();if(_0x38cd4c[_0xf5967e(0xea)](_0x433589)){const _0x4cc704=_0x38cd4c[_0xf5967e(0x12b)](_0x433589);_0x4cc704[_0xf5967e(0xee)]&&(_0x5e6005[_0xf5967e(0xee)]=_0x4cc704[_0xf5967e(0xee)][_0xf5967e(0x13d)]());}}const _0x4908f1=_0x3abe52[_0xf5967e(0x10f)](_0x1a84ab=>_0x1a84ab[_0xf5967e(0x106)]),_0x31ebca=await fetchBatchMatchStatsD2(_0x4908f1);_0x3abe52[_0xf5967e(0xd2)]((_0x5982da,_0x4bbb0a)=>{const _0x579de9=_0xf5967e,_0x5bfd00=_0x31ebca[_0x579de9(0x12b)](_0x5982da[_0x579de9(0x106)])?.[_0x579de9(0x105)]||0x0,_0x444b84=_0x31ebca[_0x579de9(0x12b)](_0x4bbb0a[_0x579de9(0x106)])?.[_0x579de9(0x105)]||0x0;if(_0x5bfd00===0x0!==(_0x444b84===0x0))return _0x5bfd00===0x0?0x1:-0x1;return(_0x5982da[_0x579de9(0xf1)]||0x3e7)-(_0x4bbb0a['position']||0x3e7);}),_0x3abe52[_0xf5967e(0x124)]((_0x1cd48f,_0x5e4dbc)=>{const _0x26ecfc=_0xf5967e;_0x1cd48f[_0x26ecfc(0xf1)]=_0x5e4dbc+0x1;}),playerCacheD2[_0xf5967e(0xcf)]=_0x3abe52,playerCacheD2[_0xf5967e(0x123)]=_0x110a1d,updateLadderDisplayD2(_0x3abe52);}catch(_0x22e492){console[_0xf5967e(0xfe)](_0xf5967e(0xe4),_0x22e492),_0x25f6ae[_0xf5967e(0x136)]=_0xf5967e(0xf4)+_0x22e492[_0xf5967e(0x11e)]+_0xf5967e(0x103);}}function getNextAvailablePositionD2(_0x3aa2f9){const _0x17cbfa=a32_0x2881;if(_0x3aa2f9[_0x17cbfa(0x13e)]===0x0)return 0x1;let _0xbf92d0=0x0;return _0x3aa2f9['forEach'](_0x4c937c=>{const _0x32b0c1=_0x17cbfa;_0x4c937c[_0x32b0c1(0xf1)]&&typeof _0x4c937c[_0x32b0c1(0xf1)]===_0x32b0c1(0x141)&&_0x4c937c[_0x32b0c1(0xf1)]>_0xbf92d0&&(_0xbf92d0=_0x4c937c[_0x32b0c1(0xf1)]);}),_0xbf92d0+0x1;}async function updatePlayerPositions(_0x187a6f,_0xc0991b){const _0x251a8a=a32_0x2881;try{const _0x3ef2e0=collection(db,'playersD2'),_0x86895f=await getDocs(_0x3ef2e0),_0x5268aa=[];_0x86895f['forEach'](_0x2f1812=>{const _0x445cfe=a32_0x2881;_0x5268aa['push']({'id':_0x2f1812['id'],..._0x2f1812[_0x445cfe(0xcf)]()});});const _0x23bbd5=_0x5268aa['find'](_0xc1b807=>_0xc1b807[_0x251a8a(0x106)]===_0x187a6f),_0x4ce34c=_0x5268aa[_0x251a8a(0xfa)](_0x2d4538=>_0x2d4538[_0x251a8a(0x106)]===_0xc0991b);if(!_0x23bbd5||!_0x4ce34c){console[_0x251a8a(0xfe)](_0x251a8a(0x119));return;}if(_0x23bbd5[_0x251a8a(0xf1)]>_0x4ce34c[_0x251a8a(0xf1)]){const _0x2c8c2d=_0x4ce34c['position'];for(const _0x51b55a of _0x5268aa){_0x51b55a[_0x251a8a(0xf1)]>=_0x4ce34c[_0x251a8a(0xf1)]&&_0x51b55a[_0x251a8a(0xf1)]<_0x23bbd5[_0x251a8a(0xf1)]&&_0x51b55a['username']!==_0x187a6f&&await updateDoc(doc(db,_0x251a8a(0xfc),_0x51b55a['id']),{'position':_0x51b55a[_0x251a8a(0xf1)]+0x1});}await updateDoc(doc(db,_0x251a8a(0xfc),_0x23bbd5['id']),{'position':_0x2c8c2d});if(_0x2c8c2d===0x1){const _0x14a172=doc(db,_0x251a8a(0xfc),_0x23bbd5['id']),_0xbfe05c=await getDoc(_0x14a172);!_0xbfe05c[_0x251a8a(0xcf)]()[_0x251a8a(0xe2)]&&await updateDoc(_0x14a172,{'firstPlaceDate':Timestamp[_0x251a8a(0x112)]()});}if(_0x4ce34c[_0x251a8a(0xf1)]===0x1){const _0x36d783=doc(db,_0x251a8a(0xfc),_0x4ce34c['id']);await updateDoc(_0x36d783,{'firstPlaceDate':null});}playerCacheD2[_0x251a8a(0x123)]=0x0;}}catch(_0x47bdb8){console[_0x251a8a(0xfe)]('Error\x20updating\x20D2\x20player\x20positions:',_0x47bdb8);}}function a32_0x26f1(){const _0x53a0ed=['firstPlaceDate','approvedMatchesD2','Error\x20loading\x20D2\x20ladder:','4970928koIQIQ','prototype','MAX_SAFE_INTEGER','playerUsername','winRate','has','toFixed','Unranked','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','country','2611rMXUns','player','position','942519DOPvMf','#4CAF50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x228\x22\x20style=\x22text-align:\x20center;\x20color:\x20red;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20D2\x20ladder\x20data:\x20','matchId',';\x20text-decoration:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22trend-indicator\x22\x20style=\x22margin-left:\x205px;\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','desc','querySelector','find','(((.+)+)+)+$','playersD2','textContent','error','gameMode','.png\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22','0.85em','totalKills','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','includes','totalMatches','username','visibility','369150tJgLaP','<img\x20src=\x22../images/flags/','opacity','totalDeaths','eloHistoryD2','{}.constructor(\x22return\x20this\x22)(\x20)','fontSize','map','Gold','winnerUsername','now','apply','td:nth-child(3)','3051548mquZqP','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22profile.html?username=','toString','visible','Could\x20not\x20find\x20winner\x20or\x20loser\x20in\x20D2\x20players\x20list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Rank</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Username</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>ELO</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Matches</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Wins</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Losses</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>K/D</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Win\x20Rate</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','info','join',';\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22elo-container\x22\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22elo-value\x22>','message','size','%</td>\x0a\x20\x20\x20\x20</tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','timestamp','forEach','#CD7F32','console','<tr><td\x20colspan=\x228\x22\x20class=\x22loading-cell\x22>Loading\x20D2\x20ladder\x20data...</td></tr>','#ladder-d2\x20tbody','querySelectorAll','Silver','get','&ladder=d2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22color:\x20','Emerald','set','getDocuments','trace','elo','D2:\x20Found','fontWeight','losses','return\x20(function()\x20','innerHTML','push','fallback\x20entries','#ladder-d2\x20thead\x20tr','inline','4404256IREqCY','style','toLowerCase','length','change','constructor','number','seconds','Bronze','gray','6008GVJVyI','#50C878','eloHistory','color','Error\x20fetching\x20batch\x20D2\x20match\x20stats:','exception','data','kda','warn','sort','4406825JQxcXD','newElo','toDate','catch','previousElo','bind','wins','winnerScore','search','D2:\x20Error\x20fetching\x20ELO\x20history:','\x20fallback\x20ELO\x20change:\x20','eloRating','__proto__','loserScore','log'];a32_0x26f1=function(){return _0x53a0ed;};return a32_0x26f1();}function calculateStreakDays(_0x57c737){const _0x3e4c45=a32_0x2881;if(!_0x57c737)return 0x0;const _0x2d669b=_0x57c737[_0x3e4c45(0xd5)](),_0x12048c=new Date(),_0x42f132=Math['abs'](_0x12048c-_0x2d669b);return Math['ceil'](_0x42f132/(0x3e8*0x3c*0x3c*0x18));}function getPlayerRankNameD2(_0x941eb5){const _0x3a5681=a32_0x2881;if(_0x941eb5>=0x834)return _0x3a5681(0x12d);if(_0x941eb5>=0x708)return _0x3a5681(0x110);if(_0x941eb5>=0x640)return _0x3a5681(0x12a);if(_0x941eb5>=0x578)return _0x3a5681(0x143);return _0x3a5681(0xec);}async function updateLadderDisplayD2(_0x3d41f2){const _0x240b23=a32_0x2881;_0x3d41f2[_0x240b23(0xd2)]((_0x4ce090,_0x5efd8b)=>_0x4ce090[_0x240b23(0xf1)]-_0x5efd8b[_0x240b23(0xf1)]);const _0x5f2776=document['querySelector'](_0x240b23(0x128));if(!_0x5f2776)return;_0x5f2776[_0x240b23(0x136)]='';const _0x210a12=_0x3d41f2[_0x240b23(0x10f)](_0x45712e=>_0x45712e[_0x240b23(0x106)]),_0x41a3bc=await fetchBatchMatchStatsD2(_0x210a12),_0x294f7a=document[_0x240b23(0xf9)](_0x240b23(0x139));_0x294f7a&&(_0x294f7a['innerHTML']=_0x240b23(0x11a));const _0x2fd7ea=_0x3d41f2['map'](_0x5ad6da=>{const _0x22bedd=_0x240b23,_0x1881f3=_0x41a3bc[_0x22bedd(0x12b)](_0x5ad6da[_0x22bedd(0x106)])||{'totalMatches':0x0,'wins':0x0,'losses':0x0,'kda':0x0,'winRate':0x0,'totalKills':0x0,'totalDeaths':0x0};return createPlayerRowD2(_0x5ad6da,_0x1881f3);})[_0x240b23(0x11c)]('');_0x5f2776[_0x240b23(0x136)]=_0x2fd7ea,getPlayersLastEloChangesD2(_0x210a12)['then'](_0x1ca9d2=>{const _0x49983c=_0x240b23,_0x5c8387=new Map();_0x5f2776[_0x49983c(0x129)]('tr')[_0x49983c(0x124)]((_0x393613,_0x2046b0)=>{const _0x29c297=_0x49983c;_0x2046b0<_0x210a12['length']&&_0x5c8387[_0x29c297(0x12e)](_0x210a12[_0x2046b0],_0x393613);}),_0x1ca9d2['forEach']((_0x47b2ce,_0x161295)=>{const _0x353df0=_0x49983c,_0x47d01f=_0x5c8387[_0x353df0(0x12b)](_0x161295);if(_0x47d01f&&_0x47b2ce!==0x0){const _0x3b0891=_0x47d01f[_0x353df0(0xf9)](_0x353df0(0x114));if(_0x3b0891){const _0x17f440=_0x47b2ce>0x0?'+'+_0x47b2ce:''+_0x47b2ce,_0x39edda=_0x3b0891[_0x353df0(0xf9)]('.trend-indicator');_0x39edda&&(_0x39edda[_0x353df0(0xfd)]=_0x17f440,_0x39edda[_0x353df0(0x13c)][_0x353df0(0xcc)]=_0x47b2ce>0x0?_0x353df0(0xf3):'#F44336',_0x39edda[_0x353df0(0x13c)][_0x353df0(0x133)]='bold',_0x39edda[_0x353df0(0x13c)][_0x353df0(0x10e)]=_0x353df0(0x101),_0x39edda['style']['display']=_0x353df0(0x13a),_0x39edda['style'][_0x353df0(0x107)]=_0x353df0(0x118),_0x39edda['style'][_0x353df0(0x10a)]='1');}}});})[_0x240b23(0xd6)](_0x510262=>console[_0x240b23(0xfe)]('Error\x20updating\x20D2\x20ELO\x20trend\x20indicators:',_0x510262));}function createPlayerRowD2(_0x43cdb1,_0x23b8eb){const _0x32c8bf=a32_0x2881,_0x3ceb65=parseFloat(_0x43cdb1[_0x32c8bf(0x131)])||0x0;let _0x2359d6=_0x32c8bf(0x144);if(_0x3ceb65>=0x7d0)_0x2359d6=_0x32c8bf(0xca);else{if(_0x3ceb65>=0x708)_0x2359d6='#FFD700';else{if(_0x3ceb65>=0x640)_0x2359d6='#C0C0C0';else _0x3ceb65>=0x578&&(_0x2359d6=_0x32c8bf(0x125));}}let _0x1ab3e5='';return _0x43cdb1[_0x32c8bf(0xee)]&&(_0x1ab3e5=_0x32c8bf(0x109)+_0x43cdb1[_0x32c8bf(0xee)][_0x32c8bf(0x13d)]()+_0x32c8bf(0x100)+_0x43cdb1[_0x32c8bf(0xee)]+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22player-flag\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22margin-left:\x205px;\x20vertical-align:\x20middle;\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>'),_0x32c8bf(0x122)+_0x43cdb1['position']+_0x32c8bf(0x116)+encodeURIComponent(_0x43cdb1[_0x32c8bf(0x106)])+_0x32c8bf(0x12c)+_0x2359d6+_0x32c8bf(0xf6)+_0x43cdb1['username']+_0x32c8bf(0x121)+_0x1ab3e5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22color:\x20'+_0x2359d6+_0x32c8bf(0x11d)+_0x3ceb65+_0x32c8bf(0xf7)+_0x23b8eb[_0x32c8bf(0x105)]+_0x32c8bf(0xed)+_0x23b8eb[_0x32c8bf(0xd9)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x23b8eb[_0x32c8bf(0x134)]+_0x32c8bf(0xed)+_0x23b8eb[_0x32c8bf(0xd0)]+_0x32c8bf(0xed)+_0x23b8eb['winRate']+_0x32c8bf(0x120);}async function getPlayersLastEloChangesD2(_0x3f1ab6){const _0x59bf06=a32_0x2881,_0x31efcf=new Map();_0x3f1ab6['forEach'](_0x18b269=>_0x31efcf[_0x59bf06(0x12e)](_0x18b269,0x0));try{const _0x229b1d=collection(db,_0x59bf06(0x10c)),_0xb6ef40=query(_0x229b1d,orderBy('timestamp',_0x59bf06(0xf8)),limit(0x64)),_0x4481d4=await getDocs(_0xb6ef40),_0x4b884=new Map(),_0x416ace=await getDocs(collection(db,_0x59bf06(0xfc)));_0x416ace[_0x59bf06(0x124)](_0x162169=>{const _0x57f5da=_0x59bf06,_0x2a1d31=_0x162169[_0x57f5da(0xcf)]();_0x2a1d31[_0x57f5da(0x106)]&&_0x4b884['set'](_0x162169['id'],_0x2a1d31['username']);});const _0x2ed62b=new Map();_0x4481d4[_0x59bf06(0x124)](_0x3d6c47=>{const _0x18d29b=_0x59bf06,_0x40e179=_0x3d6c47[_0x18d29b(0xcf)]();let _0xca4935=_0x40e179['username']||_0x40e179[_0x18d29b(0xe8)];!_0xca4935&&_0x40e179[_0x18d29b(0xf0)]&&_0x4b884[_0x18d29b(0xea)](_0x40e179[_0x18d29b(0xf0)])&&(_0xca4935=_0x4b884[_0x18d29b(0x12b)](_0x40e179['player']));if(!_0xca4935&&_0x40e179[_0x18d29b(0xf5)]){}_0xca4935&&_0x3f1ab6[_0x18d29b(0x104)](_0xca4935)&&(!_0x2ed62b[_0x18d29b(0xea)](_0xca4935)&&_0x2ed62b[_0x18d29b(0x12e)](_0xca4935,[]),_0x2ed62b['get'](_0xca4935)[_0x18d29b(0x137)]({..._0x40e179,'timestamp':_0x40e179['timestamp']?.[_0x18d29b(0x142)]||0x0,'username':_0xca4935}));}),_0x2ed62b['forEach']((_0x2509ab,_0x5b6ce4)=>{const _0x2e3b66=_0x59bf06;if(_0x2509ab[_0x2e3b66(0x13e)]>0x0){_0x2509ab[_0x2e3b66(0xd2)]((_0xf1275b,_0x2aac1d)=>_0x2aac1d[_0x2e3b66(0x123)]-_0xf1275b['timestamp']);const _0x50774d=_0x2509ab[_0x2e3b66(0xfa)](_0xf80950=>_0xf80950['change']!==undefined||_0xf80950['newElo']!==undefined&&_0xf80950[_0x2e3b66(0xd7)]!==undefined);if(_0x50774d){let _0x14fcb1;if(_0x50774d['change']!==undefined)_0x14fcb1=_0x50774d[_0x2e3b66(0x13f)];else _0x50774d[_0x2e3b66(0xd4)]!==undefined&&_0x50774d['previousElo']!==undefined&&(_0x14fcb1=_0x50774d[_0x2e3b66(0xd4)]-_0x50774d['previousElo']);_0x14fcb1!==undefined&&_0x31efcf[_0x2e3b66(0x12e)](_0x5b6ce4,_0x14fcb1);}}});if(_0x2ed62b[_0x59bf06(0x11f)]===0x0){const _0x262f72=collection(db,_0x59bf06(0xcb)),_0x2a196d=query(_0x262f72,where(_0x59bf06(0xff),'==','D2'),orderBy('timestamp',_0x59bf06(0xf8)),limit(0x32));try{const _0x5e7013=await getDocs(_0x2a196d);console['log'](_0x59bf06(0x132),_0x5e7013[_0x59bf06(0x11f)],_0x59bf06(0x138)),_0x5e7013['forEach'](_0x5ee52a=>{const _0x6a3bf0=_0x59bf06,_0x5b0f2f=_0x5ee52a[_0x6a3bf0(0xcf)](),_0x2a7153=_0x5b0f2f[_0x6a3bf0(0x106)]||_0x5b0f2f[_0x6a3bf0(0xe8)];if(_0x2a7153&&_0x3f1ab6[_0x6a3bf0(0x104)](_0x2a7153)){const _0x718bb2=_0x5b0f2f[_0x6a3bf0(0x13f)]||(_0x5b0f2f['newElo']!==undefined&&_0x5b0f2f[_0x6a3bf0(0xd7)]!==undefined?_0x5b0f2f[_0x6a3bf0(0xd4)]-_0x5b0f2f[_0x6a3bf0(0xd7)]:0x0);_0x718bb2!==0x0&&(_0x31efcf[_0x6a3bf0(0x12e)](_0x2a7153,_0x718bb2),console[_0x6a3bf0(0xe1)]('D2:\x20'+_0x2a7153+_0x6a3bf0(0xdd)+_0x718bb2));}});}catch(_0x24ec62){}}}catch(_0x186af6){console[_0x59bf06(0xfe)](_0x59bf06(0xdc),_0x186af6);}return _0x31efcf;}async function fetchBatchMatchStatsD2(_0x344023){const _0x42bcfa=a32_0x2881,_0x5a3824=new Map();try{_0x344023[_0x42bcfa(0x124)](_0xdd72f9=>{_0x5a3824['set'](_0xdd72f9,{'totalMatches':0x0,'wins':0x0,'losses':0x0,'totalKills':0x0,'totalDeaths':0x0,'kda':0x0,'winRate':0x0});});const _0x3f07dc=collection(db,_0x42bcfa(0xe3)),_0x355faf=await getDocs(_0x3f07dc);_0x355faf[_0x42bcfa(0x124)](_0x209f50=>{const _0x4f9579=_0x42bcfa,_0x29e0f6=_0x209f50[_0x4f9579(0xcf)](),_0x484b88=_0x29e0f6[_0x4f9579(0x111)],_0x184bf1=_0x29e0f6['loserUsername'];if(_0x344023[_0x4f9579(0x104)](_0x484b88)){const _0x497cf5=_0x5a3824['get'](_0x484b88);_0x497cf5['wins']++,_0x497cf5[_0x4f9579(0x105)]++,_0x497cf5['totalKills']+=parseInt(_0x29e0f6[_0x4f9579(0xda)])||0x0,_0x497cf5[_0x4f9579(0x10b)]+=parseInt(_0x29e0f6[_0x4f9579(0xe0)])||0x0;}if(_0x344023[_0x4f9579(0x104)](_0x184bf1)){const _0x163d10=_0x5a3824[_0x4f9579(0x12b)](_0x184bf1);_0x163d10['losses']++,_0x163d10[_0x4f9579(0x105)]++,_0x163d10[_0x4f9579(0x102)]+=parseInt(_0x29e0f6[_0x4f9579(0xe0)])||0x0,_0x163d10[_0x4f9579(0x10b)]+=parseInt(_0x29e0f6[_0x4f9579(0xda)])||0x0;}}),_0x344023['forEach'](_0x14e854=>{const _0x5219ef=_0x42bcfa,_0x517d2f=_0x5a3824['get'](_0x14e854);_0x517d2f[_0x5219ef(0xd0)]=_0x517d2f[_0x5219ef(0x10b)]>0x0?(_0x517d2f['totalKills']/_0x517d2f[_0x5219ef(0x10b)])[_0x5219ef(0xeb)](0x2):_0x517d2f[_0x5219ef(0x102)][_0x5219ef(0xeb)](0x2),_0x517d2f[_0x5219ef(0xe9)]=_0x517d2f[_0x5219ef(0x105)]>0x0?(_0x517d2f['wins']/_0x517d2f[_0x5219ef(0x105)]*0x64)['toFixed'](0x1):0x0;});}catch(_0x2c0030){console[_0x42bcfa(0xfe)](_0x42bcfa(0xcd),_0x2c0030);}return _0x5a3824;}export{displayLadderD2,updatePlayerPositions};