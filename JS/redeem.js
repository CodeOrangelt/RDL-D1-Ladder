const a46_0x3e4683=a46_0x5afa,a46_0x5b60cb=(function(){let _0x400572=!![];return function(_0x4ae957,_0x2b0348){const _0x4cfa0b=_0x400572?function(){const _0x12e5bf=a46_0x5afa;if(_0x2b0348){const _0x3ae08c=_0x2b0348[_0x12e5bf(0x23e)](_0x4ae957,arguments);return _0x2b0348=null,_0x3ae08c;}}:function(){};return _0x400572=![],_0x4cfa0b;};}()),a46_0x2ee1f1=a46_0x5b60cb(this,function(){const _0x23f97c=a46_0x5afa;let _0x300b81;try{const _0xef376e=Function('return\x20(function()\x20'+_0x23f97c(0x267)+');');_0x300b81=_0xef376e();}catch(_0x28bef0){_0x300b81=window;}const _0x171b48=_0x300b81['console']=_0x300b81[_0x23f97c(0x26f)]||{},_0x43ae77=['log','warn',_0x23f97c(0x21a),'error','exception','table','trace'];for(let _0x2a3445=0x0;_0x2a3445<_0x43ae77['length'];_0x2a3445++){const _0x239f77=a46_0x5b60cb[_0x23f97c(0x245)]['prototype']['bind'](a46_0x5b60cb),_0x40ab65=_0x43ae77[_0x2a3445],_0xcc43ad=_0x171b48[_0x40ab65]||_0x239f77;_0x239f77['__proto__']=a46_0x5b60cb['bind'](a46_0x5b60cb),_0x239f77['toString']=_0xcc43ad['toString'][_0x23f97c(0x1f1)](_0xcc43ad),_0x171b48[_0x40ab65]=_0x239f77;}});a46_0x2ee1f1();import{getAuth,onAuthStateChanged}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,updateDoc,collection,addDoc,serverTimestamp}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{clearTokenCache}from'./tokens.js';const auth=getAuth(),db=getFirestore(),THEMES={'default':{'price':0x0,'name':a46_0x3e4683(0x211),'description':'Rock\x20texture\x20with\x20a\x20sleek\x20nav\x20and\x20footer'},'purple':{'price':0x96,'name':'Purple','description':a46_0x3e4683(0x1fe)},'cyberpunk':{'price':0x190,'name':a46_0x3e4683(0x208),'description':'This\x20theme\x20makes\x20me\x20happy'},'emerald':{'price':0x3e8,'name':'Emerald','description':a46_0x3e4683(0x1f0)},'gold':{'price':0x320,'name':'Gold','description':'Only\x20the\x20best\x20get\x20this\x20one'},'contrast':{'price':0x0,'name':a46_0x3e4683(0x21c),'description':a46_0x3e4683(0x1e2)},'ocean':{'price':0x12c,'name':'Blue','description':'This\x20one\x20is\x20really\x20pretty'},'volcanic':{'price':0x1f4,'name':'Red','description':'For\x20the\x20angry\x20type.'}},TOKENS={'blob01':{'price':0x1f4,'name':a46_0x3e4683(0x242),'description':'A\x20mysterious\x20purple\x20blob\x20token','image':'../images/tokens/blob01.gif','category':'blob'},'blob02':{'price':0x3e8,'name':'Blob\x20Token\x202','description':'Another\x20enigmatic\x20blob\x20creature','image':'../images/tokens/blob02.gif','category':a46_0x3e4683(0x243)},'blob03':{'price':0x7d0,'name':'Blob\x20Token\x203','description':'The\x20final\x20blob\x20in\x20the\x20collection','image':'../images/tokens/blob03.gif','category':a46_0x3e4683(0x243)},'cloak':{'price':0x1f4,'name':'Cloaking\x20Device','description':a46_0x3e4683(0x1ff),'image':a46_0x3e4683(0x1f4),'category':'special'},'gauge18':{'price':0x320,'name':a46_0x3e4683(0x1f8),'description':'Monitor\x20your\x20ship\x27s\x20energy\x20levels','image':'../images/tokens/gauge18.gif','category':'equipment'},'fusion':{'price':0x15e,'name':'Fusion\x20Cannon','description':'Devastating\x20fusion\x20weapon\x20technology','image':'../images/tokens/subgame/fusion.gif','category':a46_0x3e4683(0x1f2)},'mmissile':{'price':0x320,'name':'Mega\x20Missile','description':'Heavy\x20ordinance\x20for\x20tough\x20situations','image':'../images/tokens/subgame/mmissile.gif','category':a46_0x3e4683(0x1f2)},'pbomb':{'price':0x15e,'name':'Proximity\x20Bomb','description':'Strategic\x20explosive\x20device','image':'../images/tokens/subgame/pbomb.gif','category':'weapon'},'pwr01':{'price':0x64,'name':'Energy','description':'Enhanced\x20energy\x20generation\x20unit','image':'../images/tokens/subgame/pwr01.gif','category':'powerup'},'pwr02':{'price':0x258,'name':'Shield\x20Orb','description':a46_0x3e4683(0x259),'image':a46_0x3e4683(0x212),'category':a46_0x3e4683(0x260)},'smissile':{'price':0x28a,'name':a46_0x3e4683(0x20d),'description':'Intelligent\x20targeting\x20system','image':a46_0x3e4683(0x1e9),'category':'weapon'}};let userData={'points':0x0,'inventory':[],'isAdmin':![]},storeContainer,pointsDisplay,authWarning;function a46_0x5afa(_0x46c1d1,_0x339e73){const _0x2ee1f1=a46_0x2153();return a46_0x5afa=function(_0x5b60cb,_0x70a70f){_0x5b60cb=_0x5b60cb-0x1df;let _0x21533f=_0x2ee1f1[_0x5b60cb];return _0x21533f;},a46_0x5afa(_0x46c1d1,_0x339e73);}document['addEventListener']('DOMContentLoaded',()=>{const _0x3650d6=a46_0x3e4683;console[_0x3650d6(0x231)]('üè™\x20Redeem\x20store\x20initializing...'),storeContainer=document['getElementById']('store-content'),pointsDisplay=document[_0x3650d6(0x25d)]('user-points'),authWarning=document['getElementById']('auth-warning'),initAuthListener(),buildStoreUI();});function initAuthListener(){onAuthStateChanged(auth,async _0x4f4b82=>{const _0x4a7f85=a46_0x5afa;if(_0x4f4b82){console['log']('‚úÖ\x20User\x20authenticated:',_0x4f4b82['displayName']||_0x4f4b82['email']);if(authWarning)authWarning['style'][_0x4a7f85(0x24e)]='none';if(storeContainer)storeContainer['style'][_0x4a7f85(0x24e)]='block';await loadUserData(_0x4f4b82),updateThemeButtons(),updateTokenButtons();}else{console['log']('‚ùå\x20User\x20not\x20authenticated');if(authWarning)authWarning['style']['display']=_0x4a7f85(0x225);if(storeContainer)storeContainer[_0x4a7f85(0x24f)]['display']=_0x4a7f85(0x252);userData={'points':0x0,'inventory':[],'isAdmin':![]},window[_0x4a7f85(0x233)]=![];}});}async function loadUserData(_0x13f8ac){const _0x1f594d=a46_0x3e4683;try{const _0x2522e4=doc(db,'userProfiles',_0x13f8ac['uid']),_0x2172ea=await getDoc(_0x2522e4);if(_0x2172ea['exists']()){const _0x351a22=_0x2172ea['data']();userData={'points':_0x351a22[_0x1f594d(0x1ef)]||0x0,'inventory':_0x351a22['inventory']||[],'isAdmin':_0x351a22['isAdmin']||![],'equippedToken':_0x351a22['equippedToken']||null},pointsDisplay&&(pointsDisplay['textContent']=userData[_0x1f594d(0x1ef)]['toLocaleString']()),window['isUserAdmin']=userData['isAdmin'],userData['isAdmin']&&(console['log']('üëë\x20Admin\x20controls\x20enabled'),window[_0x1f594d(0x256)](new CustomEvent('adminStatusChanged',{'detail':{'isAdmin':!![]}}))),console['log']('User\x20data\x20loaded\x20-\x20Points:\x20'+userData['points']+',\x20Inventory:\x20'+userData['inventory']['length']+'\x20items,\x20Equipped:\x20'+(userData[_0x1f594d(0x220)]||_0x1f594d(0x252)));}else await setDoc(_0x2522e4,{'points':0x0,'inventory':[],'equippedToken':null,'createdAt':serverTimestamp(),'username':_0x13f8ac['displayName']||_0x13f8ac['email']?.[_0x1f594d(0x249)]('@')[0x0]||_0x1f594d(0x1ed)}),userData={'points':0x0,'inventory':[],'isAdmin':![],'equippedToken':null},pointsDisplay&&(pointsDisplay['textContent']='0'),window[_0x1f594d(0x233)]=![],console['log']('New\x20user\x20profile\x20created');}catch(_0x2625d1){console['error'](_0x1f594d(0x241),_0x2625d1);}}function userOwnsTheme(_0xc46f92){if(THEMES[_0xc46f92]?.['price']===0x0)return!![];return userData['inventory']['includes']('theme_'+_0xc46f92);}function userOwnsToken(_0x1df00c){const _0x172598=a46_0x3e4683;return userData[_0x172598(0x25b)]['includes']('token_'+_0x1df00c);}function userHasTokenEquipped(_0x322ff8){const _0x4c2a73=a46_0x3e4683;return userData[_0x4c2a73(0x220)]===_0x322ff8;}function getEquippedToken(){const _0x21b833=a46_0x3e4683;return userData[_0x21b833(0x220)]||null;}async function purchaseTheme(_0xc4388){const _0x19f001=a46_0x3e4683,_0x347591=auth[_0x19f001(0x21f)];if(!_0x347591)return showMessage('Please\x20sign\x20in\x20to\x20purchase\x20themes','error'),![];const _0x104631=THEMES[_0xc4388];if(!_0x104631)return console[_0x19f001(0x222)](_0x19f001(0x214)+_0xc4388+_0x19f001(0x25a)),![];if(userData['points']<_0x104631['price'])return showMessage(_0x19f001(0x1f3)+(_0x104631['price']-userData['points'])+_0x19f001(0x24c),'error'),![];if(userOwnsTheme(_0xc4388))return showMessage('You\x20already\x20own\x20the\x20'+_0x104631['name']+'\x20theme','info'),![];try{return await processPurchase(_0xc4388,_0x104631,'theme');}catch(_0x150811){return console['error'](_0x19f001(0x269),_0x150811),showMessage(_0x19f001(0x23b),'error'),![];}}function a46_0x2153(){const _0x5de95c=['closest','\x20points','textContent','You\x20can\x20see\x20better!','Permission\x20denied.\x20Token\x20may\x20still\x20be\x20equipped\x20-\x20check\x20the\x20ladder.','owned','image','code','userTokens','pointer','../images/tokens/subgame/smissile.gif','createElement','querySelectorAll','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22item-title\x22>','User','You\x20already\x20own\x20the\x20','points','Emerald\x20City!','bind','weapon','Not\x20enough\x20points.\x20You\x20need\x20','../images/tokens/cloak.gif','!\x20Use\x20the\x20\x22Equip\x22\x20button\x20to\x20show\x20it\x20on\x20the\x20ladder.','Token\x20clicked:\x20','floor','R/Y/B\x20Keys','token','sale','includes','toLocaleString','sign-in-free','Can\x27t\x20get\x20enough','Become\x20one\x20with\x20the\x20shadows','switchTheme','Themes\x20container\x20not\x20found','Sign\x20in\x20to\x20Apply','parentNode','Buy','cursor','Token\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22token-sell-btn\x20admin-btn\x22\x20style=\x22margin-top:\x200.5rem;\x20background:\x20#f44336;\x20font-size:\x200.8rem;\x20padding:\x200.3rem;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Sell\x20(','Yellow\x20Orange','purchase','Please\x20sign\x20in\x20to\x20equip\x20tokens','addEventListener','theme_','Smart\x20Missile','Purchase','can-afford','\x20Points','Classic\x20RDL','../images/tokens/subgame/pwr02.gif','warn','Theme\x20','You\x20need\x20','dataset','token_','querySelector','ThemeSystem','info','entries','Black\x20&\x20White','Please\x20sign\x20in\x20to\x20select\x20themes','classList','currentUser','equippedToken','You\x20must\x20purchase\x20this\x20theme\x20first','error','innerHTML','\x20is\x20already\x20your\x20current\x20theme','block','className','current-theme','\x20token\x20for\x20','forEach','üîß\x20Token\x20permissions\x20issue\x20detected,\x20but\x20purchase\x20was\x20successful','disabled','confirm','You\x20don\x27t\x20own\x20this\x20token','function','appendChild','Insufficient\x20points','log','Purchase\x20processing\x20error:','isUserAdmin','\x20pts)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Failed\x20to\x20equip\x20token:\x20','User\x20profile\x20not\x20found','getCurrentTheme','push','remove','Only\x20admins\x20can\x20sell\x20tokens','Purchase\x20failed.\x20Please\x20try\x20again.','.token-sell-btn','refreshUI','apply','Unequip\x20','Apply\x20Theme','Error\x20loading\x20user\x20data:','Blob\x20Token\x201','blob','price','constructor','filter','var(--accent-color,\x20#2196F3)','Token\x20unequipped!\x20Ladder\x20will\x20refresh\x20shortly.','split','Successfully\x20purchased\x20','body','\x20more\x20points.','\x20saved\x20to\x20userTokens\x20collection\x20(not\x20equipped)','display','style','add','userProfiles','none','opacity','equipped','tokens','dispatchEvent','data','Current\x20Theme','Advanced\x20energy\x20storage\x20system','\x20not\x20found','inventory','.themes-grid','getElementById','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-icon\x20theme-icon-','not-allowed','powerup','tokenId','div','Service\x20temporarily\x20unavailable.\x20Please\x20try\x20again.','Theme\x20clicked:\x20','name','theme','{}.constructor(\x22return\x20this\x22)(\x20)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-icon\x20token-icon\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22','Theme\x20purchase\x20failed:','preventDefault','.tokens-grid','click','uid','displayLadder','console','warning','background'];a46_0x2153=function(){return _0x5de95c;};return a46_0x2153();}async function purchaseToken(_0xbd297){const _0x38a643=a46_0x3e4683,_0x1ddcf4=auth[_0x38a643(0x21f)];if(!_0x1ddcf4)return showMessage('Please\x20sign\x20in\x20to\x20purchase\x20tokens','error'),![];const _0x4aecef=TOKENS[_0xbd297];if(!_0x4aecef)return console['error'](_0x38a643(0x206)+_0xbd297+_0x38a643(0x25a)),![];if(userData['points']<_0x4aecef['price'])return showMessage('Not\x20enough\x20points.\x20You\x20need\x20'+(_0x4aecef['price']-userData[_0x38a643(0x1ef)])+'\x20more\x20points.','error'),![];if(userOwnsToken(_0xbd297))return showMessage('You\x20already\x20own\x20the\x20'+_0x4aecef[_0x38a643(0x265)]+'\x20token','info'),![];try{return await processPurchase(_0xbd297,_0x4aecef,_0x38a643(0x1f9));}catch(_0x320750){return console['error']('Token\x20purchase\x20failed:',_0x320750),showMessage('Purchase\x20failed.\x20Please\x20try\x20again.',_0x38a643(0x222)),![];}}async function processPurchase(_0x559f2f,_0x1ed1d1,_0x368f8c){const _0x597a5a=a46_0x3e4683,_0x1d396b=auth['currentUser'];try{const _0x1c6b2a=doc(db,'userProfiles',_0x1d396b[_0x597a5a(0x26d)]),_0x36e577=await getDoc(_0x1c6b2a);if(!_0x36e577['exists']())return showMessage(_0x597a5a(0x236),'error'),![];const _0xd022d1=_0x36e577['data'](),_0x114fb8=_0xd022d1['points']||0x0,_0x541511=_0xd022d1['inventory']||[];if(_0x114fb8<_0x1ed1d1[_0x597a5a(0x244)])return showMessage(_0x597a5a(0x230),_0x597a5a(0x222)),![];if(_0x541511['includes'](_0x368f8c+'_'+_0x559f2f))return showMessage('You\x20already\x20own\x20this\x20'+_0x368f8c,_0x597a5a(0x21a)),![];const _0x3f4ac=_0x114fb8-_0x1ed1d1['price'],_0x13ce64=[..._0x541511,_0x368f8c+'_'+_0x559f2f];await updateDoc(_0x1c6b2a,{'points':_0x3f4ac,'inventory':_0x13ce64,'lastPurchase':serverTimestamp()});if(_0x368f8c==='token')try{const _0x2f85ee=doc(db,_0x597a5a(0x1e7),_0x1d396b['uid']),_0x58d714=await getDoc(_0x2f85ee);let _0x5c5a7a=[];_0x58d714['exists']()&&(_0x5c5a7a=_0x58d714['data']()[_0x597a5a(0x255)]||[]);const _0x1c21a7=new Date();_0x5c5a7a[_0x597a5a(0x238)]({'tokenId':_0x559f2f,'tokenName':_0x1ed1d1[_0x597a5a(0x265)],'tokenImage':_0x1ed1d1[_0x597a5a(0x1e5)],'category':_0x1ed1d1['category'],'purchasedAt':_0x1c21a7,'price':_0x1ed1d1['price'],'equipped':![]}),await setDoc(_0x2f85ee,{'userId':_0x1d396b['uid'],'username':_0xd022d1['username']||_0x1d396b['displayName']||'Unknown','tokens':_0x5c5a7a,'lastUpdated':serverTimestamp()},{'merge':!![]}),typeof clearTokenCache==='function'&&clearTokenCache(_0x1d396b[_0x597a5a(0x26d)]),console[_0x597a5a(0x231)]('‚úÖ\x20Token\x20'+_0x559f2f+_0x597a5a(0x24d));}catch(_0x59edf4){console['warn']('Token\x20collection\x20update\x20had\x20an\x20issue,\x20but\x20purchase\x20completed:',_0x59edf4),_0x59edf4['code']==='permission-denied'?console[_0x597a5a(0x231)](_0x597a5a(0x22a)):console['error']('Unexpected\x20token\x20error:',_0x59edf4);}try{await addDoc(collection(db,'transactions'),{'userId':_0x1d396b['uid'],'userEmail':_0x1d396b['email'],'itemId':_0x368f8c+'_'+_0x559f2f,'itemTitle':_0x1ed1d1['name'],'price':_0x1ed1d1['price'],'type':_0x597a5a(0x209),'category':_0x368f8c,'timestamp':serverTimestamp()});}catch(_0x3c3a78){console[_0x597a5a(0x213)]('Transaction\x20logging\x20failed,\x20but\x20purchase\x20was\x20successful:',_0x3c3a78);}return userData['points']=_0x3f4ac,userData[_0x597a5a(0x25b)]=_0x13ce64,pointsDisplay&&(pointsDisplay['textContent']=userData['points'][_0x597a5a(0x1fc)]()),updateTokenButtons(),_0x368f8c===_0x597a5a(0x266)&&updateThemeButtons(),console[_0x597a5a(0x231)]('‚úÖ\x20Purchased\x20'+_0x1ed1d1[_0x597a5a(0x265)]+'\x20for\x20'+_0x1ed1d1['price']+_0x597a5a(0x1e0)),showMessage(_0x597a5a(0x24a)+_0x1ed1d1['name']+_0x597a5a(0x1f5),'success'),!![];}catch(_0x1a9d76){console['error'](_0x597a5a(0x232),_0x1a9d76);if(_0x1a9d76['code']==='permission-denied')showMessage('Permission\x20denied.\x20Please\x20try\x20again\x20or\x20contact\x20support.','error');else{if(_0x1a9d76['code']==='unavailable')showMessage(_0x597a5a(0x263),'error');else _0x1a9d76[_0x597a5a(0x1e6)]==='unauthenticated'?showMessage('Please\x20sign\x20in\x20again\x20to\x20complete\x20purchase.','error'):showMessage('Purchase\x20failed.\x20Please\x20try\x20again.','error');}return![];}}async function equipToken(_0x1a3f1a){const _0x56128f=a46_0x3e4683,_0x4cfe5e=auth['currentUser'];if(!_0x4cfe5e)return showMessage(_0x56128f(0x20a),'error'),![];const _0x3f9c1f=TOKENS[_0x1a3f1a];if(!_0x3f9c1f)return console[_0x56128f(0x222)](_0x56128f(0x206)+_0x1a3f1a+'\x20not\x20found'),![];if(!userOwnsToken(_0x1a3f1a))return showMessage('You\x20must\x20own\x20this\x20token\x20to\x20equip\x20it',_0x56128f(0x222)),![];try{const _0x234f68=doc(db,_0x56128f(0x251),_0x4cfe5e['uid']);await updateDoc(_0x234f68,{'equippedToken':_0x1a3f1a,'lastTokenEquip':serverTimestamp()});try{const _0x5dbe34=doc(db,_0x56128f(0x1e7),_0x4cfe5e[_0x56128f(0x26d)]),_0x170342=await getDoc(_0x5dbe34);if(_0x170342['exists']()){const _0x3b482c=_0x170342[_0x56128f(0x257)](),_0xcf9e2c=_0x3b482c['tokens']||[],_0x410517=_0xcf9e2c['map'](_0x3cd81e=>({..._0x3cd81e,'equipped':_0x3cd81e[_0x56128f(0x261)]===_0x1a3f1a}));await updateDoc(_0x5dbe34,{'tokens':_0x410517,'equippedToken':_0x1a3f1a,'lastUpdated':serverTimestamp()});}}catch(_0x3c448f){console[_0x56128f(0x213)]('Token\x20collection\x20update\x20had\x20an\x20issue,\x20but\x20equip\x20was\x20successful:',_0x3c448f);}return userData['equippedToken']=_0x1a3f1a,typeof clearTokenCache==='function'&&(clearTokenCache(_0x4cfe5e['uid']),clearTokenCache()),setTimeout(()=>{const _0x2e978b=_0x56128f;window['displayLadder']&&typeof window['displayLadder']==='function'&&(console[_0x2e978b(0x231)]('üîÑ\x20Refreshing\x20ladder\x20to\x20show\x20equipped\x20token'),window[_0x2e978b(0x26e)](!![])),window['RedeemStore']&&typeof window['RedeemStore'][_0x2e978b(0x23d)]===_0x2e978b(0x22e)&&window['RedeemStore']['refreshUI']();},0x1f4),console['log']('‚úÖ\x20Equipped\x20token:\x20'+_0x3f9c1f['name']),showMessage(_0x3f9c1f['name']+'\x20equipped!\x20Ladder\x20will\x20refresh\x20shortly.','success'),!![];}catch(_0x15cc59){return console['error']('Token\x20equip\x20failed:',_0x15cc59),_0x15cc59['code']==='permission-denied'?showMessage(_0x56128f(0x1e3),_0x56128f(0x270)):showMessage(_0x56128f(0x235)+_0x15cc59['message'],'error'),![];}}async function unequipToken(){const _0x914909=a46_0x3e4683,_0x501972=auth[_0x914909(0x21f)];if(!_0x501972)return showMessage('Please\x20sign\x20in\x20to\x20unequip\x20tokens','error'),![];if(!userData['equippedToken'])return showMessage('No\x20token\x20is\x20currently\x20equipped','info'),![];try{const _0x12eb4b=doc(db,'userProfiles',_0x501972['uid']);await updateDoc(_0x12eb4b,{'equippedToken':null,'lastTokenEquip':serverTimestamp()});const _0x265c87=doc(db,_0x914909(0x1e7),_0x501972['uid']),_0x119365=await getDoc(_0x265c87);if(_0x119365['exists']()){const _0x14cfd9=_0x119365['data'](),_0x47cfd9=_0x14cfd9['tokens']||[],_0x33a19b=_0x47cfd9['map'](_0x273eff=>({..._0x273eff,'equipped':![]}));await updateDoc(_0x265c87,{'tokens':_0x33a19b,'equippedToken':null,'lastUpdated':serverTimestamp()});}return userData['equippedToken']=null,typeof clearTokenCache==='function'&&(clearTokenCache(_0x501972[_0x914909(0x26d)]),clearTokenCache()),setTimeout(()=>{const _0x4aa41d=_0x914909;window['displayLadder']&&typeof window['displayLadder']==='function'&&(console['log']('üîÑ\x20Refreshing\x20ladder\x20to\x20remove\x20unequipped\x20token'),window[_0x4aa41d(0x26e)](!![])),window['RedeemStore']&&typeof window['RedeemStore'][_0x4aa41d(0x23d)]==='function'&&window['RedeemStore'][_0x4aa41d(0x23d)]();},0x1f4),console[_0x914909(0x231)]('‚úÖ\x20Token\x20unequipped'),showMessage(_0x914909(0x248),'success'),!![];}catch(_0x1c6976){return console['error']('Token\x20unequip\x20failed:',_0x1c6976),showMessage('Failed\x20to\x20unequip\x20token:\x20'+_0x1c6976['message'],'error'),![];}}async function sellToken(_0x3b2d37){const _0x5899b1=a46_0x3e4683,_0x57b777=auth[_0x5899b1(0x21f)];if(!_0x57b777)return showMessage('Please\x20sign\x20in\x20to\x20sell\x20tokens','error'),![];if(!userData['isAdmin'])return showMessage(_0x5899b1(0x23a),_0x5899b1(0x222)),![];const _0x5e40f2=TOKENS[_0x3b2d37];if(!_0x5e40f2)return console['error']('Token\x20'+_0x3b2d37+'\x20not\x20found'),![];if(!userOwnsToken(_0x3b2d37))return showMessage(_0x5899b1(0x22d),'error'),![];try{const _0x1c8f59=doc(db,'userProfiles',_0x57b777['uid']),_0x5c2d8d=await getDoc(_0x1c8f59),_0x2ba334=_0x5c2d8d[_0x5899b1(0x257)](),_0x18ac9b=Math[_0x5899b1(0x1f7)](_0x5e40f2['price']*0.5),_0x231ca6=(_0x2ba334[_0x5899b1(0x1ef)]||0x0)+_0x18ac9b,_0x7a7af8=(_0x2ba334[_0x5899b1(0x25b)]||[])[_0x5899b1(0x246)](_0x22f8f6=>_0x22f8f6!=='token_'+_0x3b2d37),_0x3cb912=_0x2ba334['equippedToken']===_0x3b2d37?null:_0x2ba334[_0x5899b1(0x220)];await updateDoc(_0x1c8f59,{'points':_0x231ca6,'inventory':_0x7a7af8,'equippedToken':_0x3cb912,'lastSale':serverTimestamp()});const _0x32dfe2=doc(db,'userTokens',_0x57b777['uid']),_0x5db04f=await getDoc(_0x32dfe2);if(_0x5db04f['exists']()){const _0x5043f5=_0x5db04f['data'](),_0x3394b6=_0x5043f5['tokens']||[],_0x40949b=_0x3394b6['filter'](_0xd17b8=>_0xd17b8['tokenId']!==_0x3b2d37);await updateDoc(_0x32dfe2,{'tokens':_0x40949b,'equippedToken':_0x3cb912,'lastUpdated':serverTimestamp()});}return await addDoc(collection(db,'transactions'),{'userId':_0x57b777[_0x5899b1(0x26d)],'userEmail':_0x57b777['email'],'itemId':'token_'+_0x3b2d37,'itemTitle':_0x5e40f2[_0x5899b1(0x265)],'refund':_0x18ac9b,'originalPrice':_0x5e40f2['price'],'type':_0x5899b1(0x1fa),'category':'token','timestamp':serverTimestamp()}),userData[_0x5899b1(0x1ef)]=_0x231ca6,userData[_0x5899b1(0x25b)]=_0x7a7af8,userData['equippedToken']=_0x3cb912,pointsDisplay&&(pointsDisplay['textContent']=userData['points'][_0x5899b1(0x1fc)]()),typeof clearTokenCache==='function'&&clearTokenCache(_0x57b777[_0x5899b1(0x26d)]),console['log']('‚úÖ\x20Sold\x20token\x20'+_0x5e40f2[_0x5899b1(0x265)]+'\x20for\x20'+_0x18ac9b+'\x20points'),showMessage('Sold\x20'+_0x5e40f2[_0x5899b1(0x265)]+'\x20for\x20'+_0x18ac9b+'\x20points\x20(50%\x20refund)','success'),!![];}catch(_0x1fe381){return console['error']('Token\x20sale\x20failed:',_0x1fe381),showMessage('Failed\x20to\x20sell\x20token:\x20'+_0x1fe381['message'],_0x5899b1(0x222)),![];}}function applyTheme(_0x18d18c){const _0xe74b3c=a46_0x3e4683;if(!userOwnsTheme(_0x18d18c))return showMessage('You\x20must\x20purchase\x20this\x20theme\x20first',_0xe74b3c(0x222)),![];return window['ThemeSystem']?(window['ThemeSystem'][_0xe74b3c(0x200)](_0x18d18c),showMessage((THEMES[_0x18d18c]?.[_0xe74b3c(0x265)]||_0x18d18c)+'\x20theme\x20applied!','success'),!![]):(console['error']('Theme\x20system\x20not\x20found'),![]);}function buildStoreUI(){buildThemeItems(),buildTokenItems();}function buildThemeItems(){const _0x2674d1=a46_0x3e4683,_0xd4630d=document[_0x2674d1(0x218)](_0x2674d1(0x25c));if(!_0xd4630d){console['error'](_0x2674d1(0x201));return;}_0xd4630d['innerHTML']='',Object[_0x2674d1(0x21b)](THEMES)['forEach'](([_0x227c1a,_0x5c0efc])=>{const _0x543c7b=_0x2674d1,_0x1735ce=document['createElement']('div');_0x1735ce[_0x543c7b(0x226)]='store-item',_0x1735ce['dataset']['theme']=_0x227c1a,_0x1735ce[_0x543c7b(0x216)]['itemId']=_0x543c7b(0x20c)+_0x227c1a,_0x1735ce['dataset'][_0x543c7b(0x244)]=_0x5c0efc[_0x543c7b(0x244)],_0x1735ce[_0x543c7b(0x223)]=_0x543c7b(0x25e)+_0x227c1a+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-palette\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-price\x22>'+(_0x5c0efc['price']===0x0?'FREE':_0x5c0efc['price']+'\x20Points')+_0x543c7b(0x1ec)+_0x5c0efc[_0x543c7b(0x265)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22item-description\x22>'+_0x5c0efc['description']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22theme-select-btn\x20purchase-btn\x22>Select\x20Theme</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0xd4630d['appendChild'](_0x1735ce);}),setupThemeButtons();}function buildTokenItems(){const _0x3d0948=a46_0x3e4683,_0x11e3d4=document['querySelector'](_0x3d0948(0x26b));if(!_0x11e3d4){console[_0x3d0948(0x222)]('Tokens\x20container\x20not\x20found');return;}_0x11e3d4[_0x3d0948(0x223)]='',Object[_0x3d0948(0x21b)](TOKENS)[_0x3d0948(0x229)](([_0x42c1b9,_0x2d3103])=>{const _0x1c3b4f=_0x3d0948,_0x3868a2=document[_0x1c3b4f(0x1ea)](_0x1c3b4f(0x262));_0x3868a2['className']='store-item\x20token-item',_0x3868a2['dataset']['token']=_0x42c1b9,_0x3868a2[_0x1c3b4f(0x216)]['itemId']=_0x1c3b4f(0x217)+_0x42c1b9,_0x3868a2['dataset']['price']=_0x2d3103['price'];const _0x3f9c52=userData['isAdmin']&&userOwnsToken(_0x42c1b9)?_0x1c3b4f(0x207)+Math['floor'](_0x2d3103['price']*0.5)+_0x1c3b4f(0x234):'';_0x3868a2['innerHTML']=_0x1c3b4f(0x268)+_0x2d3103['image']+'\x22\x20alt=\x22'+_0x2d3103[_0x1c3b4f(0x265)]+'\x22\x20class=\x22token-preview\x22\x20onerror=\x22this.style.display=\x27none\x27;\x20this.nextElementSibling.style.display=\x27flex\x27;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22token-fallback\x22\x20style=\x22display:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-coins\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-price\x22>'+_0x2d3103['price']+'\x20Points</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22token-select-btn\x20purchase-btn\x22>Purchase</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22token-equip-btn\x20equip-btn\x22\x20style=\x22margin-top:\x200.5rem;\x20display:\x20none;\x22>Equip</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3f9c52+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x11e3d4[_0x1c3b4f(0x22f)](_0x3868a2);}),setupTokenButtons();}function setupThemeButtons(){const _0x381595=document['querySelectorAll']('.theme-select-btn');_0x381595['forEach'](_0x4c454b=>{_0x4c454b['addEventListener']('click',async _0x53a06b=>{const _0x2fb56e=a46_0x5afa;_0x53a06b['preventDefault']();const _0x59b9cd=auth['currentUser'];if(!_0x59b9cd){showMessage(_0x2fb56e(0x21d),'error');return;}const _0x228222=_0x4c454b['closest']('[data-theme]'),_0x4f4286=_0x228222['dataset'][_0x2fb56e(0x266)],_0x31944a=THEMES[_0x4f4286];if(!_0x31944a){console[_0x2fb56e(0x222)]('Theme\x20'+_0x4f4286+'\x20not\x20found');return;}console['log'](_0x2fb56e(0x264)+_0x31944a['name']+'\x20('+_0x4f4286+')');if(_0x4c454b['disabled']){_0x31944a[_0x2fb56e(0x244)]>0x0&&showMessage('You\x20need\x20'+_0x31944a['price']+'\x20points\x20to\x20purchase\x20this\x20theme','error');return;}if(_0x4c454b['textContent']==='Current\x20Theme'){showMessage(_0x31944a[_0x2fb56e(0x265)]+_0x2fb56e(0x224),'info');return;}if(_0x4c454b['textContent']===_0x2fb56e(0x240)){applyTheme(_0x4f4286),updateThemeButtons();return;}if(_0x4c454b['textContent'][_0x2fb56e(0x1fb)](_0x2fb56e(0x204))){const _0x459050=window['confirm']('Purchase\x20'+_0x31944a[_0x2fb56e(0x265)]+'\x20theme\x20for\x20'+_0x31944a['price']+'\x20points?');if(!_0x459050)return;const _0x1f5fb8=await purchaseTheme(_0x4f4286);_0x1f5fb8&&(showMessage(_0x31944a['name']+'\x20theme\x20purchased!','success'),applyTheme(_0x4f4286),updateThemeButtons());return;}userOwnsTheme(_0x4f4286)?applyTheme(_0x4f4286):showMessage(_0x2fb56e(0x221),_0x2fb56e(0x222));});}),updateThemeButtons();}function setupTokenButtons(){const _0x5093aa=a46_0x3e4683,_0x4a3977=document['querySelectorAll']('.token-select-btn'),_0x2fc1a5=document['querySelectorAll']('.token-equip-btn'),_0x21d75e=document[_0x5093aa(0x1eb)]('.token-sell-btn');_0x4a3977['forEach'](_0x211428=>{const _0x234e2b=_0x5093aa;_0x211428[_0x234e2b(0x20b)]('click',async _0x347dbb=>{const _0xf09919=_0x234e2b;_0x347dbb[_0xf09919(0x26a)]();const _0x3f83ce=auth['currentUser'];if(!_0x3f83ce){showMessage('Please\x20sign\x20in\x20to\x20purchase\x20tokens','error');return;}const _0x1b2bce=_0x211428[_0xf09919(0x1df)]('[data-token]'),_0x56fb99=_0x1b2bce['dataset'][_0xf09919(0x1f9)],_0x299116=TOKENS[_0x56fb99];if(!_0x299116){console[_0xf09919(0x222)](_0xf09919(0x206)+_0x56fb99+_0xf09919(0x25a));return;}console['log'](_0xf09919(0x1f6)+_0x299116['name']+'\x20('+_0x56fb99+')');if(_0x211428[_0xf09919(0x22b)]){showMessage(_0xf09919(0x215)+_0x299116[_0xf09919(0x244)]+'\x20points\x20to\x20purchase\x20this\x20token','error');return;}if(_0x211428['textContent']==='Owned'){showMessage(_0xf09919(0x1ee)+_0x299116[_0xf09919(0x265)]+'\x20token',_0xf09919(0x21a));return;}if(_0x211428['textContent']['includes'](_0xf09919(0x20e))||_0x211428['textContent']['includes']('Buy')){const _0x495da8=window['confirm']('Purchase\x20'+_0x299116['name']+_0xf09919(0x228)+_0x299116['price']+'\x20points?');if(!_0x495da8)return;const _0x3202fd=await purchaseToken(_0x56fb99);_0x3202fd&&updateTokenButtons();return;}});}),_0x2fc1a5['forEach'](_0x518c10=>{const _0x44ad8e=_0x5093aa;_0x518c10['addEventListener'](_0x44ad8e(0x26c),async _0xb9efe8=>{const _0x1ade62=_0x44ad8e;_0xb9efe8['preventDefault']();const _0x47a2fe=_0x518c10['closest']('[data-token]'),_0x5922b9=_0x47a2fe['dataset']['token'],_0x19272b=TOKENS[_0x5922b9];if(_0x518c10['textContent']==='Equipped'){const _0x448242=window['confirm'](_0x1ade62(0x23f)+_0x19272b['name']+'?');if(!_0x448242)return;const _0x15fed1=await unequipToken();_0x15fed1&&updateTokenButtons();}else{const _0x174941=window[_0x1ade62(0x22c)]('Equip\x20'+_0x19272b['name']+'?\x20This\x20will\x20unequip\x20your\x20current\x20token.');if(!_0x174941)return;const _0x3af88e=await equipToken(_0x5922b9);_0x3af88e&&updateTokenButtons();}});}),_0x21d75e[_0x5093aa(0x229)](_0x4d2b79=>{const _0x37e162=_0x5093aa;_0x4d2b79['addEventListener'](_0x37e162(0x26c),async _0x77f545=>{const _0x19a71b=_0x37e162;_0x77f545['preventDefault']();const _0x344042=_0x4d2b79['closest']('[data-token]'),_0x4e2948=_0x344042['dataset']['token'],_0x4f4ffc=TOKENS[_0x4e2948],_0x15a009=Math[_0x19a71b(0x1f7)](_0x4f4ffc[_0x19a71b(0x244)]*0.5),_0x809d4=window['confirm']('Are\x20you\x20sure\x20you\x20want\x20to\x20sell\x20'+_0x4f4ffc['name']+'\x20for\x20'+_0x15a009+'\x20points?\x20This\x20cannot\x20be\x20undone.');if(!_0x809d4)return;const _0x5c9ba3=await sellToken(_0x4e2948);_0x5c9ba3&&updateTokenButtons();});}),updateTokenButtons();}function updateThemeButtons(){const _0x2621f6=a46_0x3e4683,_0x3c7d50=window['ThemeSystem']?window[_0x2621f6(0x219)][_0x2621f6(0x237)]():'default',_0x31b264=auth[_0x2621f6(0x21f)];document[_0x2621f6(0x1eb)]('.theme-select-btn')['forEach'](_0x85d837=>{const _0x4c4c5c=_0x2621f6,_0x5791d7=_0x85d837['closest']('[data-theme]'),_0x272df2=_0x5791d7['dataset']['theme'],_0x4477de=THEMES[_0x272df2];if(!_0x4477de)return;_0x85d837[_0x4c4c5c(0x22b)]=![],_0x85d837[_0x4c4c5c(0x24f)]['opacity']='',_0x85d837['style']['cursor']=_0x4c4c5c(0x1e8),_0x85d837['classList'][_0x4c4c5c(0x239)](_0x4c4c5c(0x227),'apply-theme','can-afford','cannot-afford',_0x4c4c5c(0x1fd),'sign-in-paid');if(!_0x31b264){_0x4477de['price']===0x0?(_0x85d837[_0x4c4c5c(0x1e1)]=_0x4c4c5c(0x202),_0x85d837['classList']['add']('sign-in-free')):(_0x85d837[_0x4c4c5c(0x1e1)]='Sign\x20in\x20to\x20Purchase',_0x85d837['disabled']=!![],_0x85d837['style']['opacity']='0.7',_0x85d837['classList'][_0x4c4c5c(0x250)]('sign-in-paid'));return;}if(_0x272df2===_0x3c7d50){_0x85d837['textContent']=_0x4c4c5c(0x258),_0x85d837['classList']['add']('current-theme'),_0x85d837['disabled']=!![],_0x85d837['style']['cursor']='default';return;}if(userOwnsTheme(_0x272df2)){_0x85d837['textContent']='Apply\x20Theme',_0x85d837[_0x4c4c5c(0x21e)][_0x4c4c5c(0x250)]('apply-theme');return;}if(userData['points']>=_0x4477de['price']){_0x85d837[_0x4c4c5c(0x1e1)]='Buy\x20for\x20'+_0x4477de['price']+'\x20Points',_0x85d837['classList']['add'](_0x4c4c5c(0x20f));return;}_0x85d837[_0x4c4c5c(0x1e1)]='Need\x20'+_0x4477de['price']+'\x20Points',_0x85d837['classList']['add']('cannot-afford'),_0x85d837[_0x4c4c5c(0x24f)][_0x4c4c5c(0x253)]='0.5',_0x85d837['disabled']=!![],_0x85d837[_0x4c4c5c(0x24f)][_0x4c4c5c(0x205)]='not-allowed';});}function updateTokenButtons(){const _0x4c3fbc=auth['currentUser'];document['querySelectorAll']('.token-select-btn')['forEach'](_0x56f217=>{const _0xaffb60=a46_0x5afa,_0xec3103=_0x56f217['closest']('[data-token]'),_0x5b2d7b=_0xec3103['dataset']['token'],_0x30743c=TOKENS[_0x5b2d7b],_0x3ffdeb=_0xec3103['querySelector']('.token-equip-btn'),_0x5420cd=_0xec3103[_0xaffb60(0x218)](_0xaffb60(0x23c));if(!_0x30743c)return;_0x56f217['disabled']=![],_0x56f217['style']['opacity']='',_0x56f217['style'][_0xaffb60(0x205)]='pointer';_0x3ffdeb&&(_0x3ffdeb['style']['display']='none',_0x3ffdeb['disabled']=![],_0x3ffdeb['style']['opacity']='',_0x3ffdeb['classList']['remove'](_0xaffb60(0x254),'can-equip'));_0x5420cd&&(_0x5420cd['style'][_0xaffb60(0x24e)]='none');_0x56f217['classList']['remove'](_0xaffb60(0x1e4),'can-afford','cannot-afford','sign-in');if(!_0x4c3fbc){_0x56f217[_0xaffb60(0x1e1)]='Sign\x20in\x20to\x20Purchase',_0x56f217[_0xaffb60(0x22b)]=!![],_0x56f217[_0xaffb60(0x24f)][_0xaffb60(0x253)]='0.7',_0x56f217['classList']['add']('sign-in');return;}if(userOwnsToken(_0x5b2d7b)){_0x56f217[_0xaffb60(0x1e1)]='Owned',_0x56f217['classList'][_0xaffb60(0x250)]('owned'),_0x56f217['disabled']=!![],_0x56f217[_0xaffb60(0x24f)]['cursor']='default',_0x56f217['style'][_0xaffb60(0x271)]='var(--success-color,\x20#4CAF50)';_0x3ffdeb&&(_0x3ffdeb[_0xaffb60(0x24f)]['display']=_0xaffb60(0x225),userHasTokenEquipped(_0x5b2d7b)?(_0x3ffdeb[_0xaffb60(0x1e1)]='Equipped',_0x3ffdeb[_0xaffb60(0x21e)]['add']('equipped'),_0x3ffdeb['style']['background']=_0xaffb60(0x247),_0x3ffdeb['style']['cursor']='pointer'):(_0x3ffdeb['textContent']='Equip',_0x3ffdeb['classList']['add']('can-equip'),_0x3ffdeb[_0xaffb60(0x24f)][_0xaffb60(0x271)]='var(--info-color,\x20#17a2b8)',_0x3ffdeb['style'][_0xaffb60(0x205)]='pointer'));_0x5420cd&&userData['isAdmin']&&(_0x5420cd[_0xaffb60(0x24f)]['display']=_0xaffb60(0x225));return;}if(userData['points']>=_0x30743c[_0xaffb60(0x244)]){_0x56f217['textContent']='Buy\x20for\x20'+_0x30743c[_0xaffb60(0x244)]+_0xaffb60(0x210),_0x56f217['classList']['add']('can-afford'),_0x56f217['style'][_0xaffb60(0x271)]='';return;}_0x56f217['textContent']='Need\x20'+_0x30743c['price']+'\x20Points',_0x56f217['classList']['add']('cannot-afford'),_0x56f217['style']['opacity']='0.5',_0x56f217[_0xaffb60(0x22b)]=!![],_0x56f217[_0xaffb60(0x24f)]['cursor']=_0xaffb60(0x25f),_0x56f217['style']['background']='var(--muted-color,\x20#757575)';});}function showMessage(_0x32e101,_0x249a62='info'){const _0x543b5f=a46_0x3e4683,_0x41b9f6=document['getElementById']('store-message');_0x41b9f6&&_0x41b9f6['remove']();const _0x5b1611=document[_0x543b5f(0x1ea)]('div');_0x5b1611['id']='store-message',_0x5b1611['className']='store-message\x20store-message-'+_0x249a62,_0x5b1611[_0x543b5f(0x1e1)]=_0x32e101,document[_0x543b5f(0x24b)]['appendChild'](_0x5b1611),requestAnimationFrame(()=>{_0x5b1611['classList']['add']('visible');}),setTimeout(()=>{_0x5b1611['classList']['remove']('visible'),setTimeout(()=>{const _0x4d20e4=a46_0x5afa;_0x5b1611[_0x4d20e4(0x203)]&&_0x5b1611[_0x4d20e4(0x239)]();},0x12c);},0xfa0);}window['RedeemStore']={'refreshUI':()=>{updateThemeButtons(),updateTokenButtons();},'checkOwnership':userOwnsTheme,'checkTokenOwnership':userOwnsToken,'applyTheme':applyTheme,'purchaseTheme':purchaseTheme,'purchaseToken':purchaseToken},console[a46_0x3e4683(0x231)]('üè™\x20Redeem\x20store\x20loaded');