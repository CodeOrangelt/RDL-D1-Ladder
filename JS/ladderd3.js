function a33_0x3178(){const _0x251951=['catch','string','D3:\x20Fallback\x20query\x20failed:','D3:\x20Looking\x20for\x20ELO\x20changes\x20for\x20users:','\x20fallback\x20entries','opacity','apply','style','gray','totalDeaths','totalMatches','get','bind','playerUsername','info','D3:\x20Player\x20ID\x20mappings:','player','D3:\x20No\x20entries\x20found\x20in\x20eloHistoryD3,\x20trying\x20fallback...','\x0a\x20\x20.streak-indicator\x20{\x0a\x20\x20\x20\x20font-size:\x200.9em;\x0a\x20\x20\x20\x20color:\x20#FF4500;\x0a\x20\x20\x20\x20margin-left:\x205px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20}\x0a','exception','position','#50C878','querySelectorAll','querySelector','elo','constructor','wins','prototype','includes','D3:\x20Final\x20ELO\x20changes:','totalKills','innerHTML','D3:\x20','change','push','has','find','MAX_SAFE_INTEGER','Error\x20updating\x20D3\x20player\x20positions:','join','data','now','map','timestamp','losses','head','log','approvedMatchesD3','eloHistory','visible','seconds','playersD3','#CD7F32','newElo','set','from','gameMode','pilot','username','Could\x20not\x20find\x20winner\x20or\x20loser\x20in\x20D3\x20players\x20list','error','.png\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22','country','size','#F44336','forEach','visibility'];a33_0x3178=function(){return _0x251951;};return a33_0x3178();}const a33_0x2cbb92=a33_0x411d,a33_0x23b15a=(function(){let _0x497a96=!![];return function(_0x3ae765,_0x2f41e9){const _0x58e3d7=_0x497a96?function(){const _0x386ed2=a33_0x411d;if(_0x2f41e9){const _0x87d2e6=_0x2f41e9[_0x386ed2(0x17d)](_0x3ae765,arguments);return _0x2f41e9=null,_0x87d2e6;}}:function(){};return _0x497a96=![],_0x58e3d7;};}()),a33_0x1b5e57=a33_0x23b15a(this,function(){const _0x3293aa=a33_0x411d;let _0x371a7d;try{const _0x1ca2cf=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x371a7d=_0x1ca2cf();}catch(_0x2f2a81){_0x371a7d=window;}const _0x40f537=_0x371a7d['console']=_0x371a7d['console']||{},_0x1ec01e=['log','warn',_0x3293aa(0x185),'error',_0x3293aa(0x18a),'table','trace'];for(let _0x2e0ba8=0x0;_0x2e0ba8<_0x1ec01e['length'];_0x2e0ba8++){const _0x544b5a=a33_0x23b15a[_0x3293aa(0x190)][_0x3293aa(0x192)]['bind'](a33_0x23b15a),_0x4cbac2=_0x1ec01e[_0x2e0ba8],_0x46ed32=_0x40f537[_0x4cbac2]||_0x544b5a;_0x544b5a['__proto__']=a33_0x23b15a['bind'](a33_0x23b15a),_0x544b5a['toString']=_0x46ed32['toString'][_0x3293aa(0x183)](_0x46ed32),_0x40f537[_0x4cbac2]=_0x544b5a;}});a33_0x1b5e57();import{collection,getDocs,deleteDoc,doc,getDoc,query,where,updateDoc,Timestamp,onSnapshot,orderBy,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db}from'./firebase-config.js';import{getRankStyle}from'./ranks.js';import a33_0x19d9c8 from'./firebase-idle-wrapper.js';const styleEl=document['createElement']('style');styleEl['textContent']=a33_0x2cbb92(0x189),document[a33_0x2cbb92(0x1a4)]['appendChild'](styleEl);const playerCacheD3={'data':null,'timestamp':0x0},CACHE_DURATION=0x7530;async function displayLadderD3(_0x4ceccb=![]){const _0x59b9a8=a33_0x2cbb92,_0x461884=document['querySelector']('#ladder-d3\x20tbody');if(!_0x461884){console['error']('D3\x20Ladder\x20table\x20body\x20not\x20found');return;}_0x461884[_0x59b9a8(0x196)]='<tr><td\x20colspan=\x228\x22\x20class=\x22loading-cell\x22>Loading\x20D3\x20ladder\x20data...</td></tr>';try{const _0x1be4dd=Date[_0x59b9a8(0x1a0)]();if(!_0x4ceccb&&playerCacheD3['data']&&_0x1be4dd-playerCacheD3['timestamp']<CACHE_DURATION){updateLadderDisplayD3(playerCacheD3['data']);return;}const _0x3cded0=collection(db,'playersD3'),_0x34d1d6=await getDocs(_0x3cded0),_0x1de255=[];_0x34d1d6['forEach'](_0x40daec=>{const _0x22a886=_0x59b9a8,_0x45bf4b=_0x40daec['data']();_0x45bf4b[_0x22a886(0x1b1)]&&_0x1de255['push']({..._0x45bf4b,'id':_0x40daec['id'],'elo':_0x45bf4b['eloRating']||0x0,'position':_0x45bf4b['position']||Number[_0x22a886(0x19c)]});});const _0x1cfca2=collection(db,'userProfiles'),_0x5d87d7=await getDocs(_0x1cfca2),_0x257772=new Map();_0x5d87d7['forEach'](_0x55b795=>{const _0x4c1542=_0x55b795['data']();_0x4c1542['username']&&_0x257772['set'](_0x4c1542['username']['toLowerCase'](),_0x4c1542);});for(const _0x3b6d70 of _0x1de255){const _0x416c45=_0x3b6d70['username']['toLowerCase']();if(_0x257772['has'](_0x416c45)){const _0x100dc9=_0x257772[_0x59b9a8(0x182)](_0x416c45);_0x100dc9['country']&&(_0x3b6d70[_0x59b9a8(0x1b5)]=_0x100dc9['country']['toLowerCase']());}}const _0x52a1b7=_0x1de255[_0x59b9a8(0x1a1)](_0x932eb7=>_0x932eb7[_0x59b9a8(0x1b1)]),_0x6ae23e=await fetchBatchMatchStatsD3(_0x52a1b7);_0x1de255['sort']((_0x2cfcdd,_0x2d173e)=>{const _0x2daf34=_0x59b9a8,_0x3ecdf4=_0x6ae23e['get'](_0x2cfcdd[_0x2daf34(0x1b1)])?.['totalMatches']||0x0,_0x2fea0c=_0x6ae23e['get'](_0x2d173e['username'])?.[_0x2daf34(0x181)]||0x0;if(_0x3ecdf4===0x0!==(_0x2fea0c===0x0))return _0x3ecdf4===0x0?0x1:-0x1;return(_0x2cfcdd['position']||0x3e7)-(_0x2d173e['position']||0x3e7);}),_0x1de255[_0x59b9a8(0x1b8)]((_0x3af06d,_0x46c5b4)=>{const _0x480b56=_0x59b9a8;_0x3af06d[_0x480b56(0x18b)]=_0x46c5b4+0x1;}),playerCacheD3[_0x59b9a8(0x19f)]=_0x1de255,playerCacheD3['timestamp']=_0x1be4dd,updateLadderDisplayD3(_0x1de255);}catch(_0xd45508){console[_0x59b9a8(0x1b3)]('Error\x20loading\x20D3\x20ladder:',_0xd45508),_0x461884['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x228\x22\x20style=\x22text-align:\x20center;\x20color:\x20red;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20D3\x20ladder\x20data:\x20'+_0xd45508['message']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}function calculateStreakDays(_0x39ce7c){if(!_0x39ce7c)return 0x0;const _0x21673f=_0x39ce7c['toDate'](),_0x2ff3a5=new Date(),_0x3e5c89=Math['abs'](_0x2ff3a5-_0x21673f);return Math['ceil'](_0x3e5c89/(0x3e8*0x3c*0x3c*0x18));}async function updatePlayerPositions(_0x58db99,_0x13f8f1){const _0x121503=a33_0x2cbb92;try{const _0x218575=collection(db,_0x121503(0x1aa)),_0x4a1f3c=await getDocs(_0x218575),_0x3be40c=[];_0x4a1f3c['forEach'](_0x4062b5=>{_0x3be40c['push']({'id':_0x4062b5['id'],..._0x4062b5['data']()});});const _0x23666c=_0x3be40c['find'](_0x556920=>_0x556920[_0x121503(0x1b1)]===_0x58db99),_0x333c39=_0x3be40c['find'](_0x10b3b1=>_0x10b3b1['username']===_0x13f8f1);if(!_0x23666c||!_0x333c39){console[_0x121503(0x1b3)](_0x121503(0x1b2));return;}if(_0x23666c['position']>_0x333c39['position']){const _0x3c8184=_0x333c39['position'];for(const _0x48743c of _0x3be40c){_0x48743c[_0x121503(0x18b)]>=_0x333c39[_0x121503(0x18b)]&&_0x48743c[_0x121503(0x18b)]<_0x23666c['position']&&_0x48743c[_0x121503(0x1b1)]!==_0x58db99&&await updateDoc(doc(db,'playersD3',_0x48743c['id']),{'position':_0x48743c[_0x121503(0x18b)]+0x1});}await updateDoc(doc(db,'playersD3',_0x23666c['id']),{'position':_0x3c8184});if(_0x3c8184===0x1){const _0x3ade39=doc(db,'playersD3',_0x23666c['id']),_0x30a809=await getDoc(_0x3ade39);!_0x30a809['data']()['firstPlaceDate']&&await updateDoc(_0x3ade39,{'firstPlaceDate':Timestamp[_0x121503(0x1a0)]()});}if(_0x333c39['position']===0x1){const _0x54d969=doc(db,'playersD3',_0x333c39['id']);await updateDoc(_0x54d969,{'firstPlaceDate':null});}}}catch(_0x4b3ca7){console['error'](_0x121503(0x19d),_0x4b3ca7);}}async function updateLadderDisplayD3(_0x553287){const _0x2fa6c2=a33_0x2cbb92;_0x553287['sort']((_0xaf3dac,_0x4790c2)=>_0xaf3dac['position']-_0x4790c2['position']);const _0x178a71=document['querySelector']('#ladder-d3\x20tbody');if(!_0x178a71)return;_0x178a71[_0x2fa6c2(0x196)]='';const _0x1f8baa=_0x553287['map'](_0x546904=>_0x546904['username']),_0x46bc2e=await fetchBatchMatchStatsD3(_0x1f8baa),_0x29de24=document['querySelector']('#ladder-d3\x20thead\x20tr');_0x29de24['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>Rank</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>Username</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>ELO</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>Matches</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>Wins</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>Losses</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>K/D</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>Win\x20Rate</th>\x0a\x20\x20\x20\x20';const _0x24724f=_0x553287[_0x2fa6c2(0x1a1)](_0x22db28=>{const _0x2d398d=_0x46bc2e['get'](_0x22db28['username'])||{'totalMatches':0x0,'wins':0x0,'losses':0x0,'kda':0x0,'winRate':0x0,'totalKills':0x0,'totalDeaths':0x0};return createPlayerRowD3(_0x22db28,_0x2d398d);})[_0x2fa6c2(0x19e)]('');_0x178a71[_0x2fa6c2(0x196)]=_0x24724f,getPlayersLastEloChangesD3(_0x1f8baa)['then'](_0x23d54e=>{const _0x4a0278=_0x2fa6c2,_0x3aea97=new Map();_0x178a71[_0x4a0278(0x18d)]('tr')['forEach']((_0x11aa51,_0x41e97c)=>{_0x41e97c<_0x1f8baa['length']&&_0x3aea97['set'](_0x1f8baa[_0x41e97c],_0x11aa51);}),_0x23d54e['forEach']((_0x2911fd,_0x45c31f)=>{const _0x57faec=_0x4a0278,_0x502910=_0x3aea97[_0x57faec(0x182)](_0x45c31f);if(_0x502910&&_0x2911fd!==0x0){const _0xc902c2=_0x502910['querySelector']('td:nth-child(3)');if(_0xc902c2){const _0x4b5be9=_0x2911fd>0x0?'+'+_0x2911fd:''+_0x2911fd,_0x5574da=_0xc902c2[_0x57faec(0x18e)]('.trend-indicator');_0x5574da&&(_0x5574da['textContent']=_0x4b5be9,_0x5574da['style']['color']=_0x2911fd>0x0?'#4CAF50':_0x57faec(0x1b7),_0x5574da[_0x57faec(0x17e)]['fontWeight']='bold',_0x5574da['style']['fontSize']='0.85em',_0x5574da['style']['display']='inline',_0x5574da['style'][_0x57faec(0x1b9)]=_0x57faec(0x1a8),_0x5574da['style'][_0x57faec(0x17c)]='1');}}});})[_0x2fa6c2(0x177)](_0x483a3b=>console['error']('Error\x20updating\x20D3\x20ELO\x20trend\x20indicators:',_0x483a3b));}async function fetchBatchMatchStatsD3(_0x5164ea){const _0x127d66=a33_0x2cbb92,_0x6f3627=new Map();try{const _0x52ff9f=collection(db,_0x127d66(0x1a6)),_0x1ae824=await getDocs(_0x52ff9f);_0x1ae824[_0x127d66(0x1b8)](_0x546267=>{const _0x220d3e=_0x127d66,_0x35c7f2=_0x546267['data']();if(_0x5164ea['includes'](_0x35c7f2['winnerUsername'])){const _0x47e52a=_0x35c7f2['winnerUsername'];!_0x6f3627[_0x220d3e(0x19a)](_0x47e52a)&&_0x6f3627['set'](_0x47e52a,{'totalMatches':0x0,'wins':0x0,'losses':0x0,'totalKills':0x0,'totalDeaths':0x0,'kda':0x0,'winRate':0x0});const _0x41f917=_0x6f3627['get'](_0x47e52a);_0x41f917['wins']++,_0x41f917['totalMatches']++,_0x41f917['totalKills']+=parseInt(_0x35c7f2['winnerScore'])||0x0,_0x41f917['totalDeaths']+=parseInt(_0x35c7f2['loserScore'])||0x0;}if(_0x5164ea['includes'](_0x35c7f2['loserUsername'])){const _0x449fd6=_0x35c7f2['loserUsername'];!_0x6f3627['has'](_0x449fd6)&&_0x6f3627[_0x220d3e(0x1ad)](_0x449fd6,{'totalMatches':0x0,'wins':0x0,'losses':0x0,'totalKills':0x0,'totalDeaths':0x0,'kda':0x0,'winRate':0x0});const _0x37301c=_0x6f3627['get'](_0x449fd6);_0x37301c['losses']++,_0x37301c['totalMatches']++,_0x37301c['totalKills']+=parseInt(_0x35c7f2['loserScore'])||0x0,_0x37301c['totalDeaths']+=parseInt(_0x35c7f2['winnerScore'])||0x0;}}),_0x6f3627['forEach'](_0x3c4a22=>{const _0x3b5dfc=_0x127d66;_0x3c4a22['kda']=_0x3c4a22[_0x3b5dfc(0x180)]>0x0?(_0x3c4a22[_0x3b5dfc(0x195)]/_0x3c4a22['totalDeaths'])['toFixed'](0x2):_0x3c4a22['totalKills'],_0x3c4a22['winRate']=_0x3c4a22['totalMatches']>0x0?(_0x3c4a22[_0x3b5dfc(0x191)]/_0x3c4a22[_0x3b5dfc(0x181)]*0x64)['toFixed'](0x1):0x0;});}catch(_0x161120){console['error']('Error\x20fetching\x20batch\x20match\x20stats\x20for\x20D3:',_0x161120);}return _0x6f3627;}function createPlayerRowD3(_0x1f4ee6,_0x1bdfbe){const _0x1aa59d=a33_0x2cbb92,_0x52eb2b=parseFloat(_0x1f4ee6[_0x1aa59d(0x18f)])||0x0;let _0xc6e8ae=_0x1aa59d(0x17f);if(_0x52eb2b>=0x7d0)_0xc6e8ae=_0x1aa59d(0x18c);else{if(_0x52eb2b>=0x708)_0xc6e8ae='#FFD700';else{if(_0x52eb2b>=0x640)_0xc6e8ae='#C0C0C0';else _0x52eb2b>=0x578&&(_0xc6e8ae=_0x1aa59d(0x1ab));}}let _0x11b9b5='';return _0x1f4ee6[_0x1aa59d(0x1b5)]&&(_0x11b9b5='<img\x20src=\x22../images/flags/'+_0x1f4ee6['country']['toLowerCase']()+_0x1aa59d(0x1b4)+_0x1f4ee6['country']+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22player-flag\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>'),'\x0a\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x1f4ee6['position']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22profile.html?username='+encodeURIComponent(_0x1f4ee6['username'])+'&ladder=d3\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22color:\x20'+_0xc6e8ae+';\x20text-decoration:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1f4ee6[_0x1aa59d(0x1b1)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x11b9b5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22color:\x20'+_0xc6e8ae+';\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22elo-container\x22\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22elo-value\x22>'+_0x52eb2b+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22trend-indicator\x22\x20style=\x22margin-left:\x205px;\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x1bdfbe['totalMatches']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x1bdfbe[_0x1aa59d(0x191)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x1bdfbe[_0x1aa59d(0x1a3)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x1bdfbe['kda']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x1bdfbe['winRate']+'%</td>\x0a\x20\x20\x20\x20</tr>';}function a33_0x411d(_0x3f1e7f,_0x3d1070){const _0x1b5e57=a33_0x3178();return a33_0x411d=function(_0x23b15a,_0x535c2b){_0x23b15a=_0x23b15a-0x177;let _0x317896=_0x1b5e57[_0x23b15a];return _0x317896;},a33_0x411d(_0x3f1e7f,_0x3d1070);}async function getPlayersLastEloChangesD3(_0x37f44c){const _0x2d3c90=a33_0x2cbb92,_0x20dbfd=new Map();_0x37f44c['forEach'](_0x54fde5=>_0x20dbfd['set'](_0x54fde5,0x0));try{console['log'](_0x2d3c90(0x17a),_0x37f44c);const _0x5d65e7=new Map(),_0xb811c=await getDocs(collection(db,'playersD3'));_0xb811c[_0x2d3c90(0x1b8)](_0x3d3e80=>{const _0x2cce74=_0x2d3c90,_0xd163be=_0x3d3e80[_0x2cce74(0x19f)]();_0xd163be['username']&&_0x5d65e7[_0x2cce74(0x1ad)](_0x3d3e80['id'],_0xd163be['username']);}),console['log'](_0x2d3c90(0x186),Array[_0x2d3c90(0x1ae)](_0x5d65e7['entries']()));const _0x29e57d=collection(db,'eloHistoryD3'),_0x37f87d=query(_0x29e57d,orderBy(_0x2d3c90(0x1a2),'desc'),limit(0x64)),_0x287f88=await getDocs(_0x37f87d);_0x287f88['empty']?console[_0x2d3c90(0x1a5)]('D3:\x20eloHistoryD3\x20is\x20empty,\x20trying\x20fallback...'):console['log']('D3:\x20Found\x20'+_0x287f88['size']+'\x20entries\x20in\x20eloHistoryD3');const _0x5cea01=new Map();_0x287f88[_0x2d3c90(0x1b8)](_0x4424bb=>{const _0x53cdee=_0x2d3c90,_0x584cea=_0x4424bb[_0x53cdee(0x19f)]();let _0x4de2b9=null;if(_0x584cea['username'])_0x4de2b9=_0x584cea['username'];else{if(_0x584cea[_0x53cdee(0x184)])_0x4de2b9=_0x584cea['playerUsername'];else{if(_0x584cea['player']&&typeof _0x584cea['player']===_0x53cdee(0x178))_0x4de2b9=_0x584cea['player'];else{if(_0x584cea['player']&&_0x5d65e7['has'](_0x584cea['player']))_0x4de2b9=_0x5d65e7['get'](_0x584cea['player']);else _0x584cea['playerId']&&_0x5d65e7[_0x53cdee(0x19a)](_0x584cea['playerId'])&&(_0x4de2b9=_0x5d65e7['get'](_0x584cea['playerId']));}}}(_0x584cea['username']==='pilot'||_0x584cea['playerUsername']==='pilot'||_0x584cea['player']&&_0x5d65e7[_0x53cdee(0x182)](_0x584cea['player'])===_0x53cdee(0x1b0))&&console['log']('D3:\x20Found\x20pilot\x20entry:',_0x584cea),_0x4de2b9&&_0x37f44c[_0x53cdee(0x193)](_0x4de2b9)&&(!_0x5cea01[_0x53cdee(0x19a)](_0x4de2b9)&&_0x5cea01['set'](_0x4de2b9,[]),_0x5cea01['get'](_0x4de2b9)[_0x53cdee(0x199)]({..._0x584cea,'timestamp':_0x584cea['timestamp']?.[_0x53cdee(0x1a9)]||0x0}));}),console['log']('D3:\x20Found\x20entries\x20for\x20'+_0x5cea01[_0x2d3c90(0x1b6)]+'\x20players'),_0x5cea01[_0x2d3c90(0x1b8)]((_0x11085c,_0x46b27c)=>{const _0x587f59=_0x2d3c90;if(_0x11085c['length']>0x0){_0x11085c['sort']((_0x569e39,_0x137d9e)=>_0x137d9e['timestamp']-_0x569e39['timestamp']);const _0x34eef3=_0x11085c[_0x587f59(0x19b)](_0x230734=>_0x230734[_0x587f59(0x198)]!==undefined||_0x230734['newElo']!==undefined&&_0x230734['previousElo']!==undefined);if(_0x34eef3){let _0x3d196e;if(_0x34eef3['change']!==undefined)_0x3d196e=_0x34eef3[_0x587f59(0x198)];else _0x34eef3[_0x587f59(0x1ac)]!==undefined&&_0x34eef3['previousElo']!==undefined&&(_0x3d196e=_0x34eef3[_0x587f59(0x1ac)]-_0x34eef3['previousElo']);_0x3d196e!==undefined&&(_0x20dbfd['set'](_0x46b27c,_0x3d196e),console['log']('D3:\x20'+_0x46b27c+'\x20ELO\x20change:\x20'+_0x3d196e));}}});if(_0x5cea01[_0x2d3c90(0x1b6)]===0x0){console['log'](_0x2d3c90(0x188));const _0x4a182f=collection(db,_0x2d3c90(0x1a7)),_0x4b203e=query(_0x4a182f,where(_0x2d3c90(0x1af),'==','D3'),orderBy('timestamp','desc'),limit(0x32));try{const _0x1465b2=await getDocs(_0x4b203e);console['log']('D3:\x20Found\x20'+_0x1465b2['size']+_0x2d3c90(0x17b)),_0x1465b2[_0x2d3c90(0x1b8)](_0x24fb94=>{const _0x71ae8=_0x2d3c90,_0x24d45d=_0x24fb94[_0x71ae8(0x19f)]();let _0x3a33f7=_0x24d45d['username']||_0x24d45d['playerUsername'];!_0x3a33f7&&_0x24d45d[_0x71ae8(0x187)]&&_0x5d65e7[_0x71ae8(0x19a)](_0x24d45d['player'])&&(_0x3a33f7=_0x5d65e7['get'](_0x24d45d[_0x71ae8(0x187)]));if(_0x3a33f7&&_0x37f44c['includes'](_0x3a33f7)){const _0x504dde=_0x24d45d['change']||(_0x24d45d[_0x71ae8(0x1ac)]!==undefined&&_0x24d45d['previousElo']!==undefined?_0x24d45d[_0x71ae8(0x1ac)]-_0x24d45d['previousElo']:0x0);_0x504dde!==0x0&&(_0x20dbfd['set'](_0x3a33f7,_0x504dde),console['log'](_0x71ae8(0x197)+_0x3a33f7+'\x20fallback\x20ELO\x20change:\x20'+_0x504dde));}});}catch(_0x21a6d5){console[_0x2d3c90(0x1a5)](_0x2d3c90(0x179),_0x21a6d5);}}const _0x699f3c=Array['from'](_0x20dbfd['entries']())['filter'](([_0x574b94,_0x27fa24])=>_0x27fa24!==0x0);console['log'](_0x2d3c90(0x194),_0x699f3c);}catch(_0x463689){console['error']('D3:\x20Error\x20fetching\x20ELO\x20history:',_0x463689);}return _0x20dbfd;}export{displayLadderD3,updatePlayerPositions};