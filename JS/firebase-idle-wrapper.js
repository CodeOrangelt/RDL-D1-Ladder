const a19_0x306863=a19_0x2f08;(function(_0x364695,_0x18565d){const _0x3e52e6=a19_0x2f08,_0xe01c89=_0x364695();while(!![]){try{const _0x41d97a=-parseInt(_0x3e52e6(0x21a))/0x1*(parseInt(_0x3e52e6(0x204))/0x2)+parseInt(_0x3e52e6(0x1d9))/0x3+parseInt(_0x3e52e6(0x1e2))/0x4+-parseInt(_0x3e52e6(0x1b9))/0x5+parseInt(_0x3e52e6(0x217))/0x6+-parseInt(_0x3e52e6(0x1ea))/0x7*(parseInt(_0x3e52e6(0x221))/0x8)+-parseInt(_0x3e52e6(0x1ff))/0x9;if(_0x41d97a===_0x18565d)break;else _0xe01c89['push'](_0xe01c89['shift']());}catch(_0x594c1e){_0xe01c89['push'](_0xe01c89['shift']());}}}(a19_0x385e,0x200ba));const a19_0x3f847b=(function(){let _0x55cae4=!![];return function(_0x5e5d0c,_0xdf419){const _0x2abb76=_0x55cae4?function(){const _0x199389=a19_0x2f08;if(_0xdf419){const _0x40a012=_0xdf419[_0x199389(0x1bc)](_0x5e5d0c,arguments);return _0xdf419=null,_0x40a012;}}:function(){};return _0x55cae4=![],_0x2abb76;};}()),a19_0x5321e9=a19_0x3f847b(this,function(){const _0x41272b=a19_0x2f08;return a19_0x5321e9[_0x41272b(0x1c4)]()['search'](_0x41272b(0x215))['toString']()[_0x41272b(0x218)](a19_0x5321e9)[_0x41272b(0x1df)](_0x41272b(0x215));});a19_0x5321e9();const a19_0x478a7d=(function(){let _0x1c9698=!![];return function(_0x2803d3,_0x5ec8bd){const _0x5ad122=_0x1c9698?function(){const _0x16c21d=a19_0x2f08;if(_0x5ec8bd){const _0x278eb=_0x5ec8bd[_0x16c21d(0x1bc)](_0x2803d3,arguments);return _0x5ec8bd=null,_0x278eb;}}:function(){};return _0x1c9698=![],_0x5ad122;};}()),a19_0x43ed8a=a19_0x478a7d(this,function(){const _0x2b5635=a19_0x2f08,_0x324b5b=function(){const _0x814fa7=a19_0x2f08;let _0x1f0250;try{_0x1f0250=Function(_0x814fa7(0x1eb)+_0x814fa7(0x1c8)+');')();}catch(_0x41d5b1){_0x1f0250=window;}return _0x1f0250;},_0x4f90c7=_0x324b5b(),_0x9c85fe=_0x4f90c7['console']=_0x4f90c7[_0x2b5635(0x1fe)]||{},_0x492fba=[_0x2b5635(0x1f0),'warn',_0x2b5635(0x20c),_0x2b5635(0x1fa),'exception','table',_0x2b5635(0x1fb)];for(let _0xbb9704=0x0;_0xbb9704<_0x492fba[_0x2b5635(0x211)];_0xbb9704++){const _0x3706ad=a19_0x478a7d[_0x2b5635(0x218)][_0x2b5635(0x1ca)]['bind'](a19_0x478a7d),_0x59717e=_0x492fba[_0xbb9704],_0xafc2fb=_0x9c85fe[_0x59717e]||_0x3706ad;_0x3706ad[_0x2b5635(0x1ef)]=a19_0x478a7d[_0x2b5635(0x1e8)](a19_0x478a7d),_0x3706ad[_0x2b5635(0x1c4)]=_0xafc2fb['toString']['bind'](_0xafc2fb),_0x9c85fe[_0x59717e]=_0x3706ad;}});a19_0x43ed8a();import{auth,db}from'./firebase-config.js';import{handleNetworkError}from'./idle-timeout.js';import{getDoc,getDocs,collection,doc,query,where,orderBy,limit,startAfter,addDoc,setDoc,updateDoc,deleteDoc,onSnapshot,getCountFromServer,writeBatch,serverTimestamp,Timestamp}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';function a19_0x2f08(_0x3633e5,_0x38d8c0){const _0x245d60=a19_0x385e();return a19_0x2f08=function(_0x43ed8a,_0x478a7d){_0x43ed8a=_0x43ed8a-0x1b9;let _0x477924=_0x245d60[_0x43ed8a];return _0x477924;},a19_0x2f08(_0x3633e5,_0x38d8c0);}function a19_0x385e(){const _0x4c2b94=['size','code','clear','firebase-suspend-indicator','[FirebaseIdle]\x20Error\x20suspending\x20listener:','toString','forEach','\x20operations\x20during\x20idle\x20state','\x20total\x20operations','{}.constructor(\x22return\x20this\x22)(\x20)','suspendSession','prototype','addDocument','Error\x20executing\x20pending\x20operation:','resumeAllListeners','blockedOperations','getElementById','RDL_SESSION_SUSPENDED','resource-exhausted','pendingTimeout','Executing\x20delayed\x20','listener_','_suspendedListeners','all','style','now','778803OcMPwz','catch','disabled','[FirebaseIdle]\x20Listeners\x20resumed','finally','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20right:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ff5555;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x205px\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x209999;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','search','[FirebaseIdle]\x20Error\x20creating\x20listener\x20','[FirebaseIdle]\x20Suspension\x20test\x20complete','825072QzAlQP','[FirebaseIdle]\x20Listener\x20created:\x20','random','body','system','suspendAllListeners','bind','substring','22169Ashndd','return\x20(function()\x20','operationType','includes','[FirebaseIdle]\x20Resuming\x20listener:','__proto__','log','unavailable','substr','createElement','deleteDocument','getDocument','[FirebaseIdle]\x20No\x20listeners\x20to\x20resume','[FirebaseIdle]\x20Operation\x20blocked\x20-\x20network\x20error','\x20operation','[FirebaseIdle]\x20All\x20listeners\x20suspended','error','trace','Executing\x20pending\x20','createListener','console','133281MaMQOu','warn','enabled','[FirebaseIdle]\x20Testing\x20suspension\x20-\x20attempting\x20read...','[FirebaseIdle]\x20Error\x20unsubscribing\x20listener\x20','912AmBRBA','\x20operations:\x20','add','network','message','resumeSession','[FirebaseIdle]\x20Resuming\x20listeners:','debug','info','getDocuments','delete','textContent','activeListeners','length','set','get','pendingOperations','(((.+)+)+)+$','remove','123546danLgs','constructor','[FirebaseIdle]\x20Cannot\x20resume\x20listener\x20directly:','36UIpIWA','test','update','checkSessionActive','[FirebaseIdle]\x20Active\x20listeners:\x20','enableDebug','appendChild','272tWVoVH','safeOperation','1081495HJXGvu','[FirebaseIdle]\x20Successfully\x20suspended\x20listener:','function','apply','[FirebaseIdle]\x20Creating\x20listener:\x20','[FirebaseIdle]\x20Operation\x20blocked\x20-\x20session\x20idle'];a19_0x385e=function(){return _0x4c2b94;};return a19_0x385e();}class FirebaseIdleWrapper{constructor(){const _0xe4277e=a19_0x2f08;this[_0xe4277e(0x210)]=new Map(),this['pendingOperations']=new Map(),this[_0xe4277e(0x1d2)]=null,this[_0xe4277e(0x1ce)]=0x0,this['debug']=![];}['checkSessionActive'](){const _0xee3a86=a19_0x2f08;if(window[_0xee3a86(0x1d0)]===!![])return console[_0xee3a86(0x1f0)](_0xee3a86(0x1be)),this['blockedOperations']=(this[_0xee3a86(0x1ce)]||0x0)+0x1,this[_0xee3a86(0x1ce)]%0xa===0x0&&console[_0xee3a86(0x200)]('[FirebaseIdle]\x20Blocked\x20'+this[_0xee3a86(0x1ce)]+_0xee3a86(0x1c6)),![];if(window['RDL_NETWORK_ERROR']===!![])return console[_0xee3a86(0x1f0)](_0xee3a86(0x1f7)),![];return!![];}async[a19_0x306863(0x222)](_0x5578b9,_0x870c9e,..._0x2f124a){const _0x5b70c3=a19_0x306863;if(!this[_0x5b70c3(0x21d)]()){const _0xf5cbeb=_0x870c9e+'-'+Date[_0x5b70c3(0x1d8)]()+'-'+Math[_0x5b70c3(0x1e4)]()['toString'](0x24)[_0x5b70c3(0x1e9)](0x2,0x9);return this['pendingOperations'][_0x5b70c3(0x212)](_0xf5cbeb,{'operation':_0x5578b9,'operationType':_0x870c9e,'args':_0x2f124a}),!this[_0x5b70c3(0x1d2)]&&(this['pendingTimeout']=setTimeout(()=>{const _0xd4a11d=_0x5b70c3;this[_0xd4a11d(0x214)][_0xd4a11d(0x1c1)](),this[_0xd4a11d(0x1d2)]=null;},0x5*0x3c*0x3e8)),null;}try{return await _0x5578b9(..._0x2f124a);}catch(_0x5a343d){if(_0x5a343d[_0x5b70c3(0x1c0)]===_0x5b70c3(0x1f1)||_0x5a343d[_0x5b70c3(0x1c0)]===_0x5b70c3(0x1d1)||_0x5a343d[_0x5b70c3(0x208)]&&_0x5a343d[_0x5b70c3(0x208)][_0x5b70c3(0x1ed)](_0x5b70c3(0x207)))return handleNetworkError(),null;throw _0x5a343d;}}async[a19_0x306863(0x1f5)](_0x463a5a){const _0x479255=a19_0x306863;return this[_0x479255(0x222)](getDoc,_0x479255(0x213),_0x463a5a);}async[a19_0x306863(0x20d)](_0x4d58e1){const _0x393ebf=a19_0x306863;return this[_0x393ebf(0x222)](getDocs,'query',_0x4d58e1);}async[a19_0x306863(0x1cb)](_0x4855a3,_0x39f6af){const _0x4e18f5=a19_0x306863;return this[_0x4e18f5(0x222)](addDoc,_0x4e18f5(0x206),_0x4855a3,_0x39f6af);}async['setDocument'](_0x386a6f,_0x6002c1,_0x20f1a6={}){const _0xe7fda1=a19_0x306863;return this[_0xe7fda1(0x222)](setDoc,_0xe7fda1(0x212),_0x386a6f,_0x6002c1,_0x20f1a6);}async['updateDocument'](_0x1b13ba,_0x5b078e){const _0x27a690=a19_0x306863;return this[_0x27a690(0x222)](updateDoc,_0x27a690(0x21c),_0x1b13ba,_0x5b078e);}async[a19_0x306863(0x1f4)](_0x25acdc){const _0x37b4e0=a19_0x306863;return this['safeOperation'](deleteDoc,_0x37b4e0(0x20e),_0x25acdc);}['suspendAllListeners'](){const _0x23a74c=a19_0x306863;console[_0x23a74c(0x1f0)]('[FirebaseIdle]\x20Suspending\x20all\x20active\x20listeners:',this['activeListeners'][_0x23a74c(0x1bf)]),this[_0x23a74c(0x1d5)]=new Map(this[_0x23a74c(0x210)]),this[_0x23a74c(0x210)]['forEach']((_0x41aa33,_0x1ba6c9)=>{const _0x36b4dc=_0x23a74c;console[_0x36b4dc(0x1f0)]('[FirebaseIdle]\x20Suspending\x20listener:',_0x1ba6c9);if(typeof _0x41aa33===_0x36b4dc(0x1bb))try{_0x41aa33(),console[_0x36b4dc(0x1f0)](_0x36b4dc(0x1ba),_0x1ba6c9);}catch(_0x50a8fc){console[_0x36b4dc(0x1fa)](_0x36b4dc(0x1c3),_0x1ba6c9,_0x50a8fc);}}),this[_0x23a74c(0x210)][_0x23a74c(0x1c1)]();if(this[_0x23a74c(0x20b)]){const _0x3bde1e=document[_0x23a74c(0x1f3)]('div');_0x3bde1e['id']=_0x23a74c(0x1c2),_0x3bde1e[_0x23a74c(0x1d7)]['cssText']=_0x23a74c(0x1de),_0x3bde1e[_0x23a74c(0x20f)]='Firebase:\x20Suspended',document[_0x23a74c(0x1e5)][_0x23a74c(0x220)](_0x3bde1e);}console[_0x23a74c(0x1f0)](_0x23a74c(0x1f9));}[a19_0x306863(0x1cd)](){const _0x5c0c91=a19_0x306863;if(!this[_0x5c0c91(0x1d5)]||this[_0x5c0c91(0x1d5)][_0x5c0c91(0x1bf)]===0x0){console['log'](_0x5c0c91(0x1f6));return;}console[_0x5c0c91(0x1f0)](_0x5c0c91(0x20a),this[_0x5c0c91(0x1d5)]['size']),this[_0x5c0c91(0x1d5)][_0x5c0c91(0x1c5)]((_0x5bf203,_0x43c5d1)=>{const _0x1222ee=_0x5c0c91;console['log'](_0x1222ee(0x1ee),_0x43c5d1);try{if(typeof _0x5bf203===_0x1222ee(0x1bb)){console['warn'](_0x1222ee(0x219),_0x43c5d1);return;}const {query:_0x48b694,callback:_0x4d1708,options:_0xfa5946}=_0x5bf203;if(_0x48b694&&_0x4d1708){const _0x103e83=onSnapshot(_0x48b694,_0x4d1708,_0xfa5946||{});this[_0x1222ee(0x210)][_0x1222ee(0x212)](_0x43c5d1,_0x103e83),console['log']('[FirebaseIdle]\x20Successfully\x20resumed\x20listener:',_0x43c5d1);}}catch(_0x30082e){console[_0x1222ee(0x1fa)]('[FirebaseIdle]\x20Error\x20resuming\x20listener:',_0x43c5d1,_0x30082e);}}),this[_0x5c0c91(0x1d5)][_0x5c0c91(0x1c1)]();const _0x23a673=document[_0x5c0c91(0x1cf)](_0x5c0c91(0x1c2));_0x23a673&&_0x23a673[_0x5c0c91(0x216)](),console[_0x5c0c91(0x1f0)](_0x5c0c91(0x1dc));}[a19_0x306863(0x1fd)](_0x5c39e4,_0xd6ed60,_0x236744={},_0x38a21e=null){const _0x3ba31a=a19_0x306863,_0x2e6092=_0x38a21e||_0x3ba31a(0x1d4)+Date[_0x3ba31a(0x1d8)]()+'_'+Math['random']()[_0x3ba31a(0x1c4)](0x24)[_0x3ba31a(0x1f2)](0x2,0x9);this[_0x3ba31a(0x20b)]&&console['log'](_0x3ba31a(0x1bd)+_0x2e6092);if(!this[_0x3ba31a(0x21d)]())return console[_0x3ba31a(0x1f0)]('[FirebaseIdle]\x20Session\x20suspended,\x20not\x20creating\x20listener:\x20'+_0x2e6092),()=>{};try{const _0x47f6e0=onSnapshot(_0x5c39e4,_0xd6ed60,_0x236744);return this['activeListeners']['set'](_0x2e6092,{'unsubscribe':_0x47f6e0,'query':_0x5c39e4,'callback':_0xd6ed60,'options':_0x236744}),this['debug']&&(console['log'](_0x3ba31a(0x1e3)+_0x2e6092),console[_0x3ba31a(0x1f0)](_0x3ba31a(0x21e)+this[_0x3ba31a(0x210)][_0x3ba31a(0x1bf)])),()=>{const _0x138d78=_0x3ba31a;this['debug']&&console[_0x138d78(0x1f0)]('[FirebaseIdle]\x20Manually\x20unsubscribing\x20listener:\x20'+_0x2e6092);try{_0x47f6e0(),this[_0x138d78(0x210)][_0x138d78(0x20e)](_0x2e6092),this[_0x138d78(0x20b)]&&(console[_0x138d78(0x1f0)]('[FirebaseIdle]\x20Listener\x20removed:\x20'+_0x2e6092),console[_0x138d78(0x1f0)]('[FirebaseIdle]\x20Active\x20listeners:\x20'+this[_0x138d78(0x210)][_0x138d78(0x1bf)]));}catch(_0x43a560){console[_0x138d78(0x1fa)](_0x138d78(0x203)+_0x2e6092+':',_0x43a560);}};}catch(_0x2f2bc7){return console[_0x3ba31a(0x1fa)](_0x3ba31a(0x1e0)+_0x2e6092+':',_0x2f2bc7),()=>{};}}['executePendingOperations'](_0x441c25=a19_0x306863(0x1d6)){const _0x14aae0=a19_0x306863;console[_0x14aae0(0x1f0)](_0x14aae0(0x1fc)+_0x441c25+_0x14aae0(0x205)+this['pendingOperations'][_0x14aae0(0x1bf)]+_0x14aae0(0x1c7));const _0x1dce6d=new Map(this[_0x14aae0(0x214)]);this['pendingOperations'][_0x14aae0(0x1c1)](),_0x1dce6d[_0x14aae0(0x1c5)]((_0x42aeab,_0x2d9000)=>{const _0x61a2f9=_0x14aae0;_0x441c25===_0x61a2f9(0x1d6)||_0x42aeab[_0x61a2f9(0x1ec)]===_0x441c25?(console['log'](_0x61a2f9(0x1d3)+_0x42aeab[_0x61a2f9(0x1ec)]+_0x61a2f9(0x1f8)),this['safeOperation'](_0x42aeab['operation'],_0x42aeab[_0x61a2f9(0x1ec)],..._0x42aeab['args'])[_0x61a2f9(0x1da)](_0x4440c4=>console[_0x61a2f9(0x1fa)](_0x61a2f9(0x1cc),_0x4440c4))):this[_0x61a2f9(0x214)]['set'](_0x2d9000,_0x42aeab);});}[a19_0x306863(0x21f)](_0x4fdc4d=!![]){const _0x51cd71=a19_0x306863;this['debug']=_0x4fdc4d,console[_0x51cd71(0x1f0)]('[FirebaseIdle]\x20Debug\x20mode\x20'+(_0x4fdc4d?_0x51cd71(0x201):_0x51cd71(0x1db)));if(_0x4fdc4d){const _0x4634eb=window['RDL_SESSION_SUSPENDED'];window[_0x51cd71(0x1d0)]=!![],console['log'](_0x51cd71(0x202)),this['getDocument'](doc(db,_0x51cd71(0x1e6),_0x51cd71(0x21b)))['then'](_0x23fca3=>{const _0x20398d=_0x51cd71;console[_0x20398d(0x1f0)]('[FirebaseIdle]\x20TEST\x20FAILED\x20-\x20read\x20succeeded\x20during\x20suspension',_0x23fca3);})['catch'](_0x46dca6=>{console['log']('[FirebaseIdle]\x20Error\x20during\x20test\x20(expected):',_0x46dca6);})[_0x51cd71(0x1dd)](()=>{const _0x390e44=_0x51cd71;console[_0x390e44(0x1f0)](_0x390e44(0x1e1)),window[_0x390e44(0x1d0)]=_0x4634eb;});}}}const firebaseIdle=new FirebaseIdleWrapper();export function enhanceIdleTimeout(){const _0x38b9d9=a19_0x306863,_0x30bc28=window['suspendSession']||function(){},_0x33586d=window[_0x38b9d9(0x209)]||function(){};window[_0x38b9d9(0x1c9)]=function(){const _0x1039f6=_0x38b9d9;_0x30bc28(),firebaseIdle[_0x1039f6(0x1e7)]();},window[_0x38b9d9(0x209)]=function(){const _0x1126a8=_0x38b9d9;_0x33586d(),firebaseIdle[_0x1126a8(0x1cd)]();};}export default firebaseIdle;