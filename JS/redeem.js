const a46_0x5779ec=a46_0x29fe,a46_0x3df4f6=(function(){let _0x3c4cac=!![];return function(_0xaf4902,_0x368d42){const _0x59549b=_0x3c4cac?function(){const _0x3e974f=a46_0x29fe;if(_0x368d42){const _0x5581a2=_0x368d42[_0x3e974f(0x106)](_0xaf4902,arguments);return _0x368d42=null,_0x5581a2;}}:function(){};return _0x3c4cac=![],_0x59549b;};}()),a46_0x3d548c=a46_0x3df4f6(this,function(){const _0x279a1f=a46_0x29fe;let _0x1a0550;try{const _0x31a766=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x1a0550=_0x31a766();}catch(_0x2f17fa){_0x1a0550=window;}const _0x995ee1=_0x1a0550['console']=_0x1a0550[_0x279a1f(0x115)]||{},_0x31b707=[_0x279a1f(0xee),'warn','info',_0x279a1f(0x132),_0x279a1f(0x11f),'table','trace'];for(let _0x45027b=0x0;_0x45027b<_0x31b707[_0x279a1f(0x12c)];_0x45027b++){const _0x2048f8=a46_0x3df4f6['constructor']['prototype'][_0x279a1f(0x12b)](a46_0x3df4f6),_0x258c32=_0x31b707[_0x45027b],_0x14bdd9=_0x995ee1[_0x258c32]||_0x2048f8;_0x2048f8[_0x279a1f(0x101)]=a46_0x3df4f6['bind'](a46_0x3df4f6),_0x2048f8['toString']=_0x14bdd9['toString']['bind'](_0x14bdd9),_0x995ee1[_0x258c32]=_0x2048f8;}});a46_0x3d548c();import{getAuth,onAuthStateChanged}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,updateDoc,collection,addDoc,serverTimestamp}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{clearTokenCache}from'./tokens.js';const auth=getAuth(),db=getFirestore(),THEMES={'default':{'price':0x0,'name':a46_0x5779ec(0x14e),'description':'Rock\x20texture\x20with\x20a\x20sleek\x20nav\x20and\x20footer'},'contrast':{'price':0x0,'name':a46_0x5779ec(0xe2),'description':'For\x20the\x20late-nights.'},'purple':{'price':0x96,'name':a46_0x5779ec(0x10b),'description':'Can\x27t\x20get\x20enough'},'ocean':{'price':0x12c,'name':'Blue','description':'This\x20one\x20is\x20really\x20pretty'},'cyberpunk':{'price':0x190,'name':'Yellow\x20Orange','description':a46_0x5779ec(0x167)},'volcanic':{'price':0x1f4,'name':'Red','description':a46_0x5779ec(0x128)},'gold':{'price':0x320,'name':a46_0x5779ec(0x148),'description':'Only\x20the\x20best\x20get\x20this\x20one'},'emerald':{'price':0x3e8,'name':'Emerald','description':a46_0x5779ec(0x173)},'cockpit':{'price':0x4b0,'name':a46_0x5779ec(0x15b),'description':'is\x20that...\x20Pfunk?'}},TOKENS={'pwr01':{'price':0x64,'name':'Energy','description':'Enhanced\x20energy\x20generation\x20unit','image':'../images/tokens/subgame/pwr01.gif','category':'powerup'},'fan':{'price':0x96,'name':'Fan','description':'Show\x20your\x20support\x20with\x20this\x20fan\x20token.','image':a46_0x5779ec(0xed),'category':a46_0x5779ec(0xd5)},'marker':{'price':0xfa,'name':'Marker','description':a46_0x5779ec(0x151),'image':'../images/tokens/Marker.gif','category':'fun'},'laser':{'price':0x12c,'name':a46_0x5779ec(0x16b),'description':'Classic\x20laser\x20weapon\x20token.','image':a46_0x5779ec(0x14f),'category':'weapon'},'pbomb':{'price':0x15e,'name':'Proximity\x20Bomb','description':a46_0x5779ec(0x15d),'image':'../images/tokens/subgame/pbomb.gif','category':a46_0x5779ec(0x172)},'fusion':{'price':0x15e,'name':'Fusion\x20Cannon','description':a46_0x5779ec(0xdd),'image':a46_0x5779ec(0x157),'category':'weapon'},'lock':{'price':0x1c2,'name':'Lock','description':'Lock\x20in\x20your\x20victory.','image':a46_0x5779ec(0xe4),'category':'fun'},'blob01':{'price':0x1f4,'name':'Blob\x20Token\x201','description':'A\x20mysterious\x20purple\x20blob\x20token','image':a46_0x5779ec(0x14d),'category':'blob'},'plasma':{'price':0x1f4,'name':a46_0x5779ec(0x147),'description':'High-powered\x20plasma\x20cannon\x20token.','image':a46_0x5779ec(0xfa),'category':'weapon'},'cloak':{'price':0x1f4,'name':a46_0x5779ec(0xe0),'description':'Become\x20one\x20with\x20the\x20shadows','image':a46_0x5779ec(0x139),'category':'special'},'pwr02':{'price':0x258,'name':'Shield\x20Orb','description':a46_0x5779ec(0xdc),'image':'../images/tokens/subgame/pwr02.gif','category':'powerup'},'mercury':{'price':0x258,'name':a46_0x5779ec(0x11b),'description':'Fast\x20and\x20furious\x20missile\x20token.','image':'../images/tokens/Mercury.gif','category':a46_0x5779ec(0x172)},'plasmablobl':{'price':0x258,'name':'Plasma\x20Blob','description':'A\x20mysterious\x20plasma\x20blob.','image':'../images/tokens/Plasmablobl.gif','category':'blob'},'smissile':{'price':0x28a,'name':'Smart\x20Missile','description':a46_0x5779ec(0xd6),'image':a46_0x5779ec(0xeb),'category':a46_0x5779ec(0x172)},'smartmine':{'price':0x2ee,'name':a46_0x5779ec(0x102),'description':'A\x20cunning\x20explosive\x20device.','image':a46_0x5779ec(0x118),'category':a46_0x5779ec(0x172)},'mmissile':{'price':0x320,'name':'Mega\x20Missile','description':'Heavy\x20ordinance\x20for\x20tough\x20situations','image':'../images/tokens/subgame/mmissile.gif','category':'weapon'},'gauge18':{'price':0x320,'name':'R/Y/B\x20Keys','description':'Monitor\x20your\x20ship\x27s\x20energy\x20levels','image':'../images/tokens/gauge18.gif','category':'equipment'},'extralife':{'price':0x320,'name':'Extra\x20Life','description':a46_0x5779ec(0xe1),'image':'../images/tokens/Extralife.gif','category':a46_0x5779ec(0x154)},'hostage':{'price':0x3b6,'name':'Hostage','description':'Rescue\x20the\x20hostage\x20for\x20bonus\x20points.','image':'../images/tokens/Hostage.gif','category':'special'},'phoenix':{'price':0x3b6,'name':'Phoenix\x20Cannon','description':'Fiery\x20phoenix\x20cannon\x20token.','image':'../images/tokens/Phoenix.gif','category':a46_0x5779ec(0x172)},'blob02':{'price':0x3e8,'name':'Blob\x20Token\x202','description':'Another\x20enigmatic\x20blob\x20creature','image':'../images/tokens/blob02.gif','category':'blob'},'invuln':{'price':0x5dc,'name':a46_0x5779ec(0xda),'description':'Become\x20invincible\x20for\x20a\x20short\x20time.','image':'../images/tokens/Invuln.gif','category':'powerup'},'blob03':{'price':0x7d0,'name':a46_0x5779ec(0x150),'description':a46_0x5779ec(0x119),'image':a46_0x5779ec(0x16d),'category':'blob'},'reactor':{'price':0x7d0,'name':a46_0x5779ec(0x104),'description':'The\x20heart\x20of\x20every\x20mine.','image':'../images/tokens/Reactor.gif','category':'special'},'pyro':{'price':0xbb8,'name':'Pyro','description':a46_0x5779ec(0xdb),'image':'../images/tokens/Pyro.gif','category':'ship'}};let userData={'points':0x0,'inventory':[],'isAdmin':![]},storeContainer,pointsDisplay,authWarning;document['addEventListener']('DOMContentLoaded',()=>{const _0x54aa7a=a46_0x5779ec;console[_0x54aa7a(0xee)]('üè™\x20Redeem\x20store\x20initializing...'),storeContainer=document['getElementById'](_0x54aa7a(0x14a)),pointsDisplay=document[_0x54aa7a(0x146)](_0x54aa7a(0xf6)),authWarning=document['getElementById']('auth-warning'),initAuthListener(),buildStoreUI();});function initAuthListener(){onAuthStateChanged(auth,async _0x1cbbfe=>{const _0x22c59b=a46_0x29fe;if(_0x1cbbfe){console[_0x22c59b(0xee)]('‚úÖ\x20User\x20authenticated:',_0x1cbbfe[_0x22c59b(0xe6)]||_0x1cbbfe['email']);if(authWarning)authWarning['style']['display']='none';if(storeContainer)storeContainer[_0x22c59b(0x133)]['display']='block';await loadUserData(_0x1cbbfe),updateThemeButtons(),updateTokenButtons();}else{console['log'](_0x22c59b(0xfe));if(authWarning)authWarning['style'][_0x22c59b(0x171)]=_0x22c59b(0x158);if(storeContainer)storeContainer['style']['display']='none';userData={'points':0x0,'inventory':[],'isAdmin':![]},window['isUserAdmin']=![];}});}async function loadUserData(_0x3c2f84){const _0x3d1e75=a46_0x5779ec;try{const _0x472122=doc(db,'userProfiles',_0x3c2f84[_0x3d1e75(0x13a)]),_0x2d74f2=await getDoc(_0x472122);if(_0x2d74f2['exists']()){const _0x228081=_0x2d74f2['data']();userData={'points':_0x228081[_0x3d1e75(0xd4)]||0x0,'inventory':_0x228081['inventory']||[],'isAdmin':_0x228081['isAdmin']||![],'equippedToken':_0x228081['equippedToken']||null},pointsDisplay&&(pointsDisplay['textContent']=userData[_0x3d1e75(0xd4)]['toLocaleString']()),window['isUserAdmin']=userData[_0x3d1e75(0x11c)],userData['isAdmin']&&(console[_0x3d1e75(0xee)](_0x3d1e75(0x176)),window['dispatchEvent'](new CustomEvent('adminStatusChanged',{'detail':{'isAdmin':!![]}}))),console['log'](_0x3d1e75(0x169)+userData['points']+',\x20Inventory:\x20'+userData['inventory']['length']+'\x20items,\x20Equipped:\x20'+(userData[_0x3d1e75(0x141)]||_0x3d1e75(0x112)));}else await setDoc(_0x472122,{'points':0x0,'inventory':[],'equippedToken':null,'createdAt':serverTimestamp(),'username':_0x3c2f84['displayName']||_0x3c2f84['email']?.['split']('@')[0x0]||'User'}),userData={'points':0x0,'inventory':[],'isAdmin':![],'equippedToken':null},pointsDisplay&&(pointsDisplay['textContent']='0'),window['isUserAdmin']=![],console[_0x3d1e75(0xee)]('New\x20user\x20profile\x20created');}catch(_0x210e4a){console['error']('Error\x20loading\x20user\x20data:',_0x210e4a);}}function userOwnsTheme(_0x50f4ac){const _0x1a17d5=a46_0x5779ec;if(THEMES[_0x50f4ac]?.['price']===0x0)return!![];return userData['inventory'][_0x1a17d5(0xf5)]('theme_'+_0x50f4ac);}function userOwnsToken(_0x5bf807){return userData['inventory']['includes']('token_'+_0x5bf807);}function userHasTokenEquipped(_0x394694){return userData['equippedToken']===_0x394694;}function getEquippedToken(){const _0x2dad1e=a46_0x5779ec;return userData[_0x2dad1e(0x141)]||null;}async function purchaseTheme(_0x3a28e3){const _0x5a7e72=a46_0x5779ec,_0x574c57=auth[_0x5a7e72(0x162)];if(!_0x574c57)return showMessage('Please\x20sign\x20in\x20to\x20purchase\x20themes','error'),![];const _0x1c05f6=THEMES[_0x3a28e3];if(!_0x1c05f6)return console[_0x5a7e72(0x132)]('Theme\x20'+_0x3a28e3+_0x5a7e72(0x16e)),![];if(userData['points']<_0x1c05f6[_0x5a7e72(0xfc)])return showMessage('Not\x20enough\x20points.\x20You\x20need\x20'+(_0x1c05f6['price']-userData['points'])+_0x5a7e72(0x10a),_0x5a7e72(0x132)),![];if(userOwnsTheme(_0x3a28e3))return showMessage('You\x20already\x20own\x20the\x20'+_0x1c05f6['name']+'\x20theme','info'),![];try{return await processPurchase(_0x3a28e3,_0x1c05f6,_0x5a7e72(0x152));}catch(_0x104c90){return console['error']('Theme\x20purchase\x20failed:',_0x104c90),showMessage('Purchase\x20failed.\x20Please\x20try\x20again.','error'),![];}}async function purchaseToken(_0x21d323){const _0x13b5f0=a46_0x5779ec,_0x2fa0b7=auth['currentUser'];if(!_0x2fa0b7)return showMessage('Please\x20sign\x20in\x20to\x20purchase\x20tokens','error'),![];const _0x32b36a=TOKENS[_0x21d323];if(!_0x32b36a)return console['error']('Token\x20'+_0x21d323+'\x20not\x20found'),![];if(userData[_0x13b5f0(0xd4)]<_0x32b36a[_0x13b5f0(0xfc)])return showMessage('Not\x20enough\x20points.\x20You\x20need\x20'+(_0x32b36a['price']-userData[_0x13b5f0(0xd4)])+'\x20more\x20points.','error'),![];if(userOwnsToken(_0x21d323))return showMessage('You\x20already\x20own\x20the\x20'+_0x32b36a['name']+'\x20token','info'),![];try{return await processPurchase(_0x21d323,_0x32b36a,'token');}catch(_0x8f6ea3){return console['error']('Token\x20purchase\x20failed:',_0x8f6ea3),showMessage('Purchase\x20failed.\x20Please\x20try\x20again.',_0x13b5f0(0x132)),![];}}async function processPurchase(_0x2f6224,_0x37bdd1,_0x3514ce){const _0x144c2b=a46_0x5779ec,_0x3a4f37=auth[_0x144c2b(0x162)];try{const _0x5f94d7=doc(db,'userProfiles',_0x3a4f37['uid']),_0x297f1e=await getDoc(_0x5f94d7);if(!_0x297f1e[_0x144c2b(0xd7)]())return showMessage('User\x20profile\x20not\x20found',_0x144c2b(0x132)),![];const _0x3e57ac=_0x297f1e[_0x144c2b(0x16a)](),_0x4f065c=_0x3e57ac['points']||0x0,_0x2d1a86=_0x3e57ac['inventory']||[];if(_0x4f065c<_0x37bdd1['price'])return showMessage('Insufficient\x20points','error'),![];if(_0x2d1a86[_0x144c2b(0xf5)](_0x3514ce+'_'+_0x2f6224))return showMessage(_0x144c2b(0x15f)+_0x3514ce,_0x144c2b(0xe7)),![];const _0x575dd6=_0x4f065c-_0x37bdd1[_0x144c2b(0xfc)],_0x22a55e=[..._0x2d1a86,_0x3514ce+'_'+_0x2f6224];await updateDoc(_0x5f94d7,{'points':_0x575dd6,'inventory':_0x22a55e,'lastPurchase':serverTimestamp()});if(_0x3514ce==='token')try{const _0x55b3bf=doc(db,_0x144c2b(0x13d),_0x3a4f37[_0x144c2b(0x13a)]),_0x35c82f=await getDoc(_0x55b3bf);let _0x5b8ea8=[];_0x35c82f['exists']()&&(_0x5b8ea8=_0x35c82f['data']()['tokens']||[]);const _0x3a990d=new Date();_0x5b8ea8[_0x144c2b(0x170)]({'tokenId':_0x2f6224,'tokenName':_0x37bdd1[_0x144c2b(0xea)],'tokenImage':_0x37bdd1[_0x144c2b(0x155)],'category':_0x37bdd1['category'],'purchasedAt':_0x3a990d,'price':_0x37bdd1['price'],'equipped':![]}),await setDoc(_0x55b3bf,{'userId':_0x3a4f37['uid'],'username':_0x3e57ac[_0x144c2b(0x13b)]||_0x3a4f37[_0x144c2b(0xe6)]||_0x144c2b(0x10d),'tokens':_0x5b8ea8,'lastUpdated':serverTimestamp()},{'merge':!![]}),typeof clearTokenCache==='function'&&clearTokenCache(_0x3a4f37['uid']),console['log']('‚úÖ\x20Token\x20'+_0x2f6224+'\x20saved\x20to\x20userTokens\x20collection\x20(not\x20equipped)');}catch(_0x254601){console[_0x144c2b(0x10f)]('Token\x20collection\x20update\x20had\x20an\x20issue,\x20but\x20purchase\x20completed:',_0x254601),_0x254601['code']==='permission-denied'?console['log']('üîß\x20Token\x20permissions\x20issue\x20detected,\x20but\x20purchase\x20was\x20successful'):console['error']('Unexpected\x20token\x20error:',_0x254601);}try{await addDoc(collection(db,_0x144c2b(0x142)),{'userId':_0x3a4f37['uid'],'userEmail':_0x3a4f37['email'],'itemId':_0x3514ce+'_'+_0x2f6224,'itemTitle':_0x37bdd1[_0x144c2b(0xea)],'price':_0x37bdd1['price'],'type':_0x144c2b(0x144),'category':_0x3514ce,'timestamp':serverTimestamp()});}catch(_0x3f8420){console['warn']('Transaction\x20logging\x20failed,\x20but\x20purchase\x20was\x20successful:',_0x3f8420);}return userData['points']=_0x575dd6,userData['inventory']=_0x22a55e,pointsDisplay&&(pointsDisplay[_0x144c2b(0x12a)]=userData['points']['toLocaleString']()),updateTokenButtons(),_0x3514ce==='theme'&&updateThemeButtons(),console[_0x144c2b(0xee)]('‚úÖ\x20Purchased\x20'+_0x37bdd1['name']+_0x144c2b(0x117)+_0x37bdd1['price']+'\x20points'),showMessage('Successfully\x20purchased\x20'+_0x37bdd1['name']+'!\x20Use\x20the\x20\x22Equip\x22\x20button\x20to\x20show\x20it\x20on\x20the\x20ladder.',_0x144c2b(0x13f)),!![];}catch(_0x2420f6){console['error']('Purchase\x20processing\x20error:',_0x2420f6);if(_0x2420f6[_0x144c2b(0x131)]==='permission-denied')showMessage('Permission\x20denied.\x20Please\x20try\x20again\x20or\x20contact\x20support.','error');else{if(_0x2420f6['code']==='unavailable')showMessage(_0x144c2b(0x15e),_0x144c2b(0x132));else _0x2420f6['code']===_0x144c2b(0xd8)?showMessage('Please\x20sign\x20in\x20again\x20to\x20complete\x20purchase.','error'):showMessage(_0x144c2b(0x125),_0x144c2b(0x132));}return![];}}function a46_0x29fe(_0x1dafe4,_0x4860a6){const _0x3d548c=a46_0x211f();return a46_0x29fe=function(_0x3df4f6,_0x1ec0aa){_0x3df4f6=_0x3df4f6-0xd4;let _0x211fa1=_0x3d548c[_0x3df4f6];return _0x211fa1;},a46_0x29fe(_0x1dafe4,_0x4860a6);}async function equipToken(_0x305363){const _0x4a9885=a46_0x5779ec,_0x1e5ffd=auth['currentUser'];if(!_0x1e5ffd)return showMessage('Please\x20sign\x20in\x20to\x20equip\x20tokens',_0x4a9885(0x132)),![];const _0x18e162=TOKENS[_0x305363];if(!_0x18e162)return console['error'](_0x4a9885(0x126)+_0x305363+_0x4a9885(0x16e)),![];if(!userOwnsToken(_0x305363))return showMessage('You\x20must\x20own\x20this\x20token\x20to\x20equip\x20it','error'),![];try{const _0x56bd09=doc(db,'userProfiles',_0x1e5ffd['uid']);await updateDoc(_0x56bd09,{'equippedToken':_0x305363,'lastTokenEquip':serverTimestamp()});try{const _0x5a4614=doc(db,'userTokens',_0x1e5ffd['uid']),_0x4dc691=await getDoc(_0x5a4614);if(_0x4dc691[_0x4a9885(0xd7)]()){const _0x21cfa4=_0x4dc691[_0x4a9885(0x16a)](),_0x534b66=_0x21cfa4[_0x4a9885(0x156)]||[],_0x506f2a=_0x534b66['map'](_0x48a104=>({..._0x48a104,'equipped':_0x48a104['tokenId']===_0x305363}));await updateDoc(_0x5a4614,{'tokens':_0x506f2a,'equippedToken':_0x305363,'lastUpdated':serverTimestamp()});}}catch(_0x172205){console[_0x4a9885(0x10f)]('Token\x20collection\x20update\x20had\x20an\x20issue,\x20but\x20equip\x20was\x20successful:',_0x172205);}return userData[_0x4a9885(0x141)]=_0x305363,typeof clearTokenCache==='function'&&(clearTokenCache(_0x1e5ffd['uid']),clearTokenCache()),setTimeout(()=>{const _0x25661a=_0x4a9885;window['displayLadder']&&typeof window['displayLadder']==='function'&&(console['log']('üîÑ\x20Refreshing\x20ladder\x20to\x20show\x20equipped\x20token'),window['displayLadder'](!![])),window['RedeemStore']&&typeof window[_0x25661a(0x166)]['refreshUI']===_0x25661a(0x136)&&window['RedeemStore']['refreshUI']();},0x1f4),console['log'](_0x4a9885(0x143)+_0x18e162['name']),showMessage(_0x18e162[_0x4a9885(0xea)]+'\x20equipped!\x20Ladder\x20will\x20refresh\x20shortly.','success'),!![];}catch(_0xad98bf){return console['error'](_0x4a9885(0x140),_0xad98bf),_0xad98bf[_0x4a9885(0x131)]===_0x4a9885(0x130)?showMessage('Permission\x20denied.\x20Token\x20may\x20still\x20be\x20equipped\x20-\x20check\x20the\x20ladder.','warning'):showMessage('Failed\x20to\x20equip\x20token:\x20'+_0xad98bf[_0x4a9885(0x11a)],_0x4a9885(0x132)),![];}}async function unequipToken(){const _0x24709e=a46_0x5779ec,_0x1d7497=auth['currentUser'];if(!_0x1d7497)return showMessage('Please\x20sign\x20in\x20to\x20unequip\x20tokens','error'),![];if(!userData['equippedToken'])return showMessage(_0x24709e(0x109),'info'),![];try{const _0x392936=doc(db,'userProfiles',_0x1d7497[_0x24709e(0x13a)]);await updateDoc(_0x392936,{'equippedToken':null,'lastTokenEquip':serverTimestamp()});const _0x3d7d07=doc(db,_0x24709e(0x13d),_0x1d7497['uid']),_0x3b5c29=await getDoc(_0x3d7d07);if(_0x3b5c29['exists']()){const _0x54c405=_0x3b5c29['data'](),_0x688d47=_0x54c405['tokens']||[],_0x464db2=_0x688d47[_0x24709e(0x116)](_0x33c7bc=>({..._0x33c7bc,'equipped':![]}));await updateDoc(_0x3d7d07,{'tokens':_0x464db2,'equippedToken':null,'lastUpdated':serverTimestamp()});}return userData[_0x24709e(0x141)]=null,typeof clearTokenCache==='function'&&(clearTokenCache(_0x1d7497['uid']),clearTokenCache()),setTimeout(()=>{const _0x1c1625=_0x24709e;window['displayLadder']&&typeof window['displayLadder']===_0x1c1625(0x136)&&(console['log'](_0x1c1625(0xf0)),window['displayLadder'](!![])),window['RedeemStore']&&typeof window[_0x1c1625(0x166)]['refreshUI']==='function'&&window['RedeemStore'][_0x1c1625(0x10c)]();},0x1f4),console['log']('‚úÖ\x20Token\x20unequipped'),showMessage('Token\x20unequipped!\x20Ladder\x20will\x20refresh\x20shortly.',_0x24709e(0x13f)),!![];}catch(_0x1014fa){return console['error']('Token\x20unequip\x20failed:',_0x1014fa),showMessage('Failed\x20to\x20unequip\x20token:\x20'+_0x1014fa[_0x24709e(0x11a)],'error'),![];}}async function sellToken(_0x5906ce){const _0x2a0cd2=a46_0x5779ec,_0x53acb5=auth['currentUser'];if(!_0x53acb5)return showMessage('Please\x20sign\x20in\x20to\x20sell\x20tokens',_0x2a0cd2(0x132)),![];if(!userData['isAdmin'])return showMessage('Only\x20admins\x20can\x20sell\x20tokens','error'),![];const _0x2cdad1=TOKENS[_0x5906ce];if(!_0x2cdad1)return console['error'](_0x2a0cd2(0x126)+_0x5906ce+'\x20not\x20found'),![];if(!userOwnsToken(_0x5906ce))return showMessage('You\x20don\x27t\x20own\x20this\x20token','error'),![];try{const _0x5793e5=doc(db,_0x2a0cd2(0x16c),_0x53acb5['uid']),_0x263071=await getDoc(_0x5793e5),_0x246038=_0x263071['data'](),_0x185b97=Math[_0x2a0cd2(0x135)](_0x2cdad1['price']*0.5),_0x332a25=(_0x246038['points']||0x0)+_0x185b97,_0x4e5b71=(_0x246038['inventory']||[])[_0x2a0cd2(0x160)](_0x12ecb9=>_0x12ecb9!=='token_'+_0x5906ce),_0x48c5cf=_0x246038['equippedToken']===_0x5906ce?null:_0x246038['equippedToken'];await updateDoc(_0x5793e5,{'points':_0x332a25,'inventory':_0x4e5b71,'equippedToken':_0x48c5cf,'lastSale':serverTimestamp()});const _0x36192e=doc(db,'userTokens',_0x53acb5['uid']),_0x559750=await getDoc(_0x36192e);if(_0x559750['exists']()){const _0x4c7b20=_0x559750[_0x2a0cd2(0x16a)](),_0x39eae3=_0x4c7b20['tokens']||[],_0xa277e9=_0x39eae3['filter'](_0x41f950=>_0x41f950['tokenId']!==_0x5906ce);await updateDoc(_0x36192e,{'tokens':_0xa277e9,'equippedToken':_0x48c5cf,'lastUpdated':serverTimestamp()});}return await addDoc(collection(db,'transactions'),{'userId':_0x53acb5[_0x2a0cd2(0x13a)],'userEmail':_0x53acb5['email'],'itemId':'token_'+_0x5906ce,'itemTitle':_0x2cdad1['name'],'refund':_0x185b97,'originalPrice':_0x2cdad1['price'],'type':'sale','category':_0x2a0cd2(0x149),'timestamp':serverTimestamp()}),userData[_0x2a0cd2(0xd4)]=_0x332a25,userData['inventory']=_0x4e5b71,userData['equippedToken']=_0x48c5cf,pointsDisplay&&(pointsDisplay['textContent']=userData['points']['toLocaleString']()),typeof clearTokenCache==='function'&&clearTokenCache(_0x53acb5['uid']),console['log']('‚úÖ\x20Sold\x20token\x20'+_0x2cdad1['name']+'\x20for\x20'+_0x185b97+'\x20points'),showMessage('Sold\x20'+_0x2cdad1[_0x2a0cd2(0xea)]+'\x20for\x20'+_0x185b97+'\x20points\x20(50%\x20refund)','success'),!![];}catch(_0x57e2aa){return console['error']('Token\x20sale\x20failed:',_0x57e2aa),showMessage('Failed\x20to\x20sell\x20token:\x20'+_0x57e2aa[_0x2a0cd2(0x11a)],_0x2a0cd2(0x132)),![];}}function applyTheme(_0x10f6eb){const _0x4de777=a46_0x5779ec;if(!userOwnsTheme(_0x10f6eb))return showMessage(_0x4de777(0x121),_0x4de777(0x132)),![];return window['ThemeSystem']?(window[_0x4de777(0xf7)][_0x4de777(0x123)](_0x10f6eb),showMessage((THEMES[_0x10f6eb]?.[_0x4de777(0xea)]||_0x10f6eb)+'\x20theme\x20applied!',_0x4de777(0x13f)),!![]):(console[_0x4de777(0x132)](_0x4de777(0x12e)),![]);}function buildStoreUI(){buildThemeItems(),buildTokenItems();}function buildThemeItems(){const _0x459590=a46_0x5779ec,_0x45284b=document['querySelector'](_0x459590(0x10e));if(!_0x45284b){console['error']('Themes\x20container\x20not\x20found');return;}_0x45284b['innerHTML']='',Object['entries'](THEMES)['forEach'](([_0x2d11d8,_0x3d1858])=>{const _0x373a5b=_0x459590,_0x29224d=document[_0x373a5b(0xfb)](_0x373a5b(0xd9));_0x29224d['className']='store-item',_0x29224d['dataset']['theme']=_0x2d11d8,_0x29224d['dataset']['itemId']='theme_'+_0x2d11d8,_0x29224d['dataset']['price']=_0x3d1858[_0x373a5b(0xfc)],_0x29224d[_0x373a5b(0x14c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-icon\x20theme-icon-'+_0x2d11d8+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-palette\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-price\x22>'+(_0x3d1858['price']===0x0?'FREE':_0x3d1858[_0x373a5b(0xfc)]+_0x373a5b(0x16f))+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22item-title\x22>'+_0x3d1858['name']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22item-description\x22>'+_0x3d1858['description']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22theme-select-btn\x20purchase-btn\x22>Select\x20Theme</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x45284b[_0x373a5b(0x163)](_0x29224d);}),setupThemeButtons();}function buildTokenItems(){const _0x1ea820=a46_0x5779ec,_0x114f7c=document['querySelector'](_0x1ea820(0xf3));if(!_0x114f7c){console[_0x1ea820(0x132)]('Tokens\x20container\x20not\x20found');return;}_0x114f7c['innerHTML']='',Object['entries'](TOKENS)['forEach'](([_0x3345a5,_0x17c59f])=>{const _0x1b411d=_0x1ea820,_0x1c6e9a=document['createElement'](_0x1b411d(0xd9));_0x1c6e9a[_0x1b411d(0xe8)]=_0x1b411d(0x161),_0x1c6e9a['dataset']['token']=_0x3345a5,_0x1c6e9a['dataset']['itemId']=_0x1b411d(0xe3)+_0x3345a5,_0x1c6e9a[_0x1b411d(0x103)][_0x1b411d(0xfc)]=_0x17c59f['price'];const _0x14906e=userData['isAdmin']&&userOwnsToken(_0x3345a5)?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22token-sell-btn\x20admin-btn\x22\x20style=\x22margin-top:\x200.5rem;\x20background:\x20#f44336;\x20font-size:\x200.8rem;\x20padding:\x200.3rem;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Sell\x20('+Math['floor'](_0x17c59f['price']*0.5)+'\x20pts)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20':'';_0x1c6e9a['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-icon\x20token-icon\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22'+_0x17c59f['image']+'\x22\x20alt=\x22'+_0x17c59f['name']+'\x22\x20class=\x22token-preview\x22\x20onerror=\x22this.style.display=\x27none\x27;\x20this.nextElementSibling.style.display=\x27flex\x27;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22token-fallback\x22\x20style=\x22display:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-coins\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-price\x22>'+_0x17c59f['price']+_0x1b411d(0x15c)+_0x14906e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x114f7c[_0x1b411d(0x163)](_0x1c6e9a);}),setupTokenButtons();}function setupThemeButtons(){const _0x2cf7cc=a46_0x5779ec,_0x310967=document[_0x2cf7cc(0xec)](_0x2cf7cc(0x14b));_0x310967['forEach'](_0x26fd27=>{const _0x18a037=_0x2cf7cc;_0x26fd27[_0x18a037(0x13e)](_0x18a037(0xe5),async _0x11eace=>{const _0x557448=_0x18a037;_0x11eace['preventDefault']();const _0xfb2ca9=auth['currentUser'];if(!_0xfb2ca9){showMessage('Please\x20sign\x20in\x20to\x20select\x20themes','error');return;}const _0xc06b2d=_0x26fd27['closest']('[data-theme]'),_0x529724=_0xc06b2d['dataset']['theme'],_0x4bc02b=THEMES[_0x529724];if(!_0x4bc02b){console['error']('Theme\x20'+_0x529724+_0x557448(0x16e));return;}console[_0x557448(0xee)]('Theme\x20clicked:\x20'+_0x4bc02b['name']+'\x20('+_0x529724+')');if(_0x26fd27[_0x557448(0x108)]){_0x4bc02b['price']>0x0&&showMessage(_0x557448(0xde)+_0x4bc02b['price']+'\x20points\x20to\x20purchase\x20this\x20theme','error');return;}if(_0x26fd27[_0x557448(0x12a)]==='Current\x20Theme'){showMessage(_0x4bc02b['name']+_0x557448(0x124),'info');return;}if(_0x26fd27['textContent']===_0x557448(0x137)){applyTheme(_0x529724),updateThemeButtons();return;}if(_0x26fd27['textContent'][_0x557448(0xf5)]('Buy')){const _0x2b919b=window['confirm']('Purchase\x20'+_0x4bc02b['name']+'\x20theme\x20for\x20'+_0x4bc02b['price']+'\x20points?');if(!_0x2b919b)return;const _0xafc7ef=await purchaseTheme(_0x529724);_0xafc7ef&&(showMessage(_0x4bc02b['name']+'\x20theme\x20purchased!','success'),applyTheme(_0x529724),updateThemeButtons());return;}userOwnsTheme(_0x529724)?applyTheme(_0x529724):showMessage('You\x20must\x20purchase\x20this\x20theme\x20first','error');});}),updateThemeButtons();}function setupTokenButtons(){const _0x50a57b=a46_0x5779ec,_0x535df4=document['querySelectorAll'](_0x50a57b(0xf1)),_0x59ac68=document[_0x50a57b(0xec)](_0x50a57b(0x175)),_0x31a5f5=document['querySelectorAll'](_0x50a57b(0xf9));_0x535df4['forEach'](_0x56dc25=>{_0x56dc25['addEventListener']('click',async _0x258451=>{const _0x5afe49=a46_0x29fe;_0x258451['preventDefault']();const _0x4b23e2=auth[_0x5afe49(0x162)];if(!_0x4b23e2){showMessage('Please\x20sign\x20in\x20to\x20purchase\x20tokens','error');return;}const _0x5e3a0b=_0x56dc25['closest']('[data-token]'),_0x324563=_0x5e3a0b['dataset']['token'],_0x3918aa=TOKENS[_0x324563];if(!_0x3918aa){console['error']('Token\x20'+_0x324563+'\x20not\x20found');return;}console['log'](_0x5afe49(0x107)+_0x3918aa['name']+'\x20('+_0x324563+')');if(_0x56dc25['disabled']){showMessage(_0x5afe49(0xde)+_0x3918aa[_0x5afe49(0xfc)]+_0x5afe49(0x100),'error');return;}if(_0x56dc25['textContent']===_0x5afe49(0xef)){showMessage('You\x20already\x20own\x20the\x20'+_0x3918aa[_0x5afe49(0xea)]+'\x20token','info');return;}if(_0x56dc25['textContent']['includes']('Purchase')||_0x56dc25['textContent'][_0x5afe49(0xf5)](_0x5afe49(0x134))){const _0x490eea=window[_0x5afe49(0x111)](_0x5afe49(0x159)+_0x3918aa['name']+_0x5afe49(0x105)+_0x3918aa['price']+'\x20points?');if(!_0x490eea)return;const _0x130884=await purchaseToken(_0x324563);_0x130884&&updateTokenButtons();return;}});}),_0x59ac68[_0x50a57b(0x12d)](_0x2f9f79=>{_0x2f9f79['addEventListener']('click',async _0x39a1eb=>{const _0x12c50a=a46_0x29fe;_0x39a1eb['preventDefault']();const _0x270bfe=_0x2f9f79[_0x12c50a(0x114)](_0x12c50a(0x153)),_0x274e70=_0x270bfe[_0x12c50a(0x103)]['token'],_0x3fc13c=TOKENS[_0x274e70];if(_0x2f9f79['textContent']==='Equipped'){const _0x3c9610=window['confirm']('Unequip\x20'+_0x3fc13c['name']+'?');if(!_0x3c9610)return;const _0x3ee4b0=await unequipToken();_0x3ee4b0&&updateTokenButtons();}else{const _0x24dab0=window['confirm'](_0x12c50a(0x164)+_0x3fc13c['name']+_0x12c50a(0x15a));if(!_0x24dab0)return;const _0x5c3fdd=await equipToken(_0x274e70);_0x5c3fdd&&updateTokenButtons();}});}),_0x31a5f5['forEach'](_0x448365=>{const _0x21b98f=_0x50a57b;_0x448365['addEventListener'](_0x21b98f(0xe5),async _0x3528a3=>{const _0x281435=_0x21b98f;_0x3528a3[_0x281435(0x122)]();const _0x5e638e=_0x448365[_0x281435(0x114)]('[data-token]'),_0x5109fc=_0x5e638e[_0x281435(0x103)]['token'],_0x7f7f7c=TOKENS[_0x5109fc],_0x2f39be=Math['floor'](_0x7f7f7c['price']*0.5),_0x44f740=window['confirm']('Are\x20you\x20sure\x20you\x20want\x20to\x20sell\x20'+_0x7f7f7c['name']+_0x281435(0x117)+_0x2f39be+_0x281435(0x120));if(!_0x44f740)return;const _0x49c1a0=await sellToken(_0x5109fc);_0x49c1a0&&updateTokenButtons();});}),updateTokenButtons();}function updateThemeButtons(){const _0x31856f=a46_0x5779ec,_0x101330=window[_0x31856f(0xf7)]?window[_0x31856f(0xf7)][_0x31856f(0x127)]():_0x31856f(0x13c),_0x3216d3=auth['currentUser'];document['querySelectorAll']('.theme-select-btn')['forEach'](_0x55915a=>{const _0x5cb7ba=_0x31856f,_0x51d8ac=_0x55915a['closest']('[data-theme]'),_0x3a22ee=_0x51d8ac['dataset']['theme'],_0x3d0ea0=THEMES[_0x3a22ee];if(!_0x3d0ea0)return;_0x55915a['disabled']=![],_0x55915a[_0x5cb7ba(0x133)]['opacity']='',_0x55915a['style']['cursor']=_0x5cb7ba(0x174),_0x55915a['classList']['remove'](_0x5cb7ba(0x138),'apply-theme','can-afford','cannot-afford','sign-in-free',_0x5cb7ba(0x11d));if(!_0x3216d3){_0x3d0ea0['price']===0x0?(_0x55915a['textContent']='Sign\x20in\x20to\x20Apply',_0x55915a['classList'][_0x5cb7ba(0xf8)](_0x5cb7ba(0xff))):(_0x55915a['textContent']='Sign\x20in\x20to\x20Purchase',_0x55915a['disabled']=!![],_0x55915a[_0x5cb7ba(0x133)]['opacity']='0.7',_0x55915a[_0x5cb7ba(0x168)]['add']('sign-in-paid'));return;}if(_0x3a22ee===_0x101330){_0x55915a['textContent']='Current\x20Theme',_0x55915a[_0x5cb7ba(0x168)]['add']('current-theme'),_0x55915a['disabled']=!![],_0x55915a['style']['cursor']='default';return;}if(userOwnsTheme(_0x3a22ee)){_0x55915a['textContent']='Apply\x20Theme',_0x55915a[_0x5cb7ba(0x168)]['add'](_0x5cb7ba(0x12f));return;}if(userData['points']>=_0x3d0ea0[_0x5cb7ba(0xfc)]){_0x55915a[_0x5cb7ba(0x12a)]=_0x5cb7ba(0xf2)+_0x3d0ea0[_0x5cb7ba(0xfc)]+'\x20Points',_0x55915a['classList']['add']('can-afford');return;}_0x55915a['textContent']='Need\x20'+_0x3d0ea0['price']+_0x5cb7ba(0x16f),_0x55915a['classList']['add']('cannot-afford'),_0x55915a['style']['opacity']='0.5',_0x55915a['disabled']=!![],_0x55915a['style']['cursor']='not-allowed';});}function updateTokenButtons(){const _0x2c6338=a46_0x5779ec,_0x526bbb=auth['currentUser'];document[_0x2c6338(0xec)]('.token-select-btn')['forEach'](_0x23aa82=>{const _0x494786=_0x2c6338,_0x279cf0=_0x23aa82['closest']('[data-token]'),_0x30a725=_0x279cf0['dataset']['token'],_0x22fb64=TOKENS[_0x30a725],_0x5142d7=_0x279cf0['querySelector']('.token-equip-btn'),_0xdac33e=_0x279cf0['querySelector']('.token-sell-btn');if(!_0x22fb64)return;_0x23aa82['disabled']=![],_0x23aa82[_0x494786(0x133)][_0x494786(0x113)]='',_0x23aa82['style'][_0x494786(0xf4)]='pointer';_0x5142d7&&(_0x5142d7['style']['display']='none',_0x5142d7['disabled']=![],_0x5142d7['style']['opacity']='',_0x5142d7['classList']['remove']('equipped','can-equip'));_0xdac33e&&(_0xdac33e['style']['display']=_0x494786(0x112));_0x23aa82[_0x494786(0x168)]['remove']('owned','can-afford','cannot-afford','sign-in');if(!_0x526bbb){_0x23aa82['textContent']='Sign\x20in\x20to\x20Purchase',_0x23aa82[_0x494786(0x108)]=!![],_0x23aa82['style']['opacity']='0.7',_0x23aa82['classList']['add']('sign-in');return;}if(userOwnsToken(_0x30a725)){_0x23aa82['textContent']='Owned',_0x23aa82['classList']['add'](_0x494786(0xdf)),_0x23aa82[_0x494786(0x108)]=!![],_0x23aa82['style'][_0x494786(0xf4)]='default',_0x23aa82['style'][_0x494786(0xfd)]='var(--success-color,\x20#4CAF50)';_0x5142d7&&(_0x5142d7['style'][_0x494786(0x171)]='block',userHasTokenEquipped(_0x30a725)?(_0x5142d7[_0x494786(0x12a)]=_0x494786(0xe9),_0x5142d7['classList'][_0x494786(0xf8)]('equipped'),_0x5142d7['style']['background']='var(--accent-color,\x20#2196F3)',_0x5142d7[_0x494786(0x133)][_0x494786(0xf4)]='pointer'):(_0x5142d7[_0x494786(0x12a)]='Equip',_0x5142d7[_0x494786(0x168)][_0x494786(0xf8)]('can-equip'),_0x5142d7['style']['background']='var(--info-color,\x20#17a2b8)',_0x5142d7[_0x494786(0x133)][_0x494786(0xf4)]=_0x494786(0x174)));_0xdac33e&&userData[_0x494786(0x11c)]&&(_0xdac33e['style']['display']='block');return;}if(userData[_0x494786(0xd4)]>=_0x22fb64[_0x494786(0xfc)]){_0x23aa82[_0x494786(0x12a)]='Buy\x20for\x20'+_0x22fb64['price']+'\x20Points',_0x23aa82[_0x494786(0x168)]['add']('can-afford'),_0x23aa82['style']['background']='';return;}_0x23aa82['textContent']=_0x494786(0x145)+_0x22fb64[_0x494786(0xfc)]+'\x20Points',_0x23aa82['classList']['add'](_0x494786(0x165)),_0x23aa82['style'][_0x494786(0x113)]='0.5',_0x23aa82['disabled']=!![],_0x23aa82['style']['cursor']='not-allowed',_0x23aa82['style']['background']='var(--muted-color,\x20#757575)';});}function showMessage(_0x1ff974,_0x184b9e='info'){const _0x20fa28=a46_0x5779ec,_0x125095=document[_0x20fa28(0x146)]('store-message');_0x125095&&_0x125095[_0x20fa28(0x11e)]();const _0x11fe50=document['createElement']('div');_0x11fe50['id']=_0x20fa28(0x110),_0x11fe50['className']=_0x20fa28(0x129)+_0x184b9e,_0x11fe50['textContent']=_0x1ff974,document['body'][_0x20fa28(0x163)](_0x11fe50),requestAnimationFrame(()=>{_0x11fe50['classList']['add']('visible');}),setTimeout(()=>{const _0x4ef57e=_0x20fa28;_0x11fe50['classList'][_0x4ef57e(0x11e)]('visible'),setTimeout(()=>{const _0x3cd7c4=_0x4ef57e;_0x11fe50['parentNode']&&_0x11fe50[_0x3cd7c4(0x11e)]();},0x12c);},0xfa0);}window['RedeemStore']={'refreshUI':()=>{updateThemeButtons(),updateTokenButtons();},'checkOwnership':userOwnsTheme,'checkTokenOwnership':userOwnsToken,'applyTheme':applyTheme,'purchaseTheme':purchaseTheme,'purchaseToken':purchaseToken},console['log']('üè™\x20Redeem\x20store\x20loaded');function a46_0x211f(){const _0x5e4562=['points','fun','Intelligent\x20targeting\x20system','exists','unauthenticated','div','Invulnerability','The\x20iconic\x20Pyro-GX\x20ship.','Advanced\x20energy\x20storage\x20system','Devastating\x20fusion\x20weapon\x20technology','You\x20need\x20','owned','Cloaking\x20Device','A\x20rare\x20extra\x20life\x20token.','Nightlight','token_','../images/tokens/Lock.gif','click','displayName','info','className','Equipped','name','../images/tokens/subgame/smissile.gif','querySelectorAll','../images/tokens/Fan.gif','log','Owned','üîÑ\x20Refreshing\x20ladder\x20to\x20remove\x20unequipped\x20token','.token-select-btn','Buy\x20for\x20','.tokens-grid','cursor','includes','user-points','ThemeSystem','add','.token-sell-btn','../images/tokens/Plasma.gif','createElement','price','background','‚ùå\x20User\x20not\x20authenticated','sign-in-free','\x20points\x20to\x20purchase\x20this\x20token','__proto__','Smart\x20Mine','dataset','Reactor','\x20token\x20for\x20','apply','Token\x20clicked:\x20','disabled','No\x20token\x20is\x20currently\x20equipped','\x20more\x20points.','Purple','refreshUI','Unknown','.themes-grid','warn','store-message','confirm','none','opacity','closest','console','map','\x20for\x20','../images/tokens/Smartmine.gif','The\x20final\x20blob\x20in\x20the\x20collection','message','Mercury\x20Missile','isAdmin','sign-in-paid','remove','exception','\x20points?\x20This\x20cannot\x20be\x20undone.','You\x20must\x20purchase\x20this\x20theme\x20first','preventDefault','switchTheme','\x20is\x20already\x20your\x20current\x20theme','Purchase\x20failed.\x20Please\x20try\x20again.','Token\x20','getCurrentTheme','For\x20the\x20angry\x20type.','store-message\x20store-message-','textContent','bind','length','forEach','Theme\x20system\x20not\x20found','apply-theme','permission-denied','code','error','style','Buy','floor','function','Apply\x20Theme','current-theme','../images/tokens/cloak.gif','uid','username','default','userTokens','addEventListener','success','Token\x20equip\x20failed:','equippedToken','transactions','‚úÖ\x20Equipped\x20token:\x20','purchase','Need\x20','getElementById','Plasma\x20Cannon','Gold','token','store-content','.theme-select-btn','innerHTML','../images/tokens/blob01.gif','Classic\x20RDL','../images/tokens/Laser.gif','Blob\x20Token\x203','Leave\x20your\x20mark\x20on\x20the\x20leaderboard.','theme','[data-token]','special','image','tokens','../images/tokens/subgame/fusion.gif','block','Purchase\x20','?\x20This\x20will\x20unequip\x20your\x20current\x20token.','Cockpit','\x20Points</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22token-select-btn\x20purchase-btn\x22>Purchase</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22token-equip-btn\x20equip-btn\x22\x20style=\x22margin-top:\x200.5rem;\x20display:\x20none;\x22>Equip</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Strategic\x20explosive\x20device','Service\x20temporarily\x20unavailable.\x20Please\x20try\x20again.','You\x20already\x20own\x20this\x20','filter','store-item\x20token-item','currentUser','appendChild','Equip\x20','cannot-afford','RedeemStore','This\x20theme\x20makes\x20me\x20happy','classList','User\x20data\x20loaded\x20-\x20Points:\x20','data','Laser','userProfiles','../images/tokens/blob03.gif','\x20not\x20found','\x20Points','push','display','weapon','Emerald\x20City!','pointer','.token-equip-btn','üëë\x20Admin\x20controls\x20enabled'];a46_0x211f=function(){return _0x5e4562;};return a46_0x211f();}