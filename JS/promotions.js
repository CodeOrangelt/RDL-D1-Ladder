function a43d(a,b){const c=a43c();return a43d=function(d,e){d=d-0xc1;let f=c[d];if(a43d['cGOckl']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a43d['qqAvsy']=g,a=arguments,a43d['cGOckl']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a43d['qqAvsy'](f),a[i]=f):f=j,f;},a43d(a,b);}const a43G=a43d;(function(a,b){const C=a43d,c=a();while(!![]){try{const d=-parseInt(C(0x14c))/0x1+parseInt(C(0xce))/0x2+-parseInt(C(0xf5))/0x3+parseInt(C(0x112))/0x4+-parseInt(C(0xde))/0x5*(-parseInt(C(0x152))/0x6)+parseInt(C(0xee))/0x7+-parseInt(C(0x154))/0x8*(parseInt(C(0xdb))/0x9);if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a43c,0x422e8));const a43b=(function(){let a=!![];return function(b,c){const d=a?function(){const D=a43d;if(c){const e=c[D(0x134)](b,arguments);return c=null,e;}}:function(){};return a=![],d;};}()),a43a=a43b(this,function(){const E=a43d;let a;try{const d=Function('return\x20(function()\x20'+E(0x104)+');');a=d();}catch(f){a=window;}const b=a['console']=a[E(0x115)]||{},c=[E(0xd4),E(0xec),E(0x137),'error','exception',E(0x109),E(0xda)];for(let g=0x0;g<c['length'];g++){const h=a43b[E(0x13e)][E(0x131)][E(0x147)](a43b),i=c[g],j=b[i]||h;h[E(0xf8)]=a43b['bind'](a43b),h['toString']=j[E(0xe4)][E(0x147)](j),b[i]=h;}});a43a();import{collection,doc,query,where,orderBy,limit,getDocs,addDoc,getDoc,serverTimestamp,writeBatch}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';function a43c(){const a9=['zgf0yq','C29Tzq','Cg9SBgLUz0LUDgvYDMfS','jNrPBwvZoW','C2vJB25KCW','Bg9N','C2HVD1jHBMTdAgfUz2vcyw5Uzxi','CMvTB3zL','Bwf0y2Hjza','u2TPChbPBMCGAwDUB3jLzcbWCM9TB3rPB246ia','DgL0Bgu','DhjHy2u','mJCZnNrbCvHgua','CMvZB2X2zvvZzxjjza','zgLZBwLZC2LUzW','nxnnue1qrG','ywrTAw4','cIaGicaGicaGicaGidXKAxyGy2XHC3m9iNjHBMSTy2HHBMDLlwnVBNrLBNqIpGOGicaGicaGicaGicaGicaGpgGYignSyxnZpsjYyw5RlwnOyw5Nzs10AxrSzsi+','B2zMC2v0v2LKDgG','rMfSBgjHy2SGD3jPDguGzMfPBgvKoG','yxbWCM92zwrnyxrJAgvZ','Dg9tDhjPBMC','igzVCIa','zgvZyW','CMvZB2X2zwroyw1L','Bg9ZzxjvC2vYBMfTzq','y2HPBgrYzw4','ihDHCYbKAxnTAxnZzwqGyNKGDxnLCIb3AxrOAw4GBgfZDca','CMfUA0nOyw5Nzu1VzgfS','D2fYBG','pc9ZCgfUpG','mJK2nda5ngTwq3b6uq','CMfUAY1JAgfUz2uTBw9KywWG','y2XHC3nmAxn0','y2HLy2TbBMrszwnVCMrqCM9TB3rPB24','zgLZCgXHEu5HBwu','z2v0rwXLBwvUDej5swq','i0nen0yZmG','mtiZnde0mfLVB0Dxzq','ChjLDMLVDxnsyw5R','rxjYB3iGCMvZB2X2Aw5NihvZzxjUyw1LoG','x19WCM90B19F','rxjYB3iGy2HLy2TPBMCGChjVBw90Aw9UihzPC2LIAwXPDhK6','zMLYC3rdAgLSza','Bwf0y2G','rxjYB3iGC2f2Aw5NihbYB21VDgLVBIbWCMvMzxjLBMnLoG','qsbWBgf5zxi','C2v0qxr0CMLIDxrL','y2XPy2S','rxjYB3iGCMvZB2X2Aw5NihvZzxiGsuq6','q291BgqGBM90ihjLC29SDMuGDxnLCM5HBwuGzM9YihvZzxjjzdO','zMv0y2HjBNrLCNzHBa','zg9JCW','E30Uy29UC3rYDwn0B3iOiNjLDhvYBIb0AgLZiIKOicK','BMv3lxjHBMSTy2HHBMDL','C2v0sxrLBq','CgfYC2u','uKfos1m','DgfIBgu','ChjVBw90Aw9UxW','C3rYAw5NAwz5','yMXVy2S','Bw9KAwzPzwrcEq','ywrTAw5vC2vY','rxjYB3iGzMv0y2HPBMCGChjVBw90Aw9UCZO','ihDHCYbHDxrVlwrPC21PC3nLzcb3AxrOAw4GBgfZDca0igHVDxjZ','ywrK','mtuWmtC2neP2vMnuBa','CgfYzw50tM9Kzq','Dhj1zq','y29UC29Szq','DgLTzxn0yw1W','y3jLyxrLrwXLBwvUDa','sw52ywXPzcbZDg9YywDLigzVCM1HDcbMB3iG','zgLZCgXHEq','BgfZDezLDgnOvgLTzq','ihDHCYbKzw1VDgvKihrV','Aw5PDgLHBgL6zq','C3r5Bgu','C2v0Dxbcyw5UzxjdB250ywLUzxi','iZuWqZG3oa','zMv0y2HszwnLBNrqCM9TB3rPB25Z','ChjVBw90Aw9U','y2XHC3noyw1L','reLtueXbwv9it1vsuW','zM9YrwfJAa','y2XLyw51Ca','i0zgrdCWma','C3LZDgvTrgLZBwLZC2vK','DgHYzxnOB2XK','D2LUBMvYvxnLCM5HBwu','u2LSDMvY','DgvZDa','AxnbDxrVBwf0Awm','zgf0ys1Pza','ywrKrxzLBNrmAxn0zw5LCG','z2v0uMfUA05HBwu','yxv0B21HDgLJ','ChjVDg90ExbL','zw1HAwW','pc9OmZ4kicaGicaGicaGicaGicaGidXIDxr0B24Gy2XHC3m9iNjHBMSTy2HHBMDLlwj1DhrVBIiGAwq9iNjHBMSTy2HHBMDLlw9Rlwj0BIi+cIaGicaGicaGicaGicaGicaGicaGr290igL0iqOGicaGicaGicaGicaGicaGpc9IDxr0B24+cIaGicaGicaGicaGidWVzgL2pGOGicaGicaGia','yxbWBhK','yxbWzw5Kq2HPBgq','ChjVBw90Aw9UlwjHBM5LCI1JB250ywLUzxi','Aw5MBW','BMv3uMfUAW','ChvZAa','D2LUBMvYswq','rgLZy29YzcbUB3rPzMLJyxrPB24GC2vUDcbZDwnJzxnZzNvSBhKGD2L0AcbjrdOG','uMvJB3jKAw5Nia','zwXVsgLZDg9YEq','y29UC3rYDwn0B3i','BgfKzgvY','yNv0Dg9U','Dg9nAwXSAxm','DxnLCM5HBwvdywnOzq','zgL2','q3jLyxrPBMCGrgLZy29YzcbUB3rPzMLJyxrPB246','AwDUB3jLlwj0BG','BM9Uzq','yMLUza','idXZCgfUignSyxnZpsjYyw5RlxrLEhqIpG','CgXHEwvY','BgvUz3rO','z2v0sxrLBq','ndC2nZm0q1vHrNnY','CgXHEwvYvxnLCM5HBwu','CMfUA0fJAgLLDMvK','zw1WDhK','icHSB3nLCIK','re9nq29UDgvUDeXVywrLza','nJKWndC0CKfXqxPV','vw5RBM93BIbqBgf5zxi','nda3mLfru2nPCa','u3vJy2vZC2z1BgX5ihjLy29YzgvKia','Aw5Uzxjive1m','u1rbuLrjtKCGBM90AwzPy2f0Aw9UigzVCIa','DxnLCM5HBwu','zxjYB3i','yMfUBMvYq29UDgfPBMvY','BM93','CMvTB3zLq2HPBgq','BMfTzq','C2vUzfbYB21VDgLVBK5VDgLMAwnHDgLVBG','ChjVy2vZC1jHBMTdAgfUz2vZ','yMvMB3jLDw5SB2fK','DgHLBG','C2HVD1jHBMTdAgfUz2vmAwDODgjVEa','DMLZAwjPBgL0EwnOyw5Nzq','nZK5otm2su5Rv3DO'];a43c=function(){return a9;};return a43c();}import{auth,db}from'./firebase-config.js';class PromotionManager{constructor(){const F=a43d;this[F(0x123)]=0x18,this[F(0x108)]=[{'threshold':0x578,'name':'Bronze','color':F(0xf4)},{'threshold':0x640,'name':F(0x12a),'color':'#C0C0C0'},{'threshold':0x708,'name':'Gold','color':F(0x126)},{'threshold':0x834,'name':'Emerald','color':F(0x11f)}],this['bannerContainer']=null,this['lastFetchTime']=0x0,this['fetchInterval']=0xea60,this['pollingInterval']=null,this[F(0x142)]={};}[a43G(0x11c)](){const H=a43G;this[H(0xc4)]=document[H(0xf3)](H(0x136));if(!this[H(0xc4)]){console[H(0xc3)]('Promotion\x20banner\x20container\x20not\x20found');return;}this[H(0x11e)]();const a='promotions_checked_'+new Date()['toDateString'](),b=sessionStorage['getItem'](a);!b&&(this[H(0x120)](),sessionStorage[H(0x106)](a,'true')),document[H(0x12e)](H(0xcd),()=>{const I=H;document['visibilityState']==='visible'&&!sessionStorage[I(0x14b)](a)&&(this['fetchRecentPromotions'](),sessionStorage[I(0x106)](a,I(0x114)));}),window['addEventListener'](H(0xca),()=>{this['pollingInterval']&&clearInterval(this['pollingInterval']);});}[a43G(0x11e)](){const J=a43G;this['bannerContainer'][J(0x156)]='',this['bannerContainer']['style'][J(0x119)]=J(0x146);}async['fetchRecentPromotions'](){const K=a43G;try{const a=Date[K(0xc5)]();if(a-this['lastFetchTime']<this[K(0x102)])return;this[K(0x11a)]=a;const b=collection(db,'eloHistory'),c=query(b,where('type','in',['promotion','demotion']),orderBy('timestamp',K(0xe6)),limit(0x14)),d=await getDocs(c),e=[];d[K(0x124)](f=>{const L=K,g={'id':f['id'],...f[L(0xcf)]()};this['shouldShowPromotion'](f['id'])&&this['isNewRankChange'](g)&&e[L(0x139)](g);}),e[K(0x14a)]>0x0&&await this[K(0xc9)](e);}catch(f){console['error'](K(0x10f),f);}}async['processRankChanges'](a){const N=a43G;if(a['length']===0x0)return;a['sort']((e,f)=>{const M=a43d,g=e['timestamp']?.['toMillis']?.()||e['timestamp']?.[M(0xd3)]*0x3e8||0x0,h=f['timestamp']?.[M(0x141)]?.()||f[M(0x116)]?.[M(0xd3)]*0x3e8||0x0;return h-g;});const b=this['bannerContainer']['children'][N(0x14a)],c=0x3-b;if(c<=0x0)return;const d=a['slice'](0x0,c);for(let e=0x0;e<d['length'];e++){const f=d[e],g=auth['currentUser'];try{setTimeout(()=>{this['showRankChangeBanner'](f);},e*0x3e8),g&&f['player']===g[N(0xf2)]&&this['showRankChangeLightbox'](f['type'],f['rankAchieved']);}catch(h){console['error']('Error\x20processing\x20rank\x20change:',h);}}}['shouldShowPromotion'](a){const O=a43G;try{const b='promotion_'+a,c=localStorage['getItem'](b);if(c){let d;try{d=JSON[O(0x107)](c);}catch(g){return console[O(0xec)](O(0x118)+b+',\x20treating\x20as\x20new'),!![];}if(d['ignored']===!![])return console['log']('Promotion\x20'+a+'\x20is\x20permanently\x20ignored'),![];const f=Date['now']();if(d['userDismissed']&&f-d['timestamp']<this['DISPLAY_HOURS']*0x3c*0x3c*0x3e8)return console[O(0xd4)]('Promotion\x20'+a+O(0xea)+this[O(0x123)]+'\x20hours'),![];if(d[O(0x127)]&&f-d['timestamp']<0x4*0x3c*0x3c*0x3e8)return console[O(0xd4)]('Promotion\x20'+a+O(0x110)),![];}return!![];}catch(h){return console[O(0xc3)](O(0xf9),h),![];}}['ignorePromotion'](a){const P=a43G;try{const b=P(0x10a)+a;localStorage['setItem'](b,JSON[P(0x10b)]({'timestamp':Date[P(0xc5)](),'ignored':!![]}));}catch(c){console[P(0xc3)](P(0xfc),c);}}[a43G(0xd5)](a){const Q=a43G;this[Q(0xdc)](a)[Q(0xcb)](b=>{const R=Q,c=R(0x10a)+a['id'],d=localStorage['getItem'](c);if(d)try{const m=JSON['parse'](d);if(m['ignored']===!![]){console['log'](R(0xd8)+a['id']);return;}}catch(n){}localStorage[R(0x106)](c,JSON['stringify']({'timestamp':Date[R(0xc5)](),'ignored':![],'userDismissed':![],'systemDismissed':![],'seenAt':Date[R(0xc5)]()})),this['bannerContainer']['style']['display']=R(0x10c);while(this['bannerContainer'][R(0xe9)]['length']>=0x3){this['bannerContainer'][R(0xc6)](this[R(0xc4)][R(0xfa)]);}const f=document['createElement']('div');f[R(0x122)]='promotion-banner',f[R(0xfe)]('data-rank',b[R(0x14e)]),f[R(0xfe)](R(0x12d),b['id']);const g=document['createElement'](R(0x143));g[R(0x122)]='promotion-details';const h=b[R(0xe7)]||b['player']||b['username']||b['playerUsername']||b['displayName']||'A\x20player',i=b['type']===R(0x121)?h+'\x20was\x20promoted\x20to':h+R(0x11b);g[R(0x156)]=i+R(0x148)+b[R(0x14e)]+R(0xed);const j=document[R(0x117)]('div');j['className']='banner-actions';const k=document[R(0x117)](R(0x140));k['className']='dismiss-btn',k[R(0x156)]=R(0xd2),k[R(0xd9)]='Dismiss';const l=document[R(0x117)](R(0x140));l[R(0x122)]=R(0x145),l['textContent']='Don\x27t\x20show\x20again',l[R(0xd9)]='Never\x20show\x20this\x20promotion\x20again',j['appendChild'](l),j[R(0x135)](k),f['appendChild'](g),f['appendChild'](j),this['bannerContainer'][R(0x135)](f),void f[R(0xe1)],setTimeout(()=>{const S=R;f[S(0xf0)]['add'](S(0x105));},0x32),k[R(0x12e)]('click',()=>{const T=R;localStorage['setItem'](c,JSON['stringify']({'timestamp':Date[T(0xc5)](),'ignored':![],'userDismissed':!![],'systemDismissed':![]})),f['classList'][T(0xd6)](T(0x105)),f[T(0xf0)][T(0x111)]('dismissing'),setTimeout(()=>{const U=T;f[U(0x113)]&&(f[U(0xd6)](),this['bannerContainer'][U(0xe9)]['length']===0x0&&(this[U(0xc4)][U(0x11d)]['display']='none'));},0x1f4);}),l[R(0x12e)]('click',()=>{const V=R;localStorage['setItem'](c,JSON[V(0x10b)]({'timestamp':Date[V(0xc5)](),'ignored':!![],'userDismissed':!![],'systemDismissed':![]})),f[V(0xf0)][V(0xd6)]('new-rank-change'),f['classList']['add']('dismissing'),setTimeout(()=>{const W=V;f['parentNode']&&(f[W(0xd6)](),this['bannerContainer']['children']['length']===0x0&&(this[W(0xc4)][W(0x11d)]['display']='none'));},0x1f4);}),setTimeout(()=>{const X=R;f['parentNode']&&(f[X(0xf0)][X(0xd6)](X(0x105)),f[X(0xf0)]['add'](X(0xdd)),localStorage[X(0x106)](c,JSON[X(0x10b)]({'timestamp':Date[X(0xc5)](),'ignored':![],'userDismissed':![],'systemDismissed':!![]})),setTimeout(()=>{const Y=X;f['parentNode']&&(f[Y(0xd6)](),this['bannerContainer']['children'][Y(0x14a)]===0x0&&(this['bannerContainer']['style']['display']=Y(0x146)));},0x1f4));},0x3a98);});}async[a43G(0xdc)](a){const Z=a43G,b={...a},c=[a['player'],a['username'],a[Z(0x14d)],a[Z(0xf2)]],d=c[Z(0xd0)](f=>f&&typeof f==='string'&&!f['includes']('ID:')&&!/^[a-zA-Z0-9]{20,}$/[Z(0x12b)](f));if(d)return b;let e=null;if(a['userId'])e=a['userId'];else a['player']&&/^[A-Za-z0-9]{20,}$/[Z(0x12b)](a[Z(0x149)])&&(e=a[Z(0x149)]);if(!e)return b;try{const f=await getDoc(doc(db,'players',e));if(f['exists']()){const i=f['data']();if(i['username'])return b['resolvedName']=i['username'],b;}const g=await getDocs(query(collection(db,Z(0xe3)),where(Z(0x13a),'==',e),orderBy('date',Z(0xe6)),limit(0x1)));if(!g['empty']){const j=g['docs'][0x0]['data']();if(j[Z(0x129)])return b[Z(0xe7)]=j['winnerUsername'],b;}const h=await getDocs(query(collection(db,Z(0xe3)),where('loserId','==',e),orderBy('date','desc'),limit(0x1)));if(!h['empty']){const k=h['docs'][0x0]['data']();if(k[Z(0xe8)])return b['resolvedName']=k['loserUsername'],console[Z(0xd4)]('Resolved\x20'+e+'\x20to\x20'+k['loserUsername']+Z(0x150)),b;}}catch(l){console['error'](Z(0x100),l);}return console['warn']('Failed\x20to\x20resolve\x20user\x20ID:\x20'+e),b;}[a43G(0xcc)](a,b){const a0=a43G;let c=document['getElementById']('rankChangeModal');!c&&(c=document[a0(0x117)]('div'),c['id']=a0(0xeb),c[a0(0x122)]=a0(0xef)+a,document['body']['appendChild'](c));const d=a===a0(0x121)?'Congratulations!':'Rank\x20Update',e=a===a0(0x121)?'You\x27ve\x20been\x20promoted\x20to':'You\x27ve\x20been\x20demoted\x20to';c['innerHTML']=a0(0xe0)+d+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+e+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22rank-name\x22>'+b+a0(0x133),c[a0(0x11d)][a0(0x119)]='flex',document['getElementById']('rank-change-ok-btn')['addEventListener']('click',()=>{const a1=a0;c['style']['display']=a1(0x146);}),c['addEventListener'](a0(0xff),f=>{const a2=a0;f['target']===c&&(c[a2(0x11d)][a2(0x119)]=a2(0x146));});}async[a43G(0xf1)](a,b,c,d={}){const a3=a43G;try{if(b===c||!a)return null;const e=d['source']||a3(0x130),f=d[a3(0xd7)]||null,g=d[a3(0x10e)]||null;console['log']('Processing\x20potential\x20rank\x20change:\x20'+c+'\x20→\x20'+b+'\x20(source:\x20'+e+')');let h=null,i=null;try{const l=await getDoc(doc(db,'players',a));if(l['exists']()){const m=l['data']();h=m[a3(0xc2)]||m[a3(0xf2)]||null,i=m['displayName']||m['username']||null;}!h&&d[a3(0xc2)]&&(h=d['username'],i=d['username']);!h&&auth['currentUser']&&(h=auth['currentUser']['displayName']||auth['currentUser'][a3(0x132)]['split']('@')[0x0],i=auth['currentUser']['displayName']||null);if(!h){const n=query(collection(db,a3(0xe3)),where(a3(0x13a),'==',a),limit(0x1)),o=await getDocs(n);if(!o[a3(0x14f)])h=o[a3(0x103)][0x0][a3(0xcf)]()['winnerUsername']||a3(0x153),i=h;else{const p=query(collection(db,a3(0xe3)),where('loserId','==',a),limit(0x1)),q=await getDocs(p);!q[a3(0x14f)]&&(h=q[0x0]['data']()[a3(0xe8)]||a3(0x153),i=h);}}}catch(r){console[a3(0xc3)](a3(0xf7),r);}!h&&(console[a3(0xec)](a3(0x101),a),h=a3(0xfd),i=a3(0x153));const j=this[a3(0x12f)](c),k=this[a3(0x12f)](b);if(j!==k){const s=b>c,t=s?'promotion':'demotion',u=k;console['log'](a3(0x13c)+t+a3(0xe5)+h+':\x20'+c+'\x20('+j+')\x20→\x20'+b+'\x20('+k+')');try{const v={'player':h,'playerUsername':h,'username':h,'displayName':i,'userId':a,'type':t,'rankAchieved':u,'timestamp':serverTimestamp(),'previousElo':c,'newElo':b,'change':b-c,'previousRank':j,'newRank':k,'source':e};if(e===a3(0xfb)&&f)v[a3(0xd7)]=f;else e===a3(0xdf)&&g?(v[a3(0x10d)]=g,v[a3(0x12c)]=![]):v['isAutomatic']=!![];const w=writeBatch(db),x=doc(collection(db,'eloHistory')),y=doc(collection(db,'promotionHistory'));return w['set'](x,v),w['set'](y,v),await w['commit'](),await this[a3(0xc8)](a,h,c,b,j,k,t,{'displayName':i,'source':e,'matchId':f,'ladder':d[a3(0x13f)]||'D1'}),console['log'](a3(0x155)+t+a3(0xe5)+h+'\x20to\x20'+u),u;}catch(z){console['error']('Error\x20writing\x20promotion\x20records:',z);try{return await addDoc(collection(db,a3(0x13d)),{'player':h,'playerUsername':h,'username':h,'displayName':i,'userId':a,'type':t,'rankAchieved':u,'timestamp':serverTimestamp(),'previousElo':c,'newElo':b,'change':b-c,'previousRank':j,'source':e,'isAutomatic':e!==a3(0xdf)}),await this[a3(0xc8)](a,h,c,b,j,k,t,{'displayName':i,'source':e,'matchId':f,'ladder':d['ladder']||'D1'}),u;}catch(A){return console[a3(0xc3)](a3(0xe2),A),null;}}}return null;}catch(B){return console[a3(0xc3)]('Error\x20in\x20promotion/demotion\x20recording:',B),null;}}[a43G(0x12f)](a){const a4=a43G;for(let b=this[a4(0x108)][a4(0x14a)]-0x1;b>=0x0;b--){if(a>=this['RANKS'][b][a4(0x128)])return this[a4(0x108)][b][a4(0xc7)];}return'Unranked';}[a43G(0x125)](){const a5=a43G;this[a5(0xd1)]&&clearInterval(this[a5(0xd1)]);}['isNewRankChange'](a){const a6=a43G;if(a[a6(0x116)]){const b=a[a6(0x116)][a6(0xd3)]*0x3e8,c=Date['now'](),d=(c-b)/(0x3e8*0x3c*0x3c);if(d>0x18)return![];}if(a[a6(0xf6)]&&a[a6(0x138)]&&a['previousRank']!==a[a6(0x138)])return!![];return![];}async[a43G(0xc8)](a,b,c,d,e,f,g,h={}){const a7=a43G;try{console[a7(0xd4)](a7(0xc1)+b+'\x27s\x20'+g);const i={'userId':a,'username':b,'displayName':h['displayName']||b,'oldElo':parseInt(c),'newElo':parseInt(d),'eloDifference':parseInt(d)-parseInt(c),'oldRank':e,'newRank':f,'type':g,'timestamp':serverTimestamp(),'processed':![],'source':h['source']||'automatic','matchId':h['matchId']||null,'ladder':h[a7(0x13f)]||'D1','adminUser':h[a7(0x10e)]||null};console['log'](a7(0x144),i);const j=await addDoc(collection(db,'promotionNotifications'),i);return console[a7(0xd4)](a7(0x13b)+j['id']),!![];}catch(k){return console['error']('Error\x20sending\x20Discord\x20notification:',k),![];}}}export const promotionManager=new PromotionManager();document['addEventListener'](a43G(0x151),()=>{const a8=a43G;promotionManager[a8(0x11c)]();});export const initializePromotionTracker=()=>promotionManager['initialize']();export const checkAndRecordPromotion=(a,b,c,d)=>promotionManager[a43G(0xf1)](a,b,c,d);export const getRankName=a=>promotionManager[a43G(0x12f)](a);