const a49_0x3a7d80=(function(){let _0x258b9b=!![];return function(_0x52414c,_0x2a1ef7){const _0x244689=_0x258b9b?function(){const _0x5e680e=a49_0x2470;if(_0x2a1ef7){const _0x5b9a70=_0x2a1ef7[_0x5e680e(0x1fd)](_0x52414c,arguments);return _0x2a1ef7=null,_0x5b9a70;}}:function(){};return _0x258b9b=![],_0x244689;};}()),a49_0x310e62=a49_0x3a7d80(this,function(){const _0x467d4a=a49_0x2470,_0x54eeba=function(){const _0x38b4a8=a49_0x2470;let _0x45dba2;try{_0x45dba2=Function('return\x20(function()\x20'+_0x38b4a8(0x1fa)+');')();}catch(_0x35d295){_0x45dba2=window;}return _0x45dba2;},_0x1adde2=_0x54eeba(),_0xda2c9f=_0x1adde2['console']=_0x1adde2[_0x467d4a(0x1fc)]||{},_0x69a92=[_0x467d4a(0x1f8),'warn','info',_0x467d4a(0x1f9),'exception',_0x467d4a(0x1f5),'trace'];for(let _0x41dc4b=0x0;_0x41dc4b<_0x69a92[_0x467d4a(0x1f6)];_0x41dc4b++){const _0x232b1d=a49_0x3a7d80['constructor'][_0x467d4a(0x1fb)]['bind'](a49_0x3a7d80),_0x36e9e7=_0x69a92[_0x41dc4b],_0x1ec024=_0xda2c9f[_0x36e9e7]||_0x232b1d;_0x232b1d['__proto__']=a49_0x3a7d80['bind'](a49_0x3a7d80),_0x232b1d['toString']=_0x1ec024[_0x467d4a(0x1f3)]['bind'](_0x1ec024),_0xda2c9f[_0x36e9e7]=_0x232b1d;}});a49_0x310e62();function a49_0x3056(){const _0x412b38=['wins','season0records','toString','losses','table','length','docs','log','error','{}.constructor(\x22return\x20this\x22)(\x20)','prototype','console','apply'];a49_0x3056=function(){return _0x412b38;};return a49_0x3056();}import{db}from'./firebase-config.js';import{collection,getDocs,setDoc,doc,query,orderBy}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';async function archiveSeason0(){const _0x52753a=a49_0x2470;try{const _0x5d7b61=await getDocs(collection(db,'players'));for(const _0x5664b5 of _0x5d7b61[_0x52753a(0x1f7)]){const _0x37f15a=_0x5664b5['data']();await setDoc(doc(db,'season0',_0x5664b5['id']),{..._0x37f15a,'archivedAt':new Date(),'originalId':_0x5664b5['id']});}return console['log']('Successfully\x20archived\x20players\x20to\x20season0'),!![];}catch(_0xe869ba){console['error']('Error\x20archiving\x20season:',_0xe869ba);throw _0xe869ba;}}async function archiveRecords(){const _0xa295d2=a49_0x2470;try{const _0x1fc582=collection(db,'records'),_0x7e40f2=query(_0x1fc582,orderBy('wins','desc')),_0x1ccd1d=await getDocs(_0x7e40f2),_0x3aa054=[];return _0x1ccd1d['forEach'](_0x8376fe=>{const _0x302f39=a49_0x2470,_0x100974=_0x8376fe['data']();_0x3aa054['push']({'username':_0x100974['username'],'wins':_0x100974[_0x302f39(0x1f1)]||0x0,'losses':_0x100974[_0x302f39(0x1f4)]||0x0,'winRate':_0x100974['winRate']||0x0,'timestamp':new Date()});}),await setDoc(doc(db,_0xa295d2(0x1f2),'snapshot'),{'records':_0x3aa054,'archivedAt':new Date()}),console[_0xa295d2(0x1f8)]('Successfully\x20archived\x20records'),!![];}catch(_0x5bb2a8){console['error']('Error\x20archiving\x20records:',_0x5bb2a8);throw _0x5bb2a8;}}function a49_0x2470(_0x5aee9a,_0x4da31f){const _0x310e62=a49_0x3056();return a49_0x2470=function(_0x3a7d80,_0x3ef92e){_0x3a7d80=_0x3a7d80-0x1f1;let _0x305667=_0x310e62[_0x3a7d80];return _0x305667;},a49_0x2470(_0x5aee9a,_0x4da31f);}export{archiveSeason0,archiveRecords};