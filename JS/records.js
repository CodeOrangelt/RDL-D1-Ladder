const a46A=a46b;(function(a,b){const z=a46b,c=a();while(!![]){try{const d=parseInt(z(0x1f0))/0x1+parseInt(z(0x233))/0x2+parseInt(z(0x270))/0x3*(-parseInt(z(0x28c))/0x4)+parseInt(z(0x1f8))/0x5+parseInt(z(0x239))/0x6*(parseInt(z(0x28f))/0x7)+-parseInt(z(0x214))/0x8*(parseInt(z(0x222))/0x9)+-parseInt(z(0x212))/0xa;if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a46a,0xd7a21));import{collection,getDocs,query,orderBy,limit,where,startAfter}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db}from'./firebase-config.js';const MIN_MATCHES_REQUIREMENT=0xa,CACHE_DURATION_MS=0x1e*0x3c*0x3e8,MAX_PLAYERS_PER_BATCH=0x32,MAX_MATCHES_PER_BATCH=0x64,state={'currentGameMode':'D1','cache':{'D1':{'playerStats':null,'playerSnapshot':null,'matchSnapshot':null,'timestamp':0x0,'fullDataLoaded':![]},'D2':{'playerStats':null,'playerSnapshot':null,'matchSnapshot':null,'timestamp':0x0,'fullDataLoaded':![]}},'isLoadingMore':![]};let mapChart=null;console[a46A(0x22a)]('🚀\x20Ultra-optimized\x20records.js\x20loaded!'),console[a46A(0x22a)](a46A(0x23c));function getPlayerTier(a){const B=a46A;if(a===undefined||a===null)return'default';const b=Number(a);if(isNaN(b))return B(0x232);if(b>=0x7d0)return B(0x298);if(b>=0x708)return B(0x211);if(b>=0x640)return B(0x1f3);if(b>=0x578)return'bronze';return B(0x232);}function updateRecordCard(a,b,c='',d=![]){const C=a46A,e=document['getElementById'](a);if(!e){console['warn']('Element\x20with\x20ID\x20\x22'+a+C(0x225));return;}const f=getPlayerTier(b[C(0x278)]);let g=b[C(0x299)];d&&b[C(0x299)]>0x0&&(g='+'+b['value']),e[C(0x24e)]=C(0x281)+f+C(0x27d)+b[C(0x236)]+C(0x252)+g+c+C(0x235);}function a46a(){const a9=['D2fYBG','Bwf0y2HtBMfWC2HVDa','lMnOyxj0lwnVBNrHAw5LCG','zMLSDgvY','cIaGicaGicaGicaGidXZCgfUignSyxnZpsjWBgf5zxiTBMfTzsa','mZu2uNzgB0rQ','y2XHC3noyw1L','DgLTzxn0yw1W','mZu3ntu4nK1qwhfIqW','BwfWu3rHDhndAgfYDa','tMf2igzLDgnOigzHAwXLza','z2v0rwXLBwvUDej5swq','igLUia','ihbSyxLLCNmGyw5KihjLy2vUDca','8j+tIIbmB2fKzwq6ia','rxjYB3i','Dg90ywXtDwLJAwrLCW','zw1LCMfSza','DMfSDwu','CxvLCNLtzwXLy3rVCG','4PYfie1HCcbZDgf0CYbKAxnWBgf5zwq6ia','ihvUAxf1zsbTyxbZ','tI9b','mZGWmdq0y1fvs3He','y3vYCMvUDeDHBwvnB2rL','D2LUCW','C2LSDMvY','cIaGicaGicaGicaGicaGicaGicaGpgrPDIbJBgfZCZ0IBwfWlxn0yxrZlwHLywrLCIi+cIaGicaGicaGicaGicaGicaGicaGicaGidXOmZ5nB3n0ifbSyxLLzcbnyxbZic0G','zgLZCgXHEq','rMLYC3qGBwf0y2GGzgf0ytO','C2v0','nZm3mda3mhfHv3DsAq','zgf0yq','Bg9ZzxjvC2vYBMfTzq','yxbWzw5Kq2HPBgq','Dg90ywWTBwf0y2HLCW','yMvZDc13Aw5YyxrL','BgfZDc11CgrHDgvK','Dg9WugXHEwvY','y3jLyxrLrwXLBwvUDa','jtWVzgL2pGOGicaGicaGicaGica8zgL2ignSyxnZpsjYzwnVCMqTzgv0ywLSiJ4','lM1HCc1ZDgf0CY1JB250ywLUzxi','z2v0','y29UDgfPBNm','CgXHEwvYCW','ywXS','tM8Gzgf0ysbHDMfPBgfIBgu','4PYfifvZAw5NignHy2HLzca','Bw9ZDc1RAwXSCW','tg9HzgLUzY4UlG','C3rYAw5N','DMfSDwvZ','4PQG77Ipie5Vig1HChmGzM91BMqGAw4GBwf0y2GGzgf0yq','zxjYB3i','CgfYzw50tM9Kzq','CgfYzw50rwXLBwvUDa','z29Sza','mtqWndy0nZbkCM9Krfy','Dgv4DenVBNrLBNq','odbfvMLiB0G','CMvQzwn0','Dg90ywXnyxrJAgvZ','8j+uHcbmB2fKAw5Nia','pgrPDIbJBgfZCZ0IBg9HzgLUzY1TC2CIpK5VihbSyxLLCNmGAw4GDgHPCYb0AwvYpc9KAxy+','cIaGicaUBg9Hzc1TB3jLlwj0BIb7cIaGicaGicaGyMfJA2DYB3vUzdOGBgLUzwfYlwDYywrPzw50kdeZnwrLzYWGiZy3m2fInYWGiZLJmJDImcK7cIaGicaGicaGy29SB3i6ihDOAxrLoWOGicaGicaGigjVCMrLCJOGBM9UztSkicaGicaGicbWywrKAw5NoIaXnxb4idi1ChG7cIaGicaGicaGyM9YzgvYlxjHzgL1CZOGohb4oWOGicaGicaGign1CNnVCJOGCg9PBNrLCJSkicaGicaGicbTyxjNAw46idiWChGGyxv0BZSkicaGicaGicbKAxnWBgf5oIbIBg9JAZSkicaGicaGicbMB250lxnPEMu6ide2ChG7cIaGicaGicaGzM9UDc13zwLNAhq6idyWmdSkicaGicaGicb0CMfUC2L0Aw9UoIbHBgWGmc4ZCYbLyxnLoWOGicaGicaGigjVEc1ZAgfKB3C6idaGnhb4ideYChGGCMDIysGXmdmSidu4lcaXodmSidaUmYK7cIaGicb9cIaGicakicaGic5SB2fKlw1VCMuTyNrUoMHVDMvYoM5VDcG6zgLZywjSzwqPihSkicaGicaGicb0CMfUC2zVCM06ihrYyw5ZBgf0zvKOltjWEcK7cIaGicaGicaGyM94lxnOywrVDZOGmca2ChGGmtzWEcbYz2jHkdeWmYWGntGSide4mYWGmc40ktSkicaGih0kicaGiaOGicaGlMXVywqTBw9Yzs1IDg46zgLZywjSzwqGEWOGicaGicaGig9WywnPDhK6idaUnZSkicaGicaGicbJDxjZB3i6ig5VDc1HBgXVD2vKoWOGicaGFqOGicaGcIaGicaUBg9Hzc1TB3jLlwj0BIbZBwfSBcb7cIaGicaGicaGzgLZCgXHEtOGyMXVy2S7cIaGicaGicaGzM9UDc1ZAxPLoIaXmNb4oWOGicaGicaGig1HCMDPBI10B3a6idvWEdSkicaGicaGicbVCgfJAxr5oIaWlJK7cIaGicb9cIaGicakicaGic5Wyxj0AwfSlwrHDgeTAw5KAwnHDg9YihSkicaGicaGicbIywnRz3jVDw5KoIbYz2jHkdi1nsWGmtKZlca3lcaWlJePoWOGicaGicaGigjVCMrLCJOGmxb4ihnVBgLKihjNyMeOmJu1lcaXotmSidCSidaUmYK7cIaGicaGicaGy29SB3i6icnMzMmXmdC7cIaGicaGicaGCgfKzgLUzZOGmtbWEcaXnxb4oWOGicaGicaGigjVCMrLCI1YywrPDxm6idzWEdSkicaGicaGicbTyxjNAw4TyM90Dg9ToIaYmhb4oWOGicaGicaGigzVBNqTC2L6ztOGmtrWEdSkicaGicaGicbKAxnWBgf5oIbMBgv4oWOGicaGicaGigfSAwDUlwL0zw1ZoIbJzw50zxi7cIaGicaGicaGz2fWoIa4ChG7cIaGicb9cIaGicakicaGic5Wyxj0AwfSlwrHDgeTAw5KAwnHDg9YigKGEWOGicaGicaGignVBg9YoIaJzMzJmta3oWOGicaGFqOGicaGcIaGicaVkIbfBMHHBMnLzcbnyxaGu3rHDhmGu3r5BgLUzYaQlWOGicaGlM1HCc1ZDgf0CY1OzwfKzxiGEWOGicaGicaGig1HCMDPBI1IB3r0B206idiWChG7cIaGicaGicaGDgv4Dc1HBgLNBJOGy2vUDgvYoWOGicaGFqOGicaGcIaGicaUBwfWlxn0yxrZlwHLywrLCIbOmYb7cIaGicaGicaGy29SB3i6icmZmZm7cIaGicaGicaGBwfYz2LUlwjVDhrVBtOGohb4oWOGicaGicaGigzVBNqTC2L6ztOGms40zw07cIaGicb9cIaGicakicaGic5TyxaTC3rHDhmTAgvHzgvYic50B3rHBc1TyxrJAgvZihSkicaGicaGicbJB2XVCJOGiZy2nJSkicaGicaGicbMB250lxnPEMu6idaUowvToWOGicaGicaGig1HCMDPBJOGmdSkicaGih0kicaGiaOGicaGlM1HCc1ZDgf0CY1SAxn0ihSkicaGicaGicbKAxnWBgf5oIbMBgv4oWOGicaGicaGigzSzxGTzgLYzwn0Aw9UoIbJB2X1Bw47cIaGicaGicaGz2fWoIaXmNb4oWOGicaGFqOGicaGcIaGicaUBwfWlxn0yxqTAxrLBsb7cIaGicaGicaGyMfJA2DYB3vUzdOGCMDIysGYntuSidi1nsWGmJu1lcaWlJGPoWOGicaGicaGigjVCMrLCJOGmxb4ihnVBgLKihjNyMeOmcWGmcWGmcWGmc4XktSkicaGicaGicbIB3jKzxiTCMfKAxvZoIa4ChG7cIaGicaGicaGCgfKzgLUzZOGmtjWEdSkicaGicaGicb0CMfUC2L0Aw9UoIbHBgWGmc4YCYbLyxnLoWOGicaGicaGign1CNnVCJOGCg9PBNrLCJSkicaGih0kicaGiaOGicaGlM1HCc1ZDgf0lwL0zw06Ag92zxiGEWOGicaGicaGigjHy2TNCM91BMq6ihjNyMeOmJu1lcaYntuSidi1nsWGmc45nsK7cIaGicaGicaGDhjHBNnMB3jToIb0CMfUC2XHDgvzkc0XChGPoWOGicaGicaGigjVEc1ZAgfKB3C6idaGnhb4ideYChGGCMDIysGWlcaWlcaWlcaWlJePoWOGicaGFqOGicaGcIaGicaUBwfWlwLUzM8GEWOGicaGicaGigrPC3bSyxK6igzSzxG7cIaGicaGicaGANvZDgLMEs1JB250zw50oIbZCgfJzs1Izxr3zwvUoWOGicaGicaGigfSAwDUlwL0zw1ZoIbJzw50zxi7cIaGicaGicaGBwfYz2LUlwjVDhrVBtOGohb4oWOGicaGFqOGicaGcIaGicaUBwfWlxjHBMSGEWOGicaGicaGigzVBNqTD2vPz2H0oIbIB2XKoWOGicaGicaGignVBg9YoIaJnJCZywi3oWOGicaGicaGig1PBI13Awr0AdOGmZbWEdSkicaGih0kicaGiaOGicaGlM1HCc1Uyw1LihSkicaGicaGicbMB250lxDLAwDODdOGnJaWoWOGicaGicaGignVBg9YoIaJmZmZoWOGicaGicaGigzSzxG6ide7cIaGicaGicaGBwfYz2LUlwXLzNq6ideYChG7cIaGicb9cIaGicakicaGic5TyxaTy291BNqGEWOGicaGicaGignVBg9YoIaJnJy2oWOGicaGicaGigzVBNqTC2L6ztOGmc45zw07cIaGicb9cIaGicakicaGic5TyxaTyMfYlwnVBNrHAw5LCIb7cIaGicaGicaGzgLZCgXHEtOGzMXLEdSkicaGicaGicbHBgLNBI1PDgvTCZOGy2vUDgvYoWOGicaGicaGigDHCdOGmtbWEdSkicaGih0kicaGiaOGicaGlM1HCc1IyxiGEWOGicaGicaGigzSzxG6ide7cIaGicaGicaGAgvPz2H0oIa2ChG7cIaGicaGicaGyMfJA2DYB3vUzdOGBgLUzwfYlwDYywrPzw50kdKWzgvNlcaJnJCZywi3lcaJowmYn2iWktSkicaGicaGicbIB3jKzxiTCMfKAxvZoIaZChG7cIaGicaGicaGDhjHBNnPDgLVBJOGD2LKDgGGmc4ZCYbLyxnLoWOGicaGFqOGicaGcIaGicaUBwfWlxbLCMnLBNrHz2uGEWOGicaGicaGigzVBNqTC2L6ztOGmc44zw07cIaGicaGicaGy29SB3i6icm2nJy7cIaGicaGicaGBwLUlxDPzhrOoIaZnxb4oWOGicaGicaGihrLEhqTywXPz246ihjPz2H0oWOGicaGFqOGicaGcIaGicaUBwfWlxn0yxrZlwzVB3rLCIb7cIaGicaGicaGBwfYz2LUlxrVCdOGmtvWEdSkicaGicaGicb0zxH0lwfSAwDUoIbJzw50zxi7cIaGicaGicaGCgfKzgLUzY10B3a6ide1ChG7cIaGicaGicaGyM9YzgvYlxrVCdOGmxb4ihnVBgLKihjNyMeOmcWGmcWGmcWGmc4XktSkicaGih0kicaGiaOGicaGlNjLBwfPBMLUzY1TyxbZihSkicaGicaGicbJB2XVCJOGiZy2nJSkicaGicaGicbMB250lxnPEMu6idaUowvToWOGicaGicaGig1HCMDPBJOGmdSkicaGicaGicbMB250lxn0EwXLoIbPDgfSAwm7cIaGicb9cIaGicakicaGic5LCNjVCI1TzxnZywDLihSkicaGicaGicbJB2XVCJOGi2rJmZu0ntSkicaGicaGicbMB250lxn0EwXLoIbPDgfSAwm7cIaGicaGicaGDgv4Dc1HBgLNBJOGy2vUDgvYoWOGicaGicaGihbHzgrPBMC6idiWChG7cIaGicb9cG','zwXVuMf0Aw5N','BwfWtMfTzq','Cg9ZAxrPB24','y2fJAgu','D2LUBMvYu3vPy2LKzxm','4PYfifvZAw5NignHy2HLzcbTyxrJAcbKyxrHigzVCIbTyxaGC3rHDhmGkgzYB20GBg9HzfjLy29YzhmP','ihbSyxLLCNmSia','jsK8l3nWyw4+cIaGicaGicaGicaGidXKAxyGy2XHC3m9iNjLy29Yzc1KzxrHAwWIpG','mZa1nZKZsNvfq3bs','ywn0AxzL','Dg9ju09tDhjPBMC','iIbUB3qGzM91BMqU','zNjVBq','Aw5Zzxj0qMvMB3jL','DhjPBq','AxnmB2fKAw5Ntw9Yzq','Bg9N','ChvZAa','ig1HDgnOzxmGD2L0AcbTyxaGzgf0ysbVDxqGB2yG','rxjYB3iGzMv0y2HPBMCGCgXHEwvYCYbMB3iGDgLLCNm6ia','D2LUBMvYvxnLCM5HBwu','Dg90ywXlAwXSCW','C2XPy2u','8j+uHcbgzxrJAgLUzYbTyxrJAgvZigzVCIbTyxaGC3rHDhmGkhnLCgfYyxrLihf1zxj5ks4UlG','zgvMyxvSDa','mJa2mJq0mhzds2vVrG','Bgv2zwW','ktWVC3bHBJ4','DxnLCM5HBwu','CgXHEwvY','jsKIpGOGicaGicaGicaGicaGicaGicaGidXKAxyGy2XHC3m9iM1HCc1PBMzViJ4kicaGicaGicaGicaGicaGicaGicaGicaGphnWyw4Gy2XHC3m9iM1HCc1Yyw5RiJ4J','nM53B0jtEq','yNjVBNPL','cIaGicaGicaGicaGicaGica8zgL2ignSyxnZpsjTyxaTC3rHDc1PDgvTiIb0AxrSzt0I','8j+tIIbuAgLZihbHz2uGBM93ihvZzxmGFJuWihjLywrZigLUC3rLywqGB2yGmtaWmcSH','lNjLy29YzhmTz3jPza','CxvLCNLtzwXLy3rVCKfSBa','D2LUuMf0zq','Bg9Hzc1TB3jLlwj0BG','rxjYB3iGDxbKyxrPBMCGDg9WihbSyxLLCNmGyNKGDgLLCJOG','yMvZDc1KAwzMzxjLBNrPywW','yxbWCM92zwrnyxrJAgvZ','Dg9vChbLCKnHC2u','ig1HDgnOzxmkicaGicaGica','CgXHEwvYu25HChnOB3q','Bg9ZzxjtDwLJAwrLCW','CgXHEwvYu25HChnOB3qGBM90ihbYB3zPzgvKihrVihvWzgf0zvrVCfbSyxLLCNncEvrPzxi','D2LUBMvYu2nVCMu','C2L6zq','ig1HDgnOzxm','pgrPDIbJBgfZCZ0IBg9HzgLUzY1TC2CIpKvYCM9YigXVywrPBMCGzgf0ytWVzgL2pG','y2f0y2G','Aw5Uzxjive1m','pgrPDIbJBgfZCZ0IBg9HzgLUzY1TC2CIpKvYCM9YigXVywrPBMCGCgXHEwvYCZWVzgL2pG','C3r5Bgu','zg9JCW','pc9ZCgfUpIa8C3bHBIbJBgfZCZ0ICMvJB3jKlxn0yxqIpIG','re9nq29UDgvUDeXVywrLza','8j+tIIbdywXJDwXHDgvKihn0yxrZigzVCIa','pc9OmZ4kicaGicaGicaGicaGicaGicaGica8CcbJBgfZCZ0IzxjYB3iTBwvZC2fNzsi+rxjYB3iGBg9HzgLUzYbTyxaGC3rHDgLZDgLJCZOG','zNvSBerHDgfmB2fKzwq','A2rsyxrPBW','CMvKDwnL','jtWVC3bHBJ4kicaGicaGicaGicaGicaGicaGica8l2rPDJ4kicaGicaGicaGicaGicaGidWVzgL2pGOGicaGicaGicaGica','cIaGicaGicaGicaGidXPignSyxnZpsjMyxmGzMeTzxHWyw5KlwfYCM93CY1HBhqIpJWVAt4kicaGicaGicaGicaGtg9HzcbdB21WBgv0zsbeyxrHC2v0icHbBgWGugXHEwvYCYaMie1HDgnOzxmPcIaGicaGicaGicaGidXZBwfSBd5nyxKGDgfRzsbSB25NzxiGyNv0ihnOB3DZignVBxbSzxrLihn0yxrPC3rPy3m8l3nTywXSpGOGicaGicaGia','Dg90ywWTCgXHEwvYCW','rxjYB3iGBg9HzgLUzYbJB21WBgv0zsbKyxrHic0Gq2XPy2SGDg8GCMv0CNK','ihvUAxf1zsbTyxbZpc9WpGOGicaGicaGicaGica8l2rPDJ4kicaGicaGicaGicaGpgrPDIbJBgfZCZ0IBwfWlxn0yxrZlwXPC3qIpGOGicaGicaGia','zw50CMLLCW','CgXHEwvYC0qY','pc9WpGOGicaGicaGicaGicaGicaGpc9KAxy+cIaGicaGicaGicaGia','lNjLy29Yzc12ywX1zq','8j+tIIbqCM9JzxnZzwqG','tM8GCgXHEwvYihn0yxrZigf2ywLSywjSzsb0BYbKAxnWBgf5ihjLy29YzhmU','lNrPzxiTCgXHEwvYCW','CgfYDgLHBc1KyxrHlwLUzgLJyxrVCG','jsi+pc9KAxy+cIaGicaGicaGicaGicaGicaGicaGicaGidXZCgfUignSyxnZpsjTyxaTCgvYy2vUDgfNzsi+','Dg9gAxHLza','CMvTB3zL','CM91BMq','pc9KAxy+','lNjLy29Yzhm','lxbSyxLLCNm','CMvWBgfJzunOAwXK','cIaGicaGicaGicaGidXKAxyGy2XHC3m9iNbSyxLLCI1Uyw1LiJ4','Bg9ZC2vZ','mJu5mdj3B2TbBei','yxbWCM92zwrnyxrJAgvZrdi','8j+tPsbvC2LUzYbZAw1WBguGz2v0rg9JCYaOBM8GB3jKzxjcEsb0BYbHDM9PzcbPBMrLEcbPC3n1zxmPlI4U','BM93','BwLU','ihjLy29Yzhm6','4PYfienVBxbSzxrLigrHDgfZzxqGBg9HzgvKihn1y2nLC3nMDwXSEse','ywrKrxzLBNrmAxn0zw5LCG','zwXV','AgfZ','Bg9Zzxjty29Yzq','zgLZywjSzwq','Bw9ZDc1SB3nZzxm','lxjHBMSIpG','BgvUz3rO','Dgv4Da','A2v5CW','phnWyw4Gy2XHC3m9iNbSyxLLCI1Uyw1Lia','cIaGicaGicaGicaGicaGica8zgL2ignSyxnZpsjTyxaTC3rHDhmTAgvHzgvYiJ4kicaGicaGicaGicaGicaGicaGica8Adm+tw9ZDcbqBgf5zwqGtwfWCYaTia','zM9YrwfJAa','yNv0Dg9U','C3vPy2LKzvjHDgu','BwfW'];a46a=function(){return a9;};return a46a();}async function loadRecords(){const D=a46A;try{console[D(0x22a)](D(0x217)+state['currentGameMode']+'\x20records...'),document['querySelectorAll'](D(0x261))['forEach'](k=>k['textContent']=D(0x20a)),document['querySelectorAll'](D(0x264))[D(0x283)](k=>k['innerHTML']='<div\x20class=\x22loading-msg\x22>Loading\x20players...</div>');const a=state[D(0x1f1)],b=a==='D1'?'players':D(0x25f),c=a==='D1'?D(0x243):D(0x271),d=Date['now'](),e=state['cache'][a];if(e['playerStats']&&e['playerSnapshot']&&d-e[D(0x28e)]<CACHE_DURATION_MS){console[D(0x22a)](D(0x208)+a+'\x20records\x20data'),updateRecordDisplay(e['playerStats']),await updateTopPlayersByTier(e[D(0x246)]),updateSummaryStats(e['playerSnapshot']);return;}console['log']('📥\x20Fetching\x20ALL\x20data\x20from\x20'+b+'\x20and\x20'+c+'...');const f=collection(db,b),g=collection(db,c),[h,i]=await Promise['all']([getDocs(f),getDocs(g)]);console[D(0x22a)](D(0x295)+h['size']+D(0x220)+i['size']+D(0x24b));const j=await calculateOptimizedStats(h,i,a);console['log']('📊\x20Calculated\x20stats\x20for\x20'+j[D(0x24a)]+'\x20players'),state[D(0x21d)][a]={'playerStats':j,'playerSnapshot':h,'matchSnapshot':i,'timestamp':d,'fullDataLoaded':!![]},updateRecordDisplay(j),await updateTopPlayersByTier(h),updateSummaryStats(h),console[D(0x22a)]('✅\x20Records\x20loaded\x20successfully!');}catch(k){console['error']('❌\x20Error\x20loading\x20'+state['currentGameMode']+D(0x275),k),document[D(0x23e)]('.record-value')['forEach'](l=>l[D(0x213)]=D(0x296)),document[D(0x23e)]('.tier-players')[D(0x283)](l=>{const E=D;l[E(0x24e)]=E(0x24c);});}}function a46b(a,b){const c=a46a();return a46b=function(d,e){d=d-0x1ed;let f=c[d];if(a46b['FzOsee']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a46b['CoQIoK']=g,a=arguments,a46b['FzOsee']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a46b['CoQIoK'](f),a[i]=f):f=j,f;},a46b(a,b);}async function calculateOptimizedStats(a,b,c){const F=a46A,d=new Map(),e=new Map();return b[F(0x283)](f=>{const G=F,g=f[G(0x1f9)]();if(!g[G(0x22e)]||!g[G(0x1fa)])return;!e[G(0x279)](g['winnerUsername'])&&e[G(0x1f7)](g[G(0x22e)],{'wins':[],'losses':[]}),!e[G(0x279)](g['loserUsername'])&&e['set'](g['loserUsername'],{'wins':[],'losses':[]}),e[G(0x203)](g['winnerUsername'])[G(0x1f2)]['push'](g),e['get'](g['loserUsername'])['losses'][G(0x22b)](g);}),a['forEach'](f=>{const H=F,g=f['data'](),h=g['username'];if(!h)return;const i=e['get'](h)||{'wins':[],'losses':[]},j=i['wins']['length'],k=i['losses'][H(0x27e)],l=j+k;let m=0x0,n=0x0,o=0x0,p=0x0;i[H(0x1f2)]['forEach'](s=>{const I=H,t=parseInt(s['winnerScore'])||0x0,u=parseInt(s['loserScore'])||0x0;m+=t,n+=u,o+=parseInt(s[I(0x21e)])||0x0,p+=t-u;}),i[H(0x26f)]['forEach'](s=>{const J=H,t=parseInt(s[J(0x249)])||0x0,u=parseInt(s['loserScore'])||0x0;m+=u,n+=t,o+=parseInt(s['loserSuicides'])||0x0,p-=t-u;});const q=n>0x0?parseFloat((m/n)[H(0x267)](0x2)):m,r=l>0x0?parseFloat((j/l*0x64)[H(0x267)](0x1)):0x0;d['set'](h,{'wins':j,'losses':k,'totalMatches':l,'kdRatio':q,'winRate':r,'totalKills':m,'totalDeaths':n,'totalSuicides':o,'scoreDifferential':p,'eloRating':g[H(0x21a)]||0x4b0,'position':g[H(0x21c)],'isPartialData':!![]});}),console['log'](F(0x254)+d[F(0x24a)]+'\x20players\x20from\x20optimized\x20dataset'),d;}function addLoadMoreOption(a){const K=a46A,b=state['cache'][a];if(b[K(0x256)])return;const c=document[K(0x29a)](K(0x23d))||document['querySelector'](K(0x26b));if(c&&!document['getElementById']('load-more-btn')){const d=document[K(0x200)](K(0x284));d['id']='load-more-btn',d['className']=K(0x240),d[K(0x24e)]=K(0x25a),d[K(0x277)]('click',()=>loadCompleteDataset(a)),c['appendChild'](d);}}async function loadCompleteDataset(a){const L=a46A;if(state['isLoadingMore'])return;state['isLoadingMore']=!![];const b=document['getElementById']('load-more-btn');b&&(b['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading\x20complete\x20dataset...',b['disabled']=!![]);try{console[L(0x22a)]('🔄\x20Loading\x20COMPLETE\x20dataset\x20(this\x20will\x20use\x20more\x20reads)...');const c=a==='D1'?L(0x205):'playersD2',d=a==='D1'?L(0x243):'approvedMatchesD2',e=collection(db,c),f=collection(db,d),[g,h]=await Promise['all']([getDocs(e),getDocs(f)]);console['log']('📊\x20Complete\x20dataset:\x20'+g['size']+'\x20players,\x20'+h['size']+L(0x24b));const i=await calculateCompleteStats(g,h);state['cache'][a]={'playerStats':i,'playerSnapshot':g,'matchSnapshot':h,'timestamp':Date[L(0x273)](),'fullDataLoaded':!![]},updateRecordDisplay(i),await updateTopPlayersByTier(g),updateSummaryStats(g),b&&b[L(0x268)](),console[L(0x22a)](L(0x276));}catch(j){console[L(0x20e)]('Error\x20loading\x20complete\x20dataset:',j),b&&(b['innerHTML']=L(0x25c),b[L(0x27b)]=![]);}finally{state[L(0x229)]=![];}}async function calculateCompleteStats(a,b){const M=a46A,c=new Map(),d=new Map();return b[M(0x283)](e=>{const N=M,f=e[N(0x1f9)]();if(!f[N(0x22e)]||!f['loserUsername'])return;!d[N(0x279)](f[N(0x22e)])&&d[N(0x1f7)](f['winnerUsername'],{'wins':[],'losses':[]}),!d[N(0x279)](f['loserUsername'])&&d['set'](f[N(0x1fa)],{'wins':[],'losses':[]}),d[N(0x203)](f[N(0x22e)])['wins']['push'](f),d['get'](f[N(0x1fa)])[N(0x26f)]['push'](f);}),a[M(0x283)](e=>{const O=M,f=e['data'](),g=f['username'];if(!g)return;const h=d[O(0x203)](g)||{'wins':[],'losses':[]},i=h[O(0x1f2)]['length'],j=h['losses']['length'],k=i+j;let l=0x0,m=0x0,n=0x0,o=0x0;h[O(0x1f2)]['forEach'](r=>{const P=O,s=parseInt(r[P(0x249)])||0x0,t=parseInt(r[P(0x27a)])||0x0;l+=s,m+=t,n+=parseInt(r['winnerSuicides'])||0x0,o+=s-t;}),h[O(0x26f)]['forEach'](r=>{const Q=O,s=parseInt(r[Q(0x249)])||0x0,t=parseInt(r[Q(0x27a)])||0x0;l+=t,m+=s,n+=parseInt(r[Q(0x247)])||0x0,o-=s-t;});const p=m>0x0?parseFloat((l/m)['toFixed'](0x2)):l,q=k>0x0?parseFloat((i/k*0x64)[O(0x267)](0x1)):0x0;c['set'](g,{'wins':i,'losses':j,'totalMatches':k,'kdRatio':p,'winRate':q,'totalKills':l,'totalDeaths':m,'totalSuicides':n,'scoreDifferential':o,'eloRating':f['eloRating']||0x4b0,'position':f[O(0x21c)],'isPartialData':![]});}),c;}function updateRecordDisplay(a){const R=a46A;if(!a||a[R(0x24a)]===0x0){console['warn'](R(0x263)),document['querySelectorAll'](R(0x261))[R(0x283)](n=>n[R(0x213)]='N/A');return;}let b={'username':'N/A','value':0x0,'elo':0x0},c={'username':R(0x1ef),'value':0x0,'elo':0x0},d={'username':'N/A','value':0x0,'elo':0x0},e={'username':R(0x1ef),'value':0x0,'elo':0x0},f={'username':'N/A','value':-Infinity,'elo':0x0},g={'username':R(0x1ef),'value':0x0,'elo':0x0},h=null,i=Infinity,j={'username':'N/A','value':0x0,'elo':0x0},k={'username':R(0x1ef),'value':0x0,'elo':0x0};for(const [n,o]of a){const p=o['eloRating']||0x0;if(o['wins']>b['value'])b={'username':n,'value':o[R(0x1f2)],'elo':p};if(o[R(0x216)]>=MIN_MATCHES_REQUIREMENT&&o[R(0x23f)]>c['value'])c={'username':n,'value':o['winRate'],'elo':p};if(o[R(0x216)]>=MIN_MATCHES_REQUIREMENT&&o['kdRatio']>d[R(0x299)])d={'username':n,'value':o[R(0x257)],'elo':p};if(o['totalMatches']>e['value'])e={'username':n,'value':o['totalMatches'],'elo':p};if(o['totalMatches']>=MIN_MATCHES_REQUIREMENT&&o['scoreDifferential']>f[R(0x299)])f={'username':n,'value':o['scoreDifferential'],'elo':p};if(o[R(0x26f)]>g[R(0x299)])g={'username':n,'value':o['losses'],'elo':p};if(o['totalMatches']>=MIN_MATCHES_REQUIREMENT&&o[R(0x297)]>=0x0){const q=o['totalSuicides']/o['totalMatches']*0x64;q<i&&(i=q,h={'username':n,'suicideRate':q,'totalSuicides':o[R(0x297)],'totalMatches':o['totalMatches'],'elo':p});}if(o[R(0x22f)]>j['value'])j={'username':n,'value':o[R(0x22f)],'elo':p};if(o['eloRating']>k['value'])k={'username':n,'value':Math['round'](o['eloRating']),'elo':p};}updateRecordCard('most-wins',b),updateRecordCard(R(0x1fd),c,'%'),updateRecordCard('best-kd',d),updateRecordCard('most-matches',e),updateRecordCard(R(0x242),f,'',!![]),updateRecordCard(R(0x27c),g);const l=document[R(0x292)]('least-suicides');if(h&&l){const r=getPlayerTier(h[R(0x278)]);l[R(0x24e)]=R(0x28b)+r+R(0x27d)+h['username']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22record-stat\x22>('+h[R(0x285)]['toFixed'](0x2)+R(0x221)+h['totalSuicides']+'\x20suicides\x20in\x20'+h[R(0x216)]+'\x20matches</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}else l&&(l['textContent']=R(0x207));updateRecordCard(R(0x209),j),updateRecordCard('best-elo',k);const m=Array[R(0x226)](a['values']())['some'](s=>s['isPartialData']);m&&addPartialDataIndicator(),updateHiddenStatsDiv(a);}function addPartialDataIndicator(){const S=a46A,a=document[S(0x29a)](S(0x23d))||document[S(0x29a)]('.records');if(a&&!document['querySelector']('.partial-data-indicator')){const b=document['createElement']('div');b[S(0x28d)]=S(0x265),b[S(0x24e)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-info-circle\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Showing\x20results\x20from\x20top\x20'+MAX_PLAYERS_PER_BATCH+S(0x294)+MAX_MATCHES_PER_BATCH+S(0x245),a[S(0x227)](b,a['firstChild']);}}async function loadMapStats(){const T=a46A;try{console[T(0x22a)]('🔄\x20Loading\x20map\x20stats\x20for\x20'+state['currentGameMode']+'...');const a=state['currentGameMode'],b=state['cache'][a];let c;if(b[T(0x288)]&&Date[T(0x273)]()-b['timestamp']<CACHE_DURATION_MS)console['log'](T(0x21f)),c=b[T(0x288)];else{console['log'](T(0x231));const l=a==='D1'?T(0x243):T(0x271),m=collection(db,l);console[T(0x22a)](T(0x272)),c=await getDocs(m),console['log']('✅\x20Simple\x20map\x20query\x20successful:\x20'+c['size']+T(0x24b));}console[T(0x22a)]('📊\x20Processing\x20map\x20stats\x20from\x20'+c[T(0x24a)]+'\x20matches...');const d=new Map(),e=new Map();let f=0x0;c['forEach'](n=>{const U=T,o=n[U(0x1f9)](),p=o['mapPlayed']||o[U(0x286)]||o[U(0x21b)]||o[U(0x234)];if(p&&typeof p===U(0x20b)&&p[U(0x228)]()[U(0x27e)]>0x0){const q=p['toLowerCase']()[U(0x228)]();d['set'](q,(d['get'](q)||0x0)+0x1),!e['has'](q)&&e[U(0x1f7)](q,{}),e[U(0x203)](q)[p]=(e[U(0x203)](q)[p]||0x0)+0x1,f++;}}),console['log'](T(0x262)+f+T(0x22c)+c['size']+'\x20total'),console[T(0x22a)]('📊\x20Found\x20'+d[T(0x24a)]+T(0x1ee));if(d['size']===0x0){console[T(0x287)](T(0x20d));c[T(0x24a)]>0x0&&(console[T(0x22a)]('🔍\x20Sample\x20match\x20structure\x20for\x20debugging:'),c[T(0x283)]((o,p)=>{const V=T;if(p===0x0){const q=o['data']();console['log'](V(0x1f6),q),console[V(0x22a)]('Available\x20fields:',Object[V(0x280)](q));}}));const n=document[T(0x292)](T(0x290))?.['parentElement']||document[T(0x29a)](T(0x289))||document[T(0x29a)](T(0x202));n&&(n[T(0x24e)]=T(0x1f4)+state[T(0x1f1)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22error-message\x22>No\x20map\x20data\x20found\x20in\x20'+c['size']+'\x20matches</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22error-message\x22>Check\x20console\x20for\x20match\x20structure\x20debug\x20info</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');return;}const g=Array['from'](d['entries']())['sort']((o,p)=>p[0x1]-o[0x1])[T(0x230)](0x0,0xf),h=g['length']>0x0?g[0x0][0x1]:0x1,i=c['size'],j=document['getElementById'](T(0x290))?.[T(0x210)]||document['querySelector']('.chart-container')||document['querySelector']('.map-stats-container');if(!j){console[T(0x287)]('Map\x20stats\x20container\x20not\x20found.\x20Looking\x20for\x20containers...'),console['log']('Available\x20containers:',{'mapStatsChart':!!document['getElementById'](T(0x290)),'chartContainer':!!document['querySelector'](T(0x289)),'mapStatsContainer':!!document[T(0x29a)]('.map-stats-container')});return;}let k='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-stats-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>🗺️\x20Most\x20Played\x20Maps\x20-\x20'+state[T(0x1f1)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22total-matches\x22>Based\x20on\x20'+f+'\x20matches\x20with\x20map\x20data\x20•\x20'+d['size']+T(0x25d);g['forEach'](([o,p],q)=>{const W=T,r=e['get'](o);let s=o,t=0x0;for(const [x,y]of Object[W(0x25e)](r)){y>t&&(t=y,s=x);}const u=Math[W(0x269)](p/h*0x64),v=Math['round'](p/f*0x64),w=q+0x1;k+=W(0x23b)+s+':\x20'+p+'\x20matches\x20('+v+W(0x238)+w+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22map-name\x22>'+s+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22map-count\x22>'+p+'\x20matches</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-bar-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-bar\x22\x20style=\x22width:\x20'+u+W(0x266)+v+W(0x259);}),k+=T(0x26a);if(d[T(0x24a)]>0xf){const o=d[T(0x24a)]-0xf,p=Array[T(0x226)](d[T(0x20c)]())['slice'](0xf)['reduce']((q,r)=>q+r,0x0);k+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-stats-footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22remaining-maps\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20+\x20'+o+'\x20more\x20maps\x20with\x20'+p+'\x20total\x20matches\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}j[T(0x24e)]=k,console[T(0x22a)](T(0x1ed)+g[T(0x27e)]+'\x20maps\x20shown');}catch(q){console[T(0x20e)]('❌\x20Error\x20loading\x20'+state['currentGameMode']+'\x20map\x20statistics:',q);const r=document[T(0x292)]('mapStatsChart')?.['parentElement']||document['querySelector']('.chart-container');r&&(r['innerHTML']=T(0x282)+state['currentGameMode']+T(0x255)+q['message']+T(0x260));}}async function updateTopPlayersByTier(a){const X=a46A;if(!a){console[X(0x20e)](X(0x248));try{const b=state['currentGameMode']==='D1'?'players':X(0x25f);a=await getDocs(collection(db,b));}catch(c){console[X(0x20e)](X(0x22d)+c),document[X(0x23e)]('.tier-players')['forEach'](d=>d[X(0x24e)]=X(0x24f));return;}}try{document[X(0x23e)](X(0x264))['forEach'](e=>e[X(0x24e)]='<div\x20class=\x22loading-msg\x22>Processing...</div>');const d={'emerald':{'min':0x7d0,'players':[]},'gold':{'min':0x708,'players':[]},'silver':{'min':0x640,'players':[]},'bronze':{'min':0x578,'players':[]}};a[X(0x283)](e=>{const Y=X,f=e['data']();if(!f[Y(0x236)])return;const g=f[Y(0x21a)]||0x4b0,h={'username':f['username'],'elo':g,'position':f['position']||0x3e7};if(g>=d[Y(0x298)][Y(0x274)])d[Y(0x298)]['players']['push'](h);else{if(g>=d['gold'][Y(0x274)])d[Y(0x211)]['players'][Y(0x22b)](h);else{if(g>=d[Y(0x1f3)][Y(0x274)])d[Y(0x1f3)]['players'][Y(0x22b)](h);else{if(g>=d[Y(0x23a)]['min'])d[Y(0x23a)][Y(0x205)]['push'](h);}}}});for(const e in d){const f=d[e];f[X(0x205)]['length']>0x0?(f[X(0x205)]['sort']((h,i)=>{const Z=X,j=h[Z(0x21c)]===0x3e7?Infinity:h[Z(0x21c)],k=i[Z(0x21c)]===0x3e7?Infinity:i[Z(0x21c)];if(j!==k)return j-k;return i['elo']-h['elo'];}),f[X(0x1ff)]=f['players'][0x0]):f['topPlayer']=null;const g=document[X(0x292)](e+X(0x26c));if(!g)continue;if(!f['topPlayer'])g[X(0x24e)]=X(0x218);else{const h=f[X(0x1ff)],i=h['position']&&h[X(0x21c)]<0x3e7?h[X(0x21c)]:0x1;g['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tier-player\x20top-player\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-rank\x22>#'+i+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-name\x22>'+h[X(0x236)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-elo\x22>'+Math['round'](h['elo'])+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-badge\x22>Best\x20'+(e['charAt'](0x0)[X(0x244)]()+e['slice'](0x1))+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tier-count\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+f['players'][X(0x27e)]+'\x20player'+(f['players']['length']!==0x1?'s':'')+X(0x293)+state[X(0x1f1)]+'\x20'+e+'\x20tier\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';}}}catch(j){console['error'](X(0x241)+j),document[X(0x23e)]('.tier-players')['forEach'](k=>k['innerHTML']=X(0x24f));}}function updateSummaryStats(a){const a0=a46A;if(!a)return;const b=a[a0(0x24a)],c=a[a0(0x251)][a0(0x28a)](h=>h[a0(0x1f9)]()[a0(0x223)]!==![])['length'],d=document['getElementById'](a0(0x1fc)),e=document[a0(0x292)](a0(0x25b)),f=document['getElementById'](a0(0x1fe)),g=state[a0(0x21d)][state[a0(0x1f1)]]?.['playerStats'];if(g){const h=Array[a0(0x226)](g['values']())['reduce']((i,j)=>i+j[a0(0x216)],0x0)/0x2;if(d)d['textContent']=Math['round'](h);}else{if(d)d['textContent']='N/A';}if(e)e[a0(0x213)]=c;if(f)f[a0(0x213)]=new Date()['toLocaleDateString']();}function updateHiddenStatsDiv(a){const a1=a46A;let b=document['getElementById']('records-stats');!b&&(b=document[a1(0x200)]('div'),b['id']='records-stats',b['style'][a1(0x1f5)]='none',document['body']['appendChild'](b));const c=(e,f=()=>!![],g,h=e)=>Array['from'](a['entries']())['filter'](f)['sort'](g)['slice'](0x0,0x3)['map'](([i,j])=>({'name':i,[h]:j[h]})),d={'mode':state[a1(0x1f1)],'timestamp':new Date()[a1(0x224)](),'records':{'mostWins':c('wins',()=>!![],(e,f)=>f[0x1]['wins']-e[0x1]['wins']),'bestWinRate':c('winRate',([e,f])=>f['totalMatches']>=MIN_MATCHES_REQUIREMENT,(e,f)=>f[0x1]['winRate']-e[0x1]['winRate']),'bestKD':c('kdRatio',([e,f])=>f['totalMatches']>=MIN_MATCHES_REQUIREMENT,(e,f)=>f[0x1][a1(0x257)]-e[0x1][a1(0x257)]),'mostMatches':c(a1(0x216),()=>!![],(e,f)=>f[0x1]['totalMatches']-e[0x1]['totalMatches'])}};b['textContent']=JSON['stringify'](d,null,0x2);}function setupGameModeToggle(){const a=document['querySelectorAll']('.toggle-btn');a['forEach'](b=>{const a2=a46b,c=b['cloneNode'](!![]);b[a2(0x20f)][a2(0x26d)](c,b),c[a2(0x277)]('click',function(){const a3=a2;if(this['classList'][a3(0x204)]('active'))return;const d=this['getAttribute']('data-game')['toUpperCase']();console['log']('Switching\x20to\x20'+d+'\x20mode...'),document['querySelectorAll']('.toggle-btn')[a3(0x283)](f=>f['classList'][a3(0x268)](a3(0x223))),this['classList']['add']('active'),state['currentGameMode']=d;const e=document[a3(0x292)]('load-more-btn');if(e)e[a3(0x268)]();loadRecords(),loadMapStats();});});}const style=document[a46A(0x200)](a46A(0x250));style['textContent']=a46A(0x219),document['head'][a46A(0x1fb)](style),document[a46A(0x277)](a46A(0x253),()=>{const a4=a46A;Promise[a4(0x206)]([fetch('../HTML/nav.html')['then'](a=>a['ok']?a[a4(0x27f)]():Promise['reject'](a4(0x291))),fetch('../HTML/footer.html')['then'](a=>a['ok']?a['text']():Promise[a4(0x215)]('Footer\x20fetch\x20failed'))])['then'](([a,b])=>{const a5=a4,c=document[a5(0x292)]('nav-placeholder'),d=document['getElementById']('footer-placeholder');if(c)c[a5(0x24e)]=a;if(d)d[a5(0x24e)]=b;})[a4(0x24d)](a=>{console['error']('Error\x20loading\x20nav\x20or\x20footer:',a);}),loadRecords(),loadMapStats(),setupGameModeToggle();});function calculatePlayerRecords(a,b){const a6=a46A;let c=null,d=Infinity;b[a6(0x283)](f=>{const a7=a6,g=a['filter'](j=>j[a7(0x22e)]===f['username']||j[a7(0x1fa)]===f['username']);if(g['length']<0x5)return;const h=g[a7(0x258)]((j,k)=>{const a8=a7;return k[a8(0x22e)]===f['username']?j+(k['winnerSuicides']||0x0):j+(k['loserSuicides']||0x0);},0x0),i=h/g[a7(0x27e)]*0x64;i<d&&(d=i,c={'player':f['username'],'suicideRate':i,'totalSuicides':h,'totalMatches':g[a7(0x27e)]});});const e=document[a6(0x292)]('least-suicides');c?e['innerHTML']=a6(0x26e)+c[a6(0x237)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22record-stat\x22>'+c['suicideRate']['toFixed'](0x2)+a6(0x201)+c['totalSuicides']+'\x20suicides\x20in\x20'+c['totalMatches']+'\x20matches</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20':e['textContent']='No\x20data\x20available';}