const a33_0x11d98b=a33_0x1f0b,a33_0x1bb998=(function(){let _0x32815a=!![];return function(_0x1ff271,_0x4c9bcf){const _0x4c92c8=_0x32815a?function(){const _0x84f098=a33_0x1f0b;if(_0x4c9bcf){const _0x26c7fb=_0x4c9bcf[_0x84f098(0x9a)](_0x1ff271,arguments);return _0x4c9bcf=null,_0x26c7fb;}}:function(){};return _0x32815a=![],_0x4c92c8;};}()),a33_0x3369c6=a33_0x1bb998(this,function(){const _0x163cca=a33_0x1f0b;let _0x5c08ff;try{const _0x4ac467=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x5c08ff=_0x4ac467();}catch(_0x21a3b8){_0x5c08ff=window;}const _0x3aceeb=_0x5c08ff['console']=_0x5c08ff[_0x163cca(0xce)]||{},_0x22aedf=['log','warn','info','error','exception','table','trace'];for(let _0x2adef8=0x0;_0x2adef8<_0x22aedf['length'];_0x2adef8++){const _0x141b61=a33_0x1bb998['constructor'][_0x163cca(0xc8)]['bind'](a33_0x1bb998),_0x4abf0e=_0x22aedf[_0x2adef8],_0x389d79=_0x3aceeb[_0x4abf0e]||_0x141b61;_0x141b61['__proto__']=a33_0x1bb998[_0x163cca(0x99)](a33_0x1bb998),_0x141b61['toString']=_0x389d79['toString'][_0x163cca(0x99)](_0x389d79),_0x3aceeb[_0x4abf0e]=_0x141b61;}});a33_0x3369c6();import{collection,getDocs,deleteDoc,doc,getDoc,query,where,updateDoc,Timestamp,onSnapshot,orderBy,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db}from'./firebase-config.js';import{getRankStyle}from'./ranks.js';function a33_0x2ef7(){const _0x444841=['playersD3','%</td>\x0a\x20\x20\x20\x20</tr>','D3:\x20Error\x20fetching\x20ELO\x20history:','previousElo','username','#4CAF50','pilot','bind','apply','playerUsername','empty','<tr><td\x20colspan=\x228\x22\x20class=\x22loading-cell\x22>Loading\x20D3\x20ladder\x20data...</td></tr>','timestamp','position','includes','Error\x20updating\x20D3\x20ELO\x20trend\x20indicators:','textContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>Rank</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>Username</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>ELO</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>Matches</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>Wins</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>Losses</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>K/D</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>Win\x20Rate</th>\x0a\x20\x20\x20\x20','set','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22trend-indicator\x22\x20style=\x22margin-left:\x205px;\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','seconds','forEach','desc','find','style','newElo','Error\x20loading\x20D3\x20ladder:','sort','D3:\x20No\x20entries\x20found\x20in\x20eloHistoryD3,\x20trying\x20fallback...','totalMatches','fontSize','from','totalKills','toFixed','querySelector','error','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','size','D3:\x20Fallback\x20query\x20failed:','.png\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22','Error\x20fetching\x20batch\x20match\x20stats\x20for\x20D3:','map','push','appendChild','D3:\x20Found\x20pilot\x20entry:','innerHTML','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','eloHistory','#F44336','country','loserUsername','\x0a\x20\x20.streak-indicator\x20{\x0a\x20\x20\x20\x20font-size:\x200.9em;\x0a\x20\x20\x20\x20color:\x20#FF4500;\x0a\x20\x20\x20\x20margin-left:\x205px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20}\x0a','log','totalDeaths','prototype','join','player','ceil','#ladder-d3\x20tbody','get','console'];a33_0x2ef7=function(){return _0x444841;};return a33_0x2ef7();}import a33_0x6d7a3b from'./firebase-idle-wrapper.js';const styleEl=document['createElement']('style');styleEl[a33_0x11d98b(0xa2)]=a33_0x11d98b(0xc5),document['head'][a33_0x11d98b(0xbd)](styleEl);const playerCacheD3={'data':null,'timestamp':0x0},CACHE_DURATION=0x7530;function a33_0x1f0b(_0x5b0af0,_0x2a29c8){const _0x3369c6=a33_0x2ef7();return a33_0x1f0b=function(_0x1bb998,_0x1eda2a){_0x1bb998=_0x1bb998-0x92;let _0x2ef7af=_0x3369c6[_0x1bb998];return _0x2ef7af;},a33_0x1f0b(_0x5b0af0,_0x2a29c8);}async function displayLadderD3(_0x533bdd=![]){const _0x21eee0=a33_0x11d98b,_0x556798=document[_0x21eee0(0xb4)]('#ladder-d3\x20tbody');if(!_0x556798){console[_0x21eee0(0xb5)]('D3\x20Ladder\x20table\x20body\x20not\x20found');return;}_0x556798['innerHTML']=_0x21eee0(0x9d);try{const _0xd22624=Date['now']();if(!_0x533bdd&&playerCacheD3['data']&&_0xd22624-playerCacheD3['timestamp']<CACHE_DURATION){updateLadderDisplayD3(playerCacheD3['data']);return;}const _0x5808ac=collection(db,_0x21eee0(0x92)),_0x366719=await getDocs(_0x5808ac),_0x2ad571=[];_0x366719['forEach'](_0x3f255f=>{const _0x4bfa30=_0x3f255f['data']();_0x4bfa30['username']&&_0x2ad571['push']({..._0x4bfa30,'id':_0x3f255f['id'],'elo':_0x4bfa30['eloRating']||0x0,'position':_0x4bfa30['position']||Number['MAX_SAFE_INTEGER']});});const _0x53a09c=collection(db,'userProfiles'),_0x123c28=await getDocs(_0x53a09c),_0xabe35c=new Map();_0x123c28['forEach'](_0x47998d=>{const _0x39cc00=_0x21eee0,_0x30719a=_0x47998d['data']();_0x30719a['username']&&_0xabe35c['set'](_0x30719a[_0x39cc00(0x96)]['toLowerCase'](),_0x30719a);});for(const _0x4b9aa6 of _0x2ad571){const _0x5276f1=_0x4b9aa6['username']['toLowerCase']();if(_0xabe35c['has'](_0x5276f1)){const _0x4bb971=_0xabe35c['get'](_0x5276f1);_0x4bb971['country']&&(_0x4b9aa6['country']=_0x4bb971['country']['toLowerCase']());}}const _0x2db3ed=_0x2ad571['map'](_0xc53784=>_0xc53784['username']),_0x1525da=await fetchBatchMatchStatsD3(_0x2db3ed);_0x2ad571['sort']((_0x177e33,_0xfe9d91)=>{const _0x8fc856=_0x21eee0,_0x49e505=_0x1525da['get'](_0x177e33[_0x8fc856(0x96)])?.[_0x8fc856(0xaf)]||0x0,_0x37d933=_0x1525da['get'](_0xfe9d91['username'])?.['totalMatches']||0x0;if(_0x49e505===0x0!==(_0x37d933===0x0))return _0x49e505===0x0?0x1:-0x1;return(_0x177e33['position']||0x3e7)-(_0xfe9d91['position']||0x3e7);}),_0x2ad571['forEach']((_0x1ca7e5,_0x1b14da)=>{_0x1ca7e5['position']=_0x1b14da+0x1;}),playerCacheD3['data']=_0x2ad571,playerCacheD3['timestamp']=_0xd22624,updateLadderDisplayD3(_0x2ad571);}catch(_0x22e4ee){console[_0x21eee0(0xb5)](_0x21eee0(0xac),_0x22e4ee),_0x556798[_0x21eee0(0xbf)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x228\x22\x20style=\x22text-align:\x20center;\x20color:\x20red;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20D3\x20ladder\x20data:\x20'+_0x22e4ee['message']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}function calculateStreakDays(_0x1bfe89){const _0x45fb1c=a33_0x11d98b;if(!_0x1bfe89)return 0x0;const _0xc8a1d9=_0x1bfe89['toDate'](),_0x347f75=new Date(),_0x2a9d99=Math['abs'](_0x347f75-_0xc8a1d9);return Math[_0x45fb1c(0xcb)](_0x2a9d99/(0x3e8*0x3c*0x3c*0x18));}async function updatePlayerPositions(_0x4b927d,_0x3aee25){const _0x136e99=a33_0x11d98b;try{const _0x2d8c73=collection(db,_0x136e99(0x92)),_0x265731=await getDocs(_0x2d8c73),_0x5ef915=[];_0x265731[_0x136e99(0xa7)](_0xd734ed=>{const _0x5d1f15=_0x136e99;_0x5ef915[_0x5d1f15(0xbc)]({'id':_0xd734ed['id'],..._0xd734ed['data']()});});const _0x10cd62=_0x5ef915[_0x136e99(0xa9)](_0x3ed62b=>_0x3ed62b['username']===_0x4b927d),_0x146bbe=_0x5ef915['find'](_0x1b9d22=>_0x1b9d22['username']===_0x3aee25);if(!_0x10cd62||!_0x146bbe){console['error']('Could\x20not\x20find\x20winner\x20or\x20loser\x20in\x20D3\x20players\x20list');return;}if(_0x10cd62['position']>_0x146bbe['position']){const _0x301518=_0x146bbe['position'];for(const _0x5c5a29 of _0x5ef915){_0x5c5a29['position']>=_0x146bbe['position']&&_0x5c5a29['position']<_0x10cd62[_0x136e99(0x9f)]&&_0x5c5a29['username']!==_0x4b927d&&await updateDoc(doc(db,'playersD3',_0x5c5a29['id']),{'position':_0x5c5a29['position']+0x1});}await updateDoc(doc(db,'playersD3',_0x10cd62['id']),{'position':_0x301518});if(_0x301518===0x1){const _0x23ff77=doc(db,'playersD3',_0x10cd62['id']),_0x1b54d2=await getDoc(_0x23ff77);!_0x1b54d2['data']()['firstPlaceDate']&&await updateDoc(_0x23ff77,{'firstPlaceDate':Timestamp['now']()});}if(_0x146bbe['position']===0x1){const _0x1e421d=doc(db,'playersD3',_0x146bbe['id']);await updateDoc(_0x1e421d,{'firstPlaceDate':null});}}}catch(_0x192443){console['error']('Error\x20updating\x20D3\x20player\x20positions:',_0x192443);}}async function updateLadderDisplayD3(_0x2d5f61){const _0x49b3f5=a33_0x11d98b;_0x2d5f61[_0x49b3f5(0xad)]((_0x24e237,_0x1ef13a)=>_0x24e237[_0x49b3f5(0x9f)]-_0x1ef13a['position']);const _0x55b4b2=document['querySelector'](_0x49b3f5(0xcc));if(!_0x55b4b2)return;_0x55b4b2['innerHTML']='';const _0x21a588=_0x2d5f61[_0x49b3f5(0xbb)](_0x4ca9d2=>_0x4ca9d2[_0x49b3f5(0x96)]),_0x3097ce=await fetchBatchMatchStatsD3(_0x21a588),_0x4046f5=document['querySelector']('#ladder-d3\x20thead\x20tr');_0x4046f5['innerHTML']=_0x49b3f5(0xa3);const _0xd3b165=_0x2d5f61[_0x49b3f5(0xbb)](_0x12f1ab=>{const _0x254ad2=_0x3097ce['get'](_0x12f1ab['username'])||{'totalMatches':0x0,'wins':0x0,'losses':0x0,'kda':0x0,'winRate':0x0,'totalKills':0x0,'totalDeaths':0x0};return createPlayerRowD3(_0x12f1ab,_0x254ad2);})[_0x49b3f5(0xc9)]('');_0x55b4b2['innerHTML']=_0xd3b165,getPlayersLastEloChangesD3(_0x21a588)['then'](_0x98b012=>{const _0x4fe213=new Map();_0x55b4b2['querySelectorAll']('tr')['forEach']((_0x2df15f,_0x25c43d)=>{_0x25c43d<_0x21a588['length']&&_0x4fe213['set'](_0x21a588[_0x25c43d],_0x2df15f);}),_0x98b012['forEach']((_0x61557d,_0x318820)=>{const _0x8d6463=a33_0x1f0b,_0x75ad6f=_0x4fe213[_0x8d6463(0xcd)](_0x318820);if(_0x75ad6f&&_0x61557d!==0x0){const _0x523d15=_0x75ad6f['querySelector']('td:nth-child(3)');if(_0x523d15){const _0x586fc3=_0x61557d>0x0?'+'+_0x61557d:''+_0x61557d,_0xf96573=_0x523d15['querySelector']('.trend-indicator');_0xf96573&&(_0xf96573['textContent']=_0x586fc3,_0xf96573['style']['color']=_0x61557d>0x0?_0x8d6463(0x97):_0x8d6463(0xc2),_0xf96573['style']['fontWeight']='bold',_0xf96573[_0x8d6463(0xaa)][_0x8d6463(0xb0)]='0.85em',_0xf96573['style']['display']='inline',_0xf96573['style']['visibility']='visible',_0xf96573['style']['opacity']='1');}}});})['catch'](_0x707705=>console['error'](_0x49b3f5(0xa1),_0x707705));}async function fetchBatchMatchStatsD3(_0x304aed){const _0x10649b=a33_0x11d98b,_0x1712dd=new Map();try{const _0x1c2581=collection(db,'approvedMatchesD3'),_0x2f653e=await getDocs(_0x1c2581);_0x2f653e['forEach'](_0x449da3=>{const _0x522cca=a33_0x1f0b,_0x346713=_0x449da3['data']();if(_0x304aed[_0x522cca(0xa0)](_0x346713['winnerUsername'])){const _0x35d0b4=_0x346713['winnerUsername'];!_0x1712dd['has'](_0x35d0b4)&&_0x1712dd['set'](_0x35d0b4,{'totalMatches':0x0,'wins':0x0,'losses':0x0,'totalKills':0x0,'totalDeaths':0x0,'kda':0x0,'winRate':0x0});const _0x41cab7=_0x1712dd[_0x522cca(0xcd)](_0x35d0b4);_0x41cab7['wins']++,_0x41cab7[_0x522cca(0xaf)]++,_0x41cab7['totalKills']+=parseInt(_0x346713['winnerScore'])||0x0,_0x41cab7['totalDeaths']+=parseInt(_0x346713['loserScore'])||0x0;}if(_0x304aed['includes'](_0x346713[_0x522cca(0xc4)])){const _0x4ed3fd=_0x346713['loserUsername'];!_0x1712dd['has'](_0x4ed3fd)&&_0x1712dd['set'](_0x4ed3fd,{'totalMatches':0x0,'wins':0x0,'losses':0x0,'totalKills':0x0,'totalDeaths':0x0,'kda':0x0,'winRate':0x0});const _0x26d375=_0x1712dd[_0x522cca(0xcd)](_0x4ed3fd);_0x26d375['losses']++,_0x26d375['totalMatches']++,_0x26d375['totalKills']+=parseInt(_0x346713['loserScore'])||0x0,_0x26d375['totalDeaths']+=parseInt(_0x346713['winnerScore'])||0x0;}}),_0x1712dd[_0x10649b(0xa7)](_0x153e52=>{const _0x3e68fe=_0x10649b;_0x153e52['kda']=_0x153e52['totalDeaths']>0x0?(_0x153e52[_0x3e68fe(0xb2)]/_0x153e52[_0x3e68fe(0xc7)])[_0x3e68fe(0xb3)](0x2):_0x153e52['totalKills'],_0x153e52['winRate']=_0x153e52[_0x3e68fe(0xaf)]>0x0?(_0x153e52['wins']/_0x153e52['totalMatches']*0x64)['toFixed'](0x1):0x0;});}catch(_0x3927c3){console['error'](_0x10649b(0xba),_0x3927c3);}return _0x1712dd;}function createPlayerRowD3(_0x3b0ab2,_0x12fc25){const _0xe74c3a=a33_0x11d98b,_0x466163=parseFloat(_0x3b0ab2['elo'])||0x0;let _0x4680e5='gray';if(_0x466163>=0x7d0)_0x4680e5='#50C878';else{if(_0x466163>=0x708)_0x4680e5='#FFD700';else{if(_0x466163>=0x640)_0x4680e5='#C0C0C0';else _0x466163>=0x578&&(_0x4680e5='#CD7F32');}}let _0x5ab55b='';return _0x3b0ab2['country']&&(_0x5ab55b='<img\x20src=\x22../images/flags/'+_0x3b0ab2['country']['toLowerCase']()+_0xe74c3a(0xb9)+_0x3b0ab2[_0xe74c3a(0xc3)]+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22player-flag\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>'),'\x0a\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x3b0ab2['position']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22profile.html?username='+encodeURIComponent(_0x3b0ab2['username'])+'&ladder=d3\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22color:\x20'+_0x4680e5+';\x20text-decoration:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3b0ab2['username']+_0xe74c3a(0xb6)+_0x5ab55b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22color:\x20'+_0x4680e5+';\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22elo-container\x22\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22elo-value\x22>'+_0x466163+_0xe74c3a(0xa5)+_0x12fc25['totalMatches']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x12fc25['wins']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x12fc25['losses']+_0xe74c3a(0xc0)+_0x12fc25['kda']+_0xe74c3a(0xc0)+_0x12fc25['winRate']+_0xe74c3a(0x93);}async function getPlayersLastEloChangesD3(_0x10f2de){const _0x416411=a33_0x11d98b,_0x36812b=new Map();_0x10f2de['forEach'](_0x1e110b=>_0x36812b['set'](_0x1e110b,0x0));try{console[_0x416411(0xc6)]('D3:\x20Looking\x20for\x20ELO\x20changes\x20for\x20users:',_0x10f2de);const _0x1434a9=new Map(),_0x2dde30=await getDocs(collection(db,'playersD3'));_0x2dde30['forEach'](_0x42e2b1=>{const _0x2cf50e=_0x416411,_0x3fc6c0=_0x42e2b1['data']();_0x3fc6c0['username']&&_0x1434a9['set'](_0x42e2b1['id'],_0x3fc6c0[_0x2cf50e(0x96)]);}),console[_0x416411(0xc6)]('D3:\x20Player\x20ID\x20mappings:',Array['from'](_0x1434a9['entries']()));const _0x43de2f=collection(db,'eloHistoryD3'),_0x572cf4=query(_0x43de2f,orderBy('timestamp','desc'),limit(0x64)),_0x55d6f5=await getDocs(_0x572cf4);_0x55d6f5[_0x416411(0x9c)]?console['log']('D3:\x20eloHistoryD3\x20is\x20empty,\x20trying\x20fallback...'):console[_0x416411(0xc6)]('D3:\x20Found\x20'+_0x55d6f5[_0x416411(0xb7)]+'\x20entries\x20in\x20eloHistoryD3');const _0x91bd=new Map();_0x55d6f5['forEach'](_0x3ea90c=>{const _0x50585d=_0x416411,_0x55fe8a=_0x3ea90c['data']();let _0x1d74e3=null;if(_0x55fe8a[_0x50585d(0x96)])_0x1d74e3=_0x55fe8a['username'];else{if(_0x55fe8a[_0x50585d(0x9b)])_0x1d74e3=_0x55fe8a[_0x50585d(0x9b)];else{if(_0x55fe8a['player']&&typeof _0x55fe8a[_0x50585d(0xca)]==='string')_0x1d74e3=_0x55fe8a[_0x50585d(0xca)];else{if(_0x55fe8a['player']&&_0x1434a9['has'](_0x55fe8a['player']))_0x1d74e3=_0x1434a9['get'](_0x55fe8a['player']);else _0x55fe8a['playerId']&&_0x1434a9['has'](_0x55fe8a['playerId'])&&(_0x1d74e3=_0x1434a9['get'](_0x55fe8a['playerId']));}}}(_0x55fe8a['username']===_0x50585d(0x98)||_0x55fe8a[_0x50585d(0x9b)]==='pilot'||_0x55fe8a['player']&&_0x1434a9['get'](_0x55fe8a['player'])===_0x50585d(0x98))&&console['log'](_0x50585d(0xbe),_0x55fe8a),_0x1d74e3&&_0x10f2de['includes'](_0x1d74e3)&&(!_0x91bd['has'](_0x1d74e3)&&_0x91bd['set'](_0x1d74e3,[]),_0x91bd['get'](_0x1d74e3)[_0x50585d(0xbc)]({..._0x55fe8a,'timestamp':_0x55fe8a[_0x50585d(0x9e)]?.[_0x50585d(0xa6)]||0x0}));}),console['log']('D3:\x20Found\x20entries\x20for\x20'+_0x91bd['size']+'\x20players'),_0x91bd['forEach']((_0x5d03e9,_0x4ffaa3)=>{const _0x1b51c3=_0x416411;if(_0x5d03e9['length']>0x0){_0x5d03e9['sort']((_0x590e8a,_0x72286d)=>_0x72286d['timestamp']-_0x590e8a['timestamp']);const _0x243916=_0x5d03e9['find'](_0x4bf779=>_0x4bf779['change']!==undefined||_0x4bf779[_0x1b51c3(0xab)]!==undefined&&_0x4bf779['previousElo']!==undefined);if(_0x243916){let _0x4d170a;if(_0x243916['change']!==undefined)_0x4d170a=_0x243916['change'];else _0x243916['newElo']!==undefined&&_0x243916['previousElo']!==undefined&&(_0x4d170a=_0x243916['newElo']-_0x243916['previousElo']);_0x4d170a!==undefined&&(_0x36812b[_0x1b51c3(0xa4)](_0x4ffaa3,_0x4d170a),console['log']('D3:\x20'+_0x4ffaa3+'\x20ELO\x20change:\x20'+_0x4d170a));}}});if(_0x91bd['size']===0x0){console['log'](_0x416411(0xae));const _0x4183f5=collection(db,_0x416411(0xc1)),_0xb14820=query(_0x4183f5,where('gameMode','==','D3'),orderBy('timestamp',_0x416411(0xa8)),limit(0x32));try{const _0xc2e816=await getDocs(_0xb14820);console['log']('D3:\x20Found\x20'+_0xc2e816[_0x416411(0xb7)]+'\x20fallback\x20entries'),_0xc2e816['forEach'](_0x13b40b=>{const _0x5655ab=_0x416411,_0x4e6a55=_0x13b40b['data']();let _0x398f1a=_0x4e6a55[_0x5655ab(0x96)]||_0x4e6a55['playerUsername'];!_0x398f1a&&_0x4e6a55['player']&&_0x1434a9['has'](_0x4e6a55[_0x5655ab(0xca)])&&(_0x398f1a=_0x1434a9['get'](_0x4e6a55[_0x5655ab(0xca)]));if(_0x398f1a&&_0x10f2de['includes'](_0x398f1a)){const _0x4ef9b1=_0x4e6a55['change']||(_0x4e6a55[_0x5655ab(0xab)]!==undefined&&_0x4e6a55[_0x5655ab(0x95)]!==undefined?_0x4e6a55[_0x5655ab(0xab)]-_0x4e6a55[_0x5655ab(0x95)]:0x0);_0x4ef9b1!==0x0&&(_0x36812b['set'](_0x398f1a,_0x4ef9b1),console['log']('D3:\x20'+_0x398f1a+'\x20fallback\x20ELO\x20change:\x20'+_0x4ef9b1));}});}catch(_0x100c7b){console[_0x416411(0xc6)](_0x416411(0xb8),_0x100c7b);}}const _0x2f4a6d=Array[_0x416411(0xb1)](_0x36812b['entries']())['filter'](([_0x256733,_0x622dc7])=>_0x622dc7!==0x0);console['log']('D3:\x20Final\x20ELO\x20changes:',_0x2f4a6d);}catch(_0x14a4c1){console['error'](_0x416411(0x94),_0x14a4c1);}return _0x36812b;}export{displayLadderD3,updatePlayerPositions};