const a24_0x523bf9=a24_0xaf23,a24_0x2fc82d=(function(){let _0x4425b7=!![];return function(_0x328a8c,_0x5f3ef9){const _0x3f92be=_0x4425b7?function(){const _0x40b8cd=a24_0xaf23;if(_0x5f3ef9){const _0x1887d8=_0x5f3ef9[_0x40b8cd(0x1e8)](_0x328a8c,arguments);return _0x5f3ef9=null,_0x1887d8;}}:function(){};return _0x4425b7=![],_0x3f92be;};}()),a24_0x4e2ffe=a24_0x2fc82d(this,function(){const _0x47c714=a24_0xaf23;let _0x5999ce;try{const _0x2ab8b9=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x5999ce=_0x2ab8b9();}catch(_0x237c60){_0x5999ce=window;}const _0x32fe46=_0x5999ce['console']=_0x5999ce['console']||{},_0x3d302e=['log','warn','info',_0x47c714(0x1af),'exception','table','trace'];for(let _0x11cca8=0x0;_0x11cca8<_0x3d302e[_0x47c714(0x1b9)];_0x11cca8++){const _0x5c1bd8=a24_0x2fc82d[_0x47c714(0x1e7)]['prototype'][_0x47c714(0x1a5)](a24_0x2fc82d),_0x287cbf=_0x3d302e[_0x11cca8],_0xe95cf2=_0x32fe46[_0x287cbf]||_0x5c1bd8;_0x5c1bd8[_0x47c714(0x1c9)]=a24_0x2fc82d['bind'](a24_0x2fc82d),_0x5c1bd8['toString']=_0xe95cf2['toString']['bind'](_0xe95cf2),_0x32fe46[_0x287cbf]=_0x5c1bd8;}});a24_0x4e2ffe();import{auth,db}from'./firebase-config.js';import{collection,query,where,orderBy,getDocs,doc,updateDoc,onSnapshot,limit,startAfter}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';function a24_0xaf23(_0x25809f,_0x17a90c){const _0x4e2ffe=a24_0x168e();return a24_0xaf23=function(_0x2fc82d,_0x26ece4){_0x2fc82d=_0x2fc82d-0x1a2;let _0x168e5a=_0x4e2ffe[_0x2fc82d];return _0x168e5a;},a24_0xaf23(_0x25809f,_0x17a90c);}class InboxManager{constructor(){const _0x36ba5c=a24_0xaf23;this['currentFilter']=_0x36ba5c(0x1db),this['invitations']=[],this['sentInvitations']=[],this['unsubscribe']=null,this['sentUnsubscribe']=null,this[_0x36ba5c(0x1bb)]=0x14,this[_0x36ba5c(0x1d5)]=null,this['hasMore']=!![],this[_0x36ba5c(0x1e3)]();}async['init'](){const _0x24c8dc=a24_0xaf23;auth[_0x24c8dc(0x1a3)](_0x3a22bd=>{const _0x504009=_0x24c8dc;_0x3a22bd?(this['loadInvitations'](_0x3a22bd[_0x504009(0x1b3)]),this['setupEventListeners']()):window[_0x504009(0x1df)]['href']='./login.html';});}['setupEventListeners'](){document['querySelectorAll']('.filter-btn')['forEach'](_0x3dcc93=>{const _0x5a96a2=a24_0xaf23;_0x3dcc93[_0x5a96a2(0x1ba)](_0x5a96a2(0x1c4),()=>{const _0x1ac477=_0x5a96a2;document['querySelectorAll'](_0x1ac477(0x1ae))['forEach'](_0x42020d=>_0x42020d['classList']['remove']('active')),_0x3dcc93['classList'][_0x1ac477(0x1a7)](_0x1ac477(0x1d7)),this[_0x1ac477(0x1e0)]=_0x3dcc93['dataset']['filter'],this['renderInvitations']();});});}['loadInvitations'](_0x321003){const _0x38afa8=a24_0xaf23,_0x2dda20=collection(db,'gameInvitations');let _0xdea1f3=query(_0x2dda20,where('toUserId','==',_0x321003),orderBy('createdAt','desc'),limit(this[_0x38afa8(0x1bb)]));this[_0x38afa8(0x1da)]=onSnapshot(_0xdea1f3,_0x3b698e=>{const _0x3b3493=_0x38afa8;this['invitations']=_0x3b698e['docs']['map'](_0x3b6e8d=>({'id':_0x3b6e8d['id'],..._0x3b6e8d['data']()})),this['renderInvitations'](),this[_0x3b3493(0x1d3)]();});let _0x1a887e=query(_0x2dda20,where('fromUserId','==',_0x321003),orderBy('createdAt','desc'),limit(this['pageSize']));this['sentUnsubscribe']=onSnapshot(_0x1a887e,_0x535dd8=>{const _0x46c697=_0x38afa8;this[_0x46c697(0x1b5)]=_0x535dd8['docs']['map'](_0x358e80=>({'id':_0x358e80['id'],..._0x358e80[_0x46c697(0x1e2)](),'isSent':!![]})),this['renderInvitations']();});}['renderInvitations'](){const _0x47ab0a=a24_0xaf23,_0x4cf4cd=document[_0x47ab0a(0x1c0)]('inbox-content');if(!_0x4cf4cd)return;let _0x1009bf=[];if(this[_0x47ab0a(0x1e0)]==='outbox')_0x1009bf=this[_0x47ab0a(0x1b5)];else this['currentFilter']==='all'?_0x1009bf=[...this[_0x47ab0a(0x1cb)],...this['sentInvitations']]['sort']((_0x4ea02f,_0xc67da2)=>{const _0x40db17=_0x47ab0a,_0x3ce010=_0x4ea02f[_0x40db17(0x1cd)]?.[_0x40db17(0x1a8)]?_0x4ea02f['createdAt'][_0x40db17(0x1a8)]():new Date(_0x4ea02f[_0x40db17(0x1cd)]),_0x463c72=_0xc67da2['createdAt']?.['toDate']?_0xc67da2[_0x40db17(0x1cd)][_0x40db17(0x1a8)]():new Date(_0xc67da2[_0x40db17(0x1cd)]);return _0x463c72-_0x3ce010;}):_0x1009bf=this['invitations']['filter'](_0x584a70=>_0x584a70['status']===this['currentFilter']);if(_0x1009bf['length']===0x0){const _0x574fdb=this['currentFilter']==='outbox'?_0x47ab0a(0x1a2):this['currentFilter']==='all'?'':this['currentFilter'];_0x4cf4cd[_0x47ab0a(0x1ac)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22empty-inbox\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-inbox\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>No\x20'+_0x574fdb+'\x20invitations</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(this['currentFilter']==='outbox'?'Invitations\x20you\x20send\x20to\x20other\x20players\x20will\x20appear\x20here.':'When\x20other\x20players\x20invite\x20you\x20to\x20games,\x20they\x27ll\x20appear\x20here.')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';return;}_0x4cf4cd['innerHTML']=_0x1009bf[_0x47ab0a(0x1c1)](_0x3c1da0=>this['createInvitationCard'](_0x3c1da0))[_0x47ab0a(0x1d1)](''),this['setupActionListeners']();}[a24_0x523bf9(0x1ce)](_0x243640){const _0x4acdf2=a24_0x523bf9,_0x1c5c22=_0x243640[_0x4acdf2(0x1cd)]?.[_0x4acdf2(0x1a8)]?_0x243640['createdAt']['toDate']():new Date(_0x243640['createdAt']),_0x158e8a=this['getTimeAgo'](_0x1c5c22),_0x170981=_0x243640[_0x4acdf2(0x1a6)]||![];let _0x4d8103='';return _0x243640['type']==='team_invite'?_0x4d8103=_0x4acdf2(0x1be)+_0x243640['message']+_0x4acdf2(0x1de)+_0x243640[_0x4acdf2(0x1c8)]['teamColor']+';\x20margin:\x200\x200\x200.5rem\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x243640[_0x4acdf2(0x1c8)]['proposedTeamName']+_0x4acdf2(0x1aa)+_0x243640['teamData']['teamColor']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x4d8103='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+_0x243640['message']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x4acdf2(0x1c3)+_0x243640['status']+'\x20'+(_0x170981?'sent-invitation':'')+'\x22\x20data-invitation-id=\x22'+_0x243640['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-from\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x170981?'To:\x20'+_0x243640[_0x4acdf2(0x1e9)]:_0x243640[_0x4acdf2(0x1b7)])+_0x4acdf2(0x1d2)+(_0x170981?'<span\x20class=\x22sent-indicator\x22><i\x20class=\x22fas\x20fa-paper-plane\x22></i>\x20Sent</span>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-time\x22>'+_0x158e8a+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22status-badge\x20status-'+_0x243640['status']+'\x22>'+_0x243640[_0x4acdf2(0x1dd)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4d8103+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x170981&&_0x243640['status']==='pending'?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20accept-btn\x22\x20data-action=\x22accept\x22\x20data-invitation-id=\x22'+_0x243640['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20Accept\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20decline-btn\x22\x20data-action=\x22decline\x22\x20data-invitation-id=\x22'+_0x243640['id']+_0x4acdf2(0x1d6)+(_0x243640['type']!=='team_invite'?_0x4acdf2(0x1e1)+_0x243640['id']+_0x4acdf2(0x1b2):'')+_0x4acdf2(0x1b0):'')+_0x4acdf2(0x1b8)+(_0x170981&&_0x243640[_0x4acdf2(0x1dd)]==='pending'?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20cancel-btn\x22\x20data-action=\x22cancel\x22\x20data-invitation-id=\x22'+_0x243640['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20Cancel\x20Invitation\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+_0x4acdf2(0x1c2);}[a24_0x523bf9(0x1cf)](){const _0x404da4=a24_0x523bf9;document[_0x404da4(0x1b1)]('.action-btn')['forEach'](_0x43e935=>{const _0xbe7c00=_0x404da4;_0x43e935['addEventListener'](_0xbe7c00(0x1c4),async _0x5b304b=>{const _0x3c4364=_0xbe7c00,_0x2d3edd=_0x43e935['dataset'][_0x3c4364(0x1cc)],_0xc508d6=_0x43e935['dataset']['invitationId'];_0x43e935['disabled']=!![];const _0x5a1e7e=_0x43e935['innerHTML'];_0x43e935['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>';try{switch(_0x2d3edd){case'accept':await this['updateInvitationStatus'](_0xc508d6,'accepted');break;case'decline':await this['updateInvitationStatus'](_0xc508d6,'declined');break;case'cancel':await this['updateInvitationStatus'](_0xc508d6,'cancelled');break;case'respond':this['openResponseModal'](_0xc508d6);break;}}catch(_0x18fb30){console[_0x3c4364(0x1af)]('Error\x20performing\x20'+_0x2d3edd+':',_0x18fb30),alert(_0x3c4364(0x1c5)+_0x2d3edd+'\x20invitation.\x20Please\x20try\x20again.');}finally{_0x43e935['disabled']=![],_0x43e935['innerHTML']=_0x5a1e7e;}});});}async[a24_0x523bf9(0x1d4)](_0xbe43f8,_0x30c9cb){const _0xf6558b=a24_0x523bf9;try{const _0x1f433d=this['invitations'][_0xf6558b(0x1ad)](_0x274523=>_0x274523['id']===_0xbe43f8);_0x1f433d&&_0x1f433d['type']==='team_invite'&&_0x30c9cb==='accepted'&&await this[_0xf6558b(0x1d9)](_0x1f433d);const _0x306d02=doc(db,'gameInvitations',_0xbe43f8);await updateDoc(_0x306d02,{'status':_0x30c9cb,'respondedAt':new Date()}),_0x1f433d&&(_0x1f433d['status']=_0x30c9cb,_0x1f433d['respondedAt']=new Date(),this['renderInvitations']());}catch(_0x5acaba){console['error']('Error\x20updating\x20invitation\x20status:',_0x5acaba);throw _0x5acaba;}}['openResponseModal'](_0x258de9){const _0x4ccca0=a24_0x523bf9,_0x479996=this['invitations']['find'](_0x1d7b0e=>_0x1d7b0e['id']===_0x258de9);if(!_0x479996)return;const _0x448575=document[_0x4ccca0(0x1e5)](_0x4ccca0(0x1ca));_0x448575[_0x4ccca0(0x1ea)]='modal-overlay',_0x448575[_0x4ccca0(0x1ac)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Send\x20Message\x20to\x20'+_0x479996['fromUsername']+_0x4ccca0(0x1bd)+_0x479996['value']+'</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22response-message\x22\x20placeholder=\x22Type\x20your\x20message\x20here...\x22\x20rows=\x224\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20respond-btn\x22\x20id=\x22send-response\x22>Send\x20Message</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x22\x20id=\x22cancel-response\x22>Cancel</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';if(!document['getElementById'](_0x4ccca0(0x1b6))){const _0x3b6a39=document['createElement']('style');_0x3b6a39['id']='modal-styles',_0x3b6a39['textContent']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-overlay\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20right:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.8);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-content\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#2a2a2a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2090%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20500px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-height:\x2090vh;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20overflow-y:\x20auto;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-header\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20space-between;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-close\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x201.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-body\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-body\x20textarea\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#1a1a1a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resize:\x20vertical;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-footer\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-top:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x4ccca0(0x1eb)]['appendChild'](_0x3b6a39);}document[_0x4ccca0(0x1bc)][_0x4ccca0(0x1e4)](_0x448575),_0x448575['querySelector'](_0x4ccca0(0x1d0))['addEventListener']('click',()=>_0x448575['remove']()),_0x448575['querySelector'](_0x4ccca0(0x1bf))['addEventListener'](_0x4ccca0(0x1c4),()=>_0x448575['remove']()),_0x448575[_0x4ccca0(0x1ba)]('click',_0x256c00=>{const _0x4ced03=_0x4ccca0;if(_0x256c00[_0x4ced03(0x1a9)]===_0x448575)_0x448575[_0x4ced03(0x1e6)]();}),_0x448575['querySelector']('#send-response')[_0x4ccca0(0x1ba)]('click',()=>{const _0x570257=_0x4ccca0,_0x4270ec=document[_0x570257(0x1c0)]('response-message')[_0x570257(0x1dc)]['trim']();_0x4270ec&&(alert('Message\x20sent!\x20(Feature\x20will\x20be\x20fully\x20implemented\x20in\x20future\x20update)'),_0x448575['remove']());});}async['createTeamFromInvitation'](_0x21c685){const _0x5e38bd=a24_0x523bf9;try{const {createTeam:_0x147c4d}=await import('./ladderduos.js'),_0x1f4004=await _0x147c4d(_0x21c685['fromUsername'],_0x21c685['toUsername'],_0x21c685['teamData']['proposedTeamName'],_0x21c685['teamData']['teamColor']);if(!_0x1f4004['success'])throw new Error(_0x1f4004['error']);alert('Team\x20\x22'+_0x21c685[_0x5e38bd(0x1c8)]['proposedTeamName']+_0x5e38bd(0x1c6));}catch(_0x1b2768){console['error']('Error\x20creating\x20team:',_0x1b2768);throw new Error('Failed\x20to\x20create\x20team:\x20'+_0x1b2768['message']);}}['updateNotificationCount'](){const _0x1fe224=a24_0x523bf9,_0x560d07=this[_0x1fe224(0x1cb)][_0x1fe224(0x1b4)](_0x161790=>_0x161790['status']==='pending')['length'],_0x5072ea=document[_0x1fe224(0x1c0)]('inbox-notification');_0x5072ea&&(_0x560d07>0x0?(_0x5072ea['style']['display']='inline-block',_0x5072ea['textContent']=_0x560d07>0x9?'9+':_0x560d07):_0x5072ea['style']['display']='none');}['getTimeAgo'](_0x41c4ae){const _0xf81d83=a24_0x523bf9,_0x4baa82=new Date(),_0x5b7473=_0x4baa82-_0x41c4ae,_0x1a47d6=Math[_0xf81d83(0x1d8)](_0x5b7473/(0x3e8*0x3c)),_0x3d67c5=Math['floor'](_0x5b7473/(0x3e8*0x3c*0x3c)),_0x45bd13=Math['floor'](_0x5b7473/(0x3e8*0x3c*0x3c*0x18));if(_0x1a47d6<0x1)return'Just\x20now';if(_0x1a47d6<0x3c)return _0x1a47d6+'m\x20ago';if(_0x3d67c5<0x18)return _0x3d67c5+_0xf81d83(0x1a4);if(_0x45bd13<0x7)return _0x45bd13+'d\x20ago';return _0x41c4ae['toLocaleDateString']();}[a24_0x523bf9(0x1c7)](){const _0x3f3cf5=a24_0x523bf9;this['unsubscribe']&&this['unsubscribe'](),this[_0x3f3cf5(0x1ab)]&&this['sentUnsubscribe']();}}function a24_0x168e(){const _0xeb23cc=['sent','onAuthStateChanged','h\x20ago','bind','isSent','add','toDate','target','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22color:\x20#888;\x20font-size:\x200.9em;\x20margin:\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Duos\x20Ladder\x20Team\x20•\x20Color:\x20','sentUnsubscribe','innerHTML','find','.filter-btn','error','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','querySelectorAll','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-reply\x22></i>\x20Send\x20Message\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','uid','filter','sentInvitations','modal-styles','fromUsername','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','length','addEventListener','pageSize','body','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22modal-close\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-body\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Regarding\x20invitation\x20to:\x20<strong>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','#cancel-response','getElementById','map','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-card\x20','click','Failed\x20to\x20','\x22\x20created\x20successfully!','destroy','teamData','__proto__','div','invitations','action','createdAt','createInvitationCard','setupActionListeners','.modal-close','join','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','updateNotificationCount','updateInvitationStatus','lastDoc','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20Decline\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','active','floor','createTeamFromInvitation','unsubscribe','pending','value','status','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22team-invite-preview\x22\x20style=\x22background:\x20#1a1a1a;\x20padding:\x201rem;\x20border-radius:\x204px;\x20margin:\x200.5rem\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20style=\x22color:\x20','location','currentFilter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20respond-btn\x22\x20data-action=\x22respond\x22\x20data-invitation-id=\x22','data','init','appendChild','createElement','remove','constructor','apply','toUsername','className','head'];a24_0x168e=function(){return _0xeb23cc;};return a24_0x168e();}document['addEventListener']('DOMContentLoaded',()=>{new InboxManager();});