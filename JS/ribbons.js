const a50_0x5c0d37=a50_0x24d5,a50_0x172007=(function(){let _0x21e29c=!![];return function(_0x776ae5,_0x62139){const _0x59d83a=_0x21e29c?function(){if(_0x62139){const _0x28d813=_0x62139['apply'](_0x776ae5,arguments);return _0x62139=null,_0x28d813;}}:function(){};return _0x21e29c=![],_0x59d83a;};}()),a50_0x1e1769=a50_0x172007(this,function(){const _0x3903e2=a50_0x24d5,_0x18f97f=function(){let _0x4af57d;try{_0x4af57d=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x19c430){_0x4af57d=window;}return _0x4af57d;},_0x2a6f21=_0x18f97f(),_0x54fdda=_0x2a6f21['console']=_0x2a6f21['console']||{},_0x34f9d5=['log','warn',_0x3903e2(0x218),'error',_0x3903e2(0x205),_0x3903e2(0x224),'trace'];for(let _0x59d9f3=0x0;_0x59d9f3<_0x34f9d5['length'];_0x59d9f3++){const _0x44b415=a50_0x172007['constructor']['prototype'][_0x3903e2(0x212)](a50_0x172007),_0x476d69=_0x34f9d5[_0x59d9f3],_0x456cd8=_0x54fdda[_0x476d69]||_0x44b415;_0x44b415['__proto__']=a50_0x172007[_0x3903e2(0x212)](a50_0x172007),_0x44b415['toString']=_0x456cd8['toString'][_0x3903e2(0x212)](_0x456cd8),_0x54fdda[_0x476d69]=_0x44b415;}});a50_0x1e1769();import{auth,db}from'./firebase-config.js';import{doc,getDoc,setDoc,collection,query,where,getDocs,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const RIBBON_DEFINITIONS={'Rematch\x20Ribbon':{'description':'Beat\x20a\x20pilot\x20with\x20the\x20\x22Rematch\x22\x20subgame\x20selected','image':'../images/ribbons/Rematch.png','color':a50_0x5c0d37(0x22a)},'Overachiever\x20Ribbon':{'description':'Played\x20over\x20100\x20matches','image':'../images/ribbons/Overachiever.png','color':'#96CEB4','levels':[0x64,0xc8,0x12c,0x190,0x1f4,0x258,0x2bc,0x320,0x384,0x3e8]},'Brick\x20Wall':{'description':a50_0x5c0d37(0x19c),'image':'../images/ribbons/BrickWall.png','color':'#F0932B','levels':[0x50,0x55,0x5a,0x5f,0x64]},'Collector\x20Ribbon':{'description':'Hold\x20more\x20than\x205\x20ribbons\x20at\x20a\x20time','image':'../images/ribbons/Collector.png','color':a50_0x5c0d37(0x1fd),'levels':[0x5,0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32]},'Sub-Gamer\x20Ribbon':{'description':a50_0x5c0d37(0x20f),'image':a50_0x5c0d37(0x1d3),'color':'#A29BFE','levels':[0x32,0x64,0x96,0xc8,0xfa,0x12c,0x15e,0x190,0x1c2,0x1f4]},'Explorer\x20Ribbon':{'description':'Played\x20at\x20least\x2020\x20unique\x20maps','image':'../images/ribbons/Explorer.png','color':'#55A3FF','levels':[0x14,0x28,0x3c,0x50,0x64,0x78,0x8c,0xa0,0xb4,0xc8]},'Socialite\x20Ribbon':{'description':a50_0x5c0d37(0x1dd),'image':a50_0x5c0d37(0x209),'color':'#FF7675','levels':[0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32,0x37]},'Underdog\x20Ribbon':{'description':a50_0x5c0d37(0x22c),'image':'../images/ribbons/Underdog.png','color':'#FF9500','levels':[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0x9,0xa]},'Domination\x20Ribbon':{'description':a50_0x5c0d37(0x1ae),'image':'../images/ribbons/Domination.png','color':'#8E44AD','levels':[0x1,0x2,0x3,0x4,0x5]},'Top\x20Bronze\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Bronze\x20rank','image':a50_0x5c0d37(0x1b2),'color':'#CD7F32'},'Top\x20Silver\x20Pilot':{'description':a50_0x5c0d37(0x1ff),'image':a50_0x5c0d37(0x1b2),'color':'#C0C0C0'},'Top\x20Gold\x20Pilot':{'description':a50_0x5c0d37(0x1f2),'image':'../images/ribbons/toprank.png','color':'#FFD700'},'Top\x20Emerald\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Emerald\x20rank','image':a50_0x5c0d37(0x1b2),'color':'#50C878'}};export const RIBBON_CSS='\x0a/*\x20Stats\x20integration\x20styles\x20*/\x0a.ribbon-section\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-top:\x201rem;\x0a}\x0a\x0a.ribbon-stat-item.full-width\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-bottom:\x200;\x0a}\x0a\x0a/*\x20Military\x20Ribbon\x20Rack\x20Styling\x20-\x20NO\x20OUTER\x20CONTAINER\x20*/\x0a.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20padding:\x200;\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20box-shadow:\x20none;\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20align-items:\x20flex-start;\x0a}\x0a\x0a.ribbon-rack-empty-inline\x20{\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20padding:\x2060px\x2040px;\x0a\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20border-radius:\x2012px;\x0a\x20\x20\x20\x20border:\x202px\x20solid\x20rgba(255,\x20255,\x20255,\x200.1);\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a}\x0a\x0a.empty-rack-text\x20{\x0a\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20font-style:\x20italic;\x0a\x20\x20\x20\x20font-size:\x201.2rem;\x0a}\x0a\x0a/*\x20Ribbon\x20Rows\x20*/\x0a.ribbon-row\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x206px;\x0a\x20\x20\x20\x20margin-bottom:\x206px;\x0a\x20\x20\x20\x20justify-content:\x20flex-start;\x0a}\x0a\x0a.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20margin-left:\x2060px;\x0a}\x0a\x0a/*\x20Individual\x20Military\x20Ribbon\x20Styling\x20-\x20FIXED\x20OVERFLOW\x20FOR\x20LEVEL\x20INDICATOR\x20*/\x0a.military-ribbon\x20{\x0a\x20\x20\x20\x20position:\x20relative;\x0a\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20transition:\x20transform\x200.3s\x20ease;\x0a\x20\x20\x20\x20flex-shrink:\x200;\x0a\x20\x20\x20\x20width:\x20190px;\x0a\x20\x20\x20\x20height:\x2060px;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#333;\x0a\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20overflow:\x20visible;\x20/*\x20Changed\x20from\x20hidden\x20to\x20visible\x20*/\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20margin:\x2012px\x2012px\x2012px\x200;\x20/*\x20Added\x20margin\x20to\x20prevent\x20clipping\x20*/\x0a}\x0a\x0a.military-ribbon:hover\x20{\x0a\x20\x20\x20\x20transform:\x20translateY(-4px);\x0a\x20\x20\x20\x20z-index:\x2010;\x0a}\x0a\x0a/*\x20Ribbon\x20image\x20container\x20to\x20handle\x20the\x20actual\x20overflow\x20*/\x0a.ribbon-image-container\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20border-radius:\x201px;\x0a}\x0a\x0a.ribbon-image\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20object-fit:\x20cover;\x0a\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20image-rendering:\x20crisp-edges;\x0a}\x0a\x0a.ribbon-fallback\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20text-shadow:\x200\x202px\x204px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a}\x0a\x0a.ribbon-name\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.9);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201.2;\x0a\x20\x20\x20\x20margin-top:\x206px;\x0a\x20\x20\x20\x20max-width:\x20120px;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20text-overflow:\x20ellipsis;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20-24px;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20font-weight:\x20500;\x0a}\x0a\x0a.military-ribbon:hover\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20display:\x20block;\x0a}\x0a\x0a.ribbon-devices\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x2050%;\x0a\x20\x20\x20\x20right:\x206px;\x0a\x20\x20\x20\x20transform:\x20translateY(-50%);\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x203px;\x0a\x20\x20\x20\x20z-index:\x205;\x0a}\x0a\x0a.ribbon-device\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20text-shadow:\x200\x200\x204px\x20rgba(0,0,0,0.9);\x0a\x20\x20\x20\x20filter:\x20drop-shadow(0\x202px\x204px\x20rgba(0,0,0,0.8));\x0a}\x0a\x0a.bronze-star\x20{\x0a\x20\x20\x20\x20color:\x20#CD7F32;\x0a}\x0a\x0a.silver-star\x20{\x0a\x20\x20\x20\x20color:\x20#C0C0C0;\x0a}\x0a\x0a.gold-star\x20{\x0a\x20\x20\x20\x20color:\x20#FFD700;\x0a}\x0a\x0a/*\x20Level\x20indicator\x20-\x20NOW\x20FULLY\x20VISIBLE\x20*/\x0a.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x20-8px;\x0a\x20\x20\x20\x20right:\x20-8px;\x0a\x20\x20\x20\x20background:\x20#FFD700;\x0a\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20width:\x2024px;\x0a\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#FFF;\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x208px\x20rgba(0,0,0,0.7);\x0a\x20\x20\x20\x20z-index:\x206;\x0a}\x0a\x0a/*\x20Custom\x20tooltip\x20-\x20only\x20this\x20one\x20will\x20show\x20*/\x0a.military-ribbon::before\x20{\x0a\x20\x20\x20\x20content:\x20attr(data-tooltip);\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20100%;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20background:\x20rgba(0,0,0,0.95);\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20padding:\x208px\x2012px;\x0a\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20pointer-events:\x20none;\x0a\x20\x20\x20\x20transition:\x20opacity\x200.3s;\x0a\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20margin-bottom:\x208px;\x0a\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(255,\x20255,\x20255,\x200.2);\x0a}\x0a\x0a.military-ribbon:hover::before\x20{\x0a\x20\x20\x20\x20opacity:\x201;\x0a}\x0a\x0a/*\x20Responsive\x20adjustments\x20*/\x0a@media\x20(max-width:\x201024px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2034px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x208px\x208px\x208px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-6px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-6px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2052px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-20px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20768px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2028px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x206px\x206px\x206px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x209px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-5px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-5px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2042px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2011px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-18px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x205px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20480px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2070px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x205px\x205px\x205px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2036px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x204px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-4px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-4px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a.stats-grid\x20.ribbon-section\x20{\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20padding:\x200;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20{\x0a\x20\x20\x20\x20background-color:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20padding:\x2025px;\x0a\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20.stat-label\x20{\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20text-transform:\x20uppercase;\x0a\x20\x20\x20\x20opacity:\x200.9;\x0a\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.95);\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a}\x0a\x0a.ribbon-level-indicator.level-1\x20{\x20background:\x20#808080;\x20}\x0a.ribbon-level-indicator.level-2\x20{\x20background:\x20#CD7F32;\x20}\x0a.ribbon-level-indicator.level-3\x20{\x20background:\x20#b9f1fc;\x20}\x0a.ribbon-level-indicator.level-4\x20{\x20background:\x20#FFD700;\x20}\x0a.ribbon-level-indicator.level-5-plus\x20{\x20background:\x20#50C878;\x20}\x0a';class RibbonCacheManager{constructor(){const _0xfaa708=a50_0x5c0d37;this[_0xfaa708(0x1b9)]=new Map(),this['CACHE_DURATION']=0x3c*0x3c*0x3e8,this['CACHE_KEY_PREFIX']='ribbon_cache_',this['lastCleanup']=Date[_0xfaa708(0x1eb)](),this['CLEANUP_INTERVAL']=0x1e*0x3c*0x3e8;}['getCacheKey'](_0x4834ce,_0xe2c6cf){const _0x59dea6=a50_0x5c0d37;return''+this[_0x59dea6(0x1b1)]+_0x4834ce+'_'+_0xe2c6cf;}['getCachedData'](_0x1ba2df,_0x2acfda){const _0x38a766=a50_0x5c0d37;this[_0x38a766(0x1a0)]();const _0x27f5c2=this['getCacheKey'](_0x1ba2df,_0x2acfda);if(this['memoryCache']['has'](_0x27f5c2)){const _0x2bf204=this['memoryCache']['get'](_0x27f5c2);if(Date['now']()-_0x2bf204[_0x38a766(0x1a1)]<this['CACHE_DURATION'])return console['log']('ðŸš€\x20Cache\x20hit\x20(memory)\x20for\x20'+_0x1ba2df),_0x2bf204['data'];this['memoryCache']['delete'](_0x27f5c2);}const _0x2fdc2a=localStorage['getItem'](_0x27f5c2);if(_0x2fdc2a)try{const _0x5846b6=JSON[_0x38a766(0x208)](_0x2fdc2a);if(Date['now']()-_0x5846b6['timestamp']<this['CACHE_DURATION'])return this[_0x38a766(0x1b9)]['set'](_0x27f5c2,{'data':_0x5846b6['ribbons'],'timestamp':_0x5846b6['timestamp'],'matchCount':_0x5846b6['matchCount']}),console['log']('ðŸ’¾\x20Cache\x20hit\x20(localStorage)\x20for\x20'+_0x1ba2df),_0x5846b6['ribbons'];localStorage['removeItem'](_0x27f5c2);}catch(_0x1e0ca4){localStorage['removeItem'](_0x27f5c2);}return null;}['setCachedData'](_0x16ce1f,_0x59e5b6,_0x2b5612,_0x51ec56){const _0x55d070=a50_0x5c0d37,_0x3abd49=this[_0x55d070(0x210)](_0x16ce1f,_0x59e5b6),_0x2ebcb9=Date['now']();this[_0x55d070(0x1b9)][_0x55d070(0x200)](_0x3abd49,{'data':_0x2b5612,'timestamp':_0x2ebcb9,'matchCount':_0x51ec56});try{const _0x547577={'ribbons':_0x2b5612,'matchCount':_0x51ec56,'timestamp':_0x2ebcb9,'version':0x3};localStorage['setItem'](_0x3abd49,JSON[_0x55d070(0x21f)](_0x547577));}catch(_0x3077a5){this['clearOldCache']();try{localStorage['setItem'](_0x3abd49,JSON['stringify'](data));}catch(_0x159f56){}}}[a50_0x5c0d37(0x1de)](_0x463c3a,_0x2fdb42,_0x2f4007){const _0x41ccf1=a50_0x5c0d37,_0x1fd288=this['getCacheKey'](_0x463c3a,_0x2fdb42);if(this[_0x41ccf1(0x1b9)]['has'](_0x1fd288)){const _0xefb91f=this['memoryCache'][_0x41ccf1(0x223)](_0x1fd288);return _0xefb91f[_0x41ccf1(0x1c4)]!==_0x2f4007;}const _0x506e85=localStorage[_0x41ccf1(0x214)](_0x1fd288);if(_0x506e85)try{const _0x130109=JSON[_0x41ccf1(0x208)](_0x506e85);return _0x130109['matchCount']!==_0x2f4007;}catch(_0x16cf56){return!![];}return!![];}[a50_0x5c0d37(0x1ed)](_0x21508b,_0x204670){const _0x5c77c2=a50_0x5c0d37,_0x37d675=this['getCacheKey'](_0x21508b,_0x204670);this['memoryCache']['delete'](_0x37d675),localStorage['removeItem'](_0x37d675),console[_0x5c77c2(0x1b3)]('ðŸ—‘ï¸\x20Invalidated\x20cache\x20for\x20'+_0x21508b+'\x20('+_0x204670+')\x20-\x20new\x20match\x20detected');}[a50_0x5c0d37(0x1a0)](){const _0x3dc7b2=a50_0x5c0d37,_0x39b616=Date['now']();_0x39b616-this['lastCleanup']>this['CLEANUP_INTERVAL']&&(this[_0x3dc7b2(0x219)](),this['lastCleanup']=_0x39b616);}['cleanup'](){const _0x1076e5=a50_0x5c0d37,_0x5aa6b8=Date['now']();let _0x4fc763=0x0,_0x4a9c6d=0x0;for(const [_0x130f6e,_0xe00e48]of this['memoryCache'][_0x1076e5(0x1ef)]()){_0x5aa6b8-_0xe00e48[_0x1076e5(0x1a1)]>this['CACHE_DURATION']&&(this[_0x1076e5(0x1b9)]['delete'](_0x130f6e),_0x4fc763++);}for(let _0x995f78=localStorage[_0x1076e5(0x204)]-0x1;_0x995f78>=0x0;_0x995f78--){const _0x58ce5e=localStorage['key'](_0x995f78);if(_0x58ce5e&&_0x58ce5e[_0x1076e5(0x20c)](this[_0x1076e5(0x1b1)]))try{const _0x5123da=JSON[_0x1076e5(0x208)](localStorage['getItem'](_0x58ce5e));_0x5aa6b8-_0x5123da['timestamp']>this[_0x1076e5(0x1dc)]&&(localStorage[_0x1076e5(0x1f5)](_0x58ce5e),_0x4a9c6d++);}catch(_0x80353a){localStorage['removeItem'](_0x58ce5e),_0x4a9c6d++;}}}[a50_0x5c0d37(0x1d1)](){const _0x3af670=a50_0x5c0d37,_0x515bac=[];for(let _0x22cf93=0x0;_0x22cf93<localStorage['length'];_0x22cf93++){const _0x2273c0=localStorage['key'](_0x22cf93);if(_0x2273c0&&_0x2273c0[_0x3af670(0x20c)](this['CACHE_KEY_PREFIX']))try{const _0x1645e0=JSON['parse'](localStorage[_0x3af670(0x214)](_0x2273c0));_0x515bac['push']({'key':_0x2273c0,'timestamp':_0x1645e0['timestamp']});}catch(_0x21f77e){localStorage['removeItem'](_0x2273c0);}}_0x515bac['sort']((_0x405429,_0x27fbdc)=>_0x405429['timestamp']-_0x27fbdc['timestamp']);const _0x8786df=Math['floor'](_0x515bac['length']/0x2);for(let _0x44ebd6=0x0;_0x44ebd6<_0x8786df;_0x44ebd6++){localStorage[_0x3af670(0x1f5)](_0x515bac[_0x44ebd6]['key']);}}['getCacheStats'](){const _0x5e31f0=a50_0x5c0d37;return{'memoryEntries':this['memoryCache'][_0x5e31f0(0x1c6)],'lastCleanup':new Date(this[_0x5e31f0(0x1b6)])['toLocaleTimeString']()};}}class MatchCacheManager{constructor(){this['matchCache']=new Map(),this['CACHE_DURATION']=0xf*0x3c*0x3e8,this['lastCleanup']=Date['now']();}['getCachedMatches'](_0x1a1de4,_0x96880f){const _0xae81a=a50_0x5c0d37;this[_0xae81a(0x1a0)]();const _0x1cf532=_0x1a1de4+'_'+_0x96880f,_0x4cedb6=this[_0xae81a(0x1c5)]['get'](_0x1cf532);if(_0x4cedb6&&Date[_0xae81a(0x1eb)]()-_0x4cedb6['timestamp']<this[_0xae81a(0x1dc)])return console['log']('ðŸŽ¯\x20Cache\x20hit\x20(matches)\x20for\x20'+_0x1a1de4),_0x4cedb6[_0xae81a(0x215)];return _0x4cedb6&&this['matchCache'][_0xae81a(0x1e4)](_0x1cf532),null;}['setCachedMatches'](_0x548835,_0x12c432,_0x8f6d41){const _0x2f0981=_0x548835+'_'+_0x12c432;this['matchCache']['set'](_0x2f0981,{'matches':_0x8f6d41,'timestamp':Date['now']()});}['autoCleanup'](){const _0x57cc5=a50_0x5c0d37,_0x5325d6=Date['now']();if(_0x5325d6-this[_0x57cc5(0x1b6)]>0x5*0x3c*0x3e8){let _0x42807b=0x0;for(const [_0x1e31cf,_0x3fbe23]of this['matchCache'][_0x57cc5(0x1ef)]()){_0x5325d6-_0x3fbe23['timestamp']>this[_0x57cc5(0x1dc)]&&(this['matchCache']['delete'](_0x1e31cf),_0x42807b++);}this['lastCleanup']=_0x5325d6;}}['getCacheStats'](){const _0x28a3b4=a50_0x5c0d37;return{'entries':this['matchCache']['size'],'lastCleanup':new Date(this[_0x28a3b4(0x1b6)])['toLocaleTimeString']()};}}class RibbonSystem{constructor(){const _0x40bfb7=a50_0x5c0d37;this['pendingEvaluations']=new Map(),this['batchTimer']=null,this['BATCH_DELAY']=0x32,this[_0x40bfb7(0x1d8)]=new Map();}async['bulkLoadPlayerData'](_0xa10cc4,_0x28d0e3){const _0x378de8=a50_0x5c0d37,_0x37efd9=_0x28d0e3==='D1'?'players':_0x28d0e3==='D2'?_0x378de8(0x1e5):_0x378de8(0x1f9),_0x45799d=collection(db,_0x37efd9),_0x3381a8=await getDocs(_0x45799d),_0x37599c=new Map();return _0x3381a8['forEach'](_0x22a788=>{const _0x526938=_0x378de8,_0x2ebe7d=_0x22a788['data']();_0x2ebe7d[_0x526938(0x1c9)]&&(_0x2ebe7d['eloRating']!==undefined&&(_0x2ebe7d['rating']=_0x2ebe7d[_0x526938(0x19d)]),_0x37599c['set'](_0x2ebe7d['username'],_0x2ebe7d));}),console[_0x378de8(0x1b3)](_0x378de8(0x1f7)+_0x37599c['size']+_0x378de8(0x1ad)+_0x37efd9),_0x37599c;}async['evaluateAllRibbonsFromData'](_0x5cf9a4,_0x4b7a8a,_0xb9b50,_0x33070d){const _0x503936=a50_0x5c0d37,_0x4402a3={},_0x450e60=_0x4b7a8a['username'],_0x1c4ade={'totalMatches':_0x5cf9a4['length'],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0,'dominatedRanks':new Set()},_0x565d9e=new Set();_0x5cf9a4['forEach'](_0x21f38a=>{const _0x46bcab=a50_0x24d5,_0x5aef35=_0x21f38a[_0x46bcab(0x1aa)]===_0x450e60,_0x1440a2=_0x5aef35?_0x21f38a[_0x46bcab(0x1c7)]:_0x21f38a['winnerUsername'];if(_0x1440a2)_0x565d9e['add'](_0x1440a2);}),console['log']('ðŸš€\x20Bulk\x20loading\x20'+_0x565d9e[_0x503936(0x1c6)]+'\x20player\x20records\x20for\x20underdog\x20calculations...');const _0x4d8f4d=await this[_0x503936(0x1d2)]([..._0x565d9e,_0x450e60],_0x33070d),_0x436457=_0x4d8f4d[_0x503936(0x223)](_0x450e60);!_0x436457&&console[_0x503936(0x1b3)]('âš ï¸\x20No\x20current\x20player\x20data\x20found\x20for\x20'+_0x450e60);const _0x378a45={0x0:new Set(),0x1:new Set(),0x2:new Set(),0x3:new Set(),0x4:new Set()};_0x5cf9a4[_0x503936(0x201)](_0x2ff4df=>{const _0x11c520=_0x503936,_0x30271c=_0x2ff4df[_0x11c520(0x1aa)]===_0x450e60,_0x14e25c=_0x30271c?_0x2ff4df['loserUsername']:_0x2ff4df['winnerUsername'];if(_0x30271c){_0x1c4ade['wins']++;_0x2ff4df['subgameType']==='Rematch'&&_0x1c4ade[_0x11c520(0x1f3)]++;this[_0x11c520(0x20d)](_0x2ff4df,_0x450e60,_0x436457,_0x4d8f4d)&&_0x1c4ade['underdogWins']++;const _0x5e8e58=_0x4d8f4d[_0x11c520(0x223)](_0x14e25c);if(_0x5e8e58){const _0x2bdf8a=_0x5e8e58['eloRating']||0x0,_0x48db86=getPlayerRankTier(_0x2bdf8a);_0x378a45[_0x48db86][_0x11c520(0x202)](_0x14e25c);}}_0x2ff4df['subgameType']&&_0x2ff4df['subgameType']!=='Standard'&&_0x1c4ade['subgameMatches']++,_0x2ff4df['mapPlayed']&&_0x1c4ade['uniqueMaps']['add'](_0x2ff4df['mapPlayed']),_0x14e25c&&_0x1c4ade[_0x11c520(0x1bb)]['add'](_0x14e25c);}),Object[_0x503936(0x1ea)](_0x378a45)['forEach'](_0x4b9ff3=>{const _0x24904c=_0x503936;_0x378a45[_0x4b9ff3]['size']>=0x5&&_0x1c4ade['dominatedRanks'][_0x24904c(0x202)](parseInt(_0x4b9ff3));}),console['log'](_0x503936(0x1fe)+_0x1c4ade[_0x503936(0x1e7)]+'\x20underdog\x20victories\x20for\x20'+_0x450e60),console['log'](_0x503936(0x1a4)+_0x1c4ade['dominatedRanks']['size']+_0x503936(0x19a)+Array['from'](_0x1c4ade['dominatedRanks'])['map'](_0xde61fb=>getRankTierName(_0xde61fb))[_0x503936(0x1f0)](',\x20')+']');const _0x42b22d=_0x1c4ade['totalMatches']>0x0?_0x1c4ade[_0x503936(0x1ec)]/_0x1c4ade['totalMatches']*0x64:0x0,_0x426984=[['Overachiever\x20Ribbon',this['evaluateOverachieverRibbonFromCount'](_0x1c4ade['totalMatches'],_0xb9b50)],['Rematch\x20Ribbon',this['evaluateRematchRibbonFromCount'](_0x1c4ade['rematchWins'],_0xb9b50)],[_0x503936(0x1af),this[_0x503936(0x21a)](_0x1c4ade[_0x503936(0x216)],_0xb9b50)],['Explorer\x20Ribbon',this[_0x503936(0x22b)](_0x1c4ade[_0x503936(0x1b7)]['size'],_0xb9b50)],['Socialite\x20Ribbon',this[_0x503936(0x1b0)](_0x1c4ade['uniqueOpponents']['size'],_0xb9b50)],['Brick\x20Wall',this['evaluateBrickWallRibbonFromWinRate'](_0x42b22d,_0xb9b50,_0x1c4ade['totalMatches'])],['Underdog\x20Ribbon',this['evaluateUnderdogRibbonFromCount'](_0x1c4ade['underdogWins'],_0xb9b50)],[_0x503936(0x207),this['evaluateDominationRibbonFromRanks'](_0x1c4ade['dominatedRanks'][_0x503936(0x1c6)],_0xb9b50)]];_0x426984[_0x503936(0x201)](([_0x1f17c2,_0x4a1533])=>{_0x4a1533&&(_0x4402a3[_0x1f17c2]=_0x4a1533);});const _0x267657=Object['keys'](_0xb9b50)[_0x503936(0x204)]+Object[_0x503936(0x1ea)](_0x4402a3)['length'],_0x5ac63c=this[_0x503936(0x21d)](_0x267657,_0xb9b50);return _0x5ac63c&&(_0x4402a3['Collector\x20Ribbon']=_0x5ac63c),_0x4402a3;}['evaluateDominationRibbonFromRanks'](_0x373f4e,_0x49d6d3){if(_0x373f4e===0x0)return null;const _0x202e17=_0x49d6d3['Domination\x20Ribbon']||{'level':0x0};if(_0x373f4e>_0x202e17['level']){const _0x35784d=[];for(let _0x4e0b3e=0x0;_0x4e0b3e<_0x373f4e;_0x4e0b3e++){_0x35784d['push'](getRankTierName(_0x4e0b3e));}return console['log']('ðŸ‘‘\x20Domination\x20Ribbon\x20awarded:\x20Level\x20'+_0x202e17['level']+'\x20â†’\x20'+_0x373f4e+'\x20(Dominated:\x20'+_0x35784d['join'](',\x20')+')'),{'level':_0x373f4e,'awardedAt':new Date(),'dominatedRanks':_0x35784d};}return null;}async[a50_0x5c0d37(0x1a5)](_0x1a25b3,_0x3215de){const _0x25e111=a50_0x5c0d37;try{const _0x320849=_0x3215de==='D1'?'players':_0x3215de==='D2'?'playersD2':'playersD3',_0x489a2c=await this['getPlayerDataCached'](_0x1a25b3,_0x3215de);if(!_0x489a2c||_0x489a2c['eloRating']===undefined)return console[_0x25e111(0x1b3)](_0x25e111(0x1b4)+_0x1a25b3),null;const _0x6dbeda=_0x489a2c['eloRating'],_0x3c3764=getPlayerRankTier(_0x6dbeda),_0x1d1401=getRankTierName(_0x3c3764);if(_0x1d1401==='Unranked')return console[_0x25e111(0x1b3)]('âŒ\x20'+_0x1a25b3+'\x20is\x20Unranked\x20('+_0x6dbeda+'\x20ELO)'),null;console['log']('ðŸ”\x20Checking\x20Top\x20'+_0x1d1401+_0x25e111(0x19b)+_0x1a25b3+'\x20('+_0x6dbeda+_0x25e111(0x1ba));const _0x369cb2=collection(db,_0x320849),_0x2f1f45=await getDocs(_0x369cb2);let _0x2871a6=null,_0x21c4a4=-0x1,_0x2fbc5a=0x0;_0x2f1f45[_0x25e111(0x201)](_0x4497e7=>{const _0x48c8b9=_0x25e111,_0x1b2760=_0x4497e7['data'](),_0x463bdf=_0x1b2760['eloRating']||0x0,_0x4d8537=getPlayerRankTier(_0x463bdf);_0x4d8537===_0x3c3764&&(_0x2fbc5a++,_0x463bdf>_0x21c4a4&&(_0x21c4a4=_0x463bdf,_0x2871a6=_0x1b2760[_0x48c8b9(0x1c9)]));});const _0x341421=_0x2871a6===_0x1a25b3;return console['log']('ðŸ“Š\x20'+_0x1d1401+_0x25e111(0x1d0)+_0x2fbc5a+'\x20players,\x20Top:\x20'+_0x2871a6+'\x20('+_0x21c4a4+'\x20ELO),\x20'+_0x1a25b3+_0x25e111(0x1a2)+_0x341421),_0x341421?_0x1d1401:null;}catch(_0x3f81aa){return console[_0x25e111(0x227)](_0x25e111(0x213),_0x3f81aa),null;}}async['evaluateTopRankRibbon'](_0x4340c7,_0x13b99f,_0x43b964){const _0x28b378=a50_0x5c0d37,_0x2126a7=await this['checkTopRankStatus'](_0x4340c7,_0x13b99f),_0x3bf267={};if(_0x2126a7){const _0x5320ab='Top\x20'+_0x2126a7+'\x20Pilot';if(RIBBON_DEFINITIONS[_0x5320ab]){const _0x375fcb=_0x43b964[_0x5320ab];!_0x375fcb?(console[_0x28b378(0x1b3)]('ðŸ‘‘\x20NEW\x20Top\x20Rank\x20Achievement:\x20'+_0x4340c7+'\x20earned\x20'+_0x5320ab+'!'),_0x3bf267[_0x5320ab]={'level':0x1,'awardedAt':new Date(),'rank':_0x2126a7,'achievedAt':new Date()}):console['log']('âœ…\x20'+_0x4340c7+'\x20already\x20has\x20'+_0x5320ab+_0x28b378(0x19f));}}return Object['keys'](_0x43b964)['forEach'](_0x5055a9=>{const _0x48ddf9=_0x28b378;_0x5055a9['startsWith']('Top\x20')&&_0x5055a9[_0x48ddf9(0x20b)](_0x48ddf9(0x220))&&(!_0x3bf267[_0x5055a9]&&console['log'](_0x48ddf9(0x1ac)+_0x5055a9));}),_0x3bf267;}async['evaluateAllRibbonsForPlayerOptimized'](_0x43daa5,_0x30920e='D1'){const _0x277f01=a50_0x5c0d37;try{const _0x3f01a8=ribbonCache['getCachedData'](_0x43daa5,_0x30920e);if(_0x3f01a8){const _0x5de7ce=await this['evaluateTopRankRibbon'](_0x43daa5,_0x30920e,_0x3f01a8);if(Object[_0x277f01(0x1ea)](_0x5de7ce)['length']>0x0){console['log'](_0x277f01(0x1e3)+_0x43daa5),await this[_0x277f01(0x1ab)](_0x43daa5,_0x5de7ce,_0x30920e);const _0x4dd982={..._0x3f01a8,..._0x5de7ce};return ribbonCache['setCachedData'](_0x43daa5,_0x30920e,_0x4dd982,0x0),_0x4dd982;}return _0x3f01a8;}const [_0x3de3f5,_0x517f85]=await Promise[_0x277f01(0x1a7)]([this[_0x277f01(0x1c1)](_0x43daa5,_0x30920e),this['getPlayerRibbonsCached'](_0x43daa5,_0x30920e)]);if(!_0x3de3f5)return{};const _0x31f8f1=_0x3de3f5[_0x277f01(0x1db)]||0x0,_0x5cf4cb=await this['evaluateTopRankRibbon'](_0x43daa5,_0x30920e,_0x517f85);if(!ribbonCache['shouldRefreshCache'](_0x43daa5,_0x30920e,_0x31f8f1)){if(Object['keys'](_0x5cf4cb)['length']>0x0){await this['savePlayerRibbonsOptimized'](_0x43daa5,_0x5cf4cb,_0x30920e);const _0x531ab6={..._0x517f85,..._0x5cf4cb};return ribbonCache['setCachedData'](_0x43daa5,_0x30920e,_0x531ab6,_0x31f8f1),_0x531ab6;}return ribbonCache['setCachedData'](_0x43daa5,_0x30920e,_0x517f85,_0x31f8f1),_0x517f85;}const _0x5706e0=await this['getPlayerMatchesOptimized'](_0x43daa5,_0x30920e),_0xf32ff3=await this[_0x277f01(0x20a)](_0x5706e0,_0x3de3f5,_0x517f85,_0x30920e);Object[_0x277f01(0x1e1)](_0xf32ff3,_0x5cf4cb);Object['keys'](_0xf32ff3)[_0x277f01(0x204)]>0x0&&(console['log'](_0x277f01(0x1cb)+Object['keys'](_0xf32ff3)['length']+'\x20new/updated\x20ribbons\x20for\x20'+_0x43daa5),await this[_0x277f01(0x1ab)](_0x43daa5,_0xf32ff3,_0x30920e));const _0x4ffb1d={..._0x517f85,..._0xf32ff3};return ribbonCache[_0x277f01(0x1ca)](_0x43daa5,_0x30920e,_0x4ffb1d,_0x5706e0['length']),_0x4ffb1d;}catch(_0x891e31){return console[_0x277f01(0x227)]('âŒ\x20Error\x20in\x20ribbon\x20evaluation:',_0x891e31),{};}}async['isUnderdogVictory'](_0x4d8dd7,_0x2d1b34,_0x136f54){const _0x4c58ea=a50_0x5c0d37,_0x214959=_0x4d8dd7['winnerUsername']===_0x2d1b34;if(!_0x214959)return![];const _0x2a4646=_0x4d8dd7['loserUsername'],[_0x414488,_0x4e885e]=await Promise[_0x4c58ea(0x1a7)]([this['getPlayerDataCached'](_0x2d1b34,_0x136f54),this['getPlayerDataCached'](_0x2a4646,_0x136f54)]);if(!_0x414488||!_0x4e885e)return console['log']('âš ï¸\x20Missing\x20player\x20data\x20for\x20'+_0x2d1b34+'\x20or\x20'+_0x2a4646),![];const _0x194c5c=_0x414488['eloRating']||0x0,_0x2a12aa=_0x4e885e['eloRating']||0x0,_0x5de366=getPlayerRankTier(_0x194c5c),_0x11a899=getPlayerRankTier(_0x2a12aa);console[_0x4c58ea(0x1b3)]('ðŸ”\x20Checking\x20underdog:\x20Winner('+_0x2d1b34+'):\x20'+_0x194c5c+'\x20ELO\x20('+getRankTierName(_0x5de366)+')\x20vs\x20Loser('+_0x2a4646+'):\x20'+_0x2a12aa+_0x4c58ea(0x1cd)+getRankTierName(_0x11a899)+')');if(_0x11a899>_0x5de366)return console['log']('ðŸŽ¯\x20UNDERDOG\x20VICTORY:\x20'+getRankTierName(_0x5de366)+'\x20beat\x20'+getRankTierName(_0x11a899)+'!'),!![];return console[_0x4c58ea(0x1b3)](_0x4c58ea(0x1d4)+getRankTierName(_0x5de366)+_0x4c58ea(0x1e6)+getRankTierName(_0x11a899)),![];}[a50_0x5c0d37(0x20d)](_0x563a1d,_0x3d4aa5,_0x2ce7d4,_0x25b639){const _0x11e7c6=a50_0x5c0d37,_0x18dcaa=_0x563a1d['winnerUsername']===_0x3d4aa5;if(!_0x18dcaa)return![];const _0x44c810=_0x563a1d['loserUsername'],_0x22d60e=_0x25b639['get'](_0x44c810);if(!_0x2ce7d4||!_0x22d60e)return![];const _0x502b45=_0x2ce7d4[_0x11e7c6(0x19d)]||0x0,_0x4bdc7b=_0x22d60e['eloRating']||0x0,_0x4f484c=getPlayerRankTier(_0x502b45),_0x410efe=getPlayerRankTier(_0x4bdc7b);if(_0x410efe>_0x4f484c)return console[_0x11e7c6(0x1b3)](_0x11e7c6(0x1f8)+getRankTierName(_0x4f484c)+'('+_0x502b45+')\x20beat\x20'+getRankTierName(_0x410efe)+'('+_0x4bdc7b+')'),!![];return![];}async['evaluateAllRibbonsFromData'](_0x130378,_0x3a5b41,_0x57c1cb,_0x414b85){const _0x1c2a21=a50_0x5c0d37,_0x57c591={},_0x4f510f=_0x3a5b41['username'],_0x35faa1={'totalMatches':_0x130378['length'],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0},_0x46cb2d=new Set();_0x130378['forEach'](_0x2ac5b9=>{const _0x4821ce=_0x2ac5b9['winnerUsername']===_0x4f510f,_0x576da8=_0x4821ce?_0x2ac5b9['loserUsername']:_0x2ac5b9['winnerUsername'];if(_0x576da8)_0x46cb2d['add'](_0x576da8);}),console['log'](_0x1c2a21(0x1cf)+_0x46cb2d['size']+'\x20player\x20records\x20for\x20underdog\x20calculations...');const _0x1d0f4b=await this['bulkLoadPlayerData']([..._0x46cb2d,_0x4f510f],_0x414b85),_0x1df9c7=_0x1d0f4b['get'](_0x4f510f);!_0x1df9c7&&console['log']('âš ï¸\x20No\x20current\x20player\x20data\x20found\x20for\x20'+_0x4f510f);_0x130378[_0x1c2a21(0x201)](_0x38e545=>{const _0x1734ce=_0x1c2a21,_0x3b9dfe=_0x38e545['winnerUsername']===_0x4f510f,_0x1fcfd5=_0x3b9dfe?_0x38e545['loserUsername']:_0x38e545[_0x1734ce(0x1aa)];_0x3b9dfe&&(_0x35faa1[_0x1734ce(0x1ec)]++,_0x38e545['subgameType']===_0x1734ce(0x19e)&&_0x35faa1['rematchWins']++,this[_0x1734ce(0x20d)](_0x38e545,_0x4f510f,_0x1df9c7,_0x1d0f4b)&&_0x35faa1[_0x1734ce(0x1e7)]++),_0x38e545['subgameType']&&_0x38e545['subgameType']!==_0x1734ce(0x199)&&_0x35faa1['subgameMatches']++,_0x38e545[_0x1734ce(0x1f1)]&&_0x35faa1['uniqueMaps'][_0x1734ce(0x202)](_0x38e545[_0x1734ce(0x1f1)]),_0x1fcfd5&&_0x35faa1['uniqueOpponents'][_0x1734ce(0x202)](_0x1fcfd5);}),console['log']('ðŸŽ¯\x20Found\x20'+_0x35faa1[_0x1c2a21(0x1e7)]+'\x20underdog\x20victories\x20for\x20'+_0x4f510f);const _0x2bbee2=_0x35faa1['totalMatches']>0x0?_0x35faa1['wins']/_0x35faa1[_0x1c2a21(0x20e)]*0x64:0x0,_0x21fb81=[['Overachiever\x20Ribbon',this[_0x1c2a21(0x1b5)](_0x35faa1['totalMatches'],_0x57c1cb)],[_0x1c2a21(0x229),this[_0x1c2a21(0x1bd)](_0x35faa1['rematchWins'],_0x57c1cb)],['Sub-Gamer\x20Ribbon',this['evaluateSubGamerRibbonFromCount'](_0x35faa1['subgameMatches'],_0x57c1cb)],['Explorer\x20Ribbon',this['evaluateExplorerRibbonFromCount'](_0x35faa1[_0x1c2a21(0x1b7)]['size'],_0x57c1cb)],['Socialite\x20Ribbon',this['evaluateSocialiteRibbonFromCount'](_0x35faa1['uniqueOpponents']['size'],_0x57c1cb)],['Brick\x20Wall',this[_0x1c2a21(0x1bc)](_0x2bbee2,_0x57c1cb,_0x35faa1[_0x1c2a21(0x20e)])],['Underdog\x20Ribbon',this[_0x1c2a21(0x1e8)](_0x35faa1['underdogWins'],_0x57c1cb)]];_0x21fb81['forEach'](([_0x331aa2,_0x296f6f])=>{_0x296f6f&&(_0x57c591[_0x331aa2]=_0x296f6f);});const _0x2caebb=Object['keys'](_0x57c1cb)[_0x1c2a21(0x204)]+Object[_0x1c2a21(0x1ea)](_0x57c591)['length'],_0xcf6404=this['evaluateCollectorRibbonFromCount'](_0x2caebb,_0x57c1cb);return _0xcf6404&&(_0x57c591['Collector\x20Ribbon']=_0xcf6404),_0x57c591;}async[a50_0x5c0d37(0x1f6)](_0x5749f9,_0x163e02){const _0x31e2d4=a50_0x5c0d37,_0x1da7ed=matchCache[_0x31e2d4(0x1da)](_0x5749f9,_0x163e02);if(_0x1da7ed)return _0x1da7ed;try{const _0x3d43e9=_0x163e02==='D1'?'approvedMatches':_0x163e02==='D2'?_0x31e2d4(0x1fa):'approvedMatchesD3',_0xc97051=collection(db,_0x3d43e9),[_0x321d0c,_0x22e402]=await Promise['all']([getDocs(query(_0xc97051,where(_0x31e2d4(0x1aa),'==',_0x5749f9))),getDocs(query(_0xc97051,where('loserUsername','==',_0x5749f9)))]),_0x2cad96=new Set(),_0xca25bc=[];return _0x321d0c['forEach'](_0x4d5c43=>{const _0x546f2c=_0x31e2d4;if(!_0x2cad96[_0x546f2c(0x217)](_0x4d5c43['id'])){_0x2cad96['add'](_0x4d5c43['id']);const _0x3e79c1={'id':_0x4d5c43['id'],..._0x4d5c43['data']()};if(!_0x3e79c1['winnerRating'])_0x3e79c1['winnerRating']=0x0;if(!_0x3e79c1[_0x546f2c(0x1c3)])_0x3e79c1['loserRating']=0x0;_0xca25bc['push'](_0x3e79c1);}}),_0x22e402[_0x31e2d4(0x201)](_0x5ee98d=>{const _0x2f5012=_0x31e2d4;if(!_0x2cad96['has'](_0x5ee98d['id'])){_0x2cad96[_0x2f5012(0x202)](_0x5ee98d['id']);const _0x2790cd={'id':_0x5ee98d['id'],..._0x5ee98d[_0x2f5012(0x21c)]()};if(!_0x2790cd[_0x2f5012(0x1c0)])_0x2790cd[_0x2f5012(0x1c0)]=0x0;if(!_0x2790cd[_0x2f5012(0x1c3)])_0x2790cd['loserRating']=0x0;_0xca25bc[_0x2f5012(0x226)](_0x2790cd);}}),matchCache['setCachedMatches'](_0x5749f9,_0x163e02,_0xca25bc),_0xca25bc;}catch(_0x4fa7f3){return console[_0x31e2d4(0x227)]('âŒ\x20Error\x20fetching\x20matches:',_0x4fa7f3),[];}}async[a50_0x5c0d37(0x1c1)](_0x4236b1,_0x3593dd){const _0x476054=a50_0x5c0d37;try{const _0x14137e=_0x3593dd==='D1'?'players':_0x3593dd==='D2'?'playersD2':_0x476054(0x1f9),_0x21e72d=collection(db,_0x14137e),_0x5b2ce0=query(_0x21e72d,where('username','==',_0x4236b1),limit(0x1)),_0x77cae3=await getDocs(_0x5b2ce0);if(_0x77cae3[_0x476054(0x1fc)])return console['log']('âŒ\x20No\x20player\x20data\x20found\x20for\x20'+_0x4236b1+_0x476054(0x228)+_0x14137e),null;const _0x22375b=_0x77cae3['docs'][0x0]['data']();return _0x22375b[_0x476054(0x19d)]!==undefined&&(_0x22375b[_0x476054(0x1d6)]=_0x22375b[_0x476054(0x19d)]),console['log'](_0x476054(0x21e)+_0x4236b1+_0x476054(0x1a6)+_0x22375b[_0x476054(0x19d)]+_0x476054(0x1a3)+_0x22375b['position']),_0x22375b;}catch(_0x4b535a){return console[_0x476054(0x227)]('Error\x20getting\x20player\x20data\x20for\x20'+_0x4236b1+':',_0x4b535a),null;}}async['getPlayerRibbonsCached'](_0x2de80f,_0x5f15a5){const _0x3ca680=a50_0x5c0d37;try{const _0x4c55eb='playerRibbons'+(_0x5f15a5==='D1'?'':_0x5f15a5),_0x5aeb02=doc(db,_0x4c55eb,_0x2de80f),_0x414376=await getDoc(_0x5aeb02);return _0x414376['exists']()?_0x414376['data']()[_0x3ca680(0x1d7)]||{}:{};}catch(_0x5ca39f){return console['error']('Error\x20getting\x20player\x20ribbons:',_0x5ca39f),{};}}async[a50_0x5c0d37(0x1ab)](_0x49f6a5,_0x46ba48,_0x291976){const _0xbf048c=a50_0x5c0d37;try{const _0xe2ab85=_0xbf048c(0x206)+(_0x291976==='D1'?'':_0x291976),_0x30fd5f=doc(db,_0xe2ab85,_0x49f6a5),_0x52ce3f=await this[_0xbf048c(0x1d5)](_0x49f6a5,_0x291976),_0x5972d7={..._0x52ce3f,..._0x46ba48};await setDoc(_0x30fd5f,{'username':_0x49f6a5,'ladder':_0x291976,'ribbons':_0x5972d7,'lastUpdated':new Date()},{'merge':!![]});}catch(_0x517c12){console[_0xbf048c(0x227)]('Error\x20saving\x20ribbons:',_0x517c12);}}[a50_0x5c0d37(0x1b5)](_0x377484,_0x38eb29){const _0x10f84c=a50_0x5c0d37,_0x43a927=_0x38eb29[_0x10f84c(0x1e2)]||{'level':0x0},_0x5027e3=RIBBON_DEFINITIONS[_0x10f84c(0x1e2)]['levels'],_0xc1d486=_0x5027e3['findIndex'](_0x5eec53=>_0x377484<_0x5eec53),_0x2750f4=_0xc1d486===-0x1?_0x5027e3[_0x10f84c(0x204)]:_0xc1d486;if(_0x2750f4>_0x43a927['level'])return{'level':_0x2750f4,'awardedAt':new Date()};return null;}['evaluateRematchRibbonFromCount'](_0x1bc896,_0x5e0dfa){const _0x247d67=a50_0x5c0d37;if(_0x1bc896===0x0)return null;const _0x8beed6=_0x5e0dfa[_0x247d67(0x229)]||{'level':0x0};if(_0x1bc896>_0x8beed6['level'])return{'level':_0x1bc896,'awardedAt':new Date()};return null;}['evaluateSubGamerRibbonFromCount'](_0x130448,_0x43bc9e){const _0x163b36=a50_0x5c0d37,_0x12ad54=_0x43bc9e['Sub-Gamer\x20Ribbon']||{'level':0x0},_0xd5072e=RIBBON_DEFINITIONS[_0x163b36(0x1af)][_0x163b36(0x1e9)],_0xb0dc4a=_0xd5072e['findIndex'](_0x45bcf0=>_0x130448<_0x45bcf0),_0x5bbd21=_0xb0dc4a===-0x1?_0xd5072e['length']:_0xb0dc4a;if(_0x5bbd21>_0x12ad54['level'])return{'level':_0x5bbd21,'awardedAt':new Date()};return null;}[a50_0x5c0d37(0x22b)](_0x59d04b,_0x18003e){const _0xeb1a19=a50_0x5c0d37,_0x20982b=_0x18003e['Explorer\x20Ribbon']||{'level':0x0},_0x5b0b83=RIBBON_DEFINITIONS['Explorer\x20Ribbon'][_0xeb1a19(0x1e9)],_0x1b1cc3=_0x5b0b83['findIndex'](_0x5300db=>_0x59d04b<_0x5300db),_0x29121c=_0x1b1cc3===-0x1?_0x5b0b83['length']:_0x1b1cc3;if(_0x29121c>_0x20982b['level'])return{'level':_0x29121c,'awardedAt':new Date()};return null;}['evaluateSocialiteRibbonFromCount'](_0x246910,_0x150ecd){const _0xb5968e=a50_0x5c0d37,_0x388c6d=_0x150ecd[_0xb5968e(0x225)]||{'level':0x0},_0x14e84b=RIBBON_DEFINITIONS[_0xb5968e(0x225)][_0xb5968e(0x1e9)],_0x573c9a=_0x14e84b[_0xb5968e(0x222)](_0x27f339=>_0x246910<_0x27f339),_0x5abd67=_0x573c9a===-0x1?_0x14e84b['length']:_0x573c9a;if(_0x5abd67>_0x388c6d['level'])return{'level':_0x5abd67,'awardedAt':new Date()};return null;}['evaluateBrickWallRibbonFromWinRate'](_0x5a65d5,_0x361ad0,_0x166639){const _0x460b39=a50_0x5c0d37;if(_0x166639<0x32)return console['log'](_0x460b39(0x1fb)+_0x166639+')'),null;const _0x571207=_0x361ad0['Brick\x20Wall']||{'level':0x0},_0x4d418d=RIBBON_DEFINITIONS['Brick\x20Wall'][_0x460b39(0x1e9)],_0x40e1fa=_0x4d418d['findIndex'](_0x31b18f=>_0x5a65d5<_0x31b18f),_0x28679c=_0x40e1fa===-0x1?_0x4d418d[_0x460b39(0x204)]:_0x40e1fa;if(_0x28679c>_0x571207['level'])return console[_0x460b39(0x1b3)](_0x460b39(0x1be)+_0x5a65d5['toFixed'](0x1)+_0x460b39(0x1a8)+_0x166639+'\x20matches'),{'level':_0x28679c,'awardedAt':new Date(),'winRate':_0x5a65d5,'matchesPlayed':_0x166639};return null;}[a50_0x5c0d37(0x21d)](_0x350ab9,_0x52ead4){const _0x3e50d2=a50_0x5c0d37,_0x32a61a=_0x52ead4['Collector\x20Ribbon']||{'level':0x0},_0x355a79=RIBBON_DEFINITIONS['Collector\x20Ribbon']['levels'],_0x14d8b1=_0x355a79['findIndex'](_0x63ac16=>_0x350ab9<_0x63ac16),_0x179d03=_0x14d8b1===-0x1?_0x355a79[_0x3e50d2(0x204)]:_0x14d8b1;if(_0x179d03>_0x32a61a[_0x3e50d2(0x1c2)])return{'level':_0x179d03,'awardedAt':new Date()};return null;}['evaluateUnderdogRibbonFromCount'](_0x3478c5,_0x232c2f){const _0x1f000e=a50_0x5c0d37;if(_0x3478c5===0x0)return null;const _0x81c7e0=_0x232c2f['Underdog\x20Ribbon']||{'level':0x0},_0x59fe56=RIBBON_DEFINITIONS['Underdog\x20Ribbon']['levels'];let _0x34f62a=0x0;for(let _0x4e2376=0x0;_0x4e2376<_0x59fe56['length'];_0x4e2376++){if(_0x3478c5>=_0x59fe56[_0x4e2376])_0x34f62a=_0x4e2376+0x1;else break;}if(_0x34f62a>_0x81c7e0['level'])return console['log'](_0x1f000e(0x221)+_0x81c7e0['level']+_0x1f000e(0x1bf)+_0x34f62a+'\x20('+_0x3478c5+'\x20underdog\x20wins)'),{'level':_0x34f62a,'awardedAt':new Date()};return null;}}function getPlayerRankTier(_0x2d0d9c){if(_0x2d0d9c===undefined||_0x2d0d9c===null)return 0x0;const _0x249039=Number(_0x2d0d9c);if(isNaN(_0x249039))return 0x0;if(_0x249039>=0x7d0)return 0x4;if(_0x249039>=0x708)return 0x3;if(_0x249039>=0x640)return 0x2;if(_0x249039>=0x578)return 0x1;return 0x0;}function getRankTierName(_0x459158){const _0x40461b=a50_0x5c0d37,_0xc83e31=[_0x40461b(0x203),_0x40461b(0x1e0),'Silver','Gold','Emerald'];return _0xc83e31[_0x459158]||_0x40461b(0x203);}const ribbonSystem=new RibbonSystem(),ribbonCache=new RibbonCacheManager(),matchCache=new MatchCacheManager();function a50_0x24d5(_0x49370c,_0x240639){const _0x1e1769=a50_0x4083();return a50_0x24d5=function(_0x172007,_0x5651fb){_0x172007=_0x172007-0x199;let _0x408316=_0x1e1769[_0x172007];return _0x408316;},a50_0x24d5(_0x49370c,_0x240639);}typeof window!==a50_0x5c0d37(0x1ce)&&(window['getRibbonCacheStats']=()=>{const _0x578624=a50_0x5c0d37;return{'ribbon':ribbonCache[_0x578624(0x1f4)](),'match':matchCache[_0x578624(0x1f4)]()};});export async function evaluatePlayerRibbons(_0x57837b,_0x9ee067='D1'){return await ribbonSystem['evaluateAllRibbonsForPlayerOptimized'](_0x57837b,_0x9ee067);}export function getRibbonHTML(_0x345c22,_0x3d49b3){const _0x7fd1b6=a50_0x5c0d37,_0x143c4d=RIBBON_DEFINITIONS[_0x345c22];if(!_0x143c4d)return'';const _0x4b7545=_0x3d49b3['level']||0x1,_0x4544c9=_0x345c22['replace']('\x20Ribbon','')[_0x7fd1b6(0x21b)]('\x20Badge',''),_0x1ec14d=_0x2827f4=>{const _0xfa9b2b=_0x7fd1b6;if(_0x2827f4<=0x1)return'level-1';if(_0x2827f4<=0x2)return'level-2';if(_0x2827f4<=0x3)return'level-3';if(_0x2827f4<=0x4)return _0xfa9b2b(0x1c8);return'level-5-plus';},_0x4bcd32=_0x3093e8=>{const _0x42b72d=_0x7fd1b6;if(_0x3093e8<=0x1)return'';const _0x61b233=[];if(_0x3093e8>=0x2&&_0x3093e8<=0x4){const _0xbf56ae=Math[_0x42b72d(0x211)](_0x3093e8-0x1,0x3);for(let _0x1a12a2=0x0;_0x1a12a2<_0xbf56ae;_0x1a12a2++){_0x61b233['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>');}}if(_0x3093e8>=0x5&&_0x3093e8<=0x7){_0x61b233['push'](_0x42b72d(0x1a9));const _0x4e2f34=Math[_0x42b72d(0x211)](_0x3093e8-0x5,0x2);for(let _0x23f8c2=0x0;_0x23f8c2<_0x4e2f34;_0x23f8c2++){_0x61b233['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>');}}return _0x3093e8>=0x8&&_0x61b233['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20gold-star\x22></i>'),_0x61b233['length']>0x0?'<div\x20class=\x22ribbon-devices\x22>'+_0x61b233['join']('')+'</div>':'';},_0xa84ee5=_0x143c4d['description']+_0x7fd1b6(0x1d9)+_0x4b7545;return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22military-ribbon\x22\x20data-tooltip=\x22'+_0xa84ee5+_0x7fd1b6(0x1ee)+_0x143c4d[_0x7fd1b6(0x1cc)]+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22'+_0x345c22+_0x7fd1b6(0x1df)+_0x143c4d[_0x7fd1b6(0x1b8)]+';\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4544c9['substring'](0x0,0x6)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4bcd32(_0x4b7545)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-name\x22>'+_0x4544c9+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4b7545>0x1?'<div\x20class=\x22ribbon-level-indicator\x20'+_0x1ec14d(_0x4b7545)+'\x22>'+_0x4b7545+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}function a50_0x4083(){const _0xf649d7=['Standard','\x20ranks:\x20[','\x20status\x20for\x20','Amass\x20at\x20least\x2080%\x20overall\x20win\x20rate\x20percentage\x20(minimum\x2050\x20matches)','eloRating','Rematch','\x20-\x20No\x20changes\x20needed','autoCleanup','timestamp','\x20is\x20#1:\x20',',\x20Position\x20','ðŸ‘‘\x20Dominated\x20','checkTopRankStatus',':\x20ELO\x20','all','%\x20win\x20rate\x20over\x20','<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20silver-star\x22></i>','winnerUsername','savePlayerRibbonsOptimized','âœ…\x20Preserving\x20existing\x20','\x20players\x20from\x20','Beat\x205\x20unique\x20pilots\x20in\x20a\x20rank\x20(including\x20your\x20own)','Sub-Gamer\x20Ribbon','evaluateSocialiteRibbonFromCount','CACHE_KEY_PREFIX','../images/ribbons/toprank.png','log','âŒ\x20No\x20ELO\x20rating\x20data\x20for\x20','evaluateOverachieverRibbonFromCount','lastCleanup','uniqueMaps','color','memoryCache','\x20ELO)','uniqueOpponents','evaluateBrickWallRibbonFromWinRate','evaluateRematchRibbonFromCount','ðŸ†\x20Brick\x20Wall\x20ribbon\x20awarded:\x20','\x20â†’\x20','winnerRating','getPlayerDataCached','level','loserRating','matchCount','matchCache','size','loserUsername','level-4','username','setCachedData','ðŸ’¾\x20Saving\x20','image','\x20ELO\x20(','undefined','ðŸš€\x20Bulk\x20loading\x20','\x20Tier:\x20','clearOldCache','bulkLoadPlayerData','../images/ribbons/Subgamer.png','âŒ\x20Not\x20underdog:\x20','getPlayerRibbonsCached','rating','ribbons','playerDataCache','\x20-\x20Level\x20','getCachedMatches','matchesPlayed','CACHE_DURATION','Played\x20at\x20least\x2010\x20unique\x20pilots','shouldRefreshCache','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22ribbon-image\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27;\x20this.nextElementSibling.style.display=\x27block\x27;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-fallback\x22\x20style=\x22display:\x20none;\x20background:\x20','Bronze','assign','Overachiever\x20Ribbon','ðŸ†•\x20New\x20top\x20rank\x20achievements\x20found\x20for\x20cached\x20player\x20','delete','playersD2','\x20vs\x20','underdogWins','evaluateUnderdogRibbonFromCount','levels','keys','now','wins','invalidatePlayerCache','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-image-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22','entries','join','mapPlayed','Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Gold\x20rank','rematchWins','getCacheStats','removeItem','getPlayerMatchesOptimized','ðŸ“Š\x20Bulk\x20loaded\x20','ðŸŽ¯\x20UNDERDOG:\x20','playersD3','approvedMatchesD2','âš ï¸\x20Brick\x20Wall\x20ribbon\x20requires\x2050+\x20matches\x20(player\x20has\x20','empty','#6C5CE7','ðŸŽ¯\x20Found\x20','Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Silver\x20rank','set','forEach','add','Unranked','length','exception','playerRibbons','Domination\x20Ribbon','parse','../images/ribbons/Socialite.png','evaluateAllRibbonsFromData','endsWith','startsWith','isUnderdogVictoryFast','totalMatches','Play\x20over\x2050\x20subgame\x20matches','getCacheKey','min','bind','Error\x20checking\x20top\x20rank\x20status:','getItem','matches','subgameMatches','has','info','cleanup','evaluateSubGamerRibbonFromCount','replace','data','evaluateCollectorRibbonFromCount','âœ…\x20Found\x20player\x20data\x20for\x20','stringify','\x20Pilot','ðŸ†\x20Underdog\x20Ribbon\x20upgrade:\x20Level\x20','findIndex','get','table','Socialite\x20Ribbon','push','error','\x20in\x20','Rematch\x20Ribbon','#FF6B6B','evaluateExplorerRibbonFromCount','Beat\x20a\x20pilot\x20ranked\x20higher\x20than\x20you'];a50_0x4083=function(){return _0xf649d7;};return a50_0x4083();}