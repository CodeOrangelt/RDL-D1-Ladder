const a18_0x5169ca=a18_0x4dd3,a18_0x30209b=(function(){let _0x1ae973=!![];return function(_0x27ce0d,_0x400c57){const _0x4f5276=_0x1ae973?function(){if(_0x400c57){const _0x4e946a=_0x400c57['apply'](_0x27ce0d,arguments);return _0x400c57=null,_0x4e946a;}}:function(){};return _0x1ae973=![],_0x4f5276;};}()),a18_0xd79f1e=a18_0x30209b(this,function(){const _0x2ab68a=a18_0x4dd3;let _0x292a75;try{const _0xdf0ae6=Function('return\x20(function()\x20'+_0x2ab68a(0x89)+');');_0x292a75=_0xdf0ae6();}catch(_0x264091){_0x292a75=window;}const _0xd4fcaf=_0x292a75['console']=_0x292a75[_0x2ab68a(0x87)]||{},_0x482fec=['log','warn',_0x2ab68a(0x91),'error','exception','table',_0x2ab68a(0x8d)];for(let _0x30196d=0x0;_0x30196d<_0x482fec[_0x2ab68a(0x95)];_0x30196d++){const _0x756984=a18_0x30209b['constructor'][_0x2ab68a(0x8e)]['bind'](a18_0x30209b),_0x182599=_0x482fec[_0x30196d],_0x345f29=_0xd4fcaf[_0x182599]||_0x756984;_0x756984['__proto__']=a18_0x30209b[_0x2ab68a(0x90)](a18_0x30209b),_0x756984['toString']=_0x345f29[_0x2ab68a(0x84)]['bind'](_0x345f29),_0xd4fcaf[_0x182599]=_0x756984;}});a18_0xd79f1e();import{collection as a18_0x5e3bc6,doc as a18_0x49e225,getDoc as a18_0x669ec4,getDocs as a18_0x3dcb6d,query as a18_0x240c7b,where as a18_0x348995,orderBy as a18_0x8c792c,limit as a18_0xc69bc8,startAfter as a18_0x121ffd,addDoc as a18_0x49c08e,updateDoc as a18_0x346e8e,deleteDoc as a18_0x162291,writeBatch as a18_0x2cd651,serverTimestamp as a18_0x2c7b72,Timestamp as a18_0x217e8c,getCountFromServer as a18_0x365964,setDoc as a18_0x4ad5f3,enableNetwork,disableNetwork}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db}from'./firebase-config.js';import{handleNetworkError}from'./idle-timeout.js';function checkSessionStatus(){const _0x244168=a18_0x4dd3;if(window['RDL_SESSION_SUSPENDED']){console['warn']('Firestore\x20operation\x20blocked\x20-\x20session\x20suspended');const _0x4753ca=new Error('Session\x20suspended\x20due\x20to\x20inactivity.\x20Please\x20resume\x20your\x20session.');_0x4753ca[_0x244168(0x88)]=_0x244168(0x81);throw _0x4753ca;}if(window['RDL_NETWORK_ERROR']){console[_0x244168(0x8a)]('Firestore\x20operation\x20blocked\x20-\x20network\x20error');const _0x2347aa=new Error(_0x244168(0x85));_0x2347aa['code']='network-error';throw _0x2347aa;}}async function handleFirestoreError(_0x1fb729){const _0x2b674c=a18_0x4dd3;console['error']('Firestore\x20operation\x20failed:',_0x1fb729);if(_0x1fb729&&(_0x1fb729[_0x2b674c(0x88)]===_0x2b674c(0x82)||_0x1fb729[_0x2b674c(0x88)]==='resource-exhausted'||_0x1fb729['message']&&_0x1fb729['message']['includes']('network')||_0x1fb729['code']&&_0x1fb729[_0x2b674c(0x88)][_0x2b674c(0x8b)]('network')))return console['warn'](_0x2b674c(0x86)),handleNetworkError(),!![];return![];}export const rdlFirestore={'collection':function(){const _0x2b23bc=a18_0x4dd3;if(arguments['length']===0x1){if(typeof arguments[0x0]==='string')return a18_0x5e3bc6(db,arguments[0x0]);return arguments[0x0];}else{if(arguments['length']===0x2&&arguments[0x0]===db&&typeof arguments[0x1]===_0x2b23bc(0x94))return a18_0x5e3bc6(db,arguments[0x1]);}return a18_0x5e3bc6['apply'](null,arguments);},'doc':function(){if(arguments['length']===0x2){if(typeof arguments[0x0]==='string'&&typeof arguments[0x1]==='string')return a18_0x49e225(db,arguments[0x0],arguments[0x1]);return a18_0x49e225['apply'](null,arguments);}else{if(arguments['length']===0x3&&arguments[0x0]===db)return a18_0x49e225['apply'](null,arguments);}return a18_0x49e225['apply'](null,arguments);},'query':function(){return a18_0x240c7b['apply'](null,arguments);},'where':function(){return a18_0x348995['apply'](null,arguments);},'orderBy':function(){const _0xd25e53=a18_0x4dd3;return a18_0x8c792c[_0xd25e53(0x93)](null,arguments);},'limit':function(_0x1346f7){return a18_0xc69bc8(_0x1346f7);},'startAfter':function(_0xc71468){return a18_0x121ffd(_0xc71468);},'getDoc':async function(_0x1dd9a5){try{return checkSessionStatus(),await a18_0x669ec4(_0x1dd9a5);}catch(_0x40b082){const _0x10b8cc=await handleFirestoreError(_0x40b082);_0x10b8cc&&(_0x40b082['code']='network-error');throw _0x40b082;}},'getDocs':async function(_0xaa08ce){try{return checkSessionStatus(),await a18_0x3dcb6d(_0xaa08ce);}catch(_0x2368ad){const _0x2b8c4c=await handleFirestoreError(_0x2368ad);_0x2b8c4c&&(_0x2368ad['code']='network-error');throw _0x2368ad;}},'getCountFromServer':async function(_0x4b8fcb){const _0x42a086=a18_0x4dd3;try{return checkSessionStatus(),await a18_0x365964(_0x4b8fcb);}catch(_0x9a6823){const _0x3b37dc=await handleFirestoreError(_0x9a6823);_0x3b37dc&&(_0x9a6823[_0x42a086(0x88)]='network-error');throw _0x9a6823;}},'addDoc':async function(_0x5b12a8,_0x3e00d0){const _0x2ab222=a18_0x4dd3;try{return checkSessionStatus(),await a18_0x49c08e(_0x5b12a8,_0x3e00d0);}catch(_0x30a574){const _0x353189=await handleFirestoreError(_0x30a574);_0x353189&&(_0x30a574['code']=_0x2ab222(0x83));throw _0x30a574;}},'setDoc':async function(_0x514599,_0x1359dc,_0x80cf8e){try{return checkSessionStatus(),await a18_0x4ad5f3(_0x514599,_0x1359dc,_0x80cf8e);}catch(_0x99c991){const _0x4d5058=await handleFirestoreError(_0x99c991);_0x4d5058&&(_0x99c991['code']='network-error');throw _0x99c991;}},'updateDoc':async function(_0x4efff7,_0x2cc040){try{return checkSessionStatus(),await a18_0x346e8e(_0x4efff7,_0x2cc040);}catch(_0x22a916){const _0x5cf816=await handleFirestoreError(_0x22a916);_0x5cf816&&(_0x22a916['code']='network-error');throw _0x22a916;}},'deleteDoc':async function(_0x2b943c){const _0x32c395=a18_0x4dd3;try{return checkSessionStatus(),await a18_0x162291(_0x2b943c);}catch(_0x5d9329){const _0xc80ac8=await handleFirestoreError(_0x5d9329);_0xc80ac8&&(_0x5d9329[_0x32c395(0x88)]='network-error');throw _0x5d9329;}},'writeBatch':function(){const _0x3e54af=a18_0x4dd3;checkSessionStatus();const _0x3c156e=a18_0x2cd651(db),_0x42be7d=_0x3c156e['commit']['bind'](_0x3c156e);return _0x3c156e[_0x3e54af(0x8f)]=async function(){try{return checkSessionStatus(),await _0x42be7d();}catch(_0x247211){const _0x169852=await handleFirestoreError(_0x247211);_0x169852&&(_0x247211['code']='network-error');throw _0x247211;}},_0x3c156e;},'serverTimestamp':function(){return a18_0x2c7b72();},'Timestamp':{'now':function(){return a18_0x217e8c['now']();},'fromDate':function(_0x576ca0){const _0x2dde5d=a18_0x4dd3;return a18_0x217e8c[_0x2dde5d(0x80)](_0x576ca0);}},'enableNetwork':async function(){const _0x5c50c5=a18_0x4dd3;try{return await enableNetwork(db);}catch(_0x4d11d6){console[_0x5c50c5(0x8c)]('Failed\x20to\x20enable\x20network:',_0x4d11d6);throw _0x4d11d6;}},'disableNetwork':async function(){try{return await disableNetwork(db);}catch(_0x22b086){console['error']('Failed\x20to\x20disable\x20network:',_0x22b086);throw _0x22b086;}}};function a18_0xee0d(){const _0x2768f6=['fromDate','session-suspended','unavailable','network-error','toString','Network\x20connection\x20error.\x20Please\x20check\x20your\x20internet\x20connection.','Network-related\x20error\x20detected,\x20suspending\x20operations','console','code','{}.constructor(\x22return\x20this\x22)(\x20)','warn','includes','error','trace','prototype','commit','bind','info','log','apply','string','length','message'];a18_0xee0d=function(){return _0x2768f6;};return a18_0xee0d();}function a18_0x4dd3(_0x30dab8,_0x109a56){const _0xd79f1e=a18_0xee0d();return a18_0x4dd3=function(_0x30209b,_0x1a50c2){_0x30209b=_0x30209b-0x80;let _0xee0d6=_0xd79f1e[_0x30209b];return _0xee0d6;},a18_0x4dd3(_0x30dab8,_0x109a56);}window['addEventListener']('error',function(_0x1ab170){const _0x4323aa=a18_0x4dd3;if(_0x1ab170[_0x4323aa(0x8c)]){if(_0x1ab170['error']['code']===_0x4323aa(0x81))_0x1ab170['preventDefault'](),console['log']('Caught\x20session\x20suspended\x20error:',_0x1ab170['error'][_0x4323aa(0x96)]);else(_0x1ab170['error']['code']==='unavailable'||_0x1ab170['error'][_0x4323aa(0x88)]==='resource-exhausted'||_0x1ab170['error']['message']&&_0x1ab170['error']['message'][_0x4323aa(0x8b)]('network')||_0x1ab170[_0x4323aa(0x8c)][_0x4323aa(0x88)]&&_0x1ab170[_0x4323aa(0x8c)]['code'][_0x4323aa(0x8b)]('network'))&&(_0x1ab170['preventDefault'](),console[_0x4323aa(0x92)]('Caught\x20network\x20error:',_0x1ab170[_0x4323aa(0x8c)]['message']),handleNetworkError());}}),window['rdlFirestore']=rdlFirestore,console[a18_0x5169ca(0x92)]('Firestore\x20wrapper\x20initialized\x20with\x20session\x20checking\x20and\x20network\x20error\x20handling');