const a48_0x1429f7=a48_0x3d07,a48_0x16857c=(function(){let _0x5ec5ee=!![];return function(_0x454aba,_0x303056){const _0x3dd99e=_0x5ec5ee?function(){if(_0x303056){const _0x353c2c=_0x303056['apply'](_0x454aba,arguments);return _0x303056=null,_0x353c2c;}}:function(){};return _0x5ec5ee=![],_0x3dd99e;};}()),a48_0x5b54c6=a48_0x16857c(this,function(){const _0x4599f4=a48_0x3d07;let _0x366a50;try{const _0x23aaab=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x366a50=_0x23aaab();}catch(_0xd65710){_0x366a50=window;}const _0x391e6b=_0x366a50['console']=_0x366a50['console']||{},_0x17e653=['log','warn',_0x4599f4(0x219),'error',_0x4599f4(0x20b),'table',_0x4599f4(0x205)];for(let _0x472c2a=0x0;_0x472c2a<_0x17e653[_0x4599f4(0x1f7)];_0x472c2a++){const _0x38af12=a48_0x16857c[_0x4599f4(0x1f4)]['prototype']['bind'](a48_0x16857c),_0x1984cd=_0x17e653[_0x472c2a],_0x8d3b4f=_0x391e6b[_0x1984cd]||_0x38af12;_0x38af12[_0x4599f4(0x254)]=a48_0x16857c['bind'](a48_0x16857c),_0x38af12['toString']=_0x8d3b4f[_0x4599f4(0x21e)]['bind'](_0x8d3b4f),_0x391e6b[_0x1984cd]=_0x38af12;}});a48_0x5b54c6();import{auth,db}from'./firebase-config.js';import{doc,getDoc,setDoc,collection,query,where,getDocs,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const RIBBON_DEFINITIONS={'Rematch\x20Ribbon':{'description':'Beat\x20a\x20pilot\x20with\x20the\x20\x22Rematch\x22\x20subgame\x20selected','image':'../images/ribbons/Rematch.png','color':a48_0x1429f7(0x216)},'Overachiever\x20Ribbon':{'description':a48_0x1429f7(0x26c),'image':'../images/ribbons/Overachiever.png','color':a48_0x1429f7(0x21d),'levels':[0x64,0xc8,0x12c,0x190,0x1f4,0x258,0x2bc,0x320,0x384,0x3e8]},'Brick\x20Wall':{'description':'Amass\x20at\x20least\x2080%\x20overall\x20win\x20rate\x20percentage\x20(minimum\x2050\x20matches)','image':'../images/ribbons/BrickWall.png','color':'#F0932B','levels':[0x50,0x55,0x5a,0x5f,0x64]},'Collector\x20Ribbon':{'description':'Hold\x20more\x20than\x205\x20ribbons\x20at\x20a\x20time','image':'../images/ribbons/Collector.png','color':a48_0x1429f7(0x1fd),'levels':[0x5,0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32]},'Sub-Gamer\x20Ribbon':{'description':'Play\x20over\x2050\x20subgame\x20matches','image':'../images/ribbons/Subgamer.png','color':'#A29BFE','levels':[0x32,0x64,0x96,0xc8,0xfa,0x12c,0x15e,0x190,0x1c2,0x1f4]},'Explorer\x20Ribbon':{'description':'Played\x20at\x20least\x2020\x20unique\x20maps','image':'../images/ribbons/Explorer.png','color':'#55A3FF','levels':[0x14,0x28,0x3c,0x50,0x64,0x78,0x8c,0xa0,0xb4,0xc8]},'Socialite\x20Ribbon':{'description':'Played\x20at\x20least\x2010\x20unique\x20pilots','image':'../images/ribbons/Socialite.png','color':'#FF7675','levels':[0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32,0x37]},'Underdog\x20Ribbon':{'description':'Beat\x20a\x20pilot\x20ranked\x20higher\x20than\x20you','image':a48_0x1429f7(0x1ff),'color':'#FF9500','levels':[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0x9,0xa]},'Domination\x20Ribbon':{'description':'Beat\x205\x20unique\x20pilots\x20in\x20a\x20rank\x20(including\x20your\x20own)','image':'../images/ribbons/Domination.png','color':'#8E44AD','levels':[0x1,0x2,0x3,0x4,0x5]},'Top\x20Bronze\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Bronze\x20rank','image':'../images/ribbons/toprank.png','color':'#CD7F32'},'Top\x20Silver\x20Pilot':{'description':a48_0x1429f7(0x248),'image':a48_0x1429f7(0x20d),'color':'#C0C0C0'},'Top\x20Gold\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Gold\x20rank','image':'../images/ribbons/toprank.png','color':'#FFD700'},'Top\x20Emerald\x20Pilot':{'description':a48_0x1429f7(0x1f6),'image':'../images/ribbons/toprank.png','color':a48_0x1429f7(0x242)}};export const RIBBON_CSS='\x0a/*\x20Stats\x20integration\x20styles\x20*/\x0a.ribbon-section\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-top:\x201rem;\x0a}\x0a\x0a.ribbon-stat-item.full-width\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-bottom:\x200;\x0a}\x0a\x0a/*\x20Military\x20Ribbon\x20Rack\x20Styling\x20-\x20NO\x20OUTER\x20CONTAINER\x20*/\x0a.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20padding:\x200;\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20box-shadow:\x20none;\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20align-items:\x20flex-start;\x0a}\x0a\x0a.ribbon-rack-empty-inline\x20{\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20padding:\x2060px\x2040px;\x0a\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20border-radius:\x2012px;\x0a\x20\x20\x20\x20border:\x202px\x20solid\x20rgba(255,\x20255,\x20255,\x200.1);\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a}\x0a\x0a.empty-rack-text\x20{\x0a\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20font-style:\x20italic;\x0a\x20\x20\x20\x20font-size:\x201.2rem;\x0a}\x0a\x0a/*\x20Ribbon\x20Rows\x20*/\x0a.ribbon-row\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x206px;\x0a\x20\x20\x20\x20margin-bottom:\x206px;\x0a\x20\x20\x20\x20justify-content:\x20flex-start;\x0a}\x0a\x0a.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20margin-left:\x2060px;\x0a}\x0a\x0a/*\x20Individual\x20Military\x20Ribbon\x20Styling\x20-\x20FIXED\x20OVERFLOW\x20FOR\x20LEVEL\x20INDICATOR\x20*/\x0a.military-ribbon\x20{\x0a\x20\x20\x20\x20position:\x20relative;\x0a\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20transition:\x20transform\x200.3s\x20ease;\x0a\x20\x20\x20\x20flex-shrink:\x200;\x0a\x20\x20\x20\x20width:\x20190px;\x0a\x20\x20\x20\x20height:\x2060px;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#333;\x0a\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20overflow:\x20visible;\x20/*\x20Changed\x20from\x20hidden\x20to\x20visible\x20*/\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20margin:\x2012px\x2012px\x2012px\x200;\x20/*\x20Added\x20margin\x20to\x20prevent\x20clipping\x20*/\x0a}\x0a\x0a.military-ribbon:hover\x20{\x0a\x20\x20\x20\x20transform:\x20translateY(-4px);\x0a\x20\x20\x20\x20z-index:\x2010;\x0a}\x0a\x0a/*\x20Ribbon\x20image\x20container\x20to\x20handle\x20the\x20actual\x20overflow\x20*/\x0a.ribbon-image-container\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20border-radius:\x201px;\x0a}\x0a\x0a.ribbon-image\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20object-fit:\x20cover;\x0a\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20image-rendering:\x20crisp-edges;\x0a}\x0a\x0a.ribbon-fallback\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20text-shadow:\x200\x202px\x204px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a}\x0a\x0a.ribbon-name\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.9);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201.2;\x0a\x20\x20\x20\x20margin-top:\x206px;\x0a\x20\x20\x20\x20max-width:\x20120px;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20text-overflow:\x20ellipsis;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20-24px;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20font-weight:\x20500;\x0a}\x0a\x0a.military-ribbon:hover\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20display:\x20block;\x0a}\x0a\x0a.ribbon-devices\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x2050%;\x0a\x20\x20\x20\x20right:\x206px;\x0a\x20\x20\x20\x20transform:\x20translateY(-50%);\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x203px;\x0a\x20\x20\x20\x20z-index:\x205;\x0a}\x0a\x0a.ribbon-device\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20text-shadow:\x200\x200\x204px\x20rgba(0,0,0,0.9);\x0a\x20\x20\x20\x20filter:\x20drop-shadow(0\x202px\x204px\x20rgba(0,0,0,0.8));\x0a}\x0a\x0a.bronze-star\x20{\x0a\x20\x20\x20\x20color:\x20#CD7F32;\x0a}\x0a\x0a.silver-star\x20{\x0a\x20\x20\x20\x20color:\x20#C0C0C0;\x0a}\x0a\x0a.gold-star\x20{\x0a\x20\x20\x20\x20color:\x20#FFD700;\x0a}\x0a\x0a/*\x20Level\x20indicator\x20-\x20NOW\x20FULLY\x20VISIBLE\x20*/\x0a.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x20-8px;\x0a\x20\x20\x20\x20right:\x20-8px;\x0a\x20\x20\x20\x20background:\x20#FFD700;\x0a\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20width:\x2024px;\x0a\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#FFF;\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x208px\x20rgba(0,0,0,0.7);\x0a\x20\x20\x20\x20z-index:\x206;\x0a}\x0a\x0a/*\x20Custom\x20tooltip\x20-\x20only\x20this\x20one\x20will\x20show\x20*/\x0a.military-ribbon::before\x20{\x0a\x20\x20\x20\x20content:\x20attr(data-tooltip);\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20100%;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20background:\x20rgba(0,0,0,0.95);\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20padding:\x208px\x2012px;\x0a\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20pointer-events:\x20none;\x0a\x20\x20\x20\x20transition:\x20opacity\x200.3s;\x0a\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20margin-bottom:\x208px;\x0a\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(255,\x20255,\x20255,\x200.2);\x0a}\x0a\x0a.military-ribbon:hover::before\x20{\x0a\x20\x20\x20\x20opacity:\x201;\x0a}\x0a\x0a/*\x20Responsive\x20adjustments\x20*/\x0a@media\x20(max-width:\x201024px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2034px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x208px\x208px\x208px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-6px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-6px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2052px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-20px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20768px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2028px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x206px\x206px\x206px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x209px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-5px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-5px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2042px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2011px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-18px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x205px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20480px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2070px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x205px\x205px\x205px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2036px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x204px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-4px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-4px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a.stats-grid\x20.ribbon-section\x20{\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20padding:\x200;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20{\x0a\x20\x20\x20\x20background-color:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20padding:\x2025px;\x0a\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20.stat-label\x20{\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20text-transform:\x20uppercase;\x0a\x20\x20\x20\x20opacity:\x200.9;\x0a\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.95);\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a}\x0a\x0a.ribbon-level-indicator.level-1\x20{\x20background:\x20#808080;\x20}\x0a.ribbon-level-indicator.level-2\x20{\x20background:\x20#CD7F32;\x20}\x0a.ribbon-level-indicator.level-3\x20{\x20background:\x20#b9f1fc;\x20}\x0a.ribbon-level-indicator.level-4\x20{\x20background:\x20#FFD700;\x20}\x0a.ribbon-level-indicator.level-5-plus\x20{\x20background:\x20#50C878;\x20}\x0a';class RibbonCacheManager{constructor(){const _0x4371df=a48_0x1429f7;this[_0x4371df(0x204)]=new Map(),this['CACHE_DURATION']=0x3c*0x3c*0x3e8,this['CACHE_KEY_PREFIX']='ribbon_cache_',this['lastCleanup']=Date['now'](),this[_0x4371df(0x233)]=0x1e*0x3c*0x3e8;}['getCacheKey'](_0x49b05c,_0x52ddf4){return''+this['CACHE_KEY_PREFIX']+_0x49b05c+'_'+_0x52ddf4;}['getCachedData'](_0x189333,_0x33259f){const _0x28545b=a48_0x1429f7;this[_0x28545b(0x1f3)]();const _0x343b17=this['getCacheKey'](_0x189333,_0x33259f);if(this[_0x28545b(0x204)]['has'](_0x343b17)){const _0x235b72=this['memoryCache']['get'](_0x343b17);if(Date['now']()-_0x235b72['timestamp']<this['CACHE_DURATION'])return console[_0x28545b(0x210)]('🚀\x20Cache\x20hit\x20(memory)\x20for\x20'+_0x189333),_0x235b72['data'];this['memoryCache']['delete'](_0x343b17);}const _0x2bc438=localStorage['getItem'](_0x343b17);if(_0x2bc438)try{const _0x40e3b0=JSON[_0x28545b(0x24d)](_0x2bc438);if(Date['now']()-_0x40e3b0[_0x28545b(0x22e)]<this['CACHE_DURATION'])return this['memoryCache']['set'](_0x343b17,{'data':_0x40e3b0['ribbons'],'timestamp':_0x40e3b0['timestamp'],'matchCount':_0x40e3b0['matchCount']}),console[_0x28545b(0x210)]('💾\x20Cache\x20hit\x20(localStorage)\x20for\x20'+_0x189333),_0x40e3b0['ribbons'];localStorage['removeItem'](_0x343b17);}catch(_0x197103){localStorage['removeItem'](_0x343b17);}return null;}['setCachedData'](_0x11a91a,_0x4e8d67,_0x3a9f35,_0x3715da){const _0x1db74e=a48_0x1429f7,_0x48faf9=this['getCacheKey'](_0x11a91a,_0x4e8d67),_0x5df2ac=Date['now']();this[_0x1db74e(0x204)][_0x1db74e(0x251)](_0x48faf9,{'data':_0x3a9f35,'timestamp':_0x5df2ac,'matchCount':_0x3715da});try{const _0x32cafc={'ribbons':_0x3a9f35,'matchCount':_0x3715da,'timestamp':_0x5df2ac,'version':0x3};localStorage[_0x1db74e(0x256)](_0x48faf9,JSON['stringify'](_0x32cafc));}catch(_0x1ad53f){this[_0x1db74e(0x247)]();try{localStorage[_0x1db74e(0x256)](_0x48faf9,JSON['stringify'](data));}catch(_0x1dc9ee){}}}['shouldRefreshCache'](_0x5b0c7f,_0x114e13,_0x42ab05){const _0x388e2c=a48_0x1429f7,_0x2c0283=this['getCacheKey'](_0x5b0c7f,_0x114e13);if(this[_0x388e2c(0x204)]['has'](_0x2c0283)){const _0x20b13c=this['memoryCache'][_0x388e2c(0x209)](_0x2c0283);return _0x20b13c['matchCount']!==_0x42ab05;}const _0x5839e0=localStorage['getItem'](_0x2c0283);if(_0x5839e0)try{const _0x3745f0=JSON['parse'](_0x5839e0);return _0x3745f0['matchCount']!==_0x42ab05;}catch(_0x9cf483){return!![];}return!![];}['invalidatePlayerCache'](_0x437335,_0x31d14e){const _0x150f71=a48_0x1429f7,_0x33a7f8=this[_0x150f71(0x220)](_0x437335,_0x31d14e);this['memoryCache']['delete'](_0x33a7f8),localStorage[_0x150f71(0x263)](_0x33a7f8),console['log']('🗑️\x20Invalidated\x20cache\x20for\x20'+_0x437335+'\x20('+_0x31d14e+')\x20-\x20new\x20match\x20detected');}[a48_0x1429f7(0x1f3)](){const _0x4540c5=a48_0x1429f7,_0x27f85a=Date['now']();_0x27f85a-this['lastCleanup']>this[_0x4540c5(0x233)]&&(this['cleanup'](),this[_0x4540c5(0x20c)]=_0x27f85a);}[a48_0x1429f7(0x258)](){const _0x364cf8=a48_0x1429f7,_0x13abd0=Date['now']();let _0x19fa82=0x0,_0x38a38e=0x0;for(const [_0x2cc4c1,_0x520eba]of this[_0x364cf8(0x204)]['entries']()){_0x13abd0-_0x520eba['timestamp']>this['CACHE_DURATION']&&(this[_0x364cf8(0x204)]['delete'](_0x2cc4c1),_0x19fa82++);}for(let _0x1a7ddf=localStorage['length']-0x1;_0x1a7ddf>=0x0;_0x1a7ddf--){const _0x5018ae=localStorage['key'](_0x1a7ddf);if(_0x5018ae&&_0x5018ae[_0x364cf8(0x202)](this['CACHE_KEY_PREFIX']))try{const _0x44d992=JSON[_0x364cf8(0x24d)](localStorage[_0x364cf8(0x226)](_0x5018ae));_0x13abd0-_0x44d992['timestamp']>this['CACHE_DURATION']&&(localStorage['removeItem'](_0x5018ae),_0x38a38e++);}catch(_0x37f1c5){localStorage['removeItem'](_0x5018ae),_0x38a38e++;}}}[a48_0x1429f7(0x247)](){const _0x2d9725=a48_0x1429f7,_0x380973=[];for(let _0xfdde7b=0x0;_0xfdde7b<localStorage['length'];_0xfdde7b++){const _0x50cb35=localStorage['key'](_0xfdde7b);if(_0x50cb35&&_0x50cb35['startsWith'](this[_0x2d9725(0x24e)]))try{const _0x5b9865=JSON[_0x2d9725(0x24d)](localStorage['getItem'](_0x50cb35));_0x380973['push']({'key':_0x50cb35,'timestamp':_0x5b9865[_0x2d9725(0x22e)]});}catch(_0x2c5432){localStorage['removeItem'](_0x50cb35);}}_0x380973['sort']((_0x401c06,_0x3560dc)=>_0x401c06[_0x2d9725(0x22e)]-_0x3560dc['timestamp']);const _0x5e841a=Math['floor'](_0x380973['length']/0x2);for(let _0x851489=0x0;_0x851489<_0x5e841a;_0x851489++){localStorage[_0x2d9725(0x263)](_0x380973[_0x851489]['key']);}}[a48_0x1429f7(0x22f)](){const _0x14449a=a48_0x1429f7;return{'memoryEntries':this[_0x14449a(0x204)][_0x14449a(0x265)],'lastCleanup':new Date(this['lastCleanup'])['toLocaleTimeString']()};}}class MatchCacheManager{constructor(){const _0x14e15b=a48_0x1429f7;this['matchCache']=new Map(),this[_0x14e15b(0x241)]=0xf*0x3c*0x3e8,this['lastCleanup']=Date['now']();}['getCachedMatches'](_0x3b746b,_0x136932){const _0x52b8f4=a48_0x1429f7;this['autoCleanup']();const _0x59bdd3=_0x3b746b+'_'+_0x136932,_0x5254c1=this['matchCache']['get'](_0x59bdd3);if(_0x5254c1&&Date[_0x52b8f4(0x211)]()-_0x5254c1['timestamp']<this['CACHE_DURATION'])return console['log']('🎯\x20Cache\x20hit\x20(matches)\x20for\x20'+_0x3b746b),_0x5254c1[_0x52b8f4(0x21b)];return _0x5254c1&&this['matchCache']['delete'](_0x59bdd3),null;}[a48_0x1429f7(0x1fc)](_0x31d892,_0xad0567,_0x107e03){const _0x50452b=a48_0x1429f7,_0x5b8698=_0x31d892+'_'+_0xad0567;this['matchCache'][_0x50452b(0x251)](_0x5b8698,{'matches':_0x107e03,'timestamp':Date['now']()});}['autoCleanup'](){const _0x329e8c=a48_0x1429f7,_0x108531=Date['now']();if(_0x108531-this['lastCleanup']>0x5*0x3c*0x3e8){let _0x1b3558=0x0;for(const [_0x3e3f23,_0x41fd2c]of this['matchCache'][_0x329e8c(0x25f)]()){_0x108531-_0x41fd2c['timestamp']>this['CACHE_DURATION']&&(this[_0x329e8c(0x21f)][_0x329e8c(0x22c)](_0x3e3f23),_0x1b3558++);}this['lastCleanup']=_0x108531;}}['getCacheStats'](){const _0x2da500=a48_0x1429f7;return{'entries':this['matchCache']['size'],'lastCleanup':new Date(this[_0x2da500(0x20c)])[_0x2da500(0x1ed)]()};}}class RibbonSystem{constructor(){this['pendingEvaluations']=new Map(),this['batchTimer']=null,this['BATCH_DELAY']=0x32,this['playerDataCache']=new Map();}async['bulkLoadPlayerData'](_0x386696,_0x398f91){const _0x57f02c=a48_0x1429f7,_0x383f9c=_0x398f91==='D1'?_0x57f02c(0x229):_0x398f91==='D2'?_0x57f02c(0x232):_0x57f02c(0x1f1),_0x3db7a5=collection(db,_0x383f9c),_0x35a72c=await getDocs(_0x3db7a5),_0x57d63f=new Map();return _0x35a72c['forEach'](_0x2e1d07=>{const _0x59ead8=_0x57f02c,_0x73bbd8=_0x2e1d07['data']();_0x73bbd8['username']&&(_0x73bbd8[_0x59ead8(0x255)]!==undefined&&(_0x73bbd8[_0x59ead8(0x25a)]=_0x73bbd8['eloRating']),_0x57d63f['set'](_0x73bbd8['username'],_0x73bbd8));}),console['log']('📊\x20Bulk\x20loaded\x20'+_0x57d63f['size']+_0x57f02c(0x228)+_0x383f9c),_0x57d63f;}async['evaluateAllRibbonsFromData'](_0x934aa1,_0x545675,_0x3b51ab,_0x460fee){const _0x591a47=a48_0x1429f7,_0x422100={},_0x18661f=_0x545675['username'],_0x2b8291={'totalMatches':_0x934aa1['length'],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0,'dominatedRanks':new Set()},_0x5c4e88=new Set();_0x934aa1['forEach'](_0x46e909=>{const _0x3983d3=a48_0x3d07,_0x29ac74=_0x46e909['winnerUsername']===_0x18661f,_0x494426=_0x29ac74?_0x46e909['loserUsername']:_0x46e909[_0x3983d3(0x203)];if(_0x494426)_0x5c4e88['add'](_0x494426);}),console[_0x591a47(0x210)]('🚀\x20Bulk\x20loading\x20'+_0x5c4e88['size']+'\x20player\x20records\x20for\x20underdog\x20calculations...');const _0x382d0d=await this['bulkLoadPlayerData']([..._0x5c4e88,_0x18661f],_0x460fee),_0x63f69a=_0x382d0d[_0x591a47(0x209)](_0x18661f);!_0x63f69a&&console['log']('⚠️\x20No\x20current\x20player\x20data\x20found\x20for\x20'+_0x18661f);const _0x59f612={0x0:new Set(),0x1:new Set(),0x2:new Set(),0x3:new Set(),0x4:new Set()};_0x934aa1['forEach'](_0x20e657=>{const _0x3f9fb1=_0x591a47,_0x4aff88=_0x20e657['winnerUsername']===_0x18661f,_0x368bd1=_0x4aff88?_0x20e657['loserUsername']:_0x20e657[_0x3f9fb1(0x203)];if(_0x4aff88){_0x2b8291['wins']++;_0x20e657['subgameType']==='Rematch'&&_0x2b8291[_0x3f9fb1(0x227)]++;this[_0x3f9fb1(0x26a)](_0x20e657,_0x18661f,_0x63f69a,_0x382d0d)&&_0x2b8291['underdogWins']++;const _0xfd8802=_0x382d0d['get'](_0x368bd1);if(_0xfd8802){const _0x16f22c=_0xfd8802['eloRating']||0x0,_0x500d3e=getPlayerRankTier(_0x16f22c);_0x59f612[_0x500d3e]['add'](_0x368bd1);}}_0x20e657['subgameType']&&_0x20e657['subgameType']!=='Standard'&&_0x2b8291['subgameMatches']++,_0x20e657['mapPlayed']&&_0x2b8291['uniqueMaps'][_0x3f9fb1(0x264)](_0x20e657['mapPlayed']),_0x368bd1&&_0x2b8291['uniqueOpponents']['add'](_0x368bd1);}),Object['keys'](_0x59f612)['forEach'](_0x548411=>{const _0x2ca102=_0x591a47;_0x59f612[_0x548411][_0x2ca102(0x265)]>=0x5&&_0x2b8291[_0x2ca102(0x22a)]['add'](parseInt(_0x548411));}),console['log'](_0x591a47(0x238)+_0x2b8291['underdogWins']+_0x591a47(0x1fa)+_0x18661f),console['log']('👑\x20Dominated\x20'+_0x2b8291[_0x591a47(0x22a)]['size']+_0x591a47(0x224)+Array[_0x591a47(0x218)](_0x2b8291['dominatedRanks'])['map'](_0x26d266=>getRankTierName(_0x26d266))['join'](',\x20')+']');const _0x3d1571=_0x2b8291[_0x591a47(0x259)]>0x0?_0x2b8291['wins']/_0x2b8291['totalMatches']*0x64:0x0,_0x4e7802=[[_0x591a47(0x266),this['evaluateOverachieverRibbonFromCount'](_0x2b8291[_0x591a47(0x259)],_0x3b51ab)],[_0x591a47(0x244),this[_0x591a47(0x20a)](_0x2b8291['rematchWins'],_0x3b51ab)],['Sub-Gamer\x20Ribbon',this[_0x591a47(0x23c)](_0x2b8291[_0x591a47(0x237)],_0x3b51ab)],['Explorer\x20Ribbon',this['evaluateExplorerRibbonFromCount'](_0x2b8291[_0x591a47(0x23a)][_0x591a47(0x265)],_0x3b51ab)],[_0x591a47(0x212),this[_0x591a47(0x200)](_0x2b8291['uniqueOpponents']['size'],_0x3b51ab)],[_0x591a47(0x236),this['evaluateBrickWallRibbonFromWinRate'](_0x3d1571,_0x3b51ab,_0x2b8291['totalMatches'])],[_0x591a47(0x215),this['evaluateUnderdogRibbonFromCount'](_0x2b8291[_0x591a47(0x1f9)],_0x3b51ab)],[_0x591a47(0x262),this['evaluateDominationRibbonFromRanks'](_0x2b8291[_0x591a47(0x22a)][_0x591a47(0x265)],_0x3b51ab)]];_0x4e7802['forEach'](([_0x4ea996,_0x4f6436])=>{_0x4f6436&&(_0x422100[_0x4ea996]=_0x4f6436);});const _0x28d4b0=Object[_0x591a47(0x246)](_0x3b51ab)[_0x591a47(0x1f7)]+Object['keys'](_0x422100)[_0x591a47(0x1f7)],_0x5cf446=this['evaluateCollectorRibbonFromCount'](_0x28d4b0,_0x3b51ab);return _0x5cf446&&(_0x422100['Collector\x20Ribbon']=_0x5cf446),_0x422100;}[a48_0x1429f7(0x207)](_0xbcfa8a,_0x18dc4d){const _0x4b0813=a48_0x1429f7;if(_0xbcfa8a===0x0)return null;const _0x353ba8=_0x18dc4d['Domination\x20Ribbon']||{'level':0x0};if(_0xbcfa8a>_0x353ba8['level']){const _0x55a281=[];for(let _0x250e37=0x0;_0x250e37<_0xbcfa8a;_0x250e37++){_0x55a281['push'](getRankTierName(_0x250e37));}return console[_0x4b0813(0x210)]('👑\x20Domination\x20Ribbon\x20awarded:\x20Level\x20'+_0x353ba8['level']+_0x4b0813(0x253)+_0xbcfa8a+_0x4b0813(0x243)+_0x55a281[_0x4b0813(0x1f8)](',\x20')+')'),{'level':_0xbcfa8a,'awardedAt':new Date(),'dominatedRanks':_0x55a281};}return null;}async[a48_0x1429f7(0x208)](_0x37d552,_0x2a3306){const _0x38c5cf=a48_0x1429f7;try{const _0x29467a=_0x2a3306==='D1'?_0x38c5cf(0x229):_0x2a3306==='D2'?'playersD2':'playersD3',_0x5349f4=await this[_0x38c5cf(0x222)](_0x37d552,_0x2a3306);if(!_0x5349f4||_0x5349f4['eloRating']===undefined)return console['log'](_0x38c5cf(0x26b)+_0x37d552),null;const _0x4ff172=_0x5349f4['eloRating'],_0xff56c=getPlayerRankTier(_0x4ff172),_0x375c62=getRankTierName(_0xff56c);if(_0x375c62==='Unranked')return console['log']('❌\x20'+_0x37d552+'\x20is\x20Unranked\x20('+_0x4ff172+_0x38c5cf(0x23d)),null;console[_0x38c5cf(0x210)](_0x38c5cf(0x252)+_0x375c62+_0x38c5cf(0x260)+_0x37d552+'\x20('+_0x4ff172+_0x38c5cf(0x23d));const _0x50ff30=collection(db,_0x29467a),_0x57d165=await getDocs(_0x50ff30);let _0x213fbf=null,_0x188054=-0x1,_0x1e0e4e=0x0;_0x57d165[_0x38c5cf(0x1ee)](_0x1ba412=>{const _0x28656d=_0x1ba412['data'](),_0x2247d3=_0x28656d['eloRating']||0x0,_0xae23a6=getPlayerRankTier(_0x2247d3);_0xae23a6===_0xff56c&&(_0x1e0e4e++,_0x2247d3>_0x188054&&(_0x188054=_0x2247d3,_0x213fbf=_0x28656d['username']));});const _0x4ca567=_0x213fbf===_0x37d552;return console['log'](_0x38c5cf(0x20e)+_0x375c62+_0x38c5cf(0x261)+_0x1e0e4e+'\x20players,\x20Top:\x20'+_0x213fbf+'\x20('+_0x188054+'\x20ELO),\x20'+_0x37d552+'\x20is\x20#1:\x20'+_0x4ca567),_0x4ca567?_0x375c62:null;}catch(_0x20262e){return console['error']('Error\x20checking\x20top\x20rank\x20status:',_0x20262e),null;}}async['evaluateTopRankRibbon'](_0x450296,_0x18eb1d,_0x3f199f){const _0xe48b21=a48_0x1429f7,_0x295d5f=await this[_0xe48b21(0x208)](_0x450296,_0x18eb1d),_0x36fc29={};if(_0x295d5f){const _0x3b2a45=_0xe48b21(0x1ec)+_0x295d5f+'\x20Pilot';if(RIBBON_DEFINITIONS[_0x3b2a45]){const _0x3740a0=_0x3f199f[_0x3b2a45];!_0x3740a0?(console[_0xe48b21(0x210)]('👑\x20NEW\x20Top\x20Rank\x20Achievement:\x20'+_0x450296+'\x20earned\x20'+_0x3b2a45+'!'),_0x36fc29[_0x3b2a45]={'level':0x1,'awardedAt':new Date(),'rank':_0x295d5f,'achievedAt':new Date()}):console[_0xe48b21(0x210)]('✅\x20'+_0x450296+'\x20already\x20has\x20'+_0x3b2a45+'\x20-\x20No\x20changes\x20needed');}}return Object['keys'](_0x3f199f)['forEach'](_0x1d6e31=>{_0x1d6e31['startsWith']('Top\x20')&&_0x1d6e31['endsWith']('\x20Pilot')&&(!_0x36fc29[_0x1d6e31]&&console['log']('✅\x20Preserving\x20existing\x20'+_0x1d6e31));}),_0x36fc29;}async['evaluateAllRibbonsForPlayerOptimized'](_0x425ab6,_0x120ad0='D1'){const _0x3f9c8e=a48_0x1429f7;try{const _0x29678e=ribbonCache[_0x3f9c8e(0x1f5)](_0x425ab6,_0x120ad0);if(_0x29678e){const _0x17671d=await this[_0x3f9c8e(0x235)](_0x425ab6,_0x120ad0,_0x29678e);if(Object['keys'](_0x17671d)['length']>0x0){console['log']('🆕\x20New\x20top\x20rank\x20achievements\x20found\x20for\x20cached\x20player\x20'+_0x425ab6),await this['savePlayerRibbonsOptimized'](_0x425ab6,_0x17671d,_0x120ad0);const _0x4b1f10={..._0x29678e,..._0x17671d};return ribbonCache[_0x3f9c8e(0x213)](_0x425ab6,_0x120ad0,_0x4b1f10,0x0),_0x4b1f10;}return _0x29678e;}const [_0x20f25f,_0x39a563]=await Promise['all']([this['getPlayerDataCached'](_0x425ab6,_0x120ad0),this['getPlayerRibbonsCached'](_0x425ab6,_0x120ad0)]);if(!_0x20f25f)return{};const _0x2cf576=_0x20f25f['matchesPlayed']||0x0,_0x36bd05=await this[_0x3f9c8e(0x235)](_0x425ab6,_0x120ad0,_0x39a563);if(!ribbonCache[_0x3f9c8e(0x267)](_0x425ab6,_0x120ad0,_0x2cf576)){if(Object[_0x3f9c8e(0x246)](_0x36bd05)['length']>0x0){await this[_0x3f9c8e(0x22d)](_0x425ab6,_0x36bd05,_0x120ad0);const _0xfde990={..._0x39a563,..._0x36bd05};return ribbonCache['setCachedData'](_0x425ab6,_0x120ad0,_0xfde990,_0x2cf576),_0xfde990;}return ribbonCache['setCachedData'](_0x425ab6,_0x120ad0,_0x39a563,_0x2cf576),_0x39a563;}const _0x5bddd5=await this[_0x3f9c8e(0x1f0)](_0x425ab6,_0x120ad0),_0x11d34d=await this['evaluateAllRibbonsFromData'](_0x5bddd5,_0x20f25f,_0x39a563,_0x120ad0);Object[_0x3f9c8e(0x225)](_0x11d34d,_0x36bd05);Object['keys'](_0x11d34d)['length']>0x0&&(console['log'](_0x3f9c8e(0x240)+Object['keys'](_0x11d34d)[_0x3f9c8e(0x1f7)]+'\x20new/updated\x20ribbons\x20for\x20'+_0x425ab6),await this[_0x3f9c8e(0x22d)](_0x425ab6,_0x11d34d,_0x120ad0));const _0x3568d5={..._0x39a563,..._0x11d34d};return ribbonCache['setCachedData'](_0x425ab6,_0x120ad0,_0x3568d5,_0x5bddd5[_0x3f9c8e(0x1f7)]),_0x3568d5;}catch(_0x3f23fc){return console['error']('❌\x20Error\x20in\x20ribbon\x20evaluation:',_0x3f23fc),{};}}async[a48_0x1429f7(0x230)](_0x267b9c,_0x572fe5,_0x253a97){const _0x4d03e6=a48_0x1429f7,_0x2ff27a=_0x267b9c['winnerUsername']===_0x572fe5;if(!_0x2ff27a)return![];const _0x104fb3=_0x267b9c['loserUsername'],[_0xa1ca30,_0xf45ec6]=await Promise[_0x4d03e6(0x24c)]([this['getPlayerDataCached'](_0x572fe5,_0x253a97),this['getPlayerDataCached'](_0x104fb3,_0x253a97)]);if(!_0xa1ca30||!_0xf45ec6)return console['log']('⚠️\x20Missing\x20player\x20data\x20for\x20'+_0x572fe5+_0x4d03e6(0x20f)+_0x104fb3),![];const _0x22b7f8=_0xa1ca30[_0x4d03e6(0x255)]||0x0,_0x3dfd07=_0xf45ec6[_0x4d03e6(0x255)]||0x0,_0x33ed65=getPlayerRankTier(_0x22b7f8),_0x3d2950=getPlayerRankTier(_0x3dfd07);console['log']('🔍\x20Checking\x20underdog:\x20Winner('+_0x572fe5+_0x4d03e6(0x1fb)+_0x22b7f8+'\x20ELO\x20('+getRankTierName(_0x33ed65)+')\x20vs\x20Loser('+_0x104fb3+'):\x20'+_0x3dfd07+'\x20ELO\x20('+getRankTierName(_0x3d2950)+')');if(_0x3d2950>_0x33ed65)return console[_0x4d03e6(0x210)]('🎯\x20UNDERDOG\x20VICTORY:\x20'+getRankTierName(_0x33ed65)+'\x20beat\x20'+getRankTierName(_0x3d2950)+'!'),!![];return console[_0x4d03e6(0x210)]('❌\x20Not\x20underdog:\x20'+getRankTierName(_0x33ed65)+'\x20vs\x20'+getRankTierName(_0x3d2950)),![];}['isUnderdogVictoryFast'](_0x4a68e6,_0x50a694,_0x51fa3c,_0x1189cd){const _0x4b943f=a48_0x1429f7,_0x37ed09=_0x4a68e6['winnerUsername']===_0x50a694;if(!_0x37ed09)return![];const _0x7a5479=_0x4a68e6[_0x4b943f(0x269)],_0x1b984d=_0x1189cd['get'](_0x7a5479);if(!_0x51fa3c||!_0x1b984d)return![];const _0x5664c3=_0x51fa3c['eloRating']||0x0,_0x25aa21=_0x1b984d['eloRating']||0x0,_0x14f419=getPlayerRankTier(_0x5664c3),_0x26fbad=getPlayerRankTier(_0x25aa21);if(_0x26fbad>_0x14f419)return console['log']('🎯\x20UNDERDOG:\x20'+getRankTierName(_0x14f419)+'('+_0x5664c3+')\x20beat\x20'+getRankTierName(_0x26fbad)+'('+_0x25aa21+')'),!![];return![];}async['evaluateAllRibbonsFromData'](_0x450b0f,_0x1d42a9,_0x158c6c,_0x1b877c){const _0x3ac0e4=a48_0x1429f7,_0x1a4fc3={},_0x50f18e=_0x1d42a9['username'],_0x11f2b2={'totalMatches':_0x450b0f[_0x3ac0e4(0x1f7)],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0},_0x4648a4=new Set();_0x450b0f['forEach'](_0x2cf24a=>{const _0x2b4ce1=_0x3ac0e4,_0x437341=_0x2cf24a[_0x2b4ce1(0x203)]===_0x50f18e,_0x4965a=_0x437341?_0x2cf24a[_0x2b4ce1(0x269)]:_0x2cf24a['winnerUsername'];if(_0x4965a)_0x4648a4['add'](_0x4965a);}),console[_0x3ac0e4(0x210)]('🚀\x20Bulk\x20loading\x20'+_0x4648a4[_0x3ac0e4(0x265)]+'\x20player\x20records\x20for\x20underdog\x20calculations...');const _0x52caab=await this['bulkLoadPlayerData']([..._0x4648a4,_0x50f18e],_0x1b877c),_0x4b0551=_0x52caab['get'](_0x50f18e);!_0x4b0551&&console[_0x3ac0e4(0x210)]('⚠️\x20No\x20current\x20player\x20data\x20found\x20for\x20'+_0x50f18e);_0x450b0f['forEach'](_0x424413=>{const _0x45a947=_0x3ac0e4,_0x109214=_0x424413[_0x45a947(0x203)]===_0x50f18e,_0x5a7b2e=_0x109214?_0x424413['loserUsername']:_0x424413['winnerUsername'];_0x109214&&(_0x11f2b2['wins']++,_0x424413['subgameType']==='Rematch'&&_0x11f2b2['rematchWins']++,this[_0x45a947(0x26a)](_0x424413,_0x50f18e,_0x4b0551,_0x52caab)&&_0x11f2b2[_0x45a947(0x1f9)]++),_0x424413[_0x45a947(0x23b)]&&_0x424413['subgameType']!==_0x45a947(0x1fe)&&_0x11f2b2['subgameMatches']++,_0x424413['mapPlayed']&&_0x11f2b2['uniqueMaps'][_0x45a947(0x264)](_0x424413[_0x45a947(0x1f2)]),_0x5a7b2e&&_0x11f2b2['uniqueOpponents']['add'](_0x5a7b2e);}),console['log'](_0x3ac0e4(0x238)+_0x11f2b2['underdogWins']+'\x20underdog\x20victories\x20for\x20'+_0x50f18e);const _0x1e9b30=_0x11f2b2['totalMatches']>0x0?_0x11f2b2['wins']/_0x11f2b2['totalMatches']*0x64:0x0,_0x35a435=[['Overachiever\x20Ribbon',this['evaluateOverachieverRibbonFromCount'](_0x11f2b2[_0x3ac0e4(0x259)],_0x158c6c)],['Rematch\x20Ribbon',this[_0x3ac0e4(0x20a)](_0x11f2b2['rematchWins'],_0x158c6c)],[_0x3ac0e4(0x24b),this['evaluateSubGamerRibbonFromCount'](_0x11f2b2[_0x3ac0e4(0x237)],_0x158c6c)],[_0x3ac0e4(0x1ef),this['evaluateExplorerRibbonFromCount'](_0x11f2b2['uniqueMaps'][_0x3ac0e4(0x265)],_0x158c6c)],['Socialite\x20Ribbon',this[_0x3ac0e4(0x200)](_0x11f2b2['uniqueOpponents'][_0x3ac0e4(0x265)],_0x158c6c)],['Brick\x20Wall',this['evaluateBrickWallRibbonFromWinRate'](_0x1e9b30,_0x158c6c,_0x11f2b2[_0x3ac0e4(0x259)])],['Underdog\x20Ribbon',this['evaluateUnderdogRibbonFromCount'](_0x11f2b2['underdogWins'],_0x158c6c)]];_0x35a435['forEach'](([_0x433d86,_0x5d5971])=>{_0x5d5971&&(_0x1a4fc3[_0x433d86]=_0x5d5971);});const _0x1199a3=Object['keys'](_0x158c6c)['length']+Object['keys'](_0x1a4fc3)['length'],_0x4e345c=this['evaluateCollectorRibbonFromCount'](_0x1199a3,_0x158c6c);return _0x4e345c&&(_0x1a4fc3['Collector\x20Ribbon']=_0x4e345c),_0x1a4fc3;}async['getPlayerMatchesOptimized'](_0x3536f6,_0x46c5cf){const _0x84751e=a48_0x1429f7,_0x1a7207=matchCache['getCachedMatches'](_0x3536f6,_0x46c5cf);if(_0x1a7207)return _0x1a7207;try{const _0x1c7785=_0x46c5cf==='D1'?'approvedMatches':_0x46c5cf==='D2'?'approvedMatchesD2':_0x84751e(0x231),_0x5d999f=collection(db,_0x1c7785),[_0x16ec03,_0x2a9c48]=await Promise[_0x84751e(0x24c)]([getDocs(query(_0x5d999f,where('winnerUsername','==',_0x3536f6))),getDocs(query(_0x5d999f,where('loserUsername','==',_0x3536f6)))]),_0x3b7e73=new Set(),_0x46a38e=[];return _0x16ec03[_0x84751e(0x1ee)](_0x3a5ba9=>{const _0x9e07ca=_0x84751e;if(!_0x3b7e73['has'](_0x3a5ba9['id'])){_0x3b7e73[_0x9e07ca(0x264)](_0x3a5ba9['id']);const _0x1521cd={'id':_0x3a5ba9['id'],..._0x3a5ba9['data']()};if(!_0x1521cd['winnerRating'])_0x1521cd['winnerRating']=0x0;if(!_0x1521cd['loserRating'])_0x1521cd[_0x9e07ca(0x234)]=0x0;_0x46a38e['push'](_0x1521cd);}}),_0x2a9c48[_0x84751e(0x1ee)](_0x2bdeec=>{const _0x3a35b7=_0x84751e;if(!_0x3b7e73[_0x3a35b7(0x249)](_0x2bdeec['id'])){_0x3b7e73[_0x3a35b7(0x264)](_0x2bdeec['id']);const _0x554d04={'id':_0x2bdeec['id'],..._0x2bdeec[_0x3a35b7(0x21a)]()};if(!_0x554d04['winnerRating'])_0x554d04['winnerRating']=0x0;if(!_0x554d04['loserRating'])_0x554d04['loserRating']=0x0;_0x46a38e['push'](_0x554d04);}}),matchCache['setCachedMatches'](_0x3536f6,_0x46c5cf,_0x46a38e),_0x46a38e;}catch(_0x58e9da){return console['error'](_0x84751e(0x25c),_0x58e9da),[];}}async['getPlayerDataCached'](_0x17daee,_0x5517ee){const _0x160844=a48_0x1429f7;try{const _0x125da3=_0x5517ee==='D1'?_0x160844(0x229):_0x5517ee==='D2'?'playersD2':'playersD3',_0x236f2c=collection(db,_0x125da3),_0x2fa0e0=query(_0x236f2c,where('username','==',_0x17daee),limit(0x1)),_0x148bbd=await getDocs(_0x2fa0e0);if(_0x148bbd['empty'])return console['log']('❌\x20No\x20player\x20data\x20found\x20for\x20'+_0x17daee+'\x20in\x20'+_0x125da3),null;const _0x12d099=_0x148bbd['docs'][0x0]['data']();return _0x12d099[_0x160844(0x255)]!==undefined&&(_0x12d099['rating']=_0x12d099[_0x160844(0x255)]),console[_0x160844(0x210)](_0x160844(0x250)+_0x17daee+':\x20ELO\x20'+_0x12d099['eloRating']+',\x20Position\x20'+_0x12d099['position']),_0x12d099;}catch(_0x2cb6bf){return console['error']('Error\x20getting\x20player\x20data\x20for\x20'+_0x17daee+':',_0x2cb6bf),null;}}async[a48_0x1429f7(0x221)](_0x2a5770,_0x10839c){const _0x71f524=a48_0x1429f7;try{const _0x10989e='playerRibbons'+(_0x10839c==='D1'?'':_0x10839c),_0x2415e1=doc(db,_0x10989e,_0x2a5770),_0xff5446=await getDoc(_0x2415e1);return _0xff5446['exists']()?_0xff5446['data']()['ribbons']||{}:{};}catch(_0x37d392){return console['error'](_0x71f524(0x239),_0x37d392),{};}}async['savePlayerRibbonsOptimized'](_0x202c68,_0x2e8cd1,_0x3f0f84){try{const _0x5257a3='playerRibbons'+(_0x3f0f84==='D1'?'':_0x3f0f84),_0x3264b4=doc(db,_0x5257a3,_0x202c68),_0x335f91=await this['getPlayerRibbonsCached'](_0x202c68,_0x3f0f84),_0x2fb680={..._0x335f91,..._0x2e8cd1};await setDoc(_0x3264b4,{'username':_0x202c68,'ladder':_0x3f0f84,'ribbons':_0x2fb680,'lastUpdated':new Date()},{'merge':!![]});}catch(_0x41c811){console['error']('Error\x20saving\x20ribbons:',_0x41c811);}}['evaluateOverachieverRibbonFromCount'](_0x47a1b6,_0x21c245){const _0x5c0bab=a48_0x1429f7,_0x41f562=_0x21c245['Overachiever\x20Ribbon']||{'level':0x0},_0x553259=RIBBON_DEFINITIONS['Overachiever\x20Ribbon']['levels'],_0x30d7f6=_0x553259['findIndex'](_0x5a0972=>_0x47a1b6<_0x5a0972),_0x2443df=_0x30d7f6===-0x1?_0x553259[_0x5c0bab(0x1f7)]:_0x30d7f6;if(_0x2443df>_0x41f562['level'])return{'level':_0x2443df,'awardedAt':new Date()};return null;}['evaluateRematchRibbonFromCount'](_0xb4bda7,_0x328692){const _0x2b273d=a48_0x1429f7;if(_0xb4bda7===0x0)return null;const _0x1dd58f=_0x328692['Rematch\x20Ribbon']||{'level':0x0};if(_0xb4bda7>_0x1dd58f[_0x2b273d(0x23e)])return{'level':_0xb4bda7,'awardedAt':new Date()};return null;}['evaluateSubGamerRibbonFromCount'](_0x53d31f,_0x201fcf){const _0x28b303=a48_0x1429f7,_0x496818=_0x201fcf[_0x28b303(0x24b)]||{'level':0x0},_0x285e3a=RIBBON_DEFINITIONS['Sub-Gamer\x20Ribbon']['levels'],_0x5d07bd=_0x285e3a['findIndex'](_0x2d7e28=>_0x53d31f<_0x2d7e28),_0x297687=_0x5d07bd===-0x1?_0x285e3a[_0x28b303(0x1f7)]:_0x5d07bd;if(_0x297687>_0x496818['level'])return{'level':_0x297687,'awardedAt':new Date()};return null;}[a48_0x1429f7(0x206)](_0xc50ab6,_0x5b6ea0){const _0x5a7933=a48_0x1429f7,_0x47aa2b=_0x5b6ea0[_0x5a7933(0x1ef)]||{'level':0x0},_0x3142ed=RIBBON_DEFINITIONS['Explorer\x20Ribbon']['levels'],_0x4c675f=_0x3142ed['findIndex'](_0x31c754=>_0xc50ab6<_0x31c754),_0x2399d2=_0x4c675f===-0x1?_0x3142ed['length']:_0x4c675f;if(_0x2399d2>_0x47aa2b['level'])return{'level':_0x2399d2,'awardedAt':new Date()};return null;}[a48_0x1429f7(0x200)](_0x12d0be,_0x4e9a83){const _0x24fdef=_0x4e9a83['Socialite\x20Ribbon']||{'level':0x0},_0x550cf5=RIBBON_DEFINITIONS['Socialite\x20Ribbon']['levels'],_0x2fac71=_0x550cf5['findIndex'](_0x49c055=>_0x12d0be<_0x49c055),_0x16207f=_0x2fac71===-0x1?_0x550cf5['length']:_0x2fac71;if(_0x16207f>_0x24fdef['level'])return{'level':_0x16207f,'awardedAt':new Date()};return null;}[a48_0x1429f7(0x214)](_0x1efc9e,_0x2ea032,_0x43d5e4){const _0x4b929b=a48_0x1429f7;if(_0x43d5e4<0x32)return console[_0x4b929b(0x210)]('⚠️\x20Brick\x20Wall\x20ribbon\x20requires\x2050+\x20matches\x20(player\x20has\x20'+_0x43d5e4+')'),null;const _0x341fce=_0x2ea032['Brick\x20Wall']||{'level':0x0},_0xdd6442=RIBBON_DEFINITIONS['Brick\x20Wall']['levels'],_0x46d746=_0xdd6442['findIndex'](_0x37c3de=>_0x1efc9e<_0x37c3de),_0x2ecb6c=_0x46d746===-0x1?_0xdd6442['length']:_0x46d746;if(_0x2ecb6c>_0x341fce[_0x4b929b(0x23e)])return console['log']('🏆\x20Brick\x20Wall\x20ribbon\x20awarded:\x20'+_0x1efc9e[_0x4b929b(0x22b)](0x1)+'%\x20win\x20rate\x20over\x20'+_0x43d5e4+_0x4b929b(0x223)),{'level':_0x2ecb6c,'awardedAt':new Date(),'winRate':_0x1efc9e,'matchesPlayed':_0x43d5e4};return null;}['evaluateCollectorRibbonFromCount'](_0xa12a1e,_0x8d396f){const _0x299de0=a48_0x1429f7,_0x3e9b3f=_0x8d396f[_0x299de0(0x23f)]||{'level':0x0},_0x47b71e=RIBBON_DEFINITIONS['Collector\x20Ribbon'][_0x299de0(0x201)],_0x129df6=_0x47b71e['findIndex'](_0x5ba47b=>_0xa12a1e<_0x5ba47b),_0x2b207b=_0x129df6===-0x1?_0x47b71e['length']:_0x129df6;if(_0x2b207b>_0x3e9b3f['level'])return{'level':_0x2b207b,'awardedAt':new Date()};return null;}[a48_0x1429f7(0x1eb)](_0x32afdf,_0x30f9af){const _0x585bb6=a48_0x1429f7;if(_0x32afdf===0x0)return null;const _0x165c0c=_0x30f9af[_0x585bb6(0x215)]||{'level':0x0},_0x3b9c8b=RIBBON_DEFINITIONS['Underdog\x20Ribbon']['levels'];let _0x28de97=0x0;for(let _0x3f0e2a=0x0;_0x3f0e2a<_0x3b9c8b['length'];_0x3f0e2a++){if(_0x32afdf>=_0x3b9c8b[_0x3f0e2a])_0x28de97=_0x3f0e2a+0x1;else break;}if(_0x28de97>_0x165c0c[_0x585bb6(0x23e)])return console['log']('🏆\x20Underdog\x20Ribbon\x20upgrade:\x20Level\x20'+_0x165c0c[_0x585bb6(0x23e)]+_0x585bb6(0x253)+_0x28de97+'\x20('+_0x32afdf+_0x585bb6(0x217)),{'level':_0x28de97,'awardedAt':new Date()};return null;}}function getPlayerRankTier(_0x4e2ec0){if(_0x4e2ec0===undefined||_0x4e2ec0===null)return 0x0;const _0x912b0a=Number(_0x4e2ec0);if(isNaN(_0x912b0a))return 0x0;if(_0x912b0a>=0x7d0)return 0x4;if(_0x912b0a>=0x708)return 0x3;if(_0x912b0a>=0x640)return 0x2;if(_0x912b0a>=0x578)return 0x1;return 0x0;}function getRankTierName(_0x372673){const _0x2f4402=a48_0x1429f7,_0x2ec711=['Unranked','Bronze',_0x2f4402(0x257),'Gold','Emerald'];return _0x2ec711[_0x372673]||'Unranked';}const ribbonSystem=new RibbonSystem(),ribbonCache=new RibbonCacheManager(),matchCache=new MatchCacheManager();function a48_0x3d07(_0x4880ad,_0x3ad04c){const _0x5b54c6=a48_0x21f8();return a48_0x3d07=function(_0x16857c,_0x25e781){_0x16857c=_0x16857c-0x1eb;let _0x21f83a=_0x5b54c6[_0x16857c];return _0x21f83a;},a48_0x3d07(_0x4880ad,_0x3ad04c);}function a48_0x21f8(){const _0x2a24b8=['evaluateUnderdogRibbonFromCount','Top\x20','toLocaleTimeString','forEach','Explorer\x20Ribbon','getPlayerMatchesOptimized','playersD3','mapPlayed','autoCleanup','constructor','getCachedData','Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Emerald\x20rank','length','join','underdogWins','\x20underdog\x20victories\x20for\x20','):\x20','setCachedMatches','#6C5CE7','Standard','../images/ribbons/Underdog.png','evaluateSocialiteRibbonFromCount','levels','startsWith','winnerUsername','memoryCache','trace','evaluateExplorerRibbonFromCount','evaluateDominationRibbonFromRanks','checkTopRankStatus','get','evaluateRematchRibbonFromCount','exception','lastCleanup','../images/ribbons/toprank.png','📊\x20','\x20or\x20','log','now','Socialite\x20Ribbon','setCachedData','evaluateBrickWallRibbonFromWinRate','Underdog\x20Ribbon','#FF6B6B','\x20underdog\x20wins)','from','info','data','matches','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#96CEB4','toString','matchCache','getCacheKey','getPlayerRibbonsCached','getPlayerDataCached','\x20matches','\x20ranks:\x20[','assign','getItem','rematchWins','\x20players\x20from\x20','players','dominatedRanks','toFixed','delete','savePlayerRibbonsOptimized','timestamp','getCacheStats','isUnderdogVictory','approvedMatchesD3','playersD2','CLEANUP_INTERVAL','loserRating','evaluateTopRankRibbon','Brick\x20Wall','subgameMatches','🎯\x20Found\x20','Error\x20getting\x20player\x20ribbons:','uniqueMaps','subgameType','evaluateSubGamerRibbonFromCount','\x20ELO)','level','Collector\x20Ribbon','💾\x20Saving\x20','CACHE_DURATION','#50C878','\x20(Dominated:\x20','Rematch\x20Ribbon','level-1','keys','clearOldCache','Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Silver\x20rank','has','push','Sub-Gamer\x20Ribbon','all','parse','CACHE_KEY_PREFIX','replace','✅\x20Found\x20player\x20data\x20for\x20','set','🔍\x20Checking\x20Top\x20','\x20→\x20','__proto__','eloRating','setItem','Silver','cleanup','totalMatches','rating','<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20silver-star\x22></i>','❌\x20Error\x20fetching\x20matches:','level-5-plus','</div>','entries','\x20status\x20for\x20','\x20Tier:\x20','Domination\x20Ribbon','removeItem','add','size','Overachiever\x20Ribbon','shouldRefreshCache','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','loserUsername','isUnderdogVictoryFast','❌\x20No\x20ELO\x20rating\x20data\x20for\x20','Played\x20over\x20100\x20matches'];a48_0x21f8=function(){return _0x2a24b8;};return a48_0x21f8();}typeof window!=='undefined'&&(window['getRibbonCacheStats']=()=>{return{'ribbon':ribbonCache['getCacheStats'](),'match':matchCache['getCacheStats']()};});export async function evaluatePlayerRibbons(_0x12da5c,_0x119432='D1'){return await ribbonSystem['evaluateAllRibbonsForPlayerOptimized'](_0x12da5c,_0x119432);}export function getRibbonHTML(_0x45ef36,_0x3879d6){const _0x237647=a48_0x1429f7,_0x537ff2=RIBBON_DEFINITIONS[_0x45ef36];if(!_0x537ff2)return'';const _0x4925a5=_0x3879d6['level']||0x1,_0x4cf133=_0x45ef36['replace']('\x20Ribbon','')[_0x237647(0x24f)]('\x20Badge',''),_0x5ce6c2=_0x1e3e2f=>{const _0x5614b3=_0x237647;if(_0x1e3e2f<=0x1)return _0x5614b3(0x245);if(_0x1e3e2f<=0x2)return'level-2';if(_0x1e3e2f<=0x3)return'level-3';if(_0x1e3e2f<=0x4)return'level-4';return _0x5614b3(0x25d);},_0x3ed240=_0x500a0b=>{const _0x27f8cf=_0x237647;if(_0x500a0b<=0x1)return'';const _0x58fb13=[];if(_0x500a0b>=0x2&&_0x500a0b<=0x4){const _0x3666a2=Math['min'](_0x500a0b-0x1,0x3);for(let _0x19a402=0x0;_0x19a402<_0x3666a2;_0x19a402++){_0x58fb13['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>');}}if(_0x500a0b>=0x5&&_0x500a0b<=0x7){_0x58fb13[_0x27f8cf(0x24a)](_0x27f8cf(0x25b));const _0x120ca1=Math['min'](_0x500a0b-0x5,0x2);for(let _0x586c2a=0x0;_0x586c2a<_0x120ca1;_0x586c2a++){_0x58fb13['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>');}}return _0x500a0b>=0x8&&_0x58fb13['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20gold-star\x22></i>'),_0x58fb13['length']>0x0?'<div\x20class=\x22ribbon-devices\x22>'+_0x58fb13['join']('')+_0x27f8cf(0x25e):'';},_0x335995=_0x537ff2['description']+'\x20-\x20Level\x20'+_0x4925a5;return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22military-ribbon\x22\x20data-tooltip=\x22'+_0x335995+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-image-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22'+_0x537ff2['image']+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22'+_0x45ef36+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22ribbon-image\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27;\x20this.nextElementSibling.style.display=\x27block\x27;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-fallback\x22\x20style=\x22display:\x20none;\x20background:\x20'+_0x537ff2['color']+';\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4cf133['substring'](0x0,0x6)+_0x237647(0x21c)+_0x3ed240(_0x4925a5)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-name\x22>'+_0x4cf133+_0x237647(0x268)+(_0x4925a5>0x1?'<div\x20class=\x22ribbon-level-indicator\x20'+_0x5ce6c2(_0x4925a5)+'\x22>'+_0x4925a5+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}