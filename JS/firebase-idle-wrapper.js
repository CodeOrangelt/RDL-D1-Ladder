const a19n=a19b;function a19a(){const E=['zgvSzxrLrg9JDw1LBNq','y29Kzq','zgvSzxrL','BgLZDgvUzxjF','mJyXnJaWngLsBKzRtG','x3n1C3bLBMrLzeXPC3rLBMvYCW','w0zPCMvIyxnLswrSzv0GrxjYB3iGCMvZDw1PBMCGBgLZDgvUzxi6','rMLYzwjHC2u6ifn1C3bLBMrLza','nJi4otGWme1cwMXwuq','CxvLCNK','DxbKyxrLrg9JDw1LBNq','mZvAsuD5B0W','CgvUzgLUz09WzxjHDgLVBNm','C2fMzu9WzxjHDgLVBG','yMXVy2TLze9WzxjHDgLVBNm','zxHLy3v0zvbLBMrPBMDpCgvYyxrPB25Z','zMLYzwjHC2uTC3vZCgvUzc1PBMrPy2f0B3i','zgvIDwC','ig9WzxjHDgLVBG','uKrmx1nfu1njt05Fu1vtuevoreve','mZqYqKH2AMHf','w0zPCMvIyxnLswrSzv0GtgLZDgvUzxjZihjLC3vTzwq','CgvUzgLUz1rPBwvVDxq','zgL2','ywn0AxzLtgLZDgvUzxjZ','y3jLyxrLtgLZDgvUzxi','w0zPCMvIyxnLswrSzv0Gt3bLCMf0Aw9UigjSB2nRzwqGlsbZzxnZAw9UigLKBgu','zw5HyMXLza','w0zPCMvIyxnLswrSzv0Gq2fUBM90ihjLC3vTzsbSAxn0zw5LCIbKAxjLy3rSEtO','mtCYotKZnLr1wNvLwG','Bg9N','mta2nZeYmtLkreP3s0i','C3vIC3rY','ywrK','mJG0nJG2menjv2LRzq','C2L6zq','zM9YrwfJAa','ywXS','zxjYB3i','w0zPCMvIyxnLswrSzv0GrxjYB3iGy3jLyxrPBMCGBgLZDgvUzxiG','Aw5JBhvKzxm','BMv0D29YAW','CMfUzg9T','zMLUywXSEq','oduXode3DuXoyMHw','yxjNCW','C2v0','rxjYB3iGzxHLy3v0Aw5NihbLBMrPBMCGB3bLCMf0Aw9UoG','DxbKyxrL','z2v0','z2v0rg9JDw1LBNq','y3nZvgv4Da','B3bLCMf0Aw9UvhLWzq','ig9WzxjHDgLVBNm6ia','rxHLy3v0Aw5NihbLBMrPBMCG','w0zPCMvIyxnLswrSzv0Gq3jLyxrPBMCGBgLZDgvUzxi6ia','odKZmZvcr1vcz2S','C2v0rg9JDw1LBNq','m2j6vM5mEa','BM93','y2XLyxi','Dw5HDMfPBgfIBgu','zgLZywjSzwq','w0zPCMvIyxnLswrSzv0GuMvZDw1PBMCGBgLZDgvUzxjZoG','w0zPCMvIyxnLswrSzv0Gu2vZC2LVBIbZDxnWzw5KzwqSig5VDcbJCMvHDgLUzYbSAxn0zw5LCJOG','D2fYBG','w0zPCMvIyxnLswrSzv0Gu3vZCgvUzgLUzYbHBgWGywn0AxzLigXPC3rLBMvYCZO','C3vZCgvUzefSBeXPC3rLBMvYCW','CMvZDw1LqwXStgLZDgvUzxjZ','yxbWzw5Kq2HPBgq','C3vZCgvUzfnLC3nPB24','C3vIC3rYAw5N'];a19a=function(){return E;};return a19a();}(function(a,b){const i=a19b,c=a();while(!![]){try{const d=-parseInt(i(0x1f6))/0x1+parseInt(i(0x1ec))/0x2+parseInt(i(0x204))/0x3*(parseInt(i(0x216))/0x4)+-parseInt(i(0x202))/0x5*(parseInt(i(0x226))/0x6)+parseInt(i(0x21d))/0x7*(parseInt(i(0x1e7))/0x8)+-parseInt(i(0x1e9))/0x9+parseInt(i(0x21a))/0xa;if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a19a,0xb2a2e));import{auth,db}from'./firebase-config.js';import{handleNetworkError}from'./idle-timeout.js';import{getDoc,getDocs,collection,doc,query,where,orderBy,limit,startAfter,addDoc,setDoc,updateDoc,deleteDoc,onSnapshot,getCountFromServer,writeBatch,serverTimestamp,Timestamp}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';class FirebaseIdleWrapper{constructor(){const j=a19b;this[j(0x22a)]=new Map(),this[j(0x21e)]=new Map(),this['pendingTimeout']=null,this['blockedOperations']=0x0,this[j(0x223)]=![];}['checkSessionActive'](){const k=a19b;if(window[k(0x225)]===!![])return console[k(0x1e8)](k(0x22c)),this['blockedOperations']=(this['blockedOperations']||0x0)+0x1,this[k(0x220)]%0xa===0x0&&console['warn']('[FirebaseIdle]\x20Blocked\x20'+this['blockedOperations']+'\x20operations\x20during\x20idle\x20state'),![];if(window['RDL_NETWORK_ERROR']===!![])return console[k(0x1e8)]('[FirebaseIdle]\x20Operation\x20blocked\x20-\x20network\x20error'),![];return!![];}async['safeOperation'](a,b,...c){const l=a19b;if(!this['checkSessionActive']()){const d=b+'-'+Date['now']()+'-'+Math['random']()['toString'](0x24)[l(0x211)](0x2,0x9);return this['pendingOperations'][l(0x1f8)](d,{'operation':a,'operationType':b,'args':c}),!this[l(0x228)]&&(this['pendingTimeout']=setTimeout(()=>{const m=l;this['pendingOperations'][m(0x206)](),this['pendingTimeout']=null;},0x5*0x3c*0x3e8)),null;}try{return await a(...c);}catch(e){if(e[l(0x213)]===l(0x207)||e['code']==='resource-exhausted'||e['message']&&e['message'][l(0x1f2)](l(0x1f3)))return handleNetworkError(),null;throw e;}}async[a19n(0x1fc)](a){const o=a19n;return this['safeOperation'](getDoc,o(0x1fb),a);}async['getDocuments'](a){const p=a19n;return this['safeOperation'](getDocs,p(0x21b),a);}async['addDocument'](a,b){const q=a19n;return this['safeOperation'](addDoc,q(0x1eb),a,b);}async[a19n(0x203)](a,b,c={}){const r=a19n;return this[r(0x21f)](setDoc,'set',a,b,c);}async[a19n(0x21c)](a,b){const s=a19n;return this['safeOperation'](updateDoc,s(0x1fa),a,b);}async[a19n(0x212)](a){return this['safeOperation'](deleteDoc,'delete',a);}['suspendAllListeners'](){const t=a19n;console['log'](t(0x20c),this[t(0x22a)][t(0x1ed)]),this[t(0x217)]=new Map(this['activeListeners']),this['activeListeners']['forEach']((a,b)=>{const u=t;console[u(0x1e8)]('[FirebaseIdle]\x20Suspending\x20listener:',b);if(typeof a==='function')try{a(),console['log']('[FirebaseIdle]\x20Successfully\x20suspended\x20listener:',b);}catch(c){console[u(0x1f0)]('[FirebaseIdle]\x20Error\x20suspending\x20listener:',b,c);}}),this[t(0x22a)]['clear']();if(this['debug']){const a=document['createElement'](t(0x229));a['id']=t(0x222),a['style'][t(0x1fd)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20right:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ff5555;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x205px\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x209999;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',a['textContent']=t(0x219),document['body'][t(0x20f)](a);}console[t(0x1e8)]('[FirebaseIdle]\x20All\x20listeners\x20suspended');}[a19n(0x20e)](){const v=a19n;if(!this['_suspendedListeners']||this[v(0x217)][v(0x1ed)]===0x0){console['log']('[FirebaseIdle]\x20No\x20listeners\x20to\x20resume');return;}console[v(0x1e8)](v(0x209),this['_suspendedListeners']['size']),this[v(0x217)][v(0x1ee)]((b,c)=>{const w=v;console['log']('[FirebaseIdle]\x20Resuming\x20listener:',c);try{if(typeof b==='function'){console[w(0x20b)](w(0x1e6),c);return;}const {query:d,callback:e,options:f}=b;if(d&&e){const g=onSnapshot(d,e,f||{});this[w(0x22a)][w(0x1f8)](c,g),console[w(0x1e8)]('[FirebaseIdle]\x20Successfully\x20resumed\x20listener:',c);}}catch(h){console[w(0x1f0)](w(0x218),c,h);}}),this[v(0x217)]['clear']();const a=document['getElementById']('firebase-suspend-indicator');a&&a['remove'](),console[v(0x1e8)](v(0x227));}[a19n(0x22b)](a,b,c={},d=null){const x=a19n,e=d||x(0x215)+Date[x(0x205)]()+'_'+Math[x(0x1f4)]()['toString'](0x24)[x(0x1ea)](0x2,0x9);this[x(0x223)]&&console['log'](x(0x201)+e);if(!this['checkSessionActive']())return console[x(0x1e8)](x(0x20a)+e),()=>{};try{const f=onSnapshot(a,b,c);return this['activeListeners'][x(0x1f8)](e,{'unsubscribe':f,'query':a,'callback':b,'options':c}),this[x(0x223)]&&(console['log']('[FirebaseIdle]\x20Listener\x20created:\x20'+e),console[x(0x1e8)]('[FirebaseIdle]\x20Active\x20listeners:\x20'+this['activeListeners']['size'])),()=>{const y=x;this[y(0x223)]&&console[y(0x1e8)]('[FirebaseIdle]\x20Manually\x20unsubscribing\x20listener:\x20'+e);try{f(),this['activeListeners'][y(0x214)](e),this['debug']&&(console[y(0x1e8)]('[FirebaseIdle]\x20Listener\x20removed:\x20'+e),console[y(0x1e8)]('[FirebaseIdle]\x20Active\x20listeners:\x20'+this[y(0x22a)][y(0x1ed)]));}catch(g){console[y(0x1f0)]('[FirebaseIdle]\x20Error\x20unsubscribing\x20listener\x20'+e+':',g);}};}catch(g){return console[x(0x1f0)](x(0x1f1)+e+':',g),()=>{};}}[a19n(0x221)](a=a19n(0x1ef)){const z=a19n;console['log'](z(0x200)+a+z(0x1ff)+this[z(0x21e)]['size']+'\x20total\x20operations');const b=new Map(this[z(0x21e)]);this['pendingOperations']['clear'](),b['forEach']((c,d)=>{const A=z;a===A(0x1ef)||c['operationType']===a?(console[A(0x1e8)]('Executing\x20delayed\x20'+c[A(0x1fe)]+A(0x224)),this[A(0x21f)](c['operation'],c['operationType'],...c[A(0x1f7)])['catch'](e=>console['error'](A(0x1f9),e))):this['pendingOperations'][A(0x1f8)](d,c);});}['enableDebug'](a=!![]){const B=a19n;this['debug']=a,console['log']('[FirebaseIdle]\x20Debug\x20mode\x20'+(a?B(0x22d):B(0x208)));if(a){const b=window['RDL_SESSION_SUSPENDED'];window[B(0x225)]=!![],console[B(0x1e8)]('[FirebaseIdle]\x20Testing\x20suspension\x20-\x20attempting\x20read...'),this[B(0x1fc)](doc(db,'system','test'))['then'](c=>{console['log']('[FirebaseIdle]\x20TEST\x20FAILED\x20-\x20read\x20succeeded\x20during\x20suspension',c);})['catch'](c=>{console['log']('[FirebaseIdle]\x20Error\x20during\x20test\x20(expected):',c);})[B(0x1f5)](()=>{console['log']('[FirebaseIdle]\x20Suspension\x20test\x20complete'),window['RDL_SESSION_SUSPENDED']=b;});}}}const firebaseIdle=new FirebaseIdleWrapper();export function enhanceIdleTimeout(){const C=a19n,a=window[C(0x210)]||function(){},b=window['resumeSession']||function(){};window['suspendSession']=function(){const D=C;a(),firebaseIdle[D(0x20d)]();},window['resumeSession']=function(){b(),firebaseIdle['resumeAllListeners']();};}function a19b(a,b){const c=a19a();return a19b=function(d,e){d=d-0x1e6;let f=c[d];if(a19b['BknqCW']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a19b['LnIAnD']=g,a=arguments,a19b['BknqCW']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a19b['LnIAnD'](f),a[i]=f):f=j,f;},a19b(a,b);}export default firebaseIdle;