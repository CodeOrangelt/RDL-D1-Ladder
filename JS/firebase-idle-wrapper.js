const a19_0x263f7b=a19_0x1322;(function(_0x200fc9,_0x41e5bc){const _0x3cf997=a19_0x1322,_0x232f6f=_0x200fc9();while(!![]){try{const _0x34dd8f=parseInt(_0x3cf997(0xe0))/0x1+-parseInt(_0x3cf997(0x11d))/0x2+-parseInt(_0x3cf997(0x134))/0x3+-parseInt(_0x3cf997(0xf7))/0x4+-parseInt(_0x3cf997(0x121))/0x5+-parseInt(_0x3cf997(0xeb))/0x6*(-parseInt(_0x3cf997(0xe2))/0x7)+parseInt(_0x3cf997(0x102))/0x8;if(_0x34dd8f===_0x41e5bc)break;else _0x232f6f['push'](_0x232f6f['shift']());}catch(_0x3477ae){_0x232f6f['push'](_0x232f6f['shift']());}}}(a19_0x5a3b,0x950f7));const a19_0x28d67b=(function(){let _0x34a473=!![];return function(_0x1fafc3,_0x51c937){const _0x4f7af5=_0x34a473?function(){const _0x3a9711=a19_0x1322;if(_0x51c937){const _0x1f0e72=_0x51c937[_0x3a9711(0xfe)](_0x1fafc3,arguments);return _0x51c937=null,_0x1f0e72;}}:function(){};return _0x34a473=![],_0x4f7af5;};}()),a19_0x59fee9=a19_0x28d67b(this,function(){const _0x16fe9d=a19_0x1322;return a19_0x59fee9[_0x16fe9d(0x138)]()[_0x16fe9d(0xe7)](_0x16fe9d(0x140))[_0x16fe9d(0x138)]()[_0x16fe9d(0x114)](a19_0x59fee9)['search'](_0x16fe9d(0x140));});function a19_0x1322(_0x21a882,_0x567946){const _0x36406a=a19_0x5a3b();return a19_0x1322=function(_0x5f583d,_0x44ebf6){_0x5f583d=_0x5f583d-0xd8;let _0x1d73d8=_0x36406a[_0x5f583d];return _0x1d73d8;},a19_0x1322(_0x21a882,_0x567946);}function a19_0x5a3b(){const _0xb62f31=['operationType','[FirebaseIdle]\x20No\x20listeners\x20to\x20resume','firebase-suspend-indicator','RDL_SESSION_SUSPENDED','[FirebaseIdle]\x20Suspending\x20listener:','[FirebaseIdle]\x20Suspending\x20all\x20active\x20listeners:','error','(((.+)+)+)+$','[FirebaseIdle]\x20TEST\x20FAILED\x20-\x20read\x20succeeded\x20during\x20suspension','disabled','[FirebaseIdle]\x20Listeners\x20resumed','safeOperation','catch','\x20operations:\x20','add','addDocument','now','activeListeners','672201veHXNX','bind','468839mmcwSz','operation','then','enabled','\x20total\x20operations','search','Executing\x20pending\x20','forEach','resumeSession','66DvzllA','[FirebaseIdle]\x20Successfully\x20suspended\x20listener:','[FirebaseIdle]\x20Resuming\x20listener:','Firebase:\x20Suspended','cssText','[FirebaseIdle]\x20Error\x20suspending\x20listener:','console','createListener','substring','pendingTimeout','Error\x20executing\x20pending\x20operation:','update','3523036RITWfF','[FirebaseIdle]\x20Operation\x20blocked\x20-\x20session\x20idle','get','[FirebaseIdle]\x20Successfully\x20resumed\x20listener:','[FirebaseIdle]\x20Testing\x20suspension\x20-\x20attempting\x20read...','[FirebaseIdle]\x20Listener\x20removed:\x20','getDocuments','apply','code','finally','executePendingOperations','16782856PlKkDG','[FirebaseIdle]\x20Resuming\x20listeners:','all','[FirebaseIdle]\x20Listener\x20created:\x20','\x20operation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20right:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ff5555;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x205px\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x209999;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','debug','table','[FirebaseIdle]\x20Cannot\x20resume\x20listener\x20directly:','[FirebaseIdle]\x20Error\x20during\x20test\x20(expected):','textContent','suspendAllListeners','listener_','size','_suspendedListeners','pendingOperations','substr','blockedOperations','constructor','[FirebaseIdle]\x20Active\x20listeners:\x20','Executing\x20delayed\x20','updateDocument','suspendSession','message','warn','includes','function','973700CnCRZK','unavailable','clear','log','3214095DVcHLh','exception','[FirebaseIdle]\x20Error\x20creating\x20listener\x20','appendChild','set','network','[FirebaseIdle]\x20Suspension\x20test\x20complete','delete','RDL_NETWORK_ERROR','random','createElement','[FirebaseIdle]\x20Operation\x20blocked\x20-\x20network\x20error','deleteDocument','setDocument','return\x20(function()\x20','[FirebaseIdle]\x20Session\x20suspended,\x20not\x20creating\x20listener:\x20','checkSessionActive','resource-exhausted','[FirebaseIdle]\x20Error\x20unsubscribing\x20listener\x20','2657478zyIOsq','getDocument','resumeAllListeners','query','toString'];a19_0x5a3b=function(){return _0xb62f31;};return a19_0x5a3b();}a19_0x59fee9();const a19_0x44ebf6=(function(){let _0x45314c=!![];return function(_0x597bc0,_0xfa5386){const _0x5c93d8=_0x45314c?function(){const _0x46afa3=a19_0x1322;if(_0xfa5386){const _0x8f2067=_0xfa5386[_0x46afa3(0xfe)](_0x597bc0,arguments);return _0xfa5386=null,_0x8f2067;}}:function(){};return _0x45314c=![],_0x5c93d8;};}()),a19_0x5f583d=a19_0x44ebf6(this,function(){const _0x13da9c=a19_0x1322;let _0x290746;try{const _0x179cea=Function(_0x13da9c(0x12f)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x290746=_0x179cea();}catch(_0x420b38){_0x290746=window;}const _0x1bb393=_0x290746[_0x13da9c(0xf1)]=_0x290746[_0x13da9c(0xf1)]||{},_0x488df3=['log',_0x13da9c(0x11a),'info',_0x13da9c(0x13f),_0x13da9c(0x122),_0x13da9c(0x109),'trace'];for(let _0x5b8f5e=0x0;_0x5b8f5e<_0x488df3['length'];_0x5b8f5e++){const _0xfa1f8b=a19_0x44ebf6['constructor']['prototype']['bind'](a19_0x44ebf6),_0xae0512=_0x488df3[_0x5b8f5e],_0x136d32=_0x1bb393[_0xae0512]||_0xfa1f8b;_0xfa1f8b['__proto__']=a19_0x44ebf6[_0x13da9c(0xe1)](a19_0x44ebf6),_0xfa1f8b[_0x13da9c(0x138)]=_0x136d32[_0x13da9c(0x138)][_0x13da9c(0xe1)](_0x136d32),_0x1bb393[_0xae0512]=_0xfa1f8b;}});a19_0x5f583d();import{auth,db}from'./firebase-config.js';import{handleNetworkError}from'./idle-timeout.js';import{getDoc,getDocs,collection,doc,query,where,orderBy,limit,startAfter,addDoc,setDoc,updateDoc,deleteDoc,onSnapshot,getCountFromServer,writeBatch,serverTimestamp,Timestamp}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';class FirebaseIdleWrapper{constructor(){const _0x378d18=a19_0x1322;this[_0x378d18(0xdf)]=new Map(),this['pendingOperations']=new Map(),this[_0x378d18(0xf4)]=null,this[_0x378d18(0x113)]=0x0,this[_0x378d18(0x108)]=![];}[a19_0x263f7b(0x131)](){const _0x4f06da=a19_0x263f7b;if(window[_0x4f06da(0x13c)]===!![])return console['log'](_0x4f06da(0xf8)),this[_0x4f06da(0x113)]=(this[_0x4f06da(0x113)]||0x0)+0x1,this[_0x4f06da(0x113)]%0xa===0x0&&console[_0x4f06da(0x11a)]('[FirebaseIdle]\x20Blocked\x20'+this['blockedOperations']+'\x20operations\x20during\x20idle\x20state'),![];if(window[_0x4f06da(0x129)]===!![])return console[_0x4f06da(0x120)](_0x4f06da(0x12c)),![];return!![];}async['safeOperation'](_0x14f75f,_0x3829c7,..._0x517ea9){const _0x26944d=a19_0x263f7b;if(!this[_0x26944d(0x131)]()){const _0x170381=_0x3829c7+'-'+Date[_0x26944d(0xde)]()+'-'+Math[_0x26944d(0x12a)]()[_0x26944d(0x138)](0x24)[_0x26944d(0xf3)](0x2,0x9);return this[_0x26944d(0x111)]['set'](_0x170381,{'operation':_0x14f75f,'operationType':_0x3829c7,'args':_0x517ea9}),!this['pendingTimeout']&&(this[_0x26944d(0xf4)]=setTimeout(()=>{const _0x3b8d80=_0x26944d;this[_0x3b8d80(0x111)][_0x3b8d80(0x11f)](),this['pendingTimeout']=null;},0x5*0x3c*0x3e8)),null;}try{return await _0x14f75f(..._0x517ea9);}catch(_0x245e19){if(_0x245e19[_0x26944d(0xff)]===_0x26944d(0x11e)||_0x245e19[_0x26944d(0xff)]===_0x26944d(0x132)||_0x245e19['message']&&_0x245e19[_0x26944d(0x119)][_0x26944d(0x11b)](_0x26944d(0x126)))return handleNetworkError(),null;throw _0x245e19;}}async[a19_0x263f7b(0x135)](_0x252a8d){const _0x40476d=a19_0x263f7b;return this['safeOperation'](getDoc,_0x40476d(0xf9),_0x252a8d);}async[a19_0x263f7b(0xfd)](_0x13b863){const _0x472834=a19_0x263f7b;return this[_0x472834(0xd9)](getDocs,_0x472834(0x137),_0x13b863);}async[a19_0x263f7b(0xdd)](_0x4eda35,_0xa41c47){const _0x3e3e78=a19_0x263f7b;return this[_0x3e3e78(0xd9)](addDoc,_0x3e3e78(0xdc),_0x4eda35,_0xa41c47);}async[a19_0x263f7b(0x12e)](_0x414163,_0xb23b3f,_0x52a6f0={}){const _0x2a7275=a19_0x263f7b;return this['safeOperation'](setDoc,_0x2a7275(0x125),_0x414163,_0xb23b3f,_0x52a6f0);}async[a19_0x263f7b(0x117)](_0x309f46,_0x48f21b){const _0x325801=a19_0x263f7b;return this[_0x325801(0xd9)](updateDoc,_0x325801(0xf6),_0x309f46,_0x48f21b);}async[a19_0x263f7b(0x12d)](_0x3aba41){const _0x3e1c7a=a19_0x263f7b;return this[_0x3e1c7a(0xd9)](deleteDoc,_0x3e1c7a(0x128),_0x3aba41);}[a19_0x263f7b(0x10d)](){const _0x451876=a19_0x263f7b;console['log'](_0x451876(0x13e),this[_0x451876(0xdf)][_0x451876(0x10f)]),this['_suspendedListeners']=new Map(this[_0x451876(0xdf)]),this[_0x451876(0xdf)][_0x451876(0xe9)]((_0x47576c,_0x3231a2)=>{const _0xcb0035=_0x451876;console[_0xcb0035(0x120)](_0xcb0035(0x13d),_0x3231a2);if(typeof _0x47576c===_0xcb0035(0x11c))try{_0x47576c(),console[_0xcb0035(0x120)](_0xcb0035(0xec),_0x3231a2);}catch(_0xfc40da){console[_0xcb0035(0x13f)](_0xcb0035(0xf0),_0x3231a2,_0xfc40da);}}),this[_0x451876(0xdf)][_0x451876(0x11f)]();if(this['debug']){const _0x304017=document[_0x451876(0x12b)]('div');_0x304017['id']='firebase-suspend-indicator',_0x304017['style'][_0x451876(0xef)]=_0x451876(0x107),_0x304017[_0x451876(0x10c)]=_0x451876(0xee),document['body'][_0x451876(0x124)](_0x304017);}console['log']('[FirebaseIdle]\x20All\x20listeners\x20suspended');}[a19_0x263f7b(0x136)](){const _0x3ba0df=a19_0x263f7b;if(!this[_0x3ba0df(0x110)]||this[_0x3ba0df(0x110)][_0x3ba0df(0x10f)]===0x0){console[_0x3ba0df(0x120)](_0x3ba0df(0x13a));return;}console[_0x3ba0df(0x120)](_0x3ba0df(0x103),this['_suspendedListeners'][_0x3ba0df(0x10f)]),this['_suspendedListeners'][_0x3ba0df(0xe9)]((_0x3027ae,_0x5009e3)=>{const _0x568842=_0x3ba0df;console['log'](_0x568842(0xed),_0x5009e3);try{if(typeof _0x3027ae===_0x568842(0x11c)){console[_0x568842(0x11a)](_0x568842(0x10a),_0x5009e3);return;}const {query:_0x12f916,callback:_0x2d8828,options:_0x192c48}=_0x3027ae;if(_0x12f916&&_0x2d8828){const _0x3db37e=onSnapshot(_0x12f916,_0x2d8828,_0x192c48||{});this[_0x568842(0xdf)][_0x568842(0x125)](_0x5009e3,_0x3db37e),console[_0x568842(0x120)](_0x568842(0xfa),_0x5009e3);}}catch(_0x40ce3c){console['error']('[FirebaseIdle]\x20Error\x20resuming\x20listener:',_0x5009e3,_0x40ce3c);}}),this[_0x3ba0df(0x110)][_0x3ba0df(0x11f)]();const _0x2c6722=document['getElementById'](_0x3ba0df(0x13b));_0x2c6722&&_0x2c6722['remove'](),console[_0x3ba0df(0x120)](_0x3ba0df(0xd8));}[a19_0x263f7b(0xf2)](_0x33f1be,_0x2739af,_0x154deb={},_0x157958=null){const _0x3ea970=a19_0x263f7b,_0x4c0306=_0x157958||_0x3ea970(0x10e)+Date[_0x3ea970(0xde)]()+'_'+Math[_0x3ea970(0x12a)]()['toString'](0x24)[_0x3ea970(0x112)](0x2,0x9);this[_0x3ea970(0x108)]&&console[_0x3ea970(0x120)]('[FirebaseIdle]\x20Creating\x20listener:\x20'+_0x4c0306);if(!this[_0x3ea970(0x131)]())return console[_0x3ea970(0x120)](_0x3ea970(0x130)+_0x4c0306),()=>{};try{const _0x4cd63a=onSnapshot(_0x33f1be,_0x2739af,_0x154deb);return this['activeListeners'][_0x3ea970(0x125)](_0x4c0306,{'unsubscribe':_0x4cd63a,'query':_0x33f1be,'callback':_0x2739af,'options':_0x154deb}),this[_0x3ea970(0x108)]&&(console[_0x3ea970(0x120)](_0x3ea970(0x105)+_0x4c0306),console[_0x3ea970(0x120)](_0x3ea970(0x115)+this[_0x3ea970(0xdf)][_0x3ea970(0x10f)])),()=>{const _0x2afbf2=_0x3ea970;this[_0x2afbf2(0x108)]&&console[_0x2afbf2(0x120)]('[FirebaseIdle]\x20Manually\x20unsubscribing\x20listener:\x20'+_0x4c0306);try{_0x4cd63a(),this['activeListeners']['delete'](_0x4c0306),this[_0x2afbf2(0x108)]&&(console['log'](_0x2afbf2(0xfc)+_0x4c0306),console['log'](_0x2afbf2(0x115)+this[_0x2afbf2(0xdf)][_0x2afbf2(0x10f)]));}catch(_0xd39dfc){console['error'](_0x2afbf2(0x133)+_0x4c0306+':',_0xd39dfc);}};}catch(_0x488cb9){return console[_0x3ea970(0x13f)](_0x3ea970(0x123)+_0x4c0306+':',_0x488cb9),()=>{};}}[a19_0x263f7b(0x101)](_0x441b07=a19_0x263f7b(0x104)){const _0x383f98=a19_0x263f7b;console['log'](_0x383f98(0xe8)+_0x441b07+_0x383f98(0xdb)+this[_0x383f98(0x111)][_0x383f98(0x10f)]+_0x383f98(0xe6));const _0x1fe525=new Map(this['pendingOperations']);this['pendingOperations']['clear'](),_0x1fe525[_0x383f98(0xe9)]((_0x1b3d19,_0x69ee8c)=>{const _0x392a51=_0x383f98;_0x441b07===_0x392a51(0x104)||_0x1b3d19[_0x392a51(0x139)]===_0x441b07?(console[_0x392a51(0x120)](_0x392a51(0x116)+_0x1b3d19[_0x392a51(0x139)]+_0x392a51(0x106)),this['safeOperation'](_0x1b3d19[_0x392a51(0xe3)],_0x1b3d19[_0x392a51(0x139)],..._0x1b3d19['args'])[_0x392a51(0xda)](_0x5d8df4=>console[_0x392a51(0x13f)](_0x392a51(0xf5),_0x5d8df4))):this[_0x392a51(0x111)][_0x392a51(0x125)](_0x69ee8c,_0x1b3d19);});}['enableDebug'](_0x5db71b=!![]){const _0x358144=a19_0x263f7b;this[_0x358144(0x108)]=_0x5db71b,console[_0x358144(0x120)]('[FirebaseIdle]\x20Debug\x20mode\x20'+(_0x5db71b?_0x358144(0xe5):_0x358144(0x142)));if(_0x5db71b){const _0x4abedc=window[_0x358144(0x13c)];window[_0x358144(0x13c)]=!![],console[_0x358144(0x120)](_0x358144(0xfb)),this[_0x358144(0x135)](doc(db,'system','test'))[_0x358144(0xe4)](_0x220bb7=>{const _0x552ace=_0x358144;console['log'](_0x552ace(0x141),_0x220bb7);})[_0x358144(0xda)](_0x4626aa=>{const _0x386d5e=_0x358144;console['log'](_0x386d5e(0x10b),_0x4626aa);})[_0x358144(0x100)](()=>{const _0x54da57=_0x358144;console[_0x54da57(0x120)](_0x54da57(0x127)),window[_0x54da57(0x13c)]=_0x4abedc;});}}}const firebaseIdle=new FirebaseIdleWrapper();export function enhanceIdleTimeout(){const _0x5a0dc7=a19_0x263f7b,_0x145dfd=window[_0x5a0dc7(0x118)]||function(){},_0x4c2f00=window['resumeSession']||function(){};window['suspendSession']=function(){_0x145dfd(),firebaseIdle['suspendAllListeners']();},window[_0x5a0dc7(0xea)]=function(){const _0x4324ee=_0x5a0dc7;_0x4c2f00(),firebaseIdle[_0x4324ee(0x136)]();};}export default firebaseIdle;