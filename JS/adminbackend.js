const a4N=a4b;(function(a,b){const L=a4b,c=a();while(!![]){try{const d=parseInt(L(0xe5))/0x1+parseInt(L(0x1ed))/0x2+-parseInt(L(0x2c9))/0x3*(parseInt(L(0x239))/0x4)+-parseInt(L(0x2db))/0x5*(-parseInt(L(0x1ff))/0x6)+-parseInt(L(0x400))/0x7*(-parseInt(L(0x345))/0x8)+-parseInt(L(0x242))/0x9*(-parseInt(L(0x16a))/0xa)+-parseInt(L(0x16c))/0xb*(parseInt(L(0x1c9))/0xc);if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a4a,0xcc902));import{collection,getDocs,query,orderBy,addDoc,deleteDoc,where,doc,getDoc,serverTimestamp,setDoc,updateDoc,writeBatch,limit,startAfter,endBefore,limitToLast,onSnapshot,deleteField,or,Timestamp}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{auth,db}from'./firebase-config.js';import{getRankStyle}from'./ranks.js';import{isAdmin}from'./admin-check.js';let matchesPagination={'d1':{'page':0x1,'lastVisible':null,'firstVisible':null},'d2':{'page':0x1,'lastVisible':null,'firstVisible':null},'d3':{'page':0x1,'lastVisible':null,'firstVisible':null}};function getContrastColor(a){const M=a4b;if(!a)return'#ffffff';a=a['replace']('#','');a['length']===0x3&&(a=a[M(0x3ed)]('')['map'](h=>h+h)['join'](''));if(a[M(0x1cc)]!==0x6)return'#ffffff';const c=parseInt(a['substring'](0x0,0x2),0x10),d=parseInt(a[M(0x385)](0x2,0x4),0x10),e=parseInt(a[M(0x385)](0x4,0x6),0x10),f=(c*0x12b+d*0x24b+e*0x72)/0x3e8;return f>=0x80?'#000000':M(0x15d);}const DEFAULT_TROPHY_IMAGE='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAADHUlEQVR4nO2XS0hUURjHf3fGnPGB+cBkzEAFRSglH5mQEiitIFoYEW6iFrWJoE20SReCQUGbXrRqEVFB0SIKKnrhM3wUldmQjc5Yk46Njjpz7+06cO50vTP3jplJ0fnDYe75zpnz/e73+L5zFf4n+X1SUoAM624GUoA0IAjw+IS5BWwgCIwCbuAn0AcMWOsP4NHE+BlqEjmxDZQCq4H5QCoQsALMWJjLWgMTvN8FPALuWWs38MhnfCoQoBvIBY4Du4EVwCyPDj7L+ptA/S/WX4EW4ALQMM1g/k8FmA5UAPuBZYCK94wRyXmU6TlwDEFzwDHgltOHnQKcBWwFjgL5jglOTTeBI8BtuwdVmweLgCvAAsckpq8XwDagzQ7QboPZQC1Q7JjA7KgX2AJ02zkwmjINuAzUzHCyGnAFmDMZ4DqgERHNTEsBDmvT0eVSYNgx1PSl28pOldcGvw/WAOeB+Y6pzEwPEJV1zOvBPcAJx0RmLg3YGw0Yu80G4LRjErOjU0BxJGARcB1Y6JjE7GgQKAD6w4FmAM3AUscE4pMuozqigrMa52RUKiK+ipxKDRkVRAYSoiDwDLiLKKU9iqKMgiQRH2wElsdxwDPgLPAAOZ4Fo/YV5BNkAXXIvFgLXAS+2wDnAU2MZEmsJOIK8NqG/wEVwClEoREmLeKP50hn5FSvgT3AY5v+J5HmHVZ4iY+pNG0E1wEss+FbjXS2vjgeUJETzYLJE5+gz5aHXSzlQBnQFQ9gCPH5F4lL94B2G3yl0QE+jwdwBJgH9ESSMgrcteG7HNJihk1A3AMOAgeBT9E7NE0LAkEnEkYHqEa162QMn+02/LJsxpg0YLexURTl3cSgmqYFTNMccPJ1uIDPxuYScDyG31Ls1+EbK6muSIAul8tQ7Jrq5BoGWhVFCQJ7kQkjlnIQFR1TKowNGY6JomnMQkSoGviXvAWWKIoSjgVxPdLtvwKwQ1GUD7ECugBDURTPeHUBfIwVUNO0EWPyWT+mNGBQ13WXN6CqKoOGYYT8fj8+n2NCCYyLiooC8f75D86ukgTJZSGcAAAAAElFTkSuQmCC',charts={};let currentLadder='D1',eloHistoryPagination={'d1':{'page':0x1,'lastVisible':null,'firstVisible':null},'d2':{'page':0x1,'lastVisible':null,'firstVisible':null},'d3':{'page':0x1,'lastVisible':null,'firstVisible':null}};const PAGE_SIZE=0xf;document['addEventListener'](a4N(0x1ad),()=>{const O=a4N;auth[O(0x177)](async a=>{const P=O;if(!a){window['location'][P(0x240)]=P(0xee);return;}try{await initializeAdminDashboard();}catch(b){console['error']('Error\x20initializing\x20dashboard:',b),showNotification('Error\x20setting\x20up\x20admin\x20dashboard',P(0x10c));}});});async function getUserTabPermissions(a){const Q=a4N;if(!a)return[Q(0xc4)];console['log']('Looking\x20for\x20user\x20role\x20information\x20for\x20'+a+'\x20in\x20all\x20collections...');const b=[{'name':'userProfiles','displayName':'User\x20Profiles'},{'name':'players','displayName':'D1\x20Players'},{'name':Q(0x335),'displayName':'D2\x20Players'},{'name':'playersD3','displayName':'D3\x20Players'},{'name':'nonParticipants','displayName':'Non-Participants'}],c=auth['currentUser'];let d=null,e=null;for(const f of b){try{if(c){const g=doc(db,f[Q(0x18b)],c[Q(0x26c)]),h=await getDoc(g);if(h['exists']()){const i=h['data']();console[Q(0x161)]('Found\x20user\x20in\x20'+f['displayName']+Q(0x19d),i);const j=(i['roleName']||i['role']||'')['toLowerCase']();if(j&&j!=='none'){d=j,e=f[Q(0x346)],console[Q(0x161)](Q(0x11d)+d+Q(0x149)+e);break;}}}if(!d){const k=collection(db,f[Q(0x18b)]),l=query(k,where(Q(0x1cf),'==',a)),m=await getDocs(l);if(!m['empty']){const n=m['docs'][0x0][Q(0x136)]();console[Q(0x161)](Q(0xe1)+f['displayName']+Q(0x1bc)+a+':',n);const o=(n['roleName']||n[Q(0xd5)]||'')[Q(0x3f7)]();if(o&&o!==Q(0x407)){d=o,e=f['displayName'],console['log']('Found\x20specific\x20role:\x20'+d+'\x20in\x20'+e);break;}}}}catch(p){console[Q(0x10c)](Q(0x382)+f[Q(0x346)]+':',p);}}if(d){console['log'](Q(0x3b0)+d+Q(0x375)+e+')');const r={'admin':[Q(0xc4),'manage-players','manage-matches',Q(0x153),Q(0x131),Q(0x114),'inactive-players',Q(0x252),'manage-trophies',Q(0x36f),'manage-highlights',Q(0xd3),'manage-matches','manage-points',Q(0x1f9),Q(0x3c1)],'owner':['dashboard',Q(0x32c),'manage-matches','manage-articles',Q(0x131),'manage-ranks',Q(0x348),'settings','manage-trophies',Q(0x36f),'manage-highlights',Q(0xd3),Q(0x26e),'manage-points',Q(0x1f9),'manage-ribbons'],'council':['dashboard','manage-players','manage-matches'],'creative\x20lead':[Q(0xc4),'manage-articles',Q(0x131),'elo-history',Q(0x302)]};if(r[d])return console['log']('Role\x20\x27'+d+'\x27\x20has\x20permissions:',r[d]),r[d];}return console[Q(0x161)]('No\x20specific\x20permissions\x20for\x20user\x20'+a+Q(0x3d9)),[Q(0xc4)];}function setupSidebarNavigation(a=[]){const R=a4N,b=document[R(0x31c)]('.sidebar-nav\x20.nav-item'),c=document['querySelectorAll']('.admin-section');(!a||a[R(0x1cc)]===0x0)&&(a=[R(0xc4)]);b[R(0x226)](e=>{const S=R,f=e['getAttribute'](S(0x305));a[S(0x290)](f)?e[S(0x12b)][S(0x18c)]='flex':e['style'][S(0x18c)]=S(0x407),e[S(0xcc)](S(0x175),()=>{const T=S,g=e['getAttribute'](T(0x305));if(!a[T(0x290)](g)){showNotification('You\x20do\x20not\x20have\x20permission\x20to\x20access\x20this\x20section',T(0x10c));return;}b['forEach'](i=>i['classList']['remove'](T(0x295))),e['classList'][T(0x2e0)]('active'),c[T(0x226)](i=>{i['style']['display']='none';});const h=document['getElementById'](g);h&&(h[T(0x12b)]['display']='block',console['log']('Switched\x20to\x20'+g+'\x20section'));});});const d=document[R(0xd8)]('.sidebar-nav\x20.nav-item[data-section=\x22'+a[0x0]+'\x22]');d&&d['click'](),console[R(0x161)]('Sidebar\x20navigation\x20initialized\x20with\x20permissions');}function setupTabNavigation(){const U=a4N,a=document[U(0x31c)](U(0x267));let b=null,c=new Set();a['forEach'](d=>{const V=U;d['addEventListener'](V(0x175),function(){const W=V,e=this['getAttribute'](W(0x305));if(e===b)return;b&&(document['getElementById'](b)[W(0x12b)][W(0x18c)]='none',a['forEach'](f=>f['classList']['remove']('active'))),document['getElementById'](e)[W(0x12b)]['display']=W(0xc7),this['classList'][W(0x2e0)]('active'),b=e;});});}function loadSectionData(a){return;}async function initializeAdminDashboard(){const X=a4N;try{const a=auth['currentUser'],b=await getUserTabPermissions(a['email']);console[X(0x161)](X(0x387)+a['email']+X(0x3d5),b),window[X(0x1fc)]=b,setupSidebarNavigation(b),setupLadderSelector(),setupDashboardSection(),b['includes']('manage-players')&&setupManagePlayersSection(),b['includes'](X(0x36f))&&setupEloHistorySection(),b[X(0x290)]('manage-ranks')&&setupRankControls(),b['includes'](X(0x153))&&setupManageArticlesSection(),b['includes'](X(0xd3))&&setupUserRolesSection(),b['includes'](X(0x131))&&setupTrophyManagementSection(),b['includes']('manage-highlights')&&setupManageHighlightsSection(),b['includes']('inactive-players')&&setupInactivePlayersSection(),b['includes']('manage-matches')&&setupManageMatchesSection(),b['includes'](X(0x30e))&&setupManagePointsSection(),b['includes'](X(0x3c1))&&setupManageRibbonsSection(),setupDataLoadButtons(b);}catch(c){console[X(0x10c)](X(0x3f3),c);}}function setupDataLoadButtons(a=[]){const Y=a4N;(!a||a['length']===0x0)&&(a=[Y(0xc4)]);const b=document['getElementById']('load-dashboard-data');b&&b['addEventListener']('click',function(){const Z=Y;this[Z(0x22b)][Z(0x2e0)]('loading'),this[Z(0x3e2)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...',loadDashboardOverview()['then'](()=>{const a0=Z;this[a0(0x22b)]['remove'](a0(0x373)),this[a0(0x3e2)]=a0(0x18e);})['catch'](c=>{const a1=Z;console['error']('Error\x20loading\x20dashboard:',c),this['classList'][a1(0x1a5)]('loading'),this[a1(0x3e2)]=a1(0x341),setTimeout(()=>{const a2=a1;this[a2(0x3e2)]='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Dashboard\x20Data';},0xbb8);});});if(a['includes'](Y(0x131))){const c=document['getElementById']('load-trophies-data');c&&c[Y(0xcc)]('click',function(){const a3=Y;console[a3(0x161)]('Load\x20trophies\x20data\x20clicked'),this[a3(0x22b)]['add']('loading'),this[a3(0x3e2)]=a3(0x28a),loadTrophyDefinitions()['then'](()=>{const a4=a3;this['classList']['remove']('loading'),this[a4(0x3e2)]=a4(0x1c1);})[a3(0x156)](d=>{const a5=a3;console[a5(0x10c)]('Error\x20loading\x20trophies:',d),this[a5(0x22b)][a5(0x1a5)]('loading'),this['innerHTML']='<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error',setTimeout(()=>{const a6=a5;this[a6(0x3e2)]=a6(0x1c1);},0xbb8);});});}if(a[Y(0x290)](Y(0x32c))){const d=document['getElementById'](Y(0x3f4));d&&d[Y(0xcc)](Y(0x175),function(){const a7=Y;console['log']('Load\x20players\x20data\x20clicked'),this[a7(0x22b)][a7(0x2e0)]('loading'),this['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...',loadPlayersData()[a7(0x37c)](()=>{const a8=a7;this['classList'][a8(0x1a5)](a8(0x373)),this[a8(0x3e2)]='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Players\x20Data';})[a7(0x156)](e=>{const a9=a7;console['error']('Error\x20loading\x20players:',e),this['classList'][a9(0x1a5)]('loading'),this['innerHTML']='<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error',setTimeout(()=>{const aa=a9;this[aa(0x3e2)]=aa(0xc2);},0xbb8);});});}if(a[Y(0x290)]('elo-history')){const e=document['getElementById'](Y(0x358));e&&e[Y(0xcc)]('click',function(){const ab=Y;console[ab(0x161)]('Load\x20history\x20data\x20clicked'),this[ab(0x22b)]['add'](ab(0x373)),this[ab(0x3e2)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...',loadEloHistory(0x1)[ab(0x37c)](()=>{const ac=ab;this['classList'][ac(0x1a5)](ac(0x373)),this[ac(0x3e2)]='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20History\x20Data';})['catch'](f=>{const ad=ab;console[ad(0x10c)]('Error\x20loading\x20history:',f),this[ad(0x22b)]['remove']('loading'),this[ad(0x3e2)]=ad(0x341),setTimeout(()=>{const ae=ad;this[ae(0x3e2)]=ae(0x33b);},0xbb8);});});}if(a[Y(0x290)]('manage-articles')){const f=document[Y(0x135)](Y(0x35d));f&&f[Y(0xcc)]('click',function(){const af=Y;console[af(0x161)](af(0xbc)),this['classList']['add']('loading'),this[af(0x3e2)]=af(0x28a),loadArticles()[af(0x37c)](()=>{const ag=af;this[ag(0x22b)]['remove'](ag(0x373)),this[ag(0x3e2)]=ag(0x26a);})[af(0x156)](g=>{const ah=af;console['error']('Error\x20loading\x20articles:',g),this[ah(0x22b)]['remove'](ah(0x373)),this[ah(0x3e2)]=ah(0x341),setTimeout(()=>{const ai=ah;this[ai(0x3e2)]=ai(0x26a);},0xbb8);});});}if(a[Y(0x290)](Y(0xd3))){const g=document[Y(0x135)](Y(0x19c));g&&g['addEventListener'](Y(0x175),function(){const aj=Y;console['log']('Load\x20users\x20data\x20clicked'),this[aj(0x22b)]['add'](aj(0x373)),this[aj(0x3e2)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...',loadUsersWithRoles()['then'](()=>{const ak=aj;this[ak(0x22b)]['remove']('loading'),this['innerHTML']='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Users\x20Data';})[aj(0x156)](h=>{const al=aj;console[al(0x10c)](al(0x3b1),h),this['classList']['remove']('loading'),this['innerHTML']=al(0x341),setTimeout(()=>{this['innerHTML']='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Users\x20Data';},0xbb8);});});}if(a['includes'](Y(0x348))){const h=document[Y(0x135)]('load-inactive-players-data');h&&h[Y(0xcc)]('click',function(){const am=Y;console['log'](am(0x339)),this['classList']['add'](am(0x373)),this[am(0x3e2)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...',loadInactivePlayersData()[am(0x37c)](()=>{const an=am;this['classList']['remove']('loading'),this[an(0x3e2)]='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Inactive\x20Players';})['catch'](i=>{const ao=am;console['error']('Error\x20loading\x20inactive\x20players:',i),this['classList'][ao(0x1a5)]('loading'),this[ao(0x3e2)]=ao(0x341),setTimeout(()=>{const ap=ao;this[ap(0x3e2)]=ap(0x3b9);},0xbb8);});});}if(a['includes'](Y(0x302))){const i=document['getElementById']('load-highlights-data');i&&i['addEventListener'](Y(0x175),function(){const aq=Y;console['log']('Load\x20highlights\x20data\x20clicked'),this['classList']['add']('loading'),this[aq(0x3e2)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...',loadHighlightsAdmin()[aq(0x37c)](()=>{const ar=aq;this['classList']['remove'](ar(0x373)),this['innerHTML']='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Highlights';})[aq(0x156)](j=>{const as=aq;console['error']('Error\x20loading\x20highlights:',j),this['classList'][as(0x1a5)](as(0x373)),this['innerHTML']=as(0x341),setTimeout(()=>{const at=as;this['innerHTML']=at(0x105);},0xbb8);});});}if(a[Y(0x290)](Y(0x26e))){const j=document[Y(0x135)](Y(0x352));j&&j[Y(0xcc)]('click',function(){const au=Y;console['log']('Load\x20matches\x20data\x20clicked'),this[au(0x22b)]['add']('loading'),this['innerHTML']=au(0x28a),loadMatchesData(0x1)[au(0x37c)](()=>{const av=au;this['classList'][av(0x1a5)]('loading'),this['innerHTML']='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Matches';})['catch'](k=>{const aw=au;console[aw(0x10c)]('Error\x20loading\x20matches:',k),this['classList'][aw(0x1a5)]('loading'),this[aw(0x3e2)]='<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error',setTimeout(()=>{const ax=aw;this[ax(0x3e2)]=ax(0xcd);},0xbb8);});}),setupCreateTestMatchButton(),setupCreateTestMatchModal();}if(a['includes']('manage-ribbons')){const k=document[Y(0x135)](Y(0x21f));k&&k[Y(0xcc)](Y(0x175),function(){const ay=Y;console[ay(0x161)](ay(0x354)),this[ay(0x22b)]['add'](ay(0x373)),this[ay(0x3e2)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...',loadRibbonsData()['then'](()=>{const az=ay;this[az(0x22b)][az(0x1a5)]('loading'),this['innerHTML']=az(0x1c8);})[ay(0x156)](l=>{const aA=ay;console['error'](aA(0x130),l),this['classList'][aA(0x1a5)]('loading'),this[aA(0x3e2)]=aA(0x341),setTimeout(()=>{const aB=aA;this['innerHTML']=aB(0x1c8);},0xbb8);});});}console[Y(0x161)]('Data\x20load\x20buttons\x20initialized\x20based\x20on\x20permissions');}function setupDashboardSection(){const aC=a4N;document[aC(0x135)]('player-count')['textContent']='-',document['getElementById'](aC(0x320))[aC(0x144)]='-',document['getElementById'](aC(0x2fa))['textContent']='-',document['getElementById']('rejected-count')['textContent']='-';}function setupLadderSelector(){const aD=a4N,a=document[aD(0x31c)](aD(0x174));a[aD(0x226)](c=>{const aE=aD;c[aE(0xcc)](aE(0x134),()=>{const aF=aE;currentLadder=c['value'],document[aF(0x13e)]['setAttribute'](aF(0x2ab),currentLadder);const d=document[aF(0x135)]('current-ladder-display');d&&(d[aF(0x144)]=currentLadder),document['getElementById'](aF(0x3be))['textContent']='-',document[aF(0x135)]('match-count')['textContent']='-',document[aF(0x135)]('pending-count')[aF(0x144)]='-',document['getElementById']('rejected-count')['textContent']='-',charts['rankDistribution']&&(charts['rankDistribution'][aF(0x181)](),charts['rankDistribution']=null),charts['activity']&&(charts[aF(0x141)]['destroy'](),charts[aF(0x141)]=null),showNotification(aF(0x33a)+currentLadder+aF(0x3f9),'info');});});const b=document['getElementById'](aD(0x11b));b&&(b['textContent']=currentLadder);}async function loadDashboardOverview(){const aG=a4N;try{console[aG(0x161)](aG(0x2fb)),document[aG(0x135)](aG(0x3be))[aG(0x144)]='-',document[aG(0x135)]('match-count')['textContent']='-',document['getElementById']('pending-count')[aG(0x144)]='-',document[aG(0x135)]('rejected-count')['textContent']='-';const a=currentLadder==='D1'?'players':currentLadder==='D2'?'playersD2':'playersD3',b=currentLadder==='D1'?aG(0x3b7):currentLadder==='D2'?aG(0x30f):'approvedMatchesD3',c=currentLadder==='D1'?aG(0x1f8):currentLadder==='D2'?'pendingMatchesD2':'pendingMatchesD3',d=currentLadder==='D1'?'RejectedD1':currentLadder==='D2'?'RejectedD2':aG(0x3a8);console['log']('Using\x20collections\x20for\x20'+currentLadder+':\x20'+a+',\x20'+b);const e=await getDocs(collection(db,a)),f=e['size'],g=await getDocs(collection(db,b)),h=g['size'],i=await getDocs(collection(db,c)),j=i['size'],k=await getDocs(collection(db,d)),l=k[aG(0x409)];return document['getElementById']('player-count')['textContent']=f,document[aG(0x135)]('match-count')['textContent']=h,document[aG(0x135)](aG(0x2fa))[aG(0x144)]=j,document['getElementById']('rejected-count')[aG(0x144)]=l,await createRankDistributionChart(),await createActivityChart(),console[aG(0x161)](aG(0x32e)),!![];}catch(m){console[aG(0x10c)]('Error\x20loading\x20dashboard\x20data:',m);throw m;}}async function createRankDistributionChart(){const aH=a4N;try{const a=collection(db,currentLadder==='D1'?aH(0x1cd):aH(0x335)),b=await getDocs(a),c={'Unranked':0x0,'Bronze':0x0,'Silver':0x0,'Gold':0x0,'Emerald':0x0};b['forEach'](e=>{const aI=aH,f=e['data'](),g=f['eloRating']||0x4b0;if(g>=0x7d0)c['Emerald']++;else{if(g>=0x708)c[aI(0x224)]++;else{if(g>=0x640)c['Silver']++;else{if(g>=0x578)c['Bronze']++;else c['Unranked']++;}}}});const d=document['getElementById'](aH(0x2b4));charts[aH(0x306)]&&charts['rankDistribution']['destroy'](),charts[aH(0x306)]=new Chart(d,{'type':aH(0x39f),'data':{'labels':Object['keys'](c),'datasets':[{'data':Object['values'](c),'backgroundColor':[aH(0x3f1),'#CD7F32','#C0C0C0','#FFD700',aH(0x3f0)],'borderWidth':0x2}]},'options':{'responsive':!![],'maintainAspectRatio':![],'plugins':{'legend':{'position':aH(0x2c4),'labels':{'color':'#e0e0e0'}},'title':{'display':!![],'text':currentLadder+'\x20Rank\x20Distribution','color':aH(0x329),'font':{'size':0x10}}}}});}catch(e){console[aH(0x10c)]('Error\x20creating\x20rank\x20distribution\x20chart:',e),document['getElementById']('rank-distribution-chart')['innerHTML']='<div\x20class=\x22chart-error\x22>Error\x20loading\x20chart\x20data</div>';}}async function createActivityChart(){const aJ=a4N;try{const a=currentLadder==='D1'?aJ(0x3b7):'approvedMatchesD2',b=collection(db,a),c=new Date();c[aJ(0xec)](c['getDate']()-0x7);const d=query(b,where('approvedAt','>=',c),orderBy(aJ(0x310),'asc')),e=await getDocs(d),f=['Sunday','Monday',aJ(0x3d1),'Wednesday',aJ(0x2b7),'Friday','Saturday'],g=f['reduce']((i,j)=>({...i,[j]:0x0}),{});e['forEach'](i=>{const aK=aJ,j=i['data']();if(j[aK(0x310)]){const k=f[new Date(j[aK(0x310)]['seconds']*0x3e8)[aK(0xd2)]()];g[k]++;}});const h=document[aJ(0x135)]('activity-chart');charts[aJ(0x141)]&&charts['activity']['destroy'](),charts[aJ(0x141)]=new Chart(h,{'type':aJ(0x309),'data':{'labels':f,'datasets':[{'label':aJ(0xb4),'data':f['map'](i=>g[i]),'backgroundColor':currentLadder==='D1'?'rgba(211,\x2047,\x2047,\x200.7)':'rgba(25,\x20118,\x20210,\x200.7)','borderColor':currentLadder==='D1'?aJ(0x2e8):'#1976d2','borderWidth':0x1}]},'options':{'responsive':!![],'maintainAspectRatio':![],'scales':{'y':{'beginAtZero':!![],'ticks':{'color':aJ(0x329)},'grid':{'color':aJ(0x1d2)}},'x':{'ticks':{'color':'#e0e0e0'},'grid':{'color':aJ(0x1d2)}}},'plugins':{'legend':{'labels':{'color':aJ(0x329)}},'title':{'display':!![],'text':currentLadder+aJ(0x140),'color':aJ(0x329),'font':{'size':0x10}}}}});}catch(i){console['error'](aJ(0xf9),i),document[aJ(0x135)](aJ(0x326))[aJ(0x3e2)]=aJ(0x128);}}async function loadPlayersData(){const aL=a4N,a=document[aL(0x135)](aL(0x102));if(!a)return;a['innerHTML']='<tr><td\x20colspan=\x226\x22\x20class=\x22loading-cell\x22>Loading\x20players...</td></tr>';try{let b='players';if(currentLadder==='D2')b='playersD2';else currentLadder==='D3'&&(b=aL(0x193));console[aL(0x161)]('Loading\x20players\x20from\x20'+b+aL(0x38b));const c=collection(db,b),d=query(c,orderBy(aL(0x263),'desc')),e=await getDocs(d);if(e['empty']){a['innerHTML']=aL(0x2ad);return;}a['innerHTML']='';let f=0x1;e['forEach'](g=>{const aM=aL,h=g[aM(0x136)](),i=getRankFromElo(h[aM(0x263)]||0x4b0),j=getRankStyle(h[aM(0x263)]||0x4b0),k=document['createElement']('tr');k[aM(0x3e2)]=aM(0x27f)+f+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22username\x22\x20style=\x22color:\x20'+j[aM(0x133)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(h['username']||aM(0x394))+aM(0x2af)+(h['eloRating']||0x4b0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22rank\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22rank-badge\x22\x20style=\x22background-color:\x20'+j['color']+aM(0x2b6)+i+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22stats\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(h['wins']||0x0)+'W\x20/\x20'+(h['losses']||0x0)+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-btn\x22\x20data-id=\x22'+g['id']+aM(0x21b)+g['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',a['appendChild'](k),f++;}),setupPlayerActionButtons();}catch(g){console['error'](aL(0x280),g),a['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x226\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20players:\x20'+g['message']+aL(0x2a3);}}function getRankFromElo(a){const aN=a4N;if(a>=0x7d0)return'Emerald';if(a>=0x708)return aN(0x224);if(a>=0x640)return'Silver';if(a>=0x578)return aN(0x32f);return aN(0x229);}function setupPlayerActionButtons(){const aO=a4N;document[aO(0x31c)]('.edit-btn')['forEach'](a=>{const aP=aO;a[aP(0xcc)](aP(0x175),async b=>{const aQ=aP,c=b[aQ(0x3bf)]['dataset']['id'];openEditPlayerModal(c);});}),document['querySelectorAll']('.delete-btn')[aO(0x226)](a=>{a['addEventListener']('click',async b=>{const aR=a4b,c=b[aR(0x3bf)]['dataset']['id'];confirmDeletePlayer(c);});});}async function openEditPlayerModal(a){const aS=a4N;try{const b=currentLadder==='D1'?'players':aS(0x335),c=doc(db,b,a),d=await getDoc(c);if(!d[aS(0x180)]()){showNotification(aS(0x12d),aS(0x10c));return;}const e=d['data'](),f=document[aS(0x135)](aS(0x109)),g=document[aS(0x135)]('edit-username'),h=document['getElementById']('edit-elo'),i=document['getElementById'](aS(0x33c)),j=document['getElementById'](aS(0x30b));g[aS(0x338)]=e['username']||'',h['value']=e['eloRating']||0x4b0,i[aS(0x338)]=e[aS(0xce)]||0x0,j[aS(0x338)]=e['losses']||0x0,f['dataset']['playerId']=a,f['classList']['add']('active');}catch(k){console[aS(0x10c)](aS(0x1be),k),showNotification(aS(0x162),aS(0x10c));}}async function saveEditedPlayer(){const aT=a4N;try{const a=document[aT(0x135)](aT(0x109)),b=a['dataset'][aT(0x334)];if(!b){showNotification('No\x20player\x20selected',aT(0x10c));return;}const c=document['getElementById'](aT(0x369)),d=document['getElementById']('edit-elo'),e=document['getElementById']('edit-wins'),f=document[aT(0x135)](aT(0x30b)),g=c['value']['trim'](),h=parseInt(d[aT(0x338)]),i=parseInt(e[aT(0x338)]),j=parseInt(f['value']);if(!g||isNaN(h)){showNotification(aT(0x121),aT(0x10c));return;}const k=currentLadder==='D1'?'players':aT(0x335),l=doc(db,k,b),m=await getDoc(l),n=m[aT(0x180)]()?m[aT(0x136)]():{},o=n['eloRating']||0x4b0;await updateDoc(l,{'username':g,'eloRating':h,'wins':i||0x0,'losses':j||0x0,'lastModifiedAt':serverTimestamp(),'lastModifiedBy':auth['currentUser'][aT(0x1cf)]});if(h!==o){const p=currentLadder==='D1'?'eloHistory':aT(0x1d8);await addDoc(collection(db,p),{'player':g,'previousElo':o,'newElo':h,'timestamp':serverTimestamp(),'type':'admin_modification','modifiedBy':auth['currentUser'][aT(0x1cf)],'gameMode':currentLadder});}closeEditPlayerModal(),loadPlayersData(),showNotification('Player\x20updated\x20successfully',aT(0x20c));}catch(q){console['error']('Error\x20updating\x20player:',q),showNotification('Failed\x20to\x20update\x20player:\x20'+q['message'],'error');}}function closeEditPlayerModal(){const aU=a4N,a=document[aU(0x135)]('edit-player-modal');a['classList']['remove']('active'),a['dataset']['playerId']='';}async function confirmDeletePlayer(a){const aV=a4N;if(confirm('Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20player?\x20This\x20action\x20cannot\x20be\x20undone.'))try{const b=currentLadder==='D1'?'players':'playersD2';await deleteDoc(doc(db,b,a)),loadPlayersData(),showNotification(aV(0xd0),aV(0x20c));}catch(c){console['error']('Error\x20deleting\x20player:',c),showNotification('Failed\x20to\x20delete\x20player:\x20'+c['message'],aV(0x10c));}}function a4a(){const eO=['phrYpJX0zcbJB2XZCgfUpsi3iIbJBgfZCZ0IzxjYB3iTC3rHDguIpKvYCM9YigXVywrPBMCGAw5Hy3rPDMuGCgXHEwvYCZOG','AgLNAgXPz2H0lxDPBM5LCI1Uyw1L','zgf0ys1SywrKzxi','DhjVCgH5lwrLC2nYAxb0Aw9U','phrYpJX0zcbJB2XZCgfUpsi2iIbJBgfZCZ0Izw1WDhKTC3rHDguIpK5VihbSyxLLCNmGzM91BMq8l3rKpJWVDhi+','Bg9Zzxjoyw1L','cIaGicaGicaGicaGicaGica8l3rKpGOGicaGicaGicaGicaGicaGphrKignSyxnZpsjLBg8IpG','ww91ig11C3qGyMuGBg9Nz2vKigLUihrVigrLBgv0zsb0CM9WAgLLCW','pc9WpGOGicaGicaGicaGicaGicaGpha+phn0CM9UzZ5dDxjYzw50ifDPBM5LCIbqB3nPDgLVBJO8l3n0CM9UzZ4G','CMvTB3zLrxzLBNrmAxn0zw5LCG','AgLNAgXPz2H0lw1HCa','CMfUAY1KAxn0CMLIDxrPB24Ty2HHCNq','rxjYB3iGBg9HzgLUzYb0CM9WAhKGzgvMAw5PDgLVBNm6','iJ4kicaGicaGicaGicaGicaGicaGicaGicaG','vgH1CNnKyxK','vgvZDeXVC2vY','yxbWzw5Kq2HPBgq','rwrPDca','ktWVC3bHBJ48l3rKpGOGicaGicaGicaGicaGicaGphrKpG','sgLNAgXPz2H0','phrYpJX0zcbJB2XZCgfUpsi1iIbJBgfZCZ0IzxjYB3iTC3rHDguIpKvYCM9YigXVywrPBMCGCMLIyM9UCZWVDgq+pc90CJ4','u2vHCMnOAw5NigzVCIbWBgf5zxiGAw4G','uMvTB3zLzca','ugXHEwvYici','CgfKzgLUzW','pc90zd4kicaGicaGicaGicaGicaGidX0zcbJBgfZCZ0ICgXHEwvYiJ4','D2LUBMvYtMfTzq','CMLNAhq','rxjYB3iGAw5PDgLHBgL6Aw5NihbVAw50CYbMAwvSzdO','Aw5Hy3rPDMuTzgf5CY1MAwX0zxi','ywXSvxnLCNnqB2LUDhm','BM9UugfYDgLJAxbHBNrZ','mta1mtK1ExbeyM9z','CMvTB3zLqxr0CMLIDxrL','zwrPDc1OAwDOBgLNAhqTBwfWlwLUChv0','C2v0sg91CNm','pc90zd48l3rYpG','ywrTAw4','C2v0lwvSBY1TB2rHBa','ihbVAw50CW','rxjYB3iGBg9HzgLUzYbHCNrPy2XLigrHDge6','sw5Hy3rPDMuGCgXHEwvYCYbZzwn0Aw9UigLUAxrPywXPEMvK','yMfJA2DYB3vUzenVBg9Y','tM8GruXpigHPC3rVCNKGzM91BMqGzM9YihbSyxLLCIa','zwXVlwHPC3rVCNKTC2vHCMnO','AgLNAgXPz2H0lxrPDgXL','Aw1Hz2vvCMW','pc9ZCgfUpG','phrYpJX0zcbJB2XZCgfUpsi1iIbJBgfZCZ0Izw1WDhKTC3rHDguIpK5VihrYB3bOEsbKzwzPBML0Aw9UCYbMB3vUzdWVDgq+pc90CJ4','q3jLyxrPBMCGDgvZDcbTyxrJAcb3AxrOB3v0ihbSyxLLCIb2ywXPzgf0Aw9UlI4U','nte1DujovvLt','Aw5WDxrBBMfTzt0IDgvZDc1TyxrJAc1SywrKzxiIxvT2ywX1zt0IrdeIxq','zgvTB3rLlwzVCM0','ic0G','rMfPBgvKihrVihnHDMuGDhjVCgH5oIa','ywrK','AgLNAgXPz2H0lw1HDgnOlwLUzM8Ty29UDgfPBMvY','AgLNAgXPz2H0lw1HDgnOlwXPBMS','ywrKlw5LDY1YB2XLlwj0BG','AgLNAgXPz2H0lxn1yM1PDhrLzc1IEq','zwrPDc1OAwDOBgLNAhqTywnOAwv2zw1LBNrezxrHAwXZlwLUChv0','AgLNAgXPz2H0lwLK','zgvZy3jPChrPB24','i2qZmMyYzG','AgLNAgXPz2H0lxDPBM5LCI1Zy29Yzq','pc9WpGOGicaGicaGia','uMvTB3zLia','q3jLyxrLihrLC3qGBwf0y2GGzM9YBsbUB3qGzM91BMqGAw4Gre9n','tw9KywWGB3bLBMvKihn1y2nLC3nMDwXSEq','lMnSB3nL','Cg9PBNrZlxnVCNqTB3jKzxi','qxjLihLVDsbZDxjLihLVDsb3yw50ihrVigrLBgv0zsb0AgLZihrYB3bOEsbKzwzPBML0Aw9UpYbuAgLZigfJDgLVBIbJyw5UB3qGyMuGDw5KB25LigfUzcbTAwDODcbHzMzLy3qGCgXHEwvYCYb3Ag8GAgf2zsbIzwvUigf3yxjKzwqGDgHPCYb0CM9WAhKU','zxjYB3iTC3rHDgu','pgrPDIbJBgfZCZ0IBM8TCMvZDwX0CYi+tM8GDxnLCNmGzM91BMq8l2rPDJ4','rxjYB3iGz2v0DgLUzYbfte8GyxqGDgLTzsbMB3iGCgXHEwvYia','vgvZDe1HCa','Aw5WDxrBBMfTzt0IDgvZDc1TyxrJAc1SywrKzxiIxq','rxjYB3iGAw4GChjVBw90Aw9UoG','pc9WpGOGicaGicaGicaGicaGicaGpgHYpGOGicaGicaGicaGicaGicaGpha+phn0CM9UzYbZDhLSzt0Iy29SB3i6icnMzJK4mda7iJ7IMQdVUi8GuKvtsu1vtefusu9oifDjteW6pc9ZDhjVBMC+pc9WpGOGicaGicaGicaGicaGicaGphvSpGOGicaGicaGicaGicaGicaGicaGidXSAt5szwnHBgn1Bgf0zsbfte8GCMf0Aw5NCYbIyxnLzcbVBIbWCMuTBwf0y2GGDMfSDwvZpc9SAt4kicaGicaGicaGicaGicaGicaGica8BgK+vxbKyxrLign1CNjLBNqGCgXHEwvYievmtYbYyxrPBMDZpc9SAt4kicaGicaGicaGicaGicaGicaGica8BgK+uMvJywXJDwXHDguGyw5KihvWzgf0zsbWBgf5zxiGCg9ZAxrPB25Zpc9SAt4kicaGicaGicaGicaGicaGicaGica8BgK+q3jLyxrLig1PC3nPBMCGruXpigHPC3rVCNKGzw50CMLLCZWVBgK+cIaGicaGicaGicaGicaGicaGicaGpgXPpKHHBMrSzsbWB3nPDgLVBIbZD2fWCYbPzIb3Aw5UzxiGD2fZigXVD2vYihjHBMTLzdWVBgK+cIaGicaGicaGicaGicaGica8l3vSpGOGicaGicaGicaGica8l2rPDJ4kicaGicaGica','rxjYB3iGBg9HzgLUzYb1C2vYihbVAw50CYbOAxn0B3j5oG','cIaGicaGicaGicaGicaGica8Dgq+','CgvUzgLUzY1JB3vUDa','tg9HzgLUzYbKyxnOyM9HCMqGB3zLCNzPzxCGzgf0ys4UlG','C3vIDhjHy3q','Dg9eyxrL','Bwf0y2HLCY1WCMv2lxbHz2u','pc90zd4kicaGicaGicaGicaGicaGidX0zcbJBgfZCZ0IzwXVlwnOyw5Nzsa','q3vYCMvUDcb1C2vYoG','vxnLCM5HBwuGAw5WDxqGzMLLBgqGkcnYB2XLlxvZzxjUyw1LksbUB3qGzM91BMqGAw4GBw9KywWU','BwfUywDLlwHPz2HSAwDODhm','igXHzgrLCG','C2vHCMnOlxjLC3vSDc1PDgvT','zgf0ys1Zzwn0Aw9U','CMfUA0rPC3rYAwj1DgLVBG','pc9ZCgfUpJWVDgq+cIaGicaGicaGicaGicaGicaGicaGphrKpG','Bg9Hzc10CM9WAgLLCY1KyxrH','yMfY','iJ4kicaGicaGicaGicaGicaGicaGicaGicaGpgKGy2XHC3m9iMzHCYbMys11C2vYlxbSDxmIihrPDgXLpsjbC3nPz24GDg8GCgXHEwvYiJ48l2K+cIaGicaGicaGicaGicaGicaGicaGpc9IDxr0B24+cIaGicaGicaGicaGicaGicaGicaGpgj1DhrVBIbJBgfZCZ0IzgvSzxrLlxrYB3bOEs1IDg4IigrHDgeTAwq9iG','zwrPDc1SB3nZzxm','qxr0zw1WDgLUzYb0BYbWCM9TB3rLia','pgKGy2XHC3m9iMzHCYbMys1ZEw5JlwfSDci+pc9PpIbmB2fKifrYB3bOAwvZ','BwfUywDLlxbVAw50CW','yxbWCM92zwrnyxrJAgvZrdi','yxbWCM92zwrbDa','Aw5WDxrBBMfTzt0IyxnZAwDUlwXHzgrLCIjDoMnOzwnRzwq','y2XVC2vZDa','y2fUy2vSlxf1AwnRlwvKAxq','CMLIyM9UlxrHCMDLDc1SywrKzxi','i2LUywn0AxzLlxbSyxLLCNmTDgfIBguTyM9KEsb0CG','phrYpJX0zcbJB2XZCgfUpsi3iIbJBgfZCZ0IBg9HzgLUzY1JzwXSiJ5mB2fKAw5NigLUywn0AxzLihbSyxLLCNmUlI48l3rKpJWVDhi+','z2v0','ugXLyxnLihnLBgvJDcbHihvZzxiGyw5KigvUDgvYigeGDMfSAwqGyw1VDw50','yxbWCM92zwrnyxrJAgvZrdm','A2v5CW','ugfNzsaX','CxvLCNLtzwXLy3rVCKfSBa','CMLIyM9UlxrHCMDLDc11C2vY','ywnOAwv2zw1LBNq','lNzPzxCTAgLZDg9YEs1IDg4','Bwf0y2GTy291BNq','lNnLy3rPB24TAgvHzgvY','q3jLyxrLihrLC3qGBwf0y2GGBw9KywWGBM90igzVDw5K','rgvSzxrLig1HDgnOignSAwnRzwq6','C2vJB25KCW','pc90zd4kicaGicaGicaGicaGicaGidX0zcbJBgfZCZ0IDhLWzsi+','ywn0AxzPDhKTy2HHCNq','iJ4kicaGicaGicaGicaGicaGicaGicaGicaGpgKGy2XHC3m9iMzHCYbMys1LzgL0iJ48l2K+cIaGicaGicaGicaGicaGicaGicaGpc9IDxr0B24+cIaGicaGicaGicaGicaGicaGicaG','twf0y2GGzgvSzxrLzcbZDwnJzxnZzNvSBhK','i2uWztbLma','lcbmB3nLCIa','C2v0lxjVBguTBw9KywW','BwfUywDLlxbSyxLLCNm','rxjYB3iGBg9HzgLUzYb0CM9WAhKGzgf0ytO','rgfZAgjVyxjKigrHDgeGBg9HzgvKihn1y2nLC3nMDwXSEq','qNjVBNPL','DxnLCI1YB2XL','DhjVCgH5lxbYzxzPzxCTy29UDgfPBMvY','ChjLDMLVDxnfBg8','rxjYB3iGzgvSzxrPBMCGBwf0y2G6','CgXHEwvYswq','CgXHEwvYC0qY','y3vYCMvUDc1YAwjIB24TDxnLCG','zwrPDc1TyxrJAc13Aw5UzxiTy29TBwvUDa','DMfSDwu','tg9HzcbPBMfJDgL2zsbWBgf5zxjZigrHDgeGy2XPy2TLza','u3DPDgnOzwqGDg8G','pgKGy2XHC3m9iMzHCYbMys1ZEw5JlwfSDci+pc9PpIbmB2fKieHPC3rVCNKGrgf0yq','zwrPDc13Aw5Z','Dg9mB2nHBgvtDhjPBMC','zwXV','zgvTB3rLzej5','DxnLCM5HBwu','pgKGy2XHC3m9iMzHCYbMys1LEgnSyw1HDgLVBI10CMLHBMDSzsi+pc9PpIbfCNjVCG','Aw5Hy3rPDMuTCgXHEwvYCY10ywjSzs1IB2r5','D2LUBMvYvxnLCM5HBwu','ywrKlxbSyxLLCI1MB3jT','mtq0s0nSzwzL','zgLZCgXHEu5HBwu','zwrPDc1OAwDOBgLNAhqTAwq','Aw5Hy3rPDMuTCgXHEwvYCW','pc90zd4kicaGicaGicaGicaGicaGidX0zd4','lMnSB3nLlwj0BG','DgL0Bgu','u2v0DgLUzYb1CcbWB2LUDhmGywn0Aw9Uigj1DhrVBNmUlI4','CMvZDwX0','ywnOAwv2zw1LBNrezxrHAwXZ','yxj0AwnSzs1PBwfNzs11CMW','twf0y2GGDxbKyxrLzcbZDwnJzxnZzNvSBhK','tI9b','Bg9Hzc1TyxrJAgvZlwrHDge','AgLNAgXPz2H0lw1HCc12zxjZAw9U','tg9HzcbYAwjIB25ZigrHDgeGy2XPy2TLza','ihrVDgfSihbSyxLLCNmGAw4GDgHLia','Bwf0y2GTzgv0ywLSCY1JB250ywLUzxi','igfKzgvKihn1y2nLC3nMDwXSEsb0BYa','Bg9Hzc1LBg8TAgLZDg9YEs1KyxrH','twf0y2G','zwrPDc1OAwDOBgLNAhqTBwf0y2HeyxrLlwLUChv0','phrYpJX0zcbJB2XZCgfUpsi1iIbJBgfZCZ0IBg9HzgLUzY1JzwXSiJ5mB2fKAw5NihjPyMjVBNmGzgf0ys4UlJWVDgq+pc90CJ4','phrYpJX0zcbJB2XZCgfUpsi3iIbJBgfZCZ0IBg9HzgLUzY1JzwXSiJ5bChbSEwLUzYbMAwX0zxjZlI4Upc90zd48l3rYpG','Bg9Hzc1HCNrPy2XLCY1KyxrH','pc90zd4kicaGicaGicaGicaGicaGidX0zcbJBgfZCZ0ID2LUBMvYlwnLBgWIpG','zwrPDc1TyxrJAc1SB3nLCI1JB21Tzw50','zwrPDc1TyxrJAc1SywrKzxi','ww91ig11C3qGyMuGBg9Nz2vKigLUihrVihbLCMzVCM0GDgHPCYbHy3rPB24','ywnOAwv2zw1LBNrqBgf5zxi','zMLYC3rwAxnPyMXL','Bg9Hzc1PBMfJDgL2zs1WBgf5zxjZlwrHDge','rxjYB3iGzMv0y2HPBMCGBwf0y2HLCYbMB3iG','rMfPBgvKihrVigXVywqGDxnLCIbKyxrHoIa','AgLNAgXPz2H0lw1HDgnOlwrHDgu','tg9ZzxiG','zwrPDc11C2vYBMfTzq','y3jLyxrLrwXLBwvUDa','AgLNAgXPz2H0lxbSyxLLCI1WCM9MAwXLlwnVBNrHAw5LCG','DgLTzxn0yw1W','uxvLDwvKia','Aw5WDxrBBMfTzt0IC2v0lwvSBY1SywrKzxiIxtPJAgvJA2vK','zwXVlwHPC3rVCNK','iIb0AxrSzt0IrgvSzxrLiJ4kicaGicaGicaGicaGicaGicaGicaGicaGpgKGy2XHC3m9iMzHCYbMys10CMfZAci+pc9PpGOGicaGicaGicaGicaGicaGicaGidWVyNv0Dg9UpGOGicaGicaGicaGicaGicaGpc90zd4kicaGicaGicaGicaG','Cg9PBNrZlxvZzxiTC2vHCMnO','Bwf0y2HLCY1LBMqTzgf0zq','Bg9HzgLUzW','qxj0AwnSzsbKzwXLDgvKihn1y2nLC3nMDwXSEq','icHMCM9Tia','q2fUy2vSigj1DhrVBIaOi2nHBMnLBc1YB2XLlwj0BIKGBM90igzVDw5KigLUig1VzgfSlG','CMvWBgfJzunOAwXK','twf0y2GGsuqGAxmGCMvXDwLYzwq','twf0y2HLCYbHy3rPB24GyNv0Dg9UCYbZzxr1CcbJB21WBgv0zq','pc9WpGOGicaGicaGicaGicaGicaGpha+phn0CM9UzZ5dDxjYzw50ieXVC2vYievmtZO8l3n0CM9UzZ4G','zMeTy2HLy2STy2LYy2XL','DgHLBG','zgf5C1nPBMnLtwf0y2G','vgL0BguGAxmGCMvXDwLYzwq','AgLNAgXPz2H0lwfJAgLLDMvTzw50lxr5Cgu','rxjYB3iGBg9HzgLUzYbWB2LUDhmGAgLZDg9YEtO','ugfNzsa','rxjYB3iGy2HLy2TPBMCG','yxDHCMqTAxrLBs1MB3jT','vxnLCIbOyxmG','C3vIC3rYAw5N','BgfZDfvWzgf0zwq','vxnLCIa','iJ4kicaGicaGicaGicaGicaGicaGicaGicaGpgKGy2XHC3m9iMzHCYbMys10CMfZAc1HBhqIpJWVAt4kicaGicaGicaGicaGicaGicaGica8l2j1DhrVBJ4kicaGicaGicaGicaGicaGidWVDgq+cIaGicaGicaGicaGia','ywrTAw5FBw9KAwzPy2f0Aw9U','zwrPDc1TyxrJAc1SB3nLCI1Zy29Yzq','ignVBgXLy3rPB24UlI4','phrKignVBhnWyw49iJuIignSyxnZpsjLBxb0Es1ZDgf0zsi+tM8GDxnLCNmGBwf0y2GGEw91CIbMAwX0zxjZpc90zd4','DhjPBq','Bg9Zzxjty29Yzq','cIaGicaGicaGicaGicaGicaGicaGphrKpG','uhjVBw90Aw9Uig5VDgLMAwnHDgLVBIbZzw50ihrVierPC2nVCMqGyM90','zwrPDc1OAwDOBgLNAhqTCgXHEwvYuhjVzMLSzvvYBc1PBNb1Da','phrYpJX0zcbJB2XZCgfUpsi3iIbJBgfZCZ0IBg9HzgLUzY1JzwXSiJ5mB2fKAw5Nig1HDgnOzxmUlI48l3rKpJWVDhi+','AgLNAgXPz2H0lxzPzgvVlxbYzxzPzxCTy29UDgfPBMvY','vw5RBM93BG','u2v0igrLzMf1BhqGBgfKzgvYihrVoG','zdeTChjLDI1WywDL','ug9PBNrZigfJDgLVBIbIDxr0B25ZihnLDhvWignVBxbSzxrL','zwrPDc1TyxrJAc1Tyxa','DgfYz2v0','tw9KywWGC2HVDwXKig5VDYbIzsb2AxnPyMXL','C3rVCfbYB3bHz2f0Aw9U','tM8GCg9ZAxrPB24Gy2HHBMDLCYbUzwvKzwqU','CMvXDwLYzwq','ChvZAa','zg91z2HUDxq','rxjYB3iGBg9HzgLUzYbHCNrPy2XLCZO','yxnZAwDUlxrYB3bOEs1Pza','tw9KywWGzwXLBwvUDcbMB3vUzdO','rxjYB3iGCMvTB3zPBMCGCMLIyM9UoG','CxvPy2STywrK','iIakicaGicaGicaGicaGicaGicaGicaGicaGig9UzxjYB3i9iNrOAxmUC3jJpsC','ww91vhvIzsbwAwrLBYbjrcbPCYbYzxf1AxjLzcbMB3iGBwf0y2GGAgLNAgXPz2H0CW','yxnZAwDUlxrYB3bOEs10AxrSzq','uMvQzwn0zwremW','y3jLyxrLzef0','CgvUzgLUz1jLC2LTDwXHDgveyxrH','rxjYB3iGyxDHCMrPBMCGAxrLBtO','u2v0DgLUzYb1Ccbnyw5Hz2uGtwf0y2HLCYbZzwn0Aw9U','twf0y2GGCMvZAw11Bgf0zwqGC3vJy2vZC2z1BgX5isa','vxnLCLbYB2zPBgu','icHSB3nLCIK8l3a+cIaGicaGicaGicaGidXWpJXZDhjVBMC+u2nVCMu6pc9ZDhjVBMC+ia','u2v0DgLUzYbWzxjTAxnZAw9UCYbIyxnLzcbVBIbYB2XLoIa','rxjYB3iGBg9HzgLUzYb1C2vYCZO','twfUywDLifjPyMjVBNmGC2vJDgLVBIbPBML0AwfSAxPLza','twf0y2GGBM90igzVDw5K','Bwf0y2GTCM93','u2LTCgXLihrLC3qGBwf0y2GGy3jLyxrLzcbIEsbHzg1PBIa','yxj0AwnSzs10AxrSzq','yxbWCM92zwrnyxrJAgvZ','phrYpJX0zcbJB2XZCgfUpsi2iIbJBgfZCZ0Izw1WDhKTC3rHDguIpK5VigHPC3rVCNKGzM91BMq8l3rKpJWVDhi+','pgKGy2XHC3m9iMzHCYbMys1ZEw5JlwfSDci+pc9PpIbmB2fKieLUywn0AxzLifbSyxLLCNm','y3vYCMvUDfvZzxi','rxjYB3i6ia','zgvSzxrLlw1HDgnOlwnVBMzPCM0TBw9KywW','pc9WpGOGicaGicaGicaGicaGicaGpha+phn0CM9UzZ5nyxa6pc9ZDhjVBMC+ia','CgXHEwvYlwnVDw50','y3vYCMvUDfrHCMDLDa','iJ4kicaGicaGicaGicaGicaGicaGicaGicaGpgKGy2XHC3m9iMzHCYbMys1Wzw5JAwWTywX0iJ48l2K+cIaGicaGicaGicaGicaGicaGicaGpc9IDxr0B24+cIaGicaGicaGicaGicaGicaGicaGpgj1DhrVBIbJBgfZCZ0IyxnZAwDUlxrYB3bOEs1IDg4IigrHDgeTAwq9iG','BwfUywDLlxjPyMjVBNm','twf0y2GGsgLNAgXPz2H0','CMvZzxq','BwfWugXHEwvK','u2v0DgLUzYb1Ccbnyw5Hz2uGuMLIyM9UCYbZzwn0Aw9U','pc9WpGOGicaGicaGicaGicaGicaGpha+phn0CM9UzZ5nyxrJAcbeyxrLoJWVC3rYB25NpIa','DMLZAwjSzq','y2fUy2vSlwvKAxqTyNrU','lNjLBw92zs1YAwjIB24TyNrU','zMLSDgvY','phrYpJX0zcbJB2XZCgfUpsi3iIbJBgfZCZ0Izw1WDhKTC3rHDguIpK5VihbSyxLLCNmGzM91BMqGAw4GDgHPCYbSywrKzxi8l3rKpJWVDhi+','rxjYB3iGC2f2Aw5NigHPz2HSAwDODdO','zwXVlwHPC3rVCNKTDgfIBguTyM9KEq','rxjYB3iGCMvZAw11Bgf0Aw5Nig1HDgnOoG','ugXHEwvYig5VDcbMB3vUzcbPBIa','lNf1AwnRlwvKAxqTyNrU','vhvLC2rHEq','tM8GCMvHC29UihbYB3zPzgvK','yxj0AwnSzs1Pza','i3rYB3bOEs1TB2rHBcaUy2XVC2uTyNrUlcaJyxnZAwDUlxrYB3bOEs1TB2rHBcaUy2XVC2uTyNrU','igfSBg93zwqGDgfICZO','AgLNAgXPz2H0lxzPzgvVlwLK','tM8GBwf0y2GGzgf0ysbMB3vUzcbMB3iGCMvZAw11Bgf0Aw9U','ChjVBw90zs1SywrKzxi','lcbNAxzPBMCGzgvMyxvSDcbHy2nLC3m','i3bSyxLLCNmTDgfIBguTyM9KEsb0CG','AgLKzgvU','rMfPBgvKihrVignYzwf0zsbZAw1WBguGDgvZDcbTyxrJAdOG','ug9PBNrZigzPzwXKigLUAxrPywXPEMvKigzVCIa','Cg9ZAxrPB24','D2LUBMvYrgvTB0XPBMS','zgf0ys1Pza','BMfTzs1KzxnJ','Aw5Uzxjive1m','q3jLyxrLihrLC3qGBwf0y2GGzM9YBsbZDwjTAxr0zwq','rxjYB3iGC2vHCMnOAw5NihvZzxjZoG','y2fUy2vSlxrYB3bOEs1IDg4','rMfPBgvKihrVihnHDMuGyxj0AwnSztOG','y2fUy2vSlxjVBguTyNrU','phrYpJX0zcbJB2XZCgfUpsi3iIbJBgfZCZ0IBg9HzgLUzY1JzwXSiJ5mB2fKAw5NigHPC3rVCNKUlI48l3rKpJWVDhi+','A2v5','y29UDgfPBNm','A2v5ChjLC3m','BMv3rwXV','C3bSAxq','AgLNAgXPz2H0lw1VzgfSlxrPDgXL','Cg9PBNrZ','iZuWqZG3oa','iZGWoda4ma','zgL2','rxjYB3iGAw5PDgLHBgL6Aw5NigfKBwLUigrHC2HIB2fYzdO','Bg9Hzc1WBgf5zxjZlwrHDge','zwrPDc1TyxrJAc1TB2rHBa','pc9WpGOGicaGicaGicaGicaGicaGpha+phn0CM9UzZ5mB3nLCIbfte8GsgLZDg9YEtO8l3n0CM9UzZ4G','Dg9mB3DLCKnHC2u','lMrLBgv0zs10CM9WAhKTyNrU','igXHzgrLCI4Gq2XPy2SGiKXVywqGrgf0ysiGDg8GCMvMCMvZAc4','zgLZywjSzwq','rxjYB3iGChjVBw90Aw5NihbSyxLLCJO','zgvTB3rLlxvZzxjUyw1L','Aw5WDxq','ywnOAwv2zw1LBNqTDhLWzq','zMXVB3i','mJCWotq5t3rKsgrk','icHIyxnLzcbVBIbKyxrHlxjVBgu6ia','rxjYB3iGBg9HzgLUzYbYAwjIB25ZigrHDge','ugXHEwvYigLZigfSCMvHzhKGyxqGBwf4Aw11BsbYyw5RicHfBwvYywXKksbPBIa','phrYpJX0zcbJB2XZCgfUpsi1iIbJBgfZCZ0IBg9HzgLUzY1JzwXSiJ5mB2fKAw5NihrYB3bOAwvZlI4Upc90zd48l3rYpG','pgKGy2XHC3m9iMzHCYbMys1ZEw5JlwfSDci+pc9PpIbmB2fKiefYDgLJBgvZ','uM9SzsbYzw1VDMvK','BM9Uzq','rMfPBgvKihrVihnLBMqGrgLZy29YzcbUB3rPzMLJyxrPB246','C2L6zq','CgfZDgu','twf0y2HLCYbqBgf5zwq','rM91BMqG','lMrLBgv0zs1HCNrPy2XLlwj0BG','y2fUy2vSlwfYDgLJBguTyNrU','AgLNAgXPz2H0lwXVC2vYlxnJB3jL','zdeTBMv4Dc1WywDL','AgLNAgXPz2H0lxn1yM1PDhrLzc1IEs1JB250ywLUzxi','u2v0ihrVia','tg9HzcbHCNrPy2XLCYbKyxrHignSAwnRzwq','AgLNAgXPz2H0lwnYzwf0B3iTAw1Hz2u','u3vIDhjHy3rLzca','tM8GDxnLCNmGBMvLzgvKihbVAw50CYbMAwvSzcbPBML0AwfSAxPHDgLVBG','ugXHEwvYigLZigfSCMvHzhKGyxqGBwLUAw11BsbYyw5RicHvBNjHBMTLzcKGAw4G','AgLNAgXPz2H0lw1HCc1JCMvHDg9Y','pgKGy2XHC3m9iMzHCYbMys1ZEw5JlwfSDci+pc9PpIbmB2fKifbSyxLLCNmGrgf0yq','zdiTBMv4Dc1WywDL','zgfZAgjVyxjK','rxjYB3iGBg9HzgLUzYbPBMfJDgL2zsbWBgf5zxjZoG','u3vIBwL0igj1DhrVBIbJBgLJA2vKigrPCMvJDgX5','yMXVy2S','AgLNAgXPz2H0lwzVCM0','C2vSzwn0zwqTDxnLCI1Uyw1L','ywz0zxjLBMq','BwvZC2fNzq','ywrKrxzLBNrmAxn0zw5LCG','pgKGy2XHC3m9iMzHCYbMys1ZEw5JlwfSDci+pc9PpIbmB2fKie1HDgnOzxm','D2LUCW','tg9ZDa','ugXHEwvYigrLBgv0zwqGC3vJy2vZC2z1BgX5','BgfZDfzPC2LIBgu','z2v0rgf5','DxnLCI1YB2XLCY1Zzwn0Aw9U','rxjYB3iGB3bLBMLUzYbHC3nPz24GDhjVCgH5ig1VzgfSoG','CM9Szq','Bwf0y2HeyxrL','idXZCgfUignSyxnZpsj1C2vYlxnVDxjJzsi+ka','CxvLCNLtzwXLy3rVCG','AgLNAgXPz2H0lxbSyxLLCNmTy29UDgfPBMvY','ugXLyxnLigvUDgvYihzHBgLKigrHDge','y3jLyxrLlw5LDY1HCNrPy2XLlwj0BG','uxvPy2SGzwrPDcbTB2rHBcbUB3qGzM91BMqGAw4Gre9niq','ug9PBNrZigrHDgeGBg9HzgvKihn1y2nLC3nMDwXSEq','ww91vhvIzsbwAwrLBYbjrcaOt3b0Aw9UywWP','phrYpJX0zcbJB2XZCgfUpsi2iIbJBgfZCZ0Izw1WDhKTC3rHDguIpK5VigHPz2HSAwDODhmGzM91BMq8l3rKpJWVDhi+','ChjVBw90zwrcEq','rM91BMqGDxnLCIbPBIa','C3jJ','CMvZAw11Bgf0zu1HDgnO','DMLZAwjPBgL0Eq','mZG1ntCXwhnYu0nV','phrYpJX0zcbJB2XZCgfUpsi1iIbJBgfZCZ0IzxjYB3iTC3rHDguIpKvYCM9YigXVywrPBMCGDxnLCNm8l3rKpJWVDhi+','phrYpJX0zcbJB2XZCgfUpsi0iIbJBgfZCZ0Izw1WDhKTC3rHDguIpK5VigfYDgLJBgvZigzVDw5Kpc90zd48l3rYpG','Cg9PBNrZlw92zxj2Awv3lxrHyMXLlwjVzhK','rw50zxi','uhjVy2vZC2LUzYbWB2LUDhmGzwrPDdO','DxnLCNmTDgfIBguTyM9KEq','C2v0rgf0zq','pc90zd4kicaGicaGicaGicaGicaGidX0zcbJBgfZCZ0IBg9ZzxiTy2vSBci+','Bg9NAw4UAhrTBa','i2HPz2HSAwDODc1TB2rHBcaUy2XVC2uTyNrU','zMLUza','zM9JDxm','Dw5RBM93BG','vw5RBM93BIbqBgf5zxi','zwrPDc1OAwDOBgLNAhqTy3jLyxrVCKLTywDLvxjSlwLUChv0','y3jLyxrVCKLTywDLvxjS','zgvTB3rLlw1VzgfS','vgvZDcbTyxrJAa','BwfWtMfTzq','rxjYB3iGy3jLyxrPBMCGywn0AxzPDhKGy2HHCNq6','yxj0AwnSzs1HDxrOB3i','DxbKyxrL','u3rHCNrPBMCGy29TCgXLDguGBwf0y2GGCMvZAw11Bgf0Aw9UlI4U','CMLIyM9UCW','CM9SzufZC2LNBMvKqxq','yxj0AwnSzs1TB2rHBa','DhjVCgH5rgvMAw5PDgLVBNm','CxvPy2STzwrPDc1JDxjYzw50lxbVAw50CW','CgXHEwvYCY10ywjSzs1IB2r5','rxjYB3iGywrKAw5NihbSyxLLCJOG','ugXLyxnLigvUDgvYigeGDxnLCM5HBwu','pgKGy2XHC3m9iMzHCYbMys1ZEw5JlwfSDci+pc9PpIbmB2fKieHPz2HSAwDODhm','rMfPBgvKihrVigfZC2LNBIb0CM9WAhK6ia','Bg9JywXLq29TCgfYzq','uxvPy2SGzwrPDcbJBgLJA2vKigzVCIb1C2vYoG','zwrPDc1WBgf5zxiTBw9KywW','Cg9PBNrZlwfTB3vUDa','tM8GCMfKAw8GyNv0Dg9UigzVDw5KigzVCIbJDxjYzw50igXHzgrLCJO','zxjYB3i','pc9WpGOGicaGicaGicaGicaGicaGpha+phn0CM9UzZ5dDxjYzw50ifDPBM5LCIbfte86pc9ZDhjVBMC+ia','cIaGicaGicaGicaGidXKAxyGy2XHC3m9iM1HDgnOlwrLDgfPBhmIpGOGicaGicaGicaGicaGicaGpgG0pK1HDgnOierLDgfPBhm6pc9Ond4kicaGicaGicaGicaGicaGidXWpJXZDhjVBMC+v2LUBMvYoJWVC3rYB25NpIa','vgvZDfDPBM5LCG','tw9KywWGy2fUy2vSigj1DhrVBIbJBgLJA2vK','q29TBwL0DgLUzYbIyxrJAcb1CgrHDguGzM9Yia','y2HLy2TLza','uxvPy2SGzwrPDcbTB2rHBcbUB3qGzM91BMqGAw4GDgHLihbHz2u','BwfUywDLlxjHBMTZ','rMfPBgvKihrVihnHDMuGBwf0y2G6ia','yxbWBhK','q2XVC2uGyNv0Dg9Uig5VDcbMB3vUzcbPBIbXDwLJAYbLzgL0ig1VzgfS','CMvM','zw5Krgf0zq','vw5Uyw1LzcbuCM9WAhK','y3vYCMvUDc1SywrKzxiTzgLZCgXHEq','tM8GDxnLCIbjrcbMB3vUzcbVBIbIDxr0B24','rM91BMqGC3bLy2LMAwmGCM9SztOG','zwrPDc1TyxrJAc13Aw5UzxiTC2nVCMu','Bwf0y2HmAw5R','CgXHEwvYuMLIyM9UC0qZ','ugXLyxnLigvUDgvYihzHBgLKihvZzxjUyw1LigfUzcbfte8','zNjVBurHDgu','iJ4kicaGicaGicaGicaGicaGidXPignSyxnZpsjMyxmGzMeTDhjHC2GIpJWVAt4GuMvTB3zLcIaGicaGicaGicaGidWVyNv0Dg9UpGOGicaGicaGia','Bwf0y2GTDhLWzq','rgvSzxrPBMCGBwf0y2GG','pc9WpGOGicaGicaGicaGicaGicaGpha+phn0CM9UzZ5ty29YztO8l3n0CM9UzZ4G','rxjYB3iGBg9HzgLUzYb0CM9WAgLLCZO','pgrPDIbJBgfZCZ0Iy2HHCNqTzxjYB3iIpKvYCM9YigXVywrPBMCGy2HHCNqGzgf0ytWVzgL2pG','rMfPBgvKihrVigXVywqGBwf0y2GGzgf0yq','Bwf0y2HLCY1ZDgfYDc1KyxrL','C3r5Bgu','rMfPBgvKihrVigrLBgv0zsbTyxrJAdOG','ugXHEwvYig5VDcbMB3vUza','C2f2zs1WBgf5zxiTyNrU','iIbHBhjLywr5igHHCYb0AgLZihrYB3bOEq','rxjYB3iGBg9HzgLUzYbYAwjIB25ZoG','BwfUywDLlxrYB3bOAwvZ','zwrPDc1TyxrJAc13Aw5UzxiTzgvTBW','y29SB3i','y2HHBMDL','z2v0rwXLBwvUDej5swq','zgf0yq','rMfPBgvKihrVigrLBgv0zsbHCNrPy2XLoIa','BwfWvMvYC2LVBG','rM91BMqGCgXHEwvYihDPDgGGy3vYCMvUDcbfte86ia','zwrPDc1TyxrJAc1SB3nLCI1Kzw1V','u2v0DgLUzYb1CcbJCMvHDguGDgvZDcbTyxrJAcbIDxr0B24','i3vZzxjZlxrHyMXLlwjVzhKGDhi','vhjVCgH5ifbYzxzPzxC','yM9KEq','ihzPzxCGAgLZDg9YEsbIDxr0B25Z','ifDLzwTSEsbby3rPDML0Eq','ywn0AxzPDhK','uhjVBw90Aw5NihbSyxLLCIb0BYa','C3vIBwL0DgvKqNK','Dgv4DenVBNrLBNq','ywXS','phrYpJX0zcbJB2XZCgfUpsi2iIbJBgfZCZ0IBg9HzgLUzY1JzwXSiJ5mB2fKAw5NigHPz2HSAwDODhmUlI48l3rKpJWVDhi+','CxvPy2STzwrPDc1WB2LUDhmTzM9YBq','lM5VlxjLC3vSDhm','igLUia','y3jLyxrLlxrLC3qTBwf0y2GTzM9YBq','tg9HzgLUzY4UlG','tM8GzgvZy3jPChrPB24','DxnLCKLK','rxjYB3iGBg9HzgLUzYbOAwDOBgLNAhq6','rxjYB3iGC2vHCMnOAw5NigzVCIb1C2vY','DhjVCgH5lwLTywDLlxbYzxzPzxC','lMrLBgv0zs1OAwDOBgLNAhqTyNrU','zgvTB3rLlwXHzgrLCG','BwfUywDLlwfYDgLJBgvZ','vw5RBM93BIbbzg1PBG','Cg9ZAxrPDMuTy2HHBMDL','y2f0y2G','ww91ig11C3qGyMuGBg9Nz2vKigLUihrVihnHDMuGDhjVCgHPzxm','rxjYB3iGBg9HzgLUzYbTyxrJAgvZoG','BwLNCMf0zs1WB2LUDhmTyNrU','pc9ZCgfUpJWVDgq+cIaGicaGicaGicaGicaGica8Dgq+','u3vJy2vZC2z1BgX5igrLBw90zwqG','ihvZzxjZigfSCMvHzhKGAgfKihbVAw50CY4','i2zMzMzMzG','q3jLyxrLihrLC3qGBwf0y2GGyNv0Dg9UignSAwnRzwq','4PYfifn1y2nLC3nMDwXSEsbPBML0AwfSAxPLzcbWB2LUDhmGzMLLBgqGzM9Yia','DxnLCLrYB3bOAwvZ','Bg9N','rMfPBgvKihrVigXVywqGCgXHEwvYigrHDge','y3jLyxrLlxrLC3qTBwf0y2GTyNrU','AgLNAgXPz2H0lw1VzgfS','BgfZDfbVAw50C01VzgLMAwvK','C2v0','rMLYzwjHC2uGy29UBMvJDgLVBIb0zxn0ihn1y2nLC3nMDwWH','DMLKzw9jza','q3jLyxrLzca','mtGZmfLtwLLutW','rMfPBgvKihrVigXVywqGCg9PBNrZigrHDge6ia','nJe3mdKWmvfIuffYza','AgLNAgXPz2H0lwrLC2nYAxb0Aw9U','BgfKzgvY','i2nYzwf0zs10zxn0lw1HDgnOlwzVCM0','y3jLyxrLlxrLC3qTBwf0y2GTBw9KywW','Bg9Zzxjezw1VtgLUAW','lNvZzxjUyw1L','C2vSzwn0zwqTDxnLCI1WB2LUDhm','lMXHzgrLCI1ZD2L0y2GGAw5WDxq','y2XPy2S','y3jLyxrLzej5','B25bDxrOu3rHDgvdAgfUz2vK','D2LUBMvYu2nVCMu','DhjVCgH5lw5HBwu','rxjYB3iGC2v0DgLUzYb1C2vYihjVBgu6','pc90zd4kicaGicaGicaGicaGicaGidX0zcbJBgfZCZ0Iywn0Aw9UCYi+cIaGicaGicaGicaGicaGicaGicaGpgj1DhrVBIbJBgfZCZ0IzwrPDc1TyxrJAc1IDg4GyNrUlxnTywXSiIbKyxrHlwLKpsi','C2v0lxjVBguTzM9YBq','BMv3ug9PBNrZ','pc90zd4kicaGicaGicaGicaGicaGidX0zcbJBgfZCZ0Iywn0Aw9UCYi+cIaGicaGicaGicaGicaGicaGicaGpgj1DhrVBIbJBgfZCZ0IzwrPDc1YB2XLlwj0BIiGzgf0ys11C2vYBMfTzt0I','CM9SzunVBg9Y','zxHPC3rZ','zgvZDhjVEq','twf0y2GGuMvZDwX0','C291CMnLCW','phnWyw4Gy2XHC3m9iNjVBguTyMfKz2uIihn0EwXLpsjIywnRz3jVDw5KlwnVBg9YoIa','C2vHCMnOlxjPyMjVBI11C2vYlwj0BG','C29YDa','i21HDgnOzxmTDgfIBguTyM9KEsb0CG','Bwf0y2HLCY1UzxH0lxbHz2u','tw9KywWGy29TChv0zwqGC3r5BgvZoG','y29UzMLYBs1YzxnPBxvSyxrLlwj0BG','BMfTzq','zgLZCgXHEq','zwrPDc1OAwDOBgLNAhqTD2LUBMvYtMfTzs1PBNb1Da','pgKGy2XHC3m9iMzHCYbMys1ZEw5JlwfSDci+pc9PpIbmB2fKierHC2HIB2fYzcbeyxrH','AgLNAgXPz2H0lwfJAgLLDMvTzw50lxr5CguTy29UDgfPBMvY','CgfYzw50tM9Kzq','ug9ZAxrPB25ZihvWzgf0zwq6ifDPBM5LCIa','Aw1Hz2u','CgXHEwvYC0qZ','DgvZDc1TyxrJAc13Aw5UzxiTDxnLCM5HBwu','pc90zd4kicaGicaGicaGicaGicaGidX0zcbJBgfZCZ0IBMv3lwvSBYi+','pc9WpGOGicaGicaGicaGicaGicaGpha+phn0CM9UzZ5mywrKzxi6pc9ZDhjVBMC+ia','vxnLCM5HBwuG','cIaGicaGicaGlsbvC2vYCYb3Ag8GywXYzwfKEsbOywqGCg9PBNrZoIa','rMfPBgvKihrVigf3yxjKigL0zw06ia','zw1WDhK','ihDHCYb1CgrHDgvKigzYB20G','Bg9Hzc11C2vYCY1KyxrH','igj5ifvjrdO','BM8TCMvZDwX0CY1TzxnZywDL','Bg9ZzxjvC2vYBMfTzq','u2LSDMvY','uhjVzMLSzq','Bwf0y2G','igzVCIbWB2LUDhmGAw5PDgLHBgL6yxrPB24','qwrKzwqG','CMvTB3zL','DxnLCI1ZzwfYy2GTCMvZDwX0CW','pc9ZCgfUpGOGicaGicaGicaGicaGicaGpc9KAxy+cIaGicaGicaGicaGidWVDgq+cIaGicaGicaGicaGidX0zd4','i3bSyxLLCNmUy29UDgvUDc1Zzwn0Aw9UlMfJDgL2zq','vgvZDgLUzYbgAxjLyMfZzsbJB25Uzwn0Aw9UlI4U','BgfZDe1HDgnO','vw5RBM93BIbvC2vY','ywnOAwv2zw1LBNruExbL','re9nq29UDgvUDeXVywrLza','vhjVCgH5ieLeigfUzcb1C2vYBMfTzsbHCMuGCMvXDwLYzwq','lMXHzgrLCI1ZD2L0y2GGAw5WDxrBDMfSDwu9iKqYiL0','DMfSAwrHDgLVBI1Yzxn1BhrZlwnVBNrHAw5LCG','CM9Szs1JB2XVCG','lMvTChr5lxn0yxrL','qxjLihLVDsbZDxjLihLVDsb3yw50ihrVihjLBw92zsb0AguGCM9SzsbMCM9Tia','AgLNAgXPz2H0lwXVC2vYlw5HBwu','rxjYB3iGy3jLyxrPBMCGC2LTCgXLihrLC3qGBwf0y2G6','Dg9mB2nHBgveyxrLu3rYAw5N','zwrPDc1TyxrJAc13Aw5Uzxi','ywnOAwv2zw1LBNrjBwfNzvvYBa','sw5PDgLHBcbqBgfJzw1LBNq','pgKGy2XHC3m9iMzHCYbMys1ZEw5JlwfSDci+pc9PpIbmB2fKifvZzxjZierHDge','ww91ig11C3qGyMuGBg9Nz2vKigLUihrVihnHDMuGyxj0AwnSzxm','ihDPDgGGzw1HAwWG','vhjVCgH5ihvWzgf0zwqGC3vJy2vZC2z1BgX5','rxjYB3iGB3bLBMLUzYbLzgL0ig1VzgfSoG','vhjVCgH5ig5VDcbMB3vUza','rwrPDcbnyxrJAdOG','pgKGy2XHC3m9iMzHCYbMys1ZEw5JlwfSDci+pc9PpIbmB2fKifrYB3bOAwvZierHDge','phrYpJX0zcbJB2XZCgfUpsi2iIbJBgfZCZ0IBg9HzgLUzY1JzwXSiJ5mB2fKAw5NigHPC3rVCNKUlI48l3rKpJWVDhi+','CMLIyM9Ulxr5CguTC2vSzwn0','u2v0DgLUzYb1Ccbnyw5Hz2uGug9PBNrZihnLy3rPB24','rwrPDcbuCM9WAhK','ww91ig11C3qGyMuGBg9Nz2vKigLU','zwrPDc1OAwDOBgLNAhqTDgL0BguTAw5WDxq','pgKGy2XHC3m9iMzHCYbMys1ZEw5JlwfSDci+pc9PpIbmB2fKifjPyMjVBNmGrgf0yq','mZzPB1vNtNq','BwfWq3jLyxrVCG','D2LUBMvYu3vPy2LKzxm','BgvUz3rO','CgXHEwvYCW','phrYpJX0zcbJB2XZCgfUpsi2iIbJBgfZCZ0IzxjYB3iTC3rHDguIpKvYCM9YigXVywrPBMCGAgLZDg9YEtOG','zw1HAwW','pc9ZCgfUpGOGicaGicaGicaGicaGicaGpc90zd4kicaGicaGicaGicaGicaGidX0zd4','rxjYB3iGywrKAw5NihjPyMjVBG','CMDIysGYntuSidi1nsWGmJu1lcaWlJeP','zwrPDc1OAwDOBgLNAhqTD2LUBMvYu2nVCMuTAw5WDxq','D2fYBMLUzW','sgLNAgXPz2H0ihvWzgf0zwqGC3vJy2vZC2z1BgX5iq','Aw1N','oYi+','zwXVsgLZDg9YEuqY','y29TBw9U','CxvPy2STzwrPDc1WB2LUDhmTBw9KywW','AgLNAgXPz2H0lw1HCc12zxjZAw9UlwnVBNrHAw5LCG','rxjYB3iGDxbKyxrPBMCGCg9PBNrZoG','rei6','DhjVCgH5lwLK','DxnLCLbYB2zPBgvZ','DxnLCI1YAwjIB24TBwfUywDLBwvUDa','iIbZzxq','qxj0AwnSzsbUB3qGzM91BMq','t3bLBMLUzYbXDwLJAYbLzgL0ig1VzgfSigzVCIb1C2vYieLeoG','y3jLyxrVCG','tw9KywWGyMfJA2DYB3vUzcbJBgLJA2vK','q3jLyxrLihrLC3qGBwf0y2GGBw9KywWGC2v0DxaGy29TCgXLDgu','DhjVCgH5lw1VzgfS','cIaGicaGicaGicaGidXWpJXZDhjVBMC+rgf0ztO8l3n0CM9UzZ4G','ihvZzxjZihDPDgHVDxqGCg9PBNrZigzPzwXKic0GDgHLEsb3AwXSigrPC3bSyxKGyxmGmcbWB2LUDhm','CM9Szs11C2vYBMfTzq','Dg9ju09tDhjPBMC','Aw5WDxrBBMfTzt0IChjVBw90zs1SywrKzxiIxtPJAgvJA2vK','mJC3mdGZnhLbCgH6zG','yxj0AwnSzxm','AgLZDg9YEs1ZDgfYDc1KyxrL','yxDHCMrLzef0','ww91vhvIzsbwAwrLBYbjrcO','lxbYzxyTCgfNzq','CMvZAw11Bgf0Aw9U','D2fYBG','AgLZDg9YEs10ExbLlwzPBhrLCG','lMrLBgv0zs1TyxrJAc1IDg4','rxnZzw50AwfSigHPz2HSAwDODcbTB2rHBcbLBgvTzw50CYbUB3qGzM91BMqH','CgvUzgLUz01HDgnOzxm','BwfUywDLlwXLDMvSCY1YAwjIB25Z','CM9SzufZC2LNBMvKqNK','ugXHEwvYiefJAgLLDMvTzw50','DxnLCKfSBg93zwruywjZ','rgvTB3rPBMCGCgXHEwvYihrVia','mxb4ihnVBgLKihjNyMeOmJu1lcaXotmSidCSidaUmYK','mtyXmtzYv3LNEu8','v29U','tw9KywWGy2XVC2vK','C2v0lwvSBY1MB3jT','zgvTB3rPB24','q3jLyxrLie5LDYa','Cg9PBNrZsgLZDg9YEq','u2v0DxaGtwfUywDLiefYDgLJBgvZoIbdCMvHDguGqxj0AwnSzsbIDxr0B24GBM90igzVDw5Kiq','cIaGicaGicaGicaGidX0CJ4kicaGicaGicaGicaGicaGidX0zcbJB2XZCgfUpsi3iIbJBgfZCZ0IzxjYB3iTC3rHDguIpGOGicaGicaGicaGicaGicaGicaGievYCM9YigXVywrPBMCGBwf0y2HLCZOG','zwXVsgLZDg9YEq','zMeTzxHJBgfTyxrPB24Ty2LYy2XL','tM8Gzw1HAwW','tw9KywWGy2XVC2uGyNv0Dg9UignSAwnRzwq','C3vJy2vZCW','rMfPBgvKihrVigrLBgv0zsb0CM9WAhK6ia','Aw5WDxrBBMfTzt0ICxvPy2STywn0Aw9UiL06y2HLy2TLza','q2XVC2LUzYbJCMvHDguGDgvZDcbTyxrJAcbTB2rHBa','DxbKyxrLzef0','zwrPDc1TyxrJAc13Aw5UzxiTC3vPy2LKzxm','Bwf0y2HjBMzV','CMLIyM9U','lMvKAxqTAgLNAgXPz2H0lwj0BG','rxjYB3i','C2vHCMnOvgvYBq','AgLNAgXPz2H0lwnYzwf0B3iTAw1Hz2uTy29UDgfPBMvY','rxjYB3iGBg9HzgLUzYbTyxrJAcbKyxrHoG','BM9UlxbHCNrPy2LWyw50','yxv0Ag9Y','iJ4kicaGicaGicaGicaGicaGicaGicaGicaGpgKGy2XHC3m9iMzHCYbMys1Wzw5JAwWTywX0iJ48l2K+cIaGicaGicaGicaGicaGicaGicaGpc9IDxr0B24+cIaGicaGicaGicaGicaGicaGicaGpgj1DhrVBIbJBgfZCZ0IzgvSzxrLlwj0BIiGzgf0ys1Pzd0I','yxDHCMqTCMvHC29U','AgfZ','qxjLihLVDsbZDxjLihLVDsb3yw50ihrVigrLBgv0zsb0AgLZig1HDgnOpYbuAgLZigfJDgLVBIbJyw5UB3qGyMuGDw5KB25LlG','Bg9Hzc1YAwjIB25ZlwrHDge','pc90zd4kicaGicaGicaGicaGicaGidX0zcbJBgfZCZ0IChjLDMLVDxmTzwXViJ4','CgXHEwvYuhjVzMLSzvvYBa','BwfW','Bg9HzgLUzY1JzwXS','r29Sza','AgLNAgXPz2H0CW','zM9YrwfJAa','zwXVsgLZDg9YEuqZ','lI9WCM9TB3rPB25ZlMPZ','vw5Yyw5Rzwq','DhjVCgH5swq','y2XHC3nmAxn0','Bwf0y2HLCY1ZzwfYy2G','AgLNAc1WB2LUDhm','uM9SzsbZzwXLy3qGzMLLBgqGkcn1C2vYlxjVBguPig5VDcbMB3vUzcbPBIbTB2rHBc4','cIaGicaGicaGicaGicaGica8zgL2ignSyxnZpsj1C2vYlwLUzM8IpGOGicaGicaGicaGicaGicaGicaGidXZDhjVBMC+','ug9PBNrZihvWzgf0zwqGC3vJy2vZC2z1BgX5','Cg9PBNrZlw92zxj2Awv3lxnLyxjJAa','igzVCIb1C2vYici','CgXHEwvYlxnLyxjJAa','C3vIBwL0','C2vSzwn0zwqTDxnLCI1Pza','y2fUy2vSlwHPz2HSAwDODc1IDg4','cIaGicaGicaGicaGicaGica8DgqGy2XHC3m9iNrYB3bOEs1PBwfNzs1JzwXSiJ4kicaGicaGicaGicaGicaGicaGica8Aw1NihnYyZ0I','ig5VDcbMB3vUzcbPBIbHBNKGBgfKzgvY','mtiWsMfpyw1q','zg9JCW','CgfNzq','vxnLCIbKyxrHigXVywrLzdO','ug9PBNrZig1VzgLMAwvKihn1y2nLC3nMDwXSEq','lNzPzxCTCgXHEwvYlwj0BG','vxbKyxrPBMCGCM9SzsbMB3iG','AhjLzG','pc9WpGOGicaGicaGicaGica8Cd48C3rYB25NpKXHzgrLCJO8l3n0CM9UzZ4G','nda3ndnfAu9Iyvu','rMfPBgvKihrVig1VzgLMEsbWB2LUDhm6ia','CM9Szu5HBwu','phrYpJX0zcbJB2XZCgfUpsi3iIbJBgfZCZ0Izw1WDhKTC3rHDguIpK5Vig1HDgnOzxmGzM91BMq8l3rKpJWVDhi+','qxr0ywnOAw5NignHBMnLBcbIDxr0B24GBgLZDgvUzxiU','vxnPBMCGy29SBgvJDgLVBJOG','ihf1AwnRigvKAxqGyNv0Dg9UCW','rxjYB3iGC2f2Aw5Nig1HDgnOoG','rxjYB3iGBg9HzgLUzYbTyxrJAcbMB3iGzgvSzxrPB246','ChjVBw90zs1TB2rHBa','Bwf0y2Hjza','ywn0Aw9U','yxbWBhKTBwf0y2HLCY1MAwX0zxjZ','rMfPBgvKihrVihvWzgf0zsbWB2LUDhm6ia','rxjYB3iGBg9HzgLUzYbOAwDOBgLNAhrZoG','cIaGicaGicaGicaGicaGica8l3nWyw4+cIaGicaGicaGicaGidWVDgq+cIaGicaGicaGicaGidX0zd4','C2v0DgLUz3m','D2LU','AgLNAgX5lwLUywn0AxzL','zgvSzxrLlw1HDgnOlxn1Bw1HCNK','yxnZAwDUlxrYB3bOEs1PBwfNzq','Aw5MBW','AgLNAgXPz2H0lxzPzgvVlxbYzxzPzxC','q2fUy2vSigj1DhrVBIbUB3qGzM91BMq','cIaGicaGicaGicaGicaGica8l3rKpGOGicaGicaGicaGica','tMv2zxiGCgXHEwvK','y3vYCMvUDc1YAwjIB25ZlwXPC3q','zgvZyW','tg9HzgvKia','qwXSigzPzwXKCYbHCMuGCMvXDwLYzwq','CMfYAxr5','zwrPDc1TyxrJAc1Pza','phrYpJX0zcbJB2XZCgfUpsi0iIbJBgfZCZ0IBg9HzgLUzY1JzwXSiJ5mB2fKAw5NigfYDgLJBgvZlI4Upc90zd48l3rYpG','zwXVuMf0Aw5N','C3rHCNreyxrL','uMvZAw11Bgf0zwqGzw50CNKGlsbfte8Gyw5KihbVC2L0Aw9UCYbJywXJDwXHDgvKigzYB20Gywn0DwfSihbYzs1TyxrJAcbKyxrH','rw1LCMfSza','lM5HDI1PDgvT','B3bHy2L0Eq','y2vSBhm','pgKGy2XHC3m9iMzHCYbMys1ZEw5JlwfSDci+pc9PpIbmB2fKiefYDgLJBgvZierHDge','ChjLDMvUDerLzMf1Bhq','DwLK','ChjVBw90zs11C2vYBMfTzq','BwfUywDLlw1HDgnOzxm','zwrPDc1TyxrJAc10AxrSzq','DhjVCgH5lwzVCM0','pc90zd4kicaGicaGicaGicaGicaGidX0zcbJBgfZCZ0IDhjVCgH5lxjHCML0Es1JzwXSiJ4kicaGicaGicaGicaGicaGicaGica8C3bHBIbJBgfZCZ0IDhjVCgH5lxjHCML0Esa','y2XVBMvoB2rL','iIbHD2fYzgvKihrVia','yM9YzgvYuMfKAxvZ','y29TBwL0','iIbUB3qGzM91BMqGAw4G','rgvTB3rPB24','sw52ywXPzcbHy3rPB24','y2XHC3noyw1L','CxvPy2STzwrPDc1KAxnWBgf5lw5HBwu','y3jLyxrVCI10ExbL','vxnLCIbUB3qGzM91BMq','AgLNAgXPz2H0lwfJAgLLDMvTzw50lwrLDgfPBhmTy29UDgfPBMvY','uxvPy2SGzwrPDcbMB3jTigvSzw1LBNrZig1PC3nPBMCGzNjVBsbive1m','cIaGicaGicaGicaGicaGica8DgqGy2XHC3m9iNbVC2L0Aw9UiJ4','rxjYB3iGBg9HzgLUzYbWBgf5zxjZoG','yxnZAwDUlxrYB3bOEs1KzxnJCMLWDgLVBG','cIaGicaGicaGicaGicaGicaGicaGicaGidXIDxr0B24Gy2XHC3m9iNjLBw92zs1YB2XLlwj0BIiGzgf0ys11C2vYBMfTzt0I','lMvKAxqTCM9Szs1IDg4','C2v0lwvSBY1IDg4','Aw5Zzxj0qwrQywnLBNrfBgvTzw50','mc42','AgLNAgXPz2H0lw1HCc1JCMvHDg9YlwnVBNrHAw5LCG','qxv0AdO','zw1WDhKTC3rHDgu','pgKGy2XHC3m9iMzHCYbMys1ZCgLUBMvYigzHlxnWAw4IpJWVAt4Gtg9HzgLUzY4UlG','ihDPDgGGruXpia','ChjLDMLVDxnfBgvTzw50u2LIBgLUzW','tg9HzgLUzYb1C2vYigrHDgeUlI4','DhLWzq','cIaGicaGicaGicaGidX0CJ4kicaGicaGicaGicaGicaGidX0zcbJB2XZCgfUpsi1iIbJBgfZCZ0IzxjYB3iTC3rHDguIpGOGicaGicaGicaGicaGicaGicaGievYCM9YigXVywrPBMCGDhjVCgHPzxm6ia','Aw5JBhvKzxm','yw1VDw50','Bwf4','DhjVCgH5lxbYzxzPzxCTAw1N','AgLNAgXPz2H0lwfJAgLLDMvTzw50lwLTywDL','ywn0AxzL','ihbVAw50CZWVzgL2pGOGicaGicaGicaGicaGicaGpc9KAxy+cIaGicaGicaGicaGia','lNjLBw92zs1YB2XLlwj0BG','C291CMnL','pc90zd4kicaGicaGicaGicaGicaGidX0zd48C3bHBIbJBgfZCZ0IAgLNAgXPz2H0lxr5CguG','z2v0q29TChv0zwrtDhLSzq','y2fUy2vSlwfZC2LNBI1IDg4','vw50AxrSzwq','AgLNAgXPz2H0lxzPzgvVlwnVBNrHAw5LCG','CMvZAw11Bgf0zs1TyxrJAc1Pza','yxj0AwnSzs1JB250zw50','zgf0yxnLDa','Bwf0y2HLCY10ywjSzs1IB2r5','cIaGicaGicaGicaGicaGica8DgqGy2XHC3m9iNrPBwvZDgfTCci+','cIaGicaGicaGicaGicaGica8l3rKpGOGicaGicaGicaGica8l3rYpGOGicaGicaGia','u3rHCNrPBMCGCg9PBNrZigzPzwXKigLUAxrPywXPEMf0Aw9UigzVCIbHBgWGDxnLCNmUlI4','vxnLCM5HBwuGAxmGBwLZC2LUzW','tM9UlvbHCNrPy2LWyw50','Cg9PBNrZlwfJDgLVBG','AgLNAgXPz2H0lwfJAgLLDMvTzw50lxbSyxLLCG'];a4a=function(){return eO;};return a4a();}async function setupManagePlayersSection(){const aW=a4N,a=document[aW(0x135)](aW(0x344));a&&a['addEventListener']('submit',async g=>{const aX=aW;g[aX(0x26b)](),await addNewPlayer();});const b=document['getElementById']('player-search');b&&b[aW(0xcc)](aW(0x3fd),debounce(filterPlayerTable,0x12c));const c=document['getElementById'](aW(0x12e));c&&c[aW(0xcc)](aW(0x175),saveEditedPlayer);const d=document[aW(0x135)](aW(0x3c8));d&&d['addEventListener'](aW(0x175),closeEditPlayerModal);const e=document[aW(0x135)](aW(0x109));e&&e['addEventListener'](aW(0x175),g=>{const aY=aW;g[aY(0x399)]===e&&closeEditPlayerModal();});const f=document[aW(0x135)]('players-ladder-selector');f&&f[aW(0xcc)](aW(0x134),()=>{currentLadder=f['value'],loadPlayersData();});}async function addNewPlayer(){const aZ=a4N;try{const a=document[aZ(0x135)]('new-player-username'),b=document[aZ(0x135)]('new-player-elo'),c=a[aZ(0x338)]['trim'](),d=parseInt(b['value'])||0x4b0;if(!c){alert('Please\x20enter\x20a\x20valid\x20username');return;}console[aZ(0x161)]('Adding\x20player\x20'+c+aZ(0x28b)+d+'\x20to\x20'+currentLadder+'\x20ladder');let e=aZ(0x1cd),f=aZ(0x208);if(currentLadder==='D2')e=aZ(0x335),f=aZ(0x1d8);else currentLadder==='D3'&&(e='playersD3',f=aZ(0x227));const g=query(collection(db,e),where(aZ(0x340),'==',c)),h=await getDocs(g);if(!h['empty']){alert(aZ(0x197)+c+'\x20already\x20exists\x20in\x20'+currentLadder+'\x20ladder');return;}const i=auth['currentUser'],j={'username':c,'eloRating':d,'wins':0x0,'losses':0x0,'createdAt':serverTimestamp(),'createdBy':i?i['email']:aZ(0x2ce),'gameMode':currentLadder};await addDoc(collection(db,e),j),await addDoc(collection(db,f),{'player':c,'previousElo':0x4b0,'newElo':d,'timestamp':serverTimestamp(),'type':'initial_placement','placedBy':i?i['email']:aZ(0x2ce),'gameMode':currentLadder}),a[aZ(0x338)]='',b[aZ(0x338)]='1200',alert('Player\x20'+c+aZ(0x357)+currentLadder+'\x20ladder!'),loadPlayersData();}catch(k){console[aZ(0x10c)]('Error\x20adding\x20player:',k),alert(aZ(0x103)+k['message']);}}document['addEventListener']('DOMContentLoaded',()=>{const b0=a4N,a=document['getElementById'](b0(0x344));a&&a[b0(0xcc)]('submit',b=>{b['preventDefault'](),addNewPlayer();});});function filterPlayerTable(){const b1=a4N,a=document['getElementById'](b1(0x233))['value'][b1(0x3f7)](),b=document['querySelectorAll'](b1(0x3da));let c=0x0;b[b1(0x226)](e=>{const b2=b1,f=e[b2(0xd8)](b2(0x172))?.['textContent'][b2(0x3f7)]()||'';f['includes'](a)?(e['style']['display']='',c++):e['style']['display']=b2(0x407);});const d=document[b1(0x135)](b1(0x19e));d&&(c===0x0&&a!==''?d[b1(0x12b)][b1(0x18c)]=b1(0xc7):d['style']['display']=b1(0x407));}function debounce(a,b){let c;return function(...d){const b3=a4b;clearTimeout(c),c=setTimeout(()=>a[b3(0x116)](this,d),b);};}async function loadEloHistory(a=0x1){const b4=a4N,b=document['getElementById'](b4(0x3cd)),c=currentLadder[b4(0x3f7)]();if(!b)return;b[b4(0x3e2)]=b4(0x3e8);try{const d=currentLadder==='D1'?'eloHistory':currentLadder==='D2'?b4(0x1d8):'eloHistoryD3',e=collection(db,d);let f;if(a>eloHistoryPagination[c]['page']&&eloHistoryPagination[c][b4(0xd1)])f=query(e,orderBy(b4(0x36c),b4(0x25d)),startAfter(eloHistoryPagination[c][b4(0xd1)]),limit(PAGE_SIZE));else a<eloHistoryPagination[c]['page']&&eloHistoryPagination[c]['firstVisible']?f=query(e,orderBy('timestamp','desc'),endBefore(eloHistoryPagination[c]['firstVisible']),limitToLast(PAGE_SIZE)):f=query(e,orderBy(b4(0x36c),b4(0x25d)),limit(PAGE_SIZE));const g=await getDocs(f);if(g['empty']){b[b4(0x3e2)]='<tr><td\x20colspan=\x227\x22\x20class=\x22empty-state\x22>No\x20ELO\x20history\x20found</td></tr>',document[b4(0x135)](c+'-page-indicator')['textContent']=b4(0x31b);return;}eloHistoryPagination[c][b4(0x23b)]=a,eloHistoryPagination[c][b4(0x363)]=g[b4(0x23a)][0x0],eloHistoryPagination[c][b4(0xd1)]=g[b4(0x23a)][g[b4(0x23a)][b4(0x1cc)]-0x1];const h=new Map();b[b4(0x3e2)]='';const i=async n=>{const b5=b4;if(typeof n!=='string'||n[b5(0x1cc)]<0x14||/[^a-zA-Z0-9-_]/['test'](n))return n;if(h[b5(0x21d)](n))return h['get'](n);try{for(const o of['players',b5(0x335),b5(0x193),'nonParticipants']){const p=await getDoc(doc(db,o,n));if(p[b5(0x180)]()&&p[b5(0x136)]()[b5(0x340)]){const r=p[b5(0x136)]()[b5(0x340)];return h[b5(0x166)](n,r),r;}}return n;}catch(s){return console['warn']('Error\x20resolving\x20username\x20for\x20'+n+':',s),n;}};for(const n of g['docs']){const o=n[b4(0x136)](),p=document['createElement']('tr'),r=o['timestamp']?new Date(o[b4(0x36c)]['seconds']*0x3e8)[b4(0x33d)]():'N/A',s=o['newElo']-o['previousElo'],t=s>0x0?b4(0x155):s<0x0?'negative-change':'',u=s>0x0?'+':'',v=o['player']||o[b4(0x340)]||o[b4(0x14d)]||b4(0x351),w=await i(v);p['innerHTML']=b4(0x2a2)+r+b4(0x2c2)+w+b4(0x220)+(o['previousElo']||b4(0x351))+b4(0x195)+(o[b4(0x3ec)]||b4(0x351))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22elo-change\x20'+t+'\x22>'+u+s+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22type\x22>'+formatHistoryType(o['type'])+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22admin-action\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(o['modifiedBy']||o['promotedBy']||o['demotedBy']||'System')+b4(0x25a),b[b4(0x2b9)](p);}document[b4(0x135)](c+'-page-indicator')[b4(0x144)]=b4(0x381)+a;const j=document['getElementById'](c+b4(0x1f2)),k=document[b4(0x135)](c+'-next-page');if(j)j['disabled']=a<=0x1;const l=query(e,orderBy(b4(0x36c),b4(0x25d)),startAfter(eloHistoryPagination[c][b4(0xd1)]),limit(0x1)),m=await getDocs(l);if(k)k['disabled']=m['empty'];}catch(x){console['error']('Error\x20loading\x20ELO\x20history:',x),b[b4(0x3e2)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x227\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20history:\x20'+x[b4(0xcb)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}function a4b(a,b){const c=a4a();return a4b=function(d,e){d=d-0xb4;let f=c[d];if(a4b['BwhPpA']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a4b['qPvNhq']=g,a=arguments,a4b['BwhPpA']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a4b['qPvNhq'](f),a[i]=f):f=j,f;},a4b(a,b);}function formatHistoryType(a){const b6=a4N;switch(a){case'match_result':return b6(0x182);case'promotion':return'Promotion';case'demotion':return b6(0x277);case'admin_modification':return'Admin\x20Adjustment';case'initial_placement':return b6(0x1b9);default:return a||b6(0x394);}}function setupEloHistorySection(){const b7=a4N;document['getElementById'](b7(0x396))[b7(0xcc)]('click',()=>{loadEloHistory(eloHistoryPagination['d1']['page']-0x1);}),document['getElementById'](b7(0xb9))['addEventListener']('click',()=>{const b8=b7;loadEloHistory(eloHistoryPagination['d1'][b8(0x23b)]+0x1);}),document[b7(0x135)]('d2-prev-page')['addEventListener']('click',()=>{loadEloHistory(eloHistoryPagination['d2']['page']-0x1);}),document['getElementById'](b7(0xc3))['addEventListener']('click',()=>{loadEloHistory(eloHistoryPagination['d2']['page']+0x1);});const a=document['getElementById']('d3-prev-page'),b=document['getElementById']('d3-next-page');a&&a[b7(0xcc)](b7(0x175),()=>{const b9=b7;loadEloHistory(eloHistoryPagination['d3'][b9(0x23b)]-0x1);});b&&b[b7(0xcc)](b7(0x175),()=>{loadEloHistory(eloHistoryPagination['d3']['page']+0x1);});const c=document['getElementById']('elo-history-search');c&&c[b7(0xcc)]('input',debounce(filterEloHistoryTable,0x12c));const d=document[b7(0x135)](b7(0x1f5));d&&d['addEventListener'](b7(0x134),applyEloHistoryFilters);const e=document['getElementById']('reset-history-filters');e&&e[b7(0xcc)]('click',resetEloHistoryFilters);}function filterEloHistoryTable(){const ba=a4N,a=document[ba(0x135)](ba(0x2d5))[ba(0x338)]['toLowerCase'](),b=document[ba(0x31c)]('#elo-history-table-body\x20tr');let c=0x0;b['forEach'](d=>{const bb=ba;if(d['classList']['contains']('loading-cell')||d[bb(0x22b)]['contains'](bb(0x289))||d['classList'][bb(0x3ea)](bb(0x2f1)))return;const e=d[bb(0xd8)]('.player')?.[bb(0x144)][bb(0x3f7)]()||'',f=d[bb(0xd8)]('.type')?.['textContent'][bb(0x3f7)]()||'',g=d['querySelector']('.admin-action')?.[bb(0x144)]['toLowerCase']()||'';e[bb(0x290)](a)||f[bb(0x290)](a)||g['includes'](a)?(d[bb(0x12b)][bb(0x18c)]='',c++):d['style'][bb(0x18c)]=bb(0x407);});}async function applyEloHistoryFilters(){const bc=a4N,a=document['getElementById'](bc(0x1ef))['value'],b=document['getElementById']('history-end-date')['value'],c=document[bc(0x135)]('history-type-filter')[bc(0x338)],d=currentLadder[bc(0x3f7)]();eloHistoryPagination[d]={'page':0x1,'lastVisible':null,'firstVisible':null};const e=document['getElementById']('elo-history-table-body');e['innerHTML']=bc(0x35c);try{const f=currentLadder==='D1'?'eloHistory':'eloHistoryD2',g=collection(db,f);let h=[orderBy(bc(0x36c),'desc')];if(a){const k=new Date(a);k[bc(0x2cc)](0x0,0x0,0x0,0x0),h[bc(0x39e)](where(bc(0x36c),'>=',k));}if(b){const l=new Date(b);l[bc(0x2cc)](0x17,0x3b,0x3b,0x3e7),h['push'](where('timestamp','<=',l));}c&&c!==bc(0x145)&&h[bc(0x39e)](where('type','==',c));h[bc(0x39e)](limit(PAGE_SIZE));const i=query(g,...h),j=await getDocs(i);!j[bc(0x19a)]&&(eloHistoryPagination[d][bc(0x363)]=j[bc(0x23a)][0x0],eloHistoryPagination[d][bc(0xd1)]=j[bc(0x23a)][j['docs'][bc(0x1cc)]-0x1]);e['innerHTML']='';if(j['empty']){e['innerHTML']='<tr><td\x20colspan=\x227\x22\x20class=\x22empty-state\x22>No\x20matches\x20found\x20for\x20the\x20selected\x20filters</td></tr>';return;}j[bc(0x226)](m=>{const bd=bc,n=m[bd(0x136)](),o=document['createElement']('tr'),p=n[bd(0x36c)]?new Date(n['timestamp']['seconds']*0x3e8)[bd(0x33d)]():'N/A',r=n[bd(0x3ec)]-n['previousElo'],s=r>0x0?'positive-change':r<0x0?'negative-change':'',t=r>0x0?'+':'',u=n['player']||n['username']||n[bd(0x14d)]||'N/A';o[bd(0x3e2)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22timestamp\x22>'+p+bd(0x2c2)+u+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22previous-elo\x22>'+(n[bd(0x332)]||'N/A')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22new-elo\x22>'+(n[bd(0x3ec)]||bd(0x351))+bd(0x2ff)+s+'\x22>'+t+r+bd(0x325)+formatHistoryType(n[bd(0x28e)])+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22admin-action\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(n['modifiedBy']||n[bd(0xe0)]||n[bd(0x33f)]||'System')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',e['appendChild'](o);}),document[bc(0x135)](d+'-page-indicator')[bc(0x144)]='Page\x201';}catch(m){console[bc(0x10c)]('Error\x20applying\x20filters:',m),e['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x227\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20applying\x20filters:\x20'+m['message']+bc(0x2a3);}}function resetEloHistoryFilters(){const be=a4N;document['getElementById'](be(0x1ef))['value']='',document['getElementById']('history-end-date')['value']='',document['getElementById'](be(0x1f5))['value']=be(0x145),document['getElementById'](be(0x2d5))['value']='';const a=currentLadder['toLowerCase']();eloHistoryPagination[a]={'page':0x1,'lastVisible':null,'firstVisible':null},loadEloHistory(0x1);}function setupRankControls(){const bf=a4N,a=document[bf(0x135)]('promote-player-btn'),b=document['getElementById'](bf(0x24b)),c=document[bf(0x135)]('promote-form');a&&b&&c&&(a['addEventListener'](bf(0x175),()=>{const bg=bf;b['classList'][bg(0x2e0)]('active');}),b[bf(0xcc)](bf(0x175),l=>{const bh=bf;l['target']===b&&b[bh(0x22b)]['remove'](bh(0x295));}),c['addEventListener'](bf(0x234),async l=>{const bi=bf;l[bi(0x26b)]();const m=document['getElementById'](bi(0x26d)),n=document['getElementById'](bi(0x3d8)),o=m[bi(0x338)]['trim'](),p=n[bi(0x338)];if(!o){showNotification('Please\x20enter\x20a\x20username',bi(0x10c));return;}try{await promotePlayer(o,p),b['classList'][bi(0x1a5)]('active'),m[bi(0x338)]='';}catch(q){showNotification(q[bi(0xcb)],'error');}}),document[bf(0x135)]('cancel-promote-btn')['addEventListener']('click',()=>{const bj=bf;b[bj(0x22b)][bj(0x1a5)]('active');}));const d=document['getElementById']('demote-player-btn'),e=document['getElementById']('demote-modal'),f=document['getElementById']('demote-form');d&&e&&f&&(d['addEventListener'](bf(0x175),()=>{const bk=bf;e[bk(0x22b)][bk(0x2e0)](bk(0x295));}),e['addEventListener']('click',l=>{const bl=bf;l['target']===e&&e['classList'][bl(0x1a5)]('active');}),f['addEventListener'](bf(0x234),async l=>{const bm=bf;l['preventDefault']();const m=document[bm(0x135)]('demote-username'),n=document[bm(0x135)](bm(0x152)),o=m[bm(0x338)]['trim'](),p=n['value'];if(!o){alert('Please\x20enter\x20a\x20username');return;}try{await demotePlayer(o,p),document[bm(0x135)](bm(0xf6))['classList']['remove'](bm(0x295)),document[bm(0x135)]('demote-username')['value']='';}catch(q){console['error']('Error\x20in\x20demotion:',q);}}));const g=document['getElementById'](bf(0x284)),h=document[bf(0x135)](bf(0x2cf)),i=document['getElementById'](bf(0x202));g&&h&&i&&(g[bf(0xcc)](bf(0x175),()=>{const bn=bf;h[bn(0x22b)]['add']('active');}),h['addEventListener']('click',l=>{const bo=bf;l['target']===h&&h['classList'][bo(0x1a5)]('active');}),i['addEventListener'](bf(0x234),async l=>{const bp=bf;l[bp(0x26b)]();const m=document[bp(0x135)]('set-elo-username'),n=document['getElementById']('set-elo-value');let o;const p=document[bp(0x135)]('set-elo-ladder'),q=document[bp(0xd8)](bp(0x36e));if(p)o=p['value'];else q?o=q['value']:o='D1';if(!m||!n){showNotification('Form\x20elements\x20are\x20missing',bp(0x10c));return;}const r=m['value'][bp(0x38d)](),s=parseInt(n['value']);if(!r||isNaN(s)){showNotification(bp(0x121),'error');return;}try{await setCustomElo(r,s,o),h[bp(0x22b)][bp(0x1a5)]('active'),m['value']='',n['value']='';}catch(t){showNotification(t['message'],bp(0x10c));}}),document['getElementById']('cancel-set-elo-btn')[bf(0xcc)](bf(0x175),()=>{const bq=bf;h['classList'][bq(0x1a5)]('active');}));const j=document[bf(0x135)]('set-role-modal'),k=document[bf(0x135)](bf(0x17c));if(j&&k){j[bf(0xcc)](bf(0x175),m=>{const br=bf;m[br(0x399)]===j&&closeModalHandler();}),k['addEventListener']('submit',async m=>{const bs=bf;m[bs(0x26b)]();const n=document[bs(0x135)](bs(0x1ea)),o=document['getElementById']('role-name'),p=document[bs(0x135)](bs(0x1b1)),q=n['value'][bs(0x38d)](),r=o['value']['trim'](),s=p['value'];if(!q){showNotification(bs(0x2a5),'error');return;}try{await setUserRole(q,r,s),closeModalHandler(),loadUsersWithRoles();}catch(t){}});const l=document['getElementById'](bf(0x3e7));l&&(l['removeEventListener'](bf(0x175),closeModalHandler),l[bf(0xcc)]('click',closeModalHandler));}}async function promotePlayer(a,b){const bt=a4N;try{console['log'](bt(0x30c)+a+'\x20in\x20'+b+bt(0x303));const c=auth[bt(0x3ba)];if(!c)throw new Error(bt(0x361));const d=b==='D2'?'playersD2':'players',e=b==='D2'?'eloHistoryD2':bt(0x208);console[bt(0x161)](bt(0x2be)+d);const f=collection(db,d),g=query(f,where(bt(0x340),'==',a)),h=await getDocs(g);if(h[bt(0x19a)]){alert(bt(0x3cf)+b+bt(0x303));throw new Error('Player\x20not\x20found\x20in\x20'+b+bt(0x303));}const i=h[bt(0x23a)][0x0],j=i['data'](),k=j['eloRating']||0x4b0,l=i['id'];console[bt(0x161)]('Found\x20player\x20with\x20current\x20ELO:\x20'+k);const m=[{'name':bt(0x32f),'elo':0x578},{'name':'Silver','elo':0x640},{'name':'Gold','elo':0x708},{'name':bt(0x266),'elo':0x7d0}];let n=m['find'](o=>o[bt(0x33e)]>k);if(!n){alert(bt(0x403)+b+'\x20ladder');throw new Error(bt(0x403)+b+'\x20ladder');}console[bt(0x161)](bt(0x142)+n[bt(0x18b)]+'\x20('+n[bt(0x33e)]+')'),await updateDoc(doc(db,d,i['id']),{'eloRating':n[bt(0x33e)],'lastPromotedAt':serverTimestamp(),'promotedBy':c[bt(0x1cf)]||bt(0x2ce)}),await addDoc(collection(db,e),{'player':a,'previousElo':k,'newElo':n[bt(0x33e)],'timestamp':serverTimestamp(),'type':'promotion','rankAchieved':n['name'],'promotedBy':c['email']||'admin','gameMode':b});try{const {promotionManager:o}=await import(bt(0x228)),p=o['getRankName'](k),r=n['name'];await o['sendPromotionNotification'](l,a,k,n[bt(0x33e)],p,r,'promotion',{'displayName':a,'source':bt(0x2ce),'adminUser':c[bt(0x1cf)],'ladder':b}),console['log'](bt(0x390));}catch(s){console['error'](bt(0x408),s);}return alert('Successfully\x20promoted\x20'+a+'\x20to\x20'+n['name']+'\x20('+n['elo']+')'),currentLadder===b&&(loadPlayersData(),loadEloHistory(0x1)),!![];}catch(t){console[bt(0x10c)](bt(0x3fb),t),alert('Error\x20promoting\x20player:\x20'+t['message']);throw t;}}document[a4N(0xcc)](a4N(0x1ad),()=>{const bu=a4N,a=document[bu(0x135)]('promote-form');a&&a[bu(0xcc)](bu(0x234),async b=>{const bv=bu;b['preventDefault']();const c=document[bv(0x135)]('promote-username')[bv(0x338)][bv(0x38d)](),d=document['querySelector'](bv(0x1ec))[bv(0x338)];if(!c){alert('Please\x20enter\x20a\x20username');return;}try{await promotePlayer(c,d),document['getElementById'](bv(0x24b))['classList'][bv(0x1a5)](bv(0x295)),document['getElementById']('promote-username')[bv(0x338)]='';}catch(f){console[bv(0x10c)](bv(0x2f6),f);}});});async function demotePlayer(a,b){const bw=a4N;try{console['log']('Attempting\x20to\x20demote\x20'+a+'\x20in\x20'+b+bw(0x303));const c=auth[bw(0x3ba)];if(!c)throw new Error(bw(0x361));const d=b==='D2'?'playersD2':bw(0x1cd),e=b==='D2'?bw(0x1d8):'eloHistory';console['log'](bw(0x2be)+d);const f=collection(db,d),g=query(f,where(bw(0x340),'==',a)),h=await getDocs(g);if(h['empty']){alert(bw(0x3cf)+b+bw(0x303));throw new Error('Player\x20not\x20found\x20in\x20'+b+'\x20ladder');}const i=h['docs'][0x0],j=i['data'](),k=j[bw(0x263)]||0x4b0;console['log'](bw(0x139)+k);const l=[{'name':bw(0x224),'elo':0x708},{'name':bw(0x1a0),'elo':0x640},{'name':'Bronze','elo':0x578},{'name':bw(0x229),'elo':0x4b0}];let m=l[bw(0xf0)](n=>n['elo']<k);if(!m){alert('Player\x20is\x20already\x20at\x20minimum\x20rank\x20(Unranked)\x20in\x20'+b+bw(0x303));throw new Error(bw(0xc0)+b+bw(0x303));}console['log'](bw(0x1fd)+m['name']+'\x20('+m[bw(0x33e)]+')'),await updateDoc(doc(db,d,i['id']),{'eloRating':m[bw(0x33e)],'lastDemotedAt':serverTimestamp(),'demotedBy':c['email']||bw(0x2ce)}),await addDoc(collection(db,e),{'player':a,'previousElo':k,'newElo':m[bw(0x33e)],'timestamp':serverTimestamp(),'type':bw(0x203),'rankAchieved':m['name'],'demotedBy':c[bw(0x1cf)]||'admin','gameMode':b});try{const {promotionManager:n}=await import('./promotions.js'),o=n['getRankName'](k),p=m[bw(0x18b)];await n['sendPromotionNotification'](i['id'],a,k,m['elo'],o,p,'demotion',{'displayName':a,'source':bw(0x2ce),'adminUser':c[bw(0x1cf)],'ladder':b}),console['log']('Demotion\x20notification\x20sent\x20to\x20Discord\x20bot');}catch(r){console[bw(0x10c)]('Failed\x20to\x20send\x20Discord\x20notification:',r);}return alert(bw(0x15b)+a+'\x20to\x20'+m['name']+'\x20('+m[bw(0x33e)]+')'),currentLadder===b&&(loadPlayersData(),loadEloHistory(0x1)),!![];}catch(s){console['error']('Error\x20demoting\x20player:',s),alert('Error\x20demoting\x20player:\x20'+s['message']);throw s;}}document['addEventListener'](a4N(0x1ad),()=>{const bx=a4N,a=document[bx(0x135)](bx(0x2dd));a&&a[bx(0xcc)]('submit',async b=>{const by=bx;b[by(0x26b)]();const c=document[by(0x135)]('demote-username')[by(0x338)][by(0x38d)](),d=document[by(0xd8)]('input[name=\x22demote-ladder\x22]:checked')[by(0x338)];if(!c){alert(by(0x104));return;}try{await demotePlayer(c,d),document['getElementById'](by(0xf6))[by(0x22b)][by(0x1a5)]('active'),document['getElementById'](by(0x3fc))['value']='';}catch(f){console[by(0x10c)]('Error\x20in\x20demotion:',f);}});});async function setCustomElo(a,b,c){const bz=a4N;try{const d=auth['currentUser'];if(!d||!isAdmin(d['email']))throw new Error('Unauthorized:\x20Admin\x20access\x20required');const e=c==='D2'?'playersD2':'players',f=c==='D2'?'eloHistoryD2':'eloHistory',g=collection(db,e),h=query(g,where('username','==',a)),i=await getDocs(h);if(i[bz(0x19a)])throw new Error('Player\x20not\x20found\x20in\x20'+c+'\x20ladder');const j=i['docs'][0x0],k=j[bz(0x136)](),l=k[bz(0x263)]||0x4b0,m=writeBatch(db);m['update'](doc(db,e,j['id']),{'eloRating':b,'lastModifiedAt':serverTimestamp(),'lastModifiedBy':d[bz(0x1cf)]});const n=doc(collection(db,f));return m['set'](n,{'player':a,'previousElo':l,'newElo':b,'timestamp':serverTimestamp(),'type':bz(0x389),'modifiedBy':d[bz(0x1cf)],'gameMode':c}),await m['commit'](),showNotification('ELO\x20rating\x20for\x20'+a+bz(0x19b)+l+'\x20to\x20'+b,'success'),currentLadder===c&&(loadDashboardOverview(),loadPlayersData(),loadEloHistory(0x1)),!![];}catch(o){console['error']('Error\x20setting\x20custom\x20ELO:',o);throw o;}}async function setUserRole(a,b,c){const bA=a4N;try{const d=auth['currentUser'];if(!d||!isAdmin(d['email']))throw new Error('Unauthorized:\x20Admin\x20access\x20required');const e=b?b['trim']():null,f=e?c||bA(0x3f1):null,[g,h]=await Promise['all']([getDocs(query(collection(db,bA(0x1cd)),where('username','==',a))),getDocs(query(collection(db,bA(0x335)),where(bA(0x340),'==',a)))]),i=[];if(!g[bA(0x19a)])i['push']({'ref':g[bA(0x23a)][0x0]['ref'],'source':'D1'});if(!h['empty'])i[bA(0x39e)]({'ref':h[bA(0x23a)][0x0][bA(0x118)],'source':'D2'});if(i['length']===0x0){const [l,m]=await Promise[bA(0x145)]([getDocs(query(collection(db,'nonParticipants'),where('username','==',a))),getDocs(query(collection(db,bA(0x1df)),where('username','==',a)))]);if(!l['empty'])i[bA(0x39e)]({'ref':l['docs'][0x0]['ref'],'source':'NonParticipant'});if(!m[bA(0x19a)])i[bA(0x39e)]({'ref':m['docs'][0x0]['ref'],'source':bA(0x3ae)});}if(i['length']===0x0)throw new Error('User\x20\x22'+a+'\x22\x20not\x20found\x20in\x20any\x20collection');const j=writeBatch(db);i['forEach'](n=>{const bB=bA;console[bB(0x161)](bB(0x23f)+a+'\x20in\x20'+n[bB(0x298)]),!e?j['update'](n['ref'],{'roleName':deleteField(),'roleColor':deleteField(),'roleAssignedBy':deleteField(),'roleAssignedAt':deleteField()}):j[bB(0xfb)](n[bB(0x118)],{'roleName':e,'roleColor':f,'roleAssignedBy':d['email'],'roleAssignedAt':serverTimestamp()});}),await j[bA(0x275)]();const k=e?'Role\x20\x22'+e+bA(0x1e1):bA(0x406);return showNotification(k+bA(0x232)+a+'\x22',bA(0x20c)),!![];}catch(n){console['error'](bA(0x17a),n),showNotification(bA(0x3bb)+n['message'],'error');throw n;}}function showNotification(a,b=a4N(0x257)){const bC=a4N,c=document['createElement'](bC(0x3f2));c[bC(0x279)]='notification\x20'+b,c['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22notification-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+getNotificationIcon(b)+'\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+a+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22close-notification\x22></button>\x0a\x20\x20\x20\x20',document[bC(0x13e)]['appendChild'](c),setTimeout(()=>{const bD=bC;c[bD(0x22b)]['add']('active');},0xa);const d=setTimeout(()=>{closeNotification(c);},0x1388);c[bC(0xd8)]('.close-notification')['addEventListener'](bC(0x175),()=>{clearTimeout(d),closeNotification(c);});}function getNotificationIcon(a){const bE=a4N;switch(a){case bE(0x20c):return bE(0x37b);case'error':return bE(0x209);case bE(0x1d4):return'fa-exclamation-triangle';case'info':default:return'fa-info-circle';}}function closeNotification(a){const bF=a4N;a['classList']['remove'](bF(0x295)),setTimeout(()=>{a['remove']();},0x12c);}function setupUserRolesSection(){const bG=a4N,a=document[bG(0x135)]('load-users-data');a&&a[bG(0xcc)](bG(0x175),function(){const bH=bG;this['classList']['add'](bH(0x373)),this['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...',loadUsersWithRoles()[bH(0x37c)](()=>{this['classList']['remove']('loading'),this['innerHTML']='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Users\x20Data';})['catch'](e=>{const bI=bH;console[bI(0x10c)](bI(0x3b1),e),this['classList']['remove']('loading'),this['innerHTML']='<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error',setTimeout(()=>{const bJ=bI;this['innerHTML']=bJ(0x1ba);},0xbb8);});});const b=document[bG(0x135)](bG(0x2e3));b&&b['addEventListener'](bG(0x175),()=>{const bK=bG,e=document['getElementById'](bK(0x32b));e&&e['classList'][bK(0x2e0)]('active');});const c=document[bG(0x135)]('user-search');c&&c[bG(0xcc)](bG(0x3fd),debounce(filterUsersTable,0x12c));const d=document['getElementById']('role-filter');d&&d[bG(0xcc)](bG(0x134),filterUsersTable);}async function loadUsersWithRoles(){const bL=a4N,a=document[bL(0x135)]('users-table-body');if(!a)return;a[bL(0x3e2)]='<tr><td\x20colspan=\x225\x22\x20class=\x22loading-cell\x22>Loading\x20users...</td></tr>';try{const [b,c,d,e]=await Promise['all']([getDocs(collection(db,bL(0x1cd))),getDocs(collection(db,'playersD2')),getDocs(collection(db,'nonParticipants')),getDocs(collection(db,'userProfiles'))]),f=new Map();function g(i,j){i['forEach'](k=>{const bM=a4b,l=k[bM(0x136)]();if(!l['username'])return;if(!f['has'](l['username']))f[bM(0x166)](l['username'],{'username':l[bM(0x340)],'roleName':l[bM(0x244)]||null,'roleColor':l[bM(0x17f)]||null,'roleAssignedBy':l['roleAssignedBy']||null,'roleAssignedAt':l[bM(0xfe)]||null,'sources':[j]});else{const m=f[bM(0x317)](l['username']);l['roleName']&&(!m[bM(0x244)]||j==='D1'||j==='D2')&&(m['roleName']=l['roleName'],m[bM(0x17f)]=l['roleColor'],m[bM(0x1fa)]=l['roleAssignedBy'],m[bM(0xfe)]=l['roleAssignedAt']),!m[bM(0x183)]['includes'](j)&&m[bM(0x183)]['push'](j);}});}g(b,'D1'),g(c,'D2'),g(d,bL(0x2a6)),g(e,bL(0x1a1));const h=Array['from'](f['values']())[bL(0x186)]((i,j)=>i[bL(0x340)][bL(0x107)](j[bL(0x340)]));if(h[bL(0x1cc)]===0x0){a['innerHTML']='<tr><td\x20colspan=\x225\x22\x20class=\x22empty-state\x22>No\x20users\x20found</td></tr>';return;}a[bL(0x3e2)]='',h[bL(0x226)](i=>{const bN=bL,j=document[bN(0x36a)]('tr');j[bN(0x2a0)][bN(0x340)]=i['username'],j['dataset']['roleName']=i['roleName']||'',j['dataset']['roleColor']=i['roleColor']||bN(0x3f1);const k=i[bN(0xfe)]?new Date(i['roleAssignedAt']['seconds']*0x3e8)[bN(0x1b6)]():'N/A',l=i['roleName']?bN(0x184)+i[bN(0x17f)]+';\x20color:\x20'+getContrastColor(i['roleColor'])+bN(0x1d7)+i['roleName']+bN(0x2d8):'<span\x20class=\x22no-role\x22>None</span>';j['innerHTML']=bN(0x2f9)+i[bN(0x340)]+bN(0xd7)+i['sources']['join'](',\x20')+bN(0x2bb)+l+bN(0x349)+(i['roleAssignedBy']||'N/A')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+k+bN(0x17e)+i[bN(0x340)]+bN(0x327)+(i[bN(0x244)]?bN(0x282)+i['username']+'\x22\x20title=\x22Remove\x20Role\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20<!--\x20Changed\x20icon\x20-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',a['appendChild'](j);}),document['querySelectorAll'](bL(0x283))['forEach'](i=>{const bO=bL;i[bO(0xcc)]('click',()=>{const j=i['dataset']['username'];openRoleEditModal(j);});}),document[bL(0x31c)](bL(0x297))[bL(0x226)](i=>{const bP=bL;i['addEventListener'](bP(0x175),()=>{const bQ=bP,j=i['dataset']['username'];confirm(bQ(0x1b3)+j+'?')&&setUserRole(j,null,null)['then'](()=>loadUsersWithRoles())['catch'](k=>console['error']('Error\x20removing\x20role:',k));});});}catch(i){console['error']('Error\x20loading\x20users:',i),a[bL(0x3e2)]=bL(0xe6);}}function openRoleEditModal(a){const bR=a4N;console['log']('Attempting\x20to\x20open\x20role\x20edit\x20modal\x20for:',a);const b=document[bR(0x135)]('set-role-modal'),c=document[bR(0x135)]('role-username'),d=document[bR(0x135)](bR(0x330));if(!b){console[bR(0x10c)]('CRITICAL:\x20Role\x20modal\x20element\x20(#set-role-modal)\x20not\x20found\x20in\x20the\x20DOM!'),alert('Error:\x20Could\x20not\x20find\x20the\x20role\x20editing\x20dialog.');return;}console[bR(0x161)](bR(0x3a2),b);c?(c['value']=a,console['log']('Username\x20input\x20set\x20to:\x20'+a)):console[bR(0x1f4)](bR(0x301));const e=document['querySelector']('#users-table-body\x20tr[data-username=\x22'+a+'\x22]');if(e&&d){const g=e[bR(0x2a0)][bR(0xd5)];d[bR(0x338)]=g==='none'?'':g,console['log']('Role\x20select\x20set\x20to:\x20'+d[bR(0x338)]+bR(0x401)+g+')');}else{if(!e)console[bR(0x1f4)]('Table\x20row\x20for\x20user\x20'+a+'\x20not\x20found.');if(!d)console[bR(0x1f4)](bR(0x22e));if(d)d[bR(0x338)]='';}console['log']('Adding\x20\x22active\x22\x20class\x20to\x20modal.'),b['classList'][bR(0x2e0)]('active');const f=document[bR(0x135)](bR(0x3e7));f?(console['log'](bR(0x246)),f[bR(0x2b2)](bR(0x175),closeModalHandler),f['addEventListener'](bR(0x175),closeModalHandler)):console['warn'](bR(0x376)),console['log']('Attaching\x20background\x20click\x20listener.'),b['removeEventListener'](bR(0x175),closeModalBackgroundHandler),b[bR(0xcc)]('click',closeModalBackgroundHandler);}function closeModalBackgroundHandler(a){const bS=a4N;a[bS(0x399)]===this&&closeModalHandler();}function closeModalHandler(){const bT=a4N,a=document['getElementById'](bT(0x32b));a&&(a['classList']['remove'](bT(0x295)),a[bT(0x2b2)]('click',closeModalBackgroundHandler));}function filterUsersTable(){const bU=a4N,a=document[bU(0x135)]('user-search')?.['value'][bU(0x3f7)]()||'',b=document['getElementById']('role-filter')?.[bU(0x338)]||bU(0x145),c=document[bU(0x31c)](bU(0x13c));let d=0x0;c['forEach'](e=>{const bV=bU;if(e['querySelector']('.loading-cell')||e['querySelector'](bV(0x1b2))||e['querySelector']('.error-state'))return;const f=e[bV(0x2a0)]['username']?.['toLowerCase']()||'',g=e[bV(0x2a0)][bV(0xd5)]||bV(0x407),h=f[bV(0x290)](a),i=b==='all'||g===b;h&&i?(e[bV(0x12b)]['display']='',d++):e['style']['display']=bV(0x407);});if(d===0x0&&c['length']>0x0){const e=document[bU(0x135)](bU(0xeb));if(e){if(!e[bU(0xd8)]('.no-results')){const f=document['createElement']('tr');f[bU(0x22b)][bU(0x2e0)]('no-results'),f['innerHTML']=bU(0x38c),e[bU(0x2b9)](f);}}}else{const g=document[bU(0xd8)]('.no-results');g&&g[bU(0x1a5)]();}}function setupManageArticlesSection(){const bW=a4N,a=document['getElementById'](bW(0x35d));a&&a['addEventListener'](bW(0x175),function(){const bX=bW;this[bX(0x22b)][bX(0x2e0)]('loading'),this[bX(0x3e2)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...',loadArticles()['then'](()=>{const bY=bX;this['classList'][bY(0x1a5)](bY(0x373)),this[bY(0x3e2)]='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Articles';})['catch'](g=>{const bZ=bX;console[bZ(0x10c)]('Error\x20loading\x20articles:',g),this['classList'][bZ(0x1a5)](bZ(0x373)),this[bZ(0x3e2)]='<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error',setTimeout(()=>{const c0=bZ;this[c0(0x3e2)]=c0(0x405);},0xbb8);});});const b=document['getElementById'](bW(0xdb));b?(console['log']('Setting\x20up\x20Manage\x20Articles\x20section\x20-\x20Found\x20Create\x20Article\x20button.'),b[bW(0x12b)][bW(0x18c)]='block',b[bW(0xcc)](bW(0x175),()=>{openArticleModal();})):console['error'](bW(0x206));const c=document[bW(0x135)]('article-form');c&&c[bW(0xcc)](bW(0x234),g=>{const c1=bW;g[c1(0x26b)](),saveArticle();});const d=document[bW(0x135)](bW(0xb7));d&&d['addEventListener']('click',()=>{closeArticleModal();});const e=document[bW(0xd8)]('#article-modal\x20.close-btn');e&&e[bW(0xcc)]('click',()=>{closeArticleModal();});const f=document['getElementById'](bW(0xff));f&&f['addEventListener']('click',g=>{g['target']===f&&closeArticleModal();});}async function loadArticles(){const c2=a4N,a=document['getElementById']('articles-table-body');if(!a)return;a['innerHTML']=c2(0x262);try{const b=collection(db,c2(0x1ee)),c=query(b,orderBy(c2(0x3a9),'desc')),d=await getDocs(c);if(d[c2(0x19a)]){a[c2(0x3e2)]=c2(0xe7);return;}a[c2(0x3e2)]='',d[c2(0x226)](e=>{const c3=c2,f=e['data'](),g=document['createElement']('tr'),h=f[c3(0x3a9)]?new Date(f[c3(0x3a9)]['seconds']*0x3e8)[c3(0x33d)]():'N/A';g['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(f['title']||c3(0x29c))+c3(0x349)+(f[c3(0x21a)]||'Unknown')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+h+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-article-btn\x22\x20data-id=\x22'+e['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-article-btn\x22\x20data-id=\x22'+e['id']+c3(0x388),a[c3(0x2b9)](g);}),setupArticleActionButtons();}catch(e){console[c2(0x10c)](c2(0x3a0),e),a['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x224\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20articles:\x20'+e[c2(0xcb)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}function setupArticleActionButtons(){const c4=a4N;document[c4(0x31c)]('.edit-article-btn')['forEach'](a=>{const c5=c4;a['addEventListener'](c5(0x175),async b=>{const c6=c5,c=b[c6(0x3bf)][c6(0x2a0)]['id'];openArticleModal(c);});}),document[c4(0x31c)](c4(0xb6))[c4(0x226)](a=>{const c7=c4;a[c7(0xcc)]('click',async b=>{const c8=c7,c=b[c8(0x3bf)][c8(0x2a0)]['id'];confirmDeleteArticle(c);});});}function openArticleModal(a=null){const c9=a4N,b=document[c9(0x135)](c9(0xff)),c=document[c9(0x135)]('article-modal-title'),d=document[c9(0x135)]('article-form'),e=document[c9(0x135)](c9(0x3d3));d['reset'](),e['value']='';if(a)c['textContent']='Edit\x20Article',e['value']=a,loadArticleData(a);else{c[c9(0x144)]='Create\x20Article';const f=auth[c9(0x3ba)];if(f){const g=document[c9(0x135)]('article-author');if(g&&f[c9(0x346)])g[c9(0x338)]=f[c9(0x346)];else g&&(g[c9(0x338)]=f[c9(0x1cf)]);}}b['classList'][c9(0x2e0)](c9(0x295));}async function loadArticleData(a){const ca=a4N;try{const b=doc(db,ca(0x1ee),a),c=await getDoc(b);if(!c[ca(0x180)]()){showNotification(ca(0x1e2),'error');return;}const d=c[ca(0x136)]();document['getElementById']('article-title')['value']=d['title']||'',document['getElementById'](ca(0xfa))['value']=d['author']||'',document['getElementById']('article-image-url')['value']=d[ca(0x2d7)]||'',document['getElementById']('article-content')[ca(0x338)]=d['content']||'';}catch(e){console[ca(0x10c)](ca(0x2d1),e),showNotification('Failed\x20to\x20load\x20article\x20data','error');}}async function saveArticle(){const cb=a4N;try{const a=document['getElementById']('article-id')[cb(0x338)],b=document[cb(0x135)](cb(0x3b6))['value'][cb(0x38d)](),c=document['getElementById'](cb(0xfa))['value']['trim'](),d=document[cb(0x135)](cb(0x34f))[cb(0x338)]['trim'](),e=document['getElementById'](cb(0x29f))[cb(0x338)][cb(0x38d)]();if(!b||!e){showNotification('Title\x20and\x20content\x20are\x20required',cb(0x10c));return;}const f=auth[cb(0x3ba)];if(!f){showNotification(cb(0x1bb),'error');return;}const g={'title':b,'author':c,'imageUrl':d||null,'content':e,'lastModifiedAt':serverTimestamp(),'lastModifiedBy':f['email']};!a?(g[cb(0x3a9)]=serverTimestamp(),g['createdBy']=f[cb(0x1cf)],await addDoc(collection(db,cb(0x1ee)),g),showNotification('Article\x20created\x20successfully','success')):(await updateDoc(doc(db,'articles',a),g),showNotification('Article\x20updated\x20successfully',cb(0x20c))),closeArticleModal(),loadArticles();}catch(h){console['error']('Error\x20saving\x20article:',h),showNotification(cb(0x3e6)+h[cb(0xcb)],cb(0x10c));}}function closeArticleModal(){const cc=a4N,a=document[cc(0x135)]('article-modal');a&&a[cc(0x22b)]['remove']('active');}async function confirmDeleteArticle(a){const cd=a4N;if(confirm('Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20article?\x20This\x20action\x20cannot\x20be\x20undone.'))try{await deleteDoc(doc(db,cd(0x1ee),a)),loadArticles(),showNotification(cd(0x374),cd(0x20c));}catch(b){console['error']('Error\x20deleting\x20article:',b),showNotification(cd(0x137)+b[cd(0xcb)],'error');}}function setupTrophyManagementSection(){const ce=a4N,a=document['getElementById'](ce(0x308));a&&a[ce(0xcc)]('click',function(){const cf=ce;this['classList'][cf(0x2e0)]('loading'),this[cf(0x3e2)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...';const j=document[cf(0x135)](cf(0x256));j&&(j['onerror']=function(){this['src']=DEFAULT_TROPHY_IMAGE;}),loadTrophyDefinitions()[cf(0x37c)](()=>{const cg=cf;this[cg(0x22b)][cg(0x1a5)](cg(0x373)),this[cg(0x3e2)]='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Trophies';})[cf(0x156)](k=>{const ch=cf;console['error'](ch(0x127),k),this['classList'][ch(0x1a5)](ch(0x373)),this[ch(0x3e2)]=ch(0x341),setTimeout(()=>{const ci=ch;this[ci(0x3e2)]=ci(0x30d);},0xbb8);});});const b=document[ce(0x135)]('create-new-trophy-btn');b&&b['addEventListener']('click',()=>{openTrophyModal();});const c=document['getElementById'](ce(0x270));c&&c[ce(0xcc)](ce(0x234),j=>{const cj=ce;j[cj(0x26b)](),saveTrophyDefinition();});const d=document[ce(0x135)](ce(0x3e5));d&&d[ce(0xcc)](ce(0x175),()=>{closeTrophyModal();});document['querySelectorAll'](ce(0x3d4))[ce(0x226)](j=>{j['addEventListener']('click',()=>{closeTrophyModal(),closeAssignTrophyModal();});});const e=document[ce(0x135)](ce(0x1e7));e&&e['addEventListener'](ce(0x175),j=>{const ck=ce;j[ck(0x399)]===e&&closeTrophyModal();});const f=document[ce(0x135)]('assign-trophy-modal');f&&f[ce(0xcc)](ce(0x175),j=>{const cl=ce;j[cl(0x399)]===f&&closeAssignTrophyModal();});const g=document['getElementById']('assign-trophy-form');g&&g[ce(0xcc)](ce(0x234),j=>{const cm=ce;j[cm(0x26b)](),assignTrophyToPlayer();});const h=document['getElementById'](ce(0x29b));h&&h[ce(0xcc)](ce(0x175),()=>{closeAssignTrophyModal();});const i=document[ce(0x135)]('trophy-image-url');i&&(i[ce(0xcc)]('input',updateTrophyImagePreview),i['addEventListener'](ce(0x40a),()=>{setTimeout(updateTrophyImagePreview,0xa);}));}function updateTrophyImagePreview(){const cn=a4N,a=document['getElementById']('trophy-image-url')['value']['trim'](),b=document['getElementById'](cn(0x150));if(!b){const d=document['getElementById']('trophy-image-url')[cn(0x312)]('.form-group'),e=document[cn(0x36a)](cn(0x3f2));e['id']='trophy-image-preview',e['className']=cn(0x331),d['appendChild'](e);const f=document['createElement'](cn(0x1d6));f['id']=cn(0x293),f['alt']=cn(0x13d),f['onerror']=function(){const co=cn;this[co(0xe2)]=DEFAULT_TROPHY_IMAGE,this[co(0x22b)]['add']('error');},e[cn(0x2b9)](f);}const c=document[cn(0x135)](cn(0x293));a?(c['src']=a,c['style']['display']=cn(0xc7),c[cn(0x22b)][cn(0x1a5)]('error')):(c['src']=DEFAULT_TROPHY_IMAGE,c[cn(0x12b)][cn(0x18c)]='block');}async function loadTrophyDefinitions(){const cp=a4N,a=document['getElementById']('trophies-table-body');if(!a)return;a[cp(0x3e2)]=cp(0x404);try{const b=collection(db,cp(0x100)),c=query(b,orderBy('createdAt','desc')),d=await getDocs(c);if(d[cp(0x19a)]){a[cp(0x3e2)]=cp(0x2d9);return;}a[cp(0x3e2)]='',d['forEach'](e=>{const cq=cp,f=e['data'](),g=document[cq(0x36a)]('tr'),h=f[cq(0x3a9)]?new Date(f['createdAt'][cq(0x324)]*0x3e8)['toLocaleString']():'N/A';g['innerHTML']=cq(0x237)+(f['image']||DEFAULT_TROPHY_IMAGE)+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22'+f[cq(0x18b)]+cq(0x3a5)+DEFAULT_TROPHY_IMAGE+'\x27;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22trophy-name\x22>'+(f[cq(0x18b)]||'Untitled\x20Trophy')+cq(0x271)+(f['rarity']||cq(0x1d9))+'\x22>'+(f[cq(0x260)]||cq(0x1d9))+cq(0x1d0)+h+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-trophy-btn\x22\x20data-id=\x22'+e['id']+cq(0x3c0)+e['id']+cq(0x30a)+e['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',a[cq(0x2b9)](g);}),setupTrophyActionButtons();}catch(e){console[cp(0x10c)](cp(0x2b5),e),a['innerHTML']=cp(0x28f)+e[cp(0xcb)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}function setupTrophyActionButtons(){const cr=a4N;document['querySelectorAll']('.edit-trophy-btn')[cr(0x226)](a=>{const cs=cr;a[cs(0xcc)](cs(0x175),b=>{const ct=cs,c=b[ct(0x3bf)]['dataset']['id'];openTrophyModal(c);});}),document['querySelectorAll']('.assign-trophy-btn')['forEach'](a=>{const cu=cr;a[cu(0xcc)](cu(0x175),b=>{const c=b['currentTarget']['dataset']['id'];openAssignTrophyModal(c);});}),document[cr(0x31c)](cr(0x3f8))['forEach'](a=>{const cv=cr;a['addEventListener'](cv(0x175),b=>{const cw=cv,c=b['currentTarget'][cw(0x2a0)]['id'];confirmDeleteTrophy(c);});});}function openTrophyModal(a=null){const cx=a4N,b=document[cx(0x135)]('trophy-modal'),c=document['getElementById']('trophy-modal-title'),d=document[cx(0x135)](cx(0x270)),e=document['getElementById']('trophy-id');d['reset'](),e[cx(0x338)]='';const f=document['getElementById'](cx(0x293));f&&(f['src']=DEFAULT_TROPHY_IMAGE,f[cx(0x22b)][cx(0x1a5)](cx(0x10c))),a?(c[cx(0x144)]=cx(0x1c5),e['value']=a,loadTrophyData(a)):c[cx(0x144)]='Create\x20New\x20Trophy',b[cx(0x22b)][cx(0x2e0)](cx(0x295));}async function loadTrophyData(a){const cy=a4N;try{const b=doc(db,cy(0x100),a),c=await getDoc(b);if(!c[cy(0x180)]()){showNotification(cy(0x1bf),'error');return;}const d=c[cy(0x136)]();document['getElementById']('trophy-name')[cy(0x338)]=d[cy(0x18b)]||'',document['getElementById'](cy(0x2ac))[cy(0x338)]=d['description']||'',document[cy(0x135)]('trophy-image-url')[cy(0x338)]=d[cy(0x192)]||'',document['getElementById']('trophy-rarity')['value']=d[cy(0x260)]||'common',updateTrophyImagePreview();}catch(e){console['error'](cy(0x32d),e),showNotification('Failed\x20to\x20load\x20trophy\x20data',cy(0x10c));}}async function saveTrophyDefinition(){const cz=a4N;try{const a=document[cz(0x135)](cz(0x1de))['value'],b=document['getElementById'](cz(0x179))['value'][cz(0x38d)](),c=document[cz(0x135)]('trophy-description')[cz(0x338)]['trim'](),d=document[cz(0x135)]('trophy-image-url')['value'][cz(0x38d)](),e=document['getElementById']('trophy-rarity')[cz(0x338)];if(!b||!c||!d){showNotification(cz(0x25f),cz(0x10c));return;}const f=auth[cz(0x3ba)];if(!f){showNotification(cz(0x157),'error');return;}const g={'name':b,'description':c,'image':d,'rarity':e,'lastModifiedAt':serverTimestamp(),'lastModifiedBy':f['email']};!a?(g[cz(0x3a9)]=serverTimestamp(),g[cz(0x176)]=f[cz(0x1cf)],await addDoc(collection(db,'trophyDefinitions'),g),showNotification('Trophy\x20created\x20successfully',cz(0x20c))):(await updateDoc(doc(db,cz(0x100),a),g),showNotification(cz(0x1bd),'success')),closeTrophyModal(),loadTrophyDefinitions();}catch(h){console['error']('Error\x20saving\x20trophy:',h),showNotification(cz(0x2df)+h['message'],cz(0x10c));}}function closeTrophyModal(){const cA=a4N,a=document[cA(0x135)](cA(0x1e7));a&&a['classList'][cA(0x1a5)](cA(0x295));}async function confirmDeleteTrophy(a){const cB=a4N;if(!a){console['error']('Delete\x20Trophy:\x20No\x20trophy\x20ID\x20provided.');return;}if(confirm(cB(0x2f0)))try{const b=auth[cB(0x3ba)];if(!b){showNotification(cB(0x2b0),'error');return;}console['log']('Attempting\x20to\x20delete\x20trophy\x20definition\x20with\x20ID:\x20'+a),await deleteDoc(doc(db,'trophyDefinitions',a)),showNotification('Trophy\x20definition\x20deleted\x20successfully',cB(0x20c)),loadTrophyDefinitions();}catch(c){console['error']('Error\x20deleting\x20trophy\x20definition:',c),showNotification(cB(0x20d)+c[cB(0xcb)],'error');}}async function openAssignTrophyModal(a){const cC=a4N;try{const b=doc(db,'trophyDefinitions',a),c=await getDoc(b);if(!c['exists']()){showNotification('Trophy\x20not\x20found','error');return;}const d=c[cC(0x136)]();document[cC(0x135)](cC(0x3a1))[cC(0x338)]=a,document[cC(0x135)]('assign-trophy-name')['value']=d[cC(0x18b)],document[cC(0x135)](cC(0x256))['src']=d['image']||DEFAULT_TROPHY_IMAGE,document['getElementById'](cC(0x3a7))[cC(0x144)]=d[cC(0x18b)]||cC(0x11a),document[cC(0x135)](cC(0x281))['textContent']=d[cC(0x2e7)]||cC(0x14c);const e=document[cC(0x135)]('assign-trophy-rarity');e[cC(0x144)]=d[cC(0x260)]||'common',e['className']='trophy-rarity\x20'+(d[cC(0x260)]||'common');const f=document[cC(0x135)]('assign-trophy-modal');f['classList']['add'](cC(0x295));}catch(g){console['error'](cC(0xd4),g),showNotification('Failed\x20to\x20load\x20trophy\x20data','error');}}function closeAssignTrophyModal(){const cD=a4N,a=document['getElementById']('assign-trophy-modal');a&&a['classList']['remove'](cD(0x295));}async function assignTrophyToPlayer(){const cE=a4N;try{const a=document[cE(0x135)](cE(0x3a1))['value'],b=document['getElementById']('assign-trophy-name')[cE(0x338)],c=document[cE(0x135)]('assign-player-username')[cE(0x338)]['trim'](),d=document['querySelector'](cE(0x311))[cE(0x338)];if(!a||!c){showNotification(cE(0x1ae),cE(0x10c));return;}const e=auth[cE(0x3ba)];if(!e){showNotification('You\x20must\x20be\x20logged\x20in\x20to\x20assign\x20trophies',cE(0x10c));return;}let f=null,g=null,h=null;if(d===cE(0x219)){const l=collection(db,cE(0x2c8)),m=query(l,where(cE(0x340),'==',c)),n=await getDocs(m);!n['empty']&&(f=n[cE(0x23a)][0x0],g=f['id'],h=f[cE(0x136)]());}else{const o=d==='D1'?'players':d==='D2'?'playersD2':cE(0x193),p=collection(db,o),r=query(p,where(cE(0x340),'==',c)),s=await getDocs(r);!s['empty']&&(f=s[cE(0x23a)][0x0],g=f['id'],h=f[cE(0x136)]());}if(!f){showNotification(cE(0x2c0)+c+cE(0x276)+(d==='non-participant'?'non-participants':d+cE(0x303)),'error');return;}const i=collection(db,'userTrophies'),j=query(i,where('userId','==',g),where(cE(0x22a),'==',a)),k=await getDocs(j);if(!k['empty']){showNotification(cE(0x2c0)+c+cE(0x12f),'warning');return;}await addDoc(collection(db,cE(0x160)),{'userId':g,'playerUsername':c,'trophyId':a,'awardedAt':serverTimestamp(),'awardedBy':e['email'],'ladder':d}),showNotification('Trophy\x20\x22'+b+cE(0x273)+c,'success'),closeAssignTrophyModal();}catch(t){console['error']('Error\x20assigning\x20trophy:',t),showNotification(cE(0x106)+t[cE(0xcb)],cE(0x10c));}}function setupInactivePlayersSection(){const cF=a4N,a=document[cF(0x135)]('inactive-days-filter');a&&a['addEventListener'](cF(0x134),function(){const cG=cF,e=document[cG(0x135)]('load-inactive-players-data');if(e)e[cG(0x175)]();});const b=document['querySelector']('.ladder-switch\x20input[value=\x22D1\x22]'),c=document['querySelector'](cF(0x1af));b&&c&&(b[cF(0xcc)](cF(0x134),function(){const cH=cF;if(this[cH(0x112)]){currentLadder='D1';if(document[cH(0x135)](cH(0x348))[cH(0x12b)]['display']!==cH(0x407)){const e=document['getElementById'](cH(0x364));if(e)e[cH(0x175)]();}}}),c['addEventListener'](cF(0x134),function(){const cI=cF;if(this[cI(0x112)]){currentLadder='D2';if(document['getElementById'](cI(0x348))[cI(0x12b)][cI(0x18c)]!=='none'){const e=document['getElementById']('load-inactive-players-data');if(e)e['click']();}}}));const d=document['getElementById']('inactive-players-search');d&&d[cF(0xcc)](cF(0x3fd),debounce(function(){const cJ=cF,e=d[cJ(0x338)][cJ(0x3f7)](),f=document['querySelectorAll'](cJ(0x315));f[cJ(0x226)](g=>{const cK=cJ;if(g[cK(0xd8)]('.loading-cell')||g[cK(0xd8)](cK(0x1b2))||g['querySelector']('.error-state'))return;const h=g[cK(0x269)][0x0]?.['textContent'][cK(0x3f7)]()||'',i=g['cells'][0x5]?.[cK(0x144)]['toLowerCase']()||'';h['includes'](e)||i['includes'](e)?g[cK(0x12b)]['display']='':g['style']['display']='none';});},0x12c)),document['addEventListener'](cF(0x175),function(f){const cL=cF;if(f['target']['closest'](cL(0x23e))){const g=f['target'][cL(0x312)]('.view-player-btn'),h=g['dataset'][cL(0x340)];h&&alert('View\x20player\x20details\x20for\x20'+h+'\x20-\x20Feature\x20coming\x20soon');}}),console[cF(0x161)](cF(0x2d2));}async function loadInactivePlayersData(){const cM=a4N,a=document[cM(0x135)](cM(0x342));if(!a)return;a['innerHTML']=cM(0x316);try{const b=document['getElementById'](cM(0x2c6)),c=b?parseInt(b['value'])||0x0:0x0,d=collection(db,currentLadder==='D1'?'players':cM(0x335)),e=await getDocs(d);if(e[cM(0x19a)]){a[cM(0x3e2)]=cM(0x3cb);return;}const f=[];e[cM(0x226)](j=>{const cN=cM,k=j[cN(0x136)]();f[cN(0x39e)]({...k,'id':j['id'],'username':k['username']||cN(0xf3)});}),console['log']('Found\x20'+f['length']+cM(0x355)+currentLadder+'\x20ladder');const g=currentLadder==='D1'?cM(0x3b7):cM(0x30f),h=f[cM(0x222)](async j=>{const cO=cM;try{const k=collection(db,g),l=query(k,or(where(cO(0x343),'==',j[cO(0x340)]),where('loserUsername','==',j[cO(0x340)])),orderBy(cO(0x310),'desc'),limit(0x1)),m=await getDocs(l);if(!m['empty']){const n=m['docs'][0x0]['data'](),o=n[cO(0x310)]?new Date(n['approvedAt']['seconds']*0x3e8):null,p=new Date(),r=o?Math[cO(0x3ff)]((p-o)/(0x3e8*0x3c*0x3c*0x18)):null,s=n[cO(0x343)]===j['username']?n[cO(0x19f)]:n['winnerUsername'],t=n[cO(0x343)]===j['username']?cO(0x200):cO(0xcf);return{...j,'lastMatch':{'date':o?o['toLocaleDateString']():cO(0x351),'opponent':s||cO(0x394),'result':t,'timestamp':o||new Date(0x0),'daysSinceMatch':r||Number['MAX_SAFE_INTEGER']}};}else return{...j,'lastMatch':{'date':cO(0x25b),'opponent':'N/A','result':cO(0x351),'timestamp':new Date(0x0),'daysSinceMatch':Number['MAX_SAFE_INTEGER']}};}catch(u){return console[cO(0x10c)](cO(0x365)+j[cO(0x340)]+':',u),{...j,'lastMatch':{'date':cO(0x215),'opponent':cO(0x215),'result':'Error','timestamp':new Date(0x0),'daysSinceMatch':0x0}};}});let i=await Promise[cM(0x145)](h);i[cM(0x186)]((j,k)=>k['lastMatch']['daysSinceMatch']-j[cM(0x1aa)][cM(0x37d)]);c>0x0&&(i=i['filter'](j=>j[cM(0x1aa)]['daysSinceMatch']>=c));a[cM(0x3e2)]='';if(i[cM(0x1cc)]===0x0){a['innerHTML']='<tr><td\x20colspan=\x227\x22\x20class=\x22empty-state\x22>No\x20inactive\x20players\x20match\x20your\x20criteria</td></tr>';return;}i['forEach'](j=>{const cP=cM,k=document['createElement']('tr'),l=j['lastMatch']['daysSinceMatch']>0x1e?cP(0x254):j['lastMatch']['daysSinceMatch']>0xe?'moderately-inactive':'';k[cP(0x279)]=l,k[cP(0x3e2)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+j[cP(0x340)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(j['eloRating']||0x4b0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+j[cP(0x1aa)]['date']+cP(0x349)+(j['lastMatch']['daysSinceMatch']===Number['MAX_SAFE_INTEGER']?cP(0x351):j['lastMatch'][cP(0x37d)])+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+currentLadder+cP(0x349)+(j[cP(0x1aa)]['date']==='Never\x20played'?'No\x20matches\x20found':j['lastMatch'][cP(0x34d)]+'\x20vs\x20'+j['lastMatch']['opponent'])+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22view-player-btn\x22\x20data-username=\x22'+j[cP(0x340)]+'\x22\x20title=\x22View\x20Player\x20Details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',a[cP(0x2b9)](k);}),console[cM(0x161)]('Displaying\x20'+i[cM(0x1cc)]+'\x20inactive\x20players');}catch(j){console[cM(0x10c)](cM(0xc5),j),a[cM(0x3e2)]=cM(0x2a9)+j['message']+'</td></tr>';}}function setupHighlightButtons(){const cQ=a4N;console['log']('Setting\x20up\x20highlight\x20buttons');const a=document['getElementById']('create-match-highlight-btn');a&&a['addEventListener'](cQ(0x175),function(){const cR=cQ;console[cR(0x161)]('Match\x20highlight\x20button\x20clicked'),openHighlightModal('match');});const b=document[cQ(0x135)]('create-creator-highlight-btn');b&&b['addEventListener'](cQ(0x175),function(){const cS=cQ;console[cS(0x161)]('Creator\x20highlight\x20button\x20clicked'),openHighlightModal('creator');});const c=document['getElementById']('create-achievement-highlight-btn');c&&c[cQ(0xcc)]('click',function(){const cT=cQ;console[cT(0x161)]('Achievement\x20highlight\x20button\x20clicked'),openHighlightModal('achievement');});}function openHighlightModal(a=a4N(0x1a2)){const cU=a4N;console['log']('Opening\x20highlight\x20modal\x20with\x20parameter:\x20'+a);const b=document[cU(0x135)]('highlight-modal'),c=document[cU(0x135)]('highlight-form'),d=document['getElementById'](cU(0x3ee)),e=document['getElementById'](cU(0x2e6));if(!b||!c||!d){console[cU(0x10c)](cU(0x1f7));return;}c[cU(0x3c3)](),e['value']='';const f=['match','creator',cU(0x31e)],g=!f['includes'](a);if(g){const h=a;e[cU(0x338)]=h,d['textContent']=cU(0x14b),loadHighlightDataAdmin(h);}else{const i=a;document[cU(0x135)]('highlight-type')['value']=i,d[cU(0x144)]=cU(0x204)+getHighlightTypeName(i),toggleHighlightFields(i);const j=auth['currentUser'];j&&document[cU(0x135)](cU(0x2e4))&&(document[cU(0x135)](cU(0x2e4))[cU(0x338)]=j[cU(0x346)]||j[cU(0x1cf)]);}b[cU(0x22b)]['add'](cU(0x295));}function toggleHighlightFields(a){const cV=a4N;console['log']('Toggling\x20fields\x20for\x20highlight\x20type:\x20'+a);const b=document[cV(0x135)](cV(0xc8));if(!b)return;const c=b[cV(0x31c)]('.form-group,\x20.form-row');c['forEach'](f=>f[cV(0x12b)][cV(0x18c)]='none');const d=document['getElementById'](cV(0x393));if(d)d[cV(0x12b)][cV(0x18c)]=cV(0x407);const e=['highlight-title-container','highlight-description-container',cV(0xba)];e['forEach'](f=>{const cW=cV,g=document[cW(0x135)](f);if(g)g['style'][cW(0x18c)]=cW(0xc7);});if(a===cV(0x1a2)){const f=[cV(0x29d),cV(0x2e1),'highlight-map-container','highlight-match-date-container','highlight-players-container','highlight-match-link-container'];f[cV(0x226)](h=>{const cX=cV,i=document['getElementById'](h);i&&(h===cX(0xd9)?i[cX(0x12b)][cX(0x18c)]='flex':i[cX(0x12b)][cX(0x18c)]=cX(0xc7));});const g=document[cV(0x135)]('highlight-video-id');if(g){g[cV(0x39d)]=!![];const h=g['previousElementSibling'];if(h)h[cV(0x3e2)]=cV(0x1f1);}if(d)d[cV(0x12b)]['display']='block';updateHighlightVideoPreview();}else{if(a===cV(0x1e4)){const i=['highlight-map-container',cV(0x287),cV(0x1db),cV(0x217),cV(0x29d)];i['forEach'](k=>{const cY=cV,l=document['getElementById'](k);if(l)l['style'][cY(0x18c)]=cY(0xc7);});const j=document[cV(0x135)]('highlight-video-id');if(j){j[cV(0x39d)]=![];const k=j[cV(0x28c)];if(k)k[cV(0x3e2)]=cV(0xde);}}else{if(a==='achievement'){const l=['highlight-achievement-player-container',cV(0x18f),cV(0x27d),cV(0x36b),'highlight-achievement-image-container','highlight-video-container'];l['forEach'](n=>{const cZ=cV,o=document['getElementById'](n);if(o)o[cZ(0x12b)][cZ(0x18c)]=cZ(0xc7);});const m=document[cV(0x135)](cV(0x3d6));if(m){m[cV(0x39d)]=![];const n=m[cV(0x28c)];if(n)n['innerHTML']='YouTube\x20Video\x20ID\x20(Optional)';}}}}}async function loadHighlightDataAdmin(a){const d0=a4N;try{const b=doc(db,'highlights',a),c=await getDoc(b);if(!c[d0(0x180)]()){showNotification('Highlight\x20not\x20found',d0(0x10c));return;}const d=c['data'](),e=d['type']||'match';document['getElementById']('highlight-modal-title')[d0(0x144)]=d0(0x2ba)+getHighlightTypeName(e),document['getElementById']('highlight-type')['value']=e,toggleHighlightFields(e),document['getElementById'](d0(0x2d6))['value']=d[d0(0x34b)]||'',document['getElementById'](d0(0x16d))[d0(0x338)]=d[d0(0x2e7)]||'',document[d0(0x135)]('highlight-submitted-by')[d0(0x338)]=d[d0(0x143)]||'';d['videoId']&&(document['getElementById']('highlight-video-id')['value']=d['videoId'],updateHighlightVideoPreview());if(e===d0(0x1a2)){document[d0(0x135)]('highlight-match-info')['value']=d['matchInfo']||'',document['getElementById'](d0(0x2b3))[d0(0x338)]=d[d0(0x222)]||'';if(d['matchDate']){const f=new Date(d[d0(0xd6)][d0(0x324)]*0x3e8);document['getElementById'](d0(0x367))['value']=f['toISOString']()[d0(0x3ed)]('T')[0x0];}document[d0(0x135)](d0(0x2aa))['value']=d['winnerName']||'',document['getElementById'](d0(0x2e9))['value']=d[d0(0x178)]||'',document['getElementById']('highlight-loser-name')['value']=d['loserName']||'',document[d0(0x135)]('highlight-loser-score')['value']=d[d0(0x38e)]||'',document['getElementById'](d0(0x2e2))['value']=d[d0(0x11f)]||'';}else{if(e==='creator')document['getElementById'](d0(0x2b3))[d0(0x338)]=d['map']||'',document['getElementById'](d0(0xc1))[d0(0x338)]=d['mapCreator']||'',document['getElementById'](d0(0x353))[d0(0x338)]=d[d0(0x138)]||'',document[d0(0x135)]('highlight-creator-image')['value']=d['creatorImageUrl']||'';else e==='achievement'&&(document['getElementById']('highlight-achievement-player')[d0(0x338)]=d['achievementPlayer']||'',document['getElementById'](d0(0x37f))['value']=d[d0(0x1ac)]||'',document['getElementById']('highlight-achievement-details')[d0(0x338)]=d['achievementDetails']||'',document['getElementById']('highlight-player-profile')[d0(0x338)]=d['playerProfileUrl']||'',document[d0(0x135)](d0(0x294))[d0(0x338)]=d[d0(0x1b8)]||'');}}catch(g){console['error'](d0(0x14e),g),showNotification('Error\x20loading\x20highlight:\x20'+g[d0(0xcb)],'error');}}async function saveHighlight(){const d1=a4N;try{const a=document[d1(0x135)]('highlight-id')?.[d1(0x338)]||'',b=document[d1(0x135)]('highlight-type')?.['value']||'match',c={'title':document[d1(0x135)](d1(0x2d6))?.['value']?.[d1(0x38d)]()||'','description':document[d1(0x135)]('highlight-description')?.[d1(0x338)]?.['trim']()||'','submittedBy':document['getElementById']('highlight-submitted-by')?.[d1(0x338)]?.['trim']()||'','videoId':document['getElementById'](d1(0x3d6))?.['value']?.['trim']()||null,'type':b};if(!c['title']){showNotification(d1(0x37e),'error');return;}if(b===d1(0x1a2)){c[d1(0x212)]=document['getElementById']('highlight-match-info')?.['value']?.[d1(0x38d)]()||'',c['map']=document['getElementById'](d1(0x2b3))?.[d1(0x338)]?.[d1(0x38d)]()||'';const d=document[d1(0x135)](d1(0x367)),e=d?.[d1(0x338)]||'';c[d1(0xd6)]=e?Timestamp['fromDate'](new Date(e)):null,c[d1(0x2c3)]=document[d1(0x135)]('highlight-winner-name')?.['value']?.['trim']()||'',c[d1(0x178)]=document[d1(0x135)](d1(0x2e9))?.[d1(0x338)]?.['trim']()||'',c[d1(0x2ae)]=document[d1(0x135)](d1(0x1b4))?.[d1(0x338)]?.[d1(0x38d)]()||'',c[d1(0x38e)]=document['getElementById'](d1(0xb8))?.[d1(0x338)]?.['trim']()||'',c[d1(0x11f)]=document[d1(0x135)]('highlight-match-link')?.[d1(0x338)]?.[d1(0x38d)]()||'';if(!c[d1(0x168)]){showNotification(d1(0x3a6),'error');return;}}else{if(b===d1(0x1e4)){c['map']=document['getElementById'](d1(0x2b3))?.[d1(0x338)]?.[d1(0x38d)]()||'',c['mapCreator']=document['getElementById'](d1(0xc1))?.[d1(0x338)]?.[d1(0x38d)]()||'',c[d1(0x138)]=document['getElementById']('highlight-map-version')?.[d1(0x338)]?.[d1(0x38d)]()||'',c['creatorImageUrl']=document['getElementById'](d1(0xbd))?.['value']?.['trim']()||'';if(!c['mapCreator']){showNotification('Map\x20Creator\x20is\x20required',d1(0x10c));return;}}else{if(b==='achievement'){c['achievementPlayer']=document['getElementById'](d1(0x2a8))?.[d1(0x338)]?.['trim']()||'',c[d1(0x1ac)]=document[d1(0x135)](d1(0x37f))?.[d1(0x338)]?.['trim']()||'',c[d1(0x34e)]=document[d1(0x135)]('highlight-achievement-details')?.['value']?.[d1(0x38d)]()||'',c[d1(0x221)]=document['getElementById']('highlight-player-profile')?.['value']?.[d1(0x38d)]()||'',c[d1(0x1b8)]=document[d1(0x135)](d1(0x294))?.['value']?.[d1(0x38d)]()||'';if(!c['achievementPlayer']){showNotification('Player\x20Name\x20is\x20required',d1(0x10c));return;}}}}a?(c['updatedAt']=serverTimestamp(),await updateDoc(doc(db,'highlights',a),c),showNotification(d1(0x1d5),d1(0x20c))):(c['createdAt']=serverTimestamp(),await addDoc(collection(db,'highlights'),c),showNotification('Highlight\x20created\x20successfully!',d1(0x20c))),closeHighlightModal(),loadHighlightsAdmin();}catch(f){console['error']('Error\x20saving\x20highlight:',f),showNotification('Error\x20saving\x20highlight:\x20'+f[d1(0xcb)],'error');}}function closeHighlightModal(){const d2=a4N,a=document['getElementById']('highlight-modal');if(a)a[d2(0x22b)][d2(0x1a5)]('active');}function getHighlightTypeName(a){const d3=a4N;switch(a){case'match':return d3(0x3c2);case'creator':return'Featured\x20Creator';case d3(0x31e):return d3(0x1fb);default:return d3(0x2bc);}}function updateHighlightVideoPreview(){const d4=a4N,a=document[d4(0x135)]('highlight-video-id'),b=document['getElementById'](d4(0x393)),c=document[d4(0x135)](d4(0x258));if(!a||!c||!b)return;const d=a[d4(0x338)][d4(0x38d)]();d&&/^[a-zA-Z0-9_-]{11}$/['test'](d)?(c['src']='https://www.youtube.com/embed/'+d,b[d4(0x12b)][d4(0x18c)]=d4(0xc7)):(c['src']='',b['style'][d4(0x18c)]='none');}async function loadHighlightsAdmin(){const d5=a4N,a=document['getElementById']('highlights-table-body');if(!a)return;a[d5(0x3e2)]=d5(0x146);try{const b=query(collection(db,d5(0x225)),orderBy('createdAt',d5(0x25d))),c=await getDocs(b);if(c[d5(0x19a)]){a['innerHTML']=d5(0xdf);return;}a['innerHTML']='',c[d5(0x226)](d=>{const d6=d5,e=d['data'](),f=document[d6(0x36a)]('tr'),g=e[d6(0x3a9)]?new Date(e['createdAt'][d6(0x324)]*0x3e8)['toLocaleDateString']():'N/A';let h='Unknown',i='';switch(e[d6(0x28e)]){case'match':h=d6(0x359),i=d6(0x124);break;case d6(0x1e4):h='Creator',i=d6(0x27b);break;case'achievement':h='Achievement',i=d6(0x3fe);break;}f[d6(0x3e2)]=d6(0x2f9)+(e['title']||'Untitled')+d6(0x299)+i+'\x22>'+h+d6(0x15a)+g+d6(0x349)+(e[d6(0x143)]||d6(0x394))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(e[d6(0x168)]?'<i\x20class=\x22fas\x20fa-video\x22></i>\x20Yes':'<i\x20class=\x22fas\x20fa-times\x22></i>\x20No')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-highlight-btn\x22\x20data-id=\x22'+d['id']+'\x22\x20title=\x22Edit\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-edit\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-highlight-btn\x22\x20data-id=\x22'+d['id']+d6(0x370),a['appendChild'](f);}),document['querySelectorAll'](d5(0x214))[d5(0x226)](d=>{const d7=d5;d['addEventListener'](d7(0x175),f=>{const d8=d7;openHighlightModal(f[d8(0x3bf)]['dataset']['id']);});}),document[d5(0x31c)](d5(0x151))[d5(0x226)](d=>{const d9=d5;d[d9(0xcc)](d9(0x175),f=>{confirmDeleteHighlight(f['currentTarget']['dataset']['id']);});});}catch(d){console['error'](d5(0x250),d),a[d5(0x3e2)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x226\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20highlights:\x20'+d['message']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}async function confirmDeleteHighlight(a){const da=a4N;if(confirm('Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20highlight?\x20This\x20cannot\x20be\x20undone.'))try{await deleteDoc(doc(db,da(0x225),a)),showNotification('Highlight\x20deleted\x20successfully',da(0x20c)),loadHighlightsAdmin();}catch(b){console['error']('Error\x20deleting\x20highlight:',b),showNotification('Error\x20deleting\x20highlight:\x20'+b[da(0xcb)],'error');}}function setupCreateTestMatchModal(){const dc=a4N;console['log']('Setting\x20up\x20create\x20test\x20match\x20modal\x20events');const a=document[dc(0x135)]('create-test-match-modal'),b=document[dc(0x135)]('create-test-match-form');if(!a){console[dc(0x10c)]('Create\x20test\x20match\x20modal\x20not\x20found\x20in\x20DOM');return;}if(!b){console[dc(0x10c)](dc(0x2ec));return;}const c=a['cloneNode'](!![]);a[dc(0x190)][dc(0x377)](c,a);const d=c['querySelector'](dc(0x16f));c[dc(0xcc)]('click',function(g){const dd=dc;g[dd(0x399)]===c&&(console[dd(0x161)]('Modal\x20background\x20clicked'),closeCreateTestMatchModal());});const e=c['querySelector']('.close-btn');e&&e['addEventListener'](dc(0x175),function(g){g['preventDefault'](),g['stopPropagation'](),console['log']('Modal\x20close\x20button\x20clicked'),closeCreateTestMatchModal();});const f=c[dc(0xd8)]('#cancel-create-test-match-btn');f&&f['addEventListener']('click',function(g){const de=dc;g['preventDefault'](),g[de(0x39b)](),console['log'](de(0x110)),closeCreateTestMatchModal();});if(d){d[dc(0xcc)](dc(0x234),function(h){const df=dc;h[df(0x26b)](),h[df(0x39b)](),console[df(0x161)](df(0x3e3)),createTestMatch();});const g=d['querySelector']('button[type=\x22submit\x22]');g&&g[dc(0xcc)]('click',function(h){const dg=dc;h[dg(0x26b)](),h[dg(0x39b)](),console['log'](dg(0xc6)),createTestMatch();});}console['log'](dc(0x1e6));}function setupManageHighlightsSection(){const dh=a4N;console['log']('Setting\x20up\x20Manage\x20Highlights\x20section'),setupHighlightButtons();const a=document['getElementById']('highlight-form');a&&a['addEventListener'](dh(0x234),f=>{const di=dh;f[di(0x26b)](),saveHighlight();});const b=document['getElementById'](dh(0x236));b&&b['addEventListener'](dh(0x175),closeHighlightModal);const c=document['querySelector'](dh(0xef));c&&c[dh(0xcc)]('click',closeHighlightModal);const d=document['getElementById'](dh(0x164));d&&d['addEventListener'](dh(0x175),f=>{const dj=dh;f[dj(0x399)]===d&&closeHighlightModal();});const e=document[dh(0x135)]('highlight-video-id');e&&e[dh(0xcc)]('input',()=>{updateHighlightVideoPreview();}),console['log']('Manage\x20Highlights\x20section\x20initialized');}function setupManageMatchesSection(){const dk=a4N;console[dk(0x161)](dk(0x3ac));const a=document[dk(0x135)]('matches-prev-page'),b=document[dk(0x135)](dk(0x188));a&&a[dk(0xcc)]('click',()=>{const dl=dk,h=currentLadder[dl(0x3f7)]();loadMatchesData(matchesPagination[h][dl(0x23b)]-0x1);});b&&b['addEventListener']('click',()=>{const dm=dk,h=currentLadder[dm(0x3f7)]();loadMatchesData(matchesPagination[h]['page']+0x1);});const c=document['getElementById'](dk(0x24e)),d=document[dk(0x135)]('reset-matches-filters');c&&c[dk(0xcc)]('click',applyMatchesFilters);d&&d['addEventListener'](dk(0x175),resetMatchesFilters);const e=document[dk(0x135)]('matches-search');e&&e['addEventListener']('input',debounce(filterMatchesTable,0x12c));const f=document['getElementById']('resimulate-match-btn');f&&f[dk(0xcc)](dk(0x175),openResimulateModal);const g=document[dk(0x135)]('resimulate-modal');if(g){const h=g[dk(0xd8)](dk(0x2ee));h&&h[dk(0xcc)]('click',closeResimulateModal),g[dk(0xcc)]('click',i=>{i['target']===g&&closeResimulateModal();});}setupCreateTestMatchButton(),setupCreateTestMatchModal(),console['log']('Manage\x20Matches\x20section\x20initialized\x20with\x20resimulate\x20functionality');}function openCreateTestMatchModal(){const dn=a4N;console['log']('Opening\x20create\x20test\x20match\x20modal');const a=document[dn(0x135)]('create-test-match-modal'),b=document[dn(0x135)](dn(0x14a));if(!a){console['error']('Create\x20test\x20match\x20modal\x20not\x20found'),showNotification(dn(0x322),'error');return;}if(!b){console[dn(0x10c)]('Create\x20test\x20match\x20form\x20not\x20found'),showNotification('Create\x20test\x20match\x20form\x20not\x20found',dn(0x10c));return;}b[dn(0x3c3)]();const c=document['querySelectorAll'](dn(0x2f5));let d=![];c['forEach'](g=>{const dp=dn;console['log']('Found\x20radio\x20with\x20value:',g[dp(0x338)]),g['value']===currentLadder&&(g['checked']=!![],d=!![],console[dp(0x161)](dp(0x395),currentLadder));});if(!d){console['warn'](dn(0x10b),currentLadder);const g=document[dn(0xd8)](dn(0x2dc));g&&(g['checked']=!![],console['log']('Defaulted\x20to\x20D1\x20ladder'));}const e=document[dn(0x135)]('test-match-date');if(e){const h=new Date()[dn(0x1eb)]()[dn(0x3ed)]('T')[0x0];e['value']=h;}a[dn(0x12b)][dn(0x18c)]='flex',a['style'][dn(0xe4)]='visible',a['style'][dn(0x268)]='1',a[dn(0x22b)]['add']('active'),console[dn(0x161)]('Modal\x20should\x20now\x20be\x20visible');const f=document[dn(0x135)](dn(0x194));f&&setTimeout(()=>{f['focus']();},0x64);}function closeCreateTestMatchModal(){const dq=a4N;console['log'](dq(0x20f));const a=document['getElementById'](dq(0x170));if(!a){console[dq(0x10c)]('Modal\x20not\x20found\x20when\x20trying\x20to\x20close');return;}a['classList'][dq(0x1a5)](dq(0x295)),a[dq(0x12b)][dq(0x268)]='0',a[dq(0x12b)][dq(0xe4)]=dq(0x3db),setTimeout(()=>{const dr=dq;!a['classList']['contains'](dr(0x295))&&(a['style']['display']=dr(0x407));},0x12c),console[dq(0x161)](dq(0x201));}async function createTestMatch(){const ds=a4N;console[ds(0x161)](ds(0x2da));try{const a=auth['currentUser'];if(!a){showNotification(ds(0x1c6),'error');return;}const b='D1',c='approvedMatches',d={'winnerUsername':ds(0x10f),'winnerScore':0x14,'winnerSuicides':0x0,'winnerComment':ds(0xf7),'winnerDemoLink':null,'loserUsername':ds(0x2b8),'loserScore':0xf,'loserSuicides':0x0,'loserComment':ds(0xf7),'loserDemoLink':null,'mapPlayed':ds(0x2f4),'approvedAt':Timestamp['fromDate'](new Date()),'approvedBy':a[ds(0x1cf)],'createdAt':serverTimestamp(),'createdBy':a[ds(0x1cf)],'isTestMatch':!![],'ladder':b,'testMatchCreatedAt':serverTimestamp(),'testMatchNote':ds(0x3b5)+a[ds(0x1cf)]};console[ds(0x161)]('Adding\x20simple\x20test\x20match...'),await addDoc(collection(db,c),d),showNotification('Simple\x20test\x20match\x20created\x20successfully',ds(0x20c)),closeCreateTestMatchModal();}catch(e){console['error'](ds(0x1b5),e),showNotification(ds(0x3dc)+e['message'],'error');}}window['testFirebaseConnection']=async function(){const dt=a4N;try{console['log'](dt(0x1a9)),console[dt(0x161)](dt(0x288),auth),console[dt(0x161)](dt(0x1dd),db),console['log'](dt(0x300),auth[dt(0x3ba)]);const a=collection(db,'players');console[dt(0x161)]('Collection\x20reference\x20created:',a);const b=query(a,where('username','==','nonexistent'));console[dt(0x161)]('Query\x20created:',b);const c=await getDocs(b);console['log']('Query\x20executed.\x20Empty:',c[dt(0x19a)]),console['log'](dt(0x167));}catch(d){console[dt(0x10c)]('Firebase\x20connection\x20test\x20failed:',d);}};function setupCreateTestMatchButton(){const du=a4N,a=document[du(0x135)](du(0x163));if(!a){console[du(0x10c)]('Create\x20test\x20match\x20button\x20not\x20found\x20in\x20DOM');return;}console['log'](du(0x13b));const b=a['cloneNode'](!![]);a[du(0x190)][du(0x377)](b,a),b[du(0xcc)](du(0x175),function(c){const dv=du;c['preventDefault'](),c['stopPropagation'](),console['log'](dv(0x15e)),openCreateTestMatchModal();}),console[du(0x161)]('Create\x20test\x20match\x20button\x20setup\x20complete');}async function loadMatchesData(a=0x1){const dw=a4N,b=document['getElementById'](dw(0x2a1));if(!b)return;b[dw(0x3e2)]=dw(0x392);try{const c=currentLadder[dw(0x3f7)](),d=matchesPagination[c],e=currentLadder==='D1'?dw(0x3b7):currentLadder==='D2'?'approvedMatchesD2':dw(0x319),f=collection(db,e);a<=0x1?(d[dw(0x23b)]=0x1,d[dw(0x363)]=null,d['lastVisible']=null):d['page']=a;const g=getMatchesFilters();let h=f;if(g['startDate']||g[dw(0x119)]||g['searchTerm']){let n=[];g[dw(0x264)]&&g['endDate']?(n[dw(0x39e)](where(dw(0x310),'>=',g['startDate']),where('approvedAt','<=',g['endDate'])),h=query(f,...n)):h=query(f,orderBy('approvedAt',dw(0x25d)));}else h=query(f,orderBy(dw(0x310),dw(0x25d)));a>0x1&&d['lastVisible']?h=query(h,startAfter(d['lastVisible']),limit(PAGE_SIZE)):h=query(h,limit(PAGE_SIZE));const i=await getDocs(h);!i[dw(0x19a)]&&(d[dw(0x363)]=i[dw(0x23a)][0x0],d[dw(0xd1)]=i['docs'][i[dw(0x23a)]['length']-0x1]);let j=![];if(!i['empty']){const o=query(h,startAfter(d['lastVisible']),limit(0x1)),p=await getDocs(o);j=!p[dw(0x19a)];}const k=document[dw(0x135)](dw(0x2fe)),l=document['getElementById'](dw(0x188)),m=document[dw(0x135)]('matches-page-indicator');if(k)k['disabled']=d[dw(0x23b)]<=0x1;if(l)l[dw(0x3fa)]=!j;if(m)m[dw(0x144)]='Page\x20'+d['page'];if(i[dw(0x19a)]){b['innerHTML']=dw(0x245);return;}b[dw(0x3e2)]='',i[dw(0x226)](r=>{const dx=dw,s=r['data'](),t=document[dx(0x36a)]('tr'),u=s['approvedAt']?new Date(s[dx(0x310)][dx(0x324)]*0x3e8)[dx(0x1b6)]():dx(0x351);t['setAttribute'](dx(0x3e0),r['id']),t['setAttribute'](dx(0x2ab),currentLadder),t['classList'][dx(0x2e0)](dx(0x3b4)),t['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+u+dx(0x35e)+(s[dx(0x343)]||'Unknown')+dx(0xed)+(s['loserUsername']||dx(0x394))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22score-cell\x22>'+(s[dx(0x178)]||0x0)+dx(0x2de)+(s[dx(0x38e)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22map-cell\x22>'+(s['mapPlayed']||'N/A')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22ladder-cell\x22>'+currentLadder+dx(0x17b)+r['id']+'\x22\x20title=\x22Edit\x20Match\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-match-btn\x20btn-small\x20btn-danger\x22\x20data-id=\x22'+r['id']+'\x22\x20title=\x22Delete\x20Match\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',b[dx(0x2b9)](t);}),setupMatchesActionButtons(),g[dw(0x216)]&&filterMatchesTable(),console[dw(0x161)](dw(0x25e)+i[dw(0x409)]+'\x20matches\x20for\x20'+currentLadder+'\x20ladder,\x20page\x20'+d['page']);}catch(r){console[dw(0x10c)](dw(0x158),r),b['innerHTML']=dw(0x207)+r[dw(0xcb)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}async function deleteMatch(a,b){const dy=a4N;try{console[dy(0x161)](dy(0x125)+a+'\x20from\x20'+b+'\x20ladder');const c=auth['currentUser'];if(!c){showNotification('You\x20must\x20be\x20logged\x20in\x20to\x20delete\x20matches','error');return;}const d=b==='D1'?'approvedMatches':b==='D2'?'approvedMatchesD2':'approvedMatchesD3';console['log'](dy(0x247)+d),showNotification('Deleting\x20match...',dy(0x257)),await deleteDoc(doc(db,d,a)),console['log'](dy(0x328)),showNotification(dy(0x328),dy(0x20c));const e=b[dy(0x3f7)]();loadMatchesData(matchesPagination[e][dy(0x23b)]);}catch(f){console[dy(0x10c)](dy(0x333),f),showNotification('Failed\x20to\x20delete\x20match:\x20'+f[dy(0xcb)],'error');}}function setupMatchesActionButtons(){const dz=a4N;console[dz(0x161)]('Setting\x20up\x20matches\x20action\x20buttons...'),document['querySelectorAll']('.edit-match-btn')['forEach'](a=>{a['addEventListener']('click',b=>{const dA=a4b;b['preventDefault'](),b['stopPropagation']();const c=b[dA(0x3bf)]['dataset']['id'],d=b['currentTarget']['closest']('tr'),f=d[dA(0x2a0)][dA(0x16e)];console['log']('Edit\x20match\x20clicked:',c,f),openEditMatchModal(c,f);});}),document['querySelectorAll'](dz(0x1f6))['forEach'](a=>{const dB=dz;a[dB(0xcc)]('click',b=>{const dC=dB;b[dC(0x26b)](),b[dC(0x39b)]();const c=b[dC(0x3bf)]['dataset']['id'],d=b[dC(0x3bf)]['closest']('tr'),f=d['dataset']['ladder']||currentLadder;console['log'](dC(0x323),c,f),confirm(dC(0x21e))&&deleteMatch(c,f);});}),console[dz(0x161)](dz(0x379));}function filterMatchesTable(){const dD=a4N,a=document['getElementById'](dD(0x22c))[dD(0x338)][dD(0x3f7)](),b=document['querySelectorAll'](dD(0x187));let c=0x0;b[dD(0x226)](d=>{const dE=dD;if(d['classList'][dE(0x3ea)](dE(0x223))||d[dE(0x22b)][dE(0x3ea)]('empty-state')||d['classList'][dE(0x3ea)]('error-state'))return;const e=d['cells'][0x1][dE(0x144)]['toLowerCase'](),f=d['cells'][0x2]['textContent']['toLowerCase'](),g=d[dE(0x269)][0x4]['textContent'][dE(0x3f7)]();e[dE(0x290)](a)||f[dE(0x290)](a)||g[dE(0x290)](a)?(d['style'][dE(0x18c)]='',c++):d['style'][dE(0x18c)]='none';});if(c===0x0&&b['length']>0x0){const d=document[dD(0x135)](dD(0x2a1)),e=d[dD(0xd8)](dD(0x148));if(!e){const f=document['createElement']('tr');f['className']='no-results',f[dD(0x3e2)]='<td\x20colspan=\x227\x22>No\x20matches\x20found\x20matching\x20\x27'+a+'\x27</td>',d[dD(0x2b9)](f);}}else{const g=document['querySelector']('.no-results');g&&g[dD(0x1a5)]();}}function getMatchesFilters(){const dF=a4N,a=document['getElementById']('matches-search')['value']['toLowerCase'](),b=document['getElementById'](dF(0x12a))['value'],c=document['getElementById'](dF(0x372))['value'];let d=null,e=null;return b&&(d=new Date(b),d['setHours'](0x0,0x0,0x0,0x0),d=Timestamp['fromDate'](d)),c&&(e=new Date(c),e[dF(0x2cc)](0x17,0x3b,0x3b,0x3e7),e=Timestamp[dF(0x122)](e)),{'searchTerm':a,'startDate':d,'endDate':e};}async function applyMatchesFilters(){const a=currentLadder['toLowerCase']();matchesPagination[a]={'page':0x1,'lastVisible':null,'firstVisible':null},await loadMatchesData(0x1);}function resetMatchesFilters(){const dG=a4N;document[dG(0x135)](dG(0x12a))['value']='',document['getElementById'](dG(0x372))['value']='',document[dG(0x135)](dG(0x22c))[dG(0x338)]='';const a=currentLadder['toLowerCase']();matchesPagination[a]={'page':0x1,'lastVisible':null,'firstVisible':null},loadMatchesData(0x1);}async function openEditMatchModal(a,b){const dH=a4N,c=document['getElementById'](dH(0x3f5));if(!c)return;try{const d=b==='D1'?'approvedMatches':b==='D2'?'approvedMatchesD2':'approvedMatchesD3',e=doc(db,d,a),f=await getDoc(e);if(!f[dH(0x180)]()){showNotification(dH(0x3b3),'error');return;}const g=f['data']();document[dH(0x135)](dH(0x261))['value']=a,document[dH(0x135)](dH(0x360))['value']=b,document['getElementById']('edit-match-winner')[dH(0x338)]=g[dH(0x343)]||'',document['getElementById']('edit-match-winner-score')[dH(0x338)]=g[dH(0x178)]||0x0,document[dH(0x135)]('edit-match-winner-suicides')[dH(0x338)]=g[dH(0x1cb)]||0x0,document[dH(0x135)](dH(0x337))[dH(0x338)]=g['winnerComment']||'',document[dH(0x135)]('edit-match-loser')[dH(0x338)]=g[dH(0x19f)]||'',document['getElementById']('edit-match-loser-score')[dH(0x338)]=g[dH(0x38e)]||0x0,document[dH(0x135)]('edit-match-loser-suicides')['value']=g['loserSuicides']||0x0,document[dH(0x135)](dH(0x35f))[dH(0x338)]=g['loserComment']||'',document[dH(0x135)](dH(0x398))[dH(0x338)]=g[dH(0x3c4)]||'',document['getElementById'](dH(0x132))[dH(0x338)]=g[dH(0x3df)]||'',document[dH(0x135)](dH(0x13a))[dH(0x338)]=g[dH(0x171)]||g['demoLink']||'',document[dH(0x135)](dH(0x26f))['textContent']=dH(0x1c0)+g['winnerUsername']+'\x20vs\x20'+g['loserUsername'],c[dH(0x22b)][dH(0x2e0)](dH(0x295));}catch(h){console[dH(0x10c)](dH(0x218),h),showNotification(dH(0x129),dH(0x10c));}}function closeEditMatchModal(){const dI=a4N,a=document['getElementById']('edit-match-modal');a&&a[dI(0x22b)][dI(0x1a5)](dI(0x295));}async function saveEditedMatch(){const dJ=a4N;try{const a=document['getElementById']('edit-match-id')[dJ(0x338)],b=document[dJ(0x135)]('edit-match-ladder')[dJ(0x338)];if(!a||!b){showNotification('Match\x20ID\x20or\x20ladder\x20missing',dJ(0x10c));return;}const c=b==='D1'?dJ(0x3b7):b==='D2'?dJ(0x30f):'approvedMatchesD3',d=document[dJ(0x135)](dJ(0x1b7))['value'][dJ(0x38d)](),e=parseInt(document['getElementById'](dJ(0x11e))['value']),f=parseInt(document['getElementById'](dJ(0x211))['value']),g=document[dJ(0x135)](dJ(0x337))[dJ(0x338)]['trim'](),h=document[dJ(0x135)]('edit-match-loser')['value']['trim'](),i=parseInt(document['getElementById'](dJ(0x38a))['value']),j=parseInt(document[dJ(0x135)]('edit-match-loser-suicides')[dJ(0x338)]),k=document[dJ(0x135)]('edit-match-loser-comment')['value']['trim'](),l=document[dJ(0x135)]('edit-match-map')['value']['trim'](),m=document[dJ(0x135)]('edit-match-winner-demo')[dJ(0x338)][dJ(0x38d)](),n=document['getElementById']('edit-match-loser-demo')[dJ(0x338)]['trim']();if(!d||!h){showNotification('Winner\x20and\x20loser\x20usernames\x20are\x20required',dJ(0x10c));return;}await updateDoc(doc(db,c,a),{'winnerUsername':d,'winnerScore':e,'winnerSuicides':f,'winnerComment':g,'loserUsername':h,'loserScore':i,'loserSuicides':j,'loserComment':k,'mapPlayed':l,'winnerDemoLink':m||null,'loserDemoLink':n||null,'lastModifiedAt':serverTimestamp(),'lastModifiedBy':auth['currentUser']['email'],'isEdited':!![]}),showNotification(dJ(0x350),dJ(0x20c)),closeEditMatchModal(),loadMatchesData(matchesPagination[b[dJ(0x3f7)]()]['page']);}catch(o){console[dJ(0x10c)](dJ(0x249),o),showNotification(dJ(0x115)+o[dJ(0xcb)],dJ(0x10c));}}async function openDeleteMatchModal(a,b){const dK=a4N;try{const c=b==='D1'?dK(0x3b7):b==='D2'?'approvedMatchesD2':dK(0x319),d=doc(db,c,a),e=await getDoc(d);if(!e['exists']()){showNotification('Match\x20not\x20found','error');return;}const f=e[dK(0x136)](),g=document[dK(0x135)]('delete-match-confirm-modal');g[dK(0x2a0)][dK(0x24c)]=a,g[dK(0x2a0)][dK(0x16e)]=b;const h=f[dK(0x310)]?new Date(f[dK(0x310)][dK(0x324)]*0x3e8)['toLocaleDateString']():dK(0x351),i=document[dK(0x135)](dK(0x255));i['innerHTML']=dK(0x1e8)+h+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Players:</strong>\x20'+f['winnerUsername']+'\x20(winner)\x20vs\x20'+f[dK(0x19f)]+dK(0x3af)+(f[dK(0x178)]||0x0)+dK(0x2de)+(f['loserScore']||0x0)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Map:</strong>\x20'+(f[dK(0x3c4)]||dK(0x351))+dK(0x241)+b+dK(0x2ea),g[dK(0x22b)]['add'](dK(0x295));}catch(j){console[dK(0x10c)](dK(0x24a),j),showNotification('Failed\x20to\x20load\x20match\x20data','error');}}function closeDeleteMatchModal(){const dL=a4N,a=document[dL(0x135)]('delete-match-confirm-modal');a&&(a[dL(0x22b)][dL(0x1a5)](dL(0x295)),a['removeAttribute']('data-match-id'),a[dL(0x2ca)](dL(0x2ab)));}async function confirmDeleteMatch(){const dM=a4N,a=document[dM(0x135)](dM(0x3bc)),b=a['dataset'][dM(0x24c)],c=a[dM(0x2a0)][dM(0x16e)];if(!b||!c){showNotification('Match\x20ID\x20or\x20ladder\x20missing',dM(0x10c)),closeDeleteMatchModal();return;}try{const d=c==='D1'?dM(0x3b7):c==='D2'?dM(0x30f):dM(0x319);await deleteDoc(doc(db,d,b)),showNotification('Match\x20deleted\x20successfully',dM(0x20c)),closeDeleteMatchModal(),loadMatchesData(matchesPagination[c[dM(0x3f7)]()]['page']);}catch(e){console['error']('Error\x20deleting\x20match:',e),showNotification(dM(0x12c)+e['message'],'error');}}async function saveHighlightChanges(){const dN=a4N,a=document[dN(0x135)](dN(0x347))[dN(0x338)],b=document[dN(0x135)]('edit-highlight-type-select')[dN(0x338)];let c={'title':document['getElementById'](dN(0x1c7))[dN(0x338)][dN(0x38d)](),'type':b,'description':document['getElementById']('edit-highlight-description-input')['value'][dN(0x38d)](),'videoId':document['getElementById']('edit-highlight-videoId-input')[dN(0x338)][dN(0x38d)](),'submittedBy':auth[dN(0x3ba)][dN(0x1cf)]};if(b==='match'){c[dN(0x212)]=document[dN(0x135)]('edit-highlight-matchInfo-input')[dN(0x338)][dN(0x38d)](),c[dN(0x222)]=document['getElementById'](dN(0x2cb))[dN(0x338)]['trim']();const d=document['getElementById'](dN(0x35a))['value'];c[dN(0xd6)]=d?Timestamp['fromDate'](new Date(d)):null,c[dN(0x2c3)]=document[dN(0x135)](dN(0x18d))[dN(0x338)]['trim'](),c[dN(0x178)]=document['getElementById'](dN(0x1d3))[dN(0x338)]['trim'](),c['loserName']=document[dN(0x135)]('edit-highlight-loserName-input')['value']['trim'](),c[dN(0x38e)]=document['getElementById']('edit-highlight-loserScore-input')['value']['trim'](),c[dN(0x11f)]=document[dN(0x135)]('edit-highlight-matchLink-input')[dN(0x338)][dN(0x38d)](),c[dN(0x1ca)]=null,c['mapVersion']=null,c[dN(0xf5)]=null,c['achievementPlayer']=null,c[dN(0x1ac)]=null,c['achievementDetails']=null,c[dN(0x221)]=null;}else{if(b==='creator')c[dN(0x222)]=document['getElementById']('edit-highlight-map-input')[dN(0x338)][dN(0x38d)](),c[dN(0x1ca)]=document[dN(0x135)]('edit-highlight-mapCreator-input')[dN(0x338)][dN(0x38d)](),c['mapVersion']=document['getElementById']('edit-highlight-mapVersion-input')['value'][dN(0x38d)](),c['creatorImageUrl']=document[dN(0x135)](dN(0xf4))[dN(0x338)][dN(0x38d)](),c[dN(0x212)]=null,c['matchDate']=null,c['winnerName']=null,c['winnerScore']=null,c['loserName']=null,c['loserScore']=null,c['matchLink']=null,c['achievementPlayer']=null,c['achievementType']=null,c['achievementDetails']=null,c[dN(0x221)]=null;else b==='achievement'&&(c[dN(0x362)]=document['getElementById']('edit-highlight-achievementPlayer-input')[dN(0x338)]['trim'](),c['achievementType']=document['getElementById']('edit-highlight-achievementType-input')['value'][dN(0x38d)](),c['achievementDetails']=document['getElementById'](dN(0x2e5))[dN(0x338)][dN(0x38d)](),c[dN(0x221)]=document['getElementById'](dN(0x391))['value']['trim'](),c['matchInfo']=null,c['map']=null,c['matchDate']=null,c['winnerName']=null,c[dN(0x178)]=null,c['loserName']=null,c['loserScore']=null,c[dN(0x11f)]=null,c['mapCreator']=null,c[dN(0x138)]=null,c['creatorImageUrl']=null);}try{if(a){c[dN(0x210)]=serverTimestamp();const e=doc(db,'highlights',a);await updateDoc(e,c),showNotification('Highlight\x20updated\x20successfully!','success');}else c['createdAt']=serverTimestamp(),await addDoc(collection(db,dN(0x225)),c),showNotification('Highlight\x20added\x20successfully!','success');closeEditHighlightModal(),loadHighlightsAdmin();}catch(f){console['error'](dN(0x3cc),f),showNotification('Error\x20saving\x20highlight:\x20'+f[dN(0xcb)],dN(0x10c));}}async function resimulateMatch(){const dO=a4N;try{const a=document[dO(0x135)](dO(0x29e))[dO(0x338)];if(!a){showNotification(dO(0x378),'error');return;}const b=auth[dO(0x3ba)];if(!b){showNotification('You\x20must\x20be\x20logged\x20in\x20to\x20resimulate\x20matches',dO(0x10c));return;}const c=currentLadder==='D1'?'approvedMatches':currentLadder==='D2'?dO(0x30f):'approvedMatchesD3',d=doc(db,c,a),e=await getDoc(d);if(!e['exists']()){showNotification('Match\x20not\x20found\x20in\x20approved\x20matches',dO(0x10c));return;}const f=e[dO(0x136)](),g=f['approvedAt']?f['approvedAt'][dO(0x2fd)]()['toLocaleString']():f[dO(0xd6)]?f[dO(0xd6)]['toDate']?f[dO(0xd6)]['toDate']()['toLocaleString']():new Date(f['matchDate'])['toLocaleString']():'Unknown',h=dO(0x10e)+f[dO(0x343)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Loser:</strong>\x20'+f[dO(0x19f)]+dO(0x126)+f['winnerScore']+'-'+f[dO(0x38e)]+dO(0x3bd)+(f['mapPlayed']||f['mapName']||dO(0x394))+dO(0x3c6)+g+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Match\x20ID:</strong>\x20'+a+dO(0x196)+currentLadder+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><em>This\x20will\x20create\x20accurate\x20ELO\x20history\x20entries\x20based\x20on\x20the\x20players\x27\x20ELO\x20ratings\x20at\x20the\x20time\x20this\x20match\x20was\x20played.</em></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';document[dO(0x135)](dO(0x356))[dO(0x3e2)]=h,document['getElementById']('match-details-container')['style'][dO(0x18c)]=dO(0xc7),document[dO(0x135)](dO(0x18a))['style'][dO(0x18c)]='block',window['pendingResimulateData']={'matchId':a,'matchData':f,'ladder':currentLadder},showNotification('Match\x20found\x20-\x20please\x20review\x20details\x20and\x20confirm\x20resimulation','info');}catch(i){console['error']('Error\x20finding\x20match:',i),showNotification('Failed\x20to\x20find\x20match:\x20'+i['message'],dO(0x10c));}}async function confirmResimulateMatch(){const dP=a4N;try{const {matchId:a,matchData:b,ladder:c}=window[dP(0x3aa)];if(!a||!b){showNotification(dP(0x3d7),dP(0x10c));return;}const d=c==='D1'?'players':c==='D2'?dP(0x335):dP(0x193),e=c==='D1'?dP(0x208):c==='D2'?dP(0x1d8):'eloHistoryD3',[f,g]=await Promise['all']([getDocs(query(collection(db,d),where(dP(0x340),'==',b['winnerUsername']))),getDocs(query(collection(db,d),where(dP(0x340),'==',b['loserUsername'])))]);if(f['empty']||g['empty']){showNotification('Could\x20not\x20find\x20player\x20documents','error');return;}const h=f[dP(0x23a)][0x0]['id'],i=g[dP(0x23a)][0x0]['id'],j=f[dP(0x23a)][0x0]['data'](),k=g[dP(0x23a)][0x0]['data'](),[l,m]=await Promise[dP(0x145)]([getDocs(query(collection(db,e),where('playerId','==',h),where(dP(0x24c),'==',a))),getDocs(query(collection(db,e),where('playerId','==',i),where('matchId','==',a)))]),n=!l['empty'],o=!m[dP(0x19a)],p='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22validation-results\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4>Validation\x20Results:</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Winner\x20ELO\x20History:</strong>\x20'+(n?'\x20Exists':'\x20Missing')+dP(0x3f6)+(o?'\x20Exists':'\x20Missing')+dP(0x10d)+(j['eloRating']||dP(0x394))+dP(0x37a)+(k[dP(0x263)]||dP(0x394))+dP(0x2b1)+(j['position']||dP(0x394))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Current\x20Loser\x20Position:</strong>\x20'+(k['position']||dP(0x394))+dP(0x2f7);document['getElementById']('validation-results-container')['innerHTML']=p,document[dP(0x135)](dP(0x1b0))[dP(0x12b)][dP(0x18c)]='block';if(n&&o){showNotification('Both\x20players\x20already\x20have\x20ELO\x20history\x20for\x20this\x20match.\x20No\x20resimulation\x20needed.',dP(0x1d4));return;}showNotification(dP(0xfc),'info');const q=b['approvedAt']||b['matchDate']||serverTimestamp(),[r,s]=await Promise[dP(0x145)]([getPlayerEloAtTime(h,q,e),getPlayerEloAtTime(i,q,e)]),{calculateElo:t}=await import('./ladderalgorithm.js'),{newWinnerRating:u,newLoserRating:v}=t(r,s),w=j['position']||Number['MAX_SAFE_INTEGER'],x=k['position']||Number['MAX_SAFE_INTEGER'];let y=w,z=x;w>x&&(y=x,z=x+0x1);const A=writeBatch(db),B=doc(db,d,h);A['update'](B,{'eloRating':u,'position':y,'lastUpdated':serverTimestamp(),'resimulated':!![],'resimulatedAt':serverTimestamp(),'resimulatedBy':auth[dP(0x3ba)]['uid']});const C=doc(db,d,i);A[dP(0xfb)](C,{'eloRating':v,'position':z,'lastUpdated':serverTimestamp(),'resimulated':!![],'resimulatedAt':serverTimestamp(),'resimulatedBy':auth[dP(0x3ba)]['uid']});if(w>x){const H=await getDocs(query(collection(db,d),where(dP(0x3de),'>',x),where('position','<',w)));H['forEach'](I=>{const dQ=dP,J=doc(db,d,I['id']),K=I['data']()[dQ(0x3de)];A['update'](J,{'position':K+0x1,'lastUpdated':serverTimestamp(),'positionAdjustedBy':dQ(0x1f3),'positionAdjustedAt':serverTimestamp()});});}if(!n){const I=doc(collection(db,e));A[dP(0x166)](I,{'playerId':h,'player':b[dP(0x343)],'previousElo':r,'newElo':u,'eloChange':u-r,'opponentId':i,'opponent':b['loserUsername'],'matchResult':dP(0x253),'previousPosition':w,'newPosition':y,'positionChange':y-w,'matchId':a,'timestamp':q,'resimulated':!![],'resimulatedAt':serverTimestamp(),'resimulatedBy':auth['currentUser'][dP(0x26c)],'gameMode':c,'matchScore':b[dP(0x178)]+'-'+b[dP(0x38e)],'mapPlayed':b[dP(0x3c4)]||b['mapName']||dP(0x394),'note':'Resimulated\x20entry\x20-\x20ELO\x20and\x20positions\x20calculated\x20from\x20actual\x20pre-match\x20data'});}if(!o){const J=doc(collection(db,e));A[dP(0x166)](J,{'playerId':i,'player':b[dP(0x19f)],'previousElo':s,'newElo':v,'eloChange':v-s,'opponentId':h,'opponent':b[dP(0x343)],'matchResult':'loss','previousPosition':x,'newPosition':z,'positionChange':z-x,'matchId':a,'timestamp':q,'resimulated':!![],'resimulatedAt':serverTimestamp(),'resimulatedBy':auth['currentUser']['uid'],'gameMode':c,'matchScore':b[dP(0x178)]+'-'+b[dP(0x38e)],'mapPlayed':b['mapPlayed']||b[dP(0xf8)]||dP(0x394),'note':dP(0x265)});}const D=c==='D1'?dP(0x3b7):c==='D2'?'approvedMatchesD2':dP(0x319),E=doc(db,D,a);A['update'](E,{'resimulated':!![],'resimulatedAt':serverTimestamp(),'resimulatedBy':auth['currentUser']['uid'],'resimulatedReason':'Complete\x20resimulation\x20-\x20ELO\x20ratings\x20and\x20positions\x20recalculated','originalWinnerElo':j['eloRating'],'originalLoserElo':k['eloRating'],'originalWinnerPosition':w,'originalLoserPosition':x,'resimulatedWinnerElo':u,'resimulatedLoserElo':v,'resimulatedWinnerPosition':y,'resimulatedLoserPosition':z}),await A[dP(0x275)]();const F=(!n?0x1:0x0)+(!o?0x1:0x0),G=w!==y||x!==z;showNotification(dP(0x3ad)+(dP(0x169)+F+'\x20ELO\x20history\x20entries.\x20')+('Updated\x20ELO\x20ratings:\x20Winner\x20'+r+''+u+'\x20(+'+(u-r)+'),\x20')+(dP(0x368)+s+''+v+'\x20('+(v-s)+').\x20')+(''+(G?dP(0x191)+w+''+y+dP(0x32a)+x+''+z:dP(0x39c))),'success'),closeResimulateModal(),document[dP(0xd8)](dP(0x1a8))&&loadPlayersData();}catch(K){console['error'](dP(0x3ce),K),showNotification('Failed\x20to\x20resimulate\x20match:\x20'+K[dP(0xcb)],'error');}}async function getPlayerEloAtTime(a,b,c){const dR=a4N;try{const d=b[dR(0x2fd)]?b[dR(0x2fd)]():new Date(b),e=query(collection(db,c),where(dR(0x334),'==',a),where(dR(0x36c),'<',b),orderBy('timestamp',dR(0x25d)),limit(0x1)),f=await getDocs(e);if(!f['empty']){const g=f['docs'][0x0]['data']();return console[dR(0x161)]('Found\x20ELO\x20history\x20for\x20player\x20'+a+'\x20before\x20match:\x20'+g[dR(0x3ec)]),g['newElo'];}else return console[dR(0x161)](dR(0x2d4)+a+'\x20before\x20match\x20-\x20using\x20starting\x20ELO\x201200'),0x4b0;}catch(h){return console['error'](dR(0x2f3)+a+':',h),0x4b0;}}function openResimulateModal(){const dS=a4N;console['log']('openResimulateModal\x20called!');const a=document['getElementById']('resimulate-modal');console['log'](dS(0x3a2),a);if(!a){console['error']('Modal\x20element\x20not\x20found!');return;}a[dS(0x12b)][dS(0x18c)]='block',a['style'][dS(0xe4)]=dS(0x3c7),a[dS(0x12b)][dS(0x268)]='1',a['classList'][dS(0x2e0)](dS(0x295)),console[dS(0x161)](dS(0x39a)),console['log'](dS(0x189),window[dS(0x29a)](a)['display']);const b=document[dS(0x135)]('match-details-container'),c=document['getElementById']('validation-results-container'),d=document[dS(0x135)](dS(0x18a)),e=document[dS(0x135)](dS(0x29e));if(b)b[dS(0x3e2)]='';if(c)c[dS(0x3e2)]='';if(d)d[dS(0x12b)][dS(0x18c)]=dS(0x407);if(e)e['value']='';console['log']('Modal\x20setup\x20complete');}function closeResimulateModal(){const dT=a4N;document[dT(0x135)]('resimulate-modal')['style']['display']='none',window[dT(0x3aa)]=null;}window[a4N(0xe3)]=resimulateMatch,window['confirmResimulateMatch']=confirmResimulateMatch,window['openResimulateModal']=openResimulateModal,window['closeResimulateModal']=closeResimulateModal;async function loadPointsData(){const dU=a4N;console[dU(0x161)]('Loading\x20points\x20data...');try{await Promise[dU(0x145)]([loadPointsOverview(),loadPointsHistory()]),showNotification(dU(0xdd),dU(0x20c));}catch(a){console[dU(0x10c)]('Error\x20loading\x20points\x20data:',a),showNotification(dU(0x16b)+a[dU(0xcb)],'error');}}function renderPointsOverview(a){const dV=a4N,b=document[dV(0x135)](dV(0xe8));if(!b)return;if(a['length']===0x0){b['innerHTML']='<tr><td\x20colspan=\x225\x22\x20class=\x22empty-state\x22>No\x20users\x20found</td></tr>';return;}b[dV(0x3e2)]='',a['forEach'](c=>{const dW=dV,d=document[dW(0x36a)]('tr'),e=c['displayName']||c[dW(0x340)]||'Unknown\x20User',f=c['email']||dW(0x20a),g=c[dW(0x3ef)]||0x0,h=c[dW(0x165)]?new Date(c[dW(0x165)][dW(0x324)]*0x3e8)['toLocaleDateString']():'Never';d['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22user-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user\x20user-icon\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22user-name\x22>'+e+dW(0x1a7)+f+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22points-badge\x20'+(g>0x3e8?dW(0x22d):g>0x1f4?'medium-points':'low-points')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-coins\x22></i>\x20'+g['toLocaleString']()+dW(0x251)+h+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22quick-edit-btn\x22\x20data-user-id=\x22'+c['id']+'\x22\x20title=\x22Quick\x20Edit\x20Points\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-edit\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22view-history-btn\x22\x20data-user-id=\x22'+c['id']+'\x22\x20title=\x22View\x20Points\x20History\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-history\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',b[dW(0x2b9)](d);}),setupPointsActionButtons();}function setupPointsActionButtons(){const dX=a4N;console['log'](dX(0x34c));const a=document[dX(0x31c)](dX(0x3d0));console['log']('Found\x20'+a['length']+dX(0x248)),a[dX(0x226)](c=>{const dY=dX,d=c[dY(0x272)](!![]);c['parentNode']['replaceChild'](d,c);});const b=document['querySelectorAll'](dX(0x31f));console['log'](dX(0xb5)+b[dX(0x1cc)]+dX(0x13f)),b[dX(0x226)](c=>{const dZ=dX,d=c['cloneNode'](!![]);c['parentNode'][dZ(0x377)](d,c);}),document['querySelectorAll'](dX(0x3d0))['forEach'](c=>{c['addEventListener']('click',function(d){const e0=a4b;d[e0(0x26b)](),d['stopPropagation']();const f=this[e0(0x2a0)]['userId'];console['log'](e0(0x108),f);if(!f){console['error'](e0(0x11c));return;}this['style'][e0(0x268)]=e0(0x286),setTimeout(()=>{const e1=e0;this['style'][e1(0x268)]='1';},0xc8),openQuickEditModal(f);});}),document['querySelectorAll'](dX(0x31f))['forEach'](c=>{const e2=dX;c[e2(0xcc)](e2(0x175),function(d){const e3=e2;d['preventDefault'](),d[e3(0x39b)]();const f=this['dataset']['userId'];console[e3(0x161)]('View\x20history\x20clicked\x20for\x20user:',f);if(!f){console['error'](e3(0x11c));return;}this[e3(0x12b)]['opacity']='0.6',setTimeout(()=>{const e4=e3;this[e4(0x12b)]['opacity']='1';},0xc8),loadUserPointsHistory(f);});}),console['log'](dX(0x397));}async function openQuickEditModal(a){const e5=a4N;console['log'](e5(0x1e3),a);const b=document[e5(0x135)](e5(0x1da));if(!b){console[e5(0x10c)]('Quick\x20edit\x20modal\x20not\x20found!\x20Make\x20sure\x20the\x20HTML\x20element\x20exists.'),showNotification(e5(0x113),'error');return;}try{showNotification(e5(0x28d),'info');const c=doc(db,'userProfiles',a),d=await getDoc(c);if(!d[e5(0x180)]()){showNotification(e5(0x27c),e5(0x10c));return;}const e=d[e5(0x136)]();console['log'](e5(0x23c),e);const f=document[e5(0x135)]('quick-edit-user-id'),g=document[e5(0x135)](e5(0x27a)),h=document[e5(0x135)]('quick-edit-email'),i=document[e5(0x135)](e5(0x101)),j=document[e5(0x135)](e5(0x147));if(!f||!g||!h||!i||!j){console['error'](e5(0x27e)),showNotification('Quick\x20edit\x20form\x20is\x20incomplete.\x20Check\x20the\x20HTML\x20structure.',e5(0x10c));return;}f['value']=a,g[e5(0x144)]=e[e5(0x346)]||e['username']||'Unknown\x20User',h[e5(0x144)]=e['email']||'No\x20email',i['textContent']=(e[e5(0x3ef)]||0x0)[e5(0x33d)](),j[e5(0x3c3)]();const k=document[e5(0x135)](e5(0x3a4));k&&(k[e5(0x112)]=!![]);b[e5(0x22b)][e5(0x2e0)]('active'),console['log'](e5(0x2ed));const l=document[e5(0x135)]('quick-points-amount');l&&setTimeout(()=>l[e5(0xf1)](),0x64);}catch(m){console[e5(0x10c)]('Error\x20opening\x20quick\x20edit\x20modal:',m),showNotification(e5(0x366)+m['message'],e5(0x10c));}}function closeQuickEditModal(){const e6=a4N,a=document[e6(0x135)](e6(0x1da));a&&a[e6(0x22b)]['remove']('active');}async function handleQuickEditPoints(a){const e7=a4N;a['preventDefault']();const b=document['getElementById']('quick-edit-user-id')[e7(0x338)],c=document['querySelector'](e7(0x20e))['value'],d=parseInt(document[e7(0x135)]('quick-points-amount')['value']),f=document[e7(0x135)]('quick-points-reason')['value'][e7(0x38d)]();console[e7(0x161)](e7(0xea),{'userId':b,'action':c,'amount':d,'reason':f});if(!b||!d||d<0x0){showNotification(e7(0xda),'error');return;}try{await modifyUserPoints(b,c,d,f),closeQuickEditModal(),loadPointsOverview(),showNotification(e7(0x230),e7(0x20c)),console['log']('Points\x20updated\x20successfully\x20for\x20user:',b);}catch(g){console[e7(0x10c)](e7(0x1dc),g),showNotification(e7(0x24f)+g['message'],e7(0x10c));}}async function searchUsersForPoints(){const e8=a4N,a=document['getElementById'](e8(0x371))[e8(0x338)][e8(0x38d)]()['toLowerCase'](),b=document[e8(0x135)](e8(0x1a6));if(!a||a[e8(0x1cc)]<0x2){b['innerHTML']='';return;}b['innerHTML']='<div\x20class=\x22loading\x22>Searching...</div>';try{const c=collection(db,'userProfiles'),d=await getDocs(c),e=[];d['forEach'](f=>{const e9=e8,g=f['data'](),h=(g[e9(0x346)]||g[e9(0x340)]||'')['toLowerCase'](),i=(g[e9(0x1cf)]||'')['toLowerCase']();(h[e9(0x290)](a)||i['includes'](a))&&e[e9(0x39e)]({'id':f['id'],...g});});if(e[e8(0x1cc)]===0x0){b[e8(0x3e2)]=e8(0x2f2);return;}b['innerHTML']='',e['forEach'](f=>{const ea=e8,g=document[ea(0x36a)](ea(0x3f2));g['className']=ea(0x304),g[ea(0x3e2)]=ea(0x22f)+(f['displayName']||f[ea(0x340)]||ea(0x394))+'</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22user-email\x22>'+(f[ea(0x1cf)]||ea(0x20a))+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22user-points\x22>'+(f['points']||0x0)[ea(0x33d)]()+ea(0x296),g[ea(0xcc)]('click',()=>selectUserForPoints(f)),b[ea(0x2b9)](g);});}catch(f){console[e8(0x10c)](e8(0x3e4),f),b[e8(0x3e2)]='<div\x20class=\x22error\x22>Error\x20searching\x20users</div>';}}function selectUserForPoints(a){const eb=a4N;document[eb(0x135)](eb(0xc9))[eb(0x144)]=a['displayName']||a[eb(0x340)]||eb(0x1ab),document[eb(0x135)](eb(0x173))['textContent']=(a['points']||0x0)[eb(0x33d)](),document['getElementById'](eb(0x235))['value']=a['id'],document[eb(0x135)]('selected-user-info')['style'][eb(0x18c)]='block',document[eb(0x135)]('points-management-forms')['style'][eb(0x18c)]='block',document[eb(0x135)](eb(0x1a6))['innerHTML']='',document[eb(0x135)](eb(0x371))['value']='';}async function handleModifyPoints(a){const ec=a4N;a['preventDefault']();const b=document['getElementById']('selected-user-id')['value'],c=document['getElementById'](ec(0x2a7))[ec(0x338)],d=parseInt(document['getElementById'](ec(0x10a))[ec(0x338)]),f=document['getElementById']('points-reason')[ec(0x338)]['trim']();if(!b||!d||d<0x0){showNotification(ec(0x318),ec(0x10c));return;}try{await modifyUserPoints(b,c,d,f),document['getElementById']('modify-points-form')['reset']();const g=doc(db,ec(0x1df),b),h=await getDoc(g);if(h[ec(0x180)]()){const i=h[ec(0x136)]();document[ec(0x135)](ec(0x173))[ec(0x144)]=(i[ec(0x3ef)]||0x0)[ec(0x33d)]();}showNotification(ec(0x23d),ec(0x20c)),loadPointsHistory();}catch(j){console[ec(0x10c)]('Error\x20modifying\x20points:',j),showNotification(ec(0x243)+j['message'],ec(0x10c));}}async function loadPointsHistory(){const ed=a4N,a=document['getElementById']('points-history-table-body');if(!a)return;a[ed(0x3e2)]=ed(0x1c2);try{const b=collection(db,'pointsHistory'),c=query(b,orderBy(ed(0x36c),'desc'),limit(0x32)),d=await getDocs(c);if(d[ed(0x19a)]){a[ed(0x3e2)]=ed(0x3b8);return;}a['innerHTML']='',d[ed(0x226)](e=>{const ee=ed,f=e[ee(0x136)](),g=document['createElement']('tr'),h=f[ee(0x36c)]?new Date(f[ee(0x36c)][ee(0x324)]*0x3e8)[ee(0x33d)]():'Unknown';let i='';switch(f['action']){case ee(0x2e0):i=ee(0x1a4)+f[ee(0x291)]+ee(0x2d0);break;case ee(0x2fc):i=ee(0xbe)+f['amount']+'\x20points';break;case ee(0x166):i=ee(0xbb)+f['amount']+ee(0x2d0);break;default:i=f[ee(0x24d)]+'\x20'+f['amount']+'\x20points';}g['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+h+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(f['displayName']||'Unknown\x20User')+ee(0x349)+i+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22points-change\x20'+f[ee(0x24d)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(f['previousPoints']||0x0)+'\x20\x20'+(f[ee(0x17d)]||0x0)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(f['reason']||ee(0x3d2))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(f['adminEmail']||ee(0x154))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',a['appendChild'](g);});}catch(e){console[ed(0x10c)](ed(0x380),e),a[ed(0x3e2)]=ed(0x1ce)+e['message']+ed(0x2cd);}}function filterPointsOverview(){const ef=a4N,a=document[ef(0x135)](ef(0x231))[ef(0x338)][ef(0x3f7)]();if(!window['allUsersPoints'])return;const b=window['allUsersPoints'][ef(0x3ca)](c=>{const eg=ef,d=(c[eg(0x346)]||c['username']||'')['toLowerCase'](),e=(c[eg(0x1cf)]||'')[eg(0x3f7)]();return d[eg(0x290)](a)||e['includes'](a);});renderPointsOverview(b);}function sortPointsOverview(){const eh=a4N,a=document['getElementById']('points-sort-order')[eh(0x338)];if(!window['allUsersPoints'])return;const b=[...window['allUsersPoints']];switch(a){case'points-desc':b['sort']((c,d)=>(d['points']||0x0)-(c['points']||0x0));break;case'points-asc':b['sort']((c,d)=>(c['points']||0x0)-(d['points']||0x0));break;case'name-asc':b['sort']((c,d)=>{const ei=eh,e=(c[ei(0x346)]||c[ei(0x340)]||'')['toLowerCase'](),f=(d[ei(0x346)]||d[ei(0x340)]||'')[ei(0x3f7)]();return e['localeCompare'](f);});break;case eh(0x3e1):b['sort']((c,d)=>{const ej=eh,e=(c[ej(0x346)]||c[ej(0x340)]||'')[ej(0x3f7)](),f=(d['displayName']||d[ej(0x340)]||'')[ej(0x3f7)]();return f['localeCompare'](e);});break;}renderPointsOverview(b);}async function handleAwardItem(a){const ek=a4N;a['preventDefault']();const b=document['getElementById'](ek(0x235))['value'],c=document[ek(0x135)]('store-item-select')['value'],d=document[ek(0x135)](ek(0x21c))['value'][ek(0x38d)]();if(!b||!c){showNotification('Please\x20select\x20a\x20user\x20and\x20store\x20item','error');return;}try{showNotification('Store\x20item\x20awarded\x20successfully','success'),document['getElementById'](ek(0x383))[ek(0x3c3)]();}catch(f){console[ek(0x10c)](ek(0x3ab),f),showNotification(ek(0x199)+f['message'],ek(0x10c));}}async function loadUserPointsHistory(a){const el=a4N;try{const b=collection(db,el(0x205)),c=query(b,where(el(0x14d),'==',a),orderBy(el(0x36c),'desc')),d=await getDocs(c);console['log'](el(0xb5)+d[el(0x409)]+'\x20history\x20entries\x20for\x20user\x20'+a),showNotification(el(0x384)+d[el(0x409)]+'\x20points\x20history\x20entries','info');}catch(e){console[el(0x10c)](el(0x2f8),e),showNotification('Failed\x20to\x20load\x20user\x20history','error');}}async function initializeUserPointsField(){const em=a4N;try{console['log'](em(0x2a4));const a=collection(db,em(0x1df)),b=await getDocs(a);if(b['empty']){console['log']('No\x20users\x20found\x20in\x20userProfiles\x20collection');return;}let c=0x0,d=0x0;const e=writeBatch(db);let f=0x0;return console['log'](em(0xb5)+b[em(0x409)]+'\x20users\x20to\x20check...'),b[em(0x226)](g=>{const en=em,h=g[en(0x136)]();h['points']===undefined||h['points']===null?(e['update'](g['ref'],{'points':0x0,'pointsInitializedAt':serverTimestamp()}),c++,f++,console[en(0x161)](en(0x36d)+(h['displayName']||h[en(0x340)]||h[en(0x1cf)]||en(0x394))+en(0x1a3))):(d++,console['log']((h[en(0x346)]||h[en(0x340)]||h['email']||en(0x394))+'\x20already\x20has\x20points:\x20'+h['points'])),f>=0x1f4&&console['warn']('Batch\x20limit\x20reached\x20-\x20you\x20may\x20need\x20to\x20run\x20this\x20function\x20multiple\x20times\x20for\x20large\x20datasets');}),c>0x0?(console[em(0x161)](em(0x111)+c+'\x20users...'),await e[em(0x275)](),console['log'](em(0x15f)+c+'\x20users')):console[em(0x161)](em(0xbf)),console[em(0x161)]('Migration\x20Summary:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20Total\x20users\x20checked:\x20'+b['size']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20Users\x20updated\x20with\x20points:\x20'+c+em(0x198)+d),showNotification(em(0x3dd)+c+'\x20users.\x20'+d+em(0x15c),'success'),window[em(0x2c7)]&&loadPointsOverview(),{'totalUsers':b['size'],'usersUpdated':c,'usersAlreadyHadPoints':d};}catch(g){console['error'](em(0x2c5),g),showNotification('Error\x20initializing\x20points:\x20'+g[em(0xcb)],em(0x10c));throw g;}}function addPointsMigrationButton(){const eo=a4N,a=document[eo(0x135)](eo(0x30e));if(!a)return;if(document[eo(0x135)](eo(0x159)))return;const b=document['createElement'](eo(0x3f2));b['className']='migration-section',b[eo(0x12b)]['marginBottom']='20px',b['style'][eo(0x2c1)]='15px',b['style'][eo(0x2d3)]='rgba(255,\x20193,\x207,\x200.1)',b['style']['border']=eo(0x1fe),b['style'][eo(0x274)]='5px',b['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4><i\x20class=\x22fas\x20fa-database\x22></i>\x20Database\x20Migration</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p>Initialize\x20the\x20points\x20field\x20for\x20all\x20users\x20who\x20don\x27t\x20have\x20it\x20yet.\x20This\x20is\x20safe\x20to\x20run\x20multiple\x20times.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22migrate-points-btn\x22\x20class=\x22btn\x20btn-warning\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20Initialize\x20Points\x20Field\x20for\x20All\x20Users\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20';const c=a[eo(0xd8)](eo(0x321));c&&c[eo(0x285)](eo(0xca),b),document[eo(0x135)]('migrate-points-btn')['addEventListener']('click',async function(){const ep=eo;if(confirm('This\x20will\x20add\x20a\x20points\x20field\x20(set\x20to\x200)\x20for\x20all\x20users\x20who\x20don\x27t\x20have\x20one\x20yet.\x20Continue?')){this['disabled']=!![],this[ep(0x3e2)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Initializing...';try{await initializeUserPointsField(),this[ep(0x3e2)]='<i\x20class=\x22fas\x20fa-check\x22></i>\x20Completed',this[ep(0x12b)]['backgroundColor']='#28a745',setTimeout(()=>{const eq=ep;b[eq(0x12b)][eq(0x18c)]='none';},0xbb8);}catch(d){this[ep(0x3e2)]='<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error\x20-\x20Try\x20Again',this['disabled']=![];}}});}function setupManagePointsSection(){const er=a4N;console[er(0x161)](er(0x1c4)),addPointsMigrationButton();const a=document['getElementById'](er(0x371));a&&a['addEventListener']('input',debounce(searchUsersForPoints,0x12c));const b=document[er(0x135)]('modify-points-form');b&&b[er(0xcc)]('submit',handleModifyPoints);const c=document['getElementById'](er(0x383));c&&c['addEventListener'](er(0x234),handleAwardItem);const d=document['getElementById']('points-overview-search');d&&d['addEventListener']('input',debounce(filterPointsOverview,0x12c));const e=document['getElementById'](er(0x2ef));e&&e[er(0xcc)](er(0x134),sortPointsOverview);const f=document['getElementById']('refresh-points-overview');f&&f['addEventListener'](er(0x175),loadPointsOverview);const g=document[er(0x135)]('quick-edit-points-modal');if(g){console[er(0x161)]('Quick\x20edit\x20modal\x20found,\x20setting\x20up\x20events...');const h=g['querySelector'](er(0x34a));h?h['addEventListener']('click',function(){const es=er;console[es(0x161)](es(0x20b)),closeQuickEditModal();}):console[er(0x1f4)](er(0x117));const i=document['getElementById'](er(0x313));i?i['addEventListener'](er(0x175),function(){const et=er;console['log'](et(0x110)),closeQuickEditModal();}):console[er(0x1f4)](er(0x259));const j=document[er(0x135)](er(0x147));j?j['addEventListener']('submit',function(k){const eu=er;console[eu(0x161)]('Quick\x20edit\x20form\x20submitted'),handleQuickEditPoints(k);}):console['error']('Quick\x20edit\x20form\x20not\x20found!'),g[er(0xcc)]('click',function(k){const ev=er;k[ev(0x399)]===g&&(console['log'](ev(0x1e5)),closeQuickEditModal());});}else console['error'](er(0xdc));console['log']('Manage\x20Points\x20section\x20initialized');}function setupManageRibbonsSection(){const ew=a4N;console['log'](ew(0x3c5));const a=document['getElementById']('ribbon-user-search');a&&a[ew(0xcc)](ew(0x3fd),debounce(searchRibbonUser,0x12c));const b=document['getElementById'](ew(0x185));b&&b['addEventListener'](ew(0x175),searchRibbonUser);const c=document['getElementById']('add-ribbon-form');c&&c['addEventListener'](ew(0x234),addRibbon),a&&a[ew(0xcc)](ew(0x3eb),function(d){const ex=ew;d[ex(0x3e9)]===ex(0xe9)&&(d[ex(0x26b)](),searchRibbonUser());}),console['log'](ew(0x3b2));}async function modifyUserPoints(a,b,c,d=''){const ey=a4N,e=doc(db,'userProfiles',a),f=await getDoc(e);if(!f['exists']())throw new Error(ey(0x27c));const g=f[ey(0x136)](),h=g['points']!==undefined?g[ey(0x3ef)]:0x0;g[ey(0x3ef)]===undefined&&(console['log']('Initializing\x20points\x20field\x20for\x20user\x20'+(g[ey(0x346)]||g[ey(0x1cf)]||'Unknown')),await updateDoc(e,{'points':0x0,'pointsInitializedAt':serverTimestamp()}));let i=h;switch(b){case'add':i=h+c;break;case'subtract':i=Math[ey(0x292)](0x0,h-c);break;case'set':i=c;break;default:throw new Error(ey(0x278));}await updateDoc(e,{'points':i,'lastPointsModified':serverTimestamp()}),await addDoc(collection(db,ey(0x205)),{'userId':a,'userEmail':g['email']||ey(0xf2),'displayName':g['displayName']||g[ey(0x340)]||'Unknown\x20User','action':b,'amount':c,'previousPoints':h,'newPoints':i,'reason':d,'adminEmail':auth['currentUser'][ey(0x1cf)],'timestamp':serverTimestamp()});}async function loadPointsOverview(){const ez=a4N,a=document[ez(0x135)]('points-overview-table-body');if(!a)return;a[ez(0x3e2)]='<tr><td\x20colspan=\x225\x22\x20class=\x22loading-cell\x22>Loading\x20user\x20points...</td></tr>';try{const b=collection(db,'userProfiles'),c=await getDocs(b);if(c[ez(0x19a)]){a[ez(0x3e2)]='<tr><td\x20colspan=\x225\x22\x20class=\x22empty-state\x22>No\x20users\x20found</td></tr>';return;}const d=[];let e=0x0;c['forEach'](f=>{const eA=ez,g=f[eA(0x136)](),h=g[eA(0x3ef)]!==undefined?g[eA(0x3ef)]:0x0;g[eA(0x3ef)]===undefined&&e++,d['push']({'id':f['id'],...g,'points':h});}),e>0x0&&(console[ez(0x161)]('Found\x20'+e+ez(0x1e9)),showNotification(e+'\x20users\x20don\x27t\x20have\x20points\x20field\x20yet.\x20Use\x20the\x20migration\x20button\x20to\x20initialize.',ez(0x257))),d['sort']((f,g)=>(g[ez(0x3ef)]||0x0)-(f['points']||0x0)),window[ez(0x2c7)]=d,renderPointsOverview(d);}catch(f){console['error']('Error\x20loading\x20points\x20overview:',f),a['innerHTML']='<tr><td\x20colspan=\x225\x22\x20class=\x22error-state\x22>Error\x20loading\x20users:\x20'+f[ez(0xcb)]+'</td></tr>';}}async function loadRibbonsData(){const eB=a4N,a=document['getElementById']('ribbons-overview-table-body');if(!a)return;a[eB(0x3e2)]=eB(0x35b);try{const [b,c,d]=await Promise[eB(0x145)]([getDocs(collection(db,'playerRibbons')),getDocs(collection(db,'playerRibbonsD2')),getDocs(collection(db,eB(0x120)))]);a[eB(0x3e2)]='';const e=(f,g)=>{const eC=eB;f[eC(0x226)](h=>{const eD=eC,i=h[eD(0x136)](),j=i['ribbons']||{},k=Object[eD(0x31a)](j)[eD(0x1cc)],l=document[eD(0x36a)]('tr');l[eD(0x3e2)]=eD(0x38f)+(i[eD(0x340)]||eD(0x394))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><span\x20class=\x22ladder-badge\x20'+g[eD(0x3f7)]()+'\x22>'+g+eD(0x307)+k+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(i[eD(0x386)]?new Date(i['lastUpdated'][eD(0x324)]*0x3e8)['toLocaleDateString']():eD(0x394))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-sm\x20edit-ribbons-btn\x22\x20data-username=\x22'+i[eD(0x340)]+'\x22\x20data-ladder=\x22'+g+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-edit\x22></i>\x20Edit\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',a[eD(0x2b9)](l);});};e(b,'D1'),e(c,'D2'),e(d,'D3'),document['querySelectorAll']('.edit-ribbons-btn')['forEach'](f=>{const eE=eB;f['addEventListener'](eE(0x175),function(){const eF=eE,g=this['dataset']['username'],h=this['dataset'][eF(0x16e)];editUserRibbons(g,h);});}),showNotification('Ribbons\x20data\x20loaded\x20successfully','success');}catch(f){console[eB(0x10c)]('Error\x20loading\x20ribbons:',f),a['innerHTML']=eB(0x2bd),showNotification(eB(0x402),eB(0x10c));}}async function searchRibbonUser(){const eG=a4N,a=document['getElementById']('ribbon-user-search')['value']['trim']();if(!a){showNotification(eG(0x104),eG(0x10c));return;}try{const [b,c,d]=await Promise[eG(0x145)]([getDoc(doc(db,'playerRibbons',a)),getDoc(doc(db,'playerRibbonsD2',a)),getDoc(doc(db,'playerRibbonsD3',a))]);let e=null,f=null;if(b[eG(0x180)]())e='D1',f=b['data']();else{if(c[eG(0x180)]())e='D2',f=c['data']();else d['exists']()&&(e='D3',f=d['data']());}e?(document['getElementById'](eG(0x336))[eG(0x144)]=a,document['getElementById']('ribbon-target-user')[eG(0x338)]=a,document['getElementById']('ribbon-target-ladder')['value']=e,document['getElementById'](eG(0x1e0))['style'][eG(0x18c)]=eG(0xc7),displayCurrentRibbons(f['ribbons']||{}),showNotification('Found\x20'+a+eG(0x149)+e+'\x20ladder',eG(0x20c))):showNotification(eG(0x387)+a+eG(0x238),'error');}catch(g){console['error']('Error\x20searching\x20user:',g),showNotification(eG(0x14f),eG(0x10c));}}function displayCurrentRibbons(a){const eH=a4N,b=document[eH(0x135)](eH(0x25c));if(!b)return;b['innerHTML']='';if(Object[eH(0x31a)](a)['length']===0x0){b[eH(0x3e2)]='<p\x20class=\x22no-ribbons\x22>No\x20ribbons\x20found</p>';return;}Object['entries'](a)[eH(0x226)](([c,d])=>{const eI=eH,e=document['createElement'](eI(0x3f2));e['className']='ribbon-item',e[eI(0x3e2)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>'+c+'</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>Level:\x20'+(d['level']||0x1)+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small>Awarded:\x20'+(d[eI(0x1f0)]?new Date(d['awardedAt'][eI(0x324)]*0x3e8)['toLocaleDateString']():eI(0x394))+'</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-danger\x20btn-sm\x20remove-ribbon-btn\x22\x20data-ribbon=\x22'+c+eI(0x123),b['appendChild'](e);}),document['querySelectorAll'](eH(0x3c9))['forEach'](c=>{const eJ=eH;c['addEventListener'](eJ(0x175),function(){const eK=eJ,d=this['dataset'][eK(0x213)];removeRibbon(d);});});}async function addRibbon(a){const eL=a4N;a[eL(0x26b)]();const b=document[eL(0x135)]('ribbon-target-user')['value'],c=document['getElementById']('ribbon-target-ladder')[eL(0x338)],d=document[eL(0x135)](eL(0x1c3))[eL(0x338)],e=parseInt(document[eL(0x135)]('ribbon-level')['value']);if(!b||!c||!d||!e){showNotification('Please\x20fill\x20all\x20fields',eL(0x10c));return;}try{const f='playerRibbons'+(c==='D1'?'':c),g=doc(db,f,b),h=await getDoc(g),i=h[eL(0x180)]()?h[eL(0x136)]()[eL(0xfd)]||{}:{};i[d]={'level':e,'awardedAt':serverTimestamp()},await setDoc(g,{'username':b,'ladder':c,'ribbons':i,'lastUpdated':serverTimestamp()},{'merge':!![]}),showNotification('Added\x20'+d+'\x20Level\x20'+e+'\x20to\x20'+b,'success'),displayCurrentRibbons(i),document[eL(0x135)](eL(0x1c3))[eL(0x338)]='',document['getElementById']('ribbon-level')['value']='1';}catch(j){console[eL(0x10c)]('Error\x20adding\x20ribbon:',j),showNotification(eL(0x1d1),eL(0x10c));}}async function removeRibbon(a){const eM=a4N,b=document['getElementById'](eM(0x31d))[eM(0x338)],c=document[eM(0x135)](eM(0x314))['value'];if(!confirm(eM(0x2eb)+a+'\x20from\x20'+b+'?'))return;try{const d='playerRibbons'+(c==='D1'?'':c),e=doc(db,d,b),f=await getDoc(e),g=f[eM(0x180)]()?f[eM(0x136)]()[eM(0xfd)]||{}:{};delete g[a],await setDoc(e,{'username':b,'ladder':c,'ribbons':g,'lastUpdated':serverTimestamp()},{'merge':!![]}),showNotification(eM(0x2bf)+a+'\x20from\x20'+b,eM(0x20c)),displayCurrentRibbons(g);}catch(h){console['error'](eM(0x3a3),h),showNotification('Error\x20removing\x20ribbon','error');}}function editUserRibbons(a,b){const eN=a4N;document[eN(0x135)]('ribbon-user-search')[eN(0x338)]=a,searchRibbonUser();}