const a24_0xd0c93d=a24_0x38a1,a24_0x589112=(function(){let _0x5ecc64=!![];return function(_0x23e0e9,_0xc966ca){const _0xbcda51=_0x5ecc64?function(){if(_0xc966ca){const _0x135c5b=_0xc966ca['apply'](_0x23e0e9,arguments);return _0xc966ca=null,_0x135c5b;}}:function(){};return _0x5ecc64=![],_0xbcda51;};}()),a24_0xfe7b46=a24_0x589112(this,function(){const _0x36796e=a24_0x38a1,_0x5d5937=function(){let _0x2a25c6;try{_0x2a25c6=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x2107e8){_0x2a25c6=window;}return _0x2a25c6;},_0x9fb0e4=_0x5d5937(),_0x4a9da0=_0x9fb0e4[_0x36796e(0x17a)]=_0x9fb0e4['console']||{},_0x2e8cf1=['log','warn','info','error','exception','table',_0x36796e(0x172)];for(let _0x3ee2d6=0x0;_0x3ee2d6<_0x2e8cf1['length'];_0x3ee2d6++){const _0x462d93=a24_0x589112['constructor']['prototype']['bind'](a24_0x589112),_0x5bcc27=_0x2e8cf1[_0x3ee2d6],_0xd0d20e=_0x4a9da0[_0x5bcc27]||_0x462d93;_0x462d93[_0x36796e(0x15a)]=a24_0x589112['bind'](a24_0x589112),_0x462d93['toString']=_0xd0d20e['toString']['bind'](_0xd0d20e),_0x4a9da0[_0x5bcc27]=_0x462d93;}});a24_0xfe7b46();function a24_0x2330(){const _0x396339=['\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20Decline\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getTimeAgo','click','./ladderduos.js','success','floor','Failed\x20to\x20','forEach','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Send\x20Message\x20to\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22status-badge\x20status-','teamData','div','createdAt','currentFilter','desc','sentUnsubscribe','appendChild','.filter-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22team-invite-preview\x22\x20style=\x22background:\x20#1a1a1a;\x20padding:\x201rem;\x20border-radius:\x204px;\x20margin:\x200.5rem\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20style=\x22color:\x20','#cancel-response','addEventListener','cancelled','all','querySelector','openResponseModal','textContent','Error\x20updating\x20invitation\x20status:','__proto__','status','none','When\x20other\x20players\x20invite\x20you\x20to\x20games,\x20they\x27ll\x20appear\x20here.','Error\x20creating\x20team:','loadInvitations','DOMContentLoaded','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','<span\x20class=\x22sent-indicator\x22><i\x20class=\x22fas\x20fa-paper-plane\x22></i>\x20Sent</span>','hasMore','gameInvitations','sentInvitations','type','filter','#send-response','toUserId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel','updateInvitationStatus','createTeamFromInvitation','innerHTML','target','team_invite','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-card\x20','trace','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20Accept\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20decline-btn\x22\x20data-action=\x22decline\x22\x20data-invitation-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20cancel-btn\x22\x20data-action=\x22cancel\x22\x20data-invitation-id=\x22','map','toDate','error','Message\x20sent!\x20(Feature\x20will\x20be\x20fully\x20implemented\x20in\x20future\x20update)','console','location','d\x20ago','createInvitationCard','pending','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22empty-inbox\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-inbox\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>No\x20','classList','setupActionListeners','getElementById','active','fromUserId','accepted','sort','fromUsername','renderInvitations','invitations','h\x20ago','add'];a24_0x2330=function(){return _0x396339;};return a24_0x2330();}import{auth,db}from'./firebase-config.js';function a24_0x38a1(_0x5c2d15,_0xcc0617){const _0xfe7b46=a24_0x2330();return a24_0x38a1=function(_0x589112,_0x4b9a6b){_0x589112=_0x589112-0x13d;let _0x23300e=_0xfe7b46[_0x589112];return _0x23300e;},a24_0x38a1(_0x5c2d15,_0xcc0617);}import{collection,query,where,orderBy,getDocs,doc,updateDoc,onSnapshot,limit,startAfter}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';class InboxManager{constructor(){const _0x2fc4d8=a24_0x38a1;this['currentFilter']='pending',this['invitations']=[],this['sentInvitations']=[],this['unsubscribe']=null,this['sentUnsubscribe']=null,this['pageSize']=0x14,this['lastDoc']=null,this[_0x2fc4d8(0x163)]=!![],this['init']();}async['init'](){auth['onAuthStateChanged'](_0x597050=>{const _0x501dec=a24_0x38a1;_0x597050?(this[_0x501dec(0x15f)](_0x597050['uid']),this['setupEventListeners']()):window[_0x501dec(0x17b)]['href']='./login.html';});}['setupEventListeners'](){document['querySelectorAll']('.filter-btn')['forEach'](_0x4a4bb1=>{_0x4a4bb1['addEventListener']('click',()=>{const _0x4b7082=a24_0x38a1;document['querySelectorAll'](_0x4b7082(0x150))[_0x4b7082(0x145)](_0x10a2ac=>_0x10a2ac['classList']['remove']('active')),_0x4a4bb1[_0x4b7082(0x180)][_0x4b7082(0x18b)](_0x4b7082(0x183)),this[_0x4b7082(0x14c)]=_0x4a4bb1['dataset']['filter'],this['renderInvitations']();});});}['loadInvitations'](_0x5baf46){const _0x5ebf64=a24_0x38a1,_0x1af6bc=collection(db,_0x5ebf64(0x164));let _0x1cb333=query(_0x1af6bc,where(_0x5ebf64(0x169),'==',_0x5baf46),orderBy('createdAt',_0x5ebf64(0x14d)),limit(this['pageSize']));this['unsubscribe']=onSnapshot(_0x1cb333,_0x1c2e20=>{this['invitations']=_0x1c2e20['docs']['map'](_0x2f5600=>({'id':_0x2f5600['id'],..._0x2f5600['data']()})),this['renderInvitations'](),this['updateNotificationCount']();});let _0x5c1b5c=query(_0x1af6bc,where(_0x5ebf64(0x184),'==',_0x5baf46),orderBy('createdAt','desc'),limit(this['pageSize']));this['sentUnsubscribe']=onSnapshot(_0x5c1b5c,_0x1fed6d=>{const _0x52bb14=_0x5ebf64;this['sentInvitations']=_0x1fed6d['docs'][_0x52bb14(0x176)](_0x5c45a4=>({'id':_0x5c45a4['id'],..._0x5c45a4['data'](),'isSent':!![]})),this[_0x52bb14(0x188)]();});}[a24_0xd0c93d(0x188)](){const _0x1b998a=a24_0xd0c93d,_0x431bf5=document[_0x1b998a(0x182)]('inbox-content');if(!_0x431bf5)return;let _0x62fbde=[];if(this['currentFilter']==='outbox')_0x62fbde=this['sentInvitations'];else this['currentFilter']===_0x1b998a(0x155)?_0x62fbde=[...this[_0x1b998a(0x189)],...this[_0x1b998a(0x165)]][_0x1b998a(0x186)]((_0x485c7c,_0x1a99d1)=>{const _0x4b2169=_0x1b998a,_0x825aeb=_0x485c7c['createdAt']?.['toDate']?_0x485c7c['createdAt']['toDate']():new Date(_0x485c7c['createdAt']),_0x40f8aa=_0x1a99d1[_0x4b2169(0x14b)]?.[_0x4b2169(0x177)]?_0x1a99d1['createdAt']['toDate']():new Date(_0x1a99d1['createdAt']);return _0x40f8aa-_0x825aeb;}):_0x62fbde=this[_0x1b998a(0x189)]['filter'](_0x298fd3=>_0x298fd3['status']===this['currentFilter']);if(_0x62fbde['length']===0x0){const _0x352c46=this['currentFilter']==='outbox'?'sent':this['currentFilter']==='all'?'':this['currentFilter'];_0x431bf5['innerHTML']=_0x1b998a(0x17f)+_0x352c46+'\x20invitations</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(this['currentFilter']==='outbox'?'Invitations\x20you\x20send\x20to\x20other\x20players\x20will\x20appear\x20here.':_0x1b998a(0x15d))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';return;}_0x431bf5['innerHTML']=_0x62fbde[_0x1b998a(0x176)](_0x55a3b4=>this[_0x1b998a(0x17d)](_0x55a3b4))['join'](''),this['setupActionListeners']();}[a24_0xd0c93d(0x17d)](_0x339065){const _0x449155=a24_0xd0c93d,_0x1a3dd0=_0x339065['createdAt']?.[_0x449155(0x177)]?_0x339065[_0x449155(0x14b)]['toDate']():new Date(_0x339065['createdAt']),_0x2ea421=this['getTimeAgo'](_0x1a3dd0),_0x5717ee=_0x339065['isSent']||![];let _0x4c4104='';return _0x339065['type']===_0x449155(0x170)?_0x4c4104='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+_0x339065['message']+_0x449155(0x151)+_0x339065[_0x449155(0x149)]['teamColor']+';\x20margin:\x200\x200\x200.5rem\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x339065['teamData']['proposedTeamName']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22color:\x20#888;\x20font-size:\x200.9em;\x20margin:\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Duos\x20Ladder\x20Team\x20•\x20Color:\x20'+_0x339065[_0x449155(0x149)]['teamColor']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x4c4104='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+_0x339065['message']+_0x449155(0x174),_0x449155(0x171)+_0x339065['status']+'\x20'+(_0x5717ee?'sent-invitation':'')+'\x22\x20data-invitation-id=\x22'+_0x339065['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-from\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5717ee?'To:\x20'+_0x339065['toUsername']:_0x339065['fromUsername'])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5717ee?_0x449155(0x162):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-time\x22>'+_0x2ea421+_0x449155(0x148)+_0x339065[_0x449155(0x15b)]+'\x22>'+_0x339065['status']+_0x449155(0x13e)+_0x4c4104+_0x449155(0x16a)+(!_0x5717ee&&_0x339065['status']==='pending'?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20accept-btn\x22\x20data-action=\x22accept\x22\x20data-invitation-id=\x22'+_0x339065['id']+_0x449155(0x173)+_0x339065['id']+_0x449155(0x13d)+(_0x339065[_0x449155(0x166)]!=='team_invite'?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20respond-btn\x22\x20data-action=\x22respond\x22\x20data-invitation-id=\x22'+_0x339065['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-reply\x22></i>\x20Send\x20Message\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+_0x449155(0x147):'')+_0x449155(0x16a)+(_0x5717ee&&_0x339065['status']===_0x449155(0x17e)?_0x449155(0x175)+_0x339065['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20Cancel\x20Invitation\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}[a24_0xd0c93d(0x181)](){document['querySelectorAll']('.action-btn')['forEach'](_0x30aa97=>{const _0x4437fc=a24_0x38a1;_0x30aa97[_0x4437fc(0x153)](_0x4437fc(0x140),async _0x84a236=>{const _0x358a04=_0x4437fc,_0x3ea746=_0x30aa97['dataset']['action'],_0x5aa96b=_0x30aa97['dataset']['invitationId'];_0x30aa97['disabled']=!![];const _0x5ef1ef=_0x30aa97[_0x358a04(0x16e)];_0x30aa97[_0x358a04(0x16e)]=_0x358a04(0x161);try{switch(_0x3ea746){case'accept':await this[_0x358a04(0x16c)](_0x5aa96b,_0x358a04(0x185));break;case'decline':await this['updateInvitationStatus'](_0x5aa96b,'declined');break;case _0x358a04(0x16b):await this['updateInvitationStatus'](_0x5aa96b,_0x358a04(0x154));break;case'respond':this[_0x358a04(0x157)](_0x5aa96b);break;}}catch(_0x1aaf8b){console['error']('Error\x20performing\x20'+_0x3ea746+':',_0x1aaf8b),alert(_0x358a04(0x144)+_0x3ea746+'\x20invitation.\x20Please\x20try\x20again.');}finally{_0x30aa97['disabled']=![],_0x30aa97['innerHTML']=_0x5ef1ef;}});});}async['updateInvitationStatus'](_0x16a79b,_0x16636c){const _0xdad2d6=a24_0xd0c93d;try{const _0x4efb3c=this['invitations']['find'](_0x4b84f7=>_0x4b84f7['id']===_0x16a79b);_0x4efb3c&&_0x4efb3c['type']==='team_invite'&&_0x16636c===_0xdad2d6(0x185)&&await this[_0xdad2d6(0x16d)](_0x4efb3c);const _0x3d15e3=doc(db,'gameInvitations',_0x16a79b);await updateDoc(_0x3d15e3,{'status':_0x16636c,'respondedAt':new Date()}),_0x4efb3c&&(_0x4efb3c[_0xdad2d6(0x15b)]=_0x16636c,_0x4efb3c['respondedAt']=new Date(),this['renderInvitations']());}catch(_0x190720){console['error'](_0xdad2d6(0x159),_0x190720);throw _0x190720;}}['openResponseModal'](_0x5766a4){const _0x157bc1=a24_0xd0c93d,_0x51f5d2=this['invitations']['find'](_0x1f00f3=>_0x1f00f3['id']===_0x5766a4);if(!_0x51f5d2)return;const _0x16b5d1=document['createElement'](_0x157bc1(0x14a));_0x16b5d1['className']='modal-overlay',_0x16b5d1['innerHTML']=_0x157bc1(0x146)+_0x51f5d2['fromUsername']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22modal-close\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-body\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Regarding\x20invitation\x20to:\x20<strong>'+_0x51f5d2['value']+'</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22response-message\x22\x20placeholder=\x22Type\x20your\x20message\x20here...\x22\x20rows=\x224\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20respond-btn\x22\x20id=\x22send-response\x22>Send\x20Message</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x22\x20id=\x22cancel-response\x22>Cancel</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';if(!document['getElementById']('modal-styles')){const _0x95ad05=document['createElement']('style');_0x95ad05['id']='modal-styles',_0x95ad05[_0x157bc1(0x158)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-overlay\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20right:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.8);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-content\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#2a2a2a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2090%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20500px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-height:\x2090vh;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20overflow-y:\x20auto;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-header\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20space-between;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-close\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x201.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-body\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-body\x20textarea\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#1a1a1a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resize:\x20vertical;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-footer\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-top:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document['head']['appendChild'](_0x95ad05);}document['body'][_0x157bc1(0x14f)](_0x16b5d1),_0x16b5d1[_0x157bc1(0x156)]('.modal-close')[_0x157bc1(0x153)]('click',()=>_0x16b5d1['remove']()),_0x16b5d1[_0x157bc1(0x156)](_0x157bc1(0x152))['addEventListener'](_0x157bc1(0x140),()=>_0x16b5d1['remove']()),_0x16b5d1['addEventListener'](_0x157bc1(0x140),_0x48e8b1=>{const _0x31f0d1=_0x157bc1;if(_0x48e8b1[_0x31f0d1(0x16f)]===_0x16b5d1)_0x16b5d1['remove']();}),_0x16b5d1['querySelector'](_0x157bc1(0x168))[_0x157bc1(0x153)]('click',()=>{const _0x144d18=_0x157bc1,_0x157977=document['getElementById']('response-message')['value']['trim']();_0x157977&&(alert(_0x144d18(0x179)),_0x16b5d1['remove']());});}async['createTeamFromInvitation'](_0x552116){const _0x21c0b2=a24_0xd0c93d;try{const {createTeam:_0xe96f7}=await import(_0x21c0b2(0x141)),_0x574b5a=await _0xe96f7(_0x552116[_0x21c0b2(0x187)],_0x552116['toUsername'],_0x552116['teamData']['proposedTeamName'],_0x552116['teamData']['teamColor']);if(!_0x574b5a[_0x21c0b2(0x142)])throw new Error(_0x574b5a['error']);alert('Team\x20\x22'+_0x552116[_0x21c0b2(0x149)]['proposedTeamName']+'\x22\x20created\x20successfully!');}catch(_0x2cb3b1){console[_0x21c0b2(0x178)](_0x21c0b2(0x15e),_0x2cb3b1);throw new Error('Failed\x20to\x20create\x20team:\x20'+_0x2cb3b1['message']);}}['updateNotificationCount'](){const _0x2bb7c5=a24_0xd0c93d,_0x25f077=this[_0x2bb7c5(0x189)][_0x2bb7c5(0x167)](_0x489bda=>_0x489bda['status']==='pending')['length'],_0x296afc=document['getElementById']('inbox-notification');_0x296afc&&(_0x25f077>0x0?(_0x296afc['style']['display']='inline-block',_0x296afc['textContent']=_0x25f077>0x9?'9+':_0x25f077):_0x296afc['style']['display']=_0x2bb7c5(0x15c));}[a24_0xd0c93d(0x13f)](_0x1b02f1){const _0x3acff9=a24_0xd0c93d,_0x57ee2c=new Date(),_0x3de307=_0x57ee2c-_0x1b02f1,_0x39a7ed=Math['floor'](_0x3de307/(0x3e8*0x3c)),_0x51f9d8=Math[_0x3acff9(0x143)](_0x3de307/(0x3e8*0x3c*0x3c)),_0x4a2bee=Math['floor'](_0x3de307/(0x3e8*0x3c*0x3c*0x18));if(_0x39a7ed<0x1)return'Just\x20now';if(_0x39a7ed<0x3c)return _0x39a7ed+'m\x20ago';if(_0x51f9d8<0x18)return _0x51f9d8+_0x3acff9(0x18a);if(_0x4a2bee<0x7)return _0x4a2bee+_0x3acff9(0x17c);return _0x1b02f1['toLocaleDateString']();}['destroy'](){const _0x32d0f6=a24_0xd0c93d;this['unsubscribe']&&this['unsubscribe'](),this['sentUnsubscribe']&&this[_0x32d0f6(0x14e)]();}}document['addEventListener'](a24_0xd0c93d(0x160),()=>{new InboxManager();});