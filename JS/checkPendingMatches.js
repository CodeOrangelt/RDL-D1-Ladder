function a10_0x5e04(_0x120852,_0x2c472e){const _0x5570ad=a10_0x1c2e();return a10_0x5e04=function(_0x316ff5,_0x4d8287){_0x316ff5=_0x316ff5-0x140;let _0x1c2e3d=_0x5570ad[_0x316ff5];return _0x1c2e3d;},a10_0x5e04(_0x120852,_0x2c472e);}const a10_0x316ff5=(function(){let _0x499828=!![];return function(_0x1f3c8c,_0x51f36c){const _0x36b3f2=_0x499828?function(){if(_0x51f36c){const _0xa72ff6=_0x51f36c['apply'](_0x1f3c8c,arguments);return _0x51f36c=null,_0xa72ff6;}}:function(){};return _0x499828=![],_0x36b3f2;};}()),a10_0x5570ad=a10_0x316ff5(this,function(){const _0x119034=a10_0x5e04,_0x5ed0be=function(){const _0x1f19d5=a10_0x5e04;let _0x23676a;try{_0x23676a=Function(_0x1f19d5(0x14e)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x57a9a9){_0x23676a=window;}return _0x23676a;},_0x36db93=_0x5ed0be(),_0x27fcda=_0x36db93[_0x119034(0x15c)]=_0x36db93[_0x119034(0x15c)]||{},_0x304582=['log',_0x119034(0x14b),'info',_0x119034(0x152),'exception','table','trace'];for(let _0x48de64=0x0;_0x48de64<_0x304582[_0x119034(0x166)];_0x48de64++){const _0x457f82=a10_0x316ff5['constructor'][_0x119034(0x156)]['bind'](a10_0x316ff5),_0x1f18cc=_0x304582[_0x48de64],_0x2fa318=_0x27fcda[_0x1f18cc]||_0x457f82;_0x457f82['__proto__']=a10_0x316ff5['bind'](a10_0x316ff5),_0x457f82[_0x119034(0x162)]=_0x2fa318[_0x119034(0x162)]['bind'](_0x2fa318),_0x27fcda[_0x1f18cc]=_0x457f82;}});a10_0x5570ad();import{collection,query,where,getDocs,doc,getDoc}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db,auth}from'./firebase-config.js';let lastCheckTime=0x0;const CHECK_INTERVAL=0x2710,NOTIFICATION_CACHE_KEY='pendingMatchesCache',CACHE_EXPIRY=0xea60;export async function checkPendingMatches(_0x9c2407=![]){const _0xb696af=a10_0x5e04,_0x40659c=Date[_0xb696af(0x161)](),_0x37a0ba=checkNotificationCache();if(_0x37a0ba!==null&&!_0x9c2407){updateNotificationDot(_0x37a0ba);if(_0x40659c-lastCheckTime<CHECK_INTERVAL)return;}lastCheckTime=_0x40659c;const _0x513efc=auth['currentUser'];if(!_0x513efc){updateNotificationDot(![]),updateNotificationCache(![]);return;}try{const [_0xcd844,_0x290f5e,_0x26012c]=await Promise['all']([checkForPendingMatchesInCollection(_0x513efc,_0xb696af(0x150)),checkForPendingMatchesInCollection(_0x513efc,'pendingMatchesD2'),checkForPendingMatchesInCollection(_0x513efc,_0xb696af(0x164))]),_0x5118f=_0xcd844||_0x290f5e||_0x26012c;updateNotificationDot(_0x5118f),updateNotificationCache(_0x5118f);}catch(_0x3e3816){console['error']('Error\x20checking\x20pending\x20matches:',_0x3e3816);}}async function checkForPendingMatchesInCollection(_0x5c3da7,_0x159b96){const _0x620062=a10_0x5e04,_0x4d56fe=_0x5c3da7['uid'],_0xea3305=_0x5c3da7['email'],_0x4098d0=query(collection(db,_0x159b96),where(_0x620062(0x165),'==',_0x4d56fe),where('approved','==',![])),_0x2ae4d7=await getDocs(_0x4098d0);if(!_0x2ae4d7['empty'])return!![];if(_0xea3305){const _0x103dfa=query(collection(db,_0x159b96),where(_0x620062(0x15d),'==',_0xea3305),where(_0x620062(0x167),'==',![])),_0x114642=await getDocs(_0x103dfa);if(!_0x114642['empty'])return!![];}let _0x4be5b0=await getUsernameFromAllSources(_0x5c3da7);if(_0x4be5b0){const _0x10832b=query(collection(db,_0x159b96),where(_0x620062(0x153),'==',_0x4be5b0),where(_0x620062(0x167),'==',![])),_0x3844f0=await getDocs(_0x10832b);if(!_0x3844f0['empty'])return!![];}return![];}async function getUsernameFromAllSources(_0x4cc305){const _0x1d7c24=a10_0x5e04,_0x39bfae=localStorage['getItem']('currentUsername');if(_0x39bfae)return _0x39bfae;try{const [_0x45a1ee,_0x319a35,_0x3d48be]=await Promise[_0x1d7c24(0x15e)]([getDocs(query(collection(db,_0x1d7c24(0x145)),where('userId','==',_0x4cc305['uid']))),getDocs(query(collection(db,'playersD2'),where('userId','==',_0x4cc305['uid']))),getDocs(query(collection(db,_0x1d7c24(0x140)),where(_0x1d7c24(0x147),'==',_0x4cc305['uid'])))]);if(!_0x45a1ee[_0x1d7c24(0x154)]){const _0x4b49e9=_0x45a1ee['docs'][0x0]['data']()['username'];return localStorage['setItem']('currentUsername',_0x4b49e9),_0x4b49e9;}if(!_0x319a35['empty']){const _0x1b745b=_0x319a35['docs'][0x0][_0x1d7c24(0x14f)]()['username'];return localStorage['setItem']('currentUsername',_0x1b745b),_0x1b745b;}if(!_0x3d48be['empty']){const _0x5a2469=_0x3d48be[_0x1d7c24(0x15a)][0x0]['data']()['username'];return localStorage[_0x1d7c24(0x14a)]('currentUsername',_0x5a2469),_0x5a2469;}const _0x5e1539=await getDoc(doc(db,_0x1d7c24(0x158),_0x4cc305['uid']));if(_0x5e1539['exists']()&&_0x5e1539['data']()['username']){const _0x2601be=_0x5e1539['data']()[_0x1d7c24(0x151)];return localStorage['setItem']('currentUsername',_0x2601be),_0x2601be;}}catch(_0x40bfda){console['error'](_0x1d7c24(0x146),_0x40bfda);}if(_0x4cc305['email'])return _0x4cc305['email'][_0x1d7c24(0x160)]('@')[0x0];return null;}function updateNotificationCache(_0x21ac6){const _0x4376d0={'status':_0x21ac6,'timestamp':Date['now']()};localStorage['setItem'](NOTIFICATION_CACHE_KEY,JSON['stringify'](_0x4376d0));}function checkNotificationCache(){const _0x27013d=a10_0x5e04,_0x545215=localStorage[_0x27013d(0x15f)](NOTIFICATION_CACHE_KEY);if(!_0x545215)return null;try{const {status:_0x2c9e4e,timestamp:_0x228976}=JSON['parse'](_0x545215),_0x37e568=Date['now']();if(_0x37e568-_0x228976<CACHE_EXPIRY)return _0x2c9e4e;}catch(_0x53491b){}return null;}export function updateNotificationDot(_0x4ce266){const _0x40e60b=a10_0x5e04,_0x4ce3a3=new MutationObserver((_0x423899,_0xc89998)=>{const _0x35ec9c=a10_0x5e04,_0x350ca8=document['getElementById'](_0x35ec9c(0x159));_0x350ca8&&(updateDotStyle(_0x350ca8,_0x4ce266),_0xc89998['disconnect']());});_0x4ce3a3['observe'](document['body'],{'childList':!![],'subtree':!![]});const _0x4b5e8f=document[_0x40e60b(0x141)](_0x40e60b(0x159));_0x4b5e8f&&(updateDotStyle(_0x4b5e8f,_0x4ce266),_0x4ce3a3[_0x40e60b(0x14c)]()),setTimeout(()=>_0x4ce3a3['disconnect'](),0x1388);}function updateDotStyle(_0x29240d,_0x286503){const _0x2b5150=a10_0x5e04;_0x286503?(_0x29240d['style'][_0x2b5150(0x149)]='block',_0x29240d[_0x2b5150(0x143)]['backgroundColor']=_0x2b5150(0x14d),_0x29240d[_0x2b5150(0x143)]['width']='10px',_0x29240d['style']['height']=_0x2b5150(0x15b),_0x29240d['style']['position']='absolute',_0x29240d['style']['top']=_0x2b5150(0x142),_0x29240d['style'][_0x2b5150(0x148)]='-8px',_0x29240d[_0x2b5150(0x143)]['borderRadius']=_0x2b5150(0x157),_0x29240d['style']['border']=_0x2b5150(0x155),_0x29240d['style']['zIndex']='999'):_0x29240d[_0x2b5150(0x143)]['display']='none';}function a10_0x1c2e(){const _0x5452df=['playersD3','getElementById','-5px','style','onAuthStateChanged','players','Error\x20fetching\x20username:','userId','right','display','setItem','warn','disconnect','#ff3b30','return\x20(function()\x20','data','pendingMatches','username','error','winnerUsername','empty','2px\x20solid\x20white','prototype','50%','users','report-match-notification','docs','10px','console','winnerEmail','all','getItem','split','now','toString','removeItem','pendingMatchesD3','winnerId','length','approved'];a10_0x1c2e=function(){return _0x5452df;};return a10_0x1c2e();}export function updatePendingMatchNotification(){checkPendingMatches(!![]);}document['addEventListener']('DOMContentLoaded',()=>{const _0x21aa60=a10_0x5e04;setTimeout(()=>checkPendingMatches(),0x1f4),auth[_0x21aa60(0x144)](()=>{const _0x37ed1d=_0x21aa60;localStorage[_0x37ed1d(0x163)]('currentUsername'),setTimeout(()=>checkPendingMatches(!![]),0x1f4);}),setInterval(()=>checkPendingMatches(),0xea60);});