const a10_0x561cb7=a10_0x11ce;(function(_0x2b7ce6,_0xf4faea){const _0x3022b4=a10_0x11ce,_0x5ab164=_0x2b7ce6();while(!![]){try{const _0x5399ab=parseInt(_0x3022b4(0x9b))/0x1*(-parseInt(_0x3022b4(0xa3))/0x2)+-parseInt(_0x3022b4(0xc5))/0x3+parseInt(_0x3022b4(0xb0))/0x4+parseInt(_0x3022b4(0x9e))/0x5*(-parseInt(_0x3022b4(0xcb))/0x6)+parseInt(_0x3022b4(0xa4))/0x7*(parseInt(_0x3022b4(0xa6))/0x8)+parseInt(_0x3022b4(0x85))/0x9*(-parseInt(_0x3022b4(0x95))/0xa)+parseInt(_0x3022b4(0x7e))/0xb*(parseInt(_0x3022b4(0xb2))/0xc);if(_0x5399ab===_0xf4faea)break;else _0x5ab164['push'](_0x5ab164['shift']());}catch(_0x8c6173){_0x5ab164['push'](_0x5ab164['shift']());}}}(a10_0x88d3,0x53815));const a10_0x3fff17=(function(){let _0x44d843=!![];return function(_0x4e4788,_0x50bcbf){const _0x307a52=_0x44d843?function(){const _0x2f2533=a10_0x11ce;if(_0x50bcbf){const _0x24b736=_0x50bcbf[_0x2f2533(0xbd)](_0x4e4788,arguments);return _0x50bcbf=null,_0x24b736;}}:function(){};return _0x44d843=![],_0x307a52;};}()),a10_0x5231ce=a10_0x3fff17(this,function(){const _0x430c54=a10_0x11ce;return a10_0x5231ce[_0x430c54(0x88)]()[_0x430c54(0xae)](_0x430c54(0x96))[_0x430c54(0x88)]()[_0x430c54(0xa0)](a10_0x5231ce)[_0x430c54(0xae)](_0x430c54(0x96));});a10_0x5231ce();const a10_0xe26e6a=(function(){let _0x3061e1=!![];return function(_0x6eff57,_0x37ab9e){const _0x20fb54=_0x3061e1?function(){if(_0x37ab9e){const _0x25bf9a=_0x37ab9e['apply'](_0x6eff57,arguments);return _0x37ab9e=null,_0x25bf9a;}}:function(){};return _0x3061e1=![],_0x20fb54;};}()),a10_0x42e199=a10_0xe26e6a(this,function(){const _0x58049d=a10_0x11ce,_0x2c2ff9=function(){const _0x2d1499=a10_0x11ce;let _0x245817;try{_0x245817=Function('return\x20(function()\x20'+_0x2d1499(0x8a)+');')();}catch(_0x192329){_0x245817=window;}return _0x245817;},_0x3732f0=_0x2c2ff9(),_0x51097c=_0x3732f0[_0x58049d(0xc8)]=_0x3732f0[_0x58049d(0xc8)]||{},_0x142538=[_0x58049d(0x7f),_0x58049d(0x93),_0x58049d(0xb4),_0x58049d(0xc9),_0x58049d(0x9f),'table',_0x58049d(0xa9)];for(let _0x530870=0x0;_0x530870<_0x142538[_0x58049d(0xbc)];_0x530870++){const _0x43a8b4=a10_0xe26e6a[_0x58049d(0xa0)]['prototype'][_0x58049d(0xb7)](a10_0xe26e6a),_0x299d96=_0x142538[_0x530870],_0x148cbb=_0x51097c[_0x299d96]||_0x43a8b4;_0x43a8b4[_0x58049d(0x9a)]=a10_0xe26e6a[_0x58049d(0xb7)](a10_0xe26e6a),_0x43a8b4[_0x58049d(0x88)]=_0x148cbb['toString'][_0x58049d(0xb7)](_0x148cbb),_0x51097c[_0x299d96]=_0x43a8b4;}});a10_0x42e199();import{collection,query,where,getDocs,doc,getDoc}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db,auth}from'./firebase-config.js';function a10_0x88d3(){const _0x5e6d4b=['now','info','winnerUsername','style','bind','username','winnerId','#ff3b30','removeItem','length','apply','border','approved','height','-8px','width','all','borderRadius','676674fmGAto','users','observe','console','error','email','6fbDGOM','pendingMatchesD2','pendingMatchesD3','6389801daohmN','log','disconnect','players','999','onAuthStateChanged','stringify','540NPaMSU','docs','2px\x20solid\x20white','toString','playersD3','{}.constructor(\x22return\x20this\x22)(\x20)','report-match-notification','none','split','top','empty','Error\x20fetching\x20username:','pendingMatchesCache','50%','warn','absolute','104870NoUMAK','(((.+)+)+)+$','setItem','block','currentUser','__proto__','8nejuGn','display','10px','2584710QEQiQy','exception','constructor','uid','addEventListener','91622eWYqtn','4667607XzkbJS','winnerEmail','8aUEkEC','getElementById','-5px','trace','currentUsername','getItem','data','userId','search','body','1006648rQLYcv','position','24zLHxXh'];a10_0x88d3=function(){return _0x5e6d4b;};return a10_0x88d3();}let lastCheckTime=0x0;const CHECK_INTERVAL=0x2710,NOTIFICATION_CACHE_KEY=a10_0x561cb7(0x91),CACHE_EXPIRY=0xea60;export async function checkPendingMatches(_0x7cf8b1=![]){const _0x492848=a10_0x561cb7,_0xb836d3=Date[_0x492848(0xb3)](),_0x3e6d73=checkNotificationCache();if(_0x3e6d73!==null&&!_0x7cf8b1){updateNotificationDot(_0x3e6d73);if(_0xb836d3-lastCheckTime<CHECK_INTERVAL)return;}lastCheckTime=_0xb836d3;const _0x52cd79=auth[_0x492848(0x99)];if(!_0x52cd79){updateNotificationDot(![]),updateNotificationCache(![]);return;}try{const [_0x7c12f2,_0x4ddca1,_0x132bc5]=await Promise[_0x492848(0xc3)]([checkForPendingMatchesInCollection(_0x52cd79,'pendingMatches'),checkForPendingMatchesInCollection(_0x52cd79,_0x492848(0x7c)),checkForPendingMatchesInCollection(_0x52cd79,_0x492848(0x7d))]),_0x395777=_0x7c12f2||_0x4ddca1||_0x132bc5;updateNotificationDot(_0x395777),updateNotificationCache(_0x395777);}catch(_0x37e23d){console[_0x492848(0xc9)]('Error\x20checking\x20pending\x20matches:',_0x37e23d);}}async function checkForPendingMatchesInCollection(_0x261226,_0x5e6f6b){const _0x44145c=a10_0x561cb7,_0x1e2b8c=_0x261226[_0x44145c(0xa1)],_0x151cb6=_0x261226[_0x44145c(0xca)],_0x115093=query(collection(db,_0x5e6f6b),where(_0x44145c(0xb9),'==',_0x1e2b8c),where(_0x44145c(0xbf),'==',![])),_0x3edb75=await getDocs(_0x115093);if(!_0x3edb75[_0x44145c(0x8f)])return!![];if(_0x151cb6){const _0x168b5f=query(collection(db,_0x5e6f6b),where(_0x44145c(0xa5),'==',_0x151cb6),where('approved','==',![])),_0x20a233=await getDocs(_0x168b5f);if(!_0x20a233['empty'])return!![];}let _0x1ebd5c=await getUsernameFromAllSources(_0x261226);if(_0x1ebd5c){const _0x10db25=query(collection(db,_0x5e6f6b),where(_0x44145c(0xb5),'==',_0x1ebd5c),where(_0x44145c(0xbf),'==',![])),_0x364a52=await getDocs(_0x10db25);if(!_0x364a52[_0x44145c(0x8f)])return!![];}return![];}async function getUsernameFromAllSources(_0x5e302c){const _0x1312d6=a10_0x561cb7,_0x4c2b6c=localStorage[_0x1312d6(0xab)](_0x1312d6(0xaa));if(_0x4c2b6c)return _0x4c2b6c;try{const [_0x43818d,_0x3066e5,_0x5a6b3f]=await Promise[_0x1312d6(0xc3)]([getDocs(query(collection(db,_0x1312d6(0x81)),where(_0x1312d6(0xad),'==',_0x5e302c[_0x1312d6(0xa1)]))),getDocs(query(collection(db,'playersD2'),where(_0x1312d6(0xad),'==',_0x5e302c['uid']))),getDocs(query(collection(db,_0x1312d6(0x89)),where(_0x1312d6(0xad),'==',_0x5e302c[_0x1312d6(0xa1)])))]);if(!_0x43818d[_0x1312d6(0x8f)]){const _0x2ead78=_0x43818d[_0x1312d6(0x86)][0x0][_0x1312d6(0xac)]()[_0x1312d6(0xb8)];return localStorage[_0x1312d6(0x97)]('currentUsername',_0x2ead78),_0x2ead78;}if(!_0x3066e5[_0x1312d6(0x8f)]){const _0x3cc251=_0x3066e5[_0x1312d6(0x86)][0x0][_0x1312d6(0xac)]()[_0x1312d6(0xb8)];return localStorage[_0x1312d6(0x97)](_0x1312d6(0xaa),_0x3cc251),_0x3cc251;}if(!_0x5a6b3f[_0x1312d6(0x8f)]){const _0x7c1933=_0x5a6b3f[_0x1312d6(0x86)][0x0]['data']()[_0x1312d6(0xb8)];return localStorage[_0x1312d6(0x97)]('currentUsername',_0x7c1933),_0x7c1933;}const _0x4e61dd=await getDoc(doc(db,_0x1312d6(0xc6),_0x5e302c[_0x1312d6(0xa1)]));if(_0x4e61dd['exists']()&&_0x4e61dd[_0x1312d6(0xac)]()[_0x1312d6(0xb8)]){const _0x401f9a=_0x4e61dd[_0x1312d6(0xac)]()[_0x1312d6(0xb8)];return localStorage[_0x1312d6(0x97)](_0x1312d6(0xaa),_0x401f9a),_0x401f9a;}}catch(_0x2ee2ad){console['error'](_0x1312d6(0x90),_0x2ee2ad);}if(_0x5e302c['email'])return _0x5e302c[_0x1312d6(0xca)][_0x1312d6(0x8d)]('@')[0x0];return null;}function a10_0x11ce(_0x25a852,_0x1cf0ca){const _0x2ad89f=a10_0x88d3();return a10_0x11ce=function(_0x42e199,_0xe26e6a){_0x42e199=_0x42e199-0x7c;let _0x3a9717=_0x2ad89f[_0x42e199];return _0x3a9717;},a10_0x11ce(_0x25a852,_0x1cf0ca);}function updateNotificationCache(_0x111d19){const _0x52aceb=a10_0x561cb7,_0x1a9302={'status':_0x111d19,'timestamp':Date[_0x52aceb(0xb3)]()};localStorage[_0x52aceb(0x97)](NOTIFICATION_CACHE_KEY,JSON[_0x52aceb(0x84)](_0x1a9302));}function checkNotificationCache(){const _0x12024e=localStorage['getItem'](NOTIFICATION_CACHE_KEY);if(!_0x12024e)return null;try{const {status:_0x2c45df,timestamp:_0x2bedc7}=JSON['parse'](_0x12024e),_0x56f48f=Date['now']();if(_0x56f48f-_0x2bedc7<CACHE_EXPIRY)return _0x2c45df;}catch(_0x51d8d4){}return null;}export function updateNotificationDot(_0x3caf8e){const _0x5c9366=a10_0x561cb7,_0x10274c=new MutationObserver((_0x212cbb,_0x3b7950)=>{const _0x213164=a10_0x11ce,_0x34358d=document[_0x213164(0xa7)](_0x213164(0x8b));_0x34358d&&(updateDotStyle(_0x34358d,_0x3caf8e),_0x3b7950[_0x213164(0x80)]());});_0x10274c[_0x5c9366(0xc7)](document[_0x5c9366(0xaf)],{'childList':!![],'subtree':!![]});const _0x53da73=document[_0x5c9366(0xa7)]('report-match-notification');_0x53da73&&(updateDotStyle(_0x53da73,_0x3caf8e),_0x10274c[_0x5c9366(0x80)]()),setTimeout(()=>_0x10274c['disconnect'](),0x1388);}function updateDotStyle(_0x569a24,_0x3a4e16){const _0x93c2c8=a10_0x561cb7;_0x3a4e16?(_0x569a24[_0x93c2c8(0xb6)]['display']=_0x93c2c8(0x98),_0x569a24[_0x93c2c8(0xb6)]['backgroundColor']=_0x93c2c8(0xba),_0x569a24[_0x93c2c8(0xb6)][_0x93c2c8(0xc2)]=_0x93c2c8(0x9d),_0x569a24[_0x93c2c8(0xb6)][_0x93c2c8(0xc0)]='10px',_0x569a24['style'][_0x93c2c8(0xb1)]=_0x93c2c8(0x94),_0x569a24['style'][_0x93c2c8(0x8e)]=_0x93c2c8(0xa8),_0x569a24['style']['right']=_0x93c2c8(0xc1),_0x569a24['style'][_0x93c2c8(0xc4)]=_0x93c2c8(0x92),_0x569a24['style'][_0x93c2c8(0xbe)]=_0x93c2c8(0x87),_0x569a24['style']['zIndex']=_0x93c2c8(0x82)):_0x569a24[_0x93c2c8(0xb6)][_0x93c2c8(0x9c)]=_0x93c2c8(0x8c);}export function updatePendingMatchNotification(){checkPendingMatches(!![]);}document[a10_0x561cb7(0xa2)]('DOMContentLoaded',()=>{const _0x370714=a10_0x561cb7;setTimeout(()=>checkPendingMatches(),0x1f4),auth[_0x370714(0x83)](()=>{const _0x2c37a7=_0x370714;localStorage[_0x2c37a7(0xbb)](_0x2c37a7(0xaa)),setTimeout(()=>checkPendingMatches(!![]),0x1f4);}),setInterval(()=>checkPendingMatches(),0xea60);});