const a59_0x172a24=a59_0x1c48,a59_0x24ae43=(function(){let _0x91b7bb=!![];return function(_0x57aefb,_0x4a123b){const _0x1db094=_0x91b7bb?function(){if(_0x4a123b){const _0x1a5af6=_0x4a123b['apply'](_0x57aefb,arguments);return _0x4a123b=null,_0x1a5af6;}}:function(){};return _0x91b7bb=![],_0x1db094;};}()),a59_0x45e2c2=a59_0x24ae43(this,function(){const _0x35dfdc=a59_0x1c48,_0x53ed00=function(){let _0x5b69a3;try{_0x5b69a3=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x294e17){_0x5b69a3=window;}return _0x5b69a3;},_0xb8baa=_0x53ed00(),_0x45b8b5=_0xb8baa['console']=_0xb8baa['console']||{},_0x1b71aa=['log','warn','info','error','exception','table','trace'];for(let _0x4d9a86=0x0;_0x4d9a86<_0x1b71aa['length'];_0x4d9a86++){const _0x52357a=a59_0x24ae43[_0x35dfdc(0x1a2)]['prototype'][_0x35dfdc(0x164)](a59_0x24ae43),_0xe4a20e=_0x1b71aa[_0x4d9a86],_0x1bd1ce=_0x45b8b5[_0xe4a20e]||_0x52357a;_0x52357a['__proto__']=a59_0x24ae43[_0x35dfdc(0x164)](a59_0x24ae43),_0x52357a[_0x35dfdc(0x162)]=_0x1bd1ce['toString']['bind'](_0x1bd1ce),_0x45b8b5[_0xe4a20e]=_0x52357a;}});a59_0x45e2c2();import{initializeApp}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js';function a59_0x7e7c(){const _0x4dea1c=['\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22active-games-box\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>Active\x20RetroTracker\x20Games</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22games-list\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loading\x22>Fetching\x20active\x20games...</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22last-update\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','trim','createElement','gameVersion','textContent','color:#7878B8','.game-banner','style','.scoreboard_game','length','getVersionInfo','toString','appendChild','bind','findDetailText','activeGames','includes','size','Mode:','Playing','<span\x20class=\x22player-score\x22>Score:\x20','maxFetchAttempts','game-banner','isMainPage','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-stats\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Players:','status','wins','Detailed\x20Score\x20Board','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22game-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22game-title\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22game-name\x22>','updateBanner','fetchGameData','score','\x0a\x20\x20\x20\x20#retro-tracker-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20800px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x2020px\x20auto\x2040px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20Arial,\x20sans-serif;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.active-games-box\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(255,\x20255,\x20255,\x200.9);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x202px\x2010px\x20rgba(0,\x200,\x200,\x200.1);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.active-games-box\x20h2\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#881e8e;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.game-box\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(240,\x20240,\x20240,\x200.9);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x2010px\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(136,\x2030,\x20142,\x200.2);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.game-header\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20space-between;\x0a\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding-bottom:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20solid\x20rgba(136,\x2030,\x20142,\x200.1);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.game-title\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x201.2em;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#881e8e;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.game-version\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x200.8em;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#666;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x208px;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.game-info\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x2010px\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x200.9em;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#444;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.players-list\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20grid;\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x2015px\x200;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.player\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20space-between;\x0a\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x208px\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(255,\x20255,\x20255,\x200.7);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.2s;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.player:hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(255,\x20255,\x20255,\x200.9);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.player-info\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.player-character\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#666;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x200.9em;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.player-stats\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x2015px;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.player-score,\x20.player-wins\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#881e8e;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.game-footer\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding-top:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-top:\x201px\x20solid\x20rgba(136,\x2030,\x20142,\x200.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20space-between;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x200.8em;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#666;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.loading,\x20.no-games\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#666;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.error-message\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ff0000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(255,\x200,\x200,\x200.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x2010px\x200;\x0a\x20\x20\x20\x20}\x0a','name','updateInterval','getAttribute','addEventListener','No\x20games\x20data\x20received',')\x20reached.\x20Disabling\x20further\x20attempts.','startMonitoring','retroTracker','storeGameData','error','Invalid\x20game\x20data:','forEach','none','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','gameType','querySelector','log','from','fetchAttempts','text/html','</span>','initializeBannerOnly','createGameDisplay','slice','querySelectorAll','Unknown','main','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22error-message\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','games-list','className','Last\x20updated:\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22timestamp\x22>Updated:\x20','div','table','findPlayers','innerHTML','map','game-box','character','host','filter','constructor','players','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22host\x22>Host:\x20','getElementById','split'];a59_0x7e7c=function(){return _0x4dea1c;};return a59_0x7e7c();}function a59_0x1c48(_0x1243b5,_0x3558d3){const _0x45e2c2=a59_0x7e7c();return a59_0x1c48=function(_0x24ae43,_0x4cfa27){_0x24ae43=_0x24ae43-0x157;let _0x7e7c45=_0x45e2c2[_0x24ae43];return _0x7e7c45;},a59_0x1c48(_0x1243b5,_0x3558d3);}import{getFirestore,collection,addDoc,onSnapshot}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{firebaseConfig}from'./firebase-config.js';const app=initializeApp(firebaseConfig),db=getFirestore(app);export class RetroTrackerMonitor{constructor(){const _0xdb97c3=a59_0x1c48;this['lastUpdate']=null,this['activeGames']=new Map(),this[_0xdb97c3(0x17a)]=0x493e0,this[_0xdb97c3(0x16e)]=window['location']['pathname']['endsWith']('/whosplaying.html'),this[_0xdb97c3(0x18b)]=0x0,this['maxFetchAttempts']=0x3,this['fetchingDisabled']=![];}async['initialize'](){this['isMainPage']&&this['createGameDisplay'](),this['startMonitoring']();}[a59_0x172a24(0x18e)](){const _0x43abef=a59_0x172a24;this['activeGames']=new Map(),this['updateInterval']=0x7530,this[_0x43abef(0x17f)]();}[a59_0x172a24(0x18f)](){const _0x15a3bb=a59_0x172a24;if(!this['isMainPage'])return;const _0x1d58f2=document['createElement']('div');_0x1d58f2['id']='retro-tracker-container',_0x1d58f2[_0x15a3bb(0x19c)]=_0x15a3bb(0x157);const _0x5024f5=document[_0x15a3bb(0x188)](_0x15a3bb(0x193));_0x5024f5&&_0x5024f5['appendChild'](_0x1d58f2);const _0xc5c102=document['createElement'](_0x15a3bb(0x199));_0xc5c102['className']=_0x15a3bb(0x16d),_0xc5c102[_0x15a3bb(0x19c)]='<div\x20class=\x22game-banner-content\x22><span\x20class=\x22game-banner-text\x22></span></div>',document['body']['appendChild'](_0xc5c102);}async['fetchGameData'](){const _0x5d87c7=a59_0x172a24;if(this['fetchingDisabled'])return console['log']('Fetching\x20disabled\x20after\x20max\x20attempts\x20reached'),null;if(this['fetchAttempts']>=this[_0x5d87c7(0x16c)])return console['log']('Maximum\x20fetch\x20attempts\x20('+this['maxFetchAttempts']+_0x5d87c7(0x17e)),this['fetchingDisabled']=!![],this['displayError']('Unable\x20to\x20fetch\x20game\x20data\x20after\x20multiple\x20attempts.'),null;try{this['fetchAttempts']++,console[_0x5d87c7(0x189)]('Fetch\x20attempt\x20'+this['fetchAttempts']+'/'+this['maxFetchAttempts']);const _0x2a0b4a='https://api.allorigins.win/get?url=',_0x357480=encodeURIComponent('https://retro-tracker.game-server.cc/'),_0x59126c=await fetch(''+_0x2a0b4a+_0x357480);if(!_0x59126c['ok'])throw new Error('Network\x20response\x20was\x20not\x20ok');const _0x22e4d6=new DOMParser()['parseFromString']((await _0x59126c['json']())['contents'],_0x5d87c7(0x18c)),_0x38d8b4=_0x22e4d6['querySelectorAll'](_0x5d87c7(0x15f));if(!_0x38d8b4[_0x5d87c7(0x160)])throw new Error('No\x20games\x20found');this['fetchAttempts']=0x0;const _0x214959=Array['from'](_0x38d8b4)[_0x5d87c7(0x19d)](_0x5558a5=>{const _0x4e61c5=_0x5d87c7,_0x509294=_0x5558a5[_0x4e61c5(0x17b)]('onclick')?.['match'](/\d+/)?.[0x0];if(!_0x509294)return null;const _0x156b61=_0x22e4d6['querySelector']('#game'+_0x509294);if(!_0x156b61)return null;return{'gameVersion':this[_0x4e61c5(0x161)](_0x156b61),'host':_0x5558a5['querySelector']('td')?.['textContent']?.['trim']()||_0x4e61c5(0x192),'gameName':this['findDetailText'](_0x156b61,'Game\x20Name:'),'map':this[_0x4e61c5(0x165)](_0x156b61,'Mission:'),'players':this['findPlayers'](_0x156b61),'scores':this['findScores'](_0x156b61),'startTime':this['findDetailText'](_0x156b61,'Start\x20time:'),'status':this['findDetailText'](_0x156b61,'Status:')?.['includes'](_0x4e61c5(0x16a))?'active':'inactive','playerCount':this['findDetailText'](_0x156b61,_0x4e61c5(0x170)),'gameMode':this['findDetailText'](_0x156b61,'Mode:'),'timestamp':new Date()['toISOString']()};})[_0x5d87c7(0x1a1)](Boolean);return this['processGameData'](_0x214959);}catch(_0x31a3ad){return console[_0x5d87c7(0x182)]('Error\x20fetching\x20game\x20data\x20(attempt\x20'+this['fetchAttempts']+'/'+this['maxFetchAttempts']+'):',_0x31a3ad),this['fetchAttempts']>=this['maxFetchAttempts']&&(this['fetchingDisabled']=!![],this['displayError']('Unable\x20to\x20fetch\x20game\x20data\x20after\x20multiple\x20attempts.')),null;}}[a59_0x172a24(0x161)](_0x5e5794){const _0x19d855=a59_0x172a24,_0x529217=_0x5e5794[_0x19d855(0x188)]('td[bgcolor=\x22#D0D0D0\x22]');return _0x529217?.['textContent']?.['split']('-')[0x0]?.['trim']()||'Unknown\x20Version';}[a59_0x172a24(0x19b)](_0xa023df){const _0x281f43=a59_0x172a24;if(!_0xa023df)return[];const _0x5c11cc=Array['from'](_0xa023df['querySelectorAll']('td[bgcolor=\x22#D0D0D0\x22]'))['find'](_0x3c80ad=>_0x3c80ad['textContent']['includes']('Score\x20Board'));if(!_0x5c11cc)return[];const _0x382e7e=_0x5c11cc['closest']('tr')['nextElementSibling']?.[_0x281f43(0x188)](_0x281f43(0x19a));if(!_0x382e7e)return[];return Array[_0x281f43(0x18a)](_0x382e7e[_0x281f43(0x191)]('tr'))[_0x281f43(0x190)](0x1)['filter'](_0x48154e=>_0x48154e['getAttribute']('style')?.[_0x281f43(0x167)]('color:#7878B8'))[_0x281f43(0x19d)](_0xde914c=>{const _0x19766a=_0x281f43,_0x5e7e13=_0xde914c[_0x19766a(0x191)]('td');if(_0x5e7e13['length']<0x6)return null;return{'name':_0x5e7e13[0x0]?.['textContent']?.['trim']()||'','kills':parseInt(_0x5e7e13[0x1]?.['textContent']?.['trim']()||'0',0xa),'deaths':parseInt(_0x5e7e13[0x2]?.[_0x19766a(0x15b)]?.[_0x19766a(0x158)]()||'0',0xa),'suicides':parseInt(_0x5e7e13[0x3]?.['textContent']?.['trim']()||'0',0xa),'kdr':parseFloat(_0x5e7e13[0x4]?.[_0x19766a(0x15b)]?.['trim']()||'0'),'timeInGame':_0x5e7e13[0x5]?.['textContent']?.['trim']()||''};})['filter'](Boolean);}['findScores'](_0xccdc24){const _0xce1313=a59_0x172a24,_0x34cd11=Array['from'](_0xccdc24['querySelectorAll'](_0xce1313(0x19a)))['find'](_0xca5acf=>_0xca5acf['previousElementSibling']?.[_0xce1313(0x15b)]?.['includes'](_0xce1313(0x173)));if(!_0x34cd11)return{};return Object['fromEntries'](Array['from'](_0x34cd11['querySelectorAll']('tr'))['filter'](_0x1b7b8b=>_0x1b7b8b['getAttribute']('style')?.[_0xce1313(0x167)](_0xce1313(0x15c)))['map'](_0x4fb60c=>{const _0x49b600=_0x4fb60c['querySelectorAll']('td');return[_0x49b600[0x0]?.['textContent']?.['trim']()||'Unknown',_0x49b600[0x1]?.['textContent']?.['trim']()||'0'];}));}['processGameData'](_0x16f03a){const _0x596aaf=a59_0x172a24;if(!_0x16f03a?.['length']){console[_0x596aaf(0x189)](_0x596aaf(0x17d));return;}this['activeGames']['clear']();const _0x55c032=_0x16f03a[_0x596aaf(0x1a1)](_0x46a903=>_0x46a903['status']==='active'&&_0x46a903['players']?.['length']>0x0);_0x55c032[_0x596aaf(0x184)](_0x4db4c7=>{const _0x19d0a6=_0x4db4c7['gameName']+'-'+_0x4db4c7['startTime'];this['activeGames']['set'](_0x19d0a6,_0x4db4c7);}),this['updateDisplay']();}['findDetailText'](_0x36a210,_0x390bc9){const _0xf6760b=a59_0x172a24;if(!_0x36a210)return'';const _0x49a61f=_0x36a210['querySelectorAll']('td');for(const _0x5a2c11 of _0x49a61f){if(_0x5a2c11[_0xf6760b(0x15b)][_0xf6760b(0x167)](_0x390bc9)){const _0x5dcced=_0x5a2c11[_0xf6760b(0x15b)][_0xf6760b(0x1a6)](_0x390bc9);if(_0x5dcced['length']>0x1){let _0x2e7599=_0x5dcced[0x1]['trim']();switch(_0x390bc9){case'Game\x20Name:':return _0x2e7599[_0xf6760b(0x1a6)]('Mission:')[0x0]['trim']();case'Mission:':return _0x2e7599['split']('Level\x20Number:')[0x0]['trim']();case'Players:':return _0x2e7599['split']('Mode:')[0x0]['trim']();case _0xf6760b(0x169):return _0x2e7599[_0xf6760b(0x1a6)]('\x0a')[0x0]['trim']();default:return _0x2e7599;}}}}return'';}[a59_0x172a24(0x181)](_0x2df610){const _0x15791b=a59_0x172a24;if(!_0x2df610['host']||!_0x2df610['players']){console['error'](_0x15791b(0x183),_0x2df610);return;}this['activeGames']['set'](_0x2df610[_0x15791b(0x1a0)],_0x2df610),addDoc(collection(db,_0x15791b(0x180)),_0x2df610)['catch'](_0x5ab42f=>{console['error']('Error\x20storing\x20game\x20data:',_0x5ab42f);}),this['updateDisplay']();}['updateDisplay'](){const _0xd05528=a59_0x172a24;if(this['isMainPage']){const _0x4edfc6=document[_0xd05528(0x1a5)](_0xd05528(0x195));if(!_0x4edfc6)return;if(this['activeGames'][_0xd05528(0x168)]===0x0){_0x4edfc6['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22no-games\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>No\x20active\x20games\x20found</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';return;}_0x4edfc6['innerHTML']='',this['activeGames']['forEach']((_0x13eaec,_0x2b86bf)=>{const _0x4d4803=_0xd05528,_0x4074a1=document['createElement']('div');_0x4074a1[_0x4d4803(0x196)]=_0x4d4803(0x19e),_0x4074a1['innerHTML']=_0x4d4803(0x174)+_0x13eaec['gameName']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x13eaec['gameVersion']?'<span\x20class=\x22game-version\x22>(v'+_0x13eaec[_0x4d4803(0x15a)]+')</span>':'')+_0x4d4803(0x1a4)+_0x13eaec['host']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22game-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22game-type\x22>'+_0x13eaec[_0x4d4803(0x187)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22game-status\x22>'+_0x13eaec[_0x4d4803(0x171)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22players-list\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x13eaec[_0x4d4803(0x1a3)]['map'](_0x5cda18=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22player\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-name\x22>'+_0x5cda18[_0x4d4803(0x179)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5cda18[_0x4d4803(0x19f)]?'<span\x20class=\x22player-character\x22>'+_0x5cda18[_0x4d4803(0x19f)]+'</span>':'')+_0x4d4803(0x16f)+(_0x5cda18[_0x4d4803(0x177)]?_0x4d4803(0x16b)+_0x5cda18[_0x4d4803(0x177)]+'</span>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5cda18[_0x4d4803(0x172)]?'<span\x20class=\x22player-wins\x22>Wins:\x20'+_0x5cda18['wins']+_0x4d4803(0x18d):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22game-footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22start-time\x22>Started:\x20'+new Date(_0x13eaec['startTime'])['toLocaleTimeString']()+_0x4d4803(0x198)+new Date(_0x13eaec['timestamp'])['toLocaleTimeString']()+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x4edfc6['appendChild'](_0x4074a1);}),document[_0xd05528(0x188)]('.last-update')[_0xd05528(0x15b)]=_0xd05528(0x197)+new Date()['toLocaleTimeString']();}this[_0xd05528(0x175)]();}['startMonitoring'](){const _0x7ae59=a59_0x172a24;!this['fetchingDisabled']&&(setInterval(()=>{!this['fetchingDisabled']&&this['fetchGameData']();},this['updateInterval']),this[_0x7ae59(0x176)]());}['displayError'](_0x1aefba){const _0x50c218=a59_0x172a24,_0x2a3a45=document['getElementById'](_0x50c218(0x195));_0x2a3a45&&(_0x2a3a45[_0x50c218(0x19c)]=_0x50c218(0x194)+_0x1aefba+_0x50c218(0x186));}['updateBanner'](){const _0x36407f=a59_0x172a24,_0x792bac=document[_0x36407f(0x188)](_0x36407f(0x15d)),_0x473936=document['querySelector']('.game-banner-text');if(!_0x792bac||!_0x473936)return;if(this[_0x36407f(0x166)][_0x36407f(0x168)]===0x0){_0x792bac['style']['display']=_0x36407f(0x185);return;}_0x792bac[_0x36407f(0x15e)]['display']='block';const _0x59f15d=Array['from'](this[_0x36407f(0x166)]['values']());let _0x2402c6=0x0;this['gameRotationInterval']&&clearInterval(this['gameRotationInterval']);const _0x48da9b=()=>{const _0x1e3fcb=_0x36407f,_0x20e7f3=_0x59f15d[_0x2402c6];if(_0x20e7f3){const _0x25efa4=_0x20e7f3['players']?.['length']>0x2?'FFA':'1v1',_0x50393b=_0x20e7f3['players']?.[_0x1e3fcb(0x160)]||0x0,_0xe6c72='LIVE\x20GAME:\x20('+_0x20e7f3['gameVersion']+')\x20-\x20'+_0x20e7f3['gameName']+'\x20-\x20'+_0x25efa4+'\x20-\x20Map:\x20'+_0x20e7f3['map'];_0x473936['textContent']=_0xe6c72,_0x2402c6=(_0x2402c6+0x1)%_0x59f15d['length'];}};_0x48da9b(),_0x59f15d['length']>0x1&&(this['gameRotationInterval']=setInterval(_0x48da9b,0x2710));}}const styles=a59_0x172a24(0x178),styleSheet=document[a59_0x172a24(0x159)]('style');styleSheet[a59_0x172a24(0x15b)]=styles,document['head'][a59_0x172a24(0x163)](styleSheet),document[a59_0x172a24(0x17c)]('DOMContentLoaded',()=>{const _0x1c2cf6=new RetroTrackerMonitor();window['location']['pathname']['endsWith']('whosplaying.html')?_0x1c2cf6['initialize']():_0x1c2cf6['initializeBannerOnly']();});