const a27_0x380e00=a27_0x5dd9,a27_0x1a0d7c=(function(){let _0x130f7a=!![];return function(_0x3695f4,_0xc10244){const _0x1df9ee=_0x130f7a?function(){const _0x4de419=a27_0x5dd9;if(_0xc10244){const _0x16f5b7=_0xc10244[_0x4de419(0xd1)](_0x3695f4,arguments);return _0xc10244=null,_0x16f5b7;}}:function(){};return _0x130f7a=![],_0x1df9ee;};}()),a27_0x4c6535=a27_0x1a0d7c(this,function(){const _0xb79ebf=a27_0x5dd9;let _0x3023fe;try{const _0xa50c43=Function(_0xb79ebf(0xbb)+_0xb79ebf(0xa1)+');');_0x3023fe=_0xa50c43();}catch(_0x10e589){_0x3023fe=window;}const _0x9a06f5=_0x3023fe[_0xb79ebf(0x96)]=_0x3023fe[_0xb79ebf(0x96)]||{},_0x5c8551=[_0xb79ebf(0xd9),_0xb79ebf(0xc8),_0xb79ebf(0xb4),_0xb79ebf(0x88),_0xb79ebf(0xc4),_0xb79ebf(0xdf),_0xb79ebf(0xcc)];for(let _0x50bde0=0x0;_0x50bde0<_0x5c8551[_0xb79ebf(0xc7)];_0x50bde0++){const _0xc005bb=a27_0x1a0d7c[_0xb79ebf(0xa8)][_0xb79ebf(0x83)][_0xb79ebf(0xae)](a27_0x1a0d7c),_0x2282cb=_0x5c8551[_0x50bde0],_0x43eafe=_0x9a06f5[_0x2282cb]||_0xc005bb;_0xc005bb[_0xb79ebf(0xa6)]=a27_0x1a0d7c[_0xb79ebf(0xae)](a27_0x1a0d7c),_0xc005bb[_0xb79ebf(0x8a)]=_0x43eafe[_0xb79ebf(0x8a)][_0xb79ebf(0xae)](_0x43eafe),_0x9a06f5[_0x2282cb]=_0xc005bb;}});function a27_0x16cc(){const _0x3175cd=['reload','none','d2-switch','ladder-join-status\x20success','DUOS','\x22\x20to\x20confirm.','email','prototype','querySelectorAll','input[name=\x22ladder\x22]','toUpperCase','ladder-join-prompt','error','Joining\x20','toString','\x20ladder!\x20The\x20page\x20will\x20refresh...','FFA\x20hiatus\x20return\x20detected\x20-\x20restoring\x20ELO:\x20','playersD2','className',',\x20defaulting\x20to\x20D1','join-ladder-button','Authentication\x20failed.\x20Please\x20sign\x20in\x20again.','eloRating','fromLadder','message','join-ladder-type','console','click','playerHiatus','Ladder\x20changed\x20to:\x20','addEventListener','Error\x20joining\x20ladder:\x20','textContent','location','style','docs','Authentication\x20error:','{}.constructor(\x22return\x20this\x22)(\x20)','players','join-username-input','tiny-join-button','Verifying\x20username...','__proto__','forEach','constructor','exists','Checking\x20user\x20status\x20for\x20ladder:','nonParticipants','DOMContentLoaded','playersFFA','bind','Unknown\x20ladder\x20type:\x20','uid','currentUser','ladder-join-status','Error\x20joining\x20ladder:','info','empty','display','checked','toLowerCase','ladder-join-status\x20loading','FFA','return\x20(function()\x20','You\x20must\x20be\x20signed\x20in\x20to\x20join\x20a\x20ladder.','target','trim','split','\x20ladder...','Ladder\x20join:\x20D2\x20radio\x20found:','Error\x20checking\x20ladder\x20status:','Username\x20doesn\x27t\x20match.\x20Please\x20enter\x20\x22','exception','Hiatus\x20return\x20detected\x20for\x20','playersD3','length','warn','playersDuos','Error\x20checking\x20hiatus\x20collection:','username','trace','desc','Could\x20not\x20verify\x20your\x20account.\x20Please\x20contact\x20an\x20administrator.','d1-switch','ladder-join-status\x20error','apply','Error\x20checking\x20','Successfully\x20joined\x20the\x20','Please\x20enter\x20your\x20username\x20to\x20confirm.','DUO','disabled','You\x20are\x20already\x20part\x20of\x20the\x20','getElementById','log','Successfully\x20joined\x20the\x20Duos\x20ladder!\x20You\x20can\x20now\x20form\x20teams\x20with\x20other\x20players.\x20The\x20page\x20will\x20refresh...','Authentication\x20verification\x20failed:','\x20-\x20restoring\x20ELO:\x20','value','data','table','Ladder\x20join:\x20D1\x20radio\x20found:','change','getIdToken','position','Error\x20checking\x20FFA\x20history:','\x20ladder.','onclick','block'];a27_0x16cc=function(){return _0x3175cd;};return a27_0x16cc();}a27_0x4c6535();import{doc,getDoc,getDocs,setDoc,query,collection,orderBy,limit,serverTimestamp}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{onAuthStateChanged}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';import{auth,db}from'./firebase-config.js';let currentLadder='D1';document[a27_0x380e00(0x9a)](a27_0x380e00(0xac),()=>{const _0x38bf50=a27_0x380e00,_0x38ffce=document[_0x38bf50(0xd8)](_0x38bf50(0xcf)),_0x3b44b9=document[_0x38bf50(0xd8)](_0x38bf50(0x7e));console[_0x38bf50(0xd9)](_0x38bf50(0xe0),!!_0x38ffce),console[_0x38bf50(0xd9)](_0x38bf50(0xc1),!!_0x3b44b9);function _0x2733c7(){const _0x51d901=_0x38bf50;document[_0x51d901(0x84)](_0x51d901(0x85))[_0x51d901(0xa7)](_0x5cbbdf=>{const _0x161c62=_0x51d901;_0x5cbbdf[_0x161c62(0x9a)](_0x161c62(0xe1),_0x34f225=>{const _0x4b7faf=_0x161c62;_0x34f225[_0x4b7faf(0xbd)][_0x4b7faf(0xb7)]&&(currentLadder=_0x34f225[_0x4b7faf(0xbd)][_0x4b7faf(0xdd)],console[_0x4b7faf(0xd9)](_0x4b7faf(0x99)+currentLadder),checkUserLadderStatus());});});}_0x2733c7();const _0x287a3e=document[_0x38bf50(0xd8)](_0x38bf50(0x90));_0x287a3e&&_0x287a3e[_0x38bf50(0x9a)](_0x38bf50(0x97),handleJoinLadder),onAuthStateChanged(auth,_0x3544f5=>{const _0x412d60=_0x38bf50;if(_0x3544f5)checkUserLadderStatus();else{const _0x33e6e8=document[_0x412d60(0xd8)](_0x412d60(0x87));_0x33e6e8&&(_0x33e6e8[_0x412d60(0x9e)][_0x412d60(0xb6)]=_0x412d60(0x7d));}});});function a27_0x5dd9(_0x1abd14,_0x431a15){_0x1abd14=_0x1abd14-0x7c;const _0x4c6535=a27_0x16cc();let _0x1a0d7c=_0x4c6535[_0x1abd14];return _0x1a0d7c;}function getCollectionName(_0x31ae70){const _0x31fcc9=a27_0x380e00;switch(_0x31ae70?.[_0x31fcc9(0x86)]()){case'D1':return _0x31fcc9(0xa2);case'D2':return _0x31fcc9(0x8d);case'D3':return _0x31fcc9(0xc6);case _0x31fcc9(0x80):case _0x31fcc9(0xd5):return _0x31fcc9(0xc9);case _0x31fcc9(0xba):return _0x31fcc9(0xad);default:console[_0x31fcc9(0xc8)](_0x31fcc9(0xaf)+_0x31ae70+_0x31fcc9(0x8f));return _0x31fcc9(0xa2);}}async function checkUserLadderStatus(){const _0x2560d1=a27_0x380e00;console[_0x2560d1(0xd9)](_0x2560d1(0xaa),currentLadder);const _0x484c6e=auth[_0x2560d1(0xb1)],_0xa47af2=document[_0x2560d1(0xd8)](_0x2560d1(0x87)),_0x34ea3c=document[_0x2560d1(0xd8)](_0x2560d1(0x95)),_0x1fc8a5=document[_0x2560d1(0xd8)](_0x2560d1(0xa4));if(!_0x484c6e||!_0x484c6e[_0x2560d1(0xb0)]||!_0xa47af2||!_0x34ea3c||!_0x1fc8a5){if(_0xa47af2)_0xa47af2[_0x2560d1(0x9e)][_0x2560d1(0xb6)]=_0x2560d1(0x7d);if(_0x1fc8a5)_0x1fc8a5[_0x2560d1(0x9e)][_0x2560d1(0xb6)]=_0x2560d1(0x7d);return;}try{try{await _0x484c6e[_0x2560d1(0xe2)](![]);}catch(_0x44cd55){console[_0x2560d1(0x88)](_0x2560d1(0xdb),_0x44cd55),_0xa47af2[_0x2560d1(0x9e)][_0x2560d1(0xb6)]=_0x2560d1(0x7d),_0x1fc8a5[_0x2560d1(0x9e)][_0x2560d1(0xb6)]=_0x2560d1(0x7d);return;}const _0x141ef0=getCollectionName(currentLadder),_0x537102=doc(db,_0x141ef0,_0x484c6e[_0x2560d1(0xb0)]),_0x5c5d3a=await getDoc(_0x537102);if(_0x5c5d3a[_0x2560d1(0xa9)]())_0xa47af2[_0x2560d1(0x9e)][_0x2560d1(0xb6)]=_0x2560d1(0x7d),_0x1fc8a5[_0x2560d1(0x9e)][_0x2560d1(0xb6)]=_0x2560d1(0x7d);else{_0xa47af2[_0x2560d1(0x9e)][_0x2560d1(0xb6)]=_0x2560d1(0x7d),_0x1fc8a5[_0x2560d1(0x9e)][_0x2560d1(0xb6)]=_0x2560d1(0xe7),_0x34ea3c[_0x2560d1(0x9c)]=currentLadder,_0x1fc8a5[_0x2560d1(0xe6)]=()=>{const _0x134125=_0x2560d1;_0xa47af2[_0x134125(0x9e)][_0x134125(0xb6)]===_0x134125(0xe7)?_0xa47af2[_0x134125(0x9e)][_0x134125(0xb6)]=_0x134125(0x7d):_0xa47af2[_0x134125(0x9e)][_0x134125(0xb6)]=_0x134125(0xe7);};const _0x5108f5=document[_0x2560d1(0xd8)](_0x2560d1(0xa3)),_0x3da061=document[_0x2560d1(0xd8)](_0x2560d1(0xb2));if(_0x5108f5)_0x5108f5[_0x2560d1(0xdd)]='';_0x3da061&&(_0x3da061[_0x2560d1(0x9c)]='',_0x3da061[_0x2560d1(0x8e)]=_0x2560d1(0xb2));}}catch(_0x160072){console[_0x2560d1(0x88)](_0x2560d1(0xc2),_0x160072),_0xa47af2[_0x2560d1(0x9e)][_0x2560d1(0xb6)]=_0x2560d1(0x7d),_0x1fc8a5[_0x2560d1(0x9e)][_0x2560d1(0xb6)]=_0x2560d1(0x7d);}}async function handleJoinLadder(){const _0x239be=a27_0x380e00,_0x327b19=auth[_0x239be(0xb1)],_0x1f6f96=document[_0x239be(0xd8)](_0x239be(0x90)),_0x6517c=document[_0x239be(0xd8)](_0x239be(0xb2)),_0x43ae2f=document[_0x239be(0xd8)](_0x239be(0xa3));if(!_0x327b19||!_0x327b19[_0x239be(0xb0)]){_0x6517c[_0x239be(0x9c)]=_0x239be(0xbc),_0x6517c[_0x239be(0x8e)]=_0x239be(0xd0);return;}try{await _0x327b19[_0x239be(0xe2)](!![]);}catch(_0x2e642e){console[_0x239be(0x88)](_0x239be(0xa0),_0x2e642e),_0x6517c[_0x239be(0x9c)]=_0x239be(0x91),_0x6517c[_0x239be(0x8e)]=_0x239be(0xd0);return;}if(!_0x43ae2f||!_0x43ae2f[_0x239be(0xdd)][_0x239be(0xbe)]()){_0x6517c[_0x239be(0x9c)]=_0x239be(0xd4),_0x6517c[_0x239be(0x8e)]=_0x239be(0xd0);return;}try{_0x1f6f96[_0x239be(0xd6)]=!![],_0x6517c[_0x239be(0x9c)]=_0x239be(0xa5),_0x6517c[_0x239be(0x8e)]=_0x239be(0xb9);let _0x167365='',_0xbb2a25=null;const _0xf500eb=[_0x239be(0xa2),_0x239be(0x8d),_0x239be(0xc6),_0x239be(0xc9),_0x239be(0xad),_0x239be(0xab)];for(const _0x2eea0e of _0xf500eb){try{const _0x2800c6=doc(db,_0x2eea0e,_0x327b19[_0x239be(0xb0)]),_0x179324=await getDoc(_0x2800c6);if(_0x179324[_0x239be(0xa9)]()){_0xbb2a25=_0x179324[_0x239be(0xde)]();if(_0xbb2a25[_0x239be(0xcb)]){_0x167365=_0xbb2a25[_0x239be(0xcb)];break;}}}catch(_0x2b7a9e){console[_0x239be(0x88)](_0x239be(0xd2)+_0x2eea0e+':',_0x2b7a9e);}}!_0x167365&&_0x327b19[_0x239be(0x82)]&&(_0x167365=_0x327b19[_0x239be(0x82)][_0x239be(0xbf)]('@')[0x0]);if(!_0x167365){_0x6517c[_0x239be(0x9c)]=_0x239be(0xce),_0x6517c[_0x239be(0x8e)]=_0x239be(0xd0),_0x1f6f96[_0x239be(0xd6)]=![];return;}const _0x55d8e6=_0x43ae2f[_0x239be(0xdd)][_0x239be(0xbe)]();if(_0x167365&&_0x55d8e6[_0x239be(0xb8)]()!==_0x167365[_0x239be(0xb8)]()){_0x6517c[_0x239be(0x9c)]=_0x239be(0xc3)+_0x167365+_0x239be(0x81),_0x6517c[_0x239be(0x8e)]=_0x239be(0xd0),_0x1f6f96[_0x239be(0xd6)]=![];return;}_0x6517c[_0x239be(0x9c)]=_0x239be(0x89)+currentLadder+_0x239be(0xc0);const _0x1db67b=getCollectionName(currentLadder),_0x5dec90=doc(db,_0x1db67b,_0x327b19[_0x239be(0xb0)]),_0x153a66=await getDoc(_0x5dec90);if(_0x153a66[_0x239be(0xa9)]()){_0x6517c[_0x239be(0x9c)]=_0x239be(0xd7)+currentLadder+_0x239be(0xe5),_0x6517c[_0x239be(0x8e)]=_0x239be(0xd0),_0x1f6f96[_0x239be(0xd6)]=![];return;}try{await _0x327b19[_0x239be(0xe2)](!![]);}catch(_0x4e0b60){_0x6517c[_0x239be(0x9c)]=_0x239be(0x91),_0x6517c[_0x239be(0x8e)]=_0x239be(0xd0),_0x1f6f96[_0x239be(0xd6)]=![];return;}const _0x17a161=_0x167365,_0x42a8d9=collection(db,_0x1db67b),_0x17ce1c=query(_0x42a8d9,orderBy(_0x239be(0xe3),_0x239be(0xcd)),limit(0x1)),_0x48cd23=await getDocs(_0x17ce1c);let _0x32455c=0x1;if(!_0x48cd23[_0x239be(0xb5)]){const _0x4ead44=_0x48cd23[_0x239be(0x9f)][0x0][_0x239be(0xde)]();_0x32455c=(_0x4ead44[_0x239be(0xe3)]||0x0)+0x1;}let _0x439d91=null;try{const _0x194718=doc(db,_0x239be(0x98),_0x327b19[_0x239be(0xb0)]),_0x43b6c0=await getDoc(_0x194718);if(_0x43b6c0[_0x239be(0xa9)]()){const _0x227cda=_0x43b6c0[_0x239be(0xde)]();_0x227cda[_0x239be(0x93)]===currentLadder&&(_0x227cda[_0x239be(0x92)]&&_0x227cda[_0x239be(0x92)]>0x0&&(_0x439d91=_0x227cda[_0x239be(0x92)],console[_0x239be(0xd9)](_0x239be(0xc5)+currentLadder+_0x239be(0xdc)+_0x439d91)));}}catch(_0x4cc6dc){console[_0x239be(0x88)](_0x239be(0xca),_0x4cc6dc);}if(!_0x439d91){if(currentLadder===_0x239be(0xba))try{const _0xba9ee7=doc(db,_0x239be(0xad),_0x327b19[_0x239be(0xb0)]),_0x5e76cf=await getDoc(_0xba9ee7);if(_0x5e76cf[_0x239be(0xa9)]()){const _0x5124fb=_0x5e76cf[_0x239be(0xde)]();_0x5124fb[_0x239be(0x92)]&&_0x5124fb[_0x239be(0x92)]>0x0&&(_0x439d91=_0x5124fb[_0x239be(0x92)],console[_0x239be(0xd9)](_0x239be(0x8c)+_0x439d91));}}catch(_0x1608b0){console[_0x239be(0x88)](_0x239be(0xe4),_0x1608b0);}else _0xbb2a25&&(_0xbb2a25[_0x239be(0x92)]&&(_0x439d91=_0xbb2a25[_0x239be(0x92)]));}let _0x4e556e;currentLadder===_0x239be(0xba)?_0x4e556e=0x4b0:_0x4e556e=0xc8;let _0xf705cf=_0x439d91&&_0x439d91>0x0?_0x439d91:_0x4e556e;const _0x2a43f7={'username':_0x17a161,'email':_0x327b19[_0x239be(0x82)],'eloRating':_0xf705cf,'position':_0x32455c,'createdAt':serverTimestamp(),'isAdmin':![],'matches':0x0,'wins':0x0,'losses':0x0,'gameMode':currentLadder,...currentLadder===_0x239be(0x80)&&{'hasTeam':![],'teamId':null,'teamName':null,'teammate':null,'teamColor':null,'lookingForTeam':!![],'tierValue':0x3e8}};await setDoc(_0x5dec90,_0x2a43f7),currentLadder===_0x239be(0x80)?_0x6517c[_0x239be(0x9c)]=_0x239be(0xda):_0x6517c[_0x239be(0x9c)]=_0x239be(0xd3)+currentLadder+_0x239be(0x8b),_0x6517c[_0x239be(0x8e)]=_0x239be(0x7f),setTimeout(()=>{const _0x48df79=_0x239be;window[_0x48df79(0x9d)][_0x48df79(0x7c)]();},0x7d0);}catch(_0x3aa277){console[_0x239be(0x88)](_0x239be(0xb3),_0x3aa277),_0x6517c[_0x239be(0x9c)]=_0x239be(0x9b)+_0x3aa277[_0x239be(0x94)],_0x6517c[_0x239be(0x8e)]=_0x239be(0xd0),_0x1f6f96[_0x239be(0xd6)]=![];}}