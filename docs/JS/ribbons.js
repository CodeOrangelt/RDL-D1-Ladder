const a0_0x3ce846=a0_0x539d;(function(_0x7a7170,_0x42994e){const _0x2e1608=a0_0x539d,_0x5e2b99=_0x7a7170();while(!![]){try{const _0xab03ac=-parseInt(_0x2e1608(0x166))/0x1*(-parseInt(_0x2e1608(0x104))/0x2)+parseInt(_0x2e1608(0xfa))/0x3+-parseInt(_0x2e1608(0x14c))/0x4+parseInt(_0x2e1608(0x13f))/0x5+parseInt(_0x2e1608(0x16e))/0x6*(-parseInt(_0x2e1608(0x112))/0x7)+parseInt(_0x2e1608(0x11f))/0x8*(-parseInt(_0x2e1608(0x14f))/0x9)+-parseInt(_0x2e1608(0x114))/0xa*(parseInt(_0x2e1608(0x113))/0xb);if(_0xab03ac===_0x42994e)break;else _0x5e2b99['push'](_0x5e2b99['shift']());}catch(_0x1082f6){_0x5e2b99['push'](_0x5e2b99['shift']());}}}(a0_0x32b4,0xaa25c));const a0_0x17135c=(function(){let _0x94554e=!![];return function(_0x185a47,_0xa082d4){const _0x325bfd=_0x94554e?function(){if(_0xa082d4){const _0x191f7e=_0xa082d4['apply'](_0x185a47,arguments);return _0xa082d4=null,_0x191f7e;}}:function(){};return _0x94554e=![],_0x325bfd;};}()),a0_0x526021=a0_0x17135c(this,function(){const _0x3bb0af=a0_0x539d,_0x102b6e=function(){const _0x4c1e99=a0_0x539d;let _0x2bd799;try{_0x2bd799=Function('return\x20(function()\x20'+_0x4c1e99(0x159)+');')();}catch(_0x333af7){_0x2bd799=window;}return _0x2bd799;},_0x2d350f=_0x102b6e(),_0x549c8e=_0x2d350f[_0x3bb0af(0x11c)]=_0x2d350f['console']||{},_0x4729f3=['log','warn','info','error','exception','table',_0x3bb0af(0x133)];for(let _0x2b0b07=0x0;_0x2b0b07<_0x4729f3['length'];_0x2b0b07++){const _0x41977e=a0_0x17135c['constructor']['prototype']['bind'](a0_0x17135c),_0x1e8416=_0x4729f3[_0x2b0b07],_0x335b4c=_0x549c8e[_0x1e8416]||_0x41977e;_0x41977e[_0x3bb0af(0x160)]=a0_0x17135c[_0x3bb0af(0xf8)](a0_0x17135c),_0x41977e[_0x3bb0af(0x17a)]=_0x335b4c[_0x3bb0af(0x17a)][_0x3bb0af(0xf8)](_0x335b4c),_0x549c8e[_0x1e8416]=_0x41977e;}});function a0_0x539d(_0x23ab1b,_0x502d75){const _0x5bd293=a0_0x32b4();return a0_0x539d=function(_0x526021,_0x17135c){_0x526021=_0x526021-0xf7;let _0x3a7dc0=_0x5bd293[_0x526021];return _0x3a7dc0;},a0_0x539d(_0x23ab1b,_0x502d75);}a0_0x526021();import{auth,db}from'./firebase-config.js';import{doc,getDoc,setDoc,collection,query,where,getDocs,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const RIBBON_DEFINITIONS={'Rematch\x20Ribbon':{'description':'Beat\x20a\x20pilot\x20with\x20the\x20\x22Rematch\x22\x20subgame\x20selected','image':a0_0x3ce846(0x171),'color':'#FF6B6B'},'Overachiever\x20Ribbon':{'description':'Played\x20over\x20100\x20matches','image':'../images/ribbons/Overachiever.png','color':'#96CEB4','levels':[0x64,0xc8,0x12c,0x190,0x1f4,0x258,0x2bc,0x320,0x384,0x3e8]},'Brick\x20Wall':{'description':a0_0x3ce846(0x103),'image':'../images/ribbons/BrickWall.png','color':'#F0932B','levels':[0x50,0x55,0x5a,0x5f,0x64]},'Collector\x20Ribbon':{'description':a0_0x3ce846(0x117),'image':a0_0x3ce846(0x105),'color':'#6C5CE7','levels':[0x5,0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32]},'Sub-Gamer\x20Ribbon':{'description':'Play\x20over\x2050\x20subgame\x20matches','image':'../images/ribbons/Subgamer.png','color':'#A29BFE','levels':[0x32,0x64,0x96,0xc8,0xfa,0x12c,0x15e,0x190,0x1c2,0x1f4]},'Explorer\x20Ribbon':{'description':'Played\x20at\x20least\x2020\x20unique\x20maps','image':'../images/ribbons/Explorer.png','color':a0_0x3ce846(0x12a),'levels':[0x14,0x28,0x3c,0x50,0x64,0x78,0x8c,0xa0,0xb4,0xc8]},'Socialite\x20Ribbon':{'description':a0_0x3ce846(0x116),'image':'../images/ribbons/Socialite.png','color':'#FF7675','levels':[0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32,0x37]},'Underdog\x20Ribbon':{'description':a0_0x3ce846(0x121),'image':a0_0x3ce846(0x139),'color':'#FF9500','levels':[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0x9,0xa]},'Domination\x20Ribbon':{'description':'Beat\x205\x20unique\x20pilots\x20in\x20a\x20rank\x20(including\x20your\x20own)','image':'../images/ribbons/Domination.png','color':'#8E44AD','levels':[0x1,0x2,0x3,0x4,0x5]},'Top\x20Bronze\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Bronze\x20rank','image':'../images/ribbons/toprank.png','color':a0_0x3ce846(0x177)},'Top\x20Silver\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Silver\x20rank','image':a0_0x3ce846(0x147),'color':'#C0C0C0'},'Top\x20Gold\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Gold\x20rank','image':'../images/ribbons/toprank.png','color':a0_0x3ce846(0x141)},'Top\x20Emerald\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Emerald\x20rank','image':'../images/ribbons/toprank.png','color':a0_0x3ce846(0x10e)}};function a0_0x32b4(){const _0x10b53d=['parse','evaluateDominationRibbonFromRanks','\x20ELO),\x20','#50C878','Socialite\x20Ribbon','timestamp','⚠️\x20No\x20current\x20player\x20data\x20found\x20for\x20','32137RWuWyl','297qdvkoF','52330HXlKNC','subgameMatches','Played\x20at\x20least\x2010\x20unique\x20pilots','Hold\x20more\x20than\x205\x20ribbons\x20at\x20a\x20time','autoCleanup','subgameType','Unranked','Overachiever\x20Ribbon','console','savePlayerRibbonsOptimized','error','152ayLcdP','\x20-\x20No\x20changes\x20needed','Beat\x20a\x20pilot\x20ranked\x20higher\x20than\x20you','Domination\x20Ribbon','winnerRating','🚀\x20Cache\x20hit\x20(memory)\x20for\x20','setCachedData','loserRating','loserUsername','playersD2','setItem','#55A3FF','add','push','evaluateAllRibbonsFromData','rematchWins','eloRating','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22ribbon-image\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27;\x20this.nextElementSibling.style.display=\x27block\x27;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-fallback\x22\x20style=\x22display:\x20none;\x20background:\x20','❌\x20No\x20ELO\x20rating\x20data\x20for\x20','\x20ranks:\x20[','trace','⚠️\x20Brick\x20Wall\x20ribbon\x20requires\x2050+\x20matches\x20(player\x20has\x20','level-5-plus','key','totalMatches','getCacheStats','../images/ribbons/Underdog.png','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','matches','getCacheKey','min','\x20Pilot','5659580ZDGkXk','playersD3','#FFD700','replace','size','Error\x20getting\x20player\x20ribbons:','evaluateSubGamerRibbonFromCount','keys','../images/ribbons/toprank.png','isUnderdogVictoryFast','join',':\x20ELO\x20','startsWith','3115324kjWXhQ','evaluateSocialiteRibbonFromCount','Emerald','533214hMBHsp','CACHE_DURATION','floor','levels','position','\x0a/*\x20Stats\x20integration\x20styles\x20*/\x0a.ribbon-section\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-top:\x201rem;\x0a}\x0a\x0a.ribbon-stat-item.full-width\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-bottom:\x200;\x0a}\x0a\x0a/*\x20Military\x20Ribbon\x20Rack\x20Styling\x20-\x20NO\x20OUTER\x20CONTAINER\x20*/\x0a.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20padding:\x200;\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20box-shadow:\x20none;\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20align-items:\x20flex-start;\x0a}\x0a\x0a.ribbon-rack-empty-inline\x20{\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20padding:\x2060px\x2040px;\x0a\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20border-radius:\x2012px;\x0a\x20\x20\x20\x20border:\x202px\x20solid\x20rgba(255,\x20255,\x20255,\x200.1);\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a}\x0a\x0a.empty-rack-text\x20{\x0a\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20font-style:\x20italic;\x0a\x20\x20\x20\x20font-size:\x201.2rem;\x0a}\x0a\x0a/*\x20Ribbon\x20Rows\x20*/\x0a.ribbon-row\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x206px;\x0a\x20\x20\x20\x20margin-bottom:\x206px;\x0a\x20\x20\x20\x20justify-content:\x20flex-start;\x0a}\x0a\x0a.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20margin-left:\x2060px;\x0a}\x0a\x0a/*\x20Individual\x20Military\x20Ribbon\x20Styling\x20-\x20FIXED\x20OVERFLOW\x20FOR\x20LEVEL\x20INDICATOR\x20*/\x0a.military-ribbon\x20{\x0a\x20\x20\x20\x20position:\x20relative;\x0a\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20transition:\x20transform\x200.3s\x20ease;\x0a\x20\x20\x20\x20flex-shrink:\x200;\x0a\x20\x20\x20\x20width:\x20190px;\x0a\x20\x20\x20\x20height:\x2060px;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#333;\x0a\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20overflow:\x20visible;\x20/*\x20Changed\x20from\x20hidden\x20to\x20visible\x20*/\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20margin:\x2012px\x2012px\x2012px\x200;\x20/*\x20Added\x20margin\x20to\x20prevent\x20clipping\x20*/\x0a}\x0a\x0a.military-ribbon:hover\x20{\x0a\x20\x20\x20\x20transform:\x20translateY(-4px);\x0a\x20\x20\x20\x20z-index:\x2010;\x0a}\x0a\x0a/*\x20Ribbon\x20image\x20container\x20to\x20handle\x20the\x20actual\x20overflow\x20*/\x0a.ribbon-image-container\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20border-radius:\x201px;\x0a}\x0a\x0a.ribbon-image\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20object-fit:\x20cover;\x0a\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20image-rendering:\x20crisp-edges;\x0a}\x0a\x0a.ribbon-fallback\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20text-shadow:\x200\x202px\x204px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a}\x0a\x0a.ribbon-name\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.9);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201.2;\x0a\x20\x20\x20\x20margin-top:\x206px;\x0a\x20\x20\x20\x20max-width:\x20120px;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20text-overflow:\x20ellipsis;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20-24px;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20font-weight:\x20500;\x0a}\x0a\x0a.military-ribbon:hover\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20display:\x20block;\x0a}\x0a\x0a.ribbon-devices\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x2050%;\x0a\x20\x20\x20\x20right:\x206px;\x0a\x20\x20\x20\x20transform:\x20translateY(-50%);\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x203px;\x0a\x20\x20\x20\x20z-index:\x205;\x0a}\x0a\x0a.ribbon-device\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20text-shadow:\x200\x200\x204px\x20rgba(0,0,0,0.9);\x0a\x20\x20\x20\x20filter:\x20drop-shadow(0\x202px\x204px\x20rgba(0,0,0,0.8));\x0a}\x0a\x0a.bronze-star\x20{\x0a\x20\x20\x20\x20color:\x20#CD7F32;\x0a}\x0a\x0a.silver-star\x20{\x0a\x20\x20\x20\x20color:\x20#C0C0C0;\x0a}\x0a\x0a.gold-star\x20{\x0a\x20\x20\x20\x20color:\x20#FFD700;\x0a}\x0a\x0a/*\x20Level\x20indicator\x20-\x20NOW\x20FULLY\x20VISIBLE\x20*/\x0a.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x20-8px;\x0a\x20\x20\x20\x20right:\x20-8px;\x0a\x20\x20\x20\x20background:\x20#FFD700;\x0a\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20width:\x2024px;\x0a\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#FFF;\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x208px\x20rgba(0,0,0,0.7);\x0a\x20\x20\x20\x20z-index:\x206;\x0a}\x0a\x0a/*\x20Custom\x20tooltip\x20-\x20only\x20this\x20one\x20will\x20show\x20*/\x0a.military-ribbon::before\x20{\x0a\x20\x20\x20\x20content:\x20attr(data-tooltip);\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20100%;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20background:\x20rgba(0,0,0,0.95);\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20padding:\x208px\x2012px;\x0a\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20pointer-events:\x20none;\x0a\x20\x20\x20\x20transition:\x20opacity\x200.3s;\x0a\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20margin-bottom:\x208px;\x0a\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(255,\x20255,\x20255,\x200.2);\x0a}\x0a\x0a.military-ribbon:hover::before\x20{\x0a\x20\x20\x20\x20opacity:\x201;\x0a}\x0a\x0a/*\x20Responsive\x20adjustments\x20*/\x0a@media\x20(max-width:\x201024px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2034px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x208px\x208px\x208px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-6px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-6px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2052px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-20px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20768px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2028px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x206px\x206px\x206px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x209px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-5px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-5px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2042px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2011px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-18px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x205px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20480px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2070px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x205px\x205px\x205px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2036px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x204px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-4px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-4px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a.stats-grid\x20.ribbon-section\x20{\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20padding:\x200;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20{\x0a\x20\x20\x20\x20background-color:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20padding:\x2025px;\x0a\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20.stat-label\x20{\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20text-transform:\x20uppercase;\x0a\x20\x20\x20\x20opacity:\x200.9;\x0a\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.95);\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a}\x0a\x0a.ribbon-level-indicator.level-1\x20{\x20background:\x20#808080;\x20}\x0a.ribbon-level-indicator.level-2\x20{\x20background:\x20#CD7F32;\x20}\x0a.ribbon-level-indicator.level-3\x20{\x20background:\x20#b9f1fc;\x20}\x0a.ribbon-level-indicator.level-4\x20{\x20background:\x20#FFD700;\x20}\x0a.ribbon-level-indicator.level-5-plus\x20{\x20background:\x20#50C878;\x20}\x0a','memoryCache','findIndex','matchCache','approvedMatches','{}.constructor(\x22return\x20this\x22)(\x20)','level','Brick\x20Wall','evaluateUnderdogRibbonFromCount','uniqueOpponents','\x20ELO)','clearOldCache','__proto__','delete','evaluateOverachieverRibbonFromCount','map','winnerUsername','playerRibbons','23MFqRFv','<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20silver-star\x22></i>','evaluateTopRankRibbon','forEach','getItem','entries','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22','toFixed','264bSIWtv','get','description','../images/ribbons/Rematch.png','</div>','Error\x20getting\x20player\x20data\x20for\x20','username','length','):\x20','#CD7F32','rating',')\x20-\x20new\x20match\x20detected','toString','lastCleanup','pendingEvaluations','bind','\x20player\x20records\x20for\x20underdog\x20calculations...','2491296hkYoqK','🚀\x20Bulk\x20loading\x20','toLocaleTimeString','checkTopRankStatus','sort','🎯\x20UNDERDOG:\x20','Underdog\x20Ribbon','getPlayerDataCached','Explorer\x20Ribbon','Amass\x20at\x20least\x2080%\x20overall\x20win\x20rate\x20percentage\x20(minimum\x2050\x20matches)','85424DFNHGS','../images/ribbons/Collector.png','all','\x20underdog\x20victories\x20for\x20','underdogWins','log','now'];a0_0x32b4=function(){return _0x10b53d;};return a0_0x32b4();}export const RIBBON_CSS=a0_0x3ce846(0x154);class RibbonCacheManager{constructor(){const _0x44c889=a0_0x3ce846;this[_0x44c889(0x155)]=new Map(),this['CACHE_DURATION']=0x3c*0x3c*0x3e8,this['CACHE_KEY_PREFIX']='ribbon_cache_',this[_0x44c889(0x17b)]=Date[_0x44c889(0x10a)](),this['CLEANUP_INTERVAL']=0x1e*0x3c*0x3e8;}['getCacheKey'](_0x1fe915,_0x43bff4){return''+this['CACHE_KEY_PREFIX']+_0x1fe915+'_'+_0x43bff4;}['getCachedData'](_0x21663b,_0x217d86){const _0x2dbc2f=a0_0x3ce846;this['autoCleanup']();const _0x242fb3=this['getCacheKey'](_0x21663b,_0x217d86);if(this['memoryCache']['has'](_0x242fb3)){const _0xf8191d=this['memoryCache']['get'](_0x242fb3);if(Date['now']()-_0xf8191d['timestamp']<this['CACHE_DURATION'])return console['log'](_0x2dbc2f(0x124)+_0x21663b),_0xf8191d['data'];this[_0x2dbc2f(0x155)]['delete'](_0x242fb3);}const _0x16b378=localStorage[_0x2dbc2f(0x16a)](_0x242fb3);if(_0x16b378)try{const _0x1d4c99=JSON['parse'](_0x16b378);if(Date['now']()-_0x1d4c99['timestamp']<this[_0x2dbc2f(0x150)])return this[_0x2dbc2f(0x155)]['set'](_0x242fb3,{'data':_0x1d4c99['ribbons'],'timestamp':_0x1d4c99['timestamp'],'matchCount':_0x1d4c99['matchCount']}),console[_0x2dbc2f(0x109)]('💾\x20Cache\x20hit\x20(localStorage)\x20for\x20'+_0x21663b),_0x1d4c99['ribbons'];localStorage['removeItem'](_0x242fb3);}catch(_0x42b523){localStorage['removeItem'](_0x242fb3);}return null;}['setCachedData'](_0x1cf227,_0xa4ba86,_0x39e9b9,_0x21412f){const _0x389023=a0_0x3ce846,_0x5d9625=this['getCacheKey'](_0x1cf227,_0xa4ba86),_0x4d597f=Date['now']();this[_0x389023(0x155)]['set'](_0x5d9625,{'data':_0x39e9b9,'timestamp':_0x4d597f,'matchCount':_0x21412f});try{const _0x3b3e19={'ribbons':_0x39e9b9,'matchCount':_0x21412f,'timestamp':_0x4d597f,'version':0x3};localStorage['setItem'](_0x5d9625,JSON['stringify'](_0x3b3e19));}catch(_0x50e8df){this[_0x389023(0x15f)]();try{localStorage[_0x389023(0x129)](_0x5d9625,JSON['stringify'](data));}catch(_0x426b0c){}}}['shouldRefreshCache'](_0x50fc61,_0x41cd5c,_0x34ccf9){const _0x4682a5=this['getCacheKey'](_0x50fc61,_0x41cd5c);if(this['memoryCache']['has'](_0x4682a5)){const _0x302a73=this['memoryCache']['get'](_0x4682a5);return _0x302a73['matchCount']!==_0x34ccf9;}const _0x59a671=localStorage['getItem'](_0x4682a5);if(_0x59a671)try{const _0xabdcbc=JSON['parse'](_0x59a671);return _0xabdcbc['matchCount']!==_0x34ccf9;}catch(_0x57d9e9){return!![];}return!![];}['invalidatePlayerCache'](_0x2d5f32,_0x2df414){const _0x5e8213=a0_0x3ce846,_0x505f76=this[_0x5e8213(0x13c)](_0x2d5f32,_0x2df414);this['memoryCache'][_0x5e8213(0x161)](_0x505f76),localStorage['removeItem'](_0x505f76),console['log']('🗑️\x20Invalidated\x20cache\x20for\x20'+_0x2d5f32+'\x20('+_0x2df414+_0x5e8213(0x179));}[a0_0x3ce846(0x118)](){const _0x276a5c=a0_0x3ce846,_0x551f5d=Date['now']();_0x551f5d-this[_0x276a5c(0x17b)]>this['CLEANUP_INTERVAL']&&(this['cleanup'](),this['lastCleanup']=_0x551f5d);}['cleanup'](){const _0xbf3912=a0_0x3ce846,_0x536c84=Date['now']();let _0x4a7ba2=0x0,_0x5c140d=0x0;for(const [_0x3ad922,_0x4fe478]of this['memoryCache']['entries']()){_0x536c84-_0x4fe478[_0xbf3912(0x110)]>this['CACHE_DURATION']&&(this[_0xbf3912(0x155)]['delete'](_0x3ad922),_0x4a7ba2++);}for(let _0x14d31d=localStorage[_0xbf3912(0x175)]-0x1;_0x14d31d>=0x0;_0x14d31d--){const _0x2da3af=localStorage['key'](_0x14d31d);if(_0x2da3af&&_0x2da3af[_0xbf3912(0x14b)](this['CACHE_KEY_PREFIX']))try{const _0xd73ecd=JSON['parse'](localStorage['getItem'](_0x2da3af));_0x536c84-_0xd73ecd['timestamp']>this['CACHE_DURATION']&&(localStorage['removeItem'](_0x2da3af),_0x5c140d++);}catch(_0x595226){localStorage['removeItem'](_0x2da3af),_0x5c140d++;}}}['clearOldCache'](){const _0x308ec4=a0_0x3ce846,_0x798ac=[];for(let _0x24b47c=0x0;_0x24b47c<localStorage['length'];_0x24b47c++){const _0xe698da=localStorage[_0x308ec4(0x136)](_0x24b47c);if(_0xe698da&&_0xe698da[_0x308ec4(0x14b)](this['CACHE_KEY_PREFIX']))try{const _0x58bb2d=JSON[_0x308ec4(0x10b)](localStorage['getItem'](_0xe698da));_0x798ac['push']({'key':_0xe698da,'timestamp':_0x58bb2d['timestamp']});}catch(_0x17b10e){localStorage['removeItem'](_0xe698da);}}_0x798ac[_0x308ec4(0xfe)]((_0x2b4922,_0x4495ba)=>_0x2b4922['timestamp']-_0x4495ba['timestamp']);const _0x215103=Math[_0x308ec4(0x151)](_0x798ac[_0x308ec4(0x175)]/0x2);for(let _0x3cdfc0=0x0;_0x3cdfc0<_0x215103;_0x3cdfc0++){localStorage['removeItem'](_0x798ac[_0x3cdfc0][_0x308ec4(0x136)]);}}[a0_0x3ce846(0x138)](){const _0x3f5ce2=a0_0x3ce846;return{'memoryEntries':this[_0x3f5ce2(0x155)]['size'],'lastCleanup':new Date(this['lastCleanup'])[_0x3f5ce2(0xfc)]()};}}class MatchCacheManager{constructor(){const _0x2307da=a0_0x3ce846;this['matchCache']=new Map(),this['CACHE_DURATION']=0xf*0x3c*0x3e8,this['lastCleanup']=Date[_0x2307da(0x10a)]();}['getCachedMatches'](_0x25e94f,_0x15c4c3){const _0x179a10=a0_0x3ce846;this[_0x179a10(0x118)]();const _0x5057d1=_0x25e94f+'_'+_0x15c4c3,_0x2ade62=this['matchCache']['get'](_0x5057d1);if(_0x2ade62&&Date[_0x179a10(0x10a)]()-_0x2ade62['timestamp']<this['CACHE_DURATION'])return console['log']('🎯\x20Cache\x20hit\x20(matches)\x20for\x20'+_0x25e94f),_0x2ade62[_0x179a10(0x13b)];return _0x2ade62&&this[_0x179a10(0x157)]['delete'](_0x5057d1),null;}['setCachedMatches'](_0x2fcecf,_0x1602a9,_0x555447){const _0xa1fd52=_0x2fcecf+'_'+_0x1602a9;this['matchCache']['set'](_0xa1fd52,{'matches':_0x555447,'timestamp':Date['now']()});}['autoCleanup'](){const _0x4993d9=a0_0x3ce846,_0x1f17ec=Date['now']();if(_0x1f17ec-this['lastCleanup']>0x5*0x3c*0x3e8){let _0x2b2d10=0x0;for(const [_0x32f713,_0x3c22a6]of this['matchCache'][_0x4993d9(0x16b)]()){_0x1f17ec-_0x3c22a6['timestamp']>this['CACHE_DURATION']&&(this['matchCache'][_0x4993d9(0x161)](_0x32f713),_0x2b2d10++);}this['lastCleanup']=_0x1f17ec;}}[a0_0x3ce846(0x138)](){return{'entries':this['matchCache']['size'],'lastCleanup':new Date(this['lastCleanup'])['toLocaleTimeString']()};}}class RibbonSystem{constructor(){const _0x495548=a0_0x3ce846;this[_0x495548(0xf7)]=new Map(),this['batchTimer']=null,this['BATCH_DELAY']=0x32,this['playerDataCache']=new Map();}async['bulkLoadPlayerData'](_0x5d1fde,_0x5f0e95){const _0xe5e5d3=a0_0x3ce846,_0x208370=_0x5f0e95==='D1'?'players':_0x5f0e95==='D2'?'playersD2':_0xe5e5d3(0x140),_0x5ef0b4=collection(db,_0x208370),_0x5623e8=await getDocs(_0x5ef0b4),_0xc91851=new Map();return _0x5623e8['forEach'](_0x98fce=>{const _0x538498=_0xe5e5d3,_0x31e38c=_0x98fce['data']();_0x31e38c[_0x538498(0x174)]&&(_0x31e38c['eloRating']!==undefined&&(_0x31e38c['rating']=_0x31e38c[_0x538498(0x12f)]),_0xc91851['set'](_0x31e38c['username'],_0x31e38c));}),console['log']('📊\x20Bulk\x20loaded\x20'+_0xc91851['size']+'\x20players\x20from\x20'+_0x208370),_0xc91851;}async['evaluateAllRibbonsFromData'](_0x5b2e2e,_0x13f4a6,_0x3f54e3,_0x218b24){const _0x1b2d5b=a0_0x3ce846,_0x59eb5e={},_0x5cc2cb=_0x13f4a6['username'],_0x152026={'totalMatches':_0x5b2e2e['length'],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0,'dominatedRanks':new Set()},_0x4da469=new Set();_0x5b2e2e['forEach'](_0x5d4e7d=>{const _0x412604=a0_0x539d,_0x9724e2=_0x5d4e7d['winnerUsername']===_0x5cc2cb,_0xe46a08=_0x9724e2?_0x5d4e7d['loserUsername']:_0x5d4e7d[_0x412604(0x164)];if(_0xe46a08)_0x4da469['add'](_0xe46a08);}),console[_0x1b2d5b(0x109)](_0x1b2d5b(0xfb)+_0x4da469['size']+_0x1b2d5b(0xf9));const _0x539b17=await this['bulkLoadPlayerData']([..._0x4da469,_0x5cc2cb],_0x218b24),_0x1128dc=_0x539b17['get'](_0x5cc2cb);!_0x1128dc&&console['log'](_0x1b2d5b(0x111)+_0x5cc2cb);const _0x4a135c={0x0:new Set(),0x1:new Set(),0x2:new Set(),0x3:new Set(),0x4:new Set()};_0x5b2e2e[_0x1b2d5b(0x169)](_0x5e00fe=>{const _0x450d8c=_0x1b2d5b,_0x17b9fa=_0x5e00fe['winnerUsername']===_0x5cc2cb,_0x12d793=_0x17b9fa?_0x5e00fe['loserUsername']:_0x5e00fe['winnerUsername'];if(_0x17b9fa){_0x152026['wins']++;_0x5e00fe[_0x450d8c(0x119)]==='Rematch'&&_0x152026[_0x450d8c(0x12e)]++;this['isUnderdogVictoryFast'](_0x5e00fe,_0x5cc2cb,_0x1128dc,_0x539b17)&&_0x152026['underdogWins']++;const _0x2c1278=_0x539b17['get'](_0x12d793);if(_0x2c1278){const _0x341705=_0x2c1278[_0x450d8c(0x12f)]||0x0,_0x2b75dd=getPlayerRankTier(_0x341705);_0x4a135c[_0x2b75dd]['add'](_0x12d793);}}_0x5e00fe['subgameType']&&_0x5e00fe[_0x450d8c(0x119)]!=='Standard'&&_0x152026[_0x450d8c(0x115)]++,_0x5e00fe['mapPlayed']&&_0x152026['uniqueMaps'][_0x450d8c(0x12b)](_0x5e00fe['mapPlayed']),_0x12d793&&_0x152026[_0x450d8c(0x15d)]['add'](_0x12d793);}),Object['keys'](_0x4a135c)[_0x1b2d5b(0x169)](_0x5c7470=>{const _0x44541e=_0x1b2d5b;_0x4a135c[_0x5c7470][_0x44541e(0x143)]>=0x5&&_0x152026['dominatedRanks']['add'](parseInt(_0x5c7470));}),console['log']('🎯\x20Found\x20'+_0x152026['underdogWins']+'\x20underdog\x20victories\x20for\x20'+_0x5cc2cb),console[_0x1b2d5b(0x109)]('👑\x20Dominated\x20'+_0x152026['dominatedRanks'][_0x1b2d5b(0x143)]+_0x1b2d5b(0x132)+Array['from'](_0x152026['dominatedRanks'])[_0x1b2d5b(0x163)](_0x2c697a=>getRankTierName(_0x2c697a))[_0x1b2d5b(0x149)](',\x20')+']');const _0x44e901=_0x152026['totalMatches']>0x0?_0x152026['wins']/_0x152026['totalMatches']*0x64:0x0,_0x5c71df=[['Overachiever\x20Ribbon',this['evaluateOverachieverRibbonFromCount'](_0x152026['totalMatches'],_0x3f54e3)],['Rematch\x20Ribbon',this['evaluateRematchRibbonFromCount'](_0x152026[_0x1b2d5b(0x12e)],_0x3f54e3)],['Sub-Gamer\x20Ribbon',this['evaluateSubGamerRibbonFromCount'](_0x152026[_0x1b2d5b(0x115)],_0x3f54e3)],[_0x1b2d5b(0x102),this['evaluateExplorerRibbonFromCount'](_0x152026['uniqueMaps']['size'],_0x3f54e3)],['Socialite\x20Ribbon',this['evaluateSocialiteRibbonFromCount'](_0x152026['uniqueOpponents']['size'],_0x3f54e3)],['Brick\x20Wall',this['evaluateBrickWallRibbonFromWinRate'](_0x44e901,_0x3f54e3,_0x152026['totalMatches'])],[_0x1b2d5b(0x100),this['evaluateUnderdogRibbonFromCount'](_0x152026['underdogWins'],_0x3f54e3)],[_0x1b2d5b(0x122),this[_0x1b2d5b(0x10c)](_0x152026['dominatedRanks']['size'],_0x3f54e3)]];_0x5c71df['forEach'](([_0x545de7,_0x244de2])=>{_0x244de2&&(_0x59eb5e[_0x545de7]=_0x244de2);});const _0x5a85f2=Object['keys'](_0x3f54e3)['length']+Object['keys'](_0x59eb5e)['length'],_0x3e8cf3=this['evaluateCollectorRibbonFromCount'](_0x5a85f2,_0x3f54e3);return _0x3e8cf3&&(_0x59eb5e['Collector\x20Ribbon']=_0x3e8cf3),_0x59eb5e;}['evaluateDominationRibbonFromRanks'](_0x4e8eb4,_0x12865b){const _0x5e2d82=a0_0x3ce846;if(_0x4e8eb4===0x0)return null;const _0x465056=_0x12865b[_0x5e2d82(0x122)]||{'level':0x0};if(_0x4e8eb4>_0x465056[_0x5e2d82(0x15a)]){const _0x557931=[];for(let _0x32bfca=0x0;_0x32bfca<_0x4e8eb4;_0x32bfca++){_0x557931[_0x5e2d82(0x12c)](getRankTierName(_0x32bfca));}return console['log']('👑\x20Domination\x20Ribbon\x20awarded:\x20Level\x20'+_0x465056[_0x5e2d82(0x15a)]+'\x20→\x20'+_0x4e8eb4+'\x20(Dominated:\x20'+_0x557931[_0x5e2d82(0x149)](',\x20')+')'),{'level':_0x4e8eb4,'awardedAt':new Date(),'dominatedRanks':_0x557931};}return null;}async[a0_0x3ce846(0xfd)](_0x15b803,_0x2f1715){const _0x2d1d55=a0_0x3ce846;try{const _0x5c810b=_0x2f1715==='D1'?'players':_0x2f1715==='D2'?_0x2d1d55(0x128):'playersD3',_0x57a6ba=await this[_0x2d1d55(0x101)](_0x15b803,_0x2f1715);if(!_0x57a6ba||_0x57a6ba[_0x2d1d55(0x12f)]===undefined)return console[_0x2d1d55(0x109)](_0x2d1d55(0x131)+_0x15b803),null;const _0x2b8f1a=_0x57a6ba[_0x2d1d55(0x12f)],_0x788594=getPlayerRankTier(_0x2b8f1a),_0x2c5420=getRankTierName(_0x788594);if(_0x2c5420==='Unranked')return console['log']('❌\x20'+_0x15b803+'\x20is\x20Unranked\x20('+_0x2b8f1a+_0x2d1d55(0x15e)),null;console[_0x2d1d55(0x109)]('🔍\x20Checking\x20Top\x20'+_0x2c5420+'\x20status\x20for\x20'+_0x15b803+'\x20('+_0x2b8f1a+'\x20ELO)');const _0x110c53=collection(db,_0x5c810b),_0x282b4a=await getDocs(_0x110c53);let _0x36bb23=null,_0x46df22=-0x1,_0x477341=0x0;_0x282b4a['forEach'](_0x49f184=>{const _0x364518=_0x49f184['data'](),_0xcd4bbd=_0x364518['eloRating']||0x0,_0x30b9c8=getPlayerRankTier(_0xcd4bbd);_0x30b9c8===_0x788594&&(_0x477341++,_0xcd4bbd>_0x46df22&&(_0x46df22=_0xcd4bbd,_0x36bb23=_0x364518['username']));});const _0x41aef2=_0x36bb23===_0x15b803;return console['log']('📊\x20'+_0x2c5420+'\x20Tier:\x20'+_0x477341+'\x20players,\x20Top:\x20'+_0x36bb23+'\x20('+_0x46df22+_0x2d1d55(0x10d)+_0x15b803+'\x20is\x20#1:\x20'+_0x41aef2),_0x41aef2?_0x2c5420:null;}catch(_0x44aa68){return console['error']('Error\x20checking\x20top\x20rank\x20status:',_0x44aa68),null;}}async[a0_0x3ce846(0x168)](_0x8f20c5,_0x50e9a2,_0x4b8751){const _0x1eaab7=a0_0x3ce846,_0x5a6bfa=await this['checkTopRankStatus'](_0x8f20c5,_0x50e9a2),_0x51ada5={};if(_0x5a6bfa){const _0x4b6ee2='Top\x20'+_0x5a6bfa+_0x1eaab7(0x13e);if(RIBBON_DEFINITIONS[_0x4b6ee2]){const _0x565294=_0x4b8751[_0x4b6ee2];!_0x565294?(console['log']('👑\x20NEW\x20Top\x20Rank\x20Achievement:\x20'+_0x8f20c5+'\x20earned\x20'+_0x4b6ee2+'!'),_0x51ada5[_0x4b6ee2]={'level':0x1,'awardedAt':new Date(),'rank':_0x5a6bfa,'achievedAt':new Date()}):console['log']('✅\x20'+_0x8f20c5+'\x20already\x20has\x20'+_0x4b6ee2+_0x1eaab7(0x120));}}return Object[_0x1eaab7(0x146)](_0x4b8751)[_0x1eaab7(0x169)](_0x170275=>{const _0x3421be=_0x1eaab7;_0x170275[_0x3421be(0x14b)]('Top\x20')&&_0x170275['endsWith']('\x20Pilot')&&(!_0x51ada5[_0x170275]&&console['log']('✅\x20Preserving\x20existing\x20'+_0x170275));}),_0x51ada5;}async['evaluateAllRibbonsForPlayerOptimized'](_0x34b526,_0x2f31cc='D1'){const _0x5882fc=a0_0x3ce846;try{const _0x2314e9=ribbonCache['getCachedData'](_0x34b526,_0x2f31cc);if(_0x2314e9){const _0x42e0d1=await this[_0x5882fc(0x168)](_0x34b526,_0x2f31cc,_0x2314e9);if(Object['keys'](_0x42e0d1)['length']>0x0){console['log']('🆕\x20New\x20top\x20rank\x20achievements\x20found\x20for\x20cached\x20player\x20'+_0x34b526),await this[_0x5882fc(0x11d)](_0x34b526,_0x42e0d1,_0x2f31cc);const _0x58032c={..._0x2314e9,..._0x42e0d1};return ribbonCache['setCachedData'](_0x34b526,_0x2f31cc,_0x58032c,0x0),_0x58032c;}return _0x2314e9;}const [_0x5908fc,_0x542f52]=await Promise[_0x5882fc(0x106)]([this['getPlayerDataCached'](_0x34b526,_0x2f31cc),this['getPlayerRibbonsCached'](_0x34b526,_0x2f31cc)]);if(!_0x5908fc)return{};const _0x1dbe90=_0x5908fc['matchesPlayed']||0x0,_0x554cc5=await this['evaluateTopRankRibbon'](_0x34b526,_0x2f31cc,_0x542f52);if(!ribbonCache['shouldRefreshCache'](_0x34b526,_0x2f31cc,_0x1dbe90)){if(Object['keys'](_0x554cc5)['length']>0x0){await this['savePlayerRibbonsOptimized'](_0x34b526,_0x554cc5,_0x2f31cc);const _0x4989fa={..._0x542f52,..._0x554cc5};return ribbonCache['setCachedData'](_0x34b526,_0x2f31cc,_0x4989fa,_0x1dbe90),_0x4989fa;}return ribbonCache[_0x5882fc(0x125)](_0x34b526,_0x2f31cc,_0x542f52,_0x1dbe90),_0x542f52;}const _0x4373fd=await this['getPlayerMatchesOptimized'](_0x34b526,_0x2f31cc),_0x3a117b=await this[_0x5882fc(0x12d)](_0x4373fd,_0x5908fc,_0x542f52,_0x2f31cc);Object['assign'](_0x3a117b,_0x554cc5);Object['keys'](_0x3a117b)[_0x5882fc(0x175)]>0x0&&(console['log']('💾\x20Saving\x20'+Object['keys'](_0x3a117b)[_0x5882fc(0x175)]+'\x20new/updated\x20ribbons\x20for\x20'+_0x34b526),await this[_0x5882fc(0x11d)](_0x34b526,_0x3a117b,_0x2f31cc));const _0x88f3b2={..._0x542f52,..._0x3a117b};return ribbonCache['setCachedData'](_0x34b526,_0x2f31cc,_0x88f3b2,_0x4373fd[_0x5882fc(0x175)]),_0x88f3b2;}catch(_0x2eb489){return console['error']('❌\x20Error\x20in\x20ribbon\x20evaluation:',_0x2eb489),{};}}async['isUnderdogVictory'](_0x1e85ff,_0x537499,_0x21fbc1){const _0x16221b=a0_0x3ce846,_0x30061b=_0x1e85ff['winnerUsername']===_0x537499;if(!_0x30061b)return![];const _0x17d39b=_0x1e85ff['loserUsername'],[_0x57fc23,_0x2828a0]=await Promise['all']([this['getPlayerDataCached'](_0x537499,_0x21fbc1),this[_0x16221b(0x101)](_0x17d39b,_0x21fbc1)]);if(!_0x57fc23||!_0x2828a0)return console['log']('⚠️\x20Missing\x20player\x20data\x20for\x20'+_0x537499+'\x20or\x20'+_0x17d39b),![];const _0x21d8e8=_0x57fc23[_0x16221b(0x12f)]||0x0,_0x1353ee=_0x2828a0[_0x16221b(0x12f)]||0x0,_0x3399ac=getPlayerRankTier(_0x21d8e8),_0xc05723=getPlayerRankTier(_0x1353ee);console['log']('🔍\x20Checking\x20underdog:\x20Winner('+_0x537499+_0x16221b(0x176)+_0x21d8e8+'\x20ELO\x20('+getRankTierName(_0x3399ac)+')\x20vs\x20Loser('+_0x17d39b+'):\x20'+_0x1353ee+'\x20ELO\x20('+getRankTierName(_0xc05723)+')');if(_0xc05723>_0x3399ac)return console['log']('🎯\x20UNDERDOG\x20VICTORY:\x20'+getRankTierName(_0x3399ac)+'\x20beat\x20'+getRankTierName(_0xc05723)+'!'),!![];return console[_0x16221b(0x109)]('❌\x20Not\x20underdog:\x20'+getRankTierName(_0x3399ac)+'\x20vs\x20'+getRankTierName(_0xc05723)),![];}['isUnderdogVictoryFast'](_0x29048e,_0x22cfde,_0x41524c,_0x2d01f7){const _0x582da8=a0_0x3ce846,_0x596709=_0x29048e['winnerUsername']===_0x22cfde;if(!_0x596709)return![];const _0x13e96c=_0x29048e['loserUsername'],_0x385755=_0x2d01f7[_0x582da8(0x16f)](_0x13e96c);if(!_0x41524c||!_0x385755)return![];const _0x377e13=_0x41524c[_0x582da8(0x12f)]||0x0,_0x266329=_0x385755['eloRating']||0x0,_0x3eddbf=getPlayerRankTier(_0x377e13),_0xf163=getPlayerRankTier(_0x266329);if(_0xf163>_0x3eddbf)return console['log'](_0x582da8(0xff)+getRankTierName(_0x3eddbf)+'('+_0x377e13+')\x20beat\x20'+getRankTierName(_0xf163)+'('+_0x266329+')'),!![];return![];}async['evaluateAllRibbonsFromData'](_0xfccd27,_0x24ee4a,_0x3e23e0,_0x1bcdc6){const _0x37b228=a0_0x3ce846,_0x416d3b={},_0xf32b5b=_0x24ee4a['username'],_0x3e8288={'totalMatches':_0xfccd27['length'],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0},_0x1594e3=new Set();_0xfccd27[_0x37b228(0x169)](_0x3edc0f=>{const _0x44e33b=_0x37b228,_0x5c7346=_0x3edc0f['winnerUsername']===_0xf32b5b,_0x26a3d6=_0x5c7346?_0x3edc0f['loserUsername']:_0x3edc0f[_0x44e33b(0x164)];if(_0x26a3d6)_0x1594e3[_0x44e33b(0x12b)](_0x26a3d6);}),console['log']('🚀\x20Bulk\x20loading\x20'+_0x1594e3['size']+_0x37b228(0xf9));const _0x197e45=await this['bulkLoadPlayerData']([..._0x1594e3,_0xf32b5b],_0x1bcdc6),_0x360867=_0x197e45['get'](_0xf32b5b);!_0x360867&&console['log']('⚠️\x20No\x20current\x20player\x20data\x20found\x20for\x20'+_0xf32b5b);_0xfccd27['forEach'](_0x14b816=>{const _0x50d09c=_0x37b228,_0x128348=_0x14b816['winnerUsername']===_0xf32b5b,_0x242cdd=_0x128348?_0x14b816[_0x50d09c(0x127)]:_0x14b816['winnerUsername'];_0x128348&&(_0x3e8288['wins']++,_0x14b816['subgameType']==='Rematch'&&_0x3e8288['rematchWins']++,this[_0x50d09c(0x148)](_0x14b816,_0xf32b5b,_0x360867,_0x197e45)&&_0x3e8288['underdogWins']++),_0x14b816['subgameType']&&_0x14b816[_0x50d09c(0x119)]!=='Standard'&&_0x3e8288[_0x50d09c(0x115)]++,_0x14b816['mapPlayed']&&_0x3e8288['uniqueMaps']['add'](_0x14b816['mapPlayed']),_0x242cdd&&_0x3e8288['uniqueOpponents'][_0x50d09c(0x12b)](_0x242cdd);}),console['log']('🎯\x20Found\x20'+_0x3e8288[_0x37b228(0x108)]+_0x37b228(0x107)+_0xf32b5b);const _0x1c5e7a=_0x3e8288[_0x37b228(0x137)]>0x0?_0x3e8288['wins']/_0x3e8288[_0x37b228(0x137)]*0x64:0x0,_0x4f7df5=[['Overachiever\x20Ribbon',this[_0x37b228(0x162)](_0x3e8288['totalMatches'],_0x3e23e0)],['Rematch\x20Ribbon',this['evaluateRematchRibbonFromCount'](_0x3e8288['rematchWins'],_0x3e23e0)],['Sub-Gamer\x20Ribbon',this['evaluateSubGamerRibbonFromCount'](_0x3e8288['subgameMatches'],_0x3e23e0)],['Explorer\x20Ribbon',this['evaluateExplorerRibbonFromCount'](_0x3e8288['uniqueMaps']['size'],_0x3e23e0)],['Socialite\x20Ribbon',this['evaluateSocialiteRibbonFromCount'](_0x3e8288[_0x37b228(0x15d)]['size'],_0x3e23e0)],['Brick\x20Wall',this['evaluateBrickWallRibbonFromWinRate'](_0x1c5e7a,_0x3e23e0,_0x3e8288[_0x37b228(0x137)])],[_0x37b228(0x100),this[_0x37b228(0x15c)](_0x3e8288['underdogWins'],_0x3e23e0)]];_0x4f7df5[_0x37b228(0x169)](([_0x471eb8,_0x544085])=>{_0x544085&&(_0x416d3b[_0x471eb8]=_0x544085);});const _0x1943c7=Object['keys'](_0x3e23e0)['length']+Object['keys'](_0x416d3b)['length'],_0x200666=this['evaluateCollectorRibbonFromCount'](_0x1943c7,_0x3e23e0);return _0x200666&&(_0x416d3b['Collector\x20Ribbon']=_0x200666),_0x416d3b;}async['getPlayerMatchesOptimized'](_0x46975c,_0x13bf60){const _0x1d4076=a0_0x3ce846,_0x119b1f=matchCache['getCachedMatches'](_0x46975c,_0x13bf60);if(_0x119b1f)return _0x119b1f;try{const _0x3d3fce=_0x13bf60==='D1'?_0x1d4076(0x158):_0x13bf60==='D2'?'approvedMatchesD2':'approvedMatchesD3',_0x32849f=collection(db,_0x3d3fce),[_0x1160c6,_0x152fb2]=await Promise[_0x1d4076(0x106)]([getDocs(query(_0x32849f,where('winnerUsername','==',_0x46975c))),getDocs(query(_0x32849f,where(_0x1d4076(0x127),'==',_0x46975c)))]),_0x59f088=new Set(),_0x415602=[];return _0x1160c6['forEach'](_0x5b4546=>{const _0x7bdc3c=_0x1d4076;if(!_0x59f088['has'](_0x5b4546['id'])){_0x59f088[_0x7bdc3c(0x12b)](_0x5b4546['id']);const _0x523431={'id':_0x5b4546['id'],..._0x5b4546['data']()};if(!_0x523431['winnerRating'])_0x523431[_0x7bdc3c(0x123)]=0x0;if(!_0x523431['loserRating'])_0x523431[_0x7bdc3c(0x126)]=0x0;_0x415602['push'](_0x523431);}}),_0x152fb2['forEach'](_0x2d34f5=>{const _0x320ac4=_0x1d4076;if(!_0x59f088['has'](_0x2d34f5['id'])){_0x59f088['add'](_0x2d34f5['id']);const _0x6c01fc={'id':_0x2d34f5['id'],..._0x2d34f5['data']()};if(!_0x6c01fc['winnerRating'])_0x6c01fc['winnerRating']=0x0;if(!_0x6c01fc[_0x320ac4(0x126)])_0x6c01fc['loserRating']=0x0;_0x415602['push'](_0x6c01fc);}}),matchCache['setCachedMatches'](_0x46975c,_0x13bf60,_0x415602),_0x415602;}catch(_0x551ce7){return console['error']('❌\x20Error\x20fetching\x20matches:',_0x551ce7),[];}}async['getPlayerDataCached'](_0x449d78,_0x4c580e){const _0x52f76e=a0_0x3ce846;try{const _0x33c1d5=_0x4c580e==='D1'?'players':_0x4c580e==='D2'?'playersD2':_0x52f76e(0x140),_0x20eadf=collection(db,_0x33c1d5),_0x5b0da8=query(_0x20eadf,where(_0x52f76e(0x174),'==',_0x449d78),limit(0x1)),_0x12efff=await getDocs(_0x5b0da8);if(_0x12efff['empty'])return console['log']('❌\x20No\x20player\x20data\x20found\x20for\x20'+_0x449d78+'\x20in\x20'+_0x33c1d5),null;const _0x24050f=_0x12efff['docs'][0x0]['data']();return _0x24050f[_0x52f76e(0x12f)]!==undefined&&(_0x24050f[_0x52f76e(0x178)]=_0x24050f[_0x52f76e(0x12f)]),console[_0x52f76e(0x109)]('✅\x20Found\x20player\x20data\x20for\x20'+_0x449d78+_0x52f76e(0x14a)+_0x24050f[_0x52f76e(0x12f)]+',\x20Position\x20'+_0x24050f[_0x52f76e(0x153)]),_0x24050f;}catch(_0x55f321){return console[_0x52f76e(0x11e)](_0x52f76e(0x173)+_0x449d78+':',_0x55f321),null;}}async['getPlayerRibbonsCached'](_0x4266e6,_0x164384){const _0x54867e=a0_0x3ce846;try{const _0x5662dc='playerRibbons'+(_0x164384==='D1'?'':_0x164384),_0x1bc459=doc(db,_0x5662dc,_0x4266e6),_0x15945b=await getDoc(_0x1bc459);return _0x15945b['exists']()?_0x15945b['data']()['ribbons']||{}:{};}catch(_0x294f92){return console[_0x54867e(0x11e)](_0x54867e(0x144),_0x294f92),{};}}async[a0_0x3ce846(0x11d)](_0x8bfc96,_0x3bc232,_0x13d0f3){const _0xbff6a0=a0_0x3ce846;try{const _0x336fcc=_0xbff6a0(0x165)+(_0x13d0f3==='D1'?'':_0x13d0f3),_0x3aa52f=doc(db,_0x336fcc,_0x8bfc96),_0x3041c0=await this['getPlayerRibbonsCached'](_0x8bfc96,_0x13d0f3),_0x56fc12={..._0x3041c0,..._0x3bc232};await setDoc(_0x3aa52f,{'username':_0x8bfc96,'ladder':_0x13d0f3,'ribbons':_0x56fc12,'lastUpdated':new Date()},{'merge':!![]});}catch(_0x1cc288){console['error']('Error\x20saving\x20ribbons:',_0x1cc288);}}['evaluateOverachieverRibbonFromCount'](_0x3dcc59,_0x55a029){const _0x514a6c=a0_0x3ce846,_0x5bb858=_0x55a029['Overachiever\x20Ribbon']||{'level':0x0},_0x44508a=RIBBON_DEFINITIONS[_0x514a6c(0x11b)][_0x514a6c(0x152)],_0x47616d=_0x44508a['findIndex'](_0x85c754=>_0x3dcc59<_0x85c754),_0x493a6a=_0x47616d===-0x1?_0x44508a['length']:_0x47616d;if(_0x493a6a>_0x5bb858[_0x514a6c(0x15a)])return{'level':_0x493a6a,'awardedAt':new Date()};return null;}['evaluateRematchRibbonFromCount'](_0x2e71a1,_0x24e334){const _0x228646=a0_0x3ce846;if(_0x2e71a1===0x0)return null;const _0x10223b=_0x24e334['Rematch\x20Ribbon']||{'level':0x0};if(_0x2e71a1>_0x10223b[_0x228646(0x15a)])return{'level':_0x2e71a1,'awardedAt':new Date()};return null;}[a0_0x3ce846(0x145)](_0x14d45b,_0x13edca){const _0x3efa64=a0_0x3ce846,_0x15397f=_0x13edca['Sub-Gamer\x20Ribbon']||{'level':0x0},_0x1a5988=RIBBON_DEFINITIONS['Sub-Gamer\x20Ribbon']['levels'],_0x361840=_0x1a5988[_0x3efa64(0x156)](_0x48a818=>_0x14d45b<_0x48a818),_0x51bdf8=_0x361840===-0x1?_0x1a5988['length']:_0x361840;if(_0x51bdf8>_0x15397f['level'])return{'level':_0x51bdf8,'awardedAt':new Date()};return null;}['evaluateExplorerRibbonFromCount'](_0x275f11,_0x575b68){const _0x1fbba5=a0_0x3ce846,_0x53cf8d=_0x575b68['Explorer\x20Ribbon']||{'level':0x0},_0xbc1d72=RIBBON_DEFINITIONS['Explorer\x20Ribbon'][_0x1fbba5(0x152)],_0x1c8f59=_0xbc1d72['findIndex'](_0xe55cf1=>_0x275f11<_0xe55cf1),_0x5cb404=_0x1c8f59===-0x1?_0xbc1d72[_0x1fbba5(0x175)]:_0x1c8f59;if(_0x5cb404>_0x53cf8d[_0x1fbba5(0x15a)])return{'level':_0x5cb404,'awardedAt':new Date()};return null;}[a0_0x3ce846(0x14d)](_0x9fe09,_0x509157){const _0x1b4ca9=a0_0x3ce846,_0x4adb3a=_0x509157[_0x1b4ca9(0x10f)]||{'level':0x0},_0x1a4d3e=RIBBON_DEFINITIONS['Socialite\x20Ribbon']['levels'],_0x2d1a93=_0x1a4d3e['findIndex'](_0xb35ae7=>_0x9fe09<_0xb35ae7),_0x3e83ad=_0x2d1a93===-0x1?_0x1a4d3e[_0x1b4ca9(0x175)]:_0x2d1a93;if(_0x3e83ad>_0x4adb3a['level'])return{'level':_0x3e83ad,'awardedAt':new Date()};return null;}['evaluateBrickWallRibbonFromWinRate'](_0x2a1d1d,_0x56bbb3,_0x14daaf){const _0x408a12=a0_0x3ce846;if(_0x14daaf<0x32)return console['log'](_0x408a12(0x134)+_0x14daaf+')'),null;const _0x93ef4f=_0x56bbb3['Brick\x20Wall']||{'level':0x0},_0x4cea26=RIBBON_DEFINITIONS[_0x408a12(0x15b)]['levels'],_0x70c8bc=_0x4cea26['findIndex'](_0x494720=>_0x2a1d1d<_0x494720),_0xe1b36a=_0x70c8bc===-0x1?_0x4cea26['length']:_0x70c8bc;if(_0xe1b36a>_0x93ef4f[_0x408a12(0x15a)])return console['log']('🏆\x20Brick\x20Wall\x20ribbon\x20awarded:\x20'+_0x2a1d1d[_0x408a12(0x16d)](0x1)+'%\x20win\x20rate\x20over\x20'+_0x14daaf+'\x20matches'),{'level':_0xe1b36a,'awardedAt':new Date(),'winRate':_0x2a1d1d,'matchesPlayed':_0x14daaf};return null;}['evaluateCollectorRibbonFromCount'](_0x3210c9,_0x1243cf){const _0x1d48ac=a0_0x3ce846,_0x213186=_0x1243cf['Collector\x20Ribbon']||{'level':0x0},_0x168f53=RIBBON_DEFINITIONS['Collector\x20Ribbon']['levels'],_0x578dec=_0x168f53[_0x1d48ac(0x156)](_0x4fa3dd=>_0x3210c9<_0x4fa3dd),_0x21cf75=_0x578dec===-0x1?_0x168f53[_0x1d48ac(0x175)]:_0x578dec;if(_0x21cf75>_0x213186['level'])return{'level':_0x21cf75,'awardedAt':new Date()};return null;}[a0_0x3ce846(0x15c)](_0x22bf5d,_0x5cc874){const _0x59e5c8=a0_0x3ce846;if(_0x22bf5d===0x0)return null;const _0x248961=_0x5cc874[_0x59e5c8(0x100)]||{'level':0x0},_0x3431e7=RIBBON_DEFINITIONS['Underdog\x20Ribbon']['levels'];let _0x2d9f84=0x0;for(let _0x52f96c=0x0;_0x52f96c<_0x3431e7['length'];_0x52f96c++){if(_0x22bf5d>=_0x3431e7[_0x52f96c])_0x2d9f84=_0x52f96c+0x1;else break;}if(_0x2d9f84>_0x248961[_0x59e5c8(0x15a)])return console['log']('🏆\x20Underdog\x20Ribbon\x20upgrade:\x20Level\x20'+_0x248961['level']+'\x20→\x20'+_0x2d9f84+'\x20('+_0x22bf5d+'\x20underdog\x20wins)'),{'level':_0x2d9f84,'awardedAt':new Date()};return null;}}function getPlayerRankTier(_0x4f9a53){if(_0x4f9a53===undefined||_0x4f9a53===null)return 0x0;const _0x1bcd71=Number(_0x4f9a53);if(isNaN(_0x1bcd71))return 0x0;if(_0x1bcd71>=0x7d0)return 0x4;if(_0x1bcd71>=0x708)return 0x3;if(_0x1bcd71>=0x640)return 0x2;if(_0x1bcd71>=0x578)return 0x1;return 0x0;}function getRankTierName(_0x2773f3){const _0x184d5b=a0_0x3ce846,_0xbd743f=[_0x184d5b(0x11a),'Bronze','Silver','Gold',_0x184d5b(0x14e)];return _0xbd743f[_0x2773f3]||'Unranked';}const ribbonSystem=new RibbonSystem(),ribbonCache=new RibbonCacheManager(),matchCache=new MatchCacheManager();typeof window!=='undefined'&&(window['getRibbonCacheStats']=()=>{const _0x29fd15=a0_0x3ce846;return{'ribbon':ribbonCache['getCacheStats'](),'match':matchCache[_0x29fd15(0x138)]()};});export async function evaluatePlayerRibbons(_0x3850f8,_0x15910e='D1'){return await ribbonSystem['evaluateAllRibbonsForPlayerOptimized'](_0x3850f8,_0x15910e);}export function getRibbonHTML(_0x25ec9f,_0xbb1922){const _0x1e05c7=a0_0x3ce846,_0x37fe72=RIBBON_DEFINITIONS[_0x25ec9f];if(!_0x37fe72)return'';const _0x405ac4=_0xbb1922['level']||0x1,_0x37674a=_0x25ec9f[_0x1e05c7(0x142)]('\x20Ribbon','')['replace']('\x20Badge',''),_0x254626=_0x5dffb1=>{const _0x46742e=_0x1e05c7;if(_0x5dffb1<=0x1)return'level-1';if(_0x5dffb1<=0x2)return'level-2';if(_0x5dffb1<=0x3)return'level-3';if(_0x5dffb1<=0x4)return'level-4';return _0x46742e(0x135);},_0x29d282=_0x16c444=>{const _0x2f223b=_0x1e05c7;if(_0x16c444<=0x1)return'';const _0x611cbe=[];if(_0x16c444>=0x2&&_0x16c444<=0x4){const _0x37a859=Math['min'](_0x16c444-0x1,0x3);for(let _0x3e8d50=0x0;_0x3e8d50<_0x37a859;_0x3e8d50++){_0x611cbe['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>');}}if(_0x16c444>=0x5&&_0x16c444<=0x7){_0x611cbe[_0x2f223b(0x12c)](_0x2f223b(0x167));const _0x4e395d=Math[_0x2f223b(0x13d)](_0x16c444-0x5,0x2);for(let _0x5d296b=0x0;_0x5d296b<_0x4e395d;_0x5d296b++){_0x611cbe['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>');}}return _0x16c444>=0x8&&_0x611cbe[_0x2f223b(0x12c)]('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20gold-star\x22></i>'),_0x611cbe[_0x2f223b(0x175)]>0x0?'<div\x20class=\x22ribbon-devices\x22>'+_0x611cbe[_0x2f223b(0x149)]('')+'</div>':'';},_0x33f6a1=_0x37fe72[_0x1e05c7(0x170)]+'\x20-\x20Level\x20'+_0x405ac4;return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22military-ribbon\x22\x20data-tooltip=\x22'+_0x33f6a1+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-image-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22'+_0x37fe72['image']+_0x1e05c7(0x16c)+_0x25ec9f+_0x1e05c7(0x130)+_0x37fe72['color']+';\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x37674a['substring'](0x0,0x6)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x29d282(_0x405ac4)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-name\x22>'+_0x37674a+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x405ac4>0x1?'<div\x20class=\x22ribbon-level-indicator\x20'+_0x254626(_0x405ac4)+'\x22>'+_0x405ac4+_0x1e05c7(0x172):'')+_0x1e05c7(0x13a);}