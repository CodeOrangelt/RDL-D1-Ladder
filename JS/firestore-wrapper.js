function a18_0x439e(){const _0x126046=['session-suspended','network-error','addEventListener','Network\x20connection\x20error.\x20Please\x20check\x20your\x20internet\x20connection.','commit','bind','trace','message','string','__proto__','Session\x20suspended\x20due\x20to\x20inactivity.\x20Please\x20resume\x20your\x20session.','console','code','log','resource-exhausted','apply','exception','error','RDL_NETWORK_ERROR','toString','now','warn','Failed\x20to\x20disable\x20network:'];a18_0x439e=function(){return _0x126046;};return a18_0x439e();}const a18_0x3cd4c9=a18_0x9eae,a18_0x6fc38b=(function(){let _0x18f6fc=!![];return function(_0x4c32eb,_0x214a3c){const _0x5c3528=_0x18f6fc?function(){const _0x45553d=a18_0x9eae;if(_0x214a3c){const _0x419ae0=_0x214a3c[_0x45553d(0x11f)](_0x4c32eb,arguments);return _0x214a3c=null,_0x419ae0;}}:function(){};return _0x18f6fc=![],_0x5c3528;};}()),a18_0x62148f=a18_0x6fc38b(this,function(){const _0x10ea71=a18_0x9eae;let _0x526e6c;try{const _0x3f8ae4=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x526e6c=_0x3f8ae4();}catch(_0x1356b8){_0x526e6c=window;}const _0x119c25=_0x526e6c[_0x10ea71(0x11b)]=_0x526e6c['console']||{},_0x173c6e=['log','warn','info','error',_0x10ea71(0x120),'table',_0x10ea71(0x116)];for(let _0x302c20=0x0;_0x302c20<_0x173c6e['length'];_0x302c20++){const _0x332f79=a18_0x6fc38b['constructor']['prototype'][_0x10ea71(0x115)](a18_0x6fc38b),_0x301326=_0x173c6e[_0x302c20],_0x5d1fd5=_0x119c25[_0x301326]||_0x332f79;_0x332f79[_0x10ea71(0x119)]=a18_0x6fc38b['bind'](a18_0x6fc38b),_0x332f79['toString']=_0x5d1fd5[_0x10ea71(0x123)]['bind'](_0x5d1fd5),_0x119c25[_0x301326]=_0x332f79;}});a18_0x62148f();import{collection as a18_0x4b4f78,doc as a18_0x5eab21,getDoc as a18_0x2cfb0e,getDocs as a18_0x26d804,query as a18_0x20f633,where as a18_0x3fd5b9,orderBy as a18_0x42a92f,limit as a18_0xaaae99,startAfter as a18_0x237274,addDoc as a18_0x1afa14,updateDoc as a18_0x14e52a,deleteDoc as a18_0x457226,writeBatch as a18_0x158dca,serverTimestamp as a18_0x13c446,Timestamp as a18_0x3b54de,getCountFromServer as a18_0x55d4d4,setDoc as a18_0x1db32e,enableNetwork,disableNetwork}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db}from'./firebase-config.js';import{handleNetworkError}from'./idle-timeout.js';function checkSessionStatus(){const _0x2d9c6f=a18_0x9eae;if(window['RDL_SESSION_SUSPENDED']){console['warn']('Firestore\x20operation\x20blocked\x20-\x20session\x20suspended');const _0x16df18=new Error(_0x2d9c6f(0x11a));_0x16df18[_0x2d9c6f(0x11c)]=_0x2d9c6f(0x110);throw _0x16df18;}if(window[_0x2d9c6f(0x122)]){console['warn']('Firestore\x20operation\x20blocked\x20-\x20network\x20error');const _0x116720=new Error(_0x2d9c6f(0x113));_0x116720['code']='network-error';throw _0x116720;}}async function handleFirestoreError(_0xbe3b59){const _0x112e14=a18_0x9eae;console['error']('Firestore\x20operation\x20failed:',_0xbe3b59);if(_0xbe3b59&&(_0xbe3b59['code']==='unavailable'||_0xbe3b59['code']===_0x112e14(0x11e)||_0xbe3b59[_0x112e14(0x117)]&&_0xbe3b59['message']['includes']('network')||_0xbe3b59['code']&&_0xbe3b59[_0x112e14(0x11c)]['includes']('network')))return console[_0x112e14(0x125)]('Network-related\x20error\x20detected,\x20suspending\x20operations'),handleNetworkError(),!![];return![];}export const rdlFirestore={'collection':function(){const _0x2fa829=a18_0x9eae;if(arguments['length']===0x1){if(typeof arguments[0x0]===_0x2fa829(0x118))return a18_0x4b4f78(db,arguments[0x0]);return arguments[0x0];}else{if(arguments['length']===0x2&&arguments[0x0]===db&&typeof arguments[0x1]===_0x2fa829(0x118))return a18_0x4b4f78(db,arguments[0x1]);}return a18_0x4b4f78[_0x2fa829(0x11f)](null,arguments);},'doc':function(){const _0x4df6d3=a18_0x9eae;if(arguments['length']===0x2){if(typeof arguments[0x0]==='string'&&typeof arguments[0x1]==='string')return a18_0x5eab21(db,arguments[0x0],arguments[0x1]);return a18_0x5eab21[_0x4df6d3(0x11f)](null,arguments);}else{if(arguments['length']===0x3&&arguments[0x0]===db)return a18_0x5eab21['apply'](null,arguments);}return a18_0x5eab21['apply'](null,arguments);},'query':function(){const _0x4177b4=a18_0x9eae;return a18_0x20f633[_0x4177b4(0x11f)](null,arguments);},'where':function(){return a18_0x3fd5b9['apply'](null,arguments);},'orderBy':function(){return a18_0x42a92f['apply'](null,arguments);},'limit':function(_0x6902e6){return a18_0xaaae99(_0x6902e6);},'startAfter':function(_0x51a10c){return a18_0x237274(_0x51a10c);},'getDoc':async function(_0x4aaf4b){try{return checkSessionStatus(),await a18_0x2cfb0e(_0x4aaf4b);}catch(_0x990107){const _0x36561a=await handleFirestoreError(_0x990107);_0x36561a&&(_0x990107['code']='network-error');throw _0x990107;}},'getDocs':async function(_0x1d3e63){try{return checkSessionStatus(),await a18_0x26d804(_0x1d3e63);}catch(_0xedb4ef){const _0x637a3b=await handleFirestoreError(_0xedb4ef);_0x637a3b&&(_0xedb4ef['code']='network-error');throw _0xedb4ef;}},'getCountFromServer':async function(_0x12ca30){try{return checkSessionStatus(),await a18_0x55d4d4(_0x12ca30);}catch(_0x2ddfd2){const _0x2ca042=await handleFirestoreError(_0x2ddfd2);_0x2ca042&&(_0x2ddfd2['code']='network-error');throw _0x2ddfd2;}},'addDoc':async function(_0x44c9cc,_0x2ce68d){try{return checkSessionStatus(),await a18_0x1afa14(_0x44c9cc,_0x2ce68d);}catch(_0x3ccc5e){const _0x400bbd=await handleFirestoreError(_0x3ccc5e);_0x400bbd&&(_0x3ccc5e['code']='network-error');throw _0x3ccc5e;}},'setDoc':async function(_0x1b0c11,_0x4e8801,_0x1a2da0){try{return checkSessionStatus(),await a18_0x1db32e(_0x1b0c11,_0x4e8801,_0x1a2da0);}catch(_0x3e121b){const _0x1b51d6=await handleFirestoreError(_0x3e121b);_0x1b51d6&&(_0x3e121b['code']='network-error');throw _0x3e121b;}},'updateDoc':async function(_0xf4aa47,_0x3749c){const _0x17659f=a18_0x9eae;try{return checkSessionStatus(),await a18_0x14e52a(_0xf4aa47,_0x3749c);}catch(_0x1a22e2){const _0x3fe257=await handleFirestoreError(_0x1a22e2);_0x3fe257&&(_0x1a22e2[_0x17659f(0x11c)]='network-error');throw _0x1a22e2;}},'deleteDoc':async function(_0x319c92){const _0x284036=a18_0x9eae;try{return checkSessionStatus(),await a18_0x457226(_0x319c92);}catch(_0x1d7156){const _0x196fb2=await handleFirestoreError(_0x1d7156);_0x196fb2&&(_0x1d7156['code']=_0x284036(0x111));throw _0x1d7156;}},'writeBatch':function(){const _0x522ea5=a18_0x9eae;checkSessionStatus();const _0x1dc4b5=a18_0x158dca(db),_0x44aecd=_0x1dc4b5[_0x522ea5(0x114)]['bind'](_0x1dc4b5);return _0x1dc4b5['commit']=async function(){const _0x5c24d0=_0x522ea5;try{return checkSessionStatus(),await _0x44aecd();}catch(_0x332281){const _0x5693c4=await handleFirestoreError(_0x332281);_0x5693c4&&(_0x332281['code']=_0x5c24d0(0x111));throw _0x332281;}},_0x1dc4b5;},'serverTimestamp':function(){return a18_0x13c446();},'Timestamp':{'now':function(){const _0x2c96f2=a18_0x9eae;return a18_0x3b54de[_0x2c96f2(0x124)]();},'fromDate':function(_0x3e5bbc){return a18_0x3b54de['fromDate'](_0x3e5bbc);}},'enableNetwork':async function(){try{return await enableNetwork(db);}catch(_0x3ec396){console['error']('Failed\x20to\x20enable\x20network:',_0x3ec396);throw _0x3ec396;}},'disableNetwork':async function(){const _0x403325=a18_0x9eae;try{return await disableNetwork(db);}catch(_0x5e5947){console[_0x403325(0x121)](_0x403325(0x126),_0x5e5947);throw _0x5e5947;}}};function a18_0x9eae(_0x4debc2,_0x3eb38e){const _0x62148f=a18_0x439e();return a18_0x9eae=function(_0x6fc38b,_0x2b2bf8){_0x6fc38b=_0x6fc38b-0x110;let _0x439e73=_0x62148f[_0x6fc38b];return _0x439e73;},a18_0x9eae(_0x4debc2,_0x3eb38e);}window[a18_0x3cd4c9(0x112)]('error',function(_0x44738a){const _0x13d1ff=a18_0x3cd4c9;if(_0x44738a[_0x13d1ff(0x121)]){if(_0x44738a['error']['code']==='session-suspended')_0x44738a['preventDefault'](),console['log']('Caught\x20session\x20suspended\x20error:',_0x44738a['error'][_0x13d1ff(0x117)]);else(_0x44738a['error']['code']==='unavailable'||_0x44738a[_0x13d1ff(0x121)][_0x13d1ff(0x11c)]==='resource-exhausted'||_0x44738a['error']['message']&&_0x44738a['error']['message']['includes']('network')||_0x44738a['error'][_0x13d1ff(0x11c)]&&_0x44738a[_0x13d1ff(0x121)][_0x13d1ff(0x11c)]['includes']('network'))&&(_0x44738a['preventDefault'](),console[_0x13d1ff(0x11d)]('Caught\x20network\x20error:',_0x44738a['error']['message']),handleNetworkError());}}),window['rdlFirestore']=rdlFirestore,console['log']('Firestore\x20wrapper\x20initialized\x20with\x20session\x20checking\x20and\x20network\x20error\x20handling');