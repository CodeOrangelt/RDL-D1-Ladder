const a0_0x1d74f1=a0_0x3a5a;(function(_0x4817b7,_0x5f3778){const _0x107027=a0_0x3a5a,_0x47a6d2=_0x4817b7();while(!![]){try{const _0x367d45=parseInt(_0x107027(0x10f))/0x1*(parseInt(_0x107027(0x169))/0x2)+-parseInt(_0x107027(0x12b))/0x3*(parseInt(_0x107027(0x179))/0x4)+-parseInt(_0x107027(0x196))/0x5+parseInt(_0x107027(0x172))/0x6+parseInt(_0x107027(0x150))/0x7*(-parseInt(_0x107027(0xf9))/0x8)+parseInt(_0x107027(0x145))/0x9+parseInt(_0x107027(0x12a))/0xa*(parseInt(_0x107027(0xfd))/0xb);if(_0x367d45===_0x5f3778)break;else _0x47a6d2['push'](_0x47a6d2['shift']());}catch(_0x5e061f){_0x47a6d2['push'](_0x47a6d2['shift']());}}}(a0_0x3794,0x59bdb));const a0_0x622728=(function(){let _0x41d21d=!![];return function(_0x5d2d40,_0x1fd2a7){const _0x316f02=_0x41d21d?function(){if(_0x1fd2a7){const _0x4e5f1b=_0x1fd2a7['apply'](_0x5d2d40,arguments);return _0x1fd2a7=null,_0x4e5f1b;}}:function(){};return _0x41d21d=![],_0x316f02;};}()),a0_0x761bf6=a0_0x622728(this,function(){const _0x4661bd=a0_0x3a5a,_0x6de1a2=function(){const _0x3ee137=a0_0x3a5a;let _0x168149;try{_0x168149=Function('return\x20(function()\x20'+_0x3ee137(0x17c)+');')();}catch(_0x33b248){_0x168149=window;}return _0x168149;},_0xcac81d=_0x6de1a2(),_0x4b9b62=_0xcac81d[_0x4661bd(0x143)]=_0xcac81d[_0x4661bd(0x143)]||{},_0x32ae71=[_0x4661bd(0x110),'warn','info',_0x4661bd(0x146),'exception',_0x4661bd(0x162),'trace'];for(let _0x282a65=0x0;_0x282a65<_0x32ae71[_0x4661bd(0xda)];_0x282a65++){const _0x36b7fc=a0_0x622728['constructor']['prototype']['bind'](a0_0x622728),_0x35e680=_0x32ae71[_0x282a65],_0x291e1e=_0x4b9b62[_0x35e680]||_0x36b7fc;_0x36b7fc['__proto__']=a0_0x622728['bind'](a0_0x622728),_0x36b7fc['toString']=_0x291e1e[_0x4661bd(0x160)]['bind'](_0x291e1e),_0x4b9b62[_0x35e680]=_0x36b7fc;}});a0_0x761bf6();import{collection,getDocs,addDoc,query,orderBy,limit,startAfter,Timestamp,serverTimestamp,getDoc,doc,where,deleteDoc}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const mutedUsers=[{'username':a0_0x1d74f1(0x151),'muteFromDate':new Date('2025-07-02')['getTime']()}];function isUsernameMuted(_0x4448ac,_0x493782){const _0x235f13=a0_0x1d74f1;if(!_0x4448ac)return![];const _0x1f5678=mutedUsers['find'](_0x56a514=>_0x56a514[_0x235f13(0x108)]===_0x4448ac);if(!_0x1f5678)return![];if(!_0x493782)return!![];const _0x2002b2=_0x493782 instanceof Date?_0x493782['getTime']():_0x493782['seconds']?_0x493782[_0x235f13(0xe8)]*0x3e8:Date['now']();return _0x2002b2>=_0x1f5678['muteFromDate'];}function filterComment(_0x540a87,_0x3388af,_0x358ec0){if(!_0x540a87)return'-';if(isUsernameMuted(_0x3388af,_0x358ec0))return'Muted.';return _0x540a87;}const previewState={'currentMode':'D1','currentPage':0x1,'matchesPerPage':0x5,'lastVisible':null,'firstVisible':null,'isLoading':![],'filterUsername':'','enhancedFilters':{'pilots':'','levels':'','subgames':[]},'totalPages':0x1,'hasReachedEnd':![]};function getCacheKey(_0x524fed,_0x415fc6,_0x28bab4){const _0x249a24=a0_0x1d74f1,_0x3e07f0='u:'+(_0x28bab4['filterUsername']||'');return _0x249a24(0xf5)+_0x524fed+'_p'+_0x415fc6+'_'+_0x3e07f0;}function getCachedPage(_0x1a4184){const _0x5316f0=a0_0x1d74f1,_0x2e9b0b=sessionStorage['getItem'](_0x1a4184);if(_0x2e9b0b)try{return JSON[_0x5316f0(0x114)](_0x2e9b0b);}catch(_0x57cd85){return console[_0x5316f0(0x146)](_0x5316f0(0x17d),_0x57cd85),sessionStorage[_0x5316f0(0x144)](_0x1a4184),null;}return null;}function cachePage(_0x393f76,_0x259fe7){const _0x1d2303=a0_0x1d74f1;try{sessionStorage[_0x1d2303(0x197)](_0x393f76,JSON[_0x1d2303(0x137)](_0x259fe7));}catch(_0x4db6c8){console['error']('Failed\x20to\x20cache\x20data:',_0x4db6c8);}}function getEloColor(_0x2fe3e6){const _0x1a3a6c=a0_0x1d74f1,_0x126bd4=Number(_0x2fe3e6);if(_0x126bd4>=0x7d0)return _0x1a3a6c(0x112);else{if(_0x126bd4>=0x708)return _0x1a3a6c(0x101);else{if(_0x126bd4>=0x640)return _0x1a3a6c(0x116);else{if(_0x126bd4>=0x578)return'#CD7F32';else return'#808080';}}}}function formatDate(_0x5e1828,_0x323cbc=![]){if(!_0x5e1828||!_0x5e1828['seconds'])return'N/A';const _0x3da157=new Date(_0x5e1828['seconds']*0x3e8);return _0x323cbc?_0x3da157['toLocaleString']():_0x3da157['toLocaleDateString']();}function truncateComment(_0x12b2aa,_0x40f866=0x1e){const _0x3ff6c8=a0_0x1d74f1;if(!_0x12b2aa)return'-';if(_0x12b2aa['length']<=_0x40f866)return _0x12b2aa;return _0x12b2aa['substring'](0x0,_0x40f866)+_0x3ff6c8(0x168);}function formatCommentDate(_0x269c76){const _0x31fffa=a0_0x1d74f1;if(!_0x269c76||!_0x269c76['seconds'])return'';const _0x298dfd=new Date(_0x269c76['seconds']*0x3e8),_0x5ea6a1=new Date(),_0x349962=Math[_0x31fffa(0x133)](_0x5ea6a1-_0x298dfd),_0x1b1da5=Math['floor'](_0x349962/(0x3e8*0x3c*0x3c*0x18));if(_0x1b1da5===0x0)return _0x31fffa(0x18a);else{if(_0x1b1da5===0x1)return'Yesterday';else return _0x1b1da5<0x7?_0x1b1da5+'\x20days\x20ago':_0x298dfd['toLocaleDateString']();}}function setLoadingIndicator(_0x31c636){const _0x4980fc=a0_0x1d74f1,_0x45783c=document['getElementById']('loading-indicator');if(_0x45783c)_0x45783c['style'][_0x4980fc(0x104)]=_0x31c636?_0x4980fc(0x19d):'none';}export function updatePreviewLadderModeUI(){const _0x81d3be=a0_0x1d74f1,_0x1ec7ca=document[_0x81d3be(0x165)]('preview-ladder-mode'),_0x33f100=document[_0x81d3be(0x165)](_0x81d3be(0x11a)),_0x4c9adf=document['getElementById']('preview-d2-button'),_0x4dd9e0=document['getElementById']('preview-d3-button');if(_0x1ec7ca)_0x1ec7ca[_0x81d3be(0xed)]=previewState['currentMode'];if(_0x33f100)_0x33f100[_0x81d3be(0x119)]['toggle']('active',previewState[_0x81d3be(0xff)]==='D1');if(_0x4c9adf)_0x4c9adf['classList']['toggle']('active',previewState[_0x81d3be(0xff)]==='D2');if(_0x4dd9e0)_0x4dd9e0['classList']['toggle']('active',previewState['currentMode']==='D3');}function updatePreviewPaginationControls(_0x8b3d59){const _0xcd3c54=a0_0x1d74f1,_0x57674d=document['getElementById']('previewPrevPage'),_0x5e873b=document['getElementById'](_0xcd3c54(0x157)),_0x1ff781=document['getElementById']('previewPageInfo');if(!_0x57674d||!_0x5e873b||!_0x1ff781)return;_0x1ff781[_0xcd3c54(0xed)]='Page\x20'+previewState['currentPage'],_0x57674d['disabled']=previewState['currentPage']<=0x1,_0x5e873b['disabled']=!_0x8b3d59;}function setPreviewLoadingState(_0x13fa0b){const _0x146b9a=a0_0x1d74f1;previewState['isLoading']=_0x13fa0b,setLoadingIndicator(_0x13fa0b);const _0x1be9f0=document['getElementById']('recent-matches-preview'),_0x15a8bd=_0x1be9f0?_0x1be9f0['querySelector']('.matches-loading'):null,_0x1d5a46=document['getElementById']('previewPrevPage'),_0x4bdc39=document['getElementById']('previewNextPage'),_0x5caca7=document['getElementById'](_0x146b9a(0x11a)),_0x1ab58e=document['getElementById']('preview-d2-button'),_0x23d360=document[_0x146b9a(0x165)]('applyFilterBtn'),_0x2cceca=document[_0x146b9a(0x165)]('clearFilterBtn');if(_0x15a8bd&&!_0x13fa0b)_0x15a8bd['style']['display']='none';else _0x15a8bd&&_0x13fa0b&&(_0x15a8bd[_0x146b9a(0xef)]['display']='block');!_0x13fa0b&&_0x1be9f0&&!_0x1be9f0['querySelector']('.match-card')&&!_0x1be9f0['querySelector']('.matches-loading[style*=\x22color:\x20red\x22]')&&(_0x1be9f0['innerHTML']='<div\x20class=\x22matches-loading\x22>No\x20recent\x20matches\x20found'+(previewState['filterUsername']?'\x20matching\x20filters':'')+'.</div>');if(_0x1d5a46)_0x1d5a46['disabled']=_0x13fa0b||previewState['currentPage']<=0x1;if(_0x4bdc39)_0x4bdc39[_0x146b9a(0x131)]=_0x13fa0b;if(_0x5caca7)_0x5caca7['disabled']=_0x13fa0b;if(_0x1ab58e)_0x1ab58e['disabled']=_0x13fa0b;if(_0x23d360)_0x23d360['disabled']=_0x13fa0b;if(_0x2cceca)_0x2cceca['disabled']=_0x13fa0b;}function applyClientFilters(_0xc2bed6){const _0x3a0ac3=a0_0x1d74f1;if(!previewState['filterUsername'])return _0xc2bed6;const _0x2eeb84=previewState[_0x3a0ac3(0x13f)][_0x3a0ac3(0x14c)]();return _0xc2bed6['filter'](_0x22ef97=>{const _0x20eaa9=_0x3a0ac3,_0x302ff2=(_0x22ef97['winnerUsername']||'')[_0x20eaa9(0x14c)](),_0x4b4fd7=(_0x22ef97['loserUsername']||'')['toLowerCase']();return _0x302ff2['includes'](_0x2eeb84)||_0x4b4fd7['includes'](_0x2eeb84);});}function applyEnhancedClientFilters(_0x506c1c){if(!hasEnhancedFilters())return _0x506c1c;return _0x506c1c['filter'](_0x152bba=>{const _0x11220a=a0_0x3a5a;if(previewState[_0x11220a(0x185)]['pilots']){const _0x174073=previewState['enhancedFilters']['pilots'][_0x11220a(0x14c)](),_0x35ebd1=(_0x152bba['winnerUsername']||'')[_0x11220a(0x14c)](),_0xb300e5=(_0x152bba['loserUsername']||'')['toLowerCase']();if(!_0x35ebd1['includes'](_0x174073)&&!_0xb300e5[_0x11220a(0x16c)](_0x174073))return![];}if(previewState['enhancedFilters']['levels']){const _0x454ce9=previewState['enhancedFilters']['levels']['toLowerCase'](),_0x280d4b=(_0x152bba[_0x11220a(0x16d)]||'')['toLowerCase']();if(!_0x280d4b[_0x11220a(0x16c)](_0x454ce9))return![];}if(previewState['enhancedFilters']['subgames']['length']>0x0){const _0x5433a3=_0x152bba['subgameType']||_0x11220a(0x193);if(!previewState[_0x11220a(0x185)]['subgames']['includes'](_0x5433a3))return![];}return!![];});}function hasEnhancedFilters(){const _0x1a177e=a0_0x1d74f1;return previewState[_0x1a177e(0x185)][_0x1a177e(0x124)]||previewState[_0x1a177e(0x185)]['levels']||previewState['enhancedFilters']['subgames']['length']>0x0;}function clearEnhancedFilters(){const _0x2be89c=a0_0x1d74f1;previewState['enhancedFilters']={'pilots':'','levels':'','subgames':[]},document['getElementById']('filter-pilots')['value']='',document[_0x2be89c(0x165)](_0x2be89c(0xe3))[_0x2be89c(0x130)]='';const _0x239642=document['getElementById']('filter-subgames');for(let _0x2111dc of _0x239642[_0x2be89c(0x10e)]){_0x2111dc['selected']=![];}}function jumpToPage(_0x207d7f){const _0xb5d4d7=a0_0x1d74f1,_0x2253c0=document['getElementById'](_0xb5d4d7(0xdd)),_0x128a01=previewState['currentPage'];let _0x237fdb=_0x128a01;switch(_0x207d7f){case'start':_0x237fdb=0x1;break;case'end':_0x237fdb=Math['max'](_0x128a01+0xa,previewState[_0xb5d4d7(0x15c)]||_0x128a01+0xa);break;case'+1':_0x237fdb=_0x128a01+0x1;break;case'+5':_0x237fdb=_0x128a01+0x5;break;case'+10':_0x237fdb=_0x128a01+0xa;break;case'-1':_0x237fdb=Math['max'](0x1,_0x128a01-0x1);break;case'-5':_0x237fdb=Math['max'](0x1,_0x128a01-0x5);break;case _0xb5d4d7(0xe7):_0x237fdb=Math[_0xb5d4d7(0x10b)](0x1,_0x128a01-0xa);break;case'input':const _0x3e35cf=parseInt(_0x2253c0['value']);_0x3e35cf&&_0x3e35cf>0x0&&(_0x237fdb=_0x3e35cf,_0x2253c0['value']='');break;}_0x237fdb!==_0x128a01&&_0x237fdb>0x0&&(previewState['currentPage']=_0x237fdb,loadRecentMatchesPreview('jump'));}function a0_0x3794(){const _0x2cf1f4=['commentPopupPreview','You\x20need\x20to\x20be\x20signed\x20in\x20to\x20report\x20comments','createElement','value','disabled','docs','abs','Winner','Comment\x20not\x20found.\x20It\x20may\x20have\x20already\x20been\x20deleted.','loserUsername','stringify','message','next','Unable\x20to\x20submit\x20-\x20system\x20not\x20ready','Comments\x20are\x20limited\x20to\x2015\x20words\x20maximum.\x20Please\x20shorten\x20your\x20comment.','currentUser','stopPropagation','querySelector','filterUsername','dataset','filter-pilots','submitComment','console','removeItem','3184065TlZikp','error','Unknown','none','timestamp','filter','\x20matching\x20filters','toLowerCase','commentAddOverlay','bronze','.no-comments-message','28yrhDPy','Daz','approvedAt','winnerComment','Comment\x20deleted\x20successfully','selectedOptions','matchesPerPage','previewNextPage','addEventListener','from','Unknown\x20Map','color','totalPages','Failed\x20to\x20fetch\x20username:','comment','winnerUsername','toString','click','table','justifyContent','.match-map','getElementById','input','<div\x20class=\x22matches-loading\x22>No\x20recent\x20matches\x20found','...','70PQiPOp','demo','onclick','includes','mapPlayed','innerHTML','marginTop','className','Comment\x20from\x20','1896330BwDngn','Anonymous','isLoading','cursor','appendChild','.comment.loser-comment','submit','4YcCIJX','add','data','{}.constructor(\x22return\x20this\x22)(\x20)','Failed\x20to\x20parse\x20cache:','currentPage','matchComments','map','commentText','Muted.','.player.loser\x20.player-suicides','levels','enhancedFilters','.winner-demo-link','Cache\x20miss\x20for\x20page\x20','closeAddCommentPopup','commentPopupContentPreview','Today','push','Error\x20submitting:','gold','addCommentForm','Clearing\x20cache\x20for\x20refresh/reset','winnerOldElo','.matches-loading[style*=\x22color:\x20red\x22]','delete-comment-btn','Standard\x20Match','parentNode','content','3222990vxrBSy','setItem','Option','body','div','You\x20must\x20be\x20signed\x20in\x20to\x20leave\x20a\x20comment','querySelectorAll','block','</div>','length','commentId','Please\x20enter\x20a\x20comment\x20before\x20submitting','jump-to-page','displayName','showAddCommentPopup','trim','commentAddPopup','demoLink','filter-levels','uid','Submit','auth','-10','seconds','firstVisible','Error\x20submitting\x20comment:','split','Close','textContent','Comments\x20section\x20not\x20found\x20in\x20template','style','insertBefore','title','active','You\x20must\x20be\x20signed\x20in\x20to\x20continue','matchId','previewCache_','Error\x20fetching\x20comments:','You\x20need\x20to\x20be\x20signed\x20in\x20to\x20leave\x20a\x20comment\x20or\x20add\x20a\x20demo','Demo\x20link','993800gpNump','empty','prev','commentMatchId','11PuuVhY','.comment-item','currentMode','Cached\x20intermediary\x20page\x20','#FFD700','aria-label','mega-match','display','firstChild','.loser-demo-link','text','username','Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20comment?','description','max','desc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22popup-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Add\x20Comment\x20or\x20Demo</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22closeAddCommentPopup\x22\x20class=\x22close-btn\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22addCommentForm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22commentMatchId\x22\x20name=\x22commentMatchId\x22\x20value=\x22','options','18852reTWDZ','log','#aaa','#50C878','createdAt','parse','closeCommentPopupPreview','#b9f1fc','current','Preview\x20UI\x20or\x20Filter\x20elements\x20not\x20found,\x20cannot\x20attach\x20listeners.','classList','preview-d1-button','Submitting...','\x27s\x20Demo','match-card-template','ratting','preventDefault','forEach','#d32f2f','required','lastVisible','pilots','approvedMatches','warn','15px','removeAttribute','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22demo-description\x22>','6628150huftBe','1450194PPMGqX','subgameType'];a0_0x3794=function(){return _0x2cf1f4;};return a0_0x3794();}export async function loadRecentMatchesPreview(_0x804de='current'){const _0x2e99ec=a0_0x1d74f1,_0x43d385=document['getElementById']('recent-matches-preview'),_0x58639d=document[_0x2e99ec(0x165)](_0x2e99ec(0x11d));if(previewState[_0x2e99ec(0x174)]||!_0x43d385||!_0x58639d)return;_0x804de==='current'&&(console['log'](_0x2e99ec(0x18f)),Object['keys'](sessionStorage)[_0x2e99ec(0x120)](_0x5a37fb=>{const _0xc497f2=_0x2e99ec;_0x5a37fb[_0xc497f2(0x16c)]('previewCache_'+previewState[_0xc497f2(0xff)])&&sessionStorage['removeItem'](_0x5a37fb);}));let _0x4c203e=previewState[_0x2e99ec(0x17e)];if(_0x804de==='next')_0x4c203e++;else{if(_0x804de===_0x2e99ec(0xfb))_0x4c203e--;else _0x804de==='current'&&(_0x4c203e=0x1,previewState[_0x2e99ec(0xe9)]=null,previewState[_0x2e99ec(0x123)]=null);}if(_0x4c203e<0x1)_0x4c203e=0x1;const _0x2bd2b5=previewState['currentPage'];previewState['currentPage']=_0x4c203e,updatePreviewPaginationControls(!![]);const _0x31e1cf={'filterUsername':previewState['filterUsername']},_0x4360ff=getCacheKey(previewState['currentMode'],_0x4c203e,_0x31e1cf),_0x4b615d=_0x804de!=='current'?getCachedPage(_0x4360ff):null;if(_0x4b615d){console['log']('Rendering\x20page\x20'+_0x4c203e+'\x20from\x20cache'),setPreviewLoadingState(!![]),renderMatchCards(_0x4b615d['docsData']),updatePreviewPaginationControls(_0x4b615d['hasNextPage']),setPreviewLoadingState(![]);return;}console['log'](_0x2e99ec(0x187)+_0x4c203e+',\x20fetching\x20from\x20Firestore'),setPreviewLoadingState(!![]),_0x43d385['innerHTML']='<div\x20class=\x22matches-loading\x22>Loading\x20recent\x20matches...</div>';const _0x4df02f=previewState['currentMode']==='D1'?_0x2e99ec(0x125):previewState['currentMode']==='D2'?'approvedMatchesD2':'approvedMatchesD3',_0x34e2dd=previewState['currentMode']==='D1'?_0x2e99ec(0x113):'approvedAt';try{const _0x5b6a44=collection(window['db'],_0x4df02f);let _0x560593=[orderBy(_0x34e2dd,'desc')];if(_0x4c203e===0x1)console['log']('Loading\x20first\x20page\x20from\x20Firestore'),_0x560593[_0x2e99ec(0x18b)](limit(previewState['matchesPerPage']));else{if(_0x804de===_0x2e99ec(0x139)&&previewState['lastVisible'])console[_0x2e99ec(0x110)]('Loading\x20next\x20page\x20using\x20cursor'),_0x560593['push'](startAfter(previewState[_0x2e99ec(0x123)])),_0x560593['push'](limit(previewState['matchesPerPage']));else{console['log']('No\x20valid\x20cursor,\x20fetching\x20from\x20beginning\x20and\x20skipping\x20pages');const _0x1fb4ba=_0x4c203e*previewState['matchesPerPage'];_0x560593['push'](limit(_0x1fb4ba));}}const _0x528b91=query(_0x5b6a44,..._0x560593),_0x1904ed=await getDocs(_0x528b91);let _0x1239ca=_0x1904ed[_0x2e99ec(0x132)];if(_0x4c203e>0x1&&_0x804de!==_0x2e99ec(0x139)){const _0x59253f=(_0x4c203e-0x1)*previewState['matchesPerPage'];_0x1239ca=_0x1239ca['slice'](_0x59253f,_0x59253f+previewState[_0x2e99ec(0x156)]);}if(_0x1239ca['length']===0x0){console[_0x2e99ec(0x110)]('No\x20results\x20found\x20for\x20this\x20page');_0x804de==='next'&&(previewState['currentPage']=_0x2bd2b5,updatePreviewPaginationControls(![]));_0x43d385['innerHTML']='<div\x20class=\x22matches-loading\x22>No\x20more\x20matches\x20to\x20display'+(previewState['filterUsername']?_0x2e99ec(0x14b):'')+'.</div>',setPreviewLoadingState(![]);return;}previewState['firstVisible']=_0x1239ca[0x0],previewState['lastVisible']=_0x1239ca[_0x1239ca[_0x2e99ec(0xda)]-0x1];const _0x22b23d=_0x1239ca['map'](_0x70d501=>({'id':_0x70d501['id'],..._0x70d501['data']()}));let _0x21827e=![];if(_0x1239ca[_0x2e99ec(0xda)]===previewState['matchesPerPage']){const _0x3ee36d=query(_0x5b6a44,orderBy(_0x34e2dd,'desc'),startAfter(previewState[_0x2e99ec(0x123)]),limit(0x1)),_0x20f110=await getDocs(_0x3ee36d);_0x21827e=!_0x20f110[_0x2e99ec(0xfa)];}const _0x3b4598=applyClientFilters(_0x22b23d),_0x8fb78d={'docsData':_0x22b23d,'hasNextPage':_0x21827e};cachePage(getCacheKey(previewState['currentMode'],previewState['currentPage'],_0x31e1cf),_0x8fb78d);if(_0x4c203e>0x1&&_0x804de!==_0x2e99ec(0x139))for(let _0x48418d=0x1;_0x48418d<_0x4c203e;_0x48418d++){const _0x45c2a8=(_0x48418d-0x1)*previewState['matchesPerPage'],_0x15ab1c=_0x45c2a8+previewState['matchesPerPage'],_0x1c04b5=_0x1904ed['docs']['slice'](_0x45c2a8,_0x15ab1c);if(_0x1c04b5['length']>0x0){const _0xaeb542=_0x1c04b5['map'](_0x4e5a20=>({'id':_0x4e5a20['id'],..._0x4e5a20['data']()})),_0x5ccc65=!![];cachePage(getCacheKey(previewState['currentMode'],_0x48418d,_0x31e1cf),{'docsData':_0xaeb542,'hasNextPage':_0x5ccc65}),console['log'](_0x2e99ec(0x100)+_0x48418d);}}_0x3b4598['length']===0x0&&previewState[_0x2e99ec(0x13f)]?_0x43d385['innerHTML']='<div\x20class=\x22matches-loading\x22>No\x20matches\x20found\x20matching\x20filter:\x20\x22'+previewState['filterUsername']+'\x22</div>':renderMatchCards(_0x3b4598),updatePreviewPaginationControls(_0x21827e);}catch(_0xbdb10a){console[_0x2e99ec(0x146)]('Error\x20fetching\x20'+previewState['currentMode']+'\x20matches:',_0xbdb10a),_0x43d385['innerHTML']='<div\x20class=\x22matches-loading\x22\x20style=\x22color:\x20red;\x22>Error\x20loading\x20matches:\x20'+_0xbdb10a[_0x2e99ec(0x138)]+_0x2e99ec(0xd9),updatePreviewPaginationControls(![]),previewState['currentPage']=_0x2bd2b5;}finally{setPreviewLoadingState(![]);}}async function renderMatchCards(_0x3fd6aa){const _0x2465fe=a0_0x1d74f1,_0x32089c=document['getElementById']('recent-matches-preview'),_0x1a3a52=document[_0x2465fe(0x165)]('match-card-template');if(!_0x32089c||!_0x1a3a52)return;!_0x32089c['querySelector'](_0x2465fe(0x191))&&(_0x32089c[_0x2465fe(0x16e)]='');if(!_0x3fd6aa||_0x3fd6aa['length']===0x0){if(!_0x32089c[_0x2465fe(0x13e)]('.matches-loading[style*=\x22color:\x20red\x22]')){const _0x4dff10=hasEnhancedFilters()?'\x20matching\x20filters':previewState['filterUsername']?'\x20matching\x20filters':'';_0x32089c['innerHTML']=_0x2465fe(0x167)+_0x4dff10+'.</div>';}return;}const _0x1091d7=applyEnhancedClientFilters(_0x3fd6aa);if(_0x1091d7['length']===0x0){_0x32089c[_0x2465fe(0x16e)]='<div\x20class=\x22matches-loading\x22>No\x20matches\x20found\x20matching\x20current\x20filters.</div>';return;}const _0x336e06=_0x1091d7['map'](_0x133ee3=>getAllCommentsForMatch(_0x133ee3['id']));let _0x38f65d=[];try{_0x38f65d=await Promise['all'](_0x336e06);}catch(_0x2dc134){console[_0x2465fe(0x146)]('Error\x20fetching\x20comments\x20batch:',_0x2dc134),_0x38f65d=_0x1091d7[_0x2465fe(0x180)](()=>[]);}const _0xa7ce37={};_0x38f65d[_0x2465fe(0x120)]((_0x1f4730,_0x3e8b4e)=>{_0xa7ce37[_0x1091d7[_0x3e8b4e]['id']]=_0x1f4730||[];}),_0x1091d7['forEach'](_0x3a6984=>{const _0x449584=_0x2465fe,_0x310cc3=_0x1a3a52[_0x449584(0x195)]['cloneNode'](!![]),_0x3dbb2c=_0x310cc3[_0x449584(0x13e)]('.match-display-wrapper'),_0x38ed24=_0x310cc3['querySelector']('.match-card'),_0x30d47f=getEloRankClass(_0x3a6984['winnerOldElo']);_0x38ed24['classList']['add']('winner-'+_0x30d47f),_0x38ed24[_0x449584(0x13e)](_0x449584(0x164))['textContent']=_0x3a6984['mapPlayed']||_0x449584(0x15a),_0x38ed24['querySelector']('.match-date')['textContent']=formatDate(_0x3a6984['approvedAt']||_0x3a6984[_0x449584(0x113)]);const _0x35599e=_0x38ed24['querySelector']('.player.winner\x20.player-name');_0x35599e['textContent']=_0x3a6984[_0x449584(0x15f)]||_0x449584(0x147),_0x35599e['style']['color']=getEloColor(_0x3a6984[_0x449584(0x190)]),_0x38ed24['querySelector']('.player.winner\x20.player-score')[_0x449584(0xed)]=_0x3a6984['winnerScore']??0x0;const _0x3d0f84=_0x38ed24[_0x449584(0x13e)]('.player.winner\x20.player-suicides'),_0x44fe72=_0x3a6984['winnerSuicides']||0x0;_0x3d0f84['textContent']='S:\x20'+_0x44fe72;const _0x4846ff=_0x38ed24['querySelector']('.player.loser\x20.player-name');_0x4846ff[_0x449584(0xed)]=_0x3a6984[_0x449584(0x136)]||'Unknown',_0x4846ff['style'][_0x449584(0x15b)]=getEloColor(_0x3a6984['loserOldElo']),_0x38ed24['querySelector']('.player.loser\x20.player-score')['textContent']=_0x3a6984['loserScore']??0x0;const _0x124944=_0x38ed24[_0x449584(0x13e)](_0x449584(0x183)),_0x563285=_0x3a6984['loserSuicides']||0x0;_0x124944['textContent']='S:\x20'+_0x563285;const _0xb71c1e=_0x38ed24['querySelector']('.match-subgame');if(_0xb71c1e){if(_0x3a6984['subgameType']&&_0x3a6984[_0x449584(0x12c)]['trim']()!==''){_0xb71c1e[_0x449584(0xed)]=_0x3a6984['subgameType'],_0xb71c1e['style'][_0x449584(0x104)]='block';const _0x407112=getSubgameClass(_0x3a6984['subgameType']);_0x407112&&_0xb71c1e[_0x449584(0x119)][_0x449584(0x17a)](_0x407112);}else _0xb71c1e['textContent']=_0x449584(0x193),_0xb71c1e['style'][_0x449584(0x104)]='block',_0xb71c1e['style']['opacity']='0.6';}const _0x94bbaa=_0x38ed24[_0x449584(0x13e)]('.comment.winner-comment'),_0x3b8f1b=_0x38ed24['querySelector'](_0x449584(0x177)),_0x493442=_0x3a6984[_0x449584(0x153)]||'',_0x5a4ccc=_0x3a6984['loserComment']||'',_0x5583a7=_0x3a6984[_0x449584(0x152)]||_0x3a6984['createdAt'],_0x17d88a=filterComment(_0x493442,_0x3a6984['winnerUsername'],_0x5583a7),_0x393f44=filterComment(_0x5a4ccc,_0x3a6984[_0x449584(0x136)],_0x5583a7);_0x94bbaa['textContent']='\x22'+truncateComment(_0x493442)+'\x22',_0x3b8f1b['textContent']='\x22'+truncateComment(_0x5a4ccc)+'\x22';_0x493442&&!isUsernameMuted(_0x3a6984[_0x449584(0x15f)],_0x5583a7)?_0x94bbaa['onclick']=()=>showPreviewCommentPopup(_0x17d88a,_0x3a6984['winnerUsername']||_0x449584(0x134),getEloColor(_0x3a6984['winnerOldElo'])):(_0x94bbaa['textContent']=_0x17d88a===_0x449584(0x182)?'Muted.':'-',_0x94bbaa['style']['cursor']='default',_0x94bbaa['onclick']=null);_0x5a4ccc&&!isUsernameMuted(_0x3a6984['loserUsername'])?_0x3b8f1b[_0x449584(0x16b)]=()=>showPreviewCommentPopup(_0x393f44,_0x3a6984['loserUsername']||'Loser',getEloColor(_0x3a6984['loserOldElo'])):(_0x3b8f1b[_0x449584(0xed)]=_0x393f44==='Muted.'?_0x449584(0x182):'-',_0x3b8f1b[_0x449584(0xef)]['cursor']='default',_0x3b8f1b[_0x449584(0x16b)]=null);const _0x111ec4=_0x3dbb2c?.['querySelector']('.community-comments-section');if(!_0x111ec4)console[_0x449584(0x126)](_0x449584(0xee));else{const _0xec6721=_0x111ec4['querySelector']('.comments-container'),_0x7cb534=_0xec6721?.[_0x449584(0x13e)]('.no-comments-message'),_0x32cc1b=_0x111ec4['querySelector']('.add-comment-btn');if(_0xec6721){while(_0xec6721['firstChild']&&_0xec6721[_0x449584(0x105)]!==_0x7cb534){_0xec6721['removeChild'](_0xec6721['firstChild']);}_0x32cc1b&&_0x32cc1b['addEventListener']('click',()=>{showAddCommentPopup(_0x3a6984['id']);});const _0x541cc1=_0xa7ce37[_0x3a6984['id']]||[];if(_0x541cc1['length']>0x0){if(_0x7cb534)_0x7cb534['style']['display']='none';const _0x2e390f=(_0x35d597,_0x59f156)=>{const _0x5e330e=_0x449584,_0xa3ad43=_0x35d597['split']('\x20');if(_0xa3ad43['length']<=_0x59f156)return _0x35d597;return _0xa3ad43['slice'](0x0,_0x59f156)['join']('\x20')+_0x5e330e(0x168);};_0x541cc1['forEach'](_0x5d8b8c=>{const _0x2a2aaa=_0x449584,_0x3bb827=document['createElement']('div');if(_0x5d8b8c['type']==='demo'){_0x3bb827[_0x2a2aaa(0x170)]='demo-link',_0x3bb827[_0x2a2aaa(0x16e)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22'+_0x5d8b8c['demoLink']+'\x22\x20target=\x22_blank\x22\x20class=\x22play-icon\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<svg\x20viewBox=\x220\x200\x2024\x2024\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<path\x20d=\x22M8,5.14V19.14L19,12.14L8,5.14Z\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</svg>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22demo-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22demo-author\x22>Demo\x20from\x20'+_0x5d8b8c[_0x2a2aaa(0x108)]+_0x2a2aaa(0x129)+(_0x5d8b8c[_0x2a2aaa(0x10a)]||'No\x20description\x20provided')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x29b3e5=window[_0x2a2aaa(0xe6)][_0x2a2aaa(0x13c)],_0x54400b=_0x29b3e5&&_0x5d8b8c['userId']===_0x29b3e5['uid'];if(_0x54400b){const _0x20d17a=document[_0x2a2aaa(0x12f)]('button');_0x20d17a['className']=_0x2a2aaa(0x192),_0x20d17a['innerHTML']='×',_0x20d17a['setAttribute'](_0x2a2aaa(0x102),'Delete\x20demo'),_0x20d17a[_0x2a2aaa(0x158)](_0x2a2aaa(0x161),_0x59b866=>{const _0x199315=_0x2a2aaa;_0x59b866[_0x199315(0x11f)](),_0x59b866[_0x199315(0x13d)](),deleteComment(_0x5d8b8c['id'],_0x3bb827);}),_0x3bb827['appendChild'](_0x20d17a);}}else{_0x3bb827['className']='comment-item';const _0x18ac97=isUsernameMuted(_0x5d8b8c[_0x2a2aaa(0x108)],_0x5d8b8c['timestamp']),_0x2ec160=_0x18ac97?'Muted.':_0x2e390f(_0x5d8b8c['text']||'',0xf),_0xc365c6=_0x5d8b8c[_0x2a2aaa(0x108)]||'Anonymous',_0x58aef6=window['auth'][_0x2a2aaa(0x13c)],_0x371ff7=_0x58aef6&&_0x5d8b8c['userId']===_0x58aef6[_0x2a2aaa(0xe4)];let _0x16aa31='';_0x371ff7&&(_0x16aa31='<button\x20class=\x22delete-comment-btn\x22\x20aria-label=\x22Delete\x20comment\x22>×</button>');_0x3bb827['innerHTML']=_0x16aa31+'<strong>'+_0xc365c6+':</strong>\x20\x22'+_0x2ec160+'\x22';if(_0x371ff7){const _0xfd08ab=_0x3bb827['querySelector']('.delete-comment-btn');_0xfd08ab&&_0xfd08ab['addEventListener'](_0x2a2aaa(0x161),_0x1c6b87=>{_0x1c6b87['stopPropagation'](),deleteComment(_0x5d8b8c['id'],_0x3bb827);});}!_0x18ac97?_0x3bb827['addEventListener']('click',()=>{showFullCommentLightbox(_0x5d8b8c);}):_0x3bb827[_0x2a2aaa(0xef)][_0x2a2aaa(0x175)]='default';}_0xec6721[_0x2a2aaa(0xf0)](_0x3bb827,_0xec6721[_0x2a2aaa(0x105)]);});}else{if(_0x7cb534)_0x7cb534['style']['display']='block';}}}const _0x186241=_0x38ed24['querySelector']('.match-demo-links');if(_0x186241){const _0x4df4f3=_0x38ed24['querySelector'](_0x449584(0x186)),_0x487b8c=_0x38ed24[_0x449584(0x13e)](_0x449584(0x106)),_0x287ad5=_0x3a6984['winnerDemoLink']||null,_0x3b5f06=_0x3a6984['loserDemoLink']||_0x3a6984['demoLink']||null;console['log']('Match\x20'+_0x3a6984['id']+'\x20demo\x20links:',{'winner':_0x287ad5,'loser':_0x3b5f06}),_0x4df4f3&&(_0x287ad5?(_0x4df4f3['href']=_0x287ad5,_0x4df4f3[_0x449584(0xef)]['display']='flex',_0x4df4f3[_0x449584(0xf1)]=_0x3a6984['winnerUsername']+'\x27s\x20Demo'):_0x4df4f3['style']['display']=_0x449584(0x148)),_0x487b8c&&(_0x3b5f06?(_0x487b8c['href']=_0x3b5f06,_0x487b8c['style']['display']='flex',_0x487b8c['title']=_0x3a6984[_0x449584(0x136)]+_0x449584(0x11c)):_0x487b8c['style'][_0x449584(0x104)]='none'),_0x287ad5&&_0x4df4f3||_0x3b5f06&&_0x487b8c?_0x186241[_0x449584(0xef)]['display']='flex':_0x186241[_0x449584(0xef)][_0x449584(0x104)]='none';}_0x32089c['appendChild'](_0x310cc3);});}function getSubgameClass(_0x298acb){const _0x25ac13=a0_0x1d74f1,_0x4e89b1={'Fusion\x20Match':'fusion-match','≥6\x20Missiles':'missiles-6plus','≥6\x20missiles':'missiles-6plus','Weapon\x20Imbalance':'weapon-imbalance','Blind\x20Match':'blind-match','Rematch':'rematch','Disorientation':'disorientation','Ratting':_0x25ac13(0x11e),'Altered\x20Powerups':'altered-powerups','Mega\x20Match':_0x25ac13(0x103),'Dogfight':'dogfight','Gauss\x20and\x20Mercs':'gauss-and-mercs'};return _0x4e89b1[_0x298acb]||'';}async function deleteComment(_0x2bd6e3,_0x2754d2){const _0x2f341a=a0_0x1d74f1,_0x175db4=window['auth']['currentUser'];if(!_0x175db4){alert('You\x20need\x20to\x20be\x20signed\x20in\x20to\x20delete\x20comments');return;}if(!confirm(_0x2f341a(0x109)))return;try{const _0x22a730=doc(window['db'],'matchComments',_0x2bd6e3),_0x165ad9=await getDoc(_0x22a730);if(!_0x165ad9['exists']()){alert(_0x2f341a(0x135));return;}const _0x57aacf=_0x165ad9['data']();if(_0x57aacf['userId']!==_0x175db4[_0x2f341a(0xe4)]){alert('You\x20can\x20only\x20delete\x20your\x20own\x20comments');return;}await deleteDoc(_0x22a730);if(_0x2754d2&&_0x2754d2['parentNode']){_0x2754d2[_0x2f341a(0x194)]['removeChild'](_0x2754d2);const _0x455fb5=_0x2754d2['closest']('.comments-container');if(_0x455fb5&&!_0x455fb5[_0x2f341a(0x13e)](_0x2f341a(0xfe))){const _0x3f76fc=_0x455fb5[_0x2f341a(0x13e)](_0x2f341a(0x14f));if(_0x3f76fc)_0x3f76fc['style']['display']='block';}}console['log'](_0x2f341a(0x154));}catch(_0x22b6df){console[_0x2f341a(0x146)]('Error\x20deleting\x20comment:',_0x22b6df),alert('Failed\x20to\x20delete\x20comment:\x20'+_0x22b6df[_0x2f341a(0x138)]);}}async function getAllCommentsForMatch(_0x2f7054){const _0x286a37=a0_0x1d74f1;if(!_0x2f7054)return[];try{const _0x12c482=collection(window['db'],'matchComments'),_0x2f552b=query(_0x12c482,where('matchId','==',_0x2f7054),orderBy(_0x286a37(0x149),_0x286a37(0x10c))),_0x483b6d=await getDocs(_0x2f552b);if(_0x483b6d['empty'])return[];return _0x483b6d['docs']['map'](_0x57f434=>({'id':_0x57f434['id'],..._0x57f434['data']()}));}catch(_0x3c77e1){return console['error'](_0x286a37(0xf6),_0x3c77e1),[];}}async function submitComment(_0x580e74){const _0x28a175=a0_0x1d74f1;_0x580e74['preventDefault']();if(!window[_0x28a175(0xe6)]||!window['db']){console['error']('Firebase\x20not\x20initialized'),alert('Unable\x20to\x20submit\x20comment\x20-\x20system\x20not\x20ready');return;}const _0x26c63a=window['auth']['currentUser'];if(!_0x26c63a){alert(_0x28a175(0x19b));return;}const _0x1b56db=document[_0x28a175(0x165)](_0x28a175(0xfc))?.['value'],_0x5a9d3c=document[_0x28a175(0x165)]('commentText')?.['value']?.['trim']();if(!_0x1b56db||!_0x5a9d3c){alert(_0x28a175(0xdc));return;}const _0x17a7db=_0x5a9d3c['split'](/\s+/)['filter'](_0x390bf0=>_0x390bf0['length']>0x0)[_0x28a175(0xda)];if(_0x17a7db>0xf){alert('Comments\x20are\x20limited\x20to\x2015\x20words\x20maximum.\x20Please\x20shorten\x20your\x20comment.');return;}const _0x3a0691=document['querySelector']('.submit-comment-btn');_0x3a0691&&(_0x3a0691['disabled']=!![],_0x3a0691['textContent']=_0x28a175(0x11b));try{let _0x58b1b3='Anonymous';try{const _0x1e9fc2=doc(window['db'],'userProfiles',_0x26c63a['uid']),_0x492664=await getDoc(_0x1e9fc2);if(_0x492664['exists']()){const _0x26ff15=_0x492664['data']();_0x26ff15['username']&&(_0x58b1b3=_0x26ff15['username']);}_0x58b1b3==='Anonymous'&&_0x26c63a['displayName']&&(_0x58b1b3=_0x26c63a['displayName']);}catch(_0x429da1){console['warn']('Failed\x20to\x20fetch\x20user\x20profile:',_0x429da1),_0x26c63a[_0x28a175(0xde)]&&(_0x58b1b3=_0x26c63a['displayName']);}const _0x248e9e={'matchId':_0x1b56db,'userId':_0x26c63a['uid'],'username':_0x58b1b3,'text':_0x5a9d3c,'timestamp':serverTimestamp()};console['log']('Submitting\x20comment\x20as:',_0x58b1b3);const _0x57cfff=collection(window['db'],'matchComments');await addDoc(_0x57cfff,_0x248e9e),console['log']('Comment\x20added\x20successfully'),closeAddCommentPopup(),loadRecentMatchesPreview(_0x28a175(0x117));}catch(_0x5cfa96){console['error'](_0x28a175(0xea),_0x5cfa96),alert('Failed\x20to\x20add\x20comment:\x20'+_0x5cfa96['message']),_0x3a0691&&(_0x3a0691['disabled']=![],_0x3a0691['textContent']='Submit');}}function a0_0x3a5a(_0x19539d,_0x4ea819){const _0x478b93=a0_0x3794();return a0_0x3a5a=function(_0x761bf6,_0x622728){_0x761bf6=_0x761bf6-0xd9;let _0x396ed7=_0x478b93[_0x761bf6];return _0x396ed7;},a0_0x3a5a(_0x19539d,_0x4ea819);}function closeAddCommentPopup(){const _0x19beb5=a0_0x1d74f1,_0x1f60ee=document['getElementById'](_0x19beb5(0xe1)),_0x4be60e=document['getElementById'](_0x19beb5(0x14d));if(_0x1f60ee)_0x1f60ee[_0x19beb5(0xef)][_0x19beb5(0x104)]=_0x19beb5(0x148);if(_0x4be60e)_0x4be60e['style']['display']=_0x19beb5(0x148);}function showAddCommentPopup(_0x1c7593){const _0x150d7e=a0_0x1d74f1,_0x182860=window[_0x150d7e(0xe6)]['currentUser'];if(!_0x182860){alert(_0x150d7e(0xf7));return;}let _0x317c8e=document['getElementById'](_0x150d7e(0xe1)),_0x40ca69=document['getElementById']('commentAddOverlay');!_0x317c8e&&(_0x317c8e=document['createElement']('div'),_0x317c8e['id']='commentAddPopup',_0x317c8e['className']='comment-popup',document[_0x150d7e(0x199)]['appendChild'](_0x317c8e));!_0x40ca69&&(_0x40ca69=document[_0x150d7e(0x12f)](_0x150d7e(0x19a)),_0x40ca69['id']='commentAddOverlay',_0x40ca69['className']='comment-overlay',document['body']['appendChild'](_0x40ca69));_0x317c8e['innerHTML']=_0x150d7e(0x10d)+_0x1c7593+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-tabs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22option-tab\x20active\x22\x20data-option=\x22comment\x22>Add\x20Comment</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22option-divider\x22>OR</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22option-tab\x22\x20data-option=\x22demo\x22>Share\x20Demo\x20Link</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-content\x22\x20id=\x22commentOption\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22commentText\x22>Your\x20comment\x20(15\x20words\x20max):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22commentText\x22\x20name=\x22commentText\x22\x20rows=\x223\x22\x20placeholder=\x22Share\x20your\x20thoughts...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22word-counter\x22><span\x20id=\x22wordCount\x22>0</span>/15\x20words</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-content\x22\x20id=\x22demoOption\x22\x20style=\x22display:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22demoLink\x22>Demo\x20Link:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22url\x22\x20id=\x22demoLink\x22\x20name=\x22demoLink\x22\x20placeholder=\x22https://...\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22demoDescription\x22>Description\x20(20\x20words\x20max):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22demoDescription\x22\x20name=\x22demoDescription\x22\x20rows=\x222\x22\x20placeholder=\x22Describe\x20your\x20demo...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22word-counter\x22><span\x20id=\x22demoWordCount\x22>0</span>/20\x20words</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22submit\x22\x20class=\x22submit-comment-btn\x22>Submit</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</form>\x0a\x20\x20\x20\x20',_0x317c8e['style']['display']=_0x150d7e(0x19d),_0x40ca69['style']['display']=_0x150d7e(0x19d),document['getElementById']('closeAddCommentPopup')[_0x150d7e(0x158)]('click',closeAddCommentPopup),_0x40ca69['addEventListener'](_0x150d7e(0x161),closeAddCommentPopup);const _0x1abf3b=_0x317c8e[_0x150d7e(0x19c)]('.option-tab');_0x1abf3b['forEach'](_0xb8630d=>{_0xb8630d['addEventListener']('click',function(){const _0x135f61=a0_0x3a5a;_0x1abf3b['forEach'](_0x1f9ac7=>_0x1f9ac7['classList']['remove'](_0x135f61(0xf2))),document['querySelectorAll']('.option-content')[_0x135f61(0x120)](_0x306edf=>_0x306edf[_0x135f61(0xef)]['display']='none'),this['classList'][_0x135f61(0x17a)](_0x135f61(0xf2));const _0x28af6e=this['dataset']['option'];document[_0x135f61(0x165)](_0x28af6e+_0x135f61(0x198))[_0x135f61(0xef)][_0x135f61(0x104)]=_0x135f61(0x19d),_0x28af6e==='demo'?(document['getElementById'](_0x135f61(0xe2))['setAttribute'](_0x135f61(0x122),''),document['getElementById']('commentText')[_0x135f61(0x128)]('required')):(document[_0x135f61(0x165)]('demoLink')[_0x135f61(0x128)]('required'),document['getElementById']('commentText')['setAttribute'](_0x135f61(0x122),''));});}),document['getElementById']('commentText')['setAttribute'](_0x150d7e(0x122),''),document['getElementById']('demoLink')['removeAttribute']('required'),setupWordCounter('commentText','wordCount',0xf),setupWordCounter('demoDescription','demoWordCount',0x14),document['getElementById'](_0x150d7e(0x18e))['addEventListener'](_0x150d7e(0x178),submitCommentOrDemo);}function setupWordCounter(_0x364ca0,_0x9a589a,_0xc55e20){const _0x31482c=a0_0x1d74f1,_0x3414f6=document['getElementById'](_0x364ca0),_0x1e4fb2=document['getElementById'](_0x9a589a);if(!_0x3414f6||!_0x1e4fb2)return;_0x2dffa2(),_0x3414f6['addEventListener'](_0x31482c(0x166),_0x2dffa2);function _0x2dffa2(){const _0x1121af=_0x31482c,_0x2b6deb=_0x3414f6['value'][_0x1121af(0xe0)](),_0x552948=_0x2b6deb?_0x2b6deb[_0x1121af(0xeb)](/\s+/)['filter'](_0xe0648c=>_0xe0648c[_0x1121af(0xda)]>0x0)['length']:0x0;_0x1e4fb2['textContent']=_0x552948,_0x552948>_0xc55e20?_0x1e4fb2['style']['color']='#ff4444':_0x1e4fb2['style'][_0x1121af(0x15b)]=_0x1121af(0x111);}}async function submitCommentOrDemo(_0x30ea3a){const _0x488b76=a0_0x1d74f1;_0x30ea3a[_0x488b76(0x11f)]();if(!window['auth']||!window['db']){console[_0x488b76(0x146)]('Firebase\x20not\x20initialized'),alert(_0x488b76(0x13a));return;}const _0x4cc08b=window['auth'][_0x488b76(0x13c)];if(!_0x4cc08b){alert(_0x488b76(0xf3));return;}const _0xf256f2=document['getElementById']('commentMatchId')[_0x488b76(0x130)],_0x17e3fc=document[_0x488b76(0x13e)]('.option-tab.active')['dataset']['option'];let _0x52af16=_0x488b76(0x173);try{const _0x557bf1=doc(window['db'],'userProfiles',_0x4cc08b[_0x488b76(0xe4)]),_0x56d6d7=await getDoc(_0x557bf1);if(_0x56d6d7['exists']()){const _0x326723=_0x56d6d7[_0x488b76(0x17b)]();_0x326723['username']&&(_0x52af16=_0x326723['username']);}_0x52af16==='Anonymous'&&_0x4cc08b['displayName']&&(_0x52af16=_0x4cc08b['displayName']);}catch(_0x502ae7){console['warn'](_0x488b76(0x15d),_0x502ae7),_0x4cc08b[_0x488b76(0xde)]&&(_0x52af16=_0x4cc08b['displayName']);}const _0x4548a1=document['querySelector']('.submit-comment-btn');_0x4548a1&&(_0x4548a1['disabled']=!![],_0x4548a1[_0x488b76(0xed)]='Submitting...');try{if(_0x17e3fc==='comment'){const _0x251124=document['getElementById']('commentText')['value']['trim']();if(!_0x251124){alert(_0x488b76(0xdc)),_0x4548a1[_0x488b76(0x131)]=![],_0x4548a1[_0x488b76(0xed)]='Submit';return;}const _0xd94045=_0x251124['split'](/\s+/)['filter'](_0x9b2a7e=>_0x9b2a7e[_0x488b76(0xda)]>0x0)['length'];if(_0xd94045>0xf){alert(_0x488b76(0x13b)),_0x4548a1['disabled']=![],_0x4548a1['textContent']='Submit';return;}const _0xa7051e={'matchId':_0xf256f2,'userId':_0x4cc08b['uid'],'username':_0x52af16,'text':_0x251124,'type':_0x488b76(0x15e),'timestamp':serverTimestamp()},_0xf014c4=collection(window['db'],'matchComments');await addDoc(_0xf014c4,_0xa7051e);}else{const _0x1fce15=document['getElementById'](_0x488b76(0xe2))['value']['trim'](),_0x24c5b4=document[_0x488b76(0x165)]('demoDescription')['value'][_0x488b76(0xe0)]()||_0x488b76(0xf8);if(!_0x1fce15){alert('Please\x20enter\x20a\x20demo\x20link'),_0x4548a1[_0x488b76(0x131)]=![],_0x4548a1['textContent']='Submit';return;}try{new URL(_0x1fce15);}catch(_0x22bb58){alert('Please\x20enter\x20a\x20valid\x20URL\x20for\x20the\x20demo\x20link'),_0x4548a1['disabled']=![],_0x4548a1[_0x488b76(0xed)]='Submit';return;}const _0x570d0f=_0x24c5b4[_0x488b76(0xeb)](/\s+/)[_0x488b76(0x14a)](_0x548613=>_0x548613['length']>0x0)['length'];if(_0x570d0f>0x14){alert('Demo\x20descriptions\x20are\x20limited\x20to\x2020\x20words\x20maximum.\x20Please\x20shorten\x20your\x20description.'),_0x4548a1['disabled']=![],_0x4548a1['textContent']=_0x488b76(0xe5);return;}const _0x44f9ac={'matchId':_0xf256f2,'userId':_0x4cc08b['uid'],'username':_0x52af16,'demoLink':_0x1fce15,'description':_0x24c5b4,'type':_0x488b76(0x16a),'text':'Demo:\x20'+_0x24c5b4,'timestamp':serverTimestamp()},_0x372704=collection(window['db'],_0x488b76(0x17f));await addDoc(_0x372704,_0x44f9ac);}closeAddCommentPopup(),loadRecentMatchesPreview('current');}catch(_0x53f3d4){console[_0x488b76(0x146)](_0x488b76(0x18c),_0x53f3d4),alert('Failed\x20to\x20submit:\x20'+_0x53f3d4['message']),_0x4548a1&&(_0x4548a1['disabled']=![],_0x4548a1['textContent']='Submit');}}function getEloRankClass(_0x4e7366){const _0x1e90ba=a0_0x1d74f1,_0x1f6a66=Number(_0x4e7366);if(_0x1f6a66>=0x7d0)return'emerald';else{if(_0x1f6a66>=0x708)return _0x1e90ba(0x18d);else{if(_0x1f6a66>=0x640)return'silver';else{if(_0x1f6a66>=0x578)return _0x1e90ba(0x14e);else return'unranked';}}}}function showPreviewCommentPopup(_0x357e36,_0x418d4f,_0x360589='#fff'){const _0x111831=a0_0x1d74f1,_0x1a9f37=document['getElementById'](_0x111831(0x12d)),_0x616b1f=document['getElementById']('commentOverlayPreview'),_0x19ea4f=document['getElementById']('commentPopupTitlePreview'),_0x7aaf15=document[_0x111831(0x165)]('commentPopupContentPreview'),_0x24fe92=document['getElementById']('reportCommentButton');if(!_0x1a9f37||!_0x616b1f||!_0x19ea4f||!_0x7aaf15||!_0x24fe92)return;_0x1a9f37['dataset']['commentText']=_0x357e36,_0x1a9f37[_0x111831(0x140)]['commentUser']=_0x418d4f,_0x19ea4f['style']['color']=_0x360589,_0x19ea4f['textContent']='Comment\x20from\x20'+_0x418d4f,_0x7aaf15['textContent']=_0x357e36,_0x24fe92['onclick']=reportComment,_0x1a9f37['style']['display']='block',_0x616b1f['style']['display']=_0x111831(0x19d);}function closePreviewCommentPopup(){const _0x533431=a0_0x1d74f1,_0x5b0cbf=document[_0x533431(0x165)]('commentPopupPreview'),_0x486abf=document['getElementById']('commentOverlayPreview');if(_0x5b0cbf)_0x5b0cbf['style']['display']='none';if(_0x486abf)_0x486abf['style'][_0x533431(0x104)]='none';}async function reportComment(){const _0x2eebb6=a0_0x1d74f1,_0x1f6896=window['auth']['currentUser'];if(!_0x1f6896){alert(_0x2eebb6(0x12e));return;}if(!confirm('Are\x20you\x20sure\x20you\x20want\x20to\x20report\x20this\x20comment\x20as\x20inappropriate?'))return;try{const _0x309c3c=document[_0x2eebb6(0x165)]('commentPopupPreview'),_0x1d90df={'commentAuthor':_0x309c3c['dataset']['commentUser']||'Unknown\x20User','commentText':_0x309c3c[_0x2eebb6(0x140)][_0x2eebb6(0x181)]||'','matchId':previewState['currentMatchId']||'','reportedBy':_0x1f6896[_0x2eebb6(0xe4)],'reporterUsername':_0x1f6896['displayName']||'Anonymous\x20User','reportedAt':serverTimestamp()},_0x5d2e96=collection(window['db'],'badComments');await addDoc(_0x5d2e96,_0x1d90df),alert('Thank\x20you.\x20The\x20comment\x20has\x20been\x20reported\x20and\x20will\x20be\x20reviewed.'),closePreviewCommentPopup();}catch(_0x3d5be9){console['error']('Error\x20reporting\x20comment:',_0x3d5be9),alert('Failed\x20to\x20report\x20comment:\x20'+_0x3d5be9[_0x2eebb6(0x138)]);}}function showFullCommentLightbox(_0x6a0afe){const _0x7c10ed=a0_0x1d74f1;if(isUsernameMuted(_0x6a0afe['username']))return;const _0x4466e0=document[_0x7c10ed(0x165)](_0x7c10ed(0x12d)),_0x37e38f=document['getElementById']('commentOverlayPreview'),_0x4ad406=document['getElementById']('commentPopupTitlePreview'),_0x44301d=document['getElementById'](_0x7c10ed(0x189));if(!_0x4466e0||!_0x37e38f||!_0x4ad406||!_0x44301d)return;_0x4ad406['style']['color']='#fff',_0x4ad406['textContent']=_0x7c10ed(0x171)+_0x6a0afe['username'];if(_0x6a0afe[_0x7c10ed(0x149)]){const _0x1ba675=new Date(_0x6a0afe['timestamp']['seconds']*0x3e8),_0x45c4fe=_0x1ba675['toLocaleString']();_0x44301d['innerHTML']='<p>'+_0x6a0afe['text']+'</p><small\x20style=\x22color:#aaa;\x20display:block;\x20text-align:right;\x20margin-top:10px;\x22>Posted\x20on\x20'+_0x45c4fe+'</small>';}else _0x44301d['textContent']=_0x6a0afe['text'];_0x4466e0['dataset'][_0x7c10ed(0xdb)]=_0x6a0afe['id']||'',_0x4466e0['dataset']['commentUser']=_0x6a0afe['username']||'',_0x4466e0['dataset']['commentText']=_0x6a0afe[_0x7c10ed(0x107)]||'',_0x4466e0[_0x7c10ed(0x140)][_0x7c10ed(0xf4)]=_0x6a0afe[_0x7c10ed(0xf4)]||'';const _0x408698=_0x4466e0['querySelector']('.popup-actions')||document[_0x7c10ed(0x12f)](_0x7c10ed(0x19a));!_0x4466e0['querySelector']('.popup-actions')?(_0x408698['className']='popup-actions',_0x408698[_0x7c10ed(0xef)]['display']='flex',_0x408698[_0x7c10ed(0xef)][_0x7c10ed(0x163)]='center',_0x408698['style']['gap']='10px',_0x408698[_0x7c10ed(0xef)][_0x7c10ed(0x16f)]=_0x7c10ed(0x127),_0x4466e0['appendChild'](_0x408698)):_0x408698['innerHTML']='';const _0x381066=document['createElement']('button');_0x381066[_0x7c10ed(0xed)]=_0x7c10ed(0xec),_0x381066['className']='popup-btn\x20close-btn',_0x381066['id']=_0x7c10ed(0x115),_0x381066['addEventListener'](_0x7c10ed(0x161),closePreviewCommentPopup);const _0x18d451=document['createElement']('button');_0x18d451['textContent']='Report',_0x18d451['className']='popup-btn\x20report-btn',_0x18d451['style']['backgroundColor']=_0x7c10ed(0x121),_0x18d451['addEventListener']('click',reportComment),_0x408698[_0x7c10ed(0x176)](_0x381066),_0x408698['appendChild'](_0x18d451),_0x4466e0['style']['display']=_0x7c10ed(0x19d),_0x37e38f['style'][_0x7c10ed(0x104)]=_0x7c10ed(0x19d);}export function setupPreviewEventListeners(){const _0x2a4539=a0_0x1d74f1,_0x311439=document['getElementById']('previewPrevPage'),_0x4f9a79=document['getElementById']('previewNextPage'),_0x1e0e3b=document['getElementById']('preview-d1-button'),_0x1c2824=document['getElementById']('preview-d2-button'),_0x483dc8=document['getElementById']('preview-d3-button'),_0x2b466f=document[_0x2a4539(0x165)]('filter-toggle-button'),_0x327091=document['getElementById']('enhanced-filter-section');if(!_0x311439||!_0x4f9a79||!_0x1e0e3b||!_0x1c2824||!_0x483dc8||!_0x2b466f||!_0x327091){console['warn'](_0x2a4539(0x118));return;}_0x311439[_0x2a4539(0x158)]('click',()=>{if(!_0x311439['disabled'])loadRecentMatchesPreview('prev');}),_0x4f9a79['addEventListener'](_0x2a4539(0x161),()=>{const _0x456f23=_0x2a4539;if(!_0x4f9a79[_0x456f23(0x131)])loadRecentMatchesPreview('next');}),_0x1e0e3b['addEventListener']('click',()=>{const _0x253a25=_0x2a4539;previewState['currentMode']!=='D1'&&!previewState['isLoading']&&(previewState[_0x253a25(0xff)]='D1',updatePreviewLadderModeUI(),loadRecentMatchesPreview('current'));}),_0x1c2824['addEventListener']('click',()=>{const _0x252501=_0x2a4539;previewState['currentMode']!=='D2'&&!previewState['isLoading']&&(previewState[_0x252501(0xff)]='D2',updatePreviewLadderModeUI(),loadRecentMatchesPreview('current'));}),_0x483dc8[_0x2a4539(0x158)]('click',()=>{const _0x401bb1=_0x2a4539;previewState[_0x401bb1(0xff)]!=='D3'&&!previewState[_0x401bb1(0x174)]&&(previewState['currentMode']='D3',updatePreviewLadderModeUI(),loadRecentMatchesPreview(_0x401bb1(0x117)));});_0x2b466f&&_0x327091&&_0x2b466f['addEventListener']('click',()=>{const _0x12563c=_0x2a4539,_0x2ae4cf=_0x327091['style']['display']!==_0x12563c(0x148);_0x327091['style'][_0x12563c(0x104)]=_0x2ae4cf?_0x12563c(0x148):'block',_0x2b466f[_0x12563c(0x119)]['toggle']('active',!_0x2ae4cf);});const _0x423f2a=document['getElementById']('apply-enhanced-filters'),_0x7481bc=document[_0x2a4539(0x165)]('clear-enhanced-filters');_0x423f2a&&_0x423f2a[_0x2a4539(0x158)]('click',()=>{const _0x551c39=_0x2a4539;previewState['enhancedFilters']['pilots']=document['getElementById'](_0x551c39(0x141))[_0x551c39(0x130)]['trim'](),previewState['enhancedFilters'][_0x551c39(0x184)]=document[_0x551c39(0x165)](_0x551c39(0xe3))['value']['trim']();const _0x4885ac=document['getElementById']('filter-subgames');previewState['enhancedFilters']['subgames']=Array[_0x551c39(0x159)](_0x4885ac[_0x551c39(0x155)])[_0x551c39(0x180)](_0x427969=>_0x427969['value'])['filter'](_0x509e37=>_0x509e37!==''),loadRecentMatchesPreview('current');});_0x7481bc&&_0x7481bc['addEventListener'](_0x2a4539(0x161),()=>{clearEnhancedFilters(),loadRecentMatchesPreview('current');});document['querySelectorAll']('.jump-btn')['forEach'](_0x1fcd4d=>{_0x1fcd4d['addEventListener']('click',()=>{const _0x5d8f7e=a0_0x3a5a,_0x42b1b6=_0x1fcd4d[_0x5d8f7e(0x140)]['jump'];jumpToPage(_0x42b1b6);});});const _0x1103c4=document['getElementById']('jump-to-page');_0x1103c4&&_0x1103c4['addEventListener']('keypress',_0x4d5af0=>{const _0x5b54b4=_0x2a4539;_0x4d5af0['key']==='Enter'&&jumpToPage(_0x5b54b4(0x166));});const _0x105444=document['getElementById']('closeCommentPopupPreview'),_0x1b9fd6=document[_0x2a4539(0x165)]('commentOverlayPreview');if(_0x105444)_0x105444['addEventListener']('click',closePreviewCommentPopup);if(_0x1b9fd6)_0x1b9fd6['addEventListener']('click',closePreviewCommentPopup);const _0x4cd280=document['getElementById']('closeAddCommentPopup'),_0x3cf795=document['getElementById']('commentAddOverlay'),_0x5143ee=document['getElementById'](_0x2a4539(0x18e));if(_0x4cd280)_0x4cd280['addEventListener']('click',closeAddCommentPopup);if(_0x3cf795)_0x3cf795['addEventListener']('click',closeAddCommentPopup);if(_0x5143ee)_0x5143ee['addEventListener'](_0x2a4539(0x178),submitComment);const _0x58f1ce=document[_0x2a4539(0x165)]('commentText'),_0x734bf4=document['getElementById']('wordCount');_0x58f1ce&&_0x734bf4&&setupWordCounter(_0x2a4539(0x181),'wordCount',0xf);}window[a0_0x1d74f1(0xdf)]=showAddCommentPopup,window[a0_0x1d74f1(0x188)]=closeAddCommentPopup,window[a0_0x1d74f1(0x142)]=submitComment;