const a18_0xf73af=(function(){let _0x44e1f2=!![];return function(_0x222d22,_0x4736d1){const _0x6ad90a=_0x44e1f2?function(){if(_0x4736d1){const _0x58e297=_0x4736d1['apply'](_0x222d22,arguments);return _0x4736d1=null,_0x58e297;}}:function(){};return _0x44e1f2=![],_0x6ad90a;};}()),a18_0x1f9334=a18_0xf73af(this,function(){const _0x540f68=a18_0x5eed;let _0x27aa81;try{const _0x488b97=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x27aa81=_0x488b97();}catch(_0x3f3049){_0x27aa81=window;}const _0x2a90d7=_0x27aa81['console']=_0x27aa81['console']||{},_0x51cba4=['log','warn','info','error',_0x540f68(0x1ff),'table','trace'];for(let _0x6ea07c=0x0;_0x6ea07c<_0x51cba4['length'];_0x6ea07c++){const _0x307ffe=a18_0xf73af[_0x540f68(0x208)][_0x540f68(0x206)][_0x540f68(0x205)](a18_0xf73af),_0x1c30d0=_0x51cba4[_0x6ea07c],_0x372827=_0x2a90d7[_0x1c30d0]||_0x307ffe;_0x307ffe[_0x540f68(0x1f2)]=a18_0xf73af['bind'](a18_0xf73af),_0x307ffe['toString']=_0x372827[_0x540f68(0x209)]['bind'](_0x372827),_0x2a90d7[_0x1c30d0]=_0x307ffe;}});function a18_0x1d87(){const _0x21c248=['__proto__','Network-related\x20error\x20detected,\x20suspending\x20operations','session-suspended','code','Session\x20suspended\x20due\x20to\x20inactivity.\x20Please\x20resume\x20your\x20session.','string','warn','now','network','error','Network\x20connection\x20error.\x20Please\x20check\x20your\x20internet\x20connection.','log','length','exception','includes','message','network-error','commit','preventDefault','bind','prototype','apply','constructor','toString'];a18_0x1d87=function(){return _0x21c248;};return a18_0x1d87();}a18_0x1f9334();import{collection as a18_0x594c55,doc as a18_0x2ae883,getDoc as a18_0x270e53,getDocs as a18_0x25878c,query as a18_0x45631e,where as a18_0x7abeca,orderBy as a18_0x3ee176,limit as a18_0x5d3de8,startAfter as a18_0x4034fe,addDoc as a18_0x1c0776,updateDoc as a18_0x2b2c08,deleteDoc as a18_0x117fcb,writeBatch as a18_0x35c21c,serverTimestamp as a18_0x1802f1,Timestamp as a18_0x46333f,getCountFromServer as a18_0x3636a8,setDoc as a18_0x5b0b8a,enableNetwork,disableNetwork}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db}from'./firebase-config.js';import{handleNetworkError}from'./idle-timeout.js';function checkSessionStatus(){const _0x23b15b=a18_0x5eed;if(window['RDL_SESSION_SUSPENDED']){console['warn']('Firestore\x20operation\x20blocked\x20-\x20session\x20suspended');const _0x4a6f7c=new Error(_0x23b15b(0x1f6));_0x4a6f7c['code']=_0x23b15b(0x1f4);throw _0x4a6f7c;}if(window['RDL_NETWORK_ERROR']){console[_0x23b15b(0x1f8)]('Firestore\x20operation\x20blocked\x20-\x20network\x20error');const _0x42a131=new Error(_0x23b15b(0x1fc));_0x42a131['code']='network-error';throw _0x42a131;}}async function handleFirestoreError(_0xf3552a){const _0x2928e5=a18_0x5eed;console['error']('Firestore\x20operation\x20failed:',_0xf3552a);if(_0xf3552a&&(_0xf3552a['code']==='unavailable'||_0xf3552a[_0x2928e5(0x1f5)]==='resource-exhausted'||_0xf3552a['message']&&_0xf3552a['message'][_0x2928e5(0x200)](_0x2928e5(0x1fa))||_0xf3552a['code']&&_0xf3552a[_0x2928e5(0x1f5)]['includes'](_0x2928e5(0x1fa))))return console[_0x2928e5(0x1f8)](_0x2928e5(0x1f3)),handleNetworkError(),!![];return![];}export const rdlFirestore={'collection':function(){const _0x1710cd=a18_0x5eed;if(arguments['length']===0x1){if(typeof arguments[0x0]==='string')return a18_0x594c55(db,arguments[0x0]);return arguments[0x0];}else{if(arguments[_0x1710cd(0x1fe)]===0x2&&arguments[0x0]===db&&typeof arguments[0x1]==='string')return a18_0x594c55(db,arguments[0x1]);}return a18_0x594c55['apply'](null,arguments);},'doc':function(){const _0x3a3c8d=a18_0x5eed;if(arguments['length']===0x2){if(typeof arguments[0x0]===_0x3a3c8d(0x1f7)&&typeof arguments[0x1]===_0x3a3c8d(0x1f7))return a18_0x2ae883(db,arguments[0x0],arguments[0x1]);return a18_0x2ae883['apply'](null,arguments);}else{if(arguments['length']===0x3&&arguments[0x0]===db)return a18_0x2ae883['apply'](null,arguments);}return a18_0x2ae883['apply'](null,arguments);},'query':function(){const _0x329e35=a18_0x5eed;return a18_0x45631e[_0x329e35(0x207)](null,arguments);},'where':function(){return a18_0x7abeca['apply'](null,arguments);},'orderBy':function(){const _0x23ceab=a18_0x5eed;return a18_0x3ee176[_0x23ceab(0x207)](null,arguments);},'limit':function(_0xb93e7){return a18_0x5d3de8(_0xb93e7);},'startAfter':function(_0x1b3b76){return a18_0x4034fe(_0x1b3b76);},'getDoc':async function(_0x47e68c){try{return checkSessionStatus(),await a18_0x270e53(_0x47e68c);}catch(_0x592fec){const _0x5ef55a=await handleFirestoreError(_0x592fec);_0x5ef55a&&(_0x592fec['code']='network-error');throw _0x592fec;}},'getDocs':async function(_0x5aa569){try{return checkSessionStatus(),await a18_0x25878c(_0x5aa569);}catch(_0x2cde2d){const _0x62b4f1=await handleFirestoreError(_0x2cde2d);_0x62b4f1&&(_0x2cde2d['code']='network-error');throw _0x2cde2d;}},'getCountFromServer':async function(_0x1e08e0){try{return checkSessionStatus(),await a18_0x3636a8(_0x1e08e0);}catch(_0x196673){const _0x2c536c=await handleFirestoreError(_0x196673);_0x2c536c&&(_0x196673['code']='network-error');throw _0x196673;}},'addDoc':async function(_0x5168d8,_0x1a0a23){try{return checkSessionStatus(),await a18_0x1c0776(_0x5168d8,_0x1a0a23);}catch(_0x595ae3){const _0x2517d6=await handleFirestoreError(_0x595ae3);_0x2517d6&&(_0x595ae3['code']='network-error');throw _0x595ae3;}},'setDoc':async function(_0x4620ee,_0x219c9a,_0xe3015b){try{return checkSessionStatus(),await a18_0x5b0b8a(_0x4620ee,_0x219c9a,_0xe3015b);}catch(_0x317a7c){const _0x1e4b57=await handleFirestoreError(_0x317a7c);_0x1e4b57&&(_0x317a7c['code']='network-error');throw _0x317a7c;}},'updateDoc':async function(_0x3d6ea5,_0x166086){const _0x42765e=a18_0x5eed;try{return checkSessionStatus(),await a18_0x2b2c08(_0x3d6ea5,_0x166086);}catch(_0x541806){const _0x8ad967=await handleFirestoreError(_0x541806);_0x8ad967&&(_0x541806['code']=_0x42765e(0x202));throw _0x541806;}},'deleteDoc':async function(_0x586987){try{return checkSessionStatus(),await a18_0x117fcb(_0x586987);}catch(_0x2afe80){const _0x13d251=await handleFirestoreError(_0x2afe80);_0x13d251&&(_0x2afe80['code']='network-error');throw _0x2afe80;}},'writeBatch':function(){const _0x1c4e93=a18_0x5eed;checkSessionStatus();const _0x5ade32=a18_0x35c21c(db),_0x2d4029=_0x5ade32[_0x1c4e93(0x203)]['bind'](_0x5ade32);return _0x5ade32[_0x1c4e93(0x203)]=async function(){const _0x50bec0=_0x1c4e93;try{return checkSessionStatus(),await _0x2d4029();}catch(_0x276a24){const _0x9f668b=await handleFirestoreError(_0x276a24);_0x9f668b&&(_0x276a24['code']=_0x50bec0(0x202));throw _0x276a24;}},_0x5ade32;},'serverTimestamp':function(){return a18_0x1802f1();},'Timestamp':{'now':function(){const _0x436dd2=a18_0x5eed;return a18_0x46333f[_0x436dd2(0x1f9)]();},'fromDate':function(_0x35bdf1){return a18_0x46333f['fromDate'](_0x35bdf1);}},'enableNetwork':async function(){try{return await enableNetwork(db);}catch(_0x322f0c){console['error']('Failed\x20to\x20enable\x20network:',_0x322f0c);throw _0x322f0c;}},'disableNetwork':async function(){const _0x16bdd1=a18_0x5eed;try{return await disableNetwork(db);}catch(_0x43105e){console[_0x16bdd1(0x1fb)]('Failed\x20to\x20disable\x20network:',_0x43105e);throw _0x43105e;}}};function a18_0x5eed(_0xe63259,_0x6c7ddc){const _0x1f9334=a18_0x1d87();return a18_0x5eed=function(_0xf73af,_0x2f12a2){_0xf73af=_0xf73af-0x1f2;let _0x1d87be=_0x1f9334[_0xf73af];return _0x1d87be;},a18_0x5eed(_0xe63259,_0x6c7ddc);}window['addEventListener']('error',function(_0x272fb8){const _0x175dce=a18_0x5eed;if(_0x272fb8[_0x175dce(0x1fb)]){if(_0x272fb8['error']['code']==='session-suspended')_0x272fb8['preventDefault'](),console[_0x175dce(0x1fd)]('Caught\x20session\x20suspended\x20error:',_0x272fb8[_0x175dce(0x1fb)]['message']);else(_0x272fb8[_0x175dce(0x1fb)]['code']==='unavailable'||_0x272fb8['error']['code']==='resource-exhausted'||_0x272fb8[_0x175dce(0x1fb)][_0x175dce(0x201)]&&_0x272fb8['error']['message'][_0x175dce(0x200)]('network')||_0x272fb8['error']['code']&&_0x272fb8['error']['code']['includes']('network'))&&(_0x272fb8[_0x175dce(0x204)](),console['log']('Caught\x20network\x20error:',_0x272fb8['error']['message']),handleNetworkError());}}),window['rdlFirestore']=rdlFirestore,console['log']('Firestore\x20wrapper\x20initialized\x20with\x20session\x20checking\x20and\x20network\x20error\x20handling');