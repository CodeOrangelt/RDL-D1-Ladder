const a6a0=a6d;(function(a,b){const X=a6d,c=a();while(!![]){try{const d=-parseInt(X(0x105))/0x1+-parseInt(X(0xa2))/0x2+-parseInt(X(0x149))/0x3*(-parseInt(X(0x10c))/0x4)+parseInt(X(0x16f))/0x5*(parseInt(X(0xfe))/0x6)+-parseInt(X(0xc6))/0x7+-parseInt(X(0x102))/0x8*(parseInt(X(0x180))/0x9)+parseInt(X(0xef))/0xa*(parseInt(X(0xd3))/0xb);if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a6c,0x94d20));const a6b=(function(){let a=!![];return function(b,c){const d=a?function(){const Y=a6d;if(c){const e=c[Y(0x12d)](b,arguments);return c=null,e;}}:function(){};return a=![],d;};}()),a6a=a6b(this,function(){const Z=a6d;let a;try{const d=Function(Z(0x174)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');a=d();}catch(f){a=window;}const b=a['console']=a['console']||{},c=['log','warn',Z(0xbd),Z(0x107),Z(0xe0),Z(0x177),Z(0x148)];for(let g=0x0;g<c[Z(0x104)];g++){const h=a6b['constructor'][Z(0x17f)][Z(0x103)](a6b),i=c[g],j=b[i]||h;h['__proto__']=a6b['bind'](a6b),h['toString']=j['toString']['bind'](j),b[i]=h;}});a6a();import{collection,getDocs,addDoc,query,orderBy,limit,startAfter,Timestamp,serverTimestamp,getDoc,doc,where,deleteDoc}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const mutedUsers=[{'username':'Daz','muteFromDate':new Date('2025-07-02')[a6a0(0x133)]()}];function isUsernameMuted(a,b){const a1=a6a0;if(!a)return![];const c=mutedUsers['find'](e=>e[a1(0x15c)]===a);if(!c)return![];if(!b)return!![];const d=b instanceof Date?b['getTime']():b[a1(0xda)]?b[a1(0xda)]*0x3e8:Date[a1(0xd8)]();return d>=c['muteFromDate'];}function filterComment(a,b,c){if(!a)return'-';if(isUsernameMuted(b,c))return'Muted.';return a;}const previewState={'currentMode':'D1','currentPage':0x1,'matchesPerPage':0x5,'lastVisible':null,'firstVisible':null,'isLoading':![],'filterUsername':'','enhancedFilters':{'pilots':'','levels':'','subgames':[]},'totalPages':0x1,'hasReachedEnd':![]};function getCacheKey(a,b,c){const a2=a6a0,d='u:'+(c[a2(0xed)]||'');return'previewCache_'+a+'_p'+b+'_'+d;}function getCachedPage(a){const a3=a6a0,b=sessionStorage['getItem'](a);if(b)try{return JSON[a3(0xfa)](b);}catch(c){return console[a3(0x107)](a3(0x134),c),sessionStorage[a3(0x154)](a),null;}return null;}function cachePage(a,b){const a4=a6a0;try{sessionStorage['setItem'](a,JSON[a4(0xe3)](b));}catch(c){console[a4(0x107)](a4(0xba),c);}}function getEloColor(a){const a5=a6a0,b=Number(a);if(b>=0x7d0)return a5(0x158);else{if(b>=0x708)return'#FFD700';else{if(b>=0x640)return'#b9f1fc';else{if(b>=0x578)return a5(0x13c);else return a5(0x14e);}}}}function a6d(a,b){const c=a6c();return a6d=function(d,e){d=d-0x98;let f=c[d];if(a6d['pDzCnP']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a6d['eZztgV']=g,a=arguments,a6d['pDzCnP']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a6d['eZztgV'](f),a[i]=f):f=j,f;},a6d(a,b);}function formatDate(a,b=![]){const a6=a6a0;if(!a||!a[a6(0xda)])return a6(0x18f);const c=new Date(a[a6(0xda)]*0x3e8);return b?c[a6(0x146)]():c['toLocaleDateString']();}function truncateComment(a,b=0x1e){if(!a)return'-';if(a['length']<=b)return a;return a['substring'](0x0,b)+'...';}function formatCommentDate(a){const a7=a6a0;if(!a||!a[a7(0xda)])return'';const b=new Date(a['seconds']*0x3e8),c=new Date(),d=Math[a7(0xf4)](c-b),e=Math[a7(0x124)](d/(0x3e8*0x3c*0x3c*0x18));if(e===0x0)return a7(0x16a);else{if(e===0x1)return a7(0xad);else return e<0x7?e+'\x20days\x20ago':b['toLocaleDateString']();}}function setLoadingIndicator(a){const a8=a6a0,b=document['getElementById']('loading-indicator');if(b)b['style']['display']=a?a8(0x123):'none';}export function updatePreviewLadderModeUI(){const a9=a6a0,a=document['getElementById'](a9(0x9c)),b=document[a9(0xa7)](a9(0xd2)),c=document[a9(0xa7)]('preview-d2-button'),d=document[a9(0xa7)]('preview-d3-button');if(a)a[a9(0x18e)]=previewState[a9(0x118)];if(b)b[a9(0xb6)][a9(0x109)](a9(0x182),previewState['currentMode']==='D1');if(c)c[a9(0xb6)][a9(0x109)](a9(0x182),previewState['currentMode']==='D2');if(d)d[a9(0xb6)][a9(0x109)](a9(0x182),previewState[a9(0x118)]==='D3');}function updatePreviewPaginationControls(a){const aa=a6a0,b=document[aa(0xa7)]('previewPrevPage'),c=document['getElementById'](aa(0x9e)),d=document[aa(0xa7)]('previewPageInfo');if(!b||!c||!d)return;d[aa(0x18e)]='Page\x20'+previewState[aa(0x14c)],b['disabled']=previewState['currentPage']<=0x1,c[aa(0xdf)]=!a;}function setPreviewLoadingState(a){const ab=a6a0;previewState[ab(0xaf)]=a,setLoadingIndicator(a);const b=document['getElementById']('recent-matches-preview'),c=b?b['querySelector'](ab(0x188)):null,d=document[ab(0xa7)](ab(0x169)),e=document[ab(0xa7)]('previewNextPage'),f=document[ab(0xa7)]('preview-d1-button'),g=document['getElementById']('preview-d2-button'),h=document['getElementById'](ab(0x130)),i=document['getElementById'](ab(0x10b));if(c&&!a)c[ab(0x145)]['display']='none';else c&&a&&(c[ab(0x145)][ab(0x13a)]='block');!a&&b&&!b[ab(0xc0)]('.match-card')&&!b[ab(0xc0)](ab(0x179))&&(b['innerHTML']='<div\x20class=\x22matches-loading\x22>No\x20recent\x20matches\x20found'+(previewState[ab(0xed)]?ab(0x117):'')+'.</div>');if(d)d['disabled']=a||previewState['currentPage']<=0x1;if(e)e['disabled']=a;if(f)f[ab(0xdf)]=a;if(g)g['disabled']=a;if(h)h[ab(0xdf)]=a;if(i)i[ab(0xdf)]=a;}function applyClientFilters(a){const ac=a6a0;if(!previewState[ac(0xed)])return a;const b=previewState['filterUsername']['toLowerCase']();return a[ac(0xcc)](c=>{const ad=ac,d=(c['winnerUsername']||'')['toLowerCase'](),e=(c[ad(0xc2)]||'')['toLowerCase']();return d[ad(0x116)](b)||e[ad(0x116)](b);});}function applyEnhancedClientFilters(a){const ae=a6a0;if(!hasEnhancedFilters())return a;return a[ae(0xcc)](b=>{const af=ae;if(previewState[af(0x106)]['pilots']){const c=previewState[af(0x106)]['pilots']['toLowerCase'](),d=(b[af(0x161)]||'')[af(0x12b)](),e=(b['loserUsername']||'')['toLowerCase']();if(!d[af(0x116)](c)&&!e['includes'](c))return![];}if(previewState['enhancedFilters']['levels']){const f=previewState['enhancedFilters'][af(0xf3)]['toLowerCase'](),g=(b['mapPlayed']||'')[af(0x12b)]();if(!g['includes'](f))return![];}if(previewState['enhancedFilters']['subgames'][af(0x104)]>0x0){const h=b['subgameType']||af(0xbf);if(!previewState['enhancedFilters']['subgames']['includes'](h))return![];}return!![];});}function hasEnhancedFilters(){const ag=a6a0;return previewState['enhancedFilters']['pilots']||previewState['enhancedFilters'][ag(0xf3)]||previewState[ag(0x106)][ag(0xff)]['length']>0x0;}function clearEnhancedFilters(){const ah=a6a0;previewState['enhancedFilters']={'pilots':'','levels':'','subgames':[]},document[ah(0xa7)]('filter-pilots')['value']='',document['getElementById'](ah(0x165))[ah(0x126)]='';const a=document[ah(0xa7)]('filter-subgames');for(let b of a['options']){b[ah(0xd5)]=![];}}function jumpToPage(a){const ai=a6a0,b=document[ai(0xa7)]('jump-to-page'),c=previewState[ai(0x14c)];let d=c;switch(a){case ai(0x187):d=0x1;break;case ai(0x139):d=Math[ai(0xbe)](c+0xa,previewState[ai(0x11c)]||c+0xa);break;case'+1':d=c+0x1;break;case'+5':d=c+0x5;break;case ai(0x125):d=c+0xa;break;case'-1':d=Math['max'](0x1,c-0x1);break;case'-5':d=Math['max'](0x1,c-0x5);break;case'-10':d=Math[ai(0xbe)](0x1,c-0xa);break;case ai(0x9b):const e=parseInt(b[ai(0x126)]);e&&e>0x0&&(d=e,b[ai(0x126)]='');break;}d!==c&&d>0x0&&(previewState['currentPage']=d,loadRecentMatchesPreview('jump'));}export async function loadRecentMatchesPreview(a=a6a0(0xb9)){const aj=a6a0,b=document[aj(0xa7)](aj(0x15b)),c=document['getElementById']('match-card-template');if(previewState['isLoading']||!b||!c)return;a===aj(0xb9)&&(console[aj(0x9f)]('Clearing\x20cache\x20for\x20refresh/reset'),Object['keys'](sessionStorage)[aj(0x11f)](k=>{const ak=aj;k[ak(0x116)](ak(0x11d)+previewState[ak(0x118)])&&sessionStorage['removeItem'](k);}));let d=previewState[aj(0x14c)];if(a===aj(0x11e))d++;else{if(a===aj(0x129))d--;else a===aj(0xb9)&&(d=0x1,previewState[aj(0x191)]=null,previewState['lastVisible']=null);}if(d<0x1)d=0x1;const e=previewState[aj(0x14c)];previewState[aj(0x14c)]=d,updatePreviewPaginationControls(!![]);const f={'filterUsername':previewState['filterUsername']},g=getCacheKey(previewState['currentMode'],d,f),h=a!==aj(0xb9)?getCachedPage(g):null;if(h){console[aj(0x9f)](aj(0x164)+d+'\x20from\x20cache'),setPreviewLoadingState(!![]),renderMatchCards(h['docsData']),updatePreviewPaginationControls(h['hasNextPage']),setPreviewLoadingState(![]);return;}console[aj(0x9f)]('Cache\x20miss\x20for\x20page\x20'+d+aj(0x183)),setPreviewLoadingState(!![]),b['innerHTML']='<div\x20class=\x22matches-loading\x22>Loading\x20recent\x20matches...</div>';const i=previewState['currentMode']==='D1'?aj(0x12f):previewState['currentMode']==='D2'?aj(0xfc):'approvedMatchesD3',j=previewState[aj(0x118)]==='D1'?'createdAt':aj(0xd1);try{const k=collection(window['db'],i);let l=[orderBy(j,'desc')];if(d===0x1)console[aj(0x9f)](aj(0x13e)),l[aj(0xf8)](limit(previewState['matchesPerPage']));else{if(a===aj(0x11e)&&previewState[aj(0x13d)])console['log'](aj(0xf7)),l[aj(0xf8)](startAfter(previewState[aj(0x13d)])),l['push'](limit(previewState['matchesPerPage']));else{console[aj(0x9f)]('No\x20valid\x20cursor,\x20fetching\x20from\x20beginning\x20and\x20skipping\x20pages');const v=d*previewState[aj(0x101)];l['push'](limit(v));}}const m=query(k,...l),n=await getDocs(m);let o=n[aj(0x181)];if(d>0x1&&a!==aj(0x11e)){const w=(d-0x1)*previewState[aj(0x101)];o=o['slice'](w,w+previewState['matchesPerPage']);}if(o[aj(0x104)]===0x0){console['log']('No\x20results\x20found\x20for\x20this\x20page');a==='next'&&(previewState[aj(0x14c)]=e,updatePreviewPaginationControls(![]));b[aj(0xa3)]='<div\x20class=\x22matches-loading\x22>No\x20more\x20matches\x20to\x20display'+(previewState[aj(0xed)]?aj(0x117):'')+'.</div>',setPreviewLoadingState(![]);return;}previewState['firstVisible']=o[0x0],previewState['lastVisible']=o[o['length']-0x1];const r=o['map'](x=>({'id':x['id'],...x[aj(0xb7)]()}));let s=![];if(o[aj(0x104)]===previewState['matchesPerPage']){const x=query(k,orderBy(j,aj(0xb3)),startAfter(previewState['lastVisible']),limit(0x1)),y=await getDocs(x);s=!y[aj(0xa9)];}const t=applyClientFilters(r),u={'docsData':r,'hasNextPage':s};cachePage(getCacheKey(previewState['currentMode'],previewState['currentPage'],f),u);if(d>0x1&&a!=='next')for(let z=0x1;z<d;z++){const A=(z-0x1)*previewState['matchesPerPage'],B=A+previewState[aj(0x101)],C=n[aj(0x181)]['slice'](A,B);if(C[aj(0x104)]>0x0){const D=C[aj(0x15e)](F=>({'id':F['id'],...F['data']()})),E=!![];cachePage(getCacheKey(previewState['currentMode'],z,f),{'docsData':D,'hasNextPage':E}),console['log']('Cached\x20intermediary\x20page\x20'+z);}}t['length']===0x0&&previewState['filterUsername']?b['innerHTML']='<div\x20class=\x22matches-loading\x22>No\x20matches\x20found\x20matching\x20filter:\x20\x22'+previewState['filterUsername']+aj(0x190):renderMatchCards(t),updatePreviewPaginationControls(s);}catch(F){console[aj(0x107)](aj(0x98)+previewState['currentMode']+'\x20matches:',F),b['innerHTML']='<div\x20class=\x22matches-loading\x22\x20style=\x22color:\x20red;\x22>Error\x20loading\x20matches:\x20'+F['message']+'</div>',updatePreviewPaginationControls(![]),previewState[aj(0x14c)]=e;}finally{setPreviewLoadingState(![]);}}async function renderMatchCards(a){const al=a6a0,b=document[al(0xa7)](al(0x15b)),c=document[al(0xa7)](al(0x16e));if(!b||!c)return;!b[al(0xc0)](al(0x179))&&(b['innerHTML']='');if(!a||a[al(0x104)]===0x0){if(!b[al(0xc0)](al(0x179))){const h=hasEnhancedFilters()?al(0x117):previewState[al(0xed)]?'\x20matching\x20filters':'';b[al(0xa3)]=al(0x18a)+h+'.</div>';}return;}const d=applyEnhancedClientFilters(a);if(d['length']===0x0){b[al(0xa3)]='<div\x20class=\x22matches-loading\x22>No\x20matches\x20found\x20matching\x20current\x20filters.</div>';return;}const e=d['map'](i=>getAllCommentsForMatch(i['id']));let f=[];try{f=await Promise['all'](e);}catch(i){console['error'](al(0xb2),i),f=d['map'](()=>[]);}const g={};f['forEach']((j,k)=>{g[d[k]['id']]=j||[];}),d['forEach'](j=>{const am=al,k=c[am(0x172)][am(0xe9)](!![]),l=k['querySelector'](am(0xab)),m=k[am(0xc0)](am(0x11b)),n=getEloRankClass(j['winnerOldElo']);m[am(0xb6)]['add'](am(0x137)+n),m[am(0xc0)]('.match-map')[am(0x18e)]=j['mapPlayed']||'Unknown\x20Map',m[am(0xc0)]('.match-date')[am(0x18e)]=formatDate(j[am(0xd1)]||j[am(0x144)]);const o=m[am(0xc0)](am(0xe8));o[am(0x18e)]=j['winnerUsername']||am(0x12e),o['style']['color']=getEloColor(j[am(0xcb)]),m['querySelector'](am(0xc1))[am(0x18e)]=j['winnerScore']??0x0;const p=m[am(0xc0)]('.player.winner\x20.player-suicides'),q=j['winnerSuicides']||0x0;p[am(0x18e)]='S:\x20'+q;const r=m[am(0xc0)](am(0xa5));r[am(0x18e)]=j['loserUsername']||'Unknown',r['style']['color']=getEloColor(j['loserOldElo']),m['querySelector']('.player.loser\x20.player-score')[am(0x18e)]=j['loserScore']??0x0;const s=m['querySelector']('.player.loser\x20.player-suicides'),t=j['loserSuicides']||0x0;s[am(0x18e)]='S:\x20'+t;const u=m[am(0xc0)]('.match-subgame');if(u){if(j[am(0x12c)]&&j['subgameType'][am(0x15a)]()!==''){u[am(0x18e)]=j[am(0x12c)],u[am(0x145)][am(0x13a)]=am(0x123);const E=getSubgameClass(j[am(0x12c)]);E&&u['classList'][am(0x10e)](E);}else u[am(0x18e)]='Standard\x20Match',u['style']['display']='block',u['style'][am(0x159)]=am(0x17e);}const v=m[am(0xc0)]('.comment.winner-comment'),w=m['querySelector'](am(0xa0)),x=j[am(0xb1)]||'',y=j['loserComment']||'',z=j['approvedAt']||j[am(0x144)],A=filterComment(x,j['winnerUsername'],z),B=filterComment(y,j[am(0xc2)],z);v['textContent']='\x22'+truncateComment(x)+'\x22',w['textContent']='\x22'+truncateComment(y)+'\x22';x&&!isUsernameMuted(j['winnerUsername'],z)?v[am(0x17a)]=()=>showPreviewCommentPopup(A,j['winnerUsername']||'Winner',getEloColor(j[am(0xcb)])):(v['textContent']=A===am(0x12a)?am(0x12a):'-',v['style'][am(0xf6)]=am(0x16c),v[am(0x17a)]=null);y&&!isUsernameMuted(j[am(0xc2)])?w['onclick']=()=>showPreviewCommentPopup(B,j[am(0xc2)]||'Loser',getEloColor(j[am(0xcd)])):(w['textContent']=B===am(0x12a)?'Muted.':'-',w['style'][am(0xf6)]='default',w[am(0x17a)]=null);const C=l?.[am(0xc0)]('.community-comments-section');if(!C)console[am(0x108)]('Comments\x20section\x20not\x20found\x20in\x20template');else{const F=C[am(0xc0)](am(0x175)),G=F?.['querySelector']('.no-comments-message'),H=C[am(0xc0)]('.add-comment-btn');if(F){while(F['firstChild']&&F[am(0x131)]!==G){F['removeChild'](F[am(0x131)]);}H&&H[am(0x122)](am(0xbb),()=>{showAddCommentPopup(j['id']);});const I=g[j['id']]||[];if(I[am(0x104)]>0x0){if(G)G[am(0x145)][am(0x13a)]='none';const J=(K,L)=>{const an=am,M=K['split']('\x20');if(M[an(0x104)]<=L)return K;return M['slice'](0x0,L)[an(0xaa)]('\x20')+'...';};I[am(0x11f)](K=>{const ao=am,L=document[ao(0xa8)](ao(0x189));if(K['type']===ao(0x120)){L['className']=ao(0x162),L[ao(0xa3)]=ao(0xc7)+K[ao(0xd9)]+ao(0x100)+K['username']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22demo-description\x22>'+(K[ao(0x147)]||'No\x20description\x20provided')+ao(0x167);const M=window['auth'][ao(0xbc)],N=M&&K[ao(0xb4)]===M['uid'];if(N){const O=document[ao(0xa8)]('button');O[ao(0xc4)]=ao(0xc9),O['innerHTML']='×',O[ao(0x110)]('aria-label','Delete\x20demo'),O[ao(0x122)]('click',P=>{const ap=ao;P['preventDefault'](),P[ap(0x176)](),deleteComment(K['id'],L);}),L['appendChild'](O);}}else{L[ao(0xc4)]=ao(0xee);const P=isUsernameMuted(K['username'],K['timestamp']),Q=P?'Muted.':J(K[ao(0x166)]||'',0xf),R=K['username']||ao(0xe2),S=window['auth']['currentUser'],T=S&&K[ao(0xb4)]===S[ao(0xce)];let U='';T&&(U='<button\x20class=\x22delete-comment-btn\x22\x20aria-label=\x22Delete\x20comment\x22>×</button>');L[ao(0xa3)]=U+'<strong>'+R+ao(0x151)+Q+'\x22';if(T){const V=L[ao(0xc0)]('.delete-comment-btn');V&&V[ao(0x122)](ao(0xbb),W=>{W['stopPropagation'](),deleteComment(K['id'],L);});}!P?L[ao(0x122)]('click',()=>{showFullCommentLightbox(K);}):L['style'][ao(0xf6)]=ao(0x16c);}F['insertBefore'](L,F[ao(0x131)]);});}else{if(G)G[am(0x145)]['display']='block';}}}const D=m['querySelector']('.match-demo-links');if(D){const K=m['querySelector']('.winner-demo-link'),L=m[am(0xc0)](am(0x115)),M=j[am(0xd0)]||null,N=j['loserDemoLink']||j[am(0xd9)]||null;console['log']('Match\x20'+j['id']+'\x20demo\x20links:',{'winner':M,'loser':N}),K&&(M?(K[am(0x17c)]=M,K[am(0x145)][am(0x13a)]='flex',K[am(0x173)]=j['winnerUsername']+'\x27s\x20Demo'):K['style']['display']='none'),L&&(N?(L[am(0x17c)]=N,L[am(0x145)][am(0x13a)]=am(0x163),L['title']=j[am(0xc2)]+'\x27s\x20Demo'):L['style'][am(0x13a)]=am(0xdd)),M&&K||N&&L?D['style'][am(0x13a)]=am(0x163):D['style']['display']=am(0xdd);}b['appendChild'](k);});}function getSubgameClass(a){const aq=a6a0,b={'Fusion\x20Match':aq(0x16b),'≥6\x20Missiles':'missiles-6plus','≥6\x20missiles':aq(0x119),'Weapon\x20Imbalance':'weapon-imbalance','Blind\x20Match':aq(0x157),'Rematch':aq(0x153),'Disorientation':'disorientation','Ratting':'ratting','Altered\x20Powerups':aq(0xb0),'Mega\x20Match':aq(0x14f),'Dogfight':'dogfight','Gauss\x20and\x20Mercs':aq(0x13b)};return b[a]||'';}async function deleteComment(a,b){const ar=a6a0,c=window['auth'][ar(0xbc)];if(!c){alert('You\x20need\x20to\x20be\x20signed\x20in\x20to\x20delete\x20comments');return;}if(!confirm(ar(0x10a)))return;try{const d=doc(window['db'],ar(0xea),a),e=await getDoc(d);if(!e['exists']()){alert('Comment\x20not\x20found.\x20It\x20may\x20have\x20already\x20been\x20deleted.');return;}const f=e[ar(0xb7)]();if(f['userId']!==c[ar(0xce)]){alert('You\x20can\x20only\x20delete\x20your\x20own\x20comments');return;}await deleteDoc(d);if(b&&b['parentNode']){b[ar(0x140)][ar(0xa4)](b);const g=b[ar(0x17d)]('.comments-container');if(g&&!g['querySelector']('.comment-item')){const h=g[ar(0xc0)](ar(0x14d));if(h)h[ar(0x145)]['display']='block';}}console[ar(0x9f)]('Comment\x20deleted\x20successfully');}catch(i){console['error'](ar(0x15d),i),alert(ar(0x113)+i[ar(0xc8)]);}}async function getAllCommentsForMatch(a){const as=a6a0;if(!a)return[];try{const b=collection(window['db'],'matchComments'),c=query(b,where(as(0x127),'==',a),orderBy(as(0xf0),'desc')),d=await getDocs(c);if(d[as(0xa9)])return[];return d['docs']['map'](e=>({'id':e['id'],...e['data']()}));}catch(e){return console['error']('Error\x20fetching\x20comments:',e),[];}}async function submitComment(a){const at=a6a0;a[at(0x18c)]();if(!window['auth']||!window['db']){console[at(0x107)](at(0xd4)),alert('Unable\x20to\x20submit\x20comment\x20-\x20system\x20not\x20ready');return;}const b=window['auth']['currentUser'];if(!b){alert('You\x20must\x20be\x20signed\x20in\x20to\x20leave\x20a\x20comment');return;}const c=document['getElementById'](at(0xf2))?.['value'],d=document['getElementById'](at(0xdb))?.[at(0x126)]?.['trim']();if(!c||!d){alert(at(0x155));return;}const e=d[at(0xa1)](/\s+/)['filter'](g=>g[at(0x104)]>0x0)[at(0x104)];if(e>0xf){alert(at(0x186));return;}const f=document[at(0xc0)](at(0xfd));f&&(f[at(0xdf)]=!![],f['textContent']=at(0x152));try{let g=at(0xe2);try{const j=doc(window['db'],'userProfiles',b['uid']),k=await getDoc(j);if(k[at(0xde)]()){const l=k['data']();l[at(0x15c)]&&(g=l[at(0x15c)]);}g==='Anonymous'&&b[at(0x18b)]&&(g=b['displayName']);}catch(m){console['warn']('Failed\x20to\x20fetch\x20user\x20profile:',m),b['displayName']&&(g=b[at(0x18b)]);}const h={'matchId':c,'userId':b['uid'],'username':g,'text':d,'timestamp':serverTimestamp()};console['log'](at(0x184),g);const i=collection(window['db'],'matchComments');await addDoc(i,h),console[at(0x9f)](at(0xb5)),closeAddCommentPopup(),loadRecentMatchesPreview('current');}catch(n){console[at(0x107)](at(0x178),n),alert('Failed\x20to\x20add\x20comment:\x20'+n[at(0xc8)]),f&&(f['disabled']=![],f[at(0x18e)]=at(0x143));}}function closeAddCommentPopup(){const au=a6a0,a=document['getElementById'](au(0xcf)),b=document['getElementById'](au(0xe5));if(a)a['style']['display']='none';if(b)b['style']['display']='none';}function showAddCommentPopup(a){const av=a6a0,b=window['auth'][av(0xbc)];if(!b){alert('You\x20need\x20to\x20be\x20signed\x20in\x20to\x20leave\x20a\x20comment\x20or\x20add\x20a\x20demo');return;}let c=document['getElementById'](av(0xcf)),d=document['getElementById'](av(0xe5));!c&&(c=document[av(0xa8)](av(0x189)),c['id']=av(0xcf),c[av(0xc4)]=av(0xa6),document['body']['appendChild'](c));!d&&(d=document[av(0xa8)](av(0x189)),d['id']='commentAddOverlay',d[av(0xc4)]=av(0x138),document[av(0x121)]['appendChild'](d));c[av(0xa3)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22popup-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Add\x20Comment\x20or\x20Demo</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22closeAddCommentPopup\x22\x20class=\x22close-btn\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22addCommentForm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22commentMatchId\x22\x20name=\x22commentMatchId\x22\x20value=\x22'+a+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-tabs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22option-tab\x20active\x22\x20data-option=\x22comment\x22>Add\x20Comment</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22option-divider\x22>OR</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22option-tab\x22\x20data-option=\x22demo\x22>Share\x20Demo\x20Link</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-content\x22\x20id=\x22commentOption\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22commentText\x22>Your\x20comment\x20(15\x20words\x20max):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22commentText\x22\x20name=\x22commentText\x22\x20rows=\x223\x22\x20placeholder=\x22Share\x20your\x20thoughts...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22word-counter\x22><span\x20id=\x22wordCount\x22>0</span>/15\x20words</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-content\x22\x20id=\x22demoOption\x22\x20style=\x22display:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22demoLink\x22>Demo\x20Link:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22url\x22\x20id=\x22demoLink\x22\x20name=\x22demoLink\x22\x20placeholder=\x22https://...\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22demoDescription\x22>Description\x20(20\x20words\x20max):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22demoDescription\x22\x20name=\x22demoDescription\x22\x20rows=\x222\x22\x20placeholder=\x22Describe\x20your\x20demo...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22word-counter\x22><span\x20id=\x22demoWordCount\x22>0</span>/20\x20words</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22submit\x22\x20class=\x22submit-comment-btn\x22>Submit</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</form>\x0a\x20\x20\x20\x20',c[av(0x145)]['display']=av(0x123),d['style'][av(0x13a)]=av(0x123),document[av(0xa7)](av(0x128))[av(0x122)](av(0xbb),closeAddCommentPopup),d[av(0x122)]('click',closeAddCommentPopup);const e=c[av(0xeb)]('.option-tab');e[av(0x11f)](f=>{const aw=av;f['addEventListener'](aw(0xbb),function(){const ax=aw;e[ax(0x11f)](h=>h['classList']['remove']('active')),document[ax(0xeb)]('.option-content')[ax(0x11f)](h=>h[ax(0x145)]['display']='none'),this[ax(0xb6)]['add'](ax(0x182));const g=this[ax(0xd7)][ax(0xe7)];document[ax(0xa7)](g+'Option')[ax(0x145)]['display']='block',g===ax(0x120)?(document['getElementById']('demoLink')['setAttribute']('required',''),document[ax(0xa7)]('commentText')['removeAttribute'](ax(0x160))):(document['getElementById']('demoLink')['removeAttribute'](ax(0x160)),document[ax(0xa7)]('commentText')[ax(0x110)](ax(0x160),''));});}),document[av(0xa7)]('commentText')[av(0x110)](av(0x160),''),document[av(0xa7)]('demoLink')[av(0x141)](av(0x160)),setupWordCounter('commentText',av(0x99),0xf),setupWordCounter('demoDescription','demoWordCount',0x14),document['getElementById']('addCommentForm')[av(0x122)](av(0xac),submitCommentOrDemo);}function setupWordCounter(a,b,c){const ay=a6a0,d=document[ay(0xa7)](a),e=document['getElementById'](b);if(!d||!e)return;f(),d[ay(0x122)]('input',f);function f(){const az=ay,g=d[az(0x126)]['trim'](),h=g?g[az(0xa1)](/\s+/)[az(0xcc)](i=>i[az(0x104)]>0x0)['length']:0x0;e['textContent']=h,h>c?e['style']['color']=az(0x136):e[az(0x145)][az(0xc3)]='#aaa';}}async function submitCommentOrDemo(a){const aA=a6a0;a[aA(0x18c)]();if(!window['auth']||!window['db']){console['error']('Firebase\x20not\x20initialized'),alert(aA(0x142));return;}const b=window[aA(0x171)][aA(0xbc)];if(!b){alert(aA(0x16d));return;}const c=document['getElementById']('commentMatchId')[aA(0x126)],d=document[aA(0xc0)]('.option-tab.active')[aA(0xd7)]['option'];let f=aA(0xe2);try{const h=doc(window['db'],'userProfiles',b[aA(0xce)]),i=await getDoc(h);if(i[aA(0xde)]()){const j=i[aA(0xb7)]();j['username']&&(f=j['username']);}f==='Anonymous'&&b['displayName']&&(f=b['displayName']);}catch(k){console[aA(0x108)](aA(0x9a),k),b[aA(0x18b)]&&(f=b[aA(0x18b)]);}const g=document[aA(0xc0)](aA(0xfd));g&&(g[aA(0xdf)]=!![],g['textContent']=aA(0x152));try{if(d==='comment'){const l=document['getElementById']('commentText')[aA(0x126)][aA(0x15a)]();if(!l){alert(aA(0x155)),g['disabled']=![],g['textContent']='Submit';return;}const m=l['split'](/\s+/)['filter'](p=>p['length']>0x0)[aA(0x104)];if(m>0xf){alert('Comments\x20are\x20limited\x20to\x2015\x20words\x20maximum.\x20Please\x20shorten\x20your\x20comment.'),g['disabled']=![],g[aA(0x18e)]='Submit';return;}const n={'matchId':c,'userId':b['uid'],'username':f,'text':l,'type':'comment','timestamp':serverTimestamp()},o=collection(window['db'],aA(0xea));await addDoc(o,n);}else{const p=document['getElementById']('demoLink')['value'][aA(0x15a)](),q=document['getElementById']('demoDescription')[aA(0x126)][aA(0x15a)]()||'Demo\x20link';if(!p){alert('Please\x20enter\x20a\x20demo\x20link'),g[aA(0xdf)]=![],g[aA(0x18e)]=aA(0x143);return;}try{new URL(p);}catch(u){alert('Please\x20enter\x20a\x20valid\x20URL\x20for\x20the\x20demo\x20link'),g['disabled']=![],g['textContent']='Submit';return;}const r=q[aA(0xa1)](/\s+/)[aA(0xcc)](v=>v['length']>0x0)[aA(0x104)];if(r>0x14){alert('Demo\x20descriptions\x20are\x20limited\x20to\x2020\x20words\x20maximum.\x20Please\x20shorten\x20your\x20description.'),g[aA(0xdf)]=![],g[aA(0x18e)]='Submit';return;}const s={'matchId':c,'userId':b['uid'],'username':f,'demoLink':p,'description':q,'type':'demo','text':'Demo:\x20'+q,'timestamp':serverTimestamp()},t=collection(window['db'],aA(0xea));await addDoc(t,s);}closeAddCommentPopup(),loadRecentMatchesPreview(aA(0xb9));}catch(v){console[aA(0x107)]('Error\x20submitting:',v),alert('Failed\x20to\x20submit:\x20'+v['message']),g&&(g['disabled']=![],g['textContent']='Submit');}}function a6c(){const aR=['DgLTzxn0yw1W','rw50zxi','y29TBwvUDe1HDgnOswq','Bgv2zwXZ','ywjZ','Cg9WDxaTyNrUignSB3nLlwj0BG','y3vYC29Y','tg9HzgLUzYbUzxH0ihbHz2uGDxnPBMCGy3vYC29Y','ChvZAa','zMLSDgvYlxrVz2DSzs1IDxr0B24','CgfYC2u','ywrKq29TBwvUDezVCM0','yxbWCM92zwrnyxrJAgvZrdi','lNn1yM1PDc1JB21Tzw50lwj0BG','nLnAuMrNBq','C3vIz2fTzxm','iIb0yxjNzxq9iL9IBgfUAYiGy2XHC3m9iNbSyxKTAwnVBIi+cIaGicaGicaGicaGicaGicaGicaGicaGicaGicaGicaGicaGidXZDMCGDMLLD0jVEd0ImcaWidi0idi0iJ4kicaGicaGicaGicaGicaGicaGicaGicaGicaGicaGicaGicaGicaGidXWyxrOigq9iK04lduUmtrwmtKUmtrmmtKSmtiUmtrmocW1lJe0wIiGlZ4kicaGicaGicaGicaGicaGicaGicaGicaGicaGicaGicaGicaGpc9ZDMC+cIaGicaGicaGicaGicaGicaGicaGicaGicaGicaGicaGpc9HpGOGicaGicaGicaGicaGicaGicaGicaGicaGicaGicaGidXKAxyGy2XHC3m9iMrLBw8TAw5MBYi+cIaGicaGicaGicaGicaGicaGicaGicaGicaGicaGicaGicaGidXKAxyGy2XHC3m9iMrLBw8Tyxv0Ag9YiJ5ezw1VigzYB20G','Bwf0y2HLC1bLCLbHz2u','nZjYCeXrqwm','yMLUza','BgvUz3rO','ntGZnJG3DurHwfvX','zw5Oyw5JzwrgAwX0zxjZ','zxjYB3i','D2fYBG','Dg9Nz2XL','qxjLihLVDsbZDxjLihLVDsb3yw50ihrVigrLBgv0zsb0AgLZignVBw1LBNq/','y2XLyxjgAwX0zxjcDg4','ntmYndm2A3bKwfzo','yMfJA2DYB3vUzenVBg9Y','ywrK','i2zMzG','C2v0qxr0CMLIDxrL','i2qZmMyYzG','lNbVChvWlwfJDgLVBNm','rMfPBgvKihrVigrLBgv0zsbJB21Tzw50oIa','zMLSDgvYlxn1yMDHBwvZ','lMXVC2vYlwrLBw8TBgLUAW','Aw5JBhvKzxm','ig1HDgnOAw5NigzPBhrLCNm','y3vYCMvUDe1Vzgu','BwLZC2LSzxmTnNbSDxm','A2v5','lM1HDgnOlwnHCMq','Dg90ywXqywDLCW','ChjLDMLLD0nHy2HLxW','BMv4Da','zM9YrwfJAa','zgvTBW','yM9KEq','ywrKrxzLBNrmAxn0zw5LCG','yMXVy2S','zMXVB3i','kZeW','DMfSDwu','Bwf0y2Hjza','y2XVC2vbzgrdB21Tzw50ug9WDxa','ChjLDG','txv0zwqU','Dg9mB3DLCKnHC2u','C3vIz2fTzvr5Cgu','yxbWBhK','vw5RBM93BG','yxbWCM92zwrnyxrJAgvZ','yxbWBhLgAwX0zxjcDg4','zMLYC3rdAgLSza','yxbWBhKTzw5Oyw5JzwqTzMLSDgvYCW','z2v0vgLTzq','rMfPBgvKihrVihbHCNnLignHy2HLoG','BwfYz2LUvg9W','i2zMndq0na','D2LUBMvYlq','y29TBwvUDc1VDMvYBgf5','zw5K','zgLZCgXHEq','z2f1C3mTyw5Klw1LCMnZ','i0nen0yZmG','BgfZDfzPC2LIBgu','tg9HzgLUzYbMAxjZDcbWywDLigzYB20GrMLYzxn0B3jL','rxjYB3iGCMvWB3j0Aw5NignVBw1LBNq6','CgfYzw50tM9Kzq','CMvTB3zLqxr0CMLIDxrL','vw5HyMXLihrVihn1yM1PDcaTihn5C3rLBsbUB3qGCMvHzhK','u3vIBwL0','y3jLyxrLzef0','C3r5Bgu','Dg9mB2nHBgvtDhjPBMC','zgvZy3jPChrPB24','DhjHy2u','m0zzrfjdAq','yMfKq29TBwvUDhm','rMfPBgvKihrVihjLCg9YDcbJB21Tzw50oIa','y3vYCMvUDfbHz2u','lM5VlwnVBw1LBNrZlw1LC3nHz2u','iZGWoda4ma','BwvNys1TyxrJAa','lMP1BxaTyNrU','oJWVC3rYB25NpIaI','u3vIBwL0DgLUzY4UlG','CMvTyxrJAa','CMvTB3zLsxrLBq','ugXLyxnLigvUDgvYigeGy29TBwvUDcbIzwzVCMuGC3vIBwL0DgLUzW','C2vSzwn0zwrpChrPB25Z','yMXPBMqTBwf0y2G','iZuWqZG3oa','B3bHy2L0Eq','DhjPBq','CMvJzw50lw1HDgnOzxmTChjLDMLLDW','DxnLCM5HBwu','rxjYB3iGzgvSzxrPBMCGy29TBwvUDdO','BwfW','qw5VBNLTB3vZifvZzxi','CMvXDwLYzwq','D2LUBMvYvxnLCM5HBwu','zgvTBY1SAw5R','zMXLEa','uMvUzgvYAw5NihbHz2uG','zMLSDgvYlwXLDMvSCW','Dgv4Da','pc9KAxy+cIaGicaGicaGicaGicaGicaGicaGicaGicaGicaGicaGpc9KAxy+cIaGicaGicaGicaGicaGicaGicaGicaGicaGica','CMvWB3j0q29TBwvUDej1DhrVBG','ChjLDMLLD1bYzxzqywDL','vg9KyxK','zNvZAw9Ulw1HDgnO','zgvMyxvSDa','ww91ig11C3qGyMuGC2LNBMvKigLUihrVignVBNrPBNvL','Bwf0y2GTy2fYzc10zw1WBgf0zq','odC1ndi1vxPoz1Dm','y29TBwvUDfbVChvWq29UDgvUDfbYzxzPzxC','yxv0Aa','y29UDgvUDa','DgL0Bgu','CMv0DxjUicHMDw5JDgLVBIGPia','lMnVBw1LBNrZlwnVBNrHAw5LCG','C3rVCfbYB3bHz2f0Aw9U','DgfIBgu','rxjYB3iGC3vIBwL0DgLUzYbJB21Tzw50oG','lM1HDgnOzxmTBg9HzgLUz1TZDhLSzsO9iMnVBg9YoIbYzwqIxq','B25JBgLJAW','C2LSDMvY','AhjLzG','y2XVC2vZDa','mc42','ChjVDg90ExbL','mZu3nte2zMPtBuzu','zg9JCW','ywn0AxzL','lcbMzxrJAgLUzYbMCM9TiezPCMvZDg9Yzq','u3vIBwL0DgLUzYbJB21Tzw50igfZoG','Dw5Yyw5Rzwq','q29TBwvUDhmGyxjLigXPBwL0zwqGDg8GmtuGD29YzhmGBwf4Aw11Bs4GugXLyxnLihnOB3j0zw4GEw91CIbJB21Tzw50lG','C3rHCNq','lM1HDgnOzxmTBg9HzgLUzW','zgL2','pgrPDIbJBgfZCZ0IBwf0y2HLCY1SB2fKAw5NiJ5oBYbYzwnLBNqGBwf0y2HLCYbMB3vUza','zgLZCgXHEu5HBwu','ChjLDMvUDerLzMf1Bhq','y29TBwvUDfbVChvWvgL0BgvqCMv2Awv3','Dgv4DenVBNrLBNq','tI9b','iJWVzgL2pG','zMLYC3rwAxnPyMXL','rxjYB3iGzMv0y2HPBMCG','D29YzenVDw50','rMfPBgvKihrVigzLDgnOihvZzxjUyw1LoG','Aw5WDxq','ChjLDMLLDY1SywrKzxiTBw9Kzq','ww91ig5LzwqGDg8GyMuGC2LNBMvKigLUihrVihjLCg9YDcbJB21Tzw50CW','ChjLDMLLD05LEhrqywDL','Bg9N','lMnVBw1LBNqUBg9ZzxiTy29TBwvUDa','C3bSAxq','odmYndeYtfbHA1fw','Aw5Uzxjive1m','CMvTB3zLq2HPBgq','lNbSyxLLCI5SB3nLCIaUCgXHEwvYlw5HBwu','y29TBwvUDc1WB3b1Ca','z2v0rwXLBwvUDej5swq','y3jLyxrLrwXLBwvUDa','zw1WDhK','AM9PBG','lM1HDgnOlwrPC3bSyxKTD3jHChbLCG','C3vIBwL0','wwvZDgvYzgf5','pc9WpJXZBwfSBcbZDhLSzt0Iy29SB3i6i2fHytSGzgLZCgXHEtPIBg9JAZSGDgv4Dc1HBgLNBJPYAwDODdSGBwfYz2LUlxrVCdOXmhb4oYi+ug9ZDgvKig9Uia','AxnmB2fKAw5N','ywX0zxjLzc1WB3DLCNvWCW','D2LUBMvYq29TBwvUDa','rxjYB3iGzMv0y2HPBMCGy29TBwvUDhmGyMf0y2G6','zgvZyW','DxnLCKLK','q29TBwvUDcbHzgrLzcbZDwnJzxnZzNvSBhK','y2XHC3nmAxn0','zgf0yq','yxbWzw5Kq2HPBgq','y3vYCMvUDa','rMfPBgvKihrVignHy2HLigrHDge6','y2XPy2S','y3vYCMvUDfvZzxi','Aw5MBW','Bwf4','u3rHBMrHCMqGtwf0y2G','CxvLCNLtzwXLy3rVCG','lNbSyxLLCI53Aw5UzxiGlNbSyxLLCI1Zy29Yzq','Bg9ZzxjvC2vYBMfTzq','y29SB3i','y2XHC3noyw1L','vw5RBM93BIbvC2vY','odm1odi4n3PAwMXcDW','cIaGicaGicaGicaGicaGicaGicaGicaGicaGicaGicaGpgeGAhjLzJ0I','BwvZC2fNzq','zgvSzxrLlwnVBw1LBNqTyNrU','q29TBwvUDcbMCM9Tia','D2LUBMvYt2XKrwXV','zMLSDgvY','Bg9ZzxjpBgrfBg8','DwLK','y29TBwvUDefKzfbVChvW','D2LUBMvYrgvTB0XPBMS','yxbWCM92zwrbDa','ChjLDMLLDY1Kms1IDxr0B24','odHHBxLsrhC','rMLYzwjHC2uGBM90igLUAxrPywXPEMvK','C2vSzwn0zwq','yNv0Dg9U','zgf0yxnLDa','BM93','zgvTB0XPBMS','C2vJB25KCW','y29TBwvUDfrLEhq','ANvTCc10BY1WywDL','BM9Uzq','zxHPC3rZ','zgLZywjSzwq','zxHJzxb0Aw9U','ChjLDMLLDY1KmI1IDxr0B24','qw5VBNLTB3vZ','C3rYAw5NAwz5','mtvWEa','y29TBwvUDefKze92zxjSyxK','zw5Oyw5JzwqTzMLSDgvYlxnLy3rPB24','B3b0Aw9U','lNbSyxLLCI53Aw5UzxiGlNbSyxLLCI1Uyw1L','y2XVBMvoB2rL','Bwf0y2HdB21Tzw50CW','CxvLCNLtzwXLy3rVCKfSBa','y29TBwvUDfvZzxi','zMLSDgvYvxnLCM5HBwu','y29TBwvUDc1PDgvT','mZu2nJaZmfDUCLfQsa'];a6c=function(){return aR;};return a6c();}function getEloRankClass(a){const aB=a6a0,b=Number(a);if(b>=0x7d0)return'emerald';else{if(b>=0x708)return'gold';else{if(b>=0x640)return aB(0x17b);else{if(b>=0x578)return'bronze';else return aB(0x185);}}}}function showPreviewCommentPopup(a,b,c=a6a0(0x10f)){const aC=a6a0,d=document[aC(0xa7)]('commentPopupPreview'),e=document[aC(0xa7)]('commentOverlayPreview'),f=document['getElementById'](aC(0x18d)),g=document['getElementById']('commentPopupContentPreview'),h=document[aC(0xa7)](aC(0x168));if(!d||!e||!f||!g||!h)return;d['dataset']['commentText']=a,d[aC(0xd7)]['commentUser']=b,f[aC(0x145)][aC(0xc3)]=c,f['textContent']=aC(0xca)+b,g[aC(0x18e)]=a,h['onclick']=reportComment,d['style']['display']='block',e['style']['display']='block';}function closePreviewCommentPopup(){const aD=a6a0,a=document[aD(0xa7)]('commentPopupPreview'),b=document[aD(0xa7)]('commentOverlayPreview');if(a)a['style'][aD(0x13a)]='none';if(b)b['style'][aD(0x13a)]='none';}async function reportComment(){const aE=a6a0,a=window['auth'][aE(0xbc)];if(!a){alert(aE(0x9d));return;}if(!confirm('Are\x20you\x20sure\x20you\x20want\x20to\x20report\x20this\x20comment\x20as\x20inappropriate?'))return;try{const b=document[aE(0xa7)]('commentPopupPreview'),c={'commentAuthor':b[aE(0xd7)][aE(0xec)]||aE(0xc5),'commentText':b[aE(0xd7)]['commentText']||'','matchId':previewState['currentMatchId']||'','reportedBy':a['uid'],'reporterUsername':a['displayName']||aE(0x15f),'reportedAt':serverTimestamp()},d=collection(window['db'],aE(0x14a));await addDoc(d,c),alert('Thank\x20you.\x20The\x20comment\x20has\x20been\x20reported\x20and\x20will\x20be\x20reviewed.'),closePreviewCommentPopup();}catch(e){console[aE(0x107)](aE(0x13f),e),alert(aE(0x14b)+e[aE(0xc8)]);}}function showFullCommentLightbox(a){const aF=a6a0;if(isUsernameMuted(a['username']))return;const b=document['getElementById']('commentPopupPreview'),c=document['getElementById']('commentOverlayPreview'),d=document[aF(0xa7)]('commentPopupTitlePreview'),e=document['getElementById'](aF(0x170));if(!b||!c||!d||!e)return;d[aF(0x145)]['color']='#fff',d[aF(0x18e)]='Comment\x20from\x20'+a['username'];if(a['timestamp']){const i=new Date(a['timestamp'][aF(0xda)]*0x3e8),j=i[aF(0x146)]();e[aF(0xa3)]='<p>'+a[aF(0x166)]+aF(0xae)+j+'</small>';}else e[aF(0x18e)]=a[aF(0x166)];b[aF(0xd7)]['commentId']=a['id']||'',b[aF(0xd7)]['commentUser']=a['username']||'',b[aF(0xd7)][aF(0xdb)]=a[aF(0x166)]||'',b['dataset']['matchId']=a[aF(0x127)]||'';const f=b['querySelector'](aF(0x112))||document['createElement']('div');!b['querySelector']('.popup-actions')?(f[aF(0xc4)]='popup-actions',f[aF(0x145)][aF(0x13a)]=aF(0x163),f[aF(0x145)]['justifyContent']='center',f[aF(0x145)]['gap']='10px',f[aF(0x145)][aF(0x135)]=aF(0xe4),b['appendChild'](f)):f['innerHTML']='';const g=document[aF(0xa8)](aF(0xd6));g[aF(0x18e)]='Close',g['className']=aF(0xf5),g['id']='closeCommentPopupPreview',g['addEventListener'](aF(0xbb),closePreviewCommentPopup);const h=document['createElement']('button');h[aF(0x18e)]='Report',h['className']='popup-btn\x20report-btn',h[aF(0x145)][aF(0x10d)]=aF(0x111),h['addEventListener'](aF(0xbb),reportComment),f['appendChild'](g),f[aF(0xb8)](h),b[aF(0x145)]['display']='block',c['style'][aF(0x13a)]=aF(0x123);}export function setupPreviewEventListeners(){const aG=a6a0,a=document[aG(0xa7)](aG(0x169)),b=document[aG(0xa7)]('previewNextPage'),c=document['getElementById'](aG(0xd2)),d=document[aG(0xa7)](aG(0xe1)),e=document['getElementById']('preview-d3-button'),f=document[aG(0xa7)](aG(0xf9)),g=document[aG(0xa7)](aG(0xe6));if(!a||!b||!c||!d||!e||!f||!g){console['warn']('Preview\x20UI\x20or\x20Filter\x20elements\x20not\x20found,\x20cannot\x20attach\x20listeners.');return;}a['addEventListener'](aG(0xbb),()=>{const aH=aG;if(!a[aH(0xdf)])loadRecentMatchesPreview('prev');}),b[aG(0x122)]('click',()=>{const aI=aG;if(!b[aI(0xdf)])loadRecentMatchesPreview(aI(0x11e));}),c['addEventListener'](aG(0xbb),()=>{const aJ=aG;previewState[aJ(0x118)]!=='D1'&&!previewState[aJ(0xaf)]&&(previewState[aJ(0x118)]='D1',updatePreviewLadderModeUI(),loadRecentMatchesPreview(aJ(0xb9)));}),d[aG(0x122)]('click',()=>{const aK=aG;previewState[aK(0x118)]!=='D2'&&!previewState[aK(0xaf)]&&(previewState['currentMode']='D2',updatePreviewLadderModeUI(),loadRecentMatchesPreview(aK(0xb9)));}),e[aG(0x122)]('click',()=>{const aL=aG;previewState[aL(0x118)]!=='D3'&&!previewState[aL(0xaf)]&&(previewState[aL(0x118)]='D3',updatePreviewLadderModeUI(),loadRecentMatchesPreview(aL(0xb9)));});f&&g&&f[aG(0x122)]('click',()=>{const aM=aG,r=g[aM(0x145)]['display']!==aM(0xdd);g[aM(0x145)]['display']=r?aM(0xdd):aM(0x123),f['classList'][aM(0x109)](aM(0x182),!r);});const h=document['getElementById'](aG(0x132)),i=document[aG(0xa7)]('clear-enhanced-filters');h&&h[aG(0x122)]('click',()=>{const aN=aG;previewState[aN(0x106)]['pilots']=document[aN(0xa7)]('filter-pilots')['value'][aN(0x15a)](),previewState[aN(0x106)]['levels']=document['getElementById']('filter-levels')[aN(0x126)]['trim']();const r=document['getElementById'](aN(0x114));previewState['enhancedFilters'][aN(0xff)]=Array['from'](r[aN(0x156)])['map'](s=>s[aN(0x126)])[aN(0xcc)](s=>s!==''),loadRecentMatchesPreview('current');});i&&i['addEventListener'](aG(0xbb),()=>{const aO=aG;clearEnhancedFilters(),loadRecentMatchesPreview(aO(0xb9));});document['querySelectorAll'](aG(0x150))[aG(0x11f)](r=>{const aP=aG;r[aP(0x122)](aP(0xbb),()=>{const s=r['dataset']['jump'];jumpToPage(s);});});const j=document['getElementById'](aG(0xdc));j&&j[aG(0x122)]('keypress',r=>{const aQ=aG;r[aQ(0x11a)]===aQ(0xf1)&&jumpToPage('input');});const k=document[aG(0xa7)]('closeCommentPopupPreview'),l=document['getElementById']('commentOverlayPreview');if(k)k[aG(0x122)](aG(0xbb),closePreviewCommentPopup);if(l)l['addEventListener'](aG(0xbb),closePreviewCommentPopup);const m=document[aG(0xa7)]('closeAddCommentPopup'),n=document['getElementById']('commentAddOverlay'),o=document['getElementById'](aG(0xfb));if(m)m[aG(0x122)]('click',closeAddCommentPopup);if(n)n[aG(0x122)](aG(0xbb),closeAddCommentPopup);if(o)o[aG(0x122)]('submit',submitComment);const p=document[aG(0xa7)]('commentText'),q=document['getElementById']('wordCount');p&&q&&setupWordCounter('commentText',aG(0x99),0xf);}window['showAddCommentPopup']=showAddCommentPopup,window['closeAddCommentPopup']=closeAddCommentPopup,window['submitComment']=submitComment;