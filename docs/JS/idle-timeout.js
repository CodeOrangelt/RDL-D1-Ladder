const a0_0x1964a4=a0_0x4a2d;(function(_0xfa527,_0x47a149){const _0x34ea58=a0_0x4a2d,_0x40899a=_0xfa527();while(!![]){try{const _0x2861c3=-parseInt(_0x34ea58(0xef))/0x1*(parseInt(_0x34ea58(0xf7))/0x2)+parseInt(_0x34ea58(0xde))/0x3+parseInt(_0x34ea58(0xbe))/0x4+-parseInt(_0x34ea58(0xdc))/0x5*(-parseInt(_0x34ea58(0xdb))/0x6)+-parseInt(_0x34ea58(0xed))/0x7*(-parseInt(_0x34ea58(0xf8))/0x8)+-parseInt(_0x34ea58(0xd0))/0x9+-parseInt(_0x34ea58(0xcc))/0xa;if(_0x2861c3===_0x47a149)break;else _0x40899a['push'](_0x40899a['shift']());}catch(_0x59d89e){_0x40899a['push'](_0x40899a['shift']());}}}(a0_0x2fd5,0xedcd8));import a0_0x4fbc73,{enhanceIdleTimeout}from'./firebase-idle-wrapper.js';const IDLE_TIMEOUT=0xea60;let idleTimer=null,isSessionSuspended=![],networkErrorRetryCount=0x0;const MAX_NETWORK_RETRIES=0x3;function createIdleOverlay(){const _0xa62be1=a0_0x4a2d;if(document[_0xa62be1(0xf3)]('idle-overlay'))return;const _0x213fa4=document['createElement']('div');_0x213fa4['id']='idle-overlay',_0x213fa4[_0xa62be1(0xe6)]['cssText']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20rgba(0,\x200,\x200,\x200.85);\x0a\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x209999;\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20backdrop-filter:\x20blur(5px);\x0a\x20\x20\x20\x20';const _0x216470=document['createElement']('div');_0x216470[_0xa62be1(0xe6)][_0xa62be1(0xbf)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#202020;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2030px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20500px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x200\x2020px\x20rgba(0,\x200,\x200,\x200.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20';const _0x415c93=document['createElement']('h2');_0x415c93[_0xa62be1(0xf1)]=_0xa62be1(0xc6),_0x415c93['style']['cssText']='color:\x20#50C878;\x20margin-bottom:\x2020px;\x20font-size:\x2024px;';const _0xe6c96c=document[_0xa62be1(0xd5)]('p');_0xe6c96c['textContent']=_0xa62be1(0xf4),_0xe6c96c['style']['cssText']='color:\x20#fff;\x20margin-bottom:\x2030px;';const _0x2dfd42=document[_0xa62be1(0xd5)]('button');_0x2dfd42['id']=_0xa62be1(0xca),_0x2dfd42['textContent']='Return\x20to\x20Website',_0x2dfd42['style']['cssText']=_0xa62be1(0xe0),_0x2dfd42['onmouseover']=function(){this['style']['backgroundColor']='#3da05f';},_0x2dfd42['onmouseout']=function(){const _0x2191bd=_0xa62be1;this[_0x2191bd(0xe6)]['backgroundColor']='#50C878';},_0x216470['appendChild'](_0x415c93),_0x216470['appendChild'](_0xe6c96c),_0x216470['appendChild'](_0x2dfd42),_0x213fa4[_0xa62be1(0xf6)](_0x216470),document['body'][_0xa62be1(0xf6)](_0x213fa4),_0x2dfd42['addEventListener'](_0xa62be1(0xcd),resumeSession),createNetworkErrorOverlay();}function createNetworkErrorOverlay(){const _0x62230a=a0_0x4a2d;if(document['getElementById']('network-error-overlay'))return;const _0x2c1cd4=document[_0x62230a(0xd5)]('div');_0x2c1cd4['id']='network-error-overlay',_0x2c1cd4['style']['cssText']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20rgba(0,\x200,\x200,\x200.85);\x0a\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x209999;\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20backdrop-filter:\x20blur(5px);\x0a\x20\x20\x20\x20';const _0x58a4b7=document[_0x62230a(0xd5)]('div');_0x58a4b7['style'][_0x62230a(0xbf)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#202020;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2030px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20500px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x200\x2020px\x20rgba(0,\x200,\x200,\x200.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20';const _0x30a53e=document[_0x62230a(0xd5)]('h2');_0x30a53e['textContent']='Connection\x20Error',_0x30a53e['style']['cssText']='color:\x20#ff5555;\x20margin-bottom:\x2020px;\x20font-size:\x2024px;';const _0x42dec6=document['createElement']('p');_0x42dec6['textContent']='We\x27re\x20having\x20trouble\x20connecting\x20to\x20the\x20server.\x20This\x20may\x20be\x20due\x20to\x20network\x20issues\x20or\x20server\x20maintenance.',_0x42dec6['style']['cssText']=_0x62230a(0xc0);const _0x2ceb34=document['createElement']('button');_0x2ceb34['id']='retry-connection-btn',_0x2ceb34['textContent']=_0x62230a(0xd2),_0x2ceb34[_0x62230a(0xe6)]['cssText']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#ff5555;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-right:\x2010px;\x0a\x20\x20\x20\x20';const _0x19f17d=document[_0x62230a(0xd5)](_0x62230a(0xd9));_0x19f17d['id']='reload-page-btn',_0x19f17d['textContent']='Reload\x20Page',_0x19f17d['style'][_0x62230a(0xbf)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#5555ff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#fff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s;\x0a\x20\x20\x20\x20';const _0x41ca47=document['createElement']('div');_0x41ca47['style'][_0x62230a(0xbf)]='display:\x20flex;\x20justify-content:\x20center;\x20gap:\x2010px;',_0x41ca47['appendChild'](_0x2ceb34),_0x41ca47['appendChild'](_0x19f17d),_0x58a4b7['appendChild'](_0x30a53e),_0x58a4b7[_0x62230a(0xf6)](_0x42dec6),_0x58a4b7['appendChild'](_0x41ca47),_0x2c1cd4[_0x62230a(0xf6)](_0x58a4b7),document['body']['appendChild'](_0x2c1cd4),_0x2ceb34['addEventListener']('click',retryConnection),_0x19f17d[_0x62230a(0xd4)](_0x62230a(0xcd),()=>window[_0x62230a(0xce)]['reload']());}function resetIdleTimer(){if(isSessionSuspended)return;clearTimeout(idleTimer),idleTimer=setTimeout(suspendSession,IDLE_TIMEOUT);}function handleNetworkError(){const _0x47bbe8=a0_0x4a2d;clearTimeout(idleTimer);const _0x25bd73=document['getElementById']('network-error-overlay');_0x25bd73&&(_0x25bd73[_0x47bbe8(0xe6)]['display']='flex'),window[_0x47bbe8(0xdd)]=!![],console[_0x47bbe8(0xd1)]('Network\x20error\x20detected,\x20showing\x20error\x20overlay'),a0_0x4fbc73['suspendAllListeners']();}function retryConnection(){const _0x58f246=a0_0x4a2d;networkErrorRetryCount++;if(networkErrorRetryCount>MAX_NETWORK_RETRIES){const _0x2ea30c=document['querySelector'](_0x58f246(0xe1));_0x2ea30c&&(_0x2ea30c['textContent']=_0x58f246(0xc8));const _0x2795d8=document['getElementById'](_0x58f246(0xda));_0x2795d8&&(_0x2795d8['disabled']=!![],_0x2795d8['style'][_0x58f246(0xf2)]=_0x58f246(0xc7),_0x2795d8['style'][_0x58f246(0xee)]=_0x58f246(0xd7));return;}const _0x28cfa1=document['getElementById']('network-error-overlay');_0x28cfa1&&(_0x28cfa1['style']['display']='none');window['RDL_NETWORK_ERROR']=![],resetIdleTimer(),console[_0x58f246(0xd1)]('Retrying\x20connection...');try{const {rdlFirestore:_0x5398a3}=window;if(_0x5398a3){const _0x47ce24=_0x5398a3['collection']('system');_0x5398a3[_0x58f246(0xc4)](_0x47ce24)['catch'](_0x3c9f0a=>{console['error']('Connection\x20test\x20failed:',_0x3c9f0a),handleNetworkError();});}}catch(_0x1e6b0b){console['error']('Failed\x20to\x20test\x20connection:',_0x1e6b0b),handleNetworkError();}a0_0x4fbc73['resumeAllListeners']();}function a0_0x2fd5(){const _0x76fa4c=['error','7DuMBkg','cursor','76949sQmfyO','keys','textContent','opacity','getElementById','Your\x20session\x20has\x20been\x20suspended\x20after\x201\x20minutes\x20of\x20inactivity\x20for\x20security\x20reasons.','loading','appendChild','38TiVzva','10985752pAoLHQ','7354184iUOjtk','cssText','color:\x20#fff;\x20margin-bottom:\x2030px;','display','console','warn','getDocs','toString','Session\x20Suspended\x20Due\x20to\x20Inactivity','0.5','Multiple\x20connection\x20attempts\x20failed.\x20Please\x20reload\x20the\x20page\x20or\x20try\x20again\x20later.','Idle\x20timeout\x20initialized:','resume-session-btn','bind','24883620QiSGGR','click','location','mousemove','353304NzteyG','log','Retry\x20Connection','__proto__','addEventListener','createElement','length','not-allowed','apply','button','retry-connection-btn','206226SmVRja','115FXRuLU','RDL_NETWORK_ERROR','2884173nAFXMC','DOMContentLoaded','\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#50C878;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s;\x0a\x20\x20\x20\x20','#network-error-overlay\x20p','RDL_SESSION_SUSPENDED','readyState','activeListeners','reload','style','resumeAllListeners','{}.constructor(\x22return\x20this\x22)(\x20)','network','from','unavailable'];a0_0x2fd5=function(){return _0x76fa4c;};return a0_0x2fd5();}function suspendSession(){const _0xf64874=a0_0x4a2d;isSessionSuspended=!![];const _0x30efbb=document[_0xf64874(0xf3)]('idle-overlay');_0x30efbb&&(_0x30efbb['style']['display']='flex'),console['log']('Session\x20suspended\x20due\x20to\x20inactivity'),window['RDL_SESSION_SUSPENDED']=!![],a0_0x4fbc73['suspendAllListeners']();}function resumeSession(){const _0x54a40a=a0_0x4a2d;isSessionSuspended=![],window['RDL_SESSION_SUSPENDED']=![];const _0x4c68b7=document[_0x54a40a(0xf3)]('idle-overlay');_0x4c68b7&&(_0x4c68b7['style'][_0x54a40a(0xc1)]='none'),console['log']('Session\x20resumed'),resetIdleTimer(),a0_0x4fbc73[_0x54a40a(0xe7)](),idleTimer&&Date['now']()-(window['RDL_LAST_ACTIVITY']||0x0)>IDLE_TIMEOUT*0x2&&(console['log']('Session\x20was\x20idle\x20for\x20too\x20long,\x20reloading\x20page'),window['location'][_0x54a40a(0xe5)]());}function initIdleTimeout(){const _0x2dfd72=a0_0x4a2d,_0xa63386=(function(){let _0x15d634=!![];return function(_0x4d8edb,_0xfcde20){const _0xa80bf2=_0x15d634?function(){const _0x333f41=a0_0x4a2d;if(_0xfcde20){const _0x6bb6c=_0xfcde20[_0x333f41(0xd8)](_0x4d8edb,arguments);return _0xfcde20=null,_0x6bb6c;}}:function(){};return _0x15d634=![],_0xa80bf2;};}()),_0x4adfb6=_0xa63386(this,function(){const _0x185d77=a0_0x4a2d;let _0x19f4a2;try{const _0x8df943=Function('return\x20(function()\x20'+_0x185d77(0xe8)+');');_0x19f4a2=_0x8df943();}catch(_0x28caca){_0x19f4a2=window;}const _0x5decab=_0x19f4a2[_0x185d77(0xc2)]=_0x19f4a2['console']||{},_0x1aee5e=['log',_0x185d77(0xc3),'info','error','exception','table','trace'];for(let _0x39a4d5=0x0;_0x39a4d5<_0x1aee5e[_0x185d77(0xd6)];_0x39a4d5++){const _0x5b1a38=_0xa63386['constructor']['prototype']['bind'](_0xa63386),_0x58f2b1=_0x1aee5e[_0x39a4d5],_0x52ffbd=_0x5decab[_0x58f2b1]||_0x5b1a38;_0x5b1a38[_0x185d77(0xd3)]=_0xa63386['bind'](_0xa63386),_0x5b1a38['toString']=_0x52ffbd[_0x185d77(0xc5)][_0x185d77(0xcb)](_0x52ffbd),_0x5decab[_0x58f2b1]=_0x5b1a38;}});_0x4adfb6(),createIdleOverlay();const _0x52022a=['mousedown',_0x2dfd72(0xcf),'keypress','scroll','touchstart','click'];_0x52022a['forEach'](_0x23237d=>{document['addEventListener'](_0x23237d,()=>{window['RDL_LAST_ACTIVITY']=Date['now'](),resetIdleTimer();},!![]);}),window['addEventListener'](_0x2dfd72(0xec),function(_0x520c8c){const _0xf3ff4=_0x2dfd72;_0x520c8c['error']&&(_0x520c8c['error']['message']&&_0x520c8c['error']['message']['includes'](_0xf3ff4(0xe9))||_0x520c8c['error']['code']&&(_0x520c8c[_0xf3ff4(0xec)]['code']===_0xf3ff4(0xeb)||_0x520c8c['error']['code']==='resource-exhausted'||_0x520c8c['error']['code']['includes']('network')))&&(handleNetworkError(),_0x520c8c['preventDefault']());}),resetIdleTimer(),console[_0x2dfd72(0xd1)](_0x2dfd72(0xc9),IDLE_TIMEOUT,'ms'),window['suspendSession']=suspendSession,window['resumeSession']=resumeSession,enhanceIdleTimeout(),window['checkFirebaseIdleStatus']=function(){const _0x2017a1=_0x2dfd72;return console['log']('Session\x20suspended:',window[_0x2017a1(0xe2)]),console[_0x2017a1(0xd1)]('Network\x20error:',window['RDL_NETWORK_ERROR']),console['log']('Active\x20listeners:',a0_0x4fbc73[_0x2017a1(0xe4)]['size']),console['log']('Pending\x20operations:',a0_0x4fbc73['pendingOperations']['size']),console[_0x2017a1(0xd1)]('Blocked\x20operations:',a0_0x4fbc73['blockedOperations']||0x0),{'suspended':window['RDL_SESSION_SUSPENDED'],'networkError':window['RDL_NETWORK_ERROR'],'activeListeners':Array['from'](a0_0x4fbc73[_0x2017a1(0xe4)][_0x2017a1(0xf0)]()),'pendingOperations':Array[_0x2017a1(0xea)](a0_0x4fbc73['pendingOperations'][_0x2017a1(0xf0)]()),'blockedCount':a0_0x4fbc73['blockedOperations']||0x0};},window['forceIdleTimeout']=function(){console['log']('Forcing\x20idle\x20timeout...'),suspendSession();};}function a0_0x4a2d(_0x231f97,_0x5c163e){const _0x1bc886=a0_0x2fd5();return a0_0x4a2d=function(_0x2e7a92,_0x71eb76){_0x2e7a92=_0x2e7a92-0xbe;let _0x29abad=_0x1bc886[_0x2e7a92];return _0x29abad;},a0_0x4a2d(_0x231f97,_0x5c163e);}export{initIdleTimeout,isSessionSuspended,handleNetworkError};document[a0_0x1964a4(0xe3)]===a0_0x1964a4(0xf5)?document['addEventListener'](a0_0x1964a4(0xdf),initIdleTimeout):initIdleTimeout();