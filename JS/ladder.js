const a25_0x2009da=a25_0x3379,a25_0x521a6d=(function(){let _0x5cd0cf=!![];return function(_0x53718c,_0x50910a){const _0xf0a48f=_0x5cd0cf?function(){if(_0x50910a){const _0x10e7c0=_0x50910a['apply'](_0x53718c,arguments);return _0x50910a=null,_0x10e7c0;}}:function(){};return _0x5cd0cf=![],_0xf0a48f;};}()),a25_0x15ca3d=a25_0x521a6d(this,function(){const _0x4159fc=a25_0x3379;let _0x22dd78;try{const _0x5dcff3=Function(_0x4159fc(0x23e)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x22dd78=_0x5dcff3();}catch(_0x22d41a){_0x22dd78=window;}const _0x1b5041=_0x22dd78['console']=_0x22dd78[_0x4159fc(0x1e9)]||{},_0x2a5cc0=[_0x4159fc(0x256),_0x4159fc(0x1e5),_0x4159fc(0x227),_0x4159fc(0x210),'exception','table','trace'];for(let _0x3f2b2a=0x0;_0x3f2b2a<_0x2a5cc0['length'];_0x3f2b2a++){const _0x5515a4=a25_0x521a6d[_0x4159fc(0x237)][_0x4159fc(0x23a)]['bind'](a25_0x521a6d),_0x3ba2d1=_0x2a5cc0[_0x3f2b2a],_0x3d8cce=_0x1b5041[_0x3ba2d1]||_0x5515a4;_0x5515a4['__proto__']=a25_0x521a6d['bind'](a25_0x521a6d),_0x5515a4[_0x4159fc(0x224)]=_0x3d8cce[_0x4159fc(0x224)]['bind'](_0x3d8cce),_0x1b5041[_0x3ba2d1]=_0x5515a4;}});a25_0x15ca3d();import{db}from'./firebase-config.js';import{collection,getDocs,deleteDoc,doc,getDoc,query,where,updateDoc,Timestamp,onSnapshot,orderBy,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{getRankStyle}from'./ranks.js';import{displayLadderD2}from'./ladderd2.js';import{displayLadderD3}from'./ladderd3.js';import{getAuth}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';import{getLadderData,getEloHistoryBatch,setupEfficientListener}from'./services/firebaseService.js';import{displayLadderDuos}from'./ladderduos.js';import{getTokensByUsernames,getPrimaryDisplayToken}from'./tokens.js';const auth=getAuth();let activeListeners=[];export async function loadLadderData(_0x9029af=0x1){const _0x161730=a25_0x3379;try{document[_0x161730(0x22e)]('loading-indicator')[_0x161730(0x239)]['display']='block';const _0x4059bb=await getLadderData(_0x9029af);_0x4059bb['sort']((_0xfd5e2d,_0x5af5b1)=>_0x5af5b1['elo']-_0xfd5e2d['elo']);const _0x4ef836=_0x4059bb[_0x161730(0x21e)](_0x12f8ef=>_0x12f8ef['id']),_0x5272c4=await getEloHistoryBatch(_0x4ef836,_0x9029af),_0x42d02c=_0x4059bb[_0x161730(0x21e)]((_0x538936,_0x2f377b)=>{const _0x2990d0=_0x161730,_0x4674d8=_0x5272c4[_0x538936['id']]||[],_0x5cf3b5=_0x4674d8[_0x2990d0(0x1e3)]((_0xa42f30,_0x4d539b)=>new Date(_0x4d539b['date'])-new Date(_0xa42f30['date']))['slice'](0x0,0x5);return{..._0x538936,'rank':_0x2f377b+0x1,'lastMatches':_0x5cf3b5,'recentActivity':_0x5cf3b5[_0x2990d0(0x1fe)]>0x0};});renderLadder(_0x42d02c),setupRealTimeUpdates(_0x9029af);}catch(_0x125e96){console['error']('Error\x20loading\x20ladder\x20data:',_0x125e96),document['getElementById']('error-message')['innerText']='Failed\x20to\x20load\x20ladder\x20data.\x20Please\x20try\x20again.';}finally{document[_0x161730(0x22e)]('loading-indicator')[_0x161730(0x239)][_0x161730(0x248)]=_0x161730(0x220);}}function setupRealTimeUpdates(_0x12d448=0x1){const _0x193aa3=a25_0x3379;activeListeners['forEach'](_0x49d5dc=>_0x49d5dc()),activeListeners=[];const _0x3e50f4=_0x12d448===0x1?'players':_0x193aa3(0x1f0)+_0x12d448,_0xa9bda9=_0x12d448===0x1?'matches':'matchesD'+_0x12d448,_0x3a74cf=new Date();_0x3a74cf['setDate'](_0x3a74cf['getDate']()-0x1);const _0x7ad8de=setupEfficientListener(_0xa9bda9,[where('date','>=',_0x3a74cf['toISOString']()),limit(0xa),orderBy('date','desc')],async _0x49ed3f=>{_0x49ed3f['length']>0x0&&await loadLadderData(_0x12d448);});activeListeners['push'](_0x7ad8de);}export function cleanupListeners(){activeListeners['forEach'](_0x38384d=>_0x38384d()),activeListeners=[];}function renderLadder(_0x2363d4){const _0x236099=a25_0x3379,_0x43fe41=document[_0x236099(0x22e)]('ladder-container');_0x43fe41[_0x236099(0x1f4)]='',_0x2363d4['forEach'](_0x283f5e=>{const _0x6afa3a=_0x236099,_0x2da07c=document['createElement']('div');_0x2da07c[_0x6afa3a(0x204)]='ladder-player',_0x2da07c[_0x6afa3a(0x1f4)]='\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22rank\x22>#'+_0x283f5e[_0x6afa3a(0x246)]+_0x6afa3a(0x208)+(_0x283f5e['username']||_0x283f5e['id'])+_0x6afa3a(0x241)+_0x283f5e['elo']+'</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-activity\x20'+(_0x283f5e['recentActivity']?'active':_0x6afa3a(0x203))+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x283f5e['recentActivity']?'Active':'Inactive')+'\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x43fe41['appendChild'](_0x2da07c);});}const playerCache={'data':null,'timestamp':0x0},CACHE_DURATION=0x7530;async function displayLadder(_0xf38f4e=![]){const _0x2f57dd=a25_0x3379,_0x43e164=document['querySelector']('#ladder\x20tbody');if(!_0x43e164){console[_0x2f57dd(0x210)](_0x2f57dd(0x22b));return;}_0x43e164['innerHTML']='<tr><td\x20colspan=\x228\x22\x20class=\x22loading-cell\x22>Loading\x20ladder\x20data...</td></tr>';try{const _0x2bbd1a=Date['now']();if(!_0xf38f4e&&playerCache['data']&&_0x2bbd1a-playerCache['timestamp']<CACHE_DURATION){console[_0x2f57dd(0x256)](_0x2f57dd(0x22d)),updateLadderDisplay(playerCache[_0x2f57dd(0x1e7)]);return;}const _0x55eb42=collection(db,'players'),_0x23266c=await getDocs(_0x55eb42),_0x5d40b2=[];_0x23266c[_0x2f57dd(0x215)](_0x8c09ba=>{const _0x15baeb=_0x2f57dd,_0x538965=_0x8c09ba['data']();_0x5d40b2['push']({..._0x538965,'id':_0x8c09ba['id'],'elo':_0x538965[_0x15baeb(0x1f1)]||0x0,'position':_0x538965['position']||Number[_0x15baeb(0x24b)]});});const _0x3110bd=collection(db,'userProfiles'),_0x2e9e2d=await getDocs(_0x3110bd),_0x284385=new Map();_0x2e9e2d['forEach'](_0xdc526b=>{const _0x4c5a2f=_0x2f57dd,_0x22d0a9=_0xdc526b['data']();_0x22d0a9[_0x4c5a2f(0x205)]&&_0x284385['set'](_0x22d0a9['username'][_0x4c5a2f(0x217)](),_0x22d0a9);}),_0x5d40b2['forEach'](_0xbed3bb=>{const _0x62ebef=_0x2f57dd,_0x28354f=_0xbed3bb['username']?.['toLowerCase']();if(_0x28354f&&_0x284385[_0x62ebef(0x1ee)](_0x28354f)){const _0x36cb62=_0x284385[_0x62ebef(0x1e8)](_0x28354f);_0x36cb62[_0x62ebef(0x1f7)]&&(_0xbed3bb['country']=_0x36cb62[_0x62ebef(0x1f7)]['toLowerCase']());}});const _0x3bca72=_0x5d40b2['map'](_0x1665fc=>_0x1665fc['username']),_0x25e5a4=await fetchBatchMatchStats(_0x3bca72);_0x5d40b2['sort']((_0x42824f,_0x36b42a)=>{const _0x1ccab5=_0x2f57dd,_0x2b9f41=_0x25e5a4[_0x1ccab5(0x1e8)](_0x42824f[_0x1ccab5(0x205)])?.['totalMatches']||0x0,_0x3404e6=_0x25e5a4[_0x1ccab5(0x1e8)](_0x36b42a['username'])?.[_0x1ccab5(0x1e1)]||0x0;if(_0x2b9f41===0x0!==(_0x3404e6===0x0))return _0x2b9f41===0x0?0x1:-0x1;return(_0x42824f['position']||0x3e7)-(_0x36b42a['position']||0x3e7);}),_0x5d40b2['forEach']((_0x46a2b8,_0x4ad0b7)=>{const _0xe560f5=_0x2f57dd;_0x46a2b8[_0xe560f5(0x236)]=_0x4ad0b7+0x1;}),playerCache['data']=_0x5d40b2,playerCache[_0x2f57dd(0x20e)]=_0x2bbd1a,updateLadderDisplay(_0x5d40b2,_0x25e5a4);}catch(_0x28d0cb){console[_0x2f57dd(0x210)]('Error\x20loading\x20ladder:',_0x28d0cb),_0x43e164['innerHTML']=_0x2f57dd(0x235)+_0x28d0cb[_0x2f57dd(0x247)]+_0x2f57dd(0x21f);}}async function fetchBatchMatchStats(_0x5490bd){const _0x45e631=a25_0x3379,_0x5e2de5=new Map();try{_0x5490bd['forEach'](_0x1c5a02=>{_0x5e2de5['set'](_0x1c5a02,{'totalMatches':0x0,'wins':0x0,'losses':0x0,'totalKills':0x0,'totalDeaths':0x0,'kda':0x0,'winRate':0x0});});const _0x555e34=collection(db,'approvedMatches'),_0xb76177=await getDocs(_0x555e34);_0xb76177['forEach'](_0x355c51=>{const _0x11a333=a25_0x3379,_0x26f837=_0x355c51['data'](),_0x646c0b=_0x26f837['winnerUsername'],_0x13513f=_0x26f837[_0x11a333(0x225)];if(_0x5490bd['includes'](_0x646c0b)){const _0x349902=_0x5e2de5['get'](_0x646c0b);_0x349902[_0x11a333(0x23c)]++,_0x349902['totalMatches']++,_0x349902['totalKills']+=parseInt(_0x26f837['winnerScore'])||0x0,_0x349902['totalDeaths']+=parseInt(_0x26f837['loserScore'])||0x0;}if(_0x5490bd[_0x11a333(0x228)](_0x13513f)){const _0x33eea9=_0x5e2de5[_0x11a333(0x1e8)](_0x13513f);_0x33eea9[_0x11a333(0x1fb)]++,_0x33eea9['totalMatches']++,_0x33eea9['totalKills']+=parseInt(_0x26f837['loserScore'])||0x0,_0x33eea9['totalDeaths']+=parseInt(_0x26f837[_0x11a333(0x1f3)])||0x0;}}),_0x5490bd[_0x45e631(0x215)](_0x41a9ea=>{const _0x3c957b=_0x45e631,_0x30e98f=_0x5e2de5[_0x3c957b(0x1e8)](_0x41a9ea);_0x30e98f['kda']=_0x30e98f['totalDeaths']>0x0?(_0x30e98f[_0x3c957b(0x1ea)]/_0x30e98f['totalDeaths'])['toFixed'](0x2):_0x30e98f[_0x3c957b(0x1ea)]['toFixed'](0x2),_0x30e98f[_0x3c957b(0x222)]=_0x30e98f['totalMatches']>0x0?(_0x30e98f['wins']/_0x30e98f[_0x3c957b(0x1e1)]*0x64)['toFixed'](0x1):0x0;});}catch(_0x33d070){console[_0x45e631(0x210)](_0x45e631(0x223),_0x33d070);}return _0x5e2de5;}function a25_0x3379(_0x26bdea,_0x4f4147){const _0x15ca3d=a25_0x265f();return a25_0x3379=function(_0x521a6d,_0x2a8849){_0x521a6d=_0x521a6d-0x1e1;let _0x265f1f=_0x15ca3d[_0x521a6d];return _0x265f1f;},a25_0x3379(_0x26bdea,_0x4f4147);}function createPlayerRow(_0x5c8339,_0x6e3f8a){const _0x2ae528=a25_0x3379,_0x5ab9dc=parseFloat(_0x5c8339['elo'])||0x0;let _0x38e36c='gray';if(_0x5ab9dc>=0x7d0)_0x38e36c='#50C878';else{if(_0x5ab9dc>=0x708)_0x38e36c='#FFD700';else{if(_0x5ab9dc>=0x640)_0x38e36c='#b9f1fc';else _0x5ab9dc>=0x578&&(_0x38e36c='#CD7F32');}}let _0x556371='';return _0x5c8339['country']&&(_0x556371='<img\x20src=\x22../images/flags/'+_0x5c8339['country']['toLowerCase']()+_0x2ae528(0x1ec)+_0x5c8339[_0x2ae528(0x1f7)]+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22player-flag\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22margin-left:\x205px;\x20vertical-align:\x20middle;\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>'),'\x0a\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x5c8339['position']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22profile.html?username='+encodeURIComponent(_0x5c8339['username'])+'&ladder=d1\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22color:\x20'+_0x38e36c+_0x2ae528(0x24e)+_0x5c8339['username']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x556371+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22color:\x20'+_0x38e36c+';\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22elo-container\x22\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22elo-value\x22>'+_0x5ab9dc+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22trend-indicator\x22\x20style=\x22margin-left:\x205px;\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x6e3f8a['totalMatches']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x6e3f8a['wins']+_0x2ae528(0x226)+_0x6e3f8a['losses']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x6e3f8a['kda']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x6e3f8a['winRate']+'%</td>\x0a\x20\x20\x20\x20</tr>';}function getPlayerRankName(_0x72a378){const _0x2280c1=a25_0x3379;if(_0x72a378>=0x7d0)return'Emerald';if(_0x72a378>=0x708)return _0x2280c1(0x24a);if(_0x72a378>=0x640)return'Silver';if(_0x72a378>=0x578)return _0x2280c1(0x20b);return _0x2280c1(0x201);}async function getPlayersLastEloChanges(_0x1edb9e){const _0xe277fa=a25_0x3379,_0x31b42c=new Map();_0x1edb9e['forEach'](_0x57bf2e=>{_0x31b42c['set'](_0x57bf2e,0x0);});try{const _0x131d62=collection(db,'players'),_0x1f2413=await getDocs(_0x131d62),_0x4ef72a=new Map(),_0x2d3645=new Map();_0x1f2413[_0xe277fa(0x215)](_0x111024=>{const _0x11dfcf=_0xe277fa,_0x1fc455=_0x111024['data']();_0x1fc455[_0x11dfcf(0x205)]&&(_0x4ef72a['set'](_0x111024['id'],_0x1fc455['username']),_0x2d3645['set'](_0x1fc455['username'][_0x11dfcf(0x217)](),_0x111024['id']));});const _0x1dee25=collection(db,_0xe277fa(0x243)),_0x37d92c=query(_0x1dee25,orderBy('timestamp','desc'),limit(0x12c)),_0x53eb50=await getDocs(_0x37d92c);if(_0x53eb50[_0xe277fa(0x21c)])return console['log']('ELO\x20history\x20collection\x20is\x20empty'),_0x31b42c;if(_0x53eb50['docs']['length']>0x0){const _0x221ad1=_0x53eb50['docs'][0x0]['data']();if(_0x221ad1['player']&&_0x4ef72a[_0xe277fa(0x1ee)](_0x221ad1['player'])){}}const _0x2d642c=new Map();let _0x22e041=0x0;_0x53eb50['forEach'](_0x16dd17=>{const _0x102b78=_0xe277fa,_0x365448=_0x16dd17['data']();let _0x5a5ee9=null;if(_0x365448['player']&&_0x4ef72a['has'](_0x365448['player']))_0x5a5ee9=_0x4ef72a[_0x102b78(0x1e8)](_0x365448['player']);else{if(_0x365448[_0x102b78(0x205)]&&_0x2d3645['has'](_0x365448['username']['toLowerCase']()))_0x5a5ee9=_0x365448['username'];else _0x365448['playerUsername']&&_0x2d3645['has'](_0x365448['playerUsername'][_0x102b78(0x217)]())&&(_0x5a5ee9=_0x365448['playerUsername']);}_0x5a5ee9&&_0x1edb9e['includes'](_0x5a5ee9)&&(_0x22e041++,!_0x2d642c['has'](_0x5a5ee9)&&_0x2d642c[_0x102b78(0x1e2)](_0x5a5ee9,[]),_0x2d642c['get'](_0x5a5ee9)['push']({..._0x365448,'timestamp':_0x365448['timestamp']?.[_0x102b78(0x229)]||0x0}));}),_0x2d642c[_0xe277fa(0x215)]((_0x5f469f,_0x24467f)=>{const _0x5f45d5=_0xe277fa;if(_0x5f469f['length']>0x0){_0x5f469f['sort']((_0x36352b,_0x1da68c)=>_0x1da68c[_0x5f45d5(0x20e)]-_0x36352b['timestamp']);const _0x213623=_0x5f469f['find'](_0x95ecb3=>_0x95ecb3[_0x5f45d5(0x232)]!==undefined||_0x95ecb3['newElo']!==undefined&&_0x95ecb3['previousElo']!==undefined||_0x95ecb3['newEloRating']!==undefined&&_0x95ecb3['oldEloRating']!==undefined);if(_0x213623){let _0x4c34b6;if(_0x213623['change']!==undefined)_0x4c34b6=parseInt(_0x213623['change']);else{if(_0x213623['newElo']!==undefined&&entry[_0x5f45d5(0x200)]!==undefined)_0x4c34b6=parseInt(_0x213623['newElo'])-parseInt(_0x213623['previousElo']);else _0x213623['newEloRating']!==undefined&&entry['oldEloRating']!==undefined&&(_0x4c34b6=parseInt(_0x213623['newEloRating'])-parseInt(_0x213623['oldEloRating']));}!isNaN(_0x4c34b6)&&_0x4c34b6!==0x0&&_0x31b42c['set'](_0x24467f,_0x4c34b6);}}});}catch(_0x59d6be){console['error']('Error\x20fetching\x20ELO\x20history:',_0x59d6be);}return _0x31b42c;}function createPlayerRowWithToken(_0x4ac5e1,_0xcf4407,_0x40565e){const _0x437e1d=a25_0x3379,_0x26b8f7=parseFloat(_0x4ac5e1['elo'])||0x0;let _0x455655='gray';if(_0x26b8f7>=0x7d0)_0x455655=_0x437e1d(0x23f);else{if(_0x26b8f7>=0x708)_0x455655='#FFD700';else{if(_0x26b8f7>=0x640)_0x455655=_0x437e1d(0x214);else _0x26b8f7>=0x578&&(_0x455655='#CD7F32');}}let _0x58c5e2='';_0x4ac5e1[_0x437e1d(0x1f7)]&&(_0x58c5e2=_0x437e1d(0x21d)+_0x4ac5e1['country'][_0x437e1d(0x217)]()+'.png\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22'+_0x4ac5e1[_0x437e1d(0x1f7)]+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22player-flag\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22margin-left:\x205px;\x20vertical-align:\x20middle;\x20width:\x2020px;\x20height:\x20auto;\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>');let _0x7058a='';return _0x40565e&&(_0x7058a='<img\x20src=\x22'+_0x40565e['tokenImage']+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22'+_0x40565e['tokenName']+_0x437e1d(0x1fd)+_0x40565e[_0x437e1d(0x1f2)]+'\x20'+(_0x40565e['equipped']?'(Equipped)':'')+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22width:\x2035px;\x20height:\x2035px;\x20margin-left:\x205px;\x20vertical-align:\x20middle;\x20object-fit:\x20contain;\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>'),'\x0a\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x4ac5e1[_0x437e1d(0x236)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22profile.html?username='+encodeURIComponent(_0x4ac5e1['username'])+'&ladder=d1\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22color:\x20'+_0x455655+';\x20text-decoration:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4ac5e1['username']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x58c5e2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x7058a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22color:\x20'+_0x455655+';\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22elo-container\x22\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22elo-value\x22>'+_0x26b8f7+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22trend-indicator\x22\x20style=\x22margin-left:\x205px;\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0xcf4407['totalMatches']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0xcf4407['wins']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0xcf4407['losses']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0xcf4407['kda']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0xcf4407['winRate']+_0x437e1d(0x1eb);}function a25_0x265f(){const _0x5b7495=['totalMatches','set','sort','admin-only-message','warn','duos','data','get','console','totalKills','%</td>\x0a\x20\x20\x20\x20</tr>','.png\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22','#ladder\x20tbody','has','active','playersD','eloRating','tokenName','winnerScore','innerHTML','D1\x20toggle\x20clicked','addEventListener','country','#CD7F32','🪙\x20Loaded\x20fresh\x20tokens\x20for','Error\x20finding\x20recommended\x20opponent','losses','elo-recommendation-text-d1','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22player-token\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20title=\x22','length','querySelector','previousElo','Unranked','elo-recommendation-text-d2','inactive','className','username','#4CAF50','0.5','</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-name\x22>','cssText','size','Bronze','onAuthStateChanged','add','timestamp','uid','error','You\x27re\x20not\x20registered\x20on\x20the\x20','block','visibility','#b9f1fc','forEach','No\x20ideal\x20opponent\x20found\x20for\x20your\x20current\x20ELO\x20(','toLowerCase','playersD2','catch','elo-recommendation-text-','remove','empty','<img\x20src=\x22../images/flags/','map','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','none','max','winRate','Error\x20fetching\x20batch\x20match\x20stats:','toString','loserUsername','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','info','includes','seconds','equipped','Ladder\x20table\x20body\x20not\x20found','target','Using\x20cached\x20D1\x20ladder\x20data','getElementById','function','click','Error\x20finding\x20best\x20opponent:','change','cursor','roleName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x228\x22\x20style=\x22text-align:\x20center;\x20color:\x20red;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20ladder\x20data:\x20','position','constructor','currentUser','style','prototype','appendChild','wins','duos-switch','return\x20(function()\x20','#50C878','then','</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-elo\x22>','textContent','eloHistory','No\x20user\x20profile\x20found','querySelectorAll','rank','message','display','DOMContentLoaded','Gold','MAX_SAFE_INTEGER','opacity','Complete\x20your\x20profile\x20to\x20see\x20recommended\x20opponents',';\x20text-decoration:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','checked','join','exists','classList','Error\x20checking\x20','disabled','\x20not\x20found','log'];a25_0x265f=function(){return _0x5b7495;};return a25_0x265f();}async function updateLadderDisplay(_0x5253bc,_0x2c4f8c=null){const _0x27b821=a25_0x3379,_0xf07cb1=document['querySelector'](_0x27b821(0x1ed));if(!_0xf07cb1){console[_0x27b821(0x210)]('Ladder\x20table\x20body\x20not\x20found');return;}const _0x3b2349=document['querySelector']('#ladder\x20thead\x20tr');_0x3b2349&&(_0x3b2349[_0x27b821(0x1f4)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Rank</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Username</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>ELO</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Matches</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Wins</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Losses</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>K/D</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Win\x20Rate</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');const _0x453906=_0x5253bc['map'](_0x27aede=>_0x27aede['username']);!_0x2c4f8c&&(_0x2c4f8c=await fetchBatchMatchStats(_0x453906));let _0x83df95=new Map();try{typeof clearTokenCache===_0x27b821(0x22f)&&clearTokenCache(),_0x83df95=await getTokensByUsernames(_0x453906),console['log'](_0x27b821(0x1f9),_0x83df95[_0x27b821(0x20a)],'players'),_0x83df95['forEach']((_0x2765db,_0x4210d9)=>{const _0x1ae8e3=_0x27b821,_0x14e99c=_0x2765db['find'](_0x49aeda=>_0x49aeda[_0x1ae8e3(0x22a)]);_0x14e99c&&console['log']('🎯\x20'+_0x4210d9+'\x20has\x20equipped:\x20'+_0x14e99c['tokenName']);});}catch(_0xcbab66){console['error']('Error\x20fetching\x20tokens:',_0xcbab66);}const _0x28456e=_0x5253bc[_0x27b821(0x21e)](_0x53549e=>{const _0x5d550e=_0x27b821,_0x3aadab=_0x2c4f8c[_0x5d550e(0x1e8)](_0x53549e['username'])||{'totalMatches':0x0,'wins':0x0,'losses':0x0,'kda':0x0,'winRate':0x0,'totalKills':0x0,'totalDeaths':0x0},_0x55ba53=_0x83df95[_0x5d550e(0x1e8)](_0x53549e[_0x5d550e(0x205)])||[],_0x3b4175=getPrimaryDisplayToken(_0x55ba53);return _0x3b4175&&console['log']('🎨\x20'+_0x53549e['username']+'\x20displaying\x20token:\x20'+_0x3b4175['tokenName']+'\x20(equipped:\x20'+_0x3b4175['equipped']+')'),createPlayerRowWithToken(_0x53549e,_0x3aadab,_0x3b4175);})[_0x27b821(0x250)]('');_0xf07cb1['innerHTML']=_0x28456e,getPlayersLastEloChanges(_0x453906)[_0x27b821(0x240)](_0x446ef1=>{const _0x3744f3=_0x27b821,_0x3da84b=new Map();_0xf07cb1[_0x3744f3(0x245)]('tr')['forEach']((_0x4cec6d,_0x39f422)=>{const _0x1b516e=_0x3744f3;_0x39f422<_0x453906['length']&&_0x3da84b[_0x1b516e(0x1e2)](_0x453906[_0x39f422],_0x4cec6d);}),_0x446ef1['forEach']((_0x486f1b,_0x3fdd64)=>{const _0x4199e3=_0x3744f3,_0xc47ce7=_0x3da84b['get'](_0x3fdd64);if(_0xc47ce7&&_0x486f1b!==0x0){const _0xf86ab=_0xc47ce7['querySelector']('td:nth-child(3)');if(_0xf86ab){const _0xe3dba1=_0x486f1b>0x0?'+'+_0x486f1b:''+_0x486f1b,_0x515e08=_0xf86ab[_0x4199e3(0x1ff)]('.trend-indicator');_0x515e08&&(_0x515e08[_0x4199e3(0x242)]=_0xe3dba1,_0x515e08[_0x4199e3(0x239)]['color']=_0x486f1b>0x0?_0x4199e3(0x206):'#F44336',_0x515e08['style']['fontWeight']='bold',_0x515e08[_0x4199e3(0x239)]['fontSize']='0.85em',_0x515e08[_0x4199e3(0x239)]['display']='inline',_0x515e08[_0x4199e3(0x239)][_0x4199e3(0x213)]='visible',_0x515e08['style']['opacity']='1');}}});})[_0x27b821(0x219)](_0x4a4103=>console['error']('Error\x20updating\x20ELO\x20trend\x20indicators:',_0x4a4103));}function initLadderToggles(){const _0x1b115d=a25_0x3379,_0x5d317b=document['getElementById']('d1-switch'),_0x3eea51=document[_0x1b115d(0x22e)]('d2-switch'),_0xdc39cb=document['getElementById']('d3-switch'),_0x4fe563=document['getElementById'](_0x1b115d(0x23d)),_0x41aca3=document['getElementById']('d1-ladder-container'),_0x202034=document['getElementById']('d2-ladder-container'),_0x32d5fb=document['getElementById']('d3-ladder-container'),_0x1b6cab=document['getElementById']('duos-ladder-container');function _0x267280(){const _0x353e11=_0x1b115d;if(_0x41aca3)_0x41aca3['classList'][_0x353e11(0x21b)]('active');if(_0x202034)_0x202034['classList'][_0x353e11(0x21b)]('active');if(_0x32d5fb)_0x32d5fb['classList']['remove']('active');if(_0x1b6cab)_0x1b6cab['style']['display']='none';if(_0x41aca3)_0x41aca3[_0x353e11(0x239)]['display']='none';if(_0x202034)_0x202034['style']['display']='none';if(_0x32d5fb)_0x32d5fb['style']['display']=_0x353e11(0x220);}_0x5d317b&&_0x5d317b['addEventListener'](_0x1b115d(0x230),()=>{const _0x10f54a=_0x1b115d;console['log'](_0x10f54a(0x1f5)),_0x267280();_0x41aca3&&(_0x41aca3['classList'][_0x10f54a(0x20d)](_0x10f54a(0x1ef)),_0x41aca3[_0x10f54a(0x239)][_0x10f54a(0x248)]='block');document['getElementById']('elo-recommendation-text-d1')['style']['display']='block',document['getElementById']('elo-recommendation-text-d2')['style']['display']=_0x10f54a(0x220),document['getElementById']('elo-recommendation-text-d3')['style']['display']='none';if(_0x5d317b)_0x5d317b[_0x10f54a(0x252)]['add'](_0x10f54a(0x1ef));if(_0x3eea51)_0x3eea51['classList']['remove']('active');if(_0xdc39cb)_0xdc39cb['classList']['remove'](_0x10f54a(0x1ef));displayLadder(),findBestOpponent('d1');}),_0x3eea51&&_0x3eea51[_0x1b115d(0x1f6)]('click',()=>{const _0x3db008=_0x1b115d;console['log']('D2\x20toggle\x20clicked'),_0x267280();_0x202034&&(_0x202034['classList'][_0x3db008(0x20d)]('active'),_0x202034[_0x3db008(0x239)]['display']=_0x3db008(0x212));document['getElementById']('elo-recommendation-text-d1')['style']['display']=_0x3db008(0x220),document['getElementById'](_0x3db008(0x202))['style']['display']='block',document['getElementById']('elo-recommendation-text-d3')['style'][_0x3db008(0x248)]='none';if(_0x3eea51)_0x3eea51[_0x3db008(0x252)][_0x3db008(0x20d)](_0x3db008(0x1ef));if(_0x5d317b)_0x5d317b['classList'][_0x3db008(0x21b)]('active');if(_0xdc39cb)_0xdc39cb[_0x3db008(0x252)][_0x3db008(0x21b)]('active');displayLadderD2(),findBestOpponent('d2');}),_0xdc39cb&&_0xdc39cb[_0x1b115d(0x1f6)]('click',()=>{const _0x514c7e=_0x1b115d;console['log']('D3\x20toggle\x20clicked'),_0x267280();_0x32d5fb&&(_0x32d5fb['classList']['add']('active'),_0x32d5fb[_0x514c7e(0x239)]['display']='block');document['getElementById'](_0x514c7e(0x1fc))['style']['display']='none',document['getElementById']('elo-recommendation-text-d2')[_0x514c7e(0x239)]['display']=_0x514c7e(0x220),document[_0x514c7e(0x22e)]('elo-recommendation-text-d3')['style']['display']=_0x514c7e(0x212);if(_0xdc39cb)_0xdc39cb['classList']['add']('active');if(_0x5d317b)_0x5d317b['classList'][_0x514c7e(0x21b)]('active');if(_0x3eea51)_0x3eea51[_0x514c7e(0x252)][_0x514c7e(0x21b)](_0x514c7e(0x1ef));displayLadderD3(),findBestOpponent('d3');}),_0x4fe563&&_0x4fe563['addEventListener']('click',()=>{const _0x178d60=_0x1b115d;_0x267280();if(_0x1b6cab)_0x1b6cab['style']['display']=_0x178d60(0x212);displayLadderDuos(),findBestOpponent(_0x178d60(0x1e6)),document['getElementById']('elo-recommendation-text-duos')&&(document['getElementById']('elo-recommendation-text-duos')['style']['display']=_0x178d60(0x212)),document['getElementById'](_0x178d60(0x1fc))['style'][_0x178d60(0x248)]='none',document[_0x178d60(0x22e)](_0x178d60(0x202))[_0x178d60(0x239)]['display']='none',document[_0x178d60(0x22e)]('elo-recommendation-text-d3')['style']['display']='none';});}document['addEventListener'](a25_0x2009da(0x249),()=>{const _0x4bb917=a25_0x2009da;initLadderToggles(),displayLadder(),findBestOpponent('d1'),document[_0x4bb917(0x22e)](_0x4bb917(0x1fc))['style']['display']='block';});export{displayLadder};async function findBestOpponent(_0x91dde='d1'){const _0x1849f8=a25_0x2009da,_0x4c1fd1=_0x1849f8(0x21a)+_0x91dde,_0x342156=document[_0x1849f8(0x22e)](_0x4c1fd1);if(!_0x342156){console[_0x1849f8(0x210)]('Recommendation\x20element\x20for\x20'+_0x91dde+_0x1849f8(0x255));return;}const _0x2d95e9=auth['currentUser'];if(!_0x2d95e9){_0x342156['textContent']='';return;}try{const _0x5f3be8=doc(db,'userProfiles',_0x2d95e9['uid']),_0x566dbc=await getDoc(_0x5f3be8);if(!_0x566dbc['exists']()){console[_0x1849f8(0x256)](_0x1849f8(0x244)),_0x342156['textContent']=_0x1849f8(0x24d);return;}const _0x566d4c=_0x566dbc['data'](),_0xb8569e=_0x566d4c['username'];if(!_0xb8569e){_0x342156[_0x1849f8(0x242)]='Set\x20your\x20username\x20to\x20see\x20recommended\x20opponents';return;}let _0x2f870e;switch(_0x91dde){case'd1':_0x2f870e='players';break;case'd2':_0x2f870e=_0x1849f8(0x218);break;case'd3':_0x2f870e='playersD3';break;case'duos':_0x2f870e='playersDuos';break;default:_0x2f870e='players';}if(_0x91dde===_0x1849f8(0x1e6)){const _0x14275f=collection(db,_0x2f870e),_0x6fe8b1=query(_0x14275f,where(_0x1849f8(0x205),'==',_0xb8569e)),_0x812f35=await getDocs(_0x6fe8b1);if(_0x812f35[_0x1849f8(0x21c)]){_0x342156[_0x1849f8(0x242)]='You\x27re\x20not\x20registered\x20on\x20the\x20DUOS\x20ladder';return;}const _0x4b2e2b=_0x812f35['docs'][0x0][_0x1849f8(0x1e7)](),_0x1126e3=parseInt(_0x4b2e2b['eloRating'])||0x4b0;if(_0x4b2e2b['hasTeam']&&_0x4b2e2b['teammate']){_0x342156['innerHTML']='You\x27re\x20teamed\x20with\x20<span\x20class=\x22recommendation-highlight\x22>'+_0x4b2e2b['teammate']+'</span>.\x20Challenge\x20other\x20teams!';return;}const _0x5d7f9e=await getDocs(_0x14275f);let _0x44e43c=null,_0x58355b=-0x1;_0x5d7f9e['forEach'](_0x50da42=>{const _0x3bec88=_0x1849f8,_0x37e66f=_0x50da42['data']();if(_0x37e66f[_0x3bec88(0x205)]===_0xb8569e)return;if(_0x37e66f['hasTeam'])return;const _0x198dce=parseInt(_0x37e66f['eloRating'])||0x4b0,_0x191350=Math['abs'](_0x198dce-_0x1126e3),_0x554c44=Math[_0x3bec88(0x221)](0x0,0xc8-_0x191350);_0x554c44>_0x58355b&&(_0x44e43c=_0x37e66f,_0x58355b=_0x554c44);});if(_0x44e43c){const _0x214db9=parseInt(_0x44e43c[_0x1849f8(0x1f1)])||0x4b0;let _0x4adee1='gray';if(_0x214db9>=0x7d0)_0x4adee1='#50C878';else{if(_0x214db9>=0x708)_0x4adee1='#FFD700';else{if(_0x214db9>=0x640)_0x4adee1='#C0C0C0';else _0x214db9>=0x578&&(_0x4adee1='#CD7F32');}}_0x342156[_0x1849f8(0x1f4)]='Looking\x20for\x20a\x20teammate?\x20Consider\x20<span\x20class=\x22recommendation-highlight\x22\x20style=\x22color:\x20'+_0x4adee1+';\x22>'+_0x44e43c['username']+'</span>\x20(ELO:\x20'+_0x214db9+')';}else _0x342156[_0x1849f8(0x242)]='No\x20available\x20teammates\x20found.\x20More\x20players\x20needed\x20on\x20DUOS\x20ladder!';return;}const _0x5b0026=collection(db,_0x2f870e),_0x99de5a=query(_0x5b0026,where('username','==',_0xb8569e)),_0x5730f2=await getDocs(_0x99de5a);if(_0x5730f2[_0x1849f8(0x21c)]){_0x342156['textContent']=_0x1849f8(0x211)+_0x91dde['toUpperCase']()+'\x20ladder';return;}const _0x2d49ae=_0x5730f2['docs'][0x0]['data'](),_0x3edbd0=parseInt(_0x2d49ae['eloRating'])||0x5dc,_0x13d28f=await getDocs(_0x5b0026);let _0x5b20f0=null,_0x59f9f2=-0x1;const _0x59e78d=getPlayerRankName(_0x3edbd0);_0x13d28f[_0x1849f8(0x215)](_0x40f1bd=>{const _0x5a0cbf=_0x1849f8,_0x3d95a9=_0x40f1bd[_0x5a0cbf(0x1e7)]();if(_0x3d95a9[_0x5a0cbf(0x205)]===_0xb8569e)return;const _0x303573=parseInt(_0x3d95a9[_0x5a0cbf(0x1f1)])||0x5dc,_0x42e007=getPlayerRankName(_0x303573),_0x5b1eab=Math['abs'](_0x303573-_0x3edbd0),_0x3d7e19=0x20,_0x415971=0x1/(0x1+Math['pow'](0xa,(_0x303573-_0x3edbd0)/0x190)),_0x3e6ac8=Math['round'](_0x3d7e19*(0x1-_0x415971));if(_0x3e6ac8<=0x0)return;let _0x12ca5a=0x0;const _0x18d295=Math['max'](0x0,0x64-_0x5b1eab*0.5),_0x2610ac=_0x3e6ac8>=0x3&&_0x3e6ac8<=0x8?0x32:_0x3e6ac8>0x0&&_0x3e6ac8<0xf?0x1e:0xa,_0x3ad506=_0x59e78d===_0x42e007?0x28:0x0;_0x12ca5a=_0x18d295+_0x2610ac+_0x3ad506,_0x12ca5a>_0x59f9f2&&(_0x5b20f0=_0x3d95a9,_0x59f9f2=_0x12ca5a);});if(_0x5b20f0){const _0x5113bc=parseInt(_0x5b20f0['eloRating'])||0x5dc;let _0x567db0='gray';if(_0x5113bc>=0x7d0)_0x567db0='#50C878';else{if(_0x5113bc>=0x708)_0x567db0='#FFD700';else{if(_0x5113bc>=0x640)_0x567db0='#b9f1fc';else _0x5113bc>=0x578&&(_0x567db0=_0x1849f8(0x1f8));}}_0x342156['innerHTML']='Based\x20on\x20your\x20ELO\x20('+_0x3edbd0+'),\x20you\x20should\x20be\x20playing\x20<span\x20class=\x22recommendation-highlight\x22\x20style=\x22color:\x20'+_0x567db0+';\x22>'+_0x5b20f0[_0x1849f8(0x205)]+'</span>';}else _0x342156['innerHTML']=_0x1849f8(0x216)+_0x3edbd0+')';}catch(_0x413be0){console['error'](_0x1849f8(0x231),_0x413be0),_0x342156[_0x1849f8(0x242)]=_0x1849f8(0x1fa);}}auth[a25_0x2009da(0x20c)](_0x5186f4=>{const _0x3a3499=a25_0x2009da,_0x2a346e=document['getElementById']('d1-ladder-container')&&document['getElementById']('d1-ladder-container')[_0x3a3499(0x239)]['display']!=='none',_0xe77a93=document['getElementById']('d2-ladder-container')&&document['getElementById']('d2-ladder-container')['style'][_0x3a3499(0x248)]!=='none',_0x5bc4ed=document['getElementById']('d3-ladder-container')&&document['getElementById']('d3-ladder-container')['style']['display']!=='none',_0x2c0244=document[_0x3a3499(0x22e)]('duos-ladder-container')&&document['getElementById']('duos-ladder-container')['style']['display']!=='none',_0x23478b=_0x2a346e?'d1':_0xe77a93?'d2':_0x5bc4ed?'d3':_0x2c0244?'duos':'d1';findBestOpponent(_0x23478b);}),document[a25_0x2009da(0x1f6)](a25_0x2009da(0x249),()=>{const _0x54f381=document['getElementById']('duos-switch'),_0x297ef0=document['querySelector']('label[for=\x22duos-switch\x22]');_0x54f381&&_0x297ef0&&(_0x54f381['addEventListener']('change',async _0x5a44ae=>{const _0x35e2d3=a25_0x3379;if(_0x5a44ae[_0x35e2d3(0x22c)][_0x35e2d3(0x24f)]){const _0xc5210c=auth?.[_0x35e2d3(0x238)],_0xd26d5f=await checkIfUserIsAdmin(_0xc5210c);if(!_0xd26d5f){_0x5a44ae['preventDefault']();const _0x3f16b0=document['getElementById']('d1-switch');return _0x3f16b0&&(_0x3f16b0[_0x35e2d3(0x24f)]=!![],_0x3f16b0['dispatchEvent'](new Event(_0x35e2d3(0x232)))),showAdminOnlyMessage(),![];}}}),auth['onAuthStateChanged'](async _0x222940=>{const _0x5e061b=a25_0x3379,_0xaf6ad=await checkIfUserIsAdmin(_0x222940);!_0xaf6ad?(_0x54f381[_0x5e061b(0x254)]=!![],_0x297ef0['style'][_0x5e061b(0x24c)]=_0x5e061b(0x207),_0x297ef0['style'][_0x5e061b(0x233)]='not-allowed',_0x297ef0['title']='Duos\x20ladder\x20is\x20currently\x20admin-only'):(_0x54f381['disabled']=![],_0x297ef0[_0x5e061b(0x239)]['opacity']='1',_0x297ef0['style']['cursor']='pointer',_0x297ef0['title']='');}));});async function checkIfUserIsAdmin(_0x4055b2){const _0x943bcb=a25_0x2009da;if(!_0x4055b2)return![];try{const _0x2a6a83=['admin@ladder.com','brian2af@outlook.com'];if(_0x4055b2['email']&&_0x2a6a83[_0x943bcb(0x228)](_0x4055b2['email'][_0x943bcb(0x217)]()))return!![];const _0x467f7d=['userProfiles','players','playersD2','playersD3'],_0x303520=['admin','owner','council','creative\x20lead'];for(const _0x326b6b of _0x467f7d){try{const _0x521571=doc(db,_0x326b6b,_0x4055b2[_0x943bcb(0x20f)]),_0x440221=await getDoc(_0x521571);if(_0x440221[_0x943bcb(0x251)]()){const _0x577677=_0x440221['data'](),_0x555b88=(_0x577677[_0x943bcb(0x234)]||_0x577677['role']||'')[_0x943bcb(0x217)]();if(_0x555b88&&_0x303520['includes'](_0x555b88))return!![];}}catch(_0x38b5f4){console['warn'](_0x943bcb(0x253)+_0x326b6b+':',_0x38b5f4);}}return![];}catch(_0x1f1e2b){return console['error']('Error\x20checking\x20admin\x20status:',_0x1f1e2b),![];}}function showAdminOnlyMessage(){const _0x2ca068=a25_0x2009da,_0x2a5ba2=document['getElementById'](_0x2ca068(0x1e4));_0x2a5ba2&&_0x2a5ba2['remove']();const _0x500c95=document['createElement']('div');_0x500c95['id']=_0x2ca068(0x1e4),_0x500c95[_0x2ca068(0x239)][_0x2ca068(0x209)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translate(-50%,\x20-50%);\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#2a2a2a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x202px\x20solid\x20#ff6b6b;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ff6b6b;\x0a\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.5);\x0a\x20\x20\x20\x20',_0x500c95[_0x2ca068(0x1f4)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<strong>🔒\x20Duos\x20Ladder\x20-\x20Admin\x20Only</strong><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20style=\x22color:\x20#ccc;\x22>Currently\x20in\x20testing\x20phase</span>\x0a\x20\x20\x20\x20',document['body'][_0x2ca068(0x23b)](_0x500c95),setTimeout(()=>{const _0x1a77d3=_0x2ca068;_0x500c95['parentNode']&&_0x500c95[_0x1a77d3(0x21b)]();},0xbb8);}