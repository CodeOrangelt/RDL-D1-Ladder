(function(_0x82035b,_0x4cfdfa){const _0x15757d=a0_0x2c8b,_0x2e6ee4=_0x82035b();while(!![]){try{const _0x47991a=parseInt(_0x15757d(0x97))/0x1+parseInt(_0x15757d(0xb7))/0x2+parseInt(_0x15757d(0xb0))/0x3*(-parseInt(_0x15757d(0x9a))/0x4)+-parseInt(_0x15757d(0xbc))/0x5+-parseInt(_0x15757d(0xc8))/0x6*(-parseInt(_0x15757d(0x93))/0x7)+-parseInt(_0x15757d(0xa2))/0x8*(-parseInt(_0x15757d(0xb4))/0x9)+-parseInt(_0x15757d(0xab))/0xa*(-parseInt(_0x15757d(0xaf))/0xb);if(_0x47991a===_0x4cfdfa)break;else _0x2e6ee4['push'](_0x2e6ee4['shift']());}catch(_0xf276a9){_0x2e6ee4['push'](_0x2e6ee4['shift']());}}}(a0_0x3d39,0x6bc7d));import a0_0xa98f79,{enhanceIdleTimeout}from'./firebase-idle-wrapper.js';const IDLE_TIMEOUT=0xea60;let idleTimer=null,isSessionSuspended=![],networkErrorRetryCount=0x0;const MAX_NETWORK_RETRIES=0x3;function createIdleOverlay(){const _0x43b258=a0_0x2c8b;if(document['getElementById'](_0x43b258(0x92)))return;const _0x1d91f3=document['createElement'](_0x43b258(0xb1));_0x1d91f3['id']='idle-overlay',_0x1d91f3['style']['cssText']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20rgba(0,\x200,\x200,\x200.85);\x0a\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x209999;\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20backdrop-filter:\x20blur(5px);\x0a\x20\x20\x20\x20';const _0x46e0e6=document['createElement'](_0x43b258(0xb1));_0x46e0e6['style']['cssText']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#202020;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2030px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20500px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x200\x2020px\x20rgba(0,\x200,\x200,\x200.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20';const _0x4e8a15=document['createElement']('h2');_0x4e8a15['textContent']='Session\x20Suspended\x20Due\x20to\x20Inactivity',_0x4e8a15[_0x43b258(0xc7)][_0x43b258(0xbd)]='color:\x20#50C878;\x20margin-bottom:\x2020px;\x20font-size:\x2024px;';const _0x304f2d=document['createElement']('p');_0x304f2d['textContent']='Your\x20session\x20has\x20been\x20suspended\x20after\x201\x20minutes\x20of\x20inactivity\x20for\x20security\x20reasons.',_0x304f2d['style']['cssText']='color:\x20#fff;\x20margin-bottom:\x2030px;';const _0x4e27af=document[_0x43b258(0xc6)]('button');_0x4e27af['id']=_0x43b258(0xac),_0x4e27af[_0x43b258(0x94)]='Return\x20to\x20Website',_0x4e27af[_0x43b258(0xc7)][_0x43b258(0xbd)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#50C878;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s;\x0a\x20\x20\x20\x20',_0x4e27af['onmouseover']=function(){this['style']['backgroundColor']='#3da05f';},_0x4e27af[_0x43b258(0x98)]=function(){this['style']['backgroundColor']='#50C878';},_0x46e0e6['appendChild'](_0x4e8a15),_0x46e0e6['appendChild'](_0x304f2d),_0x46e0e6['appendChild'](_0x4e27af),_0x1d91f3['appendChild'](_0x46e0e6),document['body'][_0x43b258(0xaa)](_0x1d91f3),_0x4e27af['addEventListener']('click',resumeSession),createNetworkErrorOverlay();}function a0_0x3d39(){const _0x571dd7=['160361nQjREE','onmouseout','disabled','4miePyQ','none','toString','network-error-overlay','resumeAllListeners','error','We\x27re\x20having\x20trouble\x20connecting\x20to\x20the\x20server.\x20This\x20may\x20be\x20due\x20to\x20network\x20issues\x20or\x20server\x20maintenance.','Session\x20resumed','152BmfMhr','#network-error-overlay\x20p','log','RDL_NETWORK_ERROR','Forcing\x20idle\x20timeout...','retry-connection-btn','pendingOperations','addEventListener','appendChild','62680OJtPFp','resume-session-btn','network','keys','407iUjKyD','669726BVzaHw','div','display:\x20flex;\x20justify-content:\x20center;\x20gap:\x2010px;','activeListeners','97029SdftyV','Failed\x20to\x20test\x20connection:','RDL_LAST_ACTIVITY','200244nKPorD','display','flex','Active\x20listeners:','blockedOperations','4133915FZsfQo','cssText','getElementById','now','reload','cursor','catch','prototype','button','console','createElement','style','6qAZFTX','code','idle-overlay','5559792diVzrQ','textContent','RDL_SESSION_SUSPENDED','querySelector'];a0_0x3d39=function(){return _0x571dd7;};return a0_0x3d39();}function createNetworkErrorOverlay(){const _0x301600=a0_0x2c8b;if(document['getElementById'](_0x301600(0x9d)))return;const _0x17fef2=document['createElement']('div');_0x17fef2['id']='network-error-overlay',_0x17fef2[_0x301600(0xc7)]['cssText']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20rgba(0,\x200,\x200,\x200.85);\x0a\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x209999;\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20backdrop-filter:\x20blur(5px);\x0a\x20\x20\x20\x20';const _0x7d6ca4=document['createElement'](_0x301600(0xb1));_0x7d6ca4['style']['cssText']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#202020;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2030px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20500px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x200\x2020px\x20rgba(0,\x200,\x200,\x200.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20';const _0x4dd47c=document[_0x301600(0xc6)]('h2');_0x4dd47c['textContent']='Connection\x20Error',_0x4dd47c['style'][_0x301600(0xbd)]='color:\x20#ff5555;\x20margin-bottom:\x2020px;\x20font-size:\x2024px;';const _0x336314=document['createElement']('p');_0x336314['textContent']=_0x301600(0xa0),_0x336314['style'][_0x301600(0xbd)]='color:\x20#fff;\x20margin-bottom:\x2030px;';const _0x18e1e4=document[_0x301600(0xc6)](_0x301600(0xc4));_0x18e1e4['id']=_0x301600(0xa7),_0x18e1e4[_0x301600(0x94)]='Retry\x20Connection',_0x18e1e4['style'][_0x301600(0xbd)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#ff5555;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-right:\x2010px;\x0a\x20\x20\x20\x20';const _0x4146b9=document['createElement']('button');_0x4146b9['id']='reload-page-btn',_0x4146b9['textContent']='Reload\x20Page',_0x4146b9['style'][_0x301600(0xbd)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#5555ff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#fff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s;\x0a\x20\x20\x20\x20';const _0x12fe7b=document[_0x301600(0xc6)]('div');_0x12fe7b['style']['cssText']=_0x301600(0xb2),_0x12fe7b[_0x301600(0xaa)](_0x18e1e4),_0x12fe7b['appendChild'](_0x4146b9),_0x7d6ca4['appendChild'](_0x4dd47c),_0x7d6ca4['appendChild'](_0x336314),_0x7d6ca4[_0x301600(0xaa)](_0x12fe7b),_0x17fef2['appendChild'](_0x7d6ca4),document['body']['appendChild'](_0x17fef2),_0x18e1e4['addEventListener']('click',retryConnection),_0x4146b9['addEventListener']('click',()=>window['location'][_0x301600(0xc0)]());}function resetIdleTimer(){if(isSessionSuspended)return;clearTimeout(idleTimer),idleTimer=setTimeout(suspendSession,IDLE_TIMEOUT);}function handleNetworkError(){const _0x3d7ff1=a0_0x2c8b;clearTimeout(idleTimer);const _0x28a7e6=document['getElementById'](_0x3d7ff1(0x9d));_0x28a7e6&&(_0x28a7e6['style']['display']='flex'),window['RDL_NETWORK_ERROR']=!![],console['log']('Network\x20error\x20detected,\x20showing\x20error\x20overlay'),a0_0xa98f79['suspendAllListeners']();}function retryConnection(){const _0x4f3c66=a0_0x2c8b;networkErrorRetryCount++;if(networkErrorRetryCount>MAX_NETWORK_RETRIES){const _0x23c169=document[_0x4f3c66(0x96)](_0x4f3c66(0xa3));_0x23c169&&(_0x23c169[_0x4f3c66(0x94)]='Multiple\x20connection\x20attempts\x20failed.\x20Please\x20reload\x20the\x20page\x20or\x20try\x20again\x20later.');const _0x562894=document[_0x4f3c66(0xbe)]('retry-connection-btn');_0x562894&&(_0x562894[_0x4f3c66(0x99)]=!![],_0x562894[_0x4f3c66(0xc7)]['opacity']='0.5',_0x562894['style'][_0x4f3c66(0xc1)]='not-allowed');return;}const _0x3b20aa=document['getElementById']('network-error-overlay');_0x3b20aa&&(_0x3b20aa['style'][_0x4f3c66(0xb8)]=_0x4f3c66(0x9b));window['RDL_NETWORK_ERROR']=![],resetIdleTimer(),console['log']('Retrying\x20connection...');try{const {rdlFirestore:_0x408b1c}=window;if(_0x408b1c){const _0x3420da=_0x408b1c['collection']('system');_0x408b1c['getDocs'](_0x3420da)[_0x4f3c66(0xc2)](_0x332128=>{console['error']('Connection\x20test\x20failed:',_0x332128),handleNetworkError();});}}catch(_0x4a35b2){console['error'](_0x4f3c66(0xb5),_0x4a35b2),handleNetworkError();}a0_0xa98f79[_0x4f3c66(0x9e)]();}function suspendSession(){const _0x55154f=a0_0x2c8b;isSessionSuspended=!![];const _0x348a3a=document['getElementById'](_0x55154f(0x92));_0x348a3a&&(_0x348a3a['style']['display']=_0x55154f(0xb9)),console['log']('Session\x20suspended\x20due\x20to\x20inactivity'),window['RDL_SESSION_SUSPENDED']=!![],a0_0xa98f79['suspendAllListeners']();}function resumeSession(){const _0x32bddf=a0_0x2c8b;isSessionSuspended=![],window[_0x32bddf(0x95)]=![];const _0x32bd29=document['getElementById']('idle-overlay');_0x32bd29&&(_0x32bd29['style'][_0x32bddf(0xb8)]=_0x32bddf(0x9b)),console['log'](_0x32bddf(0xa1)),resetIdleTimer(),a0_0xa98f79['resumeAllListeners'](),idleTimer&&Date['now']()-(window[_0x32bddf(0xb6)]||0x0)>IDLE_TIMEOUT*0x2&&(console['log']('Session\x20was\x20idle\x20for\x20too\x20long,\x20reloading\x20page'),window['location']['reload']());}function a0_0x2c8b(_0x25f75f,_0x7f2245){const _0x38583c=a0_0x3d39();return a0_0x2c8b=function(_0x29051a,_0x73b6bb){_0x29051a=_0x29051a-0x91;let _0x5ba4e5=_0x38583c[_0x29051a];return _0x5ba4e5;},a0_0x2c8b(_0x25f75f,_0x7f2245);}function initIdleTimeout(){const _0x4a4e03=(function(){let _0x2a6697=!![];return function(_0x469acb,_0x1c8148){const _0x5dff3a=_0x2a6697?function(){if(_0x1c8148){const _0x4ff348=_0x1c8148['apply'](_0x469acb,arguments);return _0x1c8148=null,_0x4ff348;}}:function(){};return _0x2a6697=![],_0x5dff3a;};}()),_0x86a3cd=_0x4a4e03(this,function(){const _0x199b90=a0_0x2c8b,_0x68fbf4=function(){let _0x1968b1;try{_0x1968b1=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x3be897){_0x1968b1=window;}return _0x1968b1;},_0x3f2a4d=_0x68fbf4(),_0x427c45=_0x3f2a4d[_0x199b90(0xc5)]=_0x3f2a4d['console']||{},_0x1516ff=['log','warn','info',_0x199b90(0x9f),'exception','table','trace'];for(let _0x35b42d=0x0;_0x35b42d<_0x1516ff['length'];_0x35b42d++){const _0x4c11c5=_0x4a4e03['constructor'][_0x199b90(0xc3)]['bind'](_0x4a4e03),_0xe5acd4=_0x1516ff[_0x35b42d],_0xa2e1ea=_0x427c45[_0xe5acd4]||_0x4c11c5;_0x4c11c5['__proto__']=_0x4a4e03['bind'](_0x4a4e03),_0x4c11c5['toString']=_0xa2e1ea[_0x199b90(0x9c)]['bind'](_0xa2e1ea),_0x427c45[_0xe5acd4]=_0x4c11c5;}});_0x86a3cd(),createIdleOverlay();const _0x160718=['mousedown','mousemove','keypress','scroll','touchstart','click'];_0x160718['forEach'](_0x264649=>{const _0x317e4f=a0_0x2c8b;document[_0x317e4f(0xa9)](_0x264649,()=>{const _0x492851=_0x317e4f;window['RDL_LAST_ACTIVITY']=Date[_0x492851(0xbf)](),resetIdleTimer();},!![]);}),window['addEventListener']('error',function(_0x2448cf){const _0x4cf24d=a0_0x2c8b;_0x2448cf[_0x4cf24d(0x9f)]&&(_0x2448cf['error']['message']&&_0x2448cf['error']['message']['includes'](_0x4cf24d(0xad))||_0x2448cf[_0x4cf24d(0x9f)]['code']&&(_0x2448cf[_0x4cf24d(0x9f)][_0x4cf24d(0x91)]==='unavailable'||_0x2448cf['error']['code']==='resource-exhausted'||_0x2448cf['error']['code']['includes'](_0x4cf24d(0xad))))&&(handleNetworkError(),_0x2448cf['preventDefault']());}),resetIdleTimer(),console['log']('Idle\x20timeout\x20initialized:',IDLE_TIMEOUT,'ms'),window['suspendSession']=suspendSession,window['resumeSession']=resumeSession,enhanceIdleTimeout(),window['checkFirebaseIdleStatus']=function(){const _0x217040=a0_0x2c8b;return console['log']('Session\x20suspended:',window['RDL_SESSION_SUSPENDED']),console['log']('Network\x20error:',window[_0x217040(0xa5)]),console['log'](_0x217040(0xba),a0_0xa98f79['activeListeners']['size']),console['log']('Pending\x20operations:',a0_0xa98f79['pendingOperations']['size']),console[_0x217040(0xa4)]('Blocked\x20operations:',a0_0xa98f79[_0x217040(0xbb)]||0x0),{'suspended':window[_0x217040(0x95)],'networkError':window[_0x217040(0xa5)],'activeListeners':Array['from'](a0_0xa98f79[_0x217040(0xb3)][_0x217040(0xae)]()),'pendingOperations':Array['from'](a0_0xa98f79[_0x217040(0xa8)]['keys']()),'blockedCount':a0_0xa98f79[_0x217040(0xbb)]||0x0};},window['forceIdleTimeout']=function(){const _0x46ff40=a0_0x2c8b;console['log'](_0x46ff40(0xa6)),suspendSession();};}export{initIdleTimeout,isSessionSuspended,handleNetworkError};document['readyState']==='loading'?document['addEventListener']('DOMContentLoaded',initIdleTimeout):initIdleTimeout();