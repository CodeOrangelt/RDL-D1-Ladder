const a0_0xd38ac2=a0_0x1c2a;(function(_0x3d6e76,_0x47b10e){const _0x5cbd6c=a0_0x1c2a,_0x204bef=_0x3d6e76();while(!![]){try{const _0x11cc85=parseInt(_0x5cbd6c(0x235))/0x1*(parseInt(_0x5cbd6c(0x254))/0x2)+parseInt(_0x5cbd6c(0x243))/0x3*(-parseInt(_0x5cbd6c(0x1ef))/0x4)+-parseInt(_0x5cbd6c(0x21a))/0x5+-parseInt(_0x5cbd6c(0x21f))/0x6*(parseInt(_0x5cbd6c(0x1d5))/0x7)+-parseInt(_0x5cbd6c(0x219))/0x8*(-parseInt(_0x5cbd6c(0x253))/0x9)+parseInt(_0x5cbd6c(0x23e))/0xa+-parseInt(_0x5cbd6c(0x206))/0xb*(-parseInt(_0x5cbd6c(0x1d0))/0xc);if(_0x11cc85===_0x47b10e)break;else _0x204bef['push'](_0x204bef['shift']());}catch(_0x5aa4bf){_0x204bef['push'](_0x204bef['shift']());}}}(a0_0x3b13,0x455be));const a0_0x2bd1d0=(function(){let _0x5594c2=!![];return function(_0x26bbe9,_0x4bd0c4){const _0x127f66=_0x5594c2?function(){const _0x3d891a=a0_0x1c2a;if(_0x4bd0c4){const _0x3ff75e=_0x4bd0c4[_0x3d891a(0x1f3)](_0x26bbe9,arguments);return _0x4bd0c4=null,_0x3ff75e;}}:function(){};return _0x5594c2=![],_0x127f66;};}()),a0_0x5a1677=a0_0x2bd1d0(this,function(){const _0x14d297=a0_0x1c2a;let _0x28a3e0;try{const _0x328c42=Function(_0x14d297(0x22f)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x28a3e0=_0x328c42();}catch(_0x3ddbd4){_0x28a3e0=window;}const _0x2da9f6=_0x28a3e0['console']=_0x28a3e0['console']||{},_0xfca2c=['log','warn','info','error','exception',_0x14d297(0x258),'trace'];for(let _0x36685f=0x0;_0x36685f<_0xfca2c[_0x14d297(0x22d)];_0x36685f++){const _0x2f9fd1=a0_0x2bd1d0['constructor']['prototype']['bind'](a0_0x2bd1d0),_0x232488=_0xfca2c[_0x36685f],_0x40d019=_0x2da9f6[_0x232488]||_0x2f9fd1;_0x2f9fd1['__proto__']=a0_0x2bd1d0['bind'](a0_0x2bd1d0),_0x2f9fd1[_0x14d297(0x205)]=_0x40d019['toString']['bind'](_0x40d019),_0x2da9f6[_0x232488]=_0x2f9fd1;}});a0_0x5a1677();import{collection,getDocs,addDoc,query,orderBy,limit,startAfter,Timestamp,serverTimestamp,getDoc,doc,where,deleteDoc}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';function a0_0x1c2a(_0x4c8e35,_0x26ae8a){const _0x4de76f=a0_0x3b13();return a0_0x1c2a=function(_0x5a1677,_0x2bd1d0){_0x5a1677=_0x5a1677-0x1bb;let _0x1f49da=_0x4de76f[_0x5a1677];return _0x1f49da;},a0_0x1c2a(_0x4c8e35,_0x26ae8a);}const mutedUsers=[{'username':'Daz','muteFromDate':new Date('2025-07-02')[a0_0xd38ac2(0x280)]()}];function isUsernameMuted(_0x9b25d3,_0x28190b){const _0x27fe97=a0_0xd38ac2;if(!_0x9b25d3)return![];const _0x3d4d10=mutedUsers['find'](_0x12c565=>_0x12c565[_0x27fe97(0x1ed)]===_0x9b25d3);if(!_0x3d4d10)return![];if(!_0x28190b)return!![];const _0x327c17=_0x28190b instanceof Date?_0x28190b['getTime']():_0x28190b['seconds']?_0x28190b['seconds']*0x3e8:Date['now']();return _0x327c17>=_0x3d4d10['muteFromDate'];}function filterComment(_0x4e1c7d,_0x50c8be,_0x3ea02b){if(!_0x4e1c7d)return'-';if(isUsernameMuted(_0x50c8be,_0x3ea02b))return'Muted.';return _0x4e1c7d;}const previewState={'currentMode':'D1','currentPage':0x1,'matchesPerPage':0x5,'lastVisible':null,'firstVisible':null,'isLoading':![],'filterUsername':'','enhancedFilters':{'pilots':'','levels':'','subgames':[]},'totalPages':0x1,'hasReachedEnd':![]};function getCacheKey(_0x34df0c,_0x3b91e1,_0x1dcf32){const _0x44ffb7=a0_0xd38ac2,_0x5533ea='u:'+(_0x1dcf32[_0x44ffb7(0x1e3)]||'');return _0x44ffb7(0x1c0)+_0x34df0c+'_p'+_0x3b91e1+'_'+_0x5533ea;}function getCachedPage(_0x26fbd7){const _0x2fb1a1=sessionStorage['getItem'](_0x26fbd7);if(_0x2fb1a1)try{return JSON['parse'](_0x2fb1a1);}catch(_0x3517d5){return console['error']('Failed\x20to\x20parse\x20cache:',_0x3517d5),sessionStorage['removeItem'](_0x26fbd7),null;}return null;}function cachePage(_0x42910c,_0x3e0af6){const _0x5d34cf=a0_0xd38ac2;try{sessionStorage['setItem'](_0x42910c,JSON['stringify'](_0x3e0af6));}catch(_0x3a8fe1){console[_0x5d34cf(0x25d)]('Failed\x20to\x20cache\x20data:',_0x3a8fe1);}}function getEloColor(_0x34f772){const _0x439c64=Number(_0x34f772);if(_0x439c64>=0x7d0)return'#50C878';else{if(_0x439c64>=0x708)return'#FFD700';else{if(_0x439c64>=0x640)return'#b9f1fc';else{if(_0x439c64>=0x578)return'#CD7F32';else return'#808080';}}}}function formatDate(_0x3623ab,_0x148eab=![]){if(!_0x3623ab||!_0x3623ab['seconds'])return'N/A';const _0x448c8b=new Date(_0x3623ab['seconds']*0x3e8);return _0x148eab?_0x448c8b['toLocaleString']():_0x448c8b['toLocaleDateString']();}function truncateComment(_0x8b3476,_0x451c46=0x1e){if(!_0x8b3476)return'-';if(_0x8b3476['length']<=_0x451c46)return _0x8b3476;return _0x8b3476['substring'](0x0,_0x451c46)+'...';}function formatCommentDate(_0x2d4c44){const _0x19b2fe=a0_0xd38ac2;if(!_0x2d4c44||!_0x2d4c44['seconds'])return'';const _0x436995=new Date(_0x2d4c44['seconds']*0x3e8),_0x438ec6=new Date(),_0x4acb82=Math['abs'](_0x438ec6-_0x436995),_0x56c017=Math[_0x19b2fe(0x20b)](_0x4acb82/(0x3e8*0x3c*0x3c*0x18));if(_0x56c017===0x0)return'Today';else{if(_0x56c017===0x1)return _0x19b2fe(0x1eb);else return _0x56c017<0x7?_0x56c017+'\x20days\x20ago':_0x436995['toLocaleDateString']();}}function setLoadingIndicator(_0x4282e3){const _0x1dc060=a0_0xd38ac2,_0x1b79c3=document['getElementById']('loading-indicator');if(_0x1b79c3)_0x1b79c3['style']['display']=_0x4282e3?_0x1dc060(0x26a):'none';}export function updatePreviewLadderModeUI(){const _0x218dc7=a0_0xd38ac2,_0x31f200=document['getElementById'](_0x218dc7(0x1cf)),_0x841c28=document[_0x218dc7(0x240)]('preview-d1-button'),_0x3c69b8=document['getElementById']('preview-d2-button'),_0x4a411c=document[_0x218dc7(0x240)]('preview-d3-button');if(_0x31f200)_0x31f200['textContent']=previewState[_0x218dc7(0x1f5)];if(_0x841c28)_0x841c28['classList']['toggle']('active',previewState['currentMode']==='D1');if(_0x3c69b8)_0x3c69b8[_0x218dc7(0x20d)][_0x218dc7(0x24b)]('active',previewState['currentMode']==='D2');if(_0x4a411c)_0x4a411c[_0x218dc7(0x20d)]['toggle']('active',previewState['currentMode']==='D3');}function a0_0x3b13(){const _0x1d42e4=['split','.matches-loading[style*=\x22color:\x20red\x22]','ratting','docs','preview-ladder-mode','3998532qpluYB','.match-date','title','demo','closeAddCommentPopup','1938559TaTRGL','<div\x20class=\x22matches-loading\x22>No\x20recent\x20matches\x20found','Please\x20enter\x20a\x20valid\x20URL\x20for\x20the\x20demo\x20link','from','gold','value','warn','Submit','add','Unknown','Please\x20enter\x20a\x20comment\x20before\x20submitting','toLowerCase','removeAttribute','closeCommentPopupPreview','filterUsername','winnerSuicides','commentAddPopup','required','rematch','dataset','\x20from\x20cache','Option','Yesterday','current','username','#d32f2f','36xOQKwr','gauss-and-mercs','parentNode','filter-pilots','apply','match-card-template','currentMode','matchesPerPage','flex','commentMatchId','currentPage','click','commentUser','pilots','Loading\x20first\x20page\x20from\x20Firestore','trim','enhancedFilters','onclick','Clearing\x20cache\x20for\x20refresh/reset','display','lastVisible','firstVisible','toString','22XCHgUa','dogfight','input','levels','addCommentForm','floor','appendChild','classList','isLoading','Error\x20submitting\x20comment:','commentAddOverlay','option','hasNextPage','style','log','\x20matching\x20filters','previewPrevPage','wordCount','.popup-actions','96wRnEcs','2731320egrZXR','auth','removeChild','totalPages','active','6MBSJib','demoLink','silver','uid','showAddCommentPopup','desc','stopPropagation','<button\x20class=\x22delete-comment-btn\x22\x20aria-label=\x22Delete\x20comment\x22>×</button>','matchId','jump','className','map','previewNextPage','forEach','length','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-tabs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22option-tab\x20active\x22\x20data-option=\x22comment\x22>Add\x20Comment</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22option-divider\x22>OR</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22option-tab\x22\x20data-option=\x22demo\x22>Share\x20Demo\x20Link</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-content\x22\x20id=\x22commentOption\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22commentText\x22>Your\x20comment\x20(15\x20words\x20max):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22commentText\x22\x20name=\x22commentText\x22\x20rows=\x223\x22\x20placeholder=\x22Share\x20your\x20thoughts...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22word-counter\x22><span\x20id=\x22wordCount\x22>0</span>/15\x20words</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-content\x22\x20id=\x22demoOption\x22\x20style=\x22display:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22demoLink\x22>Demo\x20Link:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22url\x22\x20id=\x22demoLink\x22\x20name=\x22demoLink\x22\x20placeholder=\x22https://...\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22demoDescription\x22>Description\x20(20\x20words\x20max):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22demoDescription\x22\x20name=\x22demoDescription\x22\x20rows=\x222\x22\x20placeholder=\x22Describe\x20your\x20demo...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22word-counter\x22><span\x20id=\x22demoWordCount\x22>0</span>/20\x20words</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22submit\x22\x20class=\x22submit-comment-btn\x22>Submit</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</form>\x0a\x20\x20\x20\x20','return\x20(function()\x20','filter','default','createElement','filter-levels','subgameType','28751THNoHX','slice','.player.winner\x20.player-score','text','next','prev','Submitting...','Error\x20fetching\x20','Firebase\x20not\x20initialized','5547420ETGPVm','Error\x20reporting\x20comment:','getElementById','preventDefault','.loser-demo-link','178737mfjtOr','commentPopupPreview','You\x20need\x20to\x20be\x20signed\x20in\x20to\x20leave\x20a\x20comment\x20or\x20add\x20a\x20demo','.</div>','loserUsername','preview-d2-button','.match-card','demoDescription','toggle','toLocaleString','winnerUsername','querySelector','empty','setAttribute','Enter','previewPageInfo','101124ksXGAz','20XWyREa','Are\x20you\x20sure\x20you\x20want\x20to\x20report\x20this\x20comment\x20as\x20inappropriate?','Cached\x20intermediary\x20page\x20','message','table','div','S:\x20','userProfiles','missiles-6plus','error','Winner','removeItem','textContent','commentText','jump-to-page','.match-map','currentUser','\x27s\x20Demo','disabled','comment-overlay','Thank\x20you.\x20The\x20comment\x20has\x20been\x20reported\x20and\x20will\x20be\x20reviewed.','Failed\x20to\x20submit:\x20','block','.match-subgame','Failed\x20to\x20fetch\x20username:','aria-label','Cache\x20miss\x20for\x20page\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22popup-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Add\x20Comment\x20or\x20Demo</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22closeAddCommentPopup\x22\x20class=\x22close-btn\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22addCommentForm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22commentMatchId\x22\x20name=\x22commentMatchId\x22\x20value=\x22','displayName','backgroundColor','Muted.','.no-comments-message','firstChild','Failed\x20to\x20report\x20comment:\x20','You\x20need\x20to\x20be\x20signed\x20in\x20to\x20report\x20comments','submit','winnerOldElo','push','body','No\x20valid\x20cursor,\x20fetching\x20from\x20beginning\x20and\x20skipping\x20pages','commentOverlayPreview','max','.match-display-wrapper','addEventListener','getTime','No\x20results\x20found\x20for\x20this\x20page','exists','Comment\x20from\x20','innerHTML','</small>','none','cursor','previewCache_','includes','createdAt','center','data','applyFilterBtn','Unknown\x20User','Demo:\x20','Unable\x20to\x20submit\x20-\x20system\x20not\x20ready','Comments\x20section\x20not\x20found\x20in\x20template','color'];a0_0x3b13=function(){return _0x1d42e4;};return a0_0x3b13();}function updatePreviewPaginationControls(_0x3c48b3){const _0x4cc6a4=a0_0xd38ac2,_0x265999=document['getElementById']('previewPrevPage'),_0x332f44=document['getElementById'](_0x4cc6a4(0x22b)),_0x3bcec2=document[_0x4cc6a4(0x240)](_0x4cc6a4(0x252));if(!_0x265999||!_0x332f44||!_0x3bcec2)return;_0x3bcec2['textContent']='Page\x20'+previewState['currentPage'],_0x265999['disabled']=previewState['currentPage']<=0x1,_0x332f44[_0x4cc6a4(0x266)]=!_0x3c48b3;}function setPreviewLoadingState(_0x2337c2){const _0x417720=a0_0xd38ac2;previewState['isLoading']=_0x2337c2,setLoadingIndicator(_0x2337c2);const _0x153ff2=document['getElementById']('recent-matches-preview'),_0x598ff4=_0x153ff2?_0x153ff2['querySelector']('.matches-loading'):null,_0x42c087=document['getElementById']('previewPrevPage'),_0x3e6218=document['getElementById']('previewNextPage'),_0x4ccd57=document[_0x417720(0x240)]('preview-d1-button'),_0x182ab8=document['getElementById'](_0x417720(0x248)),_0x556f35=document[_0x417720(0x240)](_0x417720(0x1c5)),_0x43ef76=document[_0x417720(0x240)]('clearFilterBtn');if(_0x598ff4&&!_0x2337c2)_0x598ff4['style']['display']='none';else _0x598ff4&&_0x2337c2&&(_0x598ff4[_0x417720(0x213)][_0x417720(0x202)]='block');!_0x2337c2&&_0x153ff2&&!_0x153ff2['querySelector'](_0x417720(0x249))&&!_0x153ff2['querySelector']('.matches-loading[style*=\x22color:\x20red\x22]')&&(_0x153ff2[_0x417720(0x1bc)]=_0x417720(0x1d6)+(previewState['filterUsername']?_0x417720(0x215):'')+_0x417720(0x246));if(_0x42c087)_0x42c087[_0x417720(0x266)]=_0x2337c2||previewState[_0x417720(0x1f9)]<=0x1;if(_0x3e6218)_0x3e6218['disabled']=_0x2337c2;if(_0x4ccd57)_0x4ccd57['disabled']=_0x2337c2;if(_0x182ab8)_0x182ab8['disabled']=_0x2337c2;if(_0x556f35)_0x556f35[_0x417720(0x266)]=_0x2337c2;if(_0x43ef76)_0x43ef76['disabled']=_0x2337c2;}function applyClientFilters(_0x405d68){const _0x278274=a0_0xd38ac2;if(!previewState['filterUsername'])return _0x405d68;const _0x45ff13=previewState['filterUsername']['toLowerCase']();return _0x405d68[_0x278274(0x230)](_0x554b0e=>{const _0x13feb5=_0x278274,_0x636580=(_0x554b0e['winnerUsername']||'')[_0x13feb5(0x1e0)](),_0x5e481f=(_0x554b0e[_0x13feb5(0x247)]||'')['toLowerCase']();return _0x636580[_0x13feb5(0x1c1)](_0x45ff13)||_0x5e481f['includes'](_0x45ff13);});}function applyEnhancedClientFilters(_0x14732b){if(!hasEnhancedFilters())return _0x14732b;return _0x14732b['filter'](_0x5322d0=>{const _0x267128=a0_0x1c2a;if(previewState['enhancedFilters']['pilots']){const _0x41717d=previewState[_0x267128(0x1ff)]['pilots']['toLowerCase'](),_0x37ba7c=(_0x5322d0['winnerUsername']||'')[_0x267128(0x1e0)](),_0x132468=(_0x5322d0[_0x267128(0x247)]||'')[_0x267128(0x1e0)]();if(!_0x37ba7c['includes'](_0x41717d)&&!_0x132468[_0x267128(0x1c1)](_0x41717d))return![];}if(previewState[_0x267128(0x1ff)][_0x267128(0x209)]){const _0x1e9053=previewState[_0x267128(0x1ff)]['levels']['toLowerCase'](),_0x48ad5a=(_0x5322d0['mapPlayed']||'')[_0x267128(0x1e0)]();if(!_0x48ad5a['includes'](_0x1e9053))return![];}if(previewState['enhancedFilters']['subgames']['length']>0x0){const _0x189c1b=_0x5322d0['subgameType']||'Standard\x20Match';if(!previewState['enhancedFilters']['subgames'][_0x267128(0x1c1)](_0x189c1b))return![];}return!![];});}function hasEnhancedFilters(){const _0x2dfea4=a0_0xd38ac2;return previewState['enhancedFilters']['pilots']||previewState[_0x2dfea4(0x1ff)]['levels']||previewState['enhancedFilters']['subgames']['length']>0x0;}function clearEnhancedFilters(){const _0x336d76=a0_0xd38ac2;previewState[_0x336d76(0x1ff)]={'pilots':'','levels':'','subgames':[]},document['getElementById'](_0x336d76(0x1f2))['value']='',document[_0x336d76(0x240)]('filter-levels')['value']='';const _0x4ef0dc=document['getElementById']('filter-subgames');for(let _0x38afd7 of _0x4ef0dc['options']){_0x38afd7['selected']=![];}}function jumpToPage(_0x3abf38){const _0x36e649=a0_0xd38ac2,_0x2ed319=document[_0x36e649(0x240)]('jump-to-page'),_0x5603ce=previewState[_0x36e649(0x1f9)];let _0x425520=_0x5603ce;switch(_0x3abf38){case'start':_0x425520=0x1;break;case'end':_0x425520=Math['max'](_0x5603ce+0xa,previewState[_0x36e649(0x21d)]||_0x5603ce+0xa);break;case'+1':_0x425520=_0x5603ce+0x1;break;case'+5':_0x425520=_0x5603ce+0x5;break;case'+10':_0x425520=_0x5603ce+0xa;break;case'-1':_0x425520=Math[_0x36e649(0x27d)](0x1,_0x5603ce-0x1);break;case'-5':_0x425520=Math['max'](0x1,_0x5603ce-0x5);break;case'-10':_0x425520=Math['max'](0x1,_0x5603ce-0xa);break;case'input':const _0x3951ca=parseInt(_0x2ed319[_0x36e649(0x1da)]);_0x3951ca&&_0x3951ca>0x0&&(_0x425520=_0x3951ca,_0x2ed319['value']='');break;}_0x425520!==_0x5603ce&&_0x425520>0x0&&(previewState[_0x36e649(0x1f9)]=_0x425520,loadRecentMatchesPreview('jump'));}export async function loadRecentMatchesPreview(_0x1f6185='current'){const _0x559bef=a0_0xd38ac2,_0x5617b2=document['getElementById']('recent-matches-preview'),_0x36a4be=document['getElementById'](_0x559bef(0x1f4));if(previewState[_0x559bef(0x20e)]||!_0x5617b2||!_0x36a4be)return;_0x1f6185===_0x559bef(0x1ec)&&(console['log'](_0x559bef(0x201)),Object['keys'](sessionStorage)[_0x559bef(0x22c)](_0x5b76b3=>{const _0x54bb40=_0x559bef;_0x5b76b3['includes']('previewCache_'+previewState['currentMode'])&&sessionStorage[_0x54bb40(0x25f)](_0x5b76b3);}));let _0x1cab1d=previewState['currentPage'];if(_0x1f6185==='next')_0x1cab1d++;else{if(_0x1f6185==='prev')_0x1cab1d--;else _0x1f6185===_0x559bef(0x1ec)&&(_0x1cab1d=0x1,previewState['firstVisible']=null,previewState[_0x559bef(0x203)]=null);}if(_0x1cab1d<0x1)_0x1cab1d=0x1;const _0x11d8f5=previewState['currentPage'];previewState['currentPage']=_0x1cab1d,updatePreviewPaginationControls(!![]);const _0x50ff15={'filterUsername':previewState[_0x559bef(0x1e3)]},_0x5e2ac4=getCacheKey(previewState['currentMode'],_0x1cab1d,_0x50ff15),_0xe787eb=_0x1f6185!==_0x559bef(0x1ec)?getCachedPage(_0x5e2ac4):null;if(_0xe787eb){console['log']('Rendering\x20page\x20'+_0x1cab1d+_0x559bef(0x1e9)),setPreviewLoadingState(!![]),renderMatchCards(_0xe787eb['docsData']),updatePreviewPaginationControls(_0xe787eb[_0x559bef(0x212)]),setPreviewLoadingState(![]);return;}console[_0x559bef(0x214)](_0x559bef(0x26e)+_0x1cab1d+',\x20fetching\x20from\x20Firestore'),setPreviewLoadingState(!![]),_0x5617b2[_0x559bef(0x1bc)]='<div\x20class=\x22matches-loading\x22>Loading\x20recent\x20matches...</div>';const _0x35f5f5=previewState['currentMode']==='D1'?'approvedMatches':previewState[_0x559bef(0x1f5)]==='D2'?'approvedMatchesD2':'approvedMatchesD3',_0x42dac3=previewState['currentMode']==='D1'?_0x559bef(0x1c2):'approvedAt';try{const _0x3ae5a8=collection(window['db'],_0x35f5f5);let _0x550d8f=[orderBy(_0x42dac3,_0x559bef(0x224))];if(_0x1cab1d===0x1)console['log'](_0x559bef(0x1fd)),_0x550d8f['push'](limit(previewState['matchesPerPage']));else{if(_0x1f6185==='next'&&previewState[_0x559bef(0x203)])console[_0x559bef(0x214)]('Loading\x20next\x20page\x20using\x20cursor'),_0x550d8f['push'](startAfter(previewState[_0x559bef(0x203)])),_0x550d8f['push'](limit(previewState['matchesPerPage']));else{console['log'](_0x559bef(0x27b));const _0x46ca29=_0x1cab1d*previewState[_0x559bef(0x1f6)];_0x550d8f[_0x559bef(0x279)](limit(_0x46ca29));}}const _0x57cdc7=query(_0x3ae5a8,..._0x550d8f),_0x32260c=await getDocs(_0x57cdc7);let _0x3214b8=_0x32260c[_0x559bef(0x1ce)];if(_0x1cab1d>0x1&&_0x1f6185!==_0x559bef(0x239)){const _0x51cb76=(_0x1cab1d-0x1)*previewState['matchesPerPage'];_0x3214b8=_0x3214b8['slice'](_0x51cb76,_0x51cb76+previewState['matchesPerPage']);}if(_0x3214b8['length']===0x0){console['log'](_0x559bef(0x281));_0x1f6185==='next'&&(previewState['currentPage']=_0x11d8f5,updatePreviewPaginationControls(![]));_0x5617b2[_0x559bef(0x1bc)]='<div\x20class=\x22matches-loading\x22>No\x20more\x20matches\x20to\x20display'+(previewState['filterUsername']?'\x20matching\x20filters':'')+_0x559bef(0x246),setPreviewLoadingState(![]);return;}previewState[_0x559bef(0x204)]=_0x3214b8[0x0],previewState['lastVisible']=_0x3214b8[_0x3214b8[_0x559bef(0x22d)]-0x1];const _0x3af75b=_0x3214b8['map'](_0x5865a9=>({'id':_0x5865a9['id'],..._0x5865a9['data']()}));let _0x71beac=![];if(_0x3214b8['length']===previewState['matchesPerPage']){const _0x42a48b=query(_0x3ae5a8,orderBy(_0x42dac3,'desc'),startAfter(previewState['lastVisible']),limit(0x1)),_0xa95ac7=await getDocs(_0x42a48b);_0x71beac=!_0xa95ac7[_0x559bef(0x24f)];}const _0x1ac518=applyClientFilters(_0x3af75b),_0x1bc0dd={'docsData':_0x3af75b,'hasNextPage':_0x71beac};cachePage(getCacheKey(previewState[_0x559bef(0x1f5)],previewState[_0x559bef(0x1f9)],_0x50ff15),_0x1bc0dd);if(_0x1cab1d>0x1&&_0x1f6185!=='next')for(let _0x40425c=0x1;_0x40425c<_0x1cab1d;_0x40425c++){const _0x238ec6=(_0x40425c-0x1)*previewState['matchesPerPage'],_0xee678c=_0x238ec6+previewState['matchesPerPage'],_0x554642=_0x32260c[_0x559bef(0x1ce)]['slice'](_0x238ec6,_0xee678c);if(_0x554642[_0x559bef(0x22d)]>0x0){const _0x579d03=_0x554642['map'](_0x28c384=>({'id':_0x28c384['id'],..._0x28c384['data']()})),_0x338780=!![];cachePage(getCacheKey(previewState['currentMode'],_0x40425c,_0x50ff15),{'docsData':_0x579d03,'hasNextPage':_0x338780}),console[_0x559bef(0x214)](_0x559bef(0x256)+_0x40425c);}}_0x1ac518['length']===0x0&&previewState['filterUsername']?_0x5617b2[_0x559bef(0x1bc)]='<div\x20class=\x22matches-loading\x22>No\x20matches\x20found\x20matching\x20filter:\x20\x22'+previewState[_0x559bef(0x1e3)]+'\x22</div>':renderMatchCards(_0x1ac518),updatePreviewPaginationControls(_0x71beac);}catch(_0x55bcd9){console['error'](_0x559bef(0x23c)+previewState['currentMode']+'\x20matches:',_0x55bcd9),_0x5617b2[_0x559bef(0x1bc)]='<div\x20class=\x22matches-loading\x22\x20style=\x22color:\x20red;\x22>Error\x20loading\x20matches:\x20'+_0x55bcd9['message']+'</div>',updatePreviewPaginationControls(![]),previewState['currentPage']=_0x11d8f5;}finally{setPreviewLoadingState(![]);}}async function renderMatchCards(_0x4e3898){const _0x1fb648=a0_0xd38ac2,_0x1ea587=document['getElementById']('recent-matches-preview'),_0x5eb1a8=document[_0x1fb648(0x240)]('match-card-template');if(!_0x1ea587||!_0x5eb1a8)return;!_0x1ea587[_0x1fb648(0x24e)]('.matches-loading[style*=\x22color:\x20red\x22]')&&(_0x1ea587['innerHTML']='');if(!_0x4e3898||_0x4e3898['length']===0x0){if(!_0x1ea587['querySelector'](_0x1fb648(0x1cc))){const _0x1f15c5=hasEnhancedFilters()?'\x20matching\x20filters':previewState[_0x1fb648(0x1e3)]?'\x20matching\x20filters':'';_0x1ea587['innerHTML']='<div\x20class=\x22matches-loading\x22>No\x20recent\x20matches\x20found'+_0x1f15c5+'.</div>';}return;}const _0xaa162a=applyEnhancedClientFilters(_0x4e3898);if(_0xaa162a['length']===0x0){_0x1ea587['innerHTML']='<div\x20class=\x22matches-loading\x22>No\x20matches\x20found\x20matching\x20current\x20filters.</div>';return;}const _0x3d566d=_0xaa162a['map'](_0x1e6d93=>getAllCommentsForMatch(_0x1e6d93['id']));let _0xacc2a2=[];try{_0xacc2a2=await Promise['all'](_0x3d566d);}catch(_0x187241){console['error']('Error\x20fetching\x20comments\x20batch:',_0x187241),_0xacc2a2=_0xaa162a['map'](()=>[]);}const _0xefaf7d={};_0xacc2a2['forEach']((_0x471679,_0x5b89fc)=>{_0xefaf7d[_0xaa162a[_0x5b89fc]['id']]=_0x471679||[];}),_0xaa162a[_0x1fb648(0x22c)](_0x4e8745=>{const _0x5ac749=_0x1fb648,_0x408adb=_0x5eb1a8['content']['cloneNode'](!![]),_0x273b5f=_0x408adb['querySelector'](_0x5ac749(0x27e)),_0x2f8df9=_0x408adb['querySelector']('.match-card'),_0x34e75f=getEloRankClass(_0x4e8745['winnerOldElo']);_0x2f8df9['classList']['add']('winner-'+_0x34e75f),_0x2f8df9['querySelector'](_0x5ac749(0x263))['textContent']=_0x4e8745['mapPlayed']||'Unknown\x20Map',_0x2f8df9['querySelector'](_0x5ac749(0x1d1))['textContent']=formatDate(_0x4e8745['approvedAt']||_0x4e8745[_0x5ac749(0x1c2)]);const _0x3ea53f=_0x2f8df9[_0x5ac749(0x24e)]('.player.winner\x20.player-name');_0x3ea53f[_0x5ac749(0x260)]=_0x4e8745['winnerUsername']||_0x5ac749(0x1de),_0x3ea53f['style'][_0x5ac749(0x1ca)]=getEloColor(_0x4e8745[_0x5ac749(0x278)]),_0x2f8df9[_0x5ac749(0x24e)](_0x5ac749(0x237))['textContent']=_0x4e8745['winnerScore']??0x0;const _0x2f1253=_0x2f8df9[_0x5ac749(0x24e)]('.player.winner\x20.player-suicides'),_0x140775=_0x4e8745[_0x5ac749(0x1e4)]||0x0;_0x2f1253['textContent']='S:\x20'+_0x140775;const _0x1f3810=_0x2f8df9['querySelector']('.player.loser\x20.player-name');_0x1f3810['textContent']=_0x4e8745['loserUsername']||'Unknown',_0x1f3810['style']['color']=getEloColor(_0x4e8745['loserOldElo']),_0x2f8df9['querySelector']('.player.loser\x20.player-score')[_0x5ac749(0x260)]=_0x4e8745['loserScore']??0x0;const _0x4caa26=_0x2f8df9['querySelector']('.player.loser\x20.player-suicides'),_0x6ad472=_0x4e8745['loserSuicides']||0x0;_0x4caa26[_0x5ac749(0x260)]=_0x5ac749(0x25a)+_0x6ad472;const _0x516dcf=_0x2f8df9[_0x5ac749(0x24e)](_0x5ac749(0x26b));if(_0x516dcf){if(_0x4e8745[_0x5ac749(0x234)]&&_0x4e8745['subgameType'][_0x5ac749(0x1fe)]()!==''){_0x516dcf['textContent']=_0x4e8745['subgameType'],_0x516dcf[_0x5ac749(0x213)][_0x5ac749(0x202)]='block';const _0x478e50=getSubgameClass(_0x4e8745['subgameType']);_0x478e50&&_0x516dcf[_0x5ac749(0x20d)][_0x5ac749(0x1dd)](_0x478e50);}else _0x516dcf['textContent']='Standard\x20Match',_0x516dcf['style']['display']=_0x5ac749(0x26a),_0x516dcf['style']['opacity']='0.6';}const _0x4af93d=_0x2f8df9['querySelector']('.comment.winner-comment'),_0x538f54=_0x2f8df9['querySelector']('.comment.loser-comment'),_0x438a55=_0x4e8745['winnerComment']||'',_0x41d5ec=_0x4e8745['loserComment']||'',_0x2a879f=_0x4e8745['approvedAt']||_0x4e8745['createdAt'],_0x5363a4=filterComment(_0x438a55,_0x4e8745['winnerUsername'],_0x2a879f),_0x23ad72=filterComment(_0x41d5ec,_0x4e8745[_0x5ac749(0x247)],_0x2a879f);_0x4af93d['textContent']='\x22'+truncateComment(_0x438a55)+'\x22',_0x538f54['textContent']='\x22'+truncateComment(_0x41d5ec)+'\x22';_0x438a55&&!isUsernameMuted(_0x4e8745['winnerUsername'],_0x2a879f)?_0x4af93d['onclick']=()=>showPreviewCommentPopup(_0x5363a4,_0x4e8745[_0x5ac749(0x24d)]||_0x5ac749(0x25e),getEloColor(_0x4e8745[_0x5ac749(0x278)])):(_0x4af93d['textContent']=_0x5363a4===_0x5ac749(0x272)?'Muted.':'-',_0x4af93d['style']['cursor']=_0x5ac749(0x231),_0x4af93d[_0x5ac749(0x200)]=null);_0x41d5ec&&!isUsernameMuted(_0x4e8745[_0x5ac749(0x247)])?_0x538f54['onclick']=()=>showPreviewCommentPopup(_0x23ad72,_0x4e8745[_0x5ac749(0x247)]||'Loser',getEloColor(_0x4e8745['loserOldElo'])):(_0x538f54['textContent']=_0x23ad72==='Muted.'?'Muted.':'-',_0x538f54[_0x5ac749(0x213)][_0x5ac749(0x1bf)]='default',_0x538f54['onclick']=null);const _0x11d88b=_0x273b5f?.[_0x5ac749(0x24e)]('.community-comments-section');if(!_0x11d88b)console[_0x5ac749(0x1db)](_0x5ac749(0x1c9));else{const _0x2c982b=_0x11d88b[_0x5ac749(0x24e)]('.comments-container'),_0x23751d=_0x2c982b?.[_0x5ac749(0x24e)]('.no-comments-message'),_0x533f24=_0x11d88b['querySelector']('.add-comment-btn');if(_0x2c982b){while(_0x2c982b[_0x5ac749(0x274)]&&_0x2c982b['firstChild']!==_0x23751d){_0x2c982b[_0x5ac749(0x21c)](_0x2c982b['firstChild']);}_0x533f24&&_0x533f24['addEventListener']('click',()=>{showAddCommentPopup(_0x4e8745['id']);});const _0x1596ff=_0xefaf7d[_0x4e8745['id']]||[];if(_0x1596ff['length']>0x0){if(_0x23751d)_0x23751d['style'][_0x5ac749(0x202)]=_0x5ac749(0x1be);const _0x1cb444=(_0x2a9603,_0x57eaf4)=>{const _0x41abf8=_0x5ac749,_0x5ada54=_0x2a9603['split']('\x20');if(_0x5ada54['length']<=_0x57eaf4)return _0x2a9603;return _0x5ada54[_0x41abf8(0x236)](0x0,_0x57eaf4)['join']('\x20')+'...';};_0x1596ff['forEach'](_0x307f94=>{const _0x33b2d0=_0x5ac749,_0x3e9d77=document[_0x33b2d0(0x232)](_0x33b2d0(0x259));if(_0x307f94['type']==='demo'){_0x3e9d77['className']='demo-link',_0x3e9d77['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22'+_0x307f94['demoLink']+'\x22\x20target=\x22_blank\x22\x20class=\x22play-icon\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<svg\x20viewBox=\x220\x200\x2024\x2024\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<path\x20d=\x22M8,5.14V19.14L19,12.14L8,5.14Z\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</svg>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22demo-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22demo-author\x22>Demo\x20from\x20'+_0x307f94['username']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22demo-description\x22>'+(_0x307f94['description']||'No\x20description\x20provided')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x2a1dba=window['auth']['currentUser'],_0x17c9f0=_0x2a1dba&&_0x307f94['userId']===_0x2a1dba['uid'];if(_0x17c9f0){const _0x16f891=document['createElement']('button');_0x16f891['className']='delete-comment-btn',_0x16f891['innerHTML']='×',_0x16f891['setAttribute'](_0x33b2d0(0x26d),'Delete\x20demo'),_0x16f891[_0x33b2d0(0x27f)]('click',_0x211f88=>{_0x211f88['preventDefault'](),_0x211f88['stopPropagation'](),deleteComment(_0x307f94['id'],_0x3e9d77);}),_0x3e9d77['appendChild'](_0x16f891);}}else{_0x3e9d77['className']='comment-item';const _0x5c6b4d=isUsernameMuted(_0x307f94['username'],_0x307f94['timestamp']),_0x1881df=_0x5c6b4d?'Muted.':_0x1cb444(_0x307f94[_0x33b2d0(0x238)]||'',0xf),_0x1d7f08=_0x307f94[_0x33b2d0(0x1ed)]||'Anonymous',_0x359eb8=window['auth']['currentUser'],_0x49ac26=_0x359eb8&&_0x307f94['userId']===_0x359eb8[_0x33b2d0(0x222)];let _0x5bed1a='';_0x49ac26&&(_0x5bed1a=_0x33b2d0(0x226));_0x3e9d77[_0x33b2d0(0x1bc)]=_0x5bed1a+'<strong>'+_0x1d7f08+':</strong>\x20\x22'+_0x1881df+'\x22';if(_0x49ac26){const _0x303e9d=_0x3e9d77[_0x33b2d0(0x24e)]('.delete-comment-btn');_0x303e9d&&_0x303e9d[_0x33b2d0(0x27f)]('click',_0x33df9e=>{const _0x523970=_0x33b2d0;_0x33df9e[_0x523970(0x225)](),deleteComment(_0x307f94['id'],_0x3e9d77);});}!_0x5c6b4d?_0x3e9d77['addEventListener']('click',()=>{showFullCommentLightbox(_0x307f94);}):_0x3e9d77['style']['cursor']='default';}_0x2c982b['insertBefore'](_0x3e9d77,_0x2c982b['firstChild']);});}else{if(_0x23751d)_0x23751d['style']['display']='block';}}}const _0x19de4e=_0x2f8df9['querySelector']('.match-demo-links');if(_0x19de4e){const _0x5073a5=_0x2f8df9['querySelector']('.winner-demo-link'),_0x4bf73d=_0x2f8df9['querySelector'](_0x5ac749(0x242)),_0x3b07d7=_0x4e8745['winnerDemoLink']||null,_0x5b968f=_0x4e8745['loserDemoLink']||_0x4e8745[_0x5ac749(0x220)]||null;console['log']('Match\x20'+_0x4e8745['id']+'\x20demo\x20links:',{'winner':_0x3b07d7,'loser':_0x5b968f}),_0x5073a5&&(_0x3b07d7?(_0x5073a5['href']=_0x3b07d7,_0x5073a5[_0x5ac749(0x213)]['display']='flex',_0x5073a5['title']=_0x4e8745[_0x5ac749(0x24d)]+'\x27s\x20Demo'):_0x5073a5['style']['display']='none'),_0x4bf73d&&(_0x5b968f?(_0x4bf73d['href']=_0x5b968f,_0x4bf73d['style'][_0x5ac749(0x202)]='flex',_0x4bf73d[_0x5ac749(0x1d2)]=_0x4e8745['loserUsername']+_0x5ac749(0x265)):_0x4bf73d['style']['display']=_0x5ac749(0x1be)),_0x3b07d7&&_0x5073a5||_0x5b968f&&_0x4bf73d?_0x19de4e['style']['display']='flex':_0x19de4e['style']['display']=_0x5ac749(0x1be);}_0x1ea587[_0x5ac749(0x20c)](_0x408adb);});}function getSubgameClass(_0x4cdd0d){const _0x374f62=a0_0xd38ac2,_0xb09e12={'Fusion\x20Match':'fusion-match','≥6\x20Missiles':_0x374f62(0x25c),'≥6\x20missiles':_0x374f62(0x25c),'Weapon\x20Imbalance':'weapon-imbalance','Blind\x20Match':'blind-match','Rematch':_0x374f62(0x1e7),'Disorientation':'disorientation','Ratting':_0x374f62(0x1cd),'Altered\x20Powerups':'altered-powerups','Mega\x20Match':'mega-match','Dogfight':_0x374f62(0x207),'Gauss\x20and\x20Mercs':_0x374f62(0x1f0)};return _0xb09e12[_0x4cdd0d]||'';}async function deleteComment(_0x900000,_0x21813d){const _0x461120=a0_0xd38ac2,_0x450f76=window['auth']['currentUser'];if(!_0x450f76){alert('You\x20need\x20to\x20be\x20signed\x20in\x20to\x20delete\x20comments');return;}if(!confirm('Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20comment?'))return;try{const _0x52da5e=doc(window['db'],'matchComments',_0x900000),_0x55e922=await getDoc(_0x52da5e);if(!_0x55e922['exists']()){alert('Comment\x20not\x20found.\x20It\x20may\x20have\x20already\x20been\x20deleted.');return;}const _0x16f3b4=_0x55e922['data']();if(_0x16f3b4['userId']!==_0x450f76[_0x461120(0x222)]){alert('You\x20can\x20only\x20delete\x20your\x20own\x20comments');return;}await deleteDoc(_0x52da5e);if(_0x21813d&&_0x21813d['parentNode']){_0x21813d[_0x461120(0x1f1)]['removeChild'](_0x21813d);const _0x43145a=_0x21813d['closest']('.comments-container');if(_0x43145a&&!_0x43145a[_0x461120(0x24e)]('.comment-item')){const _0x39a252=_0x43145a[_0x461120(0x24e)](_0x461120(0x273));if(_0x39a252)_0x39a252['style']['display']='block';}}console['log']('Comment\x20deleted\x20successfully');}catch(_0x45bf6a){console['error']('Error\x20deleting\x20comment:',_0x45bf6a),alert('Failed\x20to\x20delete\x20comment:\x20'+_0x45bf6a[_0x461120(0x257)]);}}async function getAllCommentsForMatch(_0x418569){const _0x23801b=a0_0xd38ac2;if(!_0x418569)return[];try{const _0x5be948=collection(window['db'],'matchComments'),_0x5101d2=query(_0x5be948,where(_0x23801b(0x227),'==',_0x418569),orderBy('timestamp',_0x23801b(0x224))),_0x38a71a=await getDocs(_0x5101d2);if(_0x38a71a['empty'])return[];return _0x38a71a['docs']['map'](_0x26eeef=>({'id':_0x26eeef['id'],..._0x26eeef['data']()}));}catch(_0x46bafe){return console['error']('Error\x20fetching\x20comments:',_0x46bafe),[];}}async function submitComment(_0x589f4c){const _0x1fed19=a0_0xd38ac2;_0x589f4c[_0x1fed19(0x241)]();if(!window['auth']||!window['db']){console[_0x1fed19(0x25d)]('Firebase\x20not\x20initialized'),alert('Unable\x20to\x20submit\x20comment\x20-\x20system\x20not\x20ready');return;}const _0x165ed5=window['auth']['currentUser'];if(!_0x165ed5){alert('You\x20must\x20be\x20signed\x20in\x20to\x20leave\x20a\x20comment');return;}const _0x46584d=document[_0x1fed19(0x240)]('commentMatchId')?.['value'],_0x28e667=document['getElementById']('commentText')?.[_0x1fed19(0x1da)]?.['trim']();if(!_0x46584d||!_0x28e667){alert(_0x1fed19(0x1df));return;}const _0x23df94=_0x28e667['split'](/\s+/)['filter'](_0x54f780=>_0x54f780['length']>0x0)['length'];if(_0x23df94>0xf){alert('Comments\x20are\x20limited\x20to\x2015\x20words\x20maximum.\x20Please\x20shorten\x20your\x20comment.');return;}const _0x1ef172=document['querySelector']('.submit-comment-btn');_0x1ef172&&(_0x1ef172['disabled']=!![],_0x1ef172[_0x1fed19(0x260)]='Submitting...');try{let _0x26d8b4='Anonymous';try{const _0x34af88=doc(window['db'],'userProfiles',_0x165ed5['uid']),_0x5cc4d1=await getDoc(_0x34af88);if(_0x5cc4d1['exists']()){const _0x3ffbcc=_0x5cc4d1['data']();_0x3ffbcc['username']&&(_0x26d8b4=_0x3ffbcc['username']);}_0x26d8b4==='Anonymous'&&_0x165ed5[_0x1fed19(0x270)]&&(_0x26d8b4=_0x165ed5['displayName']);}catch(_0x580ffb){console['warn']('Failed\x20to\x20fetch\x20user\x20profile:',_0x580ffb),_0x165ed5['displayName']&&(_0x26d8b4=_0x165ed5[_0x1fed19(0x270)]);}const _0x18ee6a={'matchId':_0x46584d,'userId':_0x165ed5['uid'],'username':_0x26d8b4,'text':_0x28e667,'timestamp':serverTimestamp()};console['log']('Submitting\x20comment\x20as:',_0x26d8b4);const _0x1428a0=collection(window['db'],'matchComments');await addDoc(_0x1428a0,_0x18ee6a),console[_0x1fed19(0x214)]('Comment\x20added\x20successfully'),closeAddCommentPopup(),loadRecentMatchesPreview('current');}catch(_0xe3e81f){console['error'](_0x1fed19(0x20f),_0xe3e81f),alert('Failed\x20to\x20add\x20comment:\x20'+_0xe3e81f['message']),_0x1ef172&&(_0x1ef172['disabled']=![],_0x1ef172['textContent']='Submit');}}function closeAddCommentPopup(){const _0x3f6bd9=a0_0xd38ac2,_0x3ce9ec=document[_0x3f6bd9(0x240)]('commentAddPopup'),_0x63b49b=document['getElementById']('commentAddOverlay');if(_0x3ce9ec)_0x3ce9ec[_0x3f6bd9(0x213)][_0x3f6bd9(0x202)]='none';if(_0x63b49b)_0x63b49b[_0x3f6bd9(0x213)][_0x3f6bd9(0x202)]='none';}function showAddCommentPopup(_0x2978ff){const _0x15823e=a0_0xd38ac2,_0x40cb46=window['auth']['currentUser'];if(!_0x40cb46){alert(_0x15823e(0x245));return;}let _0x5be1b8=document['getElementById']('commentAddPopup'),_0x4280cf=document['getElementById'](_0x15823e(0x210));!_0x5be1b8&&(_0x5be1b8=document['createElement']('div'),_0x5be1b8['id']=_0x15823e(0x1e5),_0x5be1b8['className']='comment-popup',document['body']['appendChild'](_0x5be1b8));!_0x4280cf&&(_0x4280cf=document[_0x15823e(0x232)](_0x15823e(0x259)),_0x4280cf['id']='commentAddOverlay',_0x4280cf[_0x15823e(0x229)]=_0x15823e(0x267),document[_0x15823e(0x27a)][_0x15823e(0x20c)](_0x4280cf));_0x5be1b8[_0x15823e(0x1bc)]=_0x15823e(0x26f)+_0x2978ff+_0x15823e(0x22e),_0x5be1b8[_0x15823e(0x213)][_0x15823e(0x202)]='block',_0x4280cf['style']['display']='block',document['getElementById'](_0x15823e(0x1d4))['addEventListener']('click',closeAddCommentPopup),_0x4280cf[_0x15823e(0x27f)](_0x15823e(0x1fa),closeAddCommentPopup);const _0x376208=_0x5be1b8['querySelectorAll']('.option-tab');_0x376208['forEach'](_0x146a02=>{const _0x52512e=_0x15823e;_0x146a02['addEventListener'](_0x52512e(0x1fa),function(){const _0x364de0=_0x52512e;_0x376208['forEach'](_0xd46531=>_0xd46531[_0x364de0(0x20d)]['remove']('active')),document['querySelectorAll']('.option-content')['forEach'](_0x586dd8=>_0x586dd8['style']['display']=_0x364de0(0x1be)),this['classList']['add']('active');const _0x48133f=this['dataset']['option'];document['getElementById'](_0x48133f+_0x364de0(0x1ea))['style']['display']=_0x364de0(0x26a),_0x48133f===_0x364de0(0x1d3)?(document['getElementById']('demoLink')[_0x364de0(0x250)](_0x364de0(0x1e6),''),document['getElementById']('commentText')['removeAttribute'](_0x364de0(0x1e6))):(document['getElementById'](_0x364de0(0x220))[_0x364de0(0x1e1)]('required'),document['getElementById'](_0x364de0(0x261))[_0x364de0(0x250)]('required',''));});}),document['getElementById'](_0x15823e(0x261))['setAttribute'](_0x15823e(0x1e6),''),document['getElementById']('demoLink')['removeAttribute']('required'),setupWordCounter('commentText',_0x15823e(0x217),0xf),setupWordCounter('demoDescription','demoWordCount',0x14),document[_0x15823e(0x240)]('addCommentForm')['addEventListener'](_0x15823e(0x277),submitCommentOrDemo);}function setupWordCounter(_0x5c01c4,_0xa61e72,_0xeb1a7d){const _0x11e88b=a0_0xd38ac2,_0x3d4408=document['getElementById'](_0x5c01c4),_0x3f954c=document[_0x11e88b(0x240)](_0xa61e72);if(!_0x3d4408||!_0x3f954c)return;_0x3f8f48(),_0x3d4408['addEventListener'](_0x11e88b(0x208),_0x3f8f48);function _0x3f8f48(){const _0x4b8479=_0x11e88b,_0x22eefa=_0x3d4408['value']['trim'](),_0x401118=_0x22eefa?_0x22eefa['split'](/\s+/)[_0x4b8479(0x230)](_0x453dce=>_0x453dce[_0x4b8479(0x22d)]>0x0)[_0x4b8479(0x22d)]:0x0;_0x3f954c[_0x4b8479(0x260)]=_0x401118,_0x401118>_0xeb1a7d?_0x3f954c['style']['color']='#ff4444':_0x3f954c[_0x4b8479(0x213)]['color']='#aaa';}}async function submitCommentOrDemo(_0x1562ea){const _0x361622=a0_0xd38ac2;_0x1562ea[_0x361622(0x241)]();if(!window['auth']||!window['db']){console['error'](_0x361622(0x23d)),alert(_0x361622(0x1c8));return;}const _0x80d0af=window[_0x361622(0x21b)][_0x361622(0x264)];if(!_0x80d0af){alert('You\x20must\x20be\x20signed\x20in\x20to\x20continue');return;}const _0x56fade=document[_0x361622(0x240)](_0x361622(0x1f8))['value'],_0x52966f=document['querySelector']('.option-tab.active')[_0x361622(0x1e8)][_0x361622(0x211)];let _0x315211='Anonymous';try{const _0x4818a4=doc(window['db'],_0x361622(0x25b),_0x80d0af[_0x361622(0x222)]),_0x2e7747=await getDoc(_0x4818a4);if(_0x2e7747[_0x361622(0x282)]()){const _0x3e3d28=_0x2e7747[_0x361622(0x1c4)]();_0x3e3d28[_0x361622(0x1ed)]&&(_0x315211=_0x3e3d28['username']);}_0x315211==='Anonymous'&&_0x80d0af['displayName']&&(_0x315211=_0x80d0af['displayName']);}catch(_0x2cf6a4){console['warn'](_0x361622(0x26c),_0x2cf6a4),_0x80d0af['displayName']&&(_0x315211=_0x80d0af['displayName']);}const _0x5ec32c=document['querySelector']('.submit-comment-btn');_0x5ec32c&&(_0x5ec32c[_0x361622(0x266)]=!![],_0x5ec32c['textContent']=_0x361622(0x23b));try{if(_0x52966f==='comment'){const _0x55ea65=document['getElementById'](_0x361622(0x261))[_0x361622(0x1da)][_0x361622(0x1fe)]();if(!_0x55ea65){alert('Please\x20enter\x20a\x20comment\x20before\x20submitting'),_0x5ec32c['disabled']=![],_0x5ec32c[_0x361622(0x260)]='Submit';return;}const _0x554ce3=_0x55ea65['split'](/\s+/)[_0x361622(0x230)](_0x120cff=>_0x120cff['length']>0x0)[_0x361622(0x22d)];if(_0x554ce3>0xf){alert('Comments\x20are\x20limited\x20to\x2015\x20words\x20maximum.\x20Please\x20shorten\x20your\x20comment.'),_0x5ec32c['disabled']=![],_0x5ec32c['textContent']='Submit';return;}const _0x199afd={'matchId':_0x56fade,'userId':_0x80d0af[_0x361622(0x222)],'username':_0x315211,'text':_0x55ea65,'type':'comment','timestamp':serverTimestamp()},_0x3c33f0=collection(window['db'],'matchComments');await addDoc(_0x3c33f0,_0x199afd);}else{const _0x9bcb2d=document[_0x361622(0x240)](_0x361622(0x220))[_0x361622(0x1da)][_0x361622(0x1fe)](),_0x4ab30a=document['getElementById'](_0x361622(0x24a))[_0x361622(0x1da)]['trim']()||'Demo\x20link';if(!_0x9bcb2d){alert('Please\x20enter\x20a\x20demo\x20link'),_0x5ec32c[_0x361622(0x266)]=![],_0x5ec32c[_0x361622(0x260)]='Submit';return;}try{new URL(_0x9bcb2d);}catch(_0x32c4bc){alert(_0x361622(0x1d7)),_0x5ec32c[_0x361622(0x266)]=![],_0x5ec32c['textContent']=_0x361622(0x1dc);return;}const _0x1bf5cc=_0x4ab30a[_0x361622(0x1cb)](/\s+/)['filter'](_0x359db8=>_0x359db8['length']>0x0)['length'];if(_0x1bf5cc>0x14){alert('Demo\x20descriptions\x20are\x20limited\x20to\x2020\x20words\x20maximum.\x20Please\x20shorten\x20your\x20description.'),_0x5ec32c['disabled']=![],_0x5ec32c['textContent']='Submit';return;}const _0x44cecb={'matchId':_0x56fade,'userId':_0x80d0af['uid'],'username':_0x315211,'demoLink':_0x9bcb2d,'description':_0x4ab30a,'type':'demo','text':_0x361622(0x1c7)+_0x4ab30a,'timestamp':serverTimestamp()},_0x128807=collection(window['db'],'matchComments');await addDoc(_0x128807,_0x44cecb);}closeAddCommentPopup(),loadRecentMatchesPreview('current');}catch(_0x1bf7eb){console['error']('Error\x20submitting:',_0x1bf7eb),alert(_0x361622(0x269)+_0x1bf7eb['message']),_0x5ec32c&&(_0x5ec32c[_0x361622(0x266)]=![],_0x5ec32c['textContent']='Submit');}}function getEloRankClass(_0x250405){const _0x4e83b2=a0_0xd38ac2,_0x2ef22a=Number(_0x250405);if(_0x2ef22a>=0x7d0)return'emerald';else{if(_0x2ef22a>=0x708)return _0x4e83b2(0x1d9);else{if(_0x2ef22a>=0x640)return _0x4e83b2(0x221);else{if(_0x2ef22a>=0x578)return'bronze';else return'unranked';}}}}function showPreviewCommentPopup(_0x5c45bb,_0x143174,_0x3ba37a='#fff'){const _0x16a04d=a0_0xd38ac2,_0x4f888c=document['getElementById']('commentPopupPreview'),_0xac785f=document['getElementById']('commentOverlayPreview'),_0x11cee3=document['getElementById']('commentPopupTitlePreview'),_0x49ab7c=document['getElementById']('commentPopupContentPreview'),_0x44196d=document[_0x16a04d(0x240)]('reportCommentButton');if(!_0x4f888c||!_0xac785f||!_0x11cee3||!_0x49ab7c||!_0x44196d)return;_0x4f888c['dataset']['commentText']=_0x5c45bb,_0x4f888c['dataset']['commentUser']=_0x143174,_0x11cee3['style']['color']=_0x3ba37a,_0x11cee3['textContent']='Comment\x20from\x20'+_0x143174,_0x49ab7c[_0x16a04d(0x260)]=_0x5c45bb,_0x44196d['onclick']=reportComment,_0x4f888c[_0x16a04d(0x213)][_0x16a04d(0x202)]='block',_0xac785f['style']['display']='block';}function closePreviewCommentPopup(){const _0x87235a=a0_0xd38ac2,_0x2b8d79=document['getElementById']('commentPopupPreview'),_0x247103=document['getElementById']('commentOverlayPreview');if(_0x2b8d79)_0x2b8d79[_0x87235a(0x213)][_0x87235a(0x202)]='none';if(_0x247103)_0x247103[_0x87235a(0x213)][_0x87235a(0x202)]=_0x87235a(0x1be);}async function reportComment(){const _0x4448e5=a0_0xd38ac2,_0x1b4280=window['auth']['currentUser'];if(!_0x1b4280){alert(_0x4448e5(0x276));return;}if(!confirm(_0x4448e5(0x255)))return;try{const _0x54f13a=document['getElementById']('commentPopupPreview'),_0x1a7a3c={'commentAuthor':_0x54f13a[_0x4448e5(0x1e8)][_0x4448e5(0x1fb)]||_0x4448e5(0x1c6),'commentText':_0x54f13a['dataset']['commentText']||'','matchId':previewState['currentMatchId']||'','reportedBy':_0x1b4280['uid'],'reporterUsername':_0x1b4280['displayName']||'Anonymous\x20User','reportedAt':serverTimestamp()},_0xc75a02=collection(window['db'],'badComments');await addDoc(_0xc75a02,_0x1a7a3c),alert(_0x4448e5(0x268)),closePreviewCommentPopup();}catch(_0x5ce08c){console[_0x4448e5(0x25d)](_0x4448e5(0x23f),_0x5ce08c),alert(_0x4448e5(0x275)+_0x5ce08c['message']);}}function showFullCommentLightbox(_0xc2a403){const _0x4f03c2=a0_0xd38ac2;if(isUsernameMuted(_0xc2a403[_0x4f03c2(0x1ed)]))return;const _0x2e63dc=document[_0x4f03c2(0x240)](_0x4f03c2(0x244)),_0x9da4a3=document['getElementById'](_0x4f03c2(0x27c)),_0x18a229=document['getElementById']('commentPopupTitlePreview'),_0x5a5715=document['getElementById']('commentPopupContentPreview');if(!_0x2e63dc||!_0x9da4a3||!_0x18a229||!_0x5a5715)return;_0x18a229['style']['color']='#fff',_0x18a229['textContent']=_0x4f03c2(0x1bb)+_0xc2a403['username'];if(_0xc2a403['timestamp']){const _0x369924=new Date(_0xc2a403['timestamp']['seconds']*0x3e8),_0x56fe1c=_0x369924[_0x4f03c2(0x24c)]();_0x5a5715['innerHTML']='<p>'+_0xc2a403['text']+'</p><small\x20style=\x22color:#aaa;\x20display:block;\x20text-align:right;\x20margin-top:10px;\x22>Posted\x20on\x20'+_0x56fe1c+_0x4f03c2(0x1bd);}else _0x5a5715[_0x4f03c2(0x260)]=_0xc2a403['text'];_0x2e63dc['dataset']['commentId']=_0xc2a403['id']||'',_0x2e63dc['dataset']['commentUser']=_0xc2a403[_0x4f03c2(0x1ed)]||'',_0x2e63dc[_0x4f03c2(0x1e8)]['commentText']=_0xc2a403['text']||'',_0x2e63dc['dataset'][_0x4f03c2(0x227)]=_0xc2a403['matchId']||'';const _0x494960=_0x2e63dc['querySelector'](_0x4f03c2(0x218))||document[_0x4f03c2(0x232)]('div');!_0x2e63dc['querySelector']('.popup-actions')?(_0x494960['className']='popup-actions',_0x494960[_0x4f03c2(0x213)][_0x4f03c2(0x202)]=_0x4f03c2(0x1f7),_0x494960['style']['justifyContent']=_0x4f03c2(0x1c3),_0x494960[_0x4f03c2(0x213)]['gap']='10px',_0x494960['style']['marginTop']='15px',_0x2e63dc['appendChild'](_0x494960)):_0x494960['innerHTML']='';const _0x5c00e9=document['createElement']('button');_0x5c00e9[_0x4f03c2(0x260)]='Close',_0x5c00e9['className']='popup-btn\x20close-btn',_0x5c00e9['id']='closeCommentPopupPreview',_0x5c00e9['addEventListener'](_0x4f03c2(0x1fa),closePreviewCommentPopup);const _0x5e3793=document['createElement']('button');_0x5e3793['textContent']='Report',_0x5e3793[_0x4f03c2(0x229)]='popup-btn\x20report-btn',_0x5e3793[_0x4f03c2(0x213)][_0x4f03c2(0x271)]=_0x4f03c2(0x1ee),_0x5e3793['addEventListener']('click',reportComment),_0x494960['appendChild'](_0x5c00e9),_0x494960['appendChild'](_0x5e3793),_0x2e63dc['style']['display']='block',_0x9da4a3[_0x4f03c2(0x213)][_0x4f03c2(0x202)]='block';}export function setupPreviewEventListeners(){const _0x3724dd=a0_0xd38ac2,_0xd641f=document[_0x3724dd(0x240)](_0x3724dd(0x216)),_0x2f96a5=document[_0x3724dd(0x240)]('previewNextPage'),_0x3cfd1a=document['getElementById']('preview-d1-button'),_0x154035=document['getElementById'](_0x3724dd(0x248)),_0x278e1b=document['getElementById']('preview-d3-button'),_0x11440e=document['getElementById']('filter-toggle-button'),_0x5ca140=document['getElementById']('enhanced-filter-section');if(!_0xd641f||!_0x2f96a5||!_0x3cfd1a||!_0x154035||!_0x278e1b||!_0x11440e||!_0x5ca140){console['warn']('Preview\x20UI\x20or\x20Filter\x20elements\x20not\x20found,\x20cannot\x20attach\x20listeners.');return;}_0xd641f['addEventListener']('click',()=>{const _0x16230d=_0x3724dd;if(!_0xd641f['disabled'])loadRecentMatchesPreview(_0x16230d(0x23a));}),_0x2f96a5['addEventListener']('click',()=>{const _0x8fb967=_0x3724dd;if(!_0x2f96a5[_0x8fb967(0x266)])loadRecentMatchesPreview('next');}),_0x3cfd1a['addEventListener'](_0x3724dd(0x1fa),()=>{const _0x30bbcb=_0x3724dd;previewState['currentMode']!=='D1'&&!previewState[_0x30bbcb(0x20e)]&&(previewState['currentMode']='D1',updatePreviewLadderModeUI(),loadRecentMatchesPreview('current'));}),_0x154035[_0x3724dd(0x27f)](_0x3724dd(0x1fa),()=>{const _0x4b829c=_0x3724dd;previewState['currentMode']!=='D2'&&!previewState['isLoading']&&(previewState['currentMode']='D2',updatePreviewLadderModeUI(),loadRecentMatchesPreview(_0x4b829c(0x1ec)));}),_0x278e1b['addEventListener']('click',()=>{previewState['currentMode']!=='D3'&&!previewState['isLoading']&&(previewState['currentMode']='D3',updatePreviewLadderModeUI(),loadRecentMatchesPreview('current'));});_0x11440e&&_0x5ca140&&_0x11440e['addEventListener']('click',()=>{const _0x10dce4=_0x3724dd,_0x50a465=_0x5ca140['style']['display']!==_0x10dce4(0x1be);_0x5ca140['style']['display']=_0x50a465?_0x10dce4(0x1be):'block',_0x11440e[_0x10dce4(0x20d)]['toggle'](_0x10dce4(0x21e),!_0x50a465);});const _0x1a4e2a=document['getElementById']('apply-enhanced-filters'),_0x27db13=document['getElementById']('clear-enhanced-filters');_0x1a4e2a&&_0x1a4e2a['addEventListener'](_0x3724dd(0x1fa),()=>{const _0x3fb0ed=_0x3724dd;previewState['enhancedFilters'][_0x3fb0ed(0x1fc)]=document['getElementById'](_0x3fb0ed(0x1f2))['value'][_0x3fb0ed(0x1fe)](),previewState[_0x3fb0ed(0x1ff)]['levels']=document['getElementById'](_0x3fb0ed(0x233))['value']['trim']();const _0x5418fa=document['getElementById']('filter-subgames');previewState[_0x3fb0ed(0x1ff)]['subgames']=Array[_0x3fb0ed(0x1d8)](_0x5418fa['selectedOptions'])[_0x3fb0ed(0x22a)](_0x27dfad=>_0x27dfad['value'])[_0x3fb0ed(0x230)](_0x72c222=>_0x72c222!==''),loadRecentMatchesPreview('current');});_0x27db13&&_0x27db13['addEventListener']('click',()=>{clearEnhancedFilters(),loadRecentMatchesPreview('current');});document['querySelectorAll']('.jump-btn')[_0x3724dd(0x22c)](_0x66598f=>{const _0x69e25=_0x3724dd;_0x66598f['addEventListener'](_0x69e25(0x1fa),()=>{const _0x5ec363=_0x69e25,_0x861789=_0x66598f['dataset'][_0x5ec363(0x228)];jumpToPage(_0x861789);});});const _0x156187=document['getElementById'](_0x3724dd(0x262));_0x156187&&_0x156187[_0x3724dd(0x27f)]('keypress',_0x162a18=>{const _0xd5eebf=_0x3724dd;_0x162a18['key']===_0xd5eebf(0x251)&&jumpToPage('input');});const _0x2380c4=document[_0x3724dd(0x240)](_0x3724dd(0x1e2)),_0x12ec9c=document['getElementById']('commentOverlayPreview');if(_0x2380c4)_0x2380c4['addEventListener'](_0x3724dd(0x1fa),closePreviewCommentPopup);if(_0x12ec9c)_0x12ec9c['addEventListener'](_0x3724dd(0x1fa),closePreviewCommentPopup);const _0x497900=document['getElementById']('closeAddCommentPopup'),_0x34f44f=document[_0x3724dd(0x240)]('commentAddOverlay'),_0x3ec9ed=document[_0x3724dd(0x240)](_0x3724dd(0x20a));if(_0x497900)_0x497900['addEventListener'](_0x3724dd(0x1fa),closeAddCommentPopup);if(_0x34f44f)_0x34f44f['addEventListener']('click',closeAddCommentPopup);if(_0x3ec9ed)_0x3ec9ed['addEventListener']('submit',submitComment);const _0x534356=document['getElementById']('commentText'),_0x52032b=document['getElementById']('wordCount');_0x534356&&_0x52032b&&setupWordCounter('commentText','wordCount',0xf);}window[a0_0xd38ac2(0x223)]=showAddCommentPopup,window['closeAddCommentPopup']=closeAddCommentPopup,window['submitComment']=submitComment;