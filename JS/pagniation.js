const a41_0x5aad8a=a41_0x3eff,a41_0x2c7e6d=(function(){let _0xd14ee9=!![];return function(_0x4ff4be,_0x4ef02e){const _0x1e9fbc=_0xd14ee9?function(){const _0xe53ced=a41_0x3eff;if(_0x4ef02e){const _0x2019d3=_0x4ef02e[_0xe53ced(0xe8)](_0x4ff4be,arguments);return _0x4ef02e=null,_0x2019d3;}}:function(){};return _0xd14ee9=![],_0x1e9fbc;};}()),a41_0x4fbfdd=a41_0x2c7e6d(this,function(){const _0x12a479=a41_0x3eff;let _0x3b1693;try{const _0x49fb55=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x3b1693=_0x49fb55();}catch(_0x51e7fb){_0x3b1693=window;}const _0x1143e5=_0x3b1693[_0x12a479(0xd8)]=_0x3b1693['console']||{},_0x32e637=[_0x12a479(0xea),_0x12a479(0xdc),_0x12a479(0xdf),_0x12a479(0xde),_0x12a479(0xe6),'table','trace'];for(let _0x1dfe64=0x0;_0x1dfe64<_0x32e637['length'];_0x1dfe64++){const _0x3d45b6=a41_0x2c7e6d['constructor'][_0x12a479(0xd7)]['bind'](a41_0x2c7e6d),_0x2d1785=_0x32e637[_0x1dfe64],_0x49225b=_0x1143e5[_0x2d1785]||_0x3d45b6;_0x3d45b6[_0x12a479(0xe2)]=a41_0x2c7e6d['bind'](a41_0x2c7e6d),_0x3d45b6['toString']=_0x49225b['toString']['bind'](_0x49225b),_0x1143e5[_0x2d1785]=_0x3d45b6;}});a41_0x4fbfdd();import{getEloHistory,resetPagination}from'./elo-history.js';let currentPage=0x1,allMatches=[];const matchesPerPage=0xa;async function displayEloHistory(){const _0x4b9df6=a41_0x3eff,_0x559053=document['querySelector']('#elo-history\x20tbody'),_0x52472e=document['getElementById']('pagination');try{const {entries:_0x1af7b7,hasMore:_0x525eec}=await getEloHistory();if(_0x1af7b7['length']===0x0){_0x559053[_0x4b9df6(0xe4)]='<tr><td\x20colspan=\x226\x22>No\x20ELO\x20history\x20available</td></tr>';return;}allMatches=_0x1af7b7,_0x559053['innerHTML']=_0x1af7b7['map'](_0xbbaa0f=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0xbbaa0f[_0x4b9df6(0xd2)]?new Date(_0xbbaa0f[_0x4b9df6(0xd2)]['toDate']())['toLocaleString']():_0x4b9df6(0xd3))+_0x4b9df6(0xdb)+_0xbbaa0f['player']+_0x4b9df6(0xdb)+_0xbbaa0f['previousElo']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0xbbaa0f['newElo']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0xbbaa0f['change']>0x0?'+'+_0xbbaa0f['change']:_0xbbaa0f['change'])+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0xbbaa0f[_0x4b9df6(0xe9)]+_0x4b9df6(0xdb)+_0xbbaa0f[_0x4b9df6(0xe0)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x4b9df6(0xe3)](''),createPaginationControls();}catch(_0x2c2942){console['error'](_0x4b9df6(0xe5),_0x2c2942),_0x559053[_0x4b9df6(0xe4)]='<tr><td\x20colspan=\x226\x22>Error\x20loading\x20ELO\x20history</td></tr>';}}function a41_0x3eff(_0x523c96,_0x236cd8){const _0x4fbfdd=a41_0x53ea();return a41_0x3eff=function(_0x2c7e6d,_0x1ba1d2){_0x2c7e6d=_0x2c7e6d-0xcf;let _0x53ead1=_0x4fbfdd[_0x2c7e6d];return _0x53ead1;},a41_0x3eff(_0x523c96,_0x236cd8);}function a41_0x53ea(){const _0x3ca5d4=['change','#elo-history\x20tbody','click','timestamp','N/A','Enter','target','pagination-wrapper','prototype','console','addEventListener','getElementById','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','warn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','error','info','matchResult','className','__proto__','join','innerHTML','Error\x20displaying\x20ELO\x20history:','exception','\x22\x20value=\x22','apply','opponent','log'];a41_0x53ea=function(){return _0x3ca5d4;};return a41_0x53ea();}function createPaginationControls(){const _0x192d0f=a41_0x3eff,_0x88a4fe=Math['ceil'](allMatches['length']/matchesPerPage),_0x125b98=document['createElement']('div');_0x125b98[_0x192d0f(0xe1)]=_0x192d0f(0xd6),_0x125b98['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pagination-controls\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22prevPage\x22\x20'+(currentPage===0x1?'disabled':'')+'>Previous</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-navigation\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>Page\x20'+currentPage+'\x20of\x20'+_0x88a4fe+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-search\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22pageInput\x22\x20min=\x221\x22\x20max=\x22'+_0x88a4fe+_0x192d0f(0xe7)+currentPage+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goToPage\x22>Go</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22nextPage\x22\x20'+(currentPage===_0x88a4fe?'disabled':'')+'>Next</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x18989d=document['querySelector']('#elo-history');_0x18989d['parentNode']['insertBefore'](_0x125b98,_0x18989d['nextSibling']),document['getElementById']('prevPage')[_0x192d0f(0xd9)](_0x192d0f(0xd1),()=>{if(currentPage>0x1)displayMatchesPage(currentPage-0x1);}),document['getElementById']('nextPage')[_0x192d0f(0xd9)]('click',()=>{if(currentPage<_0x88a4fe)displayMatchesPage(currentPage+0x1);}),document['getElementById']('goToPage')['addEventListener']('click',()=>{const _0x4a6a78=_0x192d0f,_0x376e11=document[_0x4a6a78(0xda)]('pageInput'),_0x483fb2=parseInt(_0x376e11['value']);_0x483fb2>=0x1&&_0x483fb2<=_0x88a4fe&&displayMatchesPage(_0x483fb2);}),document['getElementById']('pageInput')['addEventListener']('keypress',_0x414bdf=>{const _0xc9a30f=_0x192d0f;if(_0x414bdf['key']===_0xc9a30f(0xd4)){const _0x5e573c=parseInt(_0x414bdf[_0xc9a30f(0xd5)]['value']);_0x5e573c>=0x1&&_0x5e573c<=_0x88a4fe&&displayMatchesPage(_0x5e573c);}});}async function displayMatchesPage(_0x54bb31){const _0x48d911=a41_0x3eff;currentPage=_0x54bb31;const _0x469e19=(currentPage-0x1)*matchesPerPage,_0x333505=_0x469e19+matchesPerPage,_0x5eacd0=allMatches['slice'](_0x469e19,_0x333505),_0x48e42c=document['querySelector'](_0x48d911(0xd0));_0x48e42c['innerHTML']=_0x5eacd0['map'](_0x3d104b=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x3d104b[_0x48d911(0xd2)]?new Date(_0x3d104b['timestamp']['toDate']())['toLocaleString']():_0x48d911(0xd3))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x3d104b['player']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x3d104b['previousElo']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x3d104b['newElo']+_0x48d911(0xdd)+(_0x3d104b['change']>0x0?'+'+_0x3d104b[_0x48d911(0xcf)]:_0x3d104b['change'])+_0x48d911(0xdd)+_0x3d104b[_0x48d911(0xe9)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x3d104b[_0x48d911(0xe0)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20')['join'](''),createPaginationControls();}document[a41_0x5aad8a(0xd9)]('DOMContentLoaded',displayEloHistory);