const a38_0x3513dd=a38_0x25c3,a38_0x5c3ed3=(function(){let _0x30c6ec=!![];return function(_0x331aaf,_0x331748){const _0x5d0988=_0x30c6ec?function(){if(_0x331748){const _0x59dea6=_0x331748['apply'](_0x331aaf,arguments);return _0x331748=null,_0x59dea6;}}:function(){};return _0x30c6ec=![],_0x5d0988;};}()),a38_0x14ea50=a38_0x5c3ed3(this,function(){const _0x2b9070=a38_0x25c3,_0x23f664=function(){let _0x19102a;try{_0x19102a=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x2276fc){_0x19102a=window;}return _0x19102a;},_0x5a8ea5=_0x23f664(),_0x560bdb=_0x5a8ea5[_0x2b9070(0xbd)]=_0x5a8ea5['console']||{},_0x4a76f8=[_0x2b9070(0xc7),'warn',_0x2b9070(0xb0),'error',_0x2b9070(0xb4),'table',_0x2b9070(0xce)];for(let _0x27491d=0x0;_0x27491d<_0x4a76f8[_0x2b9070(0xd3)];_0x27491d++){const _0x23ad9c=a38_0x5c3ed3['constructor']['prototype']['bind'](a38_0x5c3ed3),_0x5b0c04=_0x4a76f8[_0x27491d],_0xe2667b=_0x560bdb[_0x5b0c04]||_0x23ad9c;_0x23ad9c['__proto__']=a38_0x5c3ed3[_0x2b9070(0xb8)](a38_0x5c3ed3),_0x23ad9c['toString']=_0xe2667b['toString'][_0x2b9070(0xb8)](_0xe2667b),_0x560bdb[_0x5b0c04]=_0x23ad9c;}});a38_0x14ea50();import{getEloHistory,resetPagination}from'./elo-history.js';let currentPage=0x1,allMatches=[];const matchesPerPage=0xa;async function displayEloHistory(){const _0x17212e=a38_0x25c3,_0x17e129=document['querySelector']('#elo-history\x20tbody'),_0xbfe40a=document[_0x17212e(0xb5)]('pagination');try{const {entries:_0x3a9b17,hasMore:_0x448ff3}=await getEloHistory();if(_0x3a9b17['length']===0x0){_0x17e129[_0x17212e(0xca)]=_0x17212e(0xcf);return;}allMatches=_0x3a9b17,_0x17e129[_0x17212e(0xca)]=_0x3a9b17['map'](_0x343415=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x343415[_0x17212e(0xd0)]?new Date(_0x343415['timestamp']['toDate']())[_0x17212e(0xc6)]():'N/A')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x343415['player']+_0x17212e(0xb2)+_0x343415['previousElo']+_0x17212e(0xb2)+_0x343415[_0x17212e(0xc2)]+_0x17212e(0xb2)+(_0x343415['change']>0x0?'+'+_0x343415['change']:_0x343415['change'])+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x343415[_0x17212e(0xcd)]+_0x17212e(0xb2)+_0x343415[_0x17212e(0xcb)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''),createPaginationControls();}catch(_0xab9249){console[_0x17212e(0xba)](_0x17212e(0xb7),_0xab9249),_0x17e129['innerHTML']='<tr><td\x20colspan=\x226\x22>Error\x20loading\x20ELO\x20history</td></tr>';}}function createPaginationControls(){const _0x24e4a9=a38_0x25c3,_0x260f3e=Math[_0x24e4a9(0xc4)](allMatches['length']/matchesPerPage),_0xcb13d2=document['createElement']('div');_0xcb13d2[_0x24e4a9(0xc1)]=_0x24e4a9(0xcc),_0xcb13d2[_0x24e4a9(0xca)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pagination-controls\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22prevPage\x22\x20'+(currentPage===0x1?'disabled':'')+'>Previous</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-navigation\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>Page\x20'+currentPage+_0x24e4a9(0xc3)+_0x260f3e+_0x24e4a9(0xb1)+_0x260f3e+_0x24e4a9(0xbb)+currentPage+_0x24e4a9(0xb3)+(currentPage===_0x260f3e?'disabled':'')+_0x24e4a9(0xc8);const _0x7609f8=document['querySelector']('#elo-history');_0x7609f8['parentNode']['insertBefore'](_0xcb13d2,_0x7609f8['nextSibling']),document['getElementById'](_0x24e4a9(0xc9))[_0x24e4a9(0xbe)]('click',()=>{if(currentPage>0x1)displayMatchesPage(currentPage-0x1);}),document['getElementById']('nextPage')['addEventListener']('click',()=>{if(currentPage<_0x260f3e)displayMatchesPage(currentPage+0x1);}),document[_0x24e4a9(0xb5)]('goToPage')[_0x24e4a9(0xbe)]('click',()=>{const _0x5dfd2e=document['getElementById']('pageInput'),_0x44440a=parseInt(_0x5dfd2e['value']);_0x44440a>=0x1&&_0x44440a<=_0x260f3e&&displayMatchesPage(_0x44440a);}),document['getElementById']('pageInput')['addEventListener']('keypress',_0x301657=>{const _0x2822a0=_0x24e4a9;if(_0x301657[_0x2822a0(0xc0)]===_0x2822a0(0xb6)){const _0x3b2490=parseInt(_0x301657['target']['value']);_0x3b2490>=0x1&&_0x3b2490<=_0x260f3e&&displayMatchesPage(_0x3b2490);}});}function a38_0x25c3(_0x52507f,_0x484605){const _0x14ea50=a38_0x5d3b();return a38_0x25c3=function(_0x5c3ed3,_0x3d0d25){_0x5c3ed3=_0x5c3ed3-0xb0;let _0x5d3b57=_0x14ea50[_0x5c3ed3];return _0x5d3b57;},a38_0x25c3(_0x52507f,_0x484605);}async function displayMatchesPage(_0x49cdcc){const _0x1fc240=a38_0x25c3;currentPage=_0x49cdcc;const _0x58b441=(currentPage-0x1)*matchesPerPage,_0x17493a=_0x58b441+matchesPerPage,_0x9de86c=allMatches['slice'](_0x58b441,_0x17493a),_0x5f516d=document[_0x1fc240(0xbc)](_0x1fc240(0xb9));_0x5f516d['innerHTML']=_0x9de86c['map'](_0xdb226f=>_0x1fc240(0xbf)+(_0xdb226f['timestamp']?new Date(_0xdb226f['timestamp']['toDate']())['toLocaleString']():'N/A')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0xdb226f['player']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0xdb226f['previousElo']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0xdb226f['newElo']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0xdb226f[_0x1fc240(0xd2)]>0x0?'+'+_0xdb226f[_0x1fc240(0xd2)]:_0xdb226f['change'])+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0xdb226f['opponent']+_0x1fc240(0xd1)+_0xdb226f['matchResult']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20')[_0x1fc240(0xc5)](''),createPaginationControls();}function a38_0x5d3b(){const _0x5e4d85=['info','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-search\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22pageInput\x22\x20min=\x221\x22\x20max=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goToPage\x22>Go</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22nextPage\x22\x20','exception','getElementById','Enter','Error\x20displaying\x20ELO\x20history:','bind','#elo-history\x20tbody','error','\x22\x20value=\x22','querySelector','console','addEventListener','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','key','className','newElo','\x20of\x20','ceil','join','toLocaleString','log','>Next</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','prevPage','innerHTML','matchResult','pagination-wrapper','opponent','trace','<tr><td\x20colspan=\x226\x22>No\x20ELO\x20history\x20available</td></tr>','timestamp','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','change','length'];a38_0x5d3b=function(){return _0x5e4d85;};return a38_0x5d3b();}document[a38_0x3513dd(0xbe)]('DOMContentLoaded',displayEloHistory);