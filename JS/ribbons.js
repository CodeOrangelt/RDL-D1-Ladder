const a50_0x38d0bf=a50_0x19c9,a50_0x40c505=(function(){let _0x3d44ea=!![];return function(_0x3392b6,_0x21b7ea){const _0x2b4bf1=_0x3d44ea?function(){if(_0x21b7ea){const _0x1e7f38=_0x21b7ea['apply'](_0x3392b6,arguments);return _0x21b7ea=null,_0x1e7f38;}}:function(){};return _0x3d44ea=![],_0x2b4bf1;};}()),a50_0x48a9b8=a50_0x40c505(this,function(){const _0x1ddd78=a50_0x19c9,_0x49785a=function(){const _0x500a57=a50_0x19c9;let _0x2c261f;try{_0x2c261f=Function(_0x500a57(0xe2)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x29dcaa){_0x2c261f=window;}return _0x2c261f;},_0x4a980a=_0x49785a(),_0xefbfc=_0x4a980a[_0x1ddd78(0xed)]=_0x4a980a['console']||{},_0x232d7e=['log',_0x1ddd78(0xab),'info','error','exception',_0x1ddd78(0xd2),'trace'];for(let _0xe13144=0x0;_0xe13144<_0x232d7e[_0x1ddd78(0xce)];_0xe13144++){const _0x2b7b86=a50_0x40c505[_0x1ddd78(0x12c)]['prototype']['bind'](a50_0x40c505),_0x83b533=_0x232d7e[_0xe13144],_0x3092e9=_0xefbfc[_0x83b533]||_0x2b7b86;_0x2b7b86[_0x1ddd78(0x121)]=a50_0x40c505['bind'](a50_0x40c505),_0x2b7b86[_0x1ddd78(0xae)]=_0x3092e9['toString'][_0x1ddd78(0xbb)](_0x3092e9),_0xefbfc[_0x83b533]=_0x2b7b86;}});a50_0x48a9b8();import{auth,db}from'./firebase-config.js';import{doc,getDoc,setDoc,collection,query,where,getDocs,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const RIBBON_DEFINITIONS={'Rematch\x20Ribbon':{'description':'Beat\x20a\x20pilot\x20with\x20the\x20\x22Rematch\x22\x20subgame\x20selected','image':a50_0x38d0bf(0xa5),'color':a50_0x38d0bf(0xea)},'Overachiever\x20Ribbon':{'description':'Played\x20over\x20100\x20matches','image':'../images/ribbons/Overachiever.png','color':'#96CEB4','levels':[0x64,0xc8,0x12c,0x190,0x1f4,0x258,0x2bc,0x320,0x384,0x3e8]},'Brick\x20Wall':{'description':a50_0x38d0bf(0xd1),'image':'../images/ribbons/BrickWall.png','color':'#F0932B','levels':[0x50,0x55,0x5a,0x5f,0x64]},'Collector\x20Ribbon':{'description':a50_0x38d0bf(0x11d),'image':'../images/ribbons/Collector.png','color':'#6C5CE7','levels':[0x5,0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32]},'Sub-Gamer\x20Ribbon':{'description':a50_0x38d0bf(0x12a),'image':a50_0x38d0bf(0xe1),'color':a50_0x38d0bf(0xe3),'levels':[0x32,0x64,0x96,0xc8,0xfa,0x12c,0x15e,0x190,0x1c2,0x1f4]},'Explorer\x20Ribbon':{'description':'Played\x20at\x20least\x2020\x20unique\x20maps','image':'../images/ribbons/Explorer.png','color':a50_0x38d0bf(0xbd),'levels':[0x14,0x28,0x3c,0x50,0x64,0x78,0x8c,0xa0,0xb4,0xc8]},'Socialite\x20Ribbon':{'description':a50_0x38d0bf(0x100),'image':'../images/ribbons/Socialite.png','color':a50_0x38d0bf(0x108),'levels':[0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32,0x37]},'Underdog\x20Ribbon':{'description':'Beat\x20a\x20pilot\x20ranked\x20higher\x20than\x20you','image':'../images/ribbons/Underdog.png','color':a50_0x38d0bf(0x129),'levels':[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0x9,0xa]},'Domination\x20Ribbon':{'description':'Beat\x205\x20unique\x20pilots\x20in\x20a\x20rank\x20(including\x20your\x20own)','image':'../images/ribbons/Domination.png','color':'#8E44AD','levels':[0x1,0x2,0x3,0x4,0x5]},'Top\x20Bronze\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Bronze\x20rank','image':'../images/ribbons/toprank.png','color':'#CD7F32'},'Top\x20Silver\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Silver\x20rank','image':'../images/ribbons/toprank.png','color':'#C0C0C0'},'Top\x20Gold\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Gold\x20rank','image':'../images/ribbons/toprank.png','color':a50_0x38d0bf(0x11e)},'Top\x20Emerald\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Emerald\x20rank','image':'../images/ribbons/toprank.png','color':a50_0x38d0bf(0x114)}};export const RIBBON_CSS=a50_0x38d0bf(0xaf);class RibbonCacheManager{constructor(){const _0xf8d28d=a50_0x38d0bf;this['memoryCache']=new Map(),this['CACHE_DURATION']=0x3c*0x3c*0x3e8,this[_0xf8d28d(0xd6)]='ribbon_cache_',this['lastCleanup']=Date['now'](),this[_0xf8d28d(0xe9)]=0x1e*0x3c*0x3e8;}['getCacheKey'](_0x34db46,_0x3ac538){return''+this['CACHE_KEY_PREFIX']+_0x34db46+'_'+_0x3ac538;}['getCachedData'](_0x46de6c,_0x394bd4){const _0x51b77c=a50_0x38d0bf;this[_0x51b77c(0xef)]();const _0x56389b=this['getCacheKey'](_0x46de6c,_0x394bd4);if(this['memoryCache']['has'](_0x56389b)){const _0x14009c=this['memoryCache']['get'](_0x56389b);if(Date['now']()-_0x14009c['timestamp']<this['CACHE_DURATION'])return console['log'](_0x51b77c(0xfd)+_0x46de6c),_0x14009c['data'];this['memoryCache']['delete'](_0x56389b);}const _0x1adad7=localStorage['getItem'](_0x56389b);if(_0x1adad7)try{const _0x1f57a6=JSON['parse'](_0x1adad7);if(Date['now']()-_0x1f57a6['timestamp']<this['CACHE_DURATION'])return this['memoryCache'][_0x51b77c(0x10e)](_0x56389b,{'data':_0x1f57a6['ribbons'],'timestamp':_0x1f57a6[_0x51b77c(0xdb)],'matchCount':_0x1f57a6[_0x51b77c(0x12d)]}),console[_0x51b77c(0xf4)]('💾\x20Cache\x20hit\x20(localStorage)\x20for\x20'+_0x46de6c),_0x1f57a6['ribbons'];localStorage[_0x51b77c(0x9f)](_0x56389b);}catch(_0x1bea72){localStorage[_0x51b77c(0x9f)](_0x56389b);}return null;}['setCachedData'](_0x374280,_0x205b1f,_0x306bcd,_0x1dc05d){const _0x78fcb1=a50_0x38d0bf,_0x2dea88=this['getCacheKey'](_0x374280,_0x205b1f),_0x19530c=Date['now']();this['memoryCache']['set'](_0x2dea88,{'data':_0x306bcd,'timestamp':_0x19530c,'matchCount':_0x1dc05d});try{const _0x18dafc={'ribbons':_0x306bcd,'matchCount':_0x1dc05d,'timestamp':_0x19530c,'version':0x3};localStorage['setItem'](_0x2dea88,JSON['stringify'](_0x18dafc));}catch(_0x1cee79){this['clearOldCache']();try{localStorage[_0x78fcb1(0x134)](_0x2dea88,JSON['stringify'](data));}catch(_0x44f2a5){}}}['shouldRefreshCache'](_0x5987b4,_0x3b4897,_0xa3972a){const _0x4f312a=a50_0x38d0bf,_0x4545e7=this[_0x4f312a(0xfc)](_0x5987b4,_0x3b4897);if(this['memoryCache'][_0x4f312a(0xc1)](_0x4545e7)){const _0x35b966=this['memoryCache']['get'](_0x4545e7);return _0x35b966['matchCount']!==_0xa3972a;}const _0x5a3035=localStorage['getItem'](_0x4545e7);if(_0x5a3035)try{const _0x24e7e9=JSON['parse'](_0x5a3035);return _0x24e7e9['matchCount']!==_0xa3972a;}catch(_0x1ddf06){return!![];}return!![];}['invalidatePlayerCache'](_0x1ae578,_0x15ee5d){const _0x587744=a50_0x38d0bf,_0x5399dd=this[_0x587744(0xfc)](_0x1ae578,_0x15ee5d);this['memoryCache'][_0x587744(0x120)](_0x5399dd),localStorage[_0x587744(0x9f)](_0x5399dd),console['log'](_0x587744(0x131)+_0x1ae578+'\x20('+_0x15ee5d+_0x587744(0x101));}['autoCleanup'](){const _0x4b7450=a50_0x38d0bf,_0x379503=Date['now']();_0x379503-this[_0x4b7450(0xd0)]>this['CLEANUP_INTERVAL']&&(this['cleanup'](),this[_0x4b7450(0xd0)]=_0x379503);}['cleanup'](){const _0x45b265=a50_0x38d0bf,_0xe86d64=Date['now']();let _0x29c11d=0x0,_0x3120d3=0x0;for(const [_0x2ef07d,_0x18a828]of this['memoryCache']['entries']()){_0xe86d64-_0x18a828['timestamp']>this['CACHE_DURATION']&&(this['memoryCache']['delete'](_0x2ef07d),_0x29c11d++);}for(let _0x1eab75=localStorage[_0x45b265(0xce)]-0x1;_0x1eab75>=0x0;_0x1eab75--){const _0x2151af=localStorage[_0x45b265(0x126)](_0x1eab75);if(_0x2151af&&_0x2151af[_0x45b265(0xcc)](this['CACHE_KEY_PREFIX']))try{const _0x882fa4=JSON[_0x45b265(0x10d)](localStorage[_0x45b265(0xf1)](_0x2151af));_0xe86d64-_0x882fa4['timestamp']>this[_0x45b265(0x12b)]&&(localStorage[_0x45b265(0x9f)](_0x2151af),_0x3120d3++);}catch(_0x2e819a){localStorage['removeItem'](_0x2151af),_0x3120d3++;}}}[a50_0x38d0bf(0x10b)](){const _0x489c20=a50_0x38d0bf,_0x3d6fa2=[];for(let _0x4eb3e3=0x0;_0x4eb3e3<localStorage['length'];_0x4eb3e3++){const _0x288f26=localStorage[_0x489c20(0x126)](_0x4eb3e3);if(_0x288f26&&_0x288f26['startsWith'](this['CACHE_KEY_PREFIX']))try{const _0x59ca3e=JSON['parse'](localStorage['getItem'](_0x288f26));_0x3d6fa2['push']({'key':_0x288f26,'timestamp':_0x59ca3e['timestamp']});}catch(_0x2da16c){localStorage[_0x489c20(0x9f)](_0x288f26);}}_0x3d6fa2['sort']((_0x46ee4e,_0x29e563)=>_0x46ee4e['timestamp']-_0x29e563[_0x489c20(0xdb)]);const _0xecfaea=Math['floor'](_0x3d6fa2['length']/0x2);for(let _0x4e622e=0x0;_0x4e622e<_0xecfaea;_0x4e622e++){localStorage['removeItem'](_0x3d6fa2[_0x4e622e]['key']);}}['getCacheStats'](){const _0xad85e0=a50_0x38d0bf;return{'memoryEntries':this['memoryCache']['size'],'lastCleanup':new Date(this['lastCleanup'])[_0xad85e0(0xe6)]()};}}class MatchCacheManager{constructor(){const _0x26a6b3=a50_0x38d0bf;this[_0x26a6b3(0x109)]=new Map(),this['CACHE_DURATION']=0xf*0x3c*0x3e8,this[_0x26a6b3(0xd0)]=Date[_0x26a6b3(0xb3)]();}['getCachedMatches'](_0x2e5ce7,_0x5ccbb6){const _0x4da423=a50_0x38d0bf;this['autoCleanup']();const _0x5462ef=_0x2e5ce7+'_'+_0x5ccbb6,_0x114796=this['matchCache']['get'](_0x5462ef);if(_0x114796&&Date['now']()-_0x114796['timestamp']<this['CACHE_DURATION'])return console['log']('🎯\x20Cache\x20hit\x20(matches)\x20for\x20'+_0x2e5ce7),_0x114796[_0x4da423(0x106)];return _0x114796&&this['matchCache'][_0x4da423(0x120)](_0x5462ef),null;}[a50_0x38d0bf(0xf2)](_0x48b225,_0x1b0ab3,_0x547fd4){const _0x1f6199=a50_0x38d0bf,_0x5daa30=_0x48b225+'_'+_0x1b0ab3;this['matchCache']['set'](_0x5daa30,{'matches':_0x547fd4,'timestamp':Date[_0x1f6199(0xb3)]()});}['autoCleanup'](){const _0xfa563e=a50_0x38d0bf,_0x547452=Date[_0xfa563e(0xb3)]();if(_0x547452-this['lastCleanup']>0x5*0x3c*0x3e8){let _0x5b19e0=0x0;for(const [_0x6115e3,_0x459e52]of this['matchCache']['entries']()){_0x547452-_0x459e52[_0xfa563e(0xdb)]>this['CACHE_DURATION']&&(this['matchCache']['delete'](_0x6115e3),_0x5b19e0++);}this[_0xfa563e(0xd0)]=_0x547452;}}['getCacheStats'](){const _0x14a720=a50_0x38d0bf;return{'entries':this['matchCache']['size'],'lastCleanup':new Date(this['lastCleanup'])[_0x14a720(0xe6)]()};}}function a50_0x39fb(){const _0x134fed=['all','👑\x20NEW\x20Top\x20Rank\x20Achievement:\x20','removeItem','forEach','\x20→\x20','empty','playerDataCache','levels','../images/ribbons/Rematch.png','Domination\x20Ribbon','players','\x20-\x20Level\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','data','warn','evaluateExplorerRibbonFromCount','playersD3','toString','\x0a/*\x20Stats\x20integration\x20styles\x20*/\x0a.ribbon-section\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-top:\x201rem;\x0a}\x0a\x0a.ribbon-stat-item.full-width\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-bottom:\x200;\x0a}\x0a\x0a/*\x20Military\x20Ribbon\x20Rack\x20Styling\x20-\x20NO\x20OUTER\x20CONTAINER\x20*/\x0a.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20padding:\x200;\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20box-shadow:\x20none;\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20align-items:\x20flex-start;\x0a}\x0a\x0a.ribbon-rack-empty-inline\x20{\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20padding:\x2060px\x2040px;\x0a\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20border-radius:\x2012px;\x0a\x20\x20\x20\x20border:\x202px\x20solid\x20rgba(255,\x20255,\x20255,\x200.1);\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a}\x0a\x0a.empty-rack-text\x20{\x0a\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20font-style:\x20italic;\x0a\x20\x20\x20\x20font-size:\x201.2rem;\x0a}\x0a\x0a/*\x20Ribbon\x20Rows\x20*/\x0a.ribbon-row\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x206px;\x0a\x20\x20\x20\x20margin-bottom:\x206px;\x0a\x20\x20\x20\x20justify-content:\x20flex-start;\x0a}\x0a\x0a.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20margin-left:\x2060px;\x0a}\x0a\x0a/*\x20Individual\x20Military\x20Ribbon\x20Styling\x20-\x20FIXED\x20OVERFLOW\x20FOR\x20LEVEL\x20INDICATOR\x20*/\x0a.military-ribbon\x20{\x0a\x20\x20\x20\x20position:\x20relative;\x0a\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20transition:\x20transform\x200.3s\x20ease;\x0a\x20\x20\x20\x20flex-shrink:\x200;\x0a\x20\x20\x20\x20width:\x20190px;\x0a\x20\x20\x20\x20height:\x2060px;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#333;\x0a\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20overflow:\x20visible;\x20/*\x20Changed\x20from\x20hidden\x20to\x20visible\x20*/\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20margin:\x2012px\x2012px\x2012px\x200;\x20/*\x20Added\x20margin\x20to\x20prevent\x20clipping\x20*/\x0a}\x0a\x0a.military-ribbon:hover\x20{\x0a\x20\x20\x20\x20transform:\x20translateY(-4px);\x0a\x20\x20\x20\x20z-index:\x2010;\x0a}\x0a\x0a/*\x20Ribbon\x20image\x20container\x20to\x20handle\x20the\x20actual\x20overflow\x20*/\x0a.ribbon-image-container\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20border-radius:\x201px;\x0a}\x0a\x0a.ribbon-image\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20object-fit:\x20cover;\x0a\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20image-rendering:\x20crisp-edges;\x0a}\x0a\x0a.ribbon-fallback\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20text-shadow:\x200\x202px\x204px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a}\x0a\x0a.ribbon-name\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.9);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201.2;\x0a\x20\x20\x20\x20margin-top:\x206px;\x0a\x20\x20\x20\x20max-width:\x20120px;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20text-overflow:\x20ellipsis;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20-24px;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20font-weight:\x20500;\x0a}\x0a\x0a.military-ribbon:hover\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20display:\x20block;\x0a}\x0a\x0a.ribbon-devices\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x2050%;\x0a\x20\x20\x20\x20right:\x206px;\x0a\x20\x20\x20\x20transform:\x20translateY(-50%);\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x203px;\x0a\x20\x20\x20\x20z-index:\x205;\x0a}\x0a\x0a.ribbon-device\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20text-shadow:\x200\x200\x204px\x20rgba(0,0,0,0.9);\x0a\x20\x20\x20\x20filter:\x20drop-shadow(0\x202px\x204px\x20rgba(0,0,0,0.8));\x0a}\x0a\x0a.bronze-star\x20{\x0a\x20\x20\x20\x20color:\x20#CD7F32;\x0a}\x0a\x0a.silver-star\x20{\x0a\x20\x20\x20\x20color:\x20#C0C0C0;\x0a}\x0a\x0a.gold-star\x20{\x0a\x20\x20\x20\x20color:\x20#FFD700;\x0a}\x0a\x0a/*\x20Level\x20indicator\x20-\x20NOW\x20FULLY\x20VISIBLE\x20*/\x0a.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x20-8px;\x0a\x20\x20\x20\x20right:\x20-8px;\x0a\x20\x20\x20\x20background:\x20#FFD700;\x0a\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20width:\x2024px;\x0a\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#FFF;\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x208px\x20rgba(0,0,0,0.7);\x0a\x20\x20\x20\x20z-index:\x206;\x0a}\x0a\x0a/*\x20Custom\x20tooltip\x20-\x20only\x20this\x20one\x20will\x20show\x20*/\x0a.military-ribbon::before\x20{\x0a\x20\x20\x20\x20content:\x20attr(data-tooltip);\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20100%;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20background:\x20rgba(0,0,0,0.95);\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20padding:\x208px\x2012px;\x0a\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20pointer-events:\x20none;\x0a\x20\x20\x20\x20transition:\x20opacity\x200.3s;\x0a\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20margin-bottom:\x208px;\x0a\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(255,\x20255,\x20255,\x200.2);\x0a}\x0a\x0a.military-ribbon:hover::before\x20{\x0a\x20\x20\x20\x20opacity:\x201;\x0a}\x0a\x0a/*\x20Responsive\x20adjustments\x20*/\x0a@media\x20(max-width:\x201024px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2034px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x208px\x208px\x208px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-6px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-6px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2052px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-20px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20768px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2028px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x206px\x206px\x206px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x209px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-5px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-5px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2042px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2011px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-18px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x205px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20480px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2070px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x205px\x205px\x205px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2036px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x204px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-4px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-4px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a.stats-grid\x20.ribbon-section\x20{\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20padding:\x200;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20{\x0a\x20\x20\x20\x20background-color:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20padding:\x2025px;\x0a\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20.stat-label\x20{\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20text-transform:\x20uppercase;\x0a\x20\x20\x20\x20opacity:\x200.9;\x0a\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.95);\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a}\x0a\x0a.ribbon-level-indicator.level-1\x20{\x20background:\x20#808080;\x20}\x0a.ribbon-level-indicator.level-2\x20{\x20background:\x20#CD7F32;\x20}\x0a.ribbon-level-indicator.level-3\x20{\x20background:\x20#b9f1fc;\x20}\x0a.ribbon-level-indicator.level-4\x20{\x20background:\x20#FFD700;\x20}\x0a.ribbon-level-indicator.level-5-plus\x20{\x20background:\x20#50C878;\x20}\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','🎯\x20UNDERDOG:\x20','winnerRating','now','❌\x20No\x20ELO\x20rating\x20data\x20for\x20','push','join','getCacheStats','savePlayerRibbonsOptimized','getPlayerRibbonsCached','<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>','bind','description','#55A3FF','wins','checkTopRankStatus','Bronze','has','Explorer\x20Ribbon','shouldRefreshCache','getPlayerMatchesOptimized','❌\x20No\x20player\x20data\x20found\x20for\x20','Underdog\x20Ribbon','\x20Pilot','docs','error','\x20ELO)','💾\x20Saving\x20','startsWith','Top\x20','length','Error\x20saving\x20ribbons:','lastCleanup','Amass\x20at\x20least\x2080%\x20overall\x20win\x20rate\x20percentage\x20(minimum\x2050\x20matches)','table','evaluateOverachieverRibbonFromCount','rematchWins','Socialite\x20Ribbon','CACHE_KEY_PREFIX','underdogWins','\x20ELO),\x20','\x20player\x20records\x20for\x20underdog\x20calculations...','Sub-Gamer\x20Ribbon','timestamp','subgameMatches','approvedMatches',')\x20beat\x20','<div\x20class=\x22ribbon-level-indicator\x20','evaluateRematchRibbonFromCount','../images/ribbons/Subgamer.png','return\x20(function()\x20','#A29BFE','color','<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20silver-star\x22></i>','toLocaleTimeString','Brick\x20Wall','playersD2','CLEANUP_INTERVAL','#FF6B6B','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-name\x22>','🎯\x20Found\x20','console','username','autoCleanup','keys','getItem','setCachedMatches','✅\x20Preserving\x20existing\x20','log','evaluateAllRibbonsFromData','loserRating','map','subgameType','size','loserUsername','min','getCacheKey','🚀\x20Cache\x20hit\x20(memory)\x20for\x20','level','\x20Badge','Played\x20at\x20least\x2010\x20unique\x20pilots',')\x20-\x20new\x20match\x20detected','🔍\x20Checking\x20underdog:\x20Winner(','\x20-\x20No\x20changes\x20needed','evaluateSocialiteRibbonFromCount','evaluateBrickWallRibbonFromWinRate','matches','eloRating','#FF7675','matchCache','level-3','clearOldCache','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22ribbon-image\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27;\x20this.nextElementSibling.style.display=\x27block\x27;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-fallback\x22\x20style=\x22display:\x20none;\x20background:\x20','parse','set','playerRibbons','Overachiever\x20Ribbon','setCachedData','toFixed','winnerUsername','#50C878','mapPlayed','bulkLoadPlayerData','evaluateTopRankRibbon','Error\x20getting\x20player\x20data\x20for\x20','evaluateUnderdogRibbonFromCount','Standard','uniqueMaps','getPlayerDataCached','Hold\x20more\x20than\x205\x20ribbons\x20at\x20a\x20time','#FFD700','approvedMatchesD3','delete','__proto__','Rematch\x20Ribbon','evaluateCollectorRibbonFromCount','):\x20','totalMatches','key','add','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22military-ribbon\x22\x20data-tooltip=\x22','#FF9500','Play\x20over\x2050\x20subgame\x20matches','CACHE_DURATION','constructor','matchCount','level-2','<div\x20class=\x22ribbon-devices\x22>','uniqueOpponents','🗑️\x20Invalidated\x20cache\x20for\x20','dominatedRanks','from','setItem'];a50_0x39fb=function(){return _0x134fed;};return a50_0x39fb();}class RibbonSystem{constructor(){const _0x5bb793=a50_0x38d0bf;this['pendingEvaluations']=new Map(),this['batchTimer']=null,this['BATCH_DELAY']=0x32,this[_0x5bb793(0xa3)]=new Map();}async['bulkLoadPlayerData'](_0x3651b5,_0x214213){const _0x47d104=a50_0x38d0bf,_0x4c6d23=_0x214213==='D1'?_0x47d104(0xa7):_0x214213==='D2'?'playersD2':_0x47d104(0xad),_0x4342c7=collection(db,_0x4c6d23),_0x27845b=await getDocs(_0x4342c7),_0x568307=new Map();return _0x27845b['forEach'](_0x50173a=>{const _0x5de453=_0x47d104,_0x5556fa=_0x50173a[_0x5de453(0xaa)]();_0x5556fa[_0x5de453(0xee)]&&(_0x5556fa[_0x5de453(0x107)]!==undefined&&(_0x5556fa['rating']=_0x5556fa['eloRating']),_0x568307[_0x5de453(0x10e)](_0x5556fa['username'],_0x5556fa));}),console[_0x47d104(0xf4)]('📊\x20Bulk\x20loaded\x20'+_0x568307['size']+'\x20players\x20from\x20'+_0x4c6d23),_0x568307;}async['evaluateAllRibbonsFromData'](_0x589fc8,_0x48f7d4,_0x349055,_0x1ade63){const _0x1b866a=a50_0x38d0bf,_0x59d1fb={},_0x5e423f=_0x48f7d4[_0x1b866a(0xee)],_0x1f7376={'totalMatches':_0x589fc8['length'],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0,'dominatedRanks':new Set()},_0x54b9b2=new Set();_0x589fc8['forEach'](_0x1272c5=>{const _0x182283=_0x1272c5['winnerUsername']===_0x5e423f,_0xdb02f4=_0x182283?_0x1272c5['loserUsername']:_0x1272c5['winnerUsername'];if(_0xdb02f4)_0x54b9b2['add'](_0xdb02f4);}),console[_0x1b866a(0xf4)]('🚀\x20Bulk\x20loading\x20'+_0x54b9b2['size']+'\x20player\x20records\x20for\x20underdog\x20calculations...');const _0x5462e7=await this[_0x1b866a(0x116)]([..._0x54b9b2,_0x5e423f],_0x1ade63),_0x18cc7d=_0x5462e7['get'](_0x5e423f);!_0x18cc7d&&console['log']('⚠️\x20No\x20current\x20player\x20data\x20found\x20for\x20'+_0x5e423f);const _0xc1d84e={0x0:new Set(),0x1:new Set(),0x2:new Set(),0x3:new Set(),0x4:new Set()};_0x589fc8[_0x1b866a(0xa0)](_0x350cbc=>{const _0x2a7caa=_0x1b866a,_0x141a49=_0x350cbc['winnerUsername']===_0x5e423f,_0x230c13=_0x141a49?_0x350cbc['loserUsername']:_0x350cbc[_0x2a7caa(0x113)];if(_0x141a49){_0x1f7376['wins']++;_0x350cbc[_0x2a7caa(0xf8)]==='Rematch'&&_0x1f7376[_0x2a7caa(0xd4)]++;this['isUnderdogVictoryFast'](_0x350cbc,_0x5e423f,_0x18cc7d,_0x5462e7)&&_0x1f7376['underdogWins']++;const _0x2b8231=_0x5462e7['get'](_0x230c13);if(_0x2b8231){const _0x1b2f63=_0x2b8231['eloRating']||0x0,_0x59ebe2=getPlayerRankTier(_0x1b2f63);_0xc1d84e[_0x59ebe2]['add'](_0x230c13);}}_0x350cbc[_0x2a7caa(0xf8)]&&_0x350cbc['subgameType']!=='Standard'&&_0x1f7376['subgameMatches']++,_0x350cbc['mapPlayed']&&_0x1f7376['uniqueMaps']['add'](_0x350cbc['mapPlayed']),_0x230c13&&_0x1f7376['uniqueOpponents']['add'](_0x230c13);}),Object['keys'](_0xc1d84e)['forEach'](_0x3372d6=>{const _0xe7d1b6=_0x1b866a;_0xc1d84e[_0x3372d6]['size']>=0x5&&_0x1f7376['dominatedRanks'][_0xe7d1b6(0x127)](parseInt(_0x3372d6));}),console['log']('🎯\x20Found\x20'+_0x1f7376['underdogWins']+'\x20underdog\x20victories\x20for\x20'+_0x5e423f),console['log']('👑\x20Dominated\x20'+_0x1f7376[_0x1b866a(0x132)]['size']+'\x20ranks:\x20['+Array[_0x1b866a(0x133)](_0x1f7376[_0x1b866a(0x132)])[_0x1b866a(0xf7)](_0xd9473d=>getRankTierName(_0xd9473d))[_0x1b866a(0xb6)](',\x20')+']');const _0x575989=_0x1f7376[_0x1b866a(0x125)]>0x0?_0x1f7376['wins']/_0x1f7376['totalMatches']*0x64:0x0,_0x34a6a1=[['Overachiever\x20Ribbon',this[_0x1b866a(0xd3)](_0x1f7376['totalMatches'],_0x349055)],[_0x1b866a(0x122),this[_0x1b866a(0xe0)](_0x1f7376[_0x1b866a(0xd4)],_0x349055)],[_0x1b866a(0xda),this['evaluateSubGamerRibbonFromCount'](_0x1f7376[_0x1b866a(0xdc)],_0x349055)],[_0x1b866a(0xc2),this['evaluateExplorerRibbonFromCount'](_0x1f7376[_0x1b866a(0x11b)]['size'],_0x349055)],['Socialite\x20Ribbon',this['evaluateSocialiteRibbonFromCount'](_0x1f7376[_0x1b866a(0x130)][_0x1b866a(0xf9)],_0x349055)],['Brick\x20Wall',this['evaluateBrickWallRibbonFromWinRate'](_0x575989,_0x349055,_0x1f7376[_0x1b866a(0x125)])],['Underdog\x20Ribbon',this['evaluateUnderdogRibbonFromCount'](_0x1f7376[_0x1b866a(0xd7)],_0x349055)],['Domination\x20Ribbon',this['evaluateDominationRibbonFromRanks'](_0x1f7376[_0x1b866a(0x132)]['size'],_0x349055)]];_0x34a6a1['forEach'](([_0x32921c,_0x2e7fef])=>{_0x2e7fef&&(_0x59d1fb[_0x32921c]=_0x2e7fef);});const _0x3ecdd3=Object['keys'](_0x349055)[_0x1b866a(0xce)]+Object['keys'](_0x59d1fb)[_0x1b866a(0xce)],_0x50beb5=this['evaluateCollectorRibbonFromCount'](_0x3ecdd3,_0x349055);return _0x50beb5&&(_0x59d1fb['Collector\x20Ribbon']=_0x50beb5),_0x59d1fb;}['evaluateDominationRibbonFromRanks'](_0x3563ca,_0x433f20){const _0x892ce1=a50_0x38d0bf;if(_0x3563ca===0x0)return null;const _0x3948dc=_0x433f20[_0x892ce1(0xa6)]||{'level':0x0};if(_0x3563ca>_0x3948dc['level']){const _0x5c4356=[];for(let _0x40150c=0x0;_0x40150c<_0x3563ca;_0x40150c++){_0x5c4356[_0x892ce1(0xb5)](getRankTierName(_0x40150c));}return console['log']('👑\x20Domination\x20Ribbon\x20awarded:\x20Level\x20'+_0x3948dc[_0x892ce1(0xfe)]+_0x892ce1(0xa1)+_0x3563ca+'\x20(Dominated:\x20'+_0x5c4356['join'](',\x20')+')'),{'level':_0x3563ca,'awardedAt':new Date(),'dominatedRanks':_0x5c4356};}return null;}async[a50_0x38d0bf(0xbf)](_0x387a08,_0x47a97e){const _0x27f3cc=a50_0x38d0bf;try{const _0x4b52da=_0x47a97e==='D1'?'players':_0x47a97e==='D2'?_0x27f3cc(0xe8):_0x27f3cc(0xad),_0x3e516c=await this['getPlayerDataCached'](_0x387a08,_0x47a97e);if(!_0x3e516c||_0x3e516c['eloRating']===undefined)return console[_0x27f3cc(0xf4)](_0x27f3cc(0xb4)+_0x387a08),null;const _0x4f74ba=_0x3e516c['eloRating'],_0x3a3849=getPlayerRankTier(_0x4f74ba),_0x50d8bd=getRankTierName(_0x3a3849);if(_0x50d8bd==='Unranked')return console['log']('❌\x20'+_0x387a08+'\x20is\x20Unranked\x20('+_0x4f74ba+'\x20ELO)'),null;console['log']('🔍\x20Checking\x20Top\x20'+_0x50d8bd+'\x20status\x20for\x20'+_0x387a08+'\x20('+_0x4f74ba+_0x27f3cc(0xca));const _0x596619=collection(db,_0x4b52da),_0x362f63=await getDocs(_0x596619);let _0x41cb74=null,_0x5004dd=-0x1,_0x5724ed=0x0;_0x362f63['forEach'](_0x5da047=>{const _0x47ccb5=_0x5da047['data'](),_0x2eaedd=_0x47ccb5['eloRating']||0x0,_0x154379=getPlayerRankTier(_0x2eaedd);_0x154379===_0x3a3849&&(_0x5724ed++,_0x2eaedd>_0x5004dd&&(_0x5004dd=_0x2eaedd,_0x41cb74=_0x47ccb5['username']));});const _0x452d04=_0x41cb74===_0x387a08;return console['log']('📊\x20'+_0x50d8bd+'\x20Tier:\x20'+_0x5724ed+'\x20players,\x20Top:\x20'+_0x41cb74+'\x20('+_0x5004dd+_0x27f3cc(0xd8)+_0x387a08+'\x20is\x20#1:\x20'+_0x452d04),_0x452d04?_0x50d8bd:null;}catch(_0x3eb42a){return console['error']('Error\x20checking\x20top\x20rank\x20status:',_0x3eb42a),null;}}async[a50_0x38d0bf(0x117)](_0x1999d2,_0x164c4e,_0x7bb152){const _0xa6c463=a50_0x38d0bf,_0x43c4be=await this['checkTopRankStatus'](_0x1999d2,_0x164c4e),_0x54a778={};if(_0x43c4be){const _0x2a3e8b='Top\x20'+_0x43c4be+_0xa6c463(0xc7);if(RIBBON_DEFINITIONS[_0x2a3e8b]){const _0x5cda24=_0x7bb152[_0x2a3e8b];!_0x5cda24?(console[_0xa6c463(0xf4)](_0xa6c463(0x9e)+_0x1999d2+'\x20earned\x20'+_0x2a3e8b+'!'),_0x54a778[_0x2a3e8b]={'level':0x1,'awardedAt':new Date(),'rank':_0x43c4be,'achievedAt':new Date()}):console['log']('✅\x20'+_0x1999d2+'\x20already\x20has\x20'+_0x2a3e8b+_0xa6c463(0x103));}}return Object[_0xa6c463(0xf0)](_0x7bb152)['forEach'](_0xa04dbb=>{const _0x55df2d=_0xa6c463;_0xa04dbb['startsWith'](_0x55df2d(0xcd))&&_0xa04dbb['endsWith']('\x20Pilot')&&(!_0x54a778[_0xa04dbb]&&console['log'](_0x55df2d(0xf3)+_0xa04dbb));}),_0x54a778;}async['evaluateAllRibbonsForPlayerOptimized'](_0x576b8b,_0x48fe3e='D1'){const _0x2d6f9d=a50_0x38d0bf;try{const _0x2a6ecd=ribbonCache['getCachedData'](_0x576b8b,_0x48fe3e);if(_0x2a6ecd){const _0x5ba0f8=await this[_0x2d6f9d(0x117)](_0x576b8b,_0x48fe3e,_0x2a6ecd);if(Object[_0x2d6f9d(0xf0)](_0x5ba0f8)[_0x2d6f9d(0xce)]>0x0){console[_0x2d6f9d(0xf4)]('🆕\x20New\x20top\x20rank\x20achievements\x20found\x20for\x20cached\x20player\x20'+_0x576b8b),await this['savePlayerRibbonsOptimized'](_0x576b8b,_0x5ba0f8,_0x48fe3e);const _0x1da96c={..._0x2a6ecd,..._0x5ba0f8};return ribbonCache['setCachedData'](_0x576b8b,_0x48fe3e,_0x1da96c,0x0),_0x1da96c;}return _0x2a6ecd;}const [_0x2033e8,_0x5dddc3]=await Promise[_0x2d6f9d(0x9d)]([this[_0x2d6f9d(0x11c)](_0x576b8b,_0x48fe3e),this['getPlayerRibbonsCached'](_0x576b8b,_0x48fe3e)]);if(!_0x2033e8)return{};const _0x1e2acb=_0x2033e8['matchesPlayed']||0x0,_0x2fae55=await this['evaluateTopRankRibbon'](_0x576b8b,_0x48fe3e,_0x5dddc3);if(!ribbonCache[_0x2d6f9d(0xc3)](_0x576b8b,_0x48fe3e,_0x1e2acb)){if(Object['keys'](_0x2fae55)[_0x2d6f9d(0xce)]>0x0){await this[_0x2d6f9d(0xb8)](_0x576b8b,_0x2fae55,_0x48fe3e);const _0xf40518={..._0x5dddc3,..._0x2fae55};return ribbonCache['setCachedData'](_0x576b8b,_0x48fe3e,_0xf40518,_0x1e2acb),_0xf40518;}return ribbonCache['setCachedData'](_0x576b8b,_0x48fe3e,_0x5dddc3,_0x1e2acb),_0x5dddc3;}const _0x569666=await this[_0x2d6f9d(0xc4)](_0x576b8b,_0x48fe3e),_0x1eafa5=await this[_0x2d6f9d(0xf5)](_0x569666,_0x2033e8,_0x5dddc3,_0x48fe3e);Object['assign'](_0x1eafa5,_0x2fae55);Object[_0x2d6f9d(0xf0)](_0x1eafa5)['length']>0x0&&(console[_0x2d6f9d(0xf4)](_0x2d6f9d(0xcb)+Object['keys'](_0x1eafa5)['length']+'\x20new/updated\x20ribbons\x20for\x20'+_0x576b8b),await this['savePlayerRibbonsOptimized'](_0x576b8b,_0x1eafa5,_0x48fe3e));const _0x578b4b={..._0x5dddc3,..._0x1eafa5};return ribbonCache[_0x2d6f9d(0x111)](_0x576b8b,_0x48fe3e,_0x578b4b,_0x569666['length']),_0x578b4b;}catch(_0xfb4c57){return console['error']('❌\x20Error\x20in\x20ribbon\x20evaluation:',_0xfb4c57),{};}}async['isUnderdogVictory'](_0x2d3991,_0x251281,_0x5db652){const _0x3fb9d1=a50_0x38d0bf,_0x1ef828=_0x2d3991['winnerUsername']===_0x251281;if(!_0x1ef828)return![];const _0x4c409a=_0x2d3991[_0x3fb9d1(0xfa)],[_0x49f997,_0x3e0f32]=await Promise['all']([this['getPlayerDataCached'](_0x251281,_0x5db652),this['getPlayerDataCached'](_0x4c409a,_0x5db652)]);if(!_0x49f997||!_0x3e0f32)return console['log']('⚠️\x20Missing\x20player\x20data\x20for\x20'+_0x251281+'\x20or\x20'+_0x4c409a),![];const _0x55b9b9=_0x49f997['eloRating']||0x0,_0xac0e90=_0x3e0f32['eloRating']||0x0,_0x3963b2=getPlayerRankTier(_0x55b9b9),_0x143c69=getPlayerRankTier(_0xac0e90);console['log'](_0x3fb9d1(0x102)+_0x251281+_0x3fb9d1(0x124)+_0x55b9b9+'\x20ELO\x20('+getRankTierName(_0x3963b2)+')\x20vs\x20Loser('+_0x4c409a+'):\x20'+_0xac0e90+'\x20ELO\x20('+getRankTierName(_0x143c69)+')');if(_0x143c69>_0x3963b2)return console[_0x3fb9d1(0xf4)]('🎯\x20UNDERDOG\x20VICTORY:\x20'+getRankTierName(_0x3963b2)+'\x20beat\x20'+getRankTierName(_0x143c69)+'!'),!![];return console['log']('❌\x20Not\x20underdog:\x20'+getRankTierName(_0x3963b2)+'\x20vs\x20'+getRankTierName(_0x143c69)),![];}['isUnderdogVictoryFast'](_0x1191ab,_0x457133,_0x45d88e,_0x815ea){const _0x4bd2a1=a50_0x38d0bf,_0x1793ff=_0x1191ab['winnerUsername']===_0x457133;if(!_0x1793ff)return![];const _0x7a267=_0x1191ab['loserUsername'],_0x40c0e6=_0x815ea['get'](_0x7a267);if(!_0x45d88e||!_0x40c0e6)return![];const _0x2f7272=_0x45d88e[_0x4bd2a1(0x107)]||0x0,_0x3a96a4=_0x40c0e6[_0x4bd2a1(0x107)]||0x0,_0x1ae3c8=getPlayerRankTier(_0x2f7272),_0x40a39a=getPlayerRankTier(_0x3a96a4);if(_0x40a39a>_0x1ae3c8)return console['log'](_0x4bd2a1(0xb1)+getRankTierName(_0x1ae3c8)+'('+_0x2f7272+_0x4bd2a1(0xde)+getRankTierName(_0x40a39a)+'('+_0x3a96a4+')'),!![];return![];}async['evaluateAllRibbonsFromData'](_0x52c625,_0xaa62b9,_0x5323fb,_0x294c19){const _0x2b8aa8=a50_0x38d0bf,_0x16cc90={},_0x1ca87f=_0xaa62b9[_0x2b8aa8(0xee)],_0x57e076={'totalMatches':_0x52c625[_0x2b8aa8(0xce)],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0},_0x5e82c8=new Set();_0x52c625[_0x2b8aa8(0xa0)](_0x507fad=>{const _0x3cf694=_0x2b8aa8,_0x461bdc=_0x507fad[_0x3cf694(0x113)]===_0x1ca87f,_0xde484d=_0x461bdc?_0x507fad['loserUsername']:_0x507fad['winnerUsername'];if(_0xde484d)_0x5e82c8['add'](_0xde484d);}),console['log']('🚀\x20Bulk\x20loading\x20'+_0x5e82c8['size']+_0x2b8aa8(0xd9));const _0x1395c8=await this['bulkLoadPlayerData']([..._0x5e82c8,_0x1ca87f],_0x294c19),_0x30b185=_0x1395c8['get'](_0x1ca87f);!_0x30b185&&console[_0x2b8aa8(0xf4)]('⚠️\x20No\x20current\x20player\x20data\x20found\x20for\x20'+_0x1ca87f);_0x52c625[_0x2b8aa8(0xa0)](_0x47aaa7=>{const _0x5114a6=_0x2b8aa8,_0x23f7f4=_0x47aaa7['winnerUsername']===_0x1ca87f,_0x48f45f=_0x23f7f4?_0x47aaa7[_0x5114a6(0xfa)]:_0x47aaa7['winnerUsername'];_0x23f7f4&&(_0x57e076['wins']++,_0x47aaa7[_0x5114a6(0xf8)]==='Rematch'&&_0x57e076['rematchWins']++,this['isUnderdogVictoryFast'](_0x47aaa7,_0x1ca87f,_0x30b185,_0x1395c8)&&_0x57e076[_0x5114a6(0xd7)]++),_0x47aaa7['subgameType']&&_0x47aaa7['subgameType']!==_0x5114a6(0x11a)&&_0x57e076[_0x5114a6(0xdc)]++,_0x47aaa7[_0x5114a6(0x115)]&&_0x57e076['uniqueMaps'][_0x5114a6(0x127)](_0x47aaa7[_0x5114a6(0x115)]),_0x48f45f&&_0x57e076[_0x5114a6(0x130)]['add'](_0x48f45f);}),console['log'](_0x2b8aa8(0xec)+_0x57e076['underdogWins']+'\x20underdog\x20victories\x20for\x20'+_0x1ca87f);const _0x264945=_0x57e076['totalMatches']>0x0?_0x57e076[_0x2b8aa8(0xbe)]/_0x57e076[_0x2b8aa8(0x125)]*0x64:0x0,_0x599690=[[_0x2b8aa8(0x110),this[_0x2b8aa8(0xd3)](_0x57e076['totalMatches'],_0x5323fb)],[_0x2b8aa8(0x122),this['evaluateRematchRibbonFromCount'](_0x57e076['rematchWins'],_0x5323fb)],[_0x2b8aa8(0xda),this['evaluateSubGamerRibbonFromCount'](_0x57e076[_0x2b8aa8(0xdc)],_0x5323fb)],[_0x2b8aa8(0xc2),this[_0x2b8aa8(0xac)](_0x57e076['uniqueMaps']['size'],_0x5323fb)],[_0x2b8aa8(0xd5),this[_0x2b8aa8(0x104)](_0x57e076['uniqueOpponents']['size'],_0x5323fb)],['Brick\x20Wall',this['evaluateBrickWallRibbonFromWinRate'](_0x264945,_0x5323fb,_0x57e076[_0x2b8aa8(0x125)])],['Underdog\x20Ribbon',this[_0x2b8aa8(0x119)](_0x57e076['underdogWins'],_0x5323fb)]];_0x599690['forEach'](([_0xa4ff0d,_0x32e41f])=>{_0x32e41f&&(_0x16cc90[_0xa4ff0d]=_0x32e41f);});const _0x18286c=Object['keys'](_0x5323fb)[_0x2b8aa8(0xce)]+Object['keys'](_0x16cc90)['length'],_0x1fdd47=this['evaluateCollectorRibbonFromCount'](_0x18286c,_0x5323fb);return _0x1fdd47&&(_0x16cc90['Collector\x20Ribbon']=_0x1fdd47),_0x16cc90;}async[a50_0x38d0bf(0xc4)](_0x2ab4e1,_0x220cd5){const _0x3409da=a50_0x38d0bf,_0x3d3c83=matchCache['getCachedMatches'](_0x2ab4e1,_0x220cd5);if(_0x3d3c83)return _0x3d3c83;try{const _0x1dcda0=_0x220cd5==='D1'?_0x3409da(0xdd):_0x220cd5==='D2'?'approvedMatchesD2':_0x3409da(0x11f),_0x40af44=collection(db,_0x1dcda0),[_0x12c0cd,_0x596385]=await Promise[_0x3409da(0x9d)]([getDocs(query(_0x40af44,where(_0x3409da(0x113),'==',_0x2ab4e1))),getDocs(query(_0x40af44,where('loserUsername','==',_0x2ab4e1)))]),_0x116b3a=new Set(),_0x55fc51=[];return _0x12c0cd['forEach'](_0x42033c=>{const _0xc1da09=_0x3409da;if(!_0x116b3a['has'](_0x42033c['id'])){_0x116b3a['add'](_0x42033c['id']);const _0x325e08={'id':_0x42033c['id'],..._0x42033c['data']()};if(!_0x325e08[_0xc1da09(0xb2)])_0x325e08['winnerRating']=0x0;if(!_0x325e08[_0xc1da09(0xf6)])_0x325e08[_0xc1da09(0xf6)]=0x0;_0x55fc51['push'](_0x325e08);}}),_0x596385[_0x3409da(0xa0)](_0x3df41d=>{const _0x5ee440=_0x3409da;if(!_0x116b3a['has'](_0x3df41d['id'])){_0x116b3a['add'](_0x3df41d['id']);const _0x1bb0c9={'id':_0x3df41d['id'],..._0x3df41d[_0x5ee440(0xaa)]()};if(!_0x1bb0c9['winnerRating'])_0x1bb0c9[_0x5ee440(0xb2)]=0x0;if(!_0x1bb0c9['loserRating'])_0x1bb0c9['loserRating']=0x0;_0x55fc51[_0x5ee440(0xb5)](_0x1bb0c9);}}),matchCache[_0x3409da(0xf2)](_0x2ab4e1,_0x220cd5,_0x55fc51),_0x55fc51;}catch(_0x403917){return console['error']('❌\x20Error\x20fetching\x20matches:',_0x403917),[];}}async['getPlayerDataCached'](_0x297697,_0x2c115a){const _0x2fb46e=a50_0x38d0bf;try{const _0x391cc1=_0x2c115a==='D1'?'players':_0x2c115a==='D2'?_0x2fb46e(0xe8):'playersD3',_0x6c8884=collection(db,_0x391cc1),_0x1f0fd7=query(_0x6c8884,where('username','==',_0x297697),limit(0x1)),_0x42e94e=await getDocs(_0x1f0fd7);if(_0x42e94e[_0x2fb46e(0xa2)])return console[_0x2fb46e(0xf4)](_0x2fb46e(0xc5)+_0x297697+'\x20in\x20'+_0x391cc1),null;const _0x5096ee=_0x42e94e[_0x2fb46e(0xc8)][0x0][_0x2fb46e(0xaa)]();return _0x5096ee['eloRating']!==undefined&&(_0x5096ee['rating']=_0x5096ee['eloRating']),console[_0x2fb46e(0xf4)]('✅\x20Found\x20player\x20data\x20for\x20'+_0x297697+':\x20ELO\x20'+_0x5096ee['eloRating']+',\x20Position\x20'+_0x5096ee['position']),_0x5096ee;}catch(_0x2c6a22){return console['error'](_0x2fb46e(0x118)+_0x297697+':',_0x2c6a22),null;}}async['getPlayerRibbonsCached'](_0x48fc12,_0x1d7a71){const _0x41ee68=a50_0x38d0bf;try{const _0x8241c9='playerRibbons'+(_0x1d7a71==='D1'?'':_0x1d7a71),_0x470793=doc(db,_0x8241c9,_0x48fc12),_0x21504b=await getDoc(_0x470793);return _0x21504b['exists']()?_0x21504b['data']()['ribbons']||{}:{};}catch(_0x9dbc3d){return console[_0x41ee68(0xc9)]('Error\x20getting\x20player\x20ribbons:',_0x9dbc3d),{};}}async[a50_0x38d0bf(0xb8)](_0x175e00,_0x2e5ac9,_0x298461){const _0xd3e5d1=a50_0x38d0bf;try{const _0x201618=_0xd3e5d1(0x10f)+(_0x298461==='D1'?'':_0x298461),_0x2c760e=doc(db,_0x201618,_0x175e00),_0x26097d=await this[_0xd3e5d1(0xb9)](_0x175e00,_0x298461),_0x249f1d={..._0x26097d,..._0x2e5ac9};await setDoc(_0x2c760e,{'username':_0x175e00,'ladder':_0x298461,'ribbons':_0x249f1d,'lastUpdated':new Date()},{'merge':!![]});}catch(_0x28a7b5){console['error'](_0xd3e5d1(0xcf),_0x28a7b5);}}['evaluateOverachieverRibbonFromCount'](_0x39ad79,_0x20d080){const _0x2395d3=a50_0x38d0bf,_0x1901f3=_0x20d080['Overachiever\x20Ribbon']||{'level':0x0},_0x349a2c=RIBBON_DEFINITIONS[_0x2395d3(0x110)]['levels'],_0x293020=_0x349a2c['findIndex'](_0x20ff94=>_0x39ad79<_0x20ff94),_0x438ef9=_0x293020===-0x1?_0x349a2c['length']:_0x293020;if(_0x438ef9>_0x1901f3['level'])return{'level':_0x438ef9,'awardedAt':new Date()};return null;}['evaluateRematchRibbonFromCount'](_0x304a57,_0x3b6c0e){const _0x40c7fc=a50_0x38d0bf;if(_0x304a57===0x0)return null;const _0x430f50=_0x3b6c0e[_0x40c7fc(0x122)]||{'level':0x0};if(_0x304a57>_0x430f50['level'])return{'level':_0x304a57,'awardedAt':new Date()};return null;}['evaluateSubGamerRibbonFromCount'](_0x3c08a1,_0x28b2f8){const _0x11b9a6=a50_0x38d0bf,_0x35dc5c=_0x28b2f8['Sub-Gamer\x20Ribbon']||{'level':0x0},_0x464711=RIBBON_DEFINITIONS['Sub-Gamer\x20Ribbon']['levels'],_0x5c8e57=_0x464711['findIndex'](_0x39912b=>_0x3c08a1<_0x39912b),_0x21fca5=_0x5c8e57===-0x1?_0x464711[_0x11b9a6(0xce)]:_0x5c8e57;if(_0x21fca5>_0x35dc5c['level'])return{'level':_0x21fca5,'awardedAt':new Date()};return null;}['evaluateExplorerRibbonFromCount'](_0x3ab960,_0x15b5a6){const _0x3a65a3=_0x15b5a6['Explorer\x20Ribbon']||{'level':0x0},_0x37cdbe=RIBBON_DEFINITIONS['Explorer\x20Ribbon']['levels'],_0x1adf2a=_0x37cdbe['findIndex'](_0x410826=>_0x3ab960<_0x410826),_0x4f0738=_0x1adf2a===-0x1?_0x37cdbe['length']:_0x1adf2a;if(_0x4f0738>_0x3a65a3['level'])return{'level':_0x4f0738,'awardedAt':new Date()};return null;}['evaluateSocialiteRibbonFromCount'](_0x4a2a15,_0x2233d0){const _0xadf3c9=a50_0x38d0bf,_0x20a674=_0x2233d0[_0xadf3c9(0xd5)]||{'level':0x0},_0x54d019=RIBBON_DEFINITIONS['Socialite\x20Ribbon']['levels'],_0x4cf788=_0x54d019['findIndex'](_0x43a9e8=>_0x4a2a15<_0x43a9e8),_0x51fac6=_0x4cf788===-0x1?_0x54d019['length']:_0x4cf788;if(_0x51fac6>_0x20a674[_0xadf3c9(0xfe)])return{'level':_0x51fac6,'awardedAt':new Date()};return null;}[a50_0x38d0bf(0x105)](_0x2fb489,_0x15099e,_0x3f3458){const _0x14df6e=a50_0x38d0bf;if(_0x3f3458<0x32)return console['log']('⚠️\x20Brick\x20Wall\x20ribbon\x20requires\x2050+\x20matches\x20(player\x20has\x20'+_0x3f3458+')'),null;const _0x4faec2=_0x15099e[_0x14df6e(0xe7)]||{'level':0x0},_0x235b1d=RIBBON_DEFINITIONS[_0x14df6e(0xe7)]['levels'],_0x35d78a=_0x235b1d['findIndex'](_0x4aaaf3=>_0x2fb489<_0x4aaaf3),_0x464e2b=_0x35d78a===-0x1?_0x235b1d['length']:_0x35d78a;if(_0x464e2b>_0x4faec2['level'])return console['log']('🏆\x20Brick\x20Wall\x20ribbon\x20awarded:\x20'+_0x2fb489[_0x14df6e(0x112)](0x1)+'%\x20win\x20rate\x20over\x20'+_0x3f3458+'\x20matches'),{'level':_0x464e2b,'awardedAt':new Date(),'winRate':_0x2fb489,'matchesPlayed':_0x3f3458};return null;}[a50_0x38d0bf(0x123)](_0x35cb13,_0x22853f){const _0x12502f=a50_0x38d0bf,_0x1911da=_0x22853f['Collector\x20Ribbon']||{'level':0x0},_0x4a1157=RIBBON_DEFINITIONS['Collector\x20Ribbon'][_0x12502f(0xa4)],_0x6d31e5=_0x4a1157['findIndex'](_0x410f38=>_0x35cb13<_0x410f38),_0x26798f=_0x6d31e5===-0x1?_0x4a1157['length']:_0x6d31e5;if(_0x26798f>_0x1911da['level'])return{'level':_0x26798f,'awardedAt':new Date()};return null;}['evaluateUnderdogRibbonFromCount'](_0x4b4f8e,_0x237f3b){const _0x58c509=a50_0x38d0bf;if(_0x4b4f8e===0x0)return null;const _0x130b5a=_0x237f3b[_0x58c509(0xc6)]||{'level':0x0},_0x271160=RIBBON_DEFINITIONS[_0x58c509(0xc6)]['levels'];let _0x390264=0x0;for(let _0x45b50c=0x0;_0x45b50c<_0x271160['length'];_0x45b50c++){if(_0x4b4f8e>=_0x271160[_0x45b50c])_0x390264=_0x45b50c+0x1;else break;}if(_0x390264>_0x130b5a[_0x58c509(0xfe)])return console['log']('🏆\x20Underdog\x20Ribbon\x20upgrade:\x20Level\x20'+_0x130b5a['level']+'\x20→\x20'+_0x390264+'\x20('+_0x4b4f8e+'\x20underdog\x20wins)'),{'level':_0x390264,'awardedAt':new Date()};return null;}}function getPlayerRankTier(_0xc0e790){if(_0xc0e790===undefined||_0xc0e790===null)return 0x0;const _0xd23f61=Number(_0xc0e790);if(isNaN(_0xd23f61))return 0x0;if(_0xd23f61>=0x7d0)return 0x4;if(_0xd23f61>=0x708)return 0x3;if(_0xd23f61>=0x640)return 0x2;if(_0xd23f61>=0x578)return 0x1;return 0x0;}function getRankTierName(_0x47b770){const _0x52663a=a50_0x38d0bf,_0x5e86e4=['Unranked',_0x52663a(0xc0),'Silver','Gold','Emerald'];return _0x5e86e4[_0x47b770]||'Unranked';}function a50_0x19c9(_0x390adf,_0x3557ad){const _0x48a9b8=a50_0x39fb();return a50_0x19c9=function(_0x40c505,_0x5ae0e8){_0x40c505=_0x40c505-0x9d;let _0x39fbee=_0x48a9b8[_0x40c505];return _0x39fbee;},a50_0x19c9(_0x390adf,_0x3557ad);}const ribbonSystem=new RibbonSystem(),ribbonCache=new RibbonCacheManager(),matchCache=new MatchCacheManager();typeof window!=='undefined'&&(window['getRibbonCacheStats']=()=>{const _0x4e6635=a50_0x38d0bf;return{'ribbon':ribbonCache[_0x4e6635(0xb7)](),'match':matchCache['getCacheStats']()};});export async function evaluatePlayerRibbons(_0x331596,_0x79ecad='D1'){return await ribbonSystem['evaluateAllRibbonsForPlayerOptimized'](_0x331596,_0x79ecad);}export function getRibbonHTML(_0x1f1c79,_0x5c963b){const _0x474697=a50_0x38d0bf,_0xd92c03=RIBBON_DEFINITIONS[_0x1f1c79];if(!_0xd92c03)return'';const _0x3caaaa=_0x5c963b['level']||0x1,_0x1d82b5=_0x1f1c79['replace']('\x20Ribbon','')['replace'](_0x474697(0xff),''),_0x2a4297=_0x3d7789=>{const _0x4e3d4c=_0x474697;if(_0x3d7789<=0x1)return'level-1';if(_0x3d7789<=0x2)return _0x4e3d4c(0x12e);if(_0x3d7789<=0x3)return _0x4e3d4c(0x10a);if(_0x3d7789<=0x4)return'level-4';return'level-5-plus';},_0x20540f=_0x10118d=>{const _0x238297=_0x474697;if(_0x10118d<=0x1)return'';const _0x5ce291=[];if(_0x10118d>=0x2&&_0x10118d<=0x4){const _0x47fee8=Math['min'](_0x10118d-0x1,0x3);for(let _0x1797b6=0x0;_0x1797b6<_0x47fee8;_0x1797b6++){_0x5ce291['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>');}}if(_0x10118d>=0x5&&_0x10118d<=0x7){_0x5ce291['push'](_0x238297(0xe5));const _0x4c46b8=Math[_0x238297(0xfb)](_0x10118d-0x5,0x2);for(let _0x8fabd9=0x0;_0x8fabd9<_0x4c46b8;_0x8fabd9++){_0x5ce291[_0x238297(0xb5)](_0x238297(0xba));}}return _0x10118d>=0x8&&_0x5ce291['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20gold-star\x22></i>'),_0x5ce291['length']>0x0?_0x238297(0x12f)+_0x5ce291['join']('')+'</div>':'';},_0x5e2239=_0xd92c03[_0x474697(0xbc)]+_0x474697(0xa8)+_0x3caaaa;return _0x474697(0x128)+_0x5e2239+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-image-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22'+_0xd92c03['image']+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22'+_0x1f1c79+_0x474697(0x10c)+_0xd92c03[_0x474697(0xe4)]+';\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1d82b5['substring'](0x0,0x6)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x20540f(_0x3caaaa)+_0x474697(0xeb)+_0x1d82b5+_0x474697(0xa9)+(_0x3caaaa>0x1?_0x474697(0xdf)+_0x2a4297(_0x3caaaa)+'\x22>'+_0x3caaaa+'</div>':'')+_0x474697(0xb0);}