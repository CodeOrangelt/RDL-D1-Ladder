const a6_0x523abf=a6_0x2a3c;(function(_0x428b36,_0x41a0eb){const _0x2e4131=a6_0x2a3c,_0x37afaf=_0x428b36();while(!![]){try{const _0x2883c4=parseInt(_0x2e4131(0x224))/0x1+parseInt(_0x2e4131(0x1e4))/0x2*(-parseInt(_0x2e4131(0x1eb))/0x3)+parseInt(_0x2e4131(0x292))/0x4+-parseInt(_0x2e4131(0x22e))/0x5+parseInt(_0x2e4131(0x213))/0x6*(parseInt(_0x2e4131(0x1fa))/0x7)+-parseInt(_0x2e4131(0x1dd))/0x8*(parseInt(_0x2e4131(0x308))/0x9)+-parseInt(_0x2e4131(0x260))/0xa*(-parseInt(_0x2e4131(0x1cc))/0xb);if(_0x2883c4===_0x41a0eb)break;else _0x37afaf['push'](_0x37afaf['shift']());}catch(_0x507532){_0x37afaf['push'](_0x37afaf['shift']());}}}(a6_0x880d,0xb43a3));const a6_0x29c4a4=(function(){let _0x514207=!![];return function(_0x14747e,_0x346231){const _0x41e251=_0x514207?function(){const _0x4dc6eb=a6_0x2a3c;if(_0x346231){const _0x538cfb=_0x346231[_0x4dc6eb(0x2d7)](_0x14747e,arguments);return _0x346231=null,_0x538cfb;}}:function(){};return _0x514207=![],_0x41e251;};}()),a6_0x341a03=a6_0x29c4a4(this,function(){const _0x14856c=a6_0x2a3c;return a6_0x341a03['toString']()[_0x14856c(0x2ab)](_0x14856c(0x2e3))[_0x14856c(0x21a)]()['constructor'](a6_0x341a03)[_0x14856c(0x2ab)](_0x14856c(0x2e3));});a6_0x341a03();const a6_0x2bf6fe=(function(){let _0x15e924=!![];return function(_0x574d6b,_0x29863b){const _0x3d9108=_0x15e924?function(){const _0x20b0d5=a6_0x2a3c;if(_0x29863b){const _0x1c3a85=_0x29863b[_0x20b0d5(0x2d7)](_0x574d6b,arguments);return _0x29863b=null,_0x1c3a85;}}:function(){};return _0x15e924=![],_0x3d9108;};}()),a6_0x165f49=a6_0x2bf6fe(this,function(){const _0x30b056=a6_0x2a3c,_0x1ad2aa=function(){const _0x53f4a8=a6_0x2a3c;let _0x134691;try{_0x134691=Function('return\x20(function()\x20'+_0x53f4a8(0x233)+');')();}catch(_0x168c23){_0x134691=window;}return _0x134691;},_0x3f7b7e=_0x1ad2aa(),_0x4792e1=_0x3f7b7e[_0x30b056(0x293)]=_0x3f7b7e[_0x30b056(0x293)]||{},_0x4a4b5d=[_0x30b056(0x1fc),_0x30b056(0x2a9),_0x30b056(0x20c),'error',_0x30b056(0x217),_0x30b056(0x2c2),_0x30b056(0x2fb)];for(let _0x1dd9c5=0x0;_0x1dd9c5<_0x4a4b5d[_0x30b056(0x21b)];_0x1dd9c5++){const _0x18cc89=a6_0x2bf6fe[_0x30b056(0x254)]['prototype'][_0x30b056(0x290)](a6_0x2bf6fe),_0x40522d=_0x4a4b5d[_0x1dd9c5],_0x36f3b1=_0x4792e1[_0x40522d]||_0x18cc89;_0x18cc89[_0x30b056(0x289)]=a6_0x2bf6fe[_0x30b056(0x290)](a6_0x2bf6fe),_0x18cc89[_0x30b056(0x21a)]=_0x36f3b1['toString'][_0x30b056(0x290)](_0x36f3b1),_0x4792e1[_0x40522d]=_0x18cc89;}});a6_0x165f49();import{collection,getDocs,addDoc,query,orderBy,limit,startAfter,Timestamp,serverTimestamp,getDoc,doc,where,deleteDoc}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const mutedUsers=[{'username':a6_0x523abf(0x1b5),'muteFromDate':new Date(a6_0x523abf(0x204))[a6_0x523abf(0x2fd)]()}];function isUsernameMuted(_0x4d256d,_0x3baaf7){const _0x4d66e6=a6_0x523abf;if(!_0x4d256d)return![];const _0x59a32c=mutedUsers[_0x4d66e6(0x1f8)](_0x3beccd=>_0x3beccd[_0x4d66e6(0x287)]===_0x4d256d);if(!_0x59a32c)return![];if(!_0x3baaf7)return!![];const _0x33c4cf=_0x3baaf7 instanceof Date?_0x3baaf7[_0x4d66e6(0x2fd)]():_0x3baaf7[_0x4d66e6(0x268)]?_0x3baaf7['seconds']*0x3e8:Date[_0x4d66e6(0x28f)]();return _0x33c4cf>=_0x59a32c[_0x4d66e6(0x22b)];}function filterComment(_0x3938f3,_0x5e3ec3,_0x68e69){const _0x51c5a5=a6_0x523abf;if(!_0x3938f3)return'-';if(isUsernameMuted(_0x5e3ec3,_0x68e69))return _0x51c5a5(0x1ff);return _0x3938f3;}const previewState={'currentMode':'D1','currentPage':0x1,'matchesPerPage':0x5,'lastVisible':null,'firstVisible':null,'isLoading':![],'filterUsername':'','enhancedFilters':{'pilots':'','levels':'','subgames':[]},'totalPages':0x1,'hasReachedEnd':![]};function getCacheKey(_0x412ccb,_0x1e1202,_0x29bf7d){const _0x4ebb32=a6_0x523abf,_0x4e852f='u:'+(_0x29bf7d[_0x4ebb32(0x1bb)]||'');return _0x4ebb32(0x1ca)+_0x412ccb+'_p'+_0x1e1202+'_'+_0x4e852f;}function getCachedPage(_0x4eae86){const _0x2100fc=a6_0x523abf,_0x5272f8=sessionStorage['getItem'](_0x4eae86);if(_0x5272f8)try{return JSON['parse'](_0x5272f8);}catch(_0x2a6042){return console[_0x2100fc(0x1e2)](_0x2100fc(0x222),_0x2a6042),sessionStorage[_0x2100fc(0x225)](_0x4eae86),null;}return null;}function a6_0x2a3c(_0x3c5ba8,_0x8ae60a){const _0x1e436b=a6_0x880d();return a6_0x2a3c=function(_0x165f49,_0x2bf6fe){_0x165f49=_0x165f49-0x1b1;let _0x3d7509=_0x1e436b[_0x165f49];return _0x3d7509;},a6_0x2a3c(_0x3c5ba8,_0x8ae60a);}function cachePage(_0x4b9e1e,_0x23ecfa){const _0x1167bb=a6_0x523abf;try{sessionStorage[_0x1167bb(0x219)](_0x4b9e1e,JSON[_0x1167bb(0x244)](_0x23ecfa));}catch(_0x422a58){console['error'](_0x1167bb(0x25d),_0x422a58);}}function getEloColor(_0x31c782){const _0x571fd9=a6_0x523abf,_0x34a155=Number(_0x31c782);if(_0x34a155>=0x7d0)return _0x571fd9(0x2d4);else{if(_0x34a155>=0x708)return _0x571fd9(0x1b2);else{if(_0x34a155>=0x640)return'#b9f1fc';else{if(_0x34a155>=0x578)return'#CD7F32';else return _0x571fd9(0x2d1);}}}}function formatDate(_0x3f5c45,_0x456b13=![]){const _0x2bc84c=a6_0x523abf;if(!_0x3f5c45||!_0x3f5c45[_0x2bc84c(0x268)])return _0x2bc84c(0x2d6);const _0x496382=new Date(_0x3f5c45[_0x2bc84c(0x268)]*0x3e8);return _0x456b13?_0x496382[_0x2bc84c(0x28c)]():_0x496382[_0x2bc84c(0x28b)]();}function truncateComment(_0xf84070,_0x563da0=0x1e){const _0xcc520a=a6_0x523abf;if(!_0xf84070)return'-';if(_0xf84070[_0xcc520a(0x21b)]<=_0x563da0)return _0xf84070;return _0xf84070[_0xcc520a(0x26b)](0x0,_0x563da0)+_0xcc520a(0x232);}function formatCommentDate(_0x215e25){const _0x5743ef=a6_0x523abf;if(!_0x215e25||!_0x215e25[_0x5743ef(0x268)])return'';const _0x4d51e7=new Date(_0x215e25[_0x5743ef(0x268)]*0x3e8),_0x1725da=new Date(),_0x3efe6f=Math[_0x5743ef(0x242)](_0x1725da-_0x4d51e7),_0x119d4a=Math[_0x5743ef(0x1e9)](_0x3efe6f/(0x3e8*0x3c*0x3c*0x18));if(_0x119d4a===0x0)return'Today';else{if(_0x119d4a===0x1)return'Yesterday';else return _0x119d4a<0x7?_0x119d4a+_0x5743ef(0x1de):_0x4d51e7[_0x5743ef(0x28b)]();}}function setLoadingIndicator(_0x50a011){const _0x289478=a6_0x523abf,_0x212f61=document[_0x289478(0x267)]('loading-indicator');if(_0x212f61)_0x212f61[_0x289478(0x2c0)][_0x289478(0x1bc)]=_0x50a011?_0x289478(0x1c0):_0x289478(0x2aa);}export function updatePreviewLadderModeUI(){const _0x1683b0=a6_0x523abf,_0x221e33=document[_0x1683b0(0x267)](_0x1683b0(0x236)),_0x22ac5d=document[_0x1683b0(0x267)](_0x1683b0(0x1f3)),_0x1a3074=document[_0x1683b0(0x267)](_0x1683b0(0x273)),_0x4427f3=document[_0x1683b0(0x267)]('preview-d3-button');if(_0x221e33)_0x221e33[_0x1683b0(0x1c1)]=previewState[_0x1683b0(0x306)];if(_0x22ac5d)_0x22ac5d['classList'][_0x1683b0(0x1c8)]('active',previewState['currentMode']==='D1');if(_0x1a3074)_0x1a3074[_0x1683b0(0x2fe)][_0x1683b0(0x1c8)]('active',previewState['currentMode']==='D2');if(_0x4427f3)_0x4427f3[_0x1683b0(0x2fe)][_0x1683b0(0x1c8)](_0x1683b0(0x2ba),previewState[_0x1683b0(0x306)]==='D3');}function a6_0x880d(){const _0x1ffc22=['rematch','body','docs','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22','title','Comments\x20are\x20limited\x20to\x2015\x20words\x20maximum.\x20Please\x20shorten\x20your\x20comment.','enhanced-filter-section','.player.winner\x20.player-score','gold','approvedAt','\x20from\x20cache','#aaa','match-card-template','username','next','__proto__','Standard\x20Match','toLocaleDateString','toLocaleString','userId','S:\x20','now','bind','Demo:\x20','4503144znbZkQ','console','.jump-btn','dataset','<div\x20class=\x22matches-loading\x22>No\x20matches\x20found\x20matching\x20current\x20filters.</div>','loserDemoLink','You\x20must\x20be\x20signed\x20in\x20to\x20leave\x20a\x20comment','missiles-6plus','exists','cloneNode','demoWordCount','Failed\x20to\x20report\x20comment:\x20','gauss-and-mercs','currentPage','jump','filter','setAttribute','loserComment','value','showAddCommentPopup','Error\x20fetching\x20comments:','winnerDemoLink','split','warn','none','search','Submit','appendChild','Match\x20','.match-map','Error\x20fetching\x20comments\x20batch:','Preview\x20UI\x20or\x20Filter\x20elements\x20not\x20found,\x20cannot\x20attach\x20listeners.','\x20matches:','No\x20description\x20provided','#d32f2f','innerHTML','add','popup-btn\x20report-btn','selected','prev','active','Please\x20enter\x20a\x20valid\x20URL\x20for\x20the\x20demo\x20link','keypress','closeCommentPopupPreview','.comment.winner-comment','closest','style','click','table','Rendering\x20page\x20','Firebase\x20not\x20initialized','.winner-demo-link','\x20demo\x20links:','opacity','reportCommentButton','Failed\x20to\x20add\x20comment:\x20','preventDefault','silver','addCommentForm','#ff4444','selectedOptions','Unknown','key','#808080','You\x20need\x20to\x20be\x20signed\x20in\x20to\x20report\x20comments','gap','#50C878','data','N/A','apply','filter-levels','message','Submitting...','recent-matches-preview','Error\x20reporting\x20comment:','unranked','Close','\x22\x20target=\x22_blank\x22\x20class=\x22play-icon\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<svg\x20viewBox=\x220\x200\x2024\x2024\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<path\x20d=\x22M8,5.14V19.14L19,12.14L8,5.14Z\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</svg>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22demo-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22demo-author\x22>Demo\x20from\x20','Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20comment?','Error\x20submitting:','<div\x20class=\x22matches-loading\x22>Loading\x20recent\x20matches...</div>','(((.+)+)+)+$','desc','.matches-loading','removeAttribute','submit','commentAddOverlay','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22popup-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Add\x20Comment\x20or\x20Demo</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22closeAddCommentPopup\x22\x20class=\x22close-btn\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22addCommentForm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22commentMatchId\x22\x20name=\x22commentMatchId\x22\x20value=\x22','.</div>','clear-enhanced-filters','Clearing\x20cache\x20for\x20refresh/reset','fusion-match','\x20matching\x20filters','pilots','comment','altered-powerups','.player.winner\x20.player-name','className','comment-item','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','winnerSuicides','0.6','<div\x20class=\x22matches-loading\x22>No\x20more\x20matches\x20to\x20display','previewPrevPage','submitComment','trace','commentPopupContentPreview','getTime','classList','blind-match','.no-comments-message','Anonymous','<div\x20class=\x22matches-loading\x22>No\x20matches\x20found\x20matching\x20filter:\x20\x22','No\x20valid\x20cursor,\x20fetching\x20from\x20beginning\x20and\x20skipping\x20pages','loserOldElo','Failed\x20to\x20submit:\x20','currentMode','toLowerCase','9tNRUfi','default','#FFD700','Please\x20enter\x20a\x20comment\x20before\x20submitting','lastVisible','Daz','.submit-comment-btn','join','popup-btn\x20close-btn','filter-toggle-button','.comment.loser-comment','filterUsername','display','\x22</div>','filter-pilots','isLoading','block','textContent','commentId','matchesPerPage','includes','You\x20can\x20only\x20delete\x20your\x20own\x20comments','Enter','.player.winner\x20.player-suicides','toggle','docsData','previewCache_','demo-link','3263128ZTJVfI','approvedMatches','loserScore','max','Unknown\x20User','<div\x20class=\x22matches-loading\x22>No\x20recent\x20matches\x20found','currentMatchId','color','href','You\x20must\x20be\x20signed\x20in\x20to\x20continue','Unable\x20to\x20submit\x20comment\x20-\x20system\x20not\x20ready','commentAddPopup','demoLink','preview-d3-button','.match-display-wrapper','Comments\x20section\x20not\x20found\x20in\x20template','disabled','1532248AZOWLz','\x20days\x20ago','forEach','dogfight','Loading\x20next\x20page\x20using\x20cursor','error','popup-actions','106QdpOmV','delete-comment-btn','\x27s\x20Demo','filter-subgames','keys','floor','displayName','65316hsjViW','approvedMatchesD3','.player.loser\x20.player-suicides','levels','trim','auth','subgameType','commentUser','preview-d1-button','Cached\x20intermediary\x20page\x20','.comment-item','applyFilterBtn','aria-label','find','uid','728SbFVSW','You\x20need\x20to\x20be\x20signed\x20in\x20to\x20leave\x20a\x20comment\x20or\x20add\x20a\x20demo','log','<div\x20class=\x22matches-loading\x22\x20style=\x22color:\x20red;\x22>Error\x20loading\x20matches:\x20','Submitting\x20comment\x20as:','Muted.','remove','commentOverlayPreview','from','options','2025-07-02','Option','winnerComment','Demo\x20link','current','Are\x20you\x20sure\x20you\x20want\x20to\x20report\x20this\x20comment\x20as\x20inappropriate?','Report','ratting','info','.loser-demo-link','.player.loser\x20.player-score','<p>','totalPages','type','demoDescription','42414aHuNZj','previewNextPage','+10','.match-subgame','exception','emerald','setItem','toString','length','Error\x20deleting\x20comment:','description','enhancedFilters','mapPlayed','approvedMatchesD2','.match-card','Failed\x20to\x20parse\x20cache:','querySelector','85474aamiFM','removeItem','.matches-loading[style*=\x22color:\x20red\x22]','createElement','addEventListener','matchId','Failed\x20to\x20fetch\x20username:','muteFromDate','.match-demo-links',',\x20fetching\x20from\x20Firestore','3763610mhCqkf','wordCount','Loser','cursor','...','{}.constructor(\x22return\x20this\x22)(\x20)','text','clearFilterBtn','preview-ladder-mode','jump-to-page',':</strong>\x20\x22','button','<button\x20class=\x22delete-comment-btn\x22\x20aria-label=\x22Delete\x20comment\x22>×</button>','marginTop','map','push','winnerUsername','createdAt','apply-enhanced-filters','winner-','abs','slice','stringify','matchComments','loserSuicides','onclick','subgames','start','.option-tab.active','Error\x20fetching\x20','Cache\x20miss\x20for\x20page\x20','.popup-actions','comment-overlay','flex','Delete\x20demo','loserUsername','userProfiles','badComments','constructor','timestamp','Unknown\x20Map','closeAddCommentPopup','Page\x20','winnerOldElo','currentUser','backgroundColor','.option-content','Failed\x20to\x20cache\x20data:','</div>','querySelectorAll','30bfoVMU','Failed\x20to\x20fetch\x20user\x20profile:','stopPropagation','parentNode','commentPopupTitlePreview','commentText','Comment\x20added\x20successfully','getElementById','seconds','commentPopupPreview','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22demo-description\x22>','substring','10px','removeChild','input','empty','comment-popup','#fff','demo','preview-d2-button','required','div','Thank\x20you.\x20The\x20comment\x20has\x20been\x20reported\x20and\x20will\x20be\x20reviewed.','Failed\x20to\x20delete\x20comment:\x20','firstChild','Please\x20enter\x20a\x20demo\x20link'];a6_0x880d=function(){return _0x1ffc22;};return a6_0x880d();}function updatePreviewPaginationControls(_0xdcb265){const _0x1394da=a6_0x523abf,_0x4a99f1=document[_0x1394da(0x267)]('previewPrevPage'),_0x11c97f=document[_0x1394da(0x267)](_0x1394da(0x214)),_0x521a46=document[_0x1394da(0x267)]('previewPageInfo');if(!_0x4a99f1||!_0x11c97f||!_0x521a46)return;_0x521a46[_0x1394da(0x1c1)]=_0x1394da(0x258)+previewState[_0x1394da(0x29f)],_0x4a99f1[_0x1394da(0x1dc)]=previewState[_0x1394da(0x29f)]<=0x1,_0x11c97f[_0x1394da(0x1dc)]=!_0xdcb265;}function setPreviewLoadingState(_0x30eae7){const _0x3e9544=a6_0x523abf;previewState[_0x3e9544(0x1bf)]=_0x30eae7,setLoadingIndicator(_0x30eae7);const _0x35884c=document[_0x3e9544(0x267)](_0x3e9544(0x2db)),_0x3f0d7d=_0x35884c?_0x35884c[_0x3e9544(0x223)](_0x3e9544(0x2e5)):null,_0x1f75b4=document[_0x3e9544(0x267)]('previewPrevPage'),_0x5990fc=document[_0x3e9544(0x267)]('previewNextPage'),_0x7196cd=document[_0x3e9544(0x267)](_0x3e9544(0x1f3)),_0x1c4f4c=document[_0x3e9544(0x267)](_0x3e9544(0x273)),_0x1b2831=document[_0x3e9544(0x267)](_0x3e9544(0x1f6)),_0x33b810=document['getElementById'](_0x3e9544(0x235));if(_0x3f0d7d&&!_0x30eae7)_0x3f0d7d[_0x3e9544(0x2c0)]['display']='none';else _0x3f0d7d&&_0x30eae7&&(_0x3f0d7d[_0x3e9544(0x2c0)][_0x3e9544(0x1bc)]=_0x3e9544(0x1c0));!_0x30eae7&&_0x35884c&&!_0x35884c[_0x3e9544(0x223)](_0x3e9544(0x221))&&!_0x35884c[_0x3e9544(0x223)](_0x3e9544(0x226))&&(_0x35884c[_0x3e9544(0x2b5)]=_0x3e9544(0x1d1)+(previewState[_0x3e9544(0x1bb)]?_0x3e9544(0x2ee):'')+_0x3e9544(0x2ea));if(_0x1f75b4)_0x1f75b4[_0x3e9544(0x1dc)]=_0x30eae7||previewState[_0x3e9544(0x29f)]<=0x1;if(_0x5990fc)_0x5990fc[_0x3e9544(0x1dc)]=_0x30eae7;if(_0x7196cd)_0x7196cd['disabled']=_0x30eae7;if(_0x1c4f4c)_0x1c4f4c[_0x3e9544(0x1dc)]=_0x30eae7;if(_0x1b2831)_0x1b2831[_0x3e9544(0x1dc)]=_0x30eae7;if(_0x33b810)_0x33b810[_0x3e9544(0x1dc)]=_0x30eae7;}function applyClientFilters(_0xb4d424){const _0x1d65ef=a6_0x523abf;if(!previewState[_0x1d65ef(0x1bb)])return _0xb4d424;const _0x2b184e=previewState[_0x1d65ef(0x1bb)][_0x1d65ef(0x307)]();return _0xb4d424[_0x1d65ef(0x2a1)](_0x33c8a2=>{const _0x11fc70=_0x1d65ef,_0x17527f=(_0x33c8a2[_0x11fc70(0x23e)]||'')[_0x11fc70(0x307)](),_0x43ebef=(_0x33c8a2[_0x11fc70(0x251)]||'')[_0x11fc70(0x307)]();return _0x17527f[_0x11fc70(0x1c4)](_0x2b184e)||_0x43ebef['includes'](_0x2b184e);});}function applyEnhancedClientFilters(_0x3b6113){const _0x19cb3e=a6_0x523abf;if(!hasEnhancedFilters())return _0x3b6113;return _0x3b6113[_0x19cb3e(0x2a1)](_0xa78527=>{const _0x809127=_0x19cb3e;if(previewState['enhancedFilters'][_0x809127(0x2ef)]){const _0x2df0a7=previewState['enhancedFilters']['pilots']['toLowerCase'](),_0x57d25b=(_0xa78527[_0x809127(0x23e)]||'')['toLowerCase'](),_0x5398dd=(_0xa78527[_0x809127(0x251)]||'')['toLowerCase']();if(!_0x57d25b[_0x809127(0x1c4)](_0x2df0a7)&&!_0x5398dd[_0x809127(0x1c4)](_0x2df0a7))return![];}if(previewState[_0x809127(0x21e)][_0x809127(0x1ee)]){const _0x1d7174=previewState[_0x809127(0x21e)][_0x809127(0x1ee)][_0x809127(0x307)](),_0x7e9718=(_0xa78527[_0x809127(0x21f)]||'')[_0x809127(0x307)]();if(!_0x7e9718[_0x809127(0x1c4)](_0x1d7174))return![];}if(previewState['enhancedFilters']['subgames'][_0x809127(0x21b)]>0x0){const _0x47aa14=_0xa78527[_0x809127(0x1f1)]||_0x809127(0x28a);if(!previewState['enhancedFilters'][_0x809127(0x248)]['includes'](_0x47aa14))return![];}return!![];});}function hasEnhancedFilters(){const _0x42f757=a6_0x523abf;return previewState[_0x42f757(0x21e)][_0x42f757(0x2ef)]||previewState[_0x42f757(0x21e)][_0x42f757(0x1ee)]||previewState[_0x42f757(0x21e)][_0x42f757(0x248)][_0x42f757(0x21b)]>0x0;}function clearEnhancedFilters(){const _0x40d516=a6_0x523abf;previewState[_0x40d516(0x21e)]={'pilots':'','levels':'','subgames':[]},document[_0x40d516(0x267)](_0x40d516(0x1be))['value']='',document['getElementById'](_0x40d516(0x2d8))[_0x40d516(0x2a4)]='';const _0x15efae=document[_0x40d516(0x267)](_0x40d516(0x1e7));for(let _0x3b2c98 of _0x15efae[_0x40d516(0x203)]){_0x3b2c98[_0x40d516(0x2b8)]=![];}}function jumpToPage(_0x174c86){const _0x4d071f=a6_0x523abf,_0x24f7d7=document['getElementById'](_0x4d071f(0x237)),_0x96429c=previewState[_0x4d071f(0x29f)];let _0x2e83bf=_0x96429c;switch(_0x174c86){case _0x4d071f(0x249):_0x2e83bf=0x1;break;case'end':_0x2e83bf=Math[_0x4d071f(0x1cf)](_0x96429c+0xa,previewState[_0x4d071f(0x210)]||_0x96429c+0xa);break;case'+1':_0x2e83bf=_0x96429c+0x1;break;case'+5':_0x2e83bf=_0x96429c+0x5;break;case _0x4d071f(0x215):_0x2e83bf=_0x96429c+0xa;break;case'-1':_0x2e83bf=Math[_0x4d071f(0x1cf)](0x1,_0x96429c-0x1);break;case'-5':_0x2e83bf=Math['max'](0x1,_0x96429c-0x5);break;case'-10':_0x2e83bf=Math['max'](0x1,_0x96429c-0xa);break;case _0x4d071f(0x26e):const _0x288e23=parseInt(_0x24f7d7[_0x4d071f(0x2a4)]);_0x288e23&&_0x288e23>0x0&&(_0x2e83bf=_0x288e23,_0x24f7d7[_0x4d071f(0x2a4)]='');break;}_0x2e83bf!==_0x96429c&&_0x2e83bf>0x0&&(previewState[_0x4d071f(0x29f)]=_0x2e83bf,loadRecentMatchesPreview(_0x4d071f(0x2a0)));}export async function loadRecentMatchesPreview(_0x24bc40=a6_0x523abf(0x208)){const _0x4d2a28=a6_0x523abf,_0x1f5143=document[_0x4d2a28(0x267)](_0x4d2a28(0x2db)),_0x3db076=document[_0x4d2a28(0x267)](_0x4d2a28(0x286));if(previewState[_0x4d2a28(0x1bf)]||!_0x1f5143||!_0x3db076)return;_0x24bc40==='current'&&(console['log'](_0x4d2a28(0x2ec)),Object[_0x4d2a28(0x1e8)](sessionStorage)[_0x4d2a28(0x1df)](_0x1f44b5=>{const _0x12f5b3=_0x4d2a28;_0x1f44b5[_0x12f5b3(0x1c4)](_0x12f5b3(0x1ca)+previewState['currentMode'])&&sessionStorage[_0x12f5b3(0x225)](_0x1f44b5);}));let _0x3de0c7=previewState[_0x4d2a28(0x29f)];if(_0x24bc40===_0x4d2a28(0x288))_0x3de0c7++;else{if(_0x24bc40===_0x4d2a28(0x2b9))_0x3de0c7--;else _0x24bc40==='current'&&(_0x3de0c7=0x1,previewState['firstVisible']=null,previewState['lastVisible']=null);}if(_0x3de0c7<0x1)_0x3de0c7=0x1;const _0x41b763=previewState[_0x4d2a28(0x29f)];previewState['currentPage']=_0x3de0c7,updatePreviewPaginationControls(!![]);const _0x102a30={'filterUsername':previewState[_0x4d2a28(0x1bb)]},_0x81cd2b=getCacheKey(previewState[_0x4d2a28(0x306)],_0x3de0c7,_0x102a30),_0x1477e1=_0x24bc40!=='current'?getCachedPage(_0x81cd2b):null;if(_0x1477e1){console[_0x4d2a28(0x1fc)](_0x4d2a28(0x2c3)+_0x3de0c7+_0x4d2a28(0x284)),setPreviewLoadingState(!![]),renderMatchCards(_0x1477e1[_0x4d2a28(0x1c9)]),updatePreviewPaginationControls(_0x1477e1['hasNextPage']),setPreviewLoadingState(![]);return;}console[_0x4d2a28(0x1fc)](_0x4d2a28(0x24c)+_0x3de0c7+_0x4d2a28(0x22d)),setPreviewLoadingState(!![]),_0x1f5143[_0x4d2a28(0x2b5)]=_0x4d2a28(0x2e2);const _0x1d74fe=previewState[_0x4d2a28(0x306)]==='D1'?_0x4d2a28(0x1cd):previewState[_0x4d2a28(0x306)]==='D2'?_0x4d2a28(0x220):_0x4d2a28(0x1ec),_0x59b539=previewState['currentMode']==='D1'?_0x4d2a28(0x23f):_0x4d2a28(0x283);try{const _0x10c922=collection(window['db'],_0x1d74fe);let _0x55037f=[orderBy(_0x59b539,_0x4d2a28(0x2e4))];if(_0x3de0c7===0x1)console[_0x4d2a28(0x1fc)]('Loading\x20first\x20page\x20from\x20Firestore'),_0x55037f['push'](limit(previewState[_0x4d2a28(0x1c3)]));else{if(_0x24bc40==='next'&&previewState[_0x4d2a28(0x1b4)])console[_0x4d2a28(0x1fc)](_0x4d2a28(0x1e1)),_0x55037f[_0x4d2a28(0x23d)](startAfter(previewState[_0x4d2a28(0x1b4)])),_0x55037f[_0x4d2a28(0x23d)](limit(previewState[_0x4d2a28(0x1c3)]));else{console[_0x4d2a28(0x1fc)](_0x4d2a28(0x303));const _0x524fd4=_0x3de0c7*previewState[_0x4d2a28(0x1c3)];_0x55037f[_0x4d2a28(0x23d)](limit(_0x524fd4));}}const _0x3c2e67=query(_0x10c922,..._0x55037f),_0x30c016=await getDocs(_0x3c2e67);let _0x47cf2f=_0x30c016[_0x4d2a28(0x27c)];if(_0x3de0c7>0x1&&_0x24bc40!=='next'){const _0x1bbc4e=(_0x3de0c7-0x1)*previewState[_0x4d2a28(0x1c3)];_0x47cf2f=_0x47cf2f[_0x4d2a28(0x243)](_0x1bbc4e,_0x1bbc4e+previewState[_0x4d2a28(0x1c3)]);}if(_0x47cf2f['length']===0x0){console[_0x4d2a28(0x1fc)]('No\x20results\x20found\x20for\x20this\x20page');_0x24bc40===_0x4d2a28(0x288)&&(previewState[_0x4d2a28(0x29f)]=_0x41b763,updatePreviewPaginationControls(![]));_0x1f5143[_0x4d2a28(0x2b5)]=_0x4d2a28(0x2f8)+(previewState[_0x4d2a28(0x1bb)]?'\x20matching\x20filters':'')+'.</div>',setPreviewLoadingState(![]);return;}previewState['firstVisible']=_0x47cf2f[0x0],previewState[_0x4d2a28(0x1b4)]=_0x47cf2f[_0x47cf2f[_0x4d2a28(0x21b)]-0x1];const _0x2e2634=_0x47cf2f[_0x4d2a28(0x23c)](_0x1e73b6=>({'id':_0x1e73b6['id'],..._0x1e73b6['data']()}));let _0x1cbe0c=![];if(_0x47cf2f[_0x4d2a28(0x21b)]===previewState[_0x4d2a28(0x1c3)]){const _0x6adfd9=query(_0x10c922,orderBy(_0x59b539,_0x4d2a28(0x2e4)),startAfter(previewState['lastVisible']),limit(0x1)),_0x26b86f=await getDocs(_0x6adfd9);_0x1cbe0c=!_0x26b86f[_0x4d2a28(0x26f)];}const _0x5ae626=applyClientFilters(_0x2e2634),_0x53c683={'docsData':_0x2e2634,'hasNextPage':_0x1cbe0c};cachePage(getCacheKey(previewState['currentMode'],previewState[_0x4d2a28(0x29f)],_0x102a30),_0x53c683);if(_0x3de0c7>0x1&&_0x24bc40!=='next')for(let _0x1cfe62=0x1;_0x1cfe62<_0x3de0c7;_0x1cfe62++){const _0x22cd56=(_0x1cfe62-0x1)*previewState[_0x4d2a28(0x1c3)],_0x144f35=_0x22cd56+previewState[_0x4d2a28(0x1c3)],_0x206bd9=_0x30c016[_0x4d2a28(0x27c)][_0x4d2a28(0x243)](_0x22cd56,_0x144f35);if(_0x206bd9[_0x4d2a28(0x21b)]>0x0){const _0xe611c2=_0x206bd9[_0x4d2a28(0x23c)](_0x1f3571=>({'id':_0x1f3571['id'],..._0x1f3571[_0x4d2a28(0x2d5)]()})),_0x289319=!![];cachePage(getCacheKey(previewState[_0x4d2a28(0x306)],_0x1cfe62,_0x102a30),{'docsData':_0xe611c2,'hasNextPage':_0x289319}),console['log'](_0x4d2a28(0x1f4)+_0x1cfe62);}}_0x5ae626[_0x4d2a28(0x21b)]===0x0&&previewState[_0x4d2a28(0x1bb)]?_0x1f5143['innerHTML']=_0x4d2a28(0x302)+previewState['filterUsername']+_0x4d2a28(0x1bd):renderMatchCards(_0x5ae626),updatePreviewPaginationControls(_0x1cbe0c);}catch(_0x4b91f7){console[_0x4d2a28(0x1e2)](_0x4d2a28(0x24b)+previewState['currentMode']+_0x4d2a28(0x2b2),_0x4b91f7),_0x1f5143['innerHTML']=_0x4d2a28(0x1fd)+_0x4b91f7[_0x4d2a28(0x2d9)]+_0x4d2a28(0x25e),updatePreviewPaginationControls(![]),previewState[_0x4d2a28(0x29f)]=_0x41b763;}finally{setPreviewLoadingState(![]);}}async function renderMatchCards(_0x15974b){const _0x292794=a6_0x523abf,_0x3fe73f=document[_0x292794(0x267)](_0x292794(0x2db)),_0x11c766=document[_0x292794(0x267)](_0x292794(0x286));if(!_0x3fe73f||!_0x11c766)return;!_0x3fe73f[_0x292794(0x223)](_0x292794(0x226))&&(_0x3fe73f[_0x292794(0x2b5)]='');if(!_0x15974b||_0x15974b[_0x292794(0x21b)]===0x0){if(!_0x3fe73f['querySelector']('.matches-loading[style*=\x22color:\x20red\x22]')){const _0x997625=hasEnhancedFilters()?_0x292794(0x2ee):previewState['filterUsername']?'\x20matching\x20filters':'';_0x3fe73f[_0x292794(0x2b5)]=_0x292794(0x1d1)+_0x997625+'.</div>';}return;}const _0x20ab36=applyEnhancedClientFilters(_0x15974b);if(_0x20ab36[_0x292794(0x21b)]===0x0){_0x3fe73f['innerHTML']=_0x292794(0x296);return;}const _0x194de1=_0x20ab36[_0x292794(0x23c)](_0xa01b99=>getAllCommentsForMatch(_0xa01b99['id']));let _0x233eb1=[];try{_0x233eb1=await Promise['all'](_0x194de1);}catch(_0x57767e){console[_0x292794(0x1e2)](_0x292794(0x2b0),_0x57767e),_0x233eb1=_0x20ab36['map'](()=>[]);}const _0x221287={};_0x233eb1[_0x292794(0x1df)]((_0x38fd44,_0xd9c80b)=>{_0x221287[_0x20ab36[_0xd9c80b]['id']]=_0x38fd44||[];}),_0x20ab36[_0x292794(0x1df)](_0x48984c=>{const _0x174bdd=_0x292794,_0x1e4475=_0x11c766['content'][_0x174bdd(0x29b)](!![]),_0x5080ad=_0x1e4475[_0x174bdd(0x223)](_0x174bdd(0x1da)),_0x4b8836=_0x1e4475[_0x174bdd(0x223)](_0x174bdd(0x221)),_0x4ff8c9=getEloRankClass(_0x48984c['winnerOldElo']);_0x4b8836[_0x174bdd(0x2fe)][_0x174bdd(0x2b6)](_0x174bdd(0x241)+_0x4ff8c9),_0x4b8836[_0x174bdd(0x223)](_0x174bdd(0x2af))['textContent']=_0x48984c[_0x174bdd(0x21f)]||_0x174bdd(0x256),_0x4b8836[_0x174bdd(0x223)]('.match-date')[_0x174bdd(0x1c1)]=formatDate(_0x48984c['approvedAt']||_0x48984c[_0x174bdd(0x23f)]);const _0xa649fc=_0x4b8836[_0x174bdd(0x223)](_0x174bdd(0x2f2));_0xa649fc['textContent']=_0x48984c[_0x174bdd(0x23e)]||'Unknown',_0xa649fc[_0x174bdd(0x2c0)][_0x174bdd(0x1d3)]=getEloColor(_0x48984c[_0x174bdd(0x259)]),_0x4b8836['querySelector'](_0x174bdd(0x281))[_0x174bdd(0x1c1)]=_0x48984c['winnerScore']??0x0;const _0x4fafeb=_0x4b8836[_0x174bdd(0x223)](_0x174bdd(0x1c7)),_0x221277=_0x48984c[_0x174bdd(0x2f6)]||0x0;_0x4fafeb[_0x174bdd(0x1c1)]=_0x174bdd(0x28e)+_0x221277;const _0x331596=_0x4b8836[_0x174bdd(0x223)]('.player.loser\x20.player-name');_0x331596[_0x174bdd(0x1c1)]=_0x48984c[_0x174bdd(0x251)]||_0x174bdd(0x2cf),_0x331596[_0x174bdd(0x2c0)][_0x174bdd(0x1d3)]=getEloColor(_0x48984c['loserOldElo']),_0x4b8836[_0x174bdd(0x223)](_0x174bdd(0x20e))['textContent']=_0x48984c[_0x174bdd(0x1ce)]??0x0;const _0x1d2658=_0x4b8836['querySelector'](_0x174bdd(0x1ed)),_0x3c66fd=_0x48984c[_0x174bdd(0x246)]||0x0;_0x1d2658[_0x174bdd(0x1c1)]=_0x174bdd(0x28e)+_0x3c66fd;const _0x1deb16=_0x4b8836[_0x174bdd(0x223)](_0x174bdd(0x216));if(_0x1deb16){if(_0x48984c[_0x174bdd(0x1f1)]&&_0x48984c[_0x174bdd(0x1f1)][_0x174bdd(0x1ef)]()!==''){_0x1deb16[_0x174bdd(0x1c1)]=_0x48984c[_0x174bdd(0x1f1)],_0x1deb16[_0x174bdd(0x2c0)][_0x174bdd(0x1bc)]=_0x174bdd(0x1c0);const _0x5be1ff=getSubgameClass(_0x48984c[_0x174bdd(0x1f1)]);_0x5be1ff&&_0x1deb16[_0x174bdd(0x2fe)][_0x174bdd(0x2b6)](_0x5be1ff);}else _0x1deb16['textContent']=_0x174bdd(0x28a),_0x1deb16[_0x174bdd(0x2c0)]['display']=_0x174bdd(0x1c0),_0x1deb16['style'][_0x174bdd(0x2c7)]=_0x174bdd(0x2f7);}const _0x57feed=_0x4b8836['querySelector'](_0x174bdd(0x2be)),_0x2bb4ea=_0x4b8836[_0x174bdd(0x223)](_0x174bdd(0x1ba)),_0x38e701=_0x48984c[_0x174bdd(0x206)]||'',_0x386758=_0x48984c[_0x174bdd(0x2a3)]||'',_0x57052f=_0x48984c['approvedAt']||_0x48984c[_0x174bdd(0x23f)],_0x4f2d6c=filterComment(_0x38e701,_0x48984c['winnerUsername'],_0x57052f),_0x7b597=filterComment(_0x386758,_0x48984c[_0x174bdd(0x251)],_0x57052f);_0x57feed['textContent']='\x22'+truncateComment(_0x38e701)+'\x22',_0x2bb4ea[_0x174bdd(0x1c1)]='\x22'+truncateComment(_0x386758)+'\x22';_0x38e701&&!isUsernameMuted(_0x48984c[_0x174bdd(0x23e)],_0x57052f)?_0x57feed[_0x174bdd(0x247)]=()=>showPreviewCommentPopup(_0x4f2d6c,_0x48984c[_0x174bdd(0x23e)]||'Winner',getEloColor(_0x48984c[_0x174bdd(0x259)])):(_0x57feed[_0x174bdd(0x1c1)]=_0x4f2d6c===_0x174bdd(0x1ff)?_0x174bdd(0x1ff):'-',_0x57feed[_0x174bdd(0x2c0)][_0x174bdd(0x231)]='default',_0x57feed[_0x174bdd(0x247)]=null);_0x386758&&!isUsernameMuted(_0x48984c[_0x174bdd(0x251)])?_0x2bb4ea['onclick']=()=>showPreviewCommentPopup(_0x7b597,_0x48984c[_0x174bdd(0x251)]||_0x174bdd(0x230),getEloColor(_0x48984c[_0x174bdd(0x304)])):(_0x2bb4ea['textContent']=_0x7b597===_0x174bdd(0x1ff)?_0x174bdd(0x1ff):'-',_0x2bb4ea[_0x174bdd(0x2c0)]['cursor']=_0x174bdd(0x1b1),_0x2bb4ea[_0x174bdd(0x247)]=null);const _0xaaf05b=_0x5080ad?.[_0x174bdd(0x223)]('.community-comments-section');if(!_0xaaf05b)console[_0x174bdd(0x2a9)](_0x174bdd(0x1db));else{const _0x24c42f=_0xaaf05b[_0x174bdd(0x223)]('.comments-container'),_0x1ddcb4=_0x24c42f?.[_0x174bdd(0x223)](_0x174bdd(0x300)),_0x197dcc=_0xaaf05b[_0x174bdd(0x223)]('.add-comment-btn');if(_0x24c42f){while(_0x24c42f['firstChild']&&_0x24c42f[_0x174bdd(0x278)]!==_0x1ddcb4){_0x24c42f[_0x174bdd(0x26d)](_0x24c42f[_0x174bdd(0x278)]);}_0x197dcc&&_0x197dcc[_0x174bdd(0x228)]('click',()=>{showAddCommentPopup(_0x48984c['id']);});const _0x30b939=_0x221287[_0x48984c['id']]||[];if(_0x30b939[_0x174bdd(0x21b)]>0x0){if(_0x1ddcb4)_0x1ddcb4[_0x174bdd(0x2c0)][_0x174bdd(0x1bc)]=_0x174bdd(0x2aa);const _0x282080=(_0x1813dd,_0x3a99d9)=>{const _0x19ba1e=_0x174bdd,_0x34761c=_0x1813dd['split']('\x20');if(_0x34761c[_0x19ba1e(0x21b)]<=_0x3a99d9)return _0x1813dd;return _0x34761c[_0x19ba1e(0x243)](0x0,_0x3a99d9)[_0x19ba1e(0x1b7)]('\x20')+_0x19ba1e(0x232);};_0x30b939[_0x174bdd(0x1df)](_0x159861=>{const _0x51ad45=_0x174bdd,_0x3547cc=document[_0x51ad45(0x227)](_0x51ad45(0x275));if(_0x159861[_0x51ad45(0x211)]===_0x51ad45(0x272)){_0x3547cc[_0x51ad45(0x2f3)]=_0x51ad45(0x1cb),_0x3547cc[_0x51ad45(0x2b5)]=_0x51ad45(0x27d)+_0x159861['demoLink']+_0x51ad45(0x2df)+_0x159861[_0x51ad45(0x287)]+_0x51ad45(0x26a)+(_0x159861[_0x51ad45(0x21d)]||_0x51ad45(0x2b3))+_0x51ad45(0x2f5);const _0x26472e=window[_0x51ad45(0x1f0)][_0x51ad45(0x25a)],_0x31fa74=_0x26472e&&_0x159861[_0x51ad45(0x28d)]===_0x26472e['uid'];if(_0x31fa74){const _0x5639c7=document[_0x51ad45(0x227)](_0x51ad45(0x239));_0x5639c7['className']=_0x51ad45(0x1e5),_0x5639c7['innerHTML']='×',_0x5639c7[_0x51ad45(0x2a2)](_0x51ad45(0x1f7),_0x51ad45(0x250)),_0x5639c7[_0x51ad45(0x228)](_0x51ad45(0x2c1),_0x554d52=>{const _0x2269e8=_0x51ad45;_0x554d52['preventDefault'](),_0x554d52[_0x2269e8(0x262)](),deleteComment(_0x159861['id'],_0x3547cc);}),_0x3547cc[_0x51ad45(0x2ad)](_0x5639c7);}}else{_0x3547cc[_0x51ad45(0x2f3)]=_0x51ad45(0x2f4);const _0x116b1e=isUsernameMuted(_0x159861[_0x51ad45(0x287)],_0x159861['timestamp']),_0x3cd17c=_0x116b1e?'Muted.':_0x282080(_0x159861[_0x51ad45(0x234)]||'',0xf),_0x3cb410=_0x159861[_0x51ad45(0x287)]||_0x51ad45(0x301),_0x3ef219=window[_0x51ad45(0x1f0)][_0x51ad45(0x25a)],_0x30d9bd=_0x3ef219&&_0x159861[_0x51ad45(0x28d)]===_0x3ef219[_0x51ad45(0x1f9)];let _0x37a37a='';_0x30d9bd&&(_0x37a37a=_0x51ad45(0x23a));_0x3547cc[_0x51ad45(0x2b5)]=_0x37a37a+'<strong>'+_0x3cb410+_0x51ad45(0x238)+_0x3cd17c+'\x22';if(_0x30d9bd){const _0x116fdb=_0x3547cc[_0x51ad45(0x223)]('.delete-comment-btn');_0x116fdb&&_0x116fdb[_0x51ad45(0x228)](_0x51ad45(0x2c1),_0x4029ef=>{const _0x51717e=_0x51ad45;_0x4029ef[_0x51717e(0x262)](),deleteComment(_0x159861['id'],_0x3547cc);});}!_0x116b1e?_0x3547cc['addEventListener']('click',()=>{showFullCommentLightbox(_0x159861);}):_0x3547cc['style'][_0x51ad45(0x231)]=_0x51ad45(0x1b1);}_0x24c42f['insertBefore'](_0x3547cc,_0x24c42f[_0x51ad45(0x278)]);});}else{if(_0x1ddcb4)_0x1ddcb4[_0x174bdd(0x2c0)][_0x174bdd(0x1bc)]='block';}}}const _0x221581=_0x4b8836[_0x174bdd(0x223)](_0x174bdd(0x22c));if(_0x221581){const _0x56ea0f=_0x4b8836[_0x174bdd(0x223)](_0x174bdd(0x2c5)),_0x393e4e=_0x4b8836[_0x174bdd(0x223)](_0x174bdd(0x20d)),_0x1efc46=_0x48984c[_0x174bdd(0x2a7)]||null,_0x4582e2=_0x48984c[_0x174bdd(0x297)]||_0x48984c[_0x174bdd(0x1d8)]||null;console[_0x174bdd(0x1fc)](_0x174bdd(0x2ae)+_0x48984c['id']+_0x174bdd(0x2c6),{'winner':_0x1efc46,'loser':_0x4582e2}),_0x56ea0f&&(_0x1efc46?(_0x56ea0f['href']=_0x1efc46,_0x56ea0f['style'][_0x174bdd(0x1bc)]=_0x174bdd(0x24f),_0x56ea0f[_0x174bdd(0x27e)]=_0x48984c[_0x174bdd(0x23e)]+_0x174bdd(0x1e6)):_0x56ea0f[_0x174bdd(0x2c0)]['display']=_0x174bdd(0x2aa)),_0x393e4e&&(_0x4582e2?(_0x393e4e[_0x174bdd(0x1d4)]=_0x4582e2,_0x393e4e[_0x174bdd(0x2c0)][_0x174bdd(0x1bc)]='flex',_0x393e4e[_0x174bdd(0x27e)]=_0x48984c[_0x174bdd(0x251)]+_0x174bdd(0x1e6)):_0x393e4e[_0x174bdd(0x2c0)][_0x174bdd(0x1bc)]=_0x174bdd(0x2aa)),_0x1efc46&&_0x56ea0f||_0x4582e2&&_0x393e4e?_0x221581[_0x174bdd(0x2c0)][_0x174bdd(0x1bc)]=_0x174bdd(0x24f):_0x221581[_0x174bdd(0x2c0)]['display']=_0x174bdd(0x2aa);}_0x3fe73f[_0x174bdd(0x2ad)](_0x1e4475);});}function getSubgameClass(_0x4fd725){const _0x524e56=a6_0x523abf,_0x2d79c6={'Fusion\x20Match':_0x524e56(0x2ed),'≥6\x20Missiles':'missiles-6plus','≥6\x20missiles':_0x524e56(0x299),'Weapon\x20Imbalance':'weapon-imbalance','Blind\x20Match':_0x524e56(0x2ff),'Rematch':_0x524e56(0x27a),'Disorientation':'disorientation','Ratting':_0x524e56(0x20b),'Altered\x20Powerups':_0x524e56(0x2f1),'Mega\x20Match':'mega-match','Dogfight':_0x524e56(0x1e0),'Gauss\x20and\x20Mercs':_0x524e56(0x29e)};return _0x2d79c6[_0x4fd725]||'';}async function deleteComment(_0x526c58,_0xffa10e){const _0x1128bf=a6_0x523abf,_0xcfb36b=window[_0x1128bf(0x1f0)][_0x1128bf(0x25a)];if(!_0xcfb36b){alert('You\x20need\x20to\x20be\x20signed\x20in\x20to\x20delete\x20comments');return;}if(!confirm(_0x1128bf(0x2e0)))return;try{const _0x2e8bad=doc(window['db'],_0x1128bf(0x245),_0x526c58),_0x451884=await getDoc(_0x2e8bad);if(!_0x451884[_0x1128bf(0x29a)]()){alert('Comment\x20not\x20found.\x20It\x20may\x20have\x20already\x20been\x20deleted.');return;}const _0x9f3da6=_0x451884['data']();if(_0x9f3da6['userId']!==_0xcfb36b[_0x1128bf(0x1f9)]){alert(_0x1128bf(0x1c5));return;}await deleteDoc(_0x2e8bad);if(_0xffa10e&&_0xffa10e['parentNode']){_0xffa10e[_0x1128bf(0x263)][_0x1128bf(0x26d)](_0xffa10e);const _0x3562de=_0xffa10e[_0x1128bf(0x2bf)]('.comments-container');if(_0x3562de&&!_0x3562de[_0x1128bf(0x223)](_0x1128bf(0x1f5))){const _0x35f638=_0x3562de['querySelector'](_0x1128bf(0x300));if(_0x35f638)_0x35f638[_0x1128bf(0x2c0)]['display']=_0x1128bf(0x1c0);}}console[_0x1128bf(0x1fc)]('Comment\x20deleted\x20successfully');}catch(_0xa5bb75){console['error'](_0x1128bf(0x21c),_0xa5bb75),alert(_0x1128bf(0x277)+_0xa5bb75[_0x1128bf(0x2d9)]);}}async function getAllCommentsForMatch(_0x506bfb){const _0x164083=a6_0x523abf;if(!_0x506bfb)return[];try{const _0x4e2e55=collection(window['db'],_0x164083(0x245)),_0x556e42=query(_0x4e2e55,where(_0x164083(0x229),'==',_0x506bfb),orderBy(_0x164083(0x255),'desc')),_0x5ad52c=await getDocs(_0x556e42);if(_0x5ad52c['empty'])return[];return _0x5ad52c[_0x164083(0x27c)]['map'](_0x355fe3=>({'id':_0x355fe3['id'],..._0x355fe3['data']()}));}catch(_0x106c7d){return console[_0x164083(0x1e2)](_0x164083(0x2a6),_0x106c7d),[];}}async function submitComment(_0xfd2355){const _0x43c653=a6_0x523abf;_0xfd2355['preventDefault']();if(!window[_0x43c653(0x1f0)]||!window['db']){console[_0x43c653(0x1e2)]('Firebase\x20not\x20initialized'),alert(_0x43c653(0x1d6));return;}const _0x21ecd3=window[_0x43c653(0x1f0)][_0x43c653(0x25a)];if(!_0x21ecd3){alert(_0x43c653(0x298));return;}const _0x58ef6f=document['getElementById']('commentMatchId')?.[_0x43c653(0x2a4)],_0x1d21fd=document[_0x43c653(0x267)](_0x43c653(0x265))?.[_0x43c653(0x2a4)]?.[_0x43c653(0x1ef)]();if(!_0x58ef6f||!_0x1d21fd){alert(_0x43c653(0x1b3));return;}const _0x391164=_0x1d21fd['split'](/\s+/)[_0x43c653(0x2a1)](_0x5f421f=>_0x5f421f['length']>0x0)[_0x43c653(0x21b)];if(_0x391164>0xf){alert(_0x43c653(0x27f));return;}const _0x57da48=document[_0x43c653(0x223)]('.submit-comment-btn');_0x57da48&&(_0x57da48['disabled']=!![],_0x57da48[_0x43c653(0x1c1)]=_0x43c653(0x2da));try{let _0x49440e='Anonymous';try{const _0x4649bb=doc(window['db'],_0x43c653(0x252),_0x21ecd3[_0x43c653(0x1f9)]),_0x356ecf=await getDoc(_0x4649bb);if(_0x356ecf[_0x43c653(0x29a)]()){const _0xee7763=_0x356ecf[_0x43c653(0x2d5)]();_0xee7763[_0x43c653(0x287)]&&(_0x49440e=_0xee7763[_0x43c653(0x287)]);}_0x49440e===_0x43c653(0x301)&&_0x21ecd3[_0x43c653(0x1ea)]&&(_0x49440e=_0x21ecd3['displayName']);}catch(_0x416e07){console['warn'](_0x43c653(0x261),_0x416e07),_0x21ecd3[_0x43c653(0x1ea)]&&(_0x49440e=_0x21ecd3[_0x43c653(0x1ea)]);}const _0x2f0493={'matchId':_0x58ef6f,'userId':_0x21ecd3[_0x43c653(0x1f9)],'username':_0x49440e,'text':_0x1d21fd,'timestamp':serverTimestamp()};console[_0x43c653(0x1fc)](_0x43c653(0x1fe),_0x49440e);const _0x18e542=collection(window['db'],_0x43c653(0x245));await addDoc(_0x18e542,_0x2f0493),console[_0x43c653(0x1fc)](_0x43c653(0x266)),closeAddCommentPopup(),loadRecentMatchesPreview(_0x43c653(0x208));}catch(_0x37fc0e){console[_0x43c653(0x1e2)]('Error\x20submitting\x20comment:',_0x37fc0e),alert(_0x43c653(0x2c9)+_0x37fc0e['message']),_0x57da48&&(_0x57da48['disabled']=![],_0x57da48[_0x43c653(0x1c1)]=_0x43c653(0x2ac));}}function closeAddCommentPopup(){const _0x350ce3=a6_0x523abf,_0x45e23d=document[_0x350ce3(0x267)](_0x350ce3(0x1d7)),_0x873635=document['getElementById'](_0x350ce3(0x2e8));if(_0x45e23d)_0x45e23d[_0x350ce3(0x2c0)][_0x350ce3(0x1bc)]='none';if(_0x873635)_0x873635['style'][_0x350ce3(0x1bc)]=_0x350ce3(0x2aa);}function showAddCommentPopup(_0x5a8598){const _0x8dd67d=a6_0x523abf,_0x2a4ee9=window['auth']['currentUser'];if(!_0x2a4ee9){alert(_0x8dd67d(0x1fb));return;}let _0x1eb6b2=document['getElementById'](_0x8dd67d(0x1d7)),_0x3ea40c=document[_0x8dd67d(0x267)](_0x8dd67d(0x2e8));!_0x1eb6b2&&(_0x1eb6b2=document[_0x8dd67d(0x227)](_0x8dd67d(0x275)),_0x1eb6b2['id']=_0x8dd67d(0x1d7),_0x1eb6b2[_0x8dd67d(0x2f3)]=_0x8dd67d(0x270),document[_0x8dd67d(0x27b)][_0x8dd67d(0x2ad)](_0x1eb6b2));!_0x3ea40c&&(_0x3ea40c=document[_0x8dd67d(0x227)]('div'),_0x3ea40c['id']=_0x8dd67d(0x2e8),_0x3ea40c[_0x8dd67d(0x2f3)]=_0x8dd67d(0x24e),document[_0x8dd67d(0x27b)][_0x8dd67d(0x2ad)](_0x3ea40c));_0x1eb6b2[_0x8dd67d(0x2b5)]=_0x8dd67d(0x2e9)+_0x5a8598+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-tabs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22option-tab\x20active\x22\x20data-option=\x22comment\x22>Add\x20Comment</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22option-divider\x22>OR</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22option-tab\x22\x20data-option=\x22demo\x22>Share\x20Demo\x20Link</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-content\x22\x20id=\x22commentOption\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22commentText\x22>Your\x20comment\x20(15\x20words\x20max):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22commentText\x22\x20name=\x22commentText\x22\x20rows=\x223\x22\x20placeholder=\x22Share\x20your\x20thoughts...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22word-counter\x22><span\x20id=\x22wordCount\x22>0</span>/15\x20words</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-content\x22\x20id=\x22demoOption\x22\x20style=\x22display:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22demoLink\x22>Demo\x20Link:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22url\x22\x20id=\x22demoLink\x22\x20name=\x22demoLink\x22\x20placeholder=\x22https://...\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22demoDescription\x22>Description\x20(20\x20words\x20max):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22demoDescription\x22\x20name=\x22demoDescription\x22\x20rows=\x222\x22\x20placeholder=\x22Describe\x20your\x20demo...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22word-counter\x22><span\x20id=\x22demoWordCount\x22>0</span>/20\x20words</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22submit\x22\x20class=\x22submit-comment-btn\x22>Submit</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</form>\x0a\x20\x20\x20\x20',_0x1eb6b2[_0x8dd67d(0x2c0)]['display']=_0x8dd67d(0x1c0),_0x3ea40c[_0x8dd67d(0x2c0)][_0x8dd67d(0x1bc)]='block',document[_0x8dd67d(0x267)]('closeAddCommentPopup')[_0x8dd67d(0x228)]('click',closeAddCommentPopup),_0x3ea40c[_0x8dd67d(0x228)](_0x8dd67d(0x2c1),closeAddCommentPopup);const _0x49fbed=_0x1eb6b2[_0x8dd67d(0x25f)]('.option-tab');_0x49fbed[_0x8dd67d(0x1df)](_0x3f9bae=>{const _0x146a50=_0x8dd67d;_0x3f9bae[_0x146a50(0x228)](_0x146a50(0x2c1),function(){const _0xdbaff3=_0x146a50;_0x49fbed['forEach'](_0x103c77=>_0x103c77['classList'][_0xdbaff3(0x200)](_0xdbaff3(0x2ba))),document[_0xdbaff3(0x25f)](_0xdbaff3(0x25c))[_0xdbaff3(0x1df)](_0x42acbd=>_0x42acbd['style']['display']=_0xdbaff3(0x2aa)),this[_0xdbaff3(0x2fe)][_0xdbaff3(0x2b6)](_0xdbaff3(0x2ba));const _0x34802a=this['dataset']['option'];document[_0xdbaff3(0x267)](_0x34802a+_0xdbaff3(0x205))[_0xdbaff3(0x2c0)]['display']=_0xdbaff3(0x1c0),_0x34802a===_0xdbaff3(0x272)?(document['getElementById'](_0xdbaff3(0x1d8))[_0xdbaff3(0x2a2)](_0xdbaff3(0x274),''),document[_0xdbaff3(0x267)](_0xdbaff3(0x265))[_0xdbaff3(0x2e6)](_0xdbaff3(0x274))):(document[_0xdbaff3(0x267)](_0xdbaff3(0x1d8))[_0xdbaff3(0x2e6)](_0xdbaff3(0x274)),document['getElementById'](_0xdbaff3(0x265))[_0xdbaff3(0x2a2)](_0xdbaff3(0x274),''));});}),document['getElementById']('commentText')[_0x8dd67d(0x2a2)](_0x8dd67d(0x274),''),document[_0x8dd67d(0x267)](_0x8dd67d(0x1d8))['removeAttribute'](_0x8dd67d(0x274)),setupWordCounter(_0x8dd67d(0x265),_0x8dd67d(0x22f),0xf),setupWordCounter('demoDescription',_0x8dd67d(0x29c),0x14),document[_0x8dd67d(0x267)](_0x8dd67d(0x2cc))[_0x8dd67d(0x228)](_0x8dd67d(0x2e7),submitCommentOrDemo);}function setupWordCounter(_0x367838,_0x44e2fd,_0x5c4cf9){const _0x11ad6c=a6_0x523abf,_0x23a8c9=document[_0x11ad6c(0x267)](_0x367838),_0x2efe7c=document[_0x11ad6c(0x267)](_0x44e2fd);if(!_0x23a8c9||!_0x2efe7c)return;_0x19f6af(),_0x23a8c9['addEventListener']('input',_0x19f6af);function _0x19f6af(){const _0x29144a=_0x11ad6c,_0x15f3a4=_0x23a8c9[_0x29144a(0x2a4)][_0x29144a(0x1ef)](),_0x15e5f3=_0x15f3a4?_0x15f3a4[_0x29144a(0x2a8)](/\s+/)[_0x29144a(0x2a1)](_0x4baa79=>_0x4baa79[_0x29144a(0x21b)]>0x0)[_0x29144a(0x21b)]:0x0;_0x2efe7c[_0x29144a(0x1c1)]=_0x15e5f3,_0x15e5f3>_0x5c4cf9?_0x2efe7c[_0x29144a(0x2c0)][_0x29144a(0x1d3)]=_0x29144a(0x2cd):_0x2efe7c['style']['color']=_0x29144a(0x285);}}async function submitCommentOrDemo(_0x423355){const _0x1390df=a6_0x523abf;_0x423355[_0x1390df(0x2ca)]();if(!window[_0x1390df(0x1f0)]||!window['db']){console[_0x1390df(0x1e2)](_0x1390df(0x2c4)),alert('Unable\x20to\x20submit\x20-\x20system\x20not\x20ready');return;}const _0x3526af=window[_0x1390df(0x1f0)][_0x1390df(0x25a)];if(!_0x3526af){alert(_0x1390df(0x1d5));return;}const _0x52418a=document[_0x1390df(0x267)]('commentMatchId')['value'],_0xde80c2=document['querySelector'](_0x1390df(0x24a))[_0x1390df(0x295)]['option'];let _0x233303='Anonymous';try{const _0x45ee56=doc(window['db'],'userProfiles',_0x3526af['uid']),_0x5b46ff=await getDoc(_0x45ee56);if(_0x5b46ff[_0x1390df(0x29a)]()){const _0x547e81=_0x5b46ff[_0x1390df(0x2d5)]();_0x547e81[_0x1390df(0x287)]&&(_0x233303=_0x547e81[_0x1390df(0x287)]);}_0x233303==='Anonymous'&&_0x3526af['displayName']&&(_0x233303=_0x3526af['displayName']);}catch(_0x483461){console[_0x1390df(0x2a9)](_0x1390df(0x22a),_0x483461),_0x3526af[_0x1390df(0x1ea)]&&(_0x233303=_0x3526af[_0x1390df(0x1ea)]);}const _0x3e6026=document[_0x1390df(0x223)](_0x1390df(0x1b6));_0x3e6026&&(_0x3e6026[_0x1390df(0x1dc)]=!![],_0x3e6026[_0x1390df(0x1c1)]=_0x1390df(0x2da));try{if(_0xde80c2===_0x1390df(0x2f0)){const _0x2a56b4=document['getElementById'](_0x1390df(0x265))[_0x1390df(0x2a4)][_0x1390df(0x1ef)]();if(!_0x2a56b4){alert(_0x1390df(0x1b3)),_0x3e6026[_0x1390df(0x1dc)]=![],_0x3e6026['textContent']=_0x1390df(0x2ac);return;}const _0x2b22a9=_0x2a56b4[_0x1390df(0x2a8)](/\s+/)[_0x1390df(0x2a1)](_0x4840b1=>_0x4840b1[_0x1390df(0x21b)]>0x0)[_0x1390df(0x21b)];if(_0x2b22a9>0xf){alert(_0x1390df(0x27f)),_0x3e6026[_0x1390df(0x1dc)]=![],_0x3e6026[_0x1390df(0x1c1)]=_0x1390df(0x2ac);return;}const _0x19c23a={'matchId':_0x52418a,'userId':_0x3526af[_0x1390df(0x1f9)],'username':_0x233303,'text':_0x2a56b4,'type':'comment','timestamp':serverTimestamp()},_0x4c038a=collection(window['db'],'matchComments');await addDoc(_0x4c038a,_0x19c23a);}else{const _0x320d2b=document[_0x1390df(0x267)]('demoLink')[_0x1390df(0x2a4)][_0x1390df(0x1ef)](),_0x5a3107=document[_0x1390df(0x267)](_0x1390df(0x212))[_0x1390df(0x2a4)]['trim']()||_0x1390df(0x207);if(!_0x320d2b){alert(_0x1390df(0x279)),_0x3e6026[_0x1390df(0x1dc)]=![],_0x3e6026[_0x1390df(0x1c1)]=_0x1390df(0x2ac);return;}try{new URL(_0x320d2b);}catch(_0x5d05c0){alert(_0x1390df(0x2bb)),_0x3e6026['disabled']=![],_0x3e6026[_0x1390df(0x1c1)]='Submit';return;}const _0x34caea=_0x5a3107['split'](/\s+/)[_0x1390df(0x2a1)](_0x10d30c=>_0x10d30c['length']>0x0)[_0x1390df(0x21b)];if(_0x34caea>0x14){alert('Demo\x20descriptions\x20are\x20limited\x20to\x2020\x20words\x20maximum.\x20Please\x20shorten\x20your\x20description.'),_0x3e6026[_0x1390df(0x1dc)]=![],_0x3e6026[_0x1390df(0x1c1)]=_0x1390df(0x2ac);return;}const _0x1d61af={'matchId':_0x52418a,'userId':_0x3526af[_0x1390df(0x1f9)],'username':_0x233303,'demoLink':_0x320d2b,'description':_0x5a3107,'type':_0x1390df(0x272),'text':_0x1390df(0x291)+_0x5a3107,'timestamp':serverTimestamp()},_0x20f976=collection(window['db'],_0x1390df(0x245));await addDoc(_0x20f976,_0x1d61af);}closeAddCommentPopup(),loadRecentMatchesPreview('current');}catch(_0x40bcb8){console[_0x1390df(0x1e2)](_0x1390df(0x2e1),_0x40bcb8),alert(_0x1390df(0x305)+_0x40bcb8['message']),_0x3e6026&&(_0x3e6026['disabled']=![],_0x3e6026[_0x1390df(0x1c1)]=_0x1390df(0x2ac));}}function getEloRankClass(_0x6853f){const _0x28afe0=a6_0x523abf,_0x4287b8=Number(_0x6853f);if(_0x4287b8>=0x7d0)return _0x28afe0(0x218);else{if(_0x4287b8>=0x708)return _0x28afe0(0x282);else{if(_0x4287b8>=0x640)return _0x28afe0(0x2cb);else{if(_0x4287b8>=0x578)return'bronze';else return _0x28afe0(0x2dd);}}}}function showPreviewCommentPopup(_0x19d541,_0x5c6b58,_0x2cacf5=a6_0x523abf(0x271)){const _0x1404ae=a6_0x523abf,_0x1853f6=document[_0x1404ae(0x267)](_0x1404ae(0x269)),_0x40b697=document[_0x1404ae(0x267)](_0x1404ae(0x201)),_0x437ec8=document[_0x1404ae(0x267)](_0x1404ae(0x264)),_0x9939a6=document[_0x1404ae(0x267)](_0x1404ae(0x2fc)),_0x5a3501=document[_0x1404ae(0x267)](_0x1404ae(0x2c8));if(!_0x1853f6||!_0x40b697||!_0x437ec8||!_0x9939a6||!_0x5a3501)return;_0x1853f6[_0x1404ae(0x295)][_0x1404ae(0x265)]=_0x19d541,_0x1853f6[_0x1404ae(0x295)][_0x1404ae(0x1f2)]=_0x5c6b58,_0x437ec8['style'][_0x1404ae(0x1d3)]=_0x2cacf5,_0x437ec8[_0x1404ae(0x1c1)]='Comment\x20from\x20'+_0x5c6b58,_0x9939a6[_0x1404ae(0x1c1)]=_0x19d541,_0x5a3501['onclick']=reportComment,_0x1853f6['style']['display']=_0x1404ae(0x1c0),_0x40b697['style']['display']=_0x1404ae(0x1c0);}function closePreviewCommentPopup(){const _0x3a0358=a6_0x523abf,_0x29b086=document[_0x3a0358(0x267)](_0x3a0358(0x269)),_0x23dcbb=document['getElementById'](_0x3a0358(0x201));if(_0x29b086)_0x29b086[_0x3a0358(0x2c0)][_0x3a0358(0x1bc)]='none';if(_0x23dcbb)_0x23dcbb[_0x3a0358(0x2c0)]['display']=_0x3a0358(0x2aa);}async function reportComment(){const _0x97eaf9=a6_0x523abf,_0x5797da=window['auth'][_0x97eaf9(0x25a)];if(!_0x5797da){alert(_0x97eaf9(0x2d2));return;}if(!confirm(_0x97eaf9(0x209)))return;try{const _0x29bd96=document['getElementById'](_0x97eaf9(0x269)),_0x5d15b6={'commentAuthor':_0x29bd96[_0x97eaf9(0x295)][_0x97eaf9(0x1f2)]||_0x97eaf9(0x1d0),'commentText':_0x29bd96[_0x97eaf9(0x295)]['commentText']||'','matchId':previewState[_0x97eaf9(0x1d2)]||'','reportedBy':_0x5797da[_0x97eaf9(0x1f9)],'reporterUsername':_0x5797da[_0x97eaf9(0x1ea)]||'Anonymous\x20User','reportedAt':serverTimestamp()},_0x65192=collection(window['db'],_0x97eaf9(0x253));await addDoc(_0x65192,_0x5d15b6),alert(_0x97eaf9(0x276)),closePreviewCommentPopup();}catch(_0x153ef1){console['error'](_0x97eaf9(0x2dc),_0x153ef1),alert(_0x97eaf9(0x29d)+_0x153ef1[_0x97eaf9(0x2d9)]);}}function showFullCommentLightbox(_0x2eb6f7){const _0x5386fe=a6_0x523abf;if(isUsernameMuted(_0x2eb6f7[_0x5386fe(0x287)]))return;const _0x446222=document[_0x5386fe(0x267)](_0x5386fe(0x269)),_0x25f3be=document['getElementById'](_0x5386fe(0x201)),_0x2d19a9=document[_0x5386fe(0x267)](_0x5386fe(0x264)),_0x3571e5=document[_0x5386fe(0x267)]('commentPopupContentPreview');if(!_0x446222||!_0x25f3be||!_0x2d19a9||!_0x3571e5)return;_0x2d19a9['style'][_0x5386fe(0x1d3)]=_0x5386fe(0x271),_0x2d19a9['textContent']='Comment\x20from\x20'+_0x2eb6f7['username'];if(_0x2eb6f7[_0x5386fe(0x255)]){const _0x2743c7=new Date(_0x2eb6f7['timestamp'][_0x5386fe(0x268)]*0x3e8),_0x17b319=_0x2743c7[_0x5386fe(0x28c)]();_0x3571e5['innerHTML']=_0x5386fe(0x20f)+_0x2eb6f7['text']+'</p><small\x20style=\x22color:#aaa;\x20display:block;\x20text-align:right;\x20margin-top:10px;\x22>Posted\x20on\x20'+_0x17b319+'</small>';}else _0x3571e5[_0x5386fe(0x1c1)]=_0x2eb6f7[_0x5386fe(0x234)];_0x446222['dataset'][_0x5386fe(0x1c2)]=_0x2eb6f7['id']||'',_0x446222[_0x5386fe(0x295)][_0x5386fe(0x1f2)]=_0x2eb6f7[_0x5386fe(0x287)]||'',_0x446222['dataset']['commentText']=_0x2eb6f7['text']||'',_0x446222[_0x5386fe(0x295)][_0x5386fe(0x229)]=_0x2eb6f7['matchId']||'';const _0x5793c2=_0x446222[_0x5386fe(0x223)](_0x5386fe(0x24d))||document[_0x5386fe(0x227)]('div');!_0x446222[_0x5386fe(0x223)]('.popup-actions')?(_0x5793c2[_0x5386fe(0x2f3)]=_0x5386fe(0x1e3),_0x5793c2[_0x5386fe(0x2c0)]['display']=_0x5386fe(0x24f),_0x5793c2[_0x5386fe(0x2c0)]['justifyContent']='center',_0x5793c2[_0x5386fe(0x2c0)][_0x5386fe(0x2d3)]=_0x5386fe(0x26c),_0x5793c2['style'][_0x5386fe(0x23b)]='15px',_0x446222[_0x5386fe(0x2ad)](_0x5793c2)):_0x5793c2['innerHTML']='';const _0x12e7ad=document[_0x5386fe(0x227)](_0x5386fe(0x239));_0x12e7ad['textContent']=_0x5386fe(0x2de),_0x12e7ad[_0x5386fe(0x2f3)]=_0x5386fe(0x1b8),_0x12e7ad['id']='closeCommentPopupPreview',_0x12e7ad[_0x5386fe(0x228)](_0x5386fe(0x2c1),closePreviewCommentPopup);const _0x4a5fc6=document[_0x5386fe(0x227)](_0x5386fe(0x239));_0x4a5fc6[_0x5386fe(0x1c1)]=_0x5386fe(0x20a),_0x4a5fc6[_0x5386fe(0x2f3)]=_0x5386fe(0x2b7),_0x4a5fc6[_0x5386fe(0x2c0)][_0x5386fe(0x25b)]=_0x5386fe(0x2b4),_0x4a5fc6[_0x5386fe(0x228)](_0x5386fe(0x2c1),reportComment),_0x5793c2[_0x5386fe(0x2ad)](_0x12e7ad),_0x5793c2[_0x5386fe(0x2ad)](_0x4a5fc6),_0x446222[_0x5386fe(0x2c0)]['display']=_0x5386fe(0x1c0),_0x25f3be[_0x5386fe(0x2c0)][_0x5386fe(0x1bc)]=_0x5386fe(0x1c0);}export function setupPreviewEventListeners(){const _0x12b766=a6_0x523abf,_0x157a9f=document['getElementById'](_0x12b766(0x2f9)),_0x194bad=document[_0x12b766(0x267)](_0x12b766(0x214)),_0x53529d=document[_0x12b766(0x267)]('preview-d1-button'),_0x427e11=document[_0x12b766(0x267)](_0x12b766(0x273)),_0x1b4851=document[_0x12b766(0x267)](_0x12b766(0x1d9)),_0x403bab=document[_0x12b766(0x267)](_0x12b766(0x1b9)),_0x30f135=document[_0x12b766(0x267)](_0x12b766(0x280));if(!_0x157a9f||!_0x194bad||!_0x53529d||!_0x427e11||!_0x1b4851||!_0x403bab||!_0x30f135){console[_0x12b766(0x2a9)](_0x12b766(0x2b1));return;}_0x157a9f[_0x12b766(0x228)](_0x12b766(0x2c1),()=>{const _0xd07e3=_0x12b766;if(!_0x157a9f['disabled'])loadRecentMatchesPreview(_0xd07e3(0x2b9));}),_0x194bad[_0x12b766(0x228)]('click',()=>{const _0x4af270=_0x12b766;if(!_0x194bad[_0x4af270(0x1dc)])loadRecentMatchesPreview(_0x4af270(0x288));}),_0x53529d[_0x12b766(0x228)](_0x12b766(0x2c1),()=>{const _0xc11d77=_0x12b766;previewState[_0xc11d77(0x306)]!=='D1'&&!previewState[_0xc11d77(0x1bf)]&&(previewState[_0xc11d77(0x306)]='D1',updatePreviewLadderModeUI(),loadRecentMatchesPreview(_0xc11d77(0x208)));}),_0x427e11[_0x12b766(0x228)](_0x12b766(0x2c1),()=>{const _0xbf7334=_0x12b766;previewState[_0xbf7334(0x306)]!=='D2'&&!previewState[_0xbf7334(0x1bf)]&&(previewState[_0xbf7334(0x306)]='D2',updatePreviewLadderModeUI(),loadRecentMatchesPreview('current'));}),_0x1b4851['addEventListener']('click',()=>{const _0x10fa70=_0x12b766;previewState['currentMode']!=='D3'&&!previewState[_0x10fa70(0x1bf)]&&(previewState[_0x10fa70(0x306)]='D3',updatePreviewLadderModeUI(),loadRecentMatchesPreview(_0x10fa70(0x208)));});_0x403bab&&_0x30f135&&_0x403bab['addEventListener'](_0x12b766(0x2c1),()=>{const _0x230d6e=_0x12b766,_0x3df8d3=_0x30f135['style'][_0x230d6e(0x1bc)]!==_0x230d6e(0x2aa);_0x30f135[_0x230d6e(0x2c0)][_0x230d6e(0x1bc)]=_0x3df8d3?'none':_0x230d6e(0x1c0),_0x403bab[_0x230d6e(0x2fe)][_0x230d6e(0x1c8)](_0x230d6e(0x2ba),!_0x3df8d3);});const _0x47dc64=document[_0x12b766(0x267)](_0x12b766(0x240)),_0x38c2f1=document[_0x12b766(0x267)](_0x12b766(0x2eb));_0x47dc64&&_0x47dc64[_0x12b766(0x228)](_0x12b766(0x2c1),()=>{const _0xb051af=_0x12b766;previewState['enhancedFilters'][_0xb051af(0x2ef)]=document[_0xb051af(0x267)](_0xb051af(0x1be))[_0xb051af(0x2a4)][_0xb051af(0x1ef)](),previewState[_0xb051af(0x21e)][_0xb051af(0x1ee)]=document[_0xb051af(0x267)]('filter-levels')['value'][_0xb051af(0x1ef)]();const _0x2c07d1=document[_0xb051af(0x267)](_0xb051af(0x1e7));previewState[_0xb051af(0x21e)][_0xb051af(0x248)]=Array[_0xb051af(0x202)](_0x2c07d1[_0xb051af(0x2ce)])[_0xb051af(0x23c)](_0x10e811=>_0x10e811[_0xb051af(0x2a4)])[_0xb051af(0x2a1)](_0x2d5475=>_0x2d5475!==''),loadRecentMatchesPreview(_0xb051af(0x208));});_0x38c2f1&&_0x38c2f1[_0x12b766(0x228)](_0x12b766(0x2c1),()=>{const _0x23641f=_0x12b766;clearEnhancedFilters(),loadRecentMatchesPreview(_0x23641f(0x208));});document[_0x12b766(0x25f)](_0x12b766(0x294))[_0x12b766(0x1df)](_0x51b796=>{const _0x497fe0=_0x12b766;_0x51b796['addEventListener'](_0x497fe0(0x2c1),()=>{const _0x2400f8=_0x497fe0,_0x4bd5ae=_0x51b796[_0x2400f8(0x295)]['jump'];jumpToPage(_0x4bd5ae);});});const _0x4a30c5=document[_0x12b766(0x267)](_0x12b766(0x237));_0x4a30c5&&_0x4a30c5[_0x12b766(0x228)](_0x12b766(0x2bc),_0x4b7ef4=>{const _0x482c60=_0x12b766;_0x4b7ef4[_0x482c60(0x2d0)]===_0x482c60(0x1c6)&&jumpToPage(_0x482c60(0x26e));});const _0x2cc482=document['getElementById'](_0x12b766(0x2bd)),_0xa2969=document[_0x12b766(0x267)]('commentOverlayPreview');if(_0x2cc482)_0x2cc482[_0x12b766(0x228)](_0x12b766(0x2c1),closePreviewCommentPopup);if(_0xa2969)_0xa2969[_0x12b766(0x228)](_0x12b766(0x2c1),closePreviewCommentPopup);const _0x33edff=document[_0x12b766(0x267)]('closeAddCommentPopup'),_0x3df764=document[_0x12b766(0x267)](_0x12b766(0x2e8)),_0x124244=document[_0x12b766(0x267)](_0x12b766(0x2cc));if(_0x33edff)_0x33edff[_0x12b766(0x228)]('click',closeAddCommentPopup);if(_0x3df764)_0x3df764[_0x12b766(0x228)](_0x12b766(0x2c1),closeAddCommentPopup);if(_0x124244)_0x124244[_0x12b766(0x228)](_0x12b766(0x2e7),submitComment);const _0x557426=document[_0x12b766(0x267)]('commentText'),_0x18f2ef=document[_0x12b766(0x267)](_0x12b766(0x22f));_0x557426&&_0x18f2ef&&setupWordCounter(_0x12b766(0x265),'wordCount',0xf);}window[a6_0x523abf(0x2a5)]=showAddCommentPopup,window[a6_0x523abf(0x257)]=closeAddCommentPopup,window[a6_0x523abf(0x2fa)]=submitComment;