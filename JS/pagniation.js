const a38_0x42bdbc=(function(){let _0x5d8d29=!![];return function(_0x45653f,_0x3a5ff6){const _0x3cd0b5=_0x5d8d29?function(){if(_0x3a5ff6){const _0xc8933a=_0x3a5ff6['apply'](_0x45653f,arguments);return _0x3a5ff6=null,_0xc8933a;}}:function(){};return _0x5d8d29=![],_0x3cd0b5;};}()),a38_0x400a33=a38_0x42bdbc(this,function(){const _0x3863f3=a38_0x5c8c,_0x5eddc2=function(){const _0x363bae=a38_0x5c8c;let _0x57924f;try{_0x57924f=Function('return\x20(function()\x20'+_0x363bae(0xc8)+');')();}catch(_0x332c64){_0x57924f=window;}return _0x57924f;},_0x45050b=_0x5eddc2(),_0xfc7fe6=_0x45050b[_0x3863f3(0xc7)]=_0x45050b['console']||{},_0x3ed3b0=['log','warn','info','error','exception',_0x3863f3(0xc6),'trace'];for(let _0x2d258=0x0;_0x2d258<_0x3ed3b0['length'];_0x2d258++){const _0x30ed3b=a38_0x42bdbc['constructor']['prototype']['bind'](a38_0x42bdbc),_0x48ce8d=_0x3ed3b0[_0x2d258],_0x973ec1=_0xfc7fe6[_0x48ce8d]||_0x30ed3b;_0x30ed3b['__proto__']=a38_0x42bdbc['bind'](a38_0x42bdbc),_0x30ed3b['toString']=_0x973ec1['toString'][_0x3863f3(0xcd)](_0x973ec1),_0xfc7fe6[_0x48ce8d]=_0x30ed3b;}});a38_0x400a33();function a38_0x3609(){const _0x439693=['<tr><td\x20colspan=\x226\x22>Error\x20loading\x20ELO\x20history</td></tr>','goToPage','change','getElementById','target','toLocaleString','innerHTML','addEventListener','matchResult','querySelector','length','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','opponent','parentNode','newElo','table','console','{}.constructor(\x22return\x20this\x22)(\x20)','timestamp','pageInput','nextPage','insertBefore','bind'];a38_0x3609=function(){return _0x439693;};return a38_0x3609();}import{getEloHistory,resetPagination}from'./elo-history.js';let currentPage=0x1,allMatches=[];const matchesPerPage=0xa;async function displayEloHistory(){const _0x3a0baf=a38_0x5c8c,_0x5537a2=document['querySelector']('#elo-history\x20tbody'),_0x2ba4b3=document[_0x3a0baf(0xb9)]('pagination');try{const {entries:_0x199a49,hasMore:_0x1d5e18}=await getEloHistory();if(_0x199a49[_0x3a0baf(0xc0)]===0x0){_0x5537a2['innerHTML']='<tr><td\x20colspan=\x226\x22>No\x20ELO\x20history\x20available</td></tr>';return;}allMatches=_0x199a49,_0x5537a2['innerHTML']=_0x199a49['map'](_0x27d197=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x27d197['timestamp']?new Date(_0x27d197['timestamp']['toDate']())[_0x3a0baf(0xbb)]():'N/A')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x27d197['player']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x27d197['previousElo']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x27d197[_0x3a0baf(0xc5)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x27d197[_0x3a0baf(0xb8)]>0x0?'+'+_0x27d197['change']:_0x27d197[_0x3a0baf(0xb8)])+_0x3a0baf(0xc2)+_0x27d197[_0x3a0baf(0xc3)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x27d197[_0x3a0baf(0xbe)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''),createPaginationControls();}catch(_0x18e193){console['error']('Error\x20displaying\x20ELO\x20history:',_0x18e193),_0x5537a2[_0x3a0baf(0xbc)]=_0x3a0baf(0xb6);}}function createPaginationControls(){const _0x4b4080=a38_0x5c8c,_0x5339b2=Math['ceil'](allMatches['length']/matchesPerPage),_0x5b9e73=document['createElement']('div');_0x5b9e73['className']='pagination-wrapper',_0x5b9e73['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pagination-controls\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22prevPage\x22\x20'+(currentPage===0x1?'disabled':'')+'>Previous</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-navigation\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>Page\x20'+currentPage+'\x20of\x20'+_0x5339b2+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-search\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22pageInput\x22\x20min=\x221\x22\x20max=\x22'+_0x5339b2+'\x22\x20value=\x22'+currentPage+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goToPage\x22>Go</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22nextPage\x22\x20'+(currentPage===_0x5339b2?'disabled':'')+'>Next</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x4b34b6=document[_0x4b4080(0xbf)]('#elo-history');_0x4b34b6[_0x4b4080(0xc4)][_0x4b4080(0xcc)](_0x5b9e73,_0x4b34b6['nextSibling']),document['getElementById']('prevPage')[_0x4b4080(0xbd)]('click',()=>{if(currentPage>0x1)displayMatchesPage(currentPage-0x1);}),document[_0x4b4080(0xb9)](_0x4b4080(0xcb))['addEventListener']('click',()=>{if(currentPage<_0x5339b2)displayMatchesPage(currentPage+0x1);}),document['getElementById'](_0x4b4080(0xb7))[_0x4b4080(0xbd)]('click',()=>{const _0x442353=_0x4b4080,_0x59ce8d=document[_0x442353(0xb9)](_0x442353(0xca)),_0x17cae2=parseInt(_0x59ce8d['value']);_0x17cae2>=0x1&&_0x17cae2<=_0x5339b2&&displayMatchesPage(_0x17cae2);}),document[_0x4b4080(0xb9)]('pageInput')['addEventListener']('keypress',_0x3086e5=>{const _0x7f72ff=_0x4b4080;if(_0x3086e5['key']==='Enter'){const _0x4e2502=parseInt(_0x3086e5[_0x7f72ff(0xba)]['value']);_0x4e2502>=0x1&&_0x4e2502<=_0x5339b2&&displayMatchesPage(_0x4e2502);}});}async function displayMatchesPage(_0x15af39){const _0x37cb9c=a38_0x5c8c;currentPage=_0x15af39;const _0x2f8194=(currentPage-0x1)*matchesPerPage,_0x4898ee=_0x2f8194+matchesPerPage,_0x2b01ef=allMatches['slice'](_0x2f8194,_0x4898ee),_0x47cc4b=document['querySelector']('#elo-history\x20tbody');_0x47cc4b[_0x37cb9c(0xbc)]=_0x2b01ef['map'](_0x2c0061=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x2c0061['timestamp']?new Date(_0x2c0061[_0x37cb9c(0xc9)]['toDate']())['toLocaleString']():'N/A')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x2c0061['player']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x2c0061['previousElo']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x2c0061[_0x37cb9c(0xc5)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x2c0061['change']>0x0?'+'+_0x2c0061['change']:_0x2c0061['change'])+_0x37cb9c(0xc1)+_0x2c0061['opponent']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x2c0061['matchResult']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20')['join'](''),createPaginationControls();}function a38_0x5c8c(_0x4c9dc7,_0x26ed55){const _0x400a33=a38_0x3609();return a38_0x5c8c=function(_0x42bdbc,_0x455f66){_0x42bdbc=_0x42bdbc-0xb6;let _0x3609e9=_0x400a33[_0x42bdbc];return _0x3609e9;},a38_0x5c8c(_0x4c9dc7,_0x26ed55);}document['addEventListener']('DOMContentLoaded',displayEloHistory);