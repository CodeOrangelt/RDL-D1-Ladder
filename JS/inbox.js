const a22_0x528be4=a22_0x2e8c,a22_0x1080c6=(function(){let _0x3bbbbd=!![];return function(_0x28262c,_0x458dfa){const _0x5b68a7=_0x3bbbbd?function(){if(_0x458dfa){const _0xd4a7f3=_0x458dfa['apply'](_0x28262c,arguments);return _0x458dfa=null,_0xd4a7f3;}}:function(){};return _0x3bbbbd=![],_0x5b68a7;};}()),a22_0x521b2e=a22_0x1080c6(this,function(){const _0x19d20b=a22_0x2e8c;let _0x5285c9;try{const _0x2db24c=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x5285c9=_0x2db24c();}catch(_0x1436a6){_0x5285c9=window;}const _0x56ad0c=_0x5285c9['console']=_0x5285c9[_0x19d20b(0x1e5)]||{},_0x52b4e6=['log','warn','info','error','exception','table','trace'];for(let _0x55ffdc=0x0;_0x55ffdc<_0x52b4e6['length'];_0x55ffdc++){const _0x325fbd=a22_0x1080c6[_0x19d20b(0x1c4)]['prototype'][_0x19d20b(0x1fb)](a22_0x1080c6),_0xd4d1a5=_0x52b4e6[_0x55ffdc],_0x2ce733=_0x56ad0c[_0xd4d1a5]||_0x325fbd;_0x325fbd['__proto__']=a22_0x1080c6['bind'](a22_0x1080c6),_0x325fbd[_0x19d20b(0x1f8)]=_0x2ce733['toString']['bind'](_0x2ce733),_0x56ad0c[_0xd4d1a5]=_0x325fbd;}});a22_0x521b2e();function a22_0x2e8c(_0x50afcf,_0x40b853){const _0x521b2e=a22_0x1fa8();return a22_0x2e8c=function(_0x1080c6,_0x8bb9f3){_0x1080c6=_0x1080c6-0x1c1;let _0x1fa884=_0x521b2e[_0x1080c6];return _0x1fa884;},a22_0x2e8c(_0x50afcf,_0x40b853);}import{auth,db}from'./firebase-config.js';import{collection,query,where,orderBy,getDocs,doc,updateDoc,onSnapshot,limit,startAfter}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';class InboxManager{constructor(){const _0x255189=a22_0x2e8c;this['currentFilter']=_0x255189(0x20b),this['invitations']=[],this['sentInvitations']=[],this['unsubscribe']=null,this['sentUnsubscribe']=null,this['pageSize']=0x14,this['lastDoc']=null,this[_0x255189(0x1c5)]=!![],this['init']();}async['init'](){const _0x1e8440=a22_0x2e8c;auth[_0x1e8440(0x1e3)](_0x1aaef3=>{const _0x17bdab=_0x1e8440;_0x1aaef3?(this['loadInvitations'](_0x1aaef3['uid']),this[_0x17bdab(0x1e9)]()):window[_0x17bdab(0x1eb)]['href']='./login.html';});}[a22_0x528be4(0x1e9)](){const _0x320f2d=a22_0x528be4;document[_0x320f2d(0x1e4)]('.filter-btn')[_0x320f2d(0x1f6)](_0x5a6890=>{_0x5a6890['addEventListener']('click',()=>{const _0x350da8=a22_0x2e8c;document['querySelectorAll']('.filter-btn')['forEach'](_0x220108=>_0x220108['classList']['remove'](_0x350da8(0x1f1))),_0x5a6890[_0x350da8(0x1c3)]['add']('active'),this['currentFilter']=_0x5a6890['dataset']['filter'],this['renderInvitations']();});});}['loadInvitations'](_0x68fcfb){const _0x3c82bb=a22_0x528be4,_0xe95314=collection(db,_0x3c82bb(0x1de));let _0x59ef3b=query(_0xe95314,where(_0x3c82bb(0x204),'==',_0x68fcfb),orderBy('createdAt',_0x3c82bb(0x1c1)),limit(this['pageSize']));this['unsubscribe']=onSnapshot(_0x59ef3b,_0x574490=>{const _0x2deabf=_0x3c82bb;this['invitations']=_0x574490['docs']['map'](_0x5ac12d=>({'id':_0x5ac12d['id'],..._0x5ac12d['data']()})),this[_0x2deabf(0x1c9)](),this['updateNotificationCount']();});let _0x5911cb=query(_0xe95314,where(_0x3c82bb(0x207),'==',_0x68fcfb),orderBy('createdAt','desc'),limit(this['pageSize']));this['sentUnsubscribe']=onSnapshot(_0x5911cb,_0x463d66=>{const _0x20d100=_0x3c82bb;this[_0x20d100(0x1fe)]=_0x463d66['docs'][_0x20d100(0x1d6)](_0x4d2d6f=>({'id':_0x4d2d6f['id'],..._0x4d2d6f[_0x20d100(0x200)](),'isSent':!![]})),this['renderInvitations']();});}[a22_0x528be4(0x1c9)](){const _0x88339c=a22_0x528be4,_0x1c5e1c=document[_0x88339c(0x1d0)]('inbox-content');if(!_0x1c5e1c)return;let _0x451c50=[];if(this[_0x88339c(0x1f2)]==='outbox')_0x451c50=this['sentInvitations'];else this['currentFilter']==='all'?_0x451c50=[...this['invitations'],...this['sentInvitations']][_0x88339c(0x203)]((_0x16e317,_0x181e0b)=>{const _0x53b1cd=_0x88339c,_0x2a327d=_0x16e317['createdAt']?.['toDate']?_0x16e317['createdAt'][_0x53b1cd(0x1ec)]():new Date(_0x16e317['createdAt']),_0xab7049=_0x181e0b['createdAt']?.[_0x53b1cd(0x1ec)]?_0x181e0b['createdAt']['toDate']():new Date(_0x181e0b[_0x53b1cd(0x1c8)]);return _0xab7049-_0x2a327d;}):_0x451c50=this['invitations']['filter'](_0x48dcda=>_0x48dcda['status']===this[_0x88339c(0x1f2)]);if(_0x451c50['length']===0x0){const _0x30fde2=this['currentFilter']==='outbox'?_0x88339c(0x20a):this['currentFilter']==='all'?'':this['currentFilter'];_0x1c5e1c[_0x88339c(0x201)]=_0x88339c(0x1fa)+_0x30fde2+'\x20invitations</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(this['currentFilter']==='outbox'?'Invitations\x20you\x20send\x20to\x20other\x20players\x20will\x20appear\x20here.':'When\x20other\x20players\x20invite\x20you\x20to\x20games,\x20they\x27ll\x20appear\x20here.')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';return;}_0x1c5e1c['innerHTML']=_0x451c50[_0x88339c(0x1d6)](_0x826bbf=>this['createInvitationCard'](_0x826bbf))['join'](''),this[_0x88339c(0x1e2)]();}['createInvitationCard'](_0x47f3a3){const _0x1b1013=a22_0x528be4,_0x28ad13=_0x47f3a3[_0x1b1013(0x1c8)]?.['toDate']?_0x47f3a3[_0x1b1013(0x1c8)]['toDate']():new Date(_0x47f3a3[_0x1b1013(0x1c8)]),_0x4d61cd=this['getTimeAgo'](_0x28ad13),_0x42c573=_0x47f3a3['isSent']||![];let _0x3ed852='';return _0x47f3a3[_0x1b1013(0x1e8)]===_0x1b1013(0x1cd)?_0x3ed852='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+_0x47f3a3['message']+_0x1b1013(0x1cb)+_0x47f3a3['teamData']['teamColor']+';\x20margin:\x200\x200\x200.5rem\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x47f3a3['teamData'][_0x1b1013(0x1ce)]+_0x1b1013(0x1c2)+_0x47f3a3[_0x1b1013(0x1e6)][_0x1b1013(0x1d3)]+_0x1b1013(0x1d8):_0x3ed852='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+_0x47f3a3['message']+_0x1b1013(0x1ea),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-card\x20'+_0x47f3a3['status']+'\x20'+(_0x42c573?_0x1b1013(0x1df):'')+'\x22\x20data-invitation-id=\x22'+_0x47f3a3['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-from\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x42c573?'To:\x20'+_0x47f3a3[_0x1b1013(0x1cc)]:_0x47f3a3[_0x1b1013(0x1ef)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x42c573?_0x1b1013(0x1e7):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-time\x22>'+_0x4d61cd+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22status-badge\x20status-'+_0x47f3a3['status']+'\x22>'+_0x47f3a3['status']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3ed852+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x42c573&&_0x47f3a3[_0x1b1013(0x1d7)]==='pending'?_0x1b1013(0x1dd)+_0x47f3a3['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20Accept\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20decline-btn\x22\x20data-action=\x22decline\x22\x20data-invitation-id=\x22'+_0x47f3a3['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20Decline\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x47f3a3[_0x1b1013(0x1e8)]!=='team_invite'?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20respond-btn\x22\x20data-action=\x22respond\x22\x20data-invitation-id=\x22'+_0x47f3a3['id']+_0x1b1013(0x1d9):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x42c573&&_0x47f3a3['status']==='pending'?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20cancel-btn\x22\x20data-action=\x22cancel\x22\x20data-invitation-id=\x22'+_0x47f3a3['id']+_0x1b1013(0x1ca):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}['setupActionListeners'](){const _0x37d14a=a22_0x528be4;document['querySelectorAll'](_0x37d14a(0x1ed))['forEach'](_0x495c95=>{_0x495c95['addEventListener']('click',async _0x6719fd=>{const _0x2e28f6=a22_0x2e8c,_0x4851e7=_0x495c95[_0x2e28f6(0x1e0)]['action'],_0x4aa19e=_0x495c95['dataset']['invitationId'];_0x495c95['disabled']=!![];const _0x5a38f4=_0x495c95['innerHTML'];_0x495c95['innerHTML']=_0x2e28f6(0x1f7);try{switch(_0x4851e7){case'accept':await this['updateInvitationStatus'](_0x4aa19e,'accepted');break;case'decline':await this['updateInvitationStatus'](_0x4aa19e,'declined');break;case'cancel':await this['updateInvitationStatus'](_0x4aa19e,_0x2e28f6(0x1f5));break;case'respond':this['openResponseModal'](_0x4aa19e);break;}}catch(_0x36fa36){console[_0x2e28f6(0x1da)]('Error\x20performing\x20'+_0x4851e7+':',_0x36fa36),alert('Failed\x20to\x20'+_0x4851e7+'\x20invitation.\x20Please\x20try\x20again.');}finally{_0x495c95['disabled']=![],_0x495c95['innerHTML']=_0x5a38f4;}});});}async['updateInvitationStatus'](_0x47546e,_0x21051e){const _0x54bed7=a22_0x528be4;try{const _0x19b45e=this['invitations']['find'](_0x556df6=>_0x556df6['id']===_0x47546e);_0x19b45e&&_0x19b45e[_0x54bed7(0x1e8)]==='team_invite'&&_0x21051e==='accepted'&&await this['createTeamFromInvitation'](_0x19b45e);const _0x499918=doc(db,_0x54bed7(0x1de),_0x47546e);await updateDoc(_0x499918,{'status':_0x21051e,'respondedAt':new Date()}),_0x19b45e&&(_0x19b45e['status']=_0x21051e,_0x19b45e['respondedAt']=new Date(),this['renderInvitations']());}catch(_0x573ff9){console['error']('Error\x20updating\x20invitation\x20status:',_0x573ff9);throw _0x573ff9;}}['openResponseModal'](_0xb5db2){const _0x27918d=a22_0x528be4,_0x102b59=this[_0x27918d(0x1dc)]['find'](_0x32192d=>_0x32192d['id']===_0xb5db2);if(!_0x102b59)return;const _0x96e607=document['createElement'](_0x27918d(0x1fd));_0x96e607['className']='modal-overlay',_0x96e607[_0x27918d(0x201)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Send\x20Message\x20to\x20'+_0x102b59['fromUsername']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22modal-close\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-body\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Regarding\x20invitation\x20to:\x20<strong>'+_0x102b59[_0x27918d(0x1fc)]+'</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22response-message\x22\x20placeholder=\x22Type\x20your\x20message\x20here...\x22\x20rows=\x224\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20respond-btn\x22\x20id=\x22send-response\x22>Send\x20Message</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x22\x20id=\x22cancel-response\x22>Cancel</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';if(!document[_0x27918d(0x1d0)]('modal-styles')){const _0x1acf3d=document['createElement']('style');_0x1acf3d['id']='modal-styles',_0x1acf3d['textContent']=_0x27918d(0x1d2),document['head']['appendChild'](_0x1acf3d);}document['body']['appendChild'](_0x96e607),_0x96e607['querySelector'](_0x27918d(0x1c7))['addEventListener'](_0x27918d(0x1cf),()=>_0x96e607['remove']()),_0x96e607[_0x27918d(0x1db)]('#cancel-response')[_0x27918d(0x206)]('click',()=>_0x96e607['remove']()),_0x96e607[_0x27918d(0x206)]('click',_0x527b02=>{const _0x6c94ac=_0x27918d;if(_0x527b02[_0x6c94ac(0x1ee)]===_0x96e607)_0x96e607['remove']();}),_0x96e607[_0x27918d(0x1db)](_0x27918d(0x209))[_0x27918d(0x206)](_0x27918d(0x1cf),()=>{const _0x581f04=_0x27918d,_0x2f0767=document['getElementById']('response-message')['value']['trim']();_0x2f0767&&(alert(_0x581f04(0x205)),_0x96e607['remove']());});}async['createTeamFromInvitation'](_0x3c8dfd){const _0x166471=a22_0x528be4;try{const {createTeam:_0x26aa17}=await import(_0x166471(0x1ff)),_0x5eac30=await _0x26aa17(_0x3c8dfd['fromUsername'],_0x3c8dfd['toUsername'],_0x3c8dfd['teamData']['proposedTeamName'],_0x3c8dfd[_0x166471(0x1e6)]['teamColor']);if(!_0x5eac30['success'])throw new Error(_0x5eac30['error']);alert('Team\x20\x22'+_0x3c8dfd['teamData']['proposedTeamName']+'\x22\x20created\x20successfully!');}catch(_0xaa40f1){console['error'](_0x166471(0x1d1),_0xaa40f1);throw new Error('Failed\x20to\x20create\x20team:\x20'+_0xaa40f1['message']);}}['updateNotificationCount'](){const _0x6e6b6e=a22_0x528be4,_0x32e169=this['invitations']['filter'](_0x237a83=>_0x237a83['status']===_0x6e6b6e(0x20b))[_0x6e6b6e(0x1f0)],_0x43ee99=document['getElementById']('inbox-notification');_0x43ee99&&(_0x32e169>0x0?(_0x43ee99[_0x6e6b6e(0x1d4)]['display']='inline-block',_0x43ee99['textContent']=_0x32e169>0x9?'9+':_0x32e169):_0x43ee99['style']['display']='none');}[a22_0x528be4(0x1f4)](_0x5c2756){const _0x24c7f5=a22_0x528be4,_0x1d6741=new Date(),_0x2dd9a9=_0x1d6741-_0x5c2756,_0x3e5c1c=Math['floor'](_0x2dd9a9/(0x3e8*0x3c)),_0x35b3b0=Math['floor'](_0x2dd9a9/(0x3e8*0x3c*0x3c)),_0x147d68=Math['floor'](_0x2dd9a9/(0x3e8*0x3c*0x3c*0x18));if(_0x3e5c1c<0x1)return'Just\x20now';if(_0x3e5c1c<0x3c)return _0x3e5c1c+'m\x20ago';if(_0x35b3b0<0x18)return _0x35b3b0+_0x24c7f5(0x202);if(_0x147d68<0x7)return _0x147d68+_0x24c7f5(0x1e1);return _0x5c2756[_0x24c7f5(0x208)]();}[a22_0x528be4(0x1c6)](){const _0x227738=a22_0x528be4;this['unsubscribe']&&this[_0x227738(0x1f3)](),this[_0x227738(0x1f9)]&&this['sentUnsubscribe']();}}document['addEventListener'](a22_0x528be4(0x1d5),()=>{new InboxManager();});function a22_0x1fa8(){const _0x45235c=['desc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22color:\x20#888;\x20font-size:\x200.9em;\x20margin:\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Duos\x20Ladder\x20Team\x20•\x20Color:\x20','classList','constructor','hasMore','destroy','.modal-close','createdAt','renderInvitations','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20Cancel\x20Invitation\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22team-invite-preview\x22\x20style=\x22background:\x20#1a1a1a;\x20padding:\x201rem;\x20border-radius:\x204px;\x20margin:\x200.5rem\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20style=\x22color:\x20','toUsername','team_invite','proposedTeamName','click','getElementById','Error\x20creating\x20team:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-overlay\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20right:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.8);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-content\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#2a2a2a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2090%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20500px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-height:\x2090vh;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20overflow-y:\x20auto;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-header\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20space-between;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-close\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x201.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-body\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-body\x20textarea\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#1a1a1a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resize:\x20vertical;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-footer\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-top:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','teamColor','style','DOMContentLoaded','map','status','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-reply\x22></i>\x20Send\x20Message\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','error','querySelector','invitations','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20accept-btn\x22\x20data-action=\x22accept\x22\x20data-invitation-id=\x22','gameInvitations','sent-invitation','dataset','d\x20ago','setupActionListeners','onAuthStateChanged','querySelectorAll','console','teamData','<span\x20class=\x22sent-indicator\x22><i\x20class=\x22fas\x20fa-paper-plane\x22></i>\x20Sent</span>','type','setupEventListeners','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','location','toDate','.action-btn','target','fromUsername','length','active','currentFilter','unsubscribe','getTimeAgo','cancelled','forEach','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','toString','sentUnsubscribe','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22empty-inbox\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-inbox\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>No\x20','bind','value','div','sentInvitations','./ladderduos.js','data','innerHTML','h\x20ago','sort','toUserId','Message\x20sent!\x20(Feature\x20will\x20be\x20fully\x20implemented\x20in\x20future\x20update)','addEventListener','fromUserId','toLocaleDateString','#send-response','sent','pending'];a22_0x1fa8=function(){return _0x45235c;};return a22_0x1fa8();}