const a32_0x475bbd=(function(){let _0x5ddba4=!![];return function(_0x364fe3,_0x4146dd){const _0x6b40ff=_0x5ddba4?function(){if(_0x4146dd){const _0x2f5b15=_0x4146dd['apply'](_0x364fe3,arguments);return _0x4146dd=null,_0x2f5b15;}}:function(){};return _0x5ddba4=![],_0x6b40ff;};}()),a32_0x34b8bd=a32_0x475bbd(this,function(){const _0x220348=a32_0x421b,_0x101e43=function(){const _0x1c498c=a32_0x421b;let _0xf8f347;try{_0xf8f347=Function('return\x20(function()\x20'+_0x1c498c(0x135)+');')();}catch(_0x3271ba){_0xf8f347=window;}return _0xf8f347;},_0x103889=_0x101e43(),_0x166d0f=_0x103889['console']=_0x103889['console']||{},_0x4e9e1b=['log',_0x220348(0x122),_0x220348(0x111),'error',_0x220348(0x114),'table',_0x220348(0x133)];for(let _0x3d218f=0x0;_0x3d218f<_0x4e9e1b[_0x220348(0x106)];_0x3d218f++){const _0x599f50=a32_0x475bbd['constructor']['prototype']['bind'](a32_0x475bbd),_0x50c5de=_0x4e9e1b[_0x3d218f],_0x570a3b=_0x166d0f[_0x50c5de]||_0x599f50;_0x599f50['__proto__']=a32_0x475bbd['bind'](a32_0x475bbd),_0x599f50[_0x220348(0x12c)]=_0x570a3b['toString']['bind'](_0x570a3b),_0x166d0f[_0x50c5de]=_0x599f50;}});a32_0x34b8bd();import{collection,getDocs,deleteDoc,doc,getDoc,query,where,updateDoc,Timestamp,onSnapshot,orderBy,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db}from'./firebase-config.js';import{getRankStyle}from'./ranks.js';import a32_0x30340d from'./firebase-idle-wrapper.js';const playerCacheD2={'data':null,'timestamp':0x0},CACHE_DURATION=0x7530;async function displayLadderD2(_0x12b543=![]){const _0x28ff6f=a32_0x421b,_0x124bbe=document[_0x28ff6f(0x127)]('#ladder-d2\x20tbody');if(!_0x124bbe){console['error']('D2\x20Ladder\x20table\x20body\x20not\x20found');return;}_0x124bbe['innerHTML']='<tr><td\x20colspan=\x228\x22\x20class=\x22loading-cell\x22>Loading\x20D2\x20ladder\x20data...</td></tr>';try{const _0x2f056f=Date[_0x28ff6f(0x10d)]();if(!_0x12b543&&playerCacheD2[_0x28ff6f(0x110)]&&_0x2f056f-playerCacheD2[_0x28ff6f(0x131)]<CACHE_DURATION){updateLadderDisplayD2(playerCacheD2[_0x28ff6f(0x110)]);return;}const _0x4b3930=collection(db,'playersD2'),_0x5c68cc=query(_0x4b3930,orderBy('position','asc')),_0x45f9e5=await a32_0x30340d['getDocuments'](_0x4b3930),_0x37d2c5=[];_0x45f9e5[_0x28ff6f(0x10f)](_0xf8e80=>{const _0x5891b4=_0x28ff6f,_0x33ca90=_0xf8e80['data']();_0x33ca90['username']&&_0x37d2c5[_0x5891b4(0x10b)]({..._0x33ca90,'id':_0xf8e80['id'],'elo':_0x33ca90['eloRating']||0x0,'position':_0x33ca90[_0x5891b4(0x115)]||Number['MAX_SAFE_INTEGER']});});const _0x3a4edb=collection(db,_0x28ff6f(0x100)),_0x4366a1=await getDocs(_0x3a4edb),_0x4469e9=new Map();_0x4366a1[_0x28ff6f(0x10f)](_0x52e265=>{const _0x243e7d=_0x28ff6f,_0x2012ea=_0x52e265['data']();_0x2012ea[_0x243e7d(0x116)]&&_0x4469e9['set'](_0x2012ea[_0x243e7d(0x116)]['toLowerCase'](),_0x2012ea);});for(const _0x5975f8 of _0x37d2c5){const _0x13a795=_0x5975f8[_0x28ff6f(0x116)]['toLowerCase']();if(_0x4469e9['has'](_0x13a795)){const _0x54e340=_0x4469e9['get'](_0x13a795);_0x54e340['country']&&(_0x5975f8['country']=_0x54e340['country']['toLowerCase']());}}const _0x3441d4=_0x37d2c5['map'](_0x7c13c9=>_0x7c13c9[_0x28ff6f(0x116)]),_0x22c751=await fetchBatchMatchStatsD2(_0x3441d4);_0x37d2c5['sort']((_0x406d16,_0x1ccfcc)=>{const _0x377497=_0x28ff6f,_0x36ae96=_0x22c751['get'](_0x406d16['username'])?.['totalMatches']||0x0,_0x5aa5ba=_0x22c751['get'](_0x1ccfcc['username'])?.['totalMatches']||0x0;if(_0x36ae96===0x0!==(_0x5aa5ba===0x0))return _0x36ae96===0x0?0x1:-0x1;return(_0x406d16[_0x377497(0x115)]||0x3e7)-(_0x1ccfcc['position']||0x3e7);}),_0x37d2c5['forEach']((_0x3cdc76,_0x2a0e1c)=>{_0x3cdc76['position']=_0x2a0e1c+0x1;}),playerCacheD2['data']=_0x37d2c5,playerCacheD2['timestamp']=_0x2f056f,updateLadderDisplayD2(_0x37d2c5);}catch(_0x5d7cd2){console[_0x28ff6f(0x117)](_0x28ff6f(0x108),_0x5d7cd2),_0x124bbe[_0x28ff6f(0x119)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x228\x22\x20style=\x22text-align:\x20center;\x20color:\x20red;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20D2\x20ladder\x20data:\x20'+_0x5d7cd2['message']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}function a32_0xec37(){const _0x48ddd3=['.png\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22','userProfiles','style','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','visibility','D2:\x20','log','length','toFixed','Error\x20loading\x20D2\x20ladder:','&ladder=d2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22color:\x20','playersD2','push','.trend-indicator','now','seconds','forEach','data','info','playerUsername','totalKills','exception','position','username','error','approvedMatchesD2','innerHTML','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Rank</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Username</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>ELO</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Matches</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Wins</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Losses</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>K/D</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Win\x20Rate</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','desc','join','textContent','totalDeaths','size','gameMode','previousElo','warn','#ladder-d2\x20tbody','#4CAF50','Gold','<img\x20src=\x22../images/flags/','querySelector','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22trend-indicator\x22\x20style=\x22margin-left:\x205px;\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','change','set','Could\x20not\x20find\x20winner\x20or\x20loser\x20in\x20D2\x20players\x20list','toString','0.85em','toLowerCase','#F44336','wins','timestamp','get','trace','Error\x20updating\x20D2\x20ELO\x20trend\x20indicators:','{}.constructor(\x22return\x20this\x22)(\x20)','loserScore','find','losses','querySelectorAll'];a32_0xec37=function(){return _0x48ddd3;};return a32_0xec37();}function getNextAvailablePositionD2(_0x578f32){if(_0x578f32['length']===0x0)return 0x1;let _0x4cfadf=0x0;return _0x578f32['forEach'](_0xdec09b=>{const _0x5ddc89=a32_0x421b;_0xdec09b['position']&&typeof _0xdec09b['position']==='number'&&_0xdec09b[_0x5ddc89(0x115)]>_0x4cfadf&&(_0x4cfadf=_0xdec09b['position']);}),_0x4cfadf+0x1;}async function updatePlayerPositions(_0x3b86c0,_0xece89a){const _0x346f59=a32_0x421b;try{const _0x48c452=collection(db,'playersD2'),_0x4baa59=await getDocs(_0x48c452),_0x2ee94b=[];_0x4baa59['forEach'](_0x135c7b=>{_0x2ee94b['push']({'id':_0x135c7b['id'],..._0x135c7b['data']()});});const _0x3ef494=_0x2ee94b['find'](_0x2e97ba=>_0x2e97ba['username']===_0x3b86c0),_0x51e7fc=_0x2ee94b['find'](_0x1c78b3=>_0x1c78b3['username']===_0xece89a);if(!_0x3ef494||!_0x51e7fc){console['error'](_0x346f59(0x12b));return;}if(_0x3ef494['position']>_0x51e7fc[_0x346f59(0x115)]){const _0x5e3d94=_0x51e7fc[_0x346f59(0x115)];for(const _0x44c8f1 of _0x2ee94b){_0x44c8f1['position']>=_0x51e7fc['position']&&_0x44c8f1[_0x346f59(0x115)]<_0x3ef494['position']&&_0x44c8f1['username']!==_0x3b86c0&&await updateDoc(doc(db,'playersD2',_0x44c8f1['id']),{'position':_0x44c8f1['position']+0x1});}await updateDoc(doc(db,_0x346f59(0x10a),_0x3ef494['id']),{'position':_0x5e3d94});if(_0x5e3d94===0x1){const _0xb40b0c=doc(db,'playersD2',_0x3ef494['id']),_0x279c3b=await getDoc(_0xb40b0c);!_0x279c3b['data']()['firstPlaceDate']&&await updateDoc(_0xb40b0c,{'firstPlaceDate':Timestamp[_0x346f59(0x10d)]()});}if(_0x51e7fc['position']===0x1){const _0x4e6f79=doc(db,'playersD2',_0x51e7fc['id']);await updateDoc(_0x4e6f79,{'firstPlaceDate':null});}playerCacheD2[_0x346f59(0x131)]=0x0;}}catch(_0x249fb5){console['error']('Error\x20updating\x20D2\x20player\x20positions:',_0x249fb5);}}function calculateStreakDays(_0x7ece37){if(!_0x7ece37)return 0x0;const _0x4edb58=_0x7ece37['toDate'](),_0x430934=new Date(),_0x160062=Math['abs'](_0x430934-_0x4edb58);return Math['ceil'](_0x160062/(0x3e8*0x3c*0x3c*0x18));}function getPlayerRankNameD2(_0x18e10d){const _0x368432=a32_0x421b;if(_0x18e10d>=0x834)return'Emerald';if(_0x18e10d>=0x708)return _0x368432(0x125);if(_0x18e10d>=0x640)return'Silver';if(_0x18e10d>=0x578)return'Bronze';return'Unranked';}async function updateLadderDisplayD2(_0x122e79){const _0x1b7f49=a32_0x421b;_0x122e79['sort']((_0x3ae396,_0x545094)=>_0x3ae396['position']-_0x545094[_0x1b7f49(0x115)]);const _0x5711eb=document['querySelector'](_0x1b7f49(0x123));if(!_0x5711eb)return;_0x5711eb['innerHTML']='';const _0x2252d0=_0x122e79['map'](_0xb0bf04=>_0xb0bf04[_0x1b7f49(0x116)]),_0x471000=await fetchBatchMatchStatsD2(_0x2252d0),_0x364266=document[_0x1b7f49(0x127)]('#ladder-d2\x20thead\x20tr');_0x364266&&(_0x364266['innerHTML']=_0x1b7f49(0x11a));const _0x48b51b=_0x122e79['map'](_0x5c653e=>{const _0x15bf67=_0x1b7f49,_0x258084=_0x471000['get'](_0x5c653e[_0x15bf67(0x116)])||{'totalMatches':0x0,'wins':0x0,'losses':0x0,'kda':0x0,'winRate':0x0,'totalKills':0x0,'totalDeaths':0x0};return createPlayerRowD2(_0x5c653e,_0x258084);})[_0x1b7f49(0x11c)]('');_0x5711eb[_0x1b7f49(0x119)]=_0x48b51b,getPlayersLastEloChangesD2(_0x2252d0)['then'](_0x26de62=>{const _0x4f5f28=_0x1b7f49,_0x2ced28=new Map();_0x5711eb[_0x4f5f28(0x139)]('tr')[_0x4f5f28(0x10f)]((_0x2bc993,_0x515187)=>{const _0x14854b=_0x4f5f28;_0x515187<_0x2252d0[_0x14854b(0x106)]&&_0x2ced28['set'](_0x2252d0[_0x515187],_0x2bc993);}),_0x26de62['forEach']((_0x35f302,_0x1baef0)=>{const _0x5206d3=_0x4f5f28,_0x21f93c=_0x2ced28['get'](_0x1baef0);if(_0x21f93c&&_0x35f302!==0x0){const _0x366a65=_0x21f93c['querySelector']('td:nth-child(3)');if(_0x366a65){const _0x50a601=_0x35f302>0x0?'+'+_0x35f302:''+_0x35f302,_0x2107d6=_0x366a65['querySelector'](_0x5206d3(0x10c));_0x2107d6&&(_0x2107d6[_0x5206d3(0x11d)]=_0x50a601,_0x2107d6[_0x5206d3(0x101)]['color']=_0x35f302>0x0?_0x5206d3(0x124):_0x5206d3(0x12f),_0x2107d6['style']['fontWeight']='bold',_0x2107d6['style']['fontSize']=_0x5206d3(0x12d),_0x2107d6[_0x5206d3(0x101)]['display']='inline',_0x2107d6['style'][_0x5206d3(0x103)]='visible',_0x2107d6['style']['opacity']='1');}}});})['catch'](_0x12f260=>console[_0x1b7f49(0x117)](_0x1b7f49(0x134),_0x12f260));}function createPlayerRowD2(_0x53c4de,_0x2e3481){const _0xd2f6df=a32_0x421b,_0x5963ad=parseFloat(_0x53c4de['elo'])||0x0;let _0x127fc2='gray';if(_0x5963ad>=0x7d0)_0x127fc2='#50C878';else{if(_0x5963ad>=0x708)_0x127fc2='#FFD700';else{if(_0x5963ad>=0x640)_0x127fc2='#C0C0C0';else _0x5963ad>=0x578&&(_0x127fc2='#CD7F32');}}let _0x40fb7d='';return _0x53c4de['country']&&(_0x40fb7d=_0xd2f6df(0x126)+_0x53c4de['country'][_0xd2f6df(0x12e)]()+_0xd2f6df(0xff)+_0x53c4de['country']+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22player-flag\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22margin-left:\x205px;\x20vertical-align:\x20middle;\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>'),'\x0a\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x53c4de['position']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22profile.html?username='+encodeURIComponent(_0x53c4de[_0xd2f6df(0x116)])+_0xd2f6df(0x109)+_0x127fc2+';\x20text-decoration:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x53c4de['username']+_0xd2f6df(0x102)+_0x40fb7d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22color:\x20'+_0x127fc2+';\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22elo-container\x22\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22elo-value\x22>'+_0x5963ad+_0xd2f6df(0x128)+_0x2e3481['totalMatches']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x2e3481['wins']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x2e3481['losses']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x2e3481['kda']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x2e3481['winRate']+'%</td>\x0a\x20\x20\x20\x20</tr>';}async function getPlayersLastEloChangesD2(_0x2eaf0d){const _0x524592=a32_0x421b,_0x214242=new Map();_0x2eaf0d['forEach'](_0x276dbd=>_0x214242['set'](_0x276dbd,0x0));try{const _0x3fe9fe=collection(db,'eloHistoryD2'),_0x270e71=query(_0x3fe9fe,orderBy('timestamp','desc'),limit(0x64)),_0x196843=await getDocs(_0x270e71),_0xdbee79=new Map(),_0x400956=await getDocs(collection(db,'playersD2'));_0x400956['forEach'](_0x4e45d7=>{const _0x12af03=a32_0x421b,_0x3cb6a0=_0x4e45d7['data']();_0x3cb6a0['username']&&_0xdbee79[_0x12af03(0x12a)](_0x4e45d7['id'],_0x3cb6a0[_0x12af03(0x116)]);});const _0x3ec10c=new Map();_0x196843['forEach'](_0x4e3b35=>{const _0x5f4a7f=a32_0x421b,_0x5463d0=_0x4e3b35['data']();let _0x22835e=_0x5463d0[_0x5f4a7f(0x116)]||_0x5463d0['playerUsername'];!_0x22835e&&_0x5463d0['player']&&_0xdbee79['has'](_0x5463d0['player'])&&(_0x22835e=_0xdbee79['get'](_0x5463d0['player']));if(!_0x22835e&&_0x5463d0['matchId']){}_0x22835e&&_0x2eaf0d['includes'](_0x22835e)&&(!_0x3ec10c['has'](_0x22835e)&&_0x3ec10c['set'](_0x22835e,[]),_0x3ec10c['get'](_0x22835e)['push']({..._0x5463d0,'timestamp':_0x5463d0['timestamp']?.[_0x5f4a7f(0x10e)]||0x0,'username':_0x22835e}));}),_0x3ec10c[_0x524592(0x10f)]((_0x330bfd,_0x242993)=>{const _0x53a32e=_0x524592;if(_0x330bfd[_0x53a32e(0x106)]>0x0){_0x330bfd['sort']((_0x42b0fa,_0x42e074)=>_0x42e074['timestamp']-_0x42b0fa['timestamp']);const _0x166143=_0x330bfd[_0x53a32e(0x137)](_0x247529=>_0x247529[_0x53a32e(0x129)]!==undefined||_0x247529['newElo']!==undefined&&_0x247529['previousElo']!==undefined);if(_0x166143){let _0xaf812b;if(_0x166143['change']!==undefined)_0xaf812b=_0x166143['change'];else _0x166143['newElo']!==undefined&&_0x166143[_0x53a32e(0x121)]!==undefined&&(_0xaf812b=_0x166143['newElo']-_0x166143['previousElo']);_0xaf812b!==undefined&&_0x214242['set'](_0x242993,_0xaf812b);}}});if(_0x3ec10c[_0x524592(0x11f)]===0x0){const _0x117ea8=collection(db,'eloHistory'),_0x5f1f87=query(_0x117ea8,where(_0x524592(0x120),'==','D2'),orderBy('timestamp',_0x524592(0x11b)),limit(0x32));try{const _0x127d97=await getDocs(_0x5f1f87);console[_0x524592(0x105)]('D2:\x20Found',_0x127d97[_0x524592(0x11f)],'fallback\x20entries'),_0x127d97['forEach'](_0x47ca3a=>{const _0x5710cc=_0x524592,_0x16cef0=_0x47ca3a['data'](),_0x4d48cd=_0x16cef0['username']||_0x16cef0[_0x5710cc(0x112)];if(_0x4d48cd&&_0x2eaf0d['includes'](_0x4d48cd)){const _0x5b6f47=_0x16cef0['change']||(_0x16cef0['newElo']!==undefined&&_0x16cef0['previousElo']!==undefined?_0x16cef0['newElo']-_0x16cef0[_0x5710cc(0x121)]:0x0);_0x5b6f47!==0x0&&(_0x214242[_0x5710cc(0x12a)](_0x4d48cd,_0x5b6f47),console['log'](_0x5710cc(0x104)+_0x4d48cd+'\x20fallback\x20ELO\x20change:\x20'+_0x5b6f47));}});}catch(_0x4cc800){}}}catch(_0x485504){console[_0x524592(0x117)]('D2:\x20Error\x20fetching\x20ELO\x20history:',_0x485504);}return _0x214242;}function a32_0x421b(_0x332356,_0x2bf673){const _0x34b8bd=a32_0xec37();return a32_0x421b=function(_0x475bbd,_0x3ea3c4){_0x475bbd=_0x475bbd-0xff;let _0xec37a9=_0x34b8bd[_0x475bbd];return _0xec37a9;},a32_0x421b(_0x332356,_0x2bf673);}async function fetchBatchMatchStatsD2(_0x3ec7f1){const _0x2b56fd=a32_0x421b,_0x265260=new Map();try{_0x3ec7f1[_0x2b56fd(0x10f)](_0x21a9c1=>{_0x265260['set'](_0x21a9c1,{'totalMatches':0x0,'wins':0x0,'losses':0x0,'totalKills':0x0,'totalDeaths':0x0,'kda':0x0,'winRate':0x0});});const _0x5ceedd=collection(db,_0x2b56fd(0x118)),_0x1be533=await getDocs(_0x5ceedd);_0x1be533['forEach'](_0x30be44=>{const _0x1efa73=_0x2b56fd,_0x28e67b=_0x30be44[_0x1efa73(0x110)](),_0x15128f=_0x28e67b['winnerUsername'],_0x28354a=_0x28e67b['loserUsername'];if(_0x3ec7f1['includes'](_0x15128f)){const _0x4570fc=_0x265260['get'](_0x15128f);_0x4570fc[_0x1efa73(0x130)]++,_0x4570fc['totalMatches']++,_0x4570fc[_0x1efa73(0x113)]+=parseInt(_0x28e67b['winnerScore'])||0x0,_0x4570fc['totalDeaths']+=parseInt(_0x28e67b[_0x1efa73(0x136)])||0x0;}if(_0x3ec7f1['includes'](_0x28354a)){const _0x3ff32f=_0x265260[_0x1efa73(0x132)](_0x28354a);_0x3ff32f[_0x1efa73(0x138)]++,_0x3ff32f['totalMatches']++,_0x3ff32f['totalKills']+=parseInt(_0x28e67b['loserScore'])||0x0,_0x3ff32f[_0x1efa73(0x11e)]+=parseInt(_0x28e67b['winnerScore'])||0x0;}}),_0x3ec7f1['forEach'](_0x3cebc4=>{const _0x4bbc42=_0x2b56fd,_0x1d2793=_0x265260[_0x4bbc42(0x132)](_0x3cebc4);_0x1d2793['kda']=_0x1d2793['totalDeaths']>0x0?(_0x1d2793[_0x4bbc42(0x113)]/_0x1d2793['totalDeaths'])[_0x4bbc42(0x107)](0x2):_0x1d2793['totalKills']['toFixed'](0x2),_0x1d2793['winRate']=_0x1d2793['totalMatches']>0x0?(_0x1d2793['wins']/_0x1d2793['totalMatches']*0x64)['toFixed'](0x1):0x0;});}catch(_0xf4b117){console['error']('Error\x20fetching\x20batch\x20D2\x20match\x20stats:',_0xf4b117);}return _0x265260;}export{displayLadderD2,updatePlayerPositions};