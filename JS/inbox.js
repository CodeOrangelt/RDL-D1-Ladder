const a24_0x76b17=a24_0x1ccc,a24_0x45de71=(function(){let _0x3991a0=!![];return function(_0x2e34a8,_0x4f8ccd){const _0x563316=_0x3991a0?function(){if(_0x4f8ccd){const _0x50fdb3=_0x4f8ccd['apply'](_0x2e34a8,arguments);return _0x4f8ccd=null,_0x50fdb3;}}:function(){};return _0x3991a0=![],_0x563316;};}()),a24_0x5aa874=a24_0x45de71(this,function(){const _0x478e1c=a24_0x1ccc;let _0x6d5f42;try{const _0x1dfb9d=Function(_0x478e1c(0x84)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x6d5f42=_0x1dfb9d();}catch(_0x493f9b){_0x6d5f42=window;}const _0x174227=_0x6d5f42[_0x478e1c(0x65)]=_0x6d5f42['console']||{},_0x2e2f00=['log',_0x478e1c(0x93),'info','error','exception','table','trace'];for(let _0xfbde40=0x0;_0xfbde40<_0x2e2f00[_0x478e1c(0x96)];_0xfbde40++){const _0x1d36c9=a24_0x45de71['constructor']['prototype'][_0x478e1c(0xa8)](a24_0x45de71),_0x399c6e=_0x2e2f00[_0xfbde40],_0x4df865=_0x174227[_0x399c6e]||_0x1d36c9;_0x1d36c9['__proto__']=a24_0x45de71[_0x478e1c(0xa8)](a24_0x45de71),_0x1d36c9['toString']=_0x4df865[_0x478e1c(0x71)]['bind'](_0x4df865),_0x174227[_0x399c6e]=_0x1d36c9;}});a24_0x5aa874();import{auth,db}from'./firebase-config.js';function a24_0x1ccc(_0x37cb8a,_0x66ff40){const _0x5aa874=a24_0x57a1();return a24_0x1ccc=function(_0x45de71,_0x54716e){_0x45de71=_0x45de71-0x64;let _0x57a108=_0x5aa874[_0x45de71];return _0x57a108;},a24_0x1ccc(_0x37cb8a,_0x66ff40);}import{collection,query,where,orderBy,getDocs,doc,updateDoc,onSnapshot,limit,startAfter}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';class InboxManager{constructor(){this['currentFilter']='pending',this['invitations']=[],this['sentInvitations']=[],this['unsubscribe']=null,this['sentUnsubscribe']=null,this['pageSize']=0x14,this['lastDoc']=null,this['hasMore']=!![],this['init']();}async[a24_0x76b17(0xa7)](){auth['onAuthStateChanged'](_0x46656f=>{const _0x4b6a69=a24_0x1ccc;_0x46656f?(this[_0x4b6a69(0x73)](_0x46656f[_0x4b6a69(0x66)]),this[_0x4b6a69(0x7d)]()):window['location']['href']='./login.html';});}[a24_0x76b17(0x7d)](){document['querySelectorAll']('.filter-btn')['forEach'](_0x351166=>{const _0x2876da=a24_0x1ccc;_0x351166[_0x2876da(0x6a)]('click',()=>{const _0x1a7385=_0x2876da;document[_0x1a7385(0x87)]('.filter-btn')[_0x1a7385(0x80)](_0x135b09=>_0x135b09['classList']['remove'](_0x1a7385(0x6f))),_0x351166['classList']['add']('active'),this['currentFilter']=_0x351166[_0x1a7385(0x82)]['filter'],this['renderInvitations']();});});}['loadInvitations'](_0x4b4efb){const _0x5cc4e5=collection(db,'gameInvitations');let _0x2151fe=query(_0x5cc4e5,where('toUserId','==',_0x4b4efb),orderBy('createdAt','desc'),limit(this['pageSize']));this['unsubscribe']=onSnapshot(_0x2151fe,_0x5222dd=>{const _0x3f8f8e=a24_0x1ccc;this['invitations']=_0x5222dd[_0x3f8f8e(0x9e)][_0x3f8f8e(0xa3)](_0x4b32ab=>({'id':_0x4b32ab['id'],..._0x4b32ab['data']()})),this['renderInvitations'](),this[_0x3f8f8e(0xa4)]();});let _0x2269eb=query(_0x5cc4e5,where('fromUserId','==',_0x4b4efb),orderBy('createdAt','desc'),limit(this['pageSize']));this['sentUnsubscribe']=onSnapshot(_0x2269eb,_0x46fb46=>{const _0x418668=a24_0x1ccc;this[_0x418668(0x75)]=_0x46fb46['docs'][_0x418668(0xa3)](_0x424634=>({'id':_0x424634['id'],..._0x424634['data'](),'isSent':!![]})),this[_0x418668(0x89)]();});}['renderInvitations'](){const _0x2c3095=a24_0x76b17,_0x215aa5=document['getElementById']('inbox-content');if(!_0x215aa5)return;let _0xe9d12f=[];if(this[_0x2c3095(0x86)]==='outbox')_0xe9d12f=this['sentInvitations'];else this['currentFilter']==='all'?_0xe9d12f=[...this['invitations'],...this['sentInvitations']]['sort']((_0x294525,_0x1cb406)=>{const _0x44fab3=_0x2c3095,_0x3926a1=_0x294525['createdAt']?.['toDate']?_0x294525['createdAt']['toDate']():new Date(_0x294525['createdAt']),_0x2e24a5=_0x1cb406['createdAt']?.[_0x44fab3(0xaa)]?_0x1cb406['createdAt']['toDate']():new Date(_0x1cb406['createdAt']);return _0x2e24a5-_0x3926a1;}):_0xe9d12f=this['invitations']['filter'](_0x2af2f2=>_0x2af2f2[_0x2c3095(0x9d)]===this['currentFilter']);if(_0xe9d12f['length']===0x0){const _0x20a9a8=this['currentFilter']==='outbox'?'sent':this['currentFilter']==='all'?'':this['currentFilter'];_0x215aa5[_0x2c3095(0x72)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22empty-inbox\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-inbox\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>No\x20'+_0x20a9a8+'\x20invitations</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(this['currentFilter']==='outbox'?'Invitations\x20you\x20send\x20to\x20other\x20players\x20will\x20appear\x20here.':_0x2c3095(0x91))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';return;}_0x215aa5['innerHTML']=_0xe9d12f['map'](_0x1e360f=>this['createInvitationCard'](_0x1e360f))['join'](''),this[_0x2c3095(0xa5)]();}['createInvitationCard'](_0x23f87a){const _0x3679da=a24_0x76b17,_0x27e18a=_0x23f87a['createdAt']?.['toDate']?_0x23f87a['createdAt']['toDate']():new Date(_0x23f87a['createdAt']),_0x47884f=this['getTimeAgo'](_0x27e18a),_0x40452d=_0x23f87a['isSent']||![];let _0x17ded3='';return _0x23f87a[_0x3679da(0x90)]==='team_invite'?_0x17ded3=_0x3679da(0x7b)+_0x23f87a['message']+_0x3679da(0xa9)+_0x23f87a['teamData'][_0x3679da(0xab)]+_0x3679da(0x97)+_0x23f87a['teamData']['proposedTeamName']+_0x3679da(0x9c)+_0x23f87a['teamData']['teamColor']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x17ded3='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+_0x23f87a['message']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-card\x20'+_0x23f87a[_0x3679da(0x9d)]+'\x20'+(_0x40452d?_0x3679da(0x83):'')+_0x3679da(0x7c)+_0x23f87a['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-from\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x40452d?_0x3679da(0x95)+_0x23f87a['toUsername']:_0x23f87a['fromUsername'])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x40452d?'<span\x20class=\x22sent-indicator\x22><i\x20class=\x22fas\x20fa-paper-plane\x22></i>\x20Sent</span>':'')+_0x3679da(0x98)+_0x47884f+_0x3679da(0x85)+_0x23f87a['status']+'\x22>'+_0x23f87a['status']+_0x3679da(0x77)+_0x17ded3+_0x3679da(0x9b)+(!_0x40452d&&_0x23f87a['status']==='pending'?_0x3679da(0x6c)+_0x23f87a['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20Accept\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20decline-btn\x22\x20data-action=\x22decline\x22\x20data-invitation-id=\x22'+_0x23f87a['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20Decline\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x23f87a['type']!=='team_invite'?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20respond-btn\x22\x20data-action=\x22respond\x22\x20data-invitation-id=\x22'+_0x23f87a['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-reply\x22></i>\x20Send\x20Message\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+_0x3679da(0x8f):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x40452d&&_0x23f87a['status']==='pending'?_0x3679da(0x70)+_0x23f87a['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20Cancel\x20Invitation\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}['setupActionListeners'](){document['querySelectorAll']('.action-btn')['forEach'](_0x5cd7bd=>{_0x5cd7bd['addEventListener']('click',async _0x24d119=>{const _0x2ab1c9=a24_0x1ccc,_0x4e1f62=_0x5cd7bd['dataset'][_0x2ab1c9(0x6b)],_0x542f35=_0x5cd7bd[_0x2ab1c9(0x82)][_0x2ab1c9(0x76)];_0x5cd7bd['disabled']=!![];const _0x321494=_0x5cd7bd['innerHTML'];_0x5cd7bd['innerHTML']=_0x2ab1c9(0x8e);try{switch(_0x4e1f62){case'accept':await this[_0x2ab1c9(0x78)](_0x542f35,'accepted');break;case'decline':await this['updateInvitationStatus'](_0x542f35,'declined');break;case'cancel':await this['updateInvitationStatus'](_0x542f35,'cancelled');break;case'respond':this[_0x2ab1c9(0x99)](_0x542f35);break;}}catch(_0x156947){console['error']('Error\x20performing\x20'+_0x4e1f62+':',_0x156947),alert('Failed\x20to\x20'+_0x4e1f62+'\x20invitation.\x20Please\x20try\x20again.');}finally{_0x5cd7bd[_0x2ab1c9(0x9a)]=![],_0x5cd7bd['innerHTML']=_0x321494;}});});}async['updateInvitationStatus'](_0x5f0304,_0x3078de){const _0x26eaac=a24_0x76b17;try{const _0x5e79ad=this['invitations']['find'](_0x28106f=>_0x28106f['id']===_0x5f0304);_0x5e79ad&&_0x5e79ad['type']==='team_invite'&&_0x3078de==='accepted'&&await this['createTeamFromInvitation'](_0x5e79ad);const _0x5f3444=doc(db,'gameInvitations',_0x5f0304);await updateDoc(_0x5f3444,{'status':_0x3078de,'respondedAt':new Date()}),_0x5e79ad&&(_0x5e79ad[_0x26eaac(0x9d)]=_0x3078de,_0x5e79ad[_0x26eaac(0x8a)]=new Date(),this['renderInvitations']());}catch(_0x4ab1dd){console['error']('Error\x20updating\x20invitation\x20status:',_0x4ab1dd);throw _0x4ab1dd;}}[a24_0x76b17(0x99)](_0x48f3a1){const _0x4724d5=a24_0x76b17,_0x55124f=this['invitations']['find'](_0x2283e1=>_0x2283e1['id']===_0x48f3a1);if(!_0x55124f)return;const _0x27bad5=document['createElement']('div');_0x27bad5['className']='modal-overlay',_0x27bad5['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Send\x20Message\x20to\x20'+_0x55124f['fromUsername']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22modal-close\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-body\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Regarding\x20invitation\x20to:\x20<strong>'+_0x55124f[_0x4724d5(0x74)]+_0x4724d5(0xa6);if(!document['getElementById']('modal-styles')){const _0x5d74f8=document['createElement'](_0x4724d5(0x8d));_0x5d74f8['id']=_0x4724d5(0x9f),_0x5d74f8['textContent']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-overlay\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20right:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.8);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-content\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#2a2a2a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2090%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20500px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-height:\x2090vh;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20overflow-y:\x20auto;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-header\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20space-between;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-close\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x201.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-body\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-body\x20textarea\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#1a1a1a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resize:\x20vertical;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-footer\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-top:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document['head']['appendChild'](_0x5d74f8);}document['body']['appendChild'](_0x27bad5),_0x27bad5['querySelector']('.modal-close')[_0x4724d5(0x6a)]('click',()=>_0x27bad5['remove']()),_0x27bad5[_0x4724d5(0x7f)]('#cancel-response')[_0x4724d5(0x6a)]('click',()=>_0x27bad5[_0x4724d5(0x94)]()),_0x27bad5['addEventListener']('click',_0x415af1=>{if(_0x415af1['target']===_0x27bad5)_0x27bad5['remove']();}),_0x27bad5[_0x4724d5(0x7f)]('#send-response')['addEventListener'](_0x4724d5(0x8c),()=>{const _0x288307=_0x4724d5,_0x9ac68b=document['getElementById']('response-message')['value'][_0x288307(0x79)]();_0x9ac68b&&(alert(_0x288307(0x7a)),_0x27bad5[_0x288307(0x94)]());});}async['createTeamFromInvitation'](_0x4fe9b1){const _0x92515=a24_0x76b17;try{const {createTeam:_0x57b5c6}=await import(_0x92515(0x6d)),_0x5520fa=await _0x57b5c6(_0x4fe9b1['fromUsername'],_0x4fe9b1['toUsername'],_0x4fe9b1[_0x92515(0x92)]['proposedTeamName'],_0x4fe9b1[_0x92515(0x92)]['teamColor']);if(!_0x5520fa['success'])throw new Error(_0x5520fa[_0x92515(0x7e)]);alert(_0x92515(0x6e)+_0x4fe9b1['teamData']['proposedTeamName']+_0x92515(0x88));}catch(_0x119978){console['error']('Error\x20creating\x20team:',_0x119978);throw new Error(_0x92515(0xa0)+_0x119978[_0x92515(0x81)]);}}[a24_0x76b17(0xa4)](){const _0x29d27b=a24_0x76b17,_0x197887=this[_0x29d27b(0xa2)][_0x29d27b(0x64)](_0xdd4594=>_0xdd4594[_0x29d27b(0x9d)]==='pending')[_0x29d27b(0x96)],_0x494094=document['getElementById']('inbox-notification');_0x494094&&(_0x197887>0x0?(_0x494094['style']['display']='inline-block',_0x494094['textContent']=_0x197887>0x9?'9+':_0x197887):_0x494094[_0x29d27b(0x8d)][_0x29d27b(0x69)]='none');}['getTimeAgo'](_0x29aa6b){const _0x1f8f8a=a24_0x76b17,_0x42385e=new Date(),_0x3bfc23=_0x42385e-_0x29aa6b,_0x3f9af4=Math['floor'](_0x3bfc23/(0x3e8*0x3c)),_0x530258=Math[_0x1f8f8a(0xa1)](_0x3bfc23/(0x3e8*0x3c*0x3c)),_0x9bca83=Math['floor'](_0x3bfc23/(0x3e8*0x3c*0x3c*0x18));if(_0x3f9af4<0x1)return'Just\x20now';if(_0x3f9af4<0x3c)return _0x3f9af4+_0x1f8f8a(0x67);if(_0x530258<0x18)return _0x530258+'h\x20ago';if(_0x9bca83<0x7)return _0x9bca83+_0x1f8f8a(0x68);return _0x29aa6b['toLocaleDateString']();}['destroy'](){const _0xd4bf5f=a24_0x76b17;this['unsubscribe']&&this['unsubscribe'](),this['sentUnsubscribe']&&this[_0xd4bf5f(0x8b)]();}}function a24_0x57a1(){const _0x433853=['filter','console','uid','m\x20ago','d\x20ago','display','addEventListener','action','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20accept-btn\x22\x20data-action=\x22accept\x22\x20data-invitation-id=\x22','./ladderduos.js','Team\x20\x22','active','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20cancel-btn\x22\x20data-action=\x22cancel\x22\x20data-invitation-id=\x22','toString','innerHTML','loadInvitations','value','sentInvitations','invitationId','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','updateInvitationStatus','trim','Message\x20sent!\x20(Feature\x20will\x20be\x20fully\x20implemented\x20in\x20future\x20update)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','\x22\x20data-invitation-id=\x22','setupEventListeners','error','querySelector','forEach','message','dataset','sent-invitation','return\x20(function()\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22status-badge\x20status-','currentFilter','querySelectorAll','\x22\x20created\x20successfully!','renderInvitations','respondedAt','sentUnsubscribe','click','style','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','type','When\x20other\x20players\x20invite\x20you\x20to\x20games,\x20they\x27ll\x20appear\x20here.','teamData','warn','remove','To:\x20','length',';\x20margin:\x200\x200\x200.5rem\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-time\x22>','openResponseModal','disabled','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22color:\x20#888;\x20font-size:\x200.9em;\x20margin:\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Duos\x20Ladder\x20Team\x20â€¢\x20Color:\x20','status','docs','modal-styles','Failed\x20to\x20create\x20team:\x20','floor','invitations','map','updateNotificationCount','setupActionListeners','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22response-message\x22\x20placeholder=\x22Type\x20your\x20message\x20here...\x22\x20rows=\x224\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20respond-btn\x22\x20id=\x22send-response\x22>Send\x20Message</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x22\x20id=\x22cancel-response\x22>Cancel</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','init','bind','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22team-invite-preview\x22\x20style=\x22background:\x20#1a1a1a;\x20padding:\x201rem;\x20border-radius:\x204px;\x20margin:\x200.5rem\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20style=\x22color:\x20','toDate','teamColor'];a24_0x57a1=function(){return _0x433853;};return a24_0x57a1();}document[a24_0x76b17(0x6a)]('DOMContentLoaded',()=>{new InboxManager();});