const a44m=a44b;(function(a,b){const g=a44b,c=a();while(!![]){try{const d=-parseInt(g(0x174))/0x1*(parseInt(g(0x177))/0x2)+parseInt(g(0x17e))/0x3*(parseInt(g(0x16b))/0x4)+-parseInt(g(0x167))/0x5+-parseInt(g(0x176))/0x6*(-parseInt(g(0x164))/0x7)+parseInt(g(0x16f))/0x8+-parseInt(g(0x17c))/0x9+-parseInt(g(0x168))/0xa*(-parseInt(g(0x169))/0xb);if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a44a,0x1ea8d));import{db}from'./firebase-config.js';function a44b(a,b){const c=a44a();return a44b=function(d,e){d=d-0x162;let f=c[d];if(a44b['CNQSyu']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a44b['VkDEYY']=g,a=arguments,a44b['CNQSyu']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a44b['VkDEYY'](f),a[i]=f):f=j,f;},a44b(a,b);}import{collection,query,where,onSnapshot,updateDoc,doc}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const readyPlayersRef=collection(db,'readyPlayers'),activePlayersQuery=query(readyPlayersRef,where('isReady','==',!![]));function updateQueueDisplay(a){const h=a44b,b=document['getElementById'](h(0x173));if(!b)return;if(a['length']===0x0){b['style'][h(0x163)]=h(0x162);return;}b['style'][h(0x163)]='block';let c=h(0x171);a['forEach'](d=>{const i=h;c+=i(0x17a)+(d['username']||i(0x17b))+i(0x16e)+formatQueueTime(d[i(0x17f)])+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),c+=h(0x166),b['innerHTML']=c;}function formatQueueTime(a){const j=a44b;if(!a)return j(0x178);const b=a[j(0x170)]?a['toDate']():new Date(a),c=new Date(),d=Math['floor']((c-b)/0xea60);if(d<0x1)return j(0x178);return d+'m\x20in\x20queue';}async function checkQueueTimeout(a){const k=a44b;if(!a['lastUpdated'])return;const b=a[k(0x17f)]['toDate']?a[k(0x17f)]['toDate']():new Date(a['lastUpdated']),c=new Date(),d=Math[k(0x179)]((c-b)/0xea60);if(d>=0x1e)try{const e=doc(db,k(0x17d),a['id']);await updateDoc(e,{'isReady':![]});}catch(f){console[k(0x16a)](k(0x16c),f);}}function a44a(){const n=['ota4rMHRBhr6','sNvZDcbUB3C','zMXVB3i','cIaGicaGicaGicaGidXKAxyGy2XHC3m9iNbSyxLLCI1JyxjKiJ4kicaGicaGicaGicaGicaGidXZCgfUignSyxnZpsjWBgf5zxiTBMfTzsi+','vw5RBM93BIbqBgf5zxi','nJKXnda3zgf6qxfh','CMvHzhLqBgf5zxjZ','mtC0oxjvvK9szW','BgfZDfvWzgf0zwq','BM9Uzq','zgLZCgXHEq','ntGZmZfcA3zuEem','Dw5SB2fK','cIaGicaGicaGicaGidWVzgL2pGOGicaGicaGidWVzgL2pGOGicaG','mtC4mdu1r2z0DMj4','mtCZmenqu3r4AW','mteWotLtwhDYDfG','zxjYB3i','mZC2t2XJzejd','rxjYB3iGCMvTB3zPBMCGCgXHEwvYigzYB20GCxvLDwu6','zgf0yq','pc9ZCgfUpGOGicaGicaGicaGicaGicaGphnWyw4Gy2XHC3m9iNf1zxvLlxrPBwuIpG','otKXmdGWCvDJALH1','Dg9eyxrL','cIaGicaGicaGpgrPDIbJBgfZCZ0ICxvLDwuTyM94iJ4kicaGicaGicaGicaGpgGYpLDHAxrPBMCGzM9YigeGz2fTztWVAdi+cIaGicaGicaGicaGidXKAxyGy2XHC3m9iNf1zxvLlwXPC3qIpGOGicaG','ywrKrxzLBNrmAxn0zw5LCG','CxvLDwuTy29UDgfPBMvY','nde5sLjZBNft','AxnszwfKEq','ntrABwjuzhK'];a44a=function(){return n;};return a44a();}const unsubscribe=onSnapshot(readyPlayersRef,a=>{const b=[];a['forEach'](c=>{const l=a44b,d=c[l(0x16d)]();if(d[l(0x175)]===!![]){const e={'id':c['id'],'username':d['username'],'lastUpdated':d['lastUpdated']||new Date()};b['push'](e),checkQueueTimeout(e);}}),updateQueueDisplay(b);},a=>{console['error']('Error\x20in\x20queue\x20listener:',a);});window[a44m(0x172)](a44m(0x165),()=>{unsubscribe();});