(function(_0x5ad387,_0x5da467){const _0x1c8955=a32_0x1be5,_0x2f4460=_0x5ad387();while(!![]){try{const _0x2acd7e=-parseInt(_0x1c8955(0x101))/0x1+-parseInt(_0x1c8955(0x161))/0x2+parseInt(_0x1c8955(0x115))/0x3+parseInt(_0x1c8955(0x175))/0x4*(-parseInt(_0x1c8955(0x167))/0x5)+-parseInt(_0x1c8955(0x15d))/0x6*(parseInt(_0x1c8955(0x160))/0x7)+-parseInt(_0x1c8955(0x171))/0x8+parseInt(_0x1c8955(0x162))/0x9*(parseInt(_0x1c8955(0x10a))/0xa);if(_0x2acd7e===_0x5da467)break;else _0x2f4460['push'](_0x2f4460['shift']());}catch(_0x432d98){_0x2f4460['push'](_0x2f4460['shift']());}}}(a32_0x15f2,0x9f6ff));const a32_0x34d7cc=(function(){let _0x3f9335=!![];return function(_0x586edb,_0x4ee86c){const _0x24b3f3=_0x3f9335?function(){const _0x1c9905=a32_0x1be5;if(_0x4ee86c){const _0x41d61d=_0x4ee86c[_0x1c9905(0x122)](_0x586edb,arguments);return _0x4ee86c=null,_0x41d61d;}}:function(){};return _0x3f9335=![],_0x24b3f3;};}()),a32_0x2ae82d=a32_0x34d7cc(this,function(){const _0x44734e=a32_0x1be5;return a32_0x2ae82d['toString']()[_0x44734e(0x13f)](_0x44734e(0x116))[_0x44734e(0x119)]()[_0x44734e(0x106)](a32_0x2ae82d)['search'](_0x44734e(0x116));});a32_0x2ae82d();const a32_0x177ce5=(function(){let _0x28f970=!![];return function(_0x18399f,_0x43bdef){const _0x573a8e=_0x28f970?function(){const _0x3003b9=a32_0x1be5;if(_0x43bdef){const _0x3f0efc=_0x43bdef[_0x3003b9(0x122)](_0x18399f,arguments);return _0x43bdef=null,_0x3f0efc;}}:function(){};return _0x28f970=![],_0x573a8e;};}()),a32_0x587294=a32_0x177ce5(this,function(){const _0x452ae6=a32_0x1be5,_0x1a7783=function(){let _0x23c7e5;try{_0x23c7e5=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x24c38a){_0x23c7e5=window;}return _0x23c7e5;},_0x54910d=_0x1a7783(),_0x1c5788=_0x54910d[_0x452ae6(0x126)]=_0x54910d[_0x452ae6(0x126)]||{},_0x3afaf1=[_0x452ae6(0x12e),_0x452ae6(0x114),_0x452ae6(0x11d),_0x452ae6(0x12b),_0x452ae6(0x104),'table',_0x452ae6(0x10c)];for(let _0x31ada8=0x0;_0x31ada8<_0x3afaf1[_0x452ae6(0x118)];_0x31ada8++){const _0x2d8d05=a32_0x177ce5[_0x452ae6(0x106)][_0x452ae6(0x105)][_0x452ae6(0x112)](a32_0x177ce5),_0xe1af91=_0x3afaf1[_0x31ada8],_0x3a5538=_0x1c5788[_0xe1af91]||_0x2d8d05;_0x2d8d05[_0x452ae6(0x11f)]=a32_0x177ce5[_0x452ae6(0x112)](a32_0x177ce5),_0x2d8d05[_0x452ae6(0x119)]=_0x3a5538['toString'][_0x452ae6(0x112)](_0x3a5538),_0x1c5788[_0xe1af91]=_0x2d8d05;}});a32_0x587294();import{collection,getDocs,deleteDoc,doc,getDoc,query,where,updateDoc,Timestamp,onSnapshot,orderBy,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db}from'./firebase-config.js';import{getRankStyle}from'./ranks.js';import a32_0x242c6b from'./firebase-idle-wrapper.js';const playerCacheD2={'data':null,'timestamp':0x0},CACHE_DURATION=0x7530;async function displayLadderD2(_0x4edb31=![]){const _0x5b58c4=a32_0x1be5,_0x3809d5=document[_0x5b58c4(0x16c)](_0x5b58c4(0x16f));if(!_0x3809d5){console[_0x5b58c4(0x12b)]('D2\x20Ladder\x20table\x20body\x20not\x20found');return;}_0x3809d5[_0x5b58c4(0x176)]=_0x5b58c4(0x125);try{const _0x1e562a=Date[_0x5b58c4(0x13e)]();if(!_0x4edb31&&playerCacheD2[_0x5b58c4(0x139)]&&_0x1e562a-playerCacheD2['timestamp']<CACHE_DURATION){updateLadderDisplayD2(playerCacheD2[_0x5b58c4(0x139)]);return;}const _0x358021=collection(db,_0x5b58c4(0x120)),_0x1c08f1=query(_0x358021,orderBy(_0x5b58c4(0x109),'asc')),_0x403f58=await a32_0x242c6b[_0x5b58c4(0x121)](_0x358021),_0x2303f8=[];_0x403f58[_0x5b58c4(0x164)](_0x498c02=>{const _0x18cc29=_0x5b58c4,_0xcd355c=_0x498c02[_0x18cc29(0x139)]();_0xcd355c[_0x18cc29(0x137)]&&_0x2303f8[_0x18cc29(0x144)]({..._0xcd355c,'id':_0x498c02['id'],'elo':_0xcd355c[_0x18cc29(0x111)]||0x0,'position':_0xcd355c['position']||Number[_0x18cc29(0x117)]});});const _0x27ab82=collection(db,_0x5b58c4(0x147)),_0x209e49=await getDocs(_0x27ab82),_0x1bbaf3=new Map();_0x209e49[_0x5b58c4(0x164)](_0x2ad5a2=>{const _0x3ee273=_0x5b58c4,_0xb13fd7=_0x2ad5a2[_0x3ee273(0x139)]();_0xb13fd7[_0x3ee273(0x137)]&&_0x1bbaf3[_0x3ee273(0x13c)](_0xb13fd7[_0x3ee273(0x137)][_0x3ee273(0x13a)](),_0xb13fd7);});for(const _0x456794 of _0x2303f8){const _0x5bc0a5=_0x456794['username'][_0x5b58c4(0x13a)]();if(_0x1bbaf3[_0x5b58c4(0x170)](_0x5bc0a5)){const _0x4f5844=_0x1bbaf3[_0x5b58c4(0x14e)](_0x5bc0a5);_0x4f5844['country']&&(_0x456794[_0x5b58c4(0x155)]=_0x4f5844[_0x5b58c4(0x155)][_0x5b58c4(0x13a)]());}}const _0x208a8d=_0x2303f8['map'](_0x2c7e7b=>_0x2c7e7b[_0x5b58c4(0x137)]),_0xd6f9f=await fetchBatchMatchStatsD2(_0x208a8d);_0x2303f8[_0x5b58c4(0x12c)]((_0x1df33b,_0xf95a16)=>{const _0x3d8c8a=_0x5b58c4,_0x4d4354=_0xd6f9f[_0x3d8c8a(0x14e)](_0x1df33b['username'])?.[_0x3d8c8a(0x129)]||0x0,_0x173070=_0xd6f9f['get'](_0xf95a16[_0x3d8c8a(0x137)])?.['totalMatches']||0x0;if(_0x4d4354===0x0!==(_0x173070===0x0))return _0x4d4354===0x0?0x1:-0x1;return(_0x1df33b[_0x3d8c8a(0x109)]||0x3e7)-(_0xf95a16[_0x3d8c8a(0x109)]||0x3e7);}),_0x2303f8[_0x5b58c4(0x164)]((_0xdfe802,_0x2251ad)=>{const _0x17c1c8=_0x5b58c4;_0xdfe802[_0x17c1c8(0x109)]=_0x2251ad+0x1;}),playerCacheD2['data']=_0x2303f8,playerCacheD2[_0x5b58c4(0x128)]=_0x1e562a,updateLadderDisplayD2(_0x2303f8);}catch(_0x5b2011){console['error'](_0x5b58c4(0x108),_0x5b2011),_0x3809d5[_0x5b58c4(0x176)]=_0x5b58c4(0x145)+_0x5b2011[_0x5b58c4(0x172)]+_0x5b58c4(0x169);}}function getNextAvailablePositionD2(_0x2e6203){const _0x5c5a89=a32_0x1be5;if(_0x2e6203['length']===0x0)return 0x1;let _0x1cbe34=0x0;return _0x2e6203[_0x5c5a89(0x164)](_0x49d09b=>{const _0x5653f2=_0x5c5a89;_0x49d09b[_0x5653f2(0x109)]&&typeof _0x49d09b['position']===_0x5653f2(0x16a)&&_0x49d09b[_0x5653f2(0x109)]>_0x1cbe34&&(_0x1cbe34=_0x49d09b[_0x5653f2(0x109)]);}),_0x1cbe34+0x1;}async function updatePlayerPositions(_0x673975,_0x58913a){const _0x437227=a32_0x1be5;try{const _0x44d123=collection(db,_0x437227(0x120)),_0x31fc9b=await getDocs(_0x44d123),_0x340f04=[];_0x31fc9b[_0x437227(0x164)](_0x56c7d1=>{const _0x3c616b=_0x437227;_0x340f04[_0x3c616b(0x144)]({'id':_0x56c7d1['id'],..._0x56c7d1[_0x3c616b(0x139)]()});});const _0x2751f8=_0x340f04[_0x437227(0x10e)](_0x9665f7=>_0x9665f7[_0x437227(0x137)]===_0x673975),_0x15af31=_0x340f04['find'](_0x4ff387=>_0x4ff387['username']===_0x58913a);if(!_0x2751f8||!_0x15af31){console[_0x437227(0x12b)](_0x437227(0x14b));return;}if(_0x2751f8[_0x437227(0x109)]>_0x15af31['position']){const _0x5d099a=_0x15af31[_0x437227(0x109)];for(const _0x4f812c of _0x340f04){_0x4f812c['position']>=_0x15af31['position']&&_0x4f812c[_0x437227(0x109)]<_0x2751f8['position']&&_0x4f812c[_0x437227(0x137)]!==_0x673975&&await updateDoc(doc(db,_0x437227(0x120),_0x4f812c['id']),{'position':_0x4f812c['position']+0x1});}await updateDoc(doc(db,'playersD2',_0x2751f8['id']),{'position':_0x5d099a});if(_0x5d099a===0x1){const _0x1a5a59=doc(db,_0x437227(0x120),_0x2751f8['id']),_0x1e5f4c=await getDoc(_0x1a5a59);!_0x1e5f4c[_0x437227(0x139)]()['firstPlaceDate']&&await updateDoc(_0x1a5a59,{'firstPlaceDate':Timestamp[_0x437227(0x13e)]()});}if(_0x15af31[_0x437227(0x109)]===0x1){const _0x1c6a73=doc(db,_0x437227(0x120),_0x15af31['id']);await updateDoc(_0x1c6a73,{'firstPlaceDate':null});}playerCacheD2['timestamp']=0x0;}}catch(_0x174390){console[_0x437227(0x12b)](_0x437227(0x14c),_0x174390);}}function calculateStreakDays(_0x40c803){const _0x5f22ba=a32_0x1be5;if(!_0x40c803)return 0x0;const _0x2bc98e=_0x40c803[_0x5f22ba(0x135)](),_0x2403a1=new Date(),_0x208d48=Math[_0x5f22ba(0x10b)](_0x2403a1-_0x2bc98e);return Math['ceil'](_0x208d48/(0x3e8*0x3c*0x3c*0x18));}function getPlayerRankNameD2(_0x404e64){const _0x5241ab=a32_0x1be5;if(_0x404e64>=0x834)return'Emerald';if(_0x404e64>=0x708)return _0x5241ab(0x151);if(_0x404e64>=0x640)return'Silver';if(_0x404e64>=0x578)return'Bronze';return _0x5241ab(0x12f);}function a32_0x15f2(){const _0x5d380e=['country','#50C878','&ladder=d2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22color:\x20','player','loserScore','fontWeight','totalDeaths','visible','18LrIAlt','desc','display','178122fExZgV','2119520fQzxUb','18dewtzM','winRate','forEach','\x0a\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','fallback\x20entries','240xvBEVL','toFixed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','number','visibility','querySelector','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Rank</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Username</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>ELO</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Matches</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Wins</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Losses</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>K/D</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Win\x20Rate</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','#ladder-d2\x20tbody','has','3733848rSQKXQ','message','wins','querySelectorAll','9148iNJJca','innerHTML','approvedMatchesD2','previousElo','#ladder-d2\x20thead\x20tr','newElo','.png\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22',';\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22elo-container\x22\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22elo-value\x22>','elo','1298048rBaYtk','gameMode','winnerScore','exception','prototype','constructor','map','Error\x20loading\x20D2\x20ladder:','position','18187970uPYKLH','abs','trace','0.85em','find','%</td>\x0a\x20\x20\x20\x20</tr>','D2:\x20Error\x20fetching\x20ELO\x20history:','eloRating','bind','style','warn','78342erQEJj','(((.+)+)+)+$','MAX_SAFE_INTEGER','length','toString','matchId','change','color','info','#4CAF50','__proto__','playersD2','getDocuments','apply','size','totalKills','<tr><td\x20colspan=\x228\x22\x20class=\x22loading-cell\x22>Loading\x20D2\x20ladder\x20data...</td></tr>','console','fontSize','timestamp','totalMatches','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22trend-indicator\x22\x20style=\x22margin-left:\x205px;\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','error','sort','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','log','Unranked','D2:\x20','playerUsername','loserUsername','#FFD700','kda','toDate','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22profile.html?username=','username','join','data','toLowerCase','D2:\x20Found','set','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22color:\x20','now','search','Error\x20fetching\x20batch\x20D2\x20match\x20stats:','#CD7F32',';\x20text-decoration:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','gray','push','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x228\x22\x20style=\x22text-align:\x20center;\x20color:\x20red;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20D2\x20ladder\x20data:\x20','opacity','userProfiles','\x20fallback\x20ELO\x20change:\x20','catch','eloHistory','Could\x20not\x20find\x20winner\x20or\x20loser\x20in\x20D2\x20players\x20list','Error\x20updating\x20D2\x20player\x20positions:','bold','get','#F44336','losses','Gold','td:nth-child(3)','includes','inline'];a32_0x15f2=function(){return _0x5d380e;};return a32_0x15f2();}async function updateLadderDisplayD2(_0x26d224){const _0x1cafe6=a32_0x1be5;_0x26d224['sort']((_0x1b771c,_0xafd7bb)=>_0x1b771c[_0x1cafe6(0x109)]-_0xafd7bb[_0x1cafe6(0x109)]);const _0x5b9ee9=document[_0x1cafe6(0x16c)]('#ladder-d2\x20tbody');if(!_0x5b9ee9)return;_0x5b9ee9['innerHTML']='';const _0x18675b=_0x26d224[_0x1cafe6(0x107)](_0x2f6a33=>_0x2f6a33[_0x1cafe6(0x137)]),_0x43229e=await fetchBatchMatchStatsD2(_0x18675b),_0x529c1c=document[_0x1cafe6(0x16c)](_0x1cafe6(0x179));_0x529c1c&&(_0x529c1c[_0x1cafe6(0x176)]=_0x1cafe6(0x16e));const _0x42cf06=_0x26d224[_0x1cafe6(0x107)](_0x49bb50=>{const _0x438256=_0x1cafe6,_0x9d33e3=_0x43229e[_0x438256(0x14e)](_0x49bb50[_0x438256(0x137)])||{'totalMatches':0x0,'wins':0x0,'losses':0x0,'kda':0x0,'winRate':0x0,'totalKills':0x0,'totalDeaths':0x0};return createPlayerRowD2(_0x49bb50,_0x9d33e3);})[_0x1cafe6(0x138)]('');_0x5b9ee9[_0x1cafe6(0x176)]=_0x42cf06,getPlayersLastEloChangesD2(_0x18675b)['then'](_0x281d7a=>{const _0x5db645=_0x1cafe6,_0xe6ed7e=new Map();_0x5b9ee9[_0x5db645(0x174)]('tr')[_0x5db645(0x164)]((_0x2f076a,_0x12a1c3)=>{const _0x207001=_0x5db645;_0x12a1c3<_0x18675b[_0x207001(0x118)]&&_0xe6ed7e['set'](_0x18675b[_0x12a1c3],_0x2f076a);}),_0x281d7a[_0x5db645(0x164)]((_0x33a1a7,_0x528e15)=>{const _0x2e2db6=_0x5db645,_0x298cc6=_0xe6ed7e[_0x2e2db6(0x14e)](_0x528e15);if(_0x298cc6&&_0x33a1a7!==0x0){const _0x55765b=_0x298cc6[_0x2e2db6(0x16c)](_0x2e2db6(0x152));if(_0x55765b){const _0x23aa3e=_0x33a1a7>0x0?'+'+_0x33a1a7:''+_0x33a1a7,_0x48f934=_0x55765b['querySelector']('.trend-indicator');_0x48f934&&(_0x48f934['textContent']=_0x23aa3e,_0x48f934[_0x2e2db6(0x113)][_0x2e2db6(0x11c)]=_0x33a1a7>0x0?_0x2e2db6(0x11e):_0x2e2db6(0x14f),_0x48f934['style'][_0x2e2db6(0x15a)]=_0x2e2db6(0x14d),_0x48f934[_0x2e2db6(0x113)][_0x2e2db6(0x127)]=_0x2e2db6(0x10d),_0x48f934['style'][_0x2e2db6(0x15f)]=_0x2e2db6(0x154),_0x48f934[_0x2e2db6(0x113)][_0x2e2db6(0x16b)]=_0x2e2db6(0x15c),_0x48f934[_0x2e2db6(0x113)][_0x2e2db6(0x146)]='1');}}});})[_0x1cafe6(0x149)](_0x575c6e=>console[_0x1cafe6(0x12b)]('Error\x20updating\x20D2\x20ELO\x20trend\x20indicators:',_0x575c6e));}function createPlayerRowD2(_0x1bb8d0,_0x527f58){const _0x2da9f2=a32_0x1be5,_0x33cc17=parseFloat(_0x1bb8d0[_0x2da9f2(0x100)])||0x0;let _0x15e856=_0x2da9f2(0x143);if(_0x33cc17>=0x7d0)_0x15e856=_0x2da9f2(0x156);else{if(_0x33cc17>=0x708)_0x15e856=_0x2da9f2(0x133);else{if(_0x33cc17>=0x640)_0x15e856='#C0C0C0';else _0x33cc17>=0x578&&(_0x15e856=_0x2da9f2(0x141));}}let _0x498b87='';return _0x1bb8d0[_0x2da9f2(0x155)]&&(_0x498b87='<img\x20src=\x22../images/flags/'+_0x1bb8d0[_0x2da9f2(0x155)]['toLowerCase']()+_0x2da9f2(0x17b)+_0x1bb8d0[_0x2da9f2(0x155)]+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22player-flag\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22margin-left:\x205px;\x20vertical-align:\x20middle;\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>'),_0x2da9f2(0x165)+_0x1bb8d0[_0x2da9f2(0x109)]+_0x2da9f2(0x136)+encodeURIComponent(_0x1bb8d0[_0x2da9f2(0x137)])+_0x2da9f2(0x157)+_0x15e856+_0x2da9f2(0x142)+_0x1bb8d0[_0x2da9f2(0x137)]+_0x2da9f2(0x16d)+_0x498b87+_0x2da9f2(0x13d)+_0x15e856+_0x2da9f2(0x17c)+_0x33cc17+_0x2da9f2(0x12a)+_0x527f58[_0x2da9f2(0x129)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x527f58[_0x2da9f2(0x173)]+_0x2da9f2(0x12d)+_0x527f58[_0x2da9f2(0x150)]+_0x2da9f2(0x12d)+_0x527f58[_0x2da9f2(0x134)]+_0x2da9f2(0x12d)+_0x527f58['winRate']+_0x2da9f2(0x10f);}function a32_0x1be5(_0x5da4cf,_0x416390){const _0x542bce=a32_0x15f2();return a32_0x1be5=function(_0x587294,_0x177ce5){_0x587294=_0x587294-0x100;let _0x50bd87=_0x542bce[_0x587294];return _0x50bd87;},a32_0x1be5(_0x5da4cf,_0x416390);}async function getPlayersLastEloChangesD2(_0x30835f){const _0x1a3c2e=a32_0x1be5,_0x404ede=new Map();_0x30835f['forEach'](_0x43f58b=>_0x404ede['set'](_0x43f58b,0x0));try{const _0x3056a7=collection(db,'eloHistoryD2'),_0x56f8bc=query(_0x3056a7,orderBy(_0x1a3c2e(0x128),'desc'),limit(0x64)),_0x82dfae=await getDocs(_0x56f8bc),_0x4f8d31=new Map(),_0x1b7448=await getDocs(collection(db,_0x1a3c2e(0x120)));_0x1b7448['forEach'](_0x24edb9=>{const _0x212187=_0x1a3c2e,_0x57f354=_0x24edb9['data']();_0x57f354['username']&&_0x4f8d31[_0x212187(0x13c)](_0x24edb9['id'],_0x57f354[_0x212187(0x137)]);});const _0x1accba=new Map();_0x82dfae['forEach'](_0x41af2d=>{const _0x132a20=_0x1a3c2e,_0x214914=_0x41af2d['data']();let _0x2c8c85=_0x214914[_0x132a20(0x137)]||_0x214914[_0x132a20(0x131)];!_0x2c8c85&&_0x214914['player']&&_0x4f8d31[_0x132a20(0x170)](_0x214914[_0x132a20(0x158)])&&(_0x2c8c85=_0x4f8d31[_0x132a20(0x14e)](_0x214914['player']));if(!_0x2c8c85&&_0x214914[_0x132a20(0x11a)]){}_0x2c8c85&&_0x30835f[_0x132a20(0x153)](_0x2c8c85)&&(!_0x1accba['has'](_0x2c8c85)&&_0x1accba[_0x132a20(0x13c)](_0x2c8c85,[]),_0x1accba['get'](_0x2c8c85)['push']({..._0x214914,'timestamp':_0x214914[_0x132a20(0x128)]?.['seconds']||0x0,'username':_0x2c8c85}));}),_0x1accba['forEach']((_0x277822,_0x5bc989)=>{const _0x127380=_0x1a3c2e;if(_0x277822[_0x127380(0x118)]>0x0){_0x277822[_0x127380(0x12c)]((_0x2ad6cc,_0xb811e)=>_0xb811e['timestamp']-_0x2ad6cc[_0x127380(0x128)]);const _0x1e4bec=_0x277822['find'](_0x5f4205=>_0x5f4205[_0x127380(0x11b)]!==undefined||_0x5f4205[_0x127380(0x17a)]!==undefined&&_0x5f4205[_0x127380(0x178)]!==undefined);if(_0x1e4bec){let _0x26e914;if(_0x1e4bec[_0x127380(0x11b)]!==undefined)_0x26e914=_0x1e4bec['change'];else _0x1e4bec[_0x127380(0x17a)]!==undefined&&_0x1e4bec[_0x127380(0x178)]!==undefined&&(_0x26e914=_0x1e4bec['newElo']-_0x1e4bec[_0x127380(0x178)]);_0x26e914!==undefined&&_0x404ede['set'](_0x5bc989,_0x26e914);}}});if(_0x1accba[_0x1a3c2e(0x123)]===0x0){const _0x134193=collection(db,_0x1a3c2e(0x14a)),_0x492a8f=query(_0x134193,where(_0x1a3c2e(0x102),'==','D2'),orderBy('timestamp',_0x1a3c2e(0x15e)),limit(0x32));try{const _0x2cde44=await getDocs(_0x492a8f);console[_0x1a3c2e(0x12e)](_0x1a3c2e(0x13b),_0x2cde44['size'],_0x1a3c2e(0x166)),_0x2cde44[_0x1a3c2e(0x164)](_0x6163a9=>{const _0x558e92=_0x1a3c2e,_0x8a8e0e=_0x6163a9['data'](),_0x470f87=_0x8a8e0e['username']||_0x8a8e0e[_0x558e92(0x131)];if(_0x470f87&&_0x30835f[_0x558e92(0x153)](_0x470f87)){const _0x3e4504=_0x8a8e0e[_0x558e92(0x11b)]||(_0x8a8e0e[_0x558e92(0x17a)]!==undefined&&_0x8a8e0e[_0x558e92(0x178)]!==undefined?_0x8a8e0e[_0x558e92(0x17a)]-_0x8a8e0e[_0x558e92(0x178)]:0x0);_0x3e4504!==0x0&&(_0x404ede[_0x558e92(0x13c)](_0x470f87,_0x3e4504),console[_0x558e92(0x12e)](_0x558e92(0x130)+_0x470f87+_0x558e92(0x148)+_0x3e4504));}});}catch(_0x5db814){}}}catch(_0x160c25){console[_0x1a3c2e(0x12b)](_0x1a3c2e(0x110),_0x160c25);}return _0x404ede;}async function fetchBatchMatchStatsD2(_0x15d44d){const _0x47f4f7=a32_0x1be5,_0x1981dc=new Map();try{_0x15d44d['forEach'](_0x2a7fea=>{_0x1981dc['set'](_0x2a7fea,{'totalMatches':0x0,'wins':0x0,'losses':0x0,'totalKills':0x0,'totalDeaths':0x0,'kda':0x0,'winRate':0x0});});const _0x332c4b=collection(db,_0x47f4f7(0x177)),_0x4ff8a4=await getDocs(_0x332c4b);_0x4ff8a4[_0x47f4f7(0x164)](_0x33428b=>{const _0xc1ec14=_0x47f4f7,_0x49f296=_0x33428b['data'](),_0x560802=_0x49f296['winnerUsername'],_0x3a4dbb=_0x49f296[_0xc1ec14(0x132)];if(_0x15d44d[_0xc1ec14(0x153)](_0x560802)){const _0x3a20ab=_0x1981dc['get'](_0x560802);_0x3a20ab[_0xc1ec14(0x173)]++,_0x3a20ab[_0xc1ec14(0x129)]++,_0x3a20ab['totalKills']+=parseInt(_0x49f296[_0xc1ec14(0x103)])||0x0,_0x3a20ab['totalDeaths']+=parseInt(_0x49f296['loserScore'])||0x0;}if(_0x15d44d[_0xc1ec14(0x153)](_0x3a4dbb)){const _0x451222=_0x1981dc['get'](_0x3a4dbb);_0x451222[_0xc1ec14(0x150)]++,_0x451222[_0xc1ec14(0x129)]++,_0x451222[_0xc1ec14(0x124)]+=parseInt(_0x49f296[_0xc1ec14(0x159)])||0x0,_0x451222['totalDeaths']+=parseInt(_0x49f296[_0xc1ec14(0x103)])||0x0;}}),_0x15d44d['forEach'](_0x8df574=>{const _0x4cd9bc=_0x47f4f7,_0x55a927=_0x1981dc[_0x4cd9bc(0x14e)](_0x8df574);_0x55a927['kda']=_0x55a927['totalDeaths']>0x0?(_0x55a927[_0x4cd9bc(0x124)]/_0x55a927[_0x4cd9bc(0x15b)])[_0x4cd9bc(0x168)](0x2):_0x55a927[_0x4cd9bc(0x124)][_0x4cd9bc(0x168)](0x2),_0x55a927[_0x4cd9bc(0x163)]=_0x55a927[_0x4cd9bc(0x129)]>0x0?(_0x55a927[_0x4cd9bc(0x173)]/_0x55a927[_0x4cd9bc(0x129)]*0x64)['toFixed'](0x1):0x0;});}catch(_0x47b5cc){console[_0x47f4f7(0x12b)](_0x47f4f7(0x140),_0x47b5cc);}return _0x1981dc;}export{displayLadderD2,updatePlayerPositions};