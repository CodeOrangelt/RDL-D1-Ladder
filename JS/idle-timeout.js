function a22_0x40fc(_0x58e1f8,_0x396581){const _0x2091f9=a22_0x4599();return a22_0x40fc=function(_0xb92569,_0x17653e){_0xb92569=_0xb92569-0xe8;let _0x459951=_0x2091f9[_0xb92569];return _0x459951;},a22_0x40fc(_0x58e1f8,_0x396581);}const a22_0x531915=a22_0x40fc;import a22_0x2203a2,{enhanceIdleTimeout}from'./firebase-idle-wrapper.js';const IDLE_TIMEOUT=0xea60;let idleTimer=null,isSessionSuspended=![],networkErrorRetryCount=0x0;const MAX_NETWORK_RETRIES=0x3;function createIdleOverlay(){const _0x1a09cc=a22_0x40fc;if(document[_0x1a09cc(0xff)](_0x1a09cc(0xfb)))return;const _0xb032ea=document[_0x1a09cc(0xf1)]('div');_0xb032ea['id']='idle-overlay',_0xb032ea[_0x1a09cc(0x10b)][_0x1a09cc(0xfe)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20rgba(0,\x200,\x200,\x200.85);\x0a\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x209999;\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20backdrop-filter:\x20blur(5px);\x0a\x20\x20\x20\x20';const _0x5b310a=document['createElement'](_0x1a09cc(0xec));_0x5b310a['style']['cssText']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#202020;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2030px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20500px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x200\x2020px\x20rgba(0,\x200,\x200,\x200.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20';const _0xff4e68=document[_0x1a09cc(0xf1)]('h2');_0xff4e68[_0x1a09cc(0xf7)]=_0x1a09cc(0x110),_0xff4e68['style']['cssText']=_0x1a09cc(0x114);const _0x243f15=document['createElement']('p');_0x243f15[_0x1a09cc(0xf7)]='Your\x20session\x20has\x20been\x20suspended\x20after\x201\x20minutes\x20of\x20inactivity\x20for\x20security\x20reasons.',_0x243f15[_0x1a09cc(0x10b)][_0x1a09cc(0xfe)]='color:\x20#fff;\x20margin-bottom:\x2030px;';const _0x5c18bc=document['createElement'](_0x1a09cc(0x119));_0x5c18bc['id']='resume-session-btn',_0x5c18bc['textContent']=_0x1a09cc(0x116),_0x5c18bc['style']['cssText']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#50C878;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s;\x0a\x20\x20\x20\x20',_0x5c18bc['onmouseover']=function(){const _0x5005fa=_0x1a09cc;this[_0x5005fa(0x10b)]['backgroundColor']=_0x5005fa(0x113);},_0x5c18bc['onmouseout']=function(){this['style']['backgroundColor']='#50C878';},_0x5b310a['appendChild'](_0xff4e68),_0x5b310a['appendChild'](_0x243f15),_0x5b310a['appendChild'](_0x5c18bc),_0xb032ea[_0x1a09cc(0xe9)](_0x5b310a),document['body'][_0x1a09cc(0xe9)](_0xb032ea),_0x5c18bc[_0x1a09cc(0xf4)]('click',resumeSession),createNetworkErrorOverlay();}function createNetworkErrorOverlay(){const _0x12ef0f=a22_0x40fc;if(document[_0x12ef0f(0xff)]('network-error-overlay'))return;const _0x29311f=document['createElement']('div');_0x29311f['id']='network-error-overlay',_0x29311f[_0x12ef0f(0x10b)][_0x12ef0f(0xfe)]=_0x12ef0f(0x103);const _0x38c436=document[_0x12ef0f(0xf1)]('div');_0x38c436[_0x12ef0f(0x10b)]['cssText']=_0x12ef0f(0xef);const _0x1375b3=document['createElement']('h2');_0x1375b3['textContent']='Connection\x20Error',_0x1375b3['style'][_0x12ef0f(0xfe)]=_0x12ef0f(0x105);const _0x1dd478=document['createElement']('p');_0x1dd478[_0x12ef0f(0xf7)]='We\x27re\x20having\x20trouble\x20connecting\x20to\x20the\x20server.\x20This\x20may\x20be\x20due\x20to\x20network\x20issues\x20or\x20server\x20maintenance.',_0x1dd478['style']['cssText']=_0x12ef0f(0x107);const _0x20ffff=document[_0x12ef0f(0xf1)](_0x12ef0f(0x119));_0x20ffff['id']='retry-connection-btn',_0x20ffff['textContent']='Retry\x20Connection',_0x20ffff['style']['cssText']=_0x12ef0f(0xeb);const _0xd72ad2=document['createElement']('button');_0xd72ad2['id']=_0x12ef0f(0x108),_0xd72ad2['textContent']='Reload\x20Page',_0xd72ad2['style']['cssText']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#5555ff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#fff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s;\x0a\x20\x20\x20\x20';const _0x35f141=document[_0x12ef0f(0xf1)]('div');_0x35f141[_0x12ef0f(0x10b)]['cssText']='display:\x20flex;\x20justify-content:\x20center;\x20gap:\x2010px;',_0x35f141['appendChild'](_0x20ffff),_0x35f141['appendChild'](_0xd72ad2),_0x38c436['appendChild'](_0x1375b3),_0x38c436['appendChild'](_0x1dd478),_0x38c436['appendChild'](_0x35f141),_0x29311f['appendChild'](_0x38c436),document['body']['appendChild'](_0x29311f),_0x20ffff['addEventListener']('click',retryConnection),_0xd72ad2[_0x12ef0f(0xf4)](_0x12ef0f(0x101),()=>window['location'][_0x12ef0f(0x100)]());}function resetIdleTimer(){if(isSessionSuspended)return;clearTimeout(idleTimer),idleTimer=setTimeout(suspendSession,IDLE_TIMEOUT);}function handleNetworkError(){const _0x2aa5f1=a22_0x40fc;clearTimeout(idleTimer);const _0x42ad43=document[_0x2aa5f1(0xff)]('network-error-overlay');_0x42ad43&&(_0x42ad43[_0x2aa5f1(0x10b)]['display']='flex'),window['RDL_NETWORK_ERROR']=!![],console['log'](_0x2aa5f1(0x118)),a22_0x2203a2['suspendAllListeners']();}function retryConnection(){const _0x1651bb=a22_0x40fc;networkErrorRetryCount++;if(networkErrorRetryCount>MAX_NETWORK_RETRIES){const _0x381f36=document['querySelector']('#network-error-overlay\x20p');_0x381f36&&(_0x381f36['textContent']='Multiple\x20connection\x20attempts\x20failed.\x20Please\x20reload\x20the\x20page\x20or\x20try\x20again\x20later.');const _0x343f30=document['getElementById']('retry-connection-btn');_0x343f30&&(_0x343f30['disabled']=!![],_0x343f30['style'][_0x1651bb(0x112)]=_0x1651bb(0x10c),_0x343f30[_0x1651bb(0x10b)]['cursor']='not-allowed');return;}const _0x75f853=document[_0x1651bb(0xff)](_0x1651bb(0x111));_0x75f853&&(_0x75f853['style']['display']='none');window['RDL_NETWORK_ERROR']=![],resetIdleTimer(),console['log']('Retrying\x20connection...');try{const {rdlFirestore:_0x191aac}=window;if(_0x191aac){const _0x5e302d=_0x191aac['collection']('system');_0x191aac['getDocs'](_0x5e302d)['catch'](_0x12b70f=>{console['error']('Connection\x20test\x20failed:',_0x12b70f),handleNetworkError();});}}catch(_0x408155){console['error']('Failed\x20to\x20test\x20connection:',_0x408155),handleNetworkError();}a22_0x2203a2['resumeAllListeners']();}function suspendSession(){const _0x49372f=a22_0x40fc;isSessionSuspended=!![];const _0x139e62=document['getElementById'](_0x49372f(0xfb));_0x139e62&&(_0x139e62['style']['display']='flex'),console['log']('Session\x20suspended\x20due\x20to\x20inactivity'),window['RDL_SESSION_SUSPENDED']=!![],a22_0x2203a2[_0x49372f(0xea)]();}function resumeSession(){const _0x43b8d7=a22_0x40fc;isSessionSuspended=![],window['RDL_SESSION_SUSPENDED']=![];const _0x5842e3=document[_0x43b8d7(0xff)](_0x43b8d7(0xfb));_0x5842e3&&(_0x5842e3['style'][_0x43b8d7(0x10e)]='none'),console['log']('Session\x20resumed'),resetIdleTimer(),a22_0x2203a2[_0x43b8d7(0xf2)](),idleTimer&&Date['now']()-(window['RDL_LAST_ACTIVITY']||0x0)>IDLE_TIMEOUT*0x2&&(console['log']('Session\x20was\x20idle\x20for\x20too\x20long,\x20reloading\x20page'),window[_0x43b8d7(0x10f)][_0x43b8d7(0x100)]());}function initIdleTimeout(){const _0x4b20fb=a22_0x40fc,_0x2a1b37=(function(){let _0x4f0494=!![];return function(_0x499623,_0x1c6975){const _0x15d3ab=_0x4f0494?function(){const _0x544e2a=a22_0x40fc;if(_0x1c6975){const _0xedbfec=_0x1c6975[_0x544e2a(0xed)](_0x499623,arguments);return _0x1c6975=null,_0xedbfec;}}:function(){};return _0x4f0494=![],_0x15d3ab;};}()),_0x5d0575=_0x2a1b37(this,function(){const _0x5b4256=a22_0x40fc;let _0x29631b;try{const _0x3b9d9a=Function('return\x20(function()\x20'+_0x5b4256(0xe8)+');');_0x29631b=_0x3b9d9a();}catch(_0x57963f){_0x29631b=window;}const _0x4000d=_0x29631b[_0x5b4256(0xf5)]=_0x29631b['console']||{},_0x50b201=['log','warn',_0x5b4256(0x102),_0x5b4256(0xfc),_0x5b4256(0x10a),'table','trace'];for(let _0x69441c=0x0;_0x69441c<_0x50b201['length'];_0x69441c++){const _0x44f053=_0x2a1b37[_0x5b4256(0x106)][_0x5b4256(0x109)]['bind'](_0x2a1b37),_0x133777=_0x50b201[_0x69441c],_0x5ad7c7=_0x4000d[_0x133777]||_0x44f053;_0x44f053['__proto__']=_0x2a1b37['bind'](_0x2a1b37),_0x44f053['toString']=_0x5ad7c7['toString']['bind'](_0x5ad7c7),_0x4000d[_0x133777]=_0x44f053;}});_0x5d0575(),createIdleOverlay();const _0x2a81c2=[_0x4b20fb(0xf9),_0x4b20fb(0x117),_0x4b20fb(0x115),'scroll','touchstart','click'];_0x2a81c2['forEach'](_0x33763d=>{document['addEventListener'](_0x33763d,()=>{window['RDL_LAST_ACTIVITY']=Date['now'](),resetIdleTimer();},!![]);}),window['addEventListener'](_0x4b20fb(0xfc),function(_0x420345){const _0x3791b5=_0x4b20fb;_0x420345['error']&&(_0x420345['error'][_0x3791b5(0xf3)]&&_0x420345['error'][_0x3791b5(0xf3)]['includes']('network')||_0x420345['error']['code']&&(_0x420345['error']['code']==='unavailable'||_0x420345['error'][_0x3791b5(0xf6)]===_0x3791b5(0xee)||_0x420345[_0x3791b5(0xfc)][_0x3791b5(0xf6)]['includes']('network')))&&(handleNetworkError(),_0x420345['preventDefault']());}),resetIdleTimer(),console['log']('Idle\x20timeout\x20initialized:',IDLE_TIMEOUT,'ms'),window['suspendSession']=suspendSession,window['resumeSession']=resumeSession,enhanceIdleTimeout(),window['checkFirebaseIdleStatus']=function(){const _0x3c12a4=_0x4b20fb;return console[_0x3c12a4(0x10d)](_0x3c12a4(0x104),window['RDL_SESSION_SUSPENDED']),console['log']('Network\x20error:',window['RDL_NETWORK_ERROR']),console[_0x3c12a4(0x10d)]('Active\x20listeners:',a22_0x2203a2['activeListeners'][_0x3c12a4(0xf0)]),console['log']('Pending\x20operations:',a22_0x2203a2[_0x3c12a4(0xf8)]['size']),console['log']('Blocked\x20operations:',a22_0x2203a2['blockedOperations']||0x0),{'suspended':window['RDL_SESSION_SUSPENDED'],'networkError':window['RDL_NETWORK_ERROR'],'activeListeners':Array['from'](a22_0x2203a2['activeListeners']['keys']()),'pendingOperations':Array['from'](a22_0x2203a2['pendingOperations'][_0x3c12a4(0x11a)]()),'blockedCount':a22_0x2203a2[_0x3c12a4(0xfd)]||0x0};},window['forceIdleTimeout']=function(){console['log']('Forcing\x20idle\x20timeout...'),suspendSession();};}export{initIdleTimeout,isSessionSuspended,handleNetworkError};document['readyState']==='loading'?document['addEventListener'](a22_0x531915(0xfa),initIdleTimeout):initIdleTimeout();function a22_0x4599(){const _0x28e5d3=['{}.constructor(\x22return\x20this\x22)(\x20)','appendChild','suspendAllListeners','\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#ff5555;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-right:\x2010px;\x0a\x20\x20\x20\x20','div','apply','resource-exhausted','\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#202020;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2030px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20500px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x200\x2020px\x20rgba(0,\x200,\x200,\x200.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20','size','createElement','resumeAllListeners','message','addEventListener','console','code','textContent','pendingOperations','mousedown','DOMContentLoaded','idle-overlay','error','blockedOperations','cssText','getElementById','reload','click','info','\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20rgba(0,\x200,\x200,\x200.85);\x0a\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x209999;\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20backdrop-filter:\x20blur(5px);\x0a\x20\x20\x20\x20','Session\x20suspended:','color:\x20#ff5555;\x20margin-bottom:\x2020px;\x20font-size:\x2024px;','constructor','color:\x20#fff;\x20margin-bottom:\x2030px;','reload-page-btn','prototype','exception','style','0.5','log','display','location','Session\x20Suspended\x20Due\x20to\x20Inactivity','network-error-overlay','opacity','#3da05f','color:\x20#50C878;\x20margin-bottom:\x2020px;\x20font-size:\x2024px;','keypress','Return\x20to\x20Website','mousemove','Network\x20error\x20detected,\x20showing\x20error\x20overlay','button','keys'];a22_0x4599=function(){return _0x28e5d3;};return a22_0x4599();}