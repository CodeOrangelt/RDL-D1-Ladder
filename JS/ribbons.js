const a53_0x2abea2=a53_0x4091,a53_0x271a0f=(function(){let _0x1dcdbc=!![];return function(_0x3a2c06,_0x484468){const _0x5c7f23=_0x1dcdbc?function(){if(_0x484468){const _0x303cf1=_0x484468['apply'](_0x3a2c06,arguments);return _0x484468=null,_0x303cf1;}}:function(){};return _0x1dcdbc=![],_0x5c7f23;};}()),a53_0x42cf9c=a53_0x271a0f(this,function(){const _0x1308d6=a53_0x4091;let _0x4131ee;try{const _0x41a695=Function(_0x1308d6(0x117)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x4131ee=_0x41a695();}catch(_0x39f069){_0x4131ee=window;}const _0x129d0d=_0x4131ee['console']=_0x4131ee['console']||{},_0x3ecf49=['log','warn',_0x1308d6(0x136),_0x1308d6(0x126),'exception',_0x1308d6(0x17b),'trace'];for(let _0x44e1d8=0x0;_0x44e1d8<_0x3ecf49['length'];_0x44e1d8++){const _0x532b20=a53_0x271a0f[_0x1308d6(0x124)]['prototype'][_0x1308d6(0x179)](a53_0x271a0f),_0x4344bb=_0x3ecf49[_0x44e1d8],_0x3ead3e=_0x129d0d[_0x4344bb]||_0x532b20;_0x532b20['__proto__']=a53_0x271a0f[_0x1308d6(0x179)](a53_0x271a0f),_0x532b20[_0x1308d6(0x18a)]=_0x3ead3e['toString']['bind'](_0x3ead3e),_0x129d0d[_0x4344bb]=_0x532b20;}});a53_0x42cf9c();import{auth,db}from'./firebase-config.js';import{doc,getDoc,setDoc,collection,query,where,getDocs,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';function a53_0x4091(_0x23f9b4,_0x3aee60){const _0x42cf9c=a53_0x3c56();return a53_0x4091=function(_0x271a0f,_0x1fb826){_0x271a0f=_0x271a0f-0x116;let _0x3c56e5=_0x42cf9c[_0x271a0f];return _0x3c56e5;},a53_0x4091(_0x23f9b4,_0x3aee60);}const RIBBON_DEFINITIONS={'Rematch\x20Ribbon':{'description':'Beat\x20a\x20pilot\x20with\x20the\x20\x22Rematch\x22\x20subgame\x20selected','image':a53_0x2abea2(0x173),'color':'#FF6B6B'},'Overachiever\x20Ribbon':{'description':a53_0x2abea2(0x119),'image':'../images/ribbons/Overachiever.png','color':'#96CEB4','levels':[0x64,0xc8,0x12c,0x190,0x1f4,0x258,0x2bc,0x320,0x384,0x3e8]},'Brick\x20Wall':{'description':'Amass\x20at\x20least\x2080%\x20overall\x20win\x20rate\x20percentage\x20(minimum\x2050\x20matches)','image':a53_0x2abea2(0x139),'color':'#F0932B','levels':[0x50,0x55,0x5a,0x5f,0x64]},'Collector\x20Ribbon':{'description':'Hold\x20more\x20than\x205\x20ribbons\x20at\x20a\x20time','image':'../images/ribbons/Collector.png','color':'#6C5CE7','levels':[0x5,0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32]},'Sub-Gamer\x20Ribbon':{'description':a53_0x2abea2(0x129),'image':a53_0x2abea2(0x180),'color':'#A29BFE','levels':[0x32,0x64,0x96,0xc8,0xfa,0x12c,0x15e,0x190,0x1c2,0x1f4]},'Explorer\x20Ribbon':{'description':'Played\x20at\x20least\x2020\x20unique\x20maps','image':'../images/ribbons/Explorer.png','color':'#55A3FF','levels':[0x14,0x28,0x3c,0x50,0x64,0x78,0x8c,0xa0,0xb4,0xc8]},'Socialite\x20Ribbon':{'description':'Played\x20at\x20least\x2010\x20unique\x20pilots','image':'../images/ribbons/Socialite.png','color':'#FF7675','levels':[0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32,0x37]},'Underdog\x20Ribbon':{'description':a53_0x2abea2(0x183),'image':a53_0x2abea2(0x13f),'color':a53_0x2abea2(0x17f),'levels':[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0x9,0xa]},'Domination\x20Ribbon':{'description':'Beat\x205\x20unique\x20pilots\x20in\x20a\x20rank\x20(including\x20your\x20own)','image':'../images/ribbons/Domination.png','color':a53_0x2abea2(0x11a),'levels':[0x1,0x2,0x3,0x4,0x5]},'Top\x20Bronze\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Bronze\x20rank','image':'../images/ribbons/toprank.png','color':'#CD7F32'},'Top\x20Silver\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Silver\x20rank','image':'../images/ribbons/toprank.png','color':'#C0C0C0'},'Top\x20Gold\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Gold\x20rank','image':a53_0x2abea2(0x12a),'color':a53_0x2abea2(0x121)},'Top\x20Emerald\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Emerald\x20rank','image':'../images/ribbons/toprank.png','color':'#50C878'}};export const RIBBON_CSS=a53_0x2abea2(0x148);class RibbonCacheManager{constructor(){const _0x48348f=a53_0x2abea2;this['memoryCache']=new Map(),this['CACHE_DURATION']=0x3c*0x3c*0x3e8,this['CACHE_KEY_PREFIX']='ribbon_cache_',this['lastCleanup']=Date[_0x48348f(0x187)](),this[_0x48348f(0x13d)]=0x1e*0x3c*0x3e8;}['getCacheKey'](_0xbedf0e,_0x54626e){return''+this['CACHE_KEY_PREFIX']+_0xbedf0e+'_'+_0x54626e;}['getCachedData'](_0x142307,_0x1baf89){const _0x5b9b7a=a53_0x2abea2;this[_0x5b9b7a(0x164)]();const _0x4fd463=this['getCacheKey'](_0x142307,_0x1baf89);if(this[_0x5b9b7a(0x14f)]['has'](_0x4fd463)){const _0xb327be=this['memoryCache']['get'](_0x4fd463);if(Date[_0x5b9b7a(0x187)]()-_0xb327be['timestamp']<this[_0x5b9b7a(0x132)])return console[_0x5b9b7a(0x12c)]('🚀\x20Cache\x20hit\x20(memory)\x20for\x20'+_0x142307),_0xb327be[_0x5b9b7a(0x17c)];this['memoryCache'][_0x5b9b7a(0x11b)](_0x4fd463);}const _0x2af830=localStorage['getItem'](_0x4fd463);if(_0x2af830)try{const _0x103a94=JSON[_0x5b9b7a(0x11f)](_0x2af830);if(Date[_0x5b9b7a(0x187)]()-_0x103a94[_0x5b9b7a(0x188)]<this['CACHE_DURATION'])return this['memoryCache']['set'](_0x4fd463,{'data':_0x103a94['ribbons'],'timestamp':_0x103a94['timestamp'],'matchCount':_0x103a94['matchCount']}),console['log']('💾\x20Cache\x20hit\x20(localStorage)\x20for\x20'+_0x142307),_0x103a94['ribbons'];localStorage[_0x5b9b7a(0x16e)](_0x4fd463);}catch(_0x4a3c22){localStorage[_0x5b9b7a(0x16e)](_0x4fd463);}return null;}['setCachedData'](_0x55a864,_0x3fae2e,_0x1e9d67,_0x1ccb82){const _0x45dd19=a53_0x2abea2,_0x1345fc=this['getCacheKey'](_0x55a864,_0x3fae2e),_0x3f29c2=Date['now']();this['memoryCache'][_0x45dd19(0x14e)](_0x1345fc,{'data':_0x1e9d67,'timestamp':_0x3f29c2,'matchCount':_0x1ccb82});try{const _0x3be12c={'ribbons':_0x1e9d67,'matchCount':_0x1ccb82,'timestamp':_0x3f29c2,'version':0x3};localStorage[_0x45dd19(0x11e)](_0x1345fc,JSON[_0x45dd19(0x182)](_0x3be12c));}catch(_0x48734b){this[_0x45dd19(0x146)]();try{localStorage[_0x45dd19(0x11e)](_0x1345fc,JSON[_0x45dd19(0x182)](data));}catch(_0x409c00){}}}['shouldRefreshCache'](_0x29aa49,_0x505a32,_0x1b6e5d){const _0x26dab0=a53_0x2abea2,_0x412f85=this['getCacheKey'](_0x29aa49,_0x505a32);if(this[_0x26dab0(0x14f)][_0x26dab0(0x128)](_0x412f85)){const _0xa8123=this[_0x26dab0(0x14f)]['get'](_0x412f85);return _0xa8123['matchCount']!==_0x1b6e5d;}const _0xa7828c=localStorage['getItem'](_0x412f85);if(_0xa7828c)try{const _0x1f25d4=JSON[_0x26dab0(0x11f)](_0xa7828c);return _0x1f25d4['matchCount']!==_0x1b6e5d;}catch(_0xbd5178){return!![];}return!![];}['invalidatePlayerCache'](_0x378f96,_0x2f2e7c){const _0x447fe3=a53_0x2abea2,_0x2fc058=this['getCacheKey'](_0x378f96,_0x2f2e7c);this['memoryCache']['delete'](_0x2fc058),localStorage['removeItem'](_0x2fc058),console[_0x447fe3(0x12c)](_0x447fe3(0x125)+_0x378f96+'\x20('+_0x2f2e7c+_0x447fe3(0x178));}['autoCleanup'](){const _0x2473c6=a53_0x2abea2,_0xe1e90b=Date['now']();_0xe1e90b-this[_0x2473c6(0x15f)]>this['CLEANUP_INTERVAL']&&(this['cleanup'](),this[_0x2473c6(0x15f)]=_0xe1e90b);}['cleanup'](){const _0x4a430f=a53_0x2abea2,_0x44f120=Date[_0x4a430f(0x187)]();let _0x4d5155=0x0,_0x450394=0x0;for(const [_0x28e093,_0x1dd589]of this['memoryCache']['entries']()){_0x44f120-_0x1dd589[_0x4a430f(0x188)]>this[_0x4a430f(0x132)]&&(this[_0x4a430f(0x14f)]['delete'](_0x28e093),_0x4d5155++);}for(let _0xdd91be=localStorage[_0x4a430f(0x142)]-0x1;_0xdd91be>=0x0;_0xdd91be--){const _0x48887d=localStorage[_0x4a430f(0x14d)](_0xdd91be);if(_0x48887d&&_0x48887d['startsWith'](this['CACHE_KEY_PREFIX']))try{const _0x1c5df2=JSON[_0x4a430f(0x11f)](localStorage['getItem'](_0x48887d));_0x44f120-_0x1c5df2['timestamp']>this[_0x4a430f(0x132)]&&(localStorage[_0x4a430f(0x16e)](_0x48887d),_0x450394++);}catch(_0x2a0908){localStorage['removeItem'](_0x48887d),_0x450394++;}}}[a53_0x2abea2(0x146)](){const _0x4b0484=a53_0x2abea2,_0x2783d2=[];for(let _0x17b80f=0x0;_0x17b80f<localStorage[_0x4b0484(0x142)];_0x17b80f++){const _0x1f527b=localStorage['key'](_0x17b80f);if(_0x1f527b&&_0x1f527b['startsWith'](this['CACHE_KEY_PREFIX']))try{const _0x57b331=JSON[_0x4b0484(0x11f)](localStorage[_0x4b0484(0x15e)](_0x1f527b));_0x2783d2['push']({'key':_0x1f527b,'timestamp':_0x57b331['timestamp']});}catch(_0x25ef18){localStorage['removeItem'](_0x1f527b);}}_0x2783d2['sort']((_0x5e94f2,_0x3e8040)=>_0x5e94f2[_0x4b0484(0x188)]-_0x3e8040['timestamp']);const _0x312566=Math['floor'](_0x2783d2['length']/0x2);for(let _0x437a54=0x0;_0x437a54<_0x312566;_0x437a54++){localStorage['removeItem'](_0x2783d2[_0x437a54][_0x4b0484(0x14d)]);}}[a53_0x2abea2(0x16c)](){const _0x13cc3f=a53_0x2abea2;return{'memoryEntries':this['memoryCache'][_0x13cc3f(0x16d)],'lastCleanup':new Date(this['lastCleanup'])['toLocaleTimeString']()};}}class MatchCacheManager{constructor(){const _0x16bd26=a53_0x2abea2;this[_0x16bd26(0x130)]=new Map(),this[_0x16bd26(0x132)]=0xf*0x3c*0x3e8,this[_0x16bd26(0x15f)]=Date['now']();}['getCachedMatches'](_0x3010ff,_0x4fe917){const _0x30f3d9=a53_0x2abea2;this['autoCleanup']();const _0x2ccd22=_0x3010ff+'_'+_0x4fe917,_0x53c88b=this['matchCache']['get'](_0x2ccd22);if(_0x53c88b&&Date['now']()-_0x53c88b['timestamp']<this[_0x30f3d9(0x132)])return console['log'](_0x30f3d9(0x144)+_0x3010ff),_0x53c88b[_0x30f3d9(0x169)];return _0x53c88b&&this[_0x30f3d9(0x130)]['delete'](_0x2ccd22),null;}['setCachedMatches'](_0x5e7eb6,_0x37b6d5,_0x367b2d){const _0x4a2883=a53_0x2abea2,_0xd379a6=_0x5e7eb6+'_'+_0x37b6d5;this['matchCache'][_0x4a2883(0x14e)](_0xd379a6,{'matches':_0x367b2d,'timestamp':Date['now']()});}['autoCleanup'](){const _0x5676e5=a53_0x2abea2,_0x10e646=Date['now']();if(_0x10e646-this['lastCleanup']>0x5*0x3c*0x3e8){let _0x3f885c=0x0;for(const [_0x1a3fb4,_0x359403]of this['matchCache']['entries']()){_0x10e646-_0x359403[_0x5676e5(0x188)]>this[_0x5676e5(0x132)]&&(this['matchCache'][_0x5676e5(0x11b)](_0x1a3fb4),_0x3f885c++);}this['lastCleanup']=_0x10e646;}}['getCacheStats'](){return{'entries':this['matchCache']['size'],'lastCleanup':new Date(this['lastCleanup'])['toLocaleTimeString']()};}}function a53_0x3c56(){const _0x30990e=['add','return\x20(function()\x20','\x20Tier:\x20','Played\x20over\x20100\x20matches','#8E44AD','delete','uniqueOpponents','all','setItem','parse','loserUsername','#FFD700','players','level-5-plus','constructor','🗑️\x20Invalidated\x20cache\x20for\x20','error','endsWith','has','Play\x20over\x2050\x20subgame\x20matches','../images/ribbons/toprank.png','totalMatches','log','\x20Pilot','empty','findIndex','matchCache','evaluateSubGamerRibbonFromCount','CACHE_DURATION','👑\x20Domination\x20Ribbon\x20awarded:\x20Level\x20','🎯\x20UNDERDOG\x20VICTORY:\x20','playersD2','info','getPlayerRibbonsCached','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22military-ribbon\x22\x20data-tooltip=\x22','../images/ribbons/BrickWall.png','bulkLoadPlayerData','Standard','\x20ranks:\x20[','CLEANUP_INTERVAL','\x20(Dominated:\x20','../images/ribbons/Underdog.png','subgameType',';\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','length','level-1','🎯\x20Cache\x20hit\x20(matches)\x20for\x20','matchesPlayed','clearOldCache','image','\x0a/*\x20Stats\x20integration\x20styles\x20*/\x0a.ribbon-section\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-top:\x201rem;\x0a}\x0a\x0a.ribbon-stat-item.full-width\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-bottom:\x200;\x0a}\x0a\x0a/*\x20Military\x20Ribbon\x20Rack\x20Styling\x20-\x20NO\x20OUTER\x20CONTAINER\x20*/\x0a.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20padding:\x200;\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20box-shadow:\x20none;\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20align-items:\x20flex-start;\x0a}\x0a\x0a.ribbon-rack-empty-inline\x20{\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20padding:\x2060px\x2040px;\x0a\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20border-radius:\x2012px;\x0a\x20\x20\x20\x20border:\x202px\x20solid\x20rgba(255,\x20255,\x20255,\x200.1);\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a}\x0a\x0a.empty-rack-text\x20{\x0a\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20font-style:\x20italic;\x0a\x20\x20\x20\x20font-size:\x201.2rem;\x0a}\x0a\x0a/*\x20Ribbon\x20Rows\x20*/\x0a.ribbon-row\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x206px;\x0a\x20\x20\x20\x20margin-bottom:\x206px;\x0a\x20\x20\x20\x20justify-content:\x20flex-start;\x0a}\x0a\x0a.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20margin-left:\x2060px;\x0a}\x0a\x0a/*\x20Individual\x20Military\x20Ribbon\x20Styling\x20-\x20FIXED\x20OVERFLOW\x20FOR\x20LEVEL\x20INDICATOR\x20*/\x0a.military-ribbon\x20{\x0a\x20\x20\x20\x20position:\x20relative;\x0a\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20transition:\x20transform\x200.3s\x20ease;\x0a\x20\x20\x20\x20flex-shrink:\x200;\x0a\x20\x20\x20\x20width:\x20190px;\x0a\x20\x20\x20\x20height:\x2060px;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#333;\x0a\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20overflow:\x20visible;\x20/*\x20Changed\x20from\x20hidden\x20to\x20visible\x20*/\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20margin:\x2012px\x2012px\x2012px\x200;\x20/*\x20Added\x20margin\x20to\x20prevent\x20clipping\x20*/\x0a}\x0a\x0a.military-ribbon:hover\x20{\x0a\x20\x20\x20\x20transform:\x20translateY(-4px);\x0a\x20\x20\x20\x20z-index:\x2010;\x0a}\x0a\x0a/*\x20Ribbon\x20image\x20container\x20to\x20handle\x20the\x20actual\x20overflow\x20*/\x0a.ribbon-image-container\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20border-radius:\x201px;\x0a}\x0a\x0a.ribbon-image\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20object-fit:\x20cover;\x0a\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20image-rendering:\x20crisp-edges;\x0a}\x0a\x0a.ribbon-fallback\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20text-shadow:\x200\x202px\x204px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a}\x0a\x0a.ribbon-name\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.9);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201.2;\x0a\x20\x20\x20\x20margin-top:\x206px;\x0a\x20\x20\x20\x20max-width:\x20120px;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20text-overflow:\x20ellipsis;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20-24px;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20font-weight:\x20500;\x0a}\x0a\x0a.military-ribbon:hover\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20display:\x20block;\x0a}\x0a\x0a.ribbon-devices\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x2050%;\x0a\x20\x20\x20\x20right:\x206px;\x0a\x20\x20\x20\x20transform:\x20translateY(-50%);\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x203px;\x0a\x20\x20\x20\x20z-index:\x205;\x0a}\x0a\x0a.ribbon-device\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20text-shadow:\x200\x200\x204px\x20rgba(0,0,0,0.9);\x0a\x20\x20\x20\x20filter:\x20drop-shadow(0\x202px\x204px\x20rgba(0,0,0,0.8));\x0a}\x0a\x0a.bronze-star\x20{\x0a\x20\x20\x20\x20color:\x20#CD7F32;\x0a}\x0a\x0a.silver-star\x20{\x0a\x20\x20\x20\x20color:\x20#C0C0C0;\x0a}\x0a\x0a.gold-star\x20{\x0a\x20\x20\x20\x20color:\x20#FFD700;\x0a}\x0a\x0a/*\x20Level\x20indicator\x20-\x20NOW\x20FULLY\x20VISIBLE\x20*/\x0a.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x20-8px;\x0a\x20\x20\x20\x20right:\x20-8px;\x0a\x20\x20\x20\x20background:\x20#FFD700;\x0a\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20width:\x2024px;\x0a\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#FFF;\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x208px\x20rgba(0,0,0,0.7);\x0a\x20\x20\x20\x20z-index:\x206;\x0a}\x0a\x0a/*\x20Custom\x20tooltip\x20-\x20only\x20this\x20one\x20will\x20show\x20*/\x0a.military-ribbon::before\x20{\x0a\x20\x20\x20\x20content:\x20attr(data-tooltip);\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20100%;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20background:\x20rgba(0,0,0,0.95);\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20padding:\x208px\x2012px;\x0a\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20pointer-events:\x20none;\x0a\x20\x20\x20\x20transition:\x20opacity\x200.3s;\x0a\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20margin-bottom:\x208px;\x0a\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(255,\x20255,\x20255,\x200.2);\x0a}\x0a\x0a.military-ribbon:hover::before\x20{\x0a\x20\x20\x20\x20opacity:\x201;\x0a}\x0a\x0a/*\x20Responsive\x20adjustments\x20*/\x0a@media\x20(max-width:\x201024px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2034px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x208px\x208px\x208px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-6px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-6px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2052px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-20px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20768px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2028px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x206px\x206px\x206px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x209px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-5px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-5px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2042px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2011px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-18px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x205px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20480px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2070px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x205px\x205px\x205px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2036px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x204px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-4px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-4px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a.stats-grid\x20.ribbon-section\x20{\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20padding:\x200;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20{\x0a\x20\x20\x20\x20background-color:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20padding:\x2025px;\x0a\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20.stat-label\x20{\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20text-transform:\x20uppercase;\x0a\x20\x20\x20\x20opacity:\x200.9;\x0a\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.95);\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a}\x0a\x0a.ribbon-level-indicator.level-1\x20{\x20background:\x20#808080;\x20}\x0a.ribbon-level-indicator.level-2\x20{\x20background:\x20#CD7F32;\x20}\x0a.ribbon-level-indicator.level-3\x20{\x20background:\x20#b9f1fc;\x20}\x0a.ribbon-level-indicator.level-4\x20{\x20background:\x20#FFD700;\x20}\x0a.ribbon-level-indicator.level-5-plus\x20{\x20background:\x20#50C878;\x20}\x0a','evaluateAllRibbonsFromData','<div\x20class=\x22ribbon-level-indicator\x20','Error\x20getting\x20player\x20ribbons:','savePlayerRibbonsOptimized','key','set','memoryCache','level-3','forEach','keys','approvedMatches','\x20new/updated\x20ribbons\x20for\x20','evaluateTopRankRibbon','mapPlayed',')\x20vs\x20Loser(','getPlayerDataCached','getRibbonCacheStats','eloRating','docs','playersD3','replace','getItem','lastCleanup','undefined','underdogWins','evaluateSocialiteRibbonFromCount','substring','autoCleanup','ribbons','\x20or\x20','evaluateRematchRibbonFromCount','push','matches','evaluateExplorerRibbonFromCount','Unranked','getCacheStats','size','removeItem','levels','\x20in\x20','level','Socialite\x20Ribbon','../images/ribbons/Rematch.png','Gold','isUnderdogVictoryFast','get','setCachedData',')\x20-\x20new\x20match\x20detected','bind','🚀\x20Bulk\x20loading\x20','table','data','\x20vs\x20','Underdog\x20Ribbon','#FF9500','../images/ribbons/Subgamer.png','subgameMatches','stringify','Beat\x20a\x20pilot\x20ranked\x20higher\x20than\x20you','Brick\x20Wall','evaluateBrickWallRibbonFromWinRate','evaluateUnderdogRibbonFromCount','now','timestamp','\x20underdog\x20victories\x20for\x20','toString','username','winnerUsername','rematchWins'];a53_0x3c56=function(){return _0x30990e;};return a53_0x3c56();}class RibbonSystem{constructor(){this['pendingEvaluations']=new Map(),this['batchTimer']=null,this['BATCH_DELAY']=0x32,this['playerDataCache']=new Map();}async['bulkLoadPlayerData'](_0x1a61c6,_0x658073){const _0x7d6860=a53_0x2abea2,_0x12706c=_0x658073==='D1'?_0x7d6860(0x122):_0x658073==='D2'?_0x7d6860(0x135):'playersD3',_0x18bba4=collection(db,_0x12706c),_0x43967f=await getDocs(_0x18bba4),_0x34a830=new Map();return _0x43967f['forEach'](_0x1f98ef=>{const _0x482c18=_0x7d6860,_0x7104dd=_0x1f98ef['data']();_0x7104dd['username']&&(_0x7104dd[_0x482c18(0x15a)]!==undefined&&(_0x7104dd['rating']=_0x7104dd[_0x482c18(0x15a)]),_0x34a830['set'](_0x7104dd[_0x482c18(0x18b)],_0x7104dd));}),console['log']('📊\x20Bulk\x20loaded\x20'+_0x34a830[_0x7d6860(0x16d)]+'\x20players\x20from\x20'+_0x12706c),_0x34a830;}async['evaluateAllRibbonsFromData'](_0x454d0f,_0x1e8ce3,_0xe6d9af,_0x26747e){const _0x59f303=a53_0x2abea2,_0x4946f2={},_0x4eb7d5=_0x1e8ce3['username'],_0x5a494a={'totalMatches':_0x454d0f['length'],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0,'dominatedRanks':new Set()},_0x3251c8=new Set();_0x454d0f['forEach'](_0x5e187f=>{const _0x569c68=a53_0x4091,_0x23f145=_0x5e187f['winnerUsername']===_0x4eb7d5,_0x330ce4=_0x23f145?_0x5e187f[_0x569c68(0x120)]:_0x5e187f['winnerUsername'];if(_0x330ce4)_0x3251c8['add'](_0x330ce4);}),console[_0x59f303(0x12c)](_0x59f303(0x17a)+_0x3251c8[_0x59f303(0x16d)]+'\x20player\x20records\x20for\x20underdog\x20calculations...');const _0x30cf4d=await this[_0x59f303(0x13a)]([..._0x3251c8,_0x4eb7d5],_0x26747e),_0xb7b303=_0x30cf4d['get'](_0x4eb7d5);!_0xb7b303&&console['log']('⚠️\x20No\x20current\x20player\x20data\x20found\x20for\x20'+_0x4eb7d5);const _0x2ef863={0x0:new Set(),0x1:new Set(),0x2:new Set(),0x3:new Set(),0x4:new Set()};_0x454d0f['forEach'](_0x3bdd99=>{const _0x24690c=_0x59f303,_0x1ad8f9=_0x3bdd99['winnerUsername']===_0x4eb7d5,_0x43d8cb=_0x1ad8f9?_0x3bdd99['loserUsername']:_0x3bdd99['winnerUsername'];if(_0x1ad8f9){_0x5a494a['wins']++;_0x3bdd99[_0x24690c(0x140)]==='Rematch'&&_0x5a494a[_0x24690c(0x18d)]++;this['isUnderdogVictoryFast'](_0x3bdd99,_0x4eb7d5,_0xb7b303,_0x30cf4d)&&_0x5a494a['underdogWins']++;const _0x1afcb7=_0x30cf4d['get'](_0x43d8cb);if(_0x1afcb7){const _0x185921=_0x1afcb7['eloRating']||0x0,_0x98fa42=getPlayerRankTier(_0x185921);_0x2ef863[_0x98fa42][_0x24690c(0x116)](_0x43d8cb);}}_0x3bdd99['subgameType']&&_0x3bdd99['subgameType']!=='Standard'&&_0x5a494a[_0x24690c(0x181)]++,_0x3bdd99['mapPlayed']&&_0x5a494a['uniqueMaps']['add'](_0x3bdd99[_0x24690c(0x156)]),_0x43d8cb&&_0x5a494a['uniqueOpponents']['add'](_0x43d8cb);}),Object['keys'](_0x2ef863)[_0x59f303(0x151)](_0x288098=>{_0x2ef863[_0x288098]['size']>=0x5&&_0x5a494a['dominatedRanks']['add'](parseInt(_0x288098));}),console['log']('🎯\x20Found\x20'+_0x5a494a[_0x59f303(0x161)]+'\x20underdog\x20victories\x20for\x20'+_0x4eb7d5),console[_0x59f303(0x12c)]('👑\x20Dominated\x20'+_0x5a494a['dominatedRanks']['size']+_0x59f303(0x13c)+Array['from'](_0x5a494a['dominatedRanks'])['map'](_0x51eaaa=>getRankTierName(_0x51eaaa))['join'](',\x20')+']');const _0x390d73=_0x5a494a[_0x59f303(0x12b)]>0x0?_0x5a494a['wins']/_0x5a494a['totalMatches']*0x64:0x0,_0x3583f8=[['Overachiever\x20Ribbon',this['evaluateOverachieverRibbonFromCount'](_0x5a494a[_0x59f303(0x12b)],_0xe6d9af)],['Rematch\x20Ribbon',this[_0x59f303(0x167)](_0x5a494a['rematchWins'],_0xe6d9af)],['Sub-Gamer\x20Ribbon',this[_0x59f303(0x131)](_0x5a494a['subgameMatches'],_0xe6d9af)],['Explorer\x20Ribbon',this['evaluateExplorerRibbonFromCount'](_0x5a494a['uniqueMaps']['size'],_0xe6d9af)],['Socialite\x20Ribbon',this['evaluateSocialiteRibbonFromCount'](_0x5a494a['uniqueOpponents'][_0x59f303(0x16d)],_0xe6d9af)],['Brick\x20Wall',this[_0x59f303(0x185)](_0x390d73,_0xe6d9af,_0x5a494a['totalMatches'])],['Underdog\x20Ribbon',this[_0x59f303(0x186)](_0x5a494a[_0x59f303(0x161)],_0xe6d9af)],['Domination\x20Ribbon',this['evaluateDominationRibbonFromRanks'](_0x5a494a['dominatedRanks']['size'],_0xe6d9af)]];_0x3583f8['forEach'](([_0x5e9df0,_0x3b3217])=>{_0x3b3217&&(_0x4946f2[_0x5e9df0]=_0x3b3217);});const _0x3f4083=Object['keys'](_0xe6d9af)['length']+Object['keys'](_0x4946f2)['length'],_0x1c8f64=this['evaluateCollectorRibbonFromCount'](_0x3f4083,_0xe6d9af);return _0x1c8f64&&(_0x4946f2['Collector\x20Ribbon']=_0x1c8f64),_0x4946f2;}['evaluateDominationRibbonFromRanks'](_0x208e9b,_0x533f31){const _0x39c879=a53_0x2abea2;if(_0x208e9b===0x0)return null;const _0x2e88fb=_0x533f31['Domination\x20Ribbon']||{'level':0x0};if(_0x208e9b>_0x2e88fb['level']){const _0x2f20c8=[];for(let _0x306cc2=0x0;_0x306cc2<_0x208e9b;_0x306cc2++){_0x2f20c8['push'](getRankTierName(_0x306cc2));}return console['log'](_0x39c879(0x133)+_0x2e88fb[_0x39c879(0x171)]+'\x20→\x20'+_0x208e9b+_0x39c879(0x13e)+_0x2f20c8['join'](',\x20')+')'),{'level':_0x208e9b,'awardedAt':new Date(),'dominatedRanks':_0x2f20c8};}return null;}async['checkTopRankStatus'](_0x3a9918,_0x3c3db8){const _0x517c6e=a53_0x2abea2;try{const _0x427dff=_0x3c3db8==='D1'?'players':_0x3c3db8==='D2'?'playersD2':'playersD3',_0x59e1a0=await this[_0x517c6e(0x158)](_0x3a9918,_0x3c3db8);if(!_0x59e1a0||_0x59e1a0[_0x517c6e(0x15a)]===undefined)return console['log']('❌\x20No\x20ELO\x20rating\x20data\x20for\x20'+_0x3a9918),null;const _0x68bfa6=_0x59e1a0['eloRating'],_0x32d6f7=getPlayerRankTier(_0x68bfa6),_0x458f98=getRankTierName(_0x32d6f7);if(_0x458f98==='Unranked')return console['log']('❌\x20'+_0x3a9918+'\x20is\x20Unranked\x20('+_0x68bfa6+'\x20ELO)'),null;console[_0x517c6e(0x12c)]('🔍\x20Checking\x20Top\x20'+_0x458f98+'\x20status\x20for\x20'+_0x3a9918+'\x20('+_0x68bfa6+'\x20ELO)');const _0x480515=collection(db,_0x427dff),_0x2b534d=await getDocs(_0x480515);let _0x2e28f0=null,_0x40ad87=-0x1,_0x46e302=0x0;_0x2b534d[_0x517c6e(0x151)](_0x2f6c0d=>{const _0x576980=_0x517c6e,_0x3fc8c6=_0x2f6c0d[_0x576980(0x17c)](),_0x40de43=_0x3fc8c6[_0x576980(0x15a)]||0x0,_0x387a6e=getPlayerRankTier(_0x40de43);_0x387a6e===_0x32d6f7&&(_0x46e302++,_0x40de43>_0x40ad87&&(_0x40ad87=_0x40de43,_0x2e28f0=_0x3fc8c6['username']));});const _0x42dcf5=_0x2e28f0===_0x3a9918;return console['log']('📊\x20'+_0x458f98+_0x517c6e(0x118)+_0x46e302+'\x20players,\x20Top:\x20'+_0x2e28f0+'\x20('+_0x40ad87+'\x20ELO),\x20'+_0x3a9918+'\x20is\x20#1:\x20'+_0x42dcf5),_0x42dcf5?_0x458f98:null;}catch(_0x5cbe37){return console['error']('Error\x20checking\x20top\x20rank\x20status:',_0x5cbe37),null;}}async['evaluateTopRankRibbon'](_0x113693,_0x48be2b,_0x85d890){const _0x2238cc=a53_0x2abea2,_0x3f4e88=await this['checkTopRankStatus'](_0x113693,_0x48be2b),_0x490bfc={};if(_0x3f4e88){const _0x36de96='Top\x20'+_0x3f4e88+'\x20Pilot';if(RIBBON_DEFINITIONS[_0x36de96]){const _0x1fcc8e=_0x85d890[_0x36de96];!_0x1fcc8e?(console['log']('👑\x20NEW\x20Top\x20Rank\x20Achievement:\x20'+_0x113693+'\x20earned\x20'+_0x36de96+'!'),_0x490bfc[_0x36de96]={'level':0x1,'awardedAt':new Date(),'rank':_0x3f4e88,'achievedAt':new Date()}):console['log']('✅\x20'+_0x113693+'\x20already\x20has\x20'+_0x36de96+'\x20-\x20No\x20changes\x20needed');}}return Object[_0x2238cc(0x152)](_0x85d890)['forEach'](_0x4c300c=>{const _0xc61c7e=_0x2238cc;_0x4c300c['startsWith']('Top\x20')&&_0x4c300c[_0xc61c7e(0x127)](_0xc61c7e(0x12d))&&(!_0x490bfc[_0x4c300c]&&console['log']('✅\x20Preserving\x20existing\x20'+_0x4c300c));}),_0x490bfc;}async['evaluateAllRibbonsForPlayerOptimized'](_0x304376,_0x807244='D1'){const _0x36a15e=a53_0x2abea2;try{const _0x11dc85=ribbonCache['getCachedData'](_0x304376,_0x807244);if(_0x11dc85){const _0xbe99ee=await this[_0x36a15e(0x155)](_0x304376,_0x807244,_0x11dc85);if(Object['keys'](_0xbe99ee)['length']>0x0){console['log']('🆕\x20New\x20top\x20rank\x20achievements\x20found\x20for\x20cached\x20player\x20'+_0x304376),await this[_0x36a15e(0x14c)](_0x304376,_0xbe99ee,_0x807244);const _0x84494a={..._0x11dc85,..._0xbe99ee};return ribbonCache['setCachedData'](_0x304376,_0x807244,_0x84494a,0x0),_0x84494a;}return _0x11dc85;}const [_0x148ef0,_0x1f482c]=await Promise['all']([this[_0x36a15e(0x158)](_0x304376,_0x807244),this['getPlayerRibbonsCached'](_0x304376,_0x807244)]);if(!_0x148ef0)return{};const _0x42b3b2=_0x148ef0[_0x36a15e(0x145)]||0x0,_0x3e2ad4=await this[_0x36a15e(0x155)](_0x304376,_0x807244,_0x1f482c);if(!ribbonCache['shouldRefreshCache'](_0x304376,_0x807244,_0x42b3b2)){if(Object[_0x36a15e(0x152)](_0x3e2ad4)[_0x36a15e(0x142)]>0x0){await this[_0x36a15e(0x14c)](_0x304376,_0x3e2ad4,_0x807244);const _0x11a2f8={..._0x1f482c,..._0x3e2ad4};return ribbonCache[_0x36a15e(0x177)](_0x304376,_0x807244,_0x11a2f8,_0x42b3b2),_0x11a2f8;}return ribbonCache['setCachedData'](_0x304376,_0x807244,_0x1f482c,_0x42b3b2),_0x1f482c;}const _0x57e24b=await this['getPlayerMatchesOptimized'](_0x304376,_0x807244),_0x14d8da=await this['evaluateAllRibbonsFromData'](_0x57e24b,_0x148ef0,_0x1f482c,_0x807244);Object['assign'](_0x14d8da,_0x3e2ad4);Object['keys'](_0x14d8da)['length']>0x0&&(console['log']('💾\x20Saving\x20'+Object[_0x36a15e(0x152)](_0x14d8da)['length']+_0x36a15e(0x154)+_0x304376),await this[_0x36a15e(0x14c)](_0x304376,_0x14d8da,_0x807244));const _0x2c87d4={..._0x1f482c,..._0x14d8da};return ribbonCache['setCachedData'](_0x304376,_0x807244,_0x2c87d4,_0x57e24b['length']),_0x2c87d4;}catch(_0x2421d9){return console['error']('❌\x20Error\x20in\x20ribbon\x20evaluation:',_0x2421d9),{};}}async['isUnderdogVictory'](_0x470d2b,_0x2de31d,_0x105c96){const _0x523660=a53_0x2abea2,_0x17f59d=_0x470d2b['winnerUsername']===_0x2de31d;if(!_0x17f59d)return![];const _0x5b6fb2=_0x470d2b['loserUsername'],[_0x5ca1fd,_0x4d0e1b]=await Promise[_0x523660(0x11d)]([this[_0x523660(0x158)](_0x2de31d,_0x105c96),this['getPlayerDataCached'](_0x5b6fb2,_0x105c96)]);if(!_0x5ca1fd||!_0x4d0e1b)return console[_0x523660(0x12c)]('⚠️\x20Missing\x20player\x20data\x20for\x20'+_0x2de31d+_0x523660(0x166)+_0x5b6fb2),![];const _0x65282a=_0x5ca1fd['eloRating']||0x0,_0x478ed8=_0x4d0e1b['eloRating']||0x0,_0x2882c6=getPlayerRankTier(_0x65282a),_0x429ddb=getPlayerRankTier(_0x478ed8);console['log']('🔍\x20Checking\x20underdog:\x20Winner('+_0x2de31d+'):\x20'+_0x65282a+'\x20ELO\x20('+getRankTierName(_0x2882c6)+_0x523660(0x157)+_0x5b6fb2+'):\x20'+_0x478ed8+'\x20ELO\x20('+getRankTierName(_0x429ddb)+')');if(_0x429ddb>_0x2882c6)return console['log'](_0x523660(0x134)+getRankTierName(_0x2882c6)+'\x20beat\x20'+getRankTierName(_0x429ddb)+'!'),!![];return console['log']('❌\x20Not\x20underdog:\x20'+getRankTierName(_0x2882c6)+_0x523660(0x17d)+getRankTierName(_0x429ddb)),![];}['isUnderdogVictoryFast'](_0x1e9d24,_0x416e06,_0x26bb97,_0x44852d){const _0x47e357=a53_0x2abea2,_0x23ac6d=_0x1e9d24['winnerUsername']===_0x416e06;if(!_0x23ac6d)return![];const _0x175c5a=_0x1e9d24['loserUsername'],_0x170c48=_0x44852d['get'](_0x175c5a);if(!_0x26bb97||!_0x170c48)return![];const _0x4054a3=_0x26bb97['eloRating']||0x0,_0x3b3445=_0x170c48['eloRating']||0x0,_0x3e738b=getPlayerRankTier(_0x4054a3),_0x168432=getPlayerRankTier(_0x3b3445);if(_0x168432>_0x3e738b)return console[_0x47e357(0x12c)]('🎯\x20UNDERDOG:\x20'+getRankTierName(_0x3e738b)+'('+_0x4054a3+')\x20beat\x20'+getRankTierName(_0x168432)+'('+_0x3b3445+')'),!![];return![];}async[a53_0x2abea2(0x149)](_0x880227,_0x1ce377,_0x121b20,_0x50db09){const _0x253eca=a53_0x2abea2,_0x3b1ed4={},_0x309343=_0x1ce377['username'],_0x52c517={'totalMatches':_0x880227[_0x253eca(0x142)],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0},_0x5f98d9=new Set();_0x880227['forEach'](_0x34d685=>{const _0x305ed6=_0x253eca,_0x1afbdb=_0x34d685[_0x305ed6(0x18c)]===_0x309343,_0x538dfd=_0x1afbdb?_0x34d685['loserUsername']:_0x34d685[_0x305ed6(0x18c)];if(_0x538dfd)_0x5f98d9[_0x305ed6(0x116)](_0x538dfd);}),console['log']('🚀\x20Bulk\x20loading\x20'+_0x5f98d9['size']+'\x20player\x20records\x20for\x20underdog\x20calculations...');const _0x89408e=await this['bulkLoadPlayerData']([..._0x5f98d9,_0x309343],_0x50db09),_0x2967f9=_0x89408e[_0x253eca(0x176)](_0x309343);!_0x2967f9&&console['log']('⚠️\x20No\x20current\x20player\x20data\x20found\x20for\x20'+_0x309343);_0x880227[_0x253eca(0x151)](_0x2bd9e0=>{const _0x5ba2a9=_0x253eca,_0xe3c397=_0x2bd9e0['winnerUsername']===_0x309343,_0x28ecbf=_0xe3c397?_0x2bd9e0[_0x5ba2a9(0x120)]:_0x2bd9e0['winnerUsername'];_0xe3c397&&(_0x52c517['wins']++,_0x2bd9e0['subgameType']==='Rematch'&&_0x52c517['rematchWins']++,this[_0x5ba2a9(0x175)](_0x2bd9e0,_0x309343,_0x2967f9,_0x89408e)&&_0x52c517['underdogWins']++),_0x2bd9e0[_0x5ba2a9(0x140)]&&_0x2bd9e0['subgameType']!==_0x5ba2a9(0x13b)&&_0x52c517['subgameMatches']++,_0x2bd9e0['mapPlayed']&&_0x52c517['uniqueMaps']['add'](_0x2bd9e0['mapPlayed']),_0x28ecbf&&_0x52c517[_0x5ba2a9(0x11c)]['add'](_0x28ecbf);}),console[_0x253eca(0x12c)]('🎯\x20Found\x20'+_0x52c517['underdogWins']+_0x253eca(0x189)+_0x309343);const _0x31a80c=_0x52c517['totalMatches']>0x0?_0x52c517['wins']/_0x52c517['totalMatches']*0x64:0x0,_0x2e499a=[['Overachiever\x20Ribbon',this['evaluateOverachieverRibbonFromCount'](_0x52c517[_0x253eca(0x12b)],_0x121b20)],['Rematch\x20Ribbon',this['evaluateRematchRibbonFromCount'](_0x52c517['rematchWins'],_0x121b20)],['Sub-Gamer\x20Ribbon',this[_0x253eca(0x131)](_0x52c517['subgameMatches'],_0x121b20)],['Explorer\x20Ribbon',this['evaluateExplorerRibbonFromCount'](_0x52c517['uniqueMaps']['size'],_0x121b20)],['Socialite\x20Ribbon',this[_0x253eca(0x162)](_0x52c517['uniqueOpponents'][_0x253eca(0x16d)],_0x121b20)],[_0x253eca(0x184),this['evaluateBrickWallRibbonFromWinRate'](_0x31a80c,_0x121b20,_0x52c517['totalMatches'])],[_0x253eca(0x17e),this[_0x253eca(0x186)](_0x52c517[_0x253eca(0x161)],_0x121b20)]];_0x2e499a['forEach'](([_0x1d386c,_0x3e0385])=>{_0x3e0385&&(_0x3b1ed4[_0x1d386c]=_0x3e0385);});const _0x2d43bf=Object[_0x253eca(0x152)](_0x121b20)[_0x253eca(0x142)]+Object['keys'](_0x3b1ed4)['length'],_0x5dda2f=this['evaluateCollectorRibbonFromCount'](_0x2d43bf,_0x121b20);return _0x5dda2f&&(_0x3b1ed4['Collector\x20Ribbon']=_0x5dda2f),_0x3b1ed4;}async['getPlayerMatchesOptimized'](_0xf37282,_0x39c8fe){const _0xf4d62f=a53_0x2abea2,_0x2ff500=matchCache['getCachedMatches'](_0xf37282,_0x39c8fe);if(_0x2ff500)return _0x2ff500;try{const _0x54f048=_0x39c8fe==='D1'?_0xf4d62f(0x153):_0x39c8fe==='D2'?'approvedMatchesD2':'approvedMatchesD3',_0x6503e4=collection(db,_0x54f048),[_0x5782ba,_0x2d89ad]=await Promise[_0xf4d62f(0x11d)]([getDocs(query(_0x6503e4,where('winnerUsername','==',_0xf37282))),getDocs(query(_0x6503e4,where('loserUsername','==',_0xf37282)))]),_0x4ebf58=new Set(),_0x478106=[];return _0x5782ba['forEach'](_0x596dd1=>{const _0x4e8f0a=_0xf4d62f;if(!_0x4ebf58[_0x4e8f0a(0x128)](_0x596dd1['id'])){_0x4ebf58['add'](_0x596dd1['id']);const _0x58a2fc={'id':_0x596dd1['id'],..._0x596dd1[_0x4e8f0a(0x17c)]()};if(!_0x58a2fc['winnerRating'])_0x58a2fc['winnerRating']=0x0;if(!_0x58a2fc['loserRating'])_0x58a2fc['loserRating']=0x0;_0x478106['push'](_0x58a2fc);}}),_0x2d89ad[_0xf4d62f(0x151)](_0x4eab33=>{const _0x20d797=_0xf4d62f;if(!_0x4ebf58['has'](_0x4eab33['id'])){_0x4ebf58['add'](_0x4eab33['id']);const _0x350459={'id':_0x4eab33['id'],..._0x4eab33[_0x20d797(0x17c)]()};if(!_0x350459['winnerRating'])_0x350459['winnerRating']=0x0;if(!_0x350459['loserRating'])_0x350459['loserRating']=0x0;_0x478106['push'](_0x350459);}}),matchCache['setCachedMatches'](_0xf37282,_0x39c8fe,_0x478106),_0x478106;}catch(_0x55a0f1){return console['error']('❌\x20Error\x20fetching\x20matches:',_0x55a0f1),[];}}async[a53_0x2abea2(0x158)](_0x532274,_0x27d3b3){const _0x3c5d51=a53_0x2abea2;try{const _0x43b826=_0x27d3b3==='D1'?'players':_0x27d3b3==='D2'?'playersD2':_0x3c5d51(0x15c),_0x429a46=collection(db,_0x43b826),_0x51804c=query(_0x429a46,where('username','==',_0x532274),limit(0x1)),_0x2c4cf7=await getDocs(_0x51804c);if(_0x2c4cf7[_0x3c5d51(0x12e)])return console['log']('❌\x20No\x20player\x20data\x20found\x20for\x20'+_0x532274+_0x3c5d51(0x170)+_0x43b826),null;const _0x37fd9b=_0x2c4cf7[_0x3c5d51(0x15b)][0x0]['data']();return _0x37fd9b['eloRating']!==undefined&&(_0x37fd9b['rating']=_0x37fd9b['eloRating']),console['log']('✅\x20Found\x20player\x20data\x20for\x20'+_0x532274+':\x20ELO\x20'+_0x37fd9b['eloRating']+',\x20Position\x20'+_0x37fd9b['position']),_0x37fd9b;}catch(_0x3a50dc){return console[_0x3c5d51(0x126)]('Error\x20getting\x20player\x20data\x20for\x20'+_0x532274+':',_0x3a50dc),null;}}async['getPlayerRibbonsCached'](_0x369ca5,_0x483bae){const _0x130c4f=a53_0x2abea2;try{const _0x296a29='playerRibbons'+(_0x483bae==='D1'?'':_0x483bae),_0x318101=doc(db,_0x296a29,_0x369ca5),_0x11cf57=await getDoc(_0x318101);return _0x11cf57['exists']()?_0x11cf57['data']()[_0x130c4f(0x165)]||{}:{};}catch(_0x1f3b7b){return console[_0x130c4f(0x126)](_0x130c4f(0x14b),_0x1f3b7b),{};}}async[a53_0x2abea2(0x14c)](_0x14a6c0,_0x16d66a,_0x1a4281){const _0x23e535=a53_0x2abea2;try{const _0x54fee='playerRibbons'+(_0x1a4281==='D1'?'':_0x1a4281),_0x43cd98=doc(db,_0x54fee,_0x14a6c0),_0x3c0d28=await this[_0x23e535(0x137)](_0x14a6c0,_0x1a4281),_0x3b29c8={..._0x3c0d28,..._0x16d66a};await setDoc(_0x43cd98,{'username':_0x14a6c0,'ladder':_0x1a4281,'ribbons':_0x3b29c8,'lastUpdated':new Date()},{'merge':!![]});}catch(_0x508270){console['error']('Error\x20saving\x20ribbons:',_0x508270);}}['evaluateOverachieverRibbonFromCount'](_0x124590,_0x460aba){const _0x3ad333=_0x460aba['Overachiever\x20Ribbon']||{'level':0x0},_0x369d0a=RIBBON_DEFINITIONS['Overachiever\x20Ribbon']['levels'],_0x384a6b=_0x369d0a['findIndex'](_0x3093d3=>_0x124590<_0x3093d3),_0x5b443a=_0x384a6b===-0x1?_0x369d0a['length']:_0x384a6b;if(_0x5b443a>_0x3ad333['level'])return{'level':_0x5b443a,'awardedAt':new Date()};return null;}[a53_0x2abea2(0x167)](_0x3cfa58,_0x479c20){if(_0x3cfa58===0x0)return null;const _0xa59d53=_0x479c20['Rematch\x20Ribbon']||{'level':0x0};if(_0x3cfa58>_0xa59d53['level'])return{'level':_0x3cfa58,'awardedAt':new Date()};return null;}[a53_0x2abea2(0x131)](_0x8345b6,_0x380bf5){const _0x1a392c=a53_0x2abea2,_0x24bff1=_0x380bf5['Sub-Gamer\x20Ribbon']||{'level':0x0},_0x186d1d=RIBBON_DEFINITIONS['Sub-Gamer\x20Ribbon']['levels'],_0x4b6b03=_0x186d1d['findIndex'](_0x3ec833=>_0x8345b6<_0x3ec833),_0x27d617=_0x4b6b03===-0x1?_0x186d1d[_0x1a392c(0x142)]:_0x4b6b03;if(_0x27d617>_0x24bff1['level'])return{'level':_0x27d617,'awardedAt':new Date()};return null;}[a53_0x2abea2(0x16a)](_0x258c2d,_0x5bc652){const _0x3e4e7a=a53_0x2abea2,_0x3d3cd6=_0x5bc652['Explorer\x20Ribbon']||{'level':0x0},_0x380339=RIBBON_DEFINITIONS['Explorer\x20Ribbon']['levels'],_0x4e6431=_0x380339['findIndex'](_0x3a0a36=>_0x258c2d<_0x3a0a36),_0x13c5a6=_0x4e6431===-0x1?_0x380339[_0x3e4e7a(0x142)]:_0x4e6431;if(_0x13c5a6>_0x3d3cd6['level'])return{'level':_0x13c5a6,'awardedAt':new Date()};return null;}['evaluateSocialiteRibbonFromCount'](_0x36caec,_0x6392b9){const _0x1df09d=a53_0x2abea2,_0x45e9cb=_0x6392b9['Socialite\x20Ribbon']||{'level':0x0},_0x52d537=RIBBON_DEFINITIONS[_0x1df09d(0x172)]['levels'],_0x1014f9=_0x52d537['findIndex'](_0x4ed936=>_0x36caec<_0x4ed936),_0x567662=_0x1014f9===-0x1?_0x52d537[_0x1df09d(0x142)]:_0x1014f9;if(_0x567662>_0x45e9cb[_0x1df09d(0x171)])return{'level':_0x567662,'awardedAt':new Date()};return null;}['evaluateBrickWallRibbonFromWinRate'](_0x4b5672,_0x54def5,_0x3b6167){const _0x9042be=a53_0x2abea2;if(_0x3b6167<0x32)return console['log']('⚠️\x20Brick\x20Wall\x20ribbon\x20requires\x2050+\x20matches\x20(player\x20has\x20'+_0x3b6167+')'),null;const _0x4e4d76=_0x54def5['Brick\x20Wall']||{'level':0x0},_0x13fcab=RIBBON_DEFINITIONS[_0x9042be(0x184)]['levels'],_0xb79521=_0x13fcab[_0x9042be(0x12f)](_0x3e2b77=>_0x4b5672<_0x3e2b77),_0x3d1564=_0xb79521===-0x1?_0x13fcab['length']:_0xb79521;if(_0x3d1564>_0x4e4d76['level'])return console['log']('🏆\x20Brick\x20Wall\x20ribbon\x20awarded:\x20'+_0x4b5672['toFixed'](0x1)+'%\x20win\x20rate\x20over\x20'+_0x3b6167+'\x20matches'),{'level':_0x3d1564,'awardedAt':new Date(),'winRate':_0x4b5672,'matchesPlayed':_0x3b6167};return null;}['evaluateCollectorRibbonFromCount'](_0x28c6dd,_0x515bd5){const _0x51ccfc=_0x515bd5['Collector\x20Ribbon']||{'level':0x0},_0x3247a9=RIBBON_DEFINITIONS['Collector\x20Ribbon']['levels'],_0x5d26e6=_0x3247a9['findIndex'](_0x429b53=>_0x28c6dd<_0x429b53),_0x13e926=_0x5d26e6===-0x1?_0x3247a9['length']:_0x5d26e6;if(_0x13e926>_0x51ccfc['level'])return{'level':_0x13e926,'awardedAt':new Date()};return null;}['evaluateUnderdogRibbonFromCount'](_0x1ba51a,_0x5068e6){const _0x576dfd=a53_0x2abea2;if(_0x1ba51a===0x0)return null;const _0x321cff=_0x5068e6['Underdog\x20Ribbon']||{'level':0x0},_0xe53f99=RIBBON_DEFINITIONS['Underdog\x20Ribbon'][_0x576dfd(0x16f)];let _0x2dd43e=0x0;for(let _0x462a3b=0x0;_0x462a3b<_0xe53f99[_0x576dfd(0x142)];_0x462a3b++){if(_0x1ba51a>=_0xe53f99[_0x462a3b])_0x2dd43e=_0x462a3b+0x1;else break;}if(_0x2dd43e>_0x321cff[_0x576dfd(0x171)])return console['log']('🏆\x20Underdog\x20Ribbon\x20upgrade:\x20Level\x20'+_0x321cff['level']+'\x20→\x20'+_0x2dd43e+'\x20('+_0x1ba51a+'\x20underdog\x20wins)'),{'level':_0x2dd43e,'awardedAt':new Date()};return null;}}function getPlayerRankTier(_0x1eecba){if(_0x1eecba===undefined||_0x1eecba===null)return 0x0;const _0x5c267f=Number(_0x1eecba);if(isNaN(_0x5c267f))return 0x0;if(_0x5c267f>=0x7d0)return 0x4;if(_0x5c267f>=0x708)return 0x3;if(_0x5c267f>=0x640)return 0x2;if(_0x5c267f>=0x578)return 0x1;return 0x0;}function getRankTierName(_0x32822a){const _0x2cf379=a53_0x2abea2,_0x45e975=['Unranked','Bronze','Silver',_0x2cf379(0x174),'Emerald'];return _0x45e975[_0x32822a]||_0x2cf379(0x16b);}const ribbonSystem=new RibbonSystem(),ribbonCache=new RibbonCacheManager(),matchCache=new MatchCacheManager();typeof window!==a53_0x2abea2(0x160)&&(window[a53_0x2abea2(0x159)]=()=>{const _0x58c5d7=a53_0x2abea2;return{'ribbon':ribbonCache[_0x58c5d7(0x16c)](),'match':matchCache['getCacheStats']()};});export async function evaluatePlayerRibbons(_0x5b9c30,_0x1f45ae='D1'){return await ribbonSystem['evaluateAllRibbonsForPlayerOptimized'](_0x5b9c30,_0x1f45ae);}export function getRibbonHTML(_0x512e11,_0x14b88d){const _0x1165de=a53_0x2abea2,_0x4b9bcb=RIBBON_DEFINITIONS[_0x512e11];if(!_0x4b9bcb)return'';const _0x1be1bd=_0x14b88d['level']||0x1,_0x4ca2d0=_0x512e11[_0x1165de(0x15d)]('\x20Ribbon','')[_0x1165de(0x15d)]('\x20Badge',''),_0x43c6ea=_0x46e39c=>{const _0x4fee84=_0x1165de;if(_0x46e39c<=0x1)return _0x4fee84(0x143);if(_0x46e39c<=0x2)return'level-2';if(_0x46e39c<=0x3)return _0x4fee84(0x150);if(_0x46e39c<=0x4)return'level-4';return _0x4fee84(0x123);},_0x596e0a=_0x399b5b=>{const _0x7d2850=_0x1165de;if(_0x399b5b<=0x1)return'';const _0x549aa4=[];if(_0x399b5b>=0x2&&_0x399b5b<=0x4){const _0x76118f=Math['min'](_0x399b5b-0x1,0x3);for(let _0x2b609a=0x0;_0x2b609a<_0x76118f;_0x2b609a++){_0x549aa4['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>');}}if(_0x399b5b>=0x5&&_0x399b5b<=0x7){_0x549aa4['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20silver-star\x22></i>');const _0x2e7bbe=Math['min'](_0x399b5b-0x5,0x2);for(let _0x374a40=0x0;_0x374a40<_0x2e7bbe;_0x374a40++){_0x549aa4['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>');}}return _0x399b5b>=0x8&&_0x549aa4[_0x7d2850(0x168)]('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20gold-star\x22></i>'),_0x549aa4['length']>0x0?'<div\x20class=\x22ribbon-devices\x22>'+_0x549aa4['join']('')+'</div>':'';},_0x372659=_0x4b9bcb['description']+'\x20-\x20Level\x20'+_0x1be1bd;return _0x1165de(0x138)+_0x372659+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-image-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22'+_0x4b9bcb[_0x1165de(0x147)]+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22'+_0x512e11+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22ribbon-image\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27;\x20this.nextElementSibling.style.display=\x27block\x27;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-fallback\x22\x20style=\x22display:\x20none;\x20background:\x20'+_0x4b9bcb['color']+_0x1165de(0x141)+_0x4ca2d0[_0x1165de(0x163)](0x0,0x6)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x596e0a(_0x1be1bd)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-name\x22>'+_0x4ca2d0+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1be1bd>0x1?_0x1165de(0x14a)+_0x43c6ea(_0x1be1bd)+'\x22>'+_0x1be1bd+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}