function a49_0x20dd(){const _0x254b40=['prototype','trace','52766QqivLl','105uPjuXR','forEach','error','wins','table','warn','Error\x20archiving\x20records:','constructor','(((.+)+)+)+$','bind','snapshot','Successfully\x20archived\x20players\x20to\x20season0','info','__proto__','513896RTFBiE','players','{}.constructor(\x22return\x20this\x22)(\x20)','username','data','search','18474uKBaGn','length','6196936GjzBKI','return\x20(function()\x20','log','console','apply','winRate','43474gwaWQy','season0','desc','Error\x20archiving\x20season:','87lnbric','records','toString','197072zhKaIN','push','10408626qFIOBe','exception'];a49_0x20dd=function(){return _0x254b40;};return a49_0x20dd();}(function(_0x64bcbc,_0x4194d1){const _0x283f0a=a49_0x4665,_0x3b2e26=_0x64bcbc();while(!![]){try{const _0x580ad6=-parseInt(_0x283f0a(0x203))/0x1+-parseInt(_0x283f0a(0x211))/0x2*(-parseInt(_0x283f0a(0x215))/0x3)+-parseInt(_0x283f0a(0x218))/0x4+-parseInt(_0x283f0a(0x1f5))/0x5*(parseInt(_0x283f0a(0x209))/0x6)+parseInt(_0x283f0a(0x1f4))/0x7+-parseInt(_0x283f0a(0x20b))/0x8+parseInt(_0x283f0a(0x21a))/0x9;if(_0x580ad6===_0x4194d1)break;else _0x3b2e26['push'](_0x3b2e26['shift']());}catch(_0x12028a){_0x3b2e26['push'](_0x3b2e26['shift']());}}}(a49_0x20dd,0x5fb31));function a49_0x4665(_0x51d0e5,_0x45c623){const _0x3f74f4=a49_0x20dd();return a49_0x4665=function(_0x4e98fd,_0x4ba8da){_0x4e98fd=_0x4e98fd-0x1f4;let _0x154a33=_0x3f74f4[_0x4e98fd];return _0x154a33;},a49_0x4665(_0x51d0e5,_0x45c623);}const a49_0x3e3043=(function(){let _0xe2ef66=!![];return function(_0x464db3,_0x3eef53){const _0x1491b9=_0xe2ef66?function(){const _0x2c8b75=a49_0x4665;if(_0x3eef53){const _0x724902=_0x3eef53[_0x2c8b75(0x20f)](_0x464db3,arguments);return _0x3eef53=null,_0x724902;}}:function(){};return _0xe2ef66=![],_0x1491b9;};}()),a49_0x50225c=a49_0x3e3043(this,function(){const _0x1bb753=a49_0x4665;return a49_0x50225c[_0x1bb753(0x217)]()['search'](_0x1bb753(0x1fd))[_0x1bb753(0x217)]()[_0x1bb753(0x1fc)](a49_0x50225c)[_0x1bb753(0x208)](_0x1bb753(0x1fd));});a49_0x50225c();const a49_0x4ba8da=(function(){let _0x202c28=!![];return function(_0x4d9696,_0x2d897d){const _0x55738f=_0x202c28?function(){const _0x2395ce=a49_0x4665;if(_0x2d897d){const _0xeac34d=_0x2d897d[_0x2395ce(0x20f)](_0x4d9696,arguments);return _0x2d897d=null,_0xeac34d;}}:function(){};return _0x202c28=![],_0x55738f;};}()),a49_0x4e98fd=a49_0x4ba8da(this,function(){const _0x1af389=a49_0x4665;let _0x2e4073;try{const _0x2da656=Function(_0x1af389(0x20c)+_0x1af389(0x205)+');');_0x2e4073=_0x2da656();}catch(_0x38e7f2){_0x2e4073=window;}const _0x255ffd=_0x2e4073['console']=_0x2e4073[_0x1af389(0x20e)]||{},_0x29b016=[_0x1af389(0x20d),_0x1af389(0x1fa),_0x1af389(0x201),'error',_0x1af389(0x21b),_0x1af389(0x1f9),_0x1af389(0x21d)];for(let _0x5241f0=0x0;_0x5241f0<_0x29b016[_0x1af389(0x20a)];_0x5241f0++){const _0x4c8762=a49_0x4ba8da[_0x1af389(0x1fc)][_0x1af389(0x21c)]['bind'](a49_0x4ba8da),_0x544964=_0x29b016[_0x5241f0],_0x1b06d4=_0x255ffd[_0x544964]||_0x4c8762;_0x4c8762[_0x1af389(0x202)]=a49_0x4ba8da[_0x1af389(0x1fe)](a49_0x4ba8da),_0x4c8762[_0x1af389(0x217)]=_0x1b06d4[_0x1af389(0x217)][_0x1af389(0x1fe)](_0x1b06d4),_0x255ffd[_0x544964]=_0x4c8762;}});a49_0x4e98fd();import{db}from'./firebase-config.js';import{collection,getDocs,setDoc,doc,query,orderBy}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';async function archiveSeason0(){const _0x20c595=a49_0x4665;try{const _0x4d577f=await getDocs(collection(db,_0x20c595(0x204)));for(const _0x4297bf of _0x4d577f['docs']){const _0x4cc917=_0x4297bf[_0x20c595(0x207)]();await setDoc(doc(db,_0x20c595(0x212),_0x4297bf['id']),{..._0x4cc917,'archivedAt':new Date(),'originalId':_0x4297bf['id']});}return console[_0x20c595(0x20d)](_0x20c595(0x200)),!![];}catch(_0xa76b1d){console['error'](_0x20c595(0x214),_0xa76b1d);throw _0xa76b1d;}}async function archiveRecords(){const _0x3837ea=a49_0x4665;try{const _0x459dfa=collection(db,_0x3837ea(0x216)),_0x31181a=query(_0x459dfa,orderBy(_0x3837ea(0x1f8),_0x3837ea(0x213))),_0x3212c5=await getDocs(_0x31181a),_0xc277fa=[];return _0x3212c5[_0x3837ea(0x1f6)](_0x21f810=>{const _0x52f2d3=_0x3837ea,_0x2cf44a=_0x21f810['data']();_0xc277fa[_0x52f2d3(0x219)]({'username':_0x2cf44a[_0x52f2d3(0x206)],'wins':_0x2cf44a['wins']||0x0,'losses':_0x2cf44a['losses']||0x0,'winRate':_0x2cf44a[_0x52f2d3(0x210)]||0x0,'timestamp':new Date()});}),await setDoc(doc(db,'season0records',_0x3837ea(0x1ff)),{'records':_0xc277fa,'archivedAt':new Date()}),console[_0x3837ea(0x20d)]('Successfully\x20archived\x20records'),!![];}catch(_0x11f4b2){console[_0x3837ea(0x1f7)](_0x3837ea(0x1fb),_0x11f4b2);throw _0x11f4b2;}}export{archiveSeason0,archiveRecords};