const a10_0x36ad8c=a10_0x3c2c;(function(_0x373581,_0x358367){const _0x58a24b=a10_0x3c2c,_0x37267a=_0x373581();while(!![]){try{const _0x156ce2=-parseInt(_0x58a24b(0x1e1))/0x1+-parseInt(_0x58a24b(0x1fc))/0x2+-parseInt(_0x58a24b(0x21c))/0x3*(parseInt(_0x58a24b(0x21a))/0x4)+parseInt(_0x58a24b(0x1f8))/0x5*(parseInt(_0x58a24b(0x1e8))/0x6)+-parseInt(_0x58a24b(0x212))/0x7*(-parseInt(_0x58a24b(0x20a))/0x8)+-parseInt(_0x58a24b(0x1e3))/0x9*(-parseInt(_0x58a24b(0x221))/0xa)+parseInt(_0x58a24b(0x223))/0xb;if(_0x156ce2===_0x358367)break;else _0x37267a['push'](_0x37267a['shift']());}catch(_0x3a822d){_0x37267a['push'](_0x37267a['shift']());}}}(a10_0x3413,0x559f7));const a10_0x5599b8=(function(){let _0x54a775=!![];return function(_0x2c92f2,_0x12180d){const _0x1ba5de=_0x54a775?function(){const _0x44e92d=a10_0x3c2c;if(_0x12180d){const _0x2169cf=_0x12180d[_0x44e92d(0x1da)](_0x2c92f2,arguments);return _0x12180d=null,_0x2169cf;}}:function(){};return _0x54a775=![],_0x1ba5de;};}()),a10_0x26c3b9=a10_0x5599b8(this,function(){const _0x4ab4b1=a10_0x3c2c;return a10_0x26c3b9[_0x4ab4b1(0x20c)]()[_0x4ab4b1(0x1de)](_0x4ab4b1(0x1d7))['toString']()[_0x4ab4b1(0x207)](a10_0x26c3b9)[_0x4ab4b1(0x1de)](_0x4ab4b1(0x1d7));});a10_0x26c3b9();const a10_0x188f31=(function(){let _0x326f09=!![];return function(_0x5bd42a,_0x459870){const _0x37c24d=_0x326f09?function(){if(_0x459870){const _0x9c6d32=_0x459870['apply'](_0x5bd42a,arguments);return _0x459870=null,_0x9c6d32;}}:function(){};return _0x326f09=![],_0x37c24d;};}()),a10_0x409bec=a10_0x188f31(this,function(){const _0x24c24e=a10_0x3c2c;let _0x3f3cb6;try{const _0xe2932c=Function(_0x24c24e(0x211)+_0x24c24e(0x21d)+');');_0x3f3cb6=_0xe2932c();}catch(_0x1823c9){_0x3f3cb6=window;}const _0x17c754=_0x3f3cb6[_0x24c24e(0x210)]=_0x3f3cb6[_0x24c24e(0x210)]||{},_0x17bec7=[_0x24c24e(0x215),_0x24c24e(0x1fe),_0x24c24e(0x1df),'error',_0x24c24e(0x209),'table',_0x24c24e(0x1e9)];for(let _0x2de5b8=0x0;_0x2de5b8<_0x17bec7[_0x24c24e(0x204)];_0x2de5b8++){const _0x19c4f0=a10_0x188f31[_0x24c24e(0x207)][_0x24c24e(0x1ef)][_0x24c24e(0x1fa)](a10_0x188f31),_0x217000=_0x17bec7[_0x2de5b8],_0x2b77ba=_0x17c754[_0x217000]||_0x19c4f0;_0x19c4f0[_0x24c24e(0x1e6)]=a10_0x188f31['bind'](a10_0x188f31),_0x19c4f0[_0x24c24e(0x20c)]=_0x2b77ba[_0x24c24e(0x20c)][_0x24c24e(0x1fa)](_0x2b77ba),_0x17c754[_0x217000]=_0x19c4f0;}});a10_0x409bec();import{collection,query,where,getDocs,doc,getDoc}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db,auth}from'./firebase-config.js';function a10_0x3c2c(_0x1309f0,_0x4daf77){const _0x197762=a10_0x3413();return a10_0x3c2c=function(_0x409bec,_0x188f31){_0x409bec=_0x409bec-0x1d3;let _0x5718ee=_0x197762[_0x409bec];return _0x5718ee;},a10_0x3c2c(_0x1309f0,_0x4daf77);}let lastCheckTime=0x0;const CHECK_INTERVAL=0x2710,NOTIFICATION_CACHE_KEY='pendingMatchesCache',CACHE_EXPIRY=0xea60;function a10_0x3413(){const _0x1947fb=['2px\x20solid\x20white','231715WpoAUT','style','1731762DPSWEn','observe','getItem','__proto__','uid','7782QfuDHx','trace','10px','parse','removeItem','top','username','prototype','docs','-5px','split','right','winnerUsername','empty','error','Error\x20checking\x20pending\x20matches:','380vrWwWk','now','bind','absolute','1395890GvypcV','winnerEmail','warn','userId','position','users','setItem','width','length','Error\x20fetching\x20username:','pendingMatchesD3','constructor','zIndex','exception','96ivmfRC','-8px','toString','winnerId','addEventListener','borderRadius','console','return\x20(function()\x20','48517YmMdcA','pendingMatchesD2','50%','log','border','report-match-notification','all','email','2181612JAYpHq','getElementById','3kYsKKD','{}.constructor(\x22return\x20this\x22)(\x20)','stringify','exists','disconnect','10LILjZa','none','15967732kTRLRX','backgroundColor','#ff3b30','currentUser','playersD3','DOMContentLoaded','(((.+)+)+)+$','data','block','apply','currentUsername','999','display','search','info'];a10_0x3413=function(){return _0x1947fb;};return a10_0x3413();}export async function checkPendingMatches(_0x934e7a=![]){const _0x4f0f7d=a10_0x3c2c,_0x429f41=Date['now'](),_0x17d211=checkNotificationCache();if(_0x17d211!==null&&!_0x934e7a){updateNotificationDot(_0x17d211);if(_0x429f41-lastCheckTime<CHECK_INTERVAL)return;}lastCheckTime=_0x429f41;const _0xcdf5a5=auth[_0x4f0f7d(0x1d4)];if(!_0xcdf5a5){updateNotificationDot(![]),updateNotificationCache(![]);return;}try{const [_0x43dce4,_0x738117,_0x458503]=await Promise[_0x4f0f7d(0x218)]([checkForPendingMatchesInCollection(_0xcdf5a5,'pendingMatches'),checkForPendingMatchesInCollection(_0xcdf5a5,_0x4f0f7d(0x213)),checkForPendingMatchesInCollection(_0xcdf5a5,_0x4f0f7d(0x206))]),_0x5f2397=_0x43dce4||_0x738117||_0x458503;updateNotificationDot(_0x5f2397),updateNotificationCache(_0x5f2397);}catch(_0x59c646){console[_0x4f0f7d(0x1f6)](_0x4f0f7d(0x1f7),_0x59c646);}}async function checkForPendingMatchesInCollection(_0x4f5f0a,_0x51c68f){const _0x5a7dd6=a10_0x3c2c,_0xcb97c2=_0x4f5f0a[_0x5a7dd6(0x1e7)],_0x4c1bc3=_0x4f5f0a[_0x5a7dd6(0x219)],_0x32a1b2=query(collection(db,_0x51c68f),where(_0x5a7dd6(0x20d),'==',_0xcb97c2),where('approved','==',![])),_0x4b8dcd=await getDocs(_0x32a1b2);if(!_0x4b8dcd[_0x5a7dd6(0x1f5)])return!![];if(_0x4c1bc3){const _0x4c1f47=query(collection(db,_0x51c68f),where(_0x5a7dd6(0x1fd),'==',_0x4c1bc3),where('approved','==',![])),_0x5add27=await getDocs(_0x4c1f47);if(!_0x5add27['empty'])return!![];}let _0x21a994=await getUsernameFromAllSources(_0x4f5f0a);if(_0x21a994){const _0x269d57=query(collection(db,_0x51c68f),where(_0x5a7dd6(0x1f4),'==',_0x21a994),where('approved','==',![])),_0x18ac61=await getDocs(_0x269d57);if(!_0x18ac61[_0x5a7dd6(0x1f5)])return!![];}return![];}async function getUsernameFromAllSources(_0x30168a){const _0x5b2886=a10_0x3c2c,_0x4c0e8b=localStorage[_0x5b2886(0x1e5)](_0x5b2886(0x1db));if(_0x4c0e8b)return _0x4c0e8b;try{const [_0x4eae53,_0x2820a4,_0x5594d3]=await Promise[_0x5b2886(0x218)]([getDocs(query(collection(db,'players'),where(_0x5b2886(0x1ff),'==',_0x30168a[_0x5b2886(0x1e7)]))),getDocs(query(collection(db,'playersD2'),where(_0x5b2886(0x1ff),'==',_0x30168a[_0x5b2886(0x1e7)]))),getDocs(query(collection(db,_0x5b2886(0x1d5)),where(_0x5b2886(0x1ff),'==',_0x30168a[_0x5b2886(0x1e7)])))]);if(!_0x4eae53[_0x5b2886(0x1f5)]){const _0x56aef1=_0x4eae53['docs'][0x0][_0x5b2886(0x1d8)]()[_0x5b2886(0x1ee)];return localStorage[_0x5b2886(0x202)](_0x5b2886(0x1db),_0x56aef1),_0x56aef1;}if(!_0x2820a4['empty']){const _0x163bd4=_0x2820a4['docs'][0x0][_0x5b2886(0x1d8)]()[_0x5b2886(0x1ee)];return localStorage[_0x5b2886(0x202)](_0x5b2886(0x1db),_0x163bd4),_0x163bd4;}if(!_0x5594d3[_0x5b2886(0x1f5)]){const _0x3f0ee1=_0x5594d3[_0x5b2886(0x1f0)][0x0][_0x5b2886(0x1d8)]()[_0x5b2886(0x1ee)];return localStorage[_0x5b2886(0x202)](_0x5b2886(0x1db),_0x3f0ee1),_0x3f0ee1;}const _0x1f8765=await getDoc(doc(db,_0x5b2886(0x201),_0x30168a[_0x5b2886(0x1e7)]));if(_0x1f8765[_0x5b2886(0x21f)]()&&_0x1f8765[_0x5b2886(0x1d8)]()[_0x5b2886(0x1ee)]){const _0x55a577=_0x1f8765['data']()['username'];return localStorage[_0x5b2886(0x202)](_0x5b2886(0x1db),_0x55a577),_0x55a577;}}catch(_0x2a7f1d){console['error'](_0x5b2886(0x205),_0x2a7f1d);}if(_0x30168a[_0x5b2886(0x219)])return _0x30168a[_0x5b2886(0x219)][_0x5b2886(0x1f2)]('@')[0x0];return null;}function updateNotificationCache(_0x515379){const _0x4c604c=a10_0x3c2c,_0x26156e={'status':_0x515379,'timestamp':Date[_0x4c604c(0x1f9)]()};localStorage[_0x4c604c(0x202)](NOTIFICATION_CACHE_KEY,JSON[_0x4c604c(0x21e)](_0x26156e));}function checkNotificationCache(){const _0x13a61b=a10_0x3c2c,_0x2572f6=localStorage['getItem'](NOTIFICATION_CACHE_KEY);if(!_0x2572f6)return null;try{const {status:_0x5426f2,timestamp:_0x296fd0}=JSON[_0x13a61b(0x1eb)](_0x2572f6),_0x1a4fcb=Date['now']();if(_0x1a4fcb-_0x296fd0<CACHE_EXPIRY)return _0x5426f2;}catch(_0x4976e7){}return null;}export function updateNotificationDot(_0xf8136d){const _0x28a252=a10_0x3c2c,_0x3b17ab=new MutationObserver((_0x243c4f,_0x3d70e3)=>{const _0x1c57a4=a10_0x3c2c,_0x42bef1=document[_0x1c57a4(0x21b)](_0x1c57a4(0x217));_0x42bef1&&(updateDotStyle(_0x42bef1,_0xf8136d),_0x3d70e3[_0x1c57a4(0x220)]());});_0x3b17ab[_0x28a252(0x1e4)](document['body'],{'childList':!![],'subtree':!![]});const _0x5e4f2f=document[_0x28a252(0x21b)]('report-match-notification');_0x5e4f2f&&(updateDotStyle(_0x5e4f2f,_0xf8136d),_0x3b17ab[_0x28a252(0x220)]()),setTimeout(()=>_0x3b17ab['disconnect'](),0x1388);}function updateDotStyle(_0x481fcf,_0x2a596b){const _0x3bbde3=a10_0x3c2c;_0x2a596b?(_0x481fcf[_0x3bbde3(0x1e2)]['display']=_0x3bbde3(0x1d9),_0x481fcf[_0x3bbde3(0x1e2)][_0x3bbde3(0x224)]=_0x3bbde3(0x1d3),_0x481fcf[_0x3bbde3(0x1e2)][_0x3bbde3(0x203)]='10px',_0x481fcf[_0x3bbde3(0x1e2)]['height']=_0x3bbde3(0x1ea),_0x481fcf[_0x3bbde3(0x1e2)][_0x3bbde3(0x200)]=_0x3bbde3(0x1fb),_0x481fcf[_0x3bbde3(0x1e2)][_0x3bbde3(0x1ed)]=_0x3bbde3(0x1f1),_0x481fcf[_0x3bbde3(0x1e2)][_0x3bbde3(0x1f3)]=_0x3bbde3(0x20b),_0x481fcf['style'][_0x3bbde3(0x20f)]=_0x3bbde3(0x214),_0x481fcf['style'][_0x3bbde3(0x216)]=_0x3bbde3(0x1e0),_0x481fcf[_0x3bbde3(0x1e2)][_0x3bbde3(0x208)]=_0x3bbde3(0x1dc)):_0x481fcf['style'][_0x3bbde3(0x1dd)]=_0x3bbde3(0x222);}export function updatePendingMatchNotification(){checkPendingMatches(!![]);}document[a10_0x36ad8c(0x20e)](a10_0x36ad8c(0x1d6),()=>{setTimeout(()=>checkPendingMatches(),0x1f4),auth['onAuthStateChanged'](()=>{const _0x5bbdb7=a10_0x3c2c;localStorage[_0x5bbdb7(0x1ec)](_0x5bbdb7(0x1db)),setTimeout(()=>checkPendingMatches(!![]),0x1f4);}),setInterval(()=>checkPendingMatches(),0xea60);});