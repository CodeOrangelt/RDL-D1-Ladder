const a4_0x1411ce=a4_0x4c65,a4_0x52863a=(function(){let _0x39f354=!![];return function(_0x4d0c6a,_0x5463dd){const _0x568804=_0x39f354?function(){const _0x45129e=a4_0x4c65;if(_0x5463dd){const _0x76e410=_0x5463dd[_0x45129e(0x66)](_0x4d0c6a,arguments);return _0x5463dd=null,_0x76e410;}}:function(){};return _0x39f354=![],_0x568804;};}()),a4_0x5589b3=a4_0x52863a(this,function(){const _0x9a33b1=a4_0x4c65,_0x37f4a9=function(){const _0x107e1a=a4_0x4c65;let _0x291bea;try{_0x291bea=Function(_0x107e1a(0xfa)+_0x107e1a(0x6c)+');')();}catch(_0x4227d5){_0x291bea=window;}return _0x291bea;},_0x303810=_0x37f4a9(),_0x5c14a4=_0x303810['console']=_0x303810['console']||{},_0xc1925d=['log','warn','info','error',_0x9a33b1(0x83),_0x9a33b1(0x8a),'trace'];for(let _0x59057d=0x0;_0x59057d<_0xc1925d[_0x9a33b1(0x119)];_0x59057d++){const _0x3607e0=a4_0x52863a['constructor'][_0x9a33b1(0xc0)]['bind'](a4_0x52863a),_0x1ed503=_0xc1925d[_0x59057d],_0x4b99b8=_0x5c14a4[_0x1ed503]||_0x3607e0;_0x3607e0['__proto__']=a4_0x52863a['bind'](a4_0x52863a),_0x3607e0[_0x9a33b1(0xc7)]=_0x4b99b8['toString']['bind'](_0x4b99b8),_0x5c14a4[_0x1ed503]=_0x3607e0;}});a4_0x5589b3();import{collection,getDocs,addDoc,query,orderBy,limit,startAfter,Timestamp,serverTimestamp,getDoc,doc,where,deleteDoc}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const mutedUsers=[{'username':a4_0x1411ce(0xec),'muteFromDate':new Date('2025-07-02')['getTime']()}];function isUsernameMuted(_0xfa24d0,_0x16d2cf){const _0x47169a=a4_0x1411ce;if(!_0xfa24d0)return![];const _0x1ec442=mutedUsers['find'](_0x283517=>_0x283517['username']===_0xfa24d0);if(!_0x1ec442)return![];if(!_0x16d2cf)return!![];const _0x952ab7=_0x16d2cf instanceof Date?_0x16d2cf['getTime']():_0x16d2cf['seconds']?_0x16d2cf['seconds']*0x3e8:Date['now']();return _0x952ab7>=_0x1ec442[_0x47169a(0xe1)];}function filterComment(_0x3af957,_0x548d1d,_0x32a011){if(!_0x3af957)return'-';if(isUsernameMuted(_0x548d1d,_0x32a011))return'Muted.';return _0x3af957;}const previewState={'currentMode':'D1','currentPage':0x1,'matchesPerPage':0x5,'lastVisible':null,'firstVisible':null,'isLoading':![],'filterUsername':'','enhancedFilters':{'pilots':'','levels':'','subgames':[]},'totalPages':0x1,'hasReachedEnd':![]};function getCacheKey(_0x75cd7c,_0x496300,_0x1dbf8d){const _0x440b9e='u:'+(_0x1dbf8d['filterUsername']||'');return'previewCache_'+_0x75cd7c+'_p'+_0x496300+'_'+_0x440b9e;}function a4_0x3c30(){const _0x53f234=['N/A','mega-match','apply','.option-content','current','textContent','jump-to-page','content','{}.constructor(\x22return\x20this\x22)(\x20)','color','currentPage','Error\x20fetching\x20','enhancedFilters','#FFD700','Submit','closest','levels','winnerOldElo','seconds','filter-subgames','dataset','Error\x20reporting\x20comment:','Muted.','Unable\x20to\x20submit\x20comment\x20-\x20system\x20not\x20ready','.match-subgame','\x20days\x20ago','filterUsername','commentAddPopup','winnerDemoLink','0.6','Failed\x20to\x20fetch\x20username:','exception','submit','Demo\x20link','addCommentForm','value','wordCount','Error\x20fetching\x20comments\x20batch:','table','.comment-item','matchId','Failed\x20to\x20report\x20comment:\x20','Unknown','parentNode','userProfiles','docs','\x20from\x20cache','marginTop','title','getItem','click','previewNextPage','currentMode','.add-comment-btn','div','popup-actions','prev','preview-ladder-mode','.jump-btn','#aaa','firstChild','commentPopupTitlePreview','addEventListener','desc','.winner-demo-link','.loser-demo-link','preview-d2-button','log','demo','.match-map','Match\x20','docsData','demoLink','description','closeCommentPopupPreview','data','loserScore','auth','onclick','input','map','.comment.loser-comment','.delete-comment-btn','.popup-actions',',\x20fetching\x20from\x20Firestore','next','commentOverlayPreview','display','Unknown\x20Map','fusion-match','querySelector','options','prototype','userId','You\x20need\x20to\x20be\x20signed\x20in\x20to\x20delete\x20comments','trim','option','setAttribute','empty','toString','Failed\x20to\x20cache\x20data:','.matches-loading[style*=\x22color:\x20red\x22]','removeChild','Submitting...','mapPlayed','innerHTML','.option-tab','</small>','href','className','winnerSuicides','missiles-6plus','demoDescription','matchesPerPage','closeAddCommentPopup','\x20demo\x20links:','uid','Please\x20enter\x20a\x20comment\x20before\x20submitting','rematch','message','submitComment','winner-','Error\x20fetching\x20comments:','displayName','appendChild','muteFromDate','totalPages','.player.loser\x20.player-name','none','createdAt','demoWordCount','<div\x20class=\x22matches-loading\x22>No\x20recent\x20matches\x20found','pilots','#CD7F32','disabled','.no-comments-message','Daz','You\x20must\x20be\x20signed\x20in\x20to\x20leave\x20a\x20comment','block','Cache\x20miss\x20for\x20page\x20','Failed\x20to\x20submit:\x20','createElement','text','</p><small\x20style=\x22color:#aaa;\x20display:block;\x20text-align:right;\x20margin-top:10px;\x22>Posted\x20on\x20','forEach','blind-match','approvedAt','classList','username','Option','return\x20(function()\x20','gap','#50C878','Error\x20deleting\x20comment:','filter','preventDefault','.match-card','loserUsername','currentUser','\x20matching\x20filters','.comments-container','winnerUsername','.option-tab.active','demo-link','lastVisible','error','exists','getElementById','Anonymous','match-card-template','includes','removeAttribute','cursor','<div\x20class=\x22matches-loading\x22>No\x20matches\x20found\x20matching\x20current\x20filters.</div>','Firebase\x20not\x20initialized','hasNextPage','preview-d1-button','add','gold','subgames','style','length','slice','<div\x20class=\x22matches-loading\x22\x20style=\x22color:\x20red;\x22>Error\x20loading\x20matches:\x20','commentPopupPreview','max','Comments\x20section\x20not\x20found\x20in\x20template','isLoading','flex','commentUser','keys','timestamp','commentText','subgameType','<strong>'];a4_0x3c30=function(){return _0x53f234;};return a4_0x3c30();}function getCachedPage(_0x303635){const _0x5a8041=a4_0x1411ce,_0x18e669=sessionStorage[_0x5a8041(0x95)](_0x303635);if(_0x18e669)try{return JSON['parse'](_0x18e669);}catch(_0x49b788){return console[_0x5a8041(0x109)]('Failed\x20to\x20parse\x20cache:',_0x49b788),sessionStorage['removeItem'](_0x303635),null;}return null;}function cachePage(_0x582f9a,_0x4786a7){const _0x59d4d2=a4_0x1411ce;try{sessionStorage['setItem'](_0x582f9a,JSON['stringify'](_0x4786a7));}catch(_0x4dd0a2){console[_0x59d4d2(0x109)](_0x59d4d2(0xc8),_0x4dd0a2);}}function getEloColor(_0x29bbb6){const _0x2c782a=a4_0x1411ce,_0x4c95ae=Number(_0x29bbb6);if(_0x4c95ae>=0x7d0)return _0x2c782a(0xfc);else{if(_0x4c95ae>=0x708)return _0x2c782a(0x71);else{if(_0x4c95ae>=0x640)return'#b9f1fc';else{if(_0x4c95ae>=0x578)return _0x2c782a(0xe9);else return'#808080';}}}}function formatDate(_0x2306d9,_0x3127d0=![]){const _0x162c61=a4_0x1411ce;if(!_0x2306d9||!_0x2306d9[_0x162c61(0x76)])return _0x162c61(0x64);const _0x2c227f=new Date(_0x2306d9[_0x162c61(0x76)]*0x3e8);return _0x3127d0?_0x2c227f['toLocaleString']():_0x2c227f['toLocaleDateString']();}function truncateComment(_0x430657,_0x392d5b=0x1e){if(!_0x430657)return'-';if(_0x430657['length']<=_0x392d5b)return _0x430657;return _0x430657['substring'](0x0,_0x392d5b)+'...';}function formatCommentDate(_0x191fe1){const _0x286ad4=a4_0x1411ce;if(!_0x191fe1||!_0x191fe1[_0x286ad4(0x76)])return'';const _0x553ae3=new Date(_0x191fe1['seconds']*0x3e8),_0x5c434f=new Date(),_0x13c119=Math['abs'](_0x5c434f-_0x553ae3),_0x1590e2=Math['floor'](_0x13c119/(0x3e8*0x3c*0x3c*0x18));if(_0x1590e2===0x0)return'Today';else{if(_0x1590e2===0x1)return'Yesterday';else return _0x1590e2<0x7?_0x1590e2+_0x286ad4(0x7d):_0x553ae3['toLocaleDateString']();}}function setLoadingIndicator(_0x5f61c1){const _0x59d940=a4_0x1411ce,_0x4a129c=document[_0x59d940(0x10b)]('loading-indicator');if(_0x4a129c)_0x4a129c['style']['display']=_0x5f61c1?'block':_0x59d940(0xe4);}export function updatePreviewLadderModeUI(){const _0x2e2187=a4_0x1411ce,_0x44355d=document[_0x2e2187(0x10b)](_0x2e2187(0x9d)),_0x43f401=document['getElementById'](_0x2e2187(0x114)),_0x1ba820=document['getElementById']('preview-d2-button'),_0x164daf=document[_0x2e2187(0x10b)]('preview-d3-button');if(_0x44355d)_0x44355d[_0x2e2187(0x69)]=previewState['currentMode'];if(_0x43f401)_0x43f401[_0x2e2187(0xf7)]['toggle']('active',previewState['currentMode']==='D1');if(_0x1ba820)_0x1ba820['classList']['toggle']('active',previewState['currentMode']==='D2');if(_0x164daf)_0x164daf['classList']['toggle']('active',previewState['currentMode']==='D3');}function updatePreviewPaginationControls(_0x2fdccb){const _0x33b6f8=a4_0x1411ce,_0x35c469=document['getElementById']('previewPrevPage'),_0x49bb43=document['getElementById']('previewNextPage'),_0x580d25=document['getElementById']('previewPageInfo');if(!_0x35c469||!_0x49bb43||!_0x580d25)return;_0x580d25[_0x33b6f8(0x69)]='Page\x20'+previewState[_0x33b6f8(0x6e)],_0x35c469['disabled']=previewState['currentPage']<=0x1,_0x49bb43[_0x33b6f8(0xea)]=!_0x2fdccb;}function setPreviewLoadingState(_0x3ec354){const _0x216b8c=a4_0x1411ce;previewState['isLoading']=_0x3ec354,setLoadingIndicator(_0x3ec354);const _0xe2c06b=document['getElementById']('recent-matches-preview'),_0x247785=_0xe2c06b?_0xe2c06b['querySelector']('.matches-loading'):null,_0x3f4838=document[_0x216b8c(0x10b)]('previewPrevPage'),_0x10da85=document[_0x216b8c(0x10b)](_0x216b8c(0x97)),_0x2dae33=document['getElementById']('preview-d1-button'),_0x3f1651=document['getElementById'](_0x216b8c(0xa6)),_0x3f975d=document[_0x216b8c(0x10b)]('applyFilterBtn'),_0x1beafa=document['getElementById']('clearFilterBtn');if(_0x247785&&!_0x3ec354)_0x247785['style']['display']=_0x216b8c(0xe4);else _0x247785&&_0x3ec354&&(_0x247785[_0x216b8c(0x118)]['display']='block');!_0x3ec354&&_0xe2c06b&&!_0xe2c06b[_0x216b8c(0xbe)](_0x216b8c(0x100))&&!_0xe2c06b[_0x216b8c(0xbe)](_0x216b8c(0xc9))&&(_0xe2c06b['innerHTML']='<div\x20class=\x22matches-loading\x22>No\x20recent\x20matches\x20found'+(previewState['filterUsername']?'\x20matching\x20filters':'')+'.</div>');if(_0x3f4838)_0x3f4838['disabled']=_0x3ec354||previewState['currentPage']<=0x1;if(_0x10da85)_0x10da85['disabled']=_0x3ec354;if(_0x2dae33)_0x2dae33['disabled']=_0x3ec354;if(_0x3f1651)_0x3f1651[_0x216b8c(0xea)]=_0x3ec354;if(_0x3f975d)_0x3f975d[_0x216b8c(0xea)]=_0x3ec354;if(_0x1beafa)_0x1beafa['disabled']=_0x3ec354;}function applyClientFilters(_0x4eafc3){if(!previewState['filterUsername'])return _0x4eafc3;const _0x84ae1a=previewState['filterUsername']['toLowerCase']();return _0x4eafc3['filter'](_0x2abb56=>{const _0x1136cf=a4_0x4c65,_0x33e0a0=(_0x2abb56['winnerUsername']||'')['toLowerCase'](),_0x51bb71=(_0x2abb56[_0x1136cf(0x101)]||'')['toLowerCase']();return _0x33e0a0['includes'](_0x84ae1a)||_0x51bb71[_0x1136cf(0x10e)](_0x84ae1a);});}function applyEnhancedClientFilters(_0x28d8d4){if(!hasEnhancedFilters())return _0x28d8d4;return _0x28d8d4['filter'](_0x3db997=>{const _0x3ebbac=a4_0x4c65;if(previewState['enhancedFilters']['pilots']){const _0x16895e=previewState['enhancedFilters'][_0x3ebbac(0xe8)]['toLowerCase'](),_0x2063c8=(_0x3db997['winnerUsername']||'')['toLowerCase'](),_0xabb92=(_0x3db997['loserUsername']||'')['toLowerCase']();if(!_0x2063c8['includes'](_0x16895e)&&!_0xabb92['includes'](_0x16895e))return![];}if(previewState[_0x3ebbac(0x70)]['levels']){const _0x5e917f=previewState['enhancedFilters']['levels']['toLowerCase'](),_0x3b04e2=(_0x3db997['mapPlayed']||'')['toLowerCase']();if(!_0x3b04e2[_0x3ebbac(0x10e)](_0x5e917f))return![];}if(previewState['enhancedFilters']['subgames'][_0x3ebbac(0x119)]>0x0){const _0xeea2f7=_0x3db997[_0x3ebbac(0x125)]||'Standard\x20Match';if(!previewState[_0x3ebbac(0x70)][_0x3ebbac(0x117)][_0x3ebbac(0x10e)](_0xeea2f7))return![];}return!![];});}function hasEnhancedFilters(){const _0x35d8f6=a4_0x1411ce;return previewState[_0x35d8f6(0x70)]['pilots']||previewState[_0x35d8f6(0x70)]['levels']||previewState['enhancedFilters'][_0x35d8f6(0x117)]['length']>0x0;}function clearEnhancedFilters(){const _0x9fc2a9=a4_0x1411ce;previewState[_0x9fc2a9(0x70)]={'pilots':'','levels':'','subgames':[]},document['getElementById']('filter-pilots')[_0x9fc2a9(0x87)]='',document['getElementById']('filter-levels')['value']='';const _0x3aa5f0=document['getElementById'](_0x9fc2a9(0x77));for(let _0x52e5d0 of _0x3aa5f0[_0x9fc2a9(0xbf)]){_0x52e5d0['selected']=![];}}function jumpToPage(_0x1ea109){const _0x2fe29f=a4_0x1411ce,_0x358ba8=document[_0x2fe29f(0x10b)]('jump-to-page'),_0x4406a2=previewState['currentPage'];let _0x15b2d0=_0x4406a2;switch(_0x1ea109){case'start':_0x15b2d0=0x1;break;case'end':_0x15b2d0=Math['max'](_0x4406a2+0xa,previewState[_0x2fe29f(0xe2)]||_0x4406a2+0xa);break;case'+1':_0x15b2d0=_0x4406a2+0x1;break;case'+5':_0x15b2d0=_0x4406a2+0x5;break;case'+10':_0x15b2d0=_0x4406a2+0xa;break;case'-1':_0x15b2d0=Math['max'](0x1,_0x4406a2-0x1);break;case'-5':_0x15b2d0=Math['max'](0x1,_0x4406a2-0x5);break;case'-10':_0x15b2d0=Math[_0x2fe29f(0x11d)](0x1,_0x4406a2-0xa);break;case _0x2fe29f(0xb3):const _0x383cca=parseInt(_0x358ba8['value']);_0x383cca&&_0x383cca>0x0&&(_0x15b2d0=_0x383cca,_0x358ba8[_0x2fe29f(0x87)]='');break;}_0x15b2d0!==_0x4406a2&&_0x15b2d0>0x0&&(previewState['currentPage']=_0x15b2d0,loadRecentMatchesPreview('jump'));}function a4_0x4c65(_0x48a71b,_0x43c17f){const _0x5589b3=a4_0x3c30();return a4_0x4c65=function(_0x52863a,_0x463cdd){_0x52863a=_0x52863a-0x64;let _0x3c302a=_0x5589b3[_0x52863a];return _0x3c302a;},a4_0x4c65(_0x48a71b,_0x43c17f);}export async function loadRecentMatchesPreview(_0x1e5081=a4_0x1411ce(0x68)){const _0x21e68d=a4_0x1411ce,_0x3489cd=document['getElementById']('recent-matches-preview'),_0x1a97e8=document['getElementById'](_0x21e68d(0x10d));if(previewState['isLoading']||!_0x3489cd||!_0x1a97e8)return;_0x1e5081==='current'&&(console[_0x21e68d(0xa7)]('Clearing\x20cache\x20for\x20refresh/reset'),Object[_0x21e68d(0x122)](sessionStorage)['forEach'](_0x58bcba=>{_0x58bcba['includes']('previewCache_'+previewState['currentMode'])&&sessionStorage['removeItem'](_0x58bcba);}));let _0x54001d=previewState['currentPage'];if(_0x1e5081==='next')_0x54001d++;else{if(_0x1e5081===_0x21e68d(0x9c))_0x54001d--;else _0x1e5081===_0x21e68d(0x68)&&(_0x54001d=0x1,previewState['firstVisible']=null,previewState[_0x21e68d(0x108)]=null);}if(_0x54001d<0x1)_0x54001d=0x1;const _0x3da86e=previewState['currentPage'];previewState[_0x21e68d(0x6e)]=_0x54001d,updatePreviewPaginationControls(!![]);const _0x4dd041={'filterUsername':previewState['filterUsername']},_0x4ace8b=getCacheKey(previewState[_0x21e68d(0x98)],_0x54001d,_0x4dd041),_0x4747ac=_0x1e5081!=='current'?getCachedPage(_0x4ace8b):null;if(_0x4747ac){console['log']('Rendering\x20page\x20'+_0x54001d+_0x21e68d(0x92)),setPreviewLoadingState(!![]),renderMatchCards(_0x4747ac[_0x21e68d(0xab)]),updatePreviewPaginationControls(_0x4747ac[_0x21e68d(0x113)]),setPreviewLoadingState(![]);return;}console['log'](_0x21e68d(0xef)+_0x54001d+_0x21e68d(0xb8)),setPreviewLoadingState(!![]),_0x3489cd['innerHTML']='<div\x20class=\x22matches-loading\x22>Loading\x20recent\x20matches...</div>';const _0x5bf672=previewState['currentMode']==='D1'?'approvedMatches':previewState['currentMode']==='D2'?'approvedMatchesD2':'approvedMatchesD3',_0x27b578=previewState[_0x21e68d(0x98)]==='D1'?_0x21e68d(0xe5):'approvedAt';try{const _0x1c6fcc=collection(window['db'],_0x5bf672);let _0x2d658d=[orderBy(_0x27b578,_0x21e68d(0xa3))];if(_0x54001d===0x1)console['log']('Loading\x20first\x20page\x20from\x20Firestore'),_0x2d658d['push'](limit(previewState['matchesPerPage']));else{if(_0x1e5081==='next'&&previewState['lastVisible'])console['log']('Loading\x20next\x20page\x20using\x20cursor'),_0x2d658d['push'](startAfter(previewState['lastVisible'])),_0x2d658d['push'](limit(previewState['matchesPerPage']));else{console[_0x21e68d(0xa7)]('No\x20valid\x20cursor,\x20fetching\x20from\x20beginning\x20and\x20skipping\x20pages');const _0x4ade94=_0x54001d*previewState[_0x21e68d(0xd5)];_0x2d658d['push'](limit(_0x4ade94));}}const _0x5b44e8=query(_0x1c6fcc,..._0x2d658d),_0xc9f543=await getDocs(_0x5b44e8);let _0x1d0ae4=_0xc9f543['docs'];if(_0x54001d>0x1&&_0x1e5081!==_0x21e68d(0xb9)){const _0x25fed2=(_0x54001d-0x1)*previewState['matchesPerPage'];_0x1d0ae4=_0x1d0ae4[_0x21e68d(0x11a)](_0x25fed2,_0x25fed2+previewState['matchesPerPage']);}if(_0x1d0ae4['length']===0x0){console['log']('No\x20results\x20found\x20for\x20this\x20page');_0x1e5081==='next'&&(previewState['currentPage']=_0x3da86e,updatePreviewPaginationControls(![]));_0x3489cd['innerHTML']='<div\x20class=\x22matches-loading\x22>No\x20more\x20matches\x20to\x20display'+(previewState['filterUsername']?'\x20matching\x20filters':'')+'.</div>',setPreviewLoadingState(![]);return;}previewState['firstVisible']=_0x1d0ae4[0x0],previewState[_0x21e68d(0x108)]=_0x1d0ae4[_0x1d0ae4['length']-0x1];const _0x580f63=_0x1d0ae4[_0x21e68d(0xb4)](_0x5ae613=>({'id':_0x5ae613['id'],..._0x5ae613[_0x21e68d(0xaf)]()}));let _0x5b366e=![];if(_0x1d0ae4['length']===previewState['matchesPerPage']){const _0x39b9b3=query(_0x1c6fcc,orderBy(_0x27b578,'desc'),startAfter(previewState['lastVisible']),limit(0x1)),_0x408f35=await getDocs(_0x39b9b3);_0x5b366e=!_0x408f35[_0x21e68d(0xc6)];}const _0x2d2044=applyClientFilters(_0x580f63),_0x348377={'docsData':_0x580f63,'hasNextPage':_0x5b366e};cachePage(getCacheKey(previewState[_0x21e68d(0x98)],previewState['currentPage'],_0x4dd041),_0x348377);if(_0x54001d>0x1&&_0x1e5081!=='next')for(let _0x5457c6=0x1;_0x5457c6<_0x54001d;_0x5457c6++){const _0x48c7b8=(_0x5457c6-0x1)*previewState['matchesPerPage'],_0x327376=_0x48c7b8+previewState['matchesPerPage'],_0x45f38d=_0xc9f543[_0x21e68d(0x91)]['slice'](_0x48c7b8,_0x327376);if(_0x45f38d['length']>0x0){const _0x5382ce=_0x45f38d[_0x21e68d(0xb4)](_0x34a779=>({'id':_0x34a779['id'],..._0x34a779['data']()})),_0x550a54=!![];cachePage(getCacheKey(previewState['currentMode'],_0x5457c6,_0x4dd041),{'docsData':_0x5382ce,'hasNextPage':_0x550a54}),console[_0x21e68d(0xa7)]('Cached\x20intermediary\x20page\x20'+_0x5457c6);}}_0x2d2044[_0x21e68d(0x119)]===0x0&&previewState['filterUsername']?_0x3489cd['innerHTML']='<div\x20class=\x22matches-loading\x22>No\x20matches\x20found\x20matching\x20filter:\x20\x22'+previewState[_0x21e68d(0x7e)]+'\x22</div>':renderMatchCards(_0x2d2044),updatePreviewPaginationControls(_0x5b366e);}catch(_0x5d78de){console[_0x21e68d(0x109)](_0x21e68d(0x6f)+previewState['currentMode']+'\x20matches:',_0x5d78de),_0x3489cd['innerHTML']=_0x21e68d(0x11b)+_0x5d78de['message']+'</div>',updatePreviewPaginationControls(![]),previewState['currentPage']=_0x3da86e;}finally{setPreviewLoadingState(![]);}}async function renderMatchCards(_0x268386){const _0x225b76=a4_0x1411ce,_0x15a198=document['getElementById']('recent-matches-preview'),_0x115f0c=document['getElementById']('match-card-template');if(!_0x15a198||!_0x115f0c)return;!_0x15a198['querySelector']('.matches-loading[style*=\x22color:\x20red\x22]')&&(_0x15a198['innerHTML']='');if(!_0x268386||_0x268386['length']===0x0){if(!_0x15a198[_0x225b76(0xbe)]('.matches-loading[style*=\x22color:\x20red\x22]')){const _0x20d79c=hasEnhancedFilters()?'\x20matching\x20filters':previewState[_0x225b76(0x7e)]?_0x225b76(0x103):'';_0x15a198[_0x225b76(0xcd)]=_0x225b76(0xe7)+_0x20d79c+'.</div>';}return;}const _0xd40d60=applyEnhancedClientFilters(_0x268386);if(_0xd40d60['length']===0x0){_0x15a198['innerHTML']=_0x225b76(0x111);return;}const _0x5e92eb=_0xd40d60['map'](_0x390efb=>getAllCommentsForMatch(_0x390efb['id']));let _0x20768a=[];try{_0x20768a=await Promise['all'](_0x5e92eb);}catch(_0x4ace1a){console['error'](_0x225b76(0x89),_0x4ace1a),_0x20768a=_0xd40d60['map'](()=>[]);}const _0x2282c4={};_0x20768a['forEach']((_0x3fa603,_0x2b6bd9)=>{_0x2282c4[_0xd40d60[_0x2b6bd9]['id']]=_0x3fa603||[];}),_0xd40d60[_0x225b76(0xf4)](_0xd1f8a7=>{const _0x1e3eaa=_0x225b76,_0x53138b=_0x115f0c[_0x1e3eaa(0x6b)]['cloneNode'](!![]),_0x7bf772=_0x53138b[_0x1e3eaa(0xbe)]('.match-display-wrapper'),_0x2bb58a=_0x53138b['querySelector']('.match-card'),_0x2bc2ab=getEloRankClass(_0xd1f8a7['winnerOldElo']);_0x2bb58a['classList'][_0x1e3eaa(0x115)](_0x1e3eaa(0xdd)+_0x2bc2ab),_0x2bb58a['querySelector'](_0x1e3eaa(0xa9))[_0x1e3eaa(0x69)]=_0xd1f8a7[_0x1e3eaa(0xcc)]||_0x1e3eaa(0xbc),_0x2bb58a[_0x1e3eaa(0xbe)]('.match-date')['textContent']=formatDate(_0xd1f8a7['approvedAt']||_0xd1f8a7['createdAt']);const _0x4858a9=_0x2bb58a['querySelector']('.player.winner\x20.player-name');_0x4858a9['textContent']=_0xd1f8a7['winnerUsername']||_0x1e3eaa(0x8e),_0x4858a9['style']['color']=getEloColor(_0xd1f8a7[_0x1e3eaa(0x75)]),_0x2bb58a['querySelector']('.player.winner\x20.player-score')['textContent']=_0xd1f8a7['winnerScore']??0x0;const _0xdb4bdd=_0x2bb58a[_0x1e3eaa(0xbe)]('.player.winner\x20.player-suicides'),_0x3fcaeb=_0xd1f8a7[_0x1e3eaa(0xd2)]||0x0;_0xdb4bdd[_0x1e3eaa(0x69)]='S:\x20'+_0x3fcaeb;const _0x33fe7d=_0x2bb58a[_0x1e3eaa(0xbe)](_0x1e3eaa(0xe3));_0x33fe7d[_0x1e3eaa(0x69)]=_0xd1f8a7['loserUsername']||'Unknown',_0x33fe7d['style'][_0x1e3eaa(0x6d)]=getEloColor(_0xd1f8a7['loserOldElo']),_0x2bb58a['querySelector']('.player.loser\x20.player-score')[_0x1e3eaa(0x69)]=_0xd1f8a7[_0x1e3eaa(0xb0)]??0x0;const _0x45aad7=_0x2bb58a['querySelector']('.player.loser\x20.player-suicides'),_0x57de6d=_0xd1f8a7['loserSuicides']||0x0;_0x45aad7['textContent']='S:\x20'+_0x57de6d;const _0x491cf5=_0x2bb58a[_0x1e3eaa(0xbe)](_0x1e3eaa(0x7c));if(_0x491cf5){if(_0xd1f8a7['subgameType']&&_0xd1f8a7['subgameType']['trim']()!==''){_0x491cf5['textContent']=_0xd1f8a7['subgameType'],_0x491cf5['style'][_0x1e3eaa(0xbb)]='block';const _0x1cca50=getSubgameClass(_0xd1f8a7[_0x1e3eaa(0x125)]);_0x1cca50&&_0x491cf5['classList']['add'](_0x1cca50);}else _0x491cf5['textContent']='Standard\x20Match',_0x491cf5[_0x1e3eaa(0x118)]['display']=_0x1e3eaa(0xee),_0x491cf5['style']['opacity']=_0x1e3eaa(0x81);}const _0x47dadf=_0x2bb58a['querySelector']('.comment.winner-comment'),_0x2b7e62=_0x2bb58a['querySelector'](_0x1e3eaa(0xb5)),_0x4127a2=_0xd1f8a7['winnerComment']||'',_0x124d1c=_0xd1f8a7['loserComment']||'',_0x4ed6cd=_0xd1f8a7[_0x1e3eaa(0xf6)]||_0xd1f8a7[_0x1e3eaa(0xe5)],_0x35f2b0=filterComment(_0x4127a2,_0xd1f8a7['winnerUsername'],_0x4ed6cd),_0x3b3ed9=filterComment(_0x124d1c,_0xd1f8a7[_0x1e3eaa(0x101)],_0x4ed6cd);_0x47dadf['textContent']='\x22'+truncateComment(_0x4127a2)+'\x22',_0x2b7e62['textContent']='\x22'+truncateComment(_0x124d1c)+'\x22';_0x4127a2&&!isUsernameMuted(_0xd1f8a7[_0x1e3eaa(0x105)],_0x4ed6cd)?_0x47dadf['onclick']=()=>showPreviewCommentPopup(_0x35f2b0,_0xd1f8a7['winnerUsername']||'Winner',getEloColor(_0xd1f8a7['winnerOldElo'])):(_0x47dadf['textContent']=_0x35f2b0==='Muted.'?_0x1e3eaa(0x7a):'-',_0x47dadf['style'][_0x1e3eaa(0x110)]='default',_0x47dadf[_0x1e3eaa(0xb2)]=null);_0x124d1c&&!isUsernameMuted(_0xd1f8a7[_0x1e3eaa(0x101)])?_0x2b7e62[_0x1e3eaa(0xb2)]=()=>showPreviewCommentPopup(_0x3b3ed9,_0xd1f8a7['loserUsername']||'Loser',getEloColor(_0xd1f8a7['loserOldElo'])):(_0x2b7e62[_0x1e3eaa(0x69)]=_0x3b3ed9==='Muted.'?_0x1e3eaa(0x7a):'-',_0x2b7e62[_0x1e3eaa(0x118)][_0x1e3eaa(0x110)]='default',_0x2b7e62['onclick']=null);const _0x1f539a=_0x7bf772?.['querySelector']('.community-comments-section');if(!_0x1f539a)console['warn'](_0x1e3eaa(0x11e));else{const _0x3274bd=_0x1f539a['querySelector'](_0x1e3eaa(0x104)),_0x552cbc=_0x3274bd?.['querySelector'](_0x1e3eaa(0xeb)),_0x571df3=_0x1f539a['querySelector'](_0x1e3eaa(0x99));if(_0x3274bd){while(_0x3274bd[_0x1e3eaa(0xa0)]&&_0x3274bd['firstChild']!==_0x552cbc){_0x3274bd[_0x1e3eaa(0xca)](_0x3274bd['firstChild']);}_0x571df3&&_0x571df3['addEventListener']('click',()=>{showAddCommentPopup(_0xd1f8a7['id']);});const _0x249959=_0x2282c4[_0xd1f8a7['id']]||[];if(_0x249959['length']>0x0){if(_0x552cbc)_0x552cbc['style'][_0x1e3eaa(0xbb)]=_0x1e3eaa(0xe4);const _0x26fd88=(_0x34e1c9,_0x4d18ff)=>{const _0x3bccfc=_0x1e3eaa,_0xb174a9=_0x34e1c9['split']('\x20');if(_0xb174a9[_0x3bccfc(0x119)]<=_0x4d18ff)return _0x34e1c9;return _0xb174a9['slice'](0x0,_0x4d18ff)['join']('\x20')+'...';};_0x249959['forEach'](_0x1a1a82=>{const _0x1fcfa0=_0x1e3eaa,_0x35da4f=document['createElement']('div');if(_0x1a1a82['type']==='demo'){_0x35da4f[_0x1fcfa0(0xd1)]=_0x1fcfa0(0x107),_0x35da4f[_0x1fcfa0(0xcd)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22'+_0x1a1a82[_0x1fcfa0(0xac)]+'\x22\x20target=\x22_blank\x22\x20class=\x22play-icon\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<svg\x20viewBox=\x220\x200\x2024\x2024\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<path\x20d=\x22M8,5.14V19.14L19,12.14L8,5.14Z\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</svg>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22demo-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22demo-author\x22>Demo\x20from\x20'+_0x1a1a82['username']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22demo-description\x22>'+(_0x1a1a82[_0x1fcfa0(0xad)]||'No\x20description\x20provided')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x321c21=window['auth']['currentUser'],_0x449b8e=_0x321c21&&_0x1a1a82[_0x1fcfa0(0xc1)]===_0x321c21['uid'];if(_0x449b8e){const _0x354671=document['createElement']('button');_0x354671['className']='delete-comment-btn',_0x354671['innerHTML']='×',_0x354671['setAttribute']('aria-label','Delete\x20demo'),_0x354671[_0x1fcfa0(0xa2)]('click',_0x48a4ed=>{_0x48a4ed['preventDefault'](),_0x48a4ed['stopPropagation'](),deleteComment(_0x1a1a82['id'],_0x35da4f);}),_0x35da4f['appendChild'](_0x354671);}}else{_0x35da4f['className']='comment-item';const _0x23fb86=isUsernameMuted(_0x1a1a82['username'],_0x1a1a82['timestamp']),_0x3345cf=_0x23fb86?_0x1fcfa0(0x7a):_0x26fd88(_0x1a1a82['text']||'',0xf),_0x557451=_0x1a1a82['username']||_0x1fcfa0(0x10c),_0x2379c7=window['auth'][_0x1fcfa0(0x102)],_0x4f86ed=_0x2379c7&&_0x1a1a82['userId']===_0x2379c7['uid'];let _0x46cd1a='';_0x4f86ed&&(_0x46cd1a='<button\x20class=\x22delete-comment-btn\x22\x20aria-label=\x22Delete\x20comment\x22>×</button>');_0x35da4f['innerHTML']=_0x46cd1a+_0x1fcfa0(0x126)+_0x557451+':</strong>\x20\x22'+_0x3345cf+'\x22';if(_0x4f86ed){const _0x4d02bd=_0x35da4f['querySelector'](_0x1fcfa0(0xb6));_0x4d02bd&&_0x4d02bd['addEventListener']('click',_0xa1724a=>{_0xa1724a['stopPropagation'](),deleteComment(_0x1a1a82['id'],_0x35da4f);});}!_0x23fb86?_0x35da4f[_0x1fcfa0(0xa2)]('click',()=>{showFullCommentLightbox(_0x1a1a82);}):_0x35da4f['style']['cursor']='default';}_0x3274bd['insertBefore'](_0x35da4f,_0x3274bd[_0x1fcfa0(0xa0)]);});}else{if(_0x552cbc)_0x552cbc['style']['display']='block';}}}const _0x4aa38d=_0x2bb58a[_0x1e3eaa(0xbe)]('.match-demo-links');if(_0x4aa38d){const _0x5cfc77=_0x2bb58a[_0x1e3eaa(0xbe)](_0x1e3eaa(0xa4)),_0x5c422a=_0x2bb58a[_0x1e3eaa(0xbe)](_0x1e3eaa(0xa5)),_0x22eb3e=_0xd1f8a7[_0x1e3eaa(0x80)]||null,_0x3b3277=_0xd1f8a7['loserDemoLink']||_0xd1f8a7['demoLink']||null;console['log'](_0x1e3eaa(0xaa)+_0xd1f8a7['id']+_0x1e3eaa(0xd7),{'winner':_0x22eb3e,'loser':_0x3b3277}),_0x5cfc77&&(_0x22eb3e?(_0x5cfc77[_0x1e3eaa(0xd0)]=_0x22eb3e,_0x5cfc77['style']['display']=_0x1e3eaa(0x120),_0x5cfc77[_0x1e3eaa(0x94)]=_0xd1f8a7[_0x1e3eaa(0x105)]+'\x27s\x20Demo'):_0x5cfc77['style']['display']='none'),_0x5c422a&&(_0x3b3277?(_0x5c422a['href']=_0x3b3277,_0x5c422a['style']['display']='flex',_0x5c422a['title']=_0xd1f8a7['loserUsername']+'\x27s\x20Demo'):_0x5c422a['style'][_0x1e3eaa(0xbb)]='none'),_0x22eb3e&&_0x5cfc77||_0x3b3277&&_0x5c422a?_0x4aa38d['style'][_0x1e3eaa(0xbb)]='flex':_0x4aa38d['style']['display']=_0x1e3eaa(0xe4);}_0x15a198['appendChild'](_0x53138b);});}function getSubgameClass(_0x5068f3){const _0x1429bf=a4_0x1411ce,_0x196636={'Fusion\x20Match':_0x1429bf(0xbd),'≥6\x20Missiles':_0x1429bf(0xd3),'≥6\x20missiles':'missiles-6plus','Weapon\x20Imbalance':'weapon-imbalance','Blind\x20Match':_0x1429bf(0xf5),'Rematch':_0x1429bf(0xda),'Disorientation':'disorientation','Ratting':'ratting','Altered\x20Powerups':'altered-powerups','Mega\x20Match':_0x1429bf(0x65),'Dogfight':'dogfight','Gauss\x20and\x20Mercs':'gauss-and-mercs'};return _0x196636[_0x5068f3]||'';}async function deleteComment(_0x137da3,_0x365869){const _0x36ec84=a4_0x1411ce,_0x5229a8=window[_0x36ec84(0xb1)]['currentUser'];if(!_0x5229a8){alert(_0x36ec84(0xc2));return;}if(!confirm('Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20comment?'))return;try{const _0x6978=doc(window['db'],'matchComments',_0x137da3),_0x1c5c62=await getDoc(_0x6978);if(!_0x1c5c62[_0x36ec84(0x10a)]()){alert('Comment\x20not\x20found.\x20It\x20may\x20have\x20already\x20been\x20deleted.');return;}const _0x2ce082=_0x1c5c62[_0x36ec84(0xaf)]();if(_0x2ce082['userId']!==_0x5229a8[_0x36ec84(0xd8)]){alert('You\x20can\x20only\x20delete\x20your\x20own\x20comments');return;}await deleteDoc(_0x6978);if(_0x365869&&_0x365869[_0x36ec84(0x8f)]){_0x365869['parentNode'][_0x36ec84(0xca)](_0x365869);const _0xe05a36=_0x365869[_0x36ec84(0x73)]('.comments-container');if(_0xe05a36&&!_0xe05a36['querySelector'](_0x36ec84(0x8b))){const _0x7a9db4=_0xe05a36['querySelector'](_0x36ec84(0xeb));if(_0x7a9db4)_0x7a9db4['style']['display']='block';}}console[_0x36ec84(0xa7)]('Comment\x20deleted\x20successfully');}catch(_0x4ad4e3){console['error'](_0x36ec84(0xfd),_0x4ad4e3),alert('Failed\x20to\x20delete\x20comment:\x20'+_0x4ad4e3[_0x36ec84(0xdb)]);}}async function getAllCommentsForMatch(_0x2cfdbf){const _0x4871a3=a4_0x1411ce;if(!_0x2cfdbf)return[];try{const _0x1d24eb=collection(window['db'],'matchComments'),_0x12bf05=query(_0x1d24eb,where(_0x4871a3(0x8c),'==',_0x2cfdbf),orderBy('timestamp',_0x4871a3(0xa3))),_0x5c60c9=await getDocs(_0x12bf05);if(_0x5c60c9['empty'])return[];return _0x5c60c9['docs']['map'](_0x46756c=>({'id':_0x46756c['id'],..._0x46756c[_0x4871a3(0xaf)]()}));}catch(_0xab2989){return console['error'](_0x4871a3(0xde),_0xab2989),[];}}async function submitComment(_0x3d5ae2){const _0x508f9b=a4_0x1411ce;_0x3d5ae2['preventDefault']();if(!window['auth']||!window['db']){console['error'](_0x508f9b(0x112)),alert(_0x508f9b(0x7b));return;}const _0x103526=window[_0x508f9b(0xb1)]['currentUser'];if(!_0x103526){alert(_0x508f9b(0xed));return;}const _0x11d071=document[_0x508f9b(0x10b)]('commentMatchId')?.[_0x508f9b(0x87)],_0x2980c7=document['getElementById'](_0x508f9b(0x124))?.[_0x508f9b(0x87)]?.['trim']();if(!_0x11d071||!_0x2980c7){alert('Please\x20enter\x20a\x20comment\x20before\x20submitting');return;}const _0x564013=_0x2980c7['split'](/\s+/)['filter'](_0x45fac1=>_0x45fac1['length']>0x0)[_0x508f9b(0x119)];if(_0x564013>0xf){alert('Comments\x20are\x20limited\x20to\x2015\x20words\x20maximum.\x20Please\x20shorten\x20your\x20comment.');return;}const _0x69ed10=document[_0x508f9b(0xbe)]('.submit-comment-btn');_0x69ed10&&(_0x69ed10[_0x508f9b(0xea)]=!![],_0x69ed10['textContent']=_0x508f9b(0xcb));try{let _0x510a2d=_0x508f9b(0x10c);try{const _0x3df90e=doc(window['db'],_0x508f9b(0x90),_0x103526[_0x508f9b(0xd8)]),_0x376a72=await getDoc(_0x3df90e);if(_0x376a72['exists']()){const _0x16e274=_0x376a72[_0x508f9b(0xaf)]();_0x16e274['username']&&(_0x510a2d=_0x16e274['username']);}_0x510a2d==='Anonymous'&&_0x103526['displayName']&&(_0x510a2d=_0x103526[_0x508f9b(0xdf)]);}catch(_0x145711){console['warn']('Failed\x20to\x20fetch\x20user\x20profile:',_0x145711),_0x103526['displayName']&&(_0x510a2d=_0x103526['displayName']);}const _0x5878af={'matchId':_0x11d071,'userId':_0x103526['uid'],'username':_0x510a2d,'text':_0x2980c7,'timestamp':serverTimestamp()};console[_0x508f9b(0xa7)]('Submitting\x20comment\x20as:',_0x510a2d);const _0x182872=collection(window['db'],'matchComments');await addDoc(_0x182872,_0x5878af),console[_0x508f9b(0xa7)]('Comment\x20added\x20successfully'),closeAddCommentPopup(),loadRecentMatchesPreview('current');}catch(_0x181b31){console['error']('Error\x20submitting\x20comment:',_0x181b31),alert('Failed\x20to\x20add\x20comment:\x20'+_0x181b31['message']),_0x69ed10&&(_0x69ed10['disabled']=![],_0x69ed10['textContent']=_0x508f9b(0x72));}}function closeAddCommentPopup(){const _0x257830=a4_0x1411ce,_0x53bff8=document['getElementById']('commentAddPopup'),_0x2f8afb=document[_0x257830(0x10b)]('commentAddOverlay');if(_0x53bff8)_0x53bff8['style']['display']='none';if(_0x2f8afb)_0x2f8afb['style']['display']='none';}function showAddCommentPopup(_0xe01466){const _0x2dc346=a4_0x1411ce,_0x349df9=window[_0x2dc346(0xb1)]['currentUser'];if(!_0x349df9){alert('You\x20need\x20to\x20be\x20signed\x20in\x20to\x20leave\x20a\x20comment\x20or\x20add\x20a\x20demo');return;}let _0x35f5a9=document[_0x2dc346(0x10b)]('commentAddPopup'),_0xfb0ccd=document['getElementById']('commentAddOverlay');!_0x35f5a9&&(_0x35f5a9=document[_0x2dc346(0xf1)](_0x2dc346(0x9a)),_0x35f5a9['id']=_0x2dc346(0x7f),_0x35f5a9['className']='comment-popup',document['body']['appendChild'](_0x35f5a9));!_0xfb0ccd&&(_0xfb0ccd=document['createElement']('div'),_0xfb0ccd['id']='commentAddOverlay',_0xfb0ccd['className']='comment-overlay',document['body']['appendChild'](_0xfb0ccd));_0x35f5a9['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22popup-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Add\x20Comment\x20or\x20Demo</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22closeAddCommentPopup\x22\x20class=\x22close-btn\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22addCommentForm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22commentMatchId\x22\x20name=\x22commentMatchId\x22\x20value=\x22'+_0xe01466+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-tabs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22option-tab\x20active\x22\x20data-option=\x22comment\x22>Add\x20Comment</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22option-divider\x22>OR</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22option-tab\x22\x20data-option=\x22demo\x22>Share\x20Demo\x20Link</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-content\x22\x20id=\x22commentOption\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22commentText\x22>Your\x20comment\x20(15\x20words\x20max):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22commentText\x22\x20name=\x22commentText\x22\x20rows=\x223\x22\x20placeholder=\x22Share\x20your\x20thoughts...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22word-counter\x22><span\x20id=\x22wordCount\x22>0</span>/15\x20words</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-content\x22\x20id=\x22demoOption\x22\x20style=\x22display:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22demoLink\x22>Demo\x20Link:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22url\x22\x20id=\x22demoLink\x22\x20name=\x22demoLink\x22\x20placeholder=\x22https://...\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22demoDescription\x22>Description\x20(20\x20words\x20max):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22demoDescription\x22\x20name=\x22demoDescription\x22\x20rows=\x222\x22\x20placeholder=\x22Describe\x20your\x20demo...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22word-counter\x22><span\x20id=\x22demoWordCount\x22>0</span>/20\x20words</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22submit\x22\x20class=\x22submit-comment-btn\x22>Submit</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</form>\x0a\x20\x20\x20\x20',_0x35f5a9[_0x2dc346(0x118)]['display']=_0x2dc346(0xee),_0xfb0ccd['style']['display']=_0x2dc346(0xee),document['getElementById']('closeAddCommentPopup')[_0x2dc346(0xa2)](_0x2dc346(0x96),closeAddCommentPopup),_0xfb0ccd['addEventListener'](_0x2dc346(0x96),closeAddCommentPopup);const _0x17f52b=_0x35f5a9['querySelectorAll'](_0x2dc346(0xce));_0x17f52b['forEach'](_0x3487ec=>{const _0x3a09b3=_0x2dc346;_0x3487ec['addEventListener'](_0x3a09b3(0x96),function(){const _0x336a5c=_0x3a09b3;_0x17f52b['forEach'](_0x4d6c88=>_0x4d6c88[_0x336a5c(0xf7)]['remove']('active')),document['querySelectorAll'](_0x336a5c(0x67))[_0x336a5c(0xf4)](_0x3fafb2=>_0x3fafb2['style']['display']=_0x336a5c(0xe4)),this['classList']['add']('active');const _0x4b06ee=this['dataset'][_0x336a5c(0xc4)];document['getElementById'](_0x4b06ee+_0x336a5c(0xf9))['style'][_0x336a5c(0xbb)]='block',_0x4b06ee==='demo'?(document['getElementById']('demoLink')[_0x336a5c(0xc5)]('required',''),document['getElementById']('commentText')['removeAttribute']('required')):(document['getElementById']('demoLink')['removeAttribute']('required'),document['getElementById'](_0x336a5c(0x124))[_0x336a5c(0xc5)]('required',''));});}),document[_0x2dc346(0x10b)]('commentText')['setAttribute']('required',''),document[_0x2dc346(0x10b)](_0x2dc346(0xac))[_0x2dc346(0x10f)]('required'),setupWordCounter('commentText','wordCount',0xf),setupWordCounter(_0x2dc346(0xd4),_0x2dc346(0xe6),0x14),document[_0x2dc346(0x10b)]('addCommentForm')['addEventListener'](_0x2dc346(0x84),submitCommentOrDemo);}function setupWordCounter(_0xbbc592,_0x302551,_0x252442){const _0x209dce=a4_0x1411ce,_0x5137a2=document['getElementById'](_0xbbc592),_0x418a43=document[_0x209dce(0x10b)](_0x302551);if(!_0x5137a2||!_0x418a43)return;_0x52d916(),_0x5137a2[_0x209dce(0xa2)]('input',_0x52d916);function _0x52d916(){const _0x29db9c=_0x209dce,_0x3cae65=_0x5137a2['value']['trim'](),_0x16ad08=_0x3cae65?_0x3cae65['split'](/\s+/)[_0x29db9c(0xfe)](_0x29009d=>_0x29009d['length']>0x0)['length']:0x0;_0x418a43[_0x29db9c(0x69)]=_0x16ad08,_0x16ad08>_0x252442?_0x418a43['style']['color']='#ff4444':_0x418a43[_0x29db9c(0x118)]['color']=_0x29db9c(0x9f);}}async function submitCommentOrDemo(_0x15277e){const _0x573972=a4_0x1411ce;_0x15277e[_0x573972(0xff)]();if(!window['auth']||!window['db']){console['error']('Firebase\x20not\x20initialized'),alert('Unable\x20to\x20submit\x20-\x20system\x20not\x20ready');return;}const _0x1de06a=window['auth']['currentUser'];if(!_0x1de06a){alert('You\x20must\x20be\x20signed\x20in\x20to\x20continue');return;}const _0xd94e2f=document['getElementById']('commentMatchId')['value'],_0x3ea8b6=document['querySelector'](_0x573972(0x106))['dataset'][_0x573972(0xc4)];let _0x3c8118='Anonymous';try{const _0x348a14=doc(window['db'],'userProfiles',_0x1de06a[_0x573972(0xd8)]),_0x36b9ca=await getDoc(_0x348a14);if(_0x36b9ca['exists']()){const _0x3916cc=_0x36b9ca['data']();_0x3916cc['username']&&(_0x3c8118=_0x3916cc[_0x573972(0xf8)]);}_0x3c8118===_0x573972(0x10c)&&_0x1de06a['displayName']&&(_0x3c8118=_0x1de06a['displayName']);}catch(_0x31f1a3){console['warn'](_0x573972(0x82),_0x31f1a3),_0x1de06a['displayName']&&(_0x3c8118=_0x1de06a['displayName']);}const _0x2028b0=document['querySelector']('.submit-comment-btn');_0x2028b0&&(_0x2028b0[_0x573972(0xea)]=!![],_0x2028b0[_0x573972(0x69)]='Submitting...');try{if(_0x3ea8b6==='comment'){const _0x2d4ae4=document[_0x573972(0x10b)]('commentText')['value']['trim']();if(!_0x2d4ae4){alert(_0x573972(0xd9)),_0x2028b0['disabled']=![],_0x2028b0[_0x573972(0x69)]=_0x573972(0x72);return;}const _0x54d82a=_0x2d4ae4['split'](/\s+/)['filter'](_0x412f91=>_0x412f91['length']>0x0)['length'];if(_0x54d82a>0xf){alert('Comments\x20are\x20limited\x20to\x2015\x20words\x20maximum.\x20Please\x20shorten\x20your\x20comment.'),_0x2028b0['disabled']=![],_0x2028b0['textContent']='Submit';return;}const _0xebf293={'matchId':_0xd94e2f,'userId':_0x1de06a[_0x573972(0xd8)],'username':_0x3c8118,'text':_0x2d4ae4,'type':'comment','timestamp':serverTimestamp()},_0x4e707e=collection(window['db'],'matchComments');await addDoc(_0x4e707e,_0xebf293);}else{const _0x28e8f3=document['getElementById']('demoLink')[_0x573972(0x87)][_0x573972(0xc3)](),_0x3769ac=document['getElementById']('demoDescription')[_0x573972(0x87)][_0x573972(0xc3)]()||_0x573972(0x85);if(!_0x28e8f3){alert('Please\x20enter\x20a\x20demo\x20link'),_0x2028b0['disabled']=![],_0x2028b0['textContent']='Submit';return;}try{new URL(_0x28e8f3);}catch(_0x543cb9){alert('Please\x20enter\x20a\x20valid\x20URL\x20for\x20the\x20demo\x20link'),_0x2028b0[_0x573972(0xea)]=![],_0x2028b0['textContent']=_0x573972(0x72);return;}const _0x2dc190=_0x3769ac['split'](/\s+/)[_0x573972(0xfe)](_0x2429b4=>_0x2429b4[_0x573972(0x119)]>0x0)[_0x573972(0x119)];if(_0x2dc190>0x14){alert('Demo\x20descriptions\x20are\x20limited\x20to\x2020\x20words\x20maximum.\x20Please\x20shorten\x20your\x20description.'),_0x2028b0['disabled']=![],_0x2028b0[_0x573972(0x69)]='Submit';return;}const _0x4dfcbf={'matchId':_0xd94e2f,'userId':_0x1de06a['uid'],'username':_0x3c8118,'demoLink':_0x28e8f3,'description':_0x3769ac,'type':_0x573972(0xa8),'text':'Demo:\x20'+_0x3769ac,'timestamp':serverTimestamp()},_0x50f5dc=collection(window['db'],'matchComments');await addDoc(_0x50f5dc,_0x4dfcbf);}closeAddCommentPopup(),loadRecentMatchesPreview('current');}catch(_0x572792){console['error']('Error\x20submitting:',_0x572792),alert(_0x573972(0xf0)+_0x572792['message']),_0x2028b0&&(_0x2028b0['disabled']=![],_0x2028b0['textContent']='Submit');}}function getEloRankClass(_0x3e9fe7){const _0x24a45a=a4_0x1411ce,_0x19f0b3=Number(_0x3e9fe7);if(_0x19f0b3>=0x7d0)return'emerald';else{if(_0x19f0b3>=0x708)return _0x24a45a(0x116);else{if(_0x19f0b3>=0x640)return'silver';else{if(_0x19f0b3>=0x578)return'bronze';else return'unranked';}}}}function showPreviewCommentPopup(_0x22e633,_0xfb7ab5,_0x5cdb92='#fff'){const _0x191626=a4_0x1411ce,_0x409fa0=document[_0x191626(0x10b)](_0x191626(0x11c)),_0x2bf4d4=document['getElementById']('commentOverlayPreview'),_0x254da1=document['getElementById']('commentPopupTitlePreview'),_0x1aaa8c=document[_0x191626(0x10b)]('commentPopupContentPreview'),_0x354abb=document['getElementById']('reportCommentButton');if(!_0x409fa0||!_0x2bf4d4||!_0x254da1||!_0x1aaa8c||!_0x354abb)return;_0x409fa0[_0x191626(0x78)]['commentText']=_0x22e633,_0x409fa0['dataset']['commentUser']=_0xfb7ab5,_0x254da1['style']['color']=_0x5cdb92,_0x254da1[_0x191626(0x69)]='Comment\x20from\x20'+_0xfb7ab5,_0x1aaa8c['textContent']=_0x22e633,_0x354abb['onclick']=reportComment,_0x409fa0['style'][_0x191626(0xbb)]='block',_0x2bf4d4['style'][_0x191626(0xbb)]=_0x191626(0xee);}function closePreviewCommentPopup(){const _0x60e15=a4_0x1411ce,_0x7c12cd=document['getElementById']('commentPopupPreview'),_0x2af9d4=document['getElementById'](_0x60e15(0xba));if(_0x7c12cd)_0x7c12cd['style']['display']=_0x60e15(0xe4);if(_0x2af9d4)_0x2af9d4['style'][_0x60e15(0xbb)]='none';}async function reportComment(){const _0xf845ee=a4_0x1411ce,_0x15eff9=window['auth'][_0xf845ee(0x102)];if(!_0x15eff9){alert('You\x20need\x20to\x20be\x20signed\x20in\x20to\x20report\x20comments');return;}if(!confirm('Are\x20you\x20sure\x20you\x20want\x20to\x20report\x20this\x20comment\x20as\x20inappropriate?'))return;try{const _0x5646a2=document['getElementById'](_0xf845ee(0x11c)),_0x289af8={'commentAuthor':_0x5646a2['dataset'][_0xf845ee(0x121)]||'Unknown\x20User','commentText':_0x5646a2['dataset']['commentText']||'','matchId':previewState['currentMatchId']||'','reportedBy':_0x15eff9['uid'],'reporterUsername':_0x15eff9['displayName']||'Anonymous\x20User','reportedAt':serverTimestamp()},_0x3ae0c6=collection(window['db'],'badComments');await addDoc(_0x3ae0c6,_0x289af8),alert('Thank\x20you.\x20The\x20comment\x20has\x20been\x20reported\x20and\x20will\x20be\x20reviewed.'),closePreviewCommentPopup();}catch(_0x2aad4c){console['error'](_0xf845ee(0x79),_0x2aad4c),alert(_0xf845ee(0x8d)+_0x2aad4c['message']);}}function showFullCommentLightbox(_0x3eb680){const _0x45010c=a4_0x1411ce;if(isUsernameMuted(_0x3eb680['username']))return;const _0x49f659=document['getElementById']('commentPopupPreview'),_0x14f96c=document[_0x45010c(0x10b)](_0x45010c(0xba)),_0x5591fa=document['getElementById'](_0x45010c(0xa1)),_0x3a801f=document['getElementById']('commentPopupContentPreview');if(!_0x49f659||!_0x14f96c||!_0x5591fa||!_0x3a801f)return;_0x5591fa['style']['color']='#fff',_0x5591fa['textContent']='Comment\x20from\x20'+_0x3eb680['username'];if(_0x3eb680[_0x45010c(0x123)]){const _0x3cbc80=new Date(_0x3eb680[_0x45010c(0x123)]['seconds']*0x3e8),_0x1174a8=_0x3cbc80['toLocaleString']();_0x3a801f['innerHTML']='<p>'+_0x3eb680['text']+_0x45010c(0xf3)+_0x1174a8+_0x45010c(0xcf);}else _0x3a801f['textContent']=_0x3eb680[_0x45010c(0xf2)];_0x49f659['dataset']['commentId']=_0x3eb680['id']||'',_0x49f659['dataset'][_0x45010c(0x121)]=_0x3eb680[_0x45010c(0xf8)]||'',_0x49f659['dataset']['commentText']=_0x3eb680[_0x45010c(0xf2)]||'',_0x49f659['dataset']['matchId']=_0x3eb680['matchId']||'';const _0x4f042f=_0x49f659[_0x45010c(0xbe)](_0x45010c(0xb7))||document[_0x45010c(0xf1)](_0x45010c(0x9a));!_0x49f659['querySelector'](_0x45010c(0xb7))?(_0x4f042f['className']=_0x45010c(0x9b),_0x4f042f['style'][_0x45010c(0xbb)]='flex',_0x4f042f['style']['justifyContent']='center',_0x4f042f['style'][_0x45010c(0xfb)]='10px',_0x4f042f['style'][_0x45010c(0x93)]='15px',_0x49f659['appendChild'](_0x4f042f)):_0x4f042f['innerHTML']='';const _0x485422=document['createElement']('button');_0x485422[_0x45010c(0x69)]='Close',_0x485422[_0x45010c(0xd1)]='popup-btn\x20close-btn',_0x485422['id']=_0x45010c(0xae),_0x485422['addEventListener'](_0x45010c(0x96),closePreviewCommentPopup);const _0x46589b=document['createElement']('button');_0x46589b['textContent']='Report',_0x46589b['className']='popup-btn\x20report-btn',_0x46589b[_0x45010c(0x118)]['backgroundColor']='#d32f2f',_0x46589b['addEventListener']('click',reportComment),_0x4f042f[_0x45010c(0xe0)](_0x485422),_0x4f042f['appendChild'](_0x46589b),_0x49f659[_0x45010c(0x118)]['display']=_0x45010c(0xee),_0x14f96c['style']['display']='block';}export function setupPreviewEventListeners(){const _0x5aa499=a4_0x1411ce,_0x3e54fe=document['getElementById']('previewPrevPage'),_0x2c2335=document[_0x5aa499(0x10b)](_0x5aa499(0x97)),_0x1f40d3=document[_0x5aa499(0x10b)]('preview-d1-button'),_0x194057=document['getElementById']('preview-d2-button'),_0x3a86cd=document[_0x5aa499(0x10b)]('preview-d3-button'),_0x5cbefa=document['getElementById']('filter-toggle-button'),_0x1dd91a=document['getElementById']('enhanced-filter-section');if(!_0x3e54fe||!_0x2c2335||!_0x1f40d3||!_0x194057||!_0x3a86cd||!_0x5cbefa||!_0x1dd91a){console['warn']('Preview\x20UI\x20or\x20Filter\x20elements\x20not\x20found,\x20cannot\x20attach\x20listeners.');return;}_0x3e54fe['addEventListener'](_0x5aa499(0x96),()=>{const _0x154f7c=_0x5aa499;if(!_0x3e54fe['disabled'])loadRecentMatchesPreview(_0x154f7c(0x9c));}),_0x2c2335['addEventListener']('click',()=>{const _0xadc3b8=_0x5aa499;if(!_0x2c2335['disabled'])loadRecentMatchesPreview(_0xadc3b8(0xb9));}),_0x1f40d3['addEventListener'](_0x5aa499(0x96),()=>{const _0x1981b2=_0x5aa499;previewState[_0x1981b2(0x98)]!=='D1'&&!previewState[_0x1981b2(0x11f)]&&(previewState['currentMode']='D1',updatePreviewLadderModeUI(),loadRecentMatchesPreview('current'));}),_0x194057[_0x5aa499(0xa2)]('click',()=>{const _0x56c168=_0x5aa499;previewState['currentMode']!=='D2'&&!previewState[_0x56c168(0x11f)]&&(previewState['currentMode']='D2',updatePreviewLadderModeUI(),loadRecentMatchesPreview('current'));}),_0x3a86cd['addEventListener']('click',()=>{const _0x27693d=_0x5aa499;previewState['currentMode']!=='D3'&&!previewState['isLoading']&&(previewState['currentMode']='D3',updatePreviewLadderModeUI(),loadRecentMatchesPreview(_0x27693d(0x68)));});_0x5cbefa&&_0x1dd91a&&_0x5cbefa['addEventListener']('click',()=>{const _0x301bbb=_0x1dd91a['style']['display']!=='none';_0x1dd91a['style']['display']=_0x301bbb?'none':'block',_0x5cbefa['classList']['toggle']('active',!_0x301bbb);});const _0x39084b=document['getElementById']('apply-enhanced-filters'),_0x56a778=document['getElementById']('clear-enhanced-filters');_0x39084b&&_0x39084b['addEventListener'](_0x5aa499(0x96),()=>{const _0x40c20f=_0x5aa499;previewState['enhancedFilters']['pilots']=document[_0x40c20f(0x10b)]('filter-pilots')[_0x40c20f(0x87)][_0x40c20f(0xc3)](),previewState['enhancedFilters'][_0x40c20f(0x74)]=document[_0x40c20f(0x10b)]('filter-levels')[_0x40c20f(0x87)]['trim']();const _0x3a78c2=document['getElementById']('filter-subgames');previewState['enhancedFilters'][_0x40c20f(0x117)]=Array['from'](_0x3a78c2['selectedOptions'])[_0x40c20f(0xb4)](_0x5a77e7=>_0x5a77e7[_0x40c20f(0x87)])['filter'](_0x592fa2=>_0x592fa2!==''),loadRecentMatchesPreview('current');});_0x56a778&&_0x56a778[_0x5aa499(0xa2)](_0x5aa499(0x96),()=>{const _0x36996c=_0x5aa499;clearEnhancedFilters(),loadRecentMatchesPreview(_0x36996c(0x68));});document['querySelectorAll'](_0x5aa499(0x9e))[_0x5aa499(0xf4)](_0x41aae0=>{const _0x2e869d=_0x5aa499;_0x41aae0['addEventListener'](_0x2e869d(0x96),()=>{const _0x4eef3c=_0x41aae0['dataset']['jump'];jumpToPage(_0x4eef3c);});});const _0x402885=document['getElementById'](_0x5aa499(0x6a));_0x402885&&_0x402885['addEventListener']('keypress',_0x380692=>{_0x380692['key']==='Enter'&&jumpToPage('input');});const _0x48ad84=document['getElementById']('closeCommentPopupPreview'),_0x3e223d=document['getElementById']('commentOverlayPreview');if(_0x48ad84)_0x48ad84[_0x5aa499(0xa2)](_0x5aa499(0x96),closePreviewCommentPopup);if(_0x3e223d)_0x3e223d['addEventListener']('click',closePreviewCommentPopup);const _0xd14114=document['getElementById']('closeAddCommentPopup'),_0x5cca05=document['getElementById']('commentAddOverlay'),_0x1901c0=document['getElementById'](_0x5aa499(0x86));if(_0xd14114)_0xd14114['addEventListener']('click',closeAddCommentPopup);if(_0x5cca05)_0x5cca05['addEventListener']('click',closeAddCommentPopup);if(_0x1901c0)_0x1901c0['addEventListener']('submit',submitComment);const _0x3db1d3=document['getElementById']('commentText'),_0x296b49=document['getElementById'](_0x5aa499(0x88));_0x3db1d3&&_0x296b49&&setupWordCounter('commentText','wordCount',0xf);}window['showAddCommentPopup']=showAddCommentPopup,window[a4_0x1411ce(0xd6)]=closeAddCommentPopup,window[a4_0x1411ce(0xdc)]=submitComment;