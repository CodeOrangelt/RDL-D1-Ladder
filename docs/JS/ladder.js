function a0_0x5e9a(){const _0x5ea3d5=['\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Rank</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Username</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>ELO</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Matches</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Wins</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Losses</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>K/D</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Win\x20Rate</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','players','pointer','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22width:\x2035px;\x20height:\x2035px;\x20margin-left:\x205px;\x20vertical-align:\x20middle;\x20object-fit:\x20contain;\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>','Recommendation\x20element\x20for\x20','oldEloRating','Gold','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','toLowerCase','1376257sopaJz','0.5','18BHaozl','get','#ladder\x20tbody','style','#C0C0C0','getDate','</span>','previousElo','visibility','elo-recommendation-text-d3','position','\x0a\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','MAX_SAFE_INTEGER','3nbDiKN','appendChild','.png\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22','Failed\x20to\x20load\x20ladder\x20data.\x20Please\x20try\x20again.','totalDeaths','{}.constructor(\x22return\x20this\x22)(\x20)','Set\x20your\x20username\x20to\x20see\x20recommended\x20opponents','length','6960FPdGcs','<img\x20src=\x22','body','Based\x20on\x20your\x20ELO\x20(','duos','change','active','has','totalMatches','tokenImage','desc','size','Bronze',';\x22>','brian2af@outlook.com','elo-recommendation-text-duos','elo','kda','toString','error','info','label[for=\x22duos-switch\x22]','eloRating','currentUser','gray','block','newElo','.trend-indicator','d1-ladder-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<strong>ðŸ”’\x20Duos\x20Ladder\x20-\x20Admin\x20Only</strong><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20style=\x22color:\x20#ccc;\x22>Currently\x20in\x20testing\x20phase</span>\x0a\x20\x20\x20\x20','playersD3','No\x20user\x20profile\x20found','equipped','6835800sanXND','\x20displaying\x20token:\x20','50708950EXOkYv','d3-switch','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','toUpperCase','Unranked','classList','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22profile.html?username=','losses','4333ehZrMd','ELO\x20history\x20collection\x20is\x20empty','#50C878','Looking\x20for\x20a\x20teammate?\x20Consider\x20<span\x20class=\x22recommendation-highlight\x22\x20style=\x22color:\x20','sort','You\x27re\x20not\x20registered\x20on\x20the\x20','loserScore','winnerUsername','data','winRate','0.85em','150972SWXmTu','preventDefault','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22','add','wins','country','find','1662192hiUhXH','forEach','#b9f1fc','set','getElementById','className','textContent','5934296DfyomF','role','loading-indicator',';\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22elo-container\x22\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22elo-value\x22>','none','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Complete\x20your\x20profile\x20to\x20see\x20recommended\x20opponents','elo-recommendation-text-d2','elo-recommendation-text-d1','map','log','duos-ladder-container','console','#FFD700','d3-ladder-container','querySelector','includes','teammate','points','bind','message','admin-only-message','DOMContentLoaded','You\x27re\x20not\x20registered\x20on\x20the\x20DUOS\x20ladder','toFixed','&ladder=d1\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22color:\x20','playerUsername','timestamp','push','winnerScore','newEloRating','display','click','username','player','d2-ladder-container','Error\x20fetching\x20batch\x20match\x20stats:','email','inactive','remove','totalKills','uid'];a0_0x5e9a=function(){return _0x5ea3d5;};return a0_0x5e9a();}const a0_0x1962b3=a0_0x4d7f;(function(_0x3e2be1,_0x302188){const _0x516189=a0_0x4d7f,_0x153c82=_0x3e2be1();while(!![]){try{const _0xbaaa59=-parseInt(_0x516189(0x123))/0x1+-parseInt(_0x516189(0xe9))/0x2+parseInt(_0x516189(0x132))/0x3*(parseInt(_0x516189(0xe2))/0x4)+-parseInt(_0x516189(0xcd))/0x5+-parseInt(_0x516189(0x13a))/0x6*(-parseInt(_0x516189(0xd7))/0x7)+-parseInt(_0x516189(0xf0))/0x8*(parseInt(_0x516189(0x125))/0x9)+parseInt(_0x516189(0xcf))/0xa;if(_0xbaaa59===_0x302188)break;else _0x153c82['push'](_0x153c82['shift']());}catch(_0x2f553a){_0x153c82['push'](_0x153c82['shift']());}}}(a0_0x5e9a,0xbba4f));const a0_0x5325c1=(function(){let _0x14dcaf=!![];return function(_0x6597a8,_0x14e882){const _0x2e581e=_0x14dcaf?function(){if(_0x14e882){const _0x2bb35e=_0x14e882['apply'](_0x6597a8,arguments);return _0x14e882=null,_0x2bb35e;}}:function(){};return _0x14dcaf=![],_0x2e581e;};}()),a0_0x113012=a0_0x5325c1(this,function(){const _0xf8dc53=a0_0x4d7f,_0x3eb83e=function(){const _0x539168=a0_0x4d7f;let _0x33b6ca;try{_0x33b6ca=Function('return\x20(function()\x20'+_0x539168(0x137)+');')();}catch(_0x43384d){_0x33b6ca=window;}return _0x33b6ca;},_0x582216=_0x3eb83e(),_0x17a183=_0x582216['console']=_0x582216[_0xf8dc53(0xfc)]||{},_0x1f9950=['log','warn',_0xf8dc53(0xc0),'error','exception','table','trace'];for(let _0x17f93d=0x0;_0x17f93d<_0x1f9950['length'];_0x17f93d++){const _0x2db443=a0_0x5325c1['constructor']['prototype'][_0xf8dc53(0x103)](a0_0x5325c1),_0x25da64=_0x1f9950[_0x17f93d],_0x37faaa=_0x17a183[_0x25da64]||_0x2db443;_0x2db443['__proto__']=a0_0x5325c1[_0xf8dc53(0x103)](a0_0x5325c1),_0x2db443[_0xf8dc53(0xbe)]=_0x37faaa[_0xf8dc53(0xbe)]['bind'](_0x37faaa),_0x17a183[_0x25da64]=_0x2db443;}});a0_0x113012();import{db}from'./firebase-config.js';import{collection,getDocs,deleteDoc,doc,getDoc,query,where,updateDoc,Timestamp,onSnapshot,orderBy,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{getRankStyle}from'./ranks.js';import{displayLadderD2}from'./ladderd2.js';import{displayLadderD3}from'./ladderd3.js';import{getAuth}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';import{getLadderData,getEloHistoryBatch,setupEfficientListener}from'./services/firebaseService.js';import{displayLadderDuos}from'./ladderduos.js';import{getTokensByUsernames,getPrimaryDisplayToken}from'./tokens.js';function a0_0x4d7f(_0x472e49,_0xe51a72){const _0x4ff649=a0_0x5e9a();return a0_0x4d7f=function(_0x113012,_0x5325c1){_0x113012=_0x113012-0xbc;let _0x3848cc=_0x4ff649[_0x113012];return _0x3848cc;},a0_0x4d7f(_0x472e49,_0xe51a72);}const auth=getAuth();let activeListeners=[];export async function loadLadderData(_0x3bd790=0x1){const _0x52dbe8=a0_0x4d7f;try{document[_0x52dbe8(0xed)]('loading-indicator')['style']['display']=_0x52dbe8(0xc5);const _0x4a6b8a=await getLadderData(_0x3bd790);_0x4a6b8a[_0x52dbe8(0xdb)]((_0x318c81,_0x3555a5)=>_0x3555a5['elo']-_0x318c81[_0x52dbe8(0xbc)]);const _0x5028c3=_0x4a6b8a[_0x52dbe8(0xf9)](_0x4f560d=>_0x4f560d['id']),_0x3505f0=await getEloHistoryBatch(_0x5028c3,_0x3bd790),_0x366be2=_0x4a6b8a[_0x52dbe8(0xf9)]((_0x2eabcf,_0x544231)=>{const _0x5847e3=_0x52dbe8,_0x198c92=_0x3505f0[_0x2eabcf['id']]||[],_0x16a92c=_0x198c92['sort']((_0x3605f3,_0x58e06a)=>new Date(_0x58e06a['date'])-new Date(_0x3605f3['date']))['slice'](0x0,0x5);return{..._0x2eabcf,'rank':_0x544231+0x1,'lastMatches':_0x16a92c,'recentActivity':_0x16a92c[_0x5847e3(0x139)]>0x0};});renderLadder(_0x366be2),setupRealTimeUpdates(_0x3bd790);}catch(_0x25a69b){console['error']('Error\x20loading\x20ladder\x20data:',_0x25a69b),document['getElementById']('error-message')['innerText']=_0x52dbe8(0x135);}finally{document[_0x52dbe8(0xed)](_0x52dbe8(0xf2))['style']['display']='none';}}function setupRealTimeUpdates(_0x4d0bad=0x1){const _0x51e982=a0_0x4d7f;activeListeners[_0x51e982(0xea)](_0x488aa4=>_0x488aa4()),activeListeners=[];const _0x447e55=_0x4d0bad===0x1?'players':'playersD'+_0x4d0bad,_0x35b34f=_0x4d0bad===0x1?'matches':'matchesD'+_0x4d0bad,_0x12437a=new Date();_0x12437a['setDate'](_0x12437a[_0x51e982(0x12a)]()-0x1);const _0x47c4f4=setupEfficientListener(_0x35b34f,[where('date','>=',_0x12437a['toISOString']()),limit(0xa),orderBy('date',_0x51e982(0x144))],async _0x311f0f=>{_0x311f0f['length']>0x0&&await loadLadderData(_0x4d0bad);});activeListeners[_0x51e982(0x10c)](_0x47c4f4);}export function cleanupListeners(){activeListeners['forEach'](_0x14907f=>_0x14907f()),activeListeners=[];}function renderLadder(_0x207060){const _0x5f5b46=a0_0x4d7f,_0x32f268=document[_0x5f5b46(0xed)]('ladder-container');_0x32f268['innerHTML']='',_0x207060[_0x5f5b46(0xea)](_0x4a3f34=>{const _0x3b897c=_0x5f5b46,_0x860d6d=document['createElement']('div');_0x860d6d[_0x3b897c(0xee)]='ladder-player',_0x860d6d['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22rank\x22>#'+_0x4a3f34['rank']+'</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-name\x22>'+(_0x4a3f34[_0x3b897c(0x111)]||_0x4a3f34['id'])+'</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-elo\x22>'+_0x4a3f34['elo']+'</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-activity\x20'+(_0x4a3f34['recentActivity']?'active':_0x3b897c(0x116))+_0x3b897c(0xd1)+(_0x4a3f34['recentActivity']?'Active':'Inactive')+'\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x32f268[_0x3b897c(0x133)](_0x860d6d);});}const playerCache={'data':null,'timestamp':0x0},CACHE_DURATION=0x7530;async function displayLadder(_0x56ad6f=![]){const _0xe3a1e6=a0_0x4d7f,_0x247551=document[_0xe3a1e6(0xff)](_0xe3a1e6(0x127));if(!_0x247551){console['error']('Ladder\x20table\x20body\x20not\x20found');return;}_0x247551['innerHTML']='<tr><td\x20colspan=\x228\x22\x20class=\x22loading-cell\x22>Loading\x20ladder\x20data...</td></tr>';try{const _0x3a1c98=Date['now']();if(!_0x56ad6f&&playerCache['data']&&_0x3a1c98-playerCache['timestamp']<CACHE_DURATION){console[_0xe3a1e6(0xfa)]('Using\x20cached\x20D1\x20ladder\x20data'),updateLadderDisplay(playerCache['data']);return;}const _0x500431=collection(db,'players'),_0x19b836=await getDocs(_0x500431),_0x28fe55=[];_0x19b836['forEach'](_0x1fe96c=>{const _0x5c919f=_0xe3a1e6,_0x2b6431=_0x1fe96c[_0x5c919f(0xdf)]();_0x28fe55['push']({..._0x2b6431,'id':_0x1fe96c['id'],'elo':_0x2b6431[_0x5c919f(0xc2)]||0x0,'position':_0x2b6431[_0x5c919f(0x12f)]||Number[_0x5c919f(0x131)]});});const _0x4bcd1c=collection(db,'userProfiles'),_0xee3a9=await getDocs(_0x4bcd1c),_0x5f07e6=new Map();_0xee3a9['forEach'](_0x305da1=>{const _0x45c1b7=_0xe3a1e6,_0x38cf2a=_0x305da1['data']();_0x38cf2a['username']&&_0x5f07e6['set'](_0x38cf2a['username'][_0x45c1b7(0x122)](),_0x38cf2a);}),_0x28fe55['forEach'](_0x189e52=>{const _0x2b2c02=_0xe3a1e6,_0x52ba18=_0x189e52[_0x2b2c02(0x111)]?.['toLowerCase']();if(_0x52ba18&&_0x5f07e6['has'](_0x52ba18)){const _0x4a486a=_0x5f07e6['get'](_0x52ba18);_0x4a486a['country']&&(_0x189e52['country']=_0x4a486a['country']['toLowerCase']()),_0x189e52[_0x2b2c02(0x102)]=_0x4a486a['points']||0x0;}else _0x189e52[_0x2b2c02(0x102)]=0x0;});const _0x20a99c=_0x28fe55[_0xe3a1e6(0xf9)](_0x17ca19=>_0x17ca19['username']),_0x1362ff=await fetchBatchMatchStats(_0x20a99c);_0x28fe55['sort']((_0x4d4206,_0x7f2c81)=>{const _0x3cf951=_0xe3a1e6,_0x54f1f8=_0x1362ff['get'](_0x4d4206['username'])?.[_0x3cf951(0x142)]||0x0,_0xd82c45=_0x1362ff[_0x3cf951(0x126)](_0x7f2c81['username'])?.['totalMatches']||0x0;if(_0x54f1f8===0x0!==(_0xd82c45===0x0))return _0x54f1f8===0x0?0x1:-0x1;return(_0x4d4206[_0x3cf951(0x12f)]||0x3e7)-(_0x7f2c81[_0x3cf951(0x12f)]||0x3e7);}),_0x28fe55['forEach']((_0x5bc02e,_0x30dabd)=>{const _0x4d9361=_0xe3a1e6;_0x5bc02e[_0x4d9361(0x12f)]=_0x30dabd+0x1;}),playerCache['data']=_0x28fe55,playerCache[_0xe3a1e6(0x10b)]=_0x3a1c98,updateLadderDisplay(_0x28fe55,_0x1362ff);}catch(_0x1a6cc8){console['error']('Error\x20loading\x20ladder:',_0x1a6cc8),_0x247551['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x228\x22\x20style=\x22text-align:\x20center;\x20color:\x20red;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20ladder\x20data:\x20'+_0x1a6cc8[_0xe3a1e6(0x104)]+_0xe3a1e6(0xf5);}}async function fetchBatchMatchStats(_0x400e5f){const _0xa53842=a0_0x4d7f,_0x1d3051=new Map();try{_0x400e5f['forEach'](_0x44e632=>{_0x1d3051['set'](_0x44e632,{'totalMatches':0x0,'wins':0x0,'losses':0x0,'totalKills':0x0,'totalDeaths':0x0,'kda':0x0,'winRate':0x0,'points':0x0});});const _0x276912=collection(db,'approvedMatches'),_0x2f6c49=await getDocs(_0x276912);_0x2f6c49['forEach'](_0xd8330d=>{const _0x4a6a51=a0_0x4d7f,_0x387273=_0xd8330d['data'](),_0x29d057=_0x387273[_0x4a6a51(0xde)],_0x3bc944=_0x387273['loserUsername'];if(_0x400e5f[_0x4a6a51(0x100)](_0x29d057)){const _0x5e653d=_0x1d3051['get'](_0x29d057);_0x5e653d['wins']++,_0x5e653d[_0x4a6a51(0x142)]++,_0x5e653d['totalKills']+=parseInt(_0x387273[_0x4a6a51(0x10d)])||0x0,_0x5e653d['totalDeaths']+=parseInt(_0x387273[_0x4a6a51(0xdd)])||0x0;}if(_0x400e5f['includes'](_0x3bc944)){const _0xa9d6d9=_0x1d3051['get'](_0x3bc944);_0xa9d6d9['losses']++,_0xa9d6d9['totalMatches']++,_0xa9d6d9['totalKills']+=parseInt(_0x387273['loserScore'])||0x0,_0xa9d6d9[_0x4a6a51(0x136)]+=parseInt(_0x387273['winnerScore'])||0x0;}}),_0x400e5f['forEach'](_0x4f5b77=>{const _0xd93dba=a0_0x4d7f,_0xa2ef57=_0x1d3051[_0xd93dba(0x126)](_0x4f5b77);_0xa2ef57[_0xd93dba(0xbd)]=_0xa2ef57[_0xd93dba(0x136)]>0x0?(_0xa2ef57[_0xd93dba(0x118)]/_0xa2ef57[_0xd93dba(0x136)])['toFixed'](0x2):_0xa2ef57['totalKills'][_0xd93dba(0x108)](0x2),_0xa2ef57[_0xd93dba(0xe0)]=_0xa2ef57['totalMatches']>0x0?(_0xa2ef57['wins']/_0xa2ef57[_0xd93dba(0x142)]*0x64)['toFixed'](0x1):0x0;});}catch(_0x2e83fd){console[_0xa53842(0xbf)](_0xa53842(0x114),_0x2e83fd);}return _0x1d3051;}function createPlayerRow(_0x1d397f,_0x363c1b){const _0x687302=a0_0x4d7f,_0x2962c1=parseFloat(_0x1d397f['elo'])||0x0;let _0x2093b9='#DC143C';if(_0x363c1b['totalMatches']===0x0)_0x2093b9='#DC143C';else{if(_0x363c1b[_0x687302(0xe0)]>=0x50&&_0x363c1b['totalMatches']>=0x14)_0x2093b9='#50C878';else{if(_0x2962c1>=0x2bc)_0x2093b9=_0x687302(0xfd);else{if(_0x2962c1>=0x1f4)_0x2093b9='#C0C0C0';else _0x2962c1>=0xc8&&(_0x2093b9='#CD7F32');}}}let _0x503a8f='';return _0x1d397f['country']&&(_0x503a8f='<img\x20src=\x22../images/flags/'+_0x1d397f[_0x687302(0xe7)]['toLowerCase']()+_0x687302(0x134)+_0x1d397f['country']+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22player-flag\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22margin-left:\x205px;\x20vertical-align:\x20middle;\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>'),'\x0a\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x1d397f['position']+_0x687302(0xd5)+encodeURIComponent(_0x1d397f['username'])+'&ladder=d1\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22color:\x20'+_0x2093b9+';\x20text-decoration:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1d397f['username']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x503a8f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22color:\x20'+_0x2093b9+_0x687302(0xf3)+_0x2962c1+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22trend-indicator\x22\x20style=\x22margin-left:\x205px;\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x363c1b['totalMatches']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x363c1b[_0x687302(0xe6)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x363c1b['losses']+_0x687302(0x121)+_0x363c1b['kda']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x363c1b['winRate']+'%</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x363c1b['points']+'</td>\x0a\x20\x20\x20\x20</tr>';}function getPlayerRankName(_0x5b7792,_0x21759b=0x0,_0x59ed86=0x0){const _0x454af8=a0_0x4d7f;if(_0x21759b===0x0)return'Unranked';if(_0x5b7792>=0x3e8&&_0x59ed86>=0x50&&_0x21759b>=0x14)return'Emerald';if(_0x5b7792>=0x2bc)return _0x454af8(0x120);if(_0x5b7792>=0x1f4)return'Silver';if(_0x5b7792>=0xc8)return _0x454af8(0x146);return _0x454af8(0xd3);}async function getPlayersLastEloChanges(_0x1bf5a9){const _0x2e2062=a0_0x4d7f,_0x41955d=new Map();_0x1bf5a9['forEach'](_0x55272b=>{_0x41955d['set'](_0x55272b,0x0);});try{const _0x32906e=collection(db,_0x2e2062(0x11b)),_0x43e9cc=await getDocs(_0x32906e),_0x261693=new Map(),_0x4b5e1d=new Map();_0x43e9cc[_0x2e2062(0xea)](_0x4d87cb=>{const _0x4f6054=_0x4d87cb['data']();_0x4f6054['username']&&(_0x261693['set'](_0x4d87cb['id'],_0x4f6054['username']),_0x4b5e1d['set'](_0x4f6054['username']['toLowerCase'](),_0x4d87cb['id']));});const _0x2853e2=collection(db,'eloHistory'),_0x5a63a6=query(_0x2853e2,orderBy('timestamp','desc'),limit(0x12c)),_0x4cdaca=await getDocs(_0x5a63a6);if(_0x4cdaca['empty'])return console[_0x2e2062(0xfa)](_0x2e2062(0xd8)),_0x41955d;if(_0x4cdaca['docs']['length']>0x0){const _0x9f3595=_0x4cdaca['docs'][0x0][_0x2e2062(0xdf)]();if(_0x9f3595['player']&&_0x261693[_0x2e2062(0x141)](_0x9f3595['player'])){}}const _0x4a8d67=new Map();let _0x4fee20=0x0;_0x4cdaca['forEach'](_0x17aa86=>{const _0x5c162c=_0x2e2062,_0x4a5dcd=_0x17aa86[_0x5c162c(0xdf)]();let _0x5ed41f=null;if(_0x4a5dcd[_0x5c162c(0x112)]&&_0x261693['has'](_0x4a5dcd['player']))_0x5ed41f=_0x261693['get'](_0x4a5dcd['player']);else{if(_0x4a5dcd[_0x5c162c(0x111)]&&_0x4b5e1d[_0x5c162c(0x141)](_0x4a5dcd['username'][_0x5c162c(0x122)]()))_0x5ed41f=_0x4a5dcd[_0x5c162c(0x111)];else _0x4a5dcd[_0x5c162c(0x10a)]&&_0x4b5e1d['has'](_0x4a5dcd['playerUsername']['toLowerCase']())&&(_0x5ed41f=_0x4a5dcd['playerUsername']);}_0x5ed41f&&_0x1bf5a9['includes'](_0x5ed41f)&&(_0x4fee20++,!_0x4a8d67[_0x5c162c(0x141)](_0x5ed41f)&&_0x4a8d67[_0x5c162c(0xec)](_0x5ed41f,[]),_0x4a8d67['get'](_0x5ed41f)['push']({..._0x4a5dcd,'timestamp':_0x4a5dcd['timestamp']?.['seconds']||0x0}));}),_0x4a8d67[_0x2e2062(0xea)]((_0xee9b39,_0x42221f)=>{const _0x199bf5=_0x2e2062;if(_0xee9b39['length']>0x0){_0xee9b39['sort']((_0x56eada,_0x321709)=>_0x321709['timestamp']-_0x56eada[_0x199bf5(0x10b)]);const _0x17fffb=_0xee9b39[_0x199bf5(0xe8)](_0x102dba=>_0x102dba[_0x199bf5(0x13f)]!==undefined||_0x102dba['newElo']!==undefined&&_0x102dba[_0x199bf5(0x12c)]!==undefined||_0x102dba['newEloRating']!==undefined&&_0x102dba['oldEloRating']!==undefined);if(_0x17fffb){let _0x3f784f;if(_0x17fffb['change']!==undefined)_0x3f784f=parseInt(_0x17fffb['change']);else{if(_0x17fffb['newElo']!==undefined&&entry['previousElo']!==undefined)_0x3f784f=parseInt(_0x17fffb[_0x199bf5(0xc6)])-parseInt(_0x17fffb['previousElo']);else _0x17fffb['newEloRating']!==undefined&&entry[_0x199bf5(0x11f)]!==undefined&&(_0x3f784f=parseInt(_0x17fffb[_0x199bf5(0x10e)])-parseInt(_0x17fffb['oldEloRating']));}!isNaN(_0x3f784f)&&_0x3f784f!==0x0&&_0x41955d[_0x199bf5(0xec)](_0x42221f,_0x3f784f);}}});}catch(_0x33deca){console['error']('Error\x20fetching\x20ELO\x20history:',_0x33deca);}return _0x41955d;}function createPlayerRowWithToken(_0x4b3514,_0x3bfaac,_0x790cf4){const _0xd9b36a=a0_0x4d7f,_0x68d601=parseFloat(_0x4b3514['elo'])||0x0;let _0x4f1d0f='#DC143C';if(_0x3bfaac['totalMatches']===0x0)_0x4f1d0f='#DC143C';else{if(_0x3bfaac[_0xd9b36a(0xe0)]>=0x50&&_0x3bfaac['totalMatches']>=0x14)_0x4f1d0f='#50C878';else{if(_0x68d601>=0x2bc)_0x4f1d0f='#FFD700';else{if(_0x68d601>=0x1f4)_0x4f1d0f='#C0C0C0';else _0x68d601>=0xc8&&(_0x4f1d0f='#CD7F32');}}}let _0x56099b='';_0x4b3514['country']&&(_0x56099b='<img\x20src=\x22../images/flags/'+_0x4b3514[_0xd9b36a(0xe7)]['toLowerCase']()+'.png\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22'+_0x4b3514['country']+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22player-flag\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22margin-left:\x205px;\x20vertical-align:\x20middle;\x20width:\x2020px;\x20height:\x20auto;\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>');let _0x5c4128='';return _0x790cf4&&(_0x5c4128=_0xd9b36a(0x13b)+_0x790cf4[_0xd9b36a(0x143)]+_0xd9b36a(0xe4)+_0x790cf4['tokenName']+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22player-token\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20title=\x22'+_0x790cf4['tokenName']+'\x20'+(_0x790cf4['equipped']?'(Equipped)':'')+_0xd9b36a(0x11d)),_0xd9b36a(0x130)+_0x4b3514['position']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22profile.html?username='+encodeURIComponent(_0x4b3514['username'])+_0xd9b36a(0x109)+_0x4f1d0f+';\x20text-decoration:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4b3514[_0xd9b36a(0x111)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x56099b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5c4128+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22color:\x20'+_0x4f1d0f+';\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22elo-container\x22\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22elo-value\x22>'+_0x68d601+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22trend-indicator\x22\x20style=\x22margin-left:\x205px;\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x3bfaac['totalMatches']+_0xd9b36a(0x121)+_0x3bfaac[_0xd9b36a(0xe6)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x3bfaac[_0xd9b36a(0xd6)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x3bfaac['kda']+_0xd9b36a(0x121)+_0x3bfaac['winRate']+'%</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22color:\x20gray;\x22>'+(_0x4b3514['points']||0x0)+'</td>\x0a\x20\x20\x20\x20</tr>';}async function updateLadderDisplay(_0x146703,_0x45e470=null){const _0x5e8038=a0_0x4d7f,_0x2c58af=document['querySelector']('#ladder\x20tbody');if(!_0x2c58af){console['error']('Ladder\x20table\x20body\x20not\x20found');return;}const _0x540249=document[_0x5e8038(0xff)]('#ladder\x20thead\x20tr');_0x540249&&(_0x540249['innerHTML']=_0x5e8038(0x11a));const _0xbec14e=_0x146703['map'](_0x4856a0=>_0x4856a0['username']);!_0x45e470&&(_0x45e470=await fetchBatchMatchStats(_0xbec14e));let _0x424a68=new Map();try{typeof clearTokenCache==='function'&&clearTokenCache(),_0x424a68=await getTokensByUsernames(_0xbec14e),console[_0x5e8038(0xfa)]('ðŸª™\x20Loaded\x20fresh\x20tokens\x20for',_0x424a68[_0x5e8038(0x145)],'players'),_0x424a68['forEach']((_0x25fbe1,_0xd8249c)=>{const _0x402181=_0x5e8038,_0x155de5=_0x25fbe1['find'](_0x69bab3=>_0x69bab3[_0x402181(0xcc)]);_0x155de5&&console[_0x402181(0xfa)]('ðŸŽ¯\x20'+_0xd8249c+'\x20has\x20equipped:\x20'+_0x155de5['tokenName']);});}catch(_0x43d473){console['error']('Error\x20fetching\x20tokens:',_0x43d473);}const _0x41199c=_0x146703['map'](_0x5c8ca4=>{const _0x21b510=_0x5e8038,_0x3ade60=_0x45e470['get'](_0x5c8ca4['username'])||{'totalMatches':0x0,'wins':0x0,'losses':0x0,'kda':0x0,'winRate':0x0,'totalKills':0x0,'totalDeaths':0x0},_0x2004f4=_0x424a68['get'](_0x5c8ca4['username'])||[],_0x3bfedf=getPrimaryDisplayToken(_0x2004f4);return _0x3bfedf&&console[_0x21b510(0xfa)]('ðŸŽ¨\x20'+_0x5c8ca4[_0x21b510(0x111)]+_0x21b510(0xce)+_0x3bfedf['tokenName']+'\x20(equipped:\x20'+_0x3bfedf[_0x21b510(0xcc)]+')'),createPlayerRowWithToken(_0x5c8ca4,_0x3ade60,_0x3bfedf);})['join']('');_0x2c58af['innerHTML']=_0x41199c,getPlayersLastEloChanges(_0xbec14e)['then'](_0x5750a0=>{const _0x5419aa=_0x5e8038,_0x10103a=new Map();_0x2c58af['querySelectorAll']('tr')['forEach']((_0x16f75f,_0x4da907)=>{const _0x1ee1dc=a0_0x4d7f;_0x4da907<_0xbec14e[_0x1ee1dc(0x139)]&&_0x10103a['set'](_0xbec14e[_0x4da907],_0x16f75f);}),_0x5750a0[_0x5419aa(0xea)]((_0x4211b9,_0x1d3c53)=>{const _0x10b87e=_0x5419aa,_0x134664=_0x10103a['get'](_0x1d3c53);if(_0x134664&&_0x4211b9!==0x0){const _0x423f65=_0x134664['querySelector']('td:nth-child(3)');if(_0x423f65){const _0x20271c=_0x4211b9>0x0?'+'+_0x4211b9:''+_0x4211b9,_0x4192d5=_0x423f65[_0x10b87e(0xff)](_0x10b87e(0xc7));_0x4192d5&&(_0x4192d5['textContent']=_0x20271c,_0x4192d5['style']['color']=_0x4211b9>0x0?'#4CAF50':'#F44336',_0x4192d5['style']['fontWeight']='bold',_0x4192d5[_0x10b87e(0x128)]['fontSize']=_0x10b87e(0xe1),_0x4192d5[_0x10b87e(0x128)]['display']='inline',_0x4192d5[_0x10b87e(0x128)][_0x10b87e(0x12d)]='visible',_0x4192d5['style']['opacity']='1');}}});})['catch'](_0x46b206=>console['error']('Error\x20updating\x20ELO\x20trend\x20indicators:',_0x46b206));}function initLadderToggles(){const _0x3cba30=a0_0x4d7f,_0x435fa7=document['getElementById']('d1-switch'),_0x317774=document['getElementById']('d2-switch'),_0x25ea27=document['getElementById'](_0x3cba30(0xd0)),_0x117731=document['getElementById']('duos-switch'),_0x2fbe21=document[_0x3cba30(0xed)]('d1-ladder-container'),_0x46b39d=document[_0x3cba30(0xed)]('d2-ladder-container'),_0x5d1e16=document['getElementById'](_0x3cba30(0xfe)),_0x1fe695=document['getElementById'](_0x3cba30(0xfb));function _0x1208ca(){const _0x1dee0d=_0x3cba30;if(_0x2fbe21)_0x2fbe21['classList']['remove']('active');if(_0x46b39d)_0x46b39d[_0x1dee0d(0xd4)]['remove'](_0x1dee0d(0x140));if(_0x5d1e16)_0x5d1e16['classList']['remove'](_0x1dee0d(0x140));if(_0x1fe695)_0x1fe695[_0x1dee0d(0x128)][_0x1dee0d(0x10f)]='none';if(_0x2fbe21)_0x2fbe21['style']['display']=_0x1dee0d(0xf4);if(_0x46b39d)_0x46b39d[_0x1dee0d(0x128)]['display']='none';if(_0x5d1e16)_0x5d1e16[_0x1dee0d(0x128)][_0x1dee0d(0x10f)]=_0x1dee0d(0xf4);}_0x435fa7&&_0x435fa7['addEventListener']('click',()=>{const _0x2d8139=_0x3cba30;console['log']('D1\x20toggle\x20clicked'),_0x1208ca();_0x2fbe21&&(_0x2fbe21['classList']['add']('active'),_0x2fbe21[_0x2d8139(0x128)][_0x2d8139(0x10f)]='block');document[_0x2d8139(0xed)]('elo-recommendation-text-d1')[_0x2d8139(0x128)]['display']=_0x2d8139(0xc5),document[_0x2d8139(0xed)](_0x2d8139(0xf7))['style']['display']='none',document['getElementById']('elo-recommendation-text-d3')[_0x2d8139(0x128)]['display']='none';if(_0x435fa7)_0x435fa7['classList'][_0x2d8139(0xe5)]('active');if(_0x317774)_0x317774['classList']['remove']('active');if(_0x25ea27)_0x25ea27['classList']['remove']('active');displayLadder(),findBestOpponent('d1');}),_0x317774&&_0x317774['addEventListener']('click',()=>{const _0x4d0f92=_0x3cba30;console['log']('D2\x20toggle\x20clicked'),_0x1208ca();_0x46b39d&&(_0x46b39d['classList']['add']('active'),_0x46b39d[_0x4d0f92(0x128)][_0x4d0f92(0x10f)]='block');document['getElementById']('elo-recommendation-text-d1')[_0x4d0f92(0x128)][_0x4d0f92(0x10f)]='none',document[_0x4d0f92(0xed)]('elo-recommendation-text-d2')[_0x4d0f92(0x128)][_0x4d0f92(0x10f)]='block',document[_0x4d0f92(0xed)]('elo-recommendation-text-d3')['style']['display']='none';if(_0x317774)_0x317774['classList'][_0x4d0f92(0xe5)]('active');if(_0x435fa7)_0x435fa7['classList']['remove']('active');if(_0x25ea27)_0x25ea27['classList'][_0x4d0f92(0x117)](_0x4d0f92(0x140));displayLadderD2(),findBestOpponent('d2');}),_0x25ea27&&_0x25ea27['addEventListener'](_0x3cba30(0x110),()=>{const _0x1951e5=_0x3cba30;console['log']('D3\x20toggle\x20clicked'),_0x1208ca();_0x5d1e16&&(_0x5d1e16['classList']['add']('active'),_0x5d1e16[_0x1951e5(0x128)]['display']='block');document['getElementById']('elo-recommendation-text-d1')[_0x1951e5(0x128)]['display']='none',document['getElementById']('elo-recommendation-text-d2')['style']['display']='none',document['getElementById'](_0x1951e5(0x12e))[_0x1951e5(0x128)]['display']='block';if(_0x25ea27)_0x25ea27['classList'][_0x1951e5(0xe5)]('active');if(_0x435fa7)_0x435fa7['classList']['remove']('active');if(_0x317774)_0x317774['classList'][_0x1951e5(0x117)]('active');displayLadderD3(),findBestOpponent('d3');}),_0x117731&&_0x117731['addEventListener']('click',()=>{const _0x41efdc=_0x3cba30;_0x1208ca();if(_0x1fe695)_0x1fe695['style']['display']=_0x41efdc(0xc5);displayLadderDuos(),findBestOpponent('duos'),document[_0x41efdc(0xed)](_0x41efdc(0x149))&&(document['getElementById']('elo-recommendation-text-duos')['style']['display']='block'),document[_0x41efdc(0xed)](_0x41efdc(0xf8))['style']['display']='none',document['getElementById']('elo-recommendation-text-d2')['style']['display']=_0x41efdc(0xf4),document['getElementById']('elo-recommendation-text-d3')['style']['display']=_0x41efdc(0xf4);});}document['addEventListener'](a0_0x1962b3(0x106),()=>{const _0x125fe4=a0_0x1962b3;initLadderToggles(),displayLadder(),findBestOpponent('d1'),document['getElementById'](_0x125fe4(0xf8))['style'][_0x125fe4(0x10f)]=_0x125fe4(0xc5);});export{displayLadder};async function findBestOpponent(_0xb187b5='d1'){const _0x172b55=a0_0x1962b3,_0x464283='elo-recommendation-text-'+_0xb187b5,_0x2397ab=document['getElementById'](_0x464283);if(!_0x2397ab){console['error'](_0x172b55(0x11e)+_0xb187b5+'\x20not\x20found');return;}const _0x1daff9=auth[_0x172b55(0xc3)];if(!_0x1daff9){_0x2397ab['textContent']='';return;}try{const _0x1b24c8=doc(db,'userProfiles',_0x1daff9['uid']),_0x3209cf=await getDoc(_0x1b24c8);if(!_0x3209cf['exists']()){console['log'](_0x172b55(0xcb)),_0x2397ab['textContent']=_0x172b55(0xf6);return;}const _0x575424=_0x3209cf['data'](),_0x7e6dd6=_0x575424['username'];if(!_0x7e6dd6){_0x2397ab[_0x172b55(0xef)]=_0x172b55(0x138);return;}let _0x41765c;switch(_0xb187b5){case'd1':_0x41765c='players';break;case'd2':_0x41765c='playersD2';break;case'd3':_0x41765c='playersD3';break;case _0x172b55(0x13e):_0x41765c='playersDuos';break;default:_0x41765c=_0x172b55(0x11b);}if(_0xb187b5===_0x172b55(0x13e)){const _0xb65af=collection(db,_0x41765c),_0x443cd3=query(_0xb65af,where('username','==',_0x7e6dd6)),_0x5977a5=await getDocs(_0x443cd3);if(_0x5977a5['empty']){_0x2397ab['textContent']=_0x172b55(0x107);return;}const _0x517e2a=_0x5977a5['docs'][0x0]['data'](),_0x4fa959=parseInt(_0x517e2a[_0x172b55(0xc2)])||0x4b0;if(_0x517e2a['hasTeam']&&_0x517e2a[_0x172b55(0x101)]){_0x2397ab['innerHTML']='You\x27re\x20teamed\x20with\x20<span\x20class=\x22recommendation-highlight\x22>'+_0x517e2a['teammate']+'</span>.\x20Challenge\x20other\x20teams!';return;}const _0x5cc5da=await getDocs(_0xb65af);let _0x3679c3=null,_0x3a6a51=-0x1;_0x5cc5da['forEach'](_0x207d48=>{const _0x8df34=_0x172b55,_0x23e41f=_0x207d48['data']();if(_0x23e41f['username']===_0x7e6dd6)return;if(_0x23e41f['hasTeam'])return;const _0x42d9d9=parseInt(_0x23e41f[_0x8df34(0xc2)])||0x4b0,_0x2de0aa=Math['abs'](_0x42d9d9-_0x4fa959),_0xa22929=Math['max'](0x0,0xc8-_0x2de0aa);_0xa22929>_0x3a6a51&&(_0x3679c3=_0x23e41f,_0x3a6a51=_0xa22929);});if(_0x3679c3){const _0x34c75a=parseInt(_0x3679c3[_0x172b55(0xc2)])||0x4b0;let _0x2f340b=_0x172b55(0xc4);if(_0x34c75a>=0x7d0)_0x2f340b=_0x172b55(0xd9);else{if(_0x34c75a>=0x708)_0x2f340b='#FFD700';else{if(_0x34c75a>=0x640)_0x2f340b=_0x172b55(0x129);else _0x34c75a>=0x578&&(_0x2f340b='#CD7F32');}}_0x2397ab['innerHTML']=_0x172b55(0xda)+_0x2f340b+_0x172b55(0x147)+_0x3679c3['username']+'</span>\x20(ELO:\x20'+_0x34c75a+')';}else _0x2397ab['textContent']='No\x20available\x20teammates\x20found.\x20More\x20players\x20needed\x20on\x20DUOS\x20ladder!';return;}const _0x2536bc=collection(db,_0x41765c),_0x1271f3=query(_0x2536bc,where(_0x172b55(0x111),'==',_0x7e6dd6)),_0xc91ddf=await getDocs(_0x1271f3);if(_0xc91ddf['empty']){_0x2397ab['textContent']=_0x172b55(0xdc)+_0xb187b5[_0x172b55(0xd2)]()+'\x20ladder';return;}const _0x4ff451=_0xc91ddf['docs'][0x0][_0x172b55(0xdf)](),_0x53d0ec=parseInt(_0x4ff451['eloRating'])||0x5dc,_0x1c8d7f=await getDocs(_0x2536bc);let _0x507189=null,_0x424c11=-0x1;const _0x20d0ab=getPlayerRankName(_0x53d0ec);_0x1c8d7f['forEach'](_0x23a003=>{const _0x5e58b3=_0x172b55,_0x5058af=_0x23a003['data']();if(_0x5058af['username']===_0x7e6dd6)return;const _0x46f724=parseInt(_0x5058af[_0x5e58b3(0xc2)])||0x5dc,_0x47142f=getPlayerRankName(_0x46f724),_0x42ea81=Math['abs'](_0x46f724-_0x53d0ec),_0x26a116=0x20,_0x4ecc83=0x1/(0x1+Math['pow'](0xa,(_0x46f724-_0x53d0ec)/0x190)),_0xe99981=Math['round'](_0x26a116*(0x1-_0x4ecc83));if(_0xe99981<=0x0)return;let _0x32e444=0x0;const _0x594f46=Math['max'](0x0,0x64-_0x42ea81*0.5),_0x47757c=_0xe99981>=0x3&&_0xe99981<=0x8?0x32:_0xe99981>0x0&&_0xe99981<0xf?0x1e:0xa,_0x314189=_0x20d0ab===_0x47142f?0x28:0x0;_0x32e444=_0x594f46+_0x47757c+_0x314189,_0x32e444>_0x424c11&&(_0x507189=_0x5058af,_0x424c11=_0x32e444);});if(_0x507189){const _0x1c4cfa=parseInt(_0x507189['eloRating'])||0x5dc;let _0x20eee7=_0x172b55(0xc4);if(_0x1c4cfa>=0x7d0)_0x20eee7='#50C878';else{if(_0x1c4cfa>=0x708)_0x20eee7='#FFD700';else{if(_0x1c4cfa>=0x640)_0x20eee7=_0x172b55(0xeb);else _0x1c4cfa>=0x578&&(_0x20eee7='#CD7F32');}}_0x2397ab['innerHTML']=_0x172b55(0x13d)+_0x53d0ec+'),\x20you\x20should\x20be\x20playing\x20<span\x20class=\x22recommendation-highlight\x22\x20style=\x22color:\x20'+_0x20eee7+';\x22>'+_0x507189[_0x172b55(0x111)]+_0x172b55(0x12b);}else _0x2397ab['innerHTML']='No\x20ideal\x20opponent\x20found\x20for\x20your\x20current\x20ELO\x20('+_0x53d0ec+')';}catch(_0x4008fc){console['error']('Error\x20finding\x20best\x20opponent:',_0x4008fc),_0x2397ab['textContent']='Error\x20finding\x20recommended\x20opponent';}}auth['onAuthStateChanged'](_0x28d58d=>{const _0x232d22=a0_0x1962b3,_0x7719af=document[_0x232d22(0xed)](_0x232d22(0xc8))&&document['getElementById']('d1-ladder-container')['style'][_0x232d22(0x10f)]!==_0x232d22(0xf4),_0x405aba=document['getElementById']('d2-ladder-container')&&document['getElementById'](_0x232d22(0x113))['style'][_0x232d22(0x10f)]!=='none',_0x4e6934=document[_0x232d22(0xed)](_0x232d22(0xfe))&&document['getElementById']('d3-ladder-container')[_0x232d22(0x128)]['display']!==_0x232d22(0xf4),_0xf80ba6=document['getElementById']('duos-ladder-container')&&document[_0x232d22(0xed)]('duos-ladder-container')['style'][_0x232d22(0x10f)]!=='none',_0x1c458b=_0x7719af?'d1':_0x405aba?'d2':_0x4e6934?'d3':_0xf80ba6?'duos':'d1';findBestOpponent(_0x1c458b);}),document['addEventListener'](a0_0x1962b3(0x106),()=>{const _0x4127ae=a0_0x1962b3,_0x43373a=document['getElementById']('duos-switch'),_0x3e41be=document[_0x4127ae(0xff)](_0x4127ae(0xc1));_0x43373a&&_0x3e41be&&(_0x43373a['addEventListener']('change',async _0x87657b=>{const _0x1a98f7=_0x4127ae;if(_0x87657b['target']['checked']){const _0x14e188=auth?.['currentUser'],_0x2e7872=await checkIfUserIsAdmin(_0x14e188);if(!_0x2e7872){_0x87657b[_0x1a98f7(0xe3)]();const _0x49a060=document[_0x1a98f7(0xed)]('d1-switch');return _0x49a060&&(_0x49a060['checked']=!![],_0x49a060['dispatchEvent'](new Event('change'))),showAdminOnlyMessage(),![];}}}),auth['onAuthStateChanged'](async _0x1d363e=>{const _0x11dca8=_0x4127ae,_0x26bde0=await checkIfUserIsAdmin(_0x1d363e);!_0x26bde0?(_0x43373a['disabled']=!![],_0x3e41be['style']['opacity']=_0x11dca8(0x124),_0x3e41be['style']['cursor']='not-allowed',_0x3e41be['title']='Duos\x20ladder\x20is\x20currently\x20admin-only'):(_0x43373a['disabled']=![],_0x3e41be['style']['opacity']='1',_0x3e41be[_0x11dca8(0x128)]['cursor']=_0x11dca8(0x11c),_0x3e41be['title']='');}));});async function checkIfUserIsAdmin(_0x56776f){const _0x5a8103=a0_0x1962b3;if(!_0x56776f)return![];try{const _0x118336=['admin@ladder.com',_0x5a8103(0x148)];if(_0x56776f['email']&&_0x118336['includes'](_0x56776f[_0x5a8103(0x115)]['toLowerCase']()))return!![];const _0x12e0ef=['userProfiles',_0x5a8103(0x11b),'playersD2',_0x5a8103(0xca)],_0xad3278=['admin','owner','council','creative\x20lead'];for(const _0x586f2b of _0x12e0ef){try{const _0x474991=doc(db,_0x586f2b,_0x56776f[_0x5a8103(0x119)]),_0x467a29=await getDoc(_0x474991);if(_0x467a29['exists']()){const _0xbfdf37=_0x467a29['data'](),_0xddc195=(_0xbfdf37['roleName']||_0xbfdf37[_0x5a8103(0xf1)]||'')['toLowerCase']();if(_0xddc195&&_0xad3278['includes'](_0xddc195))return!![];}}catch(_0x519cb8){console['warn']('Error\x20checking\x20'+_0x586f2b+':',_0x519cb8);}}return![];}catch(_0x577c2a){return console[_0x5a8103(0xbf)]('Error\x20checking\x20admin\x20status:',_0x577c2a),![];}}function showAdminOnlyMessage(){const _0x1bf707=a0_0x1962b3,_0x46cabf=document['getElementById']('admin-only-message');_0x46cabf&&_0x46cabf[_0x1bf707(0x117)]();const _0x1f1ebe=document['createElement']('div');_0x1f1ebe['id']=_0x1bf707(0x105),_0x1f1ebe['style']['cssText']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translate(-50%,\x20-50%);\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#2a2a2a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x202px\x20solid\x20#ff6b6b;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ff6b6b;\x0a\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.5);\x0a\x20\x20\x20\x20',_0x1f1ebe['innerHTML']=_0x1bf707(0xc9),document[_0x1bf707(0x13c)]['appendChild'](_0x1f1ebe),setTimeout(()=>{_0x1f1ebe['parentNode']&&_0x1f1ebe['remove']();},0xbb8);}