const a53_0x424c53=a53_0x4f0d,a53_0x2a4aa0=(function(){let _0x142fd0=!![];return function(_0x38b10,_0x239404){const _0x369062=_0x142fd0?function(){const _0x349680=a53_0x4f0d;if(_0x239404){const _0x1f74da=_0x239404[_0x349680(0x248)](_0x38b10,arguments);return _0x239404=null,_0x1f74da;}}:function(){};return _0x142fd0=![],_0x369062;};}()),a53_0x39ea85=a53_0x2a4aa0(this,function(){const _0x2d0baa=a53_0x4f0d,_0x10969d=function(){let _0x540d51;try{_0x540d51=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x1359a0){_0x540d51=window;}return _0x540d51;},_0x4a2392=_0x10969d(),_0x570272=_0x4a2392['console']=_0x4a2392[_0x2d0baa(0x230)]||{},_0x1acfed=['log','warn','info','error',_0x2d0baa(0x249),_0x2d0baa(0x21c),'trace'];for(let _0x57e902=0x0;_0x57e902<_0x1acfed['length'];_0x57e902++){const _0x2b5364=a53_0x2a4aa0[_0x2d0baa(0x227)]['prototype'][_0x2d0baa(0x1e5)](a53_0x2a4aa0),_0x3d4384=_0x1acfed[_0x57e902],_0x55c8f9=_0x570272[_0x3d4384]||_0x2b5364;_0x2b5364[_0x2d0baa(0x209)]=a53_0x2a4aa0['bind'](a53_0x2a4aa0),_0x2b5364[_0x2d0baa(0x1f7)]=_0x55c8f9['toString']['bind'](_0x55c8f9),_0x570272[_0x3d4384]=_0x2b5364;}});a53_0x39ea85();function a53_0x578c(){const _0x525bac=['findIndex','matchCount','Brick\x20Wall','getPlayerDataCached','set','loserUsername','from','bind','\x20vs\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-name\x22>','\x20already\x20has\x20','shouldRefreshCache','lastCleanup','Rematch','üèÜ\x20Brick\x20Wall\x20ribbon\x20awarded:\x20','üëë\x20NEW\x20Top\x20Rank\x20Achievement:\x20','log','docs','\x20underdog\x20victories\x20for\x20','evaluateExplorerRibbonFromCount','isUnderdogVictory','Gold','rematchWins','Play\x20over\x2050\x20subgame\x20matches','ribbons','toString','approvedMatchesD2','error','CACHE_DURATION',';\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getCacheKey','uniqueOpponents','loserRating','evaluateSubGamerRibbonFromCount','size','\x20ELO)','Played\x20over\x20100\x20matches','#55A3FF','Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Gold\x20rank','CACHE_KEY_PREFIX','evaluateAllRibbonsForPlayerOptimized','Explorer\x20Ribbon','Played\x20at\x20least\x2010\x20unique\x20pilots','__proto__','‚úÖ\x20Found\x20player\x20data\x20for\x20','uniqueMaps','Unranked','key',')\x20vs\x20Loser(','data','keys','autoCleanup','../images/ribbons/Socialite.png','Collector\x20Ribbon','matchCache','Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Emerald\x20rank','totalMatches','evaluateOverachieverRibbonFromCount','dominatedRanks','description','eloRating','delete','table','rating','üéØ\x20Found\x20','endsWith','replace','add','<div\x20class=\x22ribbon-devices\x22>','getItem','winnerUsername','#C0C0C0','get','constructor','wins','Overachiever\x20Ribbon','matchesPlayed','</div>','memoryCache','CLEANUP_INTERVAL','subgameType',',\x20Position\x20','console','üîç\x20Checking\x20Top\x20','\x20players,\x20Top:\x20','cleanup','Beat\x20a\x20pilot\x20ranked\x20higher\x20than\x20you','Domination\x20Ribbon','savePlayerRibbonsOptimized','\x20in\x20','username','undefined','setCachedData','Rematch\x20Ribbon','playerDataCache','mapPlayed','winnerRating','../images/ribbons/toprank.png','playersD3','Underdog\x20Ribbon','\x20matches','now','min','getCachedData','üîç\x20Checking\x20underdog:\x20Winner(','getCacheStats','apply','exception','push','forEach','isUnderdogVictoryFast','‚ö†Ô∏è\x20No\x20current\x20player\x20data\x20found\x20for\x20','timestamp','level','level-3','‚ùå\x20Error\x20fetching\x20matches:','all','üèÜ\x20Underdog\x20Ribbon\x20upgrade:\x20Level\x20','evaluateCollectorRibbonFromCount','has','stringify','#50C878',':\x20ELO\x20'];a53_0x578c=function(){return _0x525bac;};return a53_0x578c();}import{auth,db}from'./firebase-config.js';import{doc,getDoc,setDoc,collection,query,where,getDocs,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const RIBBON_DEFINITIONS={'Rematch\x20Ribbon':{'description':'Beat\x20a\x20pilot\x20with\x20the\x20\x22Rematch\x22\x20subgame\x20selected','image':'../images/ribbons/Rematch.png','color':'#FF6B6B'},'Overachiever\x20Ribbon':{'description':a53_0x424c53(0x202),'image':'../images/ribbons/Overachiever.png','color':'#96CEB4','levels':[0x64,0xc8,0x12c,0x190,0x1f4,0x258,0x2bc,0x320,0x384,0x3e8]},'Brick\x20Wall':{'description':'Amass\x20at\x20least\x2080%\x20overall\x20win\x20rate\x20percentage\x20(minimum\x2050\x20matches)','image':'../images/ribbons/BrickWall.png','color':'#F0932B','levels':[0x50,0x55,0x5a,0x5f,0x64]},'Collector\x20Ribbon':{'description':'Hold\x20more\x20than\x205\x20ribbons\x20at\x20a\x20time','image':'../images/ribbons/Collector.png','color':'#6C5CE7','levels':[0x5,0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32]},'Sub-Gamer\x20Ribbon':{'description':a53_0x424c53(0x1f5),'image':'../images/ribbons/Subgamer.png','color':'#A29BFE','levels':[0x32,0x64,0x96,0xc8,0xfa,0x12c,0x15e,0x190,0x1c2,0x1f4]},'Explorer\x20Ribbon':{'description':'Played\x20at\x20least\x2020\x20unique\x20maps','image':'../images/ribbons/Explorer.png','color':a53_0x424c53(0x203),'levels':[0x14,0x28,0x3c,0x50,0x64,0x78,0x8c,0xa0,0xb4,0xc8]},'Socialite\x20Ribbon':{'description':a53_0x424c53(0x208),'image':a53_0x424c53(0x212),'color':'#FF7675','levels':[0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32,0x37]},'Underdog\x20Ribbon':{'description':a53_0x424c53(0x234),'image':'../images/ribbons/Underdog.png','color':'#FF9500','levels':[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0x9,0xa]},'Domination\x20Ribbon':{'description':'Beat\x205\x20unique\x20pilots\x20in\x20a\x20rank\x20(including\x20your\x20own)','image':'../images/ribbons/Domination.png','color':'#8E44AD','levels':[0x1,0x2,0x3,0x4,0x5]},'Top\x20Bronze\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Bronze\x20rank','image':'../images/ribbons/toprank.png','color':'#CD7F32'},'Top\x20Silver\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Silver\x20rank','image':'../images/ribbons/toprank.png','color':a53_0x424c53(0x225)},'Top\x20Gold\x20Pilot':{'description':a53_0x424c53(0x204),'image':'../images/ribbons/toprank.png','color':'#FFD700'},'Top\x20Emerald\x20Pilot':{'description':a53_0x424c53(0x215),'image':a53_0x424c53(0x23f),'color':a53_0x424c53(0x257)}};export const RIBBON_CSS='\x0a/*\x20Stats\x20integration\x20styles\x20*/\x0a.ribbon-section\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-top:\x201rem;\x0a}\x0a\x0a.ribbon-stat-item.full-width\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-bottom:\x200;\x0a}\x0a\x0a/*\x20Military\x20Ribbon\x20Rack\x20Styling\x20-\x20NO\x20OUTER\x20CONTAINER\x20*/\x0a.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20padding:\x200;\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20box-shadow:\x20none;\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20align-items:\x20flex-start;\x0a}\x0a\x0a.ribbon-rack-empty-inline\x20{\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20padding:\x2060px\x2040px;\x0a\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20border-radius:\x2012px;\x0a\x20\x20\x20\x20border:\x202px\x20solid\x20rgba(255,\x20255,\x20255,\x200.1);\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a}\x0a\x0a.empty-rack-text\x20{\x0a\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20font-style:\x20italic;\x0a\x20\x20\x20\x20font-size:\x201.2rem;\x0a}\x0a\x0a/*\x20Ribbon\x20Rows\x20*/\x0a.ribbon-row\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x206px;\x0a\x20\x20\x20\x20margin-bottom:\x206px;\x0a\x20\x20\x20\x20justify-content:\x20flex-start;\x0a}\x0a\x0a.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20margin-left:\x2060px;\x0a}\x0a\x0a/*\x20Individual\x20Military\x20Ribbon\x20Styling\x20-\x20FIXED\x20OVERFLOW\x20FOR\x20LEVEL\x20INDICATOR\x20*/\x0a.military-ribbon\x20{\x0a\x20\x20\x20\x20position:\x20relative;\x0a\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20transition:\x20transform\x200.3s\x20ease;\x0a\x20\x20\x20\x20flex-shrink:\x200;\x0a\x20\x20\x20\x20width:\x20190px;\x0a\x20\x20\x20\x20height:\x2060px;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#333;\x0a\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20overflow:\x20visible;\x20/*\x20Changed\x20from\x20hidden\x20to\x20visible\x20*/\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20margin:\x2012px\x2012px\x2012px\x200;\x20/*\x20Added\x20margin\x20to\x20prevent\x20clipping\x20*/\x0a}\x0a\x0a.military-ribbon:hover\x20{\x0a\x20\x20\x20\x20transform:\x20translateY(-4px);\x0a\x20\x20\x20\x20z-index:\x2010;\x0a}\x0a\x0a/*\x20Ribbon\x20image\x20container\x20to\x20handle\x20the\x20actual\x20overflow\x20*/\x0a.ribbon-image-container\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20border-radius:\x201px;\x0a}\x0a\x0a.ribbon-image\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20object-fit:\x20cover;\x0a\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20image-rendering:\x20crisp-edges;\x0a}\x0a\x0a.ribbon-fallback\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20text-shadow:\x200\x202px\x204px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a}\x0a\x0a.ribbon-name\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.9);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201.2;\x0a\x20\x20\x20\x20margin-top:\x206px;\x0a\x20\x20\x20\x20max-width:\x20120px;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20text-overflow:\x20ellipsis;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20-24px;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20font-weight:\x20500;\x0a}\x0a\x0a.military-ribbon:hover\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20display:\x20block;\x0a}\x0a\x0a.ribbon-devices\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x2050%;\x0a\x20\x20\x20\x20right:\x206px;\x0a\x20\x20\x20\x20transform:\x20translateY(-50%);\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x203px;\x0a\x20\x20\x20\x20z-index:\x205;\x0a}\x0a\x0a.ribbon-device\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20text-shadow:\x200\x200\x204px\x20rgba(0,0,0,0.9);\x0a\x20\x20\x20\x20filter:\x20drop-shadow(0\x202px\x204px\x20rgba(0,0,0,0.8));\x0a}\x0a\x0a.bronze-star\x20{\x0a\x20\x20\x20\x20color:\x20#CD7F32;\x0a}\x0a\x0a.silver-star\x20{\x0a\x20\x20\x20\x20color:\x20#C0C0C0;\x0a}\x0a\x0a.gold-star\x20{\x0a\x20\x20\x20\x20color:\x20#FFD700;\x0a}\x0a\x0a/*\x20Level\x20indicator\x20-\x20NOW\x20FULLY\x20VISIBLE\x20*/\x0a.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x20-8px;\x0a\x20\x20\x20\x20right:\x20-8px;\x0a\x20\x20\x20\x20background:\x20#FFD700;\x0a\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20width:\x2024px;\x0a\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#FFF;\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x208px\x20rgba(0,0,0,0.7);\x0a\x20\x20\x20\x20z-index:\x206;\x0a}\x0a\x0a/*\x20Custom\x20tooltip\x20-\x20only\x20this\x20one\x20will\x20show\x20*/\x0a.military-ribbon::before\x20{\x0a\x20\x20\x20\x20content:\x20attr(data-tooltip);\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20100%;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20background:\x20rgba(0,0,0,0.95);\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20padding:\x208px\x2012px;\x0a\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20pointer-events:\x20none;\x0a\x20\x20\x20\x20transition:\x20opacity\x200.3s;\x0a\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20margin-bottom:\x208px;\x0a\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(255,\x20255,\x20255,\x200.2);\x0a}\x0a\x0a.military-ribbon:hover::before\x20{\x0a\x20\x20\x20\x20opacity:\x201;\x0a}\x0a\x0a/*\x20Responsive\x20adjustments\x20*/\x0a@media\x20(max-width:\x201024px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2034px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x208px\x208px\x208px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-6px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-6px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2052px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-20px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20768px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2028px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x206px\x206px\x206px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x209px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-5px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-5px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2042px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2011px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-18px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x205px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20480px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2070px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x205px\x205px\x205px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2036px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x204px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-4px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-4px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a.stats-grid\x20.ribbon-section\x20{\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20padding:\x200;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20{\x0a\x20\x20\x20\x20background-color:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20padding:\x2025px;\x0a\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20.stat-label\x20{\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20text-transform:\x20uppercase;\x0a\x20\x20\x20\x20opacity:\x200.9;\x0a\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.95);\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a}\x0a\x0a.ribbon-level-indicator.level-1\x20{\x20background:\x20#808080;\x20}\x0a.ribbon-level-indicator.level-2\x20{\x20background:\x20#CD7F32;\x20}\x0a.ribbon-level-indicator.level-3\x20{\x20background:\x20#b9f1fc;\x20}\x0a.ribbon-level-indicator.level-4\x20{\x20background:\x20#FFD700;\x20}\x0a.ribbon-level-indicator.level-5-plus\x20{\x20background:\x20#50C878;\x20}\x0a';class RibbonCacheManager{constructor(){const _0x5044f5=a53_0x424c53;this[_0x5044f5(0x22c)]=new Map(),this['CACHE_DURATION']=0x3c*0x3c*0x3e8,this['CACHE_KEY_PREFIX']='ribbon_cache_',this[_0x5044f5(0x1ea)]=Date[_0x5044f5(0x243)](),this['CLEANUP_INTERVAL']=0x1e*0x3c*0x3e8;}[a53_0x424c53(0x1fc)](_0x3ef972,_0x4218a6){const _0x7fb0cf=a53_0x424c53;return''+this[_0x7fb0cf(0x205)]+_0x3ef972+'_'+_0x4218a6;}['getCachedData'](_0x22dfe4,_0x2717f4){const _0x1ea7e4=a53_0x424c53;this['autoCleanup']();const _0x50c7e1=this['getCacheKey'](_0x22dfe4,_0x2717f4);if(this['memoryCache']['has'](_0x50c7e1)){const _0x43ffb4=this['memoryCache'][_0x1ea7e4(0x226)](_0x50c7e1);if(Date['now']()-_0x43ffb4['timestamp']<this['CACHE_DURATION'])return console['log']('üöÄ\x20Cache\x20hit\x20(memory)\x20for\x20'+_0x22dfe4),_0x43ffb4['data'];this[_0x1ea7e4(0x22c)][_0x1ea7e4(0x21b)](_0x50c7e1);}const _0x534dd2=localStorage[_0x1ea7e4(0x223)](_0x50c7e1);if(_0x534dd2)try{const _0x3c736b=JSON['parse'](_0x534dd2);if(Date['now']()-_0x3c736b['timestamp']<this[_0x1ea7e4(0x1fa)])return this[_0x1ea7e4(0x22c)][_0x1ea7e4(0x1e2)](_0x50c7e1,{'data':_0x3c736b['ribbons'],'timestamp':_0x3c736b['timestamp'],'matchCount':_0x3c736b['matchCount']}),console[_0x1ea7e4(0x1ee)]('üíæ\x20Cache\x20hit\x20(localStorage)\x20for\x20'+_0x22dfe4),_0x3c736b[_0x1ea7e4(0x1f6)];localStorage['removeItem'](_0x50c7e1);}catch(_0x262bbd){localStorage['removeItem'](_0x50c7e1);}return null;}['setCachedData'](_0x10b6be,_0x45549b,_0x178f77,_0x2a1bc1){const _0x579a8d=a53_0x424c53,_0x4aa637=this['getCacheKey'](_0x10b6be,_0x45549b),_0x549b23=Date['now']();this['memoryCache']['set'](_0x4aa637,{'data':_0x178f77,'timestamp':_0x549b23,'matchCount':_0x2a1bc1});try{const _0x303f88={'ribbons':_0x178f77,'matchCount':_0x2a1bc1,'timestamp':_0x549b23,'version':0x3};localStorage['setItem'](_0x4aa637,JSON['stringify'](_0x303f88));}catch(_0xe957b8){this['clearOldCache']();try{localStorage['setItem'](_0x4aa637,JSON[_0x579a8d(0x256)](data));}catch(_0x559864){}}}[a53_0x424c53(0x1e9)](_0x3c20c5,_0x19f458,_0x157e0e){const _0x5d69c9=a53_0x424c53,_0x5ae35b=this['getCacheKey'](_0x3c20c5,_0x19f458);if(this[_0x5d69c9(0x22c)]['has'](_0x5ae35b)){const _0x173323=this['memoryCache']['get'](_0x5ae35b);return _0x173323[_0x5d69c9(0x1df)]!==_0x157e0e;}const _0x41b894=localStorage[_0x5d69c9(0x223)](_0x5ae35b);if(_0x41b894)try{const _0x4e7d06=JSON['parse'](_0x41b894);return _0x4e7d06['matchCount']!==_0x157e0e;}catch(_0x4d646e){return!![];}return!![];}['invalidatePlayerCache'](_0x3e7524,_0x50ed30){const _0x71855c=a53_0x424c53,_0x1601ef=this[_0x71855c(0x1fc)](_0x3e7524,_0x50ed30);this[_0x71855c(0x22c)]['delete'](_0x1601ef),localStorage['removeItem'](_0x1601ef),console[_0x71855c(0x1ee)]('üóëÔ∏è\x20Invalidated\x20cache\x20for\x20'+_0x3e7524+'\x20('+_0x50ed30+')\x20-\x20new\x20match\x20detected');}['autoCleanup'](){const _0x1ef309=a53_0x424c53,_0x414df6=Date['now']();_0x414df6-this['lastCleanup']>this[_0x1ef309(0x22d)]&&(this[_0x1ef309(0x233)](),this['lastCleanup']=_0x414df6);}['cleanup'](){const _0x5affd5=a53_0x424c53,_0x2a80b2=Date['now']();let _0x2bedc2=0x0,_0x57d836=0x0;for(const [_0x31a5d0,_0x122f0f]of this[_0x5affd5(0x22c)]['entries']()){_0x2a80b2-_0x122f0f[_0x5affd5(0x24e)]>this['CACHE_DURATION']&&(this[_0x5affd5(0x22c)]['delete'](_0x31a5d0),_0x2bedc2++);}for(let _0x26b059=localStorage['length']-0x1;_0x26b059>=0x0;_0x26b059--){const _0x5c4f8b=localStorage[_0x5affd5(0x20d)](_0x26b059);if(_0x5c4f8b&&_0x5c4f8b['startsWith'](this['CACHE_KEY_PREFIX']))try{const _0x853666=JSON['parse'](localStorage['getItem'](_0x5c4f8b));_0x2a80b2-_0x853666[_0x5affd5(0x24e)]>this['CACHE_DURATION']&&(localStorage['removeItem'](_0x5c4f8b),_0x57d836++);}catch(_0x4f9429){localStorage['removeItem'](_0x5c4f8b),_0x57d836++;}}}['clearOldCache'](){const _0x22ea15=a53_0x424c53,_0x5da1b4=[];for(let _0x19b0c0=0x0;_0x19b0c0<localStorage['length'];_0x19b0c0++){const _0xd61acb=localStorage['key'](_0x19b0c0);if(_0xd61acb&&_0xd61acb['startsWith'](this['CACHE_KEY_PREFIX']))try{const _0x2b7df0=JSON['parse'](localStorage['getItem'](_0xd61acb));_0x5da1b4['push']({'key':_0xd61acb,'timestamp':_0x2b7df0['timestamp']});}catch(_0xbca01b){localStorage['removeItem'](_0xd61acb);}}_0x5da1b4['sort']((_0x55abe7,_0x5b93c6)=>_0x55abe7['timestamp']-_0x5b93c6['timestamp']);const _0x6dc85=Math['floor'](_0x5da1b4['length']/0x2);for(let _0x402ff4=0x0;_0x402ff4<_0x6dc85;_0x402ff4++){localStorage['removeItem'](_0x5da1b4[_0x402ff4][_0x22ea15(0x20d)]);}}[a53_0x424c53(0x247)](){const _0x1e08eb=a53_0x424c53;return{'memoryEntries':this['memoryCache']['size'],'lastCleanup':new Date(this[_0x1e08eb(0x1ea)])['toLocaleTimeString']()};}}class MatchCacheManager{constructor(){const _0x240b61=a53_0x424c53;this[_0x240b61(0x214)]=new Map(),this['CACHE_DURATION']=0xf*0x3c*0x3e8,this['lastCleanup']=Date['now']();}['getCachedMatches'](_0x44b471,_0xe54327){const _0x567609=a53_0x424c53;this['autoCleanup']();const _0x5aa6d5=_0x44b471+'_'+_0xe54327,_0x238739=this[_0x567609(0x214)]['get'](_0x5aa6d5);if(_0x238739&&Date['now']()-_0x238739['timestamp']<this[_0x567609(0x1fa)])return console['log']('üéØ\x20Cache\x20hit\x20(matches)\x20for\x20'+_0x44b471),_0x238739['matches'];return _0x238739&&this['matchCache']['delete'](_0x5aa6d5),null;}['setCachedMatches'](_0x15e67c,_0x18aac8,_0x4e7219){const _0x205c89=_0x15e67c+'_'+_0x18aac8;this['matchCache']['set'](_0x205c89,{'matches':_0x4e7219,'timestamp':Date['now']()});}[a53_0x424c53(0x211)](){const _0x12b855=a53_0x424c53,_0x758a39=Date[_0x12b855(0x243)]();if(_0x758a39-this['lastCleanup']>0x5*0x3c*0x3e8){let _0x198e32=0x0;for(const [_0xf9a155,_0x46ac62]of this[_0x12b855(0x214)]['entries']()){_0x758a39-_0x46ac62['timestamp']>this['CACHE_DURATION']&&(this['matchCache']['delete'](_0xf9a155),_0x198e32++);}this['lastCleanup']=_0x758a39;}}[a53_0x424c53(0x247)](){const _0x1bf2ec=a53_0x424c53;return{'entries':this[_0x1bf2ec(0x214)]['size'],'lastCleanup':new Date(this[_0x1bf2ec(0x1ea)])['toLocaleTimeString']()};}}class RibbonSystem{constructor(){const _0x3473=a53_0x424c53;this['pendingEvaluations']=new Map(),this['batchTimer']=null,this['BATCH_DELAY']=0x32,this[_0x3473(0x23c)]=new Map();}async['bulkLoadPlayerData'](_0x32b800,_0x4d4394){const _0x8dcfa3=a53_0x424c53,_0x31fad9=_0x4d4394==='D1'?'players':_0x4d4394==='D2'?'playersD2':'playersD3',_0xa48c98=collection(db,_0x31fad9),_0x2447a9=await getDocs(_0xa48c98),_0x109aed=new Map();return _0x2447a9['forEach'](_0x5c8a47=>{const _0x41fd44=a53_0x4f0d,_0x129e89=_0x5c8a47['data']();_0x129e89['username']&&(_0x129e89['eloRating']!==undefined&&(_0x129e89[_0x41fd44(0x21d)]=_0x129e89['eloRating']),_0x109aed[_0x41fd44(0x1e2)](_0x129e89['username'],_0x129e89));}),console[_0x8dcfa3(0x1ee)]('üìä\x20Bulk\x20loaded\x20'+_0x109aed['size']+'\x20players\x20from\x20'+_0x31fad9),_0x109aed;}async['evaluateAllRibbonsFromData'](_0x3efc77,_0x290af0,_0x5ac57e,_0x181b29){const _0x34f326=a53_0x424c53,_0x360de3={},_0x2127b0=_0x290af0['username'],_0x2d98e0={'totalMatches':_0x3efc77['length'],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0,'dominatedRanks':new Set()},_0x416e18=new Set();_0x3efc77[_0x34f326(0x24b)](_0x4ca38d=>{const _0x33cb21=_0x34f326,_0x266ea3=_0x4ca38d[_0x33cb21(0x224)]===_0x2127b0,_0x26028e=_0x266ea3?_0x4ca38d['loserUsername']:_0x4ca38d['winnerUsername'];if(_0x26028e)_0x416e18['add'](_0x26028e);}),console['log']('üöÄ\x20Bulk\x20loading\x20'+_0x416e18['size']+'\x20player\x20records\x20for\x20underdog\x20calculations...');const _0x15dff1=await this['bulkLoadPlayerData']([..._0x416e18,_0x2127b0],_0x181b29),_0x13284b=_0x15dff1['get'](_0x2127b0);!_0x13284b&&console['log']('‚ö†Ô∏è\x20No\x20current\x20player\x20data\x20found\x20for\x20'+_0x2127b0);const _0x4fc667={0x0:new Set(),0x1:new Set(),0x2:new Set(),0x3:new Set(),0x4:new Set()};_0x3efc77[_0x34f326(0x24b)](_0x2da553=>{const _0x25802b=_0x34f326,_0x45b319=_0x2da553['winnerUsername']===_0x2127b0,_0x3f5300=_0x45b319?_0x2da553['loserUsername']:_0x2da553['winnerUsername'];if(_0x45b319){_0x2d98e0[_0x25802b(0x228)]++;_0x2da553['subgameType']===_0x25802b(0x1eb)&&_0x2d98e0['rematchWins']++;this[_0x25802b(0x24c)](_0x2da553,_0x2127b0,_0x13284b,_0x15dff1)&&_0x2d98e0['underdogWins']++;const _0x587654=_0x15dff1['get'](_0x3f5300);if(_0x587654){const _0x3d29d4=_0x587654['eloRating']||0x0,_0x163b58=getPlayerRankTier(_0x3d29d4);_0x4fc667[_0x163b58]['add'](_0x3f5300);}}_0x2da553['subgameType']&&_0x2da553['subgameType']!=='Standard'&&_0x2d98e0['subgameMatches']++,_0x2da553[_0x25802b(0x23d)]&&_0x2d98e0['uniqueMaps'][_0x25802b(0x221)](_0x2da553['mapPlayed']),_0x3f5300&&_0x2d98e0['uniqueOpponents']['add'](_0x3f5300);}),Object['keys'](_0x4fc667)['forEach'](_0x844ebd=>{const _0x4fcd98=_0x34f326;_0x4fc667[_0x844ebd][_0x4fcd98(0x200)]>=0x5&&_0x2d98e0[_0x4fcd98(0x218)]['add'](parseInt(_0x844ebd));}),console['log']('üéØ\x20Found\x20'+_0x2d98e0['underdogWins']+'\x20underdog\x20victories\x20for\x20'+_0x2127b0),console[_0x34f326(0x1ee)]('üëë\x20Dominated\x20'+_0x2d98e0['dominatedRanks'][_0x34f326(0x200)]+'\x20ranks:\x20['+Array[_0x34f326(0x1e4)](_0x2d98e0['dominatedRanks'])['map'](_0x3e4af0=>getRankTierName(_0x3e4af0))['join'](',\x20')+']');const _0x4969d1=_0x2d98e0['totalMatches']>0x0?_0x2d98e0['wins']/_0x2d98e0['totalMatches']*0x64:0x0,_0x3711cd=[['Overachiever\x20Ribbon',this['evaluateOverachieverRibbonFromCount'](_0x2d98e0['totalMatches'],_0x5ac57e)],[_0x34f326(0x23b),this['evaluateRematchRibbonFromCount'](_0x2d98e0['rematchWins'],_0x5ac57e)],['Sub-Gamer\x20Ribbon',this[_0x34f326(0x1ff)](_0x2d98e0['subgameMatches'],_0x5ac57e)],['Explorer\x20Ribbon',this[_0x34f326(0x1f1)](_0x2d98e0['uniqueMaps']['size'],_0x5ac57e)],['Socialite\x20Ribbon',this['evaluateSocialiteRibbonFromCount'](_0x2d98e0['uniqueOpponents']['size'],_0x5ac57e)],['Brick\x20Wall',this['evaluateBrickWallRibbonFromWinRate'](_0x4969d1,_0x5ac57e,_0x2d98e0[_0x34f326(0x216)])],[_0x34f326(0x241),this['evaluateUnderdogRibbonFromCount'](_0x2d98e0['underdogWins'],_0x5ac57e)],['Domination\x20Ribbon',this['evaluateDominationRibbonFromRanks'](_0x2d98e0['dominatedRanks']['size'],_0x5ac57e)]];_0x3711cd['forEach'](([_0x113a30,_0x1e800d])=>{_0x1e800d&&(_0x360de3[_0x113a30]=_0x1e800d);});const _0x394b1b=Object['keys'](_0x5ac57e)['length']+Object['keys'](_0x360de3)['length'],_0x250b25=this['evaluateCollectorRibbonFromCount'](_0x394b1b,_0x5ac57e);return _0x250b25&&(_0x360de3[_0x34f326(0x213)]=_0x250b25),_0x360de3;}['evaluateDominationRibbonFromRanks'](_0x3e3741,_0x496928){const _0xc9ed2a=a53_0x424c53;if(_0x3e3741===0x0)return null;const _0x449c2e=_0x496928[_0xc9ed2a(0x235)]||{'level':0x0};if(_0x3e3741>_0x449c2e[_0xc9ed2a(0x24f)]){const _0x2645d9=[];for(let _0x211904=0x0;_0x211904<_0x3e3741;_0x211904++){_0x2645d9['push'](getRankTierName(_0x211904));}return console[_0xc9ed2a(0x1ee)]('üëë\x20Domination\x20Ribbon\x20awarded:\x20Level\x20'+_0x449c2e['level']+'\x20‚Üí\x20'+_0x3e3741+'\x20(Dominated:\x20'+_0x2645d9['join'](',\x20')+')'),{'level':_0x3e3741,'awardedAt':new Date(),'dominatedRanks':_0x2645d9};}return null;}async['checkTopRankStatus'](_0xcad3f8,_0x34fecf){const _0x200013=a53_0x424c53;try{const _0x185ef4=_0x34fecf==='D1'?'players':_0x34fecf==='D2'?'playersD2':_0x200013(0x240),_0x2e2ca2=await this['getPlayerDataCached'](_0xcad3f8,_0x34fecf);if(!_0x2e2ca2||_0x2e2ca2[_0x200013(0x21a)]===undefined)return console['log']('‚ùå\x20No\x20ELO\x20rating\x20data\x20for\x20'+_0xcad3f8),null;const _0x458575=_0x2e2ca2['eloRating'],_0x485cf1=getPlayerRankTier(_0x458575),_0x52d142=getRankTierName(_0x485cf1);if(_0x52d142==='Unranked')return console[_0x200013(0x1ee)]('‚ùå\x20'+_0xcad3f8+'\x20is\x20Unranked\x20('+_0x458575+'\x20ELO)'),null;console[_0x200013(0x1ee)](_0x200013(0x231)+_0x52d142+'\x20status\x20for\x20'+_0xcad3f8+'\x20('+_0x458575+_0x200013(0x201));const _0x464935=collection(db,_0x185ef4),_0x3b1acc=await getDocs(_0x464935);let _0x54b789=null,_0x3955e4=-0x1,_0xa2b22f=0x0;_0x3b1acc['forEach'](_0x115665=>{const _0x3960ed=_0x200013,_0x34f186=_0x115665[_0x3960ed(0x20f)](),_0x10db26=_0x34f186['eloRating']||0x0,_0x1d9866=getPlayerRankTier(_0x10db26);_0x1d9866===_0x485cf1&&(_0xa2b22f++,_0x10db26>_0x3955e4&&(_0x3955e4=_0x10db26,_0x54b789=_0x34f186['username']));});const _0xaf1ff2=_0x54b789===_0xcad3f8;return console['log']('üìä\x20'+_0x52d142+'\x20Tier:\x20'+_0xa2b22f+_0x200013(0x232)+_0x54b789+'\x20('+_0x3955e4+'\x20ELO),\x20'+_0xcad3f8+'\x20is\x20#1:\x20'+_0xaf1ff2),_0xaf1ff2?_0x52d142:null;}catch(_0x34fcdf){return console['error']('Error\x20checking\x20top\x20rank\x20status:',_0x34fcdf),null;}}async['evaluateTopRankRibbon'](_0x4a8208,_0x1af595,_0x57280c){const _0x17cea5=a53_0x424c53,_0x5d8de7=await this['checkTopRankStatus'](_0x4a8208,_0x1af595),_0x5c39b6={};if(_0x5d8de7){const _0x326a1e='Top\x20'+_0x5d8de7+'\x20Pilot';if(RIBBON_DEFINITIONS[_0x326a1e]){const _0x50e211=_0x57280c[_0x326a1e];!_0x50e211?(console['log'](_0x17cea5(0x1ed)+_0x4a8208+'\x20earned\x20'+_0x326a1e+'!'),_0x5c39b6[_0x326a1e]={'level':0x1,'awardedAt':new Date(),'rank':_0x5d8de7,'achievedAt':new Date()}):console['log']('‚úÖ\x20'+_0x4a8208+_0x17cea5(0x1e8)+_0x326a1e+'\x20-\x20No\x20changes\x20needed');}}return Object['keys'](_0x57280c)['forEach'](_0x20cdec=>{const _0x12d61d=_0x17cea5;_0x20cdec['startsWith']('Top\x20')&&_0x20cdec[_0x12d61d(0x21f)]('\x20Pilot')&&(!_0x5c39b6[_0x20cdec]&&console[_0x12d61d(0x1ee)]('‚úÖ\x20Preserving\x20existing\x20'+_0x20cdec));}),_0x5c39b6;}async['evaluateAllRibbonsForPlayerOptimized'](_0x573f93,_0x16f8e1='D1'){const _0x1d5a13=a53_0x424c53;try{const _0x4e4e3a=ribbonCache[_0x1d5a13(0x245)](_0x573f93,_0x16f8e1);if(_0x4e4e3a){const _0x47d2e9=await this['evaluateTopRankRibbon'](_0x573f93,_0x16f8e1,_0x4e4e3a);if(Object['keys'](_0x47d2e9)['length']>0x0){console[_0x1d5a13(0x1ee)]('üÜï\x20New\x20top\x20rank\x20achievements\x20found\x20for\x20cached\x20player\x20'+_0x573f93),await this['savePlayerRibbonsOptimized'](_0x573f93,_0x47d2e9,_0x16f8e1);const _0x3d2b20={..._0x4e4e3a,..._0x47d2e9};return ribbonCache['setCachedData'](_0x573f93,_0x16f8e1,_0x3d2b20,0x0),_0x3d2b20;}return _0x4e4e3a;}const [_0x1f6236,_0x420721]=await Promise['all']([this['getPlayerDataCached'](_0x573f93,_0x16f8e1),this['getPlayerRibbonsCached'](_0x573f93,_0x16f8e1)]);if(!_0x1f6236)return{};const _0x4cd50c=_0x1f6236[_0x1d5a13(0x22a)]||0x0,_0x173bbf=await this['evaluateTopRankRibbon'](_0x573f93,_0x16f8e1,_0x420721);if(!ribbonCache[_0x1d5a13(0x1e9)](_0x573f93,_0x16f8e1,_0x4cd50c)){if(Object['keys'](_0x173bbf)['length']>0x0){await this[_0x1d5a13(0x236)](_0x573f93,_0x173bbf,_0x16f8e1);const _0x260e47={..._0x420721,..._0x173bbf};return ribbonCache[_0x1d5a13(0x23a)](_0x573f93,_0x16f8e1,_0x260e47,_0x4cd50c),_0x260e47;}return ribbonCache[_0x1d5a13(0x23a)](_0x573f93,_0x16f8e1,_0x420721,_0x4cd50c),_0x420721;}const _0x2b7d65=await this['getPlayerMatchesOptimized'](_0x573f93,_0x16f8e1),_0x29c15a=await this['evaluateAllRibbonsFromData'](_0x2b7d65,_0x1f6236,_0x420721,_0x16f8e1);Object['assign'](_0x29c15a,_0x173bbf);Object['keys'](_0x29c15a)['length']>0x0&&(console['log']('üíæ\x20Saving\x20'+Object[_0x1d5a13(0x210)](_0x29c15a)['length']+'\x20new/updated\x20ribbons\x20for\x20'+_0x573f93),await this[_0x1d5a13(0x236)](_0x573f93,_0x29c15a,_0x16f8e1));const _0x4abaec={..._0x420721,..._0x29c15a};return ribbonCache['setCachedData'](_0x573f93,_0x16f8e1,_0x4abaec,_0x2b7d65['length']),_0x4abaec;}catch(_0x48fec9){return console['error']('‚ùå\x20Error\x20in\x20ribbon\x20evaluation:',_0x48fec9),{};}}async[a53_0x424c53(0x1f2)](_0x55d56c,_0x2b7f4f,_0x2f8a29){const _0x5d77dd=a53_0x424c53,_0x56cc89=_0x55d56c['winnerUsername']===_0x2b7f4f;if(!_0x56cc89)return![];const _0x5dcac2=_0x55d56c[_0x5d77dd(0x1e3)],[_0x1f1da9,_0x4ee8ea]=await Promise['all']([this['getPlayerDataCached'](_0x2b7f4f,_0x2f8a29),this[_0x5d77dd(0x1e1)](_0x5dcac2,_0x2f8a29)]);if(!_0x1f1da9||!_0x4ee8ea)return console[_0x5d77dd(0x1ee)]('‚ö†Ô∏è\x20Missing\x20player\x20data\x20for\x20'+_0x2b7f4f+'\x20or\x20'+_0x5dcac2),![];const _0x5ceb91=_0x1f1da9[_0x5d77dd(0x21a)]||0x0,_0x16a171=_0x4ee8ea['eloRating']||0x0,_0x8650bb=getPlayerRankTier(_0x5ceb91),_0x36cc87=getPlayerRankTier(_0x16a171);console['log'](_0x5d77dd(0x246)+_0x2b7f4f+'):\x20'+_0x5ceb91+'\x20ELO\x20('+getRankTierName(_0x8650bb)+_0x5d77dd(0x20e)+_0x5dcac2+'):\x20'+_0x16a171+'\x20ELO\x20('+getRankTierName(_0x36cc87)+')');if(_0x36cc87>_0x8650bb)return console['log']('üéØ\x20UNDERDOG\x20VICTORY:\x20'+getRankTierName(_0x8650bb)+'\x20beat\x20'+getRankTierName(_0x36cc87)+'!'),!![];return console['log']('‚ùå\x20Not\x20underdog:\x20'+getRankTierName(_0x8650bb)+_0x5d77dd(0x1e6)+getRankTierName(_0x36cc87)),![];}[a53_0x424c53(0x24c)](_0x1abba3,_0x391286,_0x540f07,_0x363a88){const _0x2889d2=a53_0x424c53,_0x3e2720=_0x1abba3['winnerUsername']===_0x391286;if(!_0x3e2720)return![];const _0x1b2a45=_0x1abba3['loserUsername'],_0x188952=_0x363a88['get'](_0x1b2a45);if(!_0x540f07||!_0x188952)return![];const _0x3dba45=_0x540f07['eloRating']||0x0,_0xda5a7a=_0x188952[_0x2889d2(0x21a)]||0x0,_0x2db5f9=getPlayerRankTier(_0x3dba45),_0x1b0892=getPlayerRankTier(_0xda5a7a);if(_0x1b0892>_0x2db5f9)return console['log']('üéØ\x20UNDERDOG:\x20'+getRankTierName(_0x2db5f9)+'('+_0x3dba45+')\x20beat\x20'+getRankTierName(_0x1b0892)+'('+_0xda5a7a+')'),!![];return![];}async['evaluateAllRibbonsFromData'](_0x5e9c2d,_0x184e75,_0x1594fa,_0x1a2a97){const _0x10b064=a53_0x424c53,_0x3a800e={},_0x222766=_0x184e75[_0x10b064(0x238)],_0x15aad1={'totalMatches':_0x5e9c2d['length'],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0},_0x56b64d=new Set();_0x5e9c2d['forEach'](_0xc9c0a8=>{const _0x8d7fa5=_0xc9c0a8['winnerUsername']===_0x222766,_0x304f2d=_0x8d7fa5?_0xc9c0a8['loserUsername']:_0xc9c0a8['winnerUsername'];if(_0x304f2d)_0x56b64d['add'](_0x304f2d);}),console[_0x10b064(0x1ee)]('üöÄ\x20Bulk\x20loading\x20'+_0x56b64d['size']+'\x20player\x20records\x20for\x20underdog\x20calculations...');const _0x2656a6=await this['bulkLoadPlayerData']([..._0x56b64d,_0x222766],_0x1a2a97),_0x20a667=_0x2656a6['get'](_0x222766);!_0x20a667&&console['log'](_0x10b064(0x24d)+_0x222766);_0x5e9c2d['forEach'](_0x32be0a=>{const _0x4c9835=_0x10b064,_0x5b3ff0=_0x32be0a['winnerUsername']===_0x222766,_0x50dde5=_0x5b3ff0?_0x32be0a['loserUsername']:_0x32be0a['winnerUsername'];_0x5b3ff0&&(_0x15aad1[_0x4c9835(0x228)]++,_0x32be0a[_0x4c9835(0x22e)]===_0x4c9835(0x1eb)&&_0x15aad1[_0x4c9835(0x1f4)]++,this['isUnderdogVictoryFast'](_0x32be0a,_0x222766,_0x20a667,_0x2656a6)&&_0x15aad1['underdogWins']++),_0x32be0a['subgameType']&&_0x32be0a['subgameType']!=='Standard'&&_0x15aad1['subgameMatches']++,_0x32be0a['mapPlayed']&&_0x15aad1['uniqueMaps']['add'](_0x32be0a['mapPlayed']),_0x50dde5&&_0x15aad1['uniqueOpponents']['add'](_0x50dde5);}),console['log'](_0x10b064(0x21e)+_0x15aad1['underdogWins']+_0x10b064(0x1f0)+_0x222766);const _0x15052b=_0x15aad1['totalMatches']>0x0?_0x15aad1[_0x10b064(0x228)]/_0x15aad1[_0x10b064(0x216)]*0x64:0x0,_0x512512=[[_0x10b064(0x229),this[_0x10b064(0x217)](_0x15aad1['totalMatches'],_0x1594fa)],['Rematch\x20Ribbon',this['evaluateRematchRibbonFromCount'](_0x15aad1['rematchWins'],_0x1594fa)],['Sub-Gamer\x20Ribbon',this['evaluateSubGamerRibbonFromCount'](_0x15aad1['subgameMatches'],_0x1594fa)],['Explorer\x20Ribbon',this['evaluateExplorerRibbonFromCount'](_0x15aad1[_0x10b064(0x20b)]['size'],_0x1594fa)],['Socialite\x20Ribbon',this['evaluateSocialiteRibbonFromCount'](_0x15aad1[_0x10b064(0x1fd)]['size'],_0x1594fa)],['Brick\x20Wall',this['evaluateBrickWallRibbonFromWinRate'](_0x15052b,_0x1594fa,_0x15aad1['totalMatches'])],['Underdog\x20Ribbon',this['evaluateUnderdogRibbonFromCount'](_0x15aad1['underdogWins'],_0x1594fa)]];_0x512512[_0x10b064(0x24b)](([_0x49b636,_0x156f44])=>{_0x156f44&&(_0x3a800e[_0x49b636]=_0x156f44);});const _0x460726=Object['keys'](_0x1594fa)['length']+Object['keys'](_0x3a800e)['length'],_0x414648=this[_0x10b064(0x254)](_0x460726,_0x1594fa);return _0x414648&&(_0x3a800e['Collector\x20Ribbon']=_0x414648),_0x3a800e;}async['getPlayerMatchesOptimized'](_0x593153,_0x15df55){const _0x526260=a53_0x424c53,_0x3a2829=matchCache['getCachedMatches'](_0x593153,_0x15df55);if(_0x3a2829)return _0x3a2829;try{const _0x575caa=_0x15df55==='D1'?'approvedMatches':_0x15df55==='D2'?_0x526260(0x1f8):'approvedMatchesD3',_0x539520=collection(db,_0x575caa),[_0xe2fd4c,_0x4db94e]=await Promise[_0x526260(0x252)]([getDocs(query(_0x539520,where(_0x526260(0x224),'==',_0x593153))),getDocs(query(_0x539520,where(_0x526260(0x1e3),'==',_0x593153)))]),_0x32655f=new Set(),_0x11e424=[];return _0xe2fd4c['forEach'](_0x5bba90=>{const _0x4bc9ec=_0x526260;if(!_0x32655f[_0x4bc9ec(0x255)](_0x5bba90['id'])){_0x32655f[_0x4bc9ec(0x221)](_0x5bba90['id']);const _0x273fc4={'id':_0x5bba90['id'],..._0x5bba90['data']()};if(!_0x273fc4[_0x4bc9ec(0x23e)])_0x273fc4['winnerRating']=0x0;if(!_0x273fc4[_0x4bc9ec(0x1fe)])_0x273fc4['loserRating']=0x0;_0x11e424[_0x4bc9ec(0x24a)](_0x273fc4);}}),_0x4db94e['forEach'](_0x5984a9=>{const _0x410922=_0x526260;if(!_0x32655f['has'](_0x5984a9['id'])){_0x32655f[_0x410922(0x221)](_0x5984a9['id']);const _0x1961ee={'id':_0x5984a9['id'],..._0x5984a9['data']()};if(!_0x1961ee['winnerRating'])_0x1961ee[_0x410922(0x23e)]=0x0;if(!_0x1961ee['loserRating'])_0x1961ee['loserRating']=0x0;_0x11e424['push'](_0x1961ee);}}),matchCache['setCachedMatches'](_0x593153,_0x15df55,_0x11e424),_0x11e424;}catch(_0x189488){return console[_0x526260(0x1f9)](_0x526260(0x251),_0x189488),[];}}async[a53_0x424c53(0x1e1)](_0x54b961,_0x2e7c26){const _0x134495=a53_0x424c53;try{const _0x355c68=_0x2e7c26==='D1'?'players':_0x2e7c26==='D2'?'playersD2':_0x134495(0x240),_0xcf84c2=collection(db,_0x355c68),_0x47b0db=query(_0xcf84c2,where('username','==',_0x54b961),limit(0x1)),_0x900b6c=await getDocs(_0x47b0db);if(_0x900b6c['empty'])return console['log']('‚ùå\x20No\x20player\x20data\x20found\x20for\x20'+_0x54b961+_0x134495(0x237)+_0x355c68),null;const _0x41b20c=_0x900b6c[_0x134495(0x1ef)][0x0]['data']();return _0x41b20c['eloRating']!==undefined&&(_0x41b20c['rating']=_0x41b20c['eloRating']),console['log'](_0x134495(0x20a)+_0x54b961+_0x134495(0x258)+_0x41b20c['eloRating']+_0x134495(0x22f)+_0x41b20c['position']),_0x41b20c;}catch(_0x5e6ea7){return console['error']('Error\x20getting\x20player\x20data\x20for\x20'+_0x54b961+':',_0x5e6ea7),null;}}async['getPlayerRibbonsCached'](_0x2b6b1e,_0x1c3144){const _0x42520f=a53_0x424c53;try{const _0x50a163='playerRibbons'+(_0x1c3144==='D1'?'':_0x1c3144),_0x1d1421=doc(db,_0x50a163,_0x2b6b1e),_0x40fb0c=await getDoc(_0x1d1421);return _0x40fb0c['exists']()?_0x40fb0c['data']()[_0x42520f(0x1f6)]||{}:{};}catch(_0x5b998a){return console['error']('Error\x20getting\x20player\x20ribbons:',_0x5b998a),{};}}async['savePlayerRibbonsOptimized'](_0x1c8b42,_0x1087d3,_0x37b146){try{const _0x49eb49='playerRibbons'+(_0x37b146==='D1'?'':_0x37b146),_0x597d69=doc(db,_0x49eb49,_0x1c8b42),_0x200ce2=await this['getPlayerRibbonsCached'](_0x1c8b42,_0x37b146),_0x2c861a={..._0x200ce2,..._0x1087d3};await setDoc(_0x597d69,{'username':_0x1c8b42,'ladder':_0x37b146,'ribbons':_0x2c861a,'lastUpdated':new Date()},{'merge':!![]});}catch(_0x2143d5){console['error']('Error\x20saving\x20ribbons:',_0x2143d5);}}['evaluateOverachieverRibbonFromCount'](_0x5dbdc9,_0x43cfe3){const _0x2fa0cd=_0x43cfe3['Overachiever\x20Ribbon']||{'level':0x0},_0x246457=RIBBON_DEFINITIONS['Overachiever\x20Ribbon']['levels'],_0x1ab60f=_0x246457['findIndex'](_0x54c5b2=>_0x5dbdc9<_0x54c5b2),_0xc770e7=_0x1ab60f===-0x1?_0x246457['length']:_0x1ab60f;if(_0xc770e7>_0x2fa0cd['level'])return{'level':_0xc770e7,'awardedAt':new Date()};return null;}['evaluateRematchRibbonFromCount'](_0x5bebd1,_0x3570a9){if(_0x5bebd1===0x0)return null;const _0x4264f5=_0x3570a9['Rematch\x20Ribbon']||{'level':0x0};if(_0x5bebd1>_0x4264f5['level'])return{'level':_0x5bebd1,'awardedAt':new Date()};return null;}['evaluateSubGamerRibbonFromCount'](_0x11edbb,_0x312efa){const _0x3d60da=a53_0x424c53,_0x2014c3=_0x312efa['Sub-Gamer\x20Ribbon']||{'level':0x0},_0x53269a=RIBBON_DEFINITIONS['Sub-Gamer\x20Ribbon']['levels'],_0xd7bee6=_0x53269a[_0x3d60da(0x1de)](_0x38909c=>_0x11edbb<_0x38909c),_0x20af08=_0xd7bee6===-0x1?_0x53269a['length']:_0xd7bee6;if(_0x20af08>_0x2014c3['level'])return{'level':_0x20af08,'awardedAt':new Date()};return null;}[a53_0x424c53(0x1f1)](_0x1c0d44,_0xb98178){const _0x32537e=a53_0x424c53,_0xcffb8d=_0xb98178['Explorer\x20Ribbon']||{'level':0x0},_0xc14d33=RIBBON_DEFINITIONS[_0x32537e(0x207)]['levels'],_0x32c6a2=_0xc14d33[_0x32537e(0x1de)](_0x13ccb5=>_0x1c0d44<_0x13ccb5),_0x195ef4=_0x32c6a2===-0x1?_0xc14d33['length']:_0x32c6a2;if(_0x195ef4>_0xcffb8d['level'])return{'level':_0x195ef4,'awardedAt':new Date()};return null;}['evaluateSocialiteRibbonFromCount'](_0x28cd5e,_0x3fbd72){const _0x4d4de7=_0x3fbd72['Socialite\x20Ribbon']||{'level':0x0},_0x580dc7=RIBBON_DEFINITIONS['Socialite\x20Ribbon']['levels'],_0x5bdc5b=_0x580dc7['findIndex'](_0x36a198=>_0x28cd5e<_0x36a198),_0x5cb60d=_0x5bdc5b===-0x1?_0x580dc7['length']:_0x5bdc5b;if(_0x5cb60d>_0x4d4de7['level'])return{'level':_0x5cb60d,'awardedAt':new Date()};return null;}['evaluateBrickWallRibbonFromWinRate'](_0x46a691,_0x44080f,_0x4288cd){const _0x136f1a=a53_0x424c53;if(_0x4288cd<0x32)return console[_0x136f1a(0x1ee)]('‚ö†Ô∏è\x20Brick\x20Wall\x20ribbon\x20requires\x2050+\x20matches\x20(player\x20has\x20'+_0x4288cd+')'),null;const _0x1a6db1=_0x44080f[_0x136f1a(0x1e0)]||{'level':0x0},_0x17350d=RIBBON_DEFINITIONS['Brick\x20Wall']['levels'],_0x40d836=_0x17350d[_0x136f1a(0x1de)](_0x533965=>_0x46a691<_0x533965),_0x52f23f=_0x40d836===-0x1?_0x17350d['length']:_0x40d836;if(_0x52f23f>_0x1a6db1['level'])return console[_0x136f1a(0x1ee)](_0x136f1a(0x1ec)+_0x46a691['toFixed'](0x1)+'%\x20win\x20rate\x20over\x20'+_0x4288cd+_0x136f1a(0x242)),{'level':_0x52f23f,'awardedAt':new Date(),'winRate':_0x46a691,'matchesPlayed':_0x4288cd};return null;}[a53_0x424c53(0x254)](_0x461d36,_0x25d397){const _0x25f3b8=a53_0x424c53,_0x492dee=_0x25d397['Collector\x20Ribbon']||{'level':0x0},_0x4dbacd=RIBBON_DEFINITIONS[_0x25f3b8(0x213)]['levels'],_0x585705=_0x4dbacd['findIndex'](_0x5283e5=>_0x461d36<_0x5283e5),_0x16eceb=_0x585705===-0x1?_0x4dbacd['length']:_0x585705;if(_0x16eceb>_0x492dee[_0x25f3b8(0x24f)])return{'level':_0x16eceb,'awardedAt':new Date()};return null;}['evaluateUnderdogRibbonFromCount'](_0x324396,_0x1637bb){const _0x15d23d=a53_0x424c53;if(_0x324396===0x0)return null;const _0x2a1b21=_0x1637bb['Underdog\x20Ribbon']||{'level':0x0},_0x4b589e=RIBBON_DEFINITIONS['Underdog\x20Ribbon']['levels'];let _0x546140=0x0;for(let _0x513601=0x0;_0x513601<_0x4b589e['length'];_0x513601++){if(_0x324396>=_0x4b589e[_0x513601])_0x546140=_0x513601+0x1;else break;}if(_0x546140>_0x2a1b21['level'])return console['log'](_0x15d23d(0x253)+_0x2a1b21['level']+'\x20‚Üí\x20'+_0x546140+'\x20('+_0x324396+'\x20underdog\x20wins)'),{'level':_0x546140,'awardedAt':new Date()};return null;}}function a53_0x4f0d(_0x41b964,_0x3898bb){const _0x39ea85=a53_0x578c();return a53_0x4f0d=function(_0x2a4aa0,_0x341814){_0x2a4aa0=_0x2a4aa0-0x1de;let _0x578c60=_0x39ea85[_0x2a4aa0];return _0x578c60;},a53_0x4f0d(_0x41b964,_0x3898bb);}function getPlayerRankTier(_0x4f98aa){if(_0x4f98aa===undefined||_0x4f98aa===null)return 0x0;const _0x3e7034=Number(_0x4f98aa);if(isNaN(_0x3e7034))return 0x0;if(_0x3e7034>=0x7d0)return 0x4;if(_0x3e7034>=0x708)return 0x3;if(_0x3e7034>=0x640)return 0x2;if(_0x3e7034>=0x578)return 0x1;return 0x0;}function getRankTierName(_0x1d0d57){const _0x5977ed=a53_0x424c53,_0x19c36f=['Unranked','Bronze','Silver',_0x5977ed(0x1f3),'Emerald'];return _0x19c36f[_0x1d0d57]||_0x5977ed(0x20c);}const ribbonSystem=new RibbonSystem(),ribbonCache=new RibbonCacheManager(),matchCache=new MatchCacheManager();typeof window!==a53_0x424c53(0x239)&&(window['getRibbonCacheStats']=()=>{const _0x587b1a=a53_0x424c53;return{'ribbon':ribbonCache[_0x587b1a(0x247)](),'match':matchCache[_0x587b1a(0x247)]()};});export async function evaluatePlayerRibbons(_0x51f4a1,_0x49866e='D1'){const _0x3ed7b7=a53_0x424c53;return await ribbonSystem[_0x3ed7b7(0x206)](_0x51f4a1,_0x49866e);}export function getRibbonHTML(_0x3e111e,_0x3254dc){const _0x2c8690=a53_0x424c53,_0x4c118b=RIBBON_DEFINITIONS[_0x3e111e];if(!_0x4c118b)return'';const _0x191287=_0x3254dc['level']||0x1,_0x53f0c2=_0x3e111e[_0x2c8690(0x220)]('\x20Ribbon','')['replace']('\x20Badge',''),_0x1e6e7e=_0x160086=>{const _0x1f2415=_0x2c8690;if(_0x160086<=0x1)return'level-1';if(_0x160086<=0x2)return'level-2';if(_0x160086<=0x3)return _0x1f2415(0x250);if(_0x160086<=0x4)return'level-4';return'level-5-plus';},_0x4e0add=_0x3f9e0b=>{const _0x5a47aa=_0x2c8690;if(_0x3f9e0b<=0x1)return'';const _0x2f043e=[];if(_0x3f9e0b>=0x2&&_0x3f9e0b<=0x4){const _0x110edb=Math['min'](_0x3f9e0b-0x1,0x3);for(let _0x52da6a=0x0;_0x52da6a<_0x110edb;_0x52da6a++){_0x2f043e['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>');}}if(_0x3f9e0b>=0x5&&_0x3f9e0b<=0x7){_0x2f043e['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20silver-star\x22></i>');const _0x41d4a3=Math[_0x5a47aa(0x244)](_0x3f9e0b-0x5,0x2);for(let _0x232b9b=0x0;_0x232b9b<_0x41d4a3;_0x232b9b++){_0x2f043e['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>');}}return _0x3f9e0b>=0x8&&_0x2f043e['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20gold-star\x22></i>'),_0x2f043e['length']>0x0?_0x5a47aa(0x222)+_0x2f043e['join']('')+'</div>':'';},_0x472ce0=_0x4c118b[_0x2c8690(0x219)]+'\x20-\x20Level\x20'+_0x191287;return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22military-ribbon\x22\x20data-tooltip=\x22'+_0x472ce0+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-image-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22'+_0x4c118b['image']+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22'+_0x3e111e+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22ribbon-image\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27;\x20this.nextElementSibling.style.display=\x27block\x27;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-fallback\x22\x20style=\x22display:\x20none;\x20background:\x20'+_0x4c118b['color']+_0x2c8690(0x1fb)+_0x53f0c2['substring'](0x0,0x6)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4e0add(_0x191287)+_0x2c8690(0x1e7)+_0x53f0c2+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x191287>0x1?'<div\x20class=\x22ribbon-level-indicator\x20'+_0x1e6e7e(_0x191287)+'\x22>'+_0x191287+_0x2c8690(0x22b):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}