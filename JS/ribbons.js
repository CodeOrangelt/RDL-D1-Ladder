const a51_0x5720c6=a51_0x23f4,a51_0x55dbd9=(function(){let _0x4c1109=!![];return function(_0x2362a2,_0xffc27e){const _0x28aed3=_0x4c1109?function(){if(_0xffc27e){const _0x351f96=_0xffc27e['apply'](_0x2362a2,arguments);return _0xffc27e=null,_0x351f96;}}:function(){};return _0x4c1109=![],_0x28aed3;};}()),a51_0x57a8d9=a51_0x55dbd9(this,function(){const _0x45d56c=a51_0x23f4,_0xe40604=function(){const _0x1668a5=a51_0x23f4;let _0x3d897d;try{_0x3d897d=Function('return\x20(function()\x20'+_0x1668a5(0xec)+');')();}catch(_0x776249){_0x3d897d=window;}return _0x3d897d;},_0x427bbe=_0xe40604(),_0x46a4a3=_0x427bbe['console']=_0x427bbe['console']||{},_0x37af8a=['log','warn',_0x45d56c(0xca),'error',_0x45d56c(0xc7),_0x45d56c(0xd7),_0x45d56c(0x101)];for(let _0x51f84a=0x0;_0x51f84a<_0x37af8a[_0x45d56c(0xee)];_0x51f84a++){const _0x5c9406=a51_0x55dbd9[_0x45d56c(0x106)]['prototype']['bind'](a51_0x55dbd9),_0x443034=_0x37af8a[_0x51f84a],_0x5e8f41=_0x46a4a3[_0x443034]||_0x5c9406;_0x5c9406['__proto__']=a51_0x55dbd9[_0x45d56c(0xe5)](a51_0x55dbd9),_0x5c9406['toString']=_0x5e8f41['toString']['bind'](_0x5e8f41),_0x46a4a3[_0x443034]=_0x5c9406;}});a51_0x57a8d9();import{auth,db}from'./firebase-config.js';function a51_0x27d9(){const _0x5f4292=['playersD2','matchCount','delete','has','Explorer\x20Ribbon',':\x20ELO\x20','\x20Pilot','startsWith','now','evaluateSubGamerRibbonFromCount','Amass\x20at\x20least\x2080%\x20overall\x20win\x20rate\x20percentage\x20(minimum\x2050\x20matches)','levels','üéØ\x20Found\x20','<div\x20class=\x22ribbon-devices\x22>','Overachiever\x20Ribbon','findIndex','size','setItem','üèÜ\x20Brick\x20Wall\x20ribbon\x20awarded:\x20','exception','get','</div>','info','CACHE_KEY_PREFIX','forEach','../images/ribbons/Socialite.png','subgameType','getItem','evaluateBrickWallRibbonFromWinRate','\x20underdog\x20wins)','replace','evaluateDominationRibbonFromRanks','clearOldCache','üéØ\x20Cache\x20hit\x20(matches)\x20for\x20','from','table','add','<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20silver-star\x22></i>','rating','getCachedData','\x20ELO)','\x20status\x20for\x20','evaluateAllRibbonsForPlayerOptimized','Unranked','\x20-\x20Level\x20','entries','getPlayerRibbonsCached','#FF9500','data','bind','BATCH_DELAY','üíæ\x20Cache\x20hit\x20(localStorage)\x20for\x20','playersD3','savePlayerRibbonsOptimized','../images/ribbons/toprank.png','evaluateUnderdogRibbonFromCount','{}.constructor(\x22return\x20this\x22)(\x20)','%\x20win\x20rate\x20over\x20','length','log','Collector\x20Ribbon','level','‚ö†Ô∏è\x20Missing\x20player\x20data\x20for\x20','\x20‚Üí\x20','push',')\x20beat\x20','checkTopRankStatus','../images/ribbons/Underdog.png','set','matchCache','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','):\x20','<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>','username','toLocaleTimeString','Bronze','#50C878','trace','lastCleanup','Top\x20','evaluateAllRibbonsFromData','üíæ\x20Saving\x20','constructor','wins','winnerRating','‚ùå\x20No\x20player\x20data\x20found\x20for\x20','#CD7F32','üéØ\x20UNDERDOG:\x20','uniqueMaps','mapPlayed','Brick\x20Wall','evaluateExplorerRibbonFromCount','Sub-Gamer\x20Ribbon','Standard','keys','eloRating','exists','stringify','getPlayerDataCached','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-image-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22','CLEANUP_INTERVAL','totalMatches','\x20players\x20from\x20','join','Underdog\x20Ribbon','\x20underdog\x20victories\x20for\x20','Rematch','\x0a/*\x20Stats\x20integration\x20styles\x20*/\x0a.ribbon-section\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-top:\x201rem;\x0a}\x0a\x0a.ribbon-stat-item.full-width\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-bottom:\x200;\x0a}\x0a\x0a/*\x20Military\x20Ribbon\x20Rack\x20Styling\x20-\x20NO\x20OUTER\x20CONTAINER\x20*/\x0a.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20padding:\x200;\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20box-shadow:\x20none;\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20align-items:\x20flex-start;\x0a}\x0a\x0a.ribbon-rack-empty-inline\x20{\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20padding:\x2060px\x2040px;\x0a\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20border-radius:\x2012px;\x0a\x20\x20\x20\x20border:\x202px\x20solid\x20rgba(255,\x20255,\x20255,\x200.1);\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a}\x0a\x0a.empty-rack-text\x20{\x0a\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20font-style:\x20italic;\x0a\x20\x20\x20\x20font-size:\x201.2rem;\x0a}\x0a\x0a/*\x20Ribbon\x20Rows\x20*/\x0a.ribbon-row\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x206px;\x0a\x20\x20\x20\x20margin-bottom:\x206px;\x0a\x20\x20\x20\x20justify-content:\x20flex-start;\x0a}\x0a\x0a.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20margin-left:\x2060px;\x0a}\x0a\x0a/*\x20Individual\x20Military\x20Ribbon\x20Styling\x20-\x20FIXED\x20OVERFLOW\x20FOR\x20LEVEL\x20INDICATOR\x20*/\x0a.military-ribbon\x20{\x0a\x20\x20\x20\x20position:\x20relative;\x0a\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20transition:\x20transform\x200.3s\x20ease;\x0a\x20\x20\x20\x20flex-shrink:\x200;\x0a\x20\x20\x20\x20width:\x20190px;\x0a\x20\x20\x20\x20height:\x2060px;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#333;\x0a\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20overflow:\x20visible;\x20/*\x20Changed\x20from\x20hidden\x20to\x20visible\x20*/\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20margin:\x2012px\x2012px\x2012px\x200;\x20/*\x20Added\x20margin\x20to\x20prevent\x20clipping\x20*/\x0a}\x0a\x0a.military-ribbon:hover\x20{\x0a\x20\x20\x20\x20transform:\x20translateY(-4px);\x0a\x20\x20\x20\x20z-index:\x2010;\x0a}\x0a\x0a/*\x20Ribbon\x20image\x20container\x20to\x20handle\x20the\x20actual\x20overflow\x20*/\x0a.ribbon-image-container\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20border-radius:\x201px;\x0a}\x0a\x0a.ribbon-image\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20object-fit:\x20cover;\x0a\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20image-rendering:\x20crisp-edges;\x0a}\x0a\x0a.ribbon-fallback\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20text-shadow:\x200\x202px\x204px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a}\x0a\x0a.ribbon-name\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.9);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201.2;\x0a\x20\x20\x20\x20margin-top:\x206px;\x0a\x20\x20\x20\x20max-width:\x20120px;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20text-overflow:\x20ellipsis;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20-24px;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20font-weight:\x20500;\x0a}\x0a\x0a.military-ribbon:hover\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20display:\x20block;\x0a}\x0a\x0a.ribbon-devices\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x2050%;\x0a\x20\x20\x20\x20right:\x206px;\x0a\x20\x20\x20\x20transform:\x20translateY(-50%);\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x203px;\x0a\x20\x20\x20\x20z-index:\x205;\x0a}\x0a\x0a.ribbon-device\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20text-shadow:\x200\x200\x204px\x20rgba(0,0,0,0.9);\x0a\x20\x20\x20\x20filter:\x20drop-shadow(0\x202px\x204px\x20rgba(0,0,0,0.8));\x0a}\x0a\x0a.bronze-star\x20{\x0a\x20\x20\x20\x20color:\x20#CD7F32;\x0a}\x0a\x0a.silver-star\x20{\x0a\x20\x20\x20\x20color:\x20#C0C0C0;\x0a}\x0a\x0a.gold-star\x20{\x0a\x20\x20\x20\x20color:\x20#FFD700;\x0a}\x0a\x0a/*\x20Level\x20indicator\x20-\x20NOW\x20FULLY\x20VISIBLE\x20*/\x0a.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x20-8px;\x0a\x20\x20\x20\x20right:\x20-8px;\x0a\x20\x20\x20\x20background:\x20#FFD700;\x0a\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20width:\x2024px;\x0a\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#FFF;\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x208px\x20rgba(0,0,0,0.7);\x0a\x20\x20\x20\x20z-index:\x206;\x0a}\x0a\x0a/*\x20Custom\x20tooltip\x20-\x20only\x20this\x20one\x20will\x20show\x20*/\x0a.military-ribbon::before\x20{\x0a\x20\x20\x20\x20content:\x20attr(data-tooltip);\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20100%;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20background:\x20rgba(0,0,0,0.95);\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20padding:\x208px\x2012px;\x0a\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20pointer-events:\x20none;\x0a\x20\x20\x20\x20transition:\x20opacity\x200.3s;\x0a\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20margin-bottom:\x208px;\x0a\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(255,\x20255,\x20255,\x200.2);\x0a}\x0a\x0a.military-ribbon:hover::before\x20{\x0a\x20\x20\x20\x20opacity:\x201;\x0a}\x0a\x0a/*\x20Responsive\x20adjustments\x20*/\x0a@media\x20(max-width:\x201024px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2034px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x208px\x208px\x208px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-6px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-6px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2052px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-20px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20768px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2028px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x206px\x206px\x206px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x209px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-5px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-5px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2042px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2011px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-18px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x205px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20480px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2070px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x205px\x205px\x205px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2036px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x204px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-4px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-4px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a.stats-grid\x20.ribbon-section\x20{\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20padding:\x200;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20{\x0a\x20\x20\x20\x20background-color:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20padding:\x2025px;\x0a\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20.stat-label\x20{\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20text-transform:\x20uppercase;\x0a\x20\x20\x20\x20opacity:\x200.9;\x0a\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.95);\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a}\x0a\x0a.ribbon-level-indicator.level-1\x20{\x20background:\x20#808080;\x20}\x0a.ribbon-level-indicator.level-2\x20{\x20background:\x20#CD7F32;\x20}\x0a.ribbon-level-indicator.level-3\x20{\x20background:\x20#b9f1fc;\x20}\x0a.ribbon-level-indicator.level-4\x20{\x20background:\x20#FFD700;\x20}\x0a.ribbon-level-indicator.level-5-plus\x20{\x20background:\x20#50C878;\x20}\x0a','Beat\x20a\x20pilot\x20with\x20the\x20\x22Rematch\x22\x20subgame\x20selected','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getCachedMatches','error','approvedMatches','description','‚ùå\x20No\x20ELO\x20rating\x20data\x20for\x20','#C0C0C0','uniqueOpponents','memoryCache','\x20earned\x20','#6C5CE7','evaluateRematchRibbonFromCount','autoCleanup','üîç\x20Checking\x20underdog:\x20Winner(','CACHE_DURATION','winnerUsername','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22military-ribbon\x22\x20data-tooltip=\x22','Gold','Socialite\x20Ribbon','loserUsername','evaluateTopRankRibbon'];a51_0x27d9=function(){return _0x5f4292;};return a51_0x27d9();}function a51_0x23f4(_0x3a152d,_0xd0e8ed){const _0x57a8d9=a51_0x27d9();return a51_0x23f4=function(_0x55dbd9,_0x36b7c8){_0x55dbd9=_0x55dbd9-0xb4;let _0x27d97e=_0x57a8d9[_0x55dbd9];return _0x27d97e;},a51_0x23f4(_0x3a152d,_0xd0e8ed);}import{doc,getDoc,setDoc,collection,query,where,getDocs,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const RIBBON_DEFINITIONS={'Rematch\x20Ribbon':{'description':a51_0x5720c6(0x120),'image':'../images/ribbons/Rematch.png','color':'#FF6B6B'},'Overachiever\x20Ribbon':{'description':'Played\x20over\x20100\x20matches','image':'../images/ribbons/Overachiever.png','color':'#96CEB4','levels':[0x64,0xc8,0x12c,0x190,0x1f4,0x258,0x2bc,0x320,0x384,0x3e8]},'Brick\x20Wall':{'description':a51_0x5720c6(0xbe),'image':'../images/ribbons/BrickWall.png','color':'#F0932B','levels':[0x50,0x55,0x5a,0x5f,0x64]},'Collector\x20Ribbon':{'description':'Hold\x20more\x20than\x205\x20ribbons\x20at\x20a\x20time','image':'../images/ribbons/Collector.png','color':a51_0x5720c6(0x12b),'levels':[0x5,0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32]},'Sub-Gamer\x20Ribbon':{'description':'Play\x20over\x2050\x20subgame\x20matches','image':'../images/ribbons/Subgamer.png','color':'#A29BFE','levels':[0x32,0x64,0x96,0xc8,0xfa,0x12c,0x15e,0x190,0x1c2,0x1f4]},'Explorer\x20Ribbon':{'description':'Played\x20at\x20least\x2020\x20unique\x20maps','image':'../images/ribbons/Explorer.png','color':'#55A3FF','levels':[0x14,0x28,0x3c,0x50,0x64,0x78,0x8c,0xa0,0xb4,0xc8]},'Socialite\x20Ribbon':{'description':'Played\x20at\x20least\x2010\x20unique\x20pilots','image':a51_0x5720c6(0xcd),'color':'#FF7675','levels':[0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32,0x37]},'Underdog\x20Ribbon':{'description':'Beat\x20a\x20pilot\x20ranked\x20higher\x20than\x20you','image':a51_0x5720c6(0xf7),'color':a51_0x5720c6(0xe3),'levels':[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0x9,0xa]},'Domination\x20Ribbon':{'description':'Beat\x205\x20unique\x20pilots\x20in\x20a\x20rank\x20(including\x20your\x20own)','image':'../images/ribbons/Domination.png','color':'#8E44AD','levels':[0x1,0x2,0x3,0x4,0x5]},'Top\x20Bronze\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Bronze\x20rank','image':'../images/ribbons/toprank.png','color':a51_0x5720c6(0x10a)},'Top\x20Silver\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Silver\x20rank','image':'../images/ribbons/toprank.png','color':a51_0x5720c6(0x127)},'Top\x20Gold\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Gold\x20rank','image':'../images/ribbons/toprank.png','color':'#FFD700'},'Top\x20Emerald\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Emerald\x20rank','image':a51_0x5720c6(0xea),'color':a51_0x5720c6(0x100)}};export const RIBBON_CSS=a51_0x5720c6(0x11f);class RibbonCacheManager{constructor(){const _0x217a89=a51_0x5720c6;this[_0x217a89(0x129)]=new Map(),this[_0x217a89(0x12f)]=0x3c*0x3c*0x3e8,this['CACHE_KEY_PREFIX']='ribbon_cache_',this['lastCleanup']=Date['now'](),this[_0x217a89(0x118)]=0x1e*0x3c*0x3e8;}['getCacheKey'](_0x14f1b4,_0x1e8668){return''+this['CACHE_KEY_PREFIX']+_0x14f1b4+'_'+_0x1e8668;}[a51_0x5720c6(0xdb)](_0x48aaab,_0x2bbed4){const _0xca0d8c=a51_0x5720c6;this[_0xca0d8c(0x12d)]();const _0x144cab=this['getCacheKey'](_0x48aaab,_0x2bbed4);if(this['memoryCache']['has'](_0x144cab)){const _0x21d247=this['memoryCache']['get'](_0x144cab);if(Date[_0xca0d8c(0xbc)]()-_0x21d247['timestamp']<this['CACHE_DURATION'])return console[_0xca0d8c(0xef)]('üöÄ\x20Cache\x20hit\x20(memory)\x20for\x20'+_0x48aaab),_0x21d247[_0xca0d8c(0xe4)];this[_0xca0d8c(0x129)]['delete'](_0x144cab);}const _0x5aa763=localStorage['getItem'](_0x144cab);if(_0x5aa763)try{const _0x1350f7=JSON['parse'](_0x5aa763);if(Date['now']()-_0x1350f7['timestamp']<this['CACHE_DURATION'])return this['memoryCache'][_0xca0d8c(0xf8)](_0x144cab,{'data':_0x1350f7['ribbons'],'timestamp':_0x1350f7['timestamp'],'matchCount':_0x1350f7[_0xca0d8c(0xb5)]}),console['log'](_0xca0d8c(0xe7)+_0x48aaab),_0x1350f7['ribbons'];localStorage['removeItem'](_0x144cab);}catch(_0x14d454){localStorage['removeItem'](_0x144cab);}return null;}['setCachedData'](_0x5df306,_0x2144aa,_0x41e15a,_0x33f378){const _0x5a8521=a51_0x5720c6,_0x406952=this['getCacheKey'](_0x5df306,_0x2144aa),_0x3e2c02=Date[_0x5a8521(0xbc)]();this[_0x5a8521(0x129)][_0x5a8521(0xf8)](_0x406952,{'data':_0x41e15a,'timestamp':_0x3e2c02,'matchCount':_0x33f378});try{const _0x377b38={'ribbons':_0x41e15a,'matchCount':_0x33f378,'timestamp':_0x3e2c02,'version':0x3};localStorage['setItem'](_0x406952,JSON[_0x5a8521(0x115)](_0x377b38));}catch(_0x17ba31){this[_0x5a8521(0xd4)]();try{localStorage[_0x5a8521(0xc5)](_0x406952,JSON['stringify'](data));}catch(_0x5827b8){}}}['shouldRefreshCache'](_0x468ed6,_0x1c9d7e,_0x566d34){const _0x9d945d=a51_0x5720c6,_0x2b3f4b=this['getCacheKey'](_0x468ed6,_0x1c9d7e);if(this[_0x9d945d(0x129)][_0x9d945d(0xb7)](_0x2b3f4b)){const _0x381521=this[_0x9d945d(0x129)][_0x9d945d(0xc8)](_0x2b3f4b);return _0x381521[_0x9d945d(0xb5)]!==_0x566d34;}const _0x31c2ee=localStorage['getItem'](_0x2b3f4b);if(_0x31c2ee)try{const _0x220932=JSON['parse'](_0x31c2ee);return _0x220932['matchCount']!==_0x566d34;}catch(_0x57b40b){return!![];}return!![];}['invalidatePlayerCache'](_0x786c0a,_0x130328){const _0x35d1fb=a51_0x5720c6,_0x2edd16=this['getCacheKey'](_0x786c0a,_0x130328);this['memoryCache'][_0x35d1fb(0xb6)](_0x2edd16),localStorage['removeItem'](_0x2edd16),console[_0x35d1fb(0xef)]('üóëÔ∏è\x20Invalidated\x20cache\x20for\x20'+_0x786c0a+'\x20('+_0x130328+')\x20-\x20new\x20match\x20detected');}[a51_0x5720c6(0x12d)](){const _0x4b9aa5=a51_0x5720c6,_0x50684b=Date['now']();_0x50684b-this[_0x4b9aa5(0x102)]>this['CLEANUP_INTERVAL']&&(this['cleanup'](),this['lastCleanup']=_0x50684b);}['cleanup'](){const _0xe772ad=a51_0x5720c6,_0x59ddf2=Date['now']();let _0x56f376=0x0,_0x5666cf=0x0;for(const [_0x1e2d1,_0x224aad]of this['memoryCache'][_0xe772ad(0xe1)]()){_0x59ddf2-_0x224aad['timestamp']>this['CACHE_DURATION']&&(this[_0xe772ad(0x129)][_0xe772ad(0xb6)](_0x1e2d1),_0x56f376++);}for(let _0xd7d4de=localStorage[_0xe772ad(0xee)]-0x1;_0xd7d4de>=0x0;_0xd7d4de--){const _0x376b08=localStorage['key'](_0xd7d4de);if(_0x376b08&&_0x376b08['startsWith'](this[_0xe772ad(0xcb)]))try{const _0x514106=JSON['parse'](localStorage['getItem'](_0x376b08));_0x59ddf2-_0x514106['timestamp']>this['CACHE_DURATION']&&(localStorage['removeItem'](_0x376b08),_0x5666cf++);}catch(_0x108c3e){localStorage['removeItem'](_0x376b08),_0x5666cf++;}}}[a51_0x5720c6(0xd4)](){const _0x50963c=a51_0x5720c6,_0x3aae8f=[];for(let _0x171240=0x0;_0x171240<localStorage[_0x50963c(0xee)];_0x171240++){const _0x37de97=localStorage['key'](_0x171240);if(_0x37de97&&_0x37de97['startsWith'](this['CACHE_KEY_PREFIX']))try{const _0x2db292=JSON['parse'](localStorage[_0x50963c(0xcf)](_0x37de97));_0x3aae8f['push']({'key':_0x37de97,'timestamp':_0x2db292['timestamp']});}catch(_0x3112f8){localStorage['removeItem'](_0x37de97);}}_0x3aae8f['sort']((_0x480b32,_0x3cee6a)=>_0x480b32['timestamp']-_0x3cee6a['timestamp']);const _0x25357b=Math['floor'](_0x3aae8f['length']/0x2);for(let _0x14f652=0x0;_0x14f652<_0x25357b;_0x14f652++){localStorage['removeItem'](_0x3aae8f[_0x14f652]['key']);}}['getCacheStats'](){const _0x371316=a51_0x5720c6;return{'memoryEntries':this[_0x371316(0x129)]['size'],'lastCleanup':new Date(this['lastCleanup'])[_0x371316(0xfe)]()};}}class MatchCacheManager{constructor(){const _0x1aae62=a51_0x5720c6;this['matchCache']=new Map(),this[_0x1aae62(0x12f)]=0xf*0x3c*0x3e8,this['lastCleanup']=Date['now']();}[a51_0x5720c6(0x122)](_0x3d1df3,_0x9e0dcb){const _0x1ab144=a51_0x5720c6;this['autoCleanup']();const _0x2203a9=_0x3d1df3+'_'+_0x9e0dcb,_0x2ab793=this['matchCache'][_0x1ab144(0xc8)](_0x2203a9);if(_0x2ab793&&Date['now']()-_0x2ab793['timestamp']<this['CACHE_DURATION'])return console['log'](_0x1ab144(0xd5)+_0x3d1df3),_0x2ab793['matches'];return _0x2ab793&&this['matchCache']['delete'](_0x2203a9),null;}['setCachedMatches'](_0x1f1350,_0x4e2ebb,_0x18f525){const _0x440383=_0x1f1350+'_'+_0x4e2ebb;this['matchCache']['set'](_0x440383,{'matches':_0x18f525,'timestamp':Date['now']()});}[a51_0x5720c6(0x12d)](){const _0x281147=a51_0x5720c6,_0x2093ab=Date['now']();if(_0x2093ab-this['lastCleanup']>0x5*0x3c*0x3e8){let _0x2c331a=0x0;for(const [_0x4be15a,_0x5b20af]of this['matchCache']['entries']()){_0x2093ab-_0x5b20af['timestamp']>this['CACHE_DURATION']&&(this[_0x281147(0xf9)]['delete'](_0x4be15a),_0x2c331a++);}this['lastCleanup']=_0x2093ab;}}['getCacheStats'](){return{'entries':this['matchCache']['size'],'lastCleanup':new Date(this['lastCleanup'])['toLocaleTimeString']()};}}class RibbonSystem{constructor(){const _0x4e2c4a=a51_0x5720c6;this['pendingEvaluations']=new Map(),this['batchTimer']=null,this[_0x4e2c4a(0xe6)]=0x32,this['playerDataCache']=new Map();}async['bulkLoadPlayerData'](_0x3f48b7,_0x19b1b2){const _0x1f7644=a51_0x5720c6,_0x5a09bf=_0x19b1b2==='D1'?'players':_0x19b1b2==='D2'?_0x1f7644(0xb4):'playersD3',_0x418cfa=collection(db,_0x5a09bf),_0xb82ed8=await getDocs(_0x418cfa),_0x791b76=new Map();return _0xb82ed8['forEach'](_0x1c254f=>{const _0x239dd1=_0x1f7644,_0x3dff81=_0x1c254f['data']();_0x3dff81['username']&&(_0x3dff81[_0x239dd1(0x113)]!==undefined&&(_0x3dff81[_0x239dd1(0xda)]=_0x3dff81['eloRating']),_0x791b76[_0x239dd1(0xf8)](_0x3dff81[_0x239dd1(0xfd)],_0x3dff81));}),console['log']('üìä\x20Bulk\x20loaded\x20'+_0x791b76['size']+_0x1f7644(0x11a)+_0x5a09bf),_0x791b76;}async[a51_0x5720c6(0x104)](_0x43f2b7,_0x37c5f5,_0x27510a,_0xeb26ff){const _0x2ed636=a51_0x5720c6,_0x1b569a={},_0xe6a5f4=_0x37c5f5['username'],_0x1f3967={'totalMatches':_0x43f2b7['length'],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0,'dominatedRanks':new Set()},_0x49fbb1=new Set();_0x43f2b7[_0x2ed636(0xcc)](_0x2be348=>{const _0x132541=_0x2ed636,_0x27d48f=_0x2be348[_0x132541(0x130)]===_0xe6a5f4,_0x2b2566=_0x27d48f?_0x2be348['loserUsername']:_0x2be348[_0x132541(0x130)];if(_0x2b2566)_0x49fbb1['add'](_0x2b2566);}),console[_0x2ed636(0xef)]('üöÄ\x20Bulk\x20loading\x20'+_0x49fbb1['size']+'\x20player\x20records\x20for\x20underdog\x20calculations...');const _0x4f494f=await this['bulkLoadPlayerData']([..._0x49fbb1,_0xe6a5f4],_0xeb26ff),_0x43bfb5=_0x4f494f[_0x2ed636(0xc8)](_0xe6a5f4);!_0x43bfb5&&console[_0x2ed636(0xef)]('‚ö†Ô∏è\x20No\x20current\x20player\x20data\x20found\x20for\x20'+_0xe6a5f4);const _0x4fd321={0x0:new Set(),0x1:new Set(),0x2:new Set(),0x3:new Set(),0x4:new Set()};_0x43f2b7['forEach'](_0x8ecea6=>{const _0x1e4c75=_0x2ed636,_0x18ca39=_0x8ecea6['winnerUsername']===_0xe6a5f4,_0x42f53d=_0x18ca39?_0x8ecea6['loserUsername']:_0x8ecea6['winnerUsername'];if(_0x18ca39){_0x1f3967['wins']++;_0x8ecea6['subgameType']===_0x1e4c75(0x11e)&&_0x1f3967['rematchWins']++;this['isUnderdogVictoryFast'](_0x8ecea6,_0xe6a5f4,_0x43bfb5,_0x4f494f)&&_0x1f3967['underdogWins']++;const _0x112ee6=_0x4f494f['get'](_0x42f53d);if(_0x112ee6){const _0x1372b=_0x112ee6[_0x1e4c75(0x113)]||0x0,_0x5192d3=getPlayerRankTier(_0x1372b);_0x4fd321[_0x5192d3]['add'](_0x42f53d);}}_0x8ecea6['subgameType']&&_0x8ecea6[_0x1e4c75(0xce)]!==_0x1e4c75(0x111)&&_0x1f3967['subgameMatches']++,_0x8ecea6['mapPlayed']&&_0x1f3967['uniqueMaps']['add'](_0x8ecea6[_0x1e4c75(0x10d)]),_0x42f53d&&_0x1f3967[_0x1e4c75(0x128)]['add'](_0x42f53d);}),Object['keys'](_0x4fd321)['forEach'](_0x4a1ccd=>{_0x4fd321[_0x4a1ccd]['size']>=0x5&&_0x1f3967['dominatedRanks']['add'](parseInt(_0x4a1ccd));}),console[_0x2ed636(0xef)](_0x2ed636(0xc0)+_0x1f3967['underdogWins']+'\x20underdog\x20victories\x20for\x20'+_0xe6a5f4),console['log']('üëë\x20Dominated\x20'+_0x1f3967['dominatedRanks']['size']+'\x20ranks:\x20['+Array[_0x2ed636(0xd6)](_0x1f3967['dominatedRanks'])['map'](_0x16653f=>getRankTierName(_0x16653f))['join'](',\x20')+']');const _0x665ec6=_0x1f3967['totalMatches']>0x0?_0x1f3967['wins']/_0x1f3967['totalMatches']*0x64:0x0,_0x5a3a40=[[_0x2ed636(0xc2),this['evaluateOverachieverRibbonFromCount'](_0x1f3967[_0x2ed636(0x119)],_0x27510a)],['Rematch\x20Ribbon',this['evaluateRematchRibbonFromCount'](_0x1f3967['rematchWins'],_0x27510a)],[_0x2ed636(0x110),this['evaluateSubGamerRibbonFromCount'](_0x1f3967['subgameMatches'],_0x27510a)],['Explorer\x20Ribbon',this['evaluateExplorerRibbonFromCount'](_0x1f3967[_0x2ed636(0x10c)][_0x2ed636(0xc4)],_0x27510a)],['Socialite\x20Ribbon',this['evaluateSocialiteRibbonFromCount'](_0x1f3967['uniqueOpponents']['size'],_0x27510a)],[_0x2ed636(0x10e),this[_0x2ed636(0xd0)](_0x665ec6,_0x27510a,_0x1f3967[_0x2ed636(0x119)])],[_0x2ed636(0x11c),this[_0x2ed636(0xeb)](_0x1f3967['underdogWins'],_0x27510a)],['Domination\x20Ribbon',this[_0x2ed636(0xd3)](_0x1f3967['dominatedRanks']['size'],_0x27510a)]];_0x5a3a40['forEach'](([_0x5e4dc3,_0x14f791])=>{_0x14f791&&(_0x1b569a[_0x5e4dc3]=_0x14f791);});const _0x47f9b1=Object['keys'](_0x27510a)[_0x2ed636(0xee)]+Object['keys'](_0x1b569a)['length'],_0x4eb2dd=this['evaluateCollectorRibbonFromCount'](_0x47f9b1,_0x27510a);return _0x4eb2dd&&(_0x1b569a['Collector\x20Ribbon']=_0x4eb2dd),_0x1b569a;}[a51_0x5720c6(0xd3)](_0x4fd720,_0x304914){const _0xb41c9b=a51_0x5720c6;if(_0x4fd720===0x0)return null;const _0x354095=_0x304914['Domination\x20Ribbon']||{'level':0x0};if(_0x4fd720>_0x354095['level']){const _0x577e76=[];for(let _0x2dff91=0x0;_0x2dff91<_0x4fd720;_0x2dff91++){_0x577e76['push'](getRankTierName(_0x2dff91));}return console['log']('üëë\x20Domination\x20Ribbon\x20awarded:\x20Level\x20'+_0x354095[_0xb41c9b(0xf1)]+'\x20‚Üí\x20'+_0x4fd720+'\x20(Dominated:\x20'+_0x577e76[_0xb41c9b(0x11b)](',\x20')+')'),{'level':_0x4fd720,'awardedAt':new Date(),'dominatedRanks':_0x577e76};}return null;}async['checkTopRankStatus'](_0x2d1cac,_0x2dac3b){const _0x742567=a51_0x5720c6;try{const _0x37ed27=_0x2dac3b==='D1'?'players':_0x2dac3b==='D2'?'playersD2':_0x742567(0xe8),_0x39fc3e=await this['getPlayerDataCached'](_0x2d1cac,_0x2dac3b);if(!_0x39fc3e||_0x39fc3e['eloRating']===undefined)return console[_0x742567(0xef)](_0x742567(0x126)+_0x2d1cac),null;const _0x2b328a=_0x39fc3e['eloRating'],_0x37d1b9=getPlayerRankTier(_0x2b328a),_0x4ae200=getRankTierName(_0x37d1b9);if(_0x4ae200===_0x742567(0xdf))return console['log']('‚ùå\x20'+_0x2d1cac+'\x20is\x20Unranked\x20('+_0x2b328a+_0x742567(0xdc)),null;console['log']('üîç\x20Checking\x20Top\x20'+_0x4ae200+_0x742567(0xdd)+_0x2d1cac+'\x20('+_0x2b328a+'\x20ELO)');const _0xdad155=collection(db,_0x37ed27),_0x19fcd2=await getDocs(_0xdad155);let _0x402435=null,_0x34e55b=-0x1,_0x5d4a27=0x0;_0x19fcd2['forEach'](_0x50a9e9=>{const _0x577567=_0x742567,_0x53a81f=_0x50a9e9['data'](),_0x445cf3=_0x53a81f[_0x577567(0x113)]||0x0,_0x537edb=getPlayerRankTier(_0x445cf3);_0x537edb===_0x37d1b9&&(_0x5d4a27++,_0x445cf3>_0x34e55b&&(_0x34e55b=_0x445cf3,_0x402435=_0x53a81f['username']));});const _0x3279a2=_0x402435===_0x2d1cac;return console[_0x742567(0xef)]('üìä\x20'+_0x4ae200+'\x20Tier:\x20'+_0x5d4a27+'\x20players,\x20Top:\x20'+_0x402435+'\x20('+_0x34e55b+'\x20ELO),\x20'+_0x2d1cac+'\x20is\x20#1:\x20'+_0x3279a2),_0x3279a2?_0x4ae200:null;}catch(_0x4f5dcf){return console['error']('Error\x20checking\x20top\x20rank\x20status:',_0x4f5dcf),null;}}async[a51_0x5720c6(0x135)](_0x5ef310,_0x384638,_0x8eaafc){const _0x32c995=a51_0x5720c6,_0x3c7ce4=await this[_0x32c995(0xf6)](_0x5ef310,_0x384638),_0xad6767={};if(_0x3c7ce4){const _0x1ac922=_0x32c995(0x103)+_0x3c7ce4+_0x32c995(0xba);if(RIBBON_DEFINITIONS[_0x1ac922]){const _0x1c605b=_0x8eaafc[_0x1ac922];!_0x1c605b?(console[_0x32c995(0xef)]('üëë\x20NEW\x20Top\x20Rank\x20Achievement:\x20'+_0x5ef310+_0x32c995(0x12a)+_0x1ac922+'!'),_0xad6767[_0x1ac922]={'level':0x1,'awardedAt':new Date(),'rank':_0x3c7ce4,'achievedAt':new Date()}):console[_0x32c995(0xef)]('‚úÖ\x20'+_0x5ef310+'\x20already\x20has\x20'+_0x1ac922+'\x20-\x20No\x20changes\x20needed');}}return Object['keys'](_0x8eaafc)[_0x32c995(0xcc)](_0x4debeb=>{const _0x4c36d6=_0x32c995;_0x4debeb[_0x4c36d6(0xbb)]('Top\x20')&&_0x4debeb['endsWith'](_0x4c36d6(0xba))&&(!_0xad6767[_0x4debeb]&&console['log']('‚úÖ\x20Preserving\x20existing\x20'+_0x4debeb));}),_0xad6767;}async['evaluateAllRibbonsForPlayerOptimized'](_0xc45214,_0x4d6dbf='D1'){const _0x4a5bdf=a51_0x5720c6;try{const _0x49064b=ribbonCache[_0x4a5bdf(0xdb)](_0xc45214,_0x4d6dbf);if(_0x49064b){const _0x1ea1fa=await this[_0x4a5bdf(0x135)](_0xc45214,_0x4d6dbf,_0x49064b);if(Object['keys'](_0x1ea1fa)['length']>0x0){console['log']('üÜï\x20New\x20top\x20rank\x20achievements\x20found\x20for\x20cached\x20player\x20'+_0xc45214),await this['savePlayerRibbonsOptimized'](_0xc45214,_0x1ea1fa,_0x4d6dbf);const _0x1fbc27={..._0x49064b,..._0x1ea1fa};return ribbonCache['setCachedData'](_0xc45214,_0x4d6dbf,_0x1fbc27,0x0),_0x1fbc27;}return _0x49064b;}const [_0x405010,_0xe59489]=await Promise['all']([this['getPlayerDataCached'](_0xc45214,_0x4d6dbf),this[_0x4a5bdf(0xe2)](_0xc45214,_0x4d6dbf)]);if(!_0x405010)return{};const _0x866d0f=_0x405010['matchesPlayed']||0x0,_0x87aa55=await this['evaluateTopRankRibbon'](_0xc45214,_0x4d6dbf,_0xe59489);if(!ribbonCache['shouldRefreshCache'](_0xc45214,_0x4d6dbf,_0x866d0f)){if(Object[_0x4a5bdf(0x112)](_0x87aa55)['length']>0x0){await this[_0x4a5bdf(0xe9)](_0xc45214,_0x87aa55,_0x4d6dbf);const _0x4f7032={..._0xe59489,..._0x87aa55};return ribbonCache['setCachedData'](_0xc45214,_0x4d6dbf,_0x4f7032,_0x866d0f),_0x4f7032;}return ribbonCache['setCachedData'](_0xc45214,_0x4d6dbf,_0xe59489,_0x866d0f),_0xe59489;}const _0x23de8e=await this['getPlayerMatchesOptimized'](_0xc45214,_0x4d6dbf),_0x261e9f=await this[_0x4a5bdf(0x104)](_0x23de8e,_0x405010,_0xe59489,_0x4d6dbf);Object['assign'](_0x261e9f,_0x87aa55);Object['keys'](_0x261e9f)['length']>0x0&&(console['log'](_0x4a5bdf(0x105)+Object[_0x4a5bdf(0x112)](_0x261e9f)['length']+'\x20new/updated\x20ribbons\x20for\x20'+_0xc45214),await this['savePlayerRibbonsOptimized'](_0xc45214,_0x261e9f,_0x4d6dbf));const _0x16e0f4={..._0xe59489,..._0x261e9f};return ribbonCache['setCachedData'](_0xc45214,_0x4d6dbf,_0x16e0f4,_0x23de8e[_0x4a5bdf(0xee)]),_0x16e0f4;}catch(_0x118781){return console[_0x4a5bdf(0x123)]('‚ùå\x20Error\x20in\x20ribbon\x20evaluation:',_0x118781),{};}}async['isUnderdogVictory'](_0x59d146,_0x4751b7,_0x4014f4){const _0x103718=a51_0x5720c6,_0x3a5e46=_0x59d146['winnerUsername']===_0x4751b7;if(!_0x3a5e46)return![];const _0x22f5d3=_0x59d146['loserUsername'],[_0x1f71c9,_0x3ad885]=await Promise['all']([this[_0x103718(0x116)](_0x4751b7,_0x4014f4),this[_0x103718(0x116)](_0x22f5d3,_0x4014f4)]);if(!_0x1f71c9||!_0x3ad885)return console['log'](_0x103718(0xf2)+_0x4751b7+'\x20or\x20'+_0x22f5d3),![];const _0xedb0b4=_0x1f71c9['eloRating']||0x0,_0x12cbcc=_0x3ad885['eloRating']||0x0,_0x31015b=getPlayerRankTier(_0xedb0b4),_0x547f1b=getPlayerRankTier(_0x12cbcc);console['log'](_0x103718(0x12e)+_0x4751b7+_0x103718(0xfb)+_0xedb0b4+'\x20ELO\x20('+getRankTierName(_0x31015b)+')\x20vs\x20Loser('+_0x22f5d3+'):\x20'+_0x12cbcc+'\x20ELO\x20('+getRankTierName(_0x547f1b)+')');if(_0x547f1b>_0x31015b)return console[_0x103718(0xef)]('üéØ\x20UNDERDOG\x20VICTORY:\x20'+getRankTierName(_0x31015b)+'\x20beat\x20'+getRankTierName(_0x547f1b)+'!'),!![];return console['log']('‚ùå\x20Not\x20underdog:\x20'+getRankTierName(_0x31015b)+'\x20vs\x20'+getRankTierName(_0x547f1b)),![];}['isUnderdogVictoryFast'](_0x1b1039,_0x4ad4a0,_0x4fdcfc,_0x3a7702){const _0x511ce7=a51_0x5720c6,_0x401ca9=_0x1b1039['winnerUsername']===_0x4ad4a0;if(!_0x401ca9)return![];const _0x38ff46=_0x1b1039[_0x511ce7(0x134)],_0xf0c3a3=_0x3a7702[_0x511ce7(0xc8)](_0x38ff46);if(!_0x4fdcfc||!_0xf0c3a3)return![];const _0x38bdd0=_0x4fdcfc['eloRating']||0x0,_0x5b368f=_0xf0c3a3[_0x511ce7(0x113)]||0x0,_0x50f23a=getPlayerRankTier(_0x38bdd0),_0x2d6a62=getPlayerRankTier(_0x5b368f);if(_0x2d6a62>_0x50f23a)return console['log'](_0x511ce7(0x10b)+getRankTierName(_0x50f23a)+'('+_0x38bdd0+_0x511ce7(0xf5)+getRankTierName(_0x2d6a62)+'('+_0x5b368f+')'),!![];return![];}async[a51_0x5720c6(0x104)](_0x2eb86a,_0x42b3d2,_0x352164,_0x32a014){const _0x2ccace=a51_0x5720c6,_0x2a0950={},_0x4653e6=_0x42b3d2[_0x2ccace(0xfd)],_0x511a61={'totalMatches':_0x2eb86a[_0x2ccace(0xee)],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0},_0xe027b4=new Set();_0x2eb86a['forEach'](_0x4789b5=>{const _0x41f764=_0x2ccace,_0x2b9e2b=_0x4789b5[_0x41f764(0x130)]===_0x4653e6,_0x41bc12=_0x2b9e2b?_0x4789b5[_0x41f764(0x134)]:_0x4789b5['winnerUsername'];if(_0x41bc12)_0xe027b4['add'](_0x41bc12);}),console['log']('üöÄ\x20Bulk\x20loading\x20'+_0xe027b4['size']+'\x20player\x20records\x20for\x20underdog\x20calculations...');const _0x3981af=await this['bulkLoadPlayerData']([..._0xe027b4,_0x4653e6],_0x32a014),_0x563fa9=_0x3981af['get'](_0x4653e6);!_0x563fa9&&console['log']('‚ö†Ô∏è\x20No\x20current\x20player\x20data\x20found\x20for\x20'+_0x4653e6);_0x2eb86a[_0x2ccace(0xcc)](_0x37eea7=>{const _0x8cb740=_0x2ccace,_0x45ebac=_0x37eea7[_0x8cb740(0x130)]===_0x4653e6,_0x2c011f=_0x45ebac?_0x37eea7['loserUsername']:_0x37eea7[_0x8cb740(0x130)];_0x45ebac&&(_0x511a61[_0x8cb740(0x107)]++,_0x37eea7['subgameType']===_0x8cb740(0x11e)&&_0x511a61['rematchWins']++,this['isUnderdogVictoryFast'](_0x37eea7,_0x4653e6,_0x563fa9,_0x3981af)&&_0x511a61['underdogWins']++),_0x37eea7[_0x8cb740(0xce)]&&_0x37eea7['subgameType']!=='Standard'&&_0x511a61['subgameMatches']++,_0x37eea7[_0x8cb740(0x10d)]&&_0x511a61[_0x8cb740(0x10c)]['add'](_0x37eea7['mapPlayed']),_0x2c011f&&_0x511a61['uniqueOpponents']['add'](_0x2c011f);}),console['log']('üéØ\x20Found\x20'+_0x511a61['underdogWins']+_0x2ccace(0x11d)+_0x4653e6);const _0x3fd784=_0x511a61['totalMatches']>0x0?_0x511a61['wins']/_0x511a61['totalMatches']*0x64:0x0,_0x22d2d8=[['Overachiever\x20Ribbon',this['evaluateOverachieverRibbonFromCount'](_0x511a61[_0x2ccace(0x119)],_0x352164)],['Rematch\x20Ribbon',this['evaluateRematchRibbonFromCount'](_0x511a61['rematchWins'],_0x352164)],[_0x2ccace(0x110),this['evaluateSubGamerRibbonFromCount'](_0x511a61['subgameMatches'],_0x352164)],['Explorer\x20Ribbon',this[_0x2ccace(0x10f)](_0x511a61['uniqueMaps']['size'],_0x352164)],['Socialite\x20Ribbon',this['evaluateSocialiteRibbonFromCount'](_0x511a61['uniqueOpponents']['size'],_0x352164)],['Brick\x20Wall',this['evaluateBrickWallRibbonFromWinRate'](_0x3fd784,_0x352164,_0x511a61['totalMatches'])],[_0x2ccace(0x11c),this[_0x2ccace(0xeb)](_0x511a61['underdogWins'],_0x352164)]];_0x22d2d8['forEach'](([_0x240b0f,_0x3d8d44])=>{_0x3d8d44&&(_0x2a0950[_0x240b0f]=_0x3d8d44);});const _0x3f2070=Object['keys'](_0x352164)[_0x2ccace(0xee)]+Object[_0x2ccace(0x112)](_0x2a0950)[_0x2ccace(0xee)],_0x5efa0c=this['evaluateCollectorRibbonFromCount'](_0x3f2070,_0x352164);return _0x5efa0c&&(_0x2a0950['Collector\x20Ribbon']=_0x5efa0c),_0x2a0950;}async['getPlayerMatchesOptimized'](_0xd39832,_0x1620bd){const _0x3d2dfc=a51_0x5720c6,_0x1301d9=matchCache[_0x3d2dfc(0x122)](_0xd39832,_0x1620bd);if(_0x1301d9)return _0x1301d9;try{const _0x12f389=_0x1620bd==='D1'?_0x3d2dfc(0x124):_0x1620bd==='D2'?'approvedMatchesD2':'approvedMatchesD3',_0x5a6999=collection(db,_0x12f389),[_0x49be31,_0x392586]=await Promise['all']([getDocs(query(_0x5a6999,where('winnerUsername','==',_0xd39832))),getDocs(query(_0x5a6999,where('loserUsername','==',_0xd39832)))]),_0x1db041=new Set(),_0x3a3e6a=[];return _0x49be31[_0x3d2dfc(0xcc)](_0x2f1cfb=>{const _0xb2b468=_0x3d2dfc;if(!_0x1db041['has'](_0x2f1cfb['id'])){_0x1db041['add'](_0x2f1cfb['id']);const _0x1a264={'id':_0x2f1cfb['id'],..._0x2f1cfb[_0xb2b468(0xe4)]()};if(!_0x1a264['winnerRating'])_0x1a264[_0xb2b468(0x108)]=0x0;if(!_0x1a264['loserRating'])_0x1a264['loserRating']=0x0;_0x3a3e6a[_0xb2b468(0xf4)](_0x1a264);}}),_0x392586['forEach'](_0x5da92c=>{const _0x103af7=_0x3d2dfc;if(!_0x1db041['has'](_0x5da92c['id'])){_0x1db041[_0x103af7(0xd8)](_0x5da92c['id']);const _0x17e2ad={'id':_0x5da92c['id'],..._0x5da92c[_0x103af7(0xe4)]()};if(!_0x17e2ad['winnerRating'])_0x17e2ad['winnerRating']=0x0;if(!_0x17e2ad['loserRating'])_0x17e2ad['loserRating']=0x0;_0x3a3e6a[_0x103af7(0xf4)](_0x17e2ad);}}),matchCache['setCachedMatches'](_0xd39832,_0x1620bd,_0x3a3e6a),_0x3a3e6a;}catch(_0x4e0047){return console['error']('‚ùå\x20Error\x20fetching\x20matches:',_0x4e0047),[];}}async['getPlayerDataCached'](_0x14d7f2,_0x8e5143){const _0x2ee087=a51_0x5720c6;try{const _0x1f812f=_0x8e5143==='D1'?'players':_0x8e5143==='D2'?'playersD2':_0x2ee087(0xe8),_0x272014=collection(db,_0x1f812f),_0x23e732=query(_0x272014,where(_0x2ee087(0xfd),'==',_0x14d7f2),limit(0x1)),_0x234148=await getDocs(_0x23e732);if(_0x234148['empty'])return console['log'](_0x2ee087(0x109)+_0x14d7f2+'\x20in\x20'+_0x1f812f),null;const _0x448ede=_0x234148['docs'][0x0][_0x2ee087(0xe4)]();return _0x448ede[_0x2ee087(0x113)]!==undefined&&(_0x448ede['rating']=_0x448ede['eloRating']),console['log']('‚úÖ\x20Found\x20player\x20data\x20for\x20'+_0x14d7f2+_0x2ee087(0xb9)+_0x448ede['eloRating']+',\x20Position\x20'+_0x448ede['position']),_0x448ede;}catch(_0x44312b){return console['error']('Error\x20getting\x20player\x20data\x20for\x20'+_0x14d7f2+':',_0x44312b),null;}}async[a51_0x5720c6(0xe2)](_0x233a1a,_0x5b8f6){const _0x2b819=a51_0x5720c6;try{const _0x23b23b='playerRibbons'+(_0x5b8f6==='D1'?'':_0x5b8f6),_0x48f2f8=doc(db,_0x23b23b,_0x233a1a),_0x4921ce=await getDoc(_0x48f2f8);return _0x4921ce[_0x2b819(0x114)]()?_0x4921ce['data']()['ribbons']||{}:{};}catch(_0x24eb7){return console[_0x2b819(0x123)]('Error\x20getting\x20player\x20ribbons:',_0x24eb7),{};}}async[a51_0x5720c6(0xe9)](_0x39bf95,_0x34c39e,_0x2b736a){try{const _0x56f48e='playerRibbons'+(_0x2b736a==='D1'?'':_0x2b736a),_0x43b3a9=doc(db,_0x56f48e,_0x39bf95),_0x1e662c=await this['getPlayerRibbonsCached'](_0x39bf95,_0x2b736a),_0x39e572={..._0x1e662c,..._0x34c39e};await setDoc(_0x43b3a9,{'username':_0x39bf95,'ladder':_0x2b736a,'ribbons':_0x39e572,'lastUpdated':new Date()},{'merge':!![]});}catch(_0xdd8d1d){console['error']('Error\x20saving\x20ribbons:',_0xdd8d1d);}}['evaluateOverachieverRibbonFromCount'](_0x432bc3,_0x3070bb){const _0x554365=a51_0x5720c6,_0x1900ae=_0x3070bb['Overachiever\x20Ribbon']||{'level':0x0},_0x4694d6=RIBBON_DEFINITIONS['Overachiever\x20Ribbon']['levels'],_0x68b20b=_0x4694d6['findIndex'](_0x168303=>_0x432bc3<_0x168303),_0x493938=_0x68b20b===-0x1?_0x4694d6[_0x554365(0xee)]:_0x68b20b;if(_0x493938>_0x1900ae['level'])return{'level':_0x493938,'awardedAt':new Date()};return null;}[a51_0x5720c6(0x12c)](_0x27a022,_0x2c81f8){if(_0x27a022===0x0)return null;const _0x5122d6=_0x2c81f8['Rematch\x20Ribbon']||{'level':0x0};if(_0x27a022>_0x5122d6['level'])return{'level':_0x27a022,'awardedAt':new Date()};return null;}[a51_0x5720c6(0xbd)](_0x1de29c,_0x36711c){const _0x397798=a51_0x5720c6,_0x4ea82c=_0x36711c[_0x397798(0x110)]||{'level':0x0},_0x9ee020=RIBBON_DEFINITIONS['Sub-Gamer\x20Ribbon']['levels'],_0x5d94e7=_0x9ee020[_0x397798(0xc3)](_0x520ad1=>_0x1de29c<_0x520ad1),_0x1c00b4=_0x5d94e7===-0x1?_0x9ee020['length']:_0x5d94e7;if(_0x1c00b4>_0x4ea82c[_0x397798(0xf1)])return{'level':_0x1c00b4,'awardedAt':new Date()};return null;}['evaluateExplorerRibbonFromCount'](_0x5dad43,_0x2dacfb){const _0x109094=a51_0x5720c6,_0x29af6d=_0x2dacfb[_0x109094(0xb8)]||{'level':0x0},_0x362d01=RIBBON_DEFINITIONS['Explorer\x20Ribbon'][_0x109094(0xbf)],_0x169343=_0x362d01['findIndex'](_0x3457d8=>_0x5dad43<_0x3457d8),_0x2edde4=_0x169343===-0x1?_0x362d01['length']:_0x169343;if(_0x2edde4>_0x29af6d['level'])return{'level':_0x2edde4,'awardedAt':new Date()};return null;}['evaluateSocialiteRibbonFromCount'](_0x2309d3,_0x5d11a7){const _0x3b368e=a51_0x5720c6,_0xa490a0=_0x5d11a7[_0x3b368e(0x133)]||{'level':0x0},_0x5f150f=RIBBON_DEFINITIONS['Socialite\x20Ribbon']['levels'],_0x2cfd33=_0x5f150f['findIndex'](_0x5b0f4a=>_0x2309d3<_0x5b0f4a),_0x4e0ece=_0x2cfd33===-0x1?_0x5f150f['length']:_0x2cfd33;if(_0x4e0ece>_0xa490a0['level'])return{'level':_0x4e0ece,'awardedAt':new Date()};return null;}[a51_0x5720c6(0xd0)](_0x3b252c,_0x506dd2,_0x11886e){const _0x25dd1b=a51_0x5720c6;if(_0x11886e<0x32)return console['log']('‚ö†Ô∏è\x20Brick\x20Wall\x20ribbon\x20requires\x2050+\x20matches\x20(player\x20has\x20'+_0x11886e+')'),null;const _0x146efc=_0x506dd2[_0x25dd1b(0x10e)]||{'level':0x0},_0x2854fb=RIBBON_DEFINITIONS['Brick\x20Wall']['levels'],_0x565b1d=_0x2854fb[_0x25dd1b(0xc3)](_0x1dec08=>_0x3b252c<_0x1dec08),_0x5a0506=_0x565b1d===-0x1?_0x2854fb['length']:_0x565b1d;if(_0x5a0506>_0x146efc[_0x25dd1b(0xf1)])return console['log'](_0x25dd1b(0xc6)+_0x3b252c['toFixed'](0x1)+_0x25dd1b(0xed)+_0x11886e+'\x20matches'),{'level':_0x5a0506,'awardedAt':new Date(),'winRate':_0x3b252c,'matchesPlayed':_0x11886e};return null;}['evaluateCollectorRibbonFromCount'](_0x51a68b,_0x5194b1){const _0x39a7a5=a51_0x5720c6,_0x3e3f77=_0x5194b1[_0x39a7a5(0xf0)]||{'level':0x0},_0x98fc3e=RIBBON_DEFINITIONS['Collector\x20Ribbon']['levels'],_0x4543d2=_0x98fc3e['findIndex'](_0x2a6ec6=>_0x51a68b<_0x2a6ec6),_0x3d4da8=_0x4543d2===-0x1?_0x98fc3e['length']:_0x4543d2;if(_0x3d4da8>_0x3e3f77['level'])return{'level':_0x3d4da8,'awardedAt':new Date()};return null;}['evaluateUnderdogRibbonFromCount'](_0x48ff91,_0x3955fe){const _0x322795=a51_0x5720c6;if(_0x48ff91===0x0)return null;const _0x4496c3=_0x3955fe['Underdog\x20Ribbon']||{'level':0x0},_0x5bdd70=RIBBON_DEFINITIONS['Underdog\x20Ribbon']['levels'];let _0x42d1b=0x0;for(let _0x362590=0x0;_0x362590<_0x5bdd70[_0x322795(0xee)];_0x362590++){if(_0x48ff91>=_0x5bdd70[_0x362590])_0x42d1b=_0x362590+0x1;else break;}if(_0x42d1b>_0x4496c3[_0x322795(0xf1)])return console[_0x322795(0xef)]('üèÜ\x20Underdog\x20Ribbon\x20upgrade:\x20Level\x20'+_0x4496c3[_0x322795(0xf1)]+_0x322795(0xf3)+_0x42d1b+'\x20('+_0x48ff91+_0x322795(0xd1)),{'level':_0x42d1b,'awardedAt':new Date()};return null;}}function getPlayerRankTier(_0x2ceed9){if(_0x2ceed9===undefined||_0x2ceed9===null)return 0x0;const _0x4f52dc=Number(_0x2ceed9);if(isNaN(_0x4f52dc))return 0x0;if(_0x4f52dc>=0x7d0)return 0x4;if(_0x4f52dc>=0x708)return 0x3;if(_0x4f52dc>=0x640)return 0x2;if(_0x4f52dc>=0x578)return 0x1;return 0x0;}function getRankTierName(_0x2a4076){const _0x2a6532=a51_0x5720c6,_0x1cf6e8=['Unranked',_0x2a6532(0xff),'Silver',_0x2a6532(0x132),'Emerald'];return _0x1cf6e8[_0x2a4076]||'Unranked';}const ribbonSystem=new RibbonSystem(),ribbonCache=new RibbonCacheManager(),matchCache=new MatchCacheManager();typeof window!=='undefined'&&(window['getRibbonCacheStats']=()=>{return{'ribbon':ribbonCache['getCacheStats'](),'match':matchCache['getCacheStats']()};});export async function evaluatePlayerRibbons(_0x5e10ea,_0x3f4e26='D1'){const _0x4cf78c=a51_0x5720c6;return await ribbonSystem[_0x4cf78c(0xde)](_0x5e10ea,_0x3f4e26);}export function getRibbonHTML(_0x579f35,_0x2d19bd){const _0x21f5d6=a51_0x5720c6,_0x93940c=RIBBON_DEFINITIONS[_0x579f35];if(!_0x93940c)return'';const _0x2a533c=_0x2d19bd['level']||0x1,_0x223f6c=_0x579f35['replace']('\x20Ribbon','')[_0x21f5d6(0xd2)]('\x20Badge',''),_0x19e971=_0x1c798c=>{if(_0x1c798c<=0x1)return'level-1';if(_0x1c798c<=0x2)return'level-2';if(_0x1c798c<=0x3)return'level-3';if(_0x1c798c<=0x4)return'level-4';return'level-5-plus';},_0x5c6954=_0x4edbb0=>{const _0xf476d5=_0x21f5d6;if(_0x4edbb0<=0x1)return'';const _0x38e595=[];if(_0x4edbb0>=0x2&&_0x4edbb0<=0x4){const _0x4e8942=Math['min'](_0x4edbb0-0x1,0x3);for(let _0x6444cb=0x0;_0x6444cb<_0x4e8942;_0x6444cb++){_0x38e595['push'](_0xf476d5(0xfc));}}if(_0x4edbb0>=0x5&&_0x4edbb0<=0x7){_0x38e595[_0xf476d5(0xf4)](_0xf476d5(0xd9));const _0x2274a4=Math['min'](_0x4edbb0-0x5,0x2);for(let _0x33b876=0x0;_0x33b876<_0x2274a4;_0x33b876++){_0x38e595[_0xf476d5(0xf4)]('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>');}}return _0x4edbb0>=0x8&&_0x38e595['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20gold-star\x22></i>'),_0x38e595[_0xf476d5(0xee)]>0x0?_0xf476d5(0xc1)+_0x38e595['join']('')+_0xf476d5(0xc9):'';},_0x26e835=_0x93940c[_0x21f5d6(0x125)]+_0x21f5d6(0xe0)+_0x2a533c;return _0x21f5d6(0x131)+_0x26e835+_0x21f5d6(0x117)+_0x93940c['image']+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22'+_0x579f35+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22ribbon-image\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27;\x20this.nextElementSibling.style.display=\x27block\x27;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-fallback\x22\x20style=\x22display:\x20none;\x20background:\x20'+_0x93940c['color']+';\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x223f6c['substring'](0x0,0x6)+_0x21f5d6(0xfa)+_0x5c6954(_0x2a533c)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-name\x22>'+_0x223f6c+_0x21f5d6(0x121)+(_0x2a533c>0x1?'<div\x20class=\x22ribbon-level-indicator\x20'+_0x19e971(_0x2a533c)+'\x22>'+_0x2a533c+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}