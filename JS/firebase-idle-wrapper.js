const a19l=a19b;(function(a,b){const i=a19b,c=a();while(!![]){try{const d=-parseInt(i(0x15a))/0x1+parseInt(i(0x167))/0x2*(parseInt(i(0x176))/0x3)+parseInt(i(0x17c))/0x4+-parseInt(i(0x169))/0x5*(parseInt(i(0x166))/0x6)+parseInt(i(0x151))/0x7*(-parseInt(i(0x17e))/0x8)+parseInt(i(0x156))/0x9+parseInt(i(0x14d))/0xa;if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a19a,0xe2830));import{auth,db}from'./firebase-config.js';import{handleNetworkError}from'./idle-timeout.js';function a19a(){const D=['w0zPCMvIyxnLswrSzv0Gu3vZCgvUzgLUzYbHBgWGywn0AxzLigXPC3rLBMvYCZO','ihrVDgfSig9WzxjHDgLVBNm','CgvUzgLUz09WzxjHDgLVBNm','w0zPCMvIyxnLswrSzv0GrxjYB3iGC3vZCgvUzgLUzYbSAxn0zw5LCJO','w0zPCMvIyxnLswrSzv0GrxjYB3iGDw5ZDwjZy3jPyMLUzYbSAxn0zw5LCIa','y2XLyxi','C2fMzu9WzxjHDgLVBG','ywn0AxzLtgLZDgvUzxjZ','odi5mZqXr2vxCwz4','yxjNCW','w0zPCMvIyxnLswrSzv0Gu3vZCgvUzgLUzYbSAxn0zw5LCJO','y2f0y2G','C2v0','w0zPCMvIyxnLswrSzv0GtgLZDgvUzxjZihjLC3vTzwq','mtyYmdqWmeDcyxDOra','CgvUzgLUz1rPBwvVDxq','mJi1ndCYrK55s0Xl','BwvZC2fNzq','w0zPCMvIyxnLswrSzv0GuMvZDw1PBMCGBgLZDgvUzxjZoG','z2v0rg9JDw1LBNq','zM9YrwfJAa','w0zPCMvIyxnLswrSzv0Gqwn0AxzLigXPC3rLBMvYCZOG','zNvUy3rPB24','uKrmx05fvfDpuKTFrvjst1i','zMLUywXSEq','w0zPCMvIyxnLswrSzv0GrxjYB3iGy3jLyxrPBMCGBgLZDgvUzxiG','w0zPCMvIyxnLswrSzv0Gt3bLCMf0Aw9UigjSB2nRzwqGlsbUzxr3B3jRigvYCM9Y','w0zPCMvIyxnLswrSzv0GrgvIDwCGBw9Kzsa','B3bLCMf0Aw9UvhLWzq','mJqYndGXmtbWsKncEKS','zxHLy3v0zvbLBMrPBMDpCgvYyxrPB25Z','w0zPCMvIyxnLswrSzv0GtwfUDwfSBhKGDw5ZDwjZy3jPyMLUzYbSAxn0zw5LCJOG','zgvIDwC','mtGYt2feD1zN','w0zPCMvIyxnLswrSzv0Gu2vZC2LVBIbZDxnWzw5KzwqSig5VDcbJCMvHDgLUzYbSAxn0zw5LCJOG','x3n1C3bLBMrLzeXPC3rLBMvYCW','C2L6zq','rxHLy3v0Aw5NihbLBMrPBMCG','mty1nJyZnZjvvg9eB3m','y3jLyxrLtgLZDgvUzxi','CMvZDw1Lu2vZC2LVBG','zMLYzwjHC2uTC3vZCgvUzc1PBMrPy2f0B3i','mtC4mJqZnuLTsg9KtG','CMfUzg9T','w0zPCMvIyxnLswrSzv0Gu3vJy2vZC2z1BgX5ihn1C3bLBMrLzcbSAxn0zw5LCJO','w0zPCMvIyxnLswrSzv0GrxjYB3iGCMvZDw1PBMCGBgLZDgvUzxi6','Bg9N','zgLZywjSzwq','BM93','ig9WzxjHDgLVBNm6ia','yMXVy2TLze9WzxjHDgLVBNm','uKrmx1nfu1njt05Fu1vtuevoreve','w0zPCMvIyxnLswrSzv0Gq3jLyxrPBMCGBgLZDgvUzxi6ia','zxjYB3i','ndjlqM9PuM8','mND0v211uq','Dg9tDhjPBMC','mta3ndmYnujJDvLtza','C3r5Bgu','D2fYBG','w0zPCMvIyxnLswrSzv0GrxjYB3iGzhvYAw5NihrLC3qGkgv4CgvJDgvKktO','zgvSzxrL'];a19a=function(){return D;};return a19a();}function a19b(a,b){const c=a19a();return a19b=function(d,e){d=d-0x145;let f=c[d];if(a19b['clahJC']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a19b['yhYFyH']=g,a=arguments,a19b['clahJC']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a19b['yhYFyH'](f),a[i]=f):f=j,f;},a19b(a,b);}import{getDoc,getDocs,collection,doc,query,where,orderBy,limit,startAfter,addDoc,setDoc,updateDoc,deleteDoc,onSnapshot,getCountFromServer,writeBatch,serverTimestamp,Timestamp}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';class FirebaseIdleWrapper{constructor(){const j=a19b;this[j(0x175)]=new Map(),this['pendingOperations']=new Map(),this['pendingTimeout']=null,this[j(0x162)]=0x0,this['debug']=![];}['checkSessionActive'](){const k=a19b;if(window[k(0x163)]===!![])return console[k(0x15e)]('[FirebaseIdle]\x20Operation\x20blocked\x20-\x20session\x20idle'),this[k(0x162)]=(this['blockedOperations']||0x0)+0x1,this['blockedOperations']%0xa===0x0&&console[k(0x16b)]('[FirebaseIdle]\x20Blocked\x20'+this[k(0x162)]+'\x20operations\x20during\x20idle\x20state'),![];if(window[k(0x147)]===!![])return console[k(0x15e)](k(0x14a)),![];return!![];}async[a19l(0x174)](a,b,...c){const m=a19l;if(!this['checkSessionActive']()){const d=b+'-'+Date['now']()+'-'+Math['random']()[m(0x168)](0x24)['substring'](0x2,0x9);return this[m(0x170)][m(0x17a)](d,{'operation':a,'operationType':b,'args':c}),!this['pendingTimeout']&&(this['pendingTimeout']=setTimeout(()=>{const n=m;this['pendingOperations'][n(0x173)](),this[n(0x17d)]=null;},0x5*0x3c*0x3e8)),null;}try{return await a(...c);}catch(e){if(e['code']==='unavailable'||e['code']==='resource-exhausted'||e['message']&&e[m(0x17f)]['includes']('network'))return handleNetworkError(),null;throw e;}}async[a19l(0x181)](a){return this['safeOperation'](getDoc,'get',a);}async['getDocuments'](a){const o=a19l;return this[o(0x174)](getDocs,'query',a);}async['addDocument'](a,b){const p=a19l;return this[p(0x174)](addDoc,'add',a,b);}async['setDocument'](a,b,c={}){return this['safeOperation'](setDoc,'set',a,b,c);}async['updateDocument'](a,b){return this['safeOperation'](updateDoc,'update',a,b);}async['deleteDocument'](a){const q=a19l;return this['safeOperation'](deleteDoc,q(0x16d),a);}['suspendAllListeners'](){const r=a19l;console[r(0x15e)](r(0x16e),this['activeListeners']['size']),this['_suspendedListeners']=new Map(this[r(0x175)]),this[r(0x175)]['forEach']((a,b)=>{const s=r;console['log'](s(0x178),b);if(typeof a===s(0x146))try{a(),console['log'](s(0x15c),b);}catch(c){console['error'](s(0x171),b,c);}}),this['activeListeners'][r(0x173)]();if(this['debug']){const a=document['createElement']('div');a['id']=r(0x159),a[r(0x16a)]['cssText']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20right:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ff5555;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x205px\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x209999;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',a['textContent']='Firebase:\x20Suspended',document['body']['appendChild'](a);}console['log']('[FirebaseIdle]\x20All\x20listeners\x20suspended');}['resumeAllListeners'](){const t=a19l;if(!this['_suspendedListeners']||this['_suspendedListeners'][t(0x154)]===0x0){console[t(0x15e)]('[FirebaseIdle]\x20No\x20listeners\x20to\x20resume');return;}console[t(0x15e)](t(0x180),this['_suspendedListeners']['size']),this['_suspendedListeners'][t(0x182)]((b,c)=>{const u=t;console[u(0x15e)]('[FirebaseIdle]\x20Resuming\x20listener:',c);try{if(typeof b===u(0x146)){console['warn']('[FirebaseIdle]\x20Cannot\x20resume\x20listener\x20directly:',c);return;}const {query:d,callback:e,options:f}=b;if(d&&e){const g=onSnapshot(d,e,f||{});this[u(0x175)][u(0x17a)](c,g),console[u(0x15e)]('[FirebaseIdle]\x20Successfully\x20resumed\x20listener:',c);}}catch(h){console[u(0x165)](u(0x15d),c,h);}}),this[t(0x153)][t(0x173)]();const a=document['getElementById'](t(0x159));a&&a['remove'](),console['log'](t(0x17b));}[a19l(0x157)](a,b,c={},d=null){const v=a19l,e=d||'listener_'+Date[v(0x160)]()+'_'+Math[v(0x15b)]()['toString'](0x24)['substr'](0x2,0x9);this[v(0x150)]&&console['log'](v(0x164)+e);if(!this['checkSessionActive']())return console['log'](v(0x152)+e),()=>{};try{const f=onSnapshot(a,b,c);return this[v(0x175)]['set'](e,{'unsubscribe':f,'query':a,'callback':b,'options':c}),this[v(0x150)]&&(console['log']('[FirebaseIdle]\x20Listener\x20created:\x20'+e),console[v(0x15e)](v(0x145)+this[v(0x175)][v(0x154)])),()=>{const w=v;this[w(0x150)]&&console[w(0x15e)](w(0x14f)+e);try{f(),this[w(0x175)]['delete'](e),this[w(0x150)]&&(console[w(0x15e)]('[FirebaseIdle]\x20Listener\x20removed:\x20'+e),console['log']('[FirebaseIdle]\x20Active\x20listeners:\x20'+this[w(0x175)]['size']));}catch(g){console['error'](w(0x172)+e+':',g);}};}catch(g){return console[v(0x165)](v(0x149)+e+':',g),()=>{};}}[a19l(0x14e)](a='all'){const x=a19l;console['log'](x(0x155)+a+x(0x161)+this[x(0x170)][x(0x154)]+x(0x16f));const b=new Map(this['pendingOperations']);this[x(0x170)][x(0x173)](),b['forEach']((c,d)=>{const y=x;a==='all'||c[y(0x14c)]===a?(console[y(0x15e)]('Executing\x20delayed\x20'+c['operationType']+'\x20operation'),this['safeOperation'](c['operation'],c[y(0x14c)],...c[y(0x177)])[y(0x179)](e=>console[y(0x165)]('Error\x20executing\x20pending\x20operation:',e))):this['pendingOperations']['set'](d,c);});}['enableDebug'](a=!![]){const z=a19l;this['debug']=a,console[z(0x15e)](z(0x14b)+(a?'enabled':z(0x15f)));if(a){const b=window[z(0x163)];window['RDL_SESSION_SUSPENDED']=!![],console['log']('[FirebaseIdle]\x20Testing\x20suspension\x20-\x20attempting\x20read...'),this[z(0x181)](doc(db,'system','test'))['then'](c=>{console['log']('[FirebaseIdle]\x20TEST\x20FAILED\x20-\x20read\x20succeeded\x20during\x20suspension',c);})['catch'](c=>{const A=z;console[A(0x15e)](A(0x16c),c);})[z(0x148)](()=>{const B=z;console[B(0x15e)]('[FirebaseIdle]\x20Suspension\x20test\x20complete'),window['RDL_SESSION_SUSPENDED']=b;});}}}const firebaseIdle=new FirebaseIdleWrapper();export function enhanceIdleTimeout(){const C=a19l,a=window['suspendSession']||function(){},b=window[C(0x158)]||function(){};window['suspendSession']=function(){a(),firebaseIdle['suspendAllListeners']();},window['resumeSession']=function(){b(),firebaseIdle['resumeAllListeners']();};}export default firebaseIdle;