const a22_0x4175c6=a22_0x357e,a22_0x5a3e45=(function(){let _0x57c862=!![];return function(_0x3b8bcd,_0x11d59d){const _0x485d61=_0x57c862?function(){if(_0x11d59d){const _0x3ba265=_0x11d59d['apply'](_0x3b8bcd,arguments);return _0x11d59d=null,_0x3ba265;}}:function(){};return _0x57c862=![],_0x485d61;};}()),a22_0x29f3d1=a22_0x5a3e45(this,function(){const _0x4bbc88=a22_0x357e;let _0x356599;try{const _0x2043a3=Function('return\x20(function()\x20'+_0x4bbc88(0x1ec)+');');_0x356599=_0x2043a3();}catch(_0x7e3152){_0x356599=window;}const _0x26008f=_0x356599['console']=_0x356599['console']||{},_0x55d365=['log','warn','info','error','exception','table','trace'];for(let _0x18968b=0x0;_0x18968b<_0x55d365['length'];_0x18968b++){const _0x34c477=a22_0x5a3e45['constructor']['prototype']['bind'](a22_0x5a3e45),_0x585c89=_0x55d365[_0x18968b],_0x247d94=_0x26008f[_0x585c89]||_0x34c477;_0x34c477[_0x4bbc88(0x1ad)]=a22_0x5a3e45[_0x4bbc88(0x1ee)](a22_0x5a3e45),_0x34c477[_0x4bbc88(0x1e8)]=_0x247d94['toString']['bind'](_0x247d94),_0x26008f[_0x585c89]=_0x34c477;}});a22_0x29f3d1();function a22_0x3b83(){const _0x264937=['pending','filter','createElement','disabled','__proto__','status','./ladderduos.js','innerHTML','openResponseModal','#cancel-response','createdAt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-time\x22>','currentFilter','toUsername','toDate','Message\x20sent!\x20(Feature\x20will\x20be\x20fully\x20implemented\x20in\x20future\x20update)','none','proposedTeamName','createTeamFromInvitation','team_invite','display','updateInvitationStatus','sentUnsubscribe','Error\x20performing\x20','uid','appendChild','textContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','toLocaleDateString','init','m\x20ago','lastDoc','respondedAt','onAuthStateChanged','dataset','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','createInvitationCard','desc','modal-overlay','Team\x20\x22','data','#send-response','setupEventListeners','querySelector','.filter-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Send\x20Message\x20to\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','renderInvitations','outbox','getElementById','error','accept','head','message','addEventListener','floor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','value','Just\x20now','href','invitations','click','remove','toString','decline','destroy','DOMContentLoaded','{}.constructor(\x22return\x20this\x22)(\x20)','\x20invitation.\x20Please\x20try\x20again.','bind','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22modal-close\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-body\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Regarding\x20invitation\x20to:\x20<strong>','sentInvitations'];a22_0x3b83=function(){return _0x264937;};return a22_0x3b83();}import{auth,db}from'./firebase-config.js';function a22_0x357e(_0x4ddb59,_0x29eca5){const _0x29f3d1=a22_0x3b83();return a22_0x357e=function(_0x5a3e45,_0x1591a4){_0x5a3e45=_0x5a3e45-0x1a9;let _0x3b83c1=_0x29f3d1[_0x5a3e45];return _0x3b83c1;},a22_0x357e(_0x4ddb59,_0x29eca5);}import{collection,query,where,orderBy,getDocs,doc,updateDoc,onSnapshot,limit,startAfter}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';class InboxManager{constructor(){const _0x39035c=a22_0x357e;this[_0x39035c(0x1b5)]='pending',this['invitations']=[],this['sentInvitations']=[],this['unsubscribe']=null,this[_0x39035c(0x1bf)]=null,this['pageSize']=0x14,this[_0x39035c(0x1c8)]=null,this['hasMore']=!![],this['init']();}async[a22_0x4175c6(0x1c6)](){const _0x20bed1=a22_0x4175c6;auth[_0x20bed1(0x1ca)](_0x10db19=>{const _0x29c36c=_0x20bed1;_0x10db19?(this['loadInvitations'](_0x10db19[_0x29c36c(0x1c1)]),this[_0x29c36c(0x1d3)]()):window['location'][_0x29c36c(0x1e4)]='./login.html';});}['setupEventListeners'](){const _0x366a35=a22_0x4175c6;document['querySelectorAll'](_0x366a35(0x1d5))['forEach'](_0x279759=>{const _0x3fa240=_0x366a35;_0x279759[_0x3fa240(0x1df)](_0x3fa240(0x1e6),()=>{const _0x598b52=_0x3fa240;document['querySelectorAll']('.filter-btn')['forEach'](_0x4c1232=>_0x4c1232['classList']['remove']('active')),_0x279759['classList']['add']('active'),this[_0x598b52(0x1b5)]=_0x279759['dataset']['filter'],this[_0x598b52(0x1d8)]();});});}['loadInvitations'](_0x6e4a76){const _0x2b85b6=a22_0x4175c6,_0xdfe707=collection(db,'gameInvitations');let _0x13ce63=query(_0xdfe707,where('toUserId','==',_0x6e4a76),orderBy(_0x2b85b6(0x1b3),_0x2b85b6(0x1ce)),limit(this['pageSize']));this['unsubscribe']=onSnapshot(_0x13ce63,_0x5e8e9a=>{const _0x49ea1f=_0x2b85b6;this['invitations']=_0x5e8e9a['docs']['map'](_0x222b60=>({'id':_0x222b60['id'],..._0x222b60[_0x49ea1f(0x1d1)]()})),this['renderInvitations'](),this['updateNotificationCount']();});let _0x407fdc=query(_0xdfe707,where('fromUserId','==',_0x6e4a76),orderBy(_0x2b85b6(0x1b3),_0x2b85b6(0x1ce)),limit(this['pageSize']));this['sentUnsubscribe']=onSnapshot(_0x407fdc,_0x42f5ef=>{const _0x3b2d38=_0x2b85b6;this['sentInvitations']=_0x42f5ef['docs']['map'](_0x114242=>({'id':_0x114242['id'],..._0x114242['data'](),'isSent':!![]})),this[_0x3b2d38(0x1d8)]();});}[a22_0x4175c6(0x1d8)](){const _0x205596=a22_0x4175c6,_0x169cf9=document['getElementById']('inbox-content');if(!_0x169cf9)return;let _0x608089=[];if(this[_0x205596(0x1b5)]==='outbox')_0x608089=this['sentInvitations'];else this['currentFilter']==='all'?_0x608089=[...this['invitations'],...this[_0x205596(0x1f0)]]['sort']((_0x2c97ce,_0x41577)=>{const _0x10ca00=_0x205596,_0x8b89=_0x2c97ce[_0x10ca00(0x1b3)]?.['toDate']?_0x2c97ce['createdAt']['toDate']():new Date(_0x2c97ce['createdAt']),_0x499d0c=_0x41577['createdAt']?.[_0x10ca00(0x1b7)]?_0x41577['createdAt']['toDate']():new Date(_0x41577['createdAt']);return _0x499d0c-_0x8b89;}):_0x608089=this['invitations'][_0x205596(0x1aa)](_0x5218a0=>_0x5218a0['status']===this[_0x205596(0x1b5)]);if(_0x608089['length']===0x0){const _0x4ecca4=this['currentFilter']===_0x205596(0x1d9)?'sent':this[_0x205596(0x1b5)]==='all'?'':this['currentFilter'];_0x169cf9['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22empty-inbox\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-inbox\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>No\x20'+_0x4ecca4+'\x20invitations</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(this[_0x205596(0x1b5)]==='outbox'?'Invitations\x20you\x20send\x20to\x20other\x20players\x20will\x20appear\x20here.':'When\x20other\x20players\x20invite\x20you\x20to\x20games,\x20they\x27ll\x20appear\x20here.')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';return;}_0x169cf9['innerHTML']=_0x608089['map'](_0xe055c9=>this[_0x205596(0x1cd)](_0xe055c9))['join'](''),this['setupActionListeners']();}['createInvitationCard'](_0x40af68){const _0x16649e=a22_0x4175c6,_0x17a46b=_0x40af68['createdAt']?.[_0x16649e(0x1b7)]?_0x40af68['createdAt']['toDate']():new Date(_0x40af68['createdAt']),_0x331a73=this['getTimeAgo'](_0x17a46b),_0x4fe7ae=_0x40af68['isSent']||![];let _0x23c775='';return _0x40af68['type']==='team_invite'?_0x23c775='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+_0x40af68['message']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22team-invite-preview\x22\x20style=\x22background:\x20#1a1a1a;\x20padding:\x201rem;\x20border-radius:\x204px;\x20margin:\x200.5rem\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20style=\x22color:\x20'+_0x40af68['teamData']['teamColor']+';\x20margin:\x200\x200\x200.5rem\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x40af68['teamData'][_0x16649e(0x1ba)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22color:\x20#888;\x20font-size:\x200.9em;\x20margin:\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Duos\x20Ladder\x20Team\x20â€¢\x20Color:\x20'+_0x40af68['teamData']['teamColor']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x23c775=_0x16649e(0x1c4)+_0x40af68[_0x16649e(0x1de)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-card\x20'+_0x40af68[_0x16649e(0x1ae)]+'\x20'+(_0x4fe7ae?'sent-invitation':'')+'\x22\x20data-invitation-id=\x22'+_0x40af68['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-from\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4fe7ae?'To:\x20'+_0x40af68['toUsername']:_0x40af68['fromUsername'])+_0x16649e(0x1e1)+(_0x4fe7ae?'<span\x20class=\x22sent-indicator\x22><i\x20class=\x22fas\x20fa-paper-plane\x22></i>\x20Sent</span>':'')+_0x16649e(0x1b4)+_0x331a73+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22status-badge\x20status-'+_0x40af68[_0x16649e(0x1ae)]+'\x22>'+_0x40af68[_0x16649e(0x1ae)]+_0x16649e(0x1d7)+_0x23c775+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x4fe7ae&&_0x40af68['status']===_0x16649e(0x1a9)?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20accept-btn\x22\x20data-action=\x22accept\x22\x20data-invitation-id=\x22'+_0x40af68['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20Accept\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20decline-btn\x22\x20data-action=\x22decline\x22\x20data-invitation-id=\x22'+_0x40af68['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20Decline\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x40af68['type']!=='team_invite'?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20respond-btn\x22\x20data-action=\x22respond\x22\x20data-invitation-id=\x22'+_0x40af68['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-reply\x22></i>\x20Send\x20Message\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4fe7ae&&_0x40af68['status']==='pending'?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20cancel-btn\x22\x20data-action=\x22cancel\x22\x20data-invitation-id=\x22'+_0x40af68['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20Cancel\x20Invitation\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+_0x16649e(0x1cc);}['setupActionListeners'](){document['querySelectorAll']('.action-btn')['forEach'](_0x2c9456=>{_0x2c9456['addEventListener']('click',async _0x53ab68=>{const _0x425432=a22_0x357e,_0x2224de=_0x2c9456[_0x425432(0x1cb)]['action'],_0x5561c9=_0x2c9456['dataset']['invitationId'];_0x2c9456[_0x425432(0x1ac)]=!![];const _0x128df6=_0x2c9456['innerHTML'];_0x2c9456[_0x425432(0x1b0)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>';try{switch(_0x2224de){case _0x425432(0x1dc):await this['updateInvitationStatus'](_0x5561c9,'accepted');break;case _0x425432(0x1e9):await this[_0x425432(0x1be)](_0x5561c9,'declined');break;case'cancel':await this[_0x425432(0x1be)](_0x5561c9,'cancelled');break;case'respond':this['openResponseModal'](_0x5561c9);break;}}catch(_0x5866f7){console[_0x425432(0x1db)](_0x425432(0x1c0)+_0x2224de+':',_0x5866f7),alert('Failed\x20to\x20'+_0x2224de+_0x425432(0x1ed));}finally{_0x2c9456['disabled']=![],_0x2c9456['innerHTML']=_0x128df6;}});});}async['updateInvitationStatus'](_0x5b675f,_0x20ab3e){const _0x430343=a22_0x4175c6;try{const _0x5e9706=this['invitations']['find'](_0x1c4dda=>_0x1c4dda['id']===_0x5b675f);_0x5e9706&&_0x5e9706['type']===_0x430343(0x1bc)&&_0x20ab3e==='accepted'&&await this[_0x430343(0x1bb)](_0x5e9706);const _0xb4f6b9=doc(db,'gameInvitations',_0x5b675f);await updateDoc(_0xb4f6b9,{'status':_0x20ab3e,'respondedAt':new Date()}),_0x5e9706&&(_0x5e9706['status']=_0x20ab3e,_0x5e9706[_0x430343(0x1c9)]=new Date(),this['renderInvitations']());}catch(_0x45f137){console['error']('Error\x20updating\x20invitation\x20status:',_0x45f137);throw _0x45f137;}}[a22_0x4175c6(0x1b1)](_0x3bca8b){const _0x5bcfc1=a22_0x4175c6,_0x128823=this[_0x5bcfc1(0x1e5)]['find'](_0x3b531f=>_0x3b531f['id']===_0x3bca8b);if(!_0x128823)return;const _0x34beb9=document['createElement']('div');_0x34beb9['className']=_0x5bcfc1(0x1cf),_0x34beb9['innerHTML']=_0x5bcfc1(0x1d6)+_0x128823['fromUsername']+_0x5bcfc1(0x1ef)+_0x128823['value']+'</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22response-message\x22\x20placeholder=\x22Type\x20your\x20message\x20here...\x22\x20rows=\x224\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20respond-btn\x22\x20id=\x22send-response\x22>Send\x20Message</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x22\x20id=\x22cancel-response\x22>Cancel</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';if(!document[_0x5bcfc1(0x1da)]('modal-styles')){const _0x275ea4=document[_0x5bcfc1(0x1ab)]('style');_0x275ea4['id']='modal-styles',_0x275ea4[_0x5bcfc1(0x1c3)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-overlay\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20right:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.8);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-content\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#2a2a2a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2090%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20500px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-height:\x2090vh;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20overflow-y:\x20auto;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-header\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20space-between;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-close\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x201.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-body\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-body\x20textarea\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#1a1a1a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resize:\x20vertical;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-footer\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-top:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x5bcfc1(0x1dd)][_0x5bcfc1(0x1c2)](_0x275ea4);}document['body']['appendChild'](_0x34beb9),_0x34beb9[_0x5bcfc1(0x1d4)]('.modal-close')['addEventListener'](_0x5bcfc1(0x1e6),()=>_0x34beb9[_0x5bcfc1(0x1e7)]()),_0x34beb9['querySelector'](_0x5bcfc1(0x1b2))['addEventListener']('click',()=>_0x34beb9['remove']()),_0x34beb9['addEventListener'](_0x5bcfc1(0x1e6),_0x10cdfd=>{const _0x7671e3=_0x5bcfc1;if(_0x10cdfd['target']===_0x34beb9)_0x34beb9[_0x7671e3(0x1e7)]();}),_0x34beb9['querySelector'](_0x5bcfc1(0x1d2))[_0x5bcfc1(0x1df)]('click',()=>{const _0x43c2fc=_0x5bcfc1,_0x1ba333=document['getElementById']('response-message')[_0x43c2fc(0x1e2)]['trim']();_0x1ba333&&(alert(_0x43c2fc(0x1b8)),_0x34beb9['remove']());});}async[a22_0x4175c6(0x1bb)](_0x197600){const _0x376148=a22_0x4175c6;try{const {createTeam:_0x4e472a}=await import(_0x376148(0x1af)),_0x111f97=await _0x4e472a(_0x197600['fromUsername'],_0x197600[_0x376148(0x1b6)],_0x197600['teamData']['proposedTeamName'],_0x197600['teamData']['teamColor']);if(!_0x111f97['success'])throw new Error(_0x111f97['error']);alert(_0x376148(0x1d0)+_0x197600['teamData'][_0x376148(0x1ba)]+'\x22\x20created\x20successfully!');}catch(_0x2e6697){console['error']('Error\x20creating\x20team:',_0x2e6697);throw new Error('Failed\x20to\x20create\x20team:\x20'+_0x2e6697[_0x376148(0x1de)]);}}['updateNotificationCount'](){const _0x132d4e=a22_0x4175c6,_0x5335cb=this['invitations']['filter'](_0x5a1ffd=>_0x5a1ffd[_0x132d4e(0x1ae)]==='pending')['length'],_0x2928a5=document[_0x132d4e(0x1da)]('inbox-notification');_0x2928a5&&(_0x5335cb>0x0?(_0x2928a5['style'][_0x132d4e(0x1bd)]='inline-block',_0x2928a5[_0x132d4e(0x1c3)]=_0x5335cb>0x9?'9+':_0x5335cb):_0x2928a5['style']['display']=_0x132d4e(0x1b9));}['getTimeAgo'](_0x1eccfd){const _0x4c409f=a22_0x4175c6,_0x41ef80=new Date(),_0x5bf529=_0x41ef80-_0x1eccfd,_0x32b5ea=Math['floor'](_0x5bf529/(0x3e8*0x3c)),_0x120ab4=Math['floor'](_0x5bf529/(0x3e8*0x3c*0x3c)),_0x401fed=Math[_0x4c409f(0x1e0)](_0x5bf529/(0x3e8*0x3c*0x3c*0x18));if(_0x32b5ea<0x1)return _0x4c409f(0x1e3);if(_0x32b5ea<0x3c)return _0x32b5ea+_0x4c409f(0x1c7);if(_0x120ab4<0x18)return _0x120ab4+'h\x20ago';if(_0x401fed<0x7)return _0x401fed+'d\x20ago';return _0x1eccfd[_0x4c409f(0x1c5)]();}[a22_0x4175c6(0x1ea)](){const _0x592ca0=a22_0x4175c6;this['unsubscribe']&&this['unsubscribe'](),this[_0x592ca0(0x1bf)]&&this['sentUnsubscribe']();}}document['addEventListener'](a22_0x4175c6(0x1eb),()=>{new InboxManager();});