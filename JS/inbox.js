const a24p=a24d;(function(a,b){const i=a24d,c=a();while(!![]){try{const d=parseInt(i(0x165))/0x1*(parseInt(i(0x17e))/0x2)+parseInt(i(0x190))/0x3*(-parseInt(i(0x13e))/0x4)+-parseInt(i(0x1a3))/0x5*(-parseInt(i(0x153))/0x6)+parseInt(i(0x186))/0x7+parseInt(i(0x159))/0x8+parseInt(i(0x169))/0x9*(-parseInt(i(0x158))/0xa)+-parseInt(i(0x163))/0xb;if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a24c,0xaaf96));function a24d(a,b){const c=a24c();return a24d=function(d,e){d=d-0x13a;let f=c[d];if(a24d['MCwJoi']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a24d['uHWCBd']=g,a=arguments,a24d['MCwJoi']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a24d['uHWCBd'](f),a[i]=f):f=j,f;},a24d(a,b);}const a24b=(function(){let a=!![];return function(b,c){const d=a?function(){const j=a24d;if(c){const e=c[j(0x1a5)](b,arguments);return c=null,e;}}:function(){};return a=![],d;};}()),a24a=a24b(this,function(){const l=a24d,a=function(){const k=a24d;let f;try{f=Function('return\x20(function()\x20'+k(0x175)+');')();}catch(g){f=window;}return f;},b=a(),c=b['console']=b['console']||{},d=['log','warn',l(0x15a),'error','exception',l(0x161),'trace'];for(let e=0x0;e<d['length'];e++){const f=a24b[l(0x148)][l(0x157)]['bind'](a24b),g=d[e],h=c[g]||f;f[l(0x174)]=a24b['bind'](a24b),f['toString']=h[l(0x14c)]['bind'](h),c[g]=f;}});a24a();import{auth,db}from'./firebase-config.js';import{collection,query,where,orderBy,getDocs,doc,updateDoc,onSnapshot,limit,startAfter}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';function a24c(){const G=['DhLWzq','pgKGy2XHC3m9iMzHCYbMys1ZCgLUBMvYigzHlxnWAw4IpJWVAt4','Aw5Uzxjive1m','iIakicaGicaGicaGicaGicaGicaGicaGicaGicaGicaGignSyxnZpsjWBgf5zxiTBgLUAYi+','sNvZDcbUB3C','ywrKrxzLBNrmAxn0zw5LCG','lM1VzgfSlwnSB3nL','zxjYB3i','tgv2zwW','zMLUza','rMfPBgvKihrVia','pc9OmZ4kicaGicaGicaGicaGicaGicaGica8yNv0Dg9UignSyxnZpsjTB2rHBc1JBg9Zzsi+jNrPBwvZoZWVyNv0Dg9UpGOGicaGicaGicaGicaGicaGpc9KAxy+cIaGicaGicaGicaGicaGica8zgL2ignSyxnZpsjTB2rHBc1IB2r5iJ4kicaGicaGicaGicaGicaGicaGica8Cd5szwDHCMrPBMCGAw52AxrHDgLVBIb0BZOGphn0CM9UzZ4','y3jLyxrLvgvHBuzYB21jBNzPDgf0Aw9U','ChjVCg9ZzwruzwfTtMfTzq','y2XPy2S','Bg9JyxrPB24','nty0nJa4nxH3su13va','iJ4kicaGicaGicaGicaGicaGidXKAxyGy2XHC3m9iMLUDML0yxrPB24TAgvHzgvYiJ4kicaGicaGicaGicaGicaGicaGica8zgL2pGOGicaGicaGicaGicaGicaGicaGicaGica8zgL2ignSyxnZpsjPBNzPDgf0Aw9UlwzYB20IpG','yxbWBhK','B3bLBLjLC3bVBNnLtw9KywW','DxbKyxrLsw52AxrHDgLVBLn0yxr1CW','cIaGicaGicaGicaGidXKAxyGy2XHC3m9iM1VzgfSlwnVBNrLBNqIpGOGicaGicaGicaGicaGicaGpgrPDIbJBgfZCZ0IBw9KywWTAgvHzgvYiJ4kicaGicaGicaGicaGicaGicaGica8Adm+u2vUzcbnzxnZywDLihrVia','pc9KAxy+cIaGicaGicaGicaGicaGicaGicaGicaGidXKAxyGy2XHC3m9iMLUDML0yxrPB24TDgLTzsi+','ywn0AxzL','i3nLBMqTCMvZCg9UC2u','AcbHz28','pc9ZCgfUpGOGicaGicaGicaGicaGicaGicaGidWVzgL2pGOGicaGicaGicaGicaGicaGicaGidXKAxyGy2XHC3m9iMDHBwuTzgv0ywLSiJ4kicaGicaGicaGicaGicaGicaGicaGicaGphnWyw4Gy2XHC3m9iMrLDgfPBc1SywjLBci+rNjVBsbqBgf5zxi8l3nWyw4+cIaGicaGicaGicaGicaGicaGicaGicaGidXZCgfUignSyxnZpsjKzxrHAwWTDMfSDwuIpGOGicaGicaGicaGicaGicaGicaGicaGicaGicaGpgeGAhjLzJ0IlI9WCM9MAwXLlMH0BwW/DxnLCM5HBwu9','DgvHBunVBg9Y','C3r5Bgu','zgLZywjSzwq','nJiZmNHHsM1HsG','pc9ZDhjVBMC+pc9WpGOGicaGicaGicaGicaGicaGicaGidX0zxH0yxjLysbPzd0ICMvZCg9UC2uTBwvZC2fNzsiGCgXHy2vOB2XKzxi9iLr5CguGEw91CIbTzxnZywDLigHLCMuUlI4IihjVD3m9iJqIpJWVDgv4DgfYzwe+cIaGicaGicaGicaGicaGica8l2rPDJ4kicaGicaGicaGicaGicaGidXKAxyGy2XHC3m9iM1VzgfSlwzVB3rLCIi+cIaGicaGicaGicaGicaGicaGicaGpgj1DhrVBIbJBgfZCZ0Iywn0Aw9Ulwj0BIbYzxnWB25Klwj0BIiGAwq9iNnLBMqTCMvZCg9UC2uIpLnLBMqGtwvZC2fNztWVyNv0Dg9UpGOGicaGicaGicaGicaGicaGicaGidXIDxr0B24Gy2XHC3m9iMfJDgLVBI1IDg4IigLKpsjJyw5JzwWTCMvZCg9UC2uIpKnHBMnLBdWVyNv0Dg9UpGOGicaGicaGicaGicaGicaGpc9KAxy+cIaGicaGicaGicaGidWVzgL2pGOGicaGicaGia','BM9Uzq','BwvZC2fNzq','ywn0Aw9U','DMfSDwu','BgfZDerVyW','DgfYz2v0','C2v0DxbfDMvUDeXPC3rLBMvYCW','AgvHza','y29UC3rYDwn0B3i','rxjYB3iGCgvYzM9YBwLUzYa','zNjVBvvZzxjUyw1L','zgL2','Dg9tDhjPBMC','Aw52AxrHDgLVBNm','pc9HpGOGicaGicaGicaGicaGicaGicaGicaGica8l3nWyw4+cIaGicaGicaGicaGicaGicaGicaGpc9KAxy+cIaGicaGicaGicaGicaGica8l2rPDJ4kicaGicaGicaGicaG','DxbKyxrLtM90AwzPy2f0Aw9Uq291BNq','BsbHz28','y3vYCMvUDezPBhrLCG','Dg9vC2vYBMfTzq','nMf2Eg9XDW','AgfZtw9Yzq','DgvHBv9PBNzPDgu','CgvUzgLUzW','ChjVDg90ExbL','odbiy25JywG','ndKWmJq5nNLxvNnIyq','Aw5MBW','cIaGicaGicaGicaGicaGicaGicaGpc9KAxy+cIaGicaGicaGicaGicaGica','cIaGicaGicaGicaGidXKAxyGy2XHC3m9iMLUDML0yxrPB24Ty2fYzca','y2XHC3noyw1L','lMfJDgLVBI1IDg4','zgvJBgLUzq','ywrK','DgfIBgu','twvZC2fNzsbZzw50isaOrMvHDhvYzsb3AwXSigjLigz1BgX5igLTCgXLBwvUDgvKigLUigz1DhvYzsb1CgrHDguP','mtC1ndiZnZfYuLj2rgC','iIbJCMvHDgvKihn1y2nLC3nMDwXSEse','muHlrK9mva','zMXVB3i','i2nHBMnLBc1YzxnWB25Zzq','CMvUzgvYsw52AxrHDgLVBNm','mtaWmJy5BenMDhz0','ywnJzxb0zwq','zg9JCW','Ag9Tzq','Dg9eyxrL','BwfW','yM9KEq','cIaGicaGicaGicaGicaGicaGicaGicaGidWVAdq+cIaGicaGicaGicaGicaGicaGicaGicaGidXWihn0EwXLpsjJB2XVCJOGiZG4odSGzM9UDc1ZAxPLoIaWlJLLBtSGBwfYz2LUoIaWoYi+cIaGicaGicaGicaGicaGicaGicaGicaGicaGicbeDw9ZieXHzgrLCIbuzwfTiokaOIbdB2XVCJOG','Aw52AxrHDgLVBKLK','z2v0vgLTzufNBW','lI9SywrKzxjKDw9ZlMPZ','x19WCM90B19F','E30Uy29UC3rYDwn0B3iOiNjLDhvYBIb0AgLZiIKOicK','z2v0rwXLBwvUDej5swq','zMLSDgvY','C3rHDhvZ','cIaGicaGicaGicaGicaGica8zgL2ignSyxnZpsjLBxb0Es1PBMjVEci+cIaGicaGicaGicaGicaGicaGicaGpgKGy2XHC3m9iMzHCYbMys1PBMjVEci+pc9PpGOGicaGicaGicaGicaGicaGicaGidXOmZ5oBYa','CMvZCg9UzgvKqxq','lI9SB2DPBI5ODg1S','B25bDxrOu3rHDgvdAgfUz2vK','zcbHz28','mtG4mtK4uuTKv3fW','Dg9mB2nHBgveyxrLu3rYAw5N','Dgv4DenVBNrLBNq','r2fTzsbnB2rL','CMvTB3zL','pc9WpGOGicaGicaGicaGicaGicaGicaGidXKAxyGy2XHC3m9iNrLyw0TAw52AxrLlxbYzxzPzxCIihn0EwXLpsjIywnRz3jVDw5KoIaJmweXytfHoYbWywrKAw5NoIaXCMvToYbIB3jKzxiTCMfKAxvZoIa0ChG7ig1HCMDPBJOGmc41CMvTida7iJ4kicaGicaGicaGicaGicaGicaGicaGicaGpgG0ihn0EwXLpsjJB2XVCJOG','Aw5IB3GTBM90AwzPy2f0Aw9U','Dw5ZDwjZy3jPyMu','otu0mdmZnvPrwvvZzG','Bw9KywWTC3r5BgvZ','y2XHC3nmAxn0','BgvUz3rO','y3jLyxrLrwXLBwvUDa','Bw9KywWTB3zLCMXHEq','DgvHBurHDge','rxjYB3iGDxbKyxrPBMCGAw52AxrHDgLVBIbZDgf0Dxm6','pc9WpGOGicaGicaGicaGicaGicaGpc9KAxy+cIaGicaGicaGicaGicaGicakicaGicaGicaGicaGicaGidXKAxyGy2XHC3m9iMLUDML0yxrPB24Tz2fTzs1PBMzViJ4kicaGicaGicaGicaGicaGicaGica8zgL2ignSyxnZpsjNyw1LlwrLDgfPBci+cIaGicaGicaGicaGicaGicaGicaGicaGidXZCgfUignSyxnZpsjKzxrHAwWTBgfIzwWIpKLUDML0yxrPB24GvhLWztWVC3bHBJ4kicaGicaGicaGicaGicaGicaGicaGicaGphnWyw4Gy2XHC3m9iMrLDgfPBc12ywX1zsi+','Aw5SAw5LlwjSB2nR','mtu2oxPJDgPtEa','pc9ZCgfUpGOGicaGicaGicaGicaGicaGicaGicaGica8C3bHBIbJBgfZCZ0Izgv0ywLSlxzHBhvLiJ4','CxvLCNLtzwXLy3rVCKfSBa'];a24c=function(){return G;};return a24c();}class InboxManager{constructor(){const m=a24d;this[m(0x151)]='all',this['invitations']=[],this['unsubscribe']=null,this['pageSize']=0x14,this[m(0x144)]=null,this[m(0x154)]=!![],this['init']();}async['init'](){const n=a24d;auth[n(0x17c)](a=>{const o=n;a?(this['loadInvitations'](a['uid']),this['setupEventListeners']()):window[o(0x1a2)]['href']=o(0x17b);});}[a24p(0x146)](){const q=a24p;document[q(0x192)]('.filter-btn')['forEach'](a=>{a['addEventListener']('click',()=>{const r=a24d;document[r(0x192)]('.filter-btn')['forEach'](c=>c['classList']['remove'](r(0x1aa))),a[r(0x188)][r(0x160)](r(0x1aa)),this['currentFilter']=a['dataset']['filter'],this['renderInvitations']();});});}['loadInvitations'](a){const b=collection(db,'gameInvitations');let c=query(b,where('toUserId','==',a),orderBy('createdAt','desc'),limit(this['pageSize']));this['unsubscribe']=onSnapshot(c,d=>{const s=a24d;this['invitations']=d[s(0x16b)][s(0x16e)](e=>({'id':e['id'],...e['data']()})),this[s(0x168)](),this['updateNotificationCount']();});}['renderInvitations'](){const t=a24p,a=document[t(0x176)]('inbox-content');if(!a)return;let b=this['invitations'];this[t(0x151)]!=='all'&&(b=this[t(0x14d)][t(0x177)](c=>c['status']===this['currentFilter']));if(b[t(0x189)]===0x0){a['innerHTML']=t(0x179)+(this[t(0x151)]==='all'?'':this['currentFilter'])+'\x20invitations</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>When\x20other\x20players\x20invite\x20you\x20to\x20games,\x20they\x27ll\x20appear\x20here.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';return;}a['innerHTML']=b['map'](c=>this['createInvitationCard'](c))['join'](''),this['setupActionListeners']();}['createInvitationCard'](a){const u=a24p,b=a['createdAt']?.['toDate']?a['createdAt'][u(0x16d)]():new Date(a['createdAt']),c=this['getTimeAgo'](b);let d='';return a['type']===u(0x155)?d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+a[u(0x141)]+u(0x183)+a['teamData']['teamColor']+';\x20margin:\x200\x200\x200.5rem\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+a[u(0x18c)][u(0x1a0)]+u(0x170)+a['teamData'][u(0x13b)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-game-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22game-detail\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22detail-label\x22>Invitation\x20Type</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22detail-value\x22>Team\x20Formation</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22game-detail\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22detail-label\x22>Ladder</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22detail-value\x22>Duos</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22game-detail\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22detail-label\x22>From\x20Player</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22detail-value\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22./profile.html?username='+encodeURIComponent(a[u(0x14a)])+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22player-link\x22>'+a[u(0x14a)]+u(0x14e):d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+a['message']+u(0x18e)+(a['type']===u(0x16c)?'Home\x20Level':'Subgame')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22game-detail\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22detail-label\x22>'+(a[u(0x193)]===u(0x16c)?u(0x19b):u(0x181))+u(0x191)+a[u(0x143)]+u(0x13a)+encodeURIComponent(a['fromUsername'])+u(0x196)+a['fromUsername']+'</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',u(0x15c)+a[u(0x178)]+'\x22\x20data-invitation-id=\x22'+a['id']+u(0x1a4)+a[u(0x14a)]+u(0x1a9)+c+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22status-badge\x20status-'+a['status']+'\x22>'+a['status']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(a['status']===u(0x156)?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20accept-btn\x22\x20data-action=\x22accept\x22\x20data-invitation-id=\x22'+a['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20Accept\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20decline-btn\x22\x20data-action=\x22decline\x22\x20data-invitation-id=\x22'+a['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20Decline\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(a[u(0x193)]!==u(0x155)?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20respond-btn\x22\x20data-action=\x22respond\x22\x20data-invitation-id=\x22'+a['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-reply\x22></i>\x20Send\x20Message\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+u(0x15b):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}['setupActionListeners'](){const v=a24p;document[v(0x192)](v(0x15e))['forEach'](a=>{const w=v;a['addEventListener'](w(0x1a1),async b=>{const x=w,c=a['dataset'][x(0x142)],d=a['dataset'][x(0x171)];a['disabled']=!![];const f=a[x(0x195)];a['innerHTML']=x(0x194);try{switch(c){case'accept':await this['updateInvitationStatus'](d,x(0x16a));break;case x(0x15f):await this[x(0x1a7)](d,'declined');break;case'respond':this[x(0x1a6)](d);break;}}catch(g){console['error'](x(0x149)+c+':',g),alert(x(0x19d)+c+'\x20invitation.\x20Please\x20try\x20again.');}finally{a[x(0x13d)]=![],a[x(0x195)]=f;}});});}async['updateInvitationStatus'](a,b){const y=a24p;try{const c=this[y(0x14d)][y(0x19c)](e=>e['id']===a);c&&c[y(0x193)]===y(0x155)&&b==='accepted'&&await this[y(0x19f)](c);const d=doc(db,'gameInvitations',a);await updateDoc(d,{'status':b,'respondedAt':new Date()}),c&&(c[y(0x178)]=b,c[y(0x17a)]=new Date(),this[y(0x168)]());}catch(e){console[y(0x19a)](y(0x18d),e);throw e;}}[a24p(0x1a6)](a){const z=a24p,b=this[z(0x14d)][z(0x19c)](d=>d['id']===a);if(!b)return;const c=document['createElement'](z(0x14b));c[z(0x15d)]=z(0x18b),c[z(0x195)]=z(0x1a8)+b['fromUsername']+z(0x19e)+b[z(0x143)]+z(0x13f);if(!document[z(0x176)]('modal-styles')){const d=document[z(0x18a)](z(0x13c));d['id']=z(0x187),d[z(0x180)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-overlay\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20right:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.8);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-content\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#2a2a2a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2090%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20500px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-height:\x2090vh;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20overflow-y:\x20auto;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-header\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20space-between;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-close\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x201.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-body\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-body\x20textarea\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#1a1a1a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resize:\x20vertical;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-footer\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-top:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document[z(0x147)]['appendChild'](d);}document[z(0x16f)]['appendChild'](c),c['querySelector'](z(0x199))[z(0x198)]('click',()=>c[z(0x182)]()),c['querySelector'](z(0x167))['addEventListener']('click',()=>c['remove']()),c[z(0x198)]('click',f=>{const A=z;if(f[A(0x145)]===c)c[A(0x182)]();}),c['querySelector'](z(0x1ab))[z(0x198)]('click',()=>{const B=z,e=document['getElementById']('response-message')[B(0x143)]['trim']();e&&(alert(B(0x162)),c[B(0x182)]());});}async['createTeamFromInvitation'](a){const C=a24p;try{const {createTeam:b}=await import(C(0x173)),c=await b(a[C(0x14a)],a[C(0x152)],a[C(0x18c)][C(0x1a0)],a[C(0x18c)][C(0x13b)]);if(!c['success'])throw new Error(c['error']);alert('Team\x20\x22'+a[C(0x18c)]['proposedTeamName']+C(0x164));}catch(d){console[C(0x19a)]('Error\x20creating\x20team:',d);throw new Error('Failed\x20to\x20create\x20team:\x20'+d[C(0x141)]);}}[a24p(0x14f)](){const D=a24p,a=this['invitations']['filter'](c=>c[D(0x178)]===D(0x156))['length'],b=document[D(0x176)](D(0x184));b&&(a>0x0?(b[D(0x13c)]['display']=D(0x18f),b['textContent']=a>0x9?'9+':a):b[D(0x13c)]['display']=D(0x140));}[a24p(0x172)](a){const E=a24p,b=new Date(),c=b-a,d=Math['floor'](c/(0x3e8*0x3c)),e=Math[E(0x166)](c/(0x3e8*0x3c*0x3c)),f=Math['floor'](c/(0x3e8*0x3c*0x3c*0x18));if(d<0x1)return E(0x197);if(d<0x3c)return d+E(0x150);if(e<0x18)return e+E(0x1ac);if(f<0x7)return f+E(0x17d);return a[E(0x17f)]();}['destroy'](){const F=a24p;this[F(0x185)]&&this[F(0x185)]();}}document['addEventListener']('DOMContentLoaded',()=>{new InboxManager();});