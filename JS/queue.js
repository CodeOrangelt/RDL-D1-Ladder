function a43_0x2b8e(_0x33cf37,_0xd6a51e){const _0x62e140=a43_0x3d93();return a43_0x2b8e=function(_0x581b5b,_0x2930a2){_0x581b5b=_0x581b5b-0xb8;let _0x3d93b1=_0x62e140[_0x581b5b];return _0x3d93b1;},a43_0x2b8e(_0x33cf37,_0xd6a51e);}const a43_0x3c3cec=a43_0x2b8e,a43_0x581b5b=(function(){let _0x183242=!![];return function(_0x272194,_0x51f373){const _0x2e0689=_0x183242?function(){const _0x44a144=a43_0x2b8e;if(_0x51f373){const _0x158656=_0x51f373[_0x44a144(0xe0)](_0x272194,arguments);return _0x51f373=null,_0x158656;}}:function(){};return _0x183242=![],_0x2e0689;};}()),a43_0x62e140=a43_0x581b5b(this,function(){const _0x412394=a43_0x2b8e;let _0x3860f5;try{const _0x24cf40=Function(_0x412394(0xda)+_0x412394(0xba)+');');_0x3860f5=_0x24cf40();}catch(_0x4d0274){_0x3860f5=window;}const _0x48cb50=_0x3860f5[_0x412394(0xdb)]=_0x3860f5[_0x412394(0xdb)]||{},_0x448d37=[_0x412394(0xdd),_0x412394(0xe1),_0x412394(0xbc),_0x412394(0xbf),_0x412394(0xc6),_0x412394(0xcd),_0x412394(0xb8)];for(let _0x58b509=0x0;_0x58b509<_0x448d37[_0x412394(0xd2)];_0x58b509++){const _0x3c6295=a43_0x581b5b[_0x412394(0xc0)][_0x412394(0xd4)][_0x412394(0xdc)](a43_0x581b5b),_0x4dbaac=_0x448d37[_0x58b509],_0x32abf6=_0x48cb50[_0x4dbaac]||_0x3c6295;_0x3c6295[_0x412394(0xd3)]=a43_0x581b5b[_0x412394(0xdc)](a43_0x581b5b),_0x3c6295[_0x412394(0xd7)]=_0x32abf6[_0x412394(0xd7)][_0x412394(0xdc)](_0x32abf6),_0x48cb50[_0x4dbaac]=_0x3c6295;}});a43_0x62e140();import{db}from'./firebase-config.js';import{collection,query,where,onSnapshot,updateDoc,doc}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';function a43_0x3d93(){const _0x32ca6e=['trace','getElementById','{}.constructor(\x22return\x20this\x22)(\x20)','block','info','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22queue-box\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>Waiting\x20for\x20a\x20game</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22queue-list\x22>\x0a\x20\x20\x20\x20','m\x20in\x20queue','error','constructor','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22queue-time\x22>','isReady','toDate','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-card\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-name\x22>','exception','forEach','addEventListener','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','display','username','style','table','none','readyPlayers','data','innerHTML','length','__proto__','prototype','Unknown\x20Player','floor','toString','unload','Just\x20now','return\x20(function()\x20','console','bind','log','queue-container','lastUpdated','apply','warn','push','Error\x20in\x20queue\x20listener:','Error\x20removing\x20player\x20from\x20queue:'];a43_0x3d93=function(){return _0x32ca6e;};return a43_0x3d93();}const readyPlayersRef=collection(db,a43_0x3c3cec(0xcf)),activePlayersQuery=query(readyPlayersRef,where(a43_0x3c3cec(0xc2),'==',!![]));function updateQueueDisplay(_0x5cf5a3){const _0x476e40=a43_0x3c3cec,_0x24e797=document[_0x476e40(0xb9)](_0x476e40(0xde));if(!_0x24e797)return;if(_0x5cf5a3[_0x476e40(0xd2)]===0x0){_0x24e797[_0x476e40(0xcc)][_0x476e40(0xca)]=_0x476e40(0xce);return;}_0x24e797[_0x476e40(0xcc)][_0x476e40(0xca)]=_0x476e40(0xbb);let _0x39c0f9=_0x476e40(0xbd);_0x5cf5a3[_0x476e40(0xc7)](_0x480c82=>{const _0x56817f=_0x476e40;_0x39c0f9+=_0x56817f(0xc5)+(_0x480c82[_0x56817f(0xcb)]||_0x56817f(0xd5))+_0x56817f(0xc1)+formatQueueTime(_0x480c82[_0x56817f(0xdf)])+_0x56817f(0xc9);}),_0x39c0f9+=_0x476e40(0xc4),_0x24e797[_0x476e40(0xd1)]=_0x39c0f9;}function formatQueueTime(_0x45fe40){const _0x3a7207=a43_0x3c3cec;if(!_0x45fe40)return _0x3a7207(0xd9);const _0x5c597a=_0x45fe40[_0x3a7207(0xc3)]?_0x45fe40[_0x3a7207(0xc3)]():new Date(_0x45fe40),_0x47d7b5=new Date(),_0x1f3de2=Math[_0x3a7207(0xd6)]((_0x47d7b5-_0x5c597a)/0xea60);if(_0x1f3de2<0x1)return _0x3a7207(0xd9);return _0x1f3de2+_0x3a7207(0xbe);}async function checkQueueTimeout(_0x26c7ca){const _0x373a0c=a43_0x3c3cec;if(!_0x26c7ca[_0x373a0c(0xdf)])return;const _0x5ad342=_0x26c7ca[_0x373a0c(0xdf)][_0x373a0c(0xc3)]?_0x26c7ca[_0x373a0c(0xdf)][_0x373a0c(0xc3)]():new Date(_0x26c7ca[_0x373a0c(0xdf)]),_0x11886f=new Date(),_0x3efd0b=Math[_0x373a0c(0xd6)]((_0x11886f-_0x5ad342)/0xea60);if(_0x3efd0b>=0x1e)try{const _0x59ef67=doc(db,_0x373a0c(0xcf),_0x26c7ca['id']);await updateDoc(_0x59ef67,{'isReady':![]});}catch(_0x55c137){console[_0x373a0c(0xbf)](_0x373a0c(0xe4),_0x55c137);}}const unsubscribe=onSnapshot(readyPlayersRef,_0x59501b=>{const _0x1f83b1=a43_0x3c3cec,_0x458f7f=[];_0x59501b[_0x1f83b1(0xc7)](_0x1cf395=>{const _0xf6d279=_0x1f83b1,_0x2233a2=_0x1cf395[_0xf6d279(0xd0)]();if(_0x2233a2[_0xf6d279(0xc2)]===!![]){const _0x3e7349={'id':_0x1cf395['id'],'username':_0x2233a2[_0xf6d279(0xcb)],'lastUpdated':_0x2233a2[_0xf6d279(0xdf)]||new Date()};_0x458f7f[_0xf6d279(0xe2)](_0x3e7349),checkQueueTimeout(_0x3e7349);}}),updateQueueDisplay(_0x458f7f);},_0x2a4b3e=>{const _0x61820f=a43_0x3c3cec;console[_0x61820f(0xbf)](_0x61820f(0xe3),_0x2a4b3e);});window[a43_0x3c3cec(0xc8)](a43_0x3c3cec(0xd8),()=>{unsubscribe();});