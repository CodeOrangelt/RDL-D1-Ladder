const a38_0x20d33c=a38_0x798a,a38_0x1deab6=(function(){let _0x276165=!![];return function(_0x540d50,_0x95b285){const _0x4f77ad=_0x276165?function(){if(_0x95b285){const _0x1ed02f=_0x95b285['apply'](_0x540d50,arguments);return _0x95b285=null,_0x1ed02f;}}:function(){};return _0x276165=![],_0x4f77ad;};}()),a38_0x3627f9=a38_0x1deab6(this,function(){const _0x3be798=a38_0x798a,_0x3aa9c3=function(){let _0x423d51;try{_0x423d51=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x3fd940){_0x423d51=window;}return _0x423d51;},_0x199f97=_0x3aa9c3(),_0x5480d=_0x199f97[_0x3be798(0x19f)]=_0x199f97['console']||{},_0xfbf691=[_0x3be798(0x1a4),'warn','info','error','exception','table','trace'];for(let _0x2fa721=0x0;_0x2fa721<_0xfbf691['length'];_0x2fa721++){const _0x5ec24f=a38_0x1deab6['constructor'][_0x3be798(0x1a6)]['bind'](a38_0x1deab6),_0x3f2a6a=_0xfbf691[_0x2fa721],_0x1ef409=_0x5480d[_0x3f2a6a]||_0x5ec24f;_0x5ec24f['__proto__']=a38_0x1deab6['bind'](a38_0x1deab6),_0x5ec24f[_0x3be798(0x197)]=_0x1ef409['toString']['bind'](_0x1ef409),_0x5480d[_0x3f2a6a]=_0x5ec24f;}});a38_0x3627f9();import{getEloHistory,resetPagination}from'./elo-history.js';let currentPage=0x1,allMatches=[];const matchesPerPage=0xa;async function displayEloHistory(){const _0x774865=a38_0x798a,_0x44584d=document[_0x774865(0x191)]('#elo-history\x20tbody'),_0x2a206c=document['getElementById']('pagination');try{const {entries:_0x23f7c1,hasMore:_0x5d46f9}=await getEloHistory();if(_0x23f7c1['length']===0x0){_0x44584d['innerHTML']=_0x774865(0x18e);return;}allMatches=_0x23f7c1,_0x44584d['innerHTML']=_0x23f7c1['map'](_0x40e52e=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x40e52e['timestamp']?new Date(_0x40e52e['timestamp']['toDate']())['toLocaleString']():_0x774865(0x1a8))+_0x774865(0x1ad)+_0x40e52e['player']+_0x774865(0x1ad)+_0x40e52e[_0x774865(0x1aa)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x40e52e['newElo']+_0x774865(0x1ad)+(_0x40e52e[_0x774865(0x1ac)]>0x0?'+'+_0x40e52e['change']:_0x40e52e[_0x774865(0x1ac)])+_0x774865(0x1ad)+_0x40e52e['opponent']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x40e52e[_0x774865(0x199)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''),createPaginationControls();}catch(_0x111637){console[_0x774865(0x190)](_0x774865(0x1a2),_0x111637),_0x44584d['innerHTML']=_0x774865(0x192);}}function a38_0x798a(_0x12e689,_0x490056){const _0x3627f9=a38_0x3ac7();return a38_0x798a=function(_0x1deab6,_0x393c98){_0x1deab6=_0x1deab6-0x18c;let _0x3ac759=_0x3627f9[_0x1deab6];return _0x3ac759;},a38_0x798a(_0x12e689,_0x490056);}function a38_0x3ac7(){const _0x2d4780=['click','prevPage','<tr><td\x20colspan=\x226\x22>No\x20ELO\x20history\x20available</td></tr>','join','error','querySelector','<tr><td\x20colspan=\x226\x22>Error\x20loading\x20ELO\x20history</td></tr>','addEventListener','timestamp','length','keypress','toString','div','matchResult','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20','value','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goToPage\x22>Go</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22nextPage\x22\x20','key','console','pageInput','disabled','Error\x20displaying\x20ELO\x20history:','createElement','log','Enter','prototype','>Previous</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-navigation\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>Page\x20','N/A','ceil','previousElo','#elo-history\x20tbody','change','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'];a38_0x3ac7=function(){return _0x2d4780;};return a38_0x3ac7();}function createPaginationControls(){const _0x19a703=a38_0x798a,_0x5c5ad0=Math[_0x19a703(0x1a9)](allMatches[_0x19a703(0x195)]/matchesPerPage),_0x3b7ff8=document[_0x19a703(0x1a3)](_0x19a703(0x198));_0x3b7ff8['className']='pagination-wrapper',_0x3b7ff8['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pagination-controls\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22prevPage\x22\x20'+(currentPage===0x1?_0x19a703(0x1a1):'')+_0x19a703(0x1a7)+currentPage+'\x20of\x20'+_0x5c5ad0+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-search\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22pageInput\x22\x20min=\x221\x22\x20max=\x22'+_0x5c5ad0+'\x22\x20value=\x22'+currentPage+_0x19a703(0x19d)+(currentPage===_0x5c5ad0?_0x19a703(0x1a1):'')+'>Next</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x269e31=document[_0x19a703(0x191)]('#elo-history');_0x269e31['parentNode']['insertBefore'](_0x3b7ff8,_0x269e31['nextSibling']),document['getElementById'](_0x19a703(0x18d))[_0x19a703(0x193)](_0x19a703(0x18c),()=>{if(currentPage>0x1)displayMatchesPage(currentPage-0x1);}),document['getElementById']('nextPage')[_0x19a703(0x193)](_0x19a703(0x18c),()=>{if(currentPage<_0x5c5ad0)displayMatchesPage(currentPage+0x1);}),document['getElementById']('goToPage')['addEventListener']('click',()=>{const _0xaee4d8=_0x19a703,_0x27266f=document['getElementById']('pageInput'),_0x1baef4=parseInt(_0x27266f[_0xaee4d8(0x19b)]);_0x1baef4>=0x1&&_0x1baef4<=_0x5c5ad0&&displayMatchesPage(_0x1baef4);}),document['getElementById'](_0x19a703(0x1a0))[_0x19a703(0x193)](_0x19a703(0x196),_0x45fbc3=>{const _0x3d67f7=_0x19a703;if(_0x45fbc3[_0x3d67f7(0x19e)]===_0x3d67f7(0x1a5)){const _0x1bc45a=parseInt(_0x45fbc3['target']['value']);_0x1bc45a>=0x1&&_0x1bc45a<=_0x5c5ad0&&displayMatchesPage(_0x1bc45a);}});}async function displayMatchesPage(_0x46a5ae){const _0x2ff659=a38_0x798a;currentPage=_0x46a5ae;const _0x2c12ea=(currentPage-0x1)*matchesPerPage,_0x33598a=_0x2c12ea+matchesPerPage,_0x14d351=allMatches['slice'](_0x2c12ea,_0x33598a),_0x53c39d=document['querySelector'](_0x2ff659(0x1ab));_0x53c39d['innerHTML']=_0x14d351['map'](_0x3e5b43=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x3e5b43['timestamp']?new Date(_0x3e5b43[_0x2ff659(0x194)]['toDate']())['toLocaleString']():'N/A')+_0x2ff659(0x19c)+_0x3e5b43['player']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x3e5b43['previousElo']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x3e5b43['newElo']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x3e5b43['change']>0x0?'+'+_0x3e5b43[_0x2ff659(0x1ac)]:_0x3e5b43['change'])+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x3e5b43['opponent']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x3e5b43[_0x2ff659(0x199)]+_0x2ff659(0x19a))[_0x2ff659(0x18f)](''),createPaginationControls();}document[a38_0x20d33c(0x193)]('DOMContentLoaded',displayEloHistory);