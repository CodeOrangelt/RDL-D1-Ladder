const a0_0x111be7=a0_0x4ae4;(function(_0x371917,_0x40a67e){const _0x4ad8c2=a0_0x4ae4,_0x4c821c=_0x371917();while(!![]){try{const _0x373a3b=parseInt(_0x4ad8c2(0xfa))/0x1*(-parseInt(_0x4ad8c2(0x117))/0x2)+parseInt(_0x4ad8c2(0x10d))/0x3+-parseInt(_0x4ad8c2(0x102))/0x4+-parseInt(_0x4ad8c2(0x124))/0x5*(parseInt(_0x4ad8c2(0x12a))/0x6)+parseInt(_0x4ad8c2(0x110))/0x7+-parseInt(_0x4ad8c2(0xf6))/0x8*(parseInt(_0x4ad8c2(0xf4))/0x9)+parseInt(_0x4ad8c2(0x111))/0xa;if(_0x373a3b===_0x40a67e)break;else _0x4c821c['push'](_0x4c821c['shift']());}catch(_0x1ef833){_0x4c821c['push'](_0x4c821c['shift']());}}}(a0_0x1730,0x2aa58));function a0_0x4ae4(_0x4e229d,_0x121fac){const _0x1cffdc=a0_0x1730();return a0_0x4ae4=function(_0x4c6b6d,_0x9cd139){_0x4c6b6d=_0x4c6b6d-0xf2;let _0x53c571=_0x1cffdc[_0x4c6b6d];return _0x53c571;},a0_0x4ae4(_0x4e229d,_0x121fac);}const a0_0x9cd139=(function(){let _0xd0c27f=!![];return function(_0x335833,_0x5c10a9){const _0x8a402a=_0xd0c27f?function(){const _0x32092e=a0_0x4ae4;if(_0x5c10a9){const _0x5dfe74=_0x5c10a9[_0x32092e(0x128)](_0x335833,arguments);return _0x5c10a9=null,_0x5dfe74;}}:function(){};return _0xd0c27f=![],_0x8a402a;};}()),a0_0x4c6b6d=a0_0x9cd139(this,function(){const _0x38c896=a0_0x4ae4,_0x1254cb=function(){let _0x491396;try{_0x491396=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x550166){_0x491396=window;}return _0x491396;},_0x2672aa=_0x1254cb(),_0x32a513=_0x2672aa[_0x38c896(0x101)]=_0x2672aa['console']||{},_0x2c5242=[_0x38c896(0xff),_0x38c896(0x12b),_0x38c896(0x10b),'error','exception',_0x38c896(0x112),'trace'];for(let _0x1b5e0e=0x0;_0x1b5e0e<_0x2c5242['length'];_0x1b5e0e++){const _0x9a3876=a0_0x9cd139['constructor']['prototype']['bind'](a0_0x9cd139),_0x17f79c=_0x2c5242[_0x1b5e0e],_0x6d5390=_0x32a513[_0x17f79c]||_0x9a3876;_0x9a3876[_0x38c896(0xf9)]=a0_0x9cd139['bind'](a0_0x9cd139),_0x9a3876['toString']=_0x6d5390[_0x38c896(0x11a)][_0x38c896(0xf2)](_0x6d5390),_0x32a513[_0x17f79c]=_0x9a3876;}});function a0_0x1730(){const _0x22e05f=['firebase-suspend-indicator','system','\x20total\x20operations','apply','Error\x20executing\x20pending\x20operation:','762IQTZIW','warn','disabled','set','error','deleteDocument','bind','RDL_NETWORK_ERROR','9fuVjhF','size','2622712sGdqGB','\x20operations\x20during\x20idle\x20state','function','__proto__','5oOiKMm','clear','debug','[FirebaseIdle]\x20All\x20listeners\x20suspended','[FirebaseIdle]\x20Operation\x20blocked\x20-\x20network\x20error','log','safeOperation','console','1153756iUDEia','delete','substring','forEach','[FirebaseIdle]\x20Debug\x20mode\x20','pendingOperations','get','pendingTimeout','checkSessionActive','info','[FirebaseIdle]\x20Creating\x20listener:\x20','414270bUZfpm','getElementById','operation','231308tBYWii','10696900RepYJA','table','query','[FirebaseIdle]\x20Error\x20during\x20test\x20(expected):','cssText','[FirebaseIdle]\x20Successfully\x20suspended\x20listener:','75908CjGwHD','_suspendedListeners','operationType','toString','[FirebaseIdle]\x20Listener\x20removed:\x20','body','blockedOperations','remove','createElement','getDocuments','[FirebaseIdle]\x20Error\x20resuming\x20listener:','[FirebaseIdle]\x20No\x20listeners\x20to\x20resume','RDL_SESSION_SUSPENDED','10240gujmnu'];a0_0x1730=function(){return _0x22e05f;};return a0_0x1730();}a0_0x4c6b6d();import{auth,db}from'./firebase-config.js';import{handleNetworkError}from'./idle-timeout.js';import{getDoc,getDocs,collection,doc,query,where,orderBy,limit,startAfter,addDoc,setDoc,updateDoc,deleteDoc,onSnapshot,getCountFromServer,writeBatch,serverTimestamp,Timestamp}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';class FirebaseIdleWrapper{constructor(){const _0x3c21f3=a0_0x4ae4;this['activeListeners']=new Map(),this['pendingOperations']=new Map(),this[_0x3c21f3(0x109)]=null,this['blockedOperations']=0x0,this[_0x3c21f3(0xfc)]=![];}[a0_0x111be7(0x10a)](){const _0x39f3cd=a0_0x111be7;if(window['RDL_SESSION_SUSPENDED']===!![])return console[_0x39f3cd(0xff)]('[FirebaseIdle]\x20Operation\x20blocked\x20-\x20session\x20idle'),this[_0x39f3cd(0x11d)]=(this[_0x39f3cd(0x11d)]||0x0)+0x1,this['blockedOperations']%0xa===0x0&&console['warn']('[FirebaseIdle]\x20Blocked\x20'+this[_0x39f3cd(0x11d)]+_0x39f3cd(0xf7)),![];if(window[_0x39f3cd(0xf3)]===!![])return console['log'](_0x39f3cd(0xfe)),![];return!![];}async['safeOperation'](_0x25a1c1,_0x5d2aa1,..._0x1406eb){const _0x297535=a0_0x111be7;if(!this['checkSessionActive']()){const _0x4fb156=_0x5d2aa1+'-'+Date['now']()+'-'+Math['random']()['toString'](0x24)[_0x297535(0x104)](0x2,0x9);return this['pendingOperations'][_0x297535(0x12d)](_0x4fb156,{'operation':_0x25a1c1,'operationType':_0x5d2aa1,'args':_0x1406eb}),!this[_0x297535(0x109)]&&(this['pendingTimeout']=setTimeout(()=>{const _0x5440e5=_0x297535;this['pendingOperations']['clear'](),this[_0x5440e5(0x109)]=null;},0x5*0x3c*0x3e8)),null;}try{return await _0x25a1c1(..._0x1406eb);}catch(_0x3ae495){if(_0x3ae495['code']==='unavailable'||_0x3ae495['code']==='resource-exhausted'||_0x3ae495['message']&&_0x3ae495['message']['includes']('network'))return handleNetworkError(),null;throw _0x3ae495;}}async['getDocument'](_0xf15708){const _0x41ca12=a0_0x111be7;return this['safeOperation'](getDoc,_0x41ca12(0x108),_0xf15708);}async[a0_0x111be7(0x120)](_0x103963){const _0xaa72c=a0_0x111be7;return this['safeOperation'](getDocs,_0xaa72c(0x113),_0x103963);}async['addDocument'](_0x1fca82,_0x14fc0c){return this['safeOperation'](addDoc,'add',_0x1fca82,_0x14fc0c);}async['setDocument'](_0x285439,_0x1a6d59,_0x5add4f={}){const _0x3b20b8=a0_0x111be7;return this['safeOperation'](setDoc,_0x3b20b8(0x12d),_0x285439,_0x1a6d59,_0x5add4f);}async['updateDocument'](_0x257068,_0x4b5df8){return this['safeOperation'](updateDoc,'update',_0x257068,_0x4b5df8);}async[a0_0x111be7(0x12f)](_0x378d75){const _0x12cb02=a0_0x111be7;return this[_0x12cb02(0x100)](deleteDoc,_0x12cb02(0x103),_0x378d75);}['suspendAllListeners'](){const _0x108396=a0_0x111be7;console['log']('[FirebaseIdle]\x20Suspending\x20all\x20active\x20listeners:',this['activeListeners']['size']),this[_0x108396(0x118)]=new Map(this['activeListeners']),this['activeListeners']['forEach']((_0x1bfc4f,_0x2d1f5e)=>{const _0x2ece18=_0x108396;console['log']('[FirebaseIdle]\x20Suspending\x20listener:',_0x2d1f5e);if(typeof _0x1bfc4f==='function')try{_0x1bfc4f(),console[_0x2ece18(0xff)](_0x2ece18(0x116),_0x2d1f5e);}catch(_0x3c1c47){console[_0x2ece18(0x12e)]('[FirebaseIdle]\x20Error\x20suspending\x20listener:',_0x2d1f5e,_0x3c1c47);}else{if(_0x1bfc4f&&typeof _0x1bfc4f['unsubscribe']===_0x2ece18(0xf8))try{_0x1bfc4f['unsubscribe'](),console['log']('[FirebaseIdle]\x20Successfully\x20suspended\x20listener:',_0x2d1f5e);}catch(_0x237e9f){console['error']('[FirebaseIdle]\x20Error\x20suspending\x20listener:',_0x2d1f5e,_0x237e9f);}}}),this['activeListeners']['clear']();if(this['debug']){const _0x1246e7=document[_0x108396(0x11f)]('div');_0x1246e7['id']=_0x108396(0x125),_0x1246e7['style'][_0x108396(0x115)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20right:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ff5555;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x205px\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x209999;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x1246e7['textContent']='Firebase:\x20Suspended',document[_0x108396(0x11c)]['appendChild'](_0x1246e7);}console['log'](_0x108396(0xfd));}['resumeAllListeners'](){const _0x50c56a=a0_0x111be7;if(!this[_0x50c56a(0x118)]||this['_suspendedListeners'][_0x50c56a(0xf5)]===0x0){console['log'](_0x50c56a(0x122));return;}console[_0x50c56a(0xff)]('[FirebaseIdle]\x20Resuming\x20listeners:',this['_suspendedListeners'][_0x50c56a(0xf5)]),this['_suspendedListeners'][_0x50c56a(0x105)]((_0x14e0b0,_0xf52d7d)=>{const _0x45150d=_0x50c56a;console['log']('[FirebaseIdle]\x20Resuming\x20listener:',_0xf52d7d);try{if(typeof _0x14e0b0==='function'){console['warn']('[FirebaseIdle]\x20Cannot\x20resume\x20listener\x20directly:',_0xf52d7d);return;}const {query:_0x12651a,callback:_0x26f510,options:_0x9c9aeb}=_0x14e0b0;if(_0x12651a&&_0x26f510){const _0x1a98fe=onSnapshot(_0x12651a,_0x26f510,_0x9c9aeb||{});this['activeListeners']['set'](_0xf52d7d,_0x1a98fe),console['log']('[FirebaseIdle]\x20Successfully\x20resumed\x20listener:',_0xf52d7d);}}catch(_0x33b204){console['error'](_0x45150d(0x121),_0xf52d7d,_0x33b204);}}),this['_suspendedListeners']['clear']();const _0x20c602=document[_0x50c56a(0x10e)](_0x50c56a(0x125));_0x20c602&&_0x20c602[_0x50c56a(0x11e)](),console['log']('[FirebaseIdle]\x20Listeners\x20resumed');}['createListener'](_0x31f120,_0x3e66f5,_0x364bc1={},_0x50dced=null){const _0x486cc7=a0_0x111be7,_0x182bc8=_0x50dced||'listener_'+Date['now']()+'_'+Math['random']()['toString'](0x24)['substr'](0x2,0x9);this['debug']&&console['log'](_0x486cc7(0x10c)+_0x182bc8);if(!this[_0x486cc7(0x10a)]())return console['log']('[FirebaseIdle]\x20Session\x20suspended,\x20not\x20creating\x20listener:\x20'+_0x182bc8),()=>{};try{const _0x415a56=onSnapshot(_0x31f120,_0x3e66f5,_0x364bc1);return this['activeListeners']['set'](_0x182bc8,{'unsubscribe':_0x415a56,'query':_0x31f120,'callback':_0x3e66f5,'options':_0x364bc1}),this[_0x486cc7(0xfc)]&&(console[_0x486cc7(0xff)]('[FirebaseIdle]\x20Listener\x20created:\x20'+_0x182bc8),console[_0x486cc7(0xff)]('[FirebaseIdle]\x20Active\x20listeners:\x20'+this['activeListeners'][_0x486cc7(0xf5)])),()=>{const _0x86ba61=_0x486cc7;this['debug']&&console[_0x86ba61(0xff)]('[FirebaseIdle]\x20Manually\x20unsubscribing\x20listener:\x20'+_0x182bc8);try{_0x415a56(),this['activeListeners'][_0x86ba61(0x103)](_0x182bc8),this['debug']&&(console[_0x86ba61(0xff)](_0x86ba61(0x11b)+_0x182bc8),console['log']('[FirebaseIdle]\x20Active\x20listeners:\x20'+this['activeListeners']['size']));}catch(_0x20735c){console['error']('[FirebaseIdle]\x20Error\x20unsubscribing\x20listener\x20'+_0x182bc8+':',_0x20735c);}};}catch(_0x5e9b2c){return console['error']('[FirebaseIdle]\x20Error\x20creating\x20listener\x20'+_0x182bc8+':',_0x5e9b2c),()=>{};}}['executePendingOperations'](_0x1292d5='all'){const _0x1c72a6=a0_0x111be7;console[_0x1c72a6(0xff)]('Executing\x20pending\x20'+_0x1292d5+'\x20operations:\x20'+this['pendingOperations'][_0x1c72a6(0xf5)]+_0x1c72a6(0x127));const _0x82bcd6=new Map(this[_0x1c72a6(0x107)]);this['pendingOperations'][_0x1c72a6(0xfb)](),_0x82bcd6[_0x1c72a6(0x105)]((_0x2d1d5e,_0x34be32)=>{const _0x44ef04=_0x1c72a6;_0x1292d5==='all'||_0x2d1d5e['operationType']===_0x1292d5?(console[_0x44ef04(0xff)]('Executing\x20delayed\x20'+_0x2d1d5e['operationType']+'\x20operation'),this['safeOperation'](_0x2d1d5e[_0x44ef04(0x10f)],_0x2d1d5e[_0x44ef04(0x119)],..._0x2d1d5e['args'])['catch'](_0x53a612=>console['error'](_0x44ef04(0x129),_0x53a612))):this['pendingOperations']['set'](_0x34be32,_0x2d1d5e);});}['enableDebug'](_0x2bee10=!![]){const _0x22aed8=a0_0x111be7;this['debug']=_0x2bee10,console['log'](_0x22aed8(0x106)+(_0x2bee10?'enabled':_0x22aed8(0x12c)));if(_0x2bee10){const _0x410d90=window[_0x22aed8(0x123)];window['RDL_SESSION_SUSPENDED']=!![],console[_0x22aed8(0xff)]('[FirebaseIdle]\x20Testing\x20suspension\x20-\x20attempting\x20read...'),this['getDocument'](doc(db,_0x22aed8(0x126),'test'))['then'](_0x1e6659=>{console['log']('[FirebaseIdle]\x20TEST\x20FAILED\x20-\x20read\x20succeeded\x20during\x20suspension',_0x1e6659);})['catch'](_0x4186a2=>{const _0x37885f=_0x22aed8;console['log'](_0x37885f(0x114),_0x4186a2);})['finally'](()=>{console['log']('[FirebaseIdle]\x20Suspension\x20test\x20complete'),window['RDL_SESSION_SUSPENDED']=_0x410d90;});}}}const firebaseIdle=new FirebaseIdleWrapper();export function enhanceIdleTimeout(){const _0x3ec8a2=window['suspendSession']||function(){},_0x1c7d4e=window['resumeSession']||function(){};window['suspendSession']=function(){_0x3ec8a2(),firebaseIdle['suspendAllListeners']();},window['resumeSession']=function(){_0x1c7d4e(),firebaseIdle['resumeAllListeners']();};}export default firebaseIdle;