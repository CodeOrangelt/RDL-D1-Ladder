const a42_0x22f0f1=a42_0x5df5;function a42_0x5df5(_0x56a282,_0x1797b7){const _0x1a2692=a42_0x2e52();return a42_0x5df5=function(_0x199c21,_0x7b3393){_0x199c21=_0x199c21-0x9f;let _0x57e2b7=_0x1a2692[_0x199c21];return _0x57e2b7;},a42_0x5df5(_0x56a282,_0x1797b7);}(function(_0x11a4a6,_0x2bfb19){const _0x549867=a42_0x5df5,_0x5d105c=_0x11a4a6();while(!![]){try{const _0xe04cfc=-parseInt(_0x549867(0xb7))/0x1+-parseInt(_0x549867(0xd8))/0x2+-parseInt(_0x549867(0xc5))/0x3*(-parseInt(_0x549867(0xc6))/0x4)+-parseInt(_0x549867(0xa7))/0x5*(-parseInt(_0x549867(0xa1))/0x6)+parseInt(_0x549867(0xa2))/0x7+parseInt(_0x549867(0xa0))/0x8*(parseInt(_0x549867(0xd6))/0x9)+-parseInt(_0x549867(0xc2))/0xa;if(_0xe04cfc===_0x2bfb19)break;else _0x5d105c['push'](_0x5d105c['shift']());}catch(_0x571508){_0x5d105c['push'](_0x5d105c['shift']());}}}(a42_0x2e52,0xb204a));function a42_0x2e52(){const _0x8dc2e5=['setupEventListeners','return\x20(function()\x20','log','Stats\x20calculated:','currentUser','__proto__','error','loserScore','pfpPreview','loadProfile','forEach','winnerScore','846826mjfUqL','nickname','stats-losses','player-stats','loserUsername','info','form','get','stats-matches','table','toString','17606330CIHbCz','value','size','522IMRdkX','31724XuneDR','favoriteWeapon','profile-preview','pfpInput','profiles','src','change','trace','Profile\x20saved\x20successfully!','stats-kd','DOMContentLoaded','bind','pfp-upload','exception','console','textContent','3711051ngbHof','getElementById','1729390FBoVjE','prototype','preventDefault','stats-winrate','addEventListener','motto','apply','handleImageUpload','pfpUrl','onload','Error\x20loading\x20player\x20stats:','Please\x20sign\x20in\x20to\x20save\x20your\x20profile','Error\x20saving\x20profile.\x20Please\x20try\x20again.','favorite-map','favoriteMap','uid','stats-','constructor','(((.+)+)+)+$','winrate','statsContainer','favorite-weapon','{}.constructor(\x22return\x20this\x22)(\x20)','files','stats-wins','handleSubmit','loadPlayerStats','24QePWFJ','36OUwlHO','6524399KKrUNU','toFixed','all','winnerUsername','readAsDataURL','543540lyLzKH','data','target','losses'];a42_0x2e52=function(){return _0x8dc2e5;};return a42_0x2e52();}const a42_0x340eba=(function(){let _0x19b1cc=!![];return function(_0x2ff268,_0x2a48b3){const _0x5cacb3=_0x19b1cc?function(){if(_0x2a48b3){const _0x2407a9=_0x2a48b3['apply'](_0x2ff268,arguments);return _0x2a48b3=null,_0x2407a9;}}:function(){};return _0x19b1cc=![],_0x5cacb3;};}()),a42_0x5172a3=a42_0x340eba(this,function(){const _0x27b3e6=a42_0x5df5;return a42_0x5172a3[_0x27b3e6(0xc1)]()['search'](_0x27b3e6(0xea))[_0x27b3e6(0xc1)]()['constructor'](a42_0x5172a3)['search'](_0x27b3e6(0xea));});a42_0x5172a3();const a42_0x7b3393=(function(){let _0xe7d54c=!![];return function(_0x79af85,_0xdaf33d){const _0x3a059f=_0xe7d54c?function(){const _0x3c0f25=a42_0x5df5;if(_0xdaf33d){const _0x16d975=_0xdaf33d[_0x3c0f25(0xde)](_0x79af85,arguments);return _0xdaf33d=null,_0x16d975;}}:function(){};return _0xe7d54c=![],_0x3a059f;};}()),a42_0x199c21=a42_0x7b3393(this,function(){const _0x28d2a6=a42_0x5df5,_0x594512=function(){const _0x3bd1cf=a42_0x5df5;let _0x1e60a6;try{_0x1e60a6=Function(_0x3bd1cf(0xac)+_0x3bd1cf(0xee)+');')();}catch(_0xad931d){_0x1e60a6=window;}return _0x1e60a6;},_0x460a33=_0x594512(),_0x7b8ad5=_0x460a33[_0x28d2a6(0xd4)]=_0x460a33['console']||{},_0x3b17ff=[_0x28d2a6(0xad),'warn',_0x28d2a6(0xbc),_0x28d2a6(0xb1),_0x28d2a6(0xd3),_0x28d2a6(0xc0),_0x28d2a6(0xcd)];for(let _0x7af6b0=0x0;_0x7af6b0<_0x3b17ff['length'];_0x7af6b0++){const _0x36371e=a42_0x7b3393[_0x28d2a6(0xe9)][_0x28d2a6(0xd9)]['bind'](a42_0x7b3393),_0x4fde33=_0x3b17ff[_0x7af6b0],_0x589e17=_0x7b8ad5[_0x4fde33]||_0x36371e;_0x36371e[_0x28d2a6(0xb0)]=a42_0x7b3393[_0x28d2a6(0xd1)](a42_0x7b3393),_0x36371e[_0x28d2a6(0xc1)]=_0x589e17[_0x28d2a6(0xc1)][_0x28d2a6(0xd1)](_0x589e17),_0x7b8ad5[_0x4fde33]=_0x36371e;}});a42_0x199c21();import{initializeApp}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js';import{getAuth,onAuthStateChanged}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';import{getFirestore,doc,setDoc,getDoc,collection,getDocs,query,where}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{getStorage,ref,uploadBytes,getDownloadURL}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-storage.js';import{firebaseConfig}from'./firebase-config.js';const app=initializeApp(firebaseConfig),auth=getAuth(app),db=getFirestore(app),storage=getStorage(app);class ProfileManager{constructor(){const _0x3abe90=a42_0x5df5;this[_0x3abe90(0xbd)]=document[_0x3abe90(0xd7)]('profile-form'),this[_0x3abe90(0xc9)]=document[_0x3abe90(0xd7)](_0x3abe90(0xd2)),this['pfpPreview']=document['getElementById'](_0x3abe90(0xc8)),this[_0x3abe90(0xec)]=document[_0x3abe90(0xd7)](_0x3abe90(0xba)),this[_0x3abe90(0xab)](),this[_0x3abe90(0xb4)]();}['setupEventListeners'](){const _0x2dcedb=a42_0x5df5;this[_0x2dcedb(0xc9)][_0x2dcedb(0xdc)](_0x2dcedb(0xcc),_0x4b445a=>this[_0x2dcedb(0xdf)](_0x4b445a)),this['form']['addEventListener']('submit',_0x242cb4=>this[_0x2dcedb(0xf1)](_0x242cb4));}async['handleImageUpload'](_0x38f3a3){const _0xef1545=a42_0x5df5,_0x462b66=_0x38f3a3[_0xef1545(0xa9)][_0xef1545(0xef)][0x0];if(_0x462b66){const _0x283633=new FileReader();_0x283633[_0xef1545(0xe1)]=_0x1c8d8a=>{const _0x5d6bd9=_0xef1545;this[_0x5d6bd9(0xb3)][_0x5d6bd9(0xcb)]=_0x1c8d8a[_0x5d6bd9(0xa9)]['result'];},_0x283633[_0xef1545(0xa6)](_0x462b66);}}async[a42_0x22f0f1(0xf1)](_0x42dc63){const _0xe42f91=a42_0x22f0f1;_0x42dc63[_0xe42f91(0xda)]();const _0x4487f0=auth[_0xe42f91(0xaf)];if(!_0x4487f0){alert(_0xe42f91(0xe3));return;}try{const _0x343d22=new FormData(this[_0xe42f91(0xbd)]),_0x52b393={'nickname':_0x343d22[_0xe42f91(0xbe)](_0xe42f91(0xb8)),'motto':_0x343d22[_0xe42f91(0xbe)]('motto'),'favoriteMap':_0x343d22[_0xe42f91(0xbe)](_0xe42f91(0xe5)),'favoriteWeapon':_0x343d22[_0xe42f91(0xbe)]('favorite-weapon'),'updatedAt':new Date()['toISOString']()},_0x49f8c5=this[_0xe42f91(0xc9)][_0xe42f91(0xef)][0x0];if(_0x49f8c5){const _0x203bfc=ref(storage,'profile-pictures/'+_0x4487f0[_0xe42f91(0xe7)]);await uploadBytes(_0x203bfc,_0x49f8c5),_0x52b393['pfpUrl']=await getDownloadURL(_0x203bfc);}await setDoc(doc(db,'profiles',_0x4487f0[_0xe42f91(0xe7)]),_0x52b393),alert(_0xe42f91(0xce));}catch(_0x4c33a4){console['error']('Error\x20saving\x20profile:',_0x4c33a4),alert(_0xe42f91(0xe4));}}async[a42_0x22f0f1(0xb4)](){onAuthStateChanged(auth,async _0x7b4e6b=>{const _0x55993d=a42_0x5df5;if(_0x7b4e6b)try{const _0x27bc15=await getDoc(doc(db,_0x55993d(0xca),_0x7b4e6b[_0x55993d(0xe7)]));if(_0x27bc15['exists']()){const _0x81f15e=_0x27bc15[_0x55993d(0xa8)]();document['getElementById']('nickname')[_0x55993d(0xc3)]=_0x81f15e[_0x55993d(0xb8)]||'',document[_0x55993d(0xd7)](_0x55993d(0xdd))[_0x55993d(0xc3)]=_0x81f15e[_0x55993d(0xdd)]||'',document['getElementById'](_0x55993d(0xe5))[_0x55993d(0xc3)]=_0x81f15e[_0x55993d(0xe6)]||'',document[_0x55993d(0xd7)](_0x55993d(0xed))[_0x55993d(0xc3)]=_0x81f15e[_0x55993d(0xc7)]||'',_0x81f15e['pfpUrl']&&(this[_0x55993d(0xb3)]['src']=_0x81f15e[_0x55993d(0xe0)]),await this[_0x55993d(0x9f)](_0x81f15e['nickname']);}}catch(_0x4402d3){console[_0x55993d(0xb1)]('Error\x20loading\x20profile:',_0x4402d3);}});}async['loadPlayerStats'](_0x5a398e){const _0x46f41d=a42_0x22f0f1;if(!_0x5a398e)return;try{const _0x5ced30=collection(db,'approvedMatches'),[_0x18b869,_0x16c333]=await Promise[_0x46f41d(0xa4)]([getDocs(query(_0x5ced30,where(_0x46f41d(0xa5),'==',_0x5a398e))),getDocs(query(_0x5ced30,where(_0x46f41d(0xbb),'==',_0x5a398e)))]),_0x2592e4=_0x18b869[_0x46f41d(0xc4)],_0x3dd19a=_0x16c333[_0x46f41d(0xc4)],_0x4b221a=_0x2592e4+_0x3dd19a;let _0x47168a=0x0,_0x1a1276=0x0;_0x18b869[_0x46f41d(0xb5)](_0x32a3c5=>{const _0x13ab31=_0x46f41d,_0x288d6e=_0x32a3c5[_0x13ab31(0xa8)]();if(_0x288d6e['winnerScore'])_0x47168a+=parseInt(_0x288d6e[_0x13ab31(0xb6)]);if(_0x288d6e[_0x13ab31(0xb2)])_0x1a1276+=parseInt(_0x288d6e[_0x13ab31(0xb2)]);}),_0x16c333[_0x46f41d(0xb5)](_0x3a93d3=>{const _0x396c50=_0x46f41d,_0x16abf9=_0x3a93d3[_0x396c50(0xa8)]();if(_0x16abf9['loserScore'])_0x47168a+=parseInt(_0x16abf9[_0x396c50(0xb2)]);if(_0x16abf9[_0x396c50(0xb6)])_0x1a1276+=parseInt(_0x16abf9[_0x396c50(0xb6)]);});const _0x49b8c2=_0x1a1276===0x0?_0x47168a[_0x46f41d(0xa3)](0x2):(_0x47168a/_0x1a1276)[_0x46f41d(0xa3)](0x2),_0x438068=_0x4b221a===0x0?'0':(_0x2592e4/_0x4b221a*0x64)['toFixed'](0x1);console['log'](_0x46f41d(0xae),{'totalMatches':_0x4b221a,'wins':_0x2592e4,'losses':_0x3dd19a,'totalKills':_0x47168a,'totalDeaths':_0x1a1276,'kdRatio':_0x49b8c2,'winRate':_0x438068}),document['getElementById'](_0x46f41d(0xbf))['textContent']=_0x4b221a,document[_0x46f41d(0xd7)](_0x46f41d(0xf0))['textContent']=_0x2592e4,document['getElementById'](_0x46f41d(0xb9))['textContent']=_0x3dd19a,document['getElementById'](_0x46f41d(0xcf))[_0x46f41d(0xd5)]=_0x49b8c2,document['getElementById'](_0x46f41d(0xdb))[_0x46f41d(0xd5)]=_0x438068+'%';}catch(_0x372f81){console['error'](_0x46f41d(0xe2),_0x372f81),['matches','wins',_0x46f41d(0xaa),'kd',_0x46f41d(0xeb)]['forEach'](_0x4e6fa8=>{const _0x1598b7=_0x46f41d;document[_0x1598b7(0xd7)](_0x1598b7(0xe8)+_0x4e6fa8)['textContent']='-';});}}}document[a42_0x22f0f1(0xdc)](a42_0x22f0f1(0xd0),()=>{new ProfileManager();});