function a50_0x167e(){const _0x8ddc01=['setItem','matches','invalidatePlayerCache','isUnderdogVictoryFast','evaluateUnderdogRibbonFromCount','description','constructor','Brick\x20Wall','Standard','(((.+)+)+)+$',':\x20ELO\x20','#FF7675','Explorer\x20Ribbon','#55A3FF','exception',')\x20-\x20new\x20match\x20detected','return\x20(function()\x20','startsWith','\x20(Dominated:\x20','map','\x20players,\x20Top:\x20','‚ùå\x20No\x20player\x20data\x20found\x20for\x20','replace','10FCPcBI','evaluateOverachieverRibbonFromCount','batchTimer','uniqueOpponents','<div\x20class=\x22ribbon-devices\x22>',')\x20vs\x20Loser(','\x20earned\x20','image','winnerUsername','Rematch','21348oKmRJx','join','warn','sort','Emerald','):\x20','getRibbonCacheStats','../images/ribbons/Overachiever.png','üèÜ\x20Underdog\x20Ribbon\x20upgrade:\x20Level\x20','\x20in\x20','Error\x20checking\x20top\x20rank\x20status:','setCachedMatches','add','size','#FF9500','getCachedMatches','keys','ribbon_cache_','Error\x20getting\x20player\x20data\x20for\x20','getCacheStats','evaluateBrickWallRibbonFromWinRate','Played\x20over\x20100\x20matches','docs','1715KXrzox','levels','1635885pUMXVo','üîç\x20Checking\x20Top\x20','shouldRefreshCache','playerRibbons','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','memoryCache','rematchWins','../images/ribbons/Domination.png','search','has','<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>','üëë\x20NEW\x20Top\x20Rank\x20Achievement:\x20','playersD3','üìä\x20Bulk\x20loaded\x20','../images/ribbons/Subgamer.png','mapPlayed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','totalMatches','\x20player\x20records\x20for\x20underdog\x20calculations...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22military-ribbon\x22\x20data-tooltip=\x22','ribbons','\x20is\x20#1:\x20','level-4','wins','empty','all','\x20ELO),\x20','key','13906420lhSFMh','../images/ribbons/Collector.png','subgameType','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20or\x20','\x20Pilot','error','üíæ\x20Saving\x20','apply','__proto__','\x20Badge',')\x20beat\x20','Beat\x20a\x20pilot\x20ranked\x20higher\x20than\x20you','Unranked','üéØ\x20Cache\x20hit\x20(matches)\x20for\x20','Rematch\x20Ribbon','approvedMatchesD3','playersD2','info','2133306nQYXsa','winnerRating','üèÜ\x20Brick\x20Wall\x20ribbon\x20awarded:\x20','‚ö†Ô∏è\x20Missing\x20player\x20data\x20for\x20','exists','Overachiever\x20Ribbon','loserRating','evaluateRematchRibbonFromCount','Bronze','level-2','getCachedData','üéØ\x20Found\x20','cleanup','savePlayerRibbonsOptimized','parse','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22','toString','üöÄ\x20Cache\x20hit\x20(memory)\x20for\x20','isUnderdogVictory','\x20already\x20has\x20','get','1UQVbNV','autoCleanup','subgameMatches','üìä\x20','\x20-\x20No\x20changes\x20needed','delete','evaluateTopRankRibbon','\x20Tier:\x20','Played\x20at\x20least\x2020\x20unique\x20maps','‚ö†Ô∏è\x20Brick\x20Wall\x20ribbon\x20requires\x2050+\x20matches\x20(player\x20has\x20','removeItem','690JIxoxa',';\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ELO\x20(','../images/ribbons/Explorer.png','matchCache','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22ribbon-image\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27;\x20this.nextElementSibling.style.display=\x27block\x27;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-fallback\x22\x20style=\x22display:\x20none;\x20background:\x20','checkTopRankStatus','underdogWins','2072958ypqXxn','CACHE_DURATION','üóëÔ∏è\x20Invalidated\x20cache\x20for\x20','Socialite\x20Ribbon','\x20‚Üí\x20','CLEANUP_INTERVAL','Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Silver\x20rank','Silver','\x0a/*\x20Stats\x20integration\x20styles\x20*/\x0a.ribbon-section\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-top:\x201rem;\x0a}\x0a\x0a.ribbon-stat-item.full-width\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-bottom:\x200;\x0a}\x0a\x0a/*\x20Military\x20Ribbon\x20Rack\x20Styling\x20-\x20NO\x20OUTER\x20CONTAINER\x20*/\x0a.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20padding:\x200;\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20box-shadow:\x20none;\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20align-items:\x20flex-start;\x0a}\x0a\x0a.ribbon-rack-empty-inline\x20{\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20padding:\x2060px\x2040px;\x0a\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20border-radius:\x2012px;\x0a\x20\x20\x20\x20border:\x202px\x20solid\x20rgba(255,\x20255,\x20255,\x200.1);\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a}\x0a\x0a.empty-rack-text\x20{\x0a\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20font-style:\x20italic;\x0a\x20\x20\x20\x20font-size:\x201.2rem;\x0a}\x0a\x0a/*\x20Ribbon\x20Rows\x20*/\x0a.ribbon-row\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x206px;\x0a\x20\x20\x20\x20margin-bottom:\x206px;\x0a\x20\x20\x20\x20justify-content:\x20flex-start;\x0a}\x0a\x0a.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20margin-left:\x2060px;\x0a}\x0a\x0a/*\x20Individual\x20Military\x20Ribbon\x20Styling\x20-\x20FIXED\x20OVERFLOW\x20FOR\x20LEVEL\x20INDICATOR\x20*/\x0a.military-ribbon\x20{\x0a\x20\x20\x20\x20position:\x20relative;\x0a\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20transition:\x20transform\x200.3s\x20ease;\x0a\x20\x20\x20\x20flex-shrink:\x200;\x0a\x20\x20\x20\x20width:\x20190px;\x0a\x20\x20\x20\x20height:\x2060px;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#333;\x0a\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20overflow:\x20visible;\x20/*\x20Changed\x20from\x20hidden\x20to\x20visible\x20*/\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20margin:\x2012px\x2012px\x2012px\x200;\x20/*\x20Added\x20margin\x20to\x20prevent\x20clipping\x20*/\x0a}\x0a\x0a.military-ribbon:hover\x20{\x0a\x20\x20\x20\x20transform:\x20translateY(-4px);\x0a\x20\x20\x20\x20z-index:\x2010;\x0a}\x0a\x0a/*\x20Ribbon\x20image\x20container\x20to\x20handle\x20the\x20actual\x20overflow\x20*/\x0a.ribbon-image-container\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20border-radius:\x201px;\x0a}\x0a\x0a.ribbon-image\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20object-fit:\x20cover;\x0a\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20image-rendering:\x20crisp-edges;\x0a}\x0a\x0a.ribbon-fallback\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20text-shadow:\x200\x202px\x204px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a}\x0a\x0a.ribbon-name\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.9);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201.2;\x0a\x20\x20\x20\x20margin-top:\x206px;\x0a\x20\x20\x20\x20max-width:\x20120px;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20text-overflow:\x20ellipsis;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20-24px;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20font-weight:\x20500;\x0a}\x0a\x0a.military-ribbon:hover\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20display:\x20block;\x0a}\x0a\x0a.ribbon-devices\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x2050%;\x0a\x20\x20\x20\x20right:\x206px;\x0a\x20\x20\x20\x20transform:\x20translateY(-50%);\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x203px;\x0a\x20\x20\x20\x20z-index:\x205;\x0a}\x0a\x0a.ribbon-device\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20text-shadow:\x200\x200\x204px\x20rgba(0,0,0,0.9);\x0a\x20\x20\x20\x20filter:\x20drop-shadow(0\x202px\x204px\x20rgba(0,0,0,0.8));\x0a}\x0a\x0a.bronze-star\x20{\x0a\x20\x20\x20\x20color:\x20#CD7F32;\x0a}\x0a\x0a.silver-star\x20{\x0a\x20\x20\x20\x20color:\x20#C0C0C0;\x0a}\x0a\x0a.gold-star\x20{\x0a\x20\x20\x20\x20color:\x20#FFD700;\x0a}\x0a\x0a/*\x20Level\x20indicator\x20-\x20NOW\x20FULLY\x20VISIBLE\x20*/\x0a.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x20-8px;\x0a\x20\x20\x20\x20right:\x20-8px;\x0a\x20\x20\x20\x20background:\x20#FFD700;\x0a\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20width:\x2024px;\x0a\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#FFF;\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x208px\x20rgba(0,0,0,0.7);\x0a\x20\x20\x20\x20z-index:\x206;\x0a}\x0a\x0a/*\x20Custom\x20tooltip\x20-\x20only\x20this\x20one\x20will\x20show\x20*/\x0a.military-ribbon::before\x20{\x0a\x20\x20\x20\x20content:\x20attr(data-tooltip);\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20100%;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20background:\x20rgba(0,0,0,0.95);\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20padding:\x208px\x2012px;\x0a\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20pointer-events:\x20none;\x0a\x20\x20\x20\x20transition:\x20opacity\x200.3s;\x0a\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20margin-bottom:\x208px;\x0a\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(255,\x20255,\x20255,\x200.2);\x0a}\x0a\x0a.military-ribbon:hover::before\x20{\x0a\x20\x20\x20\x20opacity:\x201;\x0a}\x0a\x0a/*\x20Responsive\x20adjustments\x20*/\x0a@media\x20(max-width:\x201024px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2034px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x208px\x208px\x208px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-6px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-6px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2052px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-20px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20768px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2028px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x206px\x206px\x206px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x209px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-5px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-5px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2042px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2011px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-18px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x205px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20480px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2070px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x205px\x205px\x205px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2036px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x204px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-4px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-4px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a.stats-grid\x20.ribbon-section\x20{\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20padding:\x200;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20{\x0a\x20\x20\x20\x20background-color:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20padding:\x2025px;\x0a\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20.stat-label\x20{\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20text-transform:\x20uppercase;\x0a\x20\x20\x20\x20opacity:\x200.9;\x0a\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.95);\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a}\x0a\x0a.ribbon-level-indicator.level-1\x20{\x20background:\x20#808080;\x20}\x0a.ribbon-level-indicator.level-2\x20{\x20background:\x20#CD7F32;\x20}\x0a.ribbon-level-indicator.level-3\x20{\x20background:\x20#b9f1fc;\x20}\x0a.ribbon-level-indicator.level-4\x20{\x20background:\x20#FFD700;\x20}\x0a.ribbon-level-indicator.level-5-plus\x20{\x20background:\x20#50C878;\x20}\x0a','../images/ribbons/Rematch.png','\x20beat\x20','%\x20win\x20rate\x20over\x20','\x20vs\x20','evaluateAllRibbonsFromData','username','clearOldCache','trace','getPlayerMatchesOptimized','‚ùå\x20Error\x20in\x20ribbon\x20evaluation:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-name\x22>','\x20status\x20for\x20','bulkLoadPlayerData','bind','level-3','approvedMatchesD2','\x20players\x20from\x20','forEach','#C0C0C0','Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Emerald\x20rank','matchCount','level-5-plus','evaluateSocialiteRibbonFromCount','\x20ranks:\x20[','üÜï\x20New\x20top\x20rank\x20achievements\x20found\x20for\x20cached\x20player\x20','../images/ribbons/Underdog.png','length','lastCleanup','üöÄ\x20Bulk\x20loading\x20','../images/ribbons/toprank.png','Played\x20at\x20least\x2010\x20unique\x20pilots','üëë\x20Domination\x20Ribbon\x20awarded:\x20Level\x20','log','üîç\x20Checking\x20underdog:\x20Winner(','players','approvedMatches','\x20underdog\x20wins)','Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Gold\x20rank','toLocaleTimeString','\x20underdog\x20victories\x20for\x20','min','evaluateSubGamerRibbonFromCount','getPlayerDataCached','<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20gold-star\x22></i>','rating','getCacheKey','entries','position','</div>','substring','push','loserUsername','getItem','#A29BFE','evaluateAllRibbonsForPlayerOptimized','pendingEvaluations','Beat\x20a\x20pilot\x20with\x20the\x20\x22Rematch\x22\x20subgame\x20selected','dominatedRanks','3736YbqMNB','Amass\x20at\x20least\x2080%\x20overall\x20win\x20rate\x20percentage\x20(minimum\x2050\x20matches)','Collector\x20Ribbon','Domination\x20Ribbon','floor','Top\x20','data','Underdog\x20Ribbon','set','#6C5CE7','CACHE_KEY_PREFIX','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-image-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22','‚úÖ\x20Found\x20player\x20data\x20for\x20','\x20ELO)','color','from','eloRating','Sub-Gamer\x20Ribbon','level-1','../images/ribbons/Socialite.png','stringify','findIndex','üëë\x20Dominated\x20','console','#8E44AD','evaluateCollectorRibbonFromCount','\x20matches','level','‚ùå\x20Error\x20fetching\x20matches:','getPlayerRibbonsCached','evaluateDominationRibbonFromRanks','‚ùå\x20Not\x20underdog:\x20','\x20new/updated\x20ribbons\x20for\x20','setCachedData','now','1296070MqLHSM','timestamp','uniqueMaps','evaluateExplorerRibbonFromCount',',\x20Position\x20','<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20silver-star\x22></i>','‚ùå\x20No\x20ELO\x20rating\x20data\x20for\x20','Hold\x20more\x20than\x205\x20ribbons\x20at\x20a\x20time'];a50_0x167e=function(){return _0x8ddc01;};return a50_0x167e();}const a50_0x5c2b69=a50_0x48dd;function a50_0x48dd(_0x1bb2c1,_0x224a00){const _0x20d6e3=a50_0x167e();return a50_0x48dd=function(_0x4bacd2,_0x5ef762){_0x4bacd2=_0x4bacd2-0x12c;let _0x2a1bdd=_0x20d6e3[_0x4bacd2];return _0x2a1bdd;},a50_0x48dd(_0x1bb2c1,_0x224a00);}(function(_0x22f14f,_0x473fe9){const _0x43dbf3=a50_0x48dd,_0x34d18c=_0x22f14f();while(!![]){try{const _0x281c4d=parseInt(_0x43dbf3(0x212))/0x1*(-parseInt(_0x43dbf3(0x18c))/0x2)+-parseInt(_0x43dbf3(0x225))/0x3+parseInt(_0x43dbf3(0x1b5))/0x4*(parseInt(_0x43dbf3(0x21d))/0x5)+-parseInt(_0x43dbf3(0x1fd))/0x6+-parseInt(_0x43dbf3(0x1cc))/0x7*(parseInt(_0x43dbf3(0x169))/0x8)+-parseInt(_0x43dbf3(0x1ce))/0x9*(-parseInt(_0x43dbf3(0x1ab))/0xa)+parseInt(_0x43dbf3(0x1ea))/0xb;if(_0x281c4d===_0x473fe9)break;else _0x34d18c['push'](_0x34d18c['shift']());}catch(_0x3be43b){_0x34d18c['push'](_0x34d18c['shift']());}}}(a50_0x167e,0x5b300));const a50_0x349772=(function(){let _0x275e15=!![];return function(_0xe0833d,_0x55f9c7){const _0x59d786=_0x275e15?function(){const _0x496eba=a50_0x48dd;if(_0x55f9c7){const _0x5dd6b6=_0x55f9c7[_0x496eba(0x1f2)](_0xe0833d,arguments);return _0x55f9c7=null,_0x5dd6b6;}}:function(){};return _0x275e15=![],_0x59d786;};}()),a50_0xbfc216=a50_0x349772(this,function(){const _0x4f746c=a50_0x48dd;return a50_0xbfc216[_0x4f746c(0x20d)]()['search'](_0x4f746c(0x19d))[_0x4f746c(0x20d)]()[_0x4f746c(0x19a)](a50_0xbfc216)[_0x4f746c(0x1d6)](_0x4f746c(0x19d));});a50_0xbfc216();const a50_0x5ef762=(function(){let _0x5c7466=!![];return function(_0x27ddda,_0x3199af){const _0x1a2e46=_0x5c7466?function(){const _0x40f965=a50_0x48dd;if(_0x3199af){const _0x4eeb8a=_0x3199af[_0x40f965(0x1f2)](_0x27ddda,arguments);return _0x3199af=null,_0x4eeb8a;}}:function(){};return _0x5c7466=![],_0x1a2e46;};}()),a50_0x4bacd2=a50_0x5ef762(this,function(){const _0x3a1351=a50_0x48dd;let _0x13a7d8;try{const _0x101f2d=Function(_0x3a1351(0x1a4)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x13a7d8=_0x101f2d();}catch(_0x489d39){_0x13a7d8=window;}const _0x3dc9be=_0x13a7d8[_0x3a1351(0x180)]=_0x13a7d8[_0x3a1351(0x180)]||{},_0x5a4d3a=[_0x3a1351(0x14f),_0x3a1351(0x1b7),_0x3a1351(0x1fc),_0x3a1351(0x1f0),_0x3a1351(0x1a2),'table',_0x3a1351(0x136)];for(let _0x1281c9=0x0;_0x1281c9<_0x5a4d3a['length'];_0x1281c9++){const _0x2e3e5c=a50_0x5ef762[_0x3a1351(0x19a)]['prototype']['bind'](a50_0x5ef762),_0x1d5c5e=_0x5a4d3a[_0x1281c9],_0x19094d=_0x3dc9be[_0x1d5c5e]||_0x2e3e5c;_0x2e3e5c[_0x3a1351(0x1f3)]=a50_0x5ef762[_0x3a1351(0x13c)](a50_0x5ef762),_0x2e3e5c['toString']=_0x19094d[_0x3a1351(0x20d)][_0x3a1351(0x13c)](_0x19094d),_0x3dc9be[_0x1d5c5e]=_0x2e3e5c;}});a50_0x4bacd2();import{auth,db}from'./firebase-config.js';import{doc,getDoc,setDoc,collection,query,where,getDocs,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const RIBBON_DEFINITIONS={'Rematch\x20Ribbon':{'description':a50_0x5c2b69(0x167),'image':a50_0x5c2b69(0x12f),'color':'#FF6B6B'},'Overachiever\x20Ribbon':{'description':a50_0x5c2b69(0x1ca),'image':a50_0x5c2b69(0x1bc),'color':'#96CEB4','levels':[0x64,0xc8,0x12c,0x190,0x1f4,0x258,0x2bc,0x320,0x384,0x3e8]},'Brick\x20Wall':{'description':a50_0x5c2b69(0x16a),'image':'../images/ribbons/BrickWall.png','color':'#F0932B','levels':[0x50,0x55,0x5a,0x5f,0x64]},'Collector\x20Ribbon':{'description':a50_0x5c2b69(0x193),'image':a50_0x5c2b69(0x1eb),'color':a50_0x5c2b69(0x172),'levels':[0x5,0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32]},'Sub-Gamer\x20Ribbon':{'description':'Play\x20over\x2050\x20subgame\x20matches','image':a50_0x5c2b69(0x1dc),'color':a50_0x5c2b69(0x164),'levels':[0x32,0x64,0x96,0xc8,0xfa,0x12c,0x15e,0x190,0x1c2,0x1f4]},'Explorer\x20Ribbon':{'description':a50_0x5c2b69(0x21a),'image':a50_0x5c2b69(0x220),'color':a50_0x5c2b69(0x1a1),'levels':[0x14,0x28,0x3c,0x50,0x64,0x78,0x8c,0xa0,0xb4,0xc8]},'Socialite\x20Ribbon':{'description':a50_0x5c2b69(0x14d),'image':a50_0x5c2b69(0x17c),'color':a50_0x5c2b69(0x19f),'levels':[0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32,0x37]},'Underdog\x20Ribbon':{'description':a50_0x5c2b69(0x1f6),'image':a50_0x5c2b69(0x148),'color':a50_0x5c2b69(0x1c3),'levels':[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0x9,0xa]},'Domination\x20Ribbon':{'description':'Beat\x205\x20unique\x20pilots\x20in\x20a\x20rank\x20(including\x20your\x20own)','image':a50_0x5c2b69(0x1d5),'color':a50_0x5c2b69(0x181),'levels':[0x1,0x2,0x3,0x4,0x5]},'Top\x20Bronze\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Bronze\x20rank','image':'../images/ribbons/toprank.png','color':'#CD7F32'},'Top\x20Silver\x20Pilot':{'description':a50_0x5c2b69(0x12c),'image':a50_0x5c2b69(0x14c),'color':a50_0x5c2b69(0x141)},'Top\x20Gold\x20Pilot':{'description':a50_0x5c2b69(0x154),'image':'../images/ribbons/toprank.png','color':'#FFD700'},'Top\x20Emerald\x20Pilot':{'description':a50_0x5c2b69(0x142),'image':'../images/ribbons/toprank.png','color':'#50C878'}};export const RIBBON_CSS=a50_0x5c2b69(0x12e);class RibbonCacheManager{constructor(){const _0x4a5011=a50_0x5c2b69;this[_0x4a5011(0x1d3)]=new Map(),this[_0x4a5011(0x226)]=0x3c*0x3c*0x3e8,this[_0x4a5011(0x173)]=_0x4a5011(0x1c6),this[_0x4a5011(0x14a)]=Date[_0x4a5011(0x18b)](),this[_0x4a5011(0x22a)]=0x1e*0x3c*0x3e8;}[a50_0x5c2b69(0x15c)](_0x218426,_0x261a6e){const _0x4deed5=a50_0x5c2b69;return''+this[_0x4deed5(0x173)]+_0x218426+'_'+_0x261a6e;}[a50_0x5c2b69(0x207)](_0x8d3cea,_0x83f114){const _0x306260=a50_0x5c2b69;this[_0x306260(0x213)]();const _0x27c18f=this['getCacheKey'](_0x8d3cea,_0x83f114);if(this['memoryCache'][_0x306260(0x1d7)](_0x27c18f)){const _0x5c189b=this['memoryCache'][_0x306260(0x211)](_0x27c18f);if(Date[_0x306260(0x18b)]()-_0x5c189b[_0x306260(0x18d)]<this['CACHE_DURATION'])return console[_0x306260(0x14f)](_0x306260(0x20e)+_0x8d3cea),_0x5c189b[_0x306260(0x16f)];this[_0x306260(0x1d3)][_0x306260(0x217)](_0x27c18f);}const _0x26a848=localStorage[_0x306260(0x163)](_0x27c18f);if(_0x26a848)try{const _0x2a61e9=JSON[_0x306260(0x20b)](_0x26a848);if(Date['now']()-_0x2a61e9[_0x306260(0x18d)]<this[_0x306260(0x226)])return this['memoryCache'][_0x306260(0x171)](_0x27c18f,{'data':_0x2a61e9['ribbons'],'timestamp':_0x2a61e9['timestamp'],'matchCount':_0x2a61e9['matchCount']}),console['log']('üíæ\x20Cache\x20hit\x20(localStorage)\x20for\x20'+_0x8d3cea),_0x2a61e9[_0x306260(0x1e2)];localStorage[_0x306260(0x21c)](_0x27c18f);}catch(_0x2f946c){localStorage[_0x306260(0x21c)](_0x27c18f);}return null;}['setCachedData'](_0x56e622,_0x333197,_0x1b084e,_0x1a2198){const _0x249b4d=a50_0x5c2b69,_0x5007e7=this['getCacheKey'](_0x56e622,_0x333197),_0x4257b8=Date[_0x249b4d(0x18b)]();this['memoryCache']['set'](_0x5007e7,{'data':_0x1b084e,'timestamp':_0x4257b8,'matchCount':_0x1a2198});try{const _0x47b327={'ribbons':_0x1b084e,'matchCount':_0x1a2198,'timestamp':_0x4257b8,'version':0x3};localStorage['setItem'](_0x5007e7,JSON[_0x249b4d(0x17d)](_0x47b327));}catch(_0x40107f){this[_0x249b4d(0x135)]();try{localStorage[_0x249b4d(0x194)](_0x5007e7,JSON[_0x249b4d(0x17d)](data));}catch(_0x11b560){}}}[a50_0x5c2b69(0x1d0)](_0x1d4f56,_0x5cd9fc,_0x36056e){const _0x359df9=a50_0x5c2b69,_0x51b20c=this[_0x359df9(0x15c)](_0x1d4f56,_0x5cd9fc);if(this[_0x359df9(0x1d3)][_0x359df9(0x1d7)](_0x51b20c)){const _0x2e7d2e=this[_0x359df9(0x1d3)][_0x359df9(0x211)](_0x51b20c);return _0x2e7d2e[_0x359df9(0x143)]!==_0x36056e;}const _0x35fd15=localStorage[_0x359df9(0x163)](_0x51b20c);if(_0x35fd15)try{const _0x5a2a24=JSON[_0x359df9(0x20b)](_0x35fd15);return _0x5a2a24[_0x359df9(0x143)]!==_0x36056e;}catch(_0x3ff998){return!![];}return!![];}[a50_0x5c2b69(0x196)](_0x39b39e,_0x2bc6b3){const _0x2bf062=a50_0x5c2b69,_0x5897d5=this[_0x2bf062(0x15c)](_0x39b39e,_0x2bc6b3);this[_0x2bf062(0x1d3)][_0x2bf062(0x217)](_0x5897d5),localStorage[_0x2bf062(0x21c)](_0x5897d5),console['log'](_0x2bf062(0x227)+_0x39b39e+'\x20('+_0x2bc6b3+_0x2bf062(0x1a3));}[a50_0x5c2b69(0x213)](){const _0x39e84e=a50_0x5c2b69,_0x24cb17=Date[_0x39e84e(0x18b)]();_0x24cb17-this[_0x39e84e(0x14a)]>this[_0x39e84e(0x22a)]&&(this[_0x39e84e(0x209)](),this[_0x39e84e(0x14a)]=_0x24cb17);}[a50_0x5c2b69(0x209)](){const _0x16f2f3=a50_0x5c2b69,_0x45ac2d=Date[_0x16f2f3(0x18b)]();let _0x34377b=0x0,_0x59457c=0x0;for(const [_0x15ece4,_0x1a5adf]of this[_0x16f2f3(0x1d3)][_0x16f2f3(0x15d)]()){_0x45ac2d-_0x1a5adf[_0x16f2f3(0x18d)]>this[_0x16f2f3(0x226)]&&(this['memoryCache'][_0x16f2f3(0x217)](_0x15ece4),_0x34377b++);}for(let _0x4339e1=localStorage[_0x16f2f3(0x149)]-0x1;_0x4339e1>=0x0;_0x4339e1--){const _0x502547=localStorage[_0x16f2f3(0x1e9)](_0x4339e1);if(_0x502547&&_0x502547[_0x16f2f3(0x1a5)](this[_0x16f2f3(0x173)]))try{const _0x549ca7=JSON[_0x16f2f3(0x20b)](localStorage[_0x16f2f3(0x163)](_0x502547));_0x45ac2d-_0x549ca7[_0x16f2f3(0x18d)]>this[_0x16f2f3(0x226)]&&(localStorage['removeItem'](_0x502547),_0x59457c++);}catch(_0x4514e7){localStorage[_0x16f2f3(0x21c)](_0x502547),_0x59457c++;}}}[a50_0x5c2b69(0x135)](){const _0x3fe839=a50_0x5c2b69,_0x543909=[];for(let _0xf8269=0x0;_0xf8269<localStorage[_0x3fe839(0x149)];_0xf8269++){const _0x14b51f=localStorage[_0x3fe839(0x1e9)](_0xf8269);if(_0x14b51f&&_0x14b51f[_0x3fe839(0x1a5)](this[_0x3fe839(0x173)]))try{const _0xa673f2=JSON['parse'](localStorage[_0x3fe839(0x163)](_0x14b51f));_0x543909[_0x3fe839(0x161)]({'key':_0x14b51f,'timestamp':_0xa673f2['timestamp']});}catch(_0x551361){localStorage['removeItem'](_0x14b51f);}}_0x543909[_0x3fe839(0x1b8)]((_0x522957,_0x1ba93f)=>_0x522957[_0x3fe839(0x18d)]-_0x1ba93f[_0x3fe839(0x18d)]);const _0xa306e=Math[_0x3fe839(0x16d)](_0x543909[_0x3fe839(0x149)]/0x2);for(let _0x3a41d6=0x0;_0x3a41d6<_0xa306e;_0x3a41d6++){localStorage[_0x3fe839(0x21c)](_0x543909[_0x3a41d6][_0x3fe839(0x1e9)]);}}[a50_0x5c2b69(0x1c8)](){const _0xe87385=a50_0x5c2b69;return{'memoryEntries':this[_0xe87385(0x1d3)][_0xe87385(0x1c2)],'lastCleanup':new Date(this['lastCleanup'])[_0xe87385(0x155)]()};}}class MatchCacheManager{constructor(){const _0x8930be=a50_0x5c2b69;this[_0x8930be(0x221)]=new Map(),this['CACHE_DURATION']=0xf*0x3c*0x3e8,this[_0x8930be(0x14a)]=Date[_0x8930be(0x18b)]();}['getCachedMatches'](_0x24d509,_0x4e7636){const _0x37d559=a50_0x5c2b69;this['autoCleanup']();const _0x1d5d26=_0x24d509+'_'+_0x4e7636,_0x290d5c=this['matchCache'][_0x37d559(0x211)](_0x1d5d26);if(_0x290d5c&&Date[_0x37d559(0x18b)]()-_0x290d5c[_0x37d559(0x18d)]<this[_0x37d559(0x226)])return console[_0x37d559(0x14f)](_0x37d559(0x1f8)+_0x24d509),_0x290d5c[_0x37d559(0x195)];return _0x290d5c&&this[_0x37d559(0x221)][_0x37d559(0x217)](_0x1d5d26),null;}['setCachedMatches'](_0x610b09,_0x485833,_0x553daa){const _0x4aec12=a50_0x5c2b69,_0x270d49=_0x610b09+'_'+_0x485833;this[_0x4aec12(0x221)][_0x4aec12(0x171)](_0x270d49,{'matches':_0x553daa,'timestamp':Date[_0x4aec12(0x18b)]()});}[a50_0x5c2b69(0x213)](){const _0x2fcc8d=a50_0x5c2b69,_0x83a7a=Date[_0x2fcc8d(0x18b)]();if(_0x83a7a-this[_0x2fcc8d(0x14a)]>0x5*0x3c*0x3e8){let _0xbb82a6=0x0;for(const [_0x26ab34,_0x2b5a31]of this[_0x2fcc8d(0x221)][_0x2fcc8d(0x15d)]()){_0x83a7a-_0x2b5a31[_0x2fcc8d(0x18d)]>this['CACHE_DURATION']&&(this['matchCache']['delete'](_0x26ab34),_0xbb82a6++);}this['lastCleanup']=_0x83a7a;}}[a50_0x5c2b69(0x1c8)](){const _0x107c55=a50_0x5c2b69;return{'entries':this[_0x107c55(0x221)][_0x107c55(0x1c2)],'lastCleanup':new Date(this['lastCleanup'])[_0x107c55(0x155)]()};}}class RibbonSystem{constructor(){const _0x2ccb04=a50_0x5c2b69;this[_0x2ccb04(0x166)]=new Map(),this[_0x2ccb04(0x1ad)]=null,this['BATCH_DELAY']=0x32,this['playerDataCache']=new Map();}async[a50_0x5c2b69(0x13b)](_0x3c880f,_0x313ea0){const _0x1b89ad=a50_0x5c2b69,_0x16e033=_0x313ea0==='D1'?_0x1b89ad(0x151):_0x313ea0==='D2'?_0x1b89ad(0x1fb):_0x1b89ad(0x1da),_0x2e6856=collection(db,_0x16e033),_0x5caf00=await getDocs(_0x2e6856),_0x30e066=new Map();return _0x5caf00[_0x1b89ad(0x140)](_0x118f5b=>{const _0x7e0610=_0x1b89ad,_0x276bb4=_0x118f5b['data']();_0x276bb4[_0x7e0610(0x134)]&&(_0x276bb4['eloRating']!==undefined&&(_0x276bb4['rating']=_0x276bb4[_0x7e0610(0x179)]),_0x30e066[_0x7e0610(0x171)](_0x276bb4[_0x7e0610(0x134)],_0x276bb4));}),console[_0x1b89ad(0x14f)](_0x1b89ad(0x1db)+_0x30e066[_0x1b89ad(0x1c2)]+_0x1b89ad(0x13f)+_0x16e033),_0x30e066;}async[a50_0x5c2b69(0x133)](_0x1aaa93,_0x201b81,_0x2a2ebd,_0x57f00b){const _0x57e7dc=a50_0x5c2b69,_0xc763f4={},_0x3f9458=_0x201b81['username'],_0x3e3f8b={'totalMatches':_0x1aaa93[_0x57e7dc(0x149)],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0,'dominatedRanks':new Set()},_0x2bf352=new Set();_0x1aaa93[_0x57e7dc(0x140)](_0x3159dc=>{const _0x26267b=_0x57e7dc,_0x56dedc=_0x3159dc['winnerUsername']===_0x3f9458,_0x5437c1=_0x56dedc?_0x3159dc[_0x26267b(0x162)]:_0x3159dc[_0x26267b(0x1b3)];if(_0x5437c1)_0x2bf352[_0x26267b(0x1c1)](_0x5437c1);}),console[_0x57e7dc(0x14f)](_0x57e7dc(0x14b)+_0x2bf352[_0x57e7dc(0x1c2)]+_0x57e7dc(0x1e0));const _0x291417=await this[_0x57e7dc(0x13b)]([..._0x2bf352,_0x3f9458],_0x57f00b),_0x25f321=_0x291417[_0x57e7dc(0x211)](_0x3f9458);!_0x25f321&&console[_0x57e7dc(0x14f)]('‚ö†Ô∏è\x20No\x20current\x20player\x20data\x20found\x20for\x20'+_0x3f9458);const _0x47dc89={0x0:new Set(),0x1:new Set(),0x2:new Set(),0x3:new Set(),0x4:new Set()};_0x1aaa93[_0x57e7dc(0x140)](_0x14ff79=>{const _0xdc4fcb=_0x57e7dc,_0xf80681=_0x14ff79[_0xdc4fcb(0x1b3)]===_0x3f9458,_0xccc72a=_0xf80681?_0x14ff79['loserUsername']:_0x14ff79[_0xdc4fcb(0x1b3)];if(_0xf80681){_0x3e3f8b[_0xdc4fcb(0x1e5)]++;_0x14ff79['subgameType']==='Rematch'&&_0x3e3f8b[_0xdc4fcb(0x1d4)]++;this[_0xdc4fcb(0x197)](_0x14ff79,_0x3f9458,_0x25f321,_0x291417)&&_0x3e3f8b[_0xdc4fcb(0x224)]++;const _0x29458b=_0x291417['get'](_0xccc72a);if(_0x29458b){const _0x8200ce=_0x29458b[_0xdc4fcb(0x179)]||0x0,_0x4dded9=getPlayerRankTier(_0x8200ce);_0x47dc89[_0x4dded9][_0xdc4fcb(0x1c1)](_0xccc72a);}}_0x14ff79[_0xdc4fcb(0x1ec)]&&_0x14ff79[_0xdc4fcb(0x1ec)]!==_0xdc4fcb(0x19c)&&_0x3e3f8b[_0xdc4fcb(0x214)]++,_0x14ff79['mapPlayed']&&_0x3e3f8b['uniqueMaps']['add'](_0x14ff79['mapPlayed']),_0xccc72a&&_0x3e3f8b[_0xdc4fcb(0x1ae)][_0xdc4fcb(0x1c1)](_0xccc72a);}),Object[_0x57e7dc(0x1c5)](_0x47dc89)['forEach'](_0x1eddaf=>{const _0x255c90=_0x57e7dc;_0x47dc89[_0x1eddaf][_0x255c90(0x1c2)]>=0x5&&_0x3e3f8b[_0x255c90(0x168)][_0x255c90(0x1c1)](parseInt(_0x1eddaf));}),console[_0x57e7dc(0x14f)](_0x57e7dc(0x208)+_0x3e3f8b[_0x57e7dc(0x224)]+_0x57e7dc(0x156)+_0x3f9458),console[_0x57e7dc(0x14f)](_0x57e7dc(0x17f)+_0x3e3f8b[_0x57e7dc(0x168)][_0x57e7dc(0x1c2)]+_0x57e7dc(0x146)+Array[_0x57e7dc(0x178)](_0x3e3f8b['dominatedRanks'])[_0x57e7dc(0x1a7)](_0x1522b8=>getRankTierName(_0x1522b8))[_0x57e7dc(0x1b6)](',\x20')+']');const _0x3f266b=_0x3e3f8b[_0x57e7dc(0x1df)]>0x0?_0x3e3f8b[_0x57e7dc(0x1e5)]/_0x3e3f8b[_0x57e7dc(0x1df)]*0x64:0x0,_0x326856=[[_0x57e7dc(0x202),this['evaluateOverachieverRibbonFromCount'](_0x3e3f8b['totalMatches'],_0x2a2ebd)],[_0x57e7dc(0x1f9),this[_0x57e7dc(0x204)](_0x3e3f8b['rematchWins'],_0x2a2ebd)],[_0x57e7dc(0x17a),this[_0x57e7dc(0x158)](_0x3e3f8b[_0x57e7dc(0x214)],_0x2a2ebd)],[_0x57e7dc(0x1a0),this[_0x57e7dc(0x18f)](_0x3e3f8b[_0x57e7dc(0x18e)][_0x57e7dc(0x1c2)],_0x2a2ebd)],[_0x57e7dc(0x228),this[_0x57e7dc(0x145)](_0x3e3f8b[_0x57e7dc(0x1ae)]['size'],_0x2a2ebd)],[_0x57e7dc(0x19b),this[_0x57e7dc(0x1c9)](_0x3f266b,_0x2a2ebd,_0x3e3f8b[_0x57e7dc(0x1df)])],['Underdog\x20Ribbon',this[_0x57e7dc(0x198)](_0x3e3f8b[_0x57e7dc(0x224)],_0x2a2ebd)],['Domination\x20Ribbon',this[_0x57e7dc(0x187)](_0x3e3f8b[_0x57e7dc(0x168)][_0x57e7dc(0x1c2)],_0x2a2ebd)]];_0x326856[_0x57e7dc(0x140)](([_0x416be4,_0x8d6f07])=>{_0x8d6f07&&(_0xc763f4[_0x416be4]=_0x8d6f07);});const _0x1808df=Object['keys'](_0x2a2ebd)[_0x57e7dc(0x149)]+Object[_0x57e7dc(0x1c5)](_0xc763f4)[_0x57e7dc(0x149)],_0x43037f=this[_0x57e7dc(0x182)](_0x1808df,_0x2a2ebd);return _0x43037f&&(_0xc763f4[_0x57e7dc(0x16b)]=_0x43037f),_0xc763f4;}['evaluateDominationRibbonFromRanks'](_0x14fe3b,_0x379f35){const _0x45791f=a50_0x5c2b69;if(_0x14fe3b===0x0)return null;const _0x5f27fd=_0x379f35[_0x45791f(0x16c)]||{'level':0x0};if(_0x14fe3b>_0x5f27fd[_0x45791f(0x184)]){const _0xdaa283=[];for(let _0x342c66=0x0;_0x342c66<_0x14fe3b;_0x342c66++){_0xdaa283[_0x45791f(0x161)](getRankTierName(_0x342c66));}return console[_0x45791f(0x14f)](_0x45791f(0x14e)+_0x5f27fd['level']+'\x20‚Üí\x20'+_0x14fe3b+_0x45791f(0x1a6)+_0xdaa283[_0x45791f(0x1b6)](',\x20')+')'),{'level':_0x14fe3b,'awardedAt':new Date(),'dominatedRanks':_0xdaa283};}return null;}async[a50_0x5c2b69(0x223)](_0x4cb716,_0x437cae){const _0x15ab10=a50_0x5c2b69;try{const _0x10894c=_0x437cae==='D1'?'players':_0x437cae==='D2'?_0x15ab10(0x1fb):_0x15ab10(0x1da),_0x555f20=await this[_0x15ab10(0x159)](_0x4cb716,_0x437cae);if(!_0x555f20||_0x555f20[_0x15ab10(0x179)]===undefined)return console[_0x15ab10(0x14f)](_0x15ab10(0x192)+_0x4cb716),null;const _0x5c01eb=_0x555f20[_0x15ab10(0x179)],_0x596621=getPlayerRankTier(_0x5c01eb),_0x104045=getRankTierName(_0x596621);if(_0x104045===_0x15ab10(0x1f7))return console[_0x15ab10(0x14f)]('‚ùå\x20'+_0x4cb716+'\x20is\x20Unranked\x20('+_0x5c01eb+_0x15ab10(0x176)),null;console[_0x15ab10(0x14f)](_0x15ab10(0x1cf)+_0x104045+_0x15ab10(0x13a)+_0x4cb716+'\x20('+_0x5c01eb+'\x20ELO)');const _0x209dc7=collection(db,_0x10894c),_0x1997bd=await getDocs(_0x209dc7);let _0x377782=null,_0x3975d3=-0x1,_0x1d1e35=0x0;_0x1997bd[_0x15ab10(0x140)](_0x44c799=>{const _0x48afc1=_0x15ab10,_0x4884c0=_0x44c799[_0x48afc1(0x16f)](),_0x2ec954=_0x4884c0[_0x48afc1(0x179)]||0x0,_0x16919c=getPlayerRankTier(_0x2ec954);_0x16919c===_0x596621&&(_0x1d1e35++,_0x2ec954>_0x3975d3&&(_0x3975d3=_0x2ec954,_0x377782=_0x4884c0['username']));});const _0x4207de=_0x377782===_0x4cb716;return console[_0x15ab10(0x14f)](_0x15ab10(0x215)+_0x104045+_0x15ab10(0x219)+_0x1d1e35+_0x15ab10(0x1a8)+_0x377782+'\x20('+_0x3975d3+_0x15ab10(0x1e8)+_0x4cb716+_0x15ab10(0x1e3)+_0x4207de),_0x4207de?_0x104045:null;}catch(_0x1a808f){return console['error'](_0x15ab10(0x1bf),_0x1a808f),null;}}async[a50_0x5c2b69(0x218)](_0x3338be,_0x2d4b7f,_0x5d1d19){const _0xe67440=a50_0x5c2b69,_0x406c32=await this[_0xe67440(0x223)](_0x3338be,_0x2d4b7f),_0x451b71={};if(_0x406c32){const _0x561466=_0xe67440(0x16e)+_0x406c32+'\x20Pilot';if(RIBBON_DEFINITIONS[_0x561466]){const _0x27c46f=_0x5d1d19[_0x561466];!_0x27c46f?(console[_0xe67440(0x14f)](_0xe67440(0x1d9)+_0x3338be+_0xe67440(0x1b1)+_0x561466+'!'),_0x451b71[_0x561466]={'level':0x1,'awardedAt':new Date(),'rank':_0x406c32,'achievedAt':new Date()}):console['log']('‚úÖ\x20'+_0x3338be+_0xe67440(0x210)+_0x561466+_0xe67440(0x216));}}return Object['keys'](_0x5d1d19)['forEach'](_0x1cb51b=>{const _0xb75410=_0xe67440;_0x1cb51b[_0xb75410(0x1a5)](_0xb75410(0x16e))&&_0x1cb51b['endsWith'](_0xb75410(0x1ef))&&(!_0x451b71[_0x1cb51b]&&console['log']('‚úÖ\x20Preserving\x20existing\x20'+_0x1cb51b));}),_0x451b71;}async[a50_0x5c2b69(0x165)](_0x567809,_0x1d5afa='D1'){const _0xbc11ce=a50_0x5c2b69;try{const _0x35044b=ribbonCache['getCachedData'](_0x567809,_0x1d5afa);if(_0x35044b){const _0x1af6a6=await this[_0xbc11ce(0x218)](_0x567809,_0x1d5afa,_0x35044b);if(Object[_0xbc11ce(0x1c5)](_0x1af6a6)[_0xbc11ce(0x149)]>0x0){console[_0xbc11ce(0x14f)](_0xbc11ce(0x147)+_0x567809),await this[_0xbc11ce(0x20a)](_0x567809,_0x1af6a6,_0x1d5afa);const _0x23e1e5={..._0x35044b,..._0x1af6a6};return ribbonCache[_0xbc11ce(0x18a)](_0x567809,_0x1d5afa,_0x23e1e5,0x0),_0x23e1e5;}return _0x35044b;}const [_0x50200a,_0x66e5b2]=await Promise[_0xbc11ce(0x1e7)]([this['getPlayerDataCached'](_0x567809,_0x1d5afa),this['getPlayerRibbonsCached'](_0x567809,_0x1d5afa)]);if(!_0x50200a)return{};const _0x5c6778=_0x50200a['matchesPlayed']||0x0,_0x6a47c8=await this[_0xbc11ce(0x218)](_0x567809,_0x1d5afa,_0x66e5b2);if(!ribbonCache[_0xbc11ce(0x1d0)](_0x567809,_0x1d5afa,_0x5c6778)){if(Object['keys'](_0x6a47c8)['length']>0x0){await this['savePlayerRibbonsOptimized'](_0x567809,_0x6a47c8,_0x1d5afa);const _0x5dcb26={..._0x66e5b2,..._0x6a47c8};return ribbonCache[_0xbc11ce(0x18a)](_0x567809,_0x1d5afa,_0x5dcb26,_0x5c6778),_0x5dcb26;}return ribbonCache[_0xbc11ce(0x18a)](_0x567809,_0x1d5afa,_0x66e5b2,_0x5c6778),_0x66e5b2;}const _0x4317ef=await this['getPlayerMatchesOptimized'](_0x567809,_0x1d5afa),_0x4b43fc=await this[_0xbc11ce(0x133)](_0x4317ef,_0x50200a,_0x66e5b2,_0x1d5afa);Object['assign'](_0x4b43fc,_0x6a47c8);Object[_0xbc11ce(0x1c5)](_0x4b43fc)[_0xbc11ce(0x149)]>0x0&&(console[_0xbc11ce(0x14f)](_0xbc11ce(0x1f1)+Object[_0xbc11ce(0x1c5)](_0x4b43fc)[_0xbc11ce(0x149)]+_0xbc11ce(0x189)+_0x567809),await this[_0xbc11ce(0x20a)](_0x567809,_0x4b43fc,_0x1d5afa));const _0x55972e={..._0x66e5b2,..._0x4b43fc};return ribbonCache[_0xbc11ce(0x18a)](_0x567809,_0x1d5afa,_0x55972e,_0x4317ef[_0xbc11ce(0x149)]),_0x55972e;}catch(_0xa7d752){return console[_0xbc11ce(0x1f0)](_0xbc11ce(0x138),_0xa7d752),{};}}async[a50_0x5c2b69(0x20f)](_0x684fbf,_0x2ed036,_0x2f8eb0){const _0x186e16=a50_0x5c2b69,_0x81aab2=_0x684fbf[_0x186e16(0x1b3)]===_0x2ed036;if(!_0x81aab2)return![];const _0x97223c=_0x684fbf['loserUsername'],[_0x234497,_0x57d8bd]=await Promise['all']([this[_0x186e16(0x159)](_0x2ed036,_0x2f8eb0),this[_0x186e16(0x159)](_0x97223c,_0x2f8eb0)]);if(!_0x234497||!_0x57d8bd)return console['log'](_0x186e16(0x200)+_0x2ed036+_0x186e16(0x1ee)+_0x97223c),![];const _0x12697d=_0x234497['eloRating']||0x0,_0x2816c8=_0x57d8bd[_0x186e16(0x179)]||0x0,_0x5e2375=getPlayerRankTier(_0x12697d),_0x4a5cae=getPlayerRankTier(_0x2816c8);console[_0x186e16(0x14f)](_0x186e16(0x150)+_0x2ed036+_0x186e16(0x1ba)+_0x12697d+'\x20ELO\x20('+getRankTierName(_0x5e2375)+_0x186e16(0x1b0)+_0x97223c+_0x186e16(0x1ba)+_0x2816c8+_0x186e16(0x21f)+getRankTierName(_0x4a5cae)+')');if(_0x4a5cae>_0x5e2375)return console[_0x186e16(0x14f)]('üéØ\x20UNDERDOG\x20VICTORY:\x20'+getRankTierName(_0x5e2375)+_0x186e16(0x130)+getRankTierName(_0x4a5cae)+'!'),!![];return console[_0x186e16(0x14f)](_0x186e16(0x188)+getRankTierName(_0x5e2375)+_0x186e16(0x132)+getRankTierName(_0x4a5cae)),![];}['isUnderdogVictoryFast'](_0x49f91e,_0x37f765,_0x1ebb16,_0x473fee){const _0x3ba401=a50_0x5c2b69,_0x12f440=_0x49f91e[_0x3ba401(0x1b3)]===_0x37f765;if(!_0x12f440)return![];const _0x789c99=_0x49f91e[_0x3ba401(0x162)],_0x158c24=_0x473fee[_0x3ba401(0x211)](_0x789c99);if(!_0x1ebb16||!_0x158c24)return![];const _0x2c7377=_0x1ebb16[_0x3ba401(0x179)]||0x0,_0x46f25=_0x158c24[_0x3ba401(0x179)]||0x0,_0x49f2b9=getPlayerRankTier(_0x2c7377),_0x37ca6f=getPlayerRankTier(_0x46f25);if(_0x37ca6f>_0x49f2b9)return console[_0x3ba401(0x14f)]('üéØ\x20UNDERDOG:\x20'+getRankTierName(_0x49f2b9)+'('+_0x2c7377+_0x3ba401(0x1f5)+getRankTierName(_0x37ca6f)+'('+_0x46f25+')'),!![];return![];}async[a50_0x5c2b69(0x133)](_0x49e87b,_0x158174,_0x447585,_0x2e7c57){const _0x46be2b=a50_0x5c2b69,_0xa9531d={},_0x5ad641=_0x158174['username'],_0x2f3c8b={'totalMatches':_0x49e87b['length'],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0},_0x26eb34=new Set();_0x49e87b['forEach'](_0x4e854d=>{const _0x2a744a=a50_0x48dd,_0x5e2e2d=_0x4e854d[_0x2a744a(0x1b3)]===_0x5ad641,_0x4547d4=_0x5e2e2d?_0x4e854d[_0x2a744a(0x162)]:_0x4e854d['winnerUsername'];if(_0x4547d4)_0x26eb34['add'](_0x4547d4);}),console[_0x46be2b(0x14f)](_0x46be2b(0x14b)+_0x26eb34[_0x46be2b(0x1c2)]+'\x20player\x20records\x20for\x20underdog\x20calculations...');const _0x1c5f70=await this['bulkLoadPlayerData']([..._0x26eb34,_0x5ad641],_0x2e7c57),_0x187d46=_0x1c5f70[_0x46be2b(0x211)](_0x5ad641);!_0x187d46&&console['log']('‚ö†Ô∏è\x20No\x20current\x20player\x20data\x20found\x20for\x20'+_0x5ad641);_0x49e87b[_0x46be2b(0x140)](_0x392c49=>{const _0x2848ac=_0x46be2b,_0xc406cf=_0x392c49['winnerUsername']===_0x5ad641,_0x6dcec9=_0xc406cf?_0x392c49[_0x2848ac(0x162)]:_0x392c49[_0x2848ac(0x1b3)];_0xc406cf&&(_0x2f3c8b[_0x2848ac(0x1e5)]++,_0x392c49['subgameType']===_0x2848ac(0x1b4)&&_0x2f3c8b[_0x2848ac(0x1d4)]++,this[_0x2848ac(0x197)](_0x392c49,_0x5ad641,_0x187d46,_0x1c5f70)&&_0x2f3c8b[_0x2848ac(0x224)]++),_0x392c49[_0x2848ac(0x1ec)]&&_0x392c49[_0x2848ac(0x1ec)]!==_0x2848ac(0x19c)&&_0x2f3c8b[_0x2848ac(0x214)]++,_0x392c49[_0x2848ac(0x1dd)]&&_0x2f3c8b[_0x2848ac(0x18e)][_0x2848ac(0x1c1)](_0x392c49['mapPlayed']),_0x6dcec9&&_0x2f3c8b[_0x2848ac(0x1ae)][_0x2848ac(0x1c1)](_0x6dcec9);}),console[_0x46be2b(0x14f)](_0x46be2b(0x208)+_0x2f3c8b[_0x46be2b(0x224)]+_0x46be2b(0x156)+_0x5ad641);const _0x5858e8=_0x2f3c8b[_0x46be2b(0x1df)]>0x0?_0x2f3c8b['wins']/_0x2f3c8b[_0x46be2b(0x1df)]*0x64:0x0,_0x392042=[[_0x46be2b(0x202),this[_0x46be2b(0x1ac)](_0x2f3c8b['totalMatches'],_0x447585)],[_0x46be2b(0x1f9),this[_0x46be2b(0x204)](_0x2f3c8b[_0x46be2b(0x1d4)],_0x447585)],[_0x46be2b(0x17a),this[_0x46be2b(0x158)](_0x2f3c8b[_0x46be2b(0x214)],_0x447585)],[_0x46be2b(0x1a0),this[_0x46be2b(0x18f)](_0x2f3c8b['uniqueMaps'][_0x46be2b(0x1c2)],_0x447585)],[_0x46be2b(0x228),this[_0x46be2b(0x145)](_0x2f3c8b[_0x46be2b(0x1ae)][_0x46be2b(0x1c2)],_0x447585)],[_0x46be2b(0x19b),this[_0x46be2b(0x1c9)](_0x5858e8,_0x447585,_0x2f3c8b[_0x46be2b(0x1df)])],[_0x46be2b(0x170),this[_0x46be2b(0x198)](_0x2f3c8b[_0x46be2b(0x224)],_0x447585)]];_0x392042[_0x46be2b(0x140)](([_0x15b51f,_0x2faead])=>{_0x2faead&&(_0xa9531d[_0x15b51f]=_0x2faead);});const _0x200f6c=Object[_0x46be2b(0x1c5)](_0x447585)[_0x46be2b(0x149)]+Object['keys'](_0xa9531d)[_0x46be2b(0x149)],_0x4699aa=this['evaluateCollectorRibbonFromCount'](_0x200f6c,_0x447585);return _0x4699aa&&(_0xa9531d[_0x46be2b(0x16b)]=_0x4699aa),_0xa9531d;}async[a50_0x5c2b69(0x137)](_0x1afd96,_0x4e02d8){const _0x4a5146=a50_0x5c2b69,_0x4e60bb=matchCache[_0x4a5146(0x1c4)](_0x1afd96,_0x4e02d8);if(_0x4e60bb)return _0x4e60bb;try{const _0x2e4951=_0x4e02d8==='D1'?_0x4a5146(0x152):_0x4e02d8==='D2'?_0x4a5146(0x13e):_0x4a5146(0x1fa),_0x2d1478=collection(db,_0x2e4951),[_0x3e525a,_0x5e8b93]=await Promise['all']([getDocs(query(_0x2d1478,where(_0x4a5146(0x1b3),'==',_0x1afd96))),getDocs(query(_0x2d1478,where(_0x4a5146(0x162),'==',_0x1afd96)))]),_0x4a5d64=new Set(),_0x145b20=[];return _0x3e525a[_0x4a5146(0x140)](_0x7e2be4=>{const _0x13c486=_0x4a5146;if(!_0x4a5d64[_0x13c486(0x1d7)](_0x7e2be4['id'])){_0x4a5d64[_0x13c486(0x1c1)](_0x7e2be4['id']);const _0x2355b1={'id':_0x7e2be4['id'],..._0x7e2be4[_0x13c486(0x16f)]()};if(!_0x2355b1['winnerRating'])_0x2355b1[_0x13c486(0x1fe)]=0x0;if(!_0x2355b1[_0x13c486(0x203)])_0x2355b1[_0x13c486(0x203)]=0x0;_0x145b20[_0x13c486(0x161)](_0x2355b1);}}),_0x5e8b93[_0x4a5146(0x140)](_0xf089ed=>{const _0x18db19=_0x4a5146;if(!_0x4a5d64[_0x18db19(0x1d7)](_0xf089ed['id'])){_0x4a5d64[_0x18db19(0x1c1)](_0xf089ed['id']);const _0x5651d8={'id':_0xf089ed['id'],..._0xf089ed[_0x18db19(0x16f)]()};if(!_0x5651d8['winnerRating'])_0x5651d8[_0x18db19(0x1fe)]=0x0;if(!_0x5651d8[_0x18db19(0x203)])_0x5651d8['loserRating']=0x0;_0x145b20[_0x18db19(0x161)](_0x5651d8);}}),matchCache[_0x4a5146(0x1c0)](_0x1afd96,_0x4e02d8,_0x145b20),_0x145b20;}catch(_0x1c9c79){return console[_0x4a5146(0x1f0)](_0x4a5146(0x185),_0x1c9c79),[];}}async[a50_0x5c2b69(0x159)](_0x14db68,_0x1b55c7){const _0x7f391e=a50_0x5c2b69;try{const _0x293abe=_0x1b55c7==='D1'?_0x7f391e(0x151):_0x1b55c7==='D2'?_0x7f391e(0x1fb):_0x7f391e(0x1da),_0x5eaa76=collection(db,_0x293abe),_0x5a788b=query(_0x5eaa76,where(_0x7f391e(0x134),'==',_0x14db68),limit(0x1)),_0x1a089d=await getDocs(_0x5a788b);if(_0x1a089d[_0x7f391e(0x1e6)])return console[_0x7f391e(0x14f)](_0x7f391e(0x1a9)+_0x14db68+_0x7f391e(0x1be)+_0x293abe),null;const _0x1cc773=_0x1a089d[_0x7f391e(0x1cb)][0x0][_0x7f391e(0x16f)]();return _0x1cc773['eloRating']!==undefined&&(_0x1cc773[_0x7f391e(0x15b)]=_0x1cc773[_0x7f391e(0x179)]),console[_0x7f391e(0x14f)](_0x7f391e(0x175)+_0x14db68+_0x7f391e(0x19e)+_0x1cc773['eloRating']+_0x7f391e(0x190)+_0x1cc773[_0x7f391e(0x15e)]),_0x1cc773;}catch(_0x5477fb){return console[_0x7f391e(0x1f0)](_0x7f391e(0x1c7)+_0x14db68+':',_0x5477fb),null;}}async[a50_0x5c2b69(0x186)](_0x7f1819,_0x393e91){const _0xce4140=a50_0x5c2b69;try{const _0x2b4642=_0xce4140(0x1d1)+(_0x393e91==='D1'?'':_0x393e91),_0x2e4392=doc(db,_0x2b4642,_0x7f1819),_0x31365c=await getDoc(_0x2e4392);return _0x31365c[_0xce4140(0x201)]()?_0x31365c[_0xce4140(0x16f)]()[_0xce4140(0x1e2)]||{}:{};}catch(_0x3b67a1){return console['error']('Error\x20getting\x20player\x20ribbons:',_0x3b67a1),{};}}async[a50_0x5c2b69(0x20a)](_0x4b2e54,_0x169ee5,_0x1b9b21){const _0x4978ec=a50_0x5c2b69;try{const _0xb6051a='playerRibbons'+(_0x1b9b21==='D1'?'':_0x1b9b21),_0x487072=doc(db,_0xb6051a,_0x4b2e54),_0x528117=await this[_0x4978ec(0x186)](_0x4b2e54,_0x1b9b21),_0x12e6eb={..._0x528117,..._0x169ee5};await setDoc(_0x487072,{'username':_0x4b2e54,'ladder':_0x1b9b21,'ribbons':_0x12e6eb,'lastUpdated':new Date()},{'merge':!![]});}catch(_0x3e6968){console[_0x4978ec(0x1f0)]('Error\x20saving\x20ribbons:',_0x3e6968);}}[a50_0x5c2b69(0x1ac)](_0x1188be,_0x3b79b1){const _0x2dae8c=a50_0x5c2b69,_0x164fc5=_0x3b79b1[_0x2dae8c(0x202)]||{'level':0x0},_0x44dd92=RIBBON_DEFINITIONS[_0x2dae8c(0x202)][_0x2dae8c(0x1cd)],_0x1866b5=_0x44dd92[_0x2dae8c(0x17e)](_0x76f247=>_0x1188be<_0x76f247),_0x73ce4d=_0x1866b5===-0x1?_0x44dd92['length']:_0x1866b5;if(_0x73ce4d>_0x164fc5[_0x2dae8c(0x184)])return{'level':_0x73ce4d,'awardedAt':new Date()};return null;}[a50_0x5c2b69(0x204)](_0x5b0519,_0x14438d){const _0x48753b=a50_0x5c2b69;if(_0x5b0519===0x0)return null;const _0x5dfc75=_0x14438d[_0x48753b(0x1f9)]||{'level':0x0};if(_0x5b0519>_0x5dfc75['level'])return{'level':_0x5b0519,'awardedAt':new Date()};return null;}['evaluateSubGamerRibbonFromCount'](_0x293817,_0x42aa70){const _0x42b36d=a50_0x5c2b69,_0x5e54f2=_0x42aa70[_0x42b36d(0x17a)]||{'level':0x0},_0x266e90=RIBBON_DEFINITIONS[_0x42b36d(0x17a)]['levels'],_0x503735=_0x266e90[_0x42b36d(0x17e)](_0x1d8779=>_0x293817<_0x1d8779),_0x144721=_0x503735===-0x1?_0x266e90[_0x42b36d(0x149)]:_0x503735;if(_0x144721>_0x5e54f2[_0x42b36d(0x184)])return{'level':_0x144721,'awardedAt':new Date()};return null;}[a50_0x5c2b69(0x18f)](_0x45eaee,_0xb2724f){const _0x244aaf=a50_0x5c2b69,_0x8f94a0=_0xb2724f[_0x244aaf(0x1a0)]||{'level':0x0},_0xfa4dd0=RIBBON_DEFINITIONS[_0x244aaf(0x1a0)][_0x244aaf(0x1cd)],_0x5d5c9c=_0xfa4dd0[_0x244aaf(0x17e)](_0xbff7bb=>_0x45eaee<_0xbff7bb),_0x5f7da=_0x5d5c9c===-0x1?_0xfa4dd0['length']:_0x5d5c9c;if(_0x5f7da>_0x8f94a0['level'])return{'level':_0x5f7da,'awardedAt':new Date()};return null;}[a50_0x5c2b69(0x145)](_0x501c3f,_0x17c019){const _0x24924e=a50_0x5c2b69,_0x2c7008=_0x17c019[_0x24924e(0x228)]||{'level':0x0},_0x50caf9=RIBBON_DEFINITIONS[_0x24924e(0x228)][_0x24924e(0x1cd)],_0x61566a=_0x50caf9[_0x24924e(0x17e)](_0x55605c=>_0x501c3f<_0x55605c),_0x30dd2f=_0x61566a===-0x1?_0x50caf9[_0x24924e(0x149)]:_0x61566a;if(_0x30dd2f>_0x2c7008[_0x24924e(0x184)])return{'level':_0x30dd2f,'awardedAt':new Date()};return null;}[a50_0x5c2b69(0x1c9)](_0x5ee042,_0x20ff23,_0x2306f4){const _0x4d8afe=a50_0x5c2b69;if(_0x2306f4<0x32)return console[_0x4d8afe(0x14f)](_0x4d8afe(0x21b)+_0x2306f4+')'),null;const _0xb327b6=_0x20ff23[_0x4d8afe(0x19b)]||{'level':0x0},_0x3b5965=RIBBON_DEFINITIONS[_0x4d8afe(0x19b)][_0x4d8afe(0x1cd)],_0x2e80aa=_0x3b5965[_0x4d8afe(0x17e)](_0x216631=>_0x5ee042<_0x216631),_0xf57022=_0x2e80aa===-0x1?_0x3b5965[_0x4d8afe(0x149)]:_0x2e80aa;if(_0xf57022>_0xb327b6['level'])return console['log'](_0x4d8afe(0x1ff)+_0x5ee042['toFixed'](0x1)+_0x4d8afe(0x131)+_0x2306f4+_0x4d8afe(0x183)),{'level':_0xf57022,'awardedAt':new Date(),'winRate':_0x5ee042,'matchesPlayed':_0x2306f4};return null;}[a50_0x5c2b69(0x182)](_0x4e3e8d,_0x2ace4b){const _0x124d4c=a50_0x5c2b69,_0x4326b9=_0x2ace4b[_0x124d4c(0x16b)]||{'level':0x0},_0x193934=RIBBON_DEFINITIONS[_0x124d4c(0x16b)][_0x124d4c(0x1cd)],_0x8311d3=_0x193934[_0x124d4c(0x17e)](_0x1be357=>_0x4e3e8d<_0x1be357),_0x118749=_0x8311d3===-0x1?_0x193934[_0x124d4c(0x149)]:_0x8311d3;if(_0x118749>_0x4326b9['level'])return{'level':_0x118749,'awardedAt':new Date()};return null;}[a50_0x5c2b69(0x198)](_0x4191e8,_0x276f85){const _0xcab618=a50_0x5c2b69;if(_0x4191e8===0x0)return null;const _0x5b1cb9=_0x276f85[_0xcab618(0x170)]||{'level':0x0},_0x5e8fa2=RIBBON_DEFINITIONS[_0xcab618(0x170)][_0xcab618(0x1cd)];let _0x2a9535=0x0;for(let _0x3c6a7f=0x0;_0x3c6a7f<_0x5e8fa2[_0xcab618(0x149)];_0x3c6a7f++){if(_0x4191e8>=_0x5e8fa2[_0x3c6a7f])_0x2a9535=_0x3c6a7f+0x1;else break;}if(_0x2a9535>_0x5b1cb9[_0xcab618(0x184)])return console['log'](_0xcab618(0x1bd)+_0x5b1cb9[_0xcab618(0x184)]+_0xcab618(0x229)+_0x2a9535+'\x20('+_0x4191e8+_0xcab618(0x153)),{'level':_0x2a9535,'awardedAt':new Date()};return null;}}function getPlayerRankTier(_0x308a88){if(_0x308a88===undefined||_0x308a88===null)return 0x0;const _0x742d0b=Number(_0x308a88);if(isNaN(_0x742d0b))return 0x0;if(_0x742d0b>=0x7d0)return 0x4;if(_0x742d0b>=0x708)return 0x3;if(_0x742d0b>=0x640)return 0x2;if(_0x742d0b>=0x578)return 0x1;return 0x0;}function getRankTierName(_0x1ec3c4){const _0x21bc36=a50_0x5c2b69,_0x44de5f=['Unranked',_0x21bc36(0x205),_0x21bc36(0x12d),'Gold',_0x21bc36(0x1b9)];return _0x44de5f[_0x1ec3c4]||_0x21bc36(0x1f7);}const ribbonSystem=new RibbonSystem(),ribbonCache=new RibbonCacheManager(),matchCache=new MatchCacheManager();typeof window!=='undefined'&&(window[a50_0x5c2b69(0x1bb)]=()=>{const _0x3ed061=a50_0x5c2b69;return{'ribbon':ribbonCache[_0x3ed061(0x1c8)](),'match':matchCache[_0x3ed061(0x1c8)]()};});export async function evaluatePlayerRibbons(_0x5e3866,_0x5aab0c='D1'){const _0x1ab22d=a50_0x5c2b69;return await ribbonSystem[_0x1ab22d(0x165)](_0x5e3866,_0x5aab0c);}export function getRibbonHTML(_0x21e226,_0x141659){const _0x1b10d8=a50_0x5c2b69,_0x2ae945=RIBBON_DEFINITIONS[_0x21e226];if(!_0x2ae945)return'';const _0x46e13d=_0x141659[_0x1b10d8(0x184)]||0x1,_0x1d59da=_0x21e226[_0x1b10d8(0x1aa)]('\x20Ribbon','')[_0x1b10d8(0x1aa)](_0x1b10d8(0x1f4),''),_0x3b2bd1=_0x16184d=>{const _0x16c9c4=_0x1b10d8;if(_0x16184d<=0x1)return _0x16c9c4(0x17b);if(_0x16184d<=0x2)return _0x16c9c4(0x206);if(_0x16184d<=0x3)return _0x16c9c4(0x13d);if(_0x16184d<=0x4)return _0x16c9c4(0x1e4);return _0x16c9c4(0x144);},_0x12222d=_0xa0e634=>{const _0x117b90=_0x1b10d8;if(_0xa0e634<=0x1)return'';const _0x265431=[];if(_0xa0e634>=0x2&&_0xa0e634<=0x4){const _0x4209f9=Math[_0x117b90(0x157)](_0xa0e634-0x1,0x3);for(let _0x1ed478=0x0;_0x1ed478<_0x4209f9;_0x1ed478++){_0x265431['push'](_0x117b90(0x1d8));}}if(_0xa0e634>=0x5&&_0xa0e634<=0x7){_0x265431[_0x117b90(0x161)](_0x117b90(0x191));const _0x139e8c=Math['min'](_0xa0e634-0x5,0x2);for(let _0x49bac0=0x0;_0x49bac0<_0x139e8c;_0x49bac0++){_0x265431[_0x117b90(0x161)](_0x117b90(0x1d8));}}return _0xa0e634>=0x8&&_0x265431[_0x117b90(0x161)](_0x117b90(0x15a)),_0x265431['length']>0x0?_0x117b90(0x1af)+_0x265431[_0x117b90(0x1b6)]('')+'</div>':'';},_0x4e4425=_0x2ae945[_0x1b10d8(0x199)]+'\x20-\x20Level\x20'+_0x46e13d;return _0x1b10d8(0x1e1)+_0x4e4425+_0x1b10d8(0x174)+_0x2ae945[_0x1b10d8(0x1b2)]+_0x1b10d8(0x20c)+_0x21e226+_0x1b10d8(0x222)+_0x2ae945[_0x1b10d8(0x177)]+_0x1b10d8(0x21e)+_0x1d59da[_0x1b10d8(0x160)](0x0,0x6)+_0x1b10d8(0x1ed)+_0x12222d(_0x46e13d)+_0x1b10d8(0x139)+_0x1d59da+_0x1b10d8(0x1d2)+(_0x46e13d>0x1?'<div\x20class=\x22ribbon-level-indicator\x20'+_0x3b2bd1(_0x46e13d)+'\x22>'+_0x46e13d+_0x1b10d8(0x15f):'')+_0x1b10d8(0x1de);}