const a4_0x3ec05c=a4_0x4766,a4_0x79a26f=(function(){let _0x4b10c7=!![];return function(_0x397849,_0x5b1320){const _0x3ce125=_0x4b10c7?function(){if(_0x5b1320){const _0x53d71a=_0x5b1320['apply'](_0x397849,arguments);return _0x5b1320=null,_0x53d71a;}}:function(){};return _0x4b10c7=![],_0x3ce125;};}()),a4_0x5e1397=a4_0x79a26f(this,function(){const _0x30a689=a4_0x4766,_0xe73d8=function(){const _0x135831=a4_0x4766;let _0x1a3b07;try{_0x1a3b07=Function('return\x20(function()\x20'+_0x135831(0x1d1)+');')();}catch(_0x35ee6b){_0x1a3b07=window;}return _0x1a3b07;},_0x539e7e=_0xe73d8(),_0x694fd3=_0x539e7e[_0x30a689(0x1a9)]=_0x539e7e['console']||{},_0x8c6a80=['log',_0x30a689(0x12b),'info','error','exception','table','trace'];for(let _0x27dbd=0x0;_0x27dbd<_0x8c6a80[_0x30a689(0x15d)];_0x27dbd++){const _0x49a9a6=a4_0x79a26f['constructor']['prototype'][_0x30a689(0x13c)](a4_0x79a26f),_0x85eb47=_0x8c6a80[_0x27dbd],_0x4318b4=_0x694fd3[_0x85eb47]||_0x49a9a6;_0x49a9a6['__proto__']=a4_0x79a26f['bind'](a4_0x79a26f),_0x49a9a6['toString']=_0x4318b4['toString']['bind'](_0x4318b4),_0x694fd3[_0x85eb47]=_0x49a9a6;}});a4_0x5e1397();import{collection,getDocs,addDoc,query,orderBy,limit,startAfter,Timestamp,serverTimestamp,getDoc,doc,where,deleteDoc}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const mutedUsers=[{'username':'Daz','muteFromDate':new Date('2025-07-02')['getTime']()}];function isUsernameMuted(_0x1818c9,_0x44b7f6){const _0x1ef78f=a4_0x4766;if(!_0x1818c9)return![];const _0x1125c1=mutedUsers[_0x1ef78f(0x1b4)](_0x45d6b8=>_0x45d6b8['username']===_0x1818c9);if(!_0x1125c1)return![];if(!_0x44b7f6)return!![];const _0x506cf1=_0x44b7f6 instanceof Date?_0x44b7f6['getTime']():_0x44b7f6['seconds']?_0x44b7f6['seconds']*0x3e8:Date[_0x1ef78f(0x15b)]();return _0x506cf1>=_0x1125c1[_0x1ef78f(0x1d4)];}function filterComment(_0x149a48,_0x1b1118,_0x36f400){if(!_0x149a48)return'-';if(isUsernameMuted(_0x1b1118,_0x36f400))return'Muted.';return _0x149a48;}const previewState={'currentMode':'D1','currentPage':0x1,'matchesPerPage':0x5,'lastVisible':null,'firstVisible':null,'isLoading':![],'filterUsername':'','enhancedFilters':{'pilots':'','levels':'','subgames':[]},'totalPages':0x1,'hasReachedEnd':![]};function getCacheKey(_0x479970,_0x2e11f9,_0x2af61d){const _0x55be60=a4_0x4766,_0x128487='u:'+(_0x2af61d[_0x55be60(0x128)]||'');return'previewCache_'+_0x479970+'_p'+_0x2e11f9+'_'+_0x128487;}function getCachedPage(_0x58c98e){const _0xb4f68c=sessionStorage['getItem'](_0x58c98e);if(_0xb4f68c)try{return JSON['parse'](_0xb4f68c);}catch(_0x4abcd1){return console['error']('Failed\x20to\x20parse\x20cache:',_0x4abcd1),sessionStorage['removeItem'](_0x58c98e),null;}return null;}function cachePage(_0x24e72b,_0x1bf686){try{sessionStorage['setItem'](_0x24e72b,JSON['stringify'](_0x1bf686));}catch(_0x5d92da){console['error']('Failed\x20to\x20cache\x20data:',_0x5d92da);}}function getEloColor(_0x3ba92f){const _0x495f6e=a4_0x4766,_0x385cf4=Number(_0x3ba92f);if(_0x385cf4>=0x7d0)return'#50C878';else{if(_0x385cf4>=0x708)return'#FFD700';else{if(_0x385cf4>=0x640)return'#b9f1fc';else{if(_0x385cf4>=0x578)return'#CD7F32';else return _0x495f6e(0x184);}}}}function formatDate(_0x23f442,_0xb36bc8=![]){const _0x45064b=a4_0x4766;if(!_0x23f442||!_0x23f442['seconds'])return'N/A';const _0x537823=new Date(_0x23f442['seconds']*0x3e8);return _0xb36bc8?_0x537823['toLocaleString']():_0x537823[_0x45064b(0x1a3)]();}function truncateComment(_0x29149e,_0x184b18=0x1e){if(!_0x29149e)return'-';if(_0x29149e['length']<=_0x184b18)return _0x29149e;return _0x29149e['substring'](0x0,_0x184b18)+'...';}function formatCommentDate(_0x3c7221){const _0x149f81=a4_0x4766;if(!_0x3c7221||!_0x3c7221['seconds'])return'';const _0x21e282=new Date(_0x3c7221['seconds']*0x3e8),_0x1806fe=new Date(),_0x3ec8c4=Math['abs'](_0x1806fe-_0x21e282),_0xeee9c8=Math[_0x149f81(0x144)](_0x3ec8c4/(0x3e8*0x3c*0x3c*0x18));if(_0xeee9c8===0x0)return'Today';else{if(_0xeee9c8===0x1)return'Yesterday';else return _0xeee9c8<0x7?_0xeee9c8+_0x149f81(0x125):_0x21e282['toLocaleDateString']();}}function setLoadingIndicator(_0xdf13bc){const _0x4e9206=a4_0x4766,_0x1a653c=document[_0x4e9206(0x1a2)]('loading-indicator');if(_0x1a653c)_0x1a653c['style']['display']=_0xdf13bc?'block':_0x4e9206(0x145);}export function updatePreviewLadderModeUI(){const _0x2bce15=a4_0x4766,_0x1d6407=document[_0x2bce15(0x1a2)]('preview-ladder-mode'),_0x2767fa=document['getElementById'](_0x2bce15(0x16a)),_0x16f9f6=document['getElementById'](_0x2bce15(0x186)),_0xd9399e=document[_0x2bce15(0x1a2)]('preview-d3-button');if(_0x1d6407)_0x1d6407['textContent']=previewState['currentMode'];if(_0x2767fa)_0x2767fa['classList']['toggle']('active',previewState['currentMode']==='D1');if(_0x16f9f6)_0x16f9f6['classList']['toggle']('active',previewState['currentMode']==='D2');if(_0xd9399e)_0xd9399e['classList']['toggle']('active',previewState['currentMode']==='D3');}function a4_0x4766(_0x3a4b0b,_0x1ea49e){const _0x5e1397=a4_0x56b0();return a4_0x4766=function(_0x79a26f,_0x5f0ec5){_0x79a26f=_0x79a26f-0x118;let _0x56b0e6=_0x5e1397[_0x79a26f];return _0x56b0e6;},a4_0x4766(_0x3a4b0b,_0x1ea49e);}function updatePreviewPaginationControls(_0x2b9939){const _0x1d6d43=a4_0x4766,_0x30cb08=document['getElementById']('previewPrevPage'),_0x59629e=document['getElementById']('previewNextPage'),_0x1f375f=document['getElementById']('previewPageInfo');if(!_0x30cb08||!_0x59629e||!_0x1f375f)return;_0x1f375f[_0x1d6d43(0x16c)]=_0x1d6d43(0x1a1)+previewState['currentPage'],_0x30cb08['disabled']=previewState['currentPage']<=0x1,_0x59629e[_0x1d6d43(0x1cc)]=!_0x2b9939;}function setPreviewLoadingState(_0x2313fa){const _0xc4e396=a4_0x4766;previewState['isLoading']=_0x2313fa,setLoadingIndicator(_0x2313fa);const _0x593aa1=document[_0xc4e396(0x1a2)](_0xc4e396(0x15c)),_0xd54175=_0x593aa1?_0x593aa1['querySelector'](_0xc4e396(0x18a)):null,_0x90f8f1=document['getElementById']('previewPrevPage'),_0x57310b=document['getElementById']('previewNextPage'),_0x121adc=document['getElementById']('preview-d1-button'),_0x523606=document[_0xc4e396(0x1a2)]('preview-d2-button'),_0x395598=document['getElementById']('applyFilterBtn'),_0xd69418=document['getElementById']('clearFilterBtn');if(_0xd54175&&!_0x2313fa)_0xd54175['style']['display']='none';else _0xd54175&&_0x2313fa&&(_0xd54175['style']['display']=_0xc4e396(0x1a7));!_0x2313fa&&_0x593aa1&&!_0x593aa1['querySelector'](_0xc4e396(0x1ae))&&!_0x593aa1['querySelector']('.matches-loading[style*=\x22color:\x20red\x22]')&&(_0x593aa1[_0xc4e396(0x126)]=_0xc4e396(0x16d)+(previewState['filterUsername']?'\x20matching\x20filters':'')+'.</div>');if(_0x90f8f1)_0x90f8f1['disabled']=_0x2313fa||previewState[_0xc4e396(0x1bf)]<=0x1;if(_0x57310b)_0x57310b['disabled']=_0x2313fa;if(_0x121adc)_0x121adc[_0xc4e396(0x1cc)]=_0x2313fa;if(_0x523606)_0x523606[_0xc4e396(0x1cc)]=_0x2313fa;if(_0x395598)_0x395598['disabled']=_0x2313fa;if(_0xd69418)_0xd69418['disabled']=_0x2313fa;}function applyClientFilters(_0x371eaf){const _0x23cc98=a4_0x4766;if(!previewState[_0x23cc98(0x128)])return _0x371eaf;const _0x15c069=previewState['filterUsername']['toLowerCase']();return _0x371eaf['filter'](_0x5eefbe=>{const _0x2ea7cb=_0x23cc98,_0x492bb7=(_0x5eefbe[_0x2ea7cb(0x1b6)]||'')[_0x2ea7cb(0x192)](),_0x49dcf5=(_0x5eefbe['loserUsername']||'')[_0x2ea7cb(0x192)]();return _0x492bb7[_0x2ea7cb(0x1a8)](_0x15c069)||_0x49dcf5['includes'](_0x15c069);});}function applyEnhancedClientFilters(_0x324e48){if(!hasEnhancedFilters())return _0x324e48;return _0x324e48['filter'](_0x37ff3f=>{const _0x235afb=a4_0x4766;if(previewState['enhancedFilters']['pilots']){const _0x4a11e9=previewState['enhancedFilters'][_0x235afb(0x19c)]['toLowerCase'](),_0x2d225e=(_0x37ff3f[_0x235afb(0x1b6)]||'')[_0x235afb(0x192)](),_0x1e28c4=(_0x37ff3f[_0x235afb(0x17d)]||'')[_0x235afb(0x192)]();if(!_0x2d225e['includes'](_0x4a11e9)&&!_0x1e28c4['includes'](_0x4a11e9))return![];}if(previewState['enhancedFilters'][_0x235afb(0x1ac)]){const _0x367deb=previewState['enhancedFilters']['levels']['toLowerCase'](),_0x496faa=(_0x37ff3f['mapPlayed']||'')[_0x235afb(0x192)]();if(!_0x496faa['includes'](_0x367deb))return![];}if(previewState['enhancedFilters'][_0x235afb(0x150)][_0x235afb(0x15d)]>0x0){const _0x52acad=_0x37ff3f[_0x235afb(0x19d)]||'Standard\x20Match';if(!previewState[_0x235afb(0x11c)][_0x235afb(0x150)][_0x235afb(0x1a8)](_0x52acad))return![];}return!![];});}function hasEnhancedFilters(){const _0x5a5917=a4_0x4766;return previewState['enhancedFilters']['pilots']||previewState[_0x5a5917(0x11c)]['levels']||previewState['enhancedFilters'][_0x5a5917(0x150)][_0x5a5917(0x15d)]>0x0;}function clearEnhancedFilters(){const _0x3abbaa=a4_0x4766;previewState['enhancedFilters']={'pilots':'','levels':'','subgames':[]},document['getElementById']('filter-pilots')['value']='',document['getElementById'](_0x3abbaa(0x190))[_0x3abbaa(0x1c8)]='';const _0x34815e=document['getElementById']('filter-subgames');for(let _0x1a78f1 of _0x34815e['options']){_0x1a78f1[_0x3abbaa(0x1c7)]=![];}}function jumpToPage(_0x3cdb6b){const _0x5dfb2f=a4_0x4766,_0x1f7579=document[_0x5dfb2f(0x1a2)]('jump-to-page'),_0x5176f7=previewState['currentPage'];let _0x5204c3=_0x5176f7;switch(_0x3cdb6b){case _0x5dfb2f(0x1a6):_0x5204c3=0x1;break;case _0x5dfb2f(0x166):_0x5204c3=Math['max'](_0x5176f7+0xa,previewState['totalPages']||_0x5176f7+0xa);break;case'+1':_0x5204c3=_0x5176f7+0x1;break;case'+5':_0x5204c3=_0x5176f7+0x5;break;case'+10':_0x5204c3=_0x5176f7+0xa;break;case'-1':_0x5204c3=Math['max'](0x1,_0x5176f7-0x1);break;case'-5':_0x5204c3=Math['max'](0x1,_0x5176f7-0x5);break;case'-10':_0x5204c3=Math[_0x5dfb2f(0x14d)](0x1,_0x5176f7-0xa);break;case'input':const _0x189648=parseInt(_0x1f7579[_0x5dfb2f(0x1c8)]);_0x189648&&_0x189648>0x0&&(_0x5204c3=_0x189648,_0x1f7579['value']='');break;}_0x5204c3!==_0x5176f7&&_0x5204c3>0x0&&(previewState['currentPage']=_0x5204c3,loadRecentMatchesPreview('jump'));}export async function loadRecentMatchesPreview(_0x53274d='current'){const _0x3a40d3=a4_0x4766,_0x485c7d=document[_0x3a40d3(0x1a2)]('recent-matches-preview'),_0xaa27d0=document['getElementById']('match-card-template');if(previewState['isLoading']||!_0x485c7d||!_0xaa27d0)return;_0x53274d==='current'&&(console['log']('Clearing\x20cache\x20for\x20refresh/reset'),Object[_0x3a40d3(0x193)](sessionStorage)['forEach'](_0x577577=>{const _0x4cc6f6=_0x3a40d3;_0x577577[_0x4cc6f6(0x1a8)](_0x4cc6f6(0x1af)+previewState['currentMode'])&&sessionStorage['removeItem'](_0x577577);}));let _0x272a9e=previewState['currentPage'];if(_0x53274d==='next')_0x272a9e++;else{if(_0x53274d==='prev')_0x272a9e--;else _0x53274d==='current'&&(_0x272a9e=0x1,previewState['firstVisible']=null,previewState['lastVisible']=null);}if(_0x272a9e<0x1)_0x272a9e=0x1;const _0xc2c872=previewState['currentPage'];previewState[_0x3a40d3(0x1bf)]=_0x272a9e,updatePreviewPaginationControls(!![]);const _0x88a957={'filterUsername':previewState[_0x3a40d3(0x128)]},_0xe840bb=getCacheKey(previewState[_0x3a40d3(0x12a)],_0x272a9e,_0x88a957),_0x2208f=_0x53274d!=='current'?getCachedPage(_0xe840bb):null;if(_0x2208f){console['log']('Rendering\x20page\x20'+_0x272a9e+_0x3a40d3(0x122)),setPreviewLoadingState(!![]),renderMatchCards(_0x2208f['docsData']),updatePreviewPaginationControls(_0x2208f[_0x3a40d3(0x131)]),setPreviewLoadingState(![]);return;}console['log'](_0x3a40d3(0x12f)+_0x272a9e+',\x20fetching\x20from\x20Firestore'),setPreviewLoadingState(!![]),_0x485c7d[_0x3a40d3(0x126)]='<div\x20class=\x22matches-loading\x22>Loading\x20recent\x20matches...</div>';const _0xb8b81c=previewState['currentMode']==='D1'?'approvedMatches':previewState[_0x3a40d3(0x12a)]==='D2'?_0x3a40d3(0x15f):_0x3a40d3(0x121),_0x3f72ed=previewState['currentMode']==='D1'?'createdAt':_0x3a40d3(0x1a5);try{const _0x3086d1=collection(window['db'],_0xb8b81c);let _0x2eea7b=[orderBy(_0x3f72ed,_0x3a40d3(0x183))];if(_0x272a9e===0x1)console['log']('Loading\x20first\x20page\x20from\x20Firestore'),_0x2eea7b['push'](limit(previewState['matchesPerPage']));else{if(_0x53274d===_0x3a40d3(0x197)&&previewState[_0x3a40d3(0x1ab)])console['log']('Loading\x20next\x20page\x20using\x20cursor'),_0x2eea7b[_0x3a40d3(0x14e)](startAfter(previewState['lastVisible'])),_0x2eea7b['push'](limit(previewState['matchesPerPage']));else{console[_0x3a40d3(0x174)]('No\x20valid\x20cursor,\x20fetching\x20from\x20beginning\x20and\x20skipping\x20pages');const _0x1ef927=_0x272a9e*previewState[_0x3a40d3(0x169)];_0x2eea7b['push'](limit(_0x1ef927));}}const _0x14c00c=query(_0x3086d1,..._0x2eea7b),_0x439f52=await getDocs(_0x14c00c);let _0x12a5c4=_0x439f52[_0x3a40d3(0x185)];if(_0x272a9e>0x1&&_0x53274d!=='next'){const _0x57b1ff=(_0x272a9e-0x1)*previewState['matchesPerPage'];_0x12a5c4=_0x12a5c4['slice'](_0x57b1ff,_0x57b1ff+previewState['matchesPerPage']);}if(_0x12a5c4[_0x3a40d3(0x15d)]===0x0){console['log'](_0x3a40d3(0x18d));_0x53274d==='next'&&(previewState[_0x3a40d3(0x1bf)]=_0xc2c872,updatePreviewPaginationControls(![]));_0x485c7d['innerHTML']='<div\x20class=\x22matches-loading\x22>No\x20more\x20matches\x20to\x20display'+(previewState['filterUsername']?'\x20matching\x20filters':'')+'.</div>',setPreviewLoadingState(![]);return;}previewState[_0x3a40d3(0x1d6)]=_0x12a5c4[0x0],previewState['lastVisible']=_0x12a5c4[_0x12a5c4[_0x3a40d3(0x15d)]-0x1];const _0xb7d214=_0x12a5c4[_0x3a40d3(0x1b8)](_0x29c02c=>({'id':_0x29c02c['id'],..._0x29c02c['data']()}));let _0x3684a1=![];if(_0x12a5c4[_0x3a40d3(0x15d)]===previewState['matchesPerPage']){const _0x5e0933=query(_0x3086d1,orderBy(_0x3f72ed,'desc'),startAfter(previewState['lastVisible']),limit(0x1)),_0x224bd2=await getDocs(_0x5e0933);_0x3684a1=!_0x224bd2[_0x3a40d3(0x132)];}const _0x251277=applyClientFilters(_0xb7d214),_0x21b06f={'docsData':_0xb7d214,'hasNextPage':_0x3684a1};cachePage(getCacheKey(previewState[_0x3a40d3(0x12a)],previewState[_0x3a40d3(0x1bf)],_0x88a957),_0x21b06f);if(_0x272a9e>0x1&&_0x53274d!=='next')for(let _0x265fdb=0x1;_0x265fdb<_0x272a9e;_0x265fdb++){const _0x31290d=(_0x265fdb-0x1)*previewState[_0x3a40d3(0x169)],_0x5afa5f=_0x31290d+previewState['matchesPerPage'],_0xd8ca75=_0x439f52[_0x3a40d3(0x185)][_0x3a40d3(0x1b1)](_0x31290d,_0x5afa5f);if(_0xd8ca75[_0x3a40d3(0x15d)]>0x0){const _0x5a3a3f=_0xd8ca75['map'](_0x22ff22=>({'id':_0x22ff22['id'],..._0x22ff22[_0x3a40d3(0x17c)]()})),_0x3cbc14=!![];cachePage(getCacheKey(previewState['currentMode'],_0x265fdb,_0x88a957),{'docsData':_0x5a3a3f,'hasNextPage':_0x3cbc14}),console['log']('Cached\x20intermediary\x20page\x20'+_0x265fdb);}}_0x251277['length']===0x0&&previewState[_0x3a40d3(0x128)]?_0x485c7d[_0x3a40d3(0x126)]='<div\x20class=\x22matches-loading\x22>No\x20matches\x20found\x20matching\x20filter:\x20\x22'+previewState[_0x3a40d3(0x128)]+_0x3a40d3(0x1cd):renderMatchCards(_0x251277),updatePreviewPaginationControls(_0x3684a1);}catch(_0x897aaa){console['error']('Error\x20fetching\x20'+previewState['currentMode']+_0x3a40d3(0x19a),_0x897aaa),_0x485c7d['innerHTML']=_0x3a40d3(0x175)+_0x897aaa['message']+'</div>',updatePreviewPaginationControls(![]),previewState['currentPage']=_0xc2c872;}finally{setPreviewLoadingState(![]);}}async function renderMatchCards(_0x3c9e76){const _0x19cb53=a4_0x4766,_0x1c41b9=document['getElementById']('recent-matches-preview'),_0x38472e=document['getElementById']('match-card-template');if(!_0x1c41b9||!_0x38472e)return;!_0x1c41b9[_0x19cb53(0x1c0)](_0x19cb53(0x187))&&(_0x1c41b9[_0x19cb53(0x126)]='');if(!_0x3c9e76||_0x3c9e76['length']===0x0){if(!_0x1c41b9['querySelector']('.matches-loading[style*=\x22color:\x20red\x22]')){const _0x680503=hasEnhancedFilters()?_0x19cb53(0x158):previewState['filterUsername']?_0x19cb53(0x158):'';_0x1c41b9[_0x19cb53(0x126)]=_0x19cb53(0x16d)+_0x680503+'.</div>';}return;}const _0x4d8252=applyEnhancedClientFilters(_0x3c9e76);if(_0x4d8252['length']===0x0){_0x1c41b9['innerHTML']='<div\x20class=\x22matches-loading\x22>No\x20matches\x20found\x20matching\x20current\x20filters.</div>';return;}const _0x24a74e=_0x4d8252['map'](_0x40a024=>getAllCommentsForMatch(_0x40a024['id']));let _0x3f4b6d=[];try{_0x3f4b6d=await Promise[_0x19cb53(0x1c9)](_0x24a74e);}catch(_0x296f8c){console[_0x19cb53(0x12c)]('Error\x20fetching\x20comments\x20batch:',_0x296f8c),_0x3f4b6d=_0x4d8252[_0x19cb53(0x1b8)](()=>[]);}const _0x252cd3={};_0x3f4b6d[_0x19cb53(0x1be)]((_0x1a78d0,_0x1ed87b)=>{_0x252cd3[_0x4d8252[_0x1ed87b]['id']]=_0x1a78d0||[];}),_0x4d8252['forEach'](_0x3c0a4a=>{const _0x2c7178=_0x19cb53,_0x2117df=_0x38472e['content']['cloneNode'](!![]),_0x18b185=_0x2117df[_0x2c7178(0x1c0)](_0x2c7178(0x1b0)),_0x10e247=_0x2117df[_0x2c7178(0x1c0)]('.match-card'),_0x12bcc3=getEloRankClass(_0x3c0a4a['winnerOldElo']);_0x10e247['classList']['add'](_0x2c7178(0x152)+_0x12bcc3),_0x10e247['querySelector']('.match-map')['textContent']=_0x3c0a4a['mapPlayed']||'Unknown\x20Map',_0x10e247['querySelector']('.match-date')[_0x2c7178(0x16c)]=formatDate(_0x3c0a4a['approvedAt']||_0x3c0a4a['createdAt']);const _0x3e9416=_0x10e247['querySelector']('.player.winner\x20.player-name');_0x3e9416['textContent']=_0x3c0a4a['winnerUsername']||_0x2c7178(0x1d0),_0x3e9416[_0x2c7178(0x161)]['color']=getEloColor(_0x3c0a4a['winnerOldElo']),_0x10e247['querySelector']('.player.winner\x20.player-score')['textContent']=_0x3c0a4a['winnerScore']??0x0;const _0x65fa26=_0x10e247[_0x2c7178(0x1c0)]('.player.winner\x20.player-suicides'),_0x254a9d=_0x3c0a4a['winnerSuicides']||0x0;_0x65fa26['textContent']='S:\x20'+_0x254a9d;const _0x56d3b1=_0x10e247['querySelector'](_0x2c7178(0x19e));_0x56d3b1[_0x2c7178(0x16c)]=_0x3c0a4a['loserUsername']||_0x2c7178(0x1d0),_0x56d3b1['style']['color']=getEloColor(_0x3c0a4a['loserOldElo']),_0x10e247['querySelector']('.player.loser\x20.player-score')['textContent']=_0x3c0a4a[_0x2c7178(0x140)]??0x0;const _0x5213d3=_0x10e247['querySelector']('.player.loser\x20.player-suicides'),_0x256fbc=_0x3c0a4a['loserSuicides']||0x0;_0x5213d3['textContent']='S:\x20'+_0x256fbc;const _0xeb9ce7=_0x10e247['querySelector'](_0x2c7178(0x162));if(_0xeb9ce7){if(_0x3c0a4a[_0x2c7178(0x19d)]&&_0x3c0a4a['subgameType']['trim']()!==''){_0xeb9ce7['textContent']=_0x3c0a4a['subgameType'],_0xeb9ce7[_0x2c7178(0x161)]['display']='block';const _0x57db23=getSubgameClass(_0x3c0a4a['subgameType']);_0x57db23&&_0xeb9ce7[_0x2c7178(0x177)][_0x2c7178(0x1c5)](_0x57db23);}else _0xeb9ce7[_0x2c7178(0x16c)]=_0x2c7178(0x191),_0xeb9ce7['style']['display']='block',_0xeb9ce7[_0x2c7178(0x161)]['opacity']=_0x2c7178(0x142);}const _0x3ddc06=_0x10e247['querySelector']('.comment.winner-comment'),_0x2e1002=_0x10e247['querySelector'](_0x2c7178(0x120)),_0x387bce=_0x3c0a4a['winnerComment']||'',_0x30ddcb=_0x3c0a4a['loserComment']||'',_0x3ece50=_0x3c0a4a['approvedAt']||_0x3c0a4a[_0x2c7178(0x127)],_0x1aba68=filterComment(_0x387bce,_0x3c0a4a['winnerUsername'],_0x3ece50),_0x4b6dc6=filterComment(_0x30ddcb,_0x3c0a4a['loserUsername'],_0x3ece50);_0x3ddc06[_0x2c7178(0x16c)]='\x22'+truncateComment(_0x387bce)+'\x22',_0x2e1002['textContent']='\x22'+truncateComment(_0x30ddcb)+'\x22';_0x387bce&&!isUsernameMuted(_0x3c0a4a['winnerUsername'],_0x3ece50)?_0x3ddc06['onclick']=()=>showPreviewCommentPopup(_0x1aba68,_0x3c0a4a['winnerUsername']||'Winner',getEloColor(_0x3c0a4a['winnerOldElo'])):(_0x3ddc06[_0x2c7178(0x16c)]=_0x1aba68===_0x2c7178(0x12d)?'Muted.':'-',_0x3ddc06['style'][_0x2c7178(0x171)]='default',_0x3ddc06[_0x2c7178(0x188)]=null);_0x30ddcb&&!isUsernameMuted(_0x3c0a4a[_0x2c7178(0x17d)])?_0x2e1002['onclick']=()=>showPreviewCommentPopup(_0x4b6dc6,_0x3c0a4a[_0x2c7178(0x17d)]||'Loser',getEloColor(_0x3c0a4a['loserOldElo'])):(_0x2e1002['textContent']=_0x4b6dc6==='Muted.'?_0x2c7178(0x12d):'-',_0x2e1002['style'][_0x2c7178(0x171)]='default',_0x2e1002['onclick']=null);const _0x35491f=_0x18b185?.[_0x2c7178(0x1c0)]('.community-comments-section');if(!_0x35491f)console[_0x2c7178(0x12b)]('Comments\x20section\x20not\x20found\x20in\x20template');else{const _0x251968=_0x35491f['querySelector']('.comments-container'),_0x477c43=_0x251968?.[_0x2c7178(0x1c0)]('.no-comments-message'),_0x416341=_0x35491f['querySelector'](_0x2c7178(0x165));if(_0x251968){while(_0x251968['firstChild']&&_0x251968['firstChild']!==_0x477c43){_0x251968['removeChild'](_0x251968['firstChild']);}_0x416341&&_0x416341['addEventListener'](_0x2c7178(0x141),()=>{showAddCommentPopup(_0x3c0a4a['id']);});const _0x22c986=_0x252cd3[_0x3c0a4a['id']]||[];if(_0x22c986[_0x2c7178(0x15d)]>0x0){if(_0x477c43)_0x477c43['style']['display']='none';const _0x1ac1bb=(_0x3042c9,_0x220785)=>{const _0x5590bd=_0x3042c9['split']('\x20');if(_0x5590bd['length']<=_0x220785)return _0x3042c9;return _0x5590bd['slice'](0x0,_0x220785)['join']('\x20')+'...';};_0x22c986['forEach'](_0x8b5ebd=>{const _0x528eab=_0x2c7178,_0x2f7f48=document['createElement']('div');if(_0x8b5ebd['type']==='demo'){_0x2f7f48['className']='demo-link',_0x2f7f48[_0x528eab(0x126)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22'+_0x8b5ebd['demoLink']+'\x22\x20target=\x22_blank\x22\x20class=\x22play-icon\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<svg\x20viewBox=\x220\x200\x2024\x2024\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<path\x20d=\x22M8,5.14V19.14L19,12.14L8,5.14Z\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</svg>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22demo-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22demo-author\x22>Demo\x20from\x20'+_0x8b5ebd[_0x528eab(0x199)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22demo-description\x22>'+(_0x8b5ebd['description']||_0x528eab(0x195))+_0x528eab(0x1a0);const _0xfa34b3=window['auth']['currentUser'],_0x47e1f3=_0xfa34b3&&_0x8b5ebd[_0x528eab(0x17b)]===_0xfa34b3['uid'];if(_0x47e1f3){const _0x3e9b98=document['createElement']('button');_0x3e9b98[_0x528eab(0x136)]='delete-comment-btn',_0x3e9b98[_0x528eab(0x126)]='×',_0x3e9b98[_0x528eab(0x182)](_0x528eab(0x124),'Delete\x20demo'),_0x3e9b98['addEventListener']('click',_0x4526e8=>{const _0x510573=_0x528eab;_0x4526e8['preventDefault'](),_0x4526e8[_0x510573(0x151)](),deleteComment(_0x8b5ebd['id'],_0x2f7f48);}),_0x2f7f48['appendChild'](_0x3e9b98);}}else{_0x2f7f48['className']='comment-item';const _0x5ce572=isUsernameMuted(_0x8b5ebd['username'],_0x8b5ebd['timestamp']),_0x33d905=_0x5ce572?'Muted.':_0x1ac1bb(_0x8b5ebd['text']||'',0xf),_0x91adc=_0x8b5ebd[_0x528eab(0x199)]||'Anonymous',_0x19ac14=window[_0x528eab(0x159)]['currentUser'],_0x35370f=_0x19ac14&&_0x8b5ebd['userId']===_0x19ac14['uid'];let _0x2eb90a='';_0x35370f&&(_0x2eb90a='<button\x20class=\x22delete-comment-btn\x22\x20aria-label=\x22Delete\x20comment\x22>×</button>');_0x2f7f48[_0x528eab(0x126)]=_0x2eb90a+'<strong>'+_0x91adc+':</strong>\x20\x22'+_0x33d905+'\x22';if(_0x35370f){const _0x24e264=_0x2f7f48['querySelector']('.delete-comment-btn');_0x24e264&&_0x24e264['addEventListener']('click',_0x44be22=>{_0x44be22['stopPropagation'](),deleteComment(_0x8b5ebd['id'],_0x2f7f48);});}!_0x5ce572?_0x2f7f48['addEventListener']('click',()=>{showFullCommentLightbox(_0x8b5ebd);}):_0x2f7f48['style']['cursor']=_0x528eab(0x11a);}_0x251968[_0x528eab(0x1b7)](_0x2f7f48,_0x251968['firstChild']);});}else{if(_0x477c43)_0x477c43[_0x2c7178(0x161)]['display']='block';}}}const _0x5a4bf8=_0x10e247[_0x2c7178(0x1c0)]('.match-demo-links');if(_0x5a4bf8){const _0x4b76c8=_0x10e247['querySelector'](_0x2c7178(0x18b)),_0x46b56a=_0x10e247[_0x2c7178(0x1c0)]('.loser-demo-link'),_0x154299=_0x3c0a4a[_0x2c7178(0x16e)]||null,_0x4852df=_0x3c0a4a['loserDemoLink']||_0x3c0a4a['demoLink']||null;console['log'](_0x2c7178(0x16b)+_0x3c0a4a['id']+'\x20demo\x20links:',{'winner':_0x154299,'loser':_0x4852df}),_0x4b76c8&&(_0x154299?(_0x4b76c8['href']=_0x154299,_0x4b76c8['style'][_0x2c7178(0x134)]='flex',_0x4b76c8['title']=_0x3c0a4a[_0x2c7178(0x1b6)]+_0x2c7178(0x138)):_0x4b76c8[_0x2c7178(0x161)]['display']=_0x2c7178(0x145)),_0x46b56a&&(_0x4852df?(_0x46b56a['href']=_0x4852df,_0x46b56a[_0x2c7178(0x161)]['display']='flex',_0x46b56a[_0x2c7178(0x1b9)]=_0x3c0a4a['loserUsername']+'\x27s\x20Demo'):_0x46b56a[_0x2c7178(0x161)]['display']='none'),_0x154299&&_0x4b76c8||_0x4852df&&_0x46b56a?_0x5a4bf8['style'][_0x2c7178(0x134)]='flex':_0x5a4bf8[_0x2c7178(0x161)]['display']='none';}_0x1c41b9['appendChild'](_0x2117df);});}function getSubgameClass(_0x377dd8){const _0x117a5a=a4_0x4766,_0x35666d={'Fusion\x20Match':'fusion-match','≥6\x20Missiles':'missiles-6plus','≥6\x20missiles':_0x117a5a(0x13b),'Weapon\x20Imbalance':'weapon-imbalance','Blind\x20Match':'blind-match','Rematch':'rematch','Disorientation':'disorientation','Ratting':_0x117a5a(0x13a),'Altered\x20Powerups':'altered-powerups','Mega\x20Match':'mega-match','Dogfight':'dogfight','Gauss\x20and\x20Mercs':_0x117a5a(0x13d)};return _0x35666d[_0x377dd8]||'';}async function deleteComment(_0x42b6b4,_0x408d1b){const _0x3e3e9b=a4_0x4766,_0x2aab9d=window[_0x3e3e9b(0x159)]['currentUser'];if(!_0x2aab9d){alert('You\x20need\x20to\x20be\x20signed\x20in\x20to\x20delete\x20comments');return;}if(!confirm(_0x3e3e9b(0x1ce)))return;try{const _0x324273=doc(window['db'],_0x3e3e9b(0x1c2),_0x42b6b4),_0xc6b000=await getDoc(_0x324273);if(!_0xc6b000[_0x3e3e9b(0x1aa)]()){alert(_0x3e3e9b(0x1c6));return;}const _0xf14e6e=_0xc6b000['data']();if(_0xf14e6e[_0x3e3e9b(0x17b)]!==_0x2aab9d[_0x3e3e9b(0x139)]){alert(_0x3e3e9b(0x14c));return;}await deleteDoc(_0x324273);if(_0x408d1b&&_0x408d1b[_0x3e3e9b(0x172)]){_0x408d1b['parentNode'][_0x3e3e9b(0x198)](_0x408d1b);const _0x18d4ed=_0x408d1b['closest'](_0x3e3e9b(0x160));if(_0x18d4ed&&!_0x18d4ed[_0x3e3e9b(0x1c0)]('.comment-item')){const _0x202c69=_0x18d4ed['querySelector']('.no-comments-message');if(_0x202c69)_0x202c69[_0x3e3e9b(0x161)][_0x3e3e9b(0x134)]='block';}}console[_0x3e3e9b(0x174)](_0x3e3e9b(0x154));}catch(_0x175849){console['error'](_0x3e3e9b(0x196),_0x175849),alert('Failed\x20to\x20delete\x20comment:\x20'+_0x175849['message']);}}async function getAllCommentsForMatch(_0x1120bd){const _0x8cf49=a4_0x4766;if(!_0x1120bd)return[];try{const _0x88e597=collection(window['db'],'matchComments'),_0x1ae903=query(_0x88e597,where(_0x8cf49(0x1b2),'==',_0x1120bd),orderBy('timestamp','desc')),_0x42d3f6=await getDocs(_0x1ae903);if(_0x42d3f6['empty'])return[];return _0x42d3f6[_0x8cf49(0x185)]['map'](_0x513103=>({'id':_0x513103['id'],..._0x513103[_0x8cf49(0x17c)]()}));}catch(_0x824523){return console['error'](_0x8cf49(0x129),_0x824523),[];}}async function submitComment(_0x25dc55){const _0x570a2c=a4_0x4766;_0x25dc55['preventDefault']();if(!window['auth']||!window['db']){console['error']('Firebase\x20not\x20initialized'),alert('Unable\x20to\x20submit\x20comment\x20-\x20system\x20not\x20ready');return;}const _0x57b33d=window['auth'][_0x570a2c(0x14f)];if(!_0x57b33d){alert('You\x20must\x20be\x20signed\x20in\x20to\x20leave\x20a\x20comment');return;}const _0x390cbe=document['getElementById'](_0x570a2c(0x123))?.['value'],_0x29aa87=document['getElementById']('commentText')?.['value']?.['trim']();if(!_0x390cbe||!_0x29aa87){alert('Please\x20enter\x20a\x20comment\x20before\x20submitting');return;}const _0x2f9297=_0x29aa87['split'](/\s+/)['filter'](_0x2e68b3=>_0x2e68b3[_0x570a2c(0x15d)]>0x0)['length'];if(_0x2f9297>0xf){alert('Comments\x20are\x20limited\x20to\x2015\x20words\x20maximum.\x20Please\x20shorten\x20your\x20comment.');return;}const _0x5bc69a=document[_0x570a2c(0x1c0)](_0x570a2c(0x18f));_0x5bc69a&&(_0x5bc69a[_0x570a2c(0x1cc)]=!![],_0x5bc69a[_0x570a2c(0x16c)]='Submitting...');try{let _0x512833=_0x570a2c(0x11f);try{const _0x3c23bb=doc(window['db'],_0x570a2c(0x1a4),_0x57b33d['uid']),_0x4f21f9=await getDoc(_0x3c23bb);if(_0x4f21f9['exists']()){const _0xacf588=_0x4f21f9['data']();_0xacf588['username']&&(_0x512833=_0xacf588[_0x570a2c(0x199)]);}_0x512833===_0x570a2c(0x11f)&&_0x57b33d['displayName']&&(_0x512833=_0x57b33d['displayName']);}catch(_0x5871e2){console['warn']('Failed\x20to\x20fetch\x20user\x20profile:',_0x5871e2),_0x57b33d[_0x570a2c(0x1cf)]&&(_0x512833=_0x57b33d['displayName']);}const _0x2a5da1={'matchId':_0x390cbe,'userId':_0x57b33d[_0x570a2c(0x139)],'username':_0x512833,'text':_0x29aa87,'timestamp':serverTimestamp()};console[_0x570a2c(0x174)](_0x570a2c(0x163),_0x512833);const _0x129733=collection(window['db'],_0x570a2c(0x1c2));await addDoc(_0x129733,_0x2a5da1),console['log']('Comment\x20added\x20successfully'),closeAddCommentPopup(),loadRecentMatchesPreview(_0x570a2c(0x1b5));}catch(_0x3a0103){console['error']('Error\x20submitting\x20comment:',_0x3a0103),alert(_0x570a2c(0x194)+_0x3a0103[_0x570a2c(0x18c)]),_0x5bc69a&&(_0x5bc69a['disabled']=![],_0x5bc69a['textContent']=_0x570a2c(0x1c1));}}function closeAddCommentPopup(){const _0x5142f1=a4_0x4766,_0x3e7d61=document['getElementById']('commentAddPopup'),_0x7f5ce0=document['getElementById']('commentAddOverlay');if(_0x3e7d61)_0x3e7d61['style']['display']='none';if(_0x7f5ce0)_0x7f5ce0['style'][_0x5142f1(0x134)]='none';}function showAddCommentPopup(_0xa015a9){const _0x254682=a4_0x4766,_0x5b3c8f=window[_0x254682(0x159)]['currentUser'];if(!_0x5b3c8f){alert(_0x254682(0x143));return;}let _0x25c3e3=document['getElementById']('commentAddPopup'),_0x2f6928=document['getElementById']('commentAddOverlay');!_0x25c3e3&&(_0x25c3e3=document['createElement']('div'),_0x25c3e3['id']='commentAddPopup',_0x25c3e3[_0x254682(0x136)]='comment-popup',document['body'][_0x254682(0x12e)](_0x25c3e3));!_0x2f6928&&(_0x2f6928=document['createElement'](_0x254682(0x17a)),_0x2f6928['id']='commentAddOverlay',_0x2f6928['className']=_0x254682(0x1d5),document['body']['appendChild'](_0x2f6928));_0x25c3e3['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22popup-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Add\x20Comment\x20or\x20Demo</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22closeAddCommentPopup\x22\x20class=\x22close-btn\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22addCommentForm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22commentMatchId\x22\x20name=\x22commentMatchId\x22\x20value=\x22'+_0xa015a9+_0x254682(0x148),_0x25c3e3['style'][_0x254682(0x134)]=_0x254682(0x1a7),_0x2f6928[_0x254682(0x161)]['display']=_0x254682(0x1a7),document['getElementById']('closeAddCommentPopup')[_0x254682(0x167)](_0x254682(0x141),closeAddCommentPopup),_0x2f6928['addEventListener'](_0x254682(0x141),closeAddCommentPopup);const _0x4304ec=_0x25c3e3[_0x254682(0x164)]('.option-tab');_0x4304ec['forEach'](_0x3e8c03=>{_0x3e8c03['addEventListener']('click',function(){const _0x4d3bf3=a4_0x4766;_0x4304ec[_0x4d3bf3(0x1be)](_0x595191=>_0x595191['classList'][_0x4d3bf3(0x179)]('active')),document[_0x4d3bf3(0x164)](_0x4d3bf3(0x157))[_0x4d3bf3(0x1be)](_0x41b43a=>_0x41b43a[_0x4d3bf3(0x161)]['display']='none'),this[_0x4d3bf3(0x177)][_0x4d3bf3(0x1c5)](_0x4d3bf3(0x146));const _0x45fa75=this[_0x4d3bf3(0x137)][_0x4d3bf3(0x119)];document['getElementById'](_0x45fa75+'Option')['style']['display']='block',_0x45fa75==='demo'?(document[_0x4d3bf3(0x1a2)]('demoLink')[_0x4d3bf3(0x182)]('required',''),document['getElementById']('commentText')['removeAttribute'](_0x4d3bf3(0x17e))):(document['getElementById']('demoLink')['removeAttribute']('required'),document[_0x4d3bf3(0x1a2)](_0x4d3bf3(0x147))['setAttribute']('required',''));});}),document['getElementById'](_0x254682(0x147))[_0x254682(0x182)](_0x254682(0x17e),''),document['getElementById']('demoLink')['removeAttribute'](_0x254682(0x17e)),setupWordCounter(_0x254682(0x147),'wordCount',0xf),setupWordCounter('demoDescription','demoWordCount',0x14),document['getElementById'](_0x254682(0x118))[_0x254682(0x167)]('submit',submitCommentOrDemo);}function setupWordCounter(_0xa1fef,_0x3d3a84,_0x5c8654){const _0x1ca43b=a4_0x4766,_0x2e2ae2=document['getElementById'](_0xa1fef),_0x1c1ffe=document['getElementById'](_0x3d3a84);if(!_0x2e2ae2||!_0x1c1ffe)return;_0x4183d7(),_0x2e2ae2[_0x1ca43b(0x167)](_0x1ca43b(0x181),_0x4183d7);function _0x4183d7(){const _0x37e944=_0x1ca43b,_0x5f2f57=_0x2e2ae2['value']['trim'](),_0x24ad07=_0x5f2f57?_0x5f2f57[_0x37e944(0x15a)](/\s+/)['filter'](_0xe63ddb=>_0xe63ddb['length']>0x0)['length']:0x0;_0x1c1ffe[_0x37e944(0x16c)]=_0x24ad07,_0x24ad07>_0x5c8654?_0x1c1ffe['style']['color']='#ff4444':_0x1c1ffe['style']['color']=_0x37e944(0x1d3);}}async function submitCommentOrDemo(_0x16a287){const _0x339065=a4_0x4766;_0x16a287['preventDefault']();if(!window[_0x339065(0x159)]||!window['db']){console[_0x339065(0x12c)]('Firebase\x20not\x20initialized'),alert('Unable\x20to\x20submit\x20-\x20system\x20not\x20ready');return;}const _0x458f27=window['auth']['currentUser'];if(!_0x458f27){alert('You\x20must\x20be\x20signed\x20in\x20to\x20continue');return;}const _0x59982b=document['getElementById']('commentMatchId')['value'],_0x571a29=document[_0x339065(0x1c0)](_0x339065(0x1bd))[_0x339065(0x137)]['option'];let _0x313f6e='Anonymous';try{const _0x324a05=doc(window['db'],'userProfiles',_0x458f27['uid']),_0x32d519=await getDoc(_0x324a05);if(_0x32d519['exists']()){const _0x1587b1=_0x32d519[_0x339065(0x17c)]();_0x1587b1['username']&&(_0x313f6e=_0x1587b1[_0x339065(0x199)]);}_0x313f6e===_0x339065(0x11f)&&_0x458f27[_0x339065(0x1cf)]&&(_0x313f6e=_0x458f27['displayName']);}catch(_0x2c66c9){console['warn'](_0x339065(0x14b),_0x2c66c9),_0x458f27['displayName']&&(_0x313f6e=_0x458f27['displayName']);}const _0x9da589=document['querySelector']('.submit-comment-btn');_0x9da589&&(_0x9da589['disabled']=!![],_0x9da589[_0x339065(0x16c)]='Submitting...');try{if(_0x571a29==='comment'){const _0x28f003=document['getElementById']('commentText')['value'][_0x339065(0x1ba)]();if(!_0x28f003){alert(_0x339065(0x1cb)),_0x9da589[_0x339065(0x1cc)]=![],_0x9da589[_0x339065(0x16c)]='Submit';return;}const _0x212f57=_0x28f003[_0x339065(0x15a)](/\s+/)[_0x339065(0x1d2)](_0x23f13a=>_0x23f13a[_0x339065(0x15d)]>0x0)['length'];if(_0x212f57>0xf){alert('Comments\x20are\x20limited\x20to\x2015\x20words\x20maximum.\x20Please\x20shorten\x20your\x20comment.'),_0x9da589[_0x339065(0x1cc)]=![],_0x9da589['textContent']=_0x339065(0x1c1);return;}const _0x174266={'matchId':_0x59982b,'userId':_0x458f27['uid'],'username':_0x313f6e,'text':_0x28f003,'type':'comment','timestamp':serverTimestamp()},_0x240eaa=collection(window['db'],'matchComments');await addDoc(_0x240eaa,_0x174266);}else{const _0x282019=document[_0x339065(0x1a2)]('demoLink')['value'][_0x339065(0x1ba)](),_0x285bc3=document['getElementById']('demoDescription')[_0x339065(0x1c8)]['trim']()||'Demo\x20link';if(!_0x282019){alert('Please\x20enter\x20a\x20demo\x20link'),_0x9da589['disabled']=![],_0x9da589['textContent']=_0x339065(0x1c1);return;}try{new URL(_0x282019);}catch(_0x5200c4){alert('Please\x20enter\x20a\x20valid\x20URL\x20for\x20the\x20demo\x20link'),_0x9da589['disabled']=![],_0x9da589['textContent']='Submit';return;}const _0x5378dd=_0x285bc3['split'](/\s+/)['filter'](_0x3f6c08=>_0x3f6c08['length']>0x0)[_0x339065(0x15d)];if(_0x5378dd>0x14){alert(_0x339065(0x1ca)),_0x9da589['disabled']=![],_0x9da589['textContent']=_0x339065(0x1c1);return;}const _0xc5e28e={'matchId':_0x59982b,'userId':_0x458f27[_0x339065(0x139)],'username':_0x313f6e,'demoLink':_0x282019,'description':_0x285bc3,'type':'demo','text':'Demo:\x20'+_0x285bc3,'timestamp':serverTimestamp()},_0x557923=collection(window['db'],_0x339065(0x1c2));await addDoc(_0x557923,_0xc5e28e);}closeAddCommentPopup(),loadRecentMatchesPreview('current');}catch(_0x1ea95a){console['error']('Error\x20submitting:',_0x1ea95a),alert('Failed\x20to\x20submit:\x20'+_0x1ea95a[_0x339065(0x18c)]),_0x9da589&&(_0x9da589['disabled']=![],_0x9da589['textContent']=_0x339065(0x1c1));}}function getEloRankClass(_0xfb5cde){const _0x4c7b04=a4_0x4766,_0x1e8b3c=Number(_0xfb5cde);if(_0x1e8b3c>=0x7d0)return'emerald';else{if(_0x1e8b3c>=0x708)return'gold';else{if(_0x1e8b3c>=0x640)return'silver';else{if(_0x1e8b3c>=0x578)return _0x4c7b04(0x11e);else return _0x4c7b04(0x135);}}}}function showPreviewCommentPopup(_0x20f2a4,_0x5667ed,_0x3e3834='#fff'){const _0x35ca2d=a4_0x4766,_0x22dba4=document['getElementById'](_0x35ca2d(0x176)),_0x595c5b=document[_0x35ca2d(0x1a2)]('commentOverlayPreview'),_0x544f42=document[_0x35ca2d(0x1a2)](_0x35ca2d(0x173)),_0x5975ca=document[_0x35ca2d(0x1a2)](_0x35ca2d(0x16f)),_0x32d0e4=document[_0x35ca2d(0x1a2)](_0x35ca2d(0x17f));if(!_0x22dba4||!_0x595c5b||!_0x544f42||!_0x5975ca||!_0x32d0e4)return;_0x22dba4['dataset']['commentText']=_0x20f2a4,_0x22dba4['dataset']['commentUser']=_0x5667ed,_0x544f42['style'][_0x35ca2d(0x18e)]=_0x3e3834,_0x544f42['textContent']=_0x35ca2d(0x1bc)+_0x5667ed,_0x5975ca[_0x35ca2d(0x16c)]=_0x20f2a4,_0x32d0e4[_0x35ca2d(0x188)]=reportComment,_0x22dba4['style']['display']='block',_0x595c5b['style']['display']='block';}function closePreviewCommentPopup(){const _0x3e2ed4=a4_0x4766,_0x13b36c=document[_0x3e2ed4(0x1a2)]('commentPopupPreview'),_0x114efd=document['getElementById']('commentOverlayPreview');if(_0x13b36c)_0x13b36c['style']['display']=_0x3e2ed4(0x145);if(_0x114efd)_0x114efd[_0x3e2ed4(0x161)]['display']='none';}async function reportComment(){const _0x460a77=a4_0x4766,_0x59103b=window[_0x460a77(0x159)][_0x460a77(0x14f)];if(!_0x59103b){alert(_0x460a77(0x11d));return;}if(!confirm('Are\x20you\x20sure\x20you\x20want\x20to\x20report\x20this\x20comment\x20as\x20inappropriate?'))return;try{const _0x44fac4=document[_0x460a77(0x1a2)]('commentPopupPreview'),_0x22307f={'commentAuthor':_0x44fac4['dataset']['commentUser']||'Unknown\x20User','commentText':_0x44fac4[_0x460a77(0x137)]['commentText']||'','matchId':previewState[_0x460a77(0x1c3)]||'','reportedBy':_0x59103b['uid'],'reporterUsername':_0x59103b['displayName']||'Anonymous\x20User','reportedAt':serverTimestamp()},_0x59d1e8=collection(window['db'],'badComments');await addDoc(_0x59d1e8,_0x22307f),alert('Thank\x20you.\x20The\x20comment\x20has\x20been\x20reported\x20and\x20will\x20be\x20reviewed.'),closePreviewCommentPopup();}catch(_0x5a6409){console['error']('Error\x20reporting\x20comment:',_0x5a6409),alert('Failed\x20to\x20report\x20comment:\x20'+_0x5a6409['message']);}}function a4_0x56b0(){const _0x5a72ed=['addCommentForm','option','default','filter-subgames','enhancedFilters','You\x20need\x20to\x20be\x20signed\x20in\x20to\x20report\x20comments','bronze','Anonymous','.comment.loser-comment','approvedMatchesD3','\x20from\x20cache','commentMatchId','aria-label','\x20days\x20ago','innerHTML','createdAt','filterUsername','Error\x20fetching\x20comments:','currentMode','warn','error','Muted.','appendChild','Cache\x20miss\x20for\x20page\x20','seconds','hasNextPage','empty','#d32f2f','display','unranked','className','dataset','\x27s\x20Demo','uid','ratting','missiles-6plus','bind','gauss-and-mercs','submitComment','filter-pilots','loserScore','click','0.6','You\x20need\x20to\x20be\x20signed\x20in\x20to\x20leave\x20a\x20comment\x20or\x20add\x20a\x20demo','floor','none','active','commentText','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-tabs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22option-tab\x20active\x22\x20data-option=\x22comment\x22>Add\x20Comment</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22option-divider\x22>OR</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22option-tab\x22\x20data-option=\x22demo\x22>Share\x20Demo\x20Link</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-content\x22\x20id=\x22commentOption\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22commentText\x22>Your\x20comment\x20(15\x20words\x20max):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22commentText\x22\x20name=\x22commentText\x22\x20rows=\x223\x22\x20placeholder=\x22Share\x20your\x20thoughts...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22word-counter\x22><span\x20id=\x22wordCount\x22>0</span>/15\x20words</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-content\x22\x20id=\x22demoOption\x22\x20style=\x22display:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22demoLink\x22>Demo\x20Link:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22url\x22\x20id=\x22demoLink\x22\x20name=\x22demoLink\x22\x20placeholder=\x22https://...\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22demoDescription\x22>Description\x20(20\x20words\x20max):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22demoDescription\x22\x20name=\x22demoDescription\x22\x20rows=\x222\x22\x20placeholder=\x22Describe\x20your\x20demo...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22word-counter\x22><span\x20id=\x22demoWordCount\x22>0</span>/20\x20words</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22submit\x22\x20class=\x22submit-comment-btn\x22>Submit</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</form>\x0a\x20\x20\x20\x20','previewNextPage','button','Failed\x20to\x20fetch\x20username:','You\x20can\x20only\x20delete\x20your\x20own\x20comments','max','push','currentUser','subgames','stopPropagation','winner-','gap','Comment\x20deleted\x20successfully','15px','closeCommentPopupPreview','.option-content','\x20matching\x20filters','auth','split','now','recent-matches-preview','length','commentAddOverlay','approvedMatchesD2','.comments-container','style','.match-subgame','Submitting\x20comment\x20as:','querySelectorAll','.add-comment-btn','end','addEventListener','apply-enhanced-filters','matchesPerPage','preview-d1-button','Match\x20','textContent','<div\x20class=\x22matches-loading\x22>No\x20recent\x20matches\x20found','winnerDemoLink','commentPopupContentPreview','text','cursor','parentNode','commentPopupTitlePreview','log','<div\x20class=\x22matches-loading\x22\x20style=\x22color:\x20red;\x22>Error\x20loading\x20matches:\x20','commentPopupPreview','classList','wordCount','remove','div','userId','data','loserUsername','required','reportCommentButton','commentId','input','setAttribute','desc','#808080','docs','preview-d2-button','.matches-loading[style*=\x22color:\x20red\x22]','onclick','Preview\x20UI\x20or\x20Filter\x20elements\x20not\x20found,\x20cannot\x20attach\x20listeners.','.matches-loading','.winner-demo-link','message','No\x20results\x20found\x20for\x20this\x20page','color','.submit-comment-btn','filter-levels','Standard\x20Match','toLowerCase','keys','Failed\x20to\x20add\x20comment:\x20','No\x20description\x20provided','Error\x20deleting\x20comment:','next','removeChild','username','\x20matches:','createElement','pilots','subgameType','.player.loser\x20.player-name','prev','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Page\x20','getElementById','toLocaleDateString','userProfiles','approvedAt','start','block','includes','console','exists','lastVisible','levels','flex','.match-card','previewCache_','.match-display-wrapper','slice','matchId','center','find','current','winnerUsername','insertBefore','map','title','trim','.jump-btn','Comment\x20from\x20','.option-tab.active','forEach','currentPage','querySelector','Submit','matchComments','currentMatchId','#fff','add','Comment\x20not\x20found.\x20It\x20may\x20have\x20already\x20been\x20deleted.','selected','value','all','Demo\x20descriptions\x20are\x20limited\x20to\x2020\x20words\x20maximum.\x20Please\x20shorten\x20your\x20description.','Please\x20enter\x20a\x20comment\x20before\x20submitting','disabled','\x22</div>','Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20comment?','displayName','Unknown','{}.constructor(\x22return\x20this\x22)(\x20)','filter','#aaa','muteFromDate','comment-overlay','firstVisible'];a4_0x56b0=function(){return _0x5a72ed;};return a4_0x56b0();}function showFullCommentLightbox(_0x10c66c){const _0x320df3=a4_0x4766;if(isUsernameMuted(_0x10c66c['username']))return;const _0x1c84d0=document['getElementById']('commentPopupPreview'),_0x33a0a5=document['getElementById']('commentOverlayPreview'),_0x3abffb=document[_0x320df3(0x1a2)](_0x320df3(0x173)),_0x4c5476=document['getElementById'](_0x320df3(0x16f));if(!_0x1c84d0||!_0x33a0a5||!_0x3abffb||!_0x4c5476)return;_0x3abffb['style']['color']=_0x320df3(0x1c4),_0x3abffb['textContent']=_0x320df3(0x1bc)+_0x10c66c['username'];if(_0x10c66c['timestamp']){const _0x519974=new Date(_0x10c66c['timestamp'][_0x320df3(0x130)]*0x3e8),_0x432aac=_0x519974['toLocaleString']();_0x4c5476['innerHTML']='<p>'+_0x10c66c[_0x320df3(0x170)]+'</p><small\x20style=\x22color:#aaa;\x20display:block;\x20text-align:right;\x20margin-top:10px;\x22>Posted\x20on\x20'+_0x432aac+'</small>';}else _0x4c5476[_0x320df3(0x16c)]=_0x10c66c['text'];_0x1c84d0['dataset'][_0x320df3(0x180)]=_0x10c66c['id']||'',_0x1c84d0['dataset']['commentUser']=_0x10c66c['username']||'',_0x1c84d0['dataset']['commentText']=_0x10c66c['text']||'',_0x1c84d0['dataset']['matchId']=_0x10c66c['matchId']||'';const _0x326e8b=_0x1c84d0['querySelector']('.popup-actions')||document['createElement'](_0x320df3(0x17a));!_0x1c84d0['querySelector']('.popup-actions')?(_0x326e8b['className']='popup-actions',_0x326e8b['style']['display']=_0x320df3(0x1ad),_0x326e8b[_0x320df3(0x161)]['justifyContent']=_0x320df3(0x1b3),_0x326e8b[_0x320df3(0x161)][_0x320df3(0x153)]='10px',_0x326e8b['style']['marginTop']=_0x320df3(0x155),_0x1c84d0[_0x320df3(0x12e)](_0x326e8b)):_0x326e8b['innerHTML']='';const _0x243309=document[_0x320df3(0x19b)]('button');_0x243309[_0x320df3(0x16c)]='Close',_0x243309['className']='popup-btn\x20close-btn',_0x243309['id']='closeCommentPopupPreview',_0x243309[_0x320df3(0x167)]('click',closePreviewCommentPopup);const _0x583edc=document['createElement'](_0x320df3(0x14a));_0x583edc['textContent']='Report',_0x583edc['className']='popup-btn\x20report-btn',_0x583edc[_0x320df3(0x161)]['backgroundColor']=_0x320df3(0x133),_0x583edc['addEventListener']('click',reportComment),_0x326e8b['appendChild'](_0x243309),_0x326e8b['appendChild'](_0x583edc),_0x1c84d0[_0x320df3(0x161)]['display']=_0x320df3(0x1a7),_0x33a0a5['style']['display']=_0x320df3(0x1a7);}export function setupPreviewEventListeners(){const _0x481843=a4_0x4766,_0x160a59=document['getElementById']('previewPrevPage'),_0x5f3d56=document[_0x481843(0x1a2)](_0x481843(0x149)),_0x572df5=document[_0x481843(0x1a2)]('preview-d1-button'),_0x1ee767=document['getElementById'](_0x481843(0x186)),_0x10ecbe=document['getElementById']('preview-d3-button'),_0x4fe64c=document['getElementById']('filter-toggle-button'),_0x2cb001=document['getElementById']('enhanced-filter-section');if(!_0x160a59||!_0x5f3d56||!_0x572df5||!_0x1ee767||!_0x10ecbe||!_0x4fe64c||!_0x2cb001){console['warn'](_0x481843(0x189));return;}_0x160a59[_0x481843(0x167)](_0x481843(0x141),()=>{const _0x45b2c8=_0x481843;if(!_0x160a59[_0x45b2c8(0x1cc)])loadRecentMatchesPreview(_0x45b2c8(0x19f));}),_0x5f3d56['addEventListener'](_0x481843(0x141),()=>{if(!_0x5f3d56['disabled'])loadRecentMatchesPreview('next');}),_0x572df5['addEventListener']('click',()=>{previewState['currentMode']!=='D1'&&!previewState['isLoading']&&(previewState['currentMode']='D1',updatePreviewLadderModeUI(),loadRecentMatchesPreview('current'));}),_0x1ee767['addEventListener']('click',()=>{previewState['currentMode']!=='D2'&&!previewState['isLoading']&&(previewState['currentMode']='D2',updatePreviewLadderModeUI(),loadRecentMatchesPreview('current'));}),_0x10ecbe['addEventListener'](_0x481843(0x141),()=>{const _0x311ab3=_0x481843;previewState[_0x311ab3(0x12a)]!=='D3'&&!previewState['isLoading']&&(previewState[_0x311ab3(0x12a)]='D3',updatePreviewLadderModeUI(),loadRecentMatchesPreview(_0x311ab3(0x1b5)));});_0x4fe64c&&_0x2cb001&&_0x4fe64c['addEventListener'](_0x481843(0x141),()=>{const _0x41a618=_0x481843,_0x2e6a29=_0x2cb001['style'][_0x41a618(0x134)]!=='none';_0x2cb001[_0x41a618(0x161)]['display']=_0x2e6a29?'none':_0x41a618(0x1a7),_0x4fe64c['classList']['toggle']('active',!_0x2e6a29);});const _0x5484cc=document['getElementById'](_0x481843(0x168)),_0x60cf49=document['getElementById']('clear-enhanced-filters');_0x5484cc&&_0x5484cc['addEventListener']('click',()=>{const _0xf09372=_0x481843;previewState['enhancedFilters'][_0xf09372(0x19c)]=document['getElementById'](_0xf09372(0x13f))[_0xf09372(0x1c8)][_0xf09372(0x1ba)](),previewState['enhancedFilters'][_0xf09372(0x1ac)]=document['getElementById']('filter-levels')['value']['trim']();const _0x3fe230=document[_0xf09372(0x1a2)](_0xf09372(0x11b));previewState['enhancedFilters']['subgames']=Array['from'](_0x3fe230['selectedOptions'])[_0xf09372(0x1b8)](_0x5df9a9=>_0x5df9a9['value'])['filter'](_0x471035=>_0x471035!==''),loadRecentMatchesPreview(_0xf09372(0x1b5));});_0x60cf49&&_0x60cf49['addEventListener']('click',()=>{clearEnhancedFilters(),loadRecentMatchesPreview('current');});document['querySelectorAll'](_0x481843(0x1bb))['forEach'](_0x306cd0=>{_0x306cd0['addEventListener']('click',()=>{const _0x42ce11=_0x306cd0['dataset']['jump'];jumpToPage(_0x42ce11);});});const _0x3777a1=document['getElementById']('jump-to-page');_0x3777a1&&_0x3777a1[_0x481843(0x167)]('keypress',_0x20e901=>{_0x20e901['key']==='Enter'&&jumpToPage('input');});const _0x21cd48=document[_0x481843(0x1a2)](_0x481843(0x156)),_0x1f238d=document['getElementById']('commentOverlayPreview');if(_0x21cd48)_0x21cd48['addEventListener']('click',closePreviewCommentPopup);if(_0x1f238d)_0x1f238d['addEventListener']('click',closePreviewCommentPopup);const _0x56cb08=document['getElementById']('closeAddCommentPopup'),_0x3cdf00=document['getElementById'](_0x481843(0x15e)),_0x4abd97=document[_0x481843(0x1a2)]('addCommentForm');if(_0x56cb08)_0x56cb08[_0x481843(0x167)]('click',closeAddCommentPopup);if(_0x3cdf00)_0x3cdf00['addEventListener'](_0x481843(0x141),closeAddCommentPopup);if(_0x4abd97)_0x4abd97['addEventListener']('submit',submitComment);const _0x3e583c=document['getElementById']('commentText'),_0xc2bbef=document['getElementById'](_0x481843(0x178));_0x3e583c&&_0xc2bbef&&setupWordCounter('commentText','wordCount',0xf);}window['showAddCommentPopup']=showAddCommentPopup,window['closeAddCommentPopup']=closeAddCommentPopup,window[a4_0x3ec05c(0x13e)]=submitComment;