const a10_0x443883=a10_0x3916;(function(_0x3abef5,_0x52093e){const _0x3be229=a10_0x3916,_0x16e933=_0x3abef5();while(!![]){try{const _0x5b15e0=-parseInt(_0x3be229(0x171))/0x1*(parseInt(_0x3be229(0x170))/0x2)+-parseInt(_0x3be229(0x167))/0x3+parseInt(_0x3be229(0x18b))/0x4+parseInt(_0x3be229(0x1a2))/0x5+parseInt(_0x3be229(0x166))/0x6+-parseInt(_0x3be229(0x15f))/0x7*(-parseInt(_0x3be229(0x16e))/0x8)+-parseInt(_0x3be229(0x158))/0x9;if(_0x5b15e0===_0x52093e)break;else _0x16e933['push'](_0x16e933['shift']());}catch(_0x59a27f){_0x16e933['push'](_0x16e933['shift']());}}}(a10_0xfd40,0x36dbc));const a10_0x5638e4=(function(){let _0x508d40=!![];return function(_0x218ad7,_0x26f171){const _0x166a0c=_0x508d40?function(){if(_0x26f171){const _0x225ddf=_0x26f171['apply'](_0x218ad7,arguments);return _0x26f171=null,_0x225ddf;}}:function(){};return _0x508d40=![],_0x166a0c;};}()),a10_0x35c701=a10_0x5638e4(this,function(){const _0x34ee33=a10_0x3916;return a10_0x35c701[_0x34ee33(0x163)]()['search'](_0x34ee33(0x176))[_0x34ee33(0x163)]()['constructor'](a10_0x35c701)[_0x34ee33(0x174)](_0x34ee33(0x176));});a10_0x35c701();const a10_0x52c4c8=(function(){let _0x3cf302=!![];return function(_0x51bd58,_0x47d508){const _0x189481=_0x3cf302?function(){const _0x110716=a10_0x3916;if(_0x47d508){const _0x257337=_0x47d508[_0x110716(0x172)](_0x51bd58,arguments);return _0x47d508=null,_0x257337;}}:function(){};return _0x3cf302=![],_0x189481;};}()),a10_0x438b28=a10_0x52c4c8(this,function(){const _0x1f1048=a10_0x3916,_0x5713f1=function(){const _0x42d472=a10_0x3916;let _0x5be737;try{_0x5be737=Function(_0x42d472(0x17a)+_0x42d472(0x18c)+');')();}catch(_0x3858b1){_0x5be737=window;}return _0x5be737;},_0x115f1f=_0x5713f1(),_0x11d359=_0x115f1f[_0x1f1048(0x15d)]=_0x115f1f['console']||{},_0x4c15c3=[_0x1f1048(0x193),_0x1f1048(0x19a),'info','error','exception',_0x1f1048(0x159),'trace'];for(let _0x190b04=0x0;_0x190b04<_0x4c15c3[_0x1f1048(0x165)];_0x190b04++){const _0x1356fb=a10_0x52c4c8[_0x1f1048(0x169)][_0x1f1048(0x1a1)][_0x1f1048(0x175)](a10_0x52c4c8),_0x261db4=_0x4c15c3[_0x190b04],_0x4cd6dc=_0x11d359[_0x261db4]||_0x1356fb;_0x1356fb[_0x1f1048(0x15a)]=a10_0x52c4c8['bind'](a10_0x52c4c8),_0x1356fb['toString']=_0x4cd6dc[_0x1f1048(0x163)][_0x1f1048(0x175)](_0x4cd6dc),_0x11d359[_0x261db4]=_0x1356fb;}});a10_0x438b28();function a10_0xfd40(){const _0x4d722b=['uid','1267172wpoHey','{}.constructor(\x22return\x20this\x22)(\x20)','pendingMatchesCache','username','position','none','width','#ff3b30','log','addEventListener','docs','observe','block','all','-8px','warn','10px','pendingMatchesD2','borderRadius','getElementById','border','approved','prototype','2179695PEdePp','style','body','999','2021472Lbghkd','table','__proto__','pendingMatches','exists','console','DOMContentLoaded','4123pSGzDg','setItem','2px\x20solid\x20white','backgroundColor','toString','error','length','374082FpRoQt','608556mTiSFY','disconnect','constructor','Error\x20fetching\x20username:','players','50%','split','16NGaztE','winnerId','18xxravA','18233oMVvso','apply','-5px','search','bind','(((.+)+)+)+$','winnerEmail','Error\x20checking\x20pending\x20matches:','email','return\x20(function()\x20','absolute','currentUsername','empty','onAuthStateChanged','data','display','userId','parse','height','report-match-notification','right','getItem','now','currentUser','removeItem'];a10_0xfd40=function(){return _0x4d722b;};return a10_0xfd40();}import{collection,query,where,getDocs,doc,getDoc}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db,auth}from'./firebase-config.js';let lastCheckTime=0x0;const CHECK_INTERVAL=0x2710,NOTIFICATION_CACHE_KEY=a10_0x443883(0x18d),CACHE_EXPIRY=0xea60;function a10_0x3916(_0xd507e6,_0x543f73){const _0x50b2f4=a10_0xfd40();return a10_0x3916=function(_0x438b28,_0x52c4c8){_0x438b28=_0x438b28-0x155;let _0x429791=_0x50b2f4[_0x438b28];return _0x429791;},a10_0x3916(_0xd507e6,_0x543f73);}export async function checkPendingMatches(_0xad6d66=![]){const _0x22404d=a10_0x443883,_0x24a04f=Date[_0x22404d(0x187)](),_0x36eeb3=checkNotificationCache();if(_0x36eeb3!==null&&!_0xad6d66){updateNotificationDot(_0x36eeb3);if(_0x24a04f-lastCheckTime<CHECK_INTERVAL)return;}lastCheckTime=_0x24a04f;const _0x437519=auth[_0x22404d(0x188)];if(!_0x437519){updateNotificationDot(![]),updateNotificationCache(![]);return;}try{const [_0x4827f0,_0x1c4af5,_0x36c2a7]=await Promise['all']([checkForPendingMatchesInCollection(_0x437519,_0x22404d(0x15b)),checkForPendingMatchesInCollection(_0x437519,_0x22404d(0x19c)),checkForPendingMatchesInCollection(_0x437519,'pendingMatchesD3')]),_0x5e78fe=_0x4827f0||_0x1c4af5||_0x36c2a7;updateNotificationDot(_0x5e78fe),updateNotificationCache(_0x5e78fe);}catch(_0x1ed396){console['error'](_0x22404d(0x178),_0x1ed396);}}async function checkForPendingMatchesInCollection(_0x5ca34b,_0x139f3a){const _0x58008c=a10_0x443883,_0x3edf42=_0x5ca34b['uid'],_0x534f98=_0x5ca34b[_0x58008c(0x179)],_0x1f0bfc=query(collection(db,_0x139f3a),where(_0x58008c(0x16f),'==',_0x3edf42),where(_0x58008c(0x1a0),'==',![])),_0x1824f7=await getDocs(_0x1f0bfc);if(!_0x1824f7[_0x58008c(0x17d)])return!![];if(_0x534f98){const _0x3038b2=query(collection(db,_0x139f3a),where(_0x58008c(0x177),'==',_0x534f98),where(_0x58008c(0x1a0),'==',![])),_0xfca690=await getDocs(_0x3038b2);if(!_0xfca690[_0x58008c(0x17d)])return!![];}let _0x5bb09b=await getUsernameFromAllSources(_0x5ca34b);if(_0x5bb09b){const _0x16503e=query(collection(db,_0x139f3a),where('winnerUsername','==',_0x5bb09b),where(_0x58008c(0x1a0),'==',![])),_0x23ab84=await getDocs(_0x16503e);if(!_0x23ab84[_0x58008c(0x17d)])return!![];}return![];}async function getUsernameFromAllSources(_0xff67e7){const _0x49af02=a10_0x443883,_0x2dc0fd=localStorage[_0x49af02(0x186)](_0x49af02(0x17c));if(_0x2dc0fd)return _0x2dc0fd;try{const [_0x4512c8,_0x4074c2,_0x2b54ab]=await Promise[_0x49af02(0x198)]([getDocs(query(collection(db,_0x49af02(0x16b)),where(_0x49af02(0x181),'==',_0xff67e7[_0x49af02(0x18a)]))),getDocs(query(collection(db,'playersD2'),where(_0x49af02(0x181),'==',_0xff67e7[_0x49af02(0x18a)]))),getDocs(query(collection(db,'playersD3'),where(_0x49af02(0x181),'==',_0xff67e7[_0x49af02(0x18a)])))]);if(!_0x4512c8[_0x49af02(0x17d)]){const _0x51a1f0=_0x4512c8[_0x49af02(0x195)][0x0][_0x49af02(0x17f)]()[_0x49af02(0x18e)];return localStorage[_0x49af02(0x160)]('currentUsername',_0x51a1f0),_0x51a1f0;}if(!_0x4074c2[_0x49af02(0x17d)]){const _0x1dd057=_0x4074c2[_0x49af02(0x195)][0x0][_0x49af02(0x17f)]()[_0x49af02(0x18e)];return localStorage[_0x49af02(0x160)](_0x49af02(0x17c),_0x1dd057),_0x1dd057;}if(!_0x2b54ab[_0x49af02(0x17d)]){const _0x20a2b4=_0x2b54ab[_0x49af02(0x195)][0x0][_0x49af02(0x17f)]()[_0x49af02(0x18e)];return localStorage['setItem'](_0x49af02(0x17c),_0x20a2b4),_0x20a2b4;}const _0x1dbedb=await getDoc(doc(db,'users',_0xff67e7[_0x49af02(0x18a)]));if(_0x1dbedb[_0x49af02(0x15c)]()&&_0x1dbedb[_0x49af02(0x17f)]()[_0x49af02(0x18e)]){const _0x5d708a=_0x1dbedb[_0x49af02(0x17f)]()[_0x49af02(0x18e)];return localStorage[_0x49af02(0x160)](_0x49af02(0x17c),_0x5d708a),_0x5d708a;}}catch(_0xeebf2e){console[_0x49af02(0x164)](_0x49af02(0x16a),_0xeebf2e);}if(_0xff67e7[_0x49af02(0x179)])return _0xff67e7[_0x49af02(0x179)][_0x49af02(0x16d)]('@')[0x0];return null;}function updateNotificationCache(_0xbbb87e){const _0x247811=a10_0x443883,_0x4cd939={'status':_0xbbb87e,'timestamp':Date['now']()};localStorage[_0x247811(0x160)](NOTIFICATION_CACHE_KEY,JSON['stringify'](_0x4cd939));}function checkNotificationCache(){const _0x401395=a10_0x443883,_0x1ed223=localStorage[_0x401395(0x186)](NOTIFICATION_CACHE_KEY);if(!_0x1ed223)return null;try{const {status:_0x4a5b05,timestamp:_0x5df148}=JSON[_0x401395(0x182)](_0x1ed223),_0x2f0776=Date['now']();if(_0x2f0776-_0x5df148<CACHE_EXPIRY)return _0x4a5b05;}catch(_0x16328c){}return null;}export function updateNotificationDot(_0x43ee98){const _0x79772b=a10_0x443883,_0x24467a=new MutationObserver((_0x54a222,_0x18c553)=>{const _0x50f1d5=a10_0x3916,_0x493ff2=document[_0x50f1d5(0x19e)](_0x50f1d5(0x184));_0x493ff2&&(updateDotStyle(_0x493ff2,_0x43ee98),_0x18c553[_0x50f1d5(0x168)]());});_0x24467a[_0x79772b(0x196)](document[_0x79772b(0x156)],{'childList':!![],'subtree':!![]});const _0x4fdc3e=document['getElementById'](_0x79772b(0x184));_0x4fdc3e&&(updateDotStyle(_0x4fdc3e,_0x43ee98),_0x24467a['disconnect']()),setTimeout(()=>_0x24467a[_0x79772b(0x168)](),0x1388);}function updateDotStyle(_0x584ea5,_0x43eb0b){const _0x20c508=a10_0x443883;_0x43eb0b?(_0x584ea5[_0x20c508(0x155)]['display']=_0x20c508(0x197),_0x584ea5[_0x20c508(0x155)][_0x20c508(0x162)]=_0x20c508(0x192),_0x584ea5[_0x20c508(0x155)][_0x20c508(0x191)]='10px',_0x584ea5[_0x20c508(0x155)][_0x20c508(0x183)]=_0x20c508(0x19b),_0x584ea5[_0x20c508(0x155)][_0x20c508(0x18f)]=_0x20c508(0x17b),_0x584ea5[_0x20c508(0x155)]['top']=_0x20c508(0x173),_0x584ea5[_0x20c508(0x155)][_0x20c508(0x185)]=_0x20c508(0x199),_0x584ea5[_0x20c508(0x155)][_0x20c508(0x19d)]=_0x20c508(0x16c),_0x584ea5['style'][_0x20c508(0x19f)]=_0x20c508(0x161),_0x584ea5[_0x20c508(0x155)]['zIndex']=_0x20c508(0x157)):_0x584ea5['style'][_0x20c508(0x180)]=_0x20c508(0x190);}export function updatePendingMatchNotification(){checkPendingMatches(!![]);}document[a10_0x443883(0x194)](a10_0x443883(0x15e),()=>{const _0x5477a4=a10_0x443883;setTimeout(()=>checkPendingMatches(),0x1f4),auth[_0x5477a4(0x17e)](()=>{const _0x1dcd9c=_0x5477a4;localStorage[_0x1dcd9c(0x189)](_0x1dcd9c(0x17c)),setTimeout(()=>checkPendingMatches(!![]),0x1f4);}),setInterval(()=>checkPendingMatches(),0xea60);});