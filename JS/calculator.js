const a9_0x4ffbbe=a9_0x2715;(function(_0x2f4ba8,_0x3d7731){const _0x4cddb3=a9_0x2715,_0x13f112=_0x2f4ba8();while(!![]){try{const _0x5c619d=parseInt(_0x4cddb3(0x161))/0x1*(parseInt(_0x4cddb3(0x166))/0x2)+-parseInt(_0x4cddb3(0x139))/0x3*(parseInt(_0x4cddb3(0x187))/0x4)+-parseInt(_0x4cddb3(0x163))/0x5+parseInt(_0x4cddb3(0x16f))/0x6+parseInt(_0x4cddb3(0x148))/0x7+-parseInt(_0x4cddb3(0x18f))/0x8*(parseInt(_0x4cddb3(0x1ab))/0x9)+parseInt(_0x4cddb3(0x13e))/0xa;if(_0x5c619d===_0x3d7731)break;else _0x13f112['push'](_0x13f112['shift']());}catch(_0x21f991){_0x13f112['push'](_0x13f112['shift']());}}}(a9_0x43bd,0x969c1));const a9_0x16f9e9=(function(){let _0x4d0bfa=!![];return function(_0x56be47,_0x37e62d){const _0x11f745=_0x4d0bfa?function(){if(_0x37e62d){const _0x373d21=_0x37e62d['apply'](_0x56be47,arguments);return _0x37e62d=null,_0x373d21;}}:function(){};return _0x4d0bfa=![],_0x11f745;};}()),a9_0x325537=a9_0x16f9e9(this,function(){const _0x2878c4=a9_0x2715;return a9_0x325537[_0x2878c4(0x1aa)]()['search'](_0x2878c4(0x15e))['toString']()['constructor'](a9_0x325537)[_0x2878c4(0x13d)](_0x2878c4(0x15e));});a9_0x325537();const a9_0x45ea77=(function(){let _0x16b554=!![];return function(_0xd79d2f,_0x11c2c6){const _0x11db55=_0x16b554?function(){const _0xfbca3d=a9_0x2715;if(_0x11c2c6){const _0x3cf20f=_0x11c2c6[_0xfbca3d(0x147)](_0xd79d2f,arguments);return _0x11c2c6=null,_0x3cf20f;}}:function(){};return _0x16b554=![],_0x11db55;};}()),a9_0x36d0b4=a9_0x45ea77(this,function(){const _0x1f64c6=a9_0x2715;let _0x1d0f93;try{const _0x5660ad=Function(_0x1f64c6(0x198)+_0x1f64c6(0x180)+');');_0x1d0f93=_0x5660ad();}catch(_0x5e90b8){_0x1d0f93=window;}const _0x10294f=_0x1d0f93[_0x1f64c6(0x140)]=_0x1d0f93[_0x1f64c6(0x140)]||{},_0x475504=[_0x1f64c6(0x195),_0x1f64c6(0x17d),_0x1f64c6(0x169),_0x1f64c6(0x16a),_0x1f64c6(0x199),'table',_0x1f64c6(0x174)];for(let _0x41a178=0x0;_0x41a178<_0x475504['length'];_0x41a178++){const _0x158e8b=a9_0x45ea77[_0x1f64c6(0x156)][_0x1f64c6(0x164)][_0x1f64c6(0x15f)](a9_0x45ea77),_0x47e38c=_0x475504[_0x41a178],_0xbff265=_0x10294f[_0x47e38c]||_0x158e8b;_0x158e8b[_0x1f64c6(0x18c)]=a9_0x45ea77['bind'](a9_0x45ea77),_0x158e8b[_0x1f64c6(0x1aa)]=_0xbff265[_0x1f64c6(0x1aa)][_0x1f64c6(0x15f)](_0xbff265),_0x10294f[_0x47e38c]=_0x158e8b;}});a9_0x36d0b4();import{collection,getDocs,query,orderBy}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db}from'./firebase-config.js';class ELOCalculator{constructor(){const _0x4db866=a9_0x2715;this['currentLadder']='D1',this['players']=new Map(),this[_0x4db866(0x14b)]();}[a9_0x4ffbbe(0x14b)](){const _0x405989=a9_0x4ffbbe;this[_0x405989(0x14d)](),this[_0x405989(0x18d)]();}[a9_0x4ffbbe(0x14d)](){const _0x5aa5bb=a9_0x4ffbbe;document[_0x5aa5bb(0x14c)]('.ladder-btn')[_0x5aa5bb(0x14f)](_0xd568ba=>{const _0x50e376=_0x5aa5bb;_0xd568ba['addEventListener'](_0x50e376(0x17e),_0x1319f6=>{const _0x54810a=_0x50e376;document[_0x54810a(0x14c)]('.ladder-btn')[_0x54810a(0x14f)](_0x62a158=>_0x62a158[_0x54810a(0x15d)][_0x54810a(0x1a5)](_0x54810a(0x179))),_0x1319f6[_0x54810a(0x151)][_0x54810a(0x15d)][_0x54810a(0x19a)]('active'),this[_0x54810a(0x149)]=_0x1319f6['target'][_0x54810a(0x142)][_0x54810a(0x189)],this[_0x54810a(0x18d)]();});}),document[_0x5aa5bb(0x182)](_0x5aa5bb(0x152))[_0x5aa5bb(0x146)](_0x5aa5bb(0x17e),()=>{const _0x4cf3a3=_0x5aa5bb;this[_0x4cf3a3(0x18d)]();}),document['getElementById'](_0x5aa5bb(0x155))[_0x5aa5bb(0x146)](_0x5aa5bb(0x197),()=>this[_0x5aa5bb(0x138)]()),document[_0x5aa5bb(0x182)](_0x5aa5bb(0x1a6))[_0x5aa5bb(0x146)]('change',()=>this[_0x5aa5bb(0x138)]());}async[a9_0x4ffbbe(0x18d)](){const _0x1ce6e3=a9_0x4ffbbe;try{this[_0x1ce6e3(0x15b)](_0x1ce6e3(0x178));const _0x3917b2=this[_0x1ce6e3(0x149)]==='D1'?_0x1ce6e3(0x17f):this[_0x1ce6e3(0x149)]==='D2'?'playersD2':'playersD3',_0x25095c=collection(db,_0x3917b2),_0x44e660=query(_0x25095c,orderBy('eloRating',_0x1ce6e3(0x18b))),_0x3afe69=await getDocs(_0x44e660);this['players']['clear'](),_0x3afe69[_0x1ce6e3(0x14f)](_0x5eb4ed=>{const _0x45de1c=_0x1ce6e3,_0x5f300d=_0x5eb4ed[_0x45de1c(0x13a)]();_0x5f300d['username']&&this[_0x45de1c(0x17f)][_0x45de1c(0x19d)](_0x5f300d[_0x45de1c(0x184)],{'id':_0x5eb4ed['id'],'username':_0x5f300d[_0x45de1c(0x184)],'elo':parseInt(_0x5f300d[_0x45de1c(0x1a1)])||0x4b0,'position':_0x5f300d[_0x45de1c(0x19c)]||0x3e7});}),this[_0x1ce6e3(0x15b)](),console[_0x1ce6e3(0x195)](_0x1ce6e3(0x1a9)+this['players'][_0x1ce6e3(0x181)]+_0x1ce6e3(0x190)+this[_0x1ce6e3(0x149)]+_0x1ce6e3(0x1a2));}catch(_0x13c3fc){console['error']('Error\x20loading\x20players:',_0x13c3fc),this[_0x1ce6e3(0x15b)]('<option\x20value=\x22\x22>Error\x20loading\x20players</option>');}}['updateDropdowns'](_0x1c4f41=null){const _0x3365e1=a9_0x4ffbbe,_0x56048f=document[_0x3365e1(0x182)]('winner-select'),_0x138a8e=document[_0x3365e1(0x182)](_0x3365e1(0x1a6));if(_0x1c4f41){_0x56048f[_0x3365e1(0x1b1)]=_0x1c4f41,_0x138a8e[_0x3365e1(0x1b1)]=_0x1c4f41;return;}let _0x8ebb04=_0x3365e1(0x172);const _0x35bebf=Array[_0x3365e1(0x13b)](this[_0x3365e1(0x17f)][_0x3365e1(0x16d)]())[_0x3365e1(0x196)]((_0x29b767,_0x2c7260)=>_0x2c7260[_0x3365e1(0x143)]-_0x29b767[_0x3365e1(0x143)]);_0x35bebf[_0x3365e1(0x14f)](_0x3eec8b=>{const _0x3042f5=_0x3365e1,_0x3dbd12=this[_0x3042f5(0x1a4)](_0x3eec8b[_0x3042f5(0x143)]);_0x8ebb04+=_0x3042f5(0x175)+_0x3eec8b['username']+_0x3042f5(0x1ad)+_0x3eec8b[_0x3042f5(0x143)]+_0x3042f5(0x183)+_0x3dbd12+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3eec8b[_0x3042f5(0x184)]+'\x20('+_0x3eec8b[_0x3042f5(0x143)]+_0x3042f5(0x167);}),_0x56048f[_0x3365e1(0x1b1)]=_0x8ebb04,_0x138a8e[_0x3365e1(0x1b1)]=_0x8ebb04;}[a9_0x4ffbbe(0x138)](){const _0x2c4666=a9_0x4ffbbe,_0x1b8baf=document[_0x2c4666(0x182)](_0x2c4666(0x155)),_0x4ca0a7=document['getElementById'](_0x2c4666(0x1a6)),_0x4bdd04=_0x1b8baf[_0x2c4666(0x1a3)],_0x2f29cc=_0x4ca0a7[_0x2c4666(0x1a3)];if(!_0x4bdd04||!_0x2f29cc){document[_0x2c4666(0x182)](_0x2c4666(0x145))['style'][_0x2c4666(0x16e)]=_0x2c4666(0x153),document['getElementById'](_0x2c4666(0x192))[_0x2c4666(0x1a7)][_0x2c4666(0x16e)]=_0x2c4666(0x153);return;}if(_0x4bdd04===_0x2f29cc){alert(_0x2c4666(0x1b3));return;}const _0x3c8127=this[_0x2c4666(0x17f)][_0x2c4666(0x1b2)](_0x4bdd04),_0x1531f8=this['players'][_0x2c4666(0x1b2)](_0x2f29cc);if(!_0x3c8127||!_0x1531f8){console[_0x2c4666(0x16a)]('Player\x20not\x20found');return;}const _0x2f9b9d=this[_0x2c4666(0x188)](_0x3c8127[_0x2c4666(0x143)],_0x1531f8[_0x2c4666(0x143)]);this[_0x2c4666(0x158)](_0x3c8127,_0x1531f8,_0x2f9b9d),this[_0x2c4666(0x159)](_0x3c8127,_0x1531f8,_0x2f9b9d);}[a9_0x4ffbbe(0x188)](_0x206259,_0x2fc7e7,_0x41fe44=0x20){const _0x3c9700=a9_0x4ffbbe,_0x3e3f89=0x1/(0x1+Math[_0x3c9700(0x13f)](0xa,(_0x2fc7e7-_0x206259)/0x190)),_0xad9306=0x1/(0x1+Math[_0x3c9700(0x13f)](0xa,(_0x206259-_0x2fc7e7)/0x190)),_0x558fba=_0x206259+_0x41fe44*(0x1-_0x3e3f89),_0x15bbd2=_0x2fc7e7+_0x41fe44*(0x0-_0xad9306);return{'winnerChange':Math['round'](_0x558fba-_0x206259),'loserChange':Math[_0x3c9700(0x19f)](_0x15bbd2-_0x2fc7e7),'newWinnerRating':Math[_0x3c9700(0x19f)](_0x558fba),'newLoserRating':Math[_0x3c9700(0x19f)](_0x15bbd2),'expectedScoreWinner':_0x3e3f89,'expectedScoreLoser':_0xad9306};}[a9_0x4ffbbe(0x158)](_0x4c5b5a,_0x3faef8,_0xc80fa7){const _0x311967=a9_0x4ffbbe;document[_0x311967(0x182)](_0x311967(0x160))[_0x311967(0x1ac)]=_0x4c5b5a[_0x311967(0x184)],document[_0x311967(0x182)](_0x311967(0x18a))[_0x311967(0x1ac)]=_0x311967(0x14a)+_0x4c5b5a[_0x311967(0x143)],document[_0x311967(0x182)](_0x311967(0x193))['textContent']='+'+_0xc80fa7[_0x311967(0x191)],document[_0x311967(0x182)](_0x311967(0x1ae))[_0x311967(0x1ac)]=_0x311967(0x170)+_0xc80fa7['newWinnerRating'],document[_0x311967(0x182)](_0x311967(0x19e))[_0x311967(0x1ac)]=_0x3faef8[_0x311967(0x184)],document[_0x311967(0x182)](_0x311967(0x168))[_0x311967(0x1ac)]='Current\x20ELO:\x20'+_0x3faef8[_0x311967(0x143)],document[_0x311967(0x182)](_0x311967(0x1af))[_0x311967(0x1ac)]=''+_0xc80fa7[_0x311967(0x150)],document[_0x311967(0x182)](_0x311967(0x17c))[_0x311967(0x1ac)]=_0x311967(0x170)+_0xc80fa7[_0x311967(0x1b0)];const _0x1a1e89=this[_0x311967(0x157)](_0x4c5b5a[_0x311967(0x143)]),_0xe7d2f9=this[_0x311967(0x157)](_0x3faef8['elo']);document[_0x311967(0x182)](_0x311967(0x160))[_0x311967(0x1a7)][_0x311967(0x19b)]=_0x1a1e89,document[_0x311967(0x182)](_0x311967(0x19e))[_0x311967(0x1a7)]['color']=_0xe7d2f9,document[_0x311967(0x182)](_0x311967(0x145))[_0x311967(0x1a7)][_0x311967(0x16e)]=_0x311967(0x17b);}[a9_0x4ffbbe(0x159)](_0x366e4b,_0x468b75,_0x51ee5e){const _0x48bd21=a9_0x4ffbbe,_0x1903d7=_0x48bd21(0x1a8)+_0x366e4b[_0x48bd21(0x184)]+':\x20'+_0x366e4b[_0x48bd21(0x143)]+_0x48bd21(0x17a)+_0x468b75['username']+':\x20'+_0x468b75[_0x48bd21(0x143)]+_0x48bd21(0x16c)+_0x366e4b['username']+':\x20'+_0x51ee5e['expectedScoreWinner']['toFixed'](0x3)+'\x20('+(_0x51ee5e['expectedScoreWinner']*0x64)[_0x48bd21(0x154)](0x1)+_0x48bd21(0x16b)+_0x468b75[_0x48bd21(0x184)]+':\x20'+_0x51ee5e[_0x48bd21(0x18e)][_0x48bd21(0x154)](0x3)+'\x20('+(_0x51ee5e[_0x48bd21(0x18e)]*0x64)[_0x48bd21(0x154)](0x1)+_0x48bd21(0x1a0)+_0x366e4b[_0x48bd21(0x184)]+':\x20'+_0x366e4b['elo']+_0x48bd21(0x165)+_0x51ee5e[_0x48bd21(0x191)]+_0x48bd21(0x15a)+_0x51ee5e[_0x48bd21(0x141)]+_0x48bd21(0x17a)+_0x468b75[_0x48bd21(0x184)]+':\x20'+_0x468b75['elo']+_0x48bd21(0x165)+_0x51ee5e[_0x48bd21(0x150)]+'\x20=\x20'+_0x51ee5e['newLoserRating']+_0x48bd21(0x176)+(_0x51ee5e['winnerChange']>0x14?_0x48bd21(0x177):'')+'\x0a'+(_0x51ee5e[_0x48bd21(0x191)]<0x5?_0x48bd21(0x144):'')+_0x48bd21(0x173);document[_0x48bd21(0x182)](_0x48bd21(0x15c))[_0x48bd21(0x1ac)]=_0x1903d7,document[_0x48bd21(0x182)](_0x48bd21(0x192))[_0x48bd21(0x1a7)][_0x48bd21(0x16e)]='block';}[a9_0x4ffbbe(0x157)](_0x31475a){const _0x29943e=a9_0x4ffbbe;if(_0x31475a>=0x7d0)return'#50C878';else{if(_0x31475a>=0x708)return _0x29943e(0x194);else{if(_0x31475a>=0x640)return _0x29943e(0x186);else{if(_0x31475a>=0x578)return _0x29943e(0x185);else return _0x29943e(0x14e);}}}}[a9_0x4ffbbe(0x1a4)](_0x2fec43){const _0x37d25c=a9_0x4ffbbe;if(_0x2fec43>=0x7d0)return _0x37d25c(0x171);else{if(_0x2fec43>=0x708)return'gold';else{if(_0x2fec43>=0x640)return _0x37d25c(0x162);else{if(_0x2fec43>=0x578)return'bronze';else return'unranked';}}}}}document[a9_0x4ffbbe(0x146)](a9_0x4ffbbe(0x13c),()=>{const _0x1e0511=a9_0x4ffbbe;document[_0x1e0511(0x182)]('sandbox')&&new ELOCalculator();});function a9_0x2715(_0xee210b,_0x567687){const _0x2ff815=a9_0x43bd();return a9_0x2715=function(_0x36d0b4,_0x45ea77){_0x36d0b4=_0x36d0b4-0x138;let _0x10c2d3=_0x2ff815[_0x36d0b4];return _0x10c2d3;},a9_0x2715(_0xee210b,_0x567687);}function a9_0x43bd(){const _0x334b9f=['\x20ELO)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</option>','loser-current-elo','info','error','%\x20chance\x20to\x20win)\x0a\x20\x20','\x0a\x20\x20\x0aExpected\x20Scores:\x0a\x20\x20','values','display','4122018qZDGpO','New\x20ELO:\x20','emerald','<option\x20value=\x22\x22>Select\x20a\x20player...</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','trace','<option\x20value=\x22','\x0a\x0aFormula\x20Used:\x0a\x20\x20New\x20Rating\x20=\x20Old\x20Rating\x20+\x20K-factor\x20Ã—\x20(Actual\x20Score\x20-\x20Expected\x20Score)\x0a\x20\x20K-factor\x20=\x2032\x0a\x20\x20Actual\x20Score:\x20Winner\x20=\x201,\x20Loser\x20=\x200\x0a\x20\x20\x0a','\x20High\x20ELO\x20gain','<option\x20value=\x22\x22>Loading\x20players...</option>','active','\x0a\x20\x20','grid','loser-new-elo','warn','click','players','{}.constructor(\x22return\x20this\x22)(\x20)','size','getElementById','\x22\x20class=\x22','username','#CD7F32','#C0C0C0','1080056lNjitB','calculateELO','ladder','winner-current-elo','desc','__proto__','loadPlayers','expectedScoreLoser','1903992zFqVVG','\x20players\x20from\x20','winnerChange','calculation-details','winner-elo-change','#FFD700','log','sort','change','return\x20(function()\x20','exception','add','color','position','set','loser-name','round','%\x20chance\x20to\x20win)\x0a\x0aELO\x20Changes:\x0a\x20\x20','eloRating','\x20ladder','value','getELORankClass','remove','loser-select','style','\x0a\x0aInitial\x20Ratings:\x0a\x20\x20','Loaded\x20','toString','27anWPOO','textContent','\x22\x20data-elo=\x22','winner-new-elo','loser-elo-change','newLoserRating','innerHTML','get','Please\x20select\x20different\x20players\x20for\x20winner\x20and\x20loser','calculateMatch','6vUkSvI','data','from','DOMContentLoaded','search','4486740ekaASx','pow','console','newWinnerRating','dataset','elo','Low\x20ELO\x20gain.','match-result','addEventListener','apply','7155869bxcHTu','currentLadder','Current\x20ELO:\x20','init','querySelectorAll','setupEventListeners','#808080','forEach','loserChange','target','refresh-players','none','toFixed','winner-select','constructor','getELOColor','displayMatchResult','displayCalculationDetails','\x20=\x20','updateDropdowns','calculation-text','classList','(((.+)+)+)+$','bind','winner-name','9DbkmhE','silver','5642925Teevzm','prototype','\x20+\x20','187014xwCehf'];a9_0x43bd=function(){return _0x334b9f;};return a9_0x43bd();}