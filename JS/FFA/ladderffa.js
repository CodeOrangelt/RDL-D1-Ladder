function a2_0x5aca(){const _0xbb281c=['exception','createDocumentFragment','#FFA500','wins','%\x20top-half,\x20K/D:\x20','maxWinRate','HOT','country','pointsEarned','elo','warn','username','60px','players','map','then','log','appendChild','kills','ceil','NEUTRAL','userProfiles','trace','innerHTML','getTime','\x20-\x20Recent\x20Performance\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.token-placeholder','totalMatches','refreshLadderDisplayFFA','apply','toLowerCase','ðŸ”¥ðŸ”¥','\x20matches,\x20','player','catch','reduce','minMatches','Blazing','</span>','#ladder-ffa\x20thead\x20tr','desc','totalPlayers','includes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20style=\x22text-align:\x20center;\x22>Rank</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20style=\x22text-align:\x20left;\x22>Player</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20style=\x22text-align:\x20center;\x22>ELO</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20style=\x22text-align:\x20center;\x22>Matches</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20style=\x22text-align:\x20center;\x22>Wins</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20style=\x22text-align:\x20center;\x22>Top\x203</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20style=\x22text-align:\x20center;\x22>Avg\x20Place</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20style=\x22text-align:\x20center;\x22>K/D</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20style=\x22text-align:\x20center;\x22>FFA\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','filter','FROZEN','function','Using\x20cached\x20FFA\x20ladder\x20data','RECENT_WINDOW_DAYS','initialized','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center;\x22>','<td\x20colspan=\x229\x22></td>','#4169E1','Neutral','set','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20style=\x22color:\x20','dataset','MAX_SAFE_INTEGER','bind','constructor','table','#00FF00','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22','#FF6347','message','createElement','Cool','console',';\x20font-size:\x200.8em;\x22>','querySelector','newElo','return\x20(function()\x20',';\x20text-align:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22elo-container\x22\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22elo-value\x22>',',\x20effective:\x20','position','playersFFA','error','<tr><td\x20colspan=\x2210\x22\x20class=\x22loading-cell\x22>Loading\x20FFA\x20ladder\x20data...</td></tr>','info','name','placement','avgPlacement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22player-flag\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22margin-left:\x205px;\x20vertical-align:\x20middle;\x20width:\x2020px;\x20height:\x20auto;\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>','emoji','height','FFA\x20Ladder\x20table\x20body\x20not\x20found','.trend-indicator','Hot','approvedMatchesFFA','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22player-token\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22width:\x2020px;\x20height:\x2020px;\x20margin-left:\x205px;\x20vertical-align:\x20middle;\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','prototype','&ladder=ffa\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22color:\x20','#ladder-ffa\x20tbody','previousElo','toString','.flag-placeholder','<span\x20style=\x22margin-left:\x204px;\x22\x20title=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22trend-indicator\x22\x20style=\x22margin-left:\x205px;\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center;\x22>','minWinRate','ffaPoints','abs','points','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22position:\x20relative;\x20text-align:\x20left;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22profile.html?username=','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22flag-placeholder\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22token-placeholder\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22color:\x20','imageUrl','Temperature:\x20','#379fc8ff','participants','{}.constructor(\x22return\x20this\x22)(\x20)','all','Error\x20loading\x20FFA\x20ELO\x20changes:','BLAZING','approvedAt','totalKills','__proto__','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22','Error\x20fetching\x20FFA\x20ELO\x20history:','Error\x20fetching\x20FFA\x20match\x20stats:','WARM','</td>\x0a\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22color:\x20gray;\x20ffont-weight:\x20300;\x20text-align:\x20center;\x22>','toFixed','querySelectorAll','COLD','color','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20title=\x22','#FF4444','displayLadderFFA\x20function\x20not\x20available','COOL','deaths','get','has','forEach','top3','Cold','data','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x2210\x22\x20style=\x22text-align:\x20center;\x20color:\x20red;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20FFA\x20ladder\x20data:\x20','#87CEEB','recentMatches','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center;\x22>','style','toDate','#808080','Warm','timestamp','sort','THRESHOLDS','Error\x20loading\x20FFA\x20tokens:','push','eloRating','kda','length','true','Error\x20loading\x20FFA\x20ladder:','.png\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22','now',';\x20text-decoration:\x20none;\x20font-weight:\x20600;\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20title=\x22','#FF4500','<img\x20src=\x22../images/flags/','Frozen','totalDeaths','eloHistoryFFA'];a2_0x5aca=function(){return _0xbb281c;};return a2_0x5aca();}const a2_0x3c2ece=a2_0x239c,a2_0x5ade87=(function(){let _0xbe1088=!![];return function(_0x1b5e65,_0x19b601){const _0x2c31d1=_0xbe1088?function(){const _0xfce525=a2_0x239c;if(_0x19b601){const _0x3f5792=_0x19b601[_0xfce525(0x1f5)](_0x1b5e65,arguments);return _0x19b601=null,_0x3f5792;}}:function(){};return _0xbe1088=![],_0x2c31d1;};}()),a2_0x50131f=a2_0x5ade87(this,function(){const _0x3d6c0b=a2_0x239c;let _0x1485f0;try{const _0x41d71d=Function(_0x3d6c0b(0x220)+_0x3d6c0b(0x246)+');');_0x1485f0=_0x41d71d();}catch(_0x18a044){_0x1485f0=window;}const _0x5c299e=_0x1485f0[_0x3d6c0b(0x21c)]=_0x1485f0[_0x3d6c0b(0x21c)]||{},_0x5dfd3f=[_0x3d6c0b(0x1e8),_0x3d6c0b(0x1e2),_0x3d6c0b(0x227),_0x3d6c0b(0x225),_0x3d6c0b(0x1d8),_0x3d6c0b(0x215),_0x3d6c0b(0x1ee)];for(let _0x44c893=0x0;_0x44c893<_0x5dfd3f[_0x3d6c0b(0x271)];_0x44c893++){const _0x484180=a2_0x5ade87[_0x3d6c0b(0x214)][_0x3d6c0b(0x234)][_0x3d6c0b(0x213)](a2_0x5ade87),_0x2daf13=_0x5dfd3f[_0x44c893],_0x4c5e45=_0x5c299e[_0x2daf13]||_0x484180;_0x484180[_0x3d6c0b(0x24c)]=a2_0x5ade87[_0x3d6c0b(0x213)](a2_0x5ade87),_0x484180[_0x3d6c0b(0x238)]=_0x4c5e45[_0x3d6c0b(0x238)][_0x3d6c0b(0x213)](_0x4c5e45),_0x5c299e[_0x2daf13]=_0x484180;}});a2_0x50131f();import{collection,getDocs,doc,getDoc,query,where,updateDoc,Timestamp,orderBy,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db}from'../firebase-config.js';import a2_0x149614 from'../firebase-idle-wrapper.js';import{getTokensByUsernames,getPrimaryDisplayToken,clearTokenCache}from'../tokens.js';const playerCacheFFA={'data':null,'timestamp':0x0},profileCacheFFA={'data':null,'timestamp':0x0},matchStatsCacheFFA={'data':null,'timestamp':0x0},eloHistoryCacheFFA={'data':null,'timestamp':0x0},CACHE_DURATION=0x5*0x3c*0x3e8,PROFILE_CACHE_DURATION=0xa*0x3c*0x3e8,MATCH_STATS_CACHE_DURATION=0x3*0x3c*0x3e8,ELO_HISTORY_CACHE_DURATION=0x2*0x3c*0x3e8,TEMPERATURE_CONFIG={'RECENT_WINDOW_DAYS':0x7,'THRESHOLDS':{'BLAZING':{'minWinRate':0x50,'minMatches':0x5,'color':a2_0x3c2ece(0x277),'name':a2_0x3c2ece(0x1fd),'emoji':a2_0x3c2ece(0x1f7)},'HOT':{'minWinRate':0x41,'minMatches':0x3,'color':a2_0x3c2ece(0x218),'name':a2_0x3c2ece(0x231),'emoji':'ðŸ”¥'},'WARM':{'minWinRate':0x32,'minMatches':0x2,'color':a2_0x3c2ece(0x1da),'name':a2_0x3c2ece(0x269),'emoji':'â˜€ï¸'},'NEUTRAL':{'minWinRate':0x0,'minMatches':0x0,'color':a2_0x3c2ece(0x268),'name':a2_0x3c2ece(0x20d),'emoji':''},'COOL':{'maxWinRate':0x28,'minMatches':0x2,'color':a2_0x3c2ece(0x263),'name':a2_0x3c2ece(0x21b),'emoji':'â„ï¸'},'COLD':{'maxWinRate':0x19,'minMatches':0x3,'color':a2_0x3c2ece(0x244),'name':a2_0x3c2ece(0x260),'emoji':'â„ï¸'},'FROZEN':{'maxWinRate':0xf,'minMatches':0x5,'color':a2_0x3c2ece(0x20c),'name':a2_0x3c2ece(0x279),'emoji':'ðŸ§Š'}}};export const FFA_POINTS_CONFIG={0x1:0x64,0x2:0x4b,0x3:0x37,0x4:0x28,0x5:0x1e,0x6:0x14,0x7:0xf,0x8:0xa,'DEFAULT':0x5};function calculatePlayerTemperature(_0x568362){const _0x4bc142=a2_0x3c2ece;if(!_0x568362||_0x568362[_0x4bc142(0x271)]===0x0)return TEMPERATURE_CONFIG[_0x4bc142(0x26c)][_0x4bc142(0x1ec)];const _0x4da6f9=new Date(),_0x564db8=new Date(_0x4da6f9[_0x4bc142(0x1f0)]()-TEMPERATURE_CONFIG[_0x4bc142(0x208)]*0x18*0x3c*0x3c*0x3e8),_0xcd2ac7=_0x568362[_0x4bc142(0x204)](_0x45a71d=>{const _0x20821e=_0x4bc142,_0x406509=_0x45a71d[_0x20821e(0x26a)]?.[_0x20821e(0x267)]?_0x45a71d[_0x20821e(0x26a)][_0x20821e(0x267)]():new Date(_0x45a71d[_0x20821e(0x26a)]);return _0x406509>=_0x564db8;});if(_0xcd2ac7[_0x4bc142(0x271)]===0x0)return TEMPERATURE_CONFIG[_0x4bc142(0x26c)][_0x4bc142(0x1ec)];const _0x4f0dfe=_0xcd2ac7[_0x4bc142(0x271)];let _0x48fbab=0x0,_0x53056e=0x0,_0x6826a=0x0;_0xcd2ac7[_0x4bc142(0x25e)](_0x310c65=>{const _0x3a233f=_0x4bc142,_0x56272f=_0x310c65[_0x3a233f(0x229)]||_0x310c65[_0x3a233f(0x223)]||0x4,_0x10f08d=_0x310c65[_0x3a233f(0x201)]||0x8,_0x15c957=Math[_0x3a233f(0x1eb)](_0x10f08d/0x2);_0x56272f<=_0x15c957&&_0x48fbab++,_0x53056e+=parseInt(_0x310c65[_0x3a233f(0x1ea)])||0x0,_0x6826a+=parseInt(_0x310c65[_0x3a233f(0x25b)])||0x0;});const _0x4fb4ba=_0x48fbab/_0x4f0dfe*0x64,_0x58fe09=_0x6826a>0x0?_0x53056e/_0x6826a:_0x53056e;let _0x34accb=_0x4fb4ba;if(_0x58fe09<0.5)_0x34accb*=0.6;else _0x58fe09<0x1&&(_0x34accb*=0.8);console[_0x4bc142(0x1e8)](_0x4bc142(0x243)+_0x4f0dfe+_0x4bc142(0x1f8)+_0x4fb4ba[_0x4bc142(0x253)](0x1)+_0x4bc142(0x1dc)+_0x58fe09[_0x4bc142(0x253)](0x2)+_0x4bc142(0x222)+_0x34accb[_0x4bc142(0x253)](0x1)+'%');const _0xa51219=TEMPERATURE_CONFIG[_0x4bc142(0x26c)];if(_0x4f0dfe>=_0xa51219[_0x4bc142(0x249)][_0x4bc142(0x1fc)]&&_0x34accb>=_0xa51219[_0x4bc142(0x249)][_0x4bc142(0x23c)])return _0xa51219[_0x4bc142(0x249)];if(_0x4f0dfe>=_0xa51219[_0x4bc142(0x1de)][_0x4bc142(0x1fc)]&&_0x34accb>=_0xa51219[_0x4bc142(0x1de)][_0x4bc142(0x23c)])return _0xa51219[_0x4bc142(0x1de)];if(_0x4f0dfe>=_0xa51219[_0x4bc142(0x250)][_0x4bc142(0x1fc)]&&_0x34accb>=_0xa51219[_0x4bc142(0x250)][_0x4bc142(0x23c)])return _0xa51219[_0x4bc142(0x250)];if(_0x4f0dfe>=_0xa51219[_0x4bc142(0x205)][_0x4bc142(0x1fc)]&&_0x34accb<=_0xa51219[_0x4bc142(0x205)][_0x4bc142(0x1dd)])return _0xa51219[_0x4bc142(0x205)];if(_0x4f0dfe>=_0xa51219[_0x4bc142(0x255)][_0x4bc142(0x1fc)]&&_0x34accb<=_0xa51219[_0x4bc142(0x255)][_0x4bc142(0x1dd)])return _0xa51219[_0x4bc142(0x255)];if(_0x4f0dfe>=_0xa51219[_0x4bc142(0x25a)][_0x4bc142(0x1fc)]&&_0x34accb<=_0xa51219[_0x4bc142(0x25a)][_0x4bc142(0x1dd)])return _0xa51219[_0x4bc142(0x25a)];return _0xa51219[_0x4bc142(0x1ec)];}async function loadLadderDataOptimizedFFA(_0x4dde0b=![]){const _0x13bc33=a2_0x3c2ece,_0x3dac5c=Date[_0x13bc33(0x275)]();if(!_0x4dde0b&&playerCacheFFA[_0x13bc33(0x261)]&&_0x3dac5c-playerCacheFFA[_0x13bc33(0x26a)]<CACHE_DURATION){console[_0x13bc33(0x1e8)](_0x13bc33(0x207));const _0xeb3c97=playerCacheFFA[_0x13bc33(0x261)][_0x13bc33(0x1e6)](_0x5ed502=>_0x5ed502[_0x13bc33(0x1e3)]),_0x186311=await fetchBatchMatchStatsFFA(_0xeb3c97);return{'players':playerCacheFFA[_0x13bc33(0x261)],'matchStatsBatch':_0x186311};}const [_0x36d945,_0x53e774]=await Promise[_0x13bc33(0x247)]([getDocs(collection(db,_0x13bc33(0x224))),getDocs(collection(db,_0x13bc33(0x1ed)))]),_0x477a81=[];_0x36d945[_0x13bc33(0x25e)](_0x145c79=>{const _0x25117a=_0x13bc33,_0x314252=_0x145c79[_0x25117a(0x261)]();_0x314252[_0x25117a(0x1e3)]&&_0x477a81[_0x25117a(0x26e)]({..._0x314252,'id':_0x145c79['id'],'elo':_0x314252[_0x25117a(0x26f)]||0x3e8,'position':_0x314252[_0x25117a(0x223)]||Number[_0x25117a(0x212)]});});const _0x1a39f4=new Map();_0x53e774[_0x13bc33(0x25e)](_0x356ebf=>{const _0x183bc2=_0x13bc33,_0x4016df=_0x356ebf[_0x183bc2(0x261)]();_0x4016df[_0x183bc2(0x1e3)]&&_0x1a39f4[_0x183bc2(0x20e)](_0x4016df[_0x183bc2(0x1e3)][_0x183bc2(0x1f6)](),_0x4016df);});for(const _0x57b34c of _0x477a81){const _0x38bd03=_0x57b34c[_0x13bc33(0x1e3)][_0x13bc33(0x1f6)]();if(_0x1a39f4[_0x13bc33(0x25d)](_0x38bd03)){const _0x56982c=_0x1a39f4[_0x13bc33(0x25c)](_0x38bd03);_0x56982c[_0x13bc33(0x1df)]&&(_0x57b34c[_0x13bc33(0x1df)]=_0x56982c[_0x13bc33(0x1df)][_0x13bc33(0x1f6)]()),_0x57b34c[_0x13bc33(0x23f)]=_0x56982c[_0x13bc33(0x23f)]||0x0;}else _0x57b34c[_0x13bc33(0x23f)]=0x0;}const _0x4d9580=_0x477a81[_0x13bc33(0x1e6)](_0x43d76a=>_0x43d76a[_0x13bc33(0x1e3)]),_0x5c138f=await fetchBatchMatchStatsFFA(_0x4d9580);return _0x477a81[_0x13bc33(0x26b)]((_0x59bced,_0x21416c)=>{const _0xb61178=_0x13bc33,_0x24d8db=_0x5c138f[_0xb61178(0x25c)](_0x59bced[_0xb61178(0x1e3)])?.[_0xb61178(0x1f3)]||0x0,_0x19e7c2=_0x5c138f[_0xb61178(0x25c)](_0x21416c[_0xb61178(0x1e3)])?.[_0xb61178(0x1f3)]||0x0;if(_0x24d8db===0x0!==(_0x19e7c2===0x0))return _0x24d8db===0x0?0x1:-0x1;return(_0x21416c[_0xb61178(0x1e1)]||0x0)-(_0x59bced[_0xb61178(0x1e1)]||0x0);}),_0x477a81[_0x13bc33(0x25e)]((_0x577754,_0x57d176)=>{const _0x141663=_0x13bc33;_0x577754[_0x141663(0x223)]=_0x57d176+0x1;}),playerCacheFFA[_0x13bc33(0x261)]=_0x477a81,playerCacheFFA[_0x13bc33(0x26a)]=_0x3dac5c,{'players':_0x477a81,'matchStatsBatch':_0x5c138f};}function a2_0x239c(_0x52d1ea,_0x337849){_0x52d1ea=_0x52d1ea-0x1d8;const _0x50131f=a2_0x5aca();let _0x5ade87=_0x50131f[_0x52d1ea];return _0x5ade87;}async function fetchBatchMatchStatsFFA(_0x8f54ef){const _0x3060c2=a2_0x3c2ece,_0x59c2e3=new Map();_0x8f54ef[_0x3060c2(0x25e)](_0x4a4185=>{const _0x11824f=_0x3060c2;_0x59c2e3[_0x11824f(0x20e)](_0x4a4185,{'totalMatches':0x0,'wins':0x0,'top3':0x0,'avgPlacement':0x0,'totalKills':0x0,'totalDeaths':0x0,'kda':0x0,'ffaPoints':0x0,'recentMatches':[]});});try{const _0x4de940=collection(db,_0x3060c2(0x232)),_0x3eb692=await getDocs(_0x4de940);_0x3eb692[_0x3060c2(0x25e)](_0x589b0c=>{const _0x10829c=_0x3060c2,_0x4aa348=_0x589b0c[_0x10829c(0x261)](),_0x4dcd65=_0x4aa348[_0x10829c(0x245)]||_0x4aa348[_0x10829c(0x1e5)]||[],_0x251dce=_0x4dcd65[_0x10829c(0x271)];_0x4dcd65[_0x10829c(0x25e)](_0x541c9c=>{const _0x4fe8c6=_0x10829c,_0x320c8f=_0x541c9c[_0x4fe8c6(0x1e3)];if(_0x8f54ef[_0x4fe8c6(0x202)](_0x320c8f)){const _0x34c0fc=_0x59c2e3[_0x4fe8c6(0x25c)](_0x320c8f);_0x34c0fc[_0x4fe8c6(0x1f3)]++;const _0x50f2e9=_0x541c9c[_0x4fe8c6(0x229)]||_0x541c9c[_0x4fe8c6(0x223)];if(_0x50f2e9===0x1)_0x34c0fc[_0x4fe8c6(0x1db)]++;if(_0x50f2e9<=0x3)_0x34c0fc[_0x4fe8c6(0x25f)]++;_0x34c0fc[_0x4fe8c6(0x24b)]+=parseInt(_0x541c9c[_0x4fe8c6(0x1ea)])||0x0,_0x34c0fc[_0x4fe8c6(0x27a)]+=parseInt(_0x541c9c[_0x4fe8c6(0x25b)])||0x0,_0x34c0fc[_0x4fe8c6(0x23d)]+=parseInt(_0x541c9c[_0x4fe8c6(0x1e0)])||0x0,_0x34c0fc[_0x4fe8c6(0x264)][_0x4fe8c6(0x26e)]({'timestamp':_0x4aa348[_0x4fe8c6(0x24a)]||_0x4aa348[_0x4fe8c6(0x26a)],'placement':_0x50f2e9,'totalPlayers':_0x251dce,'kills':_0x541c9c[_0x4fe8c6(0x1ea)]||0x0,'deaths':_0x541c9c[_0x4fe8c6(0x25b)]||0x0});}});}),_0x59c2e3[_0x3060c2(0x25e)]((_0x5dac3e,_0x4bd060)=>{const _0x64b934=_0x3060c2;if(_0x5dac3e[_0x64b934(0x1f3)]>0x0){if(_0x5dac3e[_0x64b934(0x264)][_0x64b934(0x271)]>0x0){const _0x3e3c08=_0x5dac3e[_0x64b934(0x264)][_0x64b934(0x1fb)]((_0x1b85f2,_0xabb08b)=>_0x1b85f2+(_0xabb08b[_0x64b934(0x229)]||0x0),0x0);_0x5dac3e[_0x64b934(0x22a)]=(_0x3e3c08/_0x5dac3e[_0x64b934(0x264)][_0x64b934(0x271)])[_0x64b934(0x253)](0x1);}}_0x5dac3e[_0x64b934(0x270)]=_0x5dac3e[_0x64b934(0x27a)]>0x0?(_0x5dac3e[_0x64b934(0x24b)]/_0x5dac3e[_0x64b934(0x27a)])[_0x64b934(0x253)](0x2):_0x5dac3e[_0x64b934(0x24b)][_0x64b934(0x253)](0x2),_0x5dac3e[_0x64b934(0x264)][_0x64b934(0x26b)]((_0x20556a,_0x1c9942)=>{const _0x221277=_0x64b934,_0x47ef15=_0x20556a[_0x221277(0x26a)]?.[_0x221277(0x267)]?_0x20556a[_0x221277(0x26a)][_0x221277(0x267)]():new Date(_0x20556a[_0x221277(0x26a)]),_0x55cdf3=_0x1c9942[_0x221277(0x26a)]?.[_0x221277(0x267)]?_0x1c9942[_0x221277(0x26a)][_0x221277(0x267)]():new Date(_0x1c9942[_0x221277(0x26a)]);return _0x55cdf3-_0x47ef15;});});}catch(_0x386a2b){console[_0x3060c2(0x225)](_0x3060c2(0x24f),_0x386a2b);}return _0x59c2e3;}async function displayLadderFFA(_0x362f9e=![]){const _0x260f49=a2_0x3c2ece,_0x4aa90c=document[_0x260f49(0x21e)](_0x260f49(0x236));if(!_0x4aa90c){console[_0x260f49(0x225)](_0x260f49(0x22f));return;}_0x4aa90c[_0x260f49(0x1ef)]=_0x260f49(0x226);try{const {players:_0x28b7f4,matchStatsBatch:_0x15c7ca}=await loadLadderDataOptimizedFFA(_0x362f9e);await updateLadderDisplayFFA(_0x28b7f4,_0x15c7ca);}catch(_0x5d86c5){console[_0x260f49(0x225)](_0x260f49(0x273),_0x5d86c5),_0x4aa90c[_0x260f49(0x1ef)]=_0x260f49(0x262)+_0x5d86c5[_0x260f49(0x219)]+_0x260f49(0x20f);}}async function updateLadderDisplayFFA(_0x519c6d,_0x4b3db3=null){const _0x3a2573=a2_0x3c2ece,_0x2607f1=document[_0x3a2573(0x21e)](_0x3a2573(0x236));if(!_0x2607f1){console[_0x3a2573(0x225)](_0x3a2573(0x22f));return;}const _0x41521a=document[_0x3a2573(0x21e)](_0x3a2573(0x1ff));_0x41521a&&!_0x41521a[_0x3a2573(0x211)][_0x3a2573(0x209)]&&(_0x41521a[_0x3a2573(0x1ef)]=_0x3a2573(0x203),_0x41521a[_0x3a2573(0x211)][_0x3a2573(0x209)]=_0x3a2573(0x272));_0x519c6d[_0x3a2573(0x26b)]((_0x2c5efb,_0x38243d)=>_0x2c5efb[_0x3a2573(0x223)]-_0x38243d[_0x3a2573(0x223)]);if(!_0x4b3db3){const _0x4dabb3=_0x519c6d[_0x3a2573(0x1e6)](_0x13c2df=>_0x13c2df[_0x3a2573(0x1e3)]);_0x4b3db3=await fetchBatchMatchStatsFFA(_0x4dabb3);}const _0x2be5d8=document[_0x3a2573(0x1d9)]();_0x519c6d[_0x3a2573(0x25e)](_0x1332e8=>{const _0x22e493=_0x3a2573,_0x772751=_0x4b3db3[_0x22e493(0x25c)](_0x1332e8[_0x22e493(0x1e3)])||{'totalMatches':0x0,'wins':0x0,'top3':0x0,'avgPlacement':'-','totalKills':0x0,'totalDeaths':0x0,'kda':0x0,'ffaPoints':0x0,'recentMatches':[]},_0xc5d21f=document[_0x22e493(0x21a)]('tr');_0xc5d21f[_0x22e493(0x1ef)]=createPlayerRowFFA(_0x1332e8,_0x772751),_0x2be5d8[_0x22e493(0x1e9)](_0xc5d21f);});const _0x4bcd17=document[_0x3a2573(0x21a)]('tr');_0x4bcd17[_0x3a2573(0x266)][_0x3a2573(0x22e)]=_0x3a2573(0x1e4),_0x4bcd17[_0x3a2573(0x1ef)]=_0x3a2573(0x20b),_0x2be5d8[_0x3a2573(0x1e9)](_0x4bcd17),_0x2607f1[_0x3a2573(0x1ef)]='',_0x2607f1[_0x3a2573(0x1e9)](_0x2be5d8);const _0x68a3be=_0x519c6d[_0x3a2573(0x1e6)](_0x444b66=>_0x444b66[_0x3a2573(0x1e3)]);loadTokensAsyncFFA(_0x2607f1,_0x519c6d,_0x4b3db3,_0x68a3be),loadEloChangesAsyncFFA(_0x2607f1,_0x68a3be);}function createPlayerRowFFA(_0x469b77,_0x385819){const _0x176443=a2_0x3c2ece,_0x2b9272=parseFloat(_0x469b77[_0x176443(0x1e1)])||0x3e8,_0x50e221=calculatePlayerTemperature(_0x385819[_0x176443(0x264)]),_0x57d21e=_0x50e221[_0x176443(0x256)],_0x218d1b=_0x50e221[_0x176443(0x22d)];return _0x176443(0x20a)+_0x469b77[_0x176443(0x223)]+_0x176443(0x240)+encodeURIComponent(_0x469b77[_0x176443(0x1e3)])+_0x176443(0x235)+_0x57d21e+_0x176443(0x276)+_0x50e221[_0x176443(0x228)]+_0x176443(0x1f1)+_0x469b77[_0x176443(0x1e3)]+_0x176443(0x22b)+(_0x218d1b?_0x176443(0x23a)+_0x50e221[_0x176443(0x228)]+'\x22>'+_0x218d1b+_0x176443(0x1fe):'')+_0x176443(0x241)+_0x57d21e+_0x176443(0x221)+_0x2b9272+_0x176443(0x23b)+_0x385819[_0x176443(0x1f3)]+_0x176443(0x265)+_0x385819[_0x176443(0x1db)]+_0x176443(0x265)+_0x385819[_0x176443(0x25f)]+_0x176443(0x265)+(_0x385819[_0x176443(0x22a)]||'-')+_0x176443(0x265)+_0x385819[_0x176443(0x270)]+_0x176443(0x252)+_0x385819[_0x176443(0x23d)]+_0x176443(0x251);}async function loadTokensAsyncFFA(_0x587df4,_0x119aeb,_0x27f1b5,_0x253da6){const _0x47aab6=a2_0x3c2ece;try{const _0x224a7b=await getTokensByUsernames(_0x253da6);enhanceLadderWithTokensFFA(_0x587df4,_0x119aeb,_0x27f1b5,_0x224a7b);}catch(_0x2fd6f8){console[_0x47aab6(0x225)](_0x47aab6(0x26d),_0x2fd6f8);}}function enhanceLadderWithTokensFFA(_0x41eda8,_0x5319b2,_0x3c128b,_0x2256ff){const _0x927ced=a2_0x3c2ece,_0x3a6c6d=_0x41eda8[_0x927ced(0x254)]('tr');_0x5319b2[_0x927ced(0x25e)]((_0x515c67,_0x3fb0f5)=>{const _0x74190d=_0x927ced;if(_0x3fb0f5>=_0x3a6c6d[_0x74190d(0x271)])return;const _0x7430db=_0x3a6c6d[_0x3fb0f5],_0x3f8b06=_0x7430db[_0x74190d(0x21e)](_0x74190d(0x239)),_0x1ec11d=_0x7430db[_0x74190d(0x21e)](_0x74190d(0x1f2));_0x515c67[_0x74190d(0x1df)]&&_0x3f8b06&&(_0x3f8b06[_0x74190d(0x1ef)]=_0x74190d(0x278)+_0x515c67[_0x74190d(0x1df)][_0x74190d(0x1f6)]()+_0x74190d(0x274)+_0x515c67[_0x74190d(0x1df)]+_0x74190d(0x22c));const _0x452e64=_0x2256ff[_0x74190d(0x25c)](_0x515c67[_0x74190d(0x1e3)])||[],_0x2e7edb=getPrimaryDisplayToken(_0x452e64);_0x2e7edb&&_0x1ec11d&&(_0x1ec11d[_0x74190d(0x1ef)]=_0x74190d(0x217)+_0x2e7edb[_0x74190d(0x242)]+_0x74190d(0x24d)+_0x2e7edb[_0x74190d(0x228)]+_0x74190d(0x257)+_0x2e7edb[_0x74190d(0x228)]+_0x74190d(0x233));});}function loadEloChangesAsyncFFA(_0x71c42f,_0x2666df){const _0x2b2324=a2_0x3c2ece;getPlayersLastEloChangesFFA(_0x2666df)[_0x2b2324(0x1e7)](_0x146fef=>{const _0x3fde64=_0x2b2324,_0x45e3d7=_0x71c42f[_0x3fde64(0x254)]('tr');_0x45e3d7[_0x3fde64(0x25e)]((_0x3a8ad7,_0x8cf620)=>{const _0x33f7eb=_0x3fde64;if(_0x8cf620>=_0x2666df[_0x33f7eb(0x271)])return;const _0x5b6efa=_0x2666df[_0x8cf620],_0x1164bc=_0x146fef[_0x33f7eb(0x25c)](_0x5b6efa)||0x0,_0x457368=_0x3a8ad7[_0x33f7eb(0x21e)](_0x33f7eb(0x230));if(_0x457368&&_0x1164bc!==0x0){const _0x39f2b6=_0x1164bc>0x0?_0x33f7eb(0x216):_0x33f7eb(0x258),_0x1656f3=_0x1164bc>0x0?'â–²':'â–¼';_0x457368[_0x33f7eb(0x1ef)]=_0x33f7eb(0x210)+_0x39f2b6+_0x33f7eb(0x21d)+_0x1656f3+Math[_0x33f7eb(0x23e)](_0x1164bc)+_0x33f7eb(0x1fe);}});})[_0x2b2324(0x1fa)](_0x144a2d=>{const _0x12c7e7=_0x2b2324;console[_0x12c7e7(0x225)](_0x12c7e7(0x248),_0x144a2d);});}async function getPlayersLastEloChangesFFA(_0x37ee66){const _0x17e809=a2_0x3c2ece,_0x2900c3=new Map();_0x37ee66[_0x17e809(0x25e)](_0x5167d8=>_0x2900c3[_0x17e809(0x20e)](_0x5167d8,0x0));try{const _0x57b766=collection(db,_0x17e809(0x27b)),_0x4310d9=query(_0x57b766,orderBy(_0x17e809(0x26a),_0x17e809(0x200)),limit(0x64)),_0x26556f=await getDocs(_0x4310d9),_0x618c8c=new Map(),_0x2ef133=await getDocs(collection(db,_0x17e809(0x224)));_0x2ef133[_0x17e809(0x25e)](_0x508375=>{const _0x158945=_0x17e809,_0x5af4f8=_0x508375[_0x158945(0x261)]();_0x5af4f8[_0x158945(0x1e3)]&&_0x618c8c[_0x158945(0x20e)](_0x508375['id'],_0x5af4f8[_0x158945(0x1e3)]);});const _0x5d6890=new Map();_0x26556f[_0x17e809(0x25e)](_0x463d3d=>{const _0x36b60c=_0x17e809,_0x3168c6=_0x463d3d[_0x36b60c(0x261)]();let _0x1e478f=null;if(_0x3168c6[_0x36b60c(0x1f9)]&&_0x618c8c[_0x36b60c(0x25d)](_0x3168c6[_0x36b60c(0x1f9)]))_0x1e478f=_0x618c8c[_0x36b60c(0x25c)](_0x3168c6[_0x36b60c(0x1f9)]);else _0x3168c6[_0x36b60c(0x1e3)]&&(_0x1e478f=_0x3168c6[_0x36b60c(0x1e3)]);_0x1e478f&&_0x37ee66[_0x36b60c(0x202)](_0x1e478f)&&!_0x5d6890[_0x36b60c(0x25d)](_0x1e478f)&&_0x5d6890[_0x36b60c(0x20e)](_0x1e478f,_0x3168c6);}),_0x5d6890[_0x17e809(0x25e)]((_0x4a242a,_0x1fe896)=>{const _0x443ae8=_0x17e809,_0x16d022=(_0x4a242a[_0x443ae8(0x21f)]||0x0)-(_0x4a242a[_0x443ae8(0x237)]||0x0);_0x2900c3[_0x443ae8(0x20e)](_0x1fe896,_0x16d022);});}catch(_0x42cbb1){console[_0x17e809(0x225)](_0x17e809(0x24e),_0x42cbb1);}return _0x2900c3;}window[a2_0x3c2ece(0x1f4)]=function(_0x3bff9c=!![]){const _0x30d877=a2_0x3c2ece;typeof displayLadderFFA===_0x30d877(0x206)?displayLadderFFA(_0x3bff9c):console[_0x30d877(0x1e2)](_0x30d877(0x259));};export{displayLadderFFA,fetchBatchMatchStatsFFA,calculatePlayerTemperature,TEMPERATURE_CONFIG};