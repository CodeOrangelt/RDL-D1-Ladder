const a42_0x64a0c4=a42_0x56f6;function a42_0x4237(){const _0x50004c=['error','pfpUrl','stats-matches','winrate','stats-losses','1254252kjgpHo','get','console','nickname','result','Error\x20saving\x20profile.\x20Please\x20try\x20again.','textContent','profile-pictures/','toString','onload','size','{}.constructor(\x22return\x20this\x22)(\x20)','apply','readAsDataURL','search','(((.+)+)+)+$','3692330pfIDmG','profile-preview','loadProfile','__proto__','motto','form','addEventListener','DOMContentLoaded','matches','2099979pIRcdB','log','return\x20(function()\x20','138EkPYVU','table','files','loserUsername','48aYiZyM','change','41657CIeWGW','Please\x20sign\x20in\x20to\x20save\x20your\x20profile','all','preventDefault','4125030WhpoqL','profiles','99dEdoyn','pfpInput','stats-winrate','handleSubmit','winnerScore','toFixed','favoriteMap','player-stats','4824764dFoiug','Profile\x20saved\x20successfully!','pfpPreview','exists','data','constructor','forEach','bind','Error\x20loading\x20profile:','wins','winnerUsername','approvedMatches','src','prototype','toISOString','exception','favorite-weapon','submit','getElementById','handleImageUpload','loadPlayerStats','466669LDBoBv','uid','stats-wins','losses','3ublmSK','Stats\x20calculated:','value','Error\x20saving\x20profile:','favorite-map','setupEventListeners','stats-kd','loserScore','Error\x20loading\x20player\x20stats:'];a42_0x4237=function(){return _0x50004c;};return a42_0x4237();}(function(_0x3064d5,_0x5965dc){const _0x214836=a42_0x56f6,_0x445f06=_0x3064d5();while(!![]){try{const _0x28afe=parseInt(_0x214836(0x8f))/0x1+-parseInt(_0x214836(0xc4))/0x2+parseInt(_0x214836(0xb6))/0x3*(-parseInt(_0x214836(0x9d))/0x4)+-parseInt(_0x214836(0x93))/0x5+parseInt(_0x214836(0x89))/0x6*(parseInt(_0x214836(0xb2))/0x7)+-parseInt(_0x214836(0x8d))/0x8*(parseInt(_0x214836(0xdd))/0x9)+parseInt(_0x214836(0xd4))/0xa*(parseInt(_0x214836(0x95))/0xb);if(_0x28afe===_0x5965dc)break;else _0x445f06['push'](_0x445f06['shift']());}catch(_0x584a15){_0x445f06['push'](_0x445f06['shift']());}}}(a42_0x4237,0xcd06a));const a42_0x1da848=(function(){let _0x2ac6fd=!![];return function(_0x58de49,_0x27eadc){const _0x301042=_0x2ac6fd?function(){if(_0x27eadc){const _0x2f2bd4=_0x27eadc['apply'](_0x58de49,arguments);return _0x27eadc=null,_0x2f2bd4;}}:function(){};return _0x2ac6fd=![],_0x301042;};}()),a42_0x4deb33=a42_0x1da848(this,function(){const _0x1d01c3=a42_0x56f6;return a42_0x4deb33[_0x1d01c3(0xcc)]()[_0x1d01c3(0xd2)]('(((.+)+)+)+$')['toString']()['constructor'](a42_0x4deb33)[_0x1d01c3(0xd2)](_0x1d01c3(0xd3));});a42_0x4deb33();const a42_0x3f2777=(function(){let _0x33d5bd=!![];return function(_0x4f5d1c,_0x38e820){const _0x5c7ba4=_0x33d5bd?function(){const _0x339103=a42_0x56f6;if(_0x38e820){const _0x5690b3=_0x38e820[_0x339103(0xd0)](_0x4f5d1c,arguments);return _0x38e820=null,_0x5690b3;}}:function(){};return _0x33d5bd=![],_0x5c7ba4;};}()),a42_0x4d2ee9=a42_0x3f2777(this,function(){const _0x5da2dc=a42_0x56f6;let _0x48d880;try{const _0x1254eb=Function(_0x5da2dc(0x88)+_0x5da2dc(0xcf)+');');_0x48d880=_0x1254eb();}catch(_0x5832c4){_0x48d880=window;}const _0x54a0ea=_0x48d880[_0x5da2dc(0xc6)]=_0x48d880[_0x5da2dc(0xc6)]||{},_0x5b9ebd=[_0x5da2dc(0x87),'warn','info',_0x5da2dc(0xbf),_0x5da2dc(0xac),_0x5da2dc(0x8a),'trace'];for(let _0x584865=0x0;_0x584865<_0x5b9ebd['length'];_0x584865++){const _0x5ecb6c=a42_0x3f2777[_0x5da2dc(0xa2)][_0x5da2dc(0xaa)][_0x5da2dc(0xa4)](a42_0x3f2777),_0x22b344=_0x5b9ebd[_0x584865],_0x8b472d=_0x54a0ea[_0x22b344]||_0x5ecb6c;_0x5ecb6c[_0x5da2dc(0xd7)]=a42_0x3f2777[_0x5da2dc(0xa4)](a42_0x3f2777),_0x5ecb6c['toString']=_0x8b472d[_0x5da2dc(0xcc)][_0x5da2dc(0xa4)](_0x8b472d),_0x54a0ea[_0x22b344]=_0x5ecb6c;}});a42_0x4d2ee9();import{initializeApp}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js';import{getAuth,onAuthStateChanged}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';function a42_0x56f6(_0x1b6bad,_0x4ebec8){const _0x4e3c33=a42_0x4237();return a42_0x56f6=function(_0x4d2ee9,_0x3f2777){_0x4d2ee9=_0x4d2ee9-0x87;let _0xed4ee4=_0x4e3c33[_0x4d2ee9];return _0xed4ee4;},a42_0x56f6(_0x1b6bad,_0x4ebec8);}import{getFirestore,doc,setDoc,getDoc,collection,getDocs,query,where}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{getStorage,ref,uploadBytes,getDownloadURL}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-storage.js';import{firebaseConfig}from'./firebase-config.js';const app=initializeApp(firebaseConfig),auth=getAuth(app),db=getFirestore(app),storage=getStorage(app);class ProfileManager{constructor(){const _0x11e039=a42_0x56f6;this[_0x11e039(0xd9)]=document[_0x11e039(0xaf)]('profile-form'),this[_0x11e039(0x96)]=document['getElementById']('pfp-upload'),this[_0x11e039(0x9f)]=document[_0x11e039(0xaf)](_0x11e039(0xd5)),this['statsContainer']=document[_0x11e039(0xaf)](_0x11e039(0x9c)),this['setupEventListeners'](),this[_0x11e039(0xd6)]();}[a42_0x64a0c4(0xbb)](){const _0x58610f=a42_0x64a0c4;this[_0x58610f(0x96)][_0x58610f(0xda)](_0x58610f(0x8e),_0x3ff8cb=>this['handleImageUpload'](_0x3ff8cb)),this[_0x58610f(0xd9)][_0x58610f(0xda)](_0x58610f(0xae),_0x25a3f6=>this[_0x58610f(0x98)](_0x25a3f6));}async[a42_0x64a0c4(0xb0)](_0x117af4){const _0x140990=a42_0x64a0c4,_0x2283a8=_0x117af4['target'][_0x140990(0x8b)][0x0];if(_0x2283a8){const _0x5dd77f=new FileReader();_0x5dd77f[_0x140990(0xcd)]=_0x59f03b=>{const _0xe6b3c1=_0x140990;this['pfpPreview'][_0xe6b3c1(0xa9)]=_0x59f03b['target'][_0xe6b3c1(0xc8)];},_0x5dd77f[_0x140990(0xd1)](_0x2283a8);}}async[a42_0x64a0c4(0x98)](_0x6a2ccd){const _0x480e5f=a42_0x64a0c4;_0x6a2ccd[_0x480e5f(0x92)]();const _0x22c7be=auth['currentUser'];if(!_0x22c7be){alert(_0x480e5f(0x90));return;}try{const _0x4163b8=new FormData(this['form']),_0x2ca0f9={'nickname':_0x4163b8[_0x480e5f(0xc5)]('nickname'),'motto':_0x4163b8[_0x480e5f(0xc5)](_0x480e5f(0xd8)),'favoriteMap':_0x4163b8[_0x480e5f(0xc5)](_0x480e5f(0xba)),'favoriteWeapon':_0x4163b8[_0x480e5f(0xc5)](_0x480e5f(0xad)),'updatedAt':new Date()[_0x480e5f(0xab)]()},_0x55bec6=this[_0x480e5f(0x96)][_0x480e5f(0x8b)][0x0];if(_0x55bec6){const _0x22e37a=ref(storage,_0x480e5f(0xcb)+_0x22c7be[_0x480e5f(0xb3)]);await uploadBytes(_0x22e37a,_0x55bec6),_0x2ca0f9[_0x480e5f(0xc0)]=await getDownloadURL(_0x22e37a);}await setDoc(doc(db,_0x480e5f(0x94),_0x22c7be[_0x480e5f(0xb3)]),_0x2ca0f9),alert(_0x480e5f(0x9e));}catch(_0x353e6d){console[_0x480e5f(0xbf)](_0x480e5f(0xb9),_0x353e6d),alert(_0x480e5f(0xc9));}}async[a42_0x64a0c4(0xd6)](){onAuthStateChanged(auth,async _0x5c974a=>{const _0x4f4134=a42_0x56f6;if(_0x5c974a)try{const _0x1072b9=await getDoc(doc(db,_0x4f4134(0x94),_0x5c974a[_0x4f4134(0xb3)]));if(_0x1072b9[_0x4f4134(0xa0)]()){const _0x3f9c6f=_0x1072b9['data']();document[_0x4f4134(0xaf)](_0x4f4134(0xc7))[_0x4f4134(0xb8)]=_0x3f9c6f[_0x4f4134(0xc7)]||'',document[_0x4f4134(0xaf)](_0x4f4134(0xd8))[_0x4f4134(0xb8)]=_0x3f9c6f[_0x4f4134(0xd8)]||'',document['getElementById'](_0x4f4134(0xba))['value']=_0x3f9c6f[_0x4f4134(0x9b)]||'',document[_0x4f4134(0xaf)](_0x4f4134(0xad))[_0x4f4134(0xb8)]=_0x3f9c6f['favoriteWeapon']||'',_0x3f9c6f[_0x4f4134(0xc0)]&&(this[_0x4f4134(0x9f)]['src']=_0x3f9c6f[_0x4f4134(0xc0)]),await this['loadPlayerStats'](_0x3f9c6f['nickname']);}}catch(_0xadc983){console['error'](_0x4f4134(0xa5),_0xadc983);}});}async[a42_0x64a0c4(0xb1)](_0xf5e4df){const _0x722a00=a42_0x64a0c4;if(!_0xf5e4df)return;try{const _0x400c75=collection(db,_0x722a00(0xa8)),[_0x4a9c80,_0x212582]=await Promise[_0x722a00(0x91)]([getDocs(query(_0x400c75,where(_0x722a00(0xa7),'==',_0xf5e4df))),getDocs(query(_0x400c75,where(_0x722a00(0x8c),'==',_0xf5e4df)))]),_0x2a8638=_0x4a9c80['size'],_0x21c027=_0x212582[_0x722a00(0xce)],_0x198cea=_0x2a8638+_0x21c027;let _0x5b4a65=0x0,_0x267fd3=0x0;_0x4a9c80[_0x722a00(0xa3)](_0x234afe=>{const _0x39bf38=_0x722a00,_0x8c83da=_0x234afe[_0x39bf38(0xa1)]();if(_0x8c83da[_0x39bf38(0x99)])_0x5b4a65+=parseInt(_0x8c83da[_0x39bf38(0x99)]);if(_0x8c83da[_0x39bf38(0xbd)])_0x267fd3+=parseInt(_0x8c83da[_0x39bf38(0xbd)]);}),_0x212582[_0x722a00(0xa3)](_0x4ad753=>{const _0x5ec23a=_0x722a00,_0x49ff14=_0x4ad753[_0x5ec23a(0xa1)]();if(_0x49ff14[_0x5ec23a(0xbd)])_0x5b4a65+=parseInt(_0x49ff14[_0x5ec23a(0xbd)]);if(_0x49ff14[_0x5ec23a(0x99)])_0x267fd3+=parseInt(_0x49ff14[_0x5ec23a(0x99)]);});const _0x3abba2=_0x267fd3===0x0?_0x5b4a65[_0x722a00(0x9a)](0x2):(_0x5b4a65/_0x267fd3)[_0x722a00(0x9a)](0x2),_0x317aa0=_0x198cea===0x0?'0':(_0x2a8638/_0x198cea*0x64)[_0x722a00(0x9a)](0x1);console[_0x722a00(0x87)](_0x722a00(0xb7),{'totalMatches':_0x198cea,'wins':_0x2a8638,'losses':_0x21c027,'totalKills':_0x5b4a65,'totalDeaths':_0x267fd3,'kdRatio':_0x3abba2,'winRate':_0x317aa0}),document[_0x722a00(0xaf)](_0x722a00(0xc1))[_0x722a00(0xca)]=_0x198cea,document[_0x722a00(0xaf)](_0x722a00(0xb4))['textContent']=_0x2a8638,document[_0x722a00(0xaf)](_0x722a00(0xc3))['textContent']=_0x21c027,document[_0x722a00(0xaf)](_0x722a00(0xbc))[_0x722a00(0xca)]=_0x3abba2,document[_0x722a00(0xaf)](_0x722a00(0x97))['textContent']=_0x317aa0+'%';}catch(_0x1ce2ec){console[_0x722a00(0xbf)](_0x722a00(0xbe),_0x1ce2ec),[_0x722a00(0xdc),_0x722a00(0xa6),_0x722a00(0xb5),'kd',_0x722a00(0xc2)][_0x722a00(0xa3)](_0x36220a=>{document['getElementById']('stats-'+_0x36220a)['textContent']='-';});}}}document['addEventListener'](a42_0x64a0c4(0xdb),()=>{new ProfileManager();});