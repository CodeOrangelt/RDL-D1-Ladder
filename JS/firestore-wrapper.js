const a20_0x3e6330=a20_0x2257,a20_0x311ca0=(function(){let _0x22fd98=!![];return function(_0x2aba3e,_0x19fe4b){const _0x26366a=_0x22fd98?function(){if(_0x19fe4b){const _0x39595c=_0x19fe4b['apply'](_0x2aba3e,arguments);return _0x19fe4b=null,_0x39595c;}}:function(){};return _0x22fd98=![],_0x26366a;};}()),a20_0x1b44f3=a20_0x311ca0(this,function(){const _0xb17d25=a20_0x2257;let _0x39c07e;try{const _0x5db815=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x39c07e=_0x5db815();}catch(_0x8e58d7){_0x39c07e=window;}const _0x46a053=_0x39c07e['console']=_0x39c07e['console']||{},_0x5e3321=['log','warn','info',_0xb17d25(0xb8),_0xb17d25(0xb4),'table','trace'];for(let _0x5cd13d=0x0;_0x5cd13d<_0x5e3321['length'];_0x5cd13d++){const _0x26ebcf=a20_0x311ca0[_0xb17d25(0xb5)]['prototype'][_0xb17d25(0xaf)](a20_0x311ca0),_0x325968=_0x5e3321[_0x5cd13d],_0x47ee20=_0x46a053[_0x325968]||_0x26ebcf;_0x26ebcf['__proto__']=a20_0x311ca0['bind'](a20_0x311ca0),_0x26ebcf['toString']=_0x47ee20['toString']['bind'](_0x47ee20),_0x46a053[_0x325968]=_0x26ebcf;}});a20_0x1b44f3();import{collection as a20_0x208d0e,doc as a20_0x586ee5,getDoc as a20_0x55c39b,getDocs as a20_0xd2cce7,query as a20_0x42c70c,where as a20_0x3c3857,orderBy as a20_0x45e478,limit as a20_0x17535f,startAfter as a20_0x2cabfa,addDoc as a20_0x2cd67c,updateDoc as a20_0x4e8833,deleteDoc as a20_0x40921f,writeBatch as a20_0x57741f,serverTimestamp as a20_0x379e38,Timestamp as a20_0x4cc28e,getCountFromServer as a20_0x4a3f2d,setDoc as a20_0xbdc0e0,enableNetwork,disableNetwork}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db}from'./firebase-config.js';function a20_0xa4e6(){const _0x5ac20e=['RDL_NETWORK_ERROR','rdlFirestore','length','string','includes','Caught\x20network\x20error:','Firestore\x20operation\x20blocked\x20-\x20network\x20error','resource-exhausted','code','Failed\x20to\x20enable\x20network:','bind','commit','message','network-error','Caught\x20session\x20suspended\x20error:','exception','constructor','session-suspended','Network\x20connection\x20error.\x20Please\x20check\x20your\x20internet\x20connection.','error','addEventListener','apply'];a20_0xa4e6=function(){return _0x5ac20e;};return a20_0xa4e6();}import{handleNetworkError}from'./idle-timeout.js';function checkSessionStatus(){const _0x1b4614=a20_0x2257;if(window['RDL_SESSION_SUSPENDED']){console['warn']('Firestore\x20operation\x20blocked\x20-\x20session\x20suspended');const _0xf1861c=new Error('Session\x20suspended\x20due\x20to\x20inactivity.\x20Please\x20resume\x20your\x20session.');_0xf1861c['code']=_0x1b4614(0xb6);throw _0xf1861c;}if(window[_0x1b4614(0xa5)]){console['warn'](_0x1b4614(0xab));const _0x40a7e1=new Error(_0x1b4614(0xb7));_0x40a7e1['code']='network-error';throw _0x40a7e1;}}async function handleFirestoreError(_0x100c1c){const _0x4c8b9f=a20_0x2257;console[_0x4c8b9f(0xb8)]('Firestore\x20operation\x20failed:',_0x100c1c);if(_0x100c1c&&(_0x100c1c['code']==='unavailable'||_0x100c1c[_0x4c8b9f(0xad)]===_0x4c8b9f(0xac)||_0x100c1c[_0x4c8b9f(0xb1)]&&_0x100c1c['message'][_0x4c8b9f(0xa9)]('network')||_0x100c1c['code']&&_0x100c1c['code']['includes']('network')))return console['warn']('Network-related\x20error\x20detected,\x20suspending\x20operations'),handleNetworkError(),!![];return![];}export const rdlFirestore={'collection':function(){const _0x2c6d3b=a20_0x2257;if(arguments['length']===0x1){if(typeof arguments[0x0]===_0x2c6d3b(0xa8))return a20_0x208d0e(db,arguments[0x0]);return arguments[0x0];}else{if(arguments[_0x2c6d3b(0xa7)]===0x2&&arguments[0x0]===db&&typeof arguments[0x1]==='string')return a20_0x208d0e(db,arguments[0x1]);}return a20_0x208d0e['apply'](null,arguments);},'doc':function(){const _0x2a3c05=a20_0x2257;if(arguments['length']===0x2){if(typeof arguments[0x0]===_0x2a3c05(0xa8)&&typeof arguments[0x1]==='string')return a20_0x586ee5(db,arguments[0x0],arguments[0x1]);return a20_0x586ee5['apply'](null,arguments);}else{if(arguments['length']===0x3&&arguments[0x0]===db)return a20_0x586ee5[_0x2a3c05(0xba)](null,arguments);}return a20_0x586ee5[_0x2a3c05(0xba)](null,arguments);},'query':function(){return a20_0x42c70c['apply'](null,arguments);},'where':function(){const _0x7051ab=a20_0x2257;return a20_0x3c3857[_0x7051ab(0xba)](null,arguments);},'orderBy':function(){const _0x237e40=a20_0x2257;return a20_0x45e478[_0x237e40(0xba)](null,arguments);},'limit':function(_0x25087e){return a20_0x17535f(_0x25087e);},'startAfter':function(_0x520acb){return a20_0x2cabfa(_0x520acb);},'getDoc':async function(_0x3d014b){const _0x157501=a20_0x2257;try{return checkSessionStatus(),await a20_0x55c39b(_0x3d014b);}catch(_0x43968a){const _0x49bfb7=await handleFirestoreError(_0x43968a);_0x49bfb7&&(_0x43968a['code']=_0x157501(0xb2));throw _0x43968a;}},'getDocs':async function(_0x5e54cb){const _0x28f852=a20_0x2257;try{return checkSessionStatus(),await a20_0xd2cce7(_0x5e54cb);}catch(_0x1d83c4){const _0x484a12=await handleFirestoreError(_0x1d83c4);_0x484a12&&(_0x1d83c4[_0x28f852(0xad)]='network-error');throw _0x1d83c4;}},'getCountFromServer':async function(_0x81e693){try{return checkSessionStatus(),await a20_0x4a3f2d(_0x81e693);}catch(_0x4b8891){const _0x2f765d=await handleFirestoreError(_0x4b8891);_0x2f765d&&(_0x4b8891['code']='network-error');throw _0x4b8891;}},'addDoc':async function(_0x210803,_0x81e1ae){const _0x486bd0=a20_0x2257;try{return checkSessionStatus(),await a20_0x2cd67c(_0x210803,_0x81e1ae);}catch(_0x1200cd){const _0x1b988d=await handleFirestoreError(_0x1200cd);_0x1b988d&&(_0x1200cd[_0x486bd0(0xad)]='network-error');throw _0x1200cd;}},'setDoc':async function(_0xd88871,_0x7155cb,_0x55f13d){try{return checkSessionStatus(),await a20_0xbdc0e0(_0xd88871,_0x7155cb,_0x55f13d);}catch(_0x346bba){const _0xb1a718=await handleFirestoreError(_0x346bba);_0xb1a718&&(_0x346bba['code']='network-error');throw _0x346bba;}},'updateDoc':async function(_0x3f2e8d,_0xa32c0){const _0x2e353b=a20_0x2257;try{return checkSessionStatus(),await a20_0x4e8833(_0x3f2e8d,_0xa32c0);}catch(_0x4b05d5){const _0x27b746=await handleFirestoreError(_0x4b05d5);_0x27b746&&(_0x4b05d5[_0x2e353b(0xad)]='network-error');throw _0x4b05d5;}},'deleteDoc':async function(_0x26846b){try{return checkSessionStatus(),await a20_0x40921f(_0x26846b);}catch(_0x20e921){const _0x2ef63f=await handleFirestoreError(_0x20e921);_0x2ef63f&&(_0x20e921['code']='network-error');throw _0x20e921;}},'writeBatch':function(){const _0x3ec9a4=a20_0x2257;checkSessionStatus();const _0x17eacf=a20_0x57741f(db),_0x490901=_0x17eacf[_0x3ec9a4(0xb0)]['bind'](_0x17eacf);return _0x17eacf[_0x3ec9a4(0xb0)]=async function(){try{return checkSessionStatus(),await _0x490901();}catch(_0x599de1){const _0x1ae2dd=await handleFirestoreError(_0x599de1);_0x1ae2dd&&(_0x599de1['code']='network-error');throw _0x599de1;}},_0x17eacf;},'serverTimestamp':function(){return a20_0x379e38();},'Timestamp':{'now':function(){return a20_0x4cc28e['now']();},'fromDate':function(_0x192b99){return a20_0x4cc28e['fromDate'](_0x192b99);}},'enableNetwork':async function(){const _0xbee34e=a20_0x2257;try{return await enableNetwork(db);}catch(_0x3b719d){console[_0xbee34e(0xb8)](_0xbee34e(0xae),_0x3b719d);throw _0x3b719d;}},'disableNetwork':async function(){try{return await disableNetwork(db);}catch(_0x2e9aaf){console['error']('Failed\x20to\x20disable\x20network:',_0x2e9aaf);throw _0x2e9aaf;}}};function a20_0x2257(_0x35dedd,_0x57ae7d){const _0x1b44f3=a20_0xa4e6();return a20_0x2257=function(_0x311ca0,_0x245ac1){_0x311ca0=_0x311ca0-0xa5;let _0xa4e6ae=_0x1b44f3[_0x311ca0];return _0xa4e6ae;},a20_0x2257(_0x35dedd,_0x57ae7d);}window[a20_0x3e6330(0xb9)]('error',function(_0x41a5b3){const _0x22d654=a20_0x3e6330;if(_0x41a5b3[_0x22d654(0xb8)]){if(_0x41a5b3['error'][_0x22d654(0xad)]==='session-suspended')_0x41a5b3['preventDefault'](),console['log'](_0x22d654(0xb3),_0x41a5b3['error']['message']);else(_0x41a5b3[_0x22d654(0xb8)]['code']==='unavailable'||_0x41a5b3['error']['code']==='resource-exhausted'||_0x41a5b3['error']['message']&&_0x41a5b3['error']['message']['includes']('network')||_0x41a5b3[_0x22d654(0xb8)]['code']&&_0x41a5b3['error']['code']['includes']('network'))&&(_0x41a5b3['preventDefault'](),console['log'](_0x22d654(0xaa),_0x41a5b3['error']['message']),handleNetworkError());}}),window[a20_0x3e6330(0xa6)]=rdlFirestore,console['log']('Firestore\x20wrapper\x20initialized\x20with\x20session\x20checking\x20and\x20network\x20error\x20handling');