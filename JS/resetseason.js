const a50_0x12723f=(function(){let _0x4f8e92=!![];return function(_0x5bc098,_0x13815b){const _0x142c2e=_0x4f8e92?function(){if(_0x13815b){const _0x42a5fe=_0x13815b['apply'](_0x5bc098,arguments);return _0x13815b=null,_0x42a5fe;}}:function(){};return _0x4f8e92=![],_0x142c2e;};}()),a50_0x41b033=a50_0x12723f(this,function(){const _0x339678=a50_0x1f0b,_0x550813=function(){let _0xdb75f1;try{_0xdb75f1=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x2716a0){_0xdb75f1=window;}return _0xdb75f1;},_0x2e74bd=_0x550813(),_0x5a86dc=_0x2e74bd['console']=_0x2e74bd['console']||{},_0x23ed7e=['log','warn','info',_0x339678(0x96),'exception','table','trace'];for(let _0x177e5a=0x0;_0x177e5a<_0x23ed7e['length'];_0x177e5a++){const _0x5e35e6=a50_0x12723f['constructor']['prototype']['bind'](a50_0x12723f),_0x595794=_0x23ed7e[_0x177e5a],_0x91d790=_0x5a86dc[_0x595794]||_0x5e35e6;_0x5e35e6['__proto__']=a50_0x12723f['bind'](a50_0x12723f),_0x5e35e6['toString']=_0x91d790['toString']['bind'](_0x91d790),_0x5a86dc[_0x595794]=_0x5e35e6;}});function a50_0x2cc6(){const _0x3546da=['forEach','wins','season0','desc','season0records','Successfully\x20archived\x20records','error'];a50_0x2cc6=function(){return _0x3546da;};return a50_0x2cc6();}a50_0x41b033();import{db}from'./firebase-config.js';function a50_0x1f0b(_0x54ffa6,_0x2a11e0){const _0x41b033=a50_0x2cc6();return a50_0x1f0b=function(_0x12723f,_0x5cd12d){_0x12723f=_0x12723f-0x90;let _0x2cc609=_0x41b033[_0x12723f];return _0x2cc609;},a50_0x1f0b(_0x54ffa6,_0x2a11e0);}import{collection,getDocs,setDoc,doc,query,orderBy}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';async function archiveSeason0(){const _0x263449=a50_0x1f0b;try{const _0x4e6eb8=await getDocs(collection(db,'players'));for(const _0x2f25a6 of _0x4e6eb8['docs']){const _0x27273e=_0x2f25a6['data']();await setDoc(doc(db,_0x263449(0x92),_0x2f25a6['id']),{..._0x27273e,'archivedAt':new Date(),'originalId':_0x2f25a6['id']});}return console['log']('Successfully\x20archived\x20players\x20to\x20season0'),!![];}catch(_0xcb9288){console['error']('Error\x20archiving\x20season:',_0xcb9288);throw _0xcb9288;}}async function archiveRecords(){const _0x159b85=a50_0x1f0b;try{const _0x3a0edd=collection(db,'records'),_0x33c516=query(_0x3a0edd,orderBy(_0x159b85(0x91),_0x159b85(0x93))),_0x3ed0cf=await getDocs(_0x33c516),_0x23b4aa=[];return _0x3ed0cf[_0x159b85(0x90)](_0x5db65e=>{const _0x3a5e0e=_0x5db65e['data']();_0x23b4aa['push']({'username':_0x3a5e0e['username'],'wins':_0x3a5e0e['wins']||0x0,'losses':_0x3a5e0e['losses']||0x0,'winRate':_0x3a5e0e['winRate']||0x0,'timestamp':new Date()});}),await setDoc(doc(db,_0x159b85(0x94),'snapshot'),{'records':_0x23b4aa,'archivedAt':new Date()}),console['log'](_0x159b85(0x95)),!![];}catch(_0xf0fb8){console['error']('Error\x20archiving\x20records:',_0xf0fb8);throw _0xf0fb8;}}export{archiveSeason0,archiveRecords};