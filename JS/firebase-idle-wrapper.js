const a19l=a19b;(function(a,b){const i=a19b,c=a();while(!![]){try{const d=-parseInt(i(0x1a4))/0x1*(parseInt(i(0x195))/0x2)+-parseInt(i(0x1c0))/0x3+-parseInt(i(0x197))/0x4+parseInt(i(0x1ac))/0x5*(parseInt(i(0x194))/0x6)+-parseInt(i(0x1a0))/0x7*(-parseInt(i(0x1af))/0x8)+parseInt(i(0x191))/0x9*(-parseInt(i(0x1d3))/0xa)+parseInt(i(0x1a9))/0xb;if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a19a,0x3e121));import{auth,db}from'./firebase-config.js';import{handleNetworkError}from'./idle-timeout.js';function a19a(){const E=['w0zPCMvIyxnLswrSzv0GvevtvcbgquLmruqGlsbYzwfKihn1y2nLzwrLzcbKDxjPBMCGC3vZCgvUC2LVBG','ig9WzxjHDgLVBNm6ia','yMXVy2TLze9WzxjHDgLVBNm','C2fMzu9WzxjHDgLVBG','y3jLyxrLtgLZDgvUzxi','yM9KEq','zxjYB3i','C3vZCgvUzfnLC3nPB24','DgHLBG','w0zPCMvIyxnLswrSzv0GtgLZDgvUzxiGy3jLyxrLzdOG','y3jLyxrLrwXLBwvUDa','x3n1C3bLBMrLzeXPC3rLBMvYCW','ywXS','w0zPCMvIyxnLswrSzv0Gu3vZCgvUC2LVBIb0zxn0ignVBxbSzxrL','Bg9N','ndeWmdC5wuDfELPw','BM93','DxbKyxrLrg9JDw1LBNq','z2v0rwXLBwvUDej5swq','CMvTB3zL','D2fYBG','w0zPCMvIyxnLswrSzv0GrxjYB3iGDw5ZDwjZy3jPyMLUzYbSAxn0zw5LCIa','zM9YrwfJAa','C3vIC3rY','w0zPCMvIyxnLswrSzv0Gt3bLCMf0Aw9UigjSB2nRzwqGlsbUzxr3B3jRigvYCM9Y','w0zPCMvIyxnLswrSzv0GtgLZDgvUzxiGCMvTB3zLzdOG','w0zPCMvIyxnLswrSzv0Gu3vZCgvUzgLUzYbHBgWGywn0AxzLigXPC3rLBMvYCZO','C2v0','zw5HyMXLza','ig9WzxjHDgLVBNmGzhvYAw5NigLKBguGC3rHDgu','z2v0rg9JDw1LBNq','zgvIDwC','rxHLy3v0Aw5NigrLBgf5zwqG','w0zPCMvIyxnLswrSzv0Gu3vZCgvUzgLUzYbSAxn0zw5LCJO','mZa2mgHXq2zVCW','ywrK','z2v0rg9JDw1LBNrZ','w0zPCMvIyxnLswrSzv0GuMvZDw1PBMCGBgLZDgvUzxi6','w0zPCMvIyxnLswrSzv0GrxjYB3iGCMvZDw1PBMCGBgLZDgvUzxi6','B3bLCMf0Aw9UvhLWzq','zMLUywXSEq','w0zPCMvIyxnLswrSzv0GrxjYB3iGzhvYAw5NihrLC3qGkgv4CgvJDgvKktO','mtmXndLssLrhz2O','zw5HyMXLrgvIDwC','w0zPCMvIyxnLswrSzv0GqMXVy2TLzca','mte3mJrMChPky2G','mtq0meTnq1fXua','y2HLy2TtzxnZAw9Uqwn0AxzL','ndG1nJa0vNPwC1b2','w0zPCMvIyxnLswrSzv0Gu3vJy2vZC2z1BgX5ihn1C3bLBMrLzcbSAxn0zw5LCJO','CgvUzgLUz1rPBwvVDxq','CMvZB3vYy2uTzxHOyxvZDgvK','w0zPCMvIyxnLswrSzv0GtwfUDwfSBhKGDw5ZDwjZy3jPyMLUzYbSAxn0zw5LCJOG','Dw5HDMfPBgfIBgu','w0zPCMvIyxnLswrSzv0Gqwn0AxzLigXPC3rLBMvYCZOG','zgLZywjSzwq','CMvZDw1LqwXStgLZDgvUzxjZ','ntG4n2TACwzXqq','zgvSzxrLrg9JDw1LBNq','ywn0AxzLtgLZDgvUzxjZ','y2f0y2G','nJCXsuz5B1nx','zMLYzwjHC2uTC3vZCgvUzc1PBMrPy2f0B3i','w0zPCMvIyxnLswrSzv0GtM8GBgLZDgvUzxjZihrVihjLC3vTzq','z2v0','CgvUzgLUz09WzxjHDgLVBNm','otaWntiZofjZCMrOBW','y2XLyxi','Dgv4DenVBNrLBNq','nJaWy2XrB0Pe','cIaGicaGicaGicaGicaGicbWB3nPDgLVBJOGzML4zwq7cIaGicaGicaGicaGicaGicbIB3r0B206ideWChG7cIaGicaGicaGicaGicaGicbYAwDODdOGmtbWEdSkicaGicaGicaGicaGicaGigjHy2TNCM91BMqTy29SB3i6icmZmZm7cIaGicaGicaGicaGicaGicbJB2XVCJOGi2zMntu1ntSkicaGicaGicaGicaGicaGihbHzgrPBMC6idvWEcaXmhb4oWOGicaGicaGicaGicaGicaGyM9YzgvYlxjHzgL1CZOGnhb4oWOGicaGicaGicaGicaGicaGzM9UDc1ZAxPLoIaXmNb4oWOGicaGicaGicaGicaGicaGEI1PBMrLEdOGotK5otSkicaGicaGicaGicaG','uKrmx1nfu1njt05Fu1vtuevoreve','mZCWngDbwvvSsG','C2L6zq'];a19a=function(){return E;};return a19a();}function a19b(a,b){const c=a19a();return a19b=function(d,e){d=d-0x18f;let f=c[d];if(a19b['FWhxBB']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a19b['dFgBzt']=g,a=arguments,a19b['FWhxBB']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a19b['dFgBzt'](f),a[i]=f):f=j,f;},a19b(a,b);}import{getDoc,getDocs,collection,doc,query,where,orderBy,limit,startAfter,addDoc,setDoc,updateDoc,deleteDoc,onSnapshot,getCountFromServer,writeBatch,serverTimestamp,Timestamp}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';class FirebaseIdleWrapper{constructor(){const j=a19b;this['activeListeners']=new Map(),this['pendingOperations']=new Map(),this['pendingTimeout']=null,this[j(0x1b3)]=0x0,this[j(0x1d0)]=![];}['checkSessionActive'](){const k=a19b;if(window[k(0x1ae)]===!![])return console[k(0x1bf)]('[FirebaseIdle]\x20Operation\x20blocked\x20-\x20session\x20idle'),this[k(0x1b3)]=(this['blockedOperations']||0x0)+0x1,this[k(0x1b3)]%0xa===0x0&&console['warn'](k(0x193)+this[k(0x1b3)]+k(0x1ce)),![];if(window['RDL_NETWORK_ERROR']===!![])return console['log'](k(0x1c9)),![];return!![];}async[a19l(0x1b4)](a,b,...c){const m=a19l;if(!this[m(0x196)]()){const d=b+'-'+Date[m(0x1c1)]()+'-'+Math['random']()['toString'](0x24)['substring'](0x2,0x9);return this[m(0x1a8)][m(0x1cc)](d,{'operation':a,'operationType':b,'args':c}),!this[m(0x199)]&&(this['pendingTimeout']=setTimeout(()=>{this['pendingOperations']['clear'](),this['pendingTimeout']=null;},0x5*0x3c*0x3e8)),null;}try{return await a(...c);}catch(e){if(e['code']===m(0x19c)||e['code']===m(0x19a)||e['message']&&e['message']['includes']('network'))return handleNetworkError(),null;throw e;}}async[a19l(0x1cf)](a){const n=a19l;return this['safeOperation'](getDoc,n(0x1a7),a);}async[a19l(0x1d5)](a){return this['safeOperation'](getDocs,'query',a);}async['addDocument'](a,b){const o=a19l;return this[o(0x1b4)](addDoc,o(0x1d4),a,b);}async['setDocument'](a,b,c={}){return this['safeOperation'](setDoc,'set',a,b,c);}async[a19l(0x1c2)](a,b){return this['safeOperation'](updateDoc,'update',a,b);}async[a19l(0x1a1)](a){const p=a19l;return this[p(0x1b4)](deleteDoc,'delete',a);}['suspendAllListeners'](){const q=a19l;console[q(0x1bf)](q(0x1cb),this[q(0x1a2)]['size']),this['_suspendedListeners']=new Map(this['activeListeners']),this[q(0x1a2)][q(0x1c7)]((a,b)=>{const r=q;console[r(0x1bf)](r(0x1d2),b);if(typeof a==='function')try{a(),console['log'](r(0x198),b);}catch(c){console[r(0x1b7)]('[FirebaseIdle]\x20Error\x20suspending\x20listener:',b,c);}}),this['activeListeners']['clear']();if(this[q(0x1d0)]){const a=document[q(0x1bb)]('div');a['id']=q(0x1a5),a['style']['cssText']=q(0x1ad),a[q(0x1ab)]='Firebase:\x20Suspended',document[q(0x1b6)]['appendChild'](a);}console[q(0x1bf)]('[FirebaseIdle]\x20All\x20listeners\x20suspended');}[a19l(0x19f)](){const s=a19l;if(!this[s(0x1bc)]||this['_suspendedListeners'][s(0x1b0)]===0x0){console['log'](s(0x1a6));return;}console['log']('[FirebaseIdle]\x20Resuming\x20listeners:',this['_suspendedListeners']['size']),this['_suspendedListeners']['forEach']((b,c)=>{const t=s;console['log'](t(0x1d6),c);try{if(typeof b==='function'){console[t(0x1c5)]('[FirebaseIdle]\x20Cannot\x20resume\x20listener\x20directly:',c);return;}const {query:d,callback:e,options:f}=b;if(d&&e){const g=onSnapshot(d,e,f||{});this[t(0x1a2)][t(0x1cc)](c,g),console['log']('[FirebaseIdle]\x20Successfully\x20resumed\x20listener:',c);}}catch(h){console[t(0x1b7)](t(0x1d7),c,h);}}),this[s(0x1bc)][s(0x1aa)]();const a=document[s(0x1c3)]('firebase-suspend-indicator');a&&a[s(0x1c4)](),console['log']('[FirebaseIdle]\x20Listeners\x20resumed');}[a19l(0x1b5)](a,b,c={},d=null){const u=a19l,e=d||'listener_'+Date['now']()+'_'+Math['random']()['toString'](0x24)[u(0x1c8)](0x2,0x9);this['debug']&&console[u(0x1bf)]('[FirebaseIdle]\x20Creating\x20listener:\x20'+e);if(!this[u(0x196)]())return console[u(0x1bf)]('[FirebaseIdle]\x20Session\x20suspended,\x20not\x20creating\x20listener:\x20'+e),()=>{};try{const f=onSnapshot(a,b,c);return this[u(0x1a2)][u(0x1cc)](e,{'unsubscribe':f,'query':a,'callback':b,'options':c}),this['debug']&&(console['log'](u(0x1ba)+e),console[u(0x1bf)](u(0x19d)+this[u(0x1a2)]['size'])),()=>{const v=u;this[v(0x1d0)]&&console[v(0x1bf)](v(0x19b)+e);try{f(),this[v(0x1a2)]['delete'](e),this['debug']&&(console['log'](v(0x1ca)+e),console[v(0x1bf)]('[FirebaseIdle]\x20Active\x20listeners:\x20'+this['activeListeners']['size']));}catch(g){console['error'](v(0x1c6)+e+':',g);}};}catch(g){return console['error']('[FirebaseIdle]\x20Error\x20creating\x20listener\x20'+e+':',g),()=>{};}}['executePendingOperations'](a=a19l(0x1bd)){const w=a19l;console[w(0x1bf)]('Executing\x20pending\x20'+a+w(0x1b2)+this['pendingOperations']['size']+'\x20total\x20operations');const b=new Map(this['pendingOperations']);this['pendingOperations']['clear'](),b[w(0x1c7)]((c,d)=>{const x=w;a==='all'||c[x(0x1d8)]===a?(console[x(0x1bf)](x(0x1d1)+c[x(0x1d8)]+'\x20operation'),this['safeOperation'](c['operation'],c[x(0x1d8)],...c['args'])[x(0x1a3)](e=>console[x(0x1b7)]('Error\x20executing\x20pending\x20operation:',e))):this[x(0x1a8)][x(0x1cc)](d,c);});}[a19l(0x192)](a=!![]){const y=a19l;this['debug']=a,console[y(0x1bf)]('[FirebaseIdle]\x20Debug\x20mode\x20'+(a?y(0x1cd):y(0x19e)));if(a){const b=window[y(0x1ae)];window['RDL_SESSION_SUSPENDED']=!![],console['log']('[FirebaseIdle]\x20Testing\x20suspension\x20-\x20attempting\x20read...'),this[y(0x1cf)](doc(db,'system','test'))[y(0x1b9)](c=>{const z=y;console['log'](z(0x1b1),c);})[y(0x1a3)](c=>{const A=y;console['log'](A(0x190),c);})[y(0x18f)](()=>{const B=y;console['log'](B(0x1be)),window['RDL_SESSION_SUSPENDED']=b;});}}}const firebaseIdle=new FirebaseIdleWrapper();export function enhanceIdleTimeout(){const C=a19l,a=window[C(0x1b8)]||function(){},b=window['resumeSession']||function(){};window['suspendSession']=function(){a(),firebaseIdle['suspendAllListeners']();},window['resumeSession']=function(){const D=C;b(),firebaseIdle[D(0x19f)]();};}export default firebaseIdle;