const a38_0xaf3bcf=a38_0x2603,a38_0x214ae6=(function(){let _0x55e8e4=!![];return function(_0x16ce4f,_0x42a6b5){const _0x4669e5=_0x55e8e4?function(){if(_0x42a6b5){const _0x3e0403=_0x42a6b5['apply'](_0x16ce4f,arguments);return _0x42a6b5=null,_0x3e0403;}}:function(){};return _0x55e8e4=![],_0x4669e5;};}()),a38_0x4040bb=a38_0x214ae6(this,function(){const _0x22102b=a38_0x2603,_0x5a3a68=function(){const _0x3cb602=a38_0x2603;let _0xbabdaf;try{_0xbabdaf=Function(_0x3cb602(0x100)+_0x3cb602(0x11a)+');')();}catch(_0x2a40b3){_0xbabdaf=window;}return _0xbabdaf;},_0x134401=_0x5a3a68(),_0x353041=_0x134401[_0x22102b(0x109)]=_0x134401['console']||{},_0x142a17=[_0x22102b(0x113),'warn','info','error','exception','table','trace'];for(let _0x2c95f5=0x0;_0x2c95f5<_0x142a17['length'];_0x2c95f5++){const _0x14c7cf=a38_0x214ae6[_0x22102b(0x10c)]['prototype']['bind'](a38_0x214ae6),_0x3e97b1=_0x142a17[_0x2c95f5],_0x3c327b=_0x353041[_0x3e97b1]||_0x14c7cf;_0x14c7cf[_0x22102b(0x116)]=a38_0x214ae6['bind'](a38_0x214ae6),_0x14c7cf[_0x22102b(0x11e)]=_0x3c327b['toString'][_0x22102b(0x104)](_0x3c327b),_0x353041[_0x3e97b1]=_0x14c7cf;}});a38_0x4040bb();function a38_0x2603(_0x4d3576,_0x5a740b){const _0x4040bb=a38_0x57fc();return a38_0x2603=function(_0x214ae6,_0x3d89ec){_0x214ae6=_0x214ae6-0xff;let _0x57fca2=_0x4040bb[_0x214ae6];return _0x57fca2;},a38_0x2603(_0x4d3576,_0x5a740b);}import{getEloHistory,resetPagination}from'./elo-history.js';function a38_0x57fc(){const _0x349ae1=['Enter','return\x20(function()\x20','length','pagination-wrapper','innerHTML','bind','matchResult','getElementById','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20','prevPage','console','player','N/A','constructor','toDate','error','click','newElo','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','parentNode','log','timestamp','toLocaleString','__proto__','pagination','nextPage','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','{}.constructor(\x22return\x20this\x22)(\x20)','disabled','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','ceil','toString','addEventListener','pageInput','Error\x20displaying\x20ELO\x20history:','value'];a38_0x57fc=function(){return _0x349ae1;};return a38_0x57fc();}let currentPage=0x1,allMatches=[];const matchesPerPage=0xa;async function displayEloHistory(){const _0x5d5eb5=a38_0x2603,_0x243e1f=document['querySelector']('#elo-history\x20tbody'),_0x532fe1=document[_0x5d5eb5(0x106)](_0x5d5eb5(0x117));try{const {entries:_0x3d6f39,hasMore:_0x302d3b}=await getEloHistory();if(_0x3d6f39['length']===0x0){_0x243e1f['innerHTML']='<tr><td\x20colspan=\x226\x22>No\x20ELO\x20history\x20available</td></tr>';return;}allMatches=_0x3d6f39,_0x243e1f[_0x5d5eb5(0x103)]=_0x3d6f39['map'](_0x564fb1=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x564fb1['timestamp']?new Date(_0x564fb1['timestamp'][_0x5d5eb5(0x10d)]())[_0x5d5eb5(0x115)]():_0x5d5eb5(0x10b))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x564fb1[_0x5d5eb5(0x10a)]+_0x5d5eb5(0x111)+_0x564fb1['previousElo']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x564fb1[_0x5d5eb5(0x110)]+_0x5d5eb5(0x111)+(_0x564fb1['change']>0x0?'+'+_0x564fb1['change']:_0x564fb1['change'])+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x564fb1['opponent']+_0x5d5eb5(0x111)+_0x564fb1['matchResult']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''),createPaginationControls();}catch(_0x47d8b5){console[_0x5d5eb5(0x10e)](_0x5d5eb5(0x121),_0x47d8b5),_0x243e1f[_0x5d5eb5(0x103)]='<tr><td\x20colspan=\x226\x22>Error\x20loading\x20ELO\x20history</td></tr>';}}function createPaginationControls(){const _0x4efec5=a38_0x2603,_0x518057=Math[_0x4efec5(0x11d)](allMatches[_0x4efec5(0x101)]/matchesPerPage),_0x453884=document['createElement']('div');_0x453884['className']=_0x4efec5(0x102),_0x453884[_0x4efec5(0x103)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pagination-controls\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22prevPage\x22\x20'+(currentPage===0x1?_0x4efec5(0x11b):'')+'>Previous</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-navigation\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>Page\x20'+currentPage+'\x20of\x20'+_0x518057+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-search\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22pageInput\x22\x20min=\x221\x22\x20max=\x22'+_0x518057+'\x22\x20value=\x22'+currentPage+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goToPage\x22>Go</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22nextPage\x22\x20'+(currentPage===_0x518057?'disabled':'')+'>Next</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x3f7625=document['querySelector']('#elo-history');_0x3f7625[_0x4efec5(0x112)]['insertBefore'](_0x453884,_0x3f7625['nextSibling']),document[_0x4efec5(0x106)](_0x4efec5(0x108))[_0x4efec5(0x11f)]('click',()=>{if(currentPage>0x1)displayMatchesPage(currentPage-0x1);}),document['getElementById'](_0x4efec5(0x118))['addEventListener'](_0x4efec5(0x10f),()=>{if(currentPage<_0x518057)displayMatchesPage(currentPage+0x1);}),document['getElementById']('goToPage')['addEventListener']('click',()=>{const _0x2d9bbb=document['getElementById']('pageInput'),_0x327167=parseInt(_0x2d9bbb['value']);_0x327167>=0x1&&_0x327167<=_0x518057&&displayMatchesPage(_0x327167);}),document['getElementById'](_0x4efec5(0x120))['addEventListener']('keypress',_0x5e6bfd=>{const _0x375ea9=_0x4efec5;if(_0x5e6bfd['key']===_0x375ea9(0xff)){const _0x2bfab2=parseInt(_0x5e6bfd['target'][_0x375ea9(0x122)]);_0x2bfab2>=0x1&&_0x2bfab2<=_0x518057&&displayMatchesPage(_0x2bfab2);}});}async function displayMatchesPage(_0x38575e){const _0x3c252d=a38_0x2603;currentPage=_0x38575e;const _0x2fe4d6=(currentPage-0x1)*matchesPerPage,_0x3c646c=_0x2fe4d6+matchesPerPage,_0x1329c7=allMatches['slice'](_0x2fe4d6,_0x3c646c),_0x46d944=document['querySelector']('#elo-history\x20tbody');_0x46d944['innerHTML']=_0x1329c7['map'](_0xe8930c=>_0x3c252d(0x119)+(_0xe8930c['timestamp']?new Date(_0xe8930c[_0x3c252d(0x114)]['toDate']())['toLocaleString']():_0x3c252d(0x10b))+_0x3c252d(0x11c)+_0xe8930c['player']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0xe8930c['previousElo']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0xe8930c['newElo']+_0x3c252d(0x11c)+(_0xe8930c['change']>0x0?'+'+_0xe8930c['change']:_0xe8930c['change'])+_0x3c252d(0x11c)+_0xe8930c['opponent']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0xe8930c[_0x3c252d(0x105)]+_0x3c252d(0x107))['join'](''),createPaginationControls();}document[a38_0xaf3bcf(0x11f)]('DOMContentLoaded',displayEloHistory);