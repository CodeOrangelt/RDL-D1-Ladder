function a20_0x5a09(_0x2205c8,_0x293b05){const _0x35f0a1=a20_0x269a();return a20_0x5a09=function(_0x1dedb9,_0x1d6a59){_0x1dedb9=_0x1dedb9-0x161;let _0x269a0a=_0x35f0a1[_0x1dedb9];return _0x269a0a;},a20_0x5a09(_0x2205c8,_0x293b05);}function a20_0x269a(){const _0x2c74e3=['network-error','length','includes','code','Caught\x20session\x20suspended\x20error:','unavailable','bind','message','exception','log','network','prototype','__proto__','{}.constructor(\x22return\x20this\x22)(\x20)','Network\x20connection\x20error.\x20Please\x20check\x20your\x20internet\x20connection.','preventDefault','console','error','Firestore\x20operation\x20blocked\x20-\x20session\x20suspended','return\x20(function()\x20','apply','Failed\x20to\x20disable\x20network:'];a20_0x269a=function(){return _0x2c74e3;};return a20_0x269a();}const a20_0x572d55=a20_0x5a09,a20_0x1dedb9=(function(){let _0x15639a=!![];return function(_0x2d3ea3,_0x3f509b){const _0x4279f8=_0x15639a?function(){if(_0x3f509b){const _0x506177=_0x3f509b['apply'](_0x2d3ea3,arguments);return _0x3f509b=null,_0x506177;}}:function(){};return _0x15639a=![],_0x4279f8;};}()),a20_0x35f0a1=a20_0x1dedb9(this,function(){const _0x15e361=a20_0x5a09;let _0x14def6;try{const _0x22d6c8=Function(_0x15e361(0x174)+_0x15e361(0x16e)+');');_0x14def6=_0x22d6c8();}catch(_0x2b8fc8){_0x14def6=window;}const _0x51d6c6=_0x14def6[_0x15e361(0x171)]=_0x14def6['console']||{},_0x10ca63=['log','warn','info',_0x15e361(0x172),_0x15e361(0x169),'table','trace'];for(let _0x2fd11e=0x0;_0x2fd11e<_0x10ca63['length'];_0x2fd11e++){const _0x1d8a49=a20_0x1dedb9['constructor'][_0x15e361(0x16c)]['bind'](a20_0x1dedb9),_0x3020ea=_0x10ca63[_0x2fd11e],_0x7d116=_0x51d6c6[_0x3020ea]||_0x1d8a49;_0x1d8a49[_0x15e361(0x16d)]=a20_0x1dedb9[_0x15e361(0x167)](a20_0x1dedb9),_0x1d8a49['toString']=_0x7d116['toString']['bind'](_0x7d116),_0x51d6c6[_0x3020ea]=_0x1d8a49;}});a20_0x35f0a1();import{collection as a20_0x525c0e,doc as a20_0x117aaf,getDoc as a20_0x578889,getDocs as a20_0x1d569f,query as a20_0x294d07,where as a20_0x45c328,orderBy as a20_0x2b9b1f,limit as a20_0x4afa0f,startAfter as a20_0x2d54f1,addDoc as a20_0x28a9a3,updateDoc as a20_0x4fd569,deleteDoc as a20_0x60c6ec,writeBatch as a20_0x1579b4,serverTimestamp as a20_0x319eac,Timestamp as a20_0x503a8f,getCountFromServer as a20_0x5bf4dd,setDoc as a20_0x464874,enableNetwork,disableNetwork}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db}from'./firebase-config.js';import{handleNetworkError}from'./idle-timeout.js';function checkSessionStatus(){const _0x2541a5=a20_0x5a09;if(window['RDL_SESSION_SUSPENDED']){console['warn'](_0x2541a5(0x173));const _0x3f38cd=new Error('Session\x20suspended\x20due\x20to\x20inactivity.\x20Please\x20resume\x20your\x20session.');_0x3f38cd['code']='session-suspended';throw _0x3f38cd;}if(window['RDL_NETWORK_ERROR']){console['warn']('Firestore\x20operation\x20blocked\x20-\x20network\x20error');const _0xcb4e40=new Error(_0x2541a5(0x16f));_0xcb4e40['code']='network-error';throw _0xcb4e40;}}async function handleFirestoreError(_0x3e713b){const _0x5fbf8e=a20_0x5a09;console['error']('Firestore\x20operation\x20failed:',_0x3e713b);if(_0x3e713b&&(_0x3e713b[_0x5fbf8e(0x164)]===_0x5fbf8e(0x166)||_0x3e713b['code']==='resource-exhausted'||_0x3e713b[_0x5fbf8e(0x168)]&&_0x3e713b['message']['includes']('network')||_0x3e713b['code']&&_0x3e713b['code']['includes'](_0x5fbf8e(0x16b))))return console['warn']('Network-related\x20error\x20detected,\x20suspending\x20operations'),handleNetworkError(),!![];return![];}export const rdlFirestore={'collection':function(){const _0x38e25a=a20_0x5a09;if(arguments[_0x38e25a(0x162)]===0x1){if(typeof arguments[0x0]==='string')return a20_0x525c0e(db,arguments[0x0]);return arguments[0x0];}else{if(arguments[_0x38e25a(0x162)]===0x2&&arguments[0x0]===db&&typeof arguments[0x1]==='string')return a20_0x525c0e(db,arguments[0x1]);}return a20_0x525c0e['apply'](null,arguments);},'doc':function(){const _0x283164=a20_0x5a09;if(arguments[_0x283164(0x162)]===0x2){if(typeof arguments[0x0]==='string'&&typeof arguments[0x1]==='string')return a20_0x117aaf(db,arguments[0x0],arguments[0x1]);return a20_0x117aaf['apply'](null,arguments);}else{if(arguments['length']===0x3&&arguments[0x0]===db)return a20_0x117aaf[_0x283164(0x175)](null,arguments);}return a20_0x117aaf['apply'](null,arguments);},'query':function(){return a20_0x294d07['apply'](null,arguments);},'where':function(){const _0x468041=a20_0x5a09;return a20_0x45c328[_0x468041(0x175)](null,arguments);},'orderBy':function(){return a20_0x2b9b1f['apply'](null,arguments);},'limit':function(_0x2900e4){return a20_0x4afa0f(_0x2900e4);},'startAfter':function(_0x246fca){return a20_0x2d54f1(_0x246fca);},'getDoc':async function(_0x16e0a7){try{return checkSessionStatus(),await a20_0x578889(_0x16e0a7);}catch(_0x39c8d3){const _0x1f2a9c=await handleFirestoreError(_0x39c8d3);_0x1f2a9c&&(_0x39c8d3['code']='network-error');throw _0x39c8d3;}},'getDocs':async function(_0x5a0287){const _0x29830a=a20_0x5a09;try{return checkSessionStatus(),await a20_0x1d569f(_0x5a0287);}catch(_0x55cf4e){const _0x23f7e2=await handleFirestoreError(_0x55cf4e);_0x23f7e2&&(_0x55cf4e['code']=_0x29830a(0x161));throw _0x55cf4e;}},'getCountFromServer':async function(_0x1354c5){const _0x1b0dfc=a20_0x5a09;try{return checkSessionStatus(),await a20_0x5bf4dd(_0x1354c5);}catch(_0x2ee483){const _0x59d730=await handleFirestoreError(_0x2ee483);_0x59d730&&(_0x2ee483[_0x1b0dfc(0x164)]='network-error');throw _0x2ee483;}},'addDoc':async function(_0x237a19,_0x2d6209){const _0x23db80=a20_0x5a09;try{return checkSessionStatus(),await a20_0x28a9a3(_0x237a19,_0x2d6209);}catch(_0x3ed828){const _0xac88af=await handleFirestoreError(_0x3ed828);_0xac88af&&(_0x3ed828['code']=_0x23db80(0x161));throw _0x3ed828;}},'setDoc':async function(_0x51ebdd,_0x7ed872,_0x1d9725){try{return checkSessionStatus(),await a20_0x464874(_0x51ebdd,_0x7ed872,_0x1d9725);}catch(_0x4b9171){const _0x54a645=await handleFirestoreError(_0x4b9171);_0x54a645&&(_0x4b9171['code']='network-error');throw _0x4b9171;}},'updateDoc':async function(_0x2cb38f,_0x3f215f){const _0x282d77=a20_0x5a09;try{return checkSessionStatus(),await a20_0x4fd569(_0x2cb38f,_0x3f215f);}catch(_0x5a75f6){const _0x4fa1ab=await handleFirestoreError(_0x5a75f6);_0x4fa1ab&&(_0x5a75f6[_0x282d77(0x164)]='network-error');throw _0x5a75f6;}},'deleteDoc':async function(_0x460adb){try{return checkSessionStatus(),await a20_0x60c6ec(_0x460adb);}catch(_0x22c10f){const _0x32f53d=await handleFirestoreError(_0x22c10f);_0x32f53d&&(_0x22c10f['code']='network-error');throw _0x22c10f;}},'writeBatch':function(){const _0x53794d=a20_0x5a09;checkSessionStatus();const _0xdb6437=a20_0x1579b4(db),_0x27202c=_0xdb6437['commit'][_0x53794d(0x167)](_0xdb6437);return _0xdb6437['commit']=async function(){try{return checkSessionStatus(),await _0x27202c();}catch(_0x12e015){const _0x3d3b50=await handleFirestoreError(_0x12e015);_0x3d3b50&&(_0x12e015['code']='network-error');throw _0x12e015;}},_0xdb6437;},'serverTimestamp':function(){return a20_0x319eac();},'Timestamp':{'now':function(){return a20_0x503a8f['now']();},'fromDate':function(_0x512444){return a20_0x503a8f['fromDate'](_0x512444);}},'enableNetwork':async function(){try{return await enableNetwork(db);}catch(_0x2d20cf){console['error']('Failed\x20to\x20enable\x20network:',_0x2d20cf);throw _0x2d20cf;}},'disableNetwork':async function(){const _0x250a11=a20_0x5a09;try{return await disableNetwork(db);}catch(_0x2ed4ce){console['error'](_0x250a11(0x176),_0x2ed4ce);throw _0x2ed4ce;}}};window['addEventListener'](a20_0x572d55(0x172),function(_0x486e52){const _0x10d4a5=a20_0x572d55;if(_0x486e52['error']){if(_0x486e52[_0x10d4a5(0x172)][_0x10d4a5(0x164)]==='session-suspended')_0x486e52[_0x10d4a5(0x170)](),console[_0x10d4a5(0x16a)](_0x10d4a5(0x165),_0x486e52['error']['message']);else(_0x486e52['error'][_0x10d4a5(0x164)]===_0x10d4a5(0x166)||_0x486e52['error']['code']==='resource-exhausted'||_0x486e52[_0x10d4a5(0x172)][_0x10d4a5(0x168)]&&_0x486e52['error']['message'][_0x10d4a5(0x163)]('network')||_0x486e52[_0x10d4a5(0x172)][_0x10d4a5(0x164)]&&_0x486e52['error'][_0x10d4a5(0x164)]['includes']('network'))&&(_0x486e52['preventDefault'](),console['log']('Caught\x20network\x20error:',_0x486e52['error'][_0x10d4a5(0x168)]),handleNetworkError());}}),window['rdlFirestore']=rdlFirestore,console['log']('Firestore\x20wrapper\x20initialized\x20with\x20session\x20checking\x20and\x20network\x20error\x20handling');