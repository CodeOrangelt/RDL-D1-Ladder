function a20_0x3bad(_0x2a6df7,_0x28574c){const _0x24704d=a20_0x281b();return a20_0x3bad=function(_0x1fc5e1,_0x237eed){_0x1fc5e1=_0x1fc5e1-0x12b;let _0x281b0c=_0x24704d[_0x1fc5e1];return _0x281b0c;},a20_0x3bad(_0x2a6df7,_0x28574c);}const a20_0x2332cf=a20_0x3bad;import a20_0x39ac84,{enhanceIdleTimeout}from'./firebase-idle-wrapper.js';const IDLE_TIMEOUT=0xea60;let idleTimer=null,isSessionSuspended=![],networkErrorRetryCount=0x0;const MAX_NETWORK_RETRIES=0x3;function a20_0x281b(){const _0x33f7b6=['Active\x20listeners:','preventDefault','Session\x20suspended:','checkFirebaseIdleStatus','readyState','Your\x20session\x20has\x20been\x20suspended\x20after\x201\x20minutes\x20of\x20inactivity\x20for\x20security\x20reasons.','keys','log','Session\x20suspended\x20due\x20to\x20inactivity','error','Network\x20error:','cursor','onmouseout','\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#50C878;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s;\x0a\x20\x20\x20\x20','cssText','size','Connection\x20test\x20failed:','code','appendChild','getElementById','textContent','click','disabled','collection','Session\x20was\x20idle\x20for\x20too\x20long,\x20reloading\x20page','console','createElement','bind','RDL_NETWORK_ERROR','{}.constructor(\x22return\x20this\x22)(\x20)','system','style','body','addEventListener','Retry\x20Connection','Blocked\x20operations:','flex','div','\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#5555ff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#fff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s;\x0a\x20\x20\x20\x20','backgroundColor','suspendSession','reload','suspendAllListeners'];a20_0x281b=function(){return _0x33f7b6;};return a20_0x281b();}function createIdleOverlay(){const _0x17a3ed=a20_0x3bad;if(document[_0x17a3ed(0x13e)]('idle-overlay'))return;const _0x4b4d38=document[_0x17a3ed(0x145)]('div');_0x4b4d38['id']='idle-overlay',_0x4b4d38['style'][_0x17a3ed(0x139)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20rgba(0,\x200,\x200,\x200.85);\x0a\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x209999;\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20backdrop-filter:\x20blur(5px);\x0a\x20\x20\x20\x20';const _0x557aa8=document[_0x17a3ed(0x145)](_0x17a3ed(0x150));_0x557aa8['style'][_0x17a3ed(0x139)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#202020;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2030px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20500px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x200\x2020px\x20rgba(0,\x200,\x200,\x200.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20';const _0x334371=document[_0x17a3ed(0x145)]('h2');_0x334371['textContent']='Session\x20Suspended\x20Due\x20to\x20Inactivity',_0x334371[_0x17a3ed(0x14a)]['cssText']='color:\x20#50C878;\x20margin-bottom:\x2020px;\x20font-size:\x2024px;';const _0x3806c3=document['createElement']('p');_0x3806c3['textContent']=_0x17a3ed(0x130),_0x3806c3[_0x17a3ed(0x14a)]['cssText']='color:\x20#fff;\x20margin-bottom:\x2030px;';const _0x3fe3a1=document['createElement']('button');_0x3fe3a1['id']='resume-session-btn',_0x3fe3a1['textContent']='Return\x20to\x20Website',_0x3fe3a1[_0x17a3ed(0x14a)]['cssText']=_0x17a3ed(0x138),_0x3fe3a1['onmouseover']=function(){const _0xfe46f3=_0x17a3ed;this[_0xfe46f3(0x14a)][_0xfe46f3(0x152)]='#3da05f';},_0x3fe3a1[_0x17a3ed(0x137)]=function(){const _0x57db01=_0x17a3ed;this[_0x57db01(0x14a)]['backgroundColor']='#50C878';},_0x557aa8['appendChild'](_0x334371),_0x557aa8['appendChild'](_0x3806c3),_0x557aa8['appendChild'](_0x3fe3a1),_0x4b4d38[_0x17a3ed(0x13d)](_0x557aa8),document['body'][_0x17a3ed(0x13d)](_0x4b4d38),_0x3fe3a1['addEventListener']('click',resumeSession),createNetworkErrorOverlay();}function createNetworkErrorOverlay(){const _0x57286b=a20_0x3bad;if(document[_0x57286b(0x13e)]('network-error-overlay'))return;const _0x33780c=document['createElement'](_0x57286b(0x150));_0x33780c['id']='network-error-overlay',_0x33780c['style']['cssText']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20rgba(0,\x200,\x200,\x200.85);\x0a\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x209999;\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20backdrop-filter:\x20blur(5px);\x0a\x20\x20\x20\x20';const _0x1bb3d9=document['createElement']('div');_0x1bb3d9['style']['cssText']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#202020;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2030px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20500px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x200\x2020px\x20rgba(0,\x200,\x200,\x200.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20';const _0x3521bd=document['createElement']('h2');_0x3521bd[_0x57286b(0x13f)]='Connection\x20Error',_0x3521bd[_0x57286b(0x14a)][_0x57286b(0x139)]='color:\x20#ff5555;\x20margin-bottom:\x2020px;\x20font-size:\x2024px;';const _0x514a31=document[_0x57286b(0x145)]('p');_0x514a31['textContent']='We\x27re\x20having\x20trouble\x20connecting\x20to\x20the\x20server.\x20This\x20may\x20be\x20due\x20to\x20network\x20issues\x20or\x20server\x20maintenance.',_0x514a31['style']['cssText']='color:\x20#fff;\x20margin-bottom:\x2030px;';const _0xf8c6e4=document['createElement']('button');_0xf8c6e4['id']='retry-connection-btn',_0xf8c6e4[_0x57286b(0x13f)]=_0x57286b(0x14d),_0xf8c6e4['style'][_0x57286b(0x139)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#ff5555;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-right:\x2010px;\x0a\x20\x20\x20\x20';const _0xf8f26f=document[_0x57286b(0x145)]('button');_0xf8f26f['id']='reload-page-btn',_0xf8f26f[_0x57286b(0x13f)]='Reload\x20Page',_0xf8f26f['style']['cssText']=_0x57286b(0x151);const _0x2b9eb8=document['createElement'](_0x57286b(0x150));_0x2b9eb8['style']['cssText']='display:\x20flex;\x20justify-content:\x20center;\x20gap:\x2010px;',_0x2b9eb8[_0x57286b(0x13d)](_0xf8c6e4),_0x2b9eb8['appendChild'](_0xf8f26f),_0x1bb3d9['appendChild'](_0x3521bd),_0x1bb3d9['appendChild'](_0x514a31),_0x1bb3d9['appendChild'](_0x2b9eb8),_0x33780c['appendChild'](_0x1bb3d9),document[_0x57286b(0x14b)]['appendChild'](_0x33780c),_0xf8c6e4[_0x57286b(0x14c)]('click',retryConnection),_0xf8f26f['addEventListener']('click',()=>window['location'][_0x57286b(0x154)]());}function resetIdleTimer(){if(isSessionSuspended)return;clearTimeout(idleTimer),idleTimer=setTimeout(suspendSession,IDLE_TIMEOUT);}function handleNetworkError(){const _0x57cd7b=a20_0x3bad;clearTimeout(idleTimer);const _0x441c1a=document[_0x57cd7b(0x13e)]('network-error-overlay');_0x441c1a&&(_0x441c1a['style']['display']=_0x57cd7b(0x14f)),window['RDL_NETWORK_ERROR']=!![],console['log']('Network\x20error\x20detected,\x20showing\x20error\x20overlay'),a20_0x39ac84[_0x57cd7b(0x155)]();}function retryConnection(){const _0x140f69=a20_0x3bad;networkErrorRetryCount++;if(networkErrorRetryCount>MAX_NETWORK_RETRIES){const _0x17e860=document['querySelector']('#network-error-overlay\x20p');_0x17e860&&(_0x17e860['textContent']='Multiple\x20connection\x20attempts\x20failed.\x20Please\x20reload\x20the\x20page\x20or\x20try\x20again\x20later.');const _0x23f3bc=document['getElementById']('retry-connection-btn');_0x23f3bc&&(_0x23f3bc[_0x140f69(0x141)]=!![],_0x23f3bc['style']['opacity']='0.5',_0x23f3bc[_0x140f69(0x14a)][_0x140f69(0x136)]='not-allowed');return;}const _0x8ab279=document['getElementById']('network-error-overlay');_0x8ab279&&(_0x8ab279['style']['display']='none');window[_0x140f69(0x147)]=![],resetIdleTimer(),console['log']('Retrying\x20connection...');try{const {rdlFirestore:_0x2f0cd9}=window;if(_0x2f0cd9){const _0x53b3f0=_0x2f0cd9[_0x140f69(0x142)](_0x140f69(0x149));_0x2f0cd9['getDocs'](_0x53b3f0)['catch'](_0x277327=>{const _0x50a5bf=_0x140f69;console['error'](_0x50a5bf(0x13b),_0x277327),handleNetworkError();});}}catch(_0x497e0d){console[_0x140f69(0x134)]('Failed\x20to\x20test\x20connection:',_0x497e0d),handleNetworkError();}a20_0x39ac84['resumeAllListeners']();}function suspendSession(){const _0x1eda2f=a20_0x3bad;isSessionSuspended=!![];const _0x455db9=document[_0x1eda2f(0x13e)]('idle-overlay');_0x455db9&&(_0x455db9['style']['display']='flex'),console['log'](_0x1eda2f(0x133)),window['RDL_SESSION_SUSPENDED']=!![],a20_0x39ac84[_0x1eda2f(0x155)]();}function resumeSession(){const _0x1a46a9=a20_0x3bad;isSessionSuspended=![],window['RDL_SESSION_SUSPENDED']=![];const _0x269383=document['getElementById']('idle-overlay');_0x269383&&(_0x269383[_0x1a46a9(0x14a)]['display']='none'),console['log']('Session\x20resumed'),resetIdleTimer(),a20_0x39ac84['resumeAllListeners'](),idleTimer&&Date['now']()-(window['RDL_LAST_ACTIVITY']||0x0)>IDLE_TIMEOUT*0x2&&(console[_0x1a46a9(0x132)](_0x1a46a9(0x143)),window['location']['reload']());}function initIdleTimeout(){const _0x414471=a20_0x3bad,_0x1eface=(function(){let _0x25c33b=!![];return function(_0x1890e1,_0xe77ea2){const _0x399b8b=_0x25c33b?function(){if(_0xe77ea2){const _0x5ed4cd=_0xe77ea2['apply'](_0x1890e1,arguments);return _0xe77ea2=null,_0x5ed4cd;}}:function(){};return _0x25c33b=![],_0x399b8b;};}()),_0x3e4643=_0x1eface(this,function(){const _0x3f835c=a20_0x3bad;let _0x56931c;try{const _0x1bb4b6=Function('return\x20(function()\x20'+_0x3f835c(0x148)+');');_0x56931c=_0x1bb4b6();}catch(_0x460c36){_0x56931c=window;}const _0xff5421=_0x56931c[_0x3f835c(0x144)]=_0x56931c['console']||{},_0x546be4=[_0x3f835c(0x132),'warn','info','error','exception','table','trace'];for(let _0x3eadcb=0x0;_0x3eadcb<_0x546be4['length'];_0x3eadcb++){const _0x42aafd=_0x1eface['constructor']['prototype'][_0x3f835c(0x146)](_0x1eface),_0xbf7eaf=_0x546be4[_0x3eadcb],_0x12a829=_0xff5421[_0xbf7eaf]||_0x42aafd;_0x42aafd['__proto__']=_0x1eface['bind'](_0x1eface),_0x42aafd['toString']=_0x12a829['toString'][_0x3f835c(0x146)](_0x12a829),_0xff5421[_0xbf7eaf]=_0x42aafd;}});_0x3e4643(),createIdleOverlay();const _0x1e4e33=['mousedown','mousemove','keypress','scroll','touchstart',_0x414471(0x140)];_0x1e4e33['forEach'](_0x488046=>{const _0x3c415a=_0x414471;document[_0x3c415a(0x14c)](_0x488046,()=>{window['RDL_LAST_ACTIVITY']=Date['now'](),resetIdleTimer();},!![]);}),window['addEventListener']('error',function(_0x56ffcd){const _0x42db27=_0x414471;_0x56ffcd['error']&&(_0x56ffcd['error']['message']&&_0x56ffcd['error']['message']['includes']('network')||_0x56ffcd[_0x42db27(0x134)]['code']&&(_0x56ffcd[_0x42db27(0x134)]['code']==='unavailable'||_0x56ffcd[_0x42db27(0x134)][_0x42db27(0x13c)]==='resource-exhausted'||_0x56ffcd[_0x42db27(0x134)]['code']['includes']('network')))&&(handleNetworkError(),_0x56ffcd[_0x42db27(0x12c)]());}),resetIdleTimer(),console[_0x414471(0x132)]('Idle\x20timeout\x20initialized:',IDLE_TIMEOUT,'ms'),window[_0x414471(0x153)]=suspendSession,window['resumeSession']=resumeSession,enhanceIdleTimeout(),window[_0x414471(0x12e)]=function(){const _0x1771c2=_0x414471;return console[_0x1771c2(0x132)](_0x1771c2(0x12d),window['RDL_SESSION_SUSPENDED']),console['log'](_0x1771c2(0x135),window[_0x1771c2(0x147)]),console['log'](_0x1771c2(0x12b),a20_0x39ac84['activeListeners']['size']),console[_0x1771c2(0x132)]('Pending\x20operations:',a20_0x39ac84['pendingOperations'][_0x1771c2(0x13a)]),console['log'](_0x1771c2(0x14e),a20_0x39ac84['blockedOperations']||0x0),{'suspended':window['RDL_SESSION_SUSPENDED'],'networkError':window['RDL_NETWORK_ERROR'],'activeListeners':Array['from'](a20_0x39ac84['activeListeners']['keys']()),'pendingOperations':Array['from'](a20_0x39ac84['pendingOperations'][_0x1771c2(0x131)]()),'blockedCount':a20_0x39ac84['blockedOperations']||0x0};},window['forceIdleTimeout']=function(){console['log']('Forcing\x20idle\x20timeout...'),suspendSession();};}export{initIdleTimeout,isSessionSuspended,handleNetworkError};document[a20_0x2332cf(0x12f)]==='loading'?document[a20_0x2332cf(0x14c)]('DOMContentLoaded',initIdleTimeout):initIdleTimeout();