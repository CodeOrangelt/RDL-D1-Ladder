const a4_0x5d2362=a4_0x2715;(function(_0x44a047,_0x7e678f){const _0x44c024=a4_0x2715,_0x1cea1e=_0x44a047();while(!![]){try{const _0x505e75=parseInt(_0x44c024(0x26a))/0x1+parseInt(_0x44c024(0xe1))/0x2+-parseInt(_0x44c024(0x152))/0x3+-parseInt(_0x44c024(0x47f))/0x4+parseInt(_0x44c024(0x162))/0x5+-parseInt(_0x44c024(0x27c))/0x6+-parseInt(_0x44c024(0x164))/0x7*(-parseInt(_0x44c024(0x31a))/0x8);if(_0x505e75===_0x7e678f)break;else _0x1cea1e['push'](_0x1cea1e['shift']());}catch(_0x427e31){_0x1cea1e['push'](_0x1cea1e['shift']());}}}(a4_0x4d67,0x73a05));const a4_0x2d074f=(function(){let _0x4c57df=!![];return function(_0x4013e3,_0x2bf115){const _0x2937d2=_0x4c57df?function(){const _0x2129ce=a4_0x2715;if(_0x2bf115){const _0x5fe65b=_0x2bf115[_0x2129ce(0x27d)](_0x4013e3,arguments);return _0x2bf115=null,_0x5fe65b;}}:function(){};return _0x4c57df=![],_0x2937d2;};}()),a4_0x3c7bed=a4_0x2d074f(this,function(){const _0x3d3e1e=a4_0x2715;return a4_0x3c7bed['toString']()['search']('(((.+)+)+)+$')[_0x3d3e1e(0x189)]()['constructor'](a4_0x3c7bed)[_0x3d3e1e(0x477)](_0x3d3e1e(0x491));});a4_0x3c7bed();const a4_0x2ade0e=(function(){let _0x5bb93f=!![];return function(_0x5e4a21,_0x54238f){const _0x5f5da9=_0x5bb93f?function(){if(_0x54238f){const _0x2a7bcf=_0x54238f['apply'](_0x5e4a21,arguments);return _0x54238f=null,_0x2a7bcf;}}:function(){};return _0x5bb93f=![],_0x5f5da9;};}()),a4_0x5f4843=a4_0x2ade0e(this,function(){const _0x13dd02=a4_0x2715;let _0x28b52d;try{const _0x54d05a=Function(_0x13dd02(0x447)+_0x13dd02(0xb4)+');');_0x28b52d=_0x54d05a();}catch(_0x1a7c5d){_0x28b52d=window;}const _0x737f21=_0x28b52d['console']=_0x28b52d[_0x13dd02(0x4c1)]||{},_0x56224c=['log',_0x13dd02(0xb3),_0x13dd02(0x2d9),_0x13dd02(0x34f),_0x13dd02(0x357),_0x13dd02(0x403),_0x13dd02(0x10e)];for(let _0x3cae50=0x0;_0x3cae50<_0x56224c['length'];_0x3cae50++){const _0x5db84c=a4_0x2ade0e[_0x13dd02(0x2b6)][_0x13dd02(0x30e)][_0x13dd02(0x367)](a4_0x2ade0e),_0x4297d2=_0x56224c[_0x3cae50],_0x540bf0=_0x737f21[_0x4297d2]||_0x5db84c;_0x5db84c[_0x13dd02(0x3d7)]=a4_0x2ade0e[_0x13dd02(0x367)](a4_0x2ade0e),_0x5db84c['toString']=_0x540bf0[_0x13dd02(0x189)][_0x13dd02(0x367)](_0x540bf0),_0x737f21[_0x4297d2]=_0x5db84c;}});a4_0x5f4843();import{collection,getDocs,query,orderBy,addDoc,deleteDoc,where,doc,getDoc,serverTimestamp,setDoc,updateDoc,writeBatch,limit,startAfter,endBefore,limitToLast,onSnapshot,deleteField,or,Timestamp}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{auth,db}from'./firebase-config.js';import{getRankStyle}from'./ranks.js';import{isAdmin}from'./admin-check.js';let matchesPagination={'d1':{'page':0x1,'lastVisible':null,'firstVisible':null},'d2':{'page':0x1,'lastVisible':null,'firstVisible':null},'d3':{'page':0x1,'lastVisible':null,'firstVisible':null}};function getContrastColor(_0x7a81b7){const _0x221691=a4_0x2715;if(!_0x7a81b7)return'#ffffff';_0x7a81b7=_0x7a81b7[_0x221691(0x2e4)]('#','');_0x7a81b7['length']===0x3&&(_0x7a81b7=_0x7a81b7[_0x221691(0xaa)]('')[_0x221691(0x2af)](_0x52f372=>_0x52f372+_0x52f372)[_0x221691(0x3e4)](''));if(_0x7a81b7[_0x221691(0x20e)]!==0x6)return'#ffffff';const _0x12fc58=parseInt(_0x7a81b7['substring'](0x0,0x2),0x10),_0x52077d=parseInt(_0x7a81b7[_0x221691(0x15d)](0x2,0x4),0x10),_0x12fd6d=parseInt(_0x7a81b7['substring'](0x4,0x6),0x10),_0x954b89=(_0x12fc58*0x12b+_0x52077d*0x24b+_0x12fd6d*0x72)/0x3e8;return _0x954b89>=0x80?_0x221691(0x249):_0x221691(0x2a6);}const DEFAULT_TROPHY_IMAGE='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAADHUlEQVR4nO2XS0hUURjHf3fGnPGB+cBkzEAFRSglH5mQEiitIFoYEW6iFrWJoE20SReCQUGbXrRqEVFB0SIKKnrhM3wUldmQjc5Yk46Njjpz7+06cO50vTP3jplJ0fnDYe75zpnz/e73+L5zFf4n+X1SUoAM624GUoA0IAjw+IS5BWwgCIwCbuAn0AcMWOsP4NHE+BlqEjmxDZQCq4H5QCoQsALMWJjLWgMTvN8FPALuWWs38MhnfCoQoBvIBY4Du4EVwCyPDj7L+ptA/S/WX4EW4ALQMM1g/k8FmA5UAPuBZYCK94wRyXmU6TlwDEFzwDHgltOHnQKcBWwFjgL5jglOTTeBI8BtuwdVmweLgCvAAsckpq8XwDagzQ7QboPZQC1Q7JjA7KgX2AJ02zkwmjINuAzUzHCyGnAFmDMZ4DqgERHNTEsBDmvT0eVSYNgx1PSl28pOldcGvw/WAOeB+Y6pzEwPEJV1zOvBPcAJx0RmLg3YGw0Yu80G4LRjErOjU0BxJGARcB1Y6JjE7GgQKAD6w4FmAM3AUscE4pMuozqigrMa52RUKiK+ipxKDRkVRAYSoiDwDLiLKKU9iqKMgiQRH2wElsdxwDPgLPAAOZ4Fo/YV5BNkAXXIvFgLXAS+2wDnAU2MZEmsJOIK8NqG/wEVwClEoREmLeKP50hn5FSvgT3AY5v+J5HmHVZ4iY+pNG0E1wEss+FbjXS2vjgeUJETzYLJE5+gz5aHXSzlQBnQFQ9gCPH5F4lL94B2G3yl0QE+jwdwBJgH9ESSMgrcteG7HNJihk1A3AMOAgeBT9E7NE0LAkEnEkYHqEa162QMn+02/LJsxpg0YLexURTl3cSgmqYFTNMccPJ1uIDPxuYScDyG31Ls1+EbK6muSIAul8tQ7Jrq5BoGWhVFCQJ7kQkjlnIQFR1TKowNGY6JomnMQkSoGviXvAWWKIoSjgVxPdLtvwKwQ1GUD7ECugBDURTPeHUBfIwVUNO0EWPyWT+mNGBQ13WXN6CqKoOGYYT8fj8+n2NCCYyLiooC8f75D86ukgTJZSGcAAAAAElFTkSuQmCC',charts={};let currentLadder='D1',eloHistoryPagination={'d1':{'page':0x1,'lastVisible':null,'firstVisible':null},'d2':{'page':0x1,'lastVisible':null,'firstVisible':null},'d3':{'page':0x1,'lastVisible':null,'firstVisible':null}};const PAGE_SIZE=0xf;document[a4_0x5d2362(0x1c3)](a4_0x5d2362(0x204),()=>{const _0x2d87d0=a4_0x5d2362;auth[_0x2d87d0(0x1db)](async _0x129925=>{const _0x10e483=_0x2d87d0;if(!_0x129925){window[_0x10e483(0x193)]['href']=_0x10e483(0x33d);return;}try{await initializeAdminDashboard();}catch(_0x230129){console[_0x10e483(0x34f)](_0x10e483(0x185),_0x230129),showNotification(_0x10e483(0x7b),_0x10e483(0x34f));}});});async function getUserTabPermissions(_0x29bc73){const _0x4738d8=a4_0x5d2362;if(!_0x29bc73)return[_0x4738d8(0x39c)];console[_0x4738d8(0x329)](_0x4738d8(0x21c)+_0x29bc73+'\x20in\x20all\x20collections...');const _0x1a6f17=[{'name':'userProfiles','displayName':'User\x20Profiles'},{'name':'players','displayName':_0x4738d8(0x194)},{'name':_0x4738d8(0xc2),'displayName':_0x4738d8(0x414)},{'name':_0x4738d8(0x274),'displayName':_0x4738d8(0x3eb)},{'name':_0x4738d8(0x4a1),'displayName':_0x4738d8(0x143)}],_0x4bbdd7=auth[_0x4738d8(0x4af)];let _0x6f04e3=null,_0x51ae3e=null;for(const _0x229dd1 of _0x1a6f17){try{if(_0x4bbdd7){const _0x162db3=doc(db,_0x229dd1['name'],_0x4bbdd7[_0x4738d8(0x267)]),_0x381ee2=await getDoc(_0x162db3);if(_0x381ee2[_0x4738d8(0x419)]()){const _0x49ed92=_0x381ee2[_0x4738d8(0x47c)]();console[_0x4738d8(0x329)](_0x4738d8(0x393)+_0x229dd1['displayName']+_0x4738d8(0x268),_0x49ed92);const _0x30d766=(_0x49ed92[_0x4738d8(0x3ff)]||_0x49ed92[_0x4738d8(0x349)]||'')[_0x4738d8(0x409)]();if(_0x30d766&&_0x30d766!=='none'){_0x6f04e3=_0x30d766,_0x51ae3e=_0x229dd1[_0x4738d8(0x316)],console[_0x4738d8(0x329)](_0x4738d8(0x3b7)+_0x6f04e3+_0x4738d8(0x165)+_0x51ae3e);break;}}}if(!_0x6f04e3){const _0xa57e93=collection(db,_0x229dd1[_0x4738d8(0x3f0)]),_0x1a7e2d=query(_0xa57e93,where(_0x4738d8(0xe6),'==',_0x29bc73)),_0x3e58d9=await getDocs(_0x1a7e2d);if(!_0x3e58d9['empty']){const _0x58b5af=_0x3e58d9[_0x4738d8(0x23e)][0x0][_0x4738d8(0x47c)]();console[_0x4738d8(0x329)]('Found\x20user\x20in\x20'+_0x229dd1[_0x4738d8(0x316)]+'\x20with\x20email\x20'+_0x29bc73+':',_0x58b5af);const _0x2ab863=(_0x58b5af[_0x4738d8(0x3ff)]||_0x58b5af[_0x4738d8(0x349)]||'')['toLowerCase']();if(_0x2ab863&&_0x2ab863!==_0x4738d8(0x3e0)){_0x6f04e3=_0x2ab863,_0x51ae3e=_0x229dd1['displayName'],console[_0x4738d8(0x329)](_0x4738d8(0x3b7)+_0x6f04e3+'\x20in\x20'+_0x51ae3e);break;}}}}catch(_0x313334){console[_0x4738d8(0x34f)](_0x4738d8(0x479)+_0x229dd1[_0x4738d8(0x316)]+':',_0x313334);}}if(_0x6f04e3){console[_0x4738d8(0x329)](_0x4738d8(0x2ed)+_0x6f04e3+'\x20(from\x20'+_0x51ae3e+')');const _0x5c48b4={'admin':['dashboard','manage-players','manage-matches','manage-articles','manage-trophies',_0x4738d8(0x3aa),_0x4738d8(0x10a),_0x4738d8(0x373),'manage-trophies',_0x4738d8(0x18c),'manage-highlights',_0x4738d8(0x29f),'manage-matches',_0x4738d8(0x14b),_0x4738d8(0x234),_0x4738d8(0x207)],'owner':[_0x4738d8(0x39c),_0x4738d8(0x454),_0x4738d8(0x215),'manage-articles',_0x4738d8(0x191),_0x4738d8(0x3aa),_0x4738d8(0x10a),_0x4738d8(0x373),_0x4738d8(0x191),_0x4738d8(0x18c),_0x4738d8(0x28b),_0x4738d8(0x29f),'manage-matches',_0x4738d8(0x14b),_0x4738d8(0x234),_0x4738d8(0x207)],'council':[_0x4738d8(0x39c),_0x4738d8(0x454),_0x4738d8(0x215)],'creative\x20lead':[_0x4738d8(0x39c),_0x4738d8(0xf8),_0x4738d8(0x191),'elo-history',_0x4738d8(0x28b)]};if(_0x5c48b4[_0x6f04e3])return console[_0x4738d8(0x329)](_0x4738d8(0x460)+_0x6f04e3+_0x4738d8(0x261),_0x5c48b4[_0x6f04e3]),_0x5c48b4[_0x6f04e3];}return console['log'](_0x4738d8(0x39a)+_0x29bc73+_0x4738d8(0x3bd)),[_0x4738d8(0x39c)];}function setupSidebarNavigation(_0x360092=[]){const _0x3b6f2e=a4_0x5d2362,_0x156686=document[_0x3b6f2e(0x269)](_0x3b6f2e(0x482)),_0x22aa24=document[_0x3b6f2e(0x269)](_0x3b6f2e(0xc0));(!_0x360092||_0x360092[_0x3b6f2e(0x20e)]===0x0)&&(_0x360092=[_0x3b6f2e(0x39c)]);_0x156686[_0x3b6f2e(0x2fe)](_0x504ce5=>{const _0x5dd79a=_0x3b6f2e,_0x47e142=_0x504ce5['getAttribute']('data-section');_0x360092[_0x5dd79a(0x33c)](_0x47e142)?_0x504ce5[_0x5dd79a(0x1f7)]['display']=_0x5dd79a(0x9a):_0x504ce5[_0x5dd79a(0x1f7)][_0x5dd79a(0x3ee)]=_0x5dd79a(0x3e0),_0x504ce5[_0x5dd79a(0x1c3)](_0x5dd79a(0x457),()=>{const _0x51bed0=_0x5dd79a,_0x6ff6d5=_0x504ce5['getAttribute'](_0x51bed0(0x1dd));if(!_0x360092[_0x51bed0(0x33c)](_0x6ff6d5)){showNotification(_0x51bed0(0x40c),_0x51bed0(0x34f));return;}_0x156686[_0x51bed0(0x2fe)](_0x3104dd=>_0x3104dd[_0x51bed0(0x1cb)]['remove'](_0x51bed0(0x158))),_0x504ce5[_0x51bed0(0x1cb)]['add'](_0x51bed0(0x158)),_0x22aa24[_0x51bed0(0x2fe)](_0x5a4a87=>{const _0x320ea5=_0x51bed0;_0x5a4a87[_0x320ea5(0x1f7)][_0x320ea5(0x3ee)]=_0x320ea5(0x3e0);});const _0x5819ee=document[_0x51bed0(0x467)](_0x6ff6d5);_0x5819ee&&(_0x5819ee[_0x51bed0(0x1f7)][_0x51bed0(0x3ee)]=_0x51bed0(0x109),console[_0x51bed0(0x329)](_0x51bed0(0x35d)+_0x6ff6d5+_0x51bed0(0x14a)));});});const _0x2d2f5f=document[_0x3b6f2e(0x368)]('.sidebar-nav\x20.nav-item[data-section=\x22'+_0x360092[0x0]+'\x22]');_0x2d2f5f&&_0x2d2f5f[_0x3b6f2e(0x457)](),console[_0x3b6f2e(0x329)](_0x3b6f2e(0x13b));}function setupTabNavigation(){const _0x24bedf=a4_0x5d2362,_0x7d25b5=document['querySelectorAll']('.nav-item');let _0x54790b=null,_0xc2d67=new Set();_0x7d25b5[_0x24bedf(0x2fe)](_0xcd0f04=>{const _0x2c18d5=_0x24bedf;_0xcd0f04['addEventListener'](_0x2c18d5(0x457),function(){const _0x98ab7d=_0x2c18d5,_0x1872b2=this[_0x98ab7d(0x38c)]('data-section');if(_0x1872b2===_0x54790b)return;_0x54790b&&(document[_0x98ab7d(0x467)](_0x54790b)[_0x98ab7d(0x1f7)][_0x98ab7d(0x3ee)]=_0x98ab7d(0x3e0),_0x7d25b5['forEach'](_0x12ddc2=>_0x12ddc2[_0x98ab7d(0x1cb)][_0x98ab7d(0x142)](_0x98ab7d(0x158)))),document[_0x98ab7d(0x467)](_0x1872b2)[_0x98ab7d(0x1f7)][_0x98ab7d(0x3ee)]='block',this['classList'][_0x98ab7d(0x3dd)](_0x98ab7d(0x158)),_0x54790b=_0x1872b2;});});}function loadSectionData(_0x43900f){return;}async function initializeAdminDashboard(){const _0x15d003=a4_0x5d2362;try{const _0x38c13a=auth[_0x15d003(0x4af)],_0x8af156=await getUserTabPermissions(_0x38c13a['email']);console[_0x15d003(0x329)](_0x15d003(0x1a0)+_0x38c13a[_0x15d003(0xe6)]+'\x20allowed\x20tabs:',_0x8af156),window[_0x15d003(0x2d2)]=_0x8af156,setupSidebarNavigation(_0x8af156),setupLadderSelector(),setupDashboardSection(),_0x8af156['includes'](_0x15d003(0x454))&&setupManagePlayersSection(),_0x8af156[_0x15d003(0x33c)](_0x15d003(0x18c))&&setupEloHistorySection(),_0x8af156[_0x15d003(0x33c)](_0x15d003(0x3aa))&&setupRankControls(),_0x8af156[_0x15d003(0x33c)](_0x15d003(0xf8))&&setupManageArticlesSection(),_0x8af156[_0x15d003(0x33c)]('user-roles-section')&&setupUserRolesSection(),_0x8af156[_0x15d003(0x33c)]('manage-trophies')&&setupTrophyManagementSection(),_0x8af156[_0x15d003(0x33c)]('manage-highlights')&&setupManageHighlightsSection(),_0x8af156[_0x15d003(0x33c)]('inactive-players')&&setupInactivePlayersSection(),_0x8af156[_0x15d003(0x33c)](_0x15d003(0x215))&&setupManageMatchesSection(),_0x8af156['includes'](_0x15d003(0x14b))&&setupManagePointsSection(),_0x8af156['includes'](_0x15d003(0x207))&&setupManageRibbonsSection(),setupDataLoadButtons(_0x8af156);}catch(_0x7430cc){console['error'](_0x15d003(0x178),_0x7430cc);}}function setupDataLoadButtons(_0xa5d9fa=[]){const _0x885764=a4_0x5d2362;(!_0xa5d9fa||_0xa5d9fa['length']===0x0)&&(_0xa5d9fa=['dashboard']);const _0x58a849=document[_0x885764(0x467)](_0x885764(0x3f1));_0x58a849&&_0x58a849[_0x885764(0x1c3)](_0x885764(0x457),function(){const _0x3d3cfb=_0x885764;this[_0x3d3cfb(0x1cb)][_0x3d3cfb(0x3dd)](_0x3d3cfb(0x3ab)),this[_0x3d3cfb(0x318)]=_0x3d3cfb(0x314),loadDashboardOverview()[_0x3d3cfb(0x20f)](()=>{const _0x19c4dc=_0x3d3cfb;this[_0x19c4dc(0x1cb)][_0x19c4dc(0x142)](_0x19c4dc(0x3ab)),this['innerHTML']=_0x19c4dc(0x2b4);})[_0x3d3cfb(0x4a0)](_0xfbd23=>{const _0x539be2=_0x3d3cfb;console[_0x539be2(0x34f)](_0x539be2(0x17e),_0xfbd23),this[_0x539be2(0x1cb)][_0x539be2(0x142)](_0x539be2(0x3ab)),this[_0x539be2(0x318)]=_0x539be2(0xcc),setTimeout(()=>{const _0x4f9dcb=_0x539be2;this[_0x4f9dcb(0x318)]=_0x4f9dcb(0x2b4);},0xbb8);});});if(_0xa5d9fa[_0x885764(0x33c)](_0x885764(0x191))){const _0x567b4e=document[_0x885764(0x467)](_0x885764(0x1ca));_0x567b4e&&_0x567b4e['addEventListener'](_0x885764(0x457),function(){const _0x4d99a9=_0x885764;console[_0x4d99a9(0x329)]('Load\x20trophies\x20data\x20clicked'),this[_0x4d99a9(0x1cb)]['add'](_0x4d99a9(0x3ab)),this['innerHTML']=_0x4d99a9(0x314),loadTrophyDefinitions()[_0x4d99a9(0x20f)](()=>{const _0x479954=_0x4d99a9;this[_0x479954(0x1cb)][_0x479954(0x142)](_0x479954(0x3ab)),this[_0x479954(0x318)]='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Trophies\x20Data';})[_0x4d99a9(0x4a0)](_0x20bbb7=>{const _0x205eeb=_0x4d99a9;console[_0x205eeb(0x34f)](_0x205eeb(0x439),_0x20bbb7),this[_0x205eeb(0x1cb)][_0x205eeb(0x142)](_0x205eeb(0x3ab)),this['innerHTML']=_0x205eeb(0xcc),setTimeout(()=>{const _0x5c93b6=_0x205eeb;this[_0x5c93b6(0x318)]=_0x5c93b6(0xc9);},0xbb8);});});}if(_0xa5d9fa[_0x885764(0x33c)](_0x885764(0x454))){const _0x1a1931=document[_0x885764(0x467)](_0x885764(0x3b2));_0x1a1931&&_0x1a1931[_0x885764(0x1c3)](_0x885764(0x457),function(){const _0x4d72ef=_0x885764;console[_0x4d72ef(0x329)](_0x4d72ef(0x19f)),this[_0x4d72ef(0x1cb)][_0x4d72ef(0x3dd)](_0x4d72ef(0x3ab)),this[_0x4d72ef(0x318)]=_0x4d72ef(0x314),loadPlayersData()[_0x4d72ef(0x20f)](()=>{const _0x2b031d=_0x4d72ef;this[_0x2b031d(0x1cb)]['remove'](_0x2b031d(0x3ab)),this[_0x2b031d(0x318)]='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Players\x20Data';})[_0x4d72ef(0x4a0)](_0x31fd96=>{const _0xdcaba0=_0x4d72ef;console[_0xdcaba0(0x34f)](_0xdcaba0(0x3d0),_0x31fd96),this['classList']['remove'](_0xdcaba0(0x3ab)),this[_0xdcaba0(0x318)]=_0xdcaba0(0xcc),setTimeout(()=>{this['innerHTML']='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Players\x20Data';},0xbb8);});});}if(_0xa5d9fa[_0x885764(0x33c)](_0x885764(0x18c))){const _0x9f905a=document[_0x885764(0x467)](_0x885764(0x107));_0x9f905a&&_0x9f905a[_0x885764(0x1c3)](_0x885764(0x457),function(){const _0x58182c=_0x885764;console[_0x58182c(0x329)]('Load\x20history\x20data\x20clicked'),this[_0x58182c(0x1cb)]['add']('loading'),this[_0x58182c(0x318)]=_0x58182c(0x314),loadEloHistory(0x1)[_0x58182c(0x20f)](()=>{const _0x1e7444=_0x58182c;this[_0x1e7444(0x1cb)][_0x1e7444(0x142)](_0x1e7444(0x3ab)),this[_0x1e7444(0x318)]=_0x1e7444(0x1bc);})['catch'](_0x2b5ed7=>{const _0x15d468=_0x58182c;console[_0x15d468(0x34f)](_0x15d468(0x406),_0x2b5ed7),this[_0x15d468(0x1cb)]['remove']('loading'),this['innerHTML']=_0x15d468(0xcc),setTimeout(()=>{const _0xb1683f=_0x15d468;this[_0xb1683f(0x318)]=_0xb1683f(0x1bc);},0xbb8);});});}if(_0xa5d9fa[_0x885764(0x33c)]('manage-articles')){const _0x14a1b7=document['getElementById'](_0x885764(0x226));_0x14a1b7&&_0x14a1b7['addEventListener']('click',function(){const _0x1e44b7=_0x885764;console[_0x1e44b7(0x329)](_0x1e44b7(0x47d)),this[_0x1e44b7(0x1cb)][_0x1e44b7(0x3dd)](_0x1e44b7(0x3ab)),this['innerHTML']=_0x1e44b7(0x314),loadArticles()[_0x1e44b7(0x20f)](()=>{const _0x22dff7=_0x1e44b7;this[_0x22dff7(0x1cb)][_0x22dff7(0x142)](_0x22dff7(0x3ab)),this[_0x22dff7(0x318)]=_0x22dff7(0x1a4);})[_0x1e44b7(0x4a0)](_0x337cff=>{const _0x24358f=_0x1e44b7;console[_0x24358f(0x34f)](_0x24358f(0x1c0),_0x337cff),this[_0x24358f(0x1cb)][_0x24358f(0x142)](_0x24358f(0x3ab)),this['innerHTML']=_0x24358f(0xcc),setTimeout(()=>{const _0x1a333e=_0x24358f;this[_0x1a333e(0x318)]=_0x1a333e(0x1a4);},0xbb8);});});}if(_0xa5d9fa[_0x885764(0x33c)](_0x885764(0x29f))){const _0x5d111e=document['getElementById'](_0x885764(0x16c));_0x5d111e&&_0x5d111e[_0x885764(0x1c3)]('click',function(){const _0x129198=_0x885764;console[_0x129198(0x329)](_0x129198(0xd9)),this[_0x129198(0x1cb)]['add']('loading'),this[_0x129198(0x318)]=_0x129198(0x314),loadUsersWithRoles()[_0x129198(0x20f)](()=>{const _0x51be00=_0x129198;this[_0x51be00(0x1cb)][_0x51be00(0x142)](_0x51be00(0x3ab)),this[_0x51be00(0x318)]='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Users\x20Data';})[_0x129198(0x4a0)](_0xf96af6=>{const _0x185680=_0x129198;console[_0x185680(0x34f)](_0x185680(0x24d),_0xf96af6),this[_0x185680(0x1cb)][_0x185680(0x142)](_0x185680(0x3ab)),this[_0x185680(0x318)]=_0x185680(0xcc),setTimeout(()=>{const _0x1061ed=_0x185680;this[_0x1061ed(0x318)]=_0x1061ed(0x1c4);},0xbb8);});});}if(_0xa5d9fa[_0x885764(0x33c)](_0x885764(0x10a))){const _0xb1d26b=document[_0x885764(0x467)](_0x885764(0x20b));_0xb1d26b&&_0xb1d26b[_0x885764(0x1c3)]('click',function(){const _0x1cb385=_0x885764;console[_0x1cb385(0x329)](_0x1cb385(0x46c)),this[_0x1cb385(0x1cb)][_0x1cb385(0x3dd)](_0x1cb385(0x3ab)),this[_0x1cb385(0x318)]=_0x1cb385(0x314),loadInactivePlayersData()[_0x1cb385(0x20f)](()=>{const _0x3596cb=_0x1cb385;this[_0x3596cb(0x1cb)][_0x3596cb(0x142)]('loading'),this[_0x3596cb(0x318)]=_0x3596cb(0x27a);})[_0x1cb385(0x4a0)](_0x38bb0b=>{const _0x33c3e6=_0x1cb385;console[_0x33c3e6(0x34f)](_0x33c3e6(0x1ae),_0x38bb0b),this[_0x33c3e6(0x1cb)][_0x33c3e6(0x142)]('loading'),this['innerHTML']=_0x33c3e6(0xcc),setTimeout(()=>{const _0x20279c=_0x33c3e6;this[_0x20279c(0x318)]=_0x20279c(0x27a);},0xbb8);});});}if(_0xa5d9fa['includes'](_0x885764(0x28b))){const _0x3457f9=document[_0x885764(0x467)]('load-highlights-data');_0x3457f9&&_0x3457f9['addEventListener'](_0x885764(0x457),function(){const _0x43fe03=_0x885764;console['log'](_0x43fe03(0x286)),this['classList'][_0x43fe03(0x3dd)](_0x43fe03(0x3ab)),this[_0x43fe03(0x318)]=_0x43fe03(0x314),loadHighlightsAdmin()['then'](()=>{const _0x593b1d=_0x43fe03;this[_0x593b1d(0x1cb)][_0x593b1d(0x142)](_0x593b1d(0x3ab)),this[_0x593b1d(0x318)]=_0x593b1d(0x336);})[_0x43fe03(0x4a0)](_0x31aa06=>{const _0x23a9dc=_0x43fe03;console['error'](_0x23a9dc(0xed),_0x31aa06),this[_0x23a9dc(0x1cb)][_0x23a9dc(0x142)](_0x23a9dc(0x3ab)),this['innerHTML']=_0x23a9dc(0xcc),setTimeout(()=>{const _0x40618d=_0x23a9dc;this['innerHTML']=_0x40618d(0x336);},0xbb8);});});}if(_0xa5d9fa[_0x885764(0x33c)](_0x885764(0x215))){const _0x267165=document[_0x885764(0x467)](_0x885764(0x474));_0x267165&&_0x267165[_0x885764(0x1c3)](_0x885764(0x457),function(){const _0x48009d=_0x885764;console['log'](_0x48009d(0x40a)),this['classList'][_0x48009d(0x3dd)](_0x48009d(0x3ab)),this[_0x48009d(0x318)]=_0x48009d(0x314),loadMatchesData(0x1)['then'](()=>{const _0x30d362=_0x48009d;this['classList'][_0x30d362(0x142)]('loading'),this[_0x30d362(0x318)]=_0x30d362(0x8a);})[_0x48009d(0x4a0)](_0x5d89c3=>{const _0x36a94d=_0x48009d;console['error'](_0x36a94d(0xc1),_0x5d89c3),this['classList'][_0x36a94d(0x142)](_0x36a94d(0x3ab)),this[_0x36a94d(0x318)]=_0x36a94d(0xcc),setTimeout(()=>{const _0xb6d3e=_0x36a94d;this[_0xb6d3e(0x318)]=_0xb6d3e(0x8a);},0xbb8);});}),setupCreateTestMatchButton(),setupCreateTestMatchModal();}if(_0xa5d9fa[_0x885764(0x33c)](_0x885764(0x207))){const _0x2b8cd6=document[_0x885764(0x467)]('load-ribbons-data');_0x2b8cd6&&_0x2b8cd6[_0x885764(0x1c3)](_0x885764(0x457),function(){const _0x298572=_0x885764;console[_0x298572(0x329)](_0x298572(0x30b)),this[_0x298572(0x1cb)][_0x298572(0x3dd)]('loading'),this[_0x298572(0x318)]=_0x298572(0x314),loadRibbonsData()['then'](()=>{const _0x3a0fae=_0x298572;this[_0x3a0fae(0x1cb)][_0x3a0fae(0x142)](_0x3a0fae(0x3ab)),this[_0x3a0fae(0x318)]=_0x3a0fae(0x256);})['catch'](_0x2e1ab5=>{const _0x406edd=_0x298572;console[_0x406edd(0x34f)](_0x406edd(0x4b7),_0x2e1ab5),this[_0x406edd(0x1cb)]['remove'](_0x406edd(0x3ab)),this[_0x406edd(0x318)]='<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error',setTimeout(()=>{this['innerHTML']='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Ribbons\x20Data';},0xbb8);});});}console[_0x885764(0x329)](_0x885764(0x235));}function setupDashboardSection(){const _0x9a8b4d=a4_0x5d2362;document['getElementById'](_0x9a8b4d(0x252))[_0x9a8b4d(0x39f)]='-',document['getElementById']('match-count')[_0x9a8b4d(0x39f)]='-',document[_0x9a8b4d(0x467)](_0x9a8b4d(0x14c))['textContent']='-',document['getElementById'](_0x9a8b4d(0x92))[_0x9a8b4d(0x39f)]='-';}function setupLadderSelector(){const _0x3a98c3=a4_0x5d2362,_0x2a450e=document[_0x3a98c3(0x269)](_0x3a98c3(0x4bf));_0x2a450e[_0x3a98c3(0x2fe)](_0x5c5e2a=>{const _0x7dcbce=_0x3a98c3;_0x5c5e2a[_0x7dcbce(0x1c3)](_0x7dcbce(0x422),()=>{const _0x18ff6e=_0x7dcbce;currentLadder=_0x5c5e2a[_0x18ff6e(0x201)],document['body'][_0x18ff6e(0x1b7)]('data-ladder',currentLadder);const _0x489e80=document[_0x18ff6e(0x467)]('current-ladder-display');_0x489e80&&(_0x489e80[_0x18ff6e(0x39f)]=currentLadder),document[_0x18ff6e(0x467)](_0x18ff6e(0x252))['textContent']='-',document[_0x18ff6e(0x467)]('match-count')[_0x18ff6e(0x39f)]='-',document['getElementById']('pending-count')[_0x18ff6e(0x39f)]='-',document[_0x18ff6e(0x467)]('rejected-count')[_0x18ff6e(0x39f)]='-',charts[_0x18ff6e(0x2c6)]&&(charts['rankDistribution'][_0x18ff6e(0x2ef)](),charts[_0x18ff6e(0x2c6)]=null),charts['activity']&&(charts['activity'][_0x18ff6e(0x2ef)](),charts[_0x18ff6e(0x160)]=null),showNotification(_0x18ff6e(0x35d)+currentLadder+_0x18ff6e(0x45f),_0x18ff6e(0x2d9));});});const _0x2d6d8d=document[_0x3a98c3(0x467)](_0x3a98c3(0x41e));_0x2d6d8d&&(_0x2d6d8d[_0x3a98c3(0x39f)]=currentLadder);}async function loadDashboardOverview(){const _0x5e9f80=a4_0x5d2362;try{console[_0x5e9f80(0x329)]('Loading\x20dashboard\x20overview\x20data...'),document[_0x5e9f80(0x467)](_0x5e9f80(0x252))[_0x5e9f80(0x39f)]='-',document['getElementById'](_0x5e9f80(0xa1))[_0x5e9f80(0x39f)]='-',document[_0x5e9f80(0x467)]('pending-count')['textContent']='-',document['getElementById']('rejected-count')[_0x5e9f80(0x39f)]='-';const _0x32e9d8=currentLadder==='D1'?_0x5e9f80(0x44b):currentLadder==='D2'?'playersD2':_0x5e9f80(0x274),_0x2c01c6=currentLadder==='D1'?_0x5e9f80(0x2da):currentLadder==='D2'?'approvedMatchesD2':_0x5e9f80(0x3e5),_0x59f5bc=currentLadder==='D1'?_0x5e9f80(0x1ba):currentLadder==='D2'?_0x5e9f80(0x3c6):_0x5e9f80(0x3f5),_0x3c4f4c=currentLadder==='D1'?_0x5e9f80(0x3a6):currentLadder==='D2'?_0x5e9f80(0x2e8):_0x5e9f80(0x163);console[_0x5e9f80(0x329)](_0x5e9f80(0x205)+currentLadder+':\x20'+_0x32e9d8+',\x20'+_0x2c01c6);const _0x53dc00=await getDocs(collection(db,_0x32e9d8)),_0x605f04=_0x53dc00['size'],_0x85f496=await getDocs(collection(db,_0x2c01c6)),_0x28b339=_0x85f496[_0x5e9f80(0x275)],_0x57a8d2=await getDocs(collection(db,_0x59f5bc)),_0x56d302=_0x57a8d2[_0x5e9f80(0x275)],_0x4ca9a7=await getDocs(collection(db,_0x3c4f4c)),_0x37a0e7=_0x4ca9a7[_0x5e9f80(0x275)];return document[_0x5e9f80(0x467)]('player-count')['textContent']=_0x605f04,document[_0x5e9f80(0x467)](_0x5e9f80(0xa1))[_0x5e9f80(0x39f)]=_0x28b339,document[_0x5e9f80(0x467)](_0x5e9f80(0x14c))[_0x5e9f80(0x39f)]=_0x56d302,document[_0x5e9f80(0x467)]('rejected-count')['textContent']=_0x37a0e7,await createRankDistributionChart(),await createActivityChart(),console[_0x5e9f80(0x329)](_0x5e9f80(0x296)),!![];}catch(_0x2a6652){console[_0x5e9f80(0x34f)]('Error\x20loading\x20dashboard\x20data:',_0x2a6652);throw _0x2a6652;}}async function createRankDistributionChart(){const _0x3c91f0=a4_0x5d2362;try{const _0x11155a=collection(db,currentLadder==='D1'?'players':_0x3c91f0(0xc2)),_0x166dcc=await getDocs(_0x11155a),_0x41aae8={'Unranked':0x0,'Bronze':0x0,'Silver':0x0,'Gold':0x0,'Emerald':0x0};_0x166dcc[_0x3c91f0(0x2fe)](_0x2be308=>{const _0x4848b8=_0x3c91f0,_0x24299b=_0x2be308[_0x4848b8(0x47c)](),_0x5e882a=_0x24299b[_0x4848b8(0x17a)]||0x4b0;if(_0x5e882a>=0x7d0)_0x41aae8['Emerald']++;else{if(_0x5e882a>=0x708)_0x41aae8[_0x4848b8(0x30f)]++;else{if(_0x5e882a>=0x640)_0x41aae8[_0x4848b8(0x369)]++;else{if(_0x5e882a>=0x578)_0x41aae8[_0x4848b8(0x1fd)]++;else _0x41aae8[_0x4848b8(0x3fe)]++;}}}});const _0xf5abd0=document[_0x3c91f0(0x467)]('rank-distribution-chart');charts[_0x3c91f0(0x2c6)]&&charts[_0x3c91f0(0x2c6)]['destroy'](),charts[_0x3c91f0(0x2c6)]=new Chart(_0xf5abd0,{'type':_0x3c91f0(0x3c3),'data':{'labels':Object[_0x3c91f0(0x7f)](_0x41aae8),'datasets':[{'data':Object[_0x3c91f0(0x2a1)](_0x41aae8),'backgroundColor':[_0x3c91f0(0x75),'#CD7F32',_0x3c91f0(0x1fa),_0x3c91f0(0x145),_0x3c91f0(0x45e)],'borderWidth':0x2}]},'options':{'responsive':!![],'maintainAspectRatio':![],'plugins':{'legend':{'position':_0x3c91f0(0x495),'labels':{'color':_0x3c91f0(0x82)}},'title':{'display':!![],'text':currentLadder+_0x3c91f0(0x13c),'color':_0x3c91f0(0x82),'font':{'size':0x10}}}}});}catch(_0x4f8ac7){console[_0x3c91f0(0x34f)](_0x3c91f0(0x1d0),_0x4f8ac7),document[_0x3c91f0(0x467)]('rank-distribution-chart')[_0x3c91f0(0x318)]=_0x3c91f0(0x365);}}async function createActivityChart(){const _0x258018=a4_0x5d2362;try{const _0x3e94dc=currentLadder==='D1'?_0x258018(0x2da):_0x258018(0x3d8),_0x5a0046=collection(db,_0x3e94dc),_0x2e9388=new Date();_0x2e9388[_0x258018(0x17d)](_0x2e9388[_0x258018(0x131)]()-0x7);const _0x4a89b5=query(_0x5a0046,where('approvedAt','>=',_0x2e9388),orderBy(_0x258018(0x359),_0x258018(0x485))),_0x237474=await getDocs(_0x4a89b5),_0x1b4694=[_0x258018(0x4a6),_0x258018(0x173),'Tuesday',_0x258018(0x36d),_0x258018(0x41f),_0x258018(0x48d),'Saturday'],_0xef8ba2=_0x1b4694['reduce']((_0x17e43c,_0x57cbba)=>({..._0x17e43c,[_0x57cbba]:0x0}),{});_0x237474[_0x258018(0x2fe)](_0x56273b=>{const _0x5b6e5d=_0x258018,_0x46ac0c=_0x56273b[_0x5b6e5d(0x47c)]();if(_0x46ac0c[_0x5b6e5d(0x359)]){const _0x471912=_0x1b4694[new Date(_0x46ac0c[_0x5b6e5d(0x359)]['seconds']*0x3e8)[_0x5b6e5d(0x18b)]()];_0xef8ba2[_0x471912]++;}});const _0x3780b8=document['getElementById'](_0x258018(0x43f));charts[_0x258018(0x160)]&&charts[_0x258018(0x160)]['destroy'](),charts[_0x258018(0x160)]=new Chart(_0x3780b8,{'type':'bar','data':{'labels':_0x1b4694,'datasets':[{'label':'Matches\x20Played','data':_0x1b4694['map'](_0x496e84=>_0xef8ba2[_0x496e84]),'backgroundColor':currentLadder==='D1'?_0x258018(0x33f):'rgba(25,\x20118,\x20210,\x200.7)','borderColor':currentLadder==='D1'?_0x258018(0x3b5):'#1976d2','borderWidth':0x1}]},'options':{'responsive':!![],'maintainAspectRatio':![],'scales':{'y':{'beginAtZero':!![],'ticks':{'color':'#e0e0e0'},'grid':{'color':_0x258018(0x208)}},'x':{'ticks':{'color':'#e0e0e0'},'grid':{'color':_0x258018(0x208)}}},'plugins':{'legend':{'labels':{'color':_0x258018(0x82)}},'title':{'display':!![],'text':currentLadder+'\x20Weekly\x20Activity','color':_0x258018(0x82),'font':{'size':0x10}}}}});}catch(_0x3ee062){console[_0x258018(0x34f)](_0x258018(0x423),_0x3ee062),document[_0x258018(0x467)](_0x258018(0x43f))[_0x258018(0x318)]=_0x258018(0x365);}}async function loadPlayersData(){const _0x194fd1=a4_0x5d2362,_0x72133f=document[_0x194fd1(0x467)](_0x194fd1(0x3a4));if(!_0x72133f)return;_0x72133f['innerHTML']=_0x194fd1(0x2aa);try{let _0xd8ad43='players';if(currentLadder==='D2')_0xd8ad43='playersD2';else currentLadder==='D3'&&(_0xd8ad43=_0x194fd1(0x274));console[_0x194fd1(0x329)](_0x194fd1(0xde)+_0xd8ad43+'\x20collection...');const _0x27de8d=collection(db,_0xd8ad43),_0x4a6e6b=query(_0x27de8d,orderBy(_0x194fd1(0x17a),_0x194fd1(0x1d8))),_0x31206f=await getDocs(_0x4a6e6b);if(_0x31206f[_0x194fd1(0xb1)]){_0x72133f[_0x194fd1(0x318)]=_0x194fd1(0x2f6);return;}_0x72133f[_0x194fd1(0x318)]='';let _0x2e8452=0x1;_0x31206f[_0x194fd1(0x2fe)](_0x195ff1=>{const _0x53ded5=_0x194fd1,_0x52e4c3=_0x195ff1[_0x53ded5(0x47c)](),_0xd0b717=getRankFromElo(_0x52e4c3['eloRating']||0x4b0),_0xa9b2db=getRankStyle(_0x52e4c3[_0x53ded5(0x17a)]||0x4b0),_0x2792e5=document[_0x53ded5(0x3ea)]('tr');_0x2792e5[_0x53ded5(0x318)]=_0x53ded5(0x3bb)+_0x2e8452+_0x53ded5(0x3d9)+_0xa9b2db[_0x53ded5(0x350)]+_0x53ded5(0x310)+(_0x52e4c3[_0x53ded5(0x1e5)]||_0x53ded5(0x45c))+_0x53ded5(0x387)+(_0x52e4c3['eloRating']||0x4b0)+_0x53ded5(0x1c9)+_0xa9b2db[_0x53ded5(0x350)]+_0x53ded5(0x1a2)+_0xd0b717+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22stats\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x52e4c3['wins']||0x0)+'W\x20/\x20'+(_0x52e4c3[_0x53ded5(0x32b)]||0x0)+_0x53ded5(0x344)+_0x195ff1['id']+_0x53ded5(0x436)+_0x195ff1['id']+_0x53ded5(0x26f),_0x72133f[_0x53ded5(0x2e6)](_0x2792e5),_0x2e8452++;}),setupPlayerActionButtons();}catch(_0x21d69c){console[_0x194fd1(0x34f)](_0x194fd1(0x3d0),_0x21d69c),_0x72133f['innerHTML']=_0x194fd1(0x213)+_0x21d69c[_0x194fd1(0x233)]+_0x194fd1(0x362);}}function getRankFromElo(_0x501133){const _0x3f5bbc=a4_0x5d2362;if(_0x501133>=0x7d0)return'Emerald';if(_0x501133>=0x708)return _0x3f5bbc(0x30f);if(_0x501133>=0x640)return _0x3f5bbc(0x369);if(_0x501133>=0x578)return _0x3f5bbc(0x1fd);return _0x3f5bbc(0x3fe);}function setupPlayerActionButtons(){const _0x207313=a4_0x5d2362;document[_0x207313(0x269)](_0x207313(0x4c0))[_0x207313(0x2fe)](_0x108af3=>{const _0x40cb00=_0x207313;_0x108af3['addEventListener'](_0x40cb00(0x457),async _0x2693c8=>{const _0x20e7a2=_0x40cb00,_0x15a97a=_0x2693c8[_0x20e7a2(0x46d)]['dataset']['id'];openEditPlayerModal(_0x15a97a);});}),document[_0x207313(0x269)](_0x207313(0x470))[_0x207313(0x2fe)](_0x43066b=>{const _0x4ac7ee=_0x207313;_0x43066b[_0x4ac7ee(0x1c3)]('click',async _0x4f98d8=>{const _0x4fa300=_0x4ac7ee,_0x261c1f=_0x4f98d8[_0x4fa300(0x46d)]['dataset']['id'];confirmDeletePlayer(_0x261c1f);});});}async function openEditPlayerModal(_0x3b8ac7){const _0xefbc42=a4_0x5d2362;try{const _0x5d4c8a=currentLadder==='D1'?'players':_0xefbc42(0xc2),_0x3ebcf5=doc(db,_0x5d4c8a,_0x3b8ac7),_0x14c01b=await getDoc(_0x3ebcf5);if(!_0x14c01b[_0xefbc42(0x419)]()){showNotification(_0xefbc42(0xf1),'error');return;}const _0x21b722=_0x14c01b['data'](),_0x452d26=document[_0xefbc42(0x467)]('edit-player-modal'),_0x12c1ce=document[_0xefbc42(0x467)](_0xefbc42(0x3d5)),_0x37e453=document['getElementById']('edit-elo'),_0x4b3841=document[_0xefbc42(0x467)]('edit-wins'),_0x34d89c=document[_0xefbc42(0x467)](_0xefbc42(0x10b));_0x12c1ce[_0xefbc42(0x201)]=_0x21b722[_0xefbc42(0x1e5)]||'',_0x37e453[_0xefbc42(0x201)]=_0x21b722[_0xefbc42(0x17a)]||0x4b0,_0x4b3841[_0xefbc42(0x201)]=_0x21b722['wins']||0x0,_0x34d89c[_0xefbc42(0x201)]=_0x21b722[_0xefbc42(0x32b)]||0x0,_0x452d26[_0xefbc42(0x27f)][_0xefbc42(0x2cd)]=_0x3b8ac7,_0x452d26[_0xefbc42(0x1cb)][_0xefbc42(0x3dd)](_0xefbc42(0x158));}catch(_0x5d4bfb){console[_0xefbc42(0x34f)](_0xefbc42(0x488),_0x5d4bfb),showNotification(_0xefbc42(0x144),'error');}}async function saveEditedPlayer(){const _0x50b378=a4_0x5d2362;try{const _0x417f17=document[_0x50b378(0x467)]('edit-player-modal'),_0x5ccefb=_0x417f17['dataset'][_0x50b378(0x2cd)];if(!_0x5ccefb){showNotification(_0x50b378(0x19b),'error');return;}const _0x2cc6de=document[_0x50b378(0x467)](_0x50b378(0x3d5)),_0x3f8b39=document[_0x50b378(0x467)](_0x50b378(0x23b)),_0x42d932=document[_0x50b378(0x467)]('edit-wins'),_0x1d5605=document[_0x50b378(0x467)](_0x50b378(0x10b)),_0x3db2a7=_0x2cc6de[_0x50b378(0x201)]['trim'](),_0x1f0f63=parseInt(_0x3f8b39[_0x50b378(0x201)]),_0x36864a=parseInt(_0x42d932['value']),_0xf23692=parseInt(_0x1d5605['value']);if(!_0x3db2a7||isNaN(_0x1f0f63)){showNotification(_0x50b378(0x3cc),_0x50b378(0x34f));return;}const _0x1a8605=currentLadder==='D1'?_0x50b378(0x44b):_0x50b378(0xc2),_0xdd3a01=doc(db,_0x1a8605,_0x5ccefb),_0x3e5f94=await getDoc(_0xdd3a01),_0x543bf9=_0x3e5f94['exists']()?_0x3e5f94['data']():{},_0x2337a9=_0x543bf9[_0x50b378(0x17a)]||0x4b0;await updateDoc(_0xdd3a01,{'username':_0x3db2a7,'eloRating':_0x1f0f63,'wins':_0x36864a||0x0,'losses':_0xf23692||0x0,'lastModifiedAt':serverTimestamp(),'lastModifiedBy':auth[_0x50b378(0x4af)][_0x50b378(0xe6)]});if(_0x1f0f63!==_0x2337a9){const _0x24b3f6=currentLadder==='D1'?_0x50b378(0x2d1):'eloHistoryD2';await addDoc(collection(db,_0x24b3f6),{'player':_0x3db2a7,'previousElo':_0x2337a9,'newElo':_0x1f0f63,'timestamp':serverTimestamp(),'type':_0x50b378(0x2a7),'modifiedBy':auth[_0x50b378(0x4af)][_0x50b378(0xe6)],'gameMode':currentLadder});}closeEditPlayerModal(),loadPlayersData(),showNotification(_0x50b378(0x351),_0x50b378(0xc7));}catch(_0x408b90){console[_0x50b378(0x34f)]('Error\x20updating\x20player:',_0x408b90),showNotification(_0x50b378(0x1ce)+_0x408b90[_0x50b378(0x233)],'error');}}function closeEditPlayerModal(){const _0x46cd66=a4_0x5d2362,_0x2f3be0=document['getElementById'](_0x46cd66(0x1ff));_0x2f3be0[_0x46cd66(0x1cb)][_0x46cd66(0x142)](_0x46cd66(0x158)),_0x2f3be0[_0x46cd66(0x27f)]['playerId']='';}async function confirmDeletePlayer(_0x427e81){const _0x5a160c=a4_0x5d2362;if(confirm(_0x5a160c(0x28c)))try{const _0x34a224=currentLadder==='D1'?_0x5a160c(0x44b):_0x5a160c(0xc2);await deleteDoc(doc(db,_0x34a224,_0x427e81)),loadPlayersData(),showNotification('Player\x20deleted\x20successfully',_0x5a160c(0xc7));}catch(_0x4139be){console['error'](_0x5a160c(0x206),_0x4139be),showNotification(_0x5a160c(0x216)+_0x4139be['message'],_0x5a160c(0x34f));}}async function setupManagePlayersSection(){const _0x531b31=a4_0x5d2362,_0x48d931=document[_0x531b31(0x467)](_0x531b31(0x2ea));_0x48d931&&_0x48d931['addEventListener'](_0x531b31(0x315),async _0x3132dc=>{const _0x47d963=_0x531b31;_0x3132dc[_0x47d963(0x11d)](),await addNewPlayer();});const _0x1d3edf=document['getElementById'](_0x531b31(0x273));_0x1d3edf&&_0x1d3edf[_0x531b31(0x1c3)](_0x531b31(0x3b1),debounce(filterPlayerTable,0x12c));const _0x124e40=document[_0x531b31(0x467)](_0x531b31(0x243));_0x124e40&&_0x124e40[_0x531b31(0x1c3)]('click',saveEditedPlayer);const _0x5560e0=document['getElementById'](_0x531b31(0x466));_0x5560e0&&_0x5560e0[_0x531b31(0x1c3)]('click',closeEditPlayerModal);const _0x4a6c49=document[_0x531b31(0x467)]('edit-player-modal');_0x4a6c49&&_0x4a6c49[_0x531b31(0x1c3)](_0x531b31(0x457),_0x47c233=>{const _0x1e2981=_0x531b31;_0x47c233[_0x1e2981(0x32f)]===_0x4a6c49&&closeEditPlayerModal();});const _0x1373bd=document[_0x531b31(0x467)](_0x531b31(0xbf));_0x1373bd&&_0x1373bd[_0x531b31(0x1c3)](_0x531b31(0x422),()=>{const _0x3f87d4=_0x531b31;currentLadder=_0x1373bd[_0x3f87d4(0x201)],loadPlayersData();});}async function addNewPlayer(){const _0x2c677c=a4_0x5d2362;try{const _0x52ea81=document[_0x2c677c(0x467)](_0x2c677c(0x3f9)),_0x1795d0=document['getElementById']('new-player-elo'),_0x42eaa3=_0x52ea81[_0x2c677c(0x201)][_0x2c677c(0x271)](),_0x215553=parseInt(_0x1795d0[_0x2c677c(0x201)])||0x4b0;if(!_0x42eaa3){alert(_0x2c677c(0x133));return;}console[_0x2c677c(0x329)](_0x2c677c(0xd7)+_0x42eaa3+_0x2c677c(0x31e)+_0x215553+_0x2c677c(0xdc)+currentLadder+_0x2c677c(0x1eb));let _0x21cf8d=_0x2c677c(0x44b),_0x123634=_0x2c677c(0x2d1);if(currentLadder==='D2')_0x21cf8d=_0x2c677c(0xc2),_0x123634=_0x2c677c(0x22a);else currentLadder==='D3'&&(_0x21cf8d=_0x2c677c(0x274),_0x123634=_0x2c677c(0xf6));const _0x1bcf38=query(collection(db,_0x21cf8d),where(_0x2c677c(0x1e5),'==',_0x42eaa3)),_0x50acab=await getDocs(_0x1bcf38);if(!_0x50acab[_0x2c677c(0xb1)]){alert(_0x2c677c(0x40b)+_0x42eaa3+_0x2c677c(0x429)+currentLadder+'\x20ladder');return;}const _0x2da7fb=auth[_0x2c677c(0x4af)],_0x257d31={'username':_0x42eaa3,'eloRating':_0x215553,'wins':0x0,'losses':0x0,'createdAt':serverTimestamp(),'createdBy':_0x2da7fb?_0x2da7fb['email']:_0x2c677c(0x4ab),'gameMode':currentLadder};await addDoc(collection(db,_0x21cf8d),_0x257d31),await addDoc(collection(db,_0x123634),{'player':_0x42eaa3,'previousElo':0x4b0,'newElo':_0x215553,'timestamp':serverTimestamp(),'type':_0x2c677c(0x42a),'placedBy':_0x2da7fb?_0x2da7fb['email']:'admin','gameMode':currentLadder}),_0x52ea81[_0x2c677c(0x201)]='',_0x1795d0[_0x2c677c(0x201)]='1200',alert(_0x2c677c(0x431)+_0x42eaa3+_0x2c677c(0x7c)+currentLadder+_0x2c677c(0x3a5)),loadPlayersData();}catch(_0x3cb11a){console['error'](_0x2c677c(0x222),_0x3cb11a),alert('Error\x20adding\x20player:\x20'+_0x3cb11a['message']);}}document[a4_0x5d2362(0x1c3)](a4_0x5d2362(0x204),()=>{const _0x530cbe=a4_0x5d2362,_0x13fd67=document[_0x530cbe(0x467)](_0x530cbe(0x2ea));_0x13fd67&&_0x13fd67[_0x530cbe(0x1c3)](_0x530cbe(0x315),_0x381d38=>{const _0x300c33=_0x530cbe;_0x381d38[_0x300c33(0x11d)](),addNewPlayer();});});function filterPlayerTable(){const _0xee2c58=a4_0x5d2362,_0x310681=document['getElementById'](_0xee2c58(0x273))[_0xee2c58(0x201)][_0xee2c58(0x409)](),_0x5f356=document[_0xee2c58(0x269)](_0xee2c58(0x280));let _0x2c3403=0x0;_0x5f356[_0xee2c58(0x2fe)](_0x17086c=>{const _0x31d93b=_0xee2c58,_0x37cfc0=_0x17086c['querySelector']('.username')?.['textContent'][_0x31d93b(0x409)]()||'';_0x37cfc0[_0x31d93b(0x33c)](_0x310681)?(_0x17086c[_0x31d93b(0x1f7)][_0x31d93b(0x3ee)]='',_0x2c3403++):_0x17086c[_0x31d93b(0x1f7)][_0x31d93b(0x3ee)]=_0x31d93b(0x3e0);});const _0x4206a3=document[_0xee2c58(0x467)](_0xee2c58(0x2f5));_0x4206a3&&(_0x2c3403===0x0&&_0x310681!==''?_0x4206a3[_0xee2c58(0x1f7)][_0xee2c58(0x3ee)]=_0xee2c58(0x109):_0x4206a3['style'][_0xee2c58(0x3ee)]=_0xee2c58(0x3e0));}function debounce(_0x2c53a6,_0xe5c796){let _0x241d4a;return function(..._0x4efb54){const _0x589957=a4_0x2715;clearTimeout(_0x241d4a),_0x241d4a=setTimeout(()=>_0x2c53a6[_0x589957(0x27d)](this,_0x4efb54),_0xe5c796);};}async function loadEloHistory(_0x125899=0x1){const _0x367ab9=a4_0x5d2362,_0x1f7068=document[_0x367ab9(0x467)](_0x367ab9(0x138)),_0x19a508=currentLadder[_0x367ab9(0x409)]();if(!_0x1f7068)return;_0x1f7068[_0x367ab9(0x318)]=_0x367ab9(0x299);try{const _0x31f1a1=currentLadder==='D1'?_0x367ab9(0x2d1):currentLadder==='D2'?_0x367ab9(0x22a):_0x367ab9(0xf6),_0x3193a1=collection(db,_0x31f1a1);let _0x3a4737;if(_0x125899>eloHistoryPagination[_0x19a508][_0x367ab9(0xa8)]&&eloHistoryPagination[_0x19a508][_0x367ab9(0x3f6)])_0x3a4737=query(_0x3193a1,orderBy(_0x367ab9(0x35e),_0x367ab9(0x1d8)),startAfter(eloHistoryPagination[_0x19a508][_0x367ab9(0x3f6)]),limit(PAGE_SIZE));else _0x125899<eloHistoryPagination[_0x19a508][_0x367ab9(0xa8)]&&eloHistoryPagination[_0x19a508][_0x367ab9(0x2f1)]?_0x3a4737=query(_0x3193a1,orderBy('timestamp',_0x367ab9(0x1d8)),endBefore(eloHistoryPagination[_0x19a508][_0x367ab9(0x2f1)]),limitToLast(PAGE_SIZE)):_0x3a4737=query(_0x3193a1,orderBy('timestamp',_0x367ab9(0x1d8)),limit(PAGE_SIZE));const _0x3615a1=await getDocs(_0x3a4737);if(_0x3615a1[_0x367ab9(0xb1)]){_0x1f7068[_0x367ab9(0x318)]=_0x367ab9(0x151),document['getElementById'](_0x19a508+_0x367ab9(0x29d))[_0x367ab9(0x39f)]='Page\x201';return;}eloHistoryPagination[_0x19a508]['page']=_0x125899,eloHistoryPagination[_0x19a508][_0x367ab9(0x2f1)]=_0x3615a1[_0x367ab9(0x23e)][0x0],eloHistoryPagination[_0x19a508][_0x367ab9(0x3f6)]=_0x3615a1['docs'][_0x3615a1[_0x367ab9(0x23e)][_0x367ab9(0x20e)]-0x1];const _0x2f6e8c=new Map();_0x1f7068['innerHTML']='';const _0x4000d2=async _0x2ade1b=>{const _0x333899=_0x367ab9;if(typeof _0x2ade1b!==_0x333899(0x8f)||_0x2ade1b[_0x333899(0x20e)]<0x14||/[^a-zA-Z0-9-_]/[_0x333899(0x284)](_0x2ade1b))return _0x2ade1b;if(_0x2f6e8c['has'](_0x2ade1b))return _0x2f6e8c[_0x333899(0x3a1)](_0x2ade1b);try{for(const _0x128356 of[_0x333899(0x44b),_0x333899(0xc2),_0x333899(0x274),_0x333899(0x4a1)]){const _0xc721d9=await getDoc(doc(db,_0x128356,_0x2ade1b));if(_0xc721d9[_0x333899(0x419)]()&&_0xc721d9[_0x333899(0x47c)]()[_0x333899(0x1e5)]){const _0x4975=_0xc721d9[_0x333899(0x47c)]()['username'];return _0x2f6e8c[_0x333899(0x3ba)](_0x2ade1b,_0x4975),_0x4975;}}return _0x2ade1b;}catch(_0x46e5f2){return console[_0x333899(0xb3)](_0x333899(0x1e6)+_0x2ade1b+':',_0x46e5f2),_0x2ade1b;}};for(const _0x169a90 of _0x3615a1['docs']){const _0x468b91=_0x169a90['data'](),_0x532e8a=document[_0x367ab9(0x3ea)]('tr'),_0xd71122=_0x468b91[_0x367ab9(0x35e)]?new Date(_0x468b91[_0x367ab9(0x35e)][_0x367ab9(0x3e1)]*0x3e8)['toLocaleString']():_0x367ab9(0x2b7),_0x593532=_0x468b91[_0x367ab9(0x281)]-_0x468b91[_0x367ab9(0x114)],_0x3bf1f4=_0x593532>0x0?_0x367ab9(0x2bd):_0x593532<0x0?_0x367ab9(0x2e2):'',_0x114db2=_0x593532>0x0?'+':'',_0x544157=_0x468b91[_0x367ab9(0x2cf)]||_0x468b91[_0x367ab9(0x1e5)]||_0x468b91[_0x367ab9(0x210)]||'N/A',_0x3775bd=await _0x4000d2(_0x544157);_0x532e8a[_0x367ab9(0x318)]=_0x367ab9(0xd5)+_0xd71122+_0x367ab9(0x1ab)+_0x3775bd+_0x367ab9(0x6d)+(_0x468b91[_0x367ab9(0x114)]||_0x367ab9(0x2b7))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22new-elo\x22>'+(_0x468b91[_0x367ab9(0x281)]||_0x367ab9(0x2b7))+_0x367ab9(0x338)+_0x3bf1f4+'\x22>'+_0x114db2+_0x593532+_0x367ab9(0x38d)+formatHistoryType(_0x468b91[_0x367ab9(0x383)])+_0x367ab9(0x8d)+(_0x468b91[_0x367ab9(0x2e3)]||_0x468b91[_0x367ab9(0x253)]||_0x468b91['demotedBy']||_0x367ab9(0x182))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x1f7068['appendChild'](_0x532e8a);}document[_0x367ab9(0x467)](_0x19a508+_0x367ab9(0x29d))[_0x367ab9(0x39f)]='Page\x20'+_0x125899;const _0x2d9460=document[_0x367ab9(0x467)](_0x19a508+_0x367ab9(0x411)),_0x507c10=document[_0x367ab9(0x467)](_0x19a508+'-next-page');if(_0x2d9460)_0x2d9460['disabled']=_0x125899<=0x1;const _0x116a1d=query(_0x3193a1,orderBy(_0x367ab9(0x35e),_0x367ab9(0x1d8)),startAfter(eloHistoryPagination[_0x19a508][_0x367ab9(0x3f6)]),limit(0x1)),_0x38f1b1=await getDocs(_0x116a1d);if(_0x507c10)_0x507c10['disabled']=_0x38f1b1['empty'];}catch(_0x38356d){console[_0x367ab9(0x34f)](_0x367ab9(0x221),_0x38356d),_0x1f7068['innerHTML']=_0x367ab9(0x386)+_0x38356d[_0x367ab9(0x233)]+_0x367ab9(0x362);}}function formatHistoryType(_0x9ac061){const _0x1a9efd=a4_0x5d2362;switch(_0x9ac061){case _0x1a9efd(0x2d5):return _0x1a9efd(0x1a8);case _0x1a9efd(0x196):return _0x1a9efd(0x352);case _0x1a9efd(0x478):return _0x1a9efd(0x18d);case _0x1a9efd(0x2a7):return _0x1a9efd(0x3f7);case _0x1a9efd(0x42a):return _0x1a9efd(0x1c6);default:return _0x9ac061||'Unknown';}}function setupEloHistorySection(){const _0x2a70ea=a4_0x5d2362;document['getElementById'](_0x2a70ea(0x374))[_0x2a70ea(0x1c3)](_0x2a70ea(0x457),()=>{const _0x57b625=_0x2a70ea;loadEloHistory(eloHistoryPagination['d1'][_0x57b625(0xa8)]-0x1);}),document[_0x2a70ea(0x467)](_0x2a70ea(0x4bc))[_0x2a70ea(0x1c3)]('click',()=>{const _0x1103a6=_0x2a70ea;loadEloHistory(eloHistoryPagination['d1'][_0x1103a6(0xa8)]+0x1);}),document['getElementById']('d2-prev-page')[_0x2a70ea(0x1c3)](_0x2a70ea(0x457),()=>{loadEloHistory(eloHistoryPagination['d2']['page']-0x1);}),document['getElementById']('d2-next-page')[_0x2a70ea(0x1c3)](_0x2a70ea(0x457),()=>{const _0x1db368=_0x2a70ea;loadEloHistory(eloHistoryPagination['d2'][_0x1db368(0xa8)]+0x1);});const _0x43613c=document[_0x2a70ea(0x467)]('d3-prev-page'),_0x4fecaa=document[_0x2a70ea(0x467)]('d3-next-page');_0x43613c&&_0x43613c['addEventListener'](_0x2a70ea(0x457),()=>{const _0xe88118=_0x2a70ea;loadEloHistory(eloHistoryPagination['d3'][_0xe88118(0xa8)]-0x1);});_0x4fecaa&&_0x4fecaa['addEventListener'](_0x2a70ea(0x457),()=>{const _0x315e78=_0x2a70ea;loadEloHistory(eloHistoryPagination['d3'][_0x315e78(0xa8)]+0x1);});const _0x405056=document[_0x2a70ea(0x467)]('elo-history-search');_0x405056&&_0x405056[_0x2a70ea(0x1c3)](_0x2a70ea(0x3b1),debounce(filterEloHistoryTable,0x12c));const _0x4bc09e=document[_0x2a70ea(0x467)]('history-type-filter');_0x4bc09e&&_0x4bc09e[_0x2a70ea(0x1c3)](_0x2a70ea(0x422),applyEloHistoryFilters);const _0x383898=document[_0x2a70ea(0x467)](_0x2a70ea(0x42b));_0x383898&&_0x383898[_0x2a70ea(0x1c3)](_0x2a70ea(0x457),resetEloHistoryFilters);}function filterEloHistoryTable(){const _0x178e20=a4_0x5d2362,_0x53c49d=document[_0x178e20(0x467)](_0x178e20(0x27b))[_0x178e20(0x201)][_0x178e20(0x409)](),_0x5833e1=document[_0x178e20(0x269)](_0x178e20(0x3c4));let _0x201df7=0x0;_0x5833e1['forEach'](_0x2c01a0=>{const _0x5d5ceb=_0x178e20;if(_0x2c01a0[_0x5d5ceb(0x1cb)][_0x5d5ceb(0x29b)]('loading-cell')||_0x2c01a0[_0x5d5ceb(0x1cb)][_0x5d5ceb(0x29b)](_0x5d5ceb(0x2b0))||_0x2c01a0[_0x5d5ceb(0x1cb)][_0x5d5ceb(0x29b)](_0x5d5ceb(0x2c2)))return;const _0x4d693d=_0x2c01a0[_0x5d5ceb(0x368)](_0x5d5ceb(0x1b4))?.[_0x5d5ceb(0x39f)][_0x5d5ceb(0x409)]()||'',_0x102b8c=_0x2c01a0[_0x5d5ceb(0x368)](_0x5d5ceb(0x265))?.[_0x5d5ceb(0x39f)][_0x5d5ceb(0x409)]()||'',_0x490add=_0x2c01a0[_0x5d5ceb(0x368)]('.admin-action')?.[_0x5d5ceb(0x39f)]['toLowerCase']()||'';_0x4d693d[_0x5d5ceb(0x33c)](_0x53c49d)||_0x102b8c[_0x5d5ceb(0x33c)](_0x53c49d)||_0x490add[_0x5d5ceb(0x33c)](_0x53c49d)?(_0x2c01a0[_0x5d5ceb(0x1f7)][_0x5d5ceb(0x3ee)]='',_0x201df7++):_0x2c01a0[_0x5d5ceb(0x1f7)]['display']='none';});}async function applyEloHistoryFilters(){const _0x41efcc=a4_0x5d2362,_0x3eb248=document['getElementById'](_0x41efcc(0x130))[_0x41efcc(0x201)],_0x569dd2=document[_0x41efcc(0x467)]('history-end-date')['value'],_0xe2baee=document[_0x41efcc(0x467)](_0x41efcc(0x1c1))[_0x41efcc(0x201)],_0x3e7324=currentLadder[_0x41efcc(0x409)]();eloHistoryPagination[_0x3e7324]={'page':0x1,'lastVisible':null,'firstVisible':null};const _0x3487d6=document[_0x41efcc(0x467)](_0x41efcc(0x138));_0x3487d6[_0x41efcc(0x318)]=_0x41efcc(0x448);try{const _0x3ca980=currentLadder==='D1'?_0x41efcc(0x2d1):'eloHistoryD2',_0x18d917=collection(db,_0x3ca980);let _0x30af9a=[orderBy(_0x41efcc(0x35e),_0x41efcc(0x1d8))];if(_0x3eb248){const _0x1ccf1d=new Date(_0x3eb248);_0x1ccf1d[_0x41efcc(0x25c)](0x0,0x0,0x0,0x0),_0x30af9a[_0x41efcc(0x99)](where(_0x41efcc(0x35e),'>=',_0x1ccf1d));}if(_0x569dd2){const _0x3d119e=new Date(_0x569dd2);_0x3d119e[_0x41efcc(0x25c)](0x17,0x3b,0x3b,0x3e7),_0x30af9a[_0x41efcc(0x99)](where('timestamp','<=',_0x3d119e));}_0xe2baee&&_0xe2baee!==_0x41efcc(0x1ea)&&_0x30af9a[_0x41efcc(0x99)](where(_0x41efcc(0x383),'==',_0xe2baee));_0x30af9a[_0x41efcc(0x99)](limit(PAGE_SIZE));const _0x72923b=query(_0x18d917,..._0x30af9a),_0x4e4cbb=await getDocs(_0x72923b);!_0x4e4cbb['empty']&&(eloHistoryPagination[_0x3e7324][_0x41efcc(0x2f1)]=_0x4e4cbb[_0x41efcc(0x23e)][0x0],eloHistoryPagination[_0x3e7324][_0x41efcc(0x3f6)]=_0x4e4cbb[_0x41efcc(0x23e)][_0x4e4cbb[_0x41efcc(0x23e)]['length']-0x1]);_0x3487d6[_0x41efcc(0x318)]='';if(_0x4e4cbb['empty']){_0x3487d6[_0x41efcc(0x318)]='<tr><td\x20colspan=\x227\x22\x20class=\x22empty-state\x22>No\x20matches\x20found\x20for\x20the\x20selected\x20filters</td></tr>';return;}_0x4e4cbb[_0x41efcc(0x2fe)](_0x2b2330=>{const _0x439bb8=_0x41efcc,_0x8c97aa=_0x2b2330[_0x439bb8(0x47c)](),_0x551990=document[_0x439bb8(0x3ea)]('tr'),_0x2a4854=_0x8c97aa[_0x439bb8(0x35e)]?new Date(_0x8c97aa[_0x439bb8(0x35e)][_0x439bb8(0x3e1)]*0x3e8)['toLocaleString']():_0x439bb8(0x2b7),_0x49925f=_0x8c97aa[_0x439bb8(0x281)]-_0x8c97aa[_0x439bb8(0x114)],_0x2a388e=_0x49925f>0x0?_0x439bb8(0x2bd):_0x49925f<0x0?_0x439bb8(0x2e2):'',_0x103672=_0x49925f>0x0?'+':'',_0x427845=_0x8c97aa['player']||_0x8c97aa[_0x439bb8(0x1e5)]||_0x8c97aa[_0x439bb8(0x210)]||'N/A';_0x551990[_0x439bb8(0x318)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22timestamp\x22>'+_0x2a4854+_0x439bb8(0x1ab)+_0x427845+_0x439bb8(0x6d)+(_0x8c97aa[_0x439bb8(0x114)]||_0x439bb8(0x2b7))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22new-elo\x22>'+(_0x8c97aa[_0x439bb8(0x281)]||_0x439bb8(0x2b7))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22elo-change\x20'+_0x2a388e+'\x22>'+_0x103672+_0x49925f+_0x439bb8(0x38d)+formatHistoryType(_0x8c97aa[_0x439bb8(0x383)])+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22admin-action\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x8c97aa[_0x439bb8(0x2e3)]||_0x8c97aa[_0x439bb8(0x253)]||_0x8c97aa[_0x439bb8(0xce)]||_0x439bb8(0x182))+_0x439bb8(0x309),_0x3487d6[_0x439bb8(0x2e6)](_0x551990);}),document[_0x41efcc(0x467)](_0x3e7324+_0x41efcc(0x29d))[_0x41efcc(0x39f)]=_0x41efcc(0x19e);}catch(_0x513cd7){console[_0x41efcc(0x34f)](_0x41efcc(0x108),_0x513cd7),_0x3487d6[_0x41efcc(0x318)]=_0x41efcc(0x4b2)+_0x513cd7[_0x41efcc(0x233)]+_0x41efcc(0x362);}}function resetEloHistoryFilters(){const _0x1df309=a4_0x5d2362;document[_0x1df309(0x467)](_0x1df309(0x130))[_0x1df309(0x201)]='',document[_0x1df309(0x467)](_0x1df309(0x147))['value']='',document[_0x1df309(0x467)]('history-type-filter')['value']=_0x1df309(0x1ea),document['getElementById'](_0x1df309(0x27b))[_0x1df309(0x201)]='';const _0x491374=currentLadder[_0x1df309(0x409)]();eloHistoryPagination[_0x491374]={'page':0x1,'lastVisible':null,'firstVisible':null},loadEloHistory(0x1);}function setupRankControls(){const _0x59dd4a=a4_0x5d2362,_0x4745b2=document[_0x59dd4a(0x467)](_0x59dd4a(0x119)),_0x5d0298=document[_0x59dd4a(0x467)]('promote-modal'),_0x58eeec=document[_0x59dd4a(0x467)]('promote-form');_0x4745b2&&_0x5d0298&&_0x58eeec&&(_0x4745b2['addEventListener'](_0x59dd4a(0x457),()=>{const _0x5254d8=_0x59dd4a;_0x5d0298[_0x5254d8(0x1cb)][_0x5254d8(0x3dd)]('active');}),_0x5d0298[_0x59dd4a(0x1c3)](_0x59dd4a(0x457),_0x3d1ee0=>{const _0x47b6df=_0x59dd4a;_0x3d1ee0[_0x47b6df(0x32f)]===_0x5d0298&&_0x5d0298[_0x47b6df(0x1cb)][_0x47b6df(0x142)]('active');}),_0x58eeec[_0x59dd4a(0x1c3)]('submit',async _0x5c6245=>{const _0x5a3e65=_0x59dd4a;_0x5c6245[_0x5a3e65(0x11d)]();const _0x1bb8eb=document['getElementById'](_0x5a3e65(0x46b)),_0x28bfd8=document[_0x5a3e65(0x467)](_0x5a3e65(0xc6)),_0x5afaf8=_0x1bb8eb[_0x5a3e65(0x201)]['trim'](),_0x556b0a=_0x28bfd8[_0x5a3e65(0x201)];if(!_0x5afaf8){showNotification('Please\x20enter\x20a\x20username','error');return;}try{await promotePlayer(_0x5afaf8,_0x556b0a),_0x5d0298['classList'][_0x5a3e65(0x142)](_0x5a3e65(0x158)),_0x1bb8eb[_0x5a3e65(0x201)]='';}catch(_0x1ea3d6){showNotification(_0x1ea3d6[_0x5a3e65(0x233)],_0x5a3e65(0x34f));}}),document['getElementById']('cancel-promote-btn')[_0x59dd4a(0x1c3)](_0x59dd4a(0x457),()=>{const _0x242388=_0x59dd4a;_0x5d0298[_0x242388(0x1cb)][_0x242388(0x142)](_0x242388(0x158));}));const _0x5976fe=document[_0x59dd4a(0x467)](_0x59dd4a(0x4c8)),_0x254bfa=document['getElementById'](_0x59dd4a(0x2f9)),_0x59806c=document['getElementById']('demote-form');_0x5976fe&&_0x254bfa&&_0x59806c&&(_0x5976fe[_0x59dd4a(0x1c3)](_0x59dd4a(0x457),()=>{const _0x18b6fc=_0x59dd4a;_0x254bfa[_0x18b6fc(0x1cb)]['add']('active');}),_0x254bfa['addEventListener']('click',_0x90bb25=>{const _0x53385f=_0x59dd4a;_0x90bb25[_0x53385f(0x32f)]===_0x254bfa&&_0x254bfa[_0x53385f(0x1cb)][_0x53385f(0x142)](_0x53385f(0x158));}),_0x59806c[_0x59dd4a(0x1c3)]('submit',async _0x76bf03=>{const _0x13e1ea=_0x59dd4a;_0x76bf03[_0x13e1ea(0x11d)]();const _0x36975d=document[_0x13e1ea(0x467)]('demote-username'),_0x5e8abb=document[_0x13e1ea(0x467)](_0x13e1ea(0x3fd)),_0x2004d6=_0x36975d[_0x13e1ea(0x201)][_0x13e1ea(0x271)](),_0x59bce0=_0x5e8abb['value'];if(!_0x2004d6){alert(_0x13e1ea(0x179));return;}try{await demotePlayer(_0x2004d6,_0x59bce0),document[_0x13e1ea(0x467)](_0x13e1ea(0x2f9))[_0x13e1ea(0x1cb)][_0x13e1ea(0x142)](_0x13e1ea(0x158)),document[_0x13e1ea(0x467)](_0x13e1ea(0x1f9))[_0x13e1ea(0x201)]='';}catch(_0x4883fc){console['error']('Error\x20in\x20demotion:',_0x4883fc);}}));const _0x18c922=document[_0x59dd4a(0x467)](_0x59dd4a(0x44c)),_0x4c22e5=document['getElementById']('set-elo-modal'),_0x51b5b1=document['getElementById'](_0x59dd4a(0x123));_0x18c922&&_0x4c22e5&&_0x51b5b1&&(_0x18c922['addEventListener'](_0x59dd4a(0x457),()=>{const _0x18865b=_0x59dd4a;_0x4c22e5['classList']['add'](_0x18865b(0x158));}),_0x4c22e5[_0x59dd4a(0x1c3)](_0x59dd4a(0x457),_0x39d686=>{const _0x28cec1=_0x59dd4a;_0x39d686[_0x28cec1(0x32f)]===_0x4c22e5&&_0x4c22e5[_0x28cec1(0x1cb)][_0x28cec1(0x142)](_0x28cec1(0x158));}),_0x51b5b1['addEventListener'](_0x59dd4a(0x315),async _0x2e581c=>{const _0x3f7759=_0x59dd4a;_0x2e581c[_0x3f7759(0x11d)]();const _0x2ba2d9=document[_0x3f7759(0x467)]('set-elo-username'),_0x59809b=document[_0x3f7759(0x467)](_0x3f7759(0x469));let _0x3ddef0;const _0x18ca34=document[_0x3f7759(0x467)](_0x3f7759(0x4b3)),_0x12efcf=document[_0x3f7759(0x368)](_0x3f7759(0x497));if(_0x18ca34)_0x3ddef0=_0x18ca34[_0x3f7759(0x201)];else _0x12efcf?_0x3ddef0=_0x12efcf['value']:_0x3ddef0='D1';if(!_0x2ba2d9||!_0x59809b){showNotification(_0x3f7759(0x115),_0x3f7759(0x34f));return;}const _0x2516f9=_0x2ba2d9[_0x3f7759(0x201)]['trim'](),_0x2b5164=parseInt(_0x59809b['value']);if(!_0x2516f9||isNaN(_0x2b5164)){showNotification('Please\x20enter\x20valid\x20username\x20and\x20ELO',_0x3f7759(0x34f));return;}try{await setCustomElo(_0x2516f9,_0x2b5164,_0x3ddef0),_0x4c22e5[_0x3f7759(0x1cb)][_0x3f7759(0x142)](_0x3f7759(0x158)),_0x2ba2d9[_0x3f7759(0x201)]='',_0x59809b[_0x3f7759(0x201)]='';}catch(_0x1367d6){showNotification(_0x1367d6[_0x3f7759(0x233)],_0x3f7759(0x34f));}}),document[_0x59dd4a(0x467)](_0x59dd4a(0x493))[_0x59dd4a(0x1c3)]('click',()=>{const _0x50f211=_0x59dd4a;_0x4c22e5[_0x50f211(0x1cb)]['remove'](_0x50f211(0x158));}));const _0x3ff0c9=document['getElementById']('set-role-modal'),_0x220eb1=document[_0x59dd4a(0x467)](_0x59dd4a(0x2ab));if(_0x3ff0c9&&_0x220eb1){_0x3ff0c9[_0x59dd4a(0x1c3)](_0x59dd4a(0x457),_0x175678=>{_0x175678['target']===_0x3ff0c9&&closeModalHandler();}),_0x220eb1[_0x59dd4a(0x1c3)](_0x59dd4a(0x315),async _0x7d573e=>{const _0x3af71c=_0x59dd4a;_0x7d573e[_0x3af71c(0x11d)]();const _0x588642=document[_0x3af71c(0x467)]('role-username'),_0x339623=document['getElementById'](_0x3af71c(0xb9)),_0x7abd96=document['getElementById']('role-color'),_0x995acd=_0x588642[_0x3af71c(0x201)]['trim'](),_0xa37969=_0x339623[_0x3af71c(0x201)][_0x3af71c(0x271)](),_0x1c6a0c=_0x7abd96[_0x3af71c(0x201)];if(!_0x995acd){showNotification(_0x3af71c(0x34e),_0x3af71c(0x34f));return;}try{await setUserRole(_0x995acd,_0xa37969,_0x1c6a0c),closeModalHandler(),loadUsersWithRoles();}catch(_0x5c2d72){}});const _0x9c3d70=document[_0x59dd4a(0x467)](_0x59dd4a(0x402));_0x9c3d70&&(_0x9c3d70['removeEventListener'](_0x59dd4a(0x457),closeModalHandler),_0x9c3d70[_0x59dd4a(0x1c3)]('click',closeModalHandler));}}async function promotePlayer(_0x5470e6,_0x5bc0f0){const _0x394399=a4_0x5d2362;try{console[_0x394399(0x329)](_0x394399(0x1d4)+_0x5470e6+_0x394399(0x165)+_0x5bc0f0+_0x394399(0x1eb));const _0x3d005a=auth['currentUser'];if(!_0x3d005a)throw new Error(_0x394399(0x3ed));const _0xbdaf66=_0x5bc0f0==='D2'?_0x394399(0xc2):'players',_0x3e8206=_0x5bc0f0==='D2'?_0x394399(0x22a):_0x394399(0x2d1);console['log'](_0x394399(0x43a)+_0xbdaf66);const _0x29a2bc=collection(db,_0xbdaf66),_0x3065c3=query(_0x29a2bc,where(_0x394399(0x1e5),'==',_0x5470e6)),_0x45a780=await getDocs(_0x3065c3);if(_0x45a780[_0x394399(0xb1)]){alert('Player\x20not\x20found\x20in\x20'+_0x5bc0f0+_0x394399(0x1eb));throw new Error('Player\x20not\x20found\x20in\x20'+_0x5bc0f0+_0x394399(0x1eb));}const _0x56de9b=_0x45a780[_0x394399(0x23e)][0x0],_0x1dce5c=_0x56de9b['data'](),_0x90afa5=_0x1dce5c[_0x394399(0x17a)]||0x4b0,_0x579363=_0x56de9b['id'];console['log'](_0x394399(0x1e8)+_0x90afa5);const _0x3c9390=[{'name':_0x394399(0x1fd),'elo':0x578},{'name':'Silver','elo':0x640},{'name':_0x394399(0x30f),'elo':0x708},{'name':_0x394399(0x2b3),'elo':0x7d0}];let _0x346fd8=_0x3c9390['find'](_0x52cb7b=>_0x52cb7b['elo']>_0x90afa5);if(!_0x346fd8){alert('Player\x20is\x20already\x20at\x20maximum\x20rank\x20(Emerald)\x20in\x20'+_0x5bc0f0+_0x394399(0x1eb));throw new Error(_0x394399(0x149)+_0x5bc0f0+_0x394399(0x1eb));}console[_0x394399(0x329)]('Promoting\x20player\x20to\x20'+_0x346fd8['name']+'\x20('+_0x346fd8[_0x394399(0x415)]+')'),await updateDoc(doc(db,_0xbdaf66,_0x56de9b['id']),{'eloRating':_0x346fd8[_0x394399(0x415)],'lastPromotedAt':serverTimestamp(),'promotedBy':_0x3d005a[_0x394399(0xe6)]||_0x394399(0x4ab)}),await addDoc(collection(db,_0x3e8206),{'player':_0x5470e6,'previousElo':_0x90afa5,'newElo':_0x346fd8[_0x394399(0x415)],'timestamp':serverTimestamp(),'type':'promotion','rankAchieved':_0x346fd8['name'],'promotedBy':_0x3d005a[_0x394399(0xe6)]||'admin','gameMode':_0x5bc0f0});try{const {promotionManager:_0x1c5142}=await import(_0x394399(0x3f3)),_0x1462a5=_0x1c5142[_0x394399(0x93)](_0x90afa5),_0x423224=_0x346fd8[_0x394399(0x3f0)];await _0x1c5142['sendPromotionNotification'](_0x579363,_0x5470e6,_0x90afa5,_0x346fd8['elo'],_0x1462a5,_0x423224,_0x394399(0x196),{'displayName':_0x5470e6,'source':_0x394399(0x4ab),'adminUser':_0x3d005a[_0x394399(0xe6)],'ladder':_0x5bc0f0}),console[_0x394399(0x329)](_0x394399(0x154));}catch(_0x13f142){console[_0x394399(0x34f)](_0x394399(0x325),_0x13f142);}return alert(_0x394399(0x468)+_0x5470e6+_0x394399(0xdc)+_0x346fd8[_0x394399(0x3f0)]+'\x20('+_0x346fd8[_0x394399(0x415)]+')'),currentLadder===_0x5bc0f0&&(loadPlayersData(),loadEloHistory(0x1)),!![];}catch(_0xa3f8c8){console[_0x394399(0x34f)](_0x394399(0x44d),_0xa3f8c8),alert(_0x394399(0x441)+_0xa3f8c8['message']);throw _0xa3f8c8;}}document[a4_0x5d2362(0x1c3)](a4_0x5d2362(0x204),()=>{const _0x5c4b1c=a4_0x5d2362,_0x25b958=document[_0x5c4b1c(0x467)](_0x5c4b1c(0x17f));_0x25b958&&_0x25b958['addEventListener'](_0x5c4b1c(0x315),async _0x121009=>{const _0x56ca5b=_0x5c4b1c;_0x121009[_0x56ca5b(0x11d)]();const _0x275e9f=document[_0x56ca5b(0x467)]('promote-username')[_0x56ca5b(0x201)][_0x56ca5b(0x271)](),_0xf6af1=document[_0x56ca5b(0x368)](_0x56ca5b(0x13e))[_0x56ca5b(0x201)];if(!_0x275e9f){alert(_0x56ca5b(0x179));return;}try{await promotePlayer(_0x275e9f,_0xf6af1),document['getElementById'](_0x56ca5b(0x14d))[_0x56ca5b(0x1cb)][_0x56ca5b(0x142)](_0x56ca5b(0x158)),document['getElementById'](_0x56ca5b(0x46b))[_0x56ca5b(0x201)]='';}catch(_0x4145df){console[_0x56ca5b(0x34f)](_0x56ca5b(0x444),_0x4145df);}});});async function demotePlayer(_0x184499,_0x3db5a3){const _0x23a0dd=a4_0x5d2362;try{console[_0x23a0dd(0x329)](_0x23a0dd(0x128)+_0x184499+'\x20in\x20'+_0x3db5a3+_0x23a0dd(0x1eb));const _0x1916f8=auth[_0x23a0dd(0x4af)];if(!_0x1916f8)throw new Error(_0x23a0dd(0x3ed));const _0x4009e0=_0x3db5a3==='D2'?_0x23a0dd(0xc2):_0x23a0dd(0x44b),_0x4f2381=_0x3db5a3==='D2'?_0x23a0dd(0x22a):'eloHistory';console[_0x23a0dd(0x329)](_0x23a0dd(0x43a)+_0x4009e0);const _0x2584a4=collection(db,_0x4009e0),_0x1afe5b=query(_0x2584a4,where('username','==',_0x184499)),_0x4c7264=await getDocs(_0x1afe5b);if(_0x4c7264[_0x23a0dd(0xb1)]){alert('Player\x20not\x20found\x20in\x20'+_0x3db5a3+'\x20ladder');throw new Error(_0x23a0dd(0x490)+_0x3db5a3+_0x23a0dd(0x1eb));}const _0xd5ed20=_0x4c7264[_0x23a0dd(0x23e)][0x0],_0x43cc7a=_0xd5ed20[_0x23a0dd(0x47c)](),_0xadd381=_0x43cc7a['eloRating']||0x4b0;console[_0x23a0dd(0x329)](_0x23a0dd(0x1e8)+_0xadd381);const _0x1ed20a=[{'name':'Gold','elo':0x708},{'name':'Silver','elo':0x640},{'name':_0x23a0dd(0x1fd),'elo':0x578},{'name':_0x23a0dd(0x3fe),'elo':0x4b0}];let _0x3c9beb=_0x1ed20a[_0x23a0dd(0x11e)](_0x5ab94e=>_0x5ab94e[_0x23a0dd(0x415)]<_0xadd381);if(!_0x3c9beb){alert(_0x23a0dd(0x3ad)+_0x3db5a3+'\x20ladder');throw new Error(_0x23a0dd(0x3ad)+_0x3db5a3+_0x23a0dd(0x1eb));}console[_0x23a0dd(0x329)](_0x23a0dd(0x139)+_0x3c9beb[_0x23a0dd(0x3f0)]+'\x20('+_0x3c9beb[_0x23a0dd(0x415)]+')'),await updateDoc(doc(db,_0x4009e0,_0xd5ed20['id']),{'eloRating':_0x3c9beb['elo'],'lastDemotedAt':serverTimestamp(),'demotedBy':_0x1916f8['email']||_0x23a0dd(0x4ab)}),await addDoc(collection(db,_0x4f2381),{'player':_0x184499,'previousElo':_0xadd381,'newElo':_0x3c9beb[_0x23a0dd(0x415)],'timestamp':serverTimestamp(),'type':_0x23a0dd(0x478),'rankAchieved':_0x3c9beb[_0x23a0dd(0x3f0)],'demotedBy':_0x1916f8[_0x23a0dd(0xe6)]||_0x23a0dd(0x4ab),'gameMode':_0x3db5a3});try{const {promotionManager:_0x6125fe}=await import(_0x23a0dd(0x3f3)),_0xaba35a=_0x6125fe[_0x23a0dd(0x93)](_0xadd381),_0x20f25d=_0x3c9beb[_0x23a0dd(0x3f0)];await _0x6125fe[_0x23a0dd(0xa6)](_0xd5ed20['id'],_0x184499,_0xadd381,_0x3c9beb[_0x23a0dd(0x415)],_0xaba35a,_0x20f25d,_0x23a0dd(0x478),{'displayName':_0x184499,'source':_0x23a0dd(0x4ab),'adminUser':_0x1916f8[_0x23a0dd(0xe6)],'ladder':_0x3db5a3}),console[_0x23a0dd(0x329)]('Demotion\x20notification\x20sent\x20to\x20Discord\x20bot');}catch(_0x338c60){console[_0x23a0dd(0x34f)](_0x23a0dd(0x325),_0x338c60);}return alert(_0x23a0dd(0x287)+_0x184499+_0x23a0dd(0xdc)+_0x3c9beb['name']+'\x20('+_0x3c9beb['elo']+')'),currentLadder===_0x3db5a3&&(loadPlayersData(),loadEloHistory(0x1)),!![];}catch(_0x1b6d0e){console[_0x23a0dd(0x34f)](_0x23a0dd(0x449),_0x1b6d0e),alert(_0x23a0dd(0x37f)+_0x1b6d0e[_0x23a0dd(0x233)]);throw _0x1b6d0e;}}document[a4_0x5d2362(0x1c3)](a4_0x5d2362(0x204),()=>{const _0x4ec4f4=a4_0x5d2362,_0x33ca28=document[_0x4ec4f4(0x467)]('demote-form');_0x33ca28&&_0x33ca28['addEventListener'](_0x4ec4f4(0x315),async _0x22d694=>{const _0x389c09=_0x4ec4f4;_0x22d694['preventDefault']();const _0xf88c75=document[_0x389c09(0x467)](_0x389c09(0x1f9))[_0x389c09(0x201)][_0x389c09(0x271)](),_0x494f42=document['querySelector'](_0x389c09(0x47a))[_0x389c09(0x201)];if(!_0xf88c75){alert(_0x389c09(0x179));return;}try{await demotePlayer(_0xf88c75,_0x494f42),document[_0x389c09(0x467)]('demote-modal')[_0x389c09(0x1cb)][_0x389c09(0x142)]('active'),document[_0x389c09(0x467)](_0x389c09(0x1f9))[_0x389c09(0x201)]='';}catch(_0x5299b1){console['error'](_0x389c09(0x30a),_0x5299b1);}});});async function setCustomElo(_0x45695a,_0x3e1345,_0x9d4dbe){const _0x18dedb=a4_0x5d2362;try{const _0x360297=auth['currentUser'];if(!_0x360297||!isAdmin(_0x360297[_0x18dedb(0xe6)]))throw new Error(_0x18dedb(0x38e));const _0x2340bb=_0x9d4dbe==='D2'?_0x18dedb(0xc2):_0x18dedb(0x44b),_0x3cea72=_0x9d4dbe==='D2'?_0x18dedb(0x22a):_0x18dedb(0x2d1),_0x48c73e=collection(db,_0x2340bb),_0x541901=query(_0x48c73e,where(_0x18dedb(0x1e5),'==',_0x45695a)),_0x4ce942=await getDocs(_0x541901);if(_0x4ce942[_0x18dedb(0xb1)])throw new Error(_0x18dedb(0x490)+_0x9d4dbe+'\x20ladder');const _0x35ebb2=_0x4ce942[_0x18dedb(0x23e)][0x0],_0x4c6257=_0x35ebb2[_0x18dedb(0x47c)](),_0x392731=_0x4c6257[_0x18dedb(0x17a)]||0x4b0,_0x270ae0=writeBatch(db);_0x270ae0[_0x18dedb(0x360)](doc(db,_0x2340bb,_0x35ebb2['id']),{'eloRating':_0x3e1345,'lastModifiedAt':serverTimestamp(),'lastModifiedBy':_0x360297[_0x18dedb(0xe6)]});const _0x3ccc82=doc(collection(db,_0x3cea72));return _0x270ae0['set'](_0x3ccc82,{'player':_0x45695a,'previousElo':_0x392731,'newElo':_0x3e1345,'timestamp':serverTimestamp(),'type':_0x18dedb(0x2a7),'modifiedBy':_0x360297[_0x18dedb(0xe6)],'gameMode':_0x9d4dbe}),await _0x270ae0[_0x18dedb(0x384)](),showNotification(_0x18dedb(0x1bf)+_0x45695a+'\x20was\x20updated\x20from\x20'+_0x392731+'\x20to\x20'+_0x3e1345,_0x18dedb(0xc7)),currentLadder===_0x9d4dbe&&(loadDashboardOverview(),loadPlayersData(),loadEloHistory(0x1)),!![];}catch(_0x4d66e3){console['error'](_0x18dedb(0x364),_0x4d66e3);throw _0x4d66e3;}}async function setUserRole(_0x1ad969,_0x3b8cff,_0xdfff5d){const _0x2bfd2b=a4_0x5d2362;try{const _0x480758=auth[_0x2bfd2b(0x4af)];if(!_0x480758||!isAdmin(_0x480758[_0x2bfd2b(0xe6)]))throw new Error(_0x2bfd2b(0x38e));const _0x5502f6=_0x3b8cff?_0x3b8cff[_0x2bfd2b(0x271)]():null,_0x2077c9=_0x5502f6?_0xdfff5d||_0x2bfd2b(0x75):null,[_0x449f6a,_0x330204]=await Promise[_0x2bfd2b(0x1ea)]([getDocs(query(collection(db,_0x2bfd2b(0x44b)),where(_0x2bfd2b(0x1e5),'==',_0x1ad969))),getDocs(query(collection(db,_0x2bfd2b(0xc2)),where(_0x2bfd2b(0x1e5),'==',_0x1ad969)))]),_0x8292e9=[];if(!_0x449f6a[_0x2bfd2b(0xb1)])_0x8292e9[_0x2bfd2b(0x99)]({'ref':_0x449f6a[_0x2bfd2b(0x23e)][0x0][_0x2bfd2b(0x78)],'source':'D1'});if(!_0x330204[_0x2bfd2b(0xb1)])_0x8292e9[_0x2bfd2b(0x99)]({'ref':_0x330204[_0x2bfd2b(0x23e)][0x0]['ref'],'source':'D2'});if(_0x8292e9[_0x2bfd2b(0x20e)]===0x0){const [_0x12d3a9,_0x3acbfa]=await Promise['all']([getDocs(query(collection(db,_0x2bfd2b(0x4a1)),where(_0x2bfd2b(0x1e5),'==',_0x1ad969))),getDocs(query(collection(db,_0x2bfd2b(0x122)),where(_0x2bfd2b(0x1e5),'==',_0x1ad969)))]);if(!_0x12d3a9[_0x2bfd2b(0xb1)])_0x8292e9[_0x2bfd2b(0x99)]({'ref':_0x12d3a9[_0x2bfd2b(0x23e)][0x0][_0x2bfd2b(0x78)],'source':_0x2bfd2b(0x4be)});if(!_0x3acbfa[_0x2bfd2b(0xb1)])_0x8292e9['push']({'ref':_0x3acbfa[_0x2bfd2b(0x23e)][0x0][_0x2bfd2b(0x78)],'source':_0x2bfd2b(0xd1)});}if(_0x8292e9[_0x2bfd2b(0x20e)]===0x0)throw new Error(_0x2bfd2b(0x288)+_0x1ad969+_0x2bfd2b(0x3a9));const _0x55ccb8=writeBatch(db);_0x8292e9[_0x2bfd2b(0x2fe)](_0x26bcb8=>{const _0x474dea=_0x2bfd2b;console[_0x474dea(0x329)](_0x474dea(0x44f)+_0x1ad969+_0x474dea(0x165)+_0x26bcb8[_0x474dea(0x303)]),!_0x5502f6?_0x55ccb8[_0x474dea(0x360)](_0x26bcb8['ref'],{'roleName':deleteField(),'roleColor':deleteField(),'roleAssignedBy':deleteField(),'roleAssignedAt':deleteField()}):_0x55ccb8[_0x474dea(0x360)](_0x26bcb8[_0x474dea(0x78)],{'roleName':_0x5502f6,'roleColor':_0x2077c9,'roleAssignedBy':_0x480758[_0x474dea(0xe6)],'roleAssignedAt':serverTimestamp()});}),await _0x55ccb8['commit']();const _0x2dd1b6=_0x5502f6?_0x2bfd2b(0x2c7)+_0x5502f6+'\x22\x20set':_0x2bfd2b(0x31f);return showNotification(_0x2dd1b6+_0x2bfd2b(0x442)+_0x1ad969+'\x22',_0x2bfd2b(0xc7)),!![];}catch(_0x503c8d){console[_0x2bfd2b(0x34f)](_0x2bfd2b(0x3e7),_0x503c8d),showNotification('Error:\x20'+_0x503c8d['message'],_0x2bfd2b(0x34f));throw _0x503c8d;}}function showNotification(_0x3e73fb,_0x5b03e6=a4_0x5d2362(0x2d9)){const _0xfcc078=a4_0x5d2362,_0x4d6888=document['createElement'](_0xfcc078(0xe5));_0x4d6888[_0xfcc078(0x12e)]=_0xfcc078(0x1ef)+_0x5b03e6,_0x4d6888['innerHTML']=_0xfcc078(0x47b)+getNotificationIcon(_0x5b03e6)+_0xfcc078(0x416)+_0x3e73fb+_0xfcc078(0x489),document[_0xfcc078(0x16d)][_0xfcc078(0x2e6)](_0x4d6888),setTimeout(()=>{const _0x1f6eb1=_0xfcc078;_0x4d6888[_0x1f6eb1(0x1cb)][_0x1f6eb1(0x3dd)](_0x1f6eb1(0x158));},0xa);const _0x28c879=setTimeout(()=>{closeNotification(_0x4d6888);},0x1388);_0x4d6888[_0xfcc078(0x368)](_0xfcc078(0x297))[_0xfcc078(0x1c3)](_0xfcc078(0x457),()=>{clearTimeout(_0x28c879),closeNotification(_0x4d6888);});}function getNotificationIcon(_0x273128){const _0x313713=a4_0x5d2362;switch(_0x273128){case _0x313713(0xc7):return'fa-check-circle';case _0x313713(0x34f):return _0x313713(0x4a3);case'warning':return _0x313713(0x388);case _0x313713(0x2d9):default:return _0x313713(0x35c);}}function closeNotification(_0x320095){const _0x4fa5ce=a4_0x5d2362;_0x320095[_0x4fa5ce(0x1cb)][_0x4fa5ce(0x142)](_0x4fa5ce(0x158)),setTimeout(()=>{const _0x2ab860=_0x4fa5ce;_0x320095[_0x2ab860(0x142)]();},0x12c);}function setupUserRolesSection(){const _0x14bfe5=a4_0x5d2362,_0x2b2ff8=document[_0x14bfe5(0x467)](_0x14bfe5(0x16c));_0x2b2ff8&&_0x2b2ff8[_0x14bfe5(0x1c3)](_0x14bfe5(0x457),function(){const _0x51ac17=_0x14bfe5;this[_0x51ac17(0x1cb)]['add'](_0x51ac17(0x3ab)),this['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...',loadUsersWithRoles()['then'](()=>{const _0x161fa9=_0x51ac17;this['classList'][_0x161fa9(0x142)]('loading'),this[_0x161fa9(0x318)]=_0x161fa9(0x1c4);})[_0x51ac17(0x4a0)](_0x2de714=>{const _0xd9bbc1=_0x51ac17;console[_0xd9bbc1(0x34f)](_0xd9bbc1(0x24d),_0x2de714),this[_0xd9bbc1(0x1cb)][_0xd9bbc1(0x142)](_0xd9bbc1(0x3ab)),this['innerHTML']=_0xd9bbc1(0xcc),setTimeout(()=>{const _0xf7696f=_0xd9bbc1;this['innerHTML']=_0xf7696f(0x1c4);},0xbb8);});});const _0x23737e=document[_0x14bfe5(0x467)]('add-new-role-btn');_0x23737e&&_0x23737e[_0x14bfe5(0x1c3)](_0x14bfe5(0x457),()=>{const _0x59ebf5=_0x14bfe5,_0x36f2f6=document[_0x59ebf5(0x467)](_0x59ebf5(0x3fc));_0x36f2f6&&_0x36f2f6[_0x59ebf5(0x1cb)][_0x59ebf5(0x3dd)](_0x59ebf5(0x158));});const _0x5e447a=document[_0x14bfe5(0x467)](_0x14bfe5(0xb0));_0x5e447a&&_0x5e447a[_0x14bfe5(0x1c3)](_0x14bfe5(0x3b1),debounce(filterUsersTable,0x12c));const _0xf5e815=document[_0x14bfe5(0x467)](_0x14bfe5(0x49f));_0xf5e815&&_0xf5e815['addEventListener']('change',filterUsersTable);}async function loadUsersWithRoles(){const _0xdfd738=a4_0x5d2362,_0xcc4647=document['getElementById'](_0xdfd738(0x127));if(!_0xcc4647)return;_0xcc4647[_0xdfd738(0x318)]=_0xdfd738(0x484);try{const [_0x31d026,_0x294083,_0x431e0a,_0x3abb55]=await Promise[_0xdfd738(0x1ea)]([getDocs(collection(db,_0xdfd738(0x44b))),getDocs(collection(db,_0xdfd738(0xc2))),getDocs(collection(db,'nonParticipants')),getDocs(collection(db,_0xdfd738(0x122)))]),_0x5b820d=new Map();function _0x3f3496(_0xc0311d,_0x9f969a){const _0x1f0bec=_0xdfd738;_0xc0311d[_0x1f0bec(0x2fe)](_0x32776e=>{const _0x53dab0=_0x1f0bec,_0x534275=_0x32776e['data']();if(!_0x534275[_0x53dab0(0x1e5)])return;if(!_0x5b820d[_0x53dab0(0x3c0)](_0x534275['username']))_0x5b820d[_0x53dab0(0x3ba)](_0x534275[_0x53dab0(0x1e5)],{'username':_0x534275[_0x53dab0(0x1e5)],'roleName':_0x534275[_0x53dab0(0x3ff)]||null,'roleColor':_0x534275[_0x53dab0(0x400)]||null,'roleAssignedBy':_0x534275[_0x53dab0(0x241)]||null,'roleAssignedAt':_0x534275[_0x53dab0(0x465)]||null,'sources':[_0x9f969a]});else{const _0x4544e1=_0x5b820d[_0x53dab0(0x3a1)](_0x534275[_0x53dab0(0x1e5)]);_0x534275[_0x53dab0(0x3ff)]&&(!_0x4544e1[_0x53dab0(0x3ff)]||_0x9f969a==='D1'||_0x9f969a==='D2')&&(_0x4544e1[_0x53dab0(0x3ff)]=_0x534275[_0x53dab0(0x3ff)],_0x4544e1[_0x53dab0(0x400)]=_0x534275['roleColor'],_0x4544e1[_0x53dab0(0x241)]=_0x534275[_0x53dab0(0x241)],_0x4544e1['roleAssignedAt']=_0x534275['roleAssignedAt']),!_0x4544e1[_0x53dab0(0x13d)][_0x53dab0(0x33c)](_0x9f969a)&&_0x4544e1[_0x53dab0(0x13d)][_0x53dab0(0x99)](_0x9f969a);}});}_0x3f3496(_0x31d026,'D1'),_0x3f3496(_0x294083,'D2'),_0x3f3496(_0x431e0a,_0xdfd738(0x1b0)),_0x3f3496(_0x3abb55,_0xdfd738(0x1c5));const _0x271c54=Array[_0xdfd738(0x15b)](_0x5b820d[_0xdfd738(0x2a1)]())['sort']((_0x424fec,_0x555df9)=>_0x424fec[_0xdfd738(0x1e5)][_0xdfd738(0x3c5)](_0x555df9['username']));if(_0x271c54[_0xdfd738(0x20e)]===0x0){_0xcc4647['innerHTML']=_0xdfd738(0x1de);return;}_0xcc4647[_0xdfd738(0x318)]='',_0x271c54['forEach'](_0x8bb0cb=>{const _0x37b3a5=_0xdfd738,_0x1f850b=document[_0x37b3a5(0x3ea)]('tr');_0x1f850b[_0x37b3a5(0x27f)]['username']=_0x8bb0cb[_0x37b3a5(0x1e5)],_0x1f850b[_0x37b3a5(0x27f)][_0x37b3a5(0x3ff)]=_0x8bb0cb[_0x37b3a5(0x3ff)]||'',_0x1f850b[_0x37b3a5(0x27f)][_0x37b3a5(0x400)]=_0x8bb0cb['roleColor']||_0x37b3a5(0x75);const _0x355bb0=_0x8bb0cb['roleAssignedAt']?new Date(_0x8bb0cb[_0x37b3a5(0x465)][_0x37b3a5(0x3e1)]*0x3e8)['toLocaleDateString']():_0x37b3a5(0x2b7),_0x24f34a=_0x8bb0cb[_0x37b3a5(0x3ff)]?_0x37b3a5(0x28a)+_0x8bb0cb['roleColor']+_0x37b3a5(0x1a1)+getContrastColor(_0x8bb0cb[_0x37b3a5(0x400)])+_0x37b3a5(0x32a)+_0x8bb0cb[_0x37b3a5(0x3ff)]+'</span>':_0x37b3a5(0xab);_0x1f850b[_0x37b3a5(0x318)]=_0x37b3a5(0x285)+_0x8bb0cb[_0x37b3a5(0x1e5)]+'\x20<span\x20class=\x22user-source\x22>('+_0x8bb0cb[_0x37b3a5(0x13d)][_0x37b3a5(0x3e4)](',\x20')+')</span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x24f34a+_0x37b3a5(0x279)+(_0x8bb0cb[_0x37b3a5(0x241)]||_0x37b3a5(0x2b7))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x355bb0+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-role-btn\x22\x20data-username=\x22'+_0x8bb0cb[_0x37b3a5(0x1e5)]+_0x37b3a5(0x462)+(_0x8bb0cb[_0x37b3a5(0x3ff)]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22remove-role-btn\x22\x20data-username=\x22'+_0x8bb0cb['username']+_0x37b3a5(0xcb):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0xcc4647[_0x37b3a5(0x2e6)](_0x1f850b);}),document[_0xdfd738(0x269)]('.edit-role-btn')[_0xdfd738(0x2fe)](_0x3f2578=>{const _0x589267=_0xdfd738;_0x3f2578[_0x589267(0x1c3)](_0x589267(0x457),()=>{const _0xb8840c=_0x589267,_0x35a86e=_0x3f2578[_0xb8840c(0x27f)][_0xb8840c(0x1e5)];openRoleEditModal(_0x35a86e);});}),document[_0xdfd738(0x269)](_0xdfd738(0x458))[_0xdfd738(0x2fe)](_0x292363=>{const _0x2bcb49=_0xdfd738;_0x292363[_0x2bcb49(0x1c3)](_0x2bcb49(0x457),()=>{const _0x78dff4=_0x2bcb49,_0x1e3b1c=_0x292363['dataset'][_0x78dff4(0x1e5)];confirm(_0x78dff4(0x1df)+_0x1e3b1c+'?')&&setUserRole(_0x1e3b1c,null,null)[_0x78dff4(0x20f)](()=>loadUsersWithRoles())[_0x78dff4(0x4a0)](_0x3a44e1=>console[_0x78dff4(0x34f)]('Error\x20removing\x20role:',_0x3a44e1));});});}catch(_0x1e117a){console[_0xdfd738(0x34f)](_0xdfd738(0x24d),_0x1e117a),_0xcc4647[_0xdfd738(0x318)]='<tr><td\x20colspan=\x225\x22\x20class=\x22error-state\x22>Error\x20loading\x20users</td></tr>';}}function openRoleEditModal(_0x492f3b){const _0x389226=a4_0x5d2362;console[_0x389226(0x329)](_0x389226(0x126),_0x492f3b);const _0x3245f0=document[_0x389226(0x467)]('set-role-modal'),_0x2220ac=document[_0x389226(0x467)](_0x389226(0x3af)),_0x787986=document[_0x389226(0x467)](_0x389226(0x1d9));if(!_0x3245f0){console[_0x389226(0x34f)](_0x389226(0x159)),alert('Error:\x20Could\x20not\x20find\x20the\x20role\x20editing\x20dialog.');return;}console[_0x389226(0x329)]('Modal\x20element\x20found:',_0x3245f0);_0x2220ac?(_0x2220ac[_0x389226(0x201)]=_0x492f3b,console[_0x389226(0x329)](_0x389226(0x456)+_0x492f3b)):console['warn']('Username\x20input\x20field\x20(#role-username)\x20not\x20found\x20in\x20modal.');const _0x2754f2=document[_0x389226(0x368)]('#users-table-body\x20tr[data-username=\x22'+_0x492f3b+'\x22]');if(_0x2754f2&&_0x787986){const _0x4e31e5=_0x2754f2['dataset'][_0x389226(0x349)];_0x787986[_0x389226(0x201)]=_0x4e31e5===_0x389226(0x3e0)?'':_0x4e31e5,console[_0x389226(0x329)](_0x389226(0x2e0)+_0x787986[_0x389226(0x201)]+'\x20(based\x20on\x20data-role:\x20'+_0x4e31e5+')');}else{if(!_0x2754f2)console['warn'](_0x389226(0x1da)+_0x492f3b+_0x389226(0x3ac));if(!_0x787986)console[_0x389226(0xb3)](_0x389226(0x333));if(_0x787986)_0x787986[_0x389226(0x201)]='';}console[_0x389226(0x329)](_0x389226(0x300)),_0x3245f0[_0x389226(0x1cb)][_0x389226(0x3dd)]('active');const _0x3d485b=document[_0x389226(0x467)](_0x389226(0x402));_0x3d485b?(console[_0x389226(0x329)](_0x389226(0x259)),_0x3d485b[_0x389226(0x174)](_0x389226(0x457),closeModalHandler),_0x3d485b[_0x389226(0x1c3)](_0x389226(0x457),closeModalHandler)):console[_0x389226(0xb3)](_0x389226(0x177)),console[_0x389226(0x329)](_0x389226(0x16a)),_0x3245f0['removeEventListener']('click',closeModalBackgroundHandler),_0x3245f0[_0x389226(0x1c3)]('click',closeModalBackgroundHandler);}function closeModalBackgroundHandler(_0x38f3f2){const _0x4b1755=a4_0x5d2362;_0x38f3f2[_0x4b1755(0x32f)]===this&&closeModalHandler();}function closeModalHandler(){const _0x130fed=a4_0x5d2362,_0x162a7c=document[_0x130fed(0x467)](_0x130fed(0x3fc));_0x162a7c&&(_0x162a7c[_0x130fed(0x1cb)][_0x130fed(0x142)](_0x130fed(0x158)),_0x162a7c[_0x130fed(0x174)](_0x130fed(0x457),closeModalBackgroundHandler));}function filterUsersTable(){const _0x347ed6=a4_0x5d2362,_0x1a79d4=document[_0x347ed6(0x467)]('user-search')?.['value'][_0x347ed6(0x409)]()||'',_0x348a50=document[_0x347ed6(0x467)](_0x347ed6(0x49f))?.['value']||_0x347ed6(0x1ea),_0x5bc9c8=document[_0x347ed6(0x269)](_0x347ed6(0x438));let _0x151d00=0x0;_0x5bc9c8[_0x347ed6(0x2fe)](_0x293f73=>{const _0x1ae5ca=_0x347ed6;if(_0x293f73[_0x1ae5ca(0x368)](_0x1ae5ca(0x31c))||_0x293f73[_0x1ae5ca(0x368)](_0x1ae5ca(0xcf))||_0x293f73[_0x1ae5ca(0x368)]('.error-state'))return;const _0x56eb1b=_0x293f73[_0x1ae5ca(0x27f)]['username']?.[_0x1ae5ca(0x409)]()||'',_0x21496e=_0x293f73['dataset'][_0x1ae5ca(0x349)]||_0x1ae5ca(0x3e0),_0x36ec3b=_0x56eb1b['includes'](_0x1a79d4),_0x564002=_0x348a50===_0x1ae5ca(0x1ea)||_0x21496e===_0x348a50;_0x36ec3b&&_0x564002?(_0x293f73['style'][_0x1ae5ca(0x3ee)]='',_0x151d00++):_0x293f73[_0x1ae5ca(0x1f7)]['display']=_0x1ae5ca(0x3e0);});if(_0x151d00===0x0&&_0x5bc9c8[_0x347ed6(0x20e)]>0x0){const _0x57b659=document[_0x347ed6(0x467)](_0x347ed6(0x127));if(_0x57b659){if(!_0x57b659[_0x347ed6(0x368)](_0x347ed6(0x428))){const _0x482beb=document['createElement']('tr');_0x482beb[_0x347ed6(0x1cb)]['add'](_0x347ed6(0x48b)),_0x482beb[_0x347ed6(0x318)]='<td\x20colspan=\x225\x22\x20class=\x22empty-state\x22>No\x20users\x20match\x20your\x20filters</td>',_0x57b659[_0x347ed6(0x2e6)](_0x482beb);}}}else{const _0x1da9fe=document[_0x347ed6(0x368)]('.no-results');_0x1da9fe&&_0x1da9fe['remove']();}}function setupManageArticlesSection(){const _0x4f0ea5=a4_0x5d2362,_0x325263=document['getElementById']('load-articles-data');_0x325263&&_0x325263['addEventListener'](_0x4f0ea5(0x457),function(){const _0x5875b0=_0x4f0ea5;this[_0x5875b0(0x1cb)][_0x5875b0(0x3dd)](_0x5875b0(0x3ab)),this[_0x5875b0(0x318)]=_0x5875b0(0x314),loadArticles()[_0x5875b0(0x20f)](()=>{const _0x4fd077=_0x5875b0;this['classList'][_0x4fd077(0x142)](_0x4fd077(0x3ab)),this[_0x4fd077(0x318)]=_0x4fd077(0x4a8);})['catch'](_0x53c970=>{const _0x397f30=_0x5875b0;console[_0x397f30(0x34f)](_0x397f30(0x1c0),_0x53c970),this['classList'][_0x397f30(0x142)](_0x397f30(0x3ab)),this[_0x397f30(0x318)]=_0x397f30(0xcc),setTimeout(()=>{const _0x3f385a=_0x397f30;this[_0x3f385a(0x318)]=_0x3f385a(0x4a8);},0xbb8);});});const _0x16e2ff=document[_0x4f0ea5(0x467)](_0x4f0ea5(0x371));_0x16e2ff?(console['log'](_0x4f0ea5(0x1fb)),_0x16e2ff[_0x4f0ea5(0x1f7)][_0x4f0ea5(0x3ee)]=_0x4f0ea5(0x109),_0x16e2ff[_0x4f0ea5(0x1c3)]('click',()=>{openArticleModal();})):console['error'](_0x4f0ea5(0x225));const _0x8cca83=document['getElementById'](_0x4f0ea5(0x4b8));_0x8cca83&&_0x8cca83[_0x4f0ea5(0x1c3)](_0x4f0ea5(0x315),_0xcca73c=>{const _0x4b03bc=_0x4f0ea5;_0xcca73c[_0x4b03bc(0x11d)](),saveArticle();});const _0xc66c9a=document[_0x4f0ea5(0x467)](_0x4f0ea5(0x25d));_0xc66c9a&&_0xc66c9a[_0x4f0ea5(0x1c3)]('click',()=>{closeArticleModal();});const _0x32838a=document[_0x4f0ea5(0x368)](_0x4f0ea5(0x417));_0x32838a&&_0x32838a[_0x4f0ea5(0x1c3)](_0x4f0ea5(0x457),()=>{closeArticleModal();});const _0x24ebe2=document[_0x4f0ea5(0x467)](_0x4f0ea5(0x8e));_0x24ebe2&&_0x24ebe2[_0x4f0ea5(0x1c3)](_0x4f0ea5(0x457),_0x198289=>{_0x198289['target']===_0x24ebe2&&closeArticleModal();});}async function loadArticles(){const _0x18cc34=a4_0x5d2362,_0x4b2e37=document[_0x18cc34(0x467)](_0x18cc34(0x463));if(!_0x4b2e37)return;_0x4b2e37['innerHTML']=_0x18cc34(0x4bb);try{const _0x3eb92e=collection(db,_0x18cc34(0xfb)),_0x20d7ef=query(_0x3eb92e,orderBy(_0x18cc34(0x445),_0x18cc34(0x1d8))),_0xebbd21=await getDocs(_0x20d7ef);if(_0xebbd21[_0x18cc34(0xb1)]){_0x4b2e37['innerHTML']=_0x18cc34(0x1e7);return;}_0x4b2e37[_0x18cc34(0x318)]='',_0xebbd21[_0x18cc34(0x2fe)](_0x133fdf=>{const _0x2b1d84=_0x18cc34,_0x83c77b=_0x133fdf[_0x2b1d84(0x47c)](),_0x6cf5a5=document[_0x2b1d84(0x3ea)]('tr'),_0x8f9363=_0x83c77b['createdAt']?new Date(_0x83c77b[_0x2b1d84(0x445)][_0x2b1d84(0x3e1)]*0x3e8)[_0x2b1d84(0x24b)]():'N/A';_0x6cf5a5[_0x2b1d84(0x318)]=_0x2b1d84(0x285)+(_0x83c77b[_0x2b1d84(0x202)]||_0x2b1d84(0x1e9))+_0x2b1d84(0x279)+(_0x83c77b[_0x2b1d84(0x1ac)]||_0x2b1d84(0x45c))+_0x2b1d84(0x279)+_0x8f9363+_0x2b1d84(0x380)+_0x133fdf['id']+_0x2b1d84(0x446)+_0x133fdf['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x4b2e37[_0x2b1d84(0x2e6)](_0x6cf5a5);}),setupArticleActionButtons();}catch(_0x33fc25){console[_0x18cc34(0x34f)](_0x18cc34(0x1c0),_0x33fc25),_0x4b2e37['innerHTML']=_0x18cc34(0xeb)+_0x33fc25[_0x18cc34(0x233)]+_0x18cc34(0x362);}}function setupArticleActionButtons(){const _0x31af2f=a4_0x5d2362;document[_0x31af2f(0x269)]('.edit-article-btn')[_0x31af2f(0x2fe)](_0xcf849f=>{const _0x3d66f5=_0x31af2f;_0xcf849f[_0x3d66f5(0x1c3)](_0x3d66f5(0x457),async _0x5854b3=>{const _0x23d542=_0x5854b3['currentTarget']['dataset']['id'];openArticleModal(_0x23d542);});}),document['querySelectorAll']('.delete-article-btn')[_0x31af2f(0x2fe)](_0x4c47c1=>{const _0xdadf1c=_0x31af2f;_0x4c47c1[_0xdadf1c(0x1c3)](_0xdadf1c(0x457),async _0x246cf9=>{const _0x19a05f=_0xdadf1c,_0xfbd65e=_0x246cf9[_0x19a05f(0x46d)][_0x19a05f(0x27f)]['id'];confirmDeleteArticle(_0xfbd65e);});});}function openArticleModal(_0x1ae751=null){const _0x5e9dbe=a4_0x5d2362,_0x3dea8f=document['getElementById'](_0x5e9dbe(0x8e)),_0xca5eaf=document['getElementById']('article-modal-title'),_0x464f69=document[_0x5e9dbe(0x467)](_0x5e9dbe(0x4b8)),_0x5aa5c1=document[_0x5e9dbe(0x467)](_0x5e9dbe(0x1f2));_0x464f69[_0x5e9dbe(0xd3)](),_0x5aa5c1[_0x5e9dbe(0x201)]='';if(_0x1ae751)_0xca5eaf['textContent']=_0x5e9dbe(0x40e),_0x5aa5c1[_0x5e9dbe(0x201)]=_0x1ae751,loadArticleData(_0x1ae751);else{_0xca5eaf[_0x5e9dbe(0x39f)]='Create\x20Article';const _0x548d3a=auth[_0x5e9dbe(0x4af)];if(_0x548d3a){const _0x4a52e0=document[_0x5e9dbe(0x467)](_0x5e9dbe(0x391));if(_0x4a52e0&&_0x548d3a[_0x5e9dbe(0x316)])_0x4a52e0[_0x5e9dbe(0x201)]=_0x548d3a[_0x5e9dbe(0x316)];else _0x4a52e0&&(_0x4a52e0[_0x5e9dbe(0x201)]=_0x548d3a['email']);}}_0x3dea8f[_0x5e9dbe(0x1cb)]['add']('active');}async function loadArticleData(_0x563636){const _0x46a212=a4_0x5d2362;try{const _0x3000a2=doc(db,'articles',_0x563636),_0x3e0c5d=await getDoc(_0x3000a2);if(!_0x3e0c5d[_0x46a212(0x419)]()){showNotification(_0x46a212(0xdf),_0x46a212(0x34f));return;}const _0x224794=_0x3e0c5d[_0x46a212(0x47c)]();document[_0x46a212(0x467)](_0x46a212(0x1d7))[_0x46a212(0x201)]=_0x224794[_0x46a212(0x202)]||'',document['getElementById']('article-author')['value']=_0x224794[_0x46a212(0x1ac)]||'',document[_0x46a212(0x467)]('article-image-url')[_0x46a212(0x201)]=_0x224794[_0x46a212(0x106)]||'',document[_0x46a212(0x467)](_0x46a212(0x343))[_0x46a212(0x201)]=_0x224794['content']||'';}catch(_0x27bc6f){console[_0x46a212(0x34f)]('Error\x20loading\x20article\x20data:',_0x27bc6f),showNotification('Failed\x20to\x20load\x20article\x20data',_0x46a212(0x34f));}}async function saveArticle(){const _0x106c6f=a4_0x5d2362;try{const _0x1313fe=document[_0x106c6f(0x467)]('article-id')['value'],_0x34afe6=document[_0x106c6f(0x467)](_0x106c6f(0x1d7))[_0x106c6f(0x201)][_0x106c6f(0x271)](),_0x5c937d=document[_0x106c6f(0x467)]('article-author')['value'][_0x106c6f(0x271)](),_0x10f907=document[_0x106c6f(0x467)]('article-image-url')[_0x106c6f(0x201)][_0x106c6f(0x271)](),_0x21aa51=document[_0x106c6f(0x467)](_0x106c6f(0x343))[_0x106c6f(0x201)][_0x106c6f(0x271)]();if(!_0x34afe6||!_0x21aa51){showNotification(_0x106c6f(0x3df),_0x106c6f(0x34f));return;}const _0x5409cc=auth[_0x106c6f(0x4af)];if(!_0x5409cc){showNotification('You\x20must\x20be\x20logged\x20in\x20to\x20save\x20articles',_0x106c6f(0x34f));return;}const _0x3ee692={'title':_0x34afe6,'author':_0x5c937d,'imageUrl':_0x10f907||null,'content':_0x21aa51,'lastModifiedAt':serverTimestamp(),'lastModifiedBy':_0x5409cc[_0x106c6f(0xe6)]};!_0x1313fe?(_0x3ee692[_0x106c6f(0x445)]=serverTimestamp(),_0x3ee692['createdBy']=_0x5409cc['email'],await addDoc(collection(db,_0x106c6f(0xfb)),_0x3ee692),showNotification(_0x106c6f(0xb7),_0x106c6f(0xc7))):(await updateDoc(doc(db,'articles',_0x1313fe),_0x3ee692),showNotification(_0x106c6f(0x2e5),_0x106c6f(0xc7))),closeArticleModal(),loadArticles();}catch(_0x386551){console[_0x106c6f(0x34f)]('Error\x20saving\x20article:',_0x386551),showNotification(_0x106c6f(0x21e)+_0x386551[_0x106c6f(0x233)],'error');}}function closeArticleModal(){const _0x1ee6f2=a4_0x5d2362,_0x34b2bf=document[_0x1ee6f2(0x467)](_0x1ee6f2(0x8e));_0x34b2bf&&_0x34b2bf[_0x1ee6f2(0x1cb)][_0x1ee6f2(0x142)](_0x1ee6f2(0x158));}async function confirmDeleteArticle(_0x255e90){const _0x1c067f=a4_0x5d2362;if(confirm(_0x1c067f(0x481)))try{await deleteDoc(doc(db,_0x1c067f(0xfb),_0x255e90)),loadArticles(),showNotification(_0x1c067f(0xe7),_0x1c067f(0xc7));}catch(_0x4ee562){console[_0x1c067f(0x34f)](_0x1c067f(0x1aa),_0x4ee562),showNotification(_0x1c067f(0x7a)+_0x4ee562[_0x1c067f(0x233)],'error');}}function setupTrophyManagementSection(){const _0x6d87c9=a4_0x5d2362,_0x30fab7=document[_0x6d87c9(0x467)](_0x6d87c9(0x1ca));_0x30fab7&&_0x30fab7[_0x6d87c9(0x1c3)](_0x6d87c9(0x457),function(){const _0x555baf=_0x6d87c9;this[_0x555baf(0x1cb)]['add'](_0x555baf(0x3ab)),this[_0x555baf(0x318)]=_0x555baf(0x314);const _0x806687=document[_0x555baf(0x467)]('assign-trophy-image');_0x806687&&(_0x806687[_0x555baf(0x8b)]=function(){this['src']=DEFAULT_TROPHY_IMAGE;}),loadTrophyDefinitions()[_0x555baf(0x20f)](()=>{const _0x63b305=_0x555baf;this[_0x63b305(0x1cb)]['remove'](_0x63b305(0x3ab)),this[_0x63b305(0x318)]=_0x63b305(0x224);})[_0x555baf(0x4a0)](_0x204448=>{const _0x4b9d80=_0x555baf;console[_0x4b9d80(0x34f)](_0x4b9d80(0x439),_0x204448),this[_0x4b9d80(0x1cb)]['remove'](_0x4b9d80(0x3ab)),this['innerHTML']=_0x4b9d80(0xcc),setTimeout(()=>{const _0x443f13=_0x4b9d80;this[_0x443f13(0x318)]=_0x443f13(0x224);},0xbb8);});});const _0x4a0376=document[_0x6d87c9(0x467)](_0x6d87c9(0x19c));_0x4a0376&&_0x4a0376['addEventListener'](_0x6d87c9(0x457),()=>{openTrophyModal();});const _0x3a3f73=document['getElementById'](_0x6d87c9(0x375));_0x3a3f73&&_0x3a3f73[_0x6d87c9(0x1c3)]('submit',_0x4ecafa=>{const _0x102105=_0x6d87c9;_0x4ecafa[_0x102105(0x11d)](),saveTrophyDefinition();});const _0x11594a=document['getElementById'](_0x6d87c9(0x459));_0x11594a&&_0x11594a[_0x6d87c9(0x1c3)](_0x6d87c9(0x457),()=>{closeTrophyModal();});document[_0x6d87c9(0x269)]('#trophy-modal\x20.close-btn,\x20#assign-trophy-modal\x20.close-btn')[_0x6d87c9(0x2fe)](_0x26766c=>{const _0x46d117=_0x6d87c9;_0x26766c[_0x46d117(0x1c3)](_0x46d117(0x457),()=>{closeTrophyModal(),closeAssignTrophyModal();});});const _0x93068a=document[_0x6d87c9(0x467)](_0x6d87c9(0x342));_0x93068a&&_0x93068a['addEventListener'](_0x6d87c9(0x457),_0x53c65a=>{const _0x3b3a14=_0x6d87c9;_0x53c65a[_0x3b3a14(0x32f)]===_0x93068a&&closeTrophyModal();});const _0x4b53c3=document['getElementById'](_0x6d87c9(0x361));_0x4b53c3&&_0x4b53c3[_0x6d87c9(0x1c3)](_0x6d87c9(0x457),_0x428ef9=>{const _0x4a908c=_0x6d87c9;_0x428ef9[_0x4a908c(0x32f)]===_0x4b53c3&&closeAssignTrophyModal();});const _0x56ffae=document[_0x6d87c9(0x467)]('assign-trophy-form');_0x56ffae&&_0x56ffae['addEventListener'](_0x6d87c9(0x315),_0x4978b4=>{const _0x11ea22=_0x6d87c9;_0x4978b4[_0x11ea22(0x11d)](),assignTrophyToPlayer();});const _0x3398bc=document[_0x6d87c9(0x467)]('cancel-assign-btn');_0x3398bc&&_0x3398bc[_0x6d87c9(0x1c3)](_0x6d87c9(0x457),()=>{closeAssignTrophyModal();});const _0x2eff02=document[_0x6d87c9(0x467)]('trophy-image-url');_0x2eff02&&(_0x2eff02[_0x6d87c9(0x1c3)](_0x6d87c9(0x3b1),updateTrophyImagePreview),_0x2eff02[_0x6d87c9(0x1c3)](_0x6d87c9(0x3d1),()=>{setTimeout(updateTrophyImagePreview,0xa);}));}function a4_0x4d67(){const _0x5ed4d3=['</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Ladder:</strong>\x20','source','<p\x20class=\x22no-ribbons\x22>No\x20ribbons\x20found</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22user-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user\x20user-icon\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22user-name\x22>','winnerUsername','getComputedStyle','ribbon-target-user','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20in\x20demotion:','Load\x20ribbons\x20data\x20clicked','Error\x20loading\x20points\x20data:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash\x22></i>\x20Remove\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','prototype','Gold','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20from\x20','Loading...','refresh-points-overview','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...','submit','displayName','Trophy\x20created\x20successfully','innerHTML','edit-highlight-matchDate-input','342872cdvRoq','No\x20matches\x20found','.loading-cell','cancel-highlight-btn','\x20with\x20ELO\x20','Role\x20removed','User\x20data\x20loaded:','edit-match-winner-suicides','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Loser\x20ELO\x20History:</strong>\x20','Error\x20deleting\x20match:','#cancel-create-test-match-btn','Failed\x20to\x20send\x20Discord\x20notification:','Error\x20loading\x20points\x20history:','resimulateMatch','Setting\x20up\x20create\x20test\x20match\x20button','log',';\x22>','losses','Please\x20enter\x20valid\x20data','Failed\x20to\x20create\x20simple\x20test\x20match:\x20','award-item-form','target','Setting\x20up\x20highlight\x20buttons','edit-match-loser-comment','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22match-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4>Match\x20Details:</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Winner:</strong>\x20','Role\x20select\x20field\x20(#user-role)\x20not\x20found\x20in\x20modal.','loserScore','quick-edit-current-points','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Highlights','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><span\x20class=\x22highlight-type\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22elo-change\x20','Winner\x20and\x20loser\x20usernames\x20are\x20required','button[type=\x22submit\x22]','assign-trophy-title','includes','login.html','highlight-map-version','rgba(211,\x2047,\x2047,\x200.7)','common','Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20match?\x20This\x20action\x20cannot\x20be\x20undone.','trophy-modal','article-content','L\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-btn\x22\x20data-id=\x22','Match','src','Attempting\x20to\x20delete\x20trophy\x20definition\x20with\x20ID:\x20','.view-history-btn','role','Failed\x20to\x20load\x20points\x20data:\x20','points-desc','Starting\x20complete\x20match\x20resimulation...','loserName','Username\x20is\x20missing','error','color','Player\x20updated\x20successfully','Promotion','.view-player-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Current\x20Winner\x20ELO:</strong>\x20','Unknown\x20Player','highlight-form','exception','15px','approvedAt','No\x20description','resimulate-match-id','fa-info-circle','Switched\x20to\x20','timestamp','\x20users...','update','assign-trophy-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','Error\x20setting\x20custom\x20ELO:','<div\x20class=\x22chart-error\x22>Error\x20loading\x20chart\x20data</div>','Migration\x20Summary:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20Total\x20users\x20checked:\x20','bind','querySelector','Silver','Modal\x20close\x20button\x20clicked','border','Subtracted\x20','Wednesday','checked','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22user-email\x22>','lastPointsModified','create-new-article-btn','Batch\x20limit\x20reached\x20-\x20you\x20may\x20need\x20to\x20run\x20this\x20function\x20multiple\x20times\x20for\x20large\x20datasets','settings','d1-prev-page','trophy-form','selected-user-info','\x20users.\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><em>This\x20will\x20create\x20accurate\x20ELO\x20history\x20entries\x20based\x20on\x20the\x20players\x27\x20ELO\x20ratings\x20at\x20the\x20time\x20this\x20match\x20was\x20played.</em></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','sort','edit-highlight-loserName-input','edit-highlight-achievementDetails-input','edit-match-winner','Adding\x20simple\x20test\x20match...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22trophy-image-cell\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22','Error\x20demoting\x20player:\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-article-btn\x22\x20data-id=\x22','creator-type','Deleting\x20match...','type','commit','Created\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x227\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20history:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22elo\x22>','fa-exclamation-triangle','edit-match-loser-suicides','Test\x20match','Match\x20deleted\x20successfully','getAttribute','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22type\x22>','Unauthorized:\x20Admin\x20access\x20required','You\x20must\x20be\x20logged\x20in\x20to\x20resimulate\x20matches','\x27</td>','article-author','Submit\x20button\x20clicked\x20directly','Found\x20user\x20in\x20','award-reason','\x20points','Please\x20select\x20a\x20user\x20and\x20store\x20item','Deleting\x20match\x20','trophy-modal-title','\x20(+','No\x20specific\x20permissions\x20for\x20user\x20','edit-highlight-achievementType-input','dashboard','Found\x20ELO\x20history\x20for\x20player\x20','Modal\x20not\x20found\x20when\x20trying\x20to\x20close','textContent','Error\x20loading\x20match\x20for\x20deletion:','get','testFirebaseConnection','padding','players-table-body','\x20ladder!','RejectedD1','highlight-achievement-type-container','No\x20user\x20ID\x20found\x20on\x20button','\x22\x20not\x20found\x20in\x20any\x20collection','manage-ranks','loading','\x20not\x20found.','Player\x20is\x20already\x20at\x20minimum\x20rank\x20(Unranked)\x20in\x20','Essential\x20highlight\x20modal\x20elements\x20not\x20found!','role-username','searchTerm','input','load-players-data','matches-start-date','input[name=\x22test-match-ladder\x22][value=\x22D1\x22]','#d32f2f','loading-cell','Found\x20specific\x20role:\x20','Error\x20deleting\x20trophy\x20definition:','migrate-points-btn','set','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22position\x22>','validation-results-container',',\x20giving\x20default\x20access','highlight-modal-title','playerRibbonsD2','has','Added\x20','Resimulated\x20entry\x20-\x20ELO\x20and\x20positions\x20calculated\x20from\x20actual\x20pre-match\x20data','doughnut','#elo-history-table-body\x20tr','localeCompare','pendingMatchesD2','Create\x20test\x20match\x20form\x20not\x20found','winnerSuicides','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Players:</strong>\x20','edit-match-id','highlight-match-info','Please\x20enter\x20valid\x20username\x20and\x20ELO','Trophy\x20definition\x20deleted\x20successfully','Removed\x20','\x20Exists','Error\x20loading\x20players:','paste','Setting\x20up\x20points\x20action\x20buttons...',').\x20','YouTube\x20Video\x20ID\x20(Optional)','edit-username','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22quick-edit-btn\x22\x20data-user-id=\x22','__proto__','approvedMatchesD2','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22username\x22\x20style=\x22color:\x20','Never\x20played','create-test-match-btn','.edit-trophy-btn','add','resimulate-match-btn','Title\x20and\x20content\x20are\x20required','none','seconds','openResimulateModal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','join','approvedMatchesD3','img','Error\x20setting\x20user\x20role:','toLocaleDateString','Error\x20searching\x20user:','createElement','D3\x20Players','nonexistent','You\x20must\x20be\x20logged\x20in\x20to\x20perform\x20this\x20action','display','<tr><td\x20colspan=\x226\x22\x20class=\x22empty-state\x22>No\x20highlights\x20found</td></tr>','name','load-dashboard-data','trophy-rarity\x20','./promotions.js','YouTube\x20Video\x20ID*','pendingMatchesD3','lastVisible','Admin\x20Adjustment','.close','new-player-username','Achievement','trophyId','set-role-modal','demote-ladder','Unranked','roleName','roleColor','quick-points-reason','cancel-role-btn','table','edit-highlight-playerProfileUrl-input','Match\x20not\x20found\x20in\x20approved\x20matches','Error\x20loading\x20history:','.section-header','create-match-highlight-btn','toLowerCase','Load\x20matches\x20data\x20clicked','Username\x20','You\x20do\x20not\x20have\x20permission\x20to\x20access\x20this\x20section','Error\x20opening\x20assign\x20trophy\x20modal:','Edit\x20Article','Error\x20saving\x20trophy:','playerRibbonsD3','-prev-page','achievementType','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x225\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20trophies:\x20','D2\x20Players','elo','\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','#article-modal\x20.close-btn','Highlight','exists','No\x20email','\x22\x20title=\x22View\x20Player\x20Details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Create\x20test\x20match\x20form\x20submitted','Player\x20Name\x20is\x20required','current-ladder-display','Thursday','non-participants','reason','change','Error\x20creating\x20activity\x20chart:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-match-btn\x20btn-small\x22\x20data-id=\x22','store-item-select','level','highlight-description-container','.no-results','\x20already\x20exists\x20in\x20','initial_placement','reset-history-filters','matchId','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Match\x20Date:</strong>\x20','keypress','edit-highlight-creatorImageUrl-input','non-participant','Player\x20','Match\x20not\x20found','\x20users\x20to\x20check...','\x20ladder,\x20page\x20','matches-search','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-btn\x22\x20data-id=\x22','<tr><td\x20colspan=\x225\x22\x20class=\x22error-state\x22>Error\x20loading\x20ribbons</td></tr>','#users-table-body\x20tr','Error\x20loading\x20trophies:','Searching\x20for\x20player\x20in\x20','opacity','ladder','Trophy\x20not\x20found','Modal\x20background\x20clicked','activity-chart','Match\x20ID\x20or\x20ladder\x20missing','Error\x20promoting\x20player:\x20','\x20for\x20user\x20\x22','Close\x20button\x20not\x20found\x20in\x20quick\x20edit\x20modal','Error\x20in\x20promotion:','createdAt','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-article-btn\x22\x20data-id=\x22','return\x20(function()\x20','<tr><td\x20colspan=\x227\x22\x20class=\x22loading-cell\x22>Applying\x20filters...</td></tr>','Error\x20demoting\x20player:','Failed\x20to\x20load\x20user\x20data:\x20','players','set-elo-btn','Error\x20promoting\x20player:','creatorImageUrl','Updating\x20role\x20for\x20','Setting\x20up\x20Manage\x20Points\x20section','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22points-change\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small>Awarded:\x20','View\x20history\x20clicked\x20for\x20user:','manage-players','highlights','Username\x20input\x20set\x20to:\x20','click','.remove-role-btn','cancel-trophy-btn','highlight-loser-score','Modal\x20opened\x20successfully','Unknown','#matches-table-body\x20tr','#50C878','\x20ladder.\x20Click\x20\x22Load\x20Data\x22\x20to\x20refresh.','Role\x20\x27','<tr><td\x20colspan=\x226\x22\x20class=\x22loading-cell\x22>Loading\x20history...</td></tr>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-edit\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','articles-table-body','quick-edit-email','roleAssignedAt','cancel-edit-btn','getElementById','Successfully\x20promoted\x20','set-elo-value','winnerComment','promote-username','Load\x20inactive\x20players\x20data\x20clicked','currentTarget','Quick\x20edit\x20modal\x20not\x20found\x20in\x20DOM!','Creator\x20highlight\x20button\x20clicked','.delete-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4><i\x20class=\x22fas\x20fa-database\x22></i>\x20Database\x20Migration</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p>Initialize\x20the\x20points\x20field\x20for\x20all\x20users\x20who\x20don\x27t\x20have\x20it\x20yet.\x20This\x20is\x20safe\x20to\x20run\x20multiple\x20times.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22migrate-points-btn\x22\x20class=\x22btn\x20btn-warning\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20Initialize\x20Points\x20Field\x20for\x20All\x20Users\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-sm\x20edit-ribbons-btn\x22\x20data-username=\x22','trophy-rarity','load-matches-data','Quick\x20edit\x20modal\x20not\x20found!\x20Make\x20sure\x20the\x20HTML\x20element\x20exists.','Error\x20loading\x20match\x20data:','search','demotion','Error\x20checking\x20','input[name=\x22demote-ladder\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22notification-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','data','Load\x20articles\x20data\x20clicked','.ladder-switch\x20input[value=\x22D2\x22]','3537616fVEQHK','highlight-video-preview','Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20article?\x20This\x20action\x20cannot\x20be\x20undone.','.sidebar-nav\x20.nav-item','\x20quick\x20edit\x20buttons','<tr><td\x20colspan=\x225\x22\x20class=\x22loading-cell\x22>Loading\x20users...</td></tr>','asc','Error\x20initializing\x20points:\x20','Trophy\x20\x22','Error\x20opening\x20edit\x20modal:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22close-notification\x22></button>\x0a\x20\x20\x20\x20','inactive-days-filter','no-results','highlight-video-preview-container','Friday','Edit\x20','Opening\x20highlight\x20modal\x20with\x20parameter:\x20','Player\x20not\x20found\x20in\x20','(((.+)+)+)+$','trophy-name','cancel-set-elo-btn','Highlight\x20not\x20found','right','trophies-table-body','input[name=\x22set-elo-ladder\x22]:checked','achievement','highlight-winner-score','medium-points','No\x20position\x20changes\x20needed.','Quick\x20edit\x20modal\x20not\x20found\x20in\x20the\x20page','trophy-description','edit-highlight-matchInfo-input','role-filter','catch','nonParticipants','highlight-player-profile','fa-exclamation-circle','Untitled\x20Trophy','hidden','Sunday','No\x20reason\x20provided','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Articles','.close-btn','highlight-map-version-container','admin','edit-match-winner-comment','Page\x20','edit-match-loser-demo','currentUser','edit-highlight-winnerName-input','edit-match-map','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x227\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20applying\x20filters:\x20','set-elo-ladder','highlight-match-info-container','Error\x20saving\x20highlight:\x20','Testing\x20Firebase\x20connection...','Error\x20loading\x20ribbons:','article-form','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.src=\x27','MAX_SAFE_INTEGER','<tr><td\x20colspan=\x224\x22\x20class=\x22loading-cell\x22>Loading\x20articles...</td></tr>','d1-next-page','You\x20must\x20be\x20logged\x20in\x20to\x20delete\x20matches','NonParticipant','.ladder-switch\x20input','.edit-btn','console','edit-match-loser','\x22\x20already\x20has\x20this\x20trophy','Error\x20fetching\x20matches\x20for\x20','pendingResimulateData','</span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','loss','demote-player-btn','<tr><td\x20colspan=\x225\x22\x20class=\x22loading-cell\x22>Loading\x20user\x20points...</td></tr>','daysSinceMatch','ribbons','submittedBy','floor','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22previous-elo\x22>','Found\x20','You\x20must\x20be\x20logged\x20in\x20to\x20assign\x20trophies','toISOString','./ladderalgorithm.js','data-match-id','Modal\x20computed\x20styles:','demoLink','#808080','Error\x20removing\x20ribbon','confirm-resimulate-btn','ref','Could\x20not\x20find\x20player\x20documents','Failed\x20to\x20delete\x20article:\x20','Error\x20setting\x20up\x20admin\x20dashboard','\x20added\x20successfully\x20to\x20','winnerScore','Simple\x20test\x20match\x20created\x20successfully','keys','achievementDetails','input[name=\x22assign-ladder\x22]:checked','#e0e0e0','Setting\x20up\x20create\x20test\x20match\x20modal\x20events','loserDemoLink','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22','assign-trophy-id','Error\x20loading\x20points\x20overview:','DB:','inactive-players-table-body','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Matches','onerror','Error\x20finding\x20match:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22admin-action\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','article-modal','string','Initializing\x20points\x20field\x20for\x20user\x20','test-match-winner-username','rejected-count','getRankName','highlight-video-id','Firebase\x20connection\x20test\x20failed:','<tr><td\x20colspan=\x225\x22\x20class=\x22empty-state\x22>No\x20trophy\x20definitions\x20found</td></tr>','input[name=\x22quick-action\x22]:checked','lastUpdated','push','flex','),\x20','assign-trophy-rarity','\x20users\x20don\x27t\x20have\x20points\x20field\x20yet.\x20Use\x20the\x20migration\x20button\x20to\x20initialize.','.quick-edit-btn','Match\x20updated\x20successfully','highlight-achievement-details','match-count','Error\x20searching\x20for\x20user','\x22\x20title=\x22Delete\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','allUsersPoints','Create\x20test\x20match\x20form\x20not\x20found\x20in\x20DOM','sendPromotionNotification','Player\x20Achievement','page','ribbon-item','split','<span\x20class=\x22no-role\x22>None</span>','create-test-match-modal','<tr><td\x20colspan=\x227\x22\x20class=\x22empty-state\x22>No\x20matches\x20found</td></tr>','winnerDemoLink','modify-points-form','user-search','empty','Failed\x20to\x20update\x20points:\x20','warn','{}.constructor(\x22return\x20this\x22)(\x20)','\x20vs\x20','Highlight\x20deleted\x20successfully','Article\x20created\x20successfully','achievementImageUrl','role-name','highlight-map-creator-container','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-highlight-btn\x22\x20data-id=\x22','visible','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong\x20style=\x22color:\x20#ff9800;\x22>\x20RESIMULATION\x20WILL:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>Recalculate\x20ELO\x20ratings\x20based\x20on\x20pre-match\x20values</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>Update\x20current\x20player\x20ELO\x20ratings</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>Recalculate\x20and\x20update\x20player\x20positions</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>Create\x20missing\x20ELO\x20history\x20entries</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>Handle\x20position\x20swaps\x20if\x20winner\x20was\x20lower\x20ranked</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Score:</strong>\x20','players-ladder-selector','.admin-section','Error\x20loading\x20matches:','playersD2','Modal\x20setup\x20complete','highlight-player-profile-container','highlight-video-container','promote-ladder','success','highly-inactive','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Trophies\x20Data','highlight-type','\x22\x20title=\x22Remove\x20Role\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20<!--\x20Changed\x20icon\x20-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error','highlight-title-container','demotedBy','.empty-state','Points\x20action\x20buttons\x20setup\x20complete','UserProfile','search-result-item','reset','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-edit\x22></i>\x20Edit\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22timestamp\x22>','Store\x20item\x20awarded\x20successfully','Adding\x20player\x20','points','Load\x20users\x20data\x20clicked','<tr><td\x20colspan=\x225\x22\x20class=\x22error-state\x22>Error\x20loading\x20users:\x20','highlight-description','\x20to\x20','test-match-date','Loading\x20players\x20from\x20','Article\x20not\x20found','quick-edit-points-modal','782144XRthbh','Inactive\x20players\x20section\x20initialized','Match\x20resimulated\x20successfully!\x20','.ladder-switch\x20input[value=\x22D1\x22]','div','email','Article\x20deleted\x20successfully','Delete\x20Trophy:\x20No\x20trophy\x20ID\x20provided.','mapCreator','\x20Successfully\x20initialized\x20points\x20field\x20for\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x224\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20articles:\x20','<div\x20class=\x22loading\x22>Searching...</div>','Error\x20loading\x20highlights:','highlight-match-date','\x20points\x20history\x20entries','trophyDefinitions','Player\x20not\x20found','Remove\x20','highlight-achievement-player','highlight-loser-name','position','eloHistoryD3','highlight-winner-name','manage-articles','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Map:</strong>\x20','edit-highlight-achievementPlayer-input','articles','Failed\x20to\x20load\x20match\x20data','\x20\x20','playerRibbons','Error\x20loading\x20highlight:\x20','previousElementSibling','edit-highlight-map-input','Queued\x20','image','mapName','highlight-match-date-container','imageUrl','load-elo-history-data','Error\x20applying\x20filters:','block','inactive-players','edit-losses','5px','selected-user-points','trace','highlight-match-link','loserSuicides','points-sort-order','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x226\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20highlights:\x20','Updated\x20ELO\x20ratings:\x20Winner\x20','previousElo','Form\x20elements\x20are\x20missing','closest','trophy-preview-img','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><span\x20class=\x22ladder-badge\x20','promote-player-btn','#create-test-match-form','loserUsername','cells','preventDefault','find','highlight-creator-image','openResimulateModal\x20called!','match','userProfiles','set-elo-form','No\x20radio\x20button\x20found\x20for\x20current\x20ladder:','\x20Level\x20','Attempting\x20to\x20open\x20role\x20edit\x20modal\x20for:','users-table-body','Attempting\x20to\x20demote\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Initializing...','data-ladder','.edit-match-btn','playerProfileUrl','Points\x20updated\x20successfully\x20for\x20user:','className','Manage\x20Points\x20section\x20initialized','history-start-date','getDate','Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20highlight?\x20This\x20cannot\x20be\x20undone.','Please\x20enter\x20a\x20valid\x20username','.delete-trophy-btn','Error\x20loading\x20highlight:','matches-next-page','cloneNode','elo-history-table-body','Demoting\x20player\x20to\x20','TestWinner','Sidebar\x20navigation\x20initialized\x20with\x20permissions','\x20Rank\x20Distribution','sources','input[name=\x22promote-ladder\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20Users\x20updated\x20with\x20points:\x20','edit-match-title','Highlight\x20created\x20successfully!','remove','Non-Participants','Failed\x20to\x20load\x20player\x20data','#FFD700','\x22\x20title=\x22Delete\x20Match\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','history-end-date','matchInfo','Player\x20is\x20already\x20at\x20maximum\x20rank\x20(Emerald)\x20in\x20','\x20section','manage-points','pending-count','promote-modal','trophy-image-preview','edit-highlight-loserScore-input','Creator','<tr><td\x20colspan=\x227\x22\x20class=\x22empty-state\x22>No\x20ELO\x20history\x20found</td></tr>','1175208xeADGJ','Toggling\x20fields\x20for\x20highlight\x20type:\x20','Promotion\x20notification\x20sent\x20to\x20Discord\x20bot','Both\x20players\x20already\x20have\x20ELO\x20history\x20for\x20this\x20match.\x20No\x20resimulation\x20needed.','points-overview-table-body','name-desc','active','CRITICAL:\x20Role\x20modal\x20element\x20(#set-role-modal)\x20not\x20found\x20in\x20the\x20DOM!','Loser\x20','from','delete-match-confirm-modal','substring','Loading\x20user\x20data...','assign-trophy-name','activity','Enter','1203300FNwDxT','RejectedD3','91GsVUkH','\x20in\x20','Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20trophy\x20definition?\x20This\x20action\x20cannot\x20be\x20undone\x20and\x20might\x20affect\x20players\x20who\x20have\x20been\x20awarded\x20this\x20trophy.','points-history-table-body','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22score-cell\x22>','Error\x20deleting\x20highlight:','Attaching\x20background\x20click\x20listener.','matches-end-date','load-users-data','body','Create\x20test\x20match\x20modal\x20not\x20found\x20in\x20DOM','\x20(winner)\x20vs\x20','matchLink','userTrophies','Simple\x20test\x20match\x20created\x20by\x20admin\x20','Monday','removeEventListener','ribbon','points-reason','Cancel\x20button\x20(#cancel-role-btn)\x20not\x20found\x20in\x20modal.','Error\x20initializing\x20admin\x20dashboard:','Please\x20enter\x20a\x20username','eloRating','awardedAt','Set\x20to\x20','setDate','Error\x20loading\x20dashboard:','promote-form','Error\x20loading\x20trophy\x20definitions:','borderRadius','System','Failed\x20to\x20award\x20item:\x20','Modal\x20element\x20found:','Error\x20initializing\x20dashboard:','Committing\x20batch\x20update\x20for\x20','achievement-type','Match\x20Highlight','toString','Failed\x20to\x20resimulate\x20match:\x20','getDay','elo-history','Demotion','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-trophy-btn\x22\x20data-id=\x22','points-action','amount','manage-trophies','user-search-results','location','D1\x20Players','No\x20users\x20needed\x20points\x20field\x20initialization','promotion','mapVersion','highlight-map','edit-highlight-description-input','Map\x20Creator\x20is\x20required','No\x20player\x20selected','create-new-trophy-btn','moderately-inactive','Page\x201','Load\x20players\x20data\x20clicked','User\x20',';\x20color:\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','create-achievement-highlight-btn','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Articles\x20Data','trophy-image-url','parentNode','description','Match\x20Result','You\x20must\x20be\x20logged\x20in\x20to\x20delete\x20trophies','Error\x20deleting\x20article:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22player\x22>','author','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-plus\x22\x20title=\x22Assign\x20to\x20player\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-trophy-btn\x22\x20data-id=\x22','Error\x20loading\x20inactive\x20players:','Unnamed\x20Trophy','Non-Participant','Setting\x20up\x20Manage\x20Highlights\x20section','\x20-\x20','#28a745','.player','edit-match-winner-score','Complete\x20resimulation\x20-\x20ELO\x20ratings\x20and\x20positions\x20recalculated','setAttribute','Matches\x20action\x20buttons\x20setup\x20complete','videoId','pendingMatches','startDate','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20History\x20Data','highlight-modal','#inactive-players-table-body\x20tr','ELO\x20rating\x20for\x20','Error\x20loading\x20articles:','history-type-filter','This\x20will\x20add\x20a\x20points\x20field\x20(set\x20to\x200)\x20for\x20all\x20users\x20who\x20don\x27t\x20have\x20one\x20yet.\x20Continue?','addEventListener','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Users\x20Data','Profile','Initial\x20Placement','user-ribbon-management','\x22\x20data-ladder=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22rank\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22rank-badge\x22\x20style=\x22background-color:\x20','load-trophies-data','classList','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22user-points\x22>','</td></tr>','Failed\x20to\x20update\x20player:\x20','fromDate','Error\x20creating\x20rank\x20distribution\x20chart:','warning','replaceChild','highlight-players-container','Attempting\x20to\x20promote\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Loser:</strong>\x20','highlight-achievement-player-container','article-title','desc','user-role','Table\x20row\x20for\x20user\x20','onAuthStateChanged','Quick\x20edit\x20form\x20is\x20incomplete.\x20Check\x20the\x20HTML\x20structure.','data-section','<tr><td\x20colspan=\x225\x22\x20class=\x22empty-state\x22>No\x20users\x20found</td></tr>','Are\x20you\x20sure\x20you\x20want\x20to\x20remove\x20the\x20role\x20from\x20','quick-points-amount','Error\x20modifying\x20points:','Failed\x20to\x20save\x20trophy:\x20','toDate','Modal\x20closed','username','Error\x20resolving\x20username\x20for\x20','<tr><td\x20colspan=\x224\x22\x20class=\x22empty-state\x22>No\x20articles\x20found</td></tr>','Found\x20player\x20with\x20current\x20ELO:\x20','Untitled','all','\x20ladder','resimulate-modal','Failed\x20to\x20modify\x20points:\x20','Player\x20\x22','notification\x20','subtract','trophy-id','article-id','Setting\x20up\x20Manage\x20Ribbons\x20section','20px','Create\x20New\x20','match-row','style','required','demote-username','#C0C0C0','Setting\x20up\x20Manage\x20Articles\x20section\x20-\x20Found\x20Create\x20Article\x20button.','Please\x20select\x20a\x20user\x20and\x20enter\x20a\x20valid\x20amount','Bronze','Points\x20modified\x20successfully','edit-player-modal','\x20(loser)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Score:</strong>\x20','value','title','filter','DOMContentLoaded','Using\x20collections\x20for\x20','Error\x20deleting\x20player:','manage-ribbons','rgba(255,\x20255,\x20255,\x200.1)','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-coins\x22></i>\x20','matchDate','load-inactive-players-data','Quick\x20edit\x20form\x20not\x20found!','edit-match-modal','length','then','userId','highlight-title','winnerName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x226\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20players:\x20','Error\x20loading\x20ribbons\x20data','manage-matches','Failed\x20to\x20delete\x20player:\x20','points-user-search','edit-highlight-mapCreator-input','<tr><td\x20colspan=\x227\x22\x20class=\x22empty-state\x22>No\x20inactive\x20players\x20match\x20your\x20criteria</td></tr>','edit-match-ladder','Found\x20radio\x20with\x20value:','Looking\x20for\x20user\x20role\x20information\x20for\x20','create-creator-highlight-btn','Failed\x20to\x20save\x20article:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20Users\x20who\x20already\x20had\x20points:\x20','Points\x20data\x20loaded\x20successfully','Error\x20loading\x20ELO\x20history:','Error\x20adding\x20player:','rarity','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Trophies','Setup\x20Manage\x20Articles:\x20Create\x20Article\x20button\x20not\x20found!','load-articles-data','Creating\x20test\x20match\x20without\x20player\x20validation...','backgroundColor','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','eloHistoryD2','high-points','disabled','Collection\x20reference\x20created:','Error\x20awarding\x20item:','Points\x20updated\x20successfully','Failed\x20to\x20delete\x20match:\x20','Processing\x20points\x20edit:','lastMatch','message','manage-levels-ribbons','Data\x20load\x20buttons\x20initialized\x20based\x20on\x20permissions','adminEmail','Modal\x20should\x20now\x20be\x20visible','.error-state','.edit-ribbons-btn','.remove-ribbon-btn','edit-elo','\x20view\x20history\x20buttons','0.6','docs','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22winner-cell\x22>','rgba(255,\x20193,\x207,\x200.1)','roleAssignedBy','result','save-player-btn','<tr><td\x20colspan=\x227\x22\x20class=\x22loading-cell\x22>Loading\x20inactive\x20players...</td></tr>','Quick\x20edit\x20clicked\x20for\x20user:','selected-user-id','highlight-map-container','highlights-table-body','#000000','highlight-achievement-image','toLocaleString','input[name=\x22test-match-ladder\x22]','Error\x20loading\x20users:','search-ribbon-user-btn','<div\x20class=\x22no-results\x22>No\x20users\x20found</div>','highlight-map-creator','assign-player-username','player-count','promotedBy','Loaded\x20','Cancel\x20button\x20not\x20found','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Ribbons\x20Data','Create\x20New\x20Trophy','match-type','Attaching\x20cancel\x20button\x20listener.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','mapPlayed','setHours','cancel-article-btn','edit-highlight-mapVersion-input','Error\x20adding\x20ribbon','<i\x20class=\x22fas\x20fa-times\x22></i>\x20No','\x27\x20has\x20permissions:','Error\x20saving\x20highlight:','pointsHistory','Firebase\x20connection\x20test\x20successful!','.type','\x22\x20not\x20found\x20in\x20','uid','\x20by\x20UID:','querySelectorAll','823901GrOhKK','matches-page-indicator','Modal\x20cancel\x20button\x20clicked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','Edit\x20Trophy','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Manage\x20Matches\x20section\x20initialized\x20with\x20resimulate\x20functionality','trim','\x20already\x20has\x20points:\x20','player-search','playersD3','size','Error\x20assigning\x20trophy:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Current\x20Loser\x20ELO:</strong>\x20','visibility','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Inactive\x20Players','elo-history-search','1578330SHBxxw','apply','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>Level:\x20','dataset','#players-table-body\x20tr','newElo','Opening\x20quick\x20edit\x20modal\x20for\x20user\x20ID:','ribbon-target-ladder','test','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','Load\x20highlights\x20data\x20clicked','Successfully\x20demoted\x20','User\x20\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22view-player-btn\x22\x20data-username=\x22','<span\x20class=\x22role-badge\x22\x20style=\x22background-color:\x20','manage-highlights','Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20player?\x20This\x20action\x20cannot\x20be\x20undone.','Using\x20collection:\x20','\x20history\x20entries\x20for\x20user\x20','key','name-asc','quick-edit-user-id','afterend','\x20not\x20found\x20in\x20any\x20ladder','Error','highlight-achievement-type','Dashboard\x20data\x20loaded\x20successfully','.close-notification','Highlight\x20added\x20successfully!','<tr><td\x20colspan=\x227\x22\x20class=\x22loading-cell\x22>Loading\x20history...</td></tr>','Unknown\x20Admin','contains','highlight-submitted-by','-page-indicator','trophy-preview-container','user-roles-section','points-asc','values','data-id','Highlight\x20updated\x20successfully!','endDate','create-test-match-form','#ffffff','admin_modification','\x20users\x20without\x20points\x20field\x20-\x20they\x20will\x20display\x20as\x200\x20points','Create\x20test\x20match\x20modal\x20setup\x20complete','<tr><td\x20colspan=\x226\x22\x20class=\x22loading-cell\x22>Loading\x20players...</td></tr>','set-role-form','TestMap','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Current\x20Winner\x20Position:</strong>\x20','1px\x20solid\x20rgba(255,\x20193,\x207,\x200.3)','map','empty-state','points-overview-search','highlight-creator-image-container','Emerald','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Dashboard\x20Data','Failed\x20to\x20load\x20trophy\x20data','constructor','N/A','View\x20player\x20details\x20for\x20','Edit\x20Match:\x20','Create\x20test\x20match\x20modal\x20not\x20found','opponent','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22loser-cell\x22>','positive-change','User\x20not\x20found','match-details-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','stopPropagation','error-state','\x20for\x20points\x20initialization','Edit\x20match\x20clicked:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22validation-results\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4>Validation\x20Results:</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Winner\x20ELO\x20History:</strong>\x20','rankDistribution','Role\x20\x22','Manage\x20Ribbons\x20section\x20initialized','focus','matches-table-body','Failed\x20to\x20find\x20match:\x20','edit-highlight-matchLink-input','playerId','Error\x20loading\x20user\x20points\x20history:','player','<tr><td\x20colspan=\x226\x22\x20class=\x22loading-cell\x22>Loading\x20highlights...</td></tr>','eloHistory','userAllowedTabs','inactive-players-search','updatedAt','match_result','.edit-highlight-btn','creator','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Current\x20Loser\x20Position:</strong>\x20','info','approvedMatches','\x20inactive\x20players','<tr><td\x20colspan=\x227\x22\x20class=\x22empty-state\x22>No\x20players\x20found\x20in\x20this\x20ladder</td></tr>','ribbon-level','Error\x20opening\x20quick\x20edit\x20modal:','quick-edit-display-name','Role\x20select\x20set\x20to:\x20','#highlight-modal\x20.close-btn','negative-change','modifiedBy','replace','Article\x20updated\x20successfully','appendChild','matches-prev-page','RejectedD2','No\x20users\x20found\x20in\x20userProfiles\x20collection','add-player-form','\x20before\x20match\x20-\x20using\x20starting\x20ELO\x201200','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Ladder:</strong>\x20','Setting\x20permissions\x20based\x20on\x20role:\x20','achievementPlayer','destroy','Achievement\x20highlight\x20button\x20clicked','firstVisible','highlight-achievement-image-container','Unknown\x20User','Never','no-results-message','<tr><td\x20colspan=\x226\x22\x20class=\x22empty-state\x22>No\x20players\x20found</td></tr>','ribbon-user-search','<i\x20class=\x22fas\x20fa-check\x22></i>\x20Completed','demote-modal','Trophy\x20updated\x20successfully','highlight-submitted-by-container','\x22\x20title=\x22Edit\x20Match\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-match-btn\x20btn-small\x20btn-danger\x22\x20data-id=\x22','Featured\x20Creator','forEach','\x22\x20awarded\x20to\x20','Adding\x20\x22active\x22\x20class\x20to\x20modal.'];a4_0x4d67=function(){return _0x5ed4d3;};return a4_0x4d67();}function updateTrophyImagePreview(){const _0x3afdb0=a4_0x5d2362,_0x450cd9=document[_0x3afdb0(0x467)](_0x3afdb0(0x1a5))['value']['trim'](),_0x55b61f=document[_0x3afdb0(0x467)](_0x3afdb0(0x14e));if(!_0x55b61f){const _0x4b3e7e=document[_0x3afdb0(0x467)](_0x3afdb0(0x1a5))[_0x3afdb0(0x116)]('.form-group'),_0x219772=document[_0x3afdb0(0x3ea)]('div');_0x219772['id']=_0x3afdb0(0x14e),_0x219772['className']=_0x3afdb0(0x29e),_0x4b3e7e[_0x3afdb0(0x2e6)](_0x219772);const _0x3d367e=document['createElement'](_0x3afdb0(0x3e6));_0x3d367e['id']=_0x3afdb0(0x117),_0x3d367e['alt']='Trophy\x20Preview',_0x3d367e['onerror']=function(){const _0xb5d8ab=_0x3afdb0;this['src']=DEFAULT_TROPHY_IMAGE,this[_0xb5d8ab(0x1cb)][_0xb5d8ab(0x3dd)](_0xb5d8ab(0x34f));},_0x219772['appendChild'](_0x3d367e);}const _0xda011f=document[_0x3afdb0(0x467)](_0x3afdb0(0x117));_0x450cd9?(_0xda011f['src']=_0x450cd9,_0xda011f[_0x3afdb0(0x1f7)][_0x3afdb0(0x3ee)]='block',_0xda011f[_0x3afdb0(0x1cb)][_0x3afdb0(0x142)]('error')):(_0xda011f[_0x3afdb0(0x346)]=DEFAULT_TROPHY_IMAGE,_0xda011f['style'][_0x3afdb0(0x3ee)]=_0x3afdb0(0x109));}async function loadTrophyDefinitions(){const _0x46ff6f=a4_0x5d2362,_0x503e2a=document['getElementById'](_0x46ff6f(0x496));if(!_0x503e2a)return;_0x503e2a[_0x46ff6f(0x318)]='<tr><td\x20colspan=\x225\x22\x20class=\x22loading-cell\x22>Loading\x20trophies...</td></tr>';try{const _0x341bd1=collection(db,_0x46ff6f(0xf0)),_0x3c0124=query(_0x341bd1,orderBy(_0x46ff6f(0x445),_0x46ff6f(0x1d8))),_0x12ae68=await getDocs(_0x3c0124);if(_0x12ae68[_0x46ff6f(0xb1)]){_0x503e2a[_0x46ff6f(0x318)]=_0x46ff6f(0x96);return;}_0x503e2a['innerHTML']='',_0x12ae68[_0x46ff6f(0x2fe)](_0x2127aa=>{const _0xfb148=_0x46ff6f,_0x5719b9=_0x2127aa['data'](),_0x2fb00b=document[_0xfb148(0x3ea)]('tr'),_0x63bd56=_0x5719b9[_0xfb148(0x445)]?new Date(_0x5719b9[_0xfb148(0x445)][_0xfb148(0x3e1)]*0x3e8)[_0xfb148(0x24b)]():_0xfb148(0x2b7);_0x2fb00b[_0xfb148(0x318)]=_0xfb148(0x37e)+(_0x5719b9['image']||DEFAULT_TROPHY_IMAGE)+_0xfb148(0x85)+_0x5719b9[_0xfb148(0x3f0)]+_0xfb148(0x4b9)+DEFAULT_TROPHY_IMAGE+'\x27;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22trophy-name\x22>'+(_0x5719b9['name']||_0xfb148(0x4a4))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22trophy-rarity-cell\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22trophy-rarity\x20'+(_0x5719b9['rarity']||_0xfb148(0x340))+'\x22>'+(_0x5719b9['rarity']||_0xfb148(0x340))+_0xfb148(0x229)+_0x63bd56+_0xfb148(0x18e)+_0x2127aa['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22assign-trophy-btn\x22\x20data-id=\x22'+_0x2127aa['id']+_0xfb148(0x1ad)+_0x2127aa['id']+_0xfb148(0x26f),_0x503e2a[_0xfb148(0x2e6)](_0x2fb00b);}),setupTrophyActionButtons();}catch(_0x47085c){console[_0x46ff6f(0x34f)](_0x46ff6f(0x180),_0x47085c),_0x503e2a[_0x46ff6f(0x318)]=_0x46ff6f(0x413)+_0x47085c[_0x46ff6f(0x233)]+_0x46ff6f(0x362);}}function setupTrophyActionButtons(){const _0x2d730d=a4_0x5d2362;document['querySelectorAll'](_0x2d730d(0x3dc))[_0x2d730d(0x2fe)](_0x311631=>{_0x311631['addEventListener']('click',_0x2de100=>{const _0x4c05f2=a4_0x2715,_0x2a781b=_0x2de100['currentTarget'][_0x4c05f2(0x27f)]['id'];openTrophyModal(_0x2a781b);});}),document[_0x2d730d(0x269)]('.assign-trophy-btn')[_0x2d730d(0x2fe)](_0x238178=>{const _0x3c1950=_0x2d730d;_0x238178[_0x3c1950(0x1c3)]('click',_0x551db1=>{const _0x5919d6=_0x3c1950,_0x23e894=_0x551db1[_0x5919d6(0x46d)]['dataset']['id'];openAssignTrophyModal(_0x23e894);});}),document['querySelectorAll'](_0x2d730d(0x134))['forEach'](_0x1fe562=>{const _0x11c8fa=_0x2d730d;_0x1fe562[_0x11c8fa(0x1c3)](_0x11c8fa(0x457),_0x3d014c=>{const _0x325765=_0x11c8fa,_0x395cd5=_0x3d014c[_0x325765(0x46d)][_0x325765(0x27f)]['id'];confirmDeleteTrophy(_0x395cd5);});});}function openTrophyModal(_0x4bc5fc=null){const _0xbb5af1=a4_0x5d2362,_0x314a5f=document[_0xbb5af1(0x467)](_0xbb5af1(0x342)),_0x15305e=document['getElementById'](_0xbb5af1(0x398)),_0x31e11e=document[_0xbb5af1(0x467)]('trophy-form'),_0x393262=document[_0xbb5af1(0x467)]('trophy-id');_0x31e11e['reset'](),_0x393262[_0xbb5af1(0x201)]='';const _0x3115e2=document[_0xbb5af1(0x467)](_0xbb5af1(0x117));_0x3115e2&&(_0x3115e2['src']=DEFAULT_TROPHY_IMAGE,_0x3115e2['classList']['remove'](_0xbb5af1(0x34f))),_0x4bc5fc?(_0x15305e[_0xbb5af1(0x39f)]=_0xbb5af1(0x26e),_0x393262[_0xbb5af1(0x201)]=_0x4bc5fc,loadTrophyData(_0x4bc5fc)):_0x15305e[_0xbb5af1(0x39f)]=_0xbb5af1(0x257),_0x314a5f[_0xbb5af1(0x1cb)][_0xbb5af1(0x3dd)](_0xbb5af1(0x158));}async function loadTrophyData(_0x4d4be1){const _0x5036c0=a4_0x5d2362;try{const _0x48686a=doc(db,'trophyDefinitions',_0x4d4be1),_0x26b85a=await getDoc(_0x48686a);if(!_0x26b85a[_0x5036c0(0x419)]()){showNotification(_0x5036c0(0x43d),'error');return;}const _0x15bb9b=_0x26b85a[_0x5036c0(0x47c)]();document[_0x5036c0(0x467)](_0x5036c0(0x492))[_0x5036c0(0x201)]=_0x15bb9b[_0x5036c0(0x3f0)]||'',document[_0x5036c0(0x467)](_0x5036c0(0x49d))['value']=_0x15bb9b[_0x5036c0(0x1a7)]||'',document['getElementById'](_0x5036c0(0x1a5))[_0x5036c0(0x201)]=_0x15bb9b[_0x5036c0(0x103)]||'',document['getElementById'](_0x5036c0(0x473))[_0x5036c0(0x201)]=_0x15bb9b['rarity']||_0x5036c0(0x340),updateTrophyImagePreview();}catch(_0x2f3ac5){console[_0x5036c0(0x34f)]('Error\x20loading\x20trophy\x20data:',_0x2f3ac5),showNotification(_0x5036c0(0x2b5),_0x5036c0(0x34f));}}async function saveTrophyDefinition(){const _0x28eff1=a4_0x5d2362;try{const _0x1f6840=document[_0x28eff1(0x467)](_0x28eff1(0x1f1))[_0x28eff1(0x201)],_0x264d68=document[_0x28eff1(0x467)](_0x28eff1(0x492))['value'][_0x28eff1(0x271)](),_0x3c8f75=document['getElementById'](_0x28eff1(0x49d))['value'][_0x28eff1(0x271)](),_0x347f72=document[_0x28eff1(0x467)]('trophy-image-url')[_0x28eff1(0x201)][_0x28eff1(0x271)](),_0x548228=document[_0x28eff1(0x467)](_0x28eff1(0x473))[_0x28eff1(0x201)];if(!_0x264d68||!_0x3c8f75||!_0x347f72){showNotification('All\x20fields\x20are\x20required','error');return;}const _0x2d702a=auth['currentUser'];if(!_0x2d702a){showNotification('You\x20must\x20be\x20logged\x20in\x20to\x20save\x20trophies',_0x28eff1(0x34f));return;}const _0x2c9443={'name':_0x264d68,'description':_0x3c8f75,'image':_0x347f72,'rarity':_0x548228,'lastModifiedAt':serverTimestamp(),'lastModifiedBy':_0x2d702a[_0x28eff1(0xe6)]};!_0x1f6840?(_0x2c9443[_0x28eff1(0x445)]=serverTimestamp(),_0x2c9443['createdBy']=_0x2d702a[_0x28eff1(0xe6)],await addDoc(collection(db,_0x28eff1(0xf0)),_0x2c9443),showNotification(_0x28eff1(0x317),_0x28eff1(0xc7))):(await updateDoc(doc(db,_0x28eff1(0xf0),_0x1f6840),_0x2c9443),showNotification(_0x28eff1(0x2fa),_0x28eff1(0xc7))),closeTrophyModal(),loadTrophyDefinitions();}catch(_0x6799){console[_0x28eff1(0x34f)](_0x28eff1(0x40f),_0x6799),showNotification(_0x28eff1(0x1e2)+_0x6799[_0x28eff1(0x233)],'error');}}function closeTrophyModal(){const _0x1bf864=a4_0x5d2362,_0x5cfb42=document[_0x1bf864(0x467)](_0x1bf864(0x342));_0x5cfb42&&_0x5cfb42['classList'][_0x1bf864(0x142)](_0x1bf864(0x158));}async function confirmDeleteTrophy(_0x48bcd0){const _0x1182fb=a4_0x5d2362;if(!_0x48bcd0){console[_0x1182fb(0x34f)](_0x1182fb(0xe8));return;}if(confirm(_0x1182fb(0x166)))try{const _0x3aa5a8=auth[_0x1182fb(0x4af)];if(!_0x3aa5a8){showNotification(_0x1182fb(0x1a9),_0x1182fb(0x34f));return;}console[_0x1182fb(0x329)](_0x1182fb(0x347)+_0x48bcd0),await deleteDoc(doc(db,'trophyDefinitions',_0x48bcd0)),showNotification(_0x1182fb(0x3cd),_0x1182fb(0xc7)),loadTrophyDefinitions();}catch(_0xc92e94){console[_0x1182fb(0x34f)](_0x1182fb(0x3b8),_0xc92e94),showNotification('Failed\x20to\x20delete\x20trophy:\x20'+_0xc92e94['message'],_0x1182fb(0x34f));}}async function openAssignTrophyModal(_0x1f2c1b){const _0x55cb0f=a4_0x5d2362;try{const _0x4c94f4=doc(db,_0x55cb0f(0xf0),_0x1f2c1b),_0x537c40=await getDoc(_0x4c94f4);if(!_0x537c40[_0x55cb0f(0x419)]()){showNotification(_0x55cb0f(0x43d),'error');return;}const _0x87da4a=_0x537c40[_0x55cb0f(0x47c)]();document[_0x55cb0f(0x467)](_0x55cb0f(0x86))[_0x55cb0f(0x201)]=_0x1f2c1b,document['getElementById'](_0x55cb0f(0x15f))[_0x55cb0f(0x201)]=_0x87da4a['name'],document[_0x55cb0f(0x467)]('assign-trophy-image')['src']=_0x87da4a[_0x55cb0f(0x103)]||DEFAULT_TROPHY_IMAGE,document[_0x55cb0f(0x467)](_0x55cb0f(0x33b))[_0x55cb0f(0x39f)]=_0x87da4a[_0x55cb0f(0x3f0)]||_0x55cb0f(0x1af),document[_0x55cb0f(0x467)]('assign-trophy-description')['textContent']=_0x87da4a['description']||_0x55cb0f(0x35a);const _0x30c7de=document[_0x55cb0f(0x467)](_0x55cb0f(0x9c));_0x30c7de[_0x55cb0f(0x39f)]=_0x87da4a['rarity']||_0x55cb0f(0x340),_0x30c7de[_0x55cb0f(0x12e)]=_0x55cb0f(0x3f2)+(_0x87da4a[_0x55cb0f(0x223)]||_0x55cb0f(0x340));const _0xdeca4c=document[_0x55cb0f(0x467)](_0x55cb0f(0x361));_0xdeca4c[_0x55cb0f(0x1cb)]['add']('active');}catch(_0x316659){console['error'](_0x55cb0f(0x40d),_0x316659),showNotification(_0x55cb0f(0x2b5),_0x55cb0f(0x34f));}}function closeAssignTrophyModal(){const _0x3d61fe=a4_0x5d2362,_0x2d06c9=document[_0x3d61fe(0x467)](_0x3d61fe(0x361));_0x2d06c9&&_0x2d06c9['classList'][_0x3d61fe(0x142)](_0x3d61fe(0x158));}async function assignTrophyToPlayer(){const _0x3c1d77=a4_0x5d2362;try{const _0x3248f3=document['getElementById'](_0x3c1d77(0x86))[_0x3c1d77(0x201)],_0x600269=document[_0x3c1d77(0x467)]('assign-trophy-name')[_0x3c1d77(0x201)],_0x3324db=document[_0x3c1d77(0x467)](_0x3c1d77(0x251))[_0x3c1d77(0x201)][_0x3c1d77(0x271)](),_0x344559=document['querySelector'](_0x3c1d77(0x81))[_0x3c1d77(0x201)];if(!_0x3248f3||!_0x3324db){showNotification('Trophy\x20ID\x20and\x20username\x20are\x20required',_0x3c1d77(0x34f));return;}const _0x1cc7b7=auth['currentUser'];if(!_0x1cc7b7){showNotification(_0x3c1d77(0x6f),_0x3c1d77(0x34f));return;}let _0x511d63=null,_0x570258=null,_0x18ac57=null;if(_0x344559===_0x3c1d77(0x430)){const _0x391554=collection(db,_0x3c1d77(0x4a1)),_0x429589=query(_0x391554,where(_0x3c1d77(0x1e5),'==',_0x3324db)),_0x5729dc=await getDocs(_0x429589);!_0x5729dc[_0x3c1d77(0xb1)]&&(_0x511d63=_0x5729dc['docs'][0x0],_0x570258=_0x511d63['id'],_0x18ac57=_0x511d63[_0x3c1d77(0x47c)]());}else{const _0x1f6430=_0x344559==='D1'?_0x3c1d77(0x44b):_0x344559==='D2'?_0x3c1d77(0xc2):_0x3c1d77(0x274),_0x14bc42=collection(db,_0x1f6430),_0x5ab191=query(_0x14bc42,where(_0x3c1d77(0x1e5),'==',_0x3324db)),_0x15e54d=await getDocs(_0x5ab191);!_0x15e54d[_0x3c1d77(0xb1)]&&(_0x511d63=_0x15e54d[_0x3c1d77(0x23e)][0x0],_0x570258=_0x511d63['id'],_0x18ac57=_0x511d63['data']());}if(!_0x511d63){showNotification(_0x3c1d77(0x1ee)+_0x3324db+_0x3c1d77(0x266)+(_0x344559===_0x3c1d77(0x430)?_0x3c1d77(0x420):_0x344559+'\x20ladder'),_0x3c1d77(0x34f));return;}const _0x26f817=collection(db,_0x3c1d77(0x171)),_0x164e03=query(_0x26f817,where(_0x3c1d77(0x210),'==',_0x570258),where(_0x3c1d77(0x3fb),'==',_0x3248f3)),_0x1a0768=await getDocs(_0x164e03);if(!_0x1a0768['empty']){showNotification('Player\x20\x22'+_0x3324db+_0x3c1d77(0x4c3),_0x3c1d77(0x1d1));return;}await addDoc(collection(db,_0x3c1d77(0x171)),{'userId':_0x570258,'playerUsername':_0x3324db,'trophyId':_0x3248f3,'awardedAt':serverTimestamp(),'awardedBy':_0x1cc7b7[_0x3c1d77(0xe6)],'ladder':_0x344559}),showNotification(_0x3c1d77(0x487)+_0x600269+_0x3c1d77(0x2ff)+_0x3324db,_0x3c1d77(0xc7)),closeAssignTrophyModal();}catch(_0x9c5105){console['error'](_0x3c1d77(0x276),_0x9c5105),showNotification('Failed\x20to\x20assign\x20trophy:\x20'+_0x9c5105[_0x3c1d77(0x233)],_0x3c1d77(0x34f));}}function setupInactivePlayersSection(){const _0x2769e7=a4_0x5d2362,_0x931847=document['getElementById'](_0x2769e7(0x48a));_0x931847&&_0x931847['addEventListener'](_0x2769e7(0x422),function(){const _0x500340=_0x2769e7,_0x808d50=document[_0x500340(0x467)](_0x500340(0x20b));if(_0x808d50)_0x808d50['click']();});const _0x353bb8=document[_0x2769e7(0x368)](_0x2769e7(0xe4)),_0x28b9f0=document[_0x2769e7(0x368)](_0x2769e7(0x47e));_0x353bb8&&_0x28b9f0&&(_0x353bb8[_0x2769e7(0x1c3)](_0x2769e7(0x422),function(){const _0x47421a=_0x2769e7;if(this['checked']){currentLadder='D1';if(document[_0x47421a(0x467)]('inactive-players')['style'][_0x47421a(0x3ee)]!=='none'){const _0x57d376=document[_0x47421a(0x467)]('load-inactive-players-data');if(_0x57d376)_0x57d376[_0x47421a(0x457)]();}}}),_0x28b9f0[_0x2769e7(0x1c3)]('change',function(){const _0x2e06f4=_0x2769e7;if(this[_0x2e06f4(0x36e)]){currentLadder='D2';if(document['getElementById'](_0x2e06f4(0x10a))[_0x2e06f4(0x1f7)]['display']!==_0x2e06f4(0x3e0)){const _0x1765bc=document[_0x2e06f4(0x467)](_0x2e06f4(0x20b));if(_0x1765bc)_0x1765bc[_0x2e06f4(0x457)]();}}}));const _0x580350=document['getElementById'](_0x2769e7(0x2d3));_0x580350&&_0x580350[_0x2769e7(0x1c3)](_0x2769e7(0x3b1),debounce(function(){const _0x2a407d=_0x2769e7,_0x97509e=_0x580350['value']['toLowerCase'](),_0x3d9173=document[_0x2a407d(0x269)](_0x2a407d(0x1be));_0x3d9173['forEach'](_0x333cc1=>{const _0x386e8b=_0x2a407d;if(_0x333cc1['querySelector'](_0x386e8b(0x31c))||_0x333cc1[_0x386e8b(0x368)](_0x386e8b(0xcf))||_0x333cc1[_0x386e8b(0x368)](_0x386e8b(0x238)))return;const _0x2d8a9c=_0x333cc1[_0x386e8b(0x11c)][0x0]?.[_0x386e8b(0x39f)][_0x386e8b(0x409)]()||'',_0x43fe40=_0x333cc1[_0x386e8b(0x11c)][0x5]?.[_0x386e8b(0x39f)][_0x386e8b(0x409)]()||'';_0x2d8a9c['includes'](_0x97509e)||_0x43fe40[_0x386e8b(0x33c)](_0x97509e)?_0x333cc1[_0x386e8b(0x1f7)]['display']='':_0x333cc1['style'][_0x386e8b(0x3ee)]=_0x386e8b(0x3e0);});},0x12c)),document[_0x2769e7(0x1c3)](_0x2769e7(0x457),function(_0x270cbf){const _0x11c461=_0x2769e7;if(_0x270cbf[_0x11c461(0x32f)][_0x11c461(0x116)](_0x11c461(0x353))){const _0x3388f5=_0x270cbf['target'][_0x11c461(0x116)](_0x11c461(0x353)),_0x17d018=_0x3388f5[_0x11c461(0x27f)][_0x11c461(0x1e5)];_0x17d018&&alert(_0x11c461(0x2b8)+_0x17d018+'\x20-\x20Feature\x20coming\x20soon');}}),console[_0x2769e7(0x329)](_0x2769e7(0xe2));}function a4_0x2715(_0x5f6c8e,_0x2fbf76){const _0x21bb78=a4_0x4d67();return a4_0x2715=function(_0x5f4843,_0x2ade0e){_0x5f4843=_0x5f4843-0x69;let _0xb7c236=_0x21bb78[_0x5f4843];return _0xb7c236;},a4_0x2715(_0x5f6c8e,_0x2fbf76);}async function loadInactivePlayersData(){const _0x381bde=a4_0x5d2362,_0x256cb0=document['getElementById'](_0x381bde(0x89));if(!_0x256cb0)return;_0x256cb0['innerHTML']=_0x381bde(0x244);try{const _0x32f4d0=document[_0x381bde(0x467)]('inactive-days-filter'),_0x19aefb=_0x32f4d0?parseInt(_0x32f4d0[_0x381bde(0x201)])||0x0:0x0,_0x28de3a=collection(db,currentLadder==='D1'?_0x381bde(0x44b):_0x381bde(0xc2)),_0x1be7e2=await getDocs(_0x28de3a);if(_0x1be7e2[_0x381bde(0xb1)]){_0x256cb0['innerHTML']=_0x381bde(0x2dc);return;}const _0x1e8abf=[];_0x1be7e2[_0x381bde(0x2fe)](_0x5ab9e1=>{const _0x34b50f=_0x381bde,_0x39c04a=_0x5ab9e1['data']();_0x1e8abf[_0x34b50f(0x99)]({..._0x39c04a,'id':_0x5ab9e1['id'],'username':_0x39c04a[_0x34b50f(0x1e5)]||_0x34b50f(0x355)});}),console['log'](_0x381bde(0x6e)+_0x1e8abf[_0x381bde(0x20e)]+'\x20total\x20players\x20in\x20the\x20'+currentLadder+'\x20ladder');const _0x24341e=currentLadder==='D1'?_0x381bde(0x2da):_0x381bde(0x3d8),_0x1566b9=_0x1e8abf[_0x381bde(0x2af)](async _0x236efc=>{const _0x283483=_0x381bde;try{const _0x2e155e=collection(db,_0x24341e),_0x4cf991=query(_0x2e155e,or(where(_0x283483(0x306),'==',_0x236efc[_0x283483(0x1e5)]),where(_0x283483(0x11b),'==',_0x236efc[_0x283483(0x1e5)])),orderBy(_0x283483(0x359),_0x283483(0x1d8)),limit(0x1)),_0x839720=await getDocs(_0x4cf991);if(!_0x839720[_0x283483(0xb1)]){const _0x2a4c7f=_0x839720[_0x283483(0x23e)][0x0][_0x283483(0x47c)](),_0x431e1c=_0x2a4c7f[_0x283483(0x359)]?new Date(_0x2a4c7f[_0x283483(0x359)]['seconds']*0x3e8):null,_0x1bf831=new Date(),_0x3da8f0=_0x431e1c?Math[_0x283483(0x6c)]((_0x1bf831-_0x431e1c)/(0x3e8*0x3c*0x3c*0x18)):null,_0x4ec994=_0x2a4c7f[_0x283483(0x306)]===_0x236efc[_0x283483(0x1e5)]?_0x2a4c7f[_0x283483(0x11b)]:_0x2a4c7f['winnerUsername'],_0x13073d=_0x2a4c7f[_0x283483(0x306)]===_0x236efc['username']?'Won':'Lost';return{..._0x236efc,'lastMatch':{'date':_0x431e1c?_0x431e1c[_0x283483(0x3e8)]():_0x283483(0x2b7),'opponent':_0x4ec994||_0x283483(0x45c),'result':_0x13073d,'timestamp':_0x431e1c||new Date(0x0),'daysSinceMatch':_0x3da8f0||Number[_0x283483(0x4ba)]}};}else return{..._0x236efc,'lastMatch':{'date':_0x283483(0x3da),'opponent':'N/A','result':'N/A','timestamp':new Date(0x0),'daysSinceMatch':Number[_0x283483(0x4ba)]}};}catch(_0x443296){return console[_0x283483(0x34f)](_0x283483(0x4c4)+_0x236efc[_0x283483(0x1e5)]+':',_0x443296),{..._0x236efc,'lastMatch':{'date':'Error','opponent':_0x283483(0x294),'result':_0x283483(0x294),'timestamp':new Date(0x0),'daysSinceMatch':0x0}};}});let _0x1beb98=await Promise['all'](_0x1566b9);_0x1beb98['sort']((_0x299bad,_0xbf98c8)=>_0xbf98c8[_0x381bde(0x232)][_0x381bde(0x69)]-_0x299bad[_0x381bde(0x232)][_0x381bde(0x69)]);_0x19aefb>0x0&&(_0x1beb98=_0x1beb98[_0x381bde(0x203)](_0x152a41=>_0x152a41[_0x381bde(0x232)]['daysSinceMatch']>=_0x19aefb));_0x256cb0[_0x381bde(0x318)]='';if(_0x1beb98[_0x381bde(0x20e)]===0x0){_0x256cb0[_0x381bde(0x318)]=_0x381bde(0x219);return;}_0x1beb98[_0x381bde(0x2fe)](_0x361632=>{const _0xfff1fd=_0x381bde,_0x29b3ea=document[_0xfff1fd(0x3ea)]('tr'),_0x45c4a3=_0x361632[_0xfff1fd(0x232)][_0xfff1fd(0x69)]>0x1e?_0xfff1fd(0xc8):_0x361632['lastMatch'][_0xfff1fd(0x69)]>0xe?_0xfff1fd(0x19d):'';_0x29b3ea['className']=_0x45c4a3,_0x29b3ea[_0xfff1fd(0x318)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x361632[_0xfff1fd(0x1e5)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x361632[_0xfff1fd(0x17a)]||0x4b0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x361632['lastMatch']['date']+_0xfff1fd(0x279)+(_0x361632['lastMatch'][_0xfff1fd(0x69)]===Number[_0xfff1fd(0x4ba)]?_0xfff1fd(0x2b7):_0x361632[_0xfff1fd(0x232)][_0xfff1fd(0x69)])+_0xfff1fd(0x279)+currentLadder+_0xfff1fd(0x279)+(_0x361632[_0xfff1fd(0x232)]['date']===_0xfff1fd(0x3da)?_0xfff1fd(0x31b):_0x361632['lastMatch'][_0xfff1fd(0x242)]+'\x20vs\x20'+_0x361632[_0xfff1fd(0x232)][_0xfff1fd(0x2bb)])+_0xfff1fd(0x289)+_0x361632['username']+_0xfff1fd(0x41b),_0x256cb0['appendChild'](_0x29b3ea);}),console[_0x381bde(0x329)]('Displaying\x20'+_0x1beb98[_0x381bde(0x20e)]+_0x381bde(0x2db));}catch(_0x4dabf4){console[_0x381bde(0x34f)](_0x381bde(0x1ae),_0x4dabf4),_0x256cb0[_0x381bde(0x318)]='<tr><td\x20colspan=\x227\x22\x20class=\x22error-state\x22>Error\x20loading\x20inactive\x20players:\x20'+_0x4dabf4[_0x381bde(0x233)]+_0x381bde(0x1cd);}}function setupHighlightButtons(){const _0x366108=a4_0x5d2362;console['log'](_0x366108(0x330));const _0x501a2b=document[_0x366108(0x467)](_0x366108(0x408));_0x501a2b&&_0x501a2b[_0x366108(0x1c3)](_0x366108(0x457),function(){const _0x10fbde=_0x366108;console['log']('Match\x20highlight\x20button\x20clicked'),openHighlightModal(_0x10fbde(0x121));});const _0x373d04=document['getElementById'](_0x366108(0x21d));_0x373d04&&_0x373d04[_0x366108(0x1c3)](_0x366108(0x457),function(){const _0x3a1da0=_0x366108;console[_0x3a1da0(0x329)](_0x3a1da0(0x46f)),openHighlightModal(_0x3a1da0(0x2d7));});const _0x2d5c0e=document['getElementById'](_0x366108(0x1a3));_0x2d5c0e&&_0x2d5c0e[_0x366108(0x1c3)](_0x366108(0x457),function(){const _0x4fd7dd=_0x366108;console[_0x4fd7dd(0x329)](_0x4fd7dd(0x2f0)),openHighlightModal(_0x4fd7dd(0x498));});}function openHighlightModal(_0x4a913b=a4_0x5d2362(0x121)){const _0x499d7b=a4_0x5d2362;console['log'](_0x499d7b(0x48f)+_0x4a913b);const _0x6a7be8=document['getElementById']('highlight-modal'),_0x35dc3e=document[_0x499d7b(0x467)](_0x499d7b(0x356)),_0x30d22e=document['getElementById']('highlight-modal-title'),_0x25048f=document[_0x499d7b(0x467)]('highlight-id');if(!_0x6a7be8||!_0x35dc3e||!_0x30d22e){console['error'](_0x499d7b(0x3ae));return;}_0x35dc3e[_0x499d7b(0xd3)](),_0x25048f[_0x499d7b(0x201)]='';const _0x5464ae=[_0x499d7b(0x121),_0x499d7b(0x2d7),_0x499d7b(0x498)],_0x2fcfac=!_0x5464ae[_0x499d7b(0x33c)](_0x4a913b);if(_0x2fcfac){const _0x3babf6=_0x4a913b;_0x25048f[_0x499d7b(0x201)]=_0x3babf6,_0x30d22e[_0x499d7b(0x39f)]=_0x499d7b(0x312),loadHighlightDataAdmin(_0x3babf6);}else{const _0x5a198a=_0x4a913b;document[_0x499d7b(0x467)](_0x499d7b(0xca))[_0x499d7b(0x201)]=_0x5a198a,_0x30d22e[_0x499d7b(0x39f)]=_0x499d7b(0x1f5)+getHighlightTypeName(_0x5a198a),toggleHighlightFields(_0x5a198a);const _0x49abbe=auth[_0x499d7b(0x4af)];_0x49abbe&&document[_0x499d7b(0x467)](_0x499d7b(0x29c))&&(document['getElementById'](_0x499d7b(0x29c))[_0x499d7b(0x201)]=_0x49abbe[_0x499d7b(0x316)]||_0x49abbe[_0x499d7b(0xe6)]);}_0x6a7be8[_0x499d7b(0x1cb)][_0x499d7b(0x3dd)](_0x499d7b(0x158));}function toggleHighlightFields(_0x2f8417){const _0x1a9835=a4_0x5d2362;console[_0x1a9835(0x329)](_0x1a9835(0x153)+_0x2f8417);const _0x364286=document[_0x1a9835(0x467)](_0x1a9835(0x356));if(!_0x364286)return;const _0x3b2987=_0x364286[_0x1a9835(0x269)]('.form-group,\x20.form-row');_0x3b2987['forEach'](_0x1cbb26=>_0x1cbb26[_0x1a9835(0x1f7)]['display']=_0x1a9835(0x3e0));const _0x2a8be7=document[_0x1a9835(0x467)]('highlight-video-preview-container');if(_0x2a8be7)_0x2a8be7[_0x1a9835(0x1f7)][_0x1a9835(0x3ee)]=_0x1a9835(0x3e0);const _0x441baa=[_0x1a9835(0xcd),_0x1a9835(0x427),_0x1a9835(0x2fb)];_0x441baa[_0x1a9835(0x2fe)](_0x3ea7b5=>{const _0x5bf127=_0x1a9835,_0x5e0e2c=document[_0x5bf127(0x467)](_0x3ea7b5);if(_0x5e0e2c)_0x5e0e2c[_0x5bf127(0x1f7)]['display']=_0x5bf127(0x109);});if(_0x2f8417===_0x1a9835(0x121)){const _0xa188f6=[_0x1a9835(0xc5),_0x1a9835(0x4b4),'highlight-map-container',_0x1a9835(0x105),_0x1a9835(0x1d3),'highlight-match-link-container'];_0xa188f6[_0x1a9835(0x2fe)](_0x41fbfb=>{const _0x34489b=_0x1a9835,_0x477a92=document['getElementById'](_0x41fbfb);_0x477a92&&(_0x41fbfb===_0x34489b(0x1d3)?_0x477a92[_0x34489b(0x1f7)][_0x34489b(0x3ee)]=_0x34489b(0x9a):_0x477a92['style']['display']=_0x34489b(0x109));});const _0x299876=document['getElementById'](_0x1a9835(0x94));if(_0x299876){_0x299876[_0x1a9835(0x1f8)]=!![];const _0x580dd3=_0x299876[_0x1a9835(0x100)];if(_0x580dd3)_0x580dd3['innerHTML']=_0x1a9835(0x3f4);}if(_0x2a8be7)_0x2a8be7[_0x1a9835(0x1f7)][_0x1a9835(0x3ee)]=_0x1a9835(0x109);updateHighlightVideoPreview();}else{if(_0x2f8417==='creator'){const _0x4173db=[_0x1a9835(0x247),_0x1a9835(0xba),_0x1a9835(0x4aa),_0x1a9835(0x2b2),'highlight-video-container'];_0x4173db['forEach'](_0x482efe=>{const _0x42648d=_0x1a9835,_0x2b54c3=document[_0x42648d(0x467)](_0x482efe);if(_0x2b54c3)_0x2b54c3[_0x42648d(0x1f7)][_0x42648d(0x3ee)]='block';});const _0x54f357=document['getElementById']('highlight-video-id');if(_0x54f357){_0x54f357[_0x1a9835(0x1f8)]=![];const _0x3d87f5=_0x54f357['previousElementSibling'];if(_0x3d87f5)_0x3d87f5['innerHTML']=_0x1a9835(0x3d4);}}else{if(_0x2f8417===_0x1a9835(0x498)){const _0x12f359=[_0x1a9835(0x1d6),_0x1a9835(0x3a7),'highlight-achievement-details-container',_0x1a9835(0xc4),_0x1a9835(0x2f2),_0x1a9835(0xc5)];_0x12f359[_0x1a9835(0x2fe)](_0x4d7b0a=>{const _0x1adf27=_0x1a9835,_0x34f70d=document[_0x1adf27(0x467)](_0x4d7b0a);if(_0x34f70d)_0x34f70d[_0x1adf27(0x1f7)][_0x1adf27(0x3ee)]=_0x1adf27(0x109);});const _0x13062b=document[_0x1a9835(0x467)](_0x1a9835(0x94));if(_0x13062b){_0x13062b[_0x1a9835(0x1f8)]=![];const _0x3dd546=_0x13062b[_0x1a9835(0x100)];if(_0x3dd546)_0x3dd546[_0x1a9835(0x318)]=_0x1a9835(0x3d4);}}}}}async function loadHighlightDataAdmin(_0xd00061){const _0x3e3fce=a4_0x5d2362;try{const _0x1ee155=doc(db,_0x3e3fce(0x455),_0xd00061),_0x454dd3=await getDoc(_0x1ee155);if(!_0x454dd3['exists']()){showNotification(_0x3e3fce(0x494),_0x3e3fce(0x34f));return;}const _0x40afe1=_0x454dd3[_0x3e3fce(0x47c)](),_0x360ed9=_0x40afe1[_0x3e3fce(0x383)]||'match';document[_0x3e3fce(0x467)](_0x3e3fce(0x3be))[_0x3e3fce(0x39f)]=_0x3e3fce(0x48e)+getHighlightTypeName(_0x360ed9),document['getElementById'](_0x3e3fce(0xca))[_0x3e3fce(0x201)]=_0x360ed9,toggleHighlightFields(_0x360ed9),document[_0x3e3fce(0x467)](_0x3e3fce(0x211))[_0x3e3fce(0x201)]=_0x40afe1['title']||'',document[_0x3e3fce(0x467)](_0x3e3fce(0xdb))['value']=_0x40afe1[_0x3e3fce(0x1a7)]||'',document[_0x3e3fce(0x467)](_0x3e3fce(0x29c))[_0x3e3fce(0x201)]=_0x40afe1[_0x3e3fce(0x6b)]||'';_0x40afe1[_0x3e3fce(0x1b9)]&&(document['getElementById'](_0x3e3fce(0x94))[_0x3e3fce(0x201)]=_0x40afe1[_0x3e3fce(0x1b9)],updateHighlightVideoPreview());if(_0x360ed9===_0x3e3fce(0x121)){document['getElementById'](_0x3e3fce(0x3cb))[_0x3e3fce(0x201)]=_0x40afe1[_0x3e3fce(0x148)]||'',document['getElementById']('highlight-map')['value']=_0x40afe1[_0x3e3fce(0x2af)]||'';if(_0x40afe1[_0x3e3fce(0x20a)]){const _0x5cdae5=new Date(_0x40afe1['matchDate']['seconds']*0x3e8);document['getElementById'](_0x3e3fce(0xee))[_0x3e3fce(0x201)]=_0x5cdae5[_0x3e3fce(0x70)]()['split']('T')[0x0];}document[_0x3e3fce(0x467)](_0x3e3fce(0xf7))[_0x3e3fce(0x201)]=_0x40afe1[_0x3e3fce(0x212)]||'',document[_0x3e3fce(0x467)](_0x3e3fce(0x499))[_0x3e3fce(0x201)]=_0x40afe1['winnerScore']||'',document['getElementById'](_0x3e3fce(0xf4))[_0x3e3fce(0x201)]=_0x40afe1['loserName']||'',document[_0x3e3fce(0x467)]('highlight-loser-score')[_0x3e3fce(0x201)]=_0x40afe1[_0x3e3fce(0x334)]||'',document[_0x3e3fce(0x467)](_0x3e3fce(0x10f))[_0x3e3fce(0x201)]=_0x40afe1['matchLink']||'';}else{if(_0x360ed9===_0x3e3fce(0x2d7))document[_0x3e3fce(0x467)](_0x3e3fce(0x198))['value']=_0x40afe1[_0x3e3fce(0x2af)]||'',document[_0x3e3fce(0x467)](_0x3e3fce(0x250))['value']=_0x40afe1[_0x3e3fce(0xe9)]||'',document[_0x3e3fce(0x467)]('highlight-map-version')[_0x3e3fce(0x201)]=_0x40afe1[_0x3e3fce(0x197)]||'',document['getElementById'](_0x3e3fce(0x11f))['value']=_0x40afe1[_0x3e3fce(0x44e)]||'';else _0x360ed9==='achievement'&&(document[_0x3e3fce(0x467)](_0x3e3fce(0xf3))['value']=_0x40afe1[_0x3e3fce(0x2ee)]||'',document[_0x3e3fce(0x467)](_0x3e3fce(0x295))[_0x3e3fce(0x201)]=_0x40afe1[_0x3e3fce(0x412)]||'',document['getElementById'](_0x3e3fce(0xa0))[_0x3e3fce(0x201)]=_0x40afe1[_0x3e3fce(0x80)]||'',document[_0x3e3fce(0x467)](_0x3e3fce(0x4a2))[_0x3e3fce(0x201)]=_0x40afe1[_0x3e3fce(0x12c)]||'',document[_0x3e3fce(0x467)](_0x3e3fce(0x24a))['value']=_0x40afe1[_0x3e3fce(0xb8)]||'');}}catch(_0x580753){console[_0x3e3fce(0x34f)](_0x3e3fce(0x135),_0x580753),showNotification(_0x3e3fce(0xff)+_0x580753[_0x3e3fce(0x233)],_0x3e3fce(0x34f));}}async function saveHighlight(){const _0x211c23=a4_0x5d2362;try{const _0x331ad5=document[_0x211c23(0x467)]('highlight-id')?.[_0x211c23(0x201)]||'',_0x26be02=document[_0x211c23(0x467)](_0x211c23(0xca))?.[_0x211c23(0x201)]||_0x211c23(0x121),_0x35aa03={'title':document[_0x211c23(0x467)](_0x211c23(0x211))?.[_0x211c23(0x201)]?.['trim']()||'','description':document[_0x211c23(0x467)](_0x211c23(0xdb))?.[_0x211c23(0x201)]?.['trim']()||'','submittedBy':document[_0x211c23(0x467)](_0x211c23(0x29c))?.[_0x211c23(0x201)]?.[_0x211c23(0x271)]()||'','videoId':document[_0x211c23(0x467)]('highlight-video-id')?.['value']?.[_0x211c23(0x271)]()||null,'type':_0x26be02};if(!_0x35aa03[_0x211c23(0x202)]){showNotification('Title\x20is\x20required',_0x211c23(0x34f));return;}if(_0x26be02===_0x211c23(0x121)){_0x35aa03[_0x211c23(0x148)]=document['getElementById'](_0x211c23(0x3cb))?.[_0x211c23(0x201)]?.[_0x211c23(0x271)]()||'',_0x35aa03['map']=document[_0x211c23(0x467)](_0x211c23(0x198))?.['value']?.[_0x211c23(0x271)]()||'';const _0x32fa2b=document[_0x211c23(0x467)](_0x211c23(0xee)),_0x19f3ce=_0x32fa2b?.[_0x211c23(0x201)]||'';_0x35aa03[_0x211c23(0x20a)]=_0x19f3ce?Timestamp['fromDate'](new Date(_0x19f3ce)):null,_0x35aa03['winnerName']=document['getElementById'](_0x211c23(0xf7))?.[_0x211c23(0x201)]?.[_0x211c23(0x271)]()||'',_0x35aa03[_0x211c23(0x7d)]=document[_0x211c23(0x467)](_0x211c23(0x499))?.[_0x211c23(0x201)]?.[_0x211c23(0x271)]()||'',_0x35aa03[_0x211c23(0x34d)]=document[_0x211c23(0x467)](_0x211c23(0xf4))?.[_0x211c23(0x201)]?.[_0x211c23(0x271)]()||'',_0x35aa03[_0x211c23(0x334)]=document['getElementById'](_0x211c23(0x45a))?.['value']?.[_0x211c23(0x271)]()||'',_0x35aa03[_0x211c23(0x170)]=document[_0x211c23(0x467)]('highlight-match-link')?.[_0x211c23(0x201)]?.[_0x211c23(0x271)]()||'';if(!_0x35aa03[_0x211c23(0x1b9)]){showNotification('YouTube\x20Video\x20ID\x20is\x20required\x20for\x20match\x20highlights',_0x211c23(0x34f));return;}}else{if(_0x26be02==='creator'){_0x35aa03['map']=document[_0x211c23(0x467)](_0x211c23(0x198))?.[_0x211c23(0x201)]?.['trim']()||'',_0x35aa03[_0x211c23(0xe9)]=document[_0x211c23(0x467)](_0x211c23(0x250))?.['value']?.[_0x211c23(0x271)]()||'',_0x35aa03[_0x211c23(0x197)]=document[_0x211c23(0x467)](_0x211c23(0x33e))?.[_0x211c23(0x201)]?.['trim']()||'',_0x35aa03[_0x211c23(0x44e)]=document['getElementById']('highlight-creator-image')?.['value']?.[_0x211c23(0x271)]()||'';if(!_0x35aa03[_0x211c23(0xe9)]){showNotification(_0x211c23(0x19a),_0x211c23(0x34f));return;}}else{if(_0x26be02===_0x211c23(0x498)){_0x35aa03[_0x211c23(0x2ee)]=document['getElementById']('highlight-achievement-player')?.['value']?.[_0x211c23(0x271)]()||'',_0x35aa03['achievementType']=document[_0x211c23(0x467)](_0x211c23(0x295))?.['value']?.['trim']()||'',_0x35aa03[_0x211c23(0x80)]=document[_0x211c23(0x467)]('highlight-achievement-details')?.[_0x211c23(0x201)]?.[_0x211c23(0x271)]()||'',_0x35aa03[_0x211c23(0x12c)]=document[_0x211c23(0x467)](_0x211c23(0x4a2))?.[_0x211c23(0x201)]?.['trim']()||'',_0x35aa03[_0x211c23(0xb8)]=document[_0x211c23(0x467)](_0x211c23(0x24a))?.['value']?.['trim']()||'';if(!_0x35aa03[_0x211c23(0x2ee)]){showNotification(_0x211c23(0x41d),'error');return;}}}}_0x331ad5?(_0x35aa03[_0x211c23(0x2d4)]=serverTimestamp(),await updateDoc(doc(db,_0x211c23(0x455),_0x331ad5),_0x35aa03),showNotification(_0x211c23(0x2a3),_0x211c23(0xc7))):(_0x35aa03['createdAt']=serverTimestamp(),await addDoc(collection(db,_0x211c23(0x455)),_0x35aa03),showNotification(_0x211c23(0x141),_0x211c23(0xc7))),closeHighlightModal(),loadHighlightsAdmin();}catch(_0x547f2e){console[_0x211c23(0x34f)](_0x211c23(0x262),_0x547f2e),showNotification(_0x211c23(0x4b5)+_0x547f2e[_0x211c23(0x233)],_0x211c23(0x34f));}}function closeHighlightModal(){const _0x4eaa14=a4_0x5d2362,_0x56240e=document[_0x4eaa14(0x467)](_0x4eaa14(0x1bd));if(_0x56240e)_0x56240e['classList'][_0x4eaa14(0x142)](_0x4eaa14(0x158));}function getHighlightTypeName(_0x45145d){const _0x49596c=a4_0x5d2362;switch(_0x45145d){case _0x49596c(0x121):return _0x49596c(0x188);case _0x49596c(0x2d7):return _0x49596c(0x2fd);case'achievement':return _0x49596c(0xa7);default:return _0x49596c(0x418);}}function updateHighlightVideoPreview(){const _0x2a27cd=a4_0x5d2362,_0xa3275d=document[_0x2a27cd(0x467)](_0x2a27cd(0x94)),_0x4cc5e3=document[_0x2a27cd(0x467)](_0x2a27cd(0x48c)),_0x9a5407=document[_0x2a27cd(0x467)](_0x2a27cd(0x480));if(!_0xa3275d||!_0x9a5407||!_0x4cc5e3)return;const _0x5c7f2c=_0xa3275d['value'][_0x2a27cd(0x271)]();_0x5c7f2c&&/^[a-zA-Z0-9_-]{11}$/['test'](_0x5c7f2c)?(_0x9a5407[_0x2a27cd(0x346)]='https://www.youtube.com/embed/'+_0x5c7f2c,_0x4cc5e3[_0x2a27cd(0x1f7)][_0x2a27cd(0x3ee)]=_0x2a27cd(0x109)):(_0x9a5407['src']='',_0x4cc5e3[_0x2a27cd(0x1f7)][_0x2a27cd(0x3ee)]=_0x2a27cd(0x3e0));}async function loadHighlightsAdmin(){const _0x3d3454=a4_0x5d2362,_0x422a7c=document[_0x3d3454(0x467)](_0x3d3454(0x248));if(!_0x422a7c)return;_0x422a7c[_0x3d3454(0x318)]=_0x3d3454(0x2d0);try{const _0x60004d=query(collection(db,_0x3d3454(0x455)),orderBy(_0x3d3454(0x445),'desc')),_0x48efb3=await getDocs(_0x60004d);if(_0x48efb3['empty']){_0x422a7c[_0x3d3454(0x318)]=_0x3d3454(0x3ef);return;}_0x422a7c[_0x3d3454(0x318)]='',_0x48efb3['forEach'](_0x14cba3=>{const _0x1f9e0b=_0x3d3454,_0x142545=_0x14cba3[_0x1f9e0b(0x47c)](),_0x3d1125=document['createElement']('tr'),_0x2ddf4b=_0x142545[_0x1f9e0b(0x445)]?new Date(_0x142545[_0x1f9e0b(0x445)][_0x1f9e0b(0x3e1)]*0x3e8)[_0x1f9e0b(0x3e8)]():_0x1f9e0b(0x2b7);let _0x514254='Unknown',_0x128327='';switch(_0x142545[_0x1f9e0b(0x383)]){case _0x1f9e0b(0x121):_0x514254=_0x1f9e0b(0x345),_0x128327=_0x1f9e0b(0x258);break;case _0x1f9e0b(0x2d7):_0x514254=_0x1f9e0b(0x150),_0x128327=_0x1f9e0b(0x381);break;case _0x1f9e0b(0x498):_0x514254=_0x1f9e0b(0x3fa),_0x128327=_0x1f9e0b(0x187);break;}_0x3d1125['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x142545[_0x1f9e0b(0x202)]||'Untitled')+_0x1f9e0b(0x337)+_0x128327+'\x22>'+_0x514254+_0x1f9e0b(0x4c6)+_0x2ddf4b+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x142545[_0x1f9e0b(0x6b)]||_0x1f9e0b(0x45c))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x142545[_0x1f9e0b(0x1b9)]?'<i\x20class=\x22fas\x20fa-video\x22></i>\x20Yes':_0x1f9e0b(0x260))+_0x1f9e0b(0xbb)+_0x14cba3['id']+'\x22\x20title=\x22Edit\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-edit\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-highlight-btn\x22\x20data-id=\x22'+_0x14cba3['id']+_0x1f9e0b(0xa3),_0x422a7c[_0x1f9e0b(0x2e6)](_0x3d1125);}),document[_0x3d3454(0x269)](_0x3d3454(0x2d6))[_0x3d3454(0x2fe)](_0x1e9352=>{const _0x571e1e=_0x3d3454;_0x1e9352['addEventListener'](_0x571e1e(0x457),_0x200ac5=>{const _0x22b372=_0x571e1e;openHighlightModal(_0x200ac5[_0x22b372(0x46d)][_0x22b372(0x27f)]['id']);});}),document[_0x3d3454(0x269)]('.delete-highlight-btn')[_0x3d3454(0x2fe)](_0x5da520=>{const _0x36b9f2=_0x3d3454;_0x5da520[_0x36b9f2(0x1c3)](_0x36b9f2(0x457),_0x3850eb=>{confirmDeleteHighlight(_0x3850eb['currentTarget']['dataset']['id']);});});}catch(_0x39bb01){console['error']('Error\x20loading\x20highlights:',_0x39bb01),_0x422a7c[_0x3d3454(0x318)]=_0x3d3454(0x112)+_0x39bb01[_0x3d3454(0x233)]+_0x3d3454(0x362);}}async function confirmDeleteHighlight(_0x1ef126){const _0x3f73a9=a4_0x5d2362;if(confirm(_0x3f73a9(0x132)))try{await deleteDoc(doc(db,_0x3f73a9(0x455),_0x1ef126)),showNotification(_0x3f73a9(0xb6),_0x3f73a9(0xc7)),loadHighlightsAdmin();}catch(_0x2e7e68){console['error'](_0x3f73a9(0x169),_0x2e7e68),showNotification('Error\x20deleting\x20highlight:\x20'+_0x2e7e68['message'],'error');}}function setupCreateTestMatchModal(){const _0x214b8e=a4_0x5d2362;console['log'](_0x214b8e(0x83));const _0x2260df=document['getElementById']('create-test-match-modal'),_0x202b8e=document['getElementById'](_0x214b8e(0x2a5));if(!_0x2260df){console[_0x214b8e(0x34f)](_0x214b8e(0x16e));return;}if(!_0x202b8e){console['error'](_0x214b8e(0xa5));return;}const _0x48790f=_0x2260df['cloneNode'](!![]);_0x2260df[_0x214b8e(0x1a6)][_0x214b8e(0x1d2)](_0x48790f,_0x2260df);const _0x26f11c=_0x48790f[_0x214b8e(0x368)](_0x214b8e(0x11a));_0x48790f[_0x214b8e(0x1c3)](_0x214b8e(0x457),function(_0x2d56d1){const _0x204c24=_0x214b8e;_0x2d56d1[_0x204c24(0x32f)]===_0x48790f&&(console[_0x204c24(0x329)](_0x204c24(0x43e)),closeCreateTestMatchModal());});const _0x4a359f=_0x48790f[_0x214b8e(0x368)]('.close-btn');_0x4a359f&&_0x4a359f[_0x214b8e(0x1c3)]('click',function(_0x43a9d4){const _0x3706ba=_0x214b8e;_0x43a9d4[_0x3706ba(0x11d)](),_0x43a9d4[_0x3706ba(0x2c1)](),console[_0x3706ba(0x329)](_0x3706ba(0x36a)),closeCreateTestMatchModal();});const _0xf6cf7b=_0x48790f[_0x214b8e(0x368)](_0x214b8e(0x324));_0xf6cf7b&&_0xf6cf7b[_0x214b8e(0x1c3)]('click',function(_0x4a7828){const _0x5a53be=_0x214b8e;_0x4a7828[_0x5a53be(0x11d)](),_0x4a7828[_0x5a53be(0x2c1)](),console[_0x5a53be(0x329)]('Modal\x20cancel\x20button\x20clicked'),closeCreateTestMatchModal();});if(_0x26f11c){_0x26f11c['addEventListener']('submit',function(_0x44b1cc){const _0x4a6d17=_0x214b8e;_0x44b1cc[_0x4a6d17(0x11d)](),_0x44b1cc[_0x4a6d17(0x2c1)](),console[_0x4a6d17(0x329)](_0x4a6d17(0x41c)),createTestMatch();});const _0x2101a0=_0x26f11c[_0x214b8e(0x368)](_0x214b8e(0x33a));_0x2101a0&&_0x2101a0[_0x214b8e(0x1c3)](_0x214b8e(0x457),function(_0x26d2c3){const _0x491bfe=_0x214b8e;_0x26d2c3[_0x491bfe(0x11d)](),_0x26d2c3['stopPropagation'](),console['log'](_0x491bfe(0x392)),createTestMatch();});}console['log'](_0x214b8e(0x2a9));}function setupManageHighlightsSection(){const _0x5ced2a=a4_0x5d2362;console[_0x5ced2a(0x329)](_0x5ced2a(0x1b1)),setupHighlightButtons();const _0x1b3ac0=document[_0x5ced2a(0x467)]('highlight-form');_0x1b3ac0&&_0x1b3ac0[_0x5ced2a(0x1c3)](_0x5ced2a(0x315),_0x255bdc=>{const _0x1b6085=_0x5ced2a;_0x255bdc[_0x1b6085(0x11d)](),saveHighlight();});const _0x4130e9=document[_0x5ced2a(0x467)](_0x5ced2a(0x31d));_0x4130e9&&_0x4130e9[_0x5ced2a(0x1c3)]('click',closeHighlightModal);const _0x5c44ab=document[_0x5ced2a(0x368)](_0x5ced2a(0x2e1));_0x5c44ab&&_0x5c44ab[_0x5ced2a(0x1c3)](_0x5ced2a(0x457),closeHighlightModal);const _0x479deb=document[_0x5ced2a(0x467)](_0x5ced2a(0x1bd));_0x479deb&&_0x479deb[_0x5ced2a(0x1c3)](_0x5ced2a(0x457),_0x16c482=>{_0x16c482['target']===_0x479deb&&closeHighlightModal();});const _0x2cb138=document['getElementById'](_0x5ced2a(0x94));_0x2cb138&&_0x2cb138[_0x5ced2a(0x1c3)](_0x5ced2a(0x3b1),()=>{updateHighlightVideoPreview();}),console[_0x5ced2a(0x329)]('Manage\x20Highlights\x20section\x20initialized');}function setupManageMatchesSection(){const _0x51cf54=a4_0x5d2362;console[_0x51cf54(0x329)]('Setting\x20up\x20Manage\x20Matches\x20section');const _0x3a6d01=document[_0x51cf54(0x467)](_0x51cf54(0x2e7)),_0x54ce7b=document['getElementById'](_0x51cf54(0x136));_0x3a6d01&&_0x3a6d01[_0x51cf54(0x1c3)](_0x51cf54(0x457),()=>{const _0x5c47f7=_0x51cf54,_0x1bc07f=currentLadder[_0x5c47f7(0x409)]();loadMatchesData(matchesPagination[_0x1bc07f]['page']-0x1);});_0x54ce7b&&_0x54ce7b['addEventListener']('click',()=>{const _0x29b7ce=_0x51cf54,_0x206fdd=currentLadder['toLowerCase']();loadMatchesData(matchesPagination[_0x206fdd][_0x29b7ce(0xa8)]+0x1);});const _0x31c783=document[_0x51cf54(0x467)]('apply-matches-filters'),_0x2354e7=document[_0x51cf54(0x467)]('reset-matches-filters');_0x31c783&&_0x31c783[_0x51cf54(0x1c3)](_0x51cf54(0x457),applyMatchesFilters);_0x2354e7&&_0x2354e7[_0x51cf54(0x1c3)]('click',resetMatchesFilters);const _0x4242e0=document[_0x51cf54(0x467)](_0x51cf54(0x435));_0x4242e0&&_0x4242e0['addEventListener'](_0x51cf54(0x3b1),debounce(filterMatchesTable,0x12c));const _0x46ade4=document[_0x51cf54(0x467)](_0x51cf54(0x3de));_0x46ade4&&_0x46ade4[_0x51cf54(0x1c3)](_0x51cf54(0x457),openResimulateModal);const _0x3fa58b=document['getElementById'](_0x51cf54(0x1ec));if(_0x3fa58b){const _0x14c294=_0x3fa58b['querySelector'](_0x51cf54(0x3f8));_0x14c294&&_0x14c294[_0x51cf54(0x1c3)](_0x51cf54(0x457),closeResimulateModal),_0x3fa58b[_0x51cf54(0x1c3)]('click',_0x407faf=>{_0x407faf['target']===_0x3fa58b&&closeResimulateModal();});}setupCreateTestMatchButton(),setupCreateTestMatchModal(),console[_0x51cf54(0x329)](_0x51cf54(0x270));}function openCreateTestMatchModal(){const _0x519e02=a4_0x5d2362;console[_0x519e02(0x329)]('Opening\x20create\x20test\x20match\x20modal');const _0x14609e=document[_0x519e02(0x467)](_0x519e02(0xac)),_0x2c2276=document[_0x519e02(0x467)](_0x519e02(0x2a5));if(!_0x14609e){console[_0x519e02(0x34f)](_0x519e02(0x2ba)),showNotification(_0x519e02(0x2ba),_0x519e02(0x34f));return;}if(!_0x2c2276){console[_0x519e02(0x34f)](_0x519e02(0x3c7)),showNotification('Create\x20test\x20match\x20form\x20not\x20found',_0x519e02(0x34f));return;}_0x2c2276[_0x519e02(0xd3)]();const _0x5acab3=document[_0x519e02(0x269)](_0x519e02(0x24c));let _0x5df6ef=![];_0x5acab3[_0x519e02(0x2fe)](_0x5e980e=>{const _0x2aa3a5=_0x519e02;console[_0x2aa3a5(0x329)](_0x2aa3a5(0x21b),_0x5e980e[_0x2aa3a5(0x201)]),_0x5e980e[_0x2aa3a5(0x201)]===currentLadder&&(_0x5e980e['checked']=!![],_0x5df6ef=!![],console[_0x2aa3a5(0x329)]('Set\x20default\x20ladder\x20to:',currentLadder));});if(!_0x5df6ef){console[_0x519e02(0xb3)](_0x519e02(0x124),currentLadder);const _0x2b2c40=document[_0x519e02(0x368)](_0x519e02(0x3b4));_0x2b2c40&&(_0x2b2c40[_0x519e02(0x36e)]=!![],console[_0x519e02(0x329)]('Defaulted\x20to\x20D1\x20ladder'));}const _0x50eab5=document['getElementById'](_0x519e02(0xdd));if(_0x50eab5){const _0x556de5=new Date()[_0x519e02(0x70)]()[_0x519e02(0xaa)]('T')[0x0];_0x50eab5['value']=_0x556de5;}_0x14609e[_0x519e02(0x1f7)][_0x519e02(0x3ee)]=_0x519e02(0x9a),_0x14609e[_0x519e02(0x1f7)][_0x519e02(0x278)]=_0x519e02(0xbc),_0x14609e[_0x519e02(0x1f7)]['opacity']='1',_0x14609e[_0x519e02(0x1cb)][_0x519e02(0x3dd)]('active'),console[_0x519e02(0x329)]('Modal\x20should\x20now\x20be\x20visible');const _0x28f0b0=document[_0x519e02(0x467)](_0x519e02(0x91));_0x28f0b0&&setTimeout(()=>{const _0xaa1b87=_0x519e02;_0x28f0b0[_0xaa1b87(0x2c9)]();},0x64);}function closeCreateTestMatchModal(){const _0x4a4acc=a4_0x5d2362;console[_0x4a4acc(0x329)]('Closing\x20create\x20test\x20match\x20modal');const _0x84fa2=document[_0x4a4acc(0x467)](_0x4a4acc(0xac));if(!_0x84fa2){console[_0x4a4acc(0x34f)](_0x4a4acc(0x39e));return;}_0x84fa2[_0x4a4acc(0x1cb)][_0x4a4acc(0x142)](_0x4a4acc(0x158)),_0x84fa2['style'][_0x4a4acc(0x43b)]='0',_0x84fa2[_0x4a4acc(0x1f7)][_0x4a4acc(0x278)]=_0x4a4acc(0x4a5),setTimeout(()=>{const _0x10fbb1=_0x4a4acc;!_0x84fa2[_0x10fbb1(0x1cb)]['contains'](_0x10fbb1(0x158))&&(_0x84fa2['style']['display']=_0x10fbb1(0x3e0));},0x12c),console['log'](_0x4a4acc(0x1e4));}async function createTestMatch(){const _0x14cf07=a4_0x5d2362;console[_0x14cf07(0x329)](_0x14cf07(0x227));try{const _0x4ba7bd=auth[_0x14cf07(0x4af)];if(!_0x4ba7bd){showNotification('You\x20must\x20be\x20logged\x20in',_0x14cf07(0x34f));return;}const _0x3f5857='D1',_0x2eadeb=_0x14cf07(0x2da),_0x465966={'winnerUsername':_0x14cf07(0x13a),'winnerScore':0x14,'winnerSuicides':0x0,'winnerComment':_0x14cf07(0x38a),'winnerDemoLink':null,'loserUsername':'TestLoser','loserScore':0xf,'loserSuicides':0x0,'loserComment':'Test\x20match','loserDemoLink':null,'mapPlayed':_0x14cf07(0x2ac),'approvedAt':Timestamp[_0x14cf07(0x1cf)](new Date()),'approvedBy':_0x4ba7bd[_0x14cf07(0xe6)],'createdAt':serverTimestamp(),'createdBy':_0x4ba7bd[_0x14cf07(0xe6)],'isTestMatch':!![],'ladder':_0x3f5857,'testMatchCreatedAt':serverTimestamp(),'testMatchNote':_0x14cf07(0x172)+_0x4ba7bd[_0x14cf07(0xe6)]};console[_0x14cf07(0x329)](_0x14cf07(0x37d)),await addDoc(collection(db,_0x2eadeb),_0x465966),showNotification(_0x14cf07(0x7e),_0x14cf07(0xc7)),closeCreateTestMatchModal();}catch(_0x583e95){console[_0x14cf07(0x34f)]('Error\x20creating\x20simple\x20test\x20match:',_0x583e95),showNotification(_0x14cf07(0x32d)+_0x583e95['message'],'error');}}window[a4_0x5d2362(0x3a2)]=async function(){const _0x18766e=a4_0x5d2362;try{console[_0x18766e(0x329)](_0x18766e(0x4b6)),console[_0x18766e(0x329)]('Auth:',auth),console[_0x18766e(0x329)](_0x18766e(0x88),db),console['log']('Current\x20user:',auth['currentUser']);const _0x431a91=collection(db,_0x18766e(0x44b));console[_0x18766e(0x329)](_0x18766e(0x22d),_0x431a91);const _0x2829fc=query(_0x431a91,where(_0x18766e(0x1e5),'==',_0x18766e(0x3ec)));console['log']('Query\x20created:',_0x2829fc);const _0x9a711e=await getDocs(_0x2829fc);console[_0x18766e(0x329)]('Query\x20executed.\x20Empty:',_0x9a711e[_0x18766e(0xb1)]),console[_0x18766e(0x329)](_0x18766e(0x264));}catch(_0x1ee2a9){console[_0x18766e(0x34f)](_0x18766e(0x95),_0x1ee2a9);}};function setupCreateTestMatchButton(){const _0x503ec8=a4_0x5d2362,_0x378518=document[_0x503ec8(0x467)](_0x503ec8(0x3db));if(!_0x378518){console['error']('Create\x20test\x20match\x20button\x20not\x20found\x20in\x20DOM');return;}console[_0x503ec8(0x329)](_0x503ec8(0x328));const _0xb1936c=_0x378518[_0x503ec8(0x137)](!![]);_0x378518[_0x503ec8(0x1a6)][_0x503ec8(0x1d2)](_0xb1936c,_0x378518),_0xb1936c[_0x503ec8(0x1c3)](_0x503ec8(0x457),function(_0x31f3fd){const _0x2a8117=_0x503ec8;_0x31f3fd['preventDefault'](),_0x31f3fd[_0x2a8117(0x2c1)](),console[_0x2a8117(0x329)]('Create\x20test\x20match\x20button\x20clicked'),openCreateTestMatchModal();}),console[_0x503ec8(0x329)]('Create\x20test\x20match\x20button\x20setup\x20complete');}async function loadMatchesData(_0x3cb754=0x1){const _0xcd4c8f=a4_0x5d2362,_0x257b67=document[_0xcd4c8f(0x467)]('matches-table-body');if(!_0x257b67)return;_0x257b67[_0xcd4c8f(0x318)]='<tr><td\x20colspan=\x227\x22\x20class=\x22loading-cell\x22>Loading\x20matches...</td></tr>';try{const _0xf0548c=currentLadder['toLowerCase'](),_0x48b386=matchesPagination[_0xf0548c],_0x8de1a7=currentLadder==='D1'?_0xcd4c8f(0x2da):currentLadder==='D2'?_0xcd4c8f(0x3d8):_0xcd4c8f(0x3e5),_0x1aeeaf=collection(db,_0x8de1a7);_0x3cb754<=0x1?(_0x48b386[_0xcd4c8f(0xa8)]=0x1,_0x48b386[_0xcd4c8f(0x2f1)]=null,_0x48b386[_0xcd4c8f(0x3f6)]=null):_0x48b386[_0xcd4c8f(0xa8)]=_0x3cb754;const _0x74421e=getMatchesFilters();let _0x2fea0c=_0x1aeeaf;if(_0x74421e[_0xcd4c8f(0x1bb)]||_0x74421e[_0xcd4c8f(0x2a4)]||_0x74421e[_0xcd4c8f(0x3b0)]){let _0x5e8ee7=[];_0x74421e[_0xcd4c8f(0x1bb)]&&_0x74421e[_0xcd4c8f(0x2a4)]?(_0x5e8ee7[_0xcd4c8f(0x99)](where('approvedAt','>=',_0x74421e[_0xcd4c8f(0x1bb)]),where(_0xcd4c8f(0x359),'<=',_0x74421e[_0xcd4c8f(0x2a4)])),_0x2fea0c=query(_0x1aeeaf,..._0x5e8ee7)):_0x2fea0c=query(_0x1aeeaf,orderBy(_0xcd4c8f(0x359),_0xcd4c8f(0x1d8)));}else _0x2fea0c=query(_0x1aeeaf,orderBy(_0xcd4c8f(0x359),_0xcd4c8f(0x1d8)));_0x3cb754>0x1&&_0x48b386['lastVisible']?_0x2fea0c=query(_0x2fea0c,startAfter(_0x48b386[_0xcd4c8f(0x3f6)]),limit(PAGE_SIZE)):_0x2fea0c=query(_0x2fea0c,limit(PAGE_SIZE));const _0x5b56dd=await getDocs(_0x2fea0c);!_0x5b56dd[_0xcd4c8f(0xb1)]&&(_0x48b386[_0xcd4c8f(0x2f1)]=_0x5b56dd[_0xcd4c8f(0x23e)][0x0],_0x48b386[_0xcd4c8f(0x3f6)]=_0x5b56dd[_0xcd4c8f(0x23e)][_0x5b56dd[_0xcd4c8f(0x23e)][_0xcd4c8f(0x20e)]-0x1]);let _0x42ad42=![];if(!_0x5b56dd[_0xcd4c8f(0xb1)]){const _0x5eb2d5=query(_0x2fea0c,startAfter(_0x48b386[_0xcd4c8f(0x3f6)]),limit(0x1)),_0x309822=await getDocs(_0x5eb2d5);_0x42ad42=!_0x309822[_0xcd4c8f(0xb1)];}const _0x114842=document[_0xcd4c8f(0x467)](_0xcd4c8f(0x2e7)),_0x5cc652=document[_0xcd4c8f(0x467)](_0xcd4c8f(0x136)),_0x930429=document[_0xcd4c8f(0x467)](_0xcd4c8f(0x26b));if(_0x114842)_0x114842['disabled']=_0x48b386[_0xcd4c8f(0xa8)]<=0x1;if(_0x5cc652)_0x5cc652[_0xcd4c8f(0x22c)]=!_0x42ad42;if(_0x930429)_0x930429[_0xcd4c8f(0x39f)]=_0xcd4c8f(0x4ad)+_0x48b386[_0xcd4c8f(0xa8)];if(_0x5b56dd['empty']){_0x257b67['innerHTML']=_0xcd4c8f(0xad);return;}_0x257b67['innerHTML']='',_0x5b56dd[_0xcd4c8f(0x2fe)](_0x4774aa=>{const _0x3666dd=_0xcd4c8f,_0x3dbf07=_0x4774aa[_0x3666dd(0x47c)](),_0x48c625=document['createElement']('tr'),_0x4ee4b7=_0x3dbf07['approvedAt']?new Date(_0x3dbf07[_0x3666dd(0x359)][_0x3666dd(0x3e1)]*0x3e8)[_0x3666dd(0x3e8)]():'N/A';_0x48c625[_0x3666dd(0x1b7)](_0x3666dd(0x2a2),_0x4774aa['id']),_0x48c625['setAttribute']('data-ladder',currentLadder),_0x48c625['classList'][_0x3666dd(0x3dd)](_0x3666dd(0x1f6)),_0x48c625['innerHTML']=_0x3666dd(0x285)+_0x4ee4b7+_0x3666dd(0x23f)+(_0x3dbf07['winnerUsername']||_0x3666dd(0x45c))+_0x3666dd(0x2bc)+(_0x3dbf07[_0x3666dd(0x11b)]||_0x3666dd(0x45c))+_0x3666dd(0x168)+(_0x3dbf07[_0x3666dd(0x7d)]||0x0)+_0x3666dd(0x1b2)+(_0x3dbf07[_0x3666dd(0x334)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22map-cell\x22>'+(_0x3dbf07[_0x3666dd(0x25b)]||_0x3666dd(0x2b7))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22ladder-cell\x22>'+currentLadder+_0x3666dd(0x424)+_0x4774aa['id']+_0x3666dd(0x2fc)+_0x4774aa['id']+_0x3666dd(0x146),_0x257b67[_0x3666dd(0x2e6)](_0x48c625);}),setupMatchesActionButtons(),_0x74421e[_0xcd4c8f(0x3b0)]&&filterMatchesTable(),console['log'](_0xcd4c8f(0x254)+_0x5b56dd[_0xcd4c8f(0x275)]+'\x20matches\x20for\x20'+currentLadder+_0xcd4c8f(0x434)+_0x48b386[_0xcd4c8f(0xa8)]);}catch(_0xb9f1ab){console[_0xcd4c8f(0x34f)](_0xcd4c8f(0xc1),_0xb9f1ab),_0x257b67[_0xcd4c8f(0x318)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x227\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20matches:\x20'+_0xb9f1ab[_0xcd4c8f(0x233)]+_0xcd4c8f(0x362);}}async function deleteMatch(_0x293af1,_0x231d7c){const _0x44b651=a4_0x5d2362;try{console[_0x44b651(0x329)](_0x44b651(0x397)+_0x293af1+_0x44b651(0x311)+_0x231d7c+'\x20ladder');const _0x41dd82=auth[_0x44b651(0x4af)];if(!_0x41dd82){showNotification(_0x44b651(0x4bd),_0x44b651(0x34f));return;}const _0x6acc7f=_0x231d7c==='D1'?_0x44b651(0x2da):_0x231d7c==='D2'?_0x44b651(0x3d8):_0x44b651(0x3e5);console[_0x44b651(0x329)](_0x44b651(0x28d)+_0x6acc7f),showNotification(_0x44b651(0x382),_0x44b651(0x2d9)),await deleteDoc(doc(db,_0x6acc7f,_0x293af1)),console[_0x44b651(0x329)](_0x44b651(0x38b)),showNotification(_0x44b651(0x38b),_0x44b651(0xc7));const _0x306679=_0x231d7c['toLowerCase']();loadMatchesData(matchesPagination[_0x306679]['page']);}catch(_0x56266a){console[_0x44b651(0x34f)](_0x44b651(0x323),_0x56266a),showNotification(_0x44b651(0x230)+_0x56266a[_0x44b651(0x233)],_0x44b651(0x34f));}}function setupMatchesActionButtons(){const _0x28e55e=a4_0x5d2362;console[_0x28e55e(0x329)]('Setting\x20up\x20matches\x20action\x20buttons...'),document[_0x28e55e(0x269)](_0x28e55e(0x12b))[_0x28e55e(0x2fe)](_0x27c1f4=>{const _0x4cae86=_0x28e55e;_0x27c1f4[_0x4cae86(0x1c3)](_0x4cae86(0x457),_0x33d12a=>{const _0x3672a3=_0x4cae86;_0x33d12a[_0x3672a3(0x11d)](),_0x33d12a[_0x3672a3(0x2c1)]();const _0x528897=_0x33d12a[_0x3672a3(0x46d)][_0x3672a3(0x27f)]['id'],_0x226cf3=_0x33d12a[_0x3672a3(0x46d)][_0x3672a3(0x116)]('tr'),_0x35942e=_0x226cf3[_0x3672a3(0x27f)]['ladder'];console[_0x3672a3(0x329)](_0x3672a3(0x2c4),_0x528897,_0x35942e),openEditMatchModal(_0x528897,_0x35942e);});}),document[_0x28e55e(0x269)]('.delete-match-btn')[_0x28e55e(0x2fe)](_0x217792=>{const _0x5a2b34=_0x28e55e;_0x217792[_0x5a2b34(0x1c3)](_0x5a2b34(0x457),_0x472527=>{const _0x37e25d=_0x5a2b34;_0x472527[_0x37e25d(0x11d)](),_0x472527[_0x37e25d(0x2c1)]();const _0xe483ce=_0x472527[_0x37e25d(0x46d)][_0x37e25d(0x27f)]['id'],_0x2538f3=_0x472527[_0x37e25d(0x46d)]['closest']('tr'),_0x4d196e=_0x2538f3[_0x37e25d(0x27f)][_0x37e25d(0x43c)]||currentLadder;console[_0x37e25d(0x329)]('Delete\x20match\x20clicked:',_0xe483ce,_0x4d196e),confirm(_0x37e25d(0x341))&&deleteMatch(_0xe483ce,_0x4d196e);});}),console[_0x28e55e(0x329)](_0x28e55e(0x1b8));}function filterMatchesTable(){const _0x535c79=a4_0x5d2362,_0x32cb15=document[_0x535c79(0x467)]('matches-search')[_0x535c79(0x201)]['toLowerCase'](),_0x1c4c7a=document[_0x535c79(0x269)](_0x535c79(0x45d));let _0x12d945=0x0;_0x1c4c7a[_0x535c79(0x2fe)](_0x4b49d7=>{const _0x36f972=_0x535c79;if(_0x4b49d7[_0x36f972(0x1cb)]['contains'](_0x36f972(0x3b6))||_0x4b49d7[_0x36f972(0x1cb)][_0x36f972(0x29b)](_0x36f972(0x2b0))||_0x4b49d7['classList'][_0x36f972(0x29b)](_0x36f972(0x2c2)))return;const _0x573c7b=_0x4b49d7['cells'][0x1][_0x36f972(0x39f)][_0x36f972(0x409)](),_0x5eadc8=_0x4b49d7[_0x36f972(0x11c)][0x2][_0x36f972(0x39f)][_0x36f972(0x409)](),_0x507bf4=_0x4b49d7['cells'][0x4][_0x36f972(0x39f)][_0x36f972(0x409)]();_0x573c7b[_0x36f972(0x33c)](_0x32cb15)||_0x5eadc8[_0x36f972(0x33c)](_0x32cb15)||_0x507bf4['includes'](_0x32cb15)?(_0x4b49d7[_0x36f972(0x1f7)][_0x36f972(0x3ee)]='',_0x12d945++):_0x4b49d7[_0x36f972(0x1f7)][_0x36f972(0x3ee)]=_0x36f972(0x3e0);});if(_0x12d945===0x0&&_0x1c4c7a[_0x535c79(0x20e)]>0x0){const _0x1def62=document[_0x535c79(0x467)](_0x535c79(0x2ca)),_0x243ac5=_0x1def62['querySelector'](_0x535c79(0x428));if(!_0x243ac5){const _0x86af0c=document[_0x535c79(0x3ea)]('tr');_0x86af0c[_0x535c79(0x12e)]='no-results',_0x86af0c[_0x535c79(0x318)]='<td\x20colspan=\x227\x22>No\x20matches\x20found\x20matching\x20\x27'+_0x32cb15+_0x535c79(0x390),_0x1def62['appendChild'](_0x86af0c);}}else{const _0x1c8cca=document[_0x535c79(0x368)](_0x535c79(0x428));_0x1c8cca&&_0x1c8cca[_0x535c79(0x142)]();}}function getMatchesFilters(){const _0x25bc0b=a4_0x5d2362,_0xd05e2=document['getElementById']('matches-search')[_0x25bc0b(0x201)]['toLowerCase'](),_0x518c1f=document[_0x25bc0b(0x467)](_0x25bc0b(0x3b3))[_0x25bc0b(0x201)],_0x496f07=document[_0x25bc0b(0x467)](_0x25bc0b(0x16b))['value'];let _0x3d9de4=null,_0x59030c=null;return _0x518c1f&&(_0x3d9de4=new Date(_0x518c1f),_0x3d9de4[_0x25bc0b(0x25c)](0x0,0x0,0x0,0x0),_0x3d9de4=Timestamp[_0x25bc0b(0x1cf)](_0x3d9de4)),_0x496f07&&(_0x59030c=new Date(_0x496f07),_0x59030c[_0x25bc0b(0x25c)](0x17,0x3b,0x3b,0x3e7),_0x59030c=Timestamp[_0x25bc0b(0x1cf)](_0x59030c)),{'searchTerm':_0xd05e2,'startDate':_0x3d9de4,'endDate':_0x59030c};}async function applyMatchesFilters(){const _0x18e676=a4_0x5d2362,_0xe532e3=currentLadder[_0x18e676(0x409)]();matchesPagination[_0xe532e3]={'page':0x1,'lastVisible':null,'firstVisible':null},await loadMatchesData(0x1);}function resetMatchesFilters(){const _0x350612=a4_0x5d2362;document['getElementById'](_0x350612(0x3b3))[_0x350612(0x201)]='',document['getElementById'](_0x350612(0x16b))[_0x350612(0x201)]='',document[_0x350612(0x467)](_0x350612(0x435))[_0x350612(0x201)]='';const _0x4d650a=currentLadder[_0x350612(0x409)]();matchesPagination[_0x4d650a]={'page':0x1,'lastVisible':null,'firstVisible':null},loadMatchesData(0x1);}async function openEditMatchModal(_0x217a1f,_0x22a784){const _0x34d2d5=a4_0x5d2362,_0x4e0068=document[_0x34d2d5(0x467)](_0x34d2d5(0x20d));if(!_0x4e0068)return;try{const _0x191c7f=_0x22a784==='D1'?_0x34d2d5(0x2da):_0x22a784==='D2'?_0x34d2d5(0x3d8):_0x34d2d5(0x3e5),_0x59c3be=doc(db,_0x191c7f,_0x217a1f),_0xbb8dfe=await getDoc(_0x59c3be);if(!_0xbb8dfe[_0x34d2d5(0x419)]()){showNotification(_0x34d2d5(0x432),_0x34d2d5(0x34f));return;}const _0x36f19a=_0xbb8dfe[_0x34d2d5(0x47c)]();document[_0x34d2d5(0x467)]('edit-match-id')[_0x34d2d5(0x201)]=_0x217a1f,document[_0x34d2d5(0x467)](_0x34d2d5(0x21a))['value']=_0x22a784,document['getElementById'](_0x34d2d5(0x37c))[_0x34d2d5(0x201)]=_0x36f19a[_0x34d2d5(0x306)]||'',document['getElementById'](_0x34d2d5(0x1b5))[_0x34d2d5(0x201)]=_0x36f19a['winnerScore']||0x0,document[_0x34d2d5(0x467)](_0x34d2d5(0x321))[_0x34d2d5(0x201)]=_0x36f19a[_0x34d2d5(0x3c8)]||0x0,document['getElementById'](_0x34d2d5(0x4ac))['value']=_0x36f19a[_0x34d2d5(0x46a)]||'',document[_0x34d2d5(0x467)](_0x34d2d5(0x4c2))[_0x34d2d5(0x201)]=_0x36f19a[_0x34d2d5(0x11b)]||'',document[_0x34d2d5(0x467)]('edit-match-loser-score')['value']=_0x36f19a[_0x34d2d5(0x334)]||0x0,document['getElementById'](_0x34d2d5(0x389))[_0x34d2d5(0x201)]=_0x36f19a[_0x34d2d5(0x110)]||0x0,document[_0x34d2d5(0x467)](_0x34d2d5(0x331))[_0x34d2d5(0x201)]=_0x36f19a['loserComment']||'',document[_0x34d2d5(0x467)](_0x34d2d5(0x4b1))[_0x34d2d5(0x201)]=_0x36f19a['mapPlayed']||'',document[_0x34d2d5(0x467)]('edit-match-winner-demo')[_0x34d2d5(0x201)]=_0x36f19a[_0x34d2d5(0xae)]||'',document[_0x34d2d5(0x467)](_0x34d2d5(0x4ae))[_0x34d2d5(0x201)]=_0x36f19a[_0x34d2d5(0x84)]||_0x36f19a[_0x34d2d5(0x74)]||'',document[_0x34d2d5(0x467)](_0x34d2d5(0x140))[_0x34d2d5(0x39f)]=_0x34d2d5(0x2b9)+_0x36f19a[_0x34d2d5(0x306)]+_0x34d2d5(0xb5)+_0x36f19a[_0x34d2d5(0x11b)],_0x4e0068[_0x34d2d5(0x1cb)]['add'](_0x34d2d5(0x158));}catch(_0x1130ca){console[_0x34d2d5(0x34f)](_0x34d2d5(0x476),_0x1130ca),showNotification(_0x34d2d5(0xfc),_0x34d2d5(0x34f));}}function closeEditMatchModal(){const _0x2ddc96=a4_0x5d2362,_0x2605e6=document[_0x2ddc96(0x467)](_0x2ddc96(0x20d));_0x2605e6&&_0x2605e6[_0x2ddc96(0x1cb)][_0x2ddc96(0x142)](_0x2ddc96(0x158));}async function saveEditedMatch(){const _0x34efd4=a4_0x5d2362;try{const _0x2583f9=document[_0x34efd4(0x467)](_0x34efd4(0x3ca))[_0x34efd4(0x201)],_0x347a67=document['getElementById'](_0x34efd4(0x21a))[_0x34efd4(0x201)];if(!_0x2583f9||!_0x347a67){showNotification(_0x34efd4(0x440),_0x34efd4(0x34f));return;}const _0x176d96=_0x347a67==='D1'?_0x34efd4(0x2da):_0x347a67==='D2'?_0x34efd4(0x3d8):'approvedMatchesD3',_0x151f91=document[_0x34efd4(0x467)]('edit-match-winner')['value'][_0x34efd4(0x271)](),_0x16b61e=parseInt(document[_0x34efd4(0x467)]('edit-match-winner-score')['value']),_0x3eeb14=parseInt(document[_0x34efd4(0x467)](_0x34efd4(0x321))['value']),_0x3da03a=document['getElementById'](_0x34efd4(0x4ac))[_0x34efd4(0x201)][_0x34efd4(0x271)](),_0x5078a3=document[_0x34efd4(0x467)]('edit-match-loser')[_0x34efd4(0x201)][_0x34efd4(0x271)](),_0x2f387e=parseInt(document['getElementById']('edit-match-loser-score')['value']),_0x194e6b=parseInt(document['getElementById'](_0x34efd4(0x389))[_0x34efd4(0x201)]),_0x22bdbf=document[_0x34efd4(0x467)]('edit-match-loser-comment')['value']['trim'](),_0x4b5ac1=document['getElementById'](_0x34efd4(0x4b1))[_0x34efd4(0x201)][_0x34efd4(0x271)](),_0x3e3690=document[_0x34efd4(0x467)]('edit-match-winner-demo')[_0x34efd4(0x201)][_0x34efd4(0x271)](),_0x2c9e59=document[_0x34efd4(0x467)](_0x34efd4(0x4ae))['value'][_0x34efd4(0x271)]();if(!_0x151f91||!_0x5078a3){showNotification(_0x34efd4(0x339),_0x34efd4(0x34f));return;}await updateDoc(doc(db,_0x176d96,_0x2583f9),{'winnerUsername':_0x151f91,'winnerScore':_0x16b61e,'winnerSuicides':_0x3eeb14,'winnerComment':_0x3da03a,'loserUsername':_0x5078a3,'loserScore':_0x2f387e,'loserSuicides':_0x194e6b,'loserComment':_0x22bdbf,'mapPlayed':_0x4b5ac1,'winnerDemoLink':_0x3e3690||null,'loserDemoLink':_0x2c9e59||null,'lastModifiedAt':serverTimestamp(),'lastModifiedBy':auth[_0x34efd4(0x4af)][_0x34efd4(0xe6)],'isEdited':!![]}),showNotification(_0x34efd4(0x9f),_0x34efd4(0xc7)),closeEditMatchModal(),loadMatchesData(matchesPagination[_0x347a67[_0x34efd4(0x409)]()][_0x34efd4(0xa8)]);}catch(_0x262352){console['error']('Error\x20saving\x20match:',_0x262352),showNotification('Failed\x20to\x20save\x20match:\x20'+_0x262352[_0x34efd4(0x233)],_0x34efd4(0x34f));}}async function openDeleteMatchModal(_0x106bd2,_0x21fb37){const _0x33201a=a4_0x5d2362;try{const _0x371974=_0x21fb37==='D1'?_0x33201a(0x2da):_0x21fb37==='D2'?_0x33201a(0x3d8):_0x33201a(0x3e5),_0x254f54=doc(db,_0x371974,_0x106bd2),_0xbe2372=await getDoc(_0x254f54);if(!_0xbe2372[_0x33201a(0x419)]()){showNotification(_0x33201a(0x432),_0x33201a(0x34f));return;}const _0x1470fd=_0xbe2372[_0x33201a(0x47c)](),_0x2de572=document[_0x33201a(0x467)](_0x33201a(0x15c));_0x2de572[_0x33201a(0x27f)][_0x33201a(0x42c)]=_0x106bd2,_0x2de572[_0x33201a(0x27f)][_0x33201a(0x43c)]=_0x21fb37;const _0x5d2bbf=_0x1470fd[_0x33201a(0x359)]?new Date(_0x1470fd[_0x33201a(0x359)][_0x33201a(0x3e1)]*0x3e8)[_0x33201a(0x3e8)]():'N/A',_0x31e359=document[_0x33201a(0x467)]('delete-match-summary');_0x31e359[_0x33201a(0x318)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Date:</strong>\x20'+_0x5d2bbf+_0x33201a(0x3c9)+_0x1470fd[_0x33201a(0x306)]+_0x33201a(0x16f)+_0x1470fd['loserUsername']+_0x33201a(0x200)+(_0x1470fd[_0x33201a(0x7d)]||0x0)+'\x20-\x20'+(_0x1470fd[_0x33201a(0x334)]||0x0)+_0x33201a(0xf9)+(_0x1470fd['mapPlayed']||_0x33201a(0x2b7))+_0x33201a(0x302)+_0x21fb37+_0x33201a(0x2c0),_0x2de572[_0x33201a(0x1cb)][_0x33201a(0x3dd)](_0x33201a(0x158));}catch(_0x8398d0){console[_0x33201a(0x34f)](_0x33201a(0x3a0),_0x8398d0),showNotification(_0x33201a(0xfc),_0x33201a(0x34f));}}function closeDeleteMatchModal(){const _0x1553e4=a4_0x5d2362,_0xb04015=document[_0x1553e4(0x467)](_0x1553e4(0x15c));_0xb04015&&(_0xb04015[_0x1553e4(0x1cb)][_0x1553e4(0x142)](_0x1553e4(0x158)),_0xb04015['removeAttribute'](_0x1553e4(0x72)),_0xb04015['removeAttribute'](_0x1553e4(0x12a)));}async function confirmDeleteMatch(){const _0x346c11=a4_0x5d2362,_0x647448=document['getElementById'](_0x346c11(0x15c)),_0x31aa19=_0x647448[_0x346c11(0x27f)][_0x346c11(0x42c)],_0xaea5b=_0x647448[_0x346c11(0x27f)]['ladder'];if(!_0x31aa19||!_0xaea5b){showNotification(_0x346c11(0x440),'error'),closeDeleteMatchModal();return;}try{const _0x322b9c=_0xaea5b==='D1'?_0x346c11(0x2da):_0xaea5b==='D2'?_0x346c11(0x3d8):'approvedMatchesD3';await deleteDoc(doc(db,_0x322b9c,_0x31aa19)),showNotification('Match\x20deleted\x20successfully',_0x346c11(0xc7)),closeDeleteMatchModal(),loadMatchesData(matchesPagination[_0xaea5b[_0x346c11(0x409)]()]['page']);}catch(_0x3054da){console[_0x346c11(0x34f)](_0x346c11(0x323),_0x3054da),showNotification(_0x346c11(0x230)+_0x3054da[_0x346c11(0x233)],_0x346c11(0x34f));}}async function saveHighlightChanges(){const _0x23b7ff=a4_0x5d2362,_0x336572=document[_0x23b7ff(0x467)]('edit-highlight-id')[_0x23b7ff(0x201)],_0x44142c=document[_0x23b7ff(0x467)]('edit-highlight-type-select')[_0x23b7ff(0x201)];let _0x20be10={'title':document[_0x23b7ff(0x467)]('edit-highlight-title-input')[_0x23b7ff(0x201)][_0x23b7ff(0x271)](),'type':_0x44142c,'description':document[_0x23b7ff(0x467)](_0x23b7ff(0x199))[_0x23b7ff(0x201)][_0x23b7ff(0x271)](),'videoId':document[_0x23b7ff(0x467)]('edit-highlight-videoId-input')[_0x23b7ff(0x201)]['trim'](),'submittedBy':auth[_0x23b7ff(0x4af)][_0x23b7ff(0xe6)]};if(_0x44142c===_0x23b7ff(0x121)){_0x20be10[_0x23b7ff(0x148)]=document[_0x23b7ff(0x467)](_0x23b7ff(0x49e))[_0x23b7ff(0x201)][_0x23b7ff(0x271)](),_0x20be10[_0x23b7ff(0x2af)]=document['getElementById'](_0x23b7ff(0x101))[_0x23b7ff(0x201)][_0x23b7ff(0x271)]();const _0x232d0f=document[_0x23b7ff(0x467)](_0x23b7ff(0x319))[_0x23b7ff(0x201)];_0x20be10[_0x23b7ff(0x20a)]=_0x232d0f?Timestamp['fromDate'](new Date(_0x232d0f)):null,_0x20be10[_0x23b7ff(0x212)]=document[_0x23b7ff(0x467)](_0x23b7ff(0x4b0))[_0x23b7ff(0x201)]['trim'](),_0x20be10[_0x23b7ff(0x7d)]=document[_0x23b7ff(0x467)]('edit-highlight-winnerScore-input')[_0x23b7ff(0x201)]['trim'](),_0x20be10[_0x23b7ff(0x34d)]=document['getElementById'](_0x23b7ff(0x37a))[_0x23b7ff(0x201)][_0x23b7ff(0x271)](),_0x20be10['loserScore']=document[_0x23b7ff(0x467)](_0x23b7ff(0x14f))['value'][_0x23b7ff(0x271)](),_0x20be10[_0x23b7ff(0x170)]=document[_0x23b7ff(0x467)](_0x23b7ff(0x2cc))[_0x23b7ff(0x201)]['trim'](),_0x20be10[_0x23b7ff(0xe9)]=null,_0x20be10[_0x23b7ff(0x197)]=null,_0x20be10[_0x23b7ff(0x44e)]=null,_0x20be10[_0x23b7ff(0x2ee)]=null,_0x20be10['achievementType']=null,_0x20be10['achievementDetails']=null,_0x20be10[_0x23b7ff(0x12c)]=null;}else{if(_0x44142c===_0x23b7ff(0x2d7))_0x20be10[_0x23b7ff(0x2af)]=document[_0x23b7ff(0x467)](_0x23b7ff(0x101))['value'][_0x23b7ff(0x271)](),_0x20be10[_0x23b7ff(0xe9)]=document['getElementById'](_0x23b7ff(0x218))[_0x23b7ff(0x201)]['trim'](),_0x20be10[_0x23b7ff(0x197)]=document[_0x23b7ff(0x467)](_0x23b7ff(0x25e))[_0x23b7ff(0x201)][_0x23b7ff(0x271)](),_0x20be10[_0x23b7ff(0x44e)]=document[_0x23b7ff(0x467)](_0x23b7ff(0x42f))[_0x23b7ff(0x201)]['trim'](),_0x20be10[_0x23b7ff(0x148)]=null,_0x20be10['matchDate']=null,_0x20be10[_0x23b7ff(0x212)]=null,_0x20be10[_0x23b7ff(0x7d)]=null,_0x20be10[_0x23b7ff(0x34d)]=null,_0x20be10[_0x23b7ff(0x334)]=null,_0x20be10[_0x23b7ff(0x170)]=null,_0x20be10[_0x23b7ff(0x2ee)]=null,_0x20be10[_0x23b7ff(0x412)]=null,_0x20be10['achievementDetails']=null,_0x20be10[_0x23b7ff(0x12c)]=null;else _0x44142c===_0x23b7ff(0x498)&&(_0x20be10['achievementPlayer']=document['getElementById'](_0x23b7ff(0xfa))['value'][_0x23b7ff(0x271)](),_0x20be10[_0x23b7ff(0x412)]=document[_0x23b7ff(0x467)](_0x23b7ff(0x39b))['value'][_0x23b7ff(0x271)](),_0x20be10['achievementDetails']=document[_0x23b7ff(0x467)](_0x23b7ff(0x37b))[_0x23b7ff(0x201)][_0x23b7ff(0x271)](),_0x20be10[_0x23b7ff(0x12c)]=document[_0x23b7ff(0x467)](_0x23b7ff(0x404))[_0x23b7ff(0x201)][_0x23b7ff(0x271)](),_0x20be10[_0x23b7ff(0x148)]=null,_0x20be10[_0x23b7ff(0x2af)]=null,_0x20be10['matchDate']=null,_0x20be10[_0x23b7ff(0x212)]=null,_0x20be10['winnerScore']=null,_0x20be10['loserName']=null,_0x20be10[_0x23b7ff(0x334)]=null,_0x20be10[_0x23b7ff(0x170)]=null,_0x20be10['mapCreator']=null,_0x20be10[_0x23b7ff(0x197)]=null,_0x20be10[_0x23b7ff(0x44e)]=null);}try{if(_0x336572){_0x20be10[_0x23b7ff(0x2d4)]=serverTimestamp();const _0x52fa54=doc(db,_0x23b7ff(0x455),_0x336572);await updateDoc(_0x52fa54,_0x20be10),showNotification(_0x23b7ff(0x2a3),'success');}else _0x20be10['createdAt']=serverTimestamp(),await addDoc(collection(db,_0x23b7ff(0x455)),_0x20be10),showNotification(_0x23b7ff(0x298),'success');closeEditHighlightModal(),loadHighlightsAdmin();}catch(_0x4287ef){console[_0x23b7ff(0x34f)](_0x23b7ff(0x262),_0x4287ef),showNotification(_0x23b7ff(0x4b5)+_0x4287ef['message'],_0x23b7ff(0x34f));}}async function resimulateMatch(){const _0x27cceb=a4_0x5d2362;try{const _0x2f7f5a=document[_0x27cceb(0x467)](_0x27cceb(0x35b))[_0x27cceb(0x201)];if(!_0x2f7f5a){showNotification('Match\x20ID\x20is\x20required',_0x27cceb(0x34f));return;}const _0x47f74e=auth[_0x27cceb(0x4af)];if(!_0x47f74e){showNotification(_0x27cceb(0x38f),_0x27cceb(0x34f));return;}const _0x4cd5f3=currentLadder==='D1'?_0x27cceb(0x2da):currentLadder==='D2'?'approvedMatchesD2':_0x27cceb(0x3e5),_0x1cf939=doc(db,_0x4cd5f3,_0x2f7f5a),_0xc8a305=await getDoc(_0x1cf939);if(!_0xc8a305[_0x27cceb(0x419)]()){showNotification(_0x27cceb(0x405),'error');return;}const _0x1b9cb6=_0xc8a305[_0x27cceb(0x47c)](),_0x5275e8=_0x1b9cb6[_0x27cceb(0x359)]?_0x1b9cb6[_0x27cceb(0x359)][_0x27cceb(0x1e3)]()[_0x27cceb(0x24b)]():_0x1b9cb6[_0x27cceb(0x20a)]?_0x1b9cb6['matchDate'][_0x27cceb(0x1e3)]?_0x1b9cb6[_0x27cceb(0x20a)]['toDate']()[_0x27cceb(0x24b)]():new Date(_0x1b9cb6[_0x27cceb(0x20a)])[_0x27cceb(0x24b)]():_0x27cceb(0x45c),_0xb72f99=_0x27cceb(0x332)+_0x1b9cb6['winnerUsername']+_0x27cceb(0x1d5)+_0x1b9cb6['loserUsername']+_0x27cceb(0xbe)+_0x1b9cb6[_0x27cceb(0x7d)]+'-'+_0x1b9cb6['loserScore']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Map:</strong>\x20'+(_0x1b9cb6[_0x27cceb(0x25b)]||_0x1b9cb6['mapName']||_0x27cceb(0x45c))+_0x27cceb(0x42d)+_0x5275e8+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Match\x20ID:</strong>\x20'+_0x2f7f5a+_0x27cceb(0x2ec)+currentLadder+_0x27cceb(0x378);document['getElementById'](_0x27cceb(0x2bf))['innerHTML']=_0xb72f99,document['getElementById'](_0x27cceb(0x2bf))[_0x27cceb(0x1f7)][_0x27cceb(0x3ee)]=_0x27cceb(0x109),document[_0x27cceb(0x467)]('confirm-resimulate-btn')[_0x27cceb(0x1f7)][_0x27cceb(0x3ee)]=_0x27cceb(0x109),window['pendingResimulateData']={'matchId':_0x2f7f5a,'matchData':_0x1b9cb6,'ladder':currentLadder},showNotification('Match\x20found\x20-\x20please\x20review\x20details\x20and\x20confirm\x20resimulation',_0x27cceb(0x2d9));}catch(_0x1c4e27){console[_0x27cceb(0x34f)](_0x27cceb(0x8c),_0x1c4e27),showNotification(_0x27cceb(0x2cb)+_0x1c4e27[_0x27cceb(0x233)],_0x27cceb(0x34f));}}async function confirmResimulateMatch(){const _0x15d52f=a4_0x5d2362;try{const {matchId:_0x3733fd,matchData:_0x457263,ladder:_0x2cdc08}=window[_0x15d52f(0x4c5)];if(!_0x3733fd||!_0x457263){showNotification('No\x20match\x20data\x20found\x20for\x20resimulation',_0x15d52f(0x34f));return;}const _0x300428=_0x2cdc08==='D1'?_0x15d52f(0x44b):_0x2cdc08==='D2'?_0x15d52f(0xc2):_0x15d52f(0x274),_0x280331=_0x2cdc08==='D1'?_0x15d52f(0x2d1):_0x2cdc08==='D2'?'eloHistoryD2':_0x15d52f(0xf6),[_0x1e2f27,_0x4f8dec]=await Promise[_0x15d52f(0x1ea)]([getDocs(query(collection(db,_0x300428),where(_0x15d52f(0x1e5),'==',_0x457263[_0x15d52f(0x306)]))),getDocs(query(collection(db,_0x300428),where(_0x15d52f(0x1e5),'==',_0x457263[_0x15d52f(0x11b)])))]);if(_0x1e2f27[_0x15d52f(0xb1)]||_0x4f8dec[_0x15d52f(0xb1)]){showNotification(_0x15d52f(0x79),_0x15d52f(0x34f));return;}const _0x41c050=_0x1e2f27[_0x15d52f(0x23e)][0x0]['id'],_0x515801=_0x4f8dec[_0x15d52f(0x23e)][0x0]['id'],_0x23287f=_0x1e2f27['docs'][0x0][_0x15d52f(0x47c)](),_0x2ab2df=_0x4f8dec['docs'][0x0][_0x15d52f(0x47c)](),[_0x845bb1,_0x31d84a]=await Promise[_0x15d52f(0x1ea)]([getDocs(query(collection(db,_0x280331),where(_0x15d52f(0x2cd),'==',_0x41c050),where('matchId','==',_0x3733fd))),getDocs(query(collection(db,_0x280331),where('playerId','==',_0x515801),where(_0x15d52f(0x42c),'==',_0x3733fd)))]),_0x3bc6fb=!_0x845bb1[_0x15d52f(0xb1)],_0x38ea47=!_0x31d84a[_0x15d52f(0xb1)],_0x20edeb=_0x15d52f(0x2c5)+(_0x3bc6fb?_0x15d52f(0x3cf):'\x20Missing')+_0x15d52f(0x322)+(_0x38ea47?_0x15d52f(0x3cf):'\x20Missing')+_0x15d52f(0x354)+(_0x23287f[_0x15d52f(0x17a)]||_0x15d52f(0x45c))+_0x15d52f(0x277)+(_0x2ab2df[_0x15d52f(0x17a)]||'Unknown')+_0x15d52f(0x2ad)+(_0x23287f[_0x15d52f(0xf5)]||_0x15d52f(0x45c))+_0x15d52f(0x2d8)+(_0x2ab2df[_0x15d52f(0xf5)]||_0x15d52f(0x45c))+_0x15d52f(0xbd);document[_0x15d52f(0x467)]('validation-results-container')[_0x15d52f(0x318)]=_0x20edeb,document['getElementById'](_0x15d52f(0x3bc))[_0x15d52f(0x1f7)][_0x15d52f(0x3ee)]=_0x15d52f(0x109);if(_0x3bc6fb&&_0x38ea47){showNotification(_0x15d52f(0x155),_0x15d52f(0x1d1));return;}showNotification(_0x15d52f(0x34c),_0x15d52f(0x2d9));const _0xfb70ce=_0x457263[_0x15d52f(0x359)]||_0x457263['matchDate']||serverTimestamp(),[_0x5f3d13,_0x2a894f]=await Promise[_0x15d52f(0x1ea)]([getPlayerEloAtTime(_0x41c050,_0xfb70ce,_0x280331),getPlayerEloAtTime(_0x515801,_0xfb70ce,_0x280331)]),{calculateElo:_0xc5adee}=await import(_0x15d52f(0x71)),{newWinnerRating:_0x21673e,newLoserRating:_0x495a33}=_0xc5adee(_0x5f3d13,_0x2a894f),_0xc2190f=_0x23287f['position']||Number[_0x15d52f(0x4ba)],_0x15e9f9=_0x2ab2df['position']||Number[_0x15d52f(0x4ba)];let _0x247933=_0xc2190f,_0x2140da=_0x15e9f9;_0xc2190f>_0x15e9f9&&(_0x247933=_0x15e9f9,_0x2140da=_0x15e9f9+0x1);const _0x50c76e=writeBatch(db),_0x49978c=doc(db,_0x300428,_0x41c050);_0x50c76e['update'](_0x49978c,{'eloRating':_0x21673e,'position':_0x247933,'lastUpdated':serverTimestamp(),'resimulated':!![],'resimulatedAt':serverTimestamp(),'resimulatedBy':auth[_0x15d52f(0x4af)][_0x15d52f(0x267)]});const _0xb9e885=doc(db,_0x300428,_0x515801);_0x50c76e[_0x15d52f(0x360)](_0xb9e885,{'eloRating':_0x495a33,'position':_0x2140da,'lastUpdated':serverTimestamp(),'resimulated':!![],'resimulatedAt':serverTimestamp(),'resimulatedBy':auth[_0x15d52f(0x4af)][_0x15d52f(0x267)]});if(_0xc2190f>_0x15e9f9){const _0x38b2ee=await getDocs(query(collection(db,_0x300428),where(_0x15d52f(0xf5),'>',_0x15e9f9),where('position','<',_0xc2190f)));_0x38b2ee[_0x15d52f(0x2fe)](_0x5c5f76=>{const _0x4efb04=_0x15d52f,_0x30bdcc=doc(db,_0x300428,_0x5c5f76['id']),_0x28aac4=_0x5c5f76['data']()[_0x4efb04(0xf5)];_0x50c76e[_0x4efb04(0x360)](_0x30bdcc,{'position':_0x28aac4+0x1,'lastUpdated':serverTimestamp(),'positionAdjustedBy':'resimulation','positionAdjustedAt':serverTimestamp()});});}if(!_0x3bc6fb){const _0x53bc43=doc(collection(db,_0x280331));_0x50c76e[_0x15d52f(0x3ba)](_0x53bc43,{'playerId':_0x41c050,'player':_0x457263['winnerUsername'],'previousElo':_0x5f3d13,'newElo':_0x21673e,'eloChange':_0x21673e-_0x5f3d13,'opponentId':_0x515801,'opponent':_0x457263['loserUsername'],'matchResult':'win','previousPosition':_0xc2190f,'newPosition':_0x247933,'positionChange':_0x247933-_0xc2190f,'matchId':_0x3733fd,'timestamp':_0xfb70ce,'resimulated':!![],'resimulatedAt':serverTimestamp(),'resimulatedBy':auth[_0x15d52f(0x4af)][_0x15d52f(0x267)],'gameMode':_0x2cdc08,'matchScore':_0x457263[_0x15d52f(0x7d)]+'-'+_0x457263[_0x15d52f(0x334)],'mapPlayed':_0x457263[_0x15d52f(0x25b)]||_0x457263[_0x15d52f(0x104)]||_0x15d52f(0x45c),'note':_0x15d52f(0x3c2)});}if(!_0x38ea47){const _0x31fcea=doc(collection(db,_0x280331));_0x50c76e[_0x15d52f(0x3ba)](_0x31fcea,{'playerId':_0x515801,'player':_0x457263[_0x15d52f(0x11b)],'previousElo':_0x2a894f,'newElo':_0x495a33,'eloChange':_0x495a33-_0x2a894f,'opponentId':_0x41c050,'opponent':_0x457263[_0x15d52f(0x306)],'matchResult':_0x15d52f(0x4c7),'previousPosition':_0x15e9f9,'newPosition':_0x2140da,'positionChange':_0x2140da-_0x15e9f9,'matchId':_0x3733fd,'timestamp':_0xfb70ce,'resimulated':!![],'resimulatedAt':serverTimestamp(),'resimulatedBy':auth[_0x15d52f(0x4af)]['uid'],'gameMode':_0x2cdc08,'matchScore':_0x457263[_0x15d52f(0x7d)]+'-'+_0x457263[_0x15d52f(0x334)],'mapPlayed':_0x457263['mapPlayed']||_0x457263[_0x15d52f(0x104)]||_0x15d52f(0x45c),'note':_0x15d52f(0x3c2)});}const _0x3d825c=_0x2cdc08==='D1'?_0x15d52f(0x2da):_0x2cdc08==='D2'?_0x15d52f(0x3d8):_0x15d52f(0x3e5),_0x9de8f4=doc(db,_0x3d825c,_0x3733fd);_0x50c76e[_0x15d52f(0x360)](_0x9de8f4,{'resimulated':!![],'resimulatedAt':serverTimestamp(),'resimulatedBy':auth[_0x15d52f(0x4af)][_0x15d52f(0x267)],'resimulatedReason':_0x15d52f(0x1b6),'originalWinnerElo':_0x23287f[_0x15d52f(0x17a)],'originalLoserElo':_0x2ab2df[_0x15d52f(0x17a)],'originalWinnerPosition':_0xc2190f,'originalLoserPosition':_0x15e9f9,'resimulatedWinnerElo':_0x21673e,'resimulatedLoserElo':_0x495a33,'resimulatedWinnerPosition':_0x247933,'resimulatedLoserPosition':_0x2140da}),await _0x50c76e['commit']();const _0x4485e5=(!_0x3bc6fb?0x1:0x0)+(!_0x38ea47?0x1:0x0),_0x12fdab=_0xc2190f!==_0x247933||_0x15e9f9!==_0x2140da;showNotification(_0x15d52f(0xe3)+(_0x15d52f(0x385)+_0x4485e5+'\x20ELO\x20history\x20entries.\x20')+(_0x15d52f(0x113)+_0x5f3d13+''+_0x21673e+_0x15d52f(0x399)+(_0x21673e-_0x5f3d13)+_0x15d52f(0x9b))+(_0x15d52f(0x15a)+_0x2a894f+''+_0x495a33+'\x20('+(_0x495a33-_0x2a894f)+_0x15d52f(0x3d3))+(''+(_0x12fdab?'Positions\x20updated:\x20Winner\x20'+_0xc2190f+''+_0x247933+',\x20Loser\x20'+_0x15e9f9+''+_0x2140da:_0x15d52f(0x49b))),_0x15d52f(0xc7)),closeResimulateModal(),document[_0x15d52f(0x368)]('#players.content-section.active')&&loadPlayersData();}catch(_0x22f57b){console[_0x15d52f(0x34f)]('Error\x20resimulating\x20match:',_0x22f57b),showNotification(_0x15d52f(0x18a)+_0x22f57b[_0x15d52f(0x233)],_0x15d52f(0x34f));}}async function getPlayerEloAtTime(_0x5e6f4d,_0x1522a9,_0x2a4796){const _0xed7f9=a4_0x5d2362;try{const _0x523089=_0x1522a9['toDate']?_0x1522a9[_0xed7f9(0x1e3)]():new Date(_0x1522a9),_0x220b22=query(collection(db,_0x2a4796),where(_0xed7f9(0x2cd),'==',_0x5e6f4d),where(_0xed7f9(0x35e),'<',_0x1522a9),orderBy(_0xed7f9(0x35e),'desc'),limit(0x1)),_0x2bcc30=await getDocs(_0x220b22);if(!_0x2bcc30[_0xed7f9(0xb1)]){const _0x484fc7=_0x2bcc30[_0xed7f9(0x23e)][0x0][_0xed7f9(0x47c)]();return console[_0xed7f9(0x329)](_0xed7f9(0x39d)+_0x5e6f4d+'\x20before\x20match:\x20'+_0x484fc7[_0xed7f9(0x281)]),_0x484fc7['newElo'];}else return console[_0xed7f9(0x329)]('No\x20ELO\x20history\x20found\x20for\x20player\x20'+_0x5e6f4d+_0xed7f9(0x2eb)),0x4b0;}catch(_0x37ef77){return console['error']('Error\x20getting\x20ELO\x20at\x20time\x20for\x20player\x20'+_0x5e6f4d+':',_0x37ef77),0x4b0;}}function openResimulateModal(){const _0x2fca17=a4_0x5d2362;console[_0x2fca17(0x329)](_0x2fca17(0x120));const _0x53939a=document['getElementById'](_0x2fca17(0x1ec));console['log'](_0x2fca17(0x184),_0x53939a);if(!_0x53939a){console[_0x2fca17(0x34f)]('Modal\x20element\x20not\x20found!');return;}_0x53939a['style'][_0x2fca17(0x3ee)]=_0x2fca17(0x109),_0x53939a[_0x2fca17(0x1f7)]['visibility']=_0x2fca17(0xbc),_0x53939a['style'][_0x2fca17(0x43b)]='1',_0x53939a[_0x2fca17(0x1cb)][_0x2fca17(0x3dd)](_0x2fca17(0x158)),console[_0x2fca17(0x329)](_0x2fca17(0x237)),console[_0x2fca17(0x329)](_0x2fca17(0x73),window[_0x2fca17(0x307)](_0x53939a)[_0x2fca17(0x3ee)]);const _0x25e617=document[_0x2fca17(0x467)]('match-details-container'),_0x56e385=document[_0x2fca17(0x467)]('validation-results-container'),_0x2b096a=document[_0x2fca17(0x467)](_0x2fca17(0x77)),_0xeb0aff=document[_0x2fca17(0x467)](_0x2fca17(0x35b));if(_0x25e617)_0x25e617[_0x2fca17(0x318)]='';if(_0x56e385)_0x56e385[_0x2fca17(0x318)]='';if(_0x2b096a)_0x2b096a['style'][_0x2fca17(0x3ee)]=_0x2fca17(0x3e0);if(_0xeb0aff)_0xeb0aff[_0x2fca17(0x201)]='';console['log'](_0x2fca17(0xc3));}function closeResimulateModal(){const _0x37bba3=a4_0x5d2362;document[_0x37bba3(0x467)](_0x37bba3(0x1ec))[_0x37bba3(0x1f7)][_0x37bba3(0x3ee)]=_0x37bba3(0x3e0),window[_0x37bba3(0x4c5)]=null;}window[a4_0x5d2362(0x327)]=resimulateMatch,window['confirmResimulateMatch']=confirmResimulateMatch,window[a4_0x5d2362(0x3e2)]=openResimulateModal,window['closeResimulateModal']=closeResimulateModal;async function loadPointsData(){const _0x5a769b=a4_0x5d2362;console[_0x5a769b(0x329)]('Loading\x20points\x20data...');try{await Promise[_0x5a769b(0x1ea)]([loadPointsOverview(),loadPointsHistory()]),showNotification(_0x5a769b(0x220),_0x5a769b(0xc7));}catch(_0x1fbb76){console[_0x5a769b(0x34f)](_0x5a769b(0x30c),_0x1fbb76),showNotification(_0x5a769b(0x34a)+_0x1fbb76['message'],_0x5a769b(0x34f));}}function renderPointsOverview(_0x41add0){const _0x413047=a4_0x5d2362,_0x5aa977=document[_0x413047(0x467)](_0x413047(0x156));if(!_0x5aa977)return;if(_0x41add0['length']===0x0){_0x5aa977[_0x413047(0x318)]=_0x413047(0x1de);return;}_0x5aa977[_0x413047(0x318)]='',_0x41add0[_0x413047(0x2fe)](_0x2ee722=>{const _0x227575=_0x413047,_0x2bde69=document[_0x227575(0x3ea)]('tr'),_0x7523dd=_0x2ee722[_0x227575(0x316)]||_0x2ee722[_0x227575(0x1e5)]||_0x227575(0x2f3),_0x28b780=_0x2ee722[_0x227575(0xe6)]||_0x227575(0x41a),_0x2b44ab=_0x2ee722[_0x227575(0xd8)]||0x0,_0x4534b8=_0x2ee722[_0x227575(0x370)]?new Date(_0x2ee722[_0x227575(0x370)][_0x227575(0x3e1)]*0x3e8)[_0x227575(0x3e8)]():_0x227575(0x2f4);_0x2bde69[_0x227575(0x318)]=_0x227575(0x305)+_0x7523dd+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x28b780+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22points-badge\x20'+(_0x2b44ab>0x3e8?_0x227575(0x22b):_0x2b44ab>0x1f4?_0x227575(0x49a):'low-points')+_0x227575(0x209)+_0x2b44ab[_0x227575(0x24b)]()+_0x227575(0x3e3)+_0x4534b8+_0x227575(0x3d6)+_0x2ee722['id']+'\x22\x20title=\x22Quick\x20Edit\x20Points\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-edit\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22view-history-btn\x22\x20data-user-id=\x22'+_0x2ee722['id']+'\x22\x20title=\x22View\x20Points\x20History\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-history\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x5aa977['appendChild'](_0x2bde69);}),setupPointsActionButtons();}function setupPointsActionButtons(){const _0x386087=a4_0x5d2362;console[_0x386087(0x329)](_0x386087(0x3d2));const _0xc067d8=document[_0x386087(0x269)](_0x386087(0x9e));console[_0x386087(0x329)](_0x386087(0x6e)+_0xc067d8[_0x386087(0x20e)]+_0x386087(0x483)),_0xc067d8[_0x386087(0x2fe)](_0x219ccf=>{const _0x331c74=_0x386087,_0x3f288c=_0x219ccf['cloneNode'](!![]);_0x219ccf[_0x331c74(0x1a6)][_0x331c74(0x1d2)](_0x3f288c,_0x219ccf);});const _0x402b7f=document[_0x386087(0x269)](_0x386087(0x348));console[_0x386087(0x329)](_0x386087(0x6e)+_0x402b7f['length']+_0x386087(0x23c)),_0x402b7f[_0x386087(0x2fe)](_0x59edcd=>{const _0x3b85a1=_0x59edcd['cloneNode'](!![]);_0x59edcd['parentNode']['replaceChild'](_0x3b85a1,_0x59edcd);}),document['querySelectorAll'](_0x386087(0x9e))[_0x386087(0x2fe)](_0x544339=>{const _0x381a57=_0x386087;_0x544339[_0x381a57(0x1c3)](_0x381a57(0x457),function(_0x484789){const _0x554ae5=_0x381a57;_0x484789[_0x554ae5(0x11d)](),_0x484789['stopPropagation']();const _0xbf813b=this['dataset'][_0x554ae5(0x210)];console[_0x554ae5(0x329)](_0x554ae5(0x245),_0xbf813b);if(!_0xbf813b){console[_0x554ae5(0x34f)](_0x554ae5(0x3a8));return;}this[_0x554ae5(0x1f7)][_0x554ae5(0x43b)]=_0x554ae5(0x23d),setTimeout(()=>{const _0x4b9249=_0x554ae5;this[_0x4b9249(0x1f7)][_0x4b9249(0x43b)]='1';},0xc8),openQuickEditModal(_0xbf813b);});}),document[_0x386087(0x269)](_0x386087(0x348))[_0x386087(0x2fe)](_0x2550da=>{const _0x45dddb=_0x386087;_0x2550da['addEventListener'](_0x45dddb(0x457),function(_0x522be5){const _0x1de11d=_0x45dddb;_0x522be5[_0x1de11d(0x11d)](),_0x522be5['stopPropagation']();const _0x1c9854=this[_0x1de11d(0x27f)]['userId'];console['log'](_0x1de11d(0x453),_0x1c9854);if(!_0x1c9854){console[_0x1de11d(0x34f)](_0x1de11d(0x3a8));return;}this[_0x1de11d(0x1f7)][_0x1de11d(0x43b)]=_0x1de11d(0x23d),setTimeout(()=>{const _0x33d6fd=_0x1de11d;this['style'][_0x33d6fd(0x43b)]='1';},0xc8),loadUserPointsHistory(_0x1c9854);});}),console['log'](_0x386087(0xd0));}async function openQuickEditModal(_0x3b9660){const _0x45557c=a4_0x5d2362;console[_0x45557c(0x329)](_0x45557c(0x282),_0x3b9660);const _0x59a8d6=document[_0x45557c(0x467)](_0x45557c(0xe0));if(!_0x59a8d6){console[_0x45557c(0x34f)](_0x45557c(0x475)),showNotification(_0x45557c(0x49c),_0x45557c(0x34f));return;}try{showNotification(_0x45557c(0x15e),_0x45557c(0x2d9));const _0x1aceb6=doc(db,_0x45557c(0x122),_0x3b9660),_0x4c5ac5=await getDoc(_0x1aceb6);if(!_0x4c5ac5[_0x45557c(0x419)]()){showNotification('User\x20not\x20found','error');return;}const _0xa6aee4=_0x4c5ac5[_0x45557c(0x47c)]();console[_0x45557c(0x329)](_0x45557c(0x320),_0xa6aee4);const _0x37dd61=document[_0x45557c(0x467)](_0x45557c(0x291)),_0x24586e=document[_0x45557c(0x467)](_0x45557c(0x2df)),_0x360d52=document[_0x45557c(0x467)](_0x45557c(0x464)),_0x374227=document[_0x45557c(0x467)](_0x45557c(0x335)),_0x513d1e=document[_0x45557c(0x467)]('quick-edit-points-form');if(!_0x37dd61||!_0x24586e||!_0x360d52||!_0x374227||!_0x513d1e){console[_0x45557c(0x34f)]('Quick\x20edit\x20form\x20elements\x20missing\x20from\x20HTML'),showNotification(_0x45557c(0x1dc),_0x45557c(0x34f));return;}_0x37dd61[_0x45557c(0x201)]=_0x3b9660,_0x24586e['textContent']=_0xa6aee4[_0x45557c(0x316)]||_0xa6aee4['username']||'Unknown\x20User',_0x360d52[_0x45557c(0x39f)]=_0xa6aee4[_0x45557c(0xe6)]||_0x45557c(0x41a),_0x374227[_0x45557c(0x39f)]=(_0xa6aee4['points']||0x0)[_0x45557c(0x24b)](),_0x513d1e[_0x45557c(0xd3)]();const _0x3a8e25=document['getElementById']('quick-add');_0x3a8e25&&(_0x3a8e25['checked']=!![]);_0x59a8d6[_0x45557c(0x1cb)][_0x45557c(0x3dd)](_0x45557c(0x158)),console[_0x45557c(0x329)](_0x45557c(0x45b));const _0x222029=document['getElementById']('quick-points-amount');_0x222029&&setTimeout(()=>_0x222029[_0x45557c(0x2c9)](),0x64);}catch(_0x58e46f){console[_0x45557c(0x34f)](_0x45557c(0x2de),_0x58e46f),showNotification(_0x45557c(0x44a)+_0x58e46f[_0x45557c(0x233)],_0x45557c(0x34f));}}function closeQuickEditModal(){const _0x3218a3=a4_0x5d2362,_0x17e3cb=document[_0x3218a3(0x467)](_0x3218a3(0xe0));_0x17e3cb&&_0x17e3cb[_0x3218a3(0x1cb)][_0x3218a3(0x142)](_0x3218a3(0x158));}async function handleQuickEditPoints(_0x1ef0dc){const _0x2b876e=a4_0x5d2362;_0x1ef0dc['preventDefault']();const _0x309f34=document[_0x2b876e(0x467)](_0x2b876e(0x291))[_0x2b876e(0x201)],_0x6dfe5d=document[_0x2b876e(0x368)](_0x2b876e(0x97))[_0x2b876e(0x201)],_0x4a09e8=parseInt(document[_0x2b876e(0x467)](_0x2b876e(0x1e0))['value']),_0x4c7745=document[_0x2b876e(0x467)](_0x2b876e(0x401))[_0x2b876e(0x201)][_0x2b876e(0x271)]();console[_0x2b876e(0x329)](_0x2b876e(0x231),{'userId':_0x309f34,'action':_0x6dfe5d,'amount':_0x4a09e8,'reason':_0x4c7745});if(!_0x309f34||!_0x4a09e8||_0x4a09e8<0x0){showNotification(_0x2b876e(0x32c),_0x2b876e(0x34f));return;}try{await modifyUserPoints(_0x309f34,_0x6dfe5d,_0x4a09e8,_0x4c7745),closeQuickEditModal(),loadPointsOverview(),showNotification(_0x2b876e(0x22f),_0x2b876e(0xc7)),console[_0x2b876e(0x329)](_0x2b876e(0x12d),_0x309f34);}catch(_0x21cab2){console['error']('Error\x20updating\x20points:',_0x21cab2),showNotification(_0x2b876e(0xb2)+_0x21cab2[_0x2b876e(0x233)],_0x2b876e(0x34f));}}async function searchUsersForPoints(){const _0x5e3d51=a4_0x5d2362,_0x4ab915=document[_0x5e3d51(0x467)](_0x5e3d51(0x217))[_0x5e3d51(0x201)][_0x5e3d51(0x271)]()['toLowerCase'](),_0x2b19f2=document[_0x5e3d51(0x467)](_0x5e3d51(0x192));if(!_0x4ab915||_0x4ab915[_0x5e3d51(0x20e)]<0x2){_0x2b19f2[_0x5e3d51(0x318)]='';return;}_0x2b19f2[_0x5e3d51(0x318)]=_0x5e3d51(0xec);try{const _0x3ab18f=collection(db,_0x5e3d51(0x122)),_0x21a855=await getDocs(_0x3ab18f),_0x3dbb72=[];_0x21a855[_0x5e3d51(0x2fe)](_0x378004=>{const _0x53a6c1=_0x5e3d51,_0x1c8ddc=_0x378004[_0x53a6c1(0x47c)](),_0xe76b90=(_0x1c8ddc['displayName']||_0x1c8ddc[_0x53a6c1(0x1e5)]||'')[_0x53a6c1(0x409)](),_0x307108=(_0x1c8ddc[_0x53a6c1(0xe6)]||'')['toLowerCase']();(_0xe76b90['includes'](_0x4ab915)||_0x307108[_0x53a6c1(0x33c)](_0x4ab915))&&_0x3dbb72['push']({'id':_0x378004['id'],..._0x1c8ddc});});if(_0x3dbb72[_0x5e3d51(0x20e)]===0x0){_0x2b19f2[_0x5e3d51(0x318)]=_0x5e3d51(0x24f);return;}_0x2b19f2['innerHTML']='',_0x3dbb72[_0x5e3d51(0x2fe)](_0x4e2ad0=>{const _0x1bc077=_0x5e3d51,_0x9eae9=document[_0x1bc077(0x3ea)]('div');_0x9eae9[_0x1bc077(0x12e)]=_0x1bc077(0xd2),_0x9eae9[_0x1bc077(0x318)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22user-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>'+(_0x4e2ad0[_0x1bc077(0x316)]||_0x4e2ad0[_0x1bc077(0x1e5)]||_0x1bc077(0x45c))+_0x1bc077(0x36f)+(_0x4e2ad0[_0x1bc077(0xe6)]||_0x1bc077(0x41a))+_0x1bc077(0x1cc)+(_0x4e2ad0[_0x1bc077(0xd8)]||0x0)['toLocaleString']()+'\x20points</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x9eae9['addEventListener'](_0x1bc077(0x457),()=>selectUserForPoints(_0x4e2ad0)),_0x2b19f2[_0x1bc077(0x2e6)](_0x9eae9);});}catch(_0x166eb9){console[_0x5e3d51(0x34f)]('Error\x20searching\x20users:',_0x166eb9),_0x2b19f2['innerHTML']='<div\x20class=\x22error\x22>Error\x20searching\x20users</div>';}}function selectUserForPoints(_0x1e3f4a){const _0x4cf268=a4_0x5d2362;document['getElementById']('selected-user-name')[_0x4cf268(0x39f)]=_0x1e3f4a['displayName']||_0x1e3f4a[_0x4cf268(0x1e5)]||'Unknown\x20User',document[_0x4cf268(0x467)]('selected-user-points')[_0x4cf268(0x39f)]=(_0x1e3f4a[_0x4cf268(0xd8)]||0x0)[_0x4cf268(0x24b)](),document[_0x4cf268(0x467)](_0x4cf268(0x246))[_0x4cf268(0x201)]=_0x1e3f4a['id'],document[_0x4cf268(0x467)](_0x4cf268(0x376))[_0x4cf268(0x1f7)][_0x4cf268(0x3ee)]=_0x4cf268(0x109),document[_0x4cf268(0x467)]('points-management-forms')[_0x4cf268(0x1f7)][_0x4cf268(0x3ee)]=_0x4cf268(0x109),document[_0x4cf268(0x467)](_0x4cf268(0x192))[_0x4cf268(0x318)]='',document[_0x4cf268(0x467)]('points-user-search')['value']='';}async function handleModifyPoints(_0x4d832a){const _0x24c873=a4_0x5d2362;_0x4d832a[_0x24c873(0x11d)]();const _0x10917a=document[_0x24c873(0x467)](_0x24c873(0x246))[_0x24c873(0x201)],_0x295d8d=document[_0x24c873(0x467)](_0x24c873(0x18f))[_0x24c873(0x201)],_0x4185ff=parseInt(document[_0x24c873(0x467)]('points-amount')[_0x24c873(0x201)]),_0x30e383=document[_0x24c873(0x467)](_0x24c873(0x176))[_0x24c873(0x201)][_0x24c873(0x271)]();if(!_0x10917a||!_0x4185ff||_0x4185ff<0x0){showNotification(_0x24c873(0x1fc),_0x24c873(0x34f));return;}try{await modifyUserPoints(_0x10917a,_0x295d8d,_0x4185ff,_0x30e383),document[_0x24c873(0x467)](_0x24c873(0xaf))['reset']();const _0x5bac74=doc(db,'userProfiles',_0x10917a),_0x48a52f=await getDoc(_0x5bac74);if(_0x48a52f[_0x24c873(0x419)]()){const _0x3e8add=_0x48a52f[_0x24c873(0x47c)]();document['getElementById'](_0x24c873(0x10d))[_0x24c873(0x39f)]=(_0x3e8add[_0x24c873(0xd8)]||0x0)['toLocaleString']();}showNotification(_0x24c873(0x1fe),_0x24c873(0xc7)),loadPointsHistory();}catch(_0x4fc36d){console[_0x24c873(0x34f)](_0x24c873(0x1e1),_0x4fc36d),showNotification(_0x24c873(0x1ed)+_0x4fc36d[_0x24c873(0x233)],_0x24c873(0x34f));}}async function loadPointsHistory(){const _0x32d16d=a4_0x5d2362,_0x1eeeb7=document['getElementById'](_0x32d16d(0x167));if(!_0x1eeeb7)return;_0x1eeeb7[_0x32d16d(0x318)]=_0x32d16d(0x461);try{const _0x1b7a56=collection(db,'pointsHistory'),_0x3ac9cc=query(_0x1b7a56,orderBy(_0x32d16d(0x35e),'desc'),limit(0x32)),_0x501ba0=await getDocs(_0x3ac9cc);if(_0x501ba0[_0x32d16d(0xb1)]){_0x1eeeb7['innerHTML']='<tr><td\x20colspan=\x226\x22\x20class=\x22empty-state\x22>No\x20history\x20found</td></tr>';return;}_0x1eeeb7[_0x32d16d(0x318)]='',_0x501ba0['forEach'](_0x19a023=>{const _0x4c158b=_0x32d16d,_0x276519=_0x19a023[_0x4c158b(0x47c)](),_0x42978d=document[_0x4c158b(0x3ea)]('tr'),_0x9c4f64=_0x276519['timestamp']?new Date(_0x276519[_0x4c158b(0x35e)][_0x4c158b(0x3e1)]*0x3e8)[_0x4c158b(0x24b)]():_0x4c158b(0x45c);let _0xc7ccb='';switch(_0x276519['action']){case'add':_0xc7ccb=_0x4c158b(0x3c1)+_0x276519[_0x4c158b(0x190)]+'\x20points';break;case _0x4c158b(0x1f0):_0xc7ccb=_0x4c158b(0x36c)+_0x276519[_0x4c158b(0x190)]+_0x4c158b(0x395);break;case _0x4c158b(0x3ba):_0xc7ccb=_0x4c158b(0x17c)+_0x276519[_0x4c158b(0x190)]+_0x4c158b(0x395);break;default:_0xc7ccb=_0x276519['action']+'\x20'+_0x276519['amount']+'\x20points';}_0x42978d[_0x4c158b(0x318)]=_0x4c158b(0x285)+_0x9c4f64+_0x4c158b(0x279)+(_0x276519['displayName']||_0x4c158b(0x2f3))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0xc7ccb+_0x4c158b(0x451)+_0x276519['action']+_0x4c158b(0x1a2)+(_0x276519['previousPoints']||0x0)+_0x4c158b(0xfd)+(_0x276519['newPoints']||0x0)+_0x4c158b(0x26d)+(_0x276519[_0x4c158b(0x421)]||_0x4c158b(0x4a7))+_0x4c158b(0x279)+(_0x276519[_0x4c158b(0x236)]||_0x4c158b(0x29a))+_0x4c158b(0x301),_0x1eeeb7[_0x4c158b(0x2e6)](_0x42978d);});}catch(_0x338be7){console[_0x32d16d(0x34f)](_0x32d16d(0x326),_0x338be7),_0x1eeeb7['innerHTML']='<tr><td\x20colspan=\x226\x22\x20class=\x22error-state\x22>Error\x20loading\x20history:\x20'+_0x338be7[_0x32d16d(0x233)]+_0x32d16d(0x1cd);}}function filterPointsOverview(){const _0x3c9ebe=a4_0x5d2362,_0x4b1bd7=document[_0x3c9ebe(0x467)]('points-overview-search')[_0x3c9ebe(0x201)]['toLowerCase']();if(!window['allUsersPoints'])return;const _0x2fd789=window['allUsersPoints'][_0x3c9ebe(0x203)](_0x246d66=>{const _0x3796a3=_0x3c9ebe,_0x29477e=(_0x246d66[_0x3796a3(0x316)]||_0x246d66[_0x3796a3(0x1e5)]||'')[_0x3796a3(0x409)](),_0x5f052f=(_0x246d66['email']||'')['toLowerCase']();return _0x29477e[_0x3796a3(0x33c)](_0x4b1bd7)||_0x5f052f[_0x3796a3(0x33c)](_0x4b1bd7);});renderPointsOverview(_0x2fd789);}function sortPointsOverview(){const _0x5ee93e=a4_0x5d2362,_0x459de6=document[_0x5ee93e(0x467)](_0x5ee93e(0x111))[_0x5ee93e(0x201)];if(!window[_0x5ee93e(0xa4)])return;const _0x251c18=[...window[_0x5ee93e(0xa4)]];switch(_0x459de6){case _0x5ee93e(0x34b):_0x251c18['sort']((_0x50dba2,_0x5162a5)=>(_0x5162a5['points']||0x0)-(_0x50dba2[_0x5ee93e(0xd8)]||0x0));break;case _0x5ee93e(0x2a0):_0x251c18[_0x5ee93e(0x379)]((_0x5154f6,_0x645dd9)=>(_0x5154f6[_0x5ee93e(0xd8)]||0x0)-(_0x645dd9[_0x5ee93e(0xd8)]||0x0));break;case _0x5ee93e(0x290):_0x251c18[_0x5ee93e(0x379)]((_0x2701bb,_0x18c297)=>{const _0x5d16fb=_0x5ee93e,_0x40002b=(_0x2701bb[_0x5d16fb(0x316)]||_0x2701bb[_0x5d16fb(0x1e5)]||'')[_0x5d16fb(0x409)](),_0x2a65b3=(_0x18c297[_0x5d16fb(0x316)]||_0x18c297[_0x5d16fb(0x1e5)]||'')[_0x5d16fb(0x409)]();return _0x40002b[_0x5d16fb(0x3c5)](_0x2a65b3);});break;case _0x5ee93e(0x157):_0x251c18[_0x5ee93e(0x379)]((_0x8bd471,_0x159be1)=>{const _0x242444=_0x5ee93e,_0x2456d8=(_0x8bd471[_0x242444(0x316)]||_0x8bd471[_0x242444(0x1e5)]||'')['toLowerCase'](),_0x132625=(_0x159be1[_0x242444(0x316)]||_0x159be1[_0x242444(0x1e5)]||'')[_0x242444(0x409)]();return _0x132625[_0x242444(0x3c5)](_0x2456d8);});break;}renderPointsOverview(_0x251c18);}async function handleAwardItem(_0x17a54f){const _0x2de36e=a4_0x5d2362;_0x17a54f[_0x2de36e(0x11d)]();const _0x16581c=document[_0x2de36e(0x467)](_0x2de36e(0x246))[_0x2de36e(0x201)],_0x233be3=document[_0x2de36e(0x467)](_0x2de36e(0x425))['value'],_0x371615=document[_0x2de36e(0x467)](_0x2de36e(0x394))[_0x2de36e(0x201)][_0x2de36e(0x271)]();if(!_0x16581c||!_0x233be3){showNotification(_0x2de36e(0x396),_0x2de36e(0x34f));return;}try{showNotification(_0x2de36e(0xd6),_0x2de36e(0xc7)),document[_0x2de36e(0x467)]('award-item-form')[_0x2de36e(0xd3)]();}catch(_0x2e319d){console[_0x2de36e(0x34f)](_0x2de36e(0x22e),_0x2e319d),showNotification(_0x2de36e(0x183)+_0x2e319d[_0x2de36e(0x233)],'error');}}async function loadUserPointsHistory(_0x75977c){const _0x476c42=a4_0x5d2362;try{const _0x4820c4=collection(db,_0x476c42(0x263)),_0x27c3c2=query(_0x4820c4,where(_0x476c42(0x210),'==',_0x75977c),orderBy('timestamp',_0x476c42(0x1d8))),_0x4848d8=await getDocs(_0x27c3c2);console[_0x476c42(0x329)](_0x476c42(0x6e)+_0x4848d8[_0x476c42(0x275)]+_0x476c42(0x28e)+_0x75977c),showNotification('User\x20has\x20'+_0x4848d8[_0x476c42(0x275)]+_0x476c42(0xef),'info');}catch(_0x1f4701){console[_0x476c42(0x34f)](_0x476c42(0x2ce),_0x1f4701),showNotification('Failed\x20to\x20load\x20user\x20history',_0x476c42(0x34f));}}async function initializeUserPointsField(){const _0x119c8a=a4_0x5d2362;try{console[_0x119c8a(0x329)]('Starting\x20points\x20field\x20initialization\x20for\x20all\x20users...');const _0x2266aa=collection(db,_0x119c8a(0x122)),_0x540617=await getDocs(_0x2266aa);if(_0x540617[_0x119c8a(0xb1)]){console[_0x119c8a(0x329)](_0x119c8a(0x2e9));return;}let _0x33fee5=0x0,_0x43ea81=0x0;const _0x15abbf=writeBatch(db);let _0x3164ea=0x0;return console[_0x119c8a(0x329)](_0x119c8a(0x6e)+_0x540617[_0x119c8a(0x275)]+_0x119c8a(0x433)),_0x540617['forEach'](_0x2ae856=>{const _0x2fd855=_0x119c8a,_0x13ac79=_0x2ae856[_0x2fd855(0x47c)]();_0x13ac79['points']===undefined||_0x13ac79['points']===null?(_0x15abbf[_0x2fd855(0x360)](_0x2ae856[_0x2fd855(0x78)],{'points':0x0,'pointsInitializedAt':serverTimestamp()}),_0x33fee5++,_0x3164ea++,console[_0x2fd855(0x329)](_0x2fd855(0x102)+(_0x13ac79[_0x2fd855(0x316)]||_0x13ac79[_0x2fd855(0x1e5)]||_0x13ac79[_0x2fd855(0xe6)]||_0x2fd855(0x45c))+_0x2fd855(0x2c3))):(_0x43ea81++,console[_0x2fd855(0x329)]((_0x13ac79['displayName']||_0x13ac79[_0x2fd855(0x1e5)]||_0x13ac79[_0x2fd855(0xe6)]||_0x2fd855(0x45c))+_0x2fd855(0x272)+_0x13ac79[_0x2fd855(0xd8)])),_0x3164ea>=0x1f4&&console[_0x2fd855(0xb3)](_0x2fd855(0x372));}),_0x33fee5>0x0?(console[_0x119c8a(0x329)](_0x119c8a(0x186)+_0x33fee5+_0x119c8a(0x35f)),await _0x15abbf[_0x119c8a(0x384)](),console[_0x119c8a(0x329)](_0x119c8a(0xea)+_0x33fee5+'\x20users')):console[_0x119c8a(0x329)](_0x119c8a(0x195)),console['log'](_0x119c8a(0x366)+_0x540617[_0x119c8a(0x275)]+_0x119c8a(0x13f)+_0x33fee5+_0x119c8a(0x21f)+_0x43ea81),showNotification('Points\x20field\x20initialized\x20for\x20'+_0x33fee5+_0x119c8a(0x377)+_0x43ea81+'\x20users\x20already\x20had\x20points.','success'),window[_0x119c8a(0xa4)]&&loadPointsOverview(),{'totalUsers':_0x540617[_0x119c8a(0x275)],'usersUpdated':_0x33fee5,'usersAlreadyHadPoints':_0x43ea81};}catch(_0x548bb3){console['error']('Error\x20initializing\x20points\x20field:',_0x548bb3),showNotification(_0x119c8a(0x486)+_0x548bb3['message'],_0x119c8a(0x34f));throw _0x548bb3;}}function addPointsMigrationButton(){const _0x33a96b=a4_0x5d2362,_0x3ed892=document[_0x33a96b(0x467)](_0x33a96b(0x14b));if(!_0x3ed892)return;if(document['getElementById'](_0x33a96b(0x3b9)))return;const _0x31d362=document[_0x33a96b(0x3ea)](_0x33a96b(0xe5));_0x31d362[_0x33a96b(0x12e)]='migration-section',_0x31d362[_0x33a96b(0x1f7)]['marginBottom']=_0x33a96b(0x1f4),_0x31d362[_0x33a96b(0x1f7)][_0x33a96b(0x3a3)]=_0x33a96b(0x358),_0x31d362[_0x33a96b(0x1f7)][_0x33a96b(0x228)]=_0x33a96b(0x240),_0x31d362['style'][_0x33a96b(0x36b)]=_0x33a96b(0x2ae),_0x31d362[_0x33a96b(0x1f7)][_0x33a96b(0x181)]=_0x33a96b(0x10c),_0x31d362[_0x33a96b(0x318)]=_0x33a96b(0x471);const _0x11ba38=_0x3ed892[_0x33a96b(0x368)](_0x33a96b(0x407));_0x11ba38&&_0x11ba38['insertAdjacentElement'](_0x33a96b(0x292),_0x31d362),document[_0x33a96b(0x467)]('migrate-points-btn')['addEventListener'](_0x33a96b(0x457),async function(){const _0x390c89=_0x33a96b;if(confirm(_0x390c89(0x1c2))){this[_0x390c89(0x22c)]=!![],this[_0x390c89(0x318)]=_0x390c89(0x129);try{await initializeUserPointsField(),this[_0x390c89(0x318)]=_0x390c89(0x2f8),this[_0x390c89(0x1f7)][_0x390c89(0x228)]=_0x390c89(0x1b3),setTimeout(()=>{const _0x4ab19f=_0x390c89;_0x31d362['style'][_0x4ab19f(0x3ee)]=_0x4ab19f(0x3e0);},0xbb8);}catch(_0x413747){this[_0x390c89(0x318)]='<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error\x20-\x20Try\x20Again',this[_0x390c89(0x22c)]=![];}}});}function setupManagePointsSection(){const _0x3bc350=a4_0x5d2362;console[_0x3bc350(0x329)](_0x3bc350(0x450)),addPointsMigrationButton();const _0x326845=document['getElementById'](_0x3bc350(0x217));_0x326845&&_0x326845[_0x3bc350(0x1c3)]('input',debounce(searchUsersForPoints,0x12c));const _0xc4b03=document[_0x3bc350(0x467)]('modify-points-form');_0xc4b03&&_0xc4b03[_0x3bc350(0x1c3)]('submit',handleModifyPoints);const _0x19f493=document[_0x3bc350(0x467)](_0x3bc350(0x32e));_0x19f493&&_0x19f493[_0x3bc350(0x1c3)](_0x3bc350(0x315),handleAwardItem);const _0x3ae659=document[_0x3bc350(0x467)](_0x3bc350(0x2b1));_0x3ae659&&_0x3ae659[_0x3bc350(0x1c3)]('input',debounce(filterPointsOverview,0x12c));const _0x48737b=document['getElementById'](_0x3bc350(0x111));_0x48737b&&_0x48737b[_0x3bc350(0x1c3)](_0x3bc350(0x422),sortPointsOverview);const _0x365423=document[_0x3bc350(0x467)](_0x3bc350(0x313));_0x365423&&_0x365423[_0x3bc350(0x1c3)]('click',loadPointsOverview);const _0xc02f02=document[_0x3bc350(0x467)](_0x3bc350(0xe0));if(_0xc02f02){console['log']('Quick\x20edit\x20modal\x20found,\x20setting\x20up\x20events...');const _0x5092a9=_0xc02f02[_0x3bc350(0x368)](_0x3bc350(0x4a9));_0x5092a9?_0x5092a9[_0x3bc350(0x1c3)](_0x3bc350(0x457),function(){const _0x14b72f=_0x3bc350;console[_0x14b72f(0x329)](_0x14b72f(0x36a)),closeQuickEditModal();}):console[_0x3bc350(0xb3)](_0x3bc350(0x443));const _0xcdba6a=document[_0x3bc350(0x467)]('cancel-quick-edit');_0xcdba6a?_0xcdba6a['addEventListener'](_0x3bc350(0x457),function(){const _0x4afc7b=_0x3bc350;console[_0x4afc7b(0x329)](_0x4afc7b(0x26c)),closeQuickEditModal();}):console[_0x3bc350(0xb3)](_0x3bc350(0x255));const _0x25362e=document['getElementById']('quick-edit-points-form');_0x25362e?_0x25362e[_0x3bc350(0x1c3)](_0x3bc350(0x315),function(_0xe0892){const _0x1ff5c2=_0x3bc350;console[_0x1ff5c2(0x329)]('Quick\x20edit\x20form\x20submitted'),handleQuickEditPoints(_0xe0892);}):console[_0x3bc350(0x34f)](_0x3bc350(0x20c)),_0xc02f02[_0x3bc350(0x1c3)](_0x3bc350(0x457),function(_0x1be132){const _0x41622b=_0x3bc350;_0x1be132[_0x41622b(0x32f)]===_0xc02f02&&(console[_0x41622b(0x329)](_0x41622b(0x43e)),closeQuickEditModal());});}else console['error'](_0x3bc350(0x46e));console[_0x3bc350(0x329)](_0x3bc350(0x12f));}function setupManageRibbonsSection(){const _0x23b283=a4_0x5d2362;console['log'](_0x23b283(0x1f3));const _0x376a68=document[_0x23b283(0x467)]('ribbon-user-search');_0x376a68&&_0x376a68[_0x23b283(0x1c3)](_0x23b283(0x3b1),debounce(searchRibbonUser,0x12c));const _0x156974=document['getElementById'](_0x23b283(0x24e));_0x156974&&_0x156974['addEventListener'](_0x23b283(0x457),searchRibbonUser);const _0x3e203b=document['getElementById']('add-ribbon-form');_0x3e203b&&_0x3e203b['addEventListener'](_0x23b283(0x315),addRibbon),_0x376a68&&_0x376a68['addEventListener'](_0x23b283(0x42e),function(_0x7ac061){const _0x322270=_0x23b283;_0x7ac061[_0x322270(0x28f)]===_0x322270(0x161)&&(_0x7ac061[_0x322270(0x11d)](),searchRibbonUser());}),console[_0x23b283(0x329)](_0x23b283(0x2c8));}async function modifyUserPoints(_0x18f803,_0x497b45,_0x54cd48,_0xd8cdc3=''){const _0x80b4d7=a4_0x5d2362,_0x151f1c=doc(db,'userProfiles',_0x18f803),_0xbbf61f=await getDoc(_0x151f1c);if(!_0xbbf61f[_0x80b4d7(0x419)]())throw new Error(_0x80b4d7(0x2be));const _0x19ebe6=_0xbbf61f[_0x80b4d7(0x47c)](),_0x3af8e3=_0x19ebe6[_0x80b4d7(0xd8)]!==undefined?_0x19ebe6[_0x80b4d7(0xd8)]:0x0;_0x19ebe6[_0x80b4d7(0xd8)]===undefined&&(console['log'](_0x80b4d7(0x90)+(_0x19ebe6['displayName']||_0x19ebe6[_0x80b4d7(0xe6)]||_0x80b4d7(0x45c))),await updateDoc(_0x151f1c,{'points':0x0,'pointsInitializedAt':serverTimestamp()}));let _0x2999a3=_0x3af8e3;switch(_0x497b45){case _0x80b4d7(0x3dd):_0x2999a3=_0x3af8e3+_0x54cd48;break;case _0x80b4d7(0x1f0):_0x2999a3=Math['max'](0x0,_0x3af8e3-_0x54cd48);break;case _0x80b4d7(0x3ba):_0x2999a3=_0x54cd48;break;default:throw new Error('Invalid\x20action');}await updateDoc(_0x151f1c,{'points':_0x2999a3,'lastPointsModified':serverTimestamp()}),await addDoc(collection(db,_0x80b4d7(0x263)),{'userId':_0x18f803,'userEmail':_0x19ebe6['email']||'unknown','displayName':_0x19ebe6[_0x80b4d7(0x316)]||_0x19ebe6[_0x80b4d7(0x1e5)]||_0x80b4d7(0x2f3),'action':_0x497b45,'amount':_0x54cd48,'previousPoints':_0x3af8e3,'newPoints':_0x2999a3,'reason':_0xd8cdc3,'adminEmail':auth[_0x80b4d7(0x4af)]['email'],'timestamp':serverTimestamp()});}async function loadPointsOverview(){const _0x26253c=a4_0x5d2362,_0x2445b9=document[_0x26253c(0x467)]('points-overview-table-body');if(!_0x2445b9)return;_0x2445b9['innerHTML']=_0x26253c(0x4c9);try{const _0x25391f=collection(db,_0x26253c(0x122)),_0x29ad69=await getDocs(_0x25391f);if(_0x29ad69[_0x26253c(0xb1)]){_0x2445b9['innerHTML']=_0x26253c(0x1de);return;}const _0x100dbe=[];let _0x43e2a5=0x0;_0x29ad69[_0x26253c(0x2fe)](_0x516d7e=>{const _0x4148c5=_0x26253c,_0x1fe395=_0x516d7e['data'](),_0x236204=_0x1fe395['points']!==undefined?_0x1fe395[_0x4148c5(0xd8)]:0x0;_0x1fe395[_0x4148c5(0xd8)]===undefined&&_0x43e2a5++,_0x100dbe[_0x4148c5(0x99)]({'id':_0x516d7e['id'],..._0x1fe395,'points':_0x236204});}),_0x43e2a5>0x0&&(console[_0x26253c(0x329)]('Found\x20'+_0x43e2a5+_0x26253c(0x2a8)),showNotification(_0x43e2a5+_0x26253c(0x9d),_0x26253c(0x2d9))),_0x100dbe[_0x26253c(0x379)]((_0x475c37,_0x11bb99)=>(_0x11bb99[_0x26253c(0xd8)]||0x0)-(_0x475c37[_0x26253c(0xd8)]||0x0)),window['allUsersPoints']=_0x100dbe,renderPointsOverview(_0x100dbe);}catch(_0x436fa0){console[_0x26253c(0x34f)](_0x26253c(0x87),_0x436fa0),_0x2445b9[_0x26253c(0x318)]=_0x26253c(0xda)+_0x436fa0[_0x26253c(0x233)]+_0x26253c(0x1cd);}}async function loadRibbonsData(){const _0x54b362=a4_0x5d2362,_0x5724c0=document[_0x54b362(0x467)]('ribbons-overview-table-body');if(!_0x5724c0)return;_0x5724c0[_0x54b362(0x318)]='<tr><td\x20colspan=\x225\x22\x20class=\x22loading-cell\x22>Loading\x20ribbons\x20data...</td></tr>';try{const [_0x5659b6,_0x38400b,_0x2b79ac]=await Promise['all']([getDocs(collection(db,'playerRibbons')),getDocs(collection(db,_0x54b362(0x3bf))),getDocs(collection(db,'playerRibbonsD3'))]);_0x5724c0['innerHTML']='';const _0x528ddf=(_0x28338d,_0x40b94a)=>{const _0x45526d=_0x54b362;_0x28338d[_0x45526d(0x2fe)](_0x41d7f8=>{const _0x5945ec=_0x45526d,_0x5f1aa4=_0x41d7f8[_0x5945ec(0x47c)](),_0x400b5f=_0x5f1aa4[_0x5945ec(0x6a)]||{},_0x250f33=Object[_0x5945ec(0x7f)](_0x400b5f)[_0x5945ec(0x20e)],_0x506c79=document[_0x5945ec(0x3ea)]('tr');_0x506c79[_0x5945ec(0x318)]=_0x5945ec(0x25a)+(_0x5f1aa4['username']||_0x5945ec(0x45c))+_0x5945ec(0x118)+_0x40b94a['toLowerCase']()+'\x22>'+_0x40b94a+_0x5945ec(0x363)+_0x250f33+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x5f1aa4[_0x5945ec(0x98)]?new Date(_0x5f1aa4['lastUpdated']['seconds']*0x3e8)[_0x5945ec(0x3e8)]():_0x5945ec(0x45c))+_0x5945ec(0x472)+_0x5f1aa4[_0x5945ec(0x1e5)]+_0x5945ec(0x1c8)+_0x40b94a+_0x5945ec(0xd4),_0x5724c0[_0x5945ec(0x2e6)](_0x506c79);});};_0x528ddf(_0x5659b6,'D1'),_0x528ddf(_0x38400b,'D2'),_0x528ddf(_0x2b79ac,'D3'),document['querySelectorAll'](_0x54b362(0x239))[_0x54b362(0x2fe)](_0x7813aa=>{const _0x27987d=_0x54b362;_0x7813aa[_0x27987d(0x1c3)](_0x27987d(0x457),function(){const _0x3206f1=_0x27987d,_0x33b7dc=this[_0x3206f1(0x27f)][_0x3206f1(0x1e5)],_0x5b3be8=this[_0x3206f1(0x27f)][_0x3206f1(0x43c)];editUserRibbons(_0x33b7dc,_0x5b3be8);});}),showNotification('Ribbons\x20data\x20loaded\x20successfully','success');}catch(_0x8417f7){console['error'](_0x54b362(0x4b7),_0x8417f7),_0x5724c0[_0x54b362(0x318)]=_0x54b362(0x437),showNotification(_0x54b362(0x214),_0x54b362(0x34f));}}async function searchRibbonUser(){const _0x66c51d=a4_0x5d2362,_0x42e387=document[_0x66c51d(0x467)]('ribbon-user-search')[_0x66c51d(0x201)][_0x66c51d(0x271)]();if(!_0x42e387){showNotification(_0x66c51d(0x179),_0x66c51d(0x34f));return;}try{const [_0x970ece,_0x8946c5,_0x4b985c]=await Promise['all']([getDoc(doc(db,'playerRibbons',_0x42e387)),getDoc(doc(db,_0x66c51d(0x3bf),_0x42e387)),getDoc(doc(db,_0x66c51d(0x410),_0x42e387))]);let _0x40943b=null,_0x2719d2=null;if(_0x970ece['exists']())_0x40943b='D1',_0x2719d2=_0x970ece[_0x66c51d(0x47c)]();else{if(_0x8946c5[_0x66c51d(0x419)]())_0x40943b='D2',_0x2719d2=_0x8946c5[_0x66c51d(0x47c)]();else _0x4b985c['exists']()&&(_0x40943b='D3',_0x2719d2=_0x4b985c[_0x66c51d(0x47c)]());}_0x40943b?(document[_0x66c51d(0x467)]('current-ribbon-user')[_0x66c51d(0x39f)]=_0x42e387,document[_0x66c51d(0x467)](_0x66c51d(0x308))[_0x66c51d(0x201)]=_0x42e387,document['getElementById']('ribbon-target-ladder')[_0x66c51d(0x201)]=_0x40943b,document[_0x66c51d(0x467)](_0x66c51d(0x1c7))[_0x66c51d(0x1f7)]['display']=_0x66c51d(0x109),displayCurrentRibbons(_0x2719d2[_0x66c51d(0x6a)]||{}),showNotification(_0x66c51d(0x6e)+_0x42e387+_0x66c51d(0x165)+_0x40943b+_0x66c51d(0x1eb),_0x66c51d(0xc7))):showNotification('User\x20'+_0x42e387+_0x66c51d(0x293),_0x66c51d(0x34f));}catch(_0x4b103d){console[_0x66c51d(0x34f)](_0x66c51d(0x3e9),_0x4b103d),showNotification(_0x66c51d(0xa2),_0x66c51d(0x34f));}}function displayCurrentRibbons(_0xae72d9){const _0x35dc0e=a4_0x5d2362,_0x2dc24d=document[_0x35dc0e(0x467)]('current-ribbons-list');if(!_0x2dc24d)return;_0x2dc24d['innerHTML']='';if(Object['keys'](_0xae72d9)[_0x35dc0e(0x20e)]===0x0){_0x2dc24d[_0x35dc0e(0x318)]=_0x35dc0e(0x304);return;}Object['entries'](_0xae72d9)[_0x35dc0e(0x2fe)](([_0x32ee5e,_0x579d26])=>{const _0x3ac869=_0x35dc0e,_0x33b54c=document[_0x3ac869(0x3ea)](_0x3ac869(0xe5));_0x33b54c['className']=_0x3ac869(0xa9),_0x33b54c[_0x3ac869(0x318)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>'+_0x32ee5e+_0x3ac869(0x27e)+(_0x579d26[_0x3ac869(0x426)]||0x1)+_0x3ac869(0x452)+(_0x579d26[_0x3ac869(0x17b)]?new Date(_0x579d26[_0x3ac869(0x17b)][_0x3ac869(0x3e1)]*0x3e8)[_0x3ac869(0x3e8)]():'Unknown')+'</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-danger\x20btn-sm\x20remove-ribbon-btn\x22\x20data-ribbon=\x22'+_0x32ee5e+_0x3ac869(0x30d),_0x2dc24d[_0x3ac869(0x2e6)](_0x33b54c);}),document[_0x35dc0e(0x269)](_0x35dc0e(0x23a))[_0x35dc0e(0x2fe)](_0x317570=>{const _0x1a6ac8=_0x35dc0e;_0x317570[_0x1a6ac8(0x1c3)](_0x1a6ac8(0x457),function(){const _0x1489ed=_0x1a6ac8,_0x27d3b0=this[_0x1489ed(0x27f)][_0x1489ed(0x175)];removeRibbon(_0x27d3b0);});});}async function addRibbon(_0x4219ef){const _0x172469=a4_0x5d2362;_0x4219ef[_0x172469(0x11d)]();const _0x1cba51=document['getElementById']('ribbon-target-user')[_0x172469(0x201)],_0x890a3c=document[_0x172469(0x467)]('ribbon-target-ladder')[_0x172469(0x201)],_0x4e8d9b=document[_0x172469(0x467)]('ribbon-type-select')['value'],_0x2a9535=parseInt(document[_0x172469(0x467)](_0x172469(0x2dd))['value']);if(!_0x1cba51||!_0x890a3c||!_0x4e8d9b||!_0x2a9535){showNotification('Please\x20fill\x20all\x20fields','error');return;}try{const _0x36a746=_0x172469(0xfe)+(_0x890a3c==='D1'?'':_0x890a3c),_0x441b2a=doc(db,_0x36a746,_0x1cba51),_0x46acef=await getDoc(_0x441b2a),_0xf21c3e=_0x46acef[_0x172469(0x419)]()?_0x46acef[_0x172469(0x47c)]()['ribbons']||{}:{};_0xf21c3e[_0x4e8d9b]={'level':_0x2a9535,'awardedAt':serverTimestamp()},await setDoc(_0x441b2a,{'username':_0x1cba51,'ladder':_0x890a3c,'ribbons':_0xf21c3e,'lastUpdated':serverTimestamp()},{'merge':!![]}),showNotification(_0x172469(0x3c1)+_0x4e8d9b+_0x172469(0x125)+_0x2a9535+_0x172469(0xdc)+_0x1cba51,_0x172469(0xc7)),displayCurrentRibbons(_0xf21c3e),document[_0x172469(0x467)]('ribbon-type-select')['value']='',document[_0x172469(0x467)](_0x172469(0x2dd))[_0x172469(0x201)]='1';}catch(_0x322aa5){console[_0x172469(0x34f)]('Error\x20adding\x20ribbon:',_0x322aa5),showNotification(_0x172469(0x25f),_0x172469(0x34f));}}async function removeRibbon(_0x1ea18b){const _0x4b0569=a4_0x5d2362,_0x4f82c6=document['getElementById'](_0x4b0569(0x308))[_0x4b0569(0x201)],_0x2dfcdf=document[_0x4b0569(0x467)](_0x4b0569(0x283))[_0x4b0569(0x201)];if(!confirm(_0x4b0569(0xf2)+_0x1ea18b+_0x4b0569(0x311)+_0x4f82c6+'?'))return;try{const _0x406210=_0x4b0569(0xfe)+(_0x2dfcdf==='D1'?'':_0x2dfcdf),_0x2fac7f=doc(db,_0x406210,_0x4f82c6),_0x36b15e=await getDoc(_0x2fac7f),_0xd841c5=_0x36b15e[_0x4b0569(0x419)]()?_0x36b15e[_0x4b0569(0x47c)]()['ribbons']||{}:{};delete _0xd841c5[_0x1ea18b],await setDoc(_0x2fac7f,{'username':_0x4f82c6,'ladder':_0x2dfcdf,'ribbons':_0xd841c5,'lastUpdated':serverTimestamp()},{'merge':!![]}),showNotification(_0x4b0569(0x3ce)+_0x1ea18b+_0x4b0569(0x311)+_0x4f82c6,_0x4b0569(0xc7)),displayCurrentRibbons(_0xd841c5);}catch(_0x25dd6c){console['error']('Error\x20removing\x20ribbon:',_0x25dd6c),showNotification(_0x4b0569(0x76),_0x4b0569(0x34f));}}function editUserRibbons(_0x53e772,_0x4e8992){const _0x5674b1=a4_0x5d2362;document[_0x5674b1(0x467)](_0x5674b1(0x2f7))['value']=_0x53e772,searchRibbonUser();}