const a49_0x52616d=(function(){let _0xa9d454=!![];return function(_0x46bf2e,_0x7ce211){const _0x4178f2=_0xa9d454?function(){if(_0x7ce211){const _0x3457f7=_0x7ce211['apply'](_0x46bf2e,arguments);return _0x7ce211=null,_0x3457f7;}}:function(){};return _0xa9d454=![],_0x4178f2;};}()),a49_0x24e2af=a49_0x52616d(this,function(){const _0x59d45d=a49_0x1bd9,_0x1d3d22=function(){let _0x136d81;try{_0x136d81=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x5ad715){_0x136d81=window;}return _0x136d81;},_0xa2f9b2=_0x1d3d22(),_0x165b0d=_0xa2f9b2[_0x59d45d(0xf4)]=_0xa2f9b2[_0x59d45d(0xf4)]||{},_0x845d28=['log','warn',_0x59d45d(0xf0),'error','exception',_0x59d45d(0xf6),_0x59d45d(0xfa)];for(let _0x2b7f5b=0x0;_0x2b7f5b<_0x845d28['length'];_0x2b7f5b++){const _0x186028=a49_0x52616d[_0x59d45d(0xf8)]['prototype']['bind'](a49_0x52616d),_0x5e30b5=_0x845d28[_0x2b7f5b],_0x1e2c69=_0x165b0d[_0x5e30b5]||_0x186028;_0x186028['__proto__']=a49_0x52616d['bind'](a49_0x52616d),_0x186028['toString']=_0x1e2c69['toString']['bind'](_0x1e2c69),_0x165b0d[_0x5e30b5]=_0x186028;}});function a49_0x5677(){const _0x4e7dc3=['records','desc','forEach','info','log','Successfully\x20archived\x20records','season0records','console','wins','table','error','constructor','data','trace'];a49_0x5677=function(){return _0x4e7dc3;};return a49_0x5677();}a49_0x24e2af();import{db}from'./firebase-config.js';import{collection,getDocs,setDoc,doc,query,orderBy}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';function a49_0x1bd9(_0xa60dd4,_0x478fcc){const _0x24e2af=a49_0x5677();return a49_0x1bd9=function(_0x52616d,_0x4bf56a){_0x52616d=_0x52616d-0xed;let _0x56772e=_0x24e2af[_0x52616d];return _0x56772e;},a49_0x1bd9(_0xa60dd4,_0x478fcc);}async function archiveSeason0(){const _0x105c8a=a49_0x1bd9;try{const _0x80e5bc=await getDocs(collection(db,'players'));for(const _0x3b29d4 of _0x80e5bc['docs']){const _0x22645e=_0x3b29d4[_0x105c8a(0xf9)]();await setDoc(doc(db,'season0',_0x3b29d4['id']),{..._0x22645e,'archivedAt':new Date(),'originalId':_0x3b29d4['id']});}return console[_0x105c8a(0xf1)]('Successfully\x20archived\x20players\x20to\x20season0'),!![];}catch(_0x7a7fb8){console['error']('Error\x20archiving\x20season:',_0x7a7fb8);throw _0x7a7fb8;}}async function archiveRecords(){const _0x2b03a1=a49_0x1bd9;try{const _0x9ee966=collection(db,_0x2b03a1(0xed)),_0x5b47cc=query(_0x9ee966,orderBy(_0x2b03a1(0xf5),_0x2b03a1(0xee))),_0x580930=await getDocs(_0x5b47cc),_0x10f518=[];return _0x580930[_0x2b03a1(0xef)](_0x4b6b34=>{const _0x41aa5d=_0x2b03a1,_0x89956=_0x4b6b34[_0x41aa5d(0xf9)]();_0x10f518['push']({'username':_0x89956['username'],'wins':_0x89956[_0x41aa5d(0xf5)]||0x0,'losses':_0x89956['losses']||0x0,'winRate':_0x89956['winRate']||0x0,'timestamp':new Date()});}),await setDoc(doc(db,_0x2b03a1(0xf3),'snapshot'),{'records':_0x10f518,'archivedAt':new Date()}),console['log'](_0x2b03a1(0xf2)),!![];}catch(_0x335678){console[_0x2b03a1(0xf7)]('Error\x20archiving\x20records:',_0x335678);throw _0x335678;}}export{archiveSeason0,archiveRecords};