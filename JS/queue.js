const a44_0x1e1af0=(function(){let _0x2946d6=!![];return function(_0x245872,_0xfbe08f){const _0x5630d6=_0x2946d6?function(){const _0x3fee63=a44_0x3f88;if(_0xfbe08f){const _0x1ed7c7=_0xfbe08f[_0x3fee63(0xa7)](_0x245872,arguments);return _0xfbe08f=null,_0x1ed7c7;}}:function(){};return _0x2946d6=![],_0x5630d6;};}()),a44_0x584771=a44_0x1e1af0(this,function(){const _0x598fe0=a44_0x3f88;let _0x2ec48c;try{const _0x28a829=Function('return\x20(function()\x20'+_0x598fe0(0xb4)+');');_0x2ec48c=_0x28a829();}catch(_0x76f1ec){_0x2ec48c=window;}const _0xbeb1d8=_0x2ec48c['console']=_0x2ec48c['console']||{},_0x285e80=['log','warn',_0x598fe0(0xaf),'error','exception','table','trace'];for(let _0x435fb4=0x0;_0x435fb4<_0x285e80['length'];_0x435fb4++){const _0x56ec31=a44_0x1e1af0['constructor'][_0x598fe0(0xa5)]['bind'](a44_0x1e1af0),_0x46b80b=_0x285e80[_0x435fb4],_0x202058=_0xbeb1d8[_0x46b80b]||_0x56ec31;_0x56ec31['__proto__']=a44_0x1e1af0['bind'](a44_0x1e1af0),_0x56ec31['toString']=_0x202058[_0x598fe0(0xb6)]['bind'](_0x202058),_0xbeb1d8[_0x46b80b]=_0x56ec31;}});function a44_0x3f88(_0x3f5f82,_0x147d12){const _0x584771=a44_0x19e7();return a44_0x3f88=function(_0x1e1af0,_0x151360){_0x1e1af0=_0x1e1af0-0xa5;let _0x19e7b7=_0x584771[_0x1e1af0];return _0x19e7b7;},a44_0x3f88(_0x3f5f82,_0x147d12);}a44_0x584771();import{db}from'./firebase-config.js';function a44_0x19e7(){const _0x5e99c3=['prototype','none','apply','isReady','innerHTML','username','error','forEach','length','lastUpdated','info','style','display','Just\x20now','toDate','{}.constructor(\x22return\x20this\x22)(\x20)','Error\x20removing\x20player\x20from\x20queue:','toString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20'];a44_0x19e7=function(){return _0x5e99c3;};return a44_0x19e7();}import{collection,query,where,onSnapshot,updateDoc,doc}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const readyPlayersRef=collection(db,'readyPlayers'),activePlayersQuery=query(readyPlayersRef,where('isReady','==',!![]));function updateQueueDisplay(_0xf049e7){const _0x1bf5dc=a44_0x3f88,_0x40bb40=document['getElementById']('queue-container');if(!_0x40bb40)return;if(_0xf049e7[_0x1bf5dc(0xad)]===0x0){_0x40bb40[_0x1bf5dc(0xb0)]['display']=_0x1bf5dc(0xa6);return;}_0x40bb40[_0x1bf5dc(0xb0)][_0x1bf5dc(0xb1)]='block';let _0x1fa70e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22queue-box\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>Waiting\x20for\x20a\x20game</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22queue-list\x22>\x0a\x20\x20\x20\x20';_0xf049e7[_0x1bf5dc(0xac)](_0x380096=>{const _0x5dc813=_0x1bf5dc;_0x1fa70e+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-card\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-name\x22>'+(_0x380096[_0x5dc813(0xaa)]||'Unknown\x20Player')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22queue-time\x22>'+formatQueueTime(_0x380096[_0x5dc813(0xae)])+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x1fa70e+=_0x1bf5dc(0xb7),_0x40bb40[_0x1bf5dc(0xa9)]=_0x1fa70e;}function formatQueueTime(_0x3997c6){const _0x37b7d8=a44_0x3f88;if(!_0x3997c6)return'Just\x20now';const _0x33c9b3=_0x3997c6[_0x37b7d8(0xb3)]?_0x3997c6['toDate']():new Date(_0x3997c6),_0x48c11e=new Date(),_0x52a946=Math['floor']((_0x48c11e-_0x33c9b3)/0xea60);if(_0x52a946<0x1)return _0x37b7d8(0xb2);return _0x52a946+'m\x20in\x20queue';}async function checkQueueTimeout(_0x2148b9){const _0x53b93e=a44_0x3f88;if(!_0x2148b9['lastUpdated'])return;const _0x479d12=_0x2148b9['lastUpdated']['toDate']?_0x2148b9['lastUpdated'][_0x53b93e(0xb3)]():new Date(_0x2148b9['lastUpdated']),_0x2c0522=new Date(),_0x17a9d5=Math['floor']((_0x2c0522-_0x479d12)/0xea60);if(_0x17a9d5>=0x1e)try{const _0x4b7030=doc(db,'readyPlayers',_0x2148b9['id']);await updateDoc(_0x4b7030,{'isReady':![]});}catch(_0x3686ea){console[_0x53b93e(0xab)](_0x53b93e(0xb5),_0x3686ea);}}const unsubscribe=onSnapshot(readyPlayersRef,_0x6170b0=>{const _0x1bb435=a44_0x3f88,_0x63bd76=[];_0x6170b0[_0x1bb435(0xac)](_0x1c8c06=>{const _0x512a04=_0x1bb435,_0x35ff4b=_0x1c8c06['data']();if(_0x35ff4b[_0x512a04(0xa8)]===!![]){const _0x1c1103={'id':_0x1c8c06['id'],'username':_0x35ff4b[_0x512a04(0xaa)],'lastUpdated':_0x35ff4b['lastUpdated']||new Date()};_0x63bd76['push'](_0x1c1103),checkQueueTimeout(_0x1c1103);}}),updateQueueDisplay(_0x63bd76);},_0x51d5fd=>{const _0x530184=a44_0x3f88;console[_0x530184(0xab)]('Error\x20in\x20queue\x20listener:',_0x51d5fd);});window['addEventListener']('unload',()=>{unsubscribe();});