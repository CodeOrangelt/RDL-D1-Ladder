const a42p=a42b;(function(a,b){const n=a42b,c=a();while(!![]){try{const d=-parseInt(n(0x166))/0x1*(-parseInt(n(0x193))/0x2)+parseInt(n(0x178))/0x3*(parseInt(n(0x16d))/0x4)+parseInt(n(0x15e))/0x5*(parseInt(n(0x17b))/0x6)+-parseInt(n(0x160))/0x7+-parseInt(n(0x188))/0x8+parseInt(n(0x18e))/0x9*(parseInt(n(0x18b))/0xa)+-parseInt(n(0x170))/0xb;if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a42a,0x7a1ab));import{initializeApp}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js';function a42a(){const z=['C3rHDhndB250ywLUzxi','re9nq29UDgvUDeXVywrLza','D2LUCMf0zq','mJK0mJK1mMTmteXICG','DwLK','AgfUzgXLsw1Hz2vvCgXVywq','ntbUqvftse4','CMvZDwX0','zM9YrwfJAa','mtaWoti4n3HwvgntyG','DMfSDwu','CgzWsw5WDxq','zMLSzxm','Bg9HzfbYB2zPBgu','mLb3Dw5ltq','D2LUBMvYu2nVCMu','uhjVzMLSzsbZyxzLzcbZDwnJzxnZzNvSBhKH','C2v0DxbfDMvUDeXPC3rLBMvYCW','zM9YBq','zgf0yq','C3rHDhmTA2q','C3jJ','mtaXotuYnvnrAvHgCa','Bwf0y2HLCW','mtaXndi2nwj3B0HKvq','C3rHDhmTD2LUCMf0zq','zxjYB3i','Dgv4DenVBNrLBNq','zMf2B3jPDguTD2vHCg9U','zMf2B3jPDgvnyxa','mtCXote4zeveAu9K','yxbWCM92zwrnyxrJAgvZ','D2LUCW','C3rHDhmTBwf0y2HLCW','ChjVzMLSzs1WCMv2Awv3','zMf2B3jPDguTBwfW','Bg9ZC2vZ','mtjKteLHBxe','y3vYCMvUDfvZzxi','C3rHDhmTBg9ZC2vZ','mteYnZG5nZf6A1HQtfq','Bg9ZzxjvC2vYBMfTzq','Dg9ju09tDhjPBMC','Dg9gAxHLza','CgzWlxvWBg9Hza','z2v0rwXLBwvUDej5swq','CgzWuhjLDMLLDW','CgzWvxjS','ndKWmdeXu09Zv1nL','BMLJA25HBwu','zxHPC3rZ','mJrduw1pC0e','rxjYB3iGC2f2Aw5NihbYB2zPBgu6','AgfUzgXLu3vIBwL0','Bg9HzfbSyxLLCLn0yxrZ','ChjVzMLSzs1MB3jT','Bw90Dg8','ChjVzMLSzs1WAwn0DxjLCY8','z2v0','CMvHzefZrgf0yvvsta','ywrKrxzLBNrmAxn0zw5LCG'];a42a=function(){return z;};return a42a();}function a42b(a,b){const c=a42a();return a42b=function(d,e){d=d-0x15a;let f=c[d];if(a42b['BIJHut']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a42b['MuWXyj']=g,a=arguments,a42b['BIJHut']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a42b['MuWXyj'](f),a[i]=f):f=j,f;},a42b(a,b);}import{getAuth,onAuthStateChanged}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';import{getFirestore,doc,setDoc,getDoc,collection,getDocs,query,where}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{getStorage,ref,uploadBytes,getDownloadURL}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-storage.js';import{firebaseConfig}from'./firebase-config.js';const app=initializeApp(firebaseConfig),auth=getAuth(app),db=getFirestore(app),storage=getStorage(app);class ProfileManager{constructor(){const o=a42b;this[o(0x15a)]=document[o(0x175)](o(0x17f)),this[o(0x190)]=document['getElementById'](o(0x174)),this['pfpPreview']=document[o(0x175)](o(0x16a)),this[o(0x185)]=document[o(0x175)]('player-stats'),this[o(0x196)](),this[o(0x192)]();}[a42p(0x196)](){const q=a42p;this['pfpInput'][q(0x184)]('change',a=>this['handleImageUpload'](a)),this[q(0x15a)][q(0x184)]('submit',a=>this[q(0x17d)](a));}async[a42p(0x18a)](a){const r=a42p,b=a['target'][r(0x191)][0x0];if(b){const c=new FileReader();c['onload']=d=>{const s=r;this[s(0x176)]['src']=d['target'][s(0x18c)];},c[r(0x183)](b);}}async[a42p(0x17d)](a){const t=a42p;a['preventDefault']();const b=auth[t(0x16e)];if(!b){alert('Please\x20sign\x20in\x20to\x20save\x20your\x20profile');return;}try{const c=new FormData(this[t(0x15a)]),d={'nickname':c[t(0x182)]('nickname'),'motto':c['get']('motto'),'favoriteMap':c['get']('favorite-map'),'favoriteWeapon':c['get'](t(0x164)),'updatedAt':new Date()[t(0x172)]()},e=this['pfpInput']['files'][0x0];if(e){const f=ref(storage,t(0x181)+b['uid']);await uploadBytes(f,e),d[t(0x177)]=await getDownloadURL(f);}await setDoc(doc(db,'profiles',b[t(0x189)]),d),alert(t(0x195));}catch(g){console['error'](t(0x17c),g),alert('Error\x20saving\x20profile.\x20Please\x20try\x20again.');}}async[a42p(0x192)](){onAuthStateChanged(auth,async a=>{const u=a42b;if(a)try{const b=await getDoc(doc(db,'profiles',a['uid']));if(b[u(0x17a)]()){const c=b[u(0x15b)]();document['getElementById'](u(0x179))[u(0x18f)]=c[u(0x179)]||'',document['getElementById'](u(0x180))['value']=c[u(0x180)]||'',document['getElementById'](u(0x16b))[u(0x18f)]=c[u(0x165)]||'',document['getElementById']('favorite-weapon')[u(0x18f)]=c['favoriteWeapon']||'',c['pfpUrl']&&(this[u(0x176)][u(0x15d)]=c['pfpUrl']),await this['loadPlayerStats'](c[u(0x179)]);}}catch(d){console[u(0x162)]('Error\x20loading\x20profile:',d);}});}async[a42p(0x17e)](a){const v=a42p;if(!a)return;try{const b=collection(db,v(0x167)),[c,d]=await Promise['all']([getDocs(query(b,where('winnerUsername','==',a))),getDocs(query(b,where(v(0x171),'==',a)))]),e=c['size'],f=d['size'],g=e+f;let h=0x0,i=0x0;c[v(0x18d)](l=>{const w=v,m=l[w(0x15b)]();if(m[w(0x194)])h+=parseInt(m['winnerScore']);if(m['loserScore'])i+=parseInt(m['loserScore']);}),d['forEach'](l=>{const x=v,m=l[x(0x15b)]();if(m['loserScore'])h+=parseInt(m['loserScore']);if(m['winnerScore'])i+=parseInt(m['winnerScore']);});const j=i===0x0?h[v(0x173)](0x2):(h/ i)[v(0x173)](0x2),k=g===0x0?'0':(e/g*0x64)['toFixed'](0x1);console['log']('Stats\x20calculated:',{'totalMatches':g,'wins':e,'losses':f,'totalKills':h,'totalDeaths':i,'kdRatio':j,'winRate':k}),document[v(0x175)](v(0x169))['textContent']=g,document['getElementById']('stats-wins')[v(0x163)]=e,document[v(0x175)](v(0x16f))['textContent']=f,document['getElementById'](v(0x15c))['textContent']=j,document[v(0x175)](v(0x161))[v(0x163)]=k+'%';}catch(l){console[v(0x162)]('Error\x20loading\x20player\x20stats:',l),[v(0x15f),v(0x168),v(0x16c),'kd',v(0x187)]['forEach'](m=>{const y=v;document[y(0x175)]('stats-'+m)['textContent']='-';});}}}document[a42p(0x184)](a42p(0x186),()=>{new ProfileManager();});