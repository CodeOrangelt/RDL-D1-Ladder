function a32_0x2212(){const _0x39b8b2=['data','error','desc','getDocuments','playersD2','player','Could\x20not\x20find\x20winner\x20or\x20loser\x20in\x20D2\x20players\x20list','__proto__','Error\x20loading\x20D2\x20ladder:','has','username','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22trend-indicator\x22\x20style=\x22margin-left:\x205px;\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','elo','catch','#4CAF50','winRate','approvedMatchesD2','matchId','kda','forEach','toLowerCase','sort','set','includes','position','timestamp','playerUsername','get','wins','loserScore','apply','newElo','country','\x20fallback\x20ELO\x20change:\x20','totalMatches','map','abs','totalKills','userProfiles','trace','gray','previousElo','ceil','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','Emerald','size','Error\x20updating\x20D2\x20player\x20positions:',';\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22elo-container\x22\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22elo-value\x22>','Gold'];a32_0x2212=function(){return _0x39b8b2;};return a32_0x2212();}const a32_0x19e7e5=(function(){let _0x44abdf=!![];return function(_0x8c4f86,_0x144316){const _0x241a68=_0x44abdf?function(){const _0x1fb5ec=a32_0x5846;if(_0x144316){const _0x225d71=_0x144316[_0x1fb5ec(0x206)](_0x8c4f86,arguments);return _0x144316=null,_0x225d71;}}:function(){};return _0x44abdf=![],_0x241a68;};}()),a32_0x3d3d4a=a32_0x19e7e5(this,function(){const _0x39f419=a32_0x5846,_0x559c44=function(){let _0x3c1ba0;try{_0x3c1ba0=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x4007aa){_0x3c1ba0=window;}return _0x3c1ba0;},_0x375a72=_0x559c44(),_0x2fd5b9=_0x375a72['console']=_0x375a72['console']||{},_0x3a0aeb=['log','warn','info',_0x39f419(0x1e9),'exception','table',_0x39f419(0x20f)];for(let _0x179621=0x0;_0x179621<_0x3a0aeb['length'];_0x179621++){const _0x162d0b=a32_0x19e7e5['constructor']['prototype']['bind'](a32_0x19e7e5),_0x2c0c41=_0x3a0aeb[_0x179621],_0xb2ef4f=_0x2fd5b9[_0x2c0c41]||_0x162d0b;_0x162d0b[_0x39f419(0x1ef)]=a32_0x19e7e5['bind'](a32_0x19e7e5),_0x162d0b['toString']=_0xb2ef4f['toString']['bind'](_0xb2ef4f),_0x2fd5b9[_0x2c0c41]=_0x162d0b;}});a32_0x3d3d4a();import{collection,getDocs,deleteDoc,doc,getDoc,query,where,updateDoc,Timestamp,onSnapshot,orderBy,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db}from'./firebase-config.js';import{getRankStyle}from'./ranks.js';import a32_0x33a610 from'./firebase-idle-wrapper.js';const playerCacheD2={'data':null,'timestamp':0x0},CACHE_DURATION=0x7530;async function displayLadderD2(_0x3d0a6b=![]){const _0x5dd62a=a32_0x5846,_0x4505dd=document['querySelector']('#ladder-d2\x20tbody');if(!_0x4505dd){console['error']('D2\x20Ladder\x20table\x20body\x20not\x20found');return;}_0x4505dd['innerHTML']='<tr><td\x20colspan=\x228\x22\x20class=\x22loading-cell\x22>Loading\x20D2\x20ladder\x20data...</td></tr>';try{const _0x8e2f04=Date['now']();if(!_0x3d0a6b&&playerCacheD2['data']&&_0x8e2f04-playerCacheD2['timestamp']<CACHE_DURATION){updateLadderDisplayD2(playerCacheD2['data']);return;}const _0x1e5e89=collection(db,_0x5dd62a(0x1ec)),_0x4eda9d=query(_0x1e5e89,orderBy('position','asc')),_0x4e3893=await a32_0x33a610[_0x5dd62a(0x1eb)](_0x1e5e89),_0x1d7747=[];_0x4e3893['forEach'](_0x14c3d4=>{const _0x499ef0=_0x14c3d4['data']();_0x499ef0['username']&&_0x1d7747['push']({..._0x499ef0,'id':_0x14c3d4['id'],'elo':_0x499ef0['eloRating']||0x0,'position':_0x499ef0['position']||Number['MAX_SAFE_INTEGER']});});const _0x32efd5=collection(db,_0x5dd62a(0x20e)),_0x4121c6=await getDocs(_0x32efd5),_0x4b089c=new Map();_0x4121c6[_0x5dd62a(0x1fb)](_0x5124bd=>{const _0x567491=_0x5dd62a,_0x5006db=_0x5124bd[_0x567491(0x1e8)]();_0x5006db['username']&&_0x4b089c[_0x567491(0x1fe)](_0x5006db['username'][_0x567491(0x1fc)](),_0x5006db);});for(const _0x4f61be of _0x1d7747){const _0x3ae3b8=_0x4f61be['username']['toLowerCase']();if(_0x4b089c['has'](_0x3ae3b8)){const _0x18b312=_0x4b089c[_0x5dd62a(0x203)](_0x3ae3b8);_0x18b312['country']&&(_0x4f61be['country']=_0x18b312['country'][_0x5dd62a(0x1fc)]());}}const _0x346d60=_0x1d7747['map'](_0x14130a=>_0x14130a['username']),_0x4d622e=await fetchBatchMatchStatsD2(_0x346d60);_0x1d7747[_0x5dd62a(0x1fd)]((_0x54b81d,_0x5a6e61)=>{const _0x180b35=_0x5dd62a,_0x270aa5=_0x4d622e['get'](_0x54b81d['username'])?.['totalMatches']||0x0,_0x52e793=_0x4d622e['get'](_0x5a6e61[_0x180b35(0x1f2)])?.['totalMatches']||0x0;if(_0x270aa5===0x0!==(_0x52e793===0x0))return _0x270aa5===0x0?0x1:-0x1;return(_0x54b81d['position']||0x3e7)-(_0x5a6e61['position']||0x3e7);}),_0x1d7747['forEach']((_0x35c194,_0x334f10)=>{_0x35c194['position']=_0x334f10+0x1;}),playerCacheD2['data']=_0x1d7747,playerCacheD2['timestamp']=_0x8e2f04,updateLadderDisplayD2(_0x1d7747);}catch(_0x5085db){console['error'](_0x5dd62a(0x1f0),_0x5085db),_0x4505dd['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x228\x22\x20style=\x22text-align:\x20center;\x20color:\x20red;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20D2\x20ladder\x20data:\x20'+_0x5085db['message']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}function a32_0x5846(_0x592126,_0x1d27b2){const _0x3d3d4a=a32_0x2212();return a32_0x5846=function(_0x19e7e5,_0x46d1b6){_0x19e7e5=_0x19e7e5-0x1e8;let _0x221222=_0x3d3d4a[_0x19e7e5];return _0x221222;},a32_0x5846(_0x592126,_0x1d27b2);}function getNextAvailablePositionD2(_0x5b2587){const _0x20a749=a32_0x5846;if(_0x5b2587['length']===0x0)return 0x1;let _0x41a5a4=0x0;return _0x5b2587[_0x20a749(0x1fb)](_0x41f68e=>{const _0x22f0e4=_0x20a749;_0x41f68e[_0x22f0e4(0x200)]&&typeof _0x41f68e['position']==='number'&&_0x41f68e[_0x22f0e4(0x200)]>_0x41a5a4&&(_0x41a5a4=_0x41f68e['position']);}),_0x41a5a4+0x1;}async function updatePlayerPositions(_0x21fc00,_0x2f8cae){const _0x43791a=a32_0x5846;try{const _0x7bcfee=collection(db,_0x43791a(0x1ec)),_0x1e39d5=await getDocs(_0x7bcfee),_0x460eea=[];_0x1e39d5['forEach'](_0x33bab4=>{const _0x30d953=_0x43791a;_0x460eea['push']({'id':_0x33bab4['id'],..._0x33bab4[_0x30d953(0x1e8)]()});});const _0x3a5dbe=_0x460eea['find'](_0xace5f3=>_0xace5f3['username']===_0x21fc00),_0x129efe=_0x460eea['find'](_0x46484b=>_0x46484b['username']===_0x2f8cae);if(!_0x3a5dbe||!_0x129efe){console[_0x43791a(0x1e9)](_0x43791a(0x1ee));return;}if(_0x3a5dbe['position']>_0x129efe['position']){const _0x411e43=_0x129efe['position'];for(const _0x3f9c58 of _0x460eea){_0x3f9c58['position']>=_0x129efe[_0x43791a(0x200)]&&_0x3f9c58['position']<_0x3a5dbe[_0x43791a(0x200)]&&_0x3f9c58['username']!==_0x21fc00&&await updateDoc(doc(db,_0x43791a(0x1ec),_0x3f9c58['id']),{'position':_0x3f9c58['position']+0x1});}await updateDoc(doc(db,'playersD2',_0x3a5dbe['id']),{'position':_0x411e43});if(_0x411e43===0x1){const _0x3f9d85=doc(db,'playersD2',_0x3a5dbe['id']),_0x5f1756=await getDoc(_0x3f9d85);!_0x5f1756[_0x43791a(0x1e8)]()['firstPlaceDate']&&await updateDoc(_0x3f9d85,{'firstPlaceDate':Timestamp['now']()});}if(_0x129efe['position']===0x1){const _0x3b3263=doc(db,'playersD2',_0x129efe['id']);await updateDoc(_0x3b3263,{'firstPlaceDate':null});}playerCacheD2['timestamp']=0x0;}}catch(_0x5c5cf2){console['error'](_0x43791a(0x216),_0x5c5cf2);}}function calculateStreakDays(_0x258216){const _0x2b4ea1=a32_0x5846;if(!_0x258216)return 0x0;const _0x3e2fc7=_0x258216['toDate'](),_0x42087f=new Date(),_0x5b81d7=Math[_0x2b4ea1(0x20c)](_0x42087f-_0x3e2fc7);return Math[_0x2b4ea1(0x212)](_0x5b81d7/(0x3e8*0x3c*0x3c*0x18));}function getPlayerRankNameD2(_0x5c8a8a){const _0x4ca728=a32_0x5846;if(_0x5c8a8a>=0x834)return _0x4ca728(0x214);if(_0x5c8a8a>=0x708)return _0x4ca728(0x218);if(_0x5c8a8a>=0x640)return'Silver';if(_0x5c8a8a>=0x578)return'Bronze';return'Unranked';}async function updateLadderDisplayD2(_0x4c98ad){const _0x18db91=a32_0x5846;_0x4c98ad[_0x18db91(0x1fd)]((_0x5398c9,_0x2ca9ea)=>_0x5398c9[_0x18db91(0x200)]-_0x2ca9ea['position']);const _0x13ae90=document['querySelector']('#ladder-d2\x20tbody');if(!_0x13ae90)return;_0x13ae90['innerHTML']='';const _0x385f88=_0x4c98ad[_0x18db91(0x20b)](_0x337a47=>_0x337a47['username']),_0x5a3d16=await fetchBatchMatchStatsD2(_0x385f88),_0x32f090=document['querySelector']('#ladder-d2\x20thead\x20tr');_0x32f090&&(_0x32f090['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Rank</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Username</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>ELO</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Matches</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Wins</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Losses</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>K/D</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Win\x20Rate</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');const _0x218ddf=_0x4c98ad['map'](_0x267fd2=>{const _0x2c976a=_0x18db91,_0x7443d4=_0x5a3d16[_0x2c976a(0x203)](_0x267fd2['username'])||{'totalMatches':0x0,'wins':0x0,'losses':0x0,'kda':0x0,'winRate':0x0,'totalKills':0x0,'totalDeaths':0x0};return createPlayerRowD2(_0x267fd2,_0x7443d4);})['join']('');_0x13ae90['innerHTML']=_0x218ddf,getPlayersLastEloChangesD2(_0x385f88)['then'](_0x24157c=>{const _0x4cef28=new Map();_0x13ae90['querySelectorAll']('tr')['forEach']((_0x22cc0d,_0x56fb64)=>{_0x56fb64<_0x385f88['length']&&_0x4cef28['set'](_0x385f88[_0x56fb64],_0x22cc0d);}),_0x24157c['forEach']((_0x19139a,_0x49c8be)=>{const _0x40c607=a32_0x5846,_0xb11ee9=_0x4cef28['get'](_0x49c8be);if(_0xb11ee9&&_0x19139a!==0x0){const _0x5d032e=_0xb11ee9['querySelector']('td:nth-child(3)');if(_0x5d032e){const _0x51cea3=_0x19139a>0x0?'+'+_0x19139a:''+_0x19139a,_0x46e9d0=_0x5d032e['querySelector']('.trend-indicator');_0x46e9d0&&(_0x46e9d0['textContent']=_0x51cea3,_0x46e9d0['style']['color']=_0x19139a>0x0?_0x40c607(0x1f6):'#F44336',_0x46e9d0['style']['fontWeight']='bold',_0x46e9d0['style']['fontSize']='0.85em',_0x46e9d0['style']['display']='inline',_0x46e9d0['style']['visibility']='visible',_0x46e9d0['style']['opacity']='1');}}});})[_0x18db91(0x1f5)](_0x4fd6ff=>console['error']('Error\x20updating\x20D2\x20ELO\x20trend\x20indicators:',_0x4fd6ff));}function createPlayerRowD2(_0x31590f,_0x3d8400){const _0x16820d=a32_0x5846,_0x5e18a4=parseFloat(_0x31590f[_0x16820d(0x1f4)])||0x0;let _0x50f9f0=_0x16820d(0x210);if(_0x5e18a4>=0x7d0)_0x50f9f0='#50C878';else{if(_0x5e18a4>=0x708)_0x50f9f0='#FFD700';else{if(_0x5e18a4>=0x640)_0x50f9f0='#C0C0C0';else _0x5e18a4>=0x578&&(_0x50f9f0='#CD7F32');}}let _0x117ab6='';return _0x31590f['country']&&(_0x117ab6='<img\x20src=\x22../images/flags/'+_0x31590f[_0x16820d(0x208)]['toLowerCase']()+'.png\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22'+_0x31590f['country']+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22player-flag\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22margin-left:\x205px;\x20vertical-align:\x20middle;\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>'),'\x0a\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x31590f[_0x16820d(0x200)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22profile.html?username='+encodeURIComponent(_0x31590f['username'])+'&ladder=d2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22color:\x20'+_0x50f9f0+';\x20text-decoration:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x31590f['username']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x117ab6+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22color:\x20'+_0x50f9f0+_0x16820d(0x217)+_0x5e18a4+_0x16820d(0x1f3)+_0x3d8400[_0x16820d(0x20a)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x3d8400['wins']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x3d8400['losses']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x3d8400['kda']+_0x16820d(0x213)+_0x3d8400[_0x16820d(0x1f7)]+'%</td>\x0a\x20\x20\x20\x20</tr>';}async function getPlayersLastEloChangesD2(_0x57ec62){const _0x12494e=a32_0x5846,_0x30eef3=new Map();_0x57ec62['forEach'](_0xe566bd=>_0x30eef3['set'](_0xe566bd,0x0));try{const _0x301b81=collection(db,'eloHistoryD2'),_0x5e60cd=query(_0x301b81,orderBy('timestamp',_0x12494e(0x1ea)),limit(0x64)),_0x47d915=await getDocs(_0x5e60cd),_0x586652=new Map(),_0x52be54=await getDocs(collection(db,'playersD2'));_0x52be54['forEach'](_0x54e673=>{const _0x2dce5b=_0x12494e,_0x23ccd0=_0x54e673['data']();_0x23ccd0[_0x2dce5b(0x1f2)]&&_0x586652['set'](_0x54e673['id'],_0x23ccd0['username']);});const _0x336391=new Map();_0x47d915['forEach'](_0x15ed98=>{const _0xf109c=_0x12494e,_0x6c4c41=_0x15ed98['data']();let _0x3ab0c4=_0x6c4c41['username']||_0x6c4c41[_0xf109c(0x202)];!_0x3ab0c4&&_0x6c4c41['player']&&_0x586652[_0xf109c(0x1f1)](_0x6c4c41[_0xf109c(0x1ed)])&&(_0x3ab0c4=_0x586652[_0xf109c(0x203)](_0x6c4c41[_0xf109c(0x1ed)]));if(!_0x3ab0c4&&_0x6c4c41[_0xf109c(0x1f9)]){}_0x3ab0c4&&_0x57ec62['includes'](_0x3ab0c4)&&(!_0x336391['has'](_0x3ab0c4)&&_0x336391['set'](_0x3ab0c4,[]),_0x336391['get'](_0x3ab0c4)['push']({..._0x6c4c41,'timestamp':_0x6c4c41[_0xf109c(0x201)]?.['seconds']||0x0,'username':_0x3ab0c4}));}),_0x336391[_0x12494e(0x1fb)]((_0x381bce,_0x36384d)=>{const _0x5a9e6d=_0x12494e;if(_0x381bce['length']>0x0){_0x381bce['sort']((_0x16a468,_0x591e07)=>_0x591e07['timestamp']-_0x16a468['timestamp']);const _0xf90d03=_0x381bce['find'](_0x555016=>_0x555016['change']!==undefined||_0x555016[_0x5a9e6d(0x207)]!==undefined&&_0x555016['previousElo']!==undefined);if(_0xf90d03){let _0xf7407e;if(_0xf90d03['change']!==undefined)_0xf7407e=_0xf90d03['change'];else _0xf90d03['newElo']!==undefined&&_0xf90d03['previousElo']!==undefined&&(_0xf7407e=_0xf90d03['newElo']-_0xf90d03['previousElo']);_0xf7407e!==undefined&&_0x30eef3['set'](_0x36384d,_0xf7407e);}}});if(_0x336391[_0x12494e(0x215)]===0x0){const _0x1092c7=collection(db,'eloHistory'),_0x8babe5=query(_0x1092c7,where('gameMode','==','D2'),orderBy('timestamp',_0x12494e(0x1ea)),limit(0x32));try{const _0x3108d4=await getDocs(_0x8babe5);console['log']('D2:\x20Found',_0x3108d4['size'],'fallback\x20entries'),_0x3108d4['forEach'](_0x3bd171=>{const _0x4a01ed=_0x12494e,_0xf97ff9=_0x3bd171['data'](),_0x2315bb=_0xf97ff9['username']||_0xf97ff9['playerUsername'];if(_0x2315bb&&_0x57ec62[_0x4a01ed(0x1ff)](_0x2315bb)){const _0x3720ce=_0xf97ff9['change']||(_0xf97ff9['newElo']!==undefined&&_0xf97ff9[_0x4a01ed(0x211)]!==undefined?_0xf97ff9['newElo']-_0xf97ff9['previousElo']:0x0);_0x3720ce!==0x0&&(_0x30eef3[_0x4a01ed(0x1fe)](_0x2315bb,_0x3720ce),console['log']('D2:\x20'+_0x2315bb+_0x4a01ed(0x209)+_0x3720ce));}});}catch(_0x757b8f){}}}catch(_0x2b7b1b){console['error']('D2:\x20Error\x20fetching\x20ELO\x20history:',_0x2b7b1b);}return _0x30eef3;}async function fetchBatchMatchStatsD2(_0x5954a4){const _0x4b7003=a32_0x5846,_0x58daf3=new Map();try{_0x5954a4['forEach'](_0x221a53=>{_0x58daf3['set'](_0x221a53,{'totalMatches':0x0,'wins':0x0,'losses':0x0,'totalKills':0x0,'totalDeaths':0x0,'kda':0x0,'winRate':0x0});});const _0x4676f0=collection(db,_0x4b7003(0x1f8)),_0x4699dc=await getDocs(_0x4676f0);_0x4699dc[_0x4b7003(0x1fb)](_0x198f93=>{const _0xbaa51a=_0x4b7003,_0x528af6=_0x198f93[_0xbaa51a(0x1e8)](),_0x4cde62=_0x528af6['winnerUsername'],_0x5e0ff8=_0x528af6['loserUsername'];if(_0x5954a4['includes'](_0x4cde62)){const _0x10b159=_0x58daf3[_0xbaa51a(0x203)](_0x4cde62);_0x10b159['wins']++,_0x10b159[_0xbaa51a(0x20a)]++,_0x10b159['totalKills']+=parseInt(_0x528af6['winnerScore'])||0x0,_0x10b159['totalDeaths']+=parseInt(_0x528af6['loserScore'])||0x0;}if(_0x5954a4[_0xbaa51a(0x1ff)](_0x5e0ff8)){const _0x572375=_0x58daf3['get'](_0x5e0ff8);_0x572375['losses']++,_0x572375['totalMatches']++,_0x572375['totalKills']+=parseInt(_0x528af6[_0xbaa51a(0x205)])||0x0,_0x572375['totalDeaths']+=parseInt(_0x528af6['winnerScore'])||0x0;}}),_0x5954a4[_0x4b7003(0x1fb)](_0x2bf9ce=>{const _0x37dcfb=_0x4b7003,_0xcfcfcc=_0x58daf3['get'](_0x2bf9ce);_0xcfcfcc[_0x37dcfb(0x1fa)]=_0xcfcfcc['totalDeaths']>0x0?(_0xcfcfcc['totalKills']/_0xcfcfcc['totalDeaths'])['toFixed'](0x2):_0xcfcfcc[_0x37dcfb(0x20d)]['toFixed'](0x2),_0xcfcfcc['winRate']=_0xcfcfcc['totalMatches']>0x0?(_0xcfcfcc[_0x37dcfb(0x204)]/_0xcfcfcc['totalMatches']*0x64)['toFixed'](0x1):0x0;});}catch(_0x266d91){console[_0x4b7003(0x1e9)]('Error\x20fetching\x20batch\x20D2\x20match\x20stats:',_0x266d91);}return _0x58daf3;}export{displayLadderD2,updatePlayerPositions};