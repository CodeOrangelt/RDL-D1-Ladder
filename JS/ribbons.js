const a51_0x4a203b=a51_0x5d86,a51_0x459cbf=(function(){let _0x17b89a=!![];return function(_0x194d8b,_0xfd578e){const _0x3f573f=_0x17b89a?function(){const _0x23d5c4=a51_0x5d86;if(_0xfd578e){const _0x5d0945=_0xfd578e[_0x23d5c4(0x163)](_0x194d8b,arguments);return _0xfd578e=null,_0x5d0945;}}:function(){};return _0x17b89a=![],_0x3f573f;};}()),a51_0x42b1c2=a51_0x459cbf(this,function(){const _0x57cdde=a51_0x5d86,_0x978425=function(){let _0x2784ae;try{_0x2784ae=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x1073bc){_0x2784ae=window;}return _0x2784ae;},_0x426ad1=_0x978425(),_0x5b0f24=_0x426ad1['console']=_0x426ad1['console']||{},_0x30e587=['log','warn','info','error','exception','table',_0x57cdde(0x194)];for(let _0x57a826=0x0;_0x57a826<_0x30e587['length'];_0x57a826++){const _0x504c14=a51_0x459cbf['constructor']['prototype']['bind'](a51_0x459cbf),_0x1bebf8=_0x30e587[_0x57a826],_0x3ff66=_0x5b0f24[_0x1bebf8]||_0x504c14;_0x504c14[_0x57cdde(0x184)]=a51_0x459cbf[_0x57cdde(0x1c9)](a51_0x459cbf),_0x504c14['toString']=_0x3ff66['toString'][_0x57cdde(0x1c9)](_0x3ff66),_0x5b0f24[_0x1bebf8]=_0x504c14;}});a51_0x42b1c2();import{auth,db}from'./firebase-config.js';import{doc,getDoc,setDoc,collection,query,where,getDocs,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const RIBBON_DEFINITIONS={'Rematch\x20Ribbon':{'description':'Beat\x20a\x20pilot\x20with\x20the\x20\x22Rematch\x22\x20subgame\x20selected','image':a51_0x4a203b(0x15b),'color':a51_0x4a203b(0x16d)},'Overachiever\x20Ribbon':{'description':'Played\x20over\x20100\x20matches','image':'../images/ribbons/Overachiever.png','color':'#96CEB4','levels':[0x64,0xc8,0x12c,0x190,0x1f4,0x258,0x2bc,0x320,0x384,0x3e8]},'Brick\x20Wall':{'description':'Amass\x20at\x20least\x2080%\x20overall\x20win\x20rate\x20percentage\x20(minimum\x2050\x20matches)','image':'../images/ribbons/BrickWall.png','color':'#F0932B','levels':[0x50,0x55,0x5a,0x5f,0x64]},'Collector\x20Ribbon':{'description':'Hold\x20more\x20than\x205\x20ribbons\x20at\x20a\x20time','image':a51_0x4a203b(0x168),'color':a51_0x4a203b(0x1a0),'levels':[0x5,0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32]},'Sub-Gamer\x20Ribbon':{'description':'Play\x20over\x2050\x20subgame\x20matches','image':a51_0x4a203b(0x15a),'color':'#A29BFE','levels':[0x32,0x64,0x96,0xc8,0xfa,0x12c,0x15e,0x190,0x1c2,0x1f4]},'Explorer\x20Ribbon':{'description':'Played\x20at\x20least\x2020\x20unique\x20maps','image':'../images/ribbons/Explorer.png','color':'#55A3FF','levels':[0x14,0x28,0x3c,0x50,0x64,0x78,0x8c,0xa0,0xb4,0xc8]},'Socialite\x20Ribbon':{'description':a51_0x4a203b(0x18c),'image':'../images/ribbons/Socialite.png','color':'#FF7675','levels':[0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32,0x37]},'Underdog\x20Ribbon':{'description':'Beat\x20a\x20pilot\x20ranked\x20higher\x20than\x20you','image':a51_0x4a203b(0x18a),'color':a51_0x4a203b(0x1ca),'levels':[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0x9,0xa]},'Domination\x20Ribbon':{'description':a51_0x4a203b(0x155),'image':'../images/ribbons/Domination.png','color':a51_0x4a203b(0x178),'levels':[0x1,0x2,0x3,0x4,0x5]},'Top\x20Bronze\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Bronze\x20rank','image':'../images/ribbons/toprank.png','color':'#CD7F32'},'Top\x20Silver\x20Pilot':{'description':a51_0x4a203b(0x199),'image':'../images/ribbons/toprank.png','color':'#C0C0C0'},'Top\x20Gold\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Gold\x20rank','image':'../images/ribbons/toprank.png','color':'#FFD700'},'Top\x20Emerald\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Emerald\x20rank','image':'../images/ribbons/toprank.png','color':'#50C878'}};export const RIBBON_CSS='\x0a/*\x20Stats\x20integration\x20styles\x20*/\x0a.ribbon-section\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-top:\x201rem;\x0a}\x0a\x0a.ribbon-stat-item.full-width\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-bottom:\x200;\x0a}\x0a\x0a/*\x20Military\x20Ribbon\x20Rack\x20Styling\x20-\x20NO\x20OUTER\x20CONTAINER\x20*/\x0a.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20padding:\x200;\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20box-shadow:\x20none;\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20align-items:\x20flex-start;\x0a}\x0a\x0a.ribbon-rack-empty-inline\x20{\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20padding:\x2060px\x2040px;\x0a\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20border-radius:\x2012px;\x0a\x20\x20\x20\x20border:\x202px\x20solid\x20rgba(255,\x20255,\x20255,\x200.1);\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a}\x0a\x0a.empty-rack-text\x20{\x0a\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20font-style:\x20italic;\x0a\x20\x20\x20\x20font-size:\x201.2rem;\x0a}\x0a\x0a/*\x20Ribbon\x20Rows\x20*/\x0a.ribbon-row\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x206px;\x0a\x20\x20\x20\x20margin-bottom:\x206px;\x0a\x20\x20\x20\x20justify-content:\x20flex-start;\x0a}\x0a\x0a.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20margin-left:\x2060px;\x0a}\x0a\x0a/*\x20Individual\x20Military\x20Ribbon\x20Styling\x20-\x20FIXED\x20OVERFLOW\x20FOR\x20LEVEL\x20INDICATOR\x20*/\x0a.military-ribbon\x20{\x0a\x20\x20\x20\x20position:\x20relative;\x0a\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20transition:\x20transform\x200.3s\x20ease;\x0a\x20\x20\x20\x20flex-shrink:\x200;\x0a\x20\x20\x20\x20width:\x20190px;\x0a\x20\x20\x20\x20height:\x2060px;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#333;\x0a\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20overflow:\x20visible;\x20/*\x20Changed\x20from\x20hidden\x20to\x20visible\x20*/\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20margin:\x2012px\x2012px\x2012px\x200;\x20/*\x20Added\x20margin\x20to\x20prevent\x20clipping\x20*/\x0a}\x0a\x0a.military-ribbon:hover\x20{\x0a\x20\x20\x20\x20transform:\x20translateY(-4px);\x0a\x20\x20\x20\x20z-index:\x2010;\x0a}\x0a\x0a/*\x20Ribbon\x20image\x20container\x20to\x20handle\x20the\x20actual\x20overflow\x20*/\x0a.ribbon-image-container\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20border-radius:\x201px;\x0a}\x0a\x0a.ribbon-image\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20object-fit:\x20cover;\x0a\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20image-rendering:\x20crisp-edges;\x0a}\x0a\x0a.ribbon-fallback\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20text-shadow:\x200\x202px\x204px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a}\x0a\x0a.ribbon-name\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.9);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201.2;\x0a\x20\x20\x20\x20margin-top:\x206px;\x0a\x20\x20\x20\x20max-width:\x20120px;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20text-overflow:\x20ellipsis;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20-24px;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20font-weight:\x20500;\x0a}\x0a\x0a.military-ribbon:hover\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20display:\x20block;\x0a}\x0a\x0a.ribbon-devices\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x2050%;\x0a\x20\x20\x20\x20right:\x206px;\x0a\x20\x20\x20\x20transform:\x20translateY(-50%);\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x203px;\x0a\x20\x20\x20\x20z-index:\x205;\x0a}\x0a\x0a.ribbon-device\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20text-shadow:\x200\x200\x204px\x20rgba(0,0,0,0.9);\x0a\x20\x20\x20\x20filter:\x20drop-shadow(0\x202px\x204px\x20rgba(0,0,0,0.8));\x0a}\x0a\x0a.bronze-star\x20{\x0a\x20\x20\x20\x20color:\x20#CD7F32;\x0a}\x0a\x0a.silver-star\x20{\x0a\x20\x20\x20\x20color:\x20#C0C0C0;\x0a}\x0a\x0a.gold-star\x20{\x0a\x20\x20\x20\x20color:\x20#FFD700;\x0a}\x0a\x0a/*\x20Level\x20indicator\x20-\x20NOW\x20FULLY\x20VISIBLE\x20*/\x0a.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x20-8px;\x0a\x20\x20\x20\x20right:\x20-8px;\x0a\x20\x20\x20\x20background:\x20#FFD700;\x0a\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20width:\x2024px;\x0a\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#FFF;\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x208px\x20rgba(0,0,0,0.7);\x0a\x20\x20\x20\x20z-index:\x206;\x0a}\x0a\x0a/*\x20Custom\x20tooltip\x20-\x20only\x20this\x20one\x20will\x20show\x20*/\x0a.military-ribbon::before\x20{\x0a\x20\x20\x20\x20content:\x20attr(data-tooltip);\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20100%;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20background:\x20rgba(0,0,0,0.95);\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20padding:\x208px\x2012px;\x0a\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20pointer-events:\x20none;\x0a\x20\x20\x20\x20transition:\x20opacity\x200.3s;\x0a\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20margin-bottom:\x208px;\x0a\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(255,\x20255,\x20255,\x200.2);\x0a}\x0a\x0a.military-ribbon:hover::before\x20{\x0a\x20\x20\x20\x20opacity:\x201;\x0a}\x0a\x0a/*\x20Responsive\x20adjustments\x20*/\x0a@media\x20(max-width:\x201024px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2034px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x208px\x208px\x208px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-6px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-6px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2052px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-20px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20768px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2028px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x206px\x206px\x206px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x209px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-5px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-5px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2042px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2011px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-18px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x205px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20480px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2070px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x205px\x205px\x205px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2036px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x204px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-4px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-4px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a.stats-grid\x20.ribbon-section\x20{\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20padding:\x200;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20{\x0a\x20\x20\x20\x20background-color:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20padding:\x2025px;\x0a\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20.stat-label\x20{\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20text-transform:\x20uppercase;\x0a\x20\x20\x20\x20opacity:\x200.9;\x0a\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.95);\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a}\x0a\x0a.ribbon-level-indicator.level-1\x20{\x20background:\x20#808080;\x20}\x0a.ribbon-level-indicator.level-2\x20{\x20background:\x20#CD7F32;\x20}\x0a.ribbon-level-indicator.level-3\x20{\x20background:\x20#b9f1fc;\x20}\x0a.ribbon-level-indicator.level-4\x20{\x20background:\x20#FFD700;\x20}\x0a.ribbon-level-indicator.level-5-plus\x20{\x20background:\x20#50C878;\x20}\x0a';class RibbonCacheManager{constructor(){const _0x587600=a51_0x4a203b;this[_0x587600(0x19b)]=new Map(),this['CACHE_DURATION']=0x3c*0x3c*0x3e8,this['CACHE_KEY_PREFIX']=_0x587600(0x1cb),this['lastCleanup']=Date['now'](),this[_0x587600(0x182)]=0x1e*0x3c*0x3e8;}['getCacheKey'](_0x15da8a,_0x19277f){const _0x354844=a51_0x4a203b;return''+this[_0x354844(0x173)]+_0x15da8a+'_'+_0x19277f;}[a51_0x4a203b(0x18d)](_0x46f370,_0x2c16d6){const _0x226979=a51_0x4a203b;this[_0x226979(0x1b5)]();const _0x1665f0=this['getCacheKey'](_0x46f370,_0x2c16d6);if(this['memoryCache']['has'](_0x1665f0)){const _0x34eef5=this['memoryCache'][_0x226979(0x180)](_0x1665f0);if(Date[_0x226979(0x1be)]()-_0x34eef5['timestamp']<this[_0x226979(0x1cf)])return console[_0x226979(0x1bb)]('🚀\x20Cache\x20hit\x20(memory)\x20for\x20'+_0x46f370),_0x34eef5['data'];this[_0x226979(0x19b)]['delete'](_0x1665f0);}const _0xf85baf=localStorage[_0x226979(0x17b)](_0x1665f0);if(_0xf85baf)try{const _0x90021c=JSON[_0x226979(0x16c)](_0xf85baf);if(Date[_0x226979(0x1be)]()-_0x90021c['timestamp']<this['CACHE_DURATION'])return this['memoryCache']['set'](_0x1665f0,{'data':_0x90021c['ribbons'],'timestamp':_0x90021c['timestamp'],'matchCount':_0x90021c['matchCount']}),console['log']('💾\x20Cache\x20hit\x20(localStorage)\x20for\x20'+_0x46f370),_0x90021c['ribbons'];localStorage[_0x226979(0x166)](_0x1665f0);}catch(_0x511ea3){localStorage[_0x226979(0x166)](_0x1665f0);}return null;}['setCachedData'](_0x1bca6b,_0xd7bb3e,_0x2f39b9,_0x3c570e){const _0x1ec99c=a51_0x4a203b,_0x3a2c9f=this['getCacheKey'](_0x1bca6b,_0xd7bb3e),_0x5a1676=Date['now']();this['memoryCache'][_0x1ec99c(0x1bc)](_0x3a2c9f,{'data':_0x2f39b9,'timestamp':_0x5a1676,'matchCount':_0x3c570e});try{const _0x3dbbb3={'ribbons':_0x2f39b9,'matchCount':_0x3c570e,'timestamp':_0x5a1676,'version':0x3};localStorage[_0x1ec99c(0x1ab)](_0x3a2c9f,JSON['stringify'](_0x3dbbb3));}catch(_0x529a3c){this[_0x1ec99c(0x17e)]();try{localStorage['setItem'](_0x3a2c9f,JSON['stringify'](data));}catch(_0x140c97){}}}['shouldRefreshCache'](_0x330b99,_0x33445b,_0x196959){const _0xd22c1f=a51_0x4a203b,_0x3d3cdb=this['getCacheKey'](_0x330b99,_0x33445b);if(this[_0xd22c1f(0x19b)]['has'](_0x3d3cdb)){const _0x3c5fc0=this['memoryCache'][_0xd22c1f(0x180)](_0x3d3cdb);return _0x3c5fc0['matchCount']!==_0x196959;}const _0x268f31=localStorage['getItem'](_0x3d3cdb);if(_0x268f31)try{const _0xc42bde=JSON['parse'](_0x268f31);return _0xc42bde['matchCount']!==_0x196959;}catch(_0x47b130){return!![];}return!![];}['invalidatePlayerCache'](_0x2ec85e,_0x6ce590){const _0x5d8314=a51_0x4a203b,_0x3f0b25=this['getCacheKey'](_0x2ec85e,_0x6ce590);this['memoryCache']['delete'](_0x3f0b25),localStorage['removeItem'](_0x3f0b25),console[_0x5d8314(0x1bb)]('🗑️\x20Invalidated\x20cache\x20for\x20'+_0x2ec85e+'\x20('+_0x6ce590+_0x5d8314(0x193));}[a51_0x4a203b(0x1b5)](){const _0x5e6b1e=a51_0x4a203b,_0x4eb814=Date[_0x5e6b1e(0x1be)]();_0x4eb814-this['lastCleanup']>this[_0x5e6b1e(0x182)]&&(this['cleanup'](),this['lastCleanup']=_0x4eb814);}[a51_0x4a203b(0x196)](){const _0x54bd88=a51_0x4a203b,_0x14adff=Date['now']();let _0x32388f=0x0,_0x3bc475=0x0;for(const [_0x3b0e44,_0x5148de]of this[_0x54bd88(0x19b)]['entries']()){_0x14adff-_0x5148de['timestamp']>this['CACHE_DURATION']&&(this['memoryCache'][_0x54bd88(0x1ac)](_0x3b0e44),_0x32388f++);}for(let _0x2faee1=localStorage['length']-0x1;_0x2faee1>=0x0;_0x2faee1--){const _0x3ad1b8=localStorage[_0x54bd88(0x185)](_0x2faee1);if(_0x3ad1b8&&_0x3ad1b8['startsWith'](this[_0x54bd88(0x173)]))try{const _0x192762=JSON[_0x54bd88(0x16c)](localStorage['getItem'](_0x3ad1b8));_0x14adff-_0x192762[_0x54bd88(0x1b6)]>this['CACHE_DURATION']&&(localStorage['removeItem'](_0x3ad1b8),_0x3bc475++);}catch(_0xabb4fd){localStorage[_0x54bd88(0x166)](_0x3ad1b8),_0x3bc475++;}}}['clearOldCache'](){const _0x36792f=a51_0x4a203b,_0xf9fe4e=[];for(let _0x4b1469=0x0;_0x4b1469<localStorage[_0x36792f(0x152)];_0x4b1469++){const _0x4be37d=localStorage[_0x36792f(0x185)](_0x4b1469);if(_0x4be37d&&_0x4be37d['startsWith'](this['CACHE_KEY_PREFIX']))try{const _0x43d2c8=JSON['parse'](localStorage['getItem'](_0x4be37d));_0xf9fe4e['push']({'key':_0x4be37d,'timestamp':_0x43d2c8['timestamp']});}catch(_0x90e97d){localStorage['removeItem'](_0x4be37d);}}_0xf9fe4e['sort']((_0x139032,_0x24a54d)=>_0x139032['timestamp']-_0x24a54d['timestamp']);const _0x3b915f=Math['floor'](_0xf9fe4e[_0x36792f(0x152)]/0x2);for(let _0x29aa39=0x0;_0x29aa39<_0x3b915f;_0x29aa39++){localStorage['removeItem'](_0xf9fe4e[_0x29aa39]['key']);}}['getCacheStats'](){const _0x376e12=a51_0x4a203b;return{'memoryEntries':this['memoryCache']['size'],'lastCleanup':new Date(this['lastCleanup'])[_0x376e12(0x191)]()};}}class MatchCacheManager{constructor(){const _0x1c8fa4=a51_0x4a203b;this['matchCache']=new Map(),this[_0x1c8fa4(0x1cf)]=0xf*0x3c*0x3e8,this['lastCleanup']=Date[_0x1c8fa4(0x1be)]();}['getCachedMatches'](_0x21d9cc,_0x3fee2a){const _0x5a7927=a51_0x4a203b;this[_0x5a7927(0x1b5)]();const _0xc8336d=_0x21d9cc+'_'+_0x3fee2a,_0x45ecb6=this['matchCache']['get'](_0xc8336d);if(_0x45ecb6&&Date['now']()-_0x45ecb6[_0x5a7927(0x1b6)]<this['CACHE_DURATION'])return console['log'](_0x5a7927(0x18e)+_0x21d9cc),_0x45ecb6['matches'];return _0x45ecb6&&this['matchCache'][_0x5a7927(0x1ac)](_0xc8336d),null;}['setCachedMatches'](_0x181c1d,_0x178ee9,_0x3cbf23){const _0x199ec9=_0x181c1d+'_'+_0x178ee9;this['matchCache']['set'](_0x199ec9,{'matches':_0x3cbf23,'timestamp':Date['now']()});}['autoCleanup'](){const _0x5cfb0d=a51_0x4a203b,_0x8b29e6=Date['now']();if(_0x8b29e6-this['lastCleanup']>0x5*0x3c*0x3e8){let _0x46b668=0x0;for(const [_0x4c4a7d,_0x22bc3c]of this['matchCache']['entries']()){_0x8b29e6-_0x22bc3c[_0x5cfb0d(0x1b6)]>this[_0x5cfb0d(0x1cf)]&&(this[_0x5cfb0d(0x187)]['delete'](_0x4c4a7d),_0x46b668++);}this['lastCleanup']=_0x8b29e6;}}['getCacheStats'](){return{'entries':this['matchCache']['size'],'lastCleanup':new Date(this['lastCleanup'])['toLocaleTimeString']()};}}function a51_0x5d86(_0x10f31a,_0x59be66){const _0x42b1c2=a51_0x5e72();return a51_0x5d86=function(_0x459cbf,_0x30d317){_0x459cbf=_0x459cbf-0x151;let _0x5e7225=_0x42b1c2[_0x459cbf];return _0x5e7225;},a51_0x5d86(_0x10f31a,_0x59be66);}class RibbonSystem{constructor(){const _0x5516af=a51_0x4a203b;this['pendingEvaluations']=new Map(),this[_0x5516af(0x15c)]=null,this[_0x5516af(0x170)]=0x32,this['playerDataCache']=new Map();}async['bulkLoadPlayerData'](_0x44f94b,_0x58805d){const _0x54da57=a51_0x4a203b,_0x374d4e=_0x58805d==='D1'?'players':_0x58805d==='D2'?'playersD2':'playersD3',_0x4853cb=collection(db,_0x374d4e),_0x43a6ef=await getDocs(_0x4853cb),_0x2eed97=new Map();return _0x43a6ef['forEach'](_0x465e4e=>{const _0x22a7c9=a51_0x5d86,_0x40def6=_0x465e4e[_0x22a7c9(0x189)]();_0x40def6['username']&&(_0x40def6['eloRating']!==undefined&&(_0x40def6[_0x22a7c9(0x1bf)]=_0x40def6['eloRating']),_0x2eed97['set'](_0x40def6['username'],_0x40def6));}),console['log']('📊\x20Bulk\x20loaded\x20'+_0x2eed97[_0x54da57(0x1b7)]+'\x20players\x20from\x20'+_0x374d4e),_0x2eed97;}async[a51_0x4a203b(0x1ba)](_0x432979,_0x3d8bc0,_0x1ed558,_0x336c56){const _0x49649d=a51_0x4a203b,_0x5b1d7e={},_0x53b1f6=_0x3d8bc0[_0x49649d(0x16b)],_0x477d8e={'totalMatches':_0x432979[_0x49649d(0x152)],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0,'dominatedRanks':new Set()},_0x8b2b05=new Set();_0x432979['forEach'](_0x366b5e=>{const _0x55b117=_0x49649d,_0x1860e8=_0x366b5e['winnerUsername']===_0x53b1f6,_0x25456a=_0x1860e8?_0x366b5e[_0x55b117(0x186)]:_0x366b5e['winnerUsername'];if(_0x25456a)_0x8b2b05['add'](_0x25456a);}),console[_0x49649d(0x1bb)]('🚀\x20Bulk\x20loading\x20'+_0x8b2b05['size']+'\x20player\x20records\x20for\x20underdog\x20calculations...');const _0x5c3e5e=await this['bulkLoadPlayerData']([..._0x8b2b05,_0x53b1f6],_0x336c56),_0x36aede=_0x5c3e5e['get'](_0x53b1f6);!_0x36aede&&console[_0x49649d(0x1bb)]('⚠️\x20No\x20current\x20player\x20data\x20found\x20for\x20'+_0x53b1f6);const _0x71ff22={0x0:new Set(),0x1:new Set(),0x2:new Set(),0x3:new Set(),0x4:new Set()};_0x432979['forEach'](_0x28caa6=>{const _0x565ef5=_0x49649d,_0x5b8166=_0x28caa6['winnerUsername']===_0x53b1f6,_0x28ecba=_0x5b8166?_0x28caa6['loserUsername']:_0x28caa6[_0x565ef5(0x18b)];if(_0x5b8166){_0x477d8e[_0x565ef5(0x190)]++;_0x28caa6['subgameType']==='Rematch'&&_0x477d8e['rematchWins']++;this['isUnderdogVictoryFast'](_0x28caa6,_0x53b1f6,_0x36aede,_0x5c3e5e)&&_0x477d8e['underdogWins']++;const _0x3d58f9=_0x5c3e5e[_0x565ef5(0x180)](_0x28ecba);if(_0x3d58f9){const _0xfac924=_0x3d58f9['eloRating']||0x0,_0x2228ce=getPlayerRankTier(_0xfac924);_0x71ff22[_0x2228ce][_0x565ef5(0x1a4)](_0x28ecba);}}_0x28caa6['subgameType']&&_0x28caa6[_0x565ef5(0x19f)]!==_0x565ef5(0x15f)&&_0x477d8e['subgameMatches']++,_0x28caa6[_0x565ef5(0x1af)]&&_0x477d8e['uniqueMaps']['add'](_0x28caa6['mapPlayed']),_0x28ecba&&_0x477d8e['uniqueOpponents']['add'](_0x28ecba);}),Object['keys'](_0x71ff22)['forEach'](_0x58e019=>{_0x71ff22[_0x58e019]['size']>=0x5&&_0x477d8e['dominatedRanks']['add'](parseInt(_0x58e019));}),console[_0x49649d(0x1bb)](_0x49649d(0x157)+_0x477d8e['underdogWins']+'\x20underdog\x20victories\x20for\x20'+_0x53b1f6),console['log']('👑\x20Dominated\x20'+_0x477d8e['dominatedRanks']['size']+'\x20ranks:\x20['+Array['from'](_0x477d8e['dominatedRanks'])[_0x49649d(0x176)](_0x5e4564=>getRankTierName(_0x5e4564))['join'](',\x20')+']');const _0x4cf242=_0x477d8e['totalMatches']>0x0?_0x477d8e[_0x49649d(0x190)]/_0x477d8e['totalMatches']*0x64:0x0,_0x26028d=[['Overachiever\x20Ribbon',this['evaluateOverachieverRibbonFromCount'](_0x477d8e['totalMatches'],_0x1ed558)],['Rematch\x20Ribbon',this['evaluateRematchRibbonFromCount'](_0x477d8e[_0x49649d(0x195)],_0x1ed558)],[_0x49649d(0x1bd),this['evaluateSubGamerRibbonFromCount'](_0x477d8e['subgameMatches'],_0x1ed558)],['Explorer\x20Ribbon',this['evaluateExplorerRibbonFromCount'](_0x477d8e[_0x49649d(0x1c4)][_0x49649d(0x1b7)],_0x1ed558)],['Socialite\x20Ribbon',this['evaluateSocialiteRibbonFromCount'](_0x477d8e[_0x49649d(0x165)]['size'],_0x1ed558)],['Brick\x20Wall',this['evaluateBrickWallRibbonFromWinRate'](_0x4cf242,_0x1ed558,_0x477d8e[_0x49649d(0x17d)])],['Underdog\x20Ribbon',this[_0x49649d(0x1c2)](_0x477d8e['underdogWins'],_0x1ed558)],[_0x49649d(0x1b3),this['evaluateDominationRibbonFromRanks'](_0x477d8e['dominatedRanks'][_0x49649d(0x1b7)],_0x1ed558)]];_0x26028d[_0x49649d(0x19d)](([_0x4a6b98,_0x1ff3bc])=>{_0x1ff3bc&&(_0x5b1d7e[_0x4a6b98]=_0x1ff3bc);});const _0xb25d91=Object['keys'](_0x1ed558)[_0x49649d(0x152)]+Object['keys'](_0x5b1d7e)[_0x49649d(0x152)],_0x52687b=this['evaluateCollectorRibbonFromCount'](_0xb25d91,_0x1ed558);return _0x52687b&&(_0x5b1d7e['Collector\x20Ribbon']=_0x52687b),_0x5b1d7e;}[a51_0x4a203b(0x1c1)](_0x26e963,_0x105be6){const _0x380aba=a51_0x4a203b;if(_0x26e963===0x0)return null;const _0x5de33b=_0x105be6['Domination\x20Ribbon']||{'level':0x0};if(_0x26e963>_0x5de33b[_0x380aba(0x16a)]){const _0x49d919=[];for(let _0x5cbc13=0x0;_0x5cbc13<_0x26e963;_0x5cbc13++){_0x49d919[_0x380aba(0x175)](getRankTierName(_0x5cbc13));}return console['log']('👑\x20Domination\x20Ribbon\x20awarded:\x20Level\x20'+_0x5de33b['level']+'\x20→\x20'+_0x26e963+'\x20(Dominated:\x20'+_0x49d919['join'](',\x20')+')'),{'level':_0x26e963,'awardedAt':new Date(),'dominatedRanks':_0x49d919};}return null;}async[a51_0x4a203b(0x167)](_0x5e4cdf,_0x5f5754){const _0x1a0201=a51_0x4a203b;try{const _0x5a7cfe=_0x5f5754==='D1'?'players':_0x5f5754==='D2'?_0x1a0201(0x158):_0x1a0201(0x188),_0x504301=await this['getPlayerDataCached'](_0x5e4cdf,_0x5f5754);if(!_0x504301||_0x504301[_0x1a0201(0x16f)]===undefined)return console['log'](_0x1a0201(0x161)+_0x5e4cdf),null;const _0x1c9664=_0x504301[_0x1a0201(0x16f)],_0x302ab6=getPlayerRankTier(_0x1c9664),_0x6da0fb=getRankTierName(_0x302ab6);if(_0x6da0fb==='Unranked')return console['log']('❌\x20'+_0x5e4cdf+'\x20is\x20Unranked\x20('+_0x1c9664+'\x20ELO)'),null;console['log']('🔍\x20Checking\x20Top\x20'+_0x6da0fb+_0x1a0201(0x1ce)+_0x5e4cdf+'\x20('+_0x1c9664+'\x20ELO)');const _0x3204dc=collection(db,_0x5a7cfe),_0xf73d96=await getDocs(_0x3204dc);let _0x4fa7b0=null,_0x4c7b48=-0x1,_0x5a9cb4=0x0;_0xf73d96['forEach'](_0x2a82e0=>{const _0x27777b=_0x1a0201,_0x43592d=_0x2a82e0['data'](),_0x2fcb84=_0x43592d[_0x27777b(0x16f)]||0x0,_0x12cc86=getPlayerRankTier(_0x2fcb84);_0x12cc86===_0x302ab6&&(_0x5a9cb4++,_0x2fcb84>_0x4c7b48&&(_0x4c7b48=_0x2fcb84,_0x4fa7b0=_0x43592d['username']));});const _0x4e2782=_0x4fa7b0===_0x5e4cdf;return console[_0x1a0201(0x1bb)]('📊\x20'+_0x6da0fb+'\x20Tier:\x20'+_0x5a9cb4+_0x1a0201(0x17f)+_0x4fa7b0+'\x20('+_0x4c7b48+'\x20ELO),\x20'+_0x5e4cdf+'\x20is\x20#1:\x20'+_0x4e2782),_0x4e2782?_0x6da0fb:null;}catch(_0x4e887e){return console['error'](_0x1a0201(0x1a8),_0x4e887e),null;}}async['evaluateTopRankRibbon'](_0x4e9826,_0x1c4367,_0x2bfa84){const _0x5cdc0e=a51_0x4a203b,_0x13a494=await this['checkTopRankStatus'](_0x4e9826,_0x1c4367),_0x1461f5={};if(_0x13a494){const _0x42bd93='Top\x20'+_0x13a494+'\x20Pilot';if(RIBBON_DEFINITIONS[_0x42bd93]){const _0xfc11f9=_0x2bfa84[_0x42bd93];!_0xfc11f9?(console['log']('👑\x20NEW\x20Top\x20Rank\x20Achievement:\x20'+_0x4e9826+_0x5cdc0e(0x1b2)+_0x42bd93+'!'),_0x1461f5[_0x42bd93]={'level':0x1,'awardedAt':new Date(),'rank':_0x13a494,'achievedAt':new Date()}):console['log']('✅\x20'+_0x4e9826+'\x20already\x20has\x20'+_0x42bd93+_0x5cdc0e(0x1c5));}}return Object['keys'](_0x2bfa84)['forEach'](_0x2908ff=>{const _0x4757ae=_0x5cdc0e;_0x2908ff[_0x4757ae(0x1c8)]('Top\x20')&&_0x2908ff['endsWith']('\x20Pilot')&&(!_0x1461f5[_0x2908ff]&&console['log']('✅\x20Preserving\x20existing\x20'+_0x2908ff));}),_0x1461f5;}async[a51_0x4a203b(0x1b8)](_0x4df2fe,_0xd768e9='D1'){const _0x35e47f=a51_0x4a203b;try{const _0x37f024=ribbonCache[_0x35e47f(0x18d)](_0x4df2fe,_0xd768e9);if(_0x37f024){const _0x2e0a52=await this['evaluateTopRankRibbon'](_0x4df2fe,_0xd768e9,_0x37f024);if(Object['keys'](_0x2e0a52)[_0x35e47f(0x152)]>0x0){console[_0x35e47f(0x1bb)]('🆕\x20New\x20top\x20rank\x20achievements\x20found\x20for\x20cached\x20player\x20'+_0x4df2fe),await this['savePlayerRibbonsOptimized'](_0x4df2fe,_0x2e0a52,_0xd768e9);const _0x1d1939={..._0x37f024,..._0x2e0a52};return ribbonCache[_0x35e47f(0x198)](_0x4df2fe,_0xd768e9,_0x1d1939,0x0),_0x1d1939;}return _0x37f024;}const [_0x14b445,_0x3b70cd]=await Promise['all']([this['getPlayerDataCached'](_0x4df2fe,_0xd768e9),this['getPlayerRibbonsCached'](_0x4df2fe,_0xd768e9)]);if(!_0x14b445)return{};const _0x2d97bb=_0x14b445['matchesPlayed']||0x0,_0x9b46c4=await this['evaluateTopRankRibbon'](_0x4df2fe,_0xd768e9,_0x3b70cd);if(!ribbonCache[_0x35e47f(0x19e)](_0x4df2fe,_0xd768e9,_0x2d97bb)){if(Object['keys'](_0x9b46c4)[_0x35e47f(0x152)]>0x0){await this['savePlayerRibbonsOptimized'](_0x4df2fe,_0x9b46c4,_0xd768e9);const _0x286ef6={..._0x3b70cd,..._0x9b46c4};return ribbonCache['setCachedData'](_0x4df2fe,_0xd768e9,_0x286ef6,_0x2d97bb),_0x286ef6;}return ribbonCache['setCachedData'](_0x4df2fe,_0xd768e9,_0x3b70cd,_0x2d97bb),_0x3b70cd;}const _0x460e71=await this[_0x35e47f(0x171)](_0x4df2fe,_0xd768e9),_0x457ad2=await this['evaluateAllRibbonsFromData'](_0x460e71,_0x14b445,_0x3b70cd,_0xd768e9);Object['assign'](_0x457ad2,_0x9b46c4);Object['keys'](_0x457ad2)['length']>0x0&&(console['log'](_0x35e47f(0x19a)+Object['keys'](_0x457ad2)[_0x35e47f(0x152)]+'\x20new/updated\x20ribbons\x20for\x20'+_0x4df2fe),await this['savePlayerRibbonsOptimized'](_0x4df2fe,_0x457ad2,_0xd768e9));const _0x5e7c37={..._0x3b70cd,..._0x457ad2};return ribbonCache[_0x35e47f(0x198)](_0x4df2fe,_0xd768e9,_0x5e7c37,_0x460e71[_0x35e47f(0x152)]),_0x5e7c37;}catch(_0x4a4ad3){return console[_0x35e47f(0x160)]('❌\x20Error\x20in\x20ribbon\x20evaluation:',_0x4a4ad3),{};}}async['isUnderdogVictory'](_0x28fa96,_0x16839b,_0x5758e8){const _0x311a96=a51_0x4a203b,_0x4aca39=_0x28fa96['winnerUsername']===_0x16839b;if(!_0x4aca39)return![];const _0x13e912=_0x28fa96['loserUsername'],[_0x2edc22,_0x48ddaa]=await Promise['all']([this['getPlayerDataCached'](_0x16839b,_0x5758e8),this['getPlayerDataCached'](_0x13e912,_0x5758e8)]);if(!_0x2edc22||!_0x48ddaa)return console[_0x311a96(0x1bb)]('⚠️\x20Missing\x20player\x20data\x20for\x20'+_0x16839b+'\x20or\x20'+_0x13e912),![];const _0x53e5aa=_0x2edc22['eloRating']||0x0,_0x15947a=_0x48ddaa[_0x311a96(0x16f)]||0x0,_0x636f14=getPlayerRankTier(_0x53e5aa),_0x1a402=getPlayerRankTier(_0x15947a);console['log']('🔍\x20Checking\x20underdog:\x20Winner('+_0x16839b+'):\x20'+_0x53e5aa+'\x20ELO\x20('+getRankTierName(_0x636f14)+')\x20vs\x20Loser('+_0x13e912+_0x311a96(0x15e)+_0x15947a+_0x311a96(0x183)+getRankTierName(_0x1a402)+')');if(_0x1a402>_0x636f14)return console[_0x311a96(0x1bb)]('🎯\x20UNDERDOG\x20VICTORY:\x20'+getRankTierName(_0x636f14)+_0x311a96(0x1b4)+getRankTierName(_0x1a402)+'!'),!![];return console['log']('❌\x20Not\x20underdog:\x20'+getRankTierName(_0x636f14)+_0x311a96(0x162)+getRankTierName(_0x1a402)),![];}['isUnderdogVictoryFast'](_0x66988e,_0x444a2d,_0x442440,_0x9c70a0){const _0x166f17=a51_0x4a203b,_0x41ba79=_0x66988e['winnerUsername']===_0x444a2d;if(!_0x41ba79)return![];const _0x22f73c=_0x66988e[_0x166f17(0x186)],_0x1ea8a1=_0x9c70a0['get'](_0x22f73c);if(!_0x442440||!_0x1ea8a1)return![];const _0x4210be=_0x442440['eloRating']||0x0,_0x4db7d3=_0x1ea8a1['eloRating']||0x0,_0x8710fe=getPlayerRankTier(_0x4210be),_0x4e844d=getPlayerRankTier(_0x4db7d3);if(_0x4e844d>_0x8710fe)return console[_0x166f17(0x1bb)]('🎯\x20UNDERDOG:\x20'+getRankTierName(_0x8710fe)+'('+_0x4210be+_0x166f17(0x1a3)+getRankTierName(_0x4e844d)+'('+_0x4db7d3+')'),!![];return![];}async['evaluateAllRibbonsFromData'](_0x45b4ad,_0x5033fc,_0x1d32e2,_0xbda30a){const _0x413487=a51_0x4a203b,_0x3b98d5={},_0x587035=_0x5033fc['username'],_0xea3fbc={'totalMatches':_0x45b4ad[_0x413487(0x152)],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0},_0x311c92=new Set();_0x45b4ad['forEach'](_0x209af6=>{const _0x3bf8d0=_0x413487,_0x472f3e=_0x209af6[_0x3bf8d0(0x18b)]===_0x587035,_0x4f7560=_0x472f3e?_0x209af6[_0x3bf8d0(0x186)]:_0x209af6['winnerUsername'];if(_0x4f7560)_0x311c92[_0x3bf8d0(0x1a4)](_0x4f7560);}),console[_0x413487(0x1bb)]('🚀\x20Bulk\x20loading\x20'+_0x311c92[_0x413487(0x1b7)]+'\x20player\x20records\x20for\x20underdog\x20calculations...');const _0x212164=await this['bulkLoadPlayerData']([..._0x311c92,_0x587035],_0xbda30a),_0x3aa8e7=_0x212164['get'](_0x587035);!_0x3aa8e7&&console['log'](_0x413487(0x156)+_0x587035);_0x45b4ad[_0x413487(0x19d)](_0x285bb9=>{const _0x104a66=_0x413487,_0xb6fd0a=_0x285bb9[_0x104a66(0x18b)]===_0x587035,_0x5ab7d3=_0xb6fd0a?_0x285bb9['loserUsername']:_0x285bb9[_0x104a66(0x18b)];_0xb6fd0a&&(_0xea3fbc[_0x104a66(0x190)]++,_0x285bb9[_0x104a66(0x19f)]==='Rematch'&&_0xea3fbc[_0x104a66(0x195)]++,this['isUnderdogVictoryFast'](_0x285bb9,_0x587035,_0x3aa8e7,_0x212164)&&_0xea3fbc['underdogWins']++),_0x285bb9['subgameType']&&_0x285bb9['subgameType']!=='Standard'&&_0xea3fbc['subgameMatches']++,_0x285bb9['mapPlayed']&&_0xea3fbc['uniqueMaps']['add'](_0x285bb9[_0x104a66(0x1af)]),_0x5ab7d3&&_0xea3fbc['uniqueOpponents'][_0x104a66(0x1a4)](_0x5ab7d3);}),console['log']('🎯\x20Found\x20'+_0xea3fbc[_0x413487(0x1b1)]+_0x413487(0x1b0)+_0x587035);const _0x2443fa=_0xea3fbc['totalMatches']>0x0?_0xea3fbc['wins']/_0xea3fbc['totalMatches']*0x64:0x0,_0x215a68=[['Overachiever\x20Ribbon',this[_0x413487(0x1a2)](_0xea3fbc['totalMatches'],_0x1d32e2)],['Rematch\x20Ribbon',this['evaluateRematchRibbonFromCount'](_0xea3fbc[_0x413487(0x195)],_0x1d32e2)],['Sub-Gamer\x20Ribbon',this['evaluateSubGamerRibbonFromCount'](_0xea3fbc[_0x413487(0x164)],_0x1d32e2)],['Explorer\x20Ribbon',this['evaluateExplorerRibbonFromCount'](_0xea3fbc[_0x413487(0x1c4)]['size'],_0x1d32e2)],['Socialite\x20Ribbon',this['evaluateSocialiteRibbonFromCount'](_0xea3fbc['uniqueOpponents'][_0x413487(0x1b7)],_0x1d32e2)],['Brick\x20Wall',this['evaluateBrickWallRibbonFromWinRate'](_0x2443fa,_0x1d32e2,_0xea3fbc['totalMatches'])],[_0x413487(0x1c0),this[_0x413487(0x1c2)](_0xea3fbc['underdogWins'],_0x1d32e2)]];_0x215a68[_0x413487(0x19d)](([_0x359a8f,_0x31501f])=>{_0x31501f&&(_0x3b98d5[_0x359a8f]=_0x31501f);});const _0x158cf1=Object['keys'](_0x1d32e2)['length']+Object['keys'](_0x3b98d5)['length'],_0x3800d7=this['evaluateCollectorRibbonFromCount'](_0x158cf1,_0x1d32e2);return _0x3800d7&&(_0x3b98d5['Collector\x20Ribbon']=_0x3800d7),_0x3b98d5;}async['getPlayerMatchesOptimized'](_0x96c4ff,_0x1fbef1){const _0x1c8d83=a51_0x4a203b,_0x5583c4=matchCache[_0x1c8d83(0x1c3)](_0x96c4ff,_0x1fbef1);if(_0x5583c4)return _0x5583c4;try{const _0x877c26=_0x1fbef1==='D1'?'approvedMatches':_0x1fbef1==='D2'?'approvedMatchesD2':'approvedMatchesD3',_0x5aea16=collection(db,_0x877c26),[_0x281401,_0x5ebb5e]=await Promise['all']([getDocs(query(_0x5aea16,where(_0x1c8d83(0x18b),'==',_0x96c4ff))),getDocs(query(_0x5aea16,where('loserUsername','==',_0x96c4ff)))]),_0xae3dc1=new Set(),_0x45f0e8=[];return _0x281401[_0x1c8d83(0x19d)](_0x2ccc81=>{if(!_0xae3dc1['has'](_0x2ccc81['id'])){_0xae3dc1['add'](_0x2ccc81['id']);const _0x267b53={'id':_0x2ccc81['id'],..._0x2ccc81['data']()};if(!_0x267b53['winnerRating'])_0x267b53['winnerRating']=0x0;if(!_0x267b53['loserRating'])_0x267b53['loserRating']=0x0;_0x45f0e8['push'](_0x267b53);}}),_0x5ebb5e['forEach'](_0x38509b=>{const _0x4382d2=_0x1c8d83;if(!_0xae3dc1['has'](_0x38509b['id'])){_0xae3dc1['add'](_0x38509b['id']);const _0x5aaa49={'id':_0x38509b['id'],..._0x38509b['data']()};if(!_0x5aaa49['winnerRating'])_0x5aaa49['winnerRating']=0x0;if(!_0x5aaa49[_0x4382d2(0x177)])_0x5aaa49['loserRating']=0x0;_0x45f0e8[_0x4382d2(0x175)](_0x5aaa49);}}),matchCache[_0x1c8d83(0x1b9)](_0x96c4ff,_0x1fbef1,_0x45f0e8),_0x45f0e8;}catch(_0x36659e){return console['error'](_0x1c8d83(0x154),_0x36659e),[];}}async['getPlayerDataCached'](_0x5a8aac,_0x17b008){const _0xe7676a=a51_0x4a203b;try{const _0x2de965=_0x17b008==='D1'?'players':_0x17b008==='D2'?_0xe7676a(0x158):_0xe7676a(0x188),_0x5dcd20=collection(db,_0x2de965),_0x2a9607=query(_0x5dcd20,where(_0xe7676a(0x16b),'==',_0x5a8aac),limit(0x1)),_0x2164b6=await getDocs(_0x2a9607);if(_0x2164b6[_0xe7676a(0x17a)])return console[_0xe7676a(0x1bb)]('❌\x20No\x20player\x20data\x20found\x20for\x20'+_0x5a8aac+_0xe7676a(0x16e)+_0x2de965),null;const _0x512806=_0x2164b6['docs'][0x0]['data']();return _0x512806[_0xe7676a(0x16f)]!==undefined&&(_0x512806['rating']=_0x512806[_0xe7676a(0x16f)]),console['log']('✅\x20Found\x20player\x20data\x20for\x20'+_0x5a8aac+_0xe7676a(0x159)+_0x512806['eloRating']+',\x20Position\x20'+_0x512806['position']),_0x512806;}catch(_0x55b110){return console['error']('Error\x20getting\x20player\x20data\x20for\x20'+_0x5a8aac+':',_0x55b110),null;}}async[a51_0x4a203b(0x1a7)](_0x520517,_0x528d16){const _0x18d58c=a51_0x4a203b;try{const _0x45de47=_0x18d58c(0x197)+(_0x528d16==='D1'?'':_0x528d16),_0x18d9fe=doc(db,_0x45de47,_0x520517),_0x2ec434=await getDoc(_0x18d9fe);return _0x2ec434[_0x18d58c(0x1c7)]()?_0x2ec434[_0x18d58c(0x189)]()['ribbons']||{}:{};}catch(_0x4ce0f1){return console['error']('Error\x20getting\x20player\x20ribbons:',_0x4ce0f1),{};}}async['savePlayerRibbonsOptimized'](_0x381944,_0x1011c0,_0x32d2e8){const _0x113492=a51_0x4a203b;try{const _0x36d52d='playerRibbons'+(_0x32d2e8==='D1'?'':_0x32d2e8),_0x709667=doc(db,_0x36d52d,_0x381944),_0x26fb96=await this[_0x113492(0x1a7)](_0x381944,_0x32d2e8),_0x3c6b95={..._0x26fb96,..._0x1011c0};await setDoc(_0x709667,{'username':_0x381944,'ladder':_0x32d2e8,'ribbons':_0x3c6b95,'lastUpdated':new Date()},{'merge':!![]});}catch(_0x1b45a9){console['error']('Error\x20saving\x20ribbons:',_0x1b45a9);}}[a51_0x4a203b(0x1a2)](_0x30f283,_0x15cb9a){const _0x1237dd=_0x15cb9a['Overachiever\x20Ribbon']||{'level':0x0},_0xff105e=RIBBON_DEFINITIONS['Overachiever\x20Ribbon']['levels'],_0x93a0d5=_0xff105e['findIndex'](_0x15b2e6=>_0x30f283<_0x15b2e6),_0xcfa368=_0x93a0d5===-0x1?_0xff105e['length']:_0x93a0d5;if(_0xcfa368>_0x1237dd['level'])return{'level':_0xcfa368,'awardedAt':new Date()};return null;}[a51_0x4a203b(0x169)](_0xf0fb65,_0x29a830){if(_0xf0fb65===0x0)return null;const _0x10c95f=_0x29a830['Rematch\x20Ribbon']||{'level':0x0};if(_0xf0fb65>_0x10c95f['level'])return{'level':_0xf0fb65,'awardedAt':new Date()};return null;}['evaluateSubGamerRibbonFromCount'](_0x3d4380,_0x290609){const _0x3679d5=_0x290609['Sub-Gamer\x20Ribbon']||{'level':0x0},_0x15c6eb=RIBBON_DEFINITIONS['Sub-Gamer\x20Ribbon']['levels'],_0x2e4bff=_0x15c6eb['findIndex'](_0xe5ce70=>_0x3d4380<_0xe5ce70),_0x4b88c3=_0x2e4bff===-0x1?_0x15c6eb['length']:_0x2e4bff;if(_0x4b88c3>_0x3679d5['level'])return{'level':_0x4b88c3,'awardedAt':new Date()};return null;}['evaluateExplorerRibbonFromCount'](_0x4766f6,_0x183add){const _0x29d5aa=a51_0x4a203b,_0x39d4ac=_0x183add['Explorer\x20Ribbon']||{'level':0x0},_0x3a123b=RIBBON_DEFINITIONS['Explorer\x20Ribbon']['levels'],_0x272764=_0x3a123b['findIndex'](_0x31eab5=>_0x4766f6<_0x31eab5),_0x3181a3=_0x272764===-0x1?_0x3a123b[_0x29d5aa(0x152)]:_0x272764;if(_0x3181a3>_0x39d4ac[_0x29d5aa(0x16a)])return{'level':_0x3181a3,'awardedAt':new Date()};return null;}['evaluateSocialiteRibbonFromCount'](_0x17ffbe,_0x2b2285){const _0x377892=a51_0x4a203b,_0x361553=_0x2b2285['Socialite\x20Ribbon']||{'level':0x0},_0x2dea72=RIBBON_DEFINITIONS['Socialite\x20Ribbon'][_0x377892(0x153)],_0x16162a=_0x2dea72['findIndex'](_0x548ca1=>_0x17ffbe<_0x548ca1),_0x33856c=_0x16162a===-0x1?_0x2dea72['length']:_0x16162a;if(_0x33856c>_0x361553['level'])return{'level':_0x33856c,'awardedAt':new Date()};return null;}['evaluateBrickWallRibbonFromWinRate'](_0x403bac,_0x4f013b,_0x5050e9){const _0x5290af=a51_0x4a203b;if(_0x5050e9<0x32)return console['log']('⚠️\x20Brick\x20Wall\x20ribbon\x20requires\x2050+\x20matches\x20(player\x20has\x20'+_0x5050e9+')'),null;const _0x536821=_0x4f013b['Brick\x20Wall']||{'level':0x0},_0x1f866e=RIBBON_DEFINITIONS['Brick\x20Wall']['levels'],_0x1a2aab=_0x1f866e['findIndex'](_0x4c0dd3=>_0x403bac<_0x4c0dd3),_0x14ed4b=_0x1a2aab===-0x1?_0x1f866e['length']:_0x1a2aab;if(_0x14ed4b>_0x536821['level'])return console['log'](_0x5290af(0x174)+_0x403bac[_0x5290af(0x1a1)](0x1)+'%\x20win\x20rate\x20over\x20'+_0x5050e9+'\x20matches'),{'level':_0x14ed4b,'awardedAt':new Date(),'winRate':_0x403bac,'matchesPlayed':_0x5050e9};return null;}[a51_0x4a203b(0x1aa)](_0xdb0d7f,_0x3d2288){const _0x3c7b2a=a51_0x4a203b,_0x4233bd=_0x3d2288['Collector\x20Ribbon']||{'level':0x0},_0x50687d=RIBBON_DEFINITIONS['Collector\x20Ribbon'][_0x3c7b2a(0x153)],_0x3966b1=_0x50687d[_0x3c7b2a(0x1ad)](_0x4ec847=>_0xdb0d7f<_0x4ec847),_0x3939fb=_0x3966b1===-0x1?_0x50687d['length']:_0x3966b1;if(_0x3939fb>_0x4233bd['level'])return{'level':_0x3939fb,'awardedAt':new Date()};return null;}['evaluateUnderdogRibbonFromCount'](_0x47c8f8,_0x3eedcc){const _0x1de7f5=a51_0x4a203b;if(_0x47c8f8===0x0)return null;const _0x4f0d22=_0x3eedcc['Underdog\x20Ribbon']||{'level':0x0},_0x17b16b=RIBBON_DEFINITIONS[_0x1de7f5(0x1c0)]['levels'];let _0x528022=0x0;for(let _0x37b7cf=0x0;_0x37b7cf<_0x17b16b['length'];_0x37b7cf++){if(_0x47c8f8>=_0x17b16b[_0x37b7cf])_0x528022=_0x37b7cf+0x1;else break;}if(_0x528022>_0x4f0d22['level'])return console['log'](_0x1de7f5(0x179)+_0x4f0d22['level']+'\x20→\x20'+_0x528022+'\x20('+_0x47c8f8+'\x20underdog\x20wins)'),{'level':_0x528022,'awardedAt':new Date()};return null;}}function getPlayerRankTier(_0x207fd5){if(_0x207fd5===undefined||_0x207fd5===null)return 0x0;const _0x1f3211=Number(_0x207fd5);if(isNaN(_0x1f3211))return 0x0;if(_0x1f3211>=0x7d0)return 0x4;if(_0x1f3211>=0x708)return 0x3;if(_0x1f3211>=0x640)return 0x2;if(_0x1f3211>=0x578)return 0x1;return 0x0;}function getRankTierName(_0x3e8352){const _0x5a659b=['Unranked','Bronze','Silver','Gold','Emerald'];return _0x5a659b[_0x3e8352]||'Unranked';}const ribbonSystem=new RibbonSystem(),ribbonCache=new RibbonCacheManager(),matchCache=new MatchCacheManager();function a51_0x5e72(){const _0x2084bf=['level-2','length','levels','❌\x20Error\x20fetching\x20matches:','Beat\x205\x20unique\x20pilots\x20in\x20a\x20rank\x20(including\x20your\x20own)','⚠️\x20No\x20current\x20player\x20data\x20found\x20for\x20','🎯\x20Found\x20','playersD2',':\x20ELO\x20','../images/ribbons/Subgamer.png','../images/ribbons/Rematch.png','batchTimer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22military-ribbon\x22\x20data-tooltip=\x22','):\x20','Standard','error','❌\x20No\x20ELO\x20rating\x20data\x20for\x20','\x20vs\x20','apply','subgameMatches','uniqueOpponents','removeItem','checkTopRankStatus','../images/ribbons/Collector.png','evaluateRematchRibbonFromCount','level','username','parse','#FF6B6B','\x20in\x20','eloRating','BATCH_DELAY','getPlayerMatchesOptimized','getRibbonCacheStats','CACHE_KEY_PREFIX','🏆\x20Brick\x20Wall\x20ribbon\x20awarded:\x20','push','map','loserRating','#8E44AD','🏆\x20Underdog\x20Ribbon\x20upgrade:\x20Level\x20','empty','getItem','getCacheStats','totalMatches','clearOldCache','\x20players,\x20Top:\x20','get','</div>','CLEANUP_INTERVAL','\x20ELO\x20(','__proto__','key','loserUsername','matchCache','playersD3','data','../images/ribbons/Underdog.png','winnerUsername','Played\x20at\x20least\x2010\x20unique\x20pilots','getCachedData','🎯\x20Cache\x20hit\x20(matches)\x20for\x20','<div\x20class=\x22ribbon-devices\x22>','wins','toLocaleTimeString','\x20-\x20Level\x20',')\x20-\x20new\x20match\x20detected','trace','rematchWins','cleanup','playerRibbons','setCachedData','Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Silver\x20rank','💾\x20Saving\x20','memoryCache','join','forEach','shouldRefreshCache','subgameType','#6C5CE7','toFixed','evaluateOverachieverRibbonFromCount',')\x20beat\x20','add','level-5-plus','substring','getPlayerRibbonsCached','Error\x20checking\x20top\x20rank\x20status:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-name\x22>','evaluateCollectorRibbonFromCount','setItem','delete','findIndex','\x20Badge','mapPlayed','\x20underdog\x20victories\x20for\x20','underdogWins','\x20earned\x20','Domination\x20Ribbon','\x20beat\x20','autoCleanup','timestamp','size','evaluateAllRibbonsForPlayerOptimized','setCachedMatches','evaluateAllRibbonsFromData','log','set','Sub-Gamer\x20Ribbon','now','rating','Underdog\x20Ribbon','evaluateDominationRibbonFromRanks','evaluateUnderdogRibbonFromCount','getCachedMatches','uniqueMaps','\x20-\x20No\x20changes\x20needed',';\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','exists','startsWith','bind','#FF9500','ribbon_cache_','<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>','min','\x20status\x20for\x20','CACHE_DURATION'];a51_0x5e72=function(){return _0x2084bf;};return a51_0x5e72();}typeof window!=='undefined'&&(window[a51_0x4a203b(0x172)]=()=>{const _0x5b59a9=a51_0x4a203b;return{'ribbon':ribbonCache['getCacheStats'](),'match':matchCache[_0x5b59a9(0x17c)]()};});export async function evaluatePlayerRibbons(_0x116ac1,_0x1e2812='D1'){return await ribbonSystem['evaluateAllRibbonsForPlayerOptimized'](_0x116ac1,_0x1e2812);}export function getRibbonHTML(_0x2928cf,_0x10db81){const _0x41e915=a51_0x4a203b,_0x497153=RIBBON_DEFINITIONS[_0x2928cf];if(!_0x497153)return'';const _0x5dbca7=_0x10db81['level']||0x1,_0x2eda00=_0x2928cf['replace']('\x20Ribbon','')['replace'](_0x41e915(0x1ae),''),_0x57688a=_0x4cc336=>{const _0x4f981e=_0x41e915;if(_0x4cc336<=0x1)return'level-1';if(_0x4cc336<=0x2)return _0x4f981e(0x151);if(_0x4cc336<=0x3)return'level-3';if(_0x4cc336<=0x4)return'level-4';return _0x4f981e(0x1a5);},_0x371a96=_0x43e378=>{const _0x38bf2b=_0x41e915;if(_0x43e378<=0x1)return'';const _0x53334c=[];if(_0x43e378>=0x2&&_0x43e378<=0x4){const _0x368da3=Math['min'](_0x43e378-0x1,0x3);for(let _0x580063=0x0;_0x580063<_0x368da3;_0x580063++){_0x53334c[_0x38bf2b(0x175)](_0x38bf2b(0x1cc));}}if(_0x43e378>=0x5&&_0x43e378<=0x7){_0x53334c['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20silver-star\x22></i>');const _0x2a5582=Math[_0x38bf2b(0x1cd)](_0x43e378-0x5,0x2);for(let _0x38efef=0x0;_0x38efef<_0x2a5582;_0x38efef++){_0x53334c['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>');}}return _0x43e378>=0x8&&_0x53334c[_0x38bf2b(0x175)]('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20gold-star\x22></i>'),_0x53334c['length']>0x0?_0x38bf2b(0x18f)+_0x53334c[_0x38bf2b(0x19c)]('')+'</div>':'';},_0x4e6fc4=_0x497153['description']+_0x41e915(0x192)+_0x5dbca7;return _0x41e915(0x15d)+_0x4e6fc4+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-image-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22'+_0x497153['image']+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22'+_0x2928cf+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22ribbon-image\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27;\x20this.nextElementSibling.style.display=\x27block\x27;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-fallback\x22\x20style=\x22display:\x20none;\x20background:\x20'+_0x497153['color']+_0x41e915(0x1c6)+_0x2eda00[_0x41e915(0x1a6)](0x0,0x6)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x371a96(_0x5dbca7)+_0x41e915(0x1a9)+_0x2eda00+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5dbca7>0x1?'<div\x20class=\x22ribbon-level-indicator\x20'+_0x57688a(_0x5dbca7)+'\x22>'+_0x5dbca7+_0x41e915(0x181):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}