const a6_0x24b1bc=a6_0xf575,a6_0x141028=(function(){let _0x4301a2=!![];return function(_0x36b4e0,_0xd97bf){const _0x5d1a79=_0x4301a2?function(){const _0x2afad1=a6_0xf575;if(_0xd97bf){const _0x5554de=_0xd97bf[_0x2afad1(0x1fa)](_0x36b4e0,arguments);return _0xd97bf=null,_0x5554de;}}:function(){};return _0x4301a2=![],_0x5d1a79;};}()),a6_0x2b510a=a6_0x141028(this,function(){const _0x407ff1=a6_0xf575;let _0x43d267;try{const _0x2e026f=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x43d267=_0x2e026f();}catch(_0x2d502a){_0x43d267=window;}const _0x300c27=_0x43d267[_0x407ff1(0x1ba)]=_0x43d267['console']||{},_0x3213e4=[_0x407ff1(0x20b),'warn','info',_0x407ff1(0x21a),'exception','table','trace'];for(let _0x3c2477=0x0;_0x3c2477<_0x3213e4[_0x407ff1(0x1cb)];_0x3c2477++){const _0x112fcb=a6_0x141028[_0x407ff1(0x184)][_0x407ff1(0x1a4)]['bind'](a6_0x141028),_0x34d662=_0x3213e4[_0x3c2477],_0x3f7d3d=_0x300c27[_0x34d662]||_0x112fcb;_0x112fcb['__proto__']=a6_0x141028['bind'](a6_0x141028),_0x112fcb['toString']=_0x3f7d3d[_0x407ff1(0x1c4)][_0x407ff1(0x22c)](_0x3f7d3d),_0x300c27[_0x34d662]=_0x112fcb;}});a6_0x2b510a();import{collection,getDocs,addDoc,query,orderBy,limit,startAfter,Timestamp,serverTimestamp,getDoc,doc,where,deleteDoc}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const mutedUsers=[{'username':a6_0x24b1bc(0x1e3),'muteFromDate':new Date(a6_0x24b1bc(0x224))['getTime']()}];function isUsernameMuted(_0x2567cf,_0x2cb5cf){const _0x144dab=a6_0x24b1bc;if(!_0x2567cf)return![];const _0x1cfa99=mutedUsers['find'](_0x39f0b9=>_0x39f0b9['username']===_0x2567cf);if(!_0x1cfa99)return![];if(!_0x2cb5cf)return!![];const _0x336f43=_0x2cb5cf instanceof Date?_0x2cb5cf['getTime']():_0x2cb5cf['seconds']?_0x2cb5cf['seconds']*0x3e8:Date[_0x144dab(0x218)]();return _0x336f43>=_0x1cfa99['muteFromDate'];}function filterComment(_0x438021,_0x592e63,_0x3d0a67){const _0x1a440d=a6_0x24b1bc;if(!_0x438021)return'-';if(isUsernameMuted(_0x592e63,_0x3d0a67))return _0x1a440d(0x1cc);return _0x438021;}const previewState={'currentMode':'D1','currentPage':0x1,'matchesPerPage':0x5,'lastVisible':null,'firstVisible':null,'isLoading':![],'filterUsername':'','enhancedFilters':{'pilots':'','levels':'','subgames':[]},'totalPages':0x1,'hasReachedEnd':![]};function getCacheKey(_0x707365,_0x341976,_0x32a638){const _0x5f33c7=a6_0x24b1bc,_0x422573='u:'+(_0x32a638['filterUsername']||'');return _0x5f33c7(0x1bc)+_0x707365+'_p'+_0x341976+'_'+_0x422573;}function getCachedPage(_0x19de5f){const _0x3d1971=a6_0x24b1bc,_0x2115ad=sessionStorage[_0x3d1971(0x172)](_0x19de5f);if(_0x2115ad)try{return JSON['parse'](_0x2115ad);}catch(_0x4e4230){return console['error'](_0x3d1971(0x20a),_0x4e4230),sessionStorage['removeItem'](_0x19de5f),null;}return null;}function cachePage(_0x70446e,_0x4221a5){try{sessionStorage['setItem'](_0x70446e,JSON['stringify'](_0x4221a5));}catch(_0x3cff91){console['error']('Failed\x20to\x20cache\x20data:',_0x3cff91);}}function getEloColor(_0x4e9ee7){const _0x421744=a6_0x24b1bc,_0x2a7b61=Number(_0x4e9ee7);if(_0x2a7b61>=0x7d0)return'#50C878';else{if(_0x2a7b61>=0x708)return _0x421744(0x1e7);else{if(_0x2a7b61>=0x640)return _0x421744(0x19e);else{if(_0x2a7b61>=0x578)return _0x421744(0x1b9);else return'#808080';}}}}function formatDate(_0xfd0ce6,_0x4faaa7=![]){const _0x483550=a6_0x24b1bc;if(!_0xfd0ce6||!_0xfd0ce6['seconds'])return _0x483550(0x1cf);const _0x10a53e=new Date(_0xfd0ce6['seconds']*0x3e8);return _0x4faaa7?_0x10a53e[_0x483550(0x1e0)]():_0x10a53e['toLocaleDateString']();}function truncateComment(_0xd4a85f,_0x148a37=0x1e){const _0x2e682f=a6_0x24b1bc;if(!_0xd4a85f)return'-';if(_0xd4a85f[_0x2e682f(0x1cb)]<=_0x148a37)return _0xd4a85f;return _0xd4a85f['substring'](0x0,_0x148a37)+'...';}function formatCommentDate(_0x5d6ef8){const _0x43b3b3=a6_0x24b1bc;if(!_0x5d6ef8||!_0x5d6ef8['seconds'])return'';const _0x4f6d80=new Date(_0x5d6ef8['seconds']*0x3e8),_0x9d976c=new Date(),_0x297afc=Math['abs'](_0x9d976c-_0x4f6d80),_0x5c4273=Math['floor'](_0x297afc/(0x3e8*0x3c*0x3c*0x18));if(_0x5c4273===0x0)return'Today';else{if(_0x5c4273===0x1)return _0x43b3b3(0x1fd);else return _0x5c4273<0x7?_0x5c4273+'\x20days\x20ago':_0x4f6d80['toLocaleDateString']();}}function setLoadingIndicator(_0x732717){const _0x20c027=a6_0x24b1bc,_0x3bcfb6=document['getElementById']('loading-indicator');if(_0x3bcfb6)_0x3bcfb6[_0x20c027(0x21d)][_0x20c027(0x1c3)]=_0x732717?'block':'none';}function a6_0x5ad2(){const _0xa1d777=['submit','getItem','closest','add','No\x20valid\x20cursor,\x20fetching\x20from\x20beginning\x20and\x20skipping\x20pages','.player.loser\x20.player-suicides','levels','previewPrevPage','slice','current','loserUsername','firstChild','enhancedFilters','You\x20must\x20be\x20signed\x20in\x20to\x20leave\x20a\x20comment','input','approvedMatchesD3','preview-ladder-mode','missiles-6plus','value','constructor','commentAddPopup','none','filterUsername','Comment\x20deleted\x20successfully','required','.match-card','.no-comments-message','Failed\x20to\x20fetch\x20username:','You\x20need\x20to\x20be\x20signed\x20in\x20to\x20report\x20comments','querySelector','block','previewNextPage','keypress','type','prev','Clearing\x20cache\x20for\x20refresh/reset','Unknown','currentMode','pilots','<div\x20class=\x22matches-loading\x22>No\x20recent\x20matches\x20found','.winner-demo-link','demo-link','className','\x20from\x20cache','active','#b9f1fc','click','reportCommentButton','.player.loser\x20.player-score','Failed\x20to\x20add\x20comment:\x20','match-card-template','prototype','toLowerCase','Anonymous','remove','\x20matching\x20filters','opacity','.popup-actions','lastVisible','Error\x20deleting\x20comment:','wordCount','onclick','ratting','username','filter-toggle-button','<div\x20class=\x22matches-loading\x22\x20style=\x22color:\x20red;\x22>Error\x20loading\x20matches:\x20','comment','message','map','commentText','Comments\x20section\x20not\x20found\x20in\x20template','disabled','#CD7F32','console','Error\x20submitting:','previewCache_','winnerUsername','color','0.6','innerHTML','</small>','auth','display','toString','Please\x20enter\x20a\x20comment\x20before\x20submitting','currentPage','Error\x20submitting\x20comment:','querySelectorAll','filter-subgames','getElementById','length','Muted.','recent-matches-preview','.matches-loading[style*=\x22color:\x20red\x22]','N/A','classList','.add-comment-btn','loserSuicides','closeAddCommentPopup','firstVisible','from','dataset','max','<div\x20class=\x22matches-loading\x22>No\x20matches\x20found\x20matching\x20current\x20filters.</div>','data','badComments','removeAttribute','push','removeItem','weapon-imbalance','default','toLocaleString','timestamp','includes','Daz','No\x20results\x20found\x20for\x20this\x20page','uid','Comment\x20added\x20successfully','#FFD700','Failed\x20to\x20delete\x20comment:\x20','preventDefault','Loser','displayName','exists','Cache\x20miss\x20for\x20page\x20','split','Submit','commentUser','loserOldElo','createElement','addEventListener','<div\x20class=\x22matches-loading\x22>Loading\x20recent\x20matches...</div>','winnerDemoLink','matchId','.option-content','.community-comments-section','subgameType','apply','desc','body','Yesterday','clear-enhanced-filters','gold','div','subgames','currentUser','button','next','commentPopupPreview','comment-popup','removeChild','parentNode','commentPopupTitlePreview','Failed\x20to\x20parse\x20cache:','log','toggle','trim','matchesPerPage','setAttribute','Error\x20fetching\x20','filter','submitComment','Standard\x20Match','Anonymous\x20User','textContent','unranked','flex','now','Firebase\x20not\x20initialized','error','Submitting...','stopPropagation','style','...','appendChild','currentMatchId','demoLink','#fff','commentPopupContentPreview','2025-07-02','\x27s\x20Demo','Unable\x20to\x20submit\x20comment\x20-\x20system\x20not\x20ready','.player.loser\x20.player-name','forEach','addCommentForm','commentMatchId','all','bind'];a6_0x5ad2=function(){return _0xa1d777;};return a6_0x5ad2();}export function updatePreviewLadderModeUI(){const _0x1fae1b=a6_0x24b1bc,_0xaef6ca=document[_0x1fae1b(0x1ca)](_0x1fae1b(0x181)),_0x53fc1a=document[_0x1fae1b(0x1ca)]('preview-d1-button'),_0x324e20=document['getElementById']('preview-d2-button'),_0x4557ab=document['getElementById']('preview-d3-button');if(_0xaef6ca)_0xaef6ca['textContent']=previewState[_0x1fae1b(0x196)];if(_0x53fc1a)_0x53fc1a['classList'][_0x1fae1b(0x20c)]('active',previewState[_0x1fae1b(0x196)]==='D1');if(_0x324e20)_0x324e20['classList']['toggle']('active',previewState[_0x1fae1b(0x196)]==='D2');if(_0x4557ab)_0x4557ab['classList']['toggle']('active',previewState[_0x1fae1b(0x196)]==='D3');}function updatePreviewPaginationControls(_0x2361f2){const _0x33626b=a6_0x24b1bc,_0x545ba8=document['getElementById']('previewPrevPage'),_0x339a0b=document[_0x33626b(0x1ca)](_0x33626b(0x190)),_0xc8e66c=document['getElementById']('previewPageInfo');if(!_0x545ba8||!_0x339a0b||!_0xc8e66c)return;_0xc8e66c[_0x33626b(0x215)]='Page\x20'+previewState['currentPage'],_0x545ba8[_0x33626b(0x1b8)]=previewState[_0x33626b(0x1c6)]<=0x1,_0x339a0b['disabled']=!_0x2361f2;}function setPreviewLoadingState(_0x18c537){const _0x3842e6=a6_0x24b1bc;previewState['isLoading']=_0x18c537,setLoadingIndicator(_0x18c537);const _0x12b79e=document['getElementById']('recent-matches-preview'),_0x55ce5d=_0x12b79e?_0x12b79e[_0x3842e6(0x18e)]('.matches-loading'):null,_0x342502=document[_0x3842e6(0x1ca)]('previewPrevPage'),_0x3250e8=document[_0x3842e6(0x1ca)](_0x3842e6(0x190)),_0x304e31=document['getElementById']('preview-d1-button'),_0xa15b11=document['getElementById']('preview-d2-button'),_0x329829=document['getElementById']('applyFilterBtn'),_0x20a3ad=document['getElementById']('clearFilterBtn');if(_0x55ce5d&&!_0x18c537)_0x55ce5d[_0x3842e6(0x21d)]['display']='none';else _0x55ce5d&&_0x18c537&&(_0x55ce5d['style']['display']='block');!_0x18c537&&_0x12b79e&&!_0x12b79e['querySelector'](_0x3842e6(0x18a))&&!_0x12b79e['querySelector']('.matches-loading[style*=\x22color:\x20red\x22]')&&(_0x12b79e['innerHTML']='<div\x20class=\x22matches-loading\x22>No\x20recent\x20matches\x20found'+(previewState[_0x3842e6(0x187)]?_0x3842e6(0x1a8):'')+'.</div>');if(_0x342502)_0x342502['disabled']=_0x18c537||previewState['currentPage']<=0x1;if(_0x3250e8)_0x3250e8['disabled']=_0x18c537;if(_0x304e31)_0x304e31['disabled']=_0x18c537;if(_0xa15b11)_0xa15b11['disabled']=_0x18c537;if(_0x329829)_0x329829['disabled']=_0x18c537;if(_0x20a3ad)_0x20a3ad['disabled']=_0x18c537;}function applyClientFilters(_0xf60802){const _0x152402=a6_0x24b1bc;if(!previewState['filterUsername'])return _0xf60802;const _0x5ecb9b=previewState[_0x152402(0x187)][_0x152402(0x1a5)]();return _0xf60802['filter'](_0x24a659=>{const _0x31dc28=_0x152402,_0x6a4308=(_0x24a659['winnerUsername']||'')['toLowerCase'](),_0xe00a9a=(_0x24a659['loserUsername']||'')[_0x31dc28(0x1a5)]();return _0x6a4308[_0x31dc28(0x1e2)](_0x5ecb9b)||_0xe00a9a['includes'](_0x5ecb9b);});}function applyEnhancedClientFilters(_0xda18b6){if(!hasEnhancedFilters())return _0xda18b6;return _0xda18b6['filter'](_0x5102f1=>{const _0x598b3d=a6_0xf575;if(previewState['enhancedFilters']['pilots']){const _0x13ab1c=previewState['enhancedFilters']['pilots']['toLowerCase'](),_0xc90bf1=(_0x5102f1['winnerUsername']||'')['toLowerCase'](),_0x3e8c1f=(_0x5102f1['loserUsername']||'')['toLowerCase']();if(!_0xc90bf1['includes'](_0x13ab1c)&&!_0x3e8c1f['includes'](_0x13ab1c))return![];}if(previewState['enhancedFilters'][_0x598b3d(0x177)]){const _0x489dc5=previewState['enhancedFilters']['levels'][_0x598b3d(0x1a5)](),_0x4f491b=(_0x5102f1['mapPlayed']||'')[_0x598b3d(0x1a5)]();if(!_0x4f491b['includes'](_0x489dc5))return![];}if(previewState['enhancedFilters']['subgames'][_0x598b3d(0x1cb)]>0x0){const _0x167d8f=_0x5102f1[_0x598b3d(0x1f9)]||'Standard\x20Match';if(!previewState['enhancedFilters']['subgames']['includes'](_0x167d8f))return![];}return!![];});}function hasEnhancedFilters(){const _0x4c9853=a6_0x24b1bc;return previewState[_0x4c9853(0x17d)][_0x4c9853(0x197)]||previewState['enhancedFilters']['levels']||previewState['enhancedFilters'][_0x4c9853(0x201)][_0x4c9853(0x1cb)]>0x0;}function clearEnhancedFilters(){const _0x2db543=a6_0x24b1bc;previewState[_0x2db543(0x17d)]={'pilots':'','levels':'','subgames':[]},document['getElementById']('filter-pilots')['value']='',document['getElementById']('filter-levels')[_0x2db543(0x183)]='';const _0x2a82e9=document['getElementById']('filter-subgames');for(let _0x16d5ef of _0x2a82e9['options']){_0x16d5ef['selected']=![];}}function jumpToPage(_0x3b2422){const _0x58b9b9=a6_0x24b1bc,_0x22a8f6=document['getElementById']('jump-to-page'),_0x169b60=previewState['currentPage'];let _0x864f4a=_0x169b60;switch(_0x3b2422){case'start':_0x864f4a=0x1;break;case'end':_0x864f4a=Math[_0x58b9b9(0x1d7)](_0x169b60+0xa,previewState['totalPages']||_0x169b60+0xa);break;case'+1':_0x864f4a=_0x169b60+0x1;break;case'+5':_0x864f4a=_0x169b60+0x5;break;case'+10':_0x864f4a=_0x169b60+0xa;break;case'-1':_0x864f4a=Math[_0x58b9b9(0x1d7)](0x1,_0x169b60-0x1);break;case'-5':_0x864f4a=Math['max'](0x1,_0x169b60-0x5);break;case'-10':_0x864f4a=Math[_0x58b9b9(0x1d7)](0x1,_0x169b60-0xa);break;case _0x58b9b9(0x17f):const _0x57d053=parseInt(_0x22a8f6['value']);_0x57d053&&_0x57d053>0x0&&(_0x864f4a=_0x57d053,_0x22a8f6[_0x58b9b9(0x183)]='');break;}_0x864f4a!==_0x169b60&&_0x864f4a>0x0&&(previewState['currentPage']=_0x864f4a,loadRecentMatchesPreview('jump'));}export async function loadRecentMatchesPreview(_0x390563='current'){const _0x41b4c4=a6_0x24b1bc,_0x28c234=document[_0x41b4c4(0x1ca)](_0x41b4c4(0x1cd)),_0x4fcbfe=document['getElementById']('match-card-template');if(previewState['isLoading']||!_0x28c234||!_0x4fcbfe)return;_0x390563==='current'&&(console[_0x41b4c4(0x20b)](_0x41b4c4(0x194)),Object['keys'](sessionStorage)[_0x41b4c4(0x228)](_0x263b36=>{const _0x118677=_0x41b4c4;_0x263b36['includes']('previewCache_'+previewState['currentMode'])&&sessionStorage[_0x118677(0x1dd)](_0x263b36);}));let _0x40ea4f=previewState['currentPage'];if(_0x390563==='next')_0x40ea4f++;else{if(_0x390563==='prev')_0x40ea4f--;else _0x390563==='current'&&(_0x40ea4f=0x1,previewState[_0x41b4c4(0x1d4)]=null,previewState[_0x41b4c4(0x1ab)]=null);}if(_0x40ea4f<0x1)_0x40ea4f=0x1;const _0x310b6a=previewState[_0x41b4c4(0x1c6)];previewState['currentPage']=_0x40ea4f,updatePreviewPaginationControls(!![]);const _0x1e004e={'filterUsername':previewState['filterUsername']},_0x4d24d2=getCacheKey(previewState['currentMode'],_0x40ea4f,_0x1e004e),_0x523e94=_0x390563!=='current'?getCachedPage(_0x4d24d2):null;if(_0x523e94){console['log']('Rendering\x20page\x20'+_0x40ea4f+_0x41b4c4(0x19c)),setPreviewLoadingState(!![]),renderMatchCards(_0x523e94['docsData']),updatePreviewPaginationControls(_0x523e94['hasNextPage']),setPreviewLoadingState(![]);return;}console[_0x41b4c4(0x20b)](_0x41b4c4(0x1ed)+_0x40ea4f+',\x20fetching\x20from\x20Firestore'),setPreviewLoadingState(!![]),_0x28c234['innerHTML']=_0x41b4c4(0x1f4);const _0x271dc3=previewState['currentMode']==='D1'?'approvedMatches':previewState['currentMode']==='D2'?'approvedMatchesD2':_0x41b4c4(0x180),_0x5f1471=previewState['currentMode']==='D1'?'createdAt':'approvedAt';try{const _0x76faf6=collection(window['db'],_0x271dc3);let _0x158849=[orderBy(_0x5f1471,'desc')];if(_0x40ea4f===0x1)console['log']('Loading\x20first\x20page\x20from\x20Firestore'),_0x158849[_0x41b4c4(0x1dc)](limit(previewState['matchesPerPage']));else{if(_0x390563==='next'&&previewState['lastVisible'])console['log']('Loading\x20next\x20page\x20using\x20cursor'),_0x158849['push'](startAfter(previewState['lastVisible'])),_0x158849[_0x41b4c4(0x1dc)](limit(previewState['matchesPerPage']));else{console['log'](_0x41b4c4(0x175));const _0x544f2b=_0x40ea4f*previewState['matchesPerPage'];_0x158849[_0x41b4c4(0x1dc)](limit(_0x544f2b));}}const _0x96c978=query(_0x76faf6,..._0x158849),_0x3f7916=await getDocs(_0x96c978);let _0x1dfd32=_0x3f7916['docs'];if(_0x40ea4f>0x1&&_0x390563!==_0x41b4c4(0x204)){const _0x3cbb29=(_0x40ea4f-0x1)*previewState['matchesPerPage'];_0x1dfd32=_0x1dfd32['slice'](_0x3cbb29,_0x3cbb29+previewState[_0x41b4c4(0x20e)]);}if(_0x1dfd32[_0x41b4c4(0x1cb)]===0x0){console[_0x41b4c4(0x20b)](_0x41b4c4(0x1e4));_0x390563==='next'&&(previewState['currentPage']=_0x310b6a,updatePreviewPaginationControls(![]));_0x28c234[_0x41b4c4(0x1c0)]='<div\x20class=\x22matches-loading\x22>No\x20more\x20matches\x20to\x20display'+(previewState['filterUsername']?'\x20matching\x20filters':'')+'.</div>',setPreviewLoadingState(![]);return;}previewState['firstVisible']=_0x1dfd32[0x0],previewState['lastVisible']=_0x1dfd32[_0x1dfd32['length']-0x1];const _0x1b2ac6=_0x1dfd32['map'](_0x3fd86e=>({'id':_0x3fd86e['id'],..._0x3fd86e[_0x41b4c4(0x1d9)]()}));let _0x2c7ad4=![];if(_0x1dfd32['length']===previewState['matchesPerPage']){const _0xf3ba31=query(_0x76faf6,orderBy(_0x5f1471,_0x41b4c4(0x1fb)),startAfter(previewState['lastVisible']),limit(0x1)),_0x8e6d53=await getDocs(_0xf3ba31);_0x2c7ad4=!_0x8e6d53['empty'];}const _0x2ee30f=applyClientFilters(_0x1b2ac6),_0x27a7db={'docsData':_0x1b2ac6,'hasNextPage':_0x2c7ad4};cachePage(getCacheKey(previewState[_0x41b4c4(0x196)],previewState['currentPage'],_0x1e004e),_0x27a7db);if(_0x40ea4f>0x1&&_0x390563!==_0x41b4c4(0x204))for(let _0x53e158=0x1;_0x53e158<_0x40ea4f;_0x53e158++){const _0x44e7af=(_0x53e158-0x1)*previewState['matchesPerPage'],_0x290651=_0x44e7af+previewState[_0x41b4c4(0x20e)],_0x9d389d=_0x3f7916['docs']['slice'](_0x44e7af,_0x290651);if(_0x9d389d['length']>0x0){const _0xeb204d=_0x9d389d['map'](_0x3cbda9=>({'id':_0x3cbda9['id'],..._0x3cbda9[_0x41b4c4(0x1d9)]()})),_0x59cf21=!![];cachePage(getCacheKey(previewState['currentMode'],_0x53e158,_0x1e004e),{'docsData':_0xeb204d,'hasNextPage':_0x59cf21}),console['log']('Cached\x20intermediary\x20page\x20'+_0x53e158);}}_0x2ee30f[_0x41b4c4(0x1cb)]===0x0&&previewState['filterUsername']?_0x28c234['innerHTML']='<div\x20class=\x22matches-loading\x22>No\x20matches\x20found\x20matching\x20filter:\x20\x22'+previewState['filterUsername']+'\x22</div>':renderMatchCards(_0x2ee30f),updatePreviewPaginationControls(_0x2c7ad4);}catch(_0x231c12){console['error'](_0x41b4c4(0x210)+previewState['currentMode']+'\x20matches:',_0x231c12),_0x28c234[_0x41b4c4(0x1c0)]=_0x41b4c4(0x1b2)+_0x231c12['message']+'</div>',updatePreviewPaginationControls(![]),previewState['currentPage']=_0x310b6a;}finally{setPreviewLoadingState(![]);}}async function renderMatchCards(_0x4a33b7){const _0x14d0c0=a6_0x24b1bc,_0x21963c=document[_0x14d0c0(0x1ca)]('recent-matches-preview'),_0x46b6d6=document[_0x14d0c0(0x1ca)](_0x14d0c0(0x1a3));if(!_0x21963c||!_0x46b6d6)return;!_0x21963c['querySelector'](_0x14d0c0(0x1ce))&&(_0x21963c[_0x14d0c0(0x1c0)]='');if(!_0x4a33b7||_0x4a33b7['length']===0x0){if(!_0x21963c['querySelector']('.matches-loading[style*=\x22color:\x20red\x22]')){const _0x570024=hasEnhancedFilters()?_0x14d0c0(0x1a8):previewState['filterUsername']?'\x20matching\x20filters':'';_0x21963c['innerHTML']=_0x14d0c0(0x198)+_0x570024+'.</div>';}return;}const _0x293eb1=applyEnhancedClientFilters(_0x4a33b7);if(_0x293eb1['length']===0x0){_0x21963c[_0x14d0c0(0x1c0)]=_0x14d0c0(0x1d8);return;}const _0x2a950c=_0x293eb1[_0x14d0c0(0x1b5)](_0x2eb6d3=>getAllCommentsForMatch(_0x2eb6d3['id']));let _0x396808=[];try{_0x396808=await Promise[_0x14d0c0(0x22b)](_0x2a950c);}catch(_0x4c2bd7){console[_0x14d0c0(0x21a)]('Error\x20fetching\x20comments\x20batch:',_0x4c2bd7),_0x396808=_0x293eb1[_0x14d0c0(0x1b5)](()=>[]);}const _0x296926={};_0x396808[_0x14d0c0(0x228)]((_0x1d0d07,_0x14024b)=>{_0x296926[_0x293eb1[_0x14024b]['id']]=_0x1d0d07||[];}),_0x293eb1['forEach'](_0x2ee21c=>{const _0x4b489f=_0x14d0c0,_0x3f3a04=_0x46b6d6['content']['cloneNode'](!![]),_0xfe7a0c=_0x3f3a04[_0x4b489f(0x18e)]('.match-display-wrapper'),_0x9892c8=_0x3f3a04['querySelector']('.match-card'),_0x261cb8=getEloRankClass(_0x2ee21c['winnerOldElo']);_0x9892c8[_0x4b489f(0x1d0)]['add']('winner-'+_0x261cb8),_0x9892c8['querySelector']('.match-map')['textContent']=_0x2ee21c['mapPlayed']||'Unknown\x20Map',_0x9892c8[_0x4b489f(0x18e)]('.match-date')['textContent']=formatDate(_0x2ee21c['approvedAt']||_0x2ee21c['createdAt']);const _0x355fae=_0x9892c8[_0x4b489f(0x18e)]('.player.winner\x20.player-name');_0x355fae['textContent']=_0x2ee21c[_0x4b489f(0x1bd)]||'Unknown',_0x355fae['style'][_0x4b489f(0x1be)]=getEloColor(_0x2ee21c['winnerOldElo']),_0x9892c8['querySelector']('.player.winner\x20.player-score')[_0x4b489f(0x215)]=_0x2ee21c['winnerScore']??0x0;const _0x312316=_0x9892c8[_0x4b489f(0x18e)]('.player.winner\x20.player-suicides'),_0x4d5fc1=_0x2ee21c['winnerSuicides']||0x0;_0x312316[_0x4b489f(0x215)]='S:\x20'+_0x4d5fc1;const _0x186058=_0x9892c8['querySelector'](_0x4b489f(0x227));_0x186058['textContent']=_0x2ee21c['loserUsername']||_0x4b489f(0x195),_0x186058['style'][_0x4b489f(0x1be)]=getEloColor(_0x2ee21c['loserOldElo']),_0x9892c8[_0x4b489f(0x18e)](_0x4b489f(0x1a1))[_0x4b489f(0x215)]=_0x2ee21c['loserScore']??0x0;const _0x3fd7b4=_0x9892c8['querySelector'](_0x4b489f(0x176)),_0x5df24d=_0x2ee21c[_0x4b489f(0x1d2)]||0x0;_0x3fd7b4['textContent']='S:\x20'+_0x5df24d;const _0xd6a972=_0x9892c8['querySelector']('.match-subgame');if(_0xd6a972){if(_0x2ee21c[_0x4b489f(0x1f9)]&&_0x2ee21c['subgameType']['trim']()!==''){_0xd6a972['textContent']=_0x2ee21c['subgameType'],_0xd6a972[_0x4b489f(0x21d)]['display']=_0x4b489f(0x18f);const _0x146cb6=getSubgameClass(_0x2ee21c[_0x4b489f(0x1f9)]);_0x146cb6&&_0xd6a972['classList'][_0x4b489f(0x174)](_0x146cb6);}else _0xd6a972['textContent']=_0x4b489f(0x213),_0xd6a972['style']['display']='block',_0xd6a972[_0x4b489f(0x21d)][_0x4b489f(0x1a9)]=_0x4b489f(0x1bf);}const _0x52fb0b=_0x9892c8[_0x4b489f(0x18e)]('.comment.winner-comment'),_0x4f9381=_0x9892c8['querySelector']('.comment.loser-comment'),_0x1f44f6=_0x2ee21c['winnerComment']||'',_0x18821c=_0x2ee21c['loserComment']||'',_0x491bcb=_0x2ee21c['approvedAt']||_0x2ee21c['createdAt'],_0x3d04cc=filterComment(_0x1f44f6,_0x2ee21c['winnerUsername'],_0x491bcb),_0x15e07a=filterComment(_0x18821c,_0x2ee21c[_0x4b489f(0x17b)],_0x491bcb);_0x52fb0b['textContent']='\x22'+truncateComment(_0x1f44f6)+'\x22',_0x4f9381['textContent']='\x22'+truncateComment(_0x18821c)+'\x22';_0x1f44f6&&!isUsernameMuted(_0x2ee21c['winnerUsername'],_0x491bcb)?_0x52fb0b[_0x4b489f(0x1ae)]=()=>showPreviewCommentPopup(_0x3d04cc,_0x2ee21c[_0x4b489f(0x1bd)]||'Winner',getEloColor(_0x2ee21c['winnerOldElo'])):(_0x52fb0b['textContent']=_0x3d04cc==='Muted.'?'Muted.':'-',_0x52fb0b[_0x4b489f(0x21d)]['cursor']='default',_0x52fb0b[_0x4b489f(0x1ae)]=null);_0x18821c&&!isUsernameMuted(_0x2ee21c['loserUsername'])?_0x4f9381['onclick']=()=>showPreviewCommentPopup(_0x15e07a,_0x2ee21c['loserUsername']||_0x4b489f(0x1ea),getEloColor(_0x2ee21c[_0x4b489f(0x1f1)])):(_0x4f9381[_0x4b489f(0x215)]=_0x15e07a==='Muted.'?_0x4b489f(0x1cc):'-',_0x4f9381['style']['cursor']='default',_0x4f9381[_0x4b489f(0x1ae)]=null);const _0x475f2e=_0xfe7a0c?.['querySelector'](_0x4b489f(0x1f8));if(!_0x475f2e)console['warn'](_0x4b489f(0x1b7));else{const _0x4b499a=_0x475f2e['querySelector']('.comments-container'),_0x3d937e=_0x4b499a?.['querySelector']('.no-comments-message'),_0x1bfbcb=_0x475f2e[_0x4b489f(0x18e)](_0x4b489f(0x1d1));if(_0x4b499a){while(_0x4b499a['firstChild']&&_0x4b499a[_0x4b489f(0x17c)]!==_0x3d937e){_0x4b499a[_0x4b489f(0x207)](_0x4b499a['firstChild']);}_0x1bfbcb&&_0x1bfbcb['addEventListener']('click',()=>{showAddCommentPopup(_0x2ee21c['id']);});const _0x57f65d=_0x296926[_0x2ee21c['id']]||[];if(_0x57f65d['length']>0x0){if(_0x3d937e)_0x3d937e['style'][_0x4b489f(0x1c3)]=_0x4b489f(0x186);const _0x528784=(_0x26f2c6,_0x324748)=>{const _0x29e986=_0x4b489f,_0x16829c=_0x26f2c6[_0x29e986(0x1ee)]('\x20');if(_0x16829c['length']<=_0x324748)return _0x26f2c6;return _0x16829c[_0x29e986(0x179)](0x0,_0x324748)['join']('\x20')+_0x29e986(0x21e);};_0x57f65d[_0x4b489f(0x228)](_0x26ef65=>{const _0x166e24=_0x4b489f,_0xc3fada=document['createElement']('div');if(_0x26ef65[_0x166e24(0x192)]==='demo'){_0xc3fada['className']=_0x166e24(0x19a),_0xc3fada[_0x166e24(0x1c0)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22'+_0x26ef65[_0x166e24(0x221)]+'\x22\x20target=\x22_blank\x22\x20class=\x22play-icon\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<svg\x20viewBox=\x220\x200\x2024\x2024\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<path\x20d=\x22M8,5.14V19.14L19,12.14L8,5.14Z\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</svg>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22demo-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22demo-author\x22>Demo\x20from\x20'+_0x26ef65[_0x166e24(0x1b0)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22demo-description\x22>'+(_0x26ef65['description']||'No\x20description\x20provided')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x54938a=window['auth']['currentUser'],_0x612613=_0x54938a&&_0x26ef65['userId']===_0x54938a['uid'];if(_0x612613){const _0xa3557f=document[_0x166e24(0x1f2)]('button');_0xa3557f['className']='delete-comment-btn',_0xa3557f['innerHTML']='×',_0xa3557f['setAttribute']('aria-label','Delete\x20demo'),_0xa3557f['addEventListener']('click',_0x451add=>{_0x451add['preventDefault'](),_0x451add['stopPropagation'](),deleteComment(_0x26ef65['id'],_0xc3fada);}),_0xc3fada['appendChild'](_0xa3557f);}}else{_0xc3fada['className']='comment-item';const _0x4ad854=isUsernameMuted(_0x26ef65['username'],_0x26ef65[_0x166e24(0x1e1)]),_0x20e3a4=_0x4ad854?'Muted.':_0x528784(_0x26ef65['text']||'',0xf),_0x64fca7=_0x26ef65['username']||'Anonymous',_0x1fe0d8=window[_0x166e24(0x1c2)]['currentUser'],_0x2be98c=_0x1fe0d8&&_0x26ef65['userId']===_0x1fe0d8[_0x166e24(0x1e5)];let _0x3faa71='';_0x2be98c&&(_0x3faa71='<button\x20class=\x22delete-comment-btn\x22\x20aria-label=\x22Delete\x20comment\x22>×</button>');_0xc3fada['innerHTML']=_0x3faa71+'<strong>'+_0x64fca7+':</strong>\x20\x22'+_0x20e3a4+'\x22';if(_0x2be98c){const _0x1c416e=_0xc3fada[_0x166e24(0x18e)]('.delete-comment-btn');_0x1c416e&&_0x1c416e['addEventListener']('click',_0x154b3f=>{const _0x385f51=_0x166e24;_0x154b3f[_0x385f51(0x21c)](),deleteComment(_0x26ef65['id'],_0xc3fada);});}!_0x4ad854?_0xc3fada[_0x166e24(0x1f3)]('click',()=>{showFullCommentLightbox(_0x26ef65);}):_0xc3fada['style']['cursor']=_0x166e24(0x1df);}_0x4b499a['insertBefore'](_0xc3fada,_0x4b499a[_0x166e24(0x17c)]);});}else{if(_0x3d937e)_0x3d937e[_0x4b489f(0x21d)][_0x4b489f(0x1c3)]='block';}}}const _0x266900=_0x9892c8[_0x4b489f(0x18e)]('.match-demo-links');if(_0x266900){const _0x5d3bc1=_0x9892c8['querySelector'](_0x4b489f(0x199)),_0x2099ef=_0x9892c8['querySelector']('.loser-demo-link'),_0x4e70f3=_0x2ee21c[_0x4b489f(0x1f5)]||null,_0x277b23=_0x2ee21c['loserDemoLink']||_0x2ee21c['demoLink']||null;console['log']('Match\x20'+_0x2ee21c['id']+'\x20demo\x20links:',{'winner':_0x4e70f3,'loser':_0x277b23}),_0x5d3bc1&&(_0x4e70f3?(_0x5d3bc1['href']=_0x4e70f3,_0x5d3bc1['style']['display']='flex',_0x5d3bc1['title']=_0x2ee21c['winnerUsername']+'\x27s\x20Demo'):_0x5d3bc1['style']['display']=_0x4b489f(0x186)),_0x2099ef&&(_0x277b23?(_0x2099ef['href']=_0x277b23,_0x2099ef['style'][_0x4b489f(0x1c3)]=_0x4b489f(0x217),_0x2099ef['title']=_0x2ee21c['loserUsername']+_0x4b489f(0x225)):_0x2099ef['style']['display']='none'),_0x4e70f3&&_0x5d3bc1||_0x277b23&&_0x2099ef?_0x266900['style']['display']='flex':_0x266900[_0x4b489f(0x21d)]['display']='none';}_0x21963c['appendChild'](_0x3f3a04);});}function getSubgameClass(_0x381a89){const _0x14daee=a6_0x24b1bc,_0x28215c={'Fusion\x20Match':'fusion-match','≥6\x20Missiles':_0x14daee(0x182),'≥6\x20missiles':_0x14daee(0x182),'Weapon\x20Imbalance':_0x14daee(0x1de),'Blind\x20Match':'blind-match','Rematch':'rematch','Disorientation':'disorientation','Ratting':_0x14daee(0x1af),'Altered\x20Powerups':'altered-powerups','Mega\x20Match':'mega-match','Dogfight':'dogfight','Gauss\x20and\x20Mercs':'gauss-and-mercs'};return _0x28215c[_0x381a89]||'';}async function deleteComment(_0x464c4c,_0x4f6c48){const _0x5d29d8=a6_0x24b1bc,_0x154abc=window[_0x5d29d8(0x1c2)]['currentUser'];if(!_0x154abc){alert('You\x20need\x20to\x20be\x20signed\x20in\x20to\x20delete\x20comments');return;}if(!confirm('Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20comment?'))return;try{const _0x6601de=doc(window['db'],'matchComments',_0x464c4c),_0x799735=await getDoc(_0x6601de);if(!_0x799735[_0x5d29d8(0x1ec)]()){alert('Comment\x20not\x20found.\x20It\x20may\x20have\x20already\x20been\x20deleted.');return;}const _0x3afa29=_0x799735['data']();if(_0x3afa29['userId']!==_0x154abc[_0x5d29d8(0x1e5)]){alert('You\x20can\x20only\x20delete\x20your\x20own\x20comments');return;}await deleteDoc(_0x6601de);if(_0x4f6c48&&_0x4f6c48['parentNode']){_0x4f6c48[_0x5d29d8(0x208)][_0x5d29d8(0x207)](_0x4f6c48);const _0x11181f=_0x4f6c48[_0x5d29d8(0x173)]('.comments-container');if(_0x11181f&&!_0x11181f['querySelector']('.comment-item')){const _0x2e4871=_0x11181f['querySelector'](_0x5d29d8(0x18b));if(_0x2e4871)_0x2e4871[_0x5d29d8(0x21d)][_0x5d29d8(0x1c3)]=_0x5d29d8(0x18f);}}console['log'](_0x5d29d8(0x188));}catch(_0x386282){console['error'](_0x5d29d8(0x1ac),_0x386282),alert(_0x5d29d8(0x1e8)+_0x386282['message']);}}async function getAllCommentsForMatch(_0x4da5dd){const _0x33d11d=a6_0x24b1bc;if(!_0x4da5dd)return[];try{const _0x103fdb=collection(window['db'],'matchComments'),_0x3de7d8=query(_0x103fdb,where('matchId','==',_0x4da5dd),orderBy('timestamp','desc')),_0x23f175=await getDocs(_0x3de7d8);if(_0x23f175['empty'])return[];return _0x23f175['docs'][_0x33d11d(0x1b5)](_0x2d4c13=>({'id':_0x2d4c13['id'],..._0x2d4c13['data']()}));}catch(_0x2bb67d){return console['error']('Error\x20fetching\x20comments:',_0x2bb67d),[];}}async function submitComment(_0x3a322f){const _0x567840=a6_0x24b1bc;_0x3a322f[_0x567840(0x1e9)]();if(!window[_0x567840(0x1c2)]||!window['db']){console['error'](_0x567840(0x219)),alert(_0x567840(0x226));return;}const _0x4d9b52=window[_0x567840(0x1c2)][_0x567840(0x202)];if(!_0x4d9b52){alert(_0x567840(0x17e));return;}const _0x5d2d05=document[_0x567840(0x1ca)](_0x567840(0x22a))?.[_0x567840(0x183)],_0x3d0c2e=document['getElementById'](_0x567840(0x1b6))?.[_0x567840(0x183)]?.[_0x567840(0x20d)]();if(!_0x5d2d05||!_0x3d0c2e){alert(_0x567840(0x1c5));return;}const _0x2aeedb=_0x3d0c2e['split'](/\s+/)['filter'](_0x1af1cf=>_0x1af1cf['length']>0x0)['length'];if(_0x2aeedb>0xf){alert('Comments\x20are\x20limited\x20to\x2015\x20words\x20maximum.\x20Please\x20shorten\x20your\x20comment.');return;}const _0x39f693=document['querySelector']('.submit-comment-btn');_0x39f693&&(_0x39f693['disabled']=!![],_0x39f693[_0x567840(0x215)]=_0x567840(0x21b));try{let _0x1e888a='Anonymous';try{const _0x51d60e=doc(window['db'],'userProfiles',_0x4d9b52['uid']),_0xe539f=await getDoc(_0x51d60e);if(_0xe539f['exists']()){const _0x276306=_0xe539f[_0x567840(0x1d9)]();_0x276306['username']&&(_0x1e888a=_0x276306['username']);}_0x1e888a===_0x567840(0x1a6)&&_0x4d9b52['displayName']&&(_0x1e888a=_0x4d9b52['displayName']);}catch(_0xd2876f){console['warn']('Failed\x20to\x20fetch\x20user\x20profile:',_0xd2876f),_0x4d9b52[_0x567840(0x1eb)]&&(_0x1e888a=_0x4d9b52['displayName']);}const _0x2eed43={'matchId':_0x5d2d05,'userId':_0x4d9b52[_0x567840(0x1e5)],'username':_0x1e888a,'text':_0x3d0c2e,'timestamp':serverTimestamp()};console['log']('Submitting\x20comment\x20as:',_0x1e888a);const _0x30ed54=collection(window['db'],'matchComments');await addDoc(_0x30ed54,_0x2eed43),console[_0x567840(0x20b)](_0x567840(0x1e6)),closeAddCommentPopup(),loadRecentMatchesPreview('current');}catch(_0x32665e){console['error'](_0x567840(0x1c7),_0x32665e),alert(_0x567840(0x1a2)+_0x32665e['message']),_0x39f693&&(_0x39f693[_0x567840(0x1b8)]=![],_0x39f693['textContent']=_0x567840(0x1ef));}}function closeAddCommentPopup(){const _0x3d0aea=a6_0x24b1bc,_0x4ea588=document['getElementById'](_0x3d0aea(0x185)),_0x400b8c=document['getElementById']('commentAddOverlay');if(_0x4ea588)_0x4ea588['style']['display']='none';if(_0x400b8c)_0x400b8c['style']['display']='none';}function showAddCommentPopup(_0x3eeb1f){const _0x3bde84=a6_0x24b1bc,_0x4612fa=window['auth']['currentUser'];if(!_0x4612fa){alert('You\x20need\x20to\x20be\x20signed\x20in\x20to\x20leave\x20a\x20comment\x20or\x20add\x20a\x20demo');return;}let _0x2dbb90=document[_0x3bde84(0x1ca)]('commentAddPopup'),_0xd64038=document[_0x3bde84(0x1ca)]('commentAddOverlay');!_0x2dbb90&&(_0x2dbb90=document['createElement'](_0x3bde84(0x200)),_0x2dbb90['id']='commentAddPopup',_0x2dbb90[_0x3bde84(0x19b)]=_0x3bde84(0x206),document[_0x3bde84(0x1fc)][_0x3bde84(0x21f)](_0x2dbb90));!_0xd64038&&(_0xd64038=document['createElement']('div'),_0xd64038['id']='commentAddOverlay',_0xd64038[_0x3bde84(0x19b)]='comment-overlay',document['body']['appendChild'](_0xd64038));_0x2dbb90[_0x3bde84(0x1c0)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22popup-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Add\x20Comment\x20or\x20Demo</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22closeAddCommentPopup\x22\x20class=\x22close-btn\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22addCommentForm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22commentMatchId\x22\x20name=\x22commentMatchId\x22\x20value=\x22'+_0x3eeb1f+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-tabs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22option-tab\x20active\x22\x20data-option=\x22comment\x22>Add\x20Comment</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22option-divider\x22>OR</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22option-tab\x22\x20data-option=\x22demo\x22>Share\x20Demo\x20Link</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-content\x22\x20id=\x22commentOption\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22commentText\x22>Your\x20comment\x20(15\x20words\x20max):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22commentText\x22\x20name=\x22commentText\x22\x20rows=\x223\x22\x20placeholder=\x22Share\x20your\x20thoughts...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22word-counter\x22><span\x20id=\x22wordCount\x22>0</span>/15\x20words</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-content\x22\x20id=\x22demoOption\x22\x20style=\x22display:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22demoLink\x22>Demo\x20Link:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22url\x22\x20id=\x22demoLink\x22\x20name=\x22demoLink\x22\x20placeholder=\x22https://...\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22demoDescription\x22>Description\x20(20\x20words\x20max):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22demoDescription\x22\x20name=\x22demoDescription\x22\x20rows=\x222\x22\x20placeholder=\x22Describe\x20your\x20demo...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22word-counter\x22><span\x20id=\x22demoWordCount\x22>0</span>/20\x20words</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22submit\x22\x20class=\x22submit-comment-btn\x22>Submit</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</form>\x0a\x20\x20\x20\x20',_0x2dbb90['style']['display']='block',_0xd64038['style']['display']=_0x3bde84(0x18f),document['getElementById'](_0x3bde84(0x1d3))['addEventListener'](_0x3bde84(0x19f),closeAddCommentPopup),_0xd64038['addEventListener']('click',closeAddCommentPopup);const _0x2fab3c=_0x2dbb90[_0x3bde84(0x1c8)]('.option-tab');_0x2fab3c[_0x3bde84(0x228)](_0x55456a=>{const _0xc3046c=_0x3bde84;_0x55456a['addEventListener'](_0xc3046c(0x19f),function(){const _0x59eb89=_0xc3046c;_0x2fab3c['forEach'](_0x1f3af3=>_0x1f3af3[_0x59eb89(0x1d0)][_0x59eb89(0x1a7)](_0x59eb89(0x19d))),document[_0x59eb89(0x1c8)](_0x59eb89(0x1f7))['forEach'](_0x3b06a1=>_0x3b06a1['style'][_0x59eb89(0x1c3)]='none'),this['classList']['add'](_0x59eb89(0x19d));const _0x51c8a7=this[_0x59eb89(0x1d6)]['option'];document['getElementById'](_0x51c8a7+'Option')['style']['display']='block',_0x51c8a7==='demo'?(document['getElementById']('demoLink')['setAttribute']('required',''),document['getElementById']('commentText')[_0x59eb89(0x1db)]('required')):(document['getElementById']('demoLink')[_0x59eb89(0x1db)]('required'),document[_0x59eb89(0x1ca)]('commentText')['setAttribute'](_0x59eb89(0x189),''));});}),document[_0x3bde84(0x1ca)](_0x3bde84(0x1b6))[_0x3bde84(0x20f)]('required',''),document[_0x3bde84(0x1ca)]('demoLink')['removeAttribute'](_0x3bde84(0x189)),setupWordCounter('commentText',_0x3bde84(0x1ad),0xf),setupWordCounter('demoDescription','demoWordCount',0x14),document['getElementById'](_0x3bde84(0x229))['addEventListener'](_0x3bde84(0x171),submitCommentOrDemo);}function setupWordCounter(_0x13173c,_0x22b7a6,_0x338041){const _0x132b14=a6_0x24b1bc,_0x21d0cd=document[_0x132b14(0x1ca)](_0x13173c),_0x299ffb=document['getElementById'](_0x22b7a6);if(!_0x21d0cd||!_0x299ffb)return;_0x314fcf(),_0x21d0cd['addEventListener'](_0x132b14(0x17f),_0x314fcf);function _0x314fcf(){const _0x4b8ccb=_0x132b14,_0x4e86f5=_0x21d0cd[_0x4b8ccb(0x183)]['trim'](),_0x17d152=_0x4e86f5?_0x4e86f5['split'](/\s+/)['filter'](_0x25a9da=>_0x25a9da['length']>0x0)['length']:0x0;_0x299ffb['textContent']=_0x17d152,_0x17d152>_0x338041?_0x299ffb['style'][_0x4b8ccb(0x1be)]='#ff4444':_0x299ffb['style'][_0x4b8ccb(0x1be)]='#aaa';}}function a6_0xf575(_0x404051,_0x5d5764){const _0x2b510a=a6_0x5ad2();return a6_0xf575=function(_0x141028,_0x6dfe29){_0x141028=_0x141028-0x171;let _0x5ad2a7=_0x2b510a[_0x141028];return _0x5ad2a7;},a6_0xf575(_0x404051,_0x5d5764);}async function submitCommentOrDemo(_0x257a2a){const _0x2d93d2=a6_0x24b1bc;_0x257a2a['preventDefault']();if(!window['auth']||!window['db']){console['error'](_0x2d93d2(0x219)),alert('Unable\x20to\x20submit\x20-\x20system\x20not\x20ready');return;}const _0x5e89cb=window[_0x2d93d2(0x1c2)]['currentUser'];if(!_0x5e89cb){alert('You\x20must\x20be\x20signed\x20in\x20to\x20continue');return;}const _0x46bc98=document['getElementById']('commentMatchId')['value'],_0x14b8f1=document['querySelector']('.option-tab.active')[_0x2d93d2(0x1d6)]['option'];let _0x4fc675='Anonymous';try{const _0x549062=doc(window['db'],'userProfiles',_0x5e89cb[_0x2d93d2(0x1e5)]),_0x57bdb2=await getDoc(_0x549062);if(_0x57bdb2['exists']()){const _0x542160=_0x57bdb2['data']();_0x542160[_0x2d93d2(0x1b0)]&&(_0x4fc675=_0x542160['username']);}_0x4fc675==='Anonymous'&&_0x5e89cb[_0x2d93d2(0x1eb)]&&(_0x4fc675=_0x5e89cb['displayName']);}catch(_0x5ad960){console['warn'](_0x2d93d2(0x18c),_0x5ad960),_0x5e89cb['displayName']&&(_0x4fc675=_0x5e89cb['displayName']);}const _0x2080b2=document['querySelector']('.submit-comment-btn');_0x2080b2&&(_0x2080b2['disabled']=!![],_0x2080b2['textContent']='Submitting...');try{if(_0x14b8f1==='comment'){const _0x3f10e7=document[_0x2d93d2(0x1ca)](_0x2d93d2(0x1b6))['value']['trim']();if(!_0x3f10e7){alert(_0x2d93d2(0x1c5)),_0x2080b2['disabled']=![],_0x2080b2['textContent']='Submit';return;}const _0x1da8da=_0x3f10e7[_0x2d93d2(0x1ee)](/\s+/)[_0x2d93d2(0x211)](_0x27c7e8=>_0x27c7e8[_0x2d93d2(0x1cb)]>0x0)[_0x2d93d2(0x1cb)];if(_0x1da8da>0xf){alert('Comments\x20are\x20limited\x20to\x2015\x20words\x20maximum.\x20Please\x20shorten\x20your\x20comment.'),_0x2080b2[_0x2d93d2(0x1b8)]=![],_0x2080b2['textContent']='Submit';return;}const _0xecc200={'matchId':_0x46bc98,'userId':_0x5e89cb['uid'],'username':_0x4fc675,'text':_0x3f10e7,'type':_0x2d93d2(0x1b3),'timestamp':serverTimestamp()},_0x10fb7c=collection(window['db'],'matchComments');await addDoc(_0x10fb7c,_0xecc200);}else{const _0x1710ba=document['getElementById']('demoLink')['value'][_0x2d93d2(0x20d)](),_0x160403=document['getElementById']('demoDescription')['value']['trim']()||'Demo\x20link';if(!_0x1710ba){alert('Please\x20enter\x20a\x20demo\x20link'),_0x2080b2['disabled']=![],_0x2080b2['textContent']=_0x2d93d2(0x1ef);return;}try{new URL(_0x1710ba);}catch(_0xf00863){alert('Please\x20enter\x20a\x20valid\x20URL\x20for\x20the\x20demo\x20link'),_0x2080b2[_0x2d93d2(0x1b8)]=![],_0x2080b2['textContent']='Submit';return;}const _0x310324=_0x160403[_0x2d93d2(0x1ee)](/\s+/)['filter'](_0x362647=>_0x362647['length']>0x0)['length'];if(_0x310324>0x14){alert('Demo\x20descriptions\x20are\x20limited\x20to\x2020\x20words\x20maximum.\x20Please\x20shorten\x20your\x20description.'),_0x2080b2[_0x2d93d2(0x1b8)]=![],_0x2080b2['textContent']='Submit';return;}const _0x3ed2c6={'matchId':_0x46bc98,'userId':_0x5e89cb['uid'],'username':_0x4fc675,'demoLink':_0x1710ba,'description':_0x160403,'type':'demo','text':'Demo:\x20'+_0x160403,'timestamp':serverTimestamp()},_0x3b97d1=collection(window['db'],'matchComments');await addDoc(_0x3b97d1,_0x3ed2c6);}closeAddCommentPopup(),loadRecentMatchesPreview('current');}catch(_0xad96d6){console['error'](_0x2d93d2(0x1bb),_0xad96d6),alert('Failed\x20to\x20submit:\x20'+_0xad96d6['message']),_0x2080b2&&(_0x2080b2['disabled']=![],_0x2080b2['textContent']=_0x2d93d2(0x1ef));}}function getEloRankClass(_0x21832d){const _0x4ff204=a6_0x24b1bc,_0x4741f4=Number(_0x21832d);if(_0x4741f4>=0x7d0)return'emerald';else{if(_0x4741f4>=0x708)return _0x4ff204(0x1ff);else{if(_0x4741f4>=0x640)return'silver';else{if(_0x4741f4>=0x578)return'bronze';else return _0x4ff204(0x216);}}}}function showPreviewCommentPopup(_0x516ba6,_0x39f4fb,_0x50f760=a6_0x24b1bc(0x222)){const _0x48ee09=a6_0x24b1bc,_0x4bdc02=document['getElementById']('commentPopupPreview'),_0x464461=document['getElementById']('commentOverlayPreview'),_0x8a5a3e=document['getElementById']('commentPopupTitlePreview'),_0x56c3d0=document[_0x48ee09(0x1ca)](_0x48ee09(0x223)),_0x4a61f6=document['getElementById'](_0x48ee09(0x1a0));if(!_0x4bdc02||!_0x464461||!_0x8a5a3e||!_0x56c3d0||!_0x4a61f6)return;_0x4bdc02['dataset']['commentText']=_0x516ba6,_0x4bdc02['dataset']['commentUser']=_0x39f4fb,_0x8a5a3e[_0x48ee09(0x21d)]['color']=_0x50f760,_0x8a5a3e['textContent']='Comment\x20from\x20'+_0x39f4fb,_0x56c3d0[_0x48ee09(0x215)]=_0x516ba6,_0x4a61f6['onclick']=reportComment,_0x4bdc02['style'][_0x48ee09(0x1c3)]='block',_0x464461['style'][_0x48ee09(0x1c3)]='block';}function closePreviewCommentPopup(){const _0x5b2616=a6_0x24b1bc,_0xb4ed9c=document['getElementById'](_0x5b2616(0x205)),_0x5669a5=document[_0x5b2616(0x1ca)]('commentOverlayPreview');if(_0xb4ed9c)_0xb4ed9c['style'][_0x5b2616(0x1c3)]='none';if(_0x5669a5)_0x5669a5[_0x5b2616(0x21d)]['display']='none';}async function reportComment(){const _0x17334f=a6_0x24b1bc,_0x5ed449=window[_0x17334f(0x1c2)]['currentUser'];if(!_0x5ed449){alert(_0x17334f(0x18d));return;}if(!confirm('Are\x20you\x20sure\x20you\x20want\x20to\x20report\x20this\x20comment\x20as\x20inappropriate?'))return;try{const _0x205693=document['getElementById'](_0x17334f(0x205)),_0x3d678d={'commentAuthor':_0x205693['dataset'][_0x17334f(0x1f0)]||'Unknown\x20User','commentText':_0x205693[_0x17334f(0x1d6)][_0x17334f(0x1b6)]||'','matchId':previewState[_0x17334f(0x220)]||'','reportedBy':_0x5ed449['uid'],'reporterUsername':_0x5ed449['displayName']||_0x17334f(0x214),'reportedAt':serverTimestamp()},_0x375174=collection(window['db'],_0x17334f(0x1da));await addDoc(_0x375174,_0x3d678d),alert('Thank\x20you.\x20The\x20comment\x20has\x20been\x20reported\x20and\x20will\x20be\x20reviewed.'),closePreviewCommentPopup();}catch(_0x7320d3){console['error']('Error\x20reporting\x20comment:',_0x7320d3),alert('Failed\x20to\x20report\x20comment:\x20'+_0x7320d3[_0x17334f(0x1b4)]);}}function showFullCommentLightbox(_0x4ea2d8){const _0x11bf96=a6_0x24b1bc;if(isUsernameMuted(_0x4ea2d8['username']))return;const _0x42092e=document['getElementById']('commentPopupPreview'),_0x5649d9=document[_0x11bf96(0x1ca)]('commentOverlayPreview'),_0x1f5571=document[_0x11bf96(0x1ca)](_0x11bf96(0x209)),_0x1feca3=document[_0x11bf96(0x1ca)]('commentPopupContentPreview');if(!_0x42092e||!_0x5649d9||!_0x1f5571||!_0x1feca3)return;_0x1f5571[_0x11bf96(0x21d)]['color']=_0x11bf96(0x222),_0x1f5571['textContent']='Comment\x20from\x20'+_0x4ea2d8[_0x11bf96(0x1b0)];if(_0x4ea2d8['timestamp']){const _0x2ad44b=new Date(_0x4ea2d8[_0x11bf96(0x1e1)]['seconds']*0x3e8),_0xa4a217=_0x2ad44b['toLocaleString']();_0x1feca3['innerHTML']='<p>'+_0x4ea2d8['text']+'</p><small\x20style=\x22color:#aaa;\x20display:block;\x20text-align:right;\x20margin-top:10px;\x22>Posted\x20on\x20'+_0xa4a217+_0x11bf96(0x1c1);}else _0x1feca3['textContent']=_0x4ea2d8['text'];_0x42092e[_0x11bf96(0x1d6)]['commentId']=_0x4ea2d8['id']||'',_0x42092e['dataset'][_0x11bf96(0x1f0)]=_0x4ea2d8['username']||'',_0x42092e['dataset']['commentText']=_0x4ea2d8['text']||'',_0x42092e[_0x11bf96(0x1d6)]['matchId']=_0x4ea2d8[_0x11bf96(0x1f6)]||'';const _0x10fab5=_0x42092e['querySelector']('.popup-actions')||document['createElement'](_0x11bf96(0x200));!_0x42092e[_0x11bf96(0x18e)](_0x11bf96(0x1aa))?(_0x10fab5['className']='popup-actions',_0x10fab5[_0x11bf96(0x21d)]['display']=_0x11bf96(0x217),_0x10fab5['style']['justifyContent']='center',_0x10fab5['style']['gap']='10px',_0x10fab5['style']['marginTop']='15px',_0x42092e['appendChild'](_0x10fab5)):_0x10fab5['innerHTML']='';const _0x4ca6a2=document['createElement'](_0x11bf96(0x203));_0x4ca6a2[_0x11bf96(0x215)]='Close',_0x4ca6a2['className']='popup-btn\x20close-btn',_0x4ca6a2['id']='closeCommentPopupPreview',_0x4ca6a2['addEventListener'](_0x11bf96(0x19f),closePreviewCommentPopup);const _0x355898=document[_0x11bf96(0x1f2)]('button');_0x355898['textContent']='Report',_0x355898[_0x11bf96(0x19b)]='popup-btn\x20report-btn',_0x355898['style']['backgroundColor']='#d32f2f',_0x355898['addEventListener']('click',reportComment),_0x10fab5['appendChild'](_0x4ca6a2),_0x10fab5[_0x11bf96(0x21f)](_0x355898),_0x42092e[_0x11bf96(0x21d)][_0x11bf96(0x1c3)]='block',_0x5649d9['style'][_0x11bf96(0x1c3)]='block';}export function setupPreviewEventListeners(){const _0x36f73a=a6_0x24b1bc,_0x4156e3=document[_0x36f73a(0x1ca)](_0x36f73a(0x178)),_0x274819=document['getElementById']('previewNextPage'),_0x6acb11=document['getElementById']('preview-d1-button'),_0x58f9a0=document[_0x36f73a(0x1ca)]('preview-d2-button'),_0x1d7dd3=document['getElementById']('preview-d3-button'),_0xdb3ac6=document[_0x36f73a(0x1ca)](_0x36f73a(0x1b1)),_0x2a6bbc=document['getElementById']('enhanced-filter-section');if(!_0x4156e3||!_0x274819||!_0x6acb11||!_0x58f9a0||!_0x1d7dd3||!_0xdb3ac6||!_0x2a6bbc){console['warn']('Preview\x20UI\x20or\x20Filter\x20elements\x20not\x20found,\x20cannot\x20attach\x20listeners.');return;}_0x4156e3[_0x36f73a(0x1f3)]('click',()=>{const _0x3d95d0=_0x36f73a;if(!_0x4156e3[_0x3d95d0(0x1b8)])loadRecentMatchesPreview(_0x3d95d0(0x193));}),_0x274819['addEventListener'](_0x36f73a(0x19f),()=>{const _0x5cfabc=_0x36f73a;if(!_0x274819[_0x5cfabc(0x1b8)])loadRecentMatchesPreview('next');}),_0x6acb11[_0x36f73a(0x1f3)]('click',()=>{previewState['currentMode']!=='D1'&&!previewState['isLoading']&&(previewState['currentMode']='D1',updatePreviewLadderModeUI(),loadRecentMatchesPreview('current'));}),_0x58f9a0['addEventListener']('click',()=>{const _0x343687=_0x36f73a;previewState['currentMode']!=='D2'&&!previewState['isLoading']&&(previewState[_0x343687(0x196)]='D2',updatePreviewLadderModeUI(),loadRecentMatchesPreview(_0x343687(0x17a)));}),_0x1d7dd3['addEventListener']('click',()=>{const _0x59f7f7=_0x36f73a;previewState['currentMode']!=='D3'&&!previewState['isLoading']&&(previewState[_0x59f7f7(0x196)]='D3',updatePreviewLadderModeUI(),loadRecentMatchesPreview('current'));});_0xdb3ac6&&_0x2a6bbc&&_0xdb3ac6['addEventListener'](_0x36f73a(0x19f),()=>{const _0x5cec5b=_0x36f73a,_0x5782c0=_0x2a6bbc['style']['display']!==_0x5cec5b(0x186);_0x2a6bbc[_0x5cec5b(0x21d)]['display']=_0x5782c0?_0x5cec5b(0x186):_0x5cec5b(0x18f),_0xdb3ac6['classList']['toggle']('active',!_0x5782c0);});const _0x52cf18=document['getElementById']('apply-enhanced-filters'),_0x7a6735=document['getElementById'](_0x36f73a(0x1fe));_0x52cf18&&_0x52cf18['addEventListener']('click',()=>{const _0x58dc98=_0x36f73a;previewState[_0x58dc98(0x17d)]['pilots']=document['getElementById']('filter-pilots')['value']['trim'](),previewState['enhancedFilters']['levels']=document['getElementById']('filter-levels')['value']['trim']();const _0x4a6b4e=document['getElementById'](_0x58dc98(0x1c9));previewState['enhancedFilters'][_0x58dc98(0x201)]=Array[_0x58dc98(0x1d5)](_0x4a6b4e['selectedOptions'])['map'](_0x507fcc=>_0x507fcc[_0x58dc98(0x183)])['filter'](_0x2a1d70=>_0x2a1d70!==''),loadRecentMatchesPreview(_0x58dc98(0x17a));});_0x7a6735&&_0x7a6735['addEventListener'](_0x36f73a(0x19f),()=>{clearEnhancedFilters(),loadRecentMatchesPreview('current');});document['querySelectorAll']('.jump-btn')[_0x36f73a(0x228)](_0xc5055a=>{_0xc5055a['addEventListener']('click',()=>{const _0x1c4bcd=_0xc5055a['dataset']['jump'];jumpToPage(_0x1c4bcd);});});const _0x264747=document['getElementById']('jump-to-page');_0x264747&&_0x264747['addEventListener'](_0x36f73a(0x191),_0xbbd6c2=>{_0xbbd6c2['key']==='Enter'&&jumpToPage('input');});const _0x10bc51=document['getElementById']('closeCommentPopupPreview'),_0xcba292=document['getElementById']('commentOverlayPreview');if(_0x10bc51)_0x10bc51[_0x36f73a(0x1f3)]('click',closePreviewCommentPopup);if(_0xcba292)_0xcba292['addEventListener']('click',closePreviewCommentPopup);const _0x2cdfc1=document['getElementById']('closeAddCommentPopup'),_0x4e01b9=document['getElementById']('commentAddOverlay'),_0x188793=document[_0x36f73a(0x1ca)]('addCommentForm');if(_0x2cdfc1)_0x2cdfc1[_0x36f73a(0x1f3)]('click',closeAddCommentPopup);if(_0x4e01b9)_0x4e01b9[_0x36f73a(0x1f3)]('click',closeAddCommentPopup);if(_0x188793)_0x188793['addEventListener']('submit',submitComment);const _0x353bea=document['getElementById']('commentText'),_0x3f95bb=document['getElementById']('wordCount');_0x353bea&&_0x3f95bb&&setupWordCounter('commentText',_0x36f73a(0x1ad),0xf);}window['showAddCommentPopup']=showAddCommentPopup,window[a6_0x24b1bc(0x1d3)]=closeAddCommentPopup,window[a6_0x24b1bc(0x212)]=submitComment;