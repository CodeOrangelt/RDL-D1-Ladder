const a46A=a46b;(function(a,b){const z=a46b,c=a();while(!![]){try{const d=-parseInt(z(0x133))/0x1+parseInt(z(0x199))/0x2+parseInt(z(0x176))/0x3+parseInt(z(0x164))/0x4+-parseInt(z(0x12b))/0x5*(-parseInt(z(0x173))/0x6)+parseInt(z(0x113))/0x7*(parseInt(z(0x1a4))/0x8)+parseInt(z(0x14f))/0x9*(-parseInt(z(0x132))/0xa);if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a46a,0xebe9c));import{collection,getDocs,query,orderBy,limit,where,startAfter}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db}from'./firebase-config.js';const MIN_MATCHES_REQUIREMENT=0xa,CACHE_DURATION_MS=0x1e*0x3c*0x3e8,MAX_PLAYERS_PER_BATCH=0x32,MAX_MATCHES_PER_BATCH=0x64,state={'currentGameMode':'D1','cache':{'D1':{'playerStats':null,'playerSnapshot':null,'matchSnapshot':null,'timestamp':0x0,'fullDataLoaded':![]},'D2':{'playerStats':null,'playerSnapshot':null,'matchSnapshot':null,'timestamp':0x0,'fullDataLoaded':![]}},'isLoadingMore':![]};let mapChart=null;console['log']('🚀\x20Ultra-optimized\x20records.js\x20loaded!'),console['log'](a46A(0x18d));function getPlayerTier(a){const B=a46A;if(a===undefined||a===null)return'default';const b=Number(a);if(isNaN(b))return B(0x162);if(b>=0x7d0)return B(0x1ac);if(b>=0x708)return B(0x17c);if(b>=0x640)return'silver';if(b>=0x578)return'bronze';return B(0x162);}function updateRecordCard(a,b,c='',d=![]){const C=a46A,e=document['getElementById'](a);if(!e){console['warn']('Element\x20with\x20ID\x20\x22'+a+C(0x144));return;}const f=getPlayerTier(b['elo']);let g=b['value'];d&&b[C(0x18f)]>0x0&&(g='+'+b['value']),e[C(0x154)]=C(0x111)+f+C(0x193)+b['username']+'</span>\x20<span\x20class=\x22record-stat\x22>('+g+c+C(0x177);}async function loadRecords(){const D=a46A;try{console[D(0x1bc)](D(0x149)+state[D(0x197)]+D(0x141)),document[D(0x1a8)](D(0x13a))['forEach'](k=>k[D(0x16e)]=D(0x16d)),document[D(0x1a8)]('.tier-players')[D(0x184)](k=>k['innerHTML']='<div\x20class=\x22loading-msg\x22>Loading\x20players...</div>');const a=state['currentGameMode'],b=a==='D1'?'players':'playersD2',c=a==='D1'?'approvedMatches':D(0x157),d=Date['now'](),e=state[D(0x116)][a];if(e['playerStats']&&e['playerSnapshot']&&d-e[D(0x123)]<CACHE_DURATION_MS){console[D(0x1bc)]('✅\x20Using\x20cached\x20'+a+D(0x198)),updateRecordDisplay(e[D(0x1a7)]),await updateTopPlayersByTier(e[D(0x152)]),updateSummaryStats(e['playerSnapshot']);return;}console['log']('📥\x20Fetching\x20ALL\x20data\x20from\x20'+b+D(0x140)+c+'...');const f=collection(db,b),g=collection(db,c),[h,i]=await Promise[D(0x179)]([getDocs(f),getDocs(g)]);console[D(0x1bc)](D(0x16c)+h[D(0x172)]+D(0x18e)+i[D(0x172)]+'\x20matches');const j=await calculateOptimizedStats(h,i,a);console[D(0x1bc)](D(0x1b6)+j[D(0x172)]+'\x20players'),state['cache'][a]={'playerStats':j,'playerSnapshot':h,'matchSnapshot':i,'timestamp':d,'fullDataLoaded':!![]},updateRecordDisplay(j),await updateTopPlayersByTier(h),updateSummaryStats(h),console['log'](D(0x188));}catch(k){console[D(0x1a1)]('❌\x20Error\x20loading\x20'+state['currentGameMode']+'\x20records:',k),document[D(0x1a8)](D(0x13a))[D(0x184)](l=>l['textContent']=D(0x17f)),document['querySelectorAll'](D(0x1ba))['forEach'](l=>{const E=D;l[E(0x154)]='<div\x20class=\x22loading-msg\x22>Error\x20loading\x20data</div>';});}}async function calculateOptimizedStats(a,b,c){const G=a46A,d=new Map(),e=new Map();return b['forEach'](f=>{const F=a46b,g=f['data']();if(!g['winnerUsername']||!g['loserUsername'])return;!e[F(0x158)](g['winnerUsername'])&&e[F(0x1a3)](g[F(0x18a)],{'wins':[],'losses':[]}),!e[F(0x158)](g[F(0x130)])&&e['set'](g['loserUsername'],{'wins':[],'losses':[]}),e['get'](g[F(0x18a)])[F(0x16f)][F(0x186)](g),e['get'](g[F(0x130)])[F(0x181)][F(0x186)](g);}),a[G(0x184)](f=>{const H=G,g=f['data'](),h=g[H(0x138)];if(!h)return;const i=e['get'](h)||{'wins':[],'losses':[]},j=i[H(0x16f)][H(0x1ab)],k=i['losses']['length'],l=j+k;let m=0x0,n=0x0,o=0x0,p=0x0;i[H(0x16f)]['forEach'](s=>{const I=H,t=parseInt(s[I(0x166)])||0x0,u=parseInt(s[I(0x1b7)])||0x0;m+=t,n+=u,o+=parseInt(s[I(0x124)])||0x0,p+=t-u;}),i[H(0x181)][H(0x184)](s=>{const J=H,t=parseInt(s['winnerScore'])||0x0,u=parseInt(s[J(0x1b7)])||0x0;m+=u,n+=t,o+=parseInt(s['loserSuicides'])||0x0,p-=t-u;});const q=n>0x0?parseFloat((m/n)[H(0x15a)](0x2)):m,r=l>0x0?parseFloat((j/l*0x64)['toFixed'](0x1)):0x0;d[H(0x1a3)](h,{'wins':j,'losses':k,'totalMatches':l,'kdRatio':q,'winRate':r,'totalKills':m,'totalDeaths':n,'totalSuicides':o,'scoreDifferential':p,'eloRating':g[H(0x187)]||0x4b0,'position':g[H(0x168)],'isPartialData':!![]});}),console[G(0x1bc)](G(0x1b6)+d['size']+G(0x107)),d;}function addLoadMoreOption(a){const K=a46A,b=state['cache'][a];if(b['fullDataLoaded'])return;const c=document[K(0x1b4)](K(0x171))||document['querySelector'](K(0x14a));if(c&&!document[K(0x17d)](K(0x15d))){const d=document['createElement']('button');d['id']='load-more-btn',d[K(0x18c)]=K(0x15d),d[K(0x154)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Load\x20Complete\x20Dataset\x20(All\x20Players\x20&\x20Matches)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small>May\x20take\x20longer\x20but\x20shows\x20complete\x20statistics</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',d[K(0x192)]('click',()=>loadCompleteDataset(a)),c[K(0x112)](d);}}async function loadCompleteDataset(a){const L=a46A;if(state[L(0x11f)])return;state[L(0x11f)]=!![];const b=document[L(0x17d)](L(0x15d));b&&(b[L(0x154)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading\x20complete\x20dataset...',b[L(0x14e)]=!![]);try{console['log'](L(0x180));const c=a==='D1'?L(0x19c):L(0x11c),d=a==='D1'?'approvedMatches':'approvedMatchesD2',e=collection(db,c),f=collection(db,d),[g,h]=await Promise[L(0x179)]([getDocs(e),getDocs(f)]);console['log']('📊\x20Complete\x20dataset:\x20'+g['size']+L(0x18e)+h[L(0x172)]+'\x20matches');const i=await calculateCompleteStats(g,h);state[L(0x116)][a]={'playerStats':i,'playerSnapshot':g,'matchSnapshot':h,'timestamp':Date['now'](),'fullDataLoaded':!![]},updateRecordDisplay(i),await updateTopPlayersByTier(g),updateSummaryStats(g),b&&b['remove'](),console['log']('✅\x20Complete\x20dataset\x20loaded\x20successfully!');}catch(j){console['error'](L(0x10c),j),b&&(b['innerHTML']=L(0x114),b[L(0x14e)]=![]);}finally{state[L(0x11f)]=![];}}function a46a(){const aa=['Dgv4Da','Aw5Zzxj0qMvMB3jL','y3jLyxrLrwXLBwvUDa','8j+tIIbmB2fKzwq6ia','tg9HzgLUzY4UlG','Dgv4DenVBNrLBNq','D2LUCW','zw50CMLLCW','lNjLy29YzhmTz3jPza','C2L6zq','nKTyvKXRta','z2v0','lNbHCNrPywWTzgf0ys1PBMrPy2f0B3i','mtCYoda5vNnoDfHs','ktWVC3bHBJ4','BgvHC3qTC3vPy2LKzxm','ywXS','pc9KAxy+','lxbSyxLLCNm','z29Sza','z2v0rwXLBwvUDej5swq','y2f0y2G','rxjYB3i','8j+uHcbmB2fKAw5NienptvbmrvrfigrHDgfZzxqGkhrOAxmGD2LSBcb1C2uGBw9YzsbYzwfKCYKUlI4','Bg9ZC2vZ','yMvZDc1Rza','ig1HDgnOzxm8l3a+cIaGicaGicaGicaGicaGicaGicaGicaGidXWignSyxnZpsjLCNjVCI1TzxnZywDLiJ5dAgvJAYbJB25ZB2XLigzVCIbTyxrJAcbZDhj1y3r1CMuGzgvIDwCGAw5MBZWVCd4kicaGicaGicaGicaGicaGicaGica8l2rPDJ4kicaGicaGicaGicaGicaGia','zM9YrwfJAa','BwfWu3rHDhndAgfYDa','ChvZAa','zwXVuMf0Aw5N','4PYfifjLy29YzhmGBg9HzgvKihn1y2nLC3nMDwXSEse','Dg90ywXlAwXSCW','D2LUBMvYvxnLCM5HBwu','tM8GCgXHEwvYihn0yxrZigf2ywLSywjSzsb0BYbKAxnWBgf5ihjLy29YzhmU','y2XHC3noyw1L','8j+tIIbuAgLZihbHz2uGBM93ihvZzxmGFJuWihjLywrZigLUC3rLywqGB2yGmtaWmcSH','ihbSyxLLCNmSia','DMfSDwu','twfWihn0yxrZignVBNrHAw5LCIbUB3qGzM91BMqUieXVB2TPBMCGzM9YignVBNrHAw5LCNmUlI4','pc9KAxy+cIaGicaGicaGicaGidXKAxyGy2XHC3m9iNjLy29Yzc1ZDgf0iJ4','ywrKrxzLBNrmAxn0zw5LCG','lxjHBMSIpG','zgf0yq','cIaGicaUBg9Hzc1TB3jLlwj0BIb7cIaGicaGicaGyMfJA2DYB3vUzdOGBgLUzwfYlwDYywrPzw50kdeZnwrLzYWGiZy3m2fInYWGiZLJmJDImcK7cIaGicaGicaGy29SB3i6ihDOAxrLoWOGicaGicaGigjVCMrLCJOGBM9UztSkicaGicaGicbWywrKAw5NoIaXnxb4idi1ChG7cIaGicaGicaGyM9YzgvYlxjHzgL1CZOGohb4oWOGicaGicaGign1CNnVCJOGCg9PBNrLCJSkicaGicaGicbTyxjNAw46idiWChGGyxv0BZSkicaGicaGicbKAxnWBgf5oIbIBg9JAZSkicaGicaGicbMB250lxnPEMu6ide2ChG7cIaGicaGicaGzM9UDc13zwLNAhq6idyWmdSkicaGicaGicb0CMfUC2L0Aw9UoIbHBgWGmc4ZCYbLyxnLoWOGicaGicaGigjVEc1ZAgfKB3C6idaGnhb4ideYChGGCMDIysGXmdmSidu4lcaXodmSidaUmYK7cIaGicb9cIaGicakicaGic5SB2fKlw1VCMuTyNrUoMHVDMvYoM5VDcG6zgLZywjSzwqPihSkicaGicaGicb0CMfUC2zVCM06ihrYyw5ZBgf0zvKOltjWEcK7cIaGicaGicaGyM94lxnOywrVDZOGmca2ChGGmtzWEcbYz2jHkdeWmYWGntGSide4mYWGmc40ktSkicaGih0kicaGiaOGicaGlMXVywqTBw9Yzs1IDg46zgLZywjSzwqGEWOGicaGicaGig9WywnPDhK6idaUnZSkicaGicaGicbJDxjZB3i6ig5VDc1HBgXVD2vKoWOGicaGFqOGicaGcIaGicaUBg9Hzc1TB3jLlwj0BIbZBwfSBcb7cIaGicaGicaGzgLZCgXHEtOGyMXVy2S7cIaGicaGicaGzM9UDc1ZAxPLoIaXmNb4oWOGicaGicaGig1HCMDPBI10B3a6idvWEdSkicaGicaGicbVCgfJAxr5oIaWlJK7cIaGicb9cIaGicakicaGic5Wyxj0AwfSlwrHDgeTAw5KAwnHDg9YihSkicaGicaGicbIywnRz3jVDw5KoIbYz2jHkdi1nsWGmtKZlca3lcaWlJePoWOGicaGicaGigjVCMrLCJOGmxb4ihnVBgLKihjNyMeOmJu1lcaXotmSidCSidaUmYK7cIaGicaGicaGy29SB3i6icnMzMmXmdC7cIaGicaGicaGCgfKzgLUzZOGmtbWEcaXnxb4oWOGicaGicaGigjVCMrLCI1YywrPDxm6idzWEdSkicaGicaGicbTyxjNAw4TyM90Dg9ToIaYmhb4oWOGicaGicaGigzVBNqTC2L6ztOGmtrWEdSkicaGicaGicbKAxnWBgf5oIbMBgv4oWOGicaGicaGigfSAwDUlwL0zw1ZoIbJzw50zxi7cIaGicaGicaGz2fWoIa4ChG7cIaGicb9cIaGicakicaGic5Wyxj0AwfSlwrHDgeTAw5KAwnHDg9YigKGEWOGicaGicaGignVBg9YoIaJzMzJmta3oWOGicaGFqOGicaGcIaGicaVkIbfBMHHBMnLzcbnyxaGu3rHDhmGu3r5BgLUzYaQlWOGicaGlM1HCc1ZDgf0CY1OzwfKzxiGEWOGicaGicaGig1HCMDPBI1IB3r0B206idiWChG7cIaGicaGicaGDgv4Dc1HBgLNBJOGy2vUDgvYoWOGicaGFqOGicaGcIaGicaUBwfWlxn0yxrZlwHLywrLCIbOmYb7cIaGicaGicaGy29SB3i6icmZmZm7cIaGicaGicaGBwfYz2LUlwjVDhrVBtOGohb4oWOGicaGicaGigzVBNqTC2L6ztOGms40zw07cIaGicb9cIaGicakicaGic5TyxaTC3rHDhmTAgvHzgvYic50B3rHBc1TyxrJAgvZihSkicaGicaGicbJB2XVCJOGiZy2nJSkicaGicaGicbMB250lxnPEMu6idaUowvToWOGicaGicaGig1HCMDPBJOGmdSkicaGih0kicaGiaOGicaGlM1HCc1ZDgf0CY1SAxn0ihSkicaGicaGicbKAxnWBgf5oIbMBgv4oWOGicaGicaGigzSzxGTzgLYzwn0Aw9UoIbJB2X1Bw47cIaGicaGicaGz2fWoIaXmNb4oWOGicaGFqOGicaGcIaGicaUBwfWlxn0yxqTAxrLBsb7cIaGicaGicaGyMfJA2DYB3vUzdOGCMDIysGYntuSidi1nsWGmJu1lcaWlJGPoWOGicaGicaGigjVCMrLCJOGmxb4ihnVBgLKihjNyMeOmcWGmcWGmcWGmc4XktSkicaGicaGicbIB3jKzxiTCMfKAxvZoIa4ChG7cIaGicaGicaGCgfKzgLUzZOGmtjWEdSkicaGicaGicb0CMfUC2L0Aw9UoIbHBgWGmc4YCYbLyxnLoWOGicaGicaGign1CNnVCJOGCg9PBNrLCJSkicaGih0kicaGiaOGicaGlM1HCc1ZDgf0lwL0zw06Ag92zxiGEWOGicaGicaGigjHy2TNCM91BMq6ihjNyMeOmJu1lcaYntuSidi1nsWGmc45nsK7cIaGicaGicaGDhjHBNnMB3jToIb0CMfUC2XHDgvzkc0XChGPoWOGicaGicaGigjVEc1ZAgfKB3C6idaGnhb4ideYChGGCMDIysGWlcaWlcaWlcaWlJePoWOGicaGFqOGicaGcIaGicaUBwfWlwLUzM8GEWOGicaGicaGigrPC3bSyxK6igzSzxG7cIaGicaGicaGANvZDgLMEs1JB250zw50oIbZCgfJzs1Izxr3zwvUoWOGicaGicaGigfSAwDUlwL0zw1ZoIbJzw50zxi7cIaGicaGicaGBwfYz2LUlwjVDhrVBtOGohb4oWOGicaGFqOGicaGcIaGicaUBwfWlxjHBMSGEWOGicaGicaGigzVBNqTD2vPz2H0oIbIB2XKoWOGicaGicaGignVBg9YoIaJnJCZywi3oWOGicaGicaGig1PBI13Awr0AdOGmZbWEdSkicaGih0kicaGiaOGicaGlM1HCc1Uyw1LihSkicaGicaGicbMB250lxDLAwDODdOGnJaWoWOGicaGicaGignVBg9YoIaJmZmZoWOGicaGicaGigzSzxG6ide7cIaGicaGicaGBwfYz2LUlwXLzNq6ideYChG7cIaGicb9cIaGicakicaGic5TyxaTy291BNqGEWOGicaGicaGignVBg9YoIaJnJy2oWOGicaGicaGigzVBNqTC2L6ztOGmc45zw07cIaGicb9cIaGicakicaGic5TyxaTyMfYlwnVBNrHAw5LCIb7cIaGicaGicaGzgLZCgXHEtOGzMXLEdSkicaGicaGicbHBgLNBI1PDgvTCZOGy2vUDgvYoWOGicaGicaGigDHCdOGmtbWEdSkicaGih0kicaGiaOGicaGlM1HCc1IyxiGEWOGicaGicaGigzSzxG6ide7cIaGicaGicaGAgvPz2H0oIa2ChG7cIaGicaGicaGyMfJA2DYB3vUzdOGBgLUzwfYlwDYywrPzw50kdKWzgvNlcaJnJCZywi3lcaJowmYn2iWktSkicaGicaGicbIB3jKzxiTCMfKAxvZoIaZChG7cIaGicaGicaGDhjHBNnPDgLVBJOGD2LKDgGGmc4ZCYbLyxnLoWOGicaGFqOGicaGcIaGicaUBwfWlxbLCMnLBNrHz2uGEWOGicaGicaGigzVBNqTC2L6ztOGmc44zw07cIaGicaGicaGy29SB3i6icm2nJy7cIaGicaGicaGBwLUlxDPzhrOoIaZnxb4oWOGicaGicaGihrLEhqTywXPz246ihjPz2H0oWOGicaGFqOGicaGcIaGicaUBwfWlxn0yxrZlwzVB3rLCIb7cIaGicaGicaGBwfYz2LUlxrVCdOGmtvWEdSkicaGicaGicb0zxH0lwfSAwDUoIbJzw50zxi7cIaGicaGicaGCgfKzgLUzY10B3a6ide1ChG7cIaGicaGicaGyM9YzgvYlxrVCdOGmxb4ihnVBgLKihjNyMeOmcWGmcWGmcWGmc4XktSkicaGih0kicaGiaOGicaGlNjLBwfPBMLUzY1TyxbZihSkicaGicaGicbJB2XVCJOGiZy2nJSkicaGicaGicbMB250lxnPEMu6idaUowvToWOGicaGicaGig1HCMDPBJOGmdSkicaGicaGicbMB250lxn0EwXLoIbPDgfSAwm7cIaGicb9cIaGicakicaGic5LCNjVCI1TzxnZywDLihSkicaGicaGicbJB2XVCJOGi2rJmZu0ntSkicaGicaGicbMB250lxn0EwXLoIbPDgfSAwm7cIaGicaGicaGDgv4Dc1HBgLNBJOGy2vUDgvYoWOGicaGicaGihbHzgrPBMC6idiWChG7cIaGicb9cG','ig1HDgnOzxmGD2L0AcbTyxaGzgf0ysbVDxqGB2yG','y3vYCMvUDeDHBwvnB2rL','ihjLy29YzhmGzgf0yq','mJu4mta2mKPlvK5crq','lMnOyxj0lwnVBNrHAw5LCG','ihn1AwnPzgvZigLUia','CgXHEwvYCW','CMvTB3zL','DhjPBq','Bw9ZDc1SB3nZzxm','C2LSDMvY','zxjYB3i','D2LUuMf0zq','C2v0','mJeWntzkrwLIB3O','C3rYAw5NAwz5','tI9b','CgXHEwvYu3rHDhm','CxvLCNLtzwXLy3rVCKfSBa','DgHLBG','4PYfifnPBxbSzsbTyxaGCxvLCNKGC3vJy2vZC2z1BdOG','BgvUz3rO','zw1LCMfSza','ihvUAxf1zsbTyxbZ','BwfWugXHEwvK','lI4Vsfrntc9UyxyUAhrTBa','Bwf0y2HtBMfWC2HVDa','y29UDgfPBNm','Dg9vChbLCKnHC2u','cIaGicaGicaGicaGidXKAxyGy2XHC3m9iNbSyxLLCI1Uyw1LiJ4','CxvLCNLtzwXLy3rVCG','zM9VDgvYlxbSywnLAg9SzgvY','8j+tIIbdywXJDwXHDgvKihn0yxrZigzVCIa','Bg9Zzxjty29Yzq','lNrVz2DSzs1IDg4','y2XHC3nmAxn0','lNrPzxiTCgXHEwvYCW','re9nq29UDgvUDeXVywrLza','Bg9N','ihbSyxLLCNmGzNjVBsbVChrPBwL6zwqGzgf0yxnLDa','yxbWCM92zwrnyxrJAgvZ','Dg9WugXHEwvY','rxjYB3iGDxbKyxrPBMCGDg9WihbSyxLLCNmGyNKGDgLLCJOG','ihbSyxLLCNmGyw5KihjLy2vUDca','rxjYB3iGBg9HzgLUzYbJB21WBgv0zsbKyxrHC2v0oG','ywn0AxzL','cIaGicaGicaGicaGicaGica8zgL2ignSyxnZpsjTyxaTC3rHDhmTAgvHzgvYiJ4kicaGicaGicaGicaGicaGicaGica8Adm+tw9ZDcbqBgf5zwqGtwfWCYaTia','yMvZDc13Aw5YyxrL','y2HHCKf0','phnWyw4Gy2XHC3m9iNbSyxLLCI1Uyw1Lia','yxbWzw5Kq2HPBgq','mtyWm2rpwMLwsq','rxjYB3iGBg9HzgLUzYbJB21WBgv0zsbKyxrHic0Gq2XPy2SGDg8GCMv0CNK','Dg90ywXtDwLJAwrLCW','y2fJAgu','BM9Uzq','C29Tzq','C29YDa','pgrPDIbJBgfZCZ0IBg9HzgLUzY1TC2CIpKvYCM9YigXVywrPBMCGCgXHEwvYCZWVzgL2pG','pgrPDIbJBgfZCZ0IBg9HzgLUzY1TC2CIpK5VihbSyxLLCNmGAw4GDgHPCYb0AwvYpc9KAxy+','CgXHEwvYC0qY','BwvZC2fNzq','Dg90ywXnyxrJAgvZ','AxnmB2fKAw5Ntw9Yzq','ig1HDgnOzxm8l2rPDJ4kicaGicaGica','pc9ZCgfUpGOGicaGicaGicaGicaGicaGicaGicaGica8C3bHBIbJBgfZCZ0ICgXHEwvYlw5HBwuIpG','zgL2','DgLTzxn0yw1W','D2LUBMvYu3vPy2LKzxm','yNjVBNPL','C3vPy2LKzvjHDgu','ig1VzguUlI4','qxzHAwXHyMXLigzPzwXKCZO','pc9ZCgfUpGOGicaGicaGicaGicaGicaGicaGidWVzgL2pGOGicaGicaGicaGicaGicaGicaGidXKAxyGy2XHC3m9iNrPzxiTy291BNqIpGOGicaGicaGicaGicaGicaGicaGicaGica','ig1VCMuGBwfWCYb3AxrOia','ndq5nte4nwPqDNjTAq','8j+uHcbgzxrJAgLUzYbTyxrJAgvZigzVCIbTyxaGC3rHDhmGkhnLCgfYyxrLihf1zxj5ks4UlG','zMLSDgvY','Dg90ywWTCgXHEwvYCW','pc9OmZ4kicaGicaGicaGicaGicaGicaGica8CcbJBgfZCZ0IzxjYB3iTBwvZC2fNzsi+rxjYB3iGBg9HzgLUzYbTyxaGC3rHDgLZDgLJCZOG','Bg9ZzxjvC2vYBMfTzq','BwfW','mte5nduWr3zjtK5p','nJu4nJq5v0PlqvDJ','y2XPy2S','A2rsyxrPBW','ig1HDgnOzxmGD2L0AcbTyxaGzgf0ysdIGkiG','zg9JCW','DxnLCM5HBwu','BwLU','lNjLy29Yzc12ywX1zq','zwXV','cIaGicaGicaGicaGidXKAxyGy2XHC3m9iM1HCc1ZDgf0CY1OzwfKzxiIpGOGicaGicaGicaGicaGicaGpgGZpVcFL7RVUi8Gtw9ZDcbqBgf5zwqGtwfWCYaTia','ig1HDgnOzxmkicaGicaGica','BM93','Bg9ZzxjtDwLJAwrLCW','igfUzca','ihjLy29YzhmUlI4','BMf2lxbSywnLAg9SzgvY','4PYfifvZAw5NignHy2HLzcbTyxrJAcbKyxrHigzVCIbTyxaGC3rHDhmGkgzYB20GBg9HzfjLy29YzhmP','iIbUB3qGzM91BMqU','CgXHEwvY','CM91BMq','pc9ZCgfUpGOGicaGicaGicaGicaGicaGicaGicaGica8C3bHBIbJBgfZCZ0ICgXHEwvYlwjHzgDLiJ5czxn0ia','ig1HDgnOzxmGka','8j+uHcbmB2fKAw5Nia','lNjLy29Yzhm','ig1HDgnOzxm','ihrVDgfS','jsKIpGOGicaGicaGicaGicaGicaGicaGidXKAxyGy2XHC3m9iM1HCc1PBMzViJ4kicaGicaGicaGicaGicaGicaGicaGicaGphnWyw4Gy2XHC3m9iM1HCc1Yyw5RiJ4J','zgLZywjSzwq','mte3owjjB3bZra','zgf0ys1Nyw1L','pc9ZCgfUpGOGicaGicaGicaGicaGicaGicaGicaGica8C3bHBIbJBgfZCZ0ICgXHEwvYlwvSBYi+','CgXHEwvYu25HChnOB3q','qxzHAwXHyMXLignVBNrHAw5LCNm6','Aw5Uzxjive1m','8j+tPsbvC2LUzYbZAw1WBguGz2v0rg9JCYaOBM8GB3jKzxjcEsb0BYbHDM9PzcbPBMrLEcbPC3n1zxmPlI4U','D2fYBG','yxbWCM92zwrnyxrJAgvZrdi','AgfZ','CMvQzwn0','Dg9gAxHLza','DMfSDwvZ','jtWVC3bHBJ4kicaGicaGicaGicaGicaGicaGica8l2rPDJ4kicaGicaGicaGicaGicaGidWVzgL2pGOGicaGicaGicaGica','Bg9Hzc1TB3jLlwj0BG','CgfYzw50rwXLBwvUDa','lM1HCc1ZDgf0CY1JB250ywLUzxi','8j+uHcbmB2fKAw5Nig1HCcbZDgf0CYbMB3iG','4P2mievYCM9YigXVywrPBMCG','zgvMyxvSDa','C2XPy2u','mtm1otm4mgj3C0Xgsa','CMvKDwnL','D2LUBMvYu2nVCMu','zNjVBq','Cg9ZAxrPB24'];a46a=function(){return aa;};return a46a();}function a46b(a,b){const c=a46a();return a46b=function(d,e){d=d-0x107;let f=c[d];if(a46b['PTzcex']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a46b['LTGMFV']=g,a=arguments,a46b['PTzcex']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a46b['LTGMFV'](f),a[i]=f):f=j,f;},a46b(a,b);}async function calculateCompleteStats(a,b){const M=a46A,c=new Map(),d=new Map();return b[M(0x184)](e=>{const N=M,f=e['data']();if(!f['winnerUsername']||!f[N(0x130)])return;!d['has'](f[N(0x18a)])&&d['set'](f[N(0x18a)],{'wins':[],'losses':[]}),!d[N(0x158)](f[N(0x130)])&&d['set'](f['loserUsername'],{'wins':[],'losses':[]}),d['get'](f['winnerUsername'])['wins']['push'](f),d[N(0x174)](f['loserUsername'])[N(0x181)][N(0x186)](f);}),a['forEach'](e=>{const O=M,f=e[O(0x194)](),g=f['username'];if(!g)return;const h=d['get'](g)||{'wins':[],'losses':[]},i=h['wins']['length'],j=h[O(0x181)][O(0x1ab)],k=i+j;let l=0x0,m=0x0,n=0x0,o=0x0;h['wins']['forEach'](r=>{const s=parseInt(r['winnerScore'])||0x0,t=parseInt(r['loserScore'])||0x0;l+=s,m+=t,n+=parseInt(r['winnerSuicides'])||0x0,o+=s-t;}),h['losses']['forEach'](r=>{const P=O,s=parseInt(r['winnerScore'])||0x0,t=parseInt(r['loserScore'])||0x0;l+=t,m+=s,n+=parseInt(r[P(0x13f)])||0x0,o-=s-t;});const p=m>0x0?parseFloat((l/m)['toFixed'](0x2)):l,q=k>0x0?parseFloat((i/k*0x64)['toFixed'](0x1)):0x0;c[O(0x1a3)](g,{'wins':i,'losses':j,'totalMatches':k,'kdRatio':p,'winRate':q,'totalKills':l,'totalDeaths':m,'totalSuicides':n,'scoreDifferential':o,'eloRating':f[O(0x187)]||0x4b0,'position':f[O(0x168)],'isPartialData':![]});}),c;}function updateRecordDisplay(a){const Q=a46A;if(!a||a[Q(0x172)]===0x0){console['warn'](Q(0x18b)),document[Q(0x1a8)](Q(0x13a))['forEach'](n=>n['textContent']='N/A');return;}let b={'username':'N/A','value':0x0,'elo':0x0},c={'username':Q(0x1a6),'value':0x0,'elo':0x0},d={'username':Q(0x1a6),'value':0x0,'elo':0x0},e={'username':Q(0x1a6),'value':0x0,'elo':0x0},f={'username':Q(0x1a6),'value':-Infinity,'elo':0x0},g={'username':Q(0x1a6),'value':0x0,'elo':0x0},h=null,i=Infinity,j={'username':'N/A','value':0x0,'elo':0x0},k={'username':'N/A','value':0x0,'elo':0x0};for(const [n,o]of a){const p=o['eloRating']||0x0;if(o[Q(0x16f)]>b[Q(0x18f)])b={'username':n,'value':o['wins'],'elo':p};if(o[Q(0x11e)]>=MIN_MATCHES_REQUIREMENT&&o['winRate']>c[Q(0x18f)])c={'username':n,'value':o['winRate'],'elo':p};if(o[Q(0x11e)]>=MIN_MATCHES_REQUIREMENT&&o['kdRatio']>d['value'])d={'username':n,'value':o['kdRatio'],'elo':p};if(o['totalMatches']>e[Q(0x18f)])e={'username':n,'value':o[Q(0x11e)],'elo':p};if(o['totalMatches']>=MIN_MATCHES_REQUIREMENT&&o['scoreDifferential']>f['value'])f={'username':n,'value':o['scoreDifferential'],'elo':p};if(o['losses']>g[Q(0x18f)])g={'username':n,'value':o['losses'],'elo':p};if(o['totalMatches']>=MIN_MATCHES_REQUIREMENT&&o['totalSuicides']>=0x0){const q=o['totalSuicides']/o[Q(0x11e)]*0x64;q<i&&(i=q,h={'username':n,'suicideRate':q,'totalSuicides':o['totalSuicides'],'totalMatches':o['totalMatches'],'elo':p});}if(o[Q(0x189)]>j['value'])j={'username':n,'value':o[Q(0x189)],'elo':p};if(o[Q(0x187)]>k[Q(0x18f)])k={'username':n,'value':Math[Q(0x146)](o['eloRating']),'elo':p};}updateRecordCard('most-wins',b),updateRecordCard(Q(0x10f),c,'%'),updateRecordCard(Q(0x182),d),updateRecordCard('most-matches',e),updateRecordCard('best-differential',f,'',!![]),updateRecordCard(Q(0x19f),g);const l=document['getElementById'](Q(0x178));if(h&&l){const r=getPlayerTier(h['elo']);l[Q(0x154)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-name\x20'+r+'-rank\x22>'+h[Q(0x138)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22record-stat\x22>('+h[Q(0x126)][Q(0x15a)](0x2)+'%)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22record-detail\x22>'+h[Q(0x115)]+Q(0x19b)+h[Q(0x11e)]+Q(0x120);}else l&&(l[Q(0x16e)]='No\x20data\x20available');updateRecordCard('most-kills',j),updateRecordCard('best-elo',k);const m=Array[Q(0x167)](a['values']())[Q(0x118)](s=>s['isPartialData']);m&&addPartialDataIndicator(),updateHiddenStatsDiv(a);}function addPartialDataIndicator(){const R=a46A,a=document[R(0x1b4)](R(0x171))||document[R(0x1b4)]('.records');if(a&&!document['querySelector'](R(0x175))){const b=document['createElement'](R(0x122));b['className']='partial-data-indicator',b['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-info-circle\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Showing\x20results\x20from\x20top\x20'+MAX_PLAYERS_PER_BATCH+R(0x10b)+MAX_MATCHES_PER_BATCH+R(0x13d),a[R(0x16a)](b,a['firstChild']);}}async function loadMapStats(){const S=a46A;try{console[S(0x1bc)](S(0x160)+state[S(0x197)]+'...');const a=state[S(0x197)],b=state['cache'][a];let c;if(b[S(0x1b0)]&&Date[S(0x13e)]()-b[S(0x123)]<CACHE_DURATION_MS)console['log'](S(0x143)),c=b[S(0x1b0)];else{console['log'](S(0x12c));const l=a==='D1'?S(0x108):S(0x157),m=collection(db,l);console[S(0x1bc)](S(0x155)),c=await getDocs(m),console['log'](S(0x1aa)+c[S(0x172)]+S(0x14b));}console['log']('📊\x20Processing\x20map\x20stats\x20from\x20'+c['size']+'\x20matches...');const d=new Map(),e=new Map();let f=0x0;c[S(0x184)](n=>{const T=S,o=n['data'](),p=o[T(0x1ae)]||o[T(0x131)]||o['mapName']||o['level'];if(p&&typeof p==='string'&&p['trim']()['length']>0x0){const q=p['toLowerCase']()[T(0x19e)]();d[T(0x1a3)](q,(d[T(0x174)](q)||0x0)+0x1),!e[T(0x158)](q)&&e['set'](q,{}),e['get'](q)[p]=(e[T(0x174)](q)[p]||0x0)+0x1,f++;}}),console[S(0x1bc)]('📊\x20Processed\x20'+f+S(0x196)+c['size']+S(0x14c)),console[S(0x1bc)]('📊\x20Found\x20'+d['size']+S(0x1ad));if(d[S(0x172)]===0x0){console[S(0x156)]('⚠️\x20No\x20maps\x20found\x20in\x20match\x20data');c['size']>0x0&&(console[S(0x1bc)]('🔍\x20Sample\x20match\x20structure\x20for\x20debugging:'),c[S(0x184)]((o,p)=>{const U=S;if(p===0x0){const q=o['data']();console[U(0x1bc)]('First\x20match\x20data:',q),console[U(0x1bc)](U(0x128),Object['keys'](q));}}));const n=document[S(0x17d)](S(0x185))?.[S(0x15e)]||document['querySelector'](S(0x19a))||document[S(0x1b4)](S(0x15f));n&&(n[S(0x154)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-stats-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Most\x20Played\x20Maps\x20-\x20'+state['currentGameMode']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22error-message\x22>No\x20map\x20data\x20found\x20in\x20'+c['size']+S(0x183));return;}const g=Array[S(0x167)](d['entries']())['sort']((o,p)=>p[0x1]-o[0x1])['slice'](0x0,0xf),h=g[S(0x1ab)]>0x0?g[0x0][0x1]:0x1,i=c['size'],j=document['getElementById'](S(0x185))?.['parentElement']||document[S(0x1b4)]('.chart-container')||document['querySelector']('.map-stats-container');if(!j){console[S(0x156)](S(0x190)),console[S(0x1bc)](S(0x153),{'mapStatsChart':!!document['getElementById']('mapStatsChart'),'chartContainer':!!document['querySelector']('.chart-container'),'mapStatsContainer':!!document['querySelector'](S(0x15f))});return;}let k=S(0x13c)+state[S(0x197)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22total-matches\x22>Based\x20on\x20'+f+S(0x136)+d[S(0x172)]+'\x20unique\x20maps</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-stats-list\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';g['forEach'](([o,p],q)=>{const V=S,r=e['get'](o);let s=o,t=0x0;for(const [x,y]of Object[V(0x170)](r)){y>t&&(t=y,s=x);}const u=Math[V(0x146)](p/h*0x64),v=Math['round'](p/f*0x64),w=q+0x1;k+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-stat-item\x22\x20title=\x22'+s+':\x20'+p+V(0x148)+v+V(0x14d)+w+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22map-name\x22>'+s+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22map-count\x22>'+p+'\x20matches</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-bar-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-bar\x22\x20style=\x22width:\x20'+u+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22map-percentage\x22>'+v+V(0x15c);}),k+=S(0x17a);if(d[S(0x172)]>0xf){const o=d['size']-0xf,p=Array[S(0x167)](d[S(0x15b)]())[S(0x163)](0xf)['reduce']((q,r)=>q+r,0x0);k+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-stats-footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22remaining-maps\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20+\x20'+o+S(0x12a)+p+'\x20total\x20matches\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}j[S(0x154)]=k,console['log']('✅\x20Map\x20stats\x20displayed:\x20'+g['length']+'\x20maps\x20shown');}catch(q){console['error'](S(0x161)+state[S(0x197)]+'\x20map\x20statistics:',q);const r=document['getElementById']('mapStatsChart')?.[S(0x15e)]||document[S(0x1b4)](S(0x19a));r&&(r['innerHTML']=S(0x10e)+state['currentGameMode']+S(0x12f)+q[S(0x11d)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}}async function updateTopPlayersByTier(a){const W=a46A;if(!a){console[W(0x1a1)]('playerSnapshot\x20not\x20provided\x20to\x20updateTopPlayersByTier');try{const b=state[W(0x197)]==='D1'?W(0x19c):W(0x11c);a=await getDocs(collection(db,b));}catch(c){console[W(0x1a1)]('Error\x20fetching\x20players\x20for\x20tiers:\x20'+c),document[W(0x1a8)]('.tier-players')['forEach'](d=>d['innerHTML']='<div\x20class=\x22loading-msg\x22>Error\x20loading\x20players</div>');return;}}try{document[W(0x1a8)]('.tier-players')[W(0x184)](e=>e['innerHTML']='<div\x20class=\x22loading-msg\x22>Processing...</div>');const d={'emerald':{'min':0x7d0,'players':[]},'gold':{'min':0x708,'players':[]},'silver':{'min':0x640,'players':[]},'bronze':{'min':0x578,'players':[]}};a[W(0x184)](e=>{const X=W,f=e[X(0x194)]();if(!f[X(0x138)])return;const g=f[X(0x187)]||0x4b0,h={'username':f[X(0x138)],'elo':g,'position':f[X(0x168)]||0x3e7};if(g>=d['emerald'][X(0x139)])d[X(0x1ac)]['players']['push'](h);else{if(g>=d['gold']['min'])d[X(0x17c)][X(0x19c)]['push'](h);else{if(g>=d['silver'][X(0x139)])d[X(0x1a0)][X(0x19c)][X(0x186)](h);else{if(g>=d['bronze'][X(0x139)])d[X(0x125)][X(0x19c)][X(0x186)](h);}}}});for(const e in d){const f=d[e];f['players'][W(0x1ab)]>0x0?(f['players'][W(0x119)]((h,i)=>{const Y=W,j=h[Y(0x168)]===0x3e7?Infinity:h[Y(0x168)],k=i[Y(0x168)]===0x3e7?Infinity:i[Y(0x168)];if(j!==k)return j-k;return i['elo']-h[Y(0x13b)];}),f[W(0x109)]=f['players'][0x0]):f[W(0x109)]=null;const g=document['getElementById'](e+W(0x17b));if(!g)continue;if(!f['topPlayer'])g[W(0x154)]=W(0x11b);else{const h=f[W(0x109)],i=h['position']&&h['position']<0x3e7?h['position']:0x1;g[W(0x154)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tier-player\x20top-player\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-rank\x22>#'+i+W(0x121)+h[W(0x138)]+W(0x151)+Math[W(0x146)](h[W(0x13b)])+W(0x147)+(e[W(0x110)](0x0)[W(0x1b2)]()+e['slice'](0x1))+W(0x129)+f[W(0x19c)][W(0x1ab)]+'\x20player'+(f[W(0x19c)]['length']!==0x1?'s':'')+'\x20in\x20'+state['currentGameMode']+'\x20'+e+'\x20tier\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';}}}catch(j){console[W(0x1a1)](W(0x10a)+j),document[W(0x1a8)](W(0x1ba))['forEach'](k=>k[W(0x154)]=W(0x11a));}}function updateSummaryStats(a){const Z=a46A;if(!a)return;const b=a['size'],c=a[Z(0x137)]['filter'](h=>h['data']()[Z(0x10d)]!==![])['length'],d=document['getElementById']('total-matches'),e=document['getElementById'](Z(0x12e)),f=document[Z(0x17d)]('last-updated'),g=state['cache'][state[Z(0x197)]]?.['playerStats'];if(g){const h=Array[Z(0x167)](g[Z(0x15b)]())[Z(0x165)]((i,j)=>i+j['totalMatches'],0x0)/0x2;if(d)d['textContent']=Math[Z(0x146)](h);}else{if(d)d[Z(0x16e)]=Z(0x1a6);}if(e)e[Z(0x16e)]=c;if(f)f['textContent']=new Date()['toLocaleDateString']();}function updateHiddenStatsDiv(a){const a0=a46A;let b=document[a0(0x17d)]('records-stats');!b&&(b=document[a0(0x16b)](a0(0x122)),b['id']='records-stats',b['style']['display']=a0(0x117),document['body'][a0(0x112)](b));const c=(e,f=()=>!![],g,h=e)=>Array['from'](a['entries']())[a0(0x12d)](f)['sort'](g)[a0(0x163)](0x0,0x3)[a0(0x131)](([i,j])=>({'name':i,[h]:j[h]})),d={'mode':state['currentGameMode'],'timestamp':new Date()['toISOString'](),'records':{'mostWins':c(a0(0x16f),()=>!![],(e,f)=>f[0x1][a0(0x16f)]-e[0x1][a0(0x16f)]),'bestWinRate':c(a0(0x1a2),([e,f])=>f['totalMatches']>=MIN_MATCHES_REQUIREMENT,(e,f)=>f[0x1]['winRate']-e[0x1]['winRate']),'bestKD':c('kdRatio',([e,f])=>f[a0(0x11e)]>=MIN_MATCHES_REQUIREMENT,(e,f)=>f[0x1]['kdRatio']-e[0x1][a0(0x135)]),'mostMatches':c('totalMatches',()=>!![],(e,f)=>f[0x1][a0(0x11e)]-e[0x1]['totalMatches'])}};b[a0(0x16e)]=JSON[a0(0x1a5)](d,null,0x2);}function setupGameModeToggle(){const a1=a46A,a=document['querySelectorAll'](a1(0x1b8));a[a1(0x184)](b=>{const a2=a1,c=b['cloneNode'](!![]);b['parentNode']['replaceChild'](c,b),c[a2(0x192)](a2(0x134),function(){const a3=a2;if(this['classList'][a3(0x1b1)](a3(0x10d)))return;const d=this['getAttribute'](a3(0x150))[a3(0x1b2)]();console[a3(0x1bc)]('Switching\x20to\x20'+d+a3(0x127)),document[a3(0x1a8)](a3(0x1b8))[a3(0x184)](f=>f[a3(0x1b9)]['remove']('active')),this['classList']['add']('active'),state[a3(0x197)]=d;const e=document[a3(0x17d)]('load-more-btn');if(e)e[a3(0x19d)]();loadRecords(),loadMapStats();});});}const style=document['createElement']('style');style['textContent']=a46A(0x195),document['head'][a46A(0x112)](style),document['addEventListener'](a46A(0x1bb),()=>{const a4=a46A;Promise['all']([fetch(a4(0x1af))[a4(0x1a9)](a=>a['ok']?a['text']():Promise['reject']('Nav\x20fetch\x20failed')),fetch('../HTML/footer.html')['then'](a=>a['ok']?a[a4(0x169)]():Promise[a4(0x159)]('Footer\x20fetch\x20failed'))])['then'](([a,b])=>{const a5=a4,c=document['getElementById'](a5(0x142)),d=document['getElementById'](a5(0x1b5));if(c)c[a5(0x154)]=a;if(d)d[a5(0x154)]=b;})[a4(0x17e)](a=>{const a6=a4;console[a6(0x1a1)]('Error\x20loading\x20nav\x20or\x20footer:',a);}),loadRecords(),loadMapStats(),setupGameModeToggle();});function calculatePlayerRecords(a,b){const a7=a46A;let c=null,d=Infinity;b[a7(0x184)](f=>{const a8=a7,g=a['filter'](j=>j[a8(0x18a)]===f[a8(0x138)]||j[a8(0x130)]===f['username']);if(g[a8(0x1ab)]<0x5)return;const h=g['reduce']((j,k)=>{const a9=a8;return k[a9(0x18a)]===f['username']?j+(k[a9(0x124)]||0x0):j+(k['loserSuicides']||0x0);},0x0),i=h/g[a8(0x1ab)]*0x64;i<d&&(d=i,c={'player':f[a8(0x138)],'suicideRate':i,'totalSuicides':h,'totalMatches':g['length']});});const e=document['getElementById'](a7(0x178));c?e[a7(0x154)]=a7(0x1b3)+c[a7(0x145)]+a7(0x191)+c[a7(0x126)]['toFixed'](0x2)+'%</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22record-detail\x22>'+c['totalSuicides']+a7(0x19b)+c[a7(0x11e)]+a7(0x120):e['textContent']='No\x20data\x20available';}