const a47_0x283ed8=a47_0x454a,a47_0x40568f=(function(){let _0x3ef88a=!![];return function(_0x2e9933,_0x8201fc){const _0x3e9947=_0x3ef88a?function(){const _0x1bdf43=a47_0x454a;if(_0x8201fc){const _0x2c1b66=_0x8201fc[_0x1bdf43(0x141)](_0x2e9933,arguments);return _0x8201fc=null,_0x2c1b66;}}:function(){};return _0x3ef88a=![],_0x3e9947;};}()),a47_0xe0100d=a47_0x40568f(this,function(){const _0x5a66d2=a47_0x454a,_0x35ece8=function(){const _0x574a74=a47_0x454a;let _0x344434;try{_0x344434=Function(_0x574a74(0x249)+_0x574a74(0x1ea)+');')();}catch(_0x124e97){_0x344434=window;}return _0x344434;},_0x48d67d=_0x35ece8(),_0x8c12f9=_0x48d67d[_0x5a66d2(0x1bb)]=_0x48d67d[_0x5a66d2(0x1bb)]||{},_0x1f0bc0=[_0x5a66d2(0x1ab),_0x5a66d2(0x1c7),_0x5a66d2(0x24e),_0x5a66d2(0x1f6),_0x5a66d2(0x233),_0x5a66d2(0x228),_0x5a66d2(0x26d)];for(let _0x2baf19=0x0;_0x2baf19<_0x1f0bc0[_0x5a66d2(0x21d)];_0x2baf19++){const _0x3fc793=a47_0x40568f[_0x5a66d2(0x1de)][_0x5a66d2(0x18e)][_0x5a66d2(0x1e0)](a47_0x40568f),_0x40d9a7=_0x1f0bc0[_0x2baf19],_0x529563=_0x8c12f9[_0x40d9a7]||_0x3fc793;_0x3fc793[_0x5a66d2(0x27c)]=a47_0x40568f[_0x5a66d2(0x1e0)](a47_0x40568f),_0x3fc793[_0x5a66d2(0x205)]=_0x529563[_0x5a66d2(0x205)][_0x5a66d2(0x1e0)](_0x529563),_0x8c12f9[_0x40d9a7]=_0x3fc793;}});a47_0xe0100d();import{approveReport}from'./ladderalgorithm.js';import{approveReportD2}from'./ladderalgorithm-d2.js';import{approveReportD3}from'./ladderalgorithm-d3.js';import{checkPendingMatches,updatePendingMatchNotification,updateNotificationDot}from'./checkPendingMatches.js';import{collection,getDocs,query,where,orderBy,serverTimestamp,doc,setDoc,getDoc,addDoc,updateDoc,deleteDoc}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{onAuthStateChanged}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';import{auth,db}from'./firebase-config.js';let currentUserEmail=null,confirmationNotification=null,outstandingReportData=null,currentGameMode='D1',outstandingMatches=[];function a47_0x454a(_0x4e757e,_0x25305f){const _0xe0100d=a47_0x4949();return a47_0x454a=function(_0x40568f,_0x333571){_0x40568f=_0x40568f-0x13b;let _0x494978=_0xe0100d[_0x40568f];return _0x494978;},a47_0x454a(_0x4e757e,_0x25305f);}document[a47_0x283ed8(0x158)](a47_0x283ed8(0x165),async()=>{const _0x1e7e20=a47_0x283ed8,_0x58c1f1={'authWarning':document[_0x1e7e20(0x1ed)](_0x1e7e20(0x24f)),'reportForm':document[_0x1e7e20(0x1ed)](_0x1e7e20(0x161)),'winnerUsername':document[_0x1e7e20(0x1ed)](_0x1e7e20(0x17b)),'loserUsername':document[_0x1e7e20(0x1ed)](_0x1e7e20(0x1af)),'loserScore':document[_0x1e7e20(0x1ed)](_0x1e7e20(0x1e3)),'suicides':document[_0x1e7e20(0x1ed)](_0x1e7e20(0x24d)),'mapPlayed':document[_0x1e7e20(0x1ed)](_0x1e7e20(0x147)),'loserComment':document[_0x1e7e20(0x1ed)](_0x1e7e20(0x18f)),'reportError':document[_0x1e7e20(0x1ed)](_0x1e7e20(0x1e2)),'reportLightbox':document[_0x1e7e20(0x1ed)](_0x1e7e20(0x1d7))};Object[_0x1e7e20(0x258)](_0x58c1f1)[_0x1e7e20(0x25b)](([_0x3d4cd0,_0x203343])=>{const _0x2ac343=_0x1e7e20;!_0x203343&&console[_0x2ac343(0x1c7)](_0x2ac343(0x13e)+_0x3d4cd0+_0x2ac343(0x26e));});const _0x45f432=document[_0x1e7e20(0x1ed)](_0x1e7e20(0x13d)),_0xd37c47=document[_0x1e7e20(0x1ed)](_0x1e7e20(0x154)),_0xc9a20a=document[_0x1e7e20(0x1ed)](_0x1e7e20(0x1fb));_0x45f432[_0x1e7e20(0x158)](_0x1e7e20(0x1a3),()=>{const _0x395825=_0x1e7e20;_0x38ebc9('D1'),_0x45f432[_0x395825(0x1c3)][_0x395825(0x1c6)](_0x395825(0x1aa)),_0xd37c47[_0x395825(0x1c3)][_0x395825(0x1f9)](_0x395825(0x1aa)),_0xc9a20a[_0x395825(0x1c3)][_0x395825(0x1f9)](_0x395825(0x1aa));}),_0xd37c47[_0x1e7e20(0x158)](_0x1e7e20(0x1a3),()=>{const _0x274b6f=_0x1e7e20;_0x38ebc9('D2'),_0xd37c47[_0x274b6f(0x1c3)][_0x274b6f(0x1c6)](_0x274b6f(0x1aa)),_0x45f432[_0x274b6f(0x1c3)][_0x274b6f(0x1f9)](_0x274b6f(0x1aa)),_0xc9a20a[_0x274b6f(0x1c3)][_0x274b6f(0x1f9)](_0x274b6f(0x1aa));}),_0xc9a20a[_0x1e7e20(0x158)](_0x1e7e20(0x1a3),()=>{const _0x2cf6e3=_0x1e7e20;_0x38ebc9('D3'),_0xc9a20a[_0x2cf6e3(0x1c3)][_0x2cf6e3(0x1c6)](_0x2cf6e3(0x1aa)),_0x45f432[_0x2cf6e3(0x1c3)][_0x2cf6e3(0x1f9)](_0x2cf6e3(0x1aa)),_0xd37c47[_0x2cf6e3(0x1c3)][_0x2cf6e3(0x1f9)](_0x2cf6e3(0x1aa));});function _0x38ebc9(_0x2e48ed){const _0x5da4e5=_0x1e7e20;currentGameMode=_0x2e48ed,console[_0x5da4e5(0x1ab)](_0x5da4e5(0x185)+currentGameMode),auth[_0x5da4e5(0x215)]&&checkUserInLadderAndLoadOpponents(auth[_0x5da4e5(0x215)][_0x5da4e5(0x1c2)]);}setupAuthStateListener(_0x58c1f1),setupReportForm(_0x58c1f1),auth[_0x1e7e20(0x215)]?(console[_0x1e7e20(0x1ab)](_0x1e7e20(0x1bc)),checkUserInLadderAndLoadOpponents(auth[_0x1e7e20(0x215)][_0x1e7e20(0x1c2)])):console[_0x1e7e20(0x1ab)](_0x1e7e20(0x16a));});function a47_0x4949(){const _0x52a402=['close-outstanding-btn','\x20rejected\x20successfully','d1-mode','Element\x20\x27','rgba(255,\x20255,\x20255,\x200.05)','You\x20must\x20be\x20logged\x20in\x20to\x20reject\x20a\x20match','apply','Error\x20reporting\x20game.\x20Please\x20try\x20again.','lightbox-loser-score','players','appendChild','\x20collection:','map-played','You\x20(','fetchOutstandingMatches','No\x20reason\x20provided','\x20with\x20username:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20edit-report-btn\x22\x20data-id=\x22','\x20mode','reject-button','createdAt','lightbox-winner','default\x20collection','Non-participants\x20cannot\x20report\x20games.','Report\x20has\x20been\x20successfully\x20rescinded.','d2-mode','bold','No\x20matches\x20found\x20by\x20email\x20either,\x20trying\x20winnerUsername','winnerId','addEventListener','toLocaleDateString','User\x20found\x20in\x20collection\x20','Checking\x20if\x20you\x20are\x20registered\x20in\x20','Checking\x20reports\x20for\x20user:\x20','green','<p>No\x20outstanding\x20matches\x20found\x20in\x20the\x20current\x20game\x20mode.</p>','reload','winner-suicides','report-form','toDate','outstanding-matches-list','position','DOMContentLoaded','Error\x20checking\x20outstanding\x20reports:','selected','\x20ladder.\x20Checking\x20other\x20ladders.','call','No\x20user\x20logged\x20in\x20yet,\x20waiting\x20for\x20auth\x20state\x20change','lightbox-comment','Error:\x20','username','brian2af@outlook.com','sort','<div\x20class=\x22loading\x22>Loading\x20your\x20matches...</div>','preventDefault','view-outstanding-btn','Loser','Match\x20approved\x20successfully','Loading\x20opponents\x20from\x20collection:\x20','then','Error\x20populating\x20winner\x20dropdown:','Please\x20provide\x20a\x20reason\x20for\x20rejecting\x20this\x20match\x20report:','authWarning','\x20vs\x20','winner-username','winner-score','data-id','loserEmail','lightbox-map','value','button[type=\x22submit\x22]','function','<option\x20value=\x22\x22>Select\x20Opponent</option>','No\x20opponents\x20available','Game\x20mode\x20set\x20to:\x20','Error\x20checking\x20ladder\x20membership.\x20Please\x20try\x20again\x20later.','scrollIntoView','winner-comment','undefined','getAttribute','renderOutstandingMatches','Error\x20updating\x20report:','Report\x20Data\x20in\x20autoFillReportForm:','prototype','loser-comment','User\x20found\x20in\x20','Error:\x20Loser\x20data\x20not\x20found.','No\x20winner\x20found\x20for\x20this\x20match','marginRight','Checking\x20if\x20user\x20exists\x20in\x20collection:\x20','#6a1b9a','isNonParticipant','insertBefore','10px','Report\x20has\x20been\x20successfully\x20updated.','Report\x20form\x20reset','losersOldElo','email','style','button\x20danger-button','block','backgroundColor','Reject\x20button\x20added:','loserUsername','click','Unknown\x20date','className','textContent','Not\x20specified','innerHTML','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22match-detail-item\x22>Score:\x20?\x20-\x20','active','log','empty','setAttribute','Game\x20reported\x20successfully.','loser-username','RejectedD1','Winner\x20','\x20from\x20','querySelectorAll','\x20ladder.','removeAttribute','4px','.edit-report-btn','cancel-button','exists','\x22>View\x20Details</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','console','User\x20already\x20logged\x20in,\x20checking\x20D1\x20ladder\x20status','find','Showing\x20lightbox','.lightbox-buttons','push','display','uid','classList','white','Match\x20report\x20not\x20found','add','warn','Game\x20reported\x20successfully!','cursor','Error\x20loading\x20opponents.\x20Please\x20try\x20again\x20later.','data-edit-id','Not\x20registered\x20in\x20this\x20ladder','Required\x20elements\x20not\x20found\x20for\x20loadOpponentsList','\x20to\x20','No\x20authenticated\x20user\x20found','Unknown','.rescind-report-btn','Failed\x20to\x20update\x20report.\x20Please\x20try\x20again.','submit','\x20matches\x20found','playersD3','data','report-lightbox','Standard\x20Match','readOnly','admin@ladder.com','lightbox-game-mode','8px\x2016px','#d32f2f','constructor','mapPlayed','bind','prepend','report-error','loser-score','border','Error\x20submitting\x20report:','winnerEmail','lightbox-subgame','Please\x20select\x20an\x20opponent','Query\x20by\x20winnerEmail\x20results:\x20','{}.constructor(\x22return\x20this\x22)(\x20)','RejectedD2','message','getElementById','btn','playersDuos','pointer','Non-participant\x20check:','Selected\x20opponent\x20not\x20found','\x22>Rescind\x20Report</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20rejecting\x20match:\x20','reportForm','error','show','You\x20are\x20not\x20registered\x20in\x20the\x20','remove','pendingMatches','d3-mode','No\x20position\x20change\x20needed;\x20winner\x20is\x20already\x20above\x20the\x20loser.','User\x20not\x20authenticated','option','reportError','cancel-edit-btn','createElement','some','Only\x20the\x20winner\x20of\x20the\x20match\x20can\x20reject\x20it','Error\x20checking\x20','toString','Query\x20by\x20winnerUsername\x20results:\x20','subgameType','Current\x20user\x20info:','Winner:\x20','\x20moved\x20to\x20position\x20','Error\x20rejecting\x20match:','opponent','editReport','.view-detail-btn','Error\x20rejecting\x20report:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22match-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20view-detail-btn\x22\x20data-id=\x22','Query\x20by\x20winnerId\x20results:\x20','Using\x20collection:\x20','querySelector','Error\x20fetching\x20outstanding\x20matches:','currentUser','\x20in\x20','reset','\x20for\x20game\x20mode:\x20','Rejecting\x20match\x20','Match\x20report\x20rejected\x20successfully','parentNode','borderRadius','length','gameMode','Cancel\x20Edit','Match\x20reported\x20in\x20','smooth','Error\x20checking\x20non-participant\x20status:','Your\x20player\x20profile\x20not\x20found','showMatchLightbox','onsubmit','Report\x20Game','loserId','table','subgame-type','Error\x20processing\x20player\x20data:','\x22>Edit\x20Report</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20danger-button\x20rescind-report-btn\x22\x20data-id=\x22','pendingMatchesD2','dataset','disabled','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22match-detail-item\x22>Date:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','approved','winnerOldElo','exception','Match\x20','),\x20Loser:\x20','Error\x20rescinding\x20report:','options','\x20(ELO:\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>','winnerUsername','Lightbox\x20element\x20not\x20found','approve-button','RejectedD3','\x20with\x20ID:\x20','loserSuicides','rescindReport','Error:\x20Winner\x20data\x20not\x20found.','No\x20loser\x20found\x20for\x20this\x20match','Are\x20you\x20sure\x20you\x20want\x20to\x20rescind\x20this\x20match\x20report\x20against\x20','Failed\x20to\x20rescind\x20report.\x20Please\x20try\x20again.','Error\x20fetching\x20player\x20data.\x20Please\x20try\x20again.','replaceChild','loserScore','Error\x20approving\x20match:\x20','return\x20(function()\x20','view-outstanding-container','No\x20pending\x20matches\x20found\x20for\x20this\x20user','size','suicides','info','auth-warning','Error\x20approving\x20report:',',\x20switching\x20to\x20','from','type','button','Error\x20during\x20sign-in\x20handling:','none','red','entries','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22match-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22match-detail-item\x22>Map:\x20','text','forEach','lightbox-suicides','playersCTF','outstanding-modal','Elements\x20object\x20is\x20null\x20or\x20undefined','Reject\x20Match','nonParticipants','playersD2','padding','target','loserComment','\x20ladder...','catch','Winner','<option\x20value=\x22\x22>Select\x20Winner</option>','Using\x20players\x20collection:\x20','fontWeight','User\x20is\x20not\x20in\x20the\x20','trace','\x27\x20not\x20found\x20in\x20the\x20DOM','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22match-item\x22\x20data-id=\x22','onAuthStateChanged','all','Update\x20Report','cloneNode','docs','No\x20matches\x20found\x20by\x20winnerId,\x20trying\x20winnerEmail','lightbox-loser','eloRating','Found\x20buttons\x20container:','Error\x20checking\x20if\x20user\x20is\x20in\x20ladder:','color','Found\x20pending\x20match:','__proto__','No\x20comment','pendingMatchesD3','Error\x20loading\x20opponents\x20list:'];a47_0x4949=function(){return _0x52a402;};return a47_0x4949();}function setupAuthStateListener(_0x3040bd){onAuthStateChanged(auth,async _0x446b09=>{_0x446b09?handleUserSignedIn(_0x446b09,_0x3040bd):handleUserSignedOut(_0x3040bd);});}async function handleUserSignedIn(_0x4f3df4,_0xd1590d){const _0x502c07=a47_0x283ed8;if(!_0xd1590d){console[_0x502c07(0x1f6)](_0x502c07(0x25f));return;}currentUserEmail=_0x4f3df4[_0x502c07(0x19c)]||null;const _0x4748fe=_0x4f3df4[_0x502c07(0x1c2)];try{const _0x380b50=doc(db,_0x502c07(0x261),_0x4748fe);try{const _0x1e6812=await getDoc(_0x380b50);console[_0x502c07(0x1ab)](_0x502c07(0x1f1),{'exists':_0x1e6812[_0x502c07(0x1b9)](),'data':_0x1e6812[_0x502c07(0x1b9)]()?_0x1e6812[_0x502c07(0x1d6)]():null});if(_0x1e6812[_0x502c07(0x1b9)]()&&_0x1e6812[_0x502c07(0x1d6)]()[_0x502c07(0x196)]===!![]){_0xd1590d[_0x502c07(0x179)]&&(_0xd1590d[_0x502c07(0x179)][_0x502c07(0x19d)][_0x502c07(0x1c1)]=_0x502c07(0x19f),_0xd1590d[_0x502c07(0x179)][_0x502c07(0x1a6)]=_0x502c07(0x152));_0xd1590d[_0x502c07(0x1f5)]&&(_0xd1590d[_0x502c07(0x1f5)][_0x502c07(0x19d)][_0x502c07(0x1c1)]=_0x502c07(0x256));return;}}catch(_0x3e3f0b){console[_0x502c07(0x1c7)](_0x502c07(0x222),_0x3e3f0b);}const _0x12bbcd=[_0x502c07(0x144),_0x502c07(0x262),_0x502c07(0x1d5),_0x502c07(0x1ef),_0x502c07(0x25d)];let _0x4bbd29=![],_0x3e832d='';for(const _0x573f1a of _0x12bbcd){try{const _0x1303bc=doc(db,_0x573f1a,_0x4748fe),_0x227136=await getDoc(_0x1303bc);if(_0x227136[_0x502c07(0x1b9)]()){_0x4bbd29=!![],_0x3e832d=_0x227136[_0x502c07(0x1d6)]()[_0x502c07(0x16d)],console[_0x502c07(0x1ab)](_0x502c07(0x15a)+_0x573f1a+_0x502c07(0x14b)+_0x3e832d);if(_0x573f1a===_0x502c07(0x144)&&currentGameMode!=='D1'){currentGameMode='D1';const _0x175650=document[_0x502c07(0x1ed)](_0x502c07(0x13d)),_0x230ec4=document[_0x502c07(0x1ed)](_0x502c07(0x154)),_0x26fbc7=document[_0x502c07(0x1ed)](_0x502c07(0x1fb));_0x175650[_0x502c07(0x1c3)][_0x502c07(0x1c6)](_0x502c07(0x1aa)),_0x230ec4[_0x502c07(0x1c3)][_0x502c07(0x1f9)](_0x502c07(0x1aa)),_0x26fbc7[_0x502c07(0x1c3)][_0x502c07(0x1f9)](_0x502c07(0x1aa));}else{if(_0x573f1a===_0x502c07(0x262)&&currentGameMode!=='D2'){currentGameMode='D2';const _0xc2df9f=document[_0x502c07(0x1ed)](_0x502c07(0x13d)),_0x3ce14c=document[_0x502c07(0x1ed)](_0x502c07(0x154)),_0x1d01c0=document[_0x502c07(0x1ed)](_0x502c07(0x1fb));_0x3ce14c[_0x502c07(0x1c3)][_0x502c07(0x1c6)](_0x502c07(0x1aa)),_0xc2df9f[_0x502c07(0x1c3)][_0x502c07(0x1f9)](_0x502c07(0x1aa)),_0x1d01c0[_0x502c07(0x1c3)][_0x502c07(0x1f9)](_0x502c07(0x1aa));}}break;}}catch(_0x2e2060){console[_0x502c07(0x1c7)](_0x502c07(0x204)+_0x573f1a+_0x502c07(0x146),_0x2e2060);}}if(!_0x4bbd29){_0xd1590d[_0x502c07(0x179)]&&(_0xd1590d[_0x502c07(0x179)][_0x502c07(0x19d)][_0x502c07(0x1c1)]=_0x502c07(0x19f));_0xd1590d[_0x502c07(0x1f5)]&&(_0xd1590d[_0x502c07(0x1f5)][_0x502c07(0x19d)][_0x502c07(0x1c1)]=_0x502c07(0x256));return;}const _0x114564=await checkUserInLadderAndLoadOpponents(_0x4748fe);if(!_0x114564){console[_0x502c07(0x1c7)](_0x502c07(0x26c)+currentGameMode+_0x502c07(0x168));for(const _0x4201f0 of[_0x502c07(0x144),_0x502c07(0x262),_0x502c07(0x1d5)]){if(_0x4201f0===(currentGameMode==='D1'?_0x502c07(0x144):currentGameMode==='D2'?_0x502c07(0x262):_0x502c07(0x1d5)))continue;const _0x4f9e4f=doc(db,_0x4201f0,_0x4748fe);try{const _0x97fb14=await getDoc(_0x4f9e4f);if(_0x97fb14[_0x502c07(0x1b9)]()){const _0x130102=_0x4201f0===_0x502c07(0x144)?'D1':_0x4201f0===_0x502c07(0x262)?'D2':'D3';console[_0x502c07(0x1ab)](_0x502c07(0x190)+_0x4201f0+_0x502c07(0x251)+_0x130102+_0x502c07(0x14d));const _0x5ddfc1=document[_0x502c07(0x1ed)](_0x502c07(0x13d)),_0x4fdbd4=document[_0x502c07(0x1ed)](_0x502c07(0x154)),_0x388adf=document[_0x502c07(0x1ed)](_0x502c07(0x1fb));if(_0x130102==='D1')_0x5ddfc1[_0x502c07(0x1c3)][_0x502c07(0x1c6)](_0x502c07(0x1aa)),_0x4fdbd4[_0x502c07(0x1c3)][_0x502c07(0x1f9)](_0x502c07(0x1aa)),_0x388adf[_0x502c07(0x1c3)][_0x502c07(0x1f9)](_0x502c07(0x1aa));else _0x130102==='D2'?(_0x4fdbd4[_0x502c07(0x1c3)][_0x502c07(0x1c6)](_0x502c07(0x1aa)),_0x5ddfc1[_0x502c07(0x1c3)][_0x502c07(0x1f9)](_0x502c07(0x1aa)),_0x388adf[_0x502c07(0x1c3)][_0x502c07(0x1f9)](_0x502c07(0x1aa))):(_0x388adf[_0x502c07(0x1c3)][_0x502c07(0x1c6)](_0x502c07(0x1aa)),_0x5ddfc1[_0x502c07(0x1c3)][_0x502c07(0x1f9)](_0x502c07(0x1aa)),_0x4fdbd4[_0x502c07(0x1c3)][_0x502c07(0x1f9)](_0x502c07(0x1aa)));currentGameMode=_0x130102,await checkUserInLadderAndLoadOpponents(_0x4748fe);break;}}catch(_0x4ea813){console[_0x502c07(0x1c7)](_0x502c07(0x204)+_0x4201f0+':',_0x4ea813);}}}}catch(_0x914b0){console[_0x502c07(0x1f6)](_0x502c07(0x255),_0x914b0);}}function handleUserSignedOut(_0xfc039c){const _0x51f533=a47_0x283ed8;_0xfc039c[_0x51f533(0x179)][_0x51f533(0x19d)][_0x51f533(0x1c1)]=_0x51f533(0x19f),_0xfc039c[_0x51f533(0x1f5)][_0x51f533(0x19d)][_0x51f533(0x1c1)]=_0x51f533(0x256),currentUserEmail=null;}async function updateUserDisplay(_0x20f8e2,_0x21c5e7){const _0x2671fa=a47_0x283ed8,_0x51a6dd=collection(db,_0x2671fa(0x144)),_0x5000b1=query(_0x51a6dd,where(_0x2671fa(0x19c),'==',_0x20f8e2)),_0x5de2d6=await getDocs(_0x5000b1);if(!_0x5de2d6[_0x2671fa(0x1ac)]){const _0x262211=_0x5de2d6[_0x2671fa(0x274)][0x0][_0x2671fa(0x1d6)]()[_0x2671fa(0x16d)];_0x21c5e7[_0x2671fa(0x1a2)][_0x2671fa(0x1a6)]=_0x262211;}}async function populateWinnerDropdown(_0x2f7a83){const _0x2ec996=a47_0x283ed8;try{const _0x4f3963=collection(db,_0x2ec996(0x144)),_0x430a88=await getDocs(_0x4f3963);_0x2f7a83[_0x2ec996(0x1a8)]=_0x2ec996(0x269),!_0x430a88[_0x2ec996(0x1ac)]&&_0x430a88[_0x2ec996(0x25b)](_0x71c96a=>{const _0x5cd33f=_0x2ec996,_0x27bfb9=_0x71c96a[_0x5cd33f(0x1d6)]();if(_0x27bfb9[_0x5cd33f(0x19c)]!==currentUserEmail){const _0x25f7bd=document[_0x5cd33f(0x201)](_0x5cd33f(0x1fe));_0x25f7bd[_0x5cd33f(0x180)]=_0x27bfb9[_0x5cd33f(0x19c)],_0x25f7bd[_0x5cd33f(0x1a6)]=_0x27bfb9[_0x5cd33f(0x16d)],_0x2f7a83[_0x5cd33f(0x145)](_0x25f7bd);}});}catch(_0x2538ba){console[_0x2ec996(0x1f6)](_0x2ec996(0x177),_0x2538ba);throw _0x2538ba;}}function setupReportForm(_0x300cac){const _0x27eb97=a47_0x283ed8;if(!_0x300cac[_0x27eb97(0x1f5)])return;_0x300cac[_0x27eb97(0x1f5)][_0x27eb97(0x158)](_0x27eb97(0x1d3),async _0x49287e=>{const _0x595e5f=_0x27eb97;_0x49287e[_0x595e5f(0x171)]();try{await submitReport(_0x300cac),_0x300cac[_0x595e5f(0x1f5)][_0x595e5f(0x217)](),alert(_0x595e5f(0x1ae));}catch(_0x29b03a){console[_0x595e5f(0x1f6)](_0x595e5f(0x1e5),_0x29b03a),_0x300cac[_0x595e5f(0x1ff)][_0x595e5f(0x1a6)]=_0x595e5f(0x142);}});}async function submitReport(_0x17d5e3){const _0x85cae2=a47_0x283ed8,_0x3fc39d=currentGameMode==='D1'?_0x85cae2(0x1fa):currentGameMode==='D2'?_0x85cae2(0x22c):_0x85cae2(0x27e),_0x2b300f=collection(db,_0x3fc39d),_0x20b4b8=doc(_0x2b300f);try{const _0x4da7e3=auth[_0x85cae2(0x215)];if(!_0x4da7e3)throw new Error(_0x85cae2(0x1fd));const _0x5c1671=_0x4da7e3[_0x85cae2(0x1c2)],_0xab1657=currentGameMode==='D1'?_0x85cae2(0x144):currentGameMode==='D2'?_0x85cae2(0x262):_0x85cae2(0x1d5),_0x3c69ae=await getDoc(doc(db,_0xab1657,_0x5c1671));if(!_0x3c69ae[_0x85cae2(0x1b9)]())throw new Error(_0x85cae2(0x223));const _0x490325=document[_0x85cae2(0x1ed)](_0x85cae2(0x229)),_0x21bf83=_0x17d5e3[_0x85cae2(0x23a)][_0x85cae2(0x180)];if(!_0x21bf83)throw new Error(_0x85cae2(0x1e8));const _0x4f706c=query(collection(db,_0xab1657),where(_0x85cae2(0x16d),'==',_0x21bf83)),_0x4ea6f2=await getDocs(_0x4f706c);if(_0x4ea6f2[_0x85cae2(0x1ac)])throw new Error(_0x85cae2(0x1f2));const _0x1b7206=_0x4ea6f2[_0x85cae2(0x274)][0x0][_0x85cae2(0x1d6)](),_0x2817b4=_0x4ea6f2[_0x85cae2(0x274)][0x0]['id'],_0x59bfaf={'matchId':_0x20b4b8['id'],'loserUsername':_0x3c69ae[_0x85cae2(0x1d6)]()[_0x85cae2(0x16d)],'loserId':_0x5c1671,'winnerUsername':_0x1b7206[_0x85cae2(0x16d)],'winnerId':_0x2817b4,'loserScore':_0x17d5e3[_0x85cae2(0x247)][_0x85cae2(0x180)],'loserSuicides':_0x17d5e3[_0x85cae2(0x24d)][_0x85cae2(0x180)],'mapPlayed':_0x17d5e3[_0x85cae2(0x1df)][_0x85cae2(0x180)],'loserComment':_0x17d5e3[_0x85cae2(0x265)][_0x85cae2(0x180)],'subgameType':_0x490325?_0x490325[_0x85cae2(0x180)]:'','gameMode':currentGameMode,'approved':![],'createdAt':serverTimestamp(),'winnerOldElo':_0x1b7206[_0x85cae2(0x277)]||null,'losersOldElo':_0x3c69ae[_0x85cae2(0x1d6)]()[_0x85cae2(0x277)]||null};await setDoc(_0x20b4b8,_0x59bfaf),console[_0x85cae2(0x1ab)](_0x85cae2(0x220)+_0x3fc39d+_0x85cae2(0x23e)+_0x20b4b8['id']),_0x17d5e3[_0x85cae2(0x1ff)][_0x85cae2(0x1a6)]=_0x85cae2(0x1c8),_0x17d5e3[_0x85cae2(0x1ff)][_0x85cae2(0x19d)][_0x85cae2(0x27a)]=_0x85cae2(0x15d),updatePendingMatchNotification();}catch(_0x50d01a){console[_0x85cae2(0x1f6)](_0x85cae2(0x1e5),_0x50d01a),_0x17d5e3[_0x85cae2(0x1ff)][_0x85cae2(0x1a6)]=_0x85cae2(0x16c)+_0x50d01a[_0x85cae2(0x1ec)],_0x17d5e3[_0x85cae2(0x1ff)][_0x85cae2(0x19d)][_0x85cae2(0x27a)]=_0x85cae2(0x257);throw _0x50d01a;}}async function checkForOutstandingReports(_0x11523e,_0x944368,_0x37d1e0=null){const _0xf33bd3=a47_0x283ed8;console[_0xf33bd3(0x1ab)](_0xf33bd3(0x15c)+_0x11523e+_0xf33bd3(0x216)+(_0x37d1e0||_0xf33bd3(0x151)));const _0xccbcb7=_0x37d1e0||(currentGameMode==='D1'?_0xf33bd3(0x1fa):currentGameMode==='D2'?_0xf33bd3(0x22c):_0xf33bd3(0x27e));console[_0xf33bd3(0x1ab)](_0xf33bd3(0x212)+_0xccbcb7);try{const _0x2b1de2=auth[_0xf33bd3(0x215)];if(!_0x2b1de2){console[_0xf33bd3(0x1ab)](_0xf33bd3(0x1cf));return;}const _0xb4b015=_0x2b1de2[_0xf33bd3(0x1c2)],_0x4b7493=collection(db,_0xccbcb7),_0x515ee4=query(_0x4b7493,where(_0xf33bd3(0x157),'==',_0xb4b015),where(_0xf33bd3(0x231),'==',![]));let _0xc383ad=await getDocs(_0x515ee4);console[_0xf33bd3(0x1ab)](_0xf33bd3(0x211)+_0xc383ad[_0xf33bd3(0x24c)]+_0xf33bd3(0x1d4));if(_0xc383ad[_0xf33bd3(0x1ac)]&&_0x2b1de2[_0xf33bd3(0x19c)]){console[_0xf33bd3(0x1ab)](_0xf33bd3(0x275));const _0x1d89eb=query(_0x4b7493,where(_0xf33bd3(0x1e6),'==',_0x2b1de2[_0xf33bd3(0x19c)]),where(_0xf33bd3(0x231),'==',![]));_0xc383ad=await getDocs(_0x1d89eb),console[_0xf33bd3(0x1ab)](_0xf33bd3(0x1e9)+_0xc383ad[_0xf33bd3(0x24c)]+_0xf33bd3(0x1d4));}if(_0xc383ad[_0xf33bd3(0x1ac)]){console[_0xf33bd3(0x1ab)](_0xf33bd3(0x156));const _0x422f7a=currentGameMode==='D1'?_0xf33bd3(0x144):_0xf33bd3(0x262),_0x52bf59=await getDoc(doc(db,_0x422f7a,_0xb4b015));if(_0x52bf59[_0xf33bd3(0x1b9)]()&&_0x52bf59[_0xf33bd3(0x1d6)]()[_0xf33bd3(0x16d)]){const _0x590a61=_0x52bf59[_0xf33bd3(0x1d6)]()[_0xf33bd3(0x16d)],_0x31354e=query(_0x4b7493,where(_0xf33bd3(0x23a),'==',_0x590a61),where(_0xf33bd3(0x231),'==',![]));_0xc383ad=await getDocs(_0x31354e),console[_0xf33bd3(0x1ab)](_0xf33bd3(0x206)+_0xc383ad[_0xf33bd3(0x24c)]+_0xf33bd3(0x1d4));}}if(!_0xc383ad[_0xf33bd3(0x1ac)]){const _0x38a29b=_0xc383ad[_0xf33bd3(0x274)][0x0][_0xf33bd3(0x1d6)]();return console[_0xf33bd3(0x1ab)](_0xf33bd3(0x27b),_0x38a29b),_0x38a29b['id']=_0xc383ad[_0xf33bd3(0x274)][0x0]['id'],autoFillReportForm(_0x38a29b),updateNotificationDot(!![]),!![];}else return console[_0xf33bd3(0x1ab)](_0xf33bd3(0x24b)),updateNotificationDot(![]),![];}catch(_0x3b12df){console[_0xf33bd3(0x1f6)](_0xf33bd3(0x166),_0x3b12df);}}function autoFillReportForm(_0x3da20a){const _0x466363=a47_0x283ed8;console[_0x466363(0x1ab)](_0x466363(0x18d),_0x3da20a);if(_0x3da20a){const _0x11334d=parseInt(_0x3da20a[_0x466363(0x247)]||'0'),_0x40fd77=_0x11334d<0x12?0x14:_0x11334d+0x2,_0x2856f8=_0x3da20a[_0x466363(0x21e)]||currentGameMode,_0x4ed116=_0x2856f8==='D1'?_0x466363(0x144):_0x2856f8==='D2'?_0x466363(0x262):_0x466363(0x1d5);console[_0x466363(0x1ab)](_0x466363(0x26a)+_0x4ed116+_0x466363(0x218)+_0x2856f8);let _0x2091a3;_0x3da20a[_0x466363(0x157)]?_0x2091a3=getDoc(doc(db,_0x4ed116,_0x3da20a[_0x466363(0x157)]))[_0x466363(0x176)](_0x439b88=>_0x439b88[_0x466363(0x1b9)]()?{'id':_0x439b88['id'],'data':_0x439b88[_0x466363(0x1d6)]()}:null):_0x2091a3=getDocs(query(collection(db,_0x4ed116),where(_0x466363(0x16d),'==',_0x3da20a[_0x466363(0x23a)])))[_0x466363(0x176)](_0x434b84=>!_0x434b84[_0x466363(0x1ac)]?{'id':_0x434b84[_0x466363(0x274)][0x0]['id'],'data':_0x434b84[_0x466363(0x274)][0x0][_0x466363(0x1d6)]()}:null);let _0x3d79ec;_0x3da20a[_0x466363(0x227)]?_0x3d79ec=getDoc(doc(db,_0x4ed116,_0x3da20a[_0x466363(0x227)]))[_0x466363(0x176)](_0x502f51=>_0x502f51[_0x466363(0x1b9)]()?{'id':_0x502f51['id'],'data':_0x502f51[_0x466363(0x1d6)]()}:null):_0x3d79ec=getDocs(query(collection(db,_0x4ed116),where(_0x466363(0x16d),'==',_0x3da20a[_0x466363(0x1a2)])))[_0x466363(0x176)](_0x66adbd=>!_0x66adbd[_0x466363(0x1ac)]?{'id':_0x66adbd[_0x466363(0x274)][0x0]['id'],'data':_0x66adbd[_0x466363(0x274)][0x0][_0x466363(0x1d6)]()}:null),Promise[_0x466363(0x271)]([_0x2091a3,_0x3d79ec])[_0x466363(0x176)](([_0x2ac9fa,_0x221cae])=>{const _0x28d157=_0x466363;if(!_0x2ac9fa){console[_0x28d157(0x1f6)](_0x28d157(0x192)),alert(_0x28d157(0x241));return;}if(!_0x221cae){console[_0x28d157(0x1f6)](_0x28d157(0x242)),alert(_0x28d157(0x191));return;}const _0x151f64=_0x3da20a[_0x28d157(0x232)]!=null?_0x3da20a[_0x28d157(0x232)]:_0x2ac9fa[_0x28d157(0x1d6)][_0x28d157(0x277)],_0x33672f=_0x3da20a[_0x28d157(0x19b)]!=null?_0x3da20a[_0x28d157(0x19b)]:_0x221cae[_0x28d157(0x1d6)][_0x28d157(0x277)],_0x1fde13=_0x2ac9fa[_0x28d157(0x1d6)][_0x28d157(0x16d)],_0x44492e=_0x221cae[_0x28d157(0x1d6)][_0x28d157(0x16d)];console[_0x28d157(0x1ab)](_0x28d157(0x209)+_0x1fde13+_0x28d157(0x238)+_0x151f64+_0x28d157(0x235)+_0x44492e+_0x28d157(0x238)+_0x33672f+')');const _0x5bac35=document[_0x28d157(0x1ed)](_0x28d157(0x1d7));if(!_0x5bac35){console[_0x28d157(0x1f6)](_0x28d157(0x23b));return;}document[_0x28d157(0x1ed)](_0x28d157(0x150))[_0x28d157(0x1a6)]=_0x1fde13,document[_0x28d157(0x1ed)](_0x28d157(0x276))[_0x28d157(0x1a6)]=_0x44492e,document[_0x28d157(0x1ed)](_0x28d157(0x143))[_0x28d157(0x1a6)]=_0x3da20a[_0x28d157(0x247)]||'0',document[_0x28d157(0x1ed)](_0x28d157(0x25c))[_0x28d157(0x1a6)]=_0x3da20a[_0x28d157(0x23f)]||'0',document[_0x28d157(0x1ed)](_0x28d157(0x17f))[_0x28d157(0x1a6)]=_0x3da20a[_0x28d157(0x1df)]||_0x28d157(0x1a7),document[_0x28d157(0x1ed)](_0x28d157(0x16b))[_0x28d157(0x1a6)]=_0x3da20a[_0x28d157(0x265)]||_0x28d157(0x27d),document[_0x28d157(0x1ed)](_0x28d157(0x1e7))[_0x28d157(0x1a6)]=_0x3da20a[_0x28d157(0x207)]||_0x28d157(0x1d8);const _0x55b513=document[_0x28d157(0x1ed)](_0x28d157(0x17c));_0x55b513&&(_0x55b513[_0x28d157(0x180)]=_0x40fd77,_0x55b513[_0x28d157(0x1d9)]=!![],_0x55b513[_0x28d157(0x19d)][_0x28d157(0x1a0)]=_0x28d157(0x13f));showLightbox();const _0x583c25=document[_0x28d157(0x213)](_0x28d157(0x1bf));if(_0x583c25){console[_0x28d157(0x1ab)](_0x28d157(0x278),_0x583c25);const _0x397f1b=document[_0x28d157(0x1ed)](_0x28d157(0x14e));_0x397f1b&&_0x397f1b[_0x28d157(0x1f9)]();const _0x1f886a=document[_0x28d157(0x201)](_0x28d157(0x254));_0x1f886a['id']=_0x28d157(0x14e),_0x1f886a[_0x28d157(0x1a5)]=_0x28d157(0x19e),_0x1f886a[_0x28d157(0x1a6)]=_0x28d157(0x260),_0x1f886a[_0x28d157(0x19d)][_0x28d157(0x1a0)]=_0x28d157(0x1dd),_0x1f886a[_0x28d157(0x19d)][_0x28d157(0x27a)]=_0x28d157(0x1c4),_0x1f886a[_0x28d157(0x19d)][_0x28d157(0x193)]=_0x28d157(0x198),_0x1f886a[_0x28d157(0x19d)][_0x28d157(0x263)]=_0x28d157(0x1dc),_0x1f886a[_0x28d157(0x19d)][_0x28d157(0x1e4)]=_0x28d157(0x256),_0x1f886a[_0x28d157(0x19d)][_0x28d157(0x21c)]=_0x28d157(0x1b6),_0x1f886a[_0x28d157(0x19d)][_0x28d157(0x1c9)]=_0x28d157(0x1f0),_0x1f886a[_0x28d157(0x19d)][_0x28d157(0x26b)]=_0x28d157(0x155),_0x583c25[_0x28d157(0x1e1)](_0x1f886a),console[_0x28d157(0x1ab)](_0x28d157(0x1a1),_0x1f886a);}const _0x4008d3=document[_0x28d157(0x1ed)](_0x28d157(0x23c)),_0x1d75df=document[_0x28d157(0x1ed)](_0x28d157(0x14e)),_0x466bfb=document[_0x28d157(0x1ed)](_0x28d157(0x1b8));if(_0x4008d3){const _0x57c1e4=_0x4008d3[_0x28d157(0x273)](!![]);_0x4008d3[_0x28d157(0x21b)][_0x28d157(0x246)](_0x57c1e4,_0x4008d3),_0x57c1e4[_0x28d157(0x158)](_0x28d157(0x1a3),async function(){const _0x289a0a=_0x28d157;try{const _0x39ba04=document[_0x289a0a(0x1ed)](_0x289a0a(0x17c))[_0x289a0a(0x180)],_0x1db47d=document[_0x289a0a(0x1ed)](_0x289a0a(0x160))[_0x289a0a(0x180)]||'0',_0x4a0576=document[_0x289a0a(0x1ed)](_0x289a0a(0x188))[_0x289a0a(0x180)]||'';console[_0x289a0a(0x1ab)](_0x289a0a(0x208),{'uid':auth[_0x289a0a(0x215)]?.[_0x289a0a(0x1c2)],'email':auth[_0x289a0a(0x215)]?.[_0x289a0a(0x19c)],'isAdmin':auth[_0x289a0a(0x215)]?.[_0x289a0a(0x19c)]===_0x289a0a(0x1da)||auth[_0x289a0a(0x215)]?.[_0x289a0a(0x19c)]===_0x289a0a(0x16e)});const _0x1f9320=_0x3da20a[_0x289a0a(0x21e)]||currentGameMode;if(_0x1f9320==='D3')await approveReportD3(_0x3da20a['id'],_0x39ba04,_0x1db47d,_0x4a0576);else _0x1f9320==='D2'?await approveReportD2(_0x3da20a['id'],_0x39ba04,_0x1db47d,_0x4a0576):await approveReport(_0x3da20a['id'],_0x39ba04,_0x1db47d,_0x4a0576);document[_0x289a0a(0x1ed)](_0x289a0a(0x1d7))[_0x289a0a(0x19d)][_0x289a0a(0x1c1)]=_0x289a0a(0x256),alert(_0x289a0a(0x174)),updatePendingMatchNotification(),location[_0x289a0a(0x15f)]();const _0x356bfa=_0x1f9320==='D1'?_0x289a0a(0x144):_0x289a0a(0x262),_0x20db6d=doc(db,_0x356bfa,_0x2ac9fa['id']),_0x1a884d=doc(db,_0x356bfa,_0x221cae['id']),[_0x5d7241,_0x4f01fc]=await Promise[_0x289a0a(0x271)]([getDoc(_0x20db6d),getDoc(_0x1a884d)]);if(_0x5d7241[_0x289a0a(0x1b9)]()&&_0x4f01fc[_0x289a0a(0x1b9)]()){const _0x5e8680=_0x5d7241[_0x289a0a(0x1d6)](),_0x4585a3=_0x4f01fc[_0x289a0a(0x1d6)]();_0x5e8680[_0x289a0a(0x164)]>_0x4585a3[_0x289a0a(0x164)]?(await updateDoc(_0x20db6d,{'position':_0x4585a3[_0x289a0a(0x164)]}),console[_0x289a0a(0x1ab)](_0x289a0a(0x1b1)+_0x5e8680[_0x289a0a(0x16d)]+_0x289a0a(0x20a)+_0x4585a3[_0x289a0a(0x164)])):console[_0x289a0a(0x1ab)](_0x289a0a(0x1fc));}}catch(_0x585f96){console[_0x289a0a(0x1f6)](_0x289a0a(0x250),_0x585f96),alert(_0x289a0a(0x248)+_0x585f96[_0x289a0a(0x1ec)]);}});}if(_0x1d75df){const _0x2a42c5=_0x1d75df[_0x28d157(0x273)](!![]);_0x1d75df[_0x28d157(0x21b)][_0x28d157(0x246)](_0x2a42c5,_0x1d75df),_0x2a42c5[_0x28d157(0x158)](_0x28d157(0x1a3),async function(){const _0x9dca5c=_0x28d157;try{const _0x68b1b6=prompt(_0x9dca5c(0x178),'');if(_0x68b1b6===null)return;await rejectReport(_0x3da20a['id'],_0x68b1b6),hideLightbox(),alert(_0x9dca5c(0x21a)),updatePendingMatchNotification(),location[_0x9dca5c(0x15f)]();}catch(_0x3a01e9){console[_0x9dca5c(0x1f6)](_0x9dca5c(0x20f),_0x3a01e9),alert(_0x9dca5c(0x1f4)+_0x3a01e9[_0x9dca5c(0x1ec)]);}});}if(_0x466bfb){const _0x4e69a6=_0x466bfb[_0x28d157(0x273)](!![]);_0x466bfb[_0x28d157(0x21b)][_0x28d157(0x246)](_0x4e69a6,_0x466bfb),_0x4e69a6[_0x28d157(0x158)](_0x28d157(0x1a3),hideLightbox);}})[_0x466363(0x267)](_0x1c3c25=>{const _0x4f9c6f=_0x466363;console[_0x4f9c6f(0x1f6)](_0x4f9c6f(0x22a),_0x1c3c25),alert(_0x4f9c6f(0x245));});}}function showLightbox(){const _0x4a74bd=a47_0x283ed8;console[_0x4a74bd(0x1ab)](_0x4a74bd(0x1be));const _0x334525=document[_0x4a74bd(0x1ed)](_0x4a74bd(0x1d7));if(!_0x334525){console[_0x4a74bd(0x1f6)](_0x4a74bd(0x23b));return;}_0x334525[_0x4a74bd(0x1c3)][_0x4a74bd(0x1c6)](_0x4a74bd(0x1f7));}function hideLightbox(){const _0x3617c2=a47_0x283ed8,_0x2424d1=document[_0x3617c2(0x1ed)](_0x3617c2(0x1d7));_0x2424d1[_0x3617c2(0x1c3)][_0x3617c2(0x1f9)](_0x3617c2(0x1f7));}async function rejectReport(_0x20196a,_0x58a57f){const _0x30f3ea=a47_0x283ed8;try{const _0x44ab0e=currentGameMode==='D1'?_0x30f3ea(0x1fa):currentGameMode==='D2'?_0x30f3ea(0x22c):_0x30f3ea(0x27e),_0x255736=currentGameMode==='D1'?_0x30f3ea(0x1b0):currentGameMode==='D2'?_0x30f3ea(0x1eb):_0x30f3ea(0x23d);console[_0x30f3ea(0x1ab)](_0x30f3ea(0x219)+_0x20196a+_0x30f3ea(0x1b2)+_0x44ab0e+_0x30f3ea(0x1ce)+_0x255736);const _0x47a8bc=auth[_0x30f3ea(0x215)];if(!_0x47a8bc)throw new Error(_0x30f3ea(0x140));const _0x49850f=doc(db,_0x44ab0e,_0x20196a),_0x1cab74=await getDoc(_0x49850f);if(!_0x1cab74[_0x30f3ea(0x1b9)]())throw new Error(_0x30f3ea(0x1c5));const _0x251544=_0x1cab74[_0x30f3ea(0x1d6)](),_0x308e77=_0x251544[_0x30f3ea(0x157)]&&_0x251544[_0x30f3ea(0x157)]===_0x47a8bc[_0x30f3ea(0x1c2)]||_0x251544[_0x30f3ea(0x1e6)]&&_0x251544[_0x30f3ea(0x1e6)]===_0x47a8bc[_0x30f3ea(0x19c)]||_0x251544[_0x30f3ea(0x23a)]&&_0x251544[_0x30f3ea(0x23a)]===await getUsernameFromId(_0x47a8bc[_0x30f3ea(0x1c2)]);if(!_0x308e77)throw new Error(_0x30f3ea(0x203));const _0x472de7={..._0x251544,'rejectedAt':serverTimestamp(),'rejectedBy':_0x47a8bc[_0x30f3ea(0x1c2)],'rejectionReason':_0x58a57f||_0x30f3ea(0x14a),'originalDocumentId':_0x20196a},_0x3556b0=doc(collection(db,_0x255736));return await setDoc(_0x3556b0,_0x472de7),await deleteDoc(_0x49850f),console[_0x30f3ea(0x1ab)](_0x30f3ea(0x234)+_0x20196a+_0x30f3ea(0x13c)),updatePendingMatchNotification(),!![];}catch(_0x9c8cf2){console[_0x30f3ea(0x1f6)](_0x30f3ea(0x20b),_0x9c8cf2);throw _0x9c8cf2;}}async function getUsernameFromId(_0x5bb312){const _0x95d2d1=a47_0x283ed8,_0xcfd8e8=await getDoc(doc(db,_0x95d2d1(0x144),_0x5bb312));if(_0xcfd8e8[_0x95d2d1(0x1b9)]())return _0xcfd8e8[_0x95d2d1(0x1d6)]()[_0x95d2d1(0x16d)];const _0x324603=await getDoc(doc(db,_0x95d2d1(0x262),_0x5bb312));if(_0x324603[_0x95d2d1(0x1b9)]())return _0x324603[_0x95d2d1(0x1d6)]()[_0x95d2d1(0x16d)];return null;}async function loadOpponentsList(_0x35d057){const _0x3d7470=a47_0x283ed8;try{const _0x446b23=document[_0x3d7470(0x1ed)](_0x3d7470(0x1e2)),_0x15005c=document[_0x3d7470(0x1ed)](_0x3d7470(0x1af)),_0x5bbd57=document[_0x3d7470(0x1ed)](_0x3d7470(0x17b));if(!_0x446b23||!_0x15005c||!_0x5bbd57){console[_0x3d7470(0x1f6)](_0x3d7470(0x1cd));return;}const _0x446b7a=currentGameMode==='D1'?_0x3d7470(0x144):currentGameMode==='D2'?_0x3d7470(0x262):_0x3d7470(0x1d5);console[_0x3d7470(0x1ab)](_0x3d7470(0x175)+_0x446b7a);const _0x20fd2b=await getDoc(doc(db,_0x446b7a,_0x35d057));if(!_0x20fd2b[_0x3d7470(0x1b9)]()){_0x446b23[_0x3d7470(0x1a6)]=_0x3d7470(0x1f8)+currentGameMode+_0x3d7470(0x1b4),_0x446b23[_0x3d7470(0x19d)][_0x3d7470(0x27a)]=_0x3d7470(0x257),_0x15005c[_0x3d7470(0x1a6)]=_0x3d7470(0x1cc),_0x5bbd57[_0x3d7470(0x22e)]=!![];return;}const _0x2058e5=_0x20fd2b[_0x3d7470(0x1d6)](),_0x15d6c2=_0x2058e5[_0x3d7470(0x16d)];_0x15005c[_0x3d7470(0x1a6)]=_0x3d7470(0x148)+_0x15d6c2+')',_0x446b23[_0x3d7470(0x1a6)]='',_0x5bbd57[_0x3d7470(0x22e)]=![];const _0x30e5e5=collection(db,_0x446b7a),_0x269dc9=await getDocs(_0x30e5e5);if(_0x269dc9[_0x3d7470(0x1ac)]){console[_0x3d7470(0x1ab)](_0x3d7470(0x184));return;}_0x5bbd57[_0x3d7470(0x1a8)]=_0x3d7470(0x183),_0x269dc9[_0x3d7470(0x25b)](_0x7a91d5=>{const _0x4a3336=_0x3d7470,_0x6a901a=_0x7a91d5[_0x4a3336(0x1d6)]();if(_0x7a91d5['id']!==_0x35d057){const _0x896590=document[_0x4a3336(0x201)](_0x4a3336(0x1fe));_0x896590[_0x4a3336(0x180)]=_0x6a901a[_0x4a3336(0x16d)],_0x896590[_0x4a3336(0x1a6)]=_0x6a901a[_0x4a3336(0x16d)],_0x896590[_0x4a3336(0x22d)][_0x4a3336(0x1c2)]=_0x7a91d5['id'],_0x5bbd57[_0x4a3336(0x145)](_0x896590);}});}catch(_0x417db3){console[_0x3d7470(0x1f6)](_0x3d7470(0x27f),_0x417db3),document[_0x3d7470(0x1ed)](_0x3d7470(0x1e2))[_0x3d7470(0x1a6)]=_0x3d7470(0x1ca),document[_0x3d7470(0x1ed)](_0x3d7470(0x1e2))[_0x3d7470(0x19d)][_0x3d7470(0x27a)]=_0x3d7470(0x257);}}async function checkUserInLadderAndLoadOpponents(_0x195422){const _0x19e039=a47_0x283ed8;try{const _0x31aa23=document[_0x19e039(0x1ed)](_0x19e039(0x1e2)),_0x2e464f=document[_0x19e039(0x1ed)](_0x19e039(0x1af)),_0x168c6f=document[_0x19e039(0x1ed)](_0x19e039(0x17b)),_0x4e9a21=document[_0x19e039(0x1ed)](_0x19e039(0x161)),_0x10b8d4=document[_0x19e039(0x1ed)](_0x19e039(0x24f));_0x31aa23[_0x19e039(0x1a6)]=_0x19e039(0x15b)+currentGameMode+_0x19e039(0x266),_0x31aa23[_0x19e039(0x19d)][_0x19e039(0x27a)]=_0x19e039(0x1c4);const _0x43582f=currentGameMode==='D1'?_0x19e039(0x144):currentGameMode==='D2'?_0x19e039(0x262):_0x19e039(0x1d5);console[_0x19e039(0x1ab)](_0x19e039(0x194)+_0x43582f);const _0x37ff79=await getDoc(doc(db,_0x43582f,_0x195422));if(!_0x37ff79[_0x19e039(0x1b9)]())return _0x31aa23[_0x19e039(0x1a6)]=_0x19e039(0x1f8)+currentGameMode+_0x19e039(0x1b4),_0x31aa23[_0x19e039(0x19d)][_0x19e039(0x27a)]=_0x19e039(0x257),_0x2e464f[_0x19e039(0x1a6)]=_0x19e039(0x1cc),_0x168c6f[_0x19e039(0x22e)]=!![],_0x168c6f[_0x19e039(0x1a8)]=_0x19e039(0x183),_0x10b8d4[_0x19e039(0x19d)][_0x19e039(0x1c1)]=_0x19e039(0x19f),_0x10b8d4[_0x19e039(0x1a6)]=_0x19e039(0x1f8)+currentGameMode+_0x19e039(0x1b4),![];_0x31aa23[_0x19e039(0x1a6)]='',_0x10b8d4[_0x19e039(0x19d)][_0x19e039(0x1c1)]=_0x19e039(0x256);const _0x2b8eb9=_0x37ff79[_0x19e039(0x1d6)](),_0x2e065=_0x2b8eb9[_0x19e039(0x16d)];_0x2e464f[_0x19e039(0x1a6)]=_0x19e039(0x148)+_0x2e065+')',_0x168c6f[_0x19e039(0x22e)]=![],_0x4e9a21[_0x19e039(0x19d)][_0x19e039(0x1c1)]=_0x19e039(0x19f),await loadOpponentsList(_0x195422);const _0x9f674d=currentGameMode==='D1'?_0x19e039(0x1fa):currentGameMode==='D2'?_0x19e039(0x22c):_0x19e039(0x27e);return await checkForOutstandingReports(_0x2b8eb9[_0x19e039(0x19c)],null,_0x9f674d),!![];}catch(_0x4faeb1){return console[_0x19e039(0x1f6)](_0x19e039(0x279),_0x4faeb1),document[_0x19e039(0x1ed)](_0x19e039(0x1e2))[_0x19e039(0x1a6)]=_0x19e039(0x186),document[_0x19e039(0x1ed)](_0x19e039(0x1e2))[_0x19e039(0x19d)][_0x19e039(0x27a)]=_0x19e039(0x257),![];}}export async function fetchOutstandingMatches(){const _0x3d4309=a47_0x283ed8,_0x33d96e=auth[_0x3d4309(0x215)];if(!_0x33d96e)return[];try{const _0x4c6dcc=[],_0x176daa=currentGameMode==='D1'?_0x3d4309(0x1fa):currentGameMode==='D2'?_0x3d4309(0x22c):_0x3d4309(0x27e),_0x15f0e1=collection(db,_0x176daa),_0x5ad1b1=[query(_0x15f0e1,where(_0x3d4309(0x227),'==',_0x33d96e[_0x3d4309(0x1c2)]),where(_0x3d4309(0x231),'==',![])),query(_0x15f0e1,where(_0x3d4309(0x17e),'==',_0x33d96e[_0x3d4309(0x19c)]),where(_0x3d4309(0x231),'==',![])),query(_0x15f0e1,where(_0x3d4309(0x157),'==',_0x33d96e[_0x3d4309(0x1c2)]),where(_0x3d4309(0x231),'==',![])),query(_0x15f0e1,where(_0x3d4309(0x1e6),'==',_0x33d96e[_0x3d4309(0x19c)]),where(_0x3d4309(0x231),'==',![]))],_0x2a2b2f=currentGameMode==='D1'?_0x3d4309(0x144):currentGameMode==='D2'?_0x3d4309(0x262):_0x3d4309(0x1d5),_0x227d0e=await getDocs(query(collection(db,_0x2a2b2f),where(_0x3d4309(0x19c),'==',_0x33d96e[_0x3d4309(0x19c)])));let _0x11f04c=null;!_0x227d0e[_0x3d4309(0x1ac)]&&(_0x11f04c=_0x227d0e[_0x3d4309(0x274)][0x0][_0x3d4309(0x1d6)]()[_0x3d4309(0x16d)],_0x11f04c&&_0x5ad1b1[_0x3d4309(0x1c0)](query(_0x15f0e1,where(_0x3d4309(0x1a2),'==',_0x11f04c),where(_0x3d4309(0x231),'==',![])),query(_0x15f0e1,where(_0x3d4309(0x23a),'==',_0x11f04c),where(_0x3d4309(0x231),'==',![]))));for(const _0x2add99 of _0x5ad1b1){const _0x2157d7=await getDocs(_0x2add99);!_0x2157d7[_0x3d4309(0x1ac)]&&_0x2157d7[_0x3d4309(0x25b)](_0x27099a=>{const _0x15d493=_0x3d4309;!_0x4c6dcc[_0x15d493(0x202)](_0x4d2bb0=>_0x4d2bb0['id']===_0x27099a['id'])&&_0x4c6dcc[_0x15d493(0x1c0)]({'id':_0x27099a['id'],..._0x27099a[_0x15d493(0x1d6)]()});});}return _0x4c6dcc[_0x3d4309(0x16f)]((_0x29536a,_0x13d7a5)=>{const _0x41f9df=_0x3d4309,_0x2c8911=_0x29536a[_0x41f9df(0x14f)]?.[_0x41f9df(0x162)]()||new Date(0x0),_0xd762d0=_0x13d7a5[_0x41f9df(0x14f)]?.[_0x41f9df(0x162)]()||new Date(0x0);return _0xd762d0-_0x2c8911;}),outstandingMatches=_0x4c6dcc,_0x4c6dcc;}catch(_0x3188ba){return console[_0x3d4309(0x1f6)](_0x3d4309(0x214),_0x3188ba),[];}}export function renderOutstandingMatches(){const _0x3a3be4=a47_0x283ed8,_0x2f9a62=document[_0x3a3be4(0x1ed)](_0x3a3be4(0x163));if(outstandingMatches[_0x3a3be4(0x21d)]===0x0){_0x2f9a62[_0x3a3be4(0x1a8)]=_0x3a3be4(0x15e);return;}let _0x12e013='';const _0x1e6355=auth[_0x3a3be4(0x215)];if(!_0x1e6355)return;outstandingMatches[_0x3a3be4(0x25b)](_0x4c5994=>{const _0x1ba1d6=_0x3a3be4,_0x391e4c=_0x4c5994[_0x1ba1d6(0x14f)]?.[_0x1ba1d6(0x162)]()?_0x4c5994[_0x1ba1d6(0x14f)][_0x1ba1d6(0x162)]()[_0x1ba1d6(0x159)]():_0x1ba1d6(0x1a4),_0x1a29a1=_0x4c5994[_0x1ba1d6(0x17e)]===_0x1e6355[_0x1ba1d6(0x19c)]||_0x4c5994[_0x1ba1d6(0x227)]===_0x1e6355[_0x1ba1d6(0x1c2)];_0x12e013+=_0x1ba1d6(0x26f)+_0x4c5994['id']+_0x1ba1d6(0x239)+(_0x4c5994[_0x1ba1d6(0x23a)]||_0x1ba1d6(0x268))+_0x1ba1d6(0x17a)+(_0x4c5994[_0x1ba1d6(0x1a2)]||_0x1ba1d6(0x173))+_0x1ba1d6(0x259)+(_0x4c5994[_0x1ba1d6(0x1df)]||_0x1ba1d6(0x1d0))+_0x1ba1d6(0x22f)+_0x391e4c+_0x1ba1d6(0x1a9)+(_0x4c5994[_0x1ba1d6(0x247)]||'0')+_0x1ba1d6(0x210)+_0x4c5994['id']+_0x1ba1d6(0x1ba)+(_0x1a29a1?_0x1ba1d6(0x14c)+_0x4c5994['id']+_0x1ba1d6(0x22b)+_0x4c5994['id']+_0x1ba1d6(0x1f3):'')+_0x1ba1d6(0x230);}),_0x2f9a62[_0x3a3be4(0x1a8)]=_0x12e013,document[_0x3a3be4(0x1b3)](_0x3a3be4(0x20e))[_0x3a3be4(0x25b)](_0xd19ba7=>{const _0x3008a0=_0x3a3be4;_0xd19ba7[_0x3008a0(0x158)](_0x3008a0(0x1a3),function(){const _0x488576=_0x3008a0,_0x7f630e=this[_0x488576(0x18a)](_0x488576(0x17d)),_0x592226=outstandingMatches[_0x488576(0x1bd)](_0x4dd37b=>_0x4dd37b['id']===_0x7f630e);document[_0x488576(0x1ed)](_0x488576(0x25e))[_0x488576(0x1c3)][_0x488576(0x1f9)](_0x488576(0x1f7)),showMatchLightbox(_0x592226);});}),document[_0x3a3be4(0x1b3)](_0x3a3be4(0x1b7))[_0x3a3be4(0x25b)](_0x1c8362=>{const _0x52f607=_0x3a3be4;_0x1c8362[_0x52f607(0x158)](_0x52f607(0x1a3),function(){const _0x371fee=_0x52f607,_0x3a1a67=this[_0x371fee(0x18a)](_0x371fee(0x17d)),_0x2253d7=outstandingMatches[_0x371fee(0x1bd)](_0x3ad8e3=>_0x3ad8e3['id']===_0x3a1a67);document[_0x371fee(0x1ed)](_0x371fee(0x25e))[_0x371fee(0x1c3)][_0x371fee(0x1f9)](_0x371fee(0x1f7)),editReport(_0x2253d7);});}),document[_0x3a3be4(0x1b3)](_0x3a3be4(0x1d1))[_0x3a3be4(0x25b)](_0x589cda=>{const _0x1a6d2e=_0x3a3be4;_0x589cda[_0x1a6d2e(0x158)](_0x1a6d2e(0x1a3),function(){const _0x45dd1b=_0x1a6d2e,_0x2dc24a=this[_0x45dd1b(0x18a)](_0x45dd1b(0x17d)),_0x2c8e25=outstandingMatches[_0x45dd1b(0x1bd)](_0x41dec8=>_0x41dec8['id']===_0x2dc24a);confirm(_0x45dd1b(0x243)+(_0x2c8e25[_0x45dd1b(0x23a)]||_0x45dd1b(0x20c))+'?')&&rescindReport(_0x2c8e25);});});}export async function rescindReport(_0x233028){const _0x5d3139=a47_0x283ed8;try{const _0x48efd8=currentGameMode==='D1'?_0x5d3139(0x1fa):currentGameMode==='D2'?_0x5d3139(0x22c):_0x5d3139(0x27e),_0x41405e=doc(db,_0x48efd8,_0x233028['id']);await deleteDoc(_0x41405e),alert(_0x5d3139(0x153)),await fetchOutstandingMatches(),renderOutstandingMatches();}catch(_0x35e2f5){console[_0x5d3139(0x1f6)](_0x5d3139(0x236),_0x35e2f5),alert(_0x5d3139(0x244));}}export function editReport(_0x1b0151){const _0x582b32=a47_0x283ed8,_0xc7f4dc=document[_0x582b32(0x1ed)](_0x582b32(0x161)),_0x273df6=document[_0x582b32(0x1ed)](_0x582b32(0x1e3)),_0x48ae4b=document[_0x582b32(0x1ed)](_0x582b32(0x24d)),_0x49b09e=document[_0x582b32(0x1ed)](_0x582b32(0x147)),_0x2b2698=document[_0x582b32(0x1ed)](_0x582b32(0x18f));_0xc7f4dc[_0x582b32(0x19d)][_0x582b32(0x1c1)]=_0x582b32(0x19f),document[_0x582b32(0x1ed)](_0x582b32(0x24f))[_0x582b32(0x19d)][_0x582b32(0x1c1)]=_0x582b32(0x256);if(_0x1b0151[_0x582b32(0x247)])_0x273df6[_0x582b32(0x180)]=_0x1b0151[_0x582b32(0x247)];if(_0x1b0151[_0x582b32(0x23f)])_0x48ae4b[_0x582b32(0x180)]=_0x1b0151[_0x582b32(0x23f)];if(_0x1b0151[_0x582b32(0x1df)])_0x49b09e[_0x582b32(0x180)]=_0x1b0151[_0x582b32(0x1df)];if(_0x1b0151[_0x582b32(0x265)])_0x2b2698[_0x582b32(0x180)]=_0x1b0151[_0x582b32(0x265)];const _0x3e3e98=document[_0x582b32(0x1ed)](_0x582b32(0x17b));_0x3e3e98&&_0x1b0151[_0x582b32(0x23a)]&&Array[_0x582b32(0x252)](_0x3e3e98[_0x582b32(0x237)])[_0x582b32(0x25b)](_0x268dee=>{const _0x485afd=_0x582b32;_0x268dee[_0x485afd(0x25a)]===_0x1b0151[_0x485afd(0x23a)]&&(_0x268dee[_0x485afd(0x167)]=!![]);});const _0x42b574=document[_0x582b32(0x1ed)](_0x582b32(0x229));_0x42b574&&_0x1b0151[_0x582b32(0x207)]&&(_0x42b574[_0x582b32(0x180)]=_0x1b0151[_0x582b32(0x207)]);_0xc7f4dc[_0x582b32(0x1ad)](_0x582b32(0x1cb),_0x1b0151['id']);const _0x549a8c=_0xc7f4dc[_0x582b32(0x213)](_0x582b32(0x181));_0x549a8c[_0x582b32(0x1a6)]=_0x582b32(0x272);if(!document[_0x582b32(0x1ed)](_0x582b32(0x200))){const _0x1be50c=document[_0x582b32(0x201)](_0x582b32(0x254));_0x1be50c['id']=_0x582b32(0x200),_0x1be50c[_0x582b32(0x1a5)]=_0x582b32(0x1ee),_0x1be50c[_0x582b32(0x19d)][_0x582b32(0x1a0)]=_0x582b32(0x195),_0x1be50c[_0x582b32(0x19d)][_0x582b32(0x193)]=_0x582b32(0x198),_0x1be50c[_0x582b32(0x1a6)]=_0x582b32(0x21f),_0x1be50c[_0x582b32(0x253)]=_0x582b32(0x254),_0x549a8c[_0x582b32(0x21b)][_0x582b32(0x197)](_0x1be50c,_0x549a8c),_0x1be50c[_0x582b32(0x158)](_0x582b32(0x1a3),function(_0x3ecf05){const _0x3ceb19=_0x582b32;_0x3ecf05[_0x3ceb19(0x171)](),_0xc7f4dc[_0x3ceb19(0x217)](),_0xc7f4dc[_0x3ceb19(0x1b5)](_0x3ceb19(0x1cb)),_0x549a8c[_0x3ceb19(0x1a6)]=_0x3ceb19(0x226),this[_0x3ceb19(0x1f9)](),initReportForm();});}_0xc7f4dc[_0x582b32(0x187)]({'behavior':_0x582b32(0x221)});}function initReportForm(){const _0x563ec1=a47_0x283ed8;console[_0x563ec1(0x1ab)](_0x563ec1(0x19a));}export function showMatchLightbox(_0x49884c){const _0x9a9955=a47_0x283ed8,_0xdbe247=document[_0x9a9955(0x1ed)](_0x9a9955(0x1d7));document[_0x9a9955(0x1ed)](_0x9a9955(0x1db))[_0x9a9955(0x1a6)]=currentGameMode,document[_0x9a9955(0x1ed)](_0x9a9955(0x150))[_0x9a9955(0x1a6)]=_0x49884c[_0x9a9955(0x23a)]||_0x9a9955(0x1d0),document[_0x9a9955(0x1ed)](_0x9a9955(0x276))[_0x9a9955(0x1a6)]=_0x49884c[_0x9a9955(0x1a2)]||_0x9a9955(0x1d0),document[_0x9a9955(0x1ed)](_0x9a9955(0x143))[_0x9a9955(0x1a6)]=_0x49884c[_0x9a9955(0x247)]||'0',document[_0x9a9955(0x1ed)](_0x9a9955(0x25c))[_0x9a9955(0x1a6)]=_0x49884c[_0x9a9955(0x23f)]||'0',document[_0x9a9955(0x1ed)](_0x9a9955(0x17f))[_0x9a9955(0x1a6)]=_0x49884c[_0x9a9955(0x1df)]||_0x9a9955(0x1d0),document[_0x9a9955(0x1ed)](_0x9a9955(0x16b))[_0x9a9955(0x1a6)]=_0x49884c[_0x9a9955(0x265)]||_0x9a9955(0x27d),document[_0x9a9955(0x1ed)](_0x9a9955(0x1e7))[_0x9a9955(0x1a6)]=_0x49884c[_0x9a9955(0x207)]||_0x9a9955(0x1d8),_0xdbe247[_0x9a9955(0x1c3)][_0x9a9955(0x1c6)](_0x9a9955(0x1f7));}export function setCurrentGameMode(_0x366309){currentGameMode=_0x366309;}export function initOutstandingMatches(){const _0x1baf8b=a47_0x283ed8;document[_0x1baf8b(0x158)](_0x1baf8b(0x165),()=>{const _0x5df451=_0x1baf8b,_0x2cfbd4=document[_0x5df451(0x1ed)](_0x5df451(0x172)),_0x6f8eb9=document[_0x5df451(0x1ed)](_0x5df451(0x24a)),_0x122125=document[_0x5df451(0x1ed)](_0x5df451(0x25e)),_0x56957c=document[_0x5df451(0x1ed)](_0x5df451(0x13b)),_0x26954e=document[_0x5df451(0x1ed)](_0x5df451(0x1b8)),_0x2b192d=document[_0x5df451(0x1ed)](_0x5df451(0x13d)),_0x41de3b=document[_0x5df451(0x1ed)](_0x5df451(0x154)),_0x152266=document[_0x5df451(0x1ed)](_0x5df451(0x1fb));if(_0x2b192d)_0x2b192d[_0x5df451(0x158)](_0x5df451(0x1a3),()=>{setCurrentGameMode('D1');});if(_0x41de3b)_0x41de3b[_0x5df451(0x158)](_0x5df451(0x1a3),()=>{setCurrentGameMode('D2');});if(_0x152266)_0x152266[_0x5df451(0x158)](_0x5df451(0x1a3),()=>{setCurrentGameMode('D3');});auth[_0x5df451(0x270)](_0x22c713=>{const _0xab5b0d=_0x5df451;_0x22c713?_0x6f8eb9[_0xab5b0d(0x19d)][_0xab5b0d(0x1c1)]=_0xab5b0d(0x19f):_0x6f8eb9[_0xab5b0d(0x19d)][_0xab5b0d(0x1c1)]=_0xab5b0d(0x256);});_0x2cfbd4&&_0x2cfbd4[_0x5df451(0x158)](_0x5df451(0x1a3),async()=>{const _0x81ba9e=_0x5df451;_0x122125[_0x81ba9e(0x1c3)][_0x81ba9e(0x1c6)](_0x81ba9e(0x1f7)),document[_0x81ba9e(0x1ed)](_0x81ba9e(0x163))[_0x81ba9e(0x1a8)]=_0x81ba9e(0x170),await fetchOutstandingMatches(),renderOutstandingMatches();});_0x56957c&&_0x56957c[_0x5df451(0x158)](_0x5df451(0x1a3),()=>{const _0x372c86=_0x5df451;_0x122125[_0x372c86(0x1c3)][_0x372c86(0x1f9)](_0x372c86(0x1f7));});_0x26954e&&_0x26954e[_0x5df451(0x158)](_0x5df451(0x1a3),()=>{const _0x741671=_0x5df451;document[_0x741671(0x1ed)](_0x741671(0x1d7))[_0x741671(0x1c3)][_0x741671(0x1f9)](_0x741671(0x1f7));});_0x122125&&_0x122125[_0x5df451(0x158)](_0x5df451(0x1a3),_0x34d31a=>{const _0x19f81d=_0x5df451;_0x34d31a[_0x19f81d(0x264)]===_0x122125&&_0x122125[_0x19f81d(0x1c3)][_0x19f81d(0x1f9)](_0x19f81d(0x1f7));});const _0x2c219d=document[_0x5df451(0x1ed)](_0x5df451(0x1d7));_0x2c219d&&_0x2c219d[_0x5df451(0x158)](_0x5df451(0x1a3),_0x1ec454=>{const _0x1f011f=_0x5df451;_0x1ec454[_0x1f011f(0x264)]===_0x2c219d&&_0x2c219d[_0x1f011f(0x1c3)][_0x1f011f(0x1f9)](_0x1f011f(0x1f7));});const _0x3cf9cc=document[_0x5df451(0x1ed)](_0x5df451(0x161));if(_0x3cf9cc){const _0x8699f8=_0x3cf9cc[_0x5df451(0x225)];_0x3cf9cc[_0x5df451(0x225)]=async function(_0x3ba3f6){const _0x2b83f8=_0x5df451;_0x3ba3f6[_0x2b83f8(0x171)]();const _0x196c9e=this[_0x2b83f8(0x18a)](_0x2b83f8(0x1cb));if(_0x196c9e)try{const _0x254211=document[_0x2b83f8(0x1ed)](_0x2b83f8(0x1e3))[_0x2b83f8(0x180)],_0x39aa45=document[_0x2b83f8(0x1ed)](_0x2b83f8(0x24d))[_0x2b83f8(0x180)],_0x458df5=document[_0x2b83f8(0x1ed)](_0x2b83f8(0x147))[_0x2b83f8(0x180)],_0x354b02=document[_0x2b83f8(0x1ed)](_0x2b83f8(0x18f))[_0x2b83f8(0x180)],_0xaf1009=currentGameMode==='D1'?_0x2b83f8(0x1fa):currentGameMode==='D2'?_0x2b83f8(0x22c):_0x2b83f8(0x27e),_0x34b832=doc(db,_0xaf1009,_0x196c9e);await updateDoc(_0x34b832,{'loserScore':Number(_0x254211),'loserSuicides':Number(_0x39aa45),'mapPlayed':_0x458df5,'loserComment':_0x354b02,'subgameType':document[_0x2b83f8(0x1ed)](_0x2b83f8(0x229))[_0x2b83f8(0x180)],'updatedAt':new Date()}),alert(_0x2b83f8(0x199)),this[_0x2b83f8(0x217)](),this[_0x2b83f8(0x1b5)](_0x2b83f8(0x1cb));const _0x18b510=this[_0x2b83f8(0x213)](_0x2b83f8(0x181));_0x18b510[_0x2b83f8(0x1a6)]=_0x2b83f8(0x226);const _0x2520e4=document[_0x2b83f8(0x1ed)](_0x2b83f8(0x200));if(_0x2520e4)_0x2520e4[_0x2b83f8(0x1f9)]();}catch(_0x1e3489){console[_0x2b83f8(0x1f6)](_0x2b83f8(0x18c),_0x1e3489),document[_0x2b83f8(0x1ed)](_0x2b83f8(0x1e2))[_0x2b83f8(0x1a6)]=_0x2b83f8(0x1d2);}else typeof _0x8699f8===_0x2b83f8(0x182)&&_0x8699f8[_0x2b83f8(0x169)](this,_0x3ba3f6);};}});}typeof window!==a47_0x283ed8(0x189)&&(window[a47_0x283ed8(0x224)]=showMatchLightbox,window[a47_0x283ed8(0x20d)]=editReport,window[a47_0x283ed8(0x240)]=rescindReport,window[a47_0x283ed8(0x149)]=fetchOutstandingMatches,window[a47_0x283ed8(0x18b)]=renderOutstandingMatches);initOutstandingMatches();