const a18_0x200d32=a18_0x2c13,a18_0xbce5d8=(function(){let _0xc1faf7=!![];return function(_0x101471,_0x9123dd){const _0x1e3872=_0xc1faf7?function(){if(_0x9123dd){const _0x5f1ae0=_0x9123dd['apply'](_0x101471,arguments);return _0x9123dd=null,_0x5f1ae0;}}:function(){};return _0xc1faf7=![],_0x1e3872;};}()),a18_0x324651=a18_0xbce5d8(this,function(){const _0x1e602e=a18_0x2c13,_0x4c5bd8=function(){const _0x2dccb6=a18_0x2c13;let _0x4dab1c;try{_0x4dab1c=Function(_0x2dccb6(0x1c1)+_0x2dccb6(0x1c0)+');')();}catch(_0x46f8a4){_0x4dab1c=window;}return _0x4dab1c;},_0x3aeedc=_0x4c5bd8(),_0x542d01=_0x3aeedc[_0x1e602e(0x1bf)]=_0x3aeedc['console']||{},_0x1e5a79=['log',_0x1e602e(0x1b3),'info','error',_0x1e602e(0x1bd),'table',_0x1e602e(0x1c2)];for(let _0x31ecf2=0x0;_0x31ecf2<_0x1e5a79['length'];_0x31ecf2++){const _0xe76d26=a18_0xbce5d8['constructor']['prototype']['bind'](a18_0xbce5d8),_0x4c0c3b=_0x1e5a79[_0x31ecf2],_0x2cfcf9=_0x542d01[_0x4c0c3b]||_0xe76d26;_0xe76d26['__proto__']=a18_0xbce5d8['bind'](a18_0xbce5d8),_0xe76d26['toString']=_0x2cfcf9[_0x1e602e(0x1b5)]['bind'](_0x2cfcf9),_0x542d01[_0x4c0c3b]=_0xe76d26;}});a18_0x324651();function a18_0x2c13(_0xcd35bc,_0x2e1c5f){const _0x324651=a18_0x58b0();return a18_0x2c13=function(_0xbce5d8,_0x5850b1){_0xbce5d8=_0xbce5d8-0x1ab;let _0x58b00b=_0x324651[_0xbce5d8];return _0x58b00b;},a18_0x2c13(_0xcd35bc,_0x2e1c5f);}import{collection as a18_0x30b725,doc as a18_0x36213c,getDoc as a18_0x12cfb5,getDocs as a18_0x51854d,query as a18_0x2f6dc6,where as a18_0x555c24,orderBy as a18_0x44eaa4,limit as a18_0x82a9e5,startAfter as a18_0x2813bc,addDoc as a18_0x280d16,updateDoc as a18_0x290fea,deleteDoc as a18_0x53d35f,writeBatch as a18_0x435d28,serverTimestamp as a18_0x597872,Timestamp as a18_0x3f039a,getCountFromServer as a18_0x46f6ce,setDoc as a18_0x43153b,enableNetwork,disableNetwork}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db}from'./firebase-config.js';function a18_0x58b0(){const _0x122ae4=['rdlFirestore','apply','network-error','includes','length','log','fromDate','error','warn','unavailable','toString','Firestore\x20operation\x20blocked\x20-\x20session\x20suspended','RDL_NETWORK_ERROR','code','message','Firestore\x20operation\x20failed:','Session\x20suspended\x20due\x20to\x20inactivity.\x20Please\x20resume\x20your\x20session.','Caught\x20network\x20error:','exception','network','console','{}.constructor(\x22return\x20this\x22)(\x20)','return\x20(function()\x20','trace','string'];a18_0x58b0=function(){return _0x122ae4;};return a18_0x58b0();}import{handleNetworkError}from'./idle-timeout.js';function checkSessionStatus(){const _0x1037b2=a18_0x2c13;if(window['RDL_SESSION_SUSPENDED']){console['warn'](_0x1037b2(0x1b6));const _0xdfb711=new Error(_0x1037b2(0x1bb));_0xdfb711['code']='session-suspended';throw _0xdfb711;}if(window[_0x1037b2(0x1b7)]){console[_0x1037b2(0x1b3)]('Firestore\x20operation\x20blocked\x20-\x20network\x20error');const _0x5ed72e=new Error('Network\x20connection\x20error.\x20Please\x20check\x20your\x20internet\x20connection.');_0x5ed72e['code']='network-error';throw _0x5ed72e;}}async function handleFirestoreError(_0x2c6a38){const _0x3382b0=a18_0x2c13;console[_0x3382b0(0x1b2)](_0x3382b0(0x1ba),_0x2c6a38);if(_0x2c6a38&&(_0x2c6a38['code']===_0x3382b0(0x1b4)||_0x2c6a38[_0x3382b0(0x1b8)]==='resource-exhausted'||_0x2c6a38[_0x3382b0(0x1b9)]&&_0x2c6a38['message']['includes'](_0x3382b0(0x1be))||_0x2c6a38['code']&&_0x2c6a38[_0x3382b0(0x1b8)]['includes']('network')))return console['warn']('Network-related\x20error\x20detected,\x20suspending\x20operations'),handleNetworkError(),!![];return![];}export const rdlFirestore={'collection':function(){const _0x2bab78=a18_0x2c13;if(arguments['length']===0x1){if(typeof arguments[0x0]==='string')return a18_0x30b725(db,arguments[0x0]);return arguments[0x0];}else{if(arguments['length']===0x2&&arguments[0x0]===db&&typeof arguments[0x1]===_0x2bab78(0x1c3))return a18_0x30b725(db,arguments[0x1]);}return a18_0x30b725['apply'](null,arguments);},'doc':function(){const _0x27026e=a18_0x2c13;if(arguments[_0x27026e(0x1af)]===0x2){if(typeof arguments[0x0]==='string'&&typeof arguments[0x1]==='string')return a18_0x36213c(db,arguments[0x0],arguments[0x1]);return a18_0x36213c['apply'](null,arguments);}else{if(arguments['length']===0x3&&arguments[0x0]===db)return a18_0x36213c[_0x27026e(0x1ac)](null,arguments);}return a18_0x36213c['apply'](null,arguments);},'query':function(){return a18_0x2f6dc6['apply'](null,arguments);},'where':function(){const _0x2c1d15=a18_0x2c13;return a18_0x555c24[_0x2c1d15(0x1ac)](null,arguments);},'orderBy':function(){const _0x471794=a18_0x2c13;return a18_0x44eaa4[_0x471794(0x1ac)](null,arguments);},'limit':function(_0x3054e8){return a18_0x82a9e5(_0x3054e8);},'startAfter':function(_0x153a97){return a18_0x2813bc(_0x153a97);},'getDoc':async function(_0x57d3c3){const _0x187169=a18_0x2c13;try{return checkSessionStatus(),await a18_0x12cfb5(_0x57d3c3);}catch(_0x24040f){const _0x4a3b3b=await handleFirestoreError(_0x24040f);_0x4a3b3b&&(_0x24040f[_0x187169(0x1b8)]='network-error');throw _0x24040f;}},'getDocs':async function(_0x899279){try{return checkSessionStatus(),await a18_0x51854d(_0x899279);}catch(_0x2b7858){const _0x2effd3=await handleFirestoreError(_0x2b7858);_0x2effd3&&(_0x2b7858['code']='network-error');throw _0x2b7858;}},'getCountFromServer':async function(_0x194234){try{return checkSessionStatus(),await a18_0x46f6ce(_0x194234);}catch(_0x10d72f){const _0x54a25e=await handleFirestoreError(_0x10d72f);_0x54a25e&&(_0x10d72f['code']='network-error');throw _0x10d72f;}},'addDoc':async function(_0x12874e,_0x797021){const _0x518cb2=a18_0x2c13;try{return checkSessionStatus(),await a18_0x280d16(_0x12874e,_0x797021);}catch(_0x36f027){const _0x5e344b=await handleFirestoreError(_0x36f027);_0x5e344b&&(_0x36f027['code']=_0x518cb2(0x1ad));throw _0x36f027;}},'setDoc':async function(_0x400750,_0x1f5e5b,_0x2027f4){try{return checkSessionStatus(),await a18_0x43153b(_0x400750,_0x1f5e5b,_0x2027f4);}catch(_0x5059fe){const _0x209263=await handleFirestoreError(_0x5059fe);_0x209263&&(_0x5059fe['code']='network-error');throw _0x5059fe;}},'updateDoc':async function(_0x34ba95,_0x547fbd){const _0x58447a=a18_0x2c13;try{return checkSessionStatus(),await a18_0x290fea(_0x34ba95,_0x547fbd);}catch(_0x224c65){const _0x10c5a1=await handleFirestoreError(_0x224c65);_0x10c5a1&&(_0x224c65[_0x58447a(0x1b8)]='network-error');throw _0x224c65;}},'deleteDoc':async function(_0x351e13){const _0x42d55f=a18_0x2c13;try{return checkSessionStatus(),await a18_0x53d35f(_0x351e13);}catch(_0x3f679b){const _0x109c19=await handleFirestoreError(_0x3f679b);_0x109c19&&(_0x3f679b[_0x42d55f(0x1b8)]=_0x42d55f(0x1ad));throw _0x3f679b;}},'writeBatch':function(){checkSessionStatus();const _0x463a88=a18_0x435d28(db),_0x3e8351=_0x463a88['commit']['bind'](_0x463a88);return _0x463a88['commit']=async function(){try{return checkSessionStatus(),await _0x3e8351();}catch(_0x18459c){const _0x4a2285=await handleFirestoreError(_0x18459c);_0x4a2285&&(_0x18459c['code']='network-error');throw _0x18459c;}},_0x463a88;},'serverTimestamp':function(){return a18_0x597872();},'Timestamp':{'now':function(){return a18_0x3f039a['now']();},'fromDate':function(_0x19d9d5){const _0x664583=a18_0x2c13;return a18_0x3f039a[_0x664583(0x1b1)](_0x19d9d5);}},'enableNetwork':async function(){try{return await enableNetwork(db);}catch(_0x180fe8){console['error']('Failed\x20to\x20enable\x20network:',_0x180fe8);throw _0x180fe8;}},'disableNetwork':async function(){try{return await disableNetwork(db);}catch(_0x13f967){console['error']('Failed\x20to\x20disable\x20network:',_0x13f967);throw _0x13f967;}}};window['addEventListener']('error',function(_0x531408){const _0x26f9de=a18_0x2c13;if(_0x531408['error']){if(_0x531408['error'][_0x26f9de(0x1b8)]==='session-suspended')_0x531408['preventDefault'](),console['log']('Caught\x20session\x20suspended\x20error:',_0x531408[_0x26f9de(0x1b2)]['message']);else(_0x531408['error']['code']==='unavailable'||_0x531408['error']['code']==='resource-exhausted'||_0x531408['error']['message']&&_0x531408['error']['message'][_0x26f9de(0x1ae)]('network')||_0x531408[_0x26f9de(0x1b2)]['code']&&_0x531408['error']['code'][_0x26f9de(0x1ae)](_0x26f9de(0x1be)))&&(_0x531408['preventDefault'](),console[_0x26f9de(0x1b0)](_0x26f9de(0x1bc),_0x531408['error'][_0x26f9de(0x1b9)]),handleNetworkError());}}),window[a18_0x200d32(0x1ab)]=rdlFirestore,console['log']('Firestore\x20wrapper\x20initialized\x20with\x20session\x20checking\x20and\x20network\x20error\x20handling');