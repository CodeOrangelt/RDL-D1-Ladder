const a52_0x56fec3=a52_0x2ac3;(function(_0xdc397f,_0x39fc09){const _0xf6fa25=a52_0x2ac3,_0x6e8c5d=_0xdc397f();while(!![]){try{const _0xc532b8=-parseInt(_0xf6fa25(0xb5))/0x1*(parseInt(_0xf6fa25(0x9d))/0x2)+-parseInt(_0xf6fa25(0x93))/0x3*(parseInt(_0xf6fa25(0x91))/0x4)+parseInt(_0xf6fa25(0x90))/0x5+parseInt(_0xf6fa25(0xb6))/0x6*(parseInt(_0xf6fa25(0xc2))/0x7)+-parseInt(_0xf6fa25(0xb9))/0x8*(parseInt(_0xf6fa25(0xa3))/0x9)+parseInt(_0xf6fa25(0xaf))/0xa*(-parseInt(_0xf6fa25(0xba))/0xb)+parseInt(_0xf6fa25(0xbb))/0xc;if(_0xc532b8===_0x39fc09)break;else _0x6e8c5d['push'](_0x6e8c5d['shift']());}catch(_0x5b40e3){_0x6e8c5d['push'](_0x6e8c5d['shift']());}}}(a52_0x2209,0x77695));const a52_0x2897f7=(function(){let _0x55f664=!![];return function(_0x3a898f,_0x766429){const _0x4c0b97=_0x55f664?function(){const _0x35a87d=a52_0x2ac3;if(_0x766429){const _0x28fc53=_0x766429[_0x35a87d(0xae)](_0x3a898f,arguments);return _0x766429=null,_0x28fc53;}}:function(){};return _0x55f664=![],_0x4c0b97;};}()),a52_0x5c8ae3=a52_0x2897f7(this,function(){const _0x474bbe=a52_0x2ac3;return a52_0x5c8ae3[_0x474bbe(0x96)]()[_0x474bbe(0x86)](_0x474bbe(0xbc))[_0x474bbe(0x96)]()[_0x474bbe(0x9a)](a52_0x5c8ae3)['search']('(((.+)+)+)+$');});a52_0x5c8ae3();const a52_0x3f5eff=(function(){let _0x2c84c5=!![];return function(_0x5a3867,_0x1f47a2){const _0x19be15=_0x2c84c5?function(){if(_0x1f47a2){const _0x19eaf8=_0x1f47a2['apply'](_0x5a3867,arguments);return _0x1f47a2=null,_0x19eaf8;}}:function(){};return _0x2c84c5=![],_0x19be15;};}()),a52_0x2cbec4=a52_0x3f5eff(this,function(){const _0x4e26e3=a52_0x2ac3;let _0x1657bc;try{const _0x22a120=Function(_0x4e26e3(0x84)+_0x4e26e3(0xb3)+');');_0x1657bc=_0x22a120();}catch(_0x4c892b){_0x1657bc=window;}const _0x195d7e=_0x1657bc[_0x4e26e3(0xc4)]=_0x1657bc[_0x4e26e3(0xc4)]||{},_0x158280=[_0x4e26e3(0x8f),'warn',_0x4e26e3(0xb1),_0x4e26e3(0xac),_0x4e26e3(0x92),_0x4e26e3(0xb4),_0x4e26e3(0xc0)];for(let _0x49f0cf=0x0;_0x49f0cf<_0x158280['length'];_0x49f0cf++){const _0x59ca3e=a52_0x3f5eff[_0x4e26e3(0x9a)][_0x4e26e3(0xa4)]['bind'](a52_0x3f5eff),_0x447f20=_0x158280[_0x49f0cf],_0x24da70=_0x195d7e[_0x447f20]||_0x59ca3e;_0x59ca3e[_0x4e26e3(0x85)]=a52_0x3f5eff[_0x4e26e3(0xb2)](a52_0x3f5eff),_0x59ca3e[_0x4e26e3(0x96)]=_0x24da70[_0x4e26e3(0x96)][_0x4e26e3(0xb2)](_0x24da70),_0x195d7e[_0x447f20]=_0x59ca3e;}});a52_0x2cbec4();import{db}from'./firebase-config.js';import{collection,getDocs,setDoc,doc,increment}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{EmailAuthProvider,reauthenticateWithCredential}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';class SeasonManager{constructor(){const _0x418a9f=a52_0x2ac3;this[_0x418a9f(0xab)]();}[a52_0x56fec3(0xab)](){const _0x4c5b9b=a52_0x56fec3,_0x421d49=document['getElementById'](_0x4c5b9b(0xc5)),_0xf7f73d=document[_0x4c5b9b(0xa5)](_0x4c5b9b(0x8b)),_0x2812d0=document[_0x4c5b9b(0xa5)](_0x4c5b9b(0xb7));_0x421d49?.[_0x4c5b9b(0x87)](_0x4c5b9b(0x8c),()=>{const _0x5da56e=_0x4c5b9b;document[_0x5da56e(0xa5)](_0x5da56e(0x89))[_0x5da56e(0xaa)][_0x5da56e(0x9f)]=_0x5da56e(0x94);}),_0xf7f73d?.[_0x4c5b9b(0x87)](_0x4c5b9b(0x8c),async()=>{const _0x61648f=_0x4c5b9b,_0x23bdd1=document[_0x61648f(0xa5)](_0x61648f(0x95)),_0x287155=auth[_0x61648f(0xbf)];if(!_0x287155||!_0x23bdd1[_0x61648f(0xc3)]){alert(_0x61648f(0x99));return;}try{const _0x3bde60=EmailAuthProvider[_0x61648f(0xad)](_0x287155[_0x61648f(0xb8)],_0x23bdd1[_0x61648f(0xc3)]);await reauthenticateWithCredential(_0x287155,_0x3bde60),await this[_0x61648f(0x88)](),_0x23bdd1[_0x61648f(0xc3)]='',document[_0x61648f(0xa5)](_0x61648f(0x89))[_0x61648f(0xaa)][_0x61648f(0x9f)]=_0x61648f(0xa7);}catch(_0x34763e){alert(_0x61648f(0x9c)),console[_0x61648f(0xac)](_0x61648f(0x9e),_0x34763e);}}),_0x2812d0?.[_0x4c5b9b(0x87)](_0x4c5b9b(0x8c),()=>{const _0x4e322c=_0x4c5b9b,_0x39c01a=document[_0x4e322c(0xa5)](_0x4e322c(0x95));_0x39c01a[_0x4e322c(0xc3)]='',document[_0x4e322c(0xa5)](_0x4e322c(0x89))['style'][_0x4e322c(0x9f)]=_0x4e322c(0xa7);});}async[a52_0x56fec3(0x88)](){const _0x5179c5=a52_0x56fec3;try{const _0x5260dc=await getDoc(doc(db,_0x5179c5(0xbd),_0x5179c5(0xa8)));let _0x1b42e6=0x1;_0x5260dc[_0x5179c5(0xc1)]()&&(_0x1b42e6=_0x5260dc['data']()[_0x5179c5(0x97)]+0x1);const _0x523fd8=await getDocs(collection(db,_0x5179c5(0xa0))),_0x3abfd7={'players':[],'date':new Date(),'seasonNumber':_0x1b42e6};for(const _0x5230cc of _0x523fd8['docs']){const _0x3e085a=_0x5230cc[_0x5179c5(0x8e)]();_0x3abfd7[_0x5179c5(0xa0)][_0x5179c5(0xa2)]({'username':_0x3e085a[_0x5179c5(0xbe)],'position':_0x3e085a['position'],'eloRating':_0x3e085a[_0x5179c5(0xb0)]||0x4b0}),await setDoc(doc(db,_0x5179c5(0xa0),_0x5230cc['id']),{..._0x3e085a,'eloRating':0x4b0,'position':_0x3e085a[_0x5179c5(0x9b)]});}await setDoc(doc(db,_0x5179c5(0x8d),_0x5179c5(0x98)+_0x1b42e6),_0x3abfd7),await setDoc(doc(db,_0x5179c5(0xbd),_0x5179c5(0xa8)),{'count':_0x1b42e6}),alert(_0x5179c5(0xa6)+_0x1b42e6+_0x5179c5(0xa9)),location[_0x5179c5(0xa1)]();}catch(_0x185cd6){console[_0x5179c5(0xac)](_0x5179c5(0x8a),_0x185cd6),alert('Error\x20resetting\x20season.\x20Please\x20try\x20again.');}}}function a52_0x2209(){const _0x32c42b=['Please\x20enter\x20your\x20password','constructor','position','Invalid\x20password\x20or\x20authentication\x20failed','2BtQqDH','Authentication\x20error:','display','players','reload','push','1345086rLDujG','prototype','getElementById','Season\x20','none','seasonCount','\x20has\x20been\x20archived\x20and\x20players\x20have\x20been\x20reset.','style','setupEventListeners','error','credential','apply','730IodByu','eloRating','info','bind','{}.constructor(\x22return\x20this\x22)(\x20)','table','673499gDcHEv','6lnzkjn','cancel-reset','email','32TjbhIh','24662fnycTX','9530700SuXQrw','(((.+)+)+)+$','metadata','username','currentUser','trace','exists','6525337gtLkEJ','value','console','reset-season','return\x20(function()\x20','__proto__','search','addEventListener','resetSeason','reset-confirmation','Error\x20resetting\x20season:','confirm-reset','click','seasons','data','log','4127145fZhlpL','20nHFzlB','exception','376653naWuwz','block','reset-password','toString','count','season'];a52_0x2209=function(){return _0x32c42b;};return a52_0x2209();}function a52_0x2ac3(_0x2a07b4,_0x53166c){const _0x202d49=a52_0x2209();return a52_0x2ac3=function(_0x2cbec4,_0x3f5eff){_0x2cbec4=_0x2cbec4-0x84;let _0x17e95e=_0x202d49[_0x2cbec4];return _0x17e95e;},a52_0x2ac3(_0x2a07b4,_0x53166c);}export const seasonManager=new SeasonManager();