const a27_0x2e70c2=a27_0x315b;(function(_0x184229,_0x313942){const _0x46aeb4=a27_0x315b,_0x300e1e=_0x184229();while(!![]){try{const _0x1c4511=-parseInt(_0x46aeb4(0x19c))/0x1+-parseInt(_0x46aeb4(0x147))/0x2*(-parseInt(_0x46aeb4(0x10b))/0x3)+parseInt(_0x46aeb4(0x1cb))/0x4+-parseInt(_0x46aeb4(0x100))/0x5*(-parseInt(_0x46aeb4(0x13f))/0x6)+-parseInt(_0x46aeb4(0x130))/0x7+-parseInt(_0x46aeb4(0x13b))/0x8*(parseInt(_0x46aeb4(0x1b7))/0x9)+-parseInt(_0x46aeb4(0x1b3))/0xa;if(_0x1c4511===_0x313942)break;else _0x300e1e['push'](_0x300e1e['shift']());}catch(_0x15e56f){_0x300e1e['push'](_0x300e1e['shift']());}}}(a27_0x330f,0x409e9));const a27_0x384297=(function(){let _0x5605fa=!![];return function(_0x308290,_0x3bbda5){const _0x10cf9=_0x5605fa?function(){if(_0x3bbda5){const _0x32e4ed=_0x3bbda5['apply'](_0x308290,arguments);return _0x3bbda5=null,_0x32e4ed;}}:function(){};return _0x5605fa=![],_0x10cf9;};}()),a27_0x4ad8d2=a27_0x384297(this,function(){const _0xeb45f8=a27_0x315b;return a27_0x4ad8d2['toString']()['search'](_0xeb45f8(0x1c6))[_0xeb45f8(0x1b5)]()[_0xeb45f8(0x199)](a27_0x4ad8d2)[_0xeb45f8(0x1bf)](_0xeb45f8(0x1c6));});function a27_0x315b(_0x261541,_0x3c90a1){const _0x26b03a=a27_0x330f();return a27_0x315b=function(_0x3dcd6b,_0x29d2a3){_0x3dcd6b=_0x3dcd6b-0xf8;let _0x153396=_0x26b03a[_0x3dcd6b];return _0x153396;},a27_0x315b(_0x261541,_0x3c90a1);}a27_0x4ad8d2();const a27_0x29d2a3=(function(){let _0x36cc46=!![];return function(_0x505210,_0x3e02c7){const _0x4034f4=_0x36cc46?function(){if(_0x3e02c7){const _0x1fbcf3=_0x3e02c7['apply'](_0x505210,arguments);return _0x3e02c7=null,_0x1fbcf3;}}:function(){};return _0x36cc46=![],_0x4034f4;};}()),a27_0x3dcd6b=a27_0x29d2a3(this,function(){const _0x25fb4=a27_0x315b;let _0x41a5fc;try{const _0x14e367=Function(_0x25fb4(0x148)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x41a5fc=_0x14e367();}catch(_0x2cc8f8){_0x41a5fc=window;}const _0x506d8b=_0x41a5fc[_0x25fb4(0x141)]=_0x41a5fc['console']||{},_0x2e4cb6=[_0x25fb4(0x1a7),_0x25fb4(0x14c),_0x25fb4(0x1ba),_0x25fb4(0x171),_0x25fb4(0x10d),_0x25fb4(0x11a),'trace'];for(let _0x47ebc1=0x0;_0x47ebc1<_0x2e4cb6['length'];_0x47ebc1++){const _0x2d37bd=a27_0x29d2a3[_0x25fb4(0x199)][_0x25fb4(0x11c)][_0x25fb4(0x110)](a27_0x29d2a3),_0x1e446b=_0x2e4cb6[_0x47ebc1],_0x18a255=_0x506d8b[_0x1e446b]||_0x2d37bd;_0x2d37bd[_0x25fb4(0x1d7)]=a27_0x29d2a3[_0x25fb4(0x110)](a27_0x29d2a3),_0x2d37bd[_0x25fb4(0x1b5)]=_0x18a255[_0x25fb4(0x1b5)]['bind'](_0x18a255),_0x506d8b[_0x1e446b]=_0x2d37bd;}});a27_0x3dcd6b();import{db}from'./firebase-config.js';import{collection,getDocs,deleteDoc,doc,getDoc,query,where,updateDoc,Timestamp,onSnapshot,orderBy,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{getRankStyle}from'./ranks.js';import{displayLadderD2}from'./ladderd2.js';import{displayLadderD3}from'./ladderd3.js';import{getAuth}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';import{getLadderData,getEloHistoryBatch,setupEfficientListener}from'./services/firebaseService.js';import{displayLadderDuos}from'./ladderduos.js';const auth=getAuth();let activeListeners=[];export async function loadLadderData(_0x154d3a=0x1){const _0x40717e=a27_0x315b;try{document[_0x40717e(0x162)](_0x40717e(0x1a0))[_0x40717e(0x17f)][_0x40717e(0x175)]='block';const _0x4648c2=await getLadderData(_0x154d3a);_0x4648c2['sort']((_0x35c936,_0x4a5104)=>_0x4a5104[_0x40717e(0x142)]-_0x35c936[_0x40717e(0x142)]);const _0x53b59a=_0x4648c2[_0x40717e(0x18a)](_0x1ccef5=>_0x1ccef5['id']),_0x1d98fa=await getEloHistoryBatch(_0x53b59a,_0x154d3a),_0x364a19=_0x4648c2[_0x40717e(0x18a)]((_0x306ac4,_0x261a21)=>{const _0x579dcc=_0x40717e,_0x4d2c19=_0x1d98fa[_0x306ac4['id']]||[],_0x5b959e=_0x4d2c19['sort']((_0x1daab0,_0x352267)=>new Date(_0x352267['date'])-new Date(_0x1daab0[_0x579dcc(0x157)]))['slice'](0x0,0x5);return{..._0x306ac4,'rank':_0x261a21+0x1,'lastMatches':_0x5b959e,'recentActivity':_0x5b959e['length']>0x0};});renderLadder(_0x364a19),setupRealTimeUpdates(_0x154d3a);}catch(_0x5965f0){console['error'](_0x40717e(0x12c),_0x5965f0),document[_0x40717e(0x162)](_0x40717e(0x152))[_0x40717e(0x185)]='Failed\x20to\x20load\x20ladder\x20data.\x20Please\x20try\x20again.';}finally{document[_0x40717e(0x162)]('loading-indicator')[_0x40717e(0x17f)][_0x40717e(0x175)]='none';}}function setupRealTimeUpdates(_0x523d15=0x1){const _0x2d66d5=a27_0x315b;activeListeners[_0x2d66d5(0x103)](_0x407429=>_0x407429()),activeListeners=[];const _0x159888=_0x523d15===0x1?_0x2d66d5(0x1ae):_0x2d66d5(0x158)+_0x523d15,_0x4ac11d=_0x523d15===0x1?'matches':_0x2d66d5(0x1d3)+_0x523d15,_0xbf419a=new Date();_0xbf419a[_0x2d66d5(0x144)](_0xbf419a[_0x2d66d5(0x16c)]()-0x1);const _0x5b291c=setupEfficientListener(_0x4ac11d,[where(_0x2d66d5(0x157),'>=',_0xbf419a[_0x2d66d5(0x197)]()),limit(0xa),orderBy(_0x2d66d5(0x157),_0x2d66d5(0x165))],async _0x5643d8=>{_0x5643d8['length']>0x0&&await loadLadderData(_0x523d15);});activeListeners['push'](_0x5b291c);}export function cleanupListeners(){const _0x1e4109=a27_0x315b;activeListeners[_0x1e4109(0x103)](_0x5b1557=>_0x5b1557()),activeListeners=[];}function renderLadder(_0x3578cf){const _0x593fd9=a27_0x315b,_0x2d66c8=document[_0x593fd9(0x162)](_0x593fd9(0x190));_0x2d66c8[_0x593fd9(0x1a4)]='',_0x3578cf[_0x593fd9(0x103)](_0x1b06cc=>{const _0x517ecc=_0x593fd9,_0x51f60d=document[_0x517ecc(0x12e)](_0x517ecc(0x10a));_0x51f60d[_0x517ecc(0x19f)]=_0x517ecc(0x19a),_0x51f60d[_0x517ecc(0x1a4)]=_0x517ecc(0x178)+_0x1b06cc[_0x517ecc(0x123)]+_0x517ecc(0x108)+(_0x1b06cc[_0x517ecc(0x113)]||_0x1b06cc['id'])+_0x517ecc(0x167)+_0x1b06cc[_0x517ecc(0x142)]+_0x517ecc(0x1da)+(_0x1b06cc[_0x517ecc(0x163)]?_0x517ecc(0x186):_0x517ecc(0x196))+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1b06cc[_0x517ecc(0x163)]?_0x517ecc(0x140):'Inactive')+_0x517ecc(0x122),_0x2d66c8[_0x517ecc(0x17a)](_0x51f60d);});}const playerCache={'data':null,'timestamp':0x0},CACHE_DURATION=0x7530;async function displayLadder(_0x14d2e1=![]){const _0xdfe41a=a27_0x315b,_0x4658c5=document[_0xdfe41a(0x1bd)](_0xdfe41a(0x1d0));if(!_0x4658c5){console['error'](_0xdfe41a(0x1c9));return;}_0x4658c5[_0xdfe41a(0x1a4)]=_0xdfe41a(0x1a2);try{const _0x799234=Date[_0xdfe41a(0x19b)]();if(!_0x14d2e1&&playerCache[_0xdfe41a(0x12b)]&&_0x799234-playerCache[_0xdfe41a(0x14a)]<CACHE_DURATION){console[_0xdfe41a(0x1a7)]('Using\x20cached\x20D1\x20ladder\x20data'),updateLadderDisplay(playerCache[_0xdfe41a(0x12b)]);return;}const _0x693cd4=collection(db,'players'),_0x5c6c3e=await getDocs(_0x693cd4),_0x4f2199=[];_0x5c6c3e[_0xdfe41a(0x103)](_0x245188=>{const _0x36ecdd=_0xdfe41a,_0x95d307=_0x245188[_0x36ecdd(0x12b)]();_0x4f2199[_0x36ecdd(0x13d)]({..._0x95d307,'id':_0x245188['id'],'elo':_0x95d307[_0x36ecdd(0x1b8)]||0x0,'position':_0x95d307[_0x36ecdd(0x169)]||Number[_0x36ecdd(0x1d1)]});});const _0x5a3403=collection(db,_0xdfe41a(0x18b)),_0x33199b=await getDocs(_0x5a3403),_0x18a0ba=new Map();_0x33199b[_0xdfe41a(0x103)](_0x456d7b=>{const _0x4f8160=_0xdfe41a,_0x16661b=_0x456d7b[_0x4f8160(0x12b)]();_0x16661b[_0x4f8160(0x113)]&&_0x18a0ba['set'](_0x16661b[_0x4f8160(0x113)]['toLowerCase'](),_0x16661b);}),_0x4f2199[_0xdfe41a(0x103)](_0x1e4905=>{const _0x3d2d16=_0xdfe41a,_0xe08e2e=_0x1e4905[_0x3d2d16(0x113)]?.[_0x3d2d16(0x19d)]();if(_0xe08e2e&&_0x18a0ba[_0x3d2d16(0x192)](_0xe08e2e)){const _0xd77f8d=_0x18a0ba[_0x3d2d16(0x16f)](_0xe08e2e);_0xd77f8d[_0x3d2d16(0x1c5)]&&(_0x1e4905[_0x3d2d16(0x1c5)]=_0xd77f8d[_0x3d2d16(0x1c5)][_0x3d2d16(0x19d)]());}});const _0x177012=_0x4f2199[_0xdfe41a(0x18a)](_0xa54408=>_0xa54408[_0xdfe41a(0x113)]),_0x1e0975=await fetchBatchMatchStats(_0x177012);_0x4f2199[_0xdfe41a(0x1d5)]((_0x524b95,_0x107a75)=>{const _0x15221e=_0xdfe41a,_0x4a98b0=_0x1e0975[_0x15221e(0x16f)](_0x524b95[_0x15221e(0x113)])?.['totalMatches']||0x0,_0x564763=_0x1e0975[_0x15221e(0x16f)](_0x107a75['username'])?.['totalMatches']||0x0;if(_0x4a98b0===0x0!==(_0x564763===0x0))return _0x4a98b0===0x0?0x1:-0x1;return(_0x524b95[_0x15221e(0x169)]||0x3e7)-(_0x107a75['position']||0x3e7);}),_0x4f2199[_0xdfe41a(0x103)]((_0x5b8dae,_0x13fdbe)=>{const _0x5cae31=_0xdfe41a;_0x5b8dae[_0x5cae31(0x169)]=_0x13fdbe+0x1;}),playerCache[_0xdfe41a(0x12b)]=_0x4f2199,playerCache[_0xdfe41a(0x14a)]=_0x799234,updateLadderDisplay(_0x4f2199,_0x1e0975);}catch(_0x46ddf8){console['error']('Error\x20loading\x20ladder:',_0x46ddf8),_0x4658c5[_0xdfe41a(0x1a4)]=_0xdfe41a(0x1cc)+_0x46ddf8[_0xdfe41a(0x15c)]+_0xdfe41a(0x184);}}async function fetchBatchMatchStats(_0x370870){const _0x47b5fc=a27_0x315b,_0x493667=new Map();try{_0x370870[_0x47b5fc(0x103)](_0x476f3f=>{const _0x4f9907=_0x47b5fc;_0x493667[_0x4f9907(0x176)](_0x476f3f,{'totalMatches':0x0,'wins':0x0,'losses':0x0,'totalKills':0x0,'totalDeaths':0x0,'kda':0x0,'winRate':0x0});});const _0x331540=collection(db,_0x47b5fc(0x1b9)),_0x16fc10=await getDocs(_0x331540);_0x16fc10['forEach'](_0x2a2710=>{const _0x332e59=_0x47b5fc,_0x4ceae0=_0x2a2710[_0x332e59(0x12b)](),_0x306908=_0x4ceae0[_0x332e59(0x1af)],_0x4fdb32=_0x4ceae0[_0x332e59(0x1d8)];if(_0x370870['includes'](_0x306908)){const _0x5c6a5d=_0x493667[_0x332e59(0x16f)](_0x306908);_0x5c6a5d['wins']++,_0x5c6a5d[_0x332e59(0x1a5)]++,_0x5c6a5d[_0x332e59(0x16a)]+=parseInt(_0x4ceae0['winnerScore'])||0x0,_0x5c6a5d[_0x332e59(0x170)]+=parseInt(_0x4ceae0[_0x332e59(0x106)])||0x0;}if(_0x370870[_0x332e59(0x1d4)](_0x4fdb32)){const _0x47f5d7=_0x493667[_0x332e59(0x16f)](_0x4fdb32);_0x47f5d7[_0x332e59(0x177)]++,_0x47f5d7['totalMatches']++,_0x47f5d7[_0x332e59(0x16a)]+=parseInt(_0x4ceae0[_0x332e59(0x106)])||0x0,_0x47f5d7['totalDeaths']+=parseInt(_0x4ceae0[_0x332e59(0x17b)])||0x0;}}),_0x370870[_0x47b5fc(0x103)](_0x133b05=>{const _0x3fe509=_0x47b5fc,_0x4dc15f=_0x493667['get'](_0x133b05);_0x4dc15f[_0x3fe509(0x10c)]=_0x4dc15f[_0x3fe509(0x170)]>0x0?(_0x4dc15f[_0x3fe509(0x16a)]/_0x4dc15f[_0x3fe509(0x170)])['toFixed'](0x2):_0x4dc15f[_0x3fe509(0x16a)][_0x3fe509(0x13a)](0x2),_0x4dc15f[_0x3fe509(0x143)]=_0x4dc15f['totalMatches']>0x0?(_0x4dc15f['wins']/_0x4dc15f[_0x3fe509(0x1a5)]*0x64)['toFixed'](0x1):0x0;});}catch(_0x173fb){console[_0x47b5fc(0x171)](_0x47b5fc(0x1c2),_0x173fb);}return _0x493667;}function createPlayerRow(_0x1b32d6,_0x2ba451){const _0x696b26=a27_0x315b,_0x950b15=parseFloat(_0x1b32d6[_0x696b26(0x142)])||0x0;let _0x58d4d2=_0x696b26(0x161);if(_0x950b15>=0x7d0)_0x58d4d2='#50C878';else{if(_0x950b15>=0x708)_0x58d4d2='#FFD700';else{if(_0x950b15>=0x640)_0x58d4d2=_0x696b26(0x121);else _0x950b15>=0x578&&(_0x58d4d2=_0x696b26(0x1bc));}}let _0x36e72c='';return _0x1b32d6[_0x696b26(0x1c5)]&&(_0x36e72c=_0x696b26(0x12a)+_0x1b32d6[_0x696b26(0x1c5)][_0x696b26(0x19d)]()+_0x696b26(0x1c0)+_0x1b32d6[_0x696b26(0x1c5)]+_0x696b26(0x1d9)),_0x696b26(0x10e)+_0x1b32d6['position']+_0x696b26(0x1c8)+encodeURIComponent(_0x1b32d6[_0x696b26(0x113)])+_0x696b26(0x1b1)+_0x58d4d2+_0x696b26(0x17d)+_0x1b32d6[_0x696b26(0x113)]+_0x696b26(0x1a6)+_0x36e72c+_0x696b26(0x138)+_0x58d4d2+';\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22elo-container\x22\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22elo-value\x22>'+_0x950b15+_0x696b26(0x13c)+_0x2ba451[_0x696b26(0x1a5)]+_0x696b26(0x115)+_0x2ba451['wins']+_0x696b26(0x115)+_0x2ba451[_0x696b26(0x177)]+_0x696b26(0x115)+_0x2ba451[_0x696b26(0x10c)]+_0x696b26(0x115)+_0x2ba451[_0x696b26(0x143)]+_0x696b26(0x10f);}function a27_0x330f(){const _0x14a266=['newEloRating','18374TYoTOv','return\x20(function()\x20','elo-recommendation-text-d1','timestamp','brian2af@outlook.com','warn','),\x20you\x20should\x20be\x20playing\x20<span\x20class=\x22recommendation-highlight\x22\x20style=\x22color:\x20','opacity','disabled','catch','roleName','error-message','0.5','No\x20available\x20teammates\x20found.\x20More\x20players\x20needed\x20on\x20DUOS\x20ladder!','Error\x20fetching\x20ELO\x20history:','Gold','date','playersD','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<strong>ðŸ”’\x20Duos\x20Ladder\x20-\x20Admin\x20Only</strong><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20style=\x22color:\x20#ccc;\x22>Currently\x20in\x20testing\x20phase</span>\x0a\x20\x20\x20\x20','fontSize','</span>\x20(ELO:\x20','message','Duos\x20ladder\x20is\x20currently\x20admin-only','player','Error\x20checking\x20','td:nth-child(3)','gray','getElementById','recentActivity','not-allowed','desc','add','</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-elo\x22>','D1\x20toggle\x20clicked','position','totalKills','\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translate(-50%,\x20-50%);\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#2a2a2a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x202px\x20solid\x20#ff6b6b;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ff6b6b;\x0a\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.5);\x0a\x20\x20\x20\x20','getDate','change','currentUser','get','totalDeaths','error','visible','previousElo','then','display','set','losses','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22rank\x22>#','Error\x20checking\x20admin\x20status:','appendChild','winnerScore','d3-switch',';\x20text-decoration:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','owner','style','elo-recommendation-text-duos','color','preventDefault','elo-recommendation-text-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','innerText','active','playersD3','pow','Bronze','map','userProfiles','oldEloRating','parentNode','exists','pointer','ladder-container','duos','has','Silver','textContent','remove','inactive','toISOString','bold','constructor','ladder-player','now','167960dveKTF','toLowerCase','elo-recommendation-text-d3','className','loading-indicator','DOMContentLoaded','<tr><td\x20colspan=\x228\x22\x20class=\x22loading-cell\x22>Loading\x20ladder\x20data...</td></tr>','target','innerHTML','totalMatches','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','log','Unranked','d2-ladder-container','Recommendation\x20element\x20for\x20','teammate','#4CAF50','body','players','winnerUsername','You\x27re\x20not\x20registered\x20on\x20the\x20','&ladder=d1\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22color:\x20','elo-recommendation-text-d2','1255130INicMC','</span>.\x20Challenge\x20other\x20teams!','toString','0.85em','9FLMLKL','eloRating','approvedMatches','info','D3\x20toggle\x20clicked','#CD7F32','querySelector','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Rank</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Username</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>ELO</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Matches</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Wins</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Losses</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>K/D</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Win\x20Rate</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','search','.png\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22','duos-switch','Error\x20fetching\x20batch\x20match\x20stats:','length','Complete\x20your\x20profile\x20to\x20see\x20recommended\x20opponents','country','(((.+)+)+)+$','max','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22profile.html?username=','Ladder\x20table\x20body\x20not\x20found','uid','1526580YRycJE','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x228\x22\x20style=\x22text-align:\x20center;\x20color:\x20red;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20ladder\x20data:\x20','d2-switch','duos-ladder-container','find','#ladder\x20tbody','MAX_SAFE_INTEGER','checked','matchesD','includes','sort',';\x22>','__proto__','loserUsername','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22player-flag\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22margin-left:\x205px;\x20vertical-align:\x20middle;\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-activity\x20','playersD2','#50C878','classList','click','d1-ladder-container','email','dispatchEvent','visibility','5JKgoIE','seconds','empty','forEach','ELO\x20history\x20collection\x20is\x20empty','fontWeight','loserScore','docs','</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-name\x22>','eloHistory','div','57NZXvZL','kda','exception','\x0a\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','%</td>\x0a\x20\x20\x20\x20</tr>','bind','D2\x20toggle\x20clicked','#F44336','username','admin','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','d3-ladder-container','cssText','title','none','table','newElo','prototype','creative\x20lead','hasTeam','block','#C0C0C0','#b9f1fc','\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','rank','role','abs','</span>','d1-switch','No\x20ideal\x20opponent\x20found\x20for\x20your\x20current\x20ELO\x20(','label[for=\x22duos-switch\x22]','<img\x20src=\x22../images/flags/','data','Error\x20loading\x20ladder\x20data:','playerUsername','createElement','No\x20user\x20profile\x20found','906927nlsQsf','admin-only-message','addEventListener','Error\x20finding\x20best\x20opponent:','Based\x20on\x20your\x20ELO\x20(','.trend-indicator','onAuthStateChanged','cursor','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22color:\x20','Looking\x20for\x20a\x20teammate?\x20Consider\x20<span\x20class=\x22recommendation-highlight\x22\x20style=\x22color:\x20','toFixed','2855336XbmryV','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22trend-indicator\x22\x20style=\x22margin-left:\x205px;\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','push','Error\x20updating\x20ELO\x20trend\x20indicators:','2930604TqrWsl','Active','console','elo','winRate','setDate','You\x27re\x20not\x20registered\x20on\x20the\x20DUOS\x20ladder'];a27_0x330f=function(){return _0x14a266;};return a27_0x330f();}function getPlayerRankName(_0x3af400){const _0x2a4fd7=a27_0x315b;if(_0x3af400>=0x7d0)return'Emerald';if(_0x3af400>=0x708)return _0x2a4fd7(0x156);if(_0x3af400>=0x640)return _0x2a4fd7(0x193);if(_0x3af400>=0x578)return _0x2a4fd7(0x189);return _0x2a4fd7(0x1a8);}async function getPlayersLastEloChanges(_0x464f0e){const _0x5e9ed8=a27_0x315b,_0xab18ac=new Map();_0x464f0e[_0x5e9ed8(0x103)](_0x16d1af=>{const _0x2071d6=_0x5e9ed8;_0xab18ac[_0x2071d6(0x176)](_0x16d1af,0x0);});try{const _0x16a742=collection(db,_0x5e9ed8(0x1ae)),_0x249ce7=await getDocs(_0x16a742),_0x2da209=new Map(),_0x5b11e4=new Map();_0x249ce7[_0x5e9ed8(0x103)](_0x294688=>{const _0x17ac49=_0x5e9ed8,_0x321c78=_0x294688[_0x17ac49(0x12b)]();_0x321c78[_0x17ac49(0x113)]&&(_0x2da209[_0x17ac49(0x176)](_0x294688['id'],_0x321c78[_0x17ac49(0x113)]),_0x5b11e4[_0x17ac49(0x176)](_0x321c78[_0x17ac49(0x113)][_0x17ac49(0x19d)](),_0x294688['id']));});const _0x4cb9c7=collection(db,_0x5e9ed8(0x109)),_0x4e744c=query(_0x4cb9c7,orderBy(_0x5e9ed8(0x14a),_0x5e9ed8(0x165)),limit(0x12c)),_0x42356d=await getDocs(_0x4e744c);if(_0x42356d[_0x5e9ed8(0x102)])return console[_0x5e9ed8(0x1a7)](_0x5e9ed8(0x104)),_0xab18ac;if(_0x42356d[_0x5e9ed8(0x107)][_0x5e9ed8(0x1c3)]>0x0){const _0x11bf3c=_0x42356d[_0x5e9ed8(0x107)][0x0][_0x5e9ed8(0x12b)]();if(_0x11bf3c[_0x5e9ed8(0x15e)]&&_0x2da209[_0x5e9ed8(0x192)](_0x11bf3c['player'])){}}const _0x376de8=new Map();let _0x3ca161=0x0;_0x42356d[_0x5e9ed8(0x103)](_0xf7d213=>{const _0x2ea332=_0x5e9ed8,_0x592862=_0xf7d213[_0x2ea332(0x12b)]();let _0x3a146b=null;if(_0x592862[_0x2ea332(0x15e)]&&_0x2da209['has'](_0x592862[_0x2ea332(0x15e)]))_0x3a146b=_0x2da209[_0x2ea332(0x16f)](_0x592862[_0x2ea332(0x15e)]);else{if(_0x592862[_0x2ea332(0x113)]&&_0x5b11e4['has'](_0x592862[_0x2ea332(0x113)][_0x2ea332(0x19d)]()))_0x3a146b=_0x592862[_0x2ea332(0x113)];else _0x592862['playerUsername']&&_0x5b11e4['has'](_0x592862[_0x2ea332(0x12d)][_0x2ea332(0x19d)]())&&(_0x3a146b=_0x592862[_0x2ea332(0x12d)]);}_0x3a146b&&_0x464f0e[_0x2ea332(0x1d4)](_0x3a146b)&&(_0x3ca161++,!_0x376de8[_0x2ea332(0x192)](_0x3a146b)&&_0x376de8[_0x2ea332(0x176)](_0x3a146b,[]),_0x376de8['get'](_0x3a146b)[_0x2ea332(0x13d)]({..._0x592862,'timestamp':_0x592862[_0x2ea332(0x14a)]?.[_0x2ea332(0x101)]||0x0}));}),_0x376de8['forEach']((_0x10e49e,_0x36580d)=>{const _0x1ddd35=_0x5e9ed8;if(_0x10e49e[_0x1ddd35(0x1c3)]>0x0){_0x10e49e['sort']((_0x1c211d,_0x3bee60)=>_0x3bee60[_0x1ddd35(0x14a)]-_0x1c211d['timestamp']);const _0x34667e=_0x10e49e[_0x1ddd35(0x1cf)](_0x51b6db=>_0x51b6db['change']!==undefined||_0x51b6db['newElo']!==undefined&&_0x51b6db[_0x1ddd35(0x173)]!==undefined||_0x51b6db[_0x1ddd35(0x146)]!==undefined&&_0x51b6db[_0x1ddd35(0x18c)]!==undefined);if(_0x34667e){let _0x3b27ec;if(_0x34667e['change']!==undefined)_0x3b27ec=parseInt(_0x34667e[_0x1ddd35(0x16d)]);else{if(_0x34667e['newElo']!==undefined&&entry['previousElo']!==undefined)_0x3b27ec=parseInt(_0x34667e[_0x1ddd35(0x11b)])-parseInt(_0x34667e[_0x1ddd35(0x173)]);else _0x34667e[_0x1ddd35(0x146)]!==undefined&&entry[_0x1ddd35(0x18c)]!==undefined&&(_0x3b27ec=parseInt(_0x34667e[_0x1ddd35(0x146)])-parseInt(_0x34667e[_0x1ddd35(0x18c)]));}!isNaN(_0x3b27ec)&&_0x3b27ec!==0x0&&_0xab18ac[_0x1ddd35(0x176)](_0x36580d,_0x3b27ec);}}});}catch(_0x1bf685){console[_0x5e9ed8(0x171)](_0x5e9ed8(0x155),_0x1bf685);}return _0xab18ac;}async function updateLadderDisplay(_0x2c14c0,_0x5e2e15=null){const _0x5ac718=a27_0x315b,_0x4a110b=document[_0x5ac718(0x1bd)]('#ladder\x20tbody');if(!_0x4a110b){console[_0x5ac718(0x171)](_0x5ac718(0x1c9));return;}const _0x570250=document[_0x5ac718(0x1bd)]('#ladder\x20thead\x20tr');_0x570250&&(_0x570250[_0x5ac718(0x1a4)]=_0x5ac718(0x1be));const _0x4259db=_0x2c14c0[_0x5ac718(0x18a)](_0x589d3e=>_0x589d3e[_0x5ac718(0x113)]);!_0x5e2e15&&(_0x5e2e15=await fetchBatchMatchStats(_0x4259db));const _0xce52a4=_0x2c14c0[_0x5ac718(0x18a)](_0x13c556=>{const _0x4cee05=_0x5ac718,_0x1db9b9=_0x5e2e15[_0x4cee05(0x16f)](_0x13c556[_0x4cee05(0x113)])||{'totalMatches':0x0,'wins':0x0,'losses':0x0,'kda':0x0,'winRate':0x0,'totalKills':0x0,'totalDeaths':0x0};return createPlayerRow(_0x13c556,_0x1db9b9);})['join']('');_0x4a110b[_0x5ac718(0x1a4)]=_0xce52a4,getPlayersLastEloChanges(_0x4259db)[_0x5ac718(0x174)](_0x2f7132=>{const _0x19805d=_0x5ac718,_0x1cc796=new Map();_0x4a110b['querySelectorAll']('tr')[_0x19805d(0x103)]((_0x397ec7,_0x22aa13)=>{const _0x50d8e0=_0x19805d;_0x22aa13<_0x4259db[_0x50d8e0(0x1c3)]&&_0x1cc796[_0x50d8e0(0x176)](_0x4259db[_0x22aa13],_0x397ec7);}),_0x2f7132[_0x19805d(0x103)]((_0x233520,_0x201f8a)=>{const _0x2f4a83=_0x19805d,_0x393972=_0x1cc796[_0x2f4a83(0x16f)](_0x201f8a);if(_0x393972&&_0x233520!==0x0){const _0x5708a7=_0x393972[_0x2f4a83(0x1bd)](_0x2f4a83(0x160));if(_0x5708a7){const _0x2babb6=_0x233520>0x0?'+'+_0x233520:''+_0x233520,_0x3d980c=_0x5708a7['querySelector'](_0x2f4a83(0x135));if(_0x3d980c)_0x3d980c[_0x2f4a83(0x194)]=_0x2babb6,_0x3d980c['style'][_0x2f4a83(0x181)]=_0x233520>0x0?_0x2f4a83(0x1ac):_0x2f4a83(0x112),_0x3d980c[_0x2f4a83(0x17f)][_0x2f4a83(0x105)]=_0x2f4a83(0x198),_0x3d980c['style'][_0x2f4a83(0x15a)]=_0x2f4a83(0x1b6),_0x3d980c[_0x2f4a83(0x17f)][_0x2f4a83(0x175)]='inline',_0x3d980c['style'][_0x2f4a83(0xff)]=_0x2f4a83(0x172),_0x3d980c[_0x2f4a83(0x17f)][_0x2f4a83(0x14e)]='1';else{}}}});})[_0x5ac718(0x150)](_0x3394ec=>console[_0x5ac718(0x171)](_0x5ac718(0x13e),_0x3394ec));}function initLadderToggles(){const _0x1499a6=a27_0x315b,_0x1f2241=document['getElementById'](_0x1499a6(0x127)),_0xb068d8=document[_0x1499a6(0x162)](_0x1499a6(0x1cd)),_0x8199ba=document['getElementById'](_0x1499a6(0x17c)),_0x399d5a=document[_0x1499a6(0x162)]('duos-switch'),_0x1c2b2a=document[_0x1499a6(0x162)]('d1-ladder-container'),_0x338c9f=document[_0x1499a6(0x162)](_0x1499a6(0x1a9)),_0x29a338=document['getElementById'](_0x1499a6(0x116)),_0x5f58de=document[_0x1499a6(0x162)](_0x1499a6(0x1ce));function _0x46b11e(){const _0x3710a5=_0x1499a6;if(_0x1c2b2a)_0x1c2b2a['classList']['remove'](_0x3710a5(0x186));if(_0x338c9f)_0x338c9f[_0x3710a5(0xfa)][_0x3710a5(0x195)](_0x3710a5(0x186));if(_0x29a338)_0x29a338['classList']['remove']('active');if(_0x5f58de)_0x5f58de['style'][_0x3710a5(0x175)]=_0x3710a5(0x119);if(_0x1c2b2a)_0x1c2b2a[_0x3710a5(0x17f)]['display']=_0x3710a5(0x119);if(_0x338c9f)_0x338c9f[_0x3710a5(0x17f)][_0x3710a5(0x175)]=_0x3710a5(0x119);if(_0x29a338)_0x29a338[_0x3710a5(0x17f)][_0x3710a5(0x175)]='none';}_0x1f2241&&_0x1f2241[_0x1499a6(0x132)](_0x1499a6(0xfb),()=>{const _0x5d86=_0x1499a6;console[_0x5d86(0x1a7)](_0x5d86(0x168)),_0x46b11e();_0x1c2b2a&&(_0x1c2b2a[_0x5d86(0xfa)]['add']('active'),_0x1c2b2a[_0x5d86(0x17f)][_0x5d86(0x175)]='block');document[_0x5d86(0x162)](_0x5d86(0x149))[_0x5d86(0x17f)][_0x5d86(0x175)]='block',document[_0x5d86(0x162)](_0x5d86(0x1b2))[_0x5d86(0x17f)][_0x5d86(0x175)]=_0x5d86(0x119),document[_0x5d86(0x162)]('elo-recommendation-text-d3')[_0x5d86(0x17f)][_0x5d86(0x175)]='none';if(_0x1f2241)_0x1f2241['classList'][_0x5d86(0x166)]('active');if(_0xb068d8)_0xb068d8[_0x5d86(0xfa)]['remove']('active');if(_0x8199ba)_0x8199ba[_0x5d86(0xfa)][_0x5d86(0x195)](_0x5d86(0x186));displayLadder(),findBestOpponent('d1');}),_0xb068d8&&_0xb068d8[_0x1499a6(0x132)](_0x1499a6(0xfb),()=>{const _0x1f1918=_0x1499a6;console[_0x1f1918(0x1a7)](_0x1f1918(0x111)),_0x46b11e();_0x338c9f&&(_0x338c9f['classList'][_0x1f1918(0x166)]('active'),_0x338c9f[_0x1f1918(0x17f)][_0x1f1918(0x175)]=_0x1f1918(0x11f));document[_0x1f1918(0x162)](_0x1f1918(0x149))['style'][_0x1f1918(0x175)]='none',document[_0x1f1918(0x162)](_0x1f1918(0x1b2))[_0x1f1918(0x17f)][_0x1f1918(0x175)]=_0x1f1918(0x11f),document[_0x1f1918(0x162)](_0x1f1918(0x19e))[_0x1f1918(0x17f)][_0x1f1918(0x175)]='none';if(_0xb068d8)_0xb068d8[_0x1f1918(0xfa)]['add'](_0x1f1918(0x186));if(_0x1f2241)_0x1f2241[_0x1f1918(0xfa)][_0x1f1918(0x195)](_0x1f1918(0x186));if(_0x8199ba)_0x8199ba[_0x1f1918(0xfa)][_0x1f1918(0x195)](_0x1f1918(0x186));displayLadderD2(),findBestOpponent('d2');}),_0x8199ba&&_0x8199ba['addEventListener'](_0x1499a6(0xfb),()=>{const _0x1df051=_0x1499a6;console[_0x1df051(0x1a7)](_0x1df051(0x1bb)),_0x46b11e();_0x29a338&&(_0x29a338[_0x1df051(0xfa)][_0x1df051(0x166)](_0x1df051(0x186)),_0x29a338[_0x1df051(0x17f)][_0x1df051(0x175)]=_0x1df051(0x11f));document[_0x1df051(0x162)](_0x1df051(0x149))['style'][_0x1df051(0x175)]=_0x1df051(0x119),document[_0x1df051(0x162)](_0x1df051(0x1b2))[_0x1df051(0x17f)][_0x1df051(0x175)]=_0x1df051(0x119),document[_0x1df051(0x162)]('elo-recommendation-text-d3')['style'][_0x1df051(0x175)]=_0x1df051(0x11f);if(_0x8199ba)_0x8199ba['classList'][_0x1df051(0x166)](_0x1df051(0x186));if(_0x1f2241)_0x1f2241[_0x1df051(0xfa)]['remove'](_0x1df051(0x186));if(_0xb068d8)_0xb068d8[_0x1df051(0xfa)]['remove'](_0x1df051(0x186));displayLadderD3(),findBestOpponent('d3');}),_0x399d5a&&_0x399d5a[_0x1499a6(0x132)]('click',()=>{const _0x11284f=_0x1499a6;_0x46b11e();if(_0x5f58de)_0x5f58de[_0x11284f(0x17f)][_0x11284f(0x175)]=_0x11284f(0x11f);displayLadderDuos(),findBestOpponent('duos'),document[_0x11284f(0x162)]('elo-recommendation-text-duos')&&(document[_0x11284f(0x162)](_0x11284f(0x180))['style'][_0x11284f(0x175)]=_0x11284f(0x11f)),document[_0x11284f(0x162)]('elo-recommendation-text-d1')['style'][_0x11284f(0x175)]='none',document[_0x11284f(0x162)](_0x11284f(0x1b2))['style']['display']=_0x11284f(0x119),document[_0x11284f(0x162)](_0x11284f(0x19e))['style'][_0x11284f(0x175)]=_0x11284f(0x119);});}document[a27_0x2e70c2(0x132)](a27_0x2e70c2(0x1a1),()=>{const _0x5d8bf6=a27_0x2e70c2;initLadderToggles(),displayLadder(),findBestOpponent('d1'),document[_0x5d8bf6(0x162)]('elo-recommendation-text-d1')[_0x5d8bf6(0x17f)][_0x5d8bf6(0x175)]=_0x5d8bf6(0x11f);});export{displayLadder};async function findBestOpponent(_0x20c1ac='d1'){const _0x421f98=a27_0x2e70c2,_0xb7403f=_0x421f98(0x183)+_0x20c1ac,_0x795886=document[_0x421f98(0x162)](_0xb7403f);if(!_0x795886){console[_0x421f98(0x171)](_0x421f98(0x1aa)+_0x20c1ac+'\x20not\x20found');return;}const _0x3553fc=auth[_0x421f98(0x16e)];if(!_0x3553fc){_0x795886[_0x421f98(0x194)]='';return;}try{const _0x15fcc8=doc(db,_0x421f98(0x18b),_0x3553fc[_0x421f98(0x1ca)]),_0x5c1f52=await getDoc(_0x15fcc8);if(!_0x5c1f52[_0x421f98(0x18e)]()){console[_0x421f98(0x1a7)](_0x421f98(0x12f)),_0x795886[_0x421f98(0x194)]=_0x421f98(0x1c4);return;}const _0x53572e=_0x5c1f52[_0x421f98(0x12b)](),_0x5e1060=_0x53572e[_0x421f98(0x113)];if(!_0x5e1060){_0x795886[_0x421f98(0x194)]='Set\x20your\x20username\x20to\x20see\x20recommended\x20opponents';return;}let _0x3c2a3b;switch(_0x20c1ac){case'd1':_0x3c2a3b=_0x421f98(0x1ae);break;case'd2':_0x3c2a3b=_0x421f98(0xf8);break;case'd3':_0x3c2a3b=_0x421f98(0x187);break;case _0x421f98(0x191):_0x3c2a3b='playersDuos';break;default:_0x3c2a3b=_0x421f98(0x1ae);}if(_0x20c1ac===_0x421f98(0x191)){const _0x1caa56=collection(db,_0x3c2a3b),_0x58ddce=query(_0x1caa56,where(_0x421f98(0x113),'==',_0x5e1060)),_0x3f0f78=await getDocs(_0x58ddce);if(_0x3f0f78[_0x421f98(0x102)]){_0x795886[_0x421f98(0x194)]=_0x421f98(0x145);return;}const _0x4e103d=_0x3f0f78[_0x421f98(0x107)][0x0]['data'](),_0x2bdbdd=parseInt(_0x4e103d['eloRating'])||0x4b0;if(_0x4e103d[_0x421f98(0x11e)]&&_0x4e103d[_0x421f98(0x1ab)]){_0x795886[_0x421f98(0x1a4)]='You\x27re\x20teamed\x20with\x20<span\x20class=\x22recommendation-highlight\x22>'+_0x4e103d[_0x421f98(0x1ab)]+_0x421f98(0x1b4);return;}const _0x2430cf=await getDocs(_0x1caa56);let _0x4e36b5=null,_0x4beca9=-0x1;_0x2430cf['forEach'](_0x112cb5=>{const _0x5991bd=_0x421f98,_0x3f9e96=_0x112cb5['data']();if(_0x3f9e96[_0x5991bd(0x113)]===_0x5e1060)return;if(_0x3f9e96[_0x5991bd(0x11e)])return;const _0x37c177=parseInt(_0x3f9e96[_0x5991bd(0x1b8)])||0x4b0,_0x55fdc1=Math['abs'](_0x37c177-_0x2bdbdd),_0x427958=Math[_0x5991bd(0x1c7)](0x0,0xc8-_0x55fdc1);_0x427958>_0x4beca9&&(_0x4e36b5=_0x3f9e96,_0x4beca9=_0x427958);});if(_0x4e36b5){const _0x6c8f9=parseInt(_0x4e36b5[_0x421f98(0x1b8)])||0x4b0;let _0xae12b9='gray';if(_0x6c8f9>=0x7d0)_0xae12b9=_0x421f98(0xf9);else{if(_0x6c8f9>=0x708)_0xae12b9='#FFD700';else{if(_0x6c8f9>=0x640)_0xae12b9=_0x421f98(0x120);else _0x6c8f9>=0x578&&(_0xae12b9='#CD7F32');}}_0x795886[_0x421f98(0x1a4)]=_0x421f98(0x139)+_0xae12b9+_0x421f98(0x1d6)+_0x4e36b5[_0x421f98(0x113)]+_0x421f98(0x15b)+_0x6c8f9+')';}else _0x795886[_0x421f98(0x194)]=_0x421f98(0x154);return;}const _0x216c61=collection(db,_0x3c2a3b),_0x4fc696=query(_0x216c61,where(_0x421f98(0x113),'==',_0x5e1060)),_0x1ec290=await getDocs(_0x4fc696);if(_0x1ec290[_0x421f98(0x102)]){_0x795886['textContent']=_0x421f98(0x1b0)+_0x20c1ac['toUpperCase']()+'\x20ladder';return;}const _0x530f4a=_0x1ec290[_0x421f98(0x107)][0x0][_0x421f98(0x12b)](),_0xd786bf=parseInt(_0x530f4a[_0x421f98(0x1b8)])||0x5dc,_0x1afad0=await getDocs(_0x216c61);let _0x53faf6=null,_0x104fa4=-0x1;const _0x30ba35=getPlayerRankName(_0xd786bf);_0x1afad0[_0x421f98(0x103)](_0xc6eb49=>{const _0x526596=_0x421f98,_0x1ed95c=_0xc6eb49[_0x526596(0x12b)]();if(_0x1ed95c[_0x526596(0x113)]===_0x5e1060)return;const _0x5f46d1=parseInt(_0x1ed95c[_0x526596(0x1b8)])||0x5dc,_0x4aede4=getPlayerRankName(_0x5f46d1),_0x3cea28=Math[_0x526596(0x125)](_0x5f46d1-_0xd786bf),_0x15b29e=0x20,_0x168cf9=0x1/(0x1+Math[_0x526596(0x188)](0xa,(_0x5f46d1-_0xd786bf)/0x190)),_0x5caf16=Math['round'](_0x15b29e*(0x1-_0x168cf9));if(_0x5caf16<=0x0)return;let _0x51628a=0x0;const _0x3f9ebd=Math[_0x526596(0x1c7)](0x0,0x64-_0x3cea28*0.5),_0x3e1aeb=_0x5caf16>=0x3&&_0x5caf16<=0x8?0x32:_0x5caf16>0x0&&_0x5caf16<0xf?0x1e:0xa,_0x8fa002=_0x30ba35===_0x4aede4?0x28:0x0;_0x51628a=_0x3f9ebd+_0x3e1aeb+_0x8fa002,_0x51628a>_0x104fa4&&(_0x53faf6=_0x1ed95c,_0x104fa4=_0x51628a);});if(_0x53faf6){const _0x2f4ddf=parseInt(_0x53faf6[_0x421f98(0x1b8)])||0x5dc;let _0x1cbe1a=_0x421f98(0x161);if(_0x2f4ddf>=0x7d0)_0x1cbe1a=_0x421f98(0xf9);else{if(_0x2f4ddf>=0x708)_0x1cbe1a='#FFD700';else{if(_0x2f4ddf>=0x640)_0x1cbe1a=_0x421f98(0x121);else _0x2f4ddf>=0x578&&(_0x1cbe1a=_0x421f98(0x1bc));}}_0x795886[_0x421f98(0x1a4)]=_0x421f98(0x134)+_0xd786bf+_0x421f98(0x14d)+_0x1cbe1a+_0x421f98(0x1d6)+_0x53faf6[_0x421f98(0x113)]+_0x421f98(0x126);}else _0x795886['innerHTML']=_0x421f98(0x128)+_0xd786bf+')';}catch(_0x46d7fe){console[_0x421f98(0x171)](_0x421f98(0x133),_0x46d7fe),_0x795886[_0x421f98(0x194)]='Error\x20finding\x20recommended\x20opponent';}}auth[a27_0x2e70c2(0x136)](_0x190eab=>{const _0x235040=a27_0x2e70c2,_0x4af667=document[_0x235040(0x162)](_0x235040(0xfc))&&document[_0x235040(0x162)](_0x235040(0xfc))[_0x235040(0x17f)][_0x235040(0x175)]!=='none',_0x57d4b4=document['getElementById']('d2-ladder-container')&&document[_0x235040(0x162)](_0x235040(0x1a9))['style'][_0x235040(0x175)]!==_0x235040(0x119),_0x3c89bb=document[_0x235040(0x162)](_0x235040(0x116))&&document['getElementById'](_0x235040(0x116))['style']['display']!==_0x235040(0x119),_0x578dd9=document[_0x235040(0x162)]('duos-ladder-container')&&document[_0x235040(0x162)](_0x235040(0x1ce))[_0x235040(0x17f)][_0x235040(0x175)]!==_0x235040(0x119),_0x2242d=_0x4af667?'d1':_0x57d4b4?'d2':_0x3c89bb?'d3':_0x578dd9?'duos':'d1';findBestOpponent(_0x2242d);}),document[a27_0x2e70c2(0x132)](a27_0x2e70c2(0x1a1),()=>{const _0x3ca00e=a27_0x2e70c2,_0x458a9d=document['getElementById'](_0x3ca00e(0x1c1)),_0x4c3ca3=document[_0x3ca00e(0x1bd)](_0x3ca00e(0x129));_0x458a9d&&_0x4c3ca3&&(_0x458a9d[_0x3ca00e(0x132)](_0x3ca00e(0x16d),async _0x44d92a=>{const _0x322738=_0x3ca00e;if(_0x44d92a[_0x322738(0x1a3)][_0x322738(0x1d2)]){const _0x1a21a6=auth?.[_0x322738(0x16e)],_0xbab229=await checkIfUserIsAdmin(_0x1a21a6);if(!_0xbab229){_0x44d92a[_0x322738(0x182)]();const _0x3c80c2=document[_0x322738(0x162)]('d1-switch');return _0x3c80c2&&(_0x3c80c2[_0x322738(0x1d2)]=!![],_0x3c80c2[_0x322738(0xfe)](new Event(_0x322738(0x16d)))),showAdminOnlyMessage(),![];}}}),auth['onAuthStateChanged'](async _0xbf1362=>{const _0x3a7704=_0x3ca00e,_0x4df7d3=await checkIfUserIsAdmin(_0xbf1362);!_0x4df7d3?(_0x458a9d[_0x3a7704(0x14f)]=!![],_0x4c3ca3['style'][_0x3a7704(0x14e)]=_0x3a7704(0x153),_0x4c3ca3[_0x3a7704(0x17f)][_0x3a7704(0x137)]=_0x3a7704(0x164),_0x4c3ca3['title']=_0x3a7704(0x15d)):(_0x458a9d['disabled']=![],_0x4c3ca3[_0x3a7704(0x17f)][_0x3a7704(0x14e)]='1',_0x4c3ca3[_0x3a7704(0x17f)]['cursor']=_0x3a7704(0x18f),_0x4c3ca3[_0x3a7704(0x118)]='');}));});async function checkIfUserIsAdmin(_0x50fbbd){const _0x219ecb=a27_0x2e70c2;if(!_0x50fbbd)return![];try{const _0x48ed1f=['admin@ladder.com',_0x219ecb(0x14b)];if(_0x50fbbd[_0x219ecb(0xfd)]&&_0x48ed1f[_0x219ecb(0x1d4)](_0x50fbbd['email'][_0x219ecb(0x19d)]()))return!![];const _0x1be0e8=[_0x219ecb(0x18b),_0x219ecb(0x1ae),_0x219ecb(0xf8),'playersD3'],_0x2b9468=[_0x219ecb(0x114),_0x219ecb(0x17e),'council',_0x219ecb(0x11d)];for(const _0x5e60de of _0x1be0e8){try{const _0x12b690=doc(db,_0x5e60de,_0x50fbbd[_0x219ecb(0x1ca)]),_0x2b5c79=await getDoc(_0x12b690);if(_0x2b5c79[_0x219ecb(0x18e)]()){const _0x14ae78=_0x2b5c79['data'](),_0x217af5=(_0x14ae78[_0x219ecb(0x151)]||_0x14ae78[_0x219ecb(0x124)]||'')[_0x219ecb(0x19d)]();if(_0x217af5&&_0x2b9468[_0x219ecb(0x1d4)](_0x217af5))return!![];}}catch(_0x410acd){console[_0x219ecb(0x14c)](_0x219ecb(0x15f)+_0x5e60de+':',_0x410acd);}}return![];}catch(_0x15c627){return console[_0x219ecb(0x171)](_0x219ecb(0x179),_0x15c627),![];}}function showAdminOnlyMessage(){const _0x2ba412=a27_0x2e70c2,_0x39d0b5=document[_0x2ba412(0x162)]('admin-only-message');_0x39d0b5&&_0x39d0b5['remove']();const _0x42e2b0=document['createElement'](_0x2ba412(0x10a));_0x42e2b0['id']=_0x2ba412(0x131),_0x42e2b0['style'][_0x2ba412(0x117)]=_0x2ba412(0x16b),_0x42e2b0['innerHTML']=_0x2ba412(0x159),document[_0x2ba412(0x1ad)][_0x2ba412(0x17a)](_0x42e2b0),setTimeout(()=>{const _0x569bee=_0x2ba412;_0x42e2b0[_0x569bee(0x18d)]&&_0x42e2b0[_0x569bee(0x195)]();},0xbb8);}