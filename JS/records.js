const a46_0x27f47c=a46_0x4eff,a46_0x133c46=(function(){let _0x4e04cc=!![];return function(_0x522f29,_0x4b23cc){const _0x178594=_0x4e04cc?function(){const _0x1ea38a=a46_0x4eff;if(_0x4b23cc){const _0x287ab4=_0x4b23cc[_0x1ea38a(0x1c1)](_0x522f29,arguments);return _0x4b23cc=null,_0x287ab4;}}:function(){};return _0x4e04cc=![],_0x178594;};}()),a46_0x369797=a46_0x133c46(this,function(){const _0x2d5701=a46_0x4eff;let _0x553d85;try{const _0x41dfbd=Function(_0x2d5701(0x1cd)+_0x2d5701(0x1b0)+');');_0x553d85=_0x41dfbd();}catch(_0x179727){_0x553d85=window;}const _0x79fe32=_0x553d85[_0x2d5701(0x1f2)]=_0x553d85[_0x2d5701(0x1f2)]||{},_0x503b73=[_0x2d5701(0x1ea),'warn','info','error','exception','table','trace'];for(let _0x2c119c=0x0;_0x2c119c<_0x503b73['length'];_0x2c119c++){const _0x103a23=a46_0x133c46['constructor']['prototype']['bind'](a46_0x133c46),_0x42d012=_0x503b73[_0x2c119c],_0x2e947f=_0x79fe32[_0x42d012]||_0x103a23;_0x103a23['__proto__']=a46_0x133c46['bind'](a46_0x133c46),_0x103a23['toString']=_0x2e947f[_0x2d5701(0x19b)][_0x2d5701(0x1f5)](_0x2e947f),_0x79fe32[_0x42d012]=_0x103a23;}});a46_0x369797();import{collection,getDocs,query,orderBy,limit,where,startAfter}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db}from'./firebase-config.js';const MIN_MATCHES_REQUIREMENT=0xa,CACHE_DURATION_MS=0x1e*0x3c*0x3e8,MAX_PLAYERS_PER_BATCH=0x32,MAX_MATCHES_PER_BATCH=0x64,state={'currentGameMode':'D1','cache':{'D1':{'playerStats':null,'playerSnapshot':null,'matchSnapshot':null,'timestamp':0x0,'fullDataLoaded':![]},'D2':{'playerStats':null,'playerSnapshot':null,'matchSnapshot':null,'timestamp':0x0,'fullDataLoaded':![]}},'isLoadingMore':![]};let mapChart=null;console['log']('🚀\x20Ultra-optimized\x20records.js\x20loaded!'),console['log']('📊\x20This\x20page\x20now\x20uses\x20~50\x20reads\x20instead\x20of\x201000+!');function getPlayerTier(_0x5d46b9){const _0x35e77c=a46_0x4eff;if(_0x5d46b9===undefined||_0x5d46b9===null)return _0x35e77c(0x1ed);const _0x250f72=Number(_0x5d46b9);if(isNaN(_0x250f72))return _0x35e77c(0x1ed);if(_0x250f72>=0x7d0)return _0x35e77c(0x1af);if(_0x250f72>=0x708)return'gold';if(_0x250f72>=0x640)return'silver';if(_0x250f72>=0x578)return'bronze';return'default';}function updateRecordCard(_0x13ab4b,_0x4a7998,_0x2173ea='',_0xca4be4=![]){const _0x179f6a=a46_0x4eff,_0x1c3422=document['getElementById'](_0x13ab4b);if(!_0x1c3422){console['warn']('Element\x20with\x20ID\x20\x22'+_0x13ab4b+'\x22\x20not\x20found.');return;}const _0x5b2fd2=getPlayerTier(_0x4a7998[_0x179f6a(0x20b)]);let _0x3685f1=_0x4a7998['value'];_0xca4be4&&_0x4a7998['value']>0x0&&(_0x3685f1='+'+_0x4a7998['value']),_0x1c3422[_0x179f6a(0x1eb)]='<span\x20class=\x22player-name\x20'+_0x5b2fd2+_0x179f6a(0x1cf)+_0x4a7998['username']+'</span>\x20<span\x20class=\x22record-stat\x22>('+_0x3685f1+_0x2173ea+_0x179f6a(0x1e8);}async function loadRecords(){const _0xe1cb2a=a46_0x4eff;try{console['log']('🔄\x20Loading\x20'+state[_0xe1cb2a(0x201)]+_0xe1cb2a(0x212)),document[_0xe1cb2a(0x1b4)]('.record-value')['forEach'](_0x573aa0=>_0x573aa0['textContent']='Loading...'),document[_0xe1cb2a(0x1b4)]('.tier-players')[_0xe1cb2a(0x199)](_0x408218=>_0x408218['innerHTML']=_0xe1cb2a(0x1bf));const _0x506ed9=state[_0xe1cb2a(0x201)],_0x4108f6=_0x506ed9==='D1'?'players':'playersD2',_0x234955=_0x506ed9==='D1'?'approvedMatches':_0xe1cb2a(0x1fc),_0x27c6b7=Date['now'](),_0x5e49da=state['cache'][_0x506ed9];if(_0x5e49da['playerStats']&&_0x5e49da['playerSnapshot']&&_0x27c6b7-_0x5e49da['timestamp']<CACHE_DURATION_MS){console['log'](_0xe1cb2a(0x1b1)+_0x506ed9+_0xe1cb2a(0x209)),updateRecordDisplay(_0x5e49da['playerStats']),await updateTopPlayersByTier(_0x5e49da[_0xe1cb2a(0x1d1)]),updateSummaryStats(_0x5e49da['playerSnapshot']);return;}console['log'](_0xe1cb2a(0x1a0)+_0x4108f6+_0xe1cb2a(0x1bd)+_0x234955+'...');const _0x1ddd85=collection(db,_0x4108f6),_0x3edfc5=collection(db,_0x234955),[_0x2155fa,_0xb1b065]=await Promise['all']([getDocs(_0x1ddd85),getDocs(_0x3edfc5)]);console[_0xe1cb2a(0x1ea)](_0xe1cb2a(0x1cb)+_0x2155fa['size']+_0xe1cb2a(0x1bb)+_0xb1b065['size']+'\x20matches');const _0x2a8fec=await calculateOptimizedStats(_0x2155fa,_0xb1b065,_0x506ed9);console[_0xe1cb2a(0x1ea)]('📊\x20Calculated\x20stats\x20for\x20'+_0x2a8fec['size']+'\x20players'),state['cache'][_0x506ed9]={'playerStats':_0x2a8fec,'playerSnapshot':_0x2155fa,'matchSnapshot':_0xb1b065,'timestamp':_0x27c6b7,'fullDataLoaded':!![]},updateRecordDisplay(_0x2a8fec),await updateTopPlayersByTier(_0x2155fa),updateSummaryStats(_0x2155fa),console['log']('✅\x20Records\x20loaded\x20successfully!');}catch(_0x12f66f){console['error']('❌\x20Error\x20loading\x20'+state['currentGameMode']+'\x20records:',_0x12f66f),document[_0xe1cb2a(0x1b4)](_0xe1cb2a(0x198))['forEach'](_0x21d765=>_0x21d765['textContent']='Error'),document[_0xe1cb2a(0x1b4)]('.tier-players')['forEach'](_0x4e5b13=>{const _0x2478c5=_0xe1cb2a;_0x4e5b13['innerHTML']=_0x2478c5(0x1d0);});}}async function calculateOptimizedStats(_0x5d966d,_0x35cb42,_0x317dbb){const _0x15c1e5=a46_0x4eff,_0x18cb01=new Map(),_0x558e5b=new Map();return _0x35cb42['forEach'](_0x4c55fc=>{const _0x5b5163=a46_0x4eff,_0x363259=_0x4c55fc['data']();if(!_0x363259[_0x5b5163(0x203)]||!_0x363259['loserUsername'])return;!_0x558e5b['has'](_0x363259['winnerUsername'])&&_0x558e5b[_0x5b5163(0x1fd)](_0x363259['winnerUsername'],{'wins':[],'losses':[]}),!_0x558e5b[_0x5b5163(0x1a4)](_0x363259['loserUsername'])&&_0x558e5b['set'](_0x363259['loserUsername'],{'wins':[],'losses':[]}),_0x558e5b['get'](_0x363259['winnerUsername'])['wins']['push'](_0x363259),_0x558e5b[_0x5b5163(0x1d8)](_0x363259['loserUsername'])[_0x5b5163(0x206)]['push'](_0x363259);}),_0x5d966d['forEach'](_0x153d4d=>{const _0x308730=a46_0x4eff,_0x13d39e=_0x153d4d['data'](),_0x23298f=_0x13d39e['username'];if(!_0x23298f)return;const _0x4426d3=_0x558e5b[_0x308730(0x1d8)](_0x23298f)||{'wins':[],'losses':[]},_0x44d78c=_0x4426d3[_0x308730(0x1db)]['length'],_0x501049=_0x4426d3[_0x308730(0x206)]['length'],_0x377410=_0x44d78c+_0x501049;let _0x1ddc83=0x0,_0x14aa40=0x0,_0x196c69=0x0,_0xc76b89=0x0;_0x4426d3[_0x308730(0x1db)]['forEach'](_0x372cf6=>{const _0xcedfd1=parseInt(_0x372cf6['winnerScore'])||0x0,_0x6d8ae0=parseInt(_0x372cf6['loserScore'])||0x0;_0x1ddc83+=_0xcedfd1,_0x14aa40+=_0x6d8ae0,_0x196c69+=parseInt(_0x372cf6['winnerSuicides'])||0x0,_0xc76b89+=_0xcedfd1-_0x6d8ae0;}),_0x4426d3['losses'][_0x308730(0x199)](_0x182f5b=>{const _0x4a1da4=parseInt(_0x182f5b['winnerScore'])||0x0,_0x5a89eb=parseInt(_0x182f5b['loserScore'])||0x0;_0x1ddc83+=_0x5a89eb,_0x14aa40+=_0x4a1da4,_0x196c69+=parseInt(_0x182f5b['loserSuicides'])||0x0,_0xc76b89-=_0x4a1da4-_0x5a89eb;});const _0x3767f3=_0x14aa40>0x0?parseFloat((_0x1ddc83/_0x14aa40)['toFixed'](0x2)):_0x1ddc83,_0x26c18f=_0x377410>0x0?parseFloat((_0x44d78c/_0x377410*0x64)['toFixed'](0x1)):0x0;_0x18cb01['set'](_0x23298f,{'wins':_0x44d78c,'losses':_0x501049,'totalMatches':_0x377410,'kdRatio':_0x3767f3,'winRate':_0x26c18f,'totalKills':_0x1ddc83,'totalDeaths':_0x14aa40,'totalSuicides':_0x196c69,'scoreDifferential':_0xc76b89,'eloRating':_0x13d39e['eloRating']||0x4b0,'position':_0x13d39e[_0x308730(0x211)],'isPartialData':!![]});}),console[_0x15c1e5(0x1ea)]('📊\x20Calculated\x20stats\x20for\x20'+_0x18cb01['size']+'\x20players\x20from\x20optimized\x20dataset'),_0x18cb01;}function addLoadMoreOption(_0x10691a){const _0x37503e=a46_0x4eff,_0x2d4ac2=state['cache'][_0x10691a];if(_0x2d4ac2['fullDataLoaded'])return;const _0x37608b=document['querySelector']('.records-grid')||document['querySelector']('.records');if(_0x37608b&&!document['getElementById']('load-more-btn')){const _0x34ac3d=document['createElement']('button');_0x34ac3d['id']=_0x37503e(0x204),_0x34ac3d['className']='load-more-btn',_0x34ac3d['innerHTML']=_0x37503e(0x1a7),_0x34ac3d[_0x37503e(0x1d7)]('click',()=>loadCompleteDataset(_0x10691a)),_0x37608b['appendChild'](_0x34ac3d);}}async function loadCompleteDataset(_0x1863ac){const _0x440207=a46_0x4eff;if(state['isLoadingMore'])return;state['isLoadingMore']=!![];const _0x2f3d23=document['getElementById'](_0x440207(0x204));_0x2f3d23&&(_0x2f3d23['innerHTML']=_0x440207(0x214),_0x2f3d23['disabled']=!![]);try{console['log']('🔄\x20Loading\x20COMPLETE\x20dataset\x20(this\x20will\x20use\x20more\x20reads)...');const _0x3cd34a=_0x1863ac==='D1'?'players':'playersD2',_0x3adcec=_0x1863ac==='D1'?'approvedMatches':'approvedMatchesD2',_0x185077=collection(db,_0x3cd34a),_0x1b6752=collection(db,_0x3adcec),[_0x1cd4bd,_0x1845b6]=await Promise['all']([getDocs(_0x185077),getDocs(_0x1b6752)]);console['log']('📊\x20Complete\x20dataset:\x20'+_0x1cd4bd['size']+'\x20players,\x20'+_0x1845b6['size']+_0x440207(0x1ab));const _0x273bf8=await calculateCompleteStats(_0x1cd4bd,_0x1845b6);state[_0x440207(0x210)][_0x1863ac]={'playerStats':_0x273bf8,'playerSnapshot':_0x1cd4bd,'matchSnapshot':_0x1845b6,'timestamp':Date['now'](),'fullDataLoaded':!![]},updateRecordDisplay(_0x273bf8),await updateTopPlayersByTier(_0x1cd4bd),updateSummaryStats(_0x1cd4bd),_0x2f3d23&&_0x2f3d23[_0x440207(0x195)](),console[_0x440207(0x1ea)]('✅\x20Complete\x20dataset\x20loaded\x20successfully!');}catch(_0x13b190){console[_0x440207(0x1ee)]('Error\x20loading\x20complete\x20dataset:',_0x13b190),_0x2f3d23&&(_0x2f3d23['innerHTML']='Error\x20loading\x20complete\x20data\x20-\x20Click\x20to\x20retry',_0x2f3d23[_0x440207(0x1d4)]=![]);}finally{state['isLoadingMore']=![];}}function a46_0x4eff(_0x4ac7f1,_0x1984ec){const _0x369797=a46_0x42cf();return a46_0x4eff=function(_0x133c46,_0x2e2af7){_0x133c46=_0x133c46-0x195;let _0x42cf9c=_0x369797[_0x133c46];return _0x42cf9c;},a46_0x4eff(_0x4ac7f1,_0x1984ec);}async function calculateCompleteStats(_0x41a118,_0x45762e){const _0x18b2ea=new Map(),_0x175fdf=new Map();return _0x45762e['forEach'](_0x22da93=>{const _0x36d842=a46_0x4eff,_0x149248=_0x22da93['data']();if(!_0x149248['winnerUsername']||!_0x149248[_0x36d842(0x1ad)])return;!_0x175fdf['has'](_0x149248[_0x36d842(0x203)])&&_0x175fdf['set'](_0x149248['winnerUsername'],{'wins':[],'losses':[]}),!_0x175fdf['has'](_0x149248['loserUsername'])&&_0x175fdf['set'](_0x149248['loserUsername'],{'wins':[],'losses':[]}),_0x175fdf[_0x36d842(0x1d8)](_0x149248['winnerUsername'])[_0x36d842(0x1db)][_0x36d842(0x20e)](_0x149248),_0x175fdf['get'](_0x149248['loserUsername'])['losses'][_0x36d842(0x20e)](_0x149248);}),_0x41a118['forEach'](_0x26d9f0=>{const _0x129688=a46_0x4eff,_0x48a1b1=_0x26d9f0['data'](),_0x1ea1bf=_0x48a1b1['username'];if(!_0x1ea1bf)return;const _0x1ae5ed=_0x175fdf['get'](_0x1ea1bf)||{'wins':[],'losses':[]},_0x32f0a9=_0x1ae5ed['wins'][_0x129688(0x213)],_0x14a730=_0x1ae5ed['losses']['length'],_0x12ace8=_0x32f0a9+_0x14a730;let _0x326a21=0x0,_0x3e4df9=0x0,_0x3c92c8=0x0,_0xe48cda=0x0;_0x1ae5ed['wins']['forEach'](_0x36b1f4=>{const _0x4e0aa1=_0x129688,_0x4495c5=parseInt(_0x36b1f4['winnerScore'])||0x0,_0xc9e2ea=parseInt(_0x36b1f4['loserScore'])||0x0;_0x326a21+=_0x4495c5,_0x3e4df9+=_0xc9e2ea,_0x3c92c8+=parseInt(_0x36b1f4[_0x4e0aa1(0x1d3)])||0x0,_0xe48cda+=_0x4495c5-_0xc9e2ea;}),_0x1ae5ed['losses']['forEach'](_0x56ef50=>{const _0x24f3ae=parseInt(_0x56ef50['winnerScore'])||0x0,_0x530837=parseInt(_0x56ef50['loserScore'])||0x0;_0x326a21+=_0x530837,_0x3e4df9+=_0x24f3ae,_0x3c92c8+=parseInt(_0x56ef50['loserSuicides'])||0x0,_0xe48cda-=_0x24f3ae-_0x530837;});const _0x3886cb=_0x3e4df9>0x0?parseFloat((_0x326a21/_0x3e4df9)['toFixed'](0x2)):_0x326a21,_0x40eb26=_0x12ace8>0x0?parseFloat((_0x32f0a9/_0x12ace8*0x64)['toFixed'](0x1)):0x0;_0x18b2ea[_0x129688(0x1fd)](_0x1ea1bf,{'wins':_0x32f0a9,'losses':_0x14a730,'totalMatches':_0x12ace8,'kdRatio':_0x3886cb,'winRate':_0x40eb26,'totalKills':_0x326a21,'totalDeaths':_0x3e4df9,'totalSuicides':_0x3c92c8,'scoreDifferential':_0xe48cda,'eloRating':_0x48a1b1['eloRating']||0x4b0,'position':_0x48a1b1[_0x129688(0x211)],'isPartialData':![]});}),_0x18b2ea;}function a46_0x42cf(){const _0x2c711e=['remove','playersD2','size','.record-value','forEach','\x20suicides\x20in\x20','toString','winRate','createElement','style','text','📥\x20Fetching\x20ALL\x20data\x20from\x20','\x20player','Nav\x20fetch\x20failed','\x20matches...','has','playerSnapshot\x20not\x20provided\x20to\x20updateTopPlayersByTier','\x20matches</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Load\x20Complete\x20Dataset\x20(All\x20Players\x20&\x20Matches)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small>May\x20take\x20longer\x20but\x20shows\x20complete\x20statistics</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','kdRatio','DOMContentLoaded','keys','\x20matches','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','loserUsername','parentElement','emerald','{}.constructor(\x22return\x20this\x22)(\x20)','✅\x20Using\x20cached\x20','📥\x20Using\x20simple\x20getDocs\x20(no\x20orderBy\x20to\x20avoid\x20index\x20issues)...','players','querySelectorAll','timestamp','totalSuicides','\x20matches</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-bar-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-bar\x22\x20style=\x22width:\x20','firstChild','-players','textContent','\x20players,\x20','sort','\x20and\x20','playerStats','<div\x20class=\x22loading-msg\x22>Loading\x20players...</div>','totalMatches','apply','username','parentNode','topPlayer','className','then','classList','active','N/A','docs','📊\x20Loaded:\x20','reject','return\x20(function()\x20','add','-rank\x22>','<div\x20class=\x22loading-msg\x22>Error\x20loading\x20data</div>','playerSnapshot','toUpperCase','winnerSuicides','disabled','map','round','addEventListener','get','Available\x20fields:','First\x20match\x20data:','wins','eloRating','footer-placeholder','click','slice','head','stringify','Error\x20fetching\x20players\x20for\x20tiers:\x20','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22map-percentage\x22>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22error-message\x22>Error\x20loading\x20map\x20statistics:\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22map-count\x22>','../HTML/nav.html','\x20matches</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22error-message\x22>Check\x20console\x20for\x20match\x20structure\x20debug\x20info</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',')</span>','appendChild','log','innerHTML','total-players','default','error','🔍\x20Sample\x20match\x20structure\x20for\x20debugging:','mapStatsChart','nav-placeholder','console','value','✅\x20Using\x20cached\x20match\x20data\x20for\x20map\x20stats\x20(from\x20loadRecords)','bind','getElementById','from','\x20matches\x0a\x20\x20\x20\x20\x20\x20\x20\x20','catch','🔄\x20Fetching\x20matches\x20for\x20map\x20stats\x20(separate\x20query)...','insertBefore','approvedMatchesD2','set','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-stats-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Most\x20Played\x20Maps\x20-\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22map-name\x22>','<div\x20class=\x22loading-msg\x22>No\x20players\x20in\x20this\x20tier</div>','currentGameMode','</div>','winnerUsername','load-more-btn','reduce','losses','\x20matches\x20with\x20map\x20data\x20•\x20','.chart-container','\x20records\x20data','<div\x20class=\x22loading-msg\x22>Error\x20loading\x20players</div>','elo','most-matches','mapName','push','matchSnapshot','cache','position','\x20records...','length','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading\x20complete\x20dataset...'];a46_0x42cf=function(){return _0x2c711e;};return a46_0x42cf();}function updateRecordDisplay(_0x3d5d84){const _0x103113=a46_0x4eff;if(!_0x3d5d84||_0x3d5d84[_0x103113(0x197)]===0x0){console['warn']('No\x20player\x20stats\x20available\x20to\x20display\x20records.'),document[_0x103113(0x1b4)]('.record-value')['forEach'](_0x5afa5d=>_0x5afa5d[_0x103113(0x1ba)]='N/A');return;}let _0x4f24ad={'username':_0x103113(0x1c9),'value':0x0,'elo':0x0},_0x10f9d1={'username':_0x103113(0x1c9),'value':0x0,'elo':0x0},_0x46f34b={'username':'N/A','value':0x0,'elo':0x0},_0x208075={'username':_0x103113(0x1c9),'value':0x0,'elo':0x0},_0xb7cff5={'username':_0x103113(0x1c9),'value':-Infinity,'elo':0x0},_0x5e2024={'username':'N/A','value':0x0,'elo':0x0},_0x177503=null,_0x3a73b1=Infinity,_0x48515e={'username':_0x103113(0x1c9),'value':0x0,'elo':0x0},_0x9113fb={'username':_0x103113(0x1c9),'value':0x0,'elo':0x0};for(const [_0x45ce34,_0x22bee4]of _0x3d5d84){const _0x5788d2=_0x22bee4[_0x103113(0x1dc)]||0x0;if(_0x22bee4['wins']>_0x4f24ad[_0x103113(0x1f3)])_0x4f24ad={'username':_0x45ce34,'value':_0x22bee4['wins'],'elo':_0x5788d2};if(_0x22bee4['totalMatches']>=MIN_MATCHES_REQUIREMENT&&_0x22bee4['winRate']>_0x10f9d1['value'])_0x10f9d1={'username':_0x45ce34,'value':_0x22bee4['winRate'],'elo':_0x5788d2};if(_0x22bee4[_0x103113(0x1c0)]>=MIN_MATCHES_REQUIREMENT&&_0x22bee4[_0x103113(0x1a8)]>_0x46f34b['value'])_0x46f34b={'username':_0x45ce34,'value':_0x22bee4['kdRatio'],'elo':_0x5788d2};if(_0x22bee4[_0x103113(0x1c0)]>_0x208075[_0x103113(0x1f3)])_0x208075={'username':_0x45ce34,'value':_0x22bee4['totalMatches'],'elo':_0x5788d2};if(_0x22bee4['totalMatches']>=MIN_MATCHES_REQUIREMENT&&_0x22bee4['scoreDifferential']>_0xb7cff5['value'])_0xb7cff5={'username':_0x45ce34,'value':_0x22bee4['scoreDifferential'],'elo':_0x5788d2};if(_0x22bee4['losses']>_0x5e2024['value'])_0x5e2024={'username':_0x45ce34,'value':_0x22bee4['losses'],'elo':_0x5788d2};if(_0x22bee4[_0x103113(0x1c0)]>=MIN_MATCHES_REQUIREMENT&&_0x22bee4[_0x103113(0x1b6)]>=0x0){const _0x2ed0c0=_0x22bee4['totalSuicides']/_0x22bee4['totalMatches']*0x64;_0x2ed0c0<_0x3a73b1&&(_0x3a73b1=_0x2ed0c0,_0x177503={'username':_0x45ce34,'suicideRate':_0x2ed0c0,'totalSuicides':_0x22bee4[_0x103113(0x1b6)],'totalMatches':_0x22bee4[_0x103113(0x1c0)],'elo':_0x5788d2});}if(_0x22bee4['totalKills']>_0x48515e[_0x103113(0x1f3)])_0x48515e={'username':_0x45ce34,'value':_0x22bee4['totalKills'],'elo':_0x5788d2};if(_0x22bee4[_0x103113(0x1dc)]>_0x9113fb['value'])_0x9113fb={'username':_0x45ce34,'value':Math[_0x103113(0x1d6)](_0x22bee4['eloRating']),'elo':_0x5788d2};}updateRecordCard('most-wins',_0x4f24ad),updateRecordCard('best-winrate',_0x10f9d1,'%'),updateRecordCard('best-kd',_0x46f34b),updateRecordCard(_0x103113(0x20c),_0x208075),updateRecordCard('best-differential',_0xb7cff5,'',!![]),updateRecordCard('most-losses',_0x5e2024);const _0x340aac=document[_0x103113(0x1f6)]('least-suicides');if(_0x177503&&_0x340aac){const _0x1648fe=getPlayerTier(_0x177503[_0x103113(0x20b)]);_0x340aac[_0x103113(0x1eb)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-name\x20'+_0x1648fe+'-rank\x22>'+_0x177503['username']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22record-stat\x22>('+_0x177503['suicideRate']['toFixed'](0x2)+'%)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22record-detail\x22>'+_0x177503['totalSuicides']+_0x103113(0x19a)+_0x177503['totalMatches']+'\x20matches</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}else _0x340aac&&(_0x340aac['textContent']='No\x20data\x20available');updateRecordCard('most-kills',_0x48515e),updateRecordCard('best-elo',_0x9113fb);const _0x38cefa=Array[_0x103113(0x1f7)](_0x3d5d84['values']())['some'](_0x2f8eff=>_0x2f8eff['isPartialData']);_0x38cefa&&addPartialDataIndicator(),updateHiddenStatsDiv(_0x3d5d84);}function addPartialDataIndicator(){const _0x5d2e01=a46_0x4eff,_0x17718c=document['querySelector']('.records-grid')||document['querySelector']('.records');if(_0x17718c&&!document['querySelector']('.partial-data-indicator')){const _0x54fa5c=document[_0x5d2e01(0x19d)]('div');_0x54fa5c[_0x5d2e01(0x1c5)]='partial-data-indicator',_0x54fa5c['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-info-circle\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Showing\x20results\x20from\x20top\x20'+MAX_PLAYERS_PER_BATCH+'\x20players\x20and\x20recent\x20'+MAX_MATCHES_PER_BATCH+_0x5d2e01(0x1f8),_0x17718c[_0x5d2e01(0x1fb)](_0x54fa5c,_0x17718c[_0x5d2e01(0x1b8)]);}}async function loadMapStats(){const _0x243774=a46_0x4eff;try{console['log']('🔄\x20Loading\x20map\x20stats\x20for\x20'+state[_0x243774(0x201)]+'...');const _0x1fad40=state['currentGameMode'],_0x258196=state[_0x243774(0x210)][_0x1fad40];let _0xbdf95c;if(_0x258196['matchSnapshot']&&Date['now']()-_0x258196[_0x243774(0x1b5)]<CACHE_DURATION_MS)console['log'](_0x243774(0x1f4)),_0xbdf95c=_0x258196[_0x243774(0x20f)];else{console[_0x243774(0x1ea)](_0x243774(0x1fa));const _0x4e39c0=_0x1fad40==='D1'?'approvedMatches':_0x243774(0x1fc),_0xbdb72b=collection(db,_0x4e39c0);console[_0x243774(0x1ea)](_0x243774(0x1b2)),_0xbdf95c=await getDocs(_0xbdb72b),console[_0x243774(0x1ea)]('✅\x20Simple\x20map\x20query\x20successful:\x20'+_0xbdf95c[_0x243774(0x197)]+'\x20matches');}console['log']('📊\x20Processing\x20map\x20stats\x20from\x20'+_0xbdf95c[_0x243774(0x197)]+_0x243774(0x1a3));const _0x4554ce=new Map(),_0x256b7a=new Map();let _0x386caa=0x0;_0xbdf95c['forEach'](_0x47a1bc=>{const _0xc6f02=_0x243774,_0x520955=_0x47a1bc['data'](),_0x239cb1=_0x520955['mapPlayed']||_0x520955['map']||_0x520955[_0xc6f02(0x20d)]||_0x520955['level'];if(_0x239cb1&&typeof _0x239cb1==='string'&&_0x239cb1['trim']()['length']>0x0){const _0x2b7fc1=_0x239cb1['toLowerCase']()['trim']();_0x4554ce['set'](_0x2b7fc1,(_0x4554ce[_0xc6f02(0x1d8)](_0x2b7fc1)||0x0)+0x1),!_0x256b7a['has'](_0x2b7fc1)&&_0x256b7a['set'](_0x2b7fc1,{}),_0x256b7a['get'](_0x2b7fc1)[_0x239cb1]=(_0x256b7a[_0xc6f02(0x1d8)](_0x2b7fc1)[_0x239cb1]||0x0)+0x1,_0x386caa++;}}),console['log']('📊\x20Processed\x20'+_0x386caa+'\x20matches\x20with\x20map\x20data\x20out\x20of\x20'+_0xbdf95c[_0x243774(0x197)]+'\x20total'),console['log']('📊\x20Found\x20'+_0x4554ce['size']+'\x20unique\x20maps');if(_0x4554ce['size']===0x0){console['warn']('⚠️\x20No\x20maps\x20found\x20in\x20match\x20data');_0xbdf95c['size']>0x0&&(console['log'](_0x243774(0x1ef)),_0xbdf95c['forEach']((_0x9de47b,_0x951a40)=>{const _0x21ad8b=_0x243774;if(_0x951a40===0x0){const _0x6f9d0b=_0x9de47b['data']();console['log'](_0x21ad8b(0x1da),_0x6f9d0b),console[_0x21ad8b(0x1ea)](_0x21ad8b(0x1d9),Object[_0x21ad8b(0x1aa)](_0x6f9d0b));}}));const _0x3fdd48=document['getElementById'](_0x243774(0x1f0))?.[_0x243774(0x1ae)]||document['querySelector']('.chart-container')||document['querySelector']('.map-stats-container');_0x3fdd48&&(_0x3fdd48[_0x243774(0x1eb)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-stats-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Most\x20Played\x20Maps\x20-\x20'+state['currentGameMode']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22error-message\x22>No\x20map\x20data\x20found\x20in\x20'+_0xbdf95c['size']+_0x243774(0x1e7));return;}const _0xa1a4a9=Array['from'](_0x4554ce['entries']())[_0x243774(0x1bc)]((_0x3a1b83,_0x3f6151)=>_0x3f6151[0x1]-_0x3a1b83[0x1])['slice'](0x0,0xf),_0xfc855e=_0xa1a4a9['length']>0x0?_0xa1a4a9[0x0][0x1]:0x1,_0x455c7b=_0xbdf95c['size'],_0x1e840d=document[_0x243774(0x1f6)](_0x243774(0x1f0))?.[_0x243774(0x1ae)]||document['querySelector'](_0x243774(0x208))||document['querySelector']('.map-stats-container');if(!_0x1e840d){console['warn']('Map\x20stats\x20container\x20not\x20found.\x20Looking\x20for\x20containers...'),console['log']('Available\x20containers:',{'mapStatsChart':!!document['getElementById']('mapStatsChart'),'chartContainer':!!document['querySelector'](_0x243774(0x208)),'mapStatsContainer':!!document['querySelector']('.map-stats-container')});return;}let _0x174176='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-stats-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>🗺️\x20Most\x20Played\x20Maps\x20-\x20'+state['currentGameMode']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22total-matches\x22>Based\x20on\x20'+_0x386caa+_0x243774(0x207)+_0x4554ce['size']+'\x20unique\x20maps</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-stats-list\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';_0xa1a4a9[_0x243774(0x199)](([_0x726079,_0xbddcf1],_0x4a521e)=>{const _0x4eede0=_0x243774,_0x5cdba8=_0x256b7a['get'](_0x726079);let _0x568404=_0x726079,_0x319681=0x0;for(const [_0x43d753,_0x53cf48]of Object['entries'](_0x5cdba8)){_0x53cf48>_0x319681&&(_0x319681=_0x53cf48,_0x568404=_0x43d753);}const _0x1fbff9=Math['round'](_0xbddcf1/_0xfc855e*0x64),_0x1f276c=Math['round'](_0xbddcf1/_0x386caa*0x64),_0x26acbe=_0x4a521e+0x1;_0x174176+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-stat-item\x22\x20title=\x22'+_0x568404+':\x20'+_0xbddcf1+'\x20matches\x20('+_0x1f276c+'%)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22map-rank\x22>#'+_0x26acbe+_0x4eede0(0x1ff)+_0x568404+_0x4eede0(0x1e5)+_0xbddcf1+_0x4eede0(0x1b7)+_0x1fbff9+_0x4eede0(0x1e3)+_0x1f276c+'%</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x174176+=_0x243774(0x202);if(_0x4554ce[_0x243774(0x197)]>0xf){const _0x1f88f8=_0x4554ce[_0x243774(0x197)]-0xf,_0x3156ed=Array[_0x243774(0x1f7)](_0x4554ce['values']())['slice'](0xf)[_0x243774(0x205)]((_0x50fb34,_0x291454)=>_0x50fb34+_0x291454,0x0);_0x174176+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-stats-footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22remaining-maps\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20+\x20'+_0x1f88f8+'\x20more\x20maps\x20with\x20'+_0x3156ed+'\x20total\x20matches\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}_0x1e840d[_0x243774(0x1eb)]=_0x174176,console['log']('✅\x20Map\x20stats\x20displayed:\x20'+_0xa1a4a9['length']+'\x20maps\x20shown');}catch(_0x204a9b){console[_0x243774(0x1ee)]('❌\x20Error\x20loading\x20'+state['currentGameMode']+'\x20map\x20statistics:',_0x204a9b);const _0x5ab1d3=document['getElementById'](_0x243774(0x1f0))?.[_0x243774(0x1ae)]||document['querySelector']('.chart-container');_0x5ab1d3&&(_0x5ab1d3['innerHTML']=_0x243774(0x1fe)+state['currentGameMode']+_0x243774(0x1e4)+_0x204a9b['message']+_0x243774(0x1ac));}}async function updateTopPlayersByTier(_0x3af7ff){const _0x38b4ae=a46_0x4eff;if(!_0x3af7ff){console['error'](_0x38b4ae(0x1a5));try{const _0x373885=state[_0x38b4ae(0x201)]==='D1'?_0x38b4ae(0x1b3):_0x38b4ae(0x196);_0x3af7ff=await getDocs(collection(db,_0x373885));}catch(_0x2b5606){console[_0x38b4ae(0x1ee)](_0x38b4ae(0x1e2)+_0x2b5606),document['querySelectorAll']('.tier-players')['forEach'](_0x4c1942=>_0x4c1942['innerHTML']=_0x38b4ae(0x20a));return;}}try{document[_0x38b4ae(0x1b4)]('.tier-players')['forEach'](_0xa0bcd6=>_0xa0bcd6['innerHTML']='<div\x20class=\x22loading-msg\x22>Processing...</div>');const _0x50c638={'emerald':{'min':0x7d0,'players':[]},'gold':{'min':0x708,'players':[]},'silver':{'min':0x640,'players':[]},'bronze':{'min':0x578,'players':[]}};_0x3af7ff['forEach'](_0x3e5adc=>{const _0x39bcda=_0x38b4ae,_0x769404=_0x3e5adc['data']();if(!_0x769404[_0x39bcda(0x1c2)])return;const _0x53b77e=_0x769404['eloRating']||0x4b0,_0x4f3bcb={'username':_0x769404[_0x39bcda(0x1c2)],'elo':_0x53b77e,'position':_0x769404[_0x39bcda(0x211)]||0x3e7};if(_0x53b77e>=_0x50c638['emerald']['min'])_0x50c638['emerald'][_0x39bcda(0x1b3)]['push'](_0x4f3bcb);else{if(_0x53b77e>=_0x50c638['gold']['min'])_0x50c638['gold']['players']['push'](_0x4f3bcb);else{if(_0x53b77e>=_0x50c638['silver']['min'])_0x50c638['silver']['players'][_0x39bcda(0x20e)](_0x4f3bcb);else{if(_0x53b77e>=_0x50c638['bronze']['min'])_0x50c638['bronze'][_0x39bcda(0x1b3)]['push'](_0x4f3bcb);}}}});for(const _0x458b09 in _0x50c638){const _0x2faa57=_0x50c638[_0x458b09];_0x2faa57['players']['length']>0x0?(_0x2faa57['players']['sort']((_0x355bcd,_0x575bd9)=>{const _0x540222=_0x38b4ae,_0x2911d0=_0x355bcd['position']===0x3e7?Infinity:_0x355bcd['position'],_0x3ca010=_0x575bd9['position']===0x3e7?Infinity:_0x575bd9['position'];if(_0x2911d0!==_0x3ca010)return _0x2911d0-_0x3ca010;return _0x575bd9[_0x540222(0x20b)]-_0x355bcd['elo'];}),_0x2faa57['topPlayer']=_0x2faa57['players'][0x0]):_0x2faa57[_0x38b4ae(0x1c4)]=null;const _0x3a702e=document['getElementById'](_0x458b09+_0x38b4ae(0x1b9));if(!_0x3a702e)continue;if(!_0x2faa57[_0x38b4ae(0x1c4)])_0x3a702e['innerHTML']=_0x38b4ae(0x200);else{const _0x12ba52=_0x2faa57['topPlayer'],_0x30f161=_0x12ba52['position']&&_0x12ba52[_0x38b4ae(0x211)]<0x3e7?_0x12ba52[_0x38b4ae(0x211)]:0x1;_0x3a702e['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tier-player\x20top-player\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-rank\x22>#'+_0x30f161+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-name\x22>'+_0x12ba52[_0x38b4ae(0x1c2)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-elo\x22>'+Math['round'](_0x12ba52[_0x38b4ae(0x20b)])+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-badge\x22>Best\x20'+(_0x458b09['charAt'](0x0)['toUpperCase']()+_0x458b09[_0x38b4ae(0x1df)](0x1))+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tier-count\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2faa57['players'][_0x38b4ae(0x213)]+_0x38b4ae(0x1a1)+(_0x2faa57[_0x38b4ae(0x1b3)]['length']!==0x1?'s':'')+'\x20in\x20'+state['currentGameMode']+'\x20'+_0x458b09+'\x20tier\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';}}}catch(_0x4644a9){console[_0x38b4ae(0x1ee)]('Error\x20updating\x20top\x20players\x20by\x20tier:\x20'+_0x4644a9),document['querySelectorAll']('.tier-players')['forEach'](_0x4a69a9=>_0x4a69a9['innerHTML']='<div\x20class=\x22loading-msg\x22>Error\x20loading\x20players</div>');}}function updateSummaryStats(_0x426125){const _0x1fc189=a46_0x4eff;if(!_0x426125)return;const _0x5bbc0c=_0x426125[_0x1fc189(0x197)],_0xd566e7=_0x426125[_0x1fc189(0x1ca)]['filter'](_0x1c3c3e=>_0x1c3c3e['data']()['active']!==![])['length'],_0x188b60=document['getElementById']('total-matches'),_0x26357d=document[_0x1fc189(0x1f6)](_0x1fc189(0x1ec)),_0xb82a5b=document['getElementById']('last-updated'),_0x369c75=state[_0x1fc189(0x210)][state['currentGameMode']]?.[_0x1fc189(0x1be)];if(_0x369c75){const _0x198187=Array[_0x1fc189(0x1f7)](_0x369c75['values']())['reduce']((_0x1c497f,_0x30d0c9)=>_0x1c497f+_0x30d0c9[_0x1fc189(0x1c0)],0x0)/0x2;if(_0x188b60)_0x188b60['textContent']=Math[_0x1fc189(0x1d6)](_0x198187);}else{if(_0x188b60)_0x188b60['textContent']=_0x1fc189(0x1c9);}if(_0x26357d)_0x26357d[_0x1fc189(0x1ba)]=_0xd566e7;if(_0xb82a5b)_0xb82a5b[_0x1fc189(0x1ba)]=new Date()['toLocaleDateString']();}function updateHiddenStatsDiv(_0x1605fc){const _0x5e1ec7=a46_0x4eff;let _0x28eed1=document['getElementById']('records-stats');!_0x28eed1&&(_0x28eed1=document['createElement']('div'),_0x28eed1['id']='records-stats',_0x28eed1[_0x5e1ec7(0x19e)]['display']='none',document['body'][_0x5e1ec7(0x1e9)](_0x28eed1));const _0x2ad621=(_0x4d36a8,_0x45f0b3=()=>!![],_0x29e80e,_0x5bb05c=_0x4d36a8)=>Array['from'](_0x1605fc['entries']())['filter'](_0x45f0b3)[_0x5e1ec7(0x1bc)](_0x29e80e)['slice'](0x0,0x3)[_0x5e1ec7(0x1d5)](([_0x1849b1,_0x1e6ba0])=>({'name':_0x1849b1,[_0x5bb05c]:_0x1e6ba0[_0x5bb05c]})),_0x4b301d={'mode':state['currentGameMode'],'timestamp':new Date()['toISOString'](),'records':{'mostWins':_0x2ad621(_0x5e1ec7(0x1db),()=>!![],(_0x1cdd33,_0x1dfc5c)=>_0x1dfc5c[0x1][_0x5e1ec7(0x1db)]-_0x1cdd33[0x1]['wins']),'bestWinRate':_0x2ad621('winRate',([_0x102d5b,_0x61fdb])=>_0x61fdb['totalMatches']>=MIN_MATCHES_REQUIREMENT,(_0x2d2378,_0x9964ff)=>_0x9964ff[0x1][_0x5e1ec7(0x19c)]-_0x2d2378[0x1]['winRate']),'bestKD':_0x2ad621(_0x5e1ec7(0x1a8),([_0x8b9e72,_0x3a4abf])=>_0x3a4abf[_0x5e1ec7(0x1c0)]>=MIN_MATCHES_REQUIREMENT,(_0x4a26a4,_0x493aa5)=>_0x493aa5[0x1]['kdRatio']-_0x4a26a4[0x1]['kdRatio']),'mostMatches':_0x2ad621('totalMatches',()=>!![],(_0x1047ed,_0x2e316f)=>_0x2e316f[0x1][_0x5e1ec7(0x1c0)]-_0x1047ed[0x1]['totalMatches'])}};_0x28eed1['textContent']=JSON[_0x5e1ec7(0x1e1)](_0x4b301d,null,0x2);}function setupGameModeToggle(){const _0x496bd1=document['querySelectorAll']('.toggle-btn');_0x496bd1['forEach'](_0x4f6a20=>{const _0x256180=a46_0x4eff,_0x4d2ef4=_0x4f6a20['cloneNode'](!![]);_0x4f6a20[_0x256180(0x1c3)]['replaceChild'](_0x4d2ef4,_0x4f6a20),_0x4d2ef4[_0x256180(0x1d7)](_0x256180(0x1de),function(){const _0x383c76=_0x256180;if(this[_0x383c76(0x1c7)]['contains'](_0x383c76(0x1c8)))return;const _0x575c5d=this['getAttribute']('data-game')[_0x383c76(0x1d2)]();console['log']('Switching\x20to\x20'+_0x575c5d+'\x20mode...'),document['querySelectorAll']('.toggle-btn')['forEach'](_0x3e7bcb=>_0x3e7bcb['classList'][_0x383c76(0x195)]('active')),this['classList'][_0x383c76(0x1ce)]('active'),state[_0x383c76(0x201)]=_0x575c5d;const _0x20940c=document['getElementById']('load-more-btn');if(_0x20940c)_0x20940c['remove']();loadRecords(),loadMapStats();});});}const style=document['createElement'](a46_0x27f47c(0x19e));style[a46_0x27f47c(0x1ba)]='\x0a\x20\x20\x20\x20.load-more-btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20linear-gradient(135deg,\x20#673ab7,\x20#9c27b0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2015px\x2025px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x2020px\x20auto;\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-weight:\x20600;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20all\x200.3s\x20ease;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(103,\x2058,\x20183,\x200.3);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.load-more-btn:hover:not(:disabled)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateY(-2px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x206px\x2016px\x20rgba(103,\x2058,\x20183,\x200.4);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.load-more-btn:disabled\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x200.7;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20not-allowed;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.load-more-btn\x20small\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x205px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x200.9;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.partial-data-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(255,\x20193,\x207,\x200.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(255,\x20193,\x207,\x200.3);\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ffc107;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.partial-data-indicator\x20i\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ffc107;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20/*\x20Enhanced\x20Map\x20Stats\x20Styling\x20*/\x0a\x20\x20\x20\x20.map-stats-header\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-stats-header\x20h3\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x201.4em;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-stats-header\x20.total-matches\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#666;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x200.9em;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-stats-list\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x2012px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-stat-item\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(255,\x20255,\x20255,\x200.8);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(0,\x200,\x200,\x200.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20all\x200.2s\x20ease;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-stat-item:hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(255,\x20255,\x20255,\x200.95);\x0a\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateY(-1px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,\x200,\x200,\x200.1);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-info\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20space-between;\x0a\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x208px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-rank\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#673ab7;\x0a\x20\x20\x20\x20\x20\x20\x20\x20min-width:\x2030px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-weight:\x20600;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20flex:\x201;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2012px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-count\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#666;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x200.9em;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-bar-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x2010px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-bar\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20flex:\x201;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x206px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20linear-gradient(90deg,\x20#673ab7,\x20#9c27b0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x203px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20width\x200.3s\x20ease;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-percentage\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x200.8em;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#666;\x0a\x20\x20\x20\x20\x20\x20\x20\x20min-width:\x2035px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20right;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-stats-footer\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding-top:\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-top:\x201px\x20solid\x20rgba(0,\x200,\x200,\x200.1);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.remaining-maps\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#666;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x200.9em;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-style:\x20italic;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.error-message\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#dc3545;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-style:\x20italic;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2020px;\x0a\x20\x20\x20\x20}\x0a',document[a46_0x27f47c(0x1e0)]['appendChild'](style),document[a46_0x27f47c(0x1d7)](a46_0x27f47c(0x1a9),()=>{const _0x51bfd1=a46_0x27f47c;Promise['all']([fetch(_0x51bfd1(0x1e6))['then'](_0x3792ec=>_0x3792ec['ok']?_0x3792ec['text']():Promise['reject'](_0x51bfd1(0x1a2))),fetch('../HTML/footer.html')[_0x51bfd1(0x1c6)](_0x5a6348=>_0x5a6348['ok']?_0x5a6348[_0x51bfd1(0x19f)]():Promise[_0x51bfd1(0x1cc)]('Footer\x20fetch\x20failed'))])['then'](([_0x468276,_0x2b5ac4])=>{const _0x4edcdb=_0x51bfd1,_0x454bb8=document[_0x4edcdb(0x1f6)](_0x4edcdb(0x1f1)),_0x20e35c=document[_0x4edcdb(0x1f6)](_0x4edcdb(0x1dd));if(_0x454bb8)_0x454bb8[_0x4edcdb(0x1eb)]=_0x468276;if(_0x20e35c)_0x20e35c['innerHTML']=_0x2b5ac4;})[_0x51bfd1(0x1f9)](_0x332ec4=>{const _0x490cc3=_0x51bfd1;console[_0x490cc3(0x1ee)]('Error\x20loading\x20nav\x20or\x20footer:',_0x332ec4);}),loadRecords(),loadMapStats(),setupGameModeToggle();});function calculatePlayerRecords(_0x2c0ef4,_0x578fc4){const _0x47e258=a46_0x27f47c;let _0x3bf95d=null,_0x50c16a=Infinity;_0x578fc4['forEach'](_0x25cea7=>{const _0xa7b23b=a46_0x4eff,_0x3ac929=_0x2c0ef4['filter'](_0x36c328=>_0x36c328['winnerUsername']===_0x25cea7['username']||_0x36c328['loserUsername']===_0x25cea7['username']);if(_0x3ac929['length']<0x5)return;const _0x28ebcf=_0x3ac929['reduce']((_0x2afcbc,_0x3946c4)=>{const _0x1b0711=a46_0x4eff;return _0x3946c4[_0x1b0711(0x203)]===_0x25cea7['username']?_0x2afcbc+(_0x3946c4['winnerSuicides']||0x0):_0x2afcbc+(_0x3946c4['loserSuicides']||0x0);},0x0),_0x54b016=_0x28ebcf/_0x3ac929['length']*0x64;_0x54b016<_0x50c16a&&(_0x50c16a=_0x54b016,_0x3bf95d={'player':_0x25cea7[_0xa7b23b(0x1c2)],'suicideRate':_0x54b016,'totalSuicides':_0x28ebcf,'totalMatches':_0x3ac929[_0xa7b23b(0x213)]});});const _0x2b2eec=document['getElementById']('least-suicides');_0x3bf95d?_0x2b2eec['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-name\x22>'+_0x3bf95d['player']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22record-stat\x22>'+_0x3bf95d['suicideRate']['toFixed'](0x2)+'%</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22record-detail\x22>'+_0x3bf95d['totalSuicides']+_0x47e258(0x19a)+_0x3bf95d['totalMatches']+_0x47e258(0x1a6):_0x2b2eec['textContent']='No\x20data\x20available';}