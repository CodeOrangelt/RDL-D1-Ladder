function a44c(){const t=['vw5RBM93BIbqBgf5zxi','DxnLCM5HBwu','CxvLDwuTy29UDgfPBMvY','Bg9N','pc9ZCgfUpGOGicaGicaGicaGica8l2rPDJ4kicaGicaGica','y29UC3rYDwn0B3i','sNvZDcbUB3C','mtu5odqYmurMrfHzqG','BgvUz3rO','Dg9eyxrL','CMvHzhLqBgf5zxjZ','mJeZmda4u1f6AeXb','yMXVy2S','zM9YrwfJAa','mty5otyWnezTt1LUwa','zgf0yq','mtyXotq5nLrIA0TmtG','BM9Uzq','Aw5MBW','BgfZDfvWzgf0zwq','zgLZCgXHEq','zxHJzxb0Aw9U','BsbPBIbXDwv1zq','mtq4mJe4mfzhAMPYwG','nZu4otK2sw5ZAKvf','y29UC29Szq','yMLUza','zxjYB3i','zMXVB3i','CMv0DxjUicHMDw5JDgLVBIGPia','yxbWBhK','rxjYB3iGAw4GCxvLDwuGBgLZDgvUzxi6','x19WCM90B19F','ndy1mZu3nxrrDxvKsa','C3r5Bgu','cIaGicaGicaGicaGidXKAxyGy2XHC3m9iNbSyxLLCI1JyxjKiJ4kicaGicaGicaGicaGicaGidXZCgfUignSyxnZpsjWBgf5zxiTBMfTzsi+','n0XtrfvoyW','AxnszwfKEq','oxHND3Hgta','Dg9tDhjPBMC','Aw5Uzxjive1m'];a44c=function(){return t;};return a44c();}function a44d(a,b){const c=a44c();return a44d=function(d,e){d=d-0x117;let f=c[d];if(a44d['xdkqOy']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a44d['PXsYVw']=g,a=arguments,a44d['xdkqOy']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a44d['PXsYVw'](f),a[i]=f):f=j,f;},a44d(a,b);}(function(a,b){const k=a44d,c=a();while(!![]){try{const d=-parseInt(k(0x11c))/0x1+-parseInt(k(0x13b))/0x2+parseInt(k(0x134))/0x3+parseInt(k(0x11b))/0x4+parseInt(k(0x125))/0x5+-parseInt(k(0x13d))/0x6*(-parseInt(k(0x128))/0x7)+parseInt(k(0x138))/0x8*(parseInt(k(0x12a))/0x9);if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a44c,0x7f653));const a44b=(function(){let a=!![];return function(b,c){const d=a?function(){const l=a44d;if(c){const e=c[l(0x122)](b,arguments);return c=null,e;}}:function(){};return a=![],d;};}()),a44a=a44b(this,function(){const m=a44d;let a;try{const d=Function(m(0x121)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');a=d();}catch(f){a=window;}const b=a[m(0x11d)]=a[m(0x11d)]||{},c=[m(0x130),'warn',m(0x13f),m(0x11f),m(0x119),'table','trace'];for(let g=0x0;g<c[m(0x135)];g++){const h=a44b[m(0x132)]['prototype']['bind'](a44b),i=c[g],j=b[i]||h;h[m(0x124)]=a44b[m(0x11e)](a44b),h['toString']=j[m(0x12b)][m(0x11e)](j),b[i]=h;}});a44a();import{db}from'./firebase-config.js';import{collection,query,where,onSnapshot,updateDoc,doc}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const readyPlayersRef=collection(db,'readyPlayers'),activePlayersQuery=query(readyPlayersRef,where('isReady','==',!![]));function updateQueueDisplay(a){const n=a44d,b=document['getElementById'](n(0x12f));if(!b)return;if(a[n(0x135)]===0x0){b[n(0x126)]['display']=n(0x13e);return;}b[n(0x126)][n(0x118)]=n(0x139);let c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22queue-box\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>Waiting\x20for\x20a\x20game</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22queue-list\x22>\x0a\x20\x20\x20\x20';a[n(0x13a)](d=>{const o=n;c+=o(0x127)+(d[o(0x12e)]||o(0x12d))+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22queue-time\x22>'+formatQueueTime(d['lastUpdated'])+o(0x131);}),c+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',b[n(0x12c)]=c;}function formatQueueTime(a){const p=a44d;if(!a)return p(0x133);const b=a['toDate']?a[p(0x136)]():new Date(a),c=new Date(),d=Math[p(0x120)]((c-b)/0xea60);if(d<0x1)return p(0x133);return d+p(0x11a);}async function checkQueueTimeout(a){const q=a44d;if(!a[q(0x117)])return;const b=a['lastUpdated'][q(0x136)]?a['lastUpdated']['toDate']():new Date(a['lastUpdated']),c=new Date(),d=Math[q(0x120)]((c-b)/0xea60);if(d>=0x1e)try{const e=doc(db,q(0x137),a['id']);await updateDoc(e,{'isReady':![]});}catch(f){console[q(0x11f)]('Error\x20removing\x20player\x20from\x20queue:',f);}}const unsubscribe=onSnapshot(readyPlayersRef,a=>{const b=[];a['forEach'](c=>{const r=a44d,d=c[r(0x13c)]();if(d[r(0x129)]===!![]){const e={'id':c['id'],'username':d['username'],'lastUpdated':d[r(0x117)]||new Date()};b['push'](e),checkQueueTimeout(e);}}),updateQueueDisplay(b);},a=>{const s=a44d;console[s(0x11f)](s(0x123),a);});window['addEventListener']('unload',()=>{unsubscribe();});