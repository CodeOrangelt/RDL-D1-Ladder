const a21_0x3a6997=a21_0x19dc,a21_0x2b543d=(function(){let _0x32f49c=!![];return function(_0x107b16,_0x18265){const _0x155436=_0x32f49c?function(){if(_0x18265){const _0x1f8d10=_0x18265['apply'](_0x107b16,arguments);return _0x18265=null,_0x1f8d10;}}:function(){};return _0x32f49c=![],_0x155436;};}()),a21_0xbc99e8=a21_0x2b543d(this,function(){const _0x5bb794=a21_0x19dc,_0x741f84=function(){let _0x3bd18c;try{_0x3bd18c=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x1325f9){_0x3bd18c=window;}return _0x3bd18c;},_0x196f9d=_0x741f84(),_0x29efb6=_0x196f9d[_0x5bb794(0x125)]=_0x196f9d['console']||{},_0x13bbf5=['log','warn',_0x5bb794(0x128),'error',_0x5bb794(0x120),'table','trace'];for(let _0x50e55f=0x0;_0x50e55f<_0x13bbf5['length'];_0x50e55f++){const _0x4270eb=a21_0x2b543d['constructor']['prototype']['bind'](a21_0x2b543d),_0x38ca82=_0x13bbf5[_0x50e55f],_0x50da1f=_0x29efb6[_0x38ca82]||_0x4270eb;_0x4270eb[_0x5bb794(0x11f)]=a21_0x2b543d['bind'](a21_0x2b543d),_0x4270eb['toString']=_0x50da1f['toString']['bind'](_0x50da1f),_0x29efb6[_0x38ca82]=_0x4270eb;}});a21_0xbc99e8();function a21_0x1e32(){const _0x371e4c=['forEach','error','__proto__','exception','Error\x20loading\x20seasons:','init','position','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','console','seasonNumber','getElementById','info','className'];a21_0x1e32=function(){return _0x371e4c;};return a21_0x1e32();}import{db}from'./firebase-config.js';import{collection,getDocs,query,orderBy}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';function a21_0x19dc(_0x65bbc0,_0x5692e4){const _0xbc99e8=a21_0x1e32();return a21_0x19dc=function(_0x2b543d,_0x54b021){_0x2b543d=_0x2b543d-0x11d;let _0x1e32ce=_0xbc99e8[_0x2b543d];return _0x1e32ce;},a21_0x19dc(_0x65bbc0,_0x5692e4);}class HistoryViewer{async['init'](){const _0x5ccb70=a21_0x19dc;try{const _0x4d5aac=collection(db,'seasons'),_0x3fce86=query(_0x4d5aac,orderBy('seasonNumber','desc')),_0x2f66f2=await getDocs(_0x3fce86),_0x16d6ad=document[_0x5ccb70(0x127)]('seasons-container');_0x2f66f2[_0x5ccb70(0x11d)](_0x205f7a=>{const _0x5b6f13=_0x205f7a['data'](),_0x55e0f6=this['createSeasonElement'](_0x5b6f13);_0x16d6ad['appendChild'](_0x55e0f6);});}catch(_0x3613ae){console[_0x5ccb70(0x11e)](_0x5ccb70(0x121),_0x3613ae);}}['createSeasonElement'](_0x52ca95){const _0x4d6a3a=a21_0x19dc,_0x5a19a2=document['createElement']('div');_0x5a19a2[_0x4d6a3a(0x129)]='season-container';const _0x49470c=_0x52ca95['date']['toDate']()['toLocaleDateString']();return _0x5a19a2['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22season-header\x22\x20onclick=\x22this.nextElementSibling.classList.toggle(\x27active\x27);\x20this.querySelector(\x27.toggle-icon\x27).classList.toggle(\x27active\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>Season\x20'+_0x52ca95[_0x4d6a3a(0x126)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22toggle-icon\x22>â–¼</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22season-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Archived:\x20'+_0x49470c+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22season-table\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Position</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Player</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Final\x20ELO</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x52ca95['players']['sort']((_0x398f86,_0x54f92d)=>_0x398f86['position']-_0x54f92d['position'])['map'](_0x257c97=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x257c97[_0x4d6a3a(0x123)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x257c97['username']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x257c97['eloRating']+_0x4d6a3a(0x124))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</table>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x5a19a2;}}const viewer=new HistoryViewer();viewer[a21_0x3a6997(0x122)]();