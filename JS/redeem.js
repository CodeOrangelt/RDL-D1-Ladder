const a46_0x153ceb=a46_0x5c77,a46_0x44a66c=(function(){let _0xcbdc73=!![];return function(_0x69e203,_0x234c44){const _0xf6ee89=_0xcbdc73?function(){if(_0x234c44){const _0x54b7af=_0x234c44['apply'](_0x69e203,arguments);return _0x234c44=null,_0x54b7af;}}:function(){};return _0xcbdc73=![],_0xf6ee89;};}()),a46_0x5a8fc5=a46_0x44a66c(this,function(){const _0xa5f33a=a46_0x5c77;let _0x43a529;try{const _0x218abf=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x43a529=_0x218abf();}catch(_0x37cf3b){_0x43a529=window;}const _0x113772=_0x43a529['console']=_0x43a529['console']||{},_0x4cc76b=['log',_0xa5f33a(0xbd),'info','error','exception','table',_0xa5f33a(0xfb)];for(let _0x94f8d4=0x0;_0x94f8d4<_0x4cc76b['length'];_0x94f8d4++){const _0x324728=a46_0x44a66c['constructor']['prototype'][_0xa5f33a(0xc3)](a46_0x44a66c),_0x5c7d75=_0x4cc76b[_0x94f8d4],_0x11fbdf=_0x113772[_0x5c7d75]||_0x324728;_0x324728['__proto__']=a46_0x44a66c[_0xa5f33a(0xc3)](a46_0x44a66c),_0x324728['toString']=_0x11fbdf['toString']['bind'](_0x11fbdf),_0x113772[_0x5c7d75]=_0x324728;}});a46_0x5a8fc5();import{getAuth,onAuthStateChanged}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';function a46_0x4e9a(){const _0x90017e=['block','opacity','\x20points\x20to\x20purchase\x20this\x20token','Theme\x20','Fan','includes','userProfiles','preventDefault','querySelector','map','Successfully\x20purchased\x20','isAdmin','Smart\x20Missile','../images/tokens/Pyro.gif','Intelligent\x20targeting\x20system','üè™\x20Redeem\x20store\x20initializing...','email','remove','Mercury\x20Missile','token_','message','FREE','error','../images/tokens/gauge18.gif','Equipped','can-equip','info','special','equipped','store-content','theme_','theme','textContent','uid','Leave\x20your\x20mark\x20on\x20the\x20leaderboard.','userTokens','add','push','Emerald','classList','displayLadder','itemId','apply-theme','üîß\x20Token\x20permissions\x20issue\x20detected,\x20but\x20purchase\x20was\x20successful','cursor','../images/tokens/Invuln.gif','../images/tokens/Hostage.gif','Failed\x20to\x20unequip\x20token:\x20','querySelectorAll','fun','\x20items,\x20Equipped:\x20','Purchase','exists','Sold\x20','currentUser','floor','is\x20that...\x20Pfunk?','0.5','Theme\x20clicked:\x20','../images/tokens/subgame/pbomb.gif','Extra\x20Life','disabled','forEach','store-item\x20token-item','function','token','Not\x20enough\x20points.\x20You\x20need\x20','equippedToken','A\x20mysterious\x20purple\x20blob\x20token','Purchase\x20failed.\x20Please\x20try\x20again.','User\x20data\x20loaded\x20-\x20Points:\x20','style','blob','You\x20already\x20own\x20the\x20','Blob\x20Token\x202','cannot-afford','Service\x20temporarily\x20unavailable.\x20Please\x20try\x20again.','visible','warn','getCurrentTheme','../images/tokens/emerald.gif','code','Token\x20collection\x20update\x20had\x20an\x20issue,\x20but\x20equip\x20was\x20successful:','sign-in','bind','Marker','For\x20the\x20angry\x20type.','dataset','success','Phoenix\x20Cannon','Advanced\x20energy\x20storage\x20system','../images/tokens/Mercury.gif','\x20theme\x20applied!','log','\x20points','Classic\x20RDL','\x20not\x20found','tokens','Monitor\x20your\x20ship\x27s\x20energy\x20levels','‚úÖ\x20Purchased\x20','Please\x20sign\x20in\x20to\x20unequip\x20tokens','Are\x20you\x20sure\x20you\x20want\x20to\x20sell\x20','Permission\x20denied.\x20Please\x20try\x20again\x20or\x20contact\x20support.','var(--accent-color,\x20#2196F3)','auth-warning','../images/tokens/blob03.gif','.token-equip-btn','.token-select-btn','Buy','weapon','click','isUserAdmin','‚ùå\x20User\x20not\x20authenticated','inventory','name','data','.themes-grid','pointer','Gold','0.7','Lock\x20in\x20your\x20victory.','display','warning','RedeemStore','addEventListener','price','body','Buy\x20for\x20','Blue','default','You\x20already\x20own\x20this\x20','Shield\x20Orb','points','closest','\x20Points','current-theme','refreshUI','createElement','sign-in-paid','className','trace','The\x20final\x20blob\x20in\x20the\x20collection','parentNode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22token-sell-btn\x20admin-btn\x22\x20style=\x22margin-top:\x200.5rem;\x20background:\x20#f44336;\x20font-size:\x200.8rem;\x20padding:\x200.3rem;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Sell\x20(','../images/tokens/Plasma.gif','Familiar...','../images/tokens/Laser.gif','This\x20one\x20is\x20really\x20pretty','Need\x20','displayName','can-afford','Token\x20sale\x20failed:','‚úÖ\x20Sold\x20token\x20','Become\x20one\x20with\x20the\x20shadows','Sign\x20in\x20to\x20Purchase','confirm','innerHTML'];a46_0x4e9a=function(){return _0x90017e;};return a46_0x4e9a();}import{getFirestore,doc,getDoc,setDoc,updateDoc,collection,addDoc,serverTimestamp}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{clearTokenCache}from'./tokens.js';const auth=getAuth(),db=getFirestore(),THEMES={'default':{'price':0x0,'name':a46_0x153ceb(0xce),'description':'Rock\x20texture\x20with\x20a\x20sleek\x20nav\x20and\x20footer'},'contrast':{'price':0x0,'name':'Nightmode','description':'You\x20can\x20see\x20better!'},'purple':{'price':0x96,'name':'Purple','description':'Can\x27t\x20get\x20enough'},'ocean':{'price':0x12c,'name':a46_0x153ceb(0xef),'description':a46_0x153ceb(0x102)},'cyberpunk':{'price':0x190,'name':'Yellow\x20Orange','description':'This\x20theme\x20makes\x20me\x20happy'},'volcanic':{'price':0x1f4,'name':'Red','description':a46_0x153ceb(0xc5)},'gold':{'price':0x320,'name':a46_0x153ceb(0xe5),'description':'Only\x20the\x20best\x20get\x20this\x20one'},'emerald':{'price':0x3e8,'name':'Emerald','description':'Emerald\x20City!'},'cockpit':{'price':0x4b0,'name':a46_0x153ceb(0x100),'description':a46_0x153ceb(0xa7)}},TOKENS={'pwr01':{'price':0x64,'name':'Energy','description':'Enhanced\x20energy\x20generation\x20unit','image':'../images/tokens/subgame/pwr01.gif','category':'powerup'},'fan':{'price':0x96,'name':a46_0x153ceb(0x73),'description':'Show\x20your\x20support\x20with\x20this\x20fan\x20token.','image':'../images/tokens/Fan.gif','category':'fun'},'marker':{'price':0xfa,'name':a46_0x153ceb(0xc4),'description':a46_0x153ceb(0x91),'image':'../images/tokens/Marker.gif','category':'fun'},'laser':{'price':0x12c,'name':'Laser','description':'Classic\x20laser\x20weapon\x20token.','image':a46_0x153ceb(0x101),'category':'weapon'},'pbomb':{'price':0x15e,'name':'Proximity\x20Bomb','description':'Strategic\x20explosive\x20device','image':a46_0x153ceb(0xaa),'category':'weapon'},'fusion':{'price':0x15e,'name':'Fusion\x20Cannon','description':'Devastating\x20fusion\x20weapon\x20technology','image':'../images/tokens/subgame/fusion.gif','category':'weapon'},'lock':{'price':0x1c2,'name':'Lock','description':a46_0x153ceb(0xe7),'image':'../images/tokens/Lock.gif','category':a46_0x153ceb(0xa0)},'blob01':{'price':0x1f4,'name':'Blob\x20Token\x201','description':a46_0x153ceb(0xb3),'image':'../images/tokens/blob01.gif','category':a46_0x153ceb(0xb7)},'plasma':{'price':0x1f4,'name':'Plasma\x20Cannon','description':'High-powered\x20plasma\x20cannon\x20token.','image':a46_0x153ceb(0xff),'category':'weapon'},'cloak':{'price':0x1f4,'name':'Cloaking\x20Device','description':a46_0x153ceb(0x108),'image':'../images/tokens/cloak.gif','category':'special'},'pwr02':{'price':0x258,'name':a46_0x153ceb(0xf2),'description':a46_0x153ceb(0xc9),'image':'../images/tokens/subgame/pwr02.gif','category':'powerup'},'mercury':{'price':0x258,'name':a46_0x153ceb(0x81),'description':'Fast\x20and\x20furious\x20missile\x20token.','image':a46_0x153ceb(0xca),'category':a46_0x153ceb(0xdc)},'plasmablobl':{'price':0x258,'name':'Plasma\x20Blob','description':'A\x20mysterious\x20plasma\x20blob.','image':'../images/tokens/Plasmablobl.gif','category':'blob'},'smissile':{'price':0x28a,'name':a46_0x153ceb(0x7b),'description':a46_0x153ceb(0x7d),'image':'../images/tokens/subgame/smissile.gif','category':'weapon'},'smartmine':{'price':0x2ee,'name':'Smart\x20Mine','description':'A\x20cunning\x20explosive\x20device.','image':'../images/tokens/Smartmine.gif','category':a46_0x153ceb(0xdc)},'mmissile':{'price':0x320,'name':'Mega\x20Missile','description':'Heavy\x20ordinance\x20for\x20tough\x20situations','image':'../images/tokens/subgame/mmissile.gif','category':a46_0x153ceb(0xdc)},'gauge18':{'price':0x320,'name':'R/Y/B\x20Keys','description':a46_0x153ceb(0xd1),'image':a46_0x153ceb(0x86),'category':'equipment'},'extralife':{'price':0x320,'name':a46_0x153ceb(0xab),'description':'A\x20rare\x20extra\x20life\x20token.','image':'../images/tokens/Extralife.gif','category':a46_0x153ceb(0x8a)},'hostage':{'price':0x3b6,'name':'Hostage','description':'Rescue\x20the\x20hostage\x20for\x20bonus\x20points.','image':a46_0x153ceb(0x9d),'category':'special'},'phoenix':{'price':0x3b6,'name':a46_0x153ceb(0xc8),'description':'Fiery\x20phoenix\x20cannon\x20token.','image':'../images/tokens/Phoenix.gif','category':'weapon'},'blob02':{'price':0x3e8,'name':a46_0x153ceb(0xb9),'description':'Another\x20enigmatic\x20blob\x20creature','image':'../images/tokens/blob02.gif','category':'blob'},'emerald':{'price':0x3e8,'name':a46_0x153ceb(0x95),'description':'Emerald\x20City!','image':a46_0x153ceb(0xbf),'category':'special'},'invuln':{'price':0x5dc,'name':'Invulnerability','description':'Become\x20invincible\x20for\x20a\x20short\x20time.','image':a46_0x153ceb(0x9c),'category':'powerup'},'blob03':{'price':0x7d0,'name':'Blob\x20Token\x203','description':a46_0x153ceb(0xfc),'image':a46_0x153ceb(0xd8),'category':'blob'},'reactor':{'price':0x7d0,'name':'Reactor','description':'The\x20heart\x20of\x20every\x20mine.','image':'../images/tokens/Reactor.gif','category':'special'},'pyro':{'price':0xbb8,'name':'Pyro','description':'The\x20iconic\x20Pyro-GX\x20ship.','image':a46_0x153ceb(0x7c),'category':'ship'}};let userData={'points':0x0,'inventory':[],'isAdmin':![]},storeContainer,pointsDisplay,authWarning;document['addEventListener']('DOMContentLoaded',()=>{const _0x261f1d=a46_0x153ceb;console['log'](_0x261f1d(0x7e)),storeContainer=document['getElementById'](_0x261f1d(0x8c)),pointsDisplay=document['getElementById']('user-points'),authWarning=document['getElementById'](_0x261f1d(0xd7)),initAuthListener(),buildStoreUI();});function initAuthListener(){onAuthStateChanged(auth,async _0xd4a114=>{const _0x1c2bd0=a46_0x5c77;if(_0xd4a114){console['log']('‚úÖ\x20User\x20authenticated:',_0xd4a114[_0x1c2bd0(0x104)]||_0xd4a114[_0x1c2bd0(0x7f)]);if(authWarning)authWarning['style']['display']='none';if(storeContainer)storeContainer['style']['display']='block';await loadUserData(_0xd4a114),updateThemeButtons(),updateTokenButtons();}else{console['log'](_0x1c2bd0(0xdf));if(authWarning)authWarning[_0x1c2bd0(0xb6)]['display']='block';if(storeContainer)storeContainer['style']['display']='none';userData={'points':0x0,'inventory':[],'isAdmin':![]},window['isUserAdmin']=![];}});}async function loadUserData(_0x3883e7){const _0x2f299e=a46_0x153ceb;try{const _0x3666a1=doc(db,'userProfiles',_0x3883e7['uid']),_0x101a54=await getDoc(_0x3666a1);if(_0x101a54[_0x2f299e(0xa3)]()){const _0x55cf1d=_0x101a54['data']();userData={'points':_0x55cf1d['points']||0x0,'inventory':_0x55cf1d['inventory']||[],'isAdmin':_0x55cf1d[_0x2f299e(0x7a)]||![],'equippedToken':_0x55cf1d['equippedToken']||null},pointsDisplay&&(pointsDisplay['textContent']=userData['points']['toLocaleString']()),window[_0x2f299e(0xde)]=userData['isAdmin'],userData['isAdmin']&&(console[_0x2f299e(0xcc)]('üëë\x20Admin\x20controls\x20enabled'),window['dispatchEvent'](new CustomEvent('adminStatusChanged',{'detail':{'isAdmin':!![]}}))),console[_0x2f299e(0xcc)](_0x2f299e(0xb5)+userData['points']+',\x20Inventory:\x20'+userData['inventory']['length']+_0x2f299e(0xa1)+(userData['equippedToken']||'none'));}else await setDoc(_0x3666a1,{'points':0x0,'inventory':[],'equippedToken':null,'createdAt':serverTimestamp(),'username':_0x3883e7['displayName']||_0x3883e7['email']?.['split']('@')[0x0]||'User'}),userData={'points':0x0,'inventory':[],'isAdmin':![],'equippedToken':null},pointsDisplay&&(pointsDisplay['textContent']='0'),window['isUserAdmin']=![],console['log']('New\x20user\x20profile\x20created');}catch(_0x3b1527){console['error']('Error\x20loading\x20user\x20data:',_0x3b1527);}}function userOwnsTheme(_0x212a6a){const _0x5c6aaa=a46_0x153ceb;if(THEMES[_0x212a6a]?.[_0x5c6aaa(0xec)]===0x0)return!![];return userData[_0x5c6aaa(0xe0)]['includes'](_0x5c6aaa(0x8d)+_0x212a6a);}function a46_0x5c77(_0x323c8b,_0x1168bf){const _0x5a8fc5=a46_0x4e9a();return a46_0x5c77=function(_0x44a66c,_0x1c88af){_0x44a66c=_0x44a66c-0x6f;let _0x4e9a77=_0x5a8fc5[_0x44a66c];return _0x4e9a77;},a46_0x5c77(_0x323c8b,_0x1168bf);}function userOwnsToken(_0x337a55){const _0x3adc43=a46_0x153ceb;return userData['inventory']['includes'](_0x3adc43(0x82)+_0x337a55);}function userHasTokenEquipped(_0x339384){const _0x6b90ae=a46_0x153ceb;return userData[_0x6b90ae(0xb2)]===_0x339384;}function getEquippedToken(){return userData['equippedToken']||null;}async function purchaseTheme(_0x52f62f){const _0x51c381=a46_0x153ceb,_0x5e3c0e=auth['currentUser'];if(!_0x5e3c0e)return showMessage('Please\x20sign\x20in\x20to\x20purchase\x20themes','error'),![];const _0x309830=THEMES[_0x52f62f];if(!_0x309830)return console['error'](_0x51c381(0x72)+_0x52f62f+'\x20not\x20found'),![];if(userData['points']<_0x309830[_0x51c381(0xec)])return showMessage(_0x51c381(0xb1)+(_0x309830['price']-userData['points'])+'\x20more\x20points.',_0x51c381(0x85)),![];if(userOwnsTheme(_0x52f62f))return showMessage('You\x20already\x20own\x20the\x20'+_0x309830['name']+'\x20theme','info'),![];try{return await processPurchase(_0x52f62f,_0x309830,'theme');}catch(_0x4ee1c1){return console[_0x51c381(0x85)]('Theme\x20purchase\x20failed:',_0x4ee1c1),showMessage('Purchase\x20failed.\x20Please\x20try\x20again.','error'),![];}}async function purchaseToken(_0x36b712){const _0x1d3895=a46_0x153ceb,_0x36d760=auth['currentUser'];if(!_0x36d760)return showMessage('Please\x20sign\x20in\x20to\x20purchase\x20tokens','error'),![];const _0x5c88c4=TOKENS[_0x36b712];if(!_0x5c88c4)return console['error']('Token\x20'+_0x36b712+_0x1d3895(0xcf)),![];if(userData['points']<_0x5c88c4['price'])return showMessage('Not\x20enough\x20points.\x20You\x20need\x20'+(_0x5c88c4[_0x1d3895(0xec)]-userData[_0x1d3895(0xf3)])+'\x20more\x20points.','error'),![];if(userOwnsToken(_0x36b712))return showMessage(_0x1d3895(0xb8)+_0x5c88c4[_0x1d3895(0xe1)]+'\x20token','info'),![];try{return await processPurchase(_0x36b712,_0x5c88c4,'token');}catch(_0xb9369d){return console['error']('Token\x20purchase\x20failed:',_0xb9369d),showMessage(_0x1d3895(0xb4),'error'),![];}}async function processPurchase(_0xd5dacf,_0x3bdf4d,_0x3c2191){const _0x33e838=a46_0x153ceb,_0x502058=auth['currentUser'];try{const _0x1c02b0=doc(db,_0x33e838(0x75),_0x502058['uid']),_0x537055=await getDoc(_0x1c02b0);if(!_0x537055['exists']())return showMessage('User\x20profile\x20not\x20found','error'),![];const _0xc4b82b=_0x537055['data'](),_0x275d42=_0xc4b82b['points']||0x0,_0x1f5839=_0xc4b82b['inventory']||[];if(_0x275d42<_0x3bdf4d[_0x33e838(0xec)])return showMessage('Insufficient\x20points','error'),![];if(_0x1f5839['includes'](_0x3c2191+'_'+_0xd5dacf))return showMessage(_0x33e838(0xf1)+_0x3c2191,'info'),![];const _0x4f7b48=_0x275d42-_0x3bdf4d[_0x33e838(0xec)],_0x15d85a=[..._0x1f5839,_0x3c2191+'_'+_0xd5dacf];await updateDoc(_0x1c02b0,{'points':_0x4f7b48,'inventory':_0x15d85a,'lastPurchase':serverTimestamp()});if(_0x3c2191==='token')try{const _0x2c7f98=doc(db,'userTokens',_0x502058['uid']),_0x4c5974=await getDoc(_0x2c7f98);let _0x3f95c6=[];_0x4c5974['exists']()&&(_0x3f95c6=_0x4c5974[_0x33e838(0xe2)]()['tokens']||[]);const _0x3b16cd=new Date();_0x3f95c6[_0x33e838(0x94)]({'tokenId':_0xd5dacf,'tokenName':_0x3bdf4d['name'],'tokenImage':_0x3bdf4d['image'],'category':_0x3bdf4d['category'],'purchasedAt':_0x3b16cd,'price':_0x3bdf4d[_0x33e838(0xec)],'equipped':![]}),await setDoc(_0x2c7f98,{'userId':_0x502058['uid'],'username':_0xc4b82b['username']||_0x502058['displayName']||'Unknown','tokens':_0x3f95c6,'lastUpdated':serverTimestamp()},{'merge':!![]}),typeof clearTokenCache==='function'&&clearTokenCache(_0x502058[_0x33e838(0x90)]),console['log']('‚úÖ\x20Token\x20'+_0xd5dacf+'\x20saved\x20to\x20userTokens\x20collection\x20(not\x20equipped)');}catch(_0x327eca){console['warn']('Token\x20collection\x20update\x20had\x20an\x20issue,\x20but\x20purchase\x20completed:',_0x327eca),_0x327eca[_0x33e838(0xc0)]==='permission-denied'?console[_0x33e838(0xcc)](_0x33e838(0x9a)):console['error']('Unexpected\x20token\x20error:',_0x327eca);}try{await addDoc(collection(db,'transactions'),{'userId':_0x502058['uid'],'userEmail':_0x502058['email'],'itemId':_0x3c2191+'_'+_0xd5dacf,'itemTitle':_0x3bdf4d[_0x33e838(0xe1)],'price':_0x3bdf4d['price'],'type':'purchase','category':_0x3c2191,'timestamp':serverTimestamp()});}catch(_0x1f2d10){console[_0x33e838(0xbd)]('Transaction\x20logging\x20failed,\x20but\x20purchase\x20was\x20successful:',_0x1f2d10);}return userData['points']=_0x4f7b48,userData['inventory']=_0x15d85a,pointsDisplay&&(pointsDisplay[_0x33e838(0x8f)]=userData[_0x33e838(0xf3)]['toLocaleString']()),updateTokenButtons(),_0x3c2191==='theme'&&updateThemeButtons(),console['log'](_0x33e838(0xd2)+_0x3bdf4d['name']+'\x20for\x20'+_0x3bdf4d['price']+_0x33e838(0xcd)),showMessage(_0x33e838(0x79)+_0x3bdf4d['name']+'!\x20Use\x20the\x20\x22Equip\x22\x20button\x20to\x20show\x20it\x20on\x20the\x20ladder.','success'),!![];}catch(_0x136ac8){console['error']('Purchase\x20processing\x20error:',_0x136ac8);if(_0x136ac8['code']==='permission-denied')showMessage(_0x33e838(0xd5),'error');else{if(_0x136ac8['code']==='unavailable')showMessage(_0x33e838(0xbb),'error');else _0x136ac8['code']==='unauthenticated'?showMessage('Please\x20sign\x20in\x20again\x20to\x20complete\x20purchase.','error'):showMessage('Purchase\x20failed.\x20Please\x20try\x20again.','error');}return![];}}async function equipToken(_0x14e610){const _0x3d8804=a46_0x153ceb,_0x45fa6e=auth[_0x3d8804(0xa5)];if(!_0x45fa6e)return showMessage('Please\x20sign\x20in\x20to\x20equip\x20tokens',_0x3d8804(0x85)),![];const _0x46f5f3=TOKENS[_0x14e610];if(!_0x46f5f3)return console['error']('Token\x20'+_0x14e610+'\x20not\x20found'),![];if(!userOwnsToken(_0x14e610))return showMessage('You\x20must\x20own\x20this\x20token\x20to\x20equip\x20it',_0x3d8804(0x85)),![];try{const _0x36a622=doc(db,'userProfiles',_0x45fa6e['uid']);await updateDoc(_0x36a622,{'equippedToken':_0x14e610,'lastTokenEquip':serverTimestamp()});try{const _0x2874c3=doc(db,'userTokens',_0x45fa6e['uid']),_0x566afc=await getDoc(_0x2874c3);if(_0x566afc[_0x3d8804(0xa3)]()){const _0x240a20=_0x566afc['data'](),_0x41660c=_0x240a20['tokens']||[],_0x2392bc=_0x41660c[_0x3d8804(0x78)](_0x4688ad=>({..._0x4688ad,'equipped':_0x4688ad['tokenId']===_0x14e610}));await updateDoc(_0x2874c3,{'tokens':_0x2392bc,'equippedToken':_0x14e610,'lastUpdated':serverTimestamp()});}}catch(_0x3d25d7){console[_0x3d8804(0xbd)](_0x3d8804(0xc1),_0x3d25d7);}return userData['equippedToken']=_0x14e610,typeof clearTokenCache==='function'&&(clearTokenCache(_0x45fa6e['uid']),clearTokenCache()),setTimeout(()=>{const _0x4dda51=_0x3d8804;window['displayLadder']&&typeof window['displayLadder']==='function'&&(console['log']('üîÑ\x20Refreshing\x20ladder\x20to\x20show\x20equipped\x20token'),window[_0x4dda51(0x97)](!![])),window['RedeemStore']&&typeof window[_0x4dda51(0xea)]['refreshUI']===_0x4dda51(0xaf)&&window[_0x4dda51(0xea)][_0x4dda51(0xf7)]();},0x1f4),console['log']('‚úÖ\x20Equipped\x20token:\x20'+_0x46f5f3['name']),showMessage(_0x46f5f3['name']+'\x20equipped!\x20Ladder\x20will\x20refresh\x20shortly.','success'),!![];}catch(_0x2e3700){return console['error']('Token\x20equip\x20failed:',_0x2e3700),_0x2e3700['code']==='permission-denied'?showMessage('Permission\x20denied.\x20Token\x20may\x20still\x20be\x20equipped\x20-\x20check\x20the\x20ladder.',_0x3d8804(0xe9)):showMessage('Failed\x20to\x20equip\x20token:\x20'+_0x2e3700['message'],'error'),![];}}async function unequipToken(){const _0x58b0e8=a46_0x153ceb,_0x32b7e9=auth['currentUser'];if(!_0x32b7e9)return showMessage(_0x58b0e8(0xd3),'error'),![];if(!userData[_0x58b0e8(0xb2)])return showMessage('No\x20token\x20is\x20currently\x20equipped','info'),![];try{const _0x1c9d8d=doc(db,_0x58b0e8(0x75),_0x32b7e9['uid']);await updateDoc(_0x1c9d8d,{'equippedToken':null,'lastTokenEquip':serverTimestamp()});const _0x2e8139=doc(db,_0x58b0e8(0x92),_0x32b7e9['uid']),_0x3ba0cf=await getDoc(_0x2e8139);if(_0x3ba0cf['exists']()){const _0x546e02=_0x3ba0cf['data'](),_0x1751b9=_0x546e02[_0x58b0e8(0xd0)]||[],_0x38b8d4=_0x1751b9[_0x58b0e8(0x78)](_0x34b4e6=>({..._0x34b4e6,'equipped':![]}));await updateDoc(_0x2e8139,{'tokens':_0x38b8d4,'equippedToken':null,'lastUpdated':serverTimestamp()});}return userData['equippedToken']=null,typeof clearTokenCache==='function'&&(clearTokenCache(_0x32b7e9[_0x58b0e8(0x90)]),clearTokenCache()),setTimeout(()=>{const _0x16c2f1=_0x58b0e8;window['displayLadder']&&typeof window['displayLadder']==='function'&&(console['log']('üîÑ\x20Refreshing\x20ladder\x20to\x20remove\x20unequipped\x20token'),window['displayLadder'](!![])),window['RedeemStore']&&typeof window['RedeemStore'][_0x16c2f1(0xf7)]===_0x16c2f1(0xaf)&&window['RedeemStore']['refreshUI']();},0x1f4),console['log']('‚úÖ\x20Token\x20unequipped'),showMessage('Token\x20unequipped!\x20Ladder\x20will\x20refresh\x20shortly.',_0x58b0e8(0xc7)),!![];}catch(_0x1b107a){return console['error']('Token\x20unequip\x20failed:',_0x1b107a),showMessage(_0x58b0e8(0x9e)+_0x1b107a[_0x58b0e8(0x83)],'error'),![];}}async function sellToken(_0x593d99){const _0x59f2ac=a46_0x153ceb,_0x23c0b2=auth['currentUser'];if(!_0x23c0b2)return showMessage('Please\x20sign\x20in\x20to\x20sell\x20tokens','error'),![];if(!userData['isAdmin'])return showMessage('Only\x20admins\x20can\x20sell\x20tokens','error'),![];const _0x26cbbd=TOKENS[_0x593d99];if(!_0x26cbbd)return console['error']('Token\x20'+_0x593d99+'\x20not\x20found'),![];if(!userOwnsToken(_0x593d99))return showMessage('You\x20don\x27t\x20own\x20this\x20token','error'),![];try{const _0x5e44c9=doc(db,'userProfiles',_0x23c0b2['uid']),_0x1fcdba=await getDoc(_0x5e44c9),_0x1107c8=_0x1fcdba['data'](),_0x556aab=Math[_0x59f2ac(0xa6)](_0x26cbbd[_0x59f2ac(0xec)]*0.5),_0x46249b=(_0x1107c8[_0x59f2ac(0xf3)]||0x0)+_0x556aab,_0x1c13e3=(_0x1107c8[_0x59f2ac(0xe0)]||[])['filter'](_0x55b68f=>_0x55b68f!=='token_'+_0x593d99),_0x461737=_0x1107c8['equippedToken']===_0x593d99?null:_0x1107c8[_0x59f2ac(0xb2)];await updateDoc(_0x5e44c9,{'points':_0x46249b,'inventory':_0x1c13e3,'equippedToken':_0x461737,'lastSale':serverTimestamp()});const _0x570073=doc(db,_0x59f2ac(0x92),_0x23c0b2[_0x59f2ac(0x90)]),_0x2de14e=await getDoc(_0x570073);if(_0x2de14e[_0x59f2ac(0xa3)]()){const _0x455533=_0x2de14e['data'](),_0x2852d1=_0x455533[_0x59f2ac(0xd0)]||[],_0x11379f=_0x2852d1['filter'](_0x563b2b=>_0x563b2b['tokenId']!==_0x593d99);await updateDoc(_0x570073,{'tokens':_0x11379f,'equippedToken':_0x461737,'lastUpdated':serverTimestamp()});}return await addDoc(collection(db,'transactions'),{'userId':_0x23c0b2['uid'],'userEmail':_0x23c0b2[_0x59f2ac(0x7f)],'itemId':_0x59f2ac(0x82)+_0x593d99,'itemTitle':_0x26cbbd['name'],'refund':_0x556aab,'originalPrice':_0x26cbbd['price'],'type':'sale','category':'token','timestamp':serverTimestamp()}),userData[_0x59f2ac(0xf3)]=_0x46249b,userData['inventory']=_0x1c13e3,userData['equippedToken']=_0x461737,pointsDisplay&&(pointsDisplay[_0x59f2ac(0x8f)]=userData['points']['toLocaleString']()),typeof clearTokenCache==='function'&&clearTokenCache(_0x23c0b2['uid']),console['log'](_0x59f2ac(0x107)+_0x26cbbd[_0x59f2ac(0xe1)]+'\x20for\x20'+_0x556aab+_0x59f2ac(0xcd)),showMessage(_0x59f2ac(0xa4)+_0x26cbbd['name']+'\x20for\x20'+_0x556aab+'\x20points\x20(50%\x20refund)',_0x59f2ac(0xc7)),!![];}catch(_0x48b131){return console['error'](_0x59f2ac(0x106),_0x48b131),showMessage('Failed\x20to\x20sell\x20token:\x20'+_0x48b131[_0x59f2ac(0x83)],'error'),![];}}function applyTheme(_0x57e8a7){const _0x4d3f49=a46_0x153ceb;if(!userOwnsTheme(_0x57e8a7))return showMessage('You\x20must\x20purchase\x20this\x20theme\x20first','error'),![];return window['ThemeSystem']?(window['ThemeSystem']['switchTheme'](_0x57e8a7),showMessage((THEMES[_0x57e8a7]?.['name']||_0x57e8a7)+_0x4d3f49(0xcb),'success'),!![]):(console['error']('Theme\x20system\x20not\x20found'),![]);}function buildStoreUI(){buildThemeItems(),buildTokenItems();}function buildThemeItems(){const _0x372d49=a46_0x153ceb,_0x3b3cac=document['querySelector'](_0x372d49(0xe3));if(!_0x3b3cac){console[_0x372d49(0x85)]('Themes\x20container\x20not\x20found');return;}_0x3b3cac['innerHTML']='',Object['entries'](THEMES)['forEach'](([_0x1c4ddd,_0x263f7e])=>{const _0x494562=_0x372d49,_0x38eaf7=document[_0x494562(0xf8)]('div');_0x38eaf7['className']='store-item',_0x38eaf7[_0x494562(0xc6)][_0x494562(0x8e)]=_0x1c4ddd,_0x38eaf7['dataset']['itemId']=_0x494562(0x8d)+_0x1c4ddd,_0x38eaf7['dataset']['price']=_0x263f7e['price'],_0x38eaf7['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-icon\x20theme-icon-'+_0x1c4ddd+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-palette\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-price\x22>'+(_0x263f7e['price']===0x0?_0x494562(0x84):_0x263f7e[_0x494562(0xec)]+_0x494562(0xf5))+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22item-title\x22>'+_0x263f7e[_0x494562(0xe1)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22item-description\x22>'+_0x263f7e['description']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22theme-select-btn\x20purchase-btn\x22>Select\x20Theme</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x3b3cac['appendChild'](_0x38eaf7);}),setupThemeButtons();}function buildTokenItems(){const _0x369d45=a46_0x153ceb,_0x32e6a4=document['querySelector']('.tokens-grid');if(!_0x32e6a4){console['error']('Tokens\x20container\x20not\x20found');return;}_0x32e6a4[_0x369d45(0x10b)]='',Object['entries'](TOKENS)['forEach'](([_0xc71546,_0x20c32f])=>{const _0x6c0db3=_0x369d45,_0xd894cb=document[_0x6c0db3(0xf8)]('div');_0xd894cb[_0x6c0db3(0xfa)]=_0x6c0db3(0xae),_0xd894cb['dataset'][_0x6c0db3(0xb0)]=_0xc71546,_0xd894cb[_0x6c0db3(0xc6)][_0x6c0db3(0x98)]=_0x6c0db3(0x82)+_0xc71546,_0xd894cb['dataset'][_0x6c0db3(0xec)]=_0x20c32f['price'];const _0x88d370=userData['isAdmin']&&userOwnsToken(_0xc71546)?_0x6c0db3(0xfe)+Math[_0x6c0db3(0xa6)](_0x20c32f[_0x6c0db3(0xec)]*0.5)+'\x20pts)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20':'';_0xd894cb[_0x6c0db3(0x10b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-icon\x20token-icon\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22'+_0x20c32f['image']+'\x22\x20alt=\x22'+_0x20c32f['name']+'\x22\x20class=\x22token-preview\x22\x20onerror=\x22this.style.display=\x27none\x27;\x20this.nextElementSibling.style.display=\x27flex\x27;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22token-fallback\x22\x20style=\x22display:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-coins\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-price\x22>'+_0x20c32f['price']+'\x20Points</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22token-select-btn\x20purchase-btn\x22>Purchase</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22token-equip-btn\x20equip-btn\x22\x20style=\x22margin-top:\x200.5rem;\x20display:\x20none;\x22>Equip</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x88d370+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x32e6a4['appendChild'](_0xd894cb);}),setupTokenButtons();}function setupThemeButtons(){const _0x54bdc5=a46_0x153ceb,_0x51b46b=document['querySelectorAll']('.theme-select-btn');_0x51b46b[_0x54bdc5(0xad)](_0x266adc=>{_0x266adc['addEventListener']('click',async _0xbc9bb5=>{const _0x195033=a46_0x5c77;_0xbc9bb5['preventDefault']();const _0x48efdb=auth['currentUser'];if(!_0x48efdb){showMessage('Please\x20sign\x20in\x20to\x20select\x20themes',_0x195033(0x85));return;}const _0x19c062=_0x266adc[_0x195033(0xf4)]('[data-theme]'),_0x21efeb=_0x19c062['dataset'][_0x195033(0x8e)],_0x481d27=THEMES[_0x21efeb];if(!_0x481d27){console[_0x195033(0x85)]('Theme\x20'+_0x21efeb+_0x195033(0xcf));return;}console['log'](_0x195033(0xa9)+_0x481d27[_0x195033(0xe1)]+'\x20('+_0x21efeb+')');if(_0x266adc['disabled']){_0x481d27['price']>0x0&&showMessage('You\x20need\x20'+_0x481d27[_0x195033(0xec)]+'\x20points\x20to\x20purchase\x20this\x20theme','error');return;}if(_0x266adc[_0x195033(0x8f)]==='Current\x20Theme'){showMessage(_0x481d27['name']+'\x20is\x20already\x20your\x20current\x20theme','info');return;}if(_0x266adc['textContent']==='Apply\x20Theme'){applyTheme(_0x21efeb),updateThemeButtons();return;}if(_0x266adc['textContent'][_0x195033(0x74)](_0x195033(0xdb))){const _0x3876b8=window['confirm']('Purchase\x20'+_0x481d27['name']+'\x20theme\x20for\x20'+_0x481d27['price']+'\x20points?');if(!_0x3876b8)return;const _0x2a785a=await purchaseTheme(_0x21efeb);_0x2a785a&&(showMessage(_0x481d27['name']+'\x20theme\x20purchased!',_0x195033(0xc7)),applyTheme(_0x21efeb),updateThemeButtons());return;}userOwnsTheme(_0x21efeb)?applyTheme(_0x21efeb):showMessage('You\x20must\x20purchase\x20this\x20theme\x20first','error');});}),updateThemeButtons();}function setupTokenButtons(){const _0x2a1066=a46_0x153ceb,_0x16ea9f=document['querySelectorAll']('.token-select-btn'),_0x15c228=document['querySelectorAll'](_0x2a1066(0xd9)),_0x3f521c=document['querySelectorAll']('.token-sell-btn');_0x16ea9f[_0x2a1066(0xad)](_0x11b446=>{const _0x17bbe1=_0x2a1066;_0x11b446['addEventListener'](_0x17bbe1(0xdd),async _0x503cb3=>{const _0x156569=_0x17bbe1;_0x503cb3['preventDefault']();const _0x116335=auth['currentUser'];if(!_0x116335){showMessage('Please\x20sign\x20in\x20to\x20purchase\x20tokens','error');return;}const _0x150aac=_0x11b446[_0x156569(0xf4)]('[data-token]'),_0x4cf1f9=_0x150aac['dataset'][_0x156569(0xb0)],_0x312056=TOKENS[_0x4cf1f9];if(!_0x312056){console['error']('Token\x20'+_0x4cf1f9+'\x20not\x20found');return;}console['log']('Token\x20clicked:\x20'+_0x312056[_0x156569(0xe1)]+'\x20('+_0x4cf1f9+')');if(_0x11b446['disabled']){showMessage('You\x20need\x20'+_0x312056[_0x156569(0xec)]+_0x156569(0x71),'error');return;}if(_0x11b446['textContent']==='Owned'){showMessage(_0x156569(0xb8)+_0x312056['name']+'\x20token','info');return;}if(_0x11b446['textContent']['includes'](_0x156569(0xa2))||_0x11b446['textContent']['includes']('Buy')){const _0x388482=window[_0x156569(0x10a)]('Purchase\x20'+_0x312056['name']+'\x20token\x20for\x20'+_0x312056[_0x156569(0xec)]+'\x20points?');if(!_0x388482)return;const _0x2e7a18=await purchaseToken(_0x4cf1f9);_0x2e7a18&&updateTokenButtons();return;}});}),_0x15c228[_0x2a1066(0xad)](_0x5cb384=>{_0x5cb384['addEventListener']('click',async _0x206a68=>{const _0x26e2e7=a46_0x5c77;_0x206a68[_0x26e2e7(0x76)]();const _0x1d22da=_0x5cb384[_0x26e2e7(0xf4)]('[data-token]'),_0x1aad01=_0x1d22da['dataset']['token'],_0x2e99e6=TOKENS[_0x1aad01];if(_0x5cb384['textContent']===_0x26e2e7(0x87)){const _0x80e028=window[_0x26e2e7(0x10a)]('Unequip\x20'+_0x2e99e6[_0x26e2e7(0xe1)]+'?');if(!_0x80e028)return;const _0xd53f01=await unequipToken();_0xd53f01&&updateTokenButtons();}else{const _0x3f4bd7=window['confirm']('Equip\x20'+_0x2e99e6['name']+'?\x20This\x20will\x20unequip\x20your\x20current\x20token.');if(!_0x3f4bd7)return;const _0x4a2dd9=await equipToken(_0x1aad01);_0x4a2dd9&&updateTokenButtons();}});}),_0x3f521c[_0x2a1066(0xad)](_0x36dfe6=>{const _0x1f1458=_0x2a1066;_0x36dfe6[_0x1f1458(0xeb)]('click',async _0x438e87=>{const _0x3709ba=_0x1f1458;_0x438e87['preventDefault']();const _0x5cca1c=_0x36dfe6[_0x3709ba(0xf4)]('[data-token]'),_0x313392=_0x5cca1c[_0x3709ba(0xc6)][_0x3709ba(0xb0)],_0x3438c3=TOKENS[_0x313392],_0x970e7f=Math[_0x3709ba(0xa6)](_0x3438c3[_0x3709ba(0xec)]*0.5),_0x1379f5=window['confirm'](_0x3709ba(0xd4)+_0x3438c3[_0x3709ba(0xe1)]+'\x20for\x20'+_0x970e7f+'\x20points?\x20This\x20cannot\x20be\x20undone.');if(!_0x1379f5)return;const _0x2466d3=await sellToken(_0x313392);_0x2466d3&&updateTokenButtons();});}),updateTokenButtons();}function updateThemeButtons(){const _0x28cc2e=a46_0x153ceb,_0x1d97cb=window['ThemeSystem']?window['ThemeSystem'][_0x28cc2e(0xbe)]():'default',_0x25e59e=auth['currentUser'];document[_0x28cc2e(0x9f)]('.theme-select-btn')[_0x28cc2e(0xad)](_0x42c723=>{const _0x469b50=_0x28cc2e,_0x362d18=_0x42c723['closest']('[data-theme]'),_0x46320b=_0x362d18['dataset']['theme'],_0x52f49a=THEMES[_0x46320b];if(!_0x52f49a)return;_0x42c723['disabled']=![],_0x42c723['style'][_0x469b50(0x70)]='',_0x42c723['style']['cursor']='pointer',_0x42c723['classList']['remove'](_0x469b50(0xf6),'apply-theme','can-afford','cannot-afford','sign-in-free','sign-in-paid');if(!_0x25e59e){_0x52f49a['price']===0x0?(_0x42c723['textContent']='Sign\x20in\x20to\x20Apply',_0x42c723['classList']['add']('sign-in-free')):(_0x42c723['textContent']=_0x469b50(0x109),_0x42c723['disabled']=!![],_0x42c723['style']['opacity']='0.7',_0x42c723['classList']['add'](_0x469b50(0xf9)));return;}if(_0x46320b===_0x1d97cb){_0x42c723[_0x469b50(0x8f)]='Current\x20Theme',_0x42c723['classList']['add']('current-theme'),_0x42c723['disabled']=!![],_0x42c723[_0x469b50(0xb6)][_0x469b50(0x9b)]=_0x469b50(0xf0);return;}if(userOwnsTheme(_0x46320b)){_0x42c723[_0x469b50(0x8f)]='Apply\x20Theme',_0x42c723['classList'][_0x469b50(0x93)](_0x469b50(0x99));return;}if(userData['points']>=_0x52f49a['price']){_0x42c723['textContent']=_0x469b50(0xee)+_0x52f49a['price']+'\x20Points',_0x42c723['classList']['add'](_0x469b50(0x105));return;}_0x42c723['textContent']='Need\x20'+_0x52f49a['price']+_0x469b50(0xf5),_0x42c723['classList']['add'](_0x469b50(0xba)),_0x42c723[_0x469b50(0xb6)]['opacity']='0.5',_0x42c723['disabled']=!![],_0x42c723['style']['cursor']='not-allowed';});}function updateTokenButtons(){const _0x4761b1=a46_0x153ceb,_0x28bb26=auth['currentUser'];document[_0x4761b1(0x9f)](_0x4761b1(0xda))[_0x4761b1(0xad)](_0x42817b=>{const _0x29106c=_0x4761b1,_0x53c624=_0x42817b['closest']('[data-token]'),_0x19dcfe=_0x53c624['dataset']['token'],_0x53ec80=TOKENS[_0x19dcfe],_0x125d65=_0x53c624['querySelector'](_0x29106c(0xd9)),_0x3fc88b=_0x53c624[_0x29106c(0x77)]('.token-sell-btn');if(!_0x53ec80)return;_0x42817b[_0x29106c(0xac)]=![],_0x42817b['style']['opacity']='',_0x42817b['style']['cursor']='pointer';_0x125d65&&(_0x125d65['style']['display']='none',_0x125d65['disabled']=![],_0x125d65['style'][_0x29106c(0x70)]='',_0x125d65['classList']['remove'](_0x29106c(0x8b),'can-equip'));_0x3fc88b&&(_0x3fc88b['style'][_0x29106c(0xe8)]='none');_0x42817b['classList'][_0x29106c(0x80)]('owned','can-afford','cannot-afford',_0x29106c(0xc2));if(!_0x28bb26){_0x42817b[_0x29106c(0x8f)]=_0x29106c(0x109),_0x42817b['disabled']=!![],_0x42817b[_0x29106c(0xb6)]['opacity']=_0x29106c(0xe6),_0x42817b['classList']['add'](_0x29106c(0xc2));return;}if(userOwnsToken(_0x19dcfe)){_0x42817b[_0x29106c(0x8f)]='Owned',_0x42817b[_0x29106c(0x96)]['add']('owned'),_0x42817b['disabled']=!![],_0x42817b['style']['cursor']='default',_0x42817b['style']['background']='var(--success-color,\x20#4CAF50)';_0x125d65&&(_0x125d65['style']['display']=_0x29106c(0x6f),userHasTokenEquipped(_0x19dcfe)?(_0x125d65[_0x29106c(0x8f)]=_0x29106c(0x87),_0x125d65['classList']['add'](_0x29106c(0x8b)),_0x125d65['style']['background']=_0x29106c(0xd6),_0x125d65['style'][_0x29106c(0x9b)]='pointer'):(_0x125d65['textContent']='Equip',_0x125d65[_0x29106c(0x96)]['add'](_0x29106c(0x88)),_0x125d65[_0x29106c(0xb6)]['background']='var(--info-color,\x20#17a2b8)',_0x125d65[_0x29106c(0xb6)]['cursor']=_0x29106c(0xe4)));_0x3fc88b&&userData['isAdmin']&&(_0x3fc88b[_0x29106c(0xb6)]['display']='block');return;}if(userData[_0x29106c(0xf3)]>=_0x53ec80['price']){_0x42817b['textContent']='Buy\x20for\x20'+_0x53ec80['price']+'\x20Points',_0x42817b[_0x29106c(0x96)]['add'](_0x29106c(0x105)),_0x42817b['style']['background']='';return;}_0x42817b[_0x29106c(0x8f)]=_0x29106c(0x103)+_0x53ec80[_0x29106c(0xec)]+'\x20Points',_0x42817b[_0x29106c(0x96)][_0x29106c(0x93)](_0x29106c(0xba)),_0x42817b['style'][_0x29106c(0x70)]=_0x29106c(0xa8),_0x42817b['disabled']=!![],_0x42817b['style'][_0x29106c(0x9b)]='not-allowed',_0x42817b['style']['background']='var(--muted-color,\x20#757575)';});}function showMessage(_0x30c8f9,_0x58320e=a46_0x153ceb(0x89)){const _0x481ebc=a46_0x153ceb,_0x132a46=document['getElementById']('store-message');_0x132a46&&_0x132a46['remove']();const _0x429ce3=document['createElement']('div');_0x429ce3['id']='store-message',_0x429ce3['className']='store-message\x20store-message-'+_0x58320e,_0x429ce3['textContent']=_0x30c8f9,document[_0x481ebc(0xed)]['appendChild'](_0x429ce3),requestAnimationFrame(()=>{const _0x24beca=_0x481ebc;_0x429ce3['classList']['add'](_0x24beca(0xbc));}),setTimeout(()=>{const _0x24b5f6=_0x481ebc;_0x429ce3[_0x24b5f6(0x96)][_0x24b5f6(0x80)]('visible'),setTimeout(()=>{const _0xbae3e1=_0x24b5f6;_0x429ce3[_0xbae3e1(0xfd)]&&_0x429ce3['remove']();},0x12c);},0xfa0);}window['RedeemStore']={'refreshUI':()=>{updateThemeButtons(),updateTokenButtons();},'checkOwnership':userOwnsTheme,'checkTokenOwnership':userOwnsToken,'applyTheme':applyTheme,'purchaseTheme':purchaseTheme,'purchaseToken':purchaseToken},console['log']('üè™\x20Redeem\x20store\x20loaded');