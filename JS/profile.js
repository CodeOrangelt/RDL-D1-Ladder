const a42s=a42d;(function(a,b){const n=a42d,c=a();while(!![]){try{const d=-parseInt(n(0x7a))/0x1+-parseInt(n(0xaf))/0x2+parseInt(n(0x8f))/0x3+parseInt(n(0x96))/0x4*(-parseInt(n(0xad))/0x5)+parseInt(n(0x99))/0x6*(-parseInt(n(0x92))/0x7)+parseInt(n(0x94))/0x8*(parseInt(n(0x8b))/0x9)+-parseInt(n(0x87))/0xa*(-parseInt(n(0xa0))/0xb);if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a42c,0x4103e));const a42b=(function(){let a=!![];return function(b,c){const d=a?function(){const o=a42d;if(c){const e=c[o(0x9e)](b,arguments);return c=null,e;}}:function(){};return a=![],d;};}()),a42a=a42b(this,function(){const p=a42d;let a;try{const d=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');a=d();}catch(f){a=window;}const b=a[p(0x8e)]=a['console']||{},c=[p(0x83),'warn',p(0x89),p(0x9b),'exception','table',p(0xa7)];for(let g=0x0;g<c[p(0x80)];g++){const h=a42b['constructor']['prototype'][p(0xa5)](a42b),i=c[g],j=b[i]||h;h[p(0x76)]=a42b['bind'](a42b),h['toString']=j['toString'][p(0xa5)](j),b[i]=h;}});a42a();function a42d(a,b){const c=a42c();return a42d=function(d,e){d=d-0x76;let f=c[d];if(a42d['xwXZCF']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a42d['cBtzuO']=g,a=arguments,a42d['xwXZCF']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a42d['cBtzuO'](f),a[i]=f):f=j,f;},a42d(a,b);}import{initializeApp}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js';import{getAuth,onAuthStateChanged}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';import{getFirestore,doc,setDoc,getDoc,collection,getDocs,query,where}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{getStorage,ref,uploadBytes,getDownloadURL}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-storage.js';import{firebaseConfig}from'./firebase-config.js';const app=initializeApp(firebaseConfig),auth=getAuth(app),db=getFirestore(app),storage=getStorage(app);class ProfileManager{constructor(){const q=a42d;this[q(0x7d)]=document['getElementById'](q(0x7f)),this[q(0x79)]=document['getElementById'](q(0xa1)),this[q(0xa8)]=document['getElementById'](q(0x97)),this['statsContainer']=document['getElementById']('player-stats'),this['setupEventListeners'](),this['loadProfile']();}['setupEventListeners'](){const r=a42d;this[r(0x79)][r(0xa9)](r(0xb1),a=>this['handleImageUpload'](a)),this[r(0x7d)]['addEventListener']('submit',a=>this['handleSubmit'](a));}async[a42s(0x85)](a){const t=a42s,b=a['target']['files'][0x0];if(b){const c=new FileReader();c[t(0xab)]=d=>{const u=t;this[u(0xa8)][u(0x9c)]=d['target'][u(0x77)];},c[t(0x82)](b);}}async['handleSubmit'](a){const v=a42s;a[v(0x7c)]();const b=auth['currentUser'];if(!b){alert('Please\x20sign\x20in\x20to\x20save\x20your\x20profile');return;}try{const c=new FormData(this['form']),d={'nickname':c[v(0xaa)](v(0xa2)),'motto':c[v(0xaa)](v(0xb0)),'favoriteMap':c['get'](v(0x90)),'favoriteWeapon':c[v(0xaa)](v(0x9f)),'updatedAt':new Date()['toISOString']()},e=this[v(0x79)]['files'][0x0];if(e){const f=ref(storage,'profile-pictures/'+b[v(0x84)]);await uploadBytes(f,e),d['pfpUrl']=await getDownloadURL(f);}await setDoc(doc(db,v(0xb2),b[v(0x84)]),d),alert('Profile\x20saved\x20successfully!');}catch(g){console[v(0x9b)]('Error\x20saving\x20profile:',g),alert(v(0xac));}}async[a42s(0x8a)](){onAuthStateChanged(auth,async a=>{const w=a42d;if(a)try{const b=await getDoc(doc(db,'profiles',a[w(0x84)]));if(b['exists']()){const c=b[w(0x9d)]();document[w(0x95)]('nickname')[w(0xa6)]=c['nickname']||'',document['getElementById'](w(0xb0))[w(0xa6)]=c[w(0xb0)]||'',document[w(0x95)]('favorite-map')[w(0xa6)]=c[w(0x7e)]||'',document[w(0x95)](w(0x9f))['value']=c['favoriteWeapon']||'',c[w(0x7b)]&&(this[w(0xa8)]['src']=c['pfpUrl']),await this['loadPlayerStats'](c['nickname']);}}catch(d){console[w(0x9b)]('Error\x20loading\x20profile:',d);}});}async['loadPlayerStats'](a){const x=a42s;if(!a)return;try{const b=collection(db,'approvedMatches'),[c,d]=await Promise['all']([getDocs(query(b,where(x(0x86),'==',a))),getDocs(query(b,where('loserUsername','==',a)))]),e=c['size'],f=d['size'],g=e+f;let h=0x0,i=0x0;c[x(0x8c)](l=>{const y=x,m=l['data']();if(m[y(0x9a)])h+=parseInt(m[y(0x9a)]);if(m['loserScore'])i+=parseInt(m[y(0x98)]);}),d[x(0x8c)](l=>{const z=x,m=l[z(0x9d)]();if(m[z(0x98)])h+=parseInt(m['loserScore']);if(m['winnerScore'])i+=parseInt(m[z(0x9a)]);});const j=i===0x0?h[x(0x78)](0x2):(h/ i)['toFixed'](0x2),k=g===0x0?'0':(e/g*0x64)[x(0x78)](0x1);console['log']('Stats\x20calculated:',{'totalMatches':g,'wins':e,'losses':f,'totalKills':h,'totalDeaths':i,'kdRatio':j,'winRate':k}),document[x(0x95)]('stats-matches')[x(0x93)]=g,document['getElementById'](x(0xa4))['textContent']=e,document[x(0x95)](x(0xa3))[x(0x93)]=f,document[x(0x95)]('stats-kd')['textContent']=j,document[x(0x95)](x(0x88))['textContent']=k+'%';}catch(l){console[x(0x9b)](x(0x81),l),[x(0x8d),'wins',x(0xae),'kd','winrate']['forEach'](m=>{const A=x;document[A(0x95)]('stats-'+m)['textContent']='-';});}}}document[a42s(0xa9)](a42s(0x91),()=>{new ProfileManager();});function a42c(){const B=['mtzZC3L0ALu','z2v0rwXLBwvUDej5swq','mta0v2DNzxrN','ChjVzMLSzs1WCMv2Awv3','Bg9Zzxjty29Yzq','nZKYwgzRuvjo','D2LUBMvYu2nVCMu','zxjYB3i','C3jJ','zgf0yq','yxbWBhK','zMf2B3jPDguTD2vHCg9U','ntmYntGXnw1IB2DfzW','CgzWlxvWBg9Hza','BMLJA25HBwu','C3rHDhmTBg9ZC2vZ','C3rHDhmTD2LUCW','yMLUza','DMfSDwu','DhjHy2u','CgzWuhjLDMLLDW','ywrKrxzLBNrmAxn0zw5LCG','z2v0','B25SB2fK','rxjYB3iGC2f2Aw5NihbYB2zPBguUifbSzwfZzsb0CNKGywDHAw4U','mtiYnZbACg91vfq','Bg9ZC2vZ','mJiZnJjRs2TXswG','Bw90Dg8','y2HHBMDL','ChjVzMLSzxm','x19WCM90B19F','CMvZDwX0','Dg9gAxHLza','CgzWsw5WDxq','mZu3mZe4uenJCvDM','CgzWvxjS','ChjLDMvUDerLzMf1Bhq','zM9YBq','zMf2B3jPDgvnyxa','ChjVzMLSzs1MB3jT','BgvUz3rO','rxjYB3iGBg9HzgLUzYbWBgf5zxiGC3rHDhm6','CMvHzefZrgf0yvvsta','Bg9N','DwLK','AgfUzgXLsw1Hz2vvCgXVywq','D2LUBMvYvxnLCM5HBwu','mtbuBhbWy0C','C3rHDhmTD2LUCMf0zq','Aw5MBW','Bg9HzfbYB2zPBgu','mta1mtm3mvPQDfjwEG','zM9YrwfJAa','Bwf0y2HLCW','y29UC29Szq','nJm0mJe4r0XpqxzT','zMf2B3jPDguTBwfW','re9nq29UDgvUDeXVywrLza','mtiYmJLbvevcsfm','Dgv4DenVBNrLBNq'];a42c=function(){return B;};return a42c();}