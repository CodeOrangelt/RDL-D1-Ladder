const a38_0x374ac7=(function(){let _0x3275dc=!![];return function(_0x6681f8,_0x3f4c04){const _0x1291d7=_0x3275dc?function(){const _0x1350b0=a38_0x5fe4;if(_0x3f4c04){const _0x3b75c4=_0x3f4c04[_0x1350b0(0x197)](_0x6681f8,arguments);return _0x3f4c04=null,_0x3b75c4;}}:function(){};return _0x3275dc=![],_0x1291d7;};}()),a38_0x3148a0=a38_0x374ac7(this,function(){const _0x42216d=a38_0x5fe4,_0x45ffc2=function(){let _0x344346;try{_0x344346=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x5d9468){_0x344346=window;}return _0x344346;},_0x3b1565=_0x45ffc2(),_0x44f730=_0x3b1565[_0x42216d(0x19f)]=_0x3b1565['console']||{},_0x5c95b7=['log','warn','info','error','exception',_0x42216d(0x1a8),'trace'];for(let _0x18f939=0x0;_0x18f939<_0x5c95b7['length'];_0x18f939++){const _0x27233f=a38_0x374ac7[_0x42216d(0x1a7)][_0x42216d(0x18c)]['bind'](a38_0x374ac7),_0x4f3a6b=_0x5c95b7[_0x18f939],_0x569de4=_0x44f730[_0x4f3a6b]||_0x27233f;_0x27233f[_0x42216d(0x18d)]=a38_0x374ac7['bind'](a38_0x374ac7),_0x27233f[_0x42216d(0x192)]=_0x569de4['toString']['bind'](_0x569de4),_0x44f730[_0x4f3a6b]=_0x27233f;}});function a38_0x5fe4(_0x3790a9,_0x2638ba){const _0x3148a0=a38_0xd1dd();return a38_0x5fe4=function(_0x374ac7,_0x3316d8){_0x374ac7=_0x374ac7-0x189;let _0xd1dd79=_0x3148a0[_0x374ac7];return _0xd1dd79;},a38_0x5fe4(_0x3790a9,_0x2638ba);}a38_0x3148a0();import{getEloHistory,resetPagination}from'./elo-history.js';let currentPage=0x1,allMatches=[];const matchesPerPage=0xa;async function displayEloHistory(){const _0x58a57b=a38_0x5fe4,_0x12eba4=document['querySelector'](_0x58a57b(0x1a3)),_0x3755c9=document['getElementById']('pagination');try{const {entries:_0x1bc6c0,hasMore:_0x94aa0c}=await getEloHistory();if(_0x1bc6c0['length']===0x0){_0x12eba4['innerHTML']='<tr><td\x20colspan=\x226\x22>No\x20ELO\x20history\x20available</td></tr>';return;}allMatches=_0x1bc6c0,_0x12eba4['innerHTML']=_0x1bc6c0['map'](_0x5d904f=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x5d904f[_0x58a57b(0x1a5)]?new Date(_0x5d904f['timestamp']['toDate']())[_0x58a57b(0x195)]():'N/A')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x5d904f[_0x58a57b(0x19c)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x5d904f['previousElo']+_0x58a57b(0x193)+_0x5d904f['newElo']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x5d904f[_0x58a57b(0x18b)]>0x0?'+'+_0x5d904f['change']:_0x5d904f['change'])+_0x58a57b(0x193)+_0x5d904f['opponent']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x5d904f[_0x58a57b(0x19d)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''),createPaginationControls();}catch(_0x3dd8ca){console['error']('Error\x20displaying\x20ELO\x20history:',_0x3dd8ca),_0x12eba4[_0x58a57b(0x190)]='<tr><td\x20colspan=\x226\x22>Error\x20loading\x20ELO\x20history</td></tr>';}}function createPaginationControls(){const _0x40f001=a38_0x5fe4,_0x3de9d8=Math['ceil'](allMatches['length']/matchesPerPage),_0x2c332c=document[_0x40f001(0x189)](_0x40f001(0x1a6));_0x2c332c['className']='pagination-wrapper',_0x2c332c['innerHTML']=_0x40f001(0x199)+(currentPage===0x1?_0x40f001(0x198):'')+'>Previous</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-navigation\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>Page\x20'+currentPage+'\x20of\x20'+_0x3de9d8+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-search\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22pageInput\x22\x20min=\x221\x22\x20max=\x22'+_0x3de9d8+'\x22\x20value=\x22'+currentPage+_0x40f001(0x194)+(currentPage===_0x3de9d8?'disabled':'')+_0x40f001(0x1a4);const _0x519b7e=document['querySelector']('#elo-history');_0x519b7e[_0x40f001(0x1a0)][_0x40f001(0x196)](_0x2c332c,_0x519b7e[_0x40f001(0x19b)]),document['getElementById']('prevPage')['addEventListener']('click',()=>{if(currentPage>0x1)displayMatchesPage(currentPage-0x1);}),document['getElementById']('nextPage')['addEventListener']('click',()=>{if(currentPage<_0x3de9d8)displayMatchesPage(currentPage+0x1);}),document['getElementById'](_0x40f001(0x18e))['addEventListener']('click',()=>{const _0x3aa2eb=_0x40f001,_0x4dbd5e=document['getElementById']('pageInput'),_0x3178e1=parseInt(_0x4dbd5e[_0x3aa2eb(0x191)]);_0x3178e1>=0x1&&_0x3178e1<=_0x3de9d8&&displayMatchesPage(_0x3178e1);}),document['getElementById']('pageInput')['addEventListener'](_0x40f001(0x1a2),_0x439a59=>{const _0x1a8d88=_0x40f001;if(_0x439a59[_0x1a8d88(0x19a)]==='Enter'){const _0x566494=parseInt(_0x439a59['target'][_0x1a8d88(0x191)]);_0x566494>=0x1&&_0x566494<=_0x3de9d8&&displayMatchesPage(_0x566494);}});}async function displayMatchesPage(_0x47dee7){const _0x128cf6=a38_0x5fe4;currentPage=_0x47dee7;const _0x4b8eac=(currentPage-0x1)*matchesPerPage,_0x164e42=_0x4b8eac+matchesPerPage,_0x5d8e3c=allMatches[_0x128cf6(0x18a)](_0x4b8eac,_0x164e42),_0x3c8cc7=document['querySelector']('#elo-history\x20tbody');_0x3c8cc7[_0x128cf6(0x190)]=_0x5d8e3c[_0x128cf6(0x19e)](_0x23fcaa=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x23fcaa[_0x128cf6(0x1a5)]?new Date(_0x23fcaa[_0x128cf6(0x1a5)][_0x128cf6(0x1a1)]())['toLocaleString']():_0x128cf6(0x18f))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x23fcaa['player']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x23fcaa['previousElo']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x23fcaa['newElo']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x23fcaa['change']>0x0?'+'+_0x23fcaa['change']:_0x23fcaa['change'])+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x23fcaa['opponent']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x23fcaa['matchResult']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20')['join'](''),createPaginationControls();}function a38_0xd1dd(){const _0x31f170=['createElement','slice','change','prototype','__proto__','goToPage','N/A','innerHTML','value','toString','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goToPage\x22>Go</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22nextPage\x22\x20','toLocaleString','insertBefore','apply','disabled','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pagination-controls\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22prevPage\x22\x20','key','nextSibling','player','matchResult','map','console','parentNode','toDate','keypress','#elo-history\x20tbody','>Next</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','timestamp','div','constructor','table'];a38_0xd1dd=function(){return _0x31f170;};return a38_0xd1dd();}document['addEventListener']('DOMContentLoaded',displayEloHistory);