const a42_0xfb9b63=a42_0x56a6;(function(_0x21ccd9,_0x4774e9){const _0x58dbed=a42_0x56a6,_0x2a8771=_0x21ccd9();while(!![]){try{const _0x499242=parseInt(_0x58dbed(0x14c))/0x1+parseInt(_0x58dbed(0x10b))/0x2+parseInt(_0x58dbed(0x13f))/0x3*(parseInt(_0x58dbed(0x13d))/0x4)+parseInt(_0x58dbed(0x129))/0x5*(-parseInt(_0x58dbed(0x15b))/0x6)+-parseInt(_0x58dbed(0x131))/0x7*(parseInt(_0x58dbed(0x120))/0x8)+-parseInt(_0x58dbed(0x14d))/0x9*(-parseInt(_0x58dbed(0x15a))/0xa)+-parseInt(_0x58dbed(0x13b))/0xb;if(_0x499242===_0x4774e9)break;else _0x2a8771['push'](_0x2a8771['shift']());}catch(_0x276884){_0x2a8771['push'](_0x2a8771['shift']());}}}(a42_0xf42d,0x1b535));const a42_0x3d87c8=(function(){let _0x13d25b=!![];return function(_0x1ff7fd,_0x2dc3a2){const _0x7c4299=_0x13d25b?function(){const _0x8b0d89=a42_0x56a6;if(_0x2dc3a2){const _0x4117de=_0x2dc3a2[_0x8b0d89(0x125)](_0x1ff7fd,arguments);return _0x2dc3a2=null,_0x4117de;}}:function(){};return _0x13d25b=![],_0x7c4299;};}()),a42_0xa42253=a42_0x3d87c8(this,function(){const _0x382c00=a42_0x56a6;return a42_0xa42253['toString']()[_0x382c00(0x11e)](_0x382c00(0x126))[_0x382c00(0x156)]()[_0x382c00(0x162)](a42_0xa42253)[_0x382c00(0x11e)]('(((.+)+)+)+$');});a42_0xa42253();const a42_0x25d9ac=(function(){let _0x39676a=!![];return function(_0x4a7237,_0x3d65c3){const _0x1fd921=_0x39676a?function(){if(_0x3d65c3){const _0x4da91f=_0x3d65c3['apply'](_0x4a7237,arguments);return _0x3d65c3=null,_0x4da91f;}}:function(){};return _0x39676a=![],_0x1fd921;};}()),a42_0x219d72=a42_0x25d9ac(this,function(){const _0x4bc93d=a42_0x56a6,_0x341eda=function(){const _0x226463=a42_0x56a6;let _0x37a771;try{_0x37a771=Function(_0x226463(0x154)+_0x226463(0x15e)+');')();}catch(_0x450eda){_0x37a771=window;}return _0x37a771;},_0x10803e=_0x341eda(),_0x2ee094=_0x10803e[_0x4bc93d(0x117)]=_0x10803e[_0x4bc93d(0x117)]||{},_0x316c9d=['log',_0x4bc93d(0x147),_0x4bc93d(0x15d),_0x4bc93d(0x151),_0x4bc93d(0x13a),_0x4bc93d(0x133),_0x4bc93d(0x137)];for(let _0xdd7b31=0x0;_0xdd7b31<_0x316c9d['length'];_0xdd7b31++){const _0x2a0725=a42_0x25d9ac[_0x4bc93d(0x162)][_0x4bc93d(0x13c)][_0x4bc93d(0x153)](a42_0x25d9ac),_0x3986a3=_0x316c9d[_0xdd7b31],_0xd58061=_0x2ee094[_0x3986a3]||_0x2a0725;_0x2a0725[_0x4bc93d(0x142)]=a42_0x25d9ac[_0x4bc93d(0x153)](a42_0x25d9ac),_0x2a0725[_0x4bc93d(0x156)]=_0xd58061[_0x4bc93d(0x156)][_0x4bc93d(0x153)](_0xd58061),_0x2ee094[_0x3986a3]=_0x2a0725;}});a42_0x219d72();import{initializeApp}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js';function a42_0x56a6(_0x43ff6a,_0x4a14f2){const _0x5da2c0=a42_0xf42d();return a42_0x56a6=function(_0x219d72,_0x25d9ac){_0x219d72=_0x219d72-0x10b;let _0x327e56=_0x5da2c0[_0x219d72];return _0x327e56;},a42_0x56a6(_0x43ff6a,_0x4a14f2);}function a42_0xf42d(){const _0x2538d5=['data','search','uid','24mOoKhk','loserScore','submit','all','size','apply','(((.+)+)+)+$','favorite-weapon','forEach','85APqpxX','winnerScore','addEventListener','stats-wins','Profile\x20saved\x20successfully!','value','pfpPreview','toFixed','108976ihBOBt','profile-form','table','winrate','Error\x20loading\x20profile:','form','trace','handleSubmit','currentUser','exception','3854950JRMzmR','prototype','444NcmhdA','files','4632lXNilH','profiles','src','__proto__','Stats\x20calculated:','handleImageUpload','exists','Error\x20loading\x20player\x20stats:','warn','onload','player-stats','Error\x20saving\x20profile.\x20Please\x20try\x20again.','winnerUsername','145136vDeNQv','1539EfMcfk','readAsDataURL','preventDefault','stats-matches','error','setupEventListeners','bind','return\x20(function()\x20','favoriteMap','toString','Error\x20saving\x20profile:','Please\x20sign\x20in\x20to\x20save\x20your\x20profile','textContent','12150MxgBna','26562TlTKTZ','result','info','{}.constructor(\x22return\x20this\x22)(\x20)','pfpInput','pfpUrl','log','constructor','120106tDbeRK','nickname','matches','change','loadPlayerStats','profile-pictures/','profile-preview','losses','motto','stats-kd','favoriteWeapon','favorite-map','console','loadProfile','loserUsername','stats-','get','getElementById'];a42_0xf42d=function(){return _0x2538d5;};return a42_0xf42d();}import{getAuth,onAuthStateChanged}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';import{getFirestore,doc,setDoc,getDoc,collection,getDocs,query,where}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{getStorage,ref,uploadBytes,getDownloadURL}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-storage.js';import{firebaseConfig}from'./firebase-config.js';const app=initializeApp(firebaseConfig),auth=getAuth(app),db=getFirestore(app),storage=getStorage(app);class ProfileManager{constructor(){const _0x34d396=a42_0x56a6;this[_0x34d396(0x136)]=document['getElementById'](_0x34d396(0x132)),this[_0x34d396(0x15f)]=document['getElementById']('pfp-upload'),this[_0x34d396(0x12f)]=document[_0x34d396(0x11c)](_0x34d396(0x111)),this['statsContainer']=document[_0x34d396(0x11c)](_0x34d396(0x149)),this['setupEventListeners'](),this[_0x34d396(0x118)]();}[a42_0xfb9b63(0x152)](){const _0x37086b=a42_0xfb9b63;this[_0x37086b(0x15f)][_0x37086b(0x12b)](_0x37086b(0x10e),_0x5a4801=>this[_0x37086b(0x144)](_0x5a4801)),this[_0x37086b(0x136)]['addEventListener'](_0x37086b(0x122),_0x33ae6e=>this[_0x37086b(0x138)](_0x33ae6e));}async['handleImageUpload'](_0x5ab959){const _0x49dcdd=a42_0xfb9b63,_0x2ad716=_0x5ab959['target'][_0x49dcdd(0x13e)][0x0];if(_0x2ad716){const _0x5deed8=new FileReader();_0x5deed8[_0x49dcdd(0x148)]=_0x226253=>{const _0x2ceca1=_0x49dcdd;this[_0x2ceca1(0x12f)]['src']=_0x226253['target'][_0x2ceca1(0x15c)];},_0x5deed8[_0x49dcdd(0x14e)](_0x2ad716);}}async[a42_0xfb9b63(0x138)](_0x837cc2){const _0x17848c=a42_0xfb9b63;_0x837cc2[_0x17848c(0x14f)]();const _0x1f248b=auth[_0x17848c(0x139)];if(!_0x1f248b){alert(_0x17848c(0x158));return;}try{const _0x113781=new FormData(this[_0x17848c(0x136)]),_0x231e10={'nickname':_0x113781['get'](_0x17848c(0x10c)),'motto':_0x113781['get'](_0x17848c(0x113)),'favoriteMap':_0x113781['get'](_0x17848c(0x116)),'favoriteWeapon':_0x113781[_0x17848c(0x11b)]('favorite-weapon'),'updatedAt':new Date()['toISOString']()},_0x289e41=this[_0x17848c(0x15f)]['files'][0x0];if(_0x289e41){const _0x339039=ref(storage,_0x17848c(0x110)+_0x1f248b[_0x17848c(0x11f)]);await uploadBytes(_0x339039,_0x289e41),_0x231e10[_0x17848c(0x160)]=await getDownloadURL(_0x339039);}await setDoc(doc(db,_0x17848c(0x140),_0x1f248b[_0x17848c(0x11f)]),_0x231e10),alert(_0x17848c(0x12d));}catch(_0x53f640){console[_0x17848c(0x151)](_0x17848c(0x157),_0x53f640),alert(_0x17848c(0x14a));}}async[a42_0xfb9b63(0x118)](){onAuthStateChanged(auth,async _0x1bd625=>{const _0x59905a=a42_0x56a6;if(_0x1bd625)try{const _0x2216ec=await getDoc(doc(db,_0x59905a(0x140),_0x1bd625[_0x59905a(0x11f)]));if(_0x2216ec[_0x59905a(0x145)]()){const _0x469ce5=_0x2216ec['data']();document[_0x59905a(0x11c)](_0x59905a(0x10c))[_0x59905a(0x12e)]=_0x469ce5[_0x59905a(0x10c)]||'',document[_0x59905a(0x11c)](_0x59905a(0x113))['value']=_0x469ce5[_0x59905a(0x113)]||'',document[_0x59905a(0x11c)]('favorite-map')['value']=_0x469ce5[_0x59905a(0x155)]||'',document['getElementById'](_0x59905a(0x127))[_0x59905a(0x12e)]=_0x469ce5[_0x59905a(0x115)]||'',_0x469ce5[_0x59905a(0x160)]&&(this[_0x59905a(0x12f)][_0x59905a(0x141)]=_0x469ce5[_0x59905a(0x160)]),await this[_0x59905a(0x10f)](_0x469ce5['nickname']);}}catch(_0x3be6a7){console['error'](_0x59905a(0x135),_0x3be6a7);}});}async['loadPlayerStats'](_0x3a3b4c){const _0x16d989=a42_0xfb9b63;if(!_0x3a3b4c)return;try{const _0x3d6e86=collection(db,'approvedMatches'),[_0x5a9090,_0x2d7c8e]=await Promise[_0x16d989(0x123)]([getDocs(query(_0x3d6e86,where(_0x16d989(0x14b),'==',_0x3a3b4c))),getDocs(query(_0x3d6e86,where(_0x16d989(0x119),'==',_0x3a3b4c)))]),_0xcc8a65=_0x5a9090['size'],_0xf994d5=_0x2d7c8e[_0x16d989(0x124)],_0x217701=_0xcc8a65+_0xf994d5;let _0x53f4bf=0x0,_0x34314f=0x0;_0x5a9090[_0x16d989(0x128)](_0x171e12=>{const _0xb6e833=_0x16d989,_0x80c491=_0x171e12[_0xb6e833(0x11d)]();if(_0x80c491[_0xb6e833(0x12a)])_0x53f4bf+=parseInt(_0x80c491[_0xb6e833(0x12a)]);if(_0x80c491[_0xb6e833(0x121)])_0x34314f+=parseInt(_0x80c491['loserScore']);}),_0x2d7c8e[_0x16d989(0x128)](_0x3adcd3=>{const _0x2987f6=_0x16d989,_0x630491=_0x3adcd3['data']();if(_0x630491[_0x2987f6(0x121)])_0x53f4bf+=parseInt(_0x630491['loserScore']);if(_0x630491[_0x2987f6(0x12a)])_0x34314f+=parseInt(_0x630491[_0x2987f6(0x12a)]);});const _0x4583c1=_0x34314f===0x0?_0x53f4bf[_0x16d989(0x130)](0x2):(_0x53f4bf/_0x34314f)[_0x16d989(0x130)](0x2),_0x5aec94=_0x217701===0x0?'0':(_0xcc8a65/_0x217701*0x64)[_0x16d989(0x130)](0x1);console[_0x16d989(0x161)](_0x16d989(0x143),{'totalMatches':_0x217701,'wins':_0xcc8a65,'losses':_0xf994d5,'totalKills':_0x53f4bf,'totalDeaths':_0x34314f,'kdRatio':_0x4583c1,'winRate':_0x5aec94}),document['getElementById'](_0x16d989(0x150))[_0x16d989(0x159)]=_0x217701,document[_0x16d989(0x11c)](_0x16d989(0x12c))['textContent']=_0xcc8a65,document['getElementById']('stats-losses')[_0x16d989(0x159)]=_0xf994d5,document[_0x16d989(0x11c)](_0x16d989(0x114))['textContent']=_0x4583c1,document[_0x16d989(0x11c)]('stats-winrate')[_0x16d989(0x159)]=_0x5aec94+'%';}catch(_0xeae371){console['error'](_0x16d989(0x146),_0xeae371),[_0x16d989(0x10d),'wins',_0x16d989(0x112),'kd',_0x16d989(0x134)]['forEach'](_0x56ba4a=>{const _0x1f3c43=_0x16d989;document['getElementById'](_0x1f3c43(0x11a)+_0x56ba4a)[_0x1f3c43(0x159)]='-';});}}}document[a42_0xfb9b63(0x12b)]('DOMContentLoaded',()=>{new ProfileManager();});