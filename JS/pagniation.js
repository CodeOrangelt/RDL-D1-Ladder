function a40_0x5183(_0xa33495,_0x1d1657){const _0x56f3b5=a40_0x2fea();return a40_0x5183=function(_0x3cc93d,_0x4784fb){_0x3cc93d=_0x3cc93d-0x1ab;let _0x2fea52=_0x56f3b5[_0x3cc93d];return _0x2fea52;},a40_0x5183(_0xa33495,_0x1d1657);}const a40_0x3795b6=a40_0x5183,a40_0x3cc93d=(function(){let _0x1c6f67=!![];return function(_0x6830e,_0x16023e){const _0x4cbfa8=_0x1c6f67?function(){if(_0x16023e){const _0xe090b9=_0x16023e['apply'](_0x6830e,arguments);return _0x16023e=null,_0xe090b9;}}:function(){};return _0x1c6f67=![],_0x4cbfa8;};}()),a40_0x56f3b5=a40_0x3cc93d(this,function(){const _0x65da9b=a40_0x5183,_0x5b7c4a=function(){let _0x134111;try{_0x134111=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x970bb2){_0x134111=window;}return _0x134111;},_0x86f6dd=_0x5b7c4a(),_0x4d23cd=_0x86f6dd[_0x65da9b(0x1bf)]=_0x86f6dd['console']||{},_0x3669c3=['log','warn','info','error','exception','table',_0x65da9b(0x1b8)];for(let _0x586992=0x0;_0x586992<_0x3669c3['length'];_0x586992++){const _0x172276=a40_0x3cc93d[_0x65da9b(0x1c5)]['prototype']['bind'](a40_0x3cc93d),_0x419b0a=_0x3669c3[_0x586992],_0x534372=_0x4d23cd[_0x419b0a]||_0x172276;_0x172276[_0x65da9b(0x1c6)]=a40_0x3cc93d['bind'](a40_0x3cc93d),_0x172276['toString']=_0x534372['toString']['bind'](_0x534372),_0x4d23cd[_0x419b0a]=_0x172276;}});a40_0x56f3b5();import{getEloHistory,resetPagination}from'./elo-history.js';function a40_0x2fea(){const _0x53a778=['keypress','querySelector','toLocaleString','player','parentNode','newElo','length','opponent','addEventListener','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goToPage\x22>Go</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22nextPage\x22\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','change','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','trace','toDate','join','slice','timestamp','>Previous</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-navigation\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>Page\x20','map','console','getElementById','pagination','click','innerHTML','error','constructor','__proto__'];a40_0x2fea=function(){return _0x53a778;};return a40_0x2fea();}let currentPage=0x1,allMatches=[];const matchesPerPage=0xa;async function displayEloHistory(){const _0x5b8896=a40_0x5183,_0x1fe84c=document[_0x5b8896(0x1ac)]('#elo-history\x20tbody'),_0x270e3d=document[_0x5b8896(0x1c0)](_0x5b8896(0x1c1));try{const {entries:_0x561e9b,hasMore:_0x363f4b}=await getEloHistory();if(_0x561e9b[_0x5b8896(0x1b1)]===0x0){_0x1fe84c[_0x5b8896(0x1c3)]='<tr><td\x20colspan=\x226\x22>No\x20ELO\x20history\x20available</td></tr>';return;}allMatches=_0x561e9b,_0x1fe84c['innerHTML']=_0x561e9b[_0x5b8896(0x1be)](_0x547efc=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x547efc[_0x5b8896(0x1bc)]?new Date(_0x547efc[_0x5b8896(0x1bc)]['toDate']())[_0x5b8896(0x1ad)]():'N/A')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x547efc[_0x5b8896(0x1ae)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x547efc['previousElo']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x547efc[_0x5b8896(0x1b0)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x547efc[_0x5b8896(0x1b6)]>0x0?'+'+_0x547efc['change']:_0x547efc['change'])+_0x5b8896(0x1b5)+_0x547efc[_0x5b8896(0x1b2)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x547efc['matchResult']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''),createPaginationControls();}catch(_0x873f53){console[_0x5b8896(0x1c4)]('Error\x20displaying\x20ELO\x20history:',_0x873f53),_0x1fe84c['innerHTML']='<tr><td\x20colspan=\x226\x22>Error\x20loading\x20ELO\x20history</td></tr>';}}function createPaginationControls(){const _0xcf492c=a40_0x5183,_0x6c853b=Math['ceil'](allMatches['length']/matchesPerPage),_0x131aa1=document['createElement']('div');_0x131aa1['className']='pagination-wrapper',_0x131aa1['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pagination-controls\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22prevPage\x22\x20'+(currentPage===0x1?'disabled':'')+_0xcf492c(0x1bd)+currentPage+'\x20of\x20'+_0x6c853b+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-search\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22pageInput\x22\x20min=\x221\x22\x20max=\x22'+_0x6c853b+'\x22\x20value=\x22'+currentPage+_0xcf492c(0x1b4)+(currentPage===_0x6c853b?'disabled':'')+'>Next</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x524d77=document['querySelector']('#elo-history');_0x524d77[_0xcf492c(0x1af)]['insertBefore'](_0x131aa1,_0x524d77['nextSibling']),document[_0xcf492c(0x1c0)]('prevPage')[_0xcf492c(0x1b3)]('click',()=>{if(currentPage>0x1)displayMatchesPage(currentPage-0x1);}),document['getElementById']('nextPage')['addEventListener'](_0xcf492c(0x1c2),()=>{if(currentPage<_0x6c853b)displayMatchesPage(currentPage+0x1);}),document['getElementById']('goToPage')['addEventListener'](_0xcf492c(0x1c2),()=>{const _0x4f96e1=document['getElementById']('pageInput'),_0x3e4e80=parseInt(_0x4f96e1['value']);_0x3e4e80>=0x1&&_0x3e4e80<=_0x6c853b&&displayMatchesPage(_0x3e4e80);}),document['getElementById']('pageInput')['addEventListener'](_0xcf492c(0x1ab),_0x52e1d5=>{if(_0x52e1d5['key']==='Enter'){const _0xfa869=parseInt(_0x52e1d5['target']['value']);_0xfa869>=0x1&&_0xfa869<=_0x6c853b&&displayMatchesPage(_0xfa869);}});}async function displayMatchesPage(_0x51a5b5){const _0xee9c7=a40_0x5183;currentPage=_0x51a5b5;const _0x538271=(currentPage-0x1)*matchesPerPage,_0x5a972b=_0x538271+matchesPerPage,_0x4ac5e2=allMatches[_0xee9c7(0x1bb)](_0x538271,_0x5a972b),_0x3e245c=document['querySelector']('#elo-history\x20tbody');_0x3e245c['innerHTML']=_0x4ac5e2['map'](_0x13dda0=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x13dda0['timestamp']?new Date(_0x13dda0['timestamp'][_0xee9c7(0x1b9)]())['toLocaleString']():'N/A')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x13dda0['player']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x13dda0['previousElo']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x13dda0['newElo']+_0xee9c7(0x1b7)+(_0x13dda0['change']>0x0?'+'+_0x13dda0['change']:_0x13dda0['change'])+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x13dda0['opponent']+_0xee9c7(0x1b7)+_0x13dda0['matchResult']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20')[_0xee9c7(0x1ba)](''),createPaginationControls();}document[a40_0x3795b6(0x1b3)]('DOMContentLoaded',displayEloHistory);