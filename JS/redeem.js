const a51_0x4e091b=a51_0x13d9,a51_0x25f03b=(function(){let _0x4dcaba=!![];return function(_0x592fe5,_0x2379e8){const _0x228881=_0x4dcaba?function(){const _0x105c7a=a51_0x13d9;if(_0x2379e8){const _0x1db97f=_0x2379e8[_0x105c7a(0x2bd)](_0x592fe5,arguments);return _0x2379e8=null,_0x1db97f;}}:function(){};return _0x4dcaba=![],_0x228881;};}()),a51_0x7d417f=a51_0x25f03b(this,function(){const _0x3d0d3b=a51_0x13d9;let _0xec61a9;try{const _0x1939b5=Function(_0x3d0d3b(0x2e1)+_0x3d0d3b(0x287)+');');_0xec61a9=_0x1939b5();}catch(_0x434aba){_0xec61a9=window;}const _0xaf8138=_0xec61a9[_0x3d0d3b(0x23c)]=_0xec61a9[_0x3d0d3b(0x23c)]||{},_0x55325d=[_0x3d0d3b(0x1e4),_0x3d0d3b(0x1d2),_0x3d0d3b(0x2db),_0x3d0d3b(0x2ce),_0x3d0d3b(0x21d),_0x3d0d3b(0x1eb),_0x3d0d3b(0x27e)];for(let _0x3912ec=0x0;_0x3912ec<_0x55325d[_0x3d0d3b(0x2c4)];_0x3912ec++){const _0x3b3ca0=a51_0x25f03b[_0x3d0d3b(0x1c4)][_0x3d0d3b(0x218)][_0x3d0d3b(0x242)](a51_0x25f03b),_0x537987=_0x55325d[_0x3912ec],_0x255657=_0xaf8138[_0x537987]||_0x3b3ca0;_0x3b3ca0[_0x3d0d3b(0x1bc)]=a51_0x25f03b[_0x3d0d3b(0x242)](a51_0x25f03b),_0x3b3ca0[_0x3d0d3b(0x1c5)]=_0x255657[_0x3d0d3b(0x1c5)][_0x3d0d3b(0x242)](_0x255657),_0xaf8138[_0x537987]=_0x3b3ca0;}});a51_0x7d417f();import{getAuth,onAuthStateChanged}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,updateDoc,collection,addDoc,serverTimestamp}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{clearTokenCache}from'./tokens.js';const auth=getAuth(),db=getFirestore(),THEMES={'default':{'price':0x0,'name':a51_0x4e091b(0x192),'description':a51_0x4e091b(0x1b8)},'contrast':{'price':0x0,'name':a51_0x4e091b(0x26c),'description':a51_0x4e091b(0x1de)},'purple':{'price':0x96,'name':a51_0x4e091b(0x18d),'description':a51_0x4e091b(0x24f)},'ocean':{'price':0x12c,'name':a51_0x4e091b(0x247),'description':a51_0x4e091b(0x230)},'cyberpunk':{'price':0x190,'name':a51_0x4e091b(0x261),'description':a51_0x4e091b(0x1c7)},'volcanic':{'price':0x1f4,'name':a51_0x4e091b(0x222),'description':a51_0x4e091b(0x2e0)},'gold':{'price':0x320,'name':a51_0x4e091b(0x241),'description':a51_0x4e091b(0x28c)},'emerald':{'price':0x3e8,'name':a51_0x4e091b(0x1bd),'description':a51_0x4e091b(0x277)},'cockpit':{'price':0x4b0,'name':a51_0x4e091b(0x209),'description':a51_0x4e091b(0x21c)},'christmas':{'price':0x0,'name':a51_0x4e091b(0x1e9),'description':a51_0x4e091b(0x262)}},TOKENS={'pwr01':{'price':0x64,'name':a51_0x4e091b(0x284),'description':a51_0x4e091b(0x27a),'image':a51_0x4e091b(0x2c9),'category':a51_0x4e091b(0x1a3)},'fan':{'price':0x96,'name':a51_0x4e091b(0x219),'description':a51_0x4e091b(0x22c),'image':a51_0x4e091b(0x257),'category':a51_0x4e091b(0x272)},'marker':{'price':0xfa,'name':a51_0x4e091b(0x1c3),'description':a51_0x4e091b(0x1d9),'image':a51_0x4e091b(0x1e0),'category':a51_0x4e091b(0x272)},'laser':{'price':0x12c,'name':a51_0x4e091b(0x275),'description':a51_0x4e091b(0x1f1),'image':a51_0x4e091b(0x2cb),'category':a51_0x4e091b(0x1e7)},'pbomb':{'price':0x15e,'name':a51_0x4e091b(0x29b),'description':a51_0x4e091b(0x1e1),'image':a51_0x4e091b(0x19e),'category':a51_0x4e091b(0x1e7)},'fusion':{'price':0x15e,'name':a51_0x4e091b(0x2df),'description':a51_0x4e091b(0x202),'image':a51_0x4e091b(0x20d),'category':a51_0x4e091b(0x1e7)},'lock':{'price':0x1c2,'name':a51_0x4e091b(0x1f6),'description':a51_0x4e091b(0x1b6),'image':a51_0x4e091b(0x1df),'category':a51_0x4e091b(0x272)},'blob01':{'price':0x1f4,'name':a51_0x4e091b(0x19f),'description':a51_0x4e091b(0x1cc),'image':a51_0x4e091b(0x296),'category':a51_0x4e091b(0x233)},'plasma':{'price':0x1f4,'name':a51_0x4e091b(0x260),'description':a51_0x4e091b(0x1ba),'image':a51_0x4e091b(0x269),'category':a51_0x4e091b(0x1e7)},'cloak':{'price':0x1f4,'name':a51_0x4e091b(0x1e8),'description':a51_0x4e091b(0x1c1),'image':a51_0x4e091b(0x282),'category':a51_0x4e091b(0x1b2)},'pwr02':{'price':0x258,'name':a51_0x4e091b(0x24e),'description':a51_0x4e091b(0x208),'image':a51_0x4e091b(0x1a0),'category':a51_0x4e091b(0x1a3)},'mercury':{'price':0x258,'name':a51_0x4e091b(0x1ac),'description':a51_0x4e091b(0x1b3),'image':a51_0x4e091b(0x204),'category':a51_0x4e091b(0x1e7)},'plasmablobl':{'price':0x258,'name':a51_0x4e091b(0x1a4),'description':a51_0x4e091b(0x21f),'image':a51_0x4e091b(0x23f),'category':a51_0x4e091b(0x233)},'smissile':{'price':0x28a,'name':a51_0x4e091b(0x2ba),'description':a51_0x4e091b(0x18e),'image':a51_0x4e091b(0x1f3),'category':a51_0x4e091b(0x1e7)},'smartmine':{'price':0x2ee,'name':a51_0x4e091b(0x2b4),'description':a51_0x4e091b(0x197),'image':a51_0x4e091b(0x256),'category':a51_0x4e091b(0x1e7)},'mmissile':{'price':0x320,'name':a51_0x4e091b(0x253),'description':a51_0x4e091b(0x2cc),'image':a51_0x4e091b(0x1e2),'category':a51_0x4e091b(0x1e7)},'gauge18':{'price':0x320,'name':a51_0x4e091b(0x1f4),'description':a51_0x4e091b(0x2bc),'image':a51_0x4e091b(0x26d),'category':a51_0x4e091b(0x23d)},'extralife':{'price':0x320,'name':a51_0x4e091b(0x2d9),'description':a51_0x4e091b(0x1e6),'image':a51_0x4e091b(0x1ef),'category':a51_0x4e091b(0x1b2)},'hostage':{'price':0x3b6,'name':a51_0x4e091b(0x215),'description':a51_0x4e091b(0x29a),'image':a51_0x4e091b(0x1f7),'category':a51_0x4e091b(0x1b2)},'phoenix':{'price':0x3b6,'name':a51_0x4e091b(0x19b),'description':a51_0x4e091b(0x1ab),'image':a51_0x4e091b(0x224),'category':a51_0x4e091b(0x1e7)},'blob02':{'price':0x3e8,'name':a51_0x4e091b(0x1ae),'description':a51_0x4e091b(0x1f9),'image':a51_0x4e091b(0x2c1),'category':a51_0x4e091b(0x233)},'invuln':{'price':0x5dc,'name':a51_0x4e091b(0x1c0),'description':a51_0x4e091b(0x2a3),'image':a51_0x4e091b(0x2dd),'category':a51_0x4e091b(0x1a3)},'blob03':{'price':0x7d0,'name':a51_0x4e091b(0x193),'description':a51_0x4e091b(0x2c5),'image':a51_0x4e091b(0x29c),'category':a51_0x4e091b(0x233)},'reactor':{'price':0x7d0,'name':a51_0x4e091b(0x2d4),'description':a51_0x4e091b(0x250),'image':a51_0x4e091b(0x24a),'category':a51_0x4e091b(0x1b2)},'pyro':{'price':0xbb8,'name':a51_0x4e091b(0x2da),'description':a51_0x4e091b(0x259),'image':a51_0x4e091b(0x226),'category':a51_0x4e091b(0x1aa)},'architect':{'price':-0x1,'name':a51_0x4e091b(0x2a5),'description':a51_0x4e091b(0x1da),'image':a51_0x4e091b(0x25e),'category':a51_0x4e091b(0x1aa)}};let userData={'points':0x0,'inventory':[],'isAdmin':![]},storeContainer,pointsDisplay,authWarning;document[a51_0x4e091b(0x27f)](a51_0x4e091b(0x286),()=>{const _0x212ab7=a51_0x4e091b;storeContainer=document[_0x212ab7(0x214)](_0x212ab7(0x20a)),pointsDisplay=document[_0x212ab7(0x214)](_0x212ab7(0x238)),authWarning=document[_0x212ab7(0x214)](_0x212ab7(0x246)),initAuthListener(),buildStoreUI();});function initAuthListener(){onAuthStateChanged(auth,async _0x57287b=>{const _0x2bcb84=a51_0x13d9;if(_0x57287b){if(authWarning)authWarning[_0x2bcb84(0x1ee)][_0x2bcb84(0x26e)]=_0x2bcb84(0x2a2);if(storeContainer)storeContainer[_0x2bcb84(0x1ee)][_0x2bcb84(0x26e)]=_0x2bcb84(0x27c);await loadUserData(_0x57287b),updateThemeButtons(),updateTokenButtons();}else{if(authWarning)authWarning[_0x2bcb84(0x1ee)][_0x2bcb84(0x26e)]=_0x2bcb84(0x27c);if(storeContainer)storeContainer[_0x2bcb84(0x1ee)][_0x2bcb84(0x26e)]=_0x2bcb84(0x2a2);userData={'points':0x0,'inventory':[],'isAdmin':![]},window[_0x2bcb84(0x263)]=![];}});}async function loadUserData(_0x1b8c4c){const _0x1df893=a51_0x4e091b;try{const _0x297e9b=doc(db,_0x1df893(0x225),_0x1b8c4c[_0x1df893(0x297)]),_0x4274b1=await getDoc(_0x297e9b);if(_0x4274b1[_0x1df893(0x20c)]()){const _0x472847=_0x4274b1[_0x1df893(0x1cd)]();userData={'points':_0x472847[_0x1df893(0x23a)]||0x0,'inventory':_0x472847[_0x1df893(0x210)]||[],'isAdmin':_0x472847[_0x1df893(0x1a9)]||![],'equippedToken':_0x472847[_0x1df893(0x270)]||null},pointsDisplay&&(pointsDisplay[_0x1df893(0x1a8)]=userData[_0x1df893(0x23a)][_0x1df893(0x21b)]()),window[_0x1df893(0x263)]=userData[_0x1df893(0x1a9)],userData[_0x1df893(0x1a9)]&&window[_0x1df893(0x1a2)](new CustomEvent(_0x1df893(0x1b5),{'detail':{'isAdmin':!![]}}));}else await setDoc(_0x297e9b,{'points':0x0,'inventory':[],'equippedToken':null,'createdAt':serverTimestamp(),'username':_0x1b8c4c[_0x1df893(0x1ea)]||_0x1b8c4c[_0x1df893(0x20e)]?.[_0x1df893(0x2b5)]('@')[0x0]||_0x1df893(0x198)}),userData={'points':0x0,'inventory':[],'isAdmin':![],'equippedToken':null},pointsDisplay&&(pointsDisplay[_0x1df893(0x1a8)]='0'),window[_0x1df893(0x263)]=![];}catch(_0x388619){console[_0x1df893(0x2ce)](_0x1df893(0x2b1),_0x388619);}}function userOwnsTheme(_0xcb43f1){const _0x562de6=a51_0x4e091b,_0x42c7f1=userData[_0x562de6(0x210)][_0x562de6(0x23b)](_0x562de6(0x234)+_0xcb43f1);if(!_0x42c7f1)return![];if(isThemeExpired(_0xcb43f1))return![];return!![];}function isThemeExpired(_0x1e7408){const _0x5b8889=a51_0x4e091b,_0xc44e56={'christmas':new Date(_0x5b8889(0x1fe))};if(!_0xc44e56[_0x1e7408])return![];const _0x40a513=new Date();return _0x40a513>_0xc44e56[_0x1e7408];}function userOwnsToken(_0x376328){const _0x751c6e=a51_0x4e091b;return userData[_0x751c6e(0x210)][_0x751c6e(0x23b)](_0x751c6e(0x258)+_0x376328);}function userHasTokenEquipped(_0x31a003){const _0x5c7ad8=a51_0x4e091b;return userData[_0x5c7ad8(0x270)]===_0x31a003;}function getEquippedToken(){const _0x151a09=a51_0x4e091b;return userData[_0x151a09(0x270)]||null;}async function purchaseTheme(_0x5154f4){const _0x66c19c=a51_0x4e091b,_0x425da9=auth[_0x66c19c(0x2d6)];if(!_0x425da9)return showMessage(_0x66c19c(0x2b3),_0x66c19c(0x2ce)),![];const _0x97e260=THEMES[_0x5154f4];if(!_0x97e260)return console[_0x66c19c(0x2ce)](_0x66c19c(0x21a)+_0x5154f4+_0x66c19c(0x2af)),![];if(_0x97e260[_0x66c19c(0x227)]>0x0&&userData[_0x66c19c(0x23a)]<_0x97e260[_0x66c19c(0x227)])return showMessage(_0x66c19c(0x1b7)+(_0x97e260[_0x66c19c(0x227)]-userData[_0x66c19c(0x23a)])+_0x66c19c(0x249),_0x66c19c(0x2ce)),![];if(userOwnsTheme(_0x5154f4))return showMessage(_0x66c19c(0x223)+_0x97e260[_0x66c19c(0x1fc)]+_0x66c19c(0x28a),_0x66c19c(0x2db)),![];if(isThemeExpired(_0x5154f4))return showMessage(_0x66c19c(0x191)+_0x97e260[_0x66c19c(0x1fc)]+_0x66c19c(0x2d2),_0x66c19c(0x2ce)),![];try{return await processPurchase(_0x5154f4,_0x97e260,_0x66c19c(0x2b9));}catch(_0x69c22){return console[_0x66c19c(0x2ce)](_0x66c19c(0x2b8),_0x69c22),showMessage(_0x66c19c(0x289),_0x66c19c(0x2ce)),![];}}async function purchaseToken(_0xc120e8){const _0x3edaa1=a51_0x4e091b,_0x3d25c0=auth[_0x3edaa1(0x2d6)];if(!_0x3d25c0)return showMessage(_0x3edaa1(0x295),_0x3edaa1(0x2ce)),![];const _0x164590=TOKENS[_0xc120e8];if(!_0x164590)return console[_0x3edaa1(0x2ce)](_0x3edaa1(0x22b)+_0xc120e8+_0x3edaa1(0x2af)),![];if(userData[_0x3edaa1(0x23a)]<_0x164590[_0x3edaa1(0x227)])return showMessage(_0x3edaa1(0x1b7)+(_0x164590[_0x3edaa1(0x227)]-userData[_0x3edaa1(0x23a)])+_0x3edaa1(0x249),_0x3edaa1(0x2ce)),![];if(userOwnsToken(_0xc120e8))return showMessage(_0x3edaa1(0x223)+_0x164590[_0x3edaa1(0x1fc)]+_0x3edaa1(0x221),_0x3edaa1(0x2db)),![];try{return await processPurchase(_0xc120e8,_0x164590,_0x3edaa1(0x200));}catch(_0x4dbbbf){return console[_0x3edaa1(0x2ce)](_0x3edaa1(0x1ce),_0x4dbbbf),showMessage(_0x3edaa1(0x289),_0x3edaa1(0x2ce)),![];}}async function processPurchase(_0xca02c6,_0x1e3555,_0x2e2ed8){const _0x4e30c0=a51_0x4e091b,_0x302798=auth[_0x4e30c0(0x2d6)];try{const _0x5aaa4e=doc(db,_0x4e30c0(0x225),_0x302798[_0x4e30c0(0x297)]),_0x34dd9e=await getDoc(_0x5aaa4e);if(!_0x34dd9e[_0x4e30c0(0x20c)]())return showMessage(_0x4e30c0(0x1ed),_0x4e30c0(0x2ce)),![];const _0x42482e=_0x34dd9e[_0x4e30c0(0x1cd)](),_0x47c884=_0x42482e[_0x4e30c0(0x23a)]||0x0,_0x2a1371=_0x42482e[_0x4e30c0(0x210)]||[];if(_0x1e3555[_0x4e30c0(0x227)]>0x0&&_0x47c884<_0x1e3555[_0x4e30c0(0x227)])return showMessage(_0x4e30c0(0x25b),_0x4e30c0(0x2ce)),![];if(_0x2a1371[_0x4e30c0(0x23b)](_0x2e2ed8+'_'+_0xca02c6))return showMessage(_0x4e30c0(0x2a8)+_0x2e2ed8,_0x4e30c0(0x2db)),![];const _0x419daf=_0x47c884-_0x1e3555[_0x4e30c0(0x227)],_0x343f2c=[..._0x2a1371,_0x2e2ed8+'_'+_0xca02c6];await updateDoc(_0x5aaa4e,{'points':_0x419daf,'inventory':_0x343f2c,'lastPurchase':serverTimestamp()});if(_0x2e2ed8===_0x4e30c0(0x200))try{const _0x29d727=doc(db,_0x4e30c0(0x2bf),_0x302798[_0x4e30c0(0x297)]),_0x3c33d3=await getDoc(_0x29d727);let _0x1d7bf0=[];_0x3c33d3[_0x4e30c0(0x20c)]()&&(_0x1d7bf0=_0x3c33d3[_0x4e30c0(0x1cd)]()[_0x4e30c0(0x28d)]||[]);const _0x4cf8d6=new Date();_0x1d7bf0[_0x4e30c0(0x27b)]({'tokenId':_0xca02c6,'tokenName':_0x1e3555[_0x4e30c0(0x1fc)],'tokenImage':_0x1e3555[_0x4e30c0(0x196)],'category':_0x1e3555[_0x4e30c0(0x2d0)],'purchasedAt':_0x4cf8d6,'price':_0x1e3555[_0x4e30c0(0x227)],'equipped':![]}),await setDoc(_0x29d727,{'userId':_0x302798[_0x4e30c0(0x297)],'username':_0x42482e[_0x4e30c0(0x22a)]||_0x302798[_0x4e30c0(0x1ea)]||_0x4e30c0(0x1bb),'tokens':_0x1d7bf0,'lastUpdated':serverTimestamp()},{'merge':!![]}),typeof clearTokenCache===_0x4e30c0(0x290)&&clearTokenCache(_0x302798[_0x4e30c0(0x297)]);}catch(_0x2a9f7e){console[_0x4e30c0(0x1d2)](_0x4e30c0(0x2dc),_0x2a9f7e);if(_0x2a9f7e[_0x4e30c0(0x2b6)]===_0x4e30c0(0x288)){}else console[_0x4e30c0(0x2ce)](_0x4e30c0(0x231),_0x2a9f7e);}try{await addDoc(collection(db,_0x4e30c0(0x235)),{'userId':_0x302798[_0x4e30c0(0x297)],'userEmail':_0x302798[_0x4e30c0(0x20e)],'itemId':_0x2e2ed8+'_'+_0xca02c6,'itemTitle':_0x1e3555[_0x4e30c0(0x1fc)],'price':_0x1e3555[_0x4e30c0(0x227)],'type':_0x4e30c0(0x24d),'category':_0x2e2ed8,'timestamp':serverTimestamp()});}catch(_0x28e427){console[_0x4e30c0(0x1d2)](_0x4e30c0(0x229),_0x28e427);}return userData[_0x4e30c0(0x23a)]=_0x419daf,userData[_0x4e30c0(0x210)]=_0x343f2c,pointsDisplay&&(pointsDisplay[_0x4e30c0(0x1a8)]=userData[_0x4e30c0(0x23a)][_0x4e30c0(0x21b)]()),updateTokenButtons(),_0x2e2ed8===_0x4e30c0(0x2b9)&&updateThemeButtons(),showMessage(_0x4e30c0(0x1af)+_0x1e3555[_0x4e30c0(0x1fc)]+_0x4e30c0(0x1cb),_0x4e30c0(0x1d8)),!![];}catch(_0x2e4724){console[_0x4e30c0(0x2ce)](_0x4e30c0(0x28b),_0x2e4724);if(_0x2e4724[_0x4e30c0(0x2b6)]===_0x4e30c0(0x288))showMessage(_0x4e30c0(0x1fd),_0x4e30c0(0x2ce));else{if(_0x2e4724[_0x4e30c0(0x2b6)]===_0x4e30c0(0x2bb))showMessage(_0x4e30c0(0x201),_0x4e30c0(0x2ce));else _0x2e4724[_0x4e30c0(0x2b6)]===_0x4e30c0(0x213)?showMessage(_0x4e30c0(0x1fb),_0x4e30c0(0x2ce)):showMessage(_0x4e30c0(0x289),_0x4e30c0(0x2ce));}return![];}}async function equipToken(_0x2d192b){const _0x5afcde=a51_0x4e091b,_0x4e02ad=auth[_0x5afcde(0x2d6)];if(!_0x4e02ad)return showMessage(_0x5afcde(0x252),_0x5afcde(0x2ce)),![];const _0x2d7b36=TOKENS[_0x2d192b];if(!_0x2d7b36)return console[_0x5afcde(0x2ce)](_0x5afcde(0x22b)+_0x2d192b+_0x5afcde(0x2af)),![];if(!userOwnsToken(_0x2d192b))return showMessage(_0x5afcde(0x203),_0x5afcde(0x2ce)),![];try{const _0x2c054a=doc(db,_0x5afcde(0x225),_0x4e02ad[_0x5afcde(0x297)]);await updateDoc(_0x2c054a,{'equippedToken':_0x2d192b,'lastTokenEquip':serverTimestamp()});try{const _0xbe21cf=doc(db,_0x5afcde(0x2bf),_0x4e02ad[_0x5afcde(0x297)]),_0x492a26=await getDoc(_0xbe21cf);if(_0x492a26[_0x5afcde(0x20c)]()){const _0x827ab=_0x492a26[_0x5afcde(0x1cd)](),_0x1d782a=_0x827ab[_0x5afcde(0x28d)]||[],_0x2e8bd2=_0x1d782a[_0x5afcde(0x1dd)](_0x5032ac=>({..._0x5032ac,'equipped':_0x5032ac[_0x5afcde(0x1d0)]===_0x2d192b}));await updateDoc(_0xbe21cf,{'tokens':_0x2e8bd2,'equippedToken':_0x2d192b,'lastUpdated':serverTimestamp()});}}catch(_0xb6b72e){console[_0x5afcde(0x1d2)](_0x5afcde(0x266),_0xb6b72e);}return userData[_0x5afcde(0x270)]=_0x2d192b,typeof clearTokenCache===_0x5afcde(0x290)&&(clearTokenCache(_0x4e02ad[_0x5afcde(0x297)]),clearTokenCache()),setTimeout(()=>{const _0x512c3c=_0x5afcde;window[_0x512c3c(0x22e)]&&typeof window[_0x512c3c(0x22e)]===_0x512c3c(0x290)&&window[_0x512c3c(0x22e)](!![]),window[_0x512c3c(0x205)]&&typeof window[_0x512c3c(0x205)][_0x512c3c(0x2b7)]===_0x512c3c(0x290)&&window[_0x512c3c(0x205)][_0x512c3c(0x2b7)]();},0x1f4),showMessage(_0x2d7b36[_0x5afcde(0x1fc)]+_0x5afcde(0x26f),_0x5afcde(0x1d8)),!![];}catch(_0x4fa9f7){return console[_0x5afcde(0x2ce)](_0x5afcde(0x190),_0x4fa9f7),_0x4fa9f7[_0x5afcde(0x2b6)]===_0x5afcde(0x288)?showMessage(_0x5afcde(0x2a7),_0x5afcde(0x1a1)):showMessage(_0x5afcde(0x2a0)+_0x4fa9f7[_0x5afcde(0x1e5)],_0x5afcde(0x2ce)),![];}}async function unequipToken(){const _0x4467f3=a51_0x4e091b,_0x263834=auth[_0x4467f3(0x2d6)];if(!_0x263834)return showMessage(_0x4467f3(0x265),_0x4467f3(0x2ce)),![];if(!userData[_0x4467f3(0x270)])return showMessage(_0x4467f3(0x299),_0x4467f3(0x2db)),![];try{const _0xfeea00=doc(db,_0x4467f3(0x225),_0x263834[_0x4467f3(0x297)]);await updateDoc(_0xfeea00,{'equippedToken':null,'lastTokenEquip':serverTimestamp()});const _0x1175e6=doc(db,_0x4467f3(0x2bf),_0x263834[_0x4467f3(0x297)]),_0x288bd4=await getDoc(_0x1175e6);if(_0x288bd4[_0x4467f3(0x20c)]()){const _0xd55fb3=_0x288bd4[_0x4467f3(0x1cd)](),_0x5db78b=_0xd55fb3[_0x4467f3(0x28d)]||[],_0x1a88f3=_0x5db78b[_0x4467f3(0x1dd)](_0x22963e=>({..._0x22963e,'equipped':![]}));await updateDoc(_0x1175e6,{'tokens':_0x1a88f3,'equippedToken':null,'lastUpdated':serverTimestamp()});}return userData[_0x4467f3(0x270)]=null,typeof clearTokenCache===_0x4467f3(0x290)&&(clearTokenCache(_0x263834[_0x4467f3(0x297)]),clearTokenCache()),setTimeout(()=>{const _0x46befe=_0x4467f3;window[_0x46befe(0x22e)]&&typeof window[_0x46befe(0x22e)]===_0x46befe(0x290)&&window[_0x46befe(0x22e)](!![]),window[_0x46befe(0x205)]&&typeof window[_0x46befe(0x205)][_0x46befe(0x2b7)]===_0x46befe(0x290)&&window[_0x46befe(0x205)][_0x46befe(0x2b7)]();},0x1f4),showMessage(_0x4467f3(0x237),_0x4467f3(0x1d8)),!![];}catch(_0x43f45a){return console[_0x4467f3(0x2ce)](_0x4467f3(0x28e),_0x43f45a),showMessage(_0x4467f3(0x228)+_0x43f45a[_0x4467f3(0x1e5)],_0x4467f3(0x2ce)),![];}}async function sellToken(_0x3ab1b3){const _0x4e7ad8=a51_0x4e091b,_0x3b1ae1=auth[_0x4e7ad8(0x2d6)];if(!_0x3b1ae1)return showMessage(_0x4e7ad8(0x244),_0x4e7ad8(0x2ce)),![];if(!userData[_0x4e7ad8(0x1a9)])return showMessage(_0x4e7ad8(0x1fa),_0x4e7ad8(0x2ce)),![];const _0x372037=TOKENS[_0x3ab1b3];if(!_0x372037)return console[_0x4e7ad8(0x2ce)](_0x4e7ad8(0x22b)+_0x3ab1b3+_0x4e7ad8(0x2af)),![];if(!userOwnsToken(_0x3ab1b3))return showMessage(_0x4e7ad8(0x268),_0x4e7ad8(0x2ce)),![];try{const _0x1a51a5=doc(db,_0x4e7ad8(0x225),_0x3b1ae1[_0x4e7ad8(0x297)]),_0x321fb4=await getDoc(_0x1a51a5),_0x2c37ed=_0x321fb4[_0x4e7ad8(0x1cd)](),_0x209a06=Math[_0x4e7ad8(0x1a6)](_0x372037[_0x4e7ad8(0x227)]*0.5),_0x58e6f3=(_0x2c37ed[_0x4e7ad8(0x23a)]||0x0)+_0x209a06,_0x353240=(_0x2c37ed[_0x4e7ad8(0x210)]||[])[_0x4e7ad8(0x2b0)](_0x353088=>_0x353088!==_0x4e7ad8(0x258)+_0x3ab1b3),_0x192a28=_0x2c37ed[_0x4e7ad8(0x270)]===_0x3ab1b3?null:_0x2c37ed[_0x4e7ad8(0x270)];await updateDoc(_0x1a51a5,{'points':_0x58e6f3,'inventory':_0x353240,'equippedToken':_0x192a28,'lastSale':serverTimestamp()});const _0x3e0e67=doc(db,_0x4e7ad8(0x2bf),_0x3b1ae1[_0x4e7ad8(0x297)]),_0x43ba5e=await getDoc(_0x3e0e67);if(_0x43ba5e[_0x4e7ad8(0x20c)]()){const _0x120bb9=_0x43ba5e[_0x4e7ad8(0x1cd)](),_0x5e06a3=_0x120bb9[_0x4e7ad8(0x28d)]||[],_0x325c83=_0x5e06a3[_0x4e7ad8(0x2b0)](_0x425762=>_0x425762[_0x4e7ad8(0x1d0)]!==_0x3ab1b3);await updateDoc(_0x3e0e67,{'tokens':_0x325c83,'equippedToken':_0x192a28,'lastUpdated':serverTimestamp()});}return await addDoc(collection(db,_0x4e7ad8(0x235)),{'userId':_0x3b1ae1[_0x4e7ad8(0x297)],'userEmail':_0x3b1ae1[_0x4e7ad8(0x20e)],'itemId':_0x4e7ad8(0x258)+_0x3ab1b3,'itemTitle':_0x372037[_0x4e7ad8(0x1fc)],'refund':_0x209a06,'originalPrice':_0x372037[_0x4e7ad8(0x227)],'type':_0x4e7ad8(0x1f8),'category':_0x4e7ad8(0x200),'timestamp':serverTimestamp()}),userData[_0x4e7ad8(0x23a)]=_0x58e6f3,userData[_0x4e7ad8(0x210)]=_0x353240,userData[_0x4e7ad8(0x270)]=_0x192a28,pointsDisplay&&(pointsDisplay[_0x4e7ad8(0x1a8)]=userData[_0x4e7ad8(0x23a)][_0x4e7ad8(0x21b)]()),typeof clearTokenCache===_0x4e7ad8(0x290)&&clearTokenCache(_0x3b1ae1[_0x4e7ad8(0x297)]),showMessage(_0x4e7ad8(0x19a)+_0x372037[_0x4e7ad8(0x1fc)]+_0x4e7ad8(0x298)+_0x209a06+_0x4e7ad8(0x207),_0x4e7ad8(0x1d8)),!![];}catch(_0x8e9642){return console[_0x4e7ad8(0x2ce)](_0x4e7ad8(0x26a),_0x8e9642),showMessage(_0x4e7ad8(0x1f2)+_0x8e9642[_0x4e7ad8(0x1e5)],_0x4e7ad8(0x2ce)),![];}}function a51_0x18fa(){const _0x24f1a6=['Purple','Intelligent\x20targeting\x20system','Buy\x20for\x20','Token\x20equip\x20failed:','The\x20','Classic\x20RDL','Blob\x20Token\x203','\x20Points','0.5','image','A\x20cunning\x20explosive\x20device.','User','equipped','Sold\x20','Phoenix\x20Cannon','\x20points?','var(--muted-color,\x20#757575)','../images/tokens/subgame/pbomb.gif','Blob\x20Token\x201','../images/tokens/subgame/pwr02.gif','warning','dispatchEvent','powerup','Plasma\x20Blob','Purchase\x20','floor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','textContent','isAdmin','ship','Fiery\x20phoenix\x20cannon\x20token.','Mercury\x20Missile','\x20pts)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Blob\x20Token\x202','Successfully\x20purchased\x20','querySelector','visible','special','Fast\x20and\x20furious\x20missile\x20token.','[data-theme]','adminStatusChanged','Lock\x20in\x20your\x20victory.','Not\x20enough\x20points.\x20You\x20need\x20','Rock\x20texture\x20with\x20a\x20sleek\x20nav\x20and\x20footer','You\x20need\x20','High-powered\x20plasma\x20cannon\x20token.','Unknown','__proto__','Emerald','description','var(--info-color,\x20#17a2b8)','Invulnerability','Become\x20one\x20with\x20the\x20shadows','innerHTML','Marker','constructor','toString','sign-in','This\x20theme\x20makes\x20me\x20happy','0.7','div','Current\x20Theme','!\x20Use\x20the\x20\x22Equip\x22\x20button\x20to\x20show\x20it\x20on\x20the\x20ladder.','A\x20mysterious\x20purple\x20blob\x20token','data','Token\x20purchase\x20failed:','[data-token]','tokenId','\x22\x20alt=\x22','warn','store-item\x20token-item','\x20token\x20for\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22theme-select-btn\x20purchase-btn\x22>Select\x20Theme</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ThemeSystem','current-theme','success','Leave\x20your\x20mark\x20on\x20the\x20leaderboard.','The\x20iconic\x20Architect\x20ship.','closest','\x20points?\x20This\x20cannot\x20be\x20undone.','map','For\x20the\x20late-nights.','../images/tokens/Lock.gif','../images/tokens/Marker.gif','Strategic\x20explosive\x20device','../images/tokens/subgame/mmissile.gif','Sign\x20in\x20to\x20Apply','log','message','A\x20rare\x20extra\x20life\x20token.','weapon','Cloaking\x20Device','Christmas','displayName','table','You\x20must\x20purchase\x20this\x20theme\x20first','User\x20profile\x20not\x20found','style','../images/tokens/Extralife.gif','classList','Classic\x20laser\x20weapon\x20token.','Failed\x20to\x20sell\x20token:\x20','../images/tokens/subgame/smissile.gif','R/Y/B\x20Keys','body','Lock','../images/tokens/Hostage.gif','sale','Another\x20enigmatic\x20blob\x20creature','Only\x20admins\x20can\x20sell\x20tokens','Please\x20sign\x20in\x20again\x20to\x20complete\x20purchase.','name','Permission\x20denied.\x20Please\x20try\x20again\x20or\x20contact\x20support.','2025-12-31T23:59:59','Are\x20you\x20sure\x20you\x20want\x20to\x20sell\x20','token','Service\x20temporarily\x20unavailable.\x20Please\x20try\x20again.','Devastating\x20fusion\x20weapon\x20technology','You\x20must\x20own\x20this\x20token\x20to\x20equip\x20it','../images/tokens/Mercury.gif','RedeemStore','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22item-title\x22>','\x20points\x20(50%\x20refund)','Advanced\x20energy\x20storage\x20system','Cockpit','store-content','Equipped','exists','../images/tokens/subgame/fusion.gif','email','\x20theme\x20purchased!','inventory','Theme\x20system\x20not\x20found','expired-message','unauthenticated','getElementById','Hostage','Purchase','store-message','prototype','Fan','Theme\x20','toLocaleString','is\x20that...\x20Pfunk?','exception','className','A\x20mysterious\x20plasma\x20blob.','add','\x20token','Red','You\x20already\x20own\x20the\x20','../images/tokens/Phoenix.gif','userProfiles','../images/tokens/Pyro.gif','price','Failed\x20to\x20unequip\x20token:\x20','Transaction\x20logging\x20failed,\x20but\x20purchase\x20was\x20successful:','username','Token\x20','Show\x20your\x20support\x20with\x20this\x20fan\x20token.','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22item-description\x22>','displayLadder','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-icon\x20theme-icon-','This\x20one\x20is\x20really\x20pretty','Unexpected\x20token\x20error:','Buy','blob','theme_','transactions','\x22\x20class=\x22token-preview\x22\x20onerror=\x22this.style.display=\x27none\x27;\x20this.nextElementSibling.style.display=\x27flex\x27;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22token-fallback\x22\x20style=\x22display:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-coins\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-price\x22>','Token\x20unequipped!\x20Ladder\x20will\x20refresh\x20shortly.','user-points','click','points','includes','console','equipment','\x20theme\x20for\x20','../images/tokens/Plasmablobl.gif','.themes-grid','Gold','bind','dataset','Please\x20sign\x20in\x20to\x20sell\x20tokens','store-message\x20store-message-','auth-warning','Blue','.theme-select-btn','\x20more\x20points.','../images/tokens/Reactor.gif','var(--success-color,\x20#4CAF50)','.tokens-grid','purchase','Shield\x20Orb','Can\x27t\x20get\x20enough','The\x20heart\x20of\x20every\x20mine.','remove','Please\x20sign\x20in\x20to\x20equip\x20tokens','Mega\x20Missile','querySelectorAll','apply-theme','../images/tokens/Smartmine.gif','../images/tokens/Fan.gif','token_','The\x20iconic\x20Pyro-GX\x20ship.','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-palette\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-price\x22>','Insufficient\x20points','cannot-afford','Equip','../images/tokens/allmap.gif','appendChild','Plasma\x20Cannon','Yellow\x20Orange','Christmas\x202025\x20Limited\x20Theme.\x20Taken\x20off\x20store\x20Dec\x2031st','isUserAdmin','Themes\x20container\x20not\x20found','Please\x20sign\x20in\x20to\x20unequip\x20tokens','Token\x20collection\x20update\x20had\x20an\x20issue,\x20but\x20equip\x20was\x20successful:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22token-sell-btn\x20admin-btn\x22\x20style=\x22margin-top:\x200.5rem;\x20background:\x20#f44336;\x20font-size:\x200.8rem;\x20padding:\x200.3rem;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Sell\x20(','You\x20don\x27t\x20own\x20this\x20token','../images/tokens/Plasma.gif','Token\x20sale\x20failed:','itemId','Nightlight','../images/tokens/gauge18.gif','display','\x20equipped!\x20Ladder\x20will\x20refresh\x20shortly.','equippedToken','default','fun','forEach','Apply\x20Theme','Laser','store-item','Emerald\x20City!','entries','\x20theme\x20applied!','Enhanced\x20energy\x20generation\x20unit','push','block','not-allowed','trace','addEventListener','getCurrentTheme','\x20Points</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22token-select-btn\x20purchase-btn\x22>Purchase</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22token-equip-btn\x20equip-btn\x22\x20style=\x22margin-top:\x200.5rem;\x20display:\x20none;\x22>Equip</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','../images/tokens/cloak.gif','confirm','Energy','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-icon\x20token-icon\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22','DOMContentLoaded','{}.constructor(\x22return\x20this\x22)(\x20)','permission-denied','Purchase\x20failed.\x20Please\x20try\x20again.','\x20theme','Purchase\x20processing\x20error:','Only\x20the\x20best\x20get\x20this\x20one','tokens','Token\x20unequip\x20failed:','FREE','function','Tokens\x20container\x20not\x20found','owned','preventDefault','color:\x20#ff6b6b;\x20font-size:\x200.85rem;\x20margin-top:\x200.5rem;\x20font-style:\x20italic;','Please\x20sign\x20in\x20to\x20purchase\x20tokens','../images/tokens/blob01.gif','uid','\x20for\x20','No\x20token\x20is\x20currently\x20equipped','Rescue\x20the\x20hostage\x20for\x20bonus\x20points.','Proximity\x20Bomb','../images/tokens/blob03.gif','switchTheme','pointer','This\x20limited-time\x20theme\x20has\x20expired','Failed\x20to\x20equip\x20token:\x20','can-equip','none','Become\x20invincible\x20for\x20a\x20short\x20time.','Please\x20sign\x20in\x20to\x20select\x20themes','Architect','Expired','Permission\x20denied.\x20Token\x20may\x20still\x20be\x20equipped\x20-\x20check\x20the\x20ladder.','You\x20already\x20own\x20this\x20','var(--accent-color,\x20#2196F3)','.token-select-btn','Owned','background','.expired-message','\x20is\x20already\x20your\x20current\x20theme','\x20not\x20found','filter','Error\x20loading\x20user\x20data:','Equip\x20','Please\x20sign\x20in\x20to\x20purchase\x20themes','Smart\x20Mine','split','code','refreshUI','Theme\x20purchase\x20failed:','theme','Smart\x20Missile','unavailable','Monitor\x20your\x20ship\x27s\x20energy\x20levels','apply','sign-in-free','userTokens','can-afford','../images/tokens/blob02.gif','.token-sell-btn','.token-equip-btn','length','The\x20final\x20blob\x20in\x20the\x20collection','parentNode','sign-in-paid','Sign\x20in\x20to\x20Purchase','../images/tokens/subgame/pwr01.gif','cursor','../images/tokens/Laser.gif','Heavy\x20ordinance\x20for\x20tough\x20situations','cssText','error','disabled','category','\x20points\x20to\x20purchase\x20this\x20token','\x20theme\x20is\x20no\x20longer\x20available','\x20points\x20to\x20purchase\x20this\x20theme','Reactor','createElement','currentUser','opacity','Unequip\x20','Extra\x20Life','Pyro','info','Token\x20collection\x20update\x20had\x20an\x20issue,\x20but\x20purchase\x20completed:','../images/tokens/Invuln.gif','?\x20This\x20will\x20unequip\x20your\x20current\x20token.','Fusion\x20Cannon','For\x20the\x20angry\x20type.','return\x20(function()\x20','Need\x20'];a51_0x18fa=function(){return _0x24f1a6;};return a51_0x18fa();}function applyTheme(_0x126f84){const _0x40ae3c=a51_0x4e091b;if(!userOwnsTheme(_0x126f84))return showMessage(_0x40ae3c(0x1ec),_0x40ae3c(0x2ce)),![];return window[_0x40ae3c(0x1d6)]?(window[_0x40ae3c(0x1d6)][_0x40ae3c(0x29d)](_0x126f84),showMessage((THEMES[_0x126f84]?.[_0x40ae3c(0x1fc)]||_0x126f84)+_0x40ae3c(0x279),_0x40ae3c(0x1d8)),!![]):(console[_0x40ae3c(0x2ce)](_0x40ae3c(0x211)),![]);}function buildStoreUI(){buildThemeItems(),buildTokenItems();}function buildThemeItems(){const _0x2a4988=a51_0x4e091b,_0x509b39=document[_0x2a4988(0x1b0)](_0x2a4988(0x240));if(!_0x509b39){console[_0x2a4988(0x2ce)](_0x2a4988(0x264));return;}_0x509b39[_0x2a4988(0x1c2)]='',Object[_0x2a4988(0x278)](THEMES)[_0x2a4988(0x273)](([_0x46ad6d,_0x2f4929])=>{const _0x6fd5ac=_0x2a4988,_0x439de8=document[_0x6fd5ac(0x2d5)](_0x6fd5ac(0x1c9));_0x439de8[_0x6fd5ac(0x21e)]=_0x6fd5ac(0x276),_0x439de8[_0x6fd5ac(0x243)][_0x6fd5ac(0x2b9)]=_0x46ad6d,_0x439de8[_0x6fd5ac(0x243)][_0x6fd5ac(0x26b)]=_0x6fd5ac(0x234)+_0x46ad6d,_0x439de8[_0x6fd5ac(0x243)][_0x6fd5ac(0x227)]=_0x2f4929[_0x6fd5ac(0x227)],_0x439de8[_0x6fd5ac(0x1c2)]=_0x6fd5ac(0x22f)+_0x46ad6d+_0x6fd5ac(0x25a)+(_0x2f4929[_0x6fd5ac(0x227)]===0x0?_0x6fd5ac(0x28f):_0x2f4929[_0x6fd5ac(0x227)]+_0x6fd5ac(0x194))+_0x6fd5ac(0x206)+_0x2f4929[_0x6fd5ac(0x1fc)]+_0x6fd5ac(0x22d)+_0x2f4929[_0x6fd5ac(0x1be)]+_0x6fd5ac(0x1d5),_0x509b39[_0x6fd5ac(0x25f)](_0x439de8);}),setupThemeButtons();}function buildTokenItems(){const _0x59e566=a51_0x4e091b,_0x4b50dd=document[_0x59e566(0x1b0)](_0x59e566(0x24c));if(!_0x4b50dd){console[_0x59e566(0x2ce)](_0x59e566(0x291));return;}_0x4b50dd[_0x59e566(0x1c2)]='',Object[_0x59e566(0x278)](TOKENS)[_0x59e566(0x273)](([_0x483bcf,_0x92b2de])=>{const _0x2d7446=_0x59e566,_0x392c81=document[_0x2d7446(0x2d5)](_0x2d7446(0x1c9));_0x392c81[_0x2d7446(0x21e)]=_0x2d7446(0x1d3),_0x392c81[_0x2d7446(0x243)][_0x2d7446(0x200)]=_0x483bcf,_0x392c81[_0x2d7446(0x243)][_0x2d7446(0x26b)]=_0x2d7446(0x258)+_0x483bcf,_0x392c81[_0x2d7446(0x243)][_0x2d7446(0x227)]=_0x92b2de[_0x2d7446(0x227)];const _0x2c7ccd=userData[_0x2d7446(0x1a9)]&&userOwnsToken(_0x483bcf)?_0x2d7446(0x267)+Math[_0x2d7446(0x1a6)](_0x92b2de[_0x2d7446(0x227)]*0.5)+_0x2d7446(0x1ad):'';_0x392c81[_0x2d7446(0x1c2)]=_0x2d7446(0x285)+_0x92b2de[_0x2d7446(0x196)]+_0x2d7446(0x1d1)+_0x92b2de[_0x2d7446(0x1fc)]+_0x2d7446(0x236)+_0x92b2de[_0x2d7446(0x227)]+_0x2d7446(0x281)+_0x2c7ccd+_0x2d7446(0x1a7),_0x4b50dd[_0x2d7446(0x25f)](_0x392c81);}),setupTokenButtons();}function setupThemeButtons(){const _0x42e8cb=a51_0x4e091b,_0x4394a3=document[_0x42e8cb(0x254)](_0x42e8cb(0x248));_0x4394a3[_0x42e8cb(0x273)](_0x4d8515=>{const _0x11851a=_0x42e8cb;_0x4d8515[_0x11851a(0x27f)](_0x11851a(0x239),async _0x14910d=>{const _0x2c14ce=_0x11851a;_0x14910d[_0x2c14ce(0x293)]();const _0x3a85ca=auth[_0x2c14ce(0x2d6)];if(!_0x3a85ca){showMessage(_0x2c14ce(0x2a4),_0x2c14ce(0x2ce));return;}const _0x4f5716=_0x4d8515[_0x2c14ce(0x1db)](_0x2c14ce(0x1b4)),_0x302193=_0x4f5716[_0x2c14ce(0x243)][_0x2c14ce(0x2b9)],_0x2d31bc=THEMES[_0x302193];if(!_0x2d31bc){console[_0x2c14ce(0x2ce)](_0x2c14ce(0x21a)+_0x302193+_0x2c14ce(0x2af));return;}if(_0x4d8515[_0x2c14ce(0x2cf)]){_0x2d31bc[_0x2c14ce(0x227)]>0x0&&showMessage(_0x2c14ce(0x1b9)+_0x2d31bc[_0x2c14ce(0x227)]+_0x2c14ce(0x2d3),_0x2c14ce(0x2ce));return;}if(_0x4d8515[_0x2c14ce(0x1a8)]===_0x2c14ce(0x1ca)){showMessage(_0x2d31bc[_0x2c14ce(0x1fc)]+_0x2c14ce(0x2ae),_0x2c14ce(0x2db));return;}if(_0x4d8515[_0x2c14ce(0x1a8)]===_0x2c14ce(0x274)){applyTheme(_0x302193),updateThemeButtons();return;}if(_0x4d8515[_0x2c14ce(0x1a8)][_0x2c14ce(0x23b)](_0x2c14ce(0x232))){const _0x3fd5f6=window[_0x2c14ce(0x283)](_0x2c14ce(0x1a5)+_0x2d31bc[_0x2c14ce(0x1fc)]+_0x2c14ce(0x23e)+_0x2d31bc[_0x2c14ce(0x227)]+_0x2c14ce(0x19c));if(!_0x3fd5f6)return;const _0x32a18c=await purchaseTheme(_0x302193);_0x32a18c&&(showMessage(_0x2d31bc[_0x2c14ce(0x1fc)]+_0x2c14ce(0x20f),_0x2c14ce(0x1d8)),applyTheme(_0x302193),updateThemeButtons());return;}userOwnsTheme(_0x302193)?applyTheme(_0x302193):showMessage(_0x2c14ce(0x1ec),_0x2c14ce(0x2ce));});}),updateThemeButtons();}function setupTokenButtons(){const _0x4b2816=a51_0x4e091b,_0x5caf7b=document[_0x4b2816(0x254)](_0x4b2816(0x2aa)),_0x1af74a=document[_0x4b2816(0x254)](_0x4b2816(0x2c3)),_0xde6b4a=document[_0x4b2816(0x254)](_0x4b2816(0x2c2));_0x5caf7b[_0x4b2816(0x273)](_0x4ce0de=>{const _0x16f819=_0x4b2816;_0x4ce0de[_0x16f819(0x27f)](_0x16f819(0x239),async _0x24e546=>{const _0x1e713f=_0x16f819;_0x24e546[_0x1e713f(0x293)]();const _0x5e808a=auth[_0x1e713f(0x2d6)];if(!_0x5e808a){showMessage(_0x1e713f(0x295),_0x1e713f(0x2ce));return;}const _0x5182ec=_0x4ce0de[_0x1e713f(0x1db)](_0x1e713f(0x1cf)),_0x580cfb=_0x5182ec[_0x1e713f(0x243)][_0x1e713f(0x200)],_0x352999=TOKENS[_0x580cfb];if(!_0x352999){console[_0x1e713f(0x2ce)](_0x1e713f(0x22b)+_0x580cfb+_0x1e713f(0x2af));return;}if(_0x4ce0de[_0x1e713f(0x2cf)]){showMessage(_0x1e713f(0x1b9)+_0x352999[_0x1e713f(0x227)]+_0x1e713f(0x2d1),_0x1e713f(0x2ce));return;}if(_0x4ce0de[_0x1e713f(0x1a8)]===_0x1e713f(0x2ab)){showMessage(_0x1e713f(0x223)+_0x352999[_0x1e713f(0x1fc)]+_0x1e713f(0x221),_0x1e713f(0x2db));return;}if(_0x4ce0de[_0x1e713f(0x1a8)][_0x1e713f(0x23b)](_0x1e713f(0x216))||_0x4ce0de[_0x1e713f(0x1a8)][_0x1e713f(0x23b)](_0x1e713f(0x232))){const _0x1c2ce3=window[_0x1e713f(0x283)](_0x1e713f(0x1a5)+_0x352999[_0x1e713f(0x1fc)]+_0x1e713f(0x1d4)+_0x352999[_0x1e713f(0x227)]+_0x1e713f(0x19c));if(!_0x1c2ce3)return;const _0x453641=await purchaseToken(_0x580cfb);_0x453641&&updateTokenButtons();return;}});}),_0x1af74a[_0x4b2816(0x273)](_0x58edc4=>{const _0x3485f2=_0x4b2816;_0x58edc4[_0x3485f2(0x27f)](_0x3485f2(0x239),async _0x59dcb6=>{const _0x383493=_0x3485f2;_0x59dcb6[_0x383493(0x293)]();const _0xfa97d8=_0x58edc4[_0x383493(0x1db)](_0x383493(0x1cf)),_0x3d8204=_0xfa97d8[_0x383493(0x243)][_0x383493(0x200)],_0x52a8db=TOKENS[_0x3d8204];if(_0x58edc4[_0x383493(0x1a8)]===_0x383493(0x20b)){const _0x4cb756=window[_0x383493(0x283)](_0x383493(0x2d8)+_0x52a8db[_0x383493(0x1fc)]+'?');if(!_0x4cb756)return;const _0x36eafd=await unequipToken();_0x36eafd&&updateTokenButtons();}else{const _0x1e69f7=window[_0x383493(0x283)](_0x383493(0x2b2)+_0x52a8db[_0x383493(0x1fc)]+_0x383493(0x2de));if(!_0x1e69f7)return;const _0x4d6107=await equipToken(_0x3d8204);_0x4d6107&&updateTokenButtons();}});}),_0xde6b4a[_0x4b2816(0x273)](_0x4b1d0c=>{const _0x469482=_0x4b2816;_0x4b1d0c[_0x469482(0x27f)](_0x469482(0x239),async _0x41780c=>{const _0x4c26d2=_0x469482;_0x41780c[_0x4c26d2(0x293)]();const _0x281011=_0x4b1d0c[_0x4c26d2(0x1db)](_0x4c26d2(0x1cf)),_0x12b583=_0x281011[_0x4c26d2(0x243)][_0x4c26d2(0x200)],_0x5e7baa=TOKENS[_0x12b583],_0x58e21e=Math[_0x4c26d2(0x1a6)](_0x5e7baa[_0x4c26d2(0x227)]*0.5),_0x5c1a56=window[_0x4c26d2(0x283)](_0x4c26d2(0x1ff)+_0x5e7baa[_0x4c26d2(0x1fc)]+_0x4c26d2(0x298)+_0x58e21e+_0x4c26d2(0x1dc));if(!_0x5c1a56)return;const _0x4b5c39=await sellToken(_0x12b583);_0x4b5c39&&updateTokenButtons();});}),updateTokenButtons();}function updateThemeButtons(){const _0x234b0e=a51_0x4e091b,_0x24fc25=window[_0x234b0e(0x1d6)]?window[_0x234b0e(0x1d6)][_0x234b0e(0x280)]():_0x234b0e(0x271),_0x5d6d95=auth[_0x234b0e(0x2d6)];document[_0x234b0e(0x254)](_0x234b0e(0x248))[_0x234b0e(0x273)](_0x63af84=>{const _0x9cd927=_0x234b0e,_0x2a9533=_0x63af84[_0x9cd927(0x1db)](_0x9cd927(0x1b4)),_0x56b07f=_0x2a9533[_0x9cd927(0x243)][_0x9cd927(0x2b9)],_0x2c3b1a=THEMES[_0x56b07f];if(!_0x2c3b1a)return;const _0x1280b2=isThemeExpired(_0x56b07f);if(_0x1280b2){_0x63af84[_0x9cd927(0x1a8)]=_0x9cd927(0x2a6),_0x63af84[_0x9cd927(0x1f0)][_0x9cd927(0x220)](_0x9cd927(0x25c)),_0x63af84[_0x9cd927(0x2cf)]=!![],_0x63af84[_0x9cd927(0x1ee)][_0x9cd927(0x2d7)]=_0x9cd927(0x195),_0x63af84[_0x9cd927(0x1ee)][_0x9cd927(0x2ca)]=_0x9cd927(0x27d);const _0x36c93f=_0x2a9533[_0x9cd927(0x1b0)](_0x9cd927(0x2ad))||document[_0x9cd927(0x2d5)](_0x9cd927(0x1c9));_0x36c93f[_0x9cd927(0x21e)]=_0x9cd927(0x212),_0x36c93f[_0x9cd927(0x1a8)]=_0x9cd927(0x29f),_0x36c93f[_0x9cd927(0x1ee)][_0x9cd927(0x2cd)]=_0x9cd927(0x294);!_0x2a9533[_0x9cd927(0x1b0)](_0x9cd927(0x2ad))&&_0x2a9533[_0x9cd927(0x25f)](_0x36c93f);return;}_0x63af84[_0x9cd927(0x2cf)]=![],_0x63af84[_0x9cd927(0x1ee)][_0x9cd927(0x2d7)]='',_0x63af84[_0x9cd927(0x1ee)][_0x9cd927(0x2ca)]=_0x9cd927(0x29e),_0x63af84[_0x9cd927(0x1f0)][_0x9cd927(0x251)](_0x9cd927(0x1d7),_0x9cd927(0x255),_0x9cd927(0x2c0),_0x9cd927(0x25c),_0x9cd927(0x2be),_0x9cd927(0x2c7));if(!_0x5d6d95){_0x2c3b1a[_0x9cd927(0x227)]===0x0?(_0x63af84[_0x9cd927(0x1a8)]=_0x9cd927(0x1e3),_0x63af84[_0x9cd927(0x1f0)][_0x9cd927(0x220)](_0x9cd927(0x2be))):(_0x63af84[_0x9cd927(0x1a8)]=_0x9cd927(0x2c8),_0x63af84[_0x9cd927(0x2cf)]=!![],_0x63af84[_0x9cd927(0x1ee)][_0x9cd927(0x2d7)]=_0x9cd927(0x1c8),_0x63af84[_0x9cd927(0x1f0)][_0x9cd927(0x220)](_0x9cd927(0x2c7)));return;}if(_0x56b07f===_0x24fc25){_0x63af84[_0x9cd927(0x1a8)]=_0x9cd927(0x1ca),_0x63af84[_0x9cd927(0x1f0)][_0x9cd927(0x220)](_0x9cd927(0x1d7)),_0x63af84[_0x9cd927(0x2cf)]=!![],_0x63af84[_0x9cd927(0x1ee)][_0x9cd927(0x2ca)]=_0x9cd927(0x271);return;}if(userOwnsTheme(_0x56b07f)){_0x63af84[_0x9cd927(0x1a8)]=_0x9cd927(0x274),_0x63af84[_0x9cd927(0x1f0)][_0x9cd927(0x220)](_0x9cd927(0x255));return;}if(userData[_0x9cd927(0x23a)]>=_0x2c3b1a[_0x9cd927(0x227)]){_0x63af84[_0x9cd927(0x1a8)]=_0x9cd927(0x18f)+_0x2c3b1a[_0x9cd927(0x227)]+_0x9cd927(0x194),_0x63af84[_0x9cd927(0x1f0)][_0x9cd927(0x220)](_0x9cd927(0x2c0));return;}_0x63af84[_0x9cd927(0x1a8)]=_0x9cd927(0x2e2)+_0x2c3b1a[_0x9cd927(0x227)]+_0x9cd927(0x194),_0x63af84[_0x9cd927(0x1f0)][_0x9cd927(0x220)](_0x9cd927(0x25c)),_0x63af84[_0x9cd927(0x1ee)][_0x9cd927(0x2d7)]=_0x9cd927(0x195),_0x63af84[_0x9cd927(0x2cf)]=!![],_0x63af84[_0x9cd927(0x1ee)][_0x9cd927(0x2ca)]=_0x9cd927(0x27d);});}function updateTokenButtons(){const _0x739e74=a51_0x4e091b,_0x227070=auth[_0x739e74(0x2d6)];document[_0x739e74(0x254)](_0x739e74(0x2aa))[_0x739e74(0x273)](_0x435069=>{const _0x3fbe90=_0x739e74,_0xd144c7=_0x435069[_0x3fbe90(0x1db)](_0x3fbe90(0x1cf)),_0x3daca6=_0xd144c7[_0x3fbe90(0x243)][_0x3fbe90(0x200)],_0xea8a23=TOKENS[_0x3daca6],_0x15f6a8=_0xd144c7[_0x3fbe90(0x1b0)](_0x3fbe90(0x2c3)),_0x3adebb=_0xd144c7[_0x3fbe90(0x1b0)](_0x3fbe90(0x2c2));if(!_0xea8a23)return;_0x435069[_0x3fbe90(0x2cf)]=![],_0x435069[_0x3fbe90(0x1ee)][_0x3fbe90(0x2d7)]='',_0x435069[_0x3fbe90(0x1ee)][_0x3fbe90(0x2ca)]=_0x3fbe90(0x29e);_0x15f6a8&&(_0x15f6a8[_0x3fbe90(0x1ee)][_0x3fbe90(0x26e)]=_0x3fbe90(0x2a2),_0x15f6a8[_0x3fbe90(0x2cf)]=![],_0x15f6a8[_0x3fbe90(0x1ee)][_0x3fbe90(0x2d7)]='',_0x15f6a8[_0x3fbe90(0x1f0)][_0x3fbe90(0x251)](_0x3fbe90(0x199),_0x3fbe90(0x2a1)));_0x3adebb&&(_0x3adebb[_0x3fbe90(0x1ee)][_0x3fbe90(0x26e)]=_0x3fbe90(0x2a2));_0x435069[_0x3fbe90(0x1f0)][_0x3fbe90(0x251)](_0x3fbe90(0x292),_0x3fbe90(0x2c0),_0x3fbe90(0x25c),_0x3fbe90(0x1c6));if(!_0x227070){_0x435069[_0x3fbe90(0x1a8)]=_0x3fbe90(0x2c8),_0x435069[_0x3fbe90(0x2cf)]=!![],_0x435069[_0x3fbe90(0x1ee)][_0x3fbe90(0x2d7)]=_0x3fbe90(0x1c8),_0x435069[_0x3fbe90(0x1f0)][_0x3fbe90(0x220)](_0x3fbe90(0x1c6));return;}if(userOwnsToken(_0x3daca6)){_0x435069[_0x3fbe90(0x1a8)]=_0x3fbe90(0x2ab),_0x435069[_0x3fbe90(0x1f0)][_0x3fbe90(0x220)](_0x3fbe90(0x292)),_0x435069[_0x3fbe90(0x2cf)]=!![],_0x435069[_0x3fbe90(0x1ee)][_0x3fbe90(0x2ca)]=_0x3fbe90(0x271),_0x435069[_0x3fbe90(0x1ee)][_0x3fbe90(0x2ac)]=_0x3fbe90(0x24b);_0x15f6a8&&(_0x15f6a8[_0x3fbe90(0x1ee)][_0x3fbe90(0x26e)]=_0x3fbe90(0x27c),userHasTokenEquipped(_0x3daca6)?(_0x15f6a8[_0x3fbe90(0x1a8)]=_0x3fbe90(0x20b),_0x15f6a8[_0x3fbe90(0x1f0)][_0x3fbe90(0x220)](_0x3fbe90(0x199)),_0x15f6a8[_0x3fbe90(0x1ee)][_0x3fbe90(0x2ac)]=_0x3fbe90(0x2a9),_0x15f6a8[_0x3fbe90(0x1ee)][_0x3fbe90(0x2ca)]=_0x3fbe90(0x29e)):(_0x15f6a8[_0x3fbe90(0x1a8)]=_0x3fbe90(0x25d),_0x15f6a8[_0x3fbe90(0x1f0)][_0x3fbe90(0x220)](_0x3fbe90(0x2a1)),_0x15f6a8[_0x3fbe90(0x1ee)][_0x3fbe90(0x2ac)]=_0x3fbe90(0x1bf),_0x15f6a8[_0x3fbe90(0x1ee)][_0x3fbe90(0x2ca)]=_0x3fbe90(0x29e)));_0x3adebb&&userData[_0x3fbe90(0x1a9)]&&(_0x3adebb[_0x3fbe90(0x1ee)][_0x3fbe90(0x26e)]=_0x3fbe90(0x27c));return;}if(userData[_0x3fbe90(0x23a)]>=_0xea8a23[_0x3fbe90(0x227)]){_0x435069[_0x3fbe90(0x1a8)]=_0x3fbe90(0x18f)+_0xea8a23[_0x3fbe90(0x227)]+_0x3fbe90(0x194),_0x435069[_0x3fbe90(0x1f0)][_0x3fbe90(0x220)](_0x3fbe90(0x2c0)),_0x435069[_0x3fbe90(0x1ee)][_0x3fbe90(0x2ac)]='';return;}_0x435069[_0x3fbe90(0x1a8)]=_0x3fbe90(0x2e2)+_0xea8a23[_0x3fbe90(0x227)]+_0x3fbe90(0x194),_0x435069[_0x3fbe90(0x1f0)][_0x3fbe90(0x220)](_0x3fbe90(0x25c)),_0x435069[_0x3fbe90(0x1ee)][_0x3fbe90(0x2d7)]=_0x3fbe90(0x195),_0x435069[_0x3fbe90(0x2cf)]=!![],_0x435069[_0x3fbe90(0x1ee)][_0x3fbe90(0x2ca)]=_0x3fbe90(0x27d),_0x435069[_0x3fbe90(0x1ee)][_0x3fbe90(0x2ac)]=_0x3fbe90(0x19d);});}function a51_0x13d9(_0xbfce9c,_0x365572){_0xbfce9c=_0xbfce9c-0x18d;const _0x7d417f=a51_0x18fa();let _0x25f03b=_0x7d417f[_0xbfce9c];return _0x25f03b;}function showMessage(_0x17e9a4,_0x517438=a51_0x4e091b(0x2db)){const _0x167790=a51_0x4e091b,_0x467692=document[_0x167790(0x214)](_0x167790(0x217));_0x467692&&_0x467692[_0x167790(0x251)]();const _0x122558=document[_0x167790(0x2d5)](_0x167790(0x1c9));_0x122558['id']=_0x167790(0x217),_0x122558[_0x167790(0x21e)]=_0x167790(0x245)+_0x517438,_0x122558[_0x167790(0x1a8)]=_0x17e9a4,document[_0x167790(0x1f5)][_0x167790(0x25f)](_0x122558),requestAnimationFrame(()=>{const _0x51fd84=_0x167790;_0x122558[_0x51fd84(0x1f0)][_0x51fd84(0x220)](_0x51fd84(0x1b1));}),setTimeout(()=>{const _0x1adf1a=_0x167790;_0x122558[_0x1adf1a(0x1f0)][_0x1adf1a(0x251)](_0x1adf1a(0x1b1)),setTimeout(()=>{const _0x1d5b2b=_0x1adf1a;_0x122558[_0x1d5b2b(0x2c6)]&&_0x122558[_0x1d5b2b(0x251)]();},0x12c);},0xfa0);}window[a51_0x4e091b(0x205)]={'refreshUI':()=>{updateThemeButtons(),updateTokenButtons();},'checkOwnership':userOwnsTheme,'checkTokenOwnership':userOwnsToken,'applyTheme':applyTheme,'purchaseTheme':purchaseTheme,'purchaseToken':purchaseToken};