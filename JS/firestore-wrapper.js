function a20_0x4bb2(_0x29a620,_0x2e64de){const _0xa24fbe=a20_0x4f29();return a20_0x4bb2=function(_0x400b90,_0x144548){_0x400b90=_0x400b90-0xfd;let _0x4f299b=_0xa24fbe[_0x400b90];return _0x4f299b;},a20_0x4bb2(_0x29a620,_0x2e64de);}const a20_0x58b729=a20_0x4bb2,a20_0x400b90=(function(){let _0x564a10=!![];return function(_0x44ba11,_0x423c8f){const _0x150658=_0x564a10?function(){if(_0x423c8f){const _0x5e43c6=_0x423c8f['apply'](_0x44ba11,arguments);return _0x423c8f=null,_0x5e43c6;}}:function(){};return _0x564a10=![],_0x150658;};}()),a20_0xa24fbe=a20_0x400b90(this,function(){const _0x39f85b=a20_0x4bb2;let _0x434ea4;try{const _0x789372=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x434ea4=_0x789372();}catch(_0x5ec477){_0x434ea4=window;}const _0xe39b01=_0x434ea4['console']=_0x434ea4['console']||{},_0x15beb8=['log','warn','info','error','exception','table','trace'];for(let _0x27802f=0x0;_0x27802f<_0x15beb8['length'];_0x27802f++){const _0x1d3c83=a20_0x400b90[_0x39f85b(0x100)]['prototype']['bind'](a20_0x400b90),_0x460817=_0x15beb8[_0x27802f],_0x3e9972=_0xe39b01[_0x460817]||_0x1d3c83;_0x1d3c83['__proto__']=a20_0x400b90['bind'](a20_0x400b90),_0x1d3c83[_0x39f85b(0x104)]=_0x3e9972['toString']['bind'](_0x3e9972),_0xe39b01[_0x460817]=_0x1d3c83;}});a20_0xa24fbe();import{collection as a20_0x5c6480,doc as a20_0x2a2596,getDoc as a20_0x1b280a,getDocs as a20_0xe42e24,query as a20_0x5ae158,where as a20_0x40cae0,orderBy as a20_0x351cb6,limit as a20_0x54fe6f,startAfter as a20_0x253b68,addDoc as a20_0x44d3b9,updateDoc as a20_0x3e5d5b,deleteDoc as a20_0x4978ac,writeBatch as a20_0x331ea0,serverTimestamp as a20_0x126ad1,Timestamp as a20_0x3f4afb,getCountFromServer as a20_0x4d620a,setDoc as a20_0xfbea02,enableNetwork,disableNetwork}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';function a20_0x4f29(){const _0x344c9c=['Failed\x20to\x20disable\x20network:','resource-exhausted','message','constructor','Session\x20suspended\x20due\x20to\x20inactivity.\x20Please\x20resume\x20your\x20session.','network-error','Caught\x20network\x20error:','toString','network','commit','code','unavailable','rdlFirestore','preventDefault','apply','string','fromDate','error','length'];a20_0x4f29=function(){return _0x344c9c;};return a20_0x4f29();}import{db}from'./firebase-config.js';import{handleNetworkError}from'./idle-timeout.js';function checkSessionStatus(){const _0x3726cf=a20_0x4bb2;if(window['RDL_SESSION_SUSPENDED']){console['warn']('Firestore\x20operation\x20blocked\x20-\x20session\x20suspended');const _0x3711bb=new Error(_0x3726cf(0x101));_0x3711bb['code']='session-suspended';throw _0x3711bb;}if(window['RDL_NETWORK_ERROR']){console['warn']('Firestore\x20operation\x20blocked\x20-\x20network\x20error');const _0x41a0bc=new Error('Network\x20connection\x20error.\x20Please\x20check\x20your\x20internet\x20connection.');_0x41a0bc['code']='network-error';throw _0x41a0bc;}}async function handleFirestoreError(_0x314a75){const _0x4882bd=a20_0x4bb2;console['error']('Firestore\x20operation\x20failed:',_0x314a75);if(_0x314a75&&(_0x314a75[_0x4882bd(0x107)]===_0x4882bd(0x108)||_0x314a75['code']===_0x4882bd(0xfe)||_0x314a75['message']&&_0x314a75['message']['includes'](_0x4882bd(0x105))||_0x314a75['code']&&_0x314a75['code']['includes']('network')))return console['warn']('Network-related\x20error\x20detected,\x20suspending\x20operations'),handleNetworkError(),!![];return![];}export const rdlFirestore={'collection':function(){const _0x2861e1=a20_0x4bb2;if(arguments['length']===0x1){if(typeof arguments[0x0]==='string')return a20_0x5c6480(db,arguments[0x0]);return arguments[0x0];}else{if(arguments['length']===0x2&&arguments[0x0]===db&&typeof arguments[0x1]===_0x2861e1(0x10c))return a20_0x5c6480(db,arguments[0x1]);}return a20_0x5c6480[_0x2861e1(0x10b)](null,arguments);},'doc':function(){const _0x15911d=a20_0x4bb2;if(arguments[_0x15911d(0x10f)]===0x2){if(typeof arguments[0x0]==='string'&&typeof arguments[0x1]==='string')return a20_0x2a2596(db,arguments[0x0],arguments[0x1]);return a20_0x2a2596['apply'](null,arguments);}else{if(arguments['length']===0x3&&arguments[0x0]===db)return a20_0x2a2596['apply'](null,arguments);}return a20_0x2a2596[_0x15911d(0x10b)](null,arguments);},'query':function(){const _0x59d153=a20_0x4bb2;return a20_0x5ae158[_0x59d153(0x10b)](null,arguments);},'where':function(){return a20_0x40cae0['apply'](null,arguments);},'orderBy':function(){const _0x487777=a20_0x4bb2;return a20_0x351cb6[_0x487777(0x10b)](null,arguments);},'limit':function(_0x10fe07){return a20_0x54fe6f(_0x10fe07);},'startAfter':function(_0x4c26a4){return a20_0x253b68(_0x4c26a4);},'getDoc':async function(_0x4ce043){try{return checkSessionStatus(),await a20_0x1b280a(_0x4ce043);}catch(_0x16fd5c){const _0x3c0fd3=await handleFirestoreError(_0x16fd5c);_0x3c0fd3&&(_0x16fd5c['code']='network-error');throw _0x16fd5c;}},'getDocs':async function(_0x543071){try{return checkSessionStatus(),await a20_0xe42e24(_0x543071);}catch(_0x42e05a){const _0x5d0107=await handleFirestoreError(_0x42e05a);_0x5d0107&&(_0x42e05a['code']='network-error');throw _0x42e05a;}},'getCountFromServer':async function(_0x1af6ac){try{return checkSessionStatus(),await a20_0x4d620a(_0x1af6ac);}catch(_0x31f9a0){const _0x4a19e4=await handleFirestoreError(_0x31f9a0);_0x4a19e4&&(_0x31f9a0['code']='network-error');throw _0x31f9a0;}},'addDoc':async function(_0x561873,_0x3cf513){const _0x5c479f=a20_0x4bb2;try{return checkSessionStatus(),await a20_0x44d3b9(_0x561873,_0x3cf513);}catch(_0x456906){const _0xdf1155=await handleFirestoreError(_0x456906);_0xdf1155&&(_0x456906['code']=_0x5c479f(0x102));throw _0x456906;}},'setDoc':async function(_0x4bf3d3,_0x8de523,_0x5515a8){const _0x6299d3=a20_0x4bb2;try{return checkSessionStatus(),await a20_0xfbea02(_0x4bf3d3,_0x8de523,_0x5515a8);}catch(_0x33c59c){const _0x137c2b=await handleFirestoreError(_0x33c59c);_0x137c2b&&(_0x33c59c[_0x6299d3(0x107)]='network-error');throw _0x33c59c;}},'updateDoc':async function(_0x35e150,_0x140761){try{return checkSessionStatus(),await a20_0x3e5d5b(_0x35e150,_0x140761);}catch(_0x148d3f){const _0x4f7734=await handleFirestoreError(_0x148d3f);_0x4f7734&&(_0x148d3f['code']='network-error');throw _0x148d3f;}},'deleteDoc':async function(_0x53a6b3){const _0xc1ce7c=a20_0x4bb2;try{return checkSessionStatus(),await a20_0x4978ac(_0x53a6b3);}catch(_0x44ca16){const _0x41b422=await handleFirestoreError(_0x44ca16);_0x41b422&&(_0x44ca16[_0xc1ce7c(0x107)]='network-error');throw _0x44ca16;}},'writeBatch':function(){const _0x8e2d7a=a20_0x4bb2;checkSessionStatus();const _0x47db8f=a20_0x331ea0(db),_0xdaab3=_0x47db8f['commit']['bind'](_0x47db8f);return _0x47db8f[_0x8e2d7a(0x106)]=async function(){try{return checkSessionStatus(),await _0xdaab3();}catch(_0x433874){const _0x291109=await handleFirestoreError(_0x433874);_0x291109&&(_0x433874['code']='network-error');throw _0x433874;}},_0x47db8f;},'serverTimestamp':function(){return a20_0x126ad1();},'Timestamp':{'now':function(){return a20_0x3f4afb['now']();},'fromDate':function(_0x55e041){const _0x3dc134=a20_0x4bb2;return a20_0x3f4afb[_0x3dc134(0x10d)](_0x55e041);}},'enableNetwork':async function(){try{return await enableNetwork(db);}catch(_0x558da4){console['error']('Failed\x20to\x20enable\x20network:',_0x558da4);throw _0x558da4;}},'disableNetwork':async function(){const _0x55321f=a20_0x4bb2;try{return await disableNetwork(db);}catch(_0x7128a7){console['error'](_0x55321f(0xfd),_0x7128a7);throw _0x7128a7;}}};window['addEventListener'](a20_0x58b729(0x10e),function(_0x2dd4ce){const _0x4d15c1=a20_0x58b729;if(_0x2dd4ce['error']){if(_0x2dd4ce[_0x4d15c1(0x10e)][_0x4d15c1(0x107)]==='session-suspended')_0x2dd4ce['preventDefault'](),console['log']('Caught\x20session\x20suspended\x20error:',_0x2dd4ce['error']['message']);else(_0x2dd4ce[_0x4d15c1(0x10e)]['code']==='unavailable'||_0x2dd4ce['error']['code']==='resource-exhausted'||_0x2dd4ce['error'][_0x4d15c1(0xff)]&&_0x2dd4ce['error']['message']['includes']('network')||_0x2dd4ce['error']['code']&&_0x2dd4ce['error']['code']['includes']('network'))&&(_0x2dd4ce[_0x4d15c1(0x10a)](),console['log'](_0x4d15c1(0x103),_0x2dd4ce[_0x4d15c1(0x10e)]['message']),handleNetworkError());}}),window[a20_0x58b729(0x109)]=rdlFirestore,console['log']('Firestore\x20wrapper\x20initialized\x20with\x20session\x20checking\x20and\x20network\x20error\x20handling');