(function(_0x25a7dc,_0x4bc170){const _0xb1e116=a0_0x2726,_0x33831b=_0x25a7dc();while(!![]){try{const _0x1d2f46=-parseInt(_0xb1e116(0x194))/0x1*(parseInt(_0xb1e116(0x16e))/0x2)+parseInt(_0xb1e116(0x198))/0x3+-parseInt(_0xb1e116(0x193))/0x4*(parseInt(_0xb1e116(0x19a))/0x5)+-parseInt(_0xb1e116(0x18f))/0x6*(parseInt(_0xb1e116(0x19d))/0x7)+-parseInt(_0xb1e116(0x19b))/0x8+parseInt(_0xb1e116(0x178))/0x9*(-parseInt(_0xb1e116(0x19e))/0xa)+parseInt(_0xb1e116(0x16c))/0xb;if(_0x1d2f46===_0x4bc170)break;else _0x33831b['push'](_0x33831b['shift']());}catch(_0x208959){_0x33831b['push'](_0x33831b['shift']());}}}(a0_0x55de,0x4d99a));const a0_0x42dfe9=(function(){let _0x377327=!![];return function(_0x21d534,_0x1c2b63){const _0x304691=_0x377327?function(){const _0x1b0b5c=a0_0x2726;if(_0x1c2b63){const _0x2fc5a3=_0x1c2b63[_0x1b0b5c(0x173)](_0x21d534,arguments);return _0x1c2b63=null,_0x2fc5a3;}}:function(){};return _0x377327=![],_0x304691;};}()),a0_0x5a7a58=a0_0x42dfe9(this,function(){const _0x28f05e=a0_0x2726;return a0_0x5a7a58[_0x28f05e(0x187)]()[_0x28f05e(0x16f)](_0x28f05e(0x185))[_0x28f05e(0x187)]()[_0x28f05e(0x174)](a0_0x5a7a58)[_0x28f05e(0x16f)]('(((.+)+)+)+$');});a0_0x5a7a58();const a0_0x2e1791=(function(){let _0x432bd8=!![];return function(_0x28180e,_0x4d9c3d){const _0x1e0708=_0x432bd8?function(){const _0x4cfb79=a0_0x2726;if(_0x4d9c3d){const _0x11a186=_0x4d9c3d[_0x4cfb79(0x173)](_0x28180e,arguments);return _0x4d9c3d=null,_0x11a186;}}:function(){};return _0x432bd8=![],_0x1e0708;};}()),a0_0x4f56af=a0_0x2e1791(this,function(){const _0x552ce9=a0_0x2726,_0x1b9db7=function(){const _0x535c06=a0_0x2726;let _0x5eaa75;try{_0x5eaa75=Function('return\x20(function()\x20'+_0x535c06(0x181)+');')();}catch(_0x20776a){_0x5eaa75=window;}return _0x5eaa75;},_0x599731=_0x1b9db7(),_0x196993=_0x599731['console']=_0x599731[_0x552ce9(0x190)]||{},_0x4cacdc=[_0x552ce9(0x18d),_0x552ce9(0x189),'info','error',_0x552ce9(0x183),_0x552ce9(0x170),'trace'];for(let _0x5c0724=0x0;_0x5c0724<_0x4cacdc[_0x552ce9(0x186)];_0x5c0724++){const _0x26d8c8=a0_0x2e1791[_0x552ce9(0x174)][_0x552ce9(0x18e)][_0x552ce9(0x196)](a0_0x2e1791),_0x49912e=_0x4cacdc[_0x5c0724],_0x4ea1ce=_0x196993[_0x49912e]||_0x26d8c8;_0x26d8c8[_0x552ce9(0x16d)]=a0_0x2e1791[_0x552ce9(0x196)](a0_0x2e1791),_0x26d8c8[_0x552ce9(0x187)]=_0x4ea1ce[_0x552ce9(0x187)][_0x552ce9(0x196)](_0x4ea1ce),_0x196993[_0x49912e]=_0x26d8c8;}});function a0_0x2726(_0x4c0fcc,_0x375d17){const _0x25023b=a0_0x55de();return a0_0x2726=function(_0x4f56af,_0x2e1791){_0x4f56af=_0x4f56af-0x16c;let _0x4d3ba0=_0x25023b[_0x4f56af];return _0x4d3ba0;},a0_0x2726(_0x4c0fcc,_0x375d17);}a0_0x4f56af();import{db}from'../firebase-config.js';function a0_0x55de(){const _0x41b8ce=['bind','username','371013xWVQvA','forEach','5TyOjRw','1317864BsXtwN','entries','7TKSaOg','153590ipPhMw','23599994QNAdoG','__proto__','294MwXqnF','search','table','playersD2','userProfiles','apply','constructor','every','players','set','369LElXjP','push','toISOString','active','success','createdAt','matchesD3','data','matchesD2','{}.constructor(\x22return\x20this\x22)(\x20)','name','exception','has','(((.+)+)+)+$','length','toString','divisions','warn','email','commit','elo','log','prototype','882294sYHKZx','console','discord','update','2434444pQIFJC','2729exNSGM','docs'];a0_0x55de=function(){return _0x41b8ce;};return a0_0x55de();}import{collection,doc,getDoc,getDocs,writeBatch,setDoc}from'firebase/firestore';export async function migrateUserData(){const _0x41c941=a0_0x2726,_0x2dd10f=['players',_0x41c941(0x171),'playersD3','nonParticipants',_0x41c941(0x172)],_0x3ebbeb=[];let _0x33fc10=writeBatch(db),_0x56ba0b=0x0;const _0x22d125=collection(db,_0x41c941(0x172)),_0x478ac3=new Map(),_0x489aae=(_0x134e27,_0x11695f)=>{const _0x2ee637=_0x41c941;_0x56ba0b>=0x1f4&&(_0x3ebbeb[_0x2ee637(0x179)](_0x33fc10),_0x33fc10=writeBatch(db),_0x56ba0b=0x0);const _0xf330b2=doc(_0x22d125,_0x134e27);_0x33fc10[_0x2ee637(0x177)](_0xf330b2,_0x11695f),_0x56ba0b++;};for(const _0x221ccf of _0x2dd10f){const _0x16e095=collection(db,_0x221ccf),_0x5955fd=await getDocs(_0x16e095);_0x5955fd[_0x41c941(0x195)][_0x41c941(0x199)](_0x556d4f=>{const _0x3a7592=_0x41c941,_0x409b13=_0x556d4f['id'],_0x4dc99a=_0x556d4f[_0x3a7592(0x17f)]();!_0x478ac3[_0x3a7592(0x184)](_0x409b13)&&_0x478ac3[_0x3a7592(0x177)](_0x409b13,{'username':_0x4dc99a[_0x3a7592(0x197)]||_0x4dc99a[_0x3a7592(0x182)]||_0x409b13,'email':_0x4dc99a[_0x3a7592(0x18a)]||null,'discord':_0x4dc99a[_0x3a7592(0x191)]||null,'createdAt':_0x4dc99a[_0x3a7592(0x17d)]||new Date()[_0x3a7592(0x17a)](),'divisions':[]});const _0x1e4f84=_0x478ac3['get'](_0x409b13);if(_0x221ccf===_0x3a7592(0x176))_0x1e4f84[_0x3a7592(0x188)][_0x3a7592(0x179)]({'id':0x1,'elo':_0x4dc99a[_0x3a7592(0x18c)]||0x5dc,'isActive':_0x4dc99a[_0x3a7592(0x17b)]!==![]});else{if(_0x221ccf===_0x3a7592(0x171))_0x1e4f84[_0x3a7592(0x188)]['push']({'id':0x2,'elo':_0x4dc99a[_0x3a7592(0x18c)]||0x5dc,'isActive':_0x4dc99a[_0x3a7592(0x17b)]!==![]});else _0x221ccf==='playersD3'&&_0x1e4f84[_0x3a7592(0x188)][_0x3a7592(0x179)]({'id':0x3,'elo':_0x4dc99a['elo']||0x5dc,'isActive':_0x4dc99a[_0x3a7592(0x17b)]!==![]});}});}for(const [_0x37cb9f,_0x5452d3]of _0x478ac3[_0x41c941(0x19c)]()){_0x489aae(_0x37cb9f,_0x5452d3);}_0x56ba0b>0x0&&_0x3ebbeb[_0x41c941(0x179)](_0x33fc10);const _0x4f1b04=[];for(const _0x49cc15 of _0x3ebbeb){try{await _0x49cc15[_0x41c941(0x18b)](),_0x4f1b04[_0x41c941(0x179)]({'success':!![]});}catch(_0x34cce5){_0x4f1b04[_0x41c941(0x179)]({'success':![],'error':_0x34cce5});}}return{'usersProcessed':_0x478ac3['size'],'batchesExecuted':_0x4f1b04['length'],'success':_0x4f1b04[_0x41c941(0x175)](_0x326bbd=>_0x326bbd[_0x41c941(0x17c)])};}export async function updateMatchReferences(){const _0x1e9d97=a0_0x2726,_0x4e87aa=['matches',_0x1e9d97(0x180),_0x1e9d97(0x17e)];let _0x5e56b0=0x0;for(const _0x808d4c of _0x4e87aa){const _0x4f7fca=collection(db,_0x808d4c),_0x68797=await getDocs(_0x4f7fca),_0x3bda8f=0x1f4;let _0x1af1df=writeBatch(db),_0x38a623=0x0;for(const _0x269e7c of _0x68797[_0x1e9d97(0x195)]){const _0x4bd1db=_0x269e7c[_0x1e9d97(0x17f)](),_0x889ea=doc(db,_0x808d4c,_0x269e7c['id']);_0x1af1df[_0x1e9d97(0x192)](_0x889ea,{'isMigrated':!![],'lastModified':new Date()[_0x1e9d97(0x17a)]()}),_0x38a623++,_0x5e56b0++,_0x38a623>=_0x3bda8f&&(await _0x1af1df[_0x1e9d97(0x18b)](),_0x1af1df=writeBatch(db),_0x38a623=0x0);}_0x38a623>0x0&&await _0x1af1df[_0x1e9d97(0x18b)]();}return{'updatedCount':_0x5e56b0};}