const a51_0x183b85=a51_0x426f,a51_0x1850ee=(function(){let _0x281edc=!![];return function(_0x353fbd,_0x30a115){const _0x33cfc5=_0x281edc?function(){const _0x12aa9c=a51_0x426f;if(_0x30a115){const _0x51f128=_0x30a115[_0x12aa9c(0xd7)](_0x353fbd,arguments);return _0x30a115=null,_0x51f128;}}:function(){};return _0x281edc=![],_0x33cfc5;};}()),a51_0x2a3cf7=a51_0x1850ee(this,function(){const _0x4dd322=a51_0x426f,_0x2902b8=function(){const _0x47f942=a51_0x426f;let _0x603107;try{_0x603107=Function('return\x20(function()\x20'+_0x47f942(0xc9)+');')();}catch(_0x4ec2ee){_0x603107=window;}return _0x603107;},_0xd0918b=_0x2902b8(),_0x3cdde8=_0xd0918b[_0x4dd322(0xf2)]=_0xd0918b['console']||{},_0x227a58=['log','warn','info','error','exception','table',_0x4dd322(0xad)];for(let _0x2f01c7=0x0;_0x2f01c7<_0x227a58[_0x4dd322(0xbe)];_0x2f01c7++){const _0x367612=a51_0x1850ee[_0x4dd322(0x9b)]['prototype'][_0x4dd322(0xfb)](a51_0x1850ee),_0x32c194=_0x227a58[_0x2f01c7],_0x4d26e4=_0x3cdde8[_0x32c194]||_0x367612;_0x367612['__proto__']=a51_0x1850ee[_0x4dd322(0xfb)](a51_0x1850ee),_0x367612['toString']=_0x4d26e4[_0x4dd322(0xae)]['bind'](_0x4d26e4),_0x3cdde8[_0x32c194]=_0x367612;}});a51_0x2a3cf7();import{auth,db}from'./firebase-config.js';import{doc,getDoc,setDoc,collection,query,where,getDocs,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const RIBBON_DEFINITIONS={'Rematch\x20Ribbon':{'description':'Beat\x20a\x20pilot\x20with\x20the\x20\x22Rematch\x22\x20subgame\x20selected','image':a51_0x183b85(0xd2),'color':'#FF6B6B'},'Overachiever\x20Ribbon':{'description':'Played\x20over\x20100\x20matches','image':'../images/ribbons/Overachiever.png','color':a51_0x183b85(0xf9),'levels':[0x64,0xc8,0x12c,0x190,0x1f4,0x258,0x2bc,0x320,0x384,0x3e8]},'Brick\x20Wall':{'description':a51_0x183b85(0xaf),'image':'../images/ribbons/BrickWall.png','color':a51_0x183b85(0xc8),'levels':[0x50,0x55,0x5a,0x5f,0x64]},'Collector\x20Ribbon':{'description':a51_0x183b85(0xf7),'image':'../images/ribbons/Collector.png','color':'#6C5CE7','levels':[0x5,0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32]},'Sub-Gamer\x20Ribbon':{'description':'Play\x20over\x2050\x20subgame\x20matches','image':'../images/ribbons/Subgamer.png','color':'#A29BFE','levels':[0x32,0x64,0x96,0xc8,0xfa,0x12c,0x15e,0x190,0x1c2,0x1f4]},'Explorer\x20Ribbon':{'description':'Played\x20at\x20least\x2020\x20unique\x20maps','image':a51_0x183b85(0x8a),'color':a51_0x183b85(0xf5),'levels':[0x14,0x28,0x3c,0x50,0x64,0x78,0x8c,0xa0,0xb4,0xc8]},'Socialite\x20Ribbon':{'description':a51_0x183b85(0x9c),'image':'../images/ribbons/Socialite.png','color':'#FF7675','levels':[0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32,0x37]},'Underdog\x20Ribbon':{'description':'Beat\x20a\x20pilot\x20ranked\x20higher\x20than\x20you','image':a51_0x183b85(0xee),'color':'#FF9500','levels':[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0x9,0xa]},'Domination\x20Ribbon':{'description':a51_0x183b85(0x108),'image':'../images/ribbons/Domination.png','color':'#8E44AD','levels':[0x1,0x2,0x3,0x4,0x5]},'Top\x20Bronze\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Bronze\x20rank','image':'../images/ribbons/toprank.png','color':'#CD7F32'},'Top\x20Silver\x20Pilot':{'description':a51_0x183b85(0xcf),'image':'../images/ribbons/toprank.png','color':'#C0C0C0'},'Top\x20Gold\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Gold\x20rank','image':'../images/ribbons/toprank.png','color':a51_0x183b85(0x86)},'Top\x20Emerald\x20Pilot':{'description':a51_0x183b85(0x106),'image':'../images/ribbons/toprank.png','color':'#50C878'}};export const RIBBON_CSS='\x0a/*\x20Stats\x20integration\x20styles\x20*/\x0a.ribbon-section\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-top:\x201rem;\x0a}\x0a\x0a.ribbon-stat-item.full-width\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-bottom:\x200;\x0a}\x0a\x0a/*\x20Military\x20Ribbon\x20Rack\x20Styling\x20-\x20NO\x20OUTER\x20CONTAINER\x20*/\x0a.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20padding:\x200;\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20box-shadow:\x20none;\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20align-items:\x20flex-start;\x0a}\x0a\x0a.ribbon-rack-empty-inline\x20{\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20padding:\x2060px\x2040px;\x0a\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20border-radius:\x2012px;\x0a\x20\x20\x20\x20border:\x202px\x20solid\x20rgba(255,\x20255,\x20255,\x200.1);\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a}\x0a\x0a.empty-rack-text\x20{\x0a\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20font-style:\x20italic;\x0a\x20\x20\x20\x20font-size:\x201.2rem;\x0a}\x0a\x0a/*\x20Ribbon\x20Rows\x20*/\x0a.ribbon-row\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x206px;\x0a\x20\x20\x20\x20margin-bottom:\x206px;\x0a\x20\x20\x20\x20justify-content:\x20flex-start;\x0a}\x0a\x0a.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20margin-left:\x2060px;\x0a}\x0a\x0a/*\x20Individual\x20Military\x20Ribbon\x20Styling\x20-\x20FIXED\x20OVERFLOW\x20FOR\x20LEVEL\x20INDICATOR\x20*/\x0a.military-ribbon\x20{\x0a\x20\x20\x20\x20position:\x20relative;\x0a\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20transition:\x20transform\x200.3s\x20ease;\x0a\x20\x20\x20\x20flex-shrink:\x200;\x0a\x20\x20\x20\x20width:\x20190px;\x0a\x20\x20\x20\x20height:\x2060px;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#333;\x0a\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20overflow:\x20visible;\x20/*\x20Changed\x20from\x20hidden\x20to\x20visible\x20*/\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20margin:\x2012px\x2012px\x2012px\x200;\x20/*\x20Added\x20margin\x20to\x20prevent\x20clipping\x20*/\x0a}\x0a\x0a.military-ribbon:hover\x20{\x0a\x20\x20\x20\x20transform:\x20translateY(-4px);\x0a\x20\x20\x20\x20z-index:\x2010;\x0a}\x0a\x0a/*\x20Ribbon\x20image\x20container\x20to\x20handle\x20the\x20actual\x20overflow\x20*/\x0a.ribbon-image-container\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20border-radius:\x201px;\x0a}\x0a\x0a.ribbon-image\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20object-fit:\x20cover;\x0a\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20image-rendering:\x20crisp-edges;\x0a}\x0a\x0a.ribbon-fallback\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20text-shadow:\x200\x202px\x204px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a}\x0a\x0a.ribbon-name\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.9);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201.2;\x0a\x20\x20\x20\x20margin-top:\x206px;\x0a\x20\x20\x20\x20max-width:\x20120px;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20text-overflow:\x20ellipsis;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20-24px;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20font-weight:\x20500;\x0a}\x0a\x0a.military-ribbon:hover\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20display:\x20block;\x0a}\x0a\x0a.ribbon-devices\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x2050%;\x0a\x20\x20\x20\x20right:\x206px;\x0a\x20\x20\x20\x20transform:\x20translateY(-50%);\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x203px;\x0a\x20\x20\x20\x20z-index:\x205;\x0a}\x0a\x0a.ribbon-device\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20text-shadow:\x200\x200\x204px\x20rgba(0,0,0,0.9);\x0a\x20\x20\x20\x20filter:\x20drop-shadow(0\x202px\x204px\x20rgba(0,0,0,0.8));\x0a}\x0a\x0a.bronze-star\x20{\x0a\x20\x20\x20\x20color:\x20#CD7F32;\x0a}\x0a\x0a.silver-star\x20{\x0a\x20\x20\x20\x20color:\x20#C0C0C0;\x0a}\x0a\x0a.gold-star\x20{\x0a\x20\x20\x20\x20color:\x20#FFD700;\x0a}\x0a\x0a/*\x20Level\x20indicator\x20-\x20NOW\x20FULLY\x20VISIBLE\x20*/\x0a.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x20-8px;\x0a\x20\x20\x20\x20right:\x20-8px;\x0a\x20\x20\x20\x20background:\x20#FFD700;\x0a\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20width:\x2024px;\x0a\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#FFF;\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x208px\x20rgba(0,0,0,0.7);\x0a\x20\x20\x20\x20z-index:\x206;\x0a}\x0a\x0a/*\x20Custom\x20tooltip\x20-\x20only\x20this\x20one\x20will\x20show\x20*/\x0a.military-ribbon::before\x20{\x0a\x20\x20\x20\x20content:\x20attr(data-tooltip);\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20100%;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20background:\x20rgba(0,0,0,0.95);\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20padding:\x208px\x2012px;\x0a\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20pointer-events:\x20none;\x0a\x20\x20\x20\x20transition:\x20opacity\x200.3s;\x0a\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20margin-bottom:\x208px;\x0a\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(255,\x20255,\x20255,\x200.2);\x0a}\x0a\x0a.military-ribbon:hover::before\x20{\x0a\x20\x20\x20\x20opacity:\x201;\x0a}\x0a\x0a/*\x20Responsive\x20adjustments\x20*/\x0a@media\x20(max-width:\x201024px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2034px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x208px\x208px\x208px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-6px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-6px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2052px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-20px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20768px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2028px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x206px\x206px\x206px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x209px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-5px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-5px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2042px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2011px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-18px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x205px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20480px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2070px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x205px\x205px\x205px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2036px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x204px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-4px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-4px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a.stats-grid\x20.ribbon-section\x20{\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20padding:\x200;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20{\x0a\x20\x20\x20\x20background-color:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20padding:\x2025px;\x0a\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20.stat-label\x20{\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20text-transform:\x20uppercase;\x0a\x20\x20\x20\x20opacity:\x200.9;\x0a\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.95);\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a}\x0a\x0a.ribbon-level-indicator.level-1\x20{\x20background:\x20#808080;\x20}\x0a.ribbon-level-indicator.level-2\x20{\x20background:\x20#CD7F32;\x20}\x0a.ribbon-level-indicator.level-3\x20{\x20background:\x20#b9f1fc;\x20}\x0a.ribbon-level-indicator.level-4\x20{\x20background:\x20#FFD700;\x20}\x0a.ribbon-level-indicator.level-5-plus\x20{\x20background:\x20#50C878;\x20}\x0a';class RibbonCacheManager{constructor(){const _0x46f7e6=a51_0x183b85;this['memoryCache']=new Map(),this[_0x46f7e6(0x80)]=0x3c*0x3c*0x3e8,this['CACHE_KEY_PREFIX']=_0x46f7e6(0xbf),this[_0x46f7e6(0xdc)]=Date['now'](),this[_0x46f7e6(0x104)]=0x1e*0x3c*0x3e8;}['getCacheKey'](_0x4da727,_0x4ed2f7){return''+this['CACHE_KEY_PREFIX']+_0x4da727+'_'+_0x4ed2f7;}['getCachedData'](_0x10fe55,_0x527ae0){const _0x1ddc15=a51_0x183b85;this['autoCleanup']();const _0x1f1ec4=this[_0x1ddc15(0x88)](_0x10fe55,_0x527ae0);if(this['memoryCache']['has'](_0x1f1ec4)){const _0x5cfc9c=this['memoryCache']['get'](_0x1f1ec4);if(Date['now']()-_0x5cfc9c['timestamp']<this['CACHE_DURATION'])return console['log']('üöÄ\x20Cache\x20hit\x20(memory)\x20for\x20'+_0x10fe55),_0x5cfc9c['data'];this['memoryCache']['delete'](_0x1f1ec4);}const _0xcfeadc=localStorage['getItem'](_0x1f1ec4);if(_0xcfeadc)try{const _0x4ac5f0=JSON[_0x1ddc15(0x100)](_0xcfeadc);if(Date['now']()-_0x4ac5f0[_0x1ddc15(0xe7)]<this[_0x1ddc15(0x80)])return this[_0x1ddc15(0x8d)]['set'](_0x1f1ec4,{'data':_0x4ac5f0[_0x1ddc15(0xb8)],'timestamp':_0x4ac5f0[_0x1ddc15(0xe7)],'matchCount':_0x4ac5f0[_0x1ddc15(0x8e)]}),console['log']('üíæ\x20Cache\x20hit\x20(localStorage)\x20for\x20'+_0x10fe55),_0x4ac5f0[_0x1ddc15(0xb8)];localStorage['removeItem'](_0x1f1ec4);}catch(_0x2f169c){localStorage['removeItem'](_0x1f1ec4);}return null;}['setCachedData'](_0x31f746,_0x1e173f,_0x1537a6,_0x1ac530){const _0xb3c3d0=a51_0x183b85,_0x36611b=this['getCacheKey'](_0x31f746,_0x1e173f),_0x55726b=Date['now']();this['memoryCache']['set'](_0x36611b,{'data':_0x1537a6,'timestamp':_0x55726b,'matchCount':_0x1ac530});try{const _0x46815b={'ribbons':_0x1537a6,'matchCount':_0x1ac530,'timestamp':_0x55726b,'version':0x3};localStorage['setItem'](_0x36611b,JSON['stringify'](_0x46815b));}catch(_0x37d455){this[_0xb3c3d0(0xea)]();try{localStorage[_0xb3c3d0(0xe1)](_0x36611b,JSON['stringify'](data));}catch(_0x142c60){}}}['shouldRefreshCache'](_0x209c86,_0x3a9dd0,_0x4532b6){const _0x588528=a51_0x183b85,_0x909982=this['getCacheKey'](_0x209c86,_0x3a9dd0);if(this['memoryCache']['has'](_0x909982)){const _0x499cba=this[_0x588528(0x8d)]['get'](_0x909982);return _0x499cba['matchCount']!==_0x4532b6;}const _0x92ae7e=localStorage[_0x588528(0x91)](_0x909982);if(_0x92ae7e)try{const _0x267653=JSON[_0x588528(0x100)](_0x92ae7e);return _0x267653[_0x588528(0x8e)]!==_0x4532b6;}catch(_0x372251){return!![];}return!![];}[a51_0x183b85(0xa4)](_0x2c6e8a,_0x5b44d3){const _0x249c61=a51_0x183b85,_0x1952b3=this['getCacheKey'](_0x2c6e8a,_0x5b44d3);this[_0x249c61(0x8d)][_0x249c61(0xca)](_0x1952b3),localStorage[_0x249c61(0xa3)](_0x1952b3),console['log'](_0x249c61(0xf4)+_0x2c6e8a+'\x20('+_0x5b44d3+')\x20-\x20new\x20match\x20detected');}['autoCleanup'](){const _0x2f6f1e=Date['now']();_0x2f6f1e-this['lastCleanup']>this['CLEANUP_INTERVAL']&&(this['cleanup'](),this['lastCleanup']=_0x2f6f1e);}[a51_0x183b85(0x9a)](){const _0x52f184=a51_0x183b85,_0x4f9448=Date['now']();let _0x3b56f8=0x0,_0x3ce033=0x0;for(const [_0x470a57,_0xe07dc7]of this['memoryCache']['entries']()){_0x4f9448-_0xe07dc7['timestamp']>this['CACHE_DURATION']&&(this['memoryCache'][_0x52f184(0xca)](_0x470a57),_0x3b56f8++);}for(let _0x5d9942=localStorage['length']-0x1;_0x5d9942>=0x0;_0x5d9942--){const _0x23097f=localStorage['key'](_0x5d9942);if(_0x23097f&&_0x23097f['startsWith'](this[_0x52f184(0xf3)]))try{const _0x1e3a72=JSON['parse'](localStorage[_0x52f184(0x91)](_0x23097f));_0x4f9448-_0x1e3a72[_0x52f184(0xe7)]>this['CACHE_DURATION']&&(localStorage['removeItem'](_0x23097f),_0x3ce033++);}catch(_0x971cc2){localStorage[_0x52f184(0xa3)](_0x23097f),_0x3ce033++;}}}[a51_0x183b85(0xea)](){const _0x41322f=a51_0x183b85,_0xd9ef75=[];for(let _0x233729=0x0;_0x233729<localStorage['length'];_0x233729++){const _0x3d66c9=localStorage[_0x41322f(0x98)](_0x233729);if(_0x3d66c9&&_0x3d66c9['startsWith'](this['CACHE_KEY_PREFIX']))try{const _0x43356e=JSON['parse'](localStorage[_0x41322f(0x91)](_0x3d66c9));_0xd9ef75['push']({'key':_0x3d66c9,'timestamp':_0x43356e[_0x41322f(0xe7)]});}catch(_0x1f4bb8){localStorage['removeItem'](_0x3d66c9);}}_0xd9ef75['sort']((_0x3e6476,_0x1935d0)=>_0x3e6476['timestamp']-_0x1935d0['timestamp']);const _0x4a5d0a=Math['floor'](_0xd9ef75['length']/0x2);for(let _0x58c583=0x0;_0x58c583<_0x4a5d0a;_0x58c583++){localStorage['removeItem'](_0xd9ef75[_0x58c583]['key']);}}[a51_0x183b85(0xb6)](){const _0x392c69=a51_0x183b85;return{'memoryEntries':this['memoryCache'][_0x392c69(0xa7)],'lastCleanup':new Date(this['lastCleanup'])['toLocaleTimeString']()};}}class MatchCacheManager{constructor(){this['matchCache']=new Map(),this['CACHE_DURATION']=0xf*0x3c*0x3e8,this['lastCleanup']=Date['now']();}['getCachedMatches'](_0x853724,_0xb789a1){const _0x1e742=a51_0x183b85;this['autoCleanup']();const _0x13192d=_0x853724+'_'+_0xb789a1,_0x2489fc=this[_0x1e742(0xb1)]['get'](_0x13192d);if(_0x2489fc&&Date['now']()-_0x2489fc['timestamp']<this['CACHE_DURATION'])return console[_0x1e742(0xda)](_0x1e742(0x99)+_0x853724),_0x2489fc['matches'];return _0x2489fc&&this[_0x1e742(0xb1)]['delete'](_0x13192d),null;}['setCachedMatches'](_0x33b2dc,_0x3c126f,_0x3c0ab6){const _0x53e162=a51_0x183b85,_0x5ed0ff=_0x33b2dc+'_'+_0x3c126f;this['matchCache'][_0x53e162(0x81)](_0x5ed0ff,{'matches':_0x3c0ab6,'timestamp':Date[_0x53e162(0xe3)]()});}['autoCleanup'](){const _0x470db4=a51_0x183b85,_0x1f61dd=Date['now']();if(_0x1f61dd-this['lastCleanup']>0x5*0x3c*0x3e8){let _0x45b133=0x0;for(const [_0x187054,_0x5d4be3]of this['matchCache']['entries']()){_0x1f61dd-_0x5d4be3['timestamp']>this[_0x470db4(0x80)]&&(this['matchCache']['delete'](_0x187054),_0x45b133++);}this['lastCleanup']=_0x1f61dd;}}['getCacheStats'](){const _0x57f91a=a51_0x183b85;return{'entries':this[_0x57f91a(0xb1)]['size'],'lastCleanup':new Date(this[_0x57f91a(0xdc)])[_0x57f91a(0xf1)]()};}}class RibbonSystem{constructor(){this['pendingEvaluations']=new Map(),this['batchTimer']=null,this['BATCH_DELAY']=0x32,this['playerDataCache']=new Map();}async[a51_0x183b85(0xfe)](_0x365e96,_0x4879f3){const _0x5f233b=_0x4879f3==='D1'?'players':_0x4879f3==='D2'?'playersD2':'playersD3',_0x58d8dd=collection(db,_0x5f233b),_0x3f81e9=await getDocs(_0x58d8dd),_0x4b8f69=new Map();return _0x3f81e9['forEach'](_0x4e66fe=>{const _0x4afb61=a51_0x426f,_0x2c76f2=_0x4e66fe[_0x4afb61(0x105)]();_0x2c76f2['username']&&(_0x2c76f2['eloRating']!==undefined&&(_0x2c76f2[_0x4afb61(0xcd)]=_0x2c76f2[_0x4afb61(0x83)]),_0x4b8f69[_0x4afb61(0x81)](_0x2c76f2[_0x4afb61(0x103)],_0x2c76f2));}),console['log']('üìä\x20Bulk\x20loaded\x20'+_0x4b8f69['size']+'\x20players\x20from\x20'+_0x5f233b),_0x4b8f69;}async['evaluateAllRibbonsFromData'](_0x543961,_0x22af57,_0xa522c9,_0x21e2c0){const _0x421711=a51_0x183b85,_0x431d44={},_0x2febdf=_0x22af57[_0x421711(0x103)],_0x36dfd3={'totalMatches':_0x543961['length'],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0,'dominatedRanks':new Set()},_0x47b6b7=new Set();_0x543961['forEach'](_0x162c70=>{const _0x1e0f65=_0x421711,_0x1a221b=_0x162c70[_0x1e0f65(0xd1)]===_0x2febdf,_0x12f6ac=_0x1a221b?_0x162c70['loserUsername']:_0x162c70['winnerUsername'];if(_0x12f6ac)_0x47b6b7['add'](_0x12f6ac);}),console['log']('üöÄ\x20Bulk\x20loading\x20'+_0x47b6b7['size']+'\x20player\x20records\x20for\x20underdog\x20calculations...');const _0x1d1ea2=await this['bulkLoadPlayerData']([..._0x47b6b7,_0x2febdf],_0x21e2c0),_0x7e9dc3=_0x1d1ea2[_0x421711(0xb0)](_0x2febdf);!_0x7e9dc3&&console['log']('‚ö†Ô∏è\x20No\x20current\x20player\x20data\x20found\x20for\x20'+_0x2febdf);const _0x1fbf9d={0x0:new Set(),0x1:new Set(),0x2:new Set(),0x3:new Set(),0x4:new Set()};_0x543961[_0x421711(0xfd)](_0x49fc57=>{const _0x3db9fc=_0x421711,_0x36bd9d=_0x49fc57['winnerUsername']===_0x2febdf,_0x9fab9c=_0x36bd9d?_0x49fc57['loserUsername']:_0x49fc57[_0x3db9fc(0xd1)];if(_0x36bd9d){_0x36dfd3['wins']++;_0x49fc57[_0x3db9fc(0xbb)]===_0x3db9fc(0x8c)&&_0x36dfd3['rematchWins']++;this[_0x3db9fc(0xcc)](_0x49fc57,_0x2febdf,_0x7e9dc3,_0x1d1ea2)&&_0x36dfd3[_0x3db9fc(0xa1)]++;const _0x42d1d7=_0x1d1ea2['get'](_0x9fab9c);if(_0x42d1d7){const _0x4760bd=_0x42d1d7['eloRating']||0x0,_0x2a793a=getPlayerRankTier(_0x4760bd);_0x1fbf9d[_0x2a793a]['add'](_0x9fab9c);}}_0x49fc57['subgameType']&&_0x49fc57[_0x3db9fc(0xbb)]!=='Standard'&&_0x36dfd3['subgameMatches']++,_0x49fc57[_0x3db9fc(0xc7)]&&_0x36dfd3['uniqueMaps']['add'](_0x49fc57['mapPlayed']),_0x9fab9c&&_0x36dfd3['uniqueOpponents'][_0x3db9fc(0xc2)](_0x9fab9c);}),Object['keys'](_0x1fbf9d)['forEach'](_0x151665=>{_0x1fbf9d[_0x151665]['size']>=0x5&&_0x36dfd3['dominatedRanks']['add'](parseInt(_0x151665));}),console['log'](_0x421711(0xb3)+_0x36dfd3[_0x421711(0xa1)]+'\x20underdog\x20victories\x20for\x20'+_0x2febdf),console[_0x421711(0xda)]('üëë\x20Dominated\x20'+_0x36dfd3[_0x421711(0x85)][_0x421711(0xa7)]+'\x20ranks:\x20['+Array[_0x421711(0xc3)](_0x36dfd3[_0x421711(0x85)])[_0x421711(0xf8)](_0x35e571=>getRankTierName(_0x35e571))['join'](',\x20')+']');const _0x52c83b=_0x36dfd3['totalMatches']>0x0?_0x36dfd3['wins']/_0x36dfd3['totalMatches']*0x64:0x0,_0x5b6bd7=[[_0x421711(0x90),this['evaluateOverachieverRibbonFromCount'](_0x36dfd3['totalMatches'],_0xa522c9)],['Rematch\x20Ribbon',this['evaluateRematchRibbonFromCount'](_0x36dfd3['rematchWins'],_0xa522c9)],['Sub-Gamer\x20Ribbon',this['evaluateSubGamerRibbonFromCount'](_0x36dfd3[_0x421711(0x107)],_0xa522c9)],['Explorer\x20Ribbon',this[_0x421711(0xb2)](_0x36dfd3[_0x421711(0xb7)]['size'],_0xa522c9)],['Socialite\x20Ribbon',this['evaluateSocialiteRibbonFromCount'](_0x36dfd3[_0x421711(0xbd)]['size'],_0xa522c9)],['Brick\x20Wall',this['evaluateBrickWallRibbonFromWinRate'](_0x52c83b,_0xa522c9,_0x36dfd3['totalMatches'])],[_0x421711(0xd8),this['evaluateUnderdogRibbonFromCount'](_0x36dfd3['underdogWins'],_0xa522c9)],['Domination\x20Ribbon',this[_0x421711(0xfa)](_0x36dfd3['dominatedRanks'][_0x421711(0xa7)],_0xa522c9)]];_0x5b6bd7['forEach'](([_0x521192,_0x38ca6a])=>{_0x38ca6a&&(_0x431d44[_0x521192]=_0x38ca6a);});const _0x3a1d9e=Object[_0x421711(0xe9)](_0xa522c9)['length']+Object[_0x421711(0xe9)](_0x431d44)['length'],_0x17fb50=this[_0x421711(0xde)](_0x3a1d9e,_0xa522c9);return _0x17fb50&&(_0x431d44['Collector\x20Ribbon']=_0x17fb50),_0x431d44;}['evaluateDominationRibbonFromRanks'](_0x59e319,_0xdfd988){const _0x39b2b3=a51_0x183b85;if(_0x59e319===0x0)return null;const _0x2cc9d9=_0xdfd988['Domination\x20Ribbon']||{'level':0x0};if(_0x59e319>_0x2cc9d9['level']){const _0x11f1fd=[];for(let _0x32253b=0x0;_0x32253b<_0x59e319;_0x32253b++){_0x11f1fd['push'](getRankTierName(_0x32253b));}return console['log'](_0x39b2b3(0xff)+_0x2cc9d9['level']+'\x20‚Üí\x20'+_0x59e319+'\x20(Dominated:\x20'+_0x11f1fd['join'](',\x20')+')'),{'level':_0x59e319,'awardedAt':new Date(),'dominatedRanks':_0x11f1fd};}return null;}async['checkTopRankStatus'](_0x1a024c,_0x1fcebe){const _0x393baf=a51_0x183b85;try{const _0x23b9cc=_0x1fcebe==='D1'?'players':_0x1fcebe==='D2'?_0x393baf(0xa0):'playersD3',_0x3e85b3=await this['getPlayerDataCached'](_0x1a024c,_0x1fcebe);if(!_0x3e85b3||_0x3e85b3['eloRating']===undefined)return console['log']('‚ùå\x20No\x20ELO\x20rating\x20data\x20for\x20'+_0x1a024c),null;const _0x22bec5=_0x3e85b3[_0x393baf(0x83)],_0x57c8ff=getPlayerRankTier(_0x22bec5),_0x1f203f=getRankTierName(_0x57c8ff);if(_0x1f203f==='Unranked')return console[_0x393baf(0xda)]('‚ùå\x20'+_0x1a024c+'\x20is\x20Unranked\x20('+_0x22bec5+_0x393baf(0x92)),null;console['log']('üîç\x20Checking\x20Top\x20'+_0x1f203f+'\x20status\x20for\x20'+_0x1a024c+'\x20('+_0x22bec5+'\x20ELO)');const _0xe5d67a=collection(db,_0x23b9cc),_0x47e075=await getDocs(_0xe5d67a);let _0x156371=null,_0x37c988=-0x1,_0x19f324=0x0;_0x47e075['forEach'](_0xe5fe31=>{const _0x1565bf=_0xe5fe31['data'](),_0x322be6=_0x1565bf['eloRating']||0x0,_0x51ad64=getPlayerRankTier(_0x322be6);_0x51ad64===_0x57c8ff&&(_0x19f324++,_0x322be6>_0x37c988&&(_0x37c988=_0x322be6,_0x156371=_0x1565bf['username']));});const _0x38524a=_0x156371===_0x1a024c;return console['log'](_0x393baf(0xbc)+_0x1f203f+'\x20Tier:\x20'+_0x19f324+'\x20players,\x20Top:\x20'+_0x156371+'\x20('+_0x37c988+'\x20ELO),\x20'+_0x1a024c+_0x393baf(0xa8)+_0x38524a),_0x38524a?_0x1f203f:null;}catch(_0x46c723){return console['error']('Error\x20checking\x20top\x20rank\x20status:',_0x46c723),null;}}async['evaluateTopRankRibbon'](_0x5376c1,_0x5870f6,_0x586f82){const _0x157a6c=a51_0x183b85,_0x3e830d=await this['checkTopRankStatus'](_0x5376c1,_0x5870f6),_0x21a9a2={};if(_0x3e830d){const _0x1c7eb1='Top\x20'+_0x3e830d+_0x157a6c(0x94);if(RIBBON_DEFINITIONS[_0x1c7eb1]){const _0x58ebd0=_0x586f82[_0x1c7eb1];!_0x58ebd0?(console['log']('üëë\x20NEW\x20Top\x20Rank\x20Achievement:\x20'+_0x5376c1+_0x157a6c(0xf0)+_0x1c7eb1+'!'),_0x21a9a2[_0x1c7eb1]={'level':0x1,'awardedAt':new Date(),'rank':_0x3e830d,'achievedAt':new Date()}):console[_0x157a6c(0xda)]('‚úÖ\x20'+_0x5376c1+_0x157a6c(0xc5)+_0x1c7eb1+'\x20-\x20No\x20changes\x20needed');}}return Object[_0x157a6c(0xe9)](_0x586f82)['forEach'](_0xd1644e=>{_0xd1644e['startsWith']('Top\x20')&&_0xd1644e['endsWith']('\x20Pilot')&&(!_0x21a9a2[_0xd1644e]&&console['log']('‚úÖ\x20Preserving\x20existing\x20'+_0xd1644e));}),_0x21a9a2;}async['evaluateAllRibbonsForPlayerOptimized'](_0x4cb4e2,_0x5266dd='D1'){const _0x3cec27=a51_0x183b85;try{const _0x5055c7=ribbonCache['getCachedData'](_0x4cb4e2,_0x5266dd);if(_0x5055c7){const _0x234e2a=await this['evaluateTopRankRibbon'](_0x4cb4e2,_0x5266dd,_0x5055c7);if(Object[_0x3cec27(0xe9)](_0x234e2a)[_0x3cec27(0xbe)]>0x0){console['log']('üÜï\x20New\x20top\x20rank\x20achievements\x20found\x20for\x20cached\x20player\x20'+_0x4cb4e2),await this[_0x3cec27(0xe6)](_0x4cb4e2,_0x234e2a,_0x5266dd);const _0x47fa7e={..._0x5055c7,..._0x234e2a};return ribbonCache['setCachedData'](_0x4cb4e2,_0x5266dd,_0x47fa7e,0x0),_0x47fa7e;}return _0x5055c7;}const [_0x41ff39,_0x359d11]=await Promise['all']([this[_0x3cec27(0xd4)](_0x4cb4e2,_0x5266dd),this['getPlayerRibbonsCached'](_0x4cb4e2,_0x5266dd)]);if(!_0x41ff39)return{};const _0xa29e1d=_0x41ff39['matchesPlayed']||0x0,_0x5983a5=await this['evaluateTopRankRibbon'](_0x4cb4e2,_0x5266dd,_0x359d11);if(!ribbonCache[_0x3cec27(0xdb)](_0x4cb4e2,_0x5266dd,_0xa29e1d)){if(Object[_0x3cec27(0xe9)](_0x5983a5)[_0x3cec27(0xbe)]>0x0){await this['savePlayerRibbonsOptimized'](_0x4cb4e2,_0x5983a5,_0x5266dd);const _0x36019d={..._0x359d11,..._0x5983a5};return ribbonCache[_0x3cec27(0x95)](_0x4cb4e2,_0x5266dd,_0x36019d,_0xa29e1d),_0x36019d;}return ribbonCache['setCachedData'](_0x4cb4e2,_0x5266dd,_0x359d11,_0xa29e1d),_0x359d11;}const _0xc6fb6b=await this['getPlayerMatchesOptimized'](_0x4cb4e2,_0x5266dd),_0x38b977=await this[_0x3cec27(0xb9)](_0xc6fb6b,_0x41ff39,_0x359d11,_0x5266dd);Object['assign'](_0x38b977,_0x5983a5);Object['keys'](_0x38b977)['length']>0x0&&(console['log']('üíæ\x20Saving\x20'+Object[_0x3cec27(0xe9)](_0x38b977)[_0x3cec27(0xbe)]+'\x20new/updated\x20ribbons\x20for\x20'+_0x4cb4e2),await this[_0x3cec27(0xe6)](_0x4cb4e2,_0x38b977,_0x5266dd));const _0x8c6ef1={..._0x359d11,..._0x38b977};return ribbonCache[_0x3cec27(0x95)](_0x4cb4e2,_0x5266dd,_0x8c6ef1,_0xc6fb6b['length']),_0x8c6ef1;}catch(_0x4a89c1){return console['error'](_0x3cec27(0xce),_0x4a89c1),{};}}async['isUnderdogVictory'](_0x21cd03,_0x420d52,_0x2c0a26){const _0x1e9664=a51_0x183b85,_0x3687b4=_0x21cd03[_0x1e9664(0xd1)]===_0x420d52;if(!_0x3687b4)return![];const _0x4ac9df=_0x21cd03['loserUsername'],[_0x546713,_0x32d636]=await Promise[_0x1e9664(0x8b)]([this[_0x1e9664(0xd4)](_0x420d52,_0x2c0a26),this['getPlayerDataCached'](_0x4ac9df,_0x2c0a26)]);if(!_0x546713||!_0x32d636)return console['log'](_0x1e9664(0x9f)+_0x420d52+'\x20or\x20'+_0x4ac9df),![];const _0x4ab4dc=_0x546713['eloRating']||0x0,_0x191791=_0x32d636['eloRating']||0x0,_0x45f214=getPlayerRankTier(_0x4ab4dc),_0x528674=getPlayerRankTier(_0x191791);console['log']('üîç\x20Checking\x20underdog:\x20Winner('+_0x420d52+_0x1e9664(0xa9)+_0x4ab4dc+_0x1e9664(0x102)+getRankTierName(_0x45f214)+')\x20vs\x20Loser('+_0x4ac9df+'):\x20'+_0x191791+_0x1e9664(0x102)+getRankTierName(_0x528674)+')');if(_0x528674>_0x45f214)return console['log']('üéØ\x20UNDERDOG\x20VICTORY:\x20'+getRankTierName(_0x45f214)+'\x20beat\x20'+getRankTierName(_0x528674)+'!'),!![];return console['log']('‚ùå\x20Not\x20underdog:\x20'+getRankTierName(_0x45f214)+'\x20vs\x20'+getRankTierName(_0x528674)),![];}[a51_0x183b85(0xcc)](_0x515c5a,_0x316931,_0x339664,_0x414635){const _0x251ca9=a51_0x183b85,_0xe98be1=_0x515c5a[_0x251ca9(0xd1)]===_0x316931;if(!_0xe98be1)return![];const _0x45e845=_0x515c5a[_0x251ca9(0x97)],_0x40edb9=_0x414635['get'](_0x45e845);if(!_0x339664||!_0x40edb9)return![];const _0x5b087a=_0x339664[_0x251ca9(0x83)]||0x0,_0x5b8a3e=_0x40edb9[_0x251ca9(0x83)]||0x0,_0x2a8059=getPlayerRankTier(_0x5b087a),_0x530ceb=getPlayerRankTier(_0x5b8a3e);if(_0x530ceb>_0x2a8059)return console['log']('üéØ\x20UNDERDOG:\x20'+getRankTierName(_0x2a8059)+'('+_0x5b087a+_0x251ca9(0xa2)+getRankTierName(_0x530ceb)+'('+_0x5b8a3e+')'),!![];return![];}async['evaluateAllRibbonsFromData'](_0x55ad58,_0x5f28a8,_0x2f2787,_0x585acc){const _0x1fe650=a51_0x183b85,_0x1f4b3a={},_0x3ce157=_0x5f28a8['username'],_0x3a1931={'totalMatches':_0x55ad58[_0x1fe650(0xbe)],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0},_0x3e7b7a=new Set();_0x55ad58['forEach'](_0x571ca3=>{const _0x28a80c=_0x1fe650,_0x16b0c3=_0x571ca3['winnerUsername']===_0x3ce157,_0x2c0c2f=_0x16b0c3?_0x571ca3[_0x28a80c(0x97)]:_0x571ca3['winnerUsername'];if(_0x2c0c2f)_0x3e7b7a[_0x28a80c(0xc2)](_0x2c0c2f);}),console['log']('üöÄ\x20Bulk\x20loading\x20'+_0x3e7b7a['size']+'\x20player\x20records\x20for\x20underdog\x20calculations...');const _0x5b0332=await this['bulkLoadPlayerData']([..._0x3e7b7a,_0x3ce157],_0x585acc),_0x4f88c1=_0x5b0332[_0x1fe650(0xb0)](_0x3ce157);!_0x4f88c1&&console['log']('‚ö†Ô∏è\x20No\x20current\x20player\x20data\x20found\x20for\x20'+_0x3ce157);_0x55ad58['forEach'](_0x4d7ae3=>{const _0x36e4ae=_0x1fe650,_0x5f2d36=_0x4d7ae3[_0x36e4ae(0xd1)]===_0x3ce157,_0x51f8e5=_0x5f2d36?_0x4d7ae3['loserUsername']:_0x4d7ae3[_0x36e4ae(0xd1)];_0x5f2d36&&(_0x3a1931['wins']++,_0x4d7ae3['subgameType']===_0x36e4ae(0x8c)&&_0x3a1931[_0x36e4ae(0xd0)]++,this['isUnderdogVictoryFast'](_0x4d7ae3,_0x3ce157,_0x4f88c1,_0x5b0332)&&_0x3a1931['underdogWins']++),_0x4d7ae3['subgameType']&&_0x4d7ae3['subgameType']!=='Standard'&&_0x3a1931['subgameMatches']++,_0x4d7ae3['mapPlayed']&&_0x3a1931['uniqueMaps']['add'](_0x4d7ae3[_0x36e4ae(0xc7)]),_0x51f8e5&&_0x3a1931['uniqueOpponents']['add'](_0x51f8e5);}),console[_0x1fe650(0xda)](_0x1fe650(0xb3)+_0x3a1931['underdogWins']+_0x1fe650(0xac)+_0x3ce157);const _0x4a0e8a=_0x3a1931['totalMatches']>0x0?_0x3a1931[_0x1fe650(0xaa)]/_0x3a1931['totalMatches']*0x64:0x0,_0x1c4fb8=[['Overachiever\x20Ribbon',this[_0x1fe650(0xb5)](_0x3a1931['totalMatches'],_0x2f2787)],['Rematch\x20Ribbon',this['evaluateRematchRibbonFromCount'](_0x3a1931['rematchWins'],_0x2f2787)],['Sub-Gamer\x20Ribbon',this['evaluateSubGamerRibbonFromCount'](_0x3a1931['subgameMatches'],_0x2f2787)],[_0x1fe650(0xdf),this[_0x1fe650(0xb2)](_0x3a1931['uniqueMaps']['size'],_0x2f2787)],[_0x1fe650(0xed),this['evaluateSocialiteRibbonFromCount'](_0x3a1931[_0x1fe650(0xbd)]['size'],_0x2f2787)],[_0x1fe650(0xa5),this['evaluateBrickWallRibbonFromWinRate'](_0x4a0e8a,_0x2f2787,_0x3a1931['totalMatches'])],['Underdog\x20Ribbon',this[_0x1fe650(0xec)](_0x3a1931['underdogWins'],_0x2f2787)]];_0x1c4fb8[_0x1fe650(0xfd)](([_0x569c63,_0x2c7519])=>{_0x2c7519&&(_0x1f4b3a[_0x569c63]=_0x2c7519);});const _0x48154e=Object['keys'](_0x2f2787)[_0x1fe650(0xbe)]+Object['keys'](_0x1f4b3a)['length'],_0x37dd97=this[_0x1fe650(0xde)](_0x48154e,_0x2f2787);return _0x37dd97&&(_0x1f4b3a['Collector\x20Ribbon']=_0x37dd97),_0x1f4b3a;}async['getPlayerMatchesOptimized'](_0x112d9a,_0x2fd640){const _0x1ff882=a51_0x183b85,_0x4b388c=matchCache['getCachedMatches'](_0x112d9a,_0x2fd640);if(_0x4b388c)return _0x4b388c;try{const _0x1df28f=_0x2fd640==='D1'?'approvedMatches':_0x2fd640==='D2'?'approvedMatchesD2':'approvedMatchesD3',_0x182472=collection(db,_0x1df28f),[_0x58f60a,_0x5222ab]=await Promise['all']([getDocs(query(_0x182472,where('winnerUsername','==',_0x112d9a))),getDocs(query(_0x182472,where('loserUsername','==',_0x112d9a)))]),_0x402b80=new Set(),_0x148bb0=[];return _0x58f60a['forEach'](_0x5dd73a=>{const _0xdb42ea=a51_0x426f;if(!_0x402b80['has'](_0x5dd73a['id'])){_0x402b80[_0xdb42ea(0xc2)](_0x5dd73a['id']);const _0x5e4157={'id':_0x5dd73a['id'],..._0x5dd73a['data']()};if(!_0x5e4157['winnerRating'])_0x5e4157['winnerRating']=0x0;if(!_0x5e4157['loserRating'])_0x5e4157['loserRating']=0x0;_0x148bb0['push'](_0x5e4157);}}),_0x5222ab['forEach'](_0x128b5e=>{const _0x442b06=a51_0x426f;if(!_0x402b80['has'](_0x128b5e['id'])){_0x402b80[_0x442b06(0xc2)](_0x128b5e['id']);const _0x1db198={'id':_0x128b5e['id'],..._0x128b5e[_0x442b06(0x105)]()};if(!_0x1db198[_0x442b06(0xd9)])_0x1db198[_0x442b06(0xd9)]=0x0;if(!_0x1db198['loserRating'])_0x1db198['loserRating']=0x0;_0x148bb0[_0x442b06(0xb4)](_0x1db198);}}),matchCache[_0x1ff882(0xcb)](_0x112d9a,_0x2fd640,_0x148bb0),_0x148bb0;}catch(_0x130462){return console[_0x1ff882(0xd6)]('‚ùå\x20Error\x20fetching\x20matches:',_0x130462),[];}}async['getPlayerDataCached'](_0x3d77d0,_0x3ed741){const _0x2a9dce=a51_0x183b85;try{const _0xd3194e=_0x3ed741==='D1'?'players':_0x3ed741==='D2'?'playersD2':_0x2a9dce(0xe5),_0x22dbea=collection(db,_0xd3194e),_0x1d51ed=query(_0x22dbea,where(_0x2a9dce(0x103),'==',_0x3d77d0),limit(0x1)),_0x40eddc=await getDocs(_0x1d51ed);if(_0x40eddc['empty'])return console['log']('‚ùå\x20No\x20player\x20data\x20found\x20for\x20'+_0x3d77d0+'\x20in\x20'+_0xd3194e),null;const _0x1856ff=_0x40eddc['docs'][0x0][_0x2a9dce(0x105)]();return _0x1856ff['eloRating']!==undefined&&(_0x1856ff[_0x2a9dce(0xcd)]=_0x1856ff[_0x2a9dce(0x83)]),console['log'](_0x2a9dce(0x8f)+_0x3d77d0+_0x2a9dce(0x109)+_0x1856ff['eloRating']+_0x2a9dce(0xfc)+_0x1856ff[_0x2a9dce(0xc1)]),_0x1856ff;}catch(_0x1230e3){return console['error'](_0x2a9dce(0xe2)+_0x3d77d0+':',_0x1230e3),null;}}async['getPlayerRibbonsCached'](_0x3ae122,_0x5938c9){try{const _0x22507e='playerRibbons'+(_0x5938c9==='D1'?'':_0x5938c9),_0x2563a3=doc(db,_0x22507e,_0x3ae122),_0x45704a=await getDoc(_0x2563a3);return _0x45704a['exists']()?_0x45704a['data']()['ribbons']||{}:{};}catch(_0x357e26){return console['error']('Error\x20getting\x20player\x20ribbons:',_0x357e26),{};}}async[a51_0x183b85(0xe6)](_0x741364,_0x2c6c30,_0x5d022c){const _0x4cc3f0=a51_0x183b85;try{const _0x22d505='playerRibbons'+(_0x5d022c==='D1'?'':_0x5d022c),_0x28789b=doc(db,_0x22d505,_0x741364),_0x259839=await this[_0x4cc3f0(0xc0)](_0x741364,_0x5d022c),_0x2bd6d0={..._0x259839,..._0x2c6c30};await setDoc(_0x28789b,{'username':_0x741364,'ladder':_0x5d022c,'ribbons':_0x2bd6d0,'lastUpdated':new Date()},{'merge':!![]});}catch(_0x55d356){console[_0x4cc3f0(0xd6)](_0x4cc3f0(0xf6),_0x55d356);}}['evaluateOverachieverRibbonFromCount'](_0x4a1803,_0x2c6efb){const _0x187d85=a51_0x183b85,_0x36b638=_0x2c6efb['Overachiever\x20Ribbon']||{'level':0x0},_0x32873d=RIBBON_DEFINITIONS['Overachiever\x20Ribbon']['levels'],_0x507b84=_0x32873d[_0x187d85(0xc6)](_0x3c8112=>_0x4a1803<_0x3c8112),_0xd70def=_0x507b84===-0x1?_0x32873d['length']:_0x507b84;if(_0xd70def>_0x36b638['level'])return{'level':_0xd70def,'awardedAt':new Date()};return null;}['evaluateRematchRibbonFromCount'](_0xe86792,_0x8f8c15){if(_0xe86792===0x0)return null;const _0x542566=_0x8f8c15['Rematch\x20Ribbon']||{'level':0x0};if(_0xe86792>_0x542566['level'])return{'level':_0xe86792,'awardedAt':new Date()};return null;}['evaluateSubGamerRibbonFromCount'](_0x1fe059,_0x1f4d26){const _0x1e379c=a51_0x183b85,_0x4d41dc=_0x1f4d26[_0x1e379c(0xdd)]||{'level':0x0},_0x59ac6c=RIBBON_DEFINITIONS['Sub-Gamer\x20Ribbon']['levels'],_0x2c54d5=_0x59ac6c[_0x1e379c(0xc6)](_0x21ea01=>_0x1fe059<_0x21ea01),_0x2c8a4a=_0x2c54d5===-0x1?_0x59ac6c['length']:_0x2c54d5;if(_0x2c8a4a>_0x4d41dc[_0x1e379c(0x93)])return{'level':_0x2c8a4a,'awardedAt':new Date()};return null;}[a51_0x183b85(0xb2)](_0x11273b,_0x510e41){const _0x479c54=a51_0x183b85,_0x3bca06=_0x510e41['Explorer\x20Ribbon']||{'level':0x0},_0x56f04e=RIBBON_DEFINITIONS['Explorer\x20Ribbon']['levels'],_0x52be11=_0x56f04e[_0x479c54(0xc6)](_0x3dfbac=>_0x11273b<_0x3dfbac),_0x8e4c76=_0x52be11===-0x1?_0x56f04e[_0x479c54(0xbe)]:_0x52be11;if(_0x8e4c76>_0x3bca06['level'])return{'level':_0x8e4c76,'awardedAt':new Date()};return null;}['evaluateSocialiteRibbonFromCount'](_0x1de872,_0xc51631){const _0x4825f2=a51_0x183b85,_0x4bc4c4=_0xc51631['Socialite\x20Ribbon']||{'level':0x0},_0x5a070d=RIBBON_DEFINITIONS['Socialite\x20Ribbon'][_0x4825f2(0x82)],_0x21d57c=_0x5a070d['findIndex'](_0x191561=>_0x1de872<_0x191561),_0x423e6d=_0x21d57c===-0x1?_0x5a070d['length']:_0x21d57c;if(_0x423e6d>_0x4bc4c4['level'])return{'level':_0x423e6d,'awardedAt':new Date()};return null;}['evaluateBrickWallRibbonFromWinRate'](_0x369232,_0xf2387b,_0x3c5189){const _0x1cb084=a51_0x183b85;if(_0x3c5189<0x32)return console['log']('‚ö†Ô∏è\x20Brick\x20Wall\x20ribbon\x20requires\x2050+\x20matches\x20(player\x20has\x20'+_0x3c5189+')'),null;const _0x5b7a7a=_0xf2387b['Brick\x20Wall']||{'level':0x0},_0x357a1a=RIBBON_DEFINITIONS['Brick\x20Wall']['levels'],_0x3f68d0=_0x357a1a['findIndex'](_0x5c5a5a=>_0x369232<_0x5c5a5a),_0x5e63cf=_0x3f68d0===-0x1?_0x357a1a['length']:_0x3f68d0;if(_0x5e63cf>_0x5b7a7a['level'])return console['log']('üèÜ\x20Brick\x20Wall\x20ribbon\x20awarded:\x20'+_0x369232['toFixed'](0x1)+'%\x20win\x20rate\x20over\x20'+_0x3c5189+_0x1cb084(0xa6)),{'level':_0x5e63cf,'awardedAt':new Date(),'winRate':_0x369232,'matchesPlayed':_0x3c5189};return null;}['evaluateCollectorRibbonFromCount'](_0x275611,_0x3eaae9){const _0x3b5908=a51_0x183b85,_0x57b19f=_0x3eaae9[_0x3b5908(0xab)]||{'level':0x0},_0x4645b2=RIBBON_DEFINITIONS['Collector\x20Ribbon'][_0x3b5908(0x82)],_0x2dcdab=_0x4645b2[_0x3b5908(0xc6)](_0x3972e9=>_0x275611<_0x3972e9),_0x27ff52=_0x2dcdab===-0x1?_0x4645b2[_0x3b5908(0xbe)]:_0x2dcdab;if(_0x27ff52>_0x57b19f['level'])return{'level':_0x27ff52,'awardedAt':new Date()};return null;}['evaluateUnderdogRibbonFromCount'](_0xac1b68,_0x36617f){const _0x3e7dc9=a51_0x183b85;if(_0xac1b68===0x0)return null;const _0x46db5b=_0x36617f['Underdog\x20Ribbon']||{'level':0x0},_0x4e9a47=RIBBON_DEFINITIONS[_0x3e7dc9(0xd8)]['levels'];let _0xff06f6=0x0;for(let _0x15f75a=0x0;_0x15f75a<_0x4e9a47[_0x3e7dc9(0xbe)];_0x15f75a++){if(_0xac1b68>=_0x4e9a47[_0x15f75a])_0xff06f6=_0x15f75a+0x1;else break;}if(_0xff06f6>_0x46db5b[_0x3e7dc9(0x93)])return console[_0x3e7dc9(0xda)](_0x3e7dc9(0xd3)+_0x46db5b[_0x3e7dc9(0x93)]+'\x20‚Üí\x20'+_0xff06f6+'\x20('+_0xac1b68+_0x3e7dc9(0xe4)),{'level':_0xff06f6,'awardedAt':new Date()};return null;}}function getPlayerRankTier(_0x4507dc){if(_0x4507dc===undefined||_0x4507dc===null)return 0x0;const _0x178434=Number(_0x4507dc);if(isNaN(_0x178434))return 0x0;if(_0x178434>=0x7d0)return 0x4;if(_0x178434>=0x708)return 0x3;if(_0x178434>=0x640)return 0x2;if(_0x178434>=0x578)return 0x1;return 0x0;}function a51_0x426f(_0x12bb95,_0x46e2a4){const _0x2a3cf7=a51_0x3e43();return a51_0x426f=function(_0x1850ee,_0x496e40){_0x1850ee=_0x1850ee-0x80;let _0x3e43a3=_0x2a3cf7[_0x1850ee];return _0x3e43a3;},a51_0x426f(_0x12bb95,_0x46e2a4);}function getRankTierName(_0x3a7507){const _0x1a9f0b=a51_0x183b85,_0x122a50=['Unranked',_0x1a9f0b(0x96),'Silver','Gold','Emerald'];return _0x122a50[_0x3a7507]||'Unranked';}const ribbonSystem=new RibbonSystem(),ribbonCache=new RibbonCacheManager(),matchCache=new MatchCacheManager();typeof window!=='undefined'&&(window['getRibbonCacheStats']=()=>{return{'ribbon':ribbonCache['getCacheStats'](),'match':matchCache['getCacheStats']()};});export async function evaluatePlayerRibbons(_0x275be8,_0x5ce97a='D1'){return await ribbonSystem['evaluateAllRibbonsForPlayerOptimized'](_0x275be8,_0x5ce97a);}function a51_0x3e43(){const _0x262545=['CACHE_DURATION','set','levels','eloRating','\x20Badge','dominatedRanks','#FFD700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','getCacheKey','<div\x20class=\x22ribbon-level-indicator\x20','../images/ribbons/Explorer.png','all','Rematch','memoryCache','matchCount','‚úÖ\x20Found\x20player\x20data\x20for\x20','Overachiever\x20Ribbon','getItem','\x20ELO)','level','\x20Pilot','setCachedData','Bronze','loserUsername','key','üéØ\x20Cache\x20hit\x20(matches)\x20for\x20','cleanup','constructor','Played\x20at\x20least\x2010\x20unique\x20pilots','level-5-plus','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-name\x22>','‚ö†Ô∏è\x20Missing\x20player\x20data\x20for\x20','playersD2','underdogWins',')\x20beat\x20','removeItem','invalidatePlayerCache','Brick\x20Wall','\x20matches','size','\x20is\x20#1:\x20','):\x20','wins','Collector\x20Ribbon','\x20underdog\x20victories\x20for\x20','trace','toString','Amass\x20at\x20least\x2080%\x20overall\x20win\x20rate\x20percentage\x20(minimum\x2050\x20matches)','get','matchCache','evaluateExplorerRibbonFromCount','üéØ\x20Found\x20','push','evaluateOverachieverRibbonFromCount','getCacheStats','uniqueMaps','ribbons','evaluateAllRibbonsFromData','min','subgameType','üìä\x20','uniqueOpponents','length','ribbon_cache_','getPlayerRibbonsCached','position','add','from','substring','\x20already\x20has\x20','findIndex','mapPlayed','#F0932B','{}.constructor(\x22return\x20this\x22)(\x20)','delete','setCachedMatches','isUnderdogVictoryFast','rating','‚ùå\x20Error\x20in\x20ribbon\x20evaluation:','Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Silver\x20rank','rematchWins','winnerUsername','../images/ribbons/Rematch.png','üèÜ\x20Underdog\x20Ribbon\x20upgrade:\x20Level\x20','getPlayerDataCached','<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20gold-star\x22></i>','error','apply','Underdog\x20Ribbon','winnerRating','log','shouldRefreshCache','lastCleanup','Sub-Gamer\x20Ribbon','evaluateCollectorRibbonFromCount','Explorer\x20Ribbon','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setItem','Error\x20getting\x20player\x20data\x20for\x20','now','\x20underdog\x20wins)','playersD3','savePlayerRibbonsOptimized','timestamp','level-3','keys','clearOldCache','<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>','evaluateUnderdogRibbonFromCount','Socialite\x20Ribbon','../images/ribbons/Underdog.png','\x20Ribbon','\x20earned\x20','toLocaleTimeString','console','CACHE_KEY_PREFIX','üóëÔ∏è\x20Invalidated\x20cache\x20for\x20','#55A3FF','Error\x20saving\x20ribbons:','Hold\x20more\x20than\x205\x20ribbons\x20at\x20a\x20time','map','#96CEB4','evaluateDominationRibbonFromRanks','bind',',\x20Position\x20','forEach','bulkLoadPlayerData','üëë\x20Domination\x20Ribbon\x20awarded:\x20Level\x20','parse','description','\x20ELO\x20(','username','CLEANUP_INTERVAL','data','Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Emerald\x20rank','subgameMatches','Beat\x205\x20unique\x20pilots\x20in\x20a\x20rank\x20(including\x20your\x20own)',':\x20ELO\x20'];a51_0x3e43=function(){return _0x262545;};return a51_0x3e43();}export function getRibbonHTML(_0x3520c1,_0x43c821){const _0x40475c=a51_0x183b85,_0x2d7844=RIBBON_DEFINITIONS[_0x3520c1];if(!_0x2d7844)return'';const _0x3e98ea=_0x43c821['level']||0x1,_0x42b138=_0x3520c1['replace'](_0x40475c(0xef),'')['replace'](_0x40475c(0x84),''),_0x4d1942=_0x40c955=>{const _0x3d44f9=_0x40475c;if(_0x40c955<=0x1)return'level-1';if(_0x40c955<=0x2)return'level-2';if(_0x40c955<=0x3)return _0x3d44f9(0xe8);if(_0x40c955<=0x4)return'level-4';return _0x3d44f9(0x9d);},_0x178b12=_0x4e6823=>{const _0x31986f=_0x40475c;if(_0x4e6823<=0x1)return'';const _0x2e2e1f=[];if(_0x4e6823>=0x2&&_0x4e6823<=0x4){const _0xc6a78d=Math[_0x31986f(0xba)](_0x4e6823-0x1,0x3);for(let _0x37f95d=0x0;_0x37f95d<_0xc6a78d;_0x37f95d++){_0x2e2e1f['push'](_0x31986f(0xeb));}}if(_0x4e6823>=0x5&&_0x4e6823<=0x7){_0x2e2e1f[_0x31986f(0xb4)]('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20silver-star\x22></i>');const _0x8ea94a=Math['min'](_0x4e6823-0x5,0x2);for(let _0x3b2488=0x0;_0x3b2488<_0x8ea94a;_0x3b2488++){_0x2e2e1f[_0x31986f(0xb4)](_0x31986f(0xeb));}}return _0x4e6823>=0x8&&_0x2e2e1f[_0x31986f(0xb4)](_0x31986f(0xd5)),_0x2e2e1f['length']>0x0?'<div\x20class=\x22ribbon-devices\x22>'+_0x2e2e1f['join']('')+'</div>':'';},_0x236ec0=_0x2d7844[_0x40475c(0x101)]+'\x20-\x20Level\x20'+_0x3e98ea;return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22military-ribbon\x22\x20data-tooltip=\x22'+_0x236ec0+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-image-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22'+_0x2d7844['image']+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22'+_0x3520c1+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22ribbon-image\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27;\x20this.nextElementSibling.style.display=\x27block\x27;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-fallback\x22\x20style=\x22display:\x20none;\x20background:\x20'+_0x2d7844['color']+';\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x42b138[_0x40475c(0xc4)](0x0,0x6)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x178b12(_0x3e98ea)+_0x40475c(0x9e)+_0x42b138+_0x40475c(0xe0)+(_0x3e98ea>0x1?_0x40475c(0x89)+_0x4d1942(_0x3e98ea)+'\x22>'+_0x3e98ea+'</div>':'')+_0x40475c(0x87);}