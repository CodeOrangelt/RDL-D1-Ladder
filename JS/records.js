const a46a7=a46d;(function(a,b){const z=a46d,c=a();while(!![]){try{const d=-parseInt(z(0x137))/0x1+-parseInt(z(0xdc))/0x2*(-parseInt(z(0x12f))/0x3)+-parseInt(z(0x10c))/0x4*(-parseInt(z(0xb4))/0x5)+parseInt(z(0x123))/0x6*(parseInt(z(0x12a))/0x7)+parseInt(z(0x10a))/0x8+-parseInt(z(0x102))/0x9*(parseInt(z(0xb1))/0xa)+-parseInt(z(0x148))/0xb;if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a46c,0x48efc));const a46b=(function(){let a=!![];return function(b,c){const d=a?function(){const A=a46d;if(c){const e=c[A(0xfc)](b,arguments);return c=null,e;}}:function(){};return a=![],d;};}()),a46a=a46b(this,function(){const C=a46d,a=function(){const B=a46d;let f;try{f=Function(B(0xc5)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(g){f=window;}return f;},b=a(),c=b['console']=b['console']||{},d=['log','warn','info','error','exception','table',C(0x122)];for(let e=0x0;e<d[C(0xf2)];e++){const f=a46b[C(0x105)][C(0x116)]['bind'](a46b),g=d[e],h=c[g]||f;f[C(0xa6)]=a46b['bind'](a46b),f[C(0x115)]=h[C(0x115)][C(0xae)](h),c[g]=f;}});a46a();import{collection,getDocs,query,orderBy,limit,where,startAfter}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';function a46c(){const ae=['cIaGicaGicaGicaGidXPignSyxnZpsjMyxmGzMeTAw5MBY1JAxjJBguIpJWVAt4kicaGicaGicaGicaGu2HVD2LUzYbYzxn1BhrZigzYB20GDg9Wia','Dg9gAxHLza','CM91BMq','cIaGicaGicaGicaGicaGica8zgL2ignSyxnZpsjTyxaTC3rHDc1PDgvTiIb0AxrSzt0I','lM1HCc1ZDgf0CY1JB250ywLUzxi','otmYmtHUrwfZBwW','y2fJAgu','D2fYBG','lNjLy29Yzc12ywX1zq','ihjLy29YzhmGzgf0yq','zw1LCMfSza','qxzHAwXHyMXLigzPzwXKCZO','8j+tIIbgB3vUzca','D2LUBMvYu3vPy2LKzxm','D2LUCW','C29YDa','cIaGicaGicaGicaGicaGicaGicaGpgrPDIbJBgfZCZ0IDgLLCI1WBgf5zxiGDg9WlxbSyxLLCIi+cIaGicaGicaGicaGicaGicaGicaGicaGidXZCgfUignSyxnZpsjWBgf5zxiTCMfUAYi+iW','rxjYB3iGBg9HzgLUzYbJB21WBgv0zsbKyxrHic0Gq2XPy2SGDg8GCMv0CNK','ig1HDgnOzxm8l2rPDJ4kicaGicaGica','ig1HDgnOzxm8l3nWyw4+cIaGicaGicaGicaGicaGicaGicaGpc9KAxy+cIaGicaGicaGicaGicaGicaGicaGpgrPDIbJBgfZCZ0IBwfWlwjHCI1JB250ywLUzxiIpGOGicaGicaGicaGicaGicaGicaGicaGica8zgL2ignSyxnZpsjTyxaTyMfYiIbZDhLSzt0ID2LKDgG6ia','CgXHEwvYu3rHDhm','y3vYCMvUDeDHBwvnB2rL','nJaXodeWmeXlDuDAuW','Dgv4DenVBNrLBNq','D2LUuMf0zq','Bgv2zwW','D2LUBMvYvxnLCM5HBwu','Aw5Uzxjive1m','yMvZDc1LBg8','tM8Gzgf0ysbHDMfPBgfIBgu','tMf2igzLDgnOigzHAwXLza','8j+tPsbgzxrJAgLUzYbbteWGzgf0ysbMCM9Tia','pc9ZCgfUpGOGicaGicaGicaGicaGicaGicaGicaGica8C3bHBIbJBgfZCZ0ICgXHEwvYlwvSBYi+','ChvZAa','qxzHAwXHyMXLignVBNrHAw5LCNm6','Dg90ywXtDwLJAwrLCW','zM9VDgvYlxbSywnLAg9SzgvY','4P2mievYCM9YigXVywrPBMCG','x19WCM90B19F','lxjHBMSIpG','zgL2','Dg90ywXlAwXSCW','zMLSDgvY','Dg9mB2nHBgveyxrLu3rYAw5N','Bg9Hzc1TB3jLlwj0BG','BM93','yMLUza','ywXS','pc9ZCgfUpGOGicaGicaGicaGicaGicaGicaGicaGica8C3bHBIbJBgfZCZ0IBwfWlw5HBwuIpG','mZaYmhbuyvzhyG','lNrPzxiTCgXHEwvYCW','8j+tIIbdywXJDwXHDgvKihn0yxrZigzVCIa','mZi1ndvgEgf5Chu','Bg9ZzxjvC2vYBMfTzq','D2LUBMvYu2nVCMu','CxvLCNLtzwXLy3rVCG','DMfSDwu','y2XHC3nmAxn0','8j+tIIbqCM9JzxnZzwqG','zgLZywjSzwq','CgfYzw50rwXLBwvUDa','Cg9ZAxrPB24','DxnLCM5HBwu','C2XPy2u','pc9ZCgfUpGOGicaGicaGicaGicaGicaGicaGicaGica8C3bHBIbJBgfZCZ0ICgXHEwvYlwjHzgDLiJ5czxn0ia','8j+uHcbgzxrJAgLUzYbTyxrJAgvZigzVCIbTyxaGC3rHDhmGkhnLCgfYyxrLihf1zxj5ks4UlG','BwLU','zwXV','re9nq29UDgvUDeXVywrLza','CMv0DxjUicHMDw5JDgLVBIGPia','C2L6zq','CgXHEwvY','zxjYB3i','Bw9ZDc1TyxrJAgvZ','jsK8l3nWyw4+cIaGicaGicaGicaGidXKAxyGy2XHC3m9iNjLy29Yzc1KzxrHAwWIpG','rxjYB3iGDxbKyxrPBMCGDg9WihbSyxLLCNmGyNKGDgLLCJOG','BwvZC2fNzq','z29Sza','CMvTB3zL','zMLYC3rdAgLSza','rwXLBwvUDcb3AxrOieLeici','C3vPy2LKzvjHDgu','zM9YrwfJAa','y29UDgfPBNm','C2LSDMvY','AxnmB2fKAw5Ntw9Yzq','ihn1AwnPzgvZigLUia','ihrPzxikicaGicaGicaGicaGicaGicaGica8l2rPDJ4','yNjVBNPL','yxbWCM92zwrnyxrJAgvZ','Bw9ZDc1RAwXSCW','ihvUAxf1zsbTyxbZ','mtHSAgzsvgm','Aw5Zzxj0qMvMB3jL','zgvMyxvSDa','Bg9N','pgrPDIbJBgfZCZ0IBg9HzgLUzY1TC2CIpLbYB2nLC3nPBMCUlI48l2rPDJ4','tI9b','z2v0rwXLBwvUDej5swq','BwfWugXHEwvK','y2XPy2S','rxjYB3iGBg9HzgLUzYbUyxyGB3iGzM9VDgvYoG','z2v0','Dg9WugXHEwvY','yxbWzw5Kq2HPBgq','ig1HDgnOzxmGD2L0AcbTyxaGzgf0ysbVDxqGB2yG','CgXHEwvYu25HChnOB3q','BwfW','ig1HDgnOzxm','Dg90ywXnyxrJAgvZ','ig1HChmGC2HVD24','Bw9ZDc1SB3nZzxm','8j+tIIbdB21WBgv0zsbKyxrHC2v0oIa','ihvUAxf1zsbTyxbZpc9WpGOGicaGicaGicaGica8l2rPDJ4kicaGicaGicaGicaGpgrPDIbJBgfZCZ0IBwfWlxn0yxrZlwXPC3qIpGOGicaGicaGia','BgvUz3rO','BgvHC3qTC3vPy2LKzxm','BM9Uzq','4PQG77Ipie5Vig1HChmGzM91BMqGAw4GBwf0y2GGzgf0yq','BwfWu3rHDhndAgfYDa','DgLTzxn0yw1W','zNvSBerHDgfmB2fKzwq','DhjPBq','ywn0AxzL','phnWyw4Gy2XHC3m9iNbSyxLLCI1Uyw1Lia','yxbWBhK','C2v0','ywrKrxzLBNrmAxn0zw5LCG','ihbSyxLLCG','Bg9ZC2vZ','pgrPDIbJBgfZCZ0IBg9HzgLUzY1TC2CIpK5VihbSyxLLCNmGAw4GDgHPCYb0AwvYpc9KAxy+','mtuYmdffB2jcAvC','A2v5CW','Dg90ywWTBwf0y2HLCW','y29UC3rYDwn0B3i','y2XHC3noyw1L','cIaGicaGicaGicaGicaGica8zgL2ignSyxnZpsjTyxaTC3rHDhmTAgvHzgvYiJ4kicaGicaGicaGicaGicaGicaGica8Adm+tw9ZDcbqBgf5zwqGtwfWCYaTia','4PYfienVBxbSzxrLigrHDgfZzxqGBg9HzgvKihn1y2nLC3nMDwXSEse','Dgv4Da','ndy1ndmWnffju3LzCq','lMnOyxj0lwnVBNrHAw5LCG','mJeYsgXbEgjZ','lNjLy29Yzhm','lI4U','zwXVuMf0Aw5N','Dg9vChbLCKnHC2u','BMf2lxbSywnLAg9SzgvY','CgXHEwvYCW','jtWVC3bHBJ4kicaGicaGicaGicaGicaGicaGica8l2rPDJ4kicaGicaGicaGicaGicaGidWVzgL2pGOGicaGicaGicaGica','AgfZ','Dg9tDhjPBMC','ChjVDg90ExbL','cIaGicaUBg9Hzc1TB3jLlwj0BIb7cIaGicaGicaGyMfJA2DYB3vUzdOGBgLUzwfYlwDYywrPzw50kdeZnwrLzYWGiZy3m2fInYWGiZLJmJDImcK7cIaGicaGicaGy29SB3i6ihDOAxrLoWOGicaGicaGigjVCMrLCJOGBM9UztSkicaGicaGicbWywrKAw5NoIaXnxb4idi1ChG7cIaGicaGicaGyM9YzgvYlxjHzgL1CZOGohb4oWOGicaGicaGign1CNnVCJOGCg9PBNrLCJSkicaGicaGicbTyxjNAw46idiWChGGyxv0BZSkicaGicaGicbKAxnWBgf5oIbIBg9JAZSkicaGicaGicbMB250lxnPEMu6ide2ChG7cIaGicaGicaGzM9UDc13zwLNAhq6idyWmdSkicaGicaGicb0CMfUC2L0Aw9UoIbHBgWGmc4ZCYbLyxnLoWOGicaGicaGigjVEc1ZAgfKB3C6idaGnhb4ideYChGGCMDIysGXmdmSidu4lcaXodmSidaUmYK7cIaGicb9cIaGicakicaGic5SB2fKlw1VCMuTyNrUoMHVDMvYoM5VDcG6zgLZywjSzwqPihSkicaGicaGicb0CMfUC2zVCM06ihrYyw5ZBgf0zvKOltjWEcK7cIaGicaGicaGyM94lxnOywrVDZOGmca2ChGGmtzWEcbYz2jHkdeWmYWGntGSide4mYWGmc40ktSkicaGih0kicaGiaOGicaGlMXVywqTBw9Yzs1IDg46zgLZywjSzwqGEWOGicaGicaGig9WywnPDhK6idaUnZSkicaGicaGicbJDxjZB3i6ig5VDc1HBgXVD2vKoWOGicaGFqOGicaGcIaGicaUBg9Hzc1TB3jLlwj0BIbZBwfSBcb7cIaGicaGicaGzgLZCgXHEtOGyMXVy2S7cIaGicaGicaGzM9UDc1ZAxPLoIaXmNb4oWOGicaGicaGig1HCMDPBI10B3a6idvWEdSkicaGicaGicbVCgfJAxr5oIaWlJK7cIaGicb9cIaGicakicaGic5Wyxj0AwfSlwrHDgeTAw5KAwnHDg9YihSkicaGicaGicbIywnRz3jVDw5KoIbYz2jHkdi1nsWGmtKZlca3lcaWlJePoWOGicaGicaGigjVCMrLCJOGmxb4ihnVBgLKihjNyMeOmJu1lcaXotmSidCSidaUmYK7cIaGicaGicaGy29SB3i6icnMzMmXmdC7cIaGicaGicaGCgfKzgLUzZOGmtbWEcaXnxb4oWOGicaGicaGigjVCMrLCI1YywrPDxm6idzWEdSkicaGicaGicbTyxjNAw4TyM90Dg9ToIaYmhb4oWOGicaGicaGigzVBNqTC2L6ztOGmtrWEdSkicaGicaGicbKAxnWBgf5oIbMBgv4oWOGicaGicaGigfSAwDUlwL0zw1ZoIbJzw50zxi7cIaGicaGicaGz2fWoIa4ChG7cIaGicb9cIaGicakicaGic5Wyxj0AwfSlwrHDgeTAw5KAwnHDg9YigKGEWOGicaGicaGignVBg9YoIaJzMzJmta3oWOGicaGFqOGicaGcIaGicaVkIbfBMHHBMnLzcbnyxaGu3rHDhmGu3r5BgLUzYaQlWOGicaGlM1HCc1ZDgf0CY1OzwfKzxiGEWOGicaGicaGig1HCMDPBI1IB3r0B206idiWChG7cIaGicaGicaGDgv4Dc1HBgLNBJOGy2vUDgvYoWOGicaGFqOGicaGcIaGicaUBwfWlxn0yxrZlwHLywrLCIbOmYb7cIaGicaGicaGy29SB3i6icmZmZm7cIaGicaGicaGBwfYz2LUlwjVDhrVBtOGohb4oWOGicaGicaGigzVBNqTC2L6ztOGms40zw07cIaGicb9cIaGicakicaGic5TyxaTC3rHDhmTAgvHzgvYic50B3rHBc1TyxrJAgvZihSkicaGicaGicbJB2XVCJOGiZy2nJSkicaGicaGicbMB250lxnPEMu6idaUowvToWOGicaGicaGig1HCMDPBJOGmdSkicaGih0kicaGiaOGicaGlM1HCc1ZDgf0CY1SAxn0ihSkicaGicaGicbKAxnWBgf5oIbMBgv4oWOGicaGicaGigzSzxGTzgLYzwn0Aw9UoIbJB2X1Bw47cIaGicaGicaGz2fWoIaXmNb4oWOGicaGFqOGicaGcIaGicaUBwfWlxn0yxqTAxrLBsb7cIaGicaGicaGyMfJA2DYB3vUzdOGCMDIysGYntuSidi1nsWGmJu1lcaWlJGPoWOGicaGicaGigjVCMrLCJOGmxb4ihnVBgLKihjNyMeOmcWGmcWGmcWGmc4XktSkicaGicaGicbIB3jKzxiTCMfKAxvZoIa4ChG7cIaGicaGicaGCgfKzgLUzZOGmtjWEdSkicaGicaGicb0CMfUC2L0Aw9UoIbHBgWGmc4YCYbLyxnLoWOGicaGicaGign1CNnVCJOGCg9PBNrLCJSkicaGih0kicaGiaOGicaGlM1HCc1ZDgf0lwL0zw06Ag92zxiGEWOGicaGicaGigjHy2TNCM91BMq6ihjNyMeOmJu1lcaYntuSidi1nsWGmc45nsK7cIaGicaGicaGDhjHBNnMB3jToIb0CMfUC2XHDgvzkc0XChGPoWOGicaGicaGigjVEc1ZAgfKB3C6idaGnhb4ideYChGGCMDIysGWlcaWlcaWlcaWlJePoWOGicaGFqOGicaGcIaGicaUBwfWlwLUzM8GEWOGicaGicaGigrPC3bSyxK6igzSzxG7cIaGicaGicaGANvZDgLMEs1JB250zw50oIbZCgfJzs1Izxr3zwvUoWOGicaGicaGigfSAwDUlwL0zw1ZoIbJzw50zxi7cIaGicaGicaGBwfYz2LUlwjVDhrVBtOGohb4oWOGicaGFqOGicaGcIaGicaUBwfWlxjHBMSGEWOGicaGicaGigzVBNqTD2vPz2H0oIbIB2XKoWOGicaGicaGignVBg9YoIaJnJCZywi3oWOGicaGicaGig1PBI13Awr0AdOGmZbWEdSkicaGih0kicaGiaOGicaGlM1HCc1Uyw1LihSkicaGicaGicbMB250lxDLAwDODdOGnJaWoWOGicaGicaGignVBg9YoIaJmZmZoWOGicaGicaGigzSzxG6ide7cIaGicaGicaGBwfYz2LUlwXLzNq6ideYChG7cIaGicb9cIaGicakicaGic5TyxaTy291BNqGEWOGicaGicaGignVBg9YoIaJnJy2oWOGicaGicaGigzVBNqTC2L6ztOGmc45zw07cIaGicb9cIaGicakicaGic5TyxaTyMfYlwnVBNrHAw5LCIb7cIaGicaGicaGzgLZCgXHEtOGzMXLEdSkicaGicaGicbHBgLNBI1PDgvTCZOGy2vUDgvYoWOGicaGicaGigDHCdOGmtbWEdSkicaGih0kicaGiaOGicaGlM1HCc1IyxiGEWOGicaGicaGigzSzxG6ide7cIaGicaGicaGAgvPz2H0oIa2ChG7cIaGicaGicaGyMfJA2DYB3vUzdOGBgLUzwfYlwDYywrPzw50kdKWzgvNlcaJnJCZywi3lcaJowmYn2iWktSkicaGicaGicbIB3jKzxiTCMfKAxvZoIaZChG7cIaGicaGicaGDhjHBNnPDgLVBJOGD2LKDgGGmc4ZCYbLyxnLoWOGicaGFqOGicaGcIaGicaUBwfWlxbLCMnLBNrHz2uGEWOGicaGicaGigzVBNqTC2L6ztOGmc44zw07cIaGicaGicaGy29SB3i6icm2nJy7cIaGicaGicaGBwLUlxDPzhrOoIaZnxb4oWOGicaGicaGihrLEhqTywXPz246ihjPz2H0oWOGicaGFqOGicaGcIaGicaUBwfWlxn0yxrZlwzVB3rLCIb7cIaGicaGicaGBwfYz2LUlxrVCdOGmtvWEdSkicaGicaGicb0zxH0lwfSAwDUoIbJzw50zxi7cIaGicaGicaGCgfKzgLUzY10B3a6ide1ChG7cIaGicaGicaGyM9YzgvYlxrVCdOGmxb4ihnVBgLKihjNyMeOmcWGmcWGmcWGmc4XktSkicaGih0kicaGiaOGicaGlNjLBwfPBMLUzY1TyxbZihSkicaGicaGicbJB2XVCJOGiZy2nJSkicaGicaGicbMB250lxnPEMu6idaUowvToWOGicaGicaGig1HCMDPBJOGmdSkicaGicaGicbMB250lxn0EwXLoIbPDgfSAwm7cIaGicb9cIaGicakicaGic5LCNjVCI1TzxnZywDLihSkicaGicaGicbJB2XVCJOGi2rJmZu0ntSkicaGicaGicbMB250lxn0EwXLoIbPDgfSAwm7cIaGicaGicaGDgv4Dc1HBgLNBJOGy2vUDgvYoWOGicaGicaGihbHzgrPBMC6idiWChG7cIaGicb9cG','zgLZCgXHEq','y3jLyxrLrwXLBwvUDa','cIaGicaGicaGicaGidXKAxyGy2XHC3m9iNbSyxLLCI1Uyw1LiJ4','4PYfifvZAw5NignHy2HLzca','8j+uHcbmB2fKAw5Nig1HCcbZDgf0CYbMB3iG','yxbWCM92zwrnyxrJAgvZrdi','ig1VCMuGBwfWCYb3AxrOia','CMvKDwnL','zgf0yq','lI4Vsfrntc9UyxyUAhrTBa','DhjHy2u','mtm5mtGWmKzHz21sBW','lNrVz2DSzs1IDg4','zNjVBq','CxvLCNLtzwXLy3rVCKfSBa','A2rsyxrPBW','zgf0ys1Nyw1L','rxjYB3iGzMv0y2HPBMCGCgXHEwvYCYbMB3iGDgLLCNm6ia','n3PPzejsDa','yMvZDc13Aw5YyxrL','Bw9ZDc13Aw5Z','ig1HDgnOzxmUlI4','8j+uJsbtyw1WBguGBwf0y2GGC3rYDwn0DxjLigzVCIbKzwj1z2DPBMC6','oty4mdrfu0jOwg4','CgfYzw50tM9Kzq','Bg9ZzxjtDwLJAwrLCW'];a46c=function(){return ae;};return a46c();}import{db}from'./firebase-config.js';const MIN_MATCHES_REQUIREMENT=0xa,CACHE_DURATION_MS=0x1e*0x3c*0x3e8,MAX_PLAYERS_PER_BATCH=0x32,MAX_MATCHES_PER_BATCH=0x64,state={'currentGameMode':'D1','cache':{'D1':{'playerStats':null,'playerSnapshot':null,'matchSnapshot':null,'timestamp':0x0,'fullDataLoaded':![]},'D2':{'playerStats':null,'playerSnapshot':null,'matchSnapshot':null,'timestamp':0x0,'fullDataLoaded':![]}},'isLoadingMore':![]};let mapChart=null;console['log']('üöÄ\x20Ultra-optimized\x20records.js\x20loaded!'),console['log']('üìä\x20This\x20page\x20now\x20uses\x20~50\x20reads\x20instead\x20of\x201000+!');function getPlayerTier(a){const D=a46d;if(a===undefined||a===null)return'default';const b=Number(a);if(isNaN(b))return'default';if(b>=0x7d0)return D(0x13c);if(b>=0x708)return'gold';if(b>=0x640)return D(0xd4);if(b>=0x578)return D(0xd8);return D(0xde);}function updateRecordCard(a,b,c='',d=![]){const E=a46d,e=document[E(0xe2)](a);if(!e){console[E(0x139)](E(0xd0)+a+'\x22\x20not\x20found.');return;}const f=getPlayerTier(b[E(0xc3)]);let g=b[E(0xb8)];d&&b[E(0xb8)]>0x0&&(g='+'+b[E(0xb8)]),e['innerHTML']=E(0xfb)+f+'-rank\x22>'+b[E(0xbe)]+'</span>\x20<span\x20class=\x22record-stat\x22>('+g+c+')</span>';}async function loadRecords(){const F=a46d;try{console['log']('üîÑ\x20Loading\x20'+state['currentGameMode']+'\x20records...'),document['querySelectorAll']('.record-value')['forEach'](k=>k[F(0x149)]='Loading...'),document['querySelectorAll']('.tier-players')['forEach'](k=>k['innerHTML']='<div\x20class=\x22loading-msg\x22>Loading\x20players...</div>');const a=state['currentGameMode'],b=a==='D1'?F(0x112):'playersD2',c=a==='D1'?'approvedMatches':F(0x11d),d=Date['now'](),e=state['cache'][a];if(e['playerStats']&&e[F(0xea)]&&d-e['timestamp']<CACHE_DURATION_MS){console['log'](F(0x11b)+a+F(0x13b)),updateRecordDisplay(e['playerStats']),await updateTopPlayersByTier(e['playerSnapshot']),updateSummaryStats(e['playerSnapshot']);return;}console['log'](F(0x151)+b+'\x20and\x20'+c+'...');const f=collection(db,b),g=collection(db,c),[h,i]=await Promise[F(0xaf)]([getDocs(f),getDocs(g)]);console[F(0xdf)]('üìä\x20Loaded:\x20'+h['size']+'\x20players,\x20'+i[F(0xc6)]+F(0xec));const j=await calculateOptimizedStats(h,i,a);console[F(0xdf)](F(0xb3)+j[F(0xc6)]+'\x20players'),state['cache'][a]={'playerStats':j,'playerSnapshot':h,'matchSnapshot':i,'timestamp':d,'fullDataLoaded':!![]},updateRecordDisplay(j),await updateTopPlayersByTier(h),updateSummaryStats(h),console[F(0xdf)]('‚úÖ\x20Records\x20loaded\x20successfully!');}catch(k){console['error'](F(0xa5)+state[F(0x147)]+'\x20records:',k),document['querySelectorAll']('.record-value')['forEach'](l=>l[F(0x149)]='Error'),document['querySelectorAll']('.tier-players')['forEach'](l=>{const G=F;l[G(0x14d)]='<div\x20class=\x22loading-msg\x22>Error\x20loading\x20data</div>';});}}async function calculateOptimizedStats(a,b,c){const H=a46d,d=new Map(),e=new Map();return b[H(0xd2)](f=>{const I=H,g=f[I(0x120)]();if(!g[I(0x14c)]||!g[I(0xb5)])return;!e[I(0x114)](g['winnerUsername'])&&e['set'](g['winnerUsername'],{'wins':[],'losses':[]}),!e[I(0x114)](g['loserUsername'])&&e[I(0xfd)](g[I(0xb5)],{'wins':[],'losses':[]}),e[I(0xe6)](g['winnerUsername'])['wins'][I(0x153)](g),e[I(0xe6)](g[I(0xb5)])[I(0x100)]['push'](g);}),a[H(0xd2)](f=>{const J=H,g=f['data'](),h=g[J(0xbe)];if(!h)return;const i=e['get'](h)||{'wins':[],'losses':[]},j=i[J(0x140)][J(0xf2)],k=i[J(0x100)]['length'],l=j+k;let m=0x0,n=0x0,o=0x0,p=0x0;i[J(0x140)][J(0xd2)](s=>{const K=J,t=parseInt(s[K(0xb6)])||0x0,u=parseInt(s['loserScore'])||0x0;m+=t,n+=u,o+=parseInt(s['winnerSuicides'])||0x0,p+=t-u;}),i[J(0x100)][J(0xd2)](s=>{const L=J,t=parseInt(s[L(0xb6)])||0x0,u=parseInt(s['loserScore'])||0x0;m+=u,n+=t,o+=parseInt(s[L(0x131)])||0x0,p-=t-u;});const q=n>0x0?parseFloat((m/n)['toFixed'](0x2)):m,r=l>0x0?parseFloat((j/l*0x64)['toFixed'](0x1)):0x0;d[J(0xfd)](h,{'wins':j,'losses':k,'totalMatches':l,'kdRatio':q,'winRate':r,'totalKills':m,'totalDeaths':n,'totalSuicides':o,'scoreDifferential':p,'eloRating':g['eloRating']||0x4b0,'position':g['position'],'isPartialData':!![]});}),console[H(0xdf)]('üìä\x20Calculated\x20stats\x20for\x20'+d['size']+'\x20players\x20from\x20optimized\x20dataset'),d;}function addLoadMoreOption(a){const M=a46d,b=state[M(0x138)][a];if(b[M(0xf8)])return;const c=document[M(0xb7)]('.records-grid')||document[M(0xb7)]('.records');if(c&&!document['getElementById']('load-more-btn')){const d=document[M(0x119)]('button');d['id']='load-more-btn',d[M(0x106)]=M(0xac),d['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Load\x20Complete\x20Dataset\x20(All\x20Players\x20&\x20Matches)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small>May\x20take\x20longer\x20but\x20shows\x20complete\x20statistics</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',d['addEventListener'](M(0xe4),()=>loadCompleteDataset(a)),c['appendChild'](d);}}async function loadCompleteDataset(a){const N=a46d;if(state[N(0xd5)])return;state['isLoadingMore']=!![];const b=document['getElementById'](N(0xac));b&&(b['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading\x20complete\x20dataset...',b[N(0xbb)]=!![]);try{console[N(0xdf)]('üîÑ\x20Loading\x20COMPLETE\x20dataset\x20(this\x20will\x20use\x20more\x20reads)...');const c=a==='D1'?N(0x112):'playersD2',d=a==='D1'?N(0xd9):'approvedMatchesD2',e=collection(db,c),f=collection(db,d),[g,h]=await Promise[N(0xaf)]([getDocs(e),getDocs(f)]);console[N(0xdf)](N(0xf0)+g['size']+'\x20players,\x20'+h[N(0xc6)]+'\x20matches');const i=await calculateCompleteStats(g,h);state['cache'][a]={'playerStats':i,'playerSnapshot':g,'matchSnapshot':h,'timestamp':Date[N(0xad)](),'fullDataLoaded':!![]},updateRecordDisplay(i),await updateTopPlayersByTier(g),updateSummaryStats(g),b&&b['remove'](),console[N(0xdf)](N(0x108));}catch(j){console[N(0xc8)]('Error\x20loading\x20complete\x20dataset:',j),b&&(b[N(0x14d)]=N(0x143),b[N(0xbb)]=![]);}finally{state['isLoadingMore']=![];}}async function calculateCompleteStats(a,b){const O=a46d,c=new Map(),d=new Map();return b[O(0xd2)](e=>{const P=O,f=e['data']();if(!f[P(0x14c)]||!f[P(0xb5)])return;!d[P(0x114)](f['winnerUsername'])&&d['set'](f[P(0x14c)],{'wins':[],'losses':[]}),!d['has'](f['loserUsername'])&&d['set'](f[P(0xb5)],{'wins':[],'losses':[]}),d['get'](f[P(0x14c)])[P(0x140)][P(0x153)](f),d[P(0xe6)](f[P(0xb5)])[P(0x100)][P(0x153)](f);}),a['forEach'](e=>{const Q=O,f=e['data'](),g=f['username'];if(!g)return;const h=d['get'](g)||{'wins':[],'losses':[]},i=h['wins'][Q(0xf2)],j=h['losses'][Q(0xf2)],k=i+j;let l=0x0,m=0x0,n=0x0,o=0x0;h[Q(0x140)]['forEach'](r=>{const R=Q,s=parseInt(r[R(0xb6)])||0x0,t=parseInt(r['loserScore'])||0x0;l+=s,m+=t,n+=parseInt(r[R(0x13f)])||0x0,o+=s-t;}),h['losses'][Q(0xd2)](r=>{const S=Q,s=parseInt(r[S(0xb6)])||0x0,t=parseInt(r['loserScore'])||0x0;l+=t,m+=s,n+=parseInt(r['loserSuicides'])||0x0,o-=s-t;});const p=m>0x0?parseFloat((l/m)['toFixed'](0x2)):l,q=k>0x0?parseFloat((i/k*0x64)['toFixed'](0x1)):0x0;c['set'](g,{'wins':i,'losses':j,'totalMatches':k,'kdRatio':p,'winRate':q,'totalKills':l,'totalDeaths':m,'totalSuicides':n,'scoreDifferential':o,'eloRating':f[Q(0x10f)]||0x4b0,'position':f[Q(0xbd)],'isPartialData':![]});}),c;}function updateRecordDisplay(a){const T=a46d;if(!a||a['size']===0x0){console[T(0x139)]('No\x20player\x20stats\x20available\x20to\x20display\x20records.'),document['querySelectorAll'](T(0x13a))['forEach'](n=>n['textContent']=T(0xe1));return;}let b={'username':T(0xe1),'value':0x0,'elo':0x0},c={'username':'N/A','value':0x0,'elo':0x0},d={'username':'N/A','value':0x0,'elo':0x0},e={'username':T(0xe1),'value':0x0,'elo':0x0},f={'username':T(0xe1),'value':-Infinity,'elo':0x0},g={'username':'N/A','value':0x0,'elo':0x0},h=null,i=Infinity,j={'username':'N/A','value':0x0,'elo':0x0},k={'username':'N/A','value':0x0,'elo':0x0};for(const [n,o]of a){const p=o[T(0x10f)]||0x0;if(o[T(0x140)]>b[T(0xb8)])b={'username':n,'value':o['wins'],'elo':p};if(o['totalMatches']>=MIN_MATCHES_REQUIREMENT&&o[T(0x14a)]>c['value'])c={'username':n,'value':o[T(0x14a)],'elo':p};if(o[T(0xed)]>=MIN_MATCHES_REQUIREMENT&&o[T(0x127)]>d['value'])d={'username':n,'value':o[T(0x127)],'elo':p};if(o['totalMatches']>e['value'])e={'username':n,'value':o[T(0xed)],'elo':p};if(o['totalMatches']>=MIN_MATCHES_REQUIREMENT&&o['scoreDifferential']>f[T(0xb8)])f={'username':n,'value':o['scoreDifferential'],'elo':p};if(o['losses']>g['value'])g={'username':n,'value':o[T(0x100)],'elo':p};if(o[T(0xed)]>=MIN_MATCHES_REQUIREMENT&&o[T(0xa3)]>=0x0){const q=o[T(0xa3)]/o['totalMatches']*0x64;q<i&&(i=q,h={'username':n,'suicideRate':q,'totalSuicides':o['totalSuicides'],'totalMatches':o['totalMatches'],'elo':p});}if(o[T(0xa9)]>j[T(0xb8)])j={'username':n,'value':o[T(0xa9)],'elo':p};if(o[T(0x10f)]>k['value'])k={'username':n,'value':Math[T(0x134)](o[T(0x10f)]),'elo':p};}updateRecordCard(T(0x12c),b),updateRecordCard(T(0x12b),c,'%'),updateRecordCard('best-kd',d),updateRecordCard(T(0xc9),e),updateRecordCard('best-differential',f,'',!![]),updateRecordCard(T(0xef),g);const l=document[T(0xe2)](T(0xf3));if(h&&l){const r=getPlayerTier(h['elo']);l[T(0x14d)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-name\x20'+r+T(0xa7)+h['username']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22record-stat\x22>('+h[T(0xd1)][T(0x133)](0x2)+T(0xca)+h['totalSuicides']+'\x20suicides\x20in\x20'+h[T(0xed)]+'\x20matches</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}else l&&(l['textContent']=T(0x14f));updateRecordCard(T(0xda),j),updateRecordCard(T(0x14e),k);const m=Array[T(0x125)](a['values']())['some'](s=>s['isPartialData']);m&&addPartialDataIndicator(),updateHiddenStatsDiv(a);}function a46d(a,b){const c=a46c();return a46d=function(d,e){d=d-0xa2;let f=c[d];if(a46d['tUYULR']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a46d['OqkGxR']=g,a=arguments,a46d['tUYULR']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a46d['OqkGxR'](f),a[i]=f):f=j,f;},a46d(a,b);}function addPartialDataIndicator(){const U=a46d,a=document[U(0xb7)]('.records-grid')||document[U(0xb7)](U(0x10d));if(a&&!document[U(0xb7)]('.partial-data-indicator')){const b=document[U(0x119)]('div');b[U(0x106)]='partial-data-indicator',b['innerHTML']=U(0x132)+MAX_PLAYERS_PER_BATCH+'\x20players\x20and\x20recent\x20'+MAX_MATCHES_PER_BATCH+'\x20matches\x0a\x20\x20\x20\x20\x20\x20\x20\x20',a[U(0xdd)](b,a[U(0xcf)]);}}async function loadMapStats(){const V=a46d;try{console['log'](V(0x11c)+state[V(0x147)]+V(0x10e));const a=state['currentGameMode'],b=state[V(0x138)][a];let c;if(b['matchSnapshot']&&Date[V(0xad)]()-b[V(0xf7)]<CACHE_DURATION_MS)console['log']('‚úÖ\x20Using\x20cached\x20match\x20data\x20for\x20map\x20stats\x20(from\x20loadRecords)'),c=b['matchSnapshot'];else{console['log'](V(0xc1));const l=a==='D1'?V(0xd9):'approvedMatchesD2',m=collection(db,l);console[V(0xdf)]('üì•\x20Using\x20simple\x20getDocs\x20(no\x20orderBy\x20to\x20avoid\x20index\x20issues)...'),c=await getDocs(m),console[V(0xdf)]('‚úÖ\x20Simple\x20map\x20query\x20successful:\x20'+c['size']+V(0xec));}console[V(0xdf)]('üìä\x20Processing\x20map\x20stats\x20from\x20'+c[V(0xc6)]+V(0x12d));const d=new Map(),e=new Map();let f=0x0;c['forEach'](n=>{const W=V,o=n[W(0x120)](),p=o[W(0xe3)]||o[W(0xeb)]||o['mapName']||o[W(0x14b)];if(p&&typeof p==='string'&&p[W(0xf9)]()['length']>0x0){const q=p['toLowerCase']()['trim']();d['set'](q,(d['get'](q)||0x0)+0x1),!e[W(0x114)](q)&&e['set'](q,{}),e[W(0xe6)](q)[p]=(e[W(0xe6)](q)[p]||0x0)+0x1,f++;}}),console['log'](V(0xba)+f+V(0xe9)+c[V(0xc6)]+'\x20total'),console[V(0xdf)](V(0x13e)+d[V(0xc6)]+V(0xdb));if(d['size']===0x0){console[V(0x139)](V(0xf5));c[V(0xc6)]>0x0&&(console[V(0xdf)](V(0x12e)),c['forEach']((o,p)=>{const X=V;if(p===0x0){const q=o['data']();console[X(0xdf)]('First\x20match\x20data:',q),console[X(0xdf)](X(0x13d),Object[X(0x103)](q));}}));const n=document[V(0xe2)]('mapStatsChart')?.['parentElement']||document['querySelector']('.chart-container')||document[V(0xb7)]('.map-stats-container');n&&(n[V(0x14d)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-stats-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Most\x20Played\x20Maps\x20-\x20'+state[V(0x147)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22error-message\x22>No\x20map\x20data\x20found\x20in\x20'+c[V(0xc6)]+'\x20matches</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22error-message\x22>Check\x20console\x20for\x20match\x20structure\x20debug\x20info</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');return;}const g=Array[V(0x125)](d['entries']())['sort']((o,p)=>p[0x1]-o[0x1])[V(0xbf)](0x0,0xf),h=g['length']>0x0?g[0x0][0x1]:0x1,i=c['size'],j=document['getElementById'](V(0xf6))?.['parentElement']||document[V(0xb7)](V(0x10b))||document[V(0xb7)]('.map-stats-container');if(!j){console['warn']('Map\x20stats\x20container\x20not\x20found.\x20Looking\x20for\x20containers...'),console['log'](V(0xa2),{'mapStatsChart':!!document['getElementById']('mapStatsChart'),'chartContainer':!!document['querySelector']('.chart-container'),'mapStatsContainer':!!document[V(0xb7)](V(0x136))});return;}let k='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-stats-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>üó∫Ô∏è\x20Most\x20Played\x20Maps\x20-\x20'+state[V(0x147)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22total-matches\x22>Based\x20on\x20'+f+'\x20matches\x20with\x20map\x20data\x20‚Ä¢\x20'+d[V(0xc6)]+V(0xf1);g['forEach'](([o,p],q)=>{const Y=V,r=e['get'](o);let s=o,t=0x0;for(const [x,y]of Object['entries'](r)){y>t&&(t=y,s=x);}const u=Math['round'](p/h*0x64),v=Math[Y(0x134)](p/f*0x64),w=q+0x1;k+=Y(0x135)+s+':\x20'+p+'\x20matches\x20('+v+'%)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22map-rank\x22>#'+w+Y(0xb0)+s+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22map-count\x22>'+p+Y(0x145)+u+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22map-percentage\x22>'+v+Y(0x113);}),k+='</div>';if(d[V(0xc6)]>0xf){const o=d[V(0xc6)]-0xf,p=Array[V(0x125)](d['values']())['slice'](0xf)['reduce']((q,r)=>q+r,0x0);k+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-stats-footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22remaining-maps\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20+\x20'+o+V(0x11e)+p+'\x20total\x20matches\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}j[V(0x14d)]=k,console[V(0xdf)]('‚úÖ\x20Map\x20stats\x20displayed:\x20'+g[V(0xf2)]+V(0xee));}catch(q){console[V(0xc8)](V(0xa5)+state['currentGameMode']+'\x20map\x20statistics:',q);const r=document[V(0xe2)](V(0xf6))?.[V(0xbc)]||document[V(0xb7)](V(0x10b));r&&(r['innerHTML']=V(0x107)+state[V(0x147)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22error-message\x22>Error\x20loading\x20map\x20statistics:\x20'+q[V(0xcc)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}}async function updateTopPlayersByTier(a){const Z=a46d;if(!a){console['error']('playerSnapshot\x20not\x20provided\x20to\x20updateTopPlayersByTier');try{const b=state[Z(0x147)]==='D1'?'players':'playersD2';a=await getDocs(collection(db,b));}catch(c){console[Z(0xc8)](Z(0x129)+c),document['querySelectorAll'](Z(0xb2))[Z(0xd2)](d=>d['innerHTML']='<div\x20class=\x22loading-msg\x22>Error\x20loading\x20players</div>');return;}}try{document[Z(0x126)]('.tier-players')[Z(0xd2)](e=>e[Z(0x14d)]=Z(0xe0));const d={'emerald':{'min':0x7d0,'players':[]},'gold':{'min':0x708,'players':[]},'silver':{'min':0x640,'players':[]},'bronze':{'min':0x578,'players':[]}};a['forEach'](e=>{const a0=Z,f=e[a0(0x120)]();if(!f[a0(0xbe)])return;const g=f[a0(0x10f)]||0x4b0,h={'username':f[a0(0xbe)],'elo':g,'position':f[a0(0xbd)]||0x3e7};if(g>=d[a0(0x13c)][a0(0xc2)])d[a0(0x13c)]['players'][a0(0x153)](h);else{if(g>=d[a0(0xcd)][a0(0xc2)])d[a0(0xcd)][a0(0x112)][a0(0x153)](h);else{if(g>=d['silver']['min'])d['silver'][a0(0x112)][a0(0x153)](h);else{if(g>=d[a0(0xd8)]['min'])d[a0(0xd8)][a0(0x112)][a0(0x153)](h);}}}});for(const e in d){const f=d[e];f[Z(0x112)]['length']>0x0?(f[Z(0x112)][Z(0x141)]((h,i)=>{const a1=Z,j=h['position']===0x3e7?Infinity:h['position'],k=i[a1(0xbd)]===0x3e7?Infinity:i[a1(0xbd)];if(j!==k)return j-k;return i['elo']-h[a1(0xc3)];}),f['topPlayer']=f['players'][0x0]):f[Z(0xe7)]=null;const g=document['getElementById'](e+'-players');if(!g)continue;if(!f['topPlayer'])g['innerHTML']=Z(0x101);else{const h=f['topPlayer'],i=h['position']&&h[Z(0xbd)]<0x3e7?h[Z(0xbd)]:0x1;g[Z(0x14d)]=Z(0x142)+i+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-name\x22>'+h[Z(0xbe)]+Z(0x152)+Math['round'](h[Z(0xc3)])+Z(0xc0)+(e['charAt'](0x0)['toUpperCase']()+e[Z(0xbf)](0x1))+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tier-count\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+f['players']['length']+Z(0xff)+(f[Z(0x112)]['length']!==0x1?'s':'')+'\x20in\x20'+state[Z(0x147)]+'\x20'+e+Z(0xd7);}}}catch(j){console[Z(0xc8)](Z(0xcb)+j),document['querySelectorAll']('.tier-players')['forEach'](k=>k['innerHTML']='<div\x20class=\x22loading-msg\x22>Error\x20loading\x20players</div>');}}function updateSummaryStats(a){const a2=a46d;if(!a)return;const b=a['size'],c=a['docs']['filter'](h=>h['data']()[a2(0xfa)]!==![])[a2(0xf2)],d=document['getElementById'](a2(0x104)),e=document['getElementById']('total-players'),f=document[a2(0xe2)]('last-updated'),g=state[a2(0x138)][state['currentGameMode']]?.[a2(0x146)];if(g){const h=Array[a2(0x125)](g['values']())[a2(0x11f)]((i,j)=>i+j['totalMatches'],0x0)/0x2;if(d)d['textContent']=Math['round'](h);}else{if(d)d[a2(0x149)]=a2(0xe1);}if(e)e[a2(0x149)]=c;if(f)f[a2(0x149)]=new Date()[a2(0xab)]();}function updateHiddenStatsDiv(a){const a3=a46d;let b=document[a3(0xe2)]('records-stats');!b&&(b=document['createElement'](a3(0xa8)),b['id']='records-stats',b['style'][a3(0x118)]=a3(0xf4),document['body'][a3(0xe8)](b));const c=(e,f=()=>!![],g,h=e)=>Array[a3(0x125)](a['entries']())[a3(0xaa)](f)['sort'](g)['slice'](0x0,0x3)[a3(0xeb)](([i,j])=>({'name':i,[h]:j[h]})),d={'mode':state['currentGameMode'],'timestamp':new Date()['toISOString'](),'records':{'mostWins':c(a3(0x140),()=>!![],(e,f)=>f[0x1][a3(0x140)]-e[0x1][a3(0x140)]),'bestWinRate':c(a3(0x14a),([e,f])=>f['totalMatches']>=MIN_MATCHES_REQUIREMENT,(e,f)=>f[0x1][a3(0x14a)]-e[0x1][a3(0x14a)]),'bestKD':c(a3(0x127),([e,f])=>f['totalMatches']>=MIN_MATCHES_REQUIREMENT,(e,f)=>f[0x1][a3(0x127)]-e[0x1][a3(0x127)]),'mostMatches':c('totalMatches',()=>!![],(e,f)=>f[0x1][a3(0xed)]-e[0x1][a3(0xed)])}};b[a3(0x149)]=JSON['stringify'](d,null,0x2);}function setupGameModeToggle(){const a4=a46d,a=document['querySelectorAll'](a4(0x124));a['forEach'](b=>{const a5=a4,c=b['cloneNode'](!![]);b[a5(0x130)]['replaceChild'](c,b),c[a5(0xfe)]('click',function(){const a6=a5;if(this[a6(0xb9)][a6(0xd3)]('active'))return;const d=this['getAttribute'](a6(0x128))[a6(0x110)]();console['log']('Switching\x20to\x20'+d+'\x20mode...'),document['querySelectorAll']('.toggle-btn')['forEach'](f=>f[a6(0xb9)]['remove']('active')),this[a6(0xb9)]['add'](a6(0xfa)),state['currentGameMode']=d;const e=document[a6(0xe2)](a6(0xac));if(e)e[a6(0xce)]();loadRecords(),loadMapStats();});});}const style=document[a46a7(0x119)]('style');style[a46a7(0x149)]=a46a7(0x117),document['head'][a46a7(0xe8)](style),document[a46a7(0xfe)](a46a7(0xc4),()=>{const a8=a46a7;Promise['all']([fetch(a8(0x121))['then'](a=>a['ok']?a[a8(0x109)]():Promise['reject'](a8(0x150))),fetch('../HTML/footer.html')['then'](a=>a['ok']?a['text']():Promise['reject']('Footer\x20fetch\x20failed'))])['then'](([a,b])=>{const a9=a8,c=document['getElementById'](a9(0x111)),d=document[a9(0xe2)](a9(0xa4));if(c)c['innerHTML']=a;if(d)d[a9(0x14d)]=b;})['catch'](a=>{const aa=a8;console['error'](aa(0xe5),a);}),loadRecords(),loadMapStats(),setupGameModeToggle();});function calculatePlayerRecords(a,b){const ad=a46a7;let c=null,d=Infinity;b['forEach'](f=>{const ab=a46d,g=a['filter'](j=>j['winnerUsername']===f[ab(0xbe)]||j['loserUsername']===f['username']);if(g[ab(0xf2)]<0x5)return;const h=g['reduce']((j,k)=>{const ac=ab;return k[ac(0x14c)]===f['username']?j+(k['winnerSuicides']||0x0):j+(k[ac(0x131)]||0x0);},0x0),i=h/g['length']*0x64;i<d&&(d=i,c={'player':f[ab(0xbe)],'suicideRate':i,'totalSuicides':h,'totalMatches':g['length']});});const e=document[ad(0xe2)](ad(0xf3));c?e[ad(0x14d)]=ad(0x11a)+c[ad(0xc7)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22record-stat\x22>'+c['suicideRate']['toFixed'](0x2)+'%</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22record-detail\x22>'+c['totalSuicides']+ad(0xd6)+c[ad(0xed)]+ad(0x144):e['textContent']=ad(0x14f);}