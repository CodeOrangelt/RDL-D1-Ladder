function a52_0x22b4(){const _0x23b3fc=['{}.constructor(\x22return\x20this\x22)(\x20)','warn','wins','error','snapshot','Error\x20archiving\x20season:','log','season0','__proto__','info','username','records','console','docs','toString'];a52_0x22b4=function(){return _0x23b3fc;};return a52_0x22b4();}const a52_0x5daee6=(function(){let _0x36f979=!![];return function(_0x538b14,_0x557863){const _0x2d50cf=_0x36f979?function(){if(_0x557863){const _0x434ef9=_0x557863['apply'](_0x538b14,arguments);return _0x557863=null,_0x434ef9;}}:function(){};return _0x36f979=![],_0x2d50cf;};}()),a52_0x5be32f=a52_0x5daee6(this,function(){const _0x2bad92=a52_0x55d5;let _0x9d24f5;try{const _0x4c8c0a=Function('return\x20(function()\x20'+_0x2bad92(0x95)+');');_0x9d24f5=_0x4c8c0a();}catch(_0x574b63){_0x9d24f5=window;}const _0x468b47=_0x9d24f5['console']=_0x9d24f5[_0x2bad92(0xa1)]||{},_0x439090=[_0x2bad92(0x9b),_0x2bad92(0x96),_0x2bad92(0x9e),'error','exception','table','trace'];for(let _0x1b1a77=0x0;_0x1b1a77<_0x439090['length'];_0x1b1a77++){const _0x50aac1=a52_0x5daee6['constructor']['prototype']['bind'](a52_0x5daee6),_0x2f5ca9=_0x439090[_0x1b1a77],_0x240d2f=_0x468b47[_0x2f5ca9]||_0x50aac1;_0x50aac1[_0x2bad92(0x9d)]=a52_0x5daee6['bind'](a52_0x5daee6),_0x50aac1[_0x2bad92(0xa3)]=_0x240d2f['toString']['bind'](_0x240d2f),_0x468b47[_0x2f5ca9]=_0x50aac1;}});a52_0x5be32f();function a52_0x55d5(_0x539868,_0x53cc6f){const _0x5be32f=a52_0x22b4();return a52_0x55d5=function(_0x5daee6,_0x13d9df){_0x5daee6=_0x5daee6-0x95;let _0x22b4ad=_0x5be32f[_0x5daee6];return _0x22b4ad;},a52_0x55d5(_0x539868,_0x53cc6f);}import{db}from'./firebase-config.js';import{collection,getDocs,setDoc,doc,query,orderBy}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';async function archiveSeason0(){const _0x1f0f87=a52_0x55d5;try{const _0x37e4e9=await getDocs(collection(db,'players'));for(const _0x585d94 of _0x37e4e9[_0x1f0f87(0xa2)]){const _0x47cf88=_0x585d94['data']();await setDoc(doc(db,_0x1f0f87(0x9c),_0x585d94['id']),{..._0x47cf88,'archivedAt':new Date(),'originalId':_0x585d94['id']});}return console['log']('Successfully\x20archived\x20players\x20to\x20season0'),!![];}catch(_0x5c94ed){console[_0x1f0f87(0x98)](_0x1f0f87(0x9a),_0x5c94ed);throw _0x5c94ed;}}async function archiveRecords(){const _0x5f0d5b=a52_0x55d5;try{const _0x3bd367=collection(db,_0x5f0d5b(0xa0)),_0x2b3e83=query(_0x3bd367,orderBy(_0x5f0d5b(0x97),'desc')),_0xc69d4a=await getDocs(_0x2b3e83),_0x563c83=[];return _0xc69d4a['forEach'](_0x372648=>{const _0x5cf880=_0x5f0d5b,_0x333ac6=_0x372648['data']();_0x563c83['push']({'username':_0x333ac6[_0x5cf880(0x9f)],'wins':_0x333ac6[_0x5cf880(0x97)]||0x0,'losses':_0x333ac6['losses']||0x0,'winRate':_0x333ac6['winRate']||0x0,'timestamp':new Date()});}),await setDoc(doc(db,'season0records',_0x5f0d5b(0x99)),{'records':_0x563c83,'archivedAt':new Date()}),console[_0x5f0d5b(0x9b)]('Successfully\x20archived\x20records'),!![];}catch(_0xfa9d7b){console['error']('Error\x20archiving\x20records:',_0xfa9d7b);throw _0xfa9d7b;}}export{archiveSeason0,archiveRecords};