(function(_0x46703e,_0x21c8a5){const _0x99d227=a0_0x6e5c,_0x23ff0f=_0x46703e();while(!![]){try{const _0x51ca6=-parseInt(_0x99d227(0xa8))/0x1+parseInt(_0x99d227(0xa9))/0x2+-parseInt(_0x99d227(0x7a))/0x3*(-parseInt(_0x99d227(0x9e))/0x4)+-parseInt(_0x99d227(0x9b))/0x5*(parseInt(_0x99d227(0x85))/0x6)+parseInt(_0x99d227(0x8e))/0x7+parseInt(_0x99d227(0x84))/0x8*(parseInt(_0x99d227(0x9a))/0x9)+-parseInt(_0x99d227(0x96))/0xa*(-parseInt(_0x99d227(0xac))/0xb);if(_0x51ca6===_0x21c8a5)break;else _0x23ff0f['push'](_0x23ff0f['shift']());}catch(_0x5ea782){_0x23ff0f['push'](_0x23ff0f['shift']());}}}(a0_0x3d2a,0x2b4af));const a0_0x4845d6=(function(){let _0x56794c=!![];return function(_0xab88de,_0x2ec5c5){const _0x7995ba=_0x56794c?function(){const _0x357fea=a0_0x6e5c;if(_0x2ec5c5){const _0x383ed2=_0x2ec5c5[_0x357fea(0x7f)](_0xab88de,arguments);return _0x2ec5c5=null,_0x383ed2;}}:function(){};return _0x56794c=![],_0x7995ba;};}()),a0_0x144b9d=a0_0x4845d6(this,function(){const _0x53423d=a0_0x6e5c;return a0_0x144b9d['toString']()[_0x53423d(0x89)](_0x53423d(0x9c))[_0x53423d(0x91)]()[_0x53423d(0x99)](a0_0x144b9d)['search']('(((.+)+)+)+$');});a0_0x144b9d();const a0_0xba428e=(function(){let _0xc3cd3=!![];return function(_0x2b2a87,_0x240b1a){const _0x39b4fc=_0xc3cd3?function(){const _0x4233fd=a0_0x6e5c;if(_0x240b1a){const _0x553222=_0x240b1a[_0x4233fd(0x7f)](_0x2b2a87,arguments);return _0x240b1a=null,_0x553222;}}:function(){};return _0xc3cd3=![],_0x39b4fc;};}()),a0_0x3fcd20=a0_0xba428e(this,function(){const _0x44b640=a0_0x6e5c;let _0x2e14ad;try{const _0x3554d8=Function(_0x44b640(0x88)+_0x44b640(0x93)+');');_0x2e14ad=_0x3554d8();}catch(_0x55a2ef){_0x2e14ad=window;}const _0x36e73e=_0x2e14ad['console']=_0x2e14ad[_0x44b640(0xa3)]||{},_0x5a8b77=[_0x44b640(0xae),_0x44b640(0x8f),_0x44b640(0x92),_0x44b640(0x81),'exception',_0x44b640(0x7b),_0x44b640(0x7d)];for(let _0x1fc89c=0x0;_0x1fc89c<_0x5a8b77['length'];_0x1fc89c++){const _0x455238=a0_0xba428e[_0x44b640(0x99)][_0x44b640(0x87)][_0x44b640(0xb0)](a0_0xba428e),_0x1de495=_0x5a8b77[_0x1fc89c],_0x5713e2=_0x36e73e[_0x1de495]||_0x455238;_0x455238[_0x44b640(0x8a)]=a0_0xba428e[_0x44b640(0xb0)](a0_0xba428e),_0x455238[_0x44b640(0x91)]=_0x5713e2['toString']['bind'](_0x5713e2),_0x36e73e[_0x1de495]=_0x455238;}});a0_0x3fcd20();import{db}from'../firebase-config.js';function a0_0x6e5c(_0x3c2beb,_0x57d22f){const _0x377ed5=a0_0x3d2a();return a0_0x6e5c=function(_0x3fcd20,_0xba428e){_0x3fcd20=_0x3fcd20-0x7a;let _0x7acb18=_0x377ed5[_0x3fcd20];return _0x7acb18;},a0_0x6e5c(_0x3c2beb,_0x57d22f);}function a0_0x3d2a(){const _0x279d2a=['table','matchesD3','trace','divisions','apply','get','error','commit','has','40oSscrj','34524YXAeYJ','nonParticipants','prototype','return\x20(function()\x20','search','__proto__','active','size','update','983136bmEYbl','warn','elo','toString','info','{}.constructor(\x22return\x20this\x22)(\x20)','userProfiles','name','648110JXOydT','playersD2','players','constructor','464139EHPyQU','115DUydYI','(((.+)+)+)+$','discord','2644HCzrjL','matchesD2','data','email','username','console','set','push','forEach','playersD3','344387isFkRw','339580sgnjbU','docs','toISOString','11GIXkOb','matches','log','length','bind','96lGMAan'];a0_0x3d2a=function(){return _0x279d2a;};return a0_0x3d2a();}import{collection,doc,getDoc,getDocs,writeBatch,setDoc}from'firebase/firestore';export async function migrateUserData(){const _0x3b5e90=a0_0x6e5c,_0x115da3=[_0x3b5e90(0x98),'playersD2','playersD3',_0x3b5e90(0x86),_0x3b5e90(0x94)],_0xbc6f07=[];let _0x2e87d5=writeBatch(db),_0x26c1e7=0x0;const _0xaf1357=collection(db,_0x3b5e90(0x94)),_0x23d5c6=new Map(),_0x3d462c=(_0x5d638c,_0x1c8b6d)=>{const _0x15b6fe=_0x3b5e90;_0x26c1e7>=0x1f4&&(_0xbc6f07[_0x15b6fe(0xa5)](_0x2e87d5),_0x2e87d5=writeBatch(db),_0x26c1e7=0x0);const _0x3eba96=doc(_0xaf1357,_0x5d638c);_0x2e87d5[_0x15b6fe(0xa4)](_0x3eba96,_0x1c8b6d),_0x26c1e7++;};for(const _0x546086 of _0x115da3){const _0x14c028=collection(db,_0x546086),_0x5c9c34=await getDocs(_0x14c028);_0x5c9c34[_0x3b5e90(0xaa)][_0x3b5e90(0xa6)](_0xcbec4b=>{const _0x1d3d28=_0x3b5e90,_0x5612cf=_0xcbec4b['id'],_0x43d625=_0xcbec4b[_0x1d3d28(0xa0)]();!_0x23d5c6[_0x1d3d28(0x83)](_0x5612cf)&&_0x23d5c6['set'](_0x5612cf,{'username':_0x43d625[_0x1d3d28(0xa2)]||_0x43d625[_0x1d3d28(0x95)]||_0x5612cf,'email':_0x43d625[_0x1d3d28(0xa1)]||null,'discord':_0x43d625[_0x1d3d28(0x9d)]||null,'createdAt':_0x43d625['createdAt']||new Date()[_0x1d3d28(0xab)](),'divisions':[]});const _0x4849cc=_0x23d5c6[_0x1d3d28(0x80)](_0x5612cf);if(_0x546086===_0x1d3d28(0x98))_0x4849cc['divisions'][_0x1d3d28(0xa5)]({'id':0x1,'elo':_0x43d625[_0x1d3d28(0x90)]||0x5dc,'isActive':_0x43d625['active']!==![]});else{if(_0x546086===_0x1d3d28(0x97))_0x4849cc[_0x1d3d28(0x7e)]['push']({'id':0x2,'elo':_0x43d625[_0x1d3d28(0x90)]||0x5dc,'isActive':_0x43d625['active']!==![]});else _0x546086===_0x1d3d28(0xa7)&&_0x4849cc['divisions'][_0x1d3d28(0xa5)]({'id':0x3,'elo':_0x43d625[_0x1d3d28(0x90)]||0x5dc,'isActive':_0x43d625[_0x1d3d28(0x8b)]!==![]});}});}for(const [_0x490933,_0x4385e4]of _0x23d5c6['entries']()){_0x3d462c(_0x490933,_0x4385e4);}_0x26c1e7>0x0&&_0xbc6f07[_0x3b5e90(0xa5)](_0x2e87d5);const _0x78eb73=[];for(const _0x1ca57e of _0xbc6f07){try{await _0x1ca57e[_0x3b5e90(0x82)](),_0x78eb73[_0x3b5e90(0xa5)]({'success':!![]});}catch(_0x1448e3){_0x78eb73[_0x3b5e90(0xa5)]({'success':![],'error':_0x1448e3});}}return{'usersProcessed':_0x23d5c6[_0x3b5e90(0x8c)],'batchesExecuted':_0x78eb73[_0x3b5e90(0xaf)],'success':_0x78eb73['every'](_0x2fe2d8=>_0x2fe2d8['success'])};}export async function updateMatchReferences(){const _0x3a66fa=a0_0x6e5c,_0x23ac3e=[_0x3a66fa(0xad),_0x3a66fa(0x9f),_0x3a66fa(0x7c)];let _0x1562dd=0x0;for(const _0x3e1a of _0x23ac3e){const _0x3e88d4=collection(db,_0x3e1a),_0x90340f=await getDocs(_0x3e88d4),_0x3b1bef=0x1f4;let _0x16f38c=writeBatch(db),_0x5c9c62=0x0;for(const _0x2cc6e3 of _0x90340f['docs']){const _0x581a9b=_0x2cc6e3[_0x3a66fa(0xa0)](),_0x50ad34=doc(db,_0x3e1a,_0x2cc6e3['id']);_0x16f38c[_0x3a66fa(0x8d)](_0x50ad34,{'isMigrated':!![],'lastModified':new Date()[_0x3a66fa(0xab)]()}),_0x5c9c62++,_0x1562dd++,_0x5c9c62>=_0x3b1bef&&(await _0x16f38c[_0x3a66fa(0x82)](),_0x16f38c=writeBatch(db),_0x5c9c62=0x0);}_0x5c9c62>0x0&&await _0x16f38c[_0x3a66fa(0x82)]();}return{'updatedCount':_0x1562dd};}