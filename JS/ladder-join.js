const a25_0x6be92a=a25_0x357f;(function(_0x35cb83,_0x3bbe3e){const _0x555ce0=a25_0x357f,_0x1d0d2c=_0x35cb83();while(!![]){try{const _0x3d781c=parseInt(_0x555ce0(0x76))/0x1*(parseInt(_0x555ce0(0x8a))/0x2)+-parseInt(_0x555ce0(0x86))/0x3+parseInt(_0x555ce0(0xb2))/0x4+parseInt(_0x555ce0(0xad))/0x5+-parseInt(_0x555ce0(0xa6))/0x6*(-parseInt(_0x555ce0(0xc8))/0x7)+parseInt(_0x555ce0(0xc4))/0x8+-parseInt(_0x555ce0(0x7d))/0x9;if(_0x3d781c===_0x3bbe3e)break;else _0x1d0d2c['push'](_0x1d0d2c['shift']());}catch(_0x8e77cf){_0x1d0d2c['push'](_0x1d0d2c['shift']());}}}(a25_0x3215,0xb7ec6));const a25_0x576e89=(function(){let _0x36555c=!![];return function(_0x48a76d,_0x516661){const _0xcddc86=_0x36555c?function(){const _0x343497=a25_0x357f;if(_0x516661){const _0x38f0f3=_0x516661[_0x343497(0xc1)](_0x48a76d,arguments);return _0x516661=null,_0x38f0f3;}}:function(){};return _0x36555c=![],_0xcddc86;};}()),a25_0x2f84de=a25_0x576e89(this,function(){const _0x4a0467=a25_0x357f;return a25_0x2f84de[_0x4a0467(0xbc)]()['search'](_0x4a0467(0x72))[_0x4a0467(0xbc)]()['constructor'](a25_0x2f84de)[_0x4a0467(0x74)](_0x4a0467(0x72));});a25_0x2f84de();const a25_0x2916b7=(function(){let _0x1ae93f=!![];return function(_0x3e04c6,_0x5076b9){const _0x574644=_0x1ae93f?function(){if(_0x5076b9){const _0x16cde9=_0x5076b9['apply'](_0x3e04c6,arguments);return _0x5076b9=null,_0x16cde9;}}:function(){};return _0x1ae93f=![],_0x574644;};}()),a25_0x4a8c6e=a25_0x2916b7(this,function(){const _0x15c5d6=a25_0x357f,_0x195475=function(){const _0x139916=a25_0x357f;let _0x11225a;try{_0x11225a=Function(_0x139916(0x7b)+_0x139916(0x9e)+');')();}catch(_0x3dd3f1){_0x11225a=window;}return _0x11225a;},_0x2ec94a=_0x195475(),_0x132dcc=_0x2ec94a[_0x15c5d6(0x87)]=_0x2ec94a[_0x15c5d6(0x87)]||{},_0x58a36c=[_0x15c5d6(0x77),_0x15c5d6(0x98),_0x15c5d6(0xbb),_0x15c5d6(0x7c),_0x15c5d6(0x7a),_0x15c5d6(0x90),_0x15c5d6(0x99)];for(let _0x571acc=0x0;_0x571acc<_0x58a36c[_0x15c5d6(0x8c)];_0x571acc++){const _0x17e62f=a25_0x2916b7[_0x15c5d6(0xb6)]['prototype'][_0x15c5d6(0xa3)](a25_0x2916b7),_0xb5c016=_0x58a36c[_0x571acc],_0x3543f7=_0x132dcc[_0xb5c016]||_0x17e62f;_0x17e62f[_0x15c5d6(0x89)]=a25_0x2916b7['bind'](a25_0x2916b7),_0x17e62f[_0x15c5d6(0xbc)]=_0x3543f7[_0x15c5d6(0xbc)]['bind'](_0x3543f7),_0x132dcc[_0xb5c016]=_0x17e62f;}});a25_0x4a8c6e();import{doc,getDoc,getDocs,setDoc,query,collection,orderBy,limit,serverTimestamp}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{onAuthStateChanged}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';import{auth,db}from'./firebase-config.js';let currentLadder='D1';document[a25_0x6be92a(0x91)](a25_0x6be92a(0x80),()=>{const _0x9cfa8c=a25_0x6be92a,_0x4c7332=document[_0x9cfa8c(0xb4)]('d1-switch'),_0x2b3a73=document[_0x9cfa8c(0xb4)](_0x9cfa8c(0x96));console['log']('Ladder\x20join:\x20D1\x20radio\x20found:',!!_0x4c7332),console['log']('Ladder\x20join:\x20D2\x20radio\x20found:',!!_0x2b3a73);function _0x5ea904(){const _0x572134=_0x9cfa8c;document[_0x572134(0xc3)]('input[name=\x22ladder\x22]')['forEach'](_0x42a94d=>{_0x42a94d['addEventListener']('change',_0x5190e0=>{const _0xcb51b4=a25_0x357f;_0x5190e0[_0xcb51b4(0xaa)][_0xcb51b4(0xb7)]&&(currentLadder=_0x5190e0[_0xcb51b4(0xaa)][_0xcb51b4(0x9f)],console[_0xcb51b4(0x77)]('Ladder\x20changed\x20to:\x20'+currentLadder),checkUserLadderStatus());});});}_0x5ea904();const _0x4585ca=document[_0x9cfa8c(0xb4)](_0x9cfa8c(0xbf));_0x4585ca&&_0x4585ca[_0x9cfa8c(0x91)](_0x9cfa8c(0x8d),handleJoinLadder),onAuthStateChanged(auth,_0x483bc2=>{const _0x36b989=_0x9cfa8c;if(_0x483bc2)checkUserLadderStatus();else{const _0x5cef4c=document[_0x36b989(0xb4)](_0x36b989(0x97));_0x5cef4c&&(_0x5cef4c[_0x36b989(0x81)][_0x36b989(0xa9)]=_0x36b989(0xb3));}});});function a25_0x3215(){const _0x4f24e3=['addEventListener','uid','Error\x20checking\x20','split','playersD3','d2-switch','ladder-join-prompt','warn','trace','\x20ladder!\x20The\x20page\x20will\x20refresh...','Error\x20joining\x20ladder:\x20','getIdToken','username','{}.constructor(\x22return\x20this\x22)(\x20)','value','\x20ladder...','message','Verifying\x20username...','bind','You\x20are\x20already\x20part\x20of\x20the\x20','Username\x20doesn\x27t\x20match.\x20Please\x20enter\x20\x22','4817220DGdRIS','DUOS','ladder-join-status\x20loading','display','target','\x22\x20to\x20confirm.','playersCTF','6192230wPfxWK','position','Checking\x20user\x20status\x20for\x20ladder:','currentUser','ladder-join-status\x20error','2521308UeOpgY','none','getElementById','empty','constructor','checked','tiny-join-button','disabled','Successfully\x20joined\x20the\x20Duos\x20ladder!\x20You\x20can\x20now\x20form\x20teams\x20with\x20other\x20players.\x20The\x20page\x20will\x20refresh...','info','toString','textContent','DUO','join-ladder-button',',\x20defaulting\x20to\x20D1','apply','Could\x20not\x20verify\x20your\x20account.\x20Please\x20contact\x20an\x20administrator.','querySelectorAll','3036560cwqSLY','CTF','data','className','7jcjcIf','toLowerCase','trim','email','ladder-join-status','(((.+)+)+)+$','players','search','exists','46322SLwyiW','log','nonParticipants','\x20ladder.','exception','return\x20(function()\x20','error','23075568YcExdX','Joining\x20','Error\x20checking\x20ladder\x20status:','DOMContentLoaded','style','block','Authentication\x20error:','You\x20must\x20be\x20signed\x20in\x20to\x20join\x20a\x20ladder.','playersD2','2953815VdrGLT','console','Please\x20enter\x20your\x20username\x20to\x20confirm.','__proto__','54QWohSl','toUpperCase','length','click','playersDuos','Authentication\x20verification\x20failed:','table'];a25_0x3215=function(){return _0x4f24e3;};return a25_0x3215();}function a25_0x357f(_0x597a92,_0x4645a6){const _0x5a5154=a25_0x3215();return a25_0x357f=function(_0x4a8c6e,_0x2916b7){_0x4a8c6e=_0x4a8c6e-0x72;let _0x4d6a12=_0x5a5154[_0x4a8c6e];return _0x4d6a12;},a25_0x357f(_0x597a92,_0x4645a6);}function getCollectionName(_0x22b6e8){const _0x4a76ef=a25_0x6be92a;switch(_0x22b6e8?.[_0x4a76ef(0x8b)]()){case'D1':return _0x4a76ef(0x73);case'D2':return _0x4a76ef(0x85);case'D3':return'playersD3';case _0x4a76ef(0xa7):case _0x4a76ef(0xbe):return _0x4a76ef(0x8e);case _0x4a76ef(0xc5):return'playersCTF';default:console[_0x4a76ef(0x98)]('Unknown\x20ladder\x20type:\x20'+_0x22b6e8+_0x4a76ef(0xc0));return _0x4a76ef(0x73);}}async function checkUserLadderStatus(){const _0x395dbf=a25_0x6be92a;console['log'](_0x395dbf(0xaf),currentLadder);const _0x48af83=auth[_0x395dbf(0xb0)],_0x14f003=document[_0x395dbf(0xb4)](_0x395dbf(0x97)),_0x1a197a=document['getElementById']('join-ladder-type'),_0x1f0779=document[_0x395dbf(0xb4)](_0x395dbf(0xb8));if(!_0x48af83||!_0x48af83[_0x395dbf(0x92)]||!_0x14f003||!_0x1a197a||!_0x1f0779){if(_0x14f003)_0x14f003['style'][_0x395dbf(0xa9)]=_0x395dbf(0xb3);if(_0x1f0779)_0x1f0779[_0x395dbf(0x81)][_0x395dbf(0xa9)]=_0x395dbf(0xb3);return;}try{try{await _0x48af83['getIdToken'](![]);}catch(_0x11bef0){console['error'](_0x395dbf(0x8f),_0x11bef0),_0x14f003['style'][_0x395dbf(0xa9)]=_0x395dbf(0xb3),_0x1f0779[_0x395dbf(0x81)][_0x395dbf(0xa9)]=_0x395dbf(0xb3);return;}const _0xc1dc37=getCollectionName(currentLadder),_0x140091=doc(db,_0xc1dc37,_0x48af83[_0x395dbf(0x92)]),_0x15caa0=await getDoc(_0x140091);if(_0x15caa0[_0x395dbf(0x75)]())_0x14f003['style'][_0x395dbf(0xa9)]='none',_0x1f0779[_0x395dbf(0x81)][_0x395dbf(0xa9)]=_0x395dbf(0xb3);else{_0x14f003[_0x395dbf(0x81)]['display']=_0x395dbf(0xb3),_0x1f0779['style'][_0x395dbf(0xa9)]=_0x395dbf(0x82),_0x1a197a[_0x395dbf(0xbd)]=currentLadder,_0x1f0779['onclick']=()=>{const _0x14ae0e=_0x395dbf;_0x14f003['style'][_0x14ae0e(0xa9)]===_0x14ae0e(0x82)?_0x14f003[_0x14ae0e(0x81)][_0x14ae0e(0xa9)]='none':_0x14f003['style'][_0x14ae0e(0xa9)]=_0x14ae0e(0x82);};const _0x1b4460=document[_0x395dbf(0xb4)]('join-username-input'),_0xa29c6d=document[_0x395dbf(0xb4)](_0x395dbf(0xcc));if(_0x1b4460)_0x1b4460['value']='';_0xa29c6d&&(_0xa29c6d[_0x395dbf(0xbd)]='',_0xa29c6d[_0x395dbf(0xc7)]=_0x395dbf(0xcc));}}catch(_0x374b40){console[_0x395dbf(0x7c)](_0x395dbf(0x7f),_0x374b40),_0x14f003[_0x395dbf(0x81)][_0x395dbf(0xa9)]=_0x395dbf(0xb3),_0x1f0779[_0x395dbf(0x81)]['display']='none';}}async function handleJoinLadder(){const _0x4a621a=a25_0x6be92a,_0x306ca1=auth[_0x4a621a(0xb0)],_0xe672a1=document['getElementById'](_0x4a621a(0xbf)),_0x12f389=document[_0x4a621a(0xb4)](_0x4a621a(0xcc)),_0x816946=document[_0x4a621a(0xb4)]('join-username-input');if(!_0x306ca1||!_0x306ca1[_0x4a621a(0x92)]){_0x12f389[_0x4a621a(0xbd)]=_0x4a621a(0x84),_0x12f389[_0x4a621a(0xc7)]=_0x4a621a(0xb1);return;}try{await _0x306ca1[_0x4a621a(0x9c)](!![]);}catch(_0x315d30){console['error'](_0x4a621a(0x83),_0x315d30),_0x12f389[_0x4a621a(0xbd)]='Authentication\x20failed.\x20Please\x20sign\x20in\x20again.',_0x12f389['className']=_0x4a621a(0xb1);return;}if(!_0x816946||!_0x816946[_0x4a621a(0x9f)][_0x4a621a(0xca)]()){_0x12f389['textContent']=_0x4a621a(0x88),_0x12f389['className']=_0x4a621a(0xb1);return;}try{_0xe672a1[_0x4a621a(0xb9)]=!![],_0x12f389['textContent']=_0x4a621a(0xa2),_0x12f389[_0x4a621a(0xc7)]=_0x4a621a(0xa8);let _0x47a243='',_0x1cc798=null;const _0x5bd3c9=[_0x4a621a(0x73),'playersD2',_0x4a621a(0x95),_0x4a621a(0x8e),_0x4a621a(0xac),_0x4a621a(0x78)];for(const _0x3ce588 of _0x5bd3c9){try{const _0x412c21=doc(db,_0x3ce588,_0x306ca1[_0x4a621a(0x92)]),_0x33dedf=await getDoc(_0x412c21);if(_0x33dedf[_0x4a621a(0x75)]()){_0x1cc798=_0x33dedf[_0x4a621a(0xc6)]();if(_0x1cc798[_0x4a621a(0x9d)]){_0x47a243=_0x1cc798[_0x4a621a(0x9d)];break;}}}catch(_0x4a71df){console[_0x4a621a(0x7c)](_0x4a621a(0x93)+_0x3ce588+':',_0x4a71df);}}!_0x47a243&&_0x306ca1[_0x4a621a(0xcb)]&&(_0x47a243=_0x306ca1[_0x4a621a(0xcb)][_0x4a621a(0x94)]('@')[0x0]);if(!_0x47a243){_0x12f389[_0x4a621a(0xbd)]=_0x4a621a(0xc2),_0x12f389[_0x4a621a(0xc7)]='ladder-join-status\x20error',_0xe672a1[_0x4a621a(0xb9)]=![];return;}const _0x42b1f6=_0x816946[_0x4a621a(0x9f)][_0x4a621a(0xca)]();if(_0x47a243&&_0x42b1f6[_0x4a621a(0xc9)]()!==_0x47a243[_0x4a621a(0xc9)]()){_0x12f389['textContent']=_0x4a621a(0xa5)+_0x47a243+_0x4a621a(0xab),_0x12f389['className']=_0x4a621a(0xb1),_0xe672a1[_0x4a621a(0xb9)]=![];return;}_0x12f389[_0x4a621a(0xbd)]=_0x4a621a(0x7e)+currentLadder+_0x4a621a(0xa0);const _0x5766d9=getCollectionName(currentLadder),_0x31cb3d=doc(db,_0x5766d9,_0x306ca1[_0x4a621a(0x92)]),_0x34872a=await getDoc(_0x31cb3d);if(_0x34872a[_0x4a621a(0x75)]()){_0x12f389[_0x4a621a(0xbd)]=_0x4a621a(0xa4)+currentLadder+_0x4a621a(0x79),_0x12f389[_0x4a621a(0xc7)]=_0x4a621a(0xb1),_0xe672a1[_0x4a621a(0xb9)]=![];return;}try{await _0x306ca1[_0x4a621a(0x9c)](!![]);}catch(_0x2f3a33){_0x12f389['textContent']='Authentication\x20failed.\x20Please\x20sign\x20in\x20again.',_0x12f389['className']='ladder-join-status\x20error',_0xe672a1[_0x4a621a(0xb9)]=![];return;}const _0x3ca766=_0x47a243,_0x142a31=collection(db,_0x5766d9),_0xfd8aa1=query(_0x142a31,orderBy('position','desc'),limit(0x1)),_0x2cda1b=await getDocs(_0xfd8aa1);let _0x26e128=0x1;if(!_0x2cda1b[_0x4a621a(0xb5)]){const _0x4ab32f=_0x2cda1b['docs'][0x0][_0x4a621a(0xc6)]();_0x26e128=(_0x4ab32f[_0x4a621a(0xae)]||0x0)+0x1;}const _0x2c297e={'username':_0x3ca766,'email':_0x306ca1['email'],'eloRating':0x4b0,'position':_0x26e128,'createdAt':serverTimestamp(),'isAdmin':![],'matches':0x0,'wins':0x0,'losses':0x0,'gameMode':currentLadder,...currentLadder===_0x4a621a(0xa7)&&{'hasTeam':![],'teamId':null,'teamName':null,'teammate':null,'teamColor':null,'lookingForTeam':!![],'tierValue':0x3e8}};await setDoc(_0x31cb3d,_0x2c297e),currentLadder==='DUOS'?_0x12f389[_0x4a621a(0xbd)]=_0x4a621a(0xba):_0x12f389[_0x4a621a(0xbd)]='Successfully\x20joined\x20the\x20'+currentLadder+_0x4a621a(0x9a),_0x12f389[_0x4a621a(0xc7)]='ladder-join-status\x20success',setTimeout(()=>{window['location']['reload']();},0x7d0);}catch(_0x296639){console[_0x4a621a(0x7c)]('Error\x20joining\x20ladder:',_0x296639),_0x12f389[_0x4a621a(0xbd)]=_0x4a621a(0x9b)+_0x296639[_0x4a621a(0xa1)],_0x12f389[_0x4a621a(0xc7)]=_0x4a621a(0xb1),_0xe672a1[_0x4a621a(0xb9)]=![];}}