const a18_0x2d5fd8=a18_0x5f09,a18_0x31e8c1=(function(){let _0x4e2c77=!![];return function(_0x2f6092,_0x1b79bb){const _0x4a59fc=_0x4e2c77?function(){const _0x4ce8fe=a18_0x5f09;if(_0x1b79bb){const _0x108be=_0x1b79bb[_0x4ce8fe(0xcb)](_0x2f6092,arguments);return _0x1b79bb=null,_0x108be;}}:function(){};return _0x4e2c77=![],_0x4a59fc;};}()),a18_0x295fe1=a18_0x31e8c1(this,function(){const _0x342e14=a18_0x5f09;let _0x50d64d;try{const _0x504c32=Function(_0x342e14(0xd1)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x50d64d=_0x504c32();}catch(_0x311ceb){_0x50d64d=window;}const _0x22998e=_0x50d64d[_0x342e14(0xdb)]=_0x50d64d[_0x342e14(0xdb)]||{},_0x5c973e=['log','warn','info','error','exception','table','trace'];for(let _0x2502e0=0x0;_0x2502e0<_0x5c973e['length'];_0x2502e0++){const _0x5ce52b=a18_0x31e8c1[_0x342e14(0xc8)][_0x342e14(0xcf)][_0x342e14(0xca)](a18_0x31e8c1),_0x274519=_0x5c973e[_0x2502e0],_0x4ebcf7=_0x22998e[_0x274519]||_0x5ce52b;_0x5ce52b[_0x342e14(0xcc)]=a18_0x31e8c1['bind'](a18_0x31e8c1),_0x5ce52b['toString']=_0x4ebcf7[_0x342e14(0xce)]['bind'](_0x4ebcf7),_0x22998e[_0x274519]=_0x5ce52b;}});a18_0x295fe1();function a18_0x10bc(){const _0x4f40d2=['Failed\x20to\x20enable\x20network:','string','log','constructor','RDL_NETWORK_ERROR','bind','apply','__proto__','unavailable','toString','prototype','message','return\x20(function()\x20','network-error','warn','includes','Network-related\x20error\x20detected,\x20suspending\x20operations','error','length','preventDefault','Network\x20connection\x20error.\x20Please\x20check\x20your\x20internet\x20connection.','Session\x20suspended\x20due\x20to\x20inactivity.\x20Please\x20resume\x20your\x20session.','console','code'];a18_0x10bc=function(){return _0x4f40d2;};return a18_0x10bc();}import{collection as a18_0x56c188,doc as a18_0x22021d,getDoc as a18_0x1a858f,getDocs as a18_0x4f0e2e,query as a18_0x2cee49,where as a18_0x29a32c,orderBy as a18_0xa2ac82,limit as a18_0x5e4ad7,startAfter as a18_0x217d3a,addDoc as a18_0x17442f,updateDoc as a18_0x74fc33,deleteDoc as a18_0x423932,writeBatch as a18_0x523498,serverTimestamp as a18_0x2bf13e,Timestamp as a18_0x1e50b6,getCountFromServer as a18_0x1b30de,setDoc as a18_0x3d4c48,enableNetwork,disableNetwork}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';function a18_0x5f09(_0x1388ba,_0xe5c8f0){const _0x295fe1=a18_0x10bc();return a18_0x5f09=function(_0x31e8c1,_0x56b4e3){_0x31e8c1=_0x31e8c1-0xc5;let _0x10bc29=_0x295fe1[_0x31e8c1];return _0x10bc29;},a18_0x5f09(_0x1388ba,_0xe5c8f0);}import{db}from'./firebase-config.js';import{handleNetworkError}from'./idle-timeout.js';function checkSessionStatus(){const _0xb3b04f=a18_0x5f09;if(window['RDL_SESSION_SUSPENDED']){console['warn']('Firestore\x20operation\x20blocked\x20-\x20session\x20suspended');const _0x3299ec=new Error(_0xb3b04f(0xda));_0x3299ec['code']='session-suspended';throw _0x3299ec;}if(window[_0xb3b04f(0xc9)]){console['warn']('Firestore\x20operation\x20blocked\x20-\x20network\x20error');const _0x22b438=new Error(_0xb3b04f(0xd9));_0x22b438['code']='network-error';throw _0x22b438;}}async function handleFirestoreError(_0x5dd3ad){const _0x257ff0=a18_0x5f09;console['error']('Firestore\x20operation\x20failed:',_0x5dd3ad);if(_0x5dd3ad&&(_0x5dd3ad['code']===_0x257ff0(0xcd)||_0x5dd3ad[_0x257ff0(0xdc)]==='resource-exhausted'||_0x5dd3ad['message']&&_0x5dd3ad[_0x257ff0(0xd0)]['includes']('network')||_0x5dd3ad['code']&&_0x5dd3ad[_0x257ff0(0xdc)]['includes']('network')))return console[_0x257ff0(0xd3)](_0x257ff0(0xd5)),handleNetworkError(),!![];return![];}export const rdlFirestore={'collection':function(){const _0xd7ed92=a18_0x5f09;if(arguments[_0xd7ed92(0xd7)]===0x1){if(typeof arguments[0x0]==='string')return a18_0x56c188(db,arguments[0x0]);return arguments[0x0];}else{if(arguments[_0xd7ed92(0xd7)]===0x2&&arguments[0x0]===db&&typeof arguments[0x1]===_0xd7ed92(0xc6))return a18_0x56c188(db,arguments[0x1]);}return a18_0x56c188['apply'](null,arguments);},'doc':function(){const _0x2f4a7d=a18_0x5f09;if(arguments[_0x2f4a7d(0xd7)]===0x2){if(typeof arguments[0x0]===_0x2f4a7d(0xc6)&&typeof arguments[0x1]===_0x2f4a7d(0xc6))return a18_0x22021d(db,arguments[0x0],arguments[0x1]);return a18_0x22021d['apply'](null,arguments);}else{if(arguments['length']===0x3&&arguments[0x0]===db)return a18_0x22021d['apply'](null,arguments);}return a18_0x22021d['apply'](null,arguments);},'query':function(){return a18_0x2cee49['apply'](null,arguments);},'where':function(){return a18_0x29a32c['apply'](null,arguments);},'orderBy':function(){return a18_0xa2ac82['apply'](null,arguments);},'limit':function(_0x24cbc3){return a18_0x5e4ad7(_0x24cbc3);},'startAfter':function(_0x1b08c5){return a18_0x217d3a(_0x1b08c5);},'getDoc':async function(_0x3f7864){try{return checkSessionStatus(),await a18_0x1a858f(_0x3f7864);}catch(_0x4c42b6){const _0x356ffc=await handleFirestoreError(_0x4c42b6);_0x356ffc&&(_0x4c42b6['code']='network-error');throw _0x4c42b6;}},'getDocs':async function(_0x37e72a){try{return checkSessionStatus(),await a18_0x4f0e2e(_0x37e72a);}catch(_0x2530ae){const _0x166927=await handleFirestoreError(_0x2530ae);_0x166927&&(_0x2530ae['code']='network-error');throw _0x2530ae;}},'getCountFromServer':async function(_0x13fb59){const _0x233637=a18_0x5f09;try{return checkSessionStatus(),await a18_0x1b30de(_0x13fb59);}catch(_0x4fd2ba){const _0x467aa4=await handleFirestoreError(_0x4fd2ba);_0x467aa4&&(_0x4fd2ba[_0x233637(0xdc)]='network-error');throw _0x4fd2ba;}},'addDoc':async function(_0x38cbbb,_0x6fc70c){const _0x403b4b=a18_0x5f09;try{return checkSessionStatus(),await a18_0x17442f(_0x38cbbb,_0x6fc70c);}catch(_0x1eb29b){const _0x3f4f3d=await handleFirestoreError(_0x1eb29b);_0x3f4f3d&&(_0x1eb29b['code']=_0x403b4b(0xd2));throw _0x1eb29b;}},'setDoc':async function(_0x1dfbae,_0x22c517,_0x328059){try{return checkSessionStatus(),await a18_0x3d4c48(_0x1dfbae,_0x22c517,_0x328059);}catch(_0x362334){const _0x25cf82=await handleFirestoreError(_0x362334);_0x25cf82&&(_0x362334['code']='network-error');throw _0x362334;}},'updateDoc':async function(_0x10a4f0,_0x10ec79){const _0x46708d=a18_0x5f09;try{return checkSessionStatus(),await a18_0x74fc33(_0x10a4f0,_0x10ec79);}catch(_0x3acf5d){const _0x371203=await handleFirestoreError(_0x3acf5d);_0x371203&&(_0x3acf5d['code']=_0x46708d(0xd2));throw _0x3acf5d;}},'deleteDoc':async function(_0x2ecb22){const _0x23e484=a18_0x5f09;try{return checkSessionStatus(),await a18_0x423932(_0x2ecb22);}catch(_0x156f10){const _0x2c246e=await handleFirestoreError(_0x156f10);_0x2c246e&&(_0x156f10[_0x23e484(0xdc)]='network-error');throw _0x156f10;}},'writeBatch':function(){checkSessionStatus();const _0x405683=a18_0x523498(db),_0xb8f982=_0x405683['commit']['bind'](_0x405683);return _0x405683['commit']=async function(){const _0x5d185c=a18_0x5f09;try{return checkSessionStatus(),await _0xb8f982();}catch(_0x1cf213){const _0x3c51a6=await handleFirestoreError(_0x1cf213);_0x3c51a6&&(_0x1cf213[_0x5d185c(0xdc)]=_0x5d185c(0xd2));throw _0x1cf213;}},_0x405683;},'serverTimestamp':function(){return a18_0x2bf13e();},'Timestamp':{'now':function(){return a18_0x1e50b6['now']();},'fromDate':function(_0x5c8f8f){return a18_0x1e50b6['fromDate'](_0x5c8f8f);}},'enableNetwork':async function(){const _0x2bdd21=a18_0x5f09;try{return await enableNetwork(db);}catch(_0x579f5f){console['error'](_0x2bdd21(0xc5),_0x579f5f);throw _0x579f5f;}},'disableNetwork':async function(){const _0x1dd09f=a18_0x5f09;try{return await disableNetwork(db);}catch(_0x500c89){console[_0x1dd09f(0xd6)]('Failed\x20to\x20disable\x20network:',_0x500c89);throw _0x500c89;}}};window['addEventListener'](a18_0x2d5fd8(0xd6),function(_0x311bc8){const _0x5a2792=a18_0x2d5fd8;if(_0x311bc8['error']){if(_0x311bc8['error'][_0x5a2792(0xdc)]==='session-suspended')_0x311bc8['preventDefault'](),console['log']('Caught\x20session\x20suspended\x20error:',_0x311bc8['error'][_0x5a2792(0xd0)]);else(_0x311bc8['error']['code']===_0x5a2792(0xcd)||_0x311bc8[_0x5a2792(0xd6)][_0x5a2792(0xdc)]==='resource-exhausted'||_0x311bc8['error'][_0x5a2792(0xd0)]&&_0x311bc8['error']['message']['includes']('network')||_0x311bc8['error']['code']&&_0x311bc8['error']['code'][_0x5a2792(0xd4)]('network'))&&(_0x311bc8[_0x5a2792(0xd8)](),console[_0x5a2792(0xc7)]('Caught\x20network\x20error:',_0x311bc8['error']['message']),handleNetworkError());}}),window['rdlFirestore']=rdlFirestore,console['log']('Firestore\x20wrapper\x20initialized\x20with\x20session\x20checking\x20and\x20network\x20error\x20handling');