const a10_0x31f960=a10_0x4445;(function(_0x42839b,_0x50a8d3){const _0x386d3d=a10_0x4445,_0x40b872=_0x42839b();while(!![]){try{const _0x1a1e7c=-parseInt(_0x386d3d(0x199))/0x1+parseInt(_0x386d3d(0x1a6))/0x2+-parseInt(_0x386d3d(0x1a4))/0x3*(parseInt(_0x386d3d(0x19d))/0x4)+parseInt(_0x386d3d(0x184))/0x5+-parseInt(_0x386d3d(0x196))/0x6+parseInt(_0x386d3d(0x175))/0x7+-parseInt(_0x386d3d(0x1ad))/0x8*(-parseInt(_0x386d3d(0x182))/0x9);if(_0x1a1e7c===_0x50a8d3)break;else _0x40b872['push'](_0x40b872['shift']());}catch(_0x34e6f3){_0x40b872['push'](_0x40b872['shift']());}}}(a10_0x14e0,0x452a1));const a10_0x912d70=(function(){let _0x5891f6=!![];return function(_0x46feb3,_0x559592){const _0xb155cc=_0x5891f6?function(){const _0xb99793=a10_0x4445;if(_0x559592){const _0x4172cc=_0x559592[_0xb99793(0x194)](_0x46feb3,arguments);return _0x559592=null,_0x4172cc;}}:function(){};return _0x5891f6=![],_0xb155cc;};}()),a10_0x2e3667=a10_0x912d70(this,function(){const _0x310530=a10_0x4445;return a10_0x2e3667[_0x310530(0x181)]()[_0x310530(0x188)](_0x310530(0x1a1))['toString']()[_0x310530(0x1b4)](a10_0x2e3667)['search'](_0x310530(0x1a1));});a10_0x2e3667();const a10_0x331ab5=(function(){let _0x26bb22=!![];return function(_0x56a49b,_0x1bf2c6){const _0x15a1ec=_0x26bb22?function(){const _0xbbb5eb=a10_0x4445;if(_0x1bf2c6){const _0x3edbbd=_0x1bf2c6[_0xbbb5eb(0x194)](_0x56a49b,arguments);return _0x1bf2c6=null,_0x3edbbd;}}:function(){};return _0x26bb22=![],_0x15a1ec;};}()),a10_0x2a7e19=a10_0x331ab5(this,function(){const _0x5f0a37=a10_0x4445;let _0x457612;try{const _0x1d0cf2=Function('return\x20(function()\x20'+_0x5f0a37(0x19f)+');');_0x457612=_0x1d0cf2();}catch(_0x156c9a){_0x457612=window;}const _0x32867b=_0x457612['console']=_0x457612[_0x5f0a37(0x174)]||{},_0x289cde=[_0x5f0a37(0x183),_0x5f0a37(0x1b8),_0x5f0a37(0x180),_0x5f0a37(0x17b),_0x5f0a37(0x197),'table',_0x5f0a37(0x179)];for(let _0x419444=0x0;_0x419444<_0x289cde[_0x5f0a37(0x17c)];_0x419444++){const _0x262bc6=a10_0x331ab5[_0x5f0a37(0x1b4)][_0x5f0a37(0x1b6)][_0x5f0a37(0x195)](a10_0x331ab5),_0xd2843e=_0x289cde[_0x419444],_0x3857d8=_0x32867b[_0xd2843e]||_0x262bc6;_0x262bc6[_0x5f0a37(0x172)]=a10_0x331ab5['bind'](a10_0x331ab5),_0x262bc6['toString']=_0x3857d8[_0x5f0a37(0x181)][_0x5f0a37(0x195)](_0x3857d8),_0x32867b[_0xd2843e]=_0x262bc6;}});a10_0x2a7e19();import{collection,query,where,getDocs,doc,getDoc}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db,auth}from'./firebase-config.js';let lastCheckTime=0x0;function a10_0x14e0(){const _0x3860c7=['16lKLFuX','uid','{}.constructor(\x22return\x20this\x22)(\x20)','approved','(((.+)+)+)+$','now','onAuthStateChanged','313734xqUyud','email','457366MtYriO','pendingMatchesCache','parse','currentUser','10px','50%','#ff3b30','4773544CQFJQb','position','height','display','winnerId','zIndex','pendingMatchesD2','constructor','report-match-notification','prototype','border','warn','disconnect','borderRadius','empty','users','__proto__','999','console','849072yByZeu','Error\x20checking\x20pending\x20matches:','username','players','trace','top','error','length','all','style','-5px','info','toString','9ZjMion','log','1444215bQubDT','pendingMatches','playersD2','currentUsername','search','backgroundColor','userId','-8px','observe','stringify','none','docs','winnerUsername','data','playersD3','removeItem','apply','bind','622482KCUsOL','exception','addEventListener','430159zPtwvK','setItem','block','getItem'];a10_0x14e0=function(){return _0x3860c7;};return a10_0x14e0();}const CHECK_INTERVAL=0x2710,NOTIFICATION_CACHE_KEY=a10_0x31f960(0x1a7),CACHE_EXPIRY=0xea60;function a10_0x4445(_0x19b0ba,_0x43039c){const _0x1daec5=a10_0x14e0();return a10_0x4445=function(_0x2a7e19,_0x331ab5){_0x2a7e19=_0x2a7e19-0x16e;let _0x2cc21f=_0x1daec5[_0x2a7e19];return _0x2cc21f;},a10_0x4445(_0x19b0ba,_0x43039c);}export async function checkPendingMatches(_0x461fe6=![]){const _0x447a37=a10_0x31f960,_0x3897b7=Date['now'](),_0x1d2e58=checkNotificationCache();if(_0x1d2e58!==null&&!_0x461fe6){updateNotificationDot(_0x1d2e58);if(_0x3897b7-lastCheckTime<CHECK_INTERVAL)return;}lastCheckTime=_0x3897b7;const _0x4f1118=auth[_0x447a37(0x1a9)];if(!_0x4f1118){updateNotificationDot(![]),updateNotificationCache(![]);return;}try{const [_0x23ba76,_0x297e98,_0x76dc7e]=await Promise[_0x447a37(0x17d)]([checkForPendingMatchesInCollection(_0x4f1118,_0x447a37(0x185)),checkForPendingMatchesInCollection(_0x4f1118,_0x447a37(0x1b3)),checkForPendingMatchesInCollection(_0x4f1118,'pendingMatchesD3')]),_0x10114f=_0x23ba76||_0x297e98||_0x76dc7e;updateNotificationDot(_0x10114f),updateNotificationCache(_0x10114f);}catch(_0x4465d0){console[_0x447a37(0x17b)](_0x447a37(0x176),_0x4465d0);}}async function checkForPendingMatchesInCollection(_0x3ebe4d,_0x1962a6){const _0x502237=a10_0x31f960,_0x25b7ed=_0x3ebe4d[_0x502237(0x19e)],_0x48a015=_0x3ebe4d[_0x502237(0x1a5)],_0x1c8229=query(collection(db,_0x1962a6),where(_0x502237(0x1b1),'==',_0x25b7ed),where(_0x502237(0x1a0),'==',![])),_0x39c468=await getDocs(_0x1c8229);if(!_0x39c468[_0x502237(0x170)])return!![];if(_0x48a015){const _0x12ad33=query(collection(db,_0x1962a6),where('winnerEmail','==',_0x48a015),where('approved','==',![])),_0x293d21=await getDocs(_0x12ad33);if(!_0x293d21['empty'])return!![];}let _0x26a8d0=await getUsernameFromAllSources(_0x3ebe4d);if(_0x26a8d0){const _0x289e37=query(collection(db,_0x1962a6),where(_0x502237(0x190),'==',_0x26a8d0),where(_0x502237(0x1a0),'==',![])),_0x248456=await getDocs(_0x289e37);if(!_0x248456[_0x502237(0x170)])return!![];}return![];}async function getUsernameFromAllSources(_0x414ee0){const _0x2d9b8f=a10_0x31f960,_0x5a62a9=localStorage['getItem']('currentUsername');if(_0x5a62a9)return _0x5a62a9;try{const [_0x2fb641,_0x64dd2e,_0x4e0576]=await Promise[_0x2d9b8f(0x17d)]([getDocs(query(collection(db,_0x2d9b8f(0x178)),where(_0x2d9b8f(0x18a),'==',_0x414ee0[_0x2d9b8f(0x19e)]))),getDocs(query(collection(db,_0x2d9b8f(0x186)),where(_0x2d9b8f(0x18a),'==',_0x414ee0[_0x2d9b8f(0x19e)]))),getDocs(query(collection(db,_0x2d9b8f(0x192)),where(_0x2d9b8f(0x18a),'==',_0x414ee0[_0x2d9b8f(0x19e)])))]);if(!_0x2fb641[_0x2d9b8f(0x170)]){const _0x1ec8c6=_0x2fb641[_0x2d9b8f(0x18f)][0x0]['data']()[_0x2d9b8f(0x177)];return localStorage[_0x2d9b8f(0x19a)](_0x2d9b8f(0x187),_0x1ec8c6),_0x1ec8c6;}if(!_0x64dd2e[_0x2d9b8f(0x170)]){const _0x1beea5=_0x64dd2e[_0x2d9b8f(0x18f)][0x0][_0x2d9b8f(0x191)]()[_0x2d9b8f(0x177)];return localStorage[_0x2d9b8f(0x19a)]('currentUsername',_0x1beea5),_0x1beea5;}if(!_0x4e0576[_0x2d9b8f(0x170)]){const _0x4681b9=_0x4e0576[_0x2d9b8f(0x18f)][0x0][_0x2d9b8f(0x191)]()[_0x2d9b8f(0x177)];return localStorage[_0x2d9b8f(0x19a)](_0x2d9b8f(0x187),_0x4681b9),_0x4681b9;}const _0x1d005a=await getDoc(doc(db,_0x2d9b8f(0x171),_0x414ee0[_0x2d9b8f(0x19e)]));if(_0x1d005a['exists']()&&_0x1d005a[_0x2d9b8f(0x191)]()[_0x2d9b8f(0x177)]){const _0x29f25a=_0x1d005a['data']()[_0x2d9b8f(0x177)];return localStorage[_0x2d9b8f(0x19a)](_0x2d9b8f(0x187),_0x29f25a),_0x29f25a;}}catch(_0x420e65){console['error']('Error\x20fetching\x20username:',_0x420e65);}if(_0x414ee0[_0x2d9b8f(0x1a5)])return _0x414ee0[_0x2d9b8f(0x1a5)]['split']('@')[0x0];return null;}function updateNotificationCache(_0x414db4){const _0x40ec50=a10_0x31f960,_0x5c8522={'status':_0x414db4,'timestamp':Date[_0x40ec50(0x1a2)]()};localStorage[_0x40ec50(0x19a)](NOTIFICATION_CACHE_KEY,JSON[_0x40ec50(0x18d)](_0x5c8522));}function checkNotificationCache(){const _0x4f7a1e=a10_0x31f960,_0x5e9db0=localStorage[_0x4f7a1e(0x19c)](NOTIFICATION_CACHE_KEY);if(!_0x5e9db0)return null;try{const {status:_0x4d03b8,timestamp:_0x307dcd}=JSON[_0x4f7a1e(0x1a8)](_0x5e9db0),_0x40947f=Date[_0x4f7a1e(0x1a2)]();if(_0x40947f-_0x307dcd<CACHE_EXPIRY)return _0x4d03b8;}catch(_0x4f550f){}return null;}export function updateNotificationDot(_0x16b1ba){const _0x1ce506=a10_0x31f960,_0x43616f=new MutationObserver((_0x445988,_0x5134ef)=>{const _0x141d82=a10_0x4445,_0x100b7a=document['getElementById'](_0x141d82(0x1b5));_0x100b7a&&(updateDotStyle(_0x100b7a,_0x16b1ba),_0x5134ef[_0x141d82(0x16e)]());});_0x43616f[_0x1ce506(0x18c)](document['body'],{'childList':!![],'subtree':!![]});const _0x44f8ed=document['getElementById'](_0x1ce506(0x1b5));_0x44f8ed&&(updateDotStyle(_0x44f8ed,_0x16b1ba),_0x43616f[_0x1ce506(0x16e)]()),setTimeout(()=>_0x43616f[_0x1ce506(0x16e)](),0x1388);}function updateDotStyle(_0x8726ab,_0x324047){const _0x3643e9=a10_0x31f960;_0x324047?(_0x8726ab['style'][_0x3643e9(0x1b0)]=_0x3643e9(0x19b),_0x8726ab['style'][_0x3643e9(0x189)]=_0x3643e9(0x1ac),_0x8726ab['style']['width']='10px',_0x8726ab[_0x3643e9(0x17e)][_0x3643e9(0x1af)]=_0x3643e9(0x1aa),_0x8726ab[_0x3643e9(0x17e)][_0x3643e9(0x1ae)]='absolute',_0x8726ab[_0x3643e9(0x17e)][_0x3643e9(0x17a)]=_0x3643e9(0x17f),_0x8726ab[_0x3643e9(0x17e)]['right']=_0x3643e9(0x18b),_0x8726ab[_0x3643e9(0x17e)][_0x3643e9(0x16f)]=_0x3643e9(0x1ab),_0x8726ab['style'][_0x3643e9(0x1b7)]='2px\x20solid\x20white',_0x8726ab[_0x3643e9(0x17e)][_0x3643e9(0x1b2)]=_0x3643e9(0x173)):_0x8726ab['style'][_0x3643e9(0x1b0)]=_0x3643e9(0x18e);}export function updatePendingMatchNotification(){checkPendingMatches(!![]);}document[a10_0x31f960(0x198)]('DOMContentLoaded',()=>{const _0xc8e7f5=a10_0x31f960;setTimeout(()=>checkPendingMatches(),0x1f4),auth[_0xc8e7f5(0x1a3)](()=>{const _0x1b1699=_0xc8e7f5;localStorage[_0x1b1699(0x193)](_0x1b1699(0x187)),setTimeout(()=>checkPendingMatches(!![]),0x1f4);}),setInterval(()=>checkPendingMatches(),0xea60);});