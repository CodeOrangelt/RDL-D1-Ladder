function a52_0x19e3(_0x387313,_0x242f99){const _0x49eb47=a52_0x4646();return a52_0x19e3=function(_0x6a3416,_0x33470e){_0x6a3416=_0x6a3416-0x174;let _0x464640=_0x49eb47[_0x6a3416];return _0x464640;},a52_0x19e3(_0x387313,_0x242f99);}const a52_0x6a3416=(function(){let _0x3ea354=!![];return function(_0x5ebfae,_0x37bc55){const _0x30acd1=_0x3ea354?function(){if(_0x37bc55){const _0x1ae258=_0x37bc55['apply'](_0x5ebfae,arguments);return _0x37bc55=null,_0x1ae258;}}:function(){};return _0x3ea354=![],_0x30acd1;};}()),a52_0x49eb47=a52_0x6a3416(this,function(){const _0x3f185c=a52_0x19e3,_0x1eed2f=function(){const _0x37efed=a52_0x19e3;let _0x3818e2;try{_0x3818e2=Function('return\x20(function()\x20'+_0x37efed(0x17d)+');')();}catch(_0x35e75b){_0x3818e2=window;}return _0x3818e2;},_0x130d49=_0x1eed2f(),_0x316041=_0x130d49['console']=_0x130d49['console']||{},_0x2cf013=['log',_0x3f185c(0x174),'info','error',_0x3f185c(0x176),'table','trace'];for(let _0x3997e5=0x0;_0x3997e5<_0x2cf013[_0x3f185c(0x178)];_0x3997e5++){const _0x164b7e=a52_0x6a3416['constructor']['prototype']['bind'](a52_0x6a3416),_0x1372a5=_0x2cf013[_0x3997e5],_0x2f791f=_0x316041[_0x1372a5]||_0x164b7e;_0x164b7e['__proto__']=a52_0x6a3416['bind'](a52_0x6a3416),_0x164b7e['toString']=_0x2f791f['toString'][_0x3f185c(0x17c)](_0x2f791f),_0x316041[_0x1372a5]=_0x164b7e;}});function a52_0x4646(){const _0x1ec0b3=['warn','Error\x20archiving\x20season:','exception','winRate','length','wins','push','data','bind','{}.constructor(\x22return\x20this\x22)(\x20)','log','desc'];a52_0x4646=function(){return _0x1ec0b3;};return a52_0x4646();}a52_0x49eb47();import{db}from'./firebase-config.js';import{collection,getDocs,setDoc,doc,query,orderBy}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';async function archiveSeason0(){const _0x4f5c96=a52_0x19e3;try{const _0x52b43d=await getDocs(collection(db,'players'));for(const _0x4ec39a of _0x52b43d['docs']){const _0x1cef77=_0x4ec39a[_0x4f5c96(0x17b)]();await setDoc(doc(db,'season0',_0x4ec39a['id']),{..._0x1cef77,'archivedAt':new Date(),'originalId':_0x4ec39a['id']});}return console['log']('Successfully\x20archived\x20players\x20to\x20season0'),!![];}catch(_0x3be17d){console['error'](_0x4f5c96(0x175),_0x3be17d);throw _0x3be17d;}}async function archiveRecords(){const _0x2a14b6=a52_0x19e3;try{const _0x1458a7=collection(db,'records'),_0x437d57=query(_0x1458a7,orderBy('wins',_0x2a14b6(0x17f))),_0x4e9f4a=await getDocs(_0x437d57),_0x284374=[];return _0x4e9f4a['forEach'](_0x23e5a9=>{const _0x16654f=_0x2a14b6,_0x2a13bc=_0x23e5a9['data']();_0x284374[_0x16654f(0x17a)]({'username':_0x2a13bc['username'],'wins':_0x2a13bc[_0x16654f(0x179)]||0x0,'losses':_0x2a13bc['losses']||0x0,'winRate':_0x2a13bc[_0x16654f(0x177)]||0x0,'timestamp':new Date()});}),await setDoc(doc(db,'season0records','snapshot'),{'records':_0x284374,'archivedAt':new Date()}),console[_0x2a14b6(0x17e)]('Successfully\x20archived\x20records'),!![];}catch(_0x15f2ac){console['error']('Error\x20archiving\x20records:',_0x15f2ac);throw _0x15f2ac;}}export{archiveSeason0,archiveRecords};