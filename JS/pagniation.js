const a38_0x4d49d3=a38_0x1c29,a38_0x54d35d=(function(){let _0x997c91=!![];return function(_0x510c16,_0x18adaf){const _0x3ab213=_0x997c91?function(){if(_0x18adaf){const _0x4e65bf=_0x18adaf['apply'](_0x510c16,arguments);return _0x18adaf=null,_0x4e65bf;}}:function(){};return _0x997c91=![],_0x3ab213;};}()),a38_0x390418=a38_0x54d35d(this,function(){const _0x669a15=a38_0x1c29,_0x238747=function(){let _0x1d2e20;try{_0x1d2e20=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x13ece5){_0x1d2e20=window;}return _0x1d2e20;},_0x2eb170=_0x238747(),_0x1b3387=_0x2eb170['console']=_0x2eb170['console']||{},_0x38b6a0=[_0x669a15(0x130),'warn','info',_0x669a15(0x12f),'exception','table','trace'];for(let _0x1ca268=0x0;_0x1ca268<_0x38b6a0['length'];_0x1ca268++){const _0x44ca94=a38_0x54d35d[_0x669a15(0x127)]['prototype'][_0x669a15(0x129)](a38_0x54d35d),_0x2249bc=_0x38b6a0[_0x1ca268],_0x380a31=_0x1b3387[_0x2249bc]||_0x44ca94;_0x44ca94['__proto__']=a38_0x54d35d[_0x669a15(0x129)](a38_0x54d35d),_0x44ca94[_0x669a15(0x135)]=_0x380a31[_0x669a15(0x135)][_0x669a15(0x129)](_0x380a31),_0x1b3387[_0x2249bc]=_0x44ca94;}});a38_0x390418();import{getEloHistory,resetPagination}from'./elo-history.js';let currentPage=0x1,allMatches=[];const matchesPerPage=0xa;async function displayEloHistory(){const _0x8219ba=a38_0x1c29,_0x22f9b2=document[_0x8219ba(0x121)]('#elo-history\x20tbody'),_0x3e0f5f=document[_0x8219ba(0x120)]('pagination');try{const {entries:_0x25137d,hasMore:_0x2e1be4}=await getEloHistory();if(_0x25137d['length']===0x0){_0x22f9b2[_0x8219ba(0x12a)]='<tr><td\x20colspan=\x226\x22>No\x20ELO\x20history\x20available</td></tr>';return;}allMatches=_0x25137d,_0x22f9b2['innerHTML']=_0x25137d['map'](_0x154b25=>_0x8219ba(0x125)+(_0x154b25['timestamp']?new Date(_0x154b25['timestamp'][_0x8219ba(0x138)]())['toLocaleString']():'N/A')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x154b25[_0x8219ba(0x139)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x154b25[_0x8219ba(0x11c)]+_0x8219ba(0x123)+_0x154b25['newElo']+_0x8219ba(0x123)+(_0x154b25['change']>0x0?'+'+_0x154b25['change']:_0x154b25['change'])+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x154b25['opponent']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x154b25['matchResult']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''),createPaginationControls();}catch(_0x2b8581){console['error'](_0x8219ba(0x12e),_0x2b8581),_0x22f9b2['innerHTML']='<tr><td\x20colspan=\x226\x22>Error\x20loading\x20ELO\x20history</td></tr>';}}function a38_0x149c(){const _0x70eb52=['ceil','previousElo','newElo','className','parentNode','getElementById','querySelector','>Next</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pagination-controls\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22prevPage\x22\x20','constructor','join','bind','innerHTML','nextPage','change','\x20of\x20','Error\x20displaying\x20ELO\x20history:','error','log','disabled','opponent','addEventListener','target','toString','#elo-history\x20tbody','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20','toDate','player','timestamp'];a38_0x149c=function(){return _0x70eb52;};return a38_0x149c();}function createPaginationControls(){const _0x209187=a38_0x1c29,_0x12c6dc=Math[_0x209187(0x11b)](allMatches['length']/matchesPerPage),_0x1643db=document['createElement']('div');_0x1643db[_0x209187(0x11e)]='pagination-wrapper',_0x1643db['innerHTML']=_0x209187(0x126)+(currentPage===0x1?_0x209187(0x131):'')+'>Previous</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-navigation\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>Page\x20'+currentPage+_0x209187(0x12d)+_0x12c6dc+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-search\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22pageInput\x22\x20min=\x221\x22\x20max=\x22'+_0x12c6dc+'\x22\x20value=\x22'+currentPage+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goToPage\x22>Go</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22nextPage\x22\x20'+(currentPage===_0x12c6dc?'disabled':'')+_0x209187(0x122);const _0x11084f=document['querySelector']('#elo-history');_0x11084f[_0x209187(0x11f)]['insertBefore'](_0x1643db,_0x11084f['nextSibling']),document[_0x209187(0x120)]('prevPage')['addEventListener']('click',()=>{if(currentPage>0x1)displayMatchesPage(currentPage-0x1);}),document['getElementById'](_0x209187(0x12b))[_0x209187(0x133)]('click',()=>{if(currentPage<_0x12c6dc)displayMatchesPage(currentPage+0x1);}),document['getElementById']('goToPage')[_0x209187(0x133)]('click',()=>{const _0x433fa2=_0x209187,_0x13664e=document[_0x433fa2(0x120)]('pageInput'),_0x47240a=parseInt(_0x13664e['value']);_0x47240a>=0x1&&_0x47240a<=_0x12c6dc&&displayMatchesPage(_0x47240a);}),document[_0x209187(0x120)]('pageInput')[_0x209187(0x133)]('keypress',_0x5cf111=>{const _0x3c1541=_0x209187;if(_0x5cf111['key']==='Enter'){const _0x44da94=parseInt(_0x5cf111[_0x3c1541(0x134)]['value']);_0x44da94>=0x1&&_0x44da94<=_0x12c6dc&&displayMatchesPage(_0x44da94);}});}function a38_0x1c29(_0x5ea3f8,_0x4867a1){const _0x390418=a38_0x149c();return a38_0x1c29=function(_0x54d35d,_0x5dffac){_0x54d35d=_0x54d35d-0x11b;let _0x149c95=_0x390418[_0x54d35d];return _0x149c95;},a38_0x1c29(_0x5ea3f8,_0x4867a1);}async function displayMatchesPage(_0xfd6b05){const _0x41f37b=a38_0x1c29;currentPage=_0xfd6b05;const _0x531511=(currentPage-0x1)*matchesPerPage,_0x213f88=_0x531511+matchesPerPage,_0x58bab5=allMatches['slice'](_0x531511,_0x213f88),_0x34efa3=document['querySelector'](_0x41f37b(0x136));_0x34efa3['innerHTML']=_0x58bab5['map'](_0xdfe34f=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0xdfe34f['timestamp']?new Date(_0xdfe34f[_0x41f37b(0x13a)][_0x41f37b(0x138)]())['toLocaleString']():'N/A')+_0x41f37b(0x124)+_0xdfe34f[_0x41f37b(0x139)]+_0x41f37b(0x124)+_0xdfe34f[_0x41f37b(0x11c)]+_0x41f37b(0x124)+_0xdfe34f[_0x41f37b(0x11d)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0xdfe34f[_0x41f37b(0x12c)]>0x0?'+'+_0xdfe34f['change']:_0xdfe34f['change'])+_0x41f37b(0x124)+_0xdfe34f[_0x41f37b(0x132)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0xdfe34f['matchResult']+_0x41f37b(0x137))[_0x41f37b(0x128)](''),createPaginationControls();}document[a38_0x4d49d3(0x133)]('DOMContentLoaded',displayEloHistory);