function a32_0x1f94(_0x3b8d7c,_0x341fb7){const _0x457ecd=a32_0x4340();return a32_0x1f94=function(_0x3e3a01,_0x13ba91){_0x3e3a01=_0x3e3a01-0x176;let _0x434028=_0x457ecd[_0x3e3a01];return _0x434028;},a32_0x1f94(_0x3b8d7c,_0x341fb7);}const a32_0x3e3a01=(function(){let _0x58fe89=!![];return function(_0x50c6bc,_0x57358a){const _0x229cb7=_0x58fe89?function(){const _0x257d86=a32_0x1f94;if(_0x57358a){const _0x2c2500=_0x57358a[_0x257d86(0x17e)](_0x50c6bc,arguments);return _0x57358a=null,_0x2c2500;}}:function(){};return _0x58fe89=![],_0x229cb7;};}()),a32_0x457ecd=a32_0x3e3a01(this,function(){const _0x1e8c24=a32_0x1f94;let _0x4b1749;try{const _0x346e47=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x4b1749=_0x346e47();}catch(_0x248be4){_0x4b1749=window;}const _0xae0d56=_0x4b1749['console']=_0x4b1749[_0x1e8c24(0x1aa)]||{},_0x445524=['log','warn','info','error','exception',_0x1e8c24(0x199),_0x1e8c24(0x187)];for(let _0x3bcac3=0x0;_0x3bcac3<_0x445524['length'];_0x3bcac3++){const _0x19e074=a32_0x3e3a01['constructor'][_0x1e8c24(0x1a3)][_0x1e8c24(0x177)](a32_0x3e3a01),_0x12d956=_0x445524[_0x3bcac3],_0x44810b=_0xae0d56[_0x12d956]||_0x19e074;_0x19e074['__proto__']=a32_0x3e3a01['bind'](a32_0x3e3a01),_0x19e074['toString']=_0x44810b['toString']['bind'](_0x44810b),_0xae0d56[_0x12d956]=_0x19e074;}});a32_0x457ecd();import{collection,getDocs,deleteDoc,doc,getDoc,query,where,updateDoc,Timestamp,onSnapshot,orderBy,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db}from'./firebase-config.js';import{getRankStyle}from'./ranks.js';import a32_0x25cdb8 from'./firebase-idle-wrapper.js';const playerCacheD2={'data':null,'timestamp':0x0},CACHE_DURATION=0x7530;async function displayLadderD2(_0x1e0db0=![]){const _0x4003b7=a32_0x1f94,_0x286cb2=document[_0x4003b7(0x1b6)](_0x4003b7(0x189));if(!_0x286cb2){console[_0x4003b7(0x1b1)]('D2\x20Ladder\x20table\x20body\x20not\x20found');return;}_0x286cb2['innerHTML']=_0x4003b7(0x198);try{const _0x23bd91=Date[_0x4003b7(0x178)]();if(!_0x1e0db0&&playerCacheD2['data']&&_0x23bd91-playerCacheD2[_0x4003b7(0x1b8)]<CACHE_DURATION){updateLadderDisplayD2(playerCacheD2[_0x4003b7(0x1ab)]);return;}const _0x677b9e=collection(db,'playersD2'),_0x118c1f=query(_0x677b9e,orderBy('position','asc')),_0x2c2559=await a32_0x25cdb8['getDocuments'](_0x677b9e),_0x455601=[];_0x2c2559['forEach'](_0x2583c5=>{const _0xd7a942=_0x4003b7,_0x1666c2=_0x2583c5['data']();_0x1666c2[_0xd7a942(0x19b)]&&_0x455601['push']({..._0x1666c2,'id':_0x2583c5['id'],'elo':_0x1666c2['eloRating']||0x0,'position':_0x1666c2['position']||Number['MAX_SAFE_INTEGER']});});const _0x79c1f=collection(db,_0x4003b7(0x19d)),_0x1f51a5=await getDocs(_0x79c1f),_0x5d22e4=new Map();_0x1f51a5['forEach'](_0xf95150=>{const _0x1d50bf=_0xf95150['data']();_0x1d50bf['username']&&_0x5d22e4['set'](_0x1d50bf['username']['toLowerCase'](),_0x1d50bf);});for(const _0x5e1a89 of _0x455601){const _0x4d8119=_0x5e1a89[_0x4003b7(0x19b)]['toLowerCase']();if(_0x5d22e4['has'](_0x4d8119)){const _0x4d61df=_0x5d22e4['get'](_0x4d8119);_0x4d61df['country']&&(_0x5e1a89['country']=_0x4d61df['country']['toLowerCase']());}}const _0x2fa7bd=_0x455601['map'](_0x11cc94=>_0x11cc94['username']),_0x286e2f=await fetchBatchMatchStatsD2(_0x2fa7bd);_0x455601['sort']((_0xb49821,_0x4a06ab)=>{const _0x22c374=_0x286e2f['get'](_0xb49821['username'])?.['totalMatches']||0x0,_0x118961=_0x286e2f['get'](_0x4a06ab['username'])?.['totalMatches']||0x0;if(_0x22c374===0x0!==(_0x118961===0x0))return _0x22c374===0x0?0x1:-0x1;return(_0xb49821['position']||0x3e7)-(_0x4a06ab['position']||0x3e7);}),_0x455601['forEach']((_0x5cada8,_0x268c6f)=>{_0x5cada8['position']=_0x268c6f+0x1;}),playerCacheD2['data']=_0x455601,playerCacheD2['timestamp']=_0x23bd91,updateLadderDisplayD2(_0x455601);}catch(_0x4fb465){console['error']('Error\x20loading\x20D2\x20ladder:',_0x4fb465),_0x286cb2['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x228\x22\x20style=\x22text-align:\x20center;\x20color:\x20red;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20D2\x20ladder\x20data:\x20'+_0x4fb465['message']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}function getNextAvailablePositionD2(_0x3c4f94){const _0xb0562=a32_0x1f94;if(_0x3c4f94['length']===0x0)return 0x1;let _0x2ebef5=0x0;return _0x3c4f94[_0xb0562(0x18e)](_0x2897a4=>{_0x2897a4['position']&&typeof _0x2897a4['position']==='number'&&_0x2897a4['position']>_0x2ebef5&&(_0x2ebef5=_0x2897a4['position']);}),_0x2ebef5+0x1;}async function updatePlayerPositions(_0x484cc7,_0x2c019f){const _0x3e21b1=a32_0x1f94;try{const _0x1249c8=collection(db,_0x3e21b1(0x180)),_0x1fa2ae=await getDocs(_0x1249c8),_0x40a1c6=[];_0x1fa2ae['forEach'](_0x2f73b8=>{_0x40a1c6['push']({'id':_0x2f73b8['id'],..._0x2f73b8['data']()});});const _0x2b5206=_0x40a1c6[_0x3e21b1(0x1a9)](_0xff7d1f=>_0xff7d1f['username']===_0x484cc7),_0x58cd88=_0x40a1c6[_0x3e21b1(0x1a9)](_0x24ade9=>_0x24ade9['username']===_0x2c019f);if(!_0x2b5206||!_0x58cd88){console['error']('Could\x20not\x20find\x20winner\x20or\x20loser\x20in\x20D2\x20players\x20list');return;}if(_0x2b5206['position']>_0x58cd88['position']){const _0x584b9e=_0x58cd88['position'];for(const _0x121a46 of _0x40a1c6){_0x121a46['position']>=_0x58cd88['position']&&_0x121a46['position']<_0x2b5206['position']&&_0x121a46['username']!==_0x484cc7&&await updateDoc(doc(db,'playersD2',_0x121a46['id']),{'position':_0x121a46['position']+0x1});}await updateDoc(doc(db,'playersD2',_0x2b5206['id']),{'position':_0x584b9e});if(_0x584b9e===0x1){const _0x284f21=doc(db,_0x3e21b1(0x180),_0x2b5206['id']),_0x1ba399=await getDoc(_0x284f21);!_0x1ba399['data']()[_0x3e21b1(0x185)]&&await updateDoc(_0x284f21,{'firstPlaceDate':Timestamp['now']()});}if(_0x58cd88['position']===0x1){const _0x3d7900=doc(db,'playersD2',_0x58cd88['id']);await updateDoc(_0x3d7900,{'firstPlaceDate':null});}playerCacheD2['timestamp']=0x0;}}catch(_0x406f9d){console['error'](_0x3e21b1(0x1b4),_0x406f9d);}}function a32_0x4340(){const _0x48012c=['\x0a\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','bind','now','eloHistory','innerHTML','inline','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22player-flag\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22margin-left:\x205px;\x20vertical-align:\x20middle;\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>','totalKills','apply','set','playersD2','ceil','country','Emerald','get','firstPlaceDate','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Rank</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Username</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>ELO</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Matches</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Wins</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Losses</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>K/D</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Win\x20Rate</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','trace','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22color:\x20','#ladder-d2\x20tbody','wins','previousElo','Error\x20updating\x20D2\x20ELO\x20trend\x20indicators:','.png\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22','forEach','Silver',';\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22elo-container\x22\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22elo-value\x22>','position','winRate','totalMatches','toLowerCase','player','loserUsername','size','<tr><td\x20colspan=\x228\x22\x20class=\x22loading-cell\x22>Loading\x20D2\x20ladder\x20data...</td></tr>','table','toFixed','username','loserScore','userProfiles','display','includes','winnerUsername','newElo','sort','prototype','has','change','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','elo','playerUsername','find','console','data','fallback\x20entries',';\x20text-decoration:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','color','catch','style','error','desc','D2:\x20','Error\x20updating\x20D2\x20player\x20positions:','D2:\x20Found','querySelector','#4CAF50','timestamp'];a32_0x4340=function(){return _0x48012c;};return a32_0x4340();}function calculateStreakDays(_0x5f3795){const _0x5cf17f=a32_0x1f94;if(!_0x5f3795)return 0x0;const _0x3ce81f=_0x5f3795['toDate'](),_0xd5834c=new Date(),_0x4d2411=Math['abs'](_0xd5834c-_0x3ce81f);return Math[_0x5cf17f(0x181)](_0x4d2411/(0x3e8*0x3c*0x3c*0x18));}function getPlayerRankNameD2(_0x222853){const _0xd2dedc=a32_0x1f94;if(_0x222853>=0x834)return _0xd2dedc(0x183);if(_0x222853>=0x708)return'Gold';if(_0x222853>=0x640)return _0xd2dedc(0x18f);if(_0x222853>=0x578)return'Bronze';return'Unranked';}async function updateLadderDisplayD2(_0x54e9bf){const _0x4cf037=a32_0x1f94;_0x54e9bf['sort']((_0x4dad07,_0x4e4405)=>_0x4dad07[_0x4cf037(0x191)]-_0x4e4405['position']);const _0x3a4005=document['querySelector']('#ladder-d2\x20tbody');if(!_0x3a4005)return;_0x3a4005['innerHTML']='';const _0x3747cd=_0x54e9bf['map'](_0x260950=>_0x260950['username']),_0x329e89=await fetchBatchMatchStatsD2(_0x3747cd),_0x839024=document['querySelector']('#ladder-d2\x20thead\x20tr');_0x839024&&(_0x839024['innerHTML']=_0x4cf037(0x186));const _0x102d4e=_0x54e9bf['map'](_0x528f8c=>{const _0x9f5110=_0x329e89['get'](_0x528f8c['username'])||{'totalMatches':0x0,'wins':0x0,'losses':0x0,'kda':0x0,'winRate':0x0,'totalKills':0x0,'totalDeaths':0x0};return createPlayerRowD2(_0x528f8c,_0x9f5110);})['join']('');_0x3a4005[_0x4cf037(0x17a)]=_0x102d4e,getPlayersLastEloChangesD2(_0x3747cd)['then'](_0x509997=>{const _0x1188ea=_0x4cf037,_0x1fb8bd=new Map();_0x3a4005['querySelectorAll']('tr')['forEach']((_0x429eff,_0x5926e3)=>{_0x5926e3<_0x3747cd['length']&&_0x1fb8bd['set'](_0x3747cd[_0x5926e3],_0x429eff);}),_0x509997[_0x1188ea(0x18e)]((_0x438372,_0x2a5971)=>{const _0x43dafe=_0x1188ea,_0x5498bc=_0x1fb8bd['get'](_0x2a5971);if(_0x5498bc&&_0x438372!==0x0){const _0x5d3e4e=_0x5498bc['querySelector']('td:nth-child(3)');if(_0x5d3e4e){const _0x437841=_0x438372>0x0?'+'+_0x438372:''+_0x438372,_0x122d39=_0x5d3e4e['querySelector']('.trend-indicator');_0x122d39&&(_0x122d39['textContent']=_0x437841,_0x122d39['style'][_0x43dafe(0x1ae)]=_0x438372>0x0?_0x43dafe(0x1b7):'#F44336',_0x122d39['style']['fontWeight']='bold',_0x122d39[_0x43dafe(0x1b0)]['fontSize']='0.85em',_0x122d39['style'][_0x43dafe(0x19e)]=_0x43dafe(0x17b),_0x122d39['style']['visibility']='visible',_0x122d39[_0x43dafe(0x1b0)]['opacity']='1');}}});})[_0x4cf037(0x1af)](_0x662d1a=>console['error'](_0x4cf037(0x18c),_0x662d1a));}function createPlayerRowD2(_0x5b2c40,_0x8ec84a){const _0x3d15bc=a32_0x1f94,_0x354812=parseFloat(_0x5b2c40[_0x3d15bc(0x1a7)])||0x0;let _0x2f853a='gray';if(_0x354812>=0x7d0)_0x2f853a='#50C878';else{if(_0x354812>=0x708)_0x2f853a='#FFD700';else{if(_0x354812>=0x640)_0x2f853a='#C0C0C0';else _0x354812>=0x578&&(_0x2f853a='#CD7F32');}}let _0x20da87='';return _0x5b2c40[_0x3d15bc(0x182)]&&(_0x20da87='<img\x20src=\x22../images/flags/'+_0x5b2c40['country'][_0x3d15bc(0x194)]()+_0x3d15bc(0x18d)+_0x5b2c40['country']+_0x3d15bc(0x17c)),_0x3d15bc(0x176)+_0x5b2c40[_0x3d15bc(0x191)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22profile.html?username='+encodeURIComponent(_0x5b2c40['username'])+'&ladder=d2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22color:\x20'+_0x2f853a+_0x3d15bc(0x1ad)+_0x5b2c40['username']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x20da87+_0x3d15bc(0x188)+_0x2f853a+_0x3d15bc(0x190)+_0x354812+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22trend-indicator\x22\x20style=\x22margin-left:\x205px;\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x8ec84a['totalMatches']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x8ec84a['wins']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x8ec84a['losses']+_0x3d15bc(0x1a6)+_0x8ec84a['kda']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x8ec84a['winRate']+'%</td>\x0a\x20\x20\x20\x20</tr>';}async function getPlayersLastEloChangesD2(_0x377f0f){const _0x37d0ca=a32_0x1f94,_0x18ddc4=new Map();_0x377f0f[_0x37d0ca(0x18e)](_0x1252d3=>_0x18ddc4[_0x37d0ca(0x17f)](_0x1252d3,0x0));try{const _0x4eafb0=collection(db,'eloHistoryD2'),_0x307b4f=query(_0x4eafb0,orderBy(_0x37d0ca(0x1b8),_0x37d0ca(0x1b2)),limit(0x64)),_0x346068=await getDocs(_0x307b4f),_0x158bb0=new Map(),_0x247944=await getDocs(collection(db,_0x37d0ca(0x180)));_0x247944['forEach'](_0x350444=>{const _0xe2f10c=_0x37d0ca,_0x29d44b=_0x350444['data']();_0x29d44b['username']&&_0x158bb0[_0xe2f10c(0x17f)](_0x350444['id'],_0x29d44b[_0xe2f10c(0x19b)]);});const _0x5a36eb=new Map();_0x346068['forEach'](_0x1f44a2=>{const _0x4d515b=_0x37d0ca,_0x1d974e=_0x1f44a2['data']();let _0x1989dc=_0x1d974e['username']||_0x1d974e['playerUsername'];!_0x1989dc&&_0x1d974e['player']&&_0x158bb0[_0x4d515b(0x1a4)](_0x1d974e['player'])&&(_0x1989dc=_0x158bb0[_0x4d515b(0x184)](_0x1d974e[_0x4d515b(0x195)]));if(!_0x1989dc&&_0x1d974e['matchId']){}_0x1989dc&&_0x377f0f['includes'](_0x1989dc)&&(!_0x5a36eb['has'](_0x1989dc)&&_0x5a36eb['set'](_0x1989dc,[]),_0x5a36eb[_0x4d515b(0x184)](_0x1989dc)['push']({..._0x1d974e,'timestamp':_0x1d974e[_0x4d515b(0x1b8)]?.['seconds']||0x0,'username':_0x1989dc}));}),_0x5a36eb['forEach']((_0x59b1be,_0x4b69d2)=>{const _0x47d30e=_0x37d0ca;if(_0x59b1be['length']>0x0){_0x59b1be[_0x47d30e(0x1a2)]((_0x22ac76,_0x2af0b0)=>_0x2af0b0[_0x47d30e(0x1b8)]-_0x22ac76['timestamp']);const _0x371805=_0x59b1be['find'](_0x5ee6b0=>_0x5ee6b0['change']!==undefined||_0x5ee6b0[_0x47d30e(0x1a1)]!==undefined&&_0x5ee6b0[_0x47d30e(0x18b)]!==undefined);if(_0x371805){let _0x5349e7;if(_0x371805['change']!==undefined)_0x5349e7=_0x371805['change'];else _0x371805['newElo']!==undefined&&_0x371805['previousElo']!==undefined&&(_0x5349e7=_0x371805[_0x47d30e(0x1a1)]-_0x371805['previousElo']);_0x5349e7!==undefined&&_0x18ddc4['set'](_0x4b69d2,_0x5349e7);}}});if(_0x5a36eb['size']===0x0){const _0x2f1885=collection(db,_0x37d0ca(0x179)),_0x58cd7b=query(_0x2f1885,where('gameMode','==','D2'),orderBy(_0x37d0ca(0x1b8),'desc'),limit(0x32));try{const _0x217547=await getDocs(_0x58cd7b);console['log'](_0x37d0ca(0x1b5),_0x217547[_0x37d0ca(0x197)],_0x37d0ca(0x1ac)),_0x217547['forEach'](_0x3d945f=>{const _0x16779c=_0x37d0ca,_0x98c3b3=_0x3d945f['data'](),_0x1bd620=_0x98c3b3['username']||_0x98c3b3[_0x16779c(0x1a8)];if(_0x1bd620&&_0x377f0f['includes'](_0x1bd620)){const _0x25fe90=_0x98c3b3[_0x16779c(0x1a5)]||(_0x98c3b3['newElo']!==undefined&&_0x98c3b3[_0x16779c(0x18b)]!==undefined?_0x98c3b3[_0x16779c(0x1a1)]-_0x98c3b3['previousElo']:0x0);_0x25fe90!==0x0&&(_0x18ddc4['set'](_0x1bd620,_0x25fe90),console['log'](_0x16779c(0x1b3)+_0x1bd620+'\x20fallback\x20ELO\x20change:\x20'+_0x25fe90));}});}catch(_0x32c50f){}}}catch(_0xaffe5f){console[_0x37d0ca(0x1b1)]('D2:\x20Error\x20fetching\x20ELO\x20history:',_0xaffe5f);}return _0x18ddc4;}async function fetchBatchMatchStatsD2(_0x51f608){const _0x163bba=a32_0x1f94,_0x110e9b=new Map();try{_0x51f608[_0x163bba(0x18e)](_0x3c69db=>{_0x110e9b['set'](_0x3c69db,{'totalMatches':0x0,'wins':0x0,'losses':0x0,'totalKills':0x0,'totalDeaths':0x0,'kda':0x0,'winRate':0x0});});const _0x52d247=collection(db,'approvedMatchesD2'),_0x2ae8cf=await getDocs(_0x52d247);_0x2ae8cf[_0x163bba(0x18e)](_0x5397c6=>{const _0x33651b=_0x163bba,_0x347046=_0x5397c6[_0x33651b(0x1ab)](),_0x182feb=_0x347046[_0x33651b(0x1a0)],_0x3e905e=_0x347046[_0x33651b(0x196)];if(_0x51f608['includes'](_0x182feb)){const _0x2c7933=_0x110e9b['get'](_0x182feb);_0x2c7933[_0x33651b(0x18a)]++,_0x2c7933['totalMatches']++,_0x2c7933[_0x33651b(0x17d)]+=parseInt(_0x347046['winnerScore'])||0x0,_0x2c7933['totalDeaths']+=parseInt(_0x347046[_0x33651b(0x19c)])||0x0;}if(_0x51f608[_0x33651b(0x19f)](_0x3e905e)){const _0x52a281=_0x110e9b['get'](_0x3e905e);_0x52a281['losses']++,_0x52a281['totalMatches']++,_0x52a281['totalKills']+=parseInt(_0x347046[_0x33651b(0x19c)])||0x0,_0x52a281['totalDeaths']+=parseInt(_0x347046['winnerScore'])||0x0;}}),_0x51f608['forEach'](_0x2de0b9=>{const _0x48f4a0=_0x163bba,_0x195398=_0x110e9b['get'](_0x2de0b9);_0x195398['kda']=_0x195398['totalDeaths']>0x0?(_0x195398[_0x48f4a0(0x17d)]/_0x195398['totalDeaths'])[_0x48f4a0(0x19a)](0x2):_0x195398['totalKills']['toFixed'](0x2),_0x195398[_0x48f4a0(0x192)]=_0x195398['totalMatches']>0x0?(_0x195398['wins']/_0x195398[_0x48f4a0(0x193)]*0x64)[_0x48f4a0(0x19a)](0x1):0x0;});}catch(_0x1ca0e8){console['error']('Error\x20fetching\x20batch\x20D2\x20match\x20stats:',_0x1ca0e8);}return _0x110e9b;}export{displayLadderD2,updatePlayerPositions};