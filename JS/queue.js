const a44_0x47a4ac=a44_0x3600;(function(_0x1e946b,_0x3aefef){const _0x3962e5=a44_0x3600,_0x4326da=_0x1e946b();while(!![]){try{const _0x4c9919=parseInt(_0x3962e5(0x192))/0x1*(-parseInt(_0x3962e5(0x1a7))/0x2)+-parseInt(_0x3962e5(0x188))/0x3*(-parseInt(_0x3962e5(0x189))/0x4)+parseInt(_0x3962e5(0x17c))/0x5*(-parseInt(_0x3962e5(0x19b))/0x6)+parseInt(_0x3962e5(0x199))/0x7+parseInt(_0x3962e5(0x195))/0x8+parseInt(_0x3962e5(0x185))/0x9*(-parseInt(_0x3962e5(0x197))/0xa)+parseInt(_0x3962e5(0x1ab))/0xb*(parseInt(_0x3962e5(0x1a2))/0xc);if(_0x4c9919===_0x3aefef)break;else _0x4326da['push'](_0x4326da['shift']());}catch(_0x30a1dd){_0x4326da['push'](_0x4326da['shift']());}}}(a44_0x3201,0xb9b5f));const a44_0x4d4869=(function(){let _0x57874a=!![];return function(_0x5edb77,_0x423a6d){const _0x3419d8=_0x57874a?function(){const _0x4bc1a4=a44_0x3600;if(_0x423a6d){const _0x29928e=_0x423a6d[_0x4bc1a4(0x193)](_0x5edb77,arguments);return _0x423a6d=null,_0x29928e;}}:function(){};return _0x57874a=![],_0x3419d8;};}()),a44_0x12e510=a44_0x4d4869(this,function(){const _0x577553=a44_0x3600;return a44_0x12e510['toString']()[_0x577553(0x1ac)](_0x577553(0x19c))[_0x577553(0x18b)]()[_0x577553(0x1a0)](a44_0x12e510)['search'](_0x577553(0x19c));});a44_0x12e510();function a44_0x3201(){const _0x17096f=['12550bIAbHi','display','forEach','Unknown\x20Player','innerHTML','floor','data','style','username','207252tAKyxx','console','readyPlayers','3nAsoYV','457804JEXwPD','m\x20in\x20queue','toString','__proto__','toDate','queue-container','info','push','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','1435nlqiMT','apply','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-card\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-name\x22>','1786856Masyro','isReady','530CRCuOI','length','8935108DRFBMK','none','420FlbzMD','(((.+)+)+)+$','bind','table','getElementById','constructor','unload','365628KFHzKo','error','lastUpdated','Error\x20removing\x20player\x20from\x20queue:','Just\x20now','178pqfFvl','trace','block','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','242XNuOBw','search'];a44_0x3201=function(){return _0x17096f;};return a44_0x3201();}const a44_0x54d929=(function(){let _0x283136=!![];return function(_0x478485,_0xb45997){const _0x261fe9=_0x283136?function(){const _0x2e2f91=a44_0x3600;if(_0xb45997){const _0x23cbdd=_0xb45997[_0x2e2f91(0x193)](_0x478485,arguments);return _0xb45997=null,_0x23cbdd;}}:function(){};return _0x283136=![],_0x261fe9;};}()),a44_0x39732c=a44_0x54d929(this,function(){const _0x5e066e=a44_0x3600,_0x41d508=function(){let _0x14f2f2;try{_0x14f2f2=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x3363a0){_0x14f2f2=window;}return _0x14f2f2;},_0x4ef0e6=_0x41d508(),_0x38ca48=_0x4ef0e6[_0x5e066e(0x186)]=_0x4ef0e6['console']||{},_0x278eef=['log','warn',_0x5e066e(0x18f),'error','exception',_0x5e066e(0x19e),_0x5e066e(0x1a8)];for(let _0x4a51ea=0x0;_0x4a51ea<_0x278eef[_0x5e066e(0x198)];_0x4a51ea++){const _0xadbe00=a44_0x54d929[_0x5e066e(0x1a0)]['prototype']['bind'](a44_0x54d929),_0x4a3dbe=_0x278eef[_0x4a51ea],_0x4434c3=_0x38ca48[_0x4a3dbe]||_0xadbe00;_0xadbe00[_0x5e066e(0x18c)]=a44_0x54d929[_0x5e066e(0x19d)](a44_0x54d929),_0xadbe00[_0x5e066e(0x18b)]=_0x4434c3[_0x5e066e(0x18b)]['bind'](_0x4434c3),_0x38ca48[_0x4a3dbe]=_0xadbe00;}});a44_0x39732c();import{db}from'./firebase-config.js';import{collection,query,where,onSnapshot,updateDoc,doc}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const readyPlayersRef=collection(db,a44_0x47a4ac(0x187)),activePlayersQuery=query(readyPlayersRef,where(a44_0x47a4ac(0x196),'==',!![]));function updateQueueDisplay(_0x3e616a){const _0x14b4c0=a44_0x47a4ac,_0x18f304=document[_0x14b4c0(0x19f)](_0x14b4c0(0x18e));if(!_0x18f304)return;if(_0x3e616a[_0x14b4c0(0x198)]===0x0){_0x18f304[_0x14b4c0(0x183)][_0x14b4c0(0x17d)]=_0x14b4c0(0x19a);return;}_0x18f304[_0x14b4c0(0x183)][_0x14b4c0(0x17d)]=_0x14b4c0(0x1a9);let _0xa71d90='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22queue-box\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>Waiting\x20for\x20a\x20game</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22queue-list\x22>\x0a\x20\x20\x20\x20';_0x3e616a[_0x14b4c0(0x17e)](_0x4c3070=>{const _0x3b76fe=_0x14b4c0;_0xa71d90+=_0x3b76fe(0x194)+(_0x4c3070['username']||_0x3b76fe(0x17f))+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22queue-time\x22>'+formatQueueTime(_0x4c3070['lastUpdated'])+_0x3b76fe(0x191);}),_0xa71d90+=_0x14b4c0(0x1aa),_0x18f304[_0x14b4c0(0x180)]=_0xa71d90;}function formatQueueTime(_0x4fbbde){const _0x277074=a44_0x47a4ac;if(!_0x4fbbde)return'Just\x20now';const _0x1cc724=_0x4fbbde['toDate']?_0x4fbbde[_0x277074(0x18d)]():new Date(_0x4fbbde),_0x5a7b82=new Date(),_0x579647=Math[_0x277074(0x181)]((_0x5a7b82-_0x1cc724)/0xea60);if(_0x579647<0x1)return _0x277074(0x1a6);return _0x579647+_0x277074(0x18a);}async function checkQueueTimeout(_0x1a7ae1){const _0x549476=a44_0x47a4ac;if(!_0x1a7ae1[_0x549476(0x1a4)])return;const _0x144466=_0x1a7ae1[_0x549476(0x1a4)][_0x549476(0x18d)]?_0x1a7ae1[_0x549476(0x1a4)][_0x549476(0x18d)]():new Date(_0x1a7ae1[_0x549476(0x1a4)]),_0x32ecfe=new Date(),_0x30d0d5=Math[_0x549476(0x181)]((_0x32ecfe-_0x144466)/0xea60);if(_0x30d0d5>=0x1e)try{const _0xe82438=doc(db,_0x549476(0x187),_0x1a7ae1['id']);await updateDoc(_0xe82438,{'isReady':![]});}catch(_0x10b41e){console[_0x549476(0x1a3)](_0x549476(0x1a5),_0x10b41e);}}function a44_0x3600(_0x44d1c8,_0x560e99){const _0x160fa1=a44_0x3201();return a44_0x3600=function(_0x39732c,_0x54d929){_0x39732c=_0x39732c-0x17c;let _0x3f7fb7=_0x160fa1[_0x39732c];return _0x3f7fb7;},a44_0x3600(_0x44d1c8,_0x560e99);}const unsubscribe=onSnapshot(readyPlayersRef,_0x5e6a4a=>{const _0x1ade4b=a44_0x47a4ac,_0x589b9d=[];_0x5e6a4a[_0x1ade4b(0x17e)](_0x4d29f9=>{const _0x3587db=_0x1ade4b,_0x1bfbee=_0x4d29f9[_0x3587db(0x182)]();if(_0x1bfbee[_0x3587db(0x196)]===!![]){const _0x32eed9={'id':_0x4d29f9['id'],'username':_0x1bfbee[_0x3587db(0x184)],'lastUpdated':_0x1bfbee[_0x3587db(0x1a4)]||new Date()};_0x589b9d[_0x3587db(0x190)](_0x32eed9),checkQueueTimeout(_0x32eed9);}}),updateQueueDisplay(_0x589b9d);},_0x5239b8=>{const _0x28f20a=a44_0x47a4ac;console[_0x28f20a(0x1a3)]('Error\x20in\x20queue\x20listener:',_0x5239b8);});window['addEventListener'](a44_0x47a4ac(0x1a1),()=>{unsubscribe();});