const a48_0x384b5f=a48_0x4c94,a48_0x2b898a=(function(){let _0xa2bdf5=!![];return function(_0x10d665,_0x6ca8cc){const _0x224b42=_0xa2bdf5?function(){if(_0x6ca8cc){const _0x5136ab=_0x6ca8cc['apply'](_0x10d665,arguments);return _0x6ca8cc=null,_0x5136ab;}}:function(){};return _0xa2bdf5=![],_0x224b42;};}()),a48_0x3ba192=a48_0x2b898a(this,function(){const _0x513169=a48_0x4c94;let _0x2e54d4;try{const _0x424fed=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x2e54d4=_0x424fed();}catch(_0x280253){_0x2e54d4=window;}const _0x15679e=_0x2e54d4['console']=_0x2e54d4[_0x513169(0x190)]||{},_0x4a2868=['log','warn','info','error',_0x513169(0x152),'table',_0x513169(0x171)];for(let _0x2d8996=0x0;_0x2d8996<_0x4a2868['length'];_0x2d8996++){const _0x3f157f=a48_0x2b898a['constructor']['prototype'][_0x513169(0x162)](a48_0x2b898a),_0x54bf4b=_0x4a2868[_0x2d8996],_0xf0308b=_0x15679e[_0x54bf4b]||_0x3f157f;_0x3f157f[_0x513169(0x188)]=a48_0x2b898a['bind'](a48_0x2b898a),_0x3f157f['toString']=_0xf0308b['toString']['bind'](_0xf0308b),_0x15679e[_0x54bf4b]=_0x3f157f;}});a48_0x3ba192();function a48_0x19d2(){const _0x4f05b6=['matchCache','\x20ELO\x20(','Unranked','evaluateAllRibbonsForPlayerOptimized','size',')\x20vs\x20Loser(','setCachedMatches','loserRating','evaluateRematchRibbonFromCount','loserUsername','BATCH_DELAY','\x20already\x20has\x20','üöÄ\x20Cache\x20hit\x20(memory)\x20for\x20','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22ribbon-image\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27;\x20this.nextElementSibling.style.display=\x27block\x27;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-fallback\x22\x20style=\x22display:\x20none;\x20background:\x20','\x20player\x20records\x20for\x20underdog\x20calculations...','exists','has','findIndex','CACHE_DURATION','bulkLoadPlayerData','playerDataCache','CLEANUP_INTERVAL','playersD3','evaluateSubGamerRibbonFromCount','üìä\x20','Standard','üíæ\x20Saving\x20','levels','image','üëë\x20Dominated\x20','exception','getCacheKey','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','data','level-5-plus','Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Gold\x20rank','Brick\x20Wall','rating','subgameType','üéØ\x20UNDERDOG:\x20','wins','Underdog\x20Ribbon','subgameMatches','add','rematchWins','getCachedMatches','bind','getCacheStats','players','üéØ\x20Found\x20','%\x20win\x20rate\x20over\x20','matchCount','uniqueMaps','getCachedData','join','getPlayerDataCached','../images/ribbons/Overachiever.png','totalMatches','getPlayerRibbonsCached','\x20is\x20#1:\x20','evaluateDominationRibbonFromRanks','trace','removeItem','Top\x20','Domination\x20Ribbon','push','../images/ribbons/toprank.png','):\x20','\x20ELO)','#FF7675','username','../images/ribbons/Subgamer.png','<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>','memoryCache','replace','delete','startsWith','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-name\x22>','keys','log','\x20in\x20','../images/ribbons/Rematch.png','Collector\x20Ribbon','docs','__proto__','\x20Pilot','level','eloRating','evaluateOverachieverRibbonFromCount','\x20or\x20','checkTopRankStatus','clearOldCache','console','ribbons','timestamp','savePlayerRibbonsOptimized','now','length','error','isUnderdogVictoryFast','level-2','forEach','\x20Ribbon','toLocaleTimeString','get','Error\x20saving\x20ribbons:','#96CEB4','‚úÖ\x20Found\x20player\x20data\x20for\x20','üöÄ\x20Bulk\x20loading\x20','undefined','key','autoCleanup','winnerUsername','evaluateCollectorRibbonFromCount','winnerRating','\x20-\x20Level\x20','mapPlayed','color','‚ö†Ô∏è\x20No\x20current\x20player\x20data\x20found\x20for\x20','lastCleanup','parse',';\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','stringify','setCachedData','evaluateTopRankRibbon','‚ö†Ô∏è\x20Brick\x20Wall\x20ribbon\x20requires\x2050+\x20matches\x20(player\x20has\x20','evaluateSocialiteRibbonFromCount','min'];a48_0x19d2=function(){return _0x4f05b6;};return a48_0x19d2();}import{auth,db}from'./firebase-config.js';import{doc,getDoc,setDoc,collection,query,where,getDocs,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const RIBBON_DEFINITIONS={'Rematch\x20Ribbon':{'description':'Beat\x20a\x20pilot\x20with\x20the\x20\x22Rematch\x22\x20subgame\x20selected','image':a48_0x384b5f(0x185),'color':'#FF6B6B'},'Overachiever\x20Ribbon':{'description':'Played\x20over\x20100\x20matches','image':a48_0x384b5f(0x16c),'color':a48_0x384b5f(0x19e),'levels':[0x64,0xc8,0x12c,0x190,0x1f4,0x258,0x2bc,0x320,0x384,0x3e8]},'Brick\x20Wall':{'description':'Amass\x20at\x20least\x2080%\x20overall\x20win\x20rate\x20percentage\x20(minimum\x2050\x20matches)','image':'../images/ribbons/BrickWall.png','color':'#F0932B','levels':[0x50,0x55,0x5a,0x5f,0x64]},'Collector\x20Ribbon':{'description':'Hold\x20more\x20than\x205\x20ribbons\x20at\x20a\x20time','image':'../images/ribbons/Collector.png','color':'#6C5CE7','levels':[0x5,0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32]},'Sub-Gamer\x20Ribbon':{'description':'Play\x20over\x2050\x20subgame\x20matches','image':a48_0x384b5f(0x17b),'color':'#A29BFE','levels':[0x32,0x64,0x96,0xc8,0xfa,0x12c,0x15e,0x190,0x1c2,0x1f4]},'Explorer\x20Ribbon':{'description':'Played\x20at\x20least\x2020\x20unique\x20maps','image':'../images/ribbons/Explorer.png','color':'#55A3FF','levels':[0x14,0x28,0x3c,0x50,0x64,0x78,0x8c,0xa0,0xb4,0xc8]},'Socialite\x20Ribbon':{'description':'Played\x20at\x20least\x2010\x20unique\x20pilots','image':'../images/ribbons/Socialite.png','color':a48_0x384b5f(0x179),'levels':[0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32,0x37]},'Underdog\x20Ribbon':{'description':'Beat\x20a\x20pilot\x20ranked\x20higher\x20than\x20you','image':'../images/ribbons/Underdog.png','color':'#FF9500','levels':[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0x9,0xa]},'Domination\x20Ribbon':{'description':'Beat\x205\x20unique\x20pilots\x20in\x20a\x20rank\x20(including\x20your\x20own)','image':'../images/ribbons/Domination.png','color':'#8E44AD','levels':[0x1,0x2,0x3,0x4,0x5]},'Top\x20Bronze\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Bronze\x20rank','image':a48_0x384b5f(0x176),'color':'#CD7F32'},'Top\x20Silver\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Silver\x20rank','image':a48_0x384b5f(0x176),'color':'#C0C0C0'},'Top\x20Gold\x20Pilot':{'description':a48_0x384b5f(0x157),'image':a48_0x384b5f(0x176),'color':'#FFD700'},'Top\x20Emerald\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Emerald\x20rank','image':'../images/ribbons/toprank.png','color':'#50C878'}};export const RIBBON_CSS='\x0a/*\x20Stats\x20integration\x20styles\x20*/\x0a.ribbon-section\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-top:\x201rem;\x0a}\x0a\x0a.ribbon-stat-item.full-width\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-bottom:\x200;\x0a}\x0a\x0a/*\x20Military\x20Ribbon\x20Rack\x20Styling\x20-\x20NO\x20OUTER\x20CONTAINER\x20*/\x0a.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20padding:\x200;\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20box-shadow:\x20none;\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20align-items:\x20flex-start;\x0a}\x0a\x0a.ribbon-rack-empty-inline\x20{\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20padding:\x2060px\x2040px;\x0a\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20border-radius:\x2012px;\x0a\x20\x20\x20\x20border:\x202px\x20solid\x20rgba(255,\x20255,\x20255,\x200.1);\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a}\x0a\x0a.empty-rack-text\x20{\x0a\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20font-style:\x20italic;\x0a\x20\x20\x20\x20font-size:\x201.2rem;\x0a}\x0a\x0a/*\x20Ribbon\x20Rows\x20*/\x0a.ribbon-row\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x206px;\x0a\x20\x20\x20\x20margin-bottom:\x206px;\x0a\x20\x20\x20\x20justify-content:\x20flex-start;\x0a}\x0a\x0a.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20margin-left:\x2060px;\x0a}\x0a\x0a/*\x20Individual\x20Military\x20Ribbon\x20Styling\x20-\x20FIXED\x20OVERFLOW\x20FOR\x20LEVEL\x20INDICATOR\x20*/\x0a.military-ribbon\x20{\x0a\x20\x20\x20\x20position:\x20relative;\x0a\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20transition:\x20transform\x200.3s\x20ease;\x0a\x20\x20\x20\x20flex-shrink:\x200;\x0a\x20\x20\x20\x20width:\x20190px;\x0a\x20\x20\x20\x20height:\x2060px;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#333;\x0a\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20overflow:\x20visible;\x20/*\x20Changed\x20from\x20hidden\x20to\x20visible\x20*/\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20margin:\x2012px\x2012px\x2012px\x200;\x20/*\x20Added\x20margin\x20to\x20prevent\x20clipping\x20*/\x0a}\x0a\x0a.military-ribbon:hover\x20{\x0a\x20\x20\x20\x20transform:\x20translateY(-4px);\x0a\x20\x20\x20\x20z-index:\x2010;\x0a}\x0a\x0a/*\x20Ribbon\x20image\x20container\x20to\x20handle\x20the\x20actual\x20overflow\x20*/\x0a.ribbon-image-container\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20border-radius:\x201px;\x0a}\x0a\x0a.ribbon-image\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20object-fit:\x20cover;\x0a\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20image-rendering:\x20crisp-edges;\x0a}\x0a\x0a.ribbon-fallback\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20text-shadow:\x200\x202px\x204px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a}\x0a\x0a.ribbon-name\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.9);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201.2;\x0a\x20\x20\x20\x20margin-top:\x206px;\x0a\x20\x20\x20\x20max-width:\x20120px;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20text-overflow:\x20ellipsis;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20-24px;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20font-weight:\x20500;\x0a}\x0a\x0a.military-ribbon:hover\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20display:\x20block;\x0a}\x0a\x0a.ribbon-devices\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x2050%;\x0a\x20\x20\x20\x20right:\x206px;\x0a\x20\x20\x20\x20transform:\x20translateY(-50%);\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x203px;\x0a\x20\x20\x20\x20z-index:\x205;\x0a}\x0a\x0a.ribbon-device\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20text-shadow:\x200\x200\x204px\x20rgba(0,0,0,0.9);\x0a\x20\x20\x20\x20filter:\x20drop-shadow(0\x202px\x204px\x20rgba(0,0,0,0.8));\x0a}\x0a\x0a.bronze-star\x20{\x0a\x20\x20\x20\x20color:\x20#CD7F32;\x0a}\x0a\x0a.silver-star\x20{\x0a\x20\x20\x20\x20color:\x20#C0C0C0;\x0a}\x0a\x0a.gold-star\x20{\x0a\x20\x20\x20\x20color:\x20#FFD700;\x0a}\x0a\x0a/*\x20Level\x20indicator\x20-\x20NOW\x20FULLY\x20VISIBLE\x20*/\x0a.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x20-8px;\x0a\x20\x20\x20\x20right:\x20-8px;\x0a\x20\x20\x20\x20background:\x20#FFD700;\x0a\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20width:\x2024px;\x0a\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#FFF;\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x208px\x20rgba(0,0,0,0.7);\x0a\x20\x20\x20\x20z-index:\x206;\x0a}\x0a\x0a/*\x20Custom\x20tooltip\x20-\x20only\x20this\x20one\x20will\x20show\x20*/\x0a.military-ribbon::before\x20{\x0a\x20\x20\x20\x20content:\x20attr(data-tooltip);\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20100%;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20background:\x20rgba(0,0,0,0.95);\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20padding:\x208px\x2012px;\x0a\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20pointer-events:\x20none;\x0a\x20\x20\x20\x20transition:\x20opacity\x200.3s;\x0a\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20margin-bottom:\x208px;\x0a\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(255,\x20255,\x20255,\x200.2);\x0a}\x0a\x0a.military-ribbon:hover::before\x20{\x0a\x20\x20\x20\x20opacity:\x201;\x0a}\x0a\x0a/*\x20Responsive\x20adjustments\x20*/\x0a@media\x20(max-width:\x201024px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2034px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x208px\x208px\x208px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-6px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-6px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2052px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-20px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20768px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2028px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x206px\x206px\x206px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x209px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-5px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-5px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2042px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2011px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-18px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x205px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20480px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2070px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x205px\x205px\x205px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2036px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x204px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-4px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-4px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a.stats-grid\x20.ribbon-section\x20{\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20padding:\x200;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20{\x0a\x20\x20\x20\x20background-color:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20padding:\x2025px;\x0a\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20.stat-label\x20{\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20text-transform:\x20uppercase;\x0a\x20\x20\x20\x20opacity:\x200.9;\x0a\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.95);\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a}\x0a\x0a.ribbon-level-indicator.level-1\x20{\x20background:\x20#808080;\x20}\x0a.ribbon-level-indicator.level-2\x20{\x20background:\x20#CD7F32;\x20}\x0a.ribbon-level-indicator.level-3\x20{\x20background:\x20#b9f1fc;\x20}\x0a.ribbon-level-indicator.level-4\x20{\x20background:\x20#FFD700;\x20}\x0a.ribbon-level-indicator.level-5-plus\x20{\x20background:\x20#50C878;\x20}\x0a';class RibbonCacheManager{constructor(){const _0x3ff620=a48_0x384b5f;this['memoryCache']=new Map(),this['CACHE_DURATION']=0x3c*0x3c*0x3e8,this['CACHE_KEY_PREFIX']='ribbon_cache_',this[_0x3ff620(0x1ab)]=Date['now'](),this[_0x3ff620(0x149)]=0x1e*0x3c*0x3e8;}['getCacheKey'](_0x2ba11e,_0x49c139){return''+this['CACHE_KEY_PREFIX']+_0x2ba11e+'_'+_0x49c139;}['getCachedData'](_0x3ac856,_0x243c57){const _0x4762f1=a48_0x384b5f;this['autoCleanup']();const _0x387723=this['getCacheKey'](_0x3ac856,_0x243c57);if(this['memoryCache'][_0x4762f1(0x144)](_0x387723)){const _0x53a278=this['memoryCache'][_0x4762f1(0x19c)](_0x387723);if(Date[_0x4762f1(0x194)]()-_0x53a278[_0x4762f1(0x192)]<this['CACHE_DURATION'])return console['log'](_0x4762f1(0x140)+_0x3ac856),_0x53a278['data'];this['memoryCache']['delete'](_0x387723);}const _0x18eb3f=localStorage['getItem'](_0x387723);if(_0x18eb3f)try{const _0x55e033=JSON[_0x4762f1(0x1ac)](_0x18eb3f);if(Date[_0x4762f1(0x194)]()-_0x55e033[_0x4762f1(0x192)]<this['CACHE_DURATION'])return this[_0x4762f1(0x17d)]['set'](_0x387723,{'data':_0x55e033['ribbons'],'timestamp':_0x55e033['timestamp'],'matchCount':_0x55e033[_0x4762f1(0x167)]}),console[_0x4762f1(0x183)]('üíæ\x20Cache\x20hit\x20(localStorage)\x20for\x20'+_0x3ac856),_0x55e033['ribbons'];localStorage[_0x4762f1(0x172)](_0x387723);}catch(_0x45a273){localStorage[_0x4762f1(0x172)](_0x387723);}return null;}[a48_0x384b5f(0x1af)](_0x59683e,_0x3e6dc1,_0x25bd64,_0x578f04){const _0x3b7bf8=a48_0x384b5f,_0x4332dd=this['getCacheKey'](_0x59683e,_0x3e6dc1),_0x44d036=Date[_0x3b7bf8(0x194)]();this['memoryCache']['set'](_0x4332dd,{'data':_0x25bd64,'timestamp':_0x44d036,'matchCount':_0x578f04});try{const _0x3e7d64={'ribbons':_0x25bd64,'matchCount':_0x578f04,'timestamp':_0x44d036,'version':0x3};localStorage['setItem'](_0x4332dd,JSON[_0x3b7bf8(0x1ae)](_0x3e7d64));}catch(_0x46ef1c){this['clearOldCache']();try{localStorage['setItem'](_0x4332dd,JSON['stringify'](data));}catch(_0x295bf1){}}}['shouldRefreshCache'](_0x563d6f,_0x5b2a81,_0x4f5450){const _0x35f5ee=a48_0x384b5f,_0x25ace3=this[_0x35f5ee(0x153)](_0x563d6f,_0x5b2a81);if(this[_0x35f5ee(0x17d)][_0x35f5ee(0x144)](_0x25ace3)){const _0x419185=this['memoryCache']['get'](_0x25ace3);return _0x419185['matchCount']!==_0x4f5450;}const _0x2caaa1=localStorage['getItem'](_0x25ace3);if(_0x2caaa1)try{const _0x250c01=JSON['parse'](_0x2caaa1);return _0x250c01['matchCount']!==_0x4f5450;}catch(_0x3cfa51){return!![];}return!![];}['invalidatePlayerCache'](_0x495d87,_0x4eb9dd){const _0x58b7b3=a48_0x384b5f,_0x1e1d9e=this['getCacheKey'](_0x495d87,_0x4eb9dd);this[_0x58b7b3(0x17d)][_0x58b7b3(0x17f)](_0x1e1d9e),localStorage['removeItem'](_0x1e1d9e),console['log']('üóëÔ∏è\x20Invalidated\x20cache\x20for\x20'+_0x495d87+'\x20('+_0x4eb9dd+')\x20-\x20new\x20match\x20detected');}['autoCleanup'](){const _0x401efa=a48_0x384b5f,_0x2fd354=Date['now']();_0x2fd354-this['lastCleanup']>this['CLEANUP_INTERVAL']&&(this['cleanup'](),this[_0x401efa(0x1ab)]=_0x2fd354);}['cleanup'](){const _0x566a11=a48_0x384b5f,_0x2b384c=Date[_0x566a11(0x194)]();let _0x24ded8=0x0,_0x2b6085=0x0;for(const [_0xa132f9,_0x37f07f]of this[_0x566a11(0x17d)]['entries']()){_0x2b384c-_0x37f07f['timestamp']>this['CACHE_DURATION']&&(this[_0x566a11(0x17d)]['delete'](_0xa132f9),_0x24ded8++);}for(let _0x44e6ff=localStorage['length']-0x1;_0x44e6ff>=0x0;_0x44e6ff--){const _0x3e0311=localStorage[_0x566a11(0x1a2)](_0x44e6ff);if(_0x3e0311&&_0x3e0311[_0x566a11(0x180)](this['CACHE_KEY_PREFIX']))try{const _0x20d3d4=JSON['parse'](localStorage['getItem'](_0x3e0311));_0x2b384c-_0x20d3d4[_0x566a11(0x192)]>this['CACHE_DURATION']&&(localStorage['removeItem'](_0x3e0311),_0x2b6085++);}catch(_0xbeeae2){localStorage[_0x566a11(0x172)](_0x3e0311),_0x2b6085++;}}}[a48_0x384b5f(0x18f)](){const _0xab7497=a48_0x384b5f,_0x1be0af=[];for(let _0x1b7249=0x0;_0x1b7249<localStorage['length'];_0x1b7249++){const _0x1f2184=localStorage[_0xab7497(0x1a2)](_0x1b7249);if(_0x1f2184&&_0x1f2184['startsWith'](this['CACHE_KEY_PREFIX']))try{const _0x329d35=JSON['parse'](localStorage['getItem'](_0x1f2184));_0x1be0af[_0xab7497(0x175)]({'key':_0x1f2184,'timestamp':_0x329d35['timestamp']});}catch(_0x2060f4){localStorage['removeItem'](_0x1f2184);}}_0x1be0af['sort']((_0x13f2d2,_0x380eb8)=>_0x13f2d2['timestamp']-_0x380eb8['timestamp']);const _0x10440e=Math['floor'](_0x1be0af['length']/0x2);for(let _0x116a08=0x0;_0x116a08<_0x10440e;_0x116a08++){localStorage['removeItem'](_0x1be0af[_0x116a08]['key']);}}['getCacheStats'](){const _0x4d2821=a48_0x384b5f;return{'memoryEntries':this['memoryCache'][_0x4d2821(0x138)],'lastCleanup':new Date(this['lastCleanup'])['toLocaleTimeString']()};}}function a48_0x4c94(_0x36e88e,_0x347521){const _0x3ba192=a48_0x19d2();return a48_0x4c94=function(_0x2b898a,_0x180c82){_0x2b898a=_0x2b898a-0x134;let _0x19d245=_0x3ba192[_0x2b898a];return _0x19d245;},a48_0x4c94(_0x36e88e,_0x347521);}class MatchCacheManager{constructor(){this['matchCache']=new Map(),this['CACHE_DURATION']=0xf*0x3c*0x3e8,this['lastCleanup']=Date['now']();}[a48_0x384b5f(0x161)](_0xed77c5,_0x3512d8){const _0x32f577=a48_0x384b5f;this[_0x32f577(0x1a3)]();const _0x1e35b4=_0xed77c5+'_'+_0x3512d8,_0x3ee881=this[_0x32f577(0x134)]['get'](_0x1e35b4);if(_0x3ee881&&Date[_0x32f577(0x194)]()-_0x3ee881[_0x32f577(0x192)]<this[_0x32f577(0x146)])return console[_0x32f577(0x183)]('üéØ\x20Cache\x20hit\x20(matches)\x20for\x20'+_0xed77c5),_0x3ee881['matches'];return _0x3ee881&&this[_0x32f577(0x134)]['delete'](_0x1e35b4),null;}['setCachedMatches'](_0x3b3a8a,_0x2165b2,_0x10d0a5){const _0x5c1e6a=_0x3b3a8a+'_'+_0x2165b2;this['matchCache']['set'](_0x5c1e6a,{'matches':_0x10d0a5,'timestamp':Date['now']()});}[a48_0x384b5f(0x1a3)](){const _0x5806df=a48_0x384b5f,_0x561c2a=Date[_0x5806df(0x194)]();if(_0x561c2a-this[_0x5806df(0x1ab)]>0x5*0x3c*0x3e8){let _0x54df13=0x0;for(const [_0x44108f,_0x3f6e13]of this[_0x5806df(0x134)]['entries']()){_0x561c2a-_0x3f6e13[_0x5806df(0x192)]>this['CACHE_DURATION']&&(this['matchCache']['delete'](_0x44108f),_0x54df13++);}this['lastCleanup']=_0x561c2a;}}['getCacheStats'](){const _0x176288=a48_0x384b5f;return{'entries':this['matchCache']['size'],'lastCleanup':new Date(this[_0x176288(0x1ab)])[_0x176288(0x19b)]()};}}class RibbonSystem{constructor(){const _0x4b9ecf=a48_0x384b5f;this['pendingEvaluations']=new Map(),this['batchTimer']=null,this[_0x4b9ecf(0x13e)]=0x32,this[_0x4b9ecf(0x148)]=new Map();}async[a48_0x384b5f(0x147)](_0x4731fe,_0x495199){const _0x49257a=_0x495199==='D1'?'players':_0x495199==='D2'?'playersD2':'playersD3',_0x2c48e4=collection(db,_0x49257a),_0x4c7085=await getDocs(_0x2c48e4),_0x546faf=new Map();return _0x4c7085['forEach'](_0x58648a=>{const _0x14cc8e=a48_0x4c94,_0xe91f84=_0x58648a['data']();_0xe91f84['username']&&(_0xe91f84['eloRating']!==undefined&&(_0xe91f84['rating']=_0xe91f84['eloRating']),_0x546faf['set'](_0xe91f84[_0x14cc8e(0x17a)],_0xe91f84));}),console['log']('üìä\x20Bulk\x20loaded\x20'+_0x546faf['size']+'\x20players\x20from\x20'+_0x49257a),_0x546faf;}async['evaluateAllRibbonsFromData'](_0x1cabd8,_0x151734,_0x1a72f8,_0x42a174){const _0x5b08a2=a48_0x384b5f,_0x5c57d7={},_0x4cc3ba=_0x151734['username'],_0x4d0f9a={'totalMatches':_0x1cabd8['length'],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0,'dominatedRanks':new Set()},_0x3a00ef=new Set();_0x1cabd8[_0x5b08a2(0x199)](_0x481df7=>{const _0x2fe481=_0x5b08a2,_0x257566=_0x481df7[_0x2fe481(0x1a4)]===_0x4cc3ba,_0x44e5ae=_0x257566?_0x481df7[_0x2fe481(0x13d)]:_0x481df7['winnerUsername'];if(_0x44e5ae)_0x3a00ef[_0x2fe481(0x15f)](_0x44e5ae);}),console['log']('üöÄ\x20Bulk\x20loading\x20'+_0x3a00ef['size']+_0x5b08a2(0x142));const _0x4683af=await this['bulkLoadPlayerData']([..._0x3a00ef,_0x4cc3ba],_0x42a174),_0x13997d=_0x4683af['get'](_0x4cc3ba);!_0x13997d&&console[_0x5b08a2(0x183)](_0x5b08a2(0x1aa)+_0x4cc3ba);const _0x4fef89={0x0:new Set(),0x1:new Set(),0x2:new Set(),0x3:new Set(),0x4:new Set()};_0x1cabd8[_0x5b08a2(0x199)](_0xd2223d=>{const _0x2786d7=_0x5b08a2,_0x5a1e51=_0xd2223d['winnerUsername']===_0x4cc3ba,_0x5e3ebf=_0x5a1e51?_0xd2223d['loserUsername']:_0xd2223d['winnerUsername'];if(_0x5a1e51){_0x4d0f9a['wins']++;_0xd2223d['subgameType']==='Rematch'&&_0x4d0f9a[_0x2786d7(0x160)]++;this[_0x2786d7(0x197)](_0xd2223d,_0x4cc3ba,_0x13997d,_0x4683af)&&_0x4d0f9a['underdogWins']++;const _0x1e0bcf=_0x4683af['get'](_0x5e3ebf);if(_0x1e0bcf){const _0x30755d=_0x1e0bcf['eloRating']||0x0,_0x369b87=getPlayerRankTier(_0x30755d);_0x4fef89[_0x369b87]['add'](_0x5e3ebf);}}_0xd2223d['subgameType']&&_0xd2223d['subgameType']!==_0x2786d7(0x14d)&&_0x4d0f9a['subgameMatches']++,_0xd2223d['mapPlayed']&&_0x4d0f9a[_0x2786d7(0x168)]['add'](_0xd2223d[_0x2786d7(0x1a8)]),_0x5e3ebf&&_0x4d0f9a['uniqueOpponents'][_0x2786d7(0x15f)](_0x5e3ebf);}),Object[_0x5b08a2(0x182)](_0x4fef89)['forEach'](_0x1496d9=>{const _0xf949bb=_0x5b08a2;_0x4fef89[_0x1496d9]['size']>=0x5&&_0x4d0f9a['dominatedRanks'][_0xf949bb(0x15f)](parseInt(_0x1496d9));}),console['log'](_0x5b08a2(0x165)+_0x4d0f9a['underdogWins']+'\x20underdog\x20victories\x20for\x20'+_0x4cc3ba),console[_0x5b08a2(0x183)](_0x5b08a2(0x151)+_0x4d0f9a['dominatedRanks']['size']+'\x20ranks:\x20['+Array['from'](_0x4d0f9a['dominatedRanks'])['map'](_0x1156a5=>getRankTierName(_0x1156a5))[_0x5b08a2(0x16a)](',\x20')+']');const _0x366aa2=_0x4d0f9a['totalMatches']>0x0?_0x4d0f9a[_0x5b08a2(0x15c)]/_0x4d0f9a['totalMatches']*0x64:0x0,_0x29bb3c=[['Overachiever\x20Ribbon',this['evaluateOverachieverRibbonFromCount'](_0x4d0f9a['totalMatches'],_0x1a72f8)],['Rematch\x20Ribbon',this['evaluateRematchRibbonFromCount'](_0x4d0f9a[_0x5b08a2(0x160)],_0x1a72f8)],['Sub-Gamer\x20Ribbon',this['evaluateSubGamerRibbonFromCount'](_0x4d0f9a['subgameMatches'],_0x1a72f8)],['Explorer\x20Ribbon',this['evaluateExplorerRibbonFromCount'](_0x4d0f9a['uniqueMaps'][_0x5b08a2(0x138)],_0x1a72f8)],['Socialite\x20Ribbon',this[_0x5b08a2(0x1b2)](_0x4d0f9a['uniqueOpponents'][_0x5b08a2(0x138)],_0x1a72f8)],['Brick\x20Wall',this['evaluateBrickWallRibbonFromWinRate'](_0x366aa2,_0x1a72f8,_0x4d0f9a['totalMatches'])],['Underdog\x20Ribbon',this['evaluateUnderdogRibbonFromCount'](_0x4d0f9a['underdogWins'],_0x1a72f8)],['Domination\x20Ribbon',this[_0x5b08a2(0x170)](_0x4d0f9a['dominatedRanks'][_0x5b08a2(0x138)],_0x1a72f8)]];_0x29bb3c['forEach'](([_0x5ca1df,_0x20969d])=>{_0x20969d&&(_0x5c57d7[_0x5ca1df]=_0x20969d);});const _0x124361=Object['keys'](_0x1a72f8)['length']+Object['keys'](_0x5c57d7)[_0x5b08a2(0x195)],_0x79a7a2=this['evaluateCollectorRibbonFromCount'](_0x124361,_0x1a72f8);return _0x79a7a2&&(_0x5c57d7[_0x5b08a2(0x186)]=_0x79a7a2),_0x5c57d7;}['evaluateDominationRibbonFromRanks'](_0xda2906,_0x233d4c){const _0x47f1c3=a48_0x384b5f;if(_0xda2906===0x0)return null;const _0x188d78=_0x233d4c[_0x47f1c3(0x174)]||{'level':0x0};if(_0xda2906>_0x188d78['level']){const _0xa985ab=[];for(let _0x52885d=0x0;_0x52885d<_0xda2906;_0x52885d++){_0xa985ab[_0x47f1c3(0x175)](getRankTierName(_0x52885d));}return console['log']('üëë\x20Domination\x20Ribbon\x20awarded:\x20Level\x20'+_0x188d78['level']+'\x20‚Üí\x20'+_0xda2906+'\x20(Dominated:\x20'+_0xa985ab['join'](',\x20')+')'),{'level':_0xda2906,'awardedAt':new Date(),'dominatedRanks':_0xa985ab};}return null;}async['checkTopRankStatus'](_0x62daa6,_0x47032b){const _0x5e95b1=a48_0x384b5f;try{const _0x49c0ab=_0x47032b==='D1'?_0x5e95b1(0x164):_0x47032b==='D2'?'playersD2':_0x5e95b1(0x14a),_0x1652c4=await this[_0x5e95b1(0x16b)](_0x62daa6,_0x47032b);if(!_0x1652c4||_0x1652c4['eloRating']===undefined)return console['log']('‚ùå\x20No\x20ELO\x20rating\x20data\x20for\x20'+_0x62daa6),null;const _0x46759d=_0x1652c4['eloRating'],_0x42553b=getPlayerRankTier(_0x46759d),_0x5d7edd=getRankTierName(_0x42553b);if(_0x5d7edd==='Unranked')return console['log']('‚ùå\x20'+_0x62daa6+'\x20is\x20Unranked\x20('+_0x46759d+_0x5e95b1(0x178)),null;console['log']('üîç\x20Checking\x20Top\x20'+_0x5d7edd+'\x20status\x20for\x20'+_0x62daa6+'\x20('+_0x46759d+'\x20ELO)');const _0x26ba35=collection(db,_0x49c0ab),_0x2bb54e=await getDocs(_0x26ba35);let _0x63a138=null,_0x4a04a6=-0x1,_0x7f74f1=0x0;_0x2bb54e['forEach'](_0x5644ba=>{const _0x4dc013=_0x5e95b1,_0x1f3acc=_0x5644ba['data'](),_0x36d456=_0x1f3acc[_0x4dc013(0x18b)]||0x0,_0x4d49a2=getPlayerRankTier(_0x36d456);_0x4d49a2===_0x42553b&&(_0x7f74f1++,_0x36d456>_0x4a04a6&&(_0x4a04a6=_0x36d456,_0x63a138=_0x1f3acc[_0x4dc013(0x17a)]));});const _0x3ee1e4=_0x63a138===_0x62daa6;return console['log'](_0x5e95b1(0x14c)+_0x5d7edd+'\x20Tier:\x20'+_0x7f74f1+'\x20players,\x20Top:\x20'+_0x63a138+'\x20('+_0x4a04a6+'\x20ELO),\x20'+_0x62daa6+_0x5e95b1(0x16f)+_0x3ee1e4),_0x3ee1e4?_0x5d7edd:null;}catch(_0x1b00e7){return console['error']('Error\x20checking\x20top\x20rank\x20status:',_0x1b00e7),null;}}async['evaluateTopRankRibbon'](_0x5dd4c9,_0x411c9e,_0x56d2fb){const _0x405128=a48_0x384b5f,_0x2e2bd2=await this[_0x405128(0x18e)](_0x5dd4c9,_0x411c9e),_0x13c9b4={};if(_0x2e2bd2){const _0x4dd9ee='Top\x20'+_0x2e2bd2+'\x20Pilot';if(RIBBON_DEFINITIONS[_0x4dd9ee]){const _0x304b93=_0x56d2fb[_0x4dd9ee];!_0x304b93?(console[_0x405128(0x183)]('üëë\x20NEW\x20Top\x20Rank\x20Achievement:\x20'+_0x5dd4c9+'\x20earned\x20'+_0x4dd9ee+'!'),_0x13c9b4[_0x4dd9ee]={'level':0x1,'awardedAt':new Date(),'rank':_0x2e2bd2,'achievedAt':new Date()}):console['log']('‚úÖ\x20'+_0x5dd4c9+_0x405128(0x13f)+_0x4dd9ee+'\x20-\x20No\x20changes\x20needed');}}return Object['keys'](_0x56d2fb)[_0x405128(0x199)](_0x169dca=>{const _0x58a114=_0x405128;_0x169dca[_0x58a114(0x180)](_0x58a114(0x173))&&_0x169dca['endsWith'](_0x58a114(0x189))&&(!_0x13c9b4[_0x169dca]&&console['log']('‚úÖ\x20Preserving\x20existing\x20'+_0x169dca));}),_0x13c9b4;}async['evaluateAllRibbonsForPlayerOptimized'](_0x27d3f0,_0x3fd350='D1'){const _0x5dc9ff=a48_0x384b5f;try{const _0x331940=ribbonCache[_0x5dc9ff(0x169)](_0x27d3f0,_0x3fd350);if(_0x331940){const _0x3079c2=await this['evaluateTopRankRibbon'](_0x27d3f0,_0x3fd350,_0x331940);if(Object['keys'](_0x3079c2)['length']>0x0){console[_0x5dc9ff(0x183)]('üÜï\x20New\x20top\x20rank\x20achievements\x20found\x20for\x20cached\x20player\x20'+_0x27d3f0),await this[_0x5dc9ff(0x193)](_0x27d3f0,_0x3079c2,_0x3fd350);const _0x4f1b2={..._0x331940,..._0x3079c2};return ribbonCache['setCachedData'](_0x27d3f0,_0x3fd350,_0x4f1b2,0x0),_0x4f1b2;}return _0x331940;}const [_0x2261bc,_0x3ac021]=await Promise['all']([this[_0x5dc9ff(0x16b)](_0x27d3f0,_0x3fd350),this['getPlayerRibbonsCached'](_0x27d3f0,_0x3fd350)]);if(!_0x2261bc)return{};const _0x52063d=_0x2261bc['matchesPlayed']||0x0,_0x251339=await this[_0x5dc9ff(0x1b0)](_0x27d3f0,_0x3fd350,_0x3ac021);if(!ribbonCache['shouldRefreshCache'](_0x27d3f0,_0x3fd350,_0x52063d)){if(Object[_0x5dc9ff(0x182)](_0x251339)['length']>0x0){await this[_0x5dc9ff(0x193)](_0x27d3f0,_0x251339,_0x3fd350);const _0x58a9ca={..._0x3ac021,..._0x251339};return ribbonCache['setCachedData'](_0x27d3f0,_0x3fd350,_0x58a9ca,_0x52063d),_0x58a9ca;}return ribbonCache[_0x5dc9ff(0x1af)](_0x27d3f0,_0x3fd350,_0x3ac021,_0x52063d),_0x3ac021;}const _0x3d2259=await this['getPlayerMatchesOptimized'](_0x27d3f0,_0x3fd350),_0x14e98d=await this['evaluateAllRibbonsFromData'](_0x3d2259,_0x2261bc,_0x3ac021,_0x3fd350);Object['assign'](_0x14e98d,_0x251339);Object['keys'](_0x14e98d)['length']>0x0&&(console['log'](_0x5dc9ff(0x14e)+Object[_0x5dc9ff(0x182)](_0x14e98d)['length']+'\x20new/updated\x20ribbons\x20for\x20'+_0x27d3f0),await this['savePlayerRibbonsOptimized'](_0x27d3f0,_0x14e98d,_0x3fd350));const _0x285da6={..._0x3ac021,..._0x14e98d};return ribbonCache['setCachedData'](_0x27d3f0,_0x3fd350,_0x285da6,_0x3d2259[_0x5dc9ff(0x195)]),_0x285da6;}catch(_0x1aa136){return console['error']('‚ùå\x20Error\x20in\x20ribbon\x20evaluation:',_0x1aa136),{};}}async['isUnderdogVictory'](_0x51f912,_0x63a7b9,_0xe7bcd4){const _0x2f98ad=a48_0x384b5f,_0x2853c9=_0x51f912[_0x2f98ad(0x1a4)]===_0x63a7b9;if(!_0x2853c9)return![];const _0x3f83b0=_0x51f912['loserUsername'],[_0x367fc9,_0x5cf72b]=await Promise['all']([this['getPlayerDataCached'](_0x63a7b9,_0xe7bcd4),this['getPlayerDataCached'](_0x3f83b0,_0xe7bcd4)]);if(!_0x367fc9||!_0x5cf72b)return console[_0x2f98ad(0x183)]('‚ö†Ô∏è\x20Missing\x20player\x20data\x20for\x20'+_0x63a7b9+_0x2f98ad(0x18d)+_0x3f83b0),![];const _0x6a5409=_0x367fc9['eloRating']||0x0,_0x3d6561=_0x5cf72b['eloRating']||0x0,_0x1eec10=getPlayerRankTier(_0x6a5409),_0x5ac0db=getPlayerRankTier(_0x3d6561);console['log']('üîç\x20Checking\x20underdog:\x20Winner('+_0x63a7b9+'):\x20'+_0x6a5409+'\x20ELO\x20('+getRankTierName(_0x1eec10)+_0x2f98ad(0x139)+_0x3f83b0+_0x2f98ad(0x177)+_0x3d6561+_0x2f98ad(0x135)+getRankTierName(_0x5ac0db)+')');if(_0x5ac0db>_0x1eec10)return console['log']('üéØ\x20UNDERDOG\x20VICTORY:\x20'+getRankTierName(_0x1eec10)+'\x20beat\x20'+getRankTierName(_0x5ac0db)+'!'),!![];return console['log']('‚ùå\x20Not\x20underdog:\x20'+getRankTierName(_0x1eec10)+'\x20vs\x20'+getRankTierName(_0x5ac0db)),![];}['isUnderdogVictoryFast'](_0x47c88a,_0xbc89f6,_0x58d233,_0x3ac71c){const _0x4befdb=a48_0x384b5f,_0x250d38=_0x47c88a['winnerUsername']===_0xbc89f6;if(!_0x250d38)return![];const _0x2adc15=_0x47c88a['loserUsername'],_0x30b424=_0x3ac71c['get'](_0x2adc15);if(!_0x58d233||!_0x30b424)return![];const _0x4048ba=_0x58d233['eloRating']||0x0,_0x4c9bec=_0x30b424['eloRating']||0x0,_0x22e08e=getPlayerRankTier(_0x4048ba),_0x528691=getPlayerRankTier(_0x4c9bec);if(_0x528691>_0x22e08e)return console['log'](_0x4befdb(0x15b)+getRankTierName(_0x22e08e)+'('+_0x4048ba+')\x20beat\x20'+getRankTierName(_0x528691)+'('+_0x4c9bec+')'),!![];return![];}async['evaluateAllRibbonsFromData'](_0x35bdcc,_0x59c3fc,_0x5b914e,_0x13d1ec){const _0x3039df=a48_0x384b5f,_0x27d574={},_0x41fe04=_0x59c3fc[_0x3039df(0x17a)],_0x38cc20={'totalMatches':_0x35bdcc[_0x3039df(0x195)],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0},_0x15d8a3=new Set();_0x35bdcc['forEach'](_0x59fb66=>{const _0x5b0ac8=_0x3039df,_0x5eb957=_0x59fb66['winnerUsername']===_0x41fe04,_0x4002ee=_0x5eb957?_0x59fb66[_0x5b0ac8(0x13d)]:_0x59fb66['winnerUsername'];if(_0x4002ee)_0x15d8a3['add'](_0x4002ee);}),console['log'](_0x3039df(0x1a0)+_0x15d8a3['size']+_0x3039df(0x142));const _0x95ccb5=await this['bulkLoadPlayerData']([..._0x15d8a3,_0x41fe04],_0x13d1ec),_0x107a50=_0x95ccb5[_0x3039df(0x19c)](_0x41fe04);!_0x107a50&&console[_0x3039df(0x183)](_0x3039df(0x1aa)+_0x41fe04);_0x35bdcc['forEach'](_0xf5d83c=>{const _0x4bb167=_0x3039df,_0x130285=_0xf5d83c['winnerUsername']===_0x41fe04,_0x22c1b9=_0x130285?_0xf5d83c['loserUsername']:_0xf5d83c['winnerUsername'];_0x130285&&(_0x38cc20[_0x4bb167(0x15c)]++,_0xf5d83c[_0x4bb167(0x15a)]==='Rematch'&&_0x38cc20['rematchWins']++,this['isUnderdogVictoryFast'](_0xf5d83c,_0x41fe04,_0x107a50,_0x95ccb5)&&_0x38cc20['underdogWins']++),_0xf5d83c[_0x4bb167(0x15a)]&&_0xf5d83c['subgameType']!=='Standard'&&_0x38cc20['subgameMatches']++,_0xf5d83c['mapPlayed']&&_0x38cc20['uniqueMaps']['add'](_0xf5d83c['mapPlayed']),_0x22c1b9&&_0x38cc20['uniqueOpponents']['add'](_0x22c1b9);}),console[_0x3039df(0x183)]('üéØ\x20Found\x20'+_0x38cc20['underdogWins']+'\x20underdog\x20victories\x20for\x20'+_0x41fe04);const _0x2fe1ec=_0x38cc20['totalMatches']>0x0?_0x38cc20[_0x3039df(0x15c)]/_0x38cc20[_0x3039df(0x16d)]*0x64:0x0,_0x391567=[['Overachiever\x20Ribbon',this[_0x3039df(0x18c)](_0x38cc20[_0x3039df(0x16d)],_0x5b914e)],['Rematch\x20Ribbon',this['evaluateRematchRibbonFromCount'](_0x38cc20[_0x3039df(0x160)],_0x5b914e)],['Sub-Gamer\x20Ribbon',this['evaluateSubGamerRibbonFromCount'](_0x38cc20[_0x3039df(0x15e)],_0x5b914e)],['Explorer\x20Ribbon',this['evaluateExplorerRibbonFromCount'](_0x38cc20['uniqueMaps']['size'],_0x5b914e)],['Socialite\x20Ribbon',this['evaluateSocialiteRibbonFromCount'](_0x38cc20['uniqueOpponents']['size'],_0x5b914e)],[_0x3039df(0x158),this['evaluateBrickWallRibbonFromWinRate'](_0x2fe1ec,_0x5b914e,_0x38cc20['totalMatches'])],[_0x3039df(0x15d),this['evaluateUnderdogRibbonFromCount'](_0x38cc20['underdogWins'],_0x5b914e)]];_0x391567['forEach'](([_0x4a5bc7,_0x3c337d])=>{_0x3c337d&&(_0x27d574[_0x4a5bc7]=_0x3c337d);});const _0x1260fb=Object['keys'](_0x5b914e)['length']+Object[_0x3039df(0x182)](_0x27d574)[_0x3039df(0x195)],_0x14de99=this['evaluateCollectorRibbonFromCount'](_0x1260fb,_0x5b914e);return _0x14de99&&(_0x27d574[_0x3039df(0x186)]=_0x14de99),_0x27d574;}async['getPlayerMatchesOptimized'](_0x462899,_0x45ccb7){const _0x3e005c=a48_0x384b5f,_0x40f7d9=matchCache[_0x3e005c(0x161)](_0x462899,_0x45ccb7);if(_0x40f7d9)return _0x40f7d9;try{const _0x344fa8=_0x45ccb7==='D1'?'approvedMatches':_0x45ccb7==='D2'?'approvedMatchesD2':'approvedMatchesD3',_0x46f1fe=collection(db,_0x344fa8),[_0x211da3,_0x520048]=await Promise['all']([getDocs(query(_0x46f1fe,where('winnerUsername','==',_0x462899))),getDocs(query(_0x46f1fe,where(_0x3e005c(0x13d),'==',_0x462899)))]),_0x20ffa6=new Set(),_0x2b8608=[];return _0x211da3['forEach'](_0x3a2e8c=>{const _0x2da93e=_0x3e005c;if(!_0x20ffa6[_0x2da93e(0x144)](_0x3a2e8c['id'])){_0x20ffa6[_0x2da93e(0x15f)](_0x3a2e8c['id']);const _0xd7ff2c={'id':_0x3a2e8c['id'],..._0x3a2e8c[_0x2da93e(0x155)]()};if(!_0xd7ff2c[_0x2da93e(0x1a6)])_0xd7ff2c['winnerRating']=0x0;if(!_0xd7ff2c['loserRating'])_0xd7ff2c['loserRating']=0x0;_0x2b8608['push'](_0xd7ff2c);}}),_0x520048['forEach'](_0x36f1aa=>{const _0x20cd30=_0x3e005c;if(!_0x20ffa6['has'](_0x36f1aa['id'])){_0x20ffa6[_0x20cd30(0x15f)](_0x36f1aa['id']);const _0x40d932={'id':_0x36f1aa['id'],..._0x36f1aa[_0x20cd30(0x155)]()};if(!_0x40d932['winnerRating'])_0x40d932['winnerRating']=0x0;if(!_0x40d932[_0x20cd30(0x13b)])_0x40d932['loserRating']=0x0;_0x2b8608[_0x20cd30(0x175)](_0x40d932);}}),matchCache[_0x3e005c(0x13a)](_0x462899,_0x45ccb7,_0x2b8608),_0x2b8608;}catch(_0x36c97b){return console[_0x3e005c(0x196)]('‚ùå\x20Error\x20fetching\x20matches:',_0x36c97b),[];}}async['getPlayerDataCached'](_0x48e4f7,_0x587142){const _0x3515a7=a48_0x384b5f;try{const _0xc500ac=_0x587142==='D1'?_0x3515a7(0x164):_0x587142==='D2'?'playersD2':_0x3515a7(0x14a),_0x2c0509=collection(db,_0xc500ac),_0x2e0d4a=query(_0x2c0509,where('username','==',_0x48e4f7),limit(0x1)),_0x232545=await getDocs(_0x2e0d4a);if(_0x232545['empty'])return console['log']('‚ùå\x20No\x20player\x20data\x20found\x20for\x20'+_0x48e4f7+_0x3515a7(0x184)+_0xc500ac),null;const _0x153b43=_0x232545[_0x3515a7(0x187)][0x0][_0x3515a7(0x155)]();return _0x153b43['eloRating']!==undefined&&(_0x153b43[_0x3515a7(0x159)]=_0x153b43[_0x3515a7(0x18b)]),console['log'](_0x3515a7(0x19f)+_0x48e4f7+':\x20ELO\x20'+_0x153b43[_0x3515a7(0x18b)]+',\x20Position\x20'+_0x153b43['position']),_0x153b43;}catch(_0x3815c4){return console['error']('Error\x20getting\x20player\x20data\x20for\x20'+_0x48e4f7+':',_0x3815c4),null;}}async['getPlayerRibbonsCached'](_0x11dd81,_0x497047){const _0x2dd218=a48_0x384b5f;try{const _0x7d073e='playerRibbons'+(_0x497047==='D1'?'':_0x497047),_0x192c84=doc(db,_0x7d073e,_0x11dd81),_0x2b9f07=await getDoc(_0x192c84);return _0x2b9f07[_0x2dd218(0x143)]()?_0x2b9f07['data']()[_0x2dd218(0x191)]||{}:{};}catch(_0x525c0d){return console[_0x2dd218(0x196)]('Error\x20getting\x20player\x20ribbons:',_0x525c0d),{};}}async['savePlayerRibbonsOptimized'](_0x1a7423,_0x2cb46a,_0x2b02e5){const _0x2b5b37=a48_0x384b5f;try{const _0x298a1b='playerRibbons'+(_0x2b02e5==='D1'?'':_0x2b02e5),_0x1d2d2b=doc(db,_0x298a1b,_0x1a7423),_0x7e853c=await this[_0x2b5b37(0x16e)](_0x1a7423,_0x2b02e5),_0x1be6ba={..._0x7e853c,..._0x2cb46a};await setDoc(_0x1d2d2b,{'username':_0x1a7423,'ladder':_0x2b02e5,'ribbons':_0x1be6ba,'lastUpdated':new Date()},{'merge':!![]});}catch(_0x3dba01){console['error'](_0x2b5b37(0x19d),_0x3dba01);}}['evaluateOverachieverRibbonFromCount'](_0x1ed0e1,_0x17ca09){const _0x22da2e=a48_0x384b5f,_0x15cb04=_0x17ca09['Overachiever\x20Ribbon']||{'level':0x0},_0x3bdaad=RIBBON_DEFINITIONS['Overachiever\x20Ribbon'][_0x22da2e(0x14f)],_0x215603=_0x3bdaad['findIndex'](_0xe35c99=>_0x1ed0e1<_0xe35c99),_0x29edd3=_0x215603===-0x1?_0x3bdaad['length']:_0x215603;if(_0x29edd3>_0x15cb04['level'])return{'level':_0x29edd3,'awardedAt':new Date()};return null;}[a48_0x384b5f(0x13c)](_0x104d2a,_0x2e3dc8){if(_0x104d2a===0x0)return null;const _0x183058=_0x2e3dc8['Rematch\x20Ribbon']||{'level':0x0};if(_0x104d2a>_0x183058['level'])return{'level':_0x104d2a,'awardedAt':new Date()};return null;}[a48_0x384b5f(0x14b)](_0x3a357e,_0x2eeffa){const _0x1bcfcc=a48_0x384b5f,_0x4dc2ba=_0x2eeffa['Sub-Gamer\x20Ribbon']||{'level':0x0},_0x44a293=RIBBON_DEFINITIONS['Sub-Gamer\x20Ribbon'][_0x1bcfcc(0x14f)],_0x378648=_0x44a293[_0x1bcfcc(0x145)](_0x27c15d=>_0x3a357e<_0x27c15d),_0x5625f4=_0x378648===-0x1?_0x44a293[_0x1bcfcc(0x195)]:_0x378648;if(_0x5625f4>_0x4dc2ba['level'])return{'level':_0x5625f4,'awardedAt':new Date()};return null;}['evaluateExplorerRibbonFromCount'](_0x3e0485,_0xc785d6){const _0x48a4b5=a48_0x384b5f,_0x54b575=_0xc785d6['Explorer\x20Ribbon']||{'level':0x0},_0x5c4915=RIBBON_DEFINITIONS['Explorer\x20Ribbon'][_0x48a4b5(0x14f)],_0x280160=_0x5c4915['findIndex'](_0x386c20=>_0x3e0485<_0x386c20),_0x18a55a=_0x280160===-0x1?_0x5c4915['length']:_0x280160;if(_0x18a55a>_0x54b575[_0x48a4b5(0x18a)])return{'level':_0x18a55a,'awardedAt':new Date()};return null;}[a48_0x384b5f(0x1b2)](_0x12d093,_0x34aa50){const _0x59d227=a48_0x384b5f,_0x35e552=_0x34aa50['Socialite\x20Ribbon']||{'level':0x0},_0x2c52d8=RIBBON_DEFINITIONS['Socialite\x20Ribbon']['levels'],_0x36482b=_0x2c52d8[_0x59d227(0x145)](_0x3b9170=>_0x12d093<_0x3b9170),_0x29d1cb=_0x36482b===-0x1?_0x2c52d8['length']:_0x36482b;if(_0x29d1cb>_0x35e552['level'])return{'level':_0x29d1cb,'awardedAt':new Date()};return null;}['evaluateBrickWallRibbonFromWinRate'](_0x1bac0c,_0x276676,_0x33c852){const _0x456aef=a48_0x384b5f;if(_0x33c852<0x32)return console['log'](_0x456aef(0x1b1)+_0x33c852+')'),null;const _0x412bfb=_0x276676['Brick\x20Wall']||{'level':0x0},_0x44d612=RIBBON_DEFINITIONS['Brick\x20Wall']['levels'],_0x2ae726=_0x44d612['findIndex'](_0x92ab88=>_0x1bac0c<_0x92ab88),_0x49644a=_0x2ae726===-0x1?_0x44d612[_0x456aef(0x195)]:_0x2ae726;if(_0x49644a>_0x412bfb['level'])return console['log']('üèÜ\x20Brick\x20Wall\x20ribbon\x20awarded:\x20'+_0x1bac0c['toFixed'](0x1)+_0x456aef(0x166)+_0x33c852+'\x20matches'),{'level':_0x49644a,'awardedAt':new Date(),'winRate':_0x1bac0c,'matchesPlayed':_0x33c852};return null;}[a48_0x384b5f(0x1a5)](_0x4e3c7e,_0x2d7793){const _0x2c8390=a48_0x384b5f,_0x491dc=_0x2d7793[_0x2c8390(0x186)]||{'level':0x0},_0x3d22c5=RIBBON_DEFINITIONS['Collector\x20Ribbon']['levels'],_0x4abba7=_0x3d22c5[_0x2c8390(0x145)](_0x20bef3=>_0x4e3c7e<_0x20bef3),_0x27e161=_0x4abba7===-0x1?_0x3d22c5['length']:_0x4abba7;if(_0x27e161>_0x491dc['level'])return{'level':_0x27e161,'awardedAt':new Date()};return null;}['evaluateUnderdogRibbonFromCount'](_0x2973aa,_0x4a2e77){const _0x1c3d55=a48_0x384b5f;if(_0x2973aa===0x0)return null;const _0x11e7ac=_0x4a2e77['Underdog\x20Ribbon']||{'level':0x0},_0x3033d9=RIBBON_DEFINITIONS[_0x1c3d55(0x15d)]['levels'];let _0x5e6a27=0x0;for(let _0x22f50e=0x0;_0x22f50e<_0x3033d9['length'];_0x22f50e++){if(_0x2973aa>=_0x3033d9[_0x22f50e])_0x5e6a27=_0x22f50e+0x1;else break;}if(_0x5e6a27>_0x11e7ac['level'])return console['log']('üèÜ\x20Underdog\x20Ribbon\x20upgrade:\x20Level\x20'+_0x11e7ac['level']+'\x20‚Üí\x20'+_0x5e6a27+'\x20('+_0x2973aa+'\x20underdog\x20wins)'),{'level':_0x5e6a27,'awardedAt':new Date()};return null;}}function getPlayerRankTier(_0x30848d){if(_0x30848d===undefined||_0x30848d===null)return 0x0;const _0x1d9cd3=Number(_0x30848d);if(isNaN(_0x1d9cd3))return 0x0;if(_0x1d9cd3>=0x7d0)return 0x4;if(_0x1d9cd3>=0x708)return 0x3;if(_0x1d9cd3>=0x640)return 0x2;if(_0x1d9cd3>=0x578)return 0x1;return 0x0;}function getRankTierName(_0x20d822){const _0x4e7386=a48_0x384b5f,_0x28b1af=[_0x4e7386(0x136),'Bronze','Silver','Gold','Emerald'];return _0x28b1af[_0x20d822]||_0x4e7386(0x136);}const ribbonSystem=new RibbonSystem(),ribbonCache=new RibbonCacheManager(),matchCache=new MatchCacheManager();typeof window!==a48_0x384b5f(0x1a1)&&(window['getRibbonCacheStats']=()=>{const _0x4e6515=a48_0x384b5f;return{'ribbon':ribbonCache[_0x4e6515(0x163)](),'match':matchCache['getCacheStats']()};});export async function evaluatePlayerRibbons(_0x11b48d,_0x247bfe='D1'){const _0x284693=a48_0x384b5f;return await ribbonSystem[_0x284693(0x137)](_0x11b48d,_0x247bfe);}export function getRibbonHTML(_0x5c4e68,_0x524343){const _0x555208=a48_0x384b5f,_0x4c2cc4=RIBBON_DEFINITIONS[_0x5c4e68];if(!_0x4c2cc4)return'';const _0x344d35=_0x524343['level']||0x1,_0x22d458=_0x5c4e68['replace'](_0x555208(0x19a),'')[_0x555208(0x17e)]('\x20Badge',''),_0x2a3a37=_0x28bfba=>{const _0x4c6841=_0x555208;if(_0x28bfba<=0x1)return'level-1';if(_0x28bfba<=0x2)return _0x4c6841(0x198);if(_0x28bfba<=0x3)return'level-3';if(_0x28bfba<=0x4)return'level-4';return _0x4c6841(0x156);},_0x1ca317=_0x22ef66=>{const _0x141cb2=_0x555208;if(_0x22ef66<=0x1)return'';const _0x405d35=[];if(_0x22ef66>=0x2&&_0x22ef66<=0x4){const _0x46c302=Math['min'](_0x22ef66-0x1,0x3);for(let _0x3e6668=0x0;_0x3e6668<_0x46c302;_0x3e6668++){_0x405d35['push'](_0x141cb2(0x17c));}}if(_0x22ef66>=0x5&&_0x22ef66<=0x7){_0x405d35['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20silver-star\x22></i>');const _0xeccca3=Math[_0x141cb2(0x1b3)](_0x22ef66-0x5,0x2);for(let _0x5e3bbc=0x0;_0x5e3bbc<_0xeccca3;_0x5e3bbc++){_0x405d35[_0x141cb2(0x175)]('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>');}}return _0x22ef66>=0x8&&_0x405d35[_0x141cb2(0x175)]('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20gold-star\x22></i>'),_0x405d35['length']>0x0?'<div\x20class=\x22ribbon-devices\x22>'+_0x405d35['join']('')+'</div>':'';},_0x469ea8=_0x4c2cc4['description']+_0x555208(0x1a7)+_0x344d35;return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22military-ribbon\x22\x20data-tooltip=\x22'+_0x469ea8+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-image-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22'+_0x4c2cc4[_0x555208(0x150)]+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22'+_0x5c4e68+_0x555208(0x141)+_0x4c2cc4[_0x555208(0x1a9)]+_0x555208(0x1ad)+_0x22d458['substring'](0x0,0x6)+_0x555208(0x154)+_0x1ca317(_0x344d35)+_0x555208(0x181)+_0x22d458+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x344d35>0x1?'<div\x20class=\x22ribbon-level-indicator\x20'+_0x2a3a37(_0x344d35)+'\x22>'+_0x344d35+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}