const a15_0x3d65b1=a15_0x160b;(function(_0x30f410,_0x553b8e){const _0x1bf711=a15_0x160b,_0x1aa4c7=_0x30f410();while(!![]){try{const _0x23b678=parseInt(_0x1bf711(0x206))/0x1*(-parseInt(_0x1bf711(0x1fd))/0x2)+-parseInt(_0x1bf711(0x23b))/0x3+-parseInt(_0x1bf711(0x1e7))/0x4*(parseInt(_0x1bf711(0x1e2))/0x5)+-parseInt(_0x1bf711(0x1bc))/0x6+parseInt(_0x1bf711(0x20f))/0x7*(parseInt(_0x1bf711(0x1f4))/0x8)+parseInt(_0x1bf711(0x216))/0x9+-parseInt(_0x1bf711(0x1f5))/0xa*(-parseInt(_0x1bf711(0x1f8))/0xb);if(_0x23b678===_0x553b8e)break;else _0x1aa4c7['push'](_0x1aa4c7['shift']());}catch(_0x361bda){_0x1aa4c7['push'](_0x1aa4c7['shift']());}}}(a15_0x180d,0xe20a6));const a15_0x5c8861=(function(){let _0x5598d5=!![];return function(_0x31e6d9,_0x5e6764){const _0x518037=_0x5598d5?function(){const _0x696678=a15_0x160b;if(_0x5e6764){const _0x5df3f3=_0x5e6764[_0x696678(0x1dd)](_0x31e6d9,arguments);return _0x5e6764=null,_0x5df3f3;}}:function(){};return _0x5598d5=![],_0x518037;};}()),a15_0x11d898=a15_0x5c8861(this,function(){const _0x2a0302=a15_0x160b,_0x59cd33={};_0x59cd33[_0x2a0302(0x246)]=_0x2a0302(0x247);const _0x3df36b=_0x59cd33;return a15_0x11d898[_0x2a0302(0x231)]()[_0x2a0302(0x208)](_0x3df36b[_0x2a0302(0x246)])[_0x2a0302(0x231)]()[_0x2a0302(0x210)](a15_0x11d898)[_0x2a0302(0x208)]('(((.+)+)+)+$');});a15_0x11d898();const a15_0x2e91f9=(function(){const _0x1a4b69=a15_0x160b,_0x1a4520={};_0x1a4520['hyryE']=function(_0x4620b2,_0x5c07cc){return _0x4620b2===_0x5c07cc;},_0x1a4520['jUbiT']=_0x1a4b69(0x1d7),_0x1a4520[_0x1a4b69(0x204)]='(((.+)+)+)+$',_0x1a4520[_0x1a4b69(0x212)]=function(_0x1da2cd,_0x33a6c9){return _0x1da2cd===_0x33a6c9;},_0x1a4520[_0x1a4b69(0x1d2)]=_0x1a4b69(0x22b),_0x1a4520['GSsXY']=_0x1a4b69(0x1d9);const _0x44e988=_0x1a4520;let _0x4d9515=!![];return function(_0x27e086,_0x14a0e8){const _0x45b158=_0x1a4b69,_0x46c737={};_0x46c737['pDtvn']=_0x44e988[_0x45b158(0x204)];const _0x3485e4=_0x46c737;if(_0x44e988[_0x45b158(0x212)](_0x44e988[_0x45b158(0x1d2)],_0x44e988[_0x45b158(0x23e)])){const _0x79dcbe=_0x237399?function(){const _0x5c7c58=_0x45b158;if(_0x287fa3){const _0x207389=_0x564b88[_0x5c7c58(0x1dd)](_0x153250,arguments);return _0x17f119=null,_0x207389;}}:function(){};return _0x17036c=![],_0x79dcbe;}else{const _0x1eafec=_0x4d9515?function(){const _0x39fd90=_0x45b158;if(_0x44e988[_0x39fd90(0x233)](_0x44e988[_0x39fd90(0x200)],'DYQeg'))return _0x3d6dd0[_0x39fd90(0x231)]()[_0x39fd90(0x208)](_0x39fd90(0x247))[_0x39fd90(0x231)]()[_0x39fd90(0x210)](_0x584888)[_0x39fd90(0x208)](_0x3485e4[_0x39fd90(0x245)]);else{if(_0x14a0e8){const _0x568ae6=_0x14a0e8[_0x39fd90(0x1dd)](_0x27e086,arguments);return _0x14a0e8=null,_0x568ae6;}}}:function(){};return _0x4d9515=![],_0x1eafec;}};}()),a15_0x3a47a6=a15_0x2e91f9(this,function(){const _0x457c85=a15_0x160b,_0x5405a0={'spyAX':function(_0xd1ebf5,_0x521fdc){return _0xd1ebf5(_0x521fdc);},'IixGo':function(_0x3cfc7e,_0x3e68e5){return _0x3cfc7e+_0x3e68e5;},'lcVtY':_0x457c85(0x1eb),'fvtMF':function(_0x3b373c){return _0x3b373c();},'fmupz':_0x457c85(0x214),'NWYJy':_0x457c85(0x202),'LMRmU':_0x457c85(0x229),'xfMzy':'error','PFqov':'exception','OJEGi':_0x457c85(0x24c),'flFsO':_0x457c85(0x211),'EYKGm':function(_0x1484d6,_0x8960a8){return _0x1484d6<_0x8960a8;},'aIHUI':function(_0x6dabf3,_0x46bc6f){return _0x6dabf3===_0x46bc6f;},'VneXv':_0x457c85(0x1e8),'QZQIH':_0x457c85(0x224)};let _0xcc2c83;try{const _0x3252cb=_0x5405a0[_0x457c85(0x1f9)](Function,_0x5405a0[_0x457c85(0x227)](_0x5405a0[_0x457c85(0x227)](_0x5405a0[_0x457c85(0x1d0)],_0x457c85(0x226)),');'));_0xcc2c83=_0x5405a0[_0x457c85(0x238)](_0x3252cb);}catch(_0x5d1329){_0xcc2c83=window;}const _0x2332be=_0xcc2c83['console']=_0xcc2c83[_0x457c85(0x1ca)]||{},_0x2b3068=[_0x5405a0[_0x457c85(0x1fe)],_0x5405a0['NWYJy'],_0x5405a0[_0x457c85(0x222)],_0x5405a0[_0x457c85(0x1c2)],_0x5405a0[_0x457c85(0x24b)],_0x5405a0['OJEGi'],_0x5405a0['flFsO']];for(let _0x41914f=0x0;_0x5405a0[_0x457c85(0x24f)](_0x41914f,_0x2b3068[_0x457c85(0x1fa)]);_0x41914f++){if(_0x5405a0[_0x457c85(0x21d)](_0x5405a0[_0x457c85(0x1ff)],_0x5405a0['QZQIH'])){const _0x463e97=_0x476121[_0x457c85(0x1dd)](_0xea07ae,arguments);return _0x2d5c57=null,_0x463e97;}else{const _0x40c9a0=a15_0x2e91f9[_0x457c85(0x210)]['prototype'][_0x457c85(0x209)](a15_0x2e91f9),_0xbd2edb=_0x2b3068[_0x41914f],_0x2d8fea=_0x2332be[_0xbd2edb]||_0x40c9a0;_0x40c9a0[_0x457c85(0x1e5)]=a15_0x2e91f9[_0x457c85(0x209)](a15_0x2e91f9),_0x40c9a0[_0x457c85(0x231)]=_0x2d8fea[_0x457c85(0x231)][_0x457c85(0x209)](_0x2d8fea),_0x2332be[_0xbd2edb]=_0x40c9a0;}}});a15_0x3a47a6();import{collection,addDoc,serverTimestamp,query,orderBy,getDocs,limit,startAfter,doc,setDoc,getDoc,where}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db}from'./firebase-config.js';const a15_0x34da3d={};a15_0x34da3d['name']=a15_0x3d65b1(0x1e6),a15_0x34da3d[a15_0x3d65b1(0x20e)]=0x7d0;const a15_0x2d0202={};a15_0x2d0202[a15_0x3d65b1(0x248)]=a15_0x3d65b1(0x1c9),a15_0x2d0202[a15_0x3d65b1(0x20e)]=0x708;const a15_0x30ccbf={};a15_0x30ccbf[a15_0x3d65b1(0x248)]=a15_0x3d65b1(0x23d),a15_0x30ccbf[a15_0x3d65b1(0x20e)]=0x640;const a15_0x139988={};a15_0x139988[a15_0x3d65b1(0x248)]=a15_0x3d65b1(0x1f6),a15_0x139988['elo']=0x578;const a15_0x2675b5={};a15_0x2675b5[a15_0x3d65b1(0x248)]='Unranked',a15_0x2675b5[a15_0x3d65b1(0x20e)]=0x4b0;const ELO_THRESHOLDS_D3=[a15_0x34da3d,a15_0x2d0202,a15_0x30ccbf,a15_0x139988,a15_0x2675b5];function a15_0x180d(){const _0x1ba704=['Bwf0y2G','vLnoB2u','rdmGruXpigHPC3rVCNKGCMvJB3jKzwqGzM9Yia','yMv0AM0','s3rkDfO','Bg5HBvi','yLDhrxi','wLn3wwC','ChjVBw90Aw9U','yxbWBhK','DxnLCM5HBwu','vejmz1q','ChjLDMLVDxnfBg8','t1HTBgC','nwP4ve1ZrG','wMrHu1i','t01yDKe','x19WCM90B19F','rw1LCMfSza','ntmWmJi3nLjUDhr3ra','AvDesu0','D2fzuMC','qMrjtLC','CMv0DxjUicHMDw5JDgLVBIGPia','DgLTzxn0yw1W','ywXS','B3bWB25LBNq','z2DbAKq','r2Hbu0O','tgftu2O','uvDizNy','rw9nB0q','mJa4vwzpvvvR','ndKXotu0mfL2wxPcva','qNjVBNPL','Bg9ZzxjvC2vYBMfTzq','mtmYEKzozNLc','C3b5qvG','BgvUz3rO','vfvMCuK','u0rZCwC','neLizNfTzG','zM11ChO','vM5Lwhy','ALvIAvq','rvHtueG','D2fYBG','D1L3wwG','sxL4DLO','r29Rvum','mZqWndK2zwPnEuzN','s3HQD1y','C2vHCMnO','yMLUza','EwjXCeu','AgfZtw9Yzq','zgf0yq','q052A08','zwXV','ndGYnZLvq0rLweW','y29UC3rYDwn0B3i','DhjHy2u','quTuExK','yxbWCM92zwrnyxrJAgvZrdm','Bg9N','BNj6y2K','mZKZodq5mhfcBfLqCG','v2jlCfi','ChjVDg90ExbL','AMPQChC','reXwBfO','tgLMDgC','rxjYB3iGz2v0DgLUzYbemYb1C2vYBMfTztO','yuLivuK','zxHPC3rZ','wM5kD1G','C25qu3C','zgvZyW','te1sBvu','zwXVsgLZDg9YEuqZ','DgrPsfe','DNPry3q','E30Uy29UC3rYDwn0B3iOiNjLDhvYBIb0AgLZiIKOicK','swL4r28','tg5sCMm','Aw5MBW','ugnHDLC','z3zRq2i','Du5zEvq','uxz0sxa','A2rSu2m','uwvszuy','wxfyyMm','Dg9tDhjPBMC','vMPYCeq','AhLYEuu','C0neC1C','ueHXB3e','zw50CMLLCW','AwTlEuy','zNz0tuy','swnwA1e','v2vLC1u','ntmZmtm3nuvvruzWBW','CgXHEwvYC0qZ','u2LSDMvY','r1nZwfK','sMT2uhK','BvbWB0q','ve5tzhu','zgvTB3rPB24','y3LbExa','zgTZBeC','Cer0DM4','zwTiEu8','kcGOlISPkYKRksSK','BMfTzq','vw5Yyw5Rzwq','D2LUBMvYswq','uezXB3y','DgfIBgu','zxjYB3i','turUDuO','rvLlr20','CgXHEwvY','D2LUBMvYvxnLCM5HBwu','rvfOCxi','ve1Ju1G','mta4nJq5otjkCMTVqwy','EeDju0C','vePewwK','twvvs3G','yKD2rhK','tMTwveS','EgznENK','r2fHC1u','zg9JCW','AhzYrMK','EwHeANi','CvHyuhy','wuzOqLi','r29Sza','y29UC29Szq','sefvAwW','v3HOA24','C2L6zq','ugf1wue','zw1WDhK','BgnwDfK','z2jfrvq','sgrjCKe','vw5RBM93BIbqBgf5zxi'];a15_0x180d=function(){return _0x1ba704;};return a15_0x180d();}let lastVisibleD3=null;function a15_0x160b(_0x581872,_0x5beaf5){const _0x32d521=a15_0x180d();return a15_0x160b=function(_0x3a47a6,_0x2e91f9){_0x3a47a6=_0x3a47a6-0x1ba;let _0x7e1cd4=_0x32d521[_0x3a47a6];if(a15_0x160b['bjeovN']===undefined){var _0xfb9c9b=function(_0x160bd6){const _0x46e990='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x4b57db='',_0x46dfcb='',_0x2bf4ad=_0x4b57db+_0xfb9c9b;for(let _0x23e016=0x0,_0x1a069c,_0x12baf9,_0x3f9451=0x0;_0x12baf9=_0x160bd6['charAt'](_0x3f9451++);~_0x12baf9&&(_0x1a069c=_0x23e016%0x4?_0x1a069c*0x40+_0x12baf9:_0x12baf9,_0x23e016++%0x4)?_0x4b57db+=_0x2bf4ad['charCodeAt'](_0x3f9451+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x1a069c>>(-0x2*_0x23e016&0x6)):_0x23e016:0x0){_0x12baf9=_0x46e990['indexOf'](_0x12baf9);}for(let _0x668f7=0x0,_0x20d05a=_0x4b57db['length'];_0x668f7<_0x20d05a;_0x668f7++){_0x46dfcb+='%'+('00'+_0x4b57db['charCodeAt'](_0x668f7)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x46dfcb);};a15_0x160b['GdajOd']=_0xfb9c9b,_0x581872=arguments,a15_0x160b['bjeovN']=!![];}const _0x11d898=_0x32d521[0x0],_0x5c8861=_0x3a47a6+_0x11d898,_0x180df1=_0x581872[_0x5c8861];if(!_0x180df1){const _0xd5acd7=function(_0x398320){this['HZiNkF']=_0x398320,this['cfIqtN']=[0x1,0x0,0x0],this['MpQjVv']=function(){return'newState';},this['GNhlsh']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['HcoGWG']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0xd5acd7['prototype']['CjBpYQ']=function(){const _0x237399=new RegExp(this['GNhlsh']+this['HcoGWG']),_0x20d6b1=_0x237399['test'](this['MpQjVv']['toString']())?--this['cfIqtN'][0x1]:--this['cfIqtN'][0x0];return this['rAoHPq'](_0x20d6b1);},_0xd5acd7['prototype']['rAoHPq']=function(_0x1882ac){if(!Boolean(~_0x1882ac))return _0x1882ac;return this['VvCxFp'](this['HZiNkF']);},_0xd5acd7['prototype']['VvCxFp']=function(_0x2b9e8c){for(let _0x10161e=0x0,_0x17036c=this['cfIqtN']['length'];_0x10161e<_0x17036c;_0x10161e++){this['cfIqtN']['push'](Math['round'](Math['random']())),_0x17036c=this['cfIqtN']['length'];}return _0x2b9e8c(this['cfIqtN'][0x0]);},new _0xd5acd7(a15_0x160b)['CjBpYQ'](),_0x7e1cd4=a15_0x160b['GdajOd'](_0x7e1cd4),_0x581872[_0x5c8861]=_0x7e1cd4;}else _0x7e1cd4=_0x180df1;return _0x7e1cd4;},a15_0x160b(_0x581872,_0x5beaf5);}async function getUsernameByIdD3(_0xde080){const _0x1a2a37=a15_0x3d65b1,_0x2508fc={'vzQct':function(_0x452f7e,_0x111f49,_0x24794c,_0x5d3a3b){return _0x452f7e(_0x111f49,_0x24794c,_0x5d3a3b);},'QiNPr':function(_0x10a55f,_0x2cc004,_0x5cc511){return _0x10a55f(_0x2cc004,_0x5cc511);},'QWHfv':_0x1a2a37(0x1ec),'TJDYi':function(_0x113617,_0x5d2aef){return _0x113617(_0x5d2aef);},'hvrFi':function(_0x1446ac,_0x12b106){return _0x1446ac+_0x12b106;},'JkvPy':_0x1a2a37(0x1eb),'wkOiC':'{}.constructor(\x22return\x20this\x22)(\x20)','IcVkQ':function(_0x2c5a95){return _0x2c5a95();},'vUniB':'log','BdINW':_0x1a2a37(0x202),'KtJtZ':_0x1a2a37(0x229),'uWptm':_0x1a2a37(0x24d),'KofQj':'table','OMXvA':_0x1a2a37(0x211),'NkVTK':function(_0x4c14c3,_0x474239){return _0x4c14c3<_0x474239;},'NSFTh':function(_0x472d94,_0x5d5d47){return _0x472d94!==_0x5d5d47;},'waYRg':'bRssm','EoMoD':_0x1a2a37(0x1d3),'VSNoe':function(_0x116da1,_0x518ae9){return _0x116da1(_0x518ae9);},'PauYA':function(_0x56b760,_0x2dd011,_0x57ed1f,_0x519b8d){return _0x56b760(_0x2dd011,_0x57ed1f,_0x519b8d);},'TMcSX':_0x1a2a37(0x23c),'LaSSj':'tvlgt','mPpoD':function(_0x45fca5,_0x487bcd,_0x362d88,_0x79bbe3){return _0x45fca5(_0x487bcd,_0x362d88,_0x79bbe3);},'xGISG':function(_0x4d7302,_0x5029de,_0x5e2f8c){return _0x4d7302(_0x5029de,_0x5e2f8c);},'WeesU':function(_0x424f17,_0x4eff6b,_0x1e0c26,_0x4d255f){return _0x424f17(_0x4eff6b,_0x1e0c26,_0x4d255f);},'ikKyF':_0x1a2a37(0x24a),'QeReF':function(_0x523c03,_0x5ee1c4,_0x156064){return _0x523c03(_0x5ee1c4,_0x156064);},'TBLgT':_0x1a2a37(0x213),'VjrpD':function(_0x12204a,_0x495605,_0x53e7f1,_0x203bce){return _0x12204a(_0x495605,_0x53e7f1,_0x203bce);},'ZnJwX':'loserId','PHqoq':function(_0x521bb9,_0x121c95){return _0x521bb9(_0x121c95);},'uNYyT':_0x1a2a37(0x21c)};try{if(_0x2508fc['NSFTh'](_0x2508fc['waYRg'],_0x2508fc[_0x1a2a37(0x1e9)]))_0x839b35=_0x2508fc[_0x1a2a37(0x225)](_0x6111a4,_0x4b1422,_0x2508fc['QiNPr'](_0x2362d8,_0x2508fc[_0x1a2a37(0x1f2)],_0x1a2a37(0x221)),_0x2508fc[_0x1a2a37(0x1be)](_0x2833b8,_0x259814));else{if(!_0xde080)return _0x2508fc[_0x1a2a37(0x1f3)];const _0x2ec745=await _0x2508fc[_0x1a2a37(0x1d5)](getDoc,_0x2508fc[_0x1a2a37(0x1ce)](doc,db,_0x2508fc[_0x1a2a37(0x1bb)],_0xde080));if(_0x2ec745[_0x1a2a37(0x21e)]()){if('DYufc'!==_0x2508fc[_0x1a2a37(0x1f1)])return _0x2ec745[_0x1a2a37(0x20c)]()[_0x1a2a37(0x1de)]||_0x2508fc[_0x1a2a37(0x1f3)];else{const _0x3370c5=_0x4b22de[_0x1a2a37(0x1dd)](_0x2bcaac,arguments);return _0x5b4122=null,_0x3370c5;}}const _0x4162f2=await getDocs(_0x2508fc[_0x1a2a37(0x240)](query,_0x2508fc[_0x1a2a37(0x1bd)](collection,db,'approvedMatchesD3'),_0x2508fc[_0x1a2a37(0x23a)](where,_0x2508fc[_0x1a2a37(0x237)],'==',_0xde080),_0x2508fc['TJDYi'](limit,0x1)));if(!_0x4162f2[_0x1a2a37(0x1cf)])return _0x4162f2[_0x1a2a37(0x1c4)][0x0][_0x1a2a37(0x20c)]()[_0x1a2a37(0x251)]||_0x1a2a37(0x1d3);const _0x37d905=await _0x2508fc['VSNoe'](getDocs,query(_0x2508fc[_0x1a2a37(0x22f)](collection,db,_0x2508fc[_0x1a2a37(0x1df)]),_0x2508fc[_0x1a2a37(0x232)](where,_0x2508fc[_0x1a2a37(0x21f)],'==',_0xde080),_0x2508fc[_0x1a2a37(0x235)](limit,0x1)));if(!_0x37d905['empty'])return _0x37d905[_0x1a2a37(0x1c4)][0x0][_0x1a2a37(0x20c)]()[_0x1a2a37(0x1f7)]||_0x2508fc[_0x1a2a37(0x1f3)];return _0x2508fc[_0x1a2a37(0x1f3)];}}catch(_0x11fd5c){if('TmBPV'===_0x1a2a37(0x1c3)){let _0xd9b398;try{const _0x216be5=_0x5164a1(dskvHV[_0x1a2a37(0x1c5)](dskvHV[_0x1a2a37(0x1c5)](dskvHV[_0x1a2a37(0x23f)],dskvHV['wkOiC']),');'));_0xd9b398=dskvHV[_0x1a2a37(0x239)](_0x216be5);}catch(_0x40a447){_0xd9b398=_0x313a67;}const _0x527b07=_0xd9b398['console']=_0xd9b398[_0x1a2a37(0x1ca)]||{},_0x1b2e96=[dskvHV['vUniB'],dskvHV[_0x1a2a37(0x1ea)],dskvHV[_0x1a2a37(0x1d8)],dskvHV['uWptm'],'exception',dskvHV['KofQj'],dskvHV[_0x1a2a37(0x1e4)]];for(let _0x500305=0x0;dskvHV[_0x1a2a37(0x1c1)](_0x500305,_0x1b2e96[_0x1a2a37(0x1fa)]);_0x500305++){const _0xfdd771=_0x59d5ae['constructor'][_0x1a2a37(0x218)][_0x1a2a37(0x209)](_0x1191b9),_0x5c9111=_0x1b2e96[_0x500305],_0x2a7d3b=_0x527b07[_0x5c9111]||_0xfdd771;_0xfdd771[_0x1a2a37(0x1e5)]=_0xcf727e[_0x1a2a37(0x209)](_0xe0530d),_0xfdd771[_0x1a2a37(0x231)]=_0x2a7d3b[_0x1a2a37(0x231)][_0x1a2a37(0x209)](_0x2a7d3b),_0x527b07[_0x5c9111]=_0xfdd771;}}else return console[_0x1a2a37(0x24d)](_0x2508fc[_0x1a2a37(0x22c)],_0x11fd5c),_0x1a2a37(0x1d3);}}export async function recordEloChangeD3({playerId:_0x415d93,previousElo:_0x1473be,newElo:_0x131c70,opponentId:_0x404d15,matchResult:_0x4e8433,previousPosition:_0x5ae187,newPosition:_0x55f14d,isPromotion:isPromotion=![],isDemotion:isDemotion=![],matchId:_0x2cb179,timestamp:_0x4af577}){const _0x5123ae=a15_0x3d65b1,_0x19c218={'WbKpR':function(_0x2ecced,_0xbb2729){return _0x2ecced(_0xbb2729);},'sKFGM':function(_0x1796ea,_0xb16a9b){return _0x1796ea+_0xb16a9b;},'ZSwYg':function(_0x2a6fa0,_0x53096b){return _0x2a6fa0+_0x53096b;},'DLVlZ':_0x5123ae(0x1eb),'jjjpw':'Unknown\x20Player','Liftg':function(_0x42ddc7,_0x82c76){return _0x42ddc7!==_0x82c76;},'nrzci':'xTgNw','ybqpE':function(_0x32a029,_0x57f217){return _0x32a029(_0x57f217);},'LnRrc':function(_0x4a4483,_0x455cec,_0x27c0d3){return _0x4a4483(_0x455cec,_0x27c0d3);},'GBtBS':_0x5123ae(0x1d4),'pFYiC':_0x5123ae(0x1dc),'OXmlg':_0x5123ae(0x242),'bGvDy':_0x5123ae(0x249),'Wxhkn':function(_0x52efd7,_0x4f3eb6){return _0x52efd7>=_0x4f3eb6;},'GokUC':_0x5123ae(0x1e6),'gRBuj':_0x5123ae(0x1c9),'HAUil':function(_0x48830a,_0x57f067){return _0x48830a>=_0x57f067;},'hLkht':_0x5123ae(0x23d),'kwJBJ':function(_0x55e3f6,_0x2ec6dc){return _0x55e3f6>=_0x2ec6dc;},'MeUKx':_0x5123ae(0x1f6),'YFhBR':function(_0x4c3add,_0x52e544,_0x2014a9){return _0x4c3add(_0x52e544,_0x2014a9);},'ggAjD':function(_0x5dc48d,_0x58b18d){return _0x5dc48d-_0x58b18d;},'qXXPv':function(_0x125c37,_0x84dd81){return _0x125c37===_0x84dd81;},'cksmC':_0x5123ae(0x1fc)};try{if(_0x19c218[_0x5123ae(0x21b)](_0x5123ae(0x1c6),_0x19c218[_0x5123ae(0x215)])){const _0x1358fd=_0x19c218[_0x5123ae(0x20a)](doc,_0x19c218[_0x5123ae(0x228)](collection,db,_0x5123ae(0x223)));let _0x5247b0=_0x19c218['GBtBS'];if(isPromotion)_0x5247b0=_0x19c218['pFYiC'];if(isDemotion)_0x5247b0=_0x19c218[_0x5123ae(0x1e1)];let _0x5802b3=_0x19c218[_0x5123ae(0x1c0)];if(_0x19c218['Wxhkn'](_0x131c70,0x7d0))_0x5802b3=_0x19c218[_0x5123ae(0x205)];else{if(_0x19c218[_0x5123ae(0x1cc)](_0x131c70,0x708))_0x5802b3=_0x19c218['gRBuj'];else{if(_0x19c218[_0x5123ae(0x1cb)](_0x131c70,0x640))_0x5802b3=_0x19c218['hLkht'];else{if(_0x19c218['kwJBJ'](_0x131c70,0x578))_0x5802b3=_0x19c218[_0x5123ae(0x1bf)];}}}return await _0x19c218[_0x5123ae(0x1c8)](setDoc,_0x1358fd,{'type':_0x5247b0,'player':_0x415d93,'opponent':_0x404d15,'previousElo':_0x1473be,'newElo':_0x131c70,'change':_0x19c218[_0x5123ae(0x1ef)](_0x131c70,_0x1473be),'matchResult':_0x4e8433,'previousPosition':_0x5ae187,'newPosition':_0x55f14d,'rankAchieved':_0x5802b3,'matchId':_0x2cb179,'timestamp':_0x4af577||serverTimestamp(),'gameMode':'D3'}),console[_0x5123ae(0x214)](_0x5123ae(0x1d6)+_0x415d93),!![];}else{const _0x3dad71=OWapDr[_0x5123ae(0x217)](_0x2fa76e,OWapDr['sKFGM'](OWapDr[_0x5123ae(0x1db)](OWapDr[_0x5123ae(0x21a)],_0x5123ae(0x226)),');'));_0x2c0899=_0x3dad71();}}catch(_0x52490b){if(_0x19c218[_0x5123ae(0x1c7)](_0x5123ae(0x1fc),_0x19c218['cksmC'])){console[_0x5123ae(0x24d)]('Error\x20recording\x20D3\x20ELO\x20history:',_0x52490b);throw _0x52490b;}else return _0x2cb00b['data']()['username']||_0x19c218[_0x5123ae(0x219)];}}export async function getEloHistoryD3(_0x59e39b=0x14){const _0x37140d=a15_0x3d65b1,_0x870263={'TUfqI':'Error\x20getting\x20D3\x20username:','wYwYh':_0x37140d(0x1d3),'bWGEr':function(_0x302d6c,_0x5101e6,_0x34c9e1,_0x2102ae,_0x1cea18){return _0x302d6c(_0x5101e6,_0x34c9e1,_0x2102ae,_0x1cea18);},'gbEET':function(_0x40a24d,_0x4e2dc5){return _0x40a24d(_0x4e2dc5);},'EQhqr':function(_0x5a0bb4,_0x9264){return _0x5a0bb4(_0x9264);},'sCDsW':function(_0x599552,_0x161127){return _0x599552-_0x161127;},'kdlSc':'eloHistoryD3','QvtIp':function(_0x2d0ff7,_0x497059,_0x285eca,_0x352543,_0x4f6c02){return _0x2d0ff7(_0x497059,_0x285eca,_0x352543,_0x4f6c02);},'ZdaSR':_0x37140d(0x1ec),'EXSPH':_0x37140d(0x221),'dkslG':function(_0x415325,_0x2d6a10){return _0x415325(_0x2d6a10);},'GhASJ':function(_0x63feac,_0x255f2f){return _0x63feac(_0x255f2f);},'TNSdu':function(_0x4923af,_0x412f9e){return _0x4923af!==_0x412f9e;},'PcavW':_0x37140d(0x20d),'cyAyp':_0x37140d(0x220),'YZLEU':function(_0x546faa,_0x2ace81,_0x4df881,_0x447189){return _0x546faa(_0x2ace81,_0x4df881,_0x447189);},'VbkZF':function(_0x189bd0,_0x2b6fd1){return _0x189bd0(_0x2b6fd1);},'iCVYv':'AfTwd','KxjwV':function(_0x30392a,_0x137936){return _0x30392a-_0x137936;},'MDnuJ':'Error\x20fetching\x20D3\x20ELO\x20history:'};try{const _0x357719=collection(db,_0x870263[_0x37140d(0x22e)]);let _0x47e34d;if(lastVisibleD3)_0x47e34d=_0x870263[_0x37140d(0x22d)](query,_0x357719,orderBy(_0x870263[_0x37140d(0x1e3)],_0x870263[_0x37140d(0x201)]),_0x870263[_0x37140d(0x244)](startAfter,lastVisibleD3),_0x870263[_0x37140d(0x1f0)](limit,_0x59e39b));else{if(_0x870263[_0x37140d(0x241)](_0x870263[_0x37140d(0x22a)],_0x870263[_0x37140d(0x243)]))_0x47e34d=_0x870263['YZLEU'](query,_0x357719,orderBy(_0x870263[_0x37140d(0x1e3)],_0x870263['EXSPH']),_0x870263['VbkZF'](limit,_0x59e39b));else return _0x1331ee[_0x37140d(0x24d)](_0x870263[_0x37140d(0x1fb)],_0x4f50ae),_0x870263[_0x37140d(0x203)];}const _0x525377=await getDocs(_0x47e34d);if(_0x525377[_0x37140d(0x1cf)]){if(_0x870263[_0x37140d(0x241)](_0x870263['iCVYv'],_0x37140d(0x230))){const _0x3296b4={};return _0x3296b4[_0x37140d(0x236)]=[],_0x3296b4['hasMore']=![],_0x3296b4;}else _0x3fe45d=_0x870263[_0x37140d(0x1da)](_0x32f491,_0x2f0bbd,_0x2b3af9(_0x37140d(0x1ec),_0x37140d(0x221)),_0x5e7269(_0x4f7929),_0x870263[_0x37140d(0x1d1)](_0x2a77e8,_0x2d2471));}lastVisibleD3=_0x525377[_0x37140d(0x1c4)][_0x870263[_0x37140d(0x207)](_0x525377[_0x37140d(0x1c4)]['length'],0x1)];const _0x126b37=_0x525377[_0x37140d(0x1c4)]['map'](async _0x23d7fc=>{const _0x248b9c=_0x37140d,_0x59e3bb=_0x23d7fc['data'](),[_0x40d1b2,_0x5d60bc]=await Promise[_0x248b9c(0x1ed)]([_0x870263[_0x248b9c(0x1ba)](getUsernameByIdD3,_0x59e3bb[_0x248b9c(0x250)]),_0x870263['gbEET'](getUsernameByIdD3,_0x59e3bb[_0x248b9c(0x1ee)])]);return{..._0x59e3bb,'playerUsername':_0x40d1b2,'opponentUsername':_0x5d60bc,'change':_0x870263[_0x248b9c(0x234)](_0x59e3bb['newElo'],_0x59e3bb[_0x248b9c(0x1e0)]),'timestamp':_0x59e3bb[_0x248b9c(0x1ec)]};}),_0x418f6b=await Promise['all'](_0x126b37),_0x356761={};return _0x356761['entries']=_0x418f6b,_0x356761[_0x37140d(0x20b)]=_0x525377[_0x37140d(0x1cd)]===_0x59e39b,_0x356761;}catch(_0x4fa84b){console[_0x37140d(0x24d)](_0x870263[_0x37140d(0x24e)],_0x4fa84b);throw _0x4fa84b;}}export function resetPaginationD3(){lastVisibleD3=null;}