function a20_0x4dbf(_0x189210,_0x4dd0b9){const _0x58eb50=a20_0x43f4();return a20_0x4dbf=function(_0x102c34,_0x235995){_0x102c34=_0x102c34-0x1f0;let _0x43f4da=_0x58eb50[_0x102c34];return _0x43f4da;},a20_0x4dbf(_0x189210,_0x4dd0b9);}const a20_0x378451=a20_0x4dbf;import a20_0x1db744,{enhanceIdleTimeout}from'./firebase-idle-wrapper.js';const IDLE_TIMEOUT=0xea60;function a20_0x43f4(){const _0x69798=['suspendAllListeners','none','blockedOperations','flex','appendChild','click','Session\x20suspended\x20due\x20to\x20inactivity','div','\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#202020;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2030px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20500px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x200\x2020px\x20rgba(0,\x200,\x200,\x200.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20','idle-overlay','addEventListener','network-error-overlay','Return\x20to\x20Website','DOMContentLoaded','Retrying\x20connection...','readyState','getElementById','\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#50C878;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s;\x0a\x20\x20\x20\x20','suspendSession','button','\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20rgba(0,\x200,\x200,\x200.85);\x0a\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x209999;\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20backdrop-filter:\x20blur(5px);\x0a\x20\x20\x20\x20','reload','Pending\x20operations:','onmouseover','color:\x20#fff;\x20margin-bottom:\x2030px;','network','Session\x20Suspended\x20Due\x20to\x20Inactivity','log','resumeSession','RDL_NETWORK_ERROR','createElement','catch','display','style','table','bind','message','\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#ff5555;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-right:\x2010px;\x0a\x20\x20\x20\x20','cssText','resumeAllListeners','error','scroll','textContent','system','code','mousemove','RDL_SESSION_SUSPENDED'];a20_0x43f4=function(){return _0x69798;};return a20_0x43f4();}let idleTimer=null,isSessionSuspended=![],networkErrorRetryCount=0x0;const MAX_NETWORK_RETRIES=0x3;function createIdleOverlay(){const _0x191e11=a20_0x4dbf;if(document['getElementById']('idle-overlay'))return;const _0x25f64a=document['createElement']('div');_0x25f64a['id']='idle-overlay',_0x25f64a['style'][_0x191e11(0x216)]=_0x191e11(0x204);const _0xa9ef5c=document['createElement'](_0x191e11(0x1f7));_0xa9ef5c['style']['cssText']=_0x191e11(0x1f8);const _0x20e615=document['createElement']('h2');_0x20e615['textContent']=_0x191e11(0x20a),_0x20e615[_0x191e11(0x211)][_0x191e11(0x216)]='color:\x20#50C878;\x20margin-bottom:\x2020px;\x20font-size:\x2024px;';const _0x28e9f3=document[_0x191e11(0x20e)]('p');_0x28e9f3['textContent']='Your\x20session\x20has\x20been\x20suspended\x20after\x201\x20minutes\x20of\x20inactivity\x20for\x20security\x20reasons.',_0x28e9f3['style'][_0x191e11(0x216)]='color:\x20#fff;\x20margin-bottom:\x2030px;';const _0x1bb6a8=document[_0x191e11(0x20e)]('button');_0x1bb6a8['id']='resume-session-btn',_0x1bb6a8['textContent']=_0x191e11(0x1fc),_0x1bb6a8[_0x191e11(0x211)]['cssText']=_0x191e11(0x201),_0x1bb6a8[_0x191e11(0x207)]=function(){this['style']['backgroundColor']='#3da05f';},_0x1bb6a8['onmouseout']=function(){this['style']['backgroundColor']='#50C878';},_0xa9ef5c['appendChild'](_0x20e615),_0xa9ef5c['appendChild'](_0x28e9f3),_0xa9ef5c[_0x191e11(0x1f4)](_0x1bb6a8),_0x25f64a['appendChild'](_0xa9ef5c),document['body']['appendChild'](_0x25f64a),_0x1bb6a8['addEventListener']('click',resumeSession),createNetworkErrorOverlay();}function createNetworkErrorOverlay(){const _0x4d91df=a20_0x4dbf;if(document['getElementById'](_0x4d91df(0x1fb)))return;const _0x498cdc=document[_0x4d91df(0x20e)](_0x4d91df(0x1f7));_0x498cdc['id']='network-error-overlay',_0x498cdc['style']['cssText']=_0x4d91df(0x204);const _0x24ef63=document[_0x4d91df(0x20e)](_0x4d91df(0x1f7));_0x24ef63['style']['cssText']=_0x4d91df(0x1f8);const _0x22bccb=document[_0x4d91df(0x20e)]('h2');_0x22bccb[_0x4d91df(0x21a)]='Connection\x20Error',_0x22bccb['style']['cssText']='color:\x20#ff5555;\x20margin-bottom:\x2020px;\x20font-size:\x2024px;';const _0x4788af=document[_0x4d91df(0x20e)]('p');_0x4788af['textContent']='We\x27re\x20having\x20trouble\x20connecting\x20to\x20the\x20server.\x20This\x20may\x20be\x20due\x20to\x20network\x20issues\x20or\x20server\x20maintenance.',_0x4788af['style']['cssText']=_0x4d91df(0x208);const _0x57a600=document['createElement'](_0x4d91df(0x203));_0x57a600['id']='retry-connection-btn',_0x57a600['textContent']='Retry\x20Connection',_0x57a600['style']['cssText']=_0x4d91df(0x215);const _0xf54d34=document['createElement'](_0x4d91df(0x203));_0xf54d34['id']='reload-page-btn',_0xf54d34['textContent']='Reload\x20Page',_0xf54d34['style']['cssText']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#5555ff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#fff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s;\x0a\x20\x20\x20\x20';const _0x1cd8da=document['createElement']('div');_0x1cd8da['style']['cssText']='display:\x20flex;\x20justify-content:\x20center;\x20gap:\x2010px;',_0x1cd8da['appendChild'](_0x57a600),_0x1cd8da['appendChild'](_0xf54d34),_0x24ef63['appendChild'](_0x22bccb),_0x24ef63['appendChild'](_0x4788af),_0x24ef63['appendChild'](_0x1cd8da),_0x498cdc['appendChild'](_0x24ef63),document['body'][_0x4d91df(0x1f4)](_0x498cdc),_0x57a600['addEventListener'](_0x4d91df(0x1f5),retryConnection),_0xf54d34['addEventListener'](_0x4d91df(0x1f5),()=>window['location'][_0x4d91df(0x205)]());}function resetIdleTimer(){if(isSessionSuspended)return;clearTimeout(idleTimer),idleTimer=setTimeout(suspendSession,IDLE_TIMEOUT);}function handleNetworkError(){const _0x45e44e=a20_0x4dbf;clearTimeout(idleTimer);const _0x397f17=document['getElementById'](_0x45e44e(0x1fb));_0x397f17&&(_0x397f17[_0x45e44e(0x211)][_0x45e44e(0x210)]='flex'),window[_0x45e44e(0x20d)]=!![],console[_0x45e44e(0x20b)]('Network\x20error\x20detected,\x20showing\x20error\x20overlay'),a20_0x1db744[_0x45e44e(0x1f0)]();}function retryConnection(){const _0x413438=a20_0x4dbf;networkErrorRetryCount++;if(networkErrorRetryCount>MAX_NETWORK_RETRIES){const _0x17d6bc=document['querySelector']('#network-error-overlay\x20p');_0x17d6bc&&(_0x17d6bc['textContent']='Multiple\x20connection\x20attempts\x20failed.\x20Please\x20reload\x20the\x20page\x20or\x20try\x20again\x20later.');const _0xf1b382=document['getElementById']('retry-connection-btn');_0xf1b382&&(_0xf1b382['disabled']=!![],_0xf1b382['style']['opacity']='0.5',_0xf1b382[_0x413438(0x211)]['cursor']='not-allowed');return;}const _0x226a5e=document[_0x413438(0x200)]('network-error-overlay');_0x226a5e&&(_0x226a5e['style']['display']=_0x413438(0x1f1));window['RDL_NETWORK_ERROR']=![],resetIdleTimer(),console[_0x413438(0x20b)](_0x413438(0x1fe));try{const {rdlFirestore:_0x3bdbbf}=window;if(_0x3bdbbf){const _0x5934d6=_0x3bdbbf['collection'](_0x413438(0x21b));_0x3bdbbf['getDocs'](_0x5934d6)[_0x413438(0x20f)](_0x832aec=>{console['error']('Connection\x20test\x20failed:',_0x832aec),handleNetworkError();});}}catch(_0x38e2f7){console['error']('Failed\x20to\x20test\x20connection:',_0x38e2f7),handleNetworkError();}a20_0x1db744[_0x413438(0x217)]();}function suspendSession(){const _0x1169ed=a20_0x4dbf;isSessionSuspended=!![];const _0x3bbbfd=document[_0x1169ed(0x200)](_0x1169ed(0x1f9));_0x3bbbfd&&(_0x3bbbfd['style'][_0x1169ed(0x210)]=_0x1169ed(0x1f3)),console[_0x1169ed(0x20b)](_0x1169ed(0x1f6)),window['RDL_SESSION_SUSPENDED']=!![],a20_0x1db744[_0x1169ed(0x1f0)]();}function resumeSession(){const _0x292f83=a20_0x4dbf;isSessionSuspended=![],window[_0x292f83(0x21e)]=![];const _0x2de353=document[_0x292f83(0x200)]('idle-overlay');_0x2de353&&(_0x2de353[_0x292f83(0x211)]['display']=_0x292f83(0x1f1)),console['log']('Session\x20resumed'),resetIdleTimer(),a20_0x1db744['resumeAllListeners'](),idleTimer&&Date['now']()-(window['RDL_LAST_ACTIVITY']||0x0)>IDLE_TIMEOUT*0x2&&(console['log']('Session\x20was\x20idle\x20for\x20too\x20long,\x20reloading\x20page'),window['location'][_0x292f83(0x205)]());}function initIdleTimeout(){const _0x8cad34=a20_0x4dbf,_0x150b58=(function(){let _0x3184b0=!![];return function(_0x3fea73,_0x5504bc){const _0xb54712=_0x3184b0?function(){if(_0x5504bc){const _0xfd07c3=_0x5504bc['apply'](_0x3fea73,arguments);return _0x5504bc=null,_0xfd07c3;}}:function(){};return _0x3184b0=![],_0xb54712;};}()),_0x3149be=_0x150b58(this,function(){const _0x39bde9=a20_0x4dbf;let _0x1e1207;try{const _0x31dc5a=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x1e1207=_0x31dc5a();}catch(_0x4d5c2c){_0x1e1207=window;}const _0x75af8e=_0x1e1207['console']=_0x1e1207['console']||{},_0x3ac7b2=[_0x39bde9(0x20b),'warn','info','error','exception',_0x39bde9(0x212),'trace'];for(let _0xb7518c=0x0;_0xb7518c<_0x3ac7b2['length'];_0xb7518c++){const _0x1e18db=_0x150b58['constructor']['prototype']['bind'](_0x150b58),_0x317989=_0x3ac7b2[_0xb7518c],_0x11a467=_0x75af8e[_0x317989]||_0x1e18db;_0x1e18db['__proto__']=_0x150b58[_0x39bde9(0x213)](_0x150b58),_0x1e18db['toString']=_0x11a467['toString']['bind'](_0x11a467),_0x75af8e[_0x317989]=_0x1e18db;}});_0x3149be(),createIdleOverlay();const _0x47fa80=['mousedown',_0x8cad34(0x21d),'keypress',_0x8cad34(0x219),'touchstart','click'];_0x47fa80['forEach'](_0x54f583=>{document['addEventListener'](_0x54f583,()=>{window['RDL_LAST_ACTIVITY']=Date['now'](),resetIdleTimer();},!![]);}),window[_0x8cad34(0x1fa)]('error',function(_0x34c2c2){const _0x172431=_0x8cad34;_0x34c2c2['error']&&(_0x34c2c2['error'][_0x172431(0x214)]&&_0x34c2c2[_0x172431(0x218)]['message']['includes'](_0x172431(0x209))||_0x34c2c2['error'][_0x172431(0x21c)]&&(_0x34c2c2[_0x172431(0x218)][_0x172431(0x21c)]==='unavailable'||_0x34c2c2['error']['code']==='resource-exhausted'||_0x34c2c2['error']['code']['includes']('network')))&&(handleNetworkError(),_0x34c2c2['preventDefault']());}),resetIdleTimer(),console[_0x8cad34(0x20b)]('Idle\x20timeout\x20initialized:',IDLE_TIMEOUT,'ms'),window[_0x8cad34(0x202)]=suspendSession,window[_0x8cad34(0x20c)]=resumeSession,enhanceIdleTimeout(),window['checkFirebaseIdleStatus']=function(){const _0x5ce8de=_0x8cad34;return console['log']('Session\x20suspended:',window['RDL_SESSION_SUSPENDED']),console['log']('Network\x20error:',window['RDL_NETWORK_ERROR']),console['log']('Active\x20listeners:',a20_0x1db744['activeListeners']['size']),console['log'](_0x5ce8de(0x206),a20_0x1db744['pendingOperations']['size']),console[_0x5ce8de(0x20b)]('Blocked\x20operations:',a20_0x1db744[_0x5ce8de(0x1f2)]||0x0),{'suspended':window['RDL_SESSION_SUSPENDED'],'networkError':window['RDL_NETWORK_ERROR'],'activeListeners':Array['from'](a20_0x1db744['activeListeners']['keys']()),'pendingOperations':Array['from'](a20_0x1db744['pendingOperations']['keys']()),'blockedCount':a20_0x1db744['blockedOperations']||0x0};},window['forceIdleTimeout']=function(){console['log']('Forcing\x20idle\x20timeout...'),suspendSession();};}export{initIdleTimeout,isSessionSuspended,handleNetworkError};document[a20_0x378451(0x1ff)]==='loading'?document['addEventListener'](a20_0x378451(0x1fd),initIdleTimeout):initIdleTimeout();