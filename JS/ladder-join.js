const a25C=a25d;(function(a,b){const z=a25d,c=a();while(!![]){try{const d=parseInt(z(0x1f5))/0x1+-parseInt(z(0x218))/0x2*(parseInt(z(0x21f))/0x3)+parseInt(z(0x223))/0x4+parseInt(z(0x22b))/0x5*(-parseInt(z(0x211))/0x6)+parseInt(z(0x21b))/0x7*(-parseInt(z(0x20b))/0x8)+-parseInt(z(0x20c))/0x9+-parseInt(z(0x1ec))/0xa*(-parseInt(z(0x21c))/0xb);if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a25c,0x48872));const a25b=(function(){let a=!![];return function(b,c){const d=a?function(){if(c){const e=c['apply'](b,arguments);return c=null,e;}}:function(){};return a=![],d;};}()),a25a=a25b(this,function(){const B=a25d,a=function(){const A=a25d;let f;try{f=Function(A(0x1e5)+A(0x1fa)+');')();}catch(g){f=window;}return f;},b=a(),c=b[B(0x226)]=b[B(0x226)]||{},d=[B(0x1f0),'warn','info','error','exception',B(0x216),'trace'];for(let e=0x0;e<d[B(0x1fc)];e++){const f=a25b['constructor']['prototype'][B(0x214)](a25b),g=d[e],h=c[g]||f;f['__proto__']=a25b['bind'](a25b),f['toString']=h['toString']['bind'](h),c[g]=f;}});function a25d(a,b){const c=a25c();return a25d=function(d,e){d=d-0x1e3;let f=c[d];if(a25d['fMptXp']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a25d['SWQvMP']=g,a=arguments,a25d['fMptXp']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a25d['SWQvMP'](f),a[i]=f):f=j,f;},a25d(a,b);}a25a();import{doc,getDoc,getDocs,setDoc,query,collection,orderBy,limit,serverTimestamp}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{onAuthStateChanged}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';import{auth,db}from'./firebase-config.js';let currentLadder='D1';document[a25C(0x209)]('DOMContentLoaded',()=>{const D=a25C,a=document['getElementById'](D(0x207)),b=document['getElementById'](D(0x20a));console[D(0x1f0)](D(0x1f1),!!a),console['log']('Ladder\x20join:\x20D2\x20radio\x20found:',!!b);function c(){const E=D;document[E(0x21d)]('input[name=\x22ladder\x22]')[E(0x20f)](e=>{e['addEventListener']('change',f=>{const F=a25d;f['target'][F(0x1f3)]&&(currentLadder=f[F(0x1e8)]['value'],console[F(0x1f0)]('Ladder\x20changed\x20to:\x20'+currentLadder),checkUserLadderStatus());});});}c();const d=document['getElementById'](D(0x1ed));d&&d['addEventListener'](D(0x20d),handleJoinLadder),onAuthStateChanged(auth,e=>{const G=D;if(e)checkUserLadderStatus();else{const f=document[G(0x1eb)](G(0x210));f&&(f['style'][G(0x205)]='none');}});});function getCollectionName(a){const H=a25C;switch(a?.['toUpperCase']()){case'D1':return'players';case'D2':return H(0x21a);case'D3':return'playersD3';case H(0x224):case'DUO':return'playersDuos';case'CTF':return H(0x202);default:console['warn']('Unknown\x20ladder\x20type:\x20'+a+H(0x1e7));return'players';}}async function checkUserLadderStatus(){const I=a25C;console[I(0x1f0)]('Checking\x20user\x20status\x20for\x20ladder:',currentLadder);const a=auth[I(0x1fb)],b=document[I(0x1eb)]('ladder-join-prompt'),c=document[I(0x1eb)]('join-ladder-type'),d=document[I(0x1eb)](I(0x1ea));if(!a||!a['uid']||!b||!c||!d){if(b)b['style'][I(0x205)]=I(0x1f9);if(d)d['style']['display']=I(0x1f9);return;}try{try{await a[I(0x1f8)](![]);}catch(h){console['error']('Authentication\x20verification\x20failed:',h),b[I(0x220)]['display']=I(0x1f9),d['style']['display']=I(0x1f9);return;}const e=getCollectionName(currentLadder),f=doc(db,e,a[I(0x1f4)]),g=await getDoc(f);if(g[I(0x1ee)]())b['style'][I(0x205)]='none',d['style']['display']='none';else{b['style'][I(0x205)]=I(0x1f9),d['style']['display']=I(0x1e4),c[I(0x221)]=currentLadder,d[I(0x1ef)]=()=>{const J=I;b[J(0x220)]['display']===J(0x1e4)?b['style']['display']='none':b['style']['display']='block';};const i=document[I(0x1eb)](I(0x219)),j=document[I(0x1eb)](I(0x222));if(i)i['value']='';j&&(j['textContent']='',j[I(0x1e6)]=I(0x222));}}catch(k){console[I(0x212)]('Error\x20checking\x20ladder\x20status:',k),b[I(0x220)]['display']='none',d[I(0x220)]['display']=I(0x1f9);}}async function handleJoinLadder(){const K=a25C,a=auth['currentUser'],b=document[K(0x1eb)](K(0x1ed)),c=document['getElementById'](K(0x222)),d=document['getElementById']('join-username-input');if(!a||!a[K(0x1f4)]){c[K(0x221)]=K(0x22c),c['className']=K(0x1e3);return;}try{await a['getIdToken'](!![]);}catch(e){console[K(0x212)]('Authentication\x20error:',e),c['textContent']=K(0x203),c[K(0x1e6)]=K(0x1e3);return;}if(!d||!d[K(0x1f7)][K(0x1f2)]()){c[K(0x221)]='Please\x20enter\x20your\x20username\x20to\x20confirm.',c['className']=K(0x1e3);return;}try{b[K(0x215)]=!![],c['textContent']=K(0x213),c['className']='ladder-join-status\x20loading';let f='',g=null;const h=['players','playersD2',K(0x217),'playersDuos',K(0x202),'nonParticipants'];for(const s of h){try{const t=doc(db,s,a[K(0x1f4)]),u=await getDoc(t);if(u[K(0x1ee)]()){g=u[K(0x201)]();if(g[K(0x225)]){f=g[K(0x225)];break;}}}catch(v){console[K(0x212)](K(0x206)+s+':',v);}}!f&&a[K(0x204)]&&(f=a['email']['split']('@')[0x0]);if(!f){c['textContent']=K(0x1f6),c[K(0x1e6)]='ladder-join-status\x20error',b[K(0x215)]=![];return;}const i=d['value'][K(0x1f2)]();if(f&&i[K(0x1ff)]()!==f[K(0x1ff)]()){c['textContent']='Username\x20doesn\x27t\x20match.\x20Please\x20enter\x20\x22'+f+'\x22\x20to\x20confirm.',c['className']=K(0x1e3),b['disabled']=![];return;}c[K(0x221)]=K(0x21e)+currentLadder+K(0x1fe);const j=getCollectionName(currentLadder),k=doc(db,j,a['uid']),l=await getDoc(k);if(l['exists']()){c[K(0x221)]=K(0x22a)+currentLadder+K(0x227),c['className']=K(0x1e3),b['disabled']=![];return;}try{await a[K(0x1f8)](!![]);}catch(w){c[K(0x221)]='Authentication\x20failed.\x20Please\x20sign\x20in\x20again.',c[K(0x1e6)]='ladder-join-status\x20error',b['disabled']=![];return;}const m=f,n=collection(db,j),o=query(n,orderBy('position',K(0x228)),limit(0x1)),p=await getDocs(o);let q=0x1;if(!p[K(0x20e)]){const x=p['docs'][0x0][K(0x201)]();q=(x[K(0x1fd)]||0x0)+0x1;}const r={'username':m,'email':a['email'],'eloRating':0x4b0,'position':q,'createdAt':serverTimestamp(),'isAdmin':![],'matches':0x0,'wins':0x0,'losses':0x0,'gameMode':currentLadder,...currentLadder===K(0x224)&&{'hasTeam':![],'teamId':null,'teamName':null,'teammate':null,'teamColor':null,'lookingForTeam':!![],'tierValue':0x3e8}};await setDoc(k,r),currentLadder===K(0x224)?c[K(0x221)]='Successfully\x20joined\x20the\x20Duos\x20ladder!\x20You\x20can\x20now\x20form\x20teams\x20with\x20other\x20players.\x20The\x20page\x20will\x20refresh...':c[K(0x221)]='Successfully\x20joined\x20the\x20'+currentLadder+'\x20ladder!\x20The\x20page\x20will\x20refresh...',c[K(0x1e6)]='ladder-join-status\x20success',setTimeout(()=>{const L=K;window[L(0x200)][L(0x1e9)]();},0x7d0);}catch(y){console['error'](K(0x229),y),c['textContent']=K(0x208)+y['message'],c['className']='ladder-join-status\x20error',b[K(0x215)]=![];}}function a25c(){const M=['vMvYAwz5Aw5NihvZzxjUyw1LlI4U','yMLUza','zgLZywjSzwq','DgfIBgu','CgXHEwvYC0qZ','mJmWvgXmreTw','AM9PBI11C2vYBMfTzs1PBNb1Da','CgXHEwvYC0qY','n1DqEerdqW','ndaZn2j6s2TKsq','CxvLCNLtzwXLy3rVCKfSBa','sM9PBMLUzYa','mtmXnZb5AeXezeG','C3r5Bgu','Dgv4DenVBNrLBNq','BgfKzgvYlwPVAw4TC3rHDhvZ','mZmYmJy4vLnqzgLS','rfvpuW','DxnLCM5HBwu','y29UC29Szq','igXHzgrLCI4','zgvZyW','rxjYB3iGAM9PBMLUzYbSywrKzxi6','ww91igfYzsbHBhjLywr5ihbHCNqGB2yGDgHLia','mJC5ndvlD2D4D3e','ww91ig11C3qGyMuGC2LNBMvKigLUihrVigPVAw4GysbSywrKzxiU','BgfKzgvYlwPVAw4TC3rHDhvZigvYCM9Y','yMXVy2S','CMv0DxjUicHMDw5JDgLVBIGPia','y2XHC3noyw1L','lcbKzwzHDwX0Aw5NihrVieqX','DgfYz2v0','CMvSB2fK','DgLUEs1QB2LUlwj1DhrVBG','z2v0rwXLBwvUDej5swq','mtGYmtbpqu55rwW','AM9PBI1SywrKzxiTyNv0Dg9U','zxHPC3rZ','B25JBgLJAW','Bg9N','tgfKzgvYigPVAw46ieqXihjHzgLVigzVDw5KoG','DhjPBq','y2HLy2TLza','DwLK','ndq5ntCYC2LZrvfm','q291BgqGBM90ihzLCMLMEsb5B3vYigfJy291BNqUifbSzwfZzsbJB250ywn0igfUigfKBwLUAxn0CMf0B3iU','DMfSDwu','z2v0swruB2TLBG','BM9Uzq','E30Uy29UC3rYDwn0B3iOiNjLDhvYBIb0AgLZiIKOicK','y3vYCMvUDfvZzxi','BgvUz3rO','Cg9ZAxrPB24','igXHzgrLCI4UlG','Dg9mB3DLCKnHC2u','Bg9JyxrPB24','zgf0yq','CgXHEwvYC0nurG','qxv0AgvUDgLJyxrPB24GzMfPBgvKlIbqBgvHC2uGC2LNBIbPBIbHz2fPBI4','zw1HAwW','zgLZCgXHEq','rxjYB3iGy2HLy2TPBMCG','zdeTC3DPDgnO','rxjYB3iGAM9PBMLUzYbSywrKzxi6ia','ywrKrxzLBNrmAxn0zw5LCG','zdiTC3DPDgnO','mta3mZyZmKHVAxHhua','mJiZmJq1ow91sfH2Bq','y2XPy2S','zw1WDhK','zM9YrwfJAa','BgfKzgvYlwPVAw4TChjVBxb0','mtHMq3DSyNu','zxjYB3i'];a25c=function(){return M;};return a25c();}