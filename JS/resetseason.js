function a52_0x5d9b(){const _0x391e00=['log','players','losses','username','console','prototype','push','__proto__','trace','Error\x20archiving\x20season:','docs','return\x20(function()\x20','toString','wins'];a52_0x5d9b=function(){return _0x391e00;};return a52_0x5d9b();}const a52_0x4fbdbe=(function(){let _0x52c838=!![];return function(_0x40b9b9,_0x8435fe){const _0x4a774e=_0x52c838?function(){if(_0x8435fe){const _0x500fe3=_0x8435fe['apply'](_0x40b9b9,arguments);return _0x8435fe=null,_0x500fe3;}}:function(){};return _0x52c838=![],_0x4a774e;};}()),a52_0x5b0a18=a52_0x4fbdbe(this,function(){const _0x4fb2c0=a52_0x8385;let _0xfe42bf;try{const _0x5535e4=Function(_0x4fb2c0(0x1e2)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0xfe42bf=_0x5535e4();}catch(_0x283d64){_0xfe42bf=window;}const _0x38347d=_0xfe42bf['console']=_0xfe42bf[_0x4fb2c0(0x1db)]||{},_0x31488a=[_0x4fb2c0(0x1d7),'warn','info','error','exception','table',_0x4fb2c0(0x1df)];for(let _0x21941f=0x0;_0x21941f<_0x31488a['length'];_0x21941f++){const _0x455345=a52_0x4fbdbe['constructor'][_0x4fb2c0(0x1dc)]['bind'](a52_0x4fbdbe),_0x4c19dd=_0x31488a[_0x21941f],_0x1051cc=_0x38347d[_0x4c19dd]||_0x455345;_0x455345[_0x4fb2c0(0x1de)]=a52_0x4fbdbe['bind'](a52_0x4fbdbe),_0x455345[_0x4fb2c0(0x1e3)]=_0x1051cc['toString']['bind'](_0x1051cc),_0x38347d[_0x4c19dd]=_0x455345;}});a52_0x5b0a18();import{db}from'./firebase-config.js';import{collection,getDocs,setDoc,doc,query,orderBy}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';function a52_0x8385(_0xbc21cc,_0x559598){const _0x5b0a18=a52_0x5d9b();return a52_0x8385=function(_0x4fbdbe,_0x10e804){_0x4fbdbe=_0x4fbdbe-0x1d7;let _0x5d9b2b=_0x5b0a18[_0x4fbdbe];return _0x5d9b2b;},a52_0x8385(_0xbc21cc,_0x559598);}async function archiveSeason0(){const _0x2b803c=a52_0x8385;try{const _0x3b8dc2=await getDocs(collection(db,_0x2b803c(0x1d8)));for(const _0x135f59 of _0x3b8dc2[_0x2b803c(0x1e1)]){const _0x3a68ca=_0x135f59['data']();await setDoc(doc(db,'season0',_0x135f59['id']),{..._0x3a68ca,'archivedAt':new Date(),'originalId':_0x135f59['id']});}return console['log']('Successfully\x20archived\x20players\x20to\x20season0'),!![];}catch(_0x29a8ea){console['error'](_0x2b803c(0x1e0),_0x29a8ea);throw _0x29a8ea;}}async function archiveRecords(){const _0xceed49=a52_0x8385;try{const _0x48de73=collection(db,'records'),_0x5aae7a=query(_0x48de73,orderBy('wins','desc')),_0x51814a=await getDocs(_0x5aae7a),_0x54fc88=[];return _0x51814a['forEach'](_0x55fcb0=>{const _0x17aa25=a52_0x8385,_0x55fcca=_0x55fcb0['data']();_0x54fc88[_0x17aa25(0x1dd)]({'username':_0x55fcca[_0x17aa25(0x1da)],'wins':_0x55fcca[_0x17aa25(0x1e4)]||0x0,'losses':_0x55fcca[_0x17aa25(0x1d9)]||0x0,'winRate':_0x55fcca['winRate']||0x0,'timestamp':new Date()});}),await setDoc(doc(db,'season0records','snapshot'),{'records':_0x54fc88,'archivedAt':new Date()}),console[_0xceed49(0x1d7)]('Successfully\x20archived\x20records'),!![];}catch(_0x1f821b){console['error']('Error\x20archiving\x20records:',_0x1f821b);throw _0x1f821b;}}export{archiveSeason0,archiveRecords};