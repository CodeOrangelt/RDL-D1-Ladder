const a41_0x397444=a41_0x3e8f,a41_0x2cfdcb=(function(){let _0x51a29d=!![];return function(_0x509785,_0xf708cb){const _0x2dead9=_0x51a29d?function(){const _0x55593c=a41_0x3e8f;if(_0xf708cb){const _0x2d4f90=_0xf708cb[_0x55593c(0x132)](_0x509785,arguments);return _0xf708cb=null,_0x2d4f90;}}:function(){};return _0x51a29d=![],_0x2dead9;};}()),a41_0x29cc68=a41_0x2cfdcb(this,function(){const _0x2be9c6=a41_0x3e8f;let _0x2b2c98;try{const _0x426a3e=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x2b2c98=_0x426a3e();}catch(_0x19acbe){_0x2b2c98=window;}const _0x224dc4=_0x2b2c98['console']=_0x2b2c98['console']||{},_0x277084=[_0x2be9c6(0x129),_0x2be9c6(0x12f),'info',_0x2be9c6(0x135),'exception','table',_0x2be9c6(0x125)];for(let _0x342e93=0x0;_0x342e93<_0x277084['length'];_0x342e93++){const _0x50636f=a41_0x2cfdcb[_0x2be9c6(0x130)]['prototype']['bind'](a41_0x2cfdcb),_0x51fc6b=_0x277084[_0x342e93],_0x4a552f=_0x224dc4[_0x51fc6b]||_0x50636f;_0x50636f['__proto__']=a41_0x2cfdcb['bind'](a41_0x2cfdcb),_0x50636f['toString']=_0x4a552f[_0x2be9c6(0x12b)][_0x2be9c6(0x133)](_0x4a552f),_0x224dc4[_0x51fc6b]=_0x50636f;}});function a41_0x3e8f(_0x394a49,_0x2372cf){const _0x29cc68=a41_0x40d3();return a41_0x3e8f=function(_0x2cfdcb,_0x48299c){_0x2cfdcb=_0x2cfdcb-0x123;let _0x40d301=_0x29cc68[_0x2cfdcb];return _0x40d301;},a41_0x3e8f(_0x394a49,_0x2372cf);}a41_0x29cc68();function a41_0x40d3(){const _0x24ee2f=['getElementById','join','trace','ceil','map','length','log','createElement','toString','Enter','newElo','querySelector','warn','constructor','player','apply','bind','DOMContentLoaded','error','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','toLocaleString','change','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','parentNode','slice','N/A','timestamp'];a41_0x40d3=function(){return _0x24ee2f;};return a41_0x40d3();}import{getEloHistory,resetPagination}from'./elo-history.js';let currentPage=0x1,allMatches=[];const matchesPerPage=0xa;async function displayEloHistory(){const _0x1d3f8b=a41_0x3e8f,_0x172247=document['querySelector']('#elo-history\x20tbody'),_0xb29b4b=document[_0x1d3f8b(0x123)]('pagination');try{const {entries:_0x2b3bf7,hasMore:_0x596c77}=await getEloHistory();if(_0x2b3bf7[_0x1d3f8b(0x128)]===0x0){_0x172247['innerHTML']='<tr><td\x20colspan=\x226\x22>No\x20ELO\x20history\x20available</td></tr>';return;}allMatches=_0x2b3bf7,_0x172247['innerHTML']=_0x2b3bf7['map'](_0x481d76=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x481d76['timestamp']?new Date(_0x481d76['timestamp']['toDate']())['toLocaleString']():_0x1d3f8b(0x13c))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x481d76['player']+_0x1d3f8b(0x139)+_0x481d76['previousElo']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x481d76[_0x1d3f8b(0x12d)]+_0x1d3f8b(0x139)+(_0x481d76['change']>0x0?'+'+_0x481d76['change']:_0x481d76['change'])+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x481d76['opponent']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x481d76['matchResult']+_0x1d3f8b(0x136))[_0x1d3f8b(0x124)](''),createPaginationControls();}catch(_0x26c3d6){console[_0x1d3f8b(0x135)]('Error\x20displaying\x20ELO\x20history:',_0x26c3d6),_0x172247['innerHTML']='<tr><td\x20colspan=\x226\x22>Error\x20loading\x20ELO\x20history</td></tr>';}}function createPaginationControls(){const _0x5e24be=a41_0x3e8f,_0x311327=Math[_0x5e24be(0x126)](allMatches[_0x5e24be(0x128)]/matchesPerPage),_0x1d8adc=document[_0x5e24be(0x12a)]('div');_0x1d8adc['className']='pagination-wrapper',_0x1d8adc['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pagination-controls\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22prevPage\x22\x20'+(currentPage===0x1?'disabled':'')+'>Previous</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-navigation\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>Page\x20'+currentPage+'\x20of\x20'+_0x311327+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-search\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22pageInput\x22\x20min=\x221\x22\x20max=\x22'+_0x311327+'\x22\x20value=\x22'+currentPage+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goToPage\x22>Go</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22nextPage\x22\x20'+(currentPage===_0x311327?'disabled':'')+'>Next</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x2fe670=document[_0x5e24be(0x12e)]('#elo-history');_0x2fe670[_0x5e24be(0x13a)]['insertBefore'](_0x1d8adc,_0x2fe670['nextSibling']),document['getElementById']('prevPage')['addEventListener']('click',()=>{if(currentPage>0x1)displayMatchesPage(currentPage-0x1);}),document[_0x5e24be(0x123)]('nextPage')['addEventListener']('click',()=>{if(currentPage<_0x311327)displayMatchesPage(currentPage+0x1);}),document['getElementById']('goToPage')['addEventListener']('click',()=>{const _0x26b561=document['getElementById']('pageInput'),_0x11db39=parseInt(_0x26b561['value']);_0x11db39>=0x1&&_0x11db39<=_0x311327&&displayMatchesPage(_0x11db39);}),document['getElementById']('pageInput')['addEventListener']('keypress',_0x31d3c8=>{const _0x3540a5=_0x5e24be;if(_0x31d3c8['key']===_0x3540a5(0x12c)){const _0x4b9a47=parseInt(_0x31d3c8['target']['value']);_0x4b9a47>=0x1&&_0x4b9a47<=_0x311327&&displayMatchesPage(_0x4b9a47);}});}async function displayMatchesPage(_0x1f6879){const _0x27821b=a41_0x3e8f;currentPage=_0x1f6879;const _0x211f2c=(currentPage-0x1)*matchesPerPage,_0x3bb9c6=_0x211f2c+matchesPerPage,_0x166eb5=allMatches[_0x27821b(0x13b)](_0x211f2c,_0x3bb9c6),_0x701def=document['querySelector']('#elo-history\x20tbody');_0x701def['innerHTML']=_0x166eb5[_0x27821b(0x127)](_0x5d8606=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x5d8606[_0x27821b(0x13d)]?new Date(_0x5d8606[_0x27821b(0x13d)]['toDate']())[_0x27821b(0x137)]():'N/A')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x5d8606[_0x27821b(0x131)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x5d8606['previousElo']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x5d8606['newElo']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x5d8606['change']>0x0?'+'+_0x5d8606[_0x27821b(0x138)]:_0x5d8606['change'])+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x5d8606['opponent']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x5d8606['matchResult']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20')[_0x27821b(0x124)](''),createPaginationControls();}document['addEventListener'](a41_0x397444(0x134),displayEloHistory);