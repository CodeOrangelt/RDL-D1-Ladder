(function(_0x3e2cbe,_0x34317b){const _0x27bcb8=a32_0x522e,_0x39871e=_0x3e2cbe();while(!![]){try{const _0xba1f80=-parseInt(_0x27bcb8(0x8a))/0x1*(parseInt(_0x27bcb8(0x7c))/0x2)+-parseInt(_0x27bcb8(0x79))/0x3+-parseInt(_0x27bcb8(0xc9))/0x4*(parseInt(_0x27bcb8(0xce))/0x5)+-parseInt(_0x27bcb8(0xc1))/0x6+parseInt(_0x27bcb8(0xac))/0x7*(parseInt(_0x27bcb8(0x89))/0x8)+-parseInt(_0x27bcb8(0x82))/0x9*(parseInt(_0x27bcb8(0x97))/0xa)+parseInt(_0x27bcb8(0x73))/0xb;if(_0xba1f80===_0x34317b)break;else _0x39871e['push'](_0x39871e['shift']());}catch(_0x39ad91){_0x39871e['push'](_0x39871e['shift']());}}}(a32_0x5c69,0x3deb0));function a32_0x5c69(){const _0x2cbbd5=['639846gdjMfJ','prototype','totalMatches','964456DXzoCd','elo','td:nth-child(3)','winnerUsername','desc','return\x20(function()\x20','9RBwZhi','search','get','matchId','size','(((.+)+)+)+$','constructor','8xcBpVE','1jdCKhY','trace','map','D2\x20Ladder\x20table\x20body\x20not\x20found','Silver','abs','userProfiles','playerUsername','message','#ladder-d2\x20thead\x20tr','find','firstPlaceDate','bold','3102530sLHfcY','#ladder-d2\x20tbody','now','loserUsername','fontWeight','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22trend-indicator\x22\x20style=\x22margin-left:\x205px;\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','apply',';\x20text-decoration:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#F44336','data','Could\x20not\x20find\x20winner\x20or\x20loser\x20in\x20D2\x20players\x20list','number','winRate','ceil','wins','&ladder=d2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22color:\x20','querySelector','0.85em','toString','.trend-indicator','push','1508479bPFTwH','playersD2','console','sort','kda','approvedMatchesD2','set','.png\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22','opacity','loserScore','%</td>\x0a\x20\x20\x20\x20</tr>','querySelectorAll','winnerScore','fontSize','totalDeaths','__proto__','country','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Rank</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Username</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>ELO</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Matches</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Wins</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Losses</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>K/D</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Win\x20Rate</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','eloHistoryD2','visibility','2881350GGRzrr','visible','#50C878','previousElo','log','innerHTML','totalKills',';\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22elo-container\x22\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22elo-value\x22>','24vxRAgM','#C0C0C0','forEach','#CD7F32','toLowerCase','385765HpaWGn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20fallback\x20ELO\x20change:\x20','has','Emerald','eloHistory','then','info','display','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','player','newElo','bind','<tr><td\x20colspan=\x228\x22\x20class=\x22loading-cell\x22>Loading\x20D2\x20ladder\x20data...</td></tr>','table','#FFD700','position','D2:\x20','includes','toDate','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22profile.html?username=','Unranked','#4CAF50','seconds','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22color:\x20','Bronze','MAX_SAFE_INTEGER','Error\x20loading\x20D2\x20ladder:','length','style','<img\x20src=\x22../images/flags/','toFixed','D2:\x20Error\x20fetching\x20ELO\x20history:','username','21857275bGLrQu','D2:\x20Found','change','timestamp','\x0a\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','error'];a32_0x5c69=function(){return _0x2cbbd5;};return a32_0x5c69();}const a32_0x23bf3f=(function(){let _0x4a5172=!![];return function(_0x145d94,_0x53fae2){const _0xc50349=_0x4a5172?function(){const _0x584c84=a32_0x522e;if(_0x53fae2){const _0x5339db=_0x53fae2[_0x584c84(0x9d)](_0x145d94,arguments);return _0x53fae2=null,_0x5339db;}}:function(){};return _0x4a5172=![],_0xc50349;};}()),a32_0x5a43cd=a32_0x23bf3f(this,function(){const _0x4e524a=a32_0x522e;return a32_0x5a43cd['toString']()[_0x4e524a(0x83)](_0x4e524a(0x87))[_0x4e524a(0xa9)]()[_0x4e524a(0x88)](a32_0x5a43cd)[_0x4e524a(0x83)](_0x4e524a(0x87));});a32_0x5a43cd();const a32_0xec4358=(function(){let _0x416964=!![];return function(_0x559a81,_0x12d052){const _0x2dd584=_0x416964?function(){const _0x1fe1d1=a32_0x522e;if(_0x12d052){const _0x27d955=_0x12d052[_0x1fe1d1(0x9d)](_0x559a81,arguments);return _0x12d052=null,_0x27d955;}}:function(){};return _0x416964=![],_0x2dd584;};}()),a32_0xaa124d=a32_0xec4358(this,function(){const _0x2bbffb=a32_0x522e;let _0x200e2f;try{const _0x199838=Function(_0x2bbffb(0x81)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x200e2f=_0x199838();}catch(_0x206625){_0x200e2f=window;}const _0x27656c=_0x200e2f[_0x2bbffb(0xae)]=_0x200e2f[_0x2bbffb(0xae)]||{},_0x28a18a=['log','warn',_0x2bbffb(0xd5),_0x2bbffb(0x78),'exception',_0x2bbffb(0xdc),_0x2bbffb(0x8b)];for(let _0x4fc6b1=0x0;_0x4fc6b1<_0x28a18a['length'];_0x4fc6b1++){const _0x135b3a=a32_0xec4358[_0x2bbffb(0x88)][_0x2bbffb(0x7a)][_0x2bbffb(0xda)](a32_0xec4358),_0x4f00d7=_0x28a18a[_0x4fc6b1],_0x397e83=_0x27656c[_0x4f00d7]||_0x135b3a;_0x135b3a[_0x2bbffb(0xbb)]=a32_0xec4358[_0x2bbffb(0xda)](a32_0xec4358),_0x135b3a[_0x2bbffb(0xa9)]=_0x397e83[_0x2bbffb(0xa9)]['bind'](_0x397e83),_0x27656c[_0x4f00d7]=_0x135b3a;}});a32_0xaa124d();import{collection,getDocs,deleteDoc,doc,getDoc,query,where,updateDoc,Timestamp,onSnapshot,orderBy,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db}from'./firebase-config.js';import{getRankStyle}from'./ranks.js';import a32_0x20f294 from'./firebase-idle-wrapper.js';const playerCacheD2={'data':null,'timestamp':0x0},CACHE_DURATION=0x7530;async function displayLadderD2(_0x517981=![]){const _0xdd757b=a32_0x522e,_0x169b93=document[_0xdd757b(0xa7)](_0xdd757b(0x98));if(!_0x169b93){console['error'](_0xdd757b(0x8d));return;}_0x169b93[_0xdd757b(0xc6)]=_0xdd757b(0xdb);try{const _0x53eef6=Date[_0xdd757b(0x99)]();if(!_0x517981&&playerCacheD2[_0xdd757b(0xa0)]&&_0x53eef6-playerCacheD2['timestamp']<CACHE_DURATION){updateLadderDisplayD2(playerCacheD2[_0xdd757b(0xa0)]);return;}const _0x26d102=collection(db,'playersD2'),_0x5de055=query(_0x26d102,orderBy(_0xdd757b(0xde),'asc')),_0x3ab462=await a32_0x20f294['getDocuments'](_0x26d102),_0x2383b3=[];_0x3ab462[_0xdd757b(0xcb)](_0x102ec9=>{const _0x36e3ab=_0xdd757b,_0x773d7e=_0x102ec9['data']();_0x773d7e[_0x36e3ab(0x72)]&&_0x2383b3['push']({..._0x773d7e,'id':_0x102ec9['id'],'elo':_0x773d7e['eloRating']||0x0,'position':_0x773d7e[_0x36e3ab(0xde)]||Number[_0x36e3ab(0x6b)]});});const _0x50da6d=collection(db,_0xdd757b(0x90)),_0x1388c2=await getDocs(_0x50da6d),_0x41a9e1=new Map();_0x1388c2[_0xdd757b(0xcb)](_0x5359f0=>{const _0x59040e=_0xdd757b,_0x2ba47b=_0x5359f0[_0x59040e(0xa0)]();_0x2ba47b[_0x59040e(0x72)]&&_0x41a9e1[_0x59040e(0xb2)](_0x2ba47b[_0x59040e(0x72)][_0x59040e(0xcd)](),_0x2ba47b);});for(const _0x255960 of _0x2383b3){const _0x2a2812=_0x255960['username'][_0xdd757b(0xcd)]();if(_0x41a9e1['has'](_0x2a2812)){const _0x1d5432=_0x41a9e1['get'](_0x2a2812);_0x1d5432['country']&&(_0x255960[_0xdd757b(0xbc)]=_0x1d5432['country'][_0xdd757b(0xcd)]());}}const _0x2b0c78=_0x2383b3[_0xdd757b(0x8c)](_0x3cbf88=>_0x3cbf88[_0xdd757b(0x72)]),_0x366cb7=await fetchBatchMatchStatsD2(_0x2b0c78);_0x2383b3[_0xdd757b(0xaf)]((_0x8c704f,_0x545209)=>{const _0x5415a7=_0xdd757b,_0x315724=_0x366cb7['get'](_0x8c704f[_0x5415a7(0x72)])?.[_0x5415a7(0x7b)]||0x0,_0x19be26=_0x366cb7[_0x5415a7(0x84)](_0x545209[_0x5415a7(0x72)])?.['totalMatches']||0x0;if(_0x315724===0x0!==(_0x19be26===0x0))return _0x315724===0x0?0x1:-0x1;return(_0x8c704f[_0x5415a7(0xde)]||0x3e7)-(_0x545209[_0x5415a7(0xde)]||0x3e7);}),_0x2383b3[_0xdd757b(0xcb)]((_0x5bf104,_0x540479)=>{const _0x44c3aa=_0xdd757b;_0x5bf104[_0x44c3aa(0xde)]=_0x540479+0x1;}),playerCacheD2[_0xdd757b(0xa0)]=_0x2383b3,playerCacheD2[_0xdd757b(0x76)]=_0x53eef6,updateLadderDisplayD2(_0x2383b3);}catch(_0x21fa82){console[_0xdd757b(0x78)](_0xdd757b(0x6c),_0x21fa82),_0x169b93[_0xdd757b(0xc6)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x228\x22\x20style=\x22text-align:\x20center;\x20color:\x20red;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20D2\x20ladder\x20data:\x20'+_0x21fa82[_0xdd757b(0x92)]+_0xdd757b(0xcf);}}function getNextAvailablePositionD2(_0x52fef8){const _0x19d305=a32_0x522e;if(_0x52fef8['length']===0x0)return 0x1;let _0x2f5694=0x0;return _0x52fef8[_0x19d305(0xcb)](_0x173739=>{const _0x487b92=_0x19d305;_0x173739[_0x487b92(0xde)]&&typeof _0x173739[_0x487b92(0xde)]===_0x487b92(0xa2)&&_0x173739['position']>_0x2f5694&&(_0x2f5694=_0x173739[_0x487b92(0xde)]);}),_0x2f5694+0x1;}async function updatePlayerPositions(_0x18b42e,_0x4e64a8){const _0x4e07d6=a32_0x522e;try{const _0x3d9e67=collection(db,_0x4e07d6(0xad)),_0x4dcde3=await getDocs(_0x3d9e67),_0x8ddc6c=[];_0x4dcde3['forEach'](_0x45e123=>{const _0x522eec=_0x4e07d6;_0x8ddc6c[_0x522eec(0xab)]({'id':_0x45e123['id'],..._0x45e123['data']()});});const _0x1a0925=_0x8ddc6c[_0x4e07d6(0x94)](_0x2e3cad=>_0x2e3cad['username']===_0x18b42e),_0x4fa38d=_0x8ddc6c[_0x4e07d6(0x94)](_0x16161f=>_0x16161f[_0x4e07d6(0x72)]===_0x4e64a8);if(!_0x1a0925||!_0x4fa38d){console['error'](_0x4e07d6(0xa1));return;}if(_0x1a0925['position']>_0x4fa38d[_0x4e07d6(0xde)]){const _0x188104=_0x4fa38d['position'];for(const _0x577b2f of _0x8ddc6c){_0x577b2f[_0x4e07d6(0xde)]>=_0x4fa38d[_0x4e07d6(0xde)]&&_0x577b2f[_0x4e07d6(0xde)]<_0x1a0925[_0x4e07d6(0xde)]&&_0x577b2f['username']!==_0x18b42e&&await updateDoc(doc(db,'playersD2',_0x577b2f['id']),{'position':_0x577b2f[_0x4e07d6(0xde)]+0x1});}await updateDoc(doc(db,'playersD2',_0x1a0925['id']),{'position':_0x188104});if(_0x188104===0x1){const _0x2efd40=doc(db,_0x4e07d6(0xad),_0x1a0925['id']),_0x28fecb=await getDoc(_0x2efd40);!_0x28fecb[_0x4e07d6(0xa0)]()[_0x4e07d6(0x95)]&&await updateDoc(_0x2efd40,{'firstPlaceDate':Timestamp[_0x4e07d6(0x99)]()});}if(_0x4fa38d[_0x4e07d6(0xde)]===0x1){const _0x44cb8c=doc(db,_0x4e07d6(0xad),_0x4fa38d['id']);await updateDoc(_0x44cb8c,{'firstPlaceDate':null});}playerCacheD2[_0x4e07d6(0x76)]=0x0;}}catch(_0x29a3ed){console[_0x4e07d6(0x78)]('Error\x20updating\x20D2\x20player\x20positions:',_0x29a3ed);}}function calculateStreakDays(_0xb1cfff){const _0x577bea=a32_0x522e;if(!_0xb1cfff)return 0x0;const _0x4df267=_0xb1cfff[_0x577bea(0xe1)](),_0x55ccca=new Date(),_0xc5a654=Math[_0x577bea(0x8f)](_0x55ccca-_0x4df267);return Math[_0x577bea(0xa4)](_0xc5a654/(0x3e8*0x3c*0x3c*0x18));}function getPlayerRankNameD2(_0x387ec1){const _0x164ce5=a32_0x522e;if(_0x387ec1>=0x834)return _0x164ce5(0xd2);if(_0x387ec1>=0x708)return'Gold';if(_0x387ec1>=0x640)return _0x164ce5(0x8e);if(_0x387ec1>=0x578)return _0x164ce5(0x6a);return _0x164ce5(0xe3);}async function updateLadderDisplayD2(_0x5deb4c){const _0x2fecb5=a32_0x522e;_0x5deb4c[_0x2fecb5(0xaf)]((_0x515907,_0x1bc332)=>_0x515907['position']-_0x1bc332[_0x2fecb5(0xde)]);const _0x638488=document['querySelector'](_0x2fecb5(0x98));if(!_0x638488)return;_0x638488['innerHTML']='';const _0x3149e8=_0x5deb4c['map'](_0xd5700a=>_0xd5700a[_0x2fecb5(0x72)]),_0x4c9fd9=await fetchBatchMatchStatsD2(_0x3149e8),_0x52a629=document[_0x2fecb5(0xa7)](_0x2fecb5(0x93));_0x52a629&&(_0x52a629[_0x2fecb5(0xc6)]=_0x2fecb5(0xbd));const _0x58ea73=_0x5deb4c['map'](_0x47626f=>{const _0x1024cc=_0x2fecb5,_0x11cf01=_0x4c9fd9['get'](_0x47626f[_0x1024cc(0x72)])||{'totalMatches':0x0,'wins':0x0,'losses':0x0,'kda':0x0,'winRate':0x0,'totalKills':0x0,'totalDeaths':0x0};return createPlayerRowD2(_0x47626f,_0x11cf01);})['join']('');_0x638488['innerHTML']=_0x58ea73,getPlayersLastEloChangesD2(_0x3149e8)[_0x2fecb5(0xd4)](_0x21acbf=>{const _0x390c56=_0x2fecb5,_0x4394a2=new Map();_0x638488[_0x390c56(0xb7)]('tr')[_0x390c56(0xcb)]((_0x4dd269,_0x45df33)=>{const _0x3c4311=_0x390c56;_0x45df33<_0x3149e8[_0x3c4311(0x6d)]&&_0x4394a2[_0x3c4311(0xb2)](_0x3149e8[_0x45df33],_0x4dd269);}),_0x21acbf[_0x390c56(0xcb)]((_0x510ded,_0x42ae4e)=>{const _0x32dc1c=_0x390c56,_0x232edd=_0x4394a2[_0x32dc1c(0x84)](_0x42ae4e);if(_0x232edd&&_0x510ded!==0x0){const _0xc8f71d=_0x232edd['querySelector'](_0x32dc1c(0x7e));if(_0xc8f71d){const _0x26f43b=_0x510ded>0x0?'+'+_0x510ded:''+_0x510ded,_0x326baf=_0xc8f71d[_0x32dc1c(0xa7)](_0x32dc1c(0xaa));_0x326baf&&(_0x326baf['textContent']=_0x26f43b,_0x326baf[_0x32dc1c(0x6e)]['color']=_0x510ded>0x0?_0x32dc1c(0xe4):_0x32dc1c(0x9f),_0x326baf[_0x32dc1c(0x6e)][_0x32dc1c(0x9b)]=_0x32dc1c(0x96),_0x326baf[_0x32dc1c(0x6e)][_0x32dc1c(0xb9)]=_0x32dc1c(0xa8),_0x326baf[_0x32dc1c(0x6e)][_0x32dc1c(0xd6)]='inline',_0x326baf['style'][_0x32dc1c(0xc0)]=_0x32dc1c(0xc2),_0x326baf[_0x32dc1c(0x6e)][_0x32dc1c(0xb4)]='1');}}});})['catch'](_0x148b25=>console[_0x2fecb5(0x78)]('Error\x20updating\x20D2\x20ELO\x20trend\x20indicators:',_0x148b25));}function createPlayerRowD2(_0x5b6412,_0x3b0bf2){const _0x3da80e=a32_0x522e,_0x2dc76d=parseFloat(_0x5b6412[_0x3da80e(0x7d)])||0x0;let _0xc66b7='gray';if(_0x2dc76d>=0x7d0)_0xc66b7=_0x3da80e(0xc3);else{if(_0x2dc76d>=0x708)_0xc66b7=_0x3da80e(0xdd);else{if(_0x2dc76d>=0x640)_0xc66b7=_0x3da80e(0xca);else _0x2dc76d>=0x578&&(_0xc66b7=_0x3da80e(0xcc));}}let _0x47c97b='';return _0x5b6412[_0x3da80e(0xbc)]&&(_0x47c97b=_0x3da80e(0x6f)+_0x5b6412[_0x3da80e(0xbc)]['toLowerCase']()+_0x3da80e(0xb3)+_0x5b6412[_0x3da80e(0xbc)]+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22player-flag\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22margin-left:\x205px;\x20vertical-align:\x20middle;\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>'),_0x3da80e(0x77)+_0x5b6412[_0x3da80e(0xde)]+_0x3da80e(0xe2)+encodeURIComponent(_0x5b6412['username'])+_0x3da80e(0xa6)+_0xc66b7+_0x3da80e(0x9e)+_0x5b6412[_0x3da80e(0x72)]+_0x3da80e(0xbe)+_0x47c97b+_0x3da80e(0xe6)+_0xc66b7+_0x3da80e(0xc8)+_0x2dc76d+_0x3da80e(0x9c)+_0x3b0bf2[_0x3da80e(0x7b)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x3b0bf2[_0x3da80e(0xa5)]+_0x3da80e(0xd7)+_0x3b0bf2['losses']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x3b0bf2[_0x3da80e(0xb0)]+_0x3da80e(0xd7)+_0x3b0bf2[_0x3da80e(0xa3)]+_0x3da80e(0xb6);}async function getPlayersLastEloChangesD2(_0x9be159){const _0x1b9a8f=a32_0x522e,_0xc8dcbf=new Map();_0x9be159['forEach'](_0xed507c=>_0xc8dcbf['set'](_0xed507c,0x0));try{const _0x20c9f9=collection(db,_0x1b9a8f(0xbf)),_0x44e0ff=query(_0x20c9f9,orderBy(_0x1b9a8f(0x76),_0x1b9a8f(0x80)),limit(0x64)),_0x42bd25=await getDocs(_0x44e0ff),_0x45caab=new Map(),_0x518159=await getDocs(collection(db,_0x1b9a8f(0xad)));_0x518159[_0x1b9a8f(0xcb)](_0x19eef1=>{const _0x31f39e=_0x1b9a8f,_0x235d90=_0x19eef1[_0x31f39e(0xa0)]();_0x235d90[_0x31f39e(0x72)]&&_0x45caab['set'](_0x19eef1['id'],_0x235d90['username']);});const _0x1bbeeb=new Map();_0x42bd25[_0x1b9a8f(0xcb)](_0x29dd27=>{const _0x354e8f=_0x1b9a8f,_0x4b2b01=_0x29dd27['data']();let _0x53c2b3=_0x4b2b01[_0x354e8f(0x72)]||_0x4b2b01[_0x354e8f(0x91)];!_0x53c2b3&&_0x4b2b01[_0x354e8f(0xd8)]&&_0x45caab[_0x354e8f(0xd1)](_0x4b2b01[_0x354e8f(0xd8)])&&(_0x53c2b3=_0x45caab[_0x354e8f(0x84)](_0x4b2b01[_0x354e8f(0xd8)]));if(!_0x53c2b3&&_0x4b2b01[_0x354e8f(0x85)]){}_0x53c2b3&&_0x9be159['includes'](_0x53c2b3)&&(!_0x1bbeeb[_0x354e8f(0xd1)](_0x53c2b3)&&_0x1bbeeb[_0x354e8f(0xb2)](_0x53c2b3,[]),_0x1bbeeb[_0x354e8f(0x84)](_0x53c2b3)[_0x354e8f(0xab)]({..._0x4b2b01,'timestamp':_0x4b2b01['timestamp']?.[_0x354e8f(0xe5)]||0x0,'username':_0x53c2b3}));}),_0x1bbeeb[_0x1b9a8f(0xcb)]((_0x1b2e3f,_0x1971d6)=>{const _0x4da6f9=_0x1b9a8f;if(_0x1b2e3f[_0x4da6f9(0x6d)]>0x0){_0x1b2e3f['sort']((_0x199e5d,_0x581e9e)=>_0x581e9e[_0x4da6f9(0x76)]-_0x199e5d['timestamp']);const _0x5a4a2a=_0x1b2e3f[_0x4da6f9(0x94)](_0x350ee2=>_0x350ee2['change']!==undefined||_0x350ee2[_0x4da6f9(0xd9)]!==undefined&&_0x350ee2[_0x4da6f9(0xc4)]!==undefined);if(_0x5a4a2a){let _0x3e3412;if(_0x5a4a2a['change']!==undefined)_0x3e3412=_0x5a4a2a['change'];else _0x5a4a2a['newElo']!==undefined&&_0x5a4a2a['previousElo']!==undefined&&(_0x3e3412=_0x5a4a2a[_0x4da6f9(0xd9)]-_0x5a4a2a['previousElo']);_0x3e3412!==undefined&&_0xc8dcbf['set'](_0x1971d6,_0x3e3412);}}});if(_0x1bbeeb[_0x1b9a8f(0x86)]===0x0){const _0x15ae3d=collection(db,_0x1b9a8f(0xd3)),_0xb2bfa2=query(_0x15ae3d,where('gameMode','==','D2'),orderBy(_0x1b9a8f(0x76),_0x1b9a8f(0x80)),limit(0x32));try{const _0x14bb20=await getDocs(_0xb2bfa2);console['log'](_0x1b9a8f(0x74),_0x14bb20[_0x1b9a8f(0x86)],'fallback\x20entries'),_0x14bb20[_0x1b9a8f(0xcb)](_0xe979a3=>{const _0xa2a69c=_0x1b9a8f,_0x182816=_0xe979a3[_0xa2a69c(0xa0)](),_0x59cb09=_0x182816[_0xa2a69c(0x72)]||_0x182816[_0xa2a69c(0x91)];if(_0x59cb09&&_0x9be159[_0xa2a69c(0xe0)](_0x59cb09)){const _0x2d2e39=_0x182816[_0xa2a69c(0x75)]||(_0x182816['newElo']!==undefined&&_0x182816[_0xa2a69c(0xc4)]!==undefined?_0x182816[_0xa2a69c(0xd9)]-_0x182816['previousElo']:0x0);_0x2d2e39!==0x0&&(_0xc8dcbf[_0xa2a69c(0xb2)](_0x59cb09,_0x2d2e39),console[_0xa2a69c(0xc5)](_0xa2a69c(0xdf)+_0x59cb09+_0xa2a69c(0xd0)+_0x2d2e39));}});}catch(_0x1977a2){}}}catch(_0x2b5bf0){console['error'](_0x1b9a8f(0x71),_0x2b5bf0);}return _0xc8dcbf;}function a32_0x522e(_0x1e6e0f,_0x460353){const _0x51065f=a32_0x5c69();return a32_0x522e=function(_0xaa124d,_0xec4358){_0xaa124d=_0xaa124d-0x6a;let _0x268b25=_0x51065f[_0xaa124d];return _0x268b25;},a32_0x522e(_0x1e6e0f,_0x460353);}async function fetchBatchMatchStatsD2(_0x3b8e95){const _0x15eb5f=a32_0x522e,_0x3062c7=new Map();try{_0x3b8e95[_0x15eb5f(0xcb)](_0x2a7732=>{const _0x29f1f5=_0x15eb5f;_0x3062c7[_0x29f1f5(0xb2)](_0x2a7732,{'totalMatches':0x0,'wins':0x0,'losses':0x0,'totalKills':0x0,'totalDeaths':0x0,'kda':0x0,'winRate':0x0});});const _0x24e62b=collection(db,_0x15eb5f(0xb1)),_0x23db81=await getDocs(_0x24e62b);_0x23db81['forEach'](_0xa68861=>{const _0x5eb0a8=_0x15eb5f,_0x3dc811=_0xa68861[_0x5eb0a8(0xa0)](),_0x4f15f9=_0x3dc811[_0x5eb0a8(0x7f)],_0x2f938f=_0x3dc811[_0x5eb0a8(0x9a)];if(_0x3b8e95[_0x5eb0a8(0xe0)](_0x4f15f9)){const _0x69e1a2=_0x3062c7[_0x5eb0a8(0x84)](_0x4f15f9);_0x69e1a2[_0x5eb0a8(0xa5)]++,_0x69e1a2[_0x5eb0a8(0x7b)]++,_0x69e1a2[_0x5eb0a8(0xc7)]+=parseInt(_0x3dc811[_0x5eb0a8(0xb8)])||0x0,_0x69e1a2[_0x5eb0a8(0xba)]+=parseInt(_0x3dc811[_0x5eb0a8(0xb5)])||0x0;}if(_0x3b8e95[_0x5eb0a8(0xe0)](_0x2f938f)){const _0x23428d=_0x3062c7[_0x5eb0a8(0x84)](_0x2f938f);_0x23428d['losses']++,_0x23428d[_0x5eb0a8(0x7b)]++,_0x23428d['totalKills']+=parseInt(_0x3dc811['loserScore'])||0x0,_0x23428d['totalDeaths']+=parseInt(_0x3dc811['winnerScore'])||0x0;}}),_0x3b8e95[_0x15eb5f(0xcb)](_0x34bd81=>{const _0xf3285b=_0x15eb5f,_0x3b5015=_0x3062c7['get'](_0x34bd81);_0x3b5015[_0xf3285b(0xb0)]=_0x3b5015['totalDeaths']>0x0?(_0x3b5015[_0xf3285b(0xc7)]/_0x3b5015[_0xf3285b(0xba)])['toFixed'](0x2):_0x3b5015[_0xf3285b(0xc7)]['toFixed'](0x2),_0x3b5015[_0xf3285b(0xa3)]=_0x3b5015[_0xf3285b(0x7b)]>0x0?(_0x3b5015['wins']/_0x3b5015[_0xf3285b(0x7b)]*0x64)[_0xf3285b(0x70)](0x1):0x0;});}catch(_0x215b75){console[_0x15eb5f(0x78)]('Error\x20fetching\x20batch\x20D2\x20match\x20stats:',_0x215b75);}return _0x3062c7;}export{displayLadderD2,updatePlayerPositions};