const a46_0xf52768=a46_0x2bf0,a46_0x1a9739=(function(){let _0x52a62e=!![];return function(_0x44cdcf,_0x567932){const _0xd0b8e5=_0x52a62e?function(){if(_0x567932){const _0x149c35=_0x567932['apply'](_0x44cdcf,arguments);return _0x567932=null,_0x149c35;}}:function(){};return _0x52a62e=![],_0xd0b8e5;};}()),a46_0x443f4f=a46_0x1a9739(this,function(){const _0x5c0c16=a46_0x2bf0;let _0x496cc2;try{const _0x596b78=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x496cc2=_0x596b78();}catch(_0x4e8232){_0x496cc2=window;}const _0x5d66b2=_0x496cc2['console']=_0x496cc2['console']||{},_0x5789d2=['log','warn','info','error','exception','table',_0x5c0c16(0x1da)];for(let _0x4d84bb=0x0;_0x4d84bb<_0x5789d2['length'];_0x4d84bb++){const _0x31c463=a46_0x1a9739['constructor']['prototype'][_0x5c0c16(0x20a)](a46_0x1a9739),_0x51b5ad=_0x5789d2[_0x4d84bb],_0x16d19c=_0x5d66b2[_0x51b5ad]||_0x31c463;_0x31c463['__proto__']=a46_0x1a9739[_0x5c0c16(0x20a)](a46_0x1a9739),_0x31c463['toString']=_0x16d19c['toString']['bind'](_0x16d19c),_0x5d66b2[_0x51b5ad]=_0x31c463;}});a46_0x443f4f();import{getAuth,onAuthStateChanged}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,updateDoc,collection,addDoc,serverTimestamp}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{clearTokenCache}from'./tokens.js';const auth=getAuth(),db=getFirestore(),THEMES={'default':{'price':0x0,'name':'Classic\x20RDL','description':'Rock\x20texture\x20with\x20a\x20sleek\x20nav\x20and\x20footer'},'contrast':{'price':0x0,'name':'Nightlight','description':a46_0xf52768(0x22d)},'purple':{'price':0x96,'name':'Purple','description':'Can\x27t\x20get\x20enough'},'ocean':{'price':0x12c,'name':a46_0xf52768(0x1c9),'description':'This\x20one\x20is\x20really\x20pretty'},'cyberpunk':{'price':0x190,'name':a46_0xf52768(0x1e7),'description':'This\x20theme\x20makes\x20me\x20happy'},'volcanic':{'price':0x1f4,'name':'Red','description':'For\x20the\x20angry\x20type.'},'gold':{'price':0x320,'name':a46_0xf52768(0x21f),'description':'Only\x20the\x20best\x20get\x20this\x20one'},'emerald':{'price':0x3e8,'name':a46_0xf52768(0x1e9),'description':'Emerald\x20City!'},'cockpit':{'price':0x4b0,'name':a46_0xf52768(0x209),'description':a46_0xf52768(0x1eb)}},TOKENS={'pwr01':{'price':0x64,'name':'Energy','description':'Enhanced\x20energy\x20generation\x20unit','image':a46_0xf52768(0x20f),'category':'powerup'},'fan':{'price':0x96,'name':'Fan','description':'Show\x20your\x20support\x20with\x20this\x20fan\x20token.','image':'../images/tokens/Fan.gif','category':'fun'},'marker':{'price':0xfa,'name':a46_0xf52768(0x210),'description':'Leave\x20your\x20mark\x20on\x20the\x20leaderboard.','image':'../images/tokens/Marker.gif','category':'fun'},'laser':{'price':0x12c,'name':'Laser','description':'Classic\x20laser\x20weapon\x20token.','image':'../images/tokens/Laser.gif','category':a46_0xf52768(0x1ff)},'pbomb':{'price':0x15e,'name':'Proximity\x20Bomb','description':'Strategic\x20explosive\x20device','image':'../images/tokens/subgame/pbomb.gif','category':'weapon'},'fusion':{'price':0x15e,'name':a46_0xf52768(0x1cf),'description':'Devastating\x20fusion\x20weapon\x20technology','image':a46_0xf52768(0x232),'category':'weapon'},'lock':{'price':0x1c2,'name':a46_0xf52768(0x221),'description':a46_0xf52768(0x1fd),'image':'../images/tokens/Lock.gif','category':'fun'},'blob01':{'price':0x1f4,'name':a46_0xf52768(0x231),'description':'A\x20mysterious\x20purple\x20blob\x20token','image':'../images/tokens/blob01.gif','category':'blob'},'plasma':{'price':0x1f4,'name':'Plasma\x20Cannon','description':a46_0xf52768(0x1fe),'image':a46_0xf52768(0x1aa),'category':'weapon'},'cloak':{'price':0x1f4,'name':a46_0xf52768(0x1f4),'description':'Become\x20one\x20with\x20the\x20shadows','image':'../images/tokens/cloak.gif','category':'special'},'pwr02':{'price':0x258,'name':a46_0xf52768(0x1f0),'description':a46_0xf52768(0x1ba),'image':'../images/tokens/subgame/pwr02.gif','category':'powerup'},'mercury':{'price':0x258,'name':a46_0xf52768(0x214),'description':'Fast\x20and\x20furious\x20missile\x20token.','image':'../images/tokens/Mercury.gif','category':a46_0xf52768(0x1ff)},'plasmablobl':{'price':0x258,'name':'Plasma\x20Blob','description':a46_0xf52768(0x203),'image':a46_0xf52768(0x1a0),'category':'blob'},'smissile':{'price':0x28a,'name':'Smart\x20Missile','description':a46_0xf52768(0x1ab),'image':'../images/tokens/subgame/smissile.gif','category':'weapon'},'smartmine':{'price':0x2ee,'name':a46_0xf52768(0x224),'description':a46_0xf52768(0x1cc),'image':a46_0xf52768(0x21c),'category':'weapon'},'mmissile':{'price':0x320,'name':a46_0xf52768(0x21a),'description':a46_0xf52768(0x223),'image':a46_0xf52768(0x1d1),'category':'weapon'},'gauge18':{'price':0x320,'name':'R/Y/B\x20Keys','description':'Monitor\x20your\x20ship\x27s\x20energy\x20levels','image':'../images/tokens/gauge18.gif','category':'equipment'},'extralife':{'price':0x320,'name':'Extra\x20Life','description':'A\x20rare\x20extra\x20life\x20token.','image':'../images/tokens/Extralife.gif','category':'special'},'hostage':{'price':0x3b6,'name':'Hostage','description':a46_0xf52768(0x1f3),'image':'../images/tokens/Hostage.gif','category':'special'},'phoenix':{'price':0x3b6,'name':'Phoenix\x20Cannon','description':'Fiery\x20phoenix\x20cannon\x20token.','image':'../images/tokens/Phoenix.gif','category':a46_0xf52768(0x1ff)},'blob02':{'price':0x3e8,'name':'Blob\x20Token\x202','description':'Another\x20enigmatic\x20blob\x20creature','image':'../images/tokens/blob02.gif','category':'blob'},'invuln':{'price':0x5dc,'name':'Invulnerability','description':'Become\x20invincible\x20for\x20a\x20short\x20time.','image':'../images/tokens/Invuln.gif','category':a46_0xf52768(0x1b1)},'blob03':{'price':0x7d0,'name':a46_0xf52768(0x1ec),'description':a46_0xf52768(0x1dc),'image':'../images/tokens/blob03.gif','category':a46_0xf52768(0x19c)},'reactor':{'price':0x7d0,'name':'Reactor','description':'The\x20heart\x20of\x20every\x20mine.','image':a46_0xf52768(0x1cb),'category':'special'},'pyro':{'price':0xbb8,'name':a46_0xf52768(0x1f1),'description':a46_0xf52768(0x1b5),'image':a46_0xf52768(0x1fb),'category':'ship'}};let userData={'points':0x0,'inventory':[],'isAdmin':![]},storeContainer,pointsDisplay,authWarning;document['addEventListener']('DOMContentLoaded',()=>{const _0x567359=a46_0xf52768;console['log']('üè™\x20Redeem\x20store\x20initializing...'),storeContainer=document['getElementById']('store-content'),pointsDisplay=document['getElementById']('user-points'),authWarning=document['getElementById'](_0x567359(0x1a5)),initAuthListener(),buildStoreUI();});function initAuthListener(){onAuthStateChanged(auth,async _0x53b58=>{const _0x2400d6=a46_0x2bf0;if(_0x53b58){console['log'](_0x2400d6(0x1ee),_0x53b58['displayName']||_0x53b58['email']);if(authWarning)authWarning['style'][_0x2400d6(0x1c2)]='none';if(storeContainer)storeContainer['style']['display']='block';await loadUserData(_0x53b58),updateThemeButtons(),updateTokenButtons();}else{console['log']('‚ùå\x20User\x20not\x20authenticated');if(authWarning)authWarning['style']['display']=_0x2400d6(0x1b8);if(storeContainer)storeContainer[_0x2400d6(0x1a7)]['display']=_0x2400d6(0x1b4);userData={'points':0x0,'inventory':[],'isAdmin':![]},window['isUserAdmin']=![];}});}async function loadUserData(_0x124461){const _0x46259f=a46_0xf52768;try{const _0x2062da=doc(db,'userProfiles',_0x124461['uid']),_0x2b724c=await getDoc(_0x2062da);if(_0x2b724c[_0x46259f(0x22c)]()){const _0x38f7d8=_0x2b724c['data']();userData={'points':_0x38f7d8['points']||0x0,'inventory':_0x38f7d8[_0x46259f(0x22a)]||[],'isAdmin':_0x38f7d8['isAdmin']||![],'equippedToken':_0x38f7d8[_0x46259f(0x1b3)]||null},pointsDisplay&&(pointsDisplay['textContent']=userData['points'][_0x46259f(0x1a8)]()),window['isUserAdmin']=userData['isAdmin'],userData['isAdmin']&&(console[_0x46259f(0x1c7)]('üëë\x20Admin\x20controls\x20enabled'),window['dispatchEvent'](new CustomEvent(_0x46259f(0x1ac),{'detail':{'isAdmin':!![]}}))),console['log']('User\x20data\x20loaded\x20-\x20Points:\x20'+userData['points']+',\x20Inventory:\x20'+userData['inventory']['length']+'\x20items,\x20Equipped:\x20'+(userData['equippedToken']||_0x46259f(0x1b4)));}else await setDoc(_0x2062da,{'points':0x0,'inventory':[],'equippedToken':null,'createdAt':serverTimestamp(),'username':_0x124461['displayName']||_0x124461['email']?.['split']('@')[0x0]||'User'}),userData={'points':0x0,'inventory':[],'isAdmin':![],'equippedToken':null},pointsDisplay&&(pointsDisplay['textContent']='0'),window['isUserAdmin']=![],console['log'](_0x46259f(0x226));}catch(_0x1d3b30){console[_0x46259f(0x1ca)]('Error\x20loading\x20user\x20data:',_0x1d3b30);}}function userOwnsTheme(_0x14284e){const _0x1e167f=a46_0xf52768;if(THEMES[_0x14284e]?.['price']===0x0)return!![];return userData[_0x1e167f(0x22a)]['includes'](_0x1e167f(0x1a6)+_0x14284e);}function a46_0x2bf0(_0x38ebd0,_0x5995f7){const _0x443f4f=a46_0x4d6a();return a46_0x2bf0=function(_0x1a9739,_0x213598){_0x1a9739=_0x1a9739-0x199;let _0x4d6abc=_0x443f4f[_0x1a9739];return _0x4d6abc;},a46_0x2bf0(_0x38ebd0,_0x5995f7);}function userOwnsToken(_0x3c1286){const _0x4fda63=a46_0xf52768;return userData['inventory'][_0x4fda63(0x21d)](_0x4fda63(0x207)+_0x3c1286);}function userHasTokenEquipped(_0x3e00c7){return userData['equippedToken']===_0x3e00c7;}function getEquippedToken(){return userData['equippedToken']||null;}async function purchaseTheme(_0x253681){const _0x5c9d68=a46_0xf52768,_0x9dfada=auth['currentUser'];if(!_0x9dfada)return showMessage('Please\x20sign\x20in\x20to\x20purchase\x20themes','error'),![];const _0x14c8d7=THEMES[_0x253681];if(!_0x14c8d7)return console['error'](_0x5c9d68(0x212)+_0x253681+'\x20not\x20found'),![];if(userData['points']<_0x14c8d7['price'])return showMessage('Not\x20enough\x20points.\x20You\x20need\x20'+(_0x14c8d7['price']-userData['points'])+'\x20more\x20points.','error'),![];if(userOwnsTheme(_0x253681))return showMessage('You\x20already\x20own\x20the\x20'+_0x14c8d7[_0x5c9d68(0x220)]+'\x20theme','info'),![];try{return await processPurchase(_0x253681,_0x14c8d7,_0x5c9d68(0x219));}catch(_0x49a2ba){return console['error']('Theme\x20purchase\x20failed:',_0x49a2ba),showMessage(_0x5c9d68(0x1bf),'error'),![];}}async function purchaseToken(_0x277d91){const _0x1e3e48=a46_0xf52768,_0x2bcbdd=auth['currentUser'];if(!_0x2bcbdd)return showMessage('Please\x20sign\x20in\x20to\x20purchase\x20tokens',_0x1e3e48(0x1ca)),![];const _0x3d7b4b=TOKENS[_0x277d91];if(!_0x3d7b4b)return console['error']('Token\x20'+_0x277d91+_0x1e3e48(0x1b2)),![];if(userData['points']<_0x3d7b4b['price'])return showMessage('Not\x20enough\x20points.\x20You\x20need\x20'+(_0x3d7b4b['price']-userData[_0x1e3e48(0x204)])+_0x1e3e48(0x20c),'error'),![];if(userOwnsToken(_0x277d91))return showMessage(_0x1e3e48(0x227)+_0x3d7b4b[_0x1e3e48(0x220)]+'\x20token','info'),![];try{return await processPurchase(_0x277d91,_0x3d7b4b,'token');}catch(_0x1c6f69){return console['error']('Token\x20purchase\x20failed:',_0x1c6f69),showMessage(_0x1e3e48(0x1bf),_0x1e3e48(0x1ca)),![];}}async function processPurchase(_0x567094,_0x1ad888,_0x4f1c9a){const _0x6d8ea=a46_0xf52768,_0x16cf45=auth[_0x6d8ea(0x1ed)];try{const _0x49ce18=doc(db,'userProfiles',_0x16cf45['uid']),_0x4a6fc5=await getDoc(_0x49ce18);if(!_0x4a6fc5['exists']())return showMessage('User\x20profile\x20not\x20found',_0x6d8ea(0x1ca)),![];const _0x40cf90=_0x4a6fc5['data'](),_0x189be5=_0x40cf90['points']||0x0,_0x170bd7=_0x40cf90['inventory']||[];if(_0x189be5<_0x1ad888['price'])return showMessage('Insufficient\x20points',_0x6d8ea(0x1ca)),![];if(_0x170bd7[_0x6d8ea(0x21d)](_0x4f1c9a+'_'+_0x567094))return showMessage('You\x20already\x20own\x20this\x20'+_0x4f1c9a,'info'),![];const _0x5f3bc3=_0x189be5-_0x1ad888[_0x6d8ea(0x19f)],_0x2e1c9e=[..._0x170bd7,_0x4f1c9a+'_'+_0x567094];await updateDoc(_0x49ce18,{'points':_0x5f3bc3,'inventory':_0x2e1c9e,'lastPurchase':serverTimestamp()});if(_0x4f1c9a==='token')try{const _0x2d7103=doc(db,'userTokens',_0x16cf45['uid']),_0x1be8c9=await getDoc(_0x2d7103);let _0x4755f8=[];_0x1be8c9['exists']()&&(_0x4755f8=_0x1be8c9[_0x6d8ea(0x22b)]()['tokens']||[]);const _0x4694e7=new Date();_0x4755f8[_0x6d8ea(0x1ce)]({'tokenId':_0x567094,'tokenName':_0x1ad888['name'],'tokenImage':_0x1ad888['image'],'category':_0x1ad888['category'],'purchasedAt':_0x4694e7,'price':_0x1ad888['price'],'equipped':![]}),await setDoc(_0x2d7103,{'userId':_0x16cf45['uid'],'username':_0x40cf90['username']||_0x16cf45['displayName']||'Unknown','tokens':_0x4755f8,'lastUpdated':serverTimestamp()},{'merge':!![]}),typeof clearTokenCache==='function'&&clearTokenCache(_0x16cf45['uid']),console['log']('‚úÖ\x20Token\x20'+_0x567094+'\x20saved\x20to\x20userTokens\x20collection\x20(not\x20equipped)');}catch(_0x203041){console['warn'](_0x6d8ea(0x1ea),_0x203041),_0x203041['code']==='permission-denied'?console[_0x6d8ea(0x1c7)]('üîß\x20Token\x20permissions\x20issue\x20detected,\x20but\x20purchase\x20was\x20successful'):console['error']('Unexpected\x20token\x20error:',_0x203041);}try{await addDoc(collection(db,'transactions'),{'userId':_0x16cf45['uid'],'userEmail':_0x16cf45['email'],'itemId':_0x4f1c9a+'_'+_0x567094,'itemTitle':_0x1ad888[_0x6d8ea(0x220)],'price':_0x1ad888['price'],'type':'purchase','category':_0x4f1c9a,'timestamp':serverTimestamp()});}catch(_0x467a7f){console['warn']('Transaction\x20logging\x20failed,\x20but\x20purchase\x20was\x20successful:',_0x467a7f);}return userData['points']=_0x5f3bc3,userData[_0x6d8ea(0x22a)]=_0x2e1c9e,pointsDisplay&&(pointsDisplay['textContent']=userData[_0x6d8ea(0x204)][_0x6d8ea(0x1a8)]()),updateTokenButtons(),_0x4f1c9a===_0x6d8ea(0x219)&&updateThemeButtons(),console['log']('‚úÖ\x20Purchased\x20'+_0x1ad888[_0x6d8ea(0x220)]+'\x20for\x20'+_0x1ad888['price']+'\x20points'),showMessage('Successfully\x20purchased\x20'+_0x1ad888[_0x6d8ea(0x220)]+'!\x20Use\x20the\x20\x22Equip\x22\x20button\x20to\x20show\x20it\x20on\x20the\x20ladder.','success'),!![];}catch(_0x57cec9){console['error']('Purchase\x20processing\x20error:',_0x57cec9);if(_0x57cec9['code']==='permission-denied')showMessage(_0x6d8ea(0x1de),'error');else{if(_0x57cec9['code']==='unavailable')showMessage('Service\x20temporarily\x20unavailable.\x20Please\x20try\x20again.','error');else _0x57cec9[_0x6d8ea(0x19a)]==='unauthenticated'?showMessage('Please\x20sign\x20in\x20again\x20to\x20complete\x20purchase.','error'):showMessage(_0x6d8ea(0x1bf),'error');}return![];}}async function equipToken(_0x42d87d){const _0xe8914=a46_0xf52768,_0x6b54b=auth['currentUser'];if(!_0x6b54b)return showMessage('Please\x20sign\x20in\x20to\x20equip\x20tokens','error'),![];const _0x5c03e9=TOKENS[_0x42d87d];if(!_0x5c03e9)return console['error'](_0xe8914(0x1d5)+_0x42d87d+'\x20not\x20found'),![];if(!userOwnsToken(_0x42d87d))return showMessage('You\x20must\x20own\x20this\x20token\x20to\x20equip\x20it','error'),![];try{const _0x6cd076=doc(db,_0xe8914(0x20d),_0x6b54b[_0xe8914(0x1ad)]);await updateDoc(_0x6cd076,{'equippedToken':_0x42d87d,'lastTokenEquip':serverTimestamp()});try{const _0xd885f5=doc(db,'userTokens',_0x6b54b['uid']),_0xb4ab1a=await getDoc(_0xd885f5);if(_0xb4ab1a['exists']()){const _0x28aa1c=_0xb4ab1a['data'](),_0x331291=_0x28aa1c[_0xe8914(0x1c6)]||[],_0x25b748=_0x331291[_0xe8914(0x1ae)](_0x5d6d11=>({..._0x5d6d11,'equipped':_0x5d6d11[_0xe8914(0x216)]===_0x42d87d}));await updateDoc(_0xd885f5,{'tokens':_0x25b748,'equippedToken':_0x42d87d,'lastUpdated':serverTimestamp()});}}catch(_0x30747d){console['warn'](_0xe8914(0x1d8),_0x30747d);}return userData['equippedToken']=_0x42d87d,typeof clearTokenCache===_0xe8914(0x1a2)&&(clearTokenCache(_0x6b54b[_0xe8914(0x1ad)]),clearTokenCache()),setTimeout(()=>{const _0x3e64d3=_0xe8914;window['displayLadder']&&typeof window['displayLadder']==='function'&&(console['log']('üîÑ\x20Refreshing\x20ladder\x20to\x20show\x20equipped\x20token'),window['displayLadder'](!![])),window['RedeemStore']&&typeof window['RedeemStore']['refreshUI']==='function'&&window['RedeemStore'][_0x3e64d3(0x208)]();},0x1f4),console[_0xe8914(0x1c7)](_0xe8914(0x199)+_0x5c03e9['name']),showMessage(_0x5c03e9['name']+'\x20equipped!\x20Ladder\x20will\x20refresh\x20shortly.',_0xe8914(0x225)),!![];}catch(_0x4e13e1){return console[_0xe8914(0x1ca)]('Token\x20equip\x20failed:',_0x4e13e1),_0x4e13e1['code']==='permission-denied'?showMessage('Permission\x20denied.\x20Token\x20may\x20still\x20be\x20equipped\x20-\x20check\x20the\x20ladder.',_0xe8914(0x213)):showMessage('Failed\x20to\x20equip\x20token:\x20'+_0x4e13e1['message'],_0xe8914(0x1ca)),![];}}async function unequipToken(){const _0x4a6868=a46_0xf52768,_0x5eb17f=auth['currentUser'];if(!_0x5eb17f)return showMessage('Please\x20sign\x20in\x20to\x20unequip\x20tokens','error'),![];if(!userData['equippedToken'])return showMessage(_0x4a6868(0x1d3),_0x4a6868(0x201)),![];try{const _0x4e3d5c=doc(db,'userProfiles',_0x5eb17f['uid']);await updateDoc(_0x4e3d5c,{'equippedToken':null,'lastTokenEquip':serverTimestamp()});const _0x3473e7=doc(db,_0x4a6868(0x215),_0x5eb17f['uid']),_0x2ad4af=await getDoc(_0x3473e7);if(_0x2ad4af[_0x4a6868(0x22c)]()){const _0x15a46d=_0x2ad4af['data'](),_0x4c679a=_0x15a46d['tokens']||[],_0x1121c6=_0x4c679a['map'](_0x49181b=>({..._0x49181b,'equipped':![]}));await updateDoc(_0x3473e7,{'tokens':_0x1121c6,'equippedToken':null,'lastUpdated':serverTimestamp()});}return userData['equippedToken']=null,typeof clearTokenCache==='function'&&(clearTokenCache(_0x5eb17f['uid']),clearTokenCache()),setTimeout(()=>{const _0x6ef289=_0x4a6868;window['displayLadder']&&typeof window['displayLadder']==='function'&&(console['log']('üîÑ\x20Refreshing\x20ladder\x20to\x20remove\x20unequipped\x20token'),window[_0x6ef289(0x1f7)](!![])),window['RedeemStore']&&typeof window['RedeemStore']['refreshUI']==='function'&&window['RedeemStore']['refreshUI']();},0x1f4),console[_0x4a6868(0x1c7)](_0x4a6868(0x1a1)),showMessage(_0x4a6868(0x1bc),'success'),!![];}catch(_0x1cf5a2){return console['error']('Token\x20unequip\x20failed:',_0x1cf5a2),showMessage('Failed\x20to\x20unequip\x20token:\x20'+_0x1cf5a2['message'],'error'),![];}}async function sellToken(_0x3681c1){const _0x29e6a4=a46_0xf52768,_0x2bd6ad=auth['currentUser'];if(!_0x2bd6ad)return showMessage('Please\x20sign\x20in\x20to\x20sell\x20tokens',_0x29e6a4(0x1ca)),![];if(!userData[_0x29e6a4(0x1e3)])return showMessage('Only\x20admins\x20can\x20sell\x20tokens',_0x29e6a4(0x1ca)),![];const _0x5c5e68=TOKENS[_0x3681c1];if(!_0x5c5e68)return console['error']('Token\x20'+_0x3681c1+'\x20not\x20found'),![];if(!userOwnsToken(_0x3681c1))return showMessage('You\x20don\x27t\x20own\x20this\x20token','error'),![];try{const _0x78f958=doc(db,'userProfiles',_0x2bd6ad[_0x29e6a4(0x1ad)]),_0x263dd=await getDoc(_0x78f958),_0x5808db=_0x263dd['data'](),_0x53941f=Math['floor'](_0x5c5e68[_0x29e6a4(0x19f)]*0.5),_0x1c8348=(_0x5808db[_0x29e6a4(0x204)]||0x0)+_0x53941f,_0x2a84f6=(_0x5808db['inventory']||[])[_0x29e6a4(0x1b6)](_0x58877d=>_0x58877d!==_0x29e6a4(0x207)+_0x3681c1),_0x462e8d=_0x5808db['equippedToken']===_0x3681c1?null:_0x5808db['equippedToken'];await updateDoc(_0x78f958,{'points':_0x1c8348,'inventory':_0x2a84f6,'equippedToken':_0x462e8d,'lastSale':serverTimestamp()});const _0x5c6683=doc(db,'userTokens',_0x2bd6ad['uid']),_0x5637ef=await getDoc(_0x5c6683);if(_0x5637ef['exists']()){const _0x2750db=_0x5637ef['data'](),_0x2397af=_0x2750db[_0x29e6a4(0x1c6)]||[],_0x157f86=_0x2397af[_0x29e6a4(0x1b6)](_0x44e8b1=>_0x44e8b1['tokenId']!==_0x3681c1);await updateDoc(_0x5c6683,{'tokens':_0x157f86,'equippedToken':_0x462e8d,'lastUpdated':serverTimestamp()});}return await addDoc(collection(db,'transactions'),{'userId':_0x2bd6ad['uid'],'userEmail':_0x2bd6ad['email'],'itemId':'token_'+_0x3681c1,'itemTitle':_0x5c5e68['name'],'refund':_0x53941f,'originalPrice':_0x5c5e68['price'],'type':'sale','category':'token','timestamp':serverTimestamp()}),userData['points']=_0x1c8348,userData[_0x29e6a4(0x22a)]=_0x2a84f6,userData[_0x29e6a4(0x1b3)]=_0x462e8d,pointsDisplay&&(pointsDisplay['textContent']=userData['points']['toLocaleString']()),typeof clearTokenCache==='function'&&clearTokenCache(_0x2bd6ad['uid']),console['log']('‚úÖ\x20Sold\x20token\x20'+_0x5c5e68[_0x29e6a4(0x220)]+'\x20for\x20'+_0x53941f+'\x20points'),showMessage('Sold\x20'+_0x5c5e68['name']+'\x20for\x20'+_0x53941f+_0x29e6a4(0x205),_0x29e6a4(0x225)),!![];}catch(_0x2d1e75){return console[_0x29e6a4(0x1ca)]('Token\x20sale\x20failed:',_0x2d1e75),showMessage(_0x29e6a4(0x1f8)+_0x2d1e75['message'],_0x29e6a4(0x1ca)),![];}}function applyTheme(_0x3acc20){const _0x3b57f5=a46_0xf52768;if(!userOwnsTheme(_0x3acc20))return showMessage('You\x20must\x20purchase\x20this\x20theme\x20first','error'),![];return window['ThemeSystem']?(window[_0x3b57f5(0x1ef)]['switchTheme'](_0x3acc20),showMessage((THEMES[_0x3acc20]?.[_0x3b57f5(0x220)]||_0x3acc20)+'\x20theme\x20applied!','success'),!![]):(console['error']('Theme\x20system\x20not\x20found'),![]);}function buildStoreUI(){buildThemeItems(),buildTokenItems();}function buildThemeItems(){const _0x1d1099=a46_0xf52768,_0xa614=document['querySelector']('.themes-grid');if(!_0xa614){console['error']('Themes\x20container\x20not\x20found');return;}_0xa614['innerHTML']='',Object[_0x1d1099(0x1d9)](THEMES)['forEach'](([_0x40b6c7,_0xaa57ef])=>{const _0xcd6c7=_0x1d1099,_0x20496a=document['createElement']('div');_0x20496a[_0xcd6c7(0x1b0)]='store-item',_0x20496a['dataset']['theme']=_0x40b6c7,_0x20496a['dataset']['itemId']=_0xcd6c7(0x1a6)+_0x40b6c7,_0x20496a[_0xcd6c7(0x1d4)]['price']=_0xaa57ef['price'],_0x20496a['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-icon\x20theme-icon-'+_0x40b6c7+_0xcd6c7(0x20e)+(_0xaa57ef['price']===0x0?'FREE':_0xaa57ef['price']+'\x20Points')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22item-title\x22>'+_0xaa57ef['name']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22item-description\x22>'+_0xaa57ef[_0xcd6c7(0x1d7)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22theme-select-btn\x20purchase-btn\x22>Select\x20Theme</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0xa614['appendChild'](_0x20496a);}),setupThemeButtons();}function buildTokenItems(){const _0x13fbf8=a46_0xf52768,_0x5a289b=document['querySelector'](_0x13fbf8(0x1e0));if(!_0x5a289b){console['error']('Tokens\x20container\x20not\x20found');return;}_0x5a289b['innerHTML']='',Object['entries'](TOKENS)['forEach'](([_0x572131,_0x32d05d])=>{const _0x519d04=_0x13fbf8,_0x4dc090=document[_0x519d04(0x1df)]('div');_0x4dc090['className']='store-item\x20token-item',_0x4dc090['dataset']['token']=_0x572131,_0x4dc090[_0x519d04(0x1d4)]['itemId']='token_'+_0x572131,_0x4dc090['dataset'][_0x519d04(0x19f)]=_0x32d05d[_0x519d04(0x19f)];const _0x418219=userData['isAdmin']&&userOwnsToken(_0x572131)?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22token-sell-btn\x20admin-btn\x22\x20style=\x22margin-top:\x200.5rem;\x20background:\x20#f44336;\x20font-size:\x200.8rem;\x20padding:\x200.3rem;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Sell\x20('+Math['floor'](_0x32d05d[_0x519d04(0x19f)]*0.5)+_0x519d04(0x211):'';_0x4dc090['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-icon\x20token-icon\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22'+_0x32d05d['image']+'\x22\x20alt=\x22'+_0x32d05d['name']+_0x519d04(0x230)+_0x32d05d['price']+'\x20Points</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22token-select-btn\x20purchase-btn\x22>Purchase</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22token-equip-btn\x20equip-btn\x22\x20style=\x22margin-top:\x200.5rem;\x20display:\x20none;\x22>Equip</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x418219+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x5a289b['appendChild'](_0x4dc090);}),setupTokenButtons();}function setupThemeButtons(){const _0x5c6f72=a46_0xf52768,_0x2e0e07=document['querySelectorAll'](_0x5c6f72(0x20b));_0x2e0e07['forEach'](_0x31f5a1=>{const _0x520114=_0x5c6f72;_0x31f5a1[_0x520114(0x19e)](_0x520114(0x19b),async _0xe2dd81=>{const _0x9f471=_0x520114;_0xe2dd81['preventDefault']();const _0x338008=auth[_0x9f471(0x1ed)];if(!_0x338008){showMessage(_0x9f471(0x1b7),'error');return;}const _0x5d6f59=_0x31f5a1[_0x9f471(0x1fc)](_0x9f471(0x1e6)),_0xd44466=_0x5d6f59[_0x9f471(0x1d4)]['theme'],_0x4d9382=THEMES[_0xd44466];if(!_0x4d9382){console['error']('Theme\x20'+_0xd44466+_0x9f471(0x1b2));return;}console['log']('Theme\x20clicked:\x20'+_0x4d9382['name']+'\x20('+_0xd44466+')');if(_0x31f5a1['disabled']){_0x4d9382['price']>0x0&&showMessage('You\x20need\x20'+_0x4d9382[_0x9f471(0x19f)]+'\x20points\x20to\x20purchase\x20this\x20theme','error');return;}if(_0x31f5a1[_0x9f471(0x1d2)]==='Current\x20Theme'){showMessage(_0x4d9382['name']+_0x9f471(0x1c0),_0x9f471(0x201));return;}if(_0x31f5a1['textContent']==='Apply\x20Theme'){applyTheme(_0xd44466),updateThemeButtons();return;}if(_0x31f5a1['textContent']['includes']('Buy')){const _0x32b79d=window[_0x9f471(0x1c1)]('Purchase\x20'+_0x4d9382['name']+'\x20theme\x20for\x20'+_0x4d9382['price']+'\x20points?');if(!_0x32b79d)return;const _0x1edf04=await purchaseTheme(_0xd44466);_0x1edf04&&(showMessage(_0x4d9382[_0x9f471(0x220)]+'\x20theme\x20purchased!',_0x9f471(0x225)),applyTheme(_0xd44466),updateThemeButtons());return;}userOwnsTheme(_0xd44466)?applyTheme(_0xd44466):showMessage(_0x9f471(0x1a9),'error');});}),updateThemeButtons();}function setupTokenButtons(){const _0x48cce2=a46_0xf52768,_0xeb70a1=document['querySelectorAll']('.token-select-btn'),_0x516dd3=document[_0x48cce2(0x1a3)](_0x48cce2(0x206)),_0x4099fc=document[_0x48cce2(0x1a3)]('.token-sell-btn');_0xeb70a1['forEach'](_0x315f5b=>{const _0xa4d3c0=_0x48cce2;_0x315f5b['addEventListener'](_0xa4d3c0(0x19b),async _0x46c034=>{const _0x37b4af=_0xa4d3c0;_0x46c034['preventDefault']();const _0x3f8e63=auth['currentUser'];if(!_0x3f8e63){showMessage(_0x37b4af(0x1a4),'error');return;}const _0x16054e=_0x315f5b[_0x37b4af(0x1fc)]('[data-token]'),_0x3e034a=_0x16054e['dataset'][_0x37b4af(0x21b)],_0x111659=TOKENS[_0x3e034a];if(!_0x111659){console['error']('Token\x20'+_0x3e034a+_0x37b4af(0x1b2));return;}console['log']('Token\x20clicked:\x20'+_0x111659['name']+'\x20('+_0x3e034a+')');if(_0x315f5b['disabled']){showMessage(_0x37b4af(0x1b9)+_0x111659['price']+'\x20points\x20to\x20purchase\x20this\x20token','error');return;}if(_0x315f5b['textContent']==='Owned'){showMessage('You\x20already\x20own\x20the\x20'+_0x111659[_0x37b4af(0x220)]+'\x20token',_0x37b4af(0x201));return;}if(_0x315f5b['textContent']['includes']('Purchase')||_0x315f5b['textContent']['includes']('Buy')){const _0x1d124e=window['confirm']('Purchase\x20'+_0x111659['name']+'\x20token\x20for\x20'+_0x111659[_0x37b4af(0x19f)]+'\x20points?');if(!_0x1d124e)return;const _0x41c82d=await purchaseToken(_0x3e034a);_0x41c82d&&updateTokenButtons();return;}});}),_0x516dd3['forEach'](_0x430eb3=>{_0x430eb3['addEventListener']('click',async _0x1caa4a=>{const _0x3245c8=a46_0x2bf0;_0x1caa4a['preventDefault']();const _0x1d1a84=_0x430eb3['closest'](_0x3245c8(0x1c5)),_0x159b02=_0x1d1a84['dataset']['token'],_0x55a614=TOKENS[_0x159b02];if(_0x430eb3['textContent']==='Equipped'){const _0x3a3a80=window['confirm']('Unequip\x20'+_0x55a614['name']+'?');if(!_0x3a3a80)return;const _0x50352f=await unequipToken();_0x50352f&&updateTokenButtons();}else{const _0x4421a7=window['confirm'](_0x3245c8(0x1be)+_0x55a614['name']+'?\x20This\x20will\x20unequip\x20your\x20current\x20token.');if(!_0x4421a7)return;const _0x48e6b8=await equipToken(_0x159b02);_0x48e6b8&&updateTokenButtons();}});}),_0x4099fc['forEach'](_0x2d9649=>{_0x2d9649['addEventListener']('click',async _0x20bb28=>{const _0x28077b=a46_0x2bf0;_0x20bb28['preventDefault']();const _0xec0959=_0x2d9649[_0x28077b(0x1fc)](_0x28077b(0x1c5)),_0xf349b=_0xec0959['dataset']['token'],_0x599047=TOKENS[_0xf349b],_0x44ddd0=Math['floor'](_0x599047['price']*0.5),_0x1dae39=window['confirm']('Are\x20you\x20sure\x20you\x20want\x20to\x20sell\x20'+_0x599047['name']+'\x20for\x20'+_0x44ddd0+'\x20points?\x20This\x20cannot\x20be\x20undone.');if(!_0x1dae39)return;const _0x3fdcce=await sellToken(_0xf349b);_0x3fdcce&&updateTokenButtons();});}),updateTokenButtons();}function updateThemeButtons(){const _0x1b5274=a46_0xf52768,_0x475369=window['ThemeSystem']?window['ThemeSystem'][_0x1b5274(0x218)]():_0x1b5274(0x1bd),_0x32d773=auth['currentUser'];document[_0x1b5274(0x1a3)]('.theme-select-btn')['forEach'](_0x457087=>{const _0xc1ac4d=_0x1b5274,_0x3a8154=_0x457087['closest']('[data-theme]'),_0x10c21e=_0x3a8154['dataset']['theme'],_0x5e1207=THEMES[_0x10c21e];if(!_0x5e1207)return;_0x457087['disabled']=![],_0x457087['style'][_0xc1ac4d(0x1af)]='',_0x457087['style']['cursor']='pointer',_0x457087['classList']['remove'](_0xc1ac4d(0x1dd),'apply-theme',_0xc1ac4d(0x1d0),'cannot-afford',_0xc1ac4d(0x228),'sign-in-paid');if(!_0x32d773){_0x5e1207['price']===0x0?(_0x457087[_0xc1ac4d(0x1d2)]=_0xc1ac4d(0x1cd),_0x457087[_0xc1ac4d(0x1bb)]['add'](_0xc1ac4d(0x228))):(_0x457087['textContent']=_0xc1ac4d(0x222),_0x457087[_0xc1ac4d(0x1e2)]=!![],_0x457087['style']['opacity']='0.7',_0x457087['classList']['add'](_0xc1ac4d(0x1c4)));return;}if(_0x10c21e===_0x475369){_0x457087['textContent']='Current\x20Theme',_0x457087['classList']['add'](_0xc1ac4d(0x1dd)),_0x457087['disabled']=!![],_0x457087['style']['cursor']='default';return;}if(userOwnsTheme(_0x10c21e)){_0x457087[_0xc1ac4d(0x1d2)]=_0xc1ac4d(0x1c3),_0x457087['classList']['add']('apply-theme');return;}if(userData['points']>=_0x5e1207['price']){_0x457087['textContent']=_0xc1ac4d(0x19d)+_0x5e1207['price']+'\x20Points',_0x457087['classList']['add']('can-afford');return;}_0x457087['textContent']='Need\x20'+_0x5e1207['price']+_0xc1ac4d(0x21e),_0x457087['classList'][_0xc1ac4d(0x1f2)]('cannot-afford'),_0x457087[_0xc1ac4d(0x1a7)]['opacity']='0.5',_0x457087['disabled']=!![],_0x457087['style']['cursor']='not-allowed';});}function updateTokenButtons(){const _0x7fa29d=a46_0xf52768,_0x2f85a2=auth[_0x7fa29d(0x1ed)];document['querySelectorAll']('.token-select-btn')[_0x7fa29d(0x22f)](_0x2b4f2b=>{const _0x398816=_0x7fa29d,_0xbf064d=_0x2b4f2b['closest']('[data-token]'),_0x31aa5e=_0xbf064d['dataset']['token'],_0x249c78=TOKENS[_0x31aa5e],_0x2ffdda=_0xbf064d['querySelector'](_0x398816(0x206)),_0x272b44=_0xbf064d[_0x398816(0x202)]('.token-sell-btn');if(!_0x249c78)return;_0x2b4f2b[_0x398816(0x1e2)]=![],_0x2b4f2b[_0x398816(0x1a7)]['opacity']='',_0x2b4f2b['style']['cursor']='pointer';_0x2ffdda&&(_0x2ffdda['style'][_0x398816(0x1c2)]='none',_0x2ffdda['disabled']=![],_0x2ffdda['style'][_0x398816(0x1af)]='',_0x2ffdda['classList']['remove']('equipped','can-equip'));_0x272b44&&(_0x272b44[_0x398816(0x1a7)][_0x398816(0x1c2)]='none');_0x2b4f2b['classList']['remove'](_0x398816(0x1f9),_0x398816(0x1d0),'cannot-afford',_0x398816(0x1e8));if(!_0x2f85a2){_0x2b4f2b['textContent']=_0x398816(0x222),_0x2b4f2b[_0x398816(0x1e2)]=!![],_0x2b4f2b[_0x398816(0x1a7)]['opacity']=_0x398816(0x1db),_0x2b4f2b['classList']['add']('sign-in');return;}if(userOwnsToken(_0x31aa5e)){_0x2b4f2b['textContent']=_0x398816(0x1fa),_0x2b4f2b[_0x398816(0x1bb)]['add'](_0x398816(0x1f9)),_0x2b4f2b[_0x398816(0x1e2)]=!![],_0x2b4f2b[_0x398816(0x1a7)][_0x398816(0x1e1)]=_0x398816(0x1bd),_0x2b4f2b['style']['background']='var(--success-color,\x20#4CAF50)';_0x2ffdda&&(_0x2ffdda['style']['display']='block',userHasTokenEquipped(_0x31aa5e)?(_0x2ffdda['textContent']=_0x398816(0x22e),_0x2ffdda[_0x398816(0x1bb)]['add'](_0x398816(0x1d6)),_0x2ffdda[_0x398816(0x1a7)][_0x398816(0x200)]='var(--accent-color,\x20#2196F3)',_0x2ffdda[_0x398816(0x1a7)]['cursor']='pointer'):(_0x2ffdda[_0x398816(0x1d2)]='Equip',_0x2ffdda['classList']['add'](_0x398816(0x229)),_0x2ffdda['style'][_0x398816(0x200)]='var(--info-color,\x20#17a2b8)',_0x2ffdda['style']['cursor']='pointer'));_0x272b44&&userData['isAdmin']&&(_0x272b44['style']['display']='block');return;}if(userData[_0x398816(0x204)]>=_0x249c78[_0x398816(0x19f)]){_0x2b4f2b['textContent']='Buy\x20for\x20'+_0x249c78['price']+'\x20Points',_0x2b4f2b['classList']['add']('can-afford'),_0x2b4f2b['style']['background']='';return;}_0x2b4f2b['textContent']='Need\x20'+_0x249c78['price']+'\x20Points',_0x2b4f2b[_0x398816(0x1bb)]['add'](_0x398816(0x1e5)),_0x2b4f2b['style']['opacity']='0.5',_0x2b4f2b[_0x398816(0x1e2)]=!![],_0x2b4f2b[_0x398816(0x1a7)]['cursor']=_0x398816(0x1f6),_0x2b4f2b['style'][_0x398816(0x200)]='var(--muted-color,\x20#757575)';});}function a46_0x4d6a(){const _0x3c7a12=['‚úÖ\x20Equipped\x20token:\x20','code','click','blob','Buy\x20for\x20','addEventListener','price','../images/tokens/Plasmablobl.gif','‚úÖ\x20Token\x20unequipped','function','querySelectorAll','Please\x20sign\x20in\x20to\x20purchase\x20tokens','auth-warning','theme_','style','toLocaleString','You\x20must\x20purchase\x20this\x20theme\x20first','../images/tokens/Plasma.gif','Intelligent\x20targeting\x20system','adminStatusChanged','uid','map','opacity','className','powerup','\x20not\x20found','equippedToken','none','The\x20iconic\x20Pyro-GX\x20ship.','filter','Please\x20sign\x20in\x20to\x20select\x20themes','block','You\x20need\x20','Advanced\x20energy\x20storage\x20system','classList','Token\x20unequipped!\x20Ladder\x20will\x20refresh\x20shortly.','default','Equip\x20','Purchase\x20failed.\x20Please\x20try\x20again.','\x20is\x20already\x20your\x20current\x20theme','confirm','display','Apply\x20Theme','sign-in-paid','[data-token]','tokens','log','appendChild','Blue','error','../images/tokens/Reactor.gif','A\x20cunning\x20explosive\x20device.','Sign\x20in\x20to\x20Apply','push','Fusion\x20Cannon','can-afford','../images/tokens/subgame/mmissile.gif','textContent','No\x20token\x20is\x20currently\x20equipped','dataset','Token\x20','equipped','description','Token\x20collection\x20update\x20had\x20an\x20issue,\x20but\x20equip\x20was\x20successful:','entries','trace','0.7','The\x20final\x20blob\x20in\x20the\x20collection','current-theme','Permission\x20denied.\x20Please\x20try\x20again\x20or\x20contact\x20support.','createElement','.tokens-grid','cursor','disabled','isAdmin','üè™\x20Redeem\x20store\x20loaded','cannot-afford','[data-theme]','Yellow\x20Orange','sign-in','Emerald','Token\x20collection\x20update\x20had\x20an\x20issue,\x20but\x20purchase\x20completed:','is\x20that...\x20Pfunk?','Blob\x20Token\x203','currentUser','‚úÖ\x20User\x20authenticated:','ThemeSystem','Shield\x20Orb','Pyro','add','Rescue\x20the\x20hostage\x20for\x20bonus\x20points.','Cloaking\x20Device','visible','not-allowed','displayLadder','Failed\x20to\x20sell\x20token:\x20','owned','Owned','../images/tokens/Pyro.gif','closest','Lock\x20in\x20your\x20victory.','High-powered\x20plasma\x20cannon\x20token.','weapon','background','info','querySelector','A\x20mysterious\x20plasma\x20blob.','points','\x20points\x20(50%\x20refund)','.token-equip-btn','token_','refreshUI','Cockpit','bind','.theme-select-btn','\x20more\x20points.','userProfiles','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-palette\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-price\x22>','../images/tokens/subgame/pwr01.gif','Marker','\x20pts)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Theme\x20','warning','Mercury\x20Missile','userTokens','tokenId','remove','getCurrentTheme','theme','Mega\x20Missile','token','../images/tokens/Smartmine.gif','includes','\x20Points','Gold','name','Lock','Sign\x20in\x20to\x20Purchase','Heavy\x20ordinance\x20for\x20tough\x20situations','Smart\x20Mine','success','New\x20user\x20profile\x20created','You\x20already\x20own\x20the\x20','sign-in-free','can-equip','inventory','data','exists','For\x20the\x20late-nights.','Equipped','forEach','\x22\x20class=\x22token-preview\x22\x20onerror=\x22this.style.display=\x27none\x27;\x20this.nextElementSibling.style.display=\x27flex\x27;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22token-fallback\x22\x20style=\x22display:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-coins\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-price\x22>','Blob\x20Token\x201','../images/tokens/subgame/fusion.gif'];a46_0x4d6a=function(){return _0x3c7a12;};return a46_0x4d6a();}function showMessage(_0x55e363,_0x34911f=a46_0xf52768(0x201)){const _0x3201cd=a46_0xf52768,_0x130658=document['getElementById']('store-message');_0x130658&&_0x130658['remove']();const _0x4b8fe9=document[_0x3201cd(0x1df)]('div');_0x4b8fe9['id']='store-message',_0x4b8fe9['className']='store-message\x20store-message-'+_0x34911f,_0x4b8fe9[_0x3201cd(0x1d2)]=_0x55e363,document['body'][_0x3201cd(0x1c8)](_0x4b8fe9),requestAnimationFrame(()=>{const _0x3d7456=_0x3201cd;_0x4b8fe9[_0x3d7456(0x1bb)]['add']('visible');}),setTimeout(()=>{const _0x224280=_0x3201cd;_0x4b8fe9['classList'][_0x224280(0x217)](_0x224280(0x1f5)),setTimeout(()=>{const _0x4c5f3f=_0x224280;_0x4b8fe9['parentNode']&&_0x4b8fe9[_0x4c5f3f(0x217)]();},0x12c);},0xfa0);}window['RedeemStore']={'refreshUI':()=>{updateThemeButtons(),updateTokenButtons();},'checkOwnership':userOwnsTheme,'checkTokenOwnership':userOwnsToken,'applyTheme':applyTheme,'purchaseTheme':purchaseTheme,'purchaseToken':purchaseToken},console['log'](a46_0xf52768(0x1e4));