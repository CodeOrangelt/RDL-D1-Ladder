const a0_0x28193f=a0_0xe075;(function(_0x58b15d,_0x56575d){const _0xe56fa5=a0_0xe075,_0x1b1991=_0x58b15d();while(!![]){try{const _0x58bca3=-parseInt(_0xe56fa5(0x194))/0x1+-parseInt(_0xe56fa5(0x1bd))/0x2+-parseInt(_0xe56fa5(0x1c7))/0x3+-parseInt(_0xe56fa5(0x1ee))/0x4+parseInt(_0xe56fa5(0x184))/0x5+-parseInt(_0xe56fa5(0x180))/0x6*(-parseInt(_0xe56fa5(0x1f1))/0x7)+-parseInt(_0xe56fa5(0x1c4))/0x8*(-parseInt(_0xe56fa5(0x169))/0x9);if(_0x58bca3===_0x56575d)break;else _0x1b1991['push'](_0x1b1991['shift']());}catch(_0x35f23f){_0x1b1991['push'](_0x1b1991['shift']());}}}(a0_0x219e,0x186ec));const a0_0x3b7e3b=(function(){let _0x383a53=!![];return function(_0x35b068,_0x21a920){const _0x3b4034=_0x383a53?function(){if(_0x21a920){const _0x22335e=_0x21a920['apply'](_0x35b068,arguments);return _0x21a920=null,_0x22335e;}}:function(){};return _0x383a53=![],_0x3b4034;};}()),a0_0x4c7b5e=a0_0x3b7e3b(this,function(){const _0x27aa1d=a0_0xe075;let _0x5b8b60;try{const _0xffce52=Function(_0x27aa1d(0x19e)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x5b8b60=_0xffce52();}catch(_0x15b873){_0x5b8b60=window;}const _0x120e3c=_0x5b8b60['console']=_0x5b8b60[_0x27aa1d(0x170)]||{},_0x3111ae=[_0x27aa1d(0x156),_0x27aa1d(0x155),'info','error','exception','table','trace'];for(let _0x5a2033=0x0;_0x5a2033<_0x3111ae['length'];_0x5a2033++){const _0x4d106d=a0_0x3b7e3b['constructor']['prototype']['bind'](a0_0x3b7e3b),_0x2b49ed=_0x3111ae[_0x5a2033],_0x9efc66=_0x120e3c[_0x2b49ed]||_0x4d106d;_0x4d106d[_0x27aa1d(0x1b0)]=a0_0x3b7e3b['bind'](a0_0x3b7e3b),_0x4d106d['toString']=_0x9efc66['toString']['bind'](_0x9efc66),_0x120e3c[_0x2b49ed]=_0x4d106d;}});a0_0x4c7b5e();import{collection,getDocs,addDoc,query,orderBy,limit,startAfter,Timestamp,serverTimestamp,getDoc,doc,where,deleteDoc}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const mutedUsers=[{'username':'Daz','muteFromDate':new Date('2025-07-02')[a0_0x28193f(0x14b)]()}];function isUsernameMuted(_0x5210fa,_0x1882d3){const _0x18de0e=a0_0x28193f;if(!_0x5210fa)return![];const _0x522d35=mutedUsers['find'](_0x1930c1=>_0x1930c1['username']===_0x5210fa);if(!_0x522d35)return![];if(!_0x1882d3)return!![];const _0xc6ea7b=_0x1882d3 instanceof Date?_0x1882d3[_0x18de0e(0x14b)]():_0x1882d3['seconds']?_0x1882d3['seconds']*0x3e8:Date['now']();return _0xc6ea7b>=_0x522d35['muteFromDate'];}function filterComment(_0x25f83a,_0x535f52,_0x4c29dd){const _0x5a783c=a0_0x28193f;if(!_0x25f83a)return'-';if(isUsernameMuted(_0x535f52,_0x4c29dd))return _0x5a783c(0x16d);return _0x25f83a;}const previewState={'currentMode':'D1','currentPage':0x1,'matchesPerPage':0x5,'lastVisible':null,'firstVisible':null,'isLoading':![],'filterUsername':'','enhancedFilters':{'pilots':'','levels':'','subgames':[]},'totalPages':0x1,'hasReachedEnd':![]};function getCacheKey(_0x1da700,_0x2c4b26,_0x2bc8c5){const _0x31b3b9='u:'+(_0x2bc8c5['filterUsername']||'');return'previewCache_'+_0x1da700+'_p'+_0x2c4b26+'_'+_0x31b3b9;}function getCachedPage(_0x57b34e){const _0x55110c=a0_0x28193f,_0x58d442=sessionStorage['getItem'](_0x57b34e);if(_0x58d442)try{return JSON['parse'](_0x58d442);}catch(_0x238f69){return console[_0x55110c(0x1b2)]('Failed\x20to\x20parse\x20cache:',_0x238f69),sessionStorage[_0x55110c(0x19b)](_0x57b34e),null;}return null;}function cachePage(_0x2339cb,_0x108774){const _0x2771b7=a0_0x28193f;try{sessionStorage['setItem'](_0x2339cb,JSON[_0x2771b7(0x175)](_0x108774));}catch(_0x5d5159){console[_0x2771b7(0x1b2)]('Failed\x20to\x20cache\x20data:',_0x5d5159);}}function getEloColor(_0x476da6){const _0x43e34d=a0_0x28193f,_0xe80bc3=Number(_0x476da6);if(_0xe80bc3>=0x7d0)return'#50C878';else{if(_0xe80bc3>=0x708)return'#FFD700';else{if(_0xe80bc3>=0x640)return _0x43e34d(0x160);else{if(_0xe80bc3>=0x578)return'#CD7F32';else return _0x43e34d(0x16f);}}}}function formatDate(_0x8eeb63,_0x38f04b=![]){const _0x3fbf19=a0_0x28193f;if(!_0x8eeb63||!_0x8eeb63['seconds'])return'N/A';const _0x48aed2=new Date(_0x8eeb63['seconds']*0x3e8);return _0x38f04b?_0x48aed2[_0x3fbf19(0x1d5)]():_0x48aed2['toLocaleDateString']();}function truncateComment(_0x4fa0d0,_0x1c5c26=0x1e){const _0x30d0ff=a0_0x28193f;if(!_0x4fa0d0)return'-';if(_0x4fa0d0[_0x30d0ff(0x1e3)]<=_0x1c5c26)return _0x4fa0d0;return _0x4fa0d0[_0x30d0ff(0x1a8)](0x0,_0x1c5c26)+_0x30d0ff(0x166);}function formatCommentDate(_0x3c501b){const _0x2c7ffc=a0_0x28193f;if(!_0x3c501b||!_0x3c501b[_0x2c7ffc(0x1e5)])return'';const _0x3fdf4b=new Date(_0x3c501b['seconds']*0x3e8),_0x3a7fc1=new Date(),_0x3c5369=Math['abs'](_0x3a7fc1-_0x3fdf4b),_0x2ddc48=Math['floor'](_0x3c5369/(0x3e8*0x3c*0x3c*0x18));if(_0x2ddc48===0x0)return'Today';else{if(_0x2ddc48===0x1)return _0x2c7ffc(0x167);else return _0x2ddc48<0x7?_0x2ddc48+'\x20days\x20ago':_0x3fdf4b['toLocaleDateString']();}}function setLoadingIndicator(_0x2997bb){const _0x4e21b4=a0_0x28193f,_0x3e57a2=document['getElementById'](_0x4e21b4(0x163));if(_0x3e57a2)_0x3e57a2['style']['display']=_0x2997bb?'block':'none';}export function updatePreviewLadderModeUI(){const _0x45c4dd=a0_0x28193f,_0x3b7d2d=document['getElementById']('preview-ladder-mode'),_0x5083e0=document['getElementById']('preview-d1-button'),_0x3e7400=document['getElementById'](_0x45c4dd(0x1e7)),_0x126bda=document[_0x45c4dd(0x1b1)]('preview-d3-button');if(_0x3b7d2d)_0x3b7d2d['textContent']=previewState[_0x45c4dd(0x189)];if(_0x5083e0)_0x5083e0['classList']['toggle']('active',previewState['currentMode']==='D1');if(_0x3e7400)_0x3e7400[_0x45c4dd(0x197)][_0x45c4dd(0x157)]('active',previewState['currentMode']==='D2');if(_0x126bda)_0x126bda[_0x45c4dd(0x197)]['toggle'](_0x45c4dd(0x15d),previewState['currentMode']==='D3');}function updatePreviewPaginationControls(_0x740779){const _0x21ab64=a0_0x28193f,_0xb22fb6=document['getElementById']('previewPrevPage'),_0x3b264f=document['getElementById']('previewNextPage'),_0x4e03b1=document['getElementById'](_0x21ab64(0x1e6));if(!_0xb22fb6||!_0x3b264f||!_0x4e03b1)return;_0x4e03b1['textContent']='Page\x20'+previewState['currentPage'],_0xb22fb6[_0x21ab64(0x1eb)]=previewState[_0x21ab64(0x19c)]<=0x1,_0x3b264f[_0x21ab64(0x1eb)]=!_0x740779;}function setPreviewLoadingState(_0x39a468){const _0x21b4a0=a0_0x28193f;previewState['isLoading']=_0x39a468,setLoadingIndicator(_0x39a468);const _0x459152=document['getElementById']('recent-matches-preview'),_0x8eaea9=_0x459152?_0x459152['querySelector'](_0x21b4a0(0x17a)):null,_0x25a63a=document['getElementById']('previewPrevPage'),_0x4c80e2=document['getElementById']('previewNextPage'),_0x5a334e=document['getElementById']('preview-d1-button'),_0x368850=document[_0x21b4a0(0x1b1)](_0x21b4a0(0x1e7)),_0x2b3473=document['getElementById']('applyFilterBtn'),_0xf4b3cd=document['getElementById']('clearFilterBtn');if(_0x8eaea9&&!_0x39a468)_0x8eaea9[_0x21b4a0(0x1cb)][_0x21b4a0(0x158)]=_0x21b4a0(0x145);else _0x8eaea9&&_0x39a468&&(_0x8eaea9['style'][_0x21b4a0(0x158)]='block');!_0x39a468&&_0x459152&&!_0x459152['querySelector']('.match-card')&&!_0x459152['querySelector']('.matches-loading[style*=\x22color:\x20red\x22]')&&(_0x459152['innerHTML']='<div\x20class=\x22matches-loading\x22>No\x20recent\x20matches\x20found'+(previewState[_0x21b4a0(0x1a1)]?'\x20matching\x20filters':'')+_0x21b4a0(0x1ea));if(_0x25a63a)_0x25a63a['disabled']=_0x39a468||previewState['currentPage']<=0x1;if(_0x4c80e2)_0x4c80e2['disabled']=_0x39a468;if(_0x5a334e)_0x5a334e['disabled']=_0x39a468;if(_0x368850)_0x368850['disabled']=_0x39a468;if(_0x2b3473)_0x2b3473[_0x21b4a0(0x1eb)]=_0x39a468;if(_0xf4b3cd)_0xf4b3cd[_0x21b4a0(0x1eb)]=_0x39a468;}function applyClientFilters(_0x329983){const _0x33029f=a0_0x28193f;if(!previewState[_0x33029f(0x1a1)])return _0x329983;const _0x5f2763=previewState[_0x33029f(0x1a1)][_0x33029f(0x1e8)]();return _0x329983[_0x33029f(0x14e)](_0xaecef0=>{const _0x15fa62=_0x33029f,_0x218e6a=(_0xaecef0[_0x15fa62(0x1e1)]||'')['toLowerCase'](),_0x16be63=(_0xaecef0['loserUsername']||'')['toLowerCase']();return _0x218e6a[_0x15fa62(0x1ec)](_0x5f2763)||_0x16be63['includes'](_0x5f2763);});}function applyEnhancedClientFilters(_0x19957d){const _0x44d118=a0_0x28193f;if(!hasEnhancedFilters())return _0x19957d;return _0x19957d[_0x44d118(0x14e)](_0x3a72ac=>{const _0x43e73c=_0x44d118;if(previewState['enhancedFilters'][_0x43e73c(0x1c9)]){const _0x5a3ce4=previewState[_0x43e73c(0x17e)][_0x43e73c(0x1c9)]['toLowerCase'](),_0x161bca=(_0x3a72ac['winnerUsername']||'')[_0x43e73c(0x1e8)](),_0x3e3cdd=(_0x3a72ac['loserUsername']||'')['toLowerCase']();if(!_0x161bca['includes'](_0x5a3ce4)&&!_0x3e3cdd[_0x43e73c(0x1ec)](_0x5a3ce4))return![];}if(previewState['enhancedFilters']['levels']){const _0x1057f4=previewState[_0x43e73c(0x17e)]['levels']['toLowerCase'](),_0x420cef=(_0x3a72ac['mapPlayed']||'')['toLowerCase']();if(!_0x420cef['includes'](_0x1057f4))return![];}if(previewState['enhancedFilters']['subgames']['length']>0x0){const _0x1d12e1=_0x3a72ac['subgameType']||'Standard\x20Match';if(!previewState['enhancedFilters']['subgames'][_0x43e73c(0x1ec)](_0x1d12e1))return![];}return!![];});}function hasEnhancedFilters(){const _0x4fe4ad=a0_0x28193f;return previewState['enhancedFilters'][_0x4fe4ad(0x1c9)]||previewState['enhancedFilters']['levels']||previewState['enhancedFilters']['subgames']['length']>0x0;}function clearEnhancedFilters(){const _0x3b6503=a0_0x28193f;previewState['enhancedFilters']={'pilots':'','levels':'','subgames':[]},document['getElementById']('filter-pilots')[_0x3b6503(0x1c5)]='',document[_0x3b6503(0x1b1)](_0x3b6503(0x1ce))['value']='';const _0x3279ea=document[_0x3b6503(0x1b1)](_0x3b6503(0x16c));for(let _0x448725 of _0x3279ea['options']){_0x448725['selected']=![];}}function jumpToPage(_0x149bce){const _0x3a1257=a0_0x28193f,_0x5bd52a=document['getElementById']('jump-to-page'),_0x34fef1=previewState[_0x3a1257(0x19c)];let _0x525a6b=_0x34fef1;switch(_0x149bce){case'start':_0x525a6b=0x1;break;case'end':_0x525a6b=Math['max'](_0x34fef1+0xa,previewState['totalPages']||_0x34fef1+0xa);break;case'+1':_0x525a6b=_0x34fef1+0x1;break;case'+5':_0x525a6b=_0x34fef1+0x5;break;case'+10':_0x525a6b=_0x34fef1+0xa;break;case'-1':_0x525a6b=Math[_0x3a1257(0x173)](0x1,_0x34fef1-0x1);break;case'-5':_0x525a6b=Math[_0x3a1257(0x173)](0x1,_0x34fef1-0x5);break;case _0x3a1257(0x1a5):_0x525a6b=Math['max'](0x1,_0x34fef1-0xa);break;case'input':const _0x1041d6=parseInt(_0x5bd52a['value']);_0x1041d6&&_0x1041d6>0x0&&(_0x525a6b=_0x1041d6,_0x5bd52a['value']='');break;}_0x525a6b!==_0x34fef1&&_0x525a6b>0x0&&(previewState['currentPage']=_0x525a6b,loadRecentMatchesPreview('jump'));}function a0_0x219e(){const _0x3b1e94=['subgameType','...','Yesterday','username','22122WusRBv','docs','commentAddPopup','filter-subgames','Muted.','Submit','#808080','console','add','button','max','desc','stringify','You\x20must\x20be\x20signed\x20in\x20to\x20leave\x20a\x20comment','forEach','Option','popup-btn\x20close-btn','.matches-loading','approvedMatches','missiles-6plus','Error\x20fetching\x20comments\x20batch:','enhancedFilters','Anonymous','1926wDsDUH','innerHTML','commentMatchId','split','746480hmGpmk','loserScore','flex','addCommentForm','disorientation','currentMode','textContent','appendChild','matchesPerPage','Preview\x20UI\x20or\x20Filter\x20elements\x20not\x20found,\x20cannot\x20attach\x20listeners.','opacity','loserUsername','text','setAttribute','join','displayName','113902mEIKZF','Standard\x20Match','createElement','classList','subgames','.player.winner\x20.player-score','auth','removeItem','currentPage','.no-comments-message','return\x20(function()\x20','Demo\x20link','delete-comment-btn','filterUsername','body','dogfight','querySelector','-10','commentAddOverlay','hasNextPage','substring','#ff4444','bronze','keys','addEventListener','prev','demo-link','Please\x20enter\x20a\x20demo\x20link','__proto__','getElementById','error','lastVisible','Failed\x20to\x20fetch\x20username:','trim','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22demo-description\x22>','click','Cached\x20intermediary\x20page\x20','popup-btn\x20report-btn','.comment.winner-comment','winnerOldElo','current','366514OGKwtc','match-card-template','Loser','demo','parentNode','remove','timestamp','1104WnreNr','value','submit','471285MduuHO','.match-display-wrapper','pilots','reportCommentButton','style','badComments','altered-powerups','filter-levels','userProfiles','data','content','.option-tab.active','removeAttribute','Unknown\x20Map','toLocaleString','default','option','message','color','matchComments','<strong>','block','closeAddCommentPopup','Error\x20reporting\x20comment:','#fff','Comment\x20not\x20found.\x20It\x20may\x20have\x20already\x20been\x20deleted.','winnerUsername','.submit-comment-btn','length','push','seconds','previewPageInfo','preview-d2-button','toLowerCase','Winner','.</div>','disabled','includes','rematch','345296pgSnPw','.popup-actions','uid','3318pmyNdw','You\x20need\x20to\x20be\x20signed\x20in\x20to\x20report\x20comments','none','preview-d3-button','Error\x20deleting\x20comment:','dataset','key','commentPopupPreview','getTime','marginTop','commentOverlayPreview','filter','Unknown','preventDefault','S:\x20','matchId','className','Rendering\x20page\x20','warn','log','toggle','display','map','div','demoLink','Unable\x20to\x20submit\x20-\x20system\x20not\x20ready','active','title','.player.loser\x20.player-name','#b9f1fc','.comments-container','<div\x20class=\x22matches-loading\x22>No\x20more\x20matches\x20to\x20display','loading-indicator','</div>'];a0_0x219e=function(){return _0x3b1e94;};return a0_0x219e();}export async function loadRecentMatchesPreview(_0x51846a=a0_0x28193f(0x1bc)){const _0x22e893=a0_0x28193f,_0x3e8cee=document['getElementById']('recent-matches-preview'),_0x538554=document[_0x22e893(0x1b1)]('match-card-template');if(previewState['isLoading']||!_0x3e8cee||!_0x538554)return;_0x51846a==='current'&&(console['log']('Clearing\x20cache\x20for\x20refresh/reset'),Object[_0x22e893(0x1ab)](sessionStorage)[_0x22e893(0x177)](_0x1be965=>{const _0x47e8d5=_0x22e893;_0x1be965[_0x47e8d5(0x1ec)]('previewCache_'+previewState[_0x47e8d5(0x189)])&&sessionStorage['removeItem'](_0x1be965);}));let _0x64677e=previewState['currentPage'];if(_0x51846a==='next')_0x64677e++;else{if(_0x51846a==='prev')_0x64677e--;else _0x51846a==='current'&&(_0x64677e=0x1,previewState['firstVisible']=null,previewState[_0x22e893(0x1b3)]=null);}if(_0x64677e<0x1)_0x64677e=0x1;const _0x97a55f=previewState[_0x22e893(0x19c)];previewState['currentPage']=_0x64677e,updatePreviewPaginationControls(!![]);const _0x4119d3={'filterUsername':previewState[_0x22e893(0x1a1)]},_0x4c0f6d=getCacheKey(previewState['currentMode'],_0x64677e,_0x4119d3),_0x564be5=_0x51846a!=='current'?getCachedPage(_0x4c0f6d):null;if(_0x564be5){console['log'](_0x22e893(0x154)+_0x64677e+'\x20from\x20cache'),setPreviewLoadingState(!![]),renderMatchCards(_0x564be5['docsData']),updatePreviewPaginationControls(_0x564be5[_0x22e893(0x1a7)]),setPreviewLoadingState(![]);return;}console['log']('Cache\x20miss\x20for\x20page\x20'+_0x64677e+',\x20fetching\x20from\x20Firestore'),setPreviewLoadingState(!![]),_0x3e8cee['innerHTML']='<div\x20class=\x22matches-loading\x22>Loading\x20recent\x20matches...</div>';const _0x59856d=previewState[_0x22e893(0x189)]==='D1'?_0x22e893(0x17b):previewState['currentMode']==='D2'?'approvedMatchesD2':'approvedMatchesD3',_0x287f13=previewState['currentMode']==='D1'?'createdAt':'approvedAt';try{const _0xccf73f=collection(window['db'],_0x59856d);let _0x2a1114=[orderBy(_0x287f13,_0x22e893(0x174))];if(_0x64677e===0x1)console['log']('Loading\x20first\x20page\x20from\x20Firestore'),_0x2a1114['push'](limit(previewState['matchesPerPage']));else{if(_0x51846a==='next'&&previewState[_0x22e893(0x1b3)])console['log']('Loading\x20next\x20page\x20using\x20cursor'),_0x2a1114[_0x22e893(0x1e4)](startAfter(previewState['lastVisible'])),_0x2a1114[_0x22e893(0x1e4)](limit(previewState['matchesPerPage']));else{console[_0x22e893(0x156)]('No\x20valid\x20cursor,\x20fetching\x20from\x20beginning\x20and\x20skipping\x20pages');const _0x2a4628=_0x64677e*previewState[_0x22e893(0x18c)];_0x2a1114['push'](limit(_0x2a4628));}}const _0x717dba=query(_0xccf73f,..._0x2a1114),_0x35b775=await getDocs(_0x717dba);let _0x330316=_0x35b775['docs'];if(_0x64677e>0x1&&_0x51846a!=='next'){const _0x2473c7=(_0x64677e-0x1)*previewState[_0x22e893(0x18c)];_0x330316=_0x330316['slice'](_0x2473c7,_0x2473c7+previewState['matchesPerPage']);}if(_0x330316[_0x22e893(0x1e3)]===0x0){console['log']('No\x20results\x20found\x20for\x20this\x20page');_0x51846a==='next'&&(previewState['currentPage']=_0x97a55f,updatePreviewPaginationControls(![]));_0x3e8cee[_0x22e893(0x181)]=_0x22e893(0x162)+(previewState['filterUsername']?'\x20matching\x20filters':'')+'.</div>',setPreviewLoadingState(![]);return;}previewState['firstVisible']=_0x330316[0x0],previewState['lastVisible']=_0x330316[_0x330316['length']-0x1];const _0x1932b6=_0x330316['map'](_0x20429d=>({'id':_0x20429d['id'],..._0x20429d['data']()}));let _0x2180ef=![];if(_0x330316['length']===previewState[_0x22e893(0x18c)]){const _0x3a6db5=query(_0xccf73f,orderBy(_0x287f13,'desc'),startAfter(previewState['lastVisible']),limit(0x1)),_0x40e40c=await getDocs(_0x3a6db5);_0x2180ef=!_0x40e40c['empty'];}const _0x534062=applyClientFilters(_0x1932b6),_0xf79610={'docsData':_0x1932b6,'hasNextPage':_0x2180ef};cachePage(getCacheKey(previewState[_0x22e893(0x189)],previewState[_0x22e893(0x19c)],_0x4119d3),_0xf79610);if(_0x64677e>0x1&&_0x51846a!=='next')for(let _0x10fff4=0x1;_0x10fff4<_0x64677e;_0x10fff4++){const _0x395c0d=(_0x10fff4-0x1)*previewState[_0x22e893(0x18c)],_0x385444=_0x395c0d+previewState['matchesPerPage'],_0x229429=_0x35b775[_0x22e893(0x16a)]['slice'](_0x395c0d,_0x385444);if(_0x229429[_0x22e893(0x1e3)]>0x0){const _0x56e404=_0x229429['map'](_0x3accec=>({'id':_0x3accec['id'],..._0x3accec['data']()})),_0x994c08=!![];cachePage(getCacheKey(previewState['currentMode'],_0x10fff4,_0x4119d3),{'docsData':_0x56e404,'hasNextPage':_0x994c08}),console['log'](_0x22e893(0x1b8)+_0x10fff4);}}_0x534062['length']===0x0&&previewState['filterUsername']?_0x3e8cee[_0x22e893(0x181)]='<div\x20class=\x22matches-loading\x22>No\x20matches\x20found\x20matching\x20filter:\x20\x22'+previewState['filterUsername']+'\x22</div>':renderMatchCards(_0x534062),updatePreviewPaginationControls(_0x2180ef);}catch(_0x1231b2){console['error']('Error\x20fetching\x20'+previewState['currentMode']+'\x20matches:',_0x1231b2),_0x3e8cee[_0x22e893(0x181)]='<div\x20class=\x22matches-loading\x22\x20style=\x22color:\x20red;\x22>Error\x20loading\x20matches:\x20'+_0x1231b2[_0x22e893(0x1d8)]+_0x22e893(0x164),updatePreviewPaginationControls(![]),previewState[_0x22e893(0x19c)]=_0x97a55f;}finally{setPreviewLoadingState(![]);}}async function renderMatchCards(_0x93af35){const _0x40ce3f=a0_0x28193f,_0x10e42f=document['getElementById']('recent-matches-preview'),_0x3befaa=document[_0x40ce3f(0x1b1)](_0x40ce3f(0x1be));if(!_0x10e42f||!_0x3befaa)return;!_0x10e42f['querySelector']('.matches-loading[style*=\x22color:\x20red\x22]')&&(_0x10e42f['innerHTML']='');if(!_0x93af35||_0x93af35[_0x40ce3f(0x1e3)]===0x0){if(!_0x10e42f['querySelector']('.matches-loading[style*=\x22color:\x20red\x22]')){const _0x1abcbf=hasEnhancedFilters()?'\x20matching\x20filters':previewState['filterUsername']?'\x20matching\x20filters':'';_0x10e42f['innerHTML']='<div\x20class=\x22matches-loading\x22>No\x20recent\x20matches\x20found'+_0x1abcbf+'.</div>';}return;}const _0x3b20ee=applyEnhancedClientFilters(_0x93af35);if(_0x3b20ee[_0x40ce3f(0x1e3)]===0x0){_0x10e42f['innerHTML']='<div\x20class=\x22matches-loading\x22>No\x20matches\x20found\x20matching\x20current\x20filters.</div>';return;}const _0x367b1e=_0x3b20ee[_0x40ce3f(0x159)](_0x354a57=>getAllCommentsForMatch(_0x354a57['id']));let _0x129d36=[];try{_0x129d36=await Promise['all'](_0x367b1e);}catch(_0x5edd77){console['error'](_0x40ce3f(0x17d),_0x5edd77),_0x129d36=_0x3b20ee[_0x40ce3f(0x159)](()=>[]);}const _0x129343={};_0x129d36['forEach']((_0x1d1b12,_0x2c83a1)=>{_0x129343[_0x3b20ee[_0x2c83a1]['id']]=_0x1d1b12||[];}),_0x3b20ee['forEach'](_0x3ce823=>{const _0x2cc144=_0x40ce3f,_0x223d2e=_0x3befaa[_0x2cc144(0x1d1)]['cloneNode'](!![]),_0x15cd12=_0x223d2e[_0x2cc144(0x1a4)](_0x2cc144(0x1c8)),_0x3bafe2=_0x223d2e['querySelector']('.match-card'),_0x1a0d5e=getEloRankClass(_0x3ce823[_0x2cc144(0x1bb)]);_0x3bafe2['classList']['add']('winner-'+_0x1a0d5e),_0x3bafe2['querySelector']('.match-map')['textContent']=_0x3ce823['mapPlayed']||_0x2cc144(0x1d4),_0x3bafe2[_0x2cc144(0x1a4)]('.match-date')[_0x2cc144(0x18a)]=formatDate(_0x3ce823['approvedAt']||_0x3ce823['createdAt']);const _0x4d3862=_0x3bafe2['querySelector']('.player.winner\x20.player-name');_0x4d3862[_0x2cc144(0x18a)]=_0x3ce823['winnerUsername']||_0x2cc144(0x14f),_0x4d3862['style'][_0x2cc144(0x1d9)]=getEloColor(_0x3ce823['winnerOldElo']),_0x3bafe2[_0x2cc144(0x1a4)](_0x2cc144(0x199))['textContent']=_0x3ce823['winnerScore']??0x0;const _0x5a0eec=_0x3bafe2['querySelector']('.player.winner\x20.player-suicides'),_0x433e3f=_0x3ce823['winnerSuicides']||0x0;_0x5a0eec['textContent']=_0x2cc144(0x151)+_0x433e3f;const _0x394a37=_0x3bafe2[_0x2cc144(0x1a4)](_0x2cc144(0x15f));_0x394a37['textContent']=_0x3ce823['loserUsername']||'Unknown',_0x394a37['style']['color']=getEloColor(_0x3ce823['loserOldElo']),_0x3bafe2['querySelector']('.player.loser\x20.player-score')[_0x2cc144(0x18a)]=_0x3ce823[_0x2cc144(0x185)]??0x0;const _0x138dd8=_0x3bafe2[_0x2cc144(0x1a4)]('.player.loser\x20.player-suicides'),_0x536c9e=_0x3ce823['loserSuicides']||0x0;_0x138dd8['textContent']=_0x2cc144(0x151)+_0x536c9e;const _0x570259=_0x3bafe2['querySelector']('.match-subgame');if(_0x570259){if(_0x3ce823['subgameType']&&_0x3ce823[_0x2cc144(0x165)]['trim']()!==''){_0x570259[_0x2cc144(0x18a)]=_0x3ce823['subgameType'],_0x570259['style']['display']=_0x2cc144(0x1dc);const _0x11a152=getSubgameClass(_0x3ce823['subgameType']);_0x11a152&&_0x570259['classList']['add'](_0x11a152);}else _0x570259['textContent']=_0x2cc144(0x195),_0x570259['style'][_0x2cc144(0x158)]='block',_0x570259['style'][_0x2cc144(0x18e)]='0.6';}const _0x3faf98=_0x3bafe2['querySelector'](_0x2cc144(0x1ba)),_0x1fc53a=_0x3bafe2['querySelector']('.comment.loser-comment'),_0x161c8a=_0x3ce823['winnerComment']||'',_0x39f9e3=_0x3ce823['loserComment']||'',_0x48eef8=_0x3ce823['approvedAt']||_0x3ce823['createdAt'],_0x317a3d=filterComment(_0x161c8a,_0x3ce823['winnerUsername'],_0x48eef8),_0x3166bf=filterComment(_0x39f9e3,_0x3ce823[_0x2cc144(0x18f)],_0x48eef8);_0x3faf98['textContent']='\x22'+truncateComment(_0x161c8a)+'\x22',_0x1fc53a['textContent']='\x22'+truncateComment(_0x39f9e3)+'\x22';_0x161c8a&&!isUsernameMuted(_0x3ce823[_0x2cc144(0x1e1)],_0x48eef8)?_0x3faf98['onclick']=()=>showPreviewCommentPopup(_0x317a3d,_0x3ce823['winnerUsername']||_0x2cc144(0x1e9),getEloColor(_0x3ce823['winnerOldElo'])):(_0x3faf98[_0x2cc144(0x18a)]=_0x317a3d===_0x2cc144(0x16d)?'Muted.':'-',_0x3faf98[_0x2cc144(0x1cb)]['cursor']='default',_0x3faf98['onclick']=null);_0x39f9e3&&!isUsernameMuted(_0x3ce823['loserUsername'])?_0x1fc53a['onclick']=()=>showPreviewCommentPopup(_0x3166bf,_0x3ce823['loserUsername']||_0x2cc144(0x1bf),getEloColor(_0x3ce823['loserOldElo'])):(_0x1fc53a[_0x2cc144(0x18a)]=_0x3166bf===_0x2cc144(0x16d)?_0x2cc144(0x16d):'-',_0x1fc53a['style']['cursor']='default',_0x1fc53a['onclick']=null);const _0x504829=_0x15cd12?.[_0x2cc144(0x1a4)]('.community-comments-section');if(!_0x504829)console['warn']('Comments\x20section\x20not\x20found\x20in\x20template');else{const _0x2bcf69=_0x504829['querySelector']('.comments-container'),_0x59e1cc=_0x2bcf69?.['querySelector']('.no-comments-message'),_0x5b5903=_0x504829['querySelector']('.add-comment-btn');if(_0x2bcf69){while(_0x2bcf69['firstChild']&&_0x2bcf69['firstChild']!==_0x59e1cc){_0x2bcf69['removeChild'](_0x2bcf69['firstChild']);}_0x5b5903&&_0x5b5903[_0x2cc144(0x1ac)]('click',()=>{showAddCommentPopup(_0x3ce823['id']);});const _0x3caff9=_0x129343[_0x3ce823['id']]||[];if(_0x3caff9['length']>0x0){if(_0x59e1cc)_0x59e1cc['style']['display']=_0x2cc144(0x145);const _0x7fcef7=(_0x2ca4fb,_0x23e46c)=>{const _0x4badcc=_0x2cc144,_0x2caa59=_0x2ca4fb[_0x4badcc(0x183)]('\x20');if(_0x2caa59[_0x4badcc(0x1e3)]<=_0x23e46c)return _0x2ca4fb;return _0x2caa59['slice'](0x0,_0x23e46c)[_0x4badcc(0x192)]('\x20')+'...';};_0x3caff9['forEach'](_0x3557c2=>{const _0x57177f=_0x2cc144,_0x1b0dba=document['createElement']('div');if(_0x3557c2['type']==='demo'){_0x1b0dba['className']=_0x57177f(0x1ae),_0x1b0dba['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22'+_0x3557c2['demoLink']+'\x22\x20target=\x22_blank\x22\x20class=\x22play-icon\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<svg\x20viewBox=\x220\x200\x2024\x2024\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<path\x20d=\x22M8,5.14V19.14L19,12.14L8,5.14Z\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</svg>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22demo-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22demo-author\x22>Demo\x20from\x20'+_0x3557c2['username']+_0x57177f(0x1b6)+(_0x3557c2['description']||'No\x20description\x20provided')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x46fe7a=window['auth']['currentUser'],_0x101892=_0x46fe7a&&_0x3557c2['userId']===_0x46fe7a[_0x57177f(0x1f0)];if(_0x101892){const _0xaeb4c4=document['createElement']('button');_0xaeb4c4[_0x57177f(0x153)]=_0x57177f(0x1a0),_0xaeb4c4['innerHTML']='×',_0xaeb4c4['setAttribute']('aria-label','Delete\x20demo'),_0xaeb4c4[_0x57177f(0x1ac)]('click',_0x3e85e2=>{const _0x5ceb31=_0x57177f;_0x3e85e2[_0x5ceb31(0x150)](),_0x3e85e2['stopPropagation'](),deleteComment(_0x3557c2['id'],_0x1b0dba);}),_0x1b0dba['appendChild'](_0xaeb4c4);}}else{_0x1b0dba['className']='comment-item';const _0x2acad4=isUsernameMuted(_0x3557c2[_0x57177f(0x168)],_0x3557c2['timestamp']),_0x10520d=_0x2acad4?'Muted.':_0x7fcef7(_0x3557c2[_0x57177f(0x190)]||'',0xf),_0x37ae0d=_0x3557c2['username']||'Anonymous',_0x5d4aa9=window['auth']['currentUser'],_0x353215=_0x5d4aa9&&_0x3557c2['userId']===_0x5d4aa9['uid'];let _0x21964f='';_0x353215&&(_0x21964f='<button\x20class=\x22delete-comment-btn\x22\x20aria-label=\x22Delete\x20comment\x22>×</button>');_0x1b0dba['innerHTML']=_0x21964f+_0x57177f(0x1db)+_0x37ae0d+':</strong>\x20\x22'+_0x10520d+'\x22';if(_0x353215){const _0x5575f9=_0x1b0dba['querySelector']('.delete-comment-btn');_0x5575f9&&_0x5575f9['addEventListener']('click',_0x3dfe08=>{_0x3dfe08['stopPropagation'](),deleteComment(_0x3557c2['id'],_0x1b0dba);});}!_0x2acad4?_0x1b0dba[_0x57177f(0x1ac)]('click',()=>{showFullCommentLightbox(_0x3557c2);}):_0x1b0dba['style']['cursor']=_0x57177f(0x1d6);}_0x2bcf69['insertBefore'](_0x1b0dba,_0x2bcf69['firstChild']);});}else{if(_0x59e1cc)_0x59e1cc['style']['display']='block';}}}const _0x346406=_0x3bafe2[_0x2cc144(0x1a4)]('.match-demo-links');if(_0x346406){const _0x59d6c0=_0x3bafe2['querySelector']('.winner-demo-link'),_0x2dfa91=_0x3bafe2['querySelector']('.loser-demo-link'),_0x3bea8f=_0x3ce823['winnerDemoLink']||null,_0x441f5f=_0x3ce823['loserDemoLink']||_0x3ce823['demoLink']||null;console['log']('Match\x20'+_0x3ce823['id']+'\x20demo\x20links:',{'winner':_0x3bea8f,'loser':_0x441f5f}),_0x59d6c0&&(_0x3bea8f?(_0x59d6c0['href']=_0x3bea8f,_0x59d6c0[_0x2cc144(0x1cb)][_0x2cc144(0x158)]='flex',_0x59d6c0[_0x2cc144(0x15e)]=_0x3ce823['winnerUsername']+'\x27s\x20Demo'):_0x59d6c0['style']['display']=_0x2cc144(0x145)),_0x2dfa91&&(_0x441f5f?(_0x2dfa91['href']=_0x441f5f,_0x2dfa91[_0x2cc144(0x1cb)][_0x2cc144(0x158)]='flex',_0x2dfa91['title']=_0x3ce823[_0x2cc144(0x18f)]+'\x27s\x20Demo'):_0x2dfa91[_0x2cc144(0x1cb)]['display']='none'),_0x3bea8f&&_0x59d6c0||_0x441f5f&&_0x2dfa91?_0x346406['style']['display']='flex':_0x346406['style']['display']='none';}_0x10e42f[_0x2cc144(0x18b)](_0x223d2e);});}function getSubgameClass(_0x221223){const _0x3b4d73=a0_0x28193f,_0x33e19f={'Fusion\x20Match':'fusion-match','≥6\x20Missiles':'missiles-6plus','≥6\x20missiles':_0x3b4d73(0x17c),'Weapon\x20Imbalance':'weapon-imbalance','Blind\x20Match':'blind-match','Rematch':_0x3b4d73(0x1ed),'Disorientation':_0x3b4d73(0x188),'Ratting':'ratting','Altered\x20Powerups':_0x3b4d73(0x1cd),'Mega\x20Match':'mega-match','Dogfight':_0x3b4d73(0x1a3),'Gauss\x20and\x20Mercs':'gauss-and-mercs'};return _0x33e19f[_0x221223]||'';}function a0_0xe075(_0x4629ff,_0x1b5a5e){const _0x54d66b=a0_0x219e();return a0_0xe075=function(_0x4c7b5e,_0x3b7e3b){_0x4c7b5e=_0x4c7b5e-0x144;let _0xcdf8d2=_0x54d66b[_0x4c7b5e];return _0xcdf8d2;},a0_0xe075(_0x4629ff,_0x1b5a5e);}async function deleteComment(_0x6f1240,_0x5dc5a6){const _0x1854e8=a0_0x28193f,_0x44b4bd=window['auth']['currentUser'];if(!_0x44b4bd){alert('You\x20need\x20to\x20be\x20signed\x20in\x20to\x20delete\x20comments');return;}if(!confirm('Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20comment?'))return;try{const _0x59e85d=doc(window['db'],'matchComments',_0x6f1240),_0x72ab6c=await getDoc(_0x59e85d);if(!_0x72ab6c['exists']()){alert(_0x1854e8(0x1e0));return;}const _0x4690d5=_0x72ab6c[_0x1854e8(0x1d0)]();if(_0x4690d5['userId']!==_0x44b4bd[_0x1854e8(0x1f0)]){alert('You\x20can\x20only\x20delete\x20your\x20own\x20comments');return;}await deleteDoc(_0x59e85d);if(_0x5dc5a6&&_0x5dc5a6['parentNode']){_0x5dc5a6[_0x1854e8(0x1c1)]['removeChild'](_0x5dc5a6);const _0x7a6cab=_0x5dc5a6['closest'](_0x1854e8(0x161));if(_0x7a6cab&&!_0x7a6cab[_0x1854e8(0x1a4)]('.comment-item')){const _0x48a5f7=_0x7a6cab['querySelector'](_0x1854e8(0x19d));if(_0x48a5f7)_0x48a5f7['style']['display']='block';}}console[_0x1854e8(0x156)]('Comment\x20deleted\x20successfully');}catch(_0x13eced){console['error'](_0x1854e8(0x147),_0x13eced),alert('Failed\x20to\x20delete\x20comment:\x20'+_0x13eced[_0x1854e8(0x1d8)]);}}async function getAllCommentsForMatch(_0x66ba4b){const _0x57d582=a0_0x28193f;if(!_0x66ba4b)return[];try{const _0xa6835a=collection(window['db'],'matchComments'),_0x2c5e8d=query(_0xa6835a,where('matchId','==',_0x66ba4b),orderBy('timestamp',_0x57d582(0x174))),_0x108fae=await getDocs(_0x2c5e8d);if(_0x108fae['empty'])return[];return _0x108fae['docs']['map'](_0x4c6dde=>({'id':_0x4c6dde['id'],..._0x4c6dde['data']()}));}catch(_0x5cbe89){return console[_0x57d582(0x1b2)]('Error\x20fetching\x20comments:',_0x5cbe89),[];}}async function submitComment(_0x2fa3f0){const _0x836996=a0_0x28193f;_0x2fa3f0['preventDefault']();if(!window['auth']||!window['db']){console['error']('Firebase\x20not\x20initialized'),alert('Unable\x20to\x20submit\x20comment\x20-\x20system\x20not\x20ready');return;}const _0x407fe1=window[_0x836996(0x19a)]['currentUser'];if(!_0x407fe1){alert(_0x836996(0x176));return;}const _0x5c9c2f=document[_0x836996(0x1b1)](_0x836996(0x182))?.['value'],_0x49fcb1=document['getElementById']('commentText')?.['value']?.[_0x836996(0x1b5)]();if(!_0x5c9c2f||!_0x49fcb1){alert('Please\x20enter\x20a\x20comment\x20before\x20submitting');return;}const _0x43db76=_0x49fcb1['split'](/\s+/)['filter'](_0x477920=>_0x477920['length']>0x0)['length'];if(_0x43db76>0xf){alert('Comments\x20are\x20limited\x20to\x2015\x20words\x20maximum.\x20Please\x20shorten\x20your\x20comment.');return;}const _0x5bec99=document['querySelector']('.submit-comment-btn');_0x5bec99&&(_0x5bec99['disabled']=!![],_0x5bec99['textContent']='Submitting...');try{let _0x46a972='Anonymous';try{const _0x2514f7=doc(window['db'],_0x836996(0x1cf),_0x407fe1['uid']),_0x4f341c=await getDoc(_0x2514f7);if(_0x4f341c['exists']()){const _0x33e2ad=_0x4f341c['data']();_0x33e2ad['username']&&(_0x46a972=_0x33e2ad['username']);}_0x46a972==='Anonymous'&&_0x407fe1['displayName']&&(_0x46a972=_0x407fe1['displayName']);}catch(_0x1fbfc4){console['warn']('Failed\x20to\x20fetch\x20user\x20profile:',_0x1fbfc4),_0x407fe1['displayName']&&(_0x46a972=_0x407fe1[_0x836996(0x193)]);}const _0x4b49aa={'matchId':_0x5c9c2f,'userId':_0x407fe1['uid'],'username':_0x46a972,'text':_0x49fcb1,'timestamp':serverTimestamp()};console['log']('Submitting\x20comment\x20as:',_0x46a972);const _0x486aea=collection(window['db'],'matchComments');await addDoc(_0x486aea,_0x4b49aa),console['log']('Comment\x20added\x20successfully'),closeAddCommentPopup(),loadRecentMatchesPreview('current');}catch(_0x889d9c){console['error']('Error\x20submitting\x20comment:',_0x889d9c),alert('Failed\x20to\x20add\x20comment:\x20'+_0x889d9c['message']),_0x5bec99&&(_0x5bec99[_0x836996(0x1eb)]=![],_0x5bec99['textContent']='Submit');}}function closeAddCommentPopup(){const _0x964d1d=a0_0x28193f,_0x237d27=document['getElementById']('commentAddPopup'),_0x8635d7=document[_0x964d1d(0x1b1)]('commentAddOverlay');if(_0x237d27)_0x237d27['style']['display']='none';if(_0x8635d7)_0x8635d7[_0x964d1d(0x1cb)]['display']='none';}function showAddCommentPopup(_0x1dc29a){const _0x456acd=a0_0x28193f,_0xeb23e3=window['auth']['currentUser'];if(!_0xeb23e3){alert('You\x20need\x20to\x20be\x20signed\x20in\x20to\x20leave\x20a\x20comment\x20or\x20add\x20a\x20demo');return;}let _0x2a97a0=document['getElementById'](_0x456acd(0x16b)),_0x3d0aa7=document[_0x456acd(0x1b1)]('commentAddOverlay');!_0x2a97a0&&(_0x2a97a0=document['createElement'](_0x456acd(0x15a)),_0x2a97a0['id']=_0x456acd(0x16b),_0x2a97a0[_0x456acd(0x153)]='comment-popup',document[_0x456acd(0x1a2)]['appendChild'](_0x2a97a0));!_0x3d0aa7&&(_0x3d0aa7=document['createElement']('div'),_0x3d0aa7['id']=_0x456acd(0x1a6),_0x3d0aa7['className']='comment-overlay',document['body']['appendChild'](_0x3d0aa7));_0x2a97a0['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22popup-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Add\x20Comment\x20or\x20Demo</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22closeAddCommentPopup\x22\x20class=\x22close-btn\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22addCommentForm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22commentMatchId\x22\x20name=\x22commentMatchId\x22\x20value=\x22'+_0x1dc29a+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-tabs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22option-tab\x20active\x22\x20data-option=\x22comment\x22>Add\x20Comment</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22option-divider\x22>OR</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22option-tab\x22\x20data-option=\x22demo\x22>Share\x20Demo\x20Link</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-content\x22\x20id=\x22commentOption\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22commentText\x22>Your\x20comment\x20(15\x20words\x20max):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22commentText\x22\x20name=\x22commentText\x22\x20rows=\x223\x22\x20placeholder=\x22Share\x20your\x20thoughts...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22word-counter\x22><span\x20id=\x22wordCount\x22>0</span>/15\x20words</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-content\x22\x20id=\x22demoOption\x22\x20style=\x22display:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22demoLink\x22>Demo\x20Link:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22url\x22\x20id=\x22demoLink\x22\x20name=\x22demoLink\x22\x20placeholder=\x22https://...\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22demoDescription\x22>Description\x20(20\x20words\x20max):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22demoDescription\x22\x20name=\x22demoDescription\x22\x20rows=\x222\x22\x20placeholder=\x22Describe\x20your\x20demo...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22word-counter\x22><span\x20id=\x22demoWordCount\x22>0</span>/20\x20words</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22submit\x22\x20class=\x22submit-comment-btn\x22>Submit</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</form>\x0a\x20\x20\x20\x20',_0x2a97a0[_0x456acd(0x1cb)][_0x456acd(0x158)]=_0x456acd(0x1dc),_0x3d0aa7['style'][_0x456acd(0x158)]='block',document[_0x456acd(0x1b1)](_0x456acd(0x1dd))[_0x456acd(0x1ac)]('click',closeAddCommentPopup),_0x3d0aa7['addEventListener']('click',closeAddCommentPopup);const _0x2a061c=_0x2a97a0['querySelectorAll']('.option-tab');_0x2a061c[_0x456acd(0x177)](_0x56960f=>{_0x56960f['addEventListener']('click',function(){const _0x18f25f=a0_0xe075;_0x2a061c['forEach'](_0x1d72c5=>_0x1d72c5['classList'][_0x18f25f(0x1c2)]('active')),document['querySelectorAll']('.option-content')['forEach'](_0x7704ac=>_0x7704ac['style']['display']=_0x18f25f(0x145)),this['classList'][_0x18f25f(0x171)]('active');const _0x3e4af5=this[_0x18f25f(0x148)][_0x18f25f(0x1d7)];document['getElementById'](_0x3e4af5+_0x18f25f(0x178))['style']['display']='block',_0x3e4af5===_0x18f25f(0x1c0)?(document['getElementById']('demoLink')[_0x18f25f(0x191)]('required',''),document['getElementById']('commentText')[_0x18f25f(0x1d3)]('required')):(document['getElementById'](_0x18f25f(0x15b))['removeAttribute']('required'),document[_0x18f25f(0x1b1)]('commentText')['setAttribute']('required',''));});}),document['getElementById']('commentText')['setAttribute']('required',''),document['getElementById']('demoLink')['removeAttribute']('required'),setupWordCounter('commentText','wordCount',0xf),setupWordCounter('demoDescription','demoWordCount',0x14),document[_0x456acd(0x1b1)](_0x456acd(0x187))['addEventListener']('submit',submitCommentOrDemo);}function setupWordCounter(_0x2a868b,_0xf6c745,_0x2e5452){const _0x25baa6=a0_0x28193f,_0x12234e=document[_0x25baa6(0x1b1)](_0x2a868b),_0x2e3819=document[_0x25baa6(0x1b1)](_0xf6c745);if(!_0x12234e||!_0x2e3819)return;_0x40fe9c(),_0x12234e['addEventListener']('input',_0x40fe9c);function _0x40fe9c(){const _0x23e0a2=_0x25baa6,_0x45f995=_0x12234e['value']['trim'](),_0x23cc25=_0x45f995?_0x45f995[_0x23e0a2(0x183)](/\s+/)['filter'](_0x3beb5f=>_0x3beb5f['length']>0x0)[_0x23e0a2(0x1e3)]:0x0;_0x2e3819['textContent']=_0x23cc25,_0x23cc25>_0x2e5452?_0x2e3819[_0x23e0a2(0x1cb)]['color']=_0x23e0a2(0x1a9):_0x2e3819[_0x23e0a2(0x1cb)][_0x23e0a2(0x1d9)]='#aaa';}}async function submitCommentOrDemo(_0x79e2d4){const _0x425286=a0_0x28193f;_0x79e2d4[_0x425286(0x150)]();if(!window['auth']||!window['db']){console[_0x425286(0x1b2)]('Firebase\x20not\x20initialized'),alert(_0x425286(0x15c));return;}const _0x2f5396=window['auth']['currentUser'];if(!_0x2f5396){alert('You\x20must\x20be\x20signed\x20in\x20to\x20continue');return;}const _0x319ac4=document['getElementById']('commentMatchId')[_0x425286(0x1c5)],_0x518620=document['querySelector'](_0x425286(0x1d2))['dataset'][_0x425286(0x1d7)];let _0x29afa2='Anonymous';try{const _0x18f736=doc(window['db'],'userProfiles',_0x2f5396['uid']),_0x3d32d4=await getDoc(_0x18f736);if(_0x3d32d4['exists']()){const _0x44acdf=_0x3d32d4[_0x425286(0x1d0)]();_0x44acdf[_0x425286(0x168)]&&(_0x29afa2=_0x44acdf['username']);}_0x29afa2===_0x425286(0x17f)&&_0x2f5396[_0x425286(0x193)]&&(_0x29afa2=_0x2f5396[_0x425286(0x193)]);}catch(_0x3bdcef){console[_0x425286(0x155)](_0x425286(0x1b4),_0x3bdcef),_0x2f5396['displayName']&&(_0x29afa2=_0x2f5396['displayName']);}const _0x1d0a1b=document['querySelector'](_0x425286(0x1e2));_0x1d0a1b&&(_0x1d0a1b['disabled']=!![],_0x1d0a1b['textContent']='Submitting...');try{if(_0x518620==='comment'){const _0xbb94a8=document['getElementById']('commentText')[_0x425286(0x1c5)]['trim']();if(!_0xbb94a8){alert('Please\x20enter\x20a\x20comment\x20before\x20submitting'),_0x1d0a1b['disabled']=![],_0x1d0a1b[_0x425286(0x18a)]='Submit';return;}const _0x3266e8=_0xbb94a8[_0x425286(0x183)](/\s+/)[_0x425286(0x14e)](_0x41efe2=>_0x41efe2['length']>0x0)['length'];if(_0x3266e8>0xf){alert('Comments\x20are\x20limited\x20to\x2015\x20words\x20maximum.\x20Please\x20shorten\x20your\x20comment.'),_0x1d0a1b['disabled']=![],_0x1d0a1b['textContent']='Submit';return;}const _0x363c43={'matchId':_0x319ac4,'userId':_0x2f5396['uid'],'username':_0x29afa2,'text':_0xbb94a8,'type':'comment','timestamp':serverTimestamp()},_0x3aa0bd=collection(window['db'],_0x425286(0x1da));await addDoc(_0x3aa0bd,_0x363c43);}else{const _0x3d791f=document['getElementById'](_0x425286(0x15b))['value'][_0x425286(0x1b5)](),_0x14683f=document[_0x425286(0x1b1)]('demoDescription')['value'][_0x425286(0x1b5)]()||_0x425286(0x19f);if(!_0x3d791f){alert(_0x425286(0x1af)),_0x1d0a1b['disabled']=![],_0x1d0a1b['textContent']='Submit';return;}try{new URL(_0x3d791f);}catch(_0xb97531){alert('Please\x20enter\x20a\x20valid\x20URL\x20for\x20the\x20demo\x20link'),_0x1d0a1b[_0x425286(0x1eb)]=![],_0x1d0a1b['textContent']='Submit';return;}const _0x20677a=_0x14683f['split'](/\s+/)['filter'](_0xe8c94=>_0xe8c94[_0x425286(0x1e3)]>0x0)['length'];if(_0x20677a>0x14){alert('Demo\x20descriptions\x20are\x20limited\x20to\x2020\x20words\x20maximum.\x20Please\x20shorten\x20your\x20description.'),_0x1d0a1b['disabled']=![],_0x1d0a1b[_0x425286(0x18a)]=_0x425286(0x16e);return;}const _0x16bd25={'matchId':_0x319ac4,'userId':_0x2f5396[_0x425286(0x1f0)],'username':_0x29afa2,'demoLink':_0x3d791f,'description':_0x14683f,'type':_0x425286(0x1c0),'text':'Demo:\x20'+_0x14683f,'timestamp':serverTimestamp()},_0x1aeb31=collection(window['db'],'matchComments');await addDoc(_0x1aeb31,_0x16bd25);}closeAddCommentPopup(),loadRecentMatchesPreview('current');}catch(_0x505676){console[_0x425286(0x1b2)]('Error\x20submitting:',_0x505676),alert('Failed\x20to\x20submit:\x20'+_0x505676[_0x425286(0x1d8)]),_0x1d0a1b&&(_0x1d0a1b['disabled']=![],_0x1d0a1b['textContent']='Submit');}}function getEloRankClass(_0x315721){const _0x71a89e=a0_0x28193f,_0x15e8d5=Number(_0x315721);if(_0x15e8d5>=0x7d0)return'emerald';else{if(_0x15e8d5>=0x708)return'gold';else{if(_0x15e8d5>=0x640)return'silver';else{if(_0x15e8d5>=0x578)return _0x71a89e(0x1aa);else return'unranked';}}}}function showPreviewCommentPopup(_0x606291,_0x102575,_0x110ed=a0_0x28193f(0x1df)){const _0x4809ec=a0_0x28193f,_0x424f7b=document['getElementById'](_0x4809ec(0x14a)),_0x4a71e7=document['getElementById']('commentOverlayPreview'),_0x25bea2=document[_0x4809ec(0x1b1)]('commentPopupTitlePreview'),_0x232970=document['getElementById']('commentPopupContentPreview'),_0x56c249=document['getElementById'](_0x4809ec(0x1ca));if(!_0x424f7b||!_0x4a71e7||!_0x25bea2||!_0x232970||!_0x56c249)return;_0x424f7b['dataset']['commentText']=_0x606291,_0x424f7b[_0x4809ec(0x148)]['commentUser']=_0x102575,_0x25bea2['style']['color']=_0x110ed,_0x25bea2['textContent']='Comment\x20from\x20'+_0x102575,_0x232970['textContent']=_0x606291,_0x56c249['onclick']=reportComment,_0x424f7b['style']['display']=_0x4809ec(0x1dc),_0x4a71e7[_0x4809ec(0x1cb)]['display']='block';}function closePreviewCommentPopup(){const _0x584270=a0_0x28193f,_0x3fcdb1=document[_0x584270(0x1b1)]('commentPopupPreview'),_0x3c92e4=document['getElementById']('commentOverlayPreview');if(_0x3fcdb1)_0x3fcdb1['style']['display']='none';if(_0x3c92e4)_0x3c92e4['style'][_0x584270(0x158)]='none';}async function reportComment(){const _0x544ce5=a0_0x28193f,_0xbf5788=window['auth']['currentUser'];if(!_0xbf5788){alert(_0x544ce5(0x144));return;}if(!confirm('Are\x20you\x20sure\x20you\x20want\x20to\x20report\x20this\x20comment\x20as\x20inappropriate?'))return;try{const _0x37d8d3=document['getElementById']('commentPopupPreview'),_0x232b2b={'commentAuthor':_0x37d8d3['dataset']['commentUser']||'Unknown\x20User','commentText':_0x37d8d3['dataset']['commentText']||'','matchId':previewState['currentMatchId']||'','reportedBy':_0xbf5788['uid'],'reporterUsername':_0xbf5788['displayName']||'Anonymous\x20User','reportedAt':serverTimestamp()},_0x3ea1e8=collection(window['db'],_0x544ce5(0x1cc));await addDoc(_0x3ea1e8,_0x232b2b),alert('Thank\x20you.\x20The\x20comment\x20has\x20been\x20reported\x20and\x20will\x20be\x20reviewed.'),closePreviewCommentPopup();}catch(_0x124445){console['error'](_0x544ce5(0x1de),_0x124445),alert('Failed\x20to\x20report\x20comment:\x20'+_0x124445['message']);}}function showFullCommentLightbox(_0x462488){const _0x420d79=a0_0x28193f;if(isUsernameMuted(_0x462488['username']))return;const _0x3a1cc7=document[_0x420d79(0x1b1)]('commentPopupPreview'),_0x36bae9=document['getElementById'](_0x420d79(0x14d)),_0xf7928d=document['getElementById']('commentPopupTitlePreview'),_0xb66989=document['getElementById']('commentPopupContentPreview');if(!_0x3a1cc7||!_0x36bae9||!_0xf7928d||!_0xb66989)return;_0xf7928d['style'][_0x420d79(0x1d9)]='#fff',_0xf7928d['textContent']='Comment\x20from\x20'+_0x462488['username'];if(_0x462488['timestamp']){const _0x50acc8=new Date(_0x462488[_0x420d79(0x1c3)]['seconds']*0x3e8),_0xc9730d=_0x50acc8['toLocaleString']();_0xb66989['innerHTML']='<p>'+_0x462488['text']+'</p><small\x20style=\x22color:#aaa;\x20display:block;\x20text-align:right;\x20margin-top:10px;\x22>Posted\x20on\x20'+_0xc9730d+'</small>';}else _0xb66989[_0x420d79(0x18a)]=_0x462488['text'];_0x3a1cc7['dataset']['commentId']=_0x462488['id']||'',_0x3a1cc7['dataset']['commentUser']=_0x462488['username']||'',_0x3a1cc7['dataset']['commentText']=_0x462488[_0x420d79(0x190)]||'',_0x3a1cc7['dataset'][_0x420d79(0x152)]=_0x462488['matchId']||'';const _0xb3851a=_0x3a1cc7[_0x420d79(0x1a4)]('.popup-actions')||document[_0x420d79(0x196)](_0x420d79(0x15a));!_0x3a1cc7['querySelector'](_0x420d79(0x1ef))?(_0xb3851a['className']='popup-actions',_0xb3851a[_0x420d79(0x1cb)]['display']=_0x420d79(0x186),_0xb3851a['style']['justifyContent']='center',_0xb3851a['style']['gap']='10px',_0xb3851a['style'][_0x420d79(0x14c)]='15px',_0x3a1cc7['appendChild'](_0xb3851a)):_0xb3851a['innerHTML']='';const _0x23ec66=document[_0x420d79(0x196)](_0x420d79(0x172));_0x23ec66[_0x420d79(0x18a)]='Close',_0x23ec66['className']=_0x420d79(0x179),_0x23ec66['id']='closeCommentPopupPreview',_0x23ec66['addEventListener']('click',closePreviewCommentPopup);const _0x2fd7e9=document[_0x420d79(0x196)](_0x420d79(0x172));_0x2fd7e9['textContent']='Report',_0x2fd7e9['className']=_0x420d79(0x1b9),_0x2fd7e9['style']['backgroundColor']='#d32f2f',_0x2fd7e9['addEventListener']('click',reportComment),_0xb3851a['appendChild'](_0x23ec66),_0xb3851a['appendChild'](_0x2fd7e9),_0x3a1cc7['style']['display']='block',_0x36bae9['style'][_0x420d79(0x158)]='block';}export function setupPreviewEventListeners(){const _0x44bdaf=a0_0x28193f,_0x3325c9=document['getElementById']('previewPrevPage'),_0x22c3af=document['getElementById']('previewNextPage'),_0x1b20cc=document['getElementById']('preview-d1-button'),_0x3754b3=document[_0x44bdaf(0x1b1)]('preview-d2-button'),_0x61d751=document['getElementById'](_0x44bdaf(0x146)),_0x47a9a6=document['getElementById']('filter-toggle-button'),_0x450ab6=document['getElementById']('enhanced-filter-section');if(!_0x3325c9||!_0x22c3af||!_0x1b20cc||!_0x3754b3||!_0x61d751||!_0x47a9a6||!_0x450ab6){console[_0x44bdaf(0x155)](_0x44bdaf(0x18d));return;}_0x3325c9['addEventListener'](_0x44bdaf(0x1b7),()=>{const _0x5276eb=_0x44bdaf;if(!_0x3325c9['disabled'])loadRecentMatchesPreview(_0x5276eb(0x1ad));}),_0x22c3af['addEventListener'](_0x44bdaf(0x1b7),()=>{if(!_0x22c3af['disabled'])loadRecentMatchesPreview('next');}),_0x1b20cc['addEventListener'](_0x44bdaf(0x1b7),()=>{previewState['currentMode']!=='D1'&&!previewState['isLoading']&&(previewState['currentMode']='D1',updatePreviewLadderModeUI(),loadRecentMatchesPreview('current'));}),_0x3754b3['addEventListener'](_0x44bdaf(0x1b7),()=>{const _0x2e0e34=_0x44bdaf;previewState[_0x2e0e34(0x189)]!=='D2'&&!previewState['isLoading']&&(previewState['currentMode']='D2',updatePreviewLadderModeUI(),loadRecentMatchesPreview('current'));}),_0x61d751['addEventListener'](_0x44bdaf(0x1b7),()=>{const _0x14c491=_0x44bdaf;previewState['currentMode']!=='D3'&&!previewState['isLoading']&&(previewState[_0x14c491(0x189)]='D3',updatePreviewLadderModeUI(),loadRecentMatchesPreview('current'));});_0x47a9a6&&_0x450ab6&&_0x47a9a6[_0x44bdaf(0x1ac)]('click',()=>{const _0x1c8e83=_0x44bdaf,_0x30a4d3=_0x450ab6['style'][_0x1c8e83(0x158)]!==_0x1c8e83(0x145);_0x450ab6['style']['display']=_0x30a4d3?'none':'block',_0x47a9a6['classList'][_0x1c8e83(0x157)]('active',!_0x30a4d3);});const _0x41ec9a=document[_0x44bdaf(0x1b1)]('apply-enhanced-filters'),_0x58a9f1=document[_0x44bdaf(0x1b1)]('clear-enhanced-filters');_0x41ec9a&&_0x41ec9a[_0x44bdaf(0x1ac)](_0x44bdaf(0x1b7),()=>{const _0x4f945a=_0x44bdaf;previewState['enhancedFilters']['pilots']=document[_0x4f945a(0x1b1)]('filter-pilots')[_0x4f945a(0x1c5)][_0x4f945a(0x1b5)](),previewState[_0x4f945a(0x17e)]['levels']=document['getElementById']('filter-levels')['value'][_0x4f945a(0x1b5)]();const _0x55661d=document[_0x4f945a(0x1b1)]('filter-subgames');previewState['enhancedFilters'][_0x4f945a(0x198)]=Array['from'](_0x55661d['selectedOptions'])['map'](_0x1bb5e8=>_0x1bb5e8[_0x4f945a(0x1c5)])[_0x4f945a(0x14e)](_0x37f6d2=>_0x37f6d2!==''),loadRecentMatchesPreview(_0x4f945a(0x1bc));});_0x58a9f1&&_0x58a9f1['addEventListener']('click',()=>{clearEnhancedFilters(),loadRecentMatchesPreview('current');});document['querySelectorAll']('.jump-btn')['forEach'](_0x2db2c2=>{const _0x5c3caf=_0x44bdaf;_0x2db2c2['addEventListener'](_0x5c3caf(0x1b7),()=>{const _0x5a1768=_0x2db2c2['dataset']['jump'];jumpToPage(_0x5a1768);});});const _0x5e97e2=document[_0x44bdaf(0x1b1)]('jump-to-page');_0x5e97e2&&_0x5e97e2[_0x44bdaf(0x1ac)]('keypress',_0x339a67=>{const _0x285532=_0x44bdaf;_0x339a67[_0x285532(0x149)]==='Enter'&&jumpToPage('input');});const _0x5bc6d4=document['getElementById']('closeCommentPopupPreview'),_0x28d7e2=document[_0x44bdaf(0x1b1)](_0x44bdaf(0x14d));if(_0x5bc6d4)_0x5bc6d4['addEventListener']('click',closePreviewCommentPopup);if(_0x28d7e2)_0x28d7e2['addEventListener']('click',closePreviewCommentPopup);const _0x1ebb6c=document['getElementById']('closeAddCommentPopup'),_0x3eb239=document['getElementById'](_0x44bdaf(0x1a6)),_0x214f89=document['getElementById']('addCommentForm');if(_0x1ebb6c)_0x1ebb6c['addEventListener']('click',closeAddCommentPopup);if(_0x3eb239)_0x3eb239['addEventListener']('click',closeAddCommentPopup);if(_0x214f89)_0x214f89['addEventListener'](_0x44bdaf(0x1c6),submitComment);const _0x58c5e3=document['getElementById']('commentText'),_0x46c7c2=document[_0x44bdaf(0x1b1)]('wordCount');_0x58c5e3&&_0x46c7c2&&setupWordCounter('commentText','wordCount',0xf);}window['showAddCommentPopup']=showAddCommentPopup,window[a0_0x28193f(0x1dd)]=closeAddCommentPopup,window['submitComment']=submitComment;