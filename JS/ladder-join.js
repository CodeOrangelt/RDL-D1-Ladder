const a23_0x14d8e7=a23_0x554e,a23_0x433cc3=(function(){let _0x476518=!![];return function(_0x478b2c,_0x56ae24){const _0x32df96=_0x476518?function(){const _0x14a0b6=a23_0x554e;if(_0x56ae24){const _0x53f916=_0x56ae24[_0x14a0b6(0x1f4)](_0x478b2c,arguments);return _0x56ae24=null,_0x53f916;}}:function(){};return _0x476518=![],_0x32df96;};}()),a23_0x3514ec=a23_0x433cc3(this,function(){const _0x30f5ec=a23_0x554e,_0xa8c10d=function(){const _0x92c5ec=a23_0x554e;let _0x299821;try{_0x299821=Function(_0x92c5ec(0x1cd)+_0x92c5ec(0x1d6)+');')();}catch(_0x630360){_0x299821=window;}return _0x299821;},_0xd87193=_0xa8c10d(),_0x177d88=_0xd87193[_0x30f5ec(0x200)]=_0xd87193[_0x30f5ec(0x200)]||{},_0xc5cf7f=[_0x30f5ec(0x222),_0x30f5ec(0x1dd),_0x30f5ec(0x1fd),_0x30f5ec(0x226),_0x30f5ec(0x1d0),_0x30f5ec(0x1e2),_0x30f5ec(0x21a)];for(let _0x530b4b=0x0;_0x530b4b<_0xc5cf7f[_0x30f5ec(0x1fe)];_0x530b4b++){const _0x154784=a23_0x433cc3[_0x30f5ec(0x21f)][_0x30f5ec(0x229)][_0x30f5ec(0x201)](a23_0x433cc3),_0x4dfbfb=_0xc5cf7f[_0x530b4b],_0x5e04b8=_0x177d88[_0x4dfbfb]||_0x154784;_0x154784[_0x30f5ec(0x228)]=a23_0x433cc3[_0x30f5ec(0x201)](a23_0x433cc3),_0x154784[_0x30f5ec(0x1f2)]=_0x5e04b8[_0x30f5ec(0x1f2)][_0x30f5ec(0x201)](_0x5e04b8),_0x177d88[_0x4dfbfb]=_0x154784;}});function a23_0x14c0(){const _0x35a616=['join-ladder-button','You\x20must\x20be\x20signed\x20in\x20to\x20join\x20a\x20ladder.','Authentication\x20failed.\x20Please\x20sign\x20in\x20again.','join-username-input','message','return\x20(function()\x20','Authentication\x20verification\x20failed:','checked','exception','trim','querySelectorAll','DOMContentLoaded','onclick','username','{}.constructor(\x22return\x20this\x22)(\x20)','toUpperCase','textContent','players','playersCTF','Error\x20checking\x20','position','warn','Joining\x20','Checking\x20user\x20status\x20for\x20ladder:','split','reload','table','ladder-join-status\x20success','playersD2','uid','nonParticipants','ladder-join-status\x20error','d2-switch','join-ladder-type','block','ladder-join-status','Ladder\x20changed\x20to:\x20','desc','location','email','Verifying\x20username...','Error\x20joining\x20ladder:','toString','getIdToken','apply','Error\x20checking\x20ladder\x20status:','Unknown\x20ladder\x20type:\x20','playersDuos','addEventListener','value','Error\x20joining\x20ladder:\x20','ladder-join-prompt','empty','info','length','DUOS','console','bind','input[name=\x22ladder\x22]','display','You\x20are\x20already\x20part\x20of\x20the\x20','Ladder\x20join:\x20D1\x20radio\x20found:','data','disabled','Username\x20doesn\x27t\x20match.\x20Please\x20enter\x20\x22',',\x20defaulting\x20to\x20D1','\x20ladder!\x20The\x20page\x20will\x20refresh...','d1-switch','forEach','\x22\x20to\x20confirm.','\x20ladder.','getElementById','Authentication\x20error:','tiny-join-button','Ladder\x20join:\x20D2\x20radio\x20found:','playersD3','DUO','click','CTF','\x20ladder...','docs','Successfully\x20joined\x20the\x20','trace','target','none','style','currentUser','constructor','change','exists','log','toLowerCase','className','Could\x20not\x20verify\x20your\x20account.\x20Please\x20contact\x20an\x20administrator.','error','Successfully\x20joined\x20the\x20Duos\x20ladder!\x20You\x20can\x20now\x20form\x20teams\x20with\x20other\x20players.\x20The\x20page\x20will\x20refresh...','__proto__','prototype','Please\x20enter\x20your\x20username\x20to\x20confirm.','ladder-join-status\x20loading'];a23_0x14c0=function(){return _0x35a616;};return a23_0x14c0();}a23_0x3514ec();import{doc,getDoc,getDocs,setDoc,query,collection,orderBy,limit,serverTimestamp}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{onAuthStateChanged}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';import{auth,db}from'./firebase-config.js';let currentLadder='D1';document[a23_0x14d8e7(0x1f8)](a23_0x14d8e7(0x1d3),()=>{const _0x559426=a23_0x14d8e7,_0xa1e500=document[_0x559426(0x20f)](_0x559426(0x20b)),_0x465ae3=document[_0x559426(0x20f)](_0x559426(0x1e8));console[_0x559426(0x222)](_0x559426(0x205),!!_0xa1e500),console[_0x559426(0x222)](_0x559426(0x212),!!_0x465ae3);function _0x3c3b1d(){const _0x54100f=_0x559426;document[_0x54100f(0x1d2)](_0x54100f(0x202))[_0x54100f(0x20c)](_0x1d43cc=>{const _0x318ab5=_0x54100f;_0x1d43cc[_0x318ab5(0x1f8)](_0x318ab5(0x220),_0x3ed3d2=>{const _0x5ad082=_0x318ab5;_0x3ed3d2[_0x5ad082(0x21b)][_0x5ad082(0x1cf)]&&(currentLadder=_0x3ed3d2[_0x5ad082(0x21b)][_0x5ad082(0x1f9)],console[_0x5ad082(0x222)](_0x5ad082(0x1ec)+currentLadder),checkUserLadderStatus());});});}_0x3c3b1d();const _0x245fee=document[_0x559426(0x20f)](_0x559426(0x1c8));_0x245fee&&_0x245fee[_0x559426(0x1f8)](_0x559426(0x215),handleJoinLadder),onAuthStateChanged(auth,_0x2b9f5e=>{const _0x2aca2d=_0x559426;if(_0x2b9f5e)checkUserLadderStatus();else{const _0x15a61f=document[_0x2aca2d(0x20f)](_0x2aca2d(0x1fb));_0x15a61f&&(_0x15a61f[_0x2aca2d(0x21d)][_0x2aca2d(0x203)]=_0x2aca2d(0x21c));}});});function a23_0x554e(_0x3395af,_0x44c37f){const _0x3514ec=a23_0x14c0();return a23_0x554e=function(_0x433cc3,_0x5b01ee){_0x433cc3=_0x433cc3-0x1c8;let _0x14c088=_0x3514ec[_0x433cc3];return _0x14c088;},a23_0x554e(_0x3395af,_0x44c37f);}function getCollectionName(_0x482e44){const _0x1d2206=a23_0x14d8e7;switch(_0x482e44?.[_0x1d2206(0x1d7)]()){case'D1':return _0x1d2206(0x1d9);case'D2':return _0x1d2206(0x1e4);case'D3':return _0x1d2206(0x213);case _0x1d2206(0x1ff):case _0x1d2206(0x214):return _0x1d2206(0x1f7);case _0x1d2206(0x216):return _0x1d2206(0x1da);default:console[_0x1d2206(0x1dd)](_0x1d2206(0x1f6)+_0x482e44+_0x1d2206(0x209));return _0x1d2206(0x1d9);}}async function checkUserLadderStatus(){const _0x1c6823=a23_0x14d8e7;console[_0x1c6823(0x222)](_0x1c6823(0x1df),currentLadder);const _0x3b5cbc=auth[_0x1c6823(0x21e)],_0x488b0d=document[_0x1c6823(0x20f)](_0x1c6823(0x1fb)),_0x3d4e19=document[_0x1c6823(0x20f)](_0x1c6823(0x1e9)),_0xf494be=document[_0x1c6823(0x20f)](_0x1c6823(0x211));if(!_0x3b5cbc||!_0x3b5cbc[_0x1c6823(0x1e5)]||!_0x488b0d||!_0x3d4e19||!_0xf494be){if(_0x488b0d)_0x488b0d[_0x1c6823(0x21d)][_0x1c6823(0x203)]=_0x1c6823(0x21c);if(_0xf494be)_0xf494be[_0x1c6823(0x21d)][_0x1c6823(0x203)]=_0x1c6823(0x21c);return;}try{try{await _0x3b5cbc[_0x1c6823(0x1f3)](![]);}catch(_0x38eba6){console[_0x1c6823(0x226)](_0x1c6823(0x1ce),_0x38eba6),_0x488b0d[_0x1c6823(0x21d)][_0x1c6823(0x203)]=_0x1c6823(0x21c),_0xf494be[_0x1c6823(0x21d)][_0x1c6823(0x203)]=_0x1c6823(0x21c);return;}const _0xf59864=getCollectionName(currentLadder),_0x742bae=doc(db,_0xf59864,_0x3b5cbc[_0x1c6823(0x1e5)]),_0x58708e=await getDoc(_0x742bae);if(_0x58708e[_0x1c6823(0x221)]())_0x488b0d[_0x1c6823(0x21d)][_0x1c6823(0x203)]=_0x1c6823(0x21c),_0xf494be[_0x1c6823(0x21d)][_0x1c6823(0x203)]=_0x1c6823(0x21c);else{_0x488b0d[_0x1c6823(0x21d)][_0x1c6823(0x203)]=_0x1c6823(0x21c),_0xf494be[_0x1c6823(0x21d)][_0x1c6823(0x203)]=_0x1c6823(0x1ea),_0x3d4e19[_0x1c6823(0x1d8)]=currentLadder,_0xf494be[_0x1c6823(0x1d4)]=()=>{const _0x46a900=_0x1c6823;_0x488b0d[_0x46a900(0x21d)][_0x46a900(0x203)]===_0x46a900(0x1ea)?_0x488b0d[_0x46a900(0x21d)][_0x46a900(0x203)]=_0x46a900(0x21c):_0x488b0d[_0x46a900(0x21d)][_0x46a900(0x203)]=_0x46a900(0x1ea);};const _0x509248=document[_0x1c6823(0x20f)](_0x1c6823(0x1cb)),_0x13c854=document[_0x1c6823(0x20f)](_0x1c6823(0x1eb));if(_0x509248)_0x509248[_0x1c6823(0x1f9)]='';_0x13c854&&(_0x13c854[_0x1c6823(0x1d8)]='',_0x13c854[_0x1c6823(0x224)]=_0x1c6823(0x1eb));}}catch(_0x2c1b63){console[_0x1c6823(0x226)](_0x1c6823(0x1f5),_0x2c1b63),_0x488b0d[_0x1c6823(0x21d)][_0x1c6823(0x203)]=_0x1c6823(0x21c),_0xf494be[_0x1c6823(0x21d)][_0x1c6823(0x203)]=_0x1c6823(0x21c);}}async function handleJoinLadder(){const _0x33ea94=a23_0x14d8e7,_0x4a0bfa=auth[_0x33ea94(0x21e)],_0x1882ed=document[_0x33ea94(0x20f)](_0x33ea94(0x1c8)),_0x1e296a=document[_0x33ea94(0x20f)](_0x33ea94(0x1eb)),_0x2a36e2=document[_0x33ea94(0x20f)](_0x33ea94(0x1cb));if(!_0x4a0bfa||!_0x4a0bfa[_0x33ea94(0x1e5)]){_0x1e296a[_0x33ea94(0x1d8)]=_0x33ea94(0x1c9),_0x1e296a[_0x33ea94(0x224)]=_0x33ea94(0x1e7);return;}try{await _0x4a0bfa[_0x33ea94(0x1f3)](!![]);}catch(_0x4f81ef){console[_0x33ea94(0x226)](_0x33ea94(0x210),_0x4f81ef),_0x1e296a[_0x33ea94(0x1d8)]=_0x33ea94(0x1ca),_0x1e296a[_0x33ea94(0x224)]=_0x33ea94(0x1e7);return;}if(!_0x2a36e2||!_0x2a36e2[_0x33ea94(0x1f9)][_0x33ea94(0x1d1)]()){_0x1e296a[_0x33ea94(0x1d8)]=_0x33ea94(0x22a),_0x1e296a[_0x33ea94(0x224)]=_0x33ea94(0x1e7);return;}try{_0x1882ed[_0x33ea94(0x207)]=!![],_0x1e296a[_0x33ea94(0x1d8)]=_0x33ea94(0x1f0),_0x1e296a[_0x33ea94(0x224)]=_0x33ea94(0x22b);let _0x4370d1='',_0x8492a7=null;const _0x521e54=[_0x33ea94(0x1d9),_0x33ea94(0x1e4),_0x33ea94(0x213),_0x33ea94(0x1f7),_0x33ea94(0x1da),_0x33ea94(0x1e6)];for(const _0x1aeb3b of _0x521e54){try{const _0x184c28=doc(db,_0x1aeb3b,_0x4a0bfa[_0x33ea94(0x1e5)]),_0x58efdf=await getDoc(_0x184c28);if(_0x58efdf[_0x33ea94(0x221)]()){_0x8492a7=_0x58efdf[_0x33ea94(0x206)]();if(_0x8492a7[_0x33ea94(0x1d5)]){_0x4370d1=_0x8492a7[_0x33ea94(0x1d5)];break;}}}catch(_0x56cc7f){console[_0x33ea94(0x226)](_0x33ea94(0x1db)+_0x1aeb3b+':',_0x56cc7f);}}!_0x4370d1&&_0x4a0bfa[_0x33ea94(0x1ef)]&&(_0x4370d1=_0x4a0bfa[_0x33ea94(0x1ef)][_0x33ea94(0x1e0)]('@')[0x0]);if(!_0x4370d1){_0x1e296a[_0x33ea94(0x1d8)]=_0x33ea94(0x225),_0x1e296a[_0x33ea94(0x224)]=_0x33ea94(0x1e7),_0x1882ed[_0x33ea94(0x207)]=![];return;}const _0x25f9bd=_0x2a36e2[_0x33ea94(0x1f9)][_0x33ea94(0x1d1)]();if(_0x4370d1&&_0x25f9bd[_0x33ea94(0x223)]()!==_0x4370d1[_0x33ea94(0x223)]()){_0x1e296a[_0x33ea94(0x1d8)]=_0x33ea94(0x208)+_0x4370d1+_0x33ea94(0x20d),_0x1e296a[_0x33ea94(0x224)]=_0x33ea94(0x1e7),_0x1882ed[_0x33ea94(0x207)]=![];return;}_0x1e296a[_0x33ea94(0x1d8)]=_0x33ea94(0x1de)+currentLadder+_0x33ea94(0x217);const _0x9def16=getCollectionName(currentLadder),_0x250b2d=doc(db,_0x9def16,_0x4a0bfa[_0x33ea94(0x1e5)]),_0x519c2b=await getDoc(_0x250b2d);if(_0x519c2b[_0x33ea94(0x221)]()){_0x1e296a[_0x33ea94(0x1d8)]=_0x33ea94(0x204)+currentLadder+_0x33ea94(0x20e),_0x1e296a[_0x33ea94(0x224)]=_0x33ea94(0x1e7),_0x1882ed[_0x33ea94(0x207)]=![];return;}try{await _0x4a0bfa[_0x33ea94(0x1f3)](!![]);}catch(_0x15a436){_0x1e296a[_0x33ea94(0x1d8)]=_0x33ea94(0x1ca),_0x1e296a[_0x33ea94(0x224)]=_0x33ea94(0x1e7),_0x1882ed[_0x33ea94(0x207)]=![];return;}const _0x298694=_0x4370d1,_0x340731=collection(db,_0x9def16),_0x44d81f=query(_0x340731,orderBy(_0x33ea94(0x1dc),_0x33ea94(0x1ed)),limit(0x1)),_0xa5d0=await getDocs(_0x44d81f);let _0x273e59=0x1;if(!_0xa5d0[_0x33ea94(0x1fc)]){const _0x3af565=_0xa5d0[_0x33ea94(0x218)][0x0][_0x33ea94(0x206)]();_0x273e59=(_0x3af565[_0x33ea94(0x1dc)]||0x0)+0x1;}const _0x262aad={'username':_0x298694,'email':_0x4a0bfa[_0x33ea94(0x1ef)],'eloRating':0x4b0,'position':_0x273e59,'createdAt':serverTimestamp(),'isAdmin':![],'matches':0x0,'wins':0x0,'losses':0x0,'gameMode':currentLadder,...currentLadder===_0x33ea94(0x1ff)&&{'hasTeam':![],'teamId':null,'teamName':null,'teammate':null,'teamColor':null,'lookingForTeam':!![],'tierValue':0x3e8}};await setDoc(_0x250b2d,_0x262aad),currentLadder===_0x33ea94(0x1ff)?_0x1e296a[_0x33ea94(0x1d8)]=_0x33ea94(0x227):_0x1e296a[_0x33ea94(0x1d8)]=_0x33ea94(0x219)+currentLadder+_0x33ea94(0x20a),_0x1e296a[_0x33ea94(0x224)]=_0x33ea94(0x1e3),setTimeout(()=>{const _0x3ca146=_0x33ea94;window[_0x3ca146(0x1ee)][_0x3ca146(0x1e1)]();},0x7d0);}catch(_0x276359){console[_0x33ea94(0x226)](_0x33ea94(0x1f1),_0x276359),_0x1e296a[_0x33ea94(0x1d8)]=_0x33ea94(0x1fa)+_0x276359[_0x33ea94(0x1cc)],_0x1e296a[_0x33ea94(0x224)]=_0x33ea94(0x1e7),_0x1882ed[_0x33ea94(0x207)]=![];}}