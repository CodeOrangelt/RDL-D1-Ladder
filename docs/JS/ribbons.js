const a0_0x37e1d2=a0_0x1fff;(function(_0x23e340,_0x1d16ac){const _0x3f0895=a0_0x1fff,_0xc3e625=_0x23e340();while(!![]){try{const _0x525fc3=-parseInt(_0x3f0895(0x191))/0x1*(parseInt(_0x3f0895(0x152))/0x2)+parseInt(_0x3f0895(0x165))/0x3*(-parseInt(_0x3f0895(0x184))/0x4)+-parseInt(_0x3f0895(0x15c))/0x5+parseInt(_0x3f0895(0x181))/0x6*(-parseInt(_0x3f0895(0x168))/0x7)+parseInt(_0x3f0895(0x1be))/0x8*(-parseInt(_0x3f0895(0x18e))/0x9)+-parseInt(_0x3f0895(0x151))/0xa*(-parseInt(_0x3f0895(0x1aa))/0xb)+-parseInt(_0x3f0895(0x15e))/0xc*(-parseInt(_0x3f0895(0x199))/0xd);if(_0x525fc3===_0x1d16ac)break;else _0xc3e625['push'](_0xc3e625['shift']());}catch(_0x1d9a65){_0xc3e625['push'](_0xc3e625['shift']());}}}(a0_0x312e,0xab356));function a0_0x1fff(_0x5e4744,_0x2ca6e6){const _0x10cb66=a0_0x312e();return a0_0x1fff=function(_0x451d21,_0x37135b){_0x451d21=_0x451d21-0x132;let _0x3a05d2=_0x10cb66[_0x451d21];return _0x3a05d2;},a0_0x1fff(_0x5e4744,_0x2ca6e6);}function a0_0x312e(){const _0x4e9321=['\x20-\x20No\x20changes\x20needed','Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Emerald\x20rank','üèÜ\x20Underdog\x20Ribbon\x20upgrade:\x20Level\x20','Explorer\x20Ribbon','30BrkRao','lastCleanup','setItem','4WJPAIK','subgameType','delete','Beat\x20a\x20pilot\x20ranked\x20higher\x20than\x20you','playersD3','push','#A29BFE','uniqueOpponents','username','üìä\x20','12555NiFWUI','\x20-\x20Level\x20','playerDataCache','1YgKDst','\x20player\x20records\x20for\x20underdog\x20calculations...','\x20ELO)','prototype','description','Error\x20getting\x20player\x20data\x20for\x20','info','log','119457yPVoNG','evaluateTopRankRibbon','getPlayerDataCached','keys','uniqueMaps','CACHE_KEY_PREFIX','Rematch\x20Ribbon','winnerRating','Sub-Gamer\x20Ribbon','apply','size','matchCache','isUnderdogVictoryFast','#FF9500','üéØ\x20Found\x20','level',')\x20beat\x20','11nPTeQh','Played\x20over\x20100\x20matches','Error\x20saving\x20ribbons:','Standard','evaluateUnderdogRibbonFromCount','\x20‚Üí\x20','image','memoryCache','forEach','Hold\x20more\x20than\x205\x20ribbons\x20at\x20a\x20time','eloRating','matchCount','../images/ribbons/Subgamer.png','Rematch','\x20Ribbon','floor','<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>','error','Socialite\x20Ribbon','key','4712AhxeDR','trace','Top\x20','Domination\x20Ribbon','Gold','Underdog\x20Ribbon','has','%\x20win\x20rate\x20over\x20','approvedMatches','evaluateOverachieverRibbonFromCount','getCacheStats','setCachedMatches','add','bind','now','\x20already\x20has\x20','Unranked','evaluateAllRibbonsFromData','Overachiever\x20Ribbon','\x20matches','\x20underdog\x20wins)','evaluateBrickWallRibbonFromWinRate','sort',':\x20ELO\x20','wins','Collector\x20Ribbon','ribbons','winnerUsername','Played\x20at\x20least\x2010\x20unique\x20pilots','üèÜ\x20Brick\x20Wall\x20ribbon\x20awarded:\x20','Emerald','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','8837440AUxZsp','2234586suxrWv','loserUsername','level-3','parse','join','evaluateSubGamerRibbonFromCount','../images/ribbons/toprank.png','length','../images/ribbons/Overachiever.png','ribbon_cache_','3921780cCycLs','mapPlayed','5868XREuKD','removeItem','CACHE_DURATION','evaluateSocialiteRibbonFromCount','set','level-5-plus','level-4','2547333pmkWtp','color','console','1544872jWQOHX','get','subgameMatches','timestamp','\x20(Dominated:\x20','#FF6B6B','evaluateCollectorRibbonFromCount','dominatedRanks','replace','evaluateExplorerRibbonFromCount','Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Bronze\x20rank','getItem','data','warn','toFixed','rematchWins','findIndex','totalMatches','#FF7675','setCachedData','getPlayerRibbonsCached'];a0_0x312e=function(){return _0x4e9321;};return a0_0x312e();}const a0_0x37135b=(function(){let _0x44ff4f=!![];return function(_0x408769,_0x3d09d3){const _0x4724dc=_0x44ff4f?function(){const _0x13a91c=a0_0x1fff;if(_0x3d09d3){const _0x5abb78=_0x3d09d3[_0x13a91c(0x1a2)](_0x408769,arguments);return _0x3d09d3=null,_0x5abb78;}}:function(){};return _0x44ff4f=![],_0x4724dc;};}()),a0_0x451d21=a0_0x37135b(this,function(){const _0x10db9f=a0_0x1fff,_0x987f8f=function(){let _0xf9a48b;try{_0xf9a48b=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x14ed52){_0xf9a48b=window;}return _0xf9a48b;},_0x4bc33a=_0x987f8f(),_0xb0b98e=_0x4bc33a['console']=_0x4bc33a[_0x10db9f(0x167)]||{},_0x1a23dc=['log',_0x10db9f(0x175),_0x10db9f(0x197),'error','exception','table',_0x10db9f(0x132)];for(let _0x2d7b54=0x0;_0x2d7b54<_0x1a23dc['length'];_0x2d7b54++){const _0x307fa2=a0_0x37135b['constructor'][_0x10db9f(0x194)][_0x10db9f(0x13e)](a0_0x37135b),_0x49a637=_0x1a23dc[_0x2d7b54],_0x1cdeb5=_0xb0b98e[_0x49a637]||_0x307fa2;_0x307fa2['__proto__']=a0_0x37135b[_0x10db9f(0x13e)](a0_0x37135b),_0x307fa2['toString']=_0x1cdeb5['toString'][_0x10db9f(0x13e)](_0x1cdeb5),_0xb0b98e[_0x49a637]=_0x307fa2;}});a0_0x451d21();import{auth,db}from'./firebase-config.js';import{doc,getDoc,setDoc,collection,query,where,getDocs,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const RIBBON_DEFINITIONS={'Rematch\x20Ribbon':{'description':'Beat\x20a\x20pilot\x20with\x20the\x20\x22Rematch\x22\x20subgame\x20selected','image':'../images/ribbons/Rematch.png','color':a0_0x37e1d2(0x16d)},'Overachiever\x20Ribbon':{'description':a0_0x37e1d2(0x1ab),'image':a0_0x37e1d2(0x15a),'color':'#96CEB4','levels':[0x64,0xc8,0x12c,0x190,0x1f4,0x258,0x2bc,0x320,0x384,0x3e8]},'Brick\x20Wall':{'description':'Amass\x20at\x20least\x2080%\x20overall\x20win\x20rate\x20percentage\x20(minimum\x2050\x20matches)','image':'../images/ribbons/BrickWall.png','color':'#F0932B','levels':[0x50,0x55,0x5a,0x5f,0x64]},'Collector\x20Ribbon':{'description':a0_0x37e1d2(0x1b3),'image':'../images/ribbons/Collector.png','color':'#6C5CE7','levels':[0x5,0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32]},'Sub-Gamer\x20Ribbon':{'description':'Play\x20over\x2050\x20subgame\x20matches','image':a0_0x37e1d2(0x1b6),'color':a0_0x37e1d2(0x18a),'levels':[0x32,0x64,0x96,0xc8,0xfa,0x12c,0x15e,0x190,0x1c2,0x1f4]},'Explorer\x20Ribbon':{'description':'Played\x20at\x20least\x2020\x20unique\x20maps','image':'../images/ribbons/Explorer.png','color':'#55A3FF','levels':[0x14,0x28,0x3c,0x50,0x64,0x78,0x8c,0xa0,0xb4,0xc8]},'Socialite\x20Ribbon':{'description':a0_0x37e1d2(0x14d),'image':'../images/ribbons/Socialite.png','color':a0_0x37e1d2(0x17a),'levels':[0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32,0x37]},'Underdog\x20Ribbon':{'description':a0_0x37e1d2(0x187),'image':'../images/ribbons/Underdog.png','color':a0_0x37e1d2(0x1a6),'levels':[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0x9,0xa]},'Domination\x20Ribbon':{'description':'Beat\x205\x20unique\x20pilots\x20in\x20a\x20rank\x20(including\x20your\x20own)','image':'../images/ribbons/Domination.png','color':'#8E44AD','levels':[0x1,0x2,0x3,0x4,0x5]},'Top\x20Bronze\x20Pilot':{'description':a0_0x37e1d2(0x172),'image':'../images/ribbons/toprank.png','color':'#CD7F32'},'Top\x20Silver\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Silver\x20rank','image':a0_0x37e1d2(0x158),'color':'#C0C0C0'},'Top\x20Gold\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Gold\x20rank','image':'../images/ribbons/toprank.png','color':'#FFD700'},'Top\x20Emerald\x20Pilot':{'description':a0_0x37e1d2(0x17e),'image':a0_0x37e1d2(0x158),'color':'#50C878'}};export const RIBBON_CSS='\x0a/*\x20Stats\x20integration\x20styles\x20*/\x0a.ribbon-section\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-top:\x201rem;\x0a}\x0a\x0a.ribbon-stat-item.full-width\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-bottom:\x200;\x0a}\x0a\x0a/*\x20Military\x20Ribbon\x20Rack\x20Styling\x20-\x20NO\x20OUTER\x20CONTAINER\x20*/\x0a.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20padding:\x200;\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20box-shadow:\x20none;\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20align-items:\x20flex-start;\x0a}\x0a\x0a.ribbon-rack-empty-inline\x20{\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20padding:\x2060px\x2040px;\x0a\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20border-radius:\x2012px;\x0a\x20\x20\x20\x20border:\x202px\x20solid\x20rgba(255,\x20255,\x20255,\x200.1);\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a}\x0a\x0a.empty-rack-text\x20{\x0a\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20font-style:\x20italic;\x0a\x20\x20\x20\x20font-size:\x201.2rem;\x0a}\x0a\x0a/*\x20Ribbon\x20Rows\x20*/\x0a.ribbon-row\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x206px;\x0a\x20\x20\x20\x20margin-bottom:\x206px;\x0a\x20\x20\x20\x20justify-content:\x20flex-start;\x0a}\x0a\x0a.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20margin-left:\x2060px;\x0a}\x0a\x0a/*\x20Individual\x20Military\x20Ribbon\x20Styling\x20-\x20FIXED\x20OVERFLOW\x20FOR\x20LEVEL\x20INDICATOR\x20*/\x0a.military-ribbon\x20{\x0a\x20\x20\x20\x20position:\x20relative;\x0a\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20transition:\x20transform\x200.3s\x20ease;\x0a\x20\x20\x20\x20flex-shrink:\x200;\x0a\x20\x20\x20\x20width:\x20190px;\x0a\x20\x20\x20\x20height:\x2060px;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#333;\x0a\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20overflow:\x20visible;\x20/*\x20Changed\x20from\x20hidden\x20to\x20visible\x20*/\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20margin:\x2012px\x2012px\x2012px\x200;\x20/*\x20Added\x20margin\x20to\x20prevent\x20clipping\x20*/\x0a}\x0a\x0a.military-ribbon:hover\x20{\x0a\x20\x20\x20\x20transform:\x20translateY(-4px);\x0a\x20\x20\x20\x20z-index:\x2010;\x0a}\x0a\x0a/*\x20Ribbon\x20image\x20container\x20to\x20handle\x20the\x20actual\x20overflow\x20*/\x0a.ribbon-image-container\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20border-radius:\x201px;\x0a}\x0a\x0a.ribbon-image\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20object-fit:\x20cover;\x0a\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20image-rendering:\x20crisp-edges;\x0a}\x0a\x0a.ribbon-fallback\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20text-shadow:\x200\x202px\x204px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a}\x0a\x0a.ribbon-name\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.9);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201.2;\x0a\x20\x20\x20\x20margin-top:\x206px;\x0a\x20\x20\x20\x20max-width:\x20120px;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20text-overflow:\x20ellipsis;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20-24px;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20font-weight:\x20500;\x0a}\x0a\x0a.military-ribbon:hover\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20display:\x20block;\x0a}\x0a\x0a.ribbon-devices\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x2050%;\x0a\x20\x20\x20\x20right:\x206px;\x0a\x20\x20\x20\x20transform:\x20translateY(-50%);\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x203px;\x0a\x20\x20\x20\x20z-index:\x205;\x0a}\x0a\x0a.ribbon-device\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20text-shadow:\x200\x200\x204px\x20rgba(0,0,0,0.9);\x0a\x20\x20\x20\x20filter:\x20drop-shadow(0\x202px\x204px\x20rgba(0,0,0,0.8));\x0a}\x0a\x0a.bronze-star\x20{\x0a\x20\x20\x20\x20color:\x20#CD7F32;\x0a}\x0a\x0a.silver-star\x20{\x0a\x20\x20\x20\x20color:\x20#C0C0C0;\x0a}\x0a\x0a.gold-star\x20{\x0a\x20\x20\x20\x20color:\x20#FFD700;\x0a}\x0a\x0a/*\x20Level\x20indicator\x20-\x20NOW\x20FULLY\x20VISIBLE\x20*/\x0a.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x20-8px;\x0a\x20\x20\x20\x20right:\x20-8px;\x0a\x20\x20\x20\x20background:\x20#FFD700;\x0a\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20width:\x2024px;\x0a\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#FFF;\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x208px\x20rgba(0,0,0,0.7);\x0a\x20\x20\x20\x20z-index:\x206;\x0a}\x0a\x0a/*\x20Custom\x20tooltip\x20-\x20only\x20this\x20one\x20will\x20show\x20*/\x0a.military-ribbon::before\x20{\x0a\x20\x20\x20\x20content:\x20attr(data-tooltip);\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20100%;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20background:\x20rgba(0,0,0,0.95);\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20padding:\x208px\x2012px;\x0a\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20pointer-events:\x20none;\x0a\x20\x20\x20\x20transition:\x20opacity\x200.3s;\x0a\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20margin-bottom:\x208px;\x0a\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(255,\x20255,\x20255,\x200.2);\x0a}\x0a\x0a.military-ribbon:hover::before\x20{\x0a\x20\x20\x20\x20opacity:\x201;\x0a}\x0a\x0a/*\x20Responsive\x20adjustments\x20*/\x0a@media\x20(max-width:\x201024px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2034px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x208px\x208px\x208px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-6px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-6px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2052px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-20px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20768px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2028px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x206px\x206px\x206px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x209px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-5px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-5px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2042px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2011px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-18px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x205px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20480px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2070px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x205px\x205px\x205px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2036px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x204px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-4px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-4px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a.stats-grid\x20.ribbon-section\x20{\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20padding:\x200;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20{\x0a\x20\x20\x20\x20background-color:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20padding:\x2025px;\x0a\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20.stat-label\x20{\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20text-transform:\x20uppercase;\x0a\x20\x20\x20\x20opacity:\x200.9;\x0a\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.95);\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a}\x0a\x0a.ribbon-level-indicator.level-1\x20{\x20background:\x20#808080;\x20}\x0a.ribbon-level-indicator.level-2\x20{\x20background:\x20#CD7F32;\x20}\x0a.ribbon-level-indicator.level-3\x20{\x20background:\x20#b9f1fc;\x20}\x0a.ribbon-level-indicator.level-4\x20{\x20background:\x20#FFD700;\x20}\x0a.ribbon-level-indicator.level-5-plus\x20{\x20background:\x20#50C878;\x20}\x0a';class RibbonCacheManager{constructor(){const _0x5c7896=a0_0x37e1d2;this['memoryCache']=new Map(),this[_0x5c7896(0x160)]=0x3c*0x3c*0x3e8,this['CACHE_KEY_PREFIX']=_0x5c7896(0x15b),this[_0x5c7896(0x182)]=Date[_0x5c7896(0x13f)](),this['CLEANUP_INTERVAL']=0x1e*0x3c*0x3e8;}['getCacheKey'](_0x5046ff,_0x437284){const _0x2b9e15=a0_0x37e1d2;return''+this[_0x2b9e15(0x19e)]+_0x5046ff+'_'+_0x437284;}['getCachedData'](_0x561aa6,_0x2c3f6a){const _0x4d226c=a0_0x37e1d2;this['autoCleanup']();const _0x189e8b=this['getCacheKey'](_0x561aa6,_0x2c3f6a);if(this['memoryCache']['has'](_0x189e8b)){const _0x5495dc=this['memoryCache']['get'](_0x189e8b);if(Date['now']()-_0x5495dc['timestamp']<this['CACHE_DURATION'])return console['log']('üöÄ\x20Cache\x20hit\x20(memory)\x20for\x20'+_0x561aa6),_0x5495dc['data'];this[_0x4d226c(0x1b1)]['delete'](_0x189e8b);}const _0x4a49c3=localStorage['getItem'](_0x189e8b);if(_0x4a49c3)try{const _0x5aba81=JSON[_0x4d226c(0x155)](_0x4a49c3);if(Date['now']()-_0x5aba81['timestamp']<this['CACHE_DURATION'])return this[_0x4d226c(0x1b1)][_0x4d226c(0x162)](_0x189e8b,{'data':_0x5aba81[_0x4d226c(0x14b)],'timestamp':_0x5aba81['timestamp'],'matchCount':_0x5aba81['matchCount']}),console[_0x4d226c(0x198)]('üíæ\x20Cache\x20hit\x20(localStorage)\x20for\x20'+_0x561aa6),_0x5aba81['ribbons'];localStorage['removeItem'](_0x189e8b);}catch(_0x37de01){localStorage['removeItem'](_0x189e8b);}return null;}['setCachedData'](_0x4831d6,_0x16d1f9,_0x472756,_0x554495){const _0x49d110=a0_0x37e1d2,_0x7c3e6f=this['getCacheKey'](_0x4831d6,_0x16d1f9),_0x5a6d11=Date['now']();this['memoryCache'][_0x49d110(0x162)](_0x7c3e6f,{'data':_0x472756,'timestamp':_0x5a6d11,'matchCount':_0x554495});try{const _0x2682fe={'ribbons':_0x472756,'matchCount':_0x554495,'timestamp':_0x5a6d11,'version':0x3};localStorage['setItem'](_0x7c3e6f,JSON['stringify'](_0x2682fe));}catch(_0x4f4a4f){this['clearOldCache']();try{localStorage[_0x49d110(0x183)](_0x7c3e6f,JSON['stringify'](data));}catch(_0x34b7d1){}}}['shouldRefreshCache'](_0x34ae48,_0x3da84f,_0x223695){const _0x1826f3=a0_0x37e1d2,_0x2f60a5=this['getCacheKey'](_0x34ae48,_0x3da84f);if(this['memoryCache']['has'](_0x2f60a5)){const _0x4f129c=this[_0x1826f3(0x1b1)]['get'](_0x2f60a5);return _0x4f129c[_0x1826f3(0x1b5)]!==_0x223695;}const _0x17f081=localStorage[_0x1826f3(0x173)](_0x2f60a5);if(_0x17f081)try{const _0x2c6d37=JSON['parse'](_0x17f081);return _0x2c6d37['matchCount']!==_0x223695;}catch(_0x278676){return!![];}return!![];}['invalidatePlayerCache'](_0x9a89fd,_0x38c245){const _0x9a346b=a0_0x37e1d2,_0x59240e=this['getCacheKey'](_0x9a89fd,_0x38c245);this[_0x9a346b(0x1b1)]['delete'](_0x59240e),localStorage['removeItem'](_0x59240e),console[_0x9a346b(0x198)]('üóëÔ∏è\x20Invalidated\x20cache\x20for\x20'+_0x9a89fd+'\x20('+_0x38c245+')\x20-\x20new\x20match\x20detected');}['autoCleanup'](){const _0x3ef106=a0_0x37e1d2,_0x45bab2=Date['now']();_0x45bab2-this[_0x3ef106(0x182)]>this['CLEANUP_INTERVAL']&&(this['cleanup'](),this[_0x3ef106(0x182)]=_0x45bab2);}['cleanup'](){const _0x18ef6c=a0_0x37e1d2,_0x6c7a19=Date['now']();let _0x4a151d=0x0,_0x40034b=0x0;for(const [_0x3a4177,_0x4999b5]of this['memoryCache']['entries']()){_0x6c7a19-_0x4999b5['timestamp']>this['CACHE_DURATION']&&(this[_0x18ef6c(0x1b1)]['delete'](_0x3a4177),_0x4a151d++);}for(let _0x3ee0c3=localStorage['length']-0x1;_0x3ee0c3>=0x0;_0x3ee0c3--){const _0x29691a=localStorage['key'](_0x3ee0c3);if(_0x29691a&&_0x29691a['startsWith'](this[_0x18ef6c(0x19e)]))try{const _0x5cfbb0=JSON['parse'](localStorage[_0x18ef6c(0x173)](_0x29691a));_0x6c7a19-_0x5cfbb0[_0x18ef6c(0x16b)]>this['CACHE_DURATION']&&(localStorage['removeItem'](_0x29691a),_0x40034b++);}catch(_0x1b376c){localStorage['removeItem'](_0x29691a),_0x40034b++;}}}['clearOldCache'](){const _0x5d83f8=a0_0x37e1d2,_0x2e3608=[];for(let _0x29c0de=0x0;_0x29c0de<localStorage[_0x5d83f8(0x159)];_0x29c0de++){const _0x5386ab=localStorage['key'](_0x29c0de);if(_0x5386ab&&_0x5386ab['startsWith'](this['CACHE_KEY_PREFIX']))try{const _0x50d70a=JSON['parse'](localStorage['getItem'](_0x5386ab));_0x2e3608['push']({'key':_0x5386ab,'timestamp':_0x50d70a['timestamp']});}catch(_0x2c9026){localStorage[_0x5d83f8(0x15f)](_0x5386ab);}}_0x2e3608[_0x5d83f8(0x147)]((_0x2328cb,_0x563c1d)=>_0x2328cb['timestamp']-_0x563c1d['timestamp']);const _0x54a17b=Math[_0x5d83f8(0x1b9)](_0x2e3608['length']/0x2);for(let _0x452c73=0x0;_0x452c73<_0x54a17b;_0x452c73++){localStorage['removeItem'](_0x2e3608[_0x452c73][_0x5d83f8(0x1bd)]);}}[a0_0x37e1d2(0x13b)](){const _0x4c850c=a0_0x37e1d2;return{'memoryEntries':this[_0x4c850c(0x1b1)]['size'],'lastCleanup':new Date(this[_0x4c850c(0x182)])['toLocaleTimeString']()};}}class MatchCacheManager{constructor(){const _0x3ebddf=a0_0x37e1d2;this[_0x3ebddf(0x1a4)]=new Map(),this['CACHE_DURATION']=0xf*0x3c*0x3e8,this['lastCleanup']=Date['now']();}['getCachedMatches'](_0xa68b62,_0x44ce64){const _0x37edee=a0_0x37e1d2;this['autoCleanup']();const _0x10712e=_0xa68b62+'_'+_0x44ce64,_0x4ca64c=this['matchCache']['get'](_0x10712e);if(_0x4ca64c&&Date['now']()-_0x4ca64c['timestamp']<this['CACHE_DURATION'])return console['log']('üéØ\x20Cache\x20hit\x20(matches)\x20for\x20'+_0xa68b62),_0x4ca64c['matches'];return _0x4ca64c&&this['matchCache'][_0x37edee(0x186)](_0x10712e),null;}['setCachedMatches'](_0x11b29f,_0x1491f8,_0x5d27ce){const _0x3be703=a0_0x37e1d2,_0x2eb72a=_0x11b29f+'_'+_0x1491f8;this['matchCache'][_0x3be703(0x162)](_0x2eb72a,{'matches':_0x5d27ce,'timestamp':Date[_0x3be703(0x13f)]()});}['autoCleanup'](){const _0xa53d67=a0_0x37e1d2,_0x510369=Date['now']();if(_0x510369-this['lastCleanup']>0x5*0x3c*0x3e8){let _0x1f8581=0x0;for(const [_0x3f6273,_0x15011c]of this[_0xa53d67(0x1a4)]['entries']()){_0x510369-_0x15011c['timestamp']>this['CACHE_DURATION']&&(this[_0xa53d67(0x1a4)][_0xa53d67(0x186)](_0x3f6273),_0x1f8581++);}this['lastCleanup']=_0x510369;}}['getCacheStats'](){const _0x35352d=a0_0x37e1d2;return{'entries':this['matchCache'][_0x35352d(0x1a3)],'lastCleanup':new Date(this[_0x35352d(0x182)])['toLocaleTimeString']()};}}class RibbonSystem{constructor(){const _0x3c477d=a0_0x37e1d2;this['pendingEvaluations']=new Map(),this['batchTimer']=null,this['BATCH_DELAY']=0x32,this[_0x3c477d(0x190)]=new Map();}async['bulkLoadPlayerData'](_0x2d3e6e,_0x3bb2ac){const _0x27c576=a0_0x37e1d2,_0x1e26db=_0x3bb2ac==='D1'?'players':_0x3bb2ac==='D2'?'playersD2':_0x27c576(0x188),_0x432254=collection(db,_0x1e26db),_0x83aeec=await getDocs(_0x432254),_0x50777f=new Map();return _0x83aeec['forEach'](_0x47e762=>{const _0x556fda=_0x27c576,_0x2a9ba7=_0x47e762['data']();_0x2a9ba7['username']&&(_0x2a9ba7['eloRating']!==undefined&&(_0x2a9ba7['rating']=_0x2a9ba7[_0x556fda(0x1b4)]),_0x50777f[_0x556fda(0x162)](_0x2a9ba7['username'],_0x2a9ba7));}),console['log']('üìä\x20Bulk\x20loaded\x20'+_0x50777f['size']+'\x20players\x20from\x20'+_0x1e26db),_0x50777f;}async['evaluateAllRibbonsFromData'](_0x4f139a,_0x41791d,_0x1ede41,_0x846149){const _0x2f85b6=a0_0x37e1d2,_0x89d768={},_0x2591ea=_0x41791d[_0x2f85b6(0x18c)],_0x40c358={'totalMatches':_0x4f139a[_0x2f85b6(0x159)],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0,'dominatedRanks':new Set()},_0x2ee25b=new Set();_0x4f139a['forEach'](_0x58354d=>{const _0x458174=_0x58354d['winnerUsername']===_0x2591ea,_0x1e4edb=_0x458174?_0x58354d['loserUsername']:_0x58354d['winnerUsername'];if(_0x1e4edb)_0x2ee25b['add'](_0x1e4edb);}),console[_0x2f85b6(0x198)]('üöÄ\x20Bulk\x20loading\x20'+_0x2ee25b['size']+_0x2f85b6(0x192));const _0x390caf=await this['bulkLoadPlayerData']([..._0x2ee25b,_0x2591ea],_0x846149),_0x4762e5=_0x390caf['get'](_0x2591ea);!_0x4762e5&&console['log']('‚ö†Ô∏è\x20No\x20current\x20player\x20data\x20found\x20for\x20'+_0x2591ea);const _0x3b657f={0x0:new Set(),0x1:new Set(),0x2:new Set(),0x3:new Set(),0x4:new Set()};_0x4f139a['forEach'](_0x6c52c=>{const _0x16632d=_0x2f85b6,_0x242bec=_0x6c52c['winnerUsername']===_0x2591ea,_0x30f7bf=_0x242bec?_0x6c52c['loserUsername']:_0x6c52c[_0x16632d(0x14c)];if(_0x242bec){_0x40c358['wins']++;_0x6c52c['subgameType']==='Rematch'&&_0x40c358['rematchWins']++;this['isUnderdogVictoryFast'](_0x6c52c,_0x2591ea,_0x4762e5,_0x390caf)&&_0x40c358['underdogWins']++;const _0x440a62=_0x390caf['get'](_0x30f7bf);if(_0x440a62){const _0x5e047e=_0x440a62['eloRating']||0x0,_0x4495cb=getPlayerRankTier(_0x5e047e);_0x3b657f[_0x4495cb]['add'](_0x30f7bf);}}_0x6c52c['subgameType']&&_0x6c52c[_0x16632d(0x185)]!==_0x16632d(0x1ad)&&_0x40c358['subgameMatches']++,_0x6c52c[_0x16632d(0x15d)]&&_0x40c358['uniqueMaps'][_0x16632d(0x13d)](_0x6c52c['mapPlayed']),_0x30f7bf&&_0x40c358['uniqueOpponents']['add'](_0x30f7bf);}),Object['keys'](_0x3b657f)['forEach'](_0x48ffe2=>{const _0x1096ae=_0x2f85b6;_0x3b657f[_0x48ffe2]['size']>=0x5&&_0x40c358[_0x1096ae(0x16f)][_0x1096ae(0x13d)](parseInt(_0x48ffe2));}),console[_0x2f85b6(0x198)]('üéØ\x20Found\x20'+_0x40c358['underdogWins']+'\x20underdog\x20victories\x20for\x20'+_0x2591ea),console[_0x2f85b6(0x198)]('üëë\x20Dominated\x20'+_0x40c358['dominatedRanks']['size']+'\x20ranks:\x20['+Array['from'](_0x40c358['dominatedRanks'])['map'](_0x3725f6=>getRankTierName(_0x3725f6))['join'](',\x20')+']');const _0x15d3fe=_0x40c358['totalMatches']>0x0?_0x40c358[_0x2f85b6(0x149)]/_0x40c358['totalMatches']*0x64:0x0,_0xc5f554=[['Overachiever\x20Ribbon',this['evaluateOverachieverRibbonFromCount'](_0x40c358['totalMatches'],_0x1ede41)],[_0x2f85b6(0x19f),this['evaluateRematchRibbonFromCount'](_0x40c358[_0x2f85b6(0x177)],_0x1ede41)],['Sub-Gamer\x20Ribbon',this[_0x2f85b6(0x157)](_0x40c358[_0x2f85b6(0x16a)],_0x1ede41)],['Explorer\x20Ribbon',this['evaluateExplorerRibbonFromCount'](_0x40c358[_0x2f85b6(0x19d)]['size'],_0x1ede41)],[_0x2f85b6(0x1bc),this[_0x2f85b6(0x161)](_0x40c358[_0x2f85b6(0x18b)][_0x2f85b6(0x1a3)],_0x1ede41)],['Brick\x20Wall',this[_0x2f85b6(0x146)](_0x15d3fe,_0x1ede41,_0x40c358['totalMatches'])],['Underdog\x20Ribbon',this['evaluateUnderdogRibbonFromCount'](_0x40c358['underdogWins'],_0x1ede41)],['Domination\x20Ribbon',this['evaluateDominationRibbonFromRanks'](_0x40c358['dominatedRanks']['size'],_0x1ede41)]];_0xc5f554['forEach'](([_0x3362e6,_0x26da03])=>{_0x26da03&&(_0x89d768[_0x3362e6]=_0x26da03);});const _0x4122b7=Object['keys'](_0x1ede41)['length']+Object[_0x2f85b6(0x19c)](_0x89d768)['length'],_0x26a7d3=this['evaluateCollectorRibbonFromCount'](_0x4122b7,_0x1ede41);return _0x26a7d3&&(_0x89d768['Collector\x20Ribbon']=_0x26a7d3),_0x89d768;}['evaluateDominationRibbonFromRanks'](_0x551ca8,_0x48293d){const _0x2c899b=a0_0x37e1d2;if(_0x551ca8===0x0)return null;const _0x180b02=_0x48293d[_0x2c899b(0x134)]||{'level':0x0};if(_0x551ca8>_0x180b02[_0x2c899b(0x1a8)]){const _0x31c62f=[];for(let _0x3b94e6=0x0;_0x3b94e6<_0x551ca8;_0x3b94e6++){_0x31c62f['push'](getRankTierName(_0x3b94e6));}return console['log']('üëë\x20Domination\x20Ribbon\x20awarded:\x20Level\x20'+_0x180b02['level']+'\x20‚Üí\x20'+_0x551ca8+_0x2c899b(0x16c)+_0x31c62f[_0x2c899b(0x156)](',\x20')+')'),{'level':_0x551ca8,'awardedAt':new Date(),'dominatedRanks':_0x31c62f};}return null;}async['checkTopRankStatus'](_0x4152ea,_0x105abc){const _0x370ec6=a0_0x37e1d2;try{const _0x3651dd=_0x105abc==='D1'?'players':_0x105abc==='D2'?'playersD2':_0x370ec6(0x188),_0x4d2768=await this['getPlayerDataCached'](_0x4152ea,_0x105abc);if(!_0x4d2768||_0x4d2768['eloRating']===undefined)return console['log']('‚ùå\x20No\x20ELO\x20rating\x20data\x20for\x20'+_0x4152ea),null;const _0x1199ab=_0x4d2768['eloRating'],_0x3b24cf=getPlayerRankTier(_0x1199ab),_0xb650e8=getRankTierName(_0x3b24cf);if(_0xb650e8==='Unranked')return console[_0x370ec6(0x198)]('‚ùå\x20'+_0x4152ea+'\x20is\x20Unranked\x20('+_0x1199ab+_0x370ec6(0x193)),null;console[_0x370ec6(0x198)]('üîç\x20Checking\x20Top\x20'+_0xb650e8+'\x20status\x20for\x20'+_0x4152ea+'\x20('+_0x1199ab+'\x20ELO)');const _0x5414e7=collection(db,_0x3651dd),_0x1157d2=await getDocs(_0x5414e7);let _0x5eb822=null,_0x5c20c8=-0x1,_0x50dd0a=0x0;_0x1157d2['forEach'](_0x15302c=>{const _0x5b3f2e=_0x370ec6,_0x20c88e=_0x15302c[_0x5b3f2e(0x174)](),_0x94df52=_0x20c88e[_0x5b3f2e(0x1b4)]||0x0,_0xf22356=getPlayerRankTier(_0x94df52);_0xf22356===_0x3b24cf&&(_0x50dd0a++,_0x94df52>_0x5c20c8&&(_0x5c20c8=_0x94df52,_0x5eb822=_0x20c88e['username']));});const _0x3d60b1=_0x5eb822===_0x4152ea;return console[_0x370ec6(0x198)](_0x370ec6(0x18d)+_0xb650e8+'\x20Tier:\x20'+_0x50dd0a+'\x20players,\x20Top:\x20'+_0x5eb822+'\x20('+_0x5c20c8+'\x20ELO),\x20'+_0x4152ea+'\x20is\x20#1:\x20'+_0x3d60b1),_0x3d60b1?_0xb650e8:null;}catch(_0x55a199){return console[_0x370ec6(0x1bb)]('Error\x20checking\x20top\x20rank\x20status:',_0x55a199),null;}}async[a0_0x37e1d2(0x19a)](_0x22b3a6,_0x79adf8,_0x4ad4e2){const _0x23f6ef=a0_0x37e1d2,_0x3d6ea7=await this['checkTopRankStatus'](_0x22b3a6,_0x79adf8),_0x5ca85b={};if(_0x3d6ea7){const _0x1b4330=_0x23f6ef(0x133)+_0x3d6ea7+'\x20Pilot';if(RIBBON_DEFINITIONS[_0x1b4330]){const _0x3659c6=_0x4ad4e2[_0x1b4330];!_0x3659c6?(console['log']('üëë\x20NEW\x20Top\x20Rank\x20Achievement:\x20'+_0x22b3a6+'\x20earned\x20'+_0x1b4330+'!'),_0x5ca85b[_0x1b4330]={'level':0x1,'awardedAt':new Date(),'rank':_0x3d6ea7,'achievedAt':new Date()}):console[_0x23f6ef(0x198)]('‚úÖ\x20'+_0x22b3a6+_0x23f6ef(0x140)+_0x1b4330+_0x23f6ef(0x17d));}}return Object['keys'](_0x4ad4e2)[_0x23f6ef(0x1b2)](_0x3aa490=>{_0x3aa490['startsWith']('Top\x20')&&_0x3aa490['endsWith']('\x20Pilot')&&(!_0x5ca85b[_0x3aa490]&&console['log']('‚úÖ\x20Preserving\x20existing\x20'+_0x3aa490));}),_0x5ca85b;}async['evaluateAllRibbonsForPlayerOptimized'](_0x20c924,_0x6ee9d6='D1'){const _0x3cca0a=a0_0x37e1d2;try{const _0x3f55e2=ribbonCache['getCachedData'](_0x20c924,_0x6ee9d6);if(_0x3f55e2){const _0x45f303=await this[_0x3cca0a(0x19a)](_0x20c924,_0x6ee9d6,_0x3f55e2);if(Object[_0x3cca0a(0x19c)](_0x45f303)['length']>0x0){console['log']('üÜï\x20New\x20top\x20rank\x20achievements\x20found\x20for\x20cached\x20player\x20'+_0x20c924),await this['savePlayerRibbonsOptimized'](_0x20c924,_0x45f303,_0x6ee9d6);const _0x3cf151={..._0x3f55e2,..._0x45f303};return ribbonCache[_0x3cca0a(0x17b)](_0x20c924,_0x6ee9d6,_0x3cf151,0x0),_0x3cf151;}return _0x3f55e2;}const [_0x11bcc3,_0x407b55]=await Promise['all']([this[_0x3cca0a(0x19b)](_0x20c924,_0x6ee9d6),this[_0x3cca0a(0x17c)](_0x20c924,_0x6ee9d6)]);if(!_0x11bcc3)return{};const _0x49ba86=_0x11bcc3['matchesPlayed']||0x0,_0x6de9eb=await this['evaluateTopRankRibbon'](_0x20c924,_0x6ee9d6,_0x407b55);if(!ribbonCache['shouldRefreshCache'](_0x20c924,_0x6ee9d6,_0x49ba86)){if(Object['keys'](_0x6de9eb)['length']>0x0){await this['savePlayerRibbonsOptimized'](_0x20c924,_0x6de9eb,_0x6ee9d6);const _0x24a3bb={..._0x407b55,..._0x6de9eb};return ribbonCache[_0x3cca0a(0x17b)](_0x20c924,_0x6ee9d6,_0x24a3bb,_0x49ba86),_0x24a3bb;}return ribbonCache[_0x3cca0a(0x17b)](_0x20c924,_0x6ee9d6,_0x407b55,_0x49ba86),_0x407b55;}const _0x281520=await this['getPlayerMatchesOptimized'](_0x20c924,_0x6ee9d6),_0x2a541a=await this['evaluateAllRibbonsFromData'](_0x281520,_0x11bcc3,_0x407b55,_0x6ee9d6);Object['assign'](_0x2a541a,_0x6de9eb);Object['keys'](_0x2a541a)['length']>0x0&&(console['log']('üíæ\x20Saving\x20'+Object[_0x3cca0a(0x19c)](_0x2a541a)['length']+'\x20new/updated\x20ribbons\x20for\x20'+_0x20c924),await this['savePlayerRibbonsOptimized'](_0x20c924,_0x2a541a,_0x6ee9d6));const _0x435a7f={..._0x407b55,..._0x2a541a};return ribbonCache['setCachedData'](_0x20c924,_0x6ee9d6,_0x435a7f,_0x281520['length']),_0x435a7f;}catch(_0x1e3e5c){return console['error']('‚ùå\x20Error\x20in\x20ribbon\x20evaluation:',_0x1e3e5c),{};}}async['isUnderdogVictory'](_0x180e5c,_0x1e6085,_0x5598ce){const _0x47ac57=a0_0x37e1d2,_0x45d270=_0x180e5c[_0x47ac57(0x14c)]===_0x1e6085;if(!_0x45d270)return![];const _0xbb69fb=_0x180e5c['loserUsername'],[_0x3a8dc7,_0xd7663a]=await Promise['all']([this['getPlayerDataCached'](_0x1e6085,_0x5598ce),this['getPlayerDataCached'](_0xbb69fb,_0x5598ce)]);if(!_0x3a8dc7||!_0xd7663a)return console['log']('‚ö†Ô∏è\x20Missing\x20player\x20data\x20for\x20'+_0x1e6085+'\x20or\x20'+_0xbb69fb),![];const _0x2f3e7e=_0x3a8dc7[_0x47ac57(0x1b4)]||0x0,_0x3b86eb=_0xd7663a[_0x47ac57(0x1b4)]||0x0,_0x50aa68=getPlayerRankTier(_0x2f3e7e),_0x775e92=getPlayerRankTier(_0x3b86eb);console['log']('üîç\x20Checking\x20underdog:\x20Winner('+_0x1e6085+'):\x20'+_0x2f3e7e+'\x20ELO\x20('+getRankTierName(_0x50aa68)+')\x20vs\x20Loser('+_0xbb69fb+'):\x20'+_0x3b86eb+'\x20ELO\x20('+getRankTierName(_0x775e92)+')');if(_0x775e92>_0x50aa68)return console[_0x47ac57(0x198)]('üéØ\x20UNDERDOG\x20VICTORY:\x20'+getRankTierName(_0x50aa68)+'\x20beat\x20'+getRankTierName(_0x775e92)+'!'),!![];return console[_0x47ac57(0x198)]('‚ùå\x20Not\x20underdog:\x20'+getRankTierName(_0x50aa68)+'\x20vs\x20'+getRankTierName(_0x775e92)),![];}[a0_0x37e1d2(0x1a5)](_0x23d085,_0x39c446,_0x55556f,_0x5915e2){const _0xb4e070=a0_0x37e1d2,_0x4f1c49=_0x23d085[_0xb4e070(0x14c)]===_0x39c446;if(!_0x4f1c49)return![];const _0x2b0023=_0x23d085[_0xb4e070(0x153)],_0x4e29d9=_0x5915e2[_0xb4e070(0x169)](_0x2b0023);if(!_0x55556f||!_0x4e29d9)return![];const _0x4856f2=_0x55556f['eloRating']||0x0,_0x315d34=_0x4e29d9[_0xb4e070(0x1b4)]||0x0,_0x2b417c=getPlayerRankTier(_0x4856f2),_0x2f8aa8=getPlayerRankTier(_0x315d34);if(_0x2f8aa8>_0x2b417c)return console[_0xb4e070(0x198)]('üéØ\x20UNDERDOG:\x20'+getRankTierName(_0x2b417c)+'('+_0x4856f2+_0xb4e070(0x1a9)+getRankTierName(_0x2f8aa8)+'('+_0x315d34+')'),!![];return![];}async[a0_0x37e1d2(0x142)](_0x236a75,_0x5ced47,_0x144c41,_0x3808ef){const _0xe9418b=a0_0x37e1d2,_0x1ca363={},_0x204d23=_0x5ced47['username'],_0x4e7d13={'totalMatches':_0x236a75['length'],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0},_0x1d23e8=new Set();_0x236a75['forEach'](_0x48efd9=>{const _0x46274a=_0x48efd9['winnerUsername']===_0x204d23,_0x1616b5=_0x46274a?_0x48efd9['loserUsername']:_0x48efd9['winnerUsername'];if(_0x1616b5)_0x1d23e8['add'](_0x1616b5);}),console[_0xe9418b(0x198)]('üöÄ\x20Bulk\x20loading\x20'+_0x1d23e8['size']+'\x20player\x20records\x20for\x20underdog\x20calculations...');const _0x464c40=await this['bulkLoadPlayerData']([..._0x1d23e8,_0x204d23],_0x3808ef),_0x43c09b=_0x464c40['get'](_0x204d23);!_0x43c09b&&console['log']('‚ö†Ô∏è\x20No\x20current\x20player\x20data\x20found\x20for\x20'+_0x204d23);_0x236a75[_0xe9418b(0x1b2)](_0x4dd8af=>{const _0x5e8fb5=_0xe9418b,_0x39edc8=_0x4dd8af['winnerUsername']===_0x204d23,_0x364a36=_0x39edc8?_0x4dd8af[_0x5e8fb5(0x153)]:_0x4dd8af['winnerUsername'];_0x39edc8&&(_0x4e7d13['wins']++,_0x4dd8af['subgameType']===_0x5e8fb5(0x1b7)&&_0x4e7d13['rematchWins']++,this['isUnderdogVictoryFast'](_0x4dd8af,_0x204d23,_0x43c09b,_0x464c40)&&_0x4e7d13['underdogWins']++),_0x4dd8af['subgameType']&&_0x4dd8af['subgameType']!=='Standard'&&_0x4e7d13[_0x5e8fb5(0x16a)]++,_0x4dd8af['mapPlayed']&&_0x4e7d13[_0x5e8fb5(0x19d)]['add'](_0x4dd8af['mapPlayed']),_0x364a36&&_0x4e7d13['uniqueOpponents']['add'](_0x364a36);}),console['log'](_0xe9418b(0x1a7)+_0x4e7d13['underdogWins']+'\x20underdog\x20victories\x20for\x20'+_0x204d23);const _0x1f7c26=_0x4e7d13['totalMatches']>0x0?_0x4e7d13[_0xe9418b(0x149)]/_0x4e7d13[_0xe9418b(0x179)]*0x64:0x0,_0x2af43f=[['Overachiever\x20Ribbon',this['evaluateOverachieverRibbonFromCount'](_0x4e7d13[_0xe9418b(0x179)],_0x144c41)],[_0xe9418b(0x19f),this['evaluateRematchRibbonFromCount'](_0x4e7d13['rematchWins'],_0x144c41)],['Sub-Gamer\x20Ribbon',this['evaluateSubGamerRibbonFromCount'](_0x4e7d13['subgameMatches'],_0x144c41)],['Explorer\x20Ribbon',this[_0xe9418b(0x171)](_0x4e7d13['uniqueMaps']['size'],_0x144c41)],[_0xe9418b(0x1bc),this[_0xe9418b(0x161)](_0x4e7d13['uniqueOpponents']['size'],_0x144c41)],['Brick\x20Wall',this[_0xe9418b(0x146)](_0x1f7c26,_0x144c41,_0x4e7d13['totalMatches'])],[_0xe9418b(0x136),this['evaluateUnderdogRibbonFromCount'](_0x4e7d13['underdogWins'],_0x144c41)]];_0x2af43f['forEach'](([_0x1e12fb,_0x1482a2])=>{_0x1482a2&&(_0x1ca363[_0x1e12fb]=_0x1482a2);});const _0x38b08f=Object['keys'](_0x144c41)['length']+Object['keys'](_0x1ca363)[_0xe9418b(0x159)],_0x5842cc=this[_0xe9418b(0x16e)](_0x38b08f,_0x144c41);return _0x5842cc&&(_0x1ca363['Collector\x20Ribbon']=_0x5842cc),_0x1ca363;}async['getPlayerMatchesOptimized'](_0x43c1bd,_0x1d6fc0){const _0x1804ae=a0_0x37e1d2,_0x2d9db1=matchCache['getCachedMatches'](_0x43c1bd,_0x1d6fc0);if(_0x2d9db1)return _0x2d9db1;try{const _0x1ba063=_0x1d6fc0==='D1'?_0x1804ae(0x139):_0x1d6fc0==='D2'?'approvedMatchesD2':'approvedMatchesD3',_0x3116d6=collection(db,_0x1ba063),[_0x26ea2b,_0x214c73]=await Promise['all']([getDocs(query(_0x3116d6,where('winnerUsername','==',_0x43c1bd))),getDocs(query(_0x3116d6,where('loserUsername','==',_0x43c1bd)))]),_0x25770f=new Set(),_0x124e7e=[];return _0x26ea2b['forEach'](_0x571940=>{const _0x37c6aa=_0x1804ae;if(!_0x25770f['has'](_0x571940['id'])){_0x25770f['add'](_0x571940['id']);const _0x5acf21={'id':_0x571940['id'],..._0x571940[_0x37c6aa(0x174)]()};if(!_0x5acf21['winnerRating'])_0x5acf21[_0x37c6aa(0x1a0)]=0x0;if(!_0x5acf21['loserRating'])_0x5acf21['loserRating']=0x0;_0x124e7e[_0x37c6aa(0x189)](_0x5acf21);}}),_0x214c73['forEach'](_0x3008da=>{const _0x5d0805=_0x1804ae;if(!_0x25770f[_0x5d0805(0x137)](_0x3008da['id'])){_0x25770f['add'](_0x3008da['id']);const _0x167a19={'id':_0x3008da['id'],..._0x3008da['data']()};if(!_0x167a19[_0x5d0805(0x1a0)])_0x167a19['winnerRating']=0x0;if(!_0x167a19['loserRating'])_0x167a19['loserRating']=0x0;_0x124e7e['push'](_0x167a19);}}),matchCache[_0x1804ae(0x13c)](_0x43c1bd,_0x1d6fc0,_0x124e7e),_0x124e7e;}catch(_0x46a591){return console[_0x1804ae(0x1bb)]('‚ùå\x20Error\x20fetching\x20matches:',_0x46a591),[];}}async['getPlayerDataCached'](_0x33336b,_0x1c65d1){const _0x5efdb3=a0_0x37e1d2;try{const _0x20c8c0=_0x1c65d1==='D1'?'players':_0x1c65d1==='D2'?'playersD2':'playersD3',_0x41ba83=collection(db,_0x20c8c0),_0x3aec3f=query(_0x41ba83,where('username','==',_0x33336b),limit(0x1)),_0x39d7ed=await getDocs(_0x3aec3f);if(_0x39d7ed['empty'])return console['log']('‚ùå\x20No\x20player\x20data\x20found\x20for\x20'+_0x33336b+'\x20in\x20'+_0x20c8c0),null;const _0x1a038b=_0x39d7ed['docs'][0x0][_0x5efdb3(0x174)]();return _0x1a038b[_0x5efdb3(0x1b4)]!==undefined&&(_0x1a038b['rating']=_0x1a038b['eloRating']),console['log']('‚úÖ\x20Found\x20player\x20data\x20for\x20'+_0x33336b+_0x5efdb3(0x148)+_0x1a038b['eloRating']+',\x20Position\x20'+_0x1a038b['position']),_0x1a038b;}catch(_0x4965dd){return console['error'](_0x5efdb3(0x196)+_0x33336b+':',_0x4965dd),null;}}async['getPlayerRibbonsCached'](_0x485c37,_0x6aac7f){const _0x7bc077=a0_0x37e1d2;try{const _0x365e59='playerRibbons'+(_0x6aac7f==='D1'?'':_0x6aac7f),_0x300e73=doc(db,_0x365e59,_0x485c37),_0x5bda63=await getDoc(_0x300e73);return _0x5bda63['exists']()?_0x5bda63[_0x7bc077(0x174)]()[_0x7bc077(0x14b)]||{}:{};}catch(_0xa0863a){return console['error']('Error\x20getting\x20player\x20ribbons:',_0xa0863a),{};}}async['savePlayerRibbonsOptimized'](_0xc5a96,_0x5b2e92,_0x9f93ee){const _0x392742=a0_0x37e1d2;try{const _0x109a58='playerRibbons'+(_0x9f93ee==='D1'?'':_0x9f93ee),_0x5e7f9a=doc(db,_0x109a58,_0xc5a96),_0x2fad88=await this[_0x392742(0x17c)](_0xc5a96,_0x9f93ee),_0x55112f={..._0x2fad88,..._0x5b2e92};await setDoc(_0x5e7f9a,{'username':_0xc5a96,'ladder':_0x9f93ee,'ribbons':_0x55112f,'lastUpdated':new Date()},{'merge':!![]});}catch(_0x19d18a){console[_0x392742(0x1bb)](_0x392742(0x1ac),_0x19d18a);}}[a0_0x37e1d2(0x13a)](_0xe01b3c,_0x358794){const _0x50ff7a=a0_0x37e1d2,_0x1a2a76=_0x358794['Overachiever\x20Ribbon']||{'level':0x0},_0x65723d=RIBBON_DEFINITIONS[_0x50ff7a(0x143)]['levels'],_0x172fff=_0x65723d['findIndex'](_0x1a391a=>_0xe01b3c<_0x1a391a),_0x494f54=_0x172fff===-0x1?_0x65723d[_0x50ff7a(0x159)]:_0x172fff;if(_0x494f54>_0x1a2a76['level'])return{'level':_0x494f54,'awardedAt':new Date()};return null;}['evaluateRematchRibbonFromCount'](_0x3f2dc1,_0x1c4aff){if(_0x3f2dc1===0x0)return null;const _0xe8319=_0x1c4aff['Rematch\x20Ribbon']||{'level':0x0};if(_0x3f2dc1>_0xe8319['level'])return{'level':_0x3f2dc1,'awardedAt':new Date()};return null;}[a0_0x37e1d2(0x157)](_0x29ff09,_0x422a85){const _0x448d0c=a0_0x37e1d2,_0x141300=_0x422a85[_0x448d0c(0x1a1)]||{'level':0x0},_0x49253f=RIBBON_DEFINITIONS['Sub-Gamer\x20Ribbon']['levels'],_0x298ad3=_0x49253f[_0x448d0c(0x178)](_0x2dab98=>_0x29ff09<_0x2dab98),_0x1e1d11=_0x298ad3===-0x1?_0x49253f[_0x448d0c(0x159)]:_0x298ad3;if(_0x1e1d11>_0x141300['level'])return{'level':_0x1e1d11,'awardedAt':new Date()};return null;}['evaluateExplorerRibbonFromCount'](_0x24f68e,_0x4d41ed){const _0x476dd6=a0_0x37e1d2,_0x525f23=_0x4d41ed['Explorer\x20Ribbon']||{'level':0x0},_0x215353=RIBBON_DEFINITIONS[_0x476dd6(0x180)]['levels'],_0x5d1e7e=_0x215353['findIndex'](_0x19f36c=>_0x24f68e<_0x19f36c),_0x4d7c7f=_0x5d1e7e===-0x1?_0x215353[_0x476dd6(0x159)]:_0x5d1e7e;if(_0x4d7c7f>_0x525f23['level'])return{'level':_0x4d7c7f,'awardedAt':new Date()};return null;}['evaluateSocialiteRibbonFromCount'](_0x263733,_0x2d4497){const _0x4d1932=a0_0x37e1d2,_0x189bbb=_0x2d4497['Socialite\x20Ribbon']||{'level':0x0},_0x5c3560=RIBBON_DEFINITIONS['Socialite\x20Ribbon']['levels'],_0x352a46=_0x5c3560['findIndex'](_0x2f4210=>_0x263733<_0x2f4210),_0x539f60=_0x352a46===-0x1?_0x5c3560[_0x4d1932(0x159)]:_0x352a46;if(_0x539f60>_0x189bbb['level'])return{'level':_0x539f60,'awardedAt':new Date()};return null;}['evaluateBrickWallRibbonFromWinRate'](_0x29b5c8,_0x271346,_0x4ee580){const _0x585014=a0_0x37e1d2;if(_0x4ee580<0x32)return console[_0x585014(0x198)]('‚ö†Ô∏è\x20Brick\x20Wall\x20ribbon\x20requires\x2050+\x20matches\x20(player\x20has\x20'+_0x4ee580+')'),null;const _0x32b545=_0x271346['Brick\x20Wall']||{'level':0x0},_0x2a7cba=RIBBON_DEFINITIONS['Brick\x20Wall']['levels'],_0x292d45=_0x2a7cba[_0x585014(0x178)](_0x2f4d68=>_0x29b5c8<_0x2f4d68),_0x20b0f5=_0x292d45===-0x1?_0x2a7cba['length']:_0x292d45;if(_0x20b0f5>_0x32b545[_0x585014(0x1a8)])return console['log'](_0x585014(0x14e)+_0x29b5c8[_0x585014(0x176)](0x1)+_0x585014(0x138)+_0x4ee580+_0x585014(0x144)),{'level':_0x20b0f5,'awardedAt':new Date(),'winRate':_0x29b5c8,'matchesPlayed':_0x4ee580};return null;}[a0_0x37e1d2(0x16e)](_0x18d04f,_0x28b160){const _0x310be1=a0_0x37e1d2,_0x28a072=_0x28b160[_0x310be1(0x14a)]||{'level':0x0},_0x25e4ec=RIBBON_DEFINITIONS['Collector\x20Ribbon']['levels'],_0x3a13b2=_0x25e4ec['findIndex'](_0x500d0a=>_0x18d04f<_0x500d0a),_0x3eae47=_0x3a13b2===-0x1?_0x25e4ec['length']:_0x3a13b2;if(_0x3eae47>_0x28a072['level'])return{'level':_0x3eae47,'awardedAt':new Date()};return null;}[a0_0x37e1d2(0x1ae)](_0x5de3ba,_0x1ed63d){const _0x5dc2c5=a0_0x37e1d2;if(_0x5de3ba===0x0)return null;const _0xfdf236=_0x1ed63d['Underdog\x20Ribbon']||{'level':0x0},_0x2987c0=RIBBON_DEFINITIONS[_0x5dc2c5(0x136)]['levels'];let _0x3cc873=0x0;for(let _0x5c6594=0x0;_0x5c6594<_0x2987c0['length'];_0x5c6594++){if(_0x5de3ba>=_0x2987c0[_0x5c6594])_0x3cc873=_0x5c6594+0x1;else break;}if(_0x3cc873>_0xfdf236['level'])return console['log'](_0x5dc2c5(0x17f)+_0xfdf236['level']+_0x5dc2c5(0x1af)+_0x3cc873+'\x20('+_0x5de3ba+_0x5dc2c5(0x145)),{'level':_0x3cc873,'awardedAt':new Date()};return null;}}function getPlayerRankTier(_0x496325){if(_0x496325===undefined||_0x496325===null)return 0x0;const _0x562569=Number(_0x496325);if(isNaN(_0x562569))return 0x0;if(_0x562569>=0x7d0)return 0x4;if(_0x562569>=0x708)return 0x3;if(_0x562569>=0x640)return 0x2;if(_0x562569>=0x578)return 0x1;return 0x0;}function getRankTierName(_0x570040){const _0xc9ad01=a0_0x37e1d2,_0x343118=[_0xc9ad01(0x141),'Bronze','Silver',_0xc9ad01(0x135),_0xc9ad01(0x14f)];return _0x343118[_0x570040]||_0xc9ad01(0x141);}const ribbonSystem=new RibbonSystem(),ribbonCache=new RibbonCacheManager(),matchCache=new MatchCacheManager();typeof window!=='undefined'&&(window['getRibbonCacheStats']=()=>{const _0x164e01=a0_0x37e1d2;return{'ribbon':ribbonCache[_0x164e01(0x13b)](),'match':matchCache['getCacheStats']()};});export async function evaluatePlayerRibbons(_0x30e9d3,_0x19a09b='D1'){return await ribbonSystem['evaluateAllRibbonsForPlayerOptimized'](_0x30e9d3,_0x19a09b);}export function getRibbonHTML(_0x1ae5ed,_0x2c4b5a){const _0x2f1293=a0_0x37e1d2,_0x124fdc=RIBBON_DEFINITIONS[_0x1ae5ed];if(!_0x124fdc)return'';const _0x13e20e=_0x2c4b5a['level']||0x1,_0x56e5d9=_0x1ae5ed['replace'](_0x2f1293(0x1b8),'')[_0x2f1293(0x170)]('\x20Badge',''),_0x38f392=_0x2647c9=>{const _0x522c3a=_0x2f1293;if(_0x2647c9<=0x1)return'level-1';if(_0x2647c9<=0x2)return'level-2';if(_0x2647c9<=0x3)return _0x522c3a(0x154);if(_0x2647c9<=0x4)return _0x522c3a(0x164);return _0x522c3a(0x163);},_0x1a9d25=_0x258646=>{const _0x50f78b=_0x2f1293;if(_0x258646<=0x1)return'';const _0x2c25ee=[];if(_0x258646>=0x2&&_0x258646<=0x4){const _0x4bbeb2=Math['min'](_0x258646-0x1,0x3);for(let _0x30db43=0x0;_0x30db43<_0x4bbeb2;_0x30db43++){_0x2c25ee['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>');}}if(_0x258646>=0x5&&_0x258646<=0x7){_0x2c25ee['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20silver-star\x22></i>');const _0x455c52=Math['min'](_0x258646-0x5,0x2);for(let _0x3acca6=0x0;_0x3acca6<_0x455c52;_0x3acca6++){_0x2c25ee['push'](_0x50f78b(0x1ba));}}return _0x258646>=0x8&&_0x2c25ee['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20gold-star\x22></i>'),_0x2c25ee[_0x50f78b(0x159)]>0x0?'<div\x20class=\x22ribbon-devices\x22>'+_0x2c25ee['join']('')+'</div>':'';},_0x10942b=_0x124fdc[_0x2f1293(0x195)]+_0x2f1293(0x18f)+_0x13e20e;return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22military-ribbon\x22\x20data-tooltip=\x22'+_0x10942b+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-image-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22'+_0x124fdc[_0x2f1293(0x1b0)]+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22'+_0x1ae5ed+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22ribbon-image\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27;\x20this.nextElementSibling.style.display=\x27block\x27;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-fallback\x22\x20style=\x22display:\x20none;\x20background:\x20'+_0x124fdc[_0x2f1293(0x166)]+';\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x56e5d9['substring'](0x0,0x6)+_0x2f1293(0x150)+_0x1a9d25(_0x13e20e)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-name\x22>'+_0x56e5d9+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x13e20e>0x1?'<div\x20class=\x22ribbon-level-indicator\x20'+_0x38f392(_0x13e20e)+'\x22>'+_0x13e20e+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}