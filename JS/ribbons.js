const a50_0x38ece7=a50_0x4fd1;(function(_0x44e754,_0x2c4150){const _0x16fd97=a50_0x4fd1,_0x55d25b=_0x44e754();while(!![]){try{const _0x12f6b1=-parseInt(_0x16fd97(0x2b6))/0x1*(parseInt(_0x16fd97(0x284))/0x2)+parseInt(_0x16fd97(0x281))/0x3+-parseInt(_0x16fd97(0x1dc))/0x4+-parseInt(_0x16fd97(0x259))/0x5*(-parseInt(_0x16fd97(0x2bf))/0x6)+parseInt(_0x16fd97(0x27f))/0x7+-parseInt(_0x16fd97(0x29f))/0x8*(-parseInt(_0x16fd97(0x1ff))/0x9)+-parseInt(_0x16fd97(0x1d1))/0xa*(parseInt(_0x16fd97(0x204))/0xb);if(_0x12f6b1===_0x2c4150)break;else _0x55d25b['push'](_0x55d25b['shift']());}catch(_0xb82e2b){_0x55d25b['push'](_0x55d25b['shift']());}}}(a50_0x1906,0xdb0e2));const a50_0x2f22e9=(function(){let _0x122767=!![];return function(_0x282224,_0x44a2f1){const _0x4d99da=_0x122767?function(){const _0x3f0c43=a50_0x4fd1;if(_0x44a2f1){const _0x308137=_0x44a2f1[_0x3f0c43(0x20f)](_0x282224,arguments);return _0x44a2f1=null,_0x308137;}}:function(){};return _0x122767=![],_0x4d99da;};}()),a50_0x46f9c8=a50_0x2f22e9(this,function(){const _0x40e038=a50_0x4fd1;return a50_0x46f9c8['toString']()[_0x40e038(0x25b)]('(((.+)+)+)+$')[_0x40e038(0x244)]()[_0x40e038(0x27a)](a50_0x46f9c8)[_0x40e038(0x25b)](_0x40e038(0x257));});a50_0x46f9c8();const a50_0x1a38f0=(function(){let _0x21bf66=!![];return function(_0x57821e,_0xd292db){const _0x57b287=_0x21bf66?function(){const _0x26106b=a50_0x4fd1;if(_0xd292db){const _0x4bcf05=_0xd292db[_0x26106b(0x20f)](_0x57821e,arguments);return _0xd292db=null,_0x4bcf05;}}:function(){};return _0x21bf66=![],_0x57b287;};}()),a50_0x39da22=a50_0x1a38f0(this,function(){const _0xb50501=a50_0x4fd1,_0x1a62ca=function(){const _0x4226a3=a50_0x4fd1;let _0x200cce;try{_0x200cce=Function(_0x4226a3(0x1e2)+_0x4226a3(0x222)+');')();}catch(_0x4265d9){_0x200cce=window;}return _0x200cce;},_0x5c35b7=_0x1a62ca(),_0x324f8c=_0x5c35b7[_0xb50501(0x205)]=_0x5c35b7[_0xb50501(0x205)]||{},_0x987cb7=[_0xb50501(0x1f6),_0xb50501(0x1c9),_0xb50501(0x29c),_0xb50501(0x29b),_0xb50501(0x25d),_0xb50501(0x21b),_0xb50501(0x247)];for(let _0x1d1a8b=0x0;_0x1d1a8b<_0x987cb7['length'];_0x1d1a8b++){const _0x34af2c=a50_0x1a38f0[_0xb50501(0x27a)][_0xb50501(0x1cd)][_0xb50501(0x2b3)](a50_0x1a38f0),_0x3cc5f1=_0x987cb7[_0x1d1a8b],_0x57935f=_0x324f8c[_0x3cc5f1]||_0x34af2c;_0x34af2c[_0xb50501(0x1f3)]=a50_0x1a38f0[_0xb50501(0x2b3)](a50_0x1a38f0),_0x34af2c['toString']=_0x57935f['toString']['bind'](_0x57935f),_0x324f8c[_0x3cc5f1]=_0x34af2c;}});a50_0x39da22();function a50_0x4fd1(_0x487c9b,_0x50ebb9){const _0x50449b=a50_0x1906();return a50_0x4fd1=function(_0x39da22,_0x1a38f0){_0x39da22=_0x39da22-0x1c4;let _0x4f9cbb=_0x50449b[_0x39da22];return _0x4f9cbb;},a50_0x4fd1(_0x487c9b,_0x50ebb9);}import{auth,db}from'./firebase-config.js';import{doc,getDoc,setDoc,collection,query,where,getDocs,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const RIBBON_DEFINITIONS={'Rematch\x20Ribbon':{'description':a50_0x38ece7(0x1e9),'image':a50_0x38ece7(0x22f),'color':a50_0x38ece7(0x1fc)},'Overachiever\x20Ribbon':{'description':a50_0x38ece7(0x25e),'image':a50_0x38ece7(0x1ca),'color':a50_0x38ece7(0x27b),'levels':[0x64,0xc8,0x12c,0x190,0x1f4,0x258,0x2bc,0x320,0x384,0x3e8]},'Brick\x20Wall':{'description':a50_0x38ece7(0x2b4),'image':'../images/ribbons/BrickWall.png','color':'#F0932B','levels':[0x50,0x55,0x5a,0x5f,0x64]},'Collector\x20Ribbon':{'description':a50_0x38ece7(0x26b),'image':a50_0x38ece7(0x22b),'color':a50_0x38ece7(0x29a),'levels':[0x5,0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32]},'Sub-Gamer\x20Ribbon':{'description':a50_0x38ece7(0x24d),'image':a50_0x38ece7(0x2c2),'color':a50_0x38ece7(0x29d),'levels':[0x32,0x64,0x96,0xc8,0xfa,0x12c,0x15e,0x190,0x1c2,0x1f4]},'Explorer\x20Ribbon':{'description':a50_0x38ece7(0x1cc),'image':'../images/ribbons/Explorer.png','color':a50_0x38ece7(0x24f),'levels':[0x14,0x28,0x3c,0x50,0x64,0x78,0x8c,0xa0,0xb4,0xc8]},'Socialite\x20Ribbon':{'description':a50_0x38ece7(0x1c5),'image':a50_0x38ece7(0x21c),'color':'#FF7675','levels':[0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32,0x37]},'Underdog\x20Ribbon':{'description':'Beat\x20a\x20pilot\x20ranked\x20higher\x20than\x20you','image':a50_0x38ece7(0x273),'color':a50_0x38ece7(0x21e),'levels':[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0x9,0xa]},'Domination\x20Ribbon':{'description':a50_0x38ece7(0x297),'image':a50_0x38ece7(0x254),'color':'#8E44AD','levels':[0x1,0x2,0x3,0x4,0x5]},'Top\x20Bronze\x20Pilot':{'description':a50_0x38ece7(0x23a),'image':a50_0x38ece7(0x21f),'color':a50_0x38ece7(0x21d)},'Top\x20Silver\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Silver\x20rank','image':'../images/ribbons/toprank.png','color':a50_0x38ece7(0x1e1)},'Top\x20Gold\x20Pilot':{'description':a50_0x38ece7(0x1d4),'image':a50_0x38ece7(0x21f),'color':a50_0x38ece7(0x238)},'Top\x20Emerald\x20Pilot':{'description':a50_0x38ece7(0x251),'image':a50_0x38ece7(0x21f),'color':a50_0x38ece7(0x22c)}};export const RIBBON_CSS=a50_0x38ece7(0x1dd);function a50_0x1906(){const _0x1ea9ac=['Collector\x20Ribbon','players','image','toLocaleTimeString','getItem','stringify','wins','../images/ribbons/Collector.png','#50C878','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22ribbon-image\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27;\x20this.nextElementSibling.style.display=\x27block\x27;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-fallback\x22\x20style=\x22display:\x20none;\x20background:\x20','‚úÖ\x20Preserving\x20existing\x20','../images/ribbons/Rematch.png','description','Standard','evaluateSubGamerRibbonFromCount','\x20(Dominated:\x20','üöÄ\x20Bulk\x20loading\x20','evaluateExplorerRibbonFromCount','Unranked','evaluateBrickWallRibbonFromWinRate','#FFD700','level-5-plus','Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Bronze\x20rank','removeItem','loserRating','\x20players,\x20Top:\x20','uniqueOpponents','level-3','bulkLoadPlayerData','\x20vs\x20','keys','\x20in\x20','toString','Error\x20getting\x20player\x20data\x20for\x20','üéØ\x20UNDERDOG:\x20','trace','\x20player\x20records\x20for\x20underdog\x20calculations...','playerRibbons','level-2','evaluateUnderdogRibbonFromCount','‚ö†Ô∏è\x20Brick\x20Wall\x20ribbon\x20requires\x2050+\x20matches\x20(player\x20has\x20','Play\x20over\x2050\x20subgame\x20matches','evaluateRematchRibbonFromCount','#55A3FF','cleanup','Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Emerald\x20rank','Overachiever\x20Ribbon','position','../images/ribbons/Domination.png','autoCleanup','dominatedRanks','(((.+)+)+)+$','level-1','210MtEbXA','winnerUsername','search','üëë\x20Domination\x20Ribbon\x20awarded:\x20Level\x20','exception','Played\x20over\x20100\x20matches','Explorer\x20Ribbon','empty','clearOldCache','evaluateTopRankRibbon','üèÜ\x20Underdog\x20Ribbon\x20upgrade:\x20Level\x20','getPlayerRibbonsCached','<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20silver-star\x22></i>','\x20or\x20','subgameType','Brick\x20Wall','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22military-ribbon\x22\x20data-tooltip=\x22','üíæ\x20Cache\x20hit\x20(localStorage)\x20for\x20','Hold\x20more\x20than\x205\x20ribbons\x20at\x20a\x20time','CLEANUP_INTERVAL','üìä\x20Bulk\x20loaded\x20','evaluateCollectorRibbonFromCount','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','setCachedData','size','üîç\x20Checking\x20Top\x20','../images/ribbons/Underdog.png','push','isUnderdogVictory','‚úÖ\x20Found\x20player\x20data\x20for\x20','min','getCacheStats','Error\x20getting\x20player\x20ribbons:','constructor','#96CEB4','set','\x20‚Üí\x20','eloRating','1556443MhMlVD','üëë\x20Dominated\x20','5053311JtjpZj','Rematch\x20Ribbon','all','4hCNbCq','data','Rematch','\x20ELO),\x20','\x20Tier:\x20','Underdog\x20Ribbon','map','playersD3','evaluateAllRibbonsFromData','evaluateAllRibbonsForPlayerOptimized','CACHE_KEY_PREFIX','\x20-\x20No\x20changes\x20needed',')\x20beat\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-name\x22>','\x20status\x20for\x20','startsWith','getPlayerDataCached','now','delete','Beat\x205\x20unique\x20pilots\x20in\x20a\x20rank\x20(including\x20your\x20own)','floor','toFixed','#6C5CE7','error','info','#A29BFE','setCachedMatches','24RVPSkt','\x20ranks:\x20[','memoryCache','\x20Badge',')\x20vs\x20Loser(','getCachedData','length','underdogWins',')\x20-\x20new\x20match\x20detected','matchCount','üéØ\x20Found\x20','Silver','ribbon_cache_','has','approvedMatchesD3','lastCleanup','Sub-Gamer\x20Ribbon','level-4','join','matchesPlayed','bind','Amass\x20at\x20least\x2080%\x20overall\x20win\x20rate\x20percentage\x20(minimum\x2050\x20matches)','\x20already\x20has\x20','126398zygtYx','rating','‚ùå\x20Error\x20in\x20ribbon\x20evaluation:','get','entries','loserUsername','getCacheKey','timestamp','\x20underdog\x20victories\x20for\x20','59370aNtjgD','docs','getPlayerMatchesOptimized','../images/ribbons/Subgamer.png','ribbons','Played\x20at\x20least\x2010\x20unique\x20pilots','getCachedMatches','\x20underdog\x20wins)',',\x20Position\x20','warn','../images/ribbons/Overachiever.png','\x20ELO\x20(','Played\x20at\x20least\x2020\x20unique\x20maps','prototype','approvedMatches','add','üîç\x20Checking\x20underdog:\x20Winner(','10nsOfAS','playersD2','\x20players\x20from\x20','Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Gold\x20rank','\x20ELO)','batchTimer','CACHE_DURATION','getRibbonCacheStats','subgameMatches','savePlayerRibbonsOptimized','level','1401832HzjsVk','\x0a/*\x20Stats\x20integration\x20styles\x20*/\x0a.ribbon-section\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-top:\x201rem;\x0a}\x0a\x0a.ribbon-stat-item.full-width\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-bottom:\x200;\x0a}\x0a\x0a/*\x20Military\x20Ribbon\x20Rack\x20Styling\x20-\x20NO\x20OUTER\x20CONTAINER\x20*/\x0a.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20padding:\x200;\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20box-shadow:\x20none;\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20align-items:\x20flex-start;\x0a}\x0a\x0a.ribbon-rack-empty-inline\x20{\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20padding:\x2060px\x2040px;\x0a\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20border-radius:\x2012px;\x0a\x20\x20\x20\x20border:\x202px\x20solid\x20rgba(255,\x20255,\x20255,\x200.1);\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a}\x0a\x0a.empty-rack-text\x20{\x0a\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20font-style:\x20italic;\x0a\x20\x20\x20\x20font-size:\x201.2rem;\x0a}\x0a\x0a/*\x20Ribbon\x20Rows\x20*/\x0a.ribbon-row\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x206px;\x0a\x20\x20\x20\x20margin-bottom:\x206px;\x0a\x20\x20\x20\x20justify-content:\x20flex-start;\x0a}\x0a\x0a.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20margin-left:\x2060px;\x0a}\x0a\x0a/*\x20Individual\x20Military\x20Ribbon\x20Styling\x20-\x20FIXED\x20OVERFLOW\x20FOR\x20LEVEL\x20INDICATOR\x20*/\x0a.military-ribbon\x20{\x0a\x20\x20\x20\x20position:\x20relative;\x0a\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20transition:\x20transform\x200.3s\x20ease;\x0a\x20\x20\x20\x20flex-shrink:\x200;\x0a\x20\x20\x20\x20width:\x20190px;\x0a\x20\x20\x20\x20height:\x2060px;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#333;\x0a\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20overflow:\x20visible;\x20/*\x20Changed\x20from\x20hidden\x20to\x20visible\x20*/\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20margin:\x2012px\x2012px\x2012px\x200;\x20/*\x20Added\x20margin\x20to\x20prevent\x20clipping\x20*/\x0a}\x0a\x0a.military-ribbon:hover\x20{\x0a\x20\x20\x20\x20transform:\x20translateY(-4px);\x0a\x20\x20\x20\x20z-index:\x2010;\x0a}\x0a\x0a/*\x20Ribbon\x20image\x20container\x20to\x20handle\x20the\x20actual\x20overflow\x20*/\x0a.ribbon-image-container\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20border-radius:\x201px;\x0a}\x0a\x0a.ribbon-image\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20object-fit:\x20cover;\x0a\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20image-rendering:\x20crisp-edges;\x0a}\x0a\x0a.ribbon-fallback\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20text-shadow:\x200\x202px\x204px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a}\x0a\x0a.ribbon-name\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.9);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201.2;\x0a\x20\x20\x20\x20margin-top:\x206px;\x0a\x20\x20\x20\x20max-width:\x20120px;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20text-overflow:\x20ellipsis;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20-24px;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20font-weight:\x20500;\x0a}\x0a\x0a.military-ribbon:hover\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20display:\x20block;\x0a}\x0a\x0a.ribbon-devices\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x2050%;\x0a\x20\x20\x20\x20right:\x206px;\x0a\x20\x20\x20\x20transform:\x20translateY(-50%);\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x203px;\x0a\x20\x20\x20\x20z-index:\x205;\x0a}\x0a\x0a.ribbon-device\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20text-shadow:\x200\x200\x204px\x20rgba(0,0,0,0.9);\x0a\x20\x20\x20\x20filter:\x20drop-shadow(0\x202px\x204px\x20rgba(0,0,0,0.8));\x0a}\x0a\x0a.bronze-star\x20{\x0a\x20\x20\x20\x20color:\x20#CD7F32;\x0a}\x0a\x0a.silver-star\x20{\x0a\x20\x20\x20\x20color:\x20#C0C0C0;\x0a}\x0a\x0a.gold-star\x20{\x0a\x20\x20\x20\x20color:\x20#FFD700;\x0a}\x0a\x0a/*\x20Level\x20indicator\x20-\x20NOW\x20FULLY\x20VISIBLE\x20*/\x0a.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x20-8px;\x0a\x20\x20\x20\x20right:\x20-8px;\x0a\x20\x20\x20\x20background:\x20#FFD700;\x0a\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20width:\x2024px;\x0a\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#FFF;\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x208px\x20rgba(0,0,0,0.7);\x0a\x20\x20\x20\x20z-index:\x206;\x0a}\x0a\x0a/*\x20Custom\x20tooltip\x20-\x20only\x20this\x20one\x20will\x20show\x20*/\x0a.military-ribbon::before\x20{\x0a\x20\x20\x20\x20content:\x20attr(data-tooltip);\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20100%;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20background:\x20rgba(0,0,0,0.95);\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20padding:\x208px\x2012px;\x0a\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20pointer-events:\x20none;\x0a\x20\x20\x20\x20transition:\x20opacity\x200.3s;\x0a\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20margin-bottom:\x208px;\x0a\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(255,\x20255,\x20255,\x200.2);\x0a}\x0a\x0a.military-ribbon:hover::before\x20{\x0a\x20\x20\x20\x20opacity:\x201;\x0a}\x0a\x0a/*\x20Responsive\x20adjustments\x20*/\x0a@media\x20(max-width:\x201024px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2034px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x208px\x208px\x208px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-6px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-6px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2052px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-20px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20768px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2028px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x206px\x206px\x206px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x209px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-5px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-5px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2042px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2011px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-18px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x205px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20480px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2070px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x205px\x205px\x205px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2036px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x204px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-4px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-4px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a.stats-grid\x20.ribbon-section\x20{\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20padding:\x200;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20{\x0a\x20\x20\x20\x20background-color:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20padding:\x2025px;\x0a\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20.stat-label\x20{\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20text-transform:\x20uppercase;\x0a\x20\x20\x20\x20opacity:\x200.9;\x0a\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.95);\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a}\x0a\x0a.ribbon-level-indicator.level-1\x20{\x20background:\x20#808080;\x20}\x0a.ribbon-level-indicator.level-2\x20{\x20background:\x20#CD7F32;\x20}\x0a.ribbon-level-indicator.level-3\x20{\x20background:\x20#b9f1fc;\x20}\x0a.ribbon-level-indicator.level-4\x20{\x20background:\x20#FFD700;\x20}\x0a.ribbon-level-indicator.level-5-plus\x20{\x20background:\x20#50C878;\x20}\x0a','substring','mapPlayed','key','#C0C0C0','return\x20(function()\x20','winnerRating','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-image-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22','‚ùå\x20Error\x20fetching\x20matches:','\x20Pilot','Socialite\x20Ribbon','<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20gold-star\x22></i>','Beat\x20a\x20pilot\x20with\x20the\x20\x22Rematch\x22\x20subgame\x20selected','Domination\x20Ribbon','parse',';\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isUnderdogVictoryFast','matchCache','):\x20','Emerald','Error\x20saving\x20ribbons:','\x20is\x20#1:\x20','__proto__','uniqueMaps','evaluateDominationRibbonFromRanks','log','totalMatches','evaluateSocialiteRibbonFromCount','invalidatePlayerCache','from','</div>','#FF6B6B','levels','approvedMatchesD2','857097qXVJkf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','exists','evaluateOverachieverRibbonFromCount','<div\x20class=\x22ribbon-level-indicator\x20','12183281PbNHbS','console','forEach','checkTopRankStatus','\x20Ribbon','<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>','findIndex','Bronze','username','shouldRefreshCache','rematchWins','apply','pendingEvaluations','üöÄ\x20Cache\x20hit\x20(memory)\x20for\x20','Top\x20','‚ùå\x20No\x20ELO\x20rating\x20data\x20for\x20','setItem','üíæ\x20Saving\x20','\x20matches','Error\x20checking\x20top\x20rank\x20status:','undefined','endsWith','üéØ\x20Cache\x20hit\x20(matches)\x20for\x20','table','../images/ribbons/Socialite.png','#CD7F32','#FF9500','../images/ribbons/toprank.png','replace','BATCH_DELAY','{}.constructor(\x22return\x20this\x22)(\x20)','üéØ\x20UNDERDOG\x20VICTORY:\x20'];a50_0x1906=function(){return _0x1ea9ac;};return a50_0x1906();}class RibbonCacheManager{constructor(){const _0x287a61=a50_0x38ece7;this[_0x287a61(0x2a1)]=new Map(),this[_0x287a61(0x1d7)]=0x3c*0x3c*0x3e8,this[_0x287a61(0x28e)]=_0x287a61(0x2ab),this[_0x287a61(0x2ae)]=Date[_0x287a61(0x295)](),this[_0x287a61(0x26c)]=0x1e*0x3c*0x3e8;}[a50_0x38ece7(0x2bc)](_0x4cef47,_0x3ecb73){const _0x50032d=a50_0x38ece7;return''+this[_0x50032d(0x28e)]+_0x4cef47+'_'+_0x3ecb73;}[a50_0x38ece7(0x2a4)](_0x345d70,_0x3c7aaa){const _0x1d81de=a50_0x38ece7;this[_0x1d81de(0x255)]();const _0x3e1ac0=this[_0x1d81de(0x2bc)](_0x345d70,_0x3c7aaa);if(this[_0x1d81de(0x2a1)][_0x1d81de(0x2ac)](_0x3e1ac0)){const _0x3fd092=this[_0x1d81de(0x2a1)][_0x1d81de(0x2b9)](_0x3e1ac0);if(Date[_0x1d81de(0x295)]()-_0x3fd092['timestamp']<this[_0x1d81de(0x1d7)])return console[_0x1d81de(0x1f6)](_0x1d81de(0x211)+_0x345d70),_0x3fd092[_0x1d81de(0x285)];this[_0x1d81de(0x2a1)][_0x1d81de(0x296)](_0x3e1ac0);}const _0x535553=localStorage[_0x1d81de(0x228)](_0x3e1ac0);if(_0x535553)try{const _0x3a5c33=JSON[_0x1d81de(0x1eb)](_0x535553);if(Date[_0x1d81de(0x295)]()-_0x3a5c33[_0x1d81de(0x2bd)]<this[_0x1d81de(0x1d7)])return this[_0x1d81de(0x2a1)][_0x1d81de(0x27c)](_0x3e1ac0,{'data':_0x3a5c33[_0x1d81de(0x1c4)],'timestamp':_0x3a5c33[_0x1d81de(0x2bd)],'matchCount':_0x3a5c33[_0x1d81de(0x2a8)]}),console[_0x1d81de(0x1f6)](_0x1d81de(0x26a)+_0x345d70),_0x3a5c33[_0x1d81de(0x1c4)];localStorage['removeItem'](_0x3e1ac0);}catch(_0x495279){localStorage[_0x1d81de(0x23b)](_0x3e1ac0);}return null;}[a50_0x38ece7(0x270)](_0x37d683,_0x3359d0,_0x589f2c,_0x116d3f){const _0x1ffffe=a50_0x38ece7,_0x5d4cc2=this[_0x1ffffe(0x2bc)](_0x37d683,_0x3359d0),_0x3d704b=Date[_0x1ffffe(0x295)]();this['memoryCache'][_0x1ffffe(0x27c)](_0x5d4cc2,{'data':_0x589f2c,'timestamp':_0x3d704b,'matchCount':_0x116d3f});try{const _0x57d3b0={'ribbons':_0x589f2c,'matchCount':_0x116d3f,'timestamp':_0x3d704b,'version':0x3};localStorage[_0x1ffffe(0x214)](_0x5d4cc2,JSON[_0x1ffffe(0x229)](_0x57d3b0));}catch(_0x888806){this[_0x1ffffe(0x261)]();try{localStorage[_0x1ffffe(0x214)](_0x5d4cc2,JSON[_0x1ffffe(0x229)](data));}catch(_0x517bf0){}}}[a50_0x38ece7(0x20d)](_0x3f716e,_0x26fd7b,_0x51f155){const _0x36ded3=a50_0x38ece7,_0x3d3471=this[_0x36ded3(0x2bc)](_0x3f716e,_0x26fd7b);if(this[_0x36ded3(0x2a1)][_0x36ded3(0x2ac)](_0x3d3471)){const _0x2ab3d1=this['memoryCache']['get'](_0x3d3471);return _0x2ab3d1[_0x36ded3(0x2a8)]!==_0x51f155;}const _0x2e7665=localStorage[_0x36ded3(0x228)](_0x3d3471);if(_0x2e7665)try{const _0x5f46f1=JSON[_0x36ded3(0x1eb)](_0x2e7665);return _0x5f46f1[_0x36ded3(0x2a8)]!==_0x51f155;}catch(_0x259510){return!![];}return!![];}[a50_0x38ece7(0x1f9)](_0x18ca77,_0x515989){const _0x2a28d5=a50_0x38ece7,_0x456f00=this[_0x2a28d5(0x2bc)](_0x18ca77,_0x515989);this[_0x2a28d5(0x2a1)][_0x2a28d5(0x296)](_0x456f00),localStorage['removeItem'](_0x456f00),console[_0x2a28d5(0x1f6)]('üóëÔ∏è\x20Invalidated\x20cache\x20for\x20'+_0x18ca77+'\x20('+_0x515989+_0x2a28d5(0x2a7));}[a50_0x38ece7(0x255)](){const _0x119f06=a50_0x38ece7,_0x146763=Date[_0x119f06(0x295)]();_0x146763-this[_0x119f06(0x2ae)]>this[_0x119f06(0x26c)]&&(this[_0x119f06(0x250)](),this['lastCleanup']=_0x146763);}[a50_0x38ece7(0x250)](){const _0x7b14dd=a50_0x38ece7,_0x475489=Date[_0x7b14dd(0x295)]();let _0x52ce7c=0x0,_0x181b7b=0x0;for(const [_0x1c6c8b,_0x3fc255]of this[_0x7b14dd(0x2a1)][_0x7b14dd(0x2ba)]()){_0x475489-_0x3fc255[_0x7b14dd(0x2bd)]>this[_0x7b14dd(0x1d7)]&&(this[_0x7b14dd(0x2a1)][_0x7b14dd(0x296)](_0x1c6c8b),_0x52ce7c++);}for(let _0x3fa713=localStorage['length']-0x1;_0x3fa713>=0x0;_0x3fa713--){const _0x264676=localStorage[_0x7b14dd(0x1e0)](_0x3fa713);if(_0x264676&&_0x264676[_0x7b14dd(0x293)](this[_0x7b14dd(0x28e)]))try{const _0x129d59=JSON['parse'](localStorage['getItem'](_0x264676));_0x475489-_0x129d59['timestamp']>this[_0x7b14dd(0x1d7)]&&(localStorage[_0x7b14dd(0x23b)](_0x264676),_0x181b7b++);}catch(_0x2ddd4e){localStorage['removeItem'](_0x264676),_0x181b7b++;}}}[a50_0x38ece7(0x261)](){const _0x45b77=a50_0x38ece7,_0x361dcb=[];for(let _0x4b6acd=0x0;_0x4b6acd<localStorage[_0x45b77(0x2a5)];_0x4b6acd++){const _0x2fc481=localStorage['key'](_0x4b6acd);if(_0x2fc481&&_0x2fc481[_0x45b77(0x293)](this['CACHE_KEY_PREFIX']))try{const _0x4c18d2=JSON[_0x45b77(0x1eb)](localStorage[_0x45b77(0x228)](_0x2fc481));_0x361dcb[_0x45b77(0x274)]({'key':_0x2fc481,'timestamp':_0x4c18d2[_0x45b77(0x2bd)]});}catch(_0x27a390){localStorage[_0x45b77(0x23b)](_0x2fc481);}}_0x361dcb['sort']((_0x207b06,_0x327013)=>_0x207b06[_0x45b77(0x2bd)]-_0x327013['timestamp']);const _0x1d1269=Math[_0x45b77(0x298)](_0x361dcb[_0x45b77(0x2a5)]/0x2);for(let _0x12ff12=0x0;_0x12ff12<_0x1d1269;_0x12ff12++){localStorage['removeItem'](_0x361dcb[_0x12ff12][_0x45b77(0x1e0)]);}}[a50_0x38ece7(0x278)](){const _0x16f310=a50_0x38ece7;return{'memoryEntries':this[_0x16f310(0x2a1)]['size'],'lastCleanup':new Date(this[_0x16f310(0x2ae)])[_0x16f310(0x227)]()};}}class MatchCacheManager{constructor(){const _0x55f9ab=a50_0x38ece7;this[_0x55f9ab(0x1ee)]=new Map(),this[_0x55f9ab(0x1d7)]=0xf*0x3c*0x3e8,this['lastCleanup']=Date['now']();}['getCachedMatches'](_0x1b7b02,_0x73105a){const _0x1f4d11=a50_0x38ece7;this[_0x1f4d11(0x255)]();const _0x87e8e6=_0x1b7b02+'_'+_0x73105a,_0xbb1633=this[_0x1f4d11(0x1ee)][_0x1f4d11(0x2b9)](_0x87e8e6);if(_0xbb1633&&Date['now']()-_0xbb1633[_0x1f4d11(0x2bd)]<this['CACHE_DURATION'])return console['log'](_0x1f4d11(0x21a)+_0x1b7b02),_0xbb1633['matches'];return _0xbb1633&&this[_0x1f4d11(0x1ee)]['delete'](_0x87e8e6),null;}[a50_0x38ece7(0x29e)](_0x358daa,_0x5ad45c,_0x115e1e){const _0x180cdd=a50_0x38ece7,_0x5607a7=_0x358daa+'_'+_0x5ad45c;this[_0x180cdd(0x1ee)][_0x180cdd(0x27c)](_0x5607a7,{'matches':_0x115e1e,'timestamp':Date[_0x180cdd(0x295)]()});}['autoCleanup'](){const _0x478880=a50_0x38ece7,_0x461a10=Date[_0x478880(0x295)]();if(_0x461a10-this[_0x478880(0x2ae)]>0x5*0x3c*0x3e8){let _0xe3a7a1=0x0;for(const [_0x51f243,_0x123290]of this[_0x478880(0x1ee)]['entries']()){_0x461a10-_0x123290['timestamp']>this['CACHE_DURATION']&&(this[_0x478880(0x1ee)][_0x478880(0x296)](_0x51f243),_0xe3a7a1++);}this[_0x478880(0x2ae)]=_0x461a10;}}[a50_0x38ece7(0x278)](){const _0x9480c=a50_0x38ece7;return{'entries':this['matchCache'][_0x9480c(0x271)],'lastCleanup':new Date(this[_0x9480c(0x2ae)])[_0x9480c(0x227)]()};}}class RibbonSystem{constructor(){const _0xde3428=a50_0x38ece7;this[_0xde3428(0x210)]=new Map(),this[_0xde3428(0x1d6)]=null,this[_0xde3428(0x221)]=0x32,this['playerDataCache']=new Map();}async[a50_0x38ece7(0x240)](_0x556025,_0x295433){const _0x42ffe1=a50_0x38ece7,_0x52b89a=_0x295433==='D1'?_0x42ffe1(0x225):_0x295433==='D2'?'playersD2':_0x42ffe1(0x28b),_0x37b033=collection(db,_0x52b89a),_0x3a30c0=await getDocs(_0x37b033),_0x39b785=new Map();return _0x3a30c0[_0x42ffe1(0x206)](_0x3aa778=>{const _0x1ee0fa=_0x42ffe1,_0x28720c=_0x3aa778[_0x1ee0fa(0x285)]();_0x28720c[_0x1ee0fa(0x20c)]&&(_0x28720c[_0x1ee0fa(0x27e)]!==undefined&&(_0x28720c[_0x1ee0fa(0x2b7)]=_0x28720c[_0x1ee0fa(0x27e)]),_0x39b785['set'](_0x28720c[_0x1ee0fa(0x20c)],_0x28720c));}),console['log'](_0x42ffe1(0x26d)+_0x39b785[_0x42ffe1(0x271)]+_0x42ffe1(0x1d3)+_0x52b89a),_0x39b785;}async[a50_0x38ece7(0x28c)](_0x2029ff,_0x695a88,_0x52ceab,_0x5162f6){const _0x44e23b=a50_0x38ece7,_0x362d20={},_0x41bc37=_0x695a88[_0x44e23b(0x20c)],_0x79b5d9={'totalMatches':_0x2029ff[_0x44e23b(0x2a5)],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0,'dominatedRanks':new Set()},_0x471873=new Set();_0x2029ff[_0x44e23b(0x206)](_0x1971bd=>{const _0x315a97=_0x44e23b,_0x5d8aad=_0x1971bd[_0x315a97(0x25a)]===_0x41bc37,_0x115c86=_0x5d8aad?_0x1971bd[_0x315a97(0x2bb)]:_0x1971bd['winnerUsername'];if(_0x115c86)_0x471873[_0x315a97(0x1cf)](_0x115c86);}),console[_0x44e23b(0x1f6)](_0x44e23b(0x234)+_0x471873[_0x44e23b(0x271)]+_0x44e23b(0x248));const _0x5cad2d=await this[_0x44e23b(0x240)]([..._0x471873,_0x41bc37],_0x5162f6),_0x500052=_0x5cad2d[_0x44e23b(0x2b9)](_0x41bc37);!_0x500052&&console[_0x44e23b(0x1f6)]('‚ö†Ô∏è\x20No\x20current\x20player\x20data\x20found\x20for\x20'+_0x41bc37);const _0x4aa300={0x0:new Set(),0x1:new Set(),0x2:new Set(),0x3:new Set(),0x4:new Set()};_0x2029ff[_0x44e23b(0x206)](_0x142d55=>{const _0x672e3f=_0x44e23b,_0x40ef5f=_0x142d55[_0x672e3f(0x25a)]===_0x41bc37,_0x3b1a77=_0x40ef5f?_0x142d55[_0x672e3f(0x2bb)]:_0x142d55['winnerUsername'];if(_0x40ef5f){_0x79b5d9[_0x672e3f(0x22a)]++;_0x142d55['subgameType']===_0x672e3f(0x286)&&_0x79b5d9[_0x672e3f(0x20e)]++;this['isUnderdogVictoryFast'](_0x142d55,_0x41bc37,_0x500052,_0x5cad2d)&&_0x79b5d9['underdogWins']++;const _0x24abb5=_0x5cad2d['get'](_0x3b1a77);if(_0x24abb5){const _0xff2a6e=_0x24abb5[_0x672e3f(0x27e)]||0x0,_0x22ec6a=getPlayerRankTier(_0xff2a6e);_0x4aa300[_0x22ec6a][_0x672e3f(0x1cf)](_0x3b1a77);}}_0x142d55[_0x672e3f(0x267)]&&_0x142d55[_0x672e3f(0x267)]!==_0x672e3f(0x231)&&_0x79b5d9[_0x672e3f(0x1d9)]++,_0x142d55[_0x672e3f(0x1df)]&&_0x79b5d9[_0x672e3f(0x1f4)]['add'](_0x142d55[_0x672e3f(0x1df)]),_0x3b1a77&&_0x79b5d9[_0x672e3f(0x23e)]['add'](_0x3b1a77);}),Object['keys'](_0x4aa300)[_0x44e23b(0x206)](_0x2b1f4a=>{const _0xe4fbed=_0x44e23b;_0x4aa300[_0x2b1f4a][_0xe4fbed(0x271)]>=0x5&&_0x79b5d9[_0xe4fbed(0x256)]['add'](parseInt(_0x2b1f4a));}),console[_0x44e23b(0x1f6)](_0x44e23b(0x2a9)+_0x79b5d9[_0x44e23b(0x2a6)]+_0x44e23b(0x2be)+_0x41bc37),console[_0x44e23b(0x1f6)](_0x44e23b(0x280)+_0x79b5d9[_0x44e23b(0x256)][_0x44e23b(0x271)]+_0x44e23b(0x2a0)+Array[_0x44e23b(0x1fa)](_0x79b5d9[_0x44e23b(0x256)])[_0x44e23b(0x28a)](_0x55e572=>getRankTierName(_0x55e572))[_0x44e23b(0x2b1)](',\x20')+']');const _0x5741b3=_0x79b5d9[_0x44e23b(0x1f7)]>0x0?_0x79b5d9[_0x44e23b(0x22a)]/_0x79b5d9[_0x44e23b(0x1f7)]*0x64:0x0,_0x35bdaa=[[_0x44e23b(0x252),this[_0x44e23b(0x202)](_0x79b5d9[_0x44e23b(0x1f7)],_0x52ceab)],[_0x44e23b(0x282),this[_0x44e23b(0x24e)](_0x79b5d9['rematchWins'],_0x52ceab)],[_0x44e23b(0x2af),this[_0x44e23b(0x232)](_0x79b5d9[_0x44e23b(0x1d9)],_0x52ceab)],[_0x44e23b(0x25f),this[_0x44e23b(0x235)](_0x79b5d9[_0x44e23b(0x1f4)][_0x44e23b(0x271)],_0x52ceab)],[_0x44e23b(0x1e7),this[_0x44e23b(0x1f8)](_0x79b5d9[_0x44e23b(0x23e)][_0x44e23b(0x271)],_0x52ceab)],['Brick\x20Wall',this[_0x44e23b(0x237)](_0x5741b3,_0x52ceab,_0x79b5d9[_0x44e23b(0x1f7)])],['Underdog\x20Ribbon',this[_0x44e23b(0x24b)](_0x79b5d9[_0x44e23b(0x2a6)],_0x52ceab)],[_0x44e23b(0x1ea),this[_0x44e23b(0x1f5)](_0x79b5d9[_0x44e23b(0x256)][_0x44e23b(0x271)],_0x52ceab)]];_0x35bdaa[_0x44e23b(0x206)](([_0x25214b,_0x5be41c])=>{_0x5be41c&&(_0x362d20[_0x25214b]=_0x5be41c);});const _0x4b3284=Object[_0x44e23b(0x242)](_0x52ceab)['length']+Object[_0x44e23b(0x242)](_0x362d20)[_0x44e23b(0x2a5)],_0x44d1f4=this[_0x44e23b(0x26e)](_0x4b3284,_0x52ceab);return _0x44d1f4&&(_0x362d20[_0x44e23b(0x224)]=_0x44d1f4),_0x362d20;}['evaluateDominationRibbonFromRanks'](_0x3ae283,_0x45ba67){const _0x94cb8a=a50_0x38ece7;if(_0x3ae283===0x0)return null;const _0x5757dd=_0x45ba67[_0x94cb8a(0x1ea)]||{'level':0x0};if(_0x3ae283>_0x5757dd[_0x94cb8a(0x1db)]){const _0x91652b=[];for(let _0x3babf4=0x0;_0x3babf4<_0x3ae283;_0x3babf4++){_0x91652b['push'](getRankTierName(_0x3babf4));}return console[_0x94cb8a(0x1f6)](_0x94cb8a(0x25c)+_0x5757dd[_0x94cb8a(0x1db)]+_0x94cb8a(0x27d)+_0x3ae283+_0x94cb8a(0x233)+_0x91652b[_0x94cb8a(0x2b1)](',\x20')+')'),{'level':_0x3ae283,'awardedAt':new Date(),'dominatedRanks':_0x91652b};}return null;}async[a50_0x38ece7(0x207)](_0x5097c2,_0x58ba47){const _0x293e34=a50_0x38ece7;try{const _0xee3869=_0x58ba47==='D1'?_0x293e34(0x225):_0x58ba47==='D2'?_0x293e34(0x1d2):_0x293e34(0x28b),_0x33a522=await this[_0x293e34(0x294)](_0x5097c2,_0x58ba47);if(!_0x33a522||_0x33a522['eloRating']===undefined)return console[_0x293e34(0x1f6)](_0x293e34(0x213)+_0x5097c2),null;const _0x4bf517=_0x33a522[_0x293e34(0x27e)],_0x2288c9=getPlayerRankTier(_0x4bf517),_0x127fc2=getRankTierName(_0x2288c9);if(_0x127fc2===_0x293e34(0x236))return console[_0x293e34(0x1f6)]('‚ùå\x20'+_0x5097c2+'\x20is\x20Unranked\x20('+_0x4bf517+_0x293e34(0x1d5)),null;console['log'](_0x293e34(0x272)+_0x127fc2+_0x293e34(0x292)+_0x5097c2+'\x20('+_0x4bf517+_0x293e34(0x1d5));const _0x4379d3=collection(db,_0xee3869),_0x5b61e1=await getDocs(_0x4379d3);let _0x2ca2d4=null,_0x26d757=-0x1,_0x11c784=0x0;_0x5b61e1['forEach'](_0xdab832=>{const _0x19fa02=_0x293e34,_0xa63af=_0xdab832[_0x19fa02(0x285)](),_0x43f768=_0xa63af[_0x19fa02(0x27e)]||0x0,_0x40e58f=getPlayerRankTier(_0x43f768);_0x40e58f===_0x2288c9&&(_0x11c784++,_0x43f768>_0x26d757&&(_0x26d757=_0x43f768,_0x2ca2d4=_0xa63af['username']));});const _0x72ba17=_0x2ca2d4===_0x5097c2;return console[_0x293e34(0x1f6)]('üìä\x20'+_0x127fc2+_0x293e34(0x288)+_0x11c784+_0x293e34(0x23d)+_0x2ca2d4+'\x20('+_0x26d757+_0x293e34(0x287)+_0x5097c2+_0x293e34(0x1f2)+_0x72ba17),_0x72ba17?_0x127fc2:null;}catch(_0x14db4b){return console['error'](_0x293e34(0x217),_0x14db4b),null;}}async['evaluateTopRankRibbon'](_0x145306,_0x27cd4a,_0x42be24){const _0x4925ea=a50_0x38ece7,_0x4414f9=await this[_0x4925ea(0x207)](_0x145306,_0x27cd4a),_0x297673={};if(_0x4414f9){const _0x24dabf='Top\x20'+_0x4414f9+_0x4925ea(0x1e6);if(RIBBON_DEFINITIONS[_0x24dabf]){const _0x311aa0=_0x42be24[_0x24dabf];!_0x311aa0?(console[_0x4925ea(0x1f6)]('üëë\x20NEW\x20Top\x20Rank\x20Achievement:\x20'+_0x145306+'\x20earned\x20'+_0x24dabf+'!'),_0x297673[_0x24dabf]={'level':0x1,'awardedAt':new Date(),'rank':_0x4414f9,'achievedAt':new Date()}):console['log']('‚úÖ\x20'+_0x145306+_0x4925ea(0x2b5)+_0x24dabf+_0x4925ea(0x28f));}}return Object[_0x4925ea(0x242)](_0x42be24)[_0x4925ea(0x206)](_0x4687cb=>{const _0x2c0e60=_0x4925ea;_0x4687cb[_0x2c0e60(0x293)](_0x2c0e60(0x212))&&_0x4687cb[_0x2c0e60(0x219)](_0x2c0e60(0x1e6))&&(!_0x297673[_0x4687cb]&&console[_0x2c0e60(0x1f6)](_0x2c0e60(0x22e)+_0x4687cb));}),_0x297673;}async[a50_0x38ece7(0x28d)](_0x1c97ba,_0x269403='D1'){const _0x14eae2=a50_0x38ece7;try{const _0x541347=ribbonCache[_0x14eae2(0x2a4)](_0x1c97ba,_0x269403);if(_0x541347){const _0x2e82d3=await this[_0x14eae2(0x262)](_0x1c97ba,_0x269403,_0x541347);if(Object['keys'](_0x2e82d3)['length']>0x0){console['log']('üÜï\x20New\x20top\x20rank\x20achievements\x20found\x20for\x20cached\x20player\x20'+_0x1c97ba),await this[_0x14eae2(0x1da)](_0x1c97ba,_0x2e82d3,_0x269403);const _0x41ac6d={..._0x541347,..._0x2e82d3};return ribbonCache['setCachedData'](_0x1c97ba,_0x269403,_0x41ac6d,0x0),_0x41ac6d;}return _0x541347;}const [_0x8927ce,_0x3f09f2]=await Promise['all']([this[_0x14eae2(0x294)](_0x1c97ba,_0x269403),this[_0x14eae2(0x264)](_0x1c97ba,_0x269403)]);if(!_0x8927ce)return{};const _0xaac80a=_0x8927ce[_0x14eae2(0x2b2)]||0x0,_0x1f3b16=await this['evaluateTopRankRibbon'](_0x1c97ba,_0x269403,_0x3f09f2);if(!ribbonCache[_0x14eae2(0x20d)](_0x1c97ba,_0x269403,_0xaac80a)){if(Object['keys'](_0x1f3b16)['length']>0x0){await this[_0x14eae2(0x1da)](_0x1c97ba,_0x1f3b16,_0x269403);const _0x253a80={..._0x3f09f2,..._0x1f3b16};return ribbonCache[_0x14eae2(0x270)](_0x1c97ba,_0x269403,_0x253a80,_0xaac80a),_0x253a80;}return ribbonCache[_0x14eae2(0x270)](_0x1c97ba,_0x269403,_0x3f09f2,_0xaac80a),_0x3f09f2;}const _0x830fa6=await this[_0x14eae2(0x2c1)](_0x1c97ba,_0x269403),_0x3672f0=await this['evaluateAllRibbonsFromData'](_0x830fa6,_0x8927ce,_0x3f09f2,_0x269403);Object['assign'](_0x3672f0,_0x1f3b16);Object[_0x14eae2(0x242)](_0x3672f0)['length']>0x0&&(console['log'](_0x14eae2(0x215)+Object[_0x14eae2(0x242)](_0x3672f0)[_0x14eae2(0x2a5)]+'\x20new/updated\x20ribbons\x20for\x20'+_0x1c97ba),await this[_0x14eae2(0x1da)](_0x1c97ba,_0x3672f0,_0x269403));const _0x13a0fc={..._0x3f09f2,..._0x3672f0};return ribbonCache['setCachedData'](_0x1c97ba,_0x269403,_0x13a0fc,_0x830fa6[_0x14eae2(0x2a5)]),_0x13a0fc;}catch(_0x3143a3){return console['error'](_0x14eae2(0x2b8),_0x3143a3),{};}}async[a50_0x38ece7(0x275)](_0x57451a,_0x184f5f,_0x480588){const _0x429814=a50_0x38ece7,_0x5c93cc=_0x57451a['winnerUsername']===_0x184f5f;if(!_0x5c93cc)return![];const _0x738222=_0x57451a['loserUsername'],[_0x342ec5,_0xf73dc1]=await Promise[_0x429814(0x283)]([this[_0x429814(0x294)](_0x184f5f,_0x480588),this['getPlayerDataCached'](_0x738222,_0x480588)]);if(!_0x342ec5||!_0xf73dc1)return console[_0x429814(0x1f6)]('‚ö†Ô∏è\x20Missing\x20player\x20data\x20for\x20'+_0x184f5f+_0x429814(0x266)+_0x738222),![];const _0x109538=_0x342ec5[_0x429814(0x27e)]||0x0,_0x21d441=_0xf73dc1[_0x429814(0x27e)]||0x0,_0x32ecbc=getPlayerRankTier(_0x109538),_0x40b6cd=getPlayerRankTier(_0x21d441);console[_0x429814(0x1f6)](_0x429814(0x1d0)+_0x184f5f+'):\x20'+_0x109538+_0x429814(0x1cb)+getRankTierName(_0x32ecbc)+_0x429814(0x2a3)+_0x738222+_0x429814(0x1ef)+_0x21d441+_0x429814(0x1cb)+getRankTierName(_0x40b6cd)+')');if(_0x40b6cd>_0x32ecbc)return console[_0x429814(0x1f6)](_0x429814(0x223)+getRankTierName(_0x32ecbc)+'\x20beat\x20'+getRankTierName(_0x40b6cd)+'!'),!![];return console[_0x429814(0x1f6)]('‚ùå\x20Not\x20underdog:\x20'+getRankTierName(_0x32ecbc)+_0x429814(0x241)+getRankTierName(_0x40b6cd)),![];}[a50_0x38ece7(0x1ed)](_0x2050ac,_0x4bec3e,_0x47bbc3,_0x28ceee){const _0x2dc3e5=a50_0x38ece7,_0x5fa417=_0x2050ac[_0x2dc3e5(0x25a)]===_0x4bec3e;if(!_0x5fa417)return![];const _0x3bb223=_0x2050ac[_0x2dc3e5(0x2bb)],_0x3e3062=_0x28ceee[_0x2dc3e5(0x2b9)](_0x3bb223);if(!_0x47bbc3||!_0x3e3062)return![];const _0x10b96f=_0x47bbc3[_0x2dc3e5(0x27e)]||0x0,_0x1112ca=_0x3e3062['eloRating']||0x0,_0x3e0a69=getPlayerRankTier(_0x10b96f),_0x444fc9=getPlayerRankTier(_0x1112ca);if(_0x444fc9>_0x3e0a69)return console['log'](_0x2dc3e5(0x246)+getRankTierName(_0x3e0a69)+'('+_0x10b96f+_0x2dc3e5(0x290)+getRankTierName(_0x444fc9)+'('+_0x1112ca+')'),!![];return![];}async['evaluateAllRibbonsFromData'](_0x553da0,_0x2bb4ab,_0x372b54,_0x1f9dd6){const _0x2d43ca=a50_0x38ece7,_0xfcde7d={},_0x4c6c6f=_0x2bb4ab[_0x2d43ca(0x20c)],_0x1987c6={'totalMatches':_0x553da0['length'],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0},_0x4f9d74=new Set();_0x553da0['forEach'](_0x4fefda=>{const _0x2600d2=_0x2d43ca,_0x23f887=_0x4fefda[_0x2600d2(0x25a)]===_0x4c6c6f,_0x53809e=_0x23f887?_0x4fefda[_0x2600d2(0x2bb)]:_0x4fefda[_0x2600d2(0x25a)];if(_0x53809e)_0x4f9d74[_0x2600d2(0x1cf)](_0x53809e);}),console[_0x2d43ca(0x1f6)](_0x2d43ca(0x234)+_0x4f9d74[_0x2d43ca(0x271)]+_0x2d43ca(0x248));const _0x1fae54=await this[_0x2d43ca(0x240)]([..._0x4f9d74,_0x4c6c6f],_0x1f9dd6),_0x5333ac=_0x1fae54[_0x2d43ca(0x2b9)](_0x4c6c6f);!_0x5333ac&&console['log']('‚ö†Ô∏è\x20No\x20current\x20player\x20data\x20found\x20for\x20'+_0x4c6c6f);_0x553da0[_0x2d43ca(0x206)](_0x1bf7cc=>{const _0x67a145=_0x2d43ca,_0x4bcbf8=_0x1bf7cc[_0x67a145(0x25a)]===_0x4c6c6f,_0x37b368=_0x4bcbf8?_0x1bf7cc[_0x67a145(0x2bb)]:_0x1bf7cc[_0x67a145(0x25a)];_0x4bcbf8&&(_0x1987c6['wins']++,_0x1bf7cc[_0x67a145(0x267)]===_0x67a145(0x286)&&_0x1987c6[_0x67a145(0x20e)]++,this['isUnderdogVictoryFast'](_0x1bf7cc,_0x4c6c6f,_0x5333ac,_0x1fae54)&&_0x1987c6['underdogWins']++),_0x1bf7cc[_0x67a145(0x267)]&&_0x1bf7cc[_0x67a145(0x267)]!=='Standard'&&_0x1987c6['subgameMatches']++,_0x1bf7cc['mapPlayed']&&_0x1987c6['uniqueMaps'][_0x67a145(0x1cf)](_0x1bf7cc[_0x67a145(0x1df)]),_0x37b368&&_0x1987c6[_0x67a145(0x23e)][_0x67a145(0x1cf)](_0x37b368);}),console[_0x2d43ca(0x1f6)](_0x2d43ca(0x2a9)+_0x1987c6[_0x2d43ca(0x2a6)]+_0x2d43ca(0x2be)+_0x4c6c6f);const _0x5cdecf=_0x1987c6['totalMatches']>0x0?_0x1987c6[_0x2d43ca(0x22a)]/_0x1987c6[_0x2d43ca(0x1f7)]*0x64:0x0,_0x24303f=[['Overachiever\x20Ribbon',this['evaluateOverachieverRibbonFromCount'](_0x1987c6[_0x2d43ca(0x1f7)],_0x372b54)],[_0x2d43ca(0x282),this[_0x2d43ca(0x24e)](_0x1987c6[_0x2d43ca(0x20e)],_0x372b54)],[_0x2d43ca(0x2af),this[_0x2d43ca(0x232)](_0x1987c6['subgameMatches'],_0x372b54)],[_0x2d43ca(0x25f),this['evaluateExplorerRibbonFromCount'](_0x1987c6[_0x2d43ca(0x1f4)][_0x2d43ca(0x271)],_0x372b54)],[_0x2d43ca(0x1e7),this[_0x2d43ca(0x1f8)](_0x1987c6[_0x2d43ca(0x23e)]['size'],_0x372b54)],[_0x2d43ca(0x268),this[_0x2d43ca(0x237)](_0x5cdecf,_0x372b54,_0x1987c6[_0x2d43ca(0x1f7)])],['Underdog\x20Ribbon',this[_0x2d43ca(0x24b)](_0x1987c6[_0x2d43ca(0x2a6)],_0x372b54)]];_0x24303f[_0x2d43ca(0x206)](([_0x38e872,_0x152068])=>{_0x152068&&(_0xfcde7d[_0x38e872]=_0x152068);});const _0x5ad28f=Object[_0x2d43ca(0x242)](_0x372b54)[_0x2d43ca(0x2a5)]+Object[_0x2d43ca(0x242)](_0xfcde7d)[_0x2d43ca(0x2a5)],_0x24cb46=this[_0x2d43ca(0x26e)](_0x5ad28f,_0x372b54);return _0x24cb46&&(_0xfcde7d[_0x2d43ca(0x224)]=_0x24cb46),_0xfcde7d;}async[a50_0x38ece7(0x2c1)](_0x4a9810,_0xc9b5ab){const _0xa1915a=a50_0x38ece7,_0x433ac6=matchCache[_0xa1915a(0x1c6)](_0x4a9810,_0xc9b5ab);if(_0x433ac6)return _0x433ac6;try{const _0x1a1ca1=_0xc9b5ab==='D1'?_0xa1915a(0x1ce):_0xc9b5ab==='D2'?_0xa1915a(0x1fe):_0xa1915a(0x2ad),_0x139060=collection(db,_0x1a1ca1),[_0x1e261c,_0x43ac6c]=await Promise[_0xa1915a(0x283)]([getDocs(query(_0x139060,where(_0xa1915a(0x25a),'==',_0x4a9810))),getDocs(query(_0x139060,where('loserUsername','==',_0x4a9810)))]),_0x55de6c=new Set(),_0x15ede8=[];return _0x1e261c[_0xa1915a(0x206)](_0x1851c7=>{const _0x3b4e4c=_0xa1915a;if(!_0x55de6c[_0x3b4e4c(0x2ac)](_0x1851c7['id'])){_0x55de6c['add'](_0x1851c7['id']);const _0x74ce81={'id':_0x1851c7['id'],..._0x1851c7[_0x3b4e4c(0x285)]()};if(!_0x74ce81['winnerRating'])_0x74ce81['winnerRating']=0x0;if(!_0x74ce81['loserRating'])_0x74ce81[_0x3b4e4c(0x23c)]=0x0;_0x15ede8[_0x3b4e4c(0x274)](_0x74ce81);}}),_0x43ac6c[_0xa1915a(0x206)](_0xf87285=>{const _0x4e78fb=_0xa1915a;if(!_0x55de6c[_0x4e78fb(0x2ac)](_0xf87285['id'])){_0x55de6c[_0x4e78fb(0x1cf)](_0xf87285['id']);const _0x4f2f17={'id':_0xf87285['id'],..._0xf87285['data']()};if(!_0x4f2f17[_0x4e78fb(0x1e3)])_0x4f2f17[_0x4e78fb(0x1e3)]=0x0;if(!_0x4f2f17[_0x4e78fb(0x23c)])_0x4f2f17[_0x4e78fb(0x23c)]=0x0;_0x15ede8[_0x4e78fb(0x274)](_0x4f2f17);}}),matchCache[_0xa1915a(0x29e)](_0x4a9810,_0xc9b5ab,_0x15ede8),_0x15ede8;}catch(_0x5ef6b3){return console[_0xa1915a(0x29b)](_0xa1915a(0x1e5),_0x5ef6b3),[];}}async['getPlayerDataCached'](_0x174bf8,_0x20919f){const _0x3d6ccf=a50_0x38ece7;try{const _0x1c00f4=_0x20919f==='D1'?_0x3d6ccf(0x225):_0x20919f==='D2'?_0x3d6ccf(0x1d2):_0x3d6ccf(0x28b),_0x3f08aa=collection(db,_0x1c00f4),_0x9accaf=query(_0x3f08aa,where(_0x3d6ccf(0x20c),'==',_0x174bf8),limit(0x1)),_0x96e887=await getDocs(_0x9accaf);if(_0x96e887[_0x3d6ccf(0x260)])return console[_0x3d6ccf(0x1f6)]('‚ùå\x20No\x20player\x20data\x20found\x20for\x20'+_0x174bf8+_0x3d6ccf(0x243)+_0x1c00f4),null;const _0x15121c=_0x96e887[_0x3d6ccf(0x2c0)][0x0]['data']();return _0x15121c[_0x3d6ccf(0x27e)]!==undefined&&(_0x15121c[_0x3d6ccf(0x2b7)]=_0x15121c[_0x3d6ccf(0x27e)]),console[_0x3d6ccf(0x1f6)](_0x3d6ccf(0x276)+_0x174bf8+':\x20ELO\x20'+_0x15121c['eloRating']+_0x3d6ccf(0x1c8)+_0x15121c[_0x3d6ccf(0x253)]),_0x15121c;}catch(_0x1d2516){return console[_0x3d6ccf(0x29b)](_0x3d6ccf(0x245)+_0x174bf8+':',_0x1d2516),null;}}async[a50_0x38ece7(0x264)](_0x3a2fa1,_0x596dff){const _0x136044=a50_0x38ece7;try{const _0x1c74a7=_0x136044(0x249)+(_0x596dff==='D1'?'':_0x596dff),_0x5c5126=doc(db,_0x1c74a7,_0x3a2fa1),_0x1998c8=await getDoc(_0x5c5126);return _0x1998c8[_0x136044(0x201)]()?_0x1998c8[_0x136044(0x285)]()[_0x136044(0x1c4)]||{}:{};}catch(_0x122eab){return console[_0x136044(0x29b)](_0x136044(0x279),_0x122eab),{};}}async['savePlayerRibbonsOptimized'](_0x59a9e9,_0x46ba40,_0x2461df){const _0x3e6acf=a50_0x38ece7;try{const _0x241f6e=_0x3e6acf(0x249)+(_0x2461df==='D1'?'':_0x2461df),_0x438261=doc(db,_0x241f6e,_0x59a9e9),_0x7324bd=await this[_0x3e6acf(0x264)](_0x59a9e9,_0x2461df),_0x4c2c77={..._0x7324bd,..._0x46ba40};await setDoc(_0x438261,{'username':_0x59a9e9,'ladder':_0x2461df,'ribbons':_0x4c2c77,'lastUpdated':new Date()},{'merge':!![]});}catch(_0x19c5eb){console['error'](_0x3e6acf(0x1f1),_0x19c5eb);}}[a50_0x38ece7(0x202)](_0x4afa96,_0xacf8d5){const _0x2624ee=a50_0x38ece7,_0x543577=_0xacf8d5['Overachiever\x20Ribbon']||{'level':0x0},_0x29aa7f=RIBBON_DEFINITIONS['Overachiever\x20Ribbon'][_0x2624ee(0x1fd)],_0x3af9b7=_0x29aa7f[_0x2624ee(0x20a)](_0x58e426=>_0x4afa96<_0x58e426),_0x1d8ad1=_0x3af9b7===-0x1?_0x29aa7f[_0x2624ee(0x2a5)]:_0x3af9b7;if(_0x1d8ad1>_0x543577[_0x2624ee(0x1db)])return{'level':_0x1d8ad1,'awardedAt':new Date()};return null;}[a50_0x38ece7(0x24e)](_0xb0b5a8,_0x375051){const _0x2405dc=a50_0x38ece7;if(_0xb0b5a8===0x0)return null;const _0x4102f7=_0x375051[_0x2405dc(0x282)]||{'level':0x0};if(_0xb0b5a8>_0x4102f7['level'])return{'level':_0xb0b5a8,'awardedAt':new Date()};return null;}[a50_0x38ece7(0x232)](_0xd1389e,_0x3bb87a){const _0x4421a2=a50_0x38ece7,_0x59870f=_0x3bb87a[_0x4421a2(0x2af)]||{'level':0x0},_0x1ec634=RIBBON_DEFINITIONS[_0x4421a2(0x2af)][_0x4421a2(0x1fd)],_0x3b116f=_0x1ec634[_0x4421a2(0x20a)](_0x4b7282=>_0xd1389e<_0x4b7282),_0x4bfdd4=_0x3b116f===-0x1?_0x1ec634['length']:_0x3b116f;if(_0x4bfdd4>_0x59870f[_0x4421a2(0x1db)])return{'level':_0x4bfdd4,'awardedAt':new Date()};return null;}[a50_0x38ece7(0x235)](_0x5b264a,_0x49218e){const _0x37164d=a50_0x38ece7,_0x3f8640=_0x49218e[_0x37164d(0x25f)]||{'level':0x0},_0x1d6ad0=RIBBON_DEFINITIONS['Explorer\x20Ribbon'][_0x37164d(0x1fd)],_0x211e69=_0x1d6ad0[_0x37164d(0x20a)](_0x5d35bf=>_0x5b264a<_0x5d35bf),_0x3e58ba=_0x211e69===-0x1?_0x1d6ad0[_0x37164d(0x2a5)]:_0x211e69;if(_0x3e58ba>_0x3f8640[_0x37164d(0x1db)])return{'level':_0x3e58ba,'awardedAt':new Date()};return null;}[a50_0x38ece7(0x1f8)](_0x29fcf4,_0x3d8445){const _0x33180b=a50_0x38ece7,_0xdfa36e=_0x3d8445[_0x33180b(0x1e7)]||{'level':0x0},_0x5dd487=RIBBON_DEFINITIONS[_0x33180b(0x1e7)][_0x33180b(0x1fd)],_0xc472a1=_0x5dd487['findIndex'](_0x32b166=>_0x29fcf4<_0x32b166),_0x529b85=_0xc472a1===-0x1?_0x5dd487[_0x33180b(0x2a5)]:_0xc472a1;if(_0x529b85>_0xdfa36e[_0x33180b(0x1db)])return{'level':_0x529b85,'awardedAt':new Date()};return null;}[a50_0x38ece7(0x237)](_0x44505d,_0x3e2da7,_0x45a3ea){const _0xeee963=a50_0x38ece7;if(_0x45a3ea<0x32)return console[_0xeee963(0x1f6)](_0xeee963(0x24c)+_0x45a3ea+')'),null;const _0x402078=_0x3e2da7[_0xeee963(0x268)]||{'level':0x0},_0x9a4288=RIBBON_DEFINITIONS[_0xeee963(0x268)][_0xeee963(0x1fd)],_0x1ddc49=_0x9a4288[_0xeee963(0x20a)](_0x8767f8=>_0x44505d<_0x8767f8),_0x194fc9=_0x1ddc49===-0x1?_0x9a4288[_0xeee963(0x2a5)]:_0x1ddc49;if(_0x194fc9>_0x402078[_0xeee963(0x1db)])return console[_0xeee963(0x1f6)]('üèÜ\x20Brick\x20Wall\x20ribbon\x20awarded:\x20'+_0x44505d[_0xeee963(0x299)](0x1)+'%\x20win\x20rate\x20over\x20'+_0x45a3ea+_0xeee963(0x216)),{'level':_0x194fc9,'awardedAt':new Date(),'winRate':_0x44505d,'matchesPlayed':_0x45a3ea};return null;}[a50_0x38ece7(0x26e)](_0x502d88,_0x173a45){const _0x5649c4=a50_0x38ece7,_0x221a2c=_0x173a45[_0x5649c4(0x224)]||{'level':0x0},_0x4c75eb=RIBBON_DEFINITIONS[_0x5649c4(0x224)][_0x5649c4(0x1fd)],_0x2f440d=_0x4c75eb[_0x5649c4(0x20a)](_0x371028=>_0x502d88<_0x371028),_0x8fae68=_0x2f440d===-0x1?_0x4c75eb[_0x5649c4(0x2a5)]:_0x2f440d;if(_0x8fae68>_0x221a2c[_0x5649c4(0x1db)])return{'level':_0x8fae68,'awardedAt':new Date()};return null;}['evaluateUnderdogRibbonFromCount'](_0x279c2c,_0xa24402){const _0x26a095=a50_0x38ece7;if(_0x279c2c===0x0)return null;const _0x3f7779=_0xa24402['Underdog\x20Ribbon']||{'level':0x0},_0x3c1aa4=RIBBON_DEFINITIONS[_0x26a095(0x289)][_0x26a095(0x1fd)];let _0x425479=0x0;for(let _0x36c9ba=0x0;_0x36c9ba<_0x3c1aa4['length'];_0x36c9ba++){if(_0x279c2c>=_0x3c1aa4[_0x36c9ba])_0x425479=_0x36c9ba+0x1;else break;}if(_0x425479>_0x3f7779['level'])return console[_0x26a095(0x1f6)](_0x26a095(0x263)+_0x3f7779[_0x26a095(0x1db)]+'\x20‚Üí\x20'+_0x425479+'\x20('+_0x279c2c+_0x26a095(0x1c7)),{'level':_0x425479,'awardedAt':new Date()};return null;}}function getPlayerRankTier(_0x2966ae){if(_0x2966ae===undefined||_0x2966ae===null)return 0x0;const _0x348d20=Number(_0x2966ae);if(isNaN(_0x348d20))return 0x0;if(_0x348d20>=0x7d0)return 0x4;if(_0x348d20>=0x708)return 0x3;if(_0x348d20>=0x640)return 0x2;if(_0x348d20>=0x578)return 0x1;return 0x0;}function getRankTierName(_0x5be9f3){const _0x30b126=a50_0x38ece7,_0x33c23a=[_0x30b126(0x236),_0x30b126(0x20b),_0x30b126(0x2aa),'Gold',_0x30b126(0x1f0)];return _0x33c23a[_0x5be9f3]||_0x30b126(0x236);}const ribbonSystem=new RibbonSystem(),ribbonCache=new RibbonCacheManager(),matchCache=new MatchCacheManager();typeof window!==a50_0x38ece7(0x218)&&(window[a50_0x38ece7(0x1d8)]=()=>{const _0x307c04=a50_0x38ece7;return{'ribbon':ribbonCache[_0x307c04(0x278)](),'match':matchCache['getCacheStats']()};});export async function evaluatePlayerRibbons(_0x5b2c2f,_0x15900e='D1'){const _0x3cad29=a50_0x38ece7;return await ribbonSystem[_0x3cad29(0x28d)](_0x5b2c2f,_0x15900e);}export function getRibbonHTML(_0x4a8883,_0x39f5a4){const _0x2d7f5e=a50_0x38ece7,_0x3604b4=RIBBON_DEFINITIONS[_0x4a8883];if(!_0x3604b4)return'';const _0x1544d5=_0x39f5a4[_0x2d7f5e(0x1db)]||0x1,_0x2c8c0b=_0x4a8883['replace'](_0x2d7f5e(0x208),'')[_0x2d7f5e(0x220)](_0x2d7f5e(0x2a2),''),_0x55c976=_0x59daf2=>{const _0x4c1fba=_0x2d7f5e;if(_0x59daf2<=0x1)return _0x4c1fba(0x258);if(_0x59daf2<=0x2)return _0x4c1fba(0x24a);if(_0x59daf2<=0x3)return _0x4c1fba(0x23f);if(_0x59daf2<=0x4)return _0x4c1fba(0x2b0);return _0x4c1fba(0x239);},_0x5f0529=_0x96cbe1=>{const _0x5af925=_0x2d7f5e;if(_0x96cbe1<=0x1)return'';const _0x403994=[];if(_0x96cbe1>=0x2&&_0x96cbe1<=0x4){const _0x1c3651=Math[_0x5af925(0x277)](_0x96cbe1-0x1,0x3);for(let _0x5c33da=0x0;_0x5c33da<_0x1c3651;_0x5c33da++){_0x403994[_0x5af925(0x274)](_0x5af925(0x209));}}if(_0x96cbe1>=0x5&&_0x96cbe1<=0x7){_0x403994[_0x5af925(0x274)](_0x5af925(0x265));const _0x399743=Math[_0x5af925(0x277)](_0x96cbe1-0x5,0x2);for(let _0x4ba969=0x0;_0x4ba969<_0x399743;_0x4ba969++){_0x403994[_0x5af925(0x274)]('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>');}}return _0x96cbe1>=0x8&&_0x403994[_0x5af925(0x274)](_0x5af925(0x1e8)),_0x403994[_0x5af925(0x2a5)]>0x0?'<div\x20class=\x22ribbon-devices\x22>'+_0x403994['join']('')+'</div>':'';},_0x52bb92=_0x3604b4[_0x2d7f5e(0x230)]+'\x20-\x20Level\x20'+_0x1544d5;return _0x2d7f5e(0x269)+_0x52bb92+_0x2d7f5e(0x1e4)+_0x3604b4[_0x2d7f5e(0x226)]+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22'+_0x4a8883+_0x2d7f5e(0x22d)+_0x3604b4['color']+_0x2d7f5e(0x1ec)+_0x2c8c0b[_0x2d7f5e(0x1de)](0x0,0x6)+_0x2d7f5e(0x200)+_0x5f0529(_0x1544d5)+_0x2d7f5e(0x291)+_0x2c8c0b+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1544d5>0x1?_0x2d7f5e(0x203)+_0x55c976(_0x1544d5)+'\x22>'+_0x1544d5+_0x2d7f5e(0x1fb):'')+_0x2d7f5e(0x26f);}