const a18_0x56260c=(function(){let _0x6d2607=!![];return function(_0x113ea5,_0x4d1d8e){const _0x4d0322=_0x6d2607?function(){if(_0x4d1d8e){const _0x421f40=_0x4d1d8e['apply'](_0x113ea5,arguments);return _0x4d1d8e=null,_0x421f40;}}:function(){};return _0x6d2607=![],_0x4d0322;};}()),a18_0x571680=a18_0x56260c(this,function(){const _0xe37397=a18_0x19c1;let _0x1d42fa;try{const _0x1b93c3=Function('return\x20(function()\x20'+_0xe37397(0x142)+');');_0x1d42fa=_0x1b93c3();}catch(_0x30243f){_0x1d42fa=window;}const _0x58a444=_0x1d42fa[_0xe37397(0x13e)]=_0x1d42fa['console']||{},_0x2dfe00=['log','warn',_0xe37397(0x151),'error','exception',_0xe37397(0x139),_0xe37397(0x13d)];for(let _0x40e100=0x0;_0x40e100<_0x2dfe00['length'];_0x40e100++){const _0x4ad595=a18_0x56260c['constructor']['prototype']['bind'](a18_0x56260c),_0x37659a=_0x2dfe00[_0x40e100],_0x1bf61f=_0x58a444[_0x37659a]||_0x4ad595;_0x4ad595['__proto__']=a18_0x56260c['bind'](a18_0x56260c),_0x4ad595[_0xe37397(0x13b)]=_0x1bf61f['toString'][_0xe37397(0x143)](_0x1bf61f),_0x58a444[_0x37659a]=_0x4ad595;}});a18_0x571680();import{collection as a18_0x39db9a,doc as a18_0x57b5bd,getDoc as a18_0x4cdea5,getDocs as a18_0x12d945,query as a18_0x47ac94,where as a18_0x4f25dc,orderBy as a18_0x57c748,limit as a18_0x59b2ce,startAfter as a18_0x21e615,addDoc as a18_0x1df080,updateDoc as a18_0x19fca2,deleteDoc as a18_0x37237d,writeBatch as a18_0x29e4ce,serverTimestamp as a18_0x305cd2,Timestamp as a18_0x31c904,getCountFromServer as a18_0x4c028b,setDoc as a18_0x212a16,enableNetwork,disableNetwork}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';function a18_0x2e19(){const _0x1549d5=['log','table','unavailable','toString','Failed\x20to\x20enable\x20network:','trace','console','resource-exhausted','warn','Firestore\x20operation\x20blocked\x20-\x20session\x20suspended','{}.constructor(\x22return\x20this\x22)(\x20)','bind','Caught\x20network\x20error:','fromDate','code','apply','length','Session\x20suspended\x20due\x20to\x20inactivity.\x20Please\x20resume\x20your\x20session.','error','commit','network','string','RDL_NETWORK_ERROR','network-error','message','info'];a18_0x2e19=function(){return _0x1549d5;};return a18_0x2e19();}import{db}from'./firebase-config.js';import{handleNetworkError}from'./idle-timeout.js';function checkSessionStatus(){const _0x22a5c1=a18_0x19c1;if(window['RDL_SESSION_SUSPENDED']){console['warn'](_0x22a5c1(0x141));const _0xa28f25=new Error(_0x22a5c1(0x149));_0xa28f25['code']='session-suspended';throw _0xa28f25;}if(window[_0x22a5c1(0x14e)]){console[_0x22a5c1(0x140)]('Firestore\x20operation\x20blocked\x20-\x20network\x20error');const _0x363790=new Error('Network\x20connection\x20error.\x20Please\x20check\x20your\x20internet\x20connection.');_0x363790['code']='network-error';throw _0x363790;}}function a18_0x19c1(_0x31540f,_0x582686){const _0x571680=a18_0x2e19();return a18_0x19c1=function(_0x56260c,_0x2a1b97){_0x56260c=_0x56260c-0x138;let _0x2e1907=_0x571680[_0x56260c];return _0x2e1907;},a18_0x19c1(_0x31540f,_0x582686);}async function handleFirestoreError(_0x364a2e){const _0x864336=a18_0x19c1;console['error']('Firestore\x20operation\x20failed:',_0x364a2e);if(_0x364a2e&&(_0x364a2e[_0x864336(0x146)]===_0x864336(0x13a)||_0x364a2e['code']===_0x864336(0x13f)||_0x364a2e['message']&&_0x364a2e['message']['includes']('network')||_0x364a2e['code']&&_0x364a2e[_0x864336(0x146)]['includes'](_0x864336(0x14c))))return console[_0x864336(0x140)]('Network-related\x20error\x20detected,\x20suspending\x20operations'),handleNetworkError(),!![];return![];}export const rdlFirestore={'collection':function(){const _0x1fd021=a18_0x19c1;if(arguments[_0x1fd021(0x148)]===0x1){if(typeof arguments[0x0]==='string')return a18_0x39db9a(db,arguments[0x0]);return arguments[0x0];}else{if(arguments['length']===0x2&&arguments[0x0]===db&&typeof arguments[0x1]==='string')return a18_0x39db9a(db,arguments[0x1]);}return a18_0x39db9a['apply'](null,arguments);},'doc':function(){const _0x1c2d6b=a18_0x19c1;if(arguments['length']===0x2){if(typeof arguments[0x0]===_0x1c2d6b(0x14d)&&typeof arguments[0x1]===_0x1c2d6b(0x14d))return a18_0x57b5bd(db,arguments[0x0],arguments[0x1]);return a18_0x57b5bd[_0x1c2d6b(0x147)](null,arguments);}else{if(arguments['length']===0x3&&arguments[0x0]===db)return a18_0x57b5bd['apply'](null,arguments);}return a18_0x57b5bd['apply'](null,arguments);},'query':function(){return a18_0x47ac94['apply'](null,arguments);},'where':function(){return a18_0x4f25dc['apply'](null,arguments);},'orderBy':function(){return a18_0x57c748['apply'](null,arguments);},'limit':function(_0x5ef4f8){return a18_0x59b2ce(_0x5ef4f8);},'startAfter':function(_0x5e85c5){return a18_0x21e615(_0x5e85c5);},'getDoc':async function(_0x44683d){try{return checkSessionStatus(),await a18_0x4cdea5(_0x44683d);}catch(_0x75bc11){const _0x3a079a=await handleFirestoreError(_0x75bc11);_0x3a079a&&(_0x75bc11['code']='network-error');throw _0x75bc11;}},'getDocs':async function(_0x210433){const _0x1fa02e=a18_0x19c1;try{return checkSessionStatus(),await a18_0x12d945(_0x210433);}catch(_0x4d87b6){const _0x469143=await handleFirestoreError(_0x4d87b6);_0x469143&&(_0x4d87b6['code']=_0x1fa02e(0x14f));throw _0x4d87b6;}},'getCountFromServer':async function(_0x411664){const _0x564bec=a18_0x19c1;try{return checkSessionStatus(),await a18_0x4c028b(_0x411664);}catch(_0x5e7265){const _0x38219c=await handleFirestoreError(_0x5e7265);_0x38219c&&(_0x5e7265[_0x564bec(0x146)]=_0x564bec(0x14f));throw _0x5e7265;}},'addDoc':async function(_0x5955a7,_0x7ee82a){const _0x245e7e=a18_0x19c1;try{return checkSessionStatus(),await a18_0x1df080(_0x5955a7,_0x7ee82a);}catch(_0x2a7728){const _0x45eae1=await handleFirestoreError(_0x2a7728);_0x45eae1&&(_0x2a7728['code']=_0x245e7e(0x14f));throw _0x2a7728;}},'setDoc':async function(_0x1d6e2d,_0x491605,_0xe6bace){const _0x233fd7=a18_0x19c1;try{return checkSessionStatus(),await a18_0x212a16(_0x1d6e2d,_0x491605,_0xe6bace);}catch(_0x1f0796){const _0x5938b7=await handleFirestoreError(_0x1f0796);_0x5938b7&&(_0x1f0796[_0x233fd7(0x146)]='network-error');throw _0x1f0796;}},'updateDoc':async function(_0x362d26,_0x46486e){try{return checkSessionStatus(),await a18_0x19fca2(_0x362d26,_0x46486e);}catch(_0x101196){const _0xd7ac4=await handleFirestoreError(_0x101196);_0xd7ac4&&(_0x101196['code']='network-error');throw _0x101196;}},'deleteDoc':async function(_0x5b1dea){try{return checkSessionStatus(),await a18_0x37237d(_0x5b1dea);}catch(_0xee2f1e){const _0x215b3f=await handleFirestoreError(_0xee2f1e);_0x215b3f&&(_0xee2f1e['code']='network-error');throw _0xee2f1e;}},'writeBatch':function(){const _0x29e8b3=a18_0x19c1;checkSessionStatus();const _0x21ec4f=a18_0x29e4ce(db),_0x5aeaf2=_0x21ec4f['commit']['bind'](_0x21ec4f);return _0x21ec4f[_0x29e8b3(0x14b)]=async function(){try{return checkSessionStatus(),await _0x5aeaf2();}catch(_0x3fa339){const _0x1323f4=await handleFirestoreError(_0x3fa339);_0x1323f4&&(_0x3fa339['code']='network-error');throw _0x3fa339;}},_0x21ec4f;},'serverTimestamp':function(){return a18_0x305cd2();},'Timestamp':{'now':function(){return a18_0x31c904['now']();},'fromDate':function(_0x2009f0){const _0x555f99=a18_0x19c1;return a18_0x31c904[_0x555f99(0x145)](_0x2009f0);}},'enableNetwork':async function(){const _0x47c8f8=a18_0x19c1;try{return await enableNetwork(db);}catch(_0x47e635){console['error'](_0x47c8f8(0x13c),_0x47e635);throw _0x47e635;}},'disableNetwork':async function(){try{return await disableNetwork(db);}catch(_0x5c822e){console['error']('Failed\x20to\x20disable\x20network:',_0x5c822e);throw _0x5c822e;}}};window['addEventListener']('error',function(_0xf7e98a){const _0x349d66=a18_0x19c1;if(_0xf7e98a['error']){if(_0xf7e98a[_0x349d66(0x14a)][_0x349d66(0x146)]==='session-suspended')_0xf7e98a['preventDefault'](),console['log']('Caught\x20session\x20suspended\x20error:',_0xf7e98a['error'][_0x349d66(0x150)]);else(_0xf7e98a[_0x349d66(0x14a)]['code']===_0x349d66(0x13a)||_0xf7e98a['error']['code']===_0x349d66(0x13f)||_0xf7e98a['error'][_0x349d66(0x150)]&&_0xf7e98a['error']['message']['includes'](_0x349d66(0x14c))||_0xf7e98a['error']['code']&&_0xf7e98a['error']['code']['includes']('network'))&&(_0xf7e98a['preventDefault'](),console[_0x349d66(0x138)](_0x349d66(0x144),_0xf7e98a['error'][_0x349d66(0x150)]),handleNetworkError());}}),window['rdlFirestore']=rdlFirestore,console['log']('Firestore\x20wrapper\x20initialized\x20with\x20session\x20checking\x20and\x20network\x20error\x20handling');