const a9_0x59784a=a9_0x1fdc;(function(_0x1ddc97,_0x3bade5){const _0x2888df=a9_0x1fdc,_0x30b297=_0x1ddc97();while(!![]){try{const _0x7b2ac2=-parseInt(_0x2888df(0x1ec))/0x1*(parseInt(_0x2888df(0x207))/0x2)+parseInt(_0x2888df(0x21b))/0x3+parseInt(_0x2888df(0x1d2))/0x4+parseInt(_0x2888df(0x1b2))/0x5+parseInt(_0x2888df(0x1b5))/0x6+parseInt(_0x2888df(0x1da))/0x7+-parseInt(_0x2888df(0x1bf))/0x8;if(_0x7b2ac2===_0x3bade5)break;else _0x30b297['push'](_0x30b297['shift']());}catch(_0x3b965f){_0x30b297['push'](_0x30b297['shift']());}}}(a9_0x34ee,0xab13d));const a9_0x1cab6a=(function(){let _0x542549=!![];return function(_0x34b337,_0x99e45e){const _0x34bea0=_0x542549?function(){const _0x3a98db=a9_0x1fdc;if(_0x99e45e){const _0x3107f8=_0x99e45e[_0x3a98db(0x1bc)](_0x34b337,arguments);return _0x99e45e=null,_0x3107f8;}}:function(){};return _0x542549=![],_0x34bea0;};}()),a9_0x4254fb=a9_0x1cab6a(this,function(){const _0x259be6=a9_0x1fdc;return a9_0x4254fb[_0x259be6(0x1e0)]()['search'](_0x259be6(0x220))[_0x259be6(0x1e0)]()['constructor'](a9_0x4254fb)[_0x259be6(0x1b8)](_0x259be6(0x220));});a9_0x4254fb();function a9_0x1fdc(_0x193470,_0x242852){const _0x57fa9e=a9_0x34ee();return a9_0x1fdc=function(_0x41a3b3,_0x4b7ebe){_0x41a3b3=_0x41a3b3-0x1b2;let _0x7e06da=_0x57fa9e[_0x41a3b3];return _0x7e06da;},a9_0x1fdc(_0x193470,_0x242852);}function a9_0x34ee(){const _0x4fc8fe=['length','loser-current-elo','click','__proto__','position','classList','currentLadder','1616ItQCgP','block','#C0C0C0','<option\x20value=\x22\x22>Error\x20loading\x20players</option>','winner-current-elo','displayMatchResult','style','set','winnerChange','calculation-details','trace','round','bind','winner-elo-change','info','<option\x20value=\x22\x22>Loading\x20players...</option>','newLoserRating','loser-select','Error\x20loading\x20players:','loser-name','572604xEIqyc','loser-new-elo','elo','match-result','sandbox','(((.+)+)+)+$','winner-select','\x20ELO)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</option>','warn','expectedScoreWinner','playersD3','values','\x20players\x20from\x20','386520eWKKQy','active','size','7203474XiqxSS','\x22\x20class=\x22','#50C878','search','constructor','table','loadPlayers','apply','addEventListener','#CD7F32','3413368AoqZBj','bronze','data','displayCalculationDetails','target','from','eloRating','Please\x20select\x20different\x20players\x20for\x20winner\x20and\x20loser','.ladder-btn','\x0a\x0aFormula\x20Used:\x0a\x20\x20New\x20Rating\x20=\x20Old\x20Rating\x20+\x20K-factor\x20Ã—\x20(Actual\x20Score\x20-\x20Expected\x20Score)\x0a\x20\x20K-factor\x20=\x2032\x0a\x20\x20Actual\x20Score:\x20Winner\x20=\x201,\x20Loser\x20=\x200\x0a\x20\x20\x0a','error','expectedScoreLoser','log','\x20ladder','toFixed','gold','loserChange','clear','forEach','2364688ieoQQn','add','querySelectorAll','emerald','return\x20(function()\x20','\x20+\x20','playersD2','init','1288959magHWf','winner-name','pow','innerHTML','#FFD700','textContent','toString','getELORankClass','username','getELOColor','#808080','desc','%\x20chance\x20to\x20win)\x0a\x0aELO\x20Changes:\x0a\x20\x20','refresh-players','\x0a\x20\x20','%\x20chance\x20to\x20win)\x0a\x20\x20','<option\x20value=\x22\x22>Select\x20a\x20player...</option>','players','1382gvjtbJ','calculateMatch','calculateELO','change','DOMContentLoaded','newWinnerRating','grid','exception','updateDropdowns','New\x20ELO:\x20','Low\x20ELO\x20gain.','getElementById','none','get','display','setupEventListeners','dataset','remove','silver','Current\x20ELO:\x20'];a9_0x34ee=function(){return _0x4fc8fe;};return a9_0x34ee();}const a9_0x4b7ebe=(function(){let _0x2c2f7d=!![];return function(_0xcb4847,_0x4690a){const _0x604972=_0x2c2f7d?function(){const _0x59e5a7=a9_0x1fdc;if(_0x4690a){const _0xe00ded=_0x4690a[_0x59e5a7(0x1bc)](_0xcb4847,arguments);return _0x4690a=null,_0xe00ded;}}:function(){};return _0x2c2f7d=![],_0x604972;};}()),a9_0x41a3b3=a9_0x4b7ebe(this,function(){const _0x1ffbcf=a9_0x1fdc;let _0x47219c;try{const _0x3f865f=Function(_0x1ffbcf(0x1d6)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x47219c=_0x3f865f();}catch(_0x29e46e){_0x47219c=window;}const _0x2494c5=_0x47219c['console']=_0x47219c['console']||{},_0x165be6=[_0x1ffbcf(0x1cb),_0x1ffbcf(0x223),_0x1ffbcf(0x215),'error',_0x1ffbcf(0x1f3),_0x1ffbcf(0x1ba),_0x1ffbcf(0x211)];for(let _0x3ad2ec=0x0;_0x3ad2ec<_0x165be6[_0x1ffbcf(0x200)];_0x3ad2ec++){const _0x5b8978=a9_0x4b7ebe[_0x1ffbcf(0x1b9)]['prototype'][_0x1ffbcf(0x213)](a9_0x4b7ebe),_0x26701c=_0x165be6[_0x3ad2ec],_0x34fdbc=_0x2494c5[_0x26701c]||_0x5b8978;_0x5b8978[_0x1ffbcf(0x203)]=a9_0x4b7ebe[_0x1ffbcf(0x213)](a9_0x4b7ebe),_0x5b8978[_0x1ffbcf(0x1e0)]=_0x34fdbc[_0x1ffbcf(0x1e0)][_0x1ffbcf(0x213)](_0x34fdbc),_0x2494c5[_0x26701c]=_0x5b8978;}});a9_0x41a3b3();import{collection,getDocs,query,orderBy}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db}from'./firebase-config.js';class ELOCalculator{constructor(){const _0x189d79=a9_0x1fdc;this[_0x189d79(0x206)]='D1',this['players']=new Map(),this['init']();}[a9_0x59784a(0x1d9)](){const _0x5712a8=a9_0x59784a;this[_0x5712a8(0x1fb)](),this[_0x5712a8(0x1bb)]();}['setupEventListeners'](){const _0x451236=a9_0x59784a;document[_0x451236(0x1d4)](_0x451236(0x1c7))[_0x451236(0x1d1)](_0x32e9d2=>{const _0x4a97ea=_0x451236;_0x32e9d2['addEventListener'](_0x4a97ea(0x202),_0xe37ef=>{const _0x232681=_0x4a97ea;document[_0x232681(0x1d4)](_0x232681(0x1c7))[_0x232681(0x1d1)](_0xd772cf=>_0xd772cf[_0x232681(0x205)][_0x232681(0x1fd)](_0x232681(0x1b3))),_0xe37ef[_0x232681(0x1c3)]['classList'][_0x232681(0x1d3)](_0x232681(0x1b3)),this[_0x232681(0x206)]=_0xe37ef[_0x232681(0x1c3)][_0x232681(0x1fc)]['ladder'],this[_0x232681(0x1bb)]();});}),document[_0x451236(0x1f7)](_0x451236(0x1e7))[_0x451236(0x1bd)](_0x451236(0x202),()=>{const _0x1eebeb=_0x451236;this[_0x1eebeb(0x1bb)]();}),document['getElementById'](_0x451236(0x221))[_0x451236(0x1bd)](_0x451236(0x1ef),()=>this[_0x451236(0x1ed)]()),document[_0x451236(0x1f7)](_0x451236(0x218))['addEventListener'](_0x451236(0x1ef),()=>this[_0x451236(0x1ed)]());}async[a9_0x59784a(0x1bb)](){const _0x1ab7d5=a9_0x59784a;try{this[_0x1ab7d5(0x1f4)](_0x1ab7d5(0x216));const _0x420f32=this[_0x1ab7d5(0x206)]==='D1'?'players':this[_0x1ab7d5(0x206)]==='D2'?_0x1ab7d5(0x1d8):_0x1ab7d5(0x225),_0x146d69=collection(db,_0x420f32),_0x1aa6bf=query(_0x146d69,orderBy('eloRating',_0x1ab7d5(0x1e5))),_0x12b057=await getDocs(_0x1aa6bf);this['players'][_0x1ab7d5(0x1d0)](),_0x12b057[_0x1ab7d5(0x1d1)](_0x25d628=>{const _0x2c843c=_0x1ab7d5,_0x2ea3ba=_0x25d628[_0x2c843c(0x1c1)]();_0x2ea3ba['username']&&this['players'][_0x2c843c(0x20e)](_0x2ea3ba[_0x2c843c(0x1e2)],{'id':_0x25d628['id'],'username':_0x2ea3ba['username'],'elo':parseInt(_0x2ea3ba[_0x2c843c(0x1c5)])||0x4b0,'position':_0x2ea3ba[_0x2c843c(0x204)]||0x3e7});}),this[_0x1ab7d5(0x1f4)](),console[_0x1ab7d5(0x1cb)]('Loaded\x20'+this['players'][_0x1ab7d5(0x1b4)]+_0x1ab7d5(0x227)+this[_0x1ab7d5(0x206)]+_0x1ab7d5(0x1cc));}catch(_0x50e016){console[_0x1ab7d5(0x1c9)](_0x1ab7d5(0x219),_0x50e016),this[_0x1ab7d5(0x1f4)](_0x1ab7d5(0x20a));}}[a9_0x59784a(0x1f4)](_0x18aaa9=null){const _0x45b670=a9_0x59784a,_0x454cab=document['getElementById'](_0x45b670(0x221)),_0x2c2850=document[_0x45b670(0x1f7)](_0x45b670(0x218));if(_0x18aaa9){_0x454cab['innerHTML']=_0x18aaa9,_0x2c2850[_0x45b670(0x1dd)]=_0x18aaa9;return;}let _0x175cd9=_0x45b670(0x1ea);const _0x1ea00f=Array[_0x45b670(0x1c4)](this[_0x45b670(0x1eb)][_0x45b670(0x226)]())['sort']((_0x9c0c5b,_0x5af533)=>_0x5af533['elo']-_0x9c0c5b[_0x45b670(0x21d)]);_0x1ea00f['forEach'](_0x5fe956=>{const _0x14894b=_0x45b670,_0x4f2f6e=this[_0x14894b(0x1e1)](_0x5fe956[_0x14894b(0x21d)]);_0x175cd9+='<option\x20value=\x22'+_0x5fe956[_0x14894b(0x1e2)]+'\x22\x20data-elo=\x22'+_0x5fe956[_0x14894b(0x21d)]+_0x14894b(0x1b6)+_0x4f2f6e+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5fe956[_0x14894b(0x1e2)]+'\x20('+_0x5fe956[_0x14894b(0x21d)]+_0x14894b(0x222);}),_0x454cab[_0x45b670(0x1dd)]=_0x175cd9,_0x2c2850[_0x45b670(0x1dd)]=_0x175cd9;}[a9_0x59784a(0x1ed)](){const _0xba4ae6=a9_0x59784a,_0x5ba749=document['getElementById']('winner-select'),_0x710b96=document[_0xba4ae6(0x1f7)](_0xba4ae6(0x218)),_0xd4b84d=_0x5ba749['value'],_0x2f4708=_0x710b96['value'];if(!_0xd4b84d||!_0x2f4708){document[_0xba4ae6(0x1f7)](_0xba4ae6(0x21e))[_0xba4ae6(0x20d)][_0xba4ae6(0x1fa)]='none',document['getElementById'](_0xba4ae6(0x210))[_0xba4ae6(0x20d)][_0xba4ae6(0x1fa)]=_0xba4ae6(0x1f8);return;}if(_0xd4b84d===_0x2f4708){alert(_0xba4ae6(0x1c6));return;}const _0x5418ce=this[_0xba4ae6(0x1eb)]['get'](_0xd4b84d),_0x2266ae=this[_0xba4ae6(0x1eb)][_0xba4ae6(0x1f9)](_0x2f4708);if(!_0x5418ce||!_0x2266ae){console[_0xba4ae6(0x1c9)]('Player\x20not\x20found');return;}const _0x187ff9=this['calculateELO'](_0x5418ce[_0xba4ae6(0x21d)],_0x2266ae[_0xba4ae6(0x21d)]);this[_0xba4ae6(0x20c)](_0x5418ce,_0x2266ae,_0x187ff9),this['displayCalculationDetails'](_0x5418ce,_0x2266ae,_0x187ff9);}[a9_0x59784a(0x1ee)](_0x17e9ac,_0x3d0b91,_0x2e2117=0x20){const _0x389e6d=a9_0x59784a,_0x2b0f12=0x1/(0x1+Math[_0x389e6d(0x1dc)](0xa,(_0x3d0b91-_0x17e9ac)/0x190)),_0x185e98=0x1/(0x1+Math[_0x389e6d(0x1dc)](0xa,(_0x17e9ac-_0x3d0b91)/0x190)),_0x45b810=_0x17e9ac+_0x2e2117*(0x1-_0x2b0f12),_0x4bbf7d=_0x3d0b91+_0x2e2117*(0x0-_0x185e98);return{'winnerChange':Math['round'](_0x45b810-_0x17e9ac),'loserChange':Math[_0x389e6d(0x212)](_0x4bbf7d-_0x3d0b91),'newWinnerRating':Math['round'](_0x45b810),'newLoserRating':Math[_0x389e6d(0x212)](_0x4bbf7d),'expectedScoreWinner':_0x2b0f12,'expectedScoreLoser':_0x185e98};}[a9_0x59784a(0x20c)](_0x429b2f,_0x45d7be,_0x3ef1de){const _0x9f66a9=a9_0x59784a;document[_0x9f66a9(0x1f7)](_0x9f66a9(0x1db))[_0x9f66a9(0x1df)]=_0x429b2f[_0x9f66a9(0x1e2)],document[_0x9f66a9(0x1f7)](_0x9f66a9(0x20b))[_0x9f66a9(0x1df)]=_0x9f66a9(0x1ff)+_0x429b2f[_0x9f66a9(0x21d)],document[_0x9f66a9(0x1f7)](_0x9f66a9(0x214))['textContent']='+'+_0x3ef1de[_0x9f66a9(0x20f)],document['getElementById']('winner-new-elo')['textContent']=_0x9f66a9(0x1f5)+_0x3ef1de[_0x9f66a9(0x1f1)],document[_0x9f66a9(0x1f7)](_0x9f66a9(0x21a))[_0x9f66a9(0x1df)]=_0x45d7be[_0x9f66a9(0x1e2)],document[_0x9f66a9(0x1f7)](_0x9f66a9(0x201))[_0x9f66a9(0x1df)]=_0x9f66a9(0x1ff)+_0x45d7be[_0x9f66a9(0x21d)],document['getElementById']('loser-elo-change')['textContent']=''+_0x3ef1de['loserChange'],document[_0x9f66a9(0x1f7)](_0x9f66a9(0x21c))['textContent']=_0x9f66a9(0x1f5)+_0x3ef1de[_0x9f66a9(0x217)];const _0x2a26cf=this[_0x9f66a9(0x1e3)](_0x429b2f[_0x9f66a9(0x21d)]),_0x5e7c69=this[_0x9f66a9(0x1e3)](_0x45d7be['elo']);document[_0x9f66a9(0x1f7)]('winner-name')[_0x9f66a9(0x20d)]['color']=_0x2a26cf,document[_0x9f66a9(0x1f7)]('loser-name')[_0x9f66a9(0x20d)]['color']=_0x5e7c69,document[_0x9f66a9(0x1f7)](_0x9f66a9(0x21e))[_0x9f66a9(0x20d)][_0x9f66a9(0x1fa)]=_0x9f66a9(0x1f2);}[a9_0x59784a(0x1c2)](_0x4b8819,_0x268bd4,_0x3cca30){const _0xc4194c=a9_0x59784a,_0x4a1950='\x0a\x0aInitial\x20Ratings:\x0a\x20\x20'+_0x4b8819['username']+':\x20'+_0x4b8819[_0xc4194c(0x21d)]+_0xc4194c(0x1e8)+_0x268bd4[_0xc4194c(0x1e2)]+':\x20'+_0x268bd4['elo']+'\x0a\x20\x20\x0aExpected\x20Scores:\x0a\x20\x20'+_0x4b8819[_0xc4194c(0x1e2)]+':\x20'+_0x3cca30[_0xc4194c(0x224)]['toFixed'](0x3)+'\x20('+(_0x3cca30[_0xc4194c(0x224)]*0x64)[_0xc4194c(0x1cd)](0x1)+_0xc4194c(0x1e9)+_0x268bd4[_0xc4194c(0x1e2)]+':\x20'+_0x3cca30[_0xc4194c(0x1ca)][_0xc4194c(0x1cd)](0x3)+'\x20('+(_0x3cca30[_0xc4194c(0x1ca)]*0x64)['toFixed'](0x1)+_0xc4194c(0x1e6)+_0x4b8819[_0xc4194c(0x1e2)]+':\x20'+_0x4b8819[_0xc4194c(0x21d)]+_0xc4194c(0x1d7)+_0x3cca30[_0xc4194c(0x20f)]+'\x20=\x20'+_0x3cca30[_0xc4194c(0x1f1)]+_0xc4194c(0x1e8)+_0x268bd4[_0xc4194c(0x1e2)]+':\x20'+_0x268bd4['elo']+'\x20+\x20'+_0x3cca30[_0xc4194c(0x1cf)]+'\x20=\x20'+_0x3cca30[_0xc4194c(0x217)]+_0xc4194c(0x1c8)+(_0x3cca30[_0xc4194c(0x20f)]>0x14?'\x20High\x20ELO\x20gain':'')+'\x0a'+(_0x3cca30[_0xc4194c(0x20f)]<0x5?_0xc4194c(0x1f6):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';document['getElementById']('calculation-text')[_0xc4194c(0x1df)]=_0x4a1950,document[_0xc4194c(0x1f7)](_0xc4194c(0x210))[_0xc4194c(0x20d)][_0xc4194c(0x1fa)]=_0xc4194c(0x208);}[a9_0x59784a(0x1e3)](_0x11e619){const _0x15c05b=a9_0x59784a;if(_0x11e619>=0x7d0)return _0x15c05b(0x1b7);else{if(_0x11e619>=0x708)return _0x15c05b(0x1de);else{if(_0x11e619>=0x640)return _0x15c05b(0x209);else{if(_0x11e619>=0x578)return _0x15c05b(0x1be);else return _0x15c05b(0x1e4);}}}}[a9_0x59784a(0x1e1)](_0x5baac8){const _0x537a69=a9_0x59784a;if(_0x5baac8>=0x7d0)return _0x537a69(0x1d5);else{if(_0x5baac8>=0x708)return _0x537a69(0x1ce);else{if(_0x5baac8>=0x640)return _0x537a69(0x1fe);else{if(_0x5baac8>=0x578)return _0x537a69(0x1c0);else return'unranked';}}}}}document[a9_0x59784a(0x1bd)](a9_0x59784a(0x1f0),()=>{const _0x25d0f4=a9_0x59784a;document[_0x25d0f4(0x1f7)](_0x25d0f4(0x21f))&&new ELOCalculator();});