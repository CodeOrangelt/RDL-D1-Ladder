const a20_0x274624=a20_0x377e,a20_0x381daa=(function(){let _0x4c090a=!![];return function(_0x577e0d,_0x2196fe){const _0x1898ca=_0x4c090a?function(){if(_0x2196fe){const _0x4692c2=_0x2196fe['apply'](_0x577e0d,arguments);return _0x2196fe=null,_0x4692c2;}}:function(){};return _0x4c090a=![],_0x1898ca;};}()),a20_0xad3642=a20_0x381daa(this,function(){const _0xcf1934=a20_0x377e;let _0x39318d;try{const _0x2aec28=Function('return\x20(function()\x20'+_0xcf1934(0xff)+');');_0x39318d=_0x2aec28();}catch(_0x1f11cc){_0x39318d=window;}const _0x43daf7=_0x39318d['console']=_0x39318d['console']||{},_0x20cffa=['log','warn','info','error',_0xcf1934(0x103),'table','trace'];for(let _0x2d6629=0x0;_0x2d6629<_0x20cffa[_0xcf1934(0x10b)];_0x2d6629++){const _0xc90539=a20_0x381daa['constructor']['prototype'][_0xcf1934(0x104)](a20_0x381daa),_0x436fca=_0x20cffa[_0x2d6629],_0x547f0b=_0x43daf7[_0x436fca]||_0xc90539;_0xc90539['__proto__']=a20_0x381daa['bind'](a20_0x381daa),_0xc90539['toString']=_0x547f0b['toString']['bind'](_0x547f0b),_0x43daf7[_0x436fca]=_0xc90539;}});a20_0xad3642();import{collection as a20_0x4dbfc5,doc as a20_0x16907e,getDoc as a20_0x55ca25,getDocs as a20_0x48067c,query as a20_0x40ab8c,where as a20_0x1a0183,orderBy as a20_0x12a322,limit as a20_0x22febc,startAfter as a20_0x41bfa8,addDoc as a20_0xe43c95,updateDoc as a20_0x39f113,deleteDoc as a20_0x210f95,writeBatch as a20_0x28576a,serverTimestamp as a20_0x938bf1,Timestamp as a20_0x5c9a18,getCountFromServer as a20_0x154c0f,setDoc as a20_0x51e3da,enableNetwork,disableNetwork}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db}from'./firebase-config.js';import{handleNetworkError}from'./idle-timeout.js';function a20_0x377e(_0xca2ef4,_0x2722a7){const _0xad3642=a20_0x2b73();return a20_0x377e=function(_0x381daa,_0xe962f2){_0x381daa=_0x381daa-0xfc;let _0x2b7380=_0xad3642[_0x381daa];return _0x2b7380;},a20_0x377e(_0xca2ef4,_0x2722a7);}function checkSessionStatus(){if(window['RDL_SESSION_SUSPENDED']){console['warn']('Firestore\x20operation\x20blocked\x20-\x20session\x20suspended');const _0x3401e5=new Error('Session\x20suspended\x20due\x20to\x20inactivity.\x20Please\x20resume\x20your\x20session.');_0x3401e5['code']='session-suspended';throw _0x3401e5;}if(window['RDL_NETWORK_ERROR']){console['warn']('Firestore\x20operation\x20blocked\x20-\x20network\x20error');const _0x3a6b49=new Error('Network\x20connection\x20error.\x20Please\x20check\x20your\x20internet\x20connection.');_0x3a6b49['code']='network-error';throw _0x3a6b49;}}async function handleFirestoreError(_0x147cc8){const _0x153e04=a20_0x377e;console[_0x153e04(0x105)]('Firestore\x20operation\x20failed:',_0x147cc8);if(_0x147cc8&&(_0x147cc8[_0x153e04(0x10f)]==='unavailable'||_0x147cc8[_0x153e04(0x10f)]===_0x153e04(0x107)||_0x147cc8['message']&&_0x147cc8['message']['includes']('network')||_0x147cc8['code']&&_0x147cc8['code']['includes']('network')))return console['warn']('Network-related\x20error\x20detected,\x20suspending\x20operations'),handleNetworkError(),!![];return![];}export const rdlFirestore={'collection':function(){const _0x2fc180=a20_0x377e;if(arguments['length']===0x1){if(typeof arguments[0x0]===_0x2fc180(0xfc))return a20_0x4dbfc5(db,arguments[0x0]);return arguments[0x0];}else{if(arguments['length']===0x2&&arguments[0x0]===db&&typeof arguments[0x1]==='string')return a20_0x4dbfc5(db,arguments[0x1]);}return a20_0x4dbfc5['apply'](null,arguments);},'doc':function(){if(arguments['length']===0x2){if(typeof arguments[0x0]==='string'&&typeof arguments[0x1]==='string')return a20_0x16907e(db,arguments[0x0],arguments[0x1]);return a20_0x16907e['apply'](null,arguments);}else{if(arguments['length']===0x3&&arguments[0x0]===db)return a20_0x16907e['apply'](null,arguments);}return a20_0x16907e['apply'](null,arguments);},'query':function(){const _0x28644c=a20_0x377e;return a20_0x40ab8c[_0x28644c(0x109)](null,arguments);},'where':function(){return a20_0x1a0183['apply'](null,arguments);},'orderBy':function(){const _0x2cf50e=a20_0x377e;return a20_0x12a322[_0x2cf50e(0x109)](null,arguments);},'limit':function(_0x846683){return a20_0x22febc(_0x846683);},'startAfter':function(_0x54ab2d){return a20_0x41bfa8(_0x54ab2d);},'getDoc':async function(_0x1c5416){const _0x3ac17f=a20_0x377e;try{return checkSessionStatus(),await a20_0x55ca25(_0x1c5416);}catch(_0x4c1fb8){const _0x98810f=await handleFirestoreError(_0x4c1fb8);_0x98810f&&(_0x4c1fb8['code']=_0x3ac17f(0x108));throw _0x4c1fb8;}},'getDocs':async function(_0x5464c6){try{return checkSessionStatus(),await a20_0x48067c(_0x5464c6);}catch(_0x34cddf){const _0x42ab8d=await handleFirestoreError(_0x34cddf);_0x42ab8d&&(_0x34cddf['code']='network-error');throw _0x34cddf;}},'getCountFromServer':async function(_0x156b3c){const _0x25fbb5=a20_0x377e;try{return checkSessionStatus(),await a20_0x154c0f(_0x156b3c);}catch(_0x2efbe3){const _0x2cb808=await handleFirestoreError(_0x2efbe3);_0x2cb808&&(_0x2efbe3[_0x25fbb5(0x10f)]='network-error');throw _0x2efbe3;}},'addDoc':async function(_0x32b048,_0x90de3e){const _0x5ca434=a20_0x377e;try{return checkSessionStatus(),await a20_0xe43c95(_0x32b048,_0x90de3e);}catch(_0x5bd840){const _0x34008e=await handleFirestoreError(_0x5bd840);_0x34008e&&(_0x5bd840[_0x5ca434(0x10f)]=_0x5ca434(0x108));throw _0x5bd840;}},'setDoc':async function(_0x2d4dd7,_0x3e4673,_0x10fa54){const _0x517df1=a20_0x377e;try{return checkSessionStatus(),await a20_0x51e3da(_0x2d4dd7,_0x3e4673,_0x10fa54);}catch(_0x5e75d0){const _0x18e000=await handleFirestoreError(_0x5e75d0);_0x18e000&&(_0x5e75d0['code']=_0x517df1(0x108));throw _0x5e75d0;}},'updateDoc':async function(_0x37f63a,_0x5ab053){const _0x241200=a20_0x377e;try{return checkSessionStatus(),await a20_0x39f113(_0x37f63a,_0x5ab053);}catch(_0x286bf5){const _0x4d0a5d=await handleFirestoreError(_0x286bf5);_0x4d0a5d&&(_0x286bf5[_0x241200(0x10f)]='network-error');throw _0x286bf5;}},'deleteDoc':async function(_0x30dc79){const _0x872265=a20_0x377e;try{return checkSessionStatus(),await a20_0x210f95(_0x30dc79);}catch(_0x1f7915){const _0x31cca6=await handleFirestoreError(_0x1f7915);_0x31cca6&&(_0x1f7915['code']=_0x872265(0x108));throw _0x1f7915;}},'writeBatch':function(){const _0x254f16=a20_0x377e;checkSessionStatus();const _0x1a51fe=a20_0x28576a(db),_0x4380ae=_0x1a51fe[_0x254f16(0x10c)]['bind'](_0x1a51fe);return _0x1a51fe['commit']=async function(){try{return checkSessionStatus(),await _0x4380ae();}catch(_0x495219){const _0x5a5488=await handleFirestoreError(_0x495219);_0x5a5488&&(_0x495219['code']='network-error');throw _0x495219;}},_0x1a51fe;},'serverTimestamp':function(){return a20_0x938bf1();},'Timestamp':{'now':function(){return a20_0x5c9a18['now']();},'fromDate':function(_0x4c0e8f){const _0x54037c=a20_0x377e;return a20_0x5c9a18[_0x54037c(0x110)](_0x4c0e8f);}},'enableNetwork':async function(){const _0x47d883=a20_0x377e;try{return await enableNetwork(db);}catch(_0x1897dc){console['error'](_0x47d883(0x106),_0x1897dc);throw _0x1897dc;}},'disableNetwork':async function(){const _0x4afa43=a20_0x377e;try{return await disableNetwork(db);}catch(_0x512431){console[_0x4afa43(0x105)](_0x4afa43(0x101),_0x512431);throw _0x512431;}}};window[a20_0x274624(0x10d)]('error',function(_0x4280b4){const _0x2ee59e=a20_0x274624;if(_0x4280b4['error']){if(_0x4280b4[_0x2ee59e(0x105)]['code']==='session-suspended')_0x4280b4['preventDefault'](),console['log'](_0x2ee59e(0x10e),_0x4280b4[_0x2ee59e(0x105)][_0x2ee59e(0xfd)]);else(_0x4280b4['error']['code']==='unavailable'||_0x4280b4['error']['code']==='resource-exhausted'||_0x4280b4['error']['message']&&_0x4280b4[_0x2ee59e(0x105)]['message'][_0x2ee59e(0x10a)]('network')||_0x4280b4['error']['code']&&_0x4280b4['error']['code']['includes'](_0x2ee59e(0xfe)))&&(_0x4280b4[_0x2ee59e(0x102)](),console['log']('Caught\x20network\x20error:',_0x4280b4['error'][_0x2ee59e(0xfd)]),handleNetworkError());}}),window['rdlFirestore']=rdlFirestore,console[a20_0x274624(0x100)]('Firestore\x20wrapper\x20initialized\x20with\x20session\x20checking\x20and\x20network\x20error\x20handling');function a20_0x2b73(){const _0x471f89=['string','message','network','{}.constructor(\x22return\x20this\x22)(\x20)','log','Failed\x20to\x20disable\x20network:','preventDefault','exception','bind','error','Failed\x20to\x20enable\x20network:','resource-exhausted','network-error','apply','includes','length','commit','addEventListener','Caught\x20session\x20suspended\x20error:','code','fromDate'];a20_0x2b73=function(){return _0x471f89;};return a20_0x2b73();}