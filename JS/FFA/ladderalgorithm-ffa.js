const a1_0x3c0205=(function(){let _0x3e9ae0=!![];return function(_0x48d0c6,_0x2b27aa){const _0x2f9160=_0x3e9ae0?function(){const _0x1c8604=a1_0x3afd;if(_0x2b27aa){const _0x503a02=_0x2b27aa[_0x1c8604(0x171)](_0x48d0c6,arguments);return _0x2b27aa=null,_0x503a02;}}:function(){};return _0x3e9ae0=![],_0x2f9160;};}()),a1_0x5abf74=a1_0x3c0205(this,function(){const _0x17f4e4=a1_0x3afd;let _0x51e2e9;try{const _0x5ab24a=Function(_0x17f4e4(0x147)+_0x17f4e4(0x126)+');');_0x51e2e9=_0x5ab24a();}catch(_0x3db8b8){_0x51e2e9=window;}const _0x5ecbf8=_0x51e2e9[_0x17f4e4(0x162)]=_0x51e2e9[_0x17f4e4(0x162)]||{},_0x63f769=[_0x17f4e4(0x133),_0x17f4e4(0x166),_0x17f4e4(0x10f),_0x17f4e4(0x14f),_0x17f4e4(0x13f),_0x17f4e4(0x17c),_0x17f4e4(0xf8)];for(let _0x2a2e25=0x0;_0x2a2e25<_0x63f769[_0x17f4e4(0x120)];_0x2a2e25++){const _0x4db3eb=a1_0x3c0205[_0x17f4e4(0xee)][_0x17f4e4(0x142)][_0x17f4e4(0x121)](a1_0x3c0205),_0xad7a8e=_0x63f769[_0x2a2e25],_0x3c5648=_0x5ecbf8[_0xad7a8e]||_0x4db3eb;_0x4db3eb[_0x17f4e4(0x15c)]=a1_0x3c0205[_0x17f4e4(0x121)](a1_0x3c0205),_0x4db3eb[_0x17f4e4(0x18b)]=_0x3c5648[_0x17f4e4(0x18b)][_0x17f4e4(0x121)](_0x3c5648),_0x5ecbf8[_0xad7a8e]=_0x4db3eb;}});a1_0x5abf74();import{addDoc,updateDoc,serverTimestamp,collection,doc,getDoc,getDocs,query,where,setDoc,deleteDoc,writeBatch}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db,auth}from'../firebase-config.js';import a1_0x52590f from'../firebase-idle-wrapper.js';export const FFA_PLACEMENT_POINTS={0x1:0x64,0x2:0x4b,0x3:0x37,0x4:0x28,0x5:0x1e,0x6:0x14,0x7:0xf,0x8:0xa,'DEFAULT':0x5};export const FFA_K_FACTORS={'BASE':0x20,'WINNER_BONUS':1.5,'TOP3_BONUS':1.2,'BOTTOM_HALF':0.8};export function calculateFFAElo(_0xdc4b19,_0x47670e){const _0x5b969c=a1_0x3afd,_0x4a4388=new Map(),_0x423d6f=_0xdc4b19[_0x5b969c(0x120)];if(_0x423d6f<0x2)return _0xdc4b19[_0x5b969c(0x12f)](_0x2954b6=>{const _0x115dbd=_0x5b969c;_0x4a4388[_0x115dbd(0x144)](_0x2954b6[_0x115dbd(0x116)],_0x47670e[_0x115dbd(0x158)](_0x2954b6[_0x115dbd(0x116)])||0x3e8);}),_0x4a4388;return _0xdc4b19[_0x5b969c(0x12f)](_0x1d4f55=>{const _0xb6278f=_0x5b969c,_0x38bd99=_0x47670e[_0xb6278f(0x158)](_0x1d4f55[_0xb6278f(0x116)])||0x3e8,_0x5cd4c3=_0x1d4f55[_0xb6278f(0x137)];let _0xd4e930=0x0,_0x3226ec=0x0;_0xdc4b19[_0xb6278f(0x12f)](_0x44c2a6=>{const _0x7df998=_0xb6278f;if(_0x44c2a6[_0x7df998(0x116)]===_0x1d4f55[_0x7df998(0x116)])return;const _0x409de9=_0x47670e[_0x7df998(0x158)](_0x44c2a6[_0x7df998(0x116)])||0x3e8,_0x49324f=_0x44c2a6[_0x7df998(0x137)],_0x2d609b=0x1/(0x1+Math[_0x7df998(0x16a)](0xa,(_0x409de9-_0x38bd99)/0x190));_0xd4e930+=_0x2d609b;if(_0x5cd4c3<_0x49324f)_0x3226ec+=0x1;else _0x5cd4c3===_0x49324f&&(_0x3226ec+=0.5);});const _0x1c0176=_0x423d6f-0x1,_0x15e7ba=_0xd4e930/_0x1c0176,_0x367e99=_0x3226ec/_0x1c0176;let _0x3b32d0=FFA_K_FACTORS[_0xb6278f(0x182)];if(_0x5cd4c3===0x1)_0x3b32d0*=FFA_K_FACTORS[_0xb6278f(0x109)];else{if(_0x5cd4c3<=0x3)_0x3b32d0*=FFA_K_FACTORS[_0xb6278f(0xf3)];else _0x5cd4c3>Math[_0xb6278f(0x17e)](_0x423d6f/0x2)&&(_0x3b32d0*=FFA_K_FACTORS[_0xb6278f(0x153)]);}const _0x4a6a38=_0x3b32d0*(_0x367e99-_0x15e7ba),_0x584da6=Math[_0xb6278f(0x185)](_0x38bd99+_0x4a6a38);_0x4a4388[_0xb6278f(0x144)](_0x1d4f55[_0xb6278f(0x116)],Math[_0xb6278f(0x14e)](0x64,_0x584da6));}),_0x4a4388;}export function getPointsForPlacement(_0x12c647){const _0x4857c5=a1_0x3afd;return FFA_PLACEMENT_POINTS[_0x12c647]||FFA_PLACEMENT_POINTS[_0x4857c5(0x119)];}export async function submitFFAReport(_0x38e3f9){const _0x3d8348=a1_0x3afd;try{const _0x15f327=auth[_0x3d8348(0x146)];if(!_0x15f327)throw new Error(_0x3d8348(0x175));const _0x41c484=_0x38e3f9[_0x3d8348(0x117)][_0x3d8348(0x177)](_0x57529d=>_0x57529d[_0x3d8348(0x137)]===0x1);if(!_0x41c484)throw new Error(_0x3d8348(0x141));const _0x151eb4=query(collection(db,_0x3d8348(0x17b)),where(_0x3d8348(0x116),'==',_0x41c484[_0x3d8348(0x116)])),_0x212904=await getDocs(_0x151eb4);if(_0x212904[_0x3d8348(0x104)])throw new Error(_0x3d8348(0xf2));const _0x56987a=_0x212904[_0x3d8348(0x12b)][0x0];if(_0x56987a['id']!==_0x15f327[_0x3d8348(0x139)])throw new Error(_0x3d8348(0xed));const _0x4db832=_0x38e3f9[_0x3d8348(0x117)][_0x3d8348(0xf6)](_0x2db8dc=>_0x2db8dc[_0x3d8348(0x116)]),_0x1443af=await getDocs(collection(db,_0x3d8348(0x17b))),_0x30d12d=new Set(),_0x4338c3=new Map();_0x1443af[_0x3d8348(0x12f)](_0x440318=>{const _0xd44967=_0x3d8348,_0x453600=_0x440318[_0xd44967(0x124)]();_0x453600[_0xd44967(0x116)]&&(_0x30d12d[_0xd44967(0x106)](_0x453600[_0xd44967(0x116)]),_0x4338c3[_0xd44967(0x144)](_0x453600[_0xd44967(0x116)],_0x440318['id']));});const _0x1a9c59=_0x4db832[_0x3d8348(0x163)](_0x2e45d5=>!_0x30d12d[_0x3d8348(0x188)](_0x2e45d5));if(_0x1a9c59[_0x3d8348(0x120)]>0x0)throw new Error(_0x3d8348(0x11d)+_0x1a9c59[_0x3d8348(0x11f)](',\x20'));const _0xf86004=new Date(),_0x4db33e={'type':_0x3d8348(0x174),'reporterUsername':_0x41c484[_0x3d8348(0x116)],'reporterId':_0x15f327[_0x3d8348(0x139)],'gameVersion':_0x38e3f9[_0x3d8348(0x114)]||'D1','participants':_0x38e3f9[_0x3d8348(0x117)][_0x3d8348(0xf6)](_0x4f522e=>({'username':_0x4f522e[_0x3d8348(0x116)],'odl_Id':_0x4338c3[_0x3d8348(0x158)](_0x4f522e[_0x3d8348(0x116)]),'placement':_0x4f522e[_0x3d8348(0x137)],'kills':parseInt(_0x4f522e[_0x3d8348(0x107)])||0x0,'deaths':parseInt(_0x4f522e[_0x3d8348(0x14d)])||0x0,'confirmed':_0x4f522e[_0x3d8348(0x116)]===_0x41c484[_0x3d8348(0x116)],'confirmedAt':_0x4f522e[_0x3d8348(0x116)]===_0x41c484[_0x3d8348(0x116)]?_0xf86004:null})),'totalPlayers':_0x38e3f9[_0x3d8348(0x117)][_0x3d8348(0x120)],'mapPlayed':_0x38e3f9[_0x3d8348(0x10a)]||_0x3d8348(0xf9),'matchNotes':_0x38e3f9[_0x3d8348(0x108)]||'','demoLink':_0x38e3f9[_0x3d8348(0x187)]||'','reportedAt':serverTimestamp(),'status':_0x3d8348(0x170),'confirmationsNeeded':0x1,'confirmationCount':0x1},_0x4ad5e6=collection(db,_0x3d8348(0x143)),_0x5186eb=await addDoc(_0x4ad5e6,_0x4db33e);return console[_0x3d8348(0x133)](_0x3d8348(0x140),_0x5186eb['id']),await notifyFFAParticipants(_0x5186eb['id'],_0x4db33e),_0x5186eb['id'];}catch(_0x71143c){console[_0x3d8348(0x14f)](_0x3d8348(0x15e),_0x71143c);throw _0x71143c;}}async function notifyFFAParticipants(_0x39bd2f,_0x53d289){const _0x235a59=a1_0x3afd;try{const _0x814b89=writeBatch(db);for(const _0x2689ca of _0x53d289[_0x235a59(0x117)]){if(_0x2689ca[_0x235a59(0x116)]===_0x53d289[_0x235a59(0x13b)])continue;const _0x4591c3=doc(collection(db,_0x235a59(0xec)));_0x814b89[_0x235a59(0x144)](_0x4591c3,{'type':_0x235a59(0x15f),'recipientId':_0x2689ca[_0x235a59(0x13d)],'recipientUsername':_0x2689ca[_0x235a59(0x116)],'reportId':_0x39bd2f,'reporterUsername':_0x53d289[_0x235a59(0x13b)],'placement':_0x2689ca[_0x235a59(0x137)],'totalPlayers':_0x53d289[_0x235a59(0x125)],'mapPlayed':_0x53d289[_0x235a59(0x10a)],'createdAt':serverTimestamp(),'read':![]});}await _0x814b89[_0x235a59(0x14b)](),console[_0x235a59(0x133)](_0x235a59(0x138));}catch(_0x3eb128){console[_0x235a59(0x14f)](_0x235a59(0xfd),_0x3eb128);}}export async function confirmFFAReport(_0x398c1a,_0x203d80={}){const _0x531327=a1_0x3afd,_0x52d117=auth[_0x531327(0x146)];if(!_0x52d117)throw new Error(_0x531327(0x134));try{const _0x45626a=doc(db,_0x531327(0x143),_0x398c1a),_0xea88c4=await getDoc(_0x45626a);if(!_0xea88c4[_0x531327(0x179)]())throw new Error(_0x531327(0x16b));const _0x4ca90e=_0xea88c4[_0x531327(0x124)](),_0x413306=_0x4ca90e[_0x531327(0x164)]||_0x4ca90e[_0x531327(0x117)]||[];if(_0x413306[_0x531327(0x120)]===0x0)throw new Error(_0x531327(0xf5));const _0x4ca3bf=await getDoc(doc(db,_0x531327(0x17b),_0x52d117[_0x531327(0x139)]));if(!_0x4ca3bf[_0x531327(0x179)]())throw new Error(_0x531327(0xfc));const _0x3331dd=_0x4ca3bf[_0x531327(0x124)]()[_0x531327(0x116)],_0x2ca246=_0x413306[_0x531327(0x15d)](_0x505cd2=>_0x505cd2[_0x531327(0x116)]===_0x3331dd||_0x505cd2[_0x531327(0x13d)]===_0x52d117[_0x531327(0x139)]);if(_0x2ca246===-0x1)throw new Error(_0x531327(0x16e));const _0xada8d0=_0x4ca90e[_0x531327(0x17a)]||_0x4ca90e[_0x531327(0x113)];if(_0xada8d0===_0x52d117[_0x531327(0x139)])throw new Error(_0x531327(0x11a));const _0x5b259e=_0x4ca90e[_0x531327(0x129)]||[];if(_0x5b259e[_0x531327(0x161)](_0x52d117[_0x531327(0x139)])||_0x5b259e[_0x531327(0x161)](_0x3331dd))throw new Error(_0x531327(0x18d));const _0x523775=[..._0x5b259e,_0x52d117[_0x531327(0x139)]];return await updateDoc(_0x45626a,{'confirmedBy':_0x523775,'lastConfirmedAt':serverTimestamp(),'lastConfirmedBy':_0x3331dd}),await approveFFAReport(_0x398c1a,{..._0x4ca90e,'players':_0x413306,'confirmedBy':_0x523775}),console[_0x531327(0x133)](_0x531327(0x165)),{'success':!![],'message':_0x531327(0x16c)};}catch(_0x4a2a66){console[_0x531327(0x14f)](_0x531327(0x103),_0x4a2a66);throw _0x4a2a66;}}export async function approveFFAReport(_0x2fd073,_0x33a1df){const _0x363591=a1_0x3afd;try{const _0x3e93a0=_0x33a1df[_0x363591(0x164)]||_0x33a1df[_0x363591(0x117)]||[];if(_0x3e93a0[_0x363591(0x120)]===0x0)throw new Error(_0x363591(0xf5));const _0x567b7e={..._0x33a1df,'participants':_0x3e93a0},_0x3d7952=await processApprovedFFAMatch(_0x567b7e),_0x4b9e4e=doc(db,_0x363591(0x17f),_0x2fd073);await setDoc(_0x4b9e4e,{..._0x3d7952,'approvedAt':serverTimestamp(),'status':_0x363591(0x131)});const _0x1688ba=doc(db,_0x363591(0x143),_0x2fd073);return await deleteDoc(_0x1688ba),console[_0x363591(0x133)](_0x363591(0x10c)),{'success':!![]};}catch(_0x2d654c){console[_0x363591(0x14f)](_0x363591(0xf4),_0x2d654c);throw _0x2d654c;}}export async function rejectFFAReport(_0x2a50c6,_0x555f59=''){const _0x29a048=a1_0x3afd;try{const _0xce80c=auth[_0x29a048(0x146)];if(!_0xce80c)throw new Error(_0x29a048(0x159));const _0x351552=await getDoc(doc(db,_0x29a048(0x17b),_0xce80c[_0x29a048(0x139)]));if(!_0x351552[_0x29a048(0x179)]())throw new Error(_0x29a048(0x148));const _0x588a69=_0x351552[_0x29a048(0x124)]()[_0x29a048(0x116)],_0x203a95=doc(db,_0x29a048(0x143),_0x2a50c6),_0x2ad344=await getDoc(_0x203a95);if(!_0x2ad344[_0x29a048(0x179)]())throw new Error(_0x29a048(0x16b));const _0x1707ae=_0x2ad344[_0x29a048(0x124)](),_0x29aad8=_0x1707ae[_0x29a048(0x164)]||_0x1707ae[_0x29a048(0x117)]||[],_0x50829b=_0x29aad8[_0x29a048(0x12a)](_0x2b0af4=>_0x2b0af4[_0x29a048(0x13d)]===_0xce80c[_0x29a048(0x139)]||_0x2b0af4[_0x29a048(0x116)]===_0x588a69);if(!_0x50829b){const {isAdmin:_0x33664e}=await import(_0x29a048(0x150)),_0x525d65=await _0x33664e();if(!_0x525d65)throw new Error(_0x29a048(0x13e));}const _0x2b74b7={..._0x1707ae,'participants':_0x29aad8,'status':_0x29a048(0x136),'rejectedAt':serverTimestamp(),'rejectedBy':_0xce80c[_0x29a048(0x139)],'rejectionReason':_0x555f59},_0xf5a29d=doc(db,_0x29a048(0x10e),_0x2a50c6);return await setDoc(_0xf5a29d,_0x2b74b7),await deleteDoc(_0x203a95),console[_0x29a048(0x133)](_0x29a048(0xfb),_0x2a50c6),!![];}catch(_0x3eaaa1){console[_0x29a048(0x14f)](_0x29a048(0x16f),_0x3eaaa1);throw _0x3eaaa1;}}export async function updateFFALadderPositions(){const _0xad47d0=a1_0x3afd;try{const _0x4b2e38=await getDocs(collection(db,_0xad47d0(0x17b))),_0x593fd0=[];_0x4b2e38[_0xad47d0(0x12f)](_0x27e788=>{const _0xcef147=_0xad47d0;_0x593fd0[_0xcef147(0x18e)]({'id':_0x27e788['id'],..._0x27e788[_0xcef147(0x124)]()});}),_0x593fd0[_0xad47d0(0xff)]((_0x4f1f92,_0x538041)=>(_0x538041[_0xad47d0(0x15b)]||0x3e8)-(_0x4f1f92[_0xad47d0(0x15b)]||0x3e8));const _0x70f92=writeBatch(db);_0x593fd0[_0xad47d0(0x12f)]((_0x295bfc,_0x203f6d)=>{const _0x52ee3c=_0xad47d0,_0x5e339a=_0x203f6d+0x1;if(_0x295bfc[_0x52ee3c(0x10b)]!==_0x5e339a){const _0x3d777c=doc(db,_0x52ee3c(0x17b),_0x295bfc['id']);_0x70f92[_0x52ee3c(0x181)](_0x3d777c,{'position':_0x5e339a});}}),await _0x70f92[_0xad47d0(0x14b)](),console[_0xad47d0(0x133)](_0xad47d0(0x12d));}catch(_0x1e9817){console[_0xad47d0(0x14f)](_0xad47d0(0x13a),_0x1e9817);}}function a1_0x3afd(_0x8043e8,_0x5aff3d){_0x8043e8=_0x8043e8-0xec;const _0x5abf74=a1_0x4e76();let _0x3c0205=_0x5abf74[_0x8043e8];return _0x3c0205;}export async function processApprovedFFAMatch(_0x103652){const _0x4e2216=a1_0x3afd,_0x47c2b4=_0x103652[_0x4e2216(0x117)]||[];if(_0x47c2b4[_0x4e2216(0x120)]<0x2)throw new Error(_0x4e2216(0x176));const _0x1879c4=new Map(),_0x5bf359=new Map();for(const _0x3e9938 of _0x47c2b4){try{const _0x4ec25f=query(collection(db,_0x4e2216(0x135)),where(_0x4e2216(0x116),'==',_0x3e9938[_0x4e2216(0x116)])),_0x394cdb=await getDocs(_0x4ec25f);if(!_0x394cdb[_0x4e2216(0x104)]){const _0x55c66=_0x394cdb[_0x4e2216(0x12b)][0x0],_0x3a3044=_0x55c66[_0x4e2216(0x124)]();_0x1879c4[_0x4e2216(0x144)](_0x3e9938[_0x4e2216(0x116)],_0x3a3044[_0x4e2216(0x184)]||0x4b0),_0x5bf359[_0x4e2216(0x144)](_0x3e9938[_0x4e2216(0x116)],{'ref':_0x55c66[_0x4e2216(0x132)],'data':_0x3a3044});}else _0x1879c4[_0x4e2216(0x144)](_0x3e9938[_0x4e2216(0x116)],0x4b0);}catch(_0x1b3284){console[_0x4e2216(0x14f)](_0x4e2216(0x15a)+_0x3e9938[_0x4e2216(0x116)]+':',_0x1b3284),_0x1879c4[_0x4e2216(0x144)](_0x3e9938[_0x4e2216(0x116)],0x4b0);}}const _0x51b296=calculateFFAElo(_0x47c2b4,_0x1879c4),_0xe046c1=_0x47c2b4[_0x4e2216(0xf6)](_0x8c9ff5=>{const _0x38d806=_0x4e2216,_0x5bfd74=_0x1879c4[_0x38d806(0x158)](_0x8c9ff5[_0x38d806(0x116)])||0x4b0,_0x343bd8=_0x51b296[_0x38d806(0x158)](_0x8c9ff5[_0x38d806(0x116)])||_0x5bfd74,_0x5d3128=_0x343bd8-_0x5bfd74,_0x2cb90e=getFFAPointsForPlacement(_0x8c9ff5[_0x38d806(0x137)]);return{..._0x8c9ff5,'oldElo':_0x5bfd74,'newElo':_0x343bd8,'eloChange':_0x5d3128,'pointsEarned':_0x2cb90e};});for(const _0x22d315 of _0xe046c1){const _0x1cee72=_0x5bf359[_0x4e2216(0x158)](_0x22d315[_0x4e2216(0x116)]);if(_0x1cee72){const _0x5f2526=_0x1cee72[_0x4e2216(0x124)][_0x4e2216(0x17d)]||0x0,_0x19304b=_0x1cee72[_0x4e2216(0x124)][_0x4e2216(0x112)]||0x0,_0x382bcc=_0x1cee72[_0x4e2216(0x124)][_0x4e2216(0x152)]||0x0,_0x1f5325={'eloFFA':_0x22d315[_0x4e2216(0x189)],'points':_0x5f2526+_0x22d315[_0x4e2216(0x110)],'ffaMatches':_0x382bcc+0x1};_0x22d315[_0x4e2216(0x137)]===0x1&&(_0x1f5325[_0x4e2216(0x112)]=_0x19304b+0x1);try{await updateDoc(_0x1cee72[_0x4e2216(0x132)],_0x1f5325),console[_0x4e2216(0x133)](_0x4e2216(0x151)+_0x22d315[_0x4e2216(0x116)]+_0x4e2216(0xfe)+_0x22d315[_0x4e2216(0x110)]+_0x4e2216(0xf1)+_0x22d315[_0x4e2216(0x127)]+_0x4e2216(0x186)+_0x22d315[_0x4e2216(0x189)]);}catch(_0x50ea70){console[_0x4e2216(0x14f)](_0x4e2216(0xf0)+_0x22d315[_0x4e2216(0x116)]+':',_0x50ea70);}}}return{..._0x103652,'participants':_0xe046c1,'processed':!![],'processedAt':serverTimestamp()};}export function getFFAPointsForPlacement(_0x5a9de3){const _0x5f11c6=a1_0x3afd,_0xc82079=FFA_PLACEMENT_POINTS[_0x5a9de3];return _0xc82079!==undefined?_0xc82079:FFA_PLACEMENT_POINTS[_0x5f11c6(0x119)];}function a1_0x4e76(){const _0xf3efc7=['notifications','Only\x20the\x20winner\x20(1st\x20place)\x20can\x20submit\x20the\x20match\x20report','constructor','dataset','Error\x20updating\x20','\x20points,\x20ELO:\x20','Reporter\x20must\x20be\x20registered\x20in\x20the\x20FFA\x20ladder','TOP3_BONUS','Error\x20approving\x20FFA\x20report:','No\x20players\x20found\x20in\x20match\x20data','map','You\x20must\x20be\x20registered\x20in\x20the\x20FFA\x20ladder','trace','Unknown','getElementById','FFA\x20match\x20rejected:','You\x20must\x20be\x20registered\x20in\x20FFA\x20to\x20confirm\x20matches','Error\x20sending\x20FFA\x20notifications:',':\x20+','sort','ffa-match-notes','button[type=\x22submit\x22]','value','Error\x20confirming\x20FFA\x20report:','empty','FFA\x20matches\x20require\x20at\x20least\x203\x20participants','add','kills','matchNotes','WINNER_BONUS','mapPlayed','position','FFA\x20match\x20approved\x20successfully','ffa-participant-count','rejectedMatchesFFA','info','pointsEarned','trim','ffaWins','reporterId','gameVersion','.ffa-kills','username','participants','green','DEFAULT','You\x20cannot\x20confirm\x20your\x20own\x20match\x20report','reset','FFA\x20match\x20reported\x20successfully!\x20Awaiting\x20confirmation.','The\x20following\x20players\x20are\x20not\x20registered\x20in\x20FFA:\x20','Submitting\x20match\x20data:','join','length','bind','red','ffa-report-error','data','totalPlayers','{}.constructor(\x22return\x20this\x22)(\x20)','oldElo','Please\x20ensure\x20each\x20player\x20is\x20selected\x20only\x20once','confirmedBy','some','docs','Submitting...','FFA\x20ladder\x20positions\x20updated','color','forEach','innerHTML','approved','ref','log','Must\x20be\x20logged\x20in\x20to\x20confirm\x20match','userProfiles','rejected','placement','FFA\x20notifications\x20sent\x20to\x20participants','uid','Error\x20updating\x20FFA\x20positions:','reporterUsername','Selected\x20game\x20version:','odl_Id','You\x20must\x20be\x20a\x20participant\x20or\x20admin\x20to\x20reject\x20this\x20match','exception','FFA\x20match\x20report\x20submitted:','Match\x20must\x20have\x20a\x201st\x20place\x20finisher','prototype','pendingMatchesFFA','set','disabled','currentUser','return\x20(function()\x20','You\x20must\x20be\x20registered\x20in\x20the\x20FFA\x20ladder\x20to\x20reject\x20matches','ffa-participants-container','textContent','commit','.ffa-player-select','deaths','max','error','../admin-check.js','Updated\x20','ffaMatches','BOTTOM_HALF','message','input[name=\x22ffa-game-version\x22]:checked','target','\x0a\x0aMatch\x20will\x20be\x20approved\x20once\x201\x20other\x20participant\x20confirms.','get','You\x20must\x20be\x20logged\x20in\x20to\x20reject\x20a\x20match','Error\x20fetching\x20user\x20','eloRating','__proto__','findIndex','Error\x20submitting\x20FFA\x20report:','ffa_match_confirmation','.ffa-deaths','includes','console','filter','players','FFA\x20match\x20confirmed\x20and\x20approved','warn','preventDefault','.ffa-participant-row','Please\x20enter\x20the\x20map\x20played','pow','Match\x20report\x20not\x20found','Match\x20confirmed\x20and\x20approved!','querySelector','You\x20are\x20not\x20a\x20participant\x20in\x20this\x20match','Error\x20rejecting\x20FFA\x20report:','pending','apply','1st\x20place\x20winner\x20must\x20be\x20selected','FFA\x20match\x20submitted!\x0a\x0aReport\x20ID:\x20','FFA','You\x20must\x20be\x20logged\x20in\x20to\x20submit\x20a\x20report','FFA\x20match\x20requires\x20at\x20least\x202\x20participants','find','Report\x20Game','exists','submittedByUID','playersFFA','table','points','ceil','approvedMatchesFFA','querySelectorAll','update','BASE','ffa-demo-link','eloFFA','round','\x20â†’\x20','demoLink','has','newElo','ffa-map-played','toString','style','You\x20have\x20already\x20confirmed\x20this\x20match','push'];a1_0x4e76=function(){return _0xf3efc7;};return a1_0x4e76();}async function handleFFASubmit(_0x19150d){const _0x4c3dbd=a1_0x3afd;_0x19150d[_0x4c3dbd(0x167)]();const _0x5ada09=document[_0x4c3dbd(0xfa)](_0x4c3dbd(0x123)),_0xf25637=_0x19150d[_0x4c3dbd(0x156)][_0x4c3dbd(0x16d)](_0x4c3dbd(0x101));try{if(!validateFFAPlayerSelections())throw new Error(_0x4c3dbd(0x128));const _0x5af27d=document[_0x4c3dbd(0x16d)](_0x4c3dbd(0x155))?.[_0x4c3dbd(0x102)]||'D1';console[_0x4c3dbd(0x133)](_0x4c3dbd(0x13c),_0x5af27d);const _0x4ce85b=document[_0x4c3dbd(0xfa)](_0x4c3dbd(0x18a))?.[_0x4c3dbd(0x102)][_0x4c3dbd(0x111)](),_0x49f7fd=document[_0x4c3dbd(0xfa)](_0x4c3dbd(0x100))?.[_0x4c3dbd(0x102)][_0x4c3dbd(0x111)]()||'',_0x316d7e=document[_0x4c3dbd(0xfa)](_0x4c3dbd(0x183))?.[_0x4c3dbd(0x102)][_0x4c3dbd(0x111)]()||'';if(!_0x4ce85b)throw new Error(_0x4c3dbd(0x169));const _0x54bc57=document[_0x4c3dbd(0x180)](_0x4c3dbd(0x168)),_0x2d30e4=[];_0x54bc57[_0x4c3dbd(0x12f)](_0x3bd7aa=>{const _0x4eb9b0=_0x4c3dbd,_0x2ad360=parseInt(_0x3bd7aa[_0x4eb9b0(0xef)][_0x4eb9b0(0x137)]),_0x42b8c4=_0x3bd7aa[_0x4eb9b0(0x16d)](_0x4eb9b0(0x14c))?.[_0x4eb9b0(0x102)],_0x32badb=parseInt(_0x3bd7aa[_0x4eb9b0(0x16d)](_0x4eb9b0(0x115))?.[_0x4eb9b0(0x102)])||0x0,_0x38c08e=parseInt(_0x3bd7aa[_0x4eb9b0(0x16d)](_0x4eb9b0(0x160))?.[_0x4eb9b0(0x102)])||0x0;_0x42b8c4&&_0x2d30e4[_0x4eb9b0(0x18e)]({'placement':_0x2ad360,'username':_0x42b8c4,'kills':_0x32badb,'deaths':_0x38c08e});});if(_0x2d30e4[_0x4c3dbd(0x120)]<0x3)throw new Error(_0x4c3dbd(0x105));const _0x5676c2=_0x2d30e4[_0x4c3dbd(0x177)](_0x41d497=>_0x41d497[_0x4c3dbd(0x137)]===0x1);if(!_0x5676c2)throw new Error(_0x4c3dbd(0x172));const _0x13cdfa=auth[_0x4c3dbd(0x146)],_0x50967a=await getDoc(doc(db,_0x4c3dbd(0x17b),_0x13cdfa[_0x4c3dbd(0x139)]));if(!_0x50967a[_0x4c3dbd(0x179)]())throw new Error(_0x4c3dbd(0xf7));const _0x4c63f0=_0x50967a[_0x4c3dbd(0x124)]()[_0x4c3dbd(0x116)];if(_0x5676c2[_0x4c3dbd(0x116)]!==_0x4c63f0)throw new Error(_0x4c3dbd(0xed));const _0x15cdbc=_0xf25637[_0x4c3dbd(0x14a)];_0xf25637[_0x4c3dbd(0x14a)]=_0x4c3dbd(0x12c),_0xf25637[_0x4c3dbd(0x145)]=!![];const _0xc31b78={'participants':_0x2d30e4,'mapPlayed':_0x4ce85b,'matchNotes':_0x49f7fd,'demoLink':_0x316d7e,'gameVersion':_0x5af27d};console[_0x4c3dbd(0x133)](_0x4c3dbd(0x11e),_0xc31b78);const _0x44d1e5=await submitFFAReport(_0xc31b78);_0x5ada09&&(_0x5ada09[_0x4c3dbd(0x14a)]=_0x4c3dbd(0x11c),_0x5ada09[_0x4c3dbd(0x18c)][_0x4c3dbd(0x12e)]=_0x4c3dbd(0x118)),_0x19150d[_0x4c3dbd(0x156)][_0x4c3dbd(0x11b)](),document[_0x4c3dbd(0xfa)](_0x4c3dbd(0x149))[_0x4c3dbd(0x130)]='',document[_0x4c3dbd(0xfa)](_0x4c3dbd(0x10d))[_0x4c3dbd(0x102)]='',_0xf25637[_0x4c3dbd(0x14a)]=_0x15cdbc,_0xf25637[_0x4c3dbd(0x145)]=![],alert(_0x4c3dbd(0x173)+_0x44d1e5+_0x4c3dbd(0x157)),updatePendingMatchNotification();}catch(_0x58fd32){console[_0x4c3dbd(0x14f)](_0x4c3dbd(0x15e),_0x58fd32),_0x5ada09&&(_0x5ada09[_0x4c3dbd(0x14a)]=_0x58fd32[_0x4c3dbd(0x154)],_0x5ada09[_0x4c3dbd(0x18c)][_0x4c3dbd(0x12e)]=_0x4c3dbd(0x122)),_0xf25637&&(_0xf25637[_0x4c3dbd(0x14a)]=_0x4c3dbd(0x178),_0xf25637[_0x4c3dbd(0x145)]=![]);}}