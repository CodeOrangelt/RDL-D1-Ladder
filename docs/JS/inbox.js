function a0_0x41e9(_0x1b0397,_0x31fda1){const _0x4d026b=a0_0x468a();return a0_0x41e9=function(_0x1a0efa,_0x4be50a){_0x1a0efa=_0x1a0efa-0x18e;let _0x2c7e96=_0x4d026b[_0x1a0efa];return _0x2c7e96;},a0_0x41e9(_0x1b0397,_0x31fda1);}const a0_0x4561cd=a0_0x41e9;function a0_0x468a(){const _0x48871f=['73516HdwjrS','When\x20other\x20players\x20invite\x20you\x20to\x20games,\x20they\x27ll\x20appear\x20here.','invitations','style','currentFilter','setupEventListeners','console','active','createdAt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Send\x20Message\x20to\x20','pageSize','getElementById','trim','30jeTYlF','teamData','640218KgmMPk','desc','invitationId','Error\x20creating\x20team:','13305464OiKOcL','updateNotificationCount','innerHTML','7mlsKyF','unsubscribe','DOMContentLoaded','accepted','message','team_invite','\x20invitations</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','inline-block','length','createTeamFromInvitation','disabled','pending','map','sent','remove','classList','8092722UEUfPj','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22color:\x20#888;\x20font-size:\x200.9em;\x20margin:\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Duos\x20Ladder\x20Team\x20â€¢\x20Color:\x20','textContent','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22response-message\x22\x20placeholder=\x22Type\x20your\x20message\x20here...\x22\x20rows=\x224\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20respond-btn\x22\x20id=\x22send-response\x22>Send\x20Message</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x22\x20id=\x22cancel-response\x22>Cancel</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','prototype','docs','sentInvitations','click','getTimeAgo','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','forEach','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','display','13390920hsBSjl','h\x20ago','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-styles','2127776CXIBTF','toUserId','addEventListener','floor','type','241855yPGSdQ','status','outbox','__proto__','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20Accept\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20decline-btn\x22\x20data-action=\x22decline\x22\x20data-invitation-id=\x22','#send-response','filter','error','138lzrdEN','10ZTuRjv','updateInvitationStatus','toDate','.modal-close','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-time\x22>','renderInvitations','response-message','proposedTeamName'];a0_0x468a=function(){return _0x48871f;};return a0_0x468a();}(function(_0x1b50ca,_0x5ed2f8){const _0x2ee6f8=a0_0x41e9,_0x571a69=_0x1b50ca();while(!![]){try{const _0x456754=-parseInt(_0x2ee6f8(0x1c1))/0x1+parseInt(_0x2ee6f8(0x19c))/0x2+parseInt(_0x2ee6f8(0x1a9))/0x3*(parseInt(_0x2ee6f8(0x1b2))/0x4)+-parseInt(_0x2ee6f8(0x1a1))/0x5*(-parseInt(_0x2ee6f8(0x1bf))/0x6)+parseInt(_0x2ee6f8(0x1c8))/0x7*(parseInt(_0x2ee6f8(0x1c5))/0x8)+-parseInt(_0x2ee6f8(0x198))/0x9*(parseInt(_0x2ee6f8(0x1aa))/0xa)+-parseInt(_0x2ee6f8(0x1d8))/0xb;if(_0x456754===_0x5ed2f8)break;else _0x571a69['push'](_0x571a69['shift']());}catch(_0xea1c4a){_0x571a69['push'](_0x571a69['shift']());}}}(a0_0x468a,0xe8120));const a0_0x4be50a=(function(){let _0x5c6999=!![];return function(_0x4f27e6,_0x199f7f){const _0x365819=_0x5c6999?function(){if(_0x199f7f){const _0x5f3c7f=_0x199f7f['apply'](_0x4f27e6,arguments);return _0x199f7f=null,_0x5f3c7f;}}:function(){};return _0x5c6999=![],_0x365819;};}()),a0_0x1a0efa=a0_0x4be50a(this,function(){const _0x451cf4=a0_0x41e9;let _0x32ae19;try{const _0x46b4cc=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x32ae19=_0x46b4cc();}catch(_0xf806d7){_0x32ae19=window;}const _0x13ce67=_0x32ae19[_0x451cf4(0x1b8)]=_0x32ae19[_0x451cf4(0x1b8)]||{},_0x66aec7=['log','warn','info',_0x451cf4(0x1a8),'exception','table','trace'];for(let _0x5f4ced=0x0;_0x5f4ced<_0x66aec7[_0x451cf4(0x1d0)];_0x5f4ced++){const _0x4fae43=a0_0x4be50a['constructor'][_0x451cf4(0x18f)]['bind'](a0_0x4be50a),_0x13a193=_0x66aec7[_0x5f4ced],_0xb95946=_0x13ce67[_0x13a193]||_0x4fae43;_0x4fae43[_0x451cf4(0x1a4)]=a0_0x4be50a['bind'](a0_0x4be50a),_0x4fae43['toString']=_0xb95946['toString']['bind'](_0xb95946),_0x13ce67[_0x13a193]=_0x4fae43;}});a0_0x1a0efa();import{auth,db}from'./firebase-config.js';import{collection,query,where,orderBy,getDocs,doc,updateDoc,onSnapshot,limit,startAfter}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';class InboxManager{constructor(){const _0x4aa3e7=a0_0x41e9;this[_0x4aa3e7(0x1b6)]=_0x4aa3e7(0x1d3),this['invitations']=[],this[_0x4aa3e7(0x191)]=[],this['unsubscribe']=null,this['sentUnsubscribe']=null,this[_0x4aa3e7(0x1bc)]=0x14,this['lastDoc']=null,this['hasMore']=!![],this['init']();}async['init'](){auth['onAuthStateChanged'](_0x4a6d6f=>{const _0xb3f7ac=a0_0x41e9;_0x4a6d6f?(this['loadInvitations'](_0x4a6d6f['uid']),this[_0xb3f7ac(0x1b7)]()):window['location']['href']='./login.html';});}[a0_0x4561cd(0x1b7)](){const _0x1ecd29=a0_0x4561cd;document['querySelectorAll']('.filter-btn')[_0x1ecd29(0x195)](_0x4d7a83=>{_0x4d7a83['addEventListener']('click',()=>{const _0x59b8d9=a0_0x41e9;document['querySelectorAll']('.filter-btn')[_0x59b8d9(0x195)](_0x36b880=>_0x36b880[_0x59b8d9(0x1d7)]['remove'](_0x59b8d9(0x1b9))),_0x4d7a83['classList']['add']('active'),this[_0x59b8d9(0x1b6)]=_0x4d7a83['dataset']['filter'],this['renderInvitations']();});});}['loadInvitations'](_0x45c698){const _0x3e322a=a0_0x4561cd,_0x5b7dfa=collection(db,'gameInvitations');let _0x5b649b=query(_0x5b7dfa,where(_0x3e322a(0x19d),'==',_0x45c698),orderBy('createdAt','desc'),limit(this['pageSize']));this[_0x3e322a(0x1c9)]=onSnapshot(_0x5b649b,_0x2190a5=>{const _0x43597=_0x3e322a;this[_0x43597(0x1b4)]=_0x2190a5[_0x43597(0x190)][_0x43597(0x1d4)](_0x45be97=>({'id':_0x45be97['id'],..._0x45be97['data']()})),this[_0x43597(0x1af)](),this[_0x43597(0x1c6)]();});let _0x87637a=query(_0x5b7dfa,where('fromUserId','==',_0x45c698),orderBy(_0x3e322a(0x1ba),_0x3e322a(0x1c2)),limit(this['pageSize']));this['sentUnsubscribe']=onSnapshot(_0x87637a,_0x4aff82=>{this['sentInvitations']=_0x4aff82['docs']['map'](_0x3cc099=>({'id':_0x3cc099['id'],..._0x3cc099['data'](),'isSent':!![]})),this['renderInvitations']();});}['renderInvitations'](){const _0x83308d=a0_0x4561cd,_0x178d1e=document['getElementById']('inbox-content');if(!_0x178d1e)return;let _0x48f113=[];if(this[_0x83308d(0x1b6)]===_0x83308d(0x1a3))_0x48f113=this[_0x83308d(0x191)];else this['currentFilter']==='all'?_0x48f113=[...this[_0x83308d(0x1b4)],...this['sentInvitations']]['sort']((_0x462e05,_0x2078e2)=>{const _0x11121f=_0x83308d,_0x3fa5d5=_0x462e05['createdAt']?.[_0x11121f(0x1ac)]?_0x462e05[_0x11121f(0x1ba)]['toDate']():new Date(_0x462e05['createdAt']),_0x1bf761=_0x2078e2['createdAt']?.['toDate']?_0x2078e2['createdAt'][_0x11121f(0x1ac)]():new Date(_0x2078e2['createdAt']);return _0x1bf761-_0x3fa5d5;}):_0x48f113=this['invitations'][_0x83308d(0x1a7)](_0x2dba3f=>_0x2dba3f['status']===this['currentFilter']);if(_0x48f113[_0x83308d(0x1d0)]===0x0){const _0x58394e=this[_0x83308d(0x1b6)]==='outbox'?_0x83308d(0x1d5):this['currentFilter']==='all'?'':this[_0x83308d(0x1b6)];_0x178d1e[_0x83308d(0x1c7)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22empty-inbox\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-inbox\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>No\x20'+_0x58394e+_0x83308d(0x1ce)+(this[_0x83308d(0x1b6)]==='outbox'?'Invitations\x20you\x20send\x20to\x20other\x20players\x20will\x20appear\x20here.':_0x83308d(0x1b3))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';return;}_0x178d1e[_0x83308d(0x1c7)]=_0x48f113['map'](_0x582463=>this['createInvitationCard'](_0x582463))['join'](''),this['setupActionListeners']();}['createInvitationCard'](_0x33589b){const _0x509a1e=a0_0x4561cd,_0x1e255e=_0x33589b[_0x509a1e(0x1ba)]?.[_0x509a1e(0x1ac)]?_0x33589b[_0x509a1e(0x1ba)]['toDate']():new Date(_0x33589b['createdAt']),_0x3735bb=this[_0x509a1e(0x193)](_0x1e255e),_0x26845a=_0x33589b['isSent']||![];let _0x19dd47='';return _0x33589b[_0x509a1e(0x1a0)]===_0x509a1e(0x1cd)?_0x19dd47='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+_0x33589b['message']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22team-invite-preview\x22\x20style=\x22background:\x20#1a1a1a;\x20padding:\x201rem;\x20border-radius:\x204px;\x20margin:\x200.5rem\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20style=\x22color:\x20'+_0x33589b['teamData']['teamColor']+';\x20margin:\x200\x200\x200.5rem\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x33589b['teamData'][_0x509a1e(0x1b1)]+_0x509a1e(0x1da)+_0x33589b['teamData']['teamColor']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x19dd47=_0x509a1e(0x1d9)+_0x33589b[_0x509a1e(0x1cc)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-card\x20'+_0x33589b['status']+'\x20'+(_0x26845a?'sent-invitation':'')+'\x22\x20data-invitation-id=\x22'+_0x33589b['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-from\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x26845a?'To:\x20'+_0x33589b['toUsername']:_0x33589b['fromUsername'])+_0x509a1e(0x196)+(_0x26845a?'<span\x20class=\x22sent-indicator\x22><i\x20class=\x22fas\x20fa-paper-plane\x22></i>\x20Sent</span>':'')+_0x509a1e(0x1ae)+_0x3735bb+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22status-badge\x20status-'+_0x33589b['status']+'\x22>'+_0x33589b[_0x509a1e(0x1a2)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x19dd47+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x26845a&&_0x33589b[_0x509a1e(0x1a2)]==='pending'?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20accept-btn\x22\x20data-action=\x22accept\x22\x20data-invitation-id=\x22'+_0x33589b['id']+_0x509a1e(0x1a5)+_0x33589b['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20Decline\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x33589b[_0x509a1e(0x1a0)]!=='team_invite'?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20respond-btn\x22\x20data-action=\x22respond\x22\x20data-invitation-id=\x22'+_0x33589b['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-reply\x22></i>\x20Send\x20Message\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+_0x509a1e(0x19a)+(_0x26845a&&_0x33589b['status']==='pending'?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20cancel-btn\x22\x20data-action=\x22cancel\x22\x20data-invitation-id=\x22'+_0x33589b['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20Cancel\x20Invitation\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}['setupActionListeners'](){document['querySelectorAll']('.action-btn')['forEach'](_0x3dd06a=>{_0x3dd06a['addEventListener']('click',async _0x374b7e=>{const _0x5a821e=a0_0x41e9,_0x1f8337=_0x3dd06a['dataset']['action'],_0x3e8bd5=_0x3dd06a['dataset'][_0x5a821e(0x1c3)];_0x3dd06a[_0x5a821e(0x1d2)]=!![];const _0x3e9fd5=_0x3dd06a[_0x5a821e(0x1c7)];_0x3dd06a['innerHTML']=_0x5a821e(0x194);try{switch(_0x1f8337){case'accept':await this['updateInvitationStatus'](_0x3e8bd5,_0x5a821e(0x1cb));break;case'decline':await this['updateInvitationStatus'](_0x3e8bd5,'declined');break;case'cancel':await this[_0x5a821e(0x1ab)](_0x3e8bd5,'cancelled');break;case'respond':this['openResponseModal'](_0x3e8bd5);break;}}catch(_0x330530){console['error']('Error\x20performing\x20'+_0x1f8337+':',_0x330530),alert('Failed\x20to\x20'+_0x1f8337+'\x20invitation.\x20Please\x20try\x20again.');}finally{_0x3dd06a['disabled']=![],_0x3dd06a[_0x5a821e(0x1c7)]=_0x3e9fd5;}});});}async['updateInvitationStatus'](_0x5236b1,_0x17c8e8){const _0xcf1c9d=a0_0x4561cd;try{const _0x26e81d=this['invitations']['find'](_0x450582=>_0x450582['id']===_0x5236b1);_0x26e81d&&_0x26e81d[_0xcf1c9d(0x1a0)]===_0xcf1c9d(0x1cd)&&_0x17c8e8==='accepted'&&await this['createTeamFromInvitation'](_0x26e81d);const _0x5e5534=doc(db,'gameInvitations',_0x5236b1);await updateDoc(_0x5e5534,{'status':_0x17c8e8,'respondedAt':new Date()}),_0x26e81d&&(_0x26e81d['status']=_0x17c8e8,_0x26e81d['respondedAt']=new Date(),this['renderInvitations']());}catch(_0x85c817){console[_0xcf1c9d(0x1a8)]('Error\x20updating\x20invitation\x20status:',_0x85c817);throw _0x85c817;}}['openResponseModal'](_0xfe577d){const _0x18f4a3=a0_0x4561cd,_0x459feb=this['invitations']['find'](_0x518c77=>_0x518c77['id']===_0xfe577d);if(!_0x459feb)return;const _0x46802a=document['createElement']('div');_0x46802a['className']='modal-overlay',_0x46802a[_0x18f4a3(0x1c7)]=_0x18f4a3(0x1bb)+_0x459feb['fromUsername']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22modal-close\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-body\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Regarding\x20invitation\x20to:\x20<strong>'+_0x459feb['value']+_0x18f4a3(0x18e);if(!document[_0x18f4a3(0x1bd)](_0x18f4a3(0x19b))){const _0x3c4b5f=document['createElement'](_0x18f4a3(0x1b5));_0x3c4b5f['id']=_0x18f4a3(0x19b),_0x3c4b5f[_0x18f4a3(0x1db)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-overlay\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20right:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.8);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-content\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#2a2a2a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2090%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20500px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-height:\x2090vh;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20overflow-y:\x20auto;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-header\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20space-between;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-close\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x201.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-body\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-body\x20textarea\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#1a1a1a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resize:\x20vertical;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-footer\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-top:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document['head']['appendChild'](_0x3c4b5f);}document['body']['appendChild'](_0x46802a),_0x46802a['querySelector'](_0x18f4a3(0x1ad))['addEventListener'](_0x18f4a3(0x192),()=>_0x46802a['remove']()),_0x46802a['querySelector']('#cancel-response')[_0x18f4a3(0x19e)]('click',()=>_0x46802a['remove']()),_0x46802a['addEventListener'](_0x18f4a3(0x192),_0x141ac6=>{const _0x1585d2=_0x18f4a3;if(_0x141ac6['target']===_0x46802a)_0x46802a[_0x1585d2(0x1d6)]();}),_0x46802a['querySelector'](_0x18f4a3(0x1a6))[_0x18f4a3(0x19e)]('click',()=>{const _0x34de2d=_0x18f4a3,_0x52f5ef=document['getElementById'](_0x34de2d(0x1b0))['value'][_0x34de2d(0x1be)]();_0x52f5ef&&(alert('Message\x20sent!\x20(Feature\x20will\x20be\x20fully\x20implemented\x20in\x20future\x20update)'),_0x46802a[_0x34de2d(0x1d6)]());});}async[a0_0x4561cd(0x1d1)](_0x23d37f){const _0xb67cc3=a0_0x4561cd;try{const {createTeam:_0x333ab2}=await import('./ladderduos.js'),_0x36142e=await _0x333ab2(_0x23d37f['fromUsername'],_0x23d37f['toUsername'],_0x23d37f[_0xb67cc3(0x1c0)]['proposedTeamName'],_0x23d37f['teamData']['teamColor']);if(!_0x36142e['success'])throw new Error(_0x36142e[_0xb67cc3(0x1a8)]);alert('Team\x20\x22'+_0x23d37f['teamData']['proposedTeamName']+'\x22\x20created\x20successfully!');}catch(_0x3054ed){console['error'](_0xb67cc3(0x1c4),_0x3054ed);throw new Error('Failed\x20to\x20create\x20team:\x20'+_0x3054ed['message']);}}['updateNotificationCount'](){const _0x1bc8df=a0_0x4561cd,_0x2d58c4=this[_0x1bc8df(0x1b4)]['filter'](_0x134395=>_0x134395['status']===_0x1bc8df(0x1d3))['length'],_0x2a6969=document['getElementById']('inbox-notification');_0x2a6969&&(_0x2d58c4>0x0?(_0x2a6969['style'][_0x1bc8df(0x197)]=_0x1bc8df(0x1cf),_0x2a6969['textContent']=_0x2d58c4>0x9?'9+':_0x2d58c4):_0x2a6969['style']['display']='none');}['getTimeAgo'](_0x20445e){const _0x1e358a=a0_0x4561cd,_0x42a1de=new Date(),_0x1b4421=_0x42a1de-_0x20445e,_0x55d256=Math['floor'](_0x1b4421/(0x3e8*0x3c)),_0x23cd09=Math['floor'](_0x1b4421/(0x3e8*0x3c*0x3c)),_0x24a187=Math[_0x1e358a(0x19f)](_0x1b4421/(0x3e8*0x3c*0x3c*0x18));if(_0x55d256<0x1)return'Just\x20now';if(_0x55d256<0x3c)return _0x55d256+'m\x20ago';if(_0x23cd09<0x18)return _0x23cd09+_0x1e358a(0x199);if(_0x24a187<0x7)return _0x24a187+'d\x20ago';return _0x20445e['toLocaleDateString']();}['destroy'](){const _0x25e12e=a0_0x4561cd;this[_0x25e12e(0x1c9)]&&this[_0x25e12e(0x1c9)](),this['sentUnsubscribe']&&this['sentUnsubscribe']();}}document['addEventListener'](a0_0x4561cd(0x1ca),()=>{new InboxManager();});