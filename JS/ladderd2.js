(function(_0xdb7208,_0x2611e4){const _0x33968f=a32_0x41ce,_0x1fb755=_0xdb7208();while(!![]){try{const _0x3dbfeb=parseInt(_0x33968f(0xf6))/0x1+parseInt(_0x33968f(0xd0))/0x2*(parseInt(_0x33968f(0x121))/0x3)+-parseInt(_0x33968f(0xd6))/0x4*(-parseInt(_0x33968f(0x115))/0x5)+-parseInt(_0x33968f(0x119))/0x6*(parseInt(_0x33968f(0x10d))/0x7)+parseInt(_0x33968f(0x133))/0x8*(parseInt(_0x33968f(0xc2))/0x9)+-parseInt(_0x33968f(0xc6))/0xa*(parseInt(_0x33968f(0xda))/0xb)+parseInt(_0x33968f(0xff))/0xc*(parseInt(_0x33968f(0x11a))/0xd);if(_0x3dbfeb===_0x2611e4)break;else _0x1fb755['push'](_0x1fb755['shift']());}catch(_0x4d2f13){_0x1fb755['push'](_0x1fb755['shift']());}}}(a32_0x2f56,0xac96e));const a32_0xf5ffec=(function(){let _0x191eec=!![];return function(_0x493e04,_0x2cb63a){const _0x468652=_0x191eec?function(){const _0x33fc80=a32_0x41ce;if(_0x2cb63a){const _0x45a1a1=_0x2cb63a[_0x33fc80(0xd2)](_0x493e04,arguments);return _0x2cb63a=null,_0x45a1a1;}}:function(){};return _0x191eec=![],_0x468652;};}()),a32_0x49c0ca=a32_0xf5ffec(this,function(){const _0x2029b2=a32_0x41ce;return a32_0x49c0ca[_0x2029b2(0xd9)]()[_0x2029b2(0x132)](_0x2029b2(0xe4))[_0x2029b2(0xd9)]()[_0x2029b2(0x12a)](a32_0x49c0ca)[_0x2029b2(0x132)](_0x2029b2(0xe4));});a32_0x49c0ca();const a32_0x304d64=(function(){let _0x4c1f36=!![];return function(_0x23819f,_0x551ee0){const _0x50b79e=_0x4c1f36?function(){const _0x4a0364=a32_0x41ce;if(_0x551ee0){const _0x580976=_0x551ee0[_0x4a0364(0xd2)](_0x23819f,arguments);return _0x551ee0=null,_0x580976;}}:function(){};return _0x4c1f36=![],_0x50b79e;};}()),a32_0x3fb68b=a32_0x304d64(this,function(){const _0x1c3e36=a32_0x41ce,_0x1f16e7=function(){const _0x158596=a32_0x41ce;let _0x42822c;try{_0x42822c=Function('return\x20(function()\x20'+_0x158596(0xe3)+');')();}catch(_0x39e45a){_0x42822c=window;}return _0x42822c;},_0x4d0db0=_0x1f16e7(),_0x905194=_0x4d0db0[_0x1c3e36(0x10b)]=_0x4d0db0['console']||{},_0x238ece=[_0x1c3e36(0xe2),_0x1c3e36(0xdb),_0x1c3e36(0x10c),_0x1c3e36(0xde),_0x1c3e36(0xe0),_0x1c3e36(0x139),_0x1c3e36(0x117)];for(let _0x20478d=0x0;_0x20478d<_0x238ece['length'];_0x20478d++){const _0x30e8d2=a32_0x304d64[_0x1c3e36(0x12a)][_0x1c3e36(0xee)]['bind'](a32_0x304d64),_0x463b87=_0x238ece[_0x20478d],_0x1d9fcf=_0x905194[_0x463b87]||_0x30e8d2;_0x30e8d2[_0x1c3e36(0xc4)]=a32_0x304d64[_0x1c3e36(0xce)](a32_0x304d64),_0x30e8d2[_0x1c3e36(0xd9)]=_0x1d9fcf['toString'][_0x1c3e36(0xce)](_0x1d9fcf),_0x905194[_0x463b87]=_0x30e8d2;}});a32_0x3fb68b();import{collection,getDocs,deleteDoc,doc,getDoc,query,where,updateDoc,Timestamp,onSnapshot,orderBy,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db}from'./firebase-config.js';import{getRankStyle}from'./ranks.js';import a32_0x134439 from'./firebase-idle-wrapper.js';function a32_0x2f56(){const _0x49058e=['querySelectorAll','includes','fontSize','D2:\x20','ceil','console','info','7uVLlMN','set','userProfiles','position','message','eloRating','elo','display','7060msDGQy','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22color:\x20','trace','playersD2','4091694CMeYUM','13pNstnL','&ladder=d2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22color:\x20','previousElo','bold','totalKills','<img\x20src=\x22../images/flags/','approvedMatchesD2','3DtHoiF','0.85em','has','winnerUsername','Error\x20updating\x20D2\x20ELO\x20trend\x20indicators:','style',';\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22elo-container\x22\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22elo-value\x22>','#CD7F32','getDocuments','constructor','abs','eloHistoryD2','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x228\x22\x20style=\x22text-align:\x20center;\x20color:\x20red;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20D2\x20ladder\x20data:\x20','td:nth-child(3)','toDate','winRate','#4CAF50','search','8MBjbpY','change','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.trend-indicator','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22profile.html?username=','#FFD700','table','Could\x20not\x20find\x20winner\x20or\x20loser\x20in\x20D2\x20players\x20list','Bronze','sort','3642228HoGkxI','then','__proto__','seconds','90qdjdyk','winnerScore','size','asc','D2:\x20Error\x20fetching\x20ELO\x20history:','Error\x20loading\x20D2\x20ladder:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Rank</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Username</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>ELO</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Matches</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Wins</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Losses</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>K/D</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Win\x20Rate</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','#50C878','bind','length','469154hfqJEU','username','apply','D2\x20Ladder\x20table\x20body\x20not\x20found','wins','timestamp','1732Melaqk','firstPlaceDate','MAX_SAFE_INTEGER','toString','343783NbhnAL','warn','data','player','error','innerHTML','exception','totalDeaths','log','{}.constructor(\x22return\x20this\x22)(\x20)','(((.+)+)+)+$','\x0a\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','totalMatches','forEach','fontWeight','querySelector','losses','country','\x20fallback\x20ELO\x20change:\x20','map','prototype','desc',';\x20text-decoration:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','%</td>\x0a\x20\x20\x20\x20</tr>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','matchId','get','Emerald','173895LRcyHJ','toLowerCase','kda','gray','newElo','toFixed','now','Error\x20fetching\x20batch\x20D2\x20match\x20stats:','playerUsername','2947104DHicLn','Gold','eloHistory','find','loserScore','visibility','inline'];a32_0x2f56=function(){return _0x49058e;};return a32_0x2f56();}const playerCacheD2={'data':null,'timestamp':0x0},CACHE_DURATION=0x7530;async function displayLadderD2(_0x461cc1=![]){const _0x38c748=a32_0x41ce,_0x4aaae9=document[_0x38c748(0xe9)]('#ladder-d2\x20tbody');if(!_0x4aaae9){console[_0x38c748(0xde)](_0x38c748(0xd3));return;}_0x4aaae9['innerHTML']='<tr><td\x20colspan=\x228\x22\x20class=\x22loading-cell\x22>Loading\x20D2\x20ladder\x20data...</td></tr>';try{const _0x56104e=Date[_0x38c748(0xfc)]();if(!_0x461cc1&&playerCacheD2[_0x38c748(0xdc)]&&_0x56104e-playerCacheD2[_0x38c748(0xd5)]<CACHE_DURATION){updateLadderDisplayD2(playerCacheD2['data']);return;}const _0x42401e=collection(db,_0x38c748(0x118)),_0x198401=query(_0x42401e,orderBy(_0x38c748(0x110),_0x38c748(0xc9))),_0x12c3e0=await a32_0x134439[_0x38c748(0x129)](_0x42401e),_0x7d208c=[];_0x12c3e0[_0x38c748(0xe7)](_0x47225a=>{const _0x3db89e=_0x38c748,_0x34681c=_0x47225a[_0x3db89e(0xdc)]();_0x34681c[_0x3db89e(0xd1)]&&_0x7d208c['push']({..._0x34681c,'id':_0x47225a['id'],'elo':_0x34681c[_0x3db89e(0x112)]||0x0,'position':_0x34681c[_0x3db89e(0x110)]||Number[_0x3db89e(0xd8)]});});const _0x5cbff5=collection(db,_0x38c748(0x10f)),_0x4a1d24=await getDocs(_0x5cbff5),_0x2ced0d=new Map();_0x4a1d24[_0x38c748(0xe7)](_0x5e6b50=>{const _0x51fd13=_0x38c748,_0x4263c5=_0x5e6b50[_0x51fd13(0xdc)]();_0x4263c5[_0x51fd13(0xd1)]&&_0x2ced0d[_0x51fd13(0x10e)](_0x4263c5[_0x51fd13(0xd1)][_0x51fd13(0xf7)](),_0x4263c5);});for(const _0x4919e4 of _0x7d208c){const _0x1a1986=_0x4919e4['username'][_0x38c748(0xf7)]();if(_0x2ced0d['has'](_0x1a1986)){const _0xfcc1f0=_0x2ced0d[_0x38c748(0xf4)](_0x1a1986);_0xfcc1f0[_0x38c748(0xeb)]&&(_0x4919e4['country']=_0xfcc1f0['country'][_0x38c748(0xf7)]());}}const _0xd8686e=_0x7d208c[_0x38c748(0xed)](_0x3fff60=>_0x3fff60[_0x38c748(0xd1)]),_0x224503=await fetchBatchMatchStatsD2(_0xd8686e);_0x7d208c['sort']((_0x11e7cd,_0x51a98f)=>{const _0x365f33=_0x38c748,_0x1d64d6=_0x224503[_0x365f33(0xf4)](_0x11e7cd['username'])?.[_0x365f33(0xe6)]||0x0,_0x1dc517=_0x224503[_0x365f33(0xf4)](_0x51a98f[_0x365f33(0xd1)])?.[_0x365f33(0xe6)]||0x0;if(_0x1d64d6===0x0!==(_0x1dc517===0x0))return _0x1d64d6===0x0?0x1:-0x1;return(_0x11e7cd[_0x365f33(0x110)]||0x3e7)-(_0x51a98f[_0x365f33(0x110)]||0x3e7);}),_0x7d208c['forEach']((_0x132c1b,_0x39ccae)=>{const _0x341394=_0x38c748;_0x132c1b[_0x341394(0x110)]=_0x39ccae+0x1;}),playerCacheD2[_0x38c748(0xdc)]=_0x7d208c,playerCacheD2['timestamp']=_0x56104e,updateLadderDisplayD2(_0x7d208c);}catch(_0x4554e6){console[_0x38c748(0xde)](_0x38c748(0xcb),_0x4554e6),_0x4aaae9[_0x38c748(0xdf)]=_0x38c748(0x12d)+_0x4554e6[_0x38c748(0x111)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}function getNextAvailablePositionD2(_0x1c30e4){const _0x2fcc6d=a32_0x41ce;if(_0x1c30e4[_0x2fcc6d(0xcf)]===0x0)return 0x1;let _0x2f0128=0x0;return _0x1c30e4[_0x2fcc6d(0xe7)](_0x3bca05=>{const _0x55f423=_0x2fcc6d;_0x3bca05[_0x55f423(0x110)]&&typeof _0x3bca05[_0x55f423(0x110)]==='number'&&_0x3bca05[_0x55f423(0x110)]>_0x2f0128&&(_0x2f0128=_0x3bca05['position']);}),_0x2f0128+0x1;}function a32_0x41ce(_0x51be18,_0xeeb206){const _0x45919e=a32_0x2f56();return a32_0x41ce=function(_0x3fb68b,_0x304d64){_0x3fb68b=_0x3fb68b-0xbf;let _0x49ef7b=_0x45919e[_0x3fb68b];return _0x49ef7b;},a32_0x41ce(_0x51be18,_0xeeb206);}async function updatePlayerPositions(_0x5a7029,_0x5a3a32){const _0x235f68=a32_0x41ce;try{const _0x4cfccf=collection(db,_0x235f68(0x118)),_0x543084=await getDocs(_0x4cfccf),_0x58ce64=[];_0x543084[_0x235f68(0xe7)](_0x3d43bf=>{const _0x3b83a3=_0x235f68;_0x58ce64['push']({'id':_0x3d43bf['id'],..._0x3d43bf[_0x3b83a3(0xdc)]()});});const _0x1ed20b=_0x58ce64[_0x235f68(0x102)](_0x503260=>_0x503260[_0x235f68(0xd1)]===_0x5a7029),_0x45e1da=_0x58ce64[_0x235f68(0x102)](_0x7ba541=>_0x7ba541[_0x235f68(0xd1)]===_0x5a3a32);if(!_0x1ed20b||!_0x45e1da){console[_0x235f68(0xde)](_0x235f68(0xbf));return;}if(_0x1ed20b[_0x235f68(0x110)]>_0x45e1da[_0x235f68(0x110)]){const _0x42f949=_0x45e1da['position'];for(const _0x48fbb1 of _0x58ce64){_0x48fbb1[_0x235f68(0x110)]>=_0x45e1da[_0x235f68(0x110)]&&_0x48fbb1['position']<_0x1ed20b[_0x235f68(0x110)]&&_0x48fbb1[_0x235f68(0xd1)]!==_0x5a7029&&await updateDoc(doc(db,_0x235f68(0x118),_0x48fbb1['id']),{'position':_0x48fbb1[_0x235f68(0x110)]+0x1});}await updateDoc(doc(db,_0x235f68(0x118),_0x1ed20b['id']),{'position':_0x42f949});if(_0x42f949===0x1){const _0x178a9d=doc(db,_0x235f68(0x118),_0x1ed20b['id']),_0x598424=await getDoc(_0x178a9d);!_0x598424['data']()[_0x235f68(0xd7)]&&await updateDoc(_0x178a9d,{'firstPlaceDate':Timestamp['now']()});}if(_0x45e1da[_0x235f68(0x110)]===0x1){const _0x582d67=doc(db,_0x235f68(0x118),_0x45e1da['id']);await updateDoc(_0x582d67,{'firstPlaceDate':null});}playerCacheD2[_0x235f68(0xd5)]=0x0;}}catch(_0x243171){console[_0x235f68(0xde)]('Error\x20updating\x20D2\x20player\x20positions:',_0x243171);}}function calculateStreakDays(_0x27d1cc){const _0x4d43e4=a32_0x41ce;if(!_0x27d1cc)return 0x0;const _0x1a7327=_0x27d1cc[_0x4d43e4(0x12f)](),_0x536cbf=new Date(),_0x1801ad=Math[_0x4d43e4(0x12b)](_0x536cbf-_0x1a7327);return Math[_0x4d43e4(0x10a)](_0x1801ad/(0x3e8*0x3c*0x3c*0x18));}function getPlayerRankNameD2(_0x3dd0a7){const _0x3c83da=a32_0x41ce;if(_0x3dd0a7>=0x834)return _0x3c83da(0xf5);if(_0x3dd0a7>=0x708)return _0x3c83da(0x100);if(_0x3dd0a7>=0x640)return'Silver';if(_0x3dd0a7>=0x578)return _0x3c83da(0xc0);return'Unranked';}async function updateLadderDisplayD2(_0x81c4e4){const _0x38e2f8=a32_0x41ce;_0x81c4e4[_0x38e2f8(0xc1)]((_0x39899b,_0x4199f1)=>_0x39899b[_0x38e2f8(0x110)]-_0x4199f1[_0x38e2f8(0x110)]);const _0x348df0=document[_0x38e2f8(0xe9)]('#ladder-d2\x20tbody');if(!_0x348df0)return;_0x348df0['innerHTML']='';const _0x15be0a=_0x81c4e4[_0x38e2f8(0xed)](_0x1e0fa8=>_0x1e0fa8[_0x38e2f8(0xd1)]),_0x34cb21=await fetchBatchMatchStatsD2(_0x15be0a),_0x52dcb0=document[_0x38e2f8(0xe9)]('#ladder-d2\x20thead\x20tr');_0x52dcb0&&(_0x52dcb0[_0x38e2f8(0xdf)]=_0x38e2f8(0xcc));const _0x4c5ed4=_0x81c4e4[_0x38e2f8(0xed)](_0x73db53=>{const _0x4fcd80=_0x38e2f8,_0x4cd0f4=_0x34cb21[_0x4fcd80(0xf4)](_0x73db53['username'])||{'totalMatches':0x0,'wins':0x0,'losses':0x0,'kda':0x0,'winRate':0x0,'totalKills':0x0,'totalDeaths':0x0};return createPlayerRowD2(_0x73db53,_0x4cd0f4);})['join']('');_0x348df0[_0x38e2f8(0xdf)]=_0x4c5ed4,getPlayersLastEloChangesD2(_0x15be0a)[_0x38e2f8(0xc3)](_0x5e1587=>{const _0xffce1=_0x38e2f8,_0x3638d3=new Map();_0x348df0[_0xffce1(0x106)]('tr')[_0xffce1(0xe7)]((_0xafa088,_0x479dba)=>{const _0xea8e1d=_0xffce1;_0x479dba<_0x15be0a[_0xea8e1d(0xcf)]&&_0x3638d3[_0xea8e1d(0x10e)](_0x15be0a[_0x479dba],_0xafa088);}),_0x5e1587[_0xffce1(0xe7)]((_0x4b10ca,_0x388e3f)=>{const _0x4746ca=_0xffce1,_0x291654=_0x3638d3['get'](_0x388e3f);if(_0x291654&&_0x4b10ca!==0x0){const _0x26c4ca=_0x291654['querySelector'](_0x4746ca(0x12e));if(_0x26c4ca){const _0x1e9420=_0x4b10ca>0x0?'+'+_0x4b10ca:''+_0x4b10ca,_0x5156ed=_0x26c4ca[_0x4746ca(0xe9)](_0x4746ca(0x136));_0x5156ed&&(_0x5156ed['textContent']=_0x1e9420,_0x5156ed['style']['color']=_0x4b10ca>0x0?_0x4746ca(0x131):'#F44336',_0x5156ed['style'][_0x4746ca(0xe8)]=_0x4746ca(0x11d),_0x5156ed[_0x4746ca(0x126)][_0x4746ca(0x108)]=_0x4746ca(0x122),_0x5156ed[_0x4746ca(0x126)][_0x4746ca(0x114)]=_0x4746ca(0x105),_0x5156ed[_0x4746ca(0x126)][_0x4746ca(0x104)]='visible',_0x5156ed[_0x4746ca(0x126)]['opacity']='1');}}});})['catch'](_0x52657a=>console[_0x38e2f8(0xde)](_0x38e2f8(0x125),_0x52657a));}function createPlayerRowD2(_0x212ca4,_0x2b3833){const _0x4dd4ee=a32_0x41ce,_0x51c4e7=parseFloat(_0x212ca4[_0x4dd4ee(0x113)])||0x0;let _0x57109f=_0x4dd4ee(0xf9);if(_0x51c4e7>=0x7d0)_0x57109f=_0x4dd4ee(0xcd);else{if(_0x51c4e7>=0x708)_0x57109f=_0x4dd4ee(0x138);else{if(_0x51c4e7>=0x640)_0x57109f='#C0C0C0';else _0x51c4e7>=0x578&&(_0x57109f=_0x4dd4ee(0x128));}}let _0x251b94='';return _0x212ca4['country']&&(_0x251b94=_0x4dd4ee(0x11f)+_0x212ca4[_0x4dd4ee(0xeb)][_0x4dd4ee(0xf7)]()+'.png\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22'+_0x212ca4['country']+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22player-flag\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22margin-left:\x205px;\x20vertical-align:\x20middle;\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>'),_0x4dd4ee(0xe5)+_0x212ca4['position']+_0x4dd4ee(0x137)+encodeURIComponent(_0x212ca4[_0x4dd4ee(0xd1)])+_0x4dd4ee(0x11b)+_0x57109f+_0x4dd4ee(0xf0)+_0x212ca4[_0x4dd4ee(0xd1)]+_0x4dd4ee(0x135)+_0x251b94+_0x4dd4ee(0x116)+_0x57109f+_0x4dd4ee(0x127)+_0x51c4e7+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22trend-indicator\x22\x20style=\x22margin-left:\x205px;\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x2b3833[_0x4dd4ee(0xe6)]+_0x4dd4ee(0xf2)+_0x2b3833[_0x4dd4ee(0xd4)]+_0x4dd4ee(0xf2)+_0x2b3833[_0x4dd4ee(0xea)]+_0x4dd4ee(0xf2)+_0x2b3833[_0x4dd4ee(0xf8)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x2b3833[_0x4dd4ee(0x130)]+_0x4dd4ee(0xf1);}async function getPlayersLastEloChangesD2(_0x4d8a5d){const _0x4c7c72=a32_0x41ce,_0x586fcd=new Map();_0x4d8a5d['forEach'](_0x1743b1=>_0x586fcd[_0x4c7c72(0x10e)](_0x1743b1,0x0));try{const _0x6c953a=collection(db,_0x4c7c72(0x12c)),_0x43e7d8=query(_0x6c953a,orderBy(_0x4c7c72(0xd5),_0x4c7c72(0xef)),limit(0x64)),_0x29dbbb=await getDocs(_0x43e7d8),_0x56f562=new Map(),_0x395350=await getDocs(collection(db,_0x4c7c72(0x118)));_0x395350['forEach'](_0x308c6d=>{const _0x31b52b=_0x4c7c72,_0x29371a=_0x308c6d['data']();_0x29371a[_0x31b52b(0xd1)]&&_0x56f562[_0x31b52b(0x10e)](_0x308c6d['id'],_0x29371a['username']);});const _0xb8f9dc=new Map();_0x29dbbb[_0x4c7c72(0xe7)](_0x413094=>{const _0x5287c3=_0x4c7c72,_0x354ba5=_0x413094[_0x5287c3(0xdc)]();let _0x29bb3d=_0x354ba5[_0x5287c3(0xd1)]||_0x354ba5[_0x5287c3(0xfe)];!_0x29bb3d&&_0x354ba5[_0x5287c3(0xdd)]&&_0x56f562[_0x5287c3(0x123)](_0x354ba5[_0x5287c3(0xdd)])&&(_0x29bb3d=_0x56f562[_0x5287c3(0xf4)](_0x354ba5[_0x5287c3(0xdd)]));if(!_0x29bb3d&&_0x354ba5[_0x5287c3(0xf3)]){}_0x29bb3d&&_0x4d8a5d['includes'](_0x29bb3d)&&(!_0xb8f9dc[_0x5287c3(0x123)](_0x29bb3d)&&_0xb8f9dc['set'](_0x29bb3d,[]),_0xb8f9dc[_0x5287c3(0xf4)](_0x29bb3d)['push']({..._0x354ba5,'timestamp':_0x354ba5[_0x5287c3(0xd5)]?.[_0x5287c3(0xc5)]||0x0,'username':_0x29bb3d}));}),_0xb8f9dc['forEach']((_0x7788e6,_0x1ac044)=>{const _0x70918=_0x4c7c72;if(_0x7788e6['length']>0x0){_0x7788e6['sort']((_0x382a05,_0x113651)=>_0x113651['timestamp']-_0x382a05[_0x70918(0xd5)]);const _0x5c022d=_0x7788e6['find'](_0x5bac51=>_0x5bac51[_0x70918(0x134)]!==undefined||_0x5bac51['newElo']!==undefined&&_0x5bac51[_0x70918(0x11c)]!==undefined);if(_0x5c022d){let _0x31a022;if(_0x5c022d[_0x70918(0x134)]!==undefined)_0x31a022=_0x5c022d[_0x70918(0x134)];else _0x5c022d[_0x70918(0xfa)]!==undefined&&_0x5c022d[_0x70918(0x11c)]!==undefined&&(_0x31a022=_0x5c022d[_0x70918(0xfa)]-_0x5c022d[_0x70918(0x11c)]);_0x31a022!==undefined&&_0x586fcd[_0x70918(0x10e)](_0x1ac044,_0x31a022);}}});if(_0xb8f9dc[_0x4c7c72(0xc8)]===0x0){const _0x318400=collection(db,_0x4c7c72(0x101)),_0x298a59=query(_0x318400,where('gameMode','==','D2'),orderBy(_0x4c7c72(0xd5),'desc'),limit(0x32));try{const _0x3c7744=await getDocs(_0x298a59);console[_0x4c7c72(0xe2)]('D2:\x20Found',_0x3c7744['size'],'fallback\x20entries'),_0x3c7744['forEach'](_0xf60607=>{const _0x58f19f=_0x4c7c72,_0x510aba=_0xf60607[_0x58f19f(0xdc)](),_0x4a14d2=_0x510aba[_0x58f19f(0xd1)]||_0x510aba[_0x58f19f(0xfe)];if(_0x4a14d2&&_0x4d8a5d[_0x58f19f(0x107)](_0x4a14d2)){const _0x252bfe=_0x510aba[_0x58f19f(0x134)]||(_0x510aba[_0x58f19f(0xfa)]!==undefined&&_0x510aba[_0x58f19f(0x11c)]!==undefined?_0x510aba[_0x58f19f(0xfa)]-_0x510aba[_0x58f19f(0x11c)]:0x0);_0x252bfe!==0x0&&(_0x586fcd[_0x58f19f(0x10e)](_0x4a14d2,_0x252bfe),console['log'](_0x58f19f(0x109)+_0x4a14d2+_0x58f19f(0xec)+_0x252bfe));}});}catch(_0x2de257){}}}catch(_0x2c9bdb){console[_0x4c7c72(0xde)](_0x4c7c72(0xca),_0x2c9bdb);}return _0x586fcd;}async function fetchBatchMatchStatsD2(_0xd02987){const _0xfeb4dc=a32_0x41ce,_0x18adb7=new Map();try{_0xd02987['forEach'](_0x293c00=>{const _0xd7a0f4=a32_0x41ce;_0x18adb7[_0xd7a0f4(0x10e)](_0x293c00,{'totalMatches':0x0,'wins':0x0,'losses':0x0,'totalKills':0x0,'totalDeaths':0x0,'kda':0x0,'winRate':0x0});});const _0x34bf26=collection(db,_0xfeb4dc(0x120)),_0x387291=await getDocs(_0x34bf26);_0x387291[_0xfeb4dc(0xe7)](_0x135214=>{const _0x23a41c=_0xfeb4dc,_0xbb2096=_0x135214[_0x23a41c(0xdc)](),_0x5581f0=_0xbb2096[_0x23a41c(0x124)],_0x277585=_0xbb2096['loserUsername'];if(_0xd02987[_0x23a41c(0x107)](_0x5581f0)){const _0x2a2a4d=_0x18adb7[_0x23a41c(0xf4)](_0x5581f0);_0x2a2a4d[_0x23a41c(0xd4)]++,_0x2a2a4d[_0x23a41c(0xe6)]++,_0x2a2a4d[_0x23a41c(0x11e)]+=parseInt(_0xbb2096['winnerScore'])||0x0,_0x2a2a4d[_0x23a41c(0xe1)]+=parseInt(_0xbb2096[_0x23a41c(0x103)])||0x0;}if(_0xd02987[_0x23a41c(0x107)](_0x277585)){const _0x407468=_0x18adb7[_0x23a41c(0xf4)](_0x277585);_0x407468[_0x23a41c(0xea)]++,_0x407468['totalMatches']++,_0x407468[_0x23a41c(0x11e)]+=parseInt(_0xbb2096[_0x23a41c(0x103)])||0x0,_0x407468['totalDeaths']+=parseInt(_0xbb2096[_0x23a41c(0xc7)])||0x0;}}),_0xd02987[_0xfeb4dc(0xe7)](_0x3d4ddb=>{const _0x3a30f3=_0xfeb4dc,_0x3a1252=_0x18adb7[_0x3a30f3(0xf4)](_0x3d4ddb);_0x3a1252['kda']=_0x3a1252[_0x3a30f3(0xe1)]>0x0?(_0x3a1252[_0x3a30f3(0x11e)]/_0x3a1252[_0x3a30f3(0xe1)])[_0x3a30f3(0xfb)](0x2):_0x3a1252[_0x3a30f3(0x11e)][_0x3a30f3(0xfb)](0x2),_0x3a1252[_0x3a30f3(0x130)]=_0x3a1252[_0x3a30f3(0xe6)]>0x0?(_0x3a1252[_0x3a30f3(0xd4)]/_0x3a1252[_0x3a30f3(0xe6)]*0x64)[_0x3a30f3(0xfb)](0x1):0x0;});}catch(_0x4e1e0b){console[_0xfeb4dc(0xde)](_0xfeb4dc(0xfd),_0x4e1e0b);}return _0x18adb7;}export{displayLadderD2,updatePlayerPositions};