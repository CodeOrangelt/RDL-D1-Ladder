const a4_0x3e5318=a4_0x4074;(function(_0x36c154,_0x1b4aa3){const _0x4f7b1c=a4_0x4074,_0x22bf40=_0x36c154();while(!![]){try{const _0x3fe816=-parseInt(_0x4f7b1c(0x2e8))/0x1+parseInt(_0x4f7b1c(0x399))/0x2+-parseInt(_0x4f7b1c(0x50e))/0x3+-parseInt(_0x4f7b1c(0x46b))/0x4*(parseInt(_0x4f7b1c(0x586))/0x5)+-parseInt(_0x4f7b1c(0x3a6))/0x6+parseInt(_0x4f7b1c(0x1dd))/0x7+parseInt(_0x4f7b1c(0x401))/0x8;if(_0x3fe816===_0x1b4aa3)break;else _0x22bf40['push'](_0x22bf40['shift']());}catch(_0x57da01){_0x22bf40['push'](_0x22bf40['shift']());}}}(a4_0x48e2,0x97faa));const a4_0x1e72c1=(function(){let _0x3492a1=!![];return function(_0x71a890,_0xfd893a){const _0x51f054=_0x3492a1?function(){const _0x1f32f8=a4_0x4074;if(_0xfd893a){const _0x482814=_0xfd893a[_0x1f32f8(0x3f4)](_0x71a890,arguments);return _0xfd893a=null,_0x482814;}}:function(){};return _0x3492a1=![],_0x51f054;};}()),a4_0x4b4920=a4_0x1e72c1(this,function(){const _0x10d18f=a4_0x4074;return a4_0x4b4920['toString']()[_0x10d18f(0x3b3)](_0x10d18f(0x5e1))[_0x10d18f(0x5ea)]()[_0x10d18f(0x419)](a4_0x4b4920)[_0x10d18f(0x3b3)](_0x10d18f(0x5e1));});a4_0x4b4920();const a4_0x482ec3=(function(){let _0x578322=!![];return function(_0x5ae0df,_0x3f4ca0){const _0x39df4f=_0x578322?function(){const _0x31fb87=a4_0x4074;if(_0x3f4ca0){const _0x91b4f1=_0x3f4ca0[_0x31fb87(0x3f4)](_0x5ae0df,arguments);return _0x3f4ca0=null,_0x91b4f1;}}:function(){};return _0x578322=![],_0x39df4f;};}()),a4_0x34ba3e=a4_0x482ec3(this,function(){const _0x35992f=a4_0x4074;let _0x2e365d;try{const _0x2e70f5=Function(_0x35992f(0x2e2)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x2e365d=_0x2e70f5();}catch(_0x44423e){_0x2e365d=window;}const _0x4385e0=_0x2e365d[_0x35992f(0x46d)]=_0x2e365d['console']||{},_0x5c5788=[_0x35992f(0x5cd),'warn',_0x35992f(0x471),_0x35992f(0x4a3),_0x35992f(0x1d3),'table',_0x35992f(0x307)];for(let _0x330c70=0x0;_0x330c70<_0x5c5788[_0x35992f(0x541)];_0x330c70++){const _0x2c58be=a4_0x482ec3[_0x35992f(0x419)][_0x35992f(0x28e)][_0x35992f(0x4f2)](a4_0x482ec3),_0x5ec7b0=_0x5c5788[_0x330c70],_0x36b3a5=_0x4385e0[_0x5ec7b0]||_0x2c58be;_0x2c58be[_0x35992f(0x492)]=a4_0x482ec3[_0x35992f(0x4f2)](a4_0x482ec3),_0x2c58be[_0x35992f(0x5ea)]=_0x36b3a5[_0x35992f(0x5ea)][_0x35992f(0x4f2)](_0x36b3a5),_0x4385e0[_0x5ec7b0]=_0x2c58be;}});a4_0x34ba3e();import{collection,getDocs,query,orderBy,addDoc,deleteDoc,where,doc,getDoc,serverTimestamp,setDoc,updateDoc,writeBatch,limit,startAfter,endBefore,limitToLast,onSnapshot,deleteField,or,Timestamp}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{auth,db}from'./firebase-config.js';import{getRankStyle}from'./ranks.js';import{isAdmin}from'./admin-check.js';let matchesPagination={'d1':{'page':0x1,'lastVisible':null,'firstVisible':null},'d2':{'page':0x1,'lastVisible':null,'firstVisible':null},'d3':{'page':0x1,'lastVisible':null,'firstVisible':null}};function getContrastColor(_0x37cb73){const _0xffb843=a4_0x4074;if(!_0x37cb73)return'#ffffff';_0x37cb73=_0x37cb73[_0xffb843(0x334)]('#','');_0x37cb73['length']===0x3&&(_0x37cb73=_0x37cb73[_0xffb843(0x39a)]('')[_0xffb843(0x499)](_0x4376ec=>_0x4376ec+_0x4376ec)[_0xffb843(0x44a)](''));if(_0x37cb73[_0xffb843(0x541)]!==0x6)return _0xffb843(0x4b5);const _0xd63f3d=parseInt(_0x37cb73[_0xffb843(0x26f)](0x0,0x2),0x10),_0x589297=parseInt(_0x37cb73[_0xffb843(0x26f)](0x2,0x4),0x10),_0x1c565a=parseInt(_0x37cb73[_0xffb843(0x26f)](0x4,0x6),0x10),_0x2a0217=(_0xd63f3d*0x12b+_0x589297*0x24b+_0x1c565a*0x72)/0x3e8;return _0x2a0217>=0x80?_0xffb843(0x40a):_0xffb843(0x4b5);}const DEFAULT_TROPHY_IMAGE=a4_0x3e5318(0x5ce),charts={};let currentLadder='D1',eloHistoryPagination={'d1':{'page':0x1,'lastVisible':null,'firstVisible':null},'d2':{'page':0x1,'lastVisible':null,'firstVisible':null},'d3':{'page':0x1,'lastVisible':null,'firstVisible':null}};const PAGE_SIZE=0xf;document[a4_0x3e5318(0x3c5)](a4_0x3e5318(0x486),()=>{auth['onAuthStateChanged'](async _0x7a620c=>{const _0x218d71=a4_0x4074;if(!_0x7a620c){window[_0x218d71(0x4c1)][_0x218d71(0x518)]=_0x218d71(0x1eb);return;}try{await initializeAdminDashboard();}catch(_0x430708){console[_0x218d71(0x4a3)]('Error\x20initializing\x20dashboard:',_0x430708),showNotification(_0x218d71(0x321),'error');}});});async function getUserTabPermissions(_0xc11780){const _0x2df00f=a4_0x3e5318;if(!_0xc11780)return[_0x2df00f(0x400)];console['log'](_0x2df00f(0x59b)+_0xc11780+'\x20in\x20all\x20collections...');const _0x4a41f3=[{'name':_0x2df00f(0x295),'displayName':_0x2df00f(0x2b8)},{'name':'players','displayName':'D1\x20Players'},{'name':_0x2df00f(0x29c),'displayName':_0x2df00f(0x3f9)},{'name':'playersD3','displayName':_0x2df00f(0x39b)},{'name':_0x2df00f(0x365),'displayName':'Non-Participants'}],_0x5e87d1=auth['currentUser'];let _0x337886=null,_0x56c780=null;for(const _0x2ec3e8 of _0x4a41f3){try{if(_0x5e87d1){const _0x1376ab=doc(db,_0x2ec3e8['name'],_0x5e87d1[_0x2df00f(0x59f)]),_0x58f0c1=await getDoc(_0x1376ab);if(_0x58f0c1[_0x2df00f(0x3e9)]()){const _0xd138ec=_0x58f0c1[_0x2df00f(0x416)]();console['log'](_0x2df00f(0x5e9)+_0x2ec3e8['displayName']+'\x20by\x20UID:',_0xd138ec);const _0x42f8da=(_0xd138ec[_0x2df00f(0x4cb)]||_0xd138ec[_0x2df00f(0x21f)]||'')[_0x2df00f(0x41f)]();if(_0x42f8da&&_0x42f8da!==_0x2df00f(0x2fc)){_0x337886=_0x42f8da,_0x56c780=_0x2ec3e8[_0x2df00f(0x60a)],console[_0x2df00f(0x5cd)](_0x2df00f(0x350)+_0x337886+_0x2df00f(0x32d)+_0x56c780);break;}}}if(!_0x337886){const _0x24b7d9=collection(db,_0x2ec3e8[_0x2df00f(0x4bc)]),_0x126a74=query(_0x24b7d9,where(_0x2df00f(0x438),'==',_0xc11780)),_0x52d162=await getDocs(_0x126a74);if(!_0x52d162['empty']){const _0x58d56c=_0x52d162['docs'][0x0][_0x2df00f(0x416)]();console[_0x2df00f(0x5cd)](_0x2df00f(0x5e9)+_0x2ec3e8['displayName']+_0x2df00f(0x1d9)+_0xc11780+':',_0x58d56c);const _0x9030ee=(_0x58d56c['roleName']||_0x58d56c[_0x2df00f(0x21f)]||'')[_0x2df00f(0x41f)]();if(_0x9030ee&&_0x9030ee!=='none'){_0x337886=_0x9030ee,_0x56c780=_0x2ec3e8[_0x2df00f(0x60a)],console[_0x2df00f(0x5cd)](_0x2df00f(0x350)+_0x337886+_0x2df00f(0x32d)+_0x56c780);break;}}}}catch(_0x2df326){console[_0x2df00f(0x4a3)]('Error\x20checking\x20'+_0x2ec3e8[_0x2df00f(0x60a)]+':',_0x2df326);}}if(_0x337886){console[_0x2df00f(0x5cd)]('Setting\x20permissions\x20based\x20on\x20role:\x20'+_0x337886+_0x2df00f(0x48d)+_0x56c780+')');const _0x4f9aa4={'admin':[_0x2df00f(0x400),'manage-players','manage-matches',_0x2df00f(0x3bf),'manage-trophies',_0x2df00f(0x40c),_0x2df00f(0x4ac),_0x2df00f(0x33d),_0x2df00f(0x445),'elo-history','manage-highlights',_0x2df00f(0x282),_0x2df00f(0x4d6),_0x2df00f(0x2a8),_0x2df00f(0x5d0),_0x2df00f(0x3a8)],'owner':['dashboard',_0x2df00f(0x55f),_0x2df00f(0x4d6),_0x2df00f(0x3bf),'manage-trophies','manage-ranks','inactive-players','settings',_0x2df00f(0x445),_0x2df00f(0x545),_0x2df00f(0x548),_0x2df00f(0x282),'manage-matches','manage-points','manage-levels-ribbons','manage-ribbons'],'council':[_0x2df00f(0x400),_0x2df00f(0x55f),_0x2df00f(0x4d6)],'creative\x20lead':[_0x2df00f(0x400),_0x2df00f(0x3bf),_0x2df00f(0x445),'elo-history','manage-highlights']};if(_0x4f9aa4[_0x337886])return console[_0x2df00f(0x5cd)](_0x2df00f(0x567)+_0x337886+_0x2df00f(0x450),_0x4f9aa4[_0x337886]),_0x4f9aa4[_0x337886];}return console[_0x2df00f(0x5cd)](_0x2df00f(0x328)+_0xc11780+_0x2df00f(0x634)),['dashboard'];}function setupSidebarNavigation(_0x4b4296=[]){const _0x4d513f=a4_0x3e5318,_0x243b8c=document[_0x4d513f(0x534)](_0x4d513f(0x3a2)),_0x32d8db=document[_0x4d513f(0x534)](_0x4d513f(0x620));(!_0x4b4296||_0x4b4296[_0x4d513f(0x541)]===0x0)&&(_0x4b4296=[_0x4d513f(0x400)]);_0x243b8c['forEach'](_0x5a38d3=>{const _0x53d6dc=_0x4d513f,_0x467db4=_0x5a38d3[_0x53d6dc(0x20d)](_0x53d6dc(0x1e3));_0x4b4296[_0x53d6dc(0x364)](_0x467db4)?_0x5a38d3['style'][_0x53d6dc(0x535)]=_0x53d6dc(0x437):_0x5a38d3[_0x53d6dc(0x432)][_0x53d6dc(0x535)]=_0x53d6dc(0x2fc),_0x5a38d3[_0x53d6dc(0x3c5)](_0x53d6dc(0x434),()=>{const _0x53229f=_0x53d6dc,_0xc13849=_0x5a38d3[_0x53229f(0x20d)]('data-section');if(!_0x4b4296[_0x53229f(0x364)](_0xc13849)){showNotification(_0x53229f(0x2a4),_0x53229f(0x4a3));return;}_0x243b8c[_0x53229f(0x5ae)](_0x24af44=>_0x24af44[_0x53229f(0x556)]['remove'](_0x53229f(0x4f5))),_0x5a38d3['classList']['add'](_0x53229f(0x4f5)),_0x32d8db['forEach'](_0x46b13f=>{const _0x153bab=_0x53229f;_0x46b13f['style']['display']=_0x153bab(0x2fc);});const _0x3ff8c9=document[_0x53229f(0x3e8)](_0xc13849);_0x3ff8c9&&(_0x3ff8c9[_0x53229f(0x432)]['display']=_0x53229f(0x45f),console[_0x53229f(0x5cd)](_0x53229f(0x44e)+_0xc13849+_0x53229f(0x31e)));});});const _0x1841f7=document[_0x4d513f(0x3f7)]('.sidebar-nav\x20.nav-item[data-section=\x22'+_0x4b4296[0x0]+'\x22]');_0x1841f7&&_0x1841f7['click'](),console['log'](_0x4d513f(0x498));}function setupTabNavigation(){const _0x394fe3=a4_0x3e5318,_0x45a621=document[_0x394fe3(0x534)](_0x394fe3(0x417));let _0x2ab2a7=null,_0x18e158=new Set();_0x45a621[_0x394fe3(0x5ae)](_0x5adc13=>{const _0x1b6e6e=_0x394fe3;_0x5adc13[_0x1b6e6e(0x3c5)](_0x1b6e6e(0x434),function(){const _0x49ee02=_0x1b6e6e,_0x2a541d=this[_0x49ee02(0x20d)]('data-section');if(_0x2a541d===_0x2ab2a7)return;_0x2ab2a7&&(document['getElementById'](_0x2ab2a7)[_0x49ee02(0x432)][_0x49ee02(0x535)]=_0x49ee02(0x2fc),_0x45a621[_0x49ee02(0x5ae)](_0x171173=>_0x171173['classList'][_0x49ee02(0x49f)](_0x49ee02(0x4f5)))),document[_0x49ee02(0x3e8)](_0x2a541d)[_0x49ee02(0x432)][_0x49ee02(0x535)]=_0x49ee02(0x45f),this[_0x49ee02(0x556)]['add'](_0x49ee02(0x4f5)),_0x2ab2a7=_0x2a541d;});});}function loadSectionData(_0x1868cd){return;}async function initializeAdminDashboard(){const _0x17ab8c=a4_0x3e5318;try{const _0x24485c=auth['currentUser'],_0x10be78=await getUserTabPermissions(_0x24485c[_0x17ab8c(0x438)]);console['log']('User\x20'+_0x24485c[_0x17ab8c(0x438)]+_0x17ab8c(0x2d0),_0x10be78),window['userAllowedTabs']=_0x10be78,setupSidebarNavigation(_0x10be78),setupLadderSelector(),setupDashboardSection(),_0x10be78['includes'](_0x17ab8c(0x55f))&&setupManagePlayersSection(),_0x10be78[_0x17ab8c(0x364)]('elo-history')&&setupEloHistorySection(),_0x10be78[_0x17ab8c(0x364)](_0x17ab8c(0x40c))&&setupRankControls(),_0x10be78[_0x17ab8c(0x364)]('manage-articles')&&setupManageArticlesSection(),_0x10be78[_0x17ab8c(0x364)](_0x17ab8c(0x282))&&setupUserRolesSection(),_0x10be78['includes'](_0x17ab8c(0x445))&&setupTrophyManagementSection(),_0x10be78[_0x17ab8c(0x364)](_0x17ab8c(0x548))&&setupManageHighlightsSection(),_0x10be78[_0x17ab8c(0x364)]('inactive-players')&&setupInactivePlayersSection(),_0x10be78[_0x17ab8c(0x364)](_0x17ab8c(0x4d6))&&setupManageMatchesSection(),_0x10be78[_0x17ab8c(0x364)](_0x17ab8c(0x2a8))&&setupManagePointsSection(),_0x10be78[_0x17ab8c(0x364)](_0x17ab8c(0x3a8))&&setupManageRibbonsSection(),setupDataLoadButtons(_0x10be78);}catch(_0x2eb32e){console[_0x17ab8c(0x4a3)]('Error\x20initializing\x20admin\x20dashboard:',_0x2eb32e);}}function setupDataLoadButtons(_0x5c6d5b=[]){const _0x3ec8c6=a4_0x3e5318;(!_0x5c6d5b||_0x5c6d5b[_0x3ec8c6(0x541)]===0x0)&&(_0x5c6d5b=[_0x3ec8c6(0x400)]);const _0x478108=document['getElementById'](_0x3ec8c6(0x47c));_0x478108&&_0x478108['addEventListener'](_0x3ec8c6(0x434),function(){const _0x406dcb=_0x3ec8c6;this['classList'][_0x406dcb(0x616)](_0x406dcb(0x50f)),this[_0x406dcb(0x29f)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...',loadDashboardOverview()[_0x406dcb(0x46e)](()=>{const _0x4f43ca=_0x406dcb;this[_0x4f43ca(0x556)]['remove']('loading'),this[_0x4f43ca(0x29f)]=_0x4f43ca(0x48f);})[_0x406dcb(0x1d6)](_0x5c8d76=>{const _0x71f9fc=_0x406dcb;console['error'](_0x71f9fc(0x481),_0x5c8d76),this[_0x71f9fc(0x556)][_0x71f9fc(0x49f)](_0x71f9fc(0x50f)),this[_0x71f9fc(0x29f)]='<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error',setTimeout(()=>{const _0x2577d6=_0x71f9fc;this[_0x2577d6(0x29f)]=_0x2577d6(0x48f);},0xbb8);});});if(_0x5c6d5b[_0x3ec8c6(0x364)]('manage-trophies')){const _0x573b47=document[_0x3ec8c6(0x3e8)]('load-trophies-data');_0x573b47&&_0x573b47[_0x3ec8c6(0x3c5)](_0x3ec8c6(0x434),function(){const _0x124a04=_0x3ec8c6;console['log'](_0x124a04(0x610)),this['classList']['add'](_0x124a04(0x50f)),this[_0x124a04(0x29f)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...',loadTrophyDefinitions()[_0x124a04(0x46e)](()=>{const _0x464c9f=_0x124a04;this['classList'][_0x464c9f(0x49f)]('loading'),this[_0x464c9f(0x29f)]=_0x464c9f(0x25a);})[_0x124a04(0x1d6)](_0xe3e738=>{const _0x51340e=_0x124a04;console['error'](_0x51340e(0x51f),_0xe3e738),this['classList'][_0x51340e(0x49f)](_0x51340e(0x50f)),this[_0x51340e(0x29f)]='<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error',setTimeout(()=>{const _0x318368=_0x51340e;this[_0x318368(0x29f)]=_0x318368(0x25a);},0xbb8);});});}if(_0x5c6d5b['includes'](_0x3ec8c6(0x55f))){const _0x48a04c=document[_0x3ec8c6(0x3e8)](_0x3ec8c6(0x226));_0x48a04c&&_0x48a04c['addEventListener'](_0x3ec8c6(0x434),function(){const _0x5f9c82=_0x3ec8c6;console[_0x5f9c82(0x5cd)]('Load\x20players\x20data\x20clicked'),this[_0x5f9c82(0x556)]['add'](_0x5f9c82(0x50f)),this[_0x5f9c82(0x29f)]=_0x5f9c82(0x501),loadPlayersData()['then'](()=>{const _0x4fb65c=_0x5f9c82;this[_0x4fb65c(0x556)][_0x4fb65c(0x49f)]('loading'),this['innerHTML']=_0x4fb65c(0x38f);})[_0x5f9c82(0x1d6)](_0x38a3d2=>{const _0xd0dbc0=_0x5f9c82;console[_0xd0dbc0(0x4a3)](_0xd0dbc0(0x631),_0x38a3d2),this['classList'][_0xd0dbc0(0x49f)](_0xd0dbc0(0x50f)),this[_0xd0dbc0(0x29f)]=_0xd0dbc0(0x485),setTimeout(()=>{const _0x2af595=_0xd0dbc0;this['innerHTML']=_0x2af595(0x38f);},0xbb8);});});}if(_0x5c6d5b[_0x3ec8c6(0x364)]('elo-history')){const _0x1f23db=document[_0x3ec8c6(0x3e8)](_0x3ec8c6(0x405));_0x1f23db&&_0x1f23db[_0x3ec8c6(0x3c5)](_0x3ec8c6(0x434),function(){const _0x4c71af=_0x3ec8c6;console[_0x4c71af(0x5cd)]('Load\x20history\x20data\x20clicked'),this[_0x4c71af(0x556)][_0x4c71af(0x616)](_0x4c71af(0x50f)),this[_0x4c71af(0x29f)]=_0x4c71af(0x501),loadEloHistory(0x1)[_0x4c71af(0x46e)](()=>{const _0x3c1b2c=_0x4c71af;this[_0x3c1b2c(0x556)][_0x3c1b2c(0x49f)](_0x3c1b2c(0x50f)),this[_0x3c1b2c(0x29f)]='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20History\x20Data';})[_0x4c71af(0x1d6)](_0x10b7af=>{const _0x502b30=_0x4c71af;console[_0x502b30(0x4a3)]('Error\x20loading\x20history:',_0x10b7af),this[_0x502b30(0x556)]['remove'](_0x502b30(0x50f)),this['innerHTML']=_0x502b30(0x485),setTimeout(()=>{const _0x23a064=_0x502b30;this[_0x23a064(0x29f)]=_0x23a064(0x497);},0xbb8);});});}if(_0x5c6d5b[_0x3ec8c6(0x364)]('manage-articles')){const _0x2baf70=document[_0x3ec8c6(0x3e8)](_0x3ec8c6(0x2ad));_0x2baf70&&_0x2baf70[_0x3ec8c6(0x3c5)]('click',function(){const _0x48dd7d=_0x3ec8c6;console['log']('Load\x20articles\x20data\x20clicked'),this['classList'][_0x48dd7d(0x616)](_0x48dd7d(0x50f)),this['innerHTML']=_0x48dd7d(0x501),loadArticles()[_0x48dd7d(0x46e)](()=>{const _0x52585c=_0x48dd7d;this['classList'][_0x52585c(0x49f)](_0x52585c(0x50f)),this[_0x52585c(0x29f)]=_0x52585c(0x1da);})[_0x48dd7d(0x1d6)](_0x881d24=>{const _0x4d5096=_0x48dd7d;console[_0x4d5096(0x4a3)]('Error\x20loading\x20articles:',_0x881d24),this[_0x4d5096(0x556)][_0x4d5096(0x49f)](_0x4d5096(0x50f)),this[_0x4d5096(0x29f)]=_0x4d5096(0x485),setTimeout(()=>{const _0x12ae25=_0x4d5096;this[_0x12ae25(0x29f)]=_0x12ae25(0x1da);},0xbb8);});});}if(_0x5c6d5b[_0x3ec8c6(0x364)](_0x3ec8c6(0x282))){const _0x128c0d=document[_0x3ec8c6(0x3e8)]('load-users-data');_0x128c0d&&_0x128c0d['addEventListener'](_0x3ec8c6(0x434),function(){const _0x470a32=_0x3ec8c6;console[_0x470a32(0x5cd)](_0x470a32(0x595)),this['classList'][_0x470a32(0x616)](_0x470a32(0x50f)),this[_0x470a32(0x29f)]=_0x470a32(0x501),loadUsersWithRoles()[_0x470a32(0x46e)](()=>{const _0x21773b=_0x470a32;this[_0x21773b(0x556)][_0x21773b(0x49f)](_0x21773b(0x50f)),this[_0x21773b(0x29f)]='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Users\x20Data';})[_0x470a32(0x1d6)](_0xba6ca7=>{const _0x1da357=_0x470a32;console['error']('Error\x20loading\x20users:',_0xba6ca7),this[_0x1da357(0x556)][_0x1da357(0x49f)]('loading'),this['innerHTML']=_0x1da357(0x485),setTimeout(()=>{const _0x320422=_0x1da357;this[_0x320422(0x29f)]=_0x320422(0x3c7);},0xbb8);});});}if(_0x5c6d5b['includes'](_0x3ec8c6(0x4ac))){const _0x2697f5=document[_0x3ec8c6(0x3e8)](_0x3ec8c6(0x43b));_0x2697f5&&_0x2697f5['addEventListener']('click',function(){const _0x28e13c=_0x3ec8c6;console[_0x28e13c(0x5cd)](_0x28e13c(0x522)),this['classList']['add']('loading'),this[_0x28e13c(0x29f)]=_0x28e13c(0x501),loadInactivePlayersData()[_0x28e13c(0x46e)](()=>{const _0xe3fb4d=_0x28e13c;this[_0xe3fb4d(0x556)][_0xe3fb4d(0x49f)]('loading'),this[_0xe3fb4d(0x29f)]=_0xe3fb4d(0x5f9);})['catch'](_0x1cd1b1=>{const _0x57552a=_0x28e13c;console[_0x57552a(0x4a3)](_0x57552a(0x51e),_0x1cd1b1),this[_0x57552a(0x556)][_0x57552a(0x49f)](_0x57552a(0x50f)),this[_0x57552a(0x29f)]=_0x57552a(0x485),setTimeout(()=>{const _0x1fb793=_0x57552a;this[_0x1fb793(0x29f)]='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Inactive\x20Players';},0xbb8);});});}if(_0x5c6d5b[_0x3ec8c6(0x364)](_0x3ec8c6(0x548))){const _0x57e534=document[_0x3ec8c6(0x3e8)](_0x3ec8c6(0x3f0));_0x57e534&&_0x57e534[_0x3ec8c6(0x3c5)]('click',function(){const _0xc9b81=_0x3ec8c6;console[_0xc9b81(0x5cd)](_0xc9b81(0x505)),this[_0xc9b81(0x556)][_0xc9b81(0x616)](_0xc9b81(0x50f)),this[_0xc9b81(0x29f)]=_0xc9b81(0x501),loadHighlightsAdmin()[_0xc9b81(0x46e)](()=>{const _0x5ad2cf=_0xc9b81;this[_0x5ad2cf(0x556)][_0x5ad2cf(0x49f)]('loading'),this[_0x5ad2cf(0x29f)]='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Highlights';})['catch'](_0x1dfbce=>{const _0x43cb85=_0xc9b81;console[_0x43cb85(0x4a3)](_0x43cb85(0x4e1),_0x1dfbce),this[_0x43cb85(0x556)]['remove'](_0x43cb85(0x50f)),this[_0x43cb85(0x29f)]='<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error',setTimeout(()=>{const _0x336283=_0x43cb85;this[_0x336283(0x29f)]=_0x336283(0x605);},0xbb8);});});}if(_0x5c6d5b['includes']('manage-matches')){const _0x18817b=document[_0x3ec8c6(0x3e8)]('load-matches-data');_0x18817b&&_0x18817b['addEventListener']('click',function(){const _0x30716d=_0x3ec8c6;console[_0x30716d(0x5cd)](_0x30716d(0x239)),this[_0x30716d(0x556)][_0x30716d(0x616)](_0x30716d(0x50f)),this['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...',loadMatchesData(0x1)['then'](()=>{const _0x2605bd=_0x30716d;this['classList'][_0x2605bd(0x49f)](_0x2605bd(0x50f)),this[_0x2605bd(0x29f)]=_0x2605bd(0x4dd);})[_0x30716d(0x1d6)](_0x26fb18=>{const _0x1fe6e3=_0x30716d;console['error'](_0x1fe6e3(0x5df),_0x26fb18),this[_0x1fe6e3(0x556)][_0x1fe6e3(0x49f)]('loading'),this[_0x1fe6e3(0x29f)]='<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error',setTimeout(()=>{const _0x12ecbf=_0x1fe6e3;this['innerHTML']=_0x12ecbf(0x4dd);},0xbb8);});}),setupCreateTestMatchButton(),setupCreateTestMatchModal();}if(_0x5c6d5b[_0x3ec8c6(0x364)](_0x3ec8c6(0x3a8))){const _0x1f5689=document[_0x3ec8c6(0x3e8)](_0x3ec8c6(0x3ab));_0x1f5689&&_0x1f5689[_0x3ec8c6(0x3c5)](_0x3ec8c6(0x434),function(){const _0x5150d0=_0x3ec8c6;console[_0x5150d0(0x5cd)](_0x5150d0(0x482)),this[_0x5150d0(0x556)]['add']('loading'),this[_0x5150d0(0x29f)]=_0x5150d0(0x501),loadRibbonsData()['then'](()=>{const _0x5485be=_0x5150d0;this[_0x5485be(0x556)]['remove'](_0x5485be(0x50f)),this[_0x5485be(0x29f)]=_0x5485be(0x41d);})['catch'](_0x585e63=>{const _0x4041ba=_0x5150d0;console[_0x4041ba(0x4a3)]('Error\x20loading\x20ribbons:',_0x585e63),this[_0x4041ba(0x556)][_0x4041ba(0x49f)](_0x4041ba(0x50f)),this['innerHTML']=_0x4041ba(0x485),setTimeout(()=>{const _0x41e041=_0x4041ba;this[_0x41e041(0x29f)]=_0x41e041(0x41d);},0xbb8);});});}console[_0x3ec8c6(0x5cd)](_0x3ec8c6(0x424));}function setupDashboardSection(){const _0x37f15a=a4_0x3e5318;document[_0x37f15a(0x3e8)](_0x37f15a(0x47d))[_0x37f15a(0x24f)]='-',document[_0x37f15a(0x3e8)](_0x37f15a(0x4f7))[_0x37f15a(0x24f)]='-',document[_0x37f15a(0x3e8)]('pending-count')['textContent']='-',document[_0x37f15a(0x3e8)](_0x37f15a(0x423))[_0x37f15a(0x24f)]='-';}function setupLadderSelector(){const _0x122a20=a4_0x3e5318,_0x2f8764=document['querySelectorAll'](_0x122a20(0x46c));_0x2f8764[_0x122a20(0x5ae)](_0x5e739b=>{const _0x4ed77a=_0x122a20;_0x5e739b[_0x4ed77a(0x3c5)](_0x4ed77a(0x5a1),()=>{const _0x374032=_0x4ed77a;currentLadder=_0x5e739b[_0x374032(0x475)],document['body'][_0x374032(0x410)](_0x374032(0x412),currentLadder);const _0x541c6a=document['getElementById'](_0x374032(0x435));_0x541c6a&&(_0x541c6a[_0x374032(0x24f)]=currentLadder),document[_0x374032(0x3e8)](_0x374032(0x47d))[_0x374032(0x24f)]='-',document[_0x374032(0x3e8)](_0x374032(0x4f7))[_0x374032(0x24f)]='-',document[_0x374032(0x3e8)]('pending-count')[_0x374032(0x24f)]='-',document[_0x374032(0x3e8)](_0x374032(0x423))[_0x374032(0x24f)]='-',charts[_0x374032(0x2b3)]&&(charts[_0x374032(0x2b3)]['destroy'](),charts['rankDistribution']=null),charts[_0x374032(0x216)]&&(charts[_0x374032(0x216)]['destroy'](),charts[_0x374032(0x216)]=null),showNotification(_0x374032(0x44e)+currentLadder+'\x20ladder.\x20Click\x20\x22Load\x20Data\x22\x20to\x20refresh.',_0x374032(0x471));});});const _0x6760db=document[_0x122a20(0x3e8)](_0x122a20(0x435));_0x6760db&&(_0x6760db[_0x122a20(0x24f)]=currentLadder);}async function loadDashboardOverview(){const _0x519a1b=a4_0x3e5318;try{console['log'](_0x519a1b(0x625)),document[_0x519a1b(0x3e8)]('player-count')[_0x519a1b(0x24f)]='-',document[_0x519a1b(0x3e8)](_0x519a1b(0x4f7))[_0x519a1b(0x24f)]='-',document['getElementById']('pending-count')[_0x519a1b(0x24f)]='-',document['getElementById'](_0x519a1b(0x423))[_0x519a1b(0x24f)]='-';const _0x2b6450=currentLadder==='D1'?_0x519a1b(0x27c):currentLadder==='D2'?_0x519a1b(0x29c):_0x519a1b(0x510),_0x44d3d9=currentLadder==='D1'?'approvedMatches':currentLadder==='D2'?'approvedMatchesD2':_0x519a1b(0x639),_0x58d2df=currentLadder==='D1'?'pendingMatches':currentLadder==='D2'?'pendingMatchesD2':_0x519a1b(0x451),_0x39b133=currentLadder==='D1'?'RejectedD1':currentLadder==='D2'?_0x519a1b(0x38b):'RejectedD3';console[_0x519a1b(0x5cd)](_0x519a1b(0x3ed)+currentLadder+':\x20'+_0x2b6450+',\x20'+_0x44d3d9);const _0x5daacd=await getDocs(collection(db,_0x2b6450)),_0x2eaa16=_0x5daacd['size'],_0x35c87a=await getDocs(collection(db,_0x44d3d9)),_0x3f1398=_0x35c87a[_0x519a1b(0x237)],_0xc60fe7=await getDocs(collection(db,_0x58d2df)),_0x3a9238=_0xc60fe7[_0x519a1b(0x237)],_0x402929=await getDocs(collection(db,_0x39b133)),_0x2f58a7=_0x402929[_0x519a1b(0x237)];return document['getElementById']('player-count')[_0x519a1b(0x24f)]=_0x2eaa16,document[_0x519a1b(0x3e8)](_0x519a1b(0x4f7))['textContent']=_0x3f1398,document[_0x519a1b(0x3e8)](_0x519a1b(0x1d2))[_0x519a1b(0x24f)]=_0x3a9238,document[_0x519a1b(0x3e8)](_0x519a1b(0x423))[_0x519a1b(0x24f)]=_0x2f58a7,await createRankDistributionChart(),await createActivityChart(),console[_0x519a1b(0x5cd)](_0x519a1b(0x30f)),!![];}catch(_0xd8054c){console[_0x519a1b(0x4a3)](_0x519a1b(0x339),_0xd8054c);throw _0xd8054c;}}async function createRankDistributionChart(){const _0x145d77=a4_0x3e5318;try{const _0x523df8=collection(db,currentLadder==='D1'?_0x145d77(0x27c):_0x145d77(0x29c)),_0x2e3d82=await getDocs(_0x523df8),_0x50ae04={'Unranked':0x0,'Bronze':0x0,'Silver':0x0,'Gold':0x0,'Emerald':0x0};_0x2e3d82[_0x145d77(0x5ae)](_0x236d17=>{const _0x37a62c=_0x145d77,_0x1a390b=_0x236d17[_0x37a62c(0x416)](),_0x46aa13=_0x1a390b[_0x37a62c(0x4c5)]||0x4b0;if(_0x46aa13>=0x7d0)_0x50ae04['Emerald']++;else{if(_0x46aa13>=0x708)_0x50ae04[_0x37a62c(0x2bc)]++;else{if(_0x46aa13>=0x640)_0x50ae04[_0x37a62c(0x310)]++;else{if(_0x46aa13>=0x578)_0x50ae04[_0x37a62c(0x4a6)]++;else _0x50ae04[_0x37a62c(0x1f3)]++;}}}});const _0x179ed6=document[_0x145d77(0x3e8)](_0x145d77(0x1e2));charts[_0x145d77(0x2b3)]&&charts[_0x145d77(0x2b3)][_0x145d77(0x51c)](),charts[_0x145d77(0x2b3)]=new Chart(_0x179ed6,{'type':_0x145d77(0x50b),'data':{'labels':Object[_0x145d77(0x42d)](_0x50ae04),'datasets':[{'data':Object[_0x145d77(0x50d)](_0x50ae04),'backgroundColor':['#808080',_0x145d77(0x579),_0x145d77(0x403),_0x145d77(0x474),_0x145d77(0x2b9)],'borderWidth':0x2}]},'options':{'responsive':!![],'maintainAspectRatio':![],'plugins':{'legend':{'position':_0x145d77(0x2a6),'labels':{'color':_0x145d77(0x426)}},'title':{'display':!![],'text':currentLadder+_0x145d77(0x384),'color':_0x145d77(0x426),'font':{'size':0x10}}}}});}catch(_0x3fae25){console[_0x145d77(0x4a3)](_0x145d77(0x3ef),_0x3fae25),document[_0x145d77(0x3e8)](_0x145d77(0x1e2))[_0x145d77(0x29f)]='<div\x20class=\x22chart-error\x22>Error\x20loading\x20chart\x20data</div>';}}async function createActivityChart(){const _0x32abd3=a4_0x3e5318;try{const _0x1ed188=currentLadder==='D1'?'approvedMatches':'approvedMatchesD2',_0xa42fb3=collection(db,_0x1ed188),_0x2c39f3=new Date();_0x2c39f3[_0x32abd3(0x441)](_0x2c39f3['getDate']()-0x7);const _0x39e469=query(_0xa42fb3,where('approvedAt','>=',_0x2c39f3),orderBy(_0x32abd3(0x37c),_0x32abd3(0x3fa))),_0x1cc34c=await getDocs(_0x39e469),_0x533237=[_0x32abd3(0x244),_0x32abd3(0x43d),_0x32abd3(0x28f),_0x32abd3(0x267),'Thursday',_0x32abd3(0x4eb),_0x32abd3(0x62c)],_0xaee468=_0x533237[_0x32abd3(0x26a)]((_0x413e51,_0x7c8afd)=>({..._0x413e51,[_0x7c8afd]:0x0}),{});_0x1cc34c['forEach'](_0x1a5206=>{const _0x5b8aa0=_0x32abd3,_0x42e5be=_0x1a5206['data']();if(_0x42e5be['approvedAt']){const _0x8220ac=_0x533237[new Date(_0x42e5be['approvedAt'][_0x5b8aa0(0x27b)]*0x3e8)[_0x5b8aa0(0x478)]()];_0xaee468[_0x8220ac]++;}});const _0x1fdc10=document[_0x32abd3(0x3e8)](_0x32abd3(0x39e));charts[_0x32abd3(0x216)]&&charts[_0x32abd3(0x216)][_0x32abd3(0x51c)](),charts[_0x32abd3(0x216)]=new Chart(_0x1fdc10,{'type':_0x32abd3(0x5a9),'data':{'labels':_0x533237,'datasets':[{'label':_0x32abd3(0x247),'data':_0x533237[_0x32abd3(0x499)](_0x262ef1=>_0xaee468[_0x262ef1]),'backgroundColor':currentLadder==='D1'?_0x32abd3(0x521):_0x32abd3(0x371),'borderColor':currentLadder==='D1'?_0x32abd3(0x4bd):'#1976d2','borderWidth':0x1}]},'options':{'responsive':!![],'maintainAspectRatio':![],'scales':{'y':{'beginAtZero':!![],'ticks':{'color':_0x32abd3(0x426)},'grid':{'color':_0x32abd3(0x59d)}},'x':{'ticks':{'color':_0x32abd3(0x426)},'grid':{'color':_0x32abd3(0x59d)}}},'plugins':{'legend':{'labels':{'color':'#e0e0e0'}},'title':{'display':!![],'text':currentLadder+_0x32abd3(0x27a),'color':_0x32abd3(0x426),'font':{'size':0x10}}}}});}catch(_0x233af6){console[_0x32abd3(0x4a3)]('Error\x20creating\x20activity\x20chart:',_0x233af6),document[_0x32abd3(0x3e8)](_0x32abd3(0x39e))[_0x32abd3(0x29f)]='<div\x20class=\x22chart-error\x22>Error\x20loading\x20chart\x20data</div>';}}async function loadPlayersData(){const _0x4ac1bf=a4_0x3e5318,_0x514e4b=document[_0x4ac1bf(0x3e8)](_0x4ac1bf(0x46a));if(!_0x514e4b)return;_0x514e4b[_0x4ac1bf(0x29f)]=_0x4ac1bf(0x219);try{let _0x4a92c5='players';if(currentLadder==='D2')_0x4a92c5=_0x4ac1bf(0x29c);else currentLadder==='D3'&&(_0x4a92c5=_0x4ac1bf(0x510));console['log'](_0x4ac1bf(0x246)+_0x4a92c5+_0x4ac1bf(0x4d7));const _0x31858b=collection(db,_0x4a92c5),_0x38bad7=query(_0x31858b,orderBy(_0x4ac1bf(0x4c5),_0x4ac1bf(0x601))),_0x8b3a8d=await getDocs(_0x38bad7);if(_0x8b3a8d[_0x4ac1bf(0x42f)]){_0x514e4b[_0x4ac1bf(0x29f)]=_0x4ac1bf(0x356);return;}_0x514e4b[_0x4ac1bf(0x29f)]='';let _0x367871=0x1;_0x8b3a8d['forEach'](_0x405560=>{const _0x4b8ff7=_0x4ac1bf,_0x2ca202=_0x405560['data'](),_0x314fee=getRankFromElo(_0x2ca202[_0x4b8ff7(0x4c5)]||0x4b0),_0x47dfa5=getRankStyle(_0x2ca202[_0x4b8ff7(0x4c5)]||0x4b0),_0x53dbc2=document['createElement']('tr');_0x53dbc2['innerHTML']=_0x4b8ff7(0x40e)+_0x367871+_0x4b8ff7(0x42a)+_0x47dfa5['color']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2ca202['username']||_0x4b8ff7(0x61d))+_0x4b8ff7(0x3a5)+(_0x2ca202[_0x4b8ff7(0x4c5)]||0x4b0)+_0x4b8ff7(0x50a)+_0x47dfa5['color']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x314fee+_0x4b8ff7(0x2f0)+(_0x2ca202[_0x4b8ff7(0x3da)]||0x0)+_0x4b8ff7(0x381)+(_0x2ca202['losses']||0x0)+_0x4b8ff7(0x507)+_0x405560['id']+_0x4b8ff7(0x3c0)+_0x405560['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x514e4b[_0x4b8ff7(0x45a)](_0x53dbc2),_0x367871++;}),setupPlayerActionButtons();}catch(_0x52428b){console[_0x4ac1bf(0x4a3)]('Error\x20loading\x20players:',_0x52428b),_0x514e4b['innerHTML']=_0x4ac1bf(0x560)+_0x52428b[_0x4ac1bf(0x528)]+_0x4ac1bf(0x5fd);}}function getRankFromElo(_0x472f6a){const _0x2065fa=a4_0x3e5318;if(_0x472f6a>=0x7d0)return _0x2065fa(0x2da);if(_0x472f6a>=0x708)return _0x2065fa(0x2bc);if(_0x472f6a>=0x640)return _0x2065fa(0x310);if(_0x472f6a>=0x578)return _0x2065fa(0x4a6);return'Unranked';}function setupPlayerActionButtons(){const _0x2fb784=a4_0x3e5318;document[_0x2fb784(0x534)](_0x2fb784(0x313))['forEach'](_0xbe864d=>{const _0x43ce47=_0x2fb784;_0xbe864d[_0x43ce47(0x3c5)](_0x43ce47(0x434),async _0x3740c5=>{const _0x16b244=_0x43ce47,_0x20ab8a=_0x3740c5[_0x16b244(0x277)][_0x16b244(0x390)]['id'];openEditPlayerModal(_0x20ab8a);});}),document[_0x2fb784(0x534)](_0x2fb784(0x5ec))[_0x2fb784(0x5ae)](_0x30331a=>{const _0x54ea16=_0x2fb784;_0x30331a[_0x54ea16(0x3c5)](_0x54ea16(0x434),async _0x1c66b5=>{const _0x226082=_0x54ea16,_0x4cef75=_0x1c66b5[_0x226082(0x277)]['dataset']['id'];confirmDeletePlayer(_0x4cef75);});});}async function openEditPlayerModal(_0x296a76){const _0x266d6e=a4_0x3e5318;try{const _0x275080=currentLadder==='D1'?_0x266d6e(0x27c):_0x266d6e(0x29c),_0x4f01da=doc(db,_0x275080,_0x296a76),_0x54a875=await getDoc(_0x4f01da);if(!_0x54a875['exists']()){showNotification(_0x266d6e(0x2d9),_0x266d6e(0x4a3));return;}const _0xf2059=_0x54a875[_0x266d6e(0x416)](),_0xdb975f=document[_0x266d6e(0x3e8)](_0x266d6e(0x446)),_0x1b3fbe=document[_0x266d6e(0x3e8)](_0x266d6e(0x3ca)),_0x2166e7=document[_0x266d6e(0x3e8)](_0x266d6e(0x2f1)),_0x5abbe8=document[_0x266d6e(0x3e8)]('edit-wins'),_0x5dcbb9=document['getElementById']('edit-losses');_0x1b3fbe[_0x266d6e(0x475)]=_0xf2059[_0x266d6e(0x527)]||'',_0x2166e7['value']=_0xf2059['eloRating']||0x4b0,_0x5abbe8['value']=_0xf2059['wins']||0x0,_0x5dcbb9['value']=_0xf2059[_0x266d6e(0x5be)]||0x0,_0xdb975f[_0x266d6e(0x390)][_0x266d6e(0x42c)]=_0x296a76,_0xdb975f[_0x266d6e(0x556)][_0x266d6e(0x616)](_0x266d6e(0x4f5));}catch(_0x347bda){console[_0x266d6e(0x4a3)](_0x266d6e(0x539),_0x347bda),showNotification(_0x266d6e(0x5b1),_0x266d6e(0x4a3));}}async function saveEditedPlayer(){const _0x223ac0=a4_0x3e5318;try{const _0x32dc82=document[_0x223ac0(0x3e8)](_0x223ac0(0x446)),_0x576fe1=_0x32dc82[_0x223ac0(0x390)][_0x223ac0(0x42c)];if(!_0x576fe1){showNotification(_0x223ac0(0x2c7),_0x223ac0(0x4a3));return;}const _0x3c152e=document[_0x223ac0(0x3e8)](_0x223ac0(0x3ca)),_0x3695fb=document['getElementById'](_0x223ac0(0x2f1)),_0x311089=document[_0x223ac0(0x3e8)](_0x223ac0(0x1f8)),_0xab3e73=document[_0x223ac0(0x3e8)](_0x223ac0(0x4a7)),_0xfc9cfc=_0x3c152e[_0x223ac0(0x475)][_0x223ac0(0x52a)](),_0x5b8d03=parseInt(_0x3695fb[_0x223ac0(0x475)]),_0x13cabe=parseInt(_0x311089[_0x223ac0(0x475)]),_0x14bae3=parseInt(_0xab3e73['value']);if(!_0xfc9cfc||isNaN(_0x5b8d03)){showNotification(_0x223ac0(0x27f),_0x223ac0(0x4a3));return;}const _0x30234a=currentLadder==='D1'?_0x223ac0(0x27c):_0x223ac0(0x29c),_0x1e4310=doc(db,_0x30234a,_0x576fe1),_0x30dcdc=await getDoc(_0x1e4310),_0x1702cf=_0x30dcdc[_0x223ac0(0x3e9)]()?_0x30dcdc['data']():{},_0x45c9bd=_0x1702cf[_0x223ac0(0x4c5)]||0x4b0;await updateDoc(_0x1e4310,{'username':_0xfc9cfc,'eloRating':_0x5b8d03,'wins':_0x13cabe||0x0,'losses':_0x14bae3||0x0,'lastModifiedAt':serverTimestamp(),'lastModifiedBy':auth['currentUser'][_0x223ac0(0x438)]});if(_0x5b8d03!==_0x45c9bd){const _0x998c7b=currentLadder==='D1'?_0x223ac0(0x584):_0x223ac0(0x41c);await addDoc(collection(db,_0x998c7b),{'player':_0xfc9cfc,'previousElo':_0x45c9bd,'newElo':_0x5b8d03,'timestamp':serverTimestamp(),'type':_0x223ac0(0x456),'modifiedBy':auth[_0x223ac0(0x3e4)][_0x223ac0(0x438)],'gameMode':currentLadder});}closeEditPlayerModal(),loadPlayersData(),showNotification(_0x223ac0(0x4b7),'success');}catch(_0x5d7311){console[_0x223ac0(0x4a3)](_0x223ac0(0x249),_0x5d7311),showNotification(_0x223ac0(0x4b2)+_0x5d7311[_0x223ac0(0x528)],'error');}}function closeEditPlayerModal(){const _0x44617d=a4_0x3e5318,_0x466796=document[_0x44617d(0x3e8)](_0x44617d(0x446));_0x466796[_0x44617d(0x556)][_0x44617d(0x49f)](_0x44617d(0x4f5)),_0x466796[_0x44617d(0x390)][_0x44617d(0x42c)]='';}async function confirmDeletePlayer(_0x3e764a){const _0x587ad7=a4_0x3e5318;if(confirm(_0x587ad7(0x3ae)))try{const _0x333d6d=currentLadder==='D1'?'players':'playersD2';await deleteDoc(doc(db,_0x333d6d,_0x3e764a)),loadPlayersData(),showNotification(_0x587ad7(0x5f0),_0x587ad7(0x4b8));}catch(_0x5f0674){console[_0x587ad7(0x4a3)](_0x587ad7(0x2fd),_0x5f0674),showNotification(_0x587ad7(0x4c6)+_0x5f0674['message'],_0x587ad7(0x4a3));}}async function setupManagePlayersSection(){const _0x90cb4=a4_0x3e5318,_0x5bc608=document[_0x90cb4(0x3e8)]('add-player-form');_0x5bc608&&_0x5bc608[_0x90cb4(0x3c5)](_0x90cb4(0x385),async _0x49dc85=>{_0x49dc85['preventDefault'](),await addNewPlayer();});const _0x508109=document[_0x90cb4(0x3e8)](_0x90cb4(0x526));_0x508109&&_0x508109[_0x90cb4(0x3c5)](_0x90cb4(0x4ee),debounce(filterPlayerTable,0x12c));const _0x4efc82=document[_0x90cb4(0x3e8)](_0x90cb4(0x494));_0x4efc82&&_0x4efc82['addEventListener'](_0x90cb4(0x434),saveEditedPlayer);const _0xc6d5db=document[_0x90cb4(0x3e8)](_0x90cb4(0x524));_0xc6d5db&&_0xc6d5db[_0x90cb4(0x3c5)](_0x90cb4(0x434),closeEditPlayerModal);const _0x3548aa=document[_0x90cb4(0x3e8)](_0x90cb4(0x446));_0x3548aa&&_0x3548aa['addEventListener'](_0x90cb4(0x434),_0x4e275b=>{const _0x4d976e=_0x90cb4;_0x4e275b[_0x4d976e(0x1de)]===_0x3548aa&&closeEditPlayerModal();});const _0x3267ee=document[_0x90cb4(0x3e8)](_0x90cb4(0x484));_0x3267ee&&_0x3267ee[_0x90cb4(0x3c5)](_0x90cb4(0x5a1),()=>{const _0x7a812c=_0x90cb4;currentLadder=_0x3267ee[_0x7a812c(0x475)],loadPlayersData();});}async function addNewPlayer(){const _0x38852d=a4_0x3e5318;try{const _0x50f268=document[_0x38852d(0x3e8)]('new-player-username'),_0x248117=document[_0x38852d(0x3e8)]('new-player-elo'),_0x1c1274=_0x50f268[_0x38852d(0x475)]['trim'](),_0xcb297c=parseInt(_0x248117[_0x38852d(0x475)])||0x4b0;if(!_0x1c1274){alert('Please\x20enter\x20a\x20valid\x20username');return;}console['log'](_0x38852d(0x406)+_0x1c1274+_0x38852d(0x4f1)+_0xcb297c+_0x38852d(0x4aa)+currentLadder+_0x38852d(0x2bb));let _0x49d866=_0x38852d(0x27c),_0x260f46=_0x38852d(0x584);if(currentLadder==='D2')_0x49d866=_0x38852d(0x29c),_0x260f46=_0x38852d(0x41c);else currentLadder==='D3'&&(_0x49d866=_0x38852d(0x510),_0x260f46=_0x38852d(0x398));const _0x1b9236=query(collection(db,_0x49d866),where(_0x38852d(0x527),'==',_0x1c1274)),_0x437156=await getDocs(_0x1b9236);if(!_0x437156[_0x38852d(0x42f)]){alert('Username\x20'+_0x1c1274+_0x38852d(0x31a)+currentLadder+_0x38852d(0x2bb));return;}const _0x2470da=auth['currentUser'],_0xafa4d1={'username':_0x1c1274,'eloRating':_0xcb297c,'wins':0x0,'losses':0x0,'createdAt':serverTimestamp(),'createdBy':_0x2470da?_0x2470da[_0x38852d(0x438)]:'admin','gameMode':currentLadder};await addDoc(collection(db,_0x49d866),_0xafa4d1),await addDoc(collection(db,_0x260f46),{'player':_0x1c1274,'previousElo':0x4b0,'newElo':_0xcb297c,'timestamp':serverTimestamp(),'type':'initial_placement','placedBy':_0x2470da?_0x2470da[_0x38852d(0x438)]:_0x38852d(0x296),'gameMode':currentLadder}),_0x50f268[_0x38852d(0x475)]='',_0x248117[_0x38852d(0x475)]=_0x38852d(0x3d7),alert(_0x38852d(0x232)+_0x1c1274+'\x20added\x20successfully\x20to\x20'+currentLadder+_0x38852d(0x206)),loadPlayersData();}catch(_0x22db5c){console[_0x38852d(0x4a3)]('Error\x20adding\x20player:',_0x22db5c),alert(_0x38852d(0x614)+_0x22db5c[_0x38852d(0x528)]);}}document[a4_0x3e5318(0x3c5)](a4_0x3e5318(0x486),()=>{const _0x1be864=a4_0x3e5318,_0x828e50=document[_0x1be864(0x3e8)](_0x1be864(0x302));_0x828e50&&_0x828e50[_0x1be864(0x3c5)]('submit',_0x2eeff5=>{const _0x4b3967=_0x1be864;_0x2eeff5[_0x4b3967(0x575)](),addNewPlayer();});});function filterPlayerTable(){const _0x38da7b=a4_0x3e5318,_0x19eb69=document[_0x38da7b(0x3e8)]('player-search')[_0x38da7b(0x475)][_0x38da7b(0x41f)](),_0x165667=document[_0x38da7b(0x534)](_0x38da7b(0x4af));let _0x35ca0a=0x0;_0x165667[_0x38da7b(0x5ae)](_0x2839cf=>{const _0xc27076=_0x38da7b,_0xe382fc=_0x2839cf[_0xc27076(0x3f7)](_0xc27076(0x490))?.['textContent'][_0xc27076(0x41f)]()||'';_0xe382fc[_0xc27076(0x364)](_0x19eb69)?(_0x2839cf[_0xc27076(0x432)][_0xc27076(0x535)]='',_0x35ca0a++):_0x2839cf[_0xc27076(0x432)][_0xc27076(0x535)]=_0xc27076(0x2fc);});const _0x556d36=document[_0x38da7b(0x3e8)](_0x38da7b(0x57e));_0x556d36&&(_0x35ca0a===0x0&&_0x19eb69!==''?_0x556d36['style'][_0x38da7b(0x535)]=_0x38da7b(0x45f):_0x556d36[_0x38da7b(0x432)][_0x38da7b(0x535)]=_0x38da7b(0x2fc));}function debounce(_0x3dda03,_0xffe47b){let _0x105083;return function(..._0xe9f2f8){const _0x29fb02=a4_0x4074;clearTimeout(_0x105083),_0x105083=setTimeout(()=>_0x3dda03[_0x29fb02(0x3f4)](this,_0xe9f2f8),_0xffe47b);};}async function loadEloHistory(_0x3d9731=0x1){const _0x35ab86=a4_0x3e5318,_0x3b07ca=document[_0x35ab86(0x3e8)](_0x35ab86(0x3fc)),_0x2e22e3=currentLadder[_0x35ab86(0x41f)]();if(!_0x3b07ca)return;_0x3b07ca[_0x35ab86(0x29f)]='<tr><td\x20colspan=\x227\x22\x20class=\x22loading-cell\x22>Loading\x20history...</td></tr>';try{const _0x25cd48=currentLadder==='D1'?_0x35ab86(0x584):currentLadder==='D2'?_0x35ab86(0x41c):'eloHistoryD3',_0x3e3636=collection(db,_0x25cd48);let _0x5be8e7;if(_0x3d9731>eloHistoryPagination[_0x2e22e3][_0x35ab86(0x581)]&&eloHistoryPagination[_0x2e22e3][_0x35ab86(0x360)])_0x5be8e7=query(_0x3e3636,orderBy('timestamp',_0x35ab86(0x601)),startAfter(eloHistoryPagination[_0x2e22e3][_0x35ab86(0x360)]),limit(PAGE_SIZE));else _0x3d9731<eloHistoryPagination[_0x2e22e3][_0x35ab86(0x581)]&&eloHistoryPagination[_0x2e22e3][_0x35ab86(0x2aa)]?_0x5be8e7=query(_0x3e3636,orderBy('timestamp',_0x35ab86(0x601)),endBefore(eloHistoryPagination[_0x2e22e3]['firstVisible']),limitToLast(PAGE_SIZE)):_0x5be8e7=query(_0x3e3636,orderBy('timestamp',_0x35ab86(0x601)),limit(PAGE_SIZE));const _0x5b1cda=await getDocs(_0x5be8e7);if(_0x5b1cda[_0x35ab86(0x42f)]){_0x3b07ca['innerHTML']=_0x35ab86(0x5f1),document['getElementById'](_0x2e22e3+_0x35ab86(0x2f6))['textContent']=_0x35ab86(0x529);return;}eloHistoryPagination[_0x2e22e3][_0x35ab86(0x581)]=_0x3d9731,eloHistoryPagination[_0x2e22e3][_0x35ab86(0x2aa)]=_0x5b1cda[_0x35ab86(0x263)][0x0],eloHistoryPagination[_0x2e22e3][_0x35ab86(0x360)]=_0x5b1cda[_0x35ab86(0x263)][_0x5b1cda['docs'][_0x35ab86(0x541)]-0x1];const _0x4c576c=new Map();_0x3b07ca['innerHTML']='';const _0x3ae4d1=async _0x400028=>{const _0x38ab63=_0x35ab86;if(typeof _0x400028!==_0x38ab63(0x3db)||_0x400028[_0x38ab63(0x541)]<0x14||/[^a-zA-Z0-9-_]/[_0x38ab63(0x31d)](_0x400028))return _0x400028;if(_0x4c576c[_0x38ab63(0x2e5)](_0x400028))return _0x4c576c[_0x38ab63(0x2fe)](_0x400028);try{for(const _0x4b7cac of[_0x38ab63(0x27c),_0x38ab63(0x29c),_0x38ab63(0x510),_0x38ab63(0x365)]){const _0x3150c7=await getDoc(doc(db,_0x4b7cac,_0x400028));if(_0x3150c7[_0x38ab63(0x3e9)]()&&_0x3150c7['data']()[_0x38ab63(0x527)]){const _0x463057=_0x3150c7[_0x38ab63(0x416)]()[_0x38ab63(0x527)];return _0x4c576c[_0x38ab63(0x421)](_0x400028,_0x463057),_0x463057;}}return _0x400028;}catch(_0x24a19c){return console[_0x38ab63(0x229)](_0x38ab63(0x457)+_0x400028+':',_0x24a19c),_0x400028;}};for(const _0x4200de of _0x5b1cda[_0x35ab86(0x263)]){const _0x30340e=_0x4200de[_0x35ab86(0x416)](),_0x4812cd=document['createElement']('tr'),_0x436d33=_0x30340e['timestamp']?new Date(_0x30340e[_0x35ab86(0x587)][_0x35ab86(0x27b)]*0x3e8)[_0x35ab86(0x590)]():_0x35ab86(0x215),_0x2051ab=_0x30340e[_0x35ab86(0x425)]-_0x30340e[_0x35ab86(0x211)],_0x23d986=_0x2051ab>0x0?_0x35ab86(0x27e):_0x2051ab<0x0?_0x35ab86(0x1f9):'',_0x51a855=_0x2051ab>0x0?'+':'',_0x48b275=_0x30340e[_0x35ab86(0x4ce)]||_0x30340e['username']||_0x30340e[_0x35ab86(0x233)]||'N/A',_0x272db1=await _0x3ae4d1(_0x48b275);_0x4812cd['innerHTML']=_0x35ab86(0x224)+_0x436d33+_0x35ab86(0x2ab)+_0x272db1+_0x35ab86(0x454)+(_0x30340e[_0x35ab86(0x211)]||_0x35ab86(0x215))+_0x35ab86(0x56b)+(_0x30340e[_0x35ab86(0x425)]||_0x35ab86(0x215))+_0x35ab86(0x591)+_0x23d986+'\x22>'+_0x51a855+_0x2051ab+_0x35ab86(0x1ce)+formatHistoryType(_0x30340e['type'])+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22admin-action\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x30340e[_0x35ab86(0x56c)]||_0x30340e[_0x35ab86(0x5f4)]||_0x30340e[_0x35ab86(0x396)]||_0x35ab86(0x221))+_0x35ab86(0x467),_0x3b07ca[_0x35ab86(0x45a)](_0x4812cd);}document[_0x35ab86(0x3e8)](_0x2e22e3+'-page-indicator')[_0x35ab86(0x24f)]='Page\x20'+_0x3d9731;const _0x242cfe=document[_0x35ab86(0x3e8)](_0x2e22e3+_0x35ab86(0x227)),_0x5c66c9=document[_0x35ab86(0x3e8)](_0x2e22e3+'-next-page');if(_0x242cfe)_0x242cfe[_0x35ab86(0x33b)]=_0x3d9731<=0x1;const _0x238d91=query(_0x3e3636,orderBy(_0x35ab86(0x587),_0x35ab86(0x601)),startAfter(eloHistoryPagination[_0x2e22e3]['lastVisible']),limit(0x1)),_0x136e7f=await getDocs(_0x238d91);if(_0x5c66c9)_0x5c66c9['disabled']=_0x136e7f[_0x35ab86(0x42f)];}catch(_0x58856e){console[_0x35ab86(0x4a3)](_0x35ab86(0x4c9),_0x58856e),_0x3b07ca['innerHTML']=_0x35ab86(0x60d)+_0x58856e[_0x35ab86(0x528)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}function formatHistoryType(_0x208e81){const _0x3fa4d3=a4_0x3e5318;switch(_0x208e81){case _0x3fa4d3(0x1db):return _0x3fa4d3(0x479);case _0x3fa4d3(0x2ba):return'Promotion';case _0x3fa4d3(0x4cc):return _0x3fa4d3(0x22b);case _0x3fa4d3(0x456):return _0x3fa4d3(0x5a8);case _0x3fa4d3(0x4ff):return _0x3fa4d3(0x2cd);default:return _0x208e81||'Unknown';}}function setupEloHistorySection(){const _0x13fccf=a4_0x3e5318;document[_0x13fccf(0x3e8)](_0x13fccf(0x329))[_0x13fccf(0x3c5)](_0x13fccf(0x434),()=>{const _0xc62026=_0x13fccf;loadEloHistory(eloHistoryPagination['d1'][_0xc62026(0x581)]-0x1);}),document['getElementById'](_0x13fccf(0x34e))[_0x13fccf(0x3c5)]('click',()=>{const _0x30c38b=_0x13fccf;loadEloHistory(eloHistoryPagination['d1'][_0x30c38b(0x581)]+0x1);}),document[_0x13fccf(0x3e8)](_0x13fccf(0x260))[_0x13fccf(0x3c5)](_0x13fccf(0x434),()=>{loadEloHistory(eloHistoryPagination['d2']['page']-0x1);}),document['getElementById'](_0x13fccf(0x5ac))[_0x13fccf(0x3c5)]('click',()=>{const _0x473707=_0x13fccf;loadEloHistory(eloHistoryPagination['d2'][_0x473707(0x581)]+0x1);});const _0x2ca52e=document[_0x13fccf(0x3e8)](_0x13fccf(0x20a)),_0x2f2ac0=document['getElementById'](_0x13fccf(0x2f8));_0x2ca52e&&_0x2ca52e[_0x13fccf(0x3c5)](_0x13fccf(0x434),()=>{const _0x552643=_0x13fccf;loadEloHistory(eloHistoryPagination['d3'][_0x552643(0x581)]-0x1);});_0x2f2ac0&&_0x2f2ac0[_0x13fccf(0x3c5)](_0x13fccf(0x434),()=>{const _0x4f9de6=_0x13fccf;loadEloHistory(eloHistoryPagination['d3'][_0x4f9de6(0x581)]+0x1);});const _0x1147bc=document[_0x13fccf(0x3e8)](_0x13fccf(0x4d2));_0x1147bc&&_0x1147bc[_0x13fccf(0x3c5)](_0x13fccf(0x4ee),debounce(filterEloHistoryTable,0x12c));const _0x291829=document['getElementById'](_0x13fccf(0x52f));_0x291829&&_0x291829[_0x13fccf(0x3c5)](_0x13fccf(0x5a1),applyEloHistoryFilters);const _0x2c8770=document[_0x13fccf(0x3e8)](_0x13fccf(0x4ea));_0x2c8770&&_0x2c8770['addEventListener'](_0x13fccf(0x434),resetEloHistoryFilters);}function filterEloHistoryTable(){const _0x55720b=a4_0x3e5318,_0x58750e=document[_0x55720b(0x3e8)](_0x55720b(0x4d2))[_0x55720b(0x475)]['toLowerCase'](),_0x529d48=document[_0x55720b(0x534)](_0x55720b(0x565));let _0x1a714=0x0;_0x529d48[_0x55720b(0x5ae)](_0xd64aaf=>{const _0x1cebbf=_0x55720b;if(_0xd64aaf[_0x1cebbf(0x556)]['contains']('loading-cell')||_0xd64aaf[_0x1cebbf(0x556)][_0x1cebbf(0x252)]('empty-state')||_0xd64aaf[_0x1cebbf(0x556)][_0x1cebbf(0x252)]('error-state'))return;const _0x40c4d7=_0xd64aaf[_0x1cebbf(0x3f7)]('.player')?.[_0x1cebbf(0x24f)]['toLowerCase']()||'',_0x5e91dc=_0xd64aaf[_0x1cebbf(0x3f7)](_0x1cebbf(0x2a5))?.['textContent']['toLowerCase']()||'',_0x26fa1e=_0xd64aaf[_0x1cebbf(0x3f7)](_0x1cebbf(0x3bc))?.['textContent'][_0x1cebbf(0x41f)]()||'';_0x40c4d7[_0x1cebbf(0x364)](_0x58750e)||_0x5e91dc['includes'](_0x58750e)||_0x26fa1e[_0x1cebbf(0x364)](_0x58750e)?(_0xd64aaf[_0x1cebbf(0x432)][_0x1cebbf(0x535)]='',_0x1a714++):_0xd64aaf['style'][_0x1cebbf(0x535)]='none';});}async function applyEloHistoryFilters(){const _0x1411ef=a4_0x3e5318,_0x1ef7fc=document[_0x1411ef(0x3e8)](_0x1411ef(0x56e))['value'],_0x242e28=document[_0x1411ef(0x3e8)]('history-end-date')[_0x1411ef(0x475)],_0x5cf1e1=document[_0x1411ef(0x3e8)]('history-type-filter')[_0x1411ef(0x475)],_0x4bb733=currentLadder[_0x1411ef(0x41f)]();eloHistoryPagination[_0x4bb733]={'page':0x1,'lastVisible':null,'firstVisible':null};const _0x148b08=document['getElementById'](_0x1411ef(0x3fc));_0x148b08[_0x1411ef(0x29f)]=_0x1411ef(0x623);try{const _0x4fd70e=currentLadder==='D1'?_0x1411ef(0x584):_0x1411ef(0x41c),_0x5144e1=collection(db,_0x4fd70e);let _0x289b58=[orderBy('timestamp','desc')];if(_0x1ef7fc){const _0x23b9fe=new Date(_0x1ef7fc);_0x23b9fe[_0x1411ef(0x576)](0x0,0x0,0x0,0x0),_0x289b58['push'](where('timestamp','>=',_0x23b9fe));}if(_0x242e28){const _0x2544f4=new Date(_0x242e28);_0x2544f4[_0x1411ef(0x576)](0x17,0x3b,0x3b,0x3e7),_0x289b58[_0x1411ef(0x2b5)](where('timestamp','<=',_0x2544f4));}_0x5cf1e1&&_0x5cf1e1!==_0x1411ef(0x600)&&_0x289b58[_0x1411ef(0x2b5)](where(_0x1411ef(0x22e),'==',_0x5cf1e1));_0x289b58[_0x1411ef(0x2b5)](limit(PAGE_SIZE));const _0x3a07ea=query(_0x5144e1,..._0x289b58),_0x344e49=await getDocs(_0x3a07ea);!_0x344e49[_0x1411ef(0x42f)]&&(eloHistoryPagination[_0x4bb733][_0x1411ef(0x2aa)]=_0x344e49[_0x1411ef(0x263)][0x0],eloHistoryPagination[_0x4bb733][_0x1411ef(0x360)]=_0x344e49[_0x1411ef(0x263)][_0x344e49[_0x1411ef(0x263)][_0x1411ef(0x541)]-0x1]);_0x148b08['innerHTML']='';if(_0x344e49['empty']){_0x148b08[_0x1411ef(0x29f)]='<tr><td\x20colspan=\x227\x22\x20class=\x22empty-state\x22>No\x20matches\x20found\x20for\x20the\x20selected\x20filters</td></tr>';return;}_0x344e49[_0x1411ef(0x5ae)](_0x50c2e4=>{const _0x75f7a2=_0x1411ef,_0x55b284=_0x50c2e4[_0x75f7a2(0x416)](),_0x5094cf=document[_0x75f7a2(0x26b)]('tr'),_0x9ff2bf=_0x55b284[_0x75f7a2(0x587)]?new Date(_0x55b284[_0x75f7a2(0x587)][_0x75f7a2(0x27b)]*0x3e8)[_0x75f7a2(0x590)]():_0x75f7a2(0x215),_0x42de08=_0x55b284['newElo']-_0x55b284['previousElo'],_0x53831f=_0x42de08>0x0?'positive-change':_0x42de08<0x0?_0x75f7a2(0x1f9):'',_0x4f07d1=_0x42de08>0x0?'+':'',_0x319c29=_0x55b284[_0x75f7a2(0x4ce)]||_0x55b284[_0x75f7a2(0x527)]||_0x55b284[_0x75f7a2(0x233)]||'N/A';_0x5094cf[_0x75f7a2(0x29f)]=_0x75f7a2(0x224)+_0x9ff2bf+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22player\x22>'+_0x319c29+_0x75f7a2(0x454)+(_0x55b284[_0x75f7a2(0x211)]||'N/A')+_0x75f7a2(0x56b)+(_0x55b284[_0x75f7a2(0x425)]||_0x75f7a2(0x215))+_0x75f7a2(0x591)+_0x53831f+'\x22>'+_0x4f07d1+_0x42de08+_0x75f7a2(0x1ce)+formatHistoryType(_0x55b284[_0x75f7a2(0x22e)])+_0x75f7a2(0x4a4)+(_0x55b284['modifiedBy']||_0x55b284['promotedBy']||_0x55b284[_0x75f7a2(0x396)]||_0x75f7a2(0x221))+_0x75f7a2(0x467),_0x148b08['appendChild'](_0x5094cf);}),document[_0x1411ef(0x3e8)](_0x4bb733+_0x1411ef(0x2f6))['textContent']='Page\x201';}catch(_0x1a9feb){console['error']('Error\x20applying\x20filters:',_0x1a9feb),_0x148b08[_0x1411ef(0x29f)]=_0x1411ef(0x38a)+_0x1a9feb[_0x1411ef(0x528)]+_0x1411ef(0x5fd);}}function resetEloHistoryFilters(){const _0x1a1cf0=a4_0x3e5318;document[_0x1a1cf0(0x3e8)]('history-start-date')[_0x1a1cf0(0x475)]='',document[_0x1a1cf0(0x3e8)](_0x1a1cf0(0x5c6))[_0x1a1cf0(0x475)]='',document[_0x1a1cf0(0x3e8)]('history-type-filter')[_0x1a1cf0(0x475)]=_0x1a1cf0(0x600),document[_0x1a1cf0(0x3e8)](_0x1a1cf0(0x4d2))['value']='';const _0x2aa25d=currentLadder[_0x1a1cf0(0x41f)]();eloHistoryPagination[_0x2aa25d]={'page':0x1,'lastVisible':null,'firstVisible':null},loadEloHistory(0x1);}function setupRankControls(){const _0x34bc48=a4_0x3e5318,_0x4c42a8=document[_0x34bc48(0x3e8)]('promote-player-btn'),_0x2c74f5=document[_0x34bc48(0x3e8)]('promote-modal'),_0x4758f5=document[_0x34bc48(0x3e8)](_0x34bc48(0x3d8));_0x4c42a8&&_0x2c74f5&&_0x4758f5&&(_0x4c42a8['addEventListener']('click',()=>{const _0x40c238=_0x34bc48;_0x2c74f5['classList'][_0x40c238(0x616)](_0x40c238(0x4f5));}),_0x2c74f5[_0x34bc48(0x3c5)](_0x34bc48(0x434),_0x76f51f=>{const _0x5b8c41=_0x34bc48;_0x76f51f['target']===_0x2c74f5&&_0x2c74f5[_0x5b8c41(0x556)][_0x5b8c41(0x49f)]('active');}),_0x4758f5[_0x34bc48(0x3c5)](_0x34bc48(0x385),async _0x37f335=>{const _0x192342=_0x34bc48;_0x37f335[_0x192342(0x575)]();const _0xee4790=document[_0x192342(0x3e8)](_0x192342(0x55b)),_0x4259b9=document[_0x192342(0x3e8)]('promote-ladder'),_0x47872f=_0xee4790['value'][_0x192342(0x52a)](),_0x39547e=_0x4259b9[_0x192342(0x475)];if(!_0x47872f){showNotification(_0x192342(0x1d1),_0x192342(0x4a3));return;}try{await promotePlayer(_0x47872f,_0x39547e),_0x2c74f5[_0x192342(0x556)]['remove'](_0x192342(0x4f5)),_0xee4790[_0x192342(0x475)]='';}catch(_0x51bf75){showNotification(_0x51bf75[_0x192342(0x528)],_0x192342(0x4a3));}}),document[_0x34bc48(0x3e8)](_0x34bc48(0x56a))[_0x34bc48(0x3c5)]('click',()=>{const _0x51c00f=_0x34bc48;_0x2c74f5[_0x51c00f(0x556)][_0x51c00f(0x49f)](_0x51c00f(0x4f5));}));const _0x18ef56=document[_0x34bc48(0x3e8)]('demote-player-btn'),_0x4a21fd=document[_0x34bc48(0x3e8)]('demote-modal'),_0x2f98c3=document[_0x34bc48(0x3e8)](_0x34bc48(0x1fc));_0x18ef56&&_0x4a21fd&&_0x2f98c3&&(_0x18ef56[_0x34bc48(0x3c5)](_0x34bc48(0x434),()=>{const _0x3e84a2=_0x34bc48;_0x4a21fd['classList'][_0x3e84a2(0x616)](_0x3e84a2(0x4f5));}),_0x4a21fd[_0x34bc48(0x3c5)](_0x34bc48(0x434),_0x14bda1=>{const _0x363085=_0x34bc48;_0x14bda1[_0x363085(0x1de)]===_0x4a21fd&&_0x4a21fd['classList']['remove'](_0x363085(0x4f5));}),_0x2f98c3[_0x34bc48(0x3c5)](_0x34bc48(0x385),async _0x59f8ee=>{const _0x56ba92=_0x34bc48;_0x59f8ee[_0x56ba92(0x575)]();const _0x37ee5f=document['getElementById']('demote-username'),_0x55a0a4=document[_0x56ba92(0x3e8)](_0x56ba92(0x2c3)),_0x19d01b=_0x37ee5f[_0x56ba92(0x475)][_0x56ba92(0x52a)](),_0xcc9749=_0x55a0a4[_0x56ba92(0x475)];if(!_0x19d01b){alert(_0x56ba92(0x1d1));return;}try{await demotePlayer(_0x19d01b,_0xcc9749),document[_0x56ba92(0x3e8)](_0x56ba92(0x558))[_0x56ba92(0x556)]['remove']('active'),document[_0x56ba92(0x3e8)](_0x56ba92(0x58f))['value']='';}catch(_0x42b930){console['error']('Error\x20in\x20demotion:',_0x42b930);}}));const _0x1ceffa=document['getElementById'](_0x34bc48(0x4b0)),_0x16c9c1=document[_0x34bc48(0x3e8)](_0x34bc48(0x3eb)),_0xd503d6=document[_0x34bc48(0x3e8)](_0x34bc48(0x2f2));_0x1ceffa&&_0x16c9c1&&_0xd503d6&&(_0x1ceffa[_0x34bc48(0x3c5)](_0x34bc48(0x434),()=>{const _0xdbcceb=_0x34bc48;_0x16c9c1[_0xdbcceb(0x556)][_0xdbcceb(0x616)](_0xdbcceb(0x4f5));}),_0x16c9c1[_0x34bc48(0x3c5)](_0x34bc48(0x434),_0x2a2614=>{const _0x241d20=_0x34bc48;_0x2a2614[_0x241d20(0x1de)]===_0x16c9c1&&_0x16c9c1['classList'][_0x241d20(0x49f)](_0x241d20(0x4f5));}),_0xd503d6['addEventListener']('submit',async _0x31ed6b=>{const _0x13e2b8=_0x34bc48;_0x31ed6b[_0x13e2b8(0x575)]();const _0x305e1a=document[_0x13e2b8(0x3e8)](_0x13e2b8(0x4bb)),_0xdd152a=document[_0x13e2b8(0x3e8)]('set-elo-value');let _0x485ce0;const _0x2ef9d1=document[_0x13e2b8(0x3e8)](_0x13e2b8(0x269)),_0x4be365=document['querySelector'](_0x13e2b8(0x63c));if(_0x2ef9d1)_0x485ce0=_0x2ef9d1['value'];else _0x4be365?_0x485ce0=_0x4be365[_0x13e2b8(0x475)]:_0x485ce0='D1';if(!_0x305e1a||!_0xdd152a){showNotification('Form\x20elements\x20are\x20missing',_0x13e2b8(0x4a3));return;}const _0x3004f7=_0x305e1a[_0x13e2b8(0x475)][_0x13e2b8(0x52a)](),_0x219c0a=parseInt(_0xdd152a[_0x13e2b8(0x475)]);if(!_0x3004f7||isNaN(_0x219c0a)){showNotification(_0x13e2b8(0x27f),_0x13e2b8(0x4a3));return;}try{await setCustomElo(_0x3004f7,_0x219c0a,_0x485ce0),_0x16c9c1[_0x13e2b8(0x556)]['remove'](_0x13e2b8(0x4f5)),_0x305e1a[_0x13e2b8(0x475)]='',_0xdd152a['value']='';}catch(_0x16ada3){showNotification(_0x16ada3[_0x13e2b8(0x528)],_0x13e2b8(0x4a3));}}),document[_0x34bc48(0x3e8)](_0x34bc48(0x5e4))[_0x34bc48(0x3c5)](_0x34bc48(0x434),()=>{const _0x7f51dd=_0x34bc48;_0x16c9c1['classList']['remove'](_0x7f51dd(0x4f5));}));const _0x91da6f=document['getElementById'](_0x34bc48(0x2ca)),_0x5b2003=document['getElementById'](_0x34bc48(0x34a));if(_0x91da6f&&_0x5b2003){_0x91da6f[_0x34bc48(0x3c5)](_0x34bc48(0x434),_0xffe6f5=>{_0xffe6f5['target']===_0x91da6f&&closeModalHandler();}),_0x5b2003[_0x34bc48(0x3c5)](_0x34bc48(0x385),async _0x4513bb=>{const _0x3857c9=_0x34bc48;_0x4513bb[_0x3857c9(0x575)]();const _0x1a0116=document[_0x3857c9(0x3e8)](_0x3857c9(0x4f4)),_0x3d7ddd=document[_0x3857c9(0x3e8)](_0x3857c9(0x205)),_0xb14862=document[_0x3857c9(0x3e8)]('role-color'),_0xaf52f7=_0x1a0116['value'][_0x3857c9(0x52a)](),_0x504eef=_0x3d7ddd['value']['trim'](),_0x14efb0=_0xb14862[_0x3857c9(0x475)];if(!_0xaf52f7){showNotification('Username\x20is\x20missing',_0x3857c9(0x4a3));return;}try{await setUserRole(_0xaf52f7,_0x504eef,_0x14efb0),closeModalHandler(),loadUsersWithRoles();}catch(_0x4e4a3a){}});const _0x2d1dbd=document[_0x34bc48(0x3e8)](_0x34bc48(0x5c8));_0x2d1dbd&&(_0x2d1dbd[_0x34bc48(0x4ef)](_0x34bc48(0x434),closeModalHandler),_0x2d1dbd['addEventListener'](_0x34bc48(0x434),closeModalHandler));}}async function promotePlayer(_0x2de03d,_0x377e83){const _0x5a5055=a4_0x3e5318;try{console[_0x5a5055(0x5cd)]('Attempting\x20to\x20promote\x20'+_0x2de03d+_0x5a5055(0x32d)+_0x377e83+'\x20ladder');const _0x24aef1=auth[_0x5a5055(0x3e4)];if(!_0x24aef1)throw new Error('You\x20must\x20be\x20logged\x20in\x20to\x20perform\x20this\x20action');const _0x1d8b2b=_0x377e83==='D2'?_0x5a5055(0x29c):_0x5a5055(0x27c),_0x1fd1fd=_0x377e83==='D2'?'eloHistoryD2':_0x5a5055(0x584);console[_0x5a5055(0x5cd)](_0x5a5055(0x420)+_0x1d8b2b);const _0x378e41=collection(db,_0x1d8b2b),_0x27714b=query(_0x378e41,where(_0x5a5055(0x527),'==',_0x2de03d)),_0x1b0dfd=await getDocs(_0x27714b);if(_0x1b0dfd[_0x5a5055(0x42f)]){alert(_0x5a5055(0x5db)+_0x377e83+_0x5a5055(0x2bb));throw new Error('Player\x20not\x20found\x20in\x20'+_0x377e83+'\x20ladder');}const _0xa6403c=_0x1b0dfd[_0x5a5055(0x263)][0x0],_0x85e94e=_0xa6403c[_0x5a5055(0x416)](),_0x56efe7=_0x85e94e[_0x5a5055(0x4c5)]||0x4b0,_0xa49d8=_0xa6403c['id'];console['log'](_0x5a5055(0x593)+_0x56efe7);const _0x3da770=[{'name':_0x5a5055(0x4a6),'elo':0x578},{'name':_0x5a5055(0x310),'elo':0x640},{'name':'Gold','elo':0x708},{'name':_0x5a5055(0x2da),'elo':0x7d0}];let _0x53fe3c=_0x3da770['find'](_0x4252b3=>_0x4252b3['elo']>_0x56efe7);if(!_0x53fe3c){alert('Player\x20is\x20already\x20at\x20maximum\x20rank\x20(Emerald)\x20in\x20'+_0x377e83+_0x5a5055(0x2bb));throw new Error(_0x5a5055(0x254)+_0x377e83+_0x5a5055(0x2bb));}console[_0x5a5055(0x5cd)](_0x5a5055(0x36a)+_0x53fe3c[_0x5a5055(0x4bc)]+'\x20('+_0x53fe3c[_0x5a5055(0x21e)]+')'),await updateDoc(doc(db,_0x1d8b2b,_0xa6403c['id']),{'eloRating':_0x53fe3c['elo'],'lastPromotedAt':serverTimestamp(),'promotedBy':_0x24aef1[_0x5a5055(0x438)]||_0x5a5055(0x296)}),await addDoc(collection(db,_0x1fd1fd),{'player':_0x2de03d,'previousElo':_0x56efe7,'newElo':_0x53fe3c['elo'],'timestamp':serverTimestamp(),'type':_0x5a5055(0x2ba),'rankAchieved':_0x53fe3c['name'],'promotedBy':_0x24aef1[_0x5a5055(0x438)]||'admin','gameMode':_0x377e83});try{const {promotionManager:_0x550173}=await import(_0x5a5055(0x5ff)),_0x574070=_0x550173['getRankName'](_0x56efe7),_0x3a993d=_0x53fe3c[_0x5a5055(0x4bc)];await _0x550173['sendPromotionNotification'](_0xa49d8,_0x2de03d,_0x56efe7,_0x53fe3c[_0x5a5055(0x21e)],_0x574070,_0x3a993d,_0x5a5055(0x2ba),{'displayName':_0x2de03d,'source':_0x5a5055(0x296),'adminUser':_0x24aef1['email'],'ladder':_0x377e83}),console['log']('Promotion\x20notification\x20sent\x20to\x20Discord\x20bot');}catch(_0x2e923e){console['error'](_0x5a5055(0x4da),_0x2e923e);}return alert(_0x5a5055(0x57b)+_0x2de03d+_0x5a5055(0x4aa)+_0x53fe3c[_0x5a5055(0x4bc)]+'\x20('+_0x53fe3c[_0x5a5055(0x21e)]+')'),currentLadder===_0x377e83&&(loadPlayersData(),loadEloHistory(0x1)),!![];}catch(_0xa37f28){console[_0x5a5055(0x4a3)](_0x5a5055(0x608),_0xa37f28),alert(_0x5a5055(0x336)+_0xa37f28['message']);throw _0xa37f28;}}document[a4_0x3e5318(0x3c5)](a4_0x3e5318(0x486),()=>{const _0x2a3043=a4_0x3e5318,_0x994786=document[_0x2a3043(0x3e8)]('promote-form');_0x994786&&_0x994786['addEventListener'](_0x2a3043(0x385),async _0x36b6f2=>{const _0x27d374=_0x2a3043;_0x36b6f2['preventDefault']();const _0x1ed00a=document[_0x27d374(0x3e8)](_0x27d374(0x55b))[_0x27d374(0x475)][_0x27d374(0x52a)](),_0x3a1650=document[_0x27d374(0x3f7)](_0x27d374(0x273))['value'];if(!_0x1ed00a){alert(_0x27d374(0x1d1));return;}try{await promotePlayer(_0x1ed00a,_0x3a1650),document[_0x27d374(0x3e8)](_0x27d374(0x264))['classList'][_0x27d374(0x49f)](_0x27d374(0x4f5)),document[_0x27d374(0x3e8)](_0x27d374(0x55b))[_0x27d374(0x475)]='';}catch(_0x3f2350){console[_0x27d374(0x4a3)](_0x27d374(0x32c),_0x3f2350);}});});async function demotePlayer(_0x5c2ed4,_0x523a6f){const _0x38c616=a4_0x3e5318;try{console[_0x38c616(0x5cd)](_0x38c616(0x2ee)+_0x5c2ed4+_0x38c616(0x32d)+_0x523a6f+'\x20ladder');const _0x458ba2=auth['currentUser'];if(!_0x458ba2)throw new Error(_0x38c616(0x533));const _0x28eff1=_0x523a6f==='D2'?_0x38c616(0x29c):_0x38c616(0x27c),_0x509554=_0x523a6f==='D2'?'eloHistoryD2':_0x38c616(0x584);console[_0x38c616(0x5cd)](_0x38c616(0x420)+_0x28eff1);const _0x58d9af=collection(db,_0x28eff1),_0x1ef26b=query(_0x58d9af,where('username','==',_0x5c2ed4)),_0x11fbe0=await getDocs(_0x1ef26b);if(_0x11fbe0[_0x38c616(0x42f)]){alert(_0x38c616(0x5db)+_0x523a6f+'\x20ladder');throw new Error('Player\x20not\x20found\x20in\x20'+_0x523a6f+_0x38c616(0x2bb));}const _0x7eb3fb=_0x11fbe0[_0x38c616(0x263)][0x0],_0x427957=_0x7eb3fb[_0x38c616(0x416)](),_0x513167=_0x427957[_0x38c616(0x4c5)]||0x4b0;console[_0x38c616(0x5cd)]('Found\x20player\x20with\x20current\x20ELO:\x20'+_0x513167);const _0xd11bf5=[{'name':_0x38c616(0x2bc),'elo':0x708},{'name':_0x38c616(0x310),'elo':0x640},{'name':_0x38c616(0x4a6),'elo':0x578},{'name':_0x38c616(0x1f3),'elo':0x4b0}];let _0x3505ef=_0xd11bf5[_0x38c616(0x2df)](_0x5d608f=>_0x5d608f['elo']<_0x513167);if(!_0x3505ef){alert(_0x38c616(0x3a4)+_0x523a6f+_0x38c616(0x2bb));throw new Error('Player\x20is\x20already\x20at\x20minimum\x20rank\x20(Unranked)\x20in\x20'+_0x523a6f+_0x38c616(0x2bb));}console[_0x38c616(0x5cd)](_0x38c616(0x2f7)+_0x3505ef['name']+'\x20('+_0x3505ef[_0x38c616(0x21e)]+')'),await updateDoc(doc(db,_0x28eff1,_0x7eb3fb['id']),{'eloRating':_0x3505ef[_0x38c616(0x21e)],'lastDemotedAt':serverTimestamp(),'demotedBy':_0x458ba2['email']||_0x38c616(0x296)}),await addDoc(collection(db,_0x509554),{'player':_0x5c2ed4,'previousElo':_0x513167,'newElo':_0x3505ef['elo'],'timestamp':serverTimestamp(),'type':_0x38c616(0x4cc),'rankAchieved':_0x3505ef[_0x38c616(0x4bc)],'demotedBy':_0x458ba2[_0x38c616(0x438)]||'admin','gameMode':_0x523a6f});try{const {promotionManager:_0x2b1506}=await import(_0x38c616(0x5ff)),_0x102165=_0x2b1506[_0x38c616(0x4fe)](_0x513167),_0x12563d=_0x3505ef['name'];await _0x2b1506[_0x38c616(0x47f)](_0x7eb3fb['id'],_0x5c2ed4,_0x513167,_0x3505ef[_0x38c616(0x21e)],_0x102165,_0x12563d,_0x38c616(0x4cc),{'displayName':_0x5c2ed4,'source':_0x38c616(0x296),'adminUser':_0x458ba2[_0x38c616(0x438)],'ladder':_0x523a6f}),console[_0x38c616(0x5cd)](_0x38c616(0x270));}catch(_0x1d1ae0){console[_0x38c616(0x4a3)](_0x38c616(0x4da),_0x1d1ae0);}return alert(_0x38c616(0x4c2)+_0x5c2ed4+_0x38c616(0x4aa)+_0x3505ef['name']+'\x20('+_0x3505ef[_0x38c616(0x21e)]+')'),currentLadder===_0x523a6f&&(loadPlayersData(),loadEloHistory(0x1)),!![];}catch(_0x4db531){console[_0x38c616(0x4a3)](_0x38c616(0x2b0),_0x4db531),alert(_0x38c616(0x301)+_0x4db531['message']);throw _0x4db531;}}document[a4_0x3e5318(0x3c5)](a4_0x3e5318(0x486),()=>{const _0x5405fe=a4_0x3e5318,_0x2e70fc=document[_0x5405fe(0x3e8)]('demote-form');_0x2e70fc&&_0x2e70fc['addEventListener'](_0x5405fe(0x385),async _0x2ba28d=>{const _0x2c6349=_0x5405fe;_0x2ba28d[_0x2c6349(0x575)]();const _0x58467f=document[_0x2c6349(0x3e8)]('demote-username')['value'][_0x2c6349(0x52a)](),_0x569dc2=document['querySelector']('input[name=\x22demote-ladder\x22]:checked')[_0x2c6349(0x475)];if(!_0x58467f){alert(_0x2c6349(0x1d1));return;}try{await demotePlayer(_0x58467f,_0x569dc2),document['getElementById'](_0x2c6349(0x558))[_0x2c6349(0x556)][_0x2c6349(0x49f)]('active'),document[_0x2c6349(0x3e8)]('demote-username')[_0x2c6349(0x475)]='';}catch(_0x124ed4){console[_0x2c6349(0x4a3)](_0x2c6349(0x58b),_0x124ed4);}});});async function setCustomElo(_0x823d9,_0x71140c,_0x3c3f2b){const _0x3ffbaf=a4_0x3e5318;try{const _0x27cdbc=auth[_0x3ffbaf(0x3e4)];if(!_0x27cdbc||!isAdmin(_0x27cdbc['email']))throw new Error(_0x3ffbaf(0x30a));const _0x187cd1=_0x3c3f2b==='D2'?_0x3ffbaf(0x29c):_0x3ffbaf(0x27c),_0x59c2b3=_0x3c3f2b==='D2'?_0x3ffbaf(0x41c):_0x3ffbaf(0x584),_0x2352e6=collection(db,_0x187cd1),_0x3b6c03=query(_0x2352e6,where(_0x3ffbaf(0x527),'==',_0x823d9)),_0x500c4d=await getDocs(_0x3b6c03);if(_0x500c4d[_0x3ffbaf(0x42f)])throw new Error(_0x3ffbaf(0x5db)+_0x3c3f2b+_0x3ffbaf(0x2bb));const _0x372064=_0x500c4d['docs'][0x0],_0x222519=_0x372064['data'](),_0x22853b=_0x222519[_0x3ffbaf(0x4c5)]||0x4b0,_0x5d47d7=writeBatch(db);_0x5d47d7[_0x3ffbaf(0x3b8)](doc(db,_0x187cd1,_0x372064['id']),{'eloRating':_0x71140c,'lastModifiedAt':serverTimestamp(),'lastModifiedBy':_0x27cdbc[_0x3ffbaf(0x438)]});const _0x19faf4=doc(collection(db,_0x59c2b3));return _0x5d47d7[_0x3ffbaf(0x421)](_0x19faf4,{'player':_0x823d9,'previousElo':_0x22853b,'newElo':_0x71140c,'timestamp':serverTimestamp(),'type':_0x3ffbaf(0x456),'modifiedBy':_0x27cdbc[_0x3ffbaf(0x438)],'gameMode':_0x3c3f2b}),await _0x5d47d7[_0x3ffbaf(0x228)](),showNotification(_0x3ffbaf(0x2cc)+_0x823d9+_0x3ffbaf(0x304)+_0x22853b+_0x3ffbaf(0x4aa)+_0x71140c,_0x3ffbaf(0x4b8)),currentLadder===_0x3c3f2b&&(loadDashboardOverview(),loadPlayersData(),loadEloHistory(0x1)),!![];}catch(_0x5b1448){console[_0x3ffbaf(0x4a3)](_0x3ffbaf(0x31b),_0x5b1448);throw _0x5b1448;}}async function setUserRole(_0x45de95,_0x1e57fb,_0x129ca5){const _0x1a8e68=a4_0x3e5318;try{const _0x473601=auth[_0x1a8e68(0x3e4)];if(!_0x473601||!isAdmin(_0x473601['email']))throw new Error(_0x1a8e68(0x30a));const _0x18ff86=_0x1e57fb?_0x1e57fb['trim']():null,_0x4d38e6=_0x18ff86?_0x129ca5||_0x1a8e68(0x5d3):null,[_0x3d7445,_0x410002]=await Promise[_0x1a8e68(0x600)]([getDocs(query(collection(db,'players'),where('username','==',_0x45de95))),getDocs(query(collection(db,_0x1a8e68(0x29c)),where(_0x1a8e68(0x527),'==',_0x45de95)))]),_0x318832=[];if(!_0x3d7445[_0x1a8e68(0x42f)])_0x318832[_0x1a8e68(0x2b5)]({'ref':_0x3d7445[_0x1a8e68(0x263)][0x0][_0x1a8e68(0x3b6)],'source':'D1'});if(!_0x410002['empty'])_0x318832[_0x1a8e68(0x2b5)]({'ref':_0x410002[_0x1a8e68(0x263)][0x0]['ref'],'source':'D2'});if(_0x318832[_0x1a8e68(0x541)]===0x0){const [_0x6d9a33,_0x153440]=await Promise[_0x1a8e68(0x600)]([getDocs(query(collection(db,'nonParticipants'),where('username','==',_0x45de95))),getDocs(query(collection(db,'userProfiles'),where(_0x1a8e68(0x527),'==',_0x45de95)))]);if(!_0x6d9a33[_0x1a8e68(0x42f)])_0x318832[_0x1a8e68(0x2b5)]({'ref':_0x6d9a33[_0x1a8e68(0x263)][0x0][_0x1a8e68(0x3b6)],'source':_0x1a8e68(0x62e)});if(!_0x153440['empty'])_0x318832[_0x1a8e68(0x2b5)]({'ref':_0x153440[_0x1a8e68(0x263)][0x0][_0x1a8e68(0x3b6)],'source':_0x1a8e68(0x2fa)});}if(_0x318832['length']===0x0)throw new Error('User\x20\x22'+_0x45de95+_0x1a8e68(0x20f));const _0x17bd0a=writeBatch(db);_0x318832[_0x1a8e68(0x5ae)](_0x1b9d51=>{const _0x489a3e=_0x1a8e68;console[_0x489a3e(0x5cd)](_0x489a3e(0x3bd)+_0x45de95+_0x489a3e(0x32d)+_0x1b9d51['source']),!_0x18ff86?_0x17bd0a[_0x489a3e(0x3b8)](_0x1b9d51[_0x489a3e(0x3b6)],{'roleName':deleteField(),'roleColor':deleteField(),'roleAssignedBy':deleteField(),'roleAssignedAt':deleteField()}):_0x17bd0a[_0x489a3e(0x3b8)](_0x1b9d51['ref'],{'roleName':_0x18ff86,'roleColor':_0x4d38e6,'roleAssignedBy':_0x473601[_0x489a3e(0x438)],'roleAssignedAt':serverTimestamp()});}),await _0x17bd0a[_0x1a8e68(0x228)]();const _0x42fd34=_0x18ff86?_0x1a8e68(0x3d2)+_0x18ff86+_0x1a8e68(0x354):_0x1a8e68(0x4a1);return showNotification(_0x42fd34+_0x1a8e68(0x4d3)+_0x45de95+'\x22','success'),!![];}catch(_0x3d91f5){console['error'](_0x1a8e68(0x243),_0x3d91f5),showNotification(_0x1a8e68(0x4fd)+_0x3d91f5[_0x1a8e68(0x528)],_0x1a8e68(0x4a3));throw _0x3d91f5;}}function showNotification(_0x56bf34,_0x20f389=a4_0x3e5318(0x471)){const _0x135206=a4_0x3e5318,_0x55a1d1=document[_0x135206(0x26b)]('div');_0x55a1d1[_0x135206(0x294)]=_0x135206(0x349)+_0x20f389,_0x55a1d1['innerHTML']=_0x135206(0x389)+getNotificationIcon(_0x20f389)+_0x135206(0x537)+_0x56bf34+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22close-notification\x22></button>\x0a\x20\x20\x20\x20',document[_0x135206(0x469)][_0x135206(0x45a)](_0x55a1d1),setTimeout(()=>{const _0x25fa01=_0x135206;_0x55a1d1[_0x25fa01(0x556)]['add'](_0x25fa01(0x4f5));},0xa);const _0x3fff28=setTimeout(()=>{closeNotification(_0x55a1d1);},0x1388);_0x55a1d1[_0x135206(0x3f7)](_0x135206(0x52d))['addEventListener'](_0x135206(0x434),()=>{clearTimeout(_0x3fff28),closeNotification(_0x55a1d1);});}function getNotificationIcon(_0x185578){const _0x110c6c=a4_0x3e5318;switch(_0x185578){case'success':return _0x110c6c(0x57c);case _0x110c6c(0x4a3):return'fa-exclamation-circle';case _0x110c6c(0x637):return _0x110c6c(0x5a5);case _0x110c6c(0x471):default:return _0x110c6c(0x4b3);}}function closeNotification(_0x5c95d6){const _0x5e034f=a4_0x3e5318;_0x5c95d6[_0x5e034f(0x556)][_0x5e034f(0x49f)](_0x5e034f(0x4f5)),setTimeout(()=>{_0x5c95d6['remove']();},0x12c);}function setupUserRolesSection(){const _0x18a3c0=a4_0x3e5318,_0xb940e8=document[_0x18a3c0(0x3e8)](_0x18a3c0(0x352));_0xb940e8&&_0xb940e8[_0x18a3c0(0x3c5)](_0x18a3c0(0x434),function(){const _0x2878ab=_0x18a3c0;this[_0x2878ab(0x556)][_0x2878ab(0x616)]('loading'),this['innerHTML']=_0x2878ab(0x501),loadUsersWithRoles()['then'](()=>{const _0x120d31=_0x2878ab;this['classList'][_0x120d31(0x49f)]('loading'),this['innerHTML']=_0x120d31(0x3c7);})[_0x2878ab(0x1d6)](_0x3f8315=>{const _0x4635aa=_0x2878ab;console[_0x4635aa(0x4a3)](_0x4635aa(0x4a2),_0x3f8315),this[_0x4635aa(0x556)][_0x4635aa(0x49f)](_0x4635aa(0x50f)),this[_0x4635aa(0x29f)]=_0x4635aa(0x485),setTimeout(()=>{const _0x3ca85e=_0x4635aa;this[_0x3ca85e(0x29f)]=_0x3ca85e(0x3c7);},0xbb8);});});const _0x36a030=document['getElementById'](_0x18a3c0(0x4ba));_0x36a030&&_0x36a030[_0x18a3c0(0x3c5)]('click',()=>{const _0x465fd9=_0x18a3c0,_0x4ab6d3=document['getElementById']('set-role-modal');_0x4ab6d3&&_0x4ab6d3[_0x465fd9(0x556)][_0x465fd9(0x616)](_0x465fd9(0x4f5));});const _0x5a1dfa=document[_0x18a3c0(0x3e8)](_0x18a3c0(0x493));_0x5a1dfa&&_0x5a1dfa[_0x18a3c0(0x3c5)](_0x18a3c0(0x4ee),debounce(filterUsersTable,0x12c));const _0x556353=document[_0x18a3c0(0x3e8)](_0x18a3c0(0x309));_0x556353&&_0x556353['addEventListener'](_0x18a3c0(0x5a1),filterUsersTable);}async function loadUsersWithRoles(){const _0x412851=a4_0x3e5318,_0x183ace=document[_0x412851(0x3e8)](_0x412851(0x40b));if(!_0x183ace)return;_0x183ace[_0x412851(0x29f)]='<tr><td\x20colspan=\x225\x22\x20class=\x22loading-cell\x22>Loading\x20users...</td></tr>';try{const [_0x149e45,_0xcfd03a,_0x50c688,_0xa0c669]=await Promise[_0x412851(0x600)]([getDocs(collection(db,_0x412851(0x27c))),getDocs(collection(db,_0x412851(0x29c))),getDocs(collection(db,_0x412851(0x365))),getDocs(collection(db,_0x412851(0x295)))]),_0x55999b=new Map();function _0x2183c7(_0x215e77,_0x239976){const _0x43d906=_0x412851;_0x215e77[_0x43d906(0x5ae)](_0x35de3a=>{const _0x3e0150=_0x43d906,_0x142dd7=_0x35de3a[_0x3e0150(0x416)]();if(!_0x142dd7[_0x3e0150(0x527)])return;if(!_0x55999b[_0x3e0150(0x2e5)](_0x142dd7[_0x3e0150(0x527)]))_0x55999b[_0x3e0150(0x421)](_0x142dd7['username'],{'username':_0x142dd7[_0x3e0150(0x527)],'roleName':_0x142dd7[_0x3e0150(0x4cb)]||null,'roleColor':_0x142dd7[_0x3e0150(0x23d)]||null,'roleAssignedBy':_0x142dd7[_0x3e0150(0x551)]||null,'roleAssignedAt':_0x142dd7[_0x3e0150(0x37d)]||null,'sources':[_0x239976]});else{const _0x71a64=_0x55999b['get'](_0x142dd7[_0x3e0150(0x527)]);_0x142dd7[_0x3e0150(0x4cb)]&&(!_0x71a64[_0x3e0150(0x4cb)]||_0x239976==='D1'||_0x239976==='D2')&&(_0x71a64['roleName']=_0x142dd7[_0x3e0150(0x4cb)],_0x71a64[_0x3e0150(0x23d)]=_0x142dd7['roleColor'],_0x71a64[_0x3e0150(0x551)]=_0x142dd7['roleAssignedBy'],_0x71a64[_0x3e0150(0x37d)]=_0x142dd7['roleAssignedAt']),!_0x71a64['sources'][_0x3e0150(0x364)](_0x239976)&&_0x71a64[_0x3e0150(0x487)][_0x3e0150(0x2b5)](_0x239976);}});}_0x2183c7(_0x149e45,'D1'),_0x2183c7(_0xcfd03a,'D2'),_0x2183c7(_0x50c688,_0x412851(0x3ec)),_0x2183c7(_0xa0c669,'Profile');const _0x5699cd=Array[_0x412851(0x366)](_0x55999b['values']())[_0x412851(0x46f)]((_0x28ac4f,_0x4edf91)=>_0x28ac4f['username'][_0x412851(0x57f)](_0x4edf91[_0x412851(0x527)]));if(_0x5699cd[_0x412851(0x541)]===0x0){_0x183ace[_0x412851(0x29f)]=_0x412851(0x1e9);return;}_0x183ace[_0x412851(0x29f)]='',_0x5699cd[_0x412851(0x5ae)](_0x444058=>{const _0x3f0489=_0x412851,_0x1a207b=document[_0x3f0489(0x26b)]('tr');_0x1a207b['dataset'][_0x3f0489(0x527)]=_0x444058[_0x3f0489(0x527)],_0x1a207b[_0x3f0489(0x390)][_0x3f0489(0x4cb)]=_0x444058[_0x3f0489(0x4cb)]||'',_0x1a207b[_0x3f0489(0x390)][_0x3f0489(0x23d)]=_0x444058['roleColor']||_0x3f0489(0x5d3);const _0x11e07d=_0x444058[_0x3f0489(0x37d)]?new Date(_0x444058[_0x3f0489(0x37d)][_0x3f0489(0x27b)]*0x3e8)[_0x3f0489(0x569)]():'N/A',_0x439286=_0x444058[_0x3f0489(0x4cb)]?_0x3f0489(0x58d)+_0x444058[_0x3f0489(0x23d)]+_0x3f0489(0x447)+getContrastColor(_0x444058['roleColor'])+_0x3f0489(0x582)+_0x444058['roleName']+'</span>':_0x3f0489(0x28b);_0x1a207b[_0x3f0489(0x29f)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x444058[_0x3f0489(0x527)]+'\x20<span\x20class=\x22user-source\x22>('+_0x444058[_0x3f0489(0x487)]['join'](',\x20')+_0x3f0489(0x272)+_0x439286+_0x3f0489(0x35e)+(_0x444058[_0x3f0489(0x551)]||'N/A')+_0x3f0489(0x35e)+_0x11e07d+_0x3f0489(0x5b6)+_0x444058['username']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-edit\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x444058[_0x3f0489(0x4cb)]?_0x3f0489(0x3a0)+_0x444058[_0x3f0489(0x527)]+'\x22\x20title=\x22Remove\x20Role\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20<!--\x20Changed\x20icon\x20-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+_0x3f0489(0x467),_0x183ace[_0x3f0489(0x45a)](_0x1a207b);}),document[_0x412851(0x534)](_0x412851(0x53e))['forEach'](_0x29de4c=>{const _0x919be9=_0x412851;_0x29de4c[_0x919be9(0x3c5)](_0x919be9(0x434),()=>{const _0x7b0c7b=_0x919be9,_0x1652ee=_0x29de4c['dataset'][_0x7b0c7b(0x527)];openRoleEditModal(_0x1652ee);});}),document[_0x412851(0x534)]('.remove-role-btn')['forEach'](_0x5664a2=>{const _0xe0f355=_0x412851;_0x5664a2[_0xe0f355(0x3c5)]('click',()=>{const _0x5a788a=_0xe0f355,_0x4959a7=_0x5664a2[_0x5a788a(0x390)][_0x5a788a(0x527)];confirm(_0x5a788a(0x289)+_0x4959a7+'?')&&setUserRole(_0x4959a7,null,null)[_0x5a788a(0x46e)](()=>loadUsersWithRoles())[_0x5a788a(0x1d6)](_0x341f45=>console[_0x5a788a(0x4a3)](_0x5a788a(0x49c),_0x341f45));});});}catch(_0x96f327){console[_0x412851(0x4a3)](_0x412851(0x4a2),_0x96f327),_0x183ace[_0x412851(0x29f)]='<tr><td\x20colspan=\x225\x22\x20class=\x22error-state\x22>Error\x20loading\x20users</td></tr>';}}function openRoleEditModal(_0x247b1a){const _0x476d46=a4_0x3e5318;console[_0x476d46(0x5cd)](_0x476d46(0x3ad),_0x247b1a);const _0x2ba4bb=document[_0x476d46(0x3e8)]('set-role-modal'),_0x42e7ad=document[_0x476d46(0x3e8)](_0x476d46(0x4f4)),_0x18423a=document['getElementById'](_0x476d46(0x388));if(!_0x2ba4bb){console[_0x476d46(0x4a3)](_0x476d46(0x53b)),alert(_0x476d46(0x5bb));return;}console[_0x476d46(0x5cd)](_0x476d46(0x358),_0x2ba4bb);_0x42e7ad?(_0x42e7ad[_0x476d46(0x475)]=_0x247b1a,console[_0x476d46(0x5cd)]('Username\x20input\x20set\x20to:\x20'+_0x247b1a)):console['warn'](_0x476d46(0x2d3));const _0x962835=document[_0x476d46(0x3f7)](_0x476d46(0x214)+_0x247b1a+'\x22]');if(_0x962835&&_0x18423a){const _0x3a6a9c=_0x962835['dataset'][_0x476d46(0x21f)];_0x18423a[_0x476d46(0x475)]=_0x3a6a9c==='none'?'':_0x3a6a9c,console['log'](_0x476d46(0x1ff)+_0x18423a['value']+_0x476d46(0x60b)+_0x3a6a9c+')');}else{if(!_0x962835)console[_0x476d46(0x229)](_0x476d46(0x48a)+_0x247b1a+'\x20not\x20found.');if(!_0x18423a)console['warn'](_0x476d46(0x3f6));if(_0x18423a)_0x18423a[_0x476d46(0x475)]='';}console[_0x476d46(0x5cd)](_0x476d46(0x444)),_0x2ba4bb['classList']['add']('active');const _0x2efa91=document['getElementById'](_0x476d46(0x5c8));_0x2efa91?(console[_0x476d46(0x5cd)](_0x476d46(0x418)),_0x2efa91['removeEventListener'](_0x476d46(0x434),closeModalHandler),_0x2efa91[_0x476d46(0x3c5)](_0x476d46(0x434),closeModalHandler)):console[_0x476d46(0x229)](_0x476d46(0x519)),console[_0x476d46(0x5cd)](_0x476d46(0x476)),_0x2ba4bb[_0x476d46(0x4ef)](_0x476d46(0x434),closeModalBackgroundHandler),_0x2ba4bb['addEventListener']('click',closeModalBackgroundHandler);}function closeModalBackgroundHandler(_0x28e203){const _0x7c1cc=a4_0x3e5318;_0x28e203[_0x7c1cc(0x1de)]===this&&closeModalHandler();}function closeModalHandler(){const _0x550960=a4_0x3e5318,_0x20fef8=document['getElementById'](_0x550960(0x2ca));_0x20fef8&&(_0x20fef8['classList']['remove'](_0x550960(0x4f5)),_0x20fef8['removeEventListener'](_0x550960(0x434),closeModalBackgroundHandler));}function filterUsersTable(){const _0x40f717=a4_0x3e5318,_0x27792d=document[_0x40f717(0x3e8)](_0x40f717(0x493))?.[_0x40f717(0x475)][_0x40f717(0x41f)]()||'',_0x487233=document[_0x40f717(0x3e8)](_0x40f717(0x309))?.[_0x40f717(0x475)]||'all',_0x2b3495=document[_0x40f717(0x534)]('#users-table-body\x20tr');let _0x2644fd=0x0;_0x2b3495[_0x40f717(0x5ae)](_0x1e3bd9=>{const _0x1ff1fd=_0x40f717;if(_0x1e3bd9[_0x1ff1fd(0x3f7)](_0x1ff1fd(0x34c))||_0x1e3bd9[_0x1ff1fd(0x3f7)]('.empty-state')||_0x1e3bd9[_0x1ff1fd(0x3f7)]('.error-state'))return;const _0x1664a5=_0x1e3bd9[_0x1ff1fd(0x390)][_0x1ff1fd(0x527)]?.[_0x1ff1fd(0x41f)]()||'',_0x50b183=_0x1e3bd9[_0x1ff1fd(0x390)][_0x1ff1fd(0x21f)]||'none',_0x1f62b0=_0x1664a5[_0x1ff1fd(0x364)](_0x27792d),_0x58dc92=_0x487233==='all'||_0x50b183===_0x487233;_0x1f62b0&&_0x58dc92?(_0x1e3bd9[_0x1ff1fd(0x432)][_0x1ff1fd(0x535)]='',_0x2644fd++):_0x1e3bd9['style']['display']=_0x1ff1fd(0x2fc);});if(_0x2644fd===0x0&&_0x2b3495[_0x40f717(0x541)]>0x0){const _0x1fb978=document['getElementById'](_0x40f717(0x40b));if(_0x1fb978){if(!_0x1fb978[_0x40f717(0x3f7)](_0x40f717(0x4ed))){const _0x40f0c5=document[_0x40f717(0x26b)]('tr');_0x40f0c5[_0x40f717(0x556)][_0x40f717(0x616)]('no-results'),_0x40f0c5[_0x40f717(0x29f)]=_0x40f717(0x53a),_0x1fb978[_0x40f717(0x45a)](_0x40f0c5);}}}else{const _0x2e0585=document[_0x40f717(0x3f7)](_0x40f717(0x4ed));_0x2e0585&&_0x2e0585[_0x40f717(0x49f)]();}}function a4_0x48e2(){const _0x1608d0=['map','.form-group,\x20.form-row','assign-trophy-name','Error\x20removing\x20role:','.close-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22match-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4>Match\x20Details:</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Winner:</strong>\x20','remove','data-match-id','Role\x20removed','Error\x20loading\x20users:','error','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22admin-action\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22user-email\x22>','Bronze','edit-losses','Never\x20played','trophy-image-url','\x20to\x20','ribbon-target-user','inactive-players','<tr><td\x20colspan=\x227\x22\x20class=\x22empty-state\x22>No\x20matches\x20found</td></tr>','View\x20history\x20clicked\x20for\x20user:','#players-table-body\x20tr','set-elo-btn','create-new-trophy-btn','Failed\x20to\x20update\x20player:\x20','fa-info-circle','Please\x20fill\x20all\x20fields','#ffffff','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22points-change\x20','Player\x20updated\x20successfully','success','TestMap','add-new-role-btn','set-elo-username','name','#d32f2f','playerProfileUrl','YouTube\x20Video\x20ID\x20(Optional)','Starting\x20points\x20field\x20initialization\x20for\x20all\x20users...','location','Successfully\x20demoted\x20','Modal\x20computed\x20styles:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-article-btn\x22\x20data-id=\x22','eloRating','Failed\x20to\x20delete\x20player:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','.error-state','Error\x20loading\x20ELO\x20history:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Current\x20Winner\x20Position:</strong>\x20','roleName','demotion','input[name=\x22quick-action\x22]:checked','player','highlight-type','resimulate-match-id','<tr><td\x20colspan=\x224\x22\x20class=\x22empty-state\x22>No\x20articles\x20found</td></tr>','elo-history-search','\x20for\x20user\x20\x22','Won','No\x20matches\x20found','manage-matches','\x20collection...','<tr><td\x20colspan=\x225\x22\x20class=\x22error-state\x22>Error\x20loading\x20users:\x20','View\x20player\x20details\x20for\x20','Failed\x20to\x20send\x20Discord\x20notification:','position','Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20highlight?\x20This\x20cannot\x20be\x20undone.','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Matches','Query\x20executed.\x20Empty:','Error\x20searching\x20user:','matchId','Error\x20loading\x20highlights:','edit-highlight-id','Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20article?\x20This\x20action\x20cannot\x20be\x20undone.','Could\x20not\x20find\x20player\x20documents','.form-group','trophy-rarity','highlight-map-version-container','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22assign-trophy-btn\x22\x20data-id=\x22','#inactive-players-table-body\x20tr','reset-history-filters','Friday','Create\x20New\x20Trophy','.no-results','input','removeEventListener','Added\x20','\x20with\x20ELO\x20','bind','Highlight','role-username','active','inactive-players-search','match-count','Error\x20initializing\x20points:\x20','No\x20users\x20needed\x20points\x20field\x20initialization','Delete\x20Trophy:\x20No\x20trophy\x20ID\x20provided.','loserScore','Create\x20test\x20match\x20modal\x20not\x20found','Error:\x20','getRankName','initial_placement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x226\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20highlights:\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...','cloneNode','cells','\x22\x20title=\x22View\x20Points\x20History\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-history\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Load\x20highlights\x20data\x20clicked','Close\x20button\x20not\x20found\x20in\x20quick\x20edit\x20modal','L\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-btn\x22\x20data-id=\x22','Found\x20radio\x20with\x20value:','lastMatch','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22rank\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22rank-badge\x22\x20style=\x22background-color:\x20','doughnut','You\x20must\x20be\x20logged\x20in\x20to\x20save\x20trophies','values','240003hCGzPQ','loading','playersD3','Invalid\x20action','insertAdjacentElement','Match','No\x20user\x20ID\x20found\x20on\x20button','edit-highlight-mapCreator-input','<tr><td\x20colspan=\x226\x22\x20class=\x22loading-cell\x22>Loading\x20history...</td></tr>','Error\x20initializing\x20points\x20field:','href','Cancel\x20button\x20(#cancel-role-btn)\x20not\x20found\x20in\x20modal.','<i\x20class=\x22fas\x20fa-times\x22></i>\x20No','Failed\x20to\x20resimulate\x20match:\x20','destroy','Found\x20','Error\x20loading\x20inactive\x20players:','Error\x20loading\x20trophies:','playerRibbons','rgba(211,\x2047,\x2047,\x200.7)','Load\x20inactive\x20players\x20data\x20clicked','quick-edit-current-points','cancel-edit-btn','assign-trophy-form','player-search','username','message','Page\x201','trim','points-management-forms','#trophy-modal\x20.close-btn,\x20#assign-trophy-modal\x20.close-btn','.close-notification','points','history-type-filter','Auth:','button[type=\x22submit\x22]','create-test-match-btn','You\x20must\x20be\x20logged\x20in\x20to\x20perform\x20this\x20action','querySelectorAll','display','rgba(255,\x20193,\x207,\x200.1)','\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','userTrophies','Error\x20opening\x20edit\x20modal:','<td\x20colspan=\x225\x22\x20class=\x22empty-state\x22>No\x20users\x20match\x20your\x20filters</td>','CRITICAL:\x20Role\x20modal\x20element\x20(#set-role-modal)\x20not\x20found\x20in\x20the\x20DOM!','No\x20ELO\x20history\x20found\x20for\x20player\x20','winnerScore','.edit-role-btn','Unknown\x20User','edit-highlight-matchLink-input','length','Article\x20not\x20found','Error\x20modifying\x20points:','allUsersPoints','elo-history','Deleting\x20match...','Trophy\x20updated\x20successfully','manage-highlights','Error\x20loading\x20user\x20points\x20history:','Achievement','Setting\x20up\x20Manage\x20Articles\x20section\x20-\x20Found\x20Create\x20Article\x20button.','trophy-description','quick-edit-display-name','assign-trophy-rarity','Error\x20loading\x20match\x20for\x20deletion:','\x20users\x20to\x20check...','roleAssignedBy','trophy-modal','current-ribbons-list','\x20matches\x20for\x20','Create\x20test\x20match\x20form\x20not\x20found\x20in\x20DOM','classList','Error\x20searching\x20users:','demote-modal','Error\x20loading\x20match\x20data:','trophyDefinitions','promote-username','No\x20description','cancel-assign-btn','date','manage-players','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x226\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20players:\x20','award-item-form','Quick\x20edit\x20modal\x20not\x20found\x20in\x20DOM!','trophy-preview-img','DB:','#elo-history-table-body\x20tr','Edit\x20Article','Role\x20\x27','Create\x20Article','toLocaleDateString','cancel-promote-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22new-elo\x22>','modifiedBy','Error\x20loading\x20article\x20data:','history-start-date','Ribbons\x20data\x20loaded\x20successfully','Modal\x20not\x20found\x20when\x20trying\x20to\x20close','load-trophies-data','Complete\x20resimulation\x20-\x20ELO\x20ratings\x20and\x20positions\x20recalculated','match-row','amount','preventDefault','setHours','Modal\x20should\x20now\x20be\x20visible','\x20users.\x20','#CD7F32','article-modal','Successfully\x20promoted\x20','fa-check-circle','input[name=\x22test-match-ladder\x22][value=\x22D1\x22]','no-results-message','localeCompare','approvedMatches','page',';\x22>','Featured\x20Creator','eloHistory','pointsHistory','189665MqWWYa','timestamp','highlight-video-container','match-details-container','20px','Error\x20in\x20demotion:','validation-results-container','<span\x20class=\x22role-badge\x22\x20style=\x22background-color:\x20','Failed\x20to\x20load\x20points\x20data:\x20','demote-username','toLocaleString','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22elo-change\x20','ribbons','Found\x20player\x20with\x20current\x20ELO:\x20','winnerComment','Load\x20users\x20data\x20clicked','closeResimulateModal','mapCreator','achievementImageUrl','article-id','Creating\x20test\x20match\x20without\x20player\x20validation...','Looking\x20for\x20user\x20role\x20information\x20for\x20','Loaded\x20','rgba(255,\x20255,\x20255,\x200.1)','Loading\x20points\x20data...','uid','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','change','cancel-article-btn','non-participant','Match\x20not\x20found\x20in\x20approved\x20matches','fa-exclamation-triangle','create-match-highlight-btn','creatorImageUrl','Admin\x20Adjustment','bar','Error\x20saving\x20trophy:','Edit\x20Match:\x20','d2-next-page','winnerName','forEach','edit-highlight-description-input','edit-match-winner-suicides','Failed\x20to\x20load\x20player\x20data','toDate','highlight-description','Error\x20saving\x20article:','Failed\x20to\x20delete\x20match:\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-role-btn\x22\x20data-username=\x22','points-overview-search','Displaying\x20','highlight-player-profile-container','Quick\x20edit\x20modal\x20not\x20found!\x20Make\x20sure\x20the\x20HTML\x20element\x20exists.','Error:\x20Could\x20not\x20find\x20the\x20role\x20editing\x20dialog.','Quick\x20edit\x20clicked\x20for\x20user:','Error\x20deleting\x20highlight:','losses','Setup\x20Manage\x20Articles:\x20Create\x20Article\x20button\x20not\x20found!','startDate','<tr><td\x20colspan=\x227\x22\x20class=\x22empty-state\x22>No\x20inactive\x20players\x20match\x20your\x20criteria</td></tr>','highlight-creator-image','Testing\x20Firebase\x20connection...','edit-highlight-videoId-input','highlight-winner-score','history-end-date','Essential\x20highlight\x20modal\x20elements\x20not\x20found!','cancel-role-btn','winnerDemoLink','border','Points\x20updated\x20successfully','Firebase\x20connection\x20test\x20failed:','log','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAADHUlEQVR4nO2XS0hUURjHf3fGnPGB+cBkzEAFRSglH5mQEiitIFoYEW6iFrWJoE20SReCQUGbXrRqEVFB0SIKKnrhM3wUldmQjc5Yk46Njjpz7+06cO50vTP3jplJ0fnDYe75zpnz/e73+L5zFf4n+X1SUoAM624GUoA0IAjw+IS5BWwgCIwCbuAn0AcMWOsP4NHE+BlqEjmxDZQCq4H5QCoQsALMWJjLWgMTvN8FPALuWWs38MhnfCoQoBvIBY4Du4EVwCyPDj7L+ptA/S/WX4EW4ALQMM1g/k8FmA5UAPuBZYCK94wRyXmU6TlwDEFzwDHgltOHnQKcBWwFjgL5jglOTTeBI8BtuwdVmweLgCvAAsckpq8XwDagzQ7QboPZQC1Q7JjA7KgX2AJ02zkwmjINuAzUzHCyGnAFmDMZ4DqgERHNTEsBDmvT0eVSYNgx1PSl28pOldcGvw/WAOeB+Y6pzEwPEJV1zOvBPcAJx0RmLg3YGw0Yu80G4LRjErOjU0BxJGARcB1Y6JjE7GgQKAD6w4FmAM3AUscE4pMuozqigrMa52RUKiK+ipxKDRkVRAYSoiDwDLiLKKU9iqKMgiQRH2wElsdxwDPgLPAAOZ4Fo/YV5BNkAXXIvFgLXAS+2wDnAU2MZEmsJOIK8NqG/wEVwClEoREmLeKP50hn5FSvgT3AY5v+J5HmHVZ4iY+pNG0E1wEss+FbjXS2vjgeUJETzYLJE5+gz5aHXSzlQBnQFQ9gCPH5F4lL94B2G3yl0QE+jwdwBJgH9ESSMgrcteG7HNJihk1A3AMOAgeBT9E7NE0LAkEnEkYHqEa162QMn+02/LJsxpg0YLexURTl3cSgmqYFTNMccPJ1uIDPxuYScDyG31Ls1+EbK6muSIAul8tQ7Jrq5BoGWhVFCQJ7kQkjlnIQFR1TKowNGY6JomnMQkSoGviXvAWWKIoSjgVxPdLtvwKwQ1GUD7ECugBDURTPeHUBfIwVUNO0EWPyWT+mNGBQ13WXN6CqKoOGYYT8fj8+n2NCCYyLiooC8f75D86ukgTJZSGcAAAAAElFTkSuQmCC','previousPoints','manage-levels-ribbons','parentNode','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','#808080','<i\x20class=\x22fas\x20fa-check\x22></i>\x20Completed','Failed\x20to\x20delete\x20trophy:\x20','matches-table-body','\x22\x20already\x20has\x20this\x20trophy','Manage\x20Matches\x20section\x20initialized\x20with\x20resimulate\x20functionality','\x22\x20awarded\x20to\x20','highlights','Player\x20not\x20found\x20in\x20','You\x20must\x20be\x20logged\x20in','Delete\x20match\x20clicked:','#28a745','Error\x20loading\x20matches:','1px\x20solid\x20rgba(255,\x20193,\x207,\x200.3)','(((.+)+)+)+$','assign-trophy-id','Migration\x20Summary:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20Total\x20users\x20checked:\x20','cancel-set-elo-btn','highlights-table-body','Failed\x20to\x20load\x20match\x20data','create-achievement-highlight-btn','\x20inactive\x20players','Found\x20user\x20in\x20','toString','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Ladder:</strong>\x20','.delete-btn','Setting\x20up\x20matches\x20action\x20buttons...','lastPointsModified','backgroundColor','Player\x20deleted\x20successfully','<tr><td\x20colspan=\x227\x22\x20class=\x22empty-state\x22>No\x20ELO\x20history\x20found</td></tr>','5px','trophy-modal-title','promotedBy','Modal\x20cancel\x20button\x20clicked','points-desc','mapName','Adding\x20simple\x20test\x20match...','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Inactive\x20Players','Failed\x20to\x20load\x20article\x20data','.edit-highlight-btn','loss','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','./promotions.js','all','desc','\x20points','opponent','result','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Highlights','padding','Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20trophy\x20definition?\x20This\x20action\x20cannot\x20be\x20undone\x20and\x20might\x20affect\x20players\x20who\x20have\x20been\x20awarded\x20this\x20trophy.','Error\x20promoting\x20player:','createdBy','displayName','\x20(based\x20on\x20data-role:\x20','toISOString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x227\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20history:\x20','edit-match-winner-demo','articles','Load\x20trophies\x20data\x20clicked','.assign-trophy-btn','points-reason','highlight-map-container','Error\x20adding\x20player:\x20','trophy-name','add','<tr><td\x20colspan=\x226\x22\x20class=\x22empty-state\x22>No\x20history\x20found</td></tr>','\x20(+','borderRadius','test-match-winner-username','entries','Modal\x20background\x20clicked','Unknown','edit-match-loser-suicides','Trophy\x20ID\x20and\x20username\x20are\x20required','.admin-section','videoId','.empty-state','<tr><td\x20colspan=\x227\x22\x20class=\x22loading-cell\x22>Applying\x20filters...</td></tr>','highlight-match-info','Loading\x20dashboard\x20overview\x20data...','Winner\x20and\x20loser\x20usernames\x20are\x20required','Failed\x20to\x20update\x20points:\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20for\x20points\x20initialization','confirm-resimulate-btn','edit-match-id','Saturday','cancel-trophy-btn','NonParticipant','matchInfo','openResimulateModal\x20called!','Error\x20loading\x20players:','match','common',',\x20giving\x20default\x20access','User\x20','quick-edit-user-id','warning','highlight-map-creator','approvedMatchesD3','modify-points-form','No\x20users\x20found\x20in\x20userProfiles\x20collection','input[name=\x22set-elo-ladder\x22]:checked','achievement-type','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22type\x22>','No\x20match\x20data\x20found\x20for\x20resimulation','edit-match-loser-score','Please\x20enter\x20a\x20username','pending-count','exception','\x20(winner)\x20vs\x20','\x20users\x20without\x20points\x20field\x20-\x20they\x20will\x20display\x20as\x200\x20points','catch','reason','Failed\x20to\x20load\x20trophy\x20data','\x20with\x20email\x20','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Articles\x20Data','match_result','\x20vs\x20','1964935DRbryv','target','Loser\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20Users\x20who\x20already\x20had\x20points:\x20','highlight-achievement-details-container','rank-distribution-chart','data-section','Points\x20action\x20buttons\x20setup\x20complete','Test\x20match','key','checked','edit-highlight-achievementPlayer-input','<tr><td\x20colspan=\x225\x22\x20class=\x22empty-state\x22>No\x20users\x20found</td></tr>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','login.html','Failed\x20to\x20save\x20article:\x20','<tr><td\x20colspan=\x225\x22\x20class=\x22loading-cell\x22>Loading\x20trophies...</td></tr>','testFirebaseConnection','loserComment','\x20users\x20already\x20had\x20points.','visibility','quick-edit-points-form','Unranked','Title\x20and\x20content\x20are\x20required','nonexistent','edit-match-winner','paste','edit-wins','negative-change','alt','edit-highlight-type-select','demote-form','highlight-video-preview','highlight-match-link','Role\x20select\x20set\x20to:\x20','</span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','Quick\x20edit\x20form\x20elements\x20missing\x20from\x20HTML','Error\x20awarding\x20item:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22winner-cell\x22>','Failed\x20to\x20create\x20simple\x20test\x20match:\x20','role-name','\x20ladder!','#matches-table-body\x20tr','Quick\x20edit\x20form\x20submitted','Cancel\x20button\x20not\x20found','d3-prev-page','Toggling\x20fields\x20for\x20highlight\x20type:\x20','article-form','getAttribute','Starting\x20complete\x20match\x20resimulation...','\x22\x20not\x20found\x20in\x20any\x20collection','article-image-url','previousElo','.edit-match-btn','\x22\x20title=\x22Edit\x20Match\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-match-btn\x20btn-small\x20btn-danger\x22\x20data-id=\x22','#users-table-body\x20tr[data-username=\x22','N/A','activity','Error','highlight-match-link-container','<tr><td\x20colspan=\x226\x22\x20class=\x22loading-cell\x22>Loading\x20players...</td></tr>','Error\x20opening\x20quick\x20edit\x20modal:','highlight-achievement-type','highlight-description-container','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.src=\x27','elo','role','Failed\x20to\x20save\x20trophy:\x20','System','Match\x20deleted\x20successfully','\x20points\x20history\x20entries','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22timestamp\x22>','Error\x20loading\x20highlight:','load-players-data','-prev-page','commit','warn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22loser-cell\x22>','Demotion','level','replaceChild','type','Deleting\x20match\x20','No\x20email','assign-trophy-modal','Player\x20','userId','edit-match-map','Points\x20data\x20loaded\x20successfully','You\x20must\x20be\x20logged\x20in\x20to\x20assign\x20trophies','size','Error\x20loading\x20trophy\x20definitions:','Load\x20matches\x20data\x20clicked','ribbon-level','You\x20must\x20be\x20logged\x20in\x20to\x20delete\x20trophies','Points\x20updated\x20successfully\x20for\x20user:','roleColor','Defaulted\x20to\x20D1\x20ladder','low-points','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-match-btn\x20btn-small\x22\x20data-id=\x22','winnerSuicides','image','Error\x20setting\x20user\x20role:','Sunday','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><span\x20class=\x22highlight-type\x20','Loading\x20players\x20from\x20','Matches\x20Played','high-points','Error\x20updating\x20player:','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Initializing...','Initializing\x20points\x20field\x20for\x20user\x20','Found\x20ELO\x20history\x20for\x20player\x20','\x27;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22trophy-name\x22>','award-reason','textContent','edit-highlight-loserScore-input','points-user-search','contains','Modal\x20opened\x20successfully','Player\x20is\x20already\x20at\x20maximum\x20rank\x20(Emerald)\x20in\x20','edit-highlight-title-input','Edit\x20match\x20clicked:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><em>This\x20will\x20create\x20accurate\x20ELO\x20history\x20entries\x20based\x20on\x20the\x20players\x27\x20ELO\x20ratings\x20at\x20the\x20time\x20this\x20match\x20was\x20played.</em></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','approvedMatchesD2','max','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Trophies\x20Data','trophy-image-preview','playerRibbonsD2','quick-edit-email','create-test-match-form','.delete-highlight-btn','d2-prev-page','<tr><td\x20colspan=\x225\x22\x20class=\x22loading-cell\x22>Loading\x20ribbons\x20data...</td></tr>','highlight-submitted-by','docs','promote-modal','winnerUsername','Failed\x20to\x20delete\x20article:\x20','Wednesday','Failed\x20to\x20load\x20user\x20history','set-elo-ladder','reduce','createElement','Create\x20test\x20match\x20button\x20setup\x20complete','Match\x20ID\x20or\x20ladder\x20missing','Error\x20loading\x20points\x20overview:','substring','Demotion\x20notification\x20sent\x20to\x20Discord\x20bot','points-history-table-body',')</span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','input[name=\x22promote-ladder\x22]:checked','fromDate','trophy-preview-container','\x22\x20title=\x22View\x20Player\x20Details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','currentTarget','.quick-edit-btn','Error\x20deleting\x20trophy\x20definition:','\x20Weekly\x20Activity','seconds','players','creator','positive-change','Please\x20enter\x20valid\x20username\x20and\x20ELO','ribbon-target-ladder','highlight-map','user-roles-section','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-highlight-btn\x22\x20data-id=\x22','mapPlayed','\x22\x20not\x20found\x20in\x20','Enter','highlight-achievement-details','img','Are\x20you\x20sure\x20you\x20want\x20to\x20remove\x20the\x20role\x20from\x20','Error\x20assigning\x20trophy:','<span\x20class=\x22no-role\x22>None</span>','\x20\x20','<i\x20class=\x22fas\x20fa-video\x22></i>\x20Yes','prototype','Tuesday','Please\x20select\x20a\x20user\x20and\x20enter\x20a\x20valid\x20amount','Highlight\x20updated\x20successfully!','\x20ELO\x20history\x20entries.\x20','Error\x20fetching\x20matches\x20for\x20','className','userProfiles','admin','ribbon-user-search','highlight-creator-image-container','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22trophy-rarity-cell\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22trophy-rarity\x20','highlight-loser-name','highlight-title','playersD2','Match\x20found\x20-\x20please\x20review\x20details\x20and\x20confirm\x20resimulation','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small>Awarded:\x20','innerHTML','\x20ladder,\x20page\x20','achievementType','name-desc','edit-highlight-winnerName-input','You\x20do\x20not\x20have\x20permission\x20to\x20access\x20this\x20section','.type','right','reset','manage-points','removeAttribute','firstVisible','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22player\x22>','Simple\x20test\x20match\x20created\x20successfully','load-articles-data','div','edit-match-winner-score','Error\x20demoting\x20player:','searchTerm','\x20not\x20found\x20in\x20any\x20ladder','rankDistribution','Loading\x20user\x20data...','push','\x20total\x20players\x20in\x20the\x20','highlight-video-preview-container','User\x20Profiles','#50C878','promotion','\x20ladder','Gold','cancel-quick-edit','highlight-achievement-player-container','Collection\x20reference\x20created:','trophy-id','stopPropagation','https://www.youtube.com/embed/','demote-ladder','),\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22score-cell\x22>','matchDate','No\x20player\x20selected','demoLink','matches-end-date','set-role-modal','edit-highlight-loserName-input','ELO\x20rating\x20for\x20','Initial\x20Placement','create-new-article-btn','Updated\x20ELO\x20ratings:\x20Winner\x20','\x20allowed\x20tabs:','</td></tr>','description','Username\x20input\x20field\x20(#role-username)\x20not\x20found\x20in\x20modal.','Failed\x20to\x20assign\x20trophy:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22trophy-image-cell\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22','inactive-days-filter','Manage\x20Highlights\x20section\x20initialized','Match\x20updated\x20successfully','Player\x20not\x20found','Emerald','Set\x20to\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Map:</strong>\x20','Untitled','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>Level:\x20','find','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-plus\x22\x20title=\x22Assign\x20to\x20player\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-trophy-btn\x22\x20data-id=\x22','edit-match-loser-demo','return\x20(function()\x20','\x20already\x20has\x20points:\x20','\x22\x20title=\x22Delete\x20Match\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','has','Store\x20item\x20awarded\x20successfully','newPoints','1058344aIbRwE','highlight-form','Queued\x20','title','matches-prev-page','creator-type','Attempting\x20to\x20demote\x20','Manage\x20Points\x20section\x20initialized','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22stats\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','edit-elo','set-elo-form','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x225\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20trophies:\x20','Quick\x20edit\x20form\x20not\x20found!','test-match-date','-page-indicator','Demoting\x20player\x20to\x20','d3-next-page','previousElementSibling','UserProfile','assign-trophy-image','none','Error\x20deleting\x20player:','get','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-article-btn\x22\x20data-id=\x22','highly-inactive','Error\x20demoting\x20player:\x20','add-player-form','quick-edit-points-modal','\x20was\x20updated\x20from\x20','Modal\x20close\x20button\x20clicked','endDate','trace','Error\x20adding\x20ribbon','role-filter','Unauthorized:\x20Admin\x20access\x20required','This\x20will\x20add\x20a\x20points\x20field\x20(set\x20to\x200)\x20for\x20all\x20users\x20who\x20don\x27t\x20have\x20one\x20yet.\x20Continue?','Modal\x20setup\x20complete','Error\x20saving\x20match:','author','Dashboard\x20data\x20loaded\x20successfully','Silver','edit-highlight-achievementType-input','Creator','.edit-btn','assign-player-username','resimulateMatch','migrate-points-btn','name-asc','points-asc','daysSinceMatch','\x20already\x20exists\x20in\x20','Error\x20setting\x20custom\x20ELO:','Resimulated\x20entry\x20-\x20ELO\x20and\x20positions\x20calculated\x20from\x20actual\x20pre-match\x20data','test','\x20section','pendingResimulateData','YouTube\x20Video\x20ID\x20is\x20required\x20for\x20match\x20highlights','Error\x20setting\x20up\x20admin\x20dashboard','user-search-results','Attempting\x20to\x20delete\x20trophy\x20definition\x20with\x20ID:\x20','#players.content-section.active','matches-search','Unknown\x20Admin','quick-add','No\x20specific\x20permissions\x20for\x20user\x20','d1-prev-page','Edit\x20','highlight-achievement-type-container','Error\x20in\x20promotion:','\x20in\x20','Create\x20test\x20match\x20form\x20submitted','Player\x20Achievement','error-state','highlight-modal','Create\x20test\x20match\x20form\x20not\x20found','highlight-achievement-image','replace','highlight-map-version','Error\x20promoting\x20player:\x20','Achievement\x20highlight\x20button\x20clicked','Current\x20user:','Error\x20loading\x20dashboard\x20data:','highlight-loser-score','disabled','focus','settings','highlight-players-container','<tr><td\x20colspan=\x226\x22\x20class=\x22error-state\x22>Error\x20loading\x20history:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Ladder:</strong>\x20','resimulate-modal','mapVersion','Firebase\x20connection\x20test\x20successful!','\x20Exists','selected-user-name','No\x20position\x20changes\x20needed.','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','openResimulateModal','notification\x20','set-role-form','Simple\x20test\x20match\x20created\x20by\x20admin\x20','.loading-cell','edit-highlight-matchDate-input','d1-next-page','Error\x20saving\x20highlight:\x20','Found\x20specific\x20role:\x20','delete-match-summary','load-users-data','achievementDetails','\x22\x20set','Match\x20Highlight','<tr><td\x20colspan=\x226\x22\x20class=\x22empty-state\x22>No\x20players\x20found</td></tr>','Error\x20deleting\x20match:','Modal\x20element\x20found:','src','highlight-winner-name','Query\x20created:','delete-match-confirm-modal','Matches\x20action\x20buttons\x20setup\x20complete','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','trophy-form','lastVisible','highlight-achievement-player','content','Error\x20loading\x20highlight:\x20','includes','nonParticipants','from','\x20view\x20history\x20buttons','reset-matches-filters','Error\x20saving\x20highlight:','Promoting\x20player\x20to\x20','<div\x20class=\x22error\x22>Error\x20searching\x20users</div>','\x20Successfully\x20initialized\x20points\x20field\x20for\x20','resimulation','edit-match-loser','<div\x20class=\x22no-results\x22>No\x20users\x20found</div>','selected-user-id','rgba(25,\x20118,\x20210,\x200.7)','win','assign-trophy-title','#highlight-modal\x20.close-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','closest','highlight-video-id','filter','articles-table-body','matchLink','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22','approvedAt','roleAssignedAt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x227\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20matches:\x20','MAX_SAFE_INTEGER','Match\x20ID\x20is\x20required','W\x20/\x20','current-ribbon-user','Trophy\x20\x22','\x20Rank\x20Distribution','submit','highlight-modal-title','Error\x20loading\x20articles:','user-role','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22notification-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x227\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20applying\x20filters:\x20','RejectedD2','submittedBy','Committing\x20batch\x20update\x20for\x20','./ladderalgorithm.js','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Players\x20Data','dataset','0.6','\x20from\x20','Manage\x20Ribbons\x20section\x20initialized','#cancel-create-test-match-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash\x22></i>\x20Remove\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','demotedBy','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22user-points\x22>','eloHistoryD3','1273024npAAKI','split','D3\x20Players','achievementPlayer','.delete-trophy-btn','activity-chart','<tr><td\x20colspan=\x225\x22\x20class=\x22empty-state\x22>No\x20trophy\x20definitions\x20found</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22remove-role-btn\x22\x20data-username=\x22','.edit-ribbons-btn','.sidebar-nav\x20.nav-item','#article-modal\x20.close-btn','Player\x20is\x20already\x20at\x20minimum\x20rank\x20(Unranked)\x20in\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22elo\x22>','7255392RDsQCK','floor','manage-ribbons','getComputedStyle','Error\x20loading\x20trophy\x20data:','load-ribbons-data','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Articles','Attempting\x20to\x20open\x20role\x20edit\x20modal\x20for:','Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20player?\x20This\x20action\x20cannot\x20be\x20undone.','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','TestLoser','.ladder-switch\x20input[value=\x22D1\x22]','TestWinner','search','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22map-cell\x22>','loserUsername','ref',',\x20Loser\x20','update','Failed\x20to\x20award\x20item:\x20','Processing\x20points\x20edit:','Error\x20deleting\x20article:','.admin-action','Updating\x20role\x20for\x20','.ladder-switch\x20input[value=\x22D2\x22]','manage-articles','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-btn\x22\x20data-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Current\x20Loser\x20Position:</strong>\x20','assign-trophy-description','User\x20not\x20found','Match\x20not\x20found','addEventListener','user-ribbon-management','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Users\x20Data','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Match\x20Date:</strong>\x20','Article\x20deleted\x20successfully','edit-username','\x20users...','Trophy\x20created\x20successfully','Match\x20highlight\x20button\x20clicked','ribbon','createdAt','marginBottom','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><span\x20class=\x22ladder-badge\x20','Role\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Loser:</strong>\x20','.view-player-btn','store-item-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22validation-results\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4>Validation\x20Results:</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Winner\x20ELO\x20History:</strong>\x20','1200','promote-form','points-action','wins','string','Subtracted\x20','<tr><td\x20colspan=\x227\x22\x20class=\x22empty-state\x22>No\x20players\x20found\x20in\x20this\x20ladder</td></tr>','highlight-id','edit-match-ladder','Highlight\x20created\x20successfully!','Error\x20removing\x20ribbon','create-test-match-modal','Never','currentUser','ribbon-type-select','.delete-match-btn','Creator\x20highlight\x20button\x20clicked','getElementById','exists','lastUpdated','set-elo-modal','Non-Participant','Using\x20collections\x20for\x20','subtract','Error\x20creating\x20rank\x20distribution\x20chart:','load-highlights-data','Points\x20field\x20initialized\x20for\x20','Error\x20updating\x20points:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','apply','Opening\x20quick\x20edit\x20modal\x20for\x20user\x20ID:','Role\x20select\x20field\x20(#user-role)\x20not\x20found\x20in\x20modal.','querySelector','apply-matches-filters','D2\x20Players','asc','User\x20has\x20','elo-history-table-body','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Current\x20Loser\x20ELO:</strong>\x20','Error\x20loading\x20ribbons\x20data','matches-start-date','dashboard','17333320eSAxxn','Error\x20loading\x20points\x20data:','#C0C0C0','No\x20radio\x20button\x20found\x20for\x20current\x20ladder:','load-elo-history-data','Adding\x20player\x20','empty-state','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Match\x20ID:</strong>\x20','Error\x20getting\x20ELO\x20at\x20time\x20for\x20player\x20','#000000','users-table-body','manage-ranks','article-author','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22position\x22>','<tr><td\x20colspan=\x226\x22\x20class=\x22empty-state\x22>No\x20highlights\x20found</td></tr>','setAttribute','match-type','data-ladder','playerRibbonsD3','points-overview-table-body','<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error\x20-\x20Try\x20Again','data','.nav-item','Attaching\x20cancel\x20button\x20listener.','constructor','Inactive\x20players\x20section\x20initialized','onerror','eloHistoryD2','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Ribbons\x20Data','ladder','toLowerCase','Searching\x20for\x20player\x20in\x20','set','\x20Missing','rejected-count','Data\x20load\x20buttons\x20initialized\x20based\x20on\x20permissions','newElo','#e0e0e0','resimulate-match-btn','article-content','edit-highlight-map-input','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22username\x22\x20style=\x22color:\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22points-badge\x20','playerId','keys','rarity','empty','Error\x20searching\x20for\x20user','inactive-players-table-body','style','action','click','current-ladder-display','highlight-submitted-by-container','flex','email','opacity','Edit\x20Trophy','load-inactive-players-data','You\x20must\x20be\x20logged\x20in\x20to\x20save\x20articles','Monday','highlight-match-date-container','points-sort-order','Error\x20deleting\x20highlight:\x20','setDate','Setting\x20up\x20create\x20test\x20match\x20button','selected-user-points','Adding\x20\x22active\x22\x20class\x20to\x20modal.','manage-trophies','edit-player-modal',';\x20color:\x20','updatedAt','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Map:</strong>\x20','join','Create\x20test\x20match\x20modal\x20setup\x20complete','Both\x20players\x20already\x20have\x20ELO\x20history\x20for\x20this\x20match.\x20No\x20resimulation\x20needed.','edit-match-modal','Switched\x20to\x20','You\x20must\x20be\x20logged\x20in\x20to\x20resimulate\x20matches','\x27\x20has\x20permissions:','pendingMatchesD3','Trophy\x20not\x20found','\x20-\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22previous-elo\x22>','</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-danger\x20btn-sm\x20remove-ribbon-btn\x22\x20data-ribbon=\x22','admin_modification','Error\x20resolving\x20username\x20for\x20','visible','<div\x20class=\x22loading\x22>Searching...</div>','appendChild','edit-match-winner-comment','Setting\x20up\x20Manage\x20Ribbons\x20section','Failed\x20to\x20load\x20user\x20data:\x20','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Trophies','block','achievement','Setting\x20up\x20highlight\x20buttons','Created\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-sm\x20edit-ribbons-btn\x22\x20data-username=\x22','\x20Level\x20','Opening\x20create\x20test\x20match\x20modal','\x22\x20title=\x22Quick\x20Edit\x20Points\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-edit\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22view-history-btn\x22\x20data-user-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','medium-points','body','players-table-body','12bvpTZp','.ladder-switch\x20input','console','then','sort','ribbons-overview-table-body','info','moderately-inactive','.section-header','#FFD700','value','Attaching\x20background\x20click\x20listener.','highlight-player-profile','getDay','Match\x20Result','Setting\x20up\x20create\x20test\x20match\x20modal\x20events','loading-cell','load-dashboard-data','player-count','required','sendPromotionNotification','search-result-item','Error\x20loading\x20dashboard:','Load\x20ribbons\x20data\x20clicked','matches-next-page','players-ladder-selector','<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error','DOMContentLoaded','sources','\x20users\x20don\x27t\x20have\x20points\x20field\x20yet.\x20Use\x20the\x20migration\x20button\x20to\x20initialize.','User\x20data\x20loaded:','Table\x20row\x20for\x20user\x20','Setting\x20up\x20Manage\x20Highlights\x20section','data-id','\x20(from\x20','Article\x20created\x20successfully','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Dashboard\x20Data','.username','loserName','__proto__','user-search','save-player-btn','\x20-\x20Feature\x20coming\x20soon','.view-history-btn','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20History\x20Data','Sidebar\x20navigation\x20initialized\x20with\x20permissions'];a4_0x48e2=function(){return _0x1608d0;};return a4_0x48e2();}function setupManageArticlesSection(){const _0x5392f6=a4_0x3e5318,_0x1d0388=document[_0x5392f6(0x3e8)](_0x5392f6(0x2ad));_0x1d0388&&_0x1d0388['addEventListener'](_0x5392f6(0x434),function(){const _0x348327=_0x5392f6;this[_0x348327(0x556)][_0x348327(0x616)]('loading'),this[_0x348327(0x29f)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...',loadArticles()[_0x348327(0x46e)](()=>{const _0x290180=_0x348327;this[_0x290180(0x556)][_0x290180(0x49f)](_0x290180(0x50f)),this['innerHTML']=_0x290180(0x3ac);})[_0x348327(0x1d6)](_0x3db5aa=>{const _0x31732d=_0x348327;console['error'](_0x31732d(0x387),_0x3db5aa),this[_0x31732d(0x556)][_0x31732d(0x49f)](_0x31732d(0x50f)),this[_0x31732d(0x29f)]=_0x31732d(0x485),setTimeout(()=>{const _0x4212bb=_0x31732d;this[_0x4212bb(0x29f)]='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Articles';},0xbb8);});});const _0xedfc27=document[_0x5392f6(0x3e8)](_0x5392f6(0x2ce));_0xedfc27?(console['log'](_0x5392f6(0x54b)),_0xedfc27['style'][_0x5392f6(0x535)]='block',_0xedfc27[_0x5392f6(0x3c5)]('click',()=>{openArticleModal();})):console['error'](_0x5392f6(0x5bf));const _0xe90f9a=document[_0x5392f6(0x3e8)](_0x5392f6(0x20c));_0xe90f9a&&_0xe90f9a[_0x5392f6(0x3c5)](_0x5392f6(0x385),_0x412b36=>{const _0x451a3c=_0x5392f6;_0x412b36[_0x451a3c(0x575)](),saveArticle();});const _0x5c1e22=document[_0x5392f6(0x3e8)](_0x5392f6(0x5a2));_0x5c1e22&&_0x5c1e22['addEventListener'](_0x5392f6(0x434),()=>{closeArticleModal();});const _0x19d263=document[_0x5392f6(0x3f7)](_0x5392f6(0x3a3));_0x19d263&&_0x19d263[_0x5392f6(0x3c5)](_0x5392f6(0x434),()=>{closeArticleModal();});const _0x5f0c0f=document[_0x5392f6(0x3e8)]('article-modal');_0x5f0c0f&&_0x5f0c0f[_0x5392f6(0x3c5)](_0x5392f6(0x434),_0x4e3662=>{const _0x54ae2f=_0x5392f6;_0x4e3662[_0x54ae2f(0x1de)]===_0x5f0c0f&&closeArticleModal();});}async function loadArticles(){const _0x48b13b=a4_0x3e5318,_0x50c036=document[_0x48b13b(0x3e8)](_0x48b13b(0x379));if(!_0x50c036)return;_0x50c036[_0x48b13b(0x29f)]='<tr><td\x20colspan=\x224\x22\x20class=\x22loading-cell\x22>Loading\x20articles...</td></tr>';try{const _0x2e39bf=collection(db,_0x48b13b(0x60f)),_0x2f010f=query(_0x2e39bf,orderBy(_0x48b13b(0x3cf),'desc')),_0x200df3=await getDocs(_0x2f010f);if(_0x200df3[_0x48b13b(0x42f)]){_0x50c036[_0x48b13b(0x29f)]=_0x48b13b(0x4d1);return;}_0x50c036[_0x48b13b(0x29f)]='',_0x200df3['forEach'](_0x5bf1cb=>{const _0x4ba13a=_0x48b13b,_0x2df37a=_0x5bf1cb['data'](),_0x273e1b=document[_0x4ba13a(0x26b)]('tr'),_0x2c06bd=_0x2df37a[_0x4ba13a(0x3cf)]?new Date(_0x2df37a[_0x4ba13a(0x3cf)][_0x4ba13a(0x27b)]*0x3e8)[_0x4ba13a(0x590)]():_0x4ba13a(0x215);_0x273e1b[_0x4ba13a(0x29f)]=_0x4ba13a(0x5a0)+(_0x2df37a[_0x4ba13a(0x2eb)]||_0x4ba13a(0x2dd))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x2df37a[_0x4ba13a(0x30e)]||'Unknown')+_0x4ba13a(0x35e)+_0x2c06bd+_0x4ba13a(0x2ff)+_0x5bf1cb['id']+_0x4ba13a(0x4c4)+_0x5bf1cb['id']+_0x4ba13a(0x347),_0x50c036['appendChild'](_0x273e1b);}),setupArticleActionButtons();}catch(_0x1d9848){console[_0x48b13b(0x4a3)](_0x48b13b(0x387),_0x1d9848),_0x50c036[_0x48b13b(0x29f)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x224\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20articles:\x20'+_0x1d9848[_0x48b13b(0x528)]+_0x48b13b(0x5fd);}}function setupArticleActionButtons(){const _0x2409ae=a4_0x3e5318;document[_0x2409ae(0x534)]('.edit-article-btn')[_0x2409ae(0x5ae)](_0x1b3414=>{const _0x3472f2=_0x2409ae;_0x1b3414[_0x3472f2(0x3c5)](_0x3472f2(0x434),async _0x37c855=>{const _0x21a8a0=_0x3472f2,_0x3773a2=_0x37c855[_0x21a8a0(0x277)][_0x21a8a0(0x390)]['id'];openArticleModal(_0x3773a2);});}),document[_0x2409ae(0x534)]('.delete-article-btn')[_0x2409ae(0x5ae)](_0x1edc6f=>{const _0x37bed7=_0x2409ae;_0x1edc6f[_0x37bed7(0x3c5)](_0x37bed7(0x434),async _0x4a0b59=>{const _0x36c747=_0x37bed7,_0x4ad410=_0x4a0b59['currentTarget'][_0x36c747(0x390)]['id'];confirmDeleteArticle(_0x4ad410);});});}function openArticleModal(_0x5de5b3=null){const _0x8b0426=a4_0x3e5318,_0x1271e7=document[_0x8b0426(0x3e8)]('article-modal'),_0xeaae79=document[_0x8b0426(0x3e8)]('article-modal-title'),_0x986d3=document['getElementById'](_0x8b0426(0x20c)),_0x345bfb=document[_0x8b0426(0x3e8)]('article-id');_0x986d3[_0x8b0426(0x2a7)](),_0x345bfb[_0x8b0426(0x475)]='';if(_0x5de5b3)_0xeaae79[_0x8b0426(0x24f)]=_0x8b0426(0x566),_0x345bfb[_0x8b0426(0x475)]=_0x5de5b3,loadArticleData(_0x5de5b3);else{_0xeaae79['textContent']=_0x8b0426(0x568);const _0x1e935c=auth[_0x8b0426(0x3e4)];if(_0x1e935c){const _0x5f4bab=document['getElementById']('article-author');if(_0x5f4bab&&_0x1e935c[_0x8b0426(0x60a)])_0x5f4bab[_0x8b0426(0x475)]=_0x1e935c[_0x8b0426(0x60a)];else _0x5f4bab&&(_0x5f4bab[_0x8b0426(0x475)]=_0x1e935c[_0x8b0426(0x438)]);}}_0x1271e7['classList'][_0x8b0426(0x616)](_0x8b0426(0x4f5));}async function loadArticleData(_0x628516){const _0x2254eb=a4_0x3e5318;try{const _0x45c07a=doc(db,_0x2254eb(0x60f),_0x628516),_0x3620a6=await getDoc(_0x45c07a);if(!_0x3620a6[_0x2254eb(0x3e9)]()){showNotification(_0x2254eb(0x542),_0x2254eb(0x4a3));return;}const _0x5e406d=_0x3620a6['data']();document[_0x2254eb(0x3e8)]('article-title')['value']=_0x5e406d[_0x2254eb(0x2eb)]||'',document[_0x2254eb(0x3e8)](_0x2254eb(0x40d))['value']=_0x5e406d[_0x2254eb(0x30e)]||'',document['getElementById'](_0x2254eb(0x210))[_0x2254eb(0x475)]=_0x5e406d['imageUrl']||'',document['getElementById'](_0x2254eb(0x428))['value']=_0x5e406d[_0x2254eb(0x362)]||'';}catch(_0x38c65c){console[_0x2254eb(0x4a3)](_0x2254eb(0x56d),_0x38c65c),showNotification(_0x2254eb(0x5fa),_0x2254eb(0x4a3));}}async function saveArticle(){const _0x5a7fbe=a4_0x3e5318;try{const _0x5d90fd=document[_0x5a7fbe(0x3e8)](_0x5a7fbe(0x599))['value'],_0x2c485d=document[_0x5a7fbe(0x3e8)]('article-title')[_0x5a7fbe(0x475)]['trim'](),_0x4d0e91=document[_0x5a7fbe(0x3e8)]('article-author')['value'][_0x5a7fbe(0x52a)](),_0x4e201c=document[_0x5a7fbe(0x3e8)]('article-image-url')[_0x5a7fbe(0x475)]['trim'](),_0x367645=document[_0x5a7fbe(0x3e8)](_0x5a7fbe(0x428))['value'][_0x5a7fbe(0x52a)]();if(!_0x2c485d||!_0x367645){showNotification(_0x5a7fbe(0x1f4),'error');return;}const _0x32b67b=auth[_0x5a7fbe(0x3e4)];if(!_0x32b67b){showNotification(_0x5a7fbe(0x43c),_0x5a7fbe(0x4a3));return;}const _0x22bf2a={'title':_0x2c485d,'author':_0x4d0e91,'imageUrl':_0x4e201c||null,'content':_0x367645,'lastModifiedAt':serverTimestamp(),'lastModifiedBy':_0x32b67b[_0x5a7fbe(0x438)]};!_0x5d90fd?(_0x22bf2a[_0x5a7fbe(0x3cf)]=serverTimestamp(),_0x22bf2a['createdBy']=_0x32b67b['email'],await addDoc(collection(db,_0x5a7fbe(0x60f)),_0x22bf2a),showNotification(_0x5a7fbe(0x48e),_0x5a7fbe(0x4b8))):(await updateDoc(doc(db,_0x5a7fbe(0x60f),_0x5d90fd),_0x22bf2a),showNotification('Article\x20updated\x20successfully','success')),closeArticleModal(),loadArticles();}catch(_0x479d71){console[_0x5a7fbe(0x4a3)](_0x5a7fbe(0x5b4),_0x479d71),showNotification(_0x5a7fbe(0x1ec)+_0x479d71['message'],_0x5a7fbe(0x4a3));}}function closeArticleModal(){const _0x7cf302=a4_0x3e5318,_0x5778ff=document['getElementById'](_0x7cf302(0x57a));_0x5778ff&&_0x5778ff[_0x7cf302(0x556)][_0x7cf302(0x49f)](_0x7cf302(0x4f5));}async function confirmDeleteArticle(_0x505297){const _0x1b2e6b=a4_0x3e5318;if(confirm(_0x1b2e6b(0x4e3)))try{await deleteDoc(doc(db,'articles',_0x505297)),loadArticles(),showNotification(_0x1b2e6b(0x3c9),_0x1b2e6b(0x4b8));}catch(_0x153031){console[_0x1b2e6b(0x4a3)](_0x1b2e6b(0x3bb),_0x153031),showNotification(_0x1b2e6b(0x266)+_0x153031[_0x1b2e6b(0x528)],'error');}}function setupTrophyManagementSection(){const _0x55db16=a4_0x3e5318,_0x2ed402=document['getElementById'](_0x55db16(0x571));_0x2ed402&&_0x2ed402[_0x55db16(0x3c5)](_0x55db16(0x434),function(){const _0x2e37d0=_0x55db16;this[_0x2e37d0(0x556)][_0x2e37d0(0x616)](_0x2e37d0(0x50f)),this[_0x2e37d0(0x29f)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...';const _0x4d6c24=document[_0x2e37d0(0x3e8)](_0x2e37d0(0x2fb));_0x4d6c24&&(_0x4d6c24[_0x2e37d0(0x41b)]=function(){const _0x12ff6b=_0x2e37d0;this[_0x12ff6b(0x359)]=DEFAULT_TROPHY_IMAGE;}),loadTrophyDefinitions()[_0x2e37d0(0x46e)](()=>{const _0x25ff36=_0x2e37d0;this[_0x25ff36(0x556)][_0x25ff36(0x49f)](_0x25ff36(0x50f)),this[_0x25ff36(0x29f)]=_0x25ff36(0x45e);})[_0x2e37d0(0x1d6)](_0x3cde6b=>{const _0x19d0eb=_0x2e37d0;console[_0x19d0eb(0x4a3)]('Error\x20loading\x20trophies:',_0x3cde6b),this[_0x19d0eb(0x556)][_0x19d0eb(0x49f)](_0x19d0eb(0x50f)),this[_0x19d0eb(0x29f)]=_0x19d0eb(0x485),setTimeout(()=>{const _0x5b29bc=_0x19d0eb;this[_0x5b29bc(0x29f)]=_0x5b29bc(0x45e);},0xbb8);});});const _0xb157b0=document[_0x55db16(0x3e8)](_0x55db16(0x4b1));_0xb157b0&&_0xb157b0[_0x55db16(0x3c5)](_0x55db16(0x434),()=>{openTrophyModal();});const _0x2d6c9d=document[_0x55db16(0x3e8)](_0x55db16(0x35f));_0x2d6c9d&&_0x2d6c9d[_0x55db16(0x3c5)](_0x55db16(0x385),_0x479eaf=>{const _0x356da5=_0x55db16;_0x479eaf[_0x356da5(0x575)](),saveTrophyDefinition();});const _0x34e807=document['getElementById'](_0x55db16(0x62d));_0x34e807&&_0x34e807[_0x55db16(0x3c5)](_0x55db16(0x434),()=>{closeTrophyModal();});document[_0x55db16(0x534)](_0x55db16(0x52c))['forEach'](_0x373eb5=>{const _0x16db08=_0x55db16;_0x373eb5['addEventListener'](_0x16db08(0x434),()=>{closeTrophyModal(),closeAssignTrophyModal();});});const _0x5e8c53=document[_0x55db16(0x3e8)](_0x55db16(0x552));_0x5e8c53&&_0x5e8c53[_0x55db16(0x3c5)](_0x55db16(0x434),_0x1d35c8=>{const _0x22454b=_0x55db16;_0x1d35c8[_0x22454b(0x1de)]===_0x5e8c53&&closeTrophyModal();});const _0x5541fb=document['getElementById'](_0x55db16(0x231));_0x5541fb&&_0x5541fb[_0x55db16(0x3c5)](_0x55db16(0x434),_0x128b44=>{const _0x48bc39=_0x55db16;_0x128b44[_0x48bc39(0x1de)]===_0x5541fb&&closeAssignTrophyModal();});const _0x3615bd=document[_0x55db16(0x3e8)](_0x55db16(0x525));_0x3615bd&&_0x3615bd[_0x55db16(0x3c5)](_0x55db16(0x385),_0x576278=>{const _0x1d7fc9=_0x55db16;_0x576278[_0x1d7fc9(0x575)](),assignTrophyToPlayer();});const _0x1f6a25=document[_0x55db16(0x3e8)](_0x55db16(0x55d));_0x1f6a25&&_0x1f6a25[_0x55db16(0x3c5)](_0x55db16(0x434),()=>{closeAssignTrophyModal();});const _0x3e11f2=document['getElementById'](_0x55db16(0x4a9));_0x3e11f2&&(_0x3e11f2['addEventListener'](_0x55db16(0x4ee),updateTrophyImagePreview),_0x3e11f2['addEventListener'](_0x55db16(0x1f7),()=>{setTimeout(updateTrophyImagePreview,0xa);}));}function updateTrophyImagePreview(){const _0x310ad4=a4_0x3e5318,_0x5d9d2c=document[_0x310ad4(0x3e8)](_0x310ad4(0x4a9))[_0x310ad4(0x475)]['trim'](),_0xe5a0cb=document[_0x310ad4(0x3e8)]('trophy-image-preview');if(!_0xe5a0cb){const _0x91ece0=document[_0x310ad4(0x3e8)](_0x310ad4(0x4a9))[_0x310ad4(0x376)](_0x310ad4(0x4e5)),_0x2cc81d=document[_0x310ad4(0x26b)](_0x310ad4(0x2ae));_0x2cc81d['id']=_0x310ad4(0x25b),_0x2cc81d['className']=_0x310ad4(0x275),_0x91ece0[_0x310ad4(0x45a)](_0x2cc81d);const _0x426d50=document[_0x310ad4(0x26b)](_0x310ad4(0x288));_0x426d50['id']=_0x310ad4(0x563),_0x426d50[_0x310ad4(0x1fa)]='Trophy\x20Preview',_0x426d50['onerror']=function(){const _0xcf8800=_0x310ad4;this['src']=DEFAULT_TROPHY_IMAGE,this[_0xcf8800(0x556)][_0xcf8800(0x616)](_0xcf8800(0x4a3));},_0x2cc81d[_0x310ad4(0x45a)](_0x426d50);}const _0x37e472=document['getElementById'](_0x310ad4(0x563));_0x5d9d2c?(_0x37e472[_0x310ad4(0x359)]=_0x5d9d2c,_0x37e472['style'][_0x310ad4(0x535)]=_0x310ad4(0x45f),_0x37e472[_0x310ad4(0x556)]['remove'](_0x310ad4(0x4a3))):(_0x37e472['src']=DEFAULT_TROPHY_IMAGE,_0x37e472[_0x310ad4(0x432)][_0x310ad4(0x535)]=_0x310ad4(0x45f));}async function loadTrophyDefinitions(){const _0x110610=a4_0x3e5318,_0x407524=document['getElementById']('trophies-table-body');if(!_0x407524)return;_0x407524['innerHTML']=_0x110610(0x1ed);try{const _0x1cc68f=collection(db,_0x110610(0x55a)),_0x79fed2=query(_0x1cc68f,orderBy('createdAt',_0x110610(0x601))),_0x360f11=await getDocs(_0x79fed2);if(_0x360f11[_0x110610(0x42f)]){_0x407524[_0x110610(0x29f)]=_0x110610(0x39f);return;}_0x407524[_0x110610(0x29f)]='',_0x360f11[_0x110610(0x5ae)](_0x2c5a5a=>{const _0x152716=_0x110610,_0x6c7226=_0x2c5a5a[_0x152716(0x416)](),_0x43ab7b=document[_0x152716(0x26b)]('tr'),_0x46a740=_0x6c7226[_0x152716(0x3cf)]?new Date(_0x6c7226['createdAt'][_0x152716(0x27b)]*0x3e8)[_0x152716(0x590)]():_0x152716(0x215);_0x43ab7b[_0x152716(0x29f)]=_0x152716(0x2d5)+(_0x6c7226[_0x152716(0x242)]||DEFAULT_TROPHY_IMAGE)+_0x152716(0x37b)+_0x6c7226[_0x152716(0x4bc)]+_0x152716(0x21d)+DEFAULT_TROPHY_IMAGE+_0x152716(0x24d)+(_0x6c7226[_0x152716(0x4bc)]||'Untitled\x20Trophy')+_0x152716(0x299)+(_0x6c7226['rarity']||_0x152716(0x633))+'\x22>'+(_0x6c7226[_0x152716(0x42e)]||_0x152716(0x633))+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x46a740+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-trophy-btn\x22\x20data-id=\x22'+_0x2c5a5a['id']+_0x152716(0x4e8)+_0x2c5a5a['id']+_0x152716(0x2e0)+_0x2c5a5a['id']+_0x152716(0x347),_0x407524['appendChild'](_0x43ab7b);}),setupTrophyActionButtons();}catch(_0x57042d){console[_0x110610(0x4a3)](_0x110610(0x238),_0x57042d),_0x407524[_0x110610(0x29f)]=_0x110610(0x2f3)+_0x57042d[_0x110610(0x528)]+_0x110610(0x5fd);}}function setupTrophyActionButtons(){const _0x40eba7=a4_0x3e5318;document['querySelectorAll']('.edit-trophy-btn')[_0x40eba7(0x5ae)](_0x354616=>{const _0x589b2c=_0x40eba7;_0x354616[_0x589b2c(0x3c5)](_0x589b2c(0x434),_0x54039b=>{const _0x56be8b=_0x589b2c,_0x5d4d32=_0x54039b[_0x56be8b(0x277)]['dataset']['id'];openTrophyModal(_0x5d4d32);});}),document[_0x40eba7(0x534)](_0x40eba7(0x611))[_0x40eba7(0x5ae)](_0x2c407d=>{const _0x3957b9=_0x40eba7;_0x2c407d[_0x3957b9(0x3c5)](_0x3957b9(0x434),_0x1cbcd4=>{const _0x3a95f8=_0x3957b9,_0x548949=_0x1cbcd4[_0x3a95f8(0x277)]['dataset']['id'];openAssignTrophyModal(_0x548949);});}),document[_0x40eba7(0x534)](_0x40eba7(0x39d))[_0x40eba7(0x5ae)](_0x303de4=>{const _0xea78b=_0x40eba7;_0x303de4[_0xea78b(0x3c5)](_0xea78b(0x434),_0x4113d9=>{const _0x349217=_0x4113d9['currentTarget']['dataset']['id'];confirmDeleteTrophy(_0x349217);});});}function openTrophyModal(_0x35852f=null){const _0x2eec99=a4_0x3e5318,_0x16812e=document[_0x2eec99(0x3e8)](_0x2eec99(0x552)),_0x15f6b7=document[_0x2eec99(0x3e8)](_0x2eec99(0x5f3)),_0x2b73e5=document[_0x2eec99(0x3e8)](_0x2eec99(0x35f)),_0x59f9c2=document[_0x2eec99(0x3e8)](_0x2eec99(0x2c0));_0x2b73e5[_0x2eec99(0x2a7)](),_0x59f9c2[_0x2eec99(0x475)]='';const _0x24a45a=document['getElementById'](_0x2eec99(0x563));_0x24a45a&&(_0x24a45a[_0x2eec99(0x359)]=DEFAULT_TROPHY_IMAGE,_0x24a45a['classList'][_0x2eec99(0x49f)](_0x2eec99(0x4a3))),_0x35852f?(_0x15f6b7[_0x2eec99(0x24f)]=_0x2eec99(0x43a),_0x59f9c2['value']=_0x35852f,loadTrophyData(_0x35852f)):_0x15f6b7[_0x2eec99(0x24f)]=_0x2eec99(0x4ec),_0x16812e[_0x2eec99(0x556)][_0x2eec99(0x616)](_0x2eec99(0x4f5));}async function loadTrophyData(_0x50a5b8){const _0x62deb7=a4_0x3e5318;try{const _0x77f61b=doc(db,_0x62deb7(0x55a),_0x50a5b8),_0x23639c=await getDoc(_0x77f61b);if(!_0x23639c[_0x62deb7(0x3e9)]()){showNotification(_0x62deb7(0x452),'error');return;}const _0x2eef4d=_0x23639c[_0x62deb7(0x416)]();document[_0x62deb7(0x3e8)](_0x62deb7(0x615))[_0x62deb7(0x475)]=_0x2eef4d[_0x62deb7(0x4bc)]||'',document['getElementById'](_0x62deb7(0x54c))[_0x62deb7(0x475)]=_0x2eef4d[_0x62deb7(0x2d2)]||'',document[_0x62deb7(0x3e8)]('trophy-image-url')['value']=_0x2eef4d['image']||'',document['getElementById'](_0x62deb7(0x4e6))[_0x62deb7(0x475)]=_0x2eef4d['rarity']||'common',updateTrophyImagePreview();}catch(_0x2f9c7b){console[_0x62deb7(0x4a3)](_0x62deb7(0x3aa),_0x2f9c7b),showNotification(_0x62deb7(0x1d8),_0x62deb7(0x4a3));}}async function saveTrophyDefinition(){const _0x20399d=a4_0x3e5318;try{const _0x3318f9=document[_0x20399d(0x3e8)](_0x20399d(0x2c0))[_0x20399d(0x475)],_0x14745b=document['getElementById'](_0x20399d(0x615))[_0x20399d(0x475)][_0x20399d(0x52a)](),_0x3c6a6d=document[_0x20399d(0x3e8)](_0x20399d(0x54c))[_0x20399d(0x475)][_0x20399d(0x52a)](),_0x3026a9=document[_0x20399d(0x3e8)](_0x20399d(0x4a9))[_0x20399d(0x475)]['trim'](),_0x14ca88=document['getElementById'](_0x20399d(0x4e6))[_0x20399d(0x475)];if(!_0x14745b||!_0x3c6a6d||!_0x3026a9){showNotification('All\x20fields\x20are\x20required','error');return;}const _0x490b81=auth[_0x20399d(0x3e4)];if(!_0x490b81){showNotification(_0x20399d(0x50c),_0x20399d(0x4a3));return;}const _0x1cfd3d={'name':_0x14745b,'description':_0x3c6a6d,'image':_0x3026a9,'rarity':_0x14ca88,'lastModifiedAt':serverTimestamp(),'lastModifiedBy':_0x490b81[_0x20399d(0x438)]};!_0x3318f9?(_0x1cfd3d[_0x20399d(0x3cf)]=serverTimestamp(),_0x1cfd3d[_0x20399d(0x609)]=_0x490b81[_0x20399d(0x438)],await addDoc(collection(db,_0x20399d(0x55a)),_0x1cfd3d),showNotification(_0x20399d(0x3cc),'success')):(await updateDoc(doc(db,_0x20399d(0x55a),_0x3318f9),_0x1cfd3d),showNotification(_0x20399d(0x547),_0x20399d(0x4b8))),closeTrophyModal(),loadTrophyDefinitions();}catch(_0x3ce6d4){console[_0x20399d(0x4a3)](_0x20399d(0x5aa),_0x3ce6d4),showNotification(_0x20399d(0x220)+_0x3ce6d4[_0x20399d(0x528)],_0x20399d(0x4a3));}}function closeTrophyModal(){const _0x487bc9=a4_0x3e5318,_0x55ad27=document[_0x487bc9(0x3e8)](_0x487bc9(0x552));_0x55ad27&&_0x55ad27[_0x487bc9(0x556)]['remove'](_0x487bc9(0x4f5));}async function confirmDeleteTrophy(_0x489ed4){const _0xe02f72=a4_0x3e5318;if(!_0x489ed4){console[_0xe02f72(0x4a3)](_0xe02f72(0x4fa));return;}if(confirm(_0xe02f72(0x607)))try{const _0x59f770=auth[_0xe02f72(0x3e4)];if(!_0x59f770){showNotification(_0xe02f72(0x23b),_0xe02f72(0x4a3));return;}console[_0xe02f72(0x5cd)](_0xe02f72(0x323)+_0x489ed4),await deleteDoc(doc(db,_0xe02f72(0x55a),_0x489ed4)),showNotification('Trophy\x20definition\x20deleted\x20successfully','success'),loadTrophyDefinitions();}catch(_0x16c724){console[_0xe02f72(0x4a3)](_0xe02f72(0x279),_0x16c724),showNotification(_0xe02f72(0x5d5)+_0x16c724[_0xe02f72(0x528)],'error');}}async function openAssignTrophyModal(_0x4f800f){const _0x508d1a=a4_0x3e5318;try{const _0x5311d5=doc(db,'trophyDefinitions',_0x4f800f),_0x3150b0=await getDoc(_0x5311d5);if(!_0x3150b0[_0x508d1a(0x3e9)]()){showNotification(_0x508d1a(0x452),_0x508d1a(0x4a3));return;}const _0x3d5183=_0x3150b0['data']();document[_0x508d1a(0x3e8)](_0x508d1a(0x5e2))[_0x508d1a(0x475)]=_0x4f800f,document[_0x508d1a(0x3e8)]('assign-trophy-name')['value']=_0x3d5183[_0x508d1a(0x4bc)],document['getElementById'](_0x508d1a(0x2fb))[_0x508d1a(0x359)]=_0x3d5183[_0x508d1a(0x242)]||DEFAULT_TROPHY_IMAGE,document[_0x508d1a(0x3e8)](_0x508d1a(0x373))[_0x508d1a(0x24f)]=_0x3d5183[_0x508d1a(0x4bc)]||'Unnamed\x20Trophy',document[_0x508d1a(0x3e8)](_0x508d1a(0x3c2))[_0x508d1a(0x24f)]=_0x3d5183[_0x508d1a(0x2d2)]||_0x508d1a(0x55c);const _0x5e652e=document[_0x508d1a(0x3e8)](_0x508d1a(0x54e));_0x5e652e[_0x508d1a(0x24f)]=_0x3d5183['rarity']||'common',_0x5e652e[_0x508d1a(0x294)]='trophy-rarity\x20'+(_0x3d5183[_0x508d1a(0x42e)]||_0x508d1a(0x633));const _0x2db4a4=document['getElementById'](_0x508d1a(0x231));_0x2db4a4['classList'][_0x508d1a(0x616)](_0x508d1a(0x4f5));}catch(_0x4d474f){console[_0x508d1a(0x4a3)]('Error\x20opening\x20assign\x20trophy\x20modal:',_0x4d474f),showNotification(_0x508d1a(0x1d8),_0x508d1a(0x4a3));}}function closeAssignTrophyModal(){const _0x2118fb=a4_0x3e5318,_0x12757d=document['getElementById'](_0x2118fb(0x231));_0x12757d&&_0x12757d[_0x2118fb(0x556)][_0x2118fb(0x49f)]('active');}async function assignTrophyToPlayer(){const _0x45847e=a4_0x3e5318;try{const _0x230c25=document[_0x45847e(0x3e8)](_0x45847e(0x5e2))[_0x45847e(0x475)],_0x395f68=document[_0x45847e(0x3e8)](_0x45847e(0x49b))[_0x45847e(0x475)],_0x26959b=document[_0x45847e(0x3e8)](_0x45847e(0x314))['value']['trim'](),_0x49e5c7=document[_0x45847e(0x3f7)]('input[name=\x22assign-ladder\x22]:checked')[_0x45847e(0x475)];if(!_0x230c25||!_0x26959b){showNotification(_0x45847e(0x61f),'error');return;}const _0x1cef74=auth['currentUser'];if(!_0x1cef74){showNotification(_0x45847e(0x236),_0x45847e(0x4a3));return;}let _0x5199bb=null,_0xdd71ac=null,_0x537bc5=null;if(_0x49e5c7==='non-participant'){const _0x3d10d0=collection(db,_0x45847e(0x365)),_0xe3d908=query(_0x3d10d0,where(_0x45847e(0x527),'==',_0x26959b)),_0x1bdff4=await getDocs(_0xe3d908);!_0x1bdff4[_0x45847e(0x42f)]&&(_0x5199bb=_0x1bdff4['docs'][0x0],_0xdd71ac=_0x5199bb['id'],_0x537bc5=_0x5199bb[_0x45847e(0x416)]());}else{const _0x1d2315=_0x49e5c7==='D1'?_0x45847e(0x27c):_0x49e5c7==='D2'?'playersD2':_0x45847e(0x510),_0x392676=collection(db,_0x1d2315),_0x215a78=query(_0x392676,where(_0x45847e(0x527),'==',_0x26959b)),_0x1506ad=await getDocs(_0x215a78);!_0x1506ad[_0x45847e(0x42f)]&&(_0x5199bb=_0x1506ad['docs'][0x0],_0xdd71ac=_0x5199bb['id'],_0x537bc5=_0x5199bb[_0x45847e(0x416)]());}if(!_0x5199bb){showNotification('Player\x20\x22'+_0x26959b+_0x45847e(0x285)+(_0x49e5c7===_0x45847e(0x5a3)?'non-participants':_0x49e5c7+'\x20ladder'),_0x45847e(0x4a3));return;}const _0x122d61=collection(db,_0x45847e(0x538)),_0x8acae5=query(_0x122d61,where(_0x45847e(0x233),'==',_0xdd71ac),where('trophyId','==',_0x230c25)),_0x124172=await getDocs(_0x8acae5);if(!_0x124172[_0x45847e(0x42f)]){showNotification('Player\x20\x22'+_0x26959b+_0x45847e(0x5d7),_0x45847e(0x637));return;}await addDoc(collection(db,_0x45847e(0x538)),{'userId':_0xdd71ac,'playerUsername':_0x26959b,'trophyId':_0x230c25,'awardedAt':serverTimestamp(),'awardedBy':_0x1cef74[_0x45847e(0x438)],'ladder':_0x49e5c7}),showNotification(_0x45847e(0x383)+_0x395f68+_0x45847e(0x5d9)+_0x26959b,_0x45847e(0x4b8)),closeAssignTrophyModal();}catch(_0x252100){console[_0x45847e(0x4a3)](_0x45847e(0x28a),_0x252100),showNotification(_0x45847e(0x2d4)+_0x252100[_0x45847e(0x528)],'error');}}function setupInactivePlayersSection(){const _0x5d96ce=a4_0x3e5318,_0xcc41f3=document['getElementById'](_0x5d96ce(0x2d6));_0xcc41f3&&_0xcc41f3['addEventListener'](_0x5d96ce(0x5a1),function(){const _0x227e57=_0x5d96ce,_0x1b3fb5=document[_0x227e57(0x3e8)](_0x227e57(0x43b));if(_0x1b3fb5)_0x1b3fb5['click']();});const _0x43715f=document[_0x5d96ce(0x3f7)](_0x5d96ce(0x3b1)),_0x5a271c=document[_0x5d96ce(0x3f7)](_0x5d96ce(0x3be));_0x43715f&&_0x5a271c&&(_0x43715f['addEventListener']('change',function(){const _0x54fd94=_0x5d96ce;if(this['checked']){currentLadder='D1';if(document[_0x54fd94(0x3e8)]('inactive-players')[_0x54fd94(0x432)][_0x54fd94(0x535)]!==_0x54fd94(0x2fc)){const _0x46084a=document['getElementById'](_0x54fd94(0x43b));if(_0x46084a)_0x46084a[_0x54fd94(0x434)]();}}}),_0x5a271c[_0x5d96ce(0x3c5)](_0x5d96ce(0x5a1),function(){const _0x4179fa=_0x5d96ce;if(this[_0x4179fa(0x1e7)]){currentLadder='D2';if(document['getElementById'](_0x4179fa(0x4ac))[_0x4179fa(0x432)]['display']!=='none'){const _0x47a7f0=document[_0x4179fa(0x3e8)](_0x4179fa(0x43b));if(_0x47a7f0)_0x47a7f0[_0x4179fa(0x434)]();}}}));const _0x494f11=document[_0x5d96ce(0x3e8)](_0x5d96ce(0x4f6));_0x494f11&&_0x494f11[_0x5d96ce(0x3c5)](_0x5d96ce(0x4ee),debounce(function(){const _0x28a850=_0x5d96ce,_0x1dd074=_0x494f11[_0x28a850(0x475)]['toLowerCase'](),_0x5e2822=document[_0x28a850(0x534)](_0x28a850(0x4e9));_0x5e2822[_0x28a850(0x5ae)](_0x699bbb=>{const _0x1fb191=_0x28a850;if(_0x699bbb[_0x1fb191(0x3f7)](_0x1fb191(0x34c))||_0x699bbb[_0x1fb191(0x3f7)](_0x1fb191(0x622))||_0x699bbb['querySelector'](_0x1fb191(0x4c8)))return;const _0x2b7322=_0x699bbb[_0x1fb191(0x503)][0x0]?.[_0x1fb191(0x24f)][_0x1fb191(0x41f)]()||'',_0x300fca=_0x699bbb[_0x1fb191(0x503)][0x5]?.['textContent'][_0x1fb191(0x41f)]()||'';_0x2b7322[_0x1fb191(0x364)](_0x1dd074)||_0x300fca[_0x1fb191(0x364)](_0x1dd074)?_0x699bbb[_0x1fb191(0x432)][_0x1fb191(0x535)]='':_0x699bbb['style'][_0x1fb191(0x535)]='none';});},0x12c)),document[_0x5d96ce(0x3c5)]('click',function(_0x57d73e){const _0x8c6e80=_0x5d96ce;if(_0x57d73e[_0x8c6e80(0x1de)][_0x8c6e80(0x376)](_0x8c6e80(0x3d4))){const _0x4251f0=_0x57d73e[_0x8c6e80(0x1de)][_0x8c6e80(0x376)]('.view-player-btn'),_0x9ea40a=_0x4251f0[_0x8c6e80(0x390)][_0x8c6e80(0x527)];_0x9ea40a&&alert(_0x8c6e80(0x4d9)+_0x9ea40a+_0x8c6e80(0x495));}}),console['log'](_0x5d96ce(0x41a));}async function loadInactivePlayersData(){const _0xbf61e6=a4_0x3e5318,_0x2a436d=document['getElementById'](_0xbf61e6(0x431));if(!_0x2a436d)return;_0x2a436d[_0xbf61e6(0x29f)]='<tr><td\x20colspan=\x227\x22\x20class=\x22loading-cell\x22>Loading\x20inactive\x20players...</td></tr>';try{const _0x687ba1=document[_0xbf61e6(0x3e8)](_0xbf61e6(0x2d6)),_0x2c8110=_0x687ba1?parseInt(_0x687ba1[_0xbf61e6(0x475)])||0x0:0x0,_0x29360b=collection(db,currentLadder==='D1'?'players':'playersD2'),_0x7137ae=await getDocs(_0x29360b);if(_0x7137ae[_0xbf61e6(0x42f)]){_0x2a436d[_0xbf61e6(0x29f)]=_0xbf61e6(0x3dd);return;}const _0x20fa87=[];_0x7137ae['forEach'](_0x2c9a15=>{const _0x304316=_0xbf61e6,_0x52f04a=_0x2c9a15[_0x304316(0x416)]();_0x20fa87['push']({..._0x52f04a,'id':_0x2c9a15['id'],'username':_0x52f04a[_0x304316(0x527)]||'Unknown\x20Player'});}),console[_0xbf61e6(0x5cd)](_0xbf61e6(0x51d)+_0x20fa87[_0xbf61e6(0x541)]+_0xbf61e6(0x2b6)+currentLadder+_0xbf61e6(0x2bb));const _0x4ad00b=currentLadder==='D1'?_0xbf61e6(0x580):'approvedMatchesD2',_0x1a3406=_0x20fa87[_0xbf61e6(0x499)](async _0x9e0d5a=>{const _0x3d6a66=_0xbf61e6;try{const _0x3711ce=collection(db,_0x4ad00b),_0x375919=query(_0x3711ce,or(where(_0x3d6a66(0x265),'==',_0x9e0d5a['username']),where(_0x3d6a66(0x3b5),'==',_0x9e0d5a[_0x3d6a66(0x527)])),orderBy(_0x3d6a66(0x37c),'desc'),limit(0x1)),_0x47bf81=await getDocs(_0x375919);if(!_0x47bf81[_0x3d6a66(0x42f)]){const _0x15b8b3=_0x47bf81[_0x3d6a66(0x263)][0x0][_0x3d6a66(0x416)](),_0x525ab4=_0x15b8b3[_0x3d6a66(0x37c)]?new Date(_0x15b8b3['approvedAt']['seconds']*0x3e8):null,_0x54bce7=new Date(),_0x5b8c27=_0x525ab4?Math[_0x3d6a66(0x3a7)]((_0x54bce7-_0x525ab4)/(0x3e8*0x3c*0x3c*0x18)):null,_0x195d45=_0x15b8b3['winnerUsername']===_0x9e0d5a[_0x3d6a66(0x527)]?_0x15b8b3['loserUsername']:_0x15b8b3['winnerUsername'],_0x23df01=_0x15b8b3[_0x3d6a66(0x265)]===_0x9e0d5a[_0x3d6a66(0x527)]?_0x3d6a66(0x4d4):'Lost';return{..._0x9e0d5a,'lastMatch':{'date':_0x525ab4?_0x525ab4['toLocaleDateString']():_0x3d6a66(0x215),'opponent':_0x195d45||_0x3d6a66(0x61d),'result':_0x23df01,'timestamp':_0x525ab4||new Date(0x0),'daysSinceMatch':_0x5b8c27||Number[_0x3d6a66(0x37f)]}};}else return{..._0x9e0d5a,'lastMatch':{'date':'Never\x20played','opponent':'N/A','result':_0x3d6a66(0x215),'timestamp':new Date(0x0),'daysSinceMatch':Number[_0x3d6a66(0x37f)]}};}catch(_0x158ad5){return console[_0x3d6a66(0x4a3)](_0x3d6a66(0x293)+_0x9e0d5a[_0x3d6a66(0x527)]+':',_0x158ad5),{..._0x9e0d5a,'lastMatch':{'date':_0x3d6a66(0x217),'opponent':'Error','result':_0x3d6a66(0x217),'timestamp':new Date(0x0),'daysSinceMatch':0x0}};}});let _0x255fd8=await Promise[_0xbf61e6(0x600)](_0x1a3406);_0x255fd8[_0xbf61e6(0x46f)]((_0x5b3270,_0x8e3932)=>_0x8e3932[_0xbf61e6(0x509)][_0xbf61e6(0x319)]-_0x5b3270[_0xbf61e6(0x509)][_0xbf61e6(0x319)]);_0x2c8110>0x0&&(_0x255fd8=_0x255fd8[_0xbf61e6(0x378)](_0x2f79c3=>_0x2f79c3[_0xbf61e6(0x509)][_0xbf61e6(0x319)]>=_0x2c8110));_0x2a436d['innerHTML']='';if(_0x255fd8[_0xbf61e6(0x541)]===0x0){_0x2a436d[_0xbf61e6(0x29f)]=_0xbf61e6(0x5c1);return;}_0x255fd8['forEach'](_0x440613=>{const _0x1d20c7=_0xbf61e6,_0x29efbd=document[_0x1d20c7(0x26b)]('tr'),_0xb49f45=_0x440613[_0x1d20c7(0x509)][_0x1d20c7(0x319)]>0x1e?_0x1d20c7(0x300):_0x440613[_0x1d20c7(0x509)][_0x1d20c7(0x319)]>0xe?_0x1d20c7(0x472):'';_0x29efbd['className']=_0xb49f45,_0x29efbd[_0x1d20c7(0x29f)]=_0x1d20c7(0x5a0)+_0x440613['username']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x440613[_0x1d20c7(0x4c5)]||0x4b0)+_0x1d20c7(0x35e)+_0x440613['lastMatch'][_0x1d20c7(0x55e)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x440613[_0x1d20c7(0x509)]['daysSinceMatch']===Number['MAX_SAFE_INTEGER']?_0x1d20c7(0x215):_0x440613['lastMatch'][_0x1d20c7(0x319)])+_0x1d20c7(0x35e)+currentLadder+_0x1d20c7(0x35e)+(_0x440613[_0x1d20c7(0x509)][_0x1d20c7(0x55e)]===_0x1d20c7(0x4a8)?_0x1d20c7(0x4d5):_0x440613[_0x1d20c7(0x509)][_0x1d20c7(0x604)]+'\x20vs\x20'+_0x440613[_0x1d20c7(0x509)][_0x1d20c7(0x603)])+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22view-player-btn\x22\x20data-username=\x22'+_0x440613[_0x1d20c7(0x527)]+_0x1d20c7(0x276),_0x2a436d['appendChild'](_0x29efbd);}),console[_0xbf61e6(0x5cd)](_0xbf61e6(0x5b8)+_0x255fd8[_0xbf61e6(0x541)]+_0xbf61e6(0x5e8));}catch(_0x67164c){console[_0xbf61e6(0x4a3)](_0xbf61e6(0x51e),_0x67164c),_0x2a436d[_0xbf61e6(0x29f)]='<tr><td\x20colspan=\x227\x22\x20class=\x22error-state\x22>Error\x20loading\x20inactive\x20players:\x20'+_0x67164c[_0xbf61e6(0x528)]+'</td></tr>';}}function setupHighlightButtons(){const _0x3e3691=a4_0x3e5318;console[_0x3e3691(0x5cd)](_0x3e3691(0x461));const _0x1db4df=document[_0x3e3691(0x3e8)](_0x3e3691(0x5a6));_0x1db4df&&_0x1db4df[_0x3e3691(0x3c5)](_0x3e3691(0x434),function(){const _0x240fef=_0x3e3691;console[_0x240fef(0x5cd)](_0x240fef(0x3cd)),openHighlightModal('match');});const _0x517ba0=document[_0x3e3691(0x3e8)]('create-creator-highlight-btn');_0x517ba0&&_0x517ba0[_0x3e3691(0x3c5)]('click',function(){const _0x3b1360=_0x3e3691;console[_0x3b1360(0x5cd)](_0x3b1360(0x3e7)),openHighlightModal('creator');});const _0x26a4fb=document[_0x3e3691(0x3e8)](_0x3e3691(0x5e7));_0x26a4fb&&_0x26a4fb[_0x3e3691(0x3c5)]('click',function(){const _0x25059a=_0x3e3691;console[_0x25059a(0x5cd)](_0x25059a(0x337)),openHighlightModal(_0x25059a(0x460));});}function openHighlightModal(_0x3ddd5e=a4_0x3e5318(0x632)){const _0x42600e=a4_0x3e5318;console[_0x42600e(0x5cd)]('Opening\x20highlight\x20modal\x20with\x20parameter:\x20'+_0x3ddd5e);const _0x2617e9=document['getElementById'](_0x42600e(0x331)),_0x7dd1d6=document[_0x42600e(0x3e8)](_0x42600e(0x2e9)),_0x33f79f=document[_0x42600e(0x3e8)](_0x42600e(0x386)),_0x2bfa2f=document['getElementById'](_0x42600e(0x3de));if(!_0x2617e9||!_0x7dd1d6||!_0x33f79f){console[_0x42600e(0x4a3)](_0x42600e(0x5c7));return;}_0x7dd1d6[_0x42600e(0x2a7)](),_0x2bfa2f[_0x42600e(0x475)]='';const _0x3009de=[_0x42600e(0x632),_0x42600e(0x27d),'achievement'],_0x2139b1=!_0x3009de[_0x42600e(0x364)](_0x3ddd5e);if(_0x2139b1){const _0x38c73c=_0x3ddd5e;_0x2bfa2f[_0x42600e(0x475)]=_0x38c73c,_0x33f79f['textContent']='Loading...',loadHighlightDataAdmin(_0x38c73c);}else{const _0x4d9b61=_0x3ddd5e;document['getElementById'](_0x42600e(0x4cf))[_0x42600e(0x475)]=_0x4d9b61,_0x33f79f[_0x42600e(0x24f)]='Create\x20New\x20'+getHighlightTypeName(_0x4d9b61),toggleHighlightFields(_0x4d9b61);const _0x382a68=auth[_0x42600e(0x3e4)];_0x382a68&&document['getElementById'](_0x42600e(0x262))&&(document[_0x42600e(0x3e8)](_0x42600e(0x262))['value']=_0x382a68['displayName']||_0x382a68['email']);}_0x2617e9['classList'][_0x42600e(0x616)](_0x42600e(0x4f5));}function toggleHighlightFields(_0x3b6229){const _0x362ab2=a4_0x3e5318;console['log'](_0x362ab2(0x20b)+_0x3b6229);const _0x41056f=document[_0x362ab2(0x3e8)](_0x362ab2(0x2e9));if(!_0x41056f)return;const _0x342e12=_0x41056f[_0x362ab2(0x534)](_0x362ab2(0x49a));_0x342e12[_0x362ab2(0x5ae)](_0x190cf2=>_0x190cf2['style'][_0x362ab2(0x535)]=_0x362ab2(0x2fc));const _0xff328b=document[_0x362ab2(0x3e8)](_0x362ab2(0x2b7));if(_0xff328b)_0xff328b['style'][_0x362ab2(0x535)]=_0x362ab2(0x2fc);const _0x140725=['highlight-title-container',_0x362ab2(0x21c),_0x362ab2(0x436)];_0x140725[_0x362ab2(0x5ae)](_0x5f619b=>{const _0x4cf20f=_0x362ab2,_0x210988=document[_0x4cf20f(0x3e8)](_0x5f619b);if(_0x210988)_0x210988[_0x4cf20f(0x432)][_0x4cf20f(0x535)]=_0x4cf20f(0x45f);});if(_0x3b6229===_0x362ab2(0x632)){const _0x29e4ba=[_0x362ab2(0x588),'highlight-match-info-container',_0x362ab2(0x613),_0x362ab2(0x43e),_0x362ab2(0x33e),_0x362ab2(0x218)];_0x29e4ba['forEach'](_0x1f3b34=>{const _0x421bf6=_0x362ab2,_0x2b3266=document[_0x421bf6(0x3e8)](_0x1f3b34);_0x2b3266&&(_0x1f3b34==='highlight-players-container'?_0x2b3266[_0x421bf6(0x432)][_0x421bf6(0x535)]=_0x421bf6(0x437):_0x2b3266[_0x421bf6(0x432)][_0x421bf6(0x535)]=_0x421bf6(0x45f));});const _0x38c0d6=document[_0x362ab2(0x3e8)](_0x362ab2(0x377));if(_0x38c0d6){_0x38c0d6[_0x362ab2(0x47e)]=!![];const _0x45c729=_0x38c0d6[_0x362ab2(0x2f9)];if(_0x45c729)_0x45c729['innerHTML']='YouTube\x20Video\x20ID*';}if(_0xff328b)_0xff328b[_0x362ab2(0x432)][_0x362ab2(0x535)]='block';updateHighlightVideoPreview();}else{if(_0x3b6229==='creator'){const _0x491d05=[_0x362ab2(0x613),'highlight-map-creator-container',_0x362ab2(0x4e7),_0x362ab2(0x298),_0x362ab2(0x588)];_0x491d05['forEach'](_0xa98468=>{const _0x1d40e6=_0x362ab2,_0x2c382e=document[_0x1d40e6(0x3e8)](_0xa98468);if(_0x2c382e)_0x2c382e[_0x1d40e6(0x432)][_0x1d40e6(0x535)]=_0x1d40e6(0x45f);});const _0x201cba=document[_0x362ab2(0x3e8)]('highlight-video-id');if(_0x201cba){_0x201cba[_0x362ab2(0x47e)]=![];const _0x23f563=_0x201cba[_0x362ab2(0x2f9)];if(_0x23f563)_0x23f563[_0x362ab2(0x29f)]=_0x362ab2(0x4bf);}}else{if(_0x3b6229==='achievement'){const _0x2a779d=[_0x362ab2(0x2be),_0x362ab2(0x32b),_0x362ab2(0x1e1),_0x362ab2(0x5b9),'highlight-achievement-image-container',_0x362ab2(0x588)];_0x2a779d[_0x362ab2(0x5ae)](_0x1cdfcb=>{const _0x52b5b6=_0x362ab2,_0xd4ea6a=document[_0x52b5b6(0x3e8)](_0x1cdfcb);if(_0xd4ea6a)_0xd4ea6a[_0x52b5b6(0x432)][_0x52b5b6(0x535)]=_0x52b5b6(0x45f);});const _0x522d98=document[_0x362ab2(0x3e8)](_0x362ab2(0x377));if(_0x522d98){_0x522d98['required']=![];const _0x4ac7e2=_0x522d98[_0x362ab2(0x2f9)];if(_0x4ac7e2)_0x4ac7e2[_0x362ab2(0x29f)]=_0x362ab2(0x4bf);}}}}}async function loadHighlightDataAdmin(_0x2fd1be){const _0x55ed8a=a4_0x3e5318;try{const _0x4fc3bf=doc(db,_0x55ed8a(0x5da),_0x2fd1be),_0x270605=await getDoc(_0x4fc3bf);if(!_0x270605['exists']()){showNotification('Highlight\x20not\x20found',_0x55ed8a(0x4a3));return;}const _0x2b9d8f=_0x270605[_0x55ed8a(0x416)](),_0xff48bd=_0x2b9d8f[_0x55ed8a(0x22e)]||_0x55ed8a(0x632);document[_0x55ed8a(0x3e8)](_0x55ed8a(0x386))['textContent']=_0x55ed8a(0x32a)+getHighlightTypeName(_0xff48bd),document['getElementById'](_0x55ed8a(0x4cf))[_0x55ed8a(0x475)]=_0xff48bd,toggleHighlightFields(_0xff48bd),document['getElementById']('highlight-title')[_0x55ed8a(0x475)]=_0x2b9d8f['title']||'',document[_0x55ed8a(0x3e8)](_0x55ed8a(0x5b3))[_0x55ed8a(0x475)]=_0x2b9d8f['description']||'',document[_0x55ed8a(0x3e8)](_0x55ed8a(0x262))[_0x55ed8a(0x475)]=_0x2b9d8f['submittedBy']||'';_0x2b9d8f[_0x55ed8a(0x621)]&&(document[_0x55ed8a(0x3e8)](_0x55ed8a(0x377))[_0x55ed8a(0x475)]=_0x2b9d8f[_0x55ed8a(0x621)],updateHighlightVideoPreview());if(_0xff48bd===_0x55ed8a(0x632)){document['getElementById'](_0x55ed8a(0x624))[_0x55ed8a(0x475)]=_0x2b9d8f[_0x55ed8a(0x62f)]||'',document[_0x55ed8a(0x3e8)](_0x55ed8a(0x281))[_0x55ed8a(0x475)]=_0x2b9d8f[_0x55ed8a(0x499)]||'';if(_0x2b9d8f[_0x55ed8a(0x2c6)]){const _0x812328=new Date(_0x2b9d8f[_0x55ed8a(0x2c6)][_0x55ed8a(0x27b)]*0x3e8);document['getElementById']('highlight-match-date')[_0x55ed8a(0x475)]=_0x812328[_0x55ed8a(0x60c)]()['split']('T')[0x0];}document['getElementById'](_0x55ed8a(0x35a))['value']=_0x2b9d8f[_0x55ed8a(0x5ad)]||'',document[_0x55ed8a(0x3e8)]('highlight-winner-score')[_0x55ed8a(0x475)]=_0x2b9d8f[_0x55ed8a(0x53d)]||'',document[_0x55ed8a(0x3e8)]('highlight-loser-name')['value']=_0x2b9d8f[_0x55ed8a(0x491)]||'',document[_0x55ed8a(0x3e8)](_0x55ed8a(0x33a))[_0x55ed8a(0x475)]=_0x2b9d8f['loserScore']||'',document[_0x55ed8a(0x3e8)](_0x55ed8a(0x1fe))[_0x55ed8a(0x475)]=_0x2b9d8f[_0x55ed8a(0x37a)]||'';}else{if(_0xff48bd===_0x55ed8a(0x27d))document['getElementById'](_0x55ed8a(0x281))[_0x55ed8a(0x475)]=_0x2b9d8f[_0x55ed8a(0x499)]||'',document[_0x55ed8a(0x3e8)](_0x55ed8a(0x638))[_0x55ed8a(0x475)]=_0x2b9d8f[_0x55ed8a(0x597)]||'',document['getElementById']('highlight-map-version')['value']=_0x2b9d8f['mapVersion']||'',document[_0x55ed8a(0x3e8)](_0x55ed8a(0x5c2))[_0x55ed8a(0x475)]=_0x2b9d8f[_0x55ed8a(0x5a7)]||'';else _0xff48bd===_0x55ed8a(0x460)&&(document[_0x55ed8a(0x3e8)]('highlight-achievement-player')[_0x55ed8a(0x475)]=_0x2b9d8f[_0x55ed8a(0x39c)]||'',document['getElementById'](_0x55ed8a(0x21b))['value']=_0x2b9d8f[_0x55ed8a(0x2a1)]||'',document[_0x55ed8a(0x3e8)](_0x55ed8a(0x287))[_0x55ed8a(0x475)]=_0x2b9d8f[_0x55ed8a(0x353)]||'',document[_0x55ed8a(0x3e8)](_0x55ed8a(0x477))[_0x55ed8a(0x475)]=_0x2b9d8f[_0x55ed8a(0x4be)]||'',document[_0x55ed8a(0x3e8)](_0x55ed8a(0x333))[_0x55ed8a(0x475)]=_0x2b9d8f[_0x55ed8a(0x598)]||'');}}catch(_0x45e60d){console[_0x55ed8a(0x4a3)](_0x55ed8a(0x225),_0x45e60d),showNotification(_0x55ed8a(0x363)+_0x45e60d[_0x55ed8a(0x528)],'error');}}async function saveHighlight(){const _0x389bf9=a4_0x3e5318;try{const _0x5cbe7a=document[_0x389bf9(0x3e8)]('highlight-id')?.[_0x389bf9(0x475)]||'',_0x23e3af=document[_0x389bf9(0x3e8)](_0x389bf9(0x4cf))?.[_0x389bf9(0x475)]||_0x389bf9(0x632),_0x24c90c={'title':document[_0x389bf9(0x3e8)](_0x389bf9(0x29b))?.[_0x389bf9(0x475)]?.[_0x389bf9(0x52a)]()||'','description':document[_0x389bf9(0x3e8)](_0x389bf9(0x5b3))?.[_0x389bf9(0x475)]?.[_0x389bf9(0x52a)]()||'','submittedBy':document['getElementById'](_0x389bf9(0x262))?.[_0x389bf9(0x475)]?.['trim']()||'','videoId':document[_0x389bf9(0x3e8)](_0x389bf9(0x377))?.[_0x389bf9(0x475)]?.['trim']()||null,'type':_0x23e3af};if(!_0x24c90c[_0x389bf9(0x2eb)]){showNotification('Title\x20is\x20required',_0x389bf9(0x4a3));return;}if(_0x23e3af===_0x389bf9(0x632)){_0x24c90c[_0x389bf9(0x62f)]=document[_0x389bf9(0x3e8)](_0x389bf9(0x624))?.[_0x389bf9(0x475)]?.['trim']()||'',_0x24c90c[_0x389bf9(0x499)]=document[_0x389bf9(0x3e8)](_0x389bf9(0x281))?.[_0x389bf9(0x475)]?.[_0x389bf9(0x52a)]()||'';const _0x39d18c=document[_0x389bf9(0x3e8)]('highlight-match-date'),_0x422778=_0x39d18c?.[_0x389bf9(0x475)]||'';_0x24c90c[_0x389bf9(0x2c6)]=_0x422778?Timestamp[_0x389bf9(0x274)](new Date(_0x422778)):null,_0x24c90c[_0x389bf9(0x5ad)]=document['getElementById'](_0x389bf9(0x35a))?.[_0x389bf9(0x475)]?.[_0x389bf9(0x52a)]()||'',_0x24c90c[_0x389bf9(0x53d)]=document[_0x389bf9(0x3e8)](_0x389bf9(0x5c5))?.['value']?.[_0x389bf9(0x52a)]()||'',_0x24c90c[_0x389bf9(0x491)]=document[_0x389bf9(0x3e8)](_0x389bf9(0x29a))?.[_0x389bf9(0x475)]?.[_0x389bf9(0x52a)]()||'',_0x24c90c[_0x389bf9(0x4fb)]=document[_0x389bf9(0x3e8)](_0x389bf9(0x33a))?.[_0x389bf9(0x475)]?.[_0x389bf9(0x52a)]()||'',_0x24c90c['matchLink']=document[_0x389bf9(0x3e8)](_0x389bf9(0x1fe))?.[_0x389bf9(0x475)]?.[_0x389bf9(0x52a)]()||'';if(!_0x24c90c[_0x389bf9(0x621)]){showNotification(_0x389bf9(0x320),_0x389bf9(0x4a3));return;}}else{if(_0x23e3af===_0x389bf9(0x27d)){_0x24c90c['map']=document[_0x389bf9(0x3e8)](_0x389bf9(0x281))?.[_0x389bf9(0x475)]?.[_0x389bf9(0x52a)]()||'',_0x24c90c[_0x389bf9(0x597)]=document[_0x389bf9(0x3e8)]('highlight-map-creator')?.[_0x389bf9(0x475)]?.[_0x389bf9(0x52a)]()||'',_0x24c90c[_0x389bf9(0x342)]=document[_0x389bf9(0x3e8)](_0x389bf9(0x335))?.['value']?.['trim']()||'',_0x24c90c[_0x389bf9(0x5a7)]=document[_0x389bf9(0x3e8)](_0x389bf9(0x5c2))?.['value']?.['trim']()||'';if(!_0x24c90c['mapCreator']){showNotification('Map\x20Creator\x20is\x20required',_0x389bf9(0x4a3));return;}}else{if(_0x23e3af==='achievement'){_0x24c90c[_0x389bf9(0x39c)]=document[_0x389bf9(0x3e8)](_0x389bf9(0x361))?.[_0x389bf9(0x475)]?.['trim']()||'',_0x24c90c['achievementType']=document[_0x389bf9(0x3e8)](_0x389bf9(0x21b))?.[_0x389bf9(0x475)]?.[_0x389bf9(0x52a)]()||'',_0x24c90c[_0x389bf9(0x353)]=document['getElementById'](_0x389bf9(0x287))?.[_0x389bf9(0x475)]?.[_0x389bf9(0x52a)]()||'',_0x24c90c['playerProfileUrl']=document[_0x389bf9(0x3e8)](_0x389bf9(0x477))?.['value']?.[_0x389bf9(0x52a)]()||'',_0x24c90c[_0x389bf9(0x598)]=document[_0x389bf9(0x3e8)](_0x389bf9(0x333))?.[_0x389bf9(0x475)]?.[_0x389bf9(0x52a)]()||'';if(!_0x24c90c[_0x389bf9(0x39c)]){showNotification('Player\x20Name\x20is\x20required',_0x389bf9(0x4a3));return;}}}}_0x5cbe7a?(_0x24c90c[_0x389bf9(0x448)]=serverTimestamp(),await updateDoc(doc(db,'highlights',_0x5cbe7a),_0x24c90c),showNotification(_0x389bf9(0x291),_0x389bf9(0x4b8))):(_0x24c90c[_0x389bf9(0x3cf)]=serverTimestamp(),await addDoc(collection(db,_0x389bf9(0x5da)),_0x24c90c),showNotification(_0x389bf9(0x3e0),_0x389bf9(0x4b8))),closeHighlightModal(),loadHighlightsAdmin();}catch(_0x42f47b){console[_0x389bf9(0x4a3)](_0x389bf9(0x369),_0x42f47b),showNotification(_0x389bf9(0x34f)+_0x42f47b['message'],'error');}}function closeHighlightModal(){const _0xd8589e=a4_0x3e5318,_0x337f2d=document['getElementById']('highlight-modal');if(_0x337f2d)_0x337f2d[_0xd8589e(0x556)]['remove']('active');}function getHighlightTypeName(_0x427f1c){const _0x272aa4=a4_0x3e5318;switch(_0x427f1c){case'match':return _0x272aa4(0x355);case'creator':return _0x272aa4(0x583);case _0x272aa4(0x460):return _0x272aa4(0x32f);default:return _0x272aa4(0x4f3);}}function updateHighlightVideoPreview(){const _0xea3f59=a4_0x3e5318,_0x19fc4f=document['getElementById'](_0xea3f59(0x377)),_0x3c8062=document[_0xea3f59(0x3e8)](_0xea3f59(0x2b7)),_0x310651=document[_0xea3f59(0x3e8)](_0xea3f59(0x1fd));if(!_0x19fc4f||!_0x310651||!_0x3c8062)return;const _0x5b5a34=_0x19fc4f[_0xea3f59(0x475)]['trim']();_0x5b5a34&&/^[a-zA-Z0-9_-]{11}$/['test'](_0x5b5a34)?(_0x310651[_0xea3f59(0x359)]=_0xea3f59(0x2c2)+_0x5b5a34,_0x3c8062[_0xea3f59(0x432)]['display']='block'):(_0x310651[_0xea3f59(0x359)]='',_0x3c8062[_0xea3f59(0x432)][_0xea3f59(0x535)]=_0xea3f59(0x2fc));}async function loadHighlightsAdmin(){const _0x35da89=a4_0x3e5318,_0x20801a=document[_0x35da89(0x3e8)](_0x35da89(0x5e5));if(!_0x20801a)return;_0x20801a['innerHTML']='<tr><td\x20colspan=\x226\x22\x20class=\x22loading-cell\x22>Loading\x20highlights...</td></tr>';try{const _0x48355f=query(collection(db,'highlights'),orderBy(_0x35da89(0x3cf),'desc')),_0x5547fe=await getDocs(_0x48355f);if(_0x5547fe[_0x35da89(0x42f)]){_0x20801a['innerHTML']=_0x35da89(0x40f);return;}_0x20801a[_0x35da89(0x29f)]='',_0x5547fe[_0x35da89(0x5ae)](_0xf2ad4b=>{const _0x32083f=_0x35da89,_0x8e7065=_0xf2ad4b[_0x32083f(0x416)](),_0x2eec6a=document[_0x32083f(0x26b)]('tr'),_0x30adbd=_0x8e7065[_0x32083f(0x3cf)]?new Date(_0x8e7065[_0x32083f(0x3cf)][_0x32083f(0x27b)]*0x3e8)[_0x32083f(0x569)]():_0x32083f(0x215);let _0x114801='Unknown',_0x483e70='';switch(_0x8e7065[_0x32083f(0x22e)]){case _0x32083f(0x632):_0x114801=_0x32083f(0x513),_0x483e70=_0x32083f(0x411);break;case'creator':_0x114801=_0x32083f(0x312),_0x483e70=_0x32083f(0x2ed);break;case _0x32083f(0x460):_0x114801=_0x32083f(0x54a),_0x483e70=_0x32083f(0x1cd);break;}_0x2eec6a[_0x32083f(0x29f)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x8e7065[_0x32083f(0x2eb)]||_0x32083f(0x2dd))+_0x32083f(0x245)+_0x483e70+'\x22>'+_0x114801+_0x32083f(0x5fe)+_0x30adbd+_0x32083f(0x35e)+(_0x8e7065[_0x32083f(0x38c)]||_0x32083f(0x61d))+_0x32083f(0x35e)+(_0x8e7065[_0x32083f(0x621)]?_0x32083f(0x28d):_0x32083f(0x51a))+_0x32083f(0x283)+_0xf2ad4b['id']+'\x22\x20title=\x22Edit\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-edit\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-highlight-btn\x22\x20data-id=\x22'+_0xf2ad4b['id']+'\x22\x20title=\x22Delete\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x20801a[_0x32083f(0x45a)](_0x2eec6a);}),document['querySelectorAll'](_0x35da89(0x5fb))['forEach'](_0x2c4585=>{_0x2c4585['addEventListener']('click',_0x4a8f8b=>{const _0x5c9c5f=a4_0x4074;openHighlightModal(_0x4a8f8b[_0x5c9c5f(0x277)][_0x5c9c5f(0x390)]['id']);});}),document[_0x35da89(0x534)](_0x35da89(0x25f))[_0x35da89(0x5ae)](_0x3cf334=>{const _0x120bab=_0x35da89;_0x3cf334[_0x120bab(0x3c5)](_0x120bab(0x434),_0x311892=>{const _0xa0d026=_0x120bab;confirmDeleteHighlight(_0x311892[_0xa0d026(0x277)][_0xa0d026(0x390)]['id']);});});}catch(_0x2e8a93){console[_0x35da89(0x4a3)]('Error\x20loading\x20highlights:',_0x2e8a93),_0x20801a[_0x35da89(0x29f)]=_0x35da89(0x500)+_0x2e8a93[_0x35da89(0x528)]+_0x35da89(0x5fd);}}async function confirmDeleteHighlight(_0x21b89e){const _0x2c5d91=a4_0x3e5318;if(confirm(_0x2c5d91(0x4dc)))try{await deleteDoc(doc(db,_0x2c5d91(0x5da),_0x21b89e)),showNotification('Highlight\x20deleted\x20successfully',_0x2c5d91(0x4b8)),loadHighlightsAdmin();}catch(_0x28e4dd){console[_0x2c5d91(0x4a3)](_0x2c5d91(0x5bd),_0x28e4dd),showNotification(_0x2c5d91(0x440)+_0x28e4dd[_0x2c5d91(0x528)],'error');}}function setupCreateTestMatchModal(){const _0x38a3ff=a4_0x3e5318;console['log'](_0x38a3ff(0x47a));const _0x32c187=document[_0x38a3ff(0x3e8)](_0x38a3ff(0x3e2)),_0x34b6b7=document[_0x38a3ff(0x3e8)](_0x38a3ff(0x25e));if(!_0x32c187){console[_0x38a3ff(0x4a3)]('Create\x20test\x20match\x20modal\x20not\x20found\x20in\x20DOM');return;}if(!_0x34b6b7){console['error'](_0x38a3ff(0x555));return;}const _0x112443=_0x32c187[_0x38a3ff(0x502)](!![]);_0x32c187[_0x38a3ff(0x5d1)]['replaceChild'](_0x112443,_0x32c187);const _0x262017=_0x112443[_0x38a3ff(0x3f7)]('#create-test-match-form');_0x112443[_0x38a3ff(0x3c5)](_0x38a3ff(0x434),function(_0x187e85){const _0x3f088c=_0x38a3ff;_0x187e85[_0x3f088c(0x1de)]===_0x112443&&(console[_0x3f088c(0x5cd)](_0x3f088c(0x61c)),closeCreateTestMatchModal());});const _0x431a67=_0x112443[_0x38a3ff(0x3f7)](_0x38a3ff(0x49d));_0x431a67&&_0x431a67[_0x38a3ff(0x3c5)](_0x38a3ff(0x434),function(_0x1460b1){const _0x180c9b=_0x38a3ff;_0x1460b1[_0x180c9b(0x575)](),_0x1460b1['stopPropagation'](),console[_0x180c9b(0x5cd)](_0x180c9b(0x305)),closeCreateTestMatchModal();});const _0x50b394=_0x112443['querySelector'](_0x38a3ff(0x394));_0x50b394&&_0x50b394[_0x38a3ff(0x3c5)]('click',function(_0x234adb){const _0x2b125b=_0x38a3ff;_0x234adb[_0x2b125b(0x575)](),_0x234adb[_0x2b125b(0x2c1)](),console[_0x2b125b(0x5cd)](_0x2b125b(0x5f5)),closeCreateTestMatchModal();});if(_0x262017){_0x262017[_0x38a3ff(0x3c5)](_0x38a3ff(0x385),function(_0x545c74){const _0x16d9e5=_0x38a3ff;_0x545c74['preventDefault'](),_0x545c74[_0x16d9e5(0x2c1)](),console[_0x16d9e5(0x5cd)](_0x16d9e5(0x32e)),createTestMatch();});const _0x2282e8=_0x262017[_0x38a3ff(0x3f7)](_0x38a3ff(0x531));_0x2282e8&&_0x2282e8[_0x38a3ff(0x3c5)]('click',function(_0x188501){const _0x477d28=_0x38a3ff;_0x188501[_0x477d28(0x575)](),_0x188501[_0x477d28(0x2c1)](),console[_0x477d28(0x5cd)]('Submit\x20button\x20clicked\x20directly'),createTestMatch();});}console[_0x38a3ff(0x5cd)](_0x38a3ff(0x44b));}function setupManageHighlightsSection(){const _0x422a23=a4_0x3e5318;console[_0x422a23(0x5cd)](_0x422a23(0x48b)),setupHighlightButtons();const _0x4654da=document[_0x422a23(0x3e8)](_0x422a23(0x2e9));_0x4654da&&_0x4654da['addEventListener'](_0x422a23(0x385),_0xb1ae85=>{const _0x50d622=_0x422a23;_0xb1ae85[_0x50d622(0x575)](),saveHighlight();});const _0x99697c=document[_0x422a23(0x3e8)]('cancel-highlight-btn');_0x99697c&&_0x99697c[_0x422a23(0x3c5)](_0x422a23(0x434),closeHighlightModal);const _0x1a1f23=document[_0x422a23(0x3f7)](_0x422a23(0x374));_0x1a1f23&&_0x1a1f23[_0x422a23(0x3c5)](_0x422a23(0x434),closeHighlightModal);const _0x21535d=document[_0x422a23(0x3e8)](_0x422a23(0x331));_0x21535d&&_0x21535d[_0x422a23(0x3c5)]('click',_0x28b61f=>{_0x28b61f['target']===_0x21535d&&closeHighlightModal();});const _0x3707f7=document[_0x422a23(0x3e8)]('highlight-video-id');_0x3707f7&&_0x3707f7[_0x422a23(0x3c5)](_0x422a23(0x4ee),()=>{updateHighlightVideoPreview();}),console[_0x422a23(0x5cd)](_0x422a23(0x2d7));}function setupManageMatchesSection(){const _0x3ec91c=a4_0x3e5318;console[_0x3ec91c(0x5cd)]('Setting\x20up\x20Manage\x20Matches\x20section');const _0x4491f4=document['getElementById'](_0x3ec91c(0x2ec)),_0x5b75ee=document[_0x3ec91c(0x3e8)](_0x3ec91c(0x483));_0x4491f4&&_0x4491f4[_0x3ec91c(0x3c5)](_0x3ec91c(0x434),()=>{const _0x1a79f4=_0x3ec91c,_0x16e149=currentLadder[_0x1a79f4(0x41f)]();loadMatchesData(matchesPagination[_0x16e149][_0x1a79f4(0x581)]-0x1);});_0x5b75ee&&_0x5b75ee[_0x3ec91c(0x3c5)]('click',()=>{const _0x513e92=_0x3ec91c,_0x3d0c07=currentLadder[_0x513e92(0x41f)]();loadMatchesData(matchesPagination[_0x3d0c07][_0x513e92(0x581)]+0x1);});const _0x100a0e=document['getElementById'](_0x3ec91c(0x3f8)),_0xa0a58a=document[_0x3ec91c(0x3e8)](_0x3ec91c(0x368));_0x100a0e&&_0x100a0e['addEventListener'](_0x3ec91c(0x434),applyMatchesFilters);_0xa0a58a&&_0xa0a58a[_0x3ec91c(0x3c5)](_0x3ec91c(0x434),resetMatchesFilters);const _0x1038cb=document[_0x3ec91c(0x3e8)](_0x3ec91c(0x325));_0x1038cb&&_0x1038cb[_0x3ec91c(0x3c5)](_0x3ec91c(0x4ee),debounce(filterMatchesTable,0x12c));const _0xeaa348=document[_0x3ec91c(0x3e8)](_0x3ec91c(0x427));_0xeaa348&&_0xeaa348[_0x3ec91c(0x3c5)]('click',openResimulateModal);const _0x9dc19e=document[_0x3ec91c(0x3e8)](_0x3ec91c(0x341));if(_0x9dc19e){const _0x325af4=_0x9dc19e[_0x3ec91c(0x3f7)]('.close');_0x325af4&&_0x325af4[_0x3ec91c(0x3c5)](_0x3ec91c(0x434),closeResimulateModal),_0x9dc19e[_0x3ec91c(0x3c5)](_0x3ec91c(0x434),_0x1560f7=>{const _0x37084c=_0x3ec91c;_0x1560f7[_0x37084c(0x1de)]===_0x9dc19e&&closeResimulateModal();});}setupCreateTestMatchButton(),setupCreateTestMatchModal(),console[_0x3ec91c(0x5cd)](_0x3ec91c(0x5d8));}function openCreateTestMatchModal(){const _0x5b7cf0=a4_0x3e5318;console[_0x5b7cf0(0x5cd)](_0x5b7cf0(0x465));const _0xea4a60=document[_0x5b7cf0(0x3e8)](_0x5b7cf0(0x3e2)),_0x21224b=document[_0x5b7cf0(0x3e8)](_0x5b7cf0(0x25e));if(!_0xea4a60){console[_0x5b7cf0(0x4a3)](_0x5b7cf0(0x4fc)),showNotification(_0x5b7cf0(0x4fc),_0x5b7cf0(0x4a3));return;}if(!_0x21224b){console[_0x5b7cf0(0x4a3)](_0x5b7cf0(0x332)),showNotification('Create\x20test\x20match\x20form\x20not\x20found','error');return;}_0x21224b[_0x5b7cf0(0x2a7)]();const _0x59e8bd=document[_0x5b7cf0(0x534)]('input[name=\x22test-match-ladder\x22]');let _0x58974e=![];_0x59e8bd[_0x5b7cf0(0x5ae)](_0x599677=>{const _0x44660c=_0x5b7cf0;console[_0x44660c(0x5cd)](_0x44660c(0x508),_0x599677['value']),_0x599677[_0x44660c(0x475)]===currentLadder&&(_0x599677[_0x44660c(0x1e7)]=!![],_0x58974e=!![],console[_0x44660c(0x5cd)]('Set\x20default\x20ladder\x20to:',currentLadder));});if(!_0x58974e){console[_0x5b7cf0(0x229)](_0x5b7cf0(0x404),currentLadder);const _0x18642a=document[_0x5b7cf0(0x3f7)](_0x5b7cf0(0x57d));_0x18642a&&(_0x18642a[_0x5b7cf0(0x1e7)]=!![],console[_0x5b7cf0(0x5cd)](_0x5b7cf0(0x23e)));}const _0x56bf2f=document[_0x5b7cf0(0x3e8)](_0x5b7cf0(0x2f5));if(_0x56bf2f){const _0x53b395=new Date()[_0x5b7cf0(0x60c)]()[_0x5b7cf0(0x39a)]('T')[0x0];_0x56bf2f[_0x5b7cf0(0x475)]=_0x53b395;}_0xea4a60['style']['display']=_0x5b7cf0(0x437),_0xea4a60['style'][_0x5b7cf0(0x1f1)]='visible',_0xea4a60[_0x5b7cf0(0x432)][_0x5b7cf0(0x439)]='1',_0xea4a60['classList'][_0x5b7cf0(0x616)]('active'),console[_0x5b7cf0(0x5cd)](_0x5b7cf0(0x577));const _0x1c573d=document[_0x5b7cf0(0x3e8)](_0x5b7cf0(0x61a));_0x1c573d&&setTimeout(()=>{const _0xe1dba3=_0x5b7cf0;_0x1c573d[_0xe1dba3(0x33c)]();},0x64);}function closeCreateTestMatchModal(){const _0x55d21e=a4_0x3e5318;console[_0x55d21e(0x5cd)]('Closing\x20create\x20test\x20match\x20modal');const _0xd218ac=document[_0x55d21e(0x3e8)](_0x55d21e(0x3e2));if(!_0xd218ac){console['error'](_0x55d21e(0x570));return;}_0xd218ac['classList'][_0x55d21e(0x49f)](_0x55d21e(0x4f5)),_0xd218ac[_0x55d21e(0x432)]['opacity']='0',_0xd218ac[_0x55d21e(0x432)][_0x55d21e(0x1f1)]='hidden',setTimeout(()=>{const _0x26feba=_0x55d21e;!_0xd218ac[_0x26feba(0x556)][_0x26feba(0x252)]('active')&&(_0xd218ac[_0x26feba(0x432)][_0x26feba(0x535)]='none');},0x12c),console[_0x55d21e(0x5cd)]('Modal\x20closed');}async function createTestMatch(){const _0x3c59dc=a4_0x3e5318;console[_0x3c59dc(0x5cd)](_0x3c59dc(0x59a));try{const _0x1eb633=auth['currentUser'];if(!_0x1eb633){showNotification(_0x3c59dc(0x5dc),_0x3c59dc(0x4a3));return;}const _0x2d4bec='D1',_0x72581='approvedMatches',_0x3e280f={'winnerUsername':_0x3c59dc(0x3b2),'winnerScore':0x14,'winnerSuicides':0x0,'winnerComment':_0x3c59dc(0x1e5),'winnerDemoLink':null,'loserUsername':_0x3c59dc(0x3b0),'loserScore':0xf,'loserSuicides':0x0,'loserComment':_0x3c59dc(0x1e5),'loserDemoLink':null,'mapPlayed':_0x3c59dc(0x4b9),'approvedAt':Timestamp[_0x3c59dc(0x274)](new Date()),'approvedBy':_0x1eb633[_0x3c59dc(0x438)],'createdAt':serverTimestamp(),'createdBy':_0x1eb633['email'],'isTestMatch':!![],'ladder':_0x2d4bec,'testMatchCreatedAt':serverTimestamp(),'testMatchNote':_0x3c59dc(0x34b)+_0x1eb633[_0x3c59dc(0x438)]};console['log'](_0x3c59dc(0x5f8)),await addDoc(collection(db,_0x72581),_0x3e280f),showNotification(_0x3c59dc(0x2ac),_0x3c59dc(0x4b8)),closeCreateTestMatchModal();}catch(_0x3b85e0){console[_0x3c59dc(0x4a3)]('Error\x20creating\x20simple\x20test\x20match:',_0x3b85e0),showNotification(_0x3c59dc(0x204)+_0x3b85e0[_0x3c59dc(0x528)],_0x3c59dc(0x4a3));}}window[a4_0x3e5318(0x1ee)]=async function(){const _0x10dea5=a4_0x3e5318;try{console[_0x10dea5(0x5cd)](_0x10dea5(0x5c3)),console['log'](_0x10dea5(0x530),auth),console['log'](_0x10dea5(0x564),db),console['log'](_0x10dea5(0x338),auth[_0x10dea5(0x3e4)]);const _0x3298a4=collection(db,'players');console[_0x10dea5(0x5cd)](_0x10dea5(0x2bf),_0x3298a4);const _0x55881b=query(_0x3298a4,where('username','==',_0x10dea5(0x1f5)));console['log'](_0x10dea5(0x35b),_0x55881b);const _0x4e1cd6=await getDocs(_0x55881b);console[_0x10dea5(0x5cd)](_0x10dea5(0x4de),_0x4e1cd6[_0x10dea5(0x42f)]),console['log'](_0x10dea5(0x343));}catch(_0x227fc4){console['error'](_0x10dea5(0x5cc),_0x227fc4);}};function setupCreateTestMatchButton(){const _0x5e0a3c=a4_0x3e5318,_0x44658a=document[_0x5e0a3c(0x3e8)](_0x5e0a3c(0x532));if(!_0x44658a){console[_0x5e0a3c(0x4a3)]('Create\x20test\x20match\x20button\x20not\x20found\x20in\x20DOM');return;}console[_0x5e0a3c(0x5cd)](_0x5e0a3c(0x442));const _0x2d4532=_0x44658a[_0x5e0a3c(0x502)](!![]);_0x44658a[_0x5e0a3c(0x5d1)][_0x5e0a3c(0x22d)](_0x2d4532,_0x44658a),_0x2d4532[_0x5e0a3c(0x3c5)](_0x5e0a3c(0x434),function(_0x48b7){const _0x58f473=_0x5e0a3c;_0x48b7[_0x58f473(0x575)](),_0x48b7[_0x58f473(0x2c1)](),console[_0x58f473(0x5cd)]('Create\x20test\x20match\x20button\x20clicked'),openCreateTestMatchModal();}),console['log'](_0x5e0a3c(0x26c));}async function loadMatchesData(_0x4286e4=0x1){const _0x278ab2=a4_0x3e5318,_0x455038=document[_0x278ab2(0x3e8)](_0x278ab2(0x5d6));if(!_0x455038)return;_0x455038[_0x278ab2(0x29f)]='<tr><td\x20colspan=\x227\x22\x20class=\x22loading-cell\x22>Loading\x20matches...</td></tr>';try{const _0x274b3c=currentLadder[_0x278ab2(0x41f)](),_0x295a0b=matchesPagination[_0x274b3c],_0x17b5d0=currentLadder==='D1'?_0x278ab2(0x580):currentLadder==='D2'?_0x278ab2(0x258):_0x278ab2(0x639),_0x51ec6b=collection(db,_0x17b5d0);_0x4286e4<=0x1?(_0x295a0b['page']=0x1,_0x295a0b[_0x278ab2(0x2aa)]=null,_0x295a0b[_0x278ab2(0x360)]=null):_0x295a0b[_0x278ab2(0x581)]=_0x4286e4;const _0x3a982a=getMatchesFilters();let _0x5e532b=_0x51ec6b;if(_0x3a982a[_0x278ab2(0x5c0)]||_0x3a982a[_0x278ab2(0x306)]||_0x3a982a['searchTerm']){let _0x2413ff=[];_0x3a982a['startDate']&&_0x3a982a[_0x278ab2(0x306)]?(_0x2413ff[_0x278ab2(0x2b5)](where(_0x278ab2(0x37c),'>=',_0x3a982a['startDate']),where(_0x278ab2(0x37c),'<=',_0x3a982a[_0x278ab2(0x306)])),_0x5e532b=query(_0x51ec6b,..._0x2413ff)):_0x5e532b=query(_0x51ec6b,orderBy(_0x278ab2(0x37c),_0x278ab2(0x601)));}else _0x5e532b=query(_0x51ec6b,orderBy(_0x278ab2(0x37c),'desc'));_0x4286e4>0x1&&_0x295a0b[_0x278ab2(0x360)]?_0x5e532b=query(_0x5e532b,startAfter(_0x295a0b['lastVisible']),limit(PAGE_SIZE)):_0x5e532b=query(_0x5e532b,limit(PAGE_SIZE));const _0x563aad=await getDocs(_0x5e532b);!_0x563aad[_0x278ab2(0x42f)]&&(_0x295a0b[_0x278ab2(0x2aa)]=_0x563aad[_0x278ab2(0x263)][0x0],_0x295a0b[_0x278ab2(0x360)]=_0x563aad[_0x278ab2(0x263)][_0x563aad[_0x278ab2(0x263)][_0x278ab2(0x541)]-0x1]);let _0x2772b7=![];if(!_0x563aad[_0x278ab2(0x42f)]){const _0x160485=query(_0x5e532b,startAfter(_0x295a0b[_0x278ab2(0x360)]),limit(0x1)),_0xba6843=await getDocs(_0x160485);_0x2772b7=!_0xba6843[_0x278ab2(0x42f)];}const _0xc7447e=document[_0x278ab2(0x3e8)](_0x278ab2(0x2ec)),_0x117e45=document['getElementById'](_0x278ab2(0x483)),_0x5ee36f=document['getElementById']('matches-page-indicator');if(_0xc7447e)_0xc7447e[_0x278ab2(0x33b)]=_0x295a0b[_0x278ab2(0x581)]<=0x1;if(_0x117e45)_0x117e45['disabled']=!_0x2772b7;if(_0x5ee36f)_0x5ee36f[_0x278ab2(0x24f)]='Page\x20'+_0x295a0b['page'];if(_0x563aad[_0x278ab2(0x42f)]){_0x455038['innerHTML']=_0x278ab2(0x4ad);return;}_0x455038[_0x278ab2(0x29f)]='',_0x563aad['forEach'](_0x498cc6=>{const _0x1ea9a5=_0x278ab2,_0x569347=_0x498cc6[_0x1ea9a5(0x416)](),_0x4ae3bc=document[_0x1ea9a5(0x26b)]('tr'),_0x1e35ab=_0x569347['approvedAt']?new Date(_0x569347[_0x1ea9a5(0x37c)]['seconds']*0x3e8)[_0x1ea9a5(0x569)]():_0x1ea9a5(0x215);_0x4ae3bc[_0x1ea9a5(0x410)](_0x1ea9a5(0x48c),_0x498cc6['id']),_0x4ae3bc['setAttribute'](_0x1ea9a5(0x412),currentLadder),_0x4ae3bc[_0x1ea9a5(0x556)][_0x1ea9a5(0x616)](_0x1ea9a5(0x573)),_0x4ae3bc['innerHTML']=_0x1ea9a5(0x5a0)+_0x1e35ab+_0x1ea9a5(0x203)+(_0x569347[_0x1ea9a5(0x265)]||'Unknown')+_0x1ea9a5(0x22a)+(_0x569347[_0x1ea9a5(0x3b5)]||_0x1ea9a5(0x61d))+_0x1ea9a5(0x2c5)+(_0x569347[_0x1ea9a5(0x53d)]||0x0)+_0x1ea9a5(0x453)+(_0x569347[_0x1ea9a5(0x4fb)]||0x0)+_0x1ea9a5(0x3b4)+(_0x569347[_0x1ea9a5(0x284)]||_0x1ea9a5(0x215))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22ladder-cell\x22>'+currentLadder+_0x1ea9a5(0x240)+_0x498cc6['id']+_0x1ea9a5(0x213)+_0x498cc6['id']+_0x1ea9a5(0x2e4),_0x455038[_0x1ea9a5(0x45a)](_0x4ae3bc);}),setupMatchesActionButtons(),_0x3a982a[_0x278ab2(0x2b1)]&&filterMatchesTable(),console[_0x278ab2(0x5cd)](_0x278ab2(0x59c)+_0x563aad['size']+_0x278ab2(0x554)+currentLadder+_0x278ab2(0x2a0)+_0x295a0b[_0x278ab2(0x581)]);}catch(_0xc1f9ef){console[_0x278ab2(0x4a3)](_0x278ab2(0x5df),_0xc1f9ef),_0x455038[_0x278ab2(0x29f)]=_0x278ab2(0x37e)+_0xc1f9ef['message']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}async function deleteMatch(_0x571f48,_0x184355){const _0x264ecd=a4_0x3e5318;try{console[_0x264ecd(0x5cd)](_0x264ecd(0x22f)+_0x571f48+_0x264ecd(0x392)+_0x184355+_0x264ecd(0x2bb));const _0xe05e80=auth[_0x264ecd(0x3e4)];if(!_0xe05e80){showNotification('You\x20must\x20be\x20logged\x20in\x20to\x20delete\x20matches',_0x264ecd(0x4a3));return;}const _0x7cf0bc=_0x184355==='D1'?_0x264ecd(0x580):_0x184355==='D2'?_0x264ecd(0x258):_0x264ecd(0x639);console[_0x264ecd(0x5cd)]('Using\x20collection:\x20'+_0x7cf0bc),showNotification(_0x264ecd(0x546),_0x264ecd(0x471)),await deleteDoc(doc(db,_0x7cf0bc,_0x571f48)),console['log'](_0x264ecd(0x222)),showNotification('Match\x20deleted\x20successfully',_0x264ecd(0x4b8));const _0xa19904=_0x184355[_0x264ecd(0x41f)]();loadMatchesData(matchesPagination[_0xa19904][_0x264ecd(0x581)]);}catch(_0x42cf5e){console['error'](_0x264ecd(0x357),_0x42cf5e),showNotification(_0x264ecd(0x5b5)+_0x42cf5e[_0x264ecd(0x528)],'error');}}function setupMatchesActionButtons(){const _0x17f171=a4_0x3e5318;console[_0x17f171(0x5cd)](_0x17f171(0x5ed)),document[_0x17f171(0x534)](_0x17f171(0x212))[_0x17f171(0x5ae)](_0xef7402=>{const _0x1637fd=_0x17f171;_0xef7402[_0x1637fd(0x3c5)](_0x1637fd(0x434),_0x4c1841=>{const _0x2538ec=_0x1637fd;_0x4c1841[_0x2538ec(0x575)](),_0x4c1841[_0x2538ec(0x2c1)]();const _0x285bdd=_0x4c1841['currentTarget'][_0x2538ec(0x390)]['id'],_0x5a1312=_0x4c1841[_0x2538ec(0x277)][_0x2538ec(0x376)]('tr'),_0x2e2cb3=_0x5a1312[_0x2538ec(0x390)][_0x2538ec(0x41e)];console[_0x2538ec(0x5cd)](_0x2538ec(0x256),_0x285bdd,_0x2e2cb3),openEditMatchModal(_0x285bdd,_0x2e2cb3);});}),document['querySelectorAll'](_0x17f171(0x3e6))[_0x17f171(0x5ae)](_0x457a65=>{const _0x426e2d=_0x17f171;_0x457a65[_0x426e2d(0x3c5)](_0x426e2d(0x434),_0x4c2864=>{const _0x5abe3d=_0x426e2d;_0x4c2864[_0x5abe3d(0x575)](),_0x4c2864[_0x5abe3d(0x2c1)]();const _0x3644ec=_0x4c2864[_0x5abe3d(0x277)][_0x5abe3d(0x390)]['id'],_0x53b04b=_0x4c2864[_0x5abe3d(0x277)][_0x5abe3d(0x376)]('tr'),_0x374615=_0x53b04b[_0x5abe3d(0x390)][_0x5abe3d(0x41e)]||currentLadder;console['log'](_0x5abe3d(0x5dd),_0x3644ec,_0x374615),confirm('Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20match?\x20This\x20action\x20cannot\x20be\x20undone.')&&deleteMatch(_0x3644ec,_0x374615);});}),console[_0x17f171(0x5cd)](_0x17f171(0x35d));}function filterMatchesTable(){const _0x233e70=a4_0x3e5318,_0x2af84d=document[_0x233e70(0x3e8)]('matches-search')[_0x233e70(0x475)][_0x233e70(0x41f)](),_0x10e2c1=document[_0x233e70(0x534)](_0x233e70(0x207));let _0x1ecb2b=0x0;_0x10e2c1['forEach'](_0x4a47a5=>{const _0x3ecb15=_0x233e70;if(_0x4a47a5[_0x3ecb15(0x556)]['contains'](_0x3ecb15(0x47b))||_0x4a47a5[_0x3ecb15(0x556)]['contains'](_0x3ecb15(0x407))||_0x4a47a5['classList'][_0x3ecb15(0x252)](_0x3ecb15(0x330)))return;const _0x2847df=_0x4a47a5[_0x3ecb15(0x503)][0x1]['textContent'][_0x3ecb15(0x41f)](),_0x2b54ee=_0x4a47a5['cells'][0x2][_0x3ecb15(0x24f)][_0x3ecb15(0x41f)](),_0x4e3516=_0x4a47a5['cells'][0x4][_0x3ecb15(0x24f)][_0x3ecb15(0x41f)]();_0x2847df['includes'](_0x2af84d)||_0x2b54ee[_0x3ecb15(0x364)](_0x2af84d)||_0x4e3516[_0x3ecb15(0x364)](_0x2af84d)?(_0x4a47a5[_0x3ecb15(0x432)][_0x3ecb15(0x535)]='',_0x1ecb2b++):_0x4a47a5[_0x3ecb15(0x432)]['display']=_0x3ecb15(0x2fc);});if(_0x1ecb2b===0x0&&_0x10e2c1['length']>0x0){const _0x138812=document[_0x233e70(0x3e8)](_0x233e70(0x5d6)),_0x292cd7=_0x138812[_0x233e70(0x3f7)](_0x233e70(0x4ed));if(!_0x292cd7){const _0x17dd57=document[_0x233e70(0x26b)]('tr');_0x17dd57[_0x233e70(0x294)]='no-results',_0x17dd57[_0x233e70(0x29f)]='<td\x20colspan=\x227\x22>No\x20matches\x20found\x20matching\x20\x27'+_0x2af84d+'\x27</td>',_0x138812[_0x233e70(0x45a)](_0x17dd57);}}else{const _0x15409b=document['querySelector'](_0x233e70(0x4ed));_0x15409b&&_0x15409b[_0x233e70(0x49f)]();}}function getMatchesFilters(){const _0x25c309=a4_0x3e5318,_0x3f7513=document[_0x25c309(0x3e8)](_0x25c309(0x325))['value'][_0x25c309(0x41f)](),_0x119012=document[_0x25c309(0x3e8)](_0x25c309(0x3ff))['value'],_0x27c644=document['getElementById'](_0x25c309(0x2c9))[_0x25c309(0x475)];let _0x22a8b6=null,_0x7d05d2=null;return _0x119012&&(_0x22a8b6=new Date(_0x119012),_0x22a8b6['setHours'](0x0,0x0,0x0,0x0),_0x22a8b6=Timestamp[_0x25c309(0x274)](_0x22a8b6)),_0x27c644&&(_0x7d05d2=new Date(_0x27c644),_0x7d05d2[_0x25c309(0x576)](0x17,0x3b,0x3b,0x3e7),_0x7d05d2=Timestamp['fromDate'](_0x7d05d2)),{'searchTerm':_0x3f7513,'startDate':_0x22a8b6,'endDate':_0x7d05d2};}async function applyMatchesFilters(){const _0x43a2ed=a4_0x3e5318,_0xa44e02=currentLadder[_0x43a2ed(0x41f)]();matchesPagination[_0xa44e02]={'page':0x1,'lastVisible':null,'firstVisible':null},await loadMatchesData(0x1);}function resetMatchesFilters(){const _0x2bceed=a4_0x3e5318;document[_0x2bceed(0x3e8)](_0x2bceed(0x3ff))[_0x2bceed(0x475)]='',document[_0x2bceed(0x3e8)](_0x2bceed(0x2c9))[_0x2bceed(0x475)]='',document[_0x2bceed(0x3e8)]('matches-search')['value']='';const _0x5e356e=currentLadder[_0x2bceed(0x41f)]();matchesPagination[_0x5e356e]={'page':0x1,'lastVisible':null,'firstVisible':null},loadMatchesData(0x1);}async function openEditMatchModal(_0x5da5d4,_0x2519db){const _0x4642c6=a4_0x3e5318,_0x3cd358=document[_0x4642c6(0x3e8)](_0x4642c6(0x44d));if(!_0x3cd358)return;try{const _0x552849=_0x2519db==='D1'?_0x4642c6(0x580):_0x2519db==='D2'?_0x4642c6(0x258):_0x4642c6(0x639),_0x162ac8=doc(db,_0x552849,_0x5da5d4),_0x46cd5d=await getDoc(_0x162ac8);if(!_0x46cd5d['exists']()){showNotification(_0x4642c6(0x3c4),_0x4642c6(0x4a3));return;}const _0x2568ad=_0x46cd5d[_0x4642c6(0x416)]();document[_0x4642c6(0x3e8)](_0x4642c6(0x62b))[_0x4642c6(0x475)]=_0x5da5d4,document[_0x4642c6(0x3e8)](_0x4642c6(0x3df))[_0x4642c6(0x475)]=_0x2519db,document[_0x4642c6(0x3e8)](_0x4642c6(0x1f6))[_0x4642c6(0x475)]=_0x2568ad['winnerUsername']||'',document[_0x4642c6(0x3e8)](_0x4642c6(0x2af))[_0x4642c6(0x475)]=_0x2568ad['winnerScore']||0x0,document[_0x4642c6(0x3e8)](_0x4642c6(0x5b0))[_0x4642c6(0x475)]=_0x2568ad[_0x4642c6(0x241)]||0x0,document[_0x4642c6(0x3e8)](_0x4642c6(0x45b))[_0x4642c6(0x475)]=_0x2568ad[_0x4642c6(0x594)]||'',document[_0x4642c6(0x3e8)](_0x4642c6(0x36e))[_0x4642c6(0x475)]=_0x2568ad[_0x4642c6(0x3b5)]||'',document[_0x4642c6(0x3e8)]('edit-match-loser-score')[_0x4642c6(0x475)]=_0x2568ad[_0x4642c6(0x4fb)]||0x0,document[_0x4642c6(0x3e8)](_0x4642c6(0x61e))['value']=_0x2568ad['loserSuicides']||0x0,document[_0x4642c6(0x3e8)]('edit-match-loser-comment')[_0x4642c6(0x475)]=_0x2568ad[_0x4642c6(0x1ef)]||'',document[_0x4642c6(0x3e8)]('edit-match-map')[_0x4642c6(0x475)]=_0x2568ad['mapPlayed']||'',document['getElementById'](_0x4642c6(0x60e))[_0x4642c6(0x475)]=_0x2568ad[_0x4642c6(0x5c9)]||'',document[_0x4642c6(0x3e8)](_0x4642c6(0x2e1))[_0x4642c6(0x475)]=_0x2568ad['loserDemoLink']||_0x2568ad[_0x4642c6(0x2c8)]||'',document['getElementById']('edit-match-title')['textContent']=_0x4642c6(0x5ab)+_0x2568ad[_0x4642c6(0x265)]+_0x4642c6(0x1dc)+_0x2568ad[_0x4642c6(0x3b5)],_0x3cd358[_0x4642c6(0x556)][_0x4642c6(0x616)]('active');}catch(_0x1b6307){console['error'](_0x4642c6(0x559),_0x1b6307),showNotification('Failed\x20to\x20load\x20match\x20data',_0x4642c6(0x4a3));}}function closeEditMatchModal(){const _0x1125b0=a4_0x3e5318,_0x14a731=document[_0x1125b0(0x3e8)](_0x1125b0(0x44d));_0x14a731&&_0x14a731[_0x1125b0(0x556)][_0x1125b0(0x49f)](_0x1125b0(0x4f5));}async function saveEditedMatch(){const _0x2f36a1=a4_0x3e5318;try{const _0xe12d9b=document[_0x2f36a1(0x3e8)](_0x2f36a1(0x62b))[_0x2f36a1(0x475)],_0x5a082b=document[_0x2f36a1(0x3e8)](_0x2f36a1(0x3df))[_0x2f36a1(0x475)];if(!_0xe12d9b||!_0x5a082b){showNotification(_0x2f36a1(0x26d),_0x2f36a1(0x4a3));return;}const _0x2f846d=_0x5a082b==='D1'?_0x2f36a1(0x580):_0x5a082b==='D2'?'approvedMatchesD2':'approvedMatchesD3',_0x2d1019=document[_0x2f36a1(0x3e8)](_0x2f36a1(0x1f6))[_0x2f36a1(0x475)]['trim'](),_0x2e011e=parseInt(document[_0x2f36a1(0x3e8)](_0x2f36a1(0x2af))[_0x2f36a1(0x475)]),_0xd13b23=parseInt(document[_0x2f36a1(0x3e8)]('edit-match-winner-suicides')[_0x2f36a1(0x475)]),_0x1e25a7=document[_0x2f36a1(0x3e8)](_0x2f36a1(0x45b))['value'][_0x2f36a1(0x52a)](),_0x30a2ea=document[_0x2f36a1(0x3e8)](_0x2f36a1(0x36e))[_0x2f36a1(0x475)][_0x2f36a1(0x52a)](),_0xdfcc40=parseInt(document['getElementById'](_0x2f36a1(0x1d0))[_0x2f36a1(0x475)]),_0xae9ba5=parseInt(document[_0x2f36a1(0x3e8)]('edit-match-loser-suicides')[_0x2f36a1(0x475)]),_0x10c290=document[_0x2f36a1(0x3e8)]('edit-match-loser-comment')['value'][_0x2f36a1(0x52a)](),_0x41924a=document[_0x2f36a1(0x3e8)](_0x2f36a1(0x234))[_0x2f36a1(0x475)][_0x2f36a1(0x52a)](),_0x5ace32=document[_0x2f36a1(0x3e8)](_0x2f36a1(0x60e))[_0x2f36a1(0x475)][_0x2f36a1(0x52a)](),_0xaac159=document[_0x2f36a1(0x3e8)](_0x2f36a1(0x2e1))['value'][_0x2f36a1(0x52a)]();if(!_0x2d1019||!_0x30a2ea){showNotification(_0x2f36a1(0x626),'error');return;}await updateDoc(doc(db,_0x2f846d,_0xe12d9b),{'winnerUsername':_0x2d1019,'winnerScore':_0x2e011e,'winnerSuicides':_0xd13b23,'winnerComment':_0x1e25a7,'loserUsername':_0x30a2ea,'loserScore':_0xdfcc40,'loserSuicides':_0xae9ba5,'loserComment':_0x10c290,'mapPlayed':_0x41924a,'winnerDemoLink':_0x5ace32||null,'loserDemoLink':_0xaac159||null,'lastModifiedAt':serverTimestamp(),'lastModifiedBy':auth[_0x2f36a1(0x3e4)][_0x2f36a1(0x438)],'isEdited':!![]}),showNotification(_0x2f36a1(0x2d8),'success'),closeEditMatchModal(),loadMatchesData(matchesPagination[_0x5a082b['toLowerCase']()][_0x2f36a1(0x581)]);}catch(_0x679746){console['error'](_0x2f36a1(0x30d),_0x679746),showNotification('Failed\x20to\x20save\x20match:\x20'+_0x679746[_0x2f36a1(0x528)],_0x2f36a1(0x4a3));}}async function openDeleteMatchModal(_0x7a2587,_0xcc988b){const _0x3d772d=a4_0x3e5318;try{const _0x126d6c=_0xcc988b==='D1'?_0x3d772d(0x580):_0xcc988b==='D2'?'approvedMatchesD2':_0x3d772d(0x639),_0x43b8d9=doc(db,_0x126d6c,_0x7a2587),_0x2da823=await getDoc(_0x43b8d9);if(!_0x2da823['exists']()){showNotification(_0x3d772d(0x3c4),_0x3d772d(0x4a3));return;}const _0x467da0=_0x2da823['data'](),_0x385426=document['getElementById']('delete-match-confirm-modal');_0x385426['dataset'][_0x3d772d(0x4e0)]=_0x7a2587,_0x385426[_0x3d772d(0x390)]['ladder']=_0xcc988b;const _0x293148=_0x467da0[_0x3d772d(0x37c)]?new Date(_0x467da0['approvedAt'][_0x3d772d(0x27b)]*0x3e8)[_0x3d772d(0x569)]():'N/A',_0x1763e5=document['getElementById'](_0x3d772d(0x351));_0x1763e5[_0x3d772d(0x29f)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Date:</strong>\x20'+_0x293148+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Players:</strong>\x20'+_0x467da0[_0x3d772d(0x265)]+_0x3d772d(0x1d4)+_0x467da0[_0x3d772d(0x3b5)]+'\x20(loser)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Score:</strong>\x20'+(_0x467da0[_0x3d772d(0x53d)]||0x0)+_0x3d772d(0x453)+(_0x467da0[_0x3d772d(0x4fb)]||0x0)+_0x3d772d(0x2dc)+(_0x467da0['mapPlayed']||_0x3d772d(0x215))+_0x3d772d(0x5eb)+_0xcc988b+_0x3d772d(0x1ea),_0x385426['classList']['add']('active');}catch(_0x2d3d4d){console[_0x3d772d(0x4a3)](_0x3d772d(0x54f),_0x2d3d4d),showNotification(_0x3d772d(0x5e6),_0x3d772d(0x4a3));}}function closeDeleteMatchModal(){const _0x1fbc4e=a4_0x3e5318,_0x495eb0=document[_0x1fbc4e(0x3e8)](_0x1fbc4e(0x35c));_0x495eb0&&(_0x495eb0[_0x1fbc4e(0x556)][_0x1fbc4e(0x49f)](_0x1fbc4e(0x4f5)),_0x495eb0[_0x1fbc4e(0x2a9)](_0x1fbc4e(0x4a0)),_0x495eb0[_0x1fbc4e(0x2a9)](_0x1fbc4e(0x412)));}async function confirmDeleteMatch(){const _0x2502ed=a4_0x3e5318,_0x564f4e=document[_0x2502ed(0x3e8)](_0x2502ed(0x35c)),_0x38ef1d=_0x564f4e[_0x2502ed(0x390)][_0x2502ed(0x4e0)],_0x5ba4aa=_0x564f4e[_0x2502ed(0x390)][_0x2502ed(0x41e)];if(!_0x38ef1d||!_0x5ba4aa){showNotification(_0x2502ed(0x26d),_0x2502ed(0x4a3)),closeDeleteMatchModal();return;}try{const _0x281789=_0x5ba4aa==='D1'?_0x2502ed(0x580):_0x5ba4aa==='D2'?'approvedMatchesD2':_0x2502ed(0x639);await deleteDoc(doc(db,_0x281789,_0x38ef1d)),showNotification(_0x2502ed(0x222),'success'),closeDeleteMatchModal(),loadMatchesData(matchesPagination[_0x5ba4aa[_0x2502ed(0x41f)]()][_0x2502ed(0x581)]);}catch(_0x2da57d){console['error']('Error\x20deleting\x20match:',_0x2da57d),showNotification('Failed\x20to\x20delete\x20match:\x20'+_0x2da57d[_0x2502ed(0x528)],'error');}}async function saveHighlightChanges(){const _0x252975=a4_0x3e5318,_0x1e6177=document[_0x252975(0x3e8)](_0x252975(0x4e2))[_0x252975(0x475)],_0x104a06=document[_0x252975(0x3e8)](_0x252975(0x1fb))['value'];let _0x20c263={'title':document['getElementById'](_0x252975(0x255))[_0x252975(0x475)][_0x252975(0x52a)](),'type':_0x104a06,'description':document['getElementById'](_0x252975(0x5af))['value'][_0x252975(0x52a)](),'videoId':document[_0x252975(0x3e8)](_0x252975(0x5c4))['value'][_0x252975(0x52a)](),'submittedBy':auth[_0x252975(0x3e4)][_0x252975(0x438)]};if(_0x104a06==='match'){_0x20c263['matchInfo']=document[_0x252975(0x3e8)]('edit-highlight-matchInfo-input')[_0x252975(0x475)]['trim'](),_0x20c263[_0x252975(0x499)]=document[_0x252975(0x3e8)](_0x252975(0x429))[_0x252975(0x475)][_0x252975(0x52a)]();const _0x4a3ea9=document[_0x252975(0x3e8)](_0x252975(0x34d))[_0x252975(0x475)];_0x20c263[_0x252975(0x2c6)]=_0x4a3ea9?Timestamp[_0x252975(0x274)](new Date(_0x4a3ea9)):null,_0x20c263[_0x252975(0x5ad)]=document[_0x252975(0x3e8)](_0x252975(0x2a3))[_0x252975(0x475)]['trim'](),_0x20c263[_0x252975(0x53d)]=document[_0x252975(0x3e8)]('edit-highlight-winnerScore-input')['value'][_0x252975(0x52a)](),_0x20c263[_0x252975(0x491)]=document[_0x252975(0x3e8)](_0x252975(0x2cb))[_0x252975(0x475)][_0x252975(0x52a)](),_0x20c263[_0x252975(0x4fb)]=document[_0x252975(0x3e8)](_0x252975(0x250))[_0x252975(0x475)][_0x252975(0x52a)](),_0x20c263[_0x252975(0x37a)]=document[_0x252975(0x3e8)](_0x252975(0x540))[_0x252975(0x475)][_0x252975(0x52a)](),_0x20c263[_0x252975(0x597)]=null,_0x20c263[_0x252975(0x342)]=null,_0x20c263[_0x252975(0x5a7)]=null,_0x20c263['achievementPlayer']=null,_0x20c263[_0x252975(0x2a1)]=null,_0x20c263[_0x252975(0x353)]=null,_0x20c263[_0x252975(0x4be)]=null;}else{if(_0x104a06===_0x252975(0x27d))_0x20c263['map']=document[_0x252975(0x3e8)](_0x252975(0x429))[_0x252975(0x475)][_0x252975(0x52a)](),_0x20c263[_0x252975(0x597)]=document[_0x252975(0x3e8)](_0x252975(0x515))[_0x252975(0x475)][_0x252975(0x52a)](),_0x20c263['mapVersion']=document['getElementById']('edit-highlight-mapVersion-input')['value'][_0x252975(0x52a)](),_0x20c263[_0x252975(0x5a7)]=document[_0x252975(0x3e8)]('edit-highlight-creatorImageUrl-input')[_0x252975(0x475)][_0x252975(0x52a)](),_0x20c263[_0x252975(0x62f)]=null,_0x20c263[_0x252975(0x2c6)]=null,_0x20c263['winnerName']=null,_0x20c263['winnerScore']=null,_0x20c263[_0x252975(0x491)]=null,_0x20c263[_0x252975(0x4fb)]=null,_0x20c263['matchLink']=null,_0x20c263[_0x252975(0x39c)]=null,_0x20c263[_0x252975(0x2a1)]=null,_0x20c263[_0x252975(0x353)]=null,_0x20c263[_0x252975(0x4be)]=null;else _0x104a06==='achievement'&&(_0x20c263[_0x252975(0x39c)]=document[_0x252975(0x3e8)](_0x252975(0x1e8))['value']['trim'](),_0x20c263[_0x252975(0x2a1)]=document[_0x252975(0x3e8)](_0x252975(0x311))['value'][_0x252975(0x52a)](),_0x20c263[_0x252975(0x353)]=document[_0x252975(0x3e8)]('edit-highlight-achievementDetails-input')[_0x252975(0x475)]['trim'](),_0x20c263[_0x252975(0x4be)]=document[_0x252975(0x3e8)]('edit-highlight-playerProfileUrl-input')[_0x252975(0x475)]['trim'](),_0x20c263[_0x252975(0x62f)]=null,_0x20c263['map']=null,_0x20c263['matchDate']=null,_0x20c263['winnerName']=null,_0x20c263[_0x252975(0x53d)]=null,_0x20c263[_0x252975(0x491)]=null,_0x20c263[_0x252975(0x4fb)]=null,_0x20c263['matchLink']=null,_0x20c263[_0x252975(0x597)]=null,_0x20c263[_0x252975(0x342)]=null,_0x20c263['creatorImageUrl']=null);}try{if(_0x1e6177){_0x20c263['updatedAt']=serverTimestamp();const _0x4492a5=doc(db,'highlights',_0x1e6177);await updateDoc(_0x4492a5,_0x20c263),showNotification(_0x252975(0x291),'success');}else _0x20c263['createdAt']=serverTimestamp(),await addDoc(collection(db,_0x252975(0x5da)),_0x20c263),showNotification('Highlight\x20added\x20successfully!','success');closeEditHighlightModal(),loadHighlightsAdmin();}catch(_0x275b78){console[_0x252975(0x4a3)](_0x252975(0x369),_0x275b78),showNotification(_0x252975(0x34f)+_0x275b78[_0x252975(0x528)],'error');}}async function resimulateMatch(){const _0x4272f4=a4_0x3e5318;try{const _0x34d1ed=document[_0x4272f4(0x3e8)](_0x4272f4(0x4d0))['value'];if(!_0x34d1ed){showNotification(_0x4272f4(0x380),_0x4272f4(0x4a3));return;}const _0x5b6613=auth[_0x4272f4(0x3e4)];if(!_0x5b6613){showNotification(_0x4272f4(0x44f),_0x4272f4(0x4a3));return;}const _0x598e4f=currentLadder==='D1'?_0x4272f4(0x580):currentLadder==='D2'?'approvedMatchesD2':_0x4272f4(0x639),_0x3363e3=doc(db,_0x598e4f,_0x34d1ed),_0x53a1c6=await getDoc(_0x3363e3);if(!_0x53a1c6['exists']()){showNotification(_0x4272f4(0x5a4),_0x4272f4(0x4a3));return;}const _0x485581=_0x53a1c6[_0x4272f4(0x416)](),_0x5134d7=_0x485581[_0x4272f4(0x37c)]?_0x485581['approvedAt']['toDate']()[_0x4272f4(0x590)]():_0x485581[_0x4272f4(0x2c6)]?_0x485581['matchDate'][_0x4272f4(0x5b2)]?_0x485581[_0x4272f4(0x2c6)][_0x4272f4(0x5b2)]()[_0x4272f4(0x590)]():new Date(_0x485581['matchDate'])[_0x4272f4(0x590)]():_0x4272f4(0x61d),_0x13aefd=_0x4272f4(0x49e)+_0x485581[_0x4272f4(0x265)]+_0x4272f4(0x3d3)+_0x485581[_0x4272f4(0x3b5)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Score:</strong>\x20'+_0x485581['winnerScore']+'-'+_0x485581[_0x4272f4(0x4fb)]+_0x4272f4(0x449)+(_0x485581[_0x4272f4(0x284)]||_0x485581[_0x4272f4(0x5f7)]||_0x4272f4(0x61d))+_0x4272f4(0x3c8)+_0x5134d7+_0x4272f4(0x408)+_0x34d1ed+_0x4272f4(0x340)+currentLadder+_0x4272f4(0x257);document[_0x4272f4(0x3e8)](_0x4272f4(0x589))['innerHTML']=_0x13aefd,document[_0x4272f4(0x3e8)](_0x4272f4(0x589))[_0x4272f4(0x432)][_0x4272f4(0x535)]=_0x4272f4(0x45f),document[_0x4272f4(0x3e8)](_0x4272f4(0x62a))[_0x4272f4(0x432)][_0x4272f4(0x535)]=_0x4272f4(0x45f),window[_0x4272f4(0x31f)]={'matchId':_0x34d1ed,'matchData':_0x485581,'ladder':currentLadder},showNotification(_0x4272f4(0x29d),_0x4272f4(0x471));}catch(_0x2a88fc){console[_0x4272f4(0x4a3)]('Error\x20finding\x20match:',_0x2a88fc),showNotification('Failed\x20to\x20find\x20match:\x20'+_0x2a88fc[_0x4272f4(0x528)],_0x4272f4(0x4a3));}}async function confirmResimulateMatch(){const _0xb536a7=a4_0x3e5318;try{const {matchId:_0x2396a4,matchData:_0x586b88,ladder:_0x3c21d5}=window[_0xb536a7(0x31f)];if(!_0x2396a4||!_0x586b88){showNotification(_0xb536a7(0x1cf),_0xb536a7(0x4a3));return;}const _0x49f834=_0x3c21d5==='D1'?_0xb536a7(0x27c):_0x3c21d5==='D2'?_0xb536a7(0x29c):_0xb536a7(0x510),_0x13c2cc=_0x3c21d5==='D1'?_0xb536a7(0x584):_0x3c21d5==='D2'?_0xb536a7(0x41c):_0xb536a7(0x398),[_0x4cbf80,_0x737a47]=await Promise[_0xb536a7(0x600)]([getDocs(query(collection(db,_0x49f834),where(_0xb536a7(0x527),'==',_0x586b88[_0xb536a7(0x265)]))),getDocs(query(collection(db,_0x49f834),where(_0xb536a7(0x527),'==',_0x586b88[_0xb536a7(0x3b5)])))]);if(_0x4cbf80[_0xb536a7(0x42f)]||_0x737a47[_0xb536a7(0x42f)]){showNotification(_0xb536a7(0x4e4),_0xb536a7(0x4a3));return;}const _0x37a059=_0x4cbf80['docs'][0x0]['id'],_0x1b44ec=_0x737a47[_0xb536a7(0x263)][0x0]['id'],_0x1cd593=_0x4cbf80[_0xb536a7(0x263)][0x0]['data'](),_0x3032d4=_0x737a47[_0xb536a7(0x263)][0x0][_0xb536a7(0x416)](),[_0x45eaf7,_0x237cff]=await Promise[_0xb536a7(0x600)]([getDocs(query(collection(db,_0x13c2cc),where('playerId','==',_0x37a059),where(_0xb536a7(0x4e0),'==',_0x2396a4))),getDocs(query(collection(db,_0x13c2cc),where('playerId','==',_0x1b44ec),where(_0xb536a7(0x4e0),'==',_0x2396a4)))]),_0x314828=!_0x45eaf7['empty'],_0x3b6be2=!_0x237cff[_0xb536a7(0x42f)],_0x508dbd=_0xb536a7(0x3d6)+(_0x314828?_0xb536a7(0x344):_0xb536a7(0x422))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Loser\x20ELO\x20History:</strong>\x20'+(_0x3b6be2?_0xb536a7(0x344):_0xb536a7(0x422))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Current\x20Winner\x20ELO:</strong>\x20'+(_0x1cd593[_0xb536a7(0x4c5)]||_0xb536a7(0x61d))+_0xb536a7(0x3fd)+(_0x3032d4[_0xb536a7(0x4c5)]||_0xb536a7(0x61d))+_0xb536a7(0x4ca)+(_0x1cd593['position']||_0xb536a7(0x61d))+_0xb536a7(0x3c1)+(_0x3032d4['position']||_0xb536a7(0x61d))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong\x20style=\x22color:\x20#ff9800;\x22>\x20RESIMULATION\x20WILL:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>Recalculate\x20ELO\x20ratings\x20based\x20on\x20pre-match\x20values</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>Update\x20current\x20player\x20ELO\x20ratings</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>Recalculate\x20and\x20update\x20player\x20positions</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>Create\x20missing\x20ELO\x20history\x20entries</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>Handle\x20position\x20swaps\x20if\x20winner\x20was\x20lower\x20ranked</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';document[_0xb536a7(0x3e8)](_0xb536a7(0x58c))['innerHTML']=_0x508dbd,document[_0xb536a7(0x3e8)](_0xb536a7(0x58c))[_0xb536a7(0x432)][_0xb536a7(0x535)]=_0xb536a7(0x45f);if(_0x314828&&_0x3b6be2){showNotification(_0xb536a7(0x44c),_0xb536a7(0x637));return;}showNotification(_0xb536a7(0x20e),_0xb536a7(0x471));const _0x5843ac=_0x586b88[_0xb536a7(0x37c)]||_0x586b88[_0xb536a7(0x2c6)]||serverTimestamp(),[_0x588248,_0x277a6]=await Promise[_0xb536a7(0x600)]([getPlayerEloAtTime(_0x37a059,_0x5843ac,_0x13c2cc),getPlayerEloAtTime(_0x1b44ec,_0x5843ac,_0x13c2cc)]),{calculateElo:_0x4697db}=await import(_0xb536a7(0x38e)),{newWinnerRating:_0x1c679b,newLoserRating:_0x5d976f}=_0x4697db(_0x588248,_0x277a6),_0x17a6a9=_0x1cd593[_0xb536a7(0x4db)]||Number['MAX_SAFE_INTEGER'],_0x45f26f=_0x3032d4['position']||Number['MAX_SAFE_INTEGER'];let _0x3c8e62=_0x17a6a9,_0x3a6412=_0x45f26f;_0x17a6a9>_0x45f26f&&(_0x3c8e62=_0x45f26f,_0x3a6412=_0x45f26f+0x1);const _0x1d5fe5=writeBatch(db),_0x4b8b56=doc(db,_0x49f834,_0x37a059);_0x1d5fe5['update'](_0x4b8b56,{'eloRating':_0x1c679b,'position':_0x3c8e62,'lastUpdated':serverTimestamp(),'resimulated':!![],'resimulatedAt':serverTimestamp(),'resimulatedBy':auth[_0xb536a7(0x3e4)][_0xb536a7(0x59f)]});const _0x56bbad=doc(db,_0x49f834,_0x1b44ec);_0x1d5fe5[_0xb536a7(0x3b8)](_0x56bbad,{'eloRating':_0x5d976f,'position':_0x3a6412,'lastUpdated':serverTimestamp(),'resimulated':!![],'resimulatedAt':serverTimestamp(),'resimulatedBy':auth[_0xb536a7(0x3e4)][_0xb536a7(0x59f)]});if(_0x17a6a9>_0x45f26f){const _0x27d6b2=await getDocs(query(collection(db,_0x49f834),where(_0xb536a7(0x4db),'>',_0x45f26f),where(_0xb536a7(0x4db),'<',_0x17a6a9)));_0x27d6b2[_0xb536a7(0x5ae)](_0xa4b332=>{const _0xdec1e1=_0xb536a7,_0x371894=doc(db,_0x49f834,_0xa4b332['id']),_0x15ff37=_0xa4b332[_0xdec1e1(0x416)]()[_0xdec1e1(0x4db)];_0x1d5fe5['update'](_0x371894,{'position':_0x15ff37+0x1,'lastUpdated':serverTimestamp(),'positionAdjustedBy':_0xdec1e1(0x36d),'positionAdjustedAt':serverTimestamp()});});}if(!_0x314828){const _0x3036f0=doc(collection(db,_0x13c2cc));_0x1d5fe5[_0xb536a7(0x421)](_0x3036f0,{'playerId':_0x37a059,'player':_0x586b88[_0xb536a7(0x265)],'previousElo':_0x588248,'newElo':_0x1c679b,'eloChange':_0x1c679b-_0x588248,'opponentId':_0x1b44ec,'opponent':_0x586b88['loserUsername'],'matchResult':_0xb536a7(0x372),'previousPosition':_0x17a6a9,'newPosition':_0x3c8e62,'positionChange':_0x3c8e62-_0x17a6a9,'matchId':_0x2396a4,'timestamp':_0x5843ac,'resimulated':!![],'resimulatedAt':serverTimestamp(),'resimulatedBy':auth[_0xb536a7(0x3e4)][_0xb536a7(0x59f)],'gameMode':_0x3c21d5,'matchScore':_0x586b88[_0xb536a7(0x53d)]+'-'+_0x586b88['loserScore'],'mapPlayed':_0x586b88[_0xb536a7(0x284)]||_0x586b88['mapName']||_0xb536a7(0x61d),'note':'Resimulated\x20entry\x20-\x20ELO\x20and\x20positions\x20calculated\x20from\x20actual\x20pre-match\x20data'});}if(!_0x3b6be2){const _0x3292b8=doc(collection(db,_0x13c2cc));_0x1d5fe5['set'](_0x3292b8,{'playerId':_0x1b44ec,'player':_0x586b88[_0xb536a7(0x3b5)],'previousElo':_0x277a6,'newElo':_0x5d976f,'eloChange':_0x5d976f-_0x277a6,'opponentId':_0x37a059,'opponent':_0x586b88[_0xb536a7(0x265)],'matchResult':_0xb536a7(0x5fc),'previousPosition':_0x45f26f,'newPosition':_0x3a6412,'positionChange':_0x3a6412-_0x45f26f,'matchId':_0x2396a4,'timestamp':_0x5843ac,'resimulated':!![],'resimulatedAt':serverTimestamp(),'resimulatedBy':auth['currentUser'][_0xb536a7(0x59f)],'gameMode':_0x3c21d5,'matchScore':_0x586b88[_0xb536a7(0x53d)]+'-'+_0x586b88[_0xb536a7(0x4fb)],'mapPlayed':_0x586b88[_0xb536a7(0x284)]||_0x586b88[_0xb536a7(0x5f7)]||'Unknown','note':_0xb536a7(0x31c)});}const _0x59233a=_0x3c21d5==='D1'?_0xb536a7(0x580):_0x3c21d5==='D2'?_0xb536a7(0x258):_0xb536a7(0x639),_0x43e299=doc(db,_0x59233a,_0x2396a4);_0x1d5fe5[_0xb536a7(0x3b8)](_0x43e299,{'resimulated':!![],'resimulatedAt':serverTimestamp(),'resimulatedBy':auth['currentUser'][_0xb536a7(0x59f)],'resimulatedReason':_0xb536a7(0x572),'originalWinnerElo':_0x1cd593['eloRating'],'originalLoserElo':_0x3032d4[_0xb536a7(0x4c5)],'originalWinnerPosition':_0x17a6a9,'originalLoserPosition':_0x45f26f,'resimulatedWinnerElo':_0x1c679b,'resimulatedLoserElo':_0x5d976f,'resimulatedWinnerPosition':_0x3c8e62,'resimulatedLoserPosition':_0x3a6412}),await _0x1d5fe5[_0xb536a7(0x228)]();const _0x37caee=(!_0x314828?0x1:0x0)+(!_0x3b6be2?0x1:0x0),_0x4fc471=_0x17a6a9!==_0x3c8e62||_0x45f26f!==_0x3a6412;showNotification('Match\x20resimulated\x20successfully!\x20'+(_0xb536a7(0x462)+_0x37caee+_0xb536a7(0x292))+(_0xb536a7(0x2cf)+_0x588248+''+_0x1c679b+_0xb536a7(0x618)+(_0x1c679b-_0x588248)+_0xb536a7(0x2c4))+(_0xb536a7(0x1df)+_0x277a6+''+_0x5d976f+'\x20('+(_0x5d976f-_0x277a6)+').\x20')+(''+(_0x4fc471?'Positions\x20updated:\x20Winner\x20'+_0x17a6a9+''+_0x3c8e62+_0xb536a7(0x3b7)+_0x45f26f+''+_0x3a6412:_0xb536a7(0x346))),'success'),closeResimulateModal(),document[_0xb536a7(0x3f7)](_0xb536a7(0x324))&&loadPlayersData();}catch(_0x199391){console[_0xb536a7(0x4a3)]('Error\x20resimulating\x20match:',_0x199391),showNotification(_0xb536a7(0x51b)+_0x199391['message'],_0xb536a7(0x4a3));}}async function getPlayerEloAtTime(_0xefa8e2,_0x5e2b95,_0x317b98){const _0x456132=a4_0x3e5318;try{const _0x1d6d72=_0x5e2b95[_0x456132(0x5b2)]?_0x5e2b95['toDate']():new Date(_0x5e2b95),_0x1b7f72=query(collection(db,_0x317b98),where(_0x456132(0x42c),'==',_0xefa8e2),where(_0x456132(0x587),'<',_0x5e2b95),orderBy(_0x456132(0x587),_0x456132(0x601)),limit(0x1)),_0x15a3b4=await getDocs(_0x1b7f72);if(!_0x15a3b4[_0x456132(0x42f)]){const _0xbe47e5=_0x15a3b4[_0x456132(0x263)][0x0][_0x456132(0x416)]();return console[_0x456132(0x5cd)](_0x456132(0x24c)+_0xefa8e2+'\x20before\x20match:\x20'+_0xbe47e5[_0x456132(0x425)]),_0xbe47e5['newElo'];}else return console[_0x456132(0x5cd)](_0x456132(0x53c)+_0xefa8e2+'\x20before\x20match\x20-\x20using\x20starting\x20ELO\x201200'),0x4b0;}catch(_0x1f0d16){return console['error'](_0x456132(0x409)+_0xefa8e2+':',_0x1f0d16),0x4b0;}}function openResimulateModal(){const _0x1d2ad4=a4_0x3e5318;console[_0x1d2ad4(0x5cd)](_0x1d2ad4(0x630));const _0x370362=document['getElementById']('resimulate-modal');console['log'](_0x1d2ad4(0x358),_0x370362);if(!_0x370362){console[_0x1d2ad4(0x4a3)]('Modal\x20element\x20not\x20found!');return;}_0x370362[_0x1d2ad4(0x432)][_0x1d2ad4(0x535)]=_0x1d2ad4(0x45f),_0x370362[_0x1d2ad4(0x432)][_0x1d2ad4(0x1f1)]=_0x1d2ad4(0x458),_0x370362['style'][_0x1d2ad4(0x439)]='1',_0x370362[_0x1d2ad4(0x556)][_0x1d2ad4(0x616)](_0x1d2ad4(0x4f5)),console[_0x1d2ad4(0x5cd)](_0x1d2ad4(0x577)),console[_0x1d2ad4(0x5cd)](_0x1d2ad4(0x4c3),window[_0x1d2ad4(0x3a9)](_0x370362)['display']);const _0x30cd05=document[_0x1d2ad4(0x3e8)](_0x1d2ad4(0x589)),_0xd188b3=document[_0x1d2ad4(0x3e8)]('validation-results-container'),_0x18e6c0=document[_0x1d2ad4(0x3e8)](_0x1d2ad4(0x62a)),_0x3c8caa=document['getElementById'](_0x1d2ad4(0x4d0));if(_0x30cd05)_0x30cd05[_0x1d2ad4(0x29f)]='';if(_0xd188b3)_0xd188b3['innerHTML']='';if(_0x18e6c0)_0x18e6c0['style'][_0x1d2ad4(0x535)]=_0x1d2ad4(0x2fc);if(_0x3c8caa)_0x3c8caa[_0x1d2ad4(0x475)]='';console[_0x1d2ad4(0x5cd)](_0x1d2ad4(0x30c));}function closeResimulateModal(){const _0x5c8c0f=a4_0x3e5318;document[_0x5c8c0f(0x3e8)](_0x5c8c0f(0x341))[_0x5c8c0f(0x432)]['display']='none',window[_0x5c8c0f(0x31f)]=null;}window[a4_0x3e5318(0x315)]=resimulateMatch,window['confirmResimulateMatch']=confirmResimulateMatch,window[a4_0x3e5318(0x348)]=openResimulateModal,window[a4_0x3e5318(0x596)]=closeResimulateModal;async function loadPointsData(){const _0x1ccbc9=a4_0x3e5318;console[_0x1ccbc9(0x5cd)](_0x1ccbc9(0x59e));try{await Promise[_0x1ccbc9(0x600)]([loadPointsOverview(),loadPointsHistory()]),showNotification(_0x1ccbc9(0x235),'success');}catch(_0x25838e){console[_0x1ccbc9(0x4a3)](_0x1ccbc9(0x402),_0x25838e),showNotification(_0x1ccbc9(0x58e)+_0x25838e[_0x1ccbc9(0x528)],'error');}}function renderPointsOverview(_0x3b4fa7){const _0x41451e=a4_0x3e5318,_0x5a13f0=document[_0x41451e(0x3e8)](_0x41451e(0x414));if(!_0x5a13f0)return;if(_0x3b4fa7[_0x41451e(0x541)]===0x0){_0x5a13f0[_0x41451e(0x29f)]='<tr><td\x20colspan=\x225\x22\x20class=\x22empty-state\x22>No\x20users\x20found</td></tr>';return;}_0x5a13f0['innerHTML']='',_0x3b4fa7[_0x41451e(0x5ae)](_0xcf0d70=>{const _0x37b70a=_0x41451e,_0x5241df=document['createElement']('tr'),_0xe922e5=_0xcf0d70[_0x37b70a(0x60a)]||_0xcf0d70[_0x37b70a(0x527)]||'Unknown\x20User',_0x4c0d57=_0xcf0d70[_0x37b70a(0x438)]||_0x37b70a(0x230),_0x58ab52=_0xcf0d70[_0x37b70a(0x52e)]||0x0,_0x1cabf1=_0xcf0d70[_0x37b70a(0x5ee)]?new Date(_0xcf0d70['lastPointsModified'][_0x37b70a(0x27b)]*0x3e8)[_0x37b70a(0x569)]():_0x37b70a(0x3e3);_0x5241df[_0x37b70a(0x29f)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22user-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user\x20user-icon\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22user-name\x22>'+_0xe922e5+_0x37b70a(0x3af)+_0x4c0d57+_0x37b70a(0x42b)+(_0x58ab52>0x3e8?_0x37b70a(0x248):_0x58ab52>0x1f4?_0x37b70a(0x468):_0x37b70a(0x23f))+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-coins\x22></i>\x20'+_0x58ab52[_0x37b70a(0x590)]()+_0x37b70a(0x375)+_0x1cabf1+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22quick-edit-btn\x22\x20data-user-id=\x22'+_0xcf0d70['id']+_0x37b70a(0x466)+_0xcf0d70['id']+_0x37b70a(0x504),_0x5a13f0[_0x37b70a(0x45a)](_0x5241df);}),setupPointsActionButtons();}function setupPointsActionButtons(){const _0x5ad5b9=a4_0x3e5318;console[_0x5ad5b9(0x5cd)]('Setting\x20up\x20points\x20action\x20buttons...');const _0x6d6ca9=document[_0x5ad5b9(0x534)](_0x5ad5b9(0x278));console[_0x5ad5b9(0x5cd)](_0x5ad5b9(0x51d)+_0x6d6ca9[_0x5ad5b9(0x541)]+'\x20quick\x20edit\x20buttons'),_0x6d6ca9[_0x5ad5b9(0x5ae)](_0x2865c8=>{const _0x30bd79=_0x5ad5b9,_0x41d080=_0x2865c8['cloneNode'](!![]);_0x2865c8['parentNode'][_0x30bd79(0x22d)](_0x41d080,_0x2865c8);});const _0xeca44c=document[_0x5ad5b9(0x534)]('.view-history-btn');console[_0x5ad5b9(0x5cd)](_0x5ad5b9(0x51d)+_0xeca44c[_0x5ad5b9(0x541)]+_0x5ad5b9(0x367)),_0xeca44c[_0x5ad5b9(0x5ae)](_0x1e835c=>{const _0x2374a7=_0x5ad5b9,_0x3999ed=_0x1e835c[_0x2374a7(0x502)](!![]);_0x1e835c[_0x2374a7(0x5d1)][_0x2374a7(0x22d)](_0x3999ed,_0x1e835c);}),document['querySelectorAll'](_0x5ad5b9(0x278))[_0x5ad5b9(0x5ae)](_0x4d3cfc=>{const _0x5cf439=_0x5ad5b9;_0x4d3cfc[_0x5cf439(0x3c5)](_0x5cf439(0x434),function(_0x534225){const _0x370b31=_0x5cf439;_0x534225['preventDefault'](),_0x534225[_0x370b31(0x2c1)]();const _0x139f02=this[_0x370b31(0x390)][_0x370b31(0x233)];console[_0x370b31(0x5cd)](_0x370b31(0x5bc),_0x139f02);if(!_0x139f02){console[_0x370b31(0x4a3)](_0x370b31(0x514));return;}this['style'][_0x370b31(0x439)]=_0x370b31(0x391),setTimeout(()=>{const _0x5d311d=_0x370b31;this['style'][_0x5d311d(0x439)]='1';},0xc8),openQuickEditModal(_0x139f02);});}),document[_0x5ad5b9(0x534)](_0x5ad5b9(0x496))['forEach'](_0x591120=>{const _0x399e6d=_0x5ad5b9;_0x591120[_0x399e6d(0x3c5)](_0x399e6d(0x434),function(_0x142354){const _0x17f169=_0x399e6d;_0x142354['preventDefault'](),_0x142354['stopPropagation']();const _0x1fbf63=this[_0x17f169(0x390)]['userId'];console[_0x17f169(0x5cd)](_0x17f169(0x4ae),_0x1fbf63);if(!_0x1fbf63){console[_0x17f169(0x4a3)](_0x17f169(0x514));return;}this[_0x17f169(0x432)]['opacity']=_0x17f169(0x391),setTimeout(()=>{const _0x2498a5=_0x17f169;this[_0x2498a5(0x432)][_0x2498a5(0x439)]='1';},0xc8),loadUserPointsHistory(_0x1fbf63);});}),console[_0x5ad5b9(0x5cd)](_0x5ad5b9(0x1e4));}async function openQuickEditModal(_0x4c9d02){const _0x1e992a=a4_0x3e5318;console[_0x1e992a(0x5cd)](_0x1e992a(0x3f5),_0x4c9d02);const _0x6c0f6b=document[_0x1e992a(0x3e8)](_0x1e992a(0x303));if(!_0x6c0f6b){console[_0x1e992a(0x4a3)](_0x1e992a(0x5ba)),showNotification('Quick\x20edit\x20modal\x20not\x20found\x20in\x20the\x20page',_0x1e992a(0x4a3));return;}try{showNotification(_0x1e992a(0x2b4),_0x1e992a(0x471));const _0x2831e8=doc(db,_0x1e992a(0x295),_0x4c9d02),_0x46167f=await getDoc(_0x2831e8);if(!_0x46167f[_0x1e992a(0x3e9)]()){showNotification(_0x1e992a(0x3c3),_0x1e992a(0x4a3));return;}const _0x169c07=_0x46167f['data']();console[_0x1e992a(0x5cd)](_0x1e992a(0x489),_0x169c07);const _0x11a85d=document[_0x1e992a(0x3e8)](_0x1e992a(0x636)),_0x493745=document[_0x1e992a(0x3e8)](_0x1e992a(0x54d)),_0x116b85=document[_0x1e992a(0x3e8)](_0x1e992a(0x25d)),_0x1af289=document[_0x1e992a(0x3e8)](_0x1e992a(0x523)),_0x16bce6=document['getElementById'](_0x1e992a(0x1f2));if(!_0x11a85d||!_0x493745||!_0x116b85||!_0x1af289||!_0x16bce6){console['error'](_0x1e992a(0x201)),showNotification('Quick\x20edit\x20form\x20is\x20incomplete.\x20Check\x20the\x20HTML\x20structure.',_0x1e992a(0x4a3));return;}_0x11a85d[_0x1e992a(0x475)]=_0x4c9d02,_0x493745['textContent']=_0x169c07[_0x1e992a(0x60a)]||_0x169c07['username']||_0x1e992a(0x53f),_0x116b85[_0x1e992a(0x24f)]=_0x169c07[_0x1e992a(0x438)]||_0x1e992a(0x230),_0x1af289[_0x1e992a(0x24f)]=(_0x169c07[_0x1e992a(0x52e)]||0x0)[_0x1e992a(0x590)](),_0x16bce6[_0x1e992a(0x2a7)]();const _0x4a1d02=document['getElementById'](_0x1e992a(0x327));_0x4a1d02&&(_0x4a1d02[_0x1e992a(0x1e7)]=!![]);_0x6c0f6b[_0x1e992a(0x556)][_0x1e992a(0x616)](_0x1e992a(0x4f5)),console[_0x1e992a(0x5cd)](_0x1e992a(0x253));const _0xed8728=document[_0x1e992a(0x3e8)]('quick-points-amount');_0xed8728&&setTimeout(()=>_0xed8728[_0x1e992a(0x33c)](),0x64);}catch(_0x332ba9){console['error'](_0x1e992a(0x21a),_0x332ba9),showNotification(_0x1e992a(0x45d)+_0x332ba9[_0x1e992a(0x528)],_0x1e992a(0x4a3));}}function closeQuickEditModal(){const _0x5595d4=a4_0x3e5318,_0x542ec3=document[_0x5595d4(0x3e8)](_0x5595d4(0x303));_0x542ec3&&_0x542ec3[_0x5595d4(0x556)][_0x5595d4(0x49f)](_0x5595d4(0x4f5));}async function handleQuickEditPoints(_0x5f4c1f){const _0xb191c4=a4_0x3e5318;_0x5f4c1f['preventDefault']();const _0x2ccdb0=document[_0xb191c4(0x3e8)](_0xb191c4(0x636))[_0xb191c4(0x475)],_0x2f294e=document[_0xb191c4(0x3f7)](_0xb191c4(0x4cd))[_0xb191c4(0x475)],_0x51ce60=parseInt(document[_0xb191c4(0x3e8)]('quick-points-amount')['value']),_0x40c1e4=document[_0xb191c4(0x3e8)]('quick-points-reason')[_0xb191c4(0x475)]['trim']();console[_0xb191c4(0x5cd)](_0xb191c4(0x3ba),{'userId':_0x2ccdb0,'action':_0x2f294e,'amount':_0x51ce60,'reason':_0x40c1e4});if(!_0x2ccdb0||!_0x51ce60||_0x51ce60<0x0){showNotification('Please\x20enter\x20valid\x20data',_0xb191c4(0x4a3));return;}try{await modifyUserPoints(_0x2ccdb0,_0x2f294e,_0x51ce60,_0x40c1e4),closeQuickEditModal(),loadPointsOverview(),showNotification(_0xb191c4(0x5cb),_0xb191c4(0x4b8)),console[_0xb191c4(0x5cd)](_0xb191c4(0x23c),_0x2ccdb0);}catch(_0x94dba){console[_0xb191c4(0x4a3)](_0xb191c4(0x3f2),_0x94dba),showNotification(_0xb191c4(0x627)+_0x94dba['message'],_0xb191c4(0x4a3));}}async function searchUsersForPoints(){const _0xb0c0f=a4_0x3e5318,_0x8ad93f=document[_0xb0c0f(0x3e8)]('points-user-search')[_0xb0c0f(0x475)]['trim']()['toLowerCase'](),_0x12995f=document['getElementById'](_0xb0c0f(0x322));if(!_0x8ad93f||_0x8ad93f[_0xb0c0f(0x541)]<0x2){_0x12995f[_0xb0c0f(0x29f)]='';return;}_0x12995f[_0xb0c0f(0x29f)]=_0xb0c0f(0x459);try{const _0x374482=collection(db,_0xb0c0f(0x295)),_0x90b40e=await getDocs(_0x374482),_0x4991a9=[];_0x90b40e[_0xb0c0f(0x5ae)](_0x1be570=>{const _0x4bec2e=_0xb0c0f,_0x101d96=_0x1be570[_0x4bec2e(0x416)](),_0x33cbb5=(_0x101d96['displayName']||_0x101d96[_0x4bec2e(0x527)]||'')[_0x4bec2e(0x41f)](),_0x49620c=(_0x101d96[_0x4bec2e(0x438)]||'')[_0x4bec2e(0x41f)]();(_0x33cbb5['includes'](_0x8ad93f)||_0x49620c['includes'](_0x8ad93f))&&_0x4991a9[_0x4bec2e(0x2b5)]({'id':_0x1be570['id'],..._0x101d96});});if(_0x4991a9[_0xb0c0f(0x541)]===0x0){_0x12995f[_0xb0c0f(0x29f)]=_0xb0c0f(0x36f);return;}_0x12995f['innerHTML']='',_0x4991a9[_0xb0c0f(0x5ae)](_0x19f357=>{const _0x30be65=_0xb0c0f,_0x2cdc9f=document[_0x30be65(0x26b)](_0x30be65(0x2ae));_0x2cdc9f[_0x30be65(0x294)]=_0x30be65(0x480),_0x2cdc9f['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22user-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>'+(_0x19f357[_0x30be65(0x60a)]||_0x19f357[_0x30be65(0x527)]||_0x30be65(0x61d))+_0x30be65(0x4a5)+(_0x19f357[_0x30be65(0x438)]||_0x30be65(0x230))+_0x30be65(0x397)+(_0x19f357[_0x30be65(0x52e)]||0x0)[_0x30be65(0x590)]()+'\x20points</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x2cdc9f[_0x30be65(0x3c5)]('click',()=>selectUserForPoints(_0x19f357)),_0x12995f[_0x30be65(0x45a)](_0x2cdc9f);});}catch(_0x3fbd20){console[_0xb0c0f(0x4a3)](_0xb0c0f(0x557),_0x3fbd20),_0x12995f['innerHTML']=_0xb0c0f(0x36b);}}function selectUserForPoints(_0xf5282){const _0xaf3809=a4_0x3e5318;document[_0xaf3809(0x3e8)](_0xaf3809(0x345))[_0xaf3809(0x24f)]=_0xf5282[_0xaf3809(0x60a)]||_0xf5282[_0xaf3809(0x527)]||_0xaf3809(0x53f),document[_0xaf3809(0x3e8)](_0xaf3809(0x443))[_0xaf3809(0x24f)]=(_0xf5282[_0xaf3809(0x52e)]||0x0)[_0xaf3809(0x590)](),document[_0xaf3809(0x3e8)](_0xaf3809(0x370))[_0xaf3809(0x475)]=_0xf5282['id'],document[_0xaf3809(0x3e8)]('selected-user-info')[_0xaf3809(0x432)][_0xaf3809(0x535)]=_0xaf3809(0x45f),document['getElementById'](_0xaf3809(0x52b))[_0xaf3809(0x432)][_0xaf3809(0x535)]=_0xaf3809(0x45f),document[_0xaf3809(0x3e8)](_0xaf3809(0x322))['innerHTML']='',document['getElementById'](_0xaf3809(0x251))[_0xaf3809(0x475)]='';}async function handleModifyPoints(_0x3789a4){const _0x50b3ef=a4_0x3e5318;_0x3789a4[_0x50b3ef(0x575)]();const _0xe13297=document[_0x50b3ef(0x3e8)]('selected-user-id')[_0x50b3ef(0x475)],_0x2f9876=document[_0x50b3ef(0x3e8)](_0x50b3ef(0x3d9))[_0x50b3ef(0x475)],_0x22dea4=parseInt(document[_0x50b3ef(0x3e8)]('points-amount')['value']),_0x244701=document[_0x50b3ef(0x3e8)](_0x50b3ef(0x612))[_0x50b3ef(0x475)][_0x50b3ef(0x52a)]();if(!_0xe13297||!_0x22dea4||_0x22dea4<0x0){showNotification(_0x50b3ef(0x290),_0x50b3ef(0x4a3));return;}try{await modifyUserPoints(_0xe13297,_0x2f9876,_0x22dea4,_0x244701),document[_0x50b3ef(0x3e8)]('modify-points-form')[_0x50b3ef(0x2a7)]();const _0x55e497=doc(db,'userProfiles',_0xe13297),_0xdb2079=await getDoc(_0x55e497);if(_0xdb2079['exists']()){const _0x2939e9=_0xdb2079[_0x50b3ef(0x416)]();document[_0x50b3ef(0x3e8)](_0x50b3ef(0x443))[_0x50b3ef(0x24f)]=(_0x2939e9[_0x50b3ef(0x52e)]||0x0)['toLocaleString']();}showNotification('Points\x20modified\x20successfully','success'),loadPointsHistory();}catch(_0x3cef92){console[_0x50b3ef(0x4a3)](_0x50b3ef(0x543),_0x3cef92),showNotification('Failed\x20to\x20modify\x20points:\x20'+_0x3cef92[_0x50b3ef(0x528)],_0x50b3ef(0x4a3));}}async function loadPointsHistory(){const _0x412880=a4_0x3e5318,_0x5b5963=document[_0x412880(0x3e8)](_0x412880(0x271));if(!_0x5b5963)return;_0x5b5963[_0x412880(0x29f)]=_0x412880(0x516);try{const _0x384d20=collection(db,_0x412880(0x585)),_0x4ebebf=query(_0x384d20,orderBy(_0x412880(0x587),_0x412880(0x601)),limit(0x32)),_0x2031e1=await getDocs(_0x4ebebf);if(_0x2031e1[_0x412880(0x42f)]){_0x5b5963['innerHTML']=_0x412880(0x617);return;}_0x5b5963['innerHTML']='',_0x2031e1[_0x412880(0x5ae)](_0x5b508e=>{const _0x567d3c=_0x412880,_0x877236=_0x5b508e['data'](),_0x3b3818=document[_0x567d3c(0x26b)]('tr'),_0x3ff4d8=_0x877236[_0x567d3c(0x587)]?new Date(_0x877236[_0x567d3c(0x587)][_0x567d3c(0x27b)]*0x3e8)[_0x567d3c(0x590)]():_0x567d3c(0x61d);let _0x4f9689='';switch(_0x877236['action']){case _0x567d3c(0x616):_0x4f9689=_0x567d3c(0x4f0)+_0x877236['amount']+_0x567d3c(0x602);break;case'subtract':_0x4f9689=_0x567d3c(0x3dc)+_0x877236[_0x567d3c(0x574)]+_0x567d3c(0x602);break;case'set':_0x4f9689=_0x567d3c(0x2db)+_0x877236[_0x567d3c(0x574)]+'\x20points';break;default:_0x4f9689=_0x877236[_0x567d3c(0x433)]+'\x20'+_0x877236[_0x567d3c(0x574)]+_0x567d3c(0x602);}_0x3b3818[_0x567d3c(0x29f)]=_0x567d3c(0x5a0)+_0x3ff4d8+_0x567d3c(0x35e)+(_0x877236[_0x567d3c(0x60a)]||'Unknown\x20User')+_0x567d3c(0x35e)+_0x4f9689+_0x567d3c(0x4b6)+_0x877236['action']+_0x567d3c(0x3f3)+(_0x877236[_0x567d3c(0x5cf)]||0x0)+_0x567d3c(0x28c)+(_0x877236[_0x567d3c(0x2e7)]||0x0)+_0x567d3c(0x4c7)+(_0x877236[_0x567d3c(0x1d7)]||'No\x20reason\x20provided')+_0x567d3c(0x35e)+(_0x877236['adminEmail']||_0x567d3c(0x326))+_0x567d3c(0x628),_0x5b5963['appendChild'](_0x3b3818);});}catch(_0x2fd57e){console[_0x412880(0x4a3)]('Error\x20loading\x20points\x20history:',_0x2fd57e),_0x5b5963[_0x412880(0x29f)]=_0x412880(0x33f)+_0x2fd57e['message']+_0x412880(0x2d1);}}function filterPointsOverview(){const _0x30ef1b=a4_0x3e5318,_0x594aef=document[_0x30ef1b(0x3e8)](_0x30ef1b(0x5b7))[_0x30ef1b(0x475)][_0x30ef1b(0x41f)]();if(!window['allUsersPoints'])return;const _0x9277b4=window['allUsersPoints']['filter'](_0x3111dc=>{const _0x572e2d=_0x30ef1b,_0xab3b28=(_0x3111dc[_0x572e2d(0x60a)]||_0x3111dc[_0x572e2d(0x527)]||'')[_0x572e2d(0x41f)](),_0x1dd467=(_0x3111dc[_0x572e2d(0x438)]||'')[_0x572e2d(0x41f)]();return _0xab3b28[_0x572e2d(0x364)](_0x594aef)||_0x1dd467[_0x572e2d(0x364)](_0x594aef);});renderPointsOverview(_0x9277b4);}function sortPointsOverview(){const _0x5ba075=a4_0x3e5318,_0x11f199=document[_0x5ba075(0x3e8)](_0x5ba075(0x43f))['value'];if(!window['allUsersPoints'])return;const _0x4204dd=[...window['allUsersPoints']];switch(_0x11f199){case _0x5ba075(0x5f6):_0x4204dd['sort']((_0x35f34e,_0x5a0fd9)=>(_0x5a0fd9[_0x5ba075(0x52e)]||0x0)-(_0x35f34e[_0x5ba075(0x52e)]||0x0));break;case _0x5ba075(0x318):_0x4204dd[_0x5ba075(0x46f)]((_0x1fabce,_0x4e1fca)=>(_0x1fabce[_0x5ba075(0x52e)]||0x0)-(_0x4e1fca[_0x5ba075(0x52e)]||0x0));break;case _0x5ba075(0x317):_0x4204dd[_0x5ba075(0x46f)]((_0x26ba70,_0x29ce4f)=>{const _0x3c936c=_0x5ba075,_0x4a7276=(_0x26ba70[_0x3c936c(0x60a)]||_0x26ba70['username']||'')[_0x3c936c(0x41f)](),_0x56113f=(_0x29ce4f[_0x3c936c(0x60a)]||_0x29ce4f['username']||'')['toLowerCase']();return _0x4a7276[_0x3c936c(0x57f)](_0x56113f);});break;case _0x5ba075(0x2a2):_0x4204dd[_0x5ba075(0x46f)]((_0x22849a,_0x3dcb93)=>{const _0xa762b6=_0x5ba075,_0x4d0c95=(_0x22849a[_0xa762b6(0x60a)]||_0x22849a[_0xa762b6(0x527)]||'')[_0xa762b6(0x41f)](),_0x1326a6=(_0x3dcb93[_0xa762b6(0x60a)]||_0x3dcb93[_0xa762b6(0x527)]||'')['toLowerCase']();return _0x1326a6[_0xa762b6(0x57f)](_0x4d0c95);});break;}renderPointsOverview(_0x4204dd);}async function handleAwardItem(_0x2f8670){const _0x174c0b=a4_0x3e5318;_0x2f8670[_0x174c0b(0x575)]();const _0x1aa58c=document[_0x174c0b(0x3e8)]('selected-user-id')['value'],_0x5c2517=document[_0x174c0b(0x3e8)](_0x174c0b(0x3d5))[_0x174c0b(0x475)],_0x56c2d5=document['getElementById'](_0x174c0b(0x24e))[_0x174c0b(0x475)][_0x174c0b(0x52a)]();if(!_0x1aa58c||!_0x5c2517){showNotification('Please\x20select\x20a\x20user\x20and\x20store\x20item',_0x174c0b(0x4a3));return;}try{showNotification(_0x174c0b(0x2e6),_0x174c0b(0x4b8)),document[_0x174c0b(0x3e8)]('award-item-form')[_0x174c0b(0x2a7)]();}catch(_0x1f8dac){console[_0x174c0b(0x4a3)](_0x174c0b(0x202),_0x1f8dac),showNotification(_0x174c0b(0x3b9)+_0x1f8dac['message'],_0x174c0b(0x4a3));}}async function loadUserPointsHistory(_0x5db4ed){const _0x32fbcb=a4_0x3e5318;try{const _0x4a00ac=collection(db,_0x32fbcb(0x585)),_0x504710=query(_0x4a00ac,where(_0x32fbcb(0x233),'==',_0x5db4ed),orderBy(_0x32fbcb(0x587),_0x32fbcb(0x601))),_0x393216=await getDocs(_0x504710);console[_0x32fbcb(0x5cd)](_0x32fbcb(0x51d)+_0x393216[_0x32fbcb(0x237)]+'\x20history\x20entries\x20for\x20user\x20'+_0x5db4ed),showNotification(_0x32fbcb(0x3fb)+_0x393216[_0x32fbcb(0x237)]+_0x32fbcb(0x223),'info');}catch(_0x1e22ae){console['error'](_0x32fbcb(0x549),_0x1e22ae),showNotification(_0x32fbcb(0x268),'error');}}async function initializeUserPointsField(){const _0x469eef=a4_0x3e5318;try{console['log'](_0x469eef(0x4c0));const _0x34bbfb=collection(db,'userProfiles'),_0x415765=await getDocs(_0x34bbfb);if(_0x415765['empty']){console[_0x469eef(0x5cd)](_0x469eef(0x63b));return;}let _0x9996cd=0x0,_0x461ed2=0x0;const _0x4d5599=writeBatch(db);let _0x39f478=0x0;return console[_0x469eef(0x5cd)](_0x469eef(0x51d)+_0x415765[_0x469eef(0x237)]+_0x469eef(0x550)),_0x415765[_0x469eef(0x5ae)](_0x1f5b89=>{const _0x4b15c6=_0x469eef,_0x5ae45e=_0x1f5b89['data']();_0x5ae45e[_0x4b15c6(0x52e)]===undefined||_0x5ae45e[_0x4b15c6(0x52e)]===null?(_0x4d5599[_0x4b15c6(0x3b8)](_0x1f5b89['ref'],{'points':0x0,'pointsInitializedAt':serverTimestamp()}),_0x9996cd++,_0x39f478++,console[_0x4b15c6(0x5cd)](_0x4b15c6(0x2ea)+(_0x5ae45e[_0x4b15c6(0x60a)]||_0x5ae45e[_0x4b15c6(0x527)]||_0x5ae45e[_0x4b15c6(0x438)]||_0x4b15c6(0x61d))+_0x4b15c6(0x629))):(_0x461ed2++,console['log']((_0x5ae45e[_0x4b15c6(0x60a)]||_0x5ae45e[_0x4b15c6(0x527)]||_0x5ae45e[_0x4b15c6(0x438)]||_0x4b15c6(0x61d))+_0x4b15c6(0x2e3)+_0x5ae45e[_0x4b15c6(0x52e)])),_0x39f478>=0x1f4&&console[_0x4b15c6(0x229)]('Batch\x20limit\x20reached\x20-\x20you\x20may\x20need\x20to\x20run\x20this\x20function\x20multiple\x20times\x20for\x20large\x20datasets');}),_0x9996cd>0x0?(console[_0x469eef(0x5cd)](_0x469eef(0x38d)+_0x9996cd+_0x469eef(0x3cb)),await _0x4d5599[_0x469eef(0x228)](),console['log'](_0x469eef(0x36c)+_0x9996cd+'\x20users')):console['log'](_0x469eef(0x4f9)),console[_0x469eef(0x5cd)](_0x469eef(0x5e3)+_0x415765['size']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20Users\x20updated\x20with\x20points:\x20'+_0x9996cd+_0x469eef(0x1e0)+_0x461ed2),showNotification(_0x469eef(0x3f1)+_0x9996cd+_0x469eef(0x578)+_0x461ed2+_0x469eef(0x1f0),_0x469eef(0x4b8)),window[_0x469eef(0x544)]&&loadPointsOverview(),{'totalUsers':_0x415765[_0x469eef(0x237)],'usersUpdated':_0x9996cd,'usersAlreadyHadPoints':_0x461ed2};}catch(_0x34a23e){console[_0x469eef(0x4a3)](_0x469eef(0x517),_0x34a23e),showNotification(_0x469eef(0x4f8)+_0x34a23e[_0x469eef(0x528)],'error');throw _0x34a23e;}}function addPointsMigrationButton(){const _0x10665b=a4_0x3e5318,_0x1ecf87=document[_0x10665b(0x3e8)](_0x10665b(0x2a8));if(!_0x1ecf87)return;if(document[_0x10665b(0x3e8)](_0x10665b(0x316)))return;const _0x354fbe=document[_0x10665b(0x26b)](_0x10665b(0x2ae));_0x354fbe[_0x10665b(0x294)]='migration-section',_0x354fbe[_0x10665b(0x432)][_0x10665b(0x3d0)]=_0x10665b(0x58a),_0x354fbe[_0x10665b(0x432)][_0x10665b(0x606)]='15px',_0x354fbe[_0x10665b(0x432)][_0x10665b(0x5ef)]=_0x10665b(0x536),_0x354fbe['style'][_0x10665b(0x5ca)]=_0x10665b(0x5e0),_0x354fbe['style'][_0x10665b(0x619)]=_0x10665b(0x5f2),_0x354fbe[_0x10665b(0x29f)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4><i\x20class=\x22fas\x20fa-database\x22></i>\x20Database\x20Migration</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p>Initialize\x20the\x20points\x20field\x20for\x20all\x20users\x20who\x20don\x27t\x20have\x20it\x20yet.\x20This\x20is\x20safe\x20to\x20run\x20multiple\x20times.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22migrate-points-btn\x22\x20class=\x22btn\x20btn-warning\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20Initialize\x20Points\x20Field\x20for\x20All\x20Users\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20';const _0xd88495=_0x1ecf87[_0x10665b(0x3f7)](_0x10665b(0x473));_0xd88495&&_0xd88495[_0x10665b(0x512)]('afterend',_0x354fbe),document[_0x10665b(0x3e8)]('migrate-points-btn')['addEventListener'](_0x10665b(0x434),async function(){const _0x2170e3=_0x10665b;if(confirm(_0x2170e3(0x30b))){this['disabled']=!![],this[_0x2170e3(0x29f)]=_0x2170e3(0x24a);try{await initializeUserPointsField(),this[_0x2170e3(0x29f)]=_0x2170e3(0x5d4),this['style'][_0x2170e3(0x5ef)]=_0x2170e3(0x5de),setTimeout(()=>{const _0x4f3aa5=_0x2170e3;_0x354fbe[_0x4f3aa5(0x432)][_0x4f3aa5(0x535)]=_0x4f3aa5(0x2fc);},0xbb8);}catch(_0x958012){this[_0x2170e3(0x29f)]=_0x2170e3(0x415),this['disabled']=![];}}});}function setupManagePointsSection(){const _0x242cb7=a4_0x3e5318;console[_0x242cb7(0x5cd)]('Setting\x20up\x20Manage\x20Points\x20section'),addPointsMigrationButton();const _0x302fde=document[_0x242cb7(0x3e8)]('points-user-search');_0x302fde&&_0x302fde['addEventListener'](_0x242cb7(0x4ee),debounce(searchUsersForPoints,0x12c));const _0x6f8a86=document[_0x242cb7(0x3e8)](_0x242cb7(0x63a));_0x6f8a86&&_0x6f8a86[_0x242cb7(0x3c5)](_0x242cb7(0x385),handleModifyPoints);const _0x453b59=document['getElementById'](_0x242cb7(0x561));_0x453b59&&_0x453b59[_0x242cb7(0x3c5)]('submit',handleAwardItem);const _0x3ac4a0=document['getElementById'](_0x242cb7(0x5b7));_0x3ac4a0&&_0x3ac4a0['addEventListener'](_0x242cb7(0x4ee),debounce(filterPointsOverview,0x12c));const _0x525a7b=document[_0x242cb7(0x3e8)](_0x242cb7(0x43f));_0x525a7b&&_0x525a7b['addEventListener']('change',sortPointsOverview);const _0x5615fd=document[_0x242cb7(0x3e8)]('refresh-points-overview');_0x5615fd&&_0x5615fd[_0x242cb7(0x3c5)](_0x242cb7(0x434),loadPointsOverview);const _0x420afb=document[_0x242cb7(0x3e8)]('quick-edit-points-modal');if(_0x420afb){console['log']('Quick\x20edit\x20modal\x20found,\x20setting\x20up\x20events...');const _0x2ec120=_0x420afb['querySelector'](_0x242cb7(0x49d));_0x2ec120?_0x2ec120[_0x242cb7(0x3c5)](_0x242cb7(0x434),function(){const _0x3630f0=_0x242cb7;console[_0x3630f0(0x5cd)](_0x3630f0(0x305)),closeQuickEditModal();}):console[_0x242cb7(0x229)](_0x242cb7(0x506));const _0x24a345=document['getElementById'](_0x242cb7(0x2bd));_0x24a345?_0x24a345[_0x242cb7(0x3c5)](_0x242cb7(0x434),function(){const _0x4a4e07=_0x242cb7;console['log'](_0x4a4e07(0x5f5)),closeQuickEditModal();}):console['warn'](_0x242cb7(0x209));const _0x4551bf=document[_0x242cb7(0x3e8)](_0x242cb7(0x1f2));_0x4551bf?_0x4551bf['addEventListener'](_0x242cb7(0x385),function(_0x5f5825){const _0x1dc3e0=_0x242cb7;console[_0x1dc3e0(0x5cd)](_0x1dc3e0(0x208)),handleQuickEditPoints(_0x5f5825);}):console[_0x242cb7(0x4a3)](_0x242cb7(0x2f4)),_0x420afb[_0x242cb7(0x3c5)](_0x242cb7(0x434),function(_0x468007){const _0x4cffd2=_0x242cb7;_0x468007[_0x4cffd2(0x1de)]===_0x420afb&&(console[_0x4cffd2(0x5cd)](_0x4cffd2(0x61c)),closeQuickEditModal());});}else console['error'](_0x242cb7(0x562));console[_0x242cb7(0x5cd)](_0x242cb7(0x2ef));}function setupManageRibbonsSection(){const _0x26d2a0=a4_0x3e5318;console[_0x26d2a0(0x5cd)](_0x26d2a0(0x45c));const _0x4ac377=document['getElementById'](_0x26d2a0(0x297));_0x4ac377&&_0x4ac377[_0x26d2a0(0x3c5)](_0x26d2a0(0x4ee),debounce(searchRibbonUser,0x12c));const _0x3287a3=document[_0x26d2a0(0x3e8)]('search-ribbon-user-btn');_0x3287a3&&_0x3287a3[_0x26d2a0(0x3c5)]('click',searchRibbonUser);const _0x2d0061=document['getElementById']('add-ribbon-form');_0x2d0061&&_0x2d0061[_0x26d2a0(0x3c5)]('submit',addRibbon),_0x4ac377&&_0x4ac377[_0x26d2a0(0x3c5)]('keypress',function(_0xf3442a){const _0x292950=_0x26d2a0;_0xf3442a[_0x292950(0x1e6)]===_0x292950(0x286)&&(_0xf3442a[_0x292950(0x575)](),searchRibbonUser());}),console[_0x26d2a0(0x5cd)](_0x26d2a0(0x393));}function a4_0x4074(_0x282007,_0x25d556){const _0x558a50=a4_0x48e2();return a4_0x4074=function(_0x34ba3e,_0x482ec3){_0x34ba3e=_0x34ba3e-0x1cd;let _0xb63c4e=_0x558a50[_0x34ba3e];return _0xb63c4e;},a4_0x4074(_0x282007,_0x25d556);}async function modifyUserPoints(_0x51cdbd,_0x5f05bc,_0x25be52,_0x444b06=''){const _0x54d81a=a4_0x3e5318,_0x201e0a=doc(db,_0x54d81a(0x295),_0x51cdbd),_0x541d0d=await getDoc(_0x201e0a);if(!_0x541d0d[_0x54d81a(0x3e9)]())throw new Error(_0x54d81a(0x3c3));const _0x1d1bdb=_0x541d0d[_0x54d81a(0x416)](),_0x2e02eb=_0x1d1bdb[_0x54d81a(0x52e)]!==undefined?_0x1d1bdb[_0x54d81a(0x52e)]:0x0;_0x1d1bdb[_0x54d81a(0x52e)]===undefined&&(console[_0x54d81a(0x5cd)](_0x54d81a(0x24b)+(_0x1d1bdb['displayName']||_0x1d1bdb[_0x54d81a(0x438)]||'Unknown')),await updateDoc(_0x201e0a,{'points':0x0,'pointsInitializedAt':serverTimestamp()}));let _0xfeb61e=_0x2e02eb;switch(_0x5f05bc){case'add':_0xfeb61e=_0x2e02eb+_0x25be52;break;case _0x54d81a(0x3ee):_0xfeb61e=Math[_0x54d81a(0x259)](0x0,_0x2e02eb-_0x25be52);break;case _0x54d81a(0x421):_0xfeb61e=_0x25be52;break;default:throw new Error(_0x54d81a(0x511));}await updateDoc(_0x201e0a,{'points':_0xfeb61e,'lastPointsModified':serverTimestamp()}),await addDoc(collection(db,_0x54d81a(0x585)),{'userId':_0x51cdbd,'userEmail':_0x1d1bdb[_0x54d81a(0x438)]||'unknown','displayName':_0x1d1bdb['displayName']||_0x1d1bdb[_0x54d81a(0x527)]||'Unknown\x20User','action':_0x5f05bc,'amount':_0x25be52,'previousPoints':_0x2e02eb,'newPoints':_0xfeb61e,'reason':_0x444b06,'adminEmail':auth[_0x54d81a(0x3e4)][_0x54d81a(0x438)],'timestamp':serverTimestamp()});}async function loadPointsOverview(){const _0x2bdc71=a4_0x3e5318,_0x5cf4d4=document[_0x2bdc71(0x3e8)]('points-overview-table-body');if(!_0x5cf4d4)return;_0x5cf4d4[_0x2bdc71(0x29f)]='<tr><td\x20colspan=\x225\x22\x20class=\x22loading-cell\x22>Loading\x20user\x20points...</td></tr>';try{const _0x33ed45=collection(db,'userProfiles'),_0xcf779d=await getDocs(_0x33ed45);if(_0xcf779d[_0x2bdc71(0x42f)]){_0x5cf4d4['innerHTML']='<tr><td\x20colspan=\x225\x22\x20class=\x22empty-state\x22>No\x20users\x20found</td></tr>';return;}const _0x19987b=[];let _0x5a9cca=0x0;_0xcf779d[_0x2bdc71(0x5ae)](_0xb8c650=>{const _0x165287=_0x2bdc71,_0x4d0dcc=_0xb8c650[_0x165287(0x416)](),_0x1d866d=_0x4d0dcc[_0x165287(0x52e)]!==undefined?_0x4d0dcc[_0x165287(0x52e)]:0x0;_0x4d0dcc[_0x165287(0x52e)]===undefined&&_0x5a9cca++,_0x19987b[_0x165287(0x2b5)]({'id':_0xb8c650['id'],..._0x4d0dcc,'points':_0x1d866d});}),_0x5a9cca>0x0&&(console[_0x2bdc71(0x5cd)]('Found\x20'+_0x5a9cca+_0x2bdc71(0x1d5)),showNotification(_0x5a9cca+_0x2bdc71(0x488),_0x2bdc71(0x471))),_0x19987b[_0x2bdc71(0x46f)]((_0x5cf9fa,_0x1e346d)=>(_0x1e346d[_0x2bdc71(0x52e)]||0x0)-(_0x5cf9fa['points']||0x0)),window[_0x2bdc71(0x544)]=_0x19987b,renderPointsOverview(_0x19987b);}catch(_0x1c0fbc){console[_0x2bdc71(0x4a3)](_0x2bdc71(0x26e),_0x1c0fbc),_0x5cf4d4[_0x2bdc71(0x29f)]=_0x2bdc71(0x4d8)+_0x1c0fbc[_0x2bdc71(0x528)]+_0x2bdc71(0x2d1);}}async function loadRibbonsData(){const _0x2978fd=a4_0x3e5318,_0x1dceff=document[_0x2978fd(0x3e8)](_0x2978fd(0x470));if(!_0x1dceff)return;_0x1dceff[_0x2978fd(0x29f)]=_0x2978fd(0x261);try{const [_0x271162,_0x4b5ed2,_0x59d1db]=await Promise[_0x2978fd(0x600)]([getDocs(collection(db,_0x2978fd(0x520))),getDocs(collection(db,_0x2978fd(0x25c))),getDocs(collection(db,'playerRibbonsD3'))]);_0x1dceff[_0x2978fd(0x29f)]='';const _0x3ba1dd=(_0x9a4a8,_0xe13b4c)=>{const _0x3eb8cd=_0x2978fd;_0x9a4a8[_0x3eb8cd(0x5ae)](_0x57bde0=>{const _0x321641=_0x3eb8cd,_0x36d2c8=_0x57bde0[_0x321641(0x416)](),_0x51d024=_0x36d2c8['ribbons']||{},_0x4e86e6=Object[_0x321641(0x42d)](_0x51d024)[_0x321641(0x541)],_0x11017e=document[_0x321641(0x26b)]('tr');_0x11017e[_0x321641(0x29f)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x36d2c8[_0x321641(0x527)]||'Unknown')+_0x321641(0x3d1)+_0xe13b4c['toLowerCase']()+'\x22>'+_0xe13b4c+_0x321641(0x200)+_0x4e86e6+_0x321641(0x5d2)+(_0x36d2c8[_0x321641(0x3ea)]?new Date(_0x36d2c8['lastUpdated'][_0x321641(0x27b)]*0x3e8)[_0x321641(0x569)]():_0x321641(0x61d))+_0x321641(0x463)+_0x36d2c8[_0x321641(0x527)]+'\x22\x20data-ladder=\x22'+_0xe13b4c+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-edit\x22></i>\x20Edit\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x1dceff['appendChild'](_0x11017e);});};_0x3ba1dd(_0x271162,'D1'),_0x3ba1dd(_0x4b5ed2,'D2'),_0x3ba1dd(_0x59d1db,'D3'),document[_0x2978fd(0x534)](_0x2978fd(0x3a1))['forEach'](_0x2d316c=>{const _0x1ba3be=_0x2978fd;_0x2d316c[_0x1ba3be(0x3c5)](_0x1ba3be(0x434),function(){const _0x146eac=_0x1ba3be,_0x13e63d=this[_0x146eac(0x390)][_0x146eac(0x527)],_0x20ab70=this['dataset'][_0x146eac(0x41e)];editUserRibbons(_0x13e63d,_0x20ab70);});}),showNotification(_0x2978fd(0x56f),_0x2978fd(0x4b8));}catch(_0x265d6a){console[_0x2978fd(0x4a3)]('Error\x20loading\x20ribbons:',_0x265d6a),_0x1dceff[_0x2978fd(0x29f)]='<tr><td\x20colspan=\x225\x22\x20class=\x22error-state\x22>Error\x20loading\x20ribbons</td></tr>',showNotification(_0x2978fd(0x3fe),_0x2978fd(0x4a3));}}async function searchRibbonUser(){const _0x5642cf=a4_0x3e5318,_0x4bf22f=document[_0x5642cf(0x3e8)](_0x5642cf(0x297))['value'][_0x5642cf(0x52a)]();if(!_0x4bf22f){showNotification('Please\x20enter\x20a\x20username',_0x5642cf(0x4a3));return;}try{const [_0x10594f,_0xa5078a,_0x20760a]=await Promise['all']([getDoc(doc(db,_0x5642cf(0x520),_0x4bf22f)),getDoc(doc(db,_0x5642cf(0x25c),_0x4bf22f)),getDoc(doc(db,_0x5642cf(0x413),_0x4bf22f))]);let _0x4eb3e8=null,_0x5cede7=null;if(_0x10594f['exists']())_0x4eb3e8='D1',_0x5cede7=_0x10594f['data']();else{if(_0xa5078a[_0x5642cf(0x3e9)]())_0x4eb3e8='D2',_0x5cede7=_0xa5078a['data']();else _0x20760a[_0x5642cf(0x3e9)]()&&(_0x4eb3e8='D3',_0x5cede7=_0x20760a[_0x5642cf(0x416)]());}_0x4eb3e8?(document['getElementById'](_0x5642cf(0x382))['textContent']=_0x4bf22f,document[_0x5642cf(0x3e8)](_0x5642cf(0x4ab))[_0x5642cf(0x475)]=_0x4bf22f,document[_0x5642cf(0x3e8)](_0x5642cf(0x280))[_0x5642cf(0x475)]=_0x4eb3e8,document[_0x5642cf(0x3e8)](_0x5642cf(0x3c6))['style'][_0x5642cf(0x535)]=_0x5642cf(0x45f),displayCurrentRibbons(_0x5cede7[_0x5642cf(0x592)]||{}),showNotification('Found\x20'+_0x4bf22f+_0x5642cf(0x32d)+_0x4eb3e8+_0x5642cf(0x2bb),_0x5642cf(0x4b8))):showNotification(_0x5642cf(0x635)+_0x4bf22f+_0x5642cf(0x2b2),_0x5642cf(0x4a3));}catch(_0x2efa83){console[_0x5642cf(0x4a3)](_0x5642cf(0x4df),_0x2efa83),showNotification(_0x5642cf(0x430),_0x5642cf(0x4a3));}}function displayCurrentRibbons(_0x3256dd){const _0x5ce4af=a4_0x3e5318,_0x2c0bee=document[_0x5ce4af(0x3e8)](_0x5ce4af(0x553));if(!_0x2c0bee)return;_0x2c0bee[_0x5ce4af(0x29f)]='';if(Object[_0x5ce4af(0x42d)](_0x3256dd)['length']===0x0){_0x2c0bee['innerHTML']='<p\x20class=\x22no-ribbons\x22>No\x20ribbons\x20found</p>';return;}Object[_0x5ce4af(0x61b)](_0x3256dd)[_0x5ce4af(0x5ae)](([_0x5d05d6,_0x24eea6])=>{const _0x3fdf33=_0x5ce4af,_0x302dbe=document['createElement']('div');_0x302dbe[_0x3fdf33(0x294)]='ribbon-item',_0x302dbe['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>'+_0x5d05d6+_0x3fdf33(0x2de)+(_0x24eea6[_0x3fdf33(0x22c)]||0x1)+_0x3fdf33(0x29e)+(_0x24eea6['awardedAt']?new Date(_0x24eea6['awardedAt'][_0x3fdf33(0x27b)]*0x3e8)[_0x3fdf33(0x569)]():_0x3fdf33(0x61d))+_0x3fdf33(0x455)+_0x5d05d6+_0x3fdf33(0x395),_0x2c0bee[_0x3fdf33(0x45a)](_0x302dbe);}),document['querySelectorAll']('.remove-ribbon-btn')[_0x5ce4af(0x5ae)](_0x426a10=>{const _0xa53c48=_0x5ce4af;_0x426a10[_0xa53c48(0x3c5)]('click',function(){const _0x397aa0=_0xa53c48,_0x49542b=this['dataset'][_0x397aa0(0x3ce)];removeRibbon(_0x49542b);});});}async function addRibbon(_0x5c2576){const _0x409cc1=a4_0x3e5318;_0x5c2576[_0x409cc1(0x575)]();const _0x4ad41a=document['getElementById'](_0x409cc1(0x4ab))[_0x409cc1(0x475)],_0x53434d=document['getElementById'](_0x409cc1(0x280))[_0x409cc1(0x475)],_0x5a6581=document[_0x409cc1(0x3e8)]('ribbon-type-select')[_0x409cc1(0x475)],_0x33c7f6=parseInt(document[_0x409cc1(0x3e8)](_0x409cc1(0x23a))[_0x409cc1(0x475)]);if(!_0x4ad41a||!_0x53434d||!_0x5a6581||!_0x33c7f6){showNotification(_0x409cc1(0x4b4),_0x409cc1(0x4a3));return;}try{const _0x38d654=_0x409cc1(0x520)+(_0x53434d==='D1'?'':_0x53434d),_0x3d456e=doc(db,_0x38d654,_0x4ad41a),_0x749676=await getDoc(_0x3d456e),_0xf4e2c6=_0x749676[_0x409cc1(0x3e9)]()?_0x749676[_0x409cc1(0x416)]()[_0x409cc1(0x592)]||{}:{};_0xf4e2c6[_0x5a6581]={'level':_0x33c7f6,'awardedAt':serverTimestamp()},await setDoc(_0x3d456e,{'username':_0x4ad41a,'ladder':_0x53434d,'ribbons':_0xf4e2c6,'lastUpdated':serverTimestamp()},{'merge':!![]}),showNotification(_0x409cc1(0x4f0)+_0x5a6581+_0x409cc1(0x464)+_0x33c7f6+_0x409cc1(0x4aa)+_0x4ad41a,_0x409cc1(0x4b8)),displayCurrentRibbons(_0xf4e2c6),document[_0x409cc1(0x3e8)](_0x409cc1(0x3e5))['value']='',document[_0x409cc1(0x3e8)](_0x409cc1(0x23a))['value']='1';}catch(_0x376b15){console[_0x409cc1(0x4a3)]('Error\x20adding\x20ribbon:',_0x376b15),showNotification(_0x409cc1(0x308),'error');}}async function removeRibbon(_0x37f038){const _0x1e983e=a4_0x3e5318,_0x307386=document[_0x1e983e(0x3e8)](_0x1e983e(0x4ab))[_0x1e983e(0x475)],_0xff8762=document[_0x1e983e(0x3e8)]('ribbon-target-ladder')[_0x1e983e(0x475)];if(!confirm('Remove\x20'+_0x37f038+_0x1e983e(0x392)+_0x307386+'?'))return;try{const _0x549558=_0x1e983e(0x520)+(_0xff8762==='D1'?'':_0xff8762),_0x322de2=doc(db,_0x549558,_0x307386),_0x5d3f4f=await getDoc(_0x322de2),_0x3e7271=_0x5d3f4f['exists']()?_0x5d3f4f[_0x1e983e(0x416)]()['ribbons']||{}:{};delete _0x3e7271[_0x37f038],await setDoc(_0x322de2,{'username':_0x307386,'ladder':_0xff8762,'ribbons':_0x3e7271,'lastUpdated':serverTimestamp()},{'merge':!![]}),showNotification('Removed\x20'+_0x37f038+'\x20from\x20'+_0x307386,_0x1e983e(0x4b8)),displayCurrentRibbons(_0x3e7271);}catch(_0x404983){console['error']('Error\x20removing\x20ribbon:',_0x404983),showNotification(_0x1e983e(0x3e1),_0x1e983e(0x4a3));}}function editUserRibbons(_0x1f7aa8,_0x4a5197){const _0x57b9ce=a4_0x3e5318;document[_0x57b9ce(0x3e8)](_0x57b9ce(0x297))['value']=_0x1f7aa8,searchRibbonUser();}