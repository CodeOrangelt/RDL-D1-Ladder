const a26Z=a26b;(function(a,b){const Y=a26b,c=a();while(!![]){try{const d=-parseInt(Y(0xc8))/0x1+parseInt(Y(0xb7))/0x2*(parseInt(Y(0xbe))/0x3)+parseInt(Y(0xc3))/0x4+-parseInt(Y(0x77))/0x5+-parseInt(Y(0x88))/0x6*(parseInt(Y(0xb5))/0x7)+-parseInt(Y(0x76))/0x8*(-parseInt(Y(0xb1))/0x9)+-parseInt(Y(0x7a))/0xa;if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a26a,0xc1ef0));import{getAuth,onAuthStateChanged}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';function a26b(a,b){const c=a26a();return a26b=function(d,e){d=d-0x73;let f=c[d];if(a26b['owyXoX']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a26b['ZrgPjc']=g,a=arguments,a26b['owyXoX']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a26b['ZrgPjc'](f),a[i]=f):f=j,f;},a26b(a,b);}import{getFirestore}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{doc,getDoc,getDocs,updateDoc,deleteDoc,setDoc,query,collection,where}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{auth,db}from'./firebase-config.js';function a26a(){const ax=['CgXHEwvYC0r1B3m','vgvHBw1HDguNCYb0zwfTigrHDgeGy2XLyxjLzcbZDwnJzxnZzNvSBhK','rxjYB3iGzhvYAw5NihjLDhvYBIbMCM9TigHPyxr1CZO','iZrdquy1ma','CMvM','DxnLCM5HBwu','u3vJy2vZC2z1BgX5ihjLDhvYBMvKihrVia','CxvLCNLtzwXLy3rVCG','igXHzgrLCG','ignVBgXLy3rPB24','igXHzgrLCI4UlG','y2XPy2S','ww91igfYzsbUB3qGB24GDgHPCYbSywrKzxiU','y29UzMLYBs1Szwf2zs10zwfTlwj1DhrVBG','rxjYB3iGzhvYAw5NihjLDgLYzw1LBNq6','z2v0rwXLBwvUDej5swq','uMv0AxjLigj1DhrVBIbJBgLJA2vK','Bg9JyxrPB24','mJyXDfvvueno','rxjYB3iGz2v0DgLUzYbOAwf0DxmGzgf0ytO','zgLZCgXHEq','ww91ig11C3qGyMuGBg9Nz2vKigLUihrVigXLyxzLigeGDgvHBs4','mJGWmJe3z1jVyNrs','DgvHBuLK','mZG5nJrwExDXDKi','CMv0AxjLlwXHzgrLCI10ExbL','i2zMytuWma','zxjYB3i','u3vJy2vZC2z1BgX5ihDLBNqGB24GAgLHDhvZigzYB20G','Bg9N','DwLK','nZvvDvvAuvq','zxHPC3rZ','zM9YrwfJAa','CMv0AxjLlwXHzgrLCI1IDxr0B24','yNv0Dg9U','nde1mZGXnLrUzg1kta','C3r5Bgu','DhjPBq','rgLZC29SDMLUzYb0zwfTigzVCIbYzxrPCMLUzYbWBgf5zxiUlI4','CMv0AxjLlxvZzxjUyw1LlwLUChv0','ndm0nhj6t2nVsW','sgLHDhvZigj1DhrVBIbJBgLJA2vK','BM9Uzq','vxnLCIbPCYbUB3qGAw4Gysb0zwfTlcbOAwrPBMCGBgvHDMuGDgvHBsbIDxr0B24','BgvHDMuTDgvHBs1IDxr0B24','zgLZywjSzwq','Dw5OAwf0DxmTyNv0Dg9U','ywrKrxzLBNrmAxn0zw5LCG','yMXVy2S','rxjYB3iGChjVy2vZC2LUzYb5B3vYihjLCxvLC3qUifbSzwfZzsb0CNKGywDHAw4U','uMv0DxjUAw5NigzYB20GAgLHDhvZlI4U','DgfYz2v0','BgfKzgvY','uMv0AxjPBMCGzNjVBsa','DMfSDwu','Dgv4DenVBNrLBNq','Cg9ZAxrPB24','re9nq29UDgvUDeXVywrLza','igXHzgrLCIe','AgfZvgvHBq','mJe0otm2ENnzAKrz','mtqYmdqWmfrAvwX5qW','ww91ig11C3qGyMuGBg9Nz2vKigLUihrVihjLDhvYBIbMCM9TigHPyxr1CY4','vxnLCM5HBwuGzg9LCYbUB3qGBwf0y2GGEw91CIbHy2nVDw50lG','mtaYmtCXnJboBNHbEwK','y2HHBMDL','zgf0yq','CgXHEwvYsgLHDhvZ','AgLHDhvZlxvZzxjUyw1LlwLUChv0','y29SB3i','vw5OAwf0DxmGyNv0Dg9UignSAwnRzwq','Dg9mB3DLCKnHC2u','CgXHEwvYCW','BgvHDMuTDgvHBs11C2vYBMfTzs1PBNb1Da','rxjYB3iGBgvHDMLUzYb0zwfToG','ugXLyxnLigvUDgvYihLVDxiGDxnLCM5HBwuGDg8Gy29UzMLYBs4','y3vYCMvUDfvZzxi','tgvHDMLUzYb0zwfTlI4U','mZbjrxzdyNm','AgLHDhvZlwXHzgrLCI10ExbL','iZi3ywu2ma','u3vJy2vZC2z1BgX5igXLzNqGDgvHBseGww91ihjLBwfPBIbVBIb0AguGBgfKzgvYigfZigeGC29SBYbWBgf5zxiU','CMvSB2fK','zNjVBuXHzgrLCG','Dw5OAwf0DxmTBgfKzgvYlxr5Cgu','q1rg','vxnLCIbPCYbPBIbHihrLyw0SihnOB3DPBMCGBgvHDMuGDgvHBsbIDxr0B24','y29UzMLYBs1OAwf0DxmTyNv0Dg9U','CMvSyxrPDMu','i2XLyxzLlxrLyw0TChjVBxb0ic5JBg9Zzs1IDxr0B24','ltuWChG','i2zMnMi2yG','rfvpuW','i2XHzgrLCI1YzxrPCMuTChjVBxb0ic5JBg9Zzs1IDxr0B24','uMv0DxjUigzYB20GsgLHDhvZ','BgvMDa','rxjYB3iGCMv0DxjUAw5NigzYB20GAgLHDhvZoG','CgXHEwvYq29SBgvJDgLVBG','ww91ig11C3qGyMuGBg9Nz2vKigLUihrVihjLDgLYzs4','zMXLEa','BwvZC2fNzq'];a26a=function(){return ax;};return a26a();}document['addEventListener'](a26Z(0x73),()=>{const a0=a26Z,a=document[a0(0xae)]('tiny-retire-button'),b=document[a0(0xae)]('ladder-retire-prompt'),c=document[a0(0xae)](a0(0xb8)),d=document[a0(0xae)](a0(0xc7)),e=document[a0(0xae)](a0(0xc1)),f=document['getElementById']('ladder-retire-status'),g=document[a0(0xae)](a0(0xcc)),h=document[a0(0xae)]('leave-team-prompt'),i=document['getElementById']('leave-team-status'),j=document['getElementById'](a0(0xac)),k=document[a0(0xae)](a0(0x83)),l=document[a0(0xae)]('hiatus-button'),m=document[a0(0xae)]('hiatus-prompt'),n=document['getElementById'](a0(0x89)),o=document['getElementById'](a0(0x7e)),p=document[a0(0xae)](a0(0x91)),q=document[a0(0xae)]('hiatus-status'),r=document[a0(0xae)]('unhiatus-prompt'),s=document['getElementById'](a0(0x8e)),t=document['getElementById']('unhiatus-username-input'),u=document[a0(0xae)]('confirm-unhiatus-button'),v=document[a0(0xae)]('unhiatus-status');let w='D1';function x(M){const a1=a0;switch(M){case'D1':return'players';case'D2':return'playersD2';case'D3':return'playersD3';case a1(0x96):return a1(0x9f);case a1(0x8f):return'playersCTF';default:return a1(0x82);}}function y(){const a2=a0;document['querySelectorAll']('input[name=\x22ladder\x22]')[a2(0xc0)](M=>{const a3=a2;M[a3(0xcf)](a3(0x7b),N=>{const a4=a3;N[a4(0xd3)]['checked']&&(w=N['target'][a4(0xd6)],console[a4(0xbc)]('Retire:\x20Ladder\x20changed\x20to:\x20'+w),c&&(c[a4(0xd7)]=w),z());});});}function z(){const a5=a0;console[a5(0xbc)]('Checking\x20retire\x20visibility\x20for\x20ladder:',w);const M=auth['currentUser'];if(!M){if(a)a[a5(0xc4)]['display']='none';if(g)g['style']['display']=a5(0xca);if(l)l[a5(0xc4)]['display']=a5(0xca);if(H)H[a5(0xc4)][a5(0xb3)]=a5(0xca);return;}A(M);}async function A(M){const a6=a0;try{try{const N=doc(db,'playerHiatus',M[a6(0xbd)]),O=await getDoc(N);if(O['exists']()){const P=O['data']();console[a6(0xbc)]('User\x20is\x20on\x20hiatus\x20from\x20'+P[a6(0x8d)]+a6(0xa7));if(H)H[a6(0xc4)]['display']='block';if(a)a['style'][a6(0xb3)]=a6(0xca);if(g)g['style'][a6(0xb3)]=a6(0xca);if(l)l['style']['display']='none';return;}}catch(Q){console['warn']('Error\x20checking\x20hiatus\x20status\x20(this\x20is\x20expected\x20if\x20permissions\x20aren\x27t\x20set):',Q);}try{const R=x(w);console['log']('Checking\x20if\x20user\x20is\x20in\x20'+R+a6(0xa8));const S=doc(db,R,M[a6(0xbd)]),T=await getDoc(S);if(T['exists']()){console['log']('User\x20is\x20on\x20the\x20'+w+'\x20ladder');if(a)a[a6(0xc4)]['display']=a6(0xd0);if(l)l[a6(0xc4)]['display']=a6(0xd0);if(w===a6(0x96)){const U=T[a6(0x7c)]();if(U[a6(0x75)]&&U['teamId']){console['log'](a6(0x90));if(g)g['style'][a6(0xb3)]='block';}else{console['log'](a6(0xcb));if(g)g['style']['display']='none';}}else{if(g)g['style']['display']=a6(0xca);}}else{console[a6(0xbc)]('User\x20is\x20NOT\x20on\x20the\x20'+w+a6(0xa7));if(a)a[a6(0xc4)]['display']=a6(0xca);if(g)g[a6(0xc4)]['display']=a6(0xca);if(l)l[a6(0xc4)][a6(0xb3)]='none';}}catch(V){console[a6(0xba)]('Error\x20checking\x20player\x20status:',V);if(a)a['style']['display']=a6(0xca);if(g)g[a6(0xc4)][a6(0xb3)]='none';if(l)l['style'][a6(0xb3)]=a6(0xca);}}catch(W){console[a6(0xba)]('Main\x20error\x20in\x20checkPlayerStatus:',W);if(a)a['style']['display']='none';if(g)g['style'][a6(0xb3)]=a6(0xca);if(l)l['style']['display']='none';if(H)H[a6(0xc4)][a6(0xb3)]=a6(0xca);}}async function B(M,N){const a7=a0;if(M['hasTeam']&&M['teamId']&&M['teammate']){console[a7(0xbc)](a7(0xc6));try{const O=collection(db,N),P=query(O,where('username','==',M['teammate'])),Q=await getDocs(P);if(!Q['empty']){const R=Q['docs'][0x0];await updateDoc(R[a7(0xa3)],{'hasTeam':![],'teamId':null,'teamName':null,'teammate':null,'teamColor':null}),console['log'](a7(0xa0));}}catch(S){console[a7(0xba)]('Error\x20dissolving\x20team:',S);}}}async function C(M,N){const a8=a0,O=x(w);try{const P=doc(db,O,N[a8(0xbd)]),Q=await getDoc(P);if(!Q['exists']())throw new Error(a8(0xab));const R=Q[a8(0x7c)]();if(R[a8(0xa4)]['toLowerCase']()!==M[a8(0x81)]())throw new Error('Username\x20does\x20not\x20match\x20your\x20account.');if(!R[a8(0x75)]||!R[a8(0xb6)])throw new Error('You\x20are\x20not\x20currently\x20in\x20a\x20team.');return await B(R,O),await updateDoc(P,{'hasTeam':![],'teamId':null,'teamName':null,'teammate':null,'teamColor':null}),{'success':!![]};}catch(S){console['error'](a8(0x84),S);throw S;}}async function D(M,N){const a9=a0,O=x(w);try{const P=doc(db,O,N['uid']),Q=await getDoc(P);if(!Q['exists']())throw new Error('You\x20are\x20not\x20on\x20this\x20ladder.');const R=Q[a9(0x7c)]();if(R['username']['toLowerCase']()!==M[a9(0x81)]())throw new Error(a9(0x79));return w===a9(0x96)&&await B(R,O),await deleteDoc(P),{'success':!![]};}catch(S){console['error']('Error\x20retiring\x20from\x20ladder:',S);throw S;}}async function E(M,N){const aa=a0,O=x(w),P=aa(0x7d);try{const Q=doc(db,O,N['uid']),R=await getDoc(Q);if(!R['exists']())throw new Error(aa(0xab));const S=R[aa(0x7c)]();if(S[aa(0xa4)][aa(0x81)]()!==M[aa(0x81)]())throw new Error(aa(0x79));w==='DUOS'&&S[aa(0x75)]&&await B(S,O);const T={...S,'fromLadder':w,'hiatusDate':new Date(),'playerCollection':O};return await setDoc(doc(db,P,N['uid']),T),await deleteDoc(Q),{'success':!![]};}catch(U){console['error']('Error\x20going\x20on\x20hiatus:',U);throw U;}}async function F(M,N){const ab=a0,O=ab(0x7d);try{const P=doc(db,O,N[ab(0xbd)]),Q=await getDoc(P);if(!Q[ab(0xbf)]())throw new Error('You\x20are\x20not\x20on\x20hiatus.');const R=Q[ab(0x7c)]();if(R['username']['toLowerCase']()!==M['toLowerCase']())throw new Error(ab(0x79));const S=R[ab(0x9b)]||x(R['fromLadder']),{hiatusDate:T,fromLadder:U,playerCollection:V,...W}=R;return await setDoc(doc(db,S,N['uid']),W),await deleteDoc(P),{'success':!![],'ladder':U};}catch(X){console['error'](ab(0x9a),X);throw X;}}onAuthStateChanged(auth,M=>{const ac=a0;if(M)z();else{if(a)a[ac(0xc4)][ac(0xb3)]='none';if(g)g[ac(0xc4)][ac(0xb3)]=ac(0xca);if(b)b['style']['display']=ac(0xca);if(h)h['style']['display']=ac(0xca);if(l)l[ac(0xc4)][ac(0xb3)]=ac(0xca);if(H)H[ac(0xc4)]['display']='none';}});a&&a[a0(0xcf)]('click',()=>{const ad=a0;console['log'](ad(0xaf)),b&&(b[ad(0xc4)]['display']='flex'),c&&(c[ad(0xd7)]=w),f&&(f[ad(0xd7)]='',f[ad(0xc4)][ad(0x7f)]=''),d&&(d['value']='');});g&&g['addEventListener'](a0(0xaa),()=>{const ae=a0;console['log']('Leave\x20team\x20button\x20clicked'),h&&(h['style'][ae(0xb3)]=ae(0x9d)),i&&(i['textContent']='',i[ae(0xc4)][ae(0x7f)]=''),k&&(k['value']='');});l&&l['addEventListener'](a0(0xaa),()=>{const af=a0;console[af(0xbc)](af(0xc9)),m&&(m[af(0xc4)]['display']='flex'),n&&(n['textContent']=w),q&&(q['textContent']='',q['style'][af(0x7f)]=''),o&&(o[af(0xd6)]='');});e&&e[a0(0xcf)]('click',async()=>{const ag=a0,M=d?d['value']['trim']():'';if(!M){f&&(f['textContent']=ag(0x85),f['style'][ag(0x7f)]=ag(0x95));return;}const N=auth[ag(0x86)];if(!N){f&&(f['textContent']=ag(0x9c),f[ag(0xc4)][ag(0x7f)]='#ff6b6b');return;}e[ag(0xcd)]=!![];f&&(f[ag(0xd7)]=ag(0xd5)+w+'\x20ladder...',f['style']['color']=ag(0xb9));try{await D(M,N),f&&(f[ag(0xd7)]='Successfully\x20retired\x20from\x20'+w+ag(0x74),f[ag(0xc4)]['color']=ag(0xa2)),setTimeout(()=>{const ah=ag;if(a)a['style'][ah(0xb3)]='none';if(b)b[ah(0xc4)][ah(0xb3)]='none';window['location'][ah(0x8c)]();},0x7d0);}catch(O){console['error'](ag(0xad),O),f&&(f[ag(0xd7)]=O[ag(0x9e)]||'Error\x20processing\x20your\x20request.\x20Please\x20try\x20again.',f['style']['color']=ag(0x95)),e['disabled']=![];}});j&&j['addEventListener']('click',async()=>{const ai=a0,M=k?k[ai(0xd6)]['trim']():'';if(!M){i&&(i[ai(0xd7)]='Please\x20enter\x20your\x20username\x20to\x20confirm.',i['style'][ai(0x7f)]=ai(0x95));return;}const N=auth['currentUser'];if(!N){i&&(i[ai(0xd7)]=ai(0xb4),i[ai(0xc4)]['color']=ai(0x95));return;}j['disabled']=!![];i&&(i[ai(0xd7)]=ai(0x87),i['style']['color']='#ffa500');try{await C(M,N),i&&(i[ai(0xd7)]=ai(0x8b),i['style'][ai(0x7f)]='#4CAF50'),setTimeout(()=>{const aj=ai;if(g)g[aj(0xc4)]['display']='none';if(h)h['style']['display']=aj(0xca);window[aj(0xb0)]['reload']();},0x7d0);}catch(O){console[ai(0xba)](ai(0x84),O),i&&(i['textContent']=O[ai(0x9e)]||ai(0xd1),i['style']['color']='#ff6b6b'),j['disabled']=![];}});p&&p[a0(0xcf)](a0(0xaa),async()=>{const ak=a0,M=o?o['value'][ak(0xc5)]():'';if(!M){q&&(q['textContent']=ak(0x85),q[ak(0xc4)][ak(0x7f)]='#ff6b6b');return;}const N=auth[ak(0x86)];if(!N){q&&(q['textContent']='You\x20must\x20be\x20logged\x20in\x20to\x20go\x20on\x20hiatus.',q['style']['color']=ak(0x95));return;}p['disabled']=!![];q&&(q[ak(0xd7)]='Going\x20on\x20hiatus\x20from\x20'+w+ak(0xa9),q[ak(0xc4)][ak(0x7f)]=ak(0xb9));try{await E(M,N),q&&(q['textContent']=ak(0xbb)+w+ak(0x74),q[ak(0xc4)]['color']=ak(0xa2)),setTimeout(()=>{const al=ak;if(l)l['style']['display']='none';if(m)m['style']['display']=al(0xca);window[al(0xb0)][al(0x8c)]();},0x7d0);}catch(O){console['error']('Error\x20during\x20hiatus:',O),q&&(q[ak(0xd7)]=O[ak(0x9e)]||ak(0xd1),q[ak(0xc4)]['color']=ak(0x95)),p[ak(0xcd)]=![];}});function G(){const am=a0;let M=document[am(0xae)]('unhiatus-button');if(!M){M=document['createElement'](am(0xc2)),M['id']=am(0xce),M['className']='tiny-retire-button',M[am(0xc4)][am(0xb3)]=am(0xca),M[am(0xc4)]['background']=am(0x8a),M['textContent']=am(0x98),M['style'][am(0xd8)]=am(0x92),M[am(0xc4)][am(0x99)]=am(0x94);const N=document['getElementById']('ladder-retire-tiny-container');N&&N['appendChild'](M);}return M;}const H=G();H&&H['addEventListener']('click',async()=>{const an=a0;console[an(0xbc)](an(0x80));const M=auth[an(0x86)];if(!M)return;try{const N=doc(db,an(0x7d),M[an(0xbd)]),O=await getDoc(N);if(O['exists']()){const P=O['data'](),Q=P['fromLadder']||'D1';r&&(r[an(0xc4)][an(0xb3)]=an(0x9d)),s&&(s['textContent']=Q),v&&(v[an(0xd7)]='',v[an(0xc4)][an(0x7f)]=''),t&&(t[an(0xd6)]='');}}catch(R){console['error'](an(0xb2),R);}});u&&u['addEventListener']('click',async()=>{const ao=a0,M=t?t['value']['trim']():'';if(!M){v&&(v['textContent']=ao(0x85),v[ao(0xc4)]['color']=ao(0x95));return;}const N=auth[ao(0x86)];if(!N){v&&(v[ao(0xd7)]=ao(0x78),v[ao(0xc4)]['color']=ao(0x95));return;}u[ao(0xcd)]=!![];v&&(v[ao(0xd7)]=ao(0xd2),v['style'][ao(0x7f)]='#ffa500');try{const O=await F(M,N);v&&(v['textContent']=ao(0xa5)+O[ao(0xd4)]+'\x20ladder!',v[ao(0xc4)][ao(0x7f)]=ao(0xa2)),setTimeout(()=>{const ap=ao;if(H)H[ap(0xc4)]['display']='none';if(r)r[ap(0xc4)][ap(0xb3)]=ap(0xca);window['location']['reload']();},0x7d0);}catch(P){console[ao(0xba)](ao(0xa1),P),v&&(v[ao(0xd7)]=P[ao(0x9e)]||'Error\x20processing\x20your\x20request.\x20Please\x20try\x20again.',v['style']['color']='#ff6b6b'),u[ao(0xcd)]=![];}});const I=document[a0(0xa6)](a0(0x97));I&&I[a0(0xcf)](a0(0xaa),()=>{const aq=a0;if(b)b[aq(0xc4)]['display']='none';});const J=document['querySelector'](a0(0x93));J&&J['addEventListener'](a0(0xaa),()=>{const ar=a0;if(h)h[ar(0xc4)]['display']=ar(0xca);});const K=document['querySelector']('#hiatus-prompt\x20.close-button');K&&K['addEventListener']('click',()=>{const as=a0;if(m)m[as(0xc4)][as(0xb3)]='none';});const L=document['querySelector']('#unhiatus-prompt\x20.close-button');L&&L['addEventListener']('click',()=>{const at=a0;if(r)r[at(0xc4)]['display']='none';}),b&&b[a0(0xcf)]('click',M=>{const au=a0;M['target']===b&&(b[au(0xc4)][au(0xb3)]='none');}),h&&h['addEventListener'](a0(0xaa),M=>{M['target']===h&&(h['style']['display']='none');}),m&&m['addEventListener'](a0(0xaa),M=>{const av=a0;M['target']===m&&(m['style']['display']=av(0xca));}),r&&r[a0(0xcf)]('click',M=>{const aw=a0;M[aw(0xd3)]===r&&(r['style'][aw(0xb3)]='none');}),y(),setTimeout(()=>{z();},0x3e8);});