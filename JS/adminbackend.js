const a4_0x182e79=a4_0x3a00;(function(_0x3f6e87,_0xcb73df){const _0x3c2f85=a4_0x3a00,_0x12d6ea=_0x3f6e87();while(!![]){try{const _0x59cb95=-parseInt(_0x3c2f85(0x2c0))/0x1+-parseInt(_0x3c2f85(0x2e8))/0x2*(parseInt(_0x3c2f85(0x3a7))/0x3)+-parseInt(_0x3c2f85(0x366))/0x4+-parseInt(_0x3c2f85(0x213))/0x5+-parseInt(_0x3c2f85(0x504))/0x6+parseInt(_0x3c2f85(0x5b8))/0x7+-parseInt(_0x3c2f85(0x58f))/0x8*(-parseInt(_0x3c2f85(0x59c))/0x9);if(_0x59cb95===_0xcb73df)break;else _0x12d6ea['push'](_0x12d6ea['shift']());}catch(_0xfd02f6){_0x12d6ea['push'](_0x12d6ea['shift']());}}}(a4_0x5385,0xcc255));const a4_0xa981e0=(function(){let _0x2502ca=!![];return function(_0x5526bb,_0x2536a4){const _0x5357d7=_0x2502ca?function(){if(_0x2536a4){const _0x38699f=_0x2536a4['apply'](_0x5526bb,arguments);return _0x2536a4=null,_0x38699f;}}:function(){};return _0x2502ca=![],_0x5357d7;};}()),a4_0x313285=a4_0xa981e0(this,function(){const _0x128088=a4_0x3a00;return a4_0x313285[_0x128088(0x3a0)]()[_0x128088(0x4a2)]('(((.+)+)+)+$')['toString']()['constructor'](a4_0x313285)['search'](_0x128088(0x3fd));});a4_0x313285();const a4_0xc6e2ae=(function(){let _0x246210=!![];return function(_0x3949f2,_0x10fcf2){const _0x4434c9=_0x246210?function(){const _0x805c3=a4_0x3a00;if(_0x10fcf2){const _0x5c0dbc=_0x10fcf2[_0x805c3(0x2c2)](_0x3949f2,arguments);return _0x10fcf2=null,_0x5c0dbc;}}:function(){};return _0x246210=![],_0x4434c9;};}()),a4_0x4fa811=a4_0xc6e2ae(this,function(){const _0x504a84=a4_0x3a00;let _0x830914;try{const _0x233194=Function(_0x504a84(0x5ad)+_0x504a84(0x533)+');');_0x830914=_0x233194();}catch(_0x38fae6){_0x830914=window;}const _0x5e7f0a=_0x830914['console']=_0x830914[_0x504a84(0x44f)]||{},_0x59d3bd=[_0x504a84(0x51b),_0x504a84(0x37b),'info',_0x504a84(0x24c),_0x504a84(0x53f),'table',_0x504a84(0x3c3)];for(let _0x6499e8=0x0;_0x6499e8<_0x59d3bd[_0x504a84(0x608)];_0x6499e8++){const _0x14e319=a4_0xc6e2ae['constructor'][_0x504a84(0x591)][_0x504a84(0x56a)](a4_0xc6e2ae),_0x3235ff=_0x59d3bd[_0x6499e8],_0x36191c=_0x5e7f0a[_0x3235ff]||_0x14e319;_0x14e319[_0x504a84(0x4c7)]=a4_0xc6e2ae['bind'](a4_0xc6e2ae),_0x14e319[_0x504a84(0x3a0)]=_0x36191c[_0x504a84(0x3a0)][_0x504a84(0x56a)](_0x36191c),_0x5e7f0a[_0x3235ff]=_0x14e319;}});a4_0x4fa811();import{collection,getDocs,query,orderBy,addDoc,deleteDoc,where,doc,getDoc,serverTimestamp,setDoc,updateDoc,writeBatch,limit,startAfter,endBefore,limitToLast,onSnapshot,deleteField,or,Timestamp}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{auth,db}from'./firebase-config.js';import{getRankStyle}from'./ranks.js';import{isAdmin}from'./admin-check.js';let matchesPagination={'d1':{'page':0x1,'lastVisible':null,'firstVisible':null},'d2':{'page':0x1,'lastVisible':null,'firstVisible':null},'d3':{'page':0x1,'lastVisible':null,'firstVisible':null}};function getContrastColor(_0x172c04){const _0x795dfa=a4_0x3a00;if(!_0x172c04)return _0x795dfa(0x5ce);_0x172c04=_0x172c04[_0x795dfa(0x44a)]('#','');_0x172c04[_0x795dfa(0x608)]===0x3&&(_0x172c04=_0x172c04['split']('')[_0x795dfa(0x62d)](_0x596077=>_0x596077+_0x596077)[_0x795dfa(0x4e1)](''));if(_0x172c04['length']!==0x6)return _0x795dfa(0x5ce);const _0x3cdf28=parseInt(_0x172c04['substring'](0x0,0x2),0x10),_0x2705fb=parseInt(_0x172c04[_0x795dfa(0x3d7)](0x2,0x4),0x10),_0x37e90f=parseInt(_0x172c04[_0x795dfa(0x3d7)](0x4,0x6),0x10),_0x3d9640=(_0x3cdf28*0x12b+_0x2705fb*0x24b+_0x37e90f*0x72)/0x3e8;return _0x3d9640>=0x80?_0x795dfa(0x528):_0x795dfa(0x5ce);}const DEFAULT_TROPHY_IMAGE=a4_0x182e79(0x338),charts={};let currentLadder='D1',eloHistoryPagination={'d1':{'page':0x1,'lastVisible':null,'firstVisible':null},'d2':{'page':0x1,'lastVisible':null,'firstVisible':null},'d3':{'page':0x1,'lastVisible':null,'firstVisible':null}};const PAGE_SIZE=0xf;document[a4_0x182e79(0x511)]('DOMContentLoaded',()=>{const _0x2afe0a=a4_0x182e79;auth[_0x2afe0a(0x40c)](async _0x4b0d69=>{const _0x5d0144=_0x2afe0a;if(!_0x4b0d69){window['location'][_0x5d0144(0x36f)]=_0x5d0144(0x595);return;}try{await initializeAdminDashboard();}catch(_0x1193fd){console[_0x5d0144(0x24c)](_0x5d0144(0x3b2),_0x1193fd),showNotification(_0x5d0144(0x3c6),_0x5d0144(0x24c));}});});async function getUserTabPermissions(_0x4260e4){const _0x40e09b=a4_0x182e79;if(!_0x4260e4)return['dashboard'];console[_0x40e09b(0x51b)](_0x40e09b(0x3e2)+_0x4260e4+'\x20in\x20all\x20collections...');const _0x5c7fd8=[{'name':_0x40e09b(0x376),'displayName':'User\x20Profiles'},{'name':_0x40e09b(0x52f),'displayName':_0x40e09b(0x305)},{'name':_0x40e09b(0x3a2),'displayName':'D2\x20Players'},{'name':'playersD3','displayName':_0x40e09b(0x46c)},{'name':'nonParticipants','displayName':'Non-Participants'}],_0x4f20f6=auth[_0x40e09b(0x1f5)];let _0x24c71e=null,_0x4ab5c1=null;for(const _0x1f056b of _0x5c7fd8){try{if(_0x4f20f6){const _0x57226e=doc(db,_0x1f056b[_0x40e09b(0x257)],_0x4f20f6[_0x40e09b(0x22c)]),_0x1cc8bc=await getDoc(_0x57226e);if(_0x1cc8bc[_0x40e09b(0x5b3)]()){const _0xa324b1=_0x1cc8bc['data']();console[_0x40e09b(0x51b)](_0x40e09b(0x468)+_0x1f056b[_0x40e09b(0x407)]+_0x40e09b(0x389),_0xa324b1);const _0x331c1b=(_0xa324b1[_0x40e09b(0x386)]||_0xa324b1['role']||'')[_0x40e09b(0x5ef)]();if(_0x331c1b&&_0x331c1b!==_0x40e09b(0x583)){_0x24c71e=_0x331c1b,_0x4ab5c1=_0x1f056b[_0x40e09b(0x407)],console['log'](_0x40e09b(0x200)+_0x24c71e+'\x20in\x20'+_0x4ab5c1);break;}}}if(!_0x24c71e){const _0xffab2d=collection(db,_0x1f056b[_0x40e09b(0x257)]),_0x3c67a7=query(_0xffab2d,where(_0x40e09b(0x542),'==',_0x4260e4)),_0x2945bc=await getDocs(_0x3c67a7);if(!_0x2945bc[_0x40e09b(0x3f9)]){const _0x54c4c4=_0x2945bc[_0x40e09b(0x423)][0x0]['data']();console[_0x40e09b(0x51b)]('Found\x20user\x20in\x20'+_0x1f056b[_0x40e09b(0x407)]+'\x20with\x20email\x20'+_0x4260e4+':',_0x54c4c4);const _0x2a5a80=(_0x54c4c4['roleName']||_0x54c4c4[_0x40e09b(0x34b)]||'')['toLowerCase']();if(_0x2a5a80&&_0x2a5a80!==_0x40e09b(0x583)){_0x24c71e=_0x2a5a80,_0x4ab5c1=_0x1f056b[_0x40e09b(0x407)],console[_0x40e09b(0x51b)]('Found\x20specific\x20role:\x20'+_0x24c71e+_0x40e09b(0x2f7)+_0x4ab5c1);break;}}}}catch(_0x5d97b3){console[_0x40e09b(0x24c)](_0x40e09b(0x54d)+_0x1f056b[_0x40e09b(0x407)]+':',_0x5d97b3);}}if(_0x24c71e){console[_0x40e09b(0x51b)](_0x40e09b(0x62e)+_0x24c71e+_0x40e09b(0x2ee)+_0x4ab5c1+')');const _0x5749a4={'admin':[_0x40e09b(0x34f),'manage-players','manage-matches',_0x40e09b(0x420),_0x40e09b(0x1e3),_0x40e09b(0x5ea),_0x40e09b(0x394),_0x40e09b(0x588),_0x40e09b(0x1e3),_0x40e09b(0x58e),_0x40e09b(0x47d),_0x40e09b(0x568),_0x40e09b(0x52e),_0x40e09b(0x51e),_0x40e09b(0x2aa),_0x40e09b(0x4e6)],'owner':['dashboard','manage-players',_0x40e09b(0x52e),_0x40e09b(0x420),'manage-trophies',_0x40e09b(0x5ea),_0x40e09b(0x394),_0x40e09b(0x588),_0x40e09b(0x1e3),_0x40e09b(0x58e),'manage-highlights',_0x40e09b(0x568),_0x40e09b(0x52e),_0x40e09b(0x51e),'manage-levels-ribbons',_0x40e09b(0x4e6)],'council':['dashboard','manage-players','manage-matches'],'creative\x20lead':[_0x40e09b(0x34f),'manage-articles','manage-trophies',_0x40e09b(0x58e),_0x40e09b(0x47d)]};if(_0x5749a4[_0x24c71e])return console[_0x40e09b(0x51b)](_0x40e09b(0x26d)+_0x24c71e+_0x40e09b(0x51f),_0x5749a4[_0x24c71e]),_0x5749a4[_0x24c71e];}return console[_0x40e09b(0x51b)](_0x40e09b(0x4fe)+_0x4260e4+_0x40e09b(0x4d9)),['dashboard'];}function setupSidebarNavigation(_0x4276d5=[]){const _0xd139ea=a4_0x182e79,_0x56bed8=document['querySelectorAll'](_0xd139ea(0x4ba)),_0x3de39a=document[_0xd139ea(0x61b)](_0xd139ea(0x31b));(!_0x4276d5||_0x4276d5[_0xd139ea(0x608)]===0x0)&&(_0x4276d5=[_0xd139ea(0x34f)]);_0x56bed8[_0xd139ea(0x2b1)](_0x5dd4ad=>{const _0x1c9757=_0xd139ea,_0x5745e5=_0x5dd4ad[_0x1c9757(0x59d)](_0x1c9757(0x39f));_0x4276d5[_0x1c9757(0x202)](_0x5745e5)?_0x5dd4ad['style']['display']=_0x1c9757(0x5c8):_0x5dd4ad['style'][_0x1c9757(0x404)]='none',_0x5dd4ad[_0x1c9757(0x511)]('click',()=>{const _0x1d0983=_0x1c9757,_0x194c4f=_0x5dd4ad[_0x1d0983(0x59d)](_0x1d0983(0x39f));if(!_0x4276d5[_0x1d0983(0x202)](_0x194c4f)){showNotification(_0x1d0983(0x3ca),'error');return;}_0x56bed8[_0x1d0983(0x2b1)](_0x49c845=>_0x49c845[_0x1d0983(0x3c2)]['remove'](_0x1d0983(0x3a4))),_0x5dd4ad[_0x1d0983(0x3c2)][_0x1d0983(0x4f1)]('active'),_0x3de39a[_0x1d0983(0x2b1)](_0x1d86e4=>{const _0x41ed0a=_0x1d0983;_0x1d86e4['style'][_0x41ed0a(0x404)]=_0x41ed0a(0x583);});const _0xb13622=document['getElementById'](_0x194c4f);_0xb13622&&(_0xb13622[_0x1d0983(0x2d9)]['display']=_0x1d0983(0x4e9),console[_0x1d0983(0x51b)](_0x1d0983(0x27a)+_0x194c4f+_0x1d0983(0x5d5)));});});const _0x48e685=document[_0xd139ea(0x313)]('.sidebar-nav\x20.nav-item[data-section=\x22'+_0x4276d5[0x0]+'\x22]');_0x48e685&&_0x48e685[_0xd139ea(0x610)](),console['log'](_0xd139ea(0x578));}function setupTabNavigation(){const _0x306d22=a4_0x182e79,_0x847b7d=document[_0x306d22(0x61b)](_0x306d22(0x31d));let _0xbcc46c=null,_0x28b86e=new Set();_0x847b7d[_0x306d22(0x2b1)](_0x1df6d4=>{const _0x4f47d7=_0x306d22;_0x1df6d4[_0x4f47d7(0x511)]('click',function(){const _0x122c7e=_0x4f47d7,_0x6de3e9=this[_0x122c7e(0x59d)](_0x122c7e(0x39f));if(_0x6de3e9===_0xbcc46c)return;_0xbcc46c&&(document[_0x122c7e(0x2e0)](_0xbcc46c)['style']['display']=_0x122c7e(0x583),_0x847b7d[_0x122c7e(0x2b1)](_0xeba27a=>_0xeba27a['classList'][_0x122c7e(0x3e5)](_0x122c7e(0x3a4)))),document[_0x122c7e(0x2e0)](_0x6de3e9)['style'][_0x122c7e(0x404)]='block',this[_0x122c7e(0x3c2)]['add']('active'),_0xbcc46c=_0x6de3e9;});});}function loadSectionData(_0x1f24cc){return;}async function initializeAdminDashboard(){const _0x4deda4=a4_0x182e79;try{const _0x42916d=auth[_0x4deda4(0x1f5)],_0x2ed1d0=await getUserTabPermissions(_0x42916d[_0x4deda4(0x542)]);console[_0x4deda4(0x51b)](_0x4deda4(0x569)+_0x42916d['email']+_0x4deda4(0x43f),_0x2ed1d0),window[_0x4deda4(0x3c1)]=_0x2ed1d0,setupSidebarNavigation(_0x2ed1d0),setupLadderSelector(),setupDashboardSection(),_0x2ed1d0['includes']('manage-players')&&setupManagePlayersSection(),_0x2ed1d0[_0x4deda4(0x202)]('elo-history')&&setupEloHistorySection(),_0x2ed1d0['includes'](_0x4deda4(0x5ea))&&setupRankControls(),_0x2ed1d0['includes'](_0x4deda4(0x420))&&setupManageArticlesSection(),_0x2ed1d0[_0x4deda4(0x202)]('user-roles-section')&&setupUserRolesSection(),_0x2ed1d0['includes'](_0x4deda4(0x1e3))&&setupTrophyManagementSection(),_0x2ed1d0[_0x4deda4(0x202)](_0x4deda4(0x47d))&&setupManageHighlightsSection(),_0x2ed1d0[_0x4deda4(0x202)](_0x4deda4(0x394))&&setupInactivePlayersSection(),_0x2ed1d0['includes']('manage-matches')&&setupManageMatchesSection(),_0x2ed1d0[_0x4deda4(0x202)]('manage-points')&&setupManagePointsSection(),_0x2ed1d0[_0x4deda4(0x202)]('manage-ribbons')&&setupManageRibbonsSection(),setupDataLoadButtons(_0x2ed1d0);}catch(_0x1e1ff0){console[_0x4deda4(0x24c)](_0x4deda4(0x4d6),_0x1e1ff0);}}function setupDataLoadButtons(_0x15e1d6=[]){const _0x59fa9a=a4_0x182e79;(!_0x15e1d6||_0x15e1d6[_0x59fa9a(0x608)]===0x0)&&(_0x15e1d6=[_0x59fa9a(0x34f)]);const _0x451cfc=document['getElementById'](_0x59fa9a(0x492));_0x451cfc&&_0x451cfc[_0x59fa9a(0x511)](_0x59fa9a(0x610),function(){const _0x5035b5=_0x59fa9a;this[_0x5035b5(0x3c2)][_0x5035b5(0x4f1)](_0x5035b5(0x47b)),this[_0x5035b5(0x398)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...',loadDashboardOverview()[_0x5035b5(0x38f)](()=>{const _0x585197=_0x5035b5;this[_0x585197(0x3c2)]['remove']('loading'),this['innerHTML']=_0x585197(0x547);})[_0x5035b5(0x5b1)](_0x1e30a4=>{const _0x1d4bc7=_0x5035b5;console[_0x1d4bc7(0x24c)](_0x1d4bc7(0x1e5),_0x1e30a4),this[_0x1d4bc7(0x3c2)][_0x1d4bc7(0x3e5)](_0x1d4bc7(0x47b)),this['innerHTML']='<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error',setTimeout(()=>{const _0x590e04=_0x1d4bc7;this[_0x590e04(0x398)]='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Dashboard\x20Data';},0xbb8);});});if(_0x15e1d6['includes'](_0x59fa9a(0x1e3))){const _0x4c4b3a=document[_0x59fa9a(0x2e0)](_0x59fa9a(0x43d));_0x4c4b3a&&_0x4c4b3a[_0x59fa9a(0x511)](_0x59fa9a(0x610),function(){const _0x381c17=_0x59fa9a;console[_0x381c17(0x51b)]('Load\x20trophies\x20data\x20clicked'),this[_0x381c17(0x3c2)][_0x381c17(0x4f1)](_0x381c17(0x47b)),this[_0x381c17(0x398)]=_0x381c17(0x321),loadTrophyDefinitions()[_0x381c17(0x38f)](()=>{const _0x25acb3=_0x381c17;this[_0x25acb3(0x3c2)]['remove']('loading'),this[_0x25acb3(0x398)]='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Trophies\x20Data';})[_0x381c17(0x5b1)](_0x7a539b=>{const _0x595e33=_0x381c17;console[_0x595e33(0x24c)]('Error\x20loading\x20trophies:',_0x7a539b),this[_0x595e33(0x3c2)][_0x595e33(0x3e5)](_0x595e33(0x47b)),this[_0x595e33(0x398)]=_0x595e33(0x3ba),setTimeout(()=>{const _0x42cb55=_0x595e33;this[_0x42cb55(0x398)]=_0x42cb55(0x2ef);},0xbb8);});});}if(_0x15e1d6[_0x59fa9a(0x202)]('manage-players')){const _0x4f1a20=document['getElementById']('load-players-data');_0x4f1a20&&_0x4f1a20[_0x59fa9a(0x511)](_0x59fa9a(0x610),function(){const _0x26788b=_0x59fa9a;console[_0x26788b(0x51b)](_0x26788b(0x532)),this[_0x26788b(0x3c2)][_0x26788b(0x4f1)]('loading'),this[_0x26788b(0x398)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...',loadPlayersData()[_0x26788b(0x38f)](()=>{const _0x365fbe=_0x26788b;this[_0x365fbe(0x3c2)]['remove'](_0x365fbe(0x47b)),this[_0x365fbe(0x398)]=_0x365fbe(0x22d);})[_0x26788b(0x5b1)](_0x3cb9b3=>{const _0x66e216=_0x26788b;console[_0x66e216(0x24c)](_0x66e216(0x33b),_0x3cb9b3),this[_0x66e216(0x3c2)][_0x66e216(0x3e5)](_0x66e216(0x47b)),this[_0x66e216(0x398)]=_0x66e216(0x3ba),setTimeout(()=>{const _0x3f923e=_0x66e216;this[_0x3f923e(0x398)]=_0x3f923e(0x22d);},0xbb8);});});}if(_0x15e1d6[_0x59fa9a(0x202)](_0x59fa9a(0x58e))){const _0x3aaa2f=document[_0x59fa9a(0x2e0)](_0x59fa9a(0x5d8));_0x3aaa2f&&_0x3aaa2f[_0x59fa9a(0x511)](_0x59fa9a(0x610),function(){const _0x42739d=_0x59fa9a;console['log'](_0x42739d(0x273)),this[_0x42739d(0x3c2)][_0x42739d(0x4f1)]('loading'),this[_0x42739d(0x398)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...',loadEloHistory(0x1)[_0x42739d(0x38f)](()=>{const _0x305f0f=_0x42739d;this[_0x305f0f(0x3c2)][_0x305f0f(0x3e5)](_0x305f0f(0x47b)),this[_0x305f0f(0x398)]=_0x305f0f(0x4ef);})['catch'](_0x41e36b=>{const _0x24b655=_0x42739d;console[_0x24b655(0x24c)](_0x24b655(0x3fa),_0x41e36b),this[_0x24b655(0x3c2)][_0x24b655(0x3e5)](_0x24b655(0x47b)),this['innerHTML']=_0x24b655(0x3ba),setTimeout(()=>{const _0x13fe9c=_0x24b655;this[_0x13fe9c(0x398)]='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20History\x20Data';},0xbb8);});});}if(_0x15e1d6[_0x59fa9a(0x202)](_0x59fa9a(0x420))){const _0x440be5=document[_0x59fa9a(0x2e0)](_0x59fa9a(0x586));_0x440be5&&_0x440be5[_0x59fa9a(0x511)](_0x59fa9a(0x610),function(){const _0x593c40=_0x59fa9a;console[_0x593c40(0x51b)](_0x593c40(0x5a8)),this[_0x593c40(0x3c2)][_0x593c40(0x4f1)](_0x593c40(0x47b)),this[_0x593c40(0x398)]=_0x593c40(0x321),loadArticles()[_0x593c40(0x38f)](()=>{const _0x537103=_0x593c40;this[_0x537103(0x3c2)][_0x537103(0x3e5)](_0x537103(0x47b)),this[_0x537103(0x398)]=_0x537103(0x2d0);})[_0x593c40(0x5b1)](_0x75a9c0=>{const _0x507944=_0x593c40;console[_0x507944(0x24c)](_0x507944(0x408),_0x75a9c0),this['classList'][_0x507944(0x3e5)](_0x507944(0x47b)),this['innerHTML']=_0x507944(0x3ba),setTimeout(()=>{const _0x2a89a9=_0x507944;this[_0x2a89a9(0x398)]=_0x2a89a9(0x2d0);},0xbb8);});});}if(_0x15e1d6[_0x59fa9a(0x202)](_0x59fa9a(0x568))){const _0x3cdfe6=document[_0x59fa9a(0x2e0)](_0x59fa9a(0x5d3));_0x3cdfe6&&_0x3cdfe6[_0x59fa9a(0x511)](_0x59fa9a(0x610),function(){const _0x2796c9=_0x59fa9a;console[_0x2796c9(0x51b)](_0x2796c9(0x26e)),this['classList'][_0x2796c9(0x4f1)](_0x2796c9(0x47b)),this[_0x2796c9(0x398)]=_0x2796c9(0x321),loadUsersWithRoles()[_0x2796c9(0x38f)](()=>{const _0x314a25=_0x2796c9;this[_0x314a25(0x3c2)][_0x314a25(0x3e5)](_0x314a25(0x47b)),this[_0x314a25(0x398)]=_0x314a25(0x548);})[_0x2796c9(0x5b1)](_0x299f42=>{const _0x21c9f7=_0x2796c9;console[_0x21c9f7(0x24c)](_0x21c9f7(0x609),_0x299f42),this[_0x21c9f7(0x3c2)][_0x21c9f7(0x3e5)](_0x21c9f7(0x47b)),this[_0x21c9f7(0x398)]=_0x21c9f7(0x3ba),setTimeout(()=>{const _0x56625f=_0x21c9f7;this['innerHTML']=_0x56625f(0x548);},0xbb8);});});}if(_0x15e1d6[_0x59fa9a(0x202)](_0x59fa9a(0x394))){const _0x2fe7bf=document[_0x59fa9a(0x2e0)](_0x59fa9a(0x55b));_0x2fe7bf&&_0x2fe7bf[_0x59fa9a(0x511)](_0x59fa9a(0x610),function(){const _0x1ac945=_0x59fa9a;console[_0x1ac945(0x51b)](_0x1ac945(0x50e)),this[_0x1ac945(0x3c2)]['add']('loading'),this['innerHTML']=_0x1ac945(0x321),loadInactivePlayersData()['then'](()=>{const _0x4e5ef7=_0x1ac945;this[_0x4e5ef7(0x3c2)][_0x4e5ef7(0x3e5)]('loading'),this['innerHTML']=_0x4e5ef7(0x251);})[_0x1ac945(0x5b1)](_0x211e78=>{const _0x1c9f35=_0x1ac945;console[_0x1c9f35(0x24c)](_0x1c9f35(0x5e9),_0x211e78),this[_0x1c9f35(0x3c2)]['remove']('loading'),this['innerHTML']=_0x1c9f35(0x3ba),setTimeout(()=>{const _0xbae648=_0x1c9f35;this[_0xbae648(0x398)]=_0xbae648(0x251);},0xbb8);});});}if(_0x15e1d6[_0x59fa9a(0x202)](_0x59fa9a(0x47d))){const _0x1ecd11=document[_0x59fa9a(0x2e0)](_0x59fa9a(0x3ae));_0x1ecd11&&_0x1ecd11[_0x59fa9a(0x511)]('click',function(){const _0x446757=_0x59fa9a;console['log'](_0x446757(0x2b9)),this[_0x446757(0x3c2)][_0x446757(0x4f1)](_0x446757(0x47b)),this['innerHTML']=_0x446757(0x321),loadHighlightsAdmin()[_0x446757(0x38f)](()=>{const _0x566c01=_0x446757;this[_0x566c01(0x3c2)][_0x566c01(0x3e5)]('loading'),this[_0x566c01(0x398)]=_0x566c01(0x445);})[_0x446757(0x5b1)](_0x3da5e5=>{const _0x1789cf=_0x446757;console[_0x1789cf(0x24c)](_0x1789cf(0x2e6),_0x3da5e5),this['classList']['remove'](_0x1789cf(0x47b)),this['innerHTML']='<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error',setTimeout(()=>{this['innerHTML']='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Highlights';},0xbb8);});});}if(_0x15e1d6[_0x59fa9a(0x202)]('manage-matches')){const _0x1b331f=document[_0x59fa9a(0x2e0)](_0x59fa9a(0x5cb));_0x1b331f&&_0x1b331f['addEventListener'](_0x59fa9a(0x610),function(){const _0x3aa744=_0x59fa9a;console[_0x3aa744(0x51b)](_0x3aa744(0x42e)),this[_0x3aa744(0x3c2)]['add'](_0x3aa744(0x47b)),this['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...',loadMatchesData(0x1)[_0x3aa744(0x38f)](()=>{const _0x370299=_0x3aa744;this[_0x370299(0x3c2)][_0x370299(0x3e5)]('loading'),this['innerHTML']=_0x370299(0x3e4);})['catch'](_0x39a0a8=>{const _0x5d0429=_0x3aa744;console['error'](_0x5d0429(0x4da),_0x39a0a8),this[_0x5d0429(0x3c2)][_0x5d0429(0x3e5)](_0x5d0429(0x47b)),this[_0x5d0429(0x398)]=_0x5d0429(0x3ba),setTimeout(()=>{const _0x2edb21=_0x5d0429;this['innerHTML']=_0x2edb21(0x3e4);},0xbb8);});}),setupCreateTestMatchButton(),setupCreateTestMatchModal();}if(_0x15e1d6['includes'](_0x59fa9a(0x4e6))){const _0x232b13=document[_0x59fa9a(0x2e0)](_0x59fa9a(0x3ad));_0x232b13&&_0x232b13[_0x59fa9a(0x511)]('click',function(){const _0x21ddeb=_0x59fa9a;console[_0x21ddeb(0x51b)](_0x21ddeb(0x28c)),this[_0x21ddeb(0x3c2)][_0x21ddeb(0x4f1)](_0x21ddeb(0x47b)),this[_0x21ddeb(0x398)]=_0x21ddeb(0x321),loadRibbonsData()[_0x21ddeb(0x38f)](()=>{const _0x5e364b=_0x21ddeb;this[_0x5e364b(0x3c2)][_0x5e364b(0x3e5)]('loading'),this[_0x5e364b(0x398)]=_0x5e364b(0x3ce);})[_0x21ddeb(0x5b1)](_0xc799cf=>{const _0x8c1cd2=_0x21ddeb;console[_0x8c1cd2(0x24c)](_0x8c1cd2(0x57a),_0xc799cf),this[_0x8c1cd2(0x3c2)][_0x8c1cd2(0x3e5)](_0x8c1cd2(0x47b)),this[_0x8c1cd2(0x398)]='<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error',setTimeout(()=>{const _0x4287f9=_0x8c1cd2;this[_0x4287f9(0x398)]=_0x4287f9(0x3ce);},0xbb8);});});}console['log'](_0x59fa9a(0x30a));}function setupDashboardSection(){const _0x34908c=a4_0x182e79;document['getElementById'](_0x34908c(0x40b))[_0x34908c(0x565)]='-',document[_0x34908c(0x2e0)]('match-count')[_0x34908c(0x565)]='-',document[_0x34908c(0x2e0)]('pending-count')[_0x34908c(0x565)]='-',document[_0x34908c(0x2e0)](_0x34908c(0x210))[_0x34908c(0x565)]='-';}function setupLadderSelector(){const _0x2fadf1=a4_0x182e79,_0x315f23=document['querySelectorAll']('.ladder-switch\x20input');_0x315f23[_0x2fadf1(0x2b1)](_0x58632e=>{_0x58632e['addEventListener']('change',()=>{const _0x4f1531=a4_0x3a00;currentLadder=_0x58632e[_0x4f1531(0x3bc)],document['body'][_0x4f1531(0x367)](_0x4f1531(0x2c5),currentLadder);const _0x2041f4=document['getElementById']('current-ladder-display');_0x2041f4&&(_0x2041f4[_0x4f1531(0x565)]=currentLadder),document[_0x4f1531(0x2e0)]('player-count')[_0x4f1531(0x565)]='-',document[_0x4f1531(0x2e0)](_0x4f1531(0x30d))[_0x4f1531(0x565)]='-',document[_0x4f1531(0x2e0)]('pending-count')[_0x4f1531(0x565)]='-',document[_0x4f1531(0x2e0)](_0x4f1531(0x210))[_0x4f1531(0x565)]='-',charts['rankDistribution']&&(charts[_0x4f1531(0x52b)][_0x4f1531(0x5b6)](),charts[_0x4f1531(0x52b)]=null),charts['activity']&&(charts[_0x4f1531(0x5c3)][_0x4f1531(0x5b6)](),charts['activity']=null),showNotification(_0x4f1531(0x27a)+currentLadder+_0x4f1531(0x2b0),_0x4f1531(0x462));});});const _0x41b01=document[_0x2fadf1(0x2e0)](_0x2fadf1(0x4e8));_0x41b01&&(_0x41b01[_0x2fadf1(0x565)]=currentLadder);}async function loadDashboardOverview(){const _0x2eb11e=a4_0x182e79;try{console[_0x2eb11e(0x51b)](_0x2eb11e(0x1d8)),document['getElementById']('player-count')['textContent']='-',document['getElementById'](_0x2eb11e(0x30d))[_0x2eb11e(0x565)]='-',document[_0x2eb11e(0x2e0)](_0x2eb11e(0x306))[_0x2eb11e(0x565)]='-',document[_0x2eb11e(0x2e0)]('rejected-count')['textContent']='-';const _0x4a4d63=currentLadder==='D1'?'players':currentLadder==='D2'?_0x2eb11e(0x3a2):'playersD3',_0x32b3f5=currentLadder==='D1'?_0x2eb11e(0x4ab):currentLadder==='D2'?_0x2eb11e(0x5e7):_0x2eb11e(0x436),_0x30c0b1=currentLadder==='D1'?_0x2eb11e(0x320):currentLadder==='D2'?_0x2eb11e(0x2b5):_0x2eb11e(0x2fa),_0x494fd5=currentLadder==='D1'?'RejectedD1':currentLadder==='D2'?_0x2eb11e(0x1d6):_0x2eb11e(0x4dc);console['log'](_0x2eb11e(0x339)+currentLadder+':\x20'+_0x4a4d63+',\x20'+_0x32b3f5);const _0x37e806=await getDocs(collection(db,_0x4a4d63)),_0x22640d=_0x37e806['size'],_0x2c1550=await getDocs(collection(db,_0x32b3f5)),_0x459fc1=_0x2c1550['size'],_0x218c4a=await getDocs(collection(db,_0x30c0b1)),_0x1cdf95=_0x218c4a[_0x2eb11e(0x410)],_0x2e561b=await getDocs(collection(db,_0x494fd5)),_0x47ec55=_0x2e561b[_0x2eb11e(0x410)];return document['getElementById']('player-count')[_0x2eb11e(0x565)]=_0x22640d,document[_0x2eb11e(0x2e0)]('match-count')[_0x2eb11e(0x565)]=_0x459fc1,document[_0x2eb11e(0x2e0)](_0x2eb11e(0x306))['textContent']=_0x1cdf95,document[_0x2eb11e(0x2e0)]('rejected-count')[_0x2eb11e(0x565)]=_0x47ec55,await createRankDistributionChart(),await createActivityChart(),console[_0x2eb11e(0x51b)](_0x2eb11e(0x4bf)),!![];}catch(_0x21467f){console[_0x2eb11e(0x24c)](_0x2eb11e(0x4a8),_0x21467f);throw _0x21467f;}}async function createRankDistributionChart(){const _0x24bafd=a4_0x182e79;try{const _0x44375c=collection(db,currentLadder==='D1'?'players':_0x24bafd(0x3a2)),_0x52da90=await getDocs(_0x44375c),_0x413137={'Unranked':0x0,'Bronze':0x0,'Silver':0x0,'Gold':0x0,'Emerald':0x0};_0x52da90[_0x24bafd(0x2b1)](_0x312333=>{const _0x375eb5=_0x24bafd,_0x49b7f1=_0x312333[_0x375eb5(0x35f)](),_0x36c88b=_0x49b7f1[_0x375eb5(0x32f)]||0x4b0;if(_0x36c88b>=0x7d0)_0x413137[_0x375eb5(0x25a)]++;else{if(_0x36c88b>=0x708)_0x413137[_0x375eb5(0x438)]++;else{if(_0x36c88b>=0x640)_0x413137['Silver']++;else{if(_0x36c88b>=0x578)_0x413137['Bronze']++;else _0x413137['Unranked']++;}}}});const _0x38b2c2=document[_0x24bafd(0x2e0)](_0x24bafd(0x62c));charts[_0x24bafd(0x52b)]&&charts[_0x24bafd(0x52b)]['destroy'](),charts[_0x24bafd(0x52b)]=new Chart(_0x38b2c2,{'type':_0x24bafd(0x5c6),'data':{'labels':Object[_0x24bafd(0x4aa)](_0x413137),'datasets':[{'data':Object[_0x24bafd(0x3f0)](_0x413137),'backgroundColor':[_0x24bafd(0x59a),_0x24bafd(0x254),'#C0C0C0',_0x24bafd(0x557),_0x24bafd(0x1d7)],'borderWidth':0x2}]},'options':{'responsive':!![],'maintainAspectRatio':![],'plugins':{'legend':{'position':'right','labels':{'color':_0x24bafd(0x379)}},'title':{'display':!![],'text':currentLadder+'\x20Rank\x20Distribution','color':_0x24bafd(0x379),'font':{'size':0x10}}}}});}catch(_0x45d527){console['error']('Error\x20creating\x20rank\x20distribution\x20chart:',_0x45d527),document['getElementById'](_0x24bafd(0x62c))[_0x24bafd(0x398)]='<div\x20class=\x22chart-error\x22>Error\x20loading\x20chart\x20data</div>';}}async function createActivityChart(){const _0x42fb35=a4_0x182e79;try{const _0x551a16=currentLadder==='D1'?_0x42fb35(0x4ab):_0x42fb35(0x5e7),_0x2077c6=collection(db,_0x551a16),_0x1d83d5=new Date();_0x1d83d5['setDate'](_0x1d83d5[_0x42fb35(0x348)]()-0x7);const _0x5dd101=query(_0x2077c6,where(_0x42fb35(0x1d5),'>=',_0x1d83d5),orderBy('approvedAt',_0x42fb35(0x350))),_0x38669b=await getDocs(_0x5dd101),_0x5124f3=['Sunday',_0x42fb35(0x513),_0x42fb35(0x205),_0x42fb35(0x597),_0x42fb35(0x378),_0x42fb35(0x482),_0x42fb35(0x226)],_0x24f3c8=_0x5124f3[_0x42fb35(0x222)]((_0x2b8caf,_0x10ab31)=>({..._0x2b8caf,[_0x10ab31]:0x0}),{});_0x38669b[_0x42fb35(0x2b1)](_0x1ff46b=>{const _0xabb93=_0x42fb35,_0x48babe=_0x1ff46b[_0xabb93(0x35f)]();if(_0x48babe[_0xabb93(0x1d5)]){const _0xac193c=_0x5124f3[new Date(_0x48babe[_0xabb93(0x1d5)]['seconds']*0x3e8)[_0xabb93(0x27e)]()];_0x24f3c8[_0xac193c]++;}});const _0x33991c=document['getElementById'](_0x42fb35(0x499));charts[_0x42fb35(0x5c3)]&&charts[_0x42fb35(0x5c3)][_0x42fb35(0x5b6)](),charts[_0x42fb35(0x5c3)]=new Chart(_0x33991c,{'type':_0x42fb35(0x2ae),'data':{'labels':_0x5124f3,'datasets':[{'label':_0x42fb35(0x30e),'data':_0x5124f3[_0x42fb35(0x62d)](_0x152c36=>_0x24f3c8[_0x152c36]),'backgroundColor':currentLadder==='D1'?_0x42fb35(0x5ed):'rgba(25,\x20118,\x20210,\x200.7)','borderColor':currentLadder==='D1'?_0x42fb35(0x3a8):_0x42fb35(0x30f),'borderWidth':0x1}]},'options':{'responsive':!![],'maintainAspectRatio':![],'scales':{'y':{'beginAtZero':!![],'ticks':{'color':_0x42fb35(0x379)},'grid':{'color':_0x42fb35(0x510)}},'x':{'ticks':{'color':_0x42fb35(0x379)},'grid':{'color':_0x42fb35(0x510)}}},'plugins':{'legend':{'labels':{'color':'#e0e0e0'}},'title':{'display':!![],'text':currentLadder+_0x42fb35(0x483),'color':_0x42fb35(0x379),'font':{'size':0x10}}}}});}catch(_0x580cb6){console['error']('Error\x20creating\x20activity\x20chart:',_0x580cb6),document[_0x42fb35(0x2e0)](_0x42fb35(0x499))[_0x42fb35(0x398)]=_0x42fb35(0x5bc);}}async function loadPlayersData(){const _0x2913bb=a4_0x182e79,_0x2819c2=document[_0x2913bb(0x2e0)]('players-table-body');if(!_0x2819c2)return;_0x2819c2[_0x2913bb(0x398)]=_0x2913bb(0x4b3);try{let _0x1e5bd1=_0x2913bb(0x52f);if(currentLadder==='D2')_0x1e5bd1=_0x2913bb(0x3a2);else currentLadder==='D3'&&(_0x1e5bd1='playersD3');console[_0x2913bb(0x51b)](_0x2913bb(0x38b)+_0x1e5bd1+_0x2913bb(0x1ea));const _0x5c7694=collection(db,_0x1e5bd1),_0xd20179=query(_0x5c7694,orderBy('eloRating',_0x2913bb(0x59e))),_0x19223c=await getDocs(_0xd20179);if(_0x19223c['empty']){_0x2819c2[_0x2913bb(0x398)]=_0x2913bb(0x2cd);return;}_0x2819c2['innerHTML']='';let _0x39f852=0x1;_0x19223c[_0x2913bb(0x2b1)](_0x25768e=>{const _0x3285d5=_0x2913bb,_0x395864=_0x25768e[_0x3285d5(0x35f)](),_0x91100c=getRankFromElo(_0x395864[_0x3285d5(0x32f)]||0x4b0),_0x8584f1=getRankStyle(_0x395864['eloRating']||0x4b0),_0x387894=document[_0x3285d5(0x3b6)]('tr');_0x387894[_0x3285d5(0x398)]=_0x3285d5(0x390)+_0x39f852+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22username\x22\x20style=\x22color:\x20'+_0x8584f1[_0x3285d5(0x567)]+_0x3285d5(0x3c9)+(_0x395864[_0x3285d5(0x3f7)]||_0x3285d5(0x53d))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22elo\x22>'+(_0x395864[_0x3285d5(0x32f)]||0x4b0)+_0x3285d5(0x270)+_0x8584f1[_0x3285d5(0x567)]+_0x3285d5(0x3af)+_0x91100c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22stats\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x395864['wins']||0x0)+_0x3285d5(0x28d)+(_0x395864[_0x3285d5(0x52d)]||0x0)+_0x3285d5(0x294)+_0x25768e['id']+_0x3285d5(0x1ed)+_0x25768e['id']+_0x3285d5(0x399),_0x2819c2[_0x3285d5(0x5df)](_0x387894),_0x39f852++;}),setupPlayerActionButtons();}catch(_0x1c56a5){console[_0x2913bb(0x24c)](_0x2913bb(0x33b),_0x1c56a5),_0x2819c2[_0x2913bb(0x398)]=_0x2913bb(0x2a5)+_0x1c56a5[_0x2913bb(0x362)]+_0x2913bb(0x603);}}function getRankFromElo(_0x4f07c9){const _0x6e59d9=a4_0x182e79;if(_0x4f07c9>=0x7d0)return _0x6e59d9(0x25a);if(_0x4f07c9>=0x708)return'Gold';if(_0x4f07c9>=0x640)return _0x6e59d9(0x443);if(_0x4f07c9>=0x578)return _0x6e59d9(0x2b6);return _0x6e59d9(0x5d6);}function setupPlayerActionButtons(){const _0xab4a2c=a4_0x182e79;document[_0xab4a2c(0x61b)]('.edit-btn')[_0xab4a2c(0x2b1)](_0x1ad141=>{const _0x11c13f=_0xab4a2c;_0x1ad141['addEventListener'](_0x11c13f(0x610),async _0x35849c=>{const _0x160351=_0x11c13f,_0x31ca68=_0x35849c[_0x160351(0x519)][_0x160351(0x45c)]['id'];openEditPlayerModal(_0x31ca68);});}),document[_0xab4a2c(0x61b)](_0xab4a2c(0x20f))[_0xab4a2c(0x2b1)](_0x3e3982=>{const _0x2850ec=_0xab4a2c;_0x3e3982['addEventListener'](_0x2850ec(0x610),async _0x1c676a=>{const _0x532e85=_0x2850ec,_0x49ecd4=_0x1c676a[_0x532e85(0x519)][_0x532e85(0x45c)]['id'];confirmDeletePlayer(_0x49ecd4);});});}async function openEditPlayerModal(_0x1fbb02){const _0x46c28b=a4_0x182e79;try{const _0x343f10=currentLadder==='D1'?'players':'playersD2',_0x49a93d=doc(db,_0x343f10,_0x1fbb02),_0x1ee7fb=await getDoc(_0x49a93d);if(!_0x1ee7fb[_0x46c28b(0x5b3)]()){showNotification('Player\x20not\x20found',_0x46c28b(0x24c));return;}const _0x4a8d98=_0x1ee7fb[_0x46c28b(0x35f)](),_0x4b10e8=document[_0x46c28b(0x2e0)](_0x46c28b(0x3e6)),_0x3a3839=document[_0x46c28b(0x2e0)](_0x46c28b(0x42b)),_0x48927a=document['getElementById'](_0x46c28b(0x297)),_0x46eb8f=document[_0x46c28b(0x2e0)]('edit-wins'),_0x7c84f5=document['getElementById'](_0x46c28b(0x478));_0x3a3839[_0x46c28b(0x3bc)]=_0x4a8d98[_0x46c28b(0x3f7)]||'',_0x48927a[_0x46c28b(0x3bc)]=_0x4a8d98[_0x46c28b(0x32f)]||0x4b0,_0x46eb8f[_0x46c28b(0x3bc)]=_0x4a8d98[_0x46c28b(0x2b8)]||0x0,_0x7c84f5[_0x46c28b(0x3bc)]=_0x4a8d98[_0x46c28b(0x52d)]||0x0,_0x4b10e8[_0x46c28b(0x45c)]['playerId']=_0x1fbb02,_0x4b10e8[_0x46c28b(0x3c2)][_0x46c28b(0x4f1)]('active');}catch(_0x37c8b1){console[_0x46c28b(0x24c)](_0x46c28b(0x570),_0x37c8b1),showNotification(_0x46c28b(0x2cf),_0x46c28b(0x24c));}}async function saveEditedPlayer(){const _0x1b73e1=a4_0x182e79;try{const _0x4fa2d7=document['getElementById'](_0x1b73e1(0x3e6)),_0x2eea1d=_0x4fa2d7['dataset'][_0x1b73e1(0x28f)];if(!_0x2eea1d){showNotification(_0x1b73e1(0x359),_0x1b73e1(0x24c));return;}const _0x3ccc2c=document[_0x1b73e1(0x2e0)](_0x1b73e1(0x42b)),_0x2bd206=document['getElementById']('edit-elo'),_0x1dd496=document['getElementById'](_0x1b73e1(0x4f6)),_0x3e41bf=document[_0x1b73e1(0x2e0)]('edit-losses'),_0x420132=_0x3ccc2c[_0x1b73e1(0x3bc)][_0x1b73e1(0x352)](),_0x454082=parseInt(_0x2bd206[_0x1b73e1(0x3bc)]),_0x142f26=parseInt(_0x1dd496[_0x1b73e1(0x3bc)]),_0x15be40=parseInt(_0x3e41bf[_0x1b73e1(0x3bc)]);if(!_0x420132||isNaN(_0x454082)){showNotification(_0x1b73e1(0x2dd),_0x1b73e1(0x24c));return;}const _0x419b01=currentLadder==='D1'?_0x1b73e1(0x52f):'playersD2',_0x37fd0f=doc(db,_0x419b01,_0x2eea1d),_0x1a0a9f=await getDoc(_0x37fd0f),_0x365133=_0x1a0a9f[_0x1b73e1(0x5b3)]()?_0x1a0a9f[_0x1b73e1(0x35f)]():{},_0x3e1311=_0x365133[_0x1b73e1(0x32f)]||0x4b0;await updateDoc(_0x37fd0f,{'username':_0x420132,'eloRating':_0x454082,'wins':_0x142f26||0x0,'losses':_0x15be40||0x0,'lastModifiedAt':serverTimestamp(),'lastModifiedBy':auth['currentUser']['email']});if(_0x454082!==_0x3e1311){const _0x2f9d9a=currentLadder==='D1'?_0x1b73e1(0x4c2):'eloHistoryD2';await addDoc(collection(db,_0x2f9d9a),{'player':_0x420132,'previousElo':_0x3e1311,'newElo':_0x454082,'timestamp':serverTimestamp(),'type':_0x1b73e1(0x4b7),'modifiedBy':auth[_0x1b73e1(0x1f5)][_0x1b73e1(0x542)],'gameMode':currentLadder});}closeEditPlayerModal(),loadPlayersData(),showNotification(_0x1b73e1(0x425),'success');}catch(_0x48d1a2){console[_0x1b73e1(0x24c)](_0x1b73e1(0x536),_0x48d1a2),showNotification(_0x1b73e1(0x5cd)+_0x48d1a2[_0x1b73e1(0x362)],_0x1b73e1(0x24c));}}function closeEditPlayerModal(){const _0x3ff1c8=a4_0x182e79,_0x2aad6e=document['getElementById'](_0x3ff1c8(0x3e6));_0x2aad6e['classList'][_0x3ff1c8(0x3e5)]('active'),_0x2aad6e[_0x3ff1c8(0x45c)]['playerId']='';}async function confirmDeletePlayer(_0xd222d9){const _0x34c68a=a4_0x182e79;if(confirm(_0x34c68a(0x596)))try{const _0x403d19=currentLadder==='D1'?'players':_0x34c68a(0x3a2);await deleteDoc(doc(db,_0x403d19,_0xd222d9)),loadPlayersData(),showNotification(_0x34c68a(0x289),_0x34c68a(0x4b9));}catch(_0x2942e3){console[_0x34c68a(0x24c)](_0x34c68a(0x3eb),_0x2942e3),showNotification(_0x34c68a(0x2da)+_0x2942e3[_0x34c68a(0x362)],_0x34c68a(0x24c));}}async function setupManagePlayersSection(){const _0x2e0307=a4_0x182e79,_0x4cc311=document[_0x2e0307(0x2e0)](_0x2e0307(0x228));_0x4cc311&&_0x4cc311[_0x2e0307(0x511)](_0x2e0307(0x494),async _0x460fbf=>{const _0x97704c=_0x2e0307;_0x460fbf[_0x97704c(0x5e1)](),await addNewPlayer();});const _0xb0241d=document[_0x2e0307(0x2e0)](_0x2e0307(0x573));_0xb0241d&&_0xb0241d['addEventListener'](_0x2e0307(0x20c),debounce(filterPlayerTable,0x12c));const _0x268598=document[_0x2e0307(0x2e0)]('save-player-btn');_0x268598&&_0x268598[_0x2e0307(0x511)](_0x2e0307(0x610),saveEditedPlayer);const _0x4ba677=document['getElementById'](_0x2e0307(0x283));_0x4ba677&&_0x4ba677['addEventListener'](_0x2e0307(0x610),closeEditPlayerModal);const _0x169c37=document[_0x2e0307(0x2e0)](_0x2e0307(0x3e6));_0x169c37&&_0x169c37[_0x2e0307(0x511)](_0x2e0307(0x610),_0x1a899b=>{_0x1a899b['target']===_0x169c37&&closeEditPlayerModal();});const _0x10eaf0=document[_0x2e0307(0x2e0)](_0x2e0307(0x592));_0x10eaf0&&_0x10eaf0[_0x2e0307(0x511)]('change',()=>{const _0x36557d=_0x2e0307;currentLadder=_0x10eaf0[_0x36557d(0x3bc)],loadPlayersData();});}async function addNewPlayer(){const _0x17dd4b=a4_0x182e79;try{const _0x22c380=document[_0x17dd4b(0x2e0)](_0x17dd4b(0x525)),_0x27c905=document[_0x17dd4b(0x2e0)](_0x17dd4b(0x543)),_0x5cf4b3=_0x22c380[_0x17dd4b(0x3bc)][_0x17dd4b(0x352)](),_0x207a64=parseInt(_0x27c905[_0x17dd4b(0x3bc)])||0x4b0;if(!_0x5cf4b3){alert(_0x17dd4b(0x1df));return;}console[_0x17dd4b(0x51b)](_0x17dd4b(0x598)+_0x5cf4b3+'\x20with\x20ELO\x20'+_0x207a64+_0x17dd4b(0x447)+currentLadder+_0x17dd4b(0x4f0));let _0x54cf8e=_0x17dd4b(0x52f),_0x3aa9ec=_0x17dd4b(0x4c2);if(currentLadder==='D2')_0x54cf8e=_0x17dd4b(0x3a2),_0x3aa9ec=_0x17dd4b(0x209);else currentLadder==='D3'&&(_0x54cf8e='playersD3',_0x3aa9ec=_0x17dd4b(0x1ef));const _0x1ce0c3=query(collection(db,_0x54cf8e),where('username','==',_0x5cf4b3)),_0x5c1f38=await getDocs(_0x1ce0c3);if(!_0x5c1f38[_0x17dd4b(0x3f9)]){alert(_0x17dd4b(0x2eb)+_0x5cf4b3+_0x17dd4b(0x42f)+currentLadder+'\x20ladder');return;}const _0x5381e9=auth['currentUser'],_0x3779f3={'username':_0x5cf4b3,'eloRating':_0x207a64,'wins':0x0,'losses':0x0,'createdAt':serverTimestamp(),'createdBy':_0x5381e9?_0x5381e9[_0x17dd4b(0x542)]:_0x17dd4b(0x334),'gameMode':currentLadder};await addDoc(collection(db,_0x54cf8e),_0x3779f3),await addDoc(collection(db,_0x3aa9ec),{'player':_0x5cf4b3,'previousElo':0x4b0,'newElo':_0x207a64,'timestamp':serverTimestamp(),'type':'initial_placement','placedBy':_0x5381e9?_0x5381e9['email']:_0x17dd4b(0x334),'gameMode':currentLadder}),_0x22c380[_0x17dd4b(0x3bc)]='',_0x27c905['value']='1200',alert('Player\x20'+_0x5cf4b3+_0x17dd4b(0x5a3)+currentLadder+_0x17dd4b(0x4f5)),loadPlayersData();}catch(_0xac6669){console[_0x17dd4b(0x24c)](_0x17dd4b(0x291),_0xac6669),alert(_0x17dd4b(0x632)+_0xac6669[_0x17dd4b(0x362)]);}}document[a4_0x182e79(0x511)](a4_0x182e79(0x2fb),()=>{const _0x499ee2=a4_0x182e79,_0x3da409=document[_0x499ee2(0x2e0)](_0x499ee2(0x228));_0x3da409&&_0x3da409['addEventListener'](_0x499ee2(0x494),_0x22ae01=>{const _0x1c873a=_0x499ee2;_0x22ae01[_0x1c873a(0x5e1)](),addNewPlayer();});});function filterPlayerTable(){const _0x27c41b=a4_0x182e79,_0x3aca78=document['getElementById'](_0x27c41b(0x573))['value']['toLowerCase'](),_0xca581b=document[_0x27c41b(0x61b)](_0x27c41b(0x50f));let _0xe0d63c=0x0;_0xca581b['forEach'](_0x107283=>{const _0x47f0fc=_0x27c41b,_0x3063bb=_0x107283['querySelector'](_0x47f0fc(0x473))?.[_0x47f0fc(0x565)][_0x47f0fc(0x5ef)]()||'';_0x3063bb[_0x47f0fc(0x202)](_0x3aca78)?(_0x107283[_0x47f0fc(0x2d9)][_0x47f0fc(0x404)]='',_0xe0d63c++):_0x107283[_0x47f0fc(0x2d9)][_0x47f0fc(0x404)]=_0x47f0fc(0x583);});const _0x1a80a0=document[_0x27c41b(0x2e0)]('no-results-message');_0x1a80a0&&(_0xe0d63c===0x0&&_0x3aca78!==''?_0x1a80a0[_0x27c41b(0x2d9)][_0x27c41b(0x404)]=_0x27c41b(0x4e9):_0x1a80a0[_0x27c41b(0x2d9)][_0x27c41b(0x404)]=_0x27c41b(0x583));}function debounce(_0x5cb6b7,_0x1906d5){let _0x88a44;return function(..._0x2635be){const _0x440150=a4_0x3a00;clearTimeout(_0x88a44),_0x88a44=setTimeout(()=>_0x5cb6b7[_0x440150(0x2c2)](this,_0x2635be),_0x1906d5);};}async function loadEloHistory(_0x2ead2f=0x1){const _0x416c26=a4_0x182e79,_0x1226f8=document['getElementById'](_0x416c26(0x440)),_0x80738=currentLadder[_0x416c26(0x5ef)]();if(!_0x1226f8)return;_0x1226f8[_0x416c26(0x398)]=_0x416c26(0x622);try{const _0x248ca8=currentLadder==='D1'?_0x416c26(0x4c2):currentLadder==='D2'?'eloHistoryD2':'eloHistoryD3',_0x4d8d5b=collection(db,_0x248ca8);let _0xf0a779;if(_0x2ead2f>eloHistoryPagination[_0x80738][_0x416c26(0x5d1)]&&eloHistoryPagination[_0x80738][_0x416c26(0x49a)])_0xf0a779=query(_0x4d8d5b,orderBy('timestamp',_0x416c26(0x59e)),startAfter(eloHistoryPagination[_0x80738][_0x416c26(0x49a)]),limit(PAGE_SIZE));else _0x2ead2f<eloHistoryPagination[_0x80738][_0x416c26(0x5d1)]&&eloHistoryPagination[_0x80738][_0x416c26(0x385)]?_0xf0a779=query(_0x4d8d5b,orderBy(_0x416c26(0x5a1),_0x416c26(0x59e)),endBefore(eloHistoryPagination[_0x80738][_0x416c26(0x385)]),limitToLast(PAGE_SIZE)):_0xf0a779=query(_0x4d8d5b,orderBy(_0x416c26(0x5a1),_0x416c26(0x59e)),limit(PAGE_SIZE));const _0x3ad4db=await getDocs(_0xf0a779);if(_0x3ad4db['empty']){_0x1226f8[_0x416c26(0x398)]='<tr><td\x20colspan=\x227\x22\x20class=\x22empty-state\x22>No\x20ELO\x20history\x20found</td></tr>',document[_0x416c26(0x2e0)](_0x80738+_0x416c26(0x3fb))[_0x416c26(0x565)]=_0x416c26(0x51a);return;}eloHistoryPagination[_0x80738][_0x416c26(0x5d1)]=_0x2ead2f,eloHistoryPagination[_0x80738][_0x416c26(0x385)]=_0x3ad4db['docs'][0x0],eloHistoryPagination[_0x80738][_0x416c26(0x49a)]=_0x3ad4db[_0x416c26(0x423)][_0x3ad4db['docs']['length']-0x1];const _0x733472=new Map();_0x1226f8[_0x416c26(0x398)]='';const _0x521caf=async _0xcd53ba=>{const _0x1673b1=_0x416c26;if(typeof _0xcd53ba!==_0x1673b1(0x224)||_0xcd53ba[_0x1673b1(0x608)]<0x14||/[^a-zA-Z0-9-_]/[_0x1673b1(0x41a)](_0xcd53ba))return _0xcd53ba;if(_0x733472[_0x1673b1(0x495)](_0xcd53ba))return _0x733472[_0x1673b1(0x40a)](_0xcd53ba);try{for(const _0x41ed1c of[_0x1673b1(0x52f),_0x1673b1(0x3a2),_0x1673b1(0x295),_0x1673b1(0x459)]){const _0x48785d=await getDoc(doc(db,_0x41ed1c,_0xcd53ba));if(_0x48785d[_0x1673b1(0x5b3)]()&&_0x48785d['data']()[_0x1673b1(0x3f7)]){const _0x5499d8=_0x48785d[_0x1673b1(0x35f)]()[_0x1673b1(0x3f7)];return _0x733472['set'](_0xcd53ba,_0x5499d8),_0x5499d8;}}return _0xcd53ba;}catch(_0xfb7d55){return console['warn'](_0x1673b1(0x450)+_0xcd53ba+':',_0xfb7d55),_0xcd53ba;}};for(const _0x22a95d of _0x3ad4db[_0x416c26(0x423)]){const _0x53756c=_0x22a95d[_0x416c26(0x35f)](),_0x51131a=document[_0x416c26(0x3b6)]('tr'),_0xe9bd39=_0x53756c['timestamp']?new Date(_0x53756c[_0x416c26(0x5a1)][_0x416c26(0x24e)]*0x3e8)[_0x416c26(0x3ea)]():'N/A',_0x2db3c1=_0x53756c['newElo']-_0x53756c[_0x416c26(0x560)],_0x331b53=_0x2db3c1>0x0?_0x416c26(0x360):_0x2db3c1<0x0?_0x416c26(0x263):'',_0x5acdb2=_0x2db3c1>0x0?'+':'',_0x4d93cf=_0x53756c[_0x416c26(0x5b2)]||_0x53756c['username']||_0x53756c[_0x416c26(0x4fd)]||'N/A',_0x3d2ecd=await _0x521caf(_0x4d93cf);_0x51131a[_0x416c26(0x398)]=_0x416c26(0x1ee)+_0xe9bd39+_0x416c26(0x2a3)+_0x3d2ecd+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22previous-elo\x22>'+(_0x53756c['previousElo']||_0x416c26(0x1e8))+_0x416c26(0x3e7)+(_0x53756c[_0x416c26(0x2ec)]||'N/A')+_0x416c26(0x605)+_0x331b53+'\x22>'+_0x5acdb2+_0x2db3c1+_0x416c26(0x2bc)+formatHistoryType(_0x53756c[_0x416c26(0x2b7)])+_0x416c26(0x269)+(_0x53756c['modifiedBy']||_0x53756c[_0x416c26(0x2ed)]||_0x53756c[_0x416c26(0x296)]||_0x416c26(0x400))+_0x416c26(0x34c),_0x1226f8['appendChild'](_0x51131a);}document[_0x416c26(0x2e0)](_0x80738+_0x416c26(0x3fb))[_0x416c26(0x565)]=_0x416c26(0x345)+_0x2ead2f;const _0x5017a3=document['getElementById'](_0x80738+'-prev-page'),_0x2330d9=document['getElementById'](_0x80738+_0x416c26(0x47a));if(_0x5017a3)_0x5017a3['disabled']=_0x2ead2f<=0x1;const _0x2fd0e1=query(_0x4d8d5b,orderBy('timestamp',_0x416c26(0x59e)),startAfter(eloHistoryPagination[_0x80738][_0x416c26(0x49a)]),limit(0x1)),_0x47c751=await getDocs(_0x2fd0e1);if(_0x2330d9)_0x2330d9['disabled']=_0x47c751[_0x416c26(0x3f9)];}catch(_0x14ae9c){console[_0x416c26(0x24c)](_0x416c26(0x589),_0x14ae9c),_0x1226f8['innerHTML']=_0x416c26(0x311)+_0x14ae9c[_0x416c26(0x362)]+_0x416c26(0x603);}}function formatHistoryType(_0x101ccb){const _0x3890c1=a4_0x182e79;switch(_0x101ccb){case'match_result':return _0x3890c1(0x354);case _0x3890c1(0x1e1):return'Promotion';case'demotion':return _0x3890c1(0x623);case'admin_modification':return _0x3890c1(0x55d);case _0x3890c1(0x5de):return'Initial\x20Placement';default:return _0x101ccb||_0x3890c1(0x53d);}}function setupEloHistorySection(){const _0x359306=a4_0x182e79;document['getElementById'](_0x359306(0x45a))['addEventListener'](_0x359306(0x610),()=>{loadEloHistory(eloHistoryPagination['d1']['page']-0x1);}),document[_0x359306(0x2e0)]('d1-next-page')[_0x359306(0x511)]('click',()=>{const _0x358eb3=_0x359306;loadEloHistory(eloHistoryPagination['d1'][_0x358eb3(0x5d1)]+0x1);}),document[_0x359306(0x2e0)](_0x359306(0x3e1))['addEventListener'](_0x359306(0x610),()=>{const _0x2285f7=_0x359306;loadEloHistory(eloHistoryPagination['d2'][_0x2285f7(0x5d1)]-0x1);}),document['getElementById'](_0x359306(0x1fb))[_0x359306(0x511)](_0x359306(0x610),()=>{const _0x5bc115=_0x359306;loadEloHistory(eloHistoryPagination['d2'][_0x5bc115(0x5d1)]+0x1);});const _0x18515c=document[_0x359306(0x2e0)](_0x359306(0x56c)),_0x4f1f29=document[_0x359306(0x2e0)](_0x359306(0x3ab));_0x18515c&&_0x18515c[_0x359306(0x511)](_0x359306(0x610),()=>{const _0x83331b=_0x359306;loadEloHistory(eloHistoryPagination['d3'][_0x83331b(0x5d1)]-0x1);});_0x4f1f29&&_0x4f1f29[_0x359306(0x511)](_0x359306(0x610),()=>{loadEloHistory(eloHistoryPagination['d3']['page']+0x1);});const _0x398bff=document[_0x359306(0x2e0)]('elo-history-search');_0x398bff&&_0x398bff['addEventListener'](_0x359306(0x20c),debounce(filterEloHistoryTable,0x12c));const _0x3671f8=document[_0x359306(0x2e0)](_0x359306(0x621));_0x3671f8&&_0x3671f8[_0x359306(0x511)]('change',applyEloHistoryFilters);const _0x3ae12f=document['getElementById'](_0x359306(0x4ff));_0x3ae12f&&_0x3ae12f[_0x359306(0x511)](_0x359306(0x610),resetEloHistoryFilters);}function filterEloHistoryTable(){const _0x3413c5=a4_0x182e79,_0x339b18=document['getElementById']('elo-history-search')[_0x3413c5(0x3bc)][_0x3413c5(0x5ef)](),_0x51ff40=document[_0x3413c5(0x61b)](_0x3413c5(0x347));let _0x3594f6=0x0;_0x51ff40[_0x3413c5(0x2b1)](_0x917fd6=>{const _0x589f67=_0x3413c5;if(_0x917fd6[_0x589f67(0x3c2)][_0x589f67(0x37f)](_0x589f67(0x217))||_0x917fd6[_0x589f67(0x3c2)][_0x589f67(0x37f)]('empty-state')||_0x917fd6[_0x589f67(0x3c2)][_0x589f67(0x37f)](_0x589f67(0x262)))return;const _0x19cac1=_0x917fd6[_0x589f67(0x313)](_0x589f67(0x428))?.['textContent'][_0x589f67(0x5ef)]()||'',_0x45e018=_0x917fd6[_0x589f67(0x313)](_0x589f67(0x1de))?.['textContent'][_0x589f67(0x5ef)]()||'',_0x39327b=_0x917fd6[_0x589f67(0x313)](_0x589f67(0x451))?.[_0x589f67(0x565)][_0x589f67(0x5ef)]()||'';_0x19cac1[_0x589f67(0x202)](_0x339b18)||_0x45e018[_0x589f67(0x202)](_0x339b18)||_0x39327b[_0x589f67(0x202)](_0x339b18)?(_0x917fd6[_0x589f67(0x2d9)][_0x589f67(0x404)]='',_0x3594f6++):_0x917fd6[_0x589f67(0x2d9)]['display']='none';});}async function applyEloHistoryFilters(){const _0x656244=a4_0x182e79,_0x5dcfdb=document[_0x656244(0x2e0)](_0x656244(0x435))[_0x656244(0x3bc)],_0x23b6c6=document[_0x656244(0x2e0)](_0x656244(0x35d))[_0x656244(0x3bc)],_0x30bf7e=document['getElementById'](_0x656244(0x621))[_0x656244(0x3bc)],_0x16ef8d=currentLadder[_0x656244(0x5ef)]();eloHistoryPagination[_0x16ef8d]={'page':0x1,'lastVisible':null,'firstVisible':null};const _0x2ce650=document[_0x656244(0x2e0)](_0x656244(0x440));_0x2ce650['innerHTML']=_0x656244(0x614);try{const _0xee49d5=currentLadder==='D1'?'eloHistory':_0x656244(0x209),_0x53e1f5=collection(db,_0xee49d5);let _0x582d84=[orderBy(_0x656244(0x5a1),_0x656244(0x59e))];if(_0x5dcfdb){const _0x577269=new Date(_0x5dcfdb);_0x577269[_0x656244(0x215)](0x0,0x0,0x0,0x0),_0x582d84[_0x656244(0x45e)](where(_0x656244(0x5a1),'>=',_0x577269));}if(_0x23b6c6){const _0x49d861=new Date(_0x23b6c6);_0x49d861['setHours'](0x17,0x3b,0x3b,0x3e7),_0x582d84['push'](where(_0x656244(0x5a1),'<=',_0x49d861));}_0x30bf7e&&_0x30bf7e!==_0x656244(0x55a)&&_0x582d84[_0x656244(0x45e)](where(_0x656244(0x2b7),'==',_0x30bf7e));_0x582d84[_0x656244(0x45e)](limit(PAGE_SIZE));const _0x2e66e6=query(_0x53e1f5,..._0x582d84),_0x4a112d=await getDocs(_0x2e66e6);!_0x4a112d[_0x656244(0x3f9)]&&(eloHistoryPagination[_0x16ef8d][_0x656244(0x385)]=_0x4a112d[_0x656244(0x423)][0x0],eloHistoryPagination[_0x16ef8d]['lastVisible']=_0x4a112d[_0x656244(0x423)][_0x4a112d[_0x656244(0x423)][_0x656244(0x608)]-0x1]);_0x2ce650[_0x656244(0x398)]='';if(_0x4a112d[_0x656244(0x3f9)]){_0x2ce650[_0x656244(0x398)]=_0x656244(0x413);return;}_0x4a112d['forEach'](_0x290431=>{const _0x3e0943=_0x656244,_0x5eb99c=_0x290431[_0x3e0943(0x35f)](),_0x4ba356=document[_0x3e0943(0x3b6)]('tr'),_0x404110=_0x5eb99c[_0x3e0943(0x5a1)]?new Date(_0x5eb99c[_0x3e0943(0x5a1)][_0x3e0943(0x24e)]*0x3e8)[_0x3e0943(0x3ea)]():'N/A',_0x4242eb=_0x5eb99c['newElo']-_0x5eb99c[_0x3e0943(0x560)],_0x5afaca=_0x4242eb>0x0?'positive-change':_0x4242eb<0x0?_0x3e0943(0x263):'',_0x30e837=_0x4242eb>0x0?'+':'',_0xa6b7f0=_0x5eb99c[_0x3e0943(0x5b2)]||_0x5eb99c[_0x3e0943(0x3f7)]||_0x5eb99c['userId']||_0x3e0943(0x1e8);_0x4ba356['innerHTML']=_0x3e0943(0x1ee)+_0x404110+_0x3e0943(0x2a3)+_0xa6b7f0+_0x3e0943(0x617)+(_0x5eb99c[_0x3e0943(0x560)]||_0x3e0943(0x1e8))+_0x3e0943(0x3e7)+(_0x5eb99c[_0x3e0943(0x2ec)]||_0x3e0943(0x1e8))+_0x3e0943(0x605)+_0x5afaca+'\x22>'+_0x30e837+_0x4242eb+_0x3e0943(0x2bc)+formatHistoryType(_0x5eb99c[_0x3e0943(0x2b7)])+_0x3e0943(0x269)+(_0x5eb99c['modifiedBy']||_0x5eb99c[_0x3e0943(0x2ed)]||_0x5eb99c[_0x3e0943(0x296)]||'System')+_0x3e0943(0x34c),_0x2ce650[_0x3e0943(0x5df)](_0x4ba356);}),document['getElementById'](_0x16ef8d+_0x656244(0x3fb))[_0x656244(0x565)]='Page\x201';}catch(_0x26ae69){console[_0x656244(0x24c)](_0x656244(0x54b),_0x26ae69),_0x2ce650[_0x656244(0x398)]=_0x656244(0x290)+_0x26ae69[_0x656244(0x362)]+_0x656244(0x603);}}function resetEloHistoryFilters(){const _0x12cd33=a4_0x182e79;document[_0x12cd33(0x2e0)]('history-start-date')['value']='',document['getElementById'](_0x12cd33(0x35d))[_0x12cd33(0x3bc)]='',document[_0x12cd33(0x2e0)](_0x12cd33(0x621))[_0x12cd33(0x3bc)]='all',document[_0x12cd33(0x2e0)](_0x12cd33(0x337))[_0x12cd33(0x3bc)]='';const _0x59ed98=currentLadder[_0x12cd33(0x5ef)]();eloHistoryPagination[_0x59ed98]={'page':0x1,'lastVisible':null,'firstVisible':null},loadEloHistory(0x1);}function setupRankControls(){const _0x48d7cf=a4_0x182e79,_0x404587=document['getElementById'](_0x48d7cf(0x292)),_0xcb8f25=document[_0x48d7cf(0x2e0)]('promote-modal'),_0x567abc=document[_0x48d7cf(0x2e0)]('promote-form');_0x404587&&_0xcb8f25&&_0x567abc&&(_0x404587['addEventListener'](_0x48d7cf(0x610),()=>{const _0x4fabd7=_0x48d7cf;_0xcb8f25['classList'][_0x4fabd7(0x4f1)](_0x4fabd7(0x3a4));}),_0xcb8f25[_0x48d7cf(0x511)]('click',_0x46a4d9=>{const _0x592873=_0x48d7cf;_0x46a4d9[_0x592873(0x56d)]===_0xcb8f25&&_0xcb8f25[_0x592873(0x3c2)][_0x592873(0x3e5)](_0x592873(0x3a4));}),_0x567abc['addEventListener'](_0x48d7cf(0x494),async _0x3c4a83=>{const _0x2f5fcb=_0x48d7cf;_0x3c4a83[_0x2f5fcb(0x5e1)]();const _0x412a27=document[_0x2f5fcb(0x2e0)](_0x2f5fcb(0x3f5)),_0x75ab7c=document[_0x2f5fcb(0x2e0)]('promote-ladder'),_0x1ceed4=_0x412a27['value'][_0x2f5fcb(0x352)](),_0x345a28=_0x75ab7c['value'];if(!_0x1ceed4){showNotification(_0x2f5fcb(0x42a),_0x2f5fcb(0x24c));return;}try{await promotePlayer(_0x1ceed4,_0x345a28),_0xcb8f25[_0x2f5fcb(0x3c2)][_0x2f5fcb(0x3e5)](_0x2f5fcb(0x3a4)),_0x412a27[_0x2f5fcb(0x3bc)]='';}catch(_0xf8cd73){showNotification(_0xf8cd73[_0x2f5fcb(0x362)],_0x2f5fcb(0x24c));}}),document[_0x48d7cf(0x2e0)]('cancel-promote-btn')[_0x48d7cf(0x511)](_0x48d7cf(0x610),()=>{const _0x24f332=_0x48d7cf;_0xcb8f25[_0x24f332(0x3c2)][_0x24f332(0x3e5)](_0x24f332(0x3a4));}));const _0x345a1d=document[_0x48d7cf(0x2e0)](_0x48d7cf(0x485)),_0x45440e=document[_0x48d7cf(0x2e0)](_0x48d7cf(0x2e7)),_0x433cfe=document[_0x48d7cf(0x2e0)]('demote-form');_0x345a1d&&_0x45440e&&_0x433cfe&&(_0x345a1d[_0x48d7cf(0x511)](_0x48d7cf(0x610),()=>{const _0x1bcbb1=_0x48d7cf;_0x45440e[_0x1bcbb1(0x3c2)]['add'](_0x1bcbb1(0x3a4));}),_0x45440e['addEventListener'](_0x48d7cf(0x610),_0x39cb30=>{const _0x5d374b=_0x48d7cf;_0x39cb30['target']===_0x45440e&&_0x45440e['classList'][_0x5d374b(0x3e5)](_0x5d374b(0x3a4));}),_0x433cfe['addEventListener'](_0x48d7cf(0x494),async _0x574e7=>{const _0x5d8dc8=_0x48d7cf;_0x574e7[_0x5d8dc8(0x5e1)]();const _0x485e34=document['getElementById'](_0x5d8dc8(0x3e9)),_0x3f2b28=document['getElementById'](_0x5d8dc8(0x3a9)),_0x519c05=_0x485e34[_0x5d8dc8(0x3bc)]['trim'](),_0x2f08dc=_0x3f2b28[_0x5d8dc8(0x3bc)];if(!_0x519c05){alert(_0x5d8dc8(0x42a));return;}try{await demotePlayer(_0x519c05,_0x2f08dc),document[_0x5d8dc8(0x2e0)](_0x5d8dc8(0x2e7))[_0x5d8dc8(0x3c2)][_0x5d8dc8(0x3e5)](_0x5d8dc8(0x3a4)),document['getElementById']('demote-username')[_0x5d8dc8(0x3bc)]='';}catch(_0x34322d){console[_0x5d8dc8(0x24c)](_0x5d8dc8(0x353),_0x34322d);}}));const _0x831149=document[_0x48d7cf(0x2e0)](_0x48d7cf(0x4d5)),_0x6df76e=document[_0x48d7cf(0x2e0)]('set-elo-modal'),_0x462291=document['getElementById'](_0x48d7cf(0x280));_0x831149&&_0x6df76e&&_0x462291&&(_0x831149[_0x48d7cf(0x511)](_0x48d7cf(0x610),()=>{const _0xbe891=_0x48d7cf;_0x6df76e[_0xbe891(0x3c2)][_0xbe891(0x4f1)](_0xbe891(0x3a4));}),_0x6df76e['addEventListener'](_0x48d7cf(0x610),_0x4d905b=>{const _0x1b318d=_0x48d7cf;_0x4d905b[_0x1b318d(0x56d)]===_0x6df76e&&_0x6df76e[_0x1b318d(0x3c2)][_0x1b318d(0x3e5)]('active');}),_0x462291[_0x48d7cf(0x511)](_0x48d7cf(0x494),async _0x541c40=>{const _0x4e2aca=_0x48d7cf;_0x541c40[_0x4e2aca(0x5e1)]();const _0x22d9bd=document['getElementById'](_0x4e2aca(0x243)),_0x33deaf=document['getElementById'](_0x4e2aca(0x3b8));let _0xc92c39;const _0x4e5758=document['getElementById'](_0x4e2aca(0x2df)),_0x5d8750=document[_0x4e2aca(0x313)](_0x4e2aca(0x4de));if(_0x4e5758)_0xc92c39=_0x4e5758[_0x4e2aca(0x3bc)];else _0x5d8750?_0xc92c39=_0x5d8750[_0x4e2aca(0x3bc)]:_0xc92c39='D1';if(!_0x22d9bd||!_0x33deaf){showNotification('Form\x20elements\x20are\x20missing',_0x4e2aca(0x24c));return;}const _0x4dd562=_0x22d9bd[_0x4e2aca(0x3bc)][_0x4e2aca(0x352)](),_0xc978f5=parseInt(_0x33deaf[_0x4e2aca(0x3bc)]);if(!_0x4dd562||isNaN(_0xc978f5)){showNotification('Please\x20enter\x20valid\x20username\x20and\x20ELO',_0x4e2aca(0x24c));return;}try{await setCustomElo(_0x4dd562,_0xc978f5,_0xc92c39),_0x6df76e[_0x4e2aca(0x3c2)][_0x4e2aca(0x3e5)](_0x4e2aca(0x3a4)),_0x22d9bd['value']='',_0x33deaf[_0x4e2aca(0x3bc)]='';}catch(_0x149dae){showNotification(_0x149dae[_0x4e2aca(0x362)],'error');}}),document['getElementById'](_0x48d7cf(0x496))[_0x48d7cf(0x511)](_0x48d7cf(0x610),()=>{const _0x1ee5b9=_0x48d7cf;_0x6df76e[_0x1ee5b9(0x3c2)][_0x1ee5b9(0x3e5)](_0x1ee5b9(0x3a4));}));const _0x5adaf2=document['getElementById'](_0x48d7cf(0x4f7)),_0x285b3d=document[_0x48d7cf(0x2e0)]('set-role-form');if(_0x5adaf2&&_0x285b3d){_0x5adaf2[_0x48d7cf(0x511)]('click',_0x37d77e=>{const _0x2f1438=_0x48d7cf;_0x37d77e[_0x2f1438(0x56d)]===_0x5adaf2&&closeModalHandler();}),_0x285b3d[_0x48d7cf(0x511)](_0x48d7cf(0x494),async _0x478c02=>{const _0xeac55b=_0x48d7cf;_0x478c02[_0xeac55b(0x5e1)]();const _0x11e15e=document['getElementById'](_0xeac55b(0x401)),_0x3da84c=document[_0xeac55b(0x2e0)]('role-name'),_0x37131c=document[_0xeac55b(0x2e0)]('role-color'),_0x2d2746=_0x11e15e[_0xeac55b(0x3bc)][_0xeac55b(0x352)](),_0x121241=_0x3da84c[_0xeac55b(0x3bc)][_0xeac55b(0x352)](),_0x2d3b7e=_0x37131c[_0xeac55b(0x3bc)];if(!_0x2d2746){showNotification('Username\x20is\x20missing',_0xeac55b(0x24c));return;}try{await setUserRole(_0x2d2746,_0x121241,_0x2d3b7e),closeModalHandler(),loadUsersWithRoles();}catch(_0x377ca9){}});const _0x5dd5d4=document[_0x48d7cf(0x2e0)]('cancel-role-btn');_0x5dd5d4&&(_0x5dd5d4['removeEventListener'](_0x48d7cf(0x610),closeModalHandler),_0x5dd5d4[_0x48d7cf(0x511)]('click',closeModalHandler));}}async function promotePlayer(_0x376b6c,_0x1fd957){const _0x1defb9=a4_0x182e79;try{console[_0x1defb9(0x51b)](_0x1defb9(0x3de)+_0x376b6c+'\x20in\x20'+_0x1fd957+_0x1defb9(0x4f0));const _0x1506ba=auth['currentUser'];if(!_0x1506ba)throw new Error(_0x1defb9(0x488));const _0x321475=_0x1fd957==='D2'?_0x1defb9(0x3a2):_0x1defb9(0x52f),_0x4e8f8f=_0x1fd957==='D2'?_0x1defb9(0x209):_0x1defb9(0x4c2);console[_0x1defb9(0x51b)]('Searching\x20for\x20player\x20in\x20'+_0x321475);const _0x9ad3d2=collection(db,_0x321475),_0x34b4f2=query(_0x9ad3d2,where(_0x1defb9(0x3f7),'==',_0x376b6c)),_0x5c1089=await getDocs(_0x34b4f2);if(_0x5c1089[_0x1defb9(0x3f9)]){alert('Player\x20not\x20found\x20in\x20'+_0x1fd957+_0x1defb9(0x4f0));throw new Error('Player\x20not\x20found\x20in\x20'+_0x1fd957+_0x1defb9(0x4f0));}const _0x68d86d=_0x5c1089[_0x1defb9(0x423)][0x0],_0x70236=_0x68d86d[_0x1defb9(0x35f)](),_0x305f24=_0x70236[_0x1defb9(0x32f)]||0x4b0,_0x4fac2c=_0x68d86d['id'];console[_0x1defb9(0x51b)](_0x1defb9(0x493)+_0x305f24);const _0x19e413=[{'name':_0x1defb9(0x2b6),'elo':0x578},{'name':_0x1defb9(0x443),'elo':0x640},{'name':'Gold','elo':0x708},{'name':'Emerald','elo':0x7d0}];let _0x17dbb3=_0x19e413[_0x1defb9(0x2bf)](_0x6fa192=>_0x6fa192[_0x1defb9(0x357)]>_0x305f24);if(!_0x17dbb3){alert(_0x1defb9(0x268)+_0x1fd957+_0x1defb9(0x4f0));throw new Error(_0x1defb9(0x268)+_0x1fd957+'\x20ladder');}console['log'](_0x1defb9(0x500)+_0x17dbb3[_0x1defb9(0x257)]+'\x20('+_0x17dbb3['elo']+')'),await updateDoc(doc(db,_0x321475,_0x68d86d['id']),{'eloRating':_0x17dbb3[_0x1defb9(0x357)],'lastPromotedAt':serverTimestamp(),'promotedBy':_0x1506ba[_0x1defb9(0x542)]||'admin'}),await addDoc(collection(db,_0x4e8f8f),{'player':_0x376b6c,'previousElo':_0x305f24,'newElo':_0x17dbb3[_0x1defb9(0x357)],'timestamp':serverTimestamp(),'type':'promotion','rankAchieved':_0x17dbb3['name'],'promotedBy':_0x1506ba[_0x1defb9(0x542)]||'admin','gameMode':_0x1fd957});try{const {promotionManager:_0x27e7b2}=await import(_0x1defb9(0x32c)),_0x242ed1=_0x27e7b2[_0x1defb9(0x248)](_0x305f24),_0x39e569=_0x17dbb3[_0x1defb9(0x257)];await _0x27e7b2[_0x1defb9(0x220)](_0x4fac2c,_0x376b6c,_0x305f24,_0x17dbb3[_0x1defb9(0x357)],_0x242ed1,_0x39e569,'promotion',{'displayName':_0x376b6c,'source':'admin','adminUser':_0x1506ba[_0x1defb9(0x542)],'ladder':_0x1fd957}),console[_0x1defb9(0x51b)](_0x1defb9(0x5c4));}catch(_0x51c808){console['error'](_0x1defb9(0x619),_0x51c808);}return alert(_0x1defb9(0x25c)+_0x376b6c+_0x1defb9(0x447)+_0x17dbb3['name']+'\x20('+_0x17dbb3[_0x1defb9(0x357)]+')'),currentLadder===_0x1fd957&&(loadPlayersData(),loadEloHistory(0x1)),!![];}catch(_0x241c5d){console[_0x1defb9(0x24c)](_0x1defb9(0x333),_0x241c5d),alert(_0x1defb9(0x332)+_0x241c5d[_0x1defb9(0x362)]);throw _0x241c5d;}}document[a4_0x182e79(0x511)](a4_0x182e79(0x2fb),()=>{const _0x3cf2ee=a4_0x182e79,_0x64f29a=document[_0x3cf2ee(0x2e0)]('promote-form');_0x64f29a&&_0x64f29a['addEventListener'](_0x3cf2ee(0x494),async _0x1f0ca5=>{const _0x10b9e2=_0x3cf2ee;_0x1f0ca5['preventDefault']();const _0x37334c=document[_0x10b9e2(0x2e0)](_0x10b9e2(0x3f5))[_0x10b9e2(0x3bc)]['trim'](),_0x4a564a=document['querySelector'](_0x10b9e2(0x5af))[_0x10b9e2(0x3bc)];if(!_0x37334c){alert(_0x10b9e2(0x42a));return;}try{await promotePlayer(_0x37334c,_0x4a564a),document[_0x10b9e2(0x2e0)](_0x10b9e2(0x315))[_0x10b9e2(0x3c2)]['remove']('active'),document[_0x10b9e2(0x2e0)](_0x10b9e2(0x3f5))[_0x10b9e2(0x3bc)]='';}catch(_0x4ad5b7){console['error']('Error\x20in\x20promotion:',_0x4ad5b7);}});});async function demotePlayer(_0x2d4f67,_0x4998d9){const _0x1466c7=a4_0x182e79;try{console[_0x1466c7(0x51b)](_0x1466c7(0x564)+_0x2d4f67+'\x20in\x20'+_0x4998d9+_0x1466c7(0x4f0));const _0x79a2a1=auth['currentUser'];if(!_0x79a2a1)throw new Error(_0x1466c7(0x488));const _0x352155=_0x4998d9==='D2'?_0x1466c7(0x3a2):_0x1466c7(0x52f),_0x5a34b2=_0x4998d9==='D2'?_0x1466c7(0x209):_0x1466c7(0x4c2);console[_0x1466c7(0x51b)]('Searching\x20for\x20player\x20in\x20'+_0x352155);const _0x2ccb17=collection(db,_0x352155),_0x50ee4b=query(_0x2ccb17,where(_0x1466c7(0x3f7),'==',_0x2d4f67)),_0x1dfcc9=await getDocs(_0x50ee4b);if(_0x1dfcc9[_0x1466c7(0x3f9)]){alert(_0x1466c7(0x508)+_0x4998d9+_0x1466c7(0x4f0));throw new Error(_0x1466c7(0x508)+_0x4998d9+_0x1466c7(0x4f0));}const _0x13c9bf=_0x1dfcc9[_0x1466c7(0x423)][0x0],_0x41eda8=_0x13c9bf['data'](),_0x2d4f22=_0x41eda8[_0x1466c7(0x32f)]||0x4b0;console[_0x1466c7(0x51b)](_0x1466c7(0x493)+_0x2d4f22);const _0x425229=[{'name':_0x1466c7(0x438),'elo':0x708},{'name':_0x1466c7(0x443),'elo':0x640},{'name':_0x1466c7(0x2b6),'elo':0x578},{'name':'Unranked','elo':0x4b0}];let _0x61864f=_0x425229[_0x1466c7(0x2bf)](_0x2f2770=>_0x2f2770[_0x1466c7(0x357)]<_0x2d4f22);if(!_0x61864f){alert(_0x1466c7(0x26a)+_0x4998d9+_0x1466c7(0x4f0));throw new Error(_0x1466c7(0x26a)+_0x4998d9+_0x1466c7(0x4f0));}console['log'](_0x1466c7(0x2ce)+_0x61864f[_0x1466c7(0x257)]+'\x20('+_0x61864f[_0x1466c7(0x357)]+')'),await updateDoc(doc(db,_0x352155,_0x13c9bf['id']),{'eloRating':_0x61864f['elo'],'lastDemotedAt':serverTimestamp(),'demotedBy':_0x79a2a1['email']||_0x1466c7(0x334)}),await addDoc(collection(db,_0x5a34b2),{'player':_0x2d4f67,'previousElo':_0x2d4f22,'newElo':_0x61864f[_0x1466c7(0x357)],'timestamp':serverTimestamp(),'type':_0x1466c7(0x34d),'rankAchieved':_0x61864f['name'],'demotedBy':_0x79a2a1[_0x1466c7(0x542)]||_0x1466c7(0x334),'gameMode':_0x4998d9});try{const {promotionManager:_0x3288c0}=await import(_0x1466c7(0x32c)),_0x12ab57=_0x3288c0[_0x1466c7(0x248)](_0x2d4f22),_0xaeeeab=_0x61864f[_0x1466c7(0x257)];await _0x3288c0[_0x1466c7(0x220)](_0x13c9bf['id'],_0x2d4f67,_0x2d4f22,_0x61864f[_0x1466c7(0x357)],_0x12ab57,_0xaeeeab,_0x1466c7(0x34d),{'displayName':_0x2d4f67,'source':_0x1466c7(0x334),'adminUser':_0x79a2a1['email'],'ladder':_0x4998d9}),console[_0x1466c7(0x51b)](_0x1466c7(0x293));}catch(_0x206acc){console[_0x1466c7(0x24c)](_0x1466c7(0x619),_0x206acc);}return alert(_0x1466c7(0x223)+_0x2d4f67+_0x1466c7(0x447)+_0x61864f['name']+'\x20('+_0x61864f[_0x1466c7(0x357)]+')'),currentLadder===_0x4998d9&&(loadPlayersData(),loadEloHistory(0x1)),!![];}catch(_0x490ccc){console['error'](_0x1466c7(0x50d),_0x490ccc),alert(_0x1466c7(0x5e8)+_0x490ccc[_0x1466c7(0x362)]);throw _0x490ccc;}}document[a4_0x182e79(0x511)](a4_0x182e79(0x2fb),()=>{const _0x3dcc26=a4_0x182e79,_0x31169d=document[_0x3dcc26(0x2e0)]('demote-form');_0x31169d&&_0x31169d['addEventListener']('submit',async _0x22e207=>{const _0x35dd03=_0x3dcc26;_0x22e207[_0x35dd03(0x5e1)]();const _0x3e7aa2=document[_0x35dd03(0x2e0)](_0x35dd03(0x3e9))['value'][_0x35dd03(0x352)](),_0x598629=document[_0x35dd03(0x313)](_0x35dd03(0x246))['value'];if(!_0x3e7aa2){alert(_0x35dd03(0x42a));return;}try{await demotePlayer(_0x3e7aa2,_0x598629),document['getElementById'](_0x35dd03(0x2e7))[_0x35dd03(0x3c2)]['remove'](_0x35dd03(0x3a4)),document[_0x35dd03(0x2e0)]('demote-username')[_0x35dd03(0x3bc)]='';}catch(_0x27f9b0){console[_0x35dd03(0x24c)](_0x35dd03(0x353),_0x27f9b0);}});});async function setCustomElo(_0x1e4c7c,_0x392df8,_0x446580){const _0x4fe1ba=a4_0x182e79;try{const _0x59b244=auth[_0x4fe1ba(0x1f5)];if(!_0x59b244||!isAdmin(_0x59b244[_0x4fe1ba(0x542)]))throw new Error(_0x4fe1ba(0x4e2));const _0x1b90b7=_0x446580==='D2'?_0x4fe1ba(0x3a2):_0x4fe1ba(0x52f),_0x30e3b6=_0x446580==='D2'?_0x4fe1ba(0x209):_0x4fe1ba(0x4c2),_0x2e2430=collection(db,_0x1b90b7),_0x23ad73=query(_0x2e2430,where(_0x4fe1ba(0x3f7),'==',_0x1e4c7c)),_0x6ec15c=await getDocs(_0x23ad73);if(_0x6ec15c[_0x4fe1ba(0x3f9)])throw new Error(_0x4fe1ba(0x508)+_0x446580+_0x4fe1ba(0x4f0));const _0xfd7455=_0x6ec15c[_0x4fe1ba(0x423)][0x0],_0x5a8517=_0xfd7455[_0x4fe1ba(0x35f)](),_0x34c693=_0x5a8517['eloRating']||0x4b0,_0x1123d7=writeBatch(db);_0x1123d7[_0x4fe1ba(0x310)](doc(db,_0x1b90b7,_0xfd7455['id']),{'eloRating':_0x392df8,'lastModifiedAt':serverTimestamp(),'lastModifiedBy':_0x59b244[_0x4fe1ba(0x542)]});const _0x2c0c10=doc(collection(db,_0x30e3b6));return _0x1123d7[_0x4fe1ba(0x516)](_0x2c0c10,{'player':_0x1e4c7c,'previousElo':_0x34c693,'newElo':_0x392df8,'timestamp':serverTimestamp(),'type':_0x4fe1ba(0x4b7),'modifiedBy':_0x59b244[_0x4fe1ba(0x542)],'gameMode':_0x446580}),await _0x1123d7[_0x4fe1ba(0x322)](),showNotification(_0x4fe1ba(0x616)+_0x1e4c7c+'\x20was\x20updated\x20from\x20'+_0x34c693+_0x4fe1ba(0x447)+_0x392df8,_0x4fe1ba(0x4b9)),currentLadder===_0x446580&&(loadDashboardOverview(),loadPlayersData(),loadEloHistory(0x1)),!![];}catch(_0x558224){console['error'](_0x4fe1ba(0x601),_0x558224);throw _0x558224;}}async function setUserRole(_0x1db99b,_0x4d8621,_0x4f8262){const _0x25c463=a4_0x182e79;try{const _0x3d1cce=auth[_0x25c463(0x1f5)];if(!_0x3d1cce||!isAdmin(_0x3d1cce['email']))throw new Error(_0x25c463(0x4e2));const _0x412a88=_0x4d8621?_0x4d8621['trim']():null,_0x53bf55=_0x412a88?_0x4f8262||_0x25c463(0x59a):null,[_0xf8666,_0x2873b8]=await Promise[_0x25c463(0x55a)]([getDocs(query(collection(db,'players'),where(_0x25c463(0x3f7),'==',_0x1db99b))),getDocs(query(collection(db,_0x25c463(0x3a2)),where('username','==',_0x1db99b)))]),_0x1c85a8=[];if(!_0xf8666['empty'])_0x1c85a8[_0x25c463(0x45e)]({'ref':_0xf8666[_0x25c463(0x423)][0x0][_0x25c463(0x625)],'source':'D1'});if(!_0x2873b8[_0x25c463(0x3f9)])_0x1c85a8[_0x25c463(0x45e)]({'ref':_0x2873b8[_0x25c463(0x423)][0x0][_0x25c463(0x625)],'source':'D2'});if(_0x1c85a8[_0x25c463(0x608)]===0x0){const [_0x34743c,_0x586739]=await Promise[_0x25c463(0x55a)]([getDocs(query(collection(db,_0x25c463(0x459)),where(_0x25c463(0x3f7),'==',_0x1db99b))),getDocs(query(collection(db,_0x25c463(0x376)),where(_0x25c463(0x3f7),'==',_0x1db99b)))]);if(!_0x34743c[_0x25c463(0x3f9)])_0x1c85a8[_0x25c463(0x45e)]({'ref':_0x34743c[_0x25c463(0x423)][0x0][_0x25c463(0x625)],'source':'NonParticipant'});if(!_0x586739[_0x25c463(0x3f9)])_0x1c85a8['push']({'ref':_0x586739[_0x25c463(0x423)][0x0]['ref'],'source':_0x25c463(0x3d8)});}if(_0x1c85a8[_0x25c463(0x608)]===0x0)throw new Error(_0x25c463(0x258)+_0x1db99b+_0x25c463(0x27b));const _0x5c3d9b=writeBatch(db);_0x1c85a8[_0x25c463(0x2b1)](_0x392034=>{const _0x1cd0f1=_0x25c463;console[_0x1cd0f1(0x51b)](_0x1cd0f1(0x380)+_0x1db99b+_0x1cd0f1(0x2f7)+_0x392034[_0x1cd0f1(0x3d4)]),!_0x412a88?_0x5c3d9b[_0x1cd0f1(0x310)](_0x392034[_0x1cd0f1(0x625)],{'roleName':deleteField(),'roleColor':deleteField(),'roleAssignedBy':deleteField(),'roleAssignedAt':deleteField()}):_0x5c3d9b['update'](_0x392034[_0x1cd0f1(0x625)],{'roleName':_0x412a88,'roleColor':_0x53bf55,'roleAssignedBy':_0x3d1cce[_0x1cd0f1(0x542)],'roleAssignedAt':serverTimestamp()});}),await _0x5c3d9b[_0x25c463(0x322)]();const _0x3f653b=_0x412a88?_0x25c463(0x549)+_0x412a88+_0x25c463(0x31f):_0x25c463(0x5f6);return showNotification(_0x3f653b+_0x25c463(0x5c7)+_0x1db99b+'\x22',_0x25c463(0x4b9)),!![];}catch(_0x58c672){console[_0x25c463(0x24c)]('Error\x20setting\x20user\x20role:',_0x58c672),showNotification(_0x25c463(0x2a1)+_0x58c672[_0x25c463(0x362)],_0x25c463(0x24c));throw _0x58c672;}}function showNotification(_0x1ae7e9,_0x3f58f2=a4_0x182e79(0x462)){const _0xda50b=a4_0x182e79,_0x151584=document[_0xda50b(0x3b6)](_0xda50b(0x39b));_0x151584['className']=_0xda50b(0x2e1)+_0x3f58f2,_0x151584[_0xda50b(0x398)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22notification-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+getNotificationIcon(_0x3f58f2)+_0xda50b(0x38d)+_0x1ae7e9+_0xda50b(0x221),document[_0xda50b(0x1da)][_0xda50b(0x5df)](_0x151584),setTimeout(()=>{const _0x35b733=_0xda50b;_0x151584['classList'][_0x35b733(0x4f1)](_0x35b733(0x3a4));},0xa);const _0x4d8a4f=setTimeout(()=>{closeNotification(_0x151584);},0x1388);_0x151584['querySelector'](_0xda50b(0x3d2))[_0xda50b(0x511)](_0xda50b(0x610),()=>{clearTimeout(_0x4d8a4f),closeNotification(_0x151584);});}function getNotificationIcon(_0x1299b6){const _0x3e3103=a4_0x182e79;switch(_0x1299b6){case _0x3e3103(0x4b9):return _0x3e3103(0x24b);case _0x3e3103(0x24c):return _0x3e3103(0x406);case _0x3e3103(0x51c):return'fa-exclamation-triangle';case'info':default:return _0x3e3103(0x3f6);}}function closeNotification(_0x160d9d){const _0xa5a4e4=a4_0x182e79;_0x160d9d[_0xa5a4e4(0x3c2)][_0xa5a4e4(0x3e5)](_0xa5a4e4(0x3a4)),setTimeout(()=>{const _0x339c82=_0xa5a4e4;_0x160d9d[_0x339c82(0x3e5)]();},0x12c);}function setupUserRolesSection(){const _0x173809=a4_0x182e79,_0x4cfb5c=document['getElementById']('load-users-data');_0x4cfb5c&&_0x4cfb5c['addEventListener'](_0x173809(0x610),function(){const _0x3cff78=_0x173809;this[_0x3cff78(0x3c2)][_0x3cff78(0x4f1)](_0x3cff78(0x47b)),this[_0x3cff78(0x398)]=_0x3cff78(0x321),loadUsersWithRoles()['then'](()=>{const _0x456bd8=_0x3cff78;this[_0x456bd8(0x3c2)][_0x456bd8(0x3e5)](_0x456bd8(0x47b)),this[_0x456bd8(0x398)]='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Users\x20Data';})[_0x3cff78(0x5b1)](_0x5cff7c=>{const _0x5b8098=_0x3cff78;console['error']('Error\x20loading\x20users:',_0x5cff7c),this[_0x5b8098(0x3c2)][_0x5b8098(0x3e5)](_0x5b8098(0x47b)),this['innerHTML']='<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error',setTimeout(()=>{const _0x1ee4ca=_0x5b8098;this[_0x1ee4ca(0x398)]='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Users\x20Data';},0xbb8);});});const _0x2e9594=document['getElementById']('add-new-role-btn');_0x2e9594&&_0x2e9594['addEventListener'](_0x173809(0x610),()=>{const _0x181fa1=_0x173809,_0x2958b4=document[_0x181fa1(0x2e0)]('set-role-modal');_0x2958b4&&_0x2958b4[_0x181fa1(0x3c2)][_0x181fa1(0x4f1)](_0x181fa1(0x3a4));});const _0x1b3c04=document[_0x173809(0x2e0)](_0x173809(0x5dc));_0x1b3c04&&_0x1b3c04[_0x173809(0x511)](_0x173809(0x20c),debounce(filterUsersTable,0x12c));const _0x10dae6=document[_0x173809(0x2e0)](_0x173809(0x442));_0x10dae6&&_0x10dae6[_0x173809(0x511)](_0x173809(0x395),filterUsersTable);}async function loadUsersWithRoles(){const _0x40b39b=a4_0x182e79,_0x444014=document[_0x40b39b(0x2e0)](_0x40b39b(0x505));if(!_0x444014)return;_0x444014[_0x40b39b(0x398)]='<tr><td\x20colspan=\x225\x22\x20class=\x22loading-cell\x22>Loading\x20users...</td></tr>';try{const [_0x3c5da7,_0x1e435e,_0x175436,_0x3b911a]=await Promise[_0x40b39b(0x55a)]([getDocs(collection(db,_0x40b39b(0x52f))),getDocs(collection(db,_0x40b39b(0x3a2))),getDocs(collection(db,_0x40b39b(0x459))),getDocs(collection(db,'userProfiles'))]),_0x16c6f0=new Map();function _0xae0fe3(_0xc44c70,_0xd90f23){const _0x4c2144=_0x40b39b;_0xc44c70[_0x4c2144(0x2b1)](_0x3ea21=>{const _0x5a6604=_0x4c2144,_0x28afbf=_0x3ea21[_0x5a6604(0x35f)]();if(!_0x28afbf[_0x5a6604(0x3f7)])return;if(!_0x16c6f0[_0x5a6604(0x495)](_0x28afbf[_0x5a6604(0x3f7)]))_0x16c6f0[_0x5a6604(0x516)](_0x28afbf[_0x5a6604(0x3f7)],{'username':_0x28afbf['username'],'roleName':_0x28afbf[_0x5a6604(0x386)]||null,'roleColor':_0x28afbf[_0x5a6604(0x50b)]||null,'roleAssignedBy':_0x28afbf['roleAssignedBy']||null,'roleAssignedAt':_0x28afbf['roleAssignedAt']||null,'sources':[_0xd90f23]});else{const _0x48fdcc=_0x16c6f0[_0x5a6604(0x40a)](_0x28afbf[_0x5a6604(0x3f7)]);_0x28afbf[_0x5a6604(0x386)]&&(!_0x48fdcc['roleName']||_0xd90f23==='D1'||_0xd90f23==='D2')&&(_0x48fdcc[_0x5a6604(0x386)]=_0x28afbf[_0x5a6604(0x386)],_0x48fdcc['roleColor']=_0x28afbf['roleColor'],_0x48fdcc[_0x5a6604(0x22f)]=_0x28afbf[_0x5a6604(0x22f)],_0x48fdcc[_0x5a6604(0x21f)]=_0x28afbf[_0x5a6604(0x21f)]),!_0x48fdcc[_0x5a6604(0x225)][_0x5a6604(0x202)](_0xd90f23)&&_0x48fdcc[_0x5a6604(0x225)][_0x5a6604(0x45e)](_0xd90f23);}});}_0xae0fe3(_0x3c5da7,'D1'),_0xae0fe3(_0x1e435e,'D2'),_0xae0fe3(_0x175436,_0x40b39b(0x5fc)),_0xae0fe3(_0x3b911a,_0x40b39b(0x342));const _0x32a06d=Array[_0x40b39b(0x562)](_0x16c6f0[_0x40b39b(0x3f0)]())[_0x40b39b(0x4cd)]((_0x303b99,_0xd7e9e2)=>_0x303b99[_0x40b39b(0x3f7)][_0x40b39b(0x41d)](_0xd7e9e2['username']));if(_0x32a06d['length']===0x0){_0x444014[_0x40b39b(0x398)]=_0x40b39b(0x219);return;}_0x444014[_0x40b39b(0x398)]='',_0x32a06d['forEach'](_0xc5d547=>{const _0x400f3d=_0x40b39b,_0x487b28=document[_0x400f3d(0x3b6)]('tr');_0x487b28[_0x400f3d(0x45c)][_0x400f3d(0x3f7)]=_0xc5d547[_0x400f3d(0x3f7)],_0x487b28[_0x400f3d(0x45c)]['roleName']=_0xc5d547[_0x400f3d(0x386)]||'',_0x487b28[_0x400f3d(0x45c)][_0x400f3d(0x50b)]=_0xc5d547['roleColor']||_0x400f3d(0x59a);const _0x253587=_0xc5d547[_0x400f3d(0x21f)]?new Date(_0xc5d547[_0x400f3d(0x21f)]['seconds']*0x3e8)[_0x400f3d(0x466)]():_0x400f3d(0x1e8),_0x3d2699=_0xc5d547[_0x400f3d(0x386)]?_0x400f3d(0x455)+_0xc5d547['roleColor']+_0x400f3d(0x31a)+getContrastColor(_0xc5d547['roleColor'])+';\x22>'+_0xc5d547['roleName']+_0x400f3d(0x2c9):_0x400f3d(0x2f3);_0x487b28[_0x400f3d(0x398)]=_0x400f3d(0x256)+_0xc5d547['username']+_0x400f3d(0x2f4)+_0xc5d547[_0x400f3d(0x225)][_0x400f3d(0x4e1)](',\x20')+_0x400f3d(0x3b4)+_0x3d2699+_0x400f3d(0x211)+(_0xc5d547['roleAssignedBy']||_0x400f3d(0x1e8))+_0x400f3d(0x211)+_0x253587+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-role-btn\x22\x20data-username=\x22'+_0xc5d547['username']+_0x400f3d(0x285)+(_0xc5d547[_0x400f3d(0x386)]?_0x400f3d(0x1f1)+_0xc5d547[_0x400f3d(0x3f7)]+_0x400f3d(0x604):'')+_0x400f3d(0x34c),_0x444014[_0x400f3d(0x5df)](_0x487b28);}),document[_0x40b39b(0x61b)](_0x40b39b(0x448))[_0x40b39b(0x2b1)](_0x5cb84a=>{const _0xee8b3d=_0x40b39b;_0x5cb84a[_0xee8b3d(0x511)](_0xee8b3d(0x610),()=>{const _0x3a32d3=_0xee8b3d,_0x322fe5=_0x5cb84a['dataset'][_0x3a32d3(0x3f7)];openRoleEditModal(_0x322fe5);});}),document[_0x40b39b(0x61b)](_0x40b39b(0x39a))['forEach'](_0x4f3495=>{const _0x48e8d1=_0x40b39b;_0x4f3495[_0x48e8d1(0x511)](_0x48e8d1(0x610),()=>{const _0x1f4640=_0x48e8d1,_0x1adbe4=_0x4f3495['dataset']['username'];confirm('Are\x20you\x20sure\x20you\x20want\x20to\x20remove\x20the\x20role\x20from\x20'+_0x1adbe4+'?')&&setUserRole(_0x1adbe4,null,null)[_0x1f4640(0x38f)](()=>loadUsersWithRoles())[_0x1f4640(0x5b1)](_0x575407=>console['error'](_0x1f4640(0x2c8),_0x575407));});});}catch(_0x5cffb1){console[_0x40b39b(0x24c)](_0x40b39b(0x609),_0x5cffb1),_0x444014[_0x40b39b(0x398)]=_0x40b39b(0x57e);}}function openRoleEditModal(_0x3bf560){const _0x2ac56d=a4_0x182e79;console['log'](_0x2ac56d(0x577),_0x3bf560);const _0x3a6204=document['getElementById']('set-role-modal'),_0x247ac4=document[_0x2ac56d(0x2e0)](_0x2ac56d(0x401)),_0x36a72a=document[_0x2ac56d(0x2e0)](_0x2ac56d(0x52c));if(!_0x3a6204){console['error']('CRITICAL:\x20Role\x20modal\x20element\x20(#set-role-modal)\x20not\x20found\x20in\x20the\x20DOM!'),alert(_0x2ac56d(0x62a));return;}console[_0x2ac56d(0x51b)](_0x2ac56d(0x5f7),_0x3a6204);_0x247ac4?(_0x247ac4[_0x2ac56d(0x3bc)]=_0x3bf560,console[_0x2ac56d(0x51b)](_0x2ac56d(0x25e)+_0x3bf560)):console['warn']('Username\x20input\x20field\x20(#role-username)\x20not\x20found\x20in\x20modal.');const _0x8ec9c7=document[_0x2ac56d(0x313)](_0x2ac56d(0x540)+_0x3bf560+'\x22]');if(_0x8ec9c7&&_0x36a72a){const _0x514465=_0x8ec9c7[_0x2ac56d(0x45c)]['role'];_0x36a72a[_0x2ac56d(0x3bc)]=_0x514465===_0x2ac56d(0x583)?'':_0x514465,console['log']('Role\x20select\x20set\x20to:\x20'+_0x36a72a[_0x2ac56d(0x3bc)]+_0x2ac56d(0x5f9)+_0x514465+')');}else{if(!_0x8ec9c7)console[_0x2ac56d(0x37b)](_0x2ac56d(0x28b)+_0x3bf560+_0x2ac56d(0x634));if(!_0x36a72a)console[_0x2ac56d(0x37b)](_0x2ac56d(0x526));if(_0x36a72a)_0x36a72a[_0x2ac56d(0x3bc)]='';}console[_0x2ac56d(0x51b)](_0x2ac56d(0x484)),_0x3a6204[_0x2ac56d(0x3c2)]['add'](_0x2ac56d(0x3a4));const _0x45a7c6=document['getElementById'](_0x2ac56d(0x4af));_0x45a7c6?(console['log']('Attaching\x20cancel\x20button\x20listener.'),_0x45a7c6[_0x2ac56d(0x36c)](_0x2ac56d(0x610),closeModalHandler),_0x45a7c6[_0x2ac56d(0x511)](_0x2ac56d(0x610),closeModalHandler)):console[_0x2ac56d(0x37b)](_0x2ac56d(0x1f7)),console[_0x2ac56d(0x51b)](_0x2ac56d(0x429)),_0x3a6204[_0x2ac56d(0x36c)](_0x2ac56d(0x610),closeModalBackgroundHandler),_0x3a6204['addEventListener']('click',closeModalBackgroundHandler);}function closeModalBackgroundHandler(_0x490c2f){const _0x3c0f81=a4_0x182e79;_0x490c2f[_0x3c0f81(0x56d)]===this&&closeModalHandler();}function closeModalHandler(){const _0x148b1c=a4_0x182e79,_0x55810a=document[_0x148b1c(0x2e0)](_0x148b1c(0x4f7));_0x55810a&&(_0x55810a['classList'][_0x148b1c(0x3e5)](_0x148b1c(0x3a4)),_0x55810a[_0x148b1c(0x36c)](_0x148b1c(0x610),closeModalBackgroundHandler));}function filterUsersTable(){const _0x2cea6e=a4_0x182e79,_0xc45aa3=document[_0x2cea6e(0x2e0)](_0x2cea6e(0x5dc))?.[_0x2cea6e(0x3bc)][_0x2cea6e(0x5ef)]()||'',_0x4cf34a=document['getElementById'](_0x2cea6e(0x442))?.['value']||_0x2cea6e(0x55a),_0x312797=document[_0x2cea6e(0x61b)]('#users-table-body\x20tr');let _0x4e502e=0x0;_0x312797['forEach'](_0x4840e3=>{const _0xec25ce=_0x2cea6e;if(_0x4840e3[_0xec25ce(0x313)](_0xec25ce(0x5db))||_0x4840e3[_0xec25ce(0x313)](_0xec25ce(0x489))||_0x4840e3[_0xec25ce(0x313)]('.error-state'))return;const _0x21916b=_0x4840e3[_0xec25ce(0x45c)][_0xec25ce(0x3f7)]?.['toLowerCase']()||'',_0x4498e9=_0x4840e3['dataset'][_0xec25ce(0x34b)]||_0xec25ce(0x583),_0x2429dc=_0x21916b[_0xec25ce(0x202)](_0xc45aa3),_0x1fb7b3=_0x4cf34a===_0xec25ce(0x55a)||_0x4498e9===_0x4cf34a;_0x2429dc&&_0x1fb7b3?(_0x4840e3[_0xec25ce(0x2d9)][_0xec25ce(0x404)]='',_0x4e502e++):_0x4840e3['style']['display']=_0xec25ce(0x583);});if(_0x4e502e===0x0&&_0x312797[_0x2cea6e(0x608)]>0x0){const _0x2bc8cf=document[_0x2cea6e(0x2e0)](_0x2cea6e(0x505));if(_0x2bc8cf){if(!_0x2bc8cf[_0x2cea6e(0x313)](_0x2cea6e(0x44b))){const _0x2b52ee=document[_0x2cea6e(0x3b6)]('tr');_0x2b52ee[_0x2cea6e(0x3c2)][_0x2cea6e(0x4f1)](_0x2cea6e(0x412)),_0x2b52ee[_0x2cea6e(0x398)]='<td\x20colspan=\x225\x22\x20class=\x22empty-state\x22>No\x20users\x20match\x20your\x20filters</td>',_0x2bc8cf[_0x2cea6e(0x5df)](_0x2b52ee);}}}else{const _0x373b2a=document[_0x2cea6e(0x313)](_0x2cea6e(0x44b));_0x373b2a&&_0x373b2a[_0x2cea6e(0x3e5)]();}}function setupManageArticlesSection(){const _0x559a1e=a4_0x182e79,_0x2b0fde=document[_0x559a1e(0x2e0)](_0x559a1e(0x586));_0x2b0fde&&_0x2b0fde[_0x559a1e(0x511)](_0x559a1e(0x610),function(){const _0x3bf65f=_0x559a1e;this[_0x3bf65f(0x3c2)][_0x3bf65f(0x4f1)](_0x3bf65f(0x47b)),this['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...',loadArticles()[_0x3bf65f(0x38f)](()=>{const _0x4b7d85=_0x3bf65f;this[_0x4b7d85(0x3c2)]['remove'](_0x4b7d85(0x47b)),this[_0x4b7d85(0x398)]=_0x4b7d85(0x2a6);})['catch'](_0x472f02=>{const _0x171493=_0x3bf65f;console[_0x171493(0x24c)](_0x171493(0x408),_0x472f02),this[_0x171493(0x3c2)][_0x171493(0x3e5)](_0x171493(0x47b)),this[_0x171493(0x398)]=_0x171493(0x3ba),setTimeout(()=>{const _0xa062fb=_0x171493;this['innerHTML']=_0xa062fb(0x2a6);},0xbb8);});});const _0x2d8147=document[_0x559a1e(0x2e0)](_0x559a1e(0x216));_0x2d8147?(console[_0x559a1e(0x51b)](_0x559a1e(0x364)),_0x2d8147['style'][_0x559a1e(0x404)]=_0x559a1e(0x4e9),_0x2d8147[_0x559a1e(0x511)]('click',()=>{openArticleModal();})):console['error']('Setup\x20Manage\x20Articles:\x20Create\x20Article\x20button\x20not\x20found!');const _0x1913a5=document['getElementById'](_0x559a1e(0x3ac));_0x1913a5&&_0x1913a5[_0x559a1e(0x511)](_0x559a1e(0x494),_0x102b9c=>{const _0x59ffea=_0x559a1e;_0x102b9c[_0x59ffea(0x5e1)](),saveArticle();});const _0x522019=document['getElementById'](_0x559a1e(0x396));_0x522019&&_0x522019[_0x559a1e(0x511)]('click',()=>{closeArticleModal();});const _0x327edb=document['querySelector'](_0x559a1e(0x4e3));_0x327edb&&_0x327edb[_0x559a1e(0x511)](_0x559a1e(0x610),()=>{closeArticleModal();});const _0x59cc42=document[_0x559a1e(0x2e0)](_0x559a1e(0x4ad));_0x59cc42&&_0x59cc42[_0x559a1e(0x511)](_0x559a1e(0x610),_0x1d8949=>{const _0x41c5d2=_0x559a1e;_0x1d8949[_0x41c5d2(0x56d)]===_0x59cc42&&closeArticleModal();});}function a4_0x5385(){const _0x2fcdad=['activity-chart','lastVisible','Trophy\x20created\x20successfully','result','matchId','Article\x20not\x20found','No\x20email','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22assign-trophy-btn\x22\x20data-id=\x22','Quick\x20edit\x20form\x20is\x20incomplete.\x20Check\x20the\x20HTML\x20structure.','search','Failed\x20to\x20find\x20match:\x20','create-test-match-modal','Modal\x20element\x20not\x20found!','Error\x20opening\x20quick\x20edit\x20modal:','This\x20will\x20add\x20a\x20points\x20field\x20(set\x20to\x200)\x20for\x20all\x20users\x20who\x20don\x27t\x20have\x20one\x20yet.\x20Continue?','Error\x20loading\x20dashboard\x20data:','No\x20description','keys','approvedMatches','highlight-players-container','article-modal','Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20trophy\x20definition?\x20This\x20action\x20cannot\x20be\x20undone\x20and\x20might\x20affect\x20players\x20who\x20have\x20been\x20awarded\x20this\x20trophy.','cancel-role-btn','trophy-image-preview','highlights','matches-prev-page','<tr><td\x20colspan=\x226\x22\x20class=\x22loading-cell\x22>Loading\x20players...</td></tr>','ribbon-item','.edit-ribbons-btn','<div\x20class=\x22no-results\x22>No\x20users\x20found</div>','admin_modification','Failed\x20to\x20load\x20trophy\x20data','success','.sidebar-nav\x20.nav-item','No\x20radio\x20button\x20found\x20for\x20current\x20ladder:','data-id','edit-highlight-title-input','playerRibbonsD2','Dashboard\x20data\x20loaded\x20successfully','quick-points-reason','.delete-trophy-btn','eloHistory','confirmResimulateMatch','Error\x20deleting\x20highlight:\x20','common','name-asc','__proto__','author','subtract','Closing\x20create\x20test\x20match\x20modal','edit-match-winner-score','.error-state','sort','https://www.youtube.com/embed/','cancel-trophy-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Ribbons\x20data\x20loaded\x20successfully','Manage\x20Ribbons\x20section\x20initialized','openResimulateModal\x20called!','match','set-elo-btn','Error\x20initializing\x20admin\x20dashboard:','high-points','mapCreator',',\x20giving\x20default\x20access','Error\x20loading\x20matches:','highlight-match-info','RejectedD3','create-new-trophy-btn','input[name=\x22set-elo-ladder\x22]:checked','Error\x20loading\x20match\x20data:','Loading\x20points\x20data...','join','Unauthorized:\x20Admin\x20access\x20required','#article-modal\x20.close-btn','migrate-points-btn','achievement-type','manage-ribbons','edit-highlight-matchDate-input','current-ladder-display','block','Migration\x20Summary:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20Total\x20users\x20checked:\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-match-btn\x20btn-small\x22\x20data-id=\x22','Match\x20highlight\x20button\x20clicked','edit-match-loser-demo','src','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20History\x20Data','\x20ladder','add','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22map-cell\x22>','<tr><td\x20colspan=\x224\x22\x20class=\x22loading-cell\x22>Loading\x20articles...</td></tr>','Player\x20Name\x20is\x20required','\x20ladder!','edit-wins','set-role-modal','\x20users','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22user-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user\x20user-icon\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22user-name\x22>','0.6','previousPoints','Match\x20not\x20found','userId','No\x20specific\x20permissions\x20for\x20user\x20','reset-history-filters','Promoting\x20player\x20to\x20','confirm-resimulate-btn','<tr><td\x20colspan=\x225\x22\x20class=\x22loading-cell\x22>Loading\x20user\x20points...</td></tr>','img','3786648MXdSWB','users-table-body','#matches-table-body\x20tr','opponent','Player\x20not\x20found\x20in\x20','\x22\x20awarded\x20to\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22points-badge\x20','roleColor','Setting\x20up\x20Manage\x20Highlights\x20section','Error\x20demoting\x20player:','Load\x20inactive\x20players\x20data\x20clicked','#players-table-body\x20tr','rgba(255,\x20255,\x20255,\x200.1)','addEventListener','Map\x20Creator\x20is\x20required','Monday','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22winner-cell\x22>','\x20not\x20found\x20in\x20any\x20ladder','set','resimulation','achievement','currentTarget','Page\x201','log','warning','assign-trophy-rarity','manage-points','\x27\x20has\x20permissions:','Error\x20loading\x20trophy\x20data:','startDate','Create\x20test\x20match\x20button\x20clicked','Modal\x20close\x20button\x20clicked','quick-edit-display-name','new-player-username','Role\x20select\x20field\x20(#user-role)\x20not\x20found\x20in\x20modal.','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22user-email\x22>','#000000','quick-edit-user-id','Error\x20loading\x20points\x20overview:','rankDistribution','user-role','losses','manage-matches','players','No\x20users\x20needed\x20points\x20field\x20initialization','Error\x20searching\x20for\x20user','Load\x20players\x20data\x20clicked','{}.constructor(\x22return\x20this\x22)(\x20)','ribbon-type-select','resimulate-modal','Error\x20updating\x20player:','No\x20ELO\x20history\x20found\x20for\x20player\x20','20px','article-author','ribbon-target-user','\x20ladder,\x20page\x20','Error\x20initializing\x20points:\x20','Unknown','Invalid\x20action','exception','#users-table-body\x20tr[data-username=\x22','\x20Level\x20','email','new-player-elo','edit-match-loser-comment','points-action','Setting\x20up\x20create\x20test\x20match\x20button','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Dashboard\x20Data','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Users\x20Data','Role\x20\x22','search-result-item','Error\x20applying\x20filters:','article-content','Error\x20checking\x20','selected-user-name','highlight-map-creator-container','date','Match\x20ID\x20is\x20required','name-desc','reset','points','non-participant','Manage\x20Matches\x20section\x20initialized\x20with\x20resimulate\x20functionality','#FFD700','Found\x20ELO\x20history\x20for\x20player\x20','trophy-rarity','all','load-inactive-players-data','button[type=\x22submit\x22]','Admin\x20Adjustment','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Ladder:</strong>\x20','Error\x20loading\x20trophy\x20definitions:','previousElo','lastPointsModified','from','trophyDefinitions','Attempting\x20to\x20demote\x20','textContent','assign-trophy-modal','color','user-roles-section','User\x20','bind','Match\x20resimulated\x20successfully!\x20','d3-prev-page','target','Player\x20\x22','All\x20fields\x20are\x20required','Error\x20opening\x20edit\x20modal:','articles','highlight-video-preview','player-search','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22score-cell\x22>','\x20points</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.ladder-switch\x20input[value=\x22D1\x22]','Attempting\x20to\x20open\x20role\x20edit\x20modal\x20for:','Sidebar\x20navigation\x20initialized\x20with\x20permissions','.form-group,\x20.form-row','Error\x20loading\x20ribbons:','\x20for\x20points\x20initialization','quick-edit-email','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-highlight-btn\x22\x20data-id=\x22','<tr><td\x20colspan=\x225\x22\x20class=\x22error-state\x22>Error\x20loading\x20users</td></tr>','Delete\x20Trophy:\x20No\x20trophy\x20ID\x20provided.','.quick-edit-btn','validation-results-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x226\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20highlights:\x20','none','Create\x20test\x20match\x20form\x20not\x20found\x20in\x20DOM','Submit\x20button\x20clicked\x20directly','load-articles-data','alt','settings','Error\x20loading\x20ELO\x20history:','apply-matches-filters','Error\x20removing\x20ribbon:','medium-points','playerRibbons','elo-history','11128BqtWin','Could\x20not\x20find\x20player\x20documents','prototype','players-ladder-selector','trophy-rarity\x20','Title\x20and\x20content\x20are\x20required','login.html','Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20player?\x20This\x20action\x20cannot\x20be\x20undone.','Wednesday','Adding\x20player\x20','filter','#808080','resimulateMatch','19359PsNSKn','getAttribute','desc','quick-add','rarity','timestamp','highlight-achievement-details-container','\x20added\x20successfully\x20to\x20','highlight-match-info-container','points-overview-search','achievementType','Error\x20modifying\x20points:','Load\x20articles\x20data\x20clicked','fromDate','Error',').\x20','assign-trophy-description','return\x20(function()\x20','Error\x20removing\x20ribbon','input[name=\x22promote-ladder\x22]:checked','inactive-players-table-body','catch','player','exists','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><span\x20class=\x22highlight-type\x20','<tr><td\x20colspan=\x225\x22\x20class=\x22loading-cell\x22>Loading\x20ribbons\x20data...</td></tr>','destroy','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22user-points\x22>','9081450LeUwgW','cancel-assign-btn','Loser\x20','Loaded\x20','<div\x20class=\x22chart-error\x22>Error\x20loading\x20chart\x20data</div>','Failed\x20to\x20save\x20article:\x20','Points\x20data\x20loaded\x20successfully','<div\x20class=\x22loading\x22>Searching...</div>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Initializing...','\x20total\x20players\x20in\x20the\x20','</td></tr>','activity','Promotion\x20notification\x20sent\x20to\x20Discord\x20bot','Trophy\x20\x22','doughnut','\x20for\x20user\x20\x22','flex','onerror','data-match-id','load-matches-data','\x20history\x20entries\x20for\x20user\x20','Failed\x20to\x20update\x20player:\x20','#ffffff','Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20highlight?\x20This\x20cannot\x20be\x20undone.','Error\x20loading\x20article\x20data:','page','\x20Successfully\x20initialized\x20points\x20field\x20for\x20','load-users-data','opacity','\x20section','Unranked','No\x20user\x20ID\x20found\x20on\x20button','load-elo-history-data','cells','creator','.loading-cell','user-search','winnerUsername','initial_placement','appendChild','points-asc','preventDefault','videoId','Modal\x20should\x20now\x20be\x20visible','cancel-quick-edit','lastUpdated','openResimulateModal','approvedMatchesD2','Error\x20demoting\x20player:\x20','Error\x20loading\x20inactive\x20players:','manage-ranks','Error\x20saving\x20match:','Error\x20adding\x20ribbon','rgba(211,\x2047,\x2047,\x200.7)','quick-edit-current-points','toLowerCase','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22match-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4>Match\x20Details:</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Winner:</strong>\x20','You\x20must\x20be\x20logged\x20in\x20to\x20save\x20articles','points-history-table-body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20Users\x20who\x20already\x20had\x20points:\x20','Create\x20test\x20match\x20button\x20not\x20found\x20in\x20DOM','points-desc','Role\x20removed','Modal\x20element\x20found:','Featured\x20Creator','\x20(based\x20on\x20data-role:\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-article-btn\x22\x20data-id=\x22','loserScore','Non-Participant','Setting\x20up\x20Manage\x20Matches\x20section','Found\x20','previousElementSibling','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Loser:</strong>\x20','Error\x20setting\x20custom\x20ELO:','Queued\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22Remove\x20Role\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20<!--\x20Changed\x20icon\x20-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22elo-change\x20','Close\x20button\x20not\x20found\x20in\x20quick\x20edit\x20modal','match-details-container','length','Error\x20loading\x20users:','\x20from\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Match\x20ID:</strong>\x20','edit-match-ladder','inactive-days-filter','\x20(+','action','click','imageUrl','points-reason','edit-highlight-playerProfileUrl-input','<tr><td\x20colspan=\x227\x22\x20class=\x22loading-cell\x22>Applying\x20filters...</td></tr>','playerProfileUrl','ELO\x20rating\x20for\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22previous-elo\x22>','edit-highlight-type-select','Failed\x20to\x20send\x20Discord\x20notification:','.view-player-btn','querySelectorAll','Query\x20executed.\x20Empty:','Creator\x20highlight\x20button\x20clicked','\x20\x20','Failed\x20to\x20update\x20points:\x20','user-search-results','history-type-filter','<tr><td\x20colspan=\x227\x22\x20class=\x22loading-cell\x22>Loading\x20history...</td></tr>','Demotion','Error\x20loading\x20user\x20points\x20history:','ref','trophy-name','test-match-winner-username','Test\x20match','loserName','Error:\x20Could\x20not\x20find\x20the\x20role\x20editing\x20dialog.','Error\x20updating\x20points:','rank-distribution-chart','map','Setting\x20permissions\x20based\x20on\x20role:\x20','highlight-map','Trophy\x20ID\x20and\x20username\x20are\x20required','playerRibbonsD3','Error\x20adding\x20player:\x20','\x20(loser)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Score:</strong>\x20','\x20not\x20found.','Quick\x20edit\x20form\x20elements\x20missing\x20from\x20HTML','Never\x20played','Error\x20deleting\x20match:','approvedAt','RejectedD2','#50C878','Loading\x20dashboard\x20overview\x20data...','highlight-id','body','Failed\x20to\x20save\x20match:\x20','Untitled','edit-match-loser','.type','Please\x20enter\x20a\x20valid\x20username','highlight-video-id','promotion','pointsHistory','manage-trophies','content','Error\x20loading\x20dashboard:','Failed\x20to\x20resimulate\x20match:\x20','createdAt','N/A','Points\x20modified\x20successfully','\x20collection...','Opening\x20create\x20test\x20match\x20modal','highlight-map-container','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-btn\x22\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22timestamp\x22>','eloHistoryD3','Modal\x20setup\x20complete','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22remove-role-btn\x22\x20data-username=\x22','matches-start-date','store-item-select','Modal\x20cancel\x20button\x20clicked','currentUser','quick-edit-points-form','Cancel\x20button\x20(#cancel-role-btn)\x20not\x20found\x20in\x20modal.','<i\x20class=\x22fas\x20fa-times\x22></i>\x20No','Defaulted\x20to\x20D1\x20ladder','MAX_SAFE_INTEGER','d2-next-page','current-ribbon-user','\x20ELO\x20history\x20entries.\x20','quick-points-amount','highlight-map-version-container','Found\x20specific\x20role:\x20','edit-match-map','includes','low-points','edit-highlight-achievementPlayer-input','Tuesday','YouTube\x20Video\x20ID*','Collection\x20reference\x20created:','Create\x20test\x20match\x20form\x20submitted','eloHistoryD2','backgroundColor','\x20before\x20match:\x20','input','Edit\x20Match:\x20','level','.delete-btn','rejected-count','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','Inactive\x20players\x20section\x20initialized','6350470mdZNQg','highlight-match-link-container','setHours','create-new-article-btn','loading-cell','input[name=\x22test-match-ladder\x22]','<tr><td\x20colspan=\x225\x22\x20class=\x22empty-state\x22>No\x20users\x20found</td></tr>','.view-history-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Current\x20Winner\x20ELO:</strong>\x20','matches-next-page','highlight-match-date-container','\x22\x20title=\x22Edit\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-edit\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-highlight-btn\x22\x20data-id=\x22','roleAssignedAt','sendPromotionNotification','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22close-notification\x22></button>\x0a\x20\x20\x20\x20','reduce','Successfully\x20demoted\x20','string','sources','Saturday','toDate','add-player-form','\x20matches\x20for\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Map:</strong>\x20','lastMatch','uid','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Players\x20Data','trophy-id','roleAssignedBy','Store\x20item\x20awarded\x20successfully','1px\x20solid\x20rgba(255,\x20193,\x207,\x200.3)','\x22\x20title=\x22View\x20Points\x20History\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-history\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Points\x20field\x20initialized\x20for\x20','loserUsername','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Current\x20Loser\x20ELO:</strong>\x20','Error\x20finding\x20match:','keypress','highlight-winner-name','trophy-modal-title','Failed\x20to\x20delete\x20match:\x20','Error\x20saving\x20highlight:\x20','matchLink','highlight-modal-title','Highlight\x20created\x20successfully!','Trophy\x20Preview','#inactive-players-table-body\x20tr','Essential\x20highlight\x20modal\x20elements\x20not\x20found!','Removed\x20','set-elo-username','<tr><td\x20colspan=\x225\x22\x20class=\x22loading-cell\x22>Loading\x20trophies...</td></tr>','Quick\x20edit\x20modal\x20found,\x20setting\x20up\x20events...','input[name=\x22demote-ladder\x22]:checked','Create\x20Article','getRankName','highlight-title-container','Current\x20user:','fa-check-circle','error','highlight-achievement-image','seconds','Edit\x20Article','edit-match-title','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Inactive\x20Players','highlight-creator-image','edit-match-loser-score','#CD7F32','award-reason','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','name','User\x20\x22','Won','Emerald','highlight-loser-score','Successfully\x20promoted\x20','<tr><td\x20colspan=\x225\x22\x20class=\x22empty-state\x22>No\x20trophy\x20definitions\x20found</td></tr>','Username\x20input\x20set\x20to:\x20','Error\x20opening\x20assign\x20trophy\x20modal:','Creating\x20test\x20match\x20without\x20player\x20validation...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','error-state','negative-change','<tr><td\x20colspan=\x226\x22\x20class=\x22empty-state\x22>No\x20highlights\x20found</td></tr>','trophy-description','Please\x20fill\x20all\x20fields','trophies-table-body','Player\x20is\x20already\x20at\x20maximum\x20rank\x20(Emerald)\x20in\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22admin-action\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Player\x20is\x20already\x20at\x20minimum\x20rank\x20(Unranked)\x20in\x20','.delete-article-btn','createdBy','Role\x20\x27','Load\x20users\x20data\x20clicked','Quick\x20edit\x20modal\x20not\x20found\x20in\x20the\x20page','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22rank\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22rank-badge\x22\x20style=\x22background-color:\x20','No\x20matches\x20found','Modal\x20background\x20clicked','Load\x20history\x20data\x20clicked','searchTerm','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22quick-edit-btn\x22\x20data-user-id=\x22','trophy-preview-img','replaceChild','Error\x20saving\x20trophy:','pendingResimulateData','Switched\x20to\x20','\x22\x20not\x20found\x20in\x20any\x20collection','User\x20has\x20','highlight-modal','getDay','Displaying\x20','set-elo-form','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-coins\x22></i>\x20','Subtracted\x20','cancel-edit-btn','highlight-match-date','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-edit\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Create\x20New\x20','article-image-url','Please\x20select\x20a\x20user\x20and\x20enter\x20a\x20valid\x20amount','Player\x20deleted\x20successfully','edit-highlight-videoId-input','Table\x20row\x20for\x20user\x20','Load\x20ribbons\x20data\x20clicked','W\x20/\x20','highlight-player-profile-container','playerId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x227\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20applying\x20filters:\x20','Error\x20adding\x20player:','promote-player-btn','Demotion\x20notification\x20sent\x20to\x20Discord\x20bot','L\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-btn\x22\x20data-id=\x22','playersD3','demotedBy','edit-elo','Error\x20saving\x20highlight:','Failed\x20to\x20modify\x20points:\x20','No\x20reason\x20provided','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-sm\x20edit-ribbons-btn\x22\x20data-username=\x22','highlight-player-profile','<tr><td\x20colspan=\x227\x22\x20class=\x22empty-state\x22>No\x20matches\x20found</td></tr>','\x20inactive\x20players','max','edit-match-id','Error:\x20','edit-match-loser-suicides','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22player\x22>','highly-inactive','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x226\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20players:\x20','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Articles','Deleting\x20match\x20','ribbon-user-search','Cancel\x20button\x20not\x20found','manage-levels-ribbons','15px','Error\x20awarding\x20item:','split','bar','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash\x22></i>\x20Remove\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20ladder.\x20Click\x20\x22Load\x20Data\x22\x20to\x20refresh.','forEach','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Date:</strong>\x20','highlight-achievement-player-container','userTrophies','pendingMatchesD2','Bronze','type','wins','Load\x20highlights\x20data\x20clicked','Simple\x20test\x20match\x20created\x20successfully','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22trophy-image-cell\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22type\x22>','Achievement\x20highlight\x20button\x20clicked','ribbons-overview-table-body','find','201036hCyvbP','Never','apply','Error\x20loading\x20match\x20for\x20deletion:','testFirebaseConnection','data-ladder','closest','No\x20position\x20changes\x20needed.','Error\x20removing\x20role:','</span>','Create\x20test\x20match\x20modal\x20not\x20found\x20in\x20DOM','edit-highlight-mapVersion-input','\x22\x20title=\x22Edit\x20Match\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-match-btn\x20btn-small\x20btn-danger\x22\x20data-id=\x22','<tr><td\x20colspan=\x226\x22\x20class=\x22empty-state\x22>No\x20players\x20found</td></tr>','Demoting\x20player\x20to\x20','Failed\x20to\x20load\x20player\x20data','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Articles\x20Data','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Map:</strong>\x20','daysSinceMatch','<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error\x20-\x20Try\x20Again','edit-match-winner-suicides','user-ribbon-management','parentNode','edit-match-modal','Setting\x20up\x20matches\x20action\x20buttons...','style','Failed\x20to\x20delete\x20player:\x20','points-user-search','\x20-\x20','Please\x20enter\x20valid\x20username\x20and\x20ELO','edit-highlight-id','set-elo-ladder','getElementById','notification\x20','Trophy\x20not\x20found','Failed\x20to\x20create\x20simple\x20test\x20match:\x20','ladder','You\x20must\x20be\x20logged\x20in\x20to\x20assign\x20trophies','Error\x20loading\x20highlights:','demote-modal','11866TSUdVl','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>Level:\x20','Set\x20to\x20','Username\x20','newElo','promotedBy','\x20(from\x20','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Trophies\x20Data','\x27</td>','Delete\x20match\x20clicked:','Highlight\x20not\x20found','<span\x20class=\x22no-role\x22>None</span>','\x20<span\x20class=\x22user-source\x22>(','nonexistent','highlight-achievement-player','\x20in\x20','create-match-highlight-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pendingMatchesD3','DOMContentLoaded','\x27;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22trophy-name\x22>','Error\x20deleting\x20article:','borderRadius','Attempting\x20to\x20delete\x20trophy\x20definition\x20with\x20ID:\x20','Match\x20Highlight','assign-player-username','input[name=\x22assign-ladder\x22]:checked','\x20users...','current-ribbons-list','D1\x20Players','pending-count','\x20already\x20has\x20points:\x20','Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20article?\x20This\x20action\x20cannot\x20be\x20undone.','You\x20must\x20be\x20logged\x20in','Data\x20load\x20buttons\x20initialized\x20based\x20on\x20permissions','winnerDemoLink','awardedAt','match-count','Matches\x20Played','#1976d2','update','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x227\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20history:\x20','selected-user-points','querySelector','Failed\x20to\x20award\x20item:\x20','promote-modal','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22trophy-rarity-cell\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22trophy-rarity\x20','Failed\x20to\x20load\x20user\x20data:\x20','Create\x20test\x20match\x20button\x20setup\x20complete','highlight-description',';\x20color:\x20','.admin-section','checked','.nav-item','Adding\x20simple\x20test\x20match...','\x22\x20set','pendingMatches','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...','commit','edit-highlight-winnerScore-input','You\x20must\x20be\x20logged\x20in\x20to\x20save\x20trophies','visible','Unnamed\x20Trophy','visibility','\x22\x20title=\x22View\x20Player\x20Details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Quick\x20edit\x20form\x20submitted','Quick\x20edit\x20clicked\x20for\x20user:','ribbons','./promotions.js','modify-points-form','matches-search','eloRating','quick-edit-points-modal','Remove\x20','Error\x20promoting\x20player:\x20','Error\x20promoting\x20player:','admin','User\x20not\x20found','trophy-image-url','elo-history-search','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAADHUlEQVR4nO2XS0hUURjHf3fGnPGB+cBkzEAFRSglH5mQEiitIFoYEW6iFrWJoE20SReCQUGbXrRqEVFB0SIKKnrhM3wUldmQjc5Yk46Njjpz7+06cO50vTP3jplJ0fnDYe75zpnz/e73+L5zFf4n+X1SUoAM624GUoA0IAjw+IS5BWwgCIwCbuAn0AcMWOsP4NHE+BlqEjmxDZQCq4H5QCoQsALMWJjLWgMTvN8FPALuWWs38MhnfCoQoBvIBY4Du4EVwCyPDj7L+ptA/S/WX4EW4ALQMM1g/k8FmA5UAPuBZYCK94wRyXmU6TlwDEFzwDHgltOHnQKcBWwFjgL5jglOTTeBI8BtuwdVmweLgCvAAsckpq8XwDagzQ7QboPZQC1Q7JjA7KgX2AJ02zkwmjINuAzUzHCyGnAFmDMZ4DqgERHNTEsBDmvT0eVSYNgx1PSl28pOldcGvw/WAOeB+Y6pzEwPEJV1zOvBPcAJx0RmLg3YGw0Yu80G4LRjErOjU0BxJGARcB1Y6JjE7GgQKAD6w4FmAM3AUscE4pMuozqigrMa52RUKiK+ipxKDRkVRAYSoiDwDLiLKKU9iqKMgiQRH2wElsdxwDPgLPAAOZ4Fo/YV5BNkAXXIvFgLXAS+2wDnAU2MZEmsJOIK8NqG/wEVwClEoREmLeKP50hn5FSvgT3AY5v+J5HmHVZ4iY+pNG0E1wEss+FbjXS2vjgeUJETzYLJE5+gz5aHXSzlQBnQFQ9gCPH5F4lL94B2G3yl0QE+jwdwBJgH9ESSMgrcteG7HNJihk1A3AMOAgeBT9E7NE0LAkEnEkYHqEa162QMn+02/LJsxpg0YLexURTl3cSgmqYFTNMccPJ1uIDPxuYScDyG31Ls1+EbK6muSIAul8tQ7Jrq5BoGWhVFCQJ7kQkjlnIQFR1TKowNGY6JomnMQkSoGviXvAWWKIoSjgVxPdLtvwKwQ1GUD7ECugBDURTPeHUBfIwVUNO0EWPyWT+mNGBQ13WXN6CqKoOGYYT8fj8+n2NCCYyLiooC8f75D86ukgTJZSGcAAAAAElFTkSuQmCC','Using\x20collections\x20for\x20','<tr><td\x20colspan=\x227\x22\x20class=\x22empty-state\x22>No\x20players\x20found\x20in\x20this\x20ladder</td></tr>','Error\x20loading\x20players:','\x20points','reason','.ladder-switch\x20input[value=\x22D2\x22]','</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-danger\x20btn-sm\x20remove-ribbon-btn\x22\x20data-ribbon=\x22','<div\x20class=\x22error\x22>Error\x20searching\x20users</div>','TestWinner','Profile','#cancel-create-test-match-btn','#create-test-match-form','Page\x20','mapVersion','#elo-history-table-body\x20tr','getDate','Match\x20ID\x20or\x20ladder\x20missing','resimulate-match-id','role','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','demotion','<tr><td\x20colspan=\x226\x22\x20class=\x22loading-cell\x22>Loading\x20history...</td></tr>','dashboard','asc','required','trim','Error\x20in\x20demotion:','Match\x20Result','\x22\x20data-ladder=\x22','.edit-trophy-btn','elo','resimulate-match-btn','No\x20player\x20selected','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Trophies','Winner\x20and\x20loser\x20usernames\x20are\x20required','\x20users\x20already\x20had\x20points.','history-end-date','<tr><td\x20colspan=\x225\x22\x20class=\x22error-state\x22>Error\x20loading\x20ribbons</td></tr>','data','positive-change','matchDate','message','No\x20users\x20found\x20in\x20userProfiles\x20collection','Setting\x20up\x20Manage\x20Articles\x20section\x20-\x20Found\x20Create\x20Article\x20button.','allUsersPoints','3529060XyBKoR','setAttribute','Trophy\x20definition\x20deleted\x20successfully','.close-btn','Please\x20enter\x20valid\x20data','title','removeEventListener','Create\x20New\x20Trophy','.delete-highlight-btn','href','\x20vs\x20','\x20users\x20to\x20check...','highlight-winner-score','Set\x20default\x20ladder\x20to:','highlight-map-creator','You\x20must\x20be\x20logged\x20in\x20to\x20delete\x20matches','userProfiles','\x20users\x20don\x27t\x20have\x20points\x20field\x20yet.\x20Use\x20the\x20migration\x20button\x20to\x20initialize.','Thursday','#e0e0e0','Failed\x20to\x20save\x20trophy:\x20','warn','\x22\x20title=\x22Delete\x20Match\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','edit-highlight-matchLink-input','migration-section','contains','Updating\x20role\x20for\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><em>This\x20will\x20create\x20accurate\x20ELO\x20history\x20entries\x20based\x20on\x20the\x20players\x27\x20ELO\x20ratings\x20at\x20the\x20time\x20this\x20match\x20was\x20played.</em></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','You\x20must\x20be\x20logged\x20in\x20to\x20resimulate\x20matches','Resimulated\x20entry\x20-\x20ELO\x20and\x20positions\x20calculated\x20from\x20actual\x20pre-match\x20data','DB:','firstVisible','roleName','article-id','position','\x20by\x20UID:','You\x20must\x20be\x20logged\x20in\x20to\x20delete\x20trophies','Loading\x20players\x20from\x20','newPoints','\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','Opening\x20quick\x20edit\x20modal\x20for\x20user\x20ID:','then','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22position\x22>','endDate','Both\x20players\x20already\x20have\x20ELO\x20history\x20for\x20this\x20match.\x20No\x20resimulation\x20needed.','Edit\x20','inactive-players','change','cancel-article-btn','ribbon-level','innerHTML','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.remove-role-btn','div','reset-matches-filters','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-plus\x22\x20title=\x22Assign\x20to\x20player\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-trophy-btn\x22\x20data-id=\x22','article-title','data-section','toString','input[name=\x22quick-action\x22]:checked','playersD2','#highlight-modal\x20.close-btn','active','highlight-video-preview-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','237BGmGfk','#d32f2f','demote-ladder','Starting\x20complete\x20match\x20resimulation...','d3-next-page','article-form','load-ribbons-data','load-highlights-data','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','edit-highlight-mapCreator-input','<tr><td\x20colspan=\x227\x22\x20class=\x22loading-cell\x22>Loading\x20matches...</td></tr>','Error\x20initializing\x20dashboard:','edit-highlight-achievementType-input',')</span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','\x20-\x20Feature\x20coming\x20soon','createElement','assign-trophy-image','set-elo-value','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.src=\x27','<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error','highlight-type','value','edit-match-winner-demo','Auth:','paste','stopPropagation','userAllowedTabs','classList','trace','Highlight\x20updated\x20successfully!','description','Error\x20setting\x20up\x20admin\x20dashboard','\x20points\x20history\x20entries','disabled','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','You\x20do\x20not\x20have\x20permission\x20to\x20access\x20this\x20section','floor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22user-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','Added\x20','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Ribbons\x20Data','Create\x20test\x20match\x20form\x20not\x20found','Article\x20created\x20successfully','achievementDetails','.close-notification','edit-highlight-map-input','source','Creator','padding','substring','UserProfile','matches-table-body','achievementImageUrl','edit-match-winner','achievementPlayer','highlight-achievement-type-container','Attempting\x20to\x20promote\x20','Create\x20test\x20match\x20modal\x20not\x20found','Highlight\x20deleted\x20successfully','d2-prev-page','Looking\x20for\x20user\x20role\x20information\x20for\x20','\x20(winner)\x20vs\x20','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Matches','remove','edit-player-modal','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22new-elo\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','demote-username','toLocaleString','Error\x20deleting\x20player:','loserComment','winnerComment','Failed\x20to\x20load\x20points\x20data:\x20','submittedBy','values','removeAttribute','points-overview-table-body','\x20Exists','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Current\x20Winner\x20Position:</strong>\x20','promote-username','fa-info-circle','username','Create\x20test\x20match\x20modal\x20setup\x20complete','empty','Error\x20loading\x20history:','-page-indicator','YouTube\x20Video\x20ID\x20(Optional)','(((.+)+)+)+$','Modal\x20computed\x20styles:','Quick\x20edit\x20form\x20not\x20found!','System','role-username','Please\x20select\x20a\x20user\x20and\x20store\x20item','assign-trophy-id','display','\x22\x20not\x20found\x20in\x20','fa-exclamation-circle','displayName','Error\x20loading\x20articles:','<tr><td\x20colspan=\x227\x22\x20class=\x22empty-state\x22>No\x20inactive\x20players\x20match\x20your\x20criteria</td></tr>','get','player-count','onAuthStateChanged','unknown','creatorImageUrl','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','size','highlight-video-container','no-results','<tr><td\x20colspan=\x227\x22\x20class=\x22empty-state\x22>No\x20matches\x20found\x20for\x20the\x20selected\x20filters</td></tr>','win','matches-end-date','selected-user-id','Match\x20deleted\x20successfully','Highlight','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Current\x20Loser\x20Position:</strong>\x20','test','Trophy\x20updated\x20successfully','\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20Users\x20updated\x20with\x20points:\x20','localeCompare','highlight-achievement-image-container','matches-page-indicator','manage-articles','award-item-form','highlight-form','docs','create-achievement-highlight-btn','Player\x20updated\x20successfully','Error\x20deleting\x20highlight:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Ladder:</strong>\x20','.player','Attaching\x20background\x20click\x20listener.','Please\x20enter\x20a\x20username','edit-username','Error\x20initializing\x20points\x20field:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x225\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20trophies:\x20','Load\x20matches\x20data\x20clicked','\x20already\x20exists\x20in\x20','edit-match-winner-comment','cancel-highlight-btn','Manage\x20Points\x20section\x20initialized','Matches\x20action\x20buttons\x20setup\x20complete','points-sort-order','history-start-date','approvedMatchesD3','Error\x20adding\x20ribbon:','Gold','entries','Error\x20loading\x20highlight:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong\x20style=\x22color:\x20#ff9800;\x22>\x20RESIMULATION\x20WILL:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>Recalculate\x20ELO\x20ratings\x20based\x20on\x20pre-match\x20values</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>Update\x20current\x20player\x20ELO\x20ratings</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>Recalculate\x20and\x20update\x20player\x20positions</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>Create\x20missing\x20ELO\x20history\x20entries</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>Handle\x20position\x20swaps\x20if\x20winner\x20was\x20lower\x20ranked</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-article-btn\x22\x20data-id=\x22','load-trophies-data','<tr><td\x20colspan=\x226\x22\x20class=\x22empty-state\x22>No\x20history\x20found</td></tr>','\x20allowed\x20tabs:','elo-history-table-body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x224\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20articles:\x20','role-filter','Silver','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Match\x20Date:</strong>\x20','<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Highlights','amount','\x20to\x20','.edit-role-btn','cloneNode','replace','.no-results','highlight-submitted-by','User\x20data\x20loaded:','create-test-match-btn','console','Error\x20resolving\x20username\x20for\x20','.admin-action','trophy-form','Error\x20loading\x20points\x20data:','test-match-date','<span\x20class=\x22role-badge\x22\x20style=\x22background-color:\x20','highlight-description-container','Enter','Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20match?\x20This\x20action\x20cannot\x20be\x20undone.','nonParticipants','d1-prev-page','winnerScore','dataset','loserSuicides','push','mapName','Failed\x20to\x20load\x20match\x20data','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><span\x20class=\x22ladder-badge\x20','info','YouTube\x20Video\x20ID\x20is\x20required\x20for\x20match\x20highlights','delete-match-confirm-modal','highlight-achievement-type','toLocaleDateString','mapPlayed','Found\x20user\x20in\x20','Processing\x20points\x20edit:','focus','Title\x20is\x20required','D3\x20Players','edit-highlight-creatorImageUrl-input','assign-trophy-title','toISOString','demoLink','\x20Missing','Modal\x20opened\x20successfully','.username','trophy-modal','<tr><td\x20colspan=\x227\x22\x20class=\x22loading-cell\x22>Loading\x20inactive\x20players...</td></tr>','highlight-title','Setting\x20up\x20points\x20action\x20buttons...','edit-losses','Batch\x20limit\x20reached\x20-\x20you\x20may\x20need\x20to\x20run\x20this\x20function\x20multiple\x20times\x20for\x20large\x20datasets','-next-page','loading','non-participants','manage-highlights','<tr><td\x20colspan=\x225\x22\x20class=\x22error-state\x22>Error\x20loading\x20users:\x20','highlight-map-version','Query\x20created:','Points\x20updated\x20successfully\x20for\x20user:','Friday','\x20Weekly\x20Activity','Adding\x20\x22active\x22\x20class\x20to\x20modal.','demote-player-btn','highlight-submitted-by-container','winnerName','You\x20must\x20be\x20logged\x20in\x20to\x20perform\x20this\x20action','.empty-state','className','edit-highlight-winnerName-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','Lost','loserDemoLink','selected-user-info','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Loser\x20ELO\x20History:</strong>\x20','image','load-dashboard-data','Found\x20player\x20with\x20current\x20ELO:\x20','submit','has','cancel-set-elo-btn','match-type','Unknown\x20User'];a4_0x5385=function(){return _0x2fcdad;};return a4_0x5385();}async function loadArticles(){const _0x59c51e=a4_0x182e79,_0x269044=document[_0x59c51e(0x2e0)]('articles-table-body');if(!_0x269044)return;_0x269044[_0x59c51e(0x398)]=_0x59c51e(0x4f3);try{const _0xc761db=collection(db,'articles'),_0x4a969e=query(_0xc761db,orderBy(_0x59c51e(0x1e7),'desc')),_0x48d05f=await getDocs(_0x4a969e);if(_0x48d05f[_0x59c51e(0x3f9)]){_0x269044['innerHTML']='<tr><td\x20colspan=\x224\x22\x20class=\x22empty-state\x22>No\x20articles\x20found</td></tr>';return;}_0x269044[_0x59c51e(0x398)]='',_0x48d05f[_0x59c51e(0x2b1)](_0x418176=>{const _0x5ac2e1=_0x59c51e,_0x1d6cc4=_0x418176[_0x5ac2e1(0x35f)](),_0x4eaa60=document['createElement']('tr'),_0x332f58=_0x1d6cc4[_0x5ac2e1(0x1e7)]?new Date(_0x1d6cc4[_0x5ac2e1(0x1e7)][_0x5ac2e1(0x24e)]*0x3e8)[_0x5ac2e1(0x3ea)]():'N/A';_0x4eaa60[_0x5ac2e1(0x398)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x1d6cc4[_0x5ac2e1(0x36b)]||_0x5ac2e1(0x1dc))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x1d6cc4[_0x5ac2e1(0x4c8)]||_0x5ac2e1(0x53d))+_0x5ac2e1(0x211)+_0x332f58+_0x5ac2e1(0x43c)+_0x418176['id']+_0x5ac2e1(0x5fa)+_0x418176['id']+_0x5ac2e1(0x399),_0x269044[_0x5ac2e1(0x5df)](_0x4eaa60);}),setupArticleActionButtons();}catch(_0x1450e7){console['error'](_0x59c51e(0x408),_0x1450e7),_0x269044['innerHTML']=_0x59c51e(0x441)+_0x1450e7[_0x59c51e(0x362)]+_0x59c51e(0x603);}}function setupArticleActionButtons(){const _0x10164d=a4_0x182e79;document[_0x10164d(0x61b)]('.edit-article-btn')[_0x10164d(0x2b1)](_0x317923=>{const _0x2ba409=_0x10164d;_0x317923[_0x2ba409(0x511)](_0x2ba409(0x610),async _0x2809d2=>{const _0x118ad5=_0x2ba409,_0x5992f2=_0x2809d2[_0x118ad5(0x519)][_0x118ad5(0x45c)]['id'];openArticleModal(_0x5992f2);});}),document[_0x10164d(0x61b)](_0x10164d(0x26b))[_0x10164d(0x2b1)](_0x4ce3bb=>{const _0x50a3aa=_0x10164d;_0x4ce3bb[_0x50a3aa(0x511)](_0x50a3aa(0x610),async _0x59fffd=>{const _0x30693e=_0x59fffd['currentTarget']['dataset']['id'];confirmDeleteArticle(_0x30693e);});});}function openArticleModal(_0x1bf198=null){const _0x5d61e9=a4_0x182e79,_0x133a41=document[_0x5d61e9(0x2e0)](_0x5d61e9(0x4ad)),_0x82ca8b=document[_0x5d61e9(0x2e0)]('article-modal-title'),_0x3374f0=document[_0x5d61e9(0x2e0)](_0x5d61e9(0x3ac)),_0x18aaf6=document[_0x5d61e9(0x2e0)](_0x5d61e9(0x387));_0x3374f0[_0x5d61e9(0x553)](),_0x18aaf6[_0x5d61e9(0x3bc)]='';if(_0x1bf198)_0x82ca8b['textContent']=_0x5d61e9(0x24f),_0x18aaf6['value']=_0x1bf198,loadArticleData(_0x1bf198);else{_0x82ca8b[_0x5d61e9(0x565)]=_0x5d61e9(0x247);const _0x384760=auth[_0x5d61e9(0x1f5)];if(_0x384760){const _0x28d51b=document['getElementById']('article-author');if(_0x28d51b&&_0x384760[_0x5d61e9(0x407)])_0x28d51b[_0x5d61e9(0x3bc)]=_0x384760[_0x5d61e9(0x407)];else _0x28d51b&&(_0x28d51b[_0x5d61e9(0x3bc)]=_0x384760[_0x5d61e9(0x542)]);}}_0x133a41['classList'][_0x5d61e9(0x4f1)]('active');}async function loadArticleData(_0x238498){const _0x3b4ab5=a4_0x182e79;try{const _0x2c116e=doc(db,_0x3b4ab5(0x571),_0x238498),_0x5959e4=await getDoc(_0x2c116e);if(!_0x5959e4[_0x3b4ab5(0x5b3)]()){showNotification(_0x3b4ab5(0x49e),_0x3b4ab5(0x24c));return;}const _0x300a99=_0x5959e4[_0x3b4ab5(0x35f)]();document[_0x3b4ab5(0x2e0)](_0x3b4ab5(0x39e))[_0x3b4ab5(0x3bc)]=_0x300a99[_0x3b4ab5(0x36b)]||'',document[_0x3b4ab5(0x2e0)]('article-author')['value']=_0x300a99['author']||'',document[_0x3b4ab5(0x2e0)](_0x3b4ab5(0x287))[_0x3b4ab5(0x3bc)]=_0x300a99[_0x3b4ab5(0x611)]||'',document[_0x3b4ab5(0x2e0)](_0x3b4ab5(0x54c))[_0x3b4ab5(0x3bc)]=_0x300a99[_0x3b4ab5(0x1e4)]||'';}catch(_0x534688){console[_0x3b4ab5(0x24c)](_0x3b4ab5(0x5d0),_0x534688),showNotification('Failed\x20to\x20load\x20article\x20data',_0x3b4ab5(0x24c));}}async function saveArticle(){const _0x113eee=a4_0x182e79;try{const _0x3945f7=document[_0x113eee(0x2e0)](_0x113eee(0x387))['value'],_0x13c590=document[_0x113eee(0x2e0)]('article-title')['value'][_0x113eee(0x352)](),_0x586665=document['getElementById'](_0x113eee(0x539))[_0x113eee(0x3bc)][_0x113eee(0x352)](),_0x31a3da=document['getElementById'](_0x113eee(0x287))['value'][_0x113eee(0x352)](),_0x5bb75b=document[_0x113eee(0x2e0)](_0x113eee(0x54c))[_0x113eee(0x3bc)]['trim']();if(!_0x13c590||!_0x5bb75b){showNotification(_0x113eee(0x594),'error');return;}const _0x43854e=auth[_0x113eee(0x1f5)];if(!_0x43854e){showNotification(_0x113eee(0x5f1),_0x113eee(0x24c));return;}const _0x3adacf={'title':_0x13c590,'author':_0x586665,'imageUrl':_0x31a3da||null,'content':_0x5bb75b,'lastModifiedAt':serverTimestamp(),'lastModifiedBy':_0x43854e[_0x113eee(0x542)]};!_0x3945f7?(_0x3adacf[_0x113eee(0x1e7)]=serverTimestamp(),_0x3adacf[_0x113eee(0x26c)]=_0x43854e[_0x113eee(0x542)],await addDoc(collection(db,_0x113eee(0x571)),_0x3adacf),showNotification(_0x113eee(0x3d0),_0x113eee(0x4b9))):(await updateDoc(doc(db,'articles',_0x3945f7),_0x3adacf),showNotification('Article\x20updated\x20successfully',_0x113eee(0x4b9))),closeArticleModal(),loadArticles();}catch(_0x4bf451){console['error']('Error\x20saving\x20article:',_0x4bf451),showNotification(_0x113eee(0x5bd)+_0x4bf451['message'],_0x113eee(0x24c));}}function closeArticleModal(){const _0x46fcd1=a4_0x182e79,_0x133d59=document[_0x46fcd1(0x2e0)](_0x46fcd1(0x4ad));_0x133d59&&_0x133d59['classList']['remove'](_0x46fcd1(0x3a4));}async function confirmDeleteArticle(_0xbfc179){const _0x547348=a4_0x182e79;if(confirm(_0x547348(0x308)))try{await deleteDoc(doc(db,_0x547348(0x571),_0xbfc179)),loadArticles(),showNotification('Article\x20deleted\x20successfully',_0x547348(0x4b9));}catch(_0xbbcc4d){console[_0x547348(0x24c)](_0x547348(0x2fd),_0xbbcc4d),showNotification('Failed\x20to\x20delete\x20article:\x20'+_0xbbcc4d[_0x547348(0x362)],_0x547348(0x24c));}}function setupTrophyManagementSection(){const _0x1b60fd=a4_0x182e79,_0x48bfc5=document[_0x1b60fd(0x2e0)](_0x1b60fd(0x43d));_0x48bfc5&&_0x48bfc5[_0x1b60fd(0x511)]('click',function(){const _0x1d662d=_0x1b60fd;this[_0x1d662d(0x3c2)][_0x1d662d(0x4f1)](_0x1d662d(0x47b)),this['innerHTML']=_0x1d662d(0x321);const _0x2b8af2=document['getElementById'](_0x1d662d(0x3b7));_0x2b8af2&&(_0x2b8af2[_0x1d662d(0x5c9)]=function(){const _0x2a2b1a=_0x1d662d;this[_0x2a2b1a(0x4ee)]=DEFAULT_TROPHY_IMAGE;}),loadTrophyDefinitions()[_0x1d662d(0x38f)](()=>{const _0x504818=_0x1d662d;this['classList'][_0x504818(0x3e5)](_0x504818(0x47b)),this[_0x504818(0x398)]=_0x504818(0x35a);})[_0x1d662d(0x5b1)](_0x17334c=>{const _0x2ce768=_0x1d662d;console[_0x2ce768(0x24c)]('Error\x20loading\x20trophies:',_0x17334c),this[_0x2ce768(0x3c2)][_0x2ce768(0x3e5)]('loading'),this[_0x2ce768(0x398)]='<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>\x20Error',setTimeout(()=>{this['innerHTML']='<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x20Load\x20Trophies';},0xbb8);});});const _0x42704d=document[_0x1b60fd(0x2e0)](_0x1b60fd(0x4dd));_0x42704d&&_0x42704d['addEventListener'](_0x1b60fd(0x610),()=>{openTrophyModal();});const _0x33223e=document[_0x1b60fd(0x2e0)](_0x1b60fd(0x452));_0x33223e&&_0x33223e[_0x1b60fd(0x511)](_0x1b60fd(0x494),_0x31c8cb=>{const _0x3f7d54=_0x1b60fd;_0x31c8cb[_0x3f7d54(0x5e1)](),saveTrophyDefinition();});const _0x332012=document['getElementById'](_0x1b60fd(0x4cf));_0x332012&&_0x332012[_0x1b60fd(0x511)](_0x1b60fd(0x610),()=>{closeTrophyModal();});document['querySelectorAll']('#trophy-modal\x20.close-btn,\x20#assign-trophy-modal\x20.close-btn')[_0x1b60fd(0x2b1)](_0x10ae41=>{const _0x3900a7=_0x1b60fd;_0x10ae41[_0x3900a7(0x511)](_0x3900a7(0x610),()=>{closeTrophyModal(),closeAssignTrophyModal();});});const _0x3fc921=document['getElementById'](_0x1b60fd(0x474));_0x3fc921&&_0x3fc921['addEventListener'](_0x1b60fd(0x610),_0x8f9ef3=>{_0x8f9ef3['target']===_0x3fc921&&closeTrophyModal();});const _0x1cf392=document[_0x1b60fd(0x2e0)](_0x1b60fd(0x566));_0x1cf392&&_0x1cf392['addEventListener'](_0x1b60fd(0x610),_0x5b8b8f=>{_0x5b8b8f['target']===_0x1cf392&&closeAssignTrophyModal();});const _0x12b735=document['getElementById']('assign-trophy-form');_0x12b735&&_0x12b735[_0x1b60fd(0x511)](_0x1b60fd(0x494),_0x35660f=>{_0x35660f['preventDefault'](),assignTrophyToPlayer();});const _0x1771c2=document[_0x1b60fd(0x2e0)](_0x1b60fd(0x5b9));_0x1771c2&&_0x1771c2[_0x1b60fd(0x511)](_0x1b60fd(0x610),()=>{closeAssignTrophyModal();});const _0x34b704=document['getElementById'](_0x1b60fd(0x336));_0x34b704&&(_0x34b704[_0x1b60fd(0x511)](_0x1b60fd(0x20c),updateTrophyImagePreview),_0x34b704['addEventListener'](_0x1b60fd(0x3bf),()=>{setTimeout(updateTrophyImagePreview,0xa);}));}function updateTrophyImagePreview(){const _0x268b11=a4_0x182e79,_0x173489=document[_0x268b11(0x2e0)](_0x268b11(0x336))[_0x268b11(0x3bc)][_0x268b11(0x352)](),_0xee060a=document['getElementById'](_0x268b11(0x4b0));if(!_0xee060a){const _0x2cee8c=document['getElementById']('trophy-image-url')['closest']('.form-group'),_0x40eeae=document[_0x268b11(0x3b6)](_0x268b11(0x39b));_0x40eeae['id']=_0x268b11(0x4b0),_0x40eeae[_0x268b11(0x48a)]='trophy-preview-container',_0x2cee8c[_0x268b11(0x5df)](_0x40eeae);const _0x209241=document['createElement'](_0x268b11(0x503));_0x209241['id']=_0x268b11(0x276),_0x209241[_0x268b11(0x587)]=_0x268b11(0x23f),_0x209241[_0x268b11(0x5c9)]=function(){const _0x406a3a=_0x268b11;this[_0x406a3a(0x4ee)]=DEFAULT_TROPHY_IMAGE,this[_0x406a3a(0x3c2)][_0x406a3a(0x4f1)](_0x406a3a(0x24c));},_0x40eeae['appendChild'](_0x209241);}const _0x3866c3=document[_0x268b11(0x2e0)](_0x268b11(0x276));_0x173489?(_0x3866c3['src']=_0x173489,_0x3866c3[_0x268b11(0x2d9)]['display']=_0x268b11(0x4e9),_0x3866c3[_0x268b11(0x3c2)]['remove'](_0x268b11(0x24c))):(_0x3866c3['src']=DEFAULT_TROPHY_IMAGE,_0x3866c3['style'][_0x268b11(0x404)]=_0x268b11(0x4e9));}async function loadTrophyDefinitions(){const _0x4a3584=a4_0x182e79,_0x43073b=document[_0x4a3584(0x2e0)](_0x4a3584(0x267));if(!_0x43073b)return;_0x43073b[_0x4a3584(0x398)]=_0x4a3584(0x244);try{const _0x520ead=collection(db,_0x4a3584(0x563)),_0x475f47=query(_0x520ead,orderBy(_0x4a3584(0x1e7),_0x4a3584(0x59e))),_0x25e58d=await getDocs(_0x475f47);if(_0x25e58d[_0x4a3584(0x3f9)]){_0x43073b[_0x4a3584(0x398)]=_0x4a3584(0x25d);return;}_0x43073b['innerHTML']='',_0x25e58d['forEach'](_0x488574=>{const _0x4bf486=_0x4a3584,_0x3c8610=_0x488574[_0x4bf486(0x35f)](),_0x6442a9=document[_0x4bf486(0x3b6)]('tr'),_0x582284=_0x3c8610[_0x4bf486(0x1e7)]?new Date(_0x3c8610[_0x4bf486(0x1e7)]['seconds']*0x3e8)['toLocaleString']():_0x4bf486(0x1e8);_0x6442a9[_0x4bf486(0x398)]=_0x4bf486(0x2bb)+(_0x3c8610['image']||DEFAULT_TROPHY_IMAGE)+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22'+_0x3c8610[_0x4bf486(0x257)]+_0x4bf486(0x3b9)+DEFAULT_TROPHY_IMAGE+_0x4bf486(0x2fc)+(_0x3c8610[_0x4bf486(0x257)]||'Untitled\x20Trophy')+_0x4bf486(0x316)+(_0x3c8610[_0x4bf486(0x5a0)]||'common')+'\x22>'+(_0x3c8610['rarity']||_0x4bf486(0x4c5))+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x582284+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-trophy-btn\x22\x20data-id=\x22'+_0x488574['id']+_0x4bf486(0x4a0)+_0x488574['id']+_0x4bf486(0x39d)+_0x488574['id']+_0x4bf486(0x399),_0x43073b[_0x4bf486(0x5df)](_0x6442a9);}),setupTrophyActionButtons();}catch(_0x47f828){console['error'](_0x4a3584(0x55f),_0x47f828),_0x43073b[_0x4a3584(0x398)]=_0x4a3584(0x42d)+_0x47f828[_0x4a3584(0x362)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}function setupTrophyActionButtons(){const _0x276caa=a4_0x182e79;document[_0x276caa(0x61b)](_0x276caa(0x356))[_0x276caa(0x2b1)](_0x279aa5=>{const _0x140315=_0x276caa;_0x279aa5[_0x140315(0x511)](_0x140315(0x610),_0x48abff=>{const _0xafd267=_0x140315,_0x422b99=_0x48abff[_0xafd267(0x519)][_0xafd267(0x45c)]['id'];openTrophyModal(_0x422b99);});}),document[_0x276caa(0x61b)]('.assign-trophy-btn')['forEach'](_0x48165e=>{const _0x2cf9b0=_0x276caa;_0x48165e['addEventListener'](_0x2cf9b0(0x610),_0x3008d1=>{const _0x45ab86=_0x2cf9b0,_0x5ddbed=_0x3008d1[_0x45ab86(0x519)][_0x45ab86(0x45c)]['id'];openAssignTrophyModal(_0x5ddbed);});}),document[_0x276caa(0x61b)](_0x276caa(0x4c1))[_0x276caa(0x2b1)](_0x4ea632=>{const _0x25bdfa=_0x276caa;_0x4ea632[_0x25bdfa(0x511)](_0x25bdfa(0x610),_0x29ca0a=>{const _0x261266=_0x25bdfa,_0x4e776d=_0x29ca0a[_0x261266(0x519)][_0x261266(0x45c)]['id'];confirmDeleteTrophy(_0x4e776d);});});}function openTrophyModal(_0x39b177=null){const _0x2d3d3a=a4_0x182e79,_0x2aa0b0=document[_0x2d3d3a(0x2e0)](_0x2d3d3a(0x474)),_0x59633e=document[_0x2d3d3a(0x2e0)](_0x2d3d3a(0x239)),_0x87d587=document[_0x2d3d3a(0x2e0)](_0x2d3d3a(0x452)),_0x1a452f=document[_0x2d3d3a(0x2e0)](_0x2d3d3a(0x22e));_0x87d587[_0x2d3d3a(0x553)](),_0x1a452f[_0x2d3d3a(0x3bc)]='';const _0x21eccc=document[_0x2d3d3a(0x2e0)](_0x2d3d3a(0x276));_0x21eccc&&(_0x21eccc[_0x2d3d3a(0x4ee)]=DEFAULT_TROPHY_IMAGE,_0x21eccc[_0x2d3d3a(0x3c2)][_0x2d3d3a(0x3e5)]('error')),_0x39b177?(_0x59633e[_0x2d3d3a(0x565)]='Edit\x20Trophy',_0x1a452f[_0x2d3d3a(0x3bc)]=_0x39b177,loadTrophyData(_0x39b177)):_0x59633e[_0x2d3d3a(0x565)]=_0x2d3d3a(0x36d),_0x2aa0b0['classList'][_0x2d3d3a(0x4f1)]('active');}async function loadTrophyData(_0x48e668){const _0x251436=a4_0x182e79;try{const _0x1f3f0a=doc(db,_0x251436(0x563),_0x48e668),_0x480b3b=await getDoc(_0x1f3f0a);if(!_0x480b3b[_0x251436(0x5b3)]()){showNotification(_0x251436(0x2e2),_0x251436(0x24c));return;}const _0x53762a=_0x480b3b[_0x251436(0x35f)]();document[_0x251436(0x2e0)](_0x251436(0x626))[_0x251436(0x3bc)]=_0x53762a['name']||'',document['getElementById'](_0x251436(0x265))[_0x251436(0x3bc)]=_0x53762a[_0x251436(0x3c5)]||'',document[_0x251436(0x2e0)](_0x251436(0x336))[_0x251436(0x3bc)]=_0x53762a[_0x251436(0x491)]||'',document['getElementById'](_0x251436(0x559))[_0x251436(0x3bc)]=_0x53762a[_0x251436(0x5a0)]||'common',updateTrophyImagePreview();}catch(_0x516dfe){console[_0x251436(0x24c)](_0x251436(0x520),_0x516dfe),showNotification('Failed\x20to\x20load\x20trophy\x20data',_0x251436(0x24c));}}async function saveTrophyDefinition(){const _0x33e2c6=a4_0x182e79;try{const _0xcd4b88=document[_0x33e2c6(0x2e0)](_0x33e2c6(0x22e))[_0x33e2c6(0x3bc)],_0x402f78=document[_0x33e2c6(0x2e0)]('trophy-name')[_0x33e2c6(0x3bc)]['trim'](),_0x578b9f=document[_0x33e2c6(0x2e0)]('trophy-description')[_0x33e2c6(0x3bc)][_0x33e2c6(0x352)](),_0x26530d=document[_0x33e2c6(0x2e0)](_0x33e2c6(0x336))['value']['trim'](),_0x56e628=document['getElementById'](_0x33e2c6(0x559))[_0x33e2c6(0x3bc)];if(!_0x402f78||!_0x578b9f||!_0x26530d){showNotification(_0x33e2c6(0x56f),_0x33e2c6(0x24c));return;}const _0x3b71b8=auth[_0x33e2c6(0x1f5)];if(!_0x3b71b8){showNotification(_0x33e2c6(0x324),_0x33e2c6(0x24c));return;}const _0x2bde1c={'name':_0x402f78,'description':_0x578b9f,'image':_0x26530d,'rarity':_0x56e628,'lastModifiedAt':serverTimestamp(),'lastModifiedBy':_0x3b71b8[_0x33e2c6(0x542)]};!_0xcd4b88?(_0x2bde1c[_0x33e2c6(0x1e7)]=serverTimestamp(),_0x2bde1c['createdBy']=_0x3b71b8[_0x33e2c6(0x542)],await addDoc(collection(db,'trophyDefinitions'),_0x2bde1c),showNotification(_0x33e2c6(0x49b),_0x33e2c6(0x4b9))):(await updateDoc(doc(db,_0x33e2c6(0x563),_0xcd4b88),_0x2bde1c),showNotification(_0x33e2c6(0x41b),'success')),closeTrophyModal(),loadTrophyDefinitions();}catch(_0x2ff1e3){console[_0x33e2c6(0x24c)](_0x33e2c6(0x278),_0x2ff1e3),showNotification(_0x33e2c6(0x37a)+_0x2ff1e3[_0x33e2c6(0x362)],_0x33e2c6(0x24c));}}function a4_0x3a00(_0x1581ba,_0x110f05){const _0x4ca965=a4_0x5385();return a4_0x3a00=function(_0x4fa811,_0xc6e2ae){_0x4fa811=_0x4fa811-0x1d3;let _0x1f8dcb=_0x4ca965[_0x4fa811];return _0x1f8dcb;},a4_0x3a00(_0x1581ba,_0x110f05);}function closeTrophyModal(){const _0x545f82=a4_0x182e79,_0xc414e6=document[_0x545f82(0x2e0)](_0x545f82(0x474));_0xc414e6&&_0xc414e6['classList'][_0x545f82(0x3e5)](_0x545f82(0x3a4));}async function confirmDeleteTrophy(_0x5af7f7){const _0x326d84=a4_0x182e79;if(!_0x5af7f7){console[_0x326d84(0x24c)](_0x326d84(0x57f));return;}if(confirm(_0x326d84(0x4ae)))try{const _0x5b06df=auth[_0x326d84(0x1f5)];if(!_0x5b06df){showNotification(_0x326d84(0x38a),_0x326d84(0x24c));return;}console[_0x326d84(0x51b)](_0x326d84(0x2ff)+_0x5af7f7),await deleteDoc(doc(db,_0x326d84(0x563),_0x5af7f7)),showNotification(_0x326d84(0x368),_0x326d84(0x4b9)),loadTrophyDefinitions();}catch(_0x53f855){console['error']('Error\x20deleting\x20trophy\x20definition:',_0x53f855),showNotification('Failed\x20to\x20delete\x20trophy:\x20'+_0x53f855[_0x326d84(0x362)],_0x326d84(0x24c));}}async function openAssignTrophyModal(_0x1578ac){const _0x361943=a4_0x182e79;try{const _0x36c729=doc(db,_0x361943(0x563),_0x1578ac),_0x4c9a72=await getDoc(_0x36c729);if(!_0x4c9a72[_0x361943(0x5b3)]()){showNotification('Trophy\x20not\x20found','error');return;}const _0x5665fa=_0x4c9a72[_0x361943(0x35f)]();document[_0x361943(0x2e0)]('assign-trophy-id')[_0x361943(0x3bc)]=_0x1578ac,document[_0x361943(0x2e0)]('assign-trophy-name')[_0x361943(0x3bc)]=_0x5665fa[_0x361943(0x257)],document[_0x361943(0x2e0)](_0x361943(0x3b7))[_0x361943(0x4ee)]=_0x5665fa[_0x361943(0x491)]||DEFAULT_TROPHY_IMAGE,document[_0x361943(0x2e0)](_0x361943(0x46e))[_0x361943(0x565)]=_0x5665fa[_0x361943(0x257)]||_0x361943(0x326),document[_0x361943(0x2e0)](_0x361943(0x5ac))[_0x361943(0x565)]=_0x5665fa[_0x361943(0x3c5)]||_0x361943(0x4a9);const _0x9e6ab0=document[_0x361943(0x2e0)](_0x361943(0x51d));_0x9e6ab0[_0x361943(0x565)]=_0x5665fa['rarity']||'common',_0x9e6ab0['className']=_0x361943(0x593)+(_0x5665fa[_0x361943(0x5a0)]||_0x361943(0x4c5));const _0x2bf900=document[_0x361943(0x2e0)]('assign-trophy-modal');_0x2bf900[_0x361943(0x3c2)]['add'](_0x361943(0x3a4));}catch(_0x2e6679){console['error'](_0x361943(0x25f),_0x2e6679),showNotification(_0x361943(0x4b8),'error');}}function closeAssignTrophyModal(){const _0x1c9ba9=a4_0x182e79,_0x1d38bd=document[_0x1c9ba9(0x2e0)]('assign-trophy-modal');_0x1d38bd&&_0x1d38bd[_0x1c9ba9(0x3c2)][_0x1c9ba9(0x3e5)](_0x1c9ba9(0x3a4));}async function assignTrophyToPlayer(){const _0x5f578a=a4_0x182e79;try{const _0x5aedc7=document[_0x5f578a(0x2e0)](_0x5f578a(0x403))[_0x5f578a(0x3bc)],_0x32c494=document[_0x5f578a(0x2e0)]('assign-trophy-name')['value'],_0x21791b=document[_0x5f578a(0x2e0)](_0x5f578a(0x301))[_0x5f578a(0x3bc)]['trim'](),_0x7698c8=document[_0x5f578a(0x313)](_0x5f578a(0x302))['value'];if(!_0x5aedc7||!_0x21791b){showNotification(_0x5f578a(0x630),_0x5f578a(0x24c));return;}const _0x1bacbf=auth[_0x5f578a(0x1f5)];if(!_0x1bacbf){showNotification(_0x5f578a(0x2e5),_0x5f578a(0x24c));return;}let _0x2faab6=null,_0x1b1778=null,_0x3f8c65=null;if(_0x7698c8===_0x5f578a(0x555)){const _0x3c5f6c=collection(db,_0x5f578a(0x459)),_0x3dcb09=query(_0x3c5f6c,where(_0x5f578a(0x3f7),'==',_0x21791b)),_0x230b88=await getDocs(_0x3dcb09);!_0x230b88[_0x5f578a(0x3f9)]&&(_0x2faab6=_0x230b88['docs'][0x0],_0x1b1778=_0x2faab6['id'],_0x3f8c65=_0x2faab6[_0x5f578a(0x35f)]());}else{const _0x19acc2=_0x7698c8==='D1'?_0x5f578a(0x52f):_0x7698c8==='D2'?_0x5f578a(0x3a2):_0x5f578a(0x295),_0x3345f3=collection(db,_0x19acc2),_0x237f62=query(_0x3345f3,where(_0x5f578a(0x3f7),'==',_0x21791b)),_0x5b593b=await getDocs(_0x237f62);!_0x5b593b['empty']&&(_0x2faab6=_0x5b593b[_0x5f578a(0x423)][0x0],_0x1b1778=_0x2faab6['id'],_0x3f8c65=_0x2faab6[_0x5f578a(0x35f)]());}if(!_0x2faab6){showNotification(_0x5f578a(0x56e)+_0x21791b+_0x5f578a(0x405)+(_0x7698c8===_0x5f578a(0x555)?_0x5f578a(0x47c):_0x7698c8+_0x5f578a(0x4f0)),_0x5f578a(0x24c));return;}const _0x396694=collection(db,_0x5f578a(0x2b4)),_0x4eca71=query(_0x396694,where(_0x5f578a(0x4fd),'==',_0x1b1778),where('trophyId','==',_0x5aedc7)),_0x3b9569=await getDocs(_0x4eca71);if(!_0x3b9569['empty']){showNotification(_0x5f578a(0x56e)+_0x21791b+'\x22\x20already\x20has\x20this\x20trophy','warning');return;}await addDoc(collection(db,_0x5f578a(0x2b4)),{'userId':_0x1b1778,'playerUsername':_0x21791b,'trophyId':_0x5aedc7,'awardedAt':serverTimestamp(),'awardedBy':_0x1bacbf[_0x5f578a(0x542)],'ladder':_0x7698c8}),showNotification(_0x5f578a(0x5c5)+_0x32c494+_0x5f578a(0x509)+_0x21791b,_0x5f578a(0x4b9)),closeAssignTrophyModal();}catch(_0x1d41a8){console[_0x5f578a(0x24c)]('Error\x20assigning\x20trophy:',_0x1d41a8),showNotification('Failed\x20to\x20assign\x20trophy:\x20'+_0x1d41a8['message'],_0x5f578a(0x24c));}}function setupInactivePlayersSection(){const _0xe65246=a4_0x182e79,_0x44808c=document[_0xe65246(0x2e0)](_0xe65246(0x60d));_0x44808c&&_0x44808c[_0xe65246(0x511)](_0xe65246(0x395),function(){const _0xe931a5=_0xe65246,_0x27c93a=document[_0xe931a5(0x2e0)]('load-inactive-players-data');if(_0x27c93a)_0x27c93a['click']();});const _0x73052d=document['querySelector'](_0xe65246(0x576)),_0x277f22=document[_0xe65246(0x313)](_0xe65246(0x33e));_0x73052d&&_0x277f22&&(_0x73052d['addEventListener'](_0xe65246(0x395),function(){const _0x1bbb8d=_0xe65246;if(this[_0x1bbb8d(0x31c)]){currentLadder='D1';if(document[_0x1bbb8d(0x2e0)]('inactive-players')[_0x1bbb8d(0x2d9)][_0x1bbb8d(0x404)]!==_0x1bbb8d(0x583)){const _0x27e1f0=document[_0x1bbb8d(0x2e0)](_0x1bbb8d(0x55b));if(_0x27e1f0)_0x27e1f0[_0x1bbb8d(0x610)]();}}}),_0x277f22['addEventListener'](_0xe65246(0x395),function(){const _0x36631c=_0xe65246;if(this[_0x36631c(0x31c)]){currentLadder='D2';if(document[_0x36631c(0x2e0)](_0x36631c(0x394))[_0x36631c(0x2d9)][_0x36631c(0x404)]!==_0x36631c(0x583)){const _0x34b6c4=document['getElementById']('load-inactive-players-data');if(_0x34b6c4)_0x34b6c4['click']();}}}));const _0x50b767=document[_0xe65246(0x2e0)]('inactive-players-search');_0x50b767&&_0x50b767['addEventListener'](_0xe65246(0x20c),debounce(function(){const _0x395362=_0xe65246,_0x22f1f6=_0x50b767[_0x395362(0x3bc)][_0x395362(0x5ef)](),_0x23dc0c=document['querySelectorAll'](_0x395362(0x240));_0x23dc0c[_0x395362(0x2b1)](_0x5e5a09=>{const _0x32888c=_0x395362;if(_0x5e5a09['querySelector'](_0x32888c(0x5db))||_0x5e5a09[_0x32888c(0x313)](_0x32888c(0x489))||_0x5e5a09[_0x32888c(0x313)](_0x32888c(0x4cc)))return;const _0x1523f3=_0x5e5a09[_0x32888c(0x5d9)][0x0]?.[_0x32888c(0x565)][_0x32888c(0x5ef)]()||'',_0x56ade8=_0x5e5a09[_0x32888c(0x5d9)][0x5]?.['textContent'][_0x32888c(0x5ef)]()||'';_0x1523f3['includes'](_0x22f1f6)||_0x56ade8['includes'](_0x22f1f6)?_0x5e5a09[_0x32888c(0x2d9)][_0x32888c(0x404)]='':_0x5e5a09[_0x32888c(0x2d9)][_0x32888c(0x404)]='none';});},0x12c)),document[_0xe65246(0x511)](_0xe65246(0x610),function(_0x3c9926){const _0x456956=_0xe65246;if(_0x3c9926['target'][_0x456956(0x2c6)](_0x456956(0x61a))){const _0xa3a7ab=_0x3c9926[_0x456956(0x56d)][_0x456956(0x2c6)](_0x456956(0x61a)),_0x1c56e1=_0xa3a7ab['dataset'][_0x456956(0x3f7)];_0x1c56e1&&alert('View\x20player\x20details\x20for\x20'+_0x1c56e1+_0x456956(0x3b5));}}),console[_0xe65246(0x51b)](_0xe65246(0x212));}async function loadInactivePlayersData(){const _0x3f4e08=a4_0x182e79,_0x331d7d=document['getElementById'](_0x3f4e08(0x5b0));if(!_0x331d7d)return;_0x331d7d['innerHTML']=_0x3f4e08(0x475);try{const _0x129520=document[_0x3f4e08(0x2e0)]('inactive-days-filter'),_0x48680f=_0x129520?parseInt(_0x129520[_0x3f4e08(0x3bc)])||0x0:0x0,_0x5e4fd3=collection(db,currentLadder==='D1'?'players':_0x3f4e08(0x3a2)),_0x20497c=await getDocs(_0x5e4fd3);if(_0x20497c[_0x3f4e08(0x3f9)]){_0x331d7d[_0x3f4e08(0x398)]=_0x3f4e08(0x33a);return;}const _0x40bc10=[];_0x20497c[_0x3f4e08(0x2b1)](_0x464c58=>{const _0x43f99e=_0x3f4e08,_0x1985ed=_0x464c58['data']();_0x40bc10[_0x43f99e(0x45e)]({..._0x1985ed,'id':_0x464c58['id'],'username':_0x1985ed[_0x43f99e(0x3f7)]||'Unknown\x20Player'});}),console[_0x3f4e08(0x51b)](_0x3f4e08(0x5fe)+_0x40bc10[_0x3f4e08(0x608)]+_0x3f4e08(0x5c1)+currentLadder+'\x20ladder');const _0x471c05=currentLadder==='D1'?_0x3f4e08(0x4ab):_0x3f4e08(0x5e7),_0x1a5cc4=_0x40bc10[_0x3f4e08(0x62d)](async _0x3e9997=>{const _0x564909=_0x3f4e08;try{const _0x213f31=collection(db,_0x471c05),_0x37866a=query(_0x213f31,or(where(_0x564909(0x5dd),'==',_0x3e9997[_0x564909(0x3f7)]),where(_0x564909(0x234),'==',_0x3e9997['username'])),orderBy('approvedAt','desc'),limit(0x1)),_0x463dd9=await getDocs(_0x37866a);if(!_0x463dd9['empty']){const _0x50a2fa=_0x463dd9[_0x564909(0x423)][0x0][_0x564909(0x35f)](),_0x1e686e=_0x50a2fa[_0x564909(0x1d5)]?new Date(_0x50a2fa[_0x564909(0x1d5)][_0x564909(0x24e)]*0x3e8):null,_0x51f4e8=new Date(),_0x444ef2=_0x1e686e?Math[_0x564909(0x3cb)]((_0x51f4e8-_0x1e686e)/(0x3e8*0x3c*0x3c*0x18)):null,_0x569854=_0x50a2fa[_0x564909(0x5dd)]===_0x3e9997[_0x564909(0x3f7)]?_0x50a2fa[_0x564909(0x234)]:_0x50a2fa[_0x564909(0x5dd)],_0x902805=_0x50a2fa[_0x564909(0x5dd)]===_0x3e9997['username']?_0x564909(0x259):_0x564909(0x48d);return{..._0x3e9997,'lastMatch':{'date':_0x1e686e?_0x1e686e[_0x564909(0x466)]():_0x564909(0x1e8),'opponent':_0x569854||'Unknown','result':_0x902805,'timestamp':_0x1e686e||new Date(0x0),'daysSinceMatch':_0x444ef2||Number[_0x564909(0x1fa)]}};}else return{..._0x3e9997,'lastMatch':{'date':_0x564909(0x1d3),'opponent':_0x564909(0x1e8),'result':_0x564909(0x1e8),'timestamp':new Date(0x0),'daysSinceMatch':Number[_0x564909(0x1fa)]}};}catch(_0x4a0766){return console[_0x564909(0x24c)]('Error\x20fetching\x20matches\x20for\x20'+_0x3e9997[_0x564909(0x3f7)]+':',_0x4a0766),{..._0x3e9997,'lastMatch':{'date':_0x564909(0x5aa),'opponent':_0x564909(0x5aa),'result':_0x564909(0x5aa),'timestamp':new Date(0x0),'daysSinceMatch':0x0}};}});let _0x182986=await Promise[_0x3f4e08(0x55a)](_0x1a5cc4);_0x182986[_0x3f4e08(0x4cd)]((_0x3ac403,_0x14f198)=>_0x14f198[_0x3f4e08(0x22b)]['daysSinceMatch']-_0x3ac403[_0x3f4e08(0x22b)]['daysSinceMatch']);_0x48680f>0x0&&(_0x182986=_0x182986[_0x3f4e08(0x599)](_0x598dc2=>_0x598dc2[_0x3f4e08(0x22b)][_0x3f4e08(0x2d2)]>=_0x48680f));_0x331d7d[_0x3f4e08(0x398)]='';if(_0x182986['length']===0x0){_0x331d7d[_0x3f4e08(0x398)]=_0x3f4e08(0x409);return;}_0x182986[_0x3f4e08(0x2b1)](_0x3764c7=>{const _0x2c0a70=_0x3f4e08,_0x415490=document[_0x2c0a70(0x3b6)]('tr'),_0x531ef0=_0x3764c7['lastMatch'][_0x2c0a70(0x2d2)]>0x1e?_0x2c0a70(0x2a4):_0x3764c7[_0x2c0a70(0x22b)][_0x2c0a70(0x2d2)]>0xe?'moderately-inactive':'';_0x415490['className']=_0x531ef0,_0x415490[_0x2c0a70(0x398)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x3764c7[_0x2c0a70(0x3f7)]+_0x2c0a70(0x211)+(_0x3764c7[_0x2c0a70(0x32f)]||0x4b0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x3764c7[_0x2c0a70(0x22b)][_0x2c0a70(0x550)]+_0x2c0a70(0x211)+(_0x3764c7[_0x2c0a70(0x22b)][_0x2c0a70(0x2d2)]===Number['MAX_SAFE_INTEGER']?_0x2c0a70(0x1e8):_0x3764c7[_0x2c0a70(0x22b)][_0x2c0a70(0x2d2)])+_0x2c0a70(0x211)+currentLadder+_0x2c0a70(0x211)+(_0x3764c7[_0x2c0a70(0x22b)]['date']===_0x2c0a70(0x1d3)?_0x2c0a70(0x271):_0x3764c7['lastMatch'][_0x2c0a70(0x49c)]+_0x2c0a70(0x370)+_0x3764c7['lastMatch'][_0x2c0a70(0x507)])+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22view-player-btn\x22\x20data-username=\x22'+_0x3764c7[_0x2c0a70(0x3f7)]+_0x2c0a70(0x328),_0x331d7d[_0x2c0a70(0x5df)](_0x415490);}),console[_0x3f4e08(0x51b)](_0x3f4e08(0x27f)+_0x182986['length']+_0x3f4e08(0x29e));}catch(_0x100f4f){console[_0x3f4e08(0x24c)](_0x3f4e08(0x5e9),_0x100f4f),_0x331d7d[_0x3f4e08(0x398)]='<tr><td\x20colspan=\x227\x22\x20class=\x22error-state\x22>Error\x20loading\x20inactive\x20players:\x20'+_0x100f4f[_0x3f4e08(0x362)]+_0x3f4e08(0x5c2);}}function setupHighlightButtons(){const _0x540f3f=a4_0x182e79;console[_0x540f3f(0x51b)]('Setting\x20up\x20highlight\x20buttons');const _0x292241=document[_0x540f3f(0x2e0)](_0x540f3f(0x2f8));_0x292241&&_0x292241[_0x540f3f(0x511)](_0x540f3f(0x610),function(){const _0x4e613a=_0x540f3f;console[_0x4e613a(0x51b)](_0x4e613a(0x4ec)),openHighlightModal(_0x4e613a(0x4d4));});const _0x5b035d=document[_0x540f3f(0x2e0)]('create-creator-highlight-btn');_0x5b035d&&_0x5b035d['addEventListener'](_0x540f3f(0x610),function(){const _0x3aebd0=_0x540f3f;console[_0x3aebd0(0x51b)](_0x3aebd0(0x61d)),openHighlightModal('creator');});const _0x143acd=document['getElementById'](_0x540f3f(0x424));_0x143acd&&_0x143acd[_0x540f3f(0x511)](_0x540f3f(0x610),function(){const _0x5b0cca=_0x540f3f;console[_0x5b0cca(0x51b)](_0x5b0cca(0x2bd)),openHighlightModal(_0x5b0cca(0x518));});}function openHighlightModal(_0x251f0b=a4_0x182e79(0x4d4)){const _0x405d88=a4_0x182e79;console[_0x405d88(0x51b)]('Opening\x20highlight\x20modal\x20with\x20parameter:\x20'+_0x251f0b);const _0x17d5b5=document[_0x405d88(0x2e0)](_0x405d88(0x27d)),_0x5d1f65=document[_0x405d88(0x2e0)](_0x405d88(0x422)),_0x209093=document[_0x405d88(0x2e0)](_0x405d88(0x23d)),_0x28515c=document[_0x405d88(0x2e0)](_0x405d88(0x1d9));if(!_0x17d5b5||!_0x5d1f65||!_0x209093){console['error'](_0x405d88(0x241));return;}_0x5d1f65[_0x405d88(0x553)](),_0x28515c[_0x405d88(0x3bc)]='';const _0x4f044e=[_0x405d88(0x4d4),_0x405d88(0x5da),'achievement'],_0x46582b=!_0x4f044e[_0x405d88(0x202)](_0x251f0b);if(_0x46582b){const _0x430965=_0x251f0b;_0x28515c[_0x405d88(0x3bc)]=_0x430965,_0x209093[_0x405d88(0x565)]='Loading...',loadHighlightDataAdmin(_0x430965);}else{const _0xdca6a0=_0x251f0b;document[_0x405d88(0x2e0)]('highlight-type')[_0x405d88(0x3bc)]=_0xdca6a0,_0x209093[_0x405d88(0x565)]=_0x405d88(0x286)+getHighlightTypeName(_0xdca6a0),toggleHighlightFields(_0xdca6a0);const _0x213f79=auth[_0x405d88(0x1f5)];_0x213f79&&document[_0x405d88(0x2e0)](_0x405d88(0x44c))&&(document['getElementById'](_0x405d88(0x44c))['value']=_0x213f79[_0x405d88(0x407)]||_0x213f79[_0x405d88(0x542)]);}_0x17d5b5[_0x405d88(0x3c2)][_0x405d88(0x4f1)](_0x405d88(0x3a4));}function toggleHighlightFields(_0x62982b){const _0x44fc08=a4_0x182e79;console[_0x44fc08(0x51b)]('Toggling\x20fields\x20for\x20highlight\x20type:\x20'+_0x62982b);const _0x2e03ab=document[_0x44fc08(0x2e0)](_0x44fc08(0x422));if(!_0x2e03ab)return;const _0x5d3ebf=_0x2e03ab[_0x44fc08(0x61b)](_0x44fc08(0x579));_0x5d3ebf[_0x44fc08(0x2b1)](_0x4cd7e9=>_0x4cd7e9[_0x44fc08(0x2d9)][_0x44fc08(0x404)]=_0x44fc08(0x583));const _0x43cbce=document[_0x44fc08(0x2e0)](_0x44fc08(0x3a5));if(_0x43cbce)_0x43cbce[_0x44fc08(0x2d9)][_0x44fc08(0x404)]=_0x44fc08(0x583);const _0x186c43=[_0x44fc08(0x249),_0x44fc08(0x456),_0x44fc08(0x486)];_0x186c43[_0x44fc08(0x2b1)](_0x3311ca=>{const _0x51956a=_0x44fc08,_0x3ba1cc=document[_0x51956a(0x2e0)](_0x3311ca);if(_0x3ba1cc)_0x3ba1cc[_0x51956a(0x2d9)][_0x51956a(0x404)]='block';});if(_0x62982b===_0x44fc08(0x4d4)){const _0x2e37bc=['highlight-video-container',_0x44fc08(0x5a4),_0x44fc08(0x1ec),_0x44fc08(0x21d),_0x44fc08(0x4ac),_0x44fc08(0x214)];_0x2e37bc[_0x44fc08(0x2b1)](_0xed87ee=>{const _0x4524de=_0x44fc08,_0x2c5aab=document['getElementById'](_0xed87ee);_0x2c5aab&&(_0xed87ee==='highlight-players-container'?_0x2c5aab[_0x4524de(0x2d9)][_0x4524de(0x404)]='flex':_0x2c5aab['style']['display']=_0x4524de(0x4e9));});const _0x1e50fb=document['getElementById'](_0x44fc08(0x1e0));if(_0x1e50fb){_0x1e50fb[_0x44fc08(0x351)]=!![];const _0x2c9cb5=_0x1e50fb[_0x44fc08(0x5ff)];if(_0x2c9cb5)_0x2c9cb5['innerHTML']=_0x44fc08(0x206);}if(_0x43cbce)_0x43cbce[_0x44fc08(0x2d9)][_0x44fc08(0x404)]=_0x44fc08(0x4e9);updateHighlightVideoPreview();}else{if(_0x62982b===_0x44fc08(0x5da)){const _0x4f6ed8=[_0x44fc08(0x1ec),_0x44fc08(0x54f),_0x44fc08(0x1ff),'highlight-creator-image-container',_0x44fc08(0x411)];_0x4f6ed8[_0x44fc08(0x2b1)](_0x49a651=>{const _0x227f2e=_0x44fc08,_0x552e03=document[_0x227f2e(0x2e0)](_0x49a651);if(_0x552e03)_0x552e03[_0x227f2e(0x2d9)]['display']=_0x227f2e(0x4e9);});const _0x280542=document['getElementById'](_0x44fc08(0x1e0));if(_0x280542){_0x280542[_0x44fc08(0x351)]=![];const _0x5a6d5f=_0x280542['previousElementSibling'];if(_0x5a6d5f)_0x5a6d5f[_0x44fc08(0x398)]=_0x44fc08(0x3fc);}}else{if(_0x62982b===_0x44fc08(0x518)){const _0x41429b=[_0x44fc08(0x2b3),_0x44fc08(0x3dd),_0x44fc08(0x5a2),_0x44fc08(0x28e),_0x44fc08(0x41e),'highlight-video-container'];_0x41429b[_0x44fc08(0x2b1)](_0x171fb8=>{const _0x51dda2=_0x44fc08,_0x4526d8=document['getElementById'](_0x171fb8);if(_0x4526d8)_0x4526d8[_0x51dda2(0x2d9)][_0x51dda2(0x404)]='block';});const _0x56496f=document['getElementById'](_0x44fc08(0x1e0));if(_0x56496f){_0x56496f[_0x44fc08(0x351)]=![];const _0x1688cf=_0x56496f['previousElementSibling'];if(_0x1688cf)_0x1688cf[_0x44fc08(0x398)]=_0x44fc08(0x3fc);}}}}}async function loadHighlightDataAdmin(_0x4e9e79){const _0x5db447=a4_0x182e79;try{const _0x1ce590=doc(db,_0x5db447(0x4b1),_0x4e9e79),_0x1ef765=await getDoc(_0x1ce590);if(!_0x1ef765['exists']()){showNotification(_0x5db447(0x2f2),_0x5db447(0x24c));return;}const _0x1f9db2=_0x1ef765['data'](),_0xd4ea3a=_0x1f9db2[_0x5db447(0x2b7)]||_0x5db447(0x4d4);document[_0x5db447(0x2e0)]('highlight-modal-title')[_0x5db447(0x565)]=_0x5db447(0x393)+getHighlightTypeName(_0xd4ea3a),document[_0x5db447(0x2e0)](_0x5db447(0x3bb))['value']=_0xd4ea3a,toggleHighlightFields(_0xd4ea3a),document[_0x5db447(0x2e0)](_0x5db447(0x476))[_0x5db447(0x3bc)]=_0x1f9db2[_0x5db447(0x36b)]||'',document['getElementById'](_0x5db447(0x319))[_0x5db447(0x3bc)]=_0x1f9db2['description']||'',document[_0x5db447(0x2e0)](_0x5db447(0x44c))[_0x5db447(0x3bc)]=_0x1f9db2['submittedBy']||'';_0x1f9db2[_0x5db447(0x5e2)]&&(document[_0x5db447(0x2e0)]('highlight-video-id')['value']=_0x1f9db2[_0x5db447(0x5e2)],updateHighlightVideoPreview());if(_0xd4ea3a===_0x5db447(0x4d4)){document[_0x5db447(0x2e0)]('highlight-match-info')[_0x5db447(0x3bc)]=_0x1f9db2['matchInfo']||'',document['getElementById']('highlight-map')['value']=_0x1f9db2[_0x5db447(0x62d)]||'';if(_0x1f9db2['matchDate']){const _0x588985=new Date(_0x1f9db2[_0x5db447(0x361)][_0x5db447(0x24e)]*0x3e8);document['getElementById'](_0x5db447(0x284))[_0x5db447(0x3bc)]=_0x588985[_0x5db447(0x46f)]()['split']('T')[0x0];}document[_0x5db447(0x2e0)](_0x5db447(0x238))[_0x5db447(0x3bc)]=_0x1f9db2[_0x5db447(0x487)]||'',document['getElementById'](_0x5db447(0x372))[_0x5db447(0x3bc)]=_0x1f9db2[_0x5db447(0x45b)]||'',document[_0x5db447(0x2e0)]('highlight-loser-name')[_0x5db447(0x3bc)]=_0x1f9db2[_0x5db447(0x629)]||'',document[_0x5db447(0x2e0)](_0x5db447(0x25b))[_0x5db447(0x3bc)]=_0x1f9db2['loserScore']||'',document[_0x5db447(0x2e0)]('highlight-match-link')[_0x5db447(0x3bc)]=_0x1f9db2['matchLink']||'';}else{if(_0xd4ea3a==='creator')document[_0x5db447(0x2e0)](_0x5db447(0x62f))[_0x5db447(0x3bc)]=_0x1f9db2[_0x5db447(0x62d)]||'',document['getElementById'](_0x5db447(0x374))['value']=_0x1f9db2[_0x5db447(0x4d8)]||'',document[_0x5db447(0x2e0)]('highlight-map-version')[_0x5db447(0x3bc)]=_0x1f9db2[_0x5db447(0x346)]||'',document[_0x5db447(0x2e0)](_0x5db447(0x252))[_0x5db447(0x3bc)]=_0x1f9db2[_0x5db447(0x40e)]||'';else _0xd4ea3a===_0x5db447(0x518)&&(document[_0x5db447(0x2e0)](_0x5db447(0x2f6))[_0x5db447(0x3bc)]=_0x1f9db2['achievementPlayer']||'',document[_0x5db447(0x2e0)](_0x5db447(0x465))[_0x5db447(0x3bc)]=_0x1f9db2[_0x5db447(0x5a6)]||'',document[_0x5db447(0x2e0)]('highlight-achievement-details')[_0x5db447(0x3bc)]=_0x1f9db2['achievementDetails']||'',document[_0x5db447(0x2e0)]('highlight-player-profile')['value']=_0x1f9db2[_0x5db447(0x615)]||'',document[_0x5db447(0x2e0)]('highlight-achievement-image')['value']=_0x1f9db2[_0x5db447(0x3da)]||'');}}catch(_0x2b0450){console['error'](_0x5db447(0x43a),_0x2b0450),showNotification('Error\x20loading\x20highlight:\x20'+_0x2b0450[_0x5db447(0x362)],_0x5db447(0x24c));}}async function saveHighlight(){const _0x5490a1=a4_0x182e79;try{const _0x4da47a=document['getElementById'](_0x5490a1(0x1d9))?.[_0x5490a1(0x3bc)]||'',_0x25d58f=document[_0x5490a1(0x2e0)](_0x5490a1(0x3bb))?.[_0x5490a1(0x3bc)]||_0x5490a1(0x4d4),_0x57aca1={'title':document['getElementById'](_0x5490a1(0x476))?.[_0x5490a1(0x3bc)]?.[_0x5490a1(0x352)]()||'','description':document['getElementById'](_0x5490a1(0x319))?.[_0x5490a1(0x3bc)]?.[_0x5490a1(0x352)]()||'','submittedBy':document[_0x5490a1(0x2e0)]('highlight-submitted-by')?.['value']?.[_0x5490a1(0x352)]()||'','videoId':document[_0x5490a1(0x2e0)](_0x5490a1(0x1e0))?.['value']?.[_0x5490a1(0x352)]()||null,'type':_0x25d58f};if(!_0x57aca1[_0x5490a1(0x36b)]){showNotification(_0x5490a1(0x46b),_0x5490a1(0x24c));return;}if(_0x25d58f==='match'){_0x57aca1['matchInfo']=document[_0x5490a1(0x2e0)](_0x5490a1(0x4db))?.[_0x5490a1(0x3bc)]?.[_0x5490a1(0x352)]()||'',_0x57aca1[_0x5490a1(0x62d)]=document[_0x5490a1(0x2e0)](_0x5490a1(0x62f))?.[_0x5490a1(0x3bc)]?.[_0x5490a1(0x352)]()||'';const _0x2cd155=document[_0x5490a1(0x2e0)](_0x5490a1(0x284)),_0x333f38=_0x2cd155?.[_0x5490a1(0x3bc)]||'';_0x57aca1['matchDate']=_0x333f38?Timestamp['fromDate'](new Date(_0x333f38)):null,_0x57aca1[_0x5490a1(0x487)]=document[_0x5490a1(0x2e0)](_0x5490a1(0x238))?.[_0x5490a1(0x3bc)]?.[_0x5490a1(0x352)]()||'',_0x57aca1[_0x5490a1(0x45b)]=document[_0x5490a1(0x2e0)]('highlight-winner-score')?.[_0x5490a1(0x3bc)]?.['trim']()||'',_0x57aca1[_0x5490a1(0x629)]=document[_0x5490a1(0x2e0)]('highlight-loser-name')?.[_0x5490a1(0x3bc)]?.[_0x5490a1(0x352)]()||'',_0x57aca1[_0x5490a1(0x5fb)]=document['getElementById']('highlight-loser-score')?.[_0x5490a1(0x3bc)]?.['trim']()||'',_0x57aca1[_0x5490a1(0x23c)]=document[_0x5490a1(0x2e0)]('highlight-match-link')?.[_0x5490a1(0x3bc)]?.[_0x5490a1(0x352)]()||'';if(!_0x57aca1[_0x5490a1(0x5e2)]){showNotification(_0x5490a1(0x463),_0x5490a1(0x24c));return;}}else{if(_0x25d58f===_0x5490a1(0x5da)){_0x57aca1['map']=document[_0x5490a1(0x2e0)]('highlight-map')?.['value']?.[_0x5490a1(0x352)]()||'',_0x57aca1[_0x5490a1(0x4d8)]=document['getElementById'](_0x5490a1(0x374))?.[_0x5490a1(0x3bc)]?.[_0x5490a1(0x352)]()||'',_0x57aca1['mapVersion']=document[_0x5490a1(0x2e0)](_0x5490a1(0x47f))?.[_0x5490a1(0x3bc)]?.[_0x5490a1(0x352)]()||'',_0x57aca1[_0x5490a1(0x40e)]=document[_0x5490a1(0x2e0)](_0x5490a1(0x252))?.['value']?.['trim']()||'';if(!_0x57aca1[_0x5490a1(0x4d8)]){showNotification(_0x5490a1(0x512),_0x5490a1(0x24c));return;}}else{if(_0x25d58f===_0x5490a1(0x518)){_0x57aca1[_0x5490a1(0x3dc)]=document['getElementById']('highlight-achievement-player')?.[_0x5490a1(0x3bc)]?.[_0x5490a1(0x352)]()||'',_0x57aca1[_0x5490a1(0x5a6)]=document[_0x5490a1(0x2e0)]('highlight-achievement-type')?.['value']?.[_0x5490a1(0x352)]()||'',_0x57aca1['achievementDetails']=document[_0x5490a1(0x2e0)]('highlight-achievement-details')?.[_0x5490a1(0x3bc)]?.['trim']()||'',_0x57aca1[_0x5490a1(0x615)]=document[_0x5490a1(0x2e0)](_0x5490a1(0x29c))?.[_0x5490a1(0x3bc)]?.[_0x5490a1(0x352)]()||'',_0x57aca1[_0x5490a1(0x3da)]=document[_0x5490a1(0x2e0)](_0x5490a1(0x24d))?.[_0x5490a1(0x3bc)]?.[_0x5490a1(0x352)]()||'';if(!_0x57aca1[_0x5490a1(0x3dc)]){showNotification(_0x5490a1(0x4f4),_0x5490a1(0x24c));return;}}}}_0x4da47a?(_0x57aca1['updatedAt']=serverTimestamp(),await updateDoc(doc(db,_0x5490a1(0x4b1),_0x4da47a),_0x57aca1),showNotification(_0x5490a1(0x3c4),_0x5490a1(0x4b9))):(_0x57aca1['createdAt']=serverTimestamp(),await addDoc(collection(db,_0x5490a1(0x4b1)),_0x57aca1),showNotification(_0x5490a1(0x23e),'success')),closeHighlightModal(),loadHighlightsAdmin();}catch(_0x1f4ae6){console['error']('Error\x20saving\x20highlight:',_0x1f4ae6),showNotification(_0x5490a1(0x23b)+_0x1f4ae6[_0x5490a1(0x362)],_0x5490a1(0x24c));}}function closeHighlightModal(){const _0x1a5d81=a4_0x182e79,_0x206a2a=document[_0x1a5d81(0x2e0)]('highlight-modal');if(_0x206a2a)_0x206a2a['classList']['remove'](_0x1a5d81(0x3a4));}function getHighlightTypeName(_0x42b1a2){const _0x510d8d=a4_0x182e79;switch(_0x42b1a2){case _0x510d8d(0x4d4):return _0x510d8d(0x300);case _0x510d8d(0x5da):return _0x510d8d(0x5f8);case _0x510d8d(0x518):return'Player\x20Achievement';default:return _0x510d8d(0x418);}}function updateHighlightVideoPreview(){const _0x22ea58=a4_0x182e79,_0x4fe80a=document[_0x22ea58(0x2e0)]('highlight-video-id'),_0x23e142=document[_0x22ea58(0x2e0)](_0x22ea58(0x3a5)),_0x17d052=document[_0x22ea58(0x2e0)](_0x22ea58(0x572));if(!_0x4fe80a||!_0x17d052||!_0x23e142)return;const _0xd13059=_0x4fe80a[_0x22ea58(0x3bc)][_0x22ea58(0x352)]();_0xd13059&&/^[a-zA-Z0-9_-]{11}$/[_0x22ea58(0x41a)](_0xd13059)?(_0x17d052[_0x22ea58(0x4ee)]=_0x22ea58(0x4ce)+_0xd13059,_0x23e142[_0x22ea58(0x2d9)]['display']='block'):(_0x17d052['src']='',_0x23e142[_0x22ea58(0x2d9)]['display']=_0x22ea58(0x583));}async function loadHighlightsAdmin(){const _0x30e894=a4_0x182e79,_0x161bfc=document[_0x30e894(0x2e0)]('highlights-table-body');if(!_0x161bfc)return;_0x161bfc[_0x30e894(0x398)]='<tr><td\x20colspan=\x226\x22\x20class=\x22loading-cell\x22>Loading\x20highlights...</td></tr>';try{const _0x1575bd=query(collection(db,_0x30e894(0x4b1)),orderBy(_0x30e894(0x1e7),_0x30e894(0x59e))),_0xf3d2c=await getDocs(_0x1575bd);if(_0xf3d2c[_0x30e894(0x3f9)]){_0x161bfc[_0x30e894(0x398)]=_0x30e894(0x264);return;}_0x161bfc[_0x30e894(0x398)]='',_0xf3d2c[_0x30e894(0x2b1)](_0x580d7b=>{const _0x2a9fe3=_0x30e894,_0x1ad3ac=_0x580d7b['data'](),_0x449ab2=document[_0x2a9fe3(0x3b6)]('tr'),_0x4d84fa=_0x1ad3ac['createdAt']?new Date(_0x1ad3ac[_0x2a9fe3(0x1e7)]['seconds']*0x3e8)['toLocaleDateString']():_0x2a9fe3(0x1e8);let _0x354fd7=_0x2a9fe3(0x53d),_0x384e7c='';switch(_0x1ad3ac[_0x2a9fe3(0x2b7)]){case _0x2a9fe3(0x4d4):_0x354fd7='Match',_0x384e7c=_0x2a9fe3(0x497);break;case'creator':_0x354fd7=_0x2a9fe3(0x3d5),_0x384e7c='creator-type';break;case _0x2a9fe3(0x518):_0x354fd7='Achievement',_0x384e7c=_0x2a9fe3(0x4e5);break;}_0x449ab2[_0x2a9fe3(0x398)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x1ad3ac[_0x2a9fe3(0x36b)]||_0x2a9fe3(0x1dc))+_0x2a9fe3(0x5b4)+_0x384e7c+'\x22>'+_0x354fd7+'</span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x4d84fa+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x1ad3ac[_0x2a9fe3(0x3ef)]||_0x2a9fe3(0x53d))+_0x2a9fe3(0x211)+(_0x1ad3ac[_0x2a9fe3(0x5e2)]?'<i\x20class=\x22fas\x20fa-video\x22></i>\x20Yes':_0x2a9fe3(0x1f8))+_0x2a9fe3(0x57d)+_0x580d7b['id']+_0x2a9fe3(0x21e)+_0x580d7b['id']+'\x22\x20title=\x22Delete\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x161bfc[_0x2a9fe3(0x5df)](_0x449ab2);}),document[_0x30e894(0x61b)]('.edit-highlight-btn')[_0x30e894(0x2b1)](_0x5a362a=>{_0x5a362a['addEventListener']('click',_0x4b8b20=>{const _0x5ddacf=a4_0x3a00;openHighlightModal(_0x4b8b20[_0x5ddacf(0x519)][_0x5ddacf(0x45c)]['id']);});}),document['querySelectorAll'](_0x30e894(0x36e))[_0x30e894(0x2b1)](_0x71fa56=>{const _0x158d7d=_0x30e894;_0x71fa56[_0x158d7d(0x511)](_0x158d7d(0x610),_0x2e88a0=>{const _0x1a5e4e=_0x158d7d;confirmDeleteHighlight(_0x2e88a0[_0x1a5e4e(0x519)]['dataset']['id']);});});}catch(_0x39b4ca){console[_0x30e894(0x24c)](_0x30e894(0x2e6),_0x39b4ca),_0x161bfc[_0x30e894(0x398)]=_0x30e894(0x582)+_0x39b4ca['message']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}async function confirmDeleteHighlight(_0x4c7d9d){const _0x51977a=a4_0x182e79;if(confirm(_0x51977a(0x5cf)))try{await deleteDoc(doc(db,_0x51977a(0x4b1),_0x4c7d9d)),showNotification(_0x51977a(0x3e0),_0x51977a(0x4b9)),loadHighlightsAdmin();}catch(_0x5590b5){console[_0x51977a(0x24c)](_0x51977a(0x426),_0x5590b5),showNotification(_0x51977a(0x4c4)+_0x5590b5[_0x51977a(0x362)],_0x51977a(0x24c));}}function setupCreateTestMatchModal(){const _0x155bd0=a4_0x182e79;console[_0x155bd0(0x51b)]('Setting\x20up\x20create\x20test\x20match\x20modal\x20events');const _0x48d9d6=document['getElementById'](_0x155bd0(0x4a4)),_0x347d4f=document['getElementById']('create-test-match-form');if(!_0x48d9d6){console[_0x155bd0(0x24c)](_0x155bd0(0x2ca));return;}if(!_0x347d4f){console['error'](_0x155bd0(0x584));return;}const _0x5553d5=_0x48d9d6[_0x155bd0(0x449)](!![]);_0x48d9d6[_0x155bd0(0x2d6)][_0x155bd0(0x277)](_0x5553d5,_0x48d9d6);const _0x5b6e38=_0x5553d5[_0x155bd0(0x313)](_0x155bd0(0x344));_0x5553d5[_0x155bd0(0x511)](_0x155bd0(0x610),function(_0x7a90f4){const _0x33f329=_0x155bd0;_0x7a90f4[_0x33f329(0x56d)]===_0x5553d5&&(console['log'](_0x33f329(0x272)),closeCreateTestMatchModal());});const _0x3d5003=_0x5553d5[_0x155bd0(0x313)]('.close-btn');_0x3d5003&&_0x3d5003[_0x155bd0(0x511)]('click',function(_0x3069f8){const _0x4f2051=_0x155bd0;_0x3069f8[_0x4f2051(0x5e1)](),_0x3069f8[_0x4f2051(0x3c0)](),console['log'](_0x4f2051(0x523)),closeCreateTestMatchModal();});const _0x3b560c=_0x5553d5[_0x155bd0(0x313)](_0x155bd0(0x343));_0x3b560c&&_0x3b560c[_0x155bd0(0x511)](_0x155bd0(0x610),function(_0x16919e){const _0x14730c=_0x155bd0;_0x16919e[_0x14730c(0x5e1)](),_0x16919e['stopPropagation'](),console[_0x14730c(0x51b)]('Modal\x20cancel\x20button\x20clicked'),closeCreateTestMatchModal();});if(_0x5b6e38){_0x5b6e38['addEventListener'](_0x155bd0(0x494),function(_0x2339bd){const _0x76c654=_0x155bd0;_0x2339bd[_0x76c654(0x5e1)](),_0x2339bd[_0x76c654(0x3c0)](),console[_0x76c654(0x51b)](_0x76c654(0x208)),createTestMatch();});const _0x51c7a7=_0x5b6e38[_0x155bd0(0x313)](_0x155bd0(0x55c));_0x51c7a7&&_0x51c7a7[_0x155bd0(0x511)](_0x155bd0(0x610),function(_0xfe3676){const _0x431f5=_0x155bd0;_0xfe3676[_0x431f5(0x5e1)](),_0xfe3676[_0x431f5(0x3c0)](),console[_0x431f5(0x51b)](_0x431f5(0x585)),createTestMatch();});}console[_0x155bd0(0x51b)](_0x155bd0(0x3f8));}function setupManageHighlightsSection(){const _0x25c3e8=a4_0x182e79;console[_0x25c3e8(0x51b)](_0x25c3e8(0x50c)),setupHighlightButtons();const _0xe6c67a=document['getElementById'](_0x25c3e8(0x422));_0xe6c67a&&_0xe6c67a[_0x25c3e8(0x511)]('submit',_0x5410ec=>{const _0x4b99d4=_0x25c3e8;_0x5410ec[_0x4b99d4(0x5e1)](),saveHighlight();});const _0x52e0aa=document[_0x25c3e8(0x2e0)](_0x25c3e8(0x431));_0x52e0aa&&_0x52e0aa[_0x25c3e8(0x511)](_0x25c3e8(0x610),closeHighlightModal);const _0x233b23=document['querySelector'](_0x25c3e8(0x3a3));_0x233b23&&_0x233b23[_0x25c3e8(0x511)]('click',closeHighlightModal);const _0x278bc1=document[_0x25c3e8(0x2e0)]('highlight-modal');_0x278bc1&&_0x278bc1[_0x25c3e8(0x511)](_0x25c3e8(0x610),_0x22658e=>{const _0x441f3d=_0x25c3e8;_0x22658e[_0x441f3d(0x56d)]===_0x278bc1&&closeHighlightModal();});const _0x431f5d=document[_0x25c3e8(0x2e0)](_0x25c3e8(0x1e0));_0x431f5d&&_0x431f5d[_0x25c3e8(0x511)](_0x25c3e8(0x20c),()=>{updateHighlightVideoPreview();}),console['log']('Manage\x20Highlights\x20section\x20initialized');}function setupManageMatchesSection(){const _0x255a22=a4_0x182e79;console[_0x255a22(0x51b)](_0x255a22(0x5fd));const _0x121180=document[_0x255a22(0x2e0)](_0x255a22(0x4b2)),_0x41f740=document[_0x255a22(0x2e0)](_0x255a22(0x21c));_0x121180&&_0x121180[_0x255a22(0x511)]('click',()=>{const _0x335e18=_0x255a22,_0x1a042c=currentLadder[_0x335e18(0x5ef)]();loadMatchesData(matchesPagination[_0x1a042c][_0x335e18(0x5d1)]-0x1);});_0x41f740&&_0x41f740[_0x255a22(0x511)](_0x255a22(0x610),()=>{const _0x3b6d92=_0x255a22,_0x5bc364=currentLadder['toLowerCase']();loadMatchesData(matchesPagination[_0x5bc364][_0x3b6d92(0x5d1)]+0x1);});const _0x387e02=document[_0x255a22(0x2e0)](_0x255a22(0x58a)),_0x48d338=document[_0x255a22(0x2e0)](_0x255a22(0x39c));_0x387e02&&_0x387e02[_0x255a22(0x511)](_0x255a22(0x610),applyMatchesFilters);_0x48d338&&_0x48d338[_0x255a22(0x511)](_0x255a22(0x610),resetMatchesFilters);const _0x128018=document[_0x255a22(0x2e0)](_0x255a22(0x32e));_0x128018&&_0x128018['addEventListener']('input',debounce(filterMatchesTable,0x12c));const _0x2d7da6=document[_0x255a22(0x2e0)](_0x255a22(0x358));_0x2d7da6&&_0x2d7da6[_0x255a22(0x511)](_0x255a22(0x610),openResimulateModal);const _0xa7bb69=document['getElementById'](_0x255a22(0x535));if(_0xa7bb69){const _0x1014b6=_0xa7bb69[_0x255a22(0x313)]('.close');_0x1014b6&&_0x1014b6[_0x255a22(0x511)](_0x255a22(0x610),closeResimulateModal),_0xa7bb69[_0x255a22(0x511)](_0x255a22(0x610),_0x1daca6=>{const _0x342104=_0x255a22;_0x1daca6[_0x342104(0x56d)]===_0xa7bb69&&closeResimulateModal();});}setupCreateTestMatchButton(),setupCreateTestMatchModal(),console['log'](_0x255a22(0x556));}function openCreateTestMatchModal(){const _0x598fa9=a4_0x182e79;console['log'](_0x598fa9(0x1eb));const _0x13ee6b=document[_0x598fa9(0x2e0)]('create-test-match-modal'),_0x4f6969=document['getElementById']('create-test-match-form');if(!_0x13ee6b){console[_0x598fa9(0x24c)](_0x598fa9(0x3df)),showNotification(_0x598fa9(0x3df),_0x598fa9(0x24c));return;}if(!_0x4f6969){console[_0x598fa9(0x24c)](_0x598fa9(0x3cf)),showNotification(_0x598fa9(0x3cf),_0x598fa9(0x24c));return;}_0x4f6969['reset']();const _0x7a1363=document[_0x598fa9(0x61b)](_0x598fa9(0x218));let _0x59c2d1=![];_0x7a1363[_0x598fa9(0x2b1)](_0x4d3d3d=>{const _0x20aa9b=_0x598fa9;console[_0x20aa9b(0x51b)]('Found\x20radio\x20with\x20value:',_0x4d3d3d[_0x20aa9b(0x3bc)]),_0x4d3d3d[_0x20aa9b(0x3bc)]===currentLadder&&(_0x4d3d3d[_0x20aa9b(0x31c)]=!![],_0x59c2d1=!![],console['log'](_0x20aa9b(0x373),currentLadder));});if(!_0x59c2d1){console['warn'](_0x598fa9(0x4bb),currentLadder);const _0x796c2e=document['querySelector']('input[name=\x22test-match-ladder\x22][value=\x22D1\x22]');_0x796c2e&&(_0x796c2e['checked']=!![],console[_0x598fa9(0x51b)](_0x598fa9(0x1f9)));}const _0x823ec=document[_0x598fa9(0x2e0)](_0x598fa9(0x454));if(_0x823ec){const _0x2c0892=new Date()['toISOString']()[_0x598fa9(0x2ad)]('T')[0x0];_0x823ec[_0x598fa9(0x3bc)]=_0x2c0892;}_0x13ee6b[_0x598fa9(0x2d9)]['display']=_0x598fa9(0x5c8),_0x13ee6b['style'][_0x598fa9(0x327)]='visible',_0x13ee6b['style']['opacity']='1',_0x13ee6b[_0x598fa9(0x3c2)][_0x598fa9(0x4f1)]('active'),console[_0x598fa9(0x51b)](_0x598fa9(0x5e3));const _0x518067=document['getElementById'](_0x598fa9(0x627));_0x518067&&setTimeout(()=>{const _0x305b4a=_0x598fa9;_0x518067[_0x305b4a(0x46a)]();},0x64);}function closeCreateTestMatchModal(){const _0x4be816=a4_0x182e79;console[_0x4be816(0x51b)](_0x4be816(0x4ca));const _0x285c6b=document[_0x4be816(0x2e0)]('create-test-match-modal');if(!_0x285c6b){console[_0x4be816(0x24c)]('Modal\x20not\x20found\x20when\x20trying\x20to\x20close');return;}_0x285c6b[_0x4be816(0x3c2)][_0x4be816(0x3e5)](_0x4be816(0x3a4)),_0x285c6b[_0x4be816(0x2d9)][_0x4be816(0x5d4)]='0',_0x285c6b[_0x4be816(0x2d9)]['visibility']='hidden',setTimeout(()=>{const _0x2338c4=_0x4be816;!_0x285c6b['classList'][_0x2338c4(0x37f)](_0x2338c4(0x3a4))&&(_0x285c6b[_0x2338c4(0x2d9)][_0x2338c4(0x404)]=_0x2338c4(0x583));},0x12c),console[_0x4be816(0x51b)]('Modal\x20closed');}async function createTestMatch(){const _0x55f044=a4_0x182e79;console['log'](_0x55f044(0x260));try{const _0x52b687=auth[_0x55f044(0x1f5)];if(!_0x52b687){showNotification(_0x55f044(0x309),_0x55f044(0x24c));return;}const _0x2f2be4='D1',_0x43cebe=_0x55f044(0x4ab),_0x4b2802={'winnerUsername':_0x55f044(0x341),'winnerScore':0x14,'winnerSuicides':0x0,'winnerComment':'Test\x20match','winnerDemoLink':null,'loserUsername':'TestLoser','loserScore':0xf,'loserSuicides':0x0,'loserComment':_0x55f044(0x628),'loserDemoLink':null,'mapPlayed':'TestMap','approvedAt':Timestamp[_0x55f044(0x5a9)](new Date()),'approvedBy':_0x52b687[_0x55f044(0x542)],'createdAt':serverTimestamp(),'createdBy':_0x52b687['email'],'isTestMatch':!![],'ladder':_0x2f2be4,'testMatchCreatedAt':serverTimestamp(),'testMatchNote':'Simple\x20test\x20match\x20created\x20by\x20admin\x20'+_0x52b687[_0x55f044(0x542)]};console['log'](_0x55f044(0x31e)),await addDoc(collection(db,_0x43cebe),_0x4b2802),showNotification(_0x55f044(0x2ba),'success'),closeCreateTestMatchModal();}catch(_0x1a234d){console[_0x55f044(0x24c)]('Error\x20creating\x20simple\x20test\x20match:',_0x1a234d),showNotification(_0x55f044(0x2e3)+_0x1a234d[_0x55f044(0x362)],_0x55f044(0x24c));}}window[a4_0x182e79(0x2c4)]=async function(){const _0x21c058=a4_0x182e79;try{console[_0x21c058(0x51b)]('Testing\x20Firebase\x20connection...'),console[_0x21c058(0x51b)](_0x21c058(0x3be),auth),console[_0x21c058(0x51b)](_0x21c058(0x384),db),console['log'](_0x21c058(0x24a),auth['currentUser']);const _0x21962d=collection(db,_0x21c058(0x52f));console['log'](_0x21c058(0x207),_0x21962d);const _0x571960=query(_0x21962d,where(_0x21c058(0x3f7),'==',_0x21c058(0x2f5)));console[_0x21c058(0x51b)](_0x21c058(0x480),_0x571960);const _0x12fc93=await getDocs(_0x571960);console[_0x21c058(0x51b)](_0x21c058(0x61c),_0x12fc93[_0x21c058(0x3f9)]),console[_0x21c058(0x51b)]('Firebase\x20connection\x20test\x20successful!');}catch(_0x213807){console[_0x21c058(0x24c)]('Firebase\x20connection\x20test\x20failed:',_0x213807);}};function setupCreateTestMatchButton(){const _0x318193=a4_0x182e79,_0x443232=document[_0x318193(0x2e0)](_0x318193(0x44e));if(!_0x443232){console[_0x318193(0x24c)](_0x318193(0x5f4));return;}console[_0x318193(0x51b)](_0x318193(0x546));const _0x2765d9=_0x443232[_0x318193(0x449)](!![]);_0x443232['parentNode'][_0x318193(0x277)](_0x2765d9,_0x443232),_0x2765d9['addEventListener']('click',function(_0xfe3a6f){const _0xa7ef9=_0x318193;_0xfe3a6f[_0xa7ef9(0x5e1)](),_0xfe3a6f[_0xa7ef9(0x3c0)](),console[_0xa7ef9(0x51b)](_0xa7ef9(0x522)),openCreateTestMatchModal();}),console['log'](_0x318193(0x318));}async function loadMatchesData(_0x269d99=0x1){const _0x3373bf=a4_0x182e79,_0x3ad12e=document[_0x3373bf(0x2e0)](_0x3373bf(0x3d9));if(!_0x3ad12e)return;_0x3ad12e['innerHTML']=_0x3373bf(0x3b1);try{const _0x15cbfa=currentLadder[_0x3373bf(0x5ef)](),_0xf155bf=matchesPagination[_0x15cbfa],_0x4cf2bb=currentLadder==='D1'?_0x3373bf(0x4ab):currentLadder==='D2'?_0x3373bf(0x5e7):_0x3373bf(0x436),_0x1bba3c=collection(db,_0x4cf2bb);_0x269d99<=0x1?(_0xf155bf[_0x3373bf(0x5d1)]=0x1,_0xf155bf[_0x3373bf(0x385)]=null,_0xf155bf[_0x3373bf(0x49a)]=null):_0xf155bf[_0x3373bf(0x5d1)]=_0x269d99;const _0x5ad3a1=getMatchesFilters();let _0x202951=_0x1bba3c;if(_0x5ad3a1[_0x3373bf(0x521)]||_0x5ad3a1[_0x3373bf(0x391)]||_0x5ad3a1[_0x3373bf(0x274)]){let _0x404379=[];_0x5ad3a1[_0x3373bf(0x521)]&&_0x5ad3a1[_0x3373bf(0x391)]?(_0x404379[_0x3373bf(0x45e)](where(_0x3373bf(0x1d5),'>=',_0x5ad3a1[_0x3373bf(0x521)]),where(_0x3373bf(0x1d5),'<=',_0x5ad3a1[_0x3373bf(0x391)])),_0x202951=query(_0x1bba3c,..._0x404379)):_0x202951=query(_0x1bba3c,orderBy(_0x3373bf(0x1d5),_0x3373bf(0x59e)));}else _0x202951=query(_0x1bba3c,orderBy(_0x3373bf(0x1d5),_0x3373bf(0x59e)));_0x269d99>0x1&&_0xf155bf[_0x3373bf(0x49a)]?_0x202951=query(_0x202951,startAfter(_0xf155bf['lastVisible']),limit(PAGE_SIZE)):_0x202951=query(_0x202951,limit(PAGE_SIZE));const _0x2730ca=await getDocs(_0x202951);!_0x2730ca[_0x3373bf(0x3f9)]&&(_0xf155bf[_0x3373bf(0x385)]=_0x2730ca[_0x3373bf(0x423)][0x0],_0xf155bf['lastVisible']=_0x2730ca[_0x3373bf(0x423)][_0x2730ca[_0x3373bf(0x423)]['length']-0x1]);let _0x2d17e9=![];if(!_0x2730ca[_0x3373bf(0x3f9)]){const _0x5c5137=query(_0x202951,startAfter(_0xf155bf['lastVisible']),limit(0x1)),_0x4a25d6=await getDocs(_0x5c5137);_0x2d17e9=!_0x4a25d6[_0x3373bf(0x3f9)];}const _0x583fd3=document[_0x3373bf(0x2e0)](_0x3373bf(0x4b2)),_0x256799=document['getElementById'](_0x3373bf(0x21c)),_0x2b3574=document[_0x3373bf(0x2e0)](_0x3373bf(0x41f));if(_0x583fd3)_0x583fd3[_0x3373bf(0x3c8)]=_0xf155bf[_0x3373bf(0x5d1)]<=0x1;if(_0x256799)_0x256799[_0x3373bf(0x3c8)]=!_0x2d17e9;if(_0x2b3574)_0x2b3574[_0x3373bf(0x565)]='Page\x20'+_0xf155bf[_0x3373bf(0x5d1)];if(_0x2730ca['empty']){_0x3ad12e[_0x3373bf(0x398)]=_0x3373bf(0x29d);return;}_0x3ad12e[_0x3373bf(0x398)]='',_0x2730ca[_0x3373bf(0x2b1)](_0x4ea138=>{const _0x3ceeea=_0x3373bf,_0x52f6a5=_0x4ea138['data'](),_0x443d0d=document['createElement']('tr'),_0x184abe=_0x52f6a5['approvedAt']?new Date(_0x52f6a5['approvedAt']['seconds']*0x3e8)['toLocaleDateString']():_0x3ceeea(0x1e8);_0x443d0d[_0x3ceeea(0x367)](_0x3ceeea(0x4bc),_0x4ea138['id']),_0x443d0d['setAttribute']('data-ladder',currentLadder),_0x443d0d[_0x3ceeea(0x3c2)]['add']('match-row'),_0x443d0d[_0x3ceeea(0x398)]=_0x3ceeea(0x256)+_0x184abe+_0x3ceeea(0x514)+(_0x52f6a5[_0x3ceeea(0x5dd)]||'Unknown')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22loser-cell\x22>'+(_0x52f6a5['loserUsername']||_0x3ceeea(0x53d))+_0x3ceeea(0x574)+(_0x52f6a5[_0x3ceeea(0x45b)]||0x0)+_0x3ceeea(0x2dc)+(_0x52f6a5[_0x3ceeea(0x5fb)]||0x0)+_0x3ceeea(0x4f2)+(_0x52f6a5['mapPlayed']||_0x3ceeea(0x1e8))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22ladder-cell\x22>'+currentLadder+_0x3ceeea(0x4eb)+_0x4ea138['id']+_0x3ceeea(0x2cc)+_0x4ea138['id']+_0x3ceeea(0x37c),_0x3ad12e[_0x3ceeea(0x5df)](_0x443d0d);}),setupMatchesActionButtons(),_0x5ad3a1[_0x3373bf(0x274)]&&filterMatchesTable(),console[_0x3373bf(0x51b)](_0x3373bf(0x5bb)+_0x2730ca['size']+_0x3373bf(0x229)+currentLadder+_0x3373bf(0x53b)+_0xf155bf[_0x3373bf(0x5d1)]);}catch(_0x2383aa){console[_0x3373bf(0x24c)](_0x3373bf(0x4da),_0x2383aa),_0x3ad12e[_0x3373bf(0x398)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x227\x22\x20class=\x22error-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20matches:\x20'+_0x2383aa[_0x3373bf(0x362)]+_0x3373bf(0x603);}}async function deleteMatch(_0x5544b4,_0x5792a1){const _0x17a9ca=a4_0x182e79;try{console[_0x17a9ca(0x51b)](_0x17a9ca(0x2a7)+_0x5544b4+_0x17a9ca(0x60a)+_0x5792a1+'\x20ladder');const _0x29ea33=auth[_0x17a9ca(0x1f5)];if(!_0x29ea33){showNotification(_0x17a9ca(0x375),_0x17a9ca(0x24c));return;}const _0x36d566=_0x5792a1==='D1'?_0x17a9ca(0x4ab):_0x5792a1==='D2'?_0x17a9ca(0x5e7):_0x17a9ca(0x436);console[_0x17a9ca(0x51b)]('Using\x20collection:\x20'+_0x36d566),showNotification('Deleting\x20match...',_0x17a9ca(0x462)),await deleteDoc(doc(db,_0x36d566,_0x5544b4)),console[_0x17a9ca(0x51b)](_0x17a9ca(0x417)),showNotification(_0x17a9ca(0x417),_0x17a9ca(0x4b9));const _0x52920c=_0x5792a1[_0x17a9ca(0x5ef)]();loadMatchesData(matchesPagination[_0x52920c][_0x17a9ca(0x5d1)]);}catch(_0x1a457b){console['error']('Error\x20deleting\x20match:',_0x1a457b),showNotification('Failed\x20to\x20delete\x20match:\x20'+_0x1a457b['message'],_0x17a9ca(0x24c));}}function setupMatchesActionButtons(){const _0x12f4e6=a4_0x182e79;console[_0x12f4e6(0x51b)](_0x12f4e6(0x2d8)),document[_0x12f4e6(0x61b)]('.edit-match-btn')[_0x12f4e6(0x2b1)](_0x6256b=>{const _0x52efcc=_0x12f4e6;_0x6256b['addEventListener'](_0x52efcc(0x610),_0x5e29ec=>{const _0x20bd79=_0x52efcc;_0x5e29ec[_0x20bd79(0x5e1)](),_0x5e29ec[_0x20bd79(0x3c0)]();const _0x2d9829=_0x5e29ec[_0x20bd79(0x519)][_0x20bd79(0x45c)]['id'],_0x106626=_0x5e29ec['currentTarget'][_0x20bd79(0x2c6)]('tr'),_0x8d3190=_0x106626[_0x20bd79(0x45c)][_0x20bd79(0x2e4)];console['log']('Edit\x20match\x20clicked:',_0x2d9829,_0x8d3190),openEditMatchModal(_0x2d9829,_0x8d3190);});}),document['querySelectorAll']('.delete-match-btn')[_0x12f4e6(0x2b1)](_0x3a5281=>{_0x3a5281['addEventListener']('click',_0x365a2b=>{const _0x11e815=a4_0x3a00;_0x365a2b[_0x11e815(0x5e1)](),_0x365a2b[_0x11e815(0x3c0)]();const _0x12ad37=_0x365a2b['currentTarget'][_0x11e815(0x45c)]['id'],_0x829db5=_0x365a2b[_0x11e815(0x519)][_0x11e815(0x2c6)]('tr'),_0x5cd4a6=_0x829db5[_0x11e815(0x45c)][_0x11e815(0x2e4)]||currentLadder;console[_0x11e815(0x51b)](_0x11e815(0x2f1),_0x12ad37,_0x5cd4a6),confirm(_0x11e815(0x458))&&deleteMatch(_0x12ad37,_0x5cd4a6);});}),console[_0x12f4e6(0x51b)](_0x12f4e6(0x433));}function filterMatchesTable(){const _0x565dec=a4_0x182e79,_0x470dcf=document[_0x565dec(0x2e0)]('matches-search')[_0x565dec(0x3bc)][_0x565dec(0x5ef)](),_0x56ff34=document[_0x565dec(0x61b)](_0x565dec(0x506));let _0x16ba9c=0x0;_0x56ff34[_0x565dec(0x2b1)](_0x486c23=>{const _0xbf7d5b=_0x565dec;if(_0x486c23[_0xbf7d5b(0x3c2)][_0xbf7d5b(0x37f)](_0xbf7d5b(0x217))||_0x486c23['classList'][_0xbf7d5b(0x37f)]('empty-state')||_0x486c23[_0xbf7d5b(0x3c2)][_0xbf7d5b(0x37f)]('error-state'))return;const _0x45d4da=_0x486c23[_0xbf7d5b(0x5d9)][0x1]['textContent'][_0xbf7d5b(0x5ef)](),_0x482893=_0x486c23[_0xbf7d5b(0x5d9)][0x2]['textContent'][_0xbf7d5b(0x5ef)](),_0x36b023=_0x486c23[_0xbf7d5b(0x5d9)][0x4][_0xbf7d5b(0x565)]['toLowerCase']();_0x45d4da[_0xbf7d5b(0x202)](_0x470dcf)||_0x482893[_0xbf7d5b(0x202)](_0x470dcf)||_0x36b023[_0xbf7d5b(0x202)](_0x470dcf)?(_0x486c23['style']['display']='',_0x16ba9c++):_0x486c23[_0xbf7d5b(0x2d9)][_0xbf7d5b(0x404)]='none';});if(_0x16ba9c===0x0&&_0x56ff34[_0x565dec(0x608)]>0x0){const _0x5f02be=document[_0x565dec(0x2e0)](_0x565dec(0x3d9)),_0x583f35=_0x5f02be['querySelector']('.no-results');if(!_0x583f35){const _0x49a173=document[_0x565dec(0x3b6)]('tr');_0x49a173['className']=_0x565dec(0x412),_0x49a173['innerHTML']='<td\x20colspan=\x227\x22>No\x20matches\x20found\x20matching\x20\x27'+_0x470dcf+_0x565dec(0x2f0),_0x5f02be[_0x565dec(0x5df)](_0x49a173);}}else{const _0x445293=document['querySelector'](_0x565dec(0x44b));_0x445293&&_0x445293[_0x565dec(0x3e5)]();}}function getMatchesFilters(){const _0x4ed2d2=a4_0x182e79,_0x9c79d9=document[_0x4ed2d2(0x2e0)](_0x4ed2d2(0x32e))[_0x4ed2d2(0x3bc)][_0x4ed2d2(0x5ef)](),_0xba17c9=document[_0x4ed2d2(0x2e0)](_0x4ed2d2(0x1f2))[_0x4ed2d2(0x3bc)],_0x48d2ff=document[_0x4ed2d2(0x2e0)](_0x4ed2d2(0x415))[_0x4ed2d2(0x3bc)];let _0x385b20=null,_0x4e4947=null;return _0xba17c9&&(_0x385b20=new Date(_0xba17c9),_0x385b20['setHours'](0x0,0x0,0x0,0x0),_0x385b20=Timestamp[_0x4ed2d2(0x5a9)](_0x385b20)),_0x48d2ff&&(_0x4e4947=new Date(_0x48d2ff),_0x4e4947[_0x4ed2d2(0x215)](0x17,0x3b,0x3b,0x3e7),_0x4e4947=Timestamp[_0x4ed2d2(0x5a9)](_0x4e4947)),{'searchTerm':_0x9c79d9,'startDate':_0x385b20,'endDate':_0x4e4947};}async function applyMatchesFilters(){const _0x565b91=a4_0x182e79,_0x580030=currentLadder[_0x565b91(0x5ef)]();matchesPagination[_0x580030]={'page':0x1,'lastVisible':null,'firstVisible':null},await loadMatchesData(0x1);}function resetMatchesFilters(){const _0x1bd17d=a4_0x182e79;document[_0x1bd17d(0x2e0)](_0x1bd17d(0x1f2))[_0x1bd17d(0x3bc)]='',document[_0x1bd17d(0x2e0)](_0x1bd17d(0x415))[_0x1bd17d(0x3bc)]='',document[_0x1bd17d(0x2e0)]('matches-search')[_0x1bd17d(0x3bc)]='';const _0x3ef748=currentLadder[_0x1bd17d(0x5ef)]();matchesPagination[_0x3ef748]={'page':0x1,'lastVisible':null,'firstVisible':null},loadMatchesData(0x1);}async function openEditMatchModal(_0xf01f86,_0x59d235){const _0x419ebb=a4_0x182e79,_0x418c7d=document[_0x419ebb(0x2e0)](_0x419ebb(0x2d7));if(!_0x418c7d)return;try{const _0x51ea2=_0x59d235==='D1'?_0x419ebb(0x4ab):_0x59d235==='D2'?_0x419ebb(0x5e7):'approvedMatchesD3',_0x549137=doc(db,_0x51ea2,_0xf01f86),_0x101141=await getDoc(_0x549137);if(!_0x101141[_0x419ebb(0x5b3)]()){showNotification(_0x419ebb(0x4fc),_0x419ebb(0x24c));return;}const _0x8f70cd=_0x101141[_0x419ebb(0x35f)]();document['getElementById']('edit-match-id')['value']=_0xf01f86,document['getElementById'](_0x419ebb(0x60c))['value']=_0x59d235,document[_0x419ebb(0x2e0)](_0x419ebb(0x3db))[_0x419ebb(0x3bc)]=_0x8f70cd['winnerUsername']||'',document[_0x419ebb(0x2e0)](_0x419ebb(0x4cb))[_0x419ebb(0x3bc)]=_0x8f70cd[_0x419ebb(0x45b)]||0x0,document['getElementById'](_0x419ebb(0x2d4))[_0x419ebb(0x3bc)]=_0x8f70cd['winnerSuicides']||0x0,document[_0x419ebb(0x2e0)]('edit-match-winner-comment')['value']=_0x8f70cd[_0x419ebb(0x3ed)]||'',document[_0x419ebb(0x2e0)](_0x419ebb(0x1dd))[_0x419ebb(0x3bc)]=_0x8f70cd[_0x419ebb(0x234)]||'',document[_0x419ebb(0x2e0)](_0x419ebb(0x253))[_0x419ebb(0x3bc)]=_0x8f70cd[_0x419ebb(0x5fb)]||0x0,document[_0x419ebb(0x2e0)]('edit-match-loser-suicides')['value']=_0x8f70cd[_0x419ebb(0x45d)]||0x0,document['getElementById'](_0x419ebb(0x544))[_0x419ebb(0x3bc)]=_0x8f70cd[_0x419ebb(0x3ec)]||'',document[_0x419ebb(0x2e0)]('edit-match-map')['value']=_0x8f70cd[_0x419ebb(0x467)]||'',document[_0x419ebb(0x2e0)](_0x419ebb(0x3bd))['value']=_0x8f70cd[_0x419ebb(0x30b)]||'',document['getElementById'](_0x419ebb(0x4ed))[_0x419ebb(0x3bc)]=_0x8f70cd[_0x419ebb(0x48e)]||_0x8f70cd[_0x419ebb(0x470)]||'',document[_0x419ebb(0x2e0)](_0x419ebb(0x250))['textContent']=_0x419ebb(0x20d)+_0x8f70cd[_0x419ebb(0x5dd)]+_0x419ebb(0x370)+_0x8f70cd[_0x419ebb(0x234)],_0x418c7d['classList'][_0x419ebb(0x4f1)](_0x419ebb(0x3a4));}catch(_0x146b8b){console[_0x419ebb(0x24c)](_0x419ebb(0x4df),_0x146b8b),showNotification(_0x419ebb(0x460),'error');}}function closeEditMatchModal(){const _0x19c6db=a4_0x182e79,_0x407da7=document['getElementById'](_0x19c6db(0x2d7));_0x407da7&&_0x407da7[_0x19c6db(0x3c2)]['remove'](_0x19c6db(0x3a4));}async function saveEditedMatch(){const _0x1246c2=a4_0x182e79;try{const _0x627860=document['getElementById'](_0x1246c2(0x2a0))['value'],_0x4301e0=document[_0x1246c2(0x2e0)](_0x1246c2(0x60c))[_0x1246c2(0x3bc)];if(!_0x627860||!_0x4301e0){showNotification(_0x1246c2(0x349),'error');return;}const _0x3890c5=_0x4301e0==='D1'?_0x1246c2(0x4ab):_0x4301e0==='D2'?'approvedMatchesD2':_0x1246c2(0x436),_0x513d7d=document[_0x1246c2(0x2e0)](_0x1246c2(0x3db))['value']['trim'](),_0x46f3fe=parseInt(document[_0x1246c2(0x2e0)](_0x1246c2(0x4cb))[_0x1246c2(0x3bc)]),_0x53b8b9=parseInt(document[_0x1246c2(0x2e0)](_0x1246c2(0x2d4))['value']),_0x5d0a7c=document['getElementById'](_0x1246c2(0x430))[_0x1246c2(0x3bc)][_0x1246c2(0x352)](),_0x380adb=document['getElementById'](_0x1246c2(0x1dd))[_0x1246c2(0x3bc)][_0x1246c2(0x352)](),_0x41e1d1=parseInt(document[_0x1246c2(0x2e0)](_0x1246c2(0x253))[_0x1246c2(0x3bc)]),_0x1ad642=parseInt(document[_0x1246c2(0x2e0)](_0x1246c2(0x2a2))['value']),_0x356cd4=document[_0x1246c2(0x2e0)](_0x1246c2(0x544))[_0x1246c2(0x3bc)][_0x1246c2(0x352)](),_0x42df70=document[_0x1246c2(0x2e0)](_0x1246c2(0x201))['value'][_0x1246c2(0x352)](),_0x2ccd3b=document['getElementById'](_0x1246c2(0x3bd))[_0x1246c2(0x3bc)][_0x1246c2(0x352)](),_0x34074c=document[_0x1246c2(0x2e0)](_0x1246c2(0x4ed))['value'][_0x1246c2(0x352)]();if(!_0x513d7d||!_0x380adb){showNotification(_0x1246c2(0x35b),_0x1246c2(0x24c));return;}await updateDoc(doc(db,_0x3890c5,_0x627860),{'winnerUsername':_0x513d7d,'winnerScore':_0x46f3fe,'winnerSuicides':_0x53b8b9,'winnerComment':_0x5d0a7c,'loserUsername':_0x380adb,'loserScore':_0x41e1d1,'loserSuicides':_0x1ad642,'loserComment':_0x356cd4,'mapPlayed':_0x42df70,'winnerDemoLink':_0x2ccd3b||null,'loserDemoLink':_0x34074c||null,'lastModifiedAt':serverTimestamp(),'lastModifiedBy':auth[_0x1246c2(0x1f5)][_0x1246c2(0x542)],'isEdited':!![]}),showNotification('Match\x20updated\x20successfully',_0x1246c2(0x4b9)),closeEditMatchModal(),loadMatchesData(matchesPagination[_0x4301e0['toLowerCase']()][_0x1246c2(0x5d1)]);}catch(_0x57814d){console[_0x1246c2(0x24c)](_0x1246c2(0x5eb),_0x57814d),showNotification(_0x1246c2(0x1db)+_0x57814d[_0x1246c2(0x362)],_0x1246c2(0x24c));}}async function openDeleteMatchModal(_0x312561,_0x2dba8b){const _0x533ed3=a4_0x182e79;try{const _0xec6eda=_0x2dba8b==='D1'?'approvedMatches':_0x2dba8b==='D2'?_0x533ed3(0x5e7):'approvedMatchesD3',_0x5b9999=doc(db,_0xec6eda,_0x312561),_0x1f2b4d=await getDoc(_0x5b9999);if(!_0x1f2b4d[_0x533ed3(0x5b3)]()){showNotification(_0x533ed3(0x4fc),_0x533ed3(0x24c));return;}const _0x30d4eb=_0x1f2b4d[_0x533ed3(0x35f)](),_0x5adcdf=document['getElementById'](_0x533ed3(0x464));_0x5adcdf[_0x533ed3(0x45c)][_0x533ed3(0x49d)]=_0x312561,_0x5adcdf[_0x533ed3(0x45c)][_0x533ed3(0x2e4)]=_0x2dba8b;const _0xf41c37=_0x30d4eb[_0x533ed3(0x1d5)]?new Date(_0x30d4eb[_0x533ed3(0x1d5)][_0x533ed3(0x24e)]*0x3e8)[_0x533ed3(0x466)]():_0x533ed3(0x1e8),_0x11d72c=document[_0x533ed3(0x2e0)]('delete-match-summary');_0x11d72c[_0x533ed3(0x398)]=_0x533ed3(0x2b2)+_0xf41c37+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Players:</strong>\x20'+_0x30d4eb[_0x533ed3(0x5dd)]+_0x533ed3(0x3e3)+_0x30d4eb[_0x533ed3(0x234)]+_0x533ed3(0x633)+(_0x30d4eb[_0x533ed3(0x45b)]||0x0)+_0x533ed3(0x2dc)+(_0x30d4eb['loserScore']||0x0)+_0x533ed3(0x22a)+(_0x30d4eb['mapPlayed']||_0x533ed3(0x1e8))+_0x533ed3(0x55e)+_0x2dba8b+_0x533ed3(0x4d0),_0x5adcdf[_0x533ed3(0x3c2)]['add']('active');}catch(_0x321522){console[_0x533ed3(0x24c)](_0x533ed3(0x2c3),_0x321522),showNotification(_0x533ed3(0x460),_0x533ed3(0x24c));}}function closeDeleteMatchModal(){const _0x527804=a4_0x182e79,_0x2645c6=document[_0x527804(0x2e0)](_0x527804(0x464));_0x2645c6&&(_0x2645c6['classList'][_0x527804(0x3e5)](_0x527804(0x3a4)),_0x2645c6[_0x527804(0x3f1)](_0x527804(0x5ca)),_0x2645c6[_0x527804(0x3f1)](_0x527804(0x2c5)));}async function confirmDeleteMatch(){const _0x47ffd5=a4_0x182e79,_0x5133dd=document['getElementById'](_0x47ffd5(0x464)),_0x3309ac=_0x5133dd[_0x47ffd5(0x45c)][_0x47ffd5(0x49d)],_0x115dde=_0x5133dd['dataset'][_0x47ffd5(0x2e4)];if(!_0x3309ac||!_0x115dde){showNotification(_0x47ffd5(0x349),_0x47ffd5(0x24c)),closeDeleteMatchModal();return;}try{const _0x3fbe81=_0x115dde==='D1'?_0x47ffd5(0x4ab):_0x115dde==='D2'?'approvedMatchesD2':_0x47ffd5(0x436);await deleteDoc(doc(db,_0x3fbe81,_0x3309ac)),showNotification(_0x47ffd5(0x417),'success'),closeDeleteMatchModal(),loadMatchesData(matchesPagination[_0x115dde[_0x47ffd5(0x5ef)]()][_0x47ffd5(0x5d1)]);}catch(_0x43dca4){console[_0x47ffd5(0x24c)](_0x47ffd5(0x1d4),_0x43dca4),showNotification(_0x47ffd5(0x23a)+_0x43dca4[_0x47ffd5(0x362)],'error');}}async function saveHighlightChanges(){const _0x24f6ec=a4_0x182e79,_0x50dcf7=document[_0x24f6ec(0x2e0)](_0x24f6ec(0x2de))[_0x24f6ec(0x3bc)],_0x23b129=document[_0x24f6ec(0x2e0)](_0x24f6ec(0x618))[_0x24f6ec(0x3bc)];let _0x1c37db={'title':document[_0x24f6ec(0x2e0)](_0x24f6ec(0x4bd))['value'][_0x24f6ec(0x352)](),'type':_0x23b129,'description':document[_0x24f6ec(0x2e0)]('edit-highlight-description-input')[_0x24f6ec(0x3bc)][_0x24f6ec(0x352)](),'videoId':document[_0x24f6ec(0x2e0)](_0x24f6ec(0x28a))[_0x24f6ec(0x3bc)][_0x24f6ec(0x352)](),'submittedBy':auth[_0x24f6ec(0x1f5)][_0x24f6ec(0x542)]};if(_0x23b129===_0x24f6ec(0x4d4)){_0x1c37db['matchInfo']=document[_0x24f6ec(0x2e0)]('edit-highlight-matchInfo-input')[_0x24f6ec(0x3bc)]['trim'](),_0x1c37db[_0x24f6ec(0x62d)]=document[_0x24f6ec(0x2e0)](_0x24f6ec(0x3d3))[_0x24f6ec(0x3bc)][_0x24f6ec(0x352)]();const _0x3327e5=document['getElementById'](_0x24f6ec(0x4e7))['value'];_0x1c37db[_0x24f6ec(0x361)]=_0x3327e5?Timestamp[_0x24f6ec(0x5a9)](new Date(_0x3327e5)):null,_0x1c37db[_0x24f6ec(0x487)]=document[_0x24f6ec(0x2e0)](_0x24f6ec(0x48b))[_0x24f6ec(0x3bc)]['trim'](),_0x1c37db[_0x24f6ec(0x45b)]=document[_0x24f6ec(0x2e0)](_0x24f6ec(0x323))[_0x24f6ec(0x3bc)][_0x24f6ec(0x352)](),_0x1c37db['loserName']=document['getElementById']('edit-highlight-loserName-input')[_0x24f6ec(0x3bc)]['trim'](),_0x1c37db[_0x24f6ec(0x5fb)]=document[_0x24f6ec(0x2e0)]('edit-highlight-loserScore-input')[_0x24f6ec(0x3bc)]['trim'](),_0x1c37db[_0x24f6ec(0x23c)]=document[_0x24f6ec(0x2e0)](_0x24f6ec(0x37d))['value'][_0x24f6ec(0x352)](),_0x1c37db[_0x24f6ec(0x4d8)]=null,_0x1c37db['mapVersion']=null,_0x1c37db['creatorImageUrl']=null,_0x1c37db[_0x24f6ec(0x3dc)]=null,_0x1c37db[_0x24f6ec(0x5a6)]=null,_0x1c37db[_0x24f6ec(0x3d1)]=null,_0x1c37db['playerProfileUrl']=null;}else{if(_0x23b129==='creator')_0x1c37db[_0x24f6ec(0x62d)]=document[_0x24f6ec(0x2e0)](_0x24f6ec(0x3d3))[_0x24f6ec(0x3bc)]['trim'](),_0x1c37db['mapCreator']=document['getElementById'](_0x24f6ec(0x3b0))[_0x24f6ec(0x3bc)]['trim'](),_0x1c37db[_0x24f6ec(0x346)]=document['getElementById'](_0x24f6ec(0x2cb))[_0x24f6ec(0x3bc)][_0x24f6ec(0x352)](),_0x1c37db[_0x24f6ec(0x40e)]=document['getElementById'](_0x24f6ec(0x46d))[_0x24f6ec(0x3bc)][_0x24f6ec(0x352)](),_0x1c37db['matchInfo']=null,_0x1c37db['matchDate']=null,_0x1c37db[_0x24f6ec(0x487)]=null,_0x1c37db['winnerScore']=null,_0x1c37db[_0x24f6ec(0x629)]=null,_0x1c37db[_0x24f6ec(0x5fb)]=null,_0x1c37db[_0x24f6ec(0x23c)]=null,_0x1c37db['achievementPlayer']=null,_0x1c37db[_0x24f6ec(0x5a6)]=null,_0x1c37db[_0x24f6ec(0x3d1)]=null,_0x1c37db[_0x24f6ec(0x615)]=null;else _0x23b129==='achievement'&&(_0x1c37db[_0x24f6ec(0x3dc)]=document[_0x24f6ec(0x2e0)](_0x24f6ec(0x204))[_0x24f6ec(0x3bc)][_0x24f6ec(0x352)](),_0x1c37db[_0x24f6ec(0x5a6)]=document[_0x24f6ec(0x2e0)](_0x24f6ec(0x3b3))['value'][_0x24f6ec(0x352)](),_0x1c37db[_0x24f6ec(0x3d1)]=document[_0x24f6ec(0x2e0)]('edit-highlight-achievementDetails-input')[_0x24f6ec(0x3bc)]['trim'](),_0x1c37db[_0x24f6ec(0x615)]=document[_0x24f6ec(0x2e0)](_0x24f6ec(0x613))['value'][_0x24f6ec(0x352)](),_0x1c37db['matchInfo']=null,_0x1c37db[_0x24f6ec(0x62d)]=null,_0x1c37db[_0x24f6ec(0x361)]=null,_0x1c37db[_0x24f6ec(0x487)]=null,_0x1c37db['winnerScore']=null,_0x1c37db[_0x24f6ec(0x629)]=null,_0x1c37db[_0x24f6ec(0x5fb)]=null,_0x1c37db[_0x24f6ec(0x23c)]=null,_0x1c37db[_0x24f6ec(0x4d8)]=null,_0x1c37db['mapVersion']=null,_0x1c37db[_0x24f6ec(0x40e)]=null);}try{if(_0x50dcf7){_0x1c37db['updatedAt']=serverTimestamp();const _0x8740af=doc(db,_0x24f6ec(0x4b1),_0x50dcf7);await updateDoc(_0x8740af,_0x1c37db),showNotification('Highlight\x20updated\x20successfully!','success');}else _0x1c37db['createdAt']=serverTimestamp(),await addDoc(collection(db,_0x24f6ec(0x4b1)),_0x1c37db),showNotification('Highlight\x20added\x20successfully!',_0x24f6ec(0x4b9));closeEditHighlightModal(),loadHighlightsAdmin();}catch(_0x5c6245){console[_0x24f6ec(0x24c)](_0x24f6ec(0x298),_0x5c6245),showNotification(_0x24f6ec(0x23b)+_0x5c6245[_0x24f6ec(0x362)],_0x24f6ec(0x24c));}}async function resimulateMatch(){const _0x9b2a86=a4_0x182e79;try{const _0x4201f5=document[_0x9b2a86(0x2e0)]('resimulate-match-id')[_0x9b2a86(0x3bc)];if(!_0x4201f5){showNotification(_0x9b2a86(0x551),'error');return;}const _0x173e84=auth[_0x9b2a86(0x1f5)];if(!_0x173e84){showNotification(_0x9b2a86(0x382),_0x9b2a86(0x24c));return;}const _0x1bd1a1=currentLadder==='D1'?_0x9b2a86(0x4ab):currentLadder==='D2'?_0x9b2a86(0x5e7):_0x9b2a86(0x436),_0x5ed094=doc(db,_0x1bd1a1,_0x4201f5),_0x3cec04=await getDoc(_0x5ed094);if(!_0x3cec04[_0x9b2a86(0x5b3)]()){showNotification('Match\x20not\x20found\x20in\x20approved\x20matches',_0x9b2a86(0x24c));return;}const _0x2c5d76=_0x3cec04[_0x9b2a86(0x35f)](),_0x685e02=_0x2c5d76['approvedAt']?_0x2c5d76[_0x9b2a86(0x1d5)][_0x9b2a86(0x227)]()[_0x9b2a86(0x3ea)]():_0x2c5d76[_0x9b2a86(0x361)]?_0x2c5d76[_0x9b2a86(0x361)][_0x9b2a86(0x227)]?_0x2c5d76[_0x9b2a86(0x361)][_0x9b2a86(0x227)]()[_0x9b2a86(0x3ea)]():new Date(_0x2c5d76[_0x9b2a86(0x361)])['toLocaleString']():_0x9b2a86(0x53d),_0x5ccf6b=_0x9b2a86(0x5f0)+_0x2c5d76[_0x9b2a86(0x5dd)]+_0x9b2a86(0x600)+_0x2c5d76[_0x9b2a86(0x234)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Score:</strong>\x20'+_0x2c5d76[_0x9b2a86(0x45b)]+'-'+_0x2c5d76[_0x9b2a86(0x5fb)]+_0x9b2a86(0x2d1)+(_0x2c5d76[_0x9b2a86(0x467)]||_0x2c5d76[_0x9b2a86(0x45f)]||_0x9b2a86(0x53d))+_0x9b2a86(0x444)+_0x685e02+_0x9b2a86(0x60b)+_0x4201f5+_0x9b2a86(0x427)+currentLadder+_0x9b2a86(0x381);document[_0x9b2a86(0x2e0)]('match-details-container')[_0x9b2a86(0x398)]=_0x5ccf6b,document[_0x9b2a86(0x2e0)](_0x9b2a86(0x607))[_0x9b2a86(0x2d9)]['display']=_0x9b2a86(0x4e9),document[_0x9b2a86(0x2e0)](_0x9b2a86(0x501))[_0x9b2a86(0x2d9)]['display']=_0x9b2a86(0x4e9),window[_0x9b2a86(0x279)]={'matchId':_0x4201f5,'matchData':_0x2c5d76,'ladder':currentLadder},showNotification('Match\x20found\x20-\x20please\x20review\x20details\x20and\x20confirm\x20resimulation','info');}catch(_0x4d22f2){console[_0x9b2a86(0x24c)](_0x9b2a86(0x236),_0x4d22f2),showNotification(_0x9b2a86(0x4a3)+_0x4d22f2[_0x9b2a86(0x362)],_0x9b2a86(0x24c));}}async function confirmResimulateMatch(){const _0x1327e8=a4_0x182e79;try{const {matchId:_0x173827,matchData:_0x1c0e3f,ladder:_0x398712}=window['pendingResimulateData'];if(!_0x173827||!_0x1c0e3f){showNotification('No\x20match\x20data\x20found\x20for\x20resimulation','error');return;}const _0x324955=_0x398712==='D1'?_0x1327e8(0x52f):_0x398712==='D2'?_0x1327e8(0x3a2):_0x1327e8(0x295),_0x33de08=_0x398712==='D1'?_0x1327e8(0x4c2):_0x398712==='D2'?_0x1327e8(0x209):_0x1327e8(0x1ef),[_0x55e1e4,_0x59316e]=await Promise[_0x1327e8(0x55a)]([getDocs(query(collection(db,_0x324955),where(_0x1327e8(0x3f7),'==',_0x1c0e3f[_0x1327e8(0x5dd)]))),getDocs(query(collection(db,_0x324955),where(_0x1327e8(0x3f7),'==',_0x1c0e3f['loserUsername'])))]);if(_0x55e1e4['empty']||_0x59316e[_0x1327e8(0x3f9)]){showNotification(_0x1327e8(0x590),_0x1327e8(0x24c));return;}const _0x1dc412=_0x55e1e4['docs'][0x0]['id'],_0x59876a=_0x59316e[_0x1327e8(0x423)][0x0]['id'],_0x580989=_0x55e1e4[_0x1327e8(0x423)][0x0][_0x1327e8(0x35f)](),_0x132f2e=_0x59316e[_0x1327e8(0x423)][0x0][_0x1327e8(0x35f)](),[_0x3f4b0,_0x29f2eb]=await Promise['all']([getDocs(query(collection(db,_0x33de08),where('playerId','==',_0x1dc412),where('matchId','==',_0x173827))),getDocs(query(collection(db,_0x33de08),where(_0x1327e8(0x28f),'==',_0x59876a),where('matchId','==',_0x173827)))]),_0x572ada=!_0x3f4b0[_0x1327e8(0x3f9)],_0x3bd4d2=!_0x29f2eb[_0x1327e8(0x3f9)],_0x3c438c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22validation-results\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4>Validation\x20Results:</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Winner\x20ELO\x20History:</strong>\x20'+(_0x572ada?'\x20Exists':_0x1327e8(0x471))+_0x1327e8(0x490)+(_0x3bd4d2?_0x1327e8(0x3f3):_0x1327e8(0x471))+_0x1327e8(0x21b)+(_0x580989['eloRating']||_0x1327e8(0x53d))+_0x1327e8(0x235)+(_0x132f2e[_0x1327e8(0x32f)]||_0x1327e8(0x53d))+_0x1327e8(0x3f4)+(_0x580989[_0x1327e8(0x388)]||_0x1327e8(0x53d))+_0x1327e8(0x419)+(_0x132f2e[_0x1327e8(0x388)]||_0x1327e8(0x53d))+_0x1327e8(0x43b);document[_0x1327e8(0x2e0)]('validation-results-container')['innerHTML']=_0x3c438c,document[_0x1327e8(0x2e0)](_0x1327e8(0x581))['style'][_0x1327e8(0x404)]=_0x1327e8(0x4e9);if(_0x572ada&&_0x3bd4d2){showNotification(_0x1327e8(0x392),_0x1327e8(0x51c));return;}showNotification(_0x1327e8(0x3aa),'info');const _0x3560a6=_0x1c0e3f['approvedAt']||_0x1c0e3f[_0x1327e8(0x361)]||serverTimestamp(),[_0x2e66e8,_0x2a6604]=await Promise[_0x1327e8(0x55a)]([getPlayerEloAtTime(_0x1dc412,_0x3560a6,_0x33de08),getPlayerEloAtTime(_0x59876a,_0x3560a6,_0x33de08)]),{calculateElo:_0x5c5e66}=await import('./ladderalgorithm.js'),{newWinnerRating:_0x2fd437,newLoserRating:_0x986a99}=_0x5c5e66(_0x2e66e8,_0x2a6604),_0x108207=_0x580989[_0x1327e8(0x388)]||Number['MAX_SAFE_INTEGER'],_0x2cebd3=_0x132f2e['position']||Number[_0x1327e8(0x1fa)];let _0x3e7838=_0x108207,_0x2aff7c=_0x2cebd3;_0x108207>_0x2cebd3&&(_0x3e7838=_0x2cebd3,_0x2aff7c=_0x2cebd3+0x1);const _0x5a52d6=writeBatch(db),_0x5e1960=doc(db,_0x324955,_0x1dc412);_0x5a52d6[_0x1327e8(0x310)](_0x5e1960,{'eloRating':_0x2fd437,'position':_0x3e7838,'lastUpdated':serverTimestamp(),'resimulated':!![],'resimulatedAt':serverTimestamp(),'resimulatedBy':auth['currentUser'][_0x1327e8(0x22c)]});const _0x36c5c3=doc(db,_0x324955,_0x59876a);_0x5a52d6[_0x1327e8(0x310)](_0x36c5c3,{'eloRating':_0x986a99,'position':_0x2aff7c,'lastUpdated':serverTimestamp(),'resimulated':!![],'resimulatedAt':serverTimestamp(),'resimulatedBy':auth[_0x1327e8(0x1f5)][_0x1327e8(0x22c)]});if(_0x108207>_0x2cebd3){const _0x1dcf5b=await getDocs(query(collection(db,_0x324955),where(_0x1327e8(0x388),'>',_0x2cebd3),where(_0x1327e8(0x388),'<',_0x108207)));_0x1dcf5b[_0x1327e8(0x2b1)](_0x5b5539=>{const _0x2f99e5=_0x1327e8,_0x4f770a=doc(db,_0x324955,_0x5b5539['id']),_0x60fa52=_0x5b5539[_0x2f99e5(0x35f)]()['position'];_0x5a52d6[_0x2f99e5(0x310)](_0x4f770a,{'position':_0x60fa52+0x1,'lastUpdated':serverTimestamp(),'positionAdjustedBy':_0x2f99e5(0x517),'positionAdjustedAt':serverTimestamp()});});}if(!_0x572ada){const _0x4d68c2=doc(collection(db,_0x33de08));_0x5a52d6[_0x1327e8(0x516)](_0x4d68c2,{'playerId':_0x1dc412,'player':_0x1c0e3f[_0x1327e8(0x5dd)],'previousElo':_0x2e66e8,'newElo':_0x2fd437,'eloChange':_0x2fd437-_0x2e66e8,'opponentId':_0x59876a,'opponent':_0x1c0e3f[_0x1327e8(0x234)],'matchResult':_0x1327e8(0x414),'previousPosition':_0x108207,'newPosition':_0x3e7838,'positionChange':_0x3e7838-_0x108207,'matchId':_0x173827,'timestamp':_0x3560a6,'resimulated':!![],'resimulatedAt':serverTimestamp(),'resimulatedBy':auth[_0x1327e8(0x1f5)][_0x1327e8(0x22c)],'gameMode':_0x398712,'matchScore':_0x1c0e3f[_0x1327e8(0x45b)]+'-'+_0x1c0e3f['loserScore'],'mapPlayed':_0x1c0e3f[_0x1327e8(0x467)]||_0x1c0e3f[_0x1327e8(0x45f)]||_0x1327e8(0x53d),'note':_0x1327e8(0x383)});}if(!_0x3bd4d2){const _0x566d25=doc(collection(db,_0x33de08));_0x5a52d6[_0x1327e8(0x516)](_0x566d25,{'playerId':_0x59876a,'player':_0x1c0e3f[_0x1327e8(0x234)],'previousElo':_0x2a6604,'newElo':_0x986a99,'eloChange':_0x986a99-_0x2a6604,'opponentId':_0x1dc412,'opponent':_0x1c0e3f[_0x1327e8(0x5dd)],'matchResult':'loss','previousPosition':_0x2cebd3,'newPosition':_0x2aff7c,'positionChange':_0x2aff7c-_0x2cebd3,'matchId':_0x173827,'timestamp':_0x3560a6,'resimulated':!![],'resimulatedAt':serverTimestamp(),'resimulatedBy':auth[_0x1327e8(0x1f5)]['uid'],'gameMode':_0x398712,'matchScore':_0x1c0e3f[_0x1327e8(0x45b)]+'-'+_0x1c0e3f[_0x1327e8(0x5fb)],'mapPlayed':_0x1c0e3f[_0x1327e8(0x467)]||_0x1c0e3f['mapName']||_0x1327e8(0x53d),'note':_0x1327e8(0x383)});}const _0x34b938=_0x398712==='D1'?_0x1327e8(0x4ab):_0x398712==='D2'?_0x1327e8(0x5e7):'approvedMatchesD3',_0x3c2c9b=doc(db,_0x34b938,_0x173827);_0x5a52d6[_0x1327e8(0x310)](_0x3c2c9b,{'resimulated':!![],'resimulatedAt':serverTimestamp(),'resimulatedBy':auth[_0x1327e8(0x1f5)]['uid'],'resimulatedReason':'Complete\x20resimulation\x20-\x20ELO\x20ratings\x20and\x20positions\x20recalculated','originalWinnerElo':_0x580989['eloRating'],'originalLoserElo':_0x132f2e['eloRating'],'originalWinnerPosition':_0x108207,'originalLoserPosition':_0x2cebd3,'resimulatedWinnerElo':_0x2fd437,'resimulatedLoserElo':_0x986a99,'resimulatedWinnerPosition':_0x3e7838,'resimulatedLoserPosition':_0x2aff7c}),await _0x5a52d6[_0x1327e8(0x322)]();const _0x44607c=(!_0x572ada?0x1:0x0)+(!_0x3bd4d2?0x1:0x0),_0x39b744=_0x108207!==_0x3e7838||_0x2cebd3!==_0x2aff7c;showNotification(_0x1327e8(0x56b)+('Created\x20'+_0x44607c+_0x1327e8(0x1fd))+('Updated\x20ELO\x20ratings:\x20Winner\x20'+_0x2e66e8+''+_0x2fd437+_0x1327e8(0x60e)+(_0x2fd437-_0x2e66e8)+'),\x20')+(_0x1327e8(0x5ba)+_0x2a6604+''+_0x986a99+'\x20('+(_0x986a99-_0x2a6604)+_0x1327e8(0x5ab))+(''+(_0x39b744?'Positions\x20updated:\x20Winner\x20'+_0x108207+''+_0x3e7838+',\x20Loser\x20'+_0x2cebd3+''+_0x2aff7c:_0x1327e8(0x2c7))),_0x1327e8(0x4b9)),closeResimulateModal(),document[_0x1327e8(0x313)]('#players.content-section.active')&&loadPlayersData();}catch(_0x67769e){console['error']('Error\x20resimulating\x20match:',_0x67769e),showNotification(_0x1327e8(0x1e6)+_0x67769e['message'],_0x1327e8(0x24c));}}async function getPlayerEloAtTime(_0x33cdea,_0x55e3b5,_0x3cb18a){const _0x432751=a4_0x182e79;try{const _0x11d348=_0x55e3b5['toDate']?_0x55e3b5['toDate']():new Date(_0x55e3b5),_0x324f31=query(collection(db,_0x3cb18a),where(_0x432751(0x28f),'==',_0x33cdea),where('timestamp','<',_0x55e3b5),orderBy(_0x432751(0x5a1),_0x432751(0x59e)),limit(0x1)),_0x28c664=await getDocs(_0x324f31);if(!_0x28c664[_0x432751(0x3f9)]){const _0x1ae753=_0x28c664[_0x432751(0x423)][0x0][_0x432751(0x35f)]();return console[_0x432751(0x51b)](_0x432751(0x558)+_0x33cdea+_0x432751(0x20b)+_0x1ae753['newElo']),_0x1ae753[_0x432751(0x2ec)];}else return console['log'](_0x432751(0x537)+_0x33cdea+'\x20before\x20match\x20-\x20using\x20starting\x20ELO\x201200'),0x4b0;}catch(_0x363ac6){return console['error']('Error\x20getting\x20ELO\x20at\x20time\x20for\x20player\x20'+_0x33cdea+':',_0x363ac6),0x4b0;}}function openResimulateModal(){const _0x4fa7bc=a4_0x182e79;console[_0x4fa7bc(0x51b)](_0x4fa7bc(0x4d3));const _0x1b6b6f=document[_0x4fa7bc(0x2e0)](_0x4fa7bc(0x535));console['log'](_0x4fa7bc(0x5f7),_0x1b6b6f);if(!_0x1b6b6f){console[_0x4fa7bc(0x24c)](_0x4fa7bc(0x4a5));return;}_0x1b6b6f[_0x4fa7bc(0x2d9)][_0x4fa7bc(0x404)]='block',_0x1b6b6f['style']['visibility']=_0x4fa7bc(0x325),_0x1b6b6f[_0x4fa7bc(0x2d9)][_0x4fa7bc(0x5d4)]='1',_0x1b6b6f[_0x4fa7bc(0x3c2)][_0x4fa7bc(0x4f1)](_0x4fa7bc(0x3a4)),console[_0x4fa7bc(0x51b)]('Modal\x20should\x20now\x20be\x20visible'),console['log'](_0x4fa7bc(0x3fe),window['getComputedStyle'](_0x1b6b6f)[_0x4fa7bc(0x404)]);const _0xd2637a=document[_0x4fa7bc(0x2e0)]('match-details-container'),_0x48d5f1=document[_0x4fa7bc(0x2e0)]('validation-results-container'),_0x50ad4d=document[_0x4fa7bc(0x2e0)](_0x4fa7bc(0x501)),_0x1476ee=document['getElementById'](_0x4fa7bc(0x34a));if(_0xd2637a)_0xd2637a[_0x4fa7bc(0x398)]='';if(_0x48d5f1)_0x48d5f1[_0x4fa7bc(0x398)]='';if(_0x50ad4d)_0x50ad4d[_0x4fa7bc(0x2d9)]['display']=_0x4fa7bc(0x583);if(_0x1476ee)_0x1476ee[_0x4fa7bc(0x3bc)]='';console['log'](_0x4fa7bc(0x1f0));}function closeResimulateModal(){const _0xaf53af=a4_0x182e79;document[_0xaf53af(0x2e0)]('resimulate-modal')[_0xaf53af(0x2d9)]['display']=_0xaf53af(0x583),window[_0xaf53af(0x279)]=null;}window[a4_0x182e79(0x59b)]=resimulateMatch,window[a4_0x182e79(0x4c3)]=confirmResimulateMatch,window[a4_0x182e79(0x5e6)]=openResimulateModal,window['closeResimulateModal']=closeResimulateModal;async function loadPointsData(){const _0x44a449=a4_0x182e79;console[_0x44a449(0x51b)](_0x44a449(0x4e0));try{await Promise['all']([loadPointsOverview(),loadPointsHistory()]),showNotification(_0x44a449(0x5be),_0x44a449(0x4b9));}catch(_0xfede94){console[_0x44a449(0x24c)](_0x44a449(0x453),_0xfede94),showNotification(_0x44a449(0x3ee)+_0xfede94[_0x44a449(0x362)],'error');}}function renderPointsOverview(_0x570945){const _0x358c60=a4_0x182e79,_0x5293a2=document['getElementById'](_0x358c60(0x3f2));if(!_0x5293a2)return;if(_0x570945[_0x358c60(0x608)]===0x0){_0x5293a2[_0x358c60(0x398)]=_0x358c60(0x219);return;}_0x5293a2[_0x358c60(0x398)]='',_0x570945['forEach'](_0x2a9d57=>{const _0x3b67d1=_0x358c60,_0x303ca5=document[_0x3b67d1(0x3b6)]('tr'),_0x5bb9d1=_0x2a9d57[_0x3b67d1(0x407)]||_0x2a9d57[_0x3b67d1(0x3f7)]||'Unknown\x20User',_0x593c3d=_0x2a9d57['email']||'No\x20email',_0x38e5ce=_0x2a9d57['points']||0x0,_0x2254a4=_0x2a9d57[_0x3b67d1(0x561)]?new Date(_0x2a9d57['lastPointsModified'][_0x3b67d1(0x24e)]*0x3e8)[_0x3b67d1(0x466)]():_0x3b67d1(0x2c1);_0x303ca5[_0x3b67d1(0x398)]=_0x3b67d1(0x4f9)+_0x5bb9d1+_0x3b67d1(0x3e8)+_0x593c3d+_0x3b67d1(0x50a)+(_0x38e5ce>0x3e8?_0x3b67d1(0x4d7):_0x38e5ce>0x1f4?_0x3b67d1(0x58c):_0x3b67d1(0x203))+_0x3b67d1(0x281)+_0x38e5ce[_0x3b67d1(0x3ea)]()+_0x3b67d1(0x48c)+_0x2254a4+_0x3b67d1(0x275)+_0x2a9d57['id']+'\x22\x20title=\x22Quick\x20Edit\x20Points\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-edit\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22view-history-btn\x22\x20data-user-id=\x22'+_0x2a9d57['id']+_0x3b67d1(0x232),_0x5293a2[_0x3b67d1(0x5df)](_0x303ca5);}),setupPointsActionButtons();}function setupPointsActionButtons(){const _0x8e8827=a4_0x182e79;console['log'](_0x8e8827(0x477));const _0x125a03=document[_0x8e8827(0x61b)](_0x8e8827(0x580));console['log']('Found\x20'+_0x125a03['length']+'\x20quick\x20edit\x20buttons'),_0x125a03[_0x8e8827(0x2b1)](_0x100e07=>{const _0x494b66=_0x8e8827,_0x30fdf0=_0x100e07[_0x494b66(0x449)](!![]);_0x100e07[_0x494b66(0x2d6)][_0x494b66(0x277)](_0x30fdf0,_0x100e07);});const _0x15a2e8=document[_0x8e8827(0x61b)](_0x8e8827(0x21a));console[_0x8e8827(0x51b)](_0x8e8827(0x5fe)+_0x15a2e8[_0x8e8827(0x608)]+'\x20view\x20history\x20buttons'),_0x15a2e8['forEach'](_0x2af427=>{const _0x1d1a2d=_0x8e8827,_0x23ec14=_0x2af427[_0x1d1a2d(0x449)](!![]);_0x2af427[_0x1d1a2d(0x2d6)][_0x1d1a2d(0x277)](_0x23ec14,_0x2af427);}),document[_0x8e8827(0x61b)](_0x8e8827(0x580))[_0x8e8827(0x2b1)](_0x22c967=>{_0x22c967['addEventListener']('click',function(_0x3487fd){const _0x56ebdc=a4_0x3a00;_0x3487fd[_0x56ebdc(0x5e1)](),_0x3487fd[_0x56ebdc(0x3c0)]();const _0x934453=this[_0x56ebdc(0x45c)][_0x56ebdc(0x4fd)];console[_0x56ebdc(0x51b)](_0x56ebdc(0x32a),_0x934453);if(!_0x934453){console[_0x56ebdc(0x24c)](_0x56ebdc(0x5d7));return;}this[_0x56ebdc(0x2d9)][_0x56ebdc(0x5d4)]=_0x56ebdc(0x4fa),setTimeout(()=>{const _0x1943d2=_0x56ebdc;this['style'][_0x1943d2(0x5d4)]='1';},0xc8),openQuickEditModal(_0x934453);});}),document[_0x8e8827(0x61b)]('.view-history-btn')['forEach'](_0x5d3939=>{const _0xcd6654=_0x8e8827;_0x5d3939[_0xcd6654(0x511)](_0xcd6654(0x610),function(_0x290dfd){const _0x28e601=_0xcd6654;_0x290dfd[_0x28e601(0x5e1)](),_0x290dfd[_0x28e601(0x3c0)]();const _0x128ebe=this['dataset'][_0x28e601(0x4fd)];console[_0x28e601(0x51b)]('View\x20history\x20clicked\x20for\x20user:',_0x128ebe);if(!_0x128ebe){console['error'](_0x28e601(0x5d7));return;}this[_0x28e601(0x2d9)][_0x28e601(0x5d4)]=_0x28e601(0x4fa),setTimeout(()=>{const _0x5c2db8=_0x28e601;this[_0x5c2db8(0x2d9)]['opacity']='1';},0xc8),loadUserPointsHistory(_0x128ebe);});}),console[_0x8e8827(0x51b)]('Points\x20action\x20buttons\x20setup\x20complete');}async function openQuickEditModal(_0x2b2d5a){const _0x523188=a4_0x182e79;console[_0x523188(0x51b)](_0x523188(0x38e),_0x2b2d5a);const _0x5db961=document[_0x523188(0x2e0)]('quick-edit-points-modal');if(!_0x5db961){console[_0x523188(0x24c)]('Quick\x20edit\x20modal\x20not\x20found!\x20Make\x20sure\x20the\x20HTML\x20element\x20exists.'),showNotification(_0x523188(0x26f),_0x523188(0x24c));return;}try{showNotification('Loading\x20user\x20data...',_0x523188(0x462));const _0x1e0b8a=doc(db,_0x523188(0x376),_0x2b2d5a),_0x203edd=await getDoc(_0x1e0b8a);if(!_0x203edd['exists']()){showNotification('User\x20not\x20found',_0x523188(0x24c));return;}const _0x261600=_0x203edd[_0x523188(0x35f)]();console[_0x523188(0x51b)](_0x523188(0x44d),_0x261600);const _0x89689d=document[_0x523188(0x2e0)](_0x523188(0x529)),_0x5841e9=document[_0x523188(0x2e0)](_0x523188(0x524)),_0x5cf681=document[_0x523188(0x2e0)](_0x523188(0x57c)),_0x3e1e61=document['getElementById'](_0x523188(0x5ee)),_0x1d43bf=document['getElementById']('quick-edit-points-form');if(!_0x89689d||!_0x5841e9||!_0x5cf681||!_0x3e1e61||!_0x1d43bf){console['error'](_0x523188(0x635)),showNotification(_0x523188(0x4a1),_0x523188(0x24c));return;}_0x89689d[_0x523188(0x3bc)]=_0x2b2d5a,_0x5841e9['textContent']=_0x261600[_0x523188(0x407)]||_0x261600[_0x523188(0x3f7)]||_0x523188(0x498),_0x5cf681[_0x523188(0x565)]=_0x261600[_0x523188(0x542)]||_0x523188(0x49f),_0x3e1e61[_0x523188(0x565)]=(_0x261600['points']||0x0)[_0x523188(0x3ea)](),_0x1d43bf[_0x523188(0x553)]();const _0x2c9698=document[_0x523188(0x2e0)](_0x523188(0x59f));_0x2c9698&&(_0x2c9698['checked']=!![]);_0x5db961[_0x523188(0x3c2)]['add'](_0x523188(0x3a4)),console[_0x523188(0x51b)](_0x523188(0x472));const _0x2af528=document[_0x523188(0x2e0)](_0x523188(0x1fe));_0x2af528&&setTimeout(()=>_0x2af528[_0x523188(0x46a)](),0x64);}catch(_0x3c7638){console['error'](_0x523188(0x4a6),_0x3c7638),showNotification(_0x523188(0x317)+_0x3c7638[_0x523188(0x362)],_0x523188(0x24c));}}function closeQuickEditModal(){const _0x32b6d5=a4_0x182e79,_0x33a1a7=document[_0x32b6d5(0x2e0)](_0x32b6d5(0x330));_0x33a1a7&&_0x33a1a7[_0x32b6d5(0x3c2)]['remove'](_0x32b6d5(0x3a4));}async function handleQuickEditPoints(_0x45c274){const _0x10f30b=a4_0x182e79;_0x45c274[_0x10f30b(0x5e1)]();const _0x484bf5=document[_0x10f30b(0x2e0)](_0x10f30b(0x529))[_0x10f30b(0x3bc)],_0x1aebc0=document[_0x10f30b(0x313)](_0x10f30b(0x3a1))[_0x10f30b(0x3bc)],_0x5bf87d=parseInt(document[_0x10f30b(0x2e0)](_0x10f30b(0x1fe))[_0x10f30b(0x3bc)]),_0x1964dd=document['getElementById'](_0x10f30b(0x4c0))[_0x10f30b(0x3bc)]['trim']();console['log'](_0x10f30b(0x469),{'userId':_0x484bf5,'action':_0x1aebc0,'amount':_0x5bf87d,'reason':_0x1964dd});if(!_0x484bf5||!_0x5bf87d||_0x5bf87d<0x0){showNotification(_0x10f30b(0x36a),_0x10f30b(0x24c));return;}try{await modifyUserPoints(_0x484bf5,_0x1aebc0,_0x5bf87d,_0x1964dd),closeQuickEditModal(),loadPointsOverview(),showNotification('Points\x20updated\x20successfully',_0x10f30b(0x4b9)),console[_0x10f30b(0x51b)](_0x10f30b(0x481),_0x484bf5);}catch(_0x1cfeec){console['error'](_0x10f30b(0x62b),_0x1cfeec),showNotification(_0x10f30b(0x61f)+_0x1cfeec[_0x10f30b(0x362)],'error');}}async function searchUsersForPoints(){const _0x3e34dc=a4_0x182e79,_0x4f11c5=document[_0x3e34dc(0x2e0)](_0x3e34dc(0x2db))['value']['trim']()['toLowerCase'](),_0x54fe0a=document[_0x3e34dc(0x2e0)](_0x3e34dc(0x620));if(!_0x4f11c5||_0x4f11c5[_0x3e34dc(0x608)]<0x2){_0x54fe0a[_0x3e34dc(0x398)]='';return;}_0x54fe0a[_0x3e34dc(0x398)]=_0x3e34dc(0x5bf);try{const _0x18260b=collection(db,_0x3e34dc(0x376)),_0x3abaab=await getDocs(_0x18260b),_0x159a69=[];_0x3abaab[_0x3e34dc(0x2b1)](_0x13c2fc=>{const _0x206b5a=_0x3e34dc,_0x585d93=_0x13c2fc['data'](),_0x3c05fe=(_0x585d93[_0x206b5a(0x407)]||_0x585d93[_0x206b5a(0x3f7)]||'')[_0x206b5a(0x5ef)](),_0x3fcefe=(_0x585d93[_0x206b5a(0x542)]||'')[_0x206b5a(0x5ef)]();(_0x3c05fe[_0x206b5a(0x202)](_0x4f11c5)||_0x3fcefe[_0x206b5a(0x202)](_0x4f11c5))&&_0x159a69[_0x206b5a(0x45e)]({'id':_0x13c2fc['id'],..._0x585d93});});if(_0x159a69['length']===0x0){_0x54fe0a[_0x3e34dc(0x398)]=_0x3e34dc(0x4b6);return;}_0x54fe0a[_0x3e34dc(0x398)]='',_0x159a69['forEach'](_0x2066b6=>{const _0x117896=_0x3e34dc,_0x29751b=document[_0x117896(0x3b6)](_0x117896(0x39b));_0x29751b[_0x117896(0x48a)]=_0x117896(0x54a),_0x29751b[_0x117896(0x398)]=_0x117896(0x3cc)+(_0x2066b6[_0x117896(0x407)]||_0x2066b6['username']||'Unknown')+_0x117896(0x527)+(_0x2066b6[_0x117896(0x542)]||_0x117896(0x49f))+_0x117896(0x5b7)+(_0x2066b6[_0x117896(0x554)]||0x0)['toLocaleString']()+_0x117896(0x575),_0x29751b['addEventListener'](_0x117896(0x610),()=>selectUserForPoints(_0x2066b6)),_0x54fe0a['appendChild'](_0x29751b);});}catch(_0x59c217){console[_0x3e34dc(0x24c)]('Error\x20searching\x20users:',_0x59c217),_0x54fe0a[_0x3e34dc(0x398)]=_0x3e34dc(0x340);}}function selectUserForPoints(_0x1fa97e){const _0x4d9a34=a4_0x182e79;document[_0x4d9a34(0x2e0)](_0x4d9a34(0x54e))[_0x4d9a34(0x565)]=_0x1fa97e[_0x4d9a34(0x407)]||_0x1fa97e[_0x4d9a34(0x3f7)]||'Unknown\x20User',document[_0x4d9a34(0x2e0)](_0x4d9a34(0x312))[_0x4d9a34(0x565)]=(_0x1fa97e[_0x4d9a34(0x554)]||0x0)['toLocaleString'](),document['getElementById'](_0x4d9a34(0x416))[_0x4d9a34(0x3bc)]=_0x1fa97e['id'],document['getElementById'](_0x4d9a34(0x48f))[_0x4d9a34(0x2d9)][_0x4d9a34(0x404)]=_0x4d9a34(0x4e9),document[_0x4d9a34(0x2e0)]('points-management-forms')['style'][_0x4d9a34(0x404)]='block',document['getElementById']('user-search-results')[_0x4d9a34(0x398)]='',document[_0x4d9a34(0x2e0)](_0x4d9a34(0x2db))['value']='';}async function handleModifyPoints(_0x21b47a){const _0x4ec996=a4_0x182e79;_0x21b47a[_0x4ec996(0x5e1)]();const _0x1d72f0=document[_0x4ec996(0x2e0)](_0x4ec996(0x416))[_0x4ec996(0x3bc)],_0x3d2fbe=document['getElementById'](_0x4ec996(0x545))[_0x4ec996(0x3bc)],_0x41ca52=parseInt(document[_0x4ec996(0x2e0)]('points-amount')[_0x4ec996(0x3bc)]),_0x3c6727=document['getElementById'](_0x4ec996(0x612))[_0x4ec996(0x3bc)][_0x4ec996(0x352)]();if(!_0x1d72f0||!_0x41ca52||_0x41ca52<0x0){showNotification(_0x4ec996(0x288),'error');return;}try{await modifyUserPoints(_0x1d72f0,_0x3d2fbe,_0x41ca52,_0x3c6727),document[_0x4ec996(0x2e0)]('modify-points-form')['reset']();const _0x2e0ed1=doc(db,_0x4ec996(0x376),_0x1d72f0),_0x2d58da=await getDoc(_0x2e0ed1);if(_0x2d58da[_0x4ec996(0x5b3)]()){const _0x534eb4=_0x2d58da[_0x4ec996(0x35f)]();document[_0x4ec996(0x2e0)](_0x4ec996(0x312))[_0x4ec996(0x565)]=(_0x534eb4[_0x4ec996(0x554)]||0x0)[_0x4ec996(0x3ea)]();}showNotification(_0x4ec996(0x1e9),'success'),loadPointsHistory();}catch(_0x3d294d){console[_0x4ec996(0x24c)](_0x4ec996(0x5a7),_0x3d294d),showNotification(_0x4ec996(0x299)+_0x3d294d[_0x4ec996(0x362)],_0x4ec996(0x24c));}}async function loadPointsHistory(){const _0x3f4616=a4_0x182e79,_0x3ba755=document['getElementById'](_0x3f4616(0x5f2));if(!_0x3ba755)return;_0x3ba755[_0x3f4616(0x398)]=_0x3f4616(0x34e);try{const _0x44b0ba=collection(db,_0x3f4616(0x1e2)),_0x14d8cb=query(_0x44b0ba,orderBy(_0x3f4616(0x5a1),_0x3f4616(0x59e)),limit(0x32)),_0x1f105c=await getDocs(_0x14d8cb);if(_0x1f105c[_0x3f4616(0x3f9)]){_0x3ba755[_0x3f4616(0x398)]=_0x3f4616(0x43e);return;}_0x3ba755['innerHTML']='',_0x1f105c[_0x3f4616(0x2b1)](_0x3ddc1c=>{const _0x31d0a9=_0x3f4616,_0x7d4d25=_0x3ddc1c[_0x31d0a9(0x35f)](),_0x3f8c0c=document[_0x31d0a9(0x3b6)]('tr'),_0x52d2e8=_0x7d4d25[_0x31d0a9(0x5a1)]?new Date(_0x7d4d25[_0x31d0a9(0x5a1)][_0x31d0a9(0x24e)]*0x3e8)[_0x31d0a9(0x3ea)]():_0x31d0a9(0x53d);let _0x5bb977='';switch(_0x7d4d25[_0x31d0a9(0x60f)]){case _0x31d0a9(0x4f1):_0x5bb977=_0x31d0a9(0x3cd)+_0x7d4d25[_0x31d0a9(0x446)]+_0x31d0a9(0x33c);break;case'subtract':_0x5bb977=_0x31d0a9(0x282)+_0x7d4d25[_0x31d0a9(0x446)]+_0x31d0a9(0x33c);break;case _0x31d0a9(0x516):_0x5bb977=_0x31d0a9(0x2ea)+_0x7d4d25[_0x31d0a9(0x446)]+_0x31d0a9(0x33c);break;default:_0x5bb977=_0x7d4d25[_0x31d0a9(0x60f)]+'\x20'+_0x7d4d25[_0x31d0a9(0x446)]+'\x20points';}_0x3f8c0c[_0x31d0a9(0x398)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x52d2e8+_0x31d0a9(0x211)+(_0x7d4d25['displayName']||_0x31d0a9(0x498))+_0x31d0a9(0x211)+_0x5bb977+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22points-change\x20'+_0x7d4d25[_0x31d0a9(0x60f)]+_0x31d0a9(0x3af)+(_0x7d4d25[_0x31d0a9(0x4fb)]||0x0)+_0x31d0a9(0x61e)+(_0x7d4d25[_0x31d0a9(0x38c)]||0x0)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x7d4d25[_0x31d0a9(0x33d)]||_0x31d0a9(0x29a))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x7d4d25['adminEmail']||'Unknown\x20Admin')+_0x31d0a9(0x2f9),_0x3ba755[_0x31d0a9(0x5df)](_0x3f8c0c);});}catch(_0x1a22bc){console[_0x3f4616(0x24c)]('Error\x20loading\x20points\x20history:',_0x1a22bc),_0x3ba755[_0x3f4616(0x398)]='<tr><td\x20colspan=\x226\x22\x20class=\x22error-state\x22>Error\x20loading\x20history:\x20'+_0x1a22bc[_0x3f4616(0x362)]+_0x3f4616(0x5c2);}}function filterPointsOverview(){const _0x4b90b9=a4_0x182e79,_0xb89cfa=document[_0x4b90b9(0x2e0)](_0x4b90b9(0x5a5))[_0x4b90b9(0x3bc)][_0x4b90b9(0x5ef)]();if(!window[_0x4b90b9(0x365)])return;const _0x3ad471=window[_0x4b90b9(0x365)]['filter'](_0x1973f2=>{const _0x3a4a92=_0x4b90b9,_0x1b4e29=(_0x1973f2[_0x3a4a92(0x407)]||_0x1973f2[_0x3a4a92(0x3f7)]||'')[_0x3a4a92(0x5ef)](),_0x198561=(_0x1973f2['email']||'')[_0x3a4a92(0x5ef)]();return _0x1b4e29[_0x3a4a92(0x202)](_0xb89cfa)||_0x198561['includes'](_0xb89cfa);});renderPointsOverview(_0x3ad471);}function sortPointsOverview(){const _0x2e8722=a4_0x182e79,_0x2a9ef8=document[_0x2e8722(0x2e0)]('points-sort-order')['value'];if(!window[_0x2e8722(0x365)])return;const _0x2e3776=[...window[_0x2e8722(0x365)]];switch(_0x2a9ef8){case _0x2e8722(0x5f5):_0x2e3776[_0x2e8722(0x4cd)]((_0x41f227,_0x4895e4)=>(_0x4895e4[_0x2e8722(0x554)]||0x0)-(_0x41f227[_0x2e8722(0x554)]||0x0));break;case _0x2e8722(0x5e0):_0x2e3776[_0x2e8722(0x4cd)]((_0x4d12d3,_0x4de896)=>(_0x4d12d3[_0x2e8722(0x554)]||0x0)-(_0x4de896[_0x2e8722(0x554)]||0x0));break;case _0x2e8722(0x4c6):_0x2e3776[_0x2e8722(0x4cd)]((_0x3839e1,_0x475c2a)=>{const _0x52cd49=_0x2e8722,_0x4565ce=(_0x3839e1['displayName']||_0x3839e1[_0x52cd49(0x3f7)]||'')[_0x52cd49(0x5ef)](),_0x355279=(_0x475c2a[_0x52cd49(0x407)]||_0x475c2a[_0x52cd49(0x3f7)]||'')['toLowerCase']();return _0x4565ce[_0x52cd49(0x41d)](_0x355279);});break;case _0x2e8722(0x552):_0x2e3776[_0x2e8722(0x4cd)]((_0x4ce4f2,_0x3fb90f)=>{const _0x52645f=_0x2e8722,_0x4982cc=(_0x4ce4f2[_0x52645f(0x407)]||_0x4ce4f2[_0x52645f(0x3f7)]||'')['toLowerCase'](),_0x92d248=(_0x3fb90f[_0x52645f(0x407)]||_0x3fb90f['username']||'')['toLowerCase']();return _0x92d248['localeCompare'](_0x4982cc);});break;}renderPointsOverview(_0x2e3776);}async function handleAwardItem(_0x489918){const _0xdeaa15=a4_0x182e79;_0x489918['preventDefault']();const _0x7725b1=document[_0xdeaa15(0x2e0)](_0xdeaa15(0x416))['value'],_0x258eeb=document['getElementById'](_0xdeaa15(0x1f3))[_0xdeaa15(0x3bc)],_0x12c598=document[_0xdeaa15(0x2e0)](_0xdeaa15(0x255))[_0xdeaa15(0x3bc)][_0xdeaa15(0x352)]();if(!_0x7725b1||!_0x258eeb){showNotification(_0xdeaa15(0x402),_0xdeaa15(0x24c));return;}try{showNotification(_0xdeaa15(0x230),_0xdeaa15(0x4b9)),document[_0xdeaa15(0x2e0)](_0xdeaa15(0x421))['reset']();}catch(_0x72db67){console['error'](_0xdeaa15(0x2ac),_0x72db67),showNotification(_0xdeaa15(0x314)+_0x72db67[_0xdeaa15(0x362)],_0xdeaa15(0x24c));}}async function loadUserPointsHistory(_0x8d9231){const _0x30f99e=a4_0x182e79;try{const _0x3a2581=collection(db,'pointsHistory'),_0x56cf69=query(_0x3a2581,where(_0x30f99e(0x4fd),'==',_0x8d9231),orderBy('timestamp','desc')),_0x4531d1=await getDocs(_0x56cf69);console[_0x30f99e(0x51b)](_0x30f99e(0x5fe)+_0x4531d1[_0x30f99e(0x410)]+_0x30f99e(0x5cc)+_0x8d9231),showNotification(_0x30f99e(0x27c)+_0x4531d1[_0x30f99e(0x410)]+_0x30f99e(0x3c7),_0x30f99e(0x462));}catch(_0x4aba4b){console[_0x30f99e(0x24c)](_0x30f99e(0x624),_0x4aba4b),showNotification('Failed\x20to\x20load\x20user\x20history',_0x30f99e(0x24c));}}async function initializeUserPointsField(){const _0x42cd3f=a4_0x182e79;try{console[_0x42cd3f(0x51b)]('Starting\x20points\x20field\x20initialization\x20for\x20all\x20users...');const _0x3fe0c2=collection(db,'userProfiles'),_0x5e35bf=await getDocs(_0x3fe0c2);if(_0x5e35bf['empty']){console[_0x42cd3f(0x51b)](_0x42cd3f(0x363));return;}let _0x127a28=0x0,_0x4343b6=0x0;const _0x192121=writeBatch(db);let _0x2eb319=0x0;return console[_0x42cd3f(0x51b)](_0x42cd3f(0x5fe)+_0x5e35bf[_0x42cd3f(0x410)]+_0x42cd3f(0x371)),_0x5e35bf[_0x42cd3f(0x2b1)](_0x5399e2=>{const _0x4742b6=_0x42cd3f,_0x591a3c=_0x5399e2[_0x4742b6(0x35f)]();_0x591a3c[_0x4742b6(0x554)]===undefined||_0x591a3c[_0x4742b6(0x554)]===null?(_0x192121[_0x4742b6(0x310)](_0x5399e2[_0x4742b6(0x625)],{'points':0x0,'pointsInitializedAt':serverTimestamp()}),_0x127a28++,_0x2eb319++,console[_0x4742b6(0x51b)](_0x4742b6(0x602)+(_0x591a3c[_0x4742b6(0x407)]||_0x591a3c[_0x4742b6(0x3f7)]||_0x591a3c[_0x4742b6(0x542)]||_0x4742b6(0x53d))+_0x4742b6(0x57b))):(_0x4343b6++,console[_0x4742b6(0x51b)]((_0x591a3c[_0x4742b6(0x407)]||_0x591a3c[_0x4742b6(0x3f7)]||_0x591a3c[_0x4742b6(0x542)]||_0x4742b6(0x53d))+_0x4742b6(0x307)+_0x591a3c[_0x4742b6(0x554)])),_0x2eb319>=0x1f4&&console['warn'](_0x4742b6(0x479));}),_0x127a28>0x0?(console[_0x42cd3f(0x51b)]('Committing\x20batch\x20update\x20for\x20'+_0x127a28+_0x42cd3f(0x303)),await _0x192121[_0x42cd3f(0x322)](),console[_0x42cd3f(0x51b)](_0x42cd3f(0x5d2)+_0x127a28+_0x42cd3f(0x4f8))):console[_0x42cd3f(0x51b)](_0x42cd3f(0x530)),console[_0x42cd3f(0x51b)](_0x42cd3f(0x4ea)+_0x5e35bf[_0x42cd3f(0x410)]+_0x42cd3f(0x41c)+_0x127a28+_0x42cd3f(0x5f3)+_0x4343b6),showNotification(_0x42cd3f(0x233)+_0x127a28+'\x20users.\x20'+_0x4343b6+_0x42cd3f(0x35c),_0x42cd3f(0x4b9)),window['allUsersPoints']&&loadPointsOverview(),{'totalUsers':_0x5e35bf[_0x42cd3f(0x410)],'usersUpdated':_0x127a28,'usersAlreadyHadPoints':_0x4343b6};}catch(_0x1d6f9c){console[_0x42cd3f(0x24c)](_0x42cd3f(0x42c),_0x1d6f9c),showNotification(_0x42cd3f(0x53c)+_0x1d6f9c[_0x42cd3f(0x362)],'error');throw _0x1d6f9c;}}function addPointsMigrationButton(){const _0xd9c610=a4_0x182e79,_0x44a27e=document[_0xd9c610(0x2e0)](_0xd9c610(0x51e));if(!_0x44a27e)return;if(document[_0xd9c610(0x2e0)](_0xd9c610(0x4e4)))return;const _0x4c1060=document[_0xd9c610(0x3b6)]('div');_0x4c1060[_0xd9c610(0x48a)]=_0xd9c610(0x37e),_0x4c1060[_0xd9c610(0x2d9)]['marginBottom']=_0xd9c610(0x538),_0x4c1060[_0xd9c610(0x2d9)][_0xd9c610(0x3d6)]=_0xd9c610(0x2ab),_0x4c1060['style'][_0xd9c610(0x20a)]='rgba(255,\x20193,\x207,\x200.1)',_0x4c1060[_0xd9c610(0x2d9)]['border']=_0xd9c610(0x231),_0x4c1060[_0xd9c610(0x2d9)][_0xd9c610(0x2fe)]='5px',_0x4c1060['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4><i\x20class=\x22fas\x20fa-database\x22></i>\x20Database\x20Migration</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p>Initialize\x20the\x20points\x20field\x20for\x20all\x20users\x20who\x20don\x27t\x20have\x20it\x20yet.\x20This\x20is\x20safe\x20to\x20run\x20multiple\x20times.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22migrate-points-btn\x22\x20class=\x22btn\x20btn-warning\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20Initialize\x20Points\x20Field\x20for\x20All\x20Users\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20';const _0x327bb0=_0x44a27e[_0xd9c610(0x313)]('.section-header');_0x327bb0&&_0x327bb0['insertAdjacentElement']('afterend',_0x4c1060),document['getElementById']('migrate-points-btn')['addEventListener'](_0xd9c610(0x610),async function(){const _0x239e07=_0xd9c610;if(confirm(_0x239e07(0x4a7))){this['disabled']=!![],this[_0x239e07(0x398)]=_0x239e07(0x5c0);try{await initializeUserPointsField(),this[_0x239e07(0x398)]='<i\x20class=\x22fas\x20fa-check\x22></i>\x20Completed',this['style'][_0x239e07(0x20a)]='#28a745',setTimeout(()=>{const _0x3842a3=_0x239e07;_0x4c1060[_0x3842a3(0x2d9)]['display']='none';},0xbb8);}catch(_0x40c960){this[_0x239e07(0x398)]=_0x239e07(0x2d3),this[_0x239e07(0x3c8)]=![];}}});}function setupManagePointsSection(){const _0x4bfca3=a4_0x182e79;console[_0x4bfca3(0x51b)]('Setting\x20up\x20Manage\x20Points\x20section'),addPointsMigrationButton();const _0x107230=document['getElementById']('points-user-search');_0x107230&&_0x107230['addEventListener'](_0x4bfca3(0x20c),debounce(searchUsersForPoints,0x12c));const _0x2b48ac=document[_0x4bfca3(0x2e0)](_0x4bfca3(0x32d));_0x2b48ac&&_0x2b48ac['addEventListener']('submit',handleModifyPoints);const _0x38331d=document['getElementById'](_0x4bfca3(0x421));_0x38331d&&_0x38331d[_0x4bfca3(0x511)](_0x4bfca3(0x494),handleAwardItem);const _0x3cee30=document[_0x4bfca3(0x2e0)](_0x4bfca3(0x5a5));_0x3cee30&&_0x3cee30['addEventListener'](_0x4bfca3(0x20c),debounce(filterPointsOverview,0x12c));const _0x1d00bc=document[_0x4bfca3(0x2e0)](_0x4bfca3(0x434));_0x1d00bc&&_0x1d00bc[_0x4bfca3(0x511)](_0x4bfca3(0x395),sortPointsOverview);const _0x459541=document[_0x4bfca3(0x2e0)]('refresh-points-overview');_0x459541&&_0x459541[_0x4bfca3(0x511)](_0x4bfca3(0x610),loadPointsOverview);const _0x1e88bf=document[_0x4bfca3(0x2e0)](_0x4bfca3(0x330));if(_0x1e88bf){console[_0x4bfca3(0x51b)](_0x4bfca3(0x245));const _0x19d9ed=_0x1e88bf[_0x4bfca3(0x313)](_0x4bfca3(0x369));_0x19d9ed?_0x19d9ed['addEventListener']('click',function(){const _0x34800b=_0x4bfca3;console[_0x34800b(0x51b)](_0x34800b(0x523)),closeQuickEditModal();}):console[_0x4bfca3(0x37b)](_0x4bfca3(0x606));const _0x40dda9=document['getElementById'](_0x4bfca3(0x5e4));_0x40dda9?_0x40dda9[_0x4bfca3(0x511)](_0x4bfca3(0x610),function(){const _0x2b17f7=_0x4bfca3;console['log'](_0x2b17f7(0x1f4)),closeQuickEditModal();}):console[_0x4bfca3(0x37b)](_0x4bfca3(0x2a9));const _0x3eb611=document[_0x4bfca3(0x2e0)](_0x4bfca3(0x1f6));_0x3eb611?_0x3eb611[_0x4bfca3(0x511)](_0x4bfca3(0x494),function(_0x34829c){const _0x407623=_0x4bfca3;console[_0x407623(0x51b)](_0x407623(0x329)),handleQuickEditPoints(_0x34829c);}):console[_0x4bfca3(0x24c)](_0x4bfca3(0x3ff)),_0x1e88bf[_0x4bfca3(0x511)]('click',function(_0xedbc61){const _0x3d35e3=_0x4bfca3;_0xedbc61[_0x3d35e3(0x56d)]===_0x1e88bf&&(console[_0x3d35e3(0x51b)]('Modal\x20background\x20clicked'),closeQuickEditModal());});}else console[_0x4bfca3(0x24c)]('Quick\x20edit\x20modal\x20not\x20found\x20in\x20DOM!');console['log'](_0x4bfca3(0x432));}function setupManageRibbonsSection(){const _0x420036=a4_0x182e79;console[_0x420036(0x51b)]('Setting\x20up\x20Manage\x20Ribbons\x20section');const _0x47ff12=document[_0x420036(0x2e0)](_0x420036(0x2a8));_0x47ff12&&_0x47ff12['addEventListener']('input',debounce(searchRibbonUser,0x12c));const _0x3c036b=document[_0x420036(0x2e0)]('search-ribbon-user-btn');_0x3c036b&&_0x3c036b[_0x420036(0x511)](_0x420036(0x610),searchRibbonUser);const _0xdc41b5=document['getElementById']('add-ribbon-form');_0xdc41b5&&_0xdc41b5[_0x420036(0x511)]('submit',addRibbon),_0x47ff12&&_0x47ff12['addEventListener'](_0x420036(0x237),function(_0x318d66){const _0x10f523=_0x420036;_0x318d66['key']===_0x10f523(0x457)&&(_0x318d66[_0x10f523(0x5e1)](),searchRibbonUser());}),console['log'](_0x420036(0x4d2));}async function modifyUserPoints(_0xd2e342,_0x353938,_0x175555,_0x32a31f=''){const _0x2e9f4a=a4_0x182e79,_0x37cb42=doc(db,_0x2e9f4a(0x376),_0xd2e342),_0x20ef80=await getDoc(_0x37cb42);if(!_0x20ef80[_0x2e9f4a(0x5b3)]())throw new Error(_0x2e9f4a(0x335));const _0x12a1e3=_0x20ef80[_0x2e9f4a(0x35f)](),_0x5c63b4=_0x12a1e3[_0x2e9f4a(0x554)]!==undefined?_0x12a1e3['points']:0x0;_0x12a1e3[_0x2e9f4a(0x554)]===undefined&&(console[_0x2e9f4a(0x51b)]('Initializing\x20points\x20field\x20for\x20user\x20'+(_0x12a1e3[_0x2e9f4a(0x407)]||_0x12a1e3['email']||_0x2e9f4a(0x53d))),await updateDoc(_0x37cb42,{'points':0x0,'pointsInitializedAt':serverTimestamp()}));let _0x6b300=_0x5c63b4;switch(_0x353938){case _0x2e9f4a(0x4f1):_0x6b300=_0x5c63b4+_0x175555;break;case _0x2e9f4a(0x4c9):_0x6b300=Math[_0x2e9f4a(0x29f)](0x0,_0x5c63b4-_0x175555);break;case'set':_0x6b300=_0x175555;break;default:throw new Error(_0x2e9f4a(0x53e));}await updateDoc(_0x37cb42,{'points':_0x6b300,'lastPointsModified':serverTimestamp()}),await addDoc(collection(db,_0x2e9f4a(0x1e2)),{'userId':_0xd2e342,'userEmail':_0x12a1e3[_0x2e9f4a(0x542)]||_0x2e9f4a(0x40d),'displayName':_0x12a1e3[_0x2e9f4a(0x407)]||_0x12a1e3[_0x2e9f4a(0x3f7)]||_0x2e9f4a(0x498),'action':_0x353938,'amount':_0x175555,'previousPoints':_0x5c63b4,'newPoints':_0x6b300,'reason':_0x32a31f,'adminEmail':auth[_0x2e9f4a(0x1f5)][_0x2e9f4a(0x542)],'timestamp':serverTimestamp()});}async function loadPointsOverview(){const _0x327a1b=a4_0x182e79,_0x5dccfa=document[_0x327a1b(0x2e0)](_0x327a1b(0x3f2));if(!_0x5dccfa)return;_0x5dccfa['innerHTML']=_0x327a1b(0x502);try{const _0x5090b7=collection(db,_0x327a1b(0x376)),_0x3201dc=await getDocs(_0x5090b7);if(_0x3201dc['empty']){_0x5dccfa['innerHTML']='<tr><td\x20colspan=\x225\x22\x20class=\x22empty-state\x22>No\x20users\x20found</td></tr>';return;}const _0x4372c2=[];let _0x5cf55a=0x0;_0x3201dc[_0x327a1b(0x2b1)](_0x3e9309=>{const _0x2ec4d0=_0x327a1b,_0x34dff4=_0x3e9309[_0x2ec4d0(0x35f)](),_0x323cb2=_0x34dff4[_0x2ec4d0(0x554)]!==undefined?_0x34dff4[_0x2ec4d0(0x554)]:0x0;_0x34dff4[_0x2ec4d0(0x554)]===undefined&&_0x5cf55a++,_0x4372c2[_0x2ec4d0(0x45e)]({'id':_0x3e9309['id'],..._0x34dff4,'points':_0x323cb2});}),_0x5cf55a>0x0&&(console['log'](_0x327a1b(0x5fe)+_0x5cf55a+'\x20users\x20without\x20points\x20field\x20-\x20they\x20will\x20display\x20as\x200\x20points'),showNotification(_0x5cf55a+_0x327a1b(0x377),_0x327a1b(0x462))),_0x4372c2[_0x327a1b(0x4cd)]((_0xcf7a9d,_0x9d4b08)=>(_0x9d4b08[_0x327a1b(0x554)]||0x0)-(_0xcf7a9d['points']||0x0)),window[_0x327a1b(0x365)]=_0x4372c2,renderPointsOverview(_0x4372c2);}catch(_0xc25795){console[_0x327a1b(0x24c)](_0x327a1b(0x52a),_0xc25795),_0x5dccfa['innerHTML']=_0x327a1b(0x47e)+_0xc25795['message']+_0x327a1b(0x5c2);}}async function loadRibbonsData(){const _0x559d76=a4_0x182e79,_0x1ed31a=document['getElementById'](_0x559d76(0x2be));if(!_0x1ed31a)return;_0x1ed31a[_0x559d76(0x398)]=_0x559d76(0x5b5);try{const [_0x486ccf,_0xa04e5e,_0x2ba9ea]=await Promise[_0x559d76(0x55a)]([getDocs(collection(db,'playerRibbons')),getDocs(collection(db,_0x559d76(0x4be))),getDocs(collection(db,'playerRibbonsD3'))]);_0x1ed31a[_0x559d76(0x398)]='';const _0x4005c4=(_0x1e00c9,_0x2a81ce)=>{const _0x3bd133=_0x559d76;_0x1e00c9[_0x3bd133(0x2b1)](_0x18faf8=>{const _0x5cd36a=_0x3bd133,_0x1ea41f=_0x18faf8['data'](),_0xedafa7=_0x1ea41f[_0x5cd36a(0x32b)]||{},_0x39e0ac=Object[_0x5cd36a(0x4aa)](_0xedafa7)['length'],_0x11c5ed=document[_0x5cd36a(0x3b6)]('tr');_0x11c5ed['innerHTML']=_0x5cd36a(0x261)+(_0x1ea41f['username']||'Unknown')+_0x5cd36a(0x461)+_0x2a81ce[_0x5cd36a(0x5ef)]()+'\x22>'+_0x2a81ce+'</span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x39e0ac+_0x5cd36a(0x40f)+(_0x1ea41f[_0x5cd36a(0x5e5)]?new Date(_0x1ea41f[_0x5cd36a(0x5e5)][_0x5cd36a(0x24e)]*0x3e8)['toLocaleDateString']():_0x5cd36a(0x53d))+_0x5cd36a(0x29b)+_0x1ea41f['username']+_0x5cd36a(0x355)+_0x2a81ce+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-edit\x22></i>\x20Edit\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x1ed31a['appendChild'](_0x11c5ed);});};_0x4005c4(_0x486ccf,'D1'),_0x4005c4(_0xa04e5e,'D2'),_0x4005c4(_0x2ba9ea,'D3'),document[_0x559d76(0x61b)](_0x559d76(0x4b5))[_0x559d76(0x2b1)](_0x90e856=>{const _0x16a2bf=_0x559d76;_0x90e856[_0x16a2bf(0x511)](_0x16a2bf(0x610),function(){const _0xd07227=_0x16a2bf,_0x4aa73f=this[_0xd07227(0x45c)]['username'],_0x5b6eb6=this[_0xd07227(0x45c)][_0xd07227(0x2e4)];editUserRibbons(_0x4aa73f,_0x5b6eb6);});}),showNotification(_0x559d76(0x4d1),_0x559d76(0x4b9));}catch(_0x721ef0){console[_0x559d76(0x24c)](_0x559d76(0x57a),_0x721ef0),_0x1ed31a[_0x559d76(0x398)]=_0x559d76(0x35e),showNotification('Error\x20loading\x20ribbons\x20data',_0x559d76(0x24c));}}async function searchRibbonUser(){const _0x1d8417=a4_0x182e79,_0x31f2fd=document[_0x1d8417(0x2e0)](_0x1d8417(0x2a8))[_0x1d8417(0x3bc)]['trim']();if(!_0x31f2fd){showNotification(_0x1d8417(0x42a),_0x1d8417(0x24c));return;}try{const [_0x350650,_0x149935,_0x5407a1]=await Promise[_0x1d8417(0x55a)]([getDoc(doc(db,_0x1d8417(0x58d),_0x31f2fd)),getDoc(doc(db,_0x1d8417(0x4be),_0x31f2fd)),getDoc(doc(db,_0x1d8417(0x631),_0x31f2fd))]);let _0x5ed6d6=null,_0x3d7c2f=null;if(_0x350650[_0x1d8417(0x5b3)]())_0x5ed6d6='D1',_0x3d7c2f=_0x350650['data']();else{if(_0x149935[_0x1d8417(0x5b3)]())_0x5ed6d6='D2',_0x3d7c2f=_0x149935[_0x1d8417(0x35f)]();else _0x5407a1[_0x1d8417(0x5b3)]()&&(_0x5ed6d6='D3',_0x3d7c2f=_0x5407a1[_0x1d8417(0x35f)]());}_0x5ed6d6?(document['getElementById'](_0x1d8417(0x1fc))['textContent']=_0x31f2fd,document['getElementById'](_0x1d8417(0x53a))['value']=_0x31f2fd,document[_0x1d8417(0x2e0)]('ribbon-target-ladder')[_0x1d8417(0x3bc)]=_0x5ed6d6,document['getElementById'](_0x1d8417(0x2d5))[_0x1d8417(0x2d9)][_0x1d8417(0x404)]=_0x1d8417(0x4e9),displayCurrentRibbons(_0x3d7c2f[_0x1d8417(0x32b)]||{}),showNotification('Found\x20'+_0x31f2fd+'\x20in\x20'+_0x5ed6d6+_0x1d8417(0x4f0),_0x1d8417(0x4b9))):showNotification('User\x20'+_0x31f2fd+_0x1d8417(0x515),'error');}catch(_0x1858b6){console['error']('Error\x20searching\x20user:',_0x1858b6),showNotification(_0x1d8417(0x531),_0x1d8417(0x24c));}}function displayCurrentRibbons(_0x13c01d){const _0x410c25=a4_0x182e79,_0x5e42e7=document[_0x410c25(0x2e0)](_0x410c25(0x304));if(!_0x5e42e7)return;_0x5e42e7[_0x410c25(0x398)]='';if(Object[_0x410c25(0x4aa)](_0x13c01d)[_0x410c25(0x608)]===0x0){_0x5e42e7[_0x410c25(0x398)]='<p\x20class=\x22no-ribbons\x22>No\x20ribbons\x20found</p>';return;}Object[_0x410c25(0x439)](_0x13c01d)[_0x410c25(0x2b1)](([_0x577544,_0x365845])=>{const _0xae5768=_0x410c25,_0x49b7a0=document['createElement'](_0xae5768(0x39b));_0x49b7a0[_0xae5768(0x48a)]=_0xae5768(0x4b4),_0x49b7a0[_0xae5768(0x398)]=_0xae5768(0x3a6)+_0x577544+_0xae5768(0x2e9)+(_0x365845[_0xae5768(0x20e)]||0x1)+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small>Awarded:\x20'+(_0x365845[_0xae5768(0x30c)]?new Date(_0x365845[_0xae5768(0x30c)]['seconds']*0x3e8)[_0xae5768(0x466)]():_0xae5768(0x53d))+_0xae5768(0x33f)+_0x577544+_0xae5768(0x2af),_0x5e42e7[_0xae5768(0x5df)](_0x49b7a0);}),document[_0x410c25(0x61b)]('.remove-ribbon-btn')['forEach'](_0x3c8fe9=>{const _0x213976=_0x410c25;_0x3c8fe9['addEventListener'](_0x213976(0x610),function(){const _0x2e4593=this['dataset']['ribbon'];removeRibbon(_0x2e4593);});});}async function addRibbon(_0x20e3a4){const _0x16ecc7=a4_0x182e79;_0x20e3a4['preventDefault']();const _0x207ace=document[_0x16ecc7(0x2e0)]('ribbon-target-user')['value'],_0x3f9db8=document[_0x16ecc7(0x2e0)]('ribbon-target-ladder')[_0x16ecc7(0x3bc)],_0x253dcf=document[_0x16ecc7(0x2e0)](_0x16ecc7(0x534))[_0x16ecc7(0x3bc)],_0x5242d9=parseInt(document[_0x16ecc7(0x2e0)](_0x16ecc7(0x397))[_0x16ecc7(0x3bc)]);if(!_0x207ace||!_0x3f9db8||!_0x253dcf||!_0x5242d9){showNotification(_0x16ecc7(0x266),_0x16ecc7(0x24c));return;}try{const _0x49a5d8=_0x16ecc7(0x58d)+(_0x3f9db8==='D1'?'':_0x3f9db8),_0x569228=doc(db,_0x49a5d8,_0x207ace),_0x5114f3=await getDoc(_0x569228),_0xfa0a4=_0x5114f3[_0x16ecc7(0x5b3)]()?_0x5114f3['data']()['ribbons']||{}:{};_0xfa0a4[_0x253dcf]={'level':_0x5242d9,'awardedAt':serverTimestamp()},await setDoc(_0x569228,{'username':_0x207ace,'ladder':_0x3f9db8,'ribbons':_0xfa0a4,'lastUpdated':serverTimestamp()},{'merge':!![]}),showNotification(_0x16ecc7(0x3cd)+_0x253dcf+_0x16ecc7(0x541)+_0x5242d9+_0x16ecc7(0x447)+_0x207ace,_0x16ecc7(0x4b9)),displayCurrentRibbons(_0xfa0a4),document[_0x16ecc7(0x2e0)](_0x16ecc7(0x534))[_0x16ecc7(0x3bc)]='',document['getElementById'](_0x16ecc7(0x397))[_0x16ecc7(0x3bc)]='1';}catch(_0x30c961){console[_0x16ecc7(0x24c)](_0x16ecc7(0x437),_0x30c961),showNotification(_0x16ecc7(0x5ec),_0x16ecc7(0x24c));}}async function removeRibbon(_0x47c9b8){const _0x31cca5=a4_0x182e79,_0x33f4d8=document[_0x31cca5(0x2e0)](_0x31cca5(0x53a))[_0x31cca5(0x3bc)],_0x1e1222=document[_0x31cca5(0x2e0)]('ribbon-target-ladder')[_0x31cca5(0x3bc)];if(!confirm(_0x31cca5(0x331)+_0x47c9b8+_0x31cca5(0x60a)+_0x33f4d8+'?'))return;try{const _0x4ea3fc='playerRibbons'+(_0x1e1222==='D1'?'':_0x1e1222),_0x2bfa48=doc(db,_0x4ea3fc,_0x33f4d8),_0x257d55=await getDoc(_0x2bfa48),_0x39d581=_0x257d55[_0x31cca5(0x5b3)]()?_0x257d55[_0x31cca5(0x35f)]()[_0x31cca5(0x32b)]||{}:{};delete _0x39d581[_0x47c9b8],await setDoc(_0x2bfa48,{'username':_0x33f4d8,'ladder':_0x1e1222,'ribbons':_0x39d581,'lastUpdated':serverTimestamp()},{'merge':!![]}),showNotification(_0x31cca5(0x242)+_0x47c9b8+_0x31cca5(0x60a)+_0x33f4d8,'success'),displayCurrentRibbons(_0x39d581);}catch(_0x38eaec){console[_0x31cca5(0x24c)](_0x31cca5(0x58b),_0x38eaec),showNotification(_0x31cca5(0x5ae),_0x31cca5(0x24c));}}function editUserRibbons(_0x1f7a17,_0xa482cd){const _0x12ce8b=a4_0x182e79;document['getElementById'](_0x12ce8b(0x2a8))['value']=_0x1f7a17,searchRibbonUser();}