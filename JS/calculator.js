const a7_0x99bbcd=a7_0x4dd9,a7_0x38c614=(function(){let _0x272077=!![];return function(_0x4f3bd4,_0x37847c){const _0x2df69b=_0x272077?function(){const _0x5b59a5=a7_0x4dd9;if(_0x37847c){const _0x41bc99=_0x37847c[_0x5b59a5(0x229)](_0x4f3bd4,arguments);return _0x37847c=null,_0x41bc99;}}:function(){};return _0x272077=![],_0x2df69b;};}()),a7_0x1d8f3d=a7_0x38c614(this,function(){const _0x57cc5b=a7_0x4dd9,_0x16ceac=function(){const _0x496380=a7_0x4dd9;let _0xf7ff2;try{_0xf7ff2=Function(_0x496380(0x22b)+_0x496380(0x25f)+');')();}catch(_0x300a40){_0xf7ff2=window;}return _0xf7ff2;},_0x376a22=_0x16ceac(),_0x8bf1d1=_0x376a22[_0x57cc5b(0x1fa)]=_0x376a22[_0x57cc5b(0x1fa)]||{},_0x3011c6=[_0x57cc5b(0x228),_0x57cc5b(0x23b),_0x57cc5b(0x244),_0x57cc5b(0x20c),_0x57cc5b(0x1f0),_0x57cc5b(0x25c),_0x57cc5b(0x26a)];for(let _0x9f53bf=0x0;_0x9f53bf<_0x3011c6[_0x57cc5b(0x202)];_0x9f53bf++){const _0x15714b=a7_0x38c614[_0x57cc5b(0x20b)][_0x57cc5b(0x1f7)][_0x57cc5b(0x1f2)](a7_0x38c614),_0x38b37b=_0x3011c6[_0x9f53bf],_0x105c03=_0x8bf1d1[_0x38b37b]||_0x15714b;_0x15714b[_0x57cc5b(0x1f6)]=a7_0x38c614[_0x57cc5b(0x1f2)](a7_0x38c614),_0x15714b[_0x57cc5b(0x20a)]=_0x105c03[_0x57cc5b(0x20a)][_0x57cc5b(0x1f2)](_0x105c03),_0x8bf1d1[_0x38b37b]=_0x15714b;}});a7_0x1d8f3d();import{collection,getDocs,query,orderBy}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db}from'./firebase-config.js';class ELOCalculator{constructor(){const _0x47ec0e=a7_0x4dd9;this[_0x47ec0e(0x252)]='D1',this[_0x47ec0e(0x245)]=new Map(),this[_0x47ec0e(0x1ee)]();}[a7_0x99bbcd(0x1ee)](){const _0x39ffce=a7_0x99bbcd;this[_0x39ffce(0x235)](),this[_0x39ffce(0x214)]();}[a7_0x99bbcd(0x235)](){const _0x14682a=a7_0x99bbcd;document[_0x14682a(0x219)](_0x14682a(0x236))[_0x14682a(0x241)](_0x4113a6=>{const _0x3bce59=_0x14682a;_0x4113a6[_0x3bce59(0x231)](_0x3bce59(0x1f1),_0x1aad54=>{const _0x33f42d=_0x3bce59;document[_0x33f42d(0x219)](_0x33f42d(0x236))[_0x33f42d(0x241)](_0x900f5a=>_0x900f5a[_0x33f42d(0x234)][_0x33f42d(0x1f9)](_0x33f42d(0x21a))),_0x1aad54[_0x33f42d(0x22e)][_0x33f42d(0x234)][_0x33f42d(0x1fd)](_0x33f42d(0x21a)),this[_0x33f42d(0x252)]=_0x1aad54[_0x33f42d(0x22e)][_0x33f42d(0x265)][_0x33f42d(0x23a)],this[_0x33f42d(0x214)]();});}),document[_0x14682a(0x1f3)](_0x14682a(0x259))[_0x14682a(0x231)](_0x14682a(0x1f1),()=>{const _0x3fa373=_0x14682a;this[_0x3fa373(0x214)]();}),document[_0x14682a(0x1f3)](_0x14682a(0x20e))[_0x14682a(0x231)](_0x14682a(0x25b),()=>this[_0x14682a(0x24e)]()),document[_0x14682a(0x1f3)](_0x14682a(0x211))[_0x14682a(0x231)](_0x14682a(0x25b),()=>this[_0x14682a(0x24e)]());}async[a7_0x99bbcd(0x214)](){const _0x2a69df=a7_0x99bbcd;try{this[_0x2a69df(0x226)](_0x2a69df(0x248));const _0x20e963=this[_0x2a69df(0x252)]==='D1'?_0x2a69df(0x245):this[_0x2a69df(0x252)]==='D2'?_0x2a69df(0x204):_0x2a69df(0x1fe),_0x382027=collection(db,_0x20e963),_0x2c4df7=query(_0x382027,orderBy(_0x2a69df(0x1eb),_0x2a69df(0x221))),_0x4e713a=await getDocs(_0x2c4df7);this[_0x2a69df(0x245)][_0x2a69df(0x269)](),_0x4e713a[_0x2a69df(0x241)](_0x2bfd34=>{const _0x46113d=_0x2a69df,_0x209ab1=_0x2bfd34[_0x46113d(0x1f8)]();_0x209ab1[_0x46113d(0x20d)]&&this[_0x46113d(0x245)][_0x46113d(0x218)](_0x209ab1[_0x46113d(0x20d)],{'id':_0x2bfd34['id'],'username':_0x209ab1[_0x46113d(0x20d)],'elo':parseInt(_0x209ab1[_0x46113d(0x1eb)])||0x4b0,'position':_0x209ab1[_0x46113d(0x26b)]||0x3e7});}),this[_0x2a69df(0x226)](),console[_0x2a69df(0x228)](_0x2a69df(0x216)+this[_0x2a69df(0x245)][_0x2a69df(0x207)]+_0x2a69df(0x256)+this[_0x2a69df(0x252)]+_0x2a69df(0x268));}catch(_0x5b3425){console[_0x2a69df(0x20c)](_0x2a69df(0x249),_0x5b3425),this[_0x2a69df(0x226)](_0x2a69df(0x25e));}}[a7_0x99bbcd(0x226)](_0x342fc2=null){const _0x54e715=a7_0x99bbcd,_0x3fc131=document[_0x54e715(0x1f3)](_0x54e715(0x20e)),_0x397880=document[_0x54e715(0x1f3)](_0x54e715(0x211));if(_0x342fc2){_0x3fc131[_0x54e715(0x227)]=_0x342fc2,_0x397880[_0x54e715(0x227)]=_0x342fc2;return;}let _0x433e73=_0x54e715(0x24b);const _0x440770=Array[_0x54e715(0x247)](this[_0x54e715(0x245)][_0x54e715(0x224)]())[_0x54e715(0x21f)]((_0x17abb2,_0x6ebc16)=>_0x6ebc16[_0x54e715(0x232)]-_0x17abb2[_0x54e715(0x232)]);_0x440770[_0x54e715(0x241)](_0x31e548=>{const _0x54349c=_0x54e715,_0x538ebd=this[_0x54349c(0x200)](_0x31e548[_0x54349c(0x232)]);_0x433e73+=_0x54349c(0x263)+_0x31e548[_0x54349c(0x20d)]+_0x54349c(0x206)+_0x31e548[_0x54349c(0x232)]+_0x54349c(0x209)+_0x538ebd+_0x54349c(0x208)+_0x31e548[_0x54349c(0x20d)]+'\x20('+_0x31e548[_0x54349c(0x232)]+_0x54349c(0x21e);}),_0x3fc131[_0x54e715(0x227)]=_0x433e73,_0x397880[_0x54e715(0x227)]=_0x433e73;}[a7_0x99bbcd(0x24e)](){const _0xc47c3d=a7_0x99bbcd,_0x44db68=document[_0xc47c3d(0x1f3)](_0xc47c3d(0x20e)),_0x2cebef=document[_0xc47c3d(0x1f3)](_0xc47c3d(0x211)),_0x1c2c9f=_0x44db68[_0xc47c3d(0x1ef)],_0x589c0c=_0x2cebef[_0xc47c3d(0x1ef)];if(!_0x1c2c9f||!_0x589c0c){document[_0xc47c3d(0x1f3)](_0xc47c3d(0x251))[_0xc47c3d(0x222)][_0xc47c3d(0x260)]=_0xc47c3d(0x250),document[_0xc47c3d(0x1f3)](_0xc47c3d(0x23d))[_0xc47c3d(0x222)][_0xc47c3d(0x260)]=_0xc47c3d(0x250);return;}if(_0x1c2c9f===_0x589c0c){alert(_0xc47c3d(0x210));return;}const _0x2da6ec=this[_0xc47c3d(0x245)][_0xc47c3d(0x24d)](_0x1c2c9f),_0x350983=this[_0xc47c3d(0x245)][_0xc47c3d(0x24d)](_0x589c0c);if(!_0x2da6ec||!_0x350983){console[_0xc47c3d(0x20c)](_0xc47c3d(0x257));return;}const _0x16ef9a=this[_0xc47c3d(0x230)](_0x2da6ec[_0xc47c3d(0x232)],_0x350983[_0xc47c3d(0x232)]);this[_0xc47c3d(0x261)](_0x2da6ec,_0x350983,_0x16ef9a),this[_0xc47c3d(0x1fc)](_0x2da6ec,_0x350983,_0x16ef9a);}[a7_0x99bbcd(0x230)](_0x396562,_0x4c9fd7,_0x28e516=0x20){const _0x4d5ce9=a7_0x99bbcd,_0x47611b=0x1/(0x1+Math[_0x4d5ce9(0x21c)](0xa,(_0x4c9fd7-_0x396562)/0x190)),_0x93379d=0x1/(0x1+Math[_0x4d5ce9(0x21c)](0xa,(_0x396562-_0x4c9fd7)/0x190)),_0x5229c2=_0x396562+_0x28e516*(0x1-_0x47611b),_0x59434b=_0x4c9fd7+_0x28e516*(0x0-_0x93379d);return{'winnerChange':Math[_0x4d5ce9(0x21b)](_0x5229c2-_0x396562),'loserChange':Math[_0x4d5ce9(0x21b)](_0x59434b-_0x4c9fd7),'newWinnerRating':Math[_0x4d5ce9(0x21b)](_0x5229c2),'newLoserRating':Math[_0x4d5ce9(0x21b)](_0x59434b),'expectedScoreWinner':_0x47611b,'expectedScoreLoser':_0x93379d};}[a7_0x99bbcd(0x261)](_0x26cf0a,_0x22f3f3,_0x249fce){const _0x213427=a7_0x99bbcd;document[_0x213427(0x1f3)](_0x213427(0x258))[_0x213427(0x217)]=_0x26cf0a[_0x213427(0x20d)],document[_0x213427(0x1f3)](_0x213427(0x21d))[_0x213427(0x217)]=_0x213427(0x22a)+_0x26cf0a[_0x213427(0x232)],document[_0x213427(0x1f3)](_0x213427(0x1f5))[_0x213427(0x217)]='+'+_0x249fce[_0x213427(0x24c)],document[_0x213427(0x1f3)](_0x213427(0x264))[_0x213427(0x217)]=_0x213427(0x205)+_0x249fce[_0x213427(0x22d)],document[_0x213427(0x1f3)](_0x213427(0x266))[_0x213427(0x217)]=_0x22f3f3[_0x213427(0x20d)],document[_0x213427(0x1f3)](_0x213427(0x220))[_0x213427(0x217)]=_0x213427(0x22a)+_0x22f3f3[_0x213427(0x232)],document[_0x213427(0x1f3)](_0x213427(0x24a))[_0x213427(0x217)]=''+_0x249fce[_0x213427(0x24f)],document[_0x213427(0x1f3)](_0x213427(0x20f))[_0x213427(0x217)]=_0x213427(0x205)+_0x249fce[_0x213427(0x23e)];const _0x35ba60=this[_0x213427(0x267)](_0x26cf0a[_0x213427(0x232)]),_0x4e39ad=this[_0x213427(0x267)](_0x22f3f3[_0x213427(0x232)]);document[_0x213427(0x1f3)](_0x213427(0x258))[_0x213427(0x222)][_0x213427(0x255)]=_0x35ba60,document[_0x213427(0x1f3)](_0x213427(0x266))[_0x213427(0x222)][_0x213427(0x255)]=_0x4e39ad,document[_0x213427(0x1f3)](_0x213427(0x251))[_0x213427(0x222)][_0x213427(0x260)]=_0x213427(0x233);}[a7_0x99bbcd(0x1fc)](_0x3e3984,_0x316786,_0x343e87){const _0x27e078=a7_0x99bbcd,_0x286782=_0x27e078(0x238)+_0x3e3984[_0x27e078(0x20d)]+':\x20'+_0x3e3984[_0x27e078(0x232)]+_0x27e078(0x203)+_0x316786[_0x27e078(0x20d)]+':\x20'+_0x316786[_0x27e078(0x232)]+_0x27e078(0x239)+_0x3e3984[_0x27e078(0x20d)]+':\x20'+_0x343e87[_0x27e078(0x243)][_0x27e078(0x23f)](0x3)+'\x20('+(_0x343e87[_0x27e078(0x243)]*0x64)[_0x27e078(0x23f)](0x1)+_0x27e078(0x223)+_0x316786[_0x27e078(0x20d)]+':\x20'+_0x343e87[_0x27e078(0x25d)][_0x27e078(0x23f)](0x3)+'\x20('+(_0x343e87[_0x27e078(0x25d)]*0x64)[_0x27e078(0x23f)](0x1)+_0x27e078(0x237)+_0x3e3984[_0x27e078(0x20d)]+':\x20'+_0x3e3984[_0x27e078(0x232)]+_0x27e078(0x1ed)+_0x343e87[_0x27e078(0x24c)]+_0x27e078(0x23c)+_0x343e87[_0x27e078(0x22d)]+_0x27e078(0x203)+_0x316786[_0x27e078(0x20d)]+':\x20'+_0x316786[_0x27e078(0x232)]+_0x27e078(0x1ed)+_0x343e87[_0x27e078(0x24f)]+_0x27e078(0x23c)+_0x343e87[_0x27e078(0x23e)]+_0x27e078(0x242)+(_0x343e87[_0x27e078(0x24c)]>0x14?_0x27e078(0x240):'')+'\x0a'+(_0x343e87[_0x27e078(0x24c)]<0x5?_0x27e078(0x25a):'')+_0x27e078(0x201);document[_0x27e078(0x1f3)](_0x27e078(0x215))[_0x27e078(0x217)]=_0x286782,document[_0x27e078(0x1f3)](_0x27e078(0x23d))[_0x27e078(0x222)][_0x27e078(0x260)]=_0x27e078(0x212);}[a7_0x99bbcd(0x267)](_0x50294a){const _0x59bd4b=a7_0x99bbcd;if(_0x50294a>=0x7d0)return _0x59bd4b(0x1f4);else{if(_0x50294a>=0x708)return _0x59bd4b(0x213);else{if(_0x50294a>=0x640)return _0x59bd4b(0x22c);else{if(_0x50294a>=0x578)return _0x59bd4b(0x246);else return _0x59bd4b(0x225);}}}}[a7_0x99bbcd(0x200)](_0x2434d1){const _0x1ce35d=a7_0x99bbcd;if(_0x2434d1>=0x7d0)return _0x1ce35d(0x1ff);else{if(_0x2434d1>=0x708)return _0x1ce35d(0x22f);else{if(_0x2434d1>=0x640)return _0x1ce35d(0x253);else{if(_0x2434d1>=0x578)return _0x1ce35d(0x1fb);else return _0x1ce35d(0x1ec);}}}}}document[a7_0x99bbcd(0x231)](a7_0x99bbcd(0x254),()=>{const _0x3f3265=a7_0x99bbcd;document[_0x3f3265(0x1f3)](_0x3f3265(0x262))&&new ELOCalculator();});function a7_0x4dd9(_0x44ad6a,_0x569832){const _0x1d8f3d=a7_0x1d17();return a7_0x4dd9=function(_0x38c614,_0x568fad){_0x38c614=_0x38c614-0x1eb;let _0x1d176a=_0x1d8f3d[_0x38c614];return _0x1d176a;},a7_0x4dd9(_0x44ad6a,_0x569832);}function a7_0x1d17(){const _0x316f3b=['eloRating','unranked','\x20+\x20','init','value','exception','click','bind','getElementById','#50C878','winner-elo-change','__proto__','prototype','data','remove','console','bronze','displayCalculationDetails','add','playersD3','emerald','getELORankClass','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','length','\x0a\x20\x20','playersD2','New\x20ELO:\x20','\x22\x20data-elo=\x22','size','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22','toString','constructor','error','username','winner-select','loser-new-elo','Please\x20select\x20different\x20players\x20for\x20winner\x20and\x20loser','loser-select','block','#FFD700','loadPlayers','calculation-text','Loaded\x20','textContent','set','querySelectorAll','active','round','pow','winner-current-elo','\x20ELO)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</option>','sort','loser-current-elo','desc','style','%\x20chance\x20to\x20win)\x0a\x20\x20','values','#808080','updateDropdowns','innerHTML','log','apply','Current\x20ELO:\x20','return\x20(function()\x20','#C0C0C0','newWinnerRating','target','gold','calculateELO','addEventListener','elo','grid','classList','setupEventListeners','.ladder-btn','%\x20chance\x20to\x20win)\x0a\x0aELO\x20Changes:\x0a\x20\x20','\x0a\x0aInitial\x20Ratings:\x0a\x20\x20','\x0a\x20\x20\x0aExpected\x20Scores:\x0a\x20\x20','ladder','warn','\x20=\x20','calculation-details','newLoserRating','toFixed','\x20High\x20ELO\x20gain','forEach','\x0a\x0aFormula\x20Used:\x0a\x20\x20New\x20Rating\x20=\x20Old\x20Rating\x20+\x20K-factor\x20×\x20(Actual\x20Score\x20-\x20Expected\x20Score)\x0a\x20\x20K-factor\x20=\x2032\x0a\x20\x20Actual\x20Score:\x20Winner\x20=\x201,\x20Loser\x20=\x200\x0a\x20\x20\x0a','expectedScoreWinner','info','players','#CD7F32','from','<option\x20value=\x22\x22>Loading\x20players...</option>','Error\x20loading\x20players:','loser-elo-change','<option\x20value=\x22\x22>Select\x20a\x20player...</option>','winnerChange','get','calculateMatch','loserChange','none','match-result','currentLadder','silver','DOMContentLoaded','color','\x20players\x20from\x20','Player\x20not\x20found','winner-name','refresh-players','Low\x20ELO\x20gain.','change','table','expectedScoreLoser','<option\x20value=\x22\x22>Error\x20loading\x20players</option>','{}.constructor(\x22return\x20this\x22)(\x20)','display','displayMatchResult','sandbox','<option\x20value=\x22','winner-new-elo','dataset','loser-name','getELOColor','\x20ladder','clear','trace','position'];a7_0x1d17=function(){return _0x316f3b;};return a7_0x1d17();}