const a44h=a44b;(function(a,b){const g=a44b,c=a();while(!![]){try{const d=parseInt(g(0xd6))/0x1+parseInt(g(0xd8))/0x2*(-parseInt(g(0xe3))/0x3)+parseInt(g(0xcf))/0x4*(parseInt(g(0xea))/0x5)+parseInt(g(0xde))/0x6+-parseInt(g(0xdc))/0x7*(parseInt(g(0xe0))/0x8)+parseInt(g(0xd1))/0x9*(-parseInt(g(0xe1))/0xa)+-parseInt(g(0xe9))/0xb;if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a44a,0x2c40f));import{db}from'./firebase-config.js';import{collection,query,where,onSnapshot,updateDoc,doc}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';function a44b(a,b){const c=a44a();return a44b=function(d,e){d=d-0xcc;let f=c[d];if(a44b['DPeGYA']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a44b['STrCxA']=g,a=arguments,a44b['DPeGYA']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a44b['STrCxA'](f),a[i]=f):f=j,f;},a44b(a,b);}const readyPlayersRef=collection(db,'readyPlayers'),activePlayersQuery=query(readyPlayersRef,where(a44h(0xd9),'==',!![]));function updateQueueDisplay(a){const i=a44h,b=document[i(0xe6)]('queue-container');if(!b)return;if(a['length']===0x0){b['style'][i(0xd3)]=i(0xdb);return;}b[i(0xcc)][i(0xd3)]=i(0xd7);let c=i(0xdd);a[i(0xd5)](d=>{const j=i;c+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-card\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-name\x22>'+(d['username']||'Unknown\x20Player')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22queue-time\x22>'+formatQueueTime(d['lastUpdated'])+j(0xe8);}),c+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',b[i(0xe5)]=c;}function formatQueueTime(a){const k=a44h;if(!a)return'Just\x20now';const b=a['toDate']?a[k(0xe4)]():new Date(a),c=new Date(),d=Math[k(0xe7)]((c-b)/0xea60);if(d<0x1)return k(0xeb);return d+'m\x20in\x20queue';}function a44a(){const p=['nwDsvvzPDG','sNvZDcbUB3C','C3r5Bgu','DxnLCM5HBwu','ChvZAa','mti0nty1nMHzy3zvBW','BgfZDfvWzgf0zwq','mtuZte5Iu05W','CMvHzhLqBgf5zxjZ','zgLZCgXHEq','rxjYB3iGCMvTB3zPBMCGCgXHEwvYigzYB20GCxvLDwu6','zM9YrwfJAa','mJi5odC4uvDQA01n','yMXVy2S','ndCZnNfTzu9lzq','AxnszwfKEq','rxjYB3iGAw4GCxvLDwuGBgLZDgvUzxi6','BM9Uzq','mtqWmdiZmvnLy1bRuW','cIaGicaGicaGpgrPDIbJBgfZCZ0ICxvLDwuTyM94iJ4kicaGicaGicaGicaGpgGYpLDHAxrPBMCGzM9YigeGz2fTztWVAdi+cIaGicaGicaGicaGidXKAxyGy2XHC3m9iNf1zxvLlwXPC3qIpGOGicaG','mtq5mJaZmKzJsfDIwG','Dw5SB2fK','offWv0jlrq','mte2ntbuELvvzve','zgf0yq','mJa0rxLJC3vt','Dg9eyxrL','Aw5Uzxjive1m','z2v0rwXLBwvUDej5swq','zMXVB3i','pc9ZCgfUpGOGicaGicaGicaGica8l2rPDJ4kicaGicaGica','mJuWnJiYouTcywrOua'];a44a=function(){return p;};return a44a();}async function checkQueueTimeout(a){const l=a44h;if(!a[l(0xd0)])return;const b=a[l(0xd0)][l(0xe4)]?a['lastUpdated'][l(0xe4)]():new Date(a['lastUpdated']),c=new Date(),d=Math[l(0xe7)]((c-b)/0xea60);if(d>=0x1e)try{const e=doc(db,l(0xd2),a['id']);await updateDoc(e,{'isReady':![]});}catch(f){console['error'](l(0xd4),f);}}const unsubscribe=onSnapshot(readyPlayersRef,a=>{const m=a44h,b=[];a[m(0xd5)](c=>{const n=m,d=c[n(0xe2)]();if(d[n(0xd9)]===!![]){const e={'id':c['id'],'username':d[n(0xcd)],'lastUpdated':d['lastUpdated']||new Date()};b[n(0xce)](e),checkQueueTimeout(e);}}),updateQueueDisplay(b);},a=>{const o=a44h;console['error'](o(0xda),a);});window['addEventListener'](a44h(0xdf),()=>{unsubscribe();});