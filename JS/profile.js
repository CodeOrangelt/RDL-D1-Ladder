const a42p=a42b;function a42b(a,b){const c=a42a();return a42b=function(d,e){d=d-0x9d;let f=c[d];if(a42b['SdmWRV']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a42b['SxNZdi']=g,a=arguments,a42b['SdmWRV']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a42b['SxNZdi'](f),a[i]=f):f=j,f;},a42b(a,b);}function a42a(){const z=['mtG2oty5y0Psshnz','Bg9N','ndG0mda2AevTD1j3','z2v0rwXLBwvUDej5swq','CgzWuhjLDMLLDW','ChjVzMLSzxm','zMLSzxm','D2LUBMvYu2nVCMu','Bwf0y2HLCW','nJa3nZKWmg1rv0zPCW','rxjYB3iGBg9HzgLUzYbWBgf5zxiGC3rHDhm6','Dg9gAxHLza','u3rHDhmGy2fSy3vSyxrLzdO','C3rHDhmT','zM9YrwfJAa','mtiWmZi2mZzTA2HdA0i','mJm0otjXBvrbB2G','Bg9Zzxjty29Yzq','AgfUzgXLsw1Hz2vvCgXVywq','C3jJ','z2v0','zM9YBq','C3rHDhndB250ywLUzxi','BMLJA25HBwu','ywrKrxzLBNrmAxn0zw5LCG','ugXLyxnLihnPz24GAw4GDg8GC2f2zsb5B3vYihbYB2zPBgu','D2LUCMf0zq','mtq1ndu4C01pseHk','DMfSDwu','ndaYoda0menuu0vUBG','zMf2B3jPDguTBwfW','zgf0yq','yxbWCM92zwrnyxrJAgvZ','ChjVzMLSzs1MB3jT','y3vYCMvUDfvZzxi','zMf2B3jPDgvnyxa','DgfYz2v0','C3rHDhmTBg9ZC2vZ','zMf2B3jPDguTD2vHCg9U','ChjVzMLSzs1WAwn0DxjLCY8','CgzWsw5WDxq','zxjYB3i','Bg9HzfbYB2zPBgu','C2L6zq','zMf2B3jPDgvxzwfWB24','C2v0DxbfDMvUDeXPC3rLBMvYCW','ndu2rg5Hsunm','ntjgtefJCeS','mta2mM5gwKTbCW','mNHRu2nuEq','y2HHBMDL','Dgv4DenVBNrLBNq','DwLK','rxjYB3iGC2f2Aw5NihbYB2zPBguUifbSzwfZzsb0CNKGywDHAw4U','B25SB2fK'];a42a=function(){return z;};return a42a();}(function(a,b){const n=a42b,c=a();while(!![]){try{const d=-parseInt(n(0xa7))/0x1*(-parseInt(n(0x9f))/0x2)+parseInt(n(0xa5))/0x3*(parseInt(n(0x9d))/0x4)+parseInt(n(0xae))/0x5+-parseInt(n(0x9e))/0x6*(-parseInt(n(0xb5))/0x7)+parseInt(n(0xd3))/0x8*(-parseInt(n(0xc0))/0x9)+-parseInt(n(0xc2))/0xa+-parseInt(n(0xb4))/0xb;if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a42a,0xa773b));import{initializeApp}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js';import{getAuth,onAuthStateChanged}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';import{getFirestore,doc,setDoc,getDoc,collection,getDocs,query,where}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{getStorage,ref,uploadBytes,getDownloadURL}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-storage.js';import{firebaseConfig}from'./firebase-config.js';const app=initializeApp(firebaseConfig),auth=getAuth(app),db=getFirestore(app),storage=getStorage(app);class ProfileManager{constructor(){const o=a42b;this[o(0xba)]=document['getElementById'](o(0xc6)),this['pfpInput']=document[o(0xa8)]('pfp-upload'),this[o(0xa9)]=document[o(0xa8)]('profile-preview'),this[o(0xbb)]=document[o(0xa8)]('player-stats'),this['setupEventListeners'](),this[o(0xcf)]();}[a42p(0xd2)](){const q=a42p;this[q(0xcd)]['addEventListener'](q(0xa0),a=>this[q(0xb7)](a)),this['form'][q(0xbd)]('submit',a=>this['handleSubmit'](a));}async['handleImageUpload'](a){const r=a42p,b=a['target']['files'][0x0];if(b){const c=new FileReader();c[r(0xa4)]=d=>{const s=r;this[s(0xa9)][s(0xb8)]=d[s(0xc9)]['result'];},c['readAsDataURL'](b);}}async['handleSubmit'](a){const t=a42p;a['preventDefault']();const b=auth[t(0xc7)];if(!b){alert(t(0xbe));return;}try{const c=new FormData(this['form']),d={'nickname':c['get']('nickname'),'motto':c['get']('motto'),'favoriteMap':c[t(0xb9)]('favorite-map'),'favoriteWeapon':c[t(0xb9)]('favorite-weapon'),'updatedAt':new Date()['toISOString']()},e=this['pfpInput'][t(0xab)][0x0];if(e){const f=ref(storage,t(0xcc)+b[t(0xa2)]);await uploadBytes(f,e),d['pfpUrl']=await getDownloadURL(f);}await setDoc(doc(db,t(0xaa),b[t(0xa2)]),d),alert('Profile\x20saved\x20successfully!');}catch(g){console[t(0xce)]('Error\x20saving\x20profile:',g),alert(t(0xa3));}}async[a42p(0xcf)](){onAuthStateChanged(auth,async a=>{const u=a42b;if(a)try{const b=await getDoc(doc(db,u(0xaa),a['uid']));if(b['exists']()){const c=b['data']();document[u(0xa8)](u(0xbc))['value']=c[u(0xbc)]||'',document['getElementById']('motto')['value']=c['motto']||'',document[u(0xa8)](u(0xc3))['value']=c[u(0xc8)]||'',document['getElementById'](u(0xcb))[u(0xc1)]=c[u(0xd1)]||'',c['pfpUrl']&&(this[u(0xa9)]['src']=c['pfpUrl']),await this['loadPlayerStats'](c['nickname']);}}catch(d){console['error']('Error\x20loading\x20profile:',d);}});}async['loadPlayerStats'](a){const v=a42p;if(!a)return;try{const b=collection(db,v(0xc5)),[c,d]=await Promise['all']([getDocs(query(b,where('winnerUsername','==',a))),getDocs(query(b,where('loserUsername','==',a)))]),e=c[v(0xd0)],f=d['size'],g=e+f;let h=0x0,i=0x0;c[v(0xb3)](l=>{const w=v,m=l[w(0xc4)]();if(m['winnerScore'])h+=parseInt(m['winnerScore']);if(m[w(0xb6)])i+=parseInt(m[w(0xb6)]);}),d[v(0xb3)](l=>{const x=v,m=l['data']();if(m[x(0xb6)])h+=parseInt(m['loserScore']);if(m['winnerScore'])i+=parseInt(m[x(0xac)]);});const j=i===0x0?h[v(0xb0)](0x2):(h/ i)[v(0xb0)](0x2),k=g===0x0?'0':(e/g*0x64)[v(0xb0)](0x1);console[v(0xa6)](v(0xb1),{'totalMatches':g,'wins':e,'losses':f,'totalKills':h,'totalDeaths':i,'kdRatio':j,'winRate':k}),document[v(0xa8)]('stats-matches')[v(0xa1)]=g,document[v(0xa8)]('stats-wins')['textContent']=e,document[v(0xa8)](v(0xca))[v(0xa1)]=f,document[v(0xa8)]('stats-kd')['textContent']=j,document['getElementById']('stats-winrate')[v(0xa1)]=k+'%';}catch(l){console[v(0xce)](v(0xaf),l),[v(0xad),'wins','losses','kd',v(0xbf)][v(0xb3)](m=>{const y=v;document[y(0xa8)](y(0xb2)+m)[y(0xa1)]='-';});}}}document['addEventListener']('DOMContentLoaded',()=>{new ProfileManager();});