const a26Z=a26b;(function(a,b){const Y=a26b,c=a();while(!![]){try{const d=parseInt(Y(0x15e))/0x1+parseInt(Y(0x148))/0x2*(-parseInt(Y(0x167))/0x3)+-parseInt(Y(0x137))/0x4+-parseInt(Y(0x16c))/0x5*(-parseInt(Y(0x16f))/0x6)+-parseInt(Y(0x158))/0x7+-parseInt(Y(0x14a))/0x8+parseInt(Y(0x119))/0x9*(parseInt(Y(0x14e))/0xa);if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a26a,0xbcb7b));function a26b(a,b){const c=a26a();return a26b=function(d,e){d=d-0x114;let f=c[d];if(a26b['dbdJlk']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a26b['RRTAbS']=g,a=arguments,a26b['dbdJlk']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a26b['RRTAbS'](f),a[i]=f):f=j,f;},a26b(a,b);}import{getAuth,onAuthStateChanged}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';function a26a(){const ay=['DgvHBw1HDgu','y3jLyxrLrwXLBwvUDa','ww91ig11C3qGyMuGBg9Nz2vKigLUihrVigXLyxzLigeGDgvHBs4','uMv0DxjUigzYB20GsgLHDhvZ','r29PBMCGB24GAgLHDhvZigzYB20G','C3r5Bgu','rxjYB3iGzhvYAw5NigHPyxr1CZO','CgXHEwvYC0qZ','zgLZywjSzwq','owDqB2XIzq','zgf0yq','DwLK','vw5OAwf0DxmGyNv0Dg9UignSAwnRzwq','i2XLyxzLlxrLyw0TChjVBxb0ic5JBg9Zzs1IDxr0B24','i2HPyxr1CY1WCM9TChqGlMnSB3nLlwj1DhrVBG','CgXHEwvYC0r1B3m','rxjYB3iGCMv0AxjPBMCGzNjVBsbSywrKzxi6','Bg9N','y2HHBMDL','rxjYB3iGzhvYAw5NihjLDhvYBIbMCM9TigHPyxr1CZO','q2HLy2TPBMCGAwyGDxnLCIbPCYbPBIa','i2zMnMi2yG','sgLHDhvZigj1DhrVBIbJBgLJA2vK','uMv0AxjPBMCGzNjVBsa','AgLHDhvZlwXHzgrLCI10ExbL','zNjVBuXHzgrLCG','Dg9mB3DLCKnHC2u','rxjYB3iGChjVy2vZC2LUzYb5B3vYihjLCxvLC3qUifbSzwfZzsb0CNKGywDHAw4U','BM9Uzq','DgvHBuLK','DMfSDwu','u3vJy2vZC2z1BgX5ihjLDhvYBMvKihrVia','AgLHDhvZlxbYB21WDa','AgLHDhvZlxn0yxr1CW','rxjYB3iGy2HLy2TPBMCGAgLHDhvZihn0yxr1CYaODgHPCYbPCYbLEhbLy3rLzcbPzIbWzxjTAxnZAw9UCYbHCMvUj3qGC2v0ktO','tgvHDMLUzYb0zwfTlI4U','ww91igfYzsbUB3qGB24GDgHPCYbSywrKzxiU','y29UzMLYBs1Szwf2zs10zwfTlwj1DhrVBG','Dw5OAwf0DxmTDxnLCM5HBwuTAw5WDxq','ndGWndGWohPerKXkDG','re9nq29UDgvUDeXVywrLza','DgLUEs1YzxrPCMuTyNv0Dg9U','z2v0rwXLBwvUDej5swq','zgLZCgXHEq','DgfYz2v0','zMXLEa','CgXHEwvYC0nurG','vxnLCIbPCYbVBIbOAwf0DxmGzNjVBsa','y3vYCMvUDfvZzxi','CxvLCNLtzwXLy3rVCG','ww91igfYzsbUB3qGB24GAgLHDhvZlG','vxnLCM5HBwuGzg9LCYbUB3qGBwf0y2GGEw91CIbHy2nVDw50lG','Dw5OAwf0DxmTBgfKzgvYlxr5Cgu','twfPBIbLCNjVCIbPBIbJAgvJA1bSyxLLCLn0yxr1CZO','rgLZC29SDMLUzYb0zwfTigzVCIbYzxrPCMLUzYbWBgf5zxiUlI4','DxnLCM5HBwu','mta4nJiYq29mAw9m','q1rg','mte4ntmYoef5u1byzW','Dgv4DenVBNrLBNq','iZrdquy1ma','y2XPy2S','mJuYmtqYotbJEMT4BKO','i2XHzgrLCI1YzxrPCMuTChjVBxb0ic5JBg9Zzs1IDxr0B24','Cg9ZAxrPB24','vxnLCIbPCYbUB3qGAw4Gysb0zwfTlcbOAwrPBMCGBgvHDMuGDgvHBsbIDxr0B24','zM9YrwfJAa','CgXHEwvYCW','vgvHBw1HDguNCYb0zwfTigrHDgeGy2XLyxjLzcbZDwnJzxnZzNvSBhK','BwvZC2fNzq','BgvHDMuTDgvHBs1ZDgf0Dxm','BgfKzgvY','otGXnZu0owjeseXhCa','ugXLyxnLigvUDgvYihLVDxiGDxnLCM5HBwuGDg8Gy29UzMLYBs4','AgfZvgvHBq','zxjYB3i','zxHPC3rZ','CMvSB2fK','otmYmZzdsxPpC0C','ywrKrxzLBNrmAxn0zw5LCG','vxnLCIbPCYbPBIbHihrLyw0SihnOB3DPBMCGBgvHDMuGDgvHBsbIDxr0B24','i3vUAgLHDhvZlxbYB21WDcaUy2XVC2uTyNv0Dg9U','y29UzMLYBs11BMHPyxr1CY1IDxr0B24','Bg9JyxrPB24','yNv0Dg9U','i2zMytuWma','BgfKzgvYlxjLDgLYzs1ZDgf0Dxm','mZnwsxjltfC','CgXHEwvYsgLHDhvZ','rxjYB3iGz2v0DgLUzYbOAwf0DxmGzgf0ytO','uMv0AxjLigj1DhrVBIbJBgLJA2vK','y29SB3i','nZuZoda5mfLdvLLzAW','rxjYB3iGzhvYAw5NihjLDgLYzw1LBNq6','Aw5WDxrBBMfTzt0IBgfKzgvYiL0','nMPxt1LAra','Dw5OAwf0DxmTC3rHDhvZ','igXHzgrLCG','CgXHEwvYC0qY','igXHzgrLCI4UlG','DhjPBq'];a26a=function(){return ay;};return a26a();}import{getFirestore}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{doc,getDoc,getDocs,updateDoc,deleteDoc,setDoc,query,collection,where}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{auth,db}from'./firebase-config.js';document[a26Z(0x15f)](a26Z(0x138),()=>{const a0=a26Z,a=document[a0(0x13a)]('tiny-retire-button'),b=document['getElementById']('ladder-retire-prompt'),c=document['getElementById']('retire-ladder-type'),d=document[a0(0x13a)]('retire-username-input'),e=document['getElementById']('retire-ladder-button'),f=document[a0(0x13a)](a0(0x166)),g=document[a0(0x13a)]('leave-team-button'),h=document[a0(0x13a)]('leave-team-prompt'),i=document['getElementById'](a0(0x156)),j=document[a0(0x13a)](a0(0x135)),k=document['getElementById']('leave-team-username-input'),l=document['getElementById']('hiatus-button'),m=document[a0(0x13a)](a0(0x130)),n=document['getElementById'](a0(0x128)),o=document[a0(0x13a)]('hiatus-username-input'),p=document['getElementById']('confirm-hiatus-button'),q=document[a0(0x13a)](a0(0x131)),r=document[a0(0x13a)]('unhiatus-prompt'),s=document['getElementById'](a0(0x144)),t=document[a0(0x13a)](a0(0x136)),u=document[a0(0x13a)](a0(0x162)),v=document[a0(0x13a)](a0(0x170));let w='D1';function x(M){const a1=a0;switch(M){case'D1':return'players';case'D2':return a1(0x172);case'D3':return a1(0x117);case'DUOS':return a1(0x11f);case a1(0x149):return a1(0x13e);default:return a1(0x153);}}function y(){const a2=a0;document['querySelectorAll'](a2(0x16e))[a2(0x152)](M=>{const a3=a2;M[a3(0x15f)](a3(0x122),N=>{const a4=a3;N[a4(0x13c)]['checked']&&(w=N[a4(0x13c)][a4(0x12e)],console['log']('Retire:\x20Ladder\x20changed\x20to:\x20'+w),c&&(c['textContent']=w),z());});});}function z(){const a5=a0;console[a5(0x121)]('Checking\x20retire\x20visibility\x20for\x20ladder:',w);const M=auth['currentUser'];if(!M){if(a)a['style'][a5(0x13b)]=a5(0x12c);if(g)g[a5(0x115)][a5(0x13b)]='none';if(l)l[a5(0x115)]['display']=a5(0x12c);if(H)H[a5(0x115)][a5(0x13b)]=a5(0x12c);return;}A(M);}async function A(M){const a6=a0;try{try{const N=doc(db,a6(0x168),M[a6(0x11b)]),O=await getDoc(N);if(O[a6(0x15c)]()){const P=O['data']();console[a6(0x121)](a6(0x13f)+P[a6(0x129)]+a6(0x171));if(H)H['style'][a6(0x13b)]='block';if(a)a['style']['display']=a6(0x12c);if(g)g['style']['display']='none';if(l)l['style'][a6(0x13b)]='none';return;}}catch(Q){console['warn'](a6(0x132),Q);}try{const R=x(w);console['log'](a6(0x124)+R+'\x20collection');const S=doc(db,R,M[a6(0x11b)]),T=await getDoc(S);if(T[a6(0x15c)]()){console[a6(0x121)]('User\x20is\x20on\x20the\x20'+w+'\x20ladder');if(a)a[a6(0x115)]['display']='block';if(l)l['style'][a6(0x13b)]='block';if(w==='DUOS'){const U=T[a6(0x11a)]();if(U[a6(0x15a)]&&U[a6(0x12d)]){console['log'](a6(0x160));if(g)g['style']['display']='block';}else{console[a6(0x121)](a6(0x151));if(g)g['style']['display']=a6(0x12c);}}else{if(g)g['style'][a6(0x13b)]='none';}}else{console['log']('User\x20is\x20NOT\x20on\x20the\x20'+w+a6(0x171));if(a)a[a6(0x115)]['display']='none';if(g)g['style']['display']=a6(0x12c);if(l)l[a6(0x115)][a6(0x13b)]=a6(0x12c);}}catch(V){console[a6(0x15b)]('Error\x20checking\x20player\x20status:',V);if(a)a['style'][a6(0x13b)]=a6(0x12c);if(g)g[a6(0x115)]['display']=a6(0x12c);if(l)l[a6(0x115)][a6(0x13b)]='none';}}catch(W){console['error'](a6(0x145),W);if(a)a['style']['display']='none';if(g)g['style'][a6(0x13b)]='none';if(l)l[a6(0x115)]['display']=a6(0x12c);if(H)H['style'][a6(0x13b)]='none';}}async function B(M,N){const a7=a0;if(M['hasTeam']&&M[a7(0x12d)]&&M[a7(0x175)]){console[a7(0x121)](a7(0x146));try{const O=collection(db,N),P=query(O,where('username','==',M['teammate'])),Q=await getDocs(P);if(!Q['empty']){const R=Q['docs'][0x0];await updateDoc(R['ref'],{'hasTeam':![],'teamId':null,'teamName':null,'teammate':null,'teamColor':null}),console['log'](a7(0x154));}}catch(S){console['error']('Error\x20dissolving\x20team:',S);}}}async function C(M,N){const a8=a0,O=x(w);try{const P=doc(db,O,N['uid']),Q=await getDoc(P);if(!Q[a8(0x15c)]())throw new Error(a8(0x134));const R=Q[a8(0x11a)]();if(R['username'][a8(0x12a)]()!==M['toLowerCase']())throw new Error('Username\x20does\x20not\x20match\x20your\x20account.');if(!R['hasTeam']||!R['teamId'])throw new Error('You\x20are\x20not\x20currently\x20in\x20a\x20team.');return await B(R,O),await updateDoc(P,{'hasTeam':![],'teamId':null,'teamName':null,'teammate':null,'teamColor':null}),{'success':!![]};}catch(S){console[a8(0x15b)]('Error\x20leaving\x20team:',S);throw S;}}async function D(M,N){const a9=a0,O=x(w);try{const P=doc(db,O,N['uid']),Q=await getDoc(P);if(!Q[a9(0x15c)]())throw new Error(a9(0x134));const R=Q[a9(0x11a)]();if(R['username']['toLowerCase']()!==M[a9(0x12a)]())throw new Error(a9(0x143));return w==='DUOS'&&await B(R,O),await deleteDoc(P),{'success':!![]};}catch(S){console['error'](a9(0x120),S);throw S;}}async function E(M,N){const aa=a0,O=x(w),P=aa(0x168);try{const Q=doc(db,O,N[aa(0x11b)]),R=await getDoc(Q);if(!R['exists']())throw new Error(aa(0x134));const S=R['data']();if(S[aa(0x147)][aa(0x12a)]()!==M[aa(0x12a)]())throw new Error('Username\x20does\x20not\x20match\x20your\x20account.');w==='DUOS'&&S['hasTeam']&&await B(S,O);const T={...S,'fromLadder':w,'hiatusDate':new Date(),'playerCollection':O};return await setDoc(doc(db,P,N['uid']),T),await deleteDoc(Q),{'success':!![]};}catch(U){console['error']('Error\x20going\x20on\x20hiatus:',U);throw U;}}async function F(M,N){const ab=a0,O=ab(0x168);try{const P=doc(db,O,N['uid']),Q=await getDoc(P);if(!Q[ab(0x15c)]())throw new Error(ab(0x142));const R=Q['data']();if(R['username'][ab(0x12a)]()!==M['toLowerCase']())throw new Error(ab(0x143));const S=R['playerCollection']||x(R[ab(0x129)]),{hiatusDate:T,fromLadder:U,playerCollection:V,...W}=R;return await setDoc(doc(db,S,N[ab(0x11b)]),W),await deleteDoc(P),{'success':!![],'ladder':U};}catch(X){console['error']('Error\x20returning\x20from\x20hiatus:',X);throw X;}}onAuthStateChanged(auth,M=>{const ac=a0;if(M)z();else{if(a)a['style']['display']='none';if(g)g[ac(0x115)]['display']=ac(0x12c);if(b)b['style']['display']=ac(0x12c);if(h)h[ac(0x115)]['display']='none';if(l)l[ac(0x115)]['display']=ac(0x12c);if(H)H[ac(0x115)][ac(0x13b)]=ac(0x12c);}});a&&a[a0(0x15f)](a0(0x14d),()=>{const ad=a0;console['log'](ad(0x16a)),b&&(b['style'][ad(0x13b)]=ad(0x13d)),c&&(c['textContent']=w),f&&(f['textContent']='',f['style'][ad(0x16b)]=''),d&&(d['value']='');});g&&g['addEventListener']('click',()=>{const ae=a0;console['log']('Leave\x20team\x20button\x20clicked'),h&&(h[ae(0x115)]['display']=ae(0x13d)),i&&(i[ae(0x14b)]='',i[ae(0x115)][ae(0x16b)]=''),k&&(k[ae(0x12e)]='');});l&&l['addEventListener'](a0(0x14d),()=>{const af=a0;console[af(0x121)](af(0x126)),m&&(m[af(0x115)]['display']=af(0x13d)),n&&(n[af(0x14b)]=w),q&&(q[af(0x14b)]='',q[af(0x115)]['color']=''),o&&(o[af(0x12e)]='');});e&&e['addEventListener'](a0(0x14d),async()=>{const ag=a0,M=d?d['value']['trim']():'';if(!M){f&&(f[ag(0x14b)]='Please\x20enter\x20your\x20username\x20to\x20confirm.',f[ag(0x115)][ag(0x16b)]='#ff6b6b');return;}const N=auth['currentUser'];if(!N){f&&(f['textContent']='You\x20must\x20be\x20logged\x20in\x20to\x20retire.',f['style']['color']='#ff6b6b');return;}e['disabled']=!![];f&&(f[ag(0x14b)]=ag(0x127)+w+'\x20ladder...',f['style']['color']='#ffa500');try{await D(M,N),f&&(f[ag(0x14b)]='Successfully\x20retired\x20from\x20'+w+'\x20ladder!',f[ag(0x115)]['color']=ag(0x14c)),setTimeout(()=>{const ah=ag;if(a)a[ah(0x115)][ah(0x13b)]='none';if(b)b['style']['display']=ah(0x12c);window[ah(0x163)]['reload']();},0x7d0);}catch(O){console[ag(0x15b)](ag(0x16d),O),f&&(f[ag(0x14b)]=O[ag(0x155)]||'Error\x20processing\x20your\x20request.\x20Please\x20try\x20again.',f[ag(0x115)][ag(0x16b)]=ag(0x125)),e['disabled']=![];}});j&&j[a0(0x15f)](a0(0x14d),async()=>{const ai=a0,M=k?k['value']['trim']():'';if(!M){i&&(i['textContent']=ai(0x159),i[ai(0x115)][ai(0x16b)]='#ff6b6b');return;}const N=auth[ai(0x140)];if(!N){i&&(i[ai(0x14b)]=ai(0x177),i[ai(0x115)][ai(0x16b)]=ai(0x125));return;}j['disabled']=!![];i&&(i[ai(0x14b)]=ai(0x133),i['style']['color']=ai(0x165));try{await C(M,N),i&&(i['textContent']='Successfully\x20left\x20team!\x20You\x20remain\x20on\x20the\x20ladder\x20as\x20a\x20solo\x20player.',i[ai(0x115)]['color']='#4CAF50'),setTimeout(()=>{const aj=ai;if(g)g[aj(0x115)]['display']=aj(0x12c);if(h)h['style'][aj(0x13b)]='none';window[aj(0x163)]['reload']();},0x7d0);}catch(O){console[ai(0x15b)]('Error\x20leaving\x20team:',O),i&&(i['textContent']=O['message']||'Error\x20processing\x20your\x20request.\x20Please\x20try\x20again.',i[ai(0x115)]['color']=ai(0x125)),j['disabled']=![];}});p&&p['addEventListener']('click',async()=>{const ak=a0,M=o?o['value']['trim']():'';if(!M){q&&(q['textContent']='Please\x20enter\x20your\x20username\x20to\x20confirm.',q[ak(0x115)]['color']='#ff6b6b');return;}const N=auth['currentUser'];if(!N){q&&(q[ak(0x14b)]='You\x20must\x20be\x20logged\x20in\x20to\x20go\x20on\x20hiatus.',q[ak(0x115)][ak(0x16b)]='#ff6b6b');return;}p[ak(0x118)]=!![];q&&(q[ak(0x14b)]=ak(0x114)+w+ak(0x173),q[ak(0x115)][ak(0x16b)]=ak(0x165));try{await E(M,N),q&&(q['textContent']='Successfully\x20went\x20on\x20hiatus\x20from\x20'+w+'\x20ladder!',q[ak(0x115)][ak(0x16b)]='#4CAF50'),setTimeout(()=>{const al=ak;if(l)l['style']['display']=al(0x12c);if(m)m[al(0x115)][al(0x13b)]=al(0x12c);window['location']['reload']();},0x7d0);}catch(O){console['error'](ak(0x116),O),q&&(q['textContent']=O['message']||'Error\x20processing\x20your\x20request.\x20Please\x20try\x20again.',q['style'][ak(0x16b)]=ak(0x125)),p[ak(0x118)]=![];}});function G(){const am=a0;let M=document['getElementById']('unhiatus-button');if(!M){M=document[am(0x176)](am(0x164)),M['id']='unhiatus-button',M['className']=am(0x139),M[am(0x115)][am(0x13b)]='none',M[am(0x115)]['background']='#27ae60',M[am(0x14b)]=am(0x178),M['style'][am(0x150)]='relative',M['style']['left']='-50px';const N=document[am(0x13a)]('ladder-retire-tiny-container');N&&N['appendChild'](M);}return M;}const H=G();H&&H[a0(0x15f)](a0(0x14d),async()=>{const an=a0;console[an(0x121)](an(0x11c));const M=auth['currentUser'];if(!M)return;try{const N=doc(db,'playerHiatus',M['uid']),O=await getDoc(N);if(O[an(0x15c)]()){const P=O[an(0x11a)](),Q=P['fromLadder']||'D1';r&&(r[an(0x115)]['display']=an(0x13d)),s&&(s['textContent']=Q),v&&(v[an(0x14b)]='',v['style']['color']=''),t&&(t['value']='');}}catch(R){console[an(0x15b)](an(0x169),R);}});u&&u['addEventListener'](a0(0x14d),async()=>{const ao=a0,M=t?t['value'][ao(0x174)]():'';if(!M){v&&(v['textContent']='Please\x20enter\x20your\x20username\x20to\x20confirm.',v[ao(0x115)]['color']='#ff6b6b');return;}const N=auth['currentUser'];if(!N){v&&(v[ao(0x14b)]='You\x20must\x20be\x20logged\x20in\x20to\x20return\x20from\x20hiatus.',v[ao(0x115)][ao(0x16b)]=ao(0x125));return;}u[ao(0x118)]=!![];v&&(v[ao(0x14b)]='Returning\x20from\x20hiatus...',v[ao(0x115)]['color']='#ffa500');try{const O=await F(M,N);v&&(v['textContent']=ao(0x12f)+O[ao(0x157)]+'\x20ladder!',v[ao(0x115)]['color']=ao(0x14c)),setTimeout(()=>{const ap=ao;if(H)H['style'][ap(0x13b)]='none';if(r)r['style']['display']='none';window['location'][ap(0x15d)]();},0x7d0);}catch(P){console['error'](ao(0x123),P),v&&(v[ao(0x14b)]=P[ao(0x155)]||ao(0x12b),v[ao(0x115)]['color']=ao(0x125)),u[ao(0x118)]=![];}});const I=document[a0(0x141)](a0(0x14f));I&&I[a0(0x15f)]('click',()=>{const aq=a0;if(b)b['style'][aq(0x13b)]=aq(0x12c);});const J=document[a0(0x141)](a0(0x11d));J&&J['addEventListener'](a0(0x14d),()=>{const ar=a0;if(h)h['style'][ar(0x13b)]=ar(0x12c);});const K=document['querySelector'](a0(0x11e));K&&K[a0(0x15f)](a0(0x14d),()=>{const as=a0;if(m)m[as(0x115)][as(0x13b)]='none';});const L=document[a0(0x141)](a0(0x161));L&&L['addEventListener'](a0(0x14d),()=>{const at=a0;if(r)r['style'][at(0x13b)]='none';}),b&&b['addEventListener']('click',M=>{const au=a0;M['target']===b&&(b['style'][au(0x13b)]='none');}),h&&h[a0(0x15f)](a0(0x14d),M=>{const av=a0;M['target']===h&&(h['style'][av(0x13b)]=av(0x12c));}),m&&m['addEventListener']('click',M=>{const aw=a0;M['target']===m&&(m[aw(0x115)][aw(0x13b)]='none');}),r&&r['addEventListener'](a0(0x14d),M=>{const ax=a0;M['target']===r&&(r[ax(0x115)][ax(0x13b)]=ax(0x12c));}),y(),setTimeout(()=>{z();},0x3e8);});