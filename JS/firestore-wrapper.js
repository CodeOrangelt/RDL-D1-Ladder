const a18_0x35a0c7=a18_0x4e29,a18_0x2a43f7=(function(){let _0x579b2a=!![];return function(_0x546689,_0x42e132){const _0x4fb2ea=_0x579b2a?function(){if(_0x42e132){const _0x59134d=_0x42e132['apply'](_0x546689,arguments);return _0x42e132=null,_0x59134d;}}:function(){};return _0x579b2a=![],_0x4fb2ea;};}()),a18_0xbe2e05=a18_0x2a43f7(this,function(){const _0xbf655a=a18_0x4e29;let _0x171777;try{const _0x2ab1c6=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x171777=_0x2ab1c6();}catch(_0x30d8a0){_0x171777=window;}const _0x11b61a=_0x171777['console']=_0x171777['console']||{},_0x1af944=['log','warn','info','error','exception','table','trace'];for(let _0x4e6648=0x0;_0x4e6648<_0x1af944['length'];_0x4e6648++){const _0x28aff9=a18_0x2a43f7[_0xbf655a(0x110)][_0xbf655a(0x111)]['bind'](a18_0x2a43f7),_0x37dca=_0x1af944[_0x4e6648],_0xb988a7=_0x11b61a[_0x37dca]||_0x28aff9;_0x28aff9['__proto__']=a18_0x2a43f7[_0xbf655a(0x103)](a18_0x2a43f7),_0x28aff9['toString']=_0xb988a7['toString']['bind'](_0xb988a7),_0x11b61a[_0x37dca]=_0x28aff9;}});a18_0xbe2e05();import{collection as a18_0x402f96,doc as a18_0x36c4d9,getDoc as a18_0x49f1da,getDocs as a18_0x4f8036,query as a18_0x4ba4ae,where as a18_0x19d15e,orderBy as a18_0x1e211e,limit as a18_0x12e1b6,startAfter as a18_0x2b09c1,addDoc as a18_0x51dda9,updateDoc as a18_0x14a161,deleteDoc as a18_0xab23ae,writeBatch as a18_0x5461e0,serverTimestamp as a18_0xef9728,Timestamp as a18_0x171c26,getCountFromServer as a18_0x2629cb,setDoc as a18_0x505a5,enableNetwork,disableNetwork}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db}from'./firebase-config.js';import{handleNetworkError}from'./idle-timeout.js';function checkSessionStatus(){if(window['RDL_SESSION_SUSPENDED']){console['warn']('Firestore\x20operation\x20blocked\x20-\x20session\x20suspended');const _0x5ca718=new Error('Session\x20suspended\x20due\x20to\x20inactivity.\x20Please\x20resume\x20your\x20session.');_0x5ca718['code']='session-suspended';throw _0x5ca718;}if(window['RDL_NETWORK_ERROR']){console['warn']('Firestore\x20operation\x20blocked\x20-\x20network\x20error');const _0x3474da=new Error('Network\x20connection\x20error.\x20Please\x20check\x20your\x20internet\x20connection.');_0x3474da['code']='network-error';throw _0x3474da;}}async function handleFirestoreError(_0x170fd3){const _0x412544=a18_0x4e29;console[_0x412544(0x10e)]('Firestore\x20operation\x20failed:',_0x170fd3);if(_0x170fd3&&(_0x170fd3[_0x412544(0x10f)]===_0x412544(0x105)||_0x170fd3['code']==='resource-exhausted'||_0x170fd3['message']&&_0x170fd3['message']['includes'](_0x412544(0x109))||_0x170fd3['code']&&_0x170fd3['code']['includes']('network')))return console[_0x412544(0xfe)](_0x412544(0x108)),handleNetworkError(),!![];return![];}function a18_0x4e29(_0x14a4ec,_0x3104e8){const _0xbe2e05=a18_0xb0b9();return a18_0x4e29=function(_0x2a43f7,_0x1aedf4){_0x2a43f7=_0x2a43f7-0xfe;let _0xb0b9d2=_0xbe2e05[_0x2a43f7];return _0xb0b9d2;},a18_0x4e29(_0x14a4ec,_0x3104e8);}function a18_0xb0b9(){const _0x44cc8e=['warn','Caught\x20network\x20error:','preventDefault','apply','includes','bind','rdlFirestore','unavailable','now','commit','Network-related\x20error\x20detected,\x20suspending\x20operations','network','resource-exhausted','length','network-error','string','error','code','constructor','prototype'];a18_0xb0b9=function(){return _0x44cc8e;};return a18_0xb0b9();}export const rdlFirestore={'collection':function(){const _0x29f9c4=a18_0x4e29;if(arguments['length']===0x1){if(typeof arguments[0x0]==='string')return a18_0x402f96(db,arguments[0x0]);return arguments[0x0];}else{if(arguments[_0x29f9c4(0x10b)]===0x2&&arguments[0x0]===db&&typeof arguments[0x1]==='string')return a18_0x402f96(db,arguments[0x1]);}return a18_0x402f96['apply'](null,arguments);},'doc':function(){const _0x5d2ced=a18_0x4e29;if(arguments['length']===0x2){if(typeof arguments[0x0]==='string'&&typeof arguments[0x1]===_0x5d2ced(0x10d))return a18_0x36c4d9(db,arguments[0x0],arguments[0x1]);return a18_0x36c4d9[_0x5d2ced(0x101)](null,arguments);}else{if(arguments['length']===0x3&&arguments[0x0]===db)return a18_0x36c4d9[_0x5d2ced(0x101)](null,arguments);}return a18_0x36c4d9['apply'](null,arguments);},'query':function(){return a18_0x4ba4ae['apply'](null,arguments);},'where':function(){return a18_0x19d15e['apply'](null,arguments);},'orderBy':function(){return a18_0x1e211e['apply'](null,arguments);},'limit':function(_0x2d8f2c){return a18_0x12e1b6(_0x2d8f2c);},'startAfter':function(_0x3f27aa){return a18_0x2b09c1(_0x3f27aa);},'getDoc':async function(_0xd02167){const _0x541cfc=a18_0x4e29;try{return checkSessionStatus(),await a18_0x49f1da(_0xd02167);}catch(_0x41f8c3){const _0x409a80=await handleFirestoreError(_0x41f8c3);_0x409a80&&(_0x41f8c3['code']=_0x541cfc(0x10c));throw _0x41f8c3;}},'getDocs':async function(_0x2a2212){try{return checkSessionStatus(),await a18_0x4f8036(_0x2a2212);}catch(_0x45415b){const _0x133ea8=await handleFirestoreError(_0x45415b);_0x133ea8&&(_0x45415b['code']='network-error');throw _0x45415b;}},'getCountFromServer':async function(_0x7fe0c4){const _0x46e237=a18_0x4e29;try{return checkSessionStatus(),await a18_0x2629cb(_0x7fe0c4);}catch(_0x39dcbf){const _0x24f6f3=await handleFirestoreError(_0x39dcbf);_0x24f6f3&&(_0x39dcbf['code']=_0x46e237(0x10c));throw _0x39dcbf;}},'addDoc':async function(_0xf93afc,_0x3e24b3){const _0x4d3be0=a18_0x4e29;try{return checkSessionStatus(),await a18_0x51dda9(_0xf93afc,_0x3e24b3);}catch(_0x100107){const _0xc9fe74=await handleFirestoreError(_0x100107);_0xc9fe74&&(_0x100107['code']=_0x4d3be0(0x10c));throw _0x100107;}},'setDoc':async function(_0x389172,_0x305a33,_0x3edd24){const _0xe10d10=a18_0x4e29;try{return checkSessionStatus(),await a18_0x505a5(_0x389172,_0x305a33,_0x3edd24);}catch(_0x3954d7){const _0x562a55=await handleFirestoreError(_0x3954d7);_0x562a55&&(_0x3954d7[_0xe10d10(0x10f)]='network-error');throw _0x3954d7;}},'updateDoc':async function(_0x1fd0b2,_0x247803){const _0x2c5f53=a18_0x4e29;try{return checkSessionStatus(),await a18_0x14a161(_0x1fd0b2,_0x247803);}catch(_0x572fdd){const _0x2d73af=await handleFirestoreError(_0x572fdd);_0x2d73af&&(_0x572fdd[_0x2c5f53(0x10f)]='network-error');throw _0x572fdd;}},'deleteDoc':async function(_0x423d49){try{return checkSessionStatus(),await a18_0xab23ae(_0x423d49);}catch(_0x1c225a){const _0x511eb9=await handleFirestoreError(_0x1c225a);_0x511eb9&&(_0x1c225a['code']='network-error');throw _0x1c225a;}},'writeBatch':function(){const _0x29c430=a18_0x4e29;checkSessionStatus();const _0x4a94a8=a18_0x5461e0(db),_0x296d51=_0x4a94a8['commit'][_0x29c430(0x103)](_0x4a94a8);return _0x4a94a8[_0x29c430(0x107)]=async function(){const _0x18abe4=_0x29c430;try{return checkSessionStatus(),await _0x296d51();}catch(_0x491f58){const _0x1330f2=await handleFirestoreError(_0x491f58);_0x1330f2&&(_0x491f58['code']=_0x18abe4(0x10c));throw _0x491f58;}},_0x4a94a8;},'serverTimestamp':function(){return a18_0xef9728();},'Timestamp':{'now':function(){const _0x48bc43=a18_0x4e29;return a18_0x171c26[_0x48bc43(0x106)]();},'fromDate':function(_0x1c517b){return a18_0x171c26['fromDate'](_0x1c517b);}},'enableNetwork':async function(){try{return await enableNetwork(db);}catch(_0x3eacf5){console['error']('Failed\x20to\x20enable\x20network:',_0x3eacf5);throw _0x3eacf5;}},'disableNetwork':async function(){try{return await disableNetwork(db);}catch(_0x594427){console['error']('Failed\x20to\x20disable\x20network:',_0x594427);throw _0x594427;}}};window['addEventListener']('error',function(_0x42fc31){const _0x21c0dd=a18_0x4e29;if(_0x42fc31[_0x21c0dd(0x10e)]){if(_0x42fc31['error']['code']==='session-suspended')_0x42fc31['preventDefault'](),console['log']('Caught\x20session\x20suspended\x20error:',_0x42fc31['error']['message']);else(_0x42fc31[_0x21c0dd(0x10e)]['code']==='unavailable'||_0x42fc31['error']['code']===_0x21c0dd(0x10a)||_0x42fc31[_0x21c0dd(0x10e)]['message']&&_0x42fc31['error']['message'][_0x21c0dd(0x102)](_0x21c0dd(0x109))||_0x42fc31['error'][_0x21c0dd(0x10f)]&&_0x42fc31['error']['code'][_0x21c0dd(0x102)](_0x21c0dd(0x109)))&&(_0x42fc31[_0x21c0dd(0x100)](),console['log'](_0x21c0dd(0xff),_0x42fc31['error']['message']),handleNetworkError());}}),window[a18_0x35a0c7(0x104)]=rdlFirestore,console['log']('Firestore\x20wrapper\x20initialized\x20with\x20session\x20checking\x20and\x20network\x20error\x20handling');