const a25_0x5b9333=a25_0x2c2c,a25_0x3d15f6=(function(){let _0x1a97da=!![];return function(_0x541382,_0x76e54b){const _0x399dcb=_0x1a97da?function(){if(_0x76e54b){const _0x4658ef=_0x76e54b['apply'](_0x541382,arguments);return _0x76e54b=null,_0x4658ef;}}:function(){};return _0x1a97da=![],_0x399dcb;};}()),a25_0x5bbbd4=a25_0x3d15f6(this,function(){const _0x10fa84=a25_0x2c2c;let _0x70935b;try{const _0x3212a7=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x70935b=_0x3212a7();}catch(_0x5ab365){_0x70935b=window;}const _0x2b8924=_0x70935b[_0x10fa84(0x168)]=_0x70935b[_0x10fa84(0x168)]||{},_0x38be97=[_0x10fa84(0x116),'warn','info','error',_0x10fa84(0x150),'table','trace'];for(let _0x14f252=0x0;_0x14f252<_0x38be97[_0x10fa84(0x141)];_0x14f252++){const _0x41cd8b=a25_0x3d15f6['constructor']['prototype'][_0x10fa84(0x12c)](a25_0x3d15f6),_0x3535bb=_0x38be97[_0x14f252],_0x2f1c66=_0x2b8924[_0x3535bb]||_0x41cd8b;_0x41cd8b['__proto__']=a25_0x3d15f6['bind'](a25_0x3d15f6),_0x41cd8b['toString']=_0x2f1c66['toString']['bind'](_0x2f1c66),_0x2b8924[_0x3535bb]=_0x41cd8b;}});a25_0x5bbbd4();import{db}from'./firebase-config.js';import{collection,getDocs,deleteDoc,doc,getDoc,query,where,updateDoc,Timestamp,onSnapshot,orderBy,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{getRankStyle}from'./ranks.js';import{displayLadderD2}from'./ladderd2.js';import{displayLadderD3}from'./ladderd3.js';import{getAuth}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';import{getLadderData,getEloHistoryBatch,setupEfficientListener}from'./services/firebaseService.js';import{displayLadderDuos}from'./ladderduos.js';import{getTokensByUsernames,getPrimaryDisplayToken}from'./tokens.js';const auth=getAuth();let activeListeners=[];export async function loadLadderData(_0xbc3f66=0x1){const _0x4fc3b6=a25_0x2c2c;try{document['getElementById'](_0x4fc3b6(0x142))[_0x4fc3b6(0x148)][_0x4fc3b6(0x15d)]='block';const _0x2093ad=await getLadderData(_0xbc3f66);_0x2093ad[_0x4fc3b6(0x121)]((_0x3e67dd,_0x53b4b9)=>_0x53b4b9[_0x4fc3b6(0x13b)]-_0x3e67dd[_0x4fc3b6(0x13b)]);const _0x41a232=_0x2093ad['map'](_0x16e247=>_0x16e247['id']),_0x703d6e=await getEloHistoryBatch(_0x41a232,_0xbc3f66),_0x44cea9=_0x2093ad['map']((_0x383220,_0x116018)=>{const _0x3c2843=_0x4fc3b6,_0x36eff2=_0x703d6e[_0x383220['id']]||[],_0x5bc9f9=_0x36eff2['sort']((_0x3d3840,_0x344436)=>new Date(_0x344436['date'])-new Date(_0x3d3840['date']))['slice'](0x0,0x5);return{..._0x383220,'rank':_0x116018+0x1,'lastMatches':_0x5bc9f9,'recentActivity':_0x5bc9f9[_0x3c2843(0x141)]>0x0};});renderLadder(_0x44cea9),setupRealTimeUpdates(_0xbc3f66);}catch(_0x3f24c5){console[_0x4fc3b6(0x15f)]('Error\x20loading\x20ladder\x20data:',_0x3f24c5),document[_0x4fc3b6(0x167)]('error-message')['innerText']='Failed\x20to\x20load\x20ladder\x20data.\x20Please\x20try\x20again.';}finally{document['getElementById']('loading-indicator')['style']['display']='none';}}function setupRealTimeUpdates(_0x879fba=0x1){const _0x4088b8=a25_0x2c2c;activeListeners['forEach'](_0x144a65=>_0x144a65()),activeListeners=[];const _0x6552c8=_0x879fba===0x1?'players':'playersD'+_0x879fba,_0x5ed676=_0x879fba===0x1?'matches':'matchesD'+_0x879fba,_0x330222=new Date();_0x330222['setDate'](_0x330222['getDate']()-0x1);const _0x13cbe1=setupEfficientListener(_0x5ed676,[where('date','>=',_0x330222[_0x4088b8(0x14a)]()),limit(0xa),orderBy('date','desc')],async _0x4a229a=>{_0x4a229a['length']>0x0&&await loadLadderData(_0x879fba);});activeListeners['push'](_0x13cbe1);}export function cleanupListeners(){activeListeners['forEach'](_0x2f5a14=>_0x2f5a14()),activeListeners=[];}function renderLadder(_0x39ec34){const _0x27e12d=a25_0x2c2c,_0x4d4499=document['getElementById']('ladder-container');_0x4d4499['innerHTML']='',_0x39ec34[_0x27e12d(0x17e)](_0x1c7f9f=>{const _0x3d5f13=_0x27e12d,_0xa3f76b=document['createElement'](_0x3d5f13(0x113));_0xa3f76b['className']='ladder-player',_0xa3f76b['innerHTML']=_0x3d5f13(0x157)+_0x1c7f9f['rank']+'</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-name\x22>'+(_0x1c7f9f['username']||_0x1c7f9f['id'])+'</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-elo\x22>'+_0x1c7f9f[_0x3d5f13(0x13b)]+'</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-activity\x20'+(_0x1c7f9f[_0x3d5f13(0x15a)]?'active':'inactive')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1c7f9f['recentActivity']?'Active':'Inactive')+'\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x4d4499['appendChild'](_0xa3f76b);});}const playerCache={'data':null,'timestamp':0x0},CACHE_DURATION=0x7530;async function displayLadder(_0x1a1418=![]){const _0x427bc3=a25_0x2c2c,_0x53960d=document['querySelector']('#ladder\x20tbody');if(!_0x53960d){console[_0x427bc3(0x15f)](_0x427bc3(0x13a));return;}_0x53960d['innerHTML']='<tr><td\x20colspan=\x228\x22\x20class=\x22loading-cell\x22>Loading\x20ladder\x20data...</td></tr>';try{const _0x4a2fe7=Date['now']();if(!_0x1a1418&&playerCache['data']&&_0x4a2fe7-playerCache[_0x427bc3(0x146)]<CACHE_DURATION){console[_0x427bc3(0x116)]('Using\x20cached\x20D1\x20ladder\x20data'),updateLadderDisplay(playerCache['data']);return;}const _0x235d29=collection(db,'players'),_0x3b0d44=await getDocs(_0x235d29),_0x5b2e79=[];_0x3b0d44['forEach'](_0x2f75f4=>{const _0x47a7da=_0x427bc3,_0x40628e=_0x2f75f4['data']();_0x5b2e79['push']({..._0x40628e,'id':_0x2f75f4['id'],'elo':_0x40628e[_0x47a7da(0x171)]||0x0,'position':_0x40628e['position']||Number[_0x47a7da(0x14d)]});});const _0x4724b3=collection(db,'userProfiles'),_0x83d9f8=await getDocs(_0x4724b3),_0x4e9f6d=new Map();_0x83d9f8['forEach'](_0xb81773=>{const _0x47bf1e=_0x427bc3,_0x3d560b=_0xb81773['data']();_0x3d560b[_0x47bf1e(0x140)]&&_0x4e9f6d['set'](_0x3d560b[_0x47bf1e(0x140)][_0x47bf1e(0x16a)](),_0x3d560b);}),_0x5b2e79[_0x427bc3(0x17e)](_0x1e8826=>{const _0x5a298e=_0x427bc3,_0x1c8a53=_0x1e8826['username']?.['toLowerCase']();if(_0x1c8a53&&_0x4e9f6d['has'](_0x1c8a53)){const _0x2be449=_0x4e9f6d[_0x5a298e(0x153)](_0x1c8a53);_0x2be449['country']&&(_0x1e8826[_0x5a298e(0x16e)]=_0x2be449['country']['toLowerCase']());}});const _0x1de42e=_0x5b2e79[_0x427bc3(0x161)](_0xbb1dd8=>_0xbb1dd8[_0x427bc3(0x140)]),_0x5cffa2=await fetchBatchMatchStats(_0x1de42e);_0x5b2e79[_0x427bc3(0x121)]((_0x52a249,_0x1e16bc)=>{const _0x437fee=_0x427bc3,_0x15e0c7=_0x5cffa2[_0x437fee(0x153)](_0x52a249[_0x437fee(0x140)])?.['totalMatches']||0x0,_0x2db43c=_0x5cffa2[_0x437fee(0x153)](_0x1e16bc[_0x437fee(0x140)])?.['totalMatches']||0x0;if(_0x15e0c7===0x0!==(_0x2db43c===0x0))return _0x15e0c7===0x0?0x1:-0x1;return(_0x52a249['position']||0x3e7)-(_0x1e16bc['position']||0x3e7);}),_0x5b2e79['forEach']((_0x1aee9d,_0x4d6c1d)=>{_0x1aee9d['position']=_0x4d6c1d+0x1;}),playerCache['data']=_0x5b2e79,playerCache['timestamp']=_0x4a2fe7,updateLadderDisplay(_0x5b2e79,_0x5cffa2);}catch(_0x222772){console['error']('Error\x20loading\x20ladder:',_0x222772),_0x53960d['innerHTML']=_0x427bc3(0x17f)+_0x222772['message']+_0x427bc3(0x13d);}}async function fetchBatchMatchStats(_0x44343a){const _0x51ad20=new Map();try{_0x44343a['forEach'](_0x51f55f=>{_0x51ad20['set'](_0x51f55f,{'totalMatches':0x0,'wins':0x0,'losses':0x0,'totalKills':0x0,'totalDeaths':0x0,'kda':0x0,'winRate':0x0});});const _0x56b7c7=collection(db,'approvedMatches'),_0x1bdd59=await getDocs(_0x56b7c7);_0x1bdd59['forEach'](_0x2b4397=>{const _0x4f9b8f=a25_0x2c2c,_0x2d38aa=_0x2b4397['data'](),_0x186821=_0x2d38aa['winnerUsername'],_0x3425cd=_0x2d38aa['loserUsername'];if(_0x44343a[_0x4f9b8f(0x152)](_0x186821)){const _0x410dee=_0x51ad20['get'](_0x186821);_0x410dee['wins']++,_0x410dee['totalMatches']++,_0x410dee['totalKills']+=parseInt(_0x2d38aa['winnerScore'])||0x0,_0x410dee[_0x4f9b8f(0x13f)]+=parseInt(_0x2d38aa['loserScore'])||0x0;}if(_0x44343a['includes'](_0x3425cd)){const _0x5e9a56=_0x51ad20['get'](_0x3425cd);_0x5e9a56['losses']++,_0x5e9a56['totalMatches']++,_0x5e9a56['totalKills']+=parseInt(_0x2d38aa['loserScore'])||0x0,_0x5e9a56['totalDeaths']+=parseInt(_0x2d38aa['winnerScore'])||0x0;}}),_0x44343a['forEach'](_0x5a7382=>{const _0x2e5729=a25_0x2c2c,_0x574a7a=_0x51ad20[_0x2e5729(0x153)](_0x5a7382);_0x574a7a['kda']=_0x574a7a['totalDeaths']>0x0?(_0x574a7a['totalKills']/_0x574a7a[_0x2e5729(0x13f)])['toFixed'](0x2):_0x574a7a[_0x2e5729(0x125)]['toFixed'](0x2),_0x574a7a['winRate']=_0x574a7a['totalMatches']>0x0?(_0x574a7a['wins']/_0x574a7a['totalMatches']*0x64)['toFixed'](0x1):0x0;});}catch(_0xb5fa30){console['error']('Error\x20fetching\x20batch\x20match\x20stats:',_0xb5fa30);}return _0x51ad20;}function createPlayerRow(_0x45ed92,_0x2e11bb){const _0x27edb0=a25_0x2c2c,_0xd16b44=parseFloat(_0x45ed92[_0x27edb0(0x13b)])||0x0;let _0x36d95b=_0x27edb0(0x154);if(_0xd16b44>=0x7d0)_0x36d95b=_0x27edb0(0x11d);else{if(_0xd16b44>=0x708)_0x36d95b=_0x27edb0(0x12a);else{if(_0xd16b44>=0x640)_0x36d95b='#b9f1fc';else _0xd16b44>=0x578&&(_0x36d95b='#CD7F32');}}let _0x52351f='';return _0x45ed92['country']&&(_0x52351f='<img\x20src=\x22../images/flags/'+_0x45ed92['country'][_0x27edb0(0x16a)]()+_0x27edb0(0x16f)+_0x45ed92['country']+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22player-flag\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22margin-left:\x205px;\x20vertical-align:\x20middle;\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>'),_0x27edb0(0x12d)+_0x45ed92['position']+_0x27edb0(0x159)+encodeURIComponent(_0x45ed92[_0x27edb0(0x140)])+'&ladder=d1\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22color:\x20'+_0x36d95b+';\x20text-decoration:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x45ed92['username']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x52351f+_0x27edb0(0x135)+_0x36d95b+';\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22elo-container\x22\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22elo-value\x22>'+_0xd16b44+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22trend-indicator\x22\x20style=\x22margin-left:\x205px;\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x2e11bb[_0x27edb0(0x178)]+_0x27edb0(0x11c)+_0x2e11bb['wins']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x2e11bb['losses']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x2e11bb['kda']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x2e11bb['winRate']+_0x27edb0(0x15e);}function getPlayerRankName(_0x1daabe){if(_0x1daabe>=0x7d0)return'Emerald';if(_0x1daabe>=0x708)return'Gold';if(_0x1daabe>=0x640)return'Silver';if(_0x1daabe>=0x578)return'Bronze';return'Unranked';}async function getPlayersLastEloChanges(_0x4f045d){const _0x7fa40f=a25_0x2c2c,_0x4e25da=new Map();_0x4f045d['forEach'](_0x3bc035=>{_0x4e25da['set'](_0x3bc035,0x0);});try{const _0x2a97e0=collection(db,'players'),_0xf1d4d9=await getDocs(_0x2a97e0),_0x555e3d=new Map(),_0x2daa9d=new Map();_0xf1d4d9['forEach'](_0x1b40b8=>{const _0x4f1849=a25_0x2c2c,_0x3dc3d5=_0x1b40b8['data']();_0x3dc3d5['username']&&(_0x555e3d['set'](_0x1b40b8['id'],_0x3dc3d5['username']),_0x2daa9d[_0x4f1849(0x158)](_0x3dc3d5[_0x4f1849(0x140)]['toLowerCase'](),_0x1b40b8['id']));});const _0x5ee77f=collection(db,_0x7fa40f(0x17b)),_0x132e0b=query(_0x5ee77f,orderBy('timestamp','desc'),limit(0x12c)),_0x2df76e=await getDocs(_0x132e0b);if(_0x2df76e[_0x7fa40f(0x17c)])return console['log']('ELO\x20history\x20collection\x20is\x20empty'),_0x4e25da;if(_0x2df76e[_0x7fa40f(0x10e)][_0x7fa40f(0x141)]>0x0){const _0x3e53cd=_0x2df76e[_0x7fa40f(0x10e)][0x0]['data']();if(_0x3e53cd['player']&&_0x555e3d['has'](_0x3e53cd['player'])){}}const _0x479cbf=new Map();let _0x4ac615=0x0;_0x2df76e['forEach'](_0x5974e3=>{const _0x5aac91=_0x7fa40f,_0x51ad64=_0x5974e3['data']();let _0x59cf9e=null;if(_0x51ad64['player']&&_0x555e3d['has'](_0x51ad64['player']))_0x59cf9e=_0x555e3d[_0x5aac91(0x153)](_0x51ad64[_0x5aac91(0x110)]);else{if(_0x51ad64[_0x5aac91(0x140)]&&_0x2daa9d[_0x5aac91(0x134)](_0x51ad64['username'][_0x5aac91(0x16a)]()))_0x59cf9e=_0x51ad64['username'];else _0x51ad64['playerUsername']&&_0x2daa9d['has'](_0x51ad64[_0x5aac91(0x131)]['toLowerCase']())&&(_0x59cf9e=_0x51ad64['playerUsername']);}_0x59cf9e&&_0x4f045d['includes'](_0x59cf9e)&&(_0x4ac615++,!_0x479cbf['has'](_0x59cf9e)&&_0x479cbf[_0x5aac91(0x158)](_0x59cf9e,[]),_0x479cbf[_0x5aac91(0x153)](_0x59cf9e)['push']({..._0x51ad64,'timestamp':_0x51ad64[_0x5aac91(0x146)]?.['seconds']||0x0}));}),_0x479cbf['forEach']((_0x38bbde,_0x2133c5)=>{const _0x46d95a=_0x7fa40f;if(_0x38bbde[_0x46d95a(0x141)]>0x0){_0x38bbde[_0x46d95a(0x121)]((_0xea87ff,_0x205ecd)=>_0x205ecd['timestamp']-_0xea87ff['timestamp']);const _0x399e78=_0x38bbde[_0x46d95a(0x144)](_0x4b545c=>_0x4b545c[_0x46d95a(0x145)]!==undefined||_0x4b545c['newElo']!==undefined&&_0x4b545c['previousElo']!==undefined||_0x4b545c[_0x46d95a(0x12f)]!==undefined&&_0x4b545c[_0x46d95a(0x162)]!==undefined);if(_0x399e78){let _0x1028ae;if(_0x399e78['change']!==undefined)_0x1028ae=parseInt(_0x399e78[_0x46d95a(0x145)]);else{if(_0x399e78[_0x46d95a(0x175)]!==undefined&&entry[_0x46d95a(0x173)]!==undefined)_0x1028ae=parseInt(_0x399e78[_0x46d95a(0x175)])-parseInt(_0x399e78['previousElo']);else _0x399e78[_0x46d95a(0x12f)]!==undefined&&entry['oldEloRating']!==undefined&&(_0x1028ae=parseInt(_0x399e78['newEloRating'])-parseInt(_0x399e78['oldEloRating']));}!isNaN(_0x1028ae)&&_0x1028ae!==0x0&&_0x4e25da[_0x46d95a(0x158)](_0x2133c5,_0x1028ae);}}});}catch(_0x3c7bf6){console['error']('Error\x20fetching\x20ELO\x20history:',_0x3c7bf6);}return _0x4e25da;}function a25_0x2c2c(_0x1bf727,_0x2d566f){const _0x5bbbd4=a25_0x5598();return a25_0x2c2c=function(_0x3d15f6,_0x26c6c6){_0x3d15f6=_0x3d15f6-0x10e;let _0x5598ad=_0x5bbbd4[_0x3d15f6];return _0x5598ad;},a25_0x2c2c(_0x1bf727,_0x2d566f);}function createPlayerRowWithToken(_0x162cdb,_0x1fd949,_0x9a3fb1){const _0xfdc79a=a25_0x2c2c,_0x30cd79=parseFloat(_0x162cdb[_0xfdc79a(0x13b)])||0x0;let _0x174d3a='gray';if(_0x30cd79>=0x7d0)_0x174d3a='#50C878';else{if(_0x30cd79>=0x708)_0x174d3a=_0xfdc79a(0x12a);else{if(_0x30cd79>=0x640)_0x174d3a='#b9f1fc';else _0x30cd79>=0x578&&(_0x174d3a='#CD7F32');}}let _0x5c7ecb='';_0x162cdb[_0xfdc79a(0x16e)]&&(_0x5c7ecb='<img\x20src=\x22../images/flags/'+_0x162cdb['country']['toLowerCase']()+'.png\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22'+_0x162cdb[_0xfdc79a(0x16e)]+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22player-flag\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22margin-left:\x205px;\x20vertical-align:\x20middle;\x20width:\x2020px;\x20height:\x20auto;\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>');let _0x4354fc='';return _0x9a3fb1&&(_0x4354fc=_0xfdc79a(0x11f)+_0x9a3fb1['tokenImage']+_0xfdc79a(0x133)+_0x9a3fb1[_0xfdc79a(0x114)]+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22player-token\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20title=\x22'+_0x9a3fb1['tokenName']+'\x20'+(_0x9a3fb1['equipped']?'(Equipped)':'')+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22width:\x2035px;\x20height:\x2035px;\x20margin-left:\x205px;\x20vertical-align:\x20middle;\x20object-fit:\x20contain;\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>'),'\x0a\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x162cdb['position']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22profile.html?username='+encodeURIComponent(_0x162cdb[_0xfdc79a(0x140)])+_0xfdc79a(0x128)+_0x174d3a+_0xfdc79a(0x10f)+_0x162cdb['username']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5c7ecb+_0xfdc79a(0x170)+_0x4354fc+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22color:\x20'+_0x174d3a+';\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22elo-container\x22\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22elo-value\x22>'+_0x30cd79+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22trend-indicator\x22\x20style=\x22margin-left:\x205px;\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x1fd949['totalMatches']+_0xfdc79a(0x11c)+_0x1fd949['wins']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x1fd949['losses']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x1fd949['kda']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x1fd949['winRate']+'%</td>\x0a\x20\x20\x20\x20</tr>';}async function updateLadderDisplay(_0x411290,_0x4b1ee=null){const _0x1f4a93=a25_0x2c2c,_0x5e0cf3=document['querySelector']('#ladder\x20tbody');if(!_0x5e0cf3){console['error']('Ladder\x20table\x20body\x20not\x20found');return;}const _0xcc7d9d=document[_0x1f4a93(0x138)]('#ladder\x20thead\x20tr');_0xcc7d9d&&(_0xcc7d9d[_0x1f4a93(0x15c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Rank</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Username</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>ELO</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Matches</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Wins</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Losses</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>K/D</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Win\x20Rate</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');const _0x407773=_0x411290['map'](_0x5dc9a8=>_0x5dc9a8['username']);!_0x4b1ee&&(_0x4b1ee=await fetchBatchMatchStats(_0x407773));let _0x346dba=new Map();try{typeof clearTokenCache==='function'&&clearTokenCache(),_0x346dba=await getTokensByUsernames(_0x407773),console[_0x1f4a93(0x116)](_0x1f4a93(0x118),_0x346dba['size'],_0x1f4a93(0x11b)),_0x346dba['forEach']((_0x44d7bd,_0x13b4dc)=>{const _0x1938f3=_0x1f4a93,_0x37eb4a=_0x44d7bd[_0x1938f3(0x144)](_0x2a82c5=>_0x2a82c5[_0x1938f3(0x155)]);_0x37eb4a&&console[_0x1938f3(0x116)](_0x1938f3(0x16c)+_0x13b4dc+'\x20has\x20equipped:\x20'+_0x37eb4a[_0x1938f3(0x114)]);});}catch(_0x209daf){console['error']('Error\x20fetching\x20tokens:',_0x209daf);}const _0x3beee5=_0x411290['map'](_0x56c47a=>{const _0x2f35ea=_0x1f4a93,_0x5afa36=_0x4b1ee['get'](_0x56c47a['username'])||{'totalMatches':0x0,'wins':0x0,'losses':0x0,'kda':0x0,'winRate':0x0,'totalKills':0x0,'totalDeaths':0x0},_0x5a7343=_0x346dba['get'](_0x56c47a['username'])||[],_0x1e73d9=getPrimaryDisplayToken(_0x5a7343);return _0x1e73d9&&console['log']('🎨\x20'+_0x56c47a[_0x2f35ea(0x140)]+_0x2f35ea(0x14c)+_0x1e73d9['tokenName']+_0x2f35ea(0x111)+_0x1e73d9['equipped']+')'),createPlayerRowWithToken(_0x56c47a,_0x5afa36,_0x1e73d9);})[_0x1f4a93(0x132)]('');_0x5e0cf3[_0x1f4a93(0x15c)]=_0x3beee5,getPlayersLastEloChanges(_0x407773)['then'](_0x4d26c7=>{const _0x31c350=new Map();_0x5e0cf3['querySelectorAll']('tr')['forEach']((_0x31f0a2,_0x104264)=>{const _0x16d3ec=a25_0x2c2c;_0x104264<_0x407773[_0x16d3ec(0x141)]&&_0x31c350['set'](_0x407773[_0x104264],_0x31f0a2);}),_0x4d26c7['forEach']((_0x5b114c,_0x1f32fe)=>{const _0x19c499=a25_0x2c2c,_0x558870=_0x31c350['get'](_0x1f32fe);if(_0x558870&&_0x5b114c!==0x0){const _0x43af84=_0x558870['querySelector']('td:nth-child(3)');if(_0x43af84){const _0x73629=_0x5b114c>0x0?'+'+_0x5b114c:''+_0x5b114c,_0x5d2109=_0x43af84[_0x19c499(0x138)]('.trend-indicator');_0x5d2109&&(_0x5d2109[_0x19c499(0x14b)]=_0x73629,_0x5d2109['style']['color']=_0x5b114c>0x0?'#4CAF50':_0x19c499(0x165),_0x5d2109[_0x19c499(0x148)]['fontWeight']='bold',_0x5d2109['style'][_0x19c499(0x126)]=_0x19c499(0x169),_0x5d2109['style']['display']='inline',_0x5d2109[_0x19c499(0x148)]['visibility']=_0x19c499(0x14e),_0x5d2109['style']['opacity']='1');}}});})['catch'](_0x1473a3=>console['error']('Error\x20updating\x20ELO\x20trend\x20indicators:',_0x1473a3));}function a25_0x5598(){const _0x44866c=['docs',';\x20text-decoration:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','player','\x20(equipped:\x20','round','div','tokenName','userProfiles','log','active','🪙\x20Loaded\x20fresh\x20tokens\x20for','checked','playersD3','players','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','#50C878','click','<img\x20src=\x22','none','sort','#b9f1fc','Complete\x20your\x20profile\x20to\x20see\x20recommended\x20opponents','d3-ladder-container','totalKills','fontSize','add','&ladder=d1\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22color:\x20',';\x22>','#FFD700','Duos\x20ladder\x20is\x20currently\x20admin-only','bind','\x0a\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','uid','newEloRating','classList','playerUsername','join','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22','has','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22color:\x20','max','duos','querySelector','exists','Ladder\x20table\x20body\x20not\x20found','elo','cursor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','pointer','totalDeaths','username','length','loading-indicator','Based\x20on\x20your\x20ELO\x20(','find','change','timestamp','teammate','style','Error\x20finding\x20best\x20opponent:','toISOString','textContent','\x20displaying\x20token:\x20','MAX_SAFE_INTEGER','visible','elo-recommendation-text-d3','exception','d2-ladder-container','includes','get','gray','equipped','elo-recommendation-text-d1','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22rank\x22>#','set','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22profile.html?username=','recentActivity','roleName','innerHTML','display','%</td>\x0a\x20\x20\x20\x20</tr>','error','remove','map','oldEloRating','DOMContentLoaded','\x20not\x20found','#F44336','You\x27re\x20teamed\x20with\x20<span\x20class=\x22recommendation-highlight\x22>','getElementById','console','0.85em','toLowerCase','cssText','🎯\x20','admin','country','.png\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','eloRating','block','previousElo','You\x27re\x20not\x20registered\x20on\x20the\x20','newElo','data','elo-recommendation-text-d2','totalMatches','elo-recommendation-text-duos','currentUser','eloHistory','empty','owner','forEach','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x228\x22\x20style=\x22text-align:\x20center;\x20color:\x20red;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20ladder\x20data:\x20','addEventListener'];a25_0x5598=function(){return _0x44866c;};return a25_0x5598();}function initLadderToggles(){const _0xb3ff66=a25_0x2c2c,_0x43bfd2=document['getElementById']('d1-switch'),_0x107c2b=document[_0xb3ff66(0x167)]('d2-switch'),_0x268ce2=document['getElementById']('d3-switch'),_0xf86d1f=document['getElementById']('duos-switch'),_0x5e94c1=document[_0xb3ff66(0x167)]('d1-ladder-container'),_0x73c714=document['getElementById'](_0xb3ff66(0x151)),_0x1d89e2=document['getElementById'](_0xb3ff66(0x124)),_0x53eeca=document['getElementById']('duos-ladder-container');function _0x45d131(){const _0x5eb779=_0xb3ff66;if(_0x5e94c1)_0x5e94c1[_0x5eb779(0x130)]['remove']('active');if(_0x73c714)_0x73c714['classList']['remove']('active');if(_0x1d89e2)_0x1d89e2['classList']['remove'](_0x5eb779(0x117));if(_0x53eeca)_0x53eeca['style'][_0x5eb779(0x15d)]='none';if(_0x5e94c1)_0x5e94c1['style']['display']=_0x5eb779(0x120);if(_0x73c714)_0x73c714['style'][_0x5eb779(0x15d)]='none';if(_0x1d89e2)_0x1d89e2[_0x5eb779(0x148)]['display']='none';}_0x43bfd2&&_0x43bfd2['addEventListener'](_0xb3ff66(0x11e),()=>{const _0x27b7e1=_0xb3ff66;console['log']('D1\x20toggle\x20clicked'),_0x45d131();_0x5e94c1&&(_0x5e94c1['classList']['add']('active'),_0x5e94c1[_0x27b7e1(0x148)]['display']='block');document['getElementById']('elo-recommendation-text-d1')[_0x27b7e1(0x148)][_0x27b7e1(0x15d)]='block',document[_0x27b7e1(0x167)]('elo-recommendation-text-d2')[_0x27b7e1(0x148)]['display']='none',document['getElementById']('elo-recommendation-text-d3')['style']['display']='none';if(_0x43bfd2)_0x43bfd2[_0x27b7e1(0x130)]['add'](_0x27b7e1(0x117));if(_0x107c2b)_0x107c2b['classList']['remove']('active');if(_0x268ce2)_0x268ce2['classList'][_0x27b7e1(0x160)]('active');displayLadder(),findBestOpponent('d1');}),_0x107c2b&&_0x107c2b[_0xb3ff66(0x180)]('click',()=>{const _0x3c7cfa=_0xb3ff66;console['log']('D2\x20toggle\x20clicked'),_0x45d131();_0x73c714&&(_0x73c714['classList']['add']('active'),_0x73c714[_0x3c7cfa(0x148)]['display']=_0x3c7cfa(0x172));document[_0x3c7cfa(0x167)]('elo-recommendation-text-d1')['style']['display']=_0x3c7cfa(0x120),document['getElementById']('elo-recommendation-text-d2')['style']['display']=_0x3c7cfa(0x172),document['getElementById'](_0x3c7cfa(0x14f))['style']['display']=_0x3c7cfa(0x120);if(_0x107c2b)_0x107c2b['classList']['add']('active');if(_0x43bfd2)_0x43bfd2['classList']['remove']('active');if(_0x268ce2)_0x268ce2['classList']['remove'](_0x3c7cfa(0x117));displayLadderD2(),findBestOpponent('d2');}),_0x268ce2&&_0x268ce2['addEventListener']('click',()=>{const _0xf6b5c=_0xb3ff66;console[_0xf6b5c(0x116)]('D3\x20toggle\x20clicked'),_0x45d131();_0x1d89e2&&(_0x1d89e2['classList']['add']('active'),_0x1d89e2[_0xf6b5c(0x148)]['display']=_0xf6b5c(0x172));document[_0xf6b5c(0x167)]('elo-recommendation-text-d1')['style']['display']=_0xf6b5c(0x120),document[_0xf6b5c(0x167)]('elo-recommendation-text-d2')['style'][_0xf6b5c(0x15d)]=_0xf6b5c(0x120),document['getElementById'](_0xf6b5c(0x14f))[_0xf6b5c(0x148)][_0xf6b5c(0x15d)]='block';if(_0x268ce2)_0x268ce2[_0xf6b5c(0x130)][_0xf6b5c(0x127)](_0xf6b5c(0x117));if(_0x43bfd2)_0x43bfd2['classList']['remove']('active');if(_0x107c2b)_0x107c2b[_0xf6b5c(0x130)]['remove'](_0xf6b5c(0x117));displayLadderD3(),findBestOpponent('d3');}),_0xf86d1f&&_0xf86d1f['addEventListener']('click',()=>{const _0x3ecc69=_0xb3ff66;_0x45d131();if(_0x53eeca)_0x53eeca[_0x3ecc69(0x148)][_0x3ecc69(0x15d)]='block';displayLadderDuos(),findBestOpponent('duos'),document['getElementById'](_0x3ecc69(0x179))&&(document['getElementById'](_0x3ecc69(0x179))[_0x3ecc69(0x148)][_0x3ecc69(0x15d)]='block'),document['getElementById']('elo-recommendation-text-d1')['style']['display']=_0x3ecc69(0x120),document['getElementById'](_0x3ecc69(0x177))[_0x3ecc69(0x148)]['display']='none',document[_0x3ecc69(0x167)]('elo-recommendation-text-d3')[_0x3ecc69(0x148)]['display']=_0x3ecc69(0x120);});}document['addEventListener'](a25_0x5b9333(0x163),()=>{const _0x7f5c8=a25_0x5b9333;initLadderToggles(),displayLadder(),findBestOpponent('d1'),document[_0x7f5c8(0x167)](_0x7f5c8(0x156))[_0x7f5c8(0x148)]['display']='block';});export{displayLadder};async function findBestOpponent(_0x25e610='d1'){const _0x41939b=a25_0x5b9333,_0xdb9afd='elo-recommendation-text-'+_0x25e610,_0x1583de=document['getElementById'](_0xdb9afd);if(!_0x1583de){console['error']('Recommendation\x20element\x20for\x20'+_0x25e610+_0x41939b(0x164));return;}const _0x45cf31=auth[_0x41939b(0x17a)];if(!_0x45cf31){_0x1583de[_0x41939b(0x14b)]='';return;}try{const _0x356dcc=doc(db,'userProfiles',_0x45cf31[_0x41939b(0x12e)]),_0x29613d=await getDoc(_0x356dcc);if(!_0x29613d[_0x41939b(0x139)]()){console['log']('No\x20user\x20profile\x20found'),_0x1583de['textContent']=_0x41939b(0x123);return;}const _0x2eaf3a=_0x29613d['data'](),_0x29c4db=_0x2eaf3a[_0x41939b(0x140)];if(!_0x29c4db){_0x1583de['textContent']='Set\x20your\x20username\x20to\x20see\x20recommended\x20opponents';return;}let _0x41ea53;switch(_0x25e610){case'd1':_0x41ea53='players';break;case'd2':_0x41ea53='playersD2';break;case'd3':_0x41ea53=_0x41939b(0x11a);break;case'duos':_0x41ea53='playersDuos';break;default:_0x41ea53='players';}if(_0x25e610===_0x41939b(0x137)){const _0x434490=collection(db,_0x41ea53),_0x162993=query(_0x434490,where(_0x41939b(0x140),'==',_0x29c4db)),_0x180077=await getDocs(_0x162993);if(_0x180077['empty']){_0x1583de['textContent']='You\x27re\x20not\x20registered\x20on\x20the\x20DUOS\x20ladder';return;}const _0x4d9458=_0x180077['docs'][0x0][_0x41939b(0x176)](),_0xddc694=parseInt(_0x4d9458['eloRating'])||0x4b0;if(_0x4d9458['hasTeam']&&_0x4d9458['teammate']){_0x1583de['innerHTML']=_0x41939b(0x166)+_0x4d9458[_0x41939b(0x147)]+'</span>.\x20Challenge\x20other\x20teams!';return;}const _0x340e96=await getDocs(_0x434490);let _0x1e34be=null,_0x448eb8=-0x1;_0x340e96[_0x41939b(0x17e)](_0x261690=>{const _0x571551=_0x41939b,_0x431bca=_0x261690['data']();if(_0x431bca['username']===_0x29c4db)return;if(_0x431bca['hasTeam'])return;const _0x156bcc=parseInt(_0x431bca[_0x571551(0x171)])||0x4b0,_0x34b634=Math['abs'](_0x156bcc-_0xddc694),_0x74abf1=Math[_0x571551(0x136)](0x0,0xc8-_0x34b634);_0x74abf1>_0x448eb8&&(_0x1e34be=_0x431bca,_0x448eb8=_0x74abf1);});if(_0x1e34be){const _0x4e34f2=parseInt(_0x1e34be['eloRating'])||0x4b0;let _0xf8d43f=_0x41939b(0x154);if(_0x4e34f2>=0x7d0)_0xf8d43f='#50C878';else{if(_0x4e34f2>=0x708)_0xf8d43f=_0x41939b(0x12a);else{if(_0x4e34f2>=0x640)_0xf8d43f='#C0C0C0';else _0x4e34f2>=0x578&&(_0xf8d43f='#CD7F32');}}_0x1583de['innerHTML']='Looking\x20for\x20a\x20teammate?\x20Consider\x20<span\x20class=\x22recommendation-highlight\x22\x20style=\x22color:\x20'+_0xf8d43f+';\x22>'+_0x1e34be['username']+'</span>\x20(ELO:\x20'+_0x4e34f2+')';}else _0x1583de['textContent']='No\x20available\x20teammates\x20found.\x20More\x20players\x20needed\x20on\x20DUOS\x20ladder!';return;}const _0x5f3e3e=collection(db,_0x41ea53),_0x754c20=query(_0x5f3e3e,where('username','==',_0x29c4db)),_0x251a2e=await getDocs(_0x754c20);if(_0x251a2e[_0x41939b(0x17c)]){_0x1583de['textContent']=_0x41939b(0x174)+_0x25e610['toUpperCase']()+'\x20ladder';return;}const _0x3a47d6=_0x251a2e['docs'][0x0]['data'](),_0x4d9ba6=parseInt(_0x3a47d6[_0x41939b(0x171)])||0x5dc,_0x19ef45=await getDocs(_0x5f3e3e);let _0x4dfb8e=null,_0xed1c3b=-0x1;const _0x5cc217=getPlayerRankName(_0x4d9ba6);_0x19ef45[_0x41939b(0x17e)](_0x4ef8de=>{const _0x3802a8=_0x41939b,_0x24dca7=_0x4ef8de['data']();if(_0x24dca7['username']===_0x29c4db)return;const _0x2bcdec=parseInt(_0x24dca7['eloRating'])||0x5dc,_0x23e7fe=getPlayerRankName(_0x2bcdec),_0x44067b=Math['abs'](_0x2bcdec-_0x4d9ba6),_0x9a28a6=0x20,_0x8276c1=0x1/(0x1+Math['pow'](0xa,(_0x2bcdec-_0x4d9ba6)/0x190)),_0x3f5aa5=Math[_0x3802a8(0x112)](_0x9a28a6*(0x1-_0x8276c1));if(_0x3f5aa5<=0x0)return;let _0x1b0ae9=0x0;const _0x4a6266=Math[_0x3802a8(0x136)](0x0,0x64-_0x44067b*0.5),_0x250763=_0x3f5aa5>=0x3&&_0x3f5aa5<=0x8?0x32:_0x3f5aa5>0x0&&_0x3f5aa5<0xf?0x1e:0xa,_0x2dae75=_0x5cc217===_0x23e7fe?0x28:0x0;_0x1b0ae9=_0x4a6266+_0x250763+_0x2dae75,_0x1b0ae9>_0xed1c3b&&(_0x4dfb8e=_0x24dca7,_0xed1c3b=_0x1b0ae9);});if(_0x4dfb8e){const _0x338d6e=parseInt(_0x4dfb8e[_0x41939b(0x171)])||0x5dc;let _0x4974bb='gray';if(_0x338d6e>=0x7d0)_0x4974bb='#50C878';else{if(_0x338d6e>=0x708)_0x4974bb='#FFD700';else{if(_0x338d6e>=0x640)_0x4974bb=_0x41939b(0x122);else _0x338d6e>=0x578&&(_0x4974bb='#CD7F32');}}_0x1583de[_0x41939b(0x15c)]=_0x41939b(0x143)+_0x4d9ba6+'),\x20you\x20should\x20be\x20playing\x20<span\x20class=\x22recommendation-highlight\x22\x20style=\x22color:\x20'+_0x4974bb+_0x41939b(0x129)+_0x4dfb8e['username']+'</span>';}else _0x1583de['innerHTML']='No\x20ideal\x20opponent\x20found\x20for\x20your\x20current\x20ELO\x20('+_0x4d9ba6+')';}catch(_0x5becbd){console['error'](_0x41939b(0x149),_0x5becbd),_0x1583de['textContent']='Error\x20finding\x20recommended\x20opponent';}}auth['onAuthStateChanged'](_0x22476e=>{const _0x27ca84=a25_0x5b9333,_0x53dc3f=document['getElementById']('d1-ladder-container')&&document[_0x27ca84(0x167)]('d1-ladder-container')[_0x27ca84(0x148)][_0x27ca84(0x15d)]!=='none',_0x577dfa=document[_0x27ca84(0x167)]('d2-ladder-container')&&document['getElementById'](_0x27ca84(0x151))[_0x27ca84(0x148)][_0x27ca84(0x15d)]!=='none',_0x5d9c43=document['getElementById']('d3-ladder-container')&&document[_0x27ca84(0x167)]('d3-ladder-container')['style']['display']!=='none',_0x45538d=document['getElementById']('duos-ladder-container')&&document['getElementById']('duos-ladder-container')['style']['display']!==_0x27ca84(0x120),_0x9f792e=_0x53dc3f?'d1':_0x577dfa?'d2':_0x5d9c43?'d3':_0x45538d?'duos':'d1';findBestOpponent(_0x9f792e);}),document['addEventListener'](a25_0x5b9333(0x163),()=>{const _0x3f1bf4=a25_0x5b9333,_0x42a154=document['getElementById']('duos-switch'),_0x3669af=document[_0x3f1bf4(0x138)]('label[for=\x22duos-switch\x22]');_0x42a154&&_0x3669af&&(_0x42a154['addEventListener'](_0x3f1bf4(0x145),async _0x126c28=>{const _0x2345ce=_0x3f1bf4;if(_0x126c28['target'][_0x2345ce(0x119)]){const _0x12a803=auth?.['currentUser'],_0x714168=await checkIfUserIsAdmin(_0x12a803);if(!_0x714168){_0x126c28['preventDefault']();const _0x5ee951=document['getElementById']('d1-switch');return _0x5ee951&&(_0x5ee951[_0x2345ce(0x119)]=!![],_0x5ee951['dispatchEvent'](new Event('change'))),showAdminOnlyMessage(),![];}}}),auth['onAuthStateChanged'](async _0x219dc1=>{const _0x4eb6ef=_0x3f1bf4,_0x248036=await checkIfUserIsAdmin(_0x219dc1);!_0x248036?(_0x42a154['disabled']=!![],_0x3669af[_0x4eb6ef(0x148)]['opacity']='0.5',_0x3669af['style']['cursor']='not-allowed',_0x3669af['title']=_0x4eb6ef(0x12b)):(_0x42a154['disabled']=![],_0x3669af['style']['opacity']='1',_0x3669af['style'][_0x4eb6ef(0x13c)]=_0x4eb6ef(0x13e),_0x3669af['title']='');}));});async function checkIfUserIsAdmin(_0x530381){const _0xa8fa4c=a25_0x5b9333;if(!_0x530381)return![];try{const _0x53a88c=['admin@ladder.com','brian2af@outlook.com'];if(_0x530381['email']&&_0x53a88c['includes'](_0x530381['email']['toLowerCase']()))return!![];const _0x2bb7dd=[_0xa8fa4c(0x115),'players','playersD2','playersD3'],_0x58bfbf=[_0xa8fa4c(0x16d),_0xa8fa4c(0x17d),'council','creative\x20lead'];for(const _0x47a3c7 of _0x2bb7dd){try{const _0x5d6e14=doc(db,_0x47a3c7,_0x530381[_0xa8fa4c(0x12e)]),_0x437a92=await getDoc(_0x5d6e14);if(_0x437a92['exists']()){const _0x5c0012=_0x437a92['data'](),_0x5bbcb9=(_0x5c0012[_0xa8fa4c(0x15b)]||_0x5c0012['role']||'')[_0xa8fa4c(0x16a)]();if(_0x5bbcb9&&_0x58bfbf['includes'](_0x5bbcb9))return!![];}}catch(_0x1b28c5){console['warn']('Error\x20checking\x20'+_0x47a3c7+':',_0x1b28c5);}}return![];}catch(_0x3a3322){return console['error']('Error\x20checking\x20admin\x20status:',_0x3a3322),![];}}function showAdminOnlyMessage(){const _0x52da0e=a25_0x5b9333,_0x11989b=document[_0x52da0e(0x167)]('admin-only-message');_0x11989b&&_0x11989b['remove']();const _0x167740=document['createElement']('div');_0x167740['id']='admin-only-message',_0x167740['style'][_0x52da0e(0x16b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translate(-50%,\x20-50%);\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#2a2a2a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x202px\x20solid\x20#ff6b6b;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ff6b6b;\x0a\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.5);\x0a\x20\x20\x20\x20',_0x167740['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<strong>🔒\x20Duos\x20Ladder\x20-\x20Admin\x20Only</strong><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20style=\x22color:\x20#ccc;\x22>Currently\x20in\x20testing\x20phase</span>\x0a\x20\x20\x20\x20',document['body']['appendChild'](_0x167740),setTimeout(()=>{_0x167740['parentNode']&&_0x167740['remove']();},0xbb8);}