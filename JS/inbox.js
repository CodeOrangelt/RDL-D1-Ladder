function a22_0x2bd8(){const _0x4cfc88=['createdAt','head','toUsername','team_invite','return\x20(function()\x20','addEventListener','fromUsername','remove','message','sentInvitations','dataset','target','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','table','setupActionListeners','pageSize','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20Accept\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20decline-btn\x22\x20data-action=\x22decline\x22\x20data-invitation-id=\x22','outbox','createTeamFromInvitation','teamColor','toLocaleDateString','./login.html','cancel','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20Decline\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','loadInvitations','invitations','decline','getTimeAgo','Just\x20now','filter','updateInvitationStatus','prototype','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-time\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-from\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createInvitationCard','status','click','pending','innerHTML','type','classList','unsubscribe','error','modal-overlay','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setupEventListeners','cancelled','Error\x20creating\x20team:','data','floor','docs','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20accept-btn\x22\x20data-action=\x22accept\x22\x20data-invitation-id=\x22','updateNotificationCount','.action-btn','add','bind','openResponseModal','textContent','div','querySelector','appendChild','console','#cancel-response','warn','Failed\x20to\x20create\x20team:\x20','all','Failed\x20to\x20','toDate','\x20invitation.\x20Please\x20try\x20again.','d\x20ago','map','createElement','Team\x20\x22','teamData','modal-styles','proposedTeamName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'];a22_0x2bd8=function(){return _0x4cfc88;};return a22_0x2bd8();}const a22_0x309f94=a22_0x3ff7,a22_0x6cc3cd=(function(){let _0x444670=!![];return function(_0x4b31cf,_0x280f2d){const _0x4300f4=_0x444670?function(){if(_0x280f2d){const _0x5bda1f=_0x280f2d['apply'](_0x4b31cf,arguments);return _0x280f2d=null,_0x5bda1f;}}:function(){};return _0x444670=![],_0x4300f4;};}()),a22_0x2f5bf3=a22_0x6cc3cd(this,function(){const _0x50d9e4=a22_0x3ff7;let _0x53bcdc;try{const _0x3302d6=Function(_0x50d9e4(0x1a9)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x53bcdc=_0x3302d6();}catch(_0x200e73){_0x53bcdc=window;}const _0x3388a5=_0x53bcdc[_0x50d9e4(0x1e2)]=_0x53bcdc[_0x50d9e4(0x1e2)]||{},_0x1defb7=['log',_0x50d9e4(0x1e4),'info',_0x50d9e4(0x1cf),'exception',_0x50d9e4(0x1b2),'trace'];for(let _0x1416e2=0x0;_0x1416e2<_0x1defb7['length'];_0x1416e2++){const _0x4f35b0=a22_0x6cc3cd['constructor'][_0x50d9e4(0x1c4)]['bind'](a22_0x6cc3cd),_0x259627=_0x1defb7[_0x1416e2],_0x441dbe=_0x3388a5[_0x259627]||_0x4f35b0;_0x4f35b0['__proto__']=a22_0x6cc3cd[_0x50d9e4(0x1dc)](a22_0x6cc3cd),_0x4f35b0['toString']=_0x441dbe['toString'][_0x50d9e4(0x1dc)](_0x441dbe),_0x3388a5[_0x259627]=_0x4f35b0;}});a22_0x2f5bf3();function a22_0x3ff7(_0x49c8e6,_0x105e71){const _0x2f5bf3=a22_0x2bd8();return a22_0x3ff7=function(_0x6cc3cd,_0x2c03f7){_0x6cc3cd=_0x6cc3cd-0x1a5;let _0x2bd85c=_0x2f5bf3[_0x6cc3cd];return _0x2bd85c;},a22_0x3ff7(_0x49c8e6,_0x105e71);}import{auth,db}from'./firebase-config.js';import{collection,query,where,orderBy,getDocs,doc,updateDoc,onSnapshot,limit,startAfter}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';class InboxManager{constructor(){const _0x58b89d=a22_0x3ff7;this['currentFilter']=_0x58b89d(0x1ca),this['invitations']=[],this[_0x58b89d(0x1ae)]=[],this['unsubscribe']=null,this['sentUnsubscribe']=null,this[_0x58b89d(0x1b4)]=0x14,this['lastDoc']=null,this['hasMore']=!![],this['init']();}async['init'](){auth['onAuthStateChanged'](_0x274514=>{const _0x47bb24=a22_0x3ff7;_0x274514?(this[_0x47bb24(0x1bd)](_0x274514['uid']),this['setupEventListeners']()):window['location']['href']=_0x47bb24(0x1ba);});}[a22_0x309f94(0x1d2)](){document['querySelectorAll']('.filter-btn')['forEach'](_0x44ad7e=>{_0x44ad7e['addEventListener']('click',()=>{const _0x1de703=a22_0x3ff7;document['querySelectorAll']('.filter-btn')['forEach'](_0x7c24fa=>_0x7c24fa[_0x1de703(0x1cd)]['remove']('active')),_0x44ad7e['classList'][_0x1de703(0x1db)]('active'),this['currentFilter']=_0x44ad7e['dataset'][_0x1de703(0x1c2)],this['renderInvitations']();});});}['loadInvitations'](_0xf6adae){const _0x4e8fec=a22_0x309f94,_0x4458a7=collection(db,'gameInvitations');let _0x2a1090=query(_0x4458a7,where('toUserId','==',_0xf6adae),orderBy('createdAt','desc'),limit(this['pageSize']));this['unsubscribe']=onSnapshot(_0x2a1090,_0x136384=>{const _0x3e9331=a22_0x3ff7;this['invitations']=_0x136384[_0x3e9331(0x1d7)][_0x3e9331(0x1eb)](_0x553b9f=>({'id':_0x553b9f['id'],..._0x553b9f[_0x3e9331(0x1d5)]()})),this['renderInvitations'](),this[_0x3e9331(0x1d9)]();});let _0x57ce37=query(_0x4458a7,where('fromUserId','==',_0xf6adae),orderBy('createdAt','desc'),limit(this[_0x4e8fec(0x1b4)]));this['sentUnsubscribe']=onSnapshot(_0x57ce37,_0x3bb5b8=>{this['sentInvitations']=_0x3bb5b8['docs']['map'](_0x41c242=>({'id':_0x41c242['id'],..._0x41c242['data'](),'isSent':!![]})),this['renderInvitations']();});}['renderInvitations'](){const _0x38ca33=a22_0x309f94,_0x463010=document['getElementById']('inbox-content');if(!_0x463010)return;let _0x49131f=[];if(this['currentFilter']===_0x38ca33(0x1b6))_0x49131f=this[_0x38ca33(0x1ae)];else this['currentFilter']==='all'?_0x49131f=[...this['invitations'],...this['sentInvitations']]['sort']((_0x357246,_0x56aaf5)=>{const _0x820ba4=_0x38ca33,_0x2e3b90=_0x357246[_0x820ba4(0x1a5)]?.[_0x820ba4(0x1e8)]?_0x357246['createdAt']['toDate']():new Date(_0x357246[_0x820ba4(0x1a5)]),_0x451f23=_0x56aaf5['createdAt']?.['toDate']?_0x56aaf5['createdAt']['toDate']():new Date(_0x56aaf5['createdAt']);return _0x451f23-_0x2e3b90;}):_0x49131f=this['invitations']['filter'](_0x250a0b=>_0x250a0b[_0x38ca33(0x1c8)]===this['currentFilter']);if(_0x49131f['length']===0x0){const _0x3de215=this['currentFilter']==='outbox'?'sent':this['currentFilter']===_0x38ca33(0x1e6)?'':this['currentFilter'];_0x463010['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22empty-inbox\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-inbox\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>No\x20'+_0x3de215+'\x20invitations</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(this['currentFilter']===_0x38ca33(0x1b6)?'Invitations\x20you\x20send\x20to\x20other\x20players\x20will\x20appear\x20here.':'When\x20other\x20players\x20invite\x20you\x20to\x20games,\x20they\x27ll\x20appear\x20here.')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';return;}_0x463010[_0x38ca33(0x1cb)]=_0x49131f['map'](_0x38cb46=>this[_0x38ca33(0x1c7)](_0x38cb46))['join'](''),this['setupActionListeners']();}['createInvitationCard'](_0x20a424){const _0x2318ad=a22_0x309f94,_0x5afa63=_0x20a424['createdAt']?.['toDate']?_0x20a424[_0x2318ad(0x1a5)]['toDate']():new Date(_0x20a424[_0x2318ad(0x1a5)]),_0x842057=this[_0x2318ad(0x1c0)](_0x5afa63),_0x4a6776=_0x20a424['isSent']||![];let _0x4268fb='';return _0x20a424[_0x2318ad(0x1cc)]==='team_invite'?_0x4268fb='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+_0x20a424[_0x2318ad(0x1ad)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22team-invite-preview\x22\x20style=\x22background:\x20#1a1a1a;\x20padding:\x201rem;\x20border-radius:\x204px;\x20margin:\x200.5rem\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20style=\x22color:\x20'+_0x20a424[_0x2318ad(0x1ee)][_0x2318ad(0x1b8)]+';\x20margin:\x200\x200\x200.5rem\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x20a424[_0x2318ad(0x1ee)]['proposedTeamName']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22color:\x20#888;\x20font-size:\x200.9em;\x20margin:\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Duos\x20Ladder\x20Team\x20â€¢\x20Color:\x20'+_0x20a424[_0x2318ad(0x1ee)]['teamColor']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x4268fb='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+_0x20a424['message']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-card\x20'+_0x20a424['status']+'\x20'+(_0x4a6776?'sent-invitation':'')+'\x22\x20data-invitation-id=\x22'+_0x20a424['id']+_0x2318ad(0x1c6)+(_0x4a6776?'To:\x20'+_0x20a424[_0x2318ad(0x1a7)]:_0x20a424['fromUsername'])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4a6776?'<span\x20class=\x22sent-indicator\x22><i\x20class=\x22fas\x20fa-paper-plane\x22></i>\x20Sent</span>':'')+_0x2318ad(0x1c5)+_0x842057+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22status-badge\x20status-'+_0x20a424['status']+'\x22>'+_0x20a424['status']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4268fb+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x4a6776&&_0x20a424['status']===_0x2318ad(0x1ca)?_0x2318ad(0x1d8)+_0x20a424['id']+_0x2318ad(0x1b5)+_0x20a424['id']+_0x2318ad(0x1bc)+(_0x20a424[_0x2318ad(0x1cc)]!==_0x2318ad(0x1a8)?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20respond-btn\x22\x20data-action=\x22respond\x22\x20data-invitation-id=\x22'+_0x20a424['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-reply\x22></i>\x20Send\x20Message\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+_0x2318ad(0x1f1):'')+_0x2318ad(0x1d1)+(_0x4a6776&&_0x20a424[_0x2318ad(0x1c8)]===_0x2318ad(0x1ca)?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20cancel-btn\x22\x20data-action=\x22cancel\x22\x20data-invitation-id=\x22'+_0x20a424['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20Cancel\x20Invitation\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+_0x2318ad(0x1b1);}[a22_0x309f94(0x1b3)](){const _0x35eb40=a22_0x309f94;document['querySelectorAll'](_0x35eb40(0x1da))['forEach'](_0x1ed57b=>{const _0x3e813e=_0x35eb40;_0x1ed57b[_0x3e813e(0x1aa)](_0x3e813e(0x1c9),async _0x293e67=>{const _0x49f31b=_0x3e813e,_0x246362=_0x1ed57b[_0x49f31b(0x1af)]['action'],_0x5987aa=_0x1ed57b['dataset']['invitationId'];_0x1ed57b['disabled']=!![];const _0x5d383f=_0x1ed57b['innerHTML'];_0x1ed57b['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>';try{switch(_0x246362){case'accept':await this['updateInvitationStatus'](_0x5987aa,'accepted');break;case _0x49f31b(0x1bf):await this[_0x49f31b(0x1c3)](_0x5987aa,'declined');break;case _0x49f31b(0x1bb):await this['updateInvitationStatus'](_0x5987aa,_0x49f31b(0x1d3));break;case'respond':this[_0x49f31b(0x1dd)](_0x5987aa);break;}}catch(_0x98f2c7){console['error']('Error\x20performing\x20'+_0x246362+':',_0x98f2c7),alert(_0x49f31b(0x1e7)+_0x246362+_0x49f31b(0x1e9));}finally{_0x1ed57b['disabled']=![],_0x1ed57b[_0x49f31b(0x1cb)]=_0x5d383f;}});});}async[a22_0x309f94(0x1c3)](_0x5d1734,_0x586a02){const _0x54855b=a22_0x309f94;try{const _0x3e45ae=this['invitations']['find'](_0x22d4d9=>_0x22d4d9['id']===_0x5d1734);_0x3e45ae&&_0x3e45ae[_0x54855b(0x1cc)]==='team_invite'&&_0x586a02==='accepted'&&await this[_0x54855b(0x1b7)](_0x3e45ae);const _0x43fea6=doc(db,'gameInvitations',_0x5d1734);await updateDoc(_0x43fea6,{'status':_0x586a02,'respondedAt':new Date()}),_0x3e45ae&&(_0x3e45ae['status']=_0x586a02,_0x3e45ae['respondedAt']=new Date(),this['renderInvitations']());}catch(_0x5c2cbf){console['error']('Error\x20updating\x20invitation\x20status:',_0x5c2cbf);throw _0x5c2cbf;}}['openResponseModal'](_0x574cf5){const _0xcf0c2a=a22_0x309f94,_0x4ae3c7=this['invitations']['find'](_0x3cbc83=>_0x3cbc83['id']===_0x574cf5);if(!_0x4ae3c7)return;const _0x2681c1=document['createElement'](_0xcf0c2a(0x1df));_0x2681c1['className']=_0xcf0c2a(0x1d0),_0x2681c1[_0xcf0c2a(0x1cb)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Send\x20Message\x20to\x20'+_0x4ae3c7[_0xcf0c2a(0x1ab)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22modal-close\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-body\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Regarding\x20invitation\x20to:\x20<strong>'+_0x4ae3c7['value']+'</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22response-message\x22\x20placeholder=\x22Type\x20your\x20message\x20here...\x22\x20rows=\x224\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20respond-btn\x22\x20id=\x22send-response\x22>Send\x20Message</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x22\x20id=\x22cancel-response\x22>Cancel</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';if(!document['getElementById']('modal-styles')){const _0x72ffc4=document[_0xcf0c2a(0x1ec)]('style');_0x72ffc4['id']=_0xcf0c2a(0x1ef),_0x72ffc4[_0xcf0c2a(0x1de)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-overlay\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20right:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.8);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-content\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#2a2a2a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2090%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20500px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-height:\x2090vh;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20overflow-y:\x20auto;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-header\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20space-between;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-close\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x201.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-body\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-body\x20textarea\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#1a1a1a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resize:\x20vertical;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-footer\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-top:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document[_0xcf0c2a(0x1a6)]['appendChild'](_0x72ffc4);}document['body'][_0xcf0c2a(0x1e1)](_0x2681c1),_0x2681c1[_0xcf0c2a(0x1e0)]('.modal-close')[_0xcf0c2a(0x1aa)](_0xcf0c2a(0x1c9),()=>_0x2681c1['remove']()),_0x2681c1['querySelector'](_0xcf0c2a(0x1e3))[_0xcf0c2a(0x1aa)](_0xcf0c2a(0x1c9),()=>_0x2681c1[_0xcf0c2a(0x1ac)]()),_0x2681c1[_0xcf0c2a(0x1aa)]('click',_0x1c7eac=>{const _0x28846c=_0xcf0c2a;if(_0x1c7eac[_0x28846c(0x1b0)]===_0x2681c1)_0x2681c1['remove']();}),_0x2681c1[_0xcf0c2a(0x1e0)]('#send-response')['addEventListener'](_0xcf0c2a(0x1c9),()=>{const _0x469ea0=_0xcf0c2a,_0x2e81bf=document['getElementById']('response-message')['value']['trim']();_0x2e81bf&&(alert('Message\x20sent!\x20(Feature\x20will\x20be\x20fully\x20implemented\x20in\x20future\x20update)'),_0x2681c1[_0x469ea0(0x1ac)]());});}async[a22_0x309f94(0x1b7)](_0x58f3d1){const _0x1c24b7=a22_0x309f94;try{const {createTeam:_0x447622}=await import('./ladderduos.js'),_0x19752a=await _0x447622(_0x58f3d1['fromUsername'],_0x58f3d1['toUsername'],_0x58f3d1['teamData']['proposedTeamName'],_0x58f3d1[_0x1c24b7(0x1ee)]['teamColor']);if(!_0x19752a['success'])throw new Error(_0x19752a['error']);alert(_0x1c24b7(0x1ed)+_0x58f3d1['teamData'][_0x1c24b7(0x1f0)]+'\x22\x20created\x20successfully!');}catch(_0xa3956){console['error'](_0x1c24b7(0x1d4),_0xa3956);throw new Error(_0x1c24b7(0x1e5)+_0xa3956['message']);}}['updateNotificationCount'](){const _0x311832=a22_0x309f94,_0xdb959b=this[_0x311832(0x1be)][_0x311832(0x1c2)](_0x378cc9=>_0x378cc9['status']==='pending')['length'],_0x106547=document['getElementById']('inbox-notification');_0x106547&&(_0xdb959b>0x0?(_0x106547['style']['display']='inline-block',_0x106547['textContent']=_0xdb959b>0x9?'9+':_0xdb959b):_0x106547['style']['display']='none');}[a22_0x309f94(0x1c0)](_0x282173){const _0x16628e=a22_0x309f94,_0x1787d2=new Date(),_0x48134a=_0x1787d2-_0x282173,_0x191989=Math['floor'](_0x48134a/(0x3e8*0x3c)),_0x49c214=Math[_0x16628e(0x1d6)](_0x48134a/(0x3e8*0x3c*0x3c)),_0x493625=Math['floor'](_0x48134a/(0x3e8*0x3c*0x3c*0x18));if(_0x191989<0x1)return _0x16628e(0x1c1);if(_0x191989<0x3c)return _0x191989+'m\x20ago';if(_0x49c214<0x18)return _0x49c214+'h\x20ago';if(_0x493625<0x7)return _0x493625+_0x16628e(0x1ea);return _0x282173[_0x16628e(0x1b9)]();}['destroy'](){const _0x1dc8ad=a22_0x309f94;this[_0x1dc8ad(0x1ce)]&&this['unsubscribe'](),this['sentUnsubscribe']&&this['sentUnsubscribe']();}}document['addEventListener']('DOMContentLoaded',()=>{new InboxManager();});