const a22_0x25e21c=a22_0x2f21,a22_0x4b629c=(function(){let _0x3dedc2=!![];return function(_0x123648,_0x4bdb20){const _0x2d5977=_0x3dedc2?function(){if(_0x4bdb20){const _0x47b28d=_0x4bdb20['apply'](_0x123648,arguments);return _0x4bdb20=null,_0x47b28d;}}:function(){};return _0x3dedc2=![],_0x2d5977;};}()),a22_0x2296a5=a22_0x4b629c(this,function(){const _0x22f83d=a22_0x2f21,_0x580c15=function(){const _0x5bb0cd=a22_0x2f21;let _0x2ebaf6;try{_0x2ebaf6=Function(_0x5bb0cd(0xc1)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x147d94){_0x2ebaf6=window;}return _0x2ebaf6;},_0x143f2c=_0x580c15(),_0x5ab70f=_0x143f2c['console']=_0x143f2c[_0x22f83d(0xb9)]||{},_0x34a979=['log','warn','info','error','exception','table','trace'];for(let _0x3cf1de=0x0;_0x3cf1de<_0x34a979[_0x22f83d(0xd0)];_0x3cf1de++){const _0x1542ad=a22_0x4b629c['constructor']['prototype'][_0x22f83d(0xc4)](a22_0x4b629c),_0x3850ee=_0x34a979[_0x3cf1de],_0x525013=_0x5ab70f[_0x3850ee]||_0x1542ad;_0x1542ad['__proto__']=a22_0x4b629c[_0x22f83d(0xc4)](a22_0x4b629c),_0x1542ad['toString']=_0x525013['toString']['bind'](_0x525013),_0x5ab70f[_0x3850ee]=_0x1542ad;}});a22_0x2296a5();import{auth,db}from'./firebase-config.js';function a22_0x1405(){const _0x3165e8=['.modal-close','error','\x20invitations</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','.action-btn','renderInvitations','status','gameInvitations','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-time\x22>','sentUnsubscribe','invitations','fromUsername','getTimeAgo','filter','click','console','innerHTML','className','appendChild','destroy','toDate','find','\x22\x20data-invitation-id=\x22','return\x20(function()\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22modal-close\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-body\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Regarding\x20invitation\x20to:\x20<strong>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bind','unsubscribe','outbox','updateInvitationStatus','dataset','updateNotificationCount','currentFilter','createTeamFromInvitation','div','openResponseModal','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','display','length','classList','respondedAt','href','decline','accepted','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-from\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','h\x20ago','Error\x20creating\x20team:','all','toUsername','team_invite','createdAt','style','setupEventListeners','addEventListener','cancel',';\x20margin:\x200\x200\x200.5rem\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','location','pending','getElementById','proposedTeamName','pageSize','toLocaleDateString','type','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22team-invite-preview\x22\x20style=\x22background:\x20#1a1a1a;\x20padding:\x201rem;\x20border-radius:\x204px;\x20margin:\x200.5rem\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20style=\x22color:\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','teamData','init','value','floor','#cancel-response','./login.html','forEach','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Send\x20Message\x20to\x20','d\x20ago'];a22_0x1405=function(){return _0x3165e8;};return a22_0x1405();}import{collection,query,where,orderBy,getDocs,doc,updateDoc,onSnapshot,limit,startAfter}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';function a22_0x2f21(_0x56ea7c,_0x18627c){const _0x2296a5=a22_0x1405();return a22_0x2f21=function(_0x4b629c,_0x2ff912){_0x4b629c=_0x4b629c-0xab;let _0x1405ca=_0x2296a5[_0x4b629c];return _0x1405ca;},a22_0x2f21(_0x56ea7c,_0x18627c);}class InboxManager{constructor(){const _0x6076b0=a22_0x2f21;this[_0x6076b0(0xca)]=_0x6076b0(0xe3),this['invitations']=[],this['sentInvitations']=[],this['unsubscribe']=null,this['sentUnsubscribe']=null,this['pageSize']=0x14,this['lastDoc']=null,this['hasMore']=!![],this['init']();}async[a22_0x25e21c(0xec)](){auth['onAuthStateChanged'](_0x28e235=>{const _0x51ef62=a22_0x2f21;_0x28e235?(this['loadInvitations'](_0x28e235['uid']),this[_0x51ef62(0xde)]()):window[_0x51ef62(0xe2)][_0x51ef62(0xd3)]=_0x51ef62(0xf0);});}['setupEventListeners'](){const _0xec7254=a22_0x25e21c;document['querySelectorAll']('.filter-btn')[_0xec7254(0xf1)](_0x2f0b6f=>{_0x2f0b6f['addEventListener']('click',()=>{const _0x3b502b=a22_0x2f21;document['querySelectorAll']('.filter-btn')['forEach'](_0x2a9350=>_0x2a9350['classList']['remove']('active')),_0x2f0b6f[_0x3b502b(0xd1)]['add']('active'),this['currentFilter']=_0x2f0b6f['dataset']['filter'],this['renderInvitations']();});});}['loadInvitations'](_0x1cbff5){const _0x1acfca=a22_0x25e21c,_0x58726b=collection(db,'gameInvitations');let _0x1cb497=query(_0x58726b,where('toUserId','==',_0x1cbff5),orderBy(_0x1acfca(0xdc),'desc'),limit(this[_0x1acfca(0xe6)]));this[_0x1acfca(0xc5)]=onSnapshot(_0x1cb497,_0x4abcb0=>{const _0x4467ba=_0x1acfca;this['invitations']=_0x4abcb0['docs']['map'](_0x11a695=>({'id':_0x11a695['id'],..._0x11a695['data']()})),this['renderInvitations'](),this[_0x4467ba(0xc9)]();});let _0x4f8503=query(_0x58726b,where('fromUserId','==',_0x1cbff5),orderBy('createdAt','desc'),limit(this['pageSize']));this['sentUnsubscribe']=onSnapshot(_0x4f8503,_0x395785=>{this['sentInvitations']=_0x395785['docs']['map'](_0x1369ce=>({'id':_0x1369ce['id'],..._0x1369ce['data'](),'isSent':!![]})),this['renderInvitations']();});}[a22_0x25e21c(0xaf)](){const _0x2ae953=a22_0x25e21c,_0x53689f=document['getElementById']('inbox-content');if(!_0x53689f)return;let _0x1f7329=[];if(this[_0x2ae953(0xca)]===_0x2ae953(0xc6))_0x1f7329=this['sentInvitations'];else this['currentFilter']==='all'?_0x1f7329=[...this['invitations'],...this['sentInvitations']]['sort']((_0x1619f6,_0x177727)=>{const _0x2e735f=_0x2ae953,_0x2a59aa=_0x1619f6['createdAt']?.['toDate']?_0x1619f6[_0x2e735f(0xdc)][_0x2e735f(0xbe)]():new Date(_0x1619f6['createdAt']),_0xac6132=_0x177727['createdAt']?.['toDate']?_0x177727[_0x2e735f(0xdc)][_0x2e735f(0xbe)]():new Date(_0x177727[_0x2e735f(0xdc)]);return _0xac6132-_0x2a59aa;}):_0x1f7329=this[_0x2ae953(0xb4)]['filter'](_0x50ece6=>_0x50ece6['status']===this['currentFilter']);if(_0x1f7329[_0x2ae953(0xd0)]===0x0){const _0x4fdde3=this[_0x2ae953(0xca)]==='outbox'?'sent':this['currentFilter']===_0x2ae953(0xd9)?'':this['currentFilter'];_0x53689f['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22empty-inbox\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-inbox\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>No\x20'+_0x4fdde3+_0x2ae953(0xad)+(this[_0x2ae953(0xca)]==='outbox'?'Invitations\x20you\x20send\x20to\x20other\x20players\x20will\x20appear\x20here.':'When\x20other\x20players\x20invite\x20you\x20to\x20games,\x20they\x27ll\x20appear\x20here.')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';return;}_0x53689f['innerHTML']=_0x1f7329['map'](_0xd90cc7=>this['createInvitationCard'](_0xd90cc7))['join'](''),this['setupActionListeners']();}['createInvitationCard'](_0x2e3980){const _0x26547e=a22_0x25e21c,_0x3e7e89=_0x2e3980['createdAt']?.[_0x26547e(0xbe)]?_0x2e3980['createdAt']['toDate']():new Date(_0x2e3980['createdAt']),_0x2fb16a=this['getTimeAgo'](_0x3e7e89),_0x48a6b0=_0x2e3980['isSent']||![];let _0x594a6d='';return _0x2e3980['type']==='team_invite'?_0x594a6d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+_0x2e3980['message']+_0x26547e(0xe9)+_0x2e3980[_0x26547e(0xeb)]['teamColor']+_0x26547e(0xe1)+_0x2e3980['teamData']['proposedTeamName']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22color:\x20#888;\x20font-size:\x200.9em;\x20margin:\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Duos\x20Ladder\x20Team\x20â€¢\x20Color:\x20'+_0x2e3980['teamData']['teamColor']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x594a6d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+_0x2e3980['message']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-card\x20'+_0x2e3980['status']+'\x20'+(_0x48a6b0?'sent-invitation':'')+_0x26547e(0xc0)+_0x2e3980['id']+_0x26547e(0xd6)+(_0x48a6b0?'To:\x20'+_0x2e3980[_0x26547e(0xda)]:_0x2e3980['fromUsername'])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x48a6b0?'<span\x20class=\x22sent-indicator\x22><i\x20class=\x22fas\x20fa-paper-plane\x22></i>\x20Sent</span>':'')+_0x26547e(0xb2)+_0x2fb16a+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22status-badge\x20status-'+_0x2e3980['status']+'\x22>'+_0x2e3980[_0x26547e(0xb0)]+_0x26547e(0xea)+_0x594a6d+_0x26547e(0xc3)+(!_0x48a6b0&&_0x2e3980['status']==='pending'?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20accept-btn\x22\x20data-action=\x22accept\x22\x20data-invitation-id=\x22'+_0x2e3980['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20Accept\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20decline-btn\x22\x20data-action=\x22decline\x22\x20data-invitation-id=\x22'+_0x2e3980['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20Decline\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2e3980['type']!==_0x26547e(0xdb)?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20respond-btn\x22\x20data-action=\x22respond\x22\x20data-invitation-id=\x22'+_0x2e3980['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-reply\x22></i>\x20Send\x20Message\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x48a6b0&&_0x2e3980[_0x26547e(0xb0)]==='pending'?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22invitation-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20cancel-btn\x22\x20data-action=\x22cancel\x22\x20data-invitation-id=\x22'+_0x2e3980['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20Cancel\x20Invitation\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}['setupActionListeners'](){const _0x55ba27=a22_0x25e21c;document['querySelectorAll'](_0x55ba27(0xae))['forEach'](_0x20bf37=>{_0x20bf37['addEventListener']('click',async _0x44756a=>{const _0x3a6779=a22_0x2f21,_0x22da1b=_0x20bf37['dataset']['action'],_0xc6c30e=_0x20bf37[_0x3a6779(0xc8)]['invitationId'];_0x20bf37['disabled']=!![];const _0x2894ac=_0x20bf37['innerHTML'];_0x20bf37['innerHTML']=_0x3a6779(0xce);try{switch(_0x22da1b){case'accept':await this[_0x3a6779(0xc7)](_0xc6c30e,_0x3a6779(0xd5));break;case _0x3a6779(0xd4):await this[_0x3a6779(0xc7)](_0xc6c30e,'declined');break;case _0x3a6779(0xe0):await this['updateInvitationStatus'](_0xc6c30e,'cancelled');break;case'respond':this['openResponseModal'](_0xc6c30e);break;}}catch(_0x22e52a){console[_0x3a6779(0xac)]('Error\x20performing\x20'+_0x22da1b+':',_0x22e52a),alert('Failed\x20to\x20'+_0x22da1b+'\x20invitation.\x20Please\x20try\x20again.');}finally{_0x20bf37['disabled']=![],_0x20bf37[_0x3a6779(0xba)]=_0x2894ac;}});});}async[a22_0x25e21c(0xc7)](_0x592ad3,_0x15ca47){const _0x323c89=a22_0x25e21c;try{const _0x52eaae=this['invitations']['find'](_0x3e2c0b=>_0x3e2c0b['id']===_0x592ad3);_0x52eaae&&_0x52eaae[_0x323c89(0xe8)]==='team_invite'&&_0x15ca47==='accepted'&&await this[_0x323c89(0xcb)](_0x52eaae);const _0x91abee=doc(db,_0x323c89(0xb1),_0x592ad3);await updateDoc(_0x91abee,{'status':_0x15ca47,'respondedAt':new Date()}),_0x52eaae&&(_0x52eaae['status']=_0x15ca47,_0x52eaae[_0x323c89(0xd2)]=new Date(),this[_0x323c89(0xaf)]());}catch(_0x3b97b2){console[_0x323c89(0xac)]('Error\x20updating\x20invitation\x20status:',_0x3b97b2);throw _0x3b97b2;}}[a22_0x25e21c(0xcd)](_0x5b558e){const _0x259b69=a22_0x25e21c,_0x446e6b=this[_0x259b69(0xb4)][_0x259b69(0xbf)](_0x3f10ba=>_0x3f10ba['id']===_0x5b558e);if(!_0x446e6b)return;const _0xb2eae8=document['createElement'](_0x259b69(0xcc));_0xb2eae8[_0x259b69(0xbb)]='modal-overlay',_0xb2eae8[_0x259b69(0xba)]=_0x259b69(0xf2)+_0x446e6b['fromUsername']+_0x259b69(0xc2)+_0x446e6b[_0x259b69(0xed)]+'</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22response-message\x22\x20placeholder=\x22Type\x20your\x20message\x20here...\x22\x20rows=\x224\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x20respond-btn\x22\x20id=\x22send-response\x22>Send\x20Message</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x22\x20id=\x22cancel-response\x22>Cancel</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';if(!document['getElementById']('modal-styles')){const _0x2c1cd6=document['createElement']('style');_0x2c1cd6['id']='modal-styles',_0x2c1cd6['textContent']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-overlay\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20right:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.8);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-content\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#2a2a2a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2090%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20500px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-height:\x2090vh;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20overflow-y:\x20auto;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-header\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20space-between;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-close\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x201.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-body\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-body\x20textarea\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#1a1a1a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resize:\x20vertical;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-footer\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-top:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document['head'][_0x259b69(0xbc)](_0x2c1cd6);}document['body'][_0x259b69(0xbc)](_0xb2eae8),_0xb2eae8['querySelector'](_0x259b69(0xab))['addEventListener']('click',()=>_0xb2eae8['remove']()),_0xb2eae8['querySelector'](_0x259b69(0xef))['addEventListener'](_0x259b69(0xb8),()=>_0xb2eae8['remove']()),_0xb2eae8['addEventListener']('click',_0x35cfd6=>{if(_0x35cfd6['target']===_0xb2eae8)_0xb2eae8['remove']();}),_0xb2eae8['querySelector']('#send-response')[_0x259b69(0xdf)](_0x259b69(0xb8),()=>{const _0x5f5844=_0x259b69,_0x3d0847=document[_0x5f5844(0xe4)]('response-message')[_0x5f5844(0xed)]['trim']();_0x3d0847&&(alert('Message\x20sent!\x20(Feature\x20will\x20be\x20fully\x20implemented\x20in\x20future\x20update)'),_0xb2eae8['remove']());});}async['createTeamFromInvitation'](_0x129d52){const _0x1f2799=a22_0x25e21c;try{const {createTeam:_0x2f5ab6}=await import('./ladderduos.js'),_0xab0d45=await _0x2f5ab6(_0x129d52[_0x1f2799(0xb5)],_0x129d52[_0x1f2799(0xda)],_0x129d52['teamData'][_0x1f2799(0xe5)],_0x129d52[_0x1f2799(0xeb)]['teamColor']);if(!_0xab0d45['success'])throw new Error(_0xab0d45[_0x1f2799(0xac)]);alert('Team\x20\x22'+_0x129d52[_0x1f2799(0xeb)]['proposedTeamName']+'\x22\x20created\x20successfully!');}catch(_0x5f0615){console['error'](_0x1f2799(0xd8),_0x5f0615);throw new Error('Failed\x20to\x20create\x20team:\x20'+_0x5f0615['message']);}}['updateNotificationCount'](){const _0x1aaeaf=a22_0x25e21c,_0x8b8d85=this['invitations'][_0x1aaeaf(0xb7)](_0x4b6041=>_0x4b6041['status']==='pending')['length'],_0x29eeb2=document['getElementById']('inbox-notification');_0x29eeb2&&(_0x8b8d85>0x0?(_0x29eeb2[_0x1aaeaf(0xdd)][_0x1aaeaf(0xcf)]='inline-block',_0x29eeb2['textContent']=_0x8b8d85>0x9?'9+':_0x8b8d85):_0x29eeb2['style']['display']='none');}[a22_0x25e21c(0xb6)](_0x2fa38b){const _0x1caac4=a22_0x25e21c,_0x27e6ef=new Date(),_0x46e042=_0x27e6ef-_0x2fa38b,_0x118a6=Math['floor'](_0x46e042/(0x3e8*0x3c)),_0x186004=Math['floor'](_0x46e042/(0x3e8*0x3c*0x3c)),_0x55b13c=Math[_0x1caac4(0xee)](_0x46e042/(0x3e8*0x3c*0x3c*0x18));if(_0x118a6<0x1)return'Just\x20now';if(_0x118a6<0x3c)return _0x118a6+'m\x20ago';if(_0x186004<0x18)return _0x186004+_0x1caac4(0xd7);if(_0x55b13c<0x7)return _0x55b13c+_0x1caac4(0xf3);return _0x2fa38b[_0x1caac4(0xe7)]();}[a22_0x25e21c(0xbd)](){const _0x1b26e0=a22_0x25e21c;this['unsubscribe']&&this['unsubscribe'](),this[_0x1b26e0(0xb3)]&&this['sentUnsubscribe']();}}document['addEventListener']('DOMContentLoaded',()=>{new InboxManager();});