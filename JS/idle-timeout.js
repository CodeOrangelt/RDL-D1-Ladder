function a20_0x2219(_0x41f95b,_0x316fe3){const _0xd93465=a20_0x35a4();return a20_0x2219=function(_0x493e33,_0x6efe1a){_0x493e33=_0x493e33-0x1ef;let _0x35a4d7=_0xd93465[_0x493e33];return _0x35a4d7;},a20_0x2219(_0x41f95b,_0x316fe3);}const a20_0x455c9b=a20_0x2219;import a20_0x223b40,{enhanceIdleTimeout}from'./firebase-idle-wrapper.js';const IDLE_TIMEOUT=0xea60;let idleTimer=null,isSessionSuspended=![],networkErrorRetryCount=0x0;const MAX_NETWORK_RETRIES=0x3;function createIdleOverlay(){const _0x4e0de8=a20_0x2219;if(document[_0x4e0de8(0x20e)](_0x4e0de8(0x214)))return;const _0x413fbb=document['createElement']('div');_0x413fbb['id']='idle-overlay',_0x413fbb['style'][_0x4e0de8(0x201)]=_0x4e0de8(0x1fd);const _0x522466=document['createElement']('div');_0x522466['style']['cssText']=_0x4e0de8(0x210);const _0x363dc5=document['createElement']('h2');_0x363dc5['textContent']='Session\x20Suspended\x20Due\x20to\x20Inactivity',_0x363dc5['style']['cssText']='color:\x20#50C878;\x20margin-bottom:\x2020px;\x20font-size:\x2024px;';const _0x386bb0=document[_0x4e0de8(0x208)]('p');_0x386bb0[_0x4e0de8(0x222)]='Your\x20session\x20has\x20been\x20suspended\x20after\x201\x20minutes\x20of\x20inactivity\x20for\x20security\x20reasons.',_0x386bb0['style'][_0x4e0de8(0x201)]='color:\x20#fff;\x20margin-bottom:\x2030px;';const _0x2817ea=document['createElement']('button');_0x2817ea['id']=_0x4e0de8(0x20d),_0x2817ea['textContent']='Return\x20to\x20Website',_0x2817ea[_0x4e0de8(0x212)]['cssText']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#50C878;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s;\x0a\x20\x20\x20\x20',_0x2817ea['onmouseover']=function(){this['style']['backgroundColor']='#3da05f';},_0x2817ea['onmouseout']=function(){this['style']['backgroundColor']='#50C878';},_0x522466[_0x4e0de8(0x21f)](_0x363dc5),_0x522466[_0x4e0de8(0x21f)](_0x386bb0),_0x522466['appendChild'](_0x2817ea),_0x413fbb[_0x4e0de8(0x21f)](_0x522466),document['body'][_0x4e0de8(0x21f)](_0x413fbb),_0x2817ea[_0x4e0de8(0x21e)]('click',resumeSession),createNetworkErrorOverlay();}function createNetworkErrorOverlay(){const _0x2e02bb=a20_0x2219;if(document[_0x2e02bb(0x20e)]('network-error-overlay'))return;const _0x5d83c9=document['createElement']('div');_0x5d83c9['id']=_0x2e02bb(0x202),_0x5d83c9['style']['cssText']=_0x2e02bb(0x1fd);const _0x4a8d77=document['createElement']('div');_0x4a8d77['style'][_0x2e02bb(0x201)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#202020;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2030px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20500px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x200\x2020px\x20rgba(0,\x200,\x200,\x200.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20';const _0x2f7bc1=document['createElement']('h2');_0x2f7bc1['textContent']=_0x2e02bb(0x223),_0x2f7bc1['style'][_0x2e02bb(0x201)]='color:\x20#ff5555;\x20margin-bottom:\x2020px;\x20font-size:\x2024px;';const _0x28cae8=document['createElement']('p');_0x28cae8['textContent']='We\x27re\x20having\x20trouble\x20connecting\x20to\x20the\x20server.\x20This\x20may\x20be\x20due\x20to\x20network\x20issues\x20or\x20server\x20maintenance.',_0x28cae8['style']['cssText']='color:\x20#fff;\x20margin-bottom:\x2030px;';const _0x5b149b=document[_0x2e02bb(0x208)]('button');_0x5b149b['id']='retry-connection-btn',_0x5b149b[_0x2e02bb(0x222)]='Retry\x20Connection',_0x5b149b[_0x2e02bb(0x212)][_0x2e02bb(0x201)]=_0x2e02bb(0x21b);const _0x24a53d=document['createElement']('button');_0x24a53d['id']='reload-page-btn',_0x24a53d['textContent']='Reload\x20Page',_0x24a53d['style']['cssText']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#5555ff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#fff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s;\x0a\x20\x20\x20\x20';const _0x3fb7d3=document['createElement']('div');_0x3fb7d3['style']['cssText']='display:\x20flex;\x20justify-content:\x20center;\x20gap:\x2010px;',_0x3fb7d3['appendChild'](_0x5b149b),_0x3fb7d3['appendChild'](_0x24a53d),_0x4a8d77['appendChild'](_0x2f7bc1),_0x4a8d77['appendChild'](_0x28cae8),_0x4a8d77['appendChild'](_0x3fb7d3),_0x5d83c9['appendChild'](_0x4a8d77),document[_0x2e02bb(0x1fc)]['appendChild'](_0x5d83c9),_0x5b149b[_0x2e02bb(0x21e)](_0x2e02bb(0x206),retryConnection),_0x24a53d['addEventListener'](_0x2e02bb(0x206),()=>window['location']['reload']());}function a20_0x35a4(){const _0x56a59f=['exception','mousedown','forceIdleTimeout','activeListeners','suspendAllListeners','__proto__','Retrying\x20connection...','apply','resumeAllListeners','loading','retry-connection-btn','RDL_NETWORK_ERROR','Network\x20error\x20detected,\x20showing\x20error\x20overlay','body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20rgba(0,\x200,\x200,\x200.85);\x0a\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x209999;\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20backdrop-filter:\x20blur(5px);\x0a\x20\x20\x20\x20','toString','table','from','cssText','network-error-overlay','return\x20(function()\x20','Session\x20suspended:','log','click','RDL_SESSION_SUSPENDED','createElement','Failed\x20to\x20test\x20connection:','resumeSession','catch','preventDefault','resume-session-btn','getElementById','error','\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#202020;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2030px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20500px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x200\x2020px\x20rgba(0,\x200,\x200,\x200.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#444;\x0a\x20\x20\x20\x20','DOMContentLoaded','style','querySelector','idle-overlay','prototype','Pending\x20operations:','display','disabled','none','RDL_LAST_ACTIVITY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#ff5555;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-right:\x2010px;\x0a\x20\x20\x20\x20','Session\x20resumed','collection','addEventListener','appendChild','unavailable','bind','textContent','Connection\x20Error','network'];a20_0x35a4=function(){return _0x56a59f;};return a20_0x35a4();}function resetIdleTimer(){if(isSessionSuspended)return;clearTimeout(idleTimer),idleTimer=setTimeout(suspendSession,IDLE_TIMEOUT);}function handleNetworkError(){const _0x81ba95=a20_0x2219;clearTimeout(idleTimer);const _0x40845a=document['getElementById']('network-error-overlay');_0x40845a&&(_0x40845a['style']['display']='flex'),window['RDL_NETWORK_ERROR']=!![],console['log'](_0x81ba95(0x1fb)),a20_0x223b40['suspendAllListeners']();}function retryConnection(){const _0x27f276=a20_0x2219;networkErrorRetryCount++;if(networkErrorRetryCount>MAX_NETWORK_RETRIES){const _0x3000a1=document[_0x27f276(0x213)]('#network-error-overlay\x20p');_0x3000a1&&(_0x3000a1['textContent']='Multiple\x20connection\x20attempts\x20failed.\x20Please\x20reload\x20the\x20page\x20or\x20try\x20again\x20later.');const _0xb512d=document['getElementById'](_0x27f276(0x1f9));_0xb512d&&(_0xb512d[_0x27f276(0x218)]=!![],_0xb512d['style']['opacity']='0.5',_0xb512d['style']['cursor']='not-allowed');return;}const _0x1789c8=document['getElementById'](_0x27f276(0x202));_0x1789c8&&(_0x1789c8['style']['display']='none');window['RDL_NETWORK_ERROR']=![],resetIdleTimer(),console[_0x27f276(0x205)](_0x27f276(0x1f5));try{const {rdlFirestore:_0x118878}=window;if(_0x118878){const _0x81e1ea=_0x118878[_0x27f276(0x21d)]('system');_0x118878['getDocs'](_0x81e1ea)[_0x27f276(0x20b)](_0xf990ac=>{console['error']('Connection\x20test\x20failed:',_0xf990ac),handleNetworkError();});}}catch(_0x532004){console['error'](_0x27f276(0x209),_0x532004),handleNetworkError();}a20_0x223b40[_0x27f276(0x1f7)]();}function suspendSession(){const _0x435f1d=a20_0x2219;isSessionSuspended=!![];const _0x75234f=document[_0x435f1d(0x20e)]('idle-overlay');_0x75234f&&(_0x75234f[_0x435f1d(0x212)]['display']='flex'),console[_0x435f1d(0x205)]('Session\x20suspended\x20due\x20to\x20inactivity'),window['RDL_SESSION_SUSPENDED']=!![],a20_0x223b40[_0x435f1d(0x1f3)]();}function resumeSession(){const _0x5263bb=a20_0x2219;isSessionSuspended=![],window['RDL_SESSION_SUSPENDED']=![];const _0x42ee11=document['getElementById']('idle-overlay');_0x42ee11&&(_0x42ee11['style'][_0x5263bb(0x217)]=_0x5263bb(0x219)),console[_0x5263bb(0x205)](_0x5263bb(0x21c)),resetIdleTimer(),a20_0x223b40['resumeAllListeners'](),idleTimer&&Date['now']()-(window[_0x5263bb(0x21a)]||0x0)>IDLE_TIMEOUT*0x2&&(console['log']('Session\x20was\x20idle\x20for\x20too\x20long,\x20reloading\x20page'),window['location']['reload']());}function initIdleTimeout(){const _0x5dab39=a20_0x2219,_0x780f28=(function(){let _0x5e6a0a=!![];return function(_0x1e3bb8,_0x46e198){const _0x1509ca=_0x5e6a0a?function(){const _0x26e7f4=a20_0x2219;if(_0x46e198){const _0x86226c=_0x46e198[_0x26e7f4(0x1f6)](_0x1e3bb8,arguments);return _0x46e198=null,_0x86226c;}}:function(){};return _0x5e6a0a=![],_0x1509ca;};}()),_0x4d66e5=_0x780f28(this,function(){const _0x76914e=a20_0x2219;let _0x15a10d;try{const _0x3fccde=Function(_0x76914e(0x203)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x15a10d=_0x3fccde();}catch(_0x1e2e8d){_0x15a10d=window;}const _0x3916c3=_0x15a10d['console']=_0x15a10d['console']||{},_0x4abaf3=[_0x76914e(0x205),'warn','info','error',_0x76914e(0x1ef),_0x76914e(0x1ff),'trace'];for(let _0x3069dd=0x0;_0x3069dd<_0x4abaf3['length'];_0x3069dd++){const _0x1d8f3f=_0x780f28['constructor'][_0x76914e(0x215)][_0x76914e(0x221)](_0x780f28),_0x5dedbf=_0x4abaf3[_0x3069dd],_0x52308e=_0x3916c3[_0x5dedbf]||_0x1d8f3f;_0x1d8f3f[_0x76914e(0x1f4)]=_0x780f28['bind'](_0x780f28),_0x1d8f3f['toString']=_0x52308e[_0x76914e(0x1fe)]['bind'](_0x52308e),_0x3916c3[_0x5dedbf]=_0x1d8f3f;}});_0x4d66e5(),createIdleOverlay();const _0x1a6d68=[_0x5dab39(0x1f0),'mousemove','keypress','scroll','touchstart','click'];_0x1a6d68['forEach'](_0x1dc534=>{const _0x418748=_0x5dab39;document[_0x418748(0x21e)](_0x1dc534,()=>{window['RDL_LAST_ACTIVITY']=Date['now'](),resetIdleTimer();},!![]);}),window[_0x5dab39(0x21e)]('error',function(_0x89d190){const _0x52b421=_0x5dab39;_0x89d190['error']&&(_0x89d190['error']['message']&&_0x89d190['error']['message']['includes'](_0x52b421(0x224))||_0x89d190['error']['code']&&(_0x89d190['error']['code']===_0x52b421(0x220)||_0x89d190['error']['code']==='resource-exhausted'||_0x89d190[_0x52b421(0x20f)]['code']['includes']('network')))&&(handleNetworkError(),_0x89d190[_0x52b421(0x20c)]());}),resetIdleTimer(),console['log']('Idle\x20timeout\x20initialized:',IDLE_TIMEOUT,'ms'),window['suspendSession']=suspendSession,window[_0x5dab39(0x20a)]=resumeSession,enhanceIdleTimeout(),window['checkFirebaseIdleStatus']=function(){const _0xa23183=_0x5dab39;return console[_0xa23183(0x205)](_0xa23183(0x204),window[_0xa23183(0x207)]),console['log']('Network\x20error:',window['RDL_NETWORK_ERROR']),console['log']('Active\x20listeners:',a20_0x223b40['activeListeners']['size']),console['log'](_0xa23183(0x216),a20_0x223b40['pendingOperations']['size']),console['log']('Blocked\x20operations:',a20_0x223b40['blockedOperations']||0x0),{'suspended':window[_0xa23183(0x207)],'networkError':window[_0xa23183(0x1fa)],'activeListeners':Array[_0xa23183(0x200)](a20_0x223b40[_0xa23183(0x1f2)]['keys']()),'pendingOperations':Array['from'](a20_0x223b40['pendingOperations']['keys']()),'blockedCount':a20_0x223b40['blockedOperations']||0x0};},window[_0x5dab39(0x1f1)]=function(){const _0x385c42=_0x5dab39;console[_0x385c42(0x205)]('Forcing\x20idle\x20timeout...'),suspendSession();};}export{initIdleTimeout,isSessionSuspended,handleNetworkError};document['readyState']===a20_0x455c9b(0x1f8)?document['addEventListener'](a20_0x455c9b(0x211),initIdleTimeout):initIdleTimeout();