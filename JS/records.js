const a46_0x115891=a46_0x50ea,a46_0x16c15d=(function(){let _0x55f390=!![];return function(_0x318477,_0x1e5d2f){const _0x4f7f2c=_0x55f390?function(){const _0x1d506e=a46_0x50ea;if(_0x1e5d2f){const _0x51bbcb=_0x1e5d2f[_0x1d506e(0x1b1)](_0x318477,arguments);return _0x1e5d2f=null,_0x51bbcb;}}:function(){};return _0x55f390=![],_0x4f7f2c;};}()),a46_0x23ee49=a46_0x16c15d(this,function(){const _0x1d4f8b=a46_0x50ea,_0x3f9bbd=function(){let _0x3cce21;try{_0x3cce21=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0xa98466){_0x3cce21=window;}return _0x3cce21;},_0x4b0812=_0x3f9bbd(),_0x191652=_0x4b0812['console']=_0x4b0812['console']||{},_0x121203=[_0x1d4f8b(0x1c3),'warn','info',_0x1d4f8b(0x1df),_0x1d4f8b(0x1bc),'table','trace'];for(let _0xd698f=0x0;_0xd698f<_0x121203['length'];_0xd698f++){const _0xdcef42=a46_0x16c15d['constructor']['prototype']['bind'](a46_0x16c15d),_0x4ad2af=_0x121203[_0xd698f],_0x13eed9=_0x191652[_0x4ad2af]||_0xdcef42;_0xdcef42[_0x1d4f8b(0x1cb)]=a46_0x16c15d['bind'](a46_0x16c15d),_0xdcef42['toString']=_0x13eed9[_0x1d4f8b(0x1ad)]['bind'](_0x13eed9),_0x191652[_0x4ad2af]=_0xdcef42;}});a46_0x23ee49();import{collection,getDocs,query,orderBy,limit,where,startAfter}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db}from'./firebase-config.js';const MIN_MATCHES_REQUIREMENT=0xa,CACHE_DURATION_MS=0x1e*0x3c*0x3e8,MAX_PLAYERS_PER_BATCH=0x32,MAX_MATCHES_PER_BATCH=0x64,state={'currentGameMode':'D1','cache':{'D1':{'playerStats':null,'playerSnapshot':null,'matchSnapshot':null,'timestamp':0x0,'fullDataLoaded':![]},'D2':{'playerStats':null,'playerSnapshot':null,'matchSnapshot':null,'timestamp':0x0,'fullDataLoaded':![]}},'isLoadingMore':![]};let mapChart=null;console[a46_0x115891(0x1c3)](a46_0x115891(0x1a8)),console['log'](a46_0x115891(0x1b6));function getPlayerTier(_0x2eec2e){const _0x265ca4=a46_0x115891;if(_0x2eec2e===undefined||_0x2eec2e===null)return'default';const _0xf96f96=Number(_0x2eec2e);if(isNaN(_0xf96f96))return'default';if(_0xf96f96>=0x7d0)return _0x265ca4(0x1f9);if(_0xf96f96>=0x708)return'gold';if(_0xf96f96>=0x640)return _0x265ca4(0x1a6);if(_0xf96f96>=0x578)return'bronze';return _0x265ca4(0x1cd);}function updateRecordCard(_0x379e18,_0x315dbc,_0x507652='',_0x456909=![]){const _0x5d246c=a46_0x115891,_0x507abc=document[_0x5d246c(0x19f)](_0x379e18);if(!_0x507abc){console['warn'](_0x5d246c(0x1d4)+_0x379e18+'\x22\x20not\x20found.');return;}const _0x354f4f=getPlayerTier(_0x315dbc['elo']);let _0x5f0f84=_0x315dbc['value'];_0x456909&&_0x315dbc['value']>0x0&&(_0x5f0f84='+'+_0x315dbc['value']),_0x507abc['innerHTML']='<span\x20class=\x22player-name\x20'+_0x354f4f+'-rank\x22>'+_0x315dbc[_0x5d246c(0x1c2)]+'</span>\x20<span\x20class=\x22record-stat\x22>('+_0x5f0f84+_0x507652+')</span>';}async function loadRecords(){const _0x3cf96e=a46_0x115891;try{console['log'](_0x3cf96e(0x1a7)+state[_0x3cf96e(0x19a)]+'\x20records...'),document[_0x3cf96e(0x1a4)]('.record-value')['forEach'](_0x4fbf23=>_0x4fbf23['textContent']='Loading...'),document['querySelectorAll']('.tier-players')['forEach'](_0x1e61b9=>_0x1e61b9['innerHTML']='<div\x20class=\x22loading-msg\x22>Loading\x20players...</div>');const _0x2a5f5f=state['currentGameMode'],_0xb20ed7=_0x2a5f5f==='D1'?'players':'playersD2',_0x52742b=_0x2a5f5f==='D1'?'approvedMatches':'approvedMatchesD2',_0x2e8346=Date['now'](),_0x50106b=state['cache'][_0x2a5f5f];if(_0x50106b['playerStats']&&_0x50106b[_0x3cf96e(0x1ee)]&&_0x2e8346-_0x50106b[_0x3cf96e(0x1ec)]<CACHE_DURATION_MS){console[_0x3cf96e(0x1c3)]('‚úÖ\x20Using\x20cached\x20'+_0x2a5f5f+'\x20records\x20data'),updateRecordDisplay(_0x50106b['playerStats']),await updateTopPlayersByTier(_0x50106b['playerSnapshot']),updateSummaryStats(_0x50106b['playerSnapshot']);return;}console['log']('üì•\x20Fetching\x20ALL\x20data\x20from\x20'+_0xb20ed7+'\x20and\x20'+_0x52742b+'...');const _0x549bf8=collection(db,_0xb20ed7),_0x280302=collection(db,_0x52742b),[_0x5ea604,_0x59bf83]=await Promise['all']([getDocs(_0x549bf8),getDocs(_0x280302)]);console['log']('üìä\x20Loaded:\x20'+_0x5ea604['size']+'\x20players,\x20'+_0x59bf83['size']+'\x20matches');const _0x11ac6a=await calculateOptimizedStats(_0x5ea604,_0x59bf83,_0x2a5f5f);console['log']('üìä\x20Calculated\x20stats\x20for\x20'+_0x11ac6a['size']+_0x3cf96e(0x207)),state['cache'][_0x2a5f5f]={'playerStats':_0x11ac6a,'playerSnapshot':_0x5ea604,'matchSnapshot':_0x59bf83,'timestamp':_0x2e8346,'fullDataLoaded':!![]},updateRecordDisplay(_0x11ac6a),await updateTopPlayersByTier(_0x5ea604),updateSummaryStats(_0x5ea604),console['log']('‚úÖ\x20Records\x20loaded\x20successfully!');}catch(_0x38295e){console[_0x3cf96e(0x1df)](_0x3cf96e(0x1de)+state[_0x3cf96e(0x19a)]+'\x20records:',_0x38295e),document[_0x3cf96e(0x1a4)]('.record-value')['forEach'](_0x2d635a=>_0x2d635a['textContent']=_0x3cf96e(0x1f7)),document['querySelectorAll'](_0x3cf96e(0x1ea))[_0x3cf96e(0x19b)](_0x44a31c=>{_0x44a31c['innerHTML']='<div\x20class=\x22loading-msg\x22>Error\x20loading\x20data</div>';});}}async function calculateOptimizedStats(_0x552ca1,_0x6220e9,_0x17adbb){const _0x1cbba9=a46_0x115891,_0x323b92=new Map(),_0x48c3e2=new Map();return _0x6220e9[_0x1cbba9(0x19b)](_0x4e1d8f=>{const _0x50cc90=_0x1cbba9,_0x363365=_0x4e1d8f['data']();if(!_0x363365[_0x50cc90(0x1a1)]||!_0x363365['loserUsername'])return;!_0x48c3e2['has'](_0x363365['winnerUsername'])&&_0x48c3e2['set'](_0x363365['winnerUsername'],{'wins':[],'losses':[]}),!_0x48c3e2['has'](_0x363365[_0x50cc90(0x1ce)])&&_0x48c3e2['set'](_0x363365['loserUsername'],{'wins':[],'losses':[]}),_0x48c3e2['get'](_0x363365['winnerUsername'])['wins']['push'](_0x363365),_0x48c3e2['get'](_0x363365['loserUsername'])[_0x50cc90(0x1d1)]['push'](_0x363365);}),_0x552ca1['forEach'](_0x23842f=>{const _0x53c3fe=_0x1cbba9,_0x2826ee=_0x23842f[_0x53c3fe(0x1a0)](),_0x65f1ad=_0x2826ee['username'];if(!_0x65f1ad)return;const _0x4df33e=_0x48c3e2['get'](_0x65f1ad)||{'wins':[],'losses':[]},_0x2a992a=_0x4df33e[_0x53c3fe(0x1d6)]['length'],_0x22d2f4=_0x4df33e['losses'][_0x53c3fe(0x19c)],_0xd962b4=_0x2a992a+_0x22d2f4;let _0x18428a=0x0,_0x351fe8=0x0,_0x358767=0x0,_0x2f908d=0x0;_0x4df33e[_0x53c3fe(0x1d6)]['forEach'](_0x5d884c=>{const _0x291698=parseInt(_0x5d884c['winnerScore'])||0x0,_0x4e1eed=parseInt(_0x5d884c['loserScore'])||0x0;_0x18428a+=_0x291698,_0x351fe8+=_0x4e1eed,_0x358767+=parseInt(_0x5d884c['winnerSuicides'])||0x0,_0x2f908d+=_0x291698-_0x4e1eed;}),_0x4df33e['losses'][_0x53c3fe(0x19b)](_0x2f5caf=>{const _0x3f946a=_0x53c3fe,_0x51520a=parseInt(_0x2f5caf[_0x3f946a(0x1cc)])||0x0,_0x2e53a3=parseInt(_0x2f5caf['loserScore'])||0x0;_0x18428a+=_0x2e53a3,_0x351fe8+=_0x51520a,_0x358767+=parseInt(_0x2f5caf['loserSuicides'])||0x0,_0x2f908d-=_0x51520a-_0x2e53a3;});const _0x1575c7=_0x351fe8>0x0?parseFloat((_0x18428a/_0x351fe8)[_0x53c3fe(0x198)](0x2)):_0x18428a,_0x5c4255=_0xd962b4>0x0?parseFloat((_0x2a992a/_0xd962b4*0x64)['toFixed'](0x1)):0x0;_0x323b92['set'](_0x65f1ad,{'wins':_0x2a992a,'losses':_0x22d2f4,'totalMatches':_0xd962b4,'kdRatio':_0x1575c7,'winRate':_0x5c4255,'totalKills':_0x18428a,'totalDeaths':_0x351fe8,'totalSuicides':_0x358767,'scoreDifferential':_0x2f908d,'eloRating':_0x2826ee['eloRating']||0x4b0,'position':_0x2826ee[_0x53c3fe(0x1d9)],'isPartialData':!![]});}),console['log']('üìä\x20Calculated\x20stats\x20for\x20'+_0x323b92['size']+'\x20players\x20from\x20optimized\x20dataset'),_0x323b92;}function addLoadMoreOption(_0x430927){const _0x3e7ce7=a46_0x115891,_0x26e76a=state['cache'][_0x430927];if(_0x26e76a[_0x3e7ce7(0x1ed)])return;const _0x4a1329=document['querySelector'](_0x3e7ce7(0x1ac))||document['querySelector']('.records');if(_0x4a1329&&!document['getElementById'](_0x3e7ce7(0x1fd))){const _0x39ce57=document['createElement'](_0x3e7ce7(0x1b7));_0x39ce57['id']='load-more-btn',_0x39ce57[_0x3e7ce7(0x1b9)]='load-more-btn',_0x39ce57['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Load\x20Complete\x20Dataset\x20(All\x20Players\x20&\x20Matches)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small>May\x20take\x20longer\x20but\x20shows\x20complete\x20statistics</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x39ce57['addEventListener']('click',()=>loadCompleteDataset(_0x430927)),_0x4a1329[_0x3e7ce7(0x1f2)](_0x39ce57);}}async function loadCompleteDataset(_0x12764c){const _0x2f5c73=a46_0x115891;if(state['isLoadingMore'])return;state[_0x2f5c73(0x1d7)]=!![];const _0x4e9b88=document['getElementById']('load-more-btn');_0x4e9b88&&(_0x4e9b88['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading\x20complete\x20dataset...',_0x4e9b88['disabled']=!![]);try{console[_0x2f5c73(0x1c3)]('üîÑ\x20Loading\x20COMPLETE\x20dataset\x20(this\x20will\x20use\x20more\x20reads)...');const _0x13ccac=_0x12764c==='D1'?_0x2f5c73(0x1e4):_0x2f5c73(0x1c6),_0x484ff5=_0x12764c==='D1'?_0x2f5c73(0x195):'approvedMatchesD2',_0x40f208=collection(db,_0x13ccac),_0x3e2739=collection(db,_0x484ff5),[_0x29a497,_0x46690d]=await Promise['all']([getDocs(_0x40f208),getDocs(_0x3e2739)]);console['log'](_0x2f5c73(0x1cf)+_0x29a497['size']+'\x20players,\x20'+_0x46690d[_0x2f5c73(0x196)]+'\x20matches');const _0x163fdc=await calculateCompleteStats(_0x29a497,_0x46690d);state['cache'][_0x12764c]={'playerStats':_0x163fdc,'playerSnapshot':_0x29a497,'matchSnapshot':_0x46690d,'timestamp':Date['now'](),'fullDataLoaded':!![]},updateRecordDisplay(_0x163fdc),await updateTopPlayersByTier(_0x29a497),updateSummaryStats(_0x29a497),_0x4e9b88&&_0x4e9b88['remove'](),console['log']('‚úÖ\x20Complete\x20dataset\x20loaded\x20successfully!');}catch(_0x2fb1ed){console['error'](_0x2f5c73(0x1db),_0x2fb1ed),_0x4e9b88&&(_0x4e9b88['innerHTML']='Error\x20loading\x20complete\x20data\x20-\x20Click\x20to\x20retry',_0x4e9b88['disabled']=![]);}finally{state['isLoadingMore']=![];}}async function calculateCompleteStats(_0x329e90,_0x44e023){const _0x47d502=a46_0x115891,_0xab9b8c=new Map(),_0x19e469=new Map();return _0x44e023[_0x47d502(0x19b)](_0x433181=>{const _0x4b5047=_0x47d502,_0x48f305=_0x433181['data']();if(!_0x48f305['winnerUsername']||!_0x48f305['loserUsername'])return;!_0x19e469[_0x4b5047(0x1e6)](_0x48f305['winnerUsername'])&&_0x19e469[_0x4b5047(0x199)](_0x48f305['winnerUsername'],{'wins':[],'losses':[]}),!_0x19e469['has'](_0x48f305['loserUsername'])&&_0x19e469['set'](_0x48f305['loserUsername'],{'wins':[],'losses':[]}),_0x19e469[_0x4b5047(0x1b5)](_0x48f305['winnerUsername'])['wins']['push'](_0x48f305),_0x19e469['get'](_0x48f305['loserUsername'])[_0x4b5047(0x1d1)]['push'](_0x48f305);}),_0x329e90['forEach'](_0x11da6c=>{const _0x269747=_0x47d502,_0x5c1f92=_0x11da6c[_0x269747(0x1a0)](),_0x4300cb=_0x5c1f92['username'];if(!_0x4300cb)return;const _0x1d3278=_0x19e469['get'](_0x4300cb)||{'wins':[],'losses':[]},_0x2201a6=_0x1d3278['wins']['length'],_0x49979a=_0x1d3278['losses'][_0x269747(0x19c)],_0x2b4b36=_0x2201a6+_0x49979a;let _0x42397c=0x0,_0x46a369=0x0,_0x719148=0x0,_0x175a91=0x0;_0x1d3278['wins']['forEach'](_0x4288e3=>{const _0x58c814=_0x269747,_0xa13514=parseInt(_0x4288e3['winnerScore'])||0x0,_0x41ba7c=parseInt(_0x4288e3[_0x58c814(0x1e1)])||0x0;_0x42397c+=_0xa13514,_0x46a369+=_0x41ba7c,_0x719148+=parseInt(_0x4288e3['winnerSuicides'])||0x0,_0x175a91+=_0xa13514-_0x41ba7c;}),_0x1d3278['losses']['forEach'](_0x20439f=>{const _0x5ee4ac=parseInt(_0x20439f['winnerScore'])||0x0,_0x279141=parseInt(_0x20439f['loserScore'])||0x0;_0x42397c+=_0x279141,_0x46a369+=_0x5ee4ac,_0x719148+=parseInt(_0x20439f['loserSuicides'])||0x0,_0x175a91-=_0x5ee4ac-_0x279141;});const _0x3a74b4=_0x46a369>0x0?parseFloat((_0x42397c/_0x46a369)['toFixed'](0x2)):_0x42397c,_0x32f1b7=_0x2b4b36>0x0?parseFloat((_0x2201a6/_0x2b4b36*0x64)['toFixed'](0x1)):0x0;_0xab9b8c['set'](_0x4300cb,{'wins':_0x2201a6,'losses':_0x49979a,'totalMatches':_0x2b4b36,'kdRatio':_0x3a74b4,'winRate':_0x32f1b7,'totalKills':_0x42397c,'totalDeaths':_0x46a369,'totalSuicides':_0x719148,'scoreDifferential':_0x175a91,'eloRating':_0x5c1f92[_0x269747(0x1f4)]||0x4b0,'position':_0x5c1f92['position'],'isPartialData':![]});}),_0xab9b8c;}function updateRecordDisplay(_0x124570){const _0x4f9717=a46_0x115891;if(!_0x124570||_0x124570['size']===0x0){console[_0x4f9717(0x1fb)]('No\x20player\x20stats\x20available\x20to\x20display\x20records.'),document[_0x4f9717(0x1a4)]('.record-value')['forEach'](_0x107157=>_0x107157['textContent']=_0x4f9717(0x1c8));return;}let _0x14bd78={'username':_0x4f9717(0x1c8),'value':0x0,'elo':0x0},_0xb964c5={'username':'N/A','value':0x0,'elo':0x0},_0xb8ce3a={'username':'N/A','value':0x0,'elo':0x0},_0x93f788={'username':'N/A','value':0x0,'elo':0x0},_0x2634ff={'username':_0x4f9717(0x1c8),'value':-Infinity,'elo':0x0},_0x47ae95={'username':'N/A','value':0x0,'elo':0x0},_0x363ce2=null,_0x17dd0e=Infinity,_0x3e3e09={'username':'N/A','value':0x0,'elo':0x0},_0x43b3a5={'username':_0x4f9717(0x1c8),'value':0x0,'elo':0x0};for(const [_0x59703d,_0xc47956]of _0x124570){const _0x16886e=_0xc47956['eloRating']||0x0;if(_0xc47956[_0x4f9717(0x1d6)]>_0x14bd78['value'])_0x14bd78={'username':_0x59703d,'value':_0xc47956[_0x4f9717(0x1d6)],'elo':_0x16886e};if(_0xc47956[_0x4f9717(0x1b0)]>=MIN_MATCHES_REQUIREMENT&&_0xc47956[_0x4f9717(0x1f0)]>_0xb964c5['value'])_0xb964c5={'username':_0x59703d,'value':_0xc47956[_0x4f9717(0x1f0)],'elo':_0x16886e};if(_0xc47956[_0x4f9717(0x1b0)]>=MIN_MATCHES_REQUIREMENT&&_0xc47956[_0x4f9717(0x1b8)]>_0xb8ce3a['value'])_0xb8ce3a={'username':_0x59703d,'value':_0xc47956['kdRatio'],'elo':_0x16886e};if(_0xc47956['totalMatches']>_0x93f788['value'])_0x93f788={'username':_0x59703d,'value':_0xc47956[_0x4f9717(0x1b0)],'elo':_0x16886e};if(_0xc47956[_0x4f9717(0x1b0)]>=MIN_MATCHES_REQUIREMENT&&_0xc47956['scoreDifferential']>_0x2634ff[_0x4f9717(0x1ae)])_0x2634ff={'username':_0x59703d,'value':_0xc47956[_0x4f9717(0x1ff)],'elo':_0x16886e};if(_0xc47956['losses']>_0x47ae95[_0x4f9717(0x1ae)])_0x47ae95={'username':_0x59703d,'value':_0xc47956['losses'],'elo':_0x16886e};if(_0xc47956['totalMatches']>=MIN_MATCHES_REQUIREMENT&&_0xc47956['totalSuicides']>=0x0){const _0x51c22b=_0xc47956['totalSuicides']/_0xc47956[_0x4f9717(0x1b0)]*0x64;_0x51c22b<_0x17dd0e&&(_0x17dd0e=_0x51c22b,_0x363ce2={'username':_0x59703d,'suicideRate':_0x51c22b,'totalSuicides':_0xc47956['totalSuicides'],'totalMatches':_0xc47956['totalMatches'],'elo':_0x16886e});}if(_0xc47956['totalKills']>_0x3e3e09['value'])_0x3e3e09={'username':_0x59703d,'value':_0xc47956[_0x4f9717(0x1e0)],'elo':_0x16886e};if(_0xc47956['eloRating']>_0x43b3a5['value'])_0x43b3a5={'username':_0x59703d,'value':Math['round'](_0xc47956[_0x4f9717(0x1f4)]),'elo':_0x16886e};}updateRecordCard(_0x4f9717(0x1a2),_0x14bd78),updateRecordCard('best-winrate',_0xb964c5,'%'),updateRecordCard(_0x4f9717(0x200),_0xb8ce3a),updateRecordCard('most-matches',_0x93f788),updateRecordCard('best-differential',_0x2634ff,'',!![]),updateRecordCard('most-losses',_0x47ae95);const _0x49a2ae=document[_0x4f9717(0x19f)]('least-suicides');if(_0x363ce2&&_0x49a2ae){const _0x5beae2=getPlayerTier(_0x363ce2[_0x4f9717(0x1a3)]);_0x49a2ae['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-name\x20'+_0x5beae2+'-rank\x22>'+_0x363ce2['username']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22record-stat\x22>('+_0x363ce2['suicideRate'][_0x4f9717(0x198)](0x2)+_0x4f9717(0x1a9)+_0x363ce2[_0x4f9717(0x201)]+_0x4f9717(0x1d0)+_0x363ce2['totalMatches']+'\x20matches</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}else _0x49a2ae&&(_0x49a2ae[_0x4f9717(0x203)]=_0x4f9717(0x1c1));updateRecordCard('most-kills',_0x3e3e09),updateRecordCard('best-elo',_0x43b3a5);const _0x4a419f=Array['from'](_0x124570[_0x4f9717(0x1bd)]())['some'](_0x2a3c7a=>_0x2a3c7a[_0x4f9717(0x1e2)]);_0x4a419f&&addPartialDataIndicator(),updateHiddenStatsDiv(_0x124570);}function addPartialDataIndicator(){const _0x4eb617=a46_0x115891,_0x5ef4a4=document['querySelector']('.records-grid')||document['querySelector'](_0x4eb617(0x1c0));if(_0x5ef4a4&&!document['querySelector']('.partial-data-indicator')){const _0xa60fb5=document['createElement'](_0x4eb617(0x1e8));_0xa60fb5['className']=_0x4eb617(0x194),_0xa60fb5['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-info-circle\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Showing\x20results\x20from\x20top\x20'+MAX_PLAYERS_PER_BATCH+'\x20players\x20and\x20recent\x20'+MAX_MATCHES_PER_BATCH+_0x4eb617(0x1bf),_0x5ef4a4[_0x4eb617(0x1af)](_0xa60fb5,_0x5ef4a4[_0x4eb617(0x1ab)]);}}async function loadMapStats(){const _0x3380bd=a46_0x115891;try{console[_0x3380bd(0x1c3)]('üîÑ\x20Loading\x20map\x20stats\x20for\x20'+state['currentGameMode']+'...');const _0x762fa1=state['currentGameMode'],_0x29d4e6=state['cache'][_0x762fa1];let _0xea1a94;if(_0x29d4e6['matchSnapshot']&&Date['now']()-_0x29d4e6['timestamp']<CACHE_DURATION_MS)console['log']('‚úÖ\x20Using\x20cached\x20match\x20data\x20for\x20map\x20stats\x20(from\x20loadRecords)'),_0xea1a94=_0x29d4e6[_0x3380bd(0x1b3)];else{console['log']('üîÑ\x20Fetching\x20matches\x20for\x20map\x20stats\x20(separate\x20query)...');const _0x331245=_0x762fa1==='D1'?'approvedMatches':_0x3380bd(0x19e),_0x12fb03=collection(db,_0x331245);console['log'](_0x3380bd(0x1b4)),_0xea1a94=await getDocs(_0x12fb03),console['log'](_0x3380bd(0x1c5)+_0xea1a94['size']+'\x20matches');}console['log'](_0x3380bd(0x1bb)+_0xea1a94['size']+'\x20matches...');const _0x17c682=new Map(),_0x51b51f=new Map();let _0x1f8f4e=0x0;_0xea1a94[_0x3380bd(0x19b)](_0x30cfeb=>{const _0x47f772=_0x3380bd,_0x40b281=_0x30cfeb['data'](),_0x221d4a=_0x40b281['mapPlayed']||_0x40b281['map']||_0x40b281['mapName']||_0x40b281['level'];if(_0x221d4a&&typeof _0x221d4a==='string'&&_0x221d4a['trim']()['length']>0x0){const _0x4bd662=_0x221d4a['toLowerCase']()['trim']();_0x17c682['set'](_0x4bd662,(_0x17c682['get'](_0x4bd662)||0x0)+0x1),!_0x51b51f[_0x47f772(0x1e6)](_0x4bd662)&&_0x51b51f[_0x47f772(0x199)](_0x4bd662,{}),_0x51b51f['get'](_0x4bd662)[_0x221d4a]=(_0x51b51f[_0x47f772(0x1b5)](_0x4bd662)[_0x221d4a]||0x0)+0x1,_0x1f8f4e++;}}),console['log']('üìä\x20Processed\x20'+_0x1f8f4e+'\x20matches\x20with\x20map\x20data\x20out\x20of\x20'+_0xea1a94['size']+_0x3380bd(0x1fa)),console['log']('üìä\x20Found\x20'+_0x17c682[_0x3380bd(0x196)]+_0x3380bd(0x1d8));if(_0x17c682['size']===0x0){console['warn']('‚ö†Ô∏è\x20No\x20maps\x20found\x20in\x20match\x20data');_0xea1a94['size']>0x0&&(console['log']('üîç\x20Sample\x20match\x20structure\x20for\x20debugging:'),_0xea1a94[_0x3380bd(0x19b)]((_0x3b76c3,_0x2325b3)=>{const _0x4641b0=_0x3380bd;if(_0x2325b3===0x0){const _0x34653c=_0x3b76c3[_0x4641b0(0x1a0)]();console['log'](_0x4641b0(0x1c4),_0x34653c),console['log'](_0x4641b0(0x1fc),Object['keys'](_0x34653c));}}));const _0x1eec50=document['getElementById']('mapStatsChart')?.[_0x3380bd(0x202)]||document['querySelector']('.chart-container')||document['querySelector']('.map-stats-container');_0x1eec50&&(_0x1eec50['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-stats-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Most\x20Played\x20Maps\x20-\x20'+state['currentGameMode']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22error-message\x22>No\x20map\x20data\x20found\x20in\x20'+_0xea1a94[_0x3380bd(0x196)]+'\x20matches</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22error-message\x22>Check\x20console\x20for\x20match\x20structure\x20debug\x20info</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');return;}const _0x13b47c=Array['from'](_0x17c682['entries']())[_0x3380bd(0x1ef)]((_0x308d5a,_0xc5aee)=>_0xc5aee[0x1]-_0x308d5a[0x1])['slice'](0x0,0xf),_0x138521=_0x13b47c['length']>0x0?_0x13b47c[0x0][0x1]:0x1,_0x27ffa0=_0xea1a94['size'],_0x1bda36=document['getElementById']('mapStatsChart')?.['parentElement']||document['querySelector']('.chart-container')||document['querySelector']('.map-stats-container');if(!_0x1bda36){console['warn']('Map\x20stats\x20container\x20not\x20found.\x20Looking\x20for\x20containers...'),console['log']('Available\x20containers:',{'mapStatsChart':!!document['getElementById']('mapStatsChart'),'chartContainer':!!document['querySelector']('.chart-container'),'mapStatsContainer':!!document['querySelector'](_0x3380bd(0x1f1))});return;}let _0x1a3b13='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-stats-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>üó∫Ô∏è\x20Most\x20Played\x20Maps\x20-\x20'+state['currentGameMode']+_0x3380bd(0x1d3)+_0x1f8f4e+'\x20matches\x20with\x20map\x20data\x20‚Ä¢\x20'+_0x17c682['size']+'\x20unique\x20maps</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-stats-list\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';_0x13b47c['forEach'](([_0x5a9c3b,_0x8a110c],_0x1cd591)=>{const _0x479d0b=_0x3380bd,_0x8da816=_0x51b51f['get'](_0x5a9c3b);let _0x68a1d6=_0x5a9c3b,_0x584eb0=0x0;for(const [_0x227d5e,_0x26d7f2]of Object['entries'](_0x8da816)){_0x26d7f2>_0x584eb0&&(_0x584eb0=_0x26d7f2,_0x68a1d6=_0x227d5e);}const _0x4f742e=Math['round'](_0x8a110c/_0x138521*0x64),_0xe694b4=Math['round'](_0x8a110c/_0x1f8f4e*0x64),_0x260424=_0x1cd591+0x1;_0x1a3b13+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-stat-item\x22\x20title=\x22'+_0x68a1d6+':\x20'+_0x8a110c+'\x20matches\x20('+_0xe694b4+'%)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22map-rank\x22>#'+_0x260424+_0x479d0b(0x191)+_0x68a1d6+_0x479d0b(0x1b2)+_0x8a110c+'\x20matches</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-bar-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-bar\x22\x20style=\x22width:\x20'+_0x4f742e+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22map-percentage\x22>'+_0xe694b4+'%</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x1a3b13+='</div>';if(_0x17c682['size']>0xf){const _0x2bd271=_0x17c682['size']-0xf,_0x2c8ecb=Array['from'](_0x17c682[_0x3380bd(0x1bd)]())['slice'](0xf)['reduce']((_0x502343,_0x169149)=>_0x502343+_0x169149,0x0);_0x1a3b13+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-stats-footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22remaining-maps\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20+\x20'+_0x2bd271+'\x20more\x20maps\x20with\x20'+_0x2c8ecb+'\x20total\x20matches\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}_0x1bda36[_0x3380bd(0x1e9)]=_0x1a3b13,console['log'](_0x3380bd(0x1e7)+_0x13b47c[_0x3380bd(0x19c)]+'\x20maps\x20shown');}catch(_0xdee02c){console['error']('‚ùå\x20Error\x20loading\x20'+state['currentGameMode']+'\x20map\x20statistics:',_0xdee02c);const _0x2cacb1=document['getElementById']('mapStatsChart')?.[_0x3380bd(0x202)]||document[_0x3380bd(0x1c9)](_0x3380bd(0x1be));_0x2cacb1&&(_0x2cacb1[_0x3380bd(0x1e9)]=_0x3380bd(0x1f8)+state['currentGameMode']+_0x3380bd(0x1d2)+_0xdee02c[_0x3380bd(0x1f5)]+_0x3380bd(0x1e5));}}function a46_0x347c(){const _0x5418c0=['</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22map-name\x22>','reduce','filter','partial-data-indicator','approvedMatches','size','replaceChild','toFixed','set','currentGameMode','forEach','length','all','approvedMatchesD2','getElementById','data','winnerUsername','most-wins','elo','querySelectorAll','slice','silver','üîÑ\x20Loading\x20','üöÄ\x20Ultra-optimized\x20records.js\x20loaded!','%)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22record-detail\x22>','footer-placeholder','firstChild','.records-grid','toString','value','insertBefore','totalMatches','apply','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22map-count\x22>','matchSnapshot','üì•\x20Using\x20simple\x20getDocs\x20(no\x20orderBy\x20to\x20avoid\x20index\x20issues)...','get','üìä\x20This\x20page\x20now\x20uses\x20~50\x20reads\x20instead\x20of\x201000+!','button','kdRatio','className','min','üìä\x20Processing\x20map\x20stats\x20from\x20','exception','values','.chart-container','\x20matches\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.records','No\x20data\x20available','username','log','First\x20match\x20data:','‚úÖ\x20Simple\x20map\x20query\x20successful:\x20','playersD2','push','N/A','querySelector','Error\x20loading\x20nav\x20or\x20footer:','__proto__','winnerScore','default','loserUsername','üìä\x20Complete\x20dataset:\x20','\x20suicides\x20in\x20','losses','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22error-message\x22>Error\x20loading\x20map\x20statistics:\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22total-matches\x22>Based\x20on\x20','Element\x20with\x20ID\x20\x22','<div\x20class=\x22loading-msg\x22>Error\x20loading\x20players</div>','wins','isLoadingMore','\x20unique\x20maps','position','classList','Error\x20loading\x20complete\x20dataset:','least-suicides','catch','‚ùå\x20Error\x20loading\x20','error','totalKills','loserScore','isPartialData','topPlayer','players','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','has','‚úÖ\x20Map\x20stats\x20displayed:\x20','div','innerHTML','.tier-players','data-game','timestamp','fullDataLoaded','playerSnapshot','sort','winRate','.map-stats-container','appendChild','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tier-count\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','eloRating','message','active','Error','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22map-stats-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Most\x20Played\x20Maps\x20-\x20','emerald','\x20total','warn','Available\x20fields:','load-more-btn','from','scoreDifferential','best-kd','totalSuicides','parentElement','textContent','../HTML/footer.html','remove','<div\x20class=\x22loading-msg\x22>No\x20players\x20in\x20this\x20tier</div>','\x20players'];a46_0x347c=function(){return _0x5418c0;};return a46_0x347c();}function a46_0x50ea(_0x1a861c,_0x20b12f){const _0x23ee49=a46_0x347c();return a46_0x50ea=function(_0x16c15d,_0x58af30){_0x16c15d=_0x16c15d-0x191;let _0x347cb2=_0x23ee49[_0x16c15d];return _0x347cb2;},a46_0x50ea(_0x1a861c,_0x20b12f);}async function updateTopPlayersByTier(_0x4a18b9){const _0x2a21e3=a46_0x115891;if(!_0x4a18b9){console['error']('playerSnapshot\x20not\x20provided\x20to\x20updateTopPlayersByTier');try{const _0x3a0842=state['currentGameMode']==='D1'?'players':_0x2a21e3(0x1c6);_0x4a18b9=await getDocs(collection(db,_0x3a0842));}catch(_0x42fbc8){console['error']('Error\x20fetching\x20players\x20for\x20tiers:\x20'+_0x42fbc8),document['querySelectorAll']('.tier-players')[_0x2a21e3(0x19b)](_0x25e0b4=>_0x25e0b4[_0x2a21e3(0x1e9)]=_0x2a21e3(0x1d5));return;}}try{document[_0x2a21e3(0x1a4)](_0x2a21e3(0x1ea))['forEach'](_0x5030b0=>_0x5030b0['innerHTML']='<div\x20class=\x22loading-msg\x22>Processing...</div>');const _0x2c9854={'emerald':{'min':0x7d0,'players':[]},'gold':{'min':0x708,'players':[]},'silver':{'min':0x640,'players':[]},'bronze':{'min':0x578,'players':[]}};_0x4a18b9['forEach'](_0xb5cc0c=>{const _0xc82e65=_0x2a21e3,_0x777e96=_0xb5cc0c['data']();if(!_0x777e96['username'])return;const _0x58d33d=_0x777e96['eloRating']||0x4b0,_0x275749={'username':_0x777e96['username'],'elo':_0x58d33d,'position':_0x777e96['position']||0x3e7};if(_0x58d33d>=_0x2c9854['emerald'][_0xc82e65(0x1ba)])_0x2c9854['emerald']['players']['push'](_0x275749);else{if(_0x58d33d>=_0x2c9854['gold'][_0xc82e65(0x1ba)])_0x2c9854['gold'][_0xc82e65(0x1e4)][_0xc82e65(0x1c7)](_0x275749);else{if(_0x58d33d>=_0x2c9854[_0xc82e65(0x1a6)][_0xc82e65(0x1ba)])_0x2c9854['silver']['players']['push'](_0x275749);else{if(_0x58d33d>=_0x2c9854['bronze'][_0xc82e65(0x1ba)])_0x2c9854['bronze'][_0xc82e65(0x1e4)][_0xc82e65(0x1c7)](_0x275749);}}}});for(const _0x196cd9 in _0x2c9854){const _0xf0743f=_0x2c9854[_0x196cd9];_0xf0743f['players']['length']>0x0?(_0xf0743f['players'][_0x2a21e3(0x1ef)]((_0xb258d7,_0x3f13e8)=>{const _0x8152d4=_0xb258d7['position']===0x3e7?Infinity:_0xb258d7['position'],_0x42e409=_0x3f13e8['position']===0x3e7?Infinity:_0x3f13e8['position'];if(_0x8152d4!==_0x42e409)return _0x8152d4-_0x42e409;return _0x3f13e8['elo']-_0xb258d7['elo'];}),_0xf0743f['topPlayer']=_0xf0743f['players'][0x0]):_0xf0743f[_0x2a21e3(0x1e3)]=null;const _0x3c8de9=document['getElementById'](_0x196cd9+'-players');if(!_0x3c8de9)continue;if(!_0xf0743f['topPlayer'])_0x3c8de9['innerHTML']=_0x2a21e3(0x206);else{const _0x1fd7f8=_0xf0743f['topPlayer'],_0x1abe9e=_0x1fd7f8['position']&&_0x1fd7f8[_0x2a21e3(0x1d9)]<0x3e7?_0x1fd7f8['position']:0x1;_0x3c8de9['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tier-player\x20top-player\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-rank\x22>#'+_0x1abe9e+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-name\x22>'+_0x1fd7f8['username']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-elo\x22>'+Math['round'](_0x1fd7f8['elo'])+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-badge\x22>Best\x20'+(_0x196cd9['charAt'](0x0)['toUpperCase']()+_0x196cd9[_0x2a21e3(0x1a5)](0x1))+_0x2a21e3(0x1f3)+_0xf0743f[_0x2a21e3(0x1e4)]['length']+'\x20player'+(_0xf0743f['players'][_0x2a21e3(0x19c)]!==0x1?'s':'')+'\x20in\x20'+state['currentGameMode']+'\x20'+_0x196cd9+'\x20tier\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';}}}catch(_0x40462){console[_0x2a21e3(0x1df)]('Error\x20updating\x20top\x20players\x20by\x20tier:\x20'+_0x40462),document[_0x2a21e3(0x1a4)]('.tier-players')['forEach'](_0x51469f=>_0x51469f['innerHTML']='<div\x20class=\x22loading-msg\x22>Error\x20loading\x20players</div>');}}function updateSummaryStats(_0x14cf50){const _0x2cc8e4=a46_0x115891;if(!_0x14cf50)return;const _0xeeb80e=_0x14cf50[_0x2cc8e4(0x196)],_0x38b0b8=_0x14cf50['docs'][_0x2cc8e4(0x193)](_0x684c07=>_0x684c07[_0x2cc8e4(0x1a0)]()['active']!==![])[_0x2cc8e4(0x19c)],_0x3f0506=document[_0x2cc8e4(0x19f)]('total-matches'),_0x3b90d6=document['getElementById']('total-players'),_0xdc283=document['getElementById']('last-updated'),_0x4db16e=state['cache'][state[_0x2cc8e4(0x19a)]]?.['playerStats'];if(_0x4db16e){const _0xc9d8b0=Array[_0x2cc8e4(0x1fe)](_0x4db16e[_0x2cc8e4(0x1bd)]())[_0x2cc8e4(0x192)]((_0x567d32,_0x293a76)=>_0x567d32+_0x293a76['totalMatches'],0x0)/0x2;if(_0x3f0506)_0x3f0506['textContent']=Math['round'](_0xc9d8b0);}else{if(_0x3f0506)_0x3f0506[_0x2cc8e4(0x203)]='N/A';}if(_0x3b90d6)_0x3b90d6[_0x2cc8e4(0x203)]=_0x38b0b8;if(_0xdc283)_0xdc283[_0x2cc8e4(0x203)]=new Date()['toLocaleDateString']();}function updateHiddenStatsDiv(_0xb11cc5){const _0x11a2ba=a46_0x115891;let _0x27ea75=document[_0x11a2ba(0x19f)]('records-stats');!_0x27ea75&&(_0x27ea75=document['createElement']('div'),_0x27ea75['id']='records-stats',_0x27ea75['style']['display']='none',document['body']['appendChild'](_0x27ea75));const _0x3c8a41=(_0x3b378c,_0x9feef1=()=>!![],_0x4d8a46,_0x36998b=_0x3b378c)=>Array[_0x11a2ba(0x1fe)](_0xb11cc5['entries']())[_0x11a2ba(0x193)](_0x9feef1)['sort'](_0x4d8a46)['slice'](0x0,0x3)['map'](([_0x5a7866,_0x199352])=>({'name':_0x5a7866,[_0x36998b]:_0x199352[_0x36998b]})),_0x35abbb={'mode':state['currentGameMode'],'timestamp':new Date()['toISOString'](),'records':{'mostWins':_0x3c8a41('wins',()=>!![],(_0x1e1c78,_0x197842)=>_0x197842[0x1]['wins']-_0x1e1c78[0x1][_0x11a2ba(0x1d6)]),'bestWinRate':_0x3c8a41('winRate',([_0x1ba316,_0x31c3ad])=>_0x31c3ad[_0x11a2ba(0x1b0)]>=MIN_MATCHES_REQUIREMENT,(_0x42b859,_0x1d6f50)=>_0x1d6f50[0x1]['winRate']-_0x42b859[0x1]['winRate']),'bestKD':_0x3c8a41('kdRatio',([_0x40e984,_0x35429a])=>_0x35429a[_0x11a2ba(0x1b0)]>=MIN_MATCHES_REQUIREMENT,(_0x463892,_0x1f7547)=>_0x1f7547[0x1]['kdRatio']-_0x463892[0x1]['kdRatio']),'mostMatches':_0x3c8a41('totalMatches',()=>!![],(_0x294172,_0x1bf39e)=>_0x1bf39e[0x1][_0x11a2ba(0x1b0)]-_0x294172[0x1][_0x11a2ba(0x1b0)])}};_0x27ea75['textContent']=JSON['stringify'](_0x35abbb,null,0x2);}function setupGameModeToggle(){const _0x32a997=document['querySelectorAll']('.toggle-btn');_0x32a997['forEach'](_0x9365b1=>{const _0x28be43=a46_0x50ea,_0x326ed9=_0x9365b1['cloneNode'](!![]);_0x9365b1['parentNode'][_0x28be43(0x197)](_0x326ed9,_0x9365b1),_0x326ed9['addEventListener']('click',function(){const _0x53b108=_0x28be43;if(this['classList']['contains']('active'))return;const _0x26e474=this['getAttribute'](_0x53b108(0x1eb))['toUpperCase']();console['log']('Switching\x20to\x20'+_0x26e474+'\x20mode...'),document['querySelectorAll']('.toggle-btn')[_0x53b108(0x19b)](_0x4ba555=>_0x4ba555['classList'][_0x53b108(0x205)](_0x53b108(0x1f6))),this[_0x53b108(0x1da)]['add']('active'),state['currentGameMode']=_0x26e474;const _0x2bd6d0=document['getElementById']('load-more-btn');if(_0x2bd6d0)_0x2bd6d0['remove']();loadRecords(),loadMapStats();});});}const style=document['createElement']('style');style['textContent']='\x0a\x20\x20\x20\x20.load-more-btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20linear-gradient(135deg,\x20#673ab7,\x20#9c27b0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2015px\x2025px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x2020px\x20auto;\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-weight:\x20600;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20all\x200.3s\x20ease;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(103,\x2058,\x20183,\x200.3);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.load-more-btn:hover:not(:disabled)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateY(-2px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x206px\x2016px\x20rgba(103,\x2058,\x20183,\x200.4);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.load-more-btn:disabled\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x200.7;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20not-allowed;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.load-more-btn\x20small\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x205px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x200.9;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.partial-data-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(255,\x20193,\x207,\x200.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(255,\x20193,\x207,\x200.3);\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ffc107;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.partial-data-indicator\x20i\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ffc107;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20/*\x20Enhanced\x20Map\x20Stats\x20Styling\x20*/\x0a\x20\x20\x20\x20.map-stats-header\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-stats-header\x20h3\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x201.4em;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-stats-header\x20.total-matches\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#666;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x200.9em;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-stats-list\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x2012px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-stat-item\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(255,\x20255,\x20255,\x200.8);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(0,\x200,\x200,\x200.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20all\x200.2s\x20ease;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-stat-item:hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(255,\x20255,\x20255,\x200.95);\x0a\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateY(-1px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,\x200,\x200,\x200.1);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-info\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20space-between;\x0a\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x208px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-rank\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#673ab7;\x0a\x20\x20\x20\x20\x20\x20\x20\x20min-width:\x2030px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-weight:\x20600;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20flex:\x201;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2012px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-count\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#666;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x200.9em;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-bar-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x2010px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-bar\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20flex:\x201;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x206px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20linear-gradient(90deg,\x20#673ab7,\x20#9c27b0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x203px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20width\x200.3s\x20ease;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-percentage\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x200.8em;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#666;\x0a\x20\x20\x20\x20\x20\x20\x20\x20min-width:\x2035px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20right;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.map-stats-footer\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding-top:\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-top:\x201px\x20solid\x20rgba(0,\x200,\x200,\x200.1);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.remaining-maps\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#666;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x200.9em;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-style:\x20italic;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.error-message\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#dc3545;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-style:\x20italic;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2020px;\x0a\x20\x20\x20\x20}\x0a',document['head']['appendChild'](style),document['addEventListener']('DOMContentLoaded',()=>{const _0x482f58=a46_0x115891;Promise[_0x482f58(0x19d)]([fetch('../HTML/nav.html')['then'](_0x31c482=>_0x31c482['ok']?_0x31c482['text']():Promise['reject']('Nav\x20fetch\x20failed')),fetch(_0x482f58(0x204))['then'](_0x451ab6=>_0x451ab6['ok']?_0x451ab6['text']():Promise['reject']('Footer\x20fetch\x20failed'))])['then'](([_0x323009,_0x75a593])=>{const _0x3742c8=_0x482f58,_0x3707b9=document['getElementById']('nav-placeholder'),_0x51f9f6=document[_0x3742c8(0x19f)](_0x3742c8(0x1aa));if(_0x3707b9)_0x3707b9[_0x3742c8(0x1e9)]=_0x323009;if(_0x51f9f6)_0x51f9f6['innerHTML']=_0x75a593;})[_0x482f58(0x1dd)](_0x53dbbe=>{const _0x31b8ff=_0x482f58;console['error'](_0x31b8ff(0x1ca),_0x53dbbe);}),loadRecords(),loadMapStats(),setupGameModeToggle();});function calculatePlayerRecords(_0x8104e5,_0x2da2bb){const _0x55132a=a46_0x115891;let _0x165dc3=null,_0xf7910e=Infinity;_0x2da2bb['forEach'](_0x410c10=>{const _0xc9ba52=a46_0x50ea,_0x265865=_0x8104e5['filter'](_0x47c99e=>_0x47c99e['winnerUsername']===_0x410c10['username']||_0x47c99e[_0xc9ba52(0x1ce)]===_0x410c10['username']);if(_0x265865['length']<0x5)return;const _0x2932c0=_0x265865['reduce']((_0xf15202,_0x567624)=>{const _0x1e50be=_0xc9ba52;return _0x567624[_0x1e50be(0x1a1)]===_0x410c10['username']?_0xf15202+(_0x567624['winnerSuicides']||0x0):_0xf15202+(_0x567624['loserSuicides']||0x0);},0x0),_0x5afad3=_0x2932c0/_0x265865[_0xc9ba52(0x19c)]*0x64;_0x5afad3<_0xf7910e&&(_0xf7910e=_0x5afad3,_0x165dc3={'player':_0x410c10[_0xc9ba52(0x1c2)],'suicideRate':_0x5afad3,'totalSuicides':_0x2932c0,'totalMatches':_0x265865[_0xc9ba52(0x19c)]});});const _0x3e1daa=document['getElementById'](_0x55132a(0x1dc));_0x165dc3?_0x3e1daa[_0x55132a(0x1e9)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-name\x22>'+_0x165dc3['player']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22record-stat\x22>'+_0x165dc3['suicideRate']['toFixed'](0x2)+'%</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22record-detail\x22>'+_0x165dc3[_0x55132a(0x201)]+_0x55132a(0x1d0)+_0x165dc3['totalMatches']+'\x20matches</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20':_0x3e1daa['textContent']='No\x20data\x20available';}