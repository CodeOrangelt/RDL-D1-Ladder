const a32_0x2c31a5=(function(){let _0x26f3d8=!![];return function(_0x404ffd,_0x32de9e){const _0x500848=_0x26f3d8?function(){if(_0x32de9e){const _0x34bbc7=_0x32de9e['apply'](_0x404ffd,arguments);return _0x32de9e=null,_0x34bbc7;}}:function(){};return _0x26f3d8=![],_0x500848;};}()),a32_0x55d30e=a32_0x2c31a5(this,function(){const _0x5417b5=a32_0x16c4,_0x21bee8=function(){const _0x108ec7=a32_0x16c4;let _0x6b5b83;try{_0x6b5b83=Function(_0x108ec7(0x1f3)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x387173){_0x6b5b83=window;}return _0x6b5b83;},_0x16d8c2=_0x21bee8(),_0x39e944=_0x16d8c2[_0x5417b5(0x1f6)]=_0x16d8c2[_0x5417b5(0x1f6)]||{},_0x112a8e=['log','warn','info','error','exception','table','trace'];for(let _0x98c4fb=0x0;_0x98c4fb<_0x112a8e['length'];_0x98c4fb++){const _0x476c46=a32_0x2c31a5['constructor'][_0x5417b5(0x1e5)]['bind'](a32_0x2c31a5),_0x1322d8=_0x112a8e[_0x98c4fb],_0x440b53=_0x39e944[_0x1322d8]||_0x476c46;_0x476c46['__proto__']=a32_0x2c31a5[_0x5417b5(0x1f2)](a32_0x2c31a5),_0x476c46['toString']=_0x440b53['toString'][_0x5417b5(0x1f2)](_0x440b53),_0x39e944[_0x1322d8]=_0x476c46;}});a32_0x55d30e();function a32_0x2866(){const _0x126b44=['totalMatches','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#C0C0C0','now','bold','desc','#CD7F32','totalDeaths','data','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Rank</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Username</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>ELO</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Matches</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Wins</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Losses</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>K/D</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Win\x20Rate</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','toLowerCase','then','country','get','playersD2','D2:\x20Error\x20fetching\x20ELO\x20history:','0.85em','position','%</td>\x0a\x20\x20\x20\x20</tr>','prototype','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','change','innerHTML','visibility','toFixed','push','Error\x20loading\x20D2\x20ladder:','Error\x20fetching\x20batch\x20D2\x20match\x20stats:','fontWeight','find',';\x20text-decoration:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#F44336','bind','return\x20(function()\x20','style','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x228\x22\x20style=\x22text-align:\x20center;\x20color:\x20red;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20D2\x20ladder\x20data:\x20','console','log','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22profile.html?username=','#4CAF50','username','set','gameMode','approvedMatchesD2','Error\x20updating\x20D2\x20ELO\x20trend\x20indicators:','querySelector','.png\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','winnerScore','forEach','previousElo','<img\x20src=\x22../images/flags/','includes','loserScore','toDate','map','eloRating','timestamp','loserUsername','totalKills'];a32_0x2866=function(){return _0x126b44;};return a32_0x2866();}import{collection,getDocs,deleteDoc,doc,getDoc,query,where,updateDoc,Timestamp,onSnapshot,orderBy,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{db}from'./firebase-config.js';import{getRankStyle}from'./ranks.js';import a32_0x3a5b04 from'./firebase-idle-wrapper.js';const playerCacheD2={'data':null,'timestamp':0x0},CACHE_DURATION=0x7530;async function displayLadderD2(_0x2bdeb3=![]){const _0x324765=a32_0x16c4,_0x53cbfd=document[_0x324765(0x1ff)]('#ladder-d2\x20tbody');if(!_0x53cbfd){console['error']('D2\x20Ladder\x20table\x20body\x20not\x20found');return;}_0x53cbfd['innerHTML']='<tr><td\x20colspan=\x228\x22\x20class=\x22loading-cell\x22>Loading\x20D2\x20ladder\x20data...</td></tr>';try{const _0x1430a3=Date['now']();if(!_0x2bdeb3&&playerCacheD2[_0x324765(0x1da)]&&_0x1430a3-playerCacheD2[_0x324765(0x20b)]<CACHE_DURATION){updateLadderDisplayD2(playerCacheD2['data']);return;}const _0x4add82=collection(db,'playersD2'),_0x3b7a93=query(_0x4add82,orderBy(_0x324765(0x1e3),'asc')),_0x261014=await a32_0x3a5b04['getDocuments'](_0x4add82),_0x1582f0=[];_0x261014['forEach'](_0x10294f=>{const _0x72083a=_0x324765,_0x586869=_0x10294f[_0x72083a(0x1da)]();_0x586869['username']&&_0x1582f0[_0x72083a(0x1eb)]({..._0x586869,'id':_0x10294f['id'],'elo':_0x586869[_0x72083a(0x20a)]||0x0,'position':_0x586869['position']||Number['MAX_SAFE_INTEGER']});});const _0x17647c=collection(db,'userProfiles'),_0x339d76=await getDocs(_0x17647c),_0x4c2eeb=new Map();_0x339d76[_0x324765(0x203)](_0x6f263b=>{const _0x1b676f=_0x324765,_0x48588e=_0x6f263b['data']();_0x48588e[_0x1b676f(0x1fa)]&&_0x4c2eeb['set'](_0x48588e['username'][_0x1b676f(0x1dc)](),_0x48588e);});for(const _0x500511 of _0x1582f0){const _0x125da7=_0x500511['username']['toLowerCase']();if(_0x4c2eeb['has'](_0x125da7)){const _0x1b428b=_0x4c2eeb[_0x324765(0x1df)](_0x125da7);_0x1b428b[_0x324765(0x1de)]&&(_0x500511[_0x324765(0x1de)]=_0x1b428b['country']['toLowerCase']());}}const _0xc281d6=_0x1582f0['map'](_0x43c233=>_0x43c233['username']),_0x461df8=await fetchBatchMatchStatsD2(_0xc281d6);_0x1582f0['sort']((_0x3ad1f1,_0x43de59)=>{const _0x1dc118=_0x324765,_0xc5e559=_0x461df8[_0x1dc118(0x1df)](_0x3ad1f1['username'])?.['totalMatches']||0x0,_0xa90d22=_0x461df8[_0x1dc118(0x1df)](_0x43de59['username'])?.['totalMatches']||0x0;if(_0xc5e559===0x0!==(_0xa90d22===0x0))return _0xc5e559===0x0?0x1:-0x1;return(_0x3ad1f1['position']||0x3e7)-(_0x43de59['position']||0x3e7);}),_0x1582f0['forEach']((_0x31f426,_0x5e6850)=>{_0x31f426['position']=_0x5e6850+0x1;}),playerCacheD2[_0x324765(0x1da)]=_0x1582f0,playerCacheD2['timestamp']=_0x1430a3,updateLadderDisplayD2(_0x1582f0);}catch(_0x4d0c5b){console['error'](_0x324765(0x1ec),_0x4d0c5b),_0x53cbfd[_0x324765(0x1e8)]=_0x324765(0x1f5)+_0x4d0c5b['message']+_0x324765(0x1e6);}}function getNextAvailablePositionD2(_0xedeb90){const _0x51c0f4=a32_0x16c4;if(_0xedeb90['length']===0x0)return 0x1;let _0x5ccb9e=0x0;return _0xedeb90[_0x51c0f4(0x203)](_0x1cfafb=>{const _0x22199e=_0x51c0f4;_0x1cfafb['position']&&typeof _0x1cfafb['position']==='number'&&_0x1cfafb['position']>_0x5ccb9e&&(_0x5ccb9e=_0x1cfafb[_0x22199e(0x1e3)]);}),_0x5ccb9e+0x1;}async function updatePlayerPositions(_0x5b1688,_0x3cf446){const _0x3c978b=a32_0x16c4;try{const _0x5c9fa4=collection(db,_0x3c978b(0x1e0)),_0x47a794=await getDocs(_0x5c9fa4),_0x33edf8=[];_0x47a794['forEach'](_0x12dd9a=>{_0x33edf8['push']({'id':_0x12dd9a['id'],..._0x12dd9a['data']()});});const _0x5ce32a=_0x33edf8['find'](_0x14504b=>_0x14504b['username']===_0x5b1688),_0x56c535=_0x33edf8[_0x3c978b(0x1ef)](_0x34a8f2=>_0x34a8f2['username']===_0x3cf446);if(!_0x5ce32a||!_0x56c535){console['error']('Could\x20not\x20find\x20winner\x20or\x20loser\x20in\x20D2\x20players\x20list');return;}if(_0x5ce32a['position']>_0x56c535['position']){const _0x5a1f22=_0x56c535['position'];for(const _0x561987 of _0x33edf8){_0x561987['position']>=_0x56c535['position']&&_0x561987['position']<_0x5ce32a[_0x3c978b(0x1e3)]&&_0x561987['username']!==_0x5b1688&&await updateDoc(doc(db,'playersD2',_0x561987['id']),{'position':_0x561987['position']+0x1});}await updateDoc(doc(db,'playersD2',_0x5ce32a['id']),{'position':_0x5a1f22});if(_0x5a1f22===0x1){const _0x32cfb2=doc(db,'playersD2',_0x5ce32a['id']),_0x1400bf=await getDoc(_0x32cfb2);!_0x1400bf['data']()['firstPlaceDate']&&await updateDoc(_0x32cfb2,{'firstPlaceDate':Timestamp[_0x3c978b(0x1d5)]()});}if(_0x56c535['position']===0x1){const _0x575dbb=doc(db,_0x3c978b(0x1e0),_0x56c535['id']);await updateDoc(_0x575dbb,{'firstPlaceDate':null});}playerCacheD2['timestamp']=0x0;}}catch(_0xc91e83){console['error']('Error\x20updating\x20D2\x20player\x20positions:',_0xc91e83);}}function calculateStreakDays(_0x540c20){const _0x764b16=a32_0x16c4;if(!_0x540c20)return 0x0;const _0x3ada0e=_0x540c20[_0x764b16(0x208)](),_0x3e9deb=new Date(),_0x31b628=Math['abs'](_0x3e9deb-_0x3ada0e);return Math['ceil'](_0x31b628/(0x3e8*0x3c*0x3c*0x18));}function getPlayerRankNameD2(_0x2f28eb){if(_0x2f28eb>=0x834)return'Emerald';if(_0x2f28eb>=0x708)return'Gold';if(_0x2f28eb>=0x640)return'Silver';if(_0x2f28eb>=0x578)return'Bronze';return'Unranked';}async function updateLadderDisplayD2(_0x5dd670){const _0x2b7076=a32_0x16c4;_0x5dd670['sort']((_0x1d05b4,_0x2facdb)=>_0x1d05b4['position']-_0x2facdb['position']);const _0x34eca2=document['querySelector']('#ladder-d2\x20tbody');if(!_0x34eca2)return;_0x34eca2['innerHTML']='';const _0x3eff66=_0x5dd670[_0x2b7076(0x209)](_0x5ec56f=>_0x5ec56f['username']),_0x317adb=await fetchBatchMatchStatsD2(_0x3eff66),_0x3b7d11=document['querySelector']('#ladder-d2\x20thead\x20tr');_0x3b7d11&&(_0x3b7d11['innerHTML']=_0x2b7076(0x1db));const _0x178380=_0x5dd670['map'](_0x11a614=>{const _0x4661d2=_0x2b7076,_0x53c97a=_0x317adb[_0x4661d2(0x1df)](_0x11a614[_0x4661d2(0x1fa)])||{'totalMatches':0x0,'wins':0x0,'losses':0x0,'kda':0x0,'winRate':0x0,'totalKills':0x0,'totalDeaths':0x0};return createPlayerRowD2(_0x11a614,_0x53c97a);})['join']('');_0x34eca2['innerHTML']=_0x178380,getPlayersLastEloChangesD2(_0x3eff66)[_0x2b7076(0x1dd)](_0x2ac8ba=>{const _0x2611e7=_0x2b7076,_0x5101b2=new Map();_0x34eca2['querySelectorAll']('tr')[_0x2611e7(0x203)]((_0x42ac89,_0x58c17f)=>{const _0xce0f61=_0x2611e7;_0x58c17f<_0x3eff66['length']&&_0x5101b2[_0xce0f61(0x1fb)](_0x3eff66[_0x58c17f],_0x42ac89);}),_0x2ac8ba['forEach']((_0x315320,_0x25a532)=>{const _0x2c8e5d=_0x2611e7,_0x4ec5ea=_0x5101b2['get'](_0x25a532);if(_0x4ec5ea&&_0x315320!==0x0){const _0x49dda5=_0x4ec5ea['querySelector']('td:nth-child(3)');if(_0x49dda5){const _0x437080=_0x315320>0x0?'+'+_0x315320:''+_0x315320,_0x14f425=_0x49dda5['querySelector']('.trend-indicator');_0x14f425&&(_0x14f425['textContent']=_0x437080,_0x14f425['style']['color']=_0x315320>0x0?_0x2c8e5d(0x1f9):_0x2c8e5d(0x1f1),_0x14f425[_0x2c8e5d(0x1f4)][_0x2c8e5d(0x1ee)]=_0x2c8e5d(0x1d6),_0x14f425['style']['fontSize']=_0x2c8e5d(0x1e2),_0x14f425['style']['display']='inline',_0x14f425[_0x2c8e5d(0x1f4)][_0x2c8e5d(0x1e9)]='visible',_0x14f425[_0x2c8e5d(0x1f4)]['opacity']='1');}}});})['catch'](_0x548bef=>console['error'](_0x2b7076(0x1fe),_0x548bef));}function createPlayerRowD2(_0x3ac82e,_0x44b54b){const _0x242962=a32_0x16c4,_0x1c9068=parseFloat(_0x3ac82e['elo'])||0x0;let _0x23c5fc='gray';if(_0x1c9068>=0x7d0)_0x23c5fc='#50C878';else{if(_0x1c9068>=0x708)_0x23c5fc='#FFD700';else{if(_0x1c9068>=0x640)_0x23c5fc=_0x242962(0x1d4);else _0x1c9068>=0x578&&(_0x23c5fc=_0x242962(0x1d8));}}let _0x2f792c='';return _0x3ac82e[_0x242962(0x1de)]&&(_0x2f792c=_0x242962(0x205)+_0x3ac82e['country']['toLowerCase']()+_0x242962(0x200)+_0x3ac82e['country']+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22player-flag\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22margin-left:\x205px;\x20vertical-align:\x20middle;\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>'),'\x0a\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x3ac82e[_0x242962(0x1e3)]+_0x242962(0x1f8)+encodeURIComponent(_0x3ac82e['username'])+'&ladder=d2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22color:\x20'+_0x23c5fc+_0x242962(0x1f0)+_0x3ac82e['username']+_0x242962(0x1d3)+_0x2f792c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22color:\x20'+_0x23c5fc+';\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22elo-container\x22\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22elo-value\x22>'+_0x1c9068+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22trend-indicator\x22\x20style=\x22margin-left:\x205px;\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x44b54b[_0x242962(0x1d2)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x44b54b['wins']+_0x242962(0x201)+_0x44b54b['losses']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x44b54b['kda']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x44b54b['winRate']+_0x242962(0x1e4);}async function getPlayersLastEloChangesD2(_0x1ff5af){const _0x5845b6=a32_0x16c4,_0x286a4d=new Map();_0x1ff5af[_0x5845b6(0x203)](_0x5bb7de=>_0x286a4d['set'](_0x5bb7de,0x0));try{const _0x3dc727=collection(db,'eloHistoryD2'),_0x3febd8=query(_0x3dc727,orderBy(_0x5845b6(0x20b),_0x5845b6(0x1d7)),limit(0x64)),_0x262e39=await getDocs(_0x3febd8),_0x40dcda=new Map(),_0x4fa808=await getDocs(collection(db,'playersD2'));_0x4fa808['forEach'](_0x38f455=>{const _0x5582cc=_0x5845b6,_0x590a71=_0x38f455['data']();_0x590a71[_0x5582cc(0x1fa)]&&_0x40dcda['set'](_0x38f455['id'],_0x590a71['username']);});const _0x313b97=new Map();_0x262e39['forEach'](_0x2c02e2=>{const _0x2e9e39=_0x5845b6,_0x6acf81=_0x2c02e2[_0x2e9e39(0x1da)]();let _0x206d46=_0x6acf81[_0x2e9e39(0x1fa)]||_0x6acf81['playerUsername'];!_0x206d46&&_0x6acf81['player']&&_0x40dcda['has'](_0x6acf81['player'])&&(_0x206d46=_0x40dcda['get'](_0x6acf81['player']));if(!_0x206d46&&_0x6acf81['matchId']){}_0x206d46&&_0x1ff5af['includes'](_0x206d46)&&(!_0x313b97['has'](_0x206d46)&&_0x313b97[_0x2e9e39(0x1fb)](_0x206d46,[]),_0x313b97[_0x2e9e39(0x1df)](_0x206d46)['push']({..._0x6acf81,'timestamp':_0x6acf81['timestamp']?.['seconds']||0x0,'username':_0x206d46}));}),_0x313b97['forEach']((_0x464d99,_0x5e1202)=>{const _0x1e0bbf=_0x5845b6;if(_0x464d99['length']>0x0){_0x464d99['sort']((_0x4db6ae,_0x44b566)=>_0x44b566['timestamp']-_0x4db6ae['timestamp']);const _0x1040d0=_0x464d99['find'](_0x1058e4=>_0x1058e4['change']!==undefined||_0x1058e4['newElo']!==undefined&&_0x1058e4[_0x1e0bbf(0x204)]!==undefined);if(_0x1040d0){let _0x23c713;if(_0x1040d0['change']!==undefined)_0x23c713=_0x1040d0['change'];else _0x1040d0['newElo']!==undefined&&_0x1040d0['previousElo']!==undefined&&(_0x23c713=_0x1040d0['newElo']-_0x1040d0['previousElo']);_0x23c713!==undefined&&_0x286a4d[_0x1e0bbf(0x1fb)](_0x5e1202,_0x23c713);}}});if(_0x313b97['size']===0x0){const _0xaf5739=collection(db,'eloHistory'),_0x5d9503=query(_0xaf5739,where(_0x5845b6(0x1fc),'==','D2'),orderBy(_0x5845b6(0x20b),'desc'),limit(0x32));try{const _0x3089dd=await getDocs(_0x5d9503);console['log']('D2:\x20Found',_0x3089dd['size'],'fallback\x20entries'),_0x3089dd[_0x5845b6(0x203)](_0x51475f=>{const _0x563021=_0x5845b6,_0x45dba6=_0x51475f['data'](),_0x504cb0=_0x45dba6['username']||_0x45dba6['playerUsername'];if(_0x504cb0&&_0x1ff5af['includes'](_0x504cb0)){const _0x51deed=_0x45dba6[_0x563021(0x1e7)]||(_0x45dba6['newElo']!==undefined&&_0x45dba6['previousElo']!==undefined?_0x45dba6['newElo']-_0x45dba6[_0x563021(0x204)]:0x0);_0x51deed!==0x0&&(_0x286a4d[_0x563021(0x1fb)](_0x504cb0,_0x51deed),console[_0x563021(0x1f7)]('D2:\x20'+_0x504cb0+'\x20fallback\x20ELO\x20change:\x20'+_0x51deed));}});}catch(_0x4768eb){}}}catch(_0x577277){console['error'](_0x5845b6(0x1e1),_0x577277);}return _0x286a4d;}async function fetchBatchMatchStatsD2(_0x1d8016){const _0x282b61=a32_0x16c4,_0x130672=new Map();try{_0x1d8016['forEach'](_0x47d775=>{_0x130672['set'](_0x47d775,{'totalMatches':0x0,'wins':0x0,'losses':0x0,'totalKills':0x0,'totalDeaths':0x0,'kda':0x0,'winRate':0x0});});const _0x5b76a5=collection(db,_0x282b61(0x1fd)),_0x22c13c=await getDocs(_0x5b76a5);_0x22c13c[_0x282b61(0x203)](_0xff201c=>{const _0x2e2593=_0x282b61,_0x4fcb4d=_0xff201c['data'](),_0x3db467=_0x4fcb4d['winnerUsername'],_0x307212=_0x4fcb4d[_0x2e2593(0x20c)];if(_0x1d8016[_0x2e2593(0x206)](_0x3db467)){const _0x2b3dab=_0x130672['get'](_0x3db467);_0x2b3dab['wins']++,_0x2b3dab[_0x2e2593(0x1d2)]++,_0x2b3dab['totalKills']+=parseInt(_0x4fcb4d[_0x2e2593(0x202)])||0x0,_0x2b3dab['totalDeaths']+=parseInt(_0x4fcb4d['loserScore'])||0x0;}if(_0x1d8016['includes'](_0x307212)){const _0x317293=_0x130672['get'](_0x307212);_0x317293['losses']++,_0x317293['totalMatches']++,_0x317293[_0x2e2593(0x20d)]+=parseInt(_0x4fcb4d[_0x2e2593(0x207)])||0x0,_0x317293[_0x2e2593(0x1d9)]+=parseInt(_0x4fcb4d['winnerScore'])||0x0;}}),_0x1d8016['forEach'](_0x1434ee=>{const _0x473d19=_0x282b61,_0x522ce5=_0x130672[_0x473d19(0x1df)](_0x1434ee);_0x522ce5['kda']=_0x522ce5['totalDeaths']>0x0?(_0x522ce5['totalKills']/_0x522ce5['totalDeaths'])['toFixed'](0x2):_0x522ce5['totalKills'][_0x473d19(0x1ea)](0x2),_0x522ce5['winRate']=_0x522ce5[_0x473d19(0x1d2)]>0x0?(_0x522ce5['wins']/_0x522ce5['totalMatches']*0x64)['toFixed'](0x1):0x0;});}catch(_0x371ed7){console['error'](_0x282b61(0x1ed),_0x371ed7);}return _0x130672;}function a32_0x16c4(_0x8b6887,_0x96baca){const _0x55d30e=a32_0x2866();return a32_0x16c4=function(_0x2c31a5,_0x3dd067){_0x2c31a5=_0x2c31a5-0x1d2;let _0x2866b5=_0x55d30e[_0x2c31a5];return _0x2866b5;},a32_0x16c4(_0x8b6887,_0x96baca);}export{displayLadderD2,updatePlayerPositions};