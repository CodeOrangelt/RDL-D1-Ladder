const a20_0x34a2f5=a20_0x53d6,a20_0x24b45e=(function(){let _0x15d1c9=!![];return function(_0x34b0f3,_0x3553b8){const _0x44562d=_0x15d1c9?function(){const _0x534e8d=a20_0x53d6;if(_0x3553b8){const _0x522577=_0x3553b8[_0x534e8d(0xaf)](_0x34b0f3,arguments);return _0x3553b8=null,_0x522577;}}:function(){};return _0x15d1c9=![],_0x44562d;};}()),a20_0x56b379=a20_0x24b45e(this,function(){const _0x2f9186=a20_0x53d6;let _0xdc10f6;try{const _0x1ac851=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0xdc10f6=_0x1ac851();}catch(_0x511a79){_0xdc10f6=window;}const _0x2e10ee=_0xdc10f6[_0x2f9186(0xb1)]=_0xdc10f6['console']||{},_0x5bad4a=['log',_0x2f9186(0xab),'info','error','exception','table','trace'];for(let _0x346c20=0x0;_0x346c20<_0x5bad4a['length'];_0x346c20++){const _0x4abf5a=a20_0x24b45e['constructor']['prototype']['bind'](a20_0x24b45e),_0x5d913e=_0x5bad4a[_0x346c20],_0x5ccc15=_0x2e10ee[_0x5d913e]||_0x4abf5a;_0x4abf5a['__proto__']=a20_0x24b45e[_0x2f9186(0xaa)](a20_0x24b45e),_0x4abf5a[_0x2f9186(0xb8)]=_0x5ccc15['toString']['bind'](_0x5ccc15),_0x2e10ee[_0x5d913e]=_0x4abf5a;}});a20_0x56b379();import{collection as a20_0x380ab4,doc as a20_0x26149f,getDoc as a20_0x434530,getDocs as a20_0x1a40b7,query as a20_0x5167c3,where as a20_0x48c32b,orderBy as a20_0x654bbd,limit as a20_0x142f2e,startAfter as a20_0x58e6e1,addDoc as a20_0x2cdaf1,updateDoc as a20_0x197271,deleteDoc as a20_0xd85efd,writeBatch as a20_0x47f485,serverTimestamp as a20_0x372b3d,Timestamp as a20_0x535a84,getCountFromServer as a20_0x1a2402,setDoc as a20_0x5bc3a7,enableNetwork,disableNetwork}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';function a20_0x2a6b(){const _0x5b7cd1=['rdlFirestore','Caught\x20network\x20error:','bind','warn','network','Network\x20connection\x20error.\x20Please\x20check\x20your\x20internet\x20connection.','code','apply','log','console','message','network-error','Network-related\x20error\x20detected,\x20suspending\x20operations','Firestore\x20operation\x20failed:','string','now','toString','error','length','preventDefault','RDL_NETWORK_ERROR','resource-exhausted'];a20_0x2a6b=function(){return _0x5b7cd1;};return a20_0x2a6b();}function a20_0x53d6(_0x223fb6,_0x4b02dd){const _0x56b379=a20_0x2a6b();return a20_0x53d6=function(_0x24b45e,_0x1b015f){_0x24b45e=_0x24b45e-0xa8;let _0x2a6bce=_0x56b379[_0x24b45e];return _0x2a6bce;},a20_0x53d6(_0x223fb6,_0x4b02dd);}import{db}from'./firebase-config.js';import{handleNetworkError}from'./idle-timeout.js';function checkSessionStatus(){const _0x215d80=a20_0x53d6;if(window['RDL_SESSION_SUSPENDED']){console[_0x215d80(0xab)]('Firestore\x20operation\x20blocked\x20-\x20session\x20suspended');const _0x5c7b0a=new Error('Session\x20suspended\x20due\x20to\x20inactivity.\x20Please\x20resume\x20your\x20session.');_0x5c7b0a['code']='session-suspended';throw _0x5c7b0a;}if(window[_0x215d80(0xbc)]){console['warn']('Firestore\x20operation\x20blocked\x20-\x20network\x20error');const _0x2de97b=new Error(_0x215d80(0xad));_0x2de97b['code']='network-error';throw _0x2de97b;}}async function handleFirestoreError(_0x26a19d){const _0xae2d55=a20_0x53d6;console['error'](_0xae2d55(0xb5),_0x26a19d);if(_0x26a19d&&(_0x26a19d['code']==='unavailable'||_0x26a19d['code']===_0xae2d55(0xbd)||_0x26a19d['message']&&_0x26a19d['message']['includes']('network')||_0x26a19d[_0xae2d55(0xae)]&&_0x26a19d['code']['includes']('network')))return console['warn'](_0xae2d55(0xb4)),handleNetworkError(),!![];return![];}export const rdlFirestore={'collection':function(){const _0x3eae5a=a20_0x53d6;if(arguments['length']===0x1){if(typeof arguments[0x0]==='string')return a20_0x380ab4(db,arguments[0x0]);return arguments[0x0];}else{if(arguments[_0x3eae5a(0xba)]===0x2&&arguments[0x0]===db&&typeof arguments[0x1]==='string')return a20_0x380ab4(db,arguments[0x1]);}return a20_0x380ab4['apply'](null,arguments);},'doc':function(){const _0x2b3039=a20_0x53d6;if(arguments[_0x2b3039(0xba)]===0x2){if(typeof arguments[0x0]===_0x2b3039(0xb6)&&typeof arguments[0x1]==='string')return a20_0x26149f(db,arguments[0x0],arguments[0x1]);return a20_0x26149f[_0x2b3039(0xaf)](null,arguments);}else{if(arguments['length']===0x3&&arguments[0x0]===db)return a20_0x26149f['apply'](null,arguments);}return a20_0x26149f[_0x2b3039(0xaf)](null,arguments);},'query':function(){return a20_0x5167c3['apply'](null,arguments);},'where':function(){return a20_0x48c32b['apply'](null,arguments);},'orderBy':function(){const _0x1dba3b=a20_0x53d6;return a20_0x654bbd[_0x1dba3b(0xaf)](null,arguments);},'limit':function(_0x39bbf0){return a20_0x142f2e(_0x39bbf0);},'startAfter':function(_0x2d9f96){return a20_0x58e6e1(_0x2d9f96);},'getDoc':async function(_0x32b031){try{return checkSessionStatus(),await a20_0x434530(_0x32b031);}catch(_0x4126c0){const _0x1222bd=await handleFirestoreError(_0x4126c0);_0x1222bd&&(_0x4126c0['code']='network-error');throw _0x4126c0;}},'getDocs':async function(_0x3c3880){const _0x215e8=a20_0x53d6;try{return checkSessionStatus(),await a20_0x1a40b7(_0x3c3880);}catch(_0xab6998){const _0x455d64=await handleFirestoreError(_0xab6998);_0x455d64&&(_0xab6998['code']=_0x215e8(0xb3));throw _0xab6998;}},'getCountFromServer':async function(_0x17d9d4){try{return checkSessionStatus(),await a20_0x1a2402(_0x17d9d4);}catch(_0x39f1e7){const _0x4e2572=await handleFirestoreError(_0x39f1e7);_0x4e2572&&(_0x39f1e7['code']='network-error');throw _0x39f1e7;}},'addDoc':async function(_0x1ce58f,_0x1004f3){const _0x33a354=a20_0x53d6;try{return checkSessionStatus(),await a20_0x2cdaf1(_0x1ce58f,_0x1004f3);}catch(_0x261113){const _0x458655=await handleFirestoreError(_0x261113);_0x458655&&(_0x261113['code']=_0x33a354(0xb3));throw _0x261113;}},'setDoc':async function(_0x42694d,_0x102f65,_0x5dbc76){const _0x44a14e=a20_0x53d6;try{return checkSessionStatus(),await a20_0x5bc3a7(_0x42694d,_0x102f65,_0x5dbc76);}catch(_0x45b624){const _0x5b20db=await handleFirestoreError(_0x45b624);_0x5b20db&&(_0x45b624[_0x44a14e(0xae)]='network-error');throw _0x45b624;}},'updateDoc':async function(_0x4a6c71,_0xab405c){const _0x2d679f=a20_0x53d6;try{return checkSessionStatus(),await a20_0x197271(_0x4a6c71,_0xab405c);}catch(_0x3c897e){const _0xb1a891=await handleFirestoreError(_0x3c897e);_0xb1a891&&(_0x3c897e[_0x2d679f(0xae)]=_0x2d679f(0xb3));throw _0x3c897e;}},'deleteDoc':async function(_0xec321a){const _0x16f304=a20_0x53d6;try{return checkSessionStatus(),await a20_0xd85efd(_0xec321a);}catch(_0x1ef28e){const _0x435ac6=await handleFirestoreError(_0x1ef28e);_0x435ac6&&(_0x1ef28e['code']=_0x16f304(0xb3));throw _0x1ef28e;}},'writeBatch':function(){const _0x5c7d7a=a20_0x53d6;checkSessionStatus();const _0x529f2e=a20_0x47f485(db),_0x4639b5=_0x529f2e['commit'][_0x5c7d7a(0xaa)](_0x529f2e);return _0x529f2e['commit']=async function(){const _0x28e876=_0x5c7d7a;try{return checkSessionStatus(),await _0x4639b5();}catch(_0x29de69){const _0x50935d=await handleFirestoreError(_0x29de69);_0x50935d&&(_0x29de69[_0x28e876(0xae)]='network-error');throw _0x29de69;}},_0x529f2e;},'serverTimestamp':function(){return a20_0x372b3d();},'Timestamp':{'now':function(){const _0x14314a=a20_0x53d6;return a20_0x535a84[_0x14314a(0xb7)]();},'fromDate':function(_0x510bcb){return a20_0x535a84['fromDate'](_0x510bcb);}},'enableNetwork':async function(){try{return await enableNetwork(db);}catch(_0x4cf6da){console['error']('Failed\x20to\x20enable\x20network:',_0x4cf6da);throw _0x4cf6da;}},'disableNetwork':async function(){const _0x797866=a20_0x53d6;try{return await disableNetwork(db);}catch(_0x121b40){console[_0x797866(0xb9)]('Failed\x20to\x20disable\x20network:',_0x121b40);throw _0x121b40;}}};window['addEventListener'](a20_0x34a2f5(0xb9),function(_0x14d8cb){const _0x40c8f7=a20_0x34a2f5;if(_0x14d8cb['error']){if(_0x14d8cb['error']['code']==='session-suspended')_0x14d8cb['preventDefault'](),console['log']('Caught\x20session\x20suspended\x20error:',_0x14d8cb[_0x40c8f7(0xb9)]['message']);else(_0x14d8cb['error']['code']==='unavailable'||_0x14d8cb['error']['code']==='resource-exhausted'||_0x14d8cb['error']['message']&&_0x14d8cb['error']['message']['includes'](_0x40c8f7(0xac))||_0x14d8cb[_0x40c8f7(0xb9)]['code']&&_0x14d8cb[_0x40c8f7(0xb9)]['code']['includes']('network'))&&(_0x14d8cb[_0x40c8f7(0xbb)](),console['log'](_0x40c8f7(0xa9),_0x14d8cb['error'][_0x40c8f7(0xb2)]),handleNetworkError());}}),window[a20_0x34a2f5(0xa8)]=rdlFirestore,console[a20_0x34a2f5(0xb0)]('Firestore\x20wrapper\x20initialized\x20with\x20session\x20checking\x20and\x20network\x20error\x20handling');