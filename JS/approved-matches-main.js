const a6_0x470df5=a6_0x5aae;function a6_0x5aae(_0x4aa8da,_0x17ed78){const _0x59871d=a6_0x5b1f();return a6_0x5aae=function(_0x3c7e3d,_0x5278c2){_0x3c7e3d=_0x3c7e3d-0x137;let _0x11a6f8=_0x59871d[_0x3c7e3d];return _0x11a6f8;},a6_0x5aae(_0x4aa8da,_0x17ed78);}(function(_0x13eef2,_0x333cf5){const _0xd13d03=a6_0x5aae,_0x1b8e90=_0x13eef2();while(!![]){try{const _0x15f5df=-parseInt(_0xd13d03(0x253))/0x1+-parseInt(_0xd13d03(0x1db))/0x2*(parseInt(_0xd13d03(0x1eb))/0x3)+parseInt(_0xd13d03(0x23a))/0x4+-parseInt(_0xd13d03(0x211))/0x5*(-parseInt(_0xd13d03(0x18c))/0x6)+-parseInt(_0xd13d03(0x15c))/0x7*(parseInt(_0xd13d03(0x1af))/0x8)+-parseInt(_0xd13d03(0x208))/0x9*(-parseInt(_0xd13d03(0x1f5))/0xa)+parseInt(_0xd13d03(0x146))/0xb;if(_0x15f5df===_0x333cf5)break;else _0x1b8e90['push'](_0x1b8e90['shift']());}catch(_0x40eb16){_0x1b8e90['push'](_0x1b8e90['shift']());}}}(a6_0x5b1f,0xa9784));const a6_0x3ca4f6=(function(){let _0x47cbbf=!![];return function(_0x554a87,_0xd5ee5c){const _0x4c0eae=_0x47cbbf?function(){if(_0xd5ee5c){const _0x31bb47=_0xd5ee5c['apply'](_0x554a87,arguments);return _0xd5ee5c=null,_0x31bb47;}}:function(){};return _0x47cbbf=![],_0x4c0eae;};}()),a6_0x1be67e=a6_0x3ca4f6(this,function(){const _0x47f5bb=a6_0x5aae;return a6_0x1be67e[_0x47f5bb(0x24a)]()[_0x47f5bb(0x187)](_0x47f5bb(0x22c))[_0x47f5bb(0x24a)]()[_0x47f5bb(0x1fd)](a6_0x1be67e)['search'](_0x47f5bb(0x22c));});a6_0x1be67e();const a6_0x5278c2=(function(){let _0xf71452=!![];return function(_0x155022,_0x445604){const _0x456075=_0xf71452?function(){const _0x3df754=a6_0x5aae;if(_0x445604){const _0x419f9c=_0x445604[_0x3df754(0x137)](_0x155022,arguments);return _0x445604=null,_0x419f9c;}}:function(){};return _0xf71452=![],_0x456075;};}()),a6_0x3c7e3d=a6_0x5278c2(this,function(){const _0xb0faff=a6_0x5aae;let _0xebc751;try{const _0x1c979f=Function(_0xb0faff(0x150)+_0xb0faff(0x271)+');');_0xebc751=_0x1c979f();}catch(_0x4ec5dc){_0xebc751=window;}const _0x42ae98=_0xebc751[_0xb0faff(0x1a2)]=_0xebc751[_0xb0faff(0x1a2)]||{},_0x1421d3=[_0xb0faff(0x206),'warn','info',_0xb0faff(0x267),_0xb0faff(0x1ec),'table',_0xb0faff(0x19c)];for(let _0x45efe9=0x0;_0x45efe9<_0x1421d3[_0xb0faff(0x213)];_0x45efe9++){const _0x528312=a6_0x5278c2[_0xb0faff(0x1fd)][_0xb0faff(0x16b)][_0xb0faff(0x1f6)](a6_0x5278c2),_0xb1c46b=_0x1421d3[_0x45efe9],_0x4df34f=_0x42ae98[_0xb1c46b]||_0x528312;_0x528312[_0xb0faff(0x1b0)]=a6_0x5278c2[_0xb0faff(0x1f6)](a6_0x5278c2),_0x528312['toString']=_0x4df34f[_0xb0faff(0x24a)][_0xb0faff(0x1f6)](_0x4df34f),_0x42ae98[_0xb1c46b]=_0x528312;}});a6_0x3c7e3d();import{collection,getDocs,addDoc,query,orderBy,limit,startAfter,Timestamp,serverTimestamp,getDoc,doc,where,deleteDoc}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const mutedUsers=[{'username':'Daz','muteFromDate':new Date('2025-07-02')['getTime']()}];function isUsernameMuted(_0x59a566,_0x5ec0f8){const _0x3833fe=a6_0x5aae;if(!_0x59a566)return![];const _0x20dde3=mutedUsers[_0x3833fe(0x1e5)](_0x5c2f3d=>_0x5c2f3d[_0x3833fe(0x21b)]===_0x59a566);if(!_0x20dde3)return![];if(!_0x5ec0f8)return!![];const _0x5e6c0b=_0x5ec0f8 instanceof Date?_0x5ec0f8[_0x3833fe(0x148)]():_0x5ec0f8[_0x3833fe(0x1c6)]?_0x5ec0f8[_0x3833fe(0x1c6)]*0x3e8:Date[_0x3833fe(0x242)]();return _0x5e6c0b>=_0x20dde3['muteFromDate'];}function filterComment(_0x63a0de,_0x420bec,_0x2ac5f1){const _0xd46d7a=a6_0x5aae;if(!_0x63a0de)return'-';if(isUsernameMuted(_0x420bec,_0x2ac5f1))return _0xd46d7a(0x229);return _0x63a0de;}const previewState={'currentMode':'D1','currentPage':0x1,'matchesPerPage':0x5,'lastVisible':null,'firstVisible':null,'isLoading':![],'filterUsername':'','enhancedFilters':{'pilots':'','levels':'','subgames':[]},'totalPages':0x1,'hasReachedEnd':![]};function getCacheKey(_0x141a4e,_0x1ce2e3,_0x3c433a){const _0x42f634=a6_0x5aae,_0x40a225='u:'+(_0x3c433a[_0x42f634(0x288)]||'');return'previewCache_'+_0x141a4e+'_p'+_0x1ce2e3+'_'+_0x40a225;}function getCachedPage(_0x5d47d0){const _0x38805b=a6_0x5aae,_0x3f5b8f=sessionStorage[_0x38805b(0x24d)](_0x5d47d0);if(_0x3f5b8f)try{return JSON[_0x38805b(0x156)](_0x3f5b8f);}catch(_0x4aaa41){return console[_0x38805b(0x267)](_0x38805b(0x1df),_0x4aaa41),sessionStorage[_0x38805b(0x153)](_0x5d47d0),null;}return null;}function cachePage(_0x1f495f,_0x411cde){const _0x370853=a6_0x5aae;try{sessionStorage[_0x370853(0x139)](_0x1f495f,JSON['stringify'](_0x411cde));}catch(_0x15e72a){console[_0x370853(0x267)](_0x370853(0x282),_0x15e72a);}}function getEloColor(_0x147bd5){const _0x3816d2=a6_0x5aae,_0x14a380=Number(_0x147bd5);if(_0x14a380>=0x7d0)return'#50C878';else{if(_0x14a380>=0x708)return'#FFD700';else{if(_0x14a380>=0x640)return _0x3816d2(0x233);else{if(_0x14a380>=0x578)return _0x3816d2(0x185);else return _0x3816d2(0x263);}}}}function formatDate(_0x1fdebd,_0x2039b3=![]){const _0x49a5a1=a6_0x5aae;if(!_0x1fdebd||!_0x1fdebd[_0x49a5a1(0x1c6)])return'N/A';const _0x4a95e2=new Date(_0x1fdebd['seconds']*0x3e8);return _0x2039b3?_0x4a95e2[_0x49a5a1(0x147)]():_0x4a95e2[_0x49a5a1(0x1d7)]();}function truncateComment(_0x3a4be1,_0x1383ac=0x1e){const _0x422850=a6_0x5aae;if(!_0x3a4be1)return'-';if(_0x3a4be1[_0x422850(0x213)]<=_0x1383ac)return _0x3a4be1;return _0x3a4be1[_0x422850(0x199)](0x0,_0x1383ac)+_0x422850(0x27f);}function formatCommentDate(_0x20f88b){const _0x494a96=a6_0x5aae;if(!_0x20f88b||!_0x20f88b[_0x494a96(0x1c6)])return'';const _0x220e12=new Date(_0x20f88b[_0x494a96(0x1c6)]*0x3e8),_0x5ca4df=new Date(),_0xa6849c=Math[_0x494a96(0x1e8)](_0x5ca4df-_0x220e12),_0x2a2fab=Math[_0x494a96(0x20d)](_0xa6849c/(0x3e8*0x3c*0x3c*0x18));if(_0x2a2fab===0x0)return _0x494a96(0x27e);else{if(_0x2a2fab===0x1)return _0x494a96(0x1c9);else return _0x2a2fab<0x7?_0x2a2fab+_0x494a96(0x138):_0x220e12[_0x494a96(0x1d7)]();}}function setLoadingIndicator(_0x22de7a){const _0x33134d=a6_0x5aae,_0x26d226=document['getElementById'](_0x33134d(0x194));if(_0x26d226)_0x26d226[_0x33134d(0x236)][_0x33134d(0x14f)]=_0x22de7a?_0x33134d(0x152):_0x33134d(0x1bf);}export function updatePreviewLadderModeUI(){const _0x2e85df=a6_0x5aae,_0x49f04d=document['getElementById'](_0x2e85df(0x19f)),_0x34e03c=document['getElementById'](_0x2e85df(0x214)),_0x1a3358=document[_0x2e85df(0x26f)](_0x2e85df(0x20a)),_0x30e295=document['getElementById']('preview-d3-button');if(_0x49f04d)_0x49f04d['textContent']=previewState[_0x2e85df(0x23d)];if(_0x34e03c)_0x34e03c[_0x2e85df(0x1f4)][_0x2e85df(0x221)](_0x2e85df(0x224),previewState['currentMode']==='D1');if(_0x1a3358)_0x1a3358[_0x2e85df(0x1f4)][_0x2e85df(0x221)](_0x2e85df(0x224),previewState['currentMode']==='D2');if(_0x30e295)_0x30e295[_0x2e85df(0x1f4)][_0x2e85df(0x221)](_0x2e85df(0x224),previewState[_0x2e85df(0x23d)]==='D3');}function updatePreviewPaginationControls(_0x6f9d03){const _0x3cac9a=a6_0x5aae,_0x1aa574=document[_0x3cac9a(0x26f)](_0x3cac9a(0x1c8)),_0x4120a2=document[_0x3cac9a(0x26f)](_0x3cac9a(0x1be)),_0x17d87b=document[_0x3cac9a(0x26f)](_0x3cac9a(0x1b4));if(!_0x1aa574||!_0x4120a2||!_0x17d87b)return;_0x17d87b[_0x3cac9a(0x155)]=_0x3cac9a(0x172)+previewState[_0x3cac9a(0x250)],_0x1aa574['disabled']=previewState[_0x3cac9a(0x250)]<=0x1,_0x4120a2['disabled']=!_0x6f9d03;}function setPreviewLoadingState(_0x4a4032){const _0x3b79e2=a6_0x5aae;previewState[_0x3b79e2(0x1e2)]=_0x4a4032,setLoadingIndicator(_0x4a4032);const _0xb0b370=document[_0x3b79e2(0x26f)]('recent-matches-preview'),_0x10e1b2=_0xb0b370?_0xb0b370[_0x3b79e2(0x183)](_0x3b79e2(0x14a)):null,_0x446b32=document[_0x3b79e2(0x26f)](_0x3b79e2(0x1c8)),_0x2d223e=document[_0x3b79e2(0x26f)](_0x3b79e2(0x1be)),_0x1acd70=document[_0x3b79e2(0x26f)](_0x3b79e2(0x214)),_0x165e9c=document[_0x3b79e2(0x26f)]('preview-d2-button'),_0x1b2dd3=document[_0x3b79e2(0x26f)]('applyFilterBtn'),_0xe13ba4=document['getElementById'](_0x3b79e2(0x181));if(_0x10e1b2&&!_0x4a4032)_0x10e1b2['style'][_0x3b79e2(0x14f)]=_0x3b79e2(0x1bf);else _0x10e1b2&&_0x4a4032&&(_0x10e1b2[_0x3b79e2(0x236)][_0x3b79e2(0x14f)]=_0x3b79e2(0x152));!_0x4a4032&&_0xb0b370&&!_0xb0b370[_0x3b79e2(0x183)]('.match-card')&&!_0xb0b370[_0x3b79e2(0x183)](_0x3b79e2(0x1dd))&&(_0xb0b370[_0x3b79e2(0x21c)]=_0x3b79e2(0x21e)+(previewState[_0x3b79e2(0x288)]?_0x3b79e2(0x1da):'')+'.</div>');if(_0x446b32)_0x446b32[_0x3b79e2(0x1c5)]=_0x4a4032||previewState[_0x3b79e2(0x250)]<=0x1;if(_0x2d223e)_0x2d223e['disabled']=_0x4a4032;if(_0x1acd70)_0x1acd70['disabled']=_0x4a4032;if(_0x165e9c)_0x165e9c[_0x3b79e2(0x1c5)]=_0x4a4032;if(_0x1b2dd3)_0x1b2dd3[_0x3b79e2(0x1c5)]=_0x4a4032;if(_0xe13ba4)_0xe13ba4[_0x3b79e2(0x1c5)]=_0x4a4032;}function applyClientFilters(_0x5648da){const _0x25b1ab=a6_0x5aae;if(!previewState['filterUsername'])return _0x5648da;const _0x148004=previewState['filterUsername'][_0x25b1ab(0x20c)]();return _0x5648da[_0x25b1ab(0x1a4)](_0x3f8c54=>{const _0x5bfd02=_0x25b1ab,_0x21dafc=(_0x3f8c54[_0x5bfd02(0x1a3)]||'')['toLowerCase'](),_0x5ef57a=(_0x3f8c54[_0x5bfd02(0x176)]||'')['toLowerCase']();return _0x21dafc[_0x5bfd02(0x1f8)](_0x148004)||_0x5ef57a[_0x5bfd02(0x1f8)](_0x148004);});}function applyEnhancedClientFilters(_0x12af71){const _0x48ccb0=a6_0x5aae;if(!hasEnhancedFilters())return _0x12af71;return _0x12af71[_0x48ccb0(0x1a4)](_0x4da029=>{const _0x2bc740=_0x48ccb0;if(previewState[_0x2bc740(0x207)]['pilots']){const _0x272e5c=previewState[_0x2bc740(0x207)]['pilots']['toLowerCase'](),_0x44f03c=(_0x4da029[_0x2bc740(0x1a3)]||'')[_0x2bc740(0x20c)](),_0xdd5044=(_0x4da029['loserUsername']||'')[_0x2bc740(0x20c)]();if(!_0x44f03c[_0x2bc740(0x1f8)](_0x272e5c)&&!_0xdd5044[_0x2bc740(0x1f8)](_0x272e5c))return![];}if(previewState[_0x2bc740(0x207)][_0x2bc740(0x158)]){const _0x362d7b=previewState[_0x2bc740(0x207)][_0x2bc740(0x158)]['toLowerCase'](),_0x5e68d1=(_0x4da029['mapPlayed']||'')[_0x2bc740(0x20c)]();if(!_0x5e68d1[_0x2bc740(0x1f8)](_0x362d7b))return![];}if(previewState[_0x2bc740(0x207)][_0x2bc740(0x255)][_0x2bc740(0x213)]>0x0){const _0x30e2a2=_0x4da029['subgameType']||'Standard\x20Match';if(!previewState[_0x2bc740(0x207)]['subgames'][_0x2bc740(0x1f8)](_0x30e2a2))return![];}return!![];});}function hasEnhancedFilters(){const _0x559908=a6_0x5aae;return previewState[_0x559908(0x207)][_0x559908(0x15d)]||previewState[_0x559908(0x207)][_0x559908(0x158)]||previewState[_0x559908(0x207)]['subgames'][_0x559908(0x213)]>0x0;}function clearEnhancedFilters(){const _0x3294b1=a6_0x5aae;previewState[_0x3294b1(0x207)]={'pilots':'','levels':'','subgames':[]},document[_0x3294b1(0x26f)]('filter-pilots')['value']='',document['getElementById'](_0x3294b1(0x159))['value']='';const _0x3ae39b=document['getElementById'](_0x3294b1(0x277));for(let _0x141a51 of _0x3ae39b[_0x3294b1(0x13c)]){_0x141a51[_0x3294b1(0x1cd)]=![];}}function jumpToPage(_0x4ba71f){const _0x1289c8=a6_0x5aae,_0x4585cf=document['getElementById'](_0x1289c8(0x24b)),_0x5f2139=previewState[_0x1289c8(0x250)];let _0xe4101c=_0x5f2139;switch(_0x4ba71f){case'start':_0xe4101c=0x1;break;case _0x1289c8(0x1d3):_0xe4101c=Math['max'](_0x5f2139+0xa,previewState[_0x1289c8(0x261)]||_0x5f2139+0xa);break;case'+1':_0xe4101c=_0x5f2139+0x1;break;case'+5':_0xe4101c=_0x5f2139+0x5;break;case _0x1289c8(0x223):_0xe4101c=_0x5f2139+0xa;break;case'-1':_0xe4101c=Math[_0x1289c8(0x25b)](0x1,_0x5f2139-0x1);break;case'-5':_0xe4101c=Math[_0x1289c8(0x25b)](0x1,_0x5f2139-0x5);break;case _0x1289c8(0x26e):_0xe4101c=Math[_0x1289c8(0x25b)](0x1,_0x5f2139-0xa);break;case _0x1289c8(0x1f1):const _0x452088=parseInt(_0x4585cf[_0x1289c8(0x268)]);_0x452088&&_0x452088>0x0&&(_0xe4101c=_0x452088,_0x4585cf[_0x1289c8(0x268)]='');break;}_0xe4101c!==_0x5f2139&&_0xe4101c>0x0&&(previewState[_0x1289c8(0x250)]=_0xe4101c,loadRecentMatchesPreview(_0x1289c8(0x195)));}export async function loadRecentMatchesPreview(_0x539f45='current'){const _0x2001cf=a6_0x5aae,_0x3384a3=document[_0x2001cf(0x26f)](_0x2001cf(0x1e1)),_0x30a08c=document[_0x2001cf(0x26f)](_0x2001cf(0x1ac));if(previewState[_0x2001cf(0x1e2)]||!_0x3384a3||!_0x30a08c)return;_0x539f45===_0x2001cf(0x231)&&(console['log']('Clearing\x20cache\x20for\x20refresh/reset'),Object['keys'](sessionStorage)['forEach'](_0x46c367=>{const _0x5e65c6=_0x2001cf;_0x46c367[_0x5e65c6(0x1f8)](_0x5e65c6(0x16c)+previewState[_0x5e65c6(0x23d)])&&sessionStorage[_0x5e65c6(0x153)](_0x46c367);}));let _0x5e64c7=previewState[_0x2001cf(0x250)];if(_0x539f45===_0x2001cf(0x1b2))_0x5e64c7++;else{if(_0x539f45===_0x2001cf(0x26d))_0x5e64c7--;else _0x539f45===_0x2001cf(0x231)&&(_0x5e64c7=0x1,previewState[_0x2001cf(0x167)]=null,previewState[_0x2001cf(0x1de)]=null);}if(_0x5e64c7<0x1)_0x5e64c7=0x1;const _0x5bd710=previewState['currentPage'];previewState[_0x2001cf(0x250)]=_0x5e64c7,updatePreviewPaginationControls(!![]);const _0x15fb89={'filterUsername':previewState['filterUsername']},_0x5ed238=getCacheKey(previewState['currentMode'],_0x5e64c7,_0x15fb89),_0x5f1947=_0x539f45!==_0x2001cf(0x231)?getCachedPage(_0x5ed238):null;if(_0x5f1947){console[_0x2001cf(0x206)](_0x2001cf(0x161)+_0x5e64c7+'\x20from\x20cache'),setPreviewLoadingState(!![]),renderMatchCards(_0x5f1947[_0x2001cf(0x260)]),updatePreviewPaginationControls(_0x5f1947[_0x2001cf(0x265)]),setPreviewLoadingState(![]);return;}console[_0x2001cf(0x206)]('Cache\x20miss\x20for\x20page\x20'+_0x5e64c7+_0x2001cf(0x259)),setPreviewLoadingState(!![]),_0x3384a3[_0x2001cf(0x21c)]=_0x2001cf(0x200);const _0x591b31=previewState[_0x2001cf(0x23d)]==='D1'?_0x2001cf(0x157):previewState['currentMode']==='D2'?'approvedMatchesD2':_0x2001cf(0x24e),_0x3df47c=previewState[_0x2001cf(0x23d)]==='D1'?_0x2001cf(0x15b):'approvedAt';try{const _0xd383a1=collection(window['db'],_0x591b31);let _0x9c3e2d=[orderBy(_0x3df47c,'desc')];if(_0x5e64c7===0x1)console['log'](_0x2001cf(0x1fe)),_0x9c3e2d['push'](limit(previewState[_0x2001cf(0x1e7)]));else{if(_0x539f45===_0x2001cf(0x1b2)&&previewState[_0x2001cf(0x1de)])console[_0x2001cf(0x206)](_0x2001cf(0x24f)),_0x9c3e2d[_0x2001cf(0x160)](startAfter(previewState[_0x2001cf(0x1de)])),_0x9c3e2d[_0x2001cf(0x160)](limit(previewState[_0x2001cf(0x1e7)]));else{console[_0x2001cf(0x206)](_0x2001cf(0x193));const _0x127698=_0x5e64c7*previewState[_0x2001cf(0x1e7)];_0x9c3e2d[_0x2001cf(0x160)](limit(_0x127698));}}const _0x53bea8=query(_0xd383a1,..._0x9c3e2d),_0x368b1d=await getDocs(_0x53bea8);let _0x2832e9=_0x368b1d[_0x2001cf(0x1e9)];if(_0x5e64c7>0x1&&_0x539f45!=='next'){const _0x2ca9a9=(_0x5e64c7-0x1)*previewState[_0x2001cf(0x1e7)];_0x2832e9=_0x2832e9[_0x2001cf(0x283)](_0x2ca9a9,_0x2ca9a9+previewState[_0x2001cf(0x1e7)]);}if(_0x2832e9['length']===0x0){console[_0x2001cf(0x206)](_0x2001cf(0x1bb));_0x539f45==='next'&&(previewState[_0x2001cf(0x250)]=_0x5bd710,updatePreviewPaginationControls(![]));_0x3384a3[_0x2001cf(0x21c)]=_0x2001cf(0x1a1)+(previewState[_0x2001cf(0x288)]?'\x20matching\x20filters':'')+'.</div>',setPreviewLoadingState(![]);return;}previewState['firstVisible']=_0x2832e9[0x0],previewState[_0x2001cf(0x1de)]=_0x2832e9[_0x2832e9[_0x2001cf(0x213)]-0x1];const _0x62370c=_0x2832e9[_0x2001cf(0x163)](_0xb966bf=>({'id':_0xb966bf['id'],..._0xb966bf[_0x2001cf(0x21a)]()}));let _0x41d805=![];if(_0x2832e9[_0x2001cf(0x213)]===previewState[_0x2001cf(0x1e7)]){const _0x4e3ddd=query(_0xd383a1,orderBy(_0x3df47c,'desc'),startAfter(previewState[_0x2001cf(0x1de)]),limit(0x1)),_0x713c6c=await getDocs(_0x4e3ddd);_0x41d805=!_0x713c6c['empty'];}const _0x5d9b7e=applyClientFilters(_0x62370c),_0x47048a={'docsData':_0x62370c,'hasNextPage':_0x41d805};cachePage(getCacheKey(previewState['currentMode'],previewState['currentPage'],_0x15fb89),_0x47048a);if(_0x5e64c7>0x1&&_0x539f45!==_0x2001cf(0x1b2))for(let _0x5ba3e9=0x1;_0x5ba3e9<_0x5e64c7;_0x5ba3e9++){const _0x29c145=(_0x5ba3e9-0x1)*previewState[_0x2001cf(0x1e7)],_0x20ebf7=_0x29c145+previewState[_0x2001cf(0x1e7)],_0x5d1c96=_0x368b1d[_0x2001cf(0x1e9)]['slice'](_0x29c145,_0x20ebf7);if(_0x5d1c96['length']>0x0){const _0x53c80d=_0x5d1c96[_0x2001cf(0x163)](_0x418241=>({'id':_0x418241['id'],..._0x418241[_0x2001cf(0x21a)]()})),_0x100da6=!![];cachePage(getCacheKey(previewState[_0x2001cf(0x23d)],_0x5ba3e9,_0x15fb89),{'docsData':_0x53c80d,'hasNextPage':_0x100da6}),console[_0x2001cf(0x206)](_0x2001cf(0x1a0)+_0x5ba3e9);}}_0x5d9b7e[_0x2001cf(0x213)]===0x0&&previewState['filterUsername']?_0x3384a3['innerHTML']=_0x2001cf(0x19e)+previewState['filterUsername']+_0x2001cf(0x162):renderMatchCards(_0x5d9b7e),updatePreviewPaginationControls(_0x41d805);}catch(_0x1347d0){console[_0x2001cf(0x267)](_0x2001cf(0x154)+previewState[_0x2001cf(0x23d)]+_0x2001cf(0x1b1),_0x1347d0),_0x3384a3[_0x2001cf(0x21c)]=_0x2001cf(0x168)+_0x1347d0[_0x2001cf(0x22a)]+_0x2001cf(0x1c4),updatePreviewPaginationControls(![]),previewState[_0x2001cf(0x250)]=_0x5bd710;}finally{setPreviewLoadingState(![]);}}async function renderMatchCards(_0x534e9e){const _0x1c8451=a6_0x5aae,_0x152161=document[_0x1c8451(0x26f)](_0x1c8451(0x1e1)),_0x42f503=document[_0x1c8451(0x26f)](_0x1c8451(0x1ac));if(!_0x152161||!_0x42f503)return;!_0x152161['querySelector'](_0x1c8451(0x1dd))&&(_0x152161[_0x1c8451(0x21c)]='');if(!_0x534e9e||_0x534e9e[_0x1c8451(0x213)]===0x0){if(!_0x152161[_0x1c8451(0x183)](_0x1c8451(0x1dd))){const _0x41234b=hasEnhancedFilters()?'\x20matching\x20filters':previewState[_0x1c8451(0x288)]?_0x1c8451(0x1da):'';_0x152161[_0x1c8451(0x21c)]=_0x1c8451(0x21e)+_0x41234b+_0x1c8451(0x244);}return;}const _0x201e64=applyEnhancedClientFilters(_0x534e9e);if(_0x201e64[_0x1c8451(0x213)]===0x0){_0x152161[_0x1c8451(0x21c)]=_0x1c8451(0x1d0);return;}const _0x48e43b=_0x201e64[_0x1c8451(0x163)](_0x491948=>getAllCommentsForMatch(_0x491948['id']));let _0xcd0ab4=[];try{_0xcd0ab4=await Promise[_0x1c8451(0x275)](_0x48e43b);}catch(_0x476996){console[_0x1c8451(0x267)](_0x1c8451(0x28b),_0x476996),_0xcd0ab4=_0x201e64[_0x1c8451(0x163)](()=>[]);}const _0x47e360={};_0xcd0ab4[_0x1c8451(0x14d)]((_0x40861d,_0x2d6c60)=>{_0x47e360[_0x201e64[_0x2d6c60]['id']]=_0x40861d||[];}),_0x201e64['forEach'](_0x44179f=>{const _0x86c506=_0x1c8451,_0x41dd11=_0x42f503[_0x86c506(0x1d9)][_0x86c506(0x20f)](!![]),_0x337b7f=_0x41dd11[_0x86c506(0x183)](_0x86c506(0x227)),_0x352a32=_0x41dd11['querySelector'](_0x86c506(0x1c2)),_0x5d845b=getEloRankClass(_0x44179f[_0x86c506(0x1ae)]);_0x352a32[_0x86c506(0x1f4)][_0x86c506(0x14b)](_0x86c506(0x15a)+_0x5d845b),_0x352a32[_0x86c506(0x183)](_0x86c506(0x1e3))[_0x86c506(0x155)]=_0x44179f[_0x86c506(0x27b)]||_0x86c506(0x1ee),_0x352a32[_0x86c506(0x183)](_0x86c506(0x17d))[_0x86c506(0x155)]=formatDate(_0x44179f[_0x86c506(0x173)]||_0x44179f[_0x86c506(0x15b)]);const _0x24a6d8=_0x352a32[_0x86c506(0x183)](_0x86c506(0x1d1));_0x24a6d8[_0x86c506(0x155)]=_0x44179f['winnerUsername']||_0x86c506(0x243),_0x24a6d8[_0x86c506(0x236)][_0x86c506(0x26a)]=getEloColor(_0x44179f[_0x86c506(0x1ae)]),_0x352a32[_0x86c506(0x183)](_0x86c506(0x246))[_0x86c506(0x155)]=_0x44179f['winnerScore']??0x0;const _0x95ec6c=_0x352a32[_0x86c506(0x183)](_0x86c506(0x286)),_0x4756c5=_0x44179f[_0x86c506(0x1d8)]||0x0;_0x95ec6c['textContent']=_0x86c506(0x222)+_0x4756c5;const _0xfefa9b=_0x352a32[_0x86c506(0x183)](_0x86c506(0x205));_0xfefa9b[_0x86c506(0x155)]=_0x44179f[_0x86c506(0x176)]||_0x86c506(0x243),_0xfefa9b[_0x86c506(0x236)][_0x86c506(0x26a)]=getEloColor(_0x44179f[_0x86c506(0x1fb)]),_0x352a32[_0x86c506(0x183)]('.player.loser\x20.player-score')[_0x86c506(0x155)]=_0x44179f[_0x86c506(0x219)]??0x0;const _0x1bc564=_0x352a32[_0x86c506(0x183)](_0x86c506(0x1a7)),_0x4fdf04=_0x44179f[_0x86c506(0x171)]||0x0;_0x1bc564[_0x86c506(0x155)]=_0x86c506(0x222)+_0x4fdf04;const _0x26540f=_0x352a32[_0x86c506(0x183)]('.match-subgame');if(_0x26540f){if(_0x44179f[_0x86c506(0x25c)]&&_0x44179f['subgameType'][_0x86c506(0x17f)]()!==''){_0x26540f[_0x86c506(0x155)]=_0x44179f[_0x86c506(0x25c)],_0x26540f[_0x86c506(0x236)][_0x86c506(0x14f)]=_0x86c506(0x152);const _0x18ada4=getSubgameClass(_0x44179f[_0x86c506(0x25c)]);_0x18ada4&&_0x26540f['classList'][_0x86c506(0x14b)](_0x18ada4);}else _0x26540f[_0x86c506(0x155)]=_0x86c506(0x239),_0x26540f[_0x86c506(0x236)]['display']=_0x86c506(0x152),_0x26540f[_0x86c506(0x236)][_0x86c506(0x269)]='0.6';}const _0x2b44fd=_0x352a32[_0x86c506(0x183)](_0x86c506(0x1c1)),_0x2a1694=_0x352a32[_0x86c506(0x183)](_0x86c506(0x1cb)),_0x22491f=_0x44179f[_0x86c506(0x15e)]||'',_0x1659a1=_0x44179f[_0x86c506(0x27d)]||'',_0x47fece=_0x44179f[_0x86c506(0x173)]||_0x44179f['createdAt'],_0x3ffaff=filterComment(_0x22491f,_0x44179f[_0x86c506(0x1a3)],_0x47fece),_0x13d702=filterComment(_0x1659a1,_0x44179f['loserUsername'],_0x47fece);_0x2b44fd[_0x86c506(0x155)]='\x22'+truncateComment(_0x22491f)+'\x22',_0x2a1694[_0x86c506(0x155)]='\x22'+truncateComment(_0x1659a1)+'\x22';_0x22491f&&!isUsernameMuted(_0x44179f[_0x86c506(0x1a3)],_0x47fece)?_0x2b44fd[_0x86c506(0x20e)]=()=>showPreviewCommentPopup(_0x3ffaff,_0x44179f[_0x86c506(0x1a3)]||_0x86c506(0x177),getEloColor(_0x44179f['winnerOldElo'])):(_0x2b44fd[_0x86c506(0x155)]=_0x3ffaff===_0x86c506(0x229)?'Muted.':'-',_0x2b44fd[_0x86c506(0x236)][_0x86c506(0x1f0)]=_0x86c506(0x212),_0x2b44fd['onclick']=null);_0x1659a1&&!isUsernameMuted(_0x44179f['loserUsername'])?_0x2a1694[_0x86c506(0x20e)]=()=>showPreviewCommentPopup(_0x13d702,_0x44179f['loserUsername']||_0x86c506(0x18f),getEloColor(_0x44179f[_0x86c506(0x1fb)])):(_0x2a1694[_0x86c506(0x155)]=_0x13d702===_0x86c506(0x229)?_0x86c506(0x229):'-',_0x2a1694[_0x86c506(0x236)][_0x86c506(0x1f0)]=_0x86c506(0x212),_0x2a1694[_0x86c506(0x20e)]=null);const _0x1cdeb8=_0x337b7f?.['querySelector'](_0x86c506(0x175));if(!_0x1cdeb8)console[_0x86c506(0x264)](_0x86c506(0x165));else{const _0x1942bc=_0x1cdeb8[_0x86c506(0x183)](_0x86c506(0x1aa)),_0x3ecc99=_0x1942bc?.[_0x86c506(0x183)](_0x86c506(0x245)),_0x4e875a=_0x1cdeb8[_0x86c506(0x183)](_0x86c506(0x1cc));if(_0x1942bc){while(_0x1942bc['firstChild']&&_0x1942bc['firstChild']!==_0x3ecc99){_0x1942bc[_0x86c506(0x18d)](_0x1942bc[_0x86c506(0x1d6)]);}_0x4e875a&&_0x4e875a[_0x86c506(0x190)](_0x86c506(0x145),()=>{showAddCommentPopup(_0x44179f['id']);});const _0x34ab97=_0x47e360[_0x44179f['id']]||[];if(_0x34ab97[_0x86c506(0x213)]>0x0){if(_0x3ecc99)_0x3ecc99[_0x86c506(0x236)]['display']='none';const _0x1ec51c=(_0x285bb2,_0x52b379)=>{const _0x2b9e11=_0x86c506,_0x552366=_0x285bb2[_0x2b9e11(0x1d2)]('\x20');if(_0x552366[_0x2b9e11(0x213)]<=_0x52b379)return _0x285bb2;return _0x552366['slice'](0x0,_0x52b379)[_0x2b9e11(0x166)]('\x20')+'...';};_0x34ab97[_0x86c506(0x14d)](_0x25d33b=>{const _0x429aca=_0x86c506,_0x432286=document[_0x429aca(0x249)](_0x429aca(0x27c));if(_0x25d33b[_0x429aca(0x202)]===_0x429aca(0x19d)){_0x432286[_0x429aca(0x281)]='demo-link',_0x432286[_0x429aca(0x21c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22'+_0x25d33b['demoLink']+'\x22\x20target=\x22_blank\x22\x20class=\x22play-icon\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<svg\x20viewBox=\x220\x200\x2024\x2024\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<path\x20d=\x22M8,5.14V19.14L19,12.14L8,5.14Z\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</svg>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22demo-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22demo-author\x22>Demo\x20from\x20'+_0x25d33b[_0x429aca(0x21b)]+_0x429aca(0x248)+(_0x25d33b[_0x429aca(0x1ce)]||_0x429aca(0x141))+_0x429aca(0x18a);const _0x537b3f=window[_0x429aca(0x278)][_0x429aca(0x216)],_0x410a78=_0x537b3f&&_0x25d33b[_0x429aca(0x1b5)]===_0x537b3f['uid'];if(_0x410a78){const _0x2ff71e=document[_0x429aca(0x249)](_0x429aca(0x270));_0x2ff71e['className']='delete-comment-btn',_0x2ff71e[_0x429aca(0x21c)]='×',_0x2ff71e[_0x429aca(0x143)](_0x429aca(0x238),_0x429aca(0x1b6)),_0x2ff71e[_0x429aca(0x190)](_0x429aca(0x145),_0x36a0e8=>{const _0x2fb7ee=_0x429aca;_0x36a0e8[_0x2fb7ee(0x1b8)](),_0x36a0e8['stopPropagation'](),deleteComment(_0x25d33b['id'],_0x432286);}),_0x432286['appendChild'](_0x2ff71e);}}else{_0x432286[_0x429aca(0x281)]=_0x429aca(0x151);const _0x5d26a1=isUsernameMuted(_0x25d33b[_0x429aca(0x21b)],_0x25d33b['timestamp']),_0x22df70=_0x5d26a1?_0x429aca(0x229):_0x1ec51c(_0x25d33b[_0x429aca(0x13f)]||'',0xf),_0xbfb660=_0x25d33b[_0x429aca(0x21b)]||'Anonymous',_0x4061a5=window[_0x429aca(0x278)][_0x429aca(0x216)],_0x307e12=_0x4061a5&&_0x25d33b[_0x429aca(0x1b5)]===_0x4061a5[_0x429aca(0x28a)];let _0x2f9b06='';_0x307e12&&(_0x2f9b06='<button\x20class=\x22delete-comment-btn\x22\x20aria-label=\x22Delete\x20comment\x22>×</button>');_0x432286[_0x429aca(0x21c)]=_0x2f9b06+_0x429aca(0x19b)+_0xbfb660+_0x429aca(0x182)+_0x22df70+'\x22';if(_0x307e12){const _0x40051e=_0x432286['querySelector'](_0x429aca(0x1fc));_0x40051e&&_0x40051e['addEventListener']('click',_0x557652=>{const _0x49c138=_0x429aca;_0x557652[_0x49c138(0x22f)](),deleteComment(_0x25d33b['id'],_0x432286);});}!_0x5d26a1?_0x432286['addEventListener'](_0x429aca(0x145),()=>{showFullCommentLightbox(_0x25d33b);}):_0x432286[_0x429aca(0x236)][_0x429aca(0x1f0)]=_0x429aca(0x212);}_0x1942bc[_0x429aca(0x188)](_0x432286,_0x1942bc['firstChild']);});}else{if(_0x3ecc99)_0x3ecc99[_0x86c506(0x236)][_0x86c506(0x14f)]='block';}}}const _0xceed97=_0x352a32[_0x86c506(0x183)](_0x86c506(0x14c));if(_0xceed97){const _0x52fdbd=_0x352a32['querySelector'](_0x86c506(0x215)),_0x2043bb=_0x352a32[_0x86c506(0x183)](_0x86c506(0x1b9)),_0xf18263=_0x44179f['winnerDemoLink']||null,_0x23bd59=_0x44179f[_0x86c506(0x230)]||_0x44179f[_0x86c506(0x23e)]||null;console[_0x86c506(0x206)](_0x86c506(0x237)+_0x44179f['id']+_0x86c506(0x1f7),{'winner':_0xf18263,'loser':_0x23bd59}),_0x52fdbd&&(_0xf18263?(_0x52fdbd[_0x86c506(0x197)]=_0xf18263,_0x52fdbd[_0x86c506(0x236)][_0x86c506(0x14f)]=_0x86c506(0x23c),_0x52fdbd[_0x86c506(0x28c)]=_0x44179f[_0x86c506(0x1a3)]+_0x86c506(0x14e)):_0x52fdbd[_0x86c506(0x236)][_0x86c506(0x14f)]=_0x86c506(0x1bf)),_0x2043bb&&(_0x23bd59?(_0x2043bb[_0x86c506(0x197)]=_0x23bd59,_0x2043bb[_0x86c506(0x236)][_0x86c506(0x14f)]=_0x86c506(0x23c),_0x2043bb[_0x86c506(0x28c)]=_0x44179f[_0x86c506(0x176)]+_0x86c506(0x14e)):_0x2043bb[_0x86c506(0x236)][_0x86c506(0x14f)]=_0x86c506(0x1bf)),_0xf18263&&_0x52fdbd||_0x23bd59&&_0x2043bb?_0xceed97[_0x86c506(0x236)][_0x86c506(0x14f)]=_0x86c506(0x23c):_0xceed97[_0x86c506(0x236)][_0x86c506(0x14f)]=_0x86c506(0x1bf);}_0x152161['appendChild'](_0x41dd11);});}function getSubgameClass(_0x31ee9a){const _0x3dc1a7=a6_0x5aae,_0x3dd1a0={'Fusion\x20Match':'fusion-match','≥6\x20Missiles':_0x3dc1a7(0x22e),'≥6\x20missiles':'missiles-6plus','Weapon\x20Imbalance':'weapon-imbalance','Blind\x20Match':_0x3dc1a7(0x1d4),'Rematch':_0x3dc1a7(0x256),'Disorientation':_0x3dc1a7(0x17c),'Ratting':_0x3dc1a7(0x1a9),'Altered\x20Powerups':_0x3dc1a7(0x13d),'Mega\x20Match':_0x3dc1a7(0x21d),'Dogfight':_0x3dc1a7(0x1c3),'Gauss\x20and\x20Mercs':'gauss-and-mercs'};return _0x3dd1a0[_0x31ee9a]||'';}async function deleteComment(_0x5063bd,_0x284330){const _0x13eed7=a6_0x5aae,_0x398c53=window['auth'][_0x13eed7(0x216)];if(!_0x398c53){alert(_0x13eed7(0x276));return;}if(!confirm(_0x13eed7(0x23b)))return;try{const _0x541bbe=doc(window['db'],_0x13eed7(0x258),_0x5063bd),_0x4c905c=await getDoc(_0x541bbe);if(!_0x4c905c[_0x13eed7(0x22b)]()){alert(_0x13eed7(0x1bc));return;}const _0x178cde=_0x4c905c[_0x13eed7(0x21a)]();if(_0x178cde[_0x13eed7(0x1b5)]!==_0x398c53['uid']){alert('You\x20can\x20only\x20delete\x20your\x20own\x20comments');return;}await deleteDoc(_0x541bbe);if(_0x284330&&_0x284330[_0x13eed7(0x287)]){_0x284330['parentNode'][_0x13eed7(0x18d)](_0x284330);const _0x104264=_0x284330[_0x13eed7(0x149)](_0x13eed7(0x1aa));if(_0x104264&&!_0x104264[_0x13eed7(0x183)](_0x13eed7(0x16f))){const _0x5ae351=_0x104264[_0x13eed7(0x183)](_0x13eed7(0x245));if(_0x5ae351)_0x5ae351[_0x13eed7(0x236)][_0x13eed7(0x14f)]=_0x13eed7(0x152);}}console[_0x13eed7(0x206)](_0x13eed7(0x1dc));}catch(_0x5f402a){console['error']('Error\x20deleting\x20comment:',_0x5f402a),alert(_0x13eed7(0x1b3)+_0x5f402a[_0x13eed7(0x22a)]);}}async function getAllCommentsForMatch(_0x1a7f34){const _0x15db02=a6_0x5aae;if(!_0x1a7f34)return[];try{const _0x15e45c=collection(window['db'],_0x15db02(0x258)),_0x47c513=query(_0x15e45c,where(_0x15db02(0x279),'==',_0x1a7f34),orderBy(_0x15db02(0x16d),_0x15db02(0x284))),_0x194639=await getDocs(_0x47c513);if(_0x194639[_0x15db02(0x266)])return[];return _0x194639['docs'][_0x15db02(0x163)](_0x3c0f94=>({'id':_0x3c0f94['id'],..._0x3c0f94['data']()}));}catch(_0x145866){return console[_0x15db02(0x267)]('Error\x20fetching\x20comments:',_0x145866),[];}}async function submitComment(_0x365cb2){const _0x45b2e8=a6_0x5aae;_0x365cb2[_0x45b2e8(0x1b8)]();if(!window[_0x45b2e8(0x278)]||!window['db']){console[_0x45b2e8(0x267)](_0x45b2e8(0x225)),alert('Unable\x20to\x20submit\x20comment\x20-\x20system\x20not\x20ready');return;}const _0x5a0463=window[_0x45b2e8(0x278)]['currentUser'];if(!_0x5a0463){alert(_0x45b2e8(0x218));return;}const _0x231f98=document[_0x45b2e8(0x26f)](_0x45b2e8(0x13b))?.[_0x45b2e8(0x268)],_0x3ee3cc=document[_0x45b2e8(0x26f)](_0x45b2e8(0x19a))?.[_0x45b2e8(0x268)]?.[_0x45b2e8(0x17f)]();if(!_0x231f98||!_0x3ee3cc){alert(_0x45b2e8(0x1e4));return;}const _0x49b7a0=_0x3ee3cc[_0x45b2e8(0x1d2)](/\s+/)['filter'](_0x7405c2=>_0x7405c2[_0x45b2e8(0x213)]>0x0)[_0x45b2e8(0x213)];if(_0x49b7a0>0xf){alert(_0x45b2e8(0x240));return;}const _0x31fe6e=document[_0x45b2e8(0x183)](_0x45b2e8(0x25e));_0x31fe6e&&(_0x31fe6e[_0x45b2e8(0x1c5)]=!![],_0x31fe6e[_0x45b2e8(0x155)]=_0x45b2e8(0x228));try{let _0x67f2b8=_0x45b2e8(0x13a);try{const _0x1efcb1=doc(window['db'],_0x45b2e8(0x220),_0x5a0463[_0x45b2e8(0x28a)]),_0x381db4=await getDoc(_0x1efcb1);if(_0x381db4['exists']()){const _0x58c2c0=_0x381db4[_0x45b2e8(0x21a)]();_0x58c2c0['username']&&(_0x67f2b8=_0x58c2c0[_0x45b2e8(0x21b)]);}_0x67f2b8===_0x45b2e8(0x13a)&&_0x5a0463[_0x45b2e8(0x1ff)]&&(_0x67f2b8=_0x5a0463[_0x45b2e8(0x1ff)]);}catch(_0x26ecda){console[_0x45b2e8(0x264)](_0x45b2e8(0x201),_0x26ecda),_0x5a0463[_0x45b2e8(0x1ff)]&&(_0x67f2b8=_0x5a0463[_0x45b2e8(0x1ff)]);}const _0x3018ac={'matchId':_0x231f98,'userId':_0x5a0463[_0x45b2e8(0x28a)],'username':_0x67f2b8,'text':_0x3ee3cc,'timestamp':serverTimestamp()};console[_0x45b2e8(0x206)](_0x45b2e8(0x1cf),_0x67f2b8);const _0x3cde38=collection(window['db'],_0x45b2e8(0x258));await addDoc(_0x3cde38,_0x3018ac),console[_0x45b2e8(0x206)](_0x45b2e8(0x1c7)),closeAddCommentPopup(),loadRecentMatchesPreview('current');}catch(_0x19c600){console['error'](_0x45b2e8(0x140),_0x19c600),alert(_0x45b2e8(0x16a)+_0x19c600[_0x45b2e8(0x22a)]),_0x31fe6e&&(_0x31fe6e[_0x45b2e8(0x1c5)]=![],_0x31fe6e[_0x45b2e8(0x155)]=_0x45b2e8(0x142));}}function closeAddCommentPopup(){const _0x43db57=a6_0x5aae,_0x508d95=document[_0x43db57(0x26f)](_0x43db57(0x1c0)),_0x27f143=document[_0x43db57(0x26f)](_0x43db57(0x1f3));if(_0x508d95)_0x508d95[_0x43db57(0x236)][_0x43db57(0x14f)]=_0x43db57(0x1bf);if(_0x27f143)_0x27f143['style'][_0x43db57(0x14f)]=_0x43db57(0x1bf);}function showAddCommentPopup(_0x40924d){const _0x59381a=a6_0x5aae,_0x2574d1=window[_0x59381a(0x278)][_0x59381a(0x216)];if(!_0x2574d1){alert(_0x59381a(0x280));return;}let _0x1d1a0b=document[_0x59381a(0x26f)](_0x59381a(0x1c0)),_0x2697c6=document[_0x59381a(0x26f)]('commentAddOverlay');!_0x1d1a0b&&(_0x1d1a0b=document[_0x59381a(0x249)](_0x59381a(0x27c)),_0x1d1a0b['id']=_0x59381a(0x1c0),_0x1d1a0b[_0x59381a(0x281)]=_0x59381a(0x232),document['body']['appendChild'](_0x1d1a0b));!_0x2697c6&&(_0x2697c6=document[_0x59381a(0x249)]('div'),_0x2697c6['id']=_0x59381a(0x1f3),_0x2697c6['className']=_0x59381a(0x1d5),document[_0x59381a(0x17b)][_0x59381a(0x1e6)](_0x2697c6));_0x1d1a0b[_0x59381a(0x21c)]=_0x59381a(0x274)+_0x40924d+_0x59381a(0x180),_0x1d1a0b[_0x59381a(0x236)][_0x59381a(0x14f)]='block',_0x2697c6[_0x59381a(0x236)][_0x59381a(0x14f)]=_0x59381a(0x152),document['getElementById'](_0x59381a(0x169))[_0x59381a(0x190)](_0x59381a(0x145),closeAddCommentPopup),_0x2697c6[_0x59381a(0x190)](_0x59381a(0x145),closeAddCommentPopup);const _0x498131=_0x1d1a0b['querySelectorAll'](_0x59381a(0x16e));_0x498131[_0x59381a(0x14d)](_0xea06c2=>{const _0x519935=_0x59381a;_0xea06c2[_0x519935(0x190)](_0x519935(0x145),function(){const _0x145da3=_0x519935;_0x498131[_0x145da3(0x14d)](_0x5daa2f=>_0x5daa2f['classList'][_0x145da3(0x184)]('active')),document[_0x145da3(0x252)]('.option-content')[_0x145da3(0x14d)](_0x5c7c35=>_0x5c7c35[_0x145da3(0x236)][_0x145da3(0x14f)]=_0x145da3(0x1bf)),this[_0x145da3(0x1f4)][_0x145da3(0x14b)](_0x145da3(0x224));const _0x29ba6b=this['dataset'][_0x145da3(0x257)];document['getElementById'](_0x29ba6b+'Option')[_0x145da3(0x236)][_0x145da3(0x14f)]=_0x145da3(0x152),_0x29ba6b===_0x145da3(0x19d)?(document[_0x145da3(0x26f)](_0x145da3(0x23e))[_0x145da3(0x143)](_0x145da3(0x203),''),document['getElementById']('commentText')[_0x145da3(0x1a5)](_0x145da3(0x203))):(document[_0x145da3(0x26f)](_0x145da3(0x23e))[_0x145da3(0x1a5)](_0x145da3(0x203)),document['getElementById'](_0x145da3(0x19a))[_0x145da3(0x143)](_0x145da3(0x203),''));});}),document[_0x59381a(0x26f)]('commentText')[_0x59381a(0x143)](_0x59381a(0x203),''),document[_0x59381a(0x26f)](_0x59381a(0x23e))[_0x59381a(0x1a5)](_0x59381a(0x203)),setupWordCounter(_0x59381a(0x19a),'wordCount',0xf),setupWordCounter('demoDescription',_0x59381a(0x186),0x14),document[_0x59381a(0x26f)]('addCommentForm')[_0x59381a(0x190)]('submit',submitCommentOrDemo);}function setupWordCounter(_0x5399de,_0x1f3818,_0x170ed8){const _0x3c2f65=a6_0x5aae,_0xbe3107=document['getElementById'](_0x5399de),_0x4d83eb=document[_0x3c2f65(0x26f)](_0x1f3818);if(!_0xbe3107||!_0x4d83eb)return;_0x22c4a9(),_0xbe3107['addEventListener']('input',_0x22c4a9);function _0x22c4a9(){const _0x51ab21=_0x3c2f65,_0x39420a=_0xbe3107['value']['trim'](),_0x32c4bd=_0x39420a?_0x39420a[_0x51ab21(0x1d2)](/\s+/)[_0x51ab21(0x1a4)](_0x485508=>_0x485508['length']>0x0)[_0x51ab21(0x213)]:0x0;_0x4d83eb[_0x51ab21(0x155)]=_0x32c4bd,_0x32c4bd>_0x170ed8?_0x4d83eb[_0x51ab21(0x236)][_0x51ab21(0x26a)]='#ff4444':_0x4d83eb[_0x51ab21(0x236)]['color']=_0x51ab21(0x1bd);}}function a6_0x5b1f(){const _0x6dd237=['options','altered-powerups','#fff','text','Error\x20submitting\x20comment:','No\x20description\x20provided','Submit','setAttribute','gold','click','4487153sDVjzi','toLocaleString','getTime','closest','.matches-loading','add','.match-demo-links','forEach','\x27s\x20Demo','display','return\x20(function()\x20','comment-item','block','removeItem','Error\x20fetching\x20','textContent','parse','approvedMatches','levels','filter-levels','winner-','createdAt','1992704yRBEZb','pilots','winnerComment','Failed\x20to\x20report\x20comment:\x20','push','Rendering\x20page\x20','\x22</div>','map','keypress','Comments\x20section\x20not\x20found\x20in\x20template','join','firstVisible','<div\x20class=\x22matches-loading\x22\x20style=\x22color:\x20red;\x22>Error\x20loading\x20matches:\x20','closeAddCommentPopup','Failed\x20to\x20add\x20comment:\x20','prototype','previewCache_','timestamp','.option-tab','.comment-item','comment','loserSuicides','Page\x20','approvedAt','popup-btn\x20close-btn','.community-comments-section','loserUsername','Winner','.popup-actions','backgroundColor','gap','body','disorientation','.match-date','silver','trim','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-tabs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22option-tab\x20active\x22\x20data-option=\x22comment\x22>Add\x20Comment</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22option-divider\x22>OR</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22option-tab\x22\x20data-option=\x22demo\x22>Share\x20Demo\x20Link</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-content\x22\x20id=\x22commentOption\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22commentText\x22>Your\x20comment\x20(15\x20words\x20max):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22commentText\x22\x20name=\x22commentText\x22\x20rows=\x223\x22\x20placeholder=\x22Share\x20your\x20thoughts...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22word-counter\x22><span\x20id=\x22wordCount\x22>0</span>/15\x20words</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-content\x22\x20id=\x22demoOption\x22\x20style=\x22display:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22demoLink\x22>Demo\x20Link:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22url\x22\x20id=\x22demoLink\x22\x20name=\x22demoLink\x22\x20placeholder=\x22https://...\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22demoDescription\x22>Description\x20(20\x20words\x20max):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22demoDescription\x22\x20name=\x22demoDescription\x22\x20rows=\x222\x22\x20placeholder=\x22Describe\x20your\x20demo...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22word-counter\x22><span\x20id=\x22demoWordCount\x22>0</span>/20\x20words</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22submit\x22\x20class=\x22submit-comment-btn\x22>Submit</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</form>\x0a\x20\x20\x20\x20','clearFilterBtn',':</strong>\x20\x22','querySelector','remove','#CD7F32','demoWordCount','search','insertBefore','badComments','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','filter-toggle-button','640554twFZbT','removeChild','.option-tab.active','Loser','addEventListener','Unknown\x20User','Demo\x20descriptions\x20are\x20limited\x20to\x2020\x20words\x20maximum.\x20Please\x20shorten\x20your\x20description.','No\x20valid\x20cursor,\x20fetching\x20from\x20beginning\x20and\x20skipping\x20pages','loading-indicator','jump','Error\x20reporting\x20comment:','href','Please\x20enter\x20a\x20demo\x20link','substring','commentText','<strong>','trace','demo','<div\x20class=\x22matches-loading\x22>No\x20matches\x20found\x20matching\x20filter:\x20\x22','preview-ladder-mode','Cached\x20intermediary\x20page\x20','<div\x20class=\x22matches-loading\x22>No\x20more\x20matches\x20to\x20display','console','winnerUsername','filter','removeAttribute','commentPopupPreview','.player.loser\x20.player-suicides','commentOverlayPreview','ratting','.comments-container','</small>','match-card-template','You\x20must\x20be\x20signed\x20in\x20to\x20continue','winnerOldElo','8WwHnfd','__proto__','\x20matches:','next','Failed\x20to\x20delete\x20comment:\x20','previewPageInfo','userId','Delete\x20demo','.jump-btn','preventDefault','.loser-demo-link','commentPopupTitlePreview','No\x20results\x20found\x20for\x20this\x20page','Comment\x20not\x20found.\x20It\x20may\x20have\x20already\x20been\x20deleted.','#aaa','previewNextPage','none','commentAddPopup','.comment.winner-comment','.match-card','dogfight','</div>','disabled','seconds','Comment\x20added\x20successfully','previewPrevPage','Yesterday','Thank\x20you.\x20The\x20comment\x20has\x20been\x20reported\x20and\x20will\x20be\x20reviewed.','.comment.loser-comment','.add-comment-btn','selected','description','Submitting\x20comment\x20as:','<div\x20class=\x22matches-loading\x22>No\x20matches\x20found\x20matching\x20current\x20filters.</div>','.player.winner\x20.player-name','split','end','blind-match','comment-overlay','firstChild','toLocaleDateString','winnerSuicides','content','\x20matching\x20filters','14wEdlMH','Comment\x20deleted\x20successfully','.matches-loading[style*=\x22color:\x20red\x22]','lastVisible','Failed\x20to\x20parse\x20cache:','enhanced-filter-section','recent-matches-preview','isLoading','.match-map','Please\x20enter\x20a\x20comment\x20before\x20submitting','find','appendChild','matchesPerPage','abs','docs','15px','334137zypwWW','exception','clear-enhanced-filters','Unknown\x20Map','<p>','cursor','input','currentMatchId','commentAddOverlay','classList','90zIztsj','bind','\x20demo\x20links:','includes','center','justifyContent','loserOldElo','.delete-comment-btn','constructor','Loading\x20first\x20page\x20from\x20Firestore','displayName','<div\x20class=\x22matches-loading\x22>Loading\x20recent\x20matches...</div>','Failed\x20to\x20fetch\x20user\x20profile:','type','required','Are\x20you\x20sure\x20you\x20want\x20to\x20report\x20this\x20comment\x20as\x20inappropriate?','.player.loser\x20.player-name','log','enhancedFilters','696663fEPzFg','emerald','preview-d2-button','key','toLowerCase','floor','onclick','cloneNode','Enter','55LncedU','default','length','preview-d1-button','.winner-demo-link','currentUser','filter-pilots','You\x20must\x20be\x20signed\x20in\x20to\x20leave\x20a\x20comment','loserScore','data','username','innerHTML','mega-match','<div\x20class=\x22matches-loading\x22>No\x20recent\x20matches\x20found','Comment\x20from\x20','userProfiles','toggle','S:\x20','+10','active','Firebase\x20not\x20initialized','submitComment','.match-display-wrapper','Submitting...','Muted.','message','exists','(((.+)+)+)+$','Demo\x20link','missiles-6plus','stopPropagation','loserDemoLink','current','comment-popup','#b9f1fc','popup-actions','demoDescription','style','Match\x20','aria-label','Standard\x20Match','2831192wroYaX','Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20comment?','flex','currentMode','demoLink','reportCommentButton','Comments\x20are\x20limited\x20to\x2015\x20words\x20maximum.\x20Please\x20shorten\x20your\x20comment.','Failed\x20to\x20submit:\x20','now','Unknown','.</div>','.no-comments-message','.player.winner\x20.player-score','Demo:\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22demo-description\x22>','createElement','toString','jump-to-page','dataset','getItem','approvedMatchesD3','Loading\x20next\x20page\x20using\x20cursor','currentPage','bronze','querySelectorAll','1228260qfaBPZ','commentUser','subgames','rematch','option','matchComments',',\x20fetching\x20from\x20Firestore','commentId','max','subgameType','wordCount','.submit-comment-btn','Close','docsData','totalPages','popup-btn\x20report-btn','#808080','warn','hasNextPage','empty','error','value','opacity','color','preview-d3-button','marginTop','prev','-10','getElementById','button','{}.constructor(\x22return\x20this\x22)(\x20)','closeCommentPopupPreview','submit','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22popup-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Add\x20Comment\x20or\x20Demo</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22closeAddCommentPopup\x22\x20class=\x22close-btn\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22addCommentForm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22commentMatchId\x22\x20name=\x22commentMatchId\x22\x20value=\x22','all','You\x20need\x20to\x20be\x20signed\x20in\x20to\x20delete\x20comments','filter-subgames','auth','matchId','Unable\x20to\x20submit\x20-\x20system\x20not\x20ready','mapPlayed','div','loserComment','Today','...','You\x20need\x20to\x20be\x20signed\x20in\x20to\x20leave\x20a\x20comment\x20or\x20add\x20a\x20demo','className','Failed\x20to\x20cache\x20data:','slice','desc','commentPopupContentPreview','.player.winner\x20.player-suicides','parentNode','filterUsername','Failed\x20to\x20fetch\x20username:','uid','Error\x20fetching\x20comments\x20batch:','title','apply','\x20days\x20ago','setItem','Anonymous','commentMatchId'];a6_0x5b1f=function(){return _0x6dd237;};return a6_0x5b1f();}async function submitCommentOrDemo(_0x64116e){const _0x162896=a6_0x5aae;_0x64116e[_0x162896(0x1b8)]();if(!window[_0x162896(0x278)]||!window['db']){console['error'](_0x162896(0x225)),alert(_0x162896(0x27a));return;}const _0x117cb2=window[_0x162896(0x278)][_0x162896(0x216)];if(!_0x117cb2){alert(_0x162896(0x1ad));return;}const _0x3ec5a6=document['getElementById'](_0x162896(0x13b))[_0x162896(0x268)],_0xe9524a=document[_0x162896(0x183)](_0x162896(0x18e))[_0x162896(0x24c)][_0x162896(0x257)];let _0x20d83d=_0x162896(0x13a);try{const _0x3870e3=doc(window['db'],_0x162896(0x220),_0x117cb2[_0x162896(0x28a)]),_0x153b28=await getDoc(_0x3870e3);if(_0x153b28[_0x162896(0x22b)]()){const _0x5b4250=_0x153b28['data']();_0x5b4250['username']&&(_0x20d83d=_0x5b4250[_0x162896(0x21b)]);}_0x20d83d===_0x162896(0x13a)&&_0x117cb2['displayName']&&(_0x20d83d=_0x117cb2[_0x162896(0x1ff)]);}catch(_0x787a2){console[_0x162896(0x264)](_0x162896(0x289),_0x787a2),_0x117cb2[_0x162896(0x1ff)]&&(_0x20d83d=_0x117cb2['displayName']);}const _0x2c1302=document[_0x162896(0x183)](_0x162896(0x25e));_0x2c1302&&(_0x2c1302[_0x162896(0x1c5)]=!![],_0x2c1302[_0x162896(0x155)]=_0x162896(0x228));try{if(_0xe9524a===_0x162896(0x170)){const _0x1e6aec=document[_0x162896(0x26f)](_0x162896(0x19a))[_0x162896(0x268)][_0x162896(0x17f)]();if(!_0x1e6aec){alert(_0x162896(0x1e4)),_0x2c1302[_0x162896(0x1c5)]=![],_0x2c1302[_0x162896(0x155)]=_0x162896(0x142);return;}const _0x2960c6=_0x1e6aec[_0x162896(0x1d2)](/\s+/)[_0x162896(0x1a4)](_0x377641=>_0x377641[_0x162896(0x213)]>0x0)['length'];if(_0x2960c6>0xf){alert(_0x162896(0x240)),_0x2c1302[_0x162896(0x1c5)]=![],_0x2c1302['textContent']=_0x162896(0x142);return;}const _0x22897a={'matchId':_0x3ec5a6,'userId':_0x117cb2[_0x162896(0x28a)],'username':_0x20d83d,'text':_0x1e6aec,'type':_0x162896(0x170),'timestamp':serverTimestamp()},_0x118e3e=collection(window['db'],_0x162896(0x258));await addDoc(_0x118e3e,_0x22897a);}else{const _0x1809b1=document[_0x162896(0x26f)]('demoLink')[_0x162896(0x268)]['trim'](),_0x3d4aed=document[_0x162896(0x26f)](_0x162896(0x235))[_0x162896(0x268)][_0x162896(0x17f)]()||_0x162896(0x22d);if(!_0x1809b1){alert(_0x162896(0x198)),_0x2c1302[_0x162896(0x1c5)]=![],_0x2c1302[_0x162896(0x155)]=_0x162896(0x142);return;}try{new URL(_0x1809b1);}catch(_0x309c53){alert('Please\x20enter\x20a\x20valid\x20URL\x20for\x20the\x20demo\x20link'),_0x2c1302[_0x162896(0x1c5)]=![],_0x2c1302[_0x162896(0x155)]=_0x162896(0x142);return;}const _0x107c52=_0x3d4aed[_0x162896(0x1d2)](/\s+/)[_0x162896(0x1a4)](_0x24ab49=>_0x24ab49[_0x162896(0x213)]>0x0)[_0x162896(0x213)];if(_0x107c52>0x14){alert(_0x162896(0x192)),_0x2c1302['disabled']=![],_0x2c1302['textContent']=_0x162896(0x142);return;}const _0x1fa0da={'matchId':_0x3ec5a6,'userId':_0x117cb2[_0x162896(0x28a)],'username':_0x20d83d,'demoLink':_0x1809b1,'description':_0x3d4aed,'type':_0x162896(0x19d),'text':_0x162896(0x247)+_0x3d4aed,'timestamp':serverTimestamp()},_0x150160=collection(window['db'],'matchComments');await addDoc(_0x150160,_0x1fa0da);}closeAddCommentPopup(),loadRecentMatchesPreview(_0x162896(0x231));}catch(_0x642688){console[_0x162896(0x267)]('Error\x20submitting:',_0x642688),alert(_0x162896(0x241)+_0x642688[_0x162896(0x22a)]),_0x2c1302&&(_0x2c1302[_0x162896(0x1c5)]=![],_0x2c1302['textContent']=_0x162896(0x142));}}function getEloRankClass(_0x45f106){const _0xfffcab=a6_0x5aae,_0x145f3a=Number(_0x45f106);if(_0x145f3a>=0x7d0)return _0xfffcab(0x209);else{if(_0x145f3a>=0x708)return _0xfffcab(0x144);else{if(_0x145f3a>=0x640)return _0xfffcab(0x17e);else{if(_0x145f3a>=0x578)return _0xfffcab(0x251);else return'unranked';}}}}function showPreviewCommentPopup(_0x11a797,_0x3704cc,_0x509d05=a6_0x470df5(0x13e)){const _0x49a507=a6_0x470df5,_0x4b0a93=document[_0x49a507(0x26f)]('commentPopupPreview'),_0x20b8d7=document[_0x49a507(0x26f)](_0x49a507(0x1a8)),_0x5c1343=document[_0x49a507(0x26f)](_0x49a507(0x1ba)),_0x5c8221=document['getElementById'](_0x49a507(0x285)),_0x3e2452=document[_0x49a507(0x26f)](_0x49a507(0x23f));if(!_0x4b0a93||!_0x20b8d7||!_0x5c1343||!_0x5c8221||!_0x3e2452)return;_0x4b0a93[_0x49a507(0x24c)][_0x49a507(0x19a)]=_0x11a797,_0x4b0a93['dataset']['commentUser']=_0x3704cc,_0x5c1343[_0x49a507(0x236)][_0x49a507(0x26a)]=_0x509d05,_0x5c1343[_0x49a507(0x155)]='Comment\x20from\x20'+_0x3704cc,_0x5c8221['textContent']=_0x11a797,_0x3e2452[_0x49a507(0x20e)]=reportComment,_0x4b0a93[_0x49a507(0x236)][_0x49a507(0x14f)]=_0x49a507(0x152),_0x20b8d7['style'][_0x49a507(0x14f)]=_0x49a507(0x152);}function closePreviewCommentPopup(){const _0x3b4c3b=a6_0x470df5,_0x1ebfac=document[_0x3b4c3b(0x26f)](_0x3b4c3b(0x1a6)),_0x247c69=document['getElementById'](_0x3b4c3b(0x1a8));if(_0x1ebfac)_0x1ebfac[_0x3b4c3b(0x236)][_0x3b4c3b(0x14f)]=_0x3b4c3b(0x1bf);if(_0x247c69)_0x247c69[_0x3b4c3b(0x236)]['display']=_0x3b4c3b(0x1bf);}async function reportComment(){const _0x30a120=a6_0x470df5,_0x1a21db=window[_0x30a120(0x278)][_0x30a120(0x216)];if(!_0x1a21db){alert('You\x20need\x20to\x20be\x20signed\x20in\x20to\x20report\x20comments');return;}if(!confirm(_0x30a120(0x204)))return;try{const _0xf221f6=document['getElementById'](_0x30a120(0x1a6)),_0x2db366={'commentAuthor':_0xf221f6[_0x30a120(0x24c)][_0x30a120(0x254)]||_0x30a120(0x191),'commentText':_0xf221f6[_0x30a120(0x24c)][_0x30a120(0x19a)]||'','matchId':previewState[_0x30a120(0x1f2)]||'','reportedBy':_0x1a21db[_0x30a120(0x28a)],'reporterUsername':_0x1a21db[_0x30a120(0x1ff)]||'Anonymous\x20User','reportedAt':serverTimestamp()},_0x4ab76d=collection(window['db'],_0x30a120(0x189));await addDoc(_0x4ab76d,_0x2db366),alert(_0x30a120(0x1ca)),closePreviewCommentPopup();}catch(_0x556017){console[_0x30a120(0x267)](_0x30a120(0x196),_0x556017),alert(_0x30a120(0x15f)+_0x556017[_0x30a120(0x22a)]);}}function showFullCommentLightbox(_0x408ef5){const _0x44cc15=a6_0x470df5;if(isUsernameMuted(_0x408ef5[_0x44cc15(0x21b)]))return;const _0x5a776a=document[_0x44cc15(0x26f)](_0x44cc15(0x1a6)),_0x481f87=document[_0x44cc15(0x26f)](_0x44cc15(0x1a8)),_0xfd634e=document[_0x44cc15(0x26f)]('commentPopupTitlePreview'),_0x4fbac1=document[_0x44cc15(0x26f)](_0x44cc15(0x285));if(!_0x5a776a||!_0x481f87||!_0xfd634e||!_0x4fbac1)return;_0xfd634e[_0x44cc15(0x236)]['color']=_0x44cc15(0x13e),_0xfd634e[_0x44cc15(0x155)]=_0x44cc15(0x21f)+_0x408ef5[_0x44cc15(0x21b)];if(_0x408ef5[_0x44cc15(0x16d)]){const _0x552a10=new Date(_0x408ef5[_0x44cc15(0x16d)]['seconds']*0x3e8),_0x43c338=_0x552a10[_0x44cc15(0x147)]();_0x4fbac1[_0x44cc15(0x21c)]=_0x44cc15(0x1ef)+_0x408ef5['text']+'</p><small\x20style=\x22color:#aaa;\x20display:block;\x20text-align:right;\x20margin-top:10px;\x22>Posted\x20on\x20'+_0x43c338+_0x44cc15(0x1ab);}else _0x4fbac1[_0x44cc15(0x155)]=_0x408ef5[_0x44cc15(0x13f)];_0x5a776a[_0x44cc15(0x24c)][_0x44cc15(0x25a)]=_0x408ef5['id']||'',_0x5a776a[_0x44cc15(0x24c)][_0x44cc15(0x254)]=_0x408ef5[_0x44cc15(0x21b)]||'',_0x5a776a[_0x44cc15(0x24c)]['commentText']=_0x408ef5['text']||'',_0x5a776a[_0x44cc15(0x24c)][_0x44cc15(0x279)]=_0x408ef5[_0x44cc15(0x279)]||'';const _0x43164b=_0x5a776a[_0x44cc15(0x183)](_0x44cc15(0x178))||document['createElement']('div');!_0x5a776a[_0x44cc15(0x183)](_0x44cc15(0x178))?(_0x43164b[_0x44cc15(0x281)]=_0x44cc15(0x234),_0x43164b[_0x44cc15(0x236)][_0x44cc15(0x14f)]=_0x44cc15(0x23c),_0x43164b[_0x44cc15(0x236)][_0x44cc15(0x1fa)]=_0x44cc15(0x1f9),_0x43164b[_0x44cc15(0x236)][_0x44cc15(0x17a)]='10px',_0x43164b['style'][_0x44cc15(0x26c)]=_0x44cc15(0x1ea),_0x5a776a[_0x44cc15(0x1e6)](_0x43164b)):_0x43164b[_0x44cc15(0x21c)]='';const _0x1c5ac3=document[_0x44cc15(0x249)](_0x44cc15(0x270));_0x1c5ac3[_0x44cc15(0x155)]=_0x44cc15(0x25f),_0x1c5ac3[_0x44cc15(0x281)]=_0x44cc15(0x174),_0x1c5ac3['id']=_0x44cc15(0x272),_0x1c5ac3[_0x44cc15(0x190)](_0x44cc15(0x145),closePreviewCommentPopup);const _0xd5aa48=document[_0x44cc15(0x249)]('button');_0xd5aa48[_0x44cc15(0x155)]='Report',_0xd5aa48[_0x44cc15(0x281)]=_0x44cc15(0x262),_0xd5aa48[_0x44cc15(0x236)][_0x44cc15(0x179)]='#d32f2f',_0xd5aa48['addEventListener'](_0x44cc15(0x145),reportComment),_0x43164b[_0x44cc15(0x1e6)](_0x1c5ac3),_0x43164b['appendChild'](_0xd5aa48),_0x5a776a[_0x44cc15(0x236)][_0x44cc15(0x14f)]=_0x44cc15(0x152),_0x481f87['style']['display']='block';}export function setupPreviewEventListeners(){const _0x5dc34f=a6_0x470df5,_0x2fbe8e=document['getElementById'](_0x5dc34f(0x1c8)),_0x386505=document[_0x5dc34f(0x26f)](_0x5dc34f(0x1be)),_0x15124f=document['getElementById']('preview-d1-button'),_0xeb8dce=document['getElementById']('preview-d2-button'),_0x2faa52=document[_0x5dc34f(0x26f)](_0x5dc34f(0x26b)),_0x59e4bf=document[_0x5dc34f(0x26f)](_0x5dc34f(0x18b)),_0xbcd8a1=document['getElementById'](_0x5dc34f(0x1e0));if(!_0x2fbe8e||!_0x386505||!_0x15124f||!_0xeb8dce||!_0x2faa52||!_0x59e4bf||!_0xbcd8a1){console[_0x5dc34f(0x264)]('Preview\x20UI\x20or\x20Filter\x20elements\x20not\x20found,\x20cannot\x20attach\x20listeners.');return;}_0x2fbe8e[_0x5dc34f(0x190)](_0x5dc34f(0x145),()=>{const _0xa8087f=_0x5dc34f;if(!_0x2fbe8e['disabled'])loadRecentMatchesPreview(_0xa8087f(0x26d));}),_0x386505[_0x5dc34f(0x190)](_0x5dc34f(0x145),()=>{const _0x1d11ec=_0x5dc34f;if(!_0x386505['disabled'])loadRecentMatchesPreview(_0x1d11ec(0x1b2));}),_0x15124f[_0x5dc34f(0x190)]('click',()=>{const _0x1f940d=_0x5dc34f;previewState[_0x1f940d(0x23d)]!=='D1'&&!previewState[_0x1f940d(0x1e2)]&&(previewState['currentMode']='D1',updatePreviewLadderModeUI(),loadRecentMatchesPreview(_0x1f940d(0x231)));}),_0xeb8dce[_0x5dc34f(0x190)]('click',()=>{const _0x50bf26=_0x5dc34f;previewState[_0x50bf26(0x23d)]!=='D2'&&!previewState['isLoading']&&(previewState[_0x50bf26(0x23d)]='D2',updatePreviewLadderModeUI(),loadRecentMatchesPreview('current'));}),_0x2faa52[_0x5dc34f(0x190)](_0x5dc34f(0x145),()=>{const _0x2f4162=_0x5dc34f;previewState[_0x2f4162(0x23d)]!=='D3'&&!previewState[_0x2f4162(0x1e2)]&&(previewState[_0x2f4162(0x23d)]='D3',updatePreviewLadderModeUI(),loadRecentMatchesPreview('current'));});_0x59e4bf&&_0xbcd8a1&&_0x59e4bf[_0x5dc34f(0x190)]('click',()=>{const _0x554c11=_0x5dc34f,_0x10993c=_0xbcd8a1[_0x554c11(0x236)]['display']!==_0x554c11(0x1bf);_0xbcd8a1[_0x554c11(0x236)][_0x554c11(0x14f)]=_0x10993c?'none':_0x554c11(0x152),_0x59e4bf['classList'][_0x554c11(0x221)](_0x554c11(0x224),!_0x10993c);});const _0x3b145e=document[_0x5dc34f(0x26f)]('apply-enhanced-filters'),_0x1d13b2=document[_0x5dc34f(0x26f)](_0x5dc34f(0x1ed));_0x3b145e&&_0x3b145e['addEventListener'](_0x5dc34f(0x145),()=>{const _0x52fd25=_0x5dc34f;previewState[_0x52fd25(0x207)][_0x52fd25(0x15d)]=document['getElementById'](_0x52fd25(0x217))['value'][_0x52fd25(0x17f)](),previewState[_0x52fd25(0x207)]['levels']=document[_0x52fd25(0x26f)](_0x52fd25(0x159))[_0x52fd25(0x268)][_0x52fd25(0x17f)]();const _0x5b1f17=document['getElementById'](_0x52fd25(0x277));previewState['enhancedFilters'][_0x52fd25(0x255)]=Array['from'](_0x5b1f17['selectedOptions'])[_0x52fd25(0x163)](_0x11a884=>_0x11a884[_0x52fd25(0x268)])[_0x52fd25(0x1a4)](_0x4aaf3f=>_0x4aaf3f!==''),loadRecentMatchesPreview(_0x52fd25(0x231));});_0x1d13b2&&_0x1d13b2[_0x5dc34f(0x190)](_0x5dc34f(0x145),()=>{const _0x2a5c23=_0x5dc34f;clearEnhancedFilters(),loadRecentMatchesPreview(_0x2a5c23(0x231));});document[_0x5dc34f(0x252)](_0x5dc34f(0x1b7))[_0x5dc34f(0x14d)](_0x80d73b=>{const _0x5785b8=_0x5dc34f;_0x80d73b[_0x5785b8(0x190)](_0x5785b8(0x145),()=>{const _0x1eeecf=_0x5785b8,_0x56fc45=_0x80d73b[_0x1eeecf(0x24c)][_0x1eeecf(0x195)];jumpToPage(_0x56fc45);});});const _0xe32ed6=document[_0x5dc34f(0x26f)]('jump-to-page');_0xe32ed6&&_0xe32ed6[_0x5dc34f(0x190)](_0x5dc34f(0x164),_0xcea323=>{const _0x230261=_0x5dc34f;_0xcea323[_0x230261(0x20b)]===_0x230261(0x210)&&jumpToPage(_0x230261(0x1f1));});const _0x52fe1c=document[_0x5dc34f(0x26f)](_0x5dc34f(0x272)),_0x19db5c=document['getElementById'](_0x5dc34f(0x1a8));if(_0x52fe1c)_0x52fe1c['addEventListener'](_0x5dc34f(0x145),closePreviewCommentPopup);if(_0x19db5c)_0x19db5c[_0x5dc34f(0x190)](_0x5dc34f(0x145),closePreviewCommentPopup);const _0xcded3=document[_0x5dc34f(0x26f)](_0x5dc34f(0x169)),_0x52cbc8=document[_0x5dc34f(0x26f)](_0x5dc34f(0x1f3)),_0x53f3d8=document[_0x5dc34f(0x26f)]('addCommentForm');if(_0xcded3)_0xcded3['addEventListener'](_0x5dc34f(0x145),closeAddCommentPopup);if(_0x52cbc8)_0x52cbc8[_0x5dc34f(0x190)](_0x5dc34f(0x145),closeAddCommentPopup);if(_0x53f3d8)_0x53f3d8[_0x5dc34f(0x190)](_0x5dc34f(0x273),submitComment);const _0x2951e2=document[_0x5dc34f(0x26f)](_0x5dc34f(0x19a)),_0x148394=document[_0x5dc34f(0x26f)](_0x5dc34f(0x25d));_0x2951e2&&_0x148394&&setupWordCounter('commentText',_0x5dc34f(0x25d),0xf);}window['showAddCommentPopup']=showAddCommentPopup,window['closeAddCommentPopup']=closeAddCommentPopup,window[a6_0x470df5(0x226)]=submitComment;