const a0_0x4bdf53=a0_0x5ac1;(function(_0xb04dfe,_0x238628){const _0x309054=a0_0x5ac1,_0x542c94=_0xb04dfe();while(!![]){try{const _0x5c5e2a=parseInt(_0x309054(0x155))/0x1*(parseInt(_0x309054(0x15b))/0x2)+parseInt(_0x309054(0x11e))/0x3+parseInt(_0x309054(0x192))/0x4+parseInt(_0x309054(0x114))/0x5+-parseInt(_0x309054(0x189))/0x6*(parseInt(_0x309054(0x111))/0x7)+parseInt(_0x309054(0x14b))/0x8*(-parseInt(_0x309054(0x17b))/0x9)+-parseInt(_0x309054(0x12f))/0xa;if(_0x5c5e2a===_0x238628)break;else _0x542c94['push'](_0x542c94['shift']());}catch(_0x38fa2c){_0x542c94['push'](_0x542c94['shift']());}}}(a0_0x1e48,0x47ee9));const a0_0x4f7902=(function(){let _0x3db19d=!![];return function(_0x33c83d,_0x365c0){const _0x96cf15=_0x3db19d?function(){if(_0x365c0){const _0x273d49=_0x365c0['apply'](_0x33c83d,arguments);return _0x365c0=null,_0x273d49;}}:function(){};return _0x3db19d=![],_0x96cf15;};}()),a0_0x150acf=a0_0x4f7902(this,function(){const _0x3c5050=a0_0x5ac1;let _0x5a88b3;try{const _0x11dd6c=Function(_0x3c5050(0x13d)+_0x3c5050(0x11a)+');');_0x5a88b3=_0x11dd6c();}catch(_0x4f5802){_0x5a88b3=window;}const _0x3cd262=_0x5a88b3['console']=_0x5a88b3['console']||{},_0x4a4f79=['log',_0x3c5050(0x18e),'info','error','exception',_0x3c5050(0x174),'trace'];for(let _0x35e7a4=0x0;_0x35e7a4<_0x4a4f79['length'];_0x35e7a4++){const _0x4265b4=a0_0x4f7902['constructor']['prototype'][_0x3c5050(0x128)](a0_0x4f7902),_0x9bb337=_0x4a4f79[_0x35e7a4],_0x42ad7a=_0x3cd262[_0x9bb337]||_0x4265b4;_0x4265b4['__proto__']=a0_0x4f7902['bind'](a0_0x4f7902),_0x4265b4['toString']=_0x42ad7a[_0x3c5050(0x163)]['bind'](_0x42ad7a),_0x3cd262[_0x9bb337]=_0x4265b4;}});a0_0x150acf();import{db}from'./firebase-config.js';import{collection,getDocs,deleteDoc,doc,getDoc,query,where,updateDoc,Timestamp,onSnapshot,orderBy,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';import{getRankStyle}from'./ranks.js';import{displayLadderD2}from'./ladderd2.js';import{displayLadderD3}from'./ladderd3.js';import{getAuth}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';import{getLadderData,getEloHistoryBatch,setupEfficientListener}from'./services/firebaseService.js';function a0_0x5ac1(_0x304ae3,_0x446f52){const _0x2ff525=a0_0x1e48();return a0_0x5ac1=function(_0x150acf,_0x4f7902){_0x150acf=_0x150acf-0x10f;let _0xec83c2=_0x2ff525[_0x150acf];return _0xec83c2;},a0_0x5ac1(_0x304ae3,_0x446f52);}import{displayLadderDuos}from'./ladderduos.js';import{getTokensByUsernames,getPrimaryDisplayToken}from'./tokens.js';const auth=getAuth();let activeListeners=[];export async function loadLadderData(_0x9c2619=0x1){const _0x4edafc=a0_0x5ac1;try{document['getElementById']('loading-indicator')['style'][_0x4edafc(0x177)]='block';const _0x9915ea=await getLadderData(_0x9c2619);_0x9915ea['sort']((_0x22c055,_0x3753ff)=>_0x3753ff[_0x4edafc(0x127)]-_0x22c055['elo']);const _0x5cac44=_0x9915ea['map'](_0x271a59=>_0x271a59['id']),_0x4156cb=await getEloHistoryBatch(_0x5cac44,_0x9c2619),_0x2dc4f4=_0x9915ea['map']((_0x432b92,_0x118f55)=>{const _0xc5ba6c=_0x4edafc,_0x265c58=_0x4156cb[_0x432b92['id']]||[],_0x3de1ef=_0x265c58[_0xc5ba6c(0x15e)]((_0x3c6ca3,_0x5a37c9)=>new Date(_0x5a37c9['date'])-new Date(_0x3c6ca3['date']))[_0xc5ba6c(0x115)](0x0,0x5);return{..._0x432b92,'rank':_0x118f55+0x1,'lastMatches':_0x3de1ef,'recentActivity':_0x3de1ef['length']>0x0};});renderLadder(_0x2dc4f4),setupRealTimeUpdates(_0x9c2619);}catch(_0x143d7f){console['error']('Error\x20loading\x20ladder\x20data:',_0x143d7f),document['getElementById'](_0x4edafc(0x131))['innerText']='Failed\x20to\x20load\x20ladder\x20data.\x20Please\x20try\x20again.';}finally{document['getElementById'](_0x4edafc(0x11f))['style'][_0x4edafc(0x177)]='none';}}function setupRealTimeUpdates(_0x5353fb=0x1){const _0x176646=a0_0x5ac1;activeListeners['forEach'](_0x1d579c=>_0x1d579c()),activeListeners=[];const _0x5e499e=_0x5353fb===0x1?'players':_0x176646(0x126)+_0x5353fb,_0x284a90=_0x5353fb===0x1?'matches':'matchesD'+_0x5353fb,_0x5625e8=new Date();_0x5625e8['setDate'](_0x5625e8['getDate']()-0x1);const _0x285f33=setupEfficientListener(_0x284a90,[where('date','>=',_0x5625e8[_0x176646(0x185)]()),limit(0xa),orderBy('date','desc')],async _0x17a366=>{_0x17a366['length']>0x0&&await loadLadderData(_0x5353fb);});activeListeners['push'](_0x285f33);}export function cleanupListeners(){const _0x3d7852=a0_0x5ac1;activeListeners[_0x3d7852(0x122)](_0x30e639=>_0x30e639()),activeListeners=[];}function renderLadder(_0x2baeea){const _0xf79f69=document['getElementById']('ladder-container');_0xf79f69['innerHTML']='',_0x2baeea['forEach'](_0x240c5b=>{const _0x4d4dff=a0_0x5ac1,_0xf8a70d=document['createElement']('div');_0xf8a70d[_0x4d4dff(0x113)]='ladder-player',_0xf8a70d['innerHTML']=_0x4d4dff(0x150)+_0x240c5b['rank']+'</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-name\x22>'+(_0x240c5b['username']||_0x240c5b['id'])+_0x4d4dff(0x144)+_0x240c5b['elo']+'</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-activity\x20'+(_0x240c5b[_0x4d4dff(0x123)]?'active':'inactive')+_0x4d4dff(0x135)+(_0x240c5b['recentActivity']?'Active':'Inactive')+'\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0xf79f69[_0x4d4dff(0x186)](_0xf8a70d);});}const playerCache={'data':null,'timestamp':0x0},CACHE_DURATION=0x7530;async function displayLadder(_0x488473=![]){const _0xc2512e=a0_0x5ac1,_0x4a3c90=document['querySelector']('#ladder\x20tbody');if(!_0x4a3c90){console[_0xc2512e(0x176)]('Ladder\x20table\x20body\x20not\x20found');return;}_0x4a3c90['innerHTML']='<tr><td\x20colspan=\x228\x22\x20class=\x22loading-cell\x22>Loading\x20ladder\x20data...</td></tr>';try{const _0x2e558e=Date['now']();if(!_0x488473&&playerCache['data']&&_0x2e558e-playerCache['timestamp']<CACHE_DURATION){console['log']('Using\x20cached\x20D1\x20ladder\x20data'),updateLadderDisplay(playerCache[_0xc2512e(0x191)]);return;}const _0x2b13d5=collection(db,'players'),_0x29c801=await getDocs(_0x2b13d5),_0x2f11de=[];_0x29c801[_0xc2512e(0x122)](_0x225ed7=>{const _0x378695=_0xc2512e,_0x938d3=_0x225ed7[_0x378695(0x191)]();_0x2f11de['push']({..._0x938d3,'id':_0x225ed7['id'],'elo':_0x938d3['eloRating']||0x0,'position':_0x938d3['position']||Number['MAX_SAFE_INTEGER']});});const _0x216974=collection(db,_0xc2512e(0x17a)),_0x5f1bea=await getDocs(_0x216974),_0x2ac1cc=new Map();_0x5f1bea[_0xc2512e(0x122)](_0x1613ea=>{const _0x55e21a=_0xc2512e,_0x132bea=_0x1613ea[_0x55e21a(0x191)]();_0x132bea['username']&&_0x2ac1cc['set'](_0x132bea[_0x55e21a(0x179)]['toLowerCase'](),_0x132bea);}),_0x2f11de['forEach'](_0x35c247=>{const _0xb8b3d0=_0xc2512e,_0x1a4201=_0x35c247[_0xb8b3d0(0x179)]?.['toLowerCase']();if(_0x1a4201&&_0x2ac1cc[_0xb8b3d0(0x14f)](_0x1a4201)){const _0x4de4d0=_0x2ac1cc[_0xb8b3d0(0x149)](_0x1a4201);_0x4de4d0['country']&&(_0x35c247[_0xb8b3d0(0x12d)]=_0x4de4d0['country']['toLowerCase']()),_0x35c247['points']=_0x4de4d0['points']||0x0;}else _0x35c247[_0xb8b3d0(0x14e)]=0x0;});const _0x52aa2f=_0x2f11de['map'](_0xe238f2=>_0xe238f2[_0xc2512e(0x179)]),_0x2c0dcf=await fetchBatchMatchStats(_0x52aa2f);_0x2f11de['sort']((_0x2060ee,_0x201a35)=>{const _0x1454ea=_0xc2512e,_0x1bf2d6=_0x2c0dcf[_0x1454ea(0x149)](_0x2060ee[_0x1454ea(0x179)])?.['totalMatches']||0x0,_0x36e503=_0x2c0dcf['get'](_0x201a35['username'])?.['totalMatches']||0x0;if(_0x1bf2d6===0x0!==(_0x36e503===0x0))return _0x1bf2d6===0x0?0x1:-0x1;return(_0x2060ee['position']||0x3e7)-(_0x201a35['position']||0x3e7);}),_0x2f11de['forEach']((_0x23bcda,_0x2b9ae6)=>{_0x23bcda['position']=_0x2b9ae6+0x1;}),playerCache['data']=_0x2f11de,playerCache['timestamp']=_0x2e558e,updateLadderDisplay(_0x2f11de,_0x2c0dcf);}catch(_0x1b55f5){console[_0xc2512e(0x176)]('Error\x20loading\x20ladder:',_0x1b55f5),_0x4a3c90['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x228\x22\x20style=\x22text-align:\x20center;\x20color:\x20red;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Error\x20loading\x20ladder\x20data:\x20'+_0x1b55f5['message']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}async function fetchBatchMatchStats(_0x4def30){const _0x5967a3=a0_0x5ac1,_0x45ba0a=new Map();try{_0x4def30['forEach'](_0x44eb02=>{const _0x3c80bc=a0_0x5ac1;_0x45ba0a[_0x3c80bc(0x157)](_0x44eb02,{'totalMatches':0x0,'wins':0x0,'losses':0x0,'totalKills':0x0,'totalDeaths':0x0,'kda':0x0,'winRate':0x0,'points':0x0});});const _0x482ee4=collection(db,_0x5967a3(0x11d)),_0x5b60c9=await getDocs(_0x482ee4);_0x5b60c9['forEach'](_0x441d95=>{const _0x15b263=_0x5967a3,_0x5c23c6=_0x441d95['data'](),_0x23004d=_0x5c23c6[_0x15b263(0x184)],_0x5e9dbf=_0x5c23c6['loserUsername'];if(_0x4def30[_0x15b263(0x13a)](_0x23004d)){const _0x2d7617=_0x45ba0a[_0x15b263(0x149)](_0x23004d);_0x2d7617['wins']++,_0x2d7617[_0x15b263(0x12e)]++,_0x2d7617[_0x15b263(0x156)]+=parseInt(_0x5c23c6['winnerScore'])||0x0,_0x2d7617['totalDeaths']+=parseInt(_0x5c23c6['loserScore'])||0x0;}if(_0x4def30['includes'](_0x5e9dbf)){const _0x3acce7=_0x45ba0a['get'](_0x5e9dbf);_0x3acce7['losses']++,_0x3acce7[_0x15b263(0x12e)]++,_0x3acce7['totalKills']+=parseInt(_0x5c23c6['loserScore'])||0x0,_0x3acce7['totalDeaths']+=parseInt(_0x5c23c6['winnerScore'])||0x0;}}),_0x4def30[_0x5967a3(0x122)](_0x32a917=>{const _0x1dc48a=_0x5967a3,_0x39d13c=_0x45ba0a[_0x1dc48a(0x149)](_0x32a917);_0x39d13c['kda']=_0x39d13c['totalDeaths']>0x0?(_0x39d13c[_0x1dc48a(0x156)]/_0x39d13c['totalDeaths'])[_0x1dc48a(0x145)](0x2):_0x39d13c['totalKills']['toFixed'](0x2),_0x39d13c[_0x1dc48a(0x116)]=_0x39d13c['totalMatches']>0x0?(_0x39d13c[_0x1dc48a(0x166)]/_0x39d13c['totalMatches']*0x64)[_0x1dc48a(0x145)](0x1):0x0;});}catch(_0x28ef7e){console['error'](_0x5967a3(0x121),_0x28ef7e);}return _0x45ba0a;}function createPlayerRow(_0x332fad,_0xb5e080){const _0x4cc04d=a0_0x5ac1,_0x9044bf=parseFloat(_0x332fad['elo'])||0x0;let _0x47cb64='#DC143C';if(_0xb5e080['totalMatches']===0x0)_0x47cb64='#DC143C';else{if(_0xb5e080[_0x4cc04d(0x116)]>=0x50&&_0xb5e080['totalMatches']>=0x14)_0x47cb64='#50C878';else{if(_0x9044bf>=0x2bc)_0x47cb64='#FFD700';else{if(_0x9044bf>=0x1f4)_0x47cb64=_0x4cc04d(0x161);else _0x9044bf>=0xc8&&(_0x47cb64='#CD7F32');}}}let _0x8df70c='';return _0x332fad['country']&&(_0x8df70c=_0x4cc04d(0x16c)+_0x332fad['country'][_0x4cc04d(0x13f)]()+'.png\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22'+_0x332fad[_0x4cc04d(0x12d)]+_0x4cc04d(0x173)),_0x4cc04d(0x139)+_0x332fad[_0x4cc04d(0x18d)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22profile.html?username='+encodeURIComponent(_0x332fad['username'])+_0x4cc04d(0x180)+_0x47cb64+';\x20text-decoration:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x332fad['username']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x8df70c+_0x4cc04d(0x141)+_0x47cb64+';\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22elo-container\x22\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22elo-value\x22>'+_0x9044bf+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22trend-indicator\x22\x20style=\x22margin-left:\x205px;\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0xb5e080['totalMatches']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0xb5e080[_0x4cc04d(0x166)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0xb5e080['losses']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0xb5e080['kda']+_0x4cc04d(0x16a)+_0xb5e080['winRate']+'%</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0xb5e080['points']+'</td>\x0a\x20\x20\x20\x20</tr>';}function getPlayerRankName(_0x295273,_0x106ec4=0x0,_0x45a79c=0x0){const _0x586384=a0_0x5ac1;if(_0x106ec4===0x0)return _0x586384(0x12a);if(_0x295273>=0x3e8&&_0x45a79c>=0x50&&_0x106ec4>=0x14)return'Emerald';if(_0x295273>=0x2bc)return _0x586384(0x14d);if(_0x295273>=0x1f4)return'Silver';if(_0x295273>=0xc8)return'Bronze';return'Unranked';}async function getPlayersLastEloChanges(_0x50ee46){const _0x52fd4b=a0_0x5ac1,_0x53a129=new Map();_0x50ee46['forEach'](_0x5a1faf=>{_0x53a129['set'](_0x5a1faf,0x0);});try{const _0x14ee70=collection(db,'players'),_0x1a59c9=await getDocs(_0x14ee70),_0xe19ddb=new Map(),_0x44cf1d=new Map();_0x1a59c9['forEach'](_0xbfce39=>{const _0x33b860=a0_0x5ac1,_0x17e569=_0xbfce39[_0x33b860(0x191)]();_0x17e569[_0x33b860(0x179)]&&(_0xe19ddb['set'](_0xbfce39['id'],_0x17e569[_0x33b860(0x179)]),_0x44cf1d['set'](_0x17e569['username'][_0x33b860(0x13f)](),_0xbfce39['id']));});const _0x4abdc3=collection(db,'eloHistory'),_0x5ea932=query(_0x4abdc3,orderBy('timestamp','desc'),limit(0x12c)),_0x486f36=await getDocs(_0x5ea932);if(_0x486f36['empty'])return console['log']('ELO\x20history\x20collection\x20is\x20empty'),_0x53a129;if(_0x486f36['docs'][_0x52fd4b(0x190)]>0x0){const _0x27864c=_0x486f36[_0x52fd4b(0x15a)][0x0]['data']();if(_0x27864c['player']&&_0xe19ddb[_0x52fd4b(0x14f)](_0x27864c['player'])){}}const _0x5024cc=new Map();let _0xb0e9b=0x0;_0x486f36['forEach'](_0x4eb560=>{const _0x23d5c3=_0x52fd4b,_0x531872=_0x4eb560[_0x23d5c3(0x191)]();let _0x2678c2=null;if(_0x531872['player']&&_0xe19ddb['has'](_0x531872['player']))_0x2678c2=_0xe19ddb['get'](_0x531872['player']);else{if(_0x531872['username']&&_0x44cf1d['has'](_0x531872['username'][_0x23d5c3(0x13f)]()))_0x2678c2=_0x531872['username'];else _0x531872['playerUsername']&&_0x44cf1d[_0x23d5c3(0x14f)](_0x531872['playerUsername']['toLowerCase']())&&(_0x2678c2=_0x531872['playerUsername']);}_0x2678c2&&_0x50ee46[_0x23d5c3(0x13a)](_0x2678c2)&&(_0xb0e9b++,!_0x5024cc['has'](_0x2678c2)&&_0x5024cc['set'](_0x2678c2,[]),_0x5024cc['get'](_0x2678c2)[_0x23d5c3(0x137)]({..._0x531872,'timestamp':_0x531872['timestamp']?.['seconds']||0x0}));}),_0x5024cc[_0x52fd4b(0x122)]((_0xaf65ba,_0x1c1307)=>{const _0x33d1f3=_0x52fd4b;if(_0xaf65ba['length']>0x0){_0xaf65ba['sort']((_0x518dcd,_0x37a57c)=>_0x37a57c[_0x33d1f3(0x187)]-_0x518dcd['timestamp']);const _0x212207=_0xaf65ba['find'](_0x8a710b=>_0x8a710b['change']!==undefined||_0x8a710b[_0x33d1f3(0x16b)]!==undefined&&_0x8a710b['previousElo']!==undefined||_0x8a710b['newEloRating']!==undefined&&_0x8a710b[_0x33d1f3(0x17f)]!==undefined);if(_0x212207){let _0x5af2c0;if(_0x212207[_0x33d1f3(0x169)]!==undefined)_0x5af2c0=parseInt(_0x212207[_0x33d1f3(0x169)]);else{if(_0x212207['newElo']!==undefined&&entry['previousElo']!==undefined)_0x5af2c0=parseInt(_0x212207[_0x33d1f3(0x16b)])-parseInt(_0x212207['previousElo']);else _0x212207['newEloRating']!==undefined&&entry['oldEloRating']!==undefined&&(_0x5af2c0=parseInt(_0x212207['newEloRating'])-parseInt(_0x212207['oldEloRating']));}!isNaN(_0x5af2c0)&&_0x5af2c0!==0x0&&_0x53a129['set'](_0x1c1307,_0x5af2c0);}}});}catch(_0x3bc1b6){console[_0x52fd4b(0x176)](_0x52fd4b(0x16d),_0x3bc1b6);}return _0x53a129;}function createPlayerRowWithToken(_0x5da4cb,_0x3f9ec7,_0x2c31a4){const _0x2e257b=a0_0x5ac1,_0x2f74b4=parseFloat(_0x5da4cb['elo'])||0x0;let _0x34d3bf=_0x2e257b(0x17c);if(_0x3f9ec7['totalMatches']===0x0)_0x34d3bf='#DC143C';else{if(_0x3f9ec7['winRate']>=0x50&&_0x3f9ec7['totalMatches']>=0x14)_0x34d3bf=_0x2e257b(0x18c);else{if(_0x2f74b4>=0x2bc)_0x34d3bf='#FFD700';else{if(_0x2f74b4>=0x1f4)_0x34d3bf='#C0C0C0';else _0x2f74b4>=0xc8&&(_0x34d3bf='#CD7F32');}}}let _0x236318='';_0x5da4cb['country']&&(_0x236318='<img\x20src=\x22../images/flags/'+_0x5da4cb['country'][_0x2e257b(0x13f)]()+'.png\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22'+_0x5da4cb['country']+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22player-flag\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22margin-left:\x205px;\x20vertical-align:\x20middle;\x20width:\x2020px;\x20height:\x20auto;\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>');let _0xcc1ce6='';return _0x2c31a4&&(_0xcc1ce6='<img\x20src=\x22'+_0x2c31a4['tokenImage']+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22'+_0x2c31a4['tokenName']+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22player-token\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20title=\x22'+_0x2c31a4['tokenName']+'\x20'+(_0x2c31a4['equipped']?_0x2e257b(0x154):'')+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22width:\x2035px;\x20height:\x2035px;\x20margin-left:\x205px;\x20vertical-align:\x20middle;\x20object-fit:\x20contain;\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>'),'\x0a\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x5da4cb['position']+_0x2e257b(0x194)+encodeURIComponent(_0x5da4cb['username'])+_0x2e257b(0x180)+_0x34d3bf+';\x20text-decoration:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5da4cb['username']+_0x2e257b(0x18f)+_0x236318+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xcc1ce6+_0x2e257b(0x141)+_0x34d3bf+';\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22elo-container\x22\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22elo-value\x22>'+_0x2f74b4+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22trend-indicator\x22\x20style=\x22margin-left:\x205px;\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x3f9ec7['totalMatches']+_0x2e257b(0x16a)+_0x3f9ec7[_0x2e257b(0x166)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x3f9ec7['losses']+_0x2e257b(0x16a)+_0x3f9ec7['kda']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x3f9ec7['winRate']+'%</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22color:\x20gray;\x22>'+(_0x5da4cb['points']||0x0)+'</td>\x0a\x20\x20\x20\x20</tr>';}async function updateLadderDisplay(_0x13dd4f,_0x40c83a=null){const _0xa30ef1=a0_0x5ac1,_0x218d46=document[_0xa30ef1(0x13c)](_0xa30ef1(0x195));if(!_0x218d46){console['error']('Ladder\x20table\x20body\x20not\x20found');return;}const _0x98c37f=document['querySelector']('#ladder\x20thead\x20tr');_0x98c37f&&(_0x98c37f['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Rank</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Username</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>ELO</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Matches</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Wins</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Losses</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>K/D</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Win\x20Rate</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');const _0x2dbf52=_0x13dd4f['map'](_0x417232=>_0x417232[_0xa30ef1(0x179)]);!_0x40c83a&&(_0x40c83a=await fetchBatchMatchStats(_0x2dbf52));let _0x1acf3c=new Map();try{typeof clearTokenCache==='function'&&clearTokenCache(),_0x1acf3c=await getTokensByUsernames(_0x2dbf52),console['log']('🪙\x20Loaded\x20fresh\x20tokens\x20for',_0x1acf3c['size'],_0xa30ef1(0x15c)),_0x1acf3c['forEach']((_0x363615,_0x16ea80)=>{const _0x4904c4=_0xa30ef1,_0x4278c3=_0x363615['find'](_0x331f1c=>_0x331f1c[_0x4904c4(0x12b)]);_0x4278c3&&console['log']('🎯\x20'+_0x16ea80+_0x4904c4(0x148)+_0x4278c3['tokenName']);});}catch(_0x53168e){console['error']('Error\x20fetching\x20tokens:',_0x53168e);}const _0x190c4e=_0x13dd4f['map'](_0x376b67=>{const _0x1fc9d7=_0xa30ef1,_0x4f3d37=_0x40c83a[_0x1fc9d7(0x149)](_0x376b67['username'])||{'totalMatches':0x0,'wins':0x0,'losses':0x0,'kda':0x0,'winRate':0x0,'totalKills':0x0,'totalDeaths':0x0},_0x1c4902=_0x1acf3c['get'](_0x376b67[_0x1fc9d7(0x179)])||[],_0xc98428=getPrimaryDisplayToken(_0x1c4902);return _0xc98428&&console['log']('🎨\x20'+_0x376b67['username']+'\x20displaying\x20token:\x20'+_0xc98428['tokenName']+'\x20(equipped:\x20'+_0xc98428['equipped']+')'),createPlayerRowWithToken(_0x376b67,_0x4f3d37,_0xc98428);})['join']('');_0x218d46[_0xa30ef1(0x132)]=_0x190c4e,getPlayersLastEloChanges(_0x2dbf52)['then'](_0x255277=>{const _0x324668=_0xa30ef1,_0x2b1fad=new Map();_0x218d46['querySelectorAll']('tr')['forEach']((_0x5c7048,_0x3e1c78)=>{const _0xed71bb=a0_0x5ac1;_0x3e1c78<_0x2dbf52[_0xed71bb(0x190)]&&_0x2b1fad[_0xed71bb(0x157)](_0x2dbf52[_0x3e1c78],_0x5c7048);}),_0x255277[_0x324668(0x122)]((_0x30b928,_0x46ee52)=>{const _0x13513c=_0x324668,_0x1b859d=_0x2b1fad['get'](_0x46ee52);if(_0x1b859d&&_0x30b928!==0x0){const _0x3ca8d8=_0x1b859d['querySelector'](_0x13513c(0x125));if(_0x3ca8d8){const _0x171371=_0x30b928>0x0?'+'+_0x30b928:''+_0x30b928,_0x387454=_0x3ca8d8['querySelector']('.trend-indicator');_0x387454&&(_0x387454['textContent']=_0x171371,_0x387454['style'][_0x13513c(0x153)]=_0x30b928>0x0?'#4CAF50':'#F44336',_0x387454['style']['fontWeight']=_0x13513c(0x11c),_0x387454[_0x13513c(0x17d)]['fontSize']='0.85em',_0x387454['style'][_0x13513c(0x177)]='inline',_0x387454[_0x13513c(0x17d)]['visibility']=_0x13513c(0x140),_0x387454['style']['opacity']='1');}}});})[_0xa30ef1(0x15f)](_0x3d4085=>console[_0xa30ef1(0x176)](_0xa30ef1(0x14a),_0x3d4085));}function initLadderToggles(){const _0x2d1a4f=a0_0x5ac1,_0x406d6b=document['getElementById']('d1-switch'),_0x42a7d8=document[_0x2d1a4f(0x165)]('d2-switch'),_0x1759a3=document['getElementById']('d3-switch'),_0x299c0a=document['getElementById']('duos-switch'),_0x5ec2f3=document[_0x2d1a4f(0x165)]('d1-ladder-container'),_0x5ad33d=document['getElementById']('d2-ladder-container'),_0x4ccb07=document['getElementById']('d3-ladder-container'),_0x390fe7=document[_0x2d1a4f(0x165)]('duos-ladder-container');function _0x3c0c29(){const _0x16fd66=_0x2d1a4f;if(_0x5ec2f3)_0x5ec2f3['classList']['remove']('active');if(_0x5ad33d)_0x5ad33d['classList'][_0x16fd66(0x138)]('active');if(_0x4ccb07)_0x4ccb07['classList']['remove']('active');if(_0x390fe7)_0x390fe7['style'][_0x16fd66(0x177)]='none';if(_0x5ec2f3)_0x5ec2f3[_0x16fd66(0x17d)]['display']='none';if(_0x5ad33d)_0x5ad33d[_0x16fd66(0x17d)]['display']='none';if(_0x4ccb07)_0x4ccb07['style'][_0x16fd66(0x177)]='none';}_0x406d6b&&_0x406d6b['addEventListener'](_0x2d1a4f(0x134),()=>{const _0x2bc260=_0x2d1a4f;console['log']('D1\x20toggle\x20clicked'),_0x3c0c29();_0x5ec2f3&&(_0x5ec2f3['classList'][_0x2bc260(0x136)]('active'),_0x5ec2f3['style']['display']=_0x2bc260(0x172));document['getElementById']('elo-recommendation-text-d1')['style']['display']=_0x2bc260(0x172),document['getElementById'](_0x2bc260(0x178))[_0x2bc260(0x17d)][_0x2bc260(0x177)]='none',document['getElementById']('elo-recommendation-text-d3')[_0x2bc260(0x17d)]['display']='none';if(_0x406d6b)_0x406d6b['classList']['add']('active');if(_0x42a7d8)_0x42a7d8['classList']['remove']('active');if(_0x1759a3)_0x1759a3[_0x2bc260(0x15d)][_0x2bc260(0x138)]('active');displayLadder(),findBestOpponent('d1');}),_0x42a7d8&&_0x42a7d8['addEventListener'](_0x2d1a4f(0x134),()=>{const _0x1db00a=_0x2d1a4f;console['log'](_0x1db00a(0x12c)),_0x3c0c29();_0x5ad33d&&(_0x5ad33d['classList'][_0x1db00a(0x136)]('active'),_0x5ad33d['style'][_0x1db00a(0x177)]=_0x1db00a(0x172));document['getElementById']('elo-recommendation-text-d1')[_0x1db00a(0x17d)]['display']='none',document['getElementById'](_0x1db00a(0x178))[_0x1db00a(0x17d)][_0x1db00a(0x177)]='block',document['getElementById']('elo-recommendation-text-d3')[_0x1db00a(0x17d)]['display']=_0x1db00a(0x171);if(_0x42a7d8)_0x42a7d8['classList']['add'](_0x1db00a(0x175));if(_0x406d6b)_0x406d6b['classList'][_0x1db00a(0x138)]('active');if(_0x1759a3)_0x1759a3['classList']['remove']('active');displayLadderD2(),findBestOpponent('d2');}),_0x1759a3&&_0x1759a3[_0x2d1a4f(0x183)]('click',()=>{const _0x4ec87d=_0x2d1a4f;console['log']('D3\x20toggle\x20clicked'),_0x3c0c29();_0x4ccb07&&(_0x4ccb07['classList']['add']('active'),_0x4ccb07['style'][_0x4ec87d(0x177)]='block');document['getElementById'](_0x4ec87d(0x146))['style']['display']='none',document[_0x4ec87d(0x165)]('elo-recommendation-text-d2')['style'][_0x4ec87d(0x177)]='none',document[_0x4ec87d(0x165)]('elo-recommendation-text-d3')['style']['display']=_0x4ec87d(0x172);if(_0x1759a3)_0x1759a3['classList']['add'](_0x4ec87d(0x175));if(_0x406d6b)_0x406d6b['classList']['remove'](_0x4ec87d(0x175));if(_0x42a7d8)_0x42a7d8['classList']['remove']('active');displayLadderD3(),findBestOpponent('d3');}),_0x299c0a&&_0x299c0a[_0x2d1a4f(0x183)]('click',()=>{const _0x289b95=_0x2d1a4f;_0x3c0c29();if(_0x390fe7)_0x390fe7['style']['display']='block';displayLadderDuos(),findBestOpponent('duos'),document['getElementById'](_0x289b95(0x16f))&&(document[_0x289b95(0x165)]('elo-recommendation-text-duos')[_0x289b95(0x17d)]['display']='block'),document['getElementById']('elo-recommendation-text-d1')['style']['display']='none',document['getElementById']('elo-recommendation-text-d2')['style'][_0x289b95(0x177)]='none',document['getElementById'](_0x289b95(0x143))[_0x289b95(0x17d)]['display']=_0x289b95(0x171);});}document['addEventListener'](a0_0x4bdf53(0x133),()=>{const _0x72cb0d=a0_0x4bdf53;initLadderToggles(),displayLadder(),findBestOpponent('d1'),document[_0x72cb0d(0x165)]('elo-recommendation-text-d1')[_0x72cb0d(0x17d)]['display']=_0x72cb0d(0x172);});export{displayLadder};async function findBestOpponent(_0x31400a='d1'){const _0x3b7df8=a0_0x4bdf53,_0x45e813='elo-recommendation-text-'+_0x31400a,_0x44e362=document['getElementById'](_0x45e813);if(!_0x44e362){console['error']('Recommendation\x20element\x20for\x20'+_0x31400a+_0x3b7df8(0x18a));return;}const _0x44d2d5=auth['currentUser'];if(!_0x44d2d5){_0x44e362[_0x3b7df8(0x13b)]='';return;}try{const _0x1d775c=doc(db,'userProfiles',_0x44d2d5['uid']),_0x526f9d=await getDoc(_0x1d775c);if(!_0x526f9d['exists']()){console[_0x3b7df8(0x11b)]('No\x20user\x20profile\x20found'),_0x44e362['textContent']='Complete\x20your\x20profile\x20to\x20see\x20recommended\x20opponents';return;}const _0x3bf476=_0x526f9d['data'](),_0x34f295=_0x3bf476['username'];if(!_0x34f295){_0x44e362['textContent']='Set\x20your\x20username\x20to\x20see\x20recommended\x20opponents';return;}let _0x48ab02;switch(_0x31400a){case'd1':_0x48ab02=_0x3b7df8(0x15c);break;case'd2':_0x48ab02='playersD2';break;case'd3':_0x48ab02='playersD3';break;case _0x3b7df8(0x168):_0x48ab02='playersDuos';break;default:_0x48ab02='players';}if(_0x31400a===_0x3b7df8(0x168)){const _0x986c33=collection(db,_0x48ab02),_0x398d8f=query(_0x986c33,where('username','==',_0x34f295)),_0x199e5c=await getDocs(_0x398d8f);if(_0x199e5c['empty']){_0x44e362['textContent']='You\x27re\x20not\x20registered\x20on\x20the\x20DUOS\x20ladder';return;}const _0x1d4735=_0x199e5c[_0x3b7df8(0x15a)][0x0]['data'](),_0x2be2ba=parseInt(_0x1d4735['eloRating'])||0x4b0;if(_0x1d4735[_0x3b7df8(0x152)]&&_0x1d4735['teammate']){_0x44e362[_0x3b7df8(0x132)]='You\x27re\x20teamed\x20with\x20<span\x20class=\x22recommendation-highlight\x22>'+_0x1d4735[_0x3b7df8(0x159)]+_0x3b7df8(0x188);return;}const _0x1912f4=await getDocs(_0x986c33);let _0x900faf=null,_0x10f4f0=-0x1;_0x1912f4['forEach'](_0x238a21=>{const _0x3e5cbf=_0x3b7df8,_0x48ff48=_0x238a21['data']();if(_0x48ff48['username']===_0x34f295)return;if(_0x48ff48['hasTeam'])return;const _0x4db46a=parseInt(_0x48ff48['eloRating'])||0x4b0,_0xb234c0=Math['abs'](_0x4db46a-_0x2be2ba),_0x460c9a=Math[_0x3e5cbf(0x17e)](0x0,0xc8-_0xb234c0);_0x460c9a>_0x10f4f0&&(_0x900faf=_0x48ff48,_0x10f4f0=_0x460c9a);});if(_0x900faf){const _0x10346c=parseInt(_0x900faf[_0x3b7df8(0x142)])||0x4b0;let _0x18cf74='gray';if(_0x10346c>=0x7d0)_0x18cf74=_0x3b7df8(0x18c);else{if(_0x10346c>=0x708)_0x18cf74='#FFD700';else{if(_0x10346c>=0x640)_0x18cf74='#C0C0C0';else _0x10346c>=0x578&&(_0x18cf74='#CD7F32');}}_0x44e362['innerHTML']='Looking\x20for\x20a\x20teammate?\x20Consider\x20<span\x20class=\x22recommendation-highlight\x22\x20style=\x22color:\x20'+_0x18cf74+';\x22>'+_0x900faf['username']+_0x3b7df8(0x193)+_0x10346c+')';}else _0x44e362['textContent']=_0x3b7df8(0x120);return;}const _0x1d90c2=collection(db,_0x48ab02),_0x3c8107=query(_0x1d90c2,where(_0x3b7df8(0x179),'==',_0x34f295)),_0x5bacd5=await getDocs(_0x3c8107);if(_0x5bacd5['empty']){_0x44e362[_0x3b7df8(0x13b)]='You\x27re\x20not\x20registered\x20on\x20the\x20'+_0x31400a[_0x3b7df8(0x117)]()+'\x20ladder';return;}const _0x105a72=_0x5bacd5['docs'][0x0][_0x3b7df8(0x191)](),_0x1e71d6=parseInt(_0x105a72[_0x3b7df8(0x142)])||0x5dc,_0x40f281=await getDocs(_0x1d90c2);let _0x2e1144=null,_0x1e423e=-0x1;const _0x38b00e=getPlayerRankName(_0x1e71d6);_0x40f281[_0x3b7df8(0x122)](_0x82009c=>{const _0x827964=_0x3b7df8,_0x1650a9=_0x82009c[_0x827964(0x191)]();if(_0x1650a9['username']===_0x34f295)return;const _0x4670ac=parseInt(_0x1650a9[_0x827964(0x142)])||0x5dc,_0x23286c=getPlayerRankName(_0x4670ac),_0x5ba812=Math['abs'](_0x4670ac-_0x1e71d6),_0x224da5=0x20,_0x91cf4d=0x1/(0x1+Math[_0x827964(0x118)](0xa,(_0x4670ac-_0x1e71d6)/0x190)),_0x51c800=Math['round'](_0x224da5*(0x1-_0x91cf4d));if(_0x51c800<=0x0)return;let _0x483196=0x0;const _0x570dc4=Math['max'](0x0,0x64-_0x5ba812*0.5),_0x7c00bf=_0x51c800>=0x3&&_0x51c800<=0x8?0x32:_0x51c800>0x0&&_0x51c800<0xf?0x1e:0xa,_0x44bce9=_0x38b00e===_0x23286c?0x28:0x0;_0x483196=_0x570dc4+_0x7c00bf+_0x44bce9,_0x483196>_0x1e423e&&(_0x2e1144=_0x1650a9,_0x1e423e=_0x483196);});if(_0x2e1144){const _0x5633d7=parseInt(_0x2e1144['eloRating'])||0x5dc;let _0x1be051='gray';if(_0x5633d7>=0x7d0)_0x1be051='#50C878';else{if(_0x5633d7>=0x708)_0x1be051=_0x3b7df8(0x182);else{if(_0x5633d7>=0x640)_0x1be051=_0x3b7df8(0x162);else _0x5633d7>=0x578&&(_0x1be051=_0x3b7df8(0x170));}}_0x44e362[_0x3b7df8(0x132)]='Based\x20on\x20your\x20ELO\x20('+_0x1e71d6+'),\x20you\x20should\x20be\x20playing\x20<span\x20class=\x22recommendation-highlight\x22\x20style=\x22color:\x20'+_0x1be051+_0x3b7df8(0x13e)+_0x2e1144[_0x3b7df8(0x179)]+'</span>';}else _0x44e362['innerHTML']=_0x3b7df8(0x129)+_0x1e71d6+')';}catch(_0x45cf7a){console['error']('Error\x20finding\x20best\x20opponent:',_0x45cf7a),_0x44e362['textContent']=_0x3b7df8(0x167);}}function a0_0x1e48(){const _0x2c7841=['Error\x20finding\x20recommended\x20opponent','duos','change','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','newElo','<img\x20src=\x22../images/flags/','Error\x20fetching\x20ELO\x20history:','owner','elo-recommendation-text-duos','#CD7F32','none','block','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22player-flag\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22margin-left:\x205px;\x20vertical-align:\x20middle;\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>','table','active','error','display','elo-recommendation-text-d2','username','userProfiles','213867fAbwRX','#DC143C','style','max','oldEloRating','&ladder=d1\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22color:\x20','council','#FFD700','addEventListener','winnerUsername','toISOString','appendChild','timestamp','</span>.\x20Challenge\x20other\x20teams!','12eefFdA','\x20not\x20found','createElement','#50C878','position','warn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','length','data','152920wxJSCO','</span>\x20(ELO:\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22profile.html?username=','#ladder\x20tbody','parentNode','disabled','928361HgeUyH','d1-ladder-container','className','209360WdssrH','slice','winRate','toUpperCase','pow','exists','{}.constructor(\x22return\x20this\x22)(\x20)','log','bold','approvedMatches','1006380WrnuuY','loading-indicator','No\x20available\x20teammates\x20found.\x20More\x20players\x20needed\x20on\x20DUOS\x20ladder!','Error\x20fetching\x20batch\x20match\x20stats:','forEach','recentActivity','Duos\x20ladder\x20is\x20currently\x20admin-only','td:nth-child(3)','playersD','elo','bind','No\x20ideal\x20opponent\x20found\x20for\x20your\x20current\x20ELO\x20(','Unranked','equipped','D2\x20toggle\x20clicked','country','totalMatches','1096810PtaRnK','cursor','error-message','innerHTML','DOMContentLoaded','click','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','add','push','remove','\x0a\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','includes','textContent','querySelector','return\x20(function()\x20',';\x22>','toLowerCase','visible','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22color:\x20','eloRating','elo-recommendation-text-d3','</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-elo\x22>','toFixed','elo-recommendation-text-d1','Error\x20checking\x20','\x20has\x20equipped:\x20','get','Error\x20updating\x20ELO\x20trend\x20indicators:','32aRvoxO','onAuthStateChanged','Gold','points','has','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22rank\x22>#','opacity','hasTeam','color','(Equipped)','150AZQMmJ','totalKills','set','dispatchEvent','teammate','docs','4654FOLZgC','players','classList','sort','catch','email','#C0C0C0','#b9f1fc','toString','d3-ladder-container','getElementById','wins'];a0_0x1e48=function(){return _0x2c7841;};return a0_0x1e48();}auth[a0_0x4bdf53(0x14c)](_0x15e945=>{const _0x1cc858=a0_0x4bdf53,_0x13a646=document['getElementById'](_0x1cc858(0x112))&&document[_0x1cc858(0x165)](_0x1cc858(0x112))['style']['display']!=='none',_0x12a1c9=document['getElementById']('d2-ladder-container')&&document[_0x1cc858(0x165)]('d2-ladder-container')['style']['display']!==_0x1cc858(0x171),_0x5638b1=document['getElementById'](_0x1cc858(0x164))&&document['getElementById']('d3-ladder-container')['style'][_0x1cc858(0x177)]!=='none',_0x45da8a=document['getElementById']('duos-ladder-container')&&document['getElementById']('duos-ladder-container')['style']['display']!=='none',_0x3fbd0f=_0x13a646?'d1':_0x12a1c9?'d2':_0x5638b1?'d3':_0x45da8a?_0x1cc858(0x168):'d1';findBestOpponent(_0x3fbd0f);}),document[a0_0x4bdf53(0x183)](a0_0x4bdf53(0x133),()=>{const _0x3882f1=a0_0x4bdf53,_0x11e150=document['getElementById']('duos-switch'),_0x5a3d5b=document['querySelector']('label[for=\x22duos-switch\x22]');_0x11e150&&_0x5a3d5b&&(_0x11e150['addEventListener']('change',async _0x433027=>{const _0x185430=a0_0x5ac1;if(_0x433027['target']['checked']){const _0x6784b0=auth?.['currentUser'],_0x31c492=await checkIfUserIsAdmin(_0x6784b0);if(!_0x31c492){_0x433027['preventDefault']();const _0x3ec491=document[_0x185430(0x165)]('d1-switch');return _0x3ec491&&(_0x3ec491['checked']=!![],_0x3ec491[_0x185430(0x158)](new Event('change'))),showAdminOnlyMessage(),![];}}}),auth[_0x3882f1(0x14c)](async _0xd26660=>{const _0x460415=_0x3882f1,_0x6555b3=await checkIfUserIsAdmin(_0xd26660);!_0x6555b3?(_0x11e150['disabled']=!![],_0x5a3d5b['style']['opacity']='0.5',_0x5a3d5b[_0x460415(0x17d)][_0x460415(0x130)]='not-allowed',_0x5a3d5b['title']=_0x460415(0x124)):(_0x11e150[_0x460415(0x110)]=![],_0x5a3d5b[_0x460415(0x17d)][_0x460415(0x151)]='1',_0x5a3d5b['style']['cursor']='pointer',_0x5a3d5b['title']='');}));});async function checkIfUserIsAdmin(_0x5b7f38){const _0x4fd3d5=a0_0x4bdf53;if(!_0x5b7f38)return![];try{const _0xdb70b4=['admin@ladder.com','brian2af@outlook.com'];if(_0x5b7f38[_0x4fd3d5(0x160)]&&_0xdb70b4[_0x4fd3d5(0x13a)](_0x5b7f38[_0x4fd3d5(0x160)]['toLowerCase']()))return!![];const _0x497088=[_0x4fd3d5(0x17a),_0x4fd3d5(0x15c),'playersD2','playersD3'],_0x5d1ba2=['admin',_0x4fd3d5(0x16e),_0x4fd3d5(0x181),'creative\x20lead'];for(const _0x35dfe9 of _0x497088){try{const _0x3b2e43=doc(db,_0x35dfe9,_0x5b7f38['uid']),_0x122412=await getDoc(_0x3b2e43);if(_0x122412[_0x4fd3d5(0x119)]()){const _0x3d4032=_0x122412['data'](),_0x5a4e01=(_0x3d4032['roleName']||_0x3d4032['role']||'')['toLowerCase']();if(_0x5a4e01&&_0x5d1ba2[_0x4fd3d5(0x13a)](_0x5a4e01))return!![];}}catch(_0x407412){console[_0x4fd3d5(0x18e)](_0x4fd3d5(0x147)+_0x35dfe9+':',_0x407412);}}return![];}catch(_0x15a4fe){return console['error']('Error\x20checking\x20admin\x20status:',_0x15a4fe),![];}}function showAdminOnlyMessage(){const _0x2b9a63=a0_0x4bdf53,_0x530d7d=document[_0x2b9a63(0x165)]('admin-only-message');_0x530d7d&&_0x530d7d[_0x2b9a63(0x138)]();const _0x3335d4=document[_0x2b9a63(0x18b)]('div');_0x3335d4['id']='admin-only-message',_0x3335d4['style']['cssText']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translate(-50%,\x20-50%);\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#2a2a2a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x202px\x20solid\x20#ff6b6b;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ff6b6b;\x0a\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.5);\x0a\x20\x20\x20\x20',_0x3335d4['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<strong>🔒\x20Duos\x20Ladder\x20-\x20Admin\x20Only</strong><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20style=\x22color:\x20#ccc;\x22>Currently\x20in\x20testing\x20phase</span>\x0a\x20\x20\x20\x20',document['body']['appendChild'](_0x3335d4),setTimeout(()=>{const _0x2ca173=_0x2b9a63;_0x3335d4[_0x2ca173(0x10f)]&&_0x3335d4['remove']();},0xbb8);}