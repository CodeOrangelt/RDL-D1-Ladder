function a49_0x1507(){const _0x7d7a03=['docs','length','table','{}.constructor(\x22return\x20this\x22)(\x20)','warn','snapshot','season0','desc','losses','wins','bind'];a49_0x1507=function(){return _0x7d7a03;};return a49_0x1507();}function a49_0x1629(_0x2ceb9b,_0x439b68){const _0x13e6e6=a49_0x1507();return a49_0x1629=function(_0x3dc4da,_0x5f1e7d){_0x3dc4da=_0x3dc4da-0xc2;let _0x1507db=_0x13e6e6[_0x3dc4da];return _0x1507db;},a49_0x1629(_0x2ceb9b,_0x439b68);}const a49_0x3dc4da=(function(){let _0x6cb9f1=!![];return function(_0x467bf7,_0x6f72e3){const _0x3a8d0b=_0x6cb9f1?function(){if(_0x6f72e3){const _0x263ad0=_0x6f72e3['apply'](_0x467bf7,arguments);return _0x6f72e3=null,_0x263ad0;}}:function(){};return _0x6cb9f1=![],_0x3a8d0b;};}()),a49_0x13e6e6=a49_0x3dc4da(this,function(){const _0x6bf992=a49_0x1629;let _0x5a8525;try{const _0xc36462=Function('return\x20(function()\x20'+_0x6bf992(0xc5)+');');_0x5a8525=_0xc36462();}catch(_0x54d89f){_0x5a8525=window;}const _0x44ef64=_0x5a8525['console']=_0x5a8525['console']||{},_0x756fc3=['log',_0x6bf992(0xc6),'info','error','exception',_0x6bf992(0xc4),'trace'];for(let _0xd2e01=0x0;_0xd2e01<_0x756fc3[_0x6bf992(0xc3)];_0xd2e01++){const _0x5f261d=a49_0x3dc4da['constructor']['prototype']['bind'](a49_0x3dc4da),_0x250971=_0x756fc3[_0xd2e01],_0x5c6923=_0x44ef64[_0x250971]||_0x5f261d;_0x5f261d['__proto__']=a49_0x3dc4da[_0x6bf992(0xcc)](a49_0x3dc4da),_0x5f261d['toString']=_0x5c6923['toString']['bind'](_0x5c6923),_0x44ef64[_0x250971]=_0x5f261d;}});a49_0x13e6e6();import{db}from'./firebase-config.js';import{collection,getDocs,setDoc,doc,query,orderBy}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';async function archiveSeason0(){const _0x36f9c7=a49_0x1629;try{const _0x1a09bb=await getDocs(collection(db,'players'));for(const _0x3dbf93 of _0x1a09bb[_0x36f9c7(0xc2)]){const _0x1dd6ee=_0x3dbf93['data']();await setDoc(doc(db,_0x36f9c7(0xc8),_0x3dbf93['id']),{..._0x1dd6ee,'archivedAt':new Date(),'originalId':_0x3dbf93['id']});}return console['log']('Successfully\x20archived\x20players\x20to\x20season0'),!![];}catch(_0x1f7043){console['error']('Error\x20archiving\x20season:',_0x1f7043);throw _0x1f7043;}}async function archiveRecords(){const _0x60445c=a49_0x1629;try{const _0x1cd829=collection(db,'records'),_0x3d98b8=query(_0x1cd829,orderBy(_0x60445c(0xcb),_0x60445c(0xc9))),_0x1875c2=await getDocs(_0x3d98b8),_0x4ab74e=[];return _0x1875c2['forEach'](_0x5d44a3=>{const _0x1fcf97=_0x60445c,_0x5bf4dc=_0x5d44a3['data']();_0x4ab74e['push']({'username':_0x5bf4dc['username'],'wins':_0x5bf4dc['wins']||0x0,'losses':_0x5bf4dc[_0x1fcf97(0xca)]||0x0,'winRate':_0x5bf4dc['winRate']||0x0,'timestamp':new Date()});}),await setDoc(doc(db,'season0records',_0x60445c(0xc7)),{'records':_0x4ab74e,'archivedAt':new Date()}),console['log']('Successfully\x20archived\x20records'),!![];}catch(_0x2640f6){console['error']('Error\x20archiving\x20records:',_0x2640f6);throw _0x2640f6;}}export{archiveSeason0,archiveRecords};