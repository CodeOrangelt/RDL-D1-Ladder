const a52_0x596690=(function(){let _0x444e0=!![];return function(_0x55ddba,_0x4b5a11){const _0x134dc7=_0x444e0?function(){if(_0x4b5a11){const _0x92618d=_0x4b5a11['apply'](_0x55ddba,arguments);return _0x4b5a11=null,_0x92618d;}}:function(){};return _0x444e0=![],_0x134dc7;};}()),a52_0x47da9d=a52_0x596690(this,function(){const _0x4285ec=a52_0xad17;let _0x525436;try{const _0x3f638a=Function(_0x4285ec(0x157)+_0x4285ec(0x155)+');');_0x525436=_0x3f638a();}catch(_0x4262ee){_0x525436=window;}const _0x8bc8=_0x525436['console']=_0x525436['console']||{},_0x543204=[_0x4285ec(0x15b),_0x4285ec(0x151),'info','error',_0x4285ec(0x152),'table','trace'];for(let _0x5b0387=0x0;_0x5b0387<_0x543204['length'];_0x5b0387++){const _0x2d5b0b=a52_0x596690['constructor']['prototype']['bind'](a52_0x596690),_0x504327=_0x543204[_0x5b0387],_0x514958=_0x8bc8[_0x504327]||_0x2d5b0b;_0x2d5b0b['__proto__']=a52_0x596690['bind'](a52_0x596690),_0x2d5b0b['toString']=_0x514958['toString']['bind'](_0x514958),_0x8bc8[_0x504327]=_0x2d5b0b;}});function a52_0xad17(_0x488d43,_0x17571a){const _0x47da9d=a52_0x28c5();return a52_0xad17=function(_0x596690,_0x209dc){_0x596690=_0x596690-0x150;let _0x28c54=_0x47da9d[_0x596690];return _0x28c54;},a52_0xad17(_0x488d43,_0x17571a);}function a52_0x28c5(){const _0x3f4350=['records','warn','exception','Error\x20archiving\x20season:','error','{}.constructor(\x22return\x20this\x22)(\x20)','data','return\x20(function()\x20','forEach','season0','Successfully\x20archived\x20players\x20to\x20season0','log','players','docs'];a52_0x28c5=function(){return _0x3f4350;};return a52_0x28c5();}a52_0x47da9d();import{db}from'./firebase-config.js';import{collection,getDocs,setDoc,doc,query,orderBy}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';async function archiveSeason0(){const _0x1121db=a52_0xad17;try{const _0x5e6cee=await getDocs(collection(db,_0x1121db(0x15c)));for(const _0x5047dd of _0x5e6cee[_0x1121db(0x15d)]){const _0x3fe30c=_0x5047dd[_0x1121db(0x156)]();await setDoc(doc(db,_0x1121db(0x159),_0x5047dd['id']),{..._0x3fe30c,'archivedAt':new Date(),'originalId':_0x5047dd['id']});}return console['log'](_0x1121db(0x15a)),!![];}catch(_0x17c6cb){console[_0x1121db(0x154)](_0x1121db(0x153),_0x17c6cb);throw _0x17c6cb;}}async function archiveRecords(){const _0x586ce1=a52_0xad17;try{const _0x5be3af=collection(db,_0x586ce1(0x150)),_0xa43e1b=query(_0x5be3af,orderBy('wins','desc')),_0x5538ee=await getDocs(_0xa43e1b),_0x125197=[];return _0x5538ee[_0x586ce1(0x158)](_0x5d969d=>{const _0x12fa14=_0x5d969d['data']();_0x125197['push']({'username':_0x12fa14['username'],'wins':_0x12fa14['wins']||0x0,'losses':_0x12fa14['losses']||0x0,'winRate':_0x12fa14['winRate']||0x0,'timestamp':new Date()});}),await setDoc(doc(db,'season0records','snapshot'),{'records':_0x125197,'archivedAt':new Date()}),console['log']('Successfully\x20archived\x20records'),!![];}catch(_0x38a203){console['error']('Error\x20archiving\x20records:',_0x38a203);throw _0x38a203;}}export{archiveSeason0,archiveRecords};