const a53_0x5ca9d4=a53_0x1c35,a53_0x545044=(function(){let _0xeb1a5d=!![];return function(_0x4b9621,_0x43cddb){const _0x4855fc=_0xeb1a5d?function(){const _0x4429bc=a53_0x1c35;if(_0x43cddb){const _0x3d7e9a=_0x43cddb[_0x4429bc(0x1c9)](_0x4b9621,arguments);return _0x43cddb=null,_0x3d7e9a;}}:function(){};return _0xeb1a5d=![],_0x4855fc;};}()),a53_0x1b0bf9=a53_0x545044(this,function(){const _0x4d2dea=a53_0x1c35;let _0x872555;try{const _0x15fcba=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x872555=_0x15fcba();}catch(_0x2b0eb7){_0x872555=window;}const _0xb26dee=_0x872555[_0x4d2dea(0x18e)]=_0x872555['console']||{},_0x17c2a7=[_0x4d2dea(0x1cb),_0x4d2dea(0x1d9),'info',_0x4d2dea(0x174),'exception','table','trace'];for(let _0x4db721=0x0;_0x4db721<_0x17c2a7['length'];_0x4db721++){const _0x499a50=a53_0x545044['constructor']['prototype']['bind'](a53_0x545044),_0x611513=_0x17c2a7[_0x4db721],_0x1badf8=_0xb26dee[_0x611513]||_0x499a50;_0x499a50[_0x4d2dea(0x1d8)]=a53_0x545044['bind'](a53_0x545044),_0x499a50[_0x4d2dea(0x1a3)]=_0x1badf8['toString']['bind'](_0x1badf8),_0xb26dee[_0x611513]=_0x499a50;}});a53_0x1b0bf9();import{auth,db}from'./firebase-config.js';import{doc,getDoc,setDoc,collection,query,where,getDocs,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const RIBBON_DEFINITIONS={'Rematch\x20Ribbon':{'description':'Beat\x20a\x20pilot\x20with\x20the\x20\x22Rematch\x22\x20subgame\x20selected','image':'../images/ribbons/Rematch.png','color':'#FF6B6B'},'Overachiever\x20Ribbon':{'description':'Played\x20over\x20100\x20matches','image':a53_0x5ca9d4(0x1e2),'color':'#96CEB4','levels':[0x64,0xc8,0x12c,0x190,0x1f4,0x258,0x2bc,0x320,0x384,0x3e8]},'Brick\x20Wall':{'description':'Amass\x20at\x20least\x2080%\x20overall\x20win\x20rate\x20percentage\x20(minimum\x2050\x20matches)','image':'../images/ribbons/BrickWall.png','color':'#F0932B','levels':[0x50,0x55,0x5a,0x5f,0x64]},'Collector\x20Ribbon':{'description':a53_0x5ca9d4(0x1b4),'image':'../images/ribbons/Collector.png','color':'#6C5CE7','levels':[0x5,0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32]},'Sub-Gamer\x20Ribbon':{'description':'Play\x20over\x2050\x20subgame\x20matches','image':'../images/ribbons/Subgamer.png','color':'#A29BFE','levels':[0x32,0x64,0x96,0xc8,0xfa,0x12c,0x15e,0x190,0x1c2,0x1f4]},'Explorer\x20Ribbon':{'description':'Played\x20at\x20least\x2020\x20unique\x20maps','image':'../images/ribbons/Explorer.png','color':a53_0x5ca9d4(0x1ba),'levels':[0x14,0x28,0x3c,0x50,0x64,0x78,0x8c,0xa0,0xb4,0xc8]},'Socialite\x20Ribbon':{'description':'Played\x20at\x20least\x2010\x20unique\x20pilots','image':a53_0x5ca9d4(0x1ca),'color':a53_0x5ca9d4(0x18d),'levels':[0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32,0x37]},'Underdog\x20Ribbon':{'description':'Beat\x20a\x20pilot\x20ranked\x20higher\x20than\x20you','image':'../images/ribbons/Underdog.png','color':'#FF9500','levels':[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0x9,0xa]},'Domination\x20Ribbon':{'description':a53_0x5ca9d4(0x1bf),'image':'../images/ribbons/Domination.png','color':'#8E44AD','levels':[0x1,0x2,0x3,0x4,0x5]},'Top\x20Bronze\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Bronze\x20rank','image':'../images/ribbons/toprank.png','color':'#CD7F32'},'Top\x20Silver\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Silver\x20rank','image':'../images/ribbons/toprank.png','color':'#C0C0C0'},'Top\x20Gold\x20Pilot':{'description':a53_0x5ca9d4(0x1d0),'image':a53_0x5ca9d4(0x1ab),'color':'#FFD700'},'Top\x20Emerald\x20Pilot':{'description':a53_0x5ca9d4(0x1c1),'image':'../images/ribbons/toprank.png','color':'#50C878'}};export const RIBBON_CSS='\x0a/*\x20Stats\x20integration\x20styles\x20*/\x0a.ribbon-section\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-top:\x201rem;\x0a}\x0a\x0a.ribbon-stat-item.full-width\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-bottom:\x200;\x0a}\x0a\x0a/*\x20Military\x20Ribbon\x20Rack\x20Styling\x20-\x20NO\x20OUTER\x20CONTAINER\x20*/\x0a.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20padding:\x200;\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20box-shadow:\x20none;\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20align-items:\x20flex-start;\x0a}\x0a\x0a.ribbon-rack-empty-inline\x20{\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20padding:\x2060px\x2040px;\x0a\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20border-radius:\x2012px;\x0a\x20\x20\x20\x20border:\x202px\x20solid\x20rgba(255,\x20255,\x20255,\x200.1);\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a}\x0a\x0a.empty-rack-text\x20{\x0a\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20font-style:\x20italic;\x0a\x20\x20\x20\x20font-size:\x201.2rem;\x0a}\x0a\x0a/*\x20Ribbon\x20Rows\x20*/\x0a.ribbon-row\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x206px;\x0a\x20\x20\x20\x20margin-bottom:\x206px;\x0a\x20\x20\x20\x20justify-content:\x20flex-start;\x0a}\x0a\x0a.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20margin-left:\x2060px;\x0a}\x0a\x0a/*\x20Individual\x20Military\x20Ribbon\x20Styling\x20-\x20FIXED\x20OVERFLOW\x20FOR\x20LEVEL\x20INDICATOR\x20*/\x0a.military-ribbon\x20{\x0a\x20\x20\x20\x20position:\x20relative;\x0a\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20transition:\x20transform\x200.3s\x20ease;\x0a\x20\x20\x20\x20flex-shrink:\x200;\x0a\x20\x20\x20\x20width:\x20190px;\x0a\x20\x20\x20\x20height:\x2060px;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#333;\x0a\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20overflow:\x20visible;\x20/*\x20Changed\x20from\x20hidden\x20to\x20visible\x20*/\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20margin:\x2012px\x2012px\x2012px\x200;\x20/*\x20Added\x20margin\x20to\x20prevent\x20clipping\x20*/\x0a}\x0a\x0a.military-ribbon:hover\x20{\x0a\x20\x20\x20\x20transform:\x20translateY(-4px);\x0a\x20\x20\x20\x20z-index:\x2010;\x0a}\x0a\x0a/*\x20Ribbon\x20image\x20container\x20to\x20handle\x20the\x20actual\x20overflow\x20*/\x0a.ribbon-image-container\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20border-radius:\x201px;\x0a}\x0a\x0a.ribbon-image\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20object-fit:\x20cover;\x0a\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20image-rendering:\x20crisp-edges;\x0a}\x0a\x0a.ribbon-fallback\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20text-shadow:\x200\x202px\x204px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a}\x0a\x0a.ribbon-name\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.9);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201.2;\x0a\x20\x20\x20\x20margin-top:\x206px;\x0a\x20\x20\x20\x20max-width:\x20120px;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20text-overflow:\x20ellipsis;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20-24px;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20font-weight:\x20500;\x0a}\x0a\x0a.military-ribbon:hover\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20display:\x20block;\x0a}\x0a\x0a.ribbon-devices\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x2050%;\x0a\x20\x20\x20\x20right:\x206px;\x0a\x20\x20\x20\x20transform:\x20translateY(-50%);\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x203px;\x0a\x20\x20\x20\x20z-index:\x205;\x0a}\x0a\x0a.ribbon-device\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20text-shadow:\x200\x200\x204px\x20rgba(0,0,0,0.9);\x0a\x20\x20\x20\x20filter:\x20drop-shadow(0\x202px\x204px\x20rgba(0,0,0,0.8));\x0a}\x0a\x0a.bronze-star\x20{\x0a\x20\x20\x20\x20color:\x20#CD7F32;\x0a}\x0a\x0a.silver-star\x20{\x0a\x20\x20\x20\x20color:\x20#C0C0C0;\x0a}\x0a\x0a.gold-star\x20{\x0a\x20\x20\x20\x20color:\x20#FFD700;\x0a}\x0a\x0a/*\x20Level\x20indicator\x20-\x20NOW\x20FULLY\x20VISIBLE\x20*/\x0a.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x20-8px;\x0a\x20\x20\x20\x20right:\x20-8px;\x0a\x20\x20\x20\x20background:\x20#FFD700;\x0a\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20width:\x2024px;\x0a\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#FFF;\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x208px\x20rgba(0,0,0,0.7);\x0a\x20\x20\x20\x20z-index:\x206;\x0a}\x0a\x0a/*\x20Custom\x20tooltip\x20-\x20only\x20this\x20one\x20will\x20show\x20*/\x0a.military-ribbon::before\x20{\x0a\x20\x20\x20\x20content:\x20attr(data-tooltip);\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20100%;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20background:\x20rgba(0,0,0,0.95);\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20padding:\x208px\x2012px;\x0a\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20pointer-events:\x20none;\x0a\x20\x20\x20\x20transition:\x20opacity\x200.3s;\x0a\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20margin-bottom:\x208px;\x0a\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(255,\x20255,\x20255,\x200.2);\x0a}\x0a\x0a.military-ribbon:hover::before\x20{\x0a\x20\x20\x20\x20opacity:\x201;\x0a}\x0a\x0a/*\x20Responsive\x20adjustments\x20*/\x0a@media\x20(max-width:\x201024px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2034px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x208px\x208px\x208px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-6px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-6px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2052px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-20px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20768px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2028px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x206px\x206px\x206px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x209px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-5px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-5px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2042px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2011px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-18px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x205px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20480px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2070px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x205px\x205px\x205px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2036px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x204px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-4px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-4px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a.stats-grid\x20.ribbon-section\x20{\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20padding:\x200;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20{\x0a\x20\x20\x20\x20background-color:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20padding:\x2025px;\x0a\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20.stat-label\x20{\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20text-transform:\x20uppercase;\x0a\x20\x20\x20\x20opacity:\x200.9;\x0a\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.95);\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a}\x0a\x0a.ribbon-level-indicator.level-1\x20{\x20background:\x20#808080;\x20}\x0a.ribbon-level-indicator.level-2\x20{\x20background:\x20#CD7F32;\x20}\x0a.ribbon-level-indicator.level-3\x20{\x20background:\x20#b9f1fc;\x20}\x0a.ribbon-level-indicator.level-4\x20{\x20background:\x20#FFD700;\x20}\x0a.ribbon-level-indicator.level-5-plus\x20{\x20background:\x20#50C878;\x20}\x0a';class RibbonCacheManager{constructor(){const _0x50a4ab=a53_0x5ca9d4;this[_0x50a4ab(0x1e1)]=new Map(),this['CACHE_DURATION']=0x3c*0x3c*0x3e8,this[_0x50a4ab(0x191)]='ribbon_cache_',this[_0x50a4ab(0x19c)]=Date['now'](),this['CLEANUP_INTERVAL']=0x1e*0x3c*0x3e8;}[a53_0x5ca9d4(0x178)](_0x62158f,_0x36349d){return''+this['CACHE_KEY_PREFIX']+_0x62158f+'_'+_0x36349d;}['getCachedData'](_0x58a4e3,_0x3be6d3){const _0x199cd0=a53_0x5ca9d4;this['autoCleanup']();const _0x503979=this['getCacheKey'](_0x58a4e3,_0x3be6d3);if(this['memoryCache'][_0x199cd0(0x1b8)](_0x503979)){const _0x2e9084=this['memoryCache']['get'](_0x503979);if(Date['now']()-_0x2e9084['timestamp']<this['CACHE_DURATION'])return console['log']('üöÄ\x20Cache\x20hit\x20(memory)\x20for\x20'+_0x58a4e3),_0x2e9084['data'];this['memoryCache']['delete'](_0x503979);}const _0x29125a=localStorage['getItem'](_0x503979);if(_0x29125a)try{const _0x319010=JSON['parse'](_0x29125a);if(Date['now']()-_0x319010['timestamp']<this['CACHE_DURATION'])return this[_0x199cd0(0x1e1)][_0x199cd0(0x1b6)](_0x503979,{'data':_0x319010['ribbons'],'timestamp':_0x319010['timestamp'],'matchCount':_0x319010['matchCount']}),console['log'](_0x199cd0(0x1dd)+_0x58a4e3),_0x319010['ribbons'];localStorage['removeItem'](_0x503979);}catch(_0x53fca0){localStorage[_0x199cd0(0x1b7)](_0x503979);}return null;}[a53_0x5ca9d4(0x1ad)](_0x363549,_0x1854d2,_0x1aa2d2,_0x4ba97e){const _0x15f253=a53_0x5ca9d4,_0x3c5637=this['getCacheKey'](_0x363549,_0x1854d2),_0x6ea161=Date['now']();this[_0x15f253(0x1e1)]['set'](_0x3c5637,{'data':_0x1aa2d2,'timestamp':_0x6ea161,'matchCount':_0x4ba97e});try{const _0x4502b0={'ribbons':_0x1aa2d2,'matchCount':_0x4ba97e,'timestamp':_0x6ea161,'version':0x3};localStorage['setItem'](_0x3c5637,JSON['stringify'](_0x4502b0));}catch(_0x2225d0){this[_0x15f253(0x1c6)]();try{localStorage['setItem'](_0x3c5637,JSON['stringify'](data));}catch(_0x47506e){}}}['shouldRefreshCache'](_0x44062f,_0xcce1a9,_0x5cbd0f){const _0xc119c3=a53_0x5ca9d4,_0x551ed2=this['getCacheKey'](_0x44062f,_0xcce1a9);if(this['memoryCache']['has'](_0x551ed2)){const _0x4ae832=this['memoryCache'][_0xc119c3(0x16d)](_0x551ed2);return _0x4ae832['matchCount']!==_0x5cbd0f;}const _0x3947c4=localStorage[_0xc119c3(0x185)](_0x551ed2);if(_0x3947c4)try{const _0x22db0a=JSON['parse'](_0x3947c4);return _0x22db0a[_0xc119c3(0x1d6)]!==_0x5cbd0f;}catch(_0x212b70){return!![];}return!![];}['invalidatePlayerCache'](_0xf3d667,_0x29c881){const _0x3c8a5c=a53_0x5ca9d4,_0x57337c=this['getCacheKey'](_0xf3d667,_0x29c881);this['memoryCache']['delete'](_0x57337c),localStorage[_0x3c8a5c(0x1b7)](_0x57337c),console[_0x3c8a5c(0x1cb)]('üóëÔ∏è\x20Invalidated\x20cache\x20for\x20'+_0xf3d667+'\x20('+_0x29c881+')\x20-\x20new\x20match\x20detected');}['autoCleanup'](){const _0x4e293f=a53_0x5ca9d4,_0xe4e4b4=Date[_0x4e293f(0x1cd)]();_0xe4e4b4-this['lastCleanup']>this['CLEANUP_INTERVAL']&&(this[_0x4e293f(0x1da)](),this['lastCleanup']=_0xe4e4b4);}['cleanup'](){const _0x5ad57f=a53_0x5ca9d4,_0x311900=Date['now']();let _0x219cbf=0x0,_0x3b40e4=0x0;for(const [_0x2cf881,_0x5ec9c7]of this[_0x5ad57f(0x1e1)][_0x5ad57f(0x194)]()){_0x311900-_0x5ec9c7['timestamp']>this['CACHE_DURATION']&&(this['memoryCache'][_0x5ad57f(0x1de)](_0x2cf881),_0x219cbf++);}for(let _0x93917b=localStorage['length']-0x1;_0x93917b>=0x0;_0x93917b--){const _0x1f9ee1=localStorage['key'](_0x93917b);if(_0x1f9ee1&&_0x1f9ee1[_0x5ad57f(0x182)](this['CACHE_KEY_PREFIX']))try{const _0x28a54d=JSON[_0x5ad57f(0x1b5)](localStorage['getItem'](_0x1f9ee1));_0x311900-_0x28a54d['timestamp']>this[_0x5ad57f(0x17e)]&&(localStorage['removeItem'](_0x1f9ee1),_0x3b40e4++);}catch(_0x138eb9){localStorage[_0x5ad57f(0x1b7)](_0x1f9ee1),_0x3b40e4++;}}}['clearOldCache'](){const _0x2f16a1=a53_0x5ca9d4,_0xcf7aac=[];for(let _0x5917ee=0x0;_0x5917ee<localStorage['length'];_0x5917ee++){const _0xb684af=localStorage['key'](_0x5917ee);if(_0xb684af&&_0xb684af[_0x2f16a1(0x182)](this['CACHE_KEY_PREFIX']))try{const _0x5382f8=JSON['parse'](localStorage['getItem'](_0xb684af));_0xcf7aac[_0x2f16a1(0x1b0)]({'key':_0xb684af,'timestamp':_0x5382f8['timestamp']});}catch(_0x54aee1){localStorage['removeItem'](_0xb684af);}}_0xcf7aac['sort']((_0x1bc69a,_0x20c173)=>_0x1bc69a[_0x2f16a1(0x1ce)]-_0x20c173['timestamp']);const _0x160bdb=Math['floor'](_0xcf7aac['length']/0x2);for(let _0x57decb=0x0;_0x57decb<_0x160bdb;_0x57decb++){localStorage['removeItem'](_0xcf7aac[_0x57decb]['key']);}}['getCacheStats'](){const _0x20e117=a53_0x5ca9d4;return{'memoryEntries':this['memoryCache'][_0x20e117(0x187)],'lastCleanup':new Date(this[_0x20e117(0x19c)])['toLocaleTimeString']()};}}class MatchCacheManager{constructor(){const _0x2d7812=a53_0x5ca9d4;this['matchCache']=new Map(),this['CACHE_DURATION']=0xf*0x3c*0x3e8,this[_0x2d7812(0x19c)]=Date['now']();}['getCachedMatches'](_0x83397f,_0x248b2c){const _0x10d4c0=a53_0x5ca9d4;this[_0x10d4c0(0x1a9)]();const _0x17ba3b=_0x83397f+'_'+_0x248b2c,_0x50fa8a=this['matchCache']['get'](_0x17ba3b);if(_0x50fa8a&&Date['now']()-_0x50fa8a[_0x10d4c0(0x1ce)]<this['CACHE_DURATION'])return console['log']('üéØ\x20Cache\x20hit\x20(matches)\x20for\x20'+_0x83397f),_0x50fa8a['matches'];return _0x50fa8a&&this['matchCache']['delete'](_0x17ba3b),null;}['setCachedMatches'](_0x5eaf6b,_0x34f57f,_0x1a1ccd){const _0x42716c=_0x5eaf6b+'_'+_0x34f57f;this['matchCache']['set'](_0x42716c,{'matches':_0x1a1ccd,'timestamp':Date['now']()});}['autoCleanup'](){const _0x364174=Date['now']();if(_0x364174-this['lastCleanup']>0x5*0x3c*0x3e8){let _0x4f318b=0x0;for(const [_0x51bd9f,_0xebb465]of this['matchCache']['entries']()){_0x364174-_0xebb465['timestamp']>this['CACHE_DURATION']&&(this['matchCache']['delete'](_0x51bd9f),_0x4f318b++);}this['lastCleanup']=_0x364174;}}['getCacheStats'](){return{'entries':this['matchCache']['size'],'lastCleanup':new Date(this['lastCleanup'])['toLocaleTimeString']()};}}class RibbonSystem{constructor(){this['pendingEvaluations']=new Map(),this['batchTimer']=null,this['BATCH_DELAY']=0x32,this['playerDataCache']=new Map();}async[a53_0x5ca9d4(0x1a0)](_0x16e059,_0x3676d9){const _0x3b3171=a53_0x5ca9d4,_0x33392a=_0x3676d9==='D1'?_0x3b3171(0x179):_0x3676d9==='D2'?'playersD2':_0x3b3171(0x170),_0x5ab866=collection(db,_0x33392a),_0x90e543=await getDocs(_0x5ab866),_0x141c5b=new Map();return _0x90e543['forEach'](_0x57419c=>{const _0x1bed32=_0x3b3171,_0x5f8d06=_0x57419c['data']();_0x5f8d06['username']&&(_0x5f8d06['eloRating']!==undefined&&(_0x5f8d06['rating']=_0x5f8d06[_0x1bed32(0x193)]),_0x141c5b[_0x1bed32(0x1b6)](_0x5f8d06['username'],_0x5f8d06));}),console[_0x3b3171(0x1cb)](_0x3b3171(0x1dc)+_0x141c5b['size']+_0x3b3171(0x17c)+_0x33392a),_0x141c5b;}async[a53_0x5ca9d4(0x1ac)](_0x15252f,_0x51983f,_0x47258f,_0x29aa11){const _0x2f2eba=a53_0x5ca9d4,_0x134f8c={},_0x50e91c=_0x51983f['username'],_0x5963f8={'totalMatches':_0x15252f['length'],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0,'dominatedRanks':new Set()},_0x3ef215=new Set();_0x15252f['forEach'](_0x30140c=>{const _0x2d4375=a53_0x1c35,_0x2bec82=_0x30140c[_0x2d4375(0x197)]===_0x50e91c,_0x4f0b92=_0x2bec82?_0x30140c[_0x2d4375(0x1c2)]:_0x30140c['winnerUsername'];if(_0x4f0b92)_0x3ef215['add'](_0x4f0b92);}),console['log'](_0x2f2eba(0x16e)+_0x3ef215['size']+'\x20player\x20records\x20for\x20underdog\x20calculations...');const _0x2b4cc5=await this['bulkLoadPlayerData']([..._0x3ef215,_0x50e91c],_0x29aa11),_0x4a9f4f=_0x2b4cc5[_0x2f2eba(0x16d)](_0x50e91c);!_0x4a9f4f&&console['log']('‚ö†Ô∏è\x20No\x20current\x20player\x20data\x20found\x20for\x20'+_0x50e91c);const _0x2ef700={0x0:new Set(),0x1:new Set(),0x2:new Set(),0x3:new Set(),0x4:new Set()};_0x15252f[_0x2f2eba(0x19d)](_0x1bb3c5=>{const _0x4df42d=_0x2f2eba,_0x51915e=_0x1bb3c5[_0x4df42d(0x197)]===_0x50e91c,_0x218f7c=_0x51915e?_0x1bb3c5[_0x4df42d(0x1c2)]:_0x1bb3c5['winnerUsername'];if(_0x51915e){_0x5963f8['wins']++;_0x1bb3c5[_0x4df42d(0x195)]==='Rematch'&&_0x5963f8['rematchWins']++;this['isUnderdogVictoryFast'](_0x1bb3c5,_0x50e91c,_0x4a9f4f,_0x2b4cc5)&&_0x5963f8['underdogWins']++;const _0xef95fa=_0x2b4cc5[_0x4df42d(0x16d)](_0x218f7c);if(_0xef95fa){const _0x3c6445=_0xef95fa[_0x4df42d(0x193)]||0x0,_0x5375db=getPlayerRankTier(_0x3c6445);_0x2ef700[_0x5375db]['add'](_0x218f7c);}}_0x1bb3c5['subgameType']&&_0x1bb3c5['subgameType']!=='Standard'&&_0x5963f8[_0x4df42d(0x198)]++,_0x1bb3c5['mapPlayed']&&_0x5963f8['uniqueMaps']['add'](_0x1bb3c5['mapPlayed']),_0x218f7c&&_0x5963f8['uniqueOpponents'][_0x4df42d(0x1b3)](_0x218f7c);}),Object['keys'](_0x2ef700)['forEach'](_0x5185e3=>{_0x2ef700[_0x5185e3]['size']>=0x5&&_0x5963f8['dominatedRanks']['add'](parseInt(_0x5185e3));}),console['log']('üéØ\x20Found\x20'+_0x5963f8[_0x2f2eba(0x199)]+'\x20underdog\x20victories\x20for\x20'+_0x50e91c),console['log']('üëë\x20Dominated\x20'+_0x5963f8[_0x2f2eba(0x18c)][_0x2f2eba(0x187)]+'\x20ranks:\x20['+Array['from'](_0x5963f8['dominatedRanks'])['map'](_0x2fe0cf=>getRankTierName(_0x2fe0cf))['join'](',\x20')+']');const _0x54c399=_0x5963f8[_0x2f2eba(0x19b)]>0x0?_0x5963f8['wins']/_0x5963f8['totalMatches']*0x64:0x0,_0x2805d1=[[_0x2f2eba(0x1d5),this['evaluateOverachieverRibbonFromCount'](_0x5963f8[_0x2f2eba(0x19b)],_0x47258f)],['Rematch\x20Ribbon',this['evaluateRematchRibbonFromCount'](_0x5963f8[_0x2f2eba(0x176)],_0x47258f)],['Sub-Gamer\x20Ribbon',this['evaluateSubGamerRibbonFromCount'](_0x5963f8[_0x2f2eba(0x198)],_0x47258f)],['Explorer\x20Ribbon',this['evaluateExplorerRibbonFromCount'](_0x5963f8['uniqueMaps'][_0x2f2eba(0x187)],_0x47258f)],['Socialite\x20Ribbon',this['evaluateSocialiteRibbonFromCount'](_0x5963f8['uniqueOpponents']['size'],_0x47258f)],[_0x2f2eba(0x1a7),this[_0x2f2eba(0x17d)](_0x54c399,_0x47258f,_0x5963f8['totalMatches'])],['Underdog\x20Ribbon',this['evaluateUnderdogRibbonFromCount'](_0x5963f8[_0x2f2eba(0x199)],_0x47258f)],['Domination\x20Ribbon',this['evaluateDominationRibbonFromRanks'](_0x5963f8[_0x2f2eba(0x18c)][_0x2f2eba(0x187)],_0x47258f)]];_0x2805d1['forEach'](([_0x1bd9ba,_0x46cfbe])=>{_0x46cfbe&&(_0x134f8c[_0x1bd9ba]=_0x46cfbe);});const _0x4a6224=Object[_0x2f2eba(0x173)](_0x47258f)['length']+Object['keys'](_0x134f8c)['length'],_0x3ade6e=this['evaluateCollectorRibbonFromCount'](_0x4a6224,_0x47258f);return _0x3ade6e&&(_0x134f8c['Collector\x20Ribbon']=_0x3ade6e),_0x134f8c;}['evaluateDominationRibbonFromRanks'](_0x2e139e,_0x1495f6){const _0x4f9ff9=a53_0x5ca9d4;if(_0x2e139e===0x0)return null;const _0x5e3b7b=_0x1495f6['Domination\x20Ribbon']||{'level':0x0};if(_0x2e139e>_0x5e3b7b[_0x4f9ff9(0x190)]){const _0x39cc6e=[];for(let _0x10393a=0x0;_0x10393a<_0x2e139e;_0x10393a++){_0x39cc6e['push'](getRankTierName(_0x10393a));}return console['log'](_0x4f9ff9(0x1c0)+_0x5e3b7b['level']+_0x4f9ff9(0x1e0)+_0x2e139e+'\x20(Dominated:\x20'+_0x39cc6e['join'](',\x20')+')'),{'level':_0x2e139e,'awardedAt':new Date(),'dominatedRanks':_0x39cc6e};}return null;}async['checkTopRankStatus'](_0x3de026,_0x245792){const _0x1becca=a53_0x5ca9d4;try{const _0x6ff75e=_0x245792==='D1'?'players':_0x245792==='D2'?_0x1becca(0x19e):'playersD3',_0x468d0c=await this['getPlayerDataCached'](_0x3de026,_0x245792);if(!_0x468d0c||_0x468d0c['eloRating']===undefined)return console[_0x1becca(0x1cb)](_0x1becca(0x1a1)+_0x3de026),null;const _0x1ccb4c=_0x468d0c['eloRating'],_0x12894d=getPlayerRankTier(_0x1ccb4c),_0x876349=getRankTierName(_0x12894d);if(_0x876349===_0x1becca(0x1a8))return console[_0x1becca(0x1cb)]('‚ùå\x20'+_0x3de026+'\x20is\x20Unranked\x20('+_0x1ccb4c+'\x20ELO)'),null;console[_0x1becca(0x1cb)]('üîç\x20Checking\x20Top\x20'+_0x876349+'\x20status\x20for\x20'+_0x3de026+'\x20('+_0x1ccb4c+_0x1becca(0x1c4));const _0x4a546c=collection(db,_0x6ff75e),_0x390faf=await getDocs(_0x4a546c);let _0x232b62=null,_0x5d3779=-0x1,_0x565e50=0x0;_0x390faf[_0x1becca(0x19d)](_0x58e823=>{const _0x4730c6=_0x1becca,_0x2bd2d7=_0x58e823[_0x4730c6(0x1d2)](),_0x3a4dd2=_0x2bd2d7['eloRating']||0x0,_0x832dbf=getPlayerRankTier(_0x3a4dd2);_0x832dbf===_0x12894d&&(_0x565e50++,_0x3a4dd2>_0x5d3779&&(_0x5d3779=_0x3a4dd2,_0x232b62=_0x2bd2d7['username']));});const _0x396a81=_0x232b62===_0x3de026;return console[_0x1becca(0x1cb)]('üìä\x20'+_0x876349+'\x20Tier:\x20'+_0x565e50+'\x20players,\x20Top:\x20'+_0x232b62+'\x20('+_0x5d3779+_0x1becca(0x1c3)+_0x3de026+'\x20is\x20#1:\x20'+_0x396a81),_0x396a81?_0x876349:null;}catch(_0x5cf812){return console[_0x1becca(0x174)]('Error\x20checking\x20top\x20rank\x20status:',_0x5cf812),null;}}async[a53_0x5ca9d4(0x17b)](_0x15cb6d,_0x112a2d,_0x252337){const _0x4a184a=a53_0x5ca9d4,_0x4a962c=await this['checkTopRankStatus'](_0x15cb6d,_0x112a2d),_0x3adc52={};if(_0x4a962c){const _0x11af10='Top\x20'+_0x4a962c+'\x20Pilot';if(RIBBON_DEFINITIONS[_0x11af10]){const _0x16f681=_0x252337[_0x11af10];!_0x16f681?(console['log'](_0x4a184a(0x186)+_0x15cb6d+_0x4a184a(0x1b1)+_0x11af10+'!'),_0x3adc52[_0x11af10]={'level':0x1,'awardedAt':new Date(),'rank':_0x4a962c,'achievedAt':new Date()}):console[_0x4a184a(0x1cb)]('‚úÖ\x20'+_0x15cb6d+_0x4a184a(0x1aa)+_0x11af10+'\x20-\x20No\x20changes\x20needed');}}return Object['keys'](_0x252337)['forEach'](_0xbd4ac=>{const _0x24ddcc=_0x4a184a;_0xbd4ac['startsWith'](_0x24ddcc(0x172))&&_0xbd4ac['endsWith']('\x20Pilot')&&(!_0x3adc52[_0xbd4ac]&&console['log']('‚úÖ\x20Preserving\x20existing\x20'+_0xbd4ac));}),_0x3adc52;}async[a53_0x5ca9d4(0x19f)](_0x41299f,_0x27443b='D1'){const _0x1f9073=a53_0x5ca9d4;try{const _0x55b4cf=ribbonCache[_0x1f9073(0x1cc)](_0x41299f,_0x27443b);if(_0x55b4cf){const _0x58aded=await this[_0x1f9073(0x17b)](_0x41299f,_0x27443b,_0x55b4cf);if(Object['keys'](_0x58aded)['length']>0x0){console['log'](_0x1f9073(0x1b2)+_0x41299f),await this['savePlayerRibbonsOptimized'](_0x41299f,_0x58aded,_0x27443b);const _0x38aa4f={..._0x55b4cf,..._0x58aded};return ribbonCache['setCachedData'](_0x41299f,_0x27443b,_0x38aa4f,0x0),_0x38aa4f;}return _0x55b4cf;}const [_0x2fe416,_0x17859d]=await Promise[_0x1f9073(0x1a5)]([this[_0x1f9073(0x1c5)](_0x41299f,_0x27443b),this['getPlayerRibbonsCached'](_0x41299f,_0x27443b)]);if(!_0x2fe416)return{};const _0x4b36cc=_0x2fe416['matchesPlayed']||0x0,_0x477cbd=await this['evaluateTopRankRibbon'](_0x41299f,_0x27443b,_0x17859d);if(!ribbonCache[_0x1f9073(0x17f)](_0x41299f,_0x27443b,_0x4b36cc)){if(Object['keys'](_0x477cbd)['length']>0x0){await this['savePlayerRibbonsOptimized'](_0x41299f,_0x477cbd,_0x27443b);const _0x2276c5={..._0x17859d,..._0x477cbd};return ribbonCache['setCachedData'](_0x41299f,_0x27443b,_0x2276c5,_0x4b36cc),_0x2276c5;}return ribbonCache[_0x1f9073(0x1ad)](_0x41299f,_0x27443b,_0x17859d,_0x4b36cc),_0x17859d;}const _0x25af81=await this[_0x1f9073(0x180)](_0x41299f,_0x27443b),_0x1f566a=await this[_0x1f9073(0x1ac)](_0x25af81,_0x2fe416,_0x17859d,_0x27443b);Object['assign'](_0x1f566a,_0x477cbd);Object['keys'](_0x1f566a)['length']>0x0&&(console[_0x1f9073(0x1cb)]('üíæ\x20Saving\x20'+Object[_0x1f9073(0x173)](_0x1f566a)['length']+_0x1f9073(0x1d4)+_0x41299f),await this['savePlayerRibbonsOptimized'](_0x41299f,_0x1f566a,_0x27443b));const _0x7b1006={..._0x17859d,..._0x1f566a};return ribbonCache['setCachedData'](_0x41299f,_0x27443b,_0x7b1006,_0x25af81['length']),_0x7b1006;}catch(_0x28bbbb){return console['error']('‚ùå\x20Error\x20in\x20ribbon\x20evaluation:',_0x28bbbb),{};}}async[a53_0x5ca9d4(0x1ae)](_0x5674be,_0x13a36f,_0x48ce06){const _0x299a2e=a53_0x5ca9d4,_0x504e6d=_0x5674be['winnerUsername']===_0x13a36f;if(!_0x504e6d)return![];const _0x3e602d=_0x5674be['loserUsername'],[_0x2b5522,_0xf5a9e6]=await Promise[_0x299a2e(0x1a5)]([this['getPlayerDataCached'](_0x13a36f,_0x48ce06),this['getPlayerDataCached'](_0x3e602d,_0x48ce06)]);if(!_0x2b5522||!_0xf5a9e6)return console[_0x299a2e(0x1cb)]('‚ö†Ô∏è\x20Missing\x20player\x20data\x20for\x20'+_0x13a36f+'\x20or\x20'+_0x3e602d),![];const _0x3bf1b2=_0x2b5522['eloRating']||0x0,_0x49e402=_0xf5a9e6['eloRating']||0x0,_0x2864f4=getPlayerRankTier(_0x3bf1b2),_0x5e9db4=getPlayerRankTier(_0x49e402);console['log'](_0x299a2e(0x177)+_0x13a36f+_0x299a2e(0x1c8)+_0x3bf1b2+'\x20ELO\x20('+getRankTierName(_0x2864f4)+')\x20vs\x20Loser('+_0x3e602d+_0x299a2e(0x1c8)+_0x49e402+'\x20ELO\x20('+getRankTierName(_0x5e9db4)+')');if(_0x5e9db4>_0x2864f4)return console['log']('üéØ\x20UNDERDOG\x20VICTORY:\x20'+getRankTierName(_0x2864f4)+'\x20beat\x20'+getRankTierName(_0x5e9db4)+'!'),!![];return console[_0x299a2e(0x1cb)]('‚ùå\x20Not\x20underdog:\x20'+getRankTierName(_0x2864f4)+'\x20vs\x20'+getRankTierName(_0x5e9db4)),![];}['isUnderdogVictoryFast'](_0x5cbdcd,_0x58b86b,_0x3f045d,_0x39d7d1){const _0x221102=a53_0x5ca9d4,_0x4dc372=_0x5cbdcd['winnerUsername']===_0x58b86b;if(!_0x4dc372)return![];const _0x9fe5d5=_0x5cbdcd['loserUsername'],_0x6587d2=_0x39d7d1[_0x221102(0x16d)](_0x9fe5d5);if(!_0x3f045d||!_0x6587d2)return![];const _0x204624=_0x3f045d['eloRating']||0x0,_0x18ae27=_0x6587d2[_0x221102(0x193)]||0x0,_0x385efa=getPlayerRankTier(_0x204624),_0x47de5b=getPlayerRankTier(_0x18ae27);if(_0x47de5b>_0x385efa)return console['log'](_0x221102(0x18a)+getRankTierName(_0x385efa)+'('+_0x204624+_0x221102(0x184)+getRankTierName(_0x47de5b)+'('+_0x18ae27+')'),!![];return![];}async['evaluateAllRibbonsFromData'](_0x1b22ac,_0x426586,_0x348f78,_0x21a49c){const _0x3d382f=a53_0x5ca9d4,_0x765454={},_0x2c2c28=_0x426586['username'],_0x1e176c={'totalMatches':_0x1b22ac['length'],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0},_0x49a7e6=new Set();_0x1b22ac['forEach'](_0x332e1e=>{const _0x266e9b=a53_0x1c35,_0x167757=_0x332e1e[_0x266e9b(0x197)]===_0x2c2c28,_0x5a5fbf=_0x167757?_0x332e1e['loserUsername']:_0x332e1e['winnerUsername'];if(_0x5a5fbf)_0x49a7e6[_0x266e9b(0x1b3)](_0x5a5fbf);}),console[_0x3d382f(0x1cb)](_0x3d382f(0x16e)+_0x49a7e6['size']+'\x20player\x20records\x20for\x20underdog\x20calculations...');const _0x3f5caa=await this[_0x3d382f(0x1a0)]([..._0x49a7e6,_0x2c2c28],_0x21a49c),_0x4df008=_0x3f5caa['get'](_0x2c2c28);!_0x4df008&&console[_0x3d382f(0x1cb)]('‚ö†Ô∏è\x20No\x20current\x20player\x20data\x20found\x20for\x20'+_0x2c2c28);_0x1b22ac[_0x3d382f(0x19d)](_0x237a8b=>{const _0x31e40c=_0x3d382f,_0x155a15=_0x237a8b['winnerUsername']===_0x2c2c28,_0x5505d6=_0x155a15?_0x237a8b[_0x31e40c(0x1c2)]:_0x237a8b[_0x31e40c(0x197)];_0x155a15&&(_0x1e176c[_0x31e40c(0x171)]++,_0x237a8b[_0x31e40c(0x195)]==='Rematch'&&_0x1e176c[_0x31e40c(0x176)]++,this['isUnderdogVictoryFast'](_0x237a8b,_0x2c2c28,_0x4df008,_0x3f5caa)&&_0x1e176c[_0x31e40c(0x199)]++),_0x237a8b['subgameType']&&_0x237a8b['subgameType']!=='Standard'&&_0x1e176c['subgameMatches']++,_0x237a8b['mapPlayed']&&_0x1e176c[_0x31e40c(0x1a6)]['add'](_0x237a8b['mapPlayed']),_0x5505d6&&_0x1e176c[_0x31e40c(0x188)]['add'](_0x5505d6);}),console['log']('üéØ\x20Found\x20'+_0x1e176c['underdogWins']+'\x20underdog\x20victories\x20for\x20'+_0x2c2c28);const _0x1393ff=_0x1e176c[_0x3d382f(0x19b)]>0x0?_0x1e176c[_0x3d382f(0x171)]/_0x1e176c[_0x3d382f(0x19b)]*0x64:0x0,_0x3d7d5e=[[_0x3d382f(0x1d5),this['evaluateOverachieverRibbonFromCount'](_0x1e176c[_0x3d382f(0x19b)],_0x348f78)],[_0x3d382f(0x18b),this['evaluateRematchRibbonFromCount'](_0x1e176c['rematchWins'],_0x348f78)],['Sub-Gamer\x20Ribbon',this['evaluateSubGamerRibbonFromCount'](_0x1e176c['subgameMatches'],_0x348f78)],['Explorer\x20Ribbon',this['evaluateExplorerRibbonFromCount'](_0x1e176c['uniqueMaps'][_0x3d382f(0x187)],_0x348f78)],[_0x3d382f(0x1bc),this['evaluateSocialiteRibbonFromCount'](_0x1e176c[_0x3d382f(0x188)][_0x3d382f(0x187)],_0x348f78)],[_0x3d382f(0x1a7),this['evaluateBrickWallRibbonFromWinRate'](_0x1393ff,_0x348f78,_0x1e176c['totalMatches'])],[_0x3d382f(0x1be),this['evaluateUnderdogRibbonFromCount'](_0x1e176c['underdogWins'],_0x348f78)]];_0x3d7d5e[_0x3d382f(0x19d)](([_0x394279,_0x4de5a9])=>{_0x4de5a9&&(_0x765454[_0x394279]=_0x4de5a9);});const _0x5b9bdd=Object['keys'](_0x348f78)[_0x3d382f(0x1bd)]+Object['keys'](_0x765454)['length'],_0x3154f5=this['evaluateCollectorRibbonFromCount'](_0x5b9bdd,_0x348f78);return _0x3154f5&&(_0x765454['Collector\x20Ribbon']=_0x3154f5),_0x765454;}async['getPlayerMatchesOptimized'](_0x850e7c,_0x2d56a0){const _0x3d363f=a53_0x5ca9d4,_0x24aed9=matchCache['getCachedMatches'](_0x850e7c,_0x2d56a0);if(_0x24aed9)return _0x24aed9;try{const _0x5d265d=_0x2d56a0==='D1'?'approvedMatches':_0x2d56a0==='D2'?_0x3d363f(0x1a2):_0x3d363f(0x1c7),_0x4db9aa=collection(db,_0x5d265d),[_0x42258e,_0x106f05]=await Promise['all']([getDocs(query(_0x4db9aa,where(_0x3d363f(0x197),'==',_0x850e7c))),getDocs(query(_0x4db9aa,where('loserUsername','==',_0x850e7c)))]),_0x4351c6=new Set(),_0x2ae544=[];return _0x42258e['forEach'](_0x24f140=>{const _0x21e5a1=_0x3d363f;if(!_0x4351c6['has'](_0x24f140['id'])){_0x4351c6['add'](_0x24f140['id']);const _0x5000b6={'id':_0x24f140['id'],..._0x24f140['data']()};if(!_0x5000b6['winnerRating'])_0x5000b6['winnerRating']=0x0;if(!_0x5000b6['loserRating'])_0x5000b6[_0x21e5a1(0x1d7)]=0x0;_0x2ae544['push'](_0x5000b6);}}),_0x106f05['forEach'](_0x1d4463=>{const _0x5ebc69=_0x3d363f;if(!_0x4351c6[_0x5ebc69(0x1b8)](_0x1d4463['id'])){_0x4351c6['add'](_0x1d4463['id']);const _0x378f5f={'id':_0x1d4463['id'],..._0x1d4463[_0x5ebc69(0x1d2)]()};if(!_0x378f5f[_0x5ebc69(0x196)])_0x378f5f[_0x5ebc69(0x196)]=0x0;if(!_0x378f5f[_0x5ebc69(0x1d7)])_0x378f5f['loserRating']=0x0;_0x2ae544['push'](_0x378f5f);}}),matchCache['setCachedMatches'](_0x850e7c,_0x2d56a0,_0x2ae544),_0x2ae544;}catch(_0x5e9f48){return console['error'](_0x3d363f(0x1bb),_0x5e9f48),[];}}async['getPlayerDataCached'](_0x5283c3,_0x331247){const _0x3c70e1=a53_0x5ca9d4;try{const _0x4c4b5e=_0x331247==='D1'?_0x3c70e1(0x179):_0x331247==='D2'?'playersD2':'playersD3',_0x2053c4=collection(db,_0x4c4b5e),_0x5060d5=query(_0x2053c4,where(_0x3c70e1(0x1d1),'==',_0x5283c3),limit(0x1)),_0x1d129c=await getDocs(_0x5060d5);if(_0x1d129c[_0x3c70e1(0x1cf)])return console['log']('‚ùå\x20No\x20player\x20data\x20found\x20for\x20'+_0x5283c3+'\x20in\x20'+_0x4c4b5e),null;const _0x5475fb=_0x1d129c['docs'][0x0]['data']();return _0x5475fb['eloRating']!==undefined&&(_0x5475fb['rating']=_0x5475fb[_0x3c70e1(0x193)]),console[_0x3c70e1(0x1cb)]('‚úÖ\x20Found\x20player\x20data\x20for\x20'+_0x5283c3+':\x20ELO\x20'+_0x5475fb['eloRating']+',\x20Position\x20'+_0x5475fb['position']),_0x5475fb;}catch(_0x530d9c){return console['error']('Error\x20getting\x20player\x20data\x20for\x20'+_0x5283c3+':',_0x530d9c),null;}}async['getPlayerRibbonsCached'](_0x16e544,_0x339f02){const _0x3d136b=a53_0x5ca9d4;try{const _0x36c53='playerRibbons'+(_0x339f02==='D1'?'':_0x339f02),_0x4b838f=doc(db,_0x36c53,_0x16e544),_0x3759f1=await getDoc(_0x4b838f);return _0x3759f1['exists']()?_0x3759f1[_0x3d136b(0x1d2)]()['ribbons']||{}:{};}catch(_0x3dffc7){return console['error']('Error\x20getting\x20player\x20ribbons:',_0x3dffc7),{};}}async[a53_0x5ca9d4(0x1af)](_0xed7b64,_0x25b401,_0x21f9a7){try{const _0x5a0cad='playerRibbons'+(_0x21f9a7==='D1'?'':_0x21f9a7),_0x4addc5=doc(db,_0x5a0cad,_0xed7b64),_0x13be41=await this['getPlayerRibbonsCached'](_0xed7b64,_0x21f9a7),_0x59649c={..._0x13be41,..._0x25b401};await setDoc(_0x4addc5,{'username':_0xed7b64,'ladder':_0x21f9a7,'ribbons':_0x59649c,'lastUpdated':new Date()},{'merge':!![]});}catch(_0x39ff24){console['error']('Error\x20saving\x20ribbons:',_0x39ff24);}}[a53_0x5ca9d4(0x192)](_0x6cd32a,_0x50fa4d){const _0x160c5b=a53_0x5ca9d4,_0x466252=_0x50fa4d[_0x160c5b(0x1d5)]||{'level':0x0},_0x1b39d4=RIBBON_DEFINITIONS[_0x160c5b(0x1d5)]['levels'],_0x28028d=_0x1b39d4['findIndex'](_0x4e573f=>_0x6cd32a<_0x4e573f),_0x1548d0=_0x28028d===-0x1?_0x1b39d4['length']:_0x28028d;if(_0x1548d0>_0x466252['level'])return{'level':_0x1548d0,'awardedAt':new Date()};return null;}['evaluateRematchRibbonFromCount'](_0x52d962,_0x48af80){if(_0x52d962===0x0)return null;const _0x5ea583=_0x48af80['Rematch\x20Ribbon']||{'level':0x0};if(_0x52d962>_0x5ea583['level'])return{'level':_0x52d962,'awardedAt':new Date()};return null;}['evaluateSubGamerRibbonFromCount'](_0x41d9dd,_0x4db2de){const _0x5f10f6=a53_0x5ca9d4,_0x3b1a17=_0x4db2de['Sub-Gamer\x20Ribbon']||{'level':0x0},_0x1ee5e7=RIBBON_DEFINITIONS['Sub-Gamer\x20Ribbon']['levels'],_0x2fa384=_0x1ee5e7[_0x5f10f6(0x19a)](_0x31a9c8=>_0x41d9dd<_0x31a9c8),_0x3de061=_0x2fa384===-0x1?_0x1ee5e7['length']:_0x2fa384;if(_0x3de061>_0x3b1a17['level'])return{'level':_0x3de061,'awardedAt':new Date()};return null;}[a53_0x5ca9d4(0x189)](_0xe43eea,_0x55f614){const _0x2a3ad8=a53_0x5ca9d4,_0x16c766=_0x55f614['Explorer\x20Ribbon']||{'level':0x0},_0x5ad1aa=RIBBON_DEFINITIONS[_0x2a3ad8(0x1d3)][_0x2a3ad8(0x183)],_0x2fa6cb=_0x5ad1aa[_0x2a3ad8(0x19a)](_0x50580e=>_0xe43eea<_0x50580e),_0xab6bc7=_0x2fa6cb===-0x1?_0x5ad1aa[_0x2a3ad8(0x1bd)]:_0x2fa6cb;if(_0xab6bc7>_0x16c766['level'])return{'level':_0xab6bc7,'awardedAt':new Date()};return null;}['evaluateSocialiteRibbonFromCount'](_0x3cdb75,_0xf24e1b){const _0x37b7b1=a53_0x5ca9d4,_0x4cd3ef=_0xf24e1b['Socialite\x20Ribbon']||{'level':0x0},_0x38db8f=RIBBON_DEFINITIONS['Socialite\x20Ribbon']['levels'],_0xbfb6dc=_0x38db8f['findIndex'](_0x146e5a=>_0x3cdb75<_0x146e5a),_0x4adbd4=_0xbfb6dc===-0x1?_0x38db8f['length']:_0xbfb6dc;if(_0x4adbd4>_0x4cd3ef[_0x37b7b1(0x190)])return{'level':_0x4adbd4,'awardedAt':new Date()};return null;}['evaluateBrickWallRibbonFromWinRate'](_0x3723b2,_0x220459,_0x38db46){const _0x3187ad=a53_0x5ca9d4;if(_0x38db46<0x32)return console[_0x3187ad(0x1cb)]('‚ö†Ô∏è\x20Brick\x20Wall\x20ribbon\x20requires\x2050+\x20matches\x20(player\x20has\x20'+_0x38db46+')'),null;const _0x19f761=_0x220459['Brick\x20Wall']||{'level':0x0},_0x17e762=RIBBON_DEFINITIONS[_0x3187ad(0x1a7)]['levels'],_0x5378fe=_0x17e762['findIndex'](_0x5eb0d0=>_0x3723b2<_0x5eb0d0),_0x208900=_0x5378fe===-0x1?_0x17e762['length']:_0x5378fe;if(_0x208900>_0x19f761[_0x3187ad(0x190)])return console['log']('üèÜ\x20Brick\x20Wall\x20ribbon\x20awarded:\x20'+_0x3723b2[_0x3187ad(0x1df)](0x1)+'%\x20win\x20rate\x20over\x20'+_0x38db46+'\x20matches'),{'level':_0x208900,'awardedAt':new Date(),'winRate':_0x3723b2,'matchesPlayed':_0x38db46};return null;}['evaluateCollectorRibbonFromCount'](_0x5ee165,_0x2cec99){const _0x14d9ba=a53_0x5ca9d4,_0x4236c1=_0x2cec99['Collector\x20Ribbon']||{'level':0x0},_0x18261a=RIBBON_DEFINITIONS['Collector\x20Ribbon'][_0x14d9ba(0x183)],_0x4825ed=_0x18261a['findIndex'](_0x1c969a=>_0x5ee165<_0x1c969a),_0x51d8d2=_0x4825ed===-0x1?_0x18261a[_0x14d9ba(0x1bd)]:_0x4825ed;if(_0x51d8d2>_0x4236c1['level'])return{'level':_0x51d8d2,'awardedAt':new Date()};return null;}['evaluateUnderdogRibbonFromCount'](_0x108a0b,_0x506bc5){const _0x4cb992=a53_0x5ca9d4;if(_0x108a0b===0x0)return null;const _0x4c73bc=_0x506bc5[_0x4cb992(0x1be)]||{'level':0x0},_0x3696b8=RIBBON_DEFINITIONS['Underdog\x20Ribbon']['levels'];let _0xdf351=0x0;for(let _0xd6eab5=0x0;_0xd6eab5<_0x3696b8['length'];_0xd6eab5++){if(_0x108a0b>=_0x3696b8[_0xd6eab5])_0xdf351=_0xd6eab5+0x1;else break;}if(_0xdf351>_0x4c73bc['level'])return console['log']('üèÜ\x20Underdog\x20Ribbon\x20upgrade:\x20Level\x20'+_0x4c73bc[_0x4cb992(0x190)]+'\x20‚Üí\x20'+_0xdf351+'\x20('+_0x108a0b+'\x20underdog\x20wins)'),{'level':_0xdf351,'awardedAt':new Date()};return null;}}function getPlayerRankTier(_0x3f7dac){if(_0x3f7dac===undefined||_0x3f7dac===null)return 0x0;const _0x53773f=Number(_0x3f7dac);if(isNaN(_0x53773f))return 0x0;if(_0x53773f>=0x7d0)return 0x4;if(_0x53773f>=0x708)return 0x3;if(_0x53773f>=0x640)return 0x2;if(_0x53773f>=0x578)return 0x1;return 0x0;}function getRankTierName(_0x292d21){const _0x17e9a7=a53_0x5ca9d4,_0x4520e0=[_0x17e9a7(0x1a8),'Bronze',_0x17e9a7(0x181),'Gold','Emerald'];return _0x4520e0[_0x292d21]||'Unranked';}function a53_0x4bee(){const _0x598945=['get','üöÄ\x20Bulk\x20loading\x20','image','playersD3','wins','Top\x20','keys','error','getCacheStats','rematchWins','üîç\x20Checking\x20underdog:\x20Winner(','getCacheKey','players','<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>','evaluateTopRankRibbon','\x20players\x20from\x20','evaluateBrickWallRibbonFromWinRate','CACHE_DURATION','shouldRefreshCache','getPlayerMatchesOptimized','Silver','startsWith','levels',')\x20beat\x20','getItem','üëë\x20NEW\x20Top\x20Rank\x20Achievement:\x20','size','uniqueOpponents','evaluateExplorerRibbonFromCount','üéØ\x20UNDERDOG:\x20','Rematch\x20Ribbon','dominatedRanks','#FF7675','console','level-4','level','CACHE_KEY_PREFIX','evaluateOverachieverRibbonFromCount','eloRating','entries','subgameType','winnerRating','winnerUsername','subgameMatches','underdogWins','findIndex','totalMatches','lastCleanup','forEach','playersD2','evaluateAllRibbonsForPlayerOptimized','bulkLoadPlayerData','‚ùå\x20No\x20ELO\x20rating\x20data\x20for\x20','approvedMatchesD2','toString','\x20Badge','all','uniqueMaps','Brick\x20Wall','Unranked','autoCleanup','\x20already\x20has\x20','../images/ribbons/toprank.png','evaluateAllRibbonsFromData','setCachedData','isUnderdogVictory','savePlayerRibbonsOptimized','push','\x20earned\x20','üÜï\x20New\x20top\x20rank\x20achievements\x20found\x20for\x20cached\x20player\x20','add','Hold\x20more\x20than\x205\x20ribbons\x20at\x20a\x20time','parse','set','removeItem','has','getRibbonCacheStats','#55A3FF','‚ùå\x20Error\x20fetching\x20matches:','Socialite\x20Ribbon','length','Underdog\x20Ribbon','Beat\x205\x20unique\x20pilots\x20in\x20a\x20rank\x20(including\x20your\x20own)','üëë\x20Domination\x20Ribbon\x20awarded:\x20Level\x20','Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Emerald\x20rank','loserUsername','\x20ELO),\x20','\x20ELO)','getPlayerDataCached','clearOldCache','approvedMatchesD3','):\x20','apply','../images/ribbons/Socialite.png','log','getCachedData','now','timestamp','empty','Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Gold\x20rank','username','data','Explorer\x20Ribbon','\x20new/updated\x20ribbons\x20for\x20','Overachiever\x20Ribbon','matchCount','loserRating','__proto__','warn','cleanup','replace','üìä\x20Bulk\x20loaded\x20','üíæ\x20Cache\x20hit\x20(localStorage)\x20for\x20','delete','toFixed','\x20‚Üí\x20','memoryCache','../images/ribbons/Overachiever.png','min'];a53_0x4bee=function(){return _0x598945;};return a53_0x4bee();}function a53_0x1c35(_0xbb1c3,_0x6ba5ec){const _0x1b0bf9=a53_0x4bee();return a53_0x1c35=function(_0x545044,_0x648650){_0x545044=_0x545044-0x16d;let _0x4bee8a=_0x1b0bf9[_0x545044];return _0x4bee8a;},a53_0x1c35(_0xbb1c3,_0x6ba5ec);}const ribbonSystem=new RibbonSystem(),ribbonCache=new RibbonCacheManager(),matchCache=new MatchCacheManager();typeof window!=='undefined'&&(window[a53_0x5ca9d4(0x1b9)]=()=>{const _0x3d5805=a53_0x5ca9d4;return{'ribbon':ribbonCache[_0x3d5805(0x175)](),'match':matchCache['getCacheStats']()};});export async function evaluatePlayerRibbons(_0x4e258a,_0x165ab2='D1'){const _0x2b0635=a53_0x5ca9d4;return await ribbonSystem[_0x2b0635(0x19f)](_0x4e258a,_0x165ab2);}export function getRibbonHTML(_0x3d82b3,_0x2839c4){const _0x18a2ec=a53_0x5ca9d4,_0x128b54=RIBBON_DEFINITIONS[_0x3d82b3];if(!_0x128b54)return'';const _0x502b10=_0x2839c4['level']||0x1,_0x5db8c0=_0x3d82b3['replace']('\x20Ribbon','')[_0x18a2ec(0x1db)](_0x18a2ec(0x1a4),''),_0x28ed4d=_0x5667da=>{const _0x56aa30=_0x18a2ec;if(_0x5667da<=0x1)return'level-1';if(_0x5667da<=0x2)return'level-2';if(_0x5667da<=0x3)return'level-3';if(_0x5667da<=0x4)return _0x56aa30(0x18f);return'level-5-plus';},_0x492b90=_0x3ae9e8=>{const _0x1c61f5=_0x18a2ec;if(_0x3ae9e8<=0x1)return'';const _0x1a2b83=[];if(_0x3ae9e8>=0x2&&_0x3ae9e8<=0x4){const _0x69eb3a=Math[_0x1c61f5(0x1e3)](_0x3ae9e8-0x1,0x3);for(let _0x40b4b5=0x0;_0x40b4b5<_0x69eb3a;_0x40b4b5++){_0x1a2b83[_0x1c61f5(0x1b0)]('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>');}}if(_0x3ae9e8>=0x5&&_0x3ae9e8<=0x7){_0x1a2b83['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20silver-star\x22></i>');const _0x5a1b5c=Math[_0x1c61f5(0x1e3)](_0x3ae9e8-0x5,0x2);for(let _0x11338e=0x0;_0x11338e<_0x5a1b5c;_0x11338e++){_0x1a2b83[_0x1c61f5(0x1b0)](_0x1c61f5(0x17a));}}return _0x3ae9e8>=0x8&&_0x1a2b83['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20gold-star\x22></i>'),_0x1a2b83['length']>0x0?'<div\x20class=\x22ribbon-devices\x22>'+_0x1a2b83['join']('')+'</div>':'';},_0x4f1f4e=_0x128b54['description']+'\x20-\x20Level\x20'+_0x502b10;return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22military-ribbon\x22\x20data-tooltip=\x22'+_0x4f1f4e+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-image-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22'+_0x128b54[_0x18a2ec(0x16f)]+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22'+_0x3d82b3+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22ribbon-image\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27;\x20this.nextElementSibling.style.display=\x27block\x27;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-fallback\x22\x20style=\x22display:\x20none;\x20background:\x20'+_0x128b54['color']+';\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5db8c0['substring'](0x0,0x6)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x492b90(_0x502b10)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-name\x22>'+_0x5db8c0+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x502b10>0x1?'<div\x20class=\x22ribbon-level-indicator\x20'+_0x28ed4d(_0x502b10)+'\x22>'+_0x502b10+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}