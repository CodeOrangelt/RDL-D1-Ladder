const a48_0x26e95d=a48_0x1d6d,a48_0x1af6e0=(function(){let _0x49794b=!![];return function(_0x2500e8,_0x23ce29){const _0xdb0bd7=_0x49794b?function(){if(_0x23ce29){const _0xc062f8=_0x23ce29['apply'](_0x2500e8,arguments);return _0x23ce29=null,_0xc062f8;}}:function(){};return _0x49794b=![],_0xdb0bd7;};}()),a48_0x579e51=a48_0x1af6e0(this,function(){const _0x310eea=a48_0x1d6d,_0x279604=function(){const _0x9bd498=a48_0x1d6d;let _0x5d5385;try{_0x5d5385=Function(_0x9bd498(0x204)+_0x9bd498(0x17f)+');')();}catch(_0x45fdb1){_0x5d5385=window;}return _0x5d5385;},_0x212d1a=_0x279604(),_0x4bbe25=_0x212d1a['console']=_0x212d1a[_0x310eea(0x1e2)]||{},_0x39ab6e=['log','warn','info',_0x310eea(0x190),'exception','table','trace'];for(let _0x10e9b7=0x0;_0x10e9b7<_0x39ab6e[_0x310eea(0x192)];_0x10e9b7++){const _0x323098=a48_0x1af6e0[_0x310eea(0x1b1)][_0x310eea(0x188)][_0x310eea(0x203)](a48_0x1af6e0),_0x2fe908=_0x39ab6e[_0x10e9b7],_0x147e9f=_0x4bbe25[_0x2fe908]||_0x323098;_0x323098['__proto__']=a48_0x1af6e0[_0x310eea(0x203)](a48_0x1af6e0),_0x323098['toString']=_0x147e9f['toString'][_0x310eea(0x203)](_0x147e9f),_0x4bbe25[_0x2fe908]=_0x323098;}});function a48_0x1d6d(_0x1bcc56,_0x4eb251){const _0x579e51=a48_0x10c8();return a48_0x1d6d=function(_0x1af6e0,_0x369774){_0x1af6e0=_0x1af6e0-0x17b;let _0x10c8de=_0x579e51[_0x1af6e0];return _0x10c8de;},a48_0x1d6d(_0x1bcc56,_0x4eb251);}function a48_0x10c8(){const _0x3c105a=['matchCache','📊\x20Bulk\x20loaded\x20','CACHE_DURATION','Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Gold\x20rank','{}.constructor(\x22return\x20this\x22)(\x20)','savePlayerRibbonsOptimized','\x20→\x20','Brick\x20Wall','log','):\x20','getPlayerRibbonsCached','entries','keys','prototype','Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Bronze\x20rank','Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Emerald\x20rank','CACHE_KEY_PREFIX','winnerUsername','invalidatePlayerCache','\x20earned\x20','forEach','error','rematchWins','length','✅\x20Found\x20player\x20data\x20for\x20','\x20ELO\x20(','Collector\x20Ribbon','eloRating','setItem','replace','level-5-plus','Amass\x20at\x20least\x2080%\x20overall\x20win\x20rate\x20percentage\x20(minimum\x2050\x20matches)','subgameMatches','set','getCacheStats','bulkLoadPlayerData','Socialite\x20Ribbon','getPlayerDataCached','rating','dominatedRanks','📊\x20','Sub-Gamer\x20Ribbon','evaluateExplorerRibbonFromCount','key','getCacheKey','Explorer\x20Ribbon','evaluateUnderdogRibbonFromCount',',\x20Position\x20','#FF9500','Error\x20getting\x20player\x20data\x20for\x20','size','../images/ribbons/Domination.png','all','loserUsername','constructor','uniqueMaps','BATCH_DELAY','Overachiever\x20Ribbon','../images/ribbons/BrickWall.png','../images/ribbons/toprank.png','underdogWins','cleanup','uniqueOpponents','\x20Badge','level-2','evaluateSocialiteRibbonFromCount','from','❌\x20No\x20player\x20data\x20found\x20for\x20','level','evaluateRematchRibbonFromCount','../images/ribbons/Explorer.png','\x20in\x20','getCachedData','levels','setCachedMatches','username','getRibbonCacheStats','❌\x20Not\x20underdog:\x20','👑\x20NEW\x20Top\x20Rank\x20Achievement:\x20','players','evaluateAllRibbonsFromData','⚠️\x20No\x20current\x20player\x20data\x20found\x20for\x20','pendingEvaluations','Rematch\x20Ribbon','🚀\x20Bulk\x20loading\x20','❌\x20Error\x20fetching\x20matches:','get','👑\x20Domination\x20Ribbon\x20awarded:\x20Level\x20','min','floor','Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Silver\x20rank','endsWith','../images/ribbons/Collector.png','winnerRating','checkTopRankStatus','playersD3','data','🔍\x20Checking\x20Top\x20','CLEANUP_INTERVAL','setCachedData','isUnderdogVictoryFast','<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>','lastCleanup','console','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','has','\x20ranks:\x20[','\x20player\x20records\x20for\x20underdog\x20calculations...','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22ribbon-image\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27;\x20this.nextElementSibling.style.display=\x27block\x27;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-fallback\x22\x20style=\x22display:\x20none;\x20background:\x20','sort','evaluateOverachieverRibbonFromCount','⚠️\x20Missing\x20player\x20data\x20for\x20','../images/ribbons/Overachiever.png','#CD7F32','evaluateTopRankRibbon','Played\x20over\x20100\x20matches','startsWith','level-1','clearOldCache','approvedMatches','timestamp','evaluateAllRibbonsForPlayerOptimized','Underdog\x20Ribbon','delete','subgameType','now','add','\x20matches','totalMatches','memoryCache','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22military-ribbon\x22\x20data-tooltip=\x22','autoCleanup','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getCachedMatches','playerDataCache','wins','bind','return\x20(function()\x20','removeItem','Unranked'];a48_0x10c8=function(){return _0x3c105a;};return a48_0x10c8();}a48_0x579e51();import{auth,db}from'./firebase-config.js';import{doc,getDoc,setDoc,collection,query,where,getDocs,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const RIBBON_DEFINITIONS={'Rematch\x20Ribbon':{'description':'Beat\x20a\x20pilot\x20with\x20the\x20\x22Rematch\x22\x20subgame\x20selected','image':'../images/ribbons/Rematch.png','color':'#FF6B6B'},'Overachiever\x20Ribbon':{'description':a48_0x26e95d(0x1ee),'image':a48_0x26e95d(0x1eb),'color':'#96CEB4','levels':[0x64,0xc8,0x12c,0x190,0x1f4,0x258,0x2bc,0x320,0x384,0x3e8]},'Brick\x20Wall':{'description':a48_0x26e95d(0x19a),'image':a48_0x26e95d(0x1b5),'color':'#F0932B','levels':[0x50,0x55,0x5a,0x5f,0x64]},'Collector\x20Ribbon':{'description':'Hold\x20more\x20than\x205\x20ribbons\x20at\x20a\x20time','image':a48_0x26e95d(0x1d7),'color':'#6C5CE7','levels':[0x5,0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32]},'Sub-Gamer\x20Ribbon':{'description':'Play\x20over\x2050\x20subgame\x20matches','image':'../images/ribbons/Subgamer.png','color':'#A29BFE','levels':[0x32,0x64,0x96,0xc8,0xfa,0x12c,0x15e,0x190,0x1c2,0x1f4]},'Explorer\x20Ribbon':{'description':'Played\x20at\x20least\x2020\x20unique\x20maps','image':a48_0x26e95d(0x1c1),'color':'#55A3FF','levels':[0x14,0x28,0x3c,0x50,0x64,0x78,0x8c,0xa0,0xb4,0xc8]},'Socialite\x20Ribbon':{'description':'Played\x20at\x20least\x2010\x20unique\x20pilots','image':'../images/ribbons/Socialite.png','color':'#FF7675','levels':[0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32,0x37]},'Underdog\x20Ribbon':{'description':'Beat\x20a\x20pilot\x20ranked\x20higher\x20than\x20you','image':'../images/ribbons/Underdog.png','color':a48_0x26e95d(0x1ab),'levels':[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0x9,0xa]},'Domination\x20Ribbon':{'description':'Beat\x205\x20unique\x20pilots\x20in\x20a\x20rank\x20(including\x20your\x20own)','image':a48_0x26e95d(0x1ae),'color':'#8E44AD','levels':[0x1,0x2,0x3,0x4,0x5]},'Top\x20Bronze\x20Pilot':{'description':a48_0x26e95d(0x189),'image':a48_0x26e95d(0x1b6),'color':a48_0x26e95d(0x1ec)},'Top\x20Silver\x20Pilot':{'description':a48_0x26e95d(0x1d5),'image':a48_0x26e95d(0x1b6),'color':'#C0C0C0'},'Top\x20Gold\x20Pilot':{'description':a48_0x26e95d(0x17e),'image':a48_0x26e95d(0x1b6),'color':'#FFD700'},'Top\x20Emerald\x20Pilot':{'description':a48_0x26e95d(0x18a),'image':a48_0x26e95d(0x1b6),'color':'#50C878'}};export const RIBBON_CSS='\x0a/*\x20Stats\x20integration\x20styles\x20*/\x0a.ribbon-section\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-top:\x201rem;\x0a}\x0a\x0a.ribbon-stat-item.full-width\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-bottom:\x200;\x0a}\x0a\x0a/*\x20Military\x20Ribbon\x20Rack\x20Styling\x20-\x20NO\x20OUTER\x20CONTAINER\x20*/\x0a.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20padding:\x200;\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20box-shadow:\x20none;\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20align-items:\x20flex-start;\x0a}\x0a\x0a.ribbon-rack-empty-inline\x20{\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20padding:\x2060px\x2040px;\x0a\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20border-radius:\x2012px;\x0a\x20\x20\x20\x20border:\x202px\x20solid\x20rgba(255,\x20255,\x20255,\x200.1);\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a}\x0a\x0a.empty-rack-text\x20{\x0a\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20font-style:\x20italic;\x0a\x20\x20\x20\x20font-size:\x201.2rem;\x0a}\x0a\x0a/*\x20Ribbon\x20Rows\x20*/\x0a.ribbon-row\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x206px;\x0a\x20\x20\x20\x20margin-bottom:\x206px;\x0a\x20\x20\x20\x20justify-content:\x20flex-start;\x0a}\x0a\x0a.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20margin-left:\x2060px;\x0a}\x0a\x0a/*\x20Individual\x20Military\x20Ribbon\x20Styling\x20-\x20FIXED\x20OVERFLOW\x20FOR\x20LEVEL\x20INDICATOR\x20*/\x0a.military-ribbon\x20{\x0a\x20\x20\x20\x20position:\x20relative;\x0a\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20transition:\x20transform\x200.3s\x20ease;\x0a\x20\x20\x20\x20flex-shrink:\x200;\x0a\x20\x20\x20\x20width:\x20190px;\x0a\x20\x20\x20\x20height:\x2060px;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#333;\x0a\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20overflow:\x20visible;\x20/*\x20Changed\x20from\x20hidden\x20to\x20visible\x20*/\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20margin:\x2012px\x2012px\x2012px\x200;\x20/*\x20Added\x20margin\x20to\x20prevent\x20clipping\x20*/\x0a}\x0a\x0a.military-ribbon:hover\x20{\x0a\x20\x20\x20\x20transform:\x20translateY(-4px);\x0a\x20\x20\x20\x20z-index:\x2010;\x0a}\x0a\x0a/*\x20Ribbon\x20image\x20container\x20to\x20handle\x20the\x20actual\x20overflow\x20*/\x0a.ribbon-image-container\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20border-radius:\x201px;\x0a}\x0a\x0a.ribbon-image\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20object-fit:\x20cover;\x0a\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20image-rendering:\x20crisp-edges;\x0a}\x0a\x0a.ribbon-fallback\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20text-shadow:\x200\x202px\x204px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a}\x0a\x0a.ribbon-name\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.9);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201.2;\x0a\x20\x20\x20\x20margin-top:\x206px;\x0a\x20\x20\x20\x20max-width:\x20120px;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20text-overflow:\x20ellipsis;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20-24px;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20font-weight:\x20500;\x0a}\x0a\x0a.military-ribbon:hover\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20display:\x20block;\x0a}\x0a\x0a.ribbon-devices\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x2050%;\x0a\x20\x20\x20\x20right:\x206px;\x0a\x20\x20\x20\x20transform:\x20translateY(-50%);\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x203px;\x0a\x20\x20\x20\x20z-index:\x205;\x0a}\x0a\x0a.ribbon-device\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20text-shadow:\x200\x200\x204px\x20rgba(0,0,0,0.9);\x0a\x20\x20\x20\x20filter:\x20drop-shadow(0\x202px\x204px\x20rgba(0,0,0,0.8));\x0a}\x0a\x0a.bronze-star\x20{\x0a\x20\x20\x20\x20color:\x20#CD7F32;\x0a}\x0a\x0a.silver-star\x20{\x0a\x20\x20\x20\x20color:\x20#C0C0C0;\x0a}\x0a\x0a.gold-star\x20{\x0a\x20\x20\x20\x20color:\x20#FFD700;\x0a}\x0a\x0a/*\x20Level\x20indicator\x20-\x20NOW\x20FULLY\x20VISIBLE\x20*/\x0a.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x20-8px;\x0a\x20\x20\x20\x20right:\x20-8px;\x0a\x20\x20\x20\x20background:\x20#FFD700;\x0a\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20width:\x2024px;\x0a\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#FFF;\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x208px\x20rgba(0,0,0,0.7);\x0a\x20\x20\x20\x20z-index:\x206;\x0a}\x0a\x0a/*\x20Custom\x20tooltip\x20-\x20only\x20this\x20one\x20will\x20show\x20*/\x0a.military-ribbon::before\x20{\x0a\x20\x20\x20\x20content:\x20attr(data-tooltip);\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20100%;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20background:\x20rgba(0,0,0,0.95);\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20padding:\x208px\x2012px;\x0a\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20pointer-events:\x20none;\x0a\x20\x20\x20\x20transition:\x20opacity\x200.3s;\x0a\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20margin-bottom:\x208px;\x0a\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(255,\x20255,\x20255,\x200.2);\x0a}\x0a\x0a.military-ribbon:hover::before\x20{\x0a\x20\x20\x20\x20opacity:\x201;\x0a}\x0a\x0a/*\x20Responsive\x20adjustments\x20*/\x0a@media\x20(max-width:\x201024px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2034px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x208px\x208px\x208px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-6px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-6px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2052px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-20px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20768px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2028px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x206px\x206px\x206px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x209px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-5px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-5px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2042px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2011px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-18px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x205px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20480px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2070px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x205px\x205px\x205px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2036px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x204px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-4px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-4px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a.stats-grid\x20.ribbon-section\x20{\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20padding:\x200;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20{\x0a\x20\x20\x20\x20background-color:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20padding:\x2025px;\x0a\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20.stat-label\x20{\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20text-transform:\x20uppercase;\x0a\x20\x20\x20\x20opacity:\x200.9;\x0a\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.95);\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a}\x0a\x0a.ribbon-level-indicator.level-1\x20{\x20background:\x20#808080;\x20}\x0a.ribbon-level-indicator.level-2\x20{\x20background:\x20#CD7F32;\x20}\x0a.ribbon-level-indicator.level-3\x20{\x20background:\x20#b9f1fc;\x20}\x0a.ribbon-level-indicator.level-4\x20{\x20background:\x20#FFD700;\x20}\x0a.ribbon-level-indicator.level-5-plus\x20{\x20background:\x20#50C878;\x20}\x0a';class RibbonCacheManager{constructor(){const _0x1bb381=a48_0x26e95d;this[_0x1bb381(0x1fc)]=new Map(),this['CACHE_DURATION']=0x3c*0x3c*0x3e8,this['CACHE_KEY_PREFIX']='ribbon_cache_',this['lastCleanup']=Date['now'](),this[_0x1bb381(0x1dd)]=0x1e*0x3c*0x3e8;}[a48_0x26e95d(0x1a7)](_0x5cef6f,_0x137ea8){return''+this['CACHE_KEY_PREFIX']+_0x5cef6f+'_'+_0x137ea8;}['getCachedData'](_0x4a7dee,_0x2a1d28){const _0x93038c=a48_0x26e95d;this['autoCleanup']();const _0x5118ef=this['getCacheKey'](_0x4a7dee,_0x2a1d28);if(this[_0x93038c(0x1fc)]['has'](_0x5118ef)){const _0x4759ed=this['memoryCache'][_0x93038c(0x1d1)](_0x5118ef);if(Date['now']()-_0x4759ed['timestamp']<this[_0x93038c(0x17d)])return console['log']('🚀\x20Cache\x20hit\x20(memory)\x20for\x20'+_0x4a7dee),_0x4759ed[_0x93038c(0x1db)];this['memoryCache'][_0x93038c(0x1f6)](_0x5118ef);}const _0x75bb90=localStorage['getItem'](_0x5118ef);if(_0x75bb90)try{const _0xa5f2f5=JSON['parse'](_0x75bb90);if(Date['now']()-_0xa5f2f5['timestamp']<this['CACHE_DURATION'])return this[_0x93038c(0x1fc)]['set'](_0x5118ef,{'data':_0xa5f2f5['ribbons'],'timestamp':_0xa5f2f5[_0x93038c(0x1f3)],'matchCount':_0xa5f2f5['matchCount']}),console['log']('💾\x20Cache\x20hit\x20(localStorage)\x20for\x20'+_0x4a7dee),_0xa5f2f5['ribbons'];localStorage[_0x93038c(0x205)](_0x5118ef);}catch(_0x5def22){localStorage['removeItem'](_0x5118ef);}return null;}['setCachedData'](_0x4e9749,_0x534fbb,_0x4523a7,_0x1d5ce1){const _0x514a86=a48_0x26e95d,_0x2cde64=this[_0x514a86(0x1a7)](_0x4e9749,_0x534fbb),_0x558022=Date['now']();this[_0x514a86(0x1fc)][_0x514a86(0x19c)](_0x2cde64,{'data':_0x4523a7,'timestamp':_0x558022,'matchCount':_0x1d5ce1});try{const _0x1964a8={'ribbons':_0x4523a7,'matchCount':_0x1d5ce1,'timestamp':_0x558022,'version':0x3};localStorage[_0x514a86(0x197)](_0x2cde64,JSON['stringify'](_0x1964a8));}catch(_0x35beaf){this[_0x514a86(0x1f1)]();try{localStorage[_0x514a86(0x197)](_0x2cde64,JSON['stringify'](data));}catch(_0x260c32){}}}['shouldRefreshCache'](_0x4c8cee,_0x4e684c,_0x69302c){const _0x584f1b=a48_0x26e95d,_0x2e775e=this['getCacheKey'](_0x4c8cee,_0x4e684c);if(this[_0x584f1b(0x1fc)]['has'](_0x2e775e)){const _0xa62b7e=this['memoryCache'][_0x584f1b(0x1d1)](_0x2e775e);return _0xa62b7e['matchCount']!==_0x69302c;}const _0x662837=localStorage['getItem'](_0x2e775e);if(_0x662837)try{const _0x9f3693=JSON['parse'](_0x662837);return _0x9f3693['matchCount']!==_0x69302c;}catch(_0x542cc5){return!![];}return!![];}[a48_0x26e95d(0x18d)](_0x57f1fe,_0x775651){const _0x3b714a=a48_0x26e95d,_0x5828a3=this['getCacheKey'](_0x57f1fe,_0x775651);this['memoryCache'][_0x3b714a(0x1f6)](_0x5828a3),localStorage['removeItem'](_0x5828a3),console['log']('🗑️\x20Invalidated\x20cache\x20for\x20'+_0x57f1fe+'\x20('+_0x775651+')\x20-\x20new\x20match\x20detected');}[a48_0x26e95d(0x1fe)](){const _0x3a52f9=a48_0x26e95d,_0x34bf4f=Date[_0x3a52f9(0x1f8)]();_0x34bf4f-this['lastCleanup']>this[_0x3a52f9(0x1dd)]&&(this[_0x3a52f9(0x1b8)](),this[_0x3a52f9(0x1e1)]=_0x34bf4f);}['cleanup'](){const _0x4350e3=a48_0x26e95d,_0xc5c81f=Date['now']();let _0x2f918a=0x0,_0x5ed576=0x0;for(const [_0x5a96a5,_0x50a6e8]of this[_0x4350e3(0x1fc)]['entries']()){_0xc5c81f-_0x50a6e8['timestamp']>this['CACHE_DURATION']&&(this['memoryCache']['delete'](_0x5a96a5),_0x2f918a++);}for(let _0x13e9c2=localStorage[_0x4350e3(0x192)]-0x1;_0x13e9c2>=0x0;_0x13e9c2--){const _0x3a45e5=localStorage[_0x4350e3(0x1a6)](_0x13e9c2);if(_0x3a45e5&&_0x3a45e5['startsWith'](this[_0x4350e3(0x18b)]))try{const _0x1bf1b4=JSON['parse'](localStorage['getItem'](_0x3a45e5));_0xc5c81f-_0x1bf1b4['timestamp']>this['CACHE_DURATION']&&(localStorage[_0x4350e3(0x205)](_0x3a45e5),_0x5ed576++);}catch(_0x3ef061){localStorage['removeItem'](_0x3a45e5),_0x5ed576++;}}}['clearOldCache'](){const _0x21619d=a48_0x26e95d,_0x5292d1=[];for(let _0x11f29c=0x0;_0x11f29c<localStorage[_0x21619d(0x192)];_0x11f29c++){const _0x319672=localStorage[_0x21619d(0x1a6)](_0x11f29c);if(_0x319672&&_0x319672['startsWith'](this['CACHE_KEY_PREFIX']))try{const _0x1d51cd=JSON['parse'](localStorage['getItem'](_0x319672));_0x5292d1['push']({'key':_0x319672,'timestamp':_0x1d51cd['timestamp']});}catch(_0x45b327){localStorage['removeItem'](_0x319672);}}_0x5292d1[_0x21619d(0x1e8)]((_0x27a21e,_0x385805)=>_0x27a21e['timestamp']-_0x385805['timestamp']);const _0x13af50=Math[_0x21619d(0x1d4)](_0x5292d1[_0x21619d(0x192)]/0x2);for(let _0x4b5f1f=0x0;_0x4b5f1f<_0x13af50;_0x4b5f1f++){localStorage['removeItem'](_0x5292d1[_0x4b5f1f]['key']);}}['getCacheStats'](){const _0x39ddb4=a48_0x26e95d;return{'memoryEntries':this[_0x39ddb4(0x1fc)]['size'],'lastCleanup':new Date(this['lastCleanup'])['toLocaleTimeString']()};}}class MatchCacheManager{constructor(){const _0x2c8de1=a48_0x26e95d;this['matchCache']=new Map(),this[_0x2c8de1(0x17d)]=0xf*0x3c*0x3e8,this[_0x2c8de1(0x1e1)]=Date[_0x2c8de1(0x1f8)]();}[a48_0x26e95d(0x200)](_0x5cded1,_0x17db28){const _0x51e65e=a48_0x26e95d;this['autoCleanup']();const _0x58469f=_0x5cded1+'_'+_0x17db28,_0x2d7d12=this[_0x51e65e(0x17b)]['get'](_0x58469f);if(_0x2d7d12&&Date['now']()-_0x2d7d12['timestamp']<this[_0x51e65e(0x17d)])return console['log']('🎯\x20Cache\x20hit\x20(matches)\x20for\x20'+_0x5cded1),_0x2d7d12['matches'];return _0x2d7d12&&this['matchCache']['delete'](_0x58469f),null;}[a48_0x26e95d(0x1c5)](_0x4a265b,_0x3cbf89,_0x45e73d){const _0x260713=a48_0x26e95d,_0x8ec7df=_0x4a265b+'_'+_0x3cbf89;this['matchCache']['set'](_0x8ec7df,{'matches':_0x45e73d,'timestamp':Date[_0x260713(0x1f8)]()});}['autoCleanup'](){const _0x1d173f=a48_0x26e95d,_0x2785f4=Date['now']();if(_0x2785f4-this['lastCleanup']>0x5*0x3c*0x3e8){let _0x3de6a0=0x0;for(const [_0x8480d,_0x9c5167]of this['matchCache'][_0x1d173f(0x186)]()){_0x2785f4-_0x9c5167['timestamp']>this['CACHE_DURATION']&&(this[_0x1d173f(0x17b)]['delete'](_0x8480d),_0x3de6a0++);}this['lastCleanup']=_0x2785f4;}}['getCacheStats'](){const _0x115556=a48_0x26e95d;return{'entries':this[_0x115556(0x17b)]['size'],'lastCleanup':new Date(this['lastCleanup'])['toLocaleTimeString']()};}}class RibbonSystem{constructor(){const _0x341daa=a48_0x26e95d;this[_0x341daa(0x1cd)]=new Map(),this['batchTimer']=null,this[_0x341daa(0x1b3)]=0x32,this[_0x341daa(0x201)]=new Map();}async['bulkLoadPlayerData'](_0x5be61c,_0x456aab){const _0x16d9c9=a48_0x26e95d,_0xb5b596=_0x456aab==='D1'?_0x16d9c9(0x1ca):_0x456aab==='D2'?'playersD2':'playersD3',_0x213ac8=collection(db,_0xb5b596),_0x424654=await getDocs(_0x213ac8),_0x8f23c1=new Map();return _0x424654[_0x16d9c9(0x18f)](_0x2767e6=>{const _0x1b1839=_0x16d9c9,_0x45ea45=_0x2767e6[_0x1b1839(0x1db)]();_0x45ea45[_0x1b1839(0x1c6)]&&(_0x45ea45[_0x1b1839(0x196)]!==undefined&&(_0x45ea45[_0x1b1839(0x1a1)]=_0x45ea45['eloRating']),_0x8f23c1['set'](_0x45ea45['username'],_0x45ea45));}),console['log'](_0x16d9c9(0x17c)+_0x8f23c1[_0x16d9c9(0x1ad)]+'\x20players\x20from\x20'+_0xb5b596),_0x8f23c1;}async[a48_0x26e95d(0x1cb)](_0x54c90a,_0x3069d1,_0xe07e2b,_0x51ca16){const _0x50bfbe=a48_0x26e95d,_0x3f8c8b={},_0x33a33b=_0x3069d1['username'],_0x557ea3={'totalMatches':_0x54c90a[_0x50bfbe(0x192)],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0,'dominatedRanks':new Set()},_0x1dfcb1=new Set();_0x54c90a['forEach'](_0x2b150c=>{const _0x37f75a=_0x50bfbe,_0x3968b6=_0x2b150c['winnerUsername']===_0x33a33b,_0x531664=_0x3968b6?_0x2b150c['loserUsername']:_0x2b150c['winnerUsername'];if(_0x531664)_0x1dfcb1[_0x37f75a(0x1f9)](_0x531664);}),console['log'](_0x50bfbe(0x1cf)+_0x1dfcb1[_0x50bfbe(0x1ad)]+'\x20player\x20records\x20for\x20underdog\x20calculations...');const _0x50f79c=await this['bulkLoadPlayerData']([..._0x1dfcb1,_0x33a33b],_0x51ca16),_0x36486e=_0x50f79c['get'](_0x33a33b);!_0x36486e&&console[_0x50bfbe(0x183)]('⚠️\x20No\x20current\x20player\x20data\x20found\x20for\x20'+_0x33a33b);const _0x432187={0x0:new Set(),0x1:new Set(),0x2:new Set(),0x3:new Set(),0x4:new Set()};_0x54c90a['forEach'](_0x13b8dc=>{const _0x3e2c38=_0x50bfbe,_0x37d704=_0x13b8dc['winnerUsername']===_0x33a33b,_0x15d4db=_0x37d704?_0x13b8dc['loserUsername']:_0x13b8dc[_0x3e2c38(0x18c)];if(_0x37d704){_0x557ea3['wins']++;_0x13b8dc['subgameType']==='Rematch'&&_0x557ea3[_0x3e2c38(0x191)]++;this['isUnderdogVictoryFast'](_0x13b8dc,_0x33a33b,_0x36486e,_0x50f79c)&&_0x557ea3['underdogWins']++;const _0xc6c1c3=_0x50f79c['get'](_0x15d4db);if(_0xc6c1c3){const _0x5eb945=_0xc6c1c3['eloRating']||0x0,_0x1fb351=getPlayerRankTier(_0x5eb945);_0x432187[_0x1fb351][_0x3e2c38(0x1f9)](_0x15d4db);}}_0x13b8dc[_0x3e2c38(0x1f7)]&&_0x13b8dc[_0x3e2c38(0x1f7)]!=='Standard'&&_0x557ea3[_0x3e2c38(0x19b)]++,_0x13b8dc['mapPlayed']&&_0x557ea3[_0x3e2c38(0x1b2)]['add'](_0x13b8dc['mapPlayed']),_0x15d4db&&_0x557ea3['uniqueOpponents'][_0x3e2c38(0x1f9)](_0x15d4db);}),Object['keys'](_0x432187)['forEach'](_0x1b8ce8=>{const _0x651ed3=_0x50bfbe;_0x432187[_0x1b8ce8]['size']>=0x5&&_0x557ea3['dominatedRanks'][_0x651ed3(0x1f9)](parseInt(_0x1b8ce8));}),console['log']('🎯\x20Found\x20'+_0x557ea3[_0x50bfbe(0x1b7)]+'\x20underdog\x20victories\x20for\x20'+_0x33a33b),console['log']('👑\x20Dominated\x20'+_0x557ea3['dominatedRanks']['size']+_0x50bfbe(0x1e5)+Array[_0x50bfbe(0x1bd)](_0x557ea3[_0x50bfbe(0x1a2)])['map'](_0x33bb71=>getRankTierName(_0x33bb71))['join'](',\x20')+']');const _0x51e9fd=_0x557ea3[_0x50bfbe(0x1fb)]>0x0?_0x557ea3[_0x50bfbe(0x202)]/_0x557ea3[_0x50bfbe(0x1fb)]*0x64:0x0,_0x2ba5b5=[[_0x50bfbe(0x1b4),this[_0x50bfbe(0x1e9)](_0x557ea3['totalMatches'],_0xe07e2b)],['Rematch\x20Ribbon',this['evaluateRematchRibbonFromCount'](_0x557ea3['rematchWins'],_0xe07e2b)],['Sub-Gamer\x20Ribbon',this['evaluateSubGamerRibbonFromCount'](_0x557ea3['subgameMatches'],_0xe07e2b)],['Explorer\x20Ribbon',this['evaluateExplorerRibbonFromCount'](_0x557ea3['uniqueMaps'][_0x50bfbe(0x1ad)],_0xe07e2b)],[_0x50bfbe(0x19f),this['evaluateSocialiteRibbonFromCount'](_0x557ea3[_0x50bfbe(0x1b9)][_0x50bfbe(0x1ad)],_0xe07e2b)],['Brick\x20Wall',this['evaluateBrickWallRibbonFromWinRate'](_0x51e9fd,_0xe07e2b,_0x557ea3['totalMatches'])],['Underdog\x20Ribbon',this['evaluateUnderdogRibbonFromCount'](_0x557ea3['underdogWins'],_0xe07e2b)],['Domination\x20Ribbon',this['evaluateDominationRibbonFromRanks'](_0x557ea3['dominatedRanks'][_0x50bfbe(0x1ad)],_0xe07e2b)]];_0x2ba5b5['forEach'](([_0x17adc8,_0xd4a1ba])=>{_0xd4a1ba&&(_0x3f8c8b[_0x17adc8]=_0xd4a1ba);});const _0x48d904=Object['keys'](_0xe07e2b)['length']+Object[_0x50bfbe(0x187)](_0x3f8c8b)['length'],_0x3d8184=this['evaluateCollectorRibbonFromCount'](_0x48d904,_0xe07e2b);return _0x3d8184&&(_0x3f8c8b['Collector\x20Ribbon']=_0x3d8184),_0x3f8c8b;}['evaluateDominationRibbonFromRanks'](_0x2a5ed4,_0x3bf367){const _0x2d35ca=a48_0x26e95d;if(_0x2a5ed4===0x0)return null;const _0x463698=_0x3bf367['Domination\x20Ribbon']||{'level':0x0};if(_0x2a5ed4>_0x463698[_0x2d35ca(0x1bf)]){const _0x242b33=[];for(let _0x5168fb=0x0;_0x5168fb<_0x2a5ed4;_0x5168fb++){_0x242b33['push'](getRankTierName(_0x5168fb));}return console[_0x2d35ca(0x183)](_0x2d35ca(0x1d2)+_0x463698[_0x2d35ca(0x1bf)]+'\x20→\x20'+_0x2a5ed4+'\x20(Dominated:\x20'+_0x242b33['join'](',\x20')+')'),{'level':_0x2a5ed4,'awardedAt':new Date(),'dominatedRanks':_0x242b33};}return null;}async[a48_0x26e95d(0x1d9)](_0x1c0ce4,_0xb96457){const _0x1d63d9=a48_0x26e95d;try{const _0x5ee942=_0xb96457==='D1'?'players':_0xb96457==='D2'?'playersD2':_0x1d63d9(0x1da),_0x408dd9=await this['getPlayerDataCached'](_0x1c0ce4,_0xb96457);if(!_0x408dd9||_0x408dd9['eloRating']===undefined)return console['log']('❌\x20No\x20ELO\x20rating\x20data\x20for\x20'+_0x1c0ce4),null;const _0xed9207=_0x408dd9['eloRating'],_0x1f90ef=getPlayerRankTier(_0xed9207),_0x33e0bb=getRankTierName(_0x1f90ef);if(_0x33e0bb===_0x1d63d9(0x206))return console['log']('❌\x20'+_0x1c0ce4+'\x20is\x20Unranked\x20('+_0xed9207+'\x20ELO)'),null;console['log'](_0x1d63d9(0x1dc)+_0x33e0bb+'\x20status\x20for\x20'+_0x1c0ce4+'\x20('+_0xed9207+'\x20ELO)');const _0x1ada35=collection(db,_0x5ee942),_0x590736=await getDocs(_0x1ada35);let _0x3036c6=null,_0x3c6cb6=-0x1,_0x1ea8d1=0x0;_0x590736['forEach'](_0x3dbefb=>{const _0x254bc6=_0x1d63d9,_0x1727e8=_0x3dbefb['data'](),_0x3a9762=_0x1727e8[_0x254bc6(0x196)]||0x0,_0xf13965=getPlayerRankTier(_0x3a9762);_0xf13965===_0x1f90ef&&(_0x1ea8d1++,_0x3a9762>_0x3c6cb6&&(_0x3c6cb6=_0x3a9762,_0x3036c6=_0x1727e8['username']));});const _0x27401d=_0x3036c6===_0x1c0ce4;return console[_0x1d63d9(0x183)](_0x1d63d9(0x1a3)+_0x33e0bb+'\x20Tier:\x20'+_0x1ea8d1+'\x20players,\x20Top:\x20'+_0x3036c6+'\x20('+_0x3c6cb6+'\x20ELO),\x20'+_0x1c0ce4+'\x20is\x20#1:\x20'+_0x27401d),_0x27401d?_0x33e0bb:null;}catch(_0x21e436){return console[_0x1d63d9(0x190)]('Error\x20checking\x20top\x20rank\x20status:',_0x21e436),null;}}async['evaluateTopRankRibbon'](_0x197e5d,_0xd3de5,_0x198589){const _0x39e53f=a48_0x26e95d,_0x13afd7=await this['checkTopRankStatus'](_0x197e5d,_0xd3de5),_0x4cc318={};if(_0x13afd7){const _0x249f2a='Top\x20'+_0x13afd7+'\x20Pilot';if(RIBBON_DEFINITIONS[_0x249f2a]){const _0x75b882=_0x198589[_0x249f2a];!_0x75b882?(console[_0x39e53f(0x183)](_0x39e53f(0x1c9)+_0x197e5d+_0x39e53f(0x18e)+_0x249f2a+'!'),_0x4cc318[_0x249f2a]={'level':0x1,'awardedAt':new Date(),'rank':_0x13afd7,'achievedAt':new Date()}):console['log']('✅\x20'+_0x197e5d+'\x20already\x20has\x20'+_0x249f2a+'\x20-\x20No\x20changes\x20needed');}}return Object['keys'](_0x198589)['forEach'](_0x1fcdc6=>{const _0x2dfcf6=_0x39e53f;_0x1fcdc6[_0x2dfcf6(0x1ef)]('Top\x20')&&_0x1fcdc6[_0x2dfcf6(0x1d6)]('\x20Pilot')&&(!_0x4cc318[_0x1fcdc6]&&console['log']('✅\x20Preserving\x20existing\x20'+_0x1fcdc6));}),_0x4cc318;}async['evaluateAllRibbonsForPlayerOptimized'](_0x1ff198,_0x18af85='D1'){const _0xb277af=a48_0x26e95d;try{const _0x4f1c2e=ribbonCache[_0xb277af(0x1c3)](_0x1ff198,_0x18af85);if(_0x4f1c2e){const _0xd1d803=await this[_0xb277af(0x1ed)](_0x1ff198,_0x18af85,_0x4f1c2e);if(Object['keys'](_0xd1d803)['length']>0x0){console[_0xb277af(0x183)]('🆕\x20New\x20top\x20rank\x20achievements\x20found\x20for\x20cached\x20player\x20'+_0x1ff198),await this[_0xb277af(0x180)](_0x1ff198,_0xd1d803,_0x18af85);const _0x83e004={..._0x4f1c2e,..._0xd1d803};return ribbonCache['setCachedData'](_0x1ff198,_0x18af85,_0x83e004,0x0),_0x83e004;}return _0x4f1c2e;}const [_0x174f88,_0x8c8ac1]=await Promise[_0xb277af(0x1af)]([this[_0xb277af(0x1a0)](_0x1ff198,_0x18af85),this['getPlayerRibbonsCached'](_0x1ff198,_0x18af85)]);if(!_0x174f88)return{};const _0x4a1ba8=_0x174f88['matchesPlayed']||0x0,_0x34a878=await this['evaluateTopRankRibbon'](_0x1ff198,_0x18af85,_0x8c8ac1);if(!ribbonCache['shouldRefreshCache'](_0x1ff198,_0x18af85,_0x4a1ba8)){if(Object['keys'](_0x34a878)['length']>0x0){await this['savePlayerRibbonsOptimized'](_0x1ff198,_0x34a878,_0x18af85);const _0x58d2ea={..._0x8c8ac1,..._0x34a878};return ribbonCache[_0xb277af(0x1de)](_0x1ff198,_0x18af85,_0x58d2ea,_0x4a1ba8),_0x58d2ea;}return ribbonCache['setCachedData'](_0x1ff198,_0x18af85,_0x8c8ac1,_0x4a1ba8),_0x8c8ac1;}const _0x5e36fc=await this['getPlayerMatchesOptimized'](_0x1ff198,_0x18af85),_0x1acb54=await this['evaluateAllRibbonsFromData'](_0x5e36fc,_0x174f88,_0x8c8ac1,_0x18af85);Object['assign'](_0x1acb54,_0x34a878);Object[_0xb277af(0x187)](_0x1acb54)[_0xb277af(0x192)]>0x0&&(console['log']('💾\x20Saving\x20'+Object[_0xb277af(0x187)](_0x1acb54)['length']+'\x20new/updated\x20ribbons\x20for\x20'+_0x1ff198),await this[_0xb277af(0x180)](_0x1ff198,_0x1acb54,_0x18af85));const _0x2fa6d9={..._0x8c8ac1,..._0x1acb54};return ribbonCache['setCachedData'](_0x1ff198,_0x18af85,_0x2fa6d9,_0x5e36fc[_0xb277af(0x192)]),_0x2fa6d9;}catch(_0x100f21){return console['error']('❌\x20Error\x20in\x20ribbon\x20evaluation:',_0x100f21),{};}}async['isUnderdogVictory'](_0x41dfe2,_0xda77c1,_0x40bec8){const _0x453c02=a48_0x26e95d,_0x246edd=_0x41dfe2['winnerUsername']===_0xda77c1;if(!_0x246edd)return![];const _0x39d258=_0x41dfe2[_0x453c02(0x1b0)],[_0x2605ca,_0x35a99b]=await Promise[_0x453c02(0x1af)]([this['getPlayerDataCached'](_0xda77c1,_0x40bec8),this[_0x453c02(0x1a0)](_0x39d258,_0x40bec8)]);if(!_0x2605ca||!_0x35a99b)return console['log'](_0x453c02(0x1ea)+_0xda77c1+'\x20or\x20'+_0x39d258),![];const _0x4c9021=_0x2605ca['eloRating']||0x0,_0x5c517a=_0x35a99b['eloRating']||0x0,_0x10b8d3=getPlayerRankTier(_0x4c9021),_0x307c24=getPlayerRankTier(_0x5c517a);console['log']('🔍\x20Checking\x20underdog:\x20Winner('+_0xda77c1+_0x453c02(0x184)+_0x4c9021+'\x20ELO\x20('+getRankTierName(_0x10b8d3)+')\x20vs\x20Loser('+_0x39d258+_0x453c02(0x184)+_0x5c517a+_0x453c02(0x194)+getRankTierName(_0x307c24)+')');if(_0x307c24>_0x10b8d3)return console[_0x453c02(0x183)]('🎯\x20UNDERDOG\x20VICTORY:\x20'+getRankTierName(_0x10b8d3)+'\x20beat\x20'+getRankTierName(_0x307c24)+'!'),!![];return console['log'](_0x453c02(0x1c8)+getRankTierName(_0x10b8d3)+'\x20vs\x20'+getRankTierName(_0x307c24)),![];}['isUnderdogVictoryFast'](_0xaf55a5,_0x37eaef,_0x3a162,_0x48d1e0){const _0x8c8975=a48_0x26e95d,_0x37dbe8=_0xaf55a5['winnerUsername']===_0x37eaef;if(!_0x37dbe8)return![];const _0x328bc3=_0xaf55a5[_0x8c8975(0x1b0)],_0x1a4c01=_0x48d1e0['get'](_0x328bc3);if(!_0x3a162||!_0x1a4c01)return![];const _0x4bf464=_0x3a162[_0x8c8975(0x196)]||0x0,_0x5a3dc8=_0x1a4c01['eloRating']||0x0,_0x2bda8c=getPlayerRankTier(_0x4bf464),_0x424382=getPlayerRankTier(_0x5a3dc8);if(_0x424382>_0x2bda8c)return console['log']('🎯\x20UNDERDOG:\x20'+getRankTierName(_0x2bda8c)+'('+_0x4bf464+')\x20beat\x20'+getRankTierName(_0x424382)+'('+_0x5a3dc8+')'),!![];return![];}async[a48_0x26e95d(0x1cb)](_0x32122a,_0x309a7b,_0x2f415d,_0x136fef){const _0x258ad6=a48_0x26e95d,_0x5426b2={},_0x427238=_0x309a7b[_0x258ad6(0x1c6)],_0xd717ee={'totalMatches':_0x32122a['length'],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0},_0x1aefe0=new Set();_0x32122a[_0x258ad6(0x18f)](_0xf8d85=>{const _0x32f4b9=_0x258ad6,_0x15210b=_0xf8d85['winnerUsername']===_0x427238,_0x3d9021=_0x15210b?_0xf8d85['loserUsername']:_0xf8d85['winnerUsername'];if(_0x3d9021)_0x1aefe0[_0x32f4b9(0x1f9)](_0x3d9021);}),console['log']('🚀\x20Bulk\x20loading\x20'+_0x1aefe0['size']+_0x258ad6(0x1e6));const _0x2f096c=await this[_0x258ad6(0x19e)]([..._0x1aefe0,_0x427238],_0x136fef),_0x3c7e91=_0x2f096c[_0x258ad6(0x1d1)](_0x427238);!_0x3c7e91&&console['log'](_0x258ad6(0x1cc)+_0x427238);_0x32122a['forEach'](_0x183487=>{const _0x2b315a=_0x258ad6,_0x376591=_0x183487['winnerUsername']===_0x427238,_0x6960d7=_0x376591?_0x183487['loserUsername']:_0x183487[_0x2b315a(0x18c)];_0x376591&&(_0xd717ee['wins']++,_0x183487['subgameType']==='Rematch'&&_0xd717ee[_0x2b315a(0x191)]++,this[_0x2b315a(0x1df)](_0x183487,_0x427238,_0x3c7e91,_0x2f096c)&&_0xd717ee['underdogWins']++),_0x183487[_0x2b315a(0x1f7)]&&_0x183487['subgameType']!=='Standard'&&_0xd717ee['subgameMatches']++,_0x183487['mapPlayed']&&_0xd717ee[_0x2b315a(0x1b2)][_0x2b315a(0x1f9)](_0x183487['mapPlayed']),_0x6960d7&&_0xd717ee[_0x2b315a(0x1b9)][_0x2b315a(0x1f9)](_0x6960d7);}),console['log']('🎯\x20Found\x20'+_0xd717ee['underdogWins']+'\x20underdog\x20victories\x20for\x20'+_0x427238);const _0x23fc88=_0xd717ee['totalMatches']>0x0?_0xd717ee[_0x258ad6(0x202)]/_0xd717ee['totalMatches']*0x64:0x0,_0x50430d=[['Overachiever\x20Ribbon',this[_0x258ad6(0x1e9)](_0xd717ee['totalMatches'],_0x2f415d)],[_0x258ad6(0x1ce),this['evaluateRematchRibbonFromCount'](_0xd717ee['rematchWins'],_0x2f415d)],[_0x258ad6(0x1a4),this['evaluateSubGamerRibbonFromCount'](_0xd717ee['subgameMatches'],_0x2f415d)],[_0x258ad6(0x1a8),this[_0x258ad6(0x1a5)](_0xd717ee[_0x258ad6(0x1b2)][_0x258ad6(0x1ad)],_0x2f415d)],['Socialite\x20Ribbon',this['evaluateSocialiteRibbonFromCount'](_0xd717ee[_0x258ad6(0x1b9)]['size'],_0x2f415d)],['Brick\x20Wall',this['evaluateBrickWallRibbonFromWinRate'](_0x23fc88,_0x2f415d,_0xd717ee[_0x258ad6(0x1fb)])],[_0x258ad6(0x1f5),this['evaluateUnderdogRibbonFromCount'](_0xd717ee['underdogWins'],_0x2f415d)]];_0x50430d['forEach'](([_0x7277b7,_0x496edb])=>{_0x496edb&&(_0x5426b2[_0x7277b7]=_0x496edb);});const _0x29ab14=Object['keys'](_0x2f415d)[_0x258ad6(0x192)]+Object['keys'](_0x5426b2)['length'],_0x4097f4=this['evaluateCollectorRibbonFromCount'](_0x29ab14,_0x2f415d);return _0x4097f4&&(_0x5426b2['Collector\x20Ribbon']=_0x4097f4),_0x5426b2;}async['getPlayerMatchesOptimized'](_0x1be115,_0x24b663){const _0x5e5749=a48_0x26e95d,_0x2b0c13=matchCache['getCachedMatches'](_0x1be115,_0x24b663);if(_0x2b0c13)return _0x2b0c13;try{const _0x33acd5=_0x24b663==='D1'?_0x5e5749(0x1f2):_0x24b663==='D2'?'approvedMatchesD2':'approvedMatchesD3',_0xc2dea7=collection(db,_0x33acd5),[_0x3fdd82,_0x486aac]=await Promise['all']([getDocs(query(_0xc2dea7,where(_0x5e5749(0x18c),'==',_0x1be115))),getDocs(query(_0xc2dea7,where('loserUsername','==',_0x1be115)))]),_0x2aa9c9=new Set(),_0x20c043=[];return _0x3fdd82[_0x5e5749(0x18f)](_0xe013e2=>{const _0x26534b=_0x5e5749;if(!_0x2aa9c9['has'](_0xe013e2['id'])){_0x2aa9c9['add'](_0xe013e2['id']);const _0x53473d={'id':_0xe013e2['id'],..._0xe013e2[_0x26534b(0x1db)]()};if(!_0x53473d['winnerRating'])_0x53473d[_0x26534b(0x1d8)]=0x0;if(!_0x53473d['loserRating'])_0x53473d['loserRating']=0x0;_0x20c043['push'](_0x53473d);}}),_0x486aac['forEach'](_0x4d5298=>{const _0x1d55fc=_0x5e5749;if(!_0x2aa9c9[_0x1d55fc(0x1e4)](_0x4d5298['id'])){_0x2aa9c9['add'](_0x4d5298['id']);const _0x1a3205={'id':_0x4d5298['id'],..._0x4d5298['data']()};if(!_0x1a3205['winnerRating'])_0x1a3205[_0x1d55fc(0x1d8)]=0x0;if(!_0x1a3205['loserRating'])_0x1a3205['loserRating']=0x0;_0x20c043['push'](_0x1a3205);}}),matchCache['setCachedMatches'](_0x1be115,_0x24b663,_0x20c043),_0x20c043;}catch(_0x223230){return console[_0x5e5749(0x190)](_0x5e5749(0x1d0),_0x223230),[];}}async[a48_0x26e95d(0x1a0)](_0x25d44f,_0x4b44d1){const _0x9859ff=a48_0x26e95d;try{const _0x294411=_0x4b44d1==='D1'?_0x9859ff(0x1ca):_0x4b44d1==='D2'?'playersD2':'playersD3',_0xa653f3=collection(db,_0x294411),_0x5a6e03=query(_0xa653f3,where('username','==',_0x25d44f),limit(0x1)),_0x300985=await getDocs(_0x5a6e03);if(_0x300985['empty'])return console['log'](_0x9859ff(0x1be)+_0x25d44f+_0x9859ff(0x1c2)+_0x294411),null;const _0x48d602=_0x300985['docs'][0x0]['data']();return _0x48d602['eloRating']!==undefined&&(_0x48d602[_0x9859ff(0x1a1)]=_0x48d602[_0x9859ff(0x196)]),console[_0x9859ff(0x183)](_0x9859ff(0x193)+_0x25d44f+':\x20ELO\x20'+_0x48d602['eloRating']+_0x9859ff(0x1aa)+_0x48d602['position']),_0x48d602;}catch(_0x5c95a3){return console['error'](_0x9859ff(0x1ac)+_0x25d44f+':',_0x5c95a3),null;}}async['getPlayerRibbonsCached'](_0xa39ec4,_0x22d72a){try{const _0x5c12f7='playerRibbons'+(_0x22d72a==='D1'?'':_0x22d72a),_0x290d3c=doc(db,_0x5c12f7,_0xa39ec4),_0x413f39=await getDoc(_0x290d3c);return _0x413f39['exists']()?_0x413f39['data']()['ribbons']||{}:{};}catch(_0x491f01){return console['error']('Error\x20getting\x20player\x20ribbons:',_0x491f01),{};}}async['savePlayerRibbonsOptimized'](_0x3a1472,_0x15c8f2,_0x238075){const _0xa78793=a48_0x26e95d;try{const _0x59c118='playerRibbons'+(_0x238075==='D1'?'':_0x238075),_0x3d4699=doc(db,_0x59c118,_0x3a1472),_0x5deef2=await this[_0xa78793(0x185)](_0x3a1472,_0x238075),_0x55aef5={..._0x5deef2,..._0x15c8f2};await setDoc(_0x3d4699,{'username':_0x3a1472,'ladder':_0x238075,'ribbons':_0x55aef5,'lastUpdated':new Date()},{'merge':!![]});}catch(_0x187f53){console['error']('Error\x20saving\x20ribbons:',_0x187f53);}}['evaluateOverachieverRibbonFromCount'](_0x1de477,_0x403926){const _0x3bf118=a48_0x26e95d,_0x428a08=_0x403926['Overachiever\x20Ribbon']||{'level':0x0},_0x13e21a=RIBBON_DEFINITIONS[_0x3bf118(0x1b4)]['levels'],_0x43052c=_0x13e21a['findIndex'](_0x3717be=>_0x1de477<_0x3717be),_0x2aa43d=_0x43052c===-0x1?_0x13e21a['length']:_0x43052c;if(_0x2aa43d>_0x428a08[_0x3bf118(0x1bf)])return{'level':_0x2aa43d,'awardedAt':new Date()};return null;}[a48_0x26e95d(0x1c0)](_0x2aeb5e,_0xe12df){const _0x50d465=a48_0x26e95d;if(_0x2aeb5e===0x0)return null;const _0x10b50d=_0xe12df[_0x50d465(0x1ce)]||{'level':0x0};if(_0x2aeb5e>_0x10b50d['level'])return{'level':_0x2aeb5e,'awardedAt':new Date()};return null;}['evaluateSubGamerRibbonFromCount'](_0x2af2c8,_0x2755cd){const _0x1ac447=_0x2755cd['Sub-Gamer\x20Ribbon']||{'level':0x0},_0x5814c4=RIBBON_DEFINITIONS['Sub-Gamer\x20Ribbon']['levels'],_0x4ac3c1=_0x5814c4['findIndex'](_0x109e93=>_0x2af2c8<_0x109e93),_0x56ed6c=_0x4ac3c1===-0x1?_0x5814c4['length']:_0x4ac3c1;if(_0x56ed6c>_0x1ac447['level'])return{'level':_0x56ed6c,'awardedAt':new Date()};return null;}['evaluateExplorerRibbonFromCount'](_0x4bb9e6,_0x259f68){const _0x1e1f96=a48_0x26e95d,_0x380806=_0x259f68['Explorer\x20Ribbon']||{'level':0x0},_0x34f8e8=RIBBON_DEFINITIONS['Explorer\x20Ribbon']['levels'],_0xb43d55=_0x34f8e8['findIndex'](_0x20e1ee=>_0x4bb9e6<_0x20e1ee),_0x2aa33c=_0xb43d55===-0x1?_0x34f8e8[_0x1e1f96(0x192)]:_0xb43d55;if(_0x2aa33c>_0x380806[_0x1e1f96(0x1bf)])return{'level':_0x2aa33c,'awardedAt':new Date()};return null;}[a48_0x26e95d(0x1bc)](_0x28d515,_0x4bfab4){const _0x5aed44=a48_0x26e95d,_0x46c02c=_0x4bfab4[_0x5aed44(0x19f)]||{'level':0x0},_0x1babc6=RIBBON_DEFINITIONS[_0x5aed44(0x19f)]['levels'],_0x5b6dca=_0x1babc6['findIndex'](_0x5a740c=>_0x28d515<_0x5a740c),_0x22f48a=_0x5b6dca===-0x1?_0x1babc6['length']:_0x5b6dca;if(_0x22f48a>_0x46c02c['level'])return{'level':_0x22f48a,'awardedAt':new Date()};return null;}['evaluateBrickWallRibbonFromWinRate'](_0x328498,_0x55051a,_0x4120d3){const _0xf48a82=a48_0x26e95d;if(_0x4120d3<0x32)return console['log']('⚠️\x20Brick\x20Wall\x20ribbon\x20requires\x2050+\x20matches\x20(player\x20has\x20'+_0x4120d3+')'),null;const _0x269e91=_0x55051a[_0xf48a82(0x182)]||{'level':0x0},_0x1fcc61=RIBBON_DEFINITIONS['Brick\x20Wall'][_0xf48a82(0x1c4)],_0x143edc=_0x1fcc61['findIndex'](_0x2d2443=>_0x328498<_0x2d2443),_0x2c2c44=_0x143edc===-0x1?_0x1fcc61[_0xf48a82(0x192)]:_0x143edc;if(_0x2c2c44>_0x269e91[_0xf48a82(0x1bf)])return console[_0xf48a82(0x183)]('🏆\x20Brick\x20Wall\x20ribbon\x20awarded:\x20'+_0x328498['toFixed'](0x1)+'%\x20win\x20rate\x20over\x20'+_0x4120d3+_0xf48a82(0x1fa)),{'level':_0x2c2c44,'awardedAt':new Date(),'winRate':_0x328498,'matchesPlayed':_0x4120d3};return null;}['evaluateCollectorRibbonFromCount'](_0x2e0ce5,_0x1de0a8){const _0x280f88=a48_0x26e95d,_0x4857ae=_0x1de0a8['Collector\x20Ribbon']||{'level':0x0},_0x1daf5d=RIBBON_DEFINITIONS[_0x280f88(0x195)]['levels'],_0x48e6d5=_0x1daf5d['findIndex'](_0x31d392=>_0x2e0ce5<_0x31d392),_0x45e888=_0x48e6d5===-0x1?_0x1daf5d[_0x280f88(0x192)]:_0x48e6d5;if(_0x45e888>_0x4857ae[_0x280f88(0x1bf)])return{'level':_0x45e888,'awardedAt':new Date()};return null;}[a48_0x26e95d(0x1a9)](_0x5c3b67,_0x1d1009){const _0x35a15a=a48_0x26e95d;if(_0x5c3b67===0x0)return null;const _0x170a22=_0x1d1009['Underdog\x20Ribbon']||{'level':0x0},_0x69a8f5=RIBBON_DEFINITIONS['Underdog\x20Ribbon']['levels'];let _0x34de22=0x0;for(let _0x2f5854=0x0;_0x2f5854<_0x69a8f5[_0x35a15a(0x192)];_0x2f5854++){if(_0x5c3b67>=_0x69a8f5[_0x2f5854])_0x34de22=_0x2f5854+0x1;else break;}if(_0x34de22>_0x170a22[_0x35a15a(0x1bf)])return console['log']('🏆\x20Underdog\x20Ribbon\x20upgrade:\x20Level\x20'+_0x170a22[_0x35a15a(0x1bf)]+_0x35a15a(0x181)+_0x34de22+'\x20('+_0x5c3b67+'\x20underdog\x20wins)'),{'level':_0x34de22,'awardedAt':new Date()};return null;}}function getPlayerRankTier(_0x1c200d){if(_0x1c200d===undefined||_0x1c200d===null)return 0x0;const _0x86e140=Number(_0x1c200d);if(isNaN(_0x86e140))return 0x0;if(_0x86e140>=0x7d0)return 0x4;if(_0x86e140>=0x708)return 0x3;if(_0x86e140>=0x640)return 0x2;if(_0x86e140>=0x578)return 0x1;return 0x0;}function getRankTierName(_0x1c7a96){const _0x53d6ab=a48_0x26e95d,_0x455ff7=[_0x53d6ab(0x206),'Bronze','Silver','Gold','Emerald'];return _0x455ff7[_0x1c7a96]||'Unranked';}const ribbonSystem=new RibbonSystem(),ribbonCache=new RibbonCacheManager(),matchCache=new MatchCacheManager();typeof window!=='undefined'&&(window[a48_0x26e95d(0x1c7)]=()=>{const _0x536de6=a48_0x26e95d;return{'ribbon':ribbonCache[_0x536de6(0x19d)](),'match':matchCache['getCacheStats']()};});export async function evaluatePlayerRibbons(_0x434a40,_0x54e88d='D1'){const _0x299317=a48_0x26e95d;return await ribbonSystem[_0x299317(0x1f4)](_0x434a40,_0x54e88d);}export function getRibbonHTML(_0x10d16b,_0x1b349d){const _0x1410f3=a48_0x26e95d,_0x4b0276=RIBBON_DEFINITIONS[_0x10d16b];if(!_0x4b0276)return'';const _0x4793e4=_0x1b349d[_0x1410f3(0x1bf)]||0x1,_0x2c1755=_0x10d16b['replace']('\x20Ribbon','')[_0x1410f3(0x198)](_0x1410f3(0x1ba),''),_0x425c3f=_0x51f692=>{const _0x49621d=_0x1410f3;if(_0x51f692<=0x1)return _0x49621d(0x1f0);if(_0x51f692<=0x2)return _0x49621d(0x1bb);if(_0x51f692<=0x3)return'level-3';if(_0x51f692<=0x4)return'level-4';return _0x49621d(0x199);},_0x102d4e=_0xf7b7e0=>{const _0x4e2a26=_0x1410f3;if(_0xf7b7e0<=0x1)return'';const _0x171437=[];if(_0xf7b7e0>=0x2&&_0xf7b7e0<=0x4){const _0x12fe85=Math['min'](_0xf7b7e0-0x1,0x3);for(let _0x5b9035=0x0;_0x5b9035<_0x12fe85;_0x5b9035++){_0x171437['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>');}}if(_0xf7b7e0>=0x5&&_0xf7b7e0<=0x7){_0x171437['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20silver-star\x22></i>');const _0xfefd08=Math[_0x4e2a26(0x1d3)](_0xf7b7e0-0x5,0x2);for(let _0x339ebc=0x0;_0x339ebc<_0xfefd08;_0x339ebc++){_0x171437['push'](_0x4e2a26(0x1e0));}}return _0xf7b7e0>=0x8&&_0x171437['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20gold-star\x22></i>'),_0x171437['length']>0x0?'<div\x20class=\x22ribbon-devices\x22>'+_0x171437['join']('')+'</div>':'';},_0x1f158b=_0x4b0276['description']+'\x20-\x20Level\x20'+_0x4793e4;return _0x1410f3(0x1fd)+_0x1f158b+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-image-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22'+_0x4b0276['image']+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22'+_0x10d16b+_0x1410f3(0x1e7)+_0x4b0276['color']+';\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2c1755['substring'](0x0,0x6)+_0x1410f3(0x1ff)+_0x102d4e(_0x4793e4)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-name\x22>'+_0x2c1755+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4793e4>0x1?'<div\x20class=\x22ribbon-level-indicator\x20'+_0x425c3f(_0x4793e4)+'\x22>'+_0x4793e4+'</div>':'')+_0x1410f3(0x1e3);}