function a51_0x1ea3(_0x28d553,_0x5aeff9){const _0xaed130=a51_0x245f();return a51_0x1ea3=function(_0x291d93,_0x1588fa){_0x291d93=_0x291d93-0x186;let _0x245f1b=_0xaed130[_0x291d93];return _0x245f1b;},a51_0x1ea3(_0x28d553,_0x5aeff9);}const a51_0x2b20d0=a51_0x1ea3,a51_0x291d93=(function(){let _0x2d703e=!![];return function(_0x477e09,_0x5a1937){const _0x35bd9f=_0x2d703e?function(){if(_0x5a1937){const _0x5385ef=_0x5a1937['apply'](_0x477e09,arguments);return _0x5a1937=null,_0x5385ef;}}:function(){};return _0x2d703e=![],_0x35bd9f;};}()),a51_0xaed130=a51_0x291d93(this,function(){const _0x254af5=a51_0x1ea3;let _0x345de2;try{const _0xe0e84f=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x345de2=_0xe0e84f();}catch(_0x2e5223){_0x345de2=window;}const _0x554cca=_0x345de2[_0x254af5(0x1f1)]=_0x345de2[_0x254af5(0x1f1)]||{},_0x30b933=['log','warn','info','error','exception','table','trace'];for(let _0x52bc4b=0x0;_0x52bc4b<_0x30b933['length'];_0x52bc4b++){const _0x516283=a51_0x291d93[_0x254af5(0x1bf)][_0x254af5(0x1a9)]['bind'](a51_0x291d93),_0x458e36=_0x30b933[_0x52bc4b],_0x39e097=_0x554cca[_0x458e36]||_0x516283;_0x516283['__proto__']=a51_0x291d93['bind'](a51_0x291d93),_0x516283['toString']=_0x39e097['toString'][_0x254af5(0x19c)](_0x39e097),_0x554cca[_0x458e36]=_0x516283;}});a51_0xaed130();import{auth,db}from'./firebase-config.js';import{doc,getDoc,setDoc,collection,query,where,getDocs,limit}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';function a51_0x245f(){const _0x3acf37=['levels','exists','timestamp','rematchWins','Error\x20getting\x20player\x20ribbons:','#CD7F32','batchTimer','username','\x0a/*\x20Stats\x20integration\x20styles\x20*/\x0a.ribbon-section\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-top:\x201rem;\x0a}\x0a\x0a.ribbon-stat-item.full-width\x20{\x0a\x20\x20\x20\x20grid-column:\x201\x20/\x20-1;\x0a\x20\x20\x20\x20margin-bottom:\x200;\x0a}\x0a\x0a/*\x20Military\x20Ribbon\x20Rack\x20Styling\x20-\x20NO\x20OUTER\x20CONTAINER\x20*/\x0a.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20padding:\x200;\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20box-shadow:\x20none;\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20align-items:\x20flex-start;\x0a}\x0a\x0a.ribbon-rack-empty-inline\x20{\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20padding:\x2060px\x2040px;\x0a\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20border-radius:\x2012px;\x0a\x20\x20\x20\x20border:\x202px\x20solid\x20rgba(255,\x20255,\x20255,\x200.1);\x0a\x20\x20\x20\x20margin-top:\x2020px;\x0a}\x0a\x0a.empty-rack-text\x20{\x0a\x20\x20\x20\x20color:\x20#888;\x0a\x20\x20\x20\x20font-style:\x20italic;\x0a\x20\x20\x20\x20font-size:\x201.2rem;\x0a}\x0a\x0a/*\x20Ribbon\x20Rows\x20*/\x0a.ribbon-row\x20{\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x206px;\x0a\x20\x20\x20\x20margin-bottom:\x206px;\x0a\x20\x20\x20\x20justify-content:\x20flex-start;\x0a}\x0a\x0a.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20margin-left:\x2060px;\x0a}\x0a\x0a/*\x20Individual\x20Military\x20Ribbon\x20Styling\x20-\x20FIXED\x20OVERFLOW\x20FOR\x20LEVEL\x20INDICATOR\x20*/\x0a.military-ribbon\x20{\x0a\x20\x20\x20\x20position:\x20relative;\x0a\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20transition:\x20transform\x200.3s\x20ease;\x0a\x20\x20\x20\x20flex-shrink:\x200;\x0a\x20\x20\x20\x20width:\x20190px;\x0a\x20\x20\x20\x20height:\x2060px;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#333;\x0a\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20overflow:\x20visible;\x20/*\x20Changed\x20from\x20hidden\x20to\x20visible\x20*/\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20margin:\x2012px\x2012px\x2012px\x200;\x20/*\x20Added\x20margin\x20to\x20prevent\x20clipping\x20*/\x0a}\x0a\x0a.military-ribbon:hover\x20{\x0a\x20\x20\x20\x20transform:\x20translateY(-4px);\x0a\x20\x20\x20\x20z-index:\x2010;\x0a}\x0a\x0a/*\x20Ribbon\x20image\x20container\x20to\x20handle\x20the\x20actual\x20overflow\x20*/\x0a.ribbon-image-container\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20border-radius:\x201px;\x0a}\x0a\x0a.ribbon-image\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20object-fit:\x20cover;\x0a\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20image-rendering:\x20crisp-edges;\x0a}\x0a\x0a.ribbon-fallback\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20text-shadow:\x200\x202px\x204px\x20rgba(0,0,0,0.8);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a}\x0a\x0a.ribbon-name\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.9);\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20line-height:\x201.2;\x0a\x20\x20\x20\x20margin-top:\x206px;\x0a\x20\x20\x20\x20max-width:\x20120px;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20text-overflow:\x20ellipsis;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20-24px;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20font-weight:\x20500;\x0a}\x0a\x0a.military-ribbon:hover\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20display:\x20block;\x0a}\x0a\x0a.ribbon-devices\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x2050%;\x0a\x20\x20\x20\x20right:\x206px;\x0a\x20\x20\x20\x20transform:\x20translateY(-50%);\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x203px;\x0a\x20\x20\x20\x20z-index:\x205;\x0a}\x0a\x0a.ribbon-device\x20{\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20text-shadow:\x200\x200\x204px\x20rgba(0,0,0,0.9);\x0a\x20\x20\x20\x20filter:\x20drop-shadow(0\x202px\x204px\x20rgba(0,0,0,0.8));\x0a}\x0a\x0a.bronze-star\x20{\x0a\x20\x20\x20\x20color:\x20#CD7F32;\x0a}\x0a\x0a.silver-star\x20{\x0a\x20\x20\x20\x20color:\x20#C0C0C0;\x0a}\x0a\x0a.gold-star\x20{\x0a\x20\x20\x20\x20color:\x20#FFD700;\x0a}\x0a\x0a/*\x20Level\x20indicator\x20-\x20NOW\x20FULLY\x20VISIBLE\x20*/\x0a.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x20-8px;\x0a\x20\x20\x20\x20right:\x20-8px;\x0a\x20\x20\x20\x20background:\x20#FFD700;\x0a\x20\x20\x20\x20color:\x20#000;\x0a\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20width:\x2024px;\x0a\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20border:\x203px\x20solid\x20#FFF;\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x208px\x20rgba(0,0,0,0.7);\x0a\x20\x20\x20\x20z-index:\x206;\x0a}\x0a\x0a/*\x20Custom\x20tooltip\x20-\x20only\x20this\x20one\x20will\x20show\x20*/\x0a.military-ribbon::before\x20{\x0a\x20\x20\x20\x20content:\x20attr(data-tooltip);\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20bottom:\x20100%;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20background:\x20rgba(0,0,0,0.95);\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20padding:\x208px\x2012px;\x0a\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20pointer-events:\x20none;\x0a\x20\x20\x20\x20transition:\x20opacity\x200.3s;\x0a\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20margin-bottom:\x208px;\x0a\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(255,\x20255,\x20255,\x200.2);\x0a}\x0a\x0a.military-ribbon:hover::before\x20{\x0a\x20\x20\x20\x20opacity:\x201;\x0a}\x0a\x0a/*\x20Responsive\x20adjustments\x20*/\x0a@media\x20(max-width:\x201024px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2034px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x208px\x208px\x208px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-6px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-6px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2052px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-20px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20768px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2028px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x206px\x206px\x206px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-device\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x209px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-5px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-5px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2042px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-name\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2011px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x20-18px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x205px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a@media\x20(max-width:\x20480px)\x20{\x0a\x20\x20\x20\x20.military-ribbon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2070px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x205px\x205px\x205px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-row:nth-child(even)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2036px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-rack-inline\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x204px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.ribbon-level-indicator\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-4px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-4px;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a.stats-grid\x20.ribbon-section\x20{\x0a\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20padding:\x200;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20{\x0a\x20\x20\x20\x20background-color:\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20padding:\x2025px;\x0a\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20text-align:\x20center;\x0a}\x0a\x0a.stats-grid\x20.ribbon-stat-item\x20.stat-label\x20{\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20text-transform:\x20uppercase;\x0a\x20\x20\x20\x20opacity:\x200.9;\x0a\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.95);\x0a\x20\x20\x20\x20font-weight:\x20bold;\x0a}\x0a\x0a.ribbon-level-indicator.level-1\x20{\x20background:\x20#808080;\x20}\x0a.ribbon-level-indicator.level-2\x20{\x20background:\x20#CD7F32;\x20}\x0a.ribbon-level-indicator.level-3\x20{\x20background:\x20#b9f1fc;\x20}\x0a.ribbon-level-indicator.level-4\x20{\x20background:\x20#FFD700;\x20}\x0a.ribbon-level-indicator.level-5-plus\x20{\x20background:\x20#50C878;\x20}\x0a','set','loserUsername','playersD3','push','setCachedMatches','#50C878','Unranked','Rematch','../images/ribbons/Underdog.png','getCachedData','getCacheStats','approvedMatchesD2','removeItem','bind','üëë\x20Dominated\x20','getPlayerMatchesOptimized','evaluateRematchRibbonFromCount','level-2','join','level','eloRating','‚ö†Ô∏è\x20Brick\x20Wall\x20ribbon\x20requires\x2050+\x20matches\x20(player\x20has\x20','uniqueOpponents','isUnderdogVictoryFast','../images/ribbons/Subgamer.png','evaluateExplorerRibbonFromCount','prototype','üéØ\x20Found\x20','Beat\x20a\x20pilot\x20ranked\x20higher\x20than\x20you','winnerUsername','lastCleanup','evaluateUnderdogRibbonFromCount','</div>','parse','log','Socialite\x20Ribbon','Amass\x20at\x20least\x2080%\x20overall\x20win\x20rate\x20percentage\x20(minimum\x2050\x20matches)','memoryCache','toLocaleTimeString','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22','\x20new/updated\x20ribbons\x20for\x20','error','getCacheKey','evaluateDominationRibbonFromRanks','\x20ranks:\x20[','üéØ\x20UNDERDOG:\x20','<div\x20class=\x22ribbon-devices\x22>','Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Emerald\x20rank','constructor',':\x20ELO\x20','getPlayerDataCached','uniqueMaps','getItem','loserRating','autoCleanup','dominatedRanks','‚ö†Ô∏è\x20Missing\x20player\x20data\x20for\x20','Sub-Gamer\x20Ribbon','matchCache','\x20player\x20records\x20for\x20underdog\x20calculations...','from','underdogWins','evaluateAllRibbonsFromData','evaluateOverachieverRibbonFromCount','bulkLoadPlayerData','winnerRating','position','data','playersD2','Domination\x20Ribbon','level-1','#8E44AD','now','\x20Pilot','min','players','‚úÖ\x20Found\x20player\x20data\x20for\x20','Error\x20checking\x20top\x20rank\x20status:','Collector\x20Ribbon','get','getPlayerRibbonsCached','\x20ELO)','level-4','Bronze','findIndex','add','keys','Emerald','map','wins','‚ö†Ô∏è\x20No\x20current\x20player\x20data\x20found\x20for\x20','<div\x20class=\x22ribbon-level-indicator\x20','key','../images/ribbons/Explorer.png','mapPlayed','toFixed','savePlayerRibbonsOptimized','forEach','console','length','empty','../images/ribbons/toprank.png','üöÄ\x20Bulk\x20loading\x20','CACHE_DURATION','clearOldCache','Explorer\x20Ribbon','approvedMatchesD3','totalMatches','CACHE_KEY_PREFIX','evaluateBrickWallRibbonFromWinRate','size','evaluateTopRankRibbon','Overachiever\x20Ribbon','üîç\x20Checking\x20underdog:\x20Winner(','\x20ELO\x20(','Brick\x20Wall','description','\x20earned\x20','evaluateSocialiteRibbonFromCount','evaluateCollectorRibbonFromCount','#FFD700','CLEANUP_INTERVAL'];a51_0x245f=function(){return _0x3acf37;};return a51_0x245f();}const RIBBON_DEFINITIONS={'Rematch\x20Ribbon':{'description':'Beat\x20a\x20pilot\x20with\x20the\x20\x22Rematch\x22\x20subgame\x20selected','image':'../images/ribbons/Rematch.png','color':'#FF6B6B'},'Overachiever\x20Ribbon':{'description':'Played\x20over\x20100\x20matches','image':'../images/ribbons/Overachiever.png','color':'#96CEB4','levels':[0x64,0xc8,0x12c,0x190,0x1f4,0x258,0x2bc,0x320,0x384,0x3e8]},'Brick\x20Wall':{'description':a51_0x2b20d0(0x1b3),'image':'../images/ribbons/BrickWall.png','color':'#F0932B','levels':[0x50,0x55,0x5a,0x5f,0x64]},'Collector\x20Ribbon':{'description':'Hold\x20more\x20than\x205\x20ribbons\x20at\x20a\x20time','image':'../images/ribbons/Collector.png','color':'#6C5CE7','levels':[0x5,0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32]},'Sub-Gamer\x20Ribbon':{'description':'Play\x20over\x2050\x20subgame\x20matches','image':a51_0x2b20d0(0x1a7),'color':'#A29BFE','levels':[0x32,0x64,0x96,0xc8,0xfa,0x12c,0x15e,0x190,0x1c2,0x1f4]},'Explorer\x20Ribbon':{'description':'Played\x20at\x20least\x2020\x20unique\x20maps','image':a51_0x2b20d0(0x1ec),'color':'#55A3FF','levels':[0x14,0x28,0x3c,0x50,0x64,0x78,0x8c,0xa0,0xb4,0xc8]},'Socialite\x20Ribbon':{'description':'Played\x20at\x20least\x2010\x20unique\x20pilots','image':'../images/ribbons/Socialite.png','color':'#FF7675','levels':[0xa,0xf,0x14,0x19,0x1e,0x23,0x28,0x2d,0x32,0x37]},'Underdog\x20Ribbon':{'description':a51_0x2b20d0(0x1ab),'image':a51_0x2b20d0(0x197),'color':'#FF9500','levels':[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0x9,0xa]},'Domination\x20Ribbon':{'description':'Beat\x205\x20unique\x20pilots\x20in\x20a\x20rank\x20(including\x20your\x20own)','image':'../images/ribbons/Domination.png','color':a51_0x2b20d0(0x1d6),'levels':[0x1,0x2,0x3,0x4,0x5]},'Top\x20Bronze\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Bronze\x20rank','image':'../images/ribbons/toprank.png','color':a51_0x2b20d0(0x18b)},'Top\x20Silver\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Silver\x20rank','image':a51_0x2b20d0(0x1f4),'color':'#C0C0C0'},'Top\x20Gold\x20Pilot':{'description':'Claimed\x20the\x20highest\x20spot\x20on\x20the\x20ladder\x20for\x20Gold\x20rank','image':'../images/ribbons/toprank.png','color':a51_0x2b20d0(0x207)},'Top\x20Emerald\x20Pilot':{'description':a51_0x2b20d0(0x1be),'image':'../images/ribbons/toprank.png','color':a51_0x2b20d0(0x194)}};export const RIBBON_CSS=a51_0x2b20d0(0x18e);class RibbonCacheManager{constructor(){const _0x17f91d=a51_0x2b20d0;this['memoryCache']=new Map(),this[_0x17f91d(0x1f6)]=0x3c*0x3c*0x3e8,this['CACHE_KEY_PREFIX']='ribbon_cache_',this['lastCleanup']=Date['now'](),this[_0x17f91d(0x208)]=0x1e*0x3c*0x3e8;}['getCacheKey'](_0x9b0ffe,_0x164249){return''+this['CACHE_KEY_PREFIX']+_0x9b0ffe+'_'+_0x164249;}['getCachedData'](_0x3b8815,_0x532491){const _0x3a1a16=a51_0x2b20d0;this['autoCleanup']();const _0x5c2d93=this['getCacheKey'](_0x3b8815,_0x532491);if(this['memoryCache']['has'](_0x5c2d93)){const _0x136ae5=this['memoryCache']['get'](_0x5c2d93);if(Date['now']()-_0x136ae5[_0x3a1a16(0x188)]<this['CACHE_DURATION'])return console['log']('üöÄ\x20Cache\x20hit\x20(memory)\x20for\x20'+_0x3b8815),_0x136ae5[_0x3a1a16(0x1d2)];this['memoryCache']['delete'](_0x5c2d93);}const _0xe4e104=localStorage[_0x3a1a16(0x1c3)](_0x5c2d93);if(_0xe4e104)try{const _0x26b912=JSON[_0x3a1a16(0x1b0)](_0xe4e104);if(Date['now']()-_0x26b912[_0x3a1a16(0x188)]<this['CACHE_DURATION'])return this['memoryCache']['set'](_0x5c2d93,{'data':_0x26b912['ribbons'],'timestamp':_0x26b912['timestamp'],'matchCount':_0x26b912['matchCount']}),console['log']('üíæ\x20Cache\x20hit\x20(localStorage)\x20for\x20'+_0x3b8815),_0x26b912['ribbons'];localStorage['removeItem'](_0x5c2d93);}catch(_0x4f8407){localStorage['removeItem'](_0x5c2d93);}return null;}['setCachedData'](_0x565277,_0x3a9e44,_0x2400e1,_0x4c884f){const _0x1e5721=a51_0x2b20d0,_0x173e0c=this[_0x1e5721(0x1b9)](_0x565277,_0x3a9e44),_0x4b86ac=Date['now']();this[_0x1e5721(0x1b4)][_0x1e5721(0x18f)](_0x173e0c,{'data':_0x2400e1,'timestamp':_0x4b86ac,'matchCount':_0x4c884f});try{const _0x20bc8c={'ribbons':_0x2400e1,'matchCount':_0x4c884f,'timestamp':_0x4b86ac,'version':0x3};localStorage['setItem'](_0x173e0c,JSON['stringify'](_0x20bc8c));}catch(_0x4cee5c){this['clearOldCache']();try{localStorage['setItem'](_0x173e0c,JSON['stringify'](data));}catch(_0x4234b8){}}}['shouldRefreshCache'](_0x5beed7,_0x1c30d1,_0x594a54){const _0x45ff2e=a51_0x2b20d0,_0x5c9edb=this[_0x45ff2e(0x1b9)](_0x5beed7,_0x1c30d1);if(this['memoryCache']['has'](_0x5c9edb)){const _0x21f8ec=this['memoryCache'][_0x45ff2e(0x1de)](_0x5c9edb);return _0x21f8ec['matchCount']!==_0x594a54;}const _0xc2584b=localStorage['getItem'](_0x5c9edb);if(_0xc2584b)try{const _0x38de7d=JSON['parse'](_0xc2584b);return _0x38de7d['matchCount']!==_0x594a54;}catch(_0x2998ab){return!![];}return!![];}['invalidatePlayerCache'](_0x55c5a9,_0x2df361){const _0xe776a9=this['getCacheKey'](_0x55c5a9,_0x2df361);this['memoryCache']['delete'](_0xe776a9),localStorage['removeItem'](_0xe776a9),console['log']('üóëÔ∏è\x20Invalidated\x20cache\x20for\x20'+_0x55c5a9+'\x20('+_0x2df361+')\x20-\x20new\x20match\x20detected');}[a51_0x2b20d0(0x1c5)](){const _0x4301b3=a51_0x2b20d0,_0x6093=Date[_0x4301b3(0x1d7)]();_0x6093-this[_0x4301b3(0x1ad)]>this['CLEANUP_INTERVAL']&&(this['cleanup'](),this['lastCleanup']=_0x6093);}['cleanup'](){const _0x553ca0=a51_0x2b20d0,_0x1ca385=Date[_0x553ca0(0x1d7)]();let _0x14e34e=0x0,_0x1af214=0x0;for(const [_0x3ef204,_0x882e4a]of this[_0x553ca0(0x1b4)]['entries']()){_0x1ca385-_0x882e4a[_0x553ca0(0x188)]>this[_0x553ca0(0x1f6)]&&(this[_0x553ca0(0x1b4)]['delete'](_0x3ef204),_0x14e34e++);}for(let _0x19fd33=localStorage[_0x553ca0(0x1f2)]-0x1;_0x19fd33>=0x0;_0x19fd33--){const _0x321537=localStorage['key'](_0x19fd33);if(_0x321537&&_0x321537['startsWith'](this[_0x553ca0(0x1fb)]))try{const _0x3dbbc6=JSON[_0x553ca0(0x1b0)](localStorage['getItem'](_0x321537));_0x1ca385-_0x3dbbc6['timestamp']>this[_0x553ca0(0x1f6)]&&(localStorage['removeItem'](_0x321537),_0x1af214++);}catch(_0x5b812c){localStorage[_0x553ca0(0x19b)](_0x321537),_0x1af214++;}}}[a51_0x2b20d0(0x1f7)](){const _0x1a37ee=a51_0x2b20d0,_0x4e971b=[];for(let _0x9c5e9d=0x0;_0x9c5e9d<localStorage['length'];_0x9c5e9d++){const _0x694139=localStorage['key'](_0x9c5e9d);if(_0x694139&&_0x694139['startsWith'](this[_0x1a37ee(0x1fb)]))try{const _0x4d4d89=JSON[_0x1a37ee(0x1b0)](localStorage['getItem'](_0x694139));_0x4e971b['push']({'key':_0x694139,'timestamp':_0x4d4d89[_0x1a37ee(0x188)]});}catch(_0x4275ec){localStorage['removeItem'](_0x694139);}}_0x4e971b['sort']((_0x20e09b,_0x52fddb)=>_0x20e09b['timestamp']-_0x52fddb[_0x1a37ee(0x188)]);const _0x3b2c6d=Math['floor'](_0x4e971b['length']/0x2);for(let _0x45c7e6=0x0;_0x45c7e6<_0x3b2c6d;_0x45c7e6++){localStorage['removeItem'](_0x4e971b[_0x45c7e6][_0x1a37ee(0x1eb)]);}}['getCacheStats'](){const _0x2763d7=a51_0x2b20d0;return{'memoryEntries':this['memoryCache']['size'],'lastCleanup':new Date(this['lastCleanup'])[_0x2763d7(0x1b5)]()};}}class MatchCacheManager{constructor(){const _0x53b32b=a51_0x2b20d0;this[_0x53b32b(0x1c9)]=new Map(),this['CACHE_DURATION']=0xf*0x3c*0x3e8,this['lastCleanup']=Date[_0x53b32b(0x1d7)]();}['getCachedMatches'](_0x5e33ec,_0x10fe86){const _0xc79803=a51_0x2b20d0;this['autoCleanup']();const _0x5c498b=_0x5e33ec+'_'+_0x10fe86,_0x49fb36=this['matchCache']['get'](_0x5c498b);if(_0x49fb36&&Date[_0xc79803(0x1d7)]()-_0x49fb36['timestamp']<this[_0xc79803(0x1f6)])return console['log']('üéØ\x20Cache\x20hit\x20(matches)\x20for\x20'+_0x5e33ec),_0x49fb36['matches'];return _0x49fb36&&this['matchCache']['delete'](_0x5c498b),null;}[a51_0x2b20d0(0x193)](_0x4849fb,_0x55532a,_0x18bfb0){const _0x3ac7e6=a51_0x2b20d0,_0x1d9e0f=_0x4849fb+'_'+_0x55532a;this['matchCache']['set'](_0x1d9e0f,{'matches':_0x18bfb0,'timestamp':Date[_0x3ac7e6(0x1d7)]()});}['autoCleanup'](){const _0x550faa=a51_0x2b20d0,_0x119883=Date['now']();if(_0x119883-this['lastCleanup']>0x5*0x3c*0x3e8){let _0x10bdf1=0x0;for(const [_0x3d1ff8,_0x12ee3d]of this['matchCache']['entries']()){_0x119883-_0x12ee3d['timestamp']>this['CACHE_DURATION']&&(this[_0x550faa(0x1c9)]['delete'](_0x3d1ff8),_0x10bdf1++);}this[_0x550faa(0x1ad)]=_0x119883;}}[a51_0x2b20d0(0x199)](){const _0xdb1f69=a51_0x2b20d0;return{'entries':this[_0xdb1f69(0x1c9)]['size'],'lastCleanup':new Date(this['lastCleanup'])['toLocaleTimeString']()};}}class RibbonSystem{constructor(){const _0xa11a06=a51_0x2b20d0;this['pendingEvaluations']=new Map(),this[_0xa11a06(0x18c)]=null,this['BATCH_DELAY']=0x32,this['playerDataCache']=new Map();}async['bulkLoadPlayerData'](_0x1f98f7,_0x57196e){const _0x3b43f3=a51_0x2b20d0,_0x55259f=_0x57196e==='D1'?'players':_0x57196e==='D2'?'playersD2':'playersD3',_0x2cbc56=collection(db,_0x55259f),_0x372c28=await getDocs(_0x2cbc56),_0x387d20=new Map();return _0x372c28['forEach'](_0x18789f=>{const _0x5f5a5a=a51_0x1ea3,_0x7b047a=_0x18789f['data']();_0x7b047a['username']&&(_0x7b047a['eloRating']!==undefined&&(_0x7b047a['rating']=_0x7b047a['eloRating']),_0x387d20['set'](_0x7b047a[_0x5f5a5a(0x18d)],_0x7b047a));}),console[_0x3b43f3(0x1b1)]('üìä\x20Bulk\x20loaded\x20'+_0x387d20['size']+'\x20players\x20from\x20'+_0x55259f),_0x387d20;}async[a51_0x2b20d0(0x1cd)](_0x3f355c,_0x19fb49,_0x1ec1ca,_0x4d4150){const _0x5e3d41=a51_0x2b20d0,_0x565f89={},_0x325d11=_0x19fb49['username'],_0x2e1000={'totalMatches':_0x3f355c['length'],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0,'dominatedRanks':new Set()},_0x40a110=new Set();_0x3f355c['forEach'](_0x59023a=>{const _0x14fa43=_0x59023a['winnerUsername']===_0x325d11,_0x4d2d33=_0x14fa43?_0x59023a['loserUsername']:_0x59023a['winnerUsername'];if(_0x4d2d33)_0x40a110['add'](_0x4d2d33);}),console['log'](_0x5e3d41(0x1f5)+_0x40a110[_0x5e3d41(0x1fd)]+_0x5e3d41(0x1ca));const _0x4c2d30=await this[_0x5e3d41(0x1cf)]([..._0x40a110,_0x325d11],_0x4d4150),_0x58c322=_0x4c2d30[_0x5e3d41(0x1de)](_0x325d11);!_0x58c322&&console['log'](_0x5e3d41(0x1e9)+_0x325d11);const _0x5b77a7={0x0:new Set(),0x1:new Set(),0x2:new Set(),0x3:new Set(),0x4:new Set()};_0x3f355c[_0x5e3d41(0x1f0)](_0x584189=>{const _0x306de3=_0x5e3d41,_0x455b32=_0x584189[_0x306de3(0x1ac)]===_0x325d11,_0x3c0167=_0x455b32?_0x584189['loserUsername']:_0x584189[_0x306de3(0x1ac)];if(_0x455b32){_0x2e1000[_0x306de3(0x1e8)]++;_0x584189['subgameType']===_0x306de3(0x196)&&_0x2e1000[_0x306de3(0x189)]++;this['isUnderdogVictoryFast'](_0x584189,_0x325d11,_0x58c322,_0x4c2d30)&&_0x2e1000['underdogWins']++;const _0x5e534e=_0x4c2d30[_0x306de3(0x1de)](_0x3c0167);if(_0x5e534e){const _0x344b24=_0x5e534e['eloRating']||0x0,_0x37bd86=getPlayerRankTier(_0x344b24);_0x5b77a7[_0x37bd86]['add'](_0x3c0167);}}_0x584189['subgameType']&&_0x584189['subgameType']!=='Standard'&&_0x2e1000['subgameMatches']++,_0x584189[_0x306de3(0x1ed)]&&_0x2e1000[_0x306de3(0x1c2)]['add'](_0x584189[_0x306de3(0x1ed)]),_0x3c0167&&_0x2e1000[_0x306de3(0x1a5)][_0x306de3(0x1e4)](_0x3c0167);}),Object[_0x5e3d41(0x1e5)](_0x5b77a7)['forEach'](_0x453fbf=>{_0x5b77a7[_0x453fbf]['size']>=0x5&&_0x2e1000['dominatedRanks']['add'](parseInt(_0x453fbf));}),console['log']('üéØ\x20Found\x20'+_0x2e1000['underdogWins']+'\x20underdog\x20victories\x20for\x20'+_0x325d11),console['log'](_0x5e3d41(0x19d)+_0x2e1000[_0x5e3d41(0x1c6)]['size']+_0x5e3d41(0x1bb)+Array[_0x5e3d41(0x1cb)](_0x2e1000['dominatedRanks'])[_0x5e3d41(0x1e7)](_0x23c9cd=>getRankTierName(_0x23c9cd))[_0x5e3d41(0x1a1)](',\x20')+']');const _0x113b3f=_0x2e1000['totalMatches']>0x0?_0x2e1000['wins']/_0x2e1000[_0x5e3d41(0x1fa)]*0x64:0x0,_0x947829=[['Overachiever\x20Ribbon',this[_0x5e3d41(0x1ce)](_0x2e1000[_0x5e3d41(0x1fa)],_0x1ec1ca)],['Rematch\x20Ribbon',this['evaluateRematchRibbonFromCount'](_0x2e1000[_0x5e3d41(0x189)],_0x1ec1ca)],['Sub-Gamer\x20Ribbon',this['evaluateSubGamerRibbonFromCount'](_0x2e1000['subgameMatches'],_0x1ec1ca)],[_0x5e3d41(0x1f8),this[_0x5e3d41(0x1a8)](_0x2e1000[_0x5e3d41(0x1c2)]['size'],_0x1ec1ca)],['Socialite\x20Ribbon',this[_0x5e3d41(0x205)](_0x2e1000['uniqueOpponents']['size'],_0x1ec1ca)],['Brick\x20Wall',this[_0x5e3d41(0x1fc)](_0x113b3f,_0x1ec1ca,_0x2e1000[_0x5e3d41(0x1fa)])],['Underdog\x20Ribbon',this['evaluateUnderdogRibbonFromCount'](_0x2e1000[_0x5e3d41(0x1cc)],_0x1ec1ca)],['Domination\x20Ribbon',this['evaluateDominationRibbonFromRanks'](_0x2e1000['dominatedRanks'][_0x5e3d41(0x1fd)],_0x1ec1ca)]];_0x947829['forEach'](([_0x4fd856,_0x85c474])=>{_0x85c474&&(_0x565f89[_0x4fd856]=_0x85c474);});const _0x11d8c6=Object['keys'](_0x1ec1ca)['length']+Object['keys'](_0x565f89)['length'],_0xb821de=this[_0x5e3d41(0x206)](_0x11d8c6,_0x1ec1ca);return _0xb821de&&(_0x565f89[_0x5e3d41(0x1dd)]=_0xb821de),_0x565f89;}[a51_0x2b20d0(0x1ba)](_0x209f0d,_0xb06d3b){const _0x30ae30=a51_0x2b20d0;if(_0x209f0d===0x0)return null;const _0x5ed9f3=_0xb06d3b[_0x30ae30(0x1d4)]||{'level':0x0};if(_0x209f0d>_0x5ed9f3[_0x30ae30(0x1a2)]){const _0x5435f1=[];for(let _0x45e27f=0x0;_0x45e27f<_0x209f0d;_0x45e27f++){_0x5435f1['push'](getRankTierName(_0x45e27f));}return console['log']('üëë\x20Domination\x20Ribbon\x20awarded:\x20Level\x20'+_0x5ed9f3[_0x30ae30(0x1a2)]+'\x20‚Üí\x20'+_0x209f0d+'\x20(Dominated:\x20'+_0x5435f1['join'](',\x20')+')'),{'level':_0x209f0d,'awardedAt':new Date(),'dominatedRanks':_0x5435f1};}return null;}async['checkTopRankStatus'](_0x1b277d,_0x33abf3){const _0x20e2db=a51_0x2b20d0;try{const _0x47ff8a=_0x33abf3==='D1'?_0x20e2db(0x1da):_0x33abf3==='D2'?_0x20e2db(0x1d3):'playersD3',_0x469dcb=await this['getPlayerDataCached'](_0x1b277d,_0x33abf3);if(!_0x469dcb||_0x469dcb['eloRating']===undefined)return console['log']('‚ùå\x20No\x20ELO\x20rating\x20data\x20for\x20'+_0x1b277d),null;const _0x18bace=_0x469dcb[_0x20e2db(0x1a3)],_0x928ba6=getPlayerRankTier(_0x18bace),_0x2a3a3d=getRankTierName(_0x928ba6);if(_0x2a3a3d==='Unranked')return console[_0x20e2db(0x1b1)]('‚ùå\x20'+_0x1b277d+'\x20is\x20Unranked\x20('+_0x18bace+_0x20e2db(0x1e0)),null;console[_0x20e2db(0x1b1)]('üîç\x20Checking\x20Top\x20'+_0x2a3a3d+'\x20status\x20for\x20'+_0x1b277d+'\x20('+_0x18bace+_0x20e2db(0x1e0));const _0x5c625e=collection(db,_0x47ff8a),_0xfcb6bf=await getDocs(_0x5c625e);let _0x45f1fd=null,_0x3c6d10=-0x1,_0x20daee=0x0;_0xfcb6bf['forEach'](_0x1b1e1c=>{const _0x2c15e2=_0x20e2db,_0x5c9147=_0x1b1e1c[_0x2c15e2(0x1d2)](),_0x18148d=_0x5c9147[_0x2c15e2(0x1a3)]||0x0,_0x25eeb6=getPlayerRankTier(_0x18148d);_0x25eeb6===_0x928ba6&&(_0x20daee++,_0x18148d>_0x3c6d10&&(_0x3c6d10=_0x18148d,_0x45f1fd=_0x5c9147['username']));});const _0x9bd404=_0x45f1fd===_0x1b277d;return console['log']('üìä\x20'+_0x2a3a3d+'\x20Tier:\x20'+_0x20daee+'\x20players,\x20Top:\x20'+_0x45f1fd+'\x20('+_0x3c6d10+'\x20ELO),\x20'+_0x1b277d+'\x20is\x20#1:\x20'+_0x9bd404),_0x9bd404?_0x2a3a3d:null;}catch(_0x8e2f62){return console[_0x20e2db(0x1b8)](_0x20e2db(0x1dc),_0x8e2f62),null;}}async['evaluateTopRankRibbon'](_0x2361d4,_0x5d99ce,_0x536d01){const _0x47e724=a51_0x2b20d0,_0x5370d0=await this['checkTopRankStatus'](_0x2361d4,_0x5d99ce),_0x1f0aa0={};if(_0x5370d0){const _0x207c14='Top\x20'+_0x5370d0+_0x47e724(0x1d8);if(RIBBON_DEFINITIONS[_0x207c14]){const _0xcfdd4b=_0x536d01[_0x207c14];!_0xcfdd4b?(console['log']('üëë\x20NEW\x20Top\x20Rank\x20Achievement:\x20'+_0x2361d4+_0x47e724(0x204)+_0x207c14+'!'),_0x1f0aa0[_0x207c14]={'level':0x1,'awardedAt':new Date(),'rank':_0x5370d0,'achievedAt':new Date()}):console[_0x47e724(0x1b1)]('‚úÖ\x20'+_0x2361d4+'\x20already\x20has\x20'+_0x207c14+'\x20-\x20No\x20changes\x20needed');}}return Object['keys'](_0x536d01)[_0x47e724(0x1f0)](_0x313595=>{const _0x35ade5=_0x47e724;_0x313595['startsWith']('Top\x20')&&_0x313595['endsWith'](_0x35ade5(0x1d8))&&(!_0x1f0aa0[_0x313595]&&console['log']('‚úÖ\x20Preserving\x20existing\x20'+_0x313595));}),_0x1f0aa0;}async['evaluateAllRibbonsForPlayerOptimized'](_0xb06403,_0x107cf0='D1'){const _0x2f1c8c=a51_0x2b20d0;try{const _0x5f394a=ribbonCache[_0x2f1c8c(0x198)](_0xb06403,_0x107cf0);if(_0x5f394a){const _0x149009=await this['evaluateTopRankRibbon'](_0xb06403,_0x107cf0,_0x5f394a);if(Object['keys'](_0x149009)['length']>0x0){console[_0x2f1c8c(0x1b1)]('üÜï\x20New\x20top\x20rank\x20achievements\x20found\x20for\x20cached\x20player\x20'+_0xb06403),await this[_0x2f1c8c(0x1ef)](_0xb06403,_0x149009,_0x107cf0);const _0x60437b={..._0x5f394a,..._0x149009};return ribbonCache['setCachedData'](_0xb06403,_0x107cf0,_0x60437b,0x0),_0x60437b;}return _0x5f394a;}const [_0x17b4b9,_0x243ad3]=await Promise['all']([this[_0x2f1c8c(0x1c1)](_0xb06403,_0x107cf0),this['getPlayerRibbonsCached'](_0xb06403,_0x107cf0)]);if(!_0x17b4b9)return{};const _0x325cb7=_0x17b4b9['matchesPlayed']||0x0,_0x317362=await this[_0x2f1c8c(0x1fe)](_0xb06403,_0x107cf0,_0x243ad3);if(!ribbonCache['shouldRefreshCache'](_0xb06403,_0x107cf0,_0x325cb7)){if(Object[_0x2f1c8c(0x1e5)](_0x317362)['length']>0x0){await this['savePlayerRibbonsOptimized'](_0xb06403,_0x317362,_0x107cf0);const _0x4ffbca={..._0x243ad3,..._0x317362};return ribbonCache['setCachedData'](_0xb06403,_0x107cf0,_0x4ffbca,_0x325cb7),_0x4ffbca;}return ribbonCache['setCachedData'](_0xb06403,_0x107cf0,_0x243ad3,_0x325cb7),_0x243ad3;}const _0x51f92d=await this[_0x2f1c8c(0x19e)](_0xb06403,_0x107cf0),_0x19f600=await this['evaluateAllRibbonsFromData'](_0x51f92d,_0x17b4b9,_0x243ad3,_0x107cf0);Object['assign'](_0x19f600,_0x317362);Object[_0x2f1c8c(0x1e5)](_0x19f600)[_0x2f1c8c(0x1f2)]>0x0&&(console['log']('üíæ\x20Saving\x20'+Object[_0x2f1c8c(0x1e5)](_0x19f600)['length']+_0x2f1c8c(0x1b7)+_0xb06403),await this[_0x2f1c8c(0x1ef)](_0xb06403,_0x19f600,_0x107cf0));const _0x2361e3={..._0x243ad3,..._0x19f600};return ribbonCache['setCachedData'](_0xb06403,_0x107cf0,_0x2361e3,_0x51f92d['length']),_0x2361e3;}catch(_0x55f3b9){return console[_0x2f1c8c(0x1b8)]('‚ùå\x20Error\x20in\x20ribbon\x20evaluation:',_0x55f3b9),{};}}async['isUnderdogVictory'](_0x661a1f,_0x5aa328,_0x4b67ba){const _0x34f40e=a51_0x2b20d0,_0x487147=_0x661a1f['winnerUsername']===_0x5aa328;if(!_0x487147)return![];const _0x219d46=_0x661a1f[_0x34f40e(0x190)],[_0x9313a6,_0x223b4f]=await Promise['all']([this['getPlayerDataCached'](_0x5aa328,_0x4b67ba),this[_0x34f40e(0x1c1)](_0x219d46,_0x4b67ba)]);if(!_0x9313a6||!_0x223b4f)return console['log'](_0x34f40e(0x1c7)+_0x5aa328+'\x20or\x20'+_0x219d46),![];const _0x414329=_0x9313a6['eloRating']||0x0,_0x45ac2f=_0x223b4f['eloRating']||0x0,_0x58100a=getPlayerRankTier(_0x414329),_0x475304=getPlayerRankTier(_0x45ac2f);console['log'](_0x34f40e(0x200)+_0x5aa328+'):\x20'+_0x414329+_0x34f40e(0x201)+getRankTierName(_0x58100a)+')\x20vs\x20Loser('+_0x219d46+'):\x20'+_0x45ac2f+'\x20ELO\x20('+getRankTierName(_0x475304)+')');if(_0x475304>_0x58100a)return console['log']('üéØ\x20UNDERDOG\x20VICTORY:\x20'+getRankTierName(_0x58100a)+'\x20beat\x20'+getRankTierName(_0x475304)+'!'),!![];return console['log']('‚ùå\x20Not\x20underdog:\x20'+getRankTierName(_0x58100a)+'\x20vs\x20'+getRankTierName(_0x475304)),![];}[a51_0x2b20d0(0x1a6)](_0x504cf8,_0x395c2d,_0x1622c6,_0x14d795){const _0x5478c6=a51_0x2b20d0,_0x4b5bbd=_0x504cf8[_0x5478c6(0x1ac)]===_0x395c2d;if(!_0x4b5bbd)return![];const _0x50b8f1=_0x504cf8['loserUsername'],_0xed4284=_0x14d795['get'](_0x50b8f1);if(!_0x1622c6||!_0xed4284)return![];const _0x36222b=_0x1622c6[_0x5478c6(0x1a3)]||0x0,_0x1c24e6=_0xed4284['eloRating']||0x0,_0x33956e=getPlayerRankTier(_0x36222b),_0x42816a=getPlayerRankTier(_0x1c24e6);if(_0x42816a>_0x33956e)return console['log'](_0x5478c6(0x1bc)+getRankTierName(_0x33956e)+'('+_0x36222b+')\x20beat\x20'+getRankTierName(_0x42816a)+'('+_0x1c24e6+')'),!![];return![];}async['evaluateAllRibbonsFromData'](_0x1f76e0,_0x3a6e02,_0x1dc5d3,_0x574538){const _0x5659f5=a51_0x2b20d0,_0x3e8e32={},_0x32419c=_0x3a6e02['username'],_0x1531c0={'totalMatches':_0x1f76e0['length'],'wins':0x0,'rematchWins':0x0,'subgameMatches':0x0,'uniqueMaps':new Set(),'uniqueOpponents':new Set(),'underdogWins':0x0},_0x564d38=new Set();_0x1f76e0['forEach'](_0x425c4e=>{const _0x14f01f=_0x425c4e['winnerUsername']===_0x32419c,_0x58b981=_0x14f01f?_0x425c4e['loserUsername']:_0x425c4e['winnerUsername'];if(_0x58b981)_0x564d38['add'](_0x58b981);}),console['log']('üöÄ\x20Bulk\x20loading\x20'+_0x564d38['size']+'\x20player\x20records\x20for\x20underdog\x20calculations...');const _0x11fbd6=await this['bulkLoadPlayerData']([..._0x564d38,_0x32419c],_0x574538),_0x39561a=_0x11fbd6['get'](_0x32419c);!_0x39561a&&console['log'](_0x5659f5(0x1e9)+_0x32419c);_0x1f76e0['forEach'](_0x4b49c7=>{const _0x4e605d=_0x5659f5,_0x294b0f=_0x4b49c7[_0x4e605d(0x1ac)]===_0x32419c,_0x45ecf9=_0x294b0f?_0x4b49c7[_0x4e605d(0x190)]:_0x4b49c7[_0x4e605d(0x1ac)];_0x294b0f&&(_0x1531c0['wins']++,_0x4b49c7['subgameType']==='Rematch'&&_0x1531c0['rematchWins']++,this['isUnderdogVictoryFast'](_0x4b49c7,_0x32419c,_0x39561a,_0x11fbd6)&&_0x1531c0[_0x4e605d(0x1cc)]++),_0x4b49c7['subgameType']&&_0x4b49c7['subgameType']!=='Standard'&&_0x1531c0['subgameMatches']++,_0x4b49c7['mapPlayed']&&_0x1531c0['uniqueMaps']['add'](_0x4b49c7['mapPlayed']),_0x45ecf9&&_0x1531c0['uniqueOpponents'][_0x4e605d(0x1e4)](_0x45ecf9);}),console[_0x5659f5(0x1b1)](_0x5659f5(0x1aa)+_0x1531c0[_0x5659f5(0x1cc)]+'\x20underdog\x20victories\x20for\x20'+_0x32419c);const _0x35ba89=_0x1531c0['totalMatches']>0x0?_0x1531c0[_0x5659f5(0x1e8)]/_0x1531c0['totalMatches']*0x64:0x0,_0x5ee146=[['Overachiever\x20Ribbon',this[_0x5659f5(0x1ce)](_0x1531c0['totalMatches'],_0x1dc5d3)],['Rematch\x20Ribbon',this['evaluateRematchRibbonFromCount'](_0x1531c0[_0x5659f5(0x189)],_0x1dc5d3)],[_0x5659f5(0x1c8),this['evaluateSubGamerRibbonFromCount'](_0x1531c0['subgameMatches'],_0x1dc5d3)],['Explorer\x20Ribbon',this[_0x5659f5(0x1a8)](_0x1531c0['uniqueMaps']['size'],_0x1dc5d3)],['Socialite\x20Ribbon',this['evaluateSocialiteRibbonFromCount'](_0x1531c0['uniqueOpponents']['size'],_0x1dc5d3)],[_0x5659f5(0x202),this['evaluateBrickWallRibbonFromWinRate'](_0x35ba89,_0x1dc5d3,_0x1531c0['totalMatches'])],['Underdog\x20Ribbon',this[_0x5659f5(0x1ae)](_0x1531c0['underdogWins'],_0x1dc5d3)]];_0x5ee146[_0x5659f5(0x1f0)](([_0x2cc034,_0x577ad1])=>{_0x577ad1&&(_0x3e8e32[_0x2cc034]=_0x577ad1);});const _0x79ec36=Object['keys'](_0x1dc5d3)['length']+Object['keys'](_0x3e8e32)[_0x5659f5(0x1f2)],_0x2db5cb=this[_0x5659f5(0x206)](_0x79ec36,_0x1dc5d3);return _0x2db5cb&&(_0x3e8e32[_0x5659f5(0x1dd)]=_0x2db5cb),_0x3e8e32;}async[a51_0x2b20d0(0x19e)](_0x3db781,_0x251867){const _0x32d517=a51_0x2b20d0,_0x40fb2c=matchCache['getCachedMatches'](_0x3db781,_0x251867);if(_0x40fb2c)return _0x40fb2c;try{const _0x1198dd=_0x251867==='D1'?'approvedMatches':_0x251867==='D2'?_0x32d517(0x19a):_0x32d517(0x1f9),_0x15338a=collection(db,_0x1198dd),[_0x153b1e,_0x399dd5]=await Promise['all']([getDocs(query(_0x15338a,where('winnerUsername','==',_0x3db781))),getDocs(query(_0x15338a,where('loserUsername','==',_0x3db781)))]),_0x27df74=new Set(),_0x253bff=[];return _0x153b1e['forEach'](_0x1d2784=>{const _0x2430e9=_0x32d517;if(!_0x27df74['has'](_0x1d2784['id'])){_0x27df74[_0x2430e9(0x1e4)](_0x1d2784['id']);const _0x495464={'id':_0x1d2784['id'],..._0x1d2784['data']()};if(!_0x495464[_0x2430e9(0x1d0)])_0x495464['winnerRating']=0x0;if(!_0x495464[_0x2430e9(0x1c4)])_0x495464['loserRating']=0x0;_0x253bff['push'](_0x495464);}}),_0x399dd5['forEach'](_0x179823=>{const _0x22dc5e=_0x32d517;if(!_0x27df74['has'](_0x179823['id'])){_0x27df74[_0x22dc5e(0x1e4)](_0x179823['id']);const _0x304c8d={'id':_0x179823['id'],..._0x179823['data']()};if(!_0x304c8d['winnerRating'])_0x304c8d['winnerRating']=0x0;if(!_0x304c8d['loserRating'])_0x304c8d['loserRating']=0x0;_0x253bff[_0x22dc5e(0x192)](_0x304c8d);}}),matchCache['setCachedMatches'](_0x3db781,_0x251867,_0x253bff),_0x253bff;}catch(_0x1ae4b2){return console[_0x32d517(0x1b8)]('‚ùå\x20Error\x20fetching\x20matches:',_0x1ae4b2),[];}}async['getPlayerDataCached'](_0x559c78,_0x875385){const _0x4243f8=a51_0x2b20d0;try{const _0x54cad6=_0x875385==='D1'?'players':_0x875385==='D2'?'playersD2':_0x4243f8(0x191),_0x528236=collection(db,_0x54cad6),_0x22c6ac=query(_0x528236,where('username','==',_0x559c78),limit(0x1)),_0x22913c=await getDocs(_0x22c6ac);if(_0x22913c[_0x4243f8(0x1f3)])return console[_0x4243f8(0x1b1)]('‚ùå\x20No\x20player\x20data\x20found\x20for\x20'+_0x559c78+'\x20in\x20'+_0x54cad6),null;const _0x48102f=_0x22913c['docs'][0x0][_0x4243f8(0x1d2)]();return _0x48102f['eloRating']!==undefined&&(_0x48102f['rating']=_0x48102f[_0x4243f8(0x1a3)]),console['log'](_0x4243f8(0x1db)+_0x559c78+_0x4243f8(0x1c0)+_0x48102f[_0x4243f8(0x1a3)]+',\x20Position\x20'+_0x48102f[_0x4243f8(0x1d1)]),_0x48102f;}catch(_0x2cc983){return console[_0x4243f8(0x1b8)]('Error\x20getting\x20player\x20data\x20for\x20'+_0x559c78+':',_0x2cc983),null;}}async['getPlayerRibbonsCached'](_0x6ec16c,_0x14aae0){const _0x2a55c6=a51_0x2b20d0;try{const _0x1a3e6c='playerRibbons'+(_0x14aae0==='D1'?'':_0x14aae0),_0x3a7169=doc(db,_0x1a3e6c,_0x6ec16c),_0x4e0fdb=await getDoc(_0x3a7169);return _0x4e0fdb[_0x2a55c6(0x187)]()?_0x4e0fdb['data']()['ribbons']||{}:{};}catch(_0x15ace9){return console['error'](_0x2a55c6(0x18a),_0x15ace9),{};}}async['savePlayerRibbonsOptimized'](_0x20079b,_0x230276,_0x351603){const _0x4a1ada=a51_0x2b20d0;try{const _0x3d4867='playerRibbons'+(_0x351603==='D1'?'':_0x351603),_0x3da5b5=doc(db,_0x3d4867,_0x20079b),_0x5aa2da=await this[_0x4a1ada(0x1df)](_0x20079b,_0x351603),_0x1ab993={..._0x5aa2da,..._0x230276};await setDoc(_0x3da5b5,{'username':_0x20079b,'ladder':_0x351603,'ribbons':_0x1ab993,'lastUpdated':new Date()},{'merge':!![]});}catch(_0x547d4d){console['error']('Error\x20saving\x20ribbons:',_0x547d4d);}}['evaluateOverachieverRibbonFromCount'](_0x10a47c,_0x1a754e){const _0x30cd5f=a51_0x2b20d0,_0x43669a=_0x1a754e[_0x30cd5f(0x1ff)]||{'level':0x0},_0x3a9a5c=RIBBON_DEFINITIONS['Overachiever\x20Ribbon'][_0x30cd5f(0x186)],_0x4aebf7=_0x3a9a5c['findIndex'](_0x38b056=>_0x10a47c<_0x38b056),_0xfbc5a5=_0x4aebf7===-0x1?_0x3a9a5c['length']:_0x4aebf7;if(_0xfbc5a5>_0x43669a['level'])return{'level':_0xfbc5a5,'awardedAt':new Date()};return null;}[a51_0x2b20d0(0x19f)](_0x40d9b8,_0x35d87e){const _0x59435f=a51_0x2b20d0;if(_0x40d9b8===0x0)return null;const _0x2c7a8d=_0x35d87e['Rematch\x20Ribbon']||{'level':0x0};if(_0x40d9b8>_0x2c7a8d[_0x59435f(0x1a2)])return{'level':_0x40d9b8,'awardedAt':new Date()};return null;}['evaluateSubGamerRibbonFromCount'](_0x33c5d0,_0x511ad2){const _0x40c6d0=a51_0x2b20d0,_0x4cab70=_0x511ad2['Sub-Gamer\x20Ribbon']||{'level':0x0},_0x25e6bf=RIBBON_DEFINITIONS['Sub-Gamer\x20Ribbon']['levels'],_0x4120ba=_0x25e6bf['findIndex'](_0x393926=>_0x33c5d0<_0x393926),_0x28a671=_0x4120ba===-0x1?_0x25e6bf[_0x40c6d0(0x1f2)]:_0x4120ba;if(_0x28a671>_0x4cab70[_0x40c6d0(0x1a2)])return{'level':_0x28a671,'awardedAt':new Date()};return null;}['evaluateExplorerRibbonFromCount'](_0x586c52,_0x5e320c){const _0x2ffddc=a51_0x2b20d0,_0xd89075=_0x5e320c['Explorer\x20Ribbon']||{'level':0x0},_0x3e7c96=RIBBON_DEFINITIONS['Explorer\x20Ribbon'][_0x2ffddc(0x186)],_0x49936=_0x3e7c96['findIndex'](_0x142a97=>_0x586c52<_0x142a97),_0x4949f1=_0x49936===-0x1?_0x3e7c96['length']:_0x49936;if(_0x4949f1>_0xd89075['level'])return{'level':_0x4949f1,'awardedAt':new Date()};return null;}['evaluateSocialiteRibbonFromCount'](_0x912696,_0x2ea284){const _0x183448=a51_0x2b20d0,_0x2a9639=_0x2ea284['Socialite\x20Ribbon']||{'level':0x0},_0x2165fc=RIBBON_DEFINITIONS[_0x183448(0x1b2)][_0x183448(0x186)],_0x17cb2c=_0x2165fc[_0x183448(0x1e3)](_0x2f3a2d=>_0x912696<_0x2f3a2d),_0x6ab8f1=_0x17cb2c===-0x1?_0x2165fc['length']:_0x17cb2c;if(_0x6ab8f1>_0x2a9639['level'])return{'level':_0x6ab8f1,'awardedAt':new Date()};return null;}[a51_0x2b20d0(0x1fc)](_0x4f73f8,_0x890248,_0xae58bf){const _0x13429a=a51_0x2b20d0;if(_0xae58bf<0x32)return console['log'](_0x13429a(0x1a4)+_0xae58bf+')'),null;const _0x323fe9=_0x890248[_0x13429a(0x202)]||{'level':0x0},_0x1147c2=RIBBON_DEFINITIONS[_0x13429a(0x202)]['levels'],_0x5b6694=_0x1147c2['findIndex'](_0x107919=>_0x4f73f8<_0x107919),_0x384471=_0x5b6694===-0x1?_0x1147c2['length']:_0x5b6694;if(_0x384471>_0x323fe9['level'])return console['log']('üèÜ\x20Brick\x20Wall\x20ribbon\x20awarded:\x20'+_0x4f73f8[_0x13429a(0x1ee)](0x1)+'%\x20win\x20rate\x20over\x20'+_0xae58bf+'\x20matches'),{'level':_0x384471,'awardedAt':new Date(),'winRate':_0x4f73f8,'matchesPlayed':_0xae58bf};return null;}['evaluateCollectorRibbonFromCount'](_0x4e85b0,_0x551ace){const _0xb66b48=a51_0x2b20d0,_0x50e51e=_0x551ace['Collector\x20Ribbon']||{'level':0x0},_0x2778e3=RIBBON_DEFINITIONS['Collector\x20Ribbon']['levels'],_0x32e2f4=_0x2778e3['findIndex'](_0xfedfff=>_0x4e85b0<_0xfedfff),_0x51715e=_0x32e2f4===-0x1?_0x2778e3[_0xb66b48(0x1f2)]:_0x32e2f4;if(_0x51715e>_0x50e51e['level'])return{'level':_0x51715e,'awardedAt':new Date()};return null;}[a51_0x2b20d0(0x1ae)](_0x2563d0,_0xcadcc8){const _0x1e9692=a51_0x2b20d0;if(_0x2563d0===0x0)return null;const _0x4bce83=_0xcadcc8['Underdog\x20Ribbon']||{'level':0x0},_0x141e2f=RIBBON_DEFINITIONS['Underdog\x20Ribbon'][_0x1e9692(0x186)];let _0x56af31=0x0;for(let _0x565b0d=0x0;_0x565b0d<_0x141e2f['length'];_0x565b0d++){if(_0x2563d0>=_0x141e2f[_0x565b0d])_0x56af31=_0x565b0d+0x1;else break;}if(_0x56af31>_0x4bce83[_0x1e9692(0x1a2)])return console['log']('üèÜ\x20Underdog\x20Ribbon\x20upgrade:\x20Level\x20'+_0x4bce83[_0x1e9692(0x1a2)]+'\x20‚Üí\x20'+_0x56af31+'\x20('+_0x2563d0+'\x20underdog\x20wins)'),{'level':_0x56af31,'awardedAt':new Date()};return null;}}function getPlayerRankTier(_0x456de7){if(_0x456de7===undefined||_0x456de7===null)return 0x0;const _0x57a797=Number(_0x456de7);if(isNaN(_0x57a797))return 0x0;if(_0x57a797>=0x7d0)return 0x4;if(_0x57a797>=0x708)return 0x3;if(_0x57a797>=0x640)return 0x2;if(_0x57a797>=0x578)return 0x1;return 0x0;}function getRankTierName(_0x4706ad){const _0x48b1d8=a51_0x2b20d0,_0x182277=['Unranked',_0x48b1d8(0x1e2),'Silver','Gold',_0x48b1d8(0x1e6)];return _0x182277[_0x4706ad]||_0x48b1d8(0x195);}const ribbonSystem=new RibbonSystem(),ribbonCache=new RibbonCacheManager(),matchCache=new MatchCacheManager();typeof window!=='undefined'&&(window['getRibbonCacheStats']=()=>{return{'ribbon':ribbonCache['getCacheStats'](),'match':matchCache['getCacheStats']()};});export async function evaluatePlayerRibbons(_0x3b753a,_0x151d5f='D1'){return await ribbonSystem['evaluateAllRibbonsForPlayerOptimized'](_0x3b753a,_0x151d5f);}export function getRibbonHTML(_0xbbc7e8,_0x3e3332){const _0x4d930f=a51_0x2b20d0,_0x32b160=RIBBON_DEFINITIONS[_0xbbc7e8];if(!_0x32b160)return'';const _0x7b401c=_0x3e3332['level']||0x1,_0x327589=_0xbbc7e8['replace']('\x20Ribbon','')['replace']('\x20Badge',''),_0x1436d0=_0x206c3d=>{const _0xba9c06=a51_0x1ea3;if(_0x206c3d<=0x1)return _0xba9c06(0x1d5);if(_0x206c3d<=0x2)return _0xba9c06(0x1a0);if(_0x206c3d<=0x3)return'level-3';if(_0x206c3d<=0x4)return _0xba9c06(0x1e1);return'level-5-plus';},_0x1b2130=_0x114d4b=>{const _0x4dcd2e=a51_0x1ea3;if(_0x114d4b<=0x1)return'';const _0x13d836=[];if(_0x114d4b>=0x2&&_0x114d4b<=0x4){const _0x5f2335=Math[_0x4dcd2e(0x1d9)](_0x114d4b-0x1,0x3);for(let _0x1bee38=0x0;_0x1bee38<_0x5f2335;_0x1bee38++){_0x13d836[_0x4dcd2e(0x192)]('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>');}}if(_0x114d4b>=0x5&&_0x114d4b<=0x7){_0x13d836[_0x4dcd2e(0x192)]('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20silver-star\x22></i>');const _0xd72874=Math[_0x4dcd2e(0x1d9)](_0x114d4b-0x5,0x2);for(let _0x5c4728=0x0;_0x5c4728<_0xd72874;_0x5c4728++){_0x13d836['push']('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20bronze-star\x22></i>');}}return _0x114d4b>=0x8&&_0x13d836[_0x4dcd2e(0x192)]('<i\x20class=\x22fas\x20fa-star\x20ribbon-device\x20gold-star\x22></i>'),_0x13d836['length']>0x0?_0x4dcd2e(0x1bd)+_0x13d836['join']('')+_0x4dcd2e(0x1af):'';},_0x6e8250=_0x32b160[_0x4d930f(0x203)]+'\x20-\x20Level\x20'+_0x7b401c;return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22military-ribbon\x22\x20data-tooltip=\x22'+_0x6e8250+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-image-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22'+_0x32b160['image']+_0x4d930f(0x1b6)+_0xbbc7e8+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22ribbon-image\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27;\x20this.nextElementSibling.style.display=\x27block\x27;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-fallback\x22\x20style=\x22display:\x20none;\x20background:\x20'+_0x32b160['color']+';\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x327589['substring'](0x0,0x6)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1b2130(_0x7b401c)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ribbon-name\x22>'+_0x327589+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x7b401c>0x1?_0x4d930f(0x1ea)+_0x1436d0(_0x7b401c)+'\x22>'+_0x7b401c+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}