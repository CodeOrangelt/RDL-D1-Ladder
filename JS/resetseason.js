const a49_0x1d6caa=(function(){let _0x56bc94=!![];return function(_0x453285,_0x2a59c1){const _0x17e5f4=_0x56bc94?function(){if(_0x2a59c1){const _0x57861c=_0x2a59c1['apply'](_0x453285,arguments);return _0x2a59c1=null,_0x57861c;}}:function(){};return _0x56bc94=![],_0x17e5f4;};}()),a49_0x50df13=a49_0x1d6caa(this,function(){const _0x55574f=a49_0x142a,_0x45e205=function(){const _0x11517a=a49_0x142a;let _0x2a8d9b;try{_0x2a8d9b=Function(_0x11517a(0x119)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0xf00dd2){_0x2a8d9b=window;}return _0x2a8d9b;},_0x41985c=_0x45e205(),_0x9d9ba2=_0x41985c['console']=_0x41985c['console']||{},_0x51c598=['log','warn','info','error',_0x55574f(0x11b),'table','trace'];for(let _0x56fb57=0x0;_0x56fb57<_0x51c598['length'];_0x56fb57++){const _0x271694=a49_0x1d6caa['constructor']['prototype']['bind'](a49_0x1d6caa),_0xaec196=_0x51c598[_0x56fb57],_0x26f3d7=_0x9d9ba2[_0xaec196]||_0x271694;_0x271694[_0x55574f(0x11f)]=a49_0x1d6caa['bind'](a49_0x1d6caa),_0x271694[_0x55574f(0x11c)]=_0x26f3d7['toString'][_0x55574f(0x117)](_0x26f3d7),_0x9d9ba2[_0xaec196]=_0x271694;}});function a49_0x37ab(){const _0x414c44=['bind','Error\x20archiving\x20records:','return\x20(function()\x20','docs','exception','toString','snapshot','desc','__proto__'];a49_0x37ab=function(){return _0x414c44;};return a49_0x37ab();}a49_0x50df13();import{db}from'./firebase-config.js';import{collection,getDocs,setDoc,doc,query,orderBy}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';function a49_0x142a(_0x19d3d,_0x29eff5){const _0x50df13=a49_0x37ab();return a49_0x142a=function(_0x1d6caa,_0x3fbd2d){_0x1d6caa=_0x1d6caa-0x117;let _0x37abee=_0x50df13[_0x1d6caa];return _0x37abee;},a49_0x142a(_0x19d3d,_0x29eff5);}async function archiveSeason0(){const _0x361a8a=a49_0x142a;try{const _0x276c9d=await getDocs(collection(db,'players'));for(const _0x185d68 of _0x276c9d[_0x361a8a(0x11a)]){const _0x47e2ff=_0x185d68['data']();await setDoc(doc(db,'season0',_0x185d68['id']),{..._0x47e2ff,'archivedAt':new Date(),'originalId':_0x185d68['id']});}return console['log']('Successfully\x20archived\x20players\x20to\x20season0'),!![];}catch(_0x5cb4bd){console['error']('Error\x20archiving\x20season:',_0x5cb4bd);throw _0x5cb4bd;}}async function archiveRecords(){const _0xf95b9b=a49_0x142a;try{const _0x30662e=collection(db,'records'),_0x3716b7=query(_0x30662e,orderBy('wins',_0xf95b9b(0x11e))),_0x30ea8c=await getDocs(_0x3716b7),_0x29ae04=[];return _0x30ea8c['forEach'](_0x572460=>{const _0x4b196c=_0x572460['data']();_0x29ae04['push']({'username':_0x4b196c['username'],'wins':_0x4b196c['wins']||0x0,'losses':_0x4b196c['losses']||0x0,'winRate':_0x4b196c['winRate']||0x0,'timestamp':new Date()});}),await setDoc(doc(db,'season0records',_0xf95b9b(0x11d)),{'records':_0x29ae04,'archivedAt':new Date()}),console['log']('Successfully\x20archived\x20records'),!![];}catch(_0xca3b73){console['error'](_0xf95b9b(0x118),_0xca3b73);throw _0xca3b73;}}export{archiveSeason0,archiveRecords};