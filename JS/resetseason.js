const a50_0x3f7395=(function(){let _0x5c332c=!![];return function(_0x43a02b,_0xa6fa48){const _0x512ef6=_0x5c332c?function(){const _0x5afd23=a50_0x4823;if(_0xa6fa48){const _0x1981be=_0xa6fa48[_0x5afd23(0x146)](_0x43a02b,arguments);return _0xa6fa48=null,_0x1981be;}}:function(){};return _0x5c332c=![],_0x512ef6;};}()),a50_0x5f2673=a50_0x3f7395(this,function(){const _0x348765=a50_0x4823;let _0x1551a4;try{const _0x9f80f7=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x1551a4=_0x9f80f7();}catch(_0x2d4c1f){_0x1551a4=window;}const _0x133ccb=_0x1551a4['console']=_0x1551a4['console']||{},_0x541b15=[_0x348765(0x152),'warn','info',_0x348765(0x147),_0x348765(0x14a),'table',_0x348765(0x150)];for(let _0x47cade=0x0;_0x47cade<_0x541b15['length'];_0x47cade++){const _0x23984b=a50_0x3f7395['constructor']['prototype'][_0x348765(0x148)](a50_0x3f7395),_0x5627d5=_0x541b15[_0x47cade],_0x3f3898=_0x133ccb[_0x5627d5]||_0x23984b;_0x23984b['__proto__']=a50_0x3f7395['bind'](a50_0x3f7395),_0x23984b[_0x348765(0x14e)]=_0x3f3898['toString']['bind'](_0x3f3898),_0x133ccb[_0x5627d5]=_0x23984b;}});function a50_0x4823(_0x213081,_0x3a3f4c){const _0x5f2673=a50_0x3fe4();return a50_0x4823=function(_0x3f7395,_0x156ea2){_0x3f7395=_0x3f7395-0x144;let _0x3fe4cb=_0x5f2673[_0x3f7395];return _0x3fe4cb;},a50_0x4823(_0x213081,_0x3a3f4c);}a50_0x5f2673();import{db}from'./firebase-config.js';import{collection,getDocs,setDoc,doc,query,orderBy}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';async function archiveSeason0(){const _0x2bf514=a50_0x4823;try{const _0xd2e19a=await getDocs(collection(db,_0x2bf514(0x14b)));for(const _0x4203cf of _0xd2e19a[_0x2bf514(0x14c)]){const _0x5ebf37=_0x4203cf['data']();await setDoc(doc(db,_0x2bf514(0x14d),_0x4203cf['id']),{..._0x5ebf37,'archivedAt':new Date(),'originalId':_0x4203cf['id']});}return console['log'](_0x2bf514(0x144)),!![];}catch(_0x5dcb51){console['error'](_0x2bf514(0x151),_0x5dcb51);throw _0x5dcb51;}}function a50_0x3fe4(){const _0x2b59ae=['Successfully\x20archived\x20players\x20to\x20season0','winRate','apply','error','bind','records','exception','players','docs','season0','toString','season0records','trace','Error\x20archiving\x20season:','log'];a50_0x3fe4=function(){return _0x2b59ae;};return a50_0x3fe4();}async function archiveRecords(){const _0x19b2bd=a50_0x4823;try{const _0x3e7a2c=collection(db,_0x19b2bd(0x149)),_0x402ede=query(_0x3e7a2c,orderBy('wins','desc')),_0x497456=await getDocs(_0x402ede),_0x31ee44=[];return _0x497456['forEach'](_0x54b6a7=>{const _0x4a1eed=_0x19b2bd,_0x1fc868=_0x54b6a7['data']();_0x31ee44['push']({'username':_0x1fc868['username'],'wins':_0x1fc868['wins']||0x0,'losses':_0x1fc868['losses']||0x0,'winRate':_0x1fc868[_0x4a1eed(0x145)]||0x0,'timestamp':new Date()});}),await setDoc(doc(db,_0x19b2bd(0x14f),'snapshot'),{'records':_0x31ee44,'archivedAt':new Date()}),console[_0x19b2bd(0x152)]('Successfully\x20archived\x20records'),!![];}catch(_0x590802){console['error']('Error\x20archiving\x20records:',_0x590802);throw _0x590802;}}export{archiveSeason0,archiveRecords};